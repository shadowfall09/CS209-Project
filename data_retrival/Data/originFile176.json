{"items":[{"tags":["java","spring","hibernate","uuidgenerator"],"answers":[{"tags":[],"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695108086,"creation_date":1695108086,"answer_id":77132434,"question_id":77128492,"body_markdown":"I really suggest you to use ` @UuidGenerator` instead of \r\n\r\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;UUID&quot;)\r\n    @GenericGenerator(name = &quot;UUID&quot;, type = org.hibernate.id.uuid.UuidGenerator.class)\r\n\r\nSomething like this:\r\n\r\n      @Id\r\n      @UuidGenerator\r\n      private UUID id; // or String\r\n\r\nBecause if you are going to check `java docs` of the annotation you will see that `@UuidGenerator` use \r\n`@IdGeneratorType( org.hibernate.id.uuid.UuidGenerator.class )` that you need. \r\n\r\nAbout the problem i really dont know where can be the problem but the solution that i suggest will help you to do this replacement also  when specifying `@UuidGenerator`, we can choose the concrete version of UUID to generate.\r\n\r\nAnd also some motivation to use it is described into [8.5. User-defined generators][1] \r\n\r\n&gt; These APIs are new in Hibernate 6, and supersede the classic IdentifierGenerator interface and @GenericGenerator annotation from older versions of Hibernate.\r\n&gt; \r\n&gt; @UuidGenerator A more flexible generator for [RFC 4122][2] UUIDs\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/6.3/introduction/html_single/Hibernate_Introduction.html\r\n  [2]: https://www.ietf.org/rfc/rfc4122.txt","title":"UuidGenerator Bean Type Mismatch?","body":"<p>I really suggest you to use <code> @UuidGenerator</code> instead of</p>\n<pre><code>@GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;UUID&quot;)\n@GenericGenerator(name = &quot;UUID&quot;, type = org.hibernate.id.uuid.UuidGenerator.class)\n</code></pre>\n<p>Something like this:</p>\n<pre><code>  @Id\n  @UuidGenerator\n  private UUID id; // or String\n</code></pre>\n<p>Because if you are going to check <code>java docs</code> of the annotation you will see that <code>@UuidGenerator</code> use\n<code>@IdGeneratorType( org.hibernate.id.uuid.UuidGenerator.class )</code> that you need.</p>\n<p>About the problem i really dont know where can be the problem but the solution that i suggest will help you to do this replacement also  when specifying <code>@UuidGenerator</code>, we can choose the concrete version of UUID to generate.</p>\n<p>And also some motivation to use it is described into <a href=\"https://docs.jboss.org/hibernate/orm/6.3/introduction/html_single/Hibernate_Introduction.html\" rel=\"nofollow noreferrer\">8.5. User-defined generators</a></p>\n<blockquote>\n<p>These APIs are new in Hibernate 6, and supersede the classic IdentifierGenerator interface and @GenericGenerator annotation from older versions of Hibernate.</p>\n<p>@UuidGenerator A more flexible generator for <a href=\"https://www.ietf.org/rfc/rfc4122.txt\" rel=\"nofollow noreferrer\">RFC 4122</a> UUIDs</p>\n</blockquote>\n"}],"owner":{"account_id":20251935,"reputation":6409,"user_id":14852784,"display_name":"J. M. Arnold"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":512,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77132434,"answer_count":1,"score":2,"last_activity_date":1695108086,"creation_date":1695050916,"question_id":77128492,"body_markdown":"Because [`strategy`][1] and [`UUIDGenerator`][2] is deprecated, this is the new UUID Generator:\r\n\r\n    @GenericGenerator(\r\n                name = &quot;UUID&quot;, \r\n                type = org.hibernate.id.uuid.UuidGenerator.class\r\n        )\r\n\r\nWhen using this, I get the following error:\r\n\r\n&gt; Parameter 0 of constructor in org.hibernate.id.uuid.UuidGenerator\r\n&gt; required a bean of type &#39;org.hibernate.annotations.UuidGenerator&#39; that\r\n&gt; could not be found\r\n\r\nI wasn&#39;t able to find anything corresponding to this in the [documentation][3].\r\n\r\nFor full disclosure, this is the whole annotation block used:\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;UUID&quot;)\r\n    @GenericGenerator(name = &quot;UUID&quot;, type = org.hibernate.id.uuid.UuidGenerator.class)\r\n    @Column(...)\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/6.2/javadocs/org/hibernate/annotations/GenericGenerator.html#strategy()\r\n  [2]: https://docs.jboss.org/hibernate/orm/6.0/javadocs/org/hibernate/id/UUIDGenerator.html\r\n  [3]: https://docs.jboss.org/hibernate/orm/6.0/javadocs/org/hibernate/id/uuid/UuidGenerator.html","title":"UuidGenerator Bean Type Mismatch?","body":"<p>Because <a href=\"https://docs.jboss.org/hibernate/orm/6.2/javadocs/org/hibernate/annotations/GenericGenerator.html#strategy()\" rel=\"nofollow noreferrer\"><code>strategy</code></a> and <a href=\"https://docs.jboss.org/hibernate/orm/6.0/javadocs/org/hibernate/id/UUIDGenerator.html\" rel=\"nofollow noreferrer\"><code>UUIDGenerator</code></a> is deprecated, this is the new UUID Generator:</p>\n<pre><code>@GenericGenerator(\n            name = &quot;UUID&quot;, \n            type = org.hibernate.id.uuid.UuidGenerator.class\n    )\n</code></pre>\n<p>When using this, I get the following error:</p>\n<blockquote>\n<p>Parameter 0 of constructor in org.hibernate.id.uuid.UuidGenerator\nrequired a bean of type 'org.hibernate.annotations.UuidGenerator' that\ncould not be found</p>\n</blockquote>\n<p>I wasn't able to find anything corresponding to this in the <a href=\"https://docs.jboss.org/hibernate/orm/6.0/javadocs/org/hibernate/id/uuid/UuidGenerator.html\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n<p>For full disclosure, this is the whole annotation block used:</p>\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;UUID&quot;)\n@GenericGenerator(name = &quot;UUID&quot;, type = org.hibernate.id.uuid.UuidGenerator.class)\n@Column(...)\n</code></pre>\n"},{"tags":["java","spring","gradle"],"comments":[{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":0,"creation_date":1695062398,"post_id":77126736,"comment_id":135971247,"body_markdown":"Can you provide your `build.gradle(.kts)` file?","body":"Can you provide your <code>build.gradle(.kts)</code> file?"},{"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"score":0,"creation_date":1695091731,"post_id":77126736,"comment_id":135974499,"body_markdown":"I have pasted my `build.gradle` file.","body":"I have pasted my <code>build.gradle</code> file."}],"answers":[{"tags":[],"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695107245,"creation_date":1695107245,"answer_id":77132343,"question_id":77126736,"body_markdown":"&gt; Could not GET &#39;https://repo.spring.io/release/org/springframework/experimental/spring-native/0.10.0/spring-native-0.10.0.jar&#39;. Received status code 401 from server:\r\n\r\nI couldn&#39;t find a place in your `build.gradle` where you declare a spring repository to get `spring-native`. But the problem is there.\r\n\r\nAccording to the error message (`401 - unauthorized`), you need to provide credentials for a spring repository just as you did for your company&#39;s repositories.\r\n\r\n```gradle\r\nmaven {\r\n    credentials {\r\n        username &quot;&lt;username&gt;&quot;\r\n        password &quot;&lt;password&gt;&quot;\r\n    }\r\n    url &quot;&lt;spring repository url&gt;&quot;\r\n}\r\n```","title":"spring.io download jar Received status code 401 from server","body":"<blockquote>\n<p>Could not GET 'https://repo.spring.io/release/org/springframework/experimental/spring-native/0.10.0/spring-native-0.10.0.jar'. Received status code 401 from server:</p>\n</blockquote>\n<p>I couldn't find a place in your <code>build.gradle</code> where you declare a spring repository to get <code>spring-native</code>. But the problem is there.</p>\n<p>According to the error message (<code>401 - unauthorized</code>), you need to provide credentials for a spring repository just as you did for your company's repositories.</p>\n<pre><code>maven {\n    credentials {\n        username &quot;&lt;username&gt;&quot;\n        password &quot;&lt;password&gt;&quot;\n    }\n    url &quot;&lt;spring repository url&gt;&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695107245,"creation_date":1695035842,"question_id":77126736,"body_markdown":"Today when I refresh the java project which was using gradle as the build tool, shows error:\r\n\r\n\r\n\r\n\r\n    Could not download spring-native-0.10.0.jar (org.springframework.experimental:spring-native:0.10.0)\r\n    Could not get resource &#39;https://repo.spring.io/release/org/springframework/experimental/spring-native/0.10.0/spring-native-0.10.0.jar&#39;.\r\n    Could not GET &#39;https://repo.spring.io/release/org/springframework/experimental/spring-native/0.10.0/spring-native-0.10.0.jar&#39;. Received status code 401 from server:\r\n    \r\n    Possible solution:\r\n     - Declare repository providing the artifact, see the documentation at https://docs.gradle.org/current/userguide/declaring_repositories.html\r\n\r\n\r\n\r\nAm I missing something? what should I do to avoid this issue? It seems to need login to download the jar. BTW, I did not import the `org.springframework.experimental:spring-native:0.10.0` in anywhere of my project. This is the project `build.gradle`:\r\n\r\n\r\n\r\n\r\n    buildscript {\r\n        apply from: &quot;${rootProject.projectDir}/common.gradle&quot;\r\n    \r\n        repositories {\r\n            maven { url &#39;https://maven.aliyun.com/repository/public&#39; }\r\n        }\r\n        dependencies {\r\n            classpath &quot;io.spring.gradle:dependency-management-plugin:1.0.11.RELEASE&quot;\r\n            classpath &quot;gradle.plugin.com.arenagod.gradle:mybatis-generator-plugin:1.4&quot;\r\n        }\r\n    }\r\n    \r\n    plugins {\r\n        id &#39;java&#39;\r\n        id &#39;idea&#39;\r\n        id &#39;java-library&#39;\r\n        id &#39;application&#39;\r\n        id &#39;maven-publish&#39;\r\n        id &quot;org.springframework.boot&quot; version &quot;2.6.7&quot;\r\n        id &quot;io.freefair.lombok&quot; version &quot;6.4.3&quot;\r\n        id &#39;com.github.ayltai.spring-graalvm-native-plugin&#39; version &#39;1.4.10&#39;\r\n        id &quot;org.springdoc.openapi-gradle-plugin&quot; version &quot;1.3.4&quot;\r\n    \r\n    }\r\n    \r\n    apply from: &quot;${rootProject.projectDir}/common.gradle&quot;\r\n    \r\n    subprojects {\r\n        apply plugin: &#39;io.freefair.lombok&#39;\r\n        apply plugin: &#39;java&#39;\r\n        apply plugin: &#39;maven-publish&#39;\r\n        apply plugin: &#39;java-library&#39;\r\n        apply plugin: &quot;idea&quot;\r\n        apply plugin: &quot;io.spring.dependency-management&quot;\r\n        apply plugin: &#39;org.springframework.boot&#39;\r\n        apply plugin: &#39;org.springdoc.openapi-gradle-plugin&#39;\r\n    \r\n    \r\n        configurations.all {\r\n            // exclude group: &quot;ch.qos.logback&quot;, module: &quot;logback-classic&quot;\r\n            // exclude group: &quot;ch.qos.logback&quot;, module: &quot;logback-core&quot;\r\n            exclude group: &quot;org.slf4j&quot;, module: &quot;slf4j-simple&quot;\r\n            /** https://stackoverflow.com/questions/67484542/redis-command-timed-out-nested-exception-is-io-lettuce-core-rediscommandtimeout\r\n             * https://stackoverflow.com/questions/73244405/java-lang-illegalargumentexception-unable-to-find-gatewayfilterfactory-with-nam\r\n             * the spring gateway project needs to using lettuce\r\n             * because the jedis did not support reactive until 2022.08\r\n             * only lettuce support reactive\r\n             * so we should not exclude the lettuce for the whole project\r\n            **/\r\n            // exclude group: &quot;io.lettuce&quot;, module: &quot;lettuce-core&quot;\r\n            /**\r\n             * why exclude the gson?\r\n             * https://github.com/swagger-api/swagger-core/issues/1826\r\n             */\r\n            // exclude group: &quot;com.google.code.gson&quot;, module: &quot;gson&quot;\r\n    \r\n            // check for updates every build\r\n            resolutionStrategy.cacheChangingModulesFor 0, &#39;seconds&#39;\r\n    \r\n            // check for updates every build\r\n            resolutionStrategy.cacheChangingModulesFor 0, &#39;seconds&#39;\r\n    \r\n            resolutionStrategy {\r\n                eachDependency { DependencyResolveDetails details -&gt;\r\n                    if (details.requested.group == &#39;com.github.jsqlparser&#39;) {\r\n                        details.useVersion &quot;2.1&quot;\r\n                    }\r\n                    if (details.requested.group == &#39;redis.clients&#39; &amp;&amp; details.requested.name == &#39;jedis&#39; ) {\r\n                        details.useVersion(&quot;3.8.0&quot;)\r\n                    }\r\n                    if (details.requested.group == &#39;org.springframework.data&#39; &amp;&amp; details.requested.name == &#39;spring-data-redis&#39; ) {\r\n                        details.useVersion(&quot;2.7.2&quot;)\r\n                    }\r\n                    //exclude group: &quot;org.springframework.data&quot;, module: &quot;spring-data-redis&quot;\r\n                    if (details.requested.group == &#39;org.postgresql&#39; &amp;&amp; details.requested.name == &#39;postgresql&#39; ) {\r\n                        details.useVersion(&quot;42.2.23&quot;)\r\n                    }\r\n                    if (details.requested.group == &#39;org.apache.logging.log4j&#39; &amp;&amp; details.requested.name == &#39;log4j-api&#39; ) {\r\n                        details.useVersion(&quot;2.17.0&quot;)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        repositories {\r\n            if (project.hasProperty(&quot;buildEnv&quot;) &amp;&amp; project.getProperties().get(&quot;buildEnv&quot;) == &quot;github&quot;) {\r\n                mavenCentral()\r\n            } else {\r\n                mavenCentral()\r\n            }\r\n        }\r\n    \r\n        dependencies {\r\n            compileOnly &quot;org.projectlombok:lombok:${lombokVersion}&quot;\r\n            annotationProcessor &quot;org.projectlombok:lombok:${lombokVersion}&quot;\r\n            testAnnotationProcessor &quot;org.projectlombok:lombok:${lombokVersion}&quot;\r\n            testImplementation &quot;org.projectlombok:lombok:${lombokVersion}&quot;\r\n            api &quot;$rootProject.ext.dependencies.log4j&quot;\r\n            api &quot;$rootProject.ext.dependencies.collections4&quot;\r\n            api &quot;org.apache.commons:commons-lang3:${commonColleciton3Version}&quot;\r\n            implementation &quot;$rootProject.ext.dependencies.mybatisGeneratorCore&quot;\r\n            implementation &quot;$rootProject.ext.dependencies.itfswMybatisGeneratorPlugin&quot;\r\n            testImplementation group: &#39;org.testng&#39;, name: &#39;testng&#39;, version: &#39;7.4.0&#39;\r\n        }\r\n    \r\n        dependencyManagement {\r\n            imports {\r\n                mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:$rootProject.ext.version.springCloudVersion&quot;\r\n            }\r\n        }\r\n    }\r\n    \r\n    allprojects {\r\n        sourceCompatibility = 11\r\n        targetCompatibility = 11\r\n        def defaultEncoding = &#39;UTF-8&#39;\r\n        compileJava {\r\n            options.encoding = defaultEncoding\r\n        }\r\n        compileTestJava {\r\n            options.encoding = defaultEncoding\r\n        }\r\n        tasks.withType(JavaCompile) {\r\n            options.encoding = &#39;UTF-8&#39;\r\n        }\r\n    \r\n        /**\r\n         * remove aliyun repo config from ~/.gradle/init.gradle into project\r\n         * avoid to force other project in machine use aliyun\r\n         * some international project could not fetch dependencies from aliyun\r\n         */\r\n        repositories {\r\n            def PROXY_REPOSITORY_URL = &#39;https://maven.aliyun.com/nexus/content/groups/public&#39;\r\n            all { ArtifactRepository repo -&gt;\r\n                if(repo instanceof MavenArtifactRepository){\r\n                    def url = repo.url.toString()\r\n                    if (url.startsWith(&#39;https://repo1.maven.org/maven2&#39;)) {\r\n                        project.logger.lifecycle &quot;Repository ${repo.url} replaced by $PROXY_REPOSITORY_URL.&quot;\r\n                        remove repo\r\n                    }\r\n                }\r\n            }\r\n            maven {\r\n                url PROXY_REPOSITORY_URL\r\n            }\r\n            /****** Release Repo ********/\r\n            maven {\r\n                credentials {\r\n                    username System.getenv(&quot;ALIYUN_REPO_USERNAME&quot;)\r\n                    password System.getenv(&quot;ALIYUN_REPO_PASSWORD&quot;)\r\n                }\r\n                url &#39;https://packages.aliyun.com/maven/repository/2236707-release-REsSq7/&#39;\r\n            }\r\n            /****** Snapshot Repo ********/\r\n            maven {\r\n                credentials {\r\n                    username System.getenv(&quot;ALIYUN_DOCKER_REPO_USER_NAME&quot;)\r\n                    password System.getenv(&quot;ALIYUN_DOCKER_REPO_USER_PASSWORD&quot;)\r\n                }\r\n                url &#39;https://packages.aliyun.com/maven/repository/2236707-snapshot-lUlWG7/&#39;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"spring.io download jar Received status code 401 from server","body":"<p>Today when I refresh the java project which was using gradle as the build tool, shows error:</p>\n<pre><code>Could not download spring-native-0.10.0.jar (org.springframework.experimental:spring-native:0.10.0)\nCould not get resource 'https://repo.spring.io/release/org/springframework/experimental/spring-native/0.10.0/spring-native-0.10.0.jar'.\nCould not GET 'https://repo.spring.io/release/org/springframework/experimental/spring-native/0.10.0/spring-native-0.10.0.jar'. Received status code 401 from server:\n\nPossible solution:\n - Declare repository providing the artifact, see the documentation at https://docs.gradle.org/current/userguide/declaring_repositories.html\n</code></pre>\n<p>Am I missing something? what should I do to avoid this issue? It seems to need login to download the jar. BTW, I did not import the <code>org.springframework.experimental:spring-native:0.10.0</code> in anywhere of my project. This is the project <code>build.gradle</code>:</p>\n<pre><code>buildscript {\n    apply from: &quot;${rootProject.projectDir}/common.gradle&quot;\n\n    repositories {\n        maven { url 'https://maven.aliyun.com/repository/public' }\n    }\n    dependencies {\n        classpath &quot;io.spring.gradle:dependency-management-plugin:1.0.11.RELEASE&quot;\n        classpath &quot;gradle.plugin.com.arenagod.gradle:mybatis-generator-plugin:1.4&quot;\n    }\n}\n\nplugins {\n    id 'java'\n    id 'idea'\n    id 'java-library'\n    id 'application'\n    id 'maven-publish'\n    id &quot;org.springframework.boot&quot; version &quot;2.6.7&quot;\n    id &quot;io.freefair.lombok&quot; version &quot;6.4.3&quot;\n    id 'com.github.ayltai.spring-graalvm-native-plugin' version '1.4.10'\n    id &quot;org.springdoc.openapi-gradle-plugin&quot; version &quot;1.3.4&quot;\n\n}\n\napply from: &quot;${rootProject.projectDir}/common.gradle&quot;\n\nsubprojects {\n    apply plugin: 'io.freefair.lombok'\n    apply plugin: 'java'\n    apply plugin: 'maven-publish'\n    apply plugin: 'java-library'\n    apply plugin: &quot;idea&quot;\n    apply plugin: &quot;io.spring.dependency-management&quot;\n    apply plugin: 'org.springframework.boot'\n    apply plugin: 'org.springdoc.openapi-gradle-plugin'\n\n\n    configurations.all {\n        // exclude group: &quot;ch.qos.logback&quot;, module: &quot;logback-classic&quot;\n        // exclude group: &quot;ch.qos.logback&quot;, module: &quot;logback-core&quot;\n        exclude group: &quot;org.slf4j&quot;, module: &quot;slf4j-simple&quot;\n        /** https://stackoverflow.com/questions/67484542/redis-command-timed-out-nested-exception-is-io-lettuce-core-rediscommandtimeout\n         * https://stackoverflow.com/questions/73244405/java-lang-illegalargumentexception-unable-to-find-gatewayfilterfactory-with-nam\n         * the spring gateway project needs to using lettuce\n         * because the jedis did not support reactive until 2022.08\n         * only lettuce support reactive\n         * so we should not exclude the lettuce for the whole project\n        **/\n        // exclude group: &quot;io.lettuce&quot;, module: &quot;lettuce-core&quot;\n        /**\n         * why exclude the gson?\n         * https://github.com/swagger-api/swagger-core/issues/1826\n         */\n        // exclude group: &quot;com.google.code.gson&quot;, module: &quot;gson&quot;\n\n        // check for updates every build\n        resolutionStrategy.cacheChangingModulesFor 0, 'seconds'\n\n        // check for updates every build\n        resolutionStrategy.cacheChangingModulesFor 0, 'seconds'\n\n        resolutionStrategy {\n            eachDependency { DependencyResolveDetails details -&gt;\n                if (details.requested.group == 'com.github.jsqlparser') {\n                    details.useVersion &quot;2.1&quot;\n                }\n                if (details.requested.group == 'redis.clients' &amp;&amp; details.requested.name == 'jedis' ) {\n                    details.useVersion(&quot;3.8.0&quot;)\n                }\n                if (details.requested.group == 'org.springframework.data' &amp;&amp; details.requested.name == 'spring-data-redis' ) {\n                    details.useVersion(&quot;2.7.2&quot;)\n                }\n                //exclude group: &quot;org.springframework.data&quot;, module: &quot;spring-data-redis&quot;\n                if (details.requested.group == 'org.postgresql' &amp;&amp; details.requested.name == 'postgresql' ) {\n                    details.useVersion(&quot;42.2.23&quot;)\n                }\n                if (details.requested.group == 'org.apache.logging.log4j' &amp;&amp; details.requested.name == 'log4j-api' ) {\n                    details.useVersion(&quot;2.17.0&quot;)\n                }\n            }\n        }\n    }\n\n    repositories {\n        if (project.hasProperty(&quot;buildEnv&quot;) &amp;&amp; project.getProperties().get(&quot;buildEnv&quot;) == &quot;github&quot;) {\n            mavenCentral()\n        } else {\n            mavenCentral()\n        }\n    }\n\n    dependencies {\n        compileOnly &quot;org.projectlombok:lombok:${lombokVersion}&quot;\n        annotationProcessor &quot;org.projectlombok:lombok:${lombokVersion}&quot;\n        testAnnotationProcessor &quot;org.projectlombok:lombok:${lombokVersion}&quot;\n        testImplementation &quot;org.projectlombok:lombok:${lombokVersion}&quot;\n        api &quot;$rootProject.ext.dependencies.log4j&quot;\n        api &quot;$rootProject.ext.dependencies.collections4&quot;\n        api &quot;org.apache.commons:commons-lang3:${commonColleciton3Version}&quot;\n        implementation &quot;$rootProject.ext.dependencies.mybatisGeneratorCore&quot;\n        implementation &quot;$rootProject.ext.dependencies.itfswMybatisGeneratorPlugin&quot;\n        testImplementation group: 'org.testng', name: 'testng', version: '7.4.0'\n    }\n\n    dependencyManagement {\n        imports {\n            mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:$rootProject.ext.version.springCloudVersion&quot;\n        }\n    }\n}\n\nallprojects {\n    sourceCompatibility = 11\n    targetCompatibility = 11\n    def defaultEncoding = 'UTF-8'\n    compileJava {\n        options.encoding = defaultEncoding\n    }\n    compileTestJava {\n        options.encoding = defaultEncoding\n    }\n    tasks.withType(JavaCompile) {\n        options.encoding = 'UTF-8'\n    }\n\n    /**\n     * remove aliyun repo config from ~/.gradle/init.gradle into project\n     * avoid to force other project in machine use aliyun\n     * some international project could not fetch dependencies from aliyun\n     */\n    repositories {\n        def PROXY_REPOSITORY_URL = 'https://maven.aliyun.com/nexus/content/groups/public'\n        all { ArtifactRepository repo -&gt;\n            if(repo instanceof MavenArtifactRepository){\n                def url = repo.url.toString()\n                if (url.startsWith('https://repo1.maven.org/maven2')) {\n                    project.logger.lifecycle &quot;Repository ${repo.url} replaced by $PROXY_REPOSITORY_URL.&quot;\n                    remove repo\n                }\n            }\n        }\n        maven {\n            url PROXY_REPOSITORY_URL\n        }\n        /****** Release Repo ********/\n        maven {\n            credentials {\n                username System.getenv(&quot;ALIYUN_REPO_USERNAME&quot;)\n                password System.getenv(&quot;ALIYUN_REPO_PASSWORD&quot;)\n            }\n            url 'https://packages.aliyun.com/maven/repository/2236707-release-REsSq7/'\n        }\n        /****** Snapshot Repo ********/\n        maven {\n            credentials {\n                username System.getenv(&quot;ALIYUN_DOCKER_REPO_USER_NAME&quot;)\n                password System.getenv(&quot;ALIYUN_DOCKER_REPO_USER_PASSWORD&quot;)\n            }\n            url 'https://packages.aliyun.com/maven/repository/2236707-snapshot-lUlWG7/'\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","json","spring","jackson"],"comments":[{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":0,"creation_date":1623426851,"post_id":67939740,"comment_id":120084778,"body_markdown":"How does OptionTypeIdResolver looks like?","body":"How does OptionTypeIdResolver looks like?"},{"owner":{"account_id":472636,"reputation":15,"user_id":881217,"display_name":"vinnar"},"score":0,"creation_date":1623428750,"post_id":67939740,"comment_id":120085518,"body_markdown":"@notescrew - added the definition","body":"@notescrew - added the definition"}],"answers":[{"tags":[],"owner":{"account_id":21602575,"reputation":81,"user_id":15930440,"display_name":"RoundedHouse"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623429082,"creation_date":1623429082,"answer_id":67940539,"question_id":67939740,"body_markdown":"Map&lt;String,Option&gt;\r\n\r\n    String = key\r\n    Option = Object\r\n    would be in this json format\r\n    {\r\n      &quot;String&quot;:{\r\n           //option object definition here\r\n      }\r\n    }\r\n\r\nYour **&quot;options&quot;** field in this case is  taking a **List&lt;Map&lt;String,Option&gt;&gt;**  but not **Map&lt;String,Option&gt;** which is defined in your **[Project entity table]**\r\n","title":"JSON representation of Map&lt;String, Object&gt;","body":"<p>Map&lt;String,Option&gt;</p>\n<pre><code>String = key\nOption = Object\nwould be in this json format\n{\n  &quot;String&quot;:{\n       //option object definition here\n  }\n}\n</code></pre>\n<p>Your <strong>&quot;options&quot;</strong> field in this case is  taking a <strong>List&lt;Map&lt;String,Option&gt;&gt;</strong>  but not <strong>Map&lt;String,Option&gt;</strong> which is defined in your <strong>[Project entity table]</strong></p>\n"}],"owner":{"account_id":472636,"reputation":15,"user_id":881217,"display_name":"vinnar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":622,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695107127,"creation_date":1623425482,"question_id":67939740,"body_markdown":"I have been provided an API endpoint and I am trying to test it out using Postman. \r\nAPI has a Map&lt;String,Object&gt; which I am not sure how to represent in JSON format for Postman to be able to use.\r\n\r\nHere is the Entity:\r\n```\r\nimport java.util.Map;\r\nimport com.abcd.xyz.option.Option;\r\nimport com.fasterxml.jackson.annotation.JsonAnySetter;\r\n\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\nimport lombok.ToString;\r\n\r\n@Getter @Setter @NoArgsConstructor @ToString\r\npublic class Project {\r\n\r\n    private String name;\r\n    private String shortName;\r\n    private String idName;\r\n\r\n    private String language;\r\n    private String buildTool;\r\n    private String k8sid;\r\n    private String dnsId;\r\n    private String jenkinsUrl;\r\n\r\n    private Map&lt;String, Option&gt; options;\r\n\r\n}\r\n```\r\n..............\r\n\r\nOption definition:\r\n\r\n```\r\nimport java.util.List;\r\n\r\nimport com.abcd.xyz.bundling.ResourceFile;\r\nimport com.abcd.xyz.project.Project;\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport com.fasterxml.jackson.annotation.JsonTypeInfo;\r\nimport com.fasterxml.jackson.databind.annotation.JsonTypeIdResolver;\r\n\r\n@JsonTypeInfo(use=JsonTypeInfo.Id.CUSTOM, include=JsonTypeInfo.As.PROPERTY, property=&quot;option&quot;)\r\n@JsonTypeIdResolver(OptionTypeIdResolver.class)\r\npublic interface Option {\r\n    @JsonIgnore\r\n    public List&lt;ResourceFile&gt; getFiles(Project project);\r\n}\r\n```\r\n......................\r\n\r\nOptionTypeIdResolver:\r\n\r\n```\r\nimport com.fasterxml.jackson.annotation.JsonTypeInfo.Id;\r\nimport com.fasterxml.jackson.databind.DatabindContext;\r\nimport com.fasterxml.jackson.databind.JavaType;\r\nimport com.fasterxml.jackson.databind.jsontype.TypeIdResolver;\r\nimport com.fasterxml.jackson.databind.type.TypeFactory;\r\n\r\n// Handles the conversion of the &quot;option&quot; property of an Option class into JSON, or from\r\n// JSON into the correct Option type.\r\npublic class OptionTypeIdResolver implements TypeIdResolver {\r\n    private static final String OPTION_PACKAGE = Option.class.getPackage().getName();\r\n    private JavaType baseType;\r\n\r\n    @Override\r\n    public void init(JavaType baseType) {\r\n        this.baseType = baseType;\r\n    }\r\n\r\n    @Override\r\n    public Id getMechanism() {\r\n        return Id.CUSTOM;\r\n    }\r\n\r\n    @Override\r\n    public String idFromValue(Object obj) {\r\n        return idFromValueAndType(obj, obj.getClass());\r\n    }\r\n\r\n    @Override\r\n    public String idFromBaseType() {\r\n        return idFromValueAndType(null, baseType.getRawClass());\r\n    }\r\n\r\n    @Override\r\n    public String idFromValueAndType(Object obj, Class&lt;?&gt; clazz) {\r\n        // Convert java class name to simple name, ie package.GradleOption -&gt; gradle\r\n        String simpleName = clazz.getSimpleName().substring(0, 1).toLowerCase() + clazz.getSimpleName().substring(1).replaceAll(&quot;Option$&quot;,&quot;&quot;);\r\n        if ( clazz.getName().startsWith(OPTION_PACKAGE) ) {\r\n            return simpleName;\r\n        }\r\n        throw new IllegalStateException(&quot;class &quot; + clazz + &quot; is not in the package &quot; + OPTION_PACKAGE);\r\n    }\r\n\r\n    @Override\r\n    public JavaType typeFromId(DatabindContext context, String type) {\r\n        Class&lt;?&gt; clazz;\r\n        // Convert simple name to java class name, ie gradle -&gt; package.GradleOption\r\n        String javaType = type.substring(0, 1).toUpperCase() + type.substring(1) + &quot;Option&quot;;\r\n        String clazzName = OPTION_PACKAGE + &quot;.&quot; + javaType;\r\n        try {\r\n            clazz = TypeFactory.defaultInstance().findClass(clazzName);\r\n        } catch (ClassNotFoundException e) {\r\n            throw new IllegalStateException(&quot;cannot find class &#39;&quot; + clazzName + &quot;&#39;&quot;);\r\n        }\r\n        return TypeFactory.defaultInstance().constructSpecializedType(baseType, clazz);\r\n    }\r\n\r\n    @Override\r\n    public String getDescForKnownTypeIds() {\r\n        return &quot;&quot;;\r\n    }\r\n}\r\n```\r\n.................\r\n\r\nHere is the POST body I am using:\r\n```\r\n{\r\n  &quot;buildTool&quot;: &quot;gradle&quot;,\r\n  &quot;dnsId&quot;: &quot;demo005&quot;,\r\n  &quot;idName&quot;: &quot;demo005&quot;,\r\n  &quot;jenkinsUrl&quot;: &quot;&quot;,\r\n  &quot;k8sid&quot;: &quot;er5t-eks-oGWFNxUs&quot;,\r\n  &quot;language&quot;: &quot;java&quot;,\r\n  &quot;name&quot;: &quot;demo005&quot;,\r\n  &quot;shortName&quot;: &quot;f&quot;,\r\n  &quot;titleName&quot;: &quot;demo004&quot;,\r\n  &quot;options&quot;: [\r\n      {&quot;java&quot;: {\r\n          &quot;JavaOption&quot;: {\r\n              &quot;group&quot;: &quot;com.example&quot;,\r\n              &quot;name&quot;: &quot;f&quot;\r\n          }\r\n        }\r\n      }\r\n  ]\r\n}\r\n```\r\n\r\n..................\r\n\r\n\r\nError I get is :\r\n\r\n```\r\no.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Missing type id when trying to resolve subtype of [simple type, class com.abcd.xyz.option.Option]: missing type id property &#39;option&#39;; nested exception is com.fasterxml.jackson.databind.exc.InvalidTypeIdException: Missing type id when trying to resolve subtype of [simple type, class com.abcd.xyz.option.Option]: missing type id property &#39;option&#39;\r\n at [Source: (PushbackInputStream); line: 10, column: 16] (through reference chain: com.abcd.xyz.project.Project[&quot;titleName&quot;])]\r\n```\r\n\r\nWhat am I getting wrong in the formatting..?","title":"JSON representation of Map&lt;String, Object&gt;","body":"<p>I have been provided an API endpoint and I am trying to test it out using Postman.\nAPI has a Map&lt;String,Object&gt; which I am not sure how to represent in JSON format for Postman to be able to use.</p>\n<p>Here is the Entity:</p>\n<pre><code>import java.util.Map;\nimport com.abcd.xyz.option.Option;\nimport com.fasterxml.jackson.annotation.JsonAnySetter;\n\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\nimport lombok.ToString;\n\n@Getter @Setter @NoArgsConstructor @ToString\npublic class Project {\n\n    private String name;\n    private String shortName;\n    private String idName;\n\n    private String language;\n    private String buildTool;\n    private String k8sid;\n    private String dnsId;\n    private String jenkinsUrl;\n\n    private Map&lt;String, Option&gt; options;\n\n}\n</code></pre>\n<p>..............</p>\n<p>Option definition:</p>\n<pre><code>import java.util.List;\n\nimport com.abcd.xyz.bundling.ResourceFile;\nimport com.abcd.xyz.project.Project;\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.fasterxml.jackson.annotation.JsonTypeInfo;\nimport com.fasterxml.jackson.databind.annotation.JsonTypeIdResolver;\n\n@JsonTypeInfo(use=JsonTypeInfo.Id.CUSTOM, include=JsonTypeInfo.As.PROPERTY, property=&quot;option&quot;)\n@JsonTypeIdResolver(OptionTypeIdResolver.class)\npublic interface Option {\n    @JsonIgnore\n    public List&lt;ResourceFile&gt; getFiles(Project project);\n}\n</code></pre>\n<p>......................</p>\n<p>OptionTypeIdResolver:</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonTypeInfo.Id;\nimport com.fasterxml.jackson.databind.DatabindContext;\nimport com.fasterxml.jackson.databind.JavaType;\nimport com.fasterxml.jackson.databind.jsontype.TypeIdResolver;\nimport com.fasterxml.jackson.databind.type.TypeFactory;\n\n// Handles the conversion of the &quot;option&quot; property of an Option class into JSON, or from\n// JSON into the correct Option type.\npublic class OptionTypeIdResolver implements TypeIdResolver {\n    private static final String OPTION_PACKAGE = Option.class.getPackage().getName();\n    private JavaType baseType;\n\n    @Override\n    public void init(JavaType baseType) {\n        this.baseType = baseType;\n    }\n\n    @Override\n    public Id getMechanism() {\n        return Id.CUSTOM;\n    }\n\n    @Override\n    public String idFromValue(Object obj) {\n        return idFromValueAndType(obj, obj.getClass());\n    }\n\n    @Override\n    public String idFromBaseType() {\n        return idFromValueAndType(null, baseType.getRawClass());\n    }\n\n    @Override\n    public String idFromValueAndType(Object obj, Class&lt;?&gt; clazz) {\n        // Convert java class name to simple name, ie package.GradleOption -&gt; gradle\n        String simpleName = clazz.getSimpleName().substring(0, 1).toLowerCase() + clazz.getSimpleName().substring(1).replaceAll(&quot;Option$&quot;,&quot;&quot;);\n        if ( clazz.getName().startsWith(OPTION_PACKAGE) ) {\n            return simpleName;\n        }\n        throw new IllegalStateException(&quot;class &quot; + clazz + &quot; is not in the package &quot; + OPTION_PACKAGE);\n    }\n\n    @Override\n    public JavaType typeFromId(DatabindContext context, String type) {\n        Class&lt;?&gt; clazz;\n        // Convert simple name to java class name, ie gradle -&gt; package.GradleOption\n        String javaType = type.substring(0, 1).toUpperCase() + type.substring(1) + &quot;Option&quot;;\n        String clazzName = OPTION_PACKAGE + &quot;.&quot; + javaType;\n        try {\n            clazz = TypeFactory.defaultInstance().findClass(clazzName);\n        } catch (ClassNotFoundException e) {\n            throw new IllegalStateException(&quot;cannot find class '&quot; + clazzName + &quot;'&quot;);\n        }\n        return TypeFactory.defaultInstance().constructSpecializedType(baseType, clazz);\n    }\n\n    @Override\n    public String getDescForKnownTypeIds() {\n        return &quot;&quot;;\n    }\n}\n</code></pre>\n<p>.................</p>\n<p>Here is the POST body I am using:</p>\n<pre><code>{\n  &quot;buildTool&quot;: &quot;gradle&quot;,\n  &quot;dnsId&quot;: &quot;demo005&quot;,\n  &quot;idName&quot;: &quot;demo005&quot;,\n  &quot;jenkinsUrl&quot;: &quot;&quot;,\n  &quot;k8sid&quot;: &quot;er5t-eks-oGWFNxUs&quot;,\n  &quot;language&quot;: &quot;java&quot;,\n  &quot;name&quot;: &quot;demo005&quot;,\n  &quot;shortName&quot;: &quot;f&quot;,\n  &quot;titleName&quot;: &quot;demo004&quot;,\n  &quot;options&quot;: [\n      {&quot;java&quot;: {\n          &quot;JavaOption&quot;: {\n              &quot;group&quot;: &quot;com.example&quot;,\n              &quot;name&quot;: &quot;f&quot;\n          }\n        }\n      }\n  ]\n}\n</code></pre>\n<p>..................</p>\n<p>Error I get is :</p>\n<pre><code>o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Missing type id when trying to resolve subtype of [simple type, class com.abcd.xyz.option.Option]: missing type id property 'option'; nested exception is com.fasterxml.jackson.databind.exc.InvalidTypeIdException: Missing type id when trying to resolve subtype of [simple type, class com.abcd.xyz.option.Option]: missing type id property 'option'\n at [Source: (PushbackInputStream); line: 10, column: 16] (through reference chain: com.abcd.xyz.project.Project[&quot;titleName&quot;])]\n</code></pre>\n<p>What am I getting wrong in the formatting..?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":26840344,"reputation":134,"user_id":20426969,"display_name":"Sarmad Ali"},"score":0,"creation_date":1695105962,"post_id":77131984,"comment_id":135975868,"body_markdown":"post your code here","body":"post your code here"}],"owner":{"account_id":29479100,"reputation":1,"user_id":22590221,"display_name":"Cl3ine"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695107080,"creation_date":1695102702,"question_id":77131984,"body_markdown":"FATAL EXCEPTION: main\r\n                                                                                                    Process: com.example.steelzest, PID: 4271\r\n                                                                                                    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.steelzest/com.example.steelzest.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.Button.setOnClickListener(android.view.View$OnClickListener)&#39; on a null object reference\r\n                                                                                                    \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3782)\r\n                                                                                                    \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3922)\r\n                                                                                                    \tat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)\r\n                                                                                                    \tat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:139)\r\n                                                                                                    \tat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:96)\r\n                                                                                                    \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2443)\r\n                                                                                                    \tat android.os.Handler.dispatchMessage(Handler.java:106)\r\n                                                                                                    \tat android.os.Looper.loopOnce(Looper.java:205)\r\n                                                                                                    \tat android.os.Looper.loop(Looper.java:294)\r\n                                                                                                    \tat android.app.ActivityThread.main(ActivityThread.java:8176)\r\n                                                                                                    \tat java.lang.reflect.Method.invoke(Native Method)\r\n                                                                                                    \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:552)\r\n                                                                                                    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:971)\r\n                                                                                                    Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.Button.setOnClickListener(android.view.View$OnClickListener)&#39; on a null object reference\r\n                                                                                                    \tat com.example.steelzest.MainActivity.onCreate(MainActivity.java:26)\r\n                                                                                                    \tat android.app.Activity.performCreate(Activity.java:8595)\r\n                                                                                                    \tat android.app.Activity.performCreate(Activity.java:8573)\r\n                                                                                                    \tat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1456)\r\n                                                                                                    \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3764)\r\n                                                                                                    \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3922)&#160;\r\n                                                                                                    \tat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)&#160;\r\n                                                                                                    \tat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:139)&#160;\r\n                                                                                                    \tat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:96)&#160;\r\n                                                                                                    \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2443)&#160;\r\n                                                                                                    \tat android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n                                                                                                    \tat android.os.Looper.loopOnce(Looper.java:205)&#160;\r\n                                                                                                    \tat android.os.Looper.loop(Looper.java:294)&#160;\r\n                                                                                                    \tat android.app.ActivityThread.main(ActivityThread.java:8176)&#160;\r\n                                                                                                    \tat java.lang.reflect.Method.invoke(Native Method)&#160;\r\n                                                                                                    \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:552)&#160;\r\n                                                                                                    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:971)&#160;\r\n---------------------------- PROCESS ENDED (4271) for package com.example.steelzest ----------------------------\r\n\r\n\r\nI rechecked each and every component\r\nIt was originally supposed to be imagebutton but the error kept occurring so i changed it to buttons\r\nThe XML code had to be modified multiple times \r\nthe java main class code was also modified multiple times but still it displayed\r\n&quot;NULL POINTER EXCEPTION&quot; for every button that tried to display either:\r\nMAPS\r\nCONTACT NUMBER\r\nSOCIAL MEDIA LINKS","title":"I have been trying to add a button click listener for a button that takes you to the contacts page. when i run the code it throws null pointer exceptn","body":"<p>FATAL EXCEPTION: main\nProcess: com.example.steelzest, PID: 4271\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.steelzest/com.example.steelzest.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.Button.setOnClickListener(android.view.View$OnClickListener)' on a null object reference\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3782)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3922)\nat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)\nat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:139)\nat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:96)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2443)\nat android.os.Handler.dispatchMessage(Handler.java:106)\nat android.os.Looper.loopOnce(Looper.java:205)\nat android.os.Looper.loop(Looper.java:294)\nat android.app.ActivityThread.main(ActivityThread.java:8176)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:552)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:971)\nCaused by: java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.Button.setOnClickListener(android.view.View$OnClickListener)' on a null object reference\nat com.example.steelzest.MainActivity.onCreate(MainActivity.java:26)\nat android.app.Activity.performCreate(Activity.java:8595)\nat android.app.Activity.performCreate(Activity.java:8573)\nat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1456)\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3764)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3922) \nat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103) \nat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:139) \nat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:96) \nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2443) \nat android.os.Handler.dispatchMessage(Handler.java:106) \nat android.os.Looper.loopOnce(Looper.java:205) \nat android.os.Looper.loop(Looper.java:294) \nat android.app.ActivityThread.main(ActivityThread.java:8176) \nat java.lang.reflect.Method.invoke(Native Method) \nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:552) \nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:971) \n---------------------------- PROCESS ENDED (4271) for package com.example.steelzest ----------------------------</p>\n<p>I rechecked each and every component\nIt was originally supposed to be imagebutton but the error kept occurring so i changed it to buttons\nThe XML code had to be modified multiple times\nthe java main class code was also modified multiple times but still it displayed\n&quot;NULL POINTER EXCEPTION&quot; for every button that tried to display either:\nMAPS\nCONTACT NUMBER\nSOCIAL MEDIA LINKS</p>\n"},{"tags":["java","gradle","intellij-idea","java-17"],"answers":[{"tags":[],"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1635085429,"creation_date":1635076053,"answer_id":69696435,"question_id":69696321,"body_markdown":"The message typically entails that your *JAVA_HOME* environment variable points to a different *Java* version.\r\n\r\nHere are the steps to follow:\r\n\r\n * Close *IntelliJ IDEA*\r\n * Open a terminal window and check your *JAVA_HOME* variable value:\r\n   * *nix system: `echo $JAVA_HOME`\r\n   * Windows system: `echo %JAVA_HOME%`\r\n * The *JAVA_HOME* path should be pointing to a different path, then set it to the *openjdk-17* path:\r\n   * *nix system: `export JAVA_HOME=/path/to/openjdk-17`\r\n   * Windows system: `set JAVA_HOME=path\\to\\openjdk-17`\r\n * Open your project again in *IntelliJ IDEA*\r\n * Make sure to set both *source* and *target* compatibility versions (not only the `sourceCompatibility`)\r\n\r\nYou should be able to build your project.\r\n\r\nEDIT: Gradle Toolchain\r\n-\r\n \r\nYou may need also to instruct *Gradle* to use a different *JVM* than the one it uses itself by setting the *Java* plugin toolchain to your target version:\r\n\r\n    // build.gradle\r\n    java {\r\n        toolchain {\r\n            languageVersion = JavaLanguageVersion.of(17)\r\n        }\r\n    }\r\n\r\n ","title":"IntelliJ - Invalid source release: 17","body":"<p>The message typically entails that your <em>JAVA_HOME</em> environment variable points to a different <em>Java</em> version.</p>\n<p>Here are the steps to follow:</p>\n<ul>\n<li>Close <em>IntelliJ IDEA</em></li>\n<li>Open a terminal window and check your <em>JAVA_HOME</em> variable value:\n<ul>\n<li>*nix system: <code>echo $JAVA_HOME</code></li>\n<li>Windows system: <code>echo %JAVA_HOME%</code></li>\n</ul>\n</li>\n<li>The <em>JAVA_HOME</em> path should be pointing to a different path, then set it to the <em>openjdk-17</em> path:\n<ul>\n<li>*nix system: <code>export JAVA_HOME=/path/to/openjdk-17</code></li>\n<li>Windows system: <code>set JAVA_HOME=path\\to\\openjdk-17</code></li>\n</ul>\n</li>\n<li>Open your project again in <em>IntelliJ IDEA</em></li>\n<li>Make sure to set both <em>source</em> and <em>target</em> compatibility versions (not only the <code>sourceCompatibility</code>)</li>\n</ul>\n<p>You should be able to build your project.</p>\n<h2>EDIT: Gradle Toolchain</h2>\n<p>You may need also to instruct <em>Gradle</em> to use a different <em>JVM</em> than the one it uses itself by setting the <em>Java</em> plugin toolchain to your target version:</p>\n<pre><code>// build.gradle\njava {\n    toolchain {\n        languageVersion = JavaLanguageVersion.of(17)\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23128242,"reputation":21,"user_id":17233734,"display_name":"Virbhadra Kaulwar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635076715,"creation_date":1635076715,"answer_id":69696521,"question_id":69696321,"body_markdown":"Set JAVA_ HOME TO JDK 17  and check this by Opening cmd -&gt; javac. This should return the current version of java set in your machine ","title":"IntelliJ - Invalid source release: 17","body":"<p>Set JAVA_ HOME TO JDK 17  and check this by Opening cmd -&gt; javac. This should return the current version of java set in your machine</p>\n"},{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635151640,"creation_date":1635151640,"answer_id":69705111,"question_id":69696321,"body_markdown":"If you start your project from a main method directly invoked from Intelij then the missing dialog execution configurations may be the cause of the  error.\r\n\r\nAlways check the execution configurations to make sure the correct JRE folder is plugged in. In latest versions of jdk there is not a specific jre folder but the complete jdk package, so make sure it points at this folder.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/D4Qcy.png\r\n  [2]: https://i.stack.imgur.com/oKiVJ.png","title":"IntelliJ - Invalid source release: 17","body":"<p>If you start your project from a main method directly invoked from Intelij then the missing dialog execution configurations may be the cause of the  error.</p>\n<p>Always check the execution configurations to make sure the correct JRE folder is plugged in. In latest versions of jdk there is not a specific jre folder but the complete jdk package, so make sure it points at this folder.</p>\n<p><a href=\"https://i.stack.imgur.com/D4Qcy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D4Qcy.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/oKiVJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oKiVJ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":12874842,"reputation":3946,"user_id":9311905,"display_name":"Rakesh R"},"down_vote_count":0,"up_vote_count":393,"is_accepted":true,"score":393,"last_activity_date":1638538116,"creation_date":1638538116,"answer_id":70215091,"question_id":69696321,"body_markdown":"In intellij just set Gradle JVM to Java version 17. \r\n\r\n&quot;File -&gt; Settings.. -&gt; Build, Execution, Deployment -&gt; Build Tools -&gt; Gradle&quot; \r\nthere select your project and set Gradle JVM to your java 17.0.1","title":"IntelliJ - Invalid source release: 17","body":"<p>In intellij just set Gradle JVM to Java version 17.</p>\n<p>&quot;File -&gt; Settings.. -&gt; Build, Execution, Deployment -&gt; Build Tools -&gt; Gradle&quot;\nthere select your project and set Gradle JVM to your java 17.0.1</p>\n"},{"tags":[],"owner":{"account_id":3188714,"reputation":1014,"user_id":2693608,"display_name":"ezer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644957908,"creation_date":1644957908,"answer_id":71133166,"question_id":69696321,"body_markdown":"you can define `org.gradle.java.home` in  `~/.gradle/gradle.properties` like:\r\n```\r\norg.gradle.java.home=/path/to/jdk17\r\n```\r\n\r\nthis will cover both `gradle` cli and default value for IntelliJ (if not specified otherwise)\r\n\r\n(windows users file at `C:\\Users\\&lt;username&gt;\\.gradle\\gradle.properties`)","title":"IntelliJ - Invalid source release: 17","body":"<p>you can define <code>org.gradle.java.home</code> in  <code>~/.gradle/gradle.properties</code> like:</p>\n<pre><code>org.gradle.java.home=/path/to/jdk17\n</code></pre>\n<p>this will cover both <code>gradle</code> cli and default value for IntelliJ (if not specified otherwise)</p>\n<p>(windows users file at <code>C:\\Users\\&lt;username&gt;\\.gradle\\gradle.properties</code>)</p>\n"},{"tags":[],"owner":{"account_id":2691023,"reputation":16196,"user_id":2324388,"accept_rate":41,"display_name":"Marian Kl&#252;hspies"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645871444,"creation_date":1645871444,"answer_id":71275892,"question_id":69696321,"body_markdown":"I was running into this issue, **only when building from terminal**, while the **execution from the IntelliJ Run Configuration works**\r\n\r\nThe reason is probably, that I had downloaded the JDK from the relatively new way of doing it directly from the IDE\r\n\r\n[![enter image description here][1]][1]\r\n\r\nMy guess is, that this JDK with its path that is set here\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nIs only known to IntelliJ and likely dynamically **passed to Gradle** when running a run configuration, and **not known to Gradle itself**.\r\n\r\n\r\nI tried to figure out what is happening, so I&#39;ve added this task which in both cases prints the same path to an older local JDK.\r\n\r\n    tasks.build.doFirst {\r\n        println &quot;used jdk path: &quot; + System.getenv(&#39;JAVA_HOME&#39;)\r\n    }\r\n\r\n&gt; C:\\Program\r\n&gt; Files\\GraalVM\\graalvm-ce-java11-21.1.0\r\n\r\nAfterwards I&#39;ve **deleted the old JDK under that path and retried both**, run configuration and terminal execution. Now the **run configuration still works**, while **printing** the same **invalid JDK path**, and the **terminal execution fails** with\r\n\r\n\r\n&gt; ERROR: JAVA_HOME is set to an invalid directory: C:\\Program\r\n&gt; Files\\GraalVM\\graalvm-ce-java11-21.1.0\r\n&gt; \r\n&gt; Please set the JAVA_HOME variable in your environment to match the\r\n&gt; location of your Java installation.\r\n\r\nI had expected the error in both cases, but it seems the JAVA_HOME directory is **not necessarily used** and in some way other than with the env variable, IntelliJ has to tell Gradle to use the right JDK from the **.jdks directory**.\r\n\r\n**This is just an assumption, if anyone has an explanation I&#39;d appreciate it, especially how Gradle is able to know what JDK to use.**\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GrsXo.png\r\n  [2]: https://i.stack.imgur.com/btVvN.png","title":"IntelliJ - Invalid source release: 17","body":"<p>I was running into this issue, <strong>only when building from terminal</strong>, while the <strong>execution from the IntelliJ Run Configuration works</strong></p>\n<p>The reason is probably, that I had downloaded the JDK from the relatively new way of doing it directly from the IDE</p>\n<p><a href=\"https://i.stack.imgur.com/GrsXo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GrsXo.png\" alt=\"enter image description here\" /></a></p>\n<p>My guess is, that this JDK with its path that is set here</p>\n<p><a href=\"https://i.stack.imgur.com/btVvN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/btVvN.png\" alt=\"enter image description here\" /></a></p>\n<p>Is only known to IntelliJ and likely dynamically <strong>passed to Gradle</strong> when running a run configuration, and <strong>not known to Gradle itself</strong>.</p>\n<p>I tried to figure out what is happening, so I've added this task which in both cases prints the same path to an older local JDK.</p>\n<pre><code>tasks.build.doFirst {\n    println &quot;used jdk path: &quot; + System.getenv('JAVA_HOME')\n}\n</code></pre>\n<blockquote>\n<p>C:\\Program\nFiles\\GraalVM\\graalvm-ce-java11-21.1.0</p>\n</blockquote>\n<p>Afterwards I've <strong>deleted the old JDK under that path and retried both</strong>, run configuration and terminal execution. Now the <strong>run configuration still works</strong>, while <strong>printing</strong> the same <strong>invalid JDK path</strong>, and the <strong>terminal execution fails</strong> with</p>\n<blockquote>\n<p>ERROR: JAVA_HOME is set to an invalid directory: C:\\Program\nFiles\\GraalVM\\graalvm-ce-java11-21.1.0</p>\n<p>Please set the JAVA_HOME variable in your environment to match the\nlocation of your Java installation.</p>\n</blockquote>\n<p>I had expected the error in both cases, but it seems the JAVA_HOME directory is <strong>not necessarily used</strong> and in some way other than with the env variable, IntelliJ has to tell Gradle to use the right JDK from the <strong>.jdks directory</strong>.</p>\n<p><strong>This is just an assumption, if anyone has an explanation I'd appreciate it, especially how Gradle is able to know what JDK to use.</strong></p>\n"},{"tags":[],"owner":{"account_id":10771493,"reputation":1873,"user_id":7924858,"display_name":"abhinavsinghvirsen"},"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1647334124,"creation_date":1647334124,"answer_id":71479311,"question_id":69696321,"body_markdown":"Set Gradle JVM to target build jvm \r\n\r\nFile -&gt; Settings.. -&gt;[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Qzhlk.png","title":"IntelliJ - Invalid source release: 17","body":"<p>Set Gradle JVM to target build jvm</p>\n<p>File -&gt; Settings.. -&gt;<a href=\"https://i.stack.imgur.com/Qzhlk.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Qzhlk.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":6566070,"reputation":657,"user_id":5075658,"display_name":"Sumit Jadiya"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1647524772,"creation_date":1647523009,"answer_id":71512969,"question_id":69696321,"body_markdown":"There could be many reasons due to which this error is thrown by intellij\r\n\r\n - Check your JAVA_HOME -&gt; \r\n```\r\necho $JAVA_HOME\r\n```\r\nif JAVA_HOME is not correct, update the JAVA_HOME environment variable.\r\n\r\n - check if the project structure in IntelliJ is correct.\r\n```\r\nFile &gt; Project Structure &gt; Project Setting &gt; Project -&gt; SDK and Language level should match\r\n\r\nFile &gt; Project Structure &gt; Project Setting &gt; Modules -&gt; Language Level should match with SDK\r\n``` \r\n* Check and fix settings in preferences are correct\r\n\r\n```\r\nPreferences &gt; Build, Execution and Deployment &gt; Gradle &gt; Gradle JVM should match with SDK (Preferences &gt; Build, Execution and Deployment &gt; maven if you&#39;re using maven)\r\n\r\nPreferences &gt; Build, Execution and Deployment &gt; Compiler &gt; Java Compiler &gt; Project Bytecode version (this should match with your SDK as well)\r\n```","title":"IntelliJ - Invalid source release: 17","body":"<p>There could be many reasons due to which this error is thrown by intellij</p>\n<ul>\n<li>Check your JAVA_HOME -&gt;</li>\n</ul>\n<pre><code>echo $JAVA_HOME\n</code></pre>\n<p>if JAVA_HOME is not correct, update the JAVA_HOME environment variable.</p>\n<ul>\n<li>check if the project structure in IntelliJ is correct.</li>\n</ul>\n<pre><code>File &gt; Project Structure &gt; Project Setting &gt; Project -&gt; SDK and Language level should match\n\nFile &gt; Project Structure &gt; Project Setting &gt; Modules -&gt; Language Level should match with SDK\n</code></pre>\n<ul>\n<li>Check and fix settings in preferences are correct</li>\n</ul>\n<pre><code>Preferences &gt; Build, Execution and Deployment &gt; Gradle &gt; Gradle JVM should match with SDK (Preferences &gt; Build, Execution and Deployment &gt; maven if you're using maven)\n\nPreferences &gt; Build, Execution and Deployment &gt; Compiler &gt; Java Compiler &gt; Project Bytecode version (this should match with your SDK as well)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5418168,"reputation":1454,"user_id":4312720,"display_name":"Jorge Tovar"},"down_vote_count":1,"up_vote_count":54,"is_accepted":false,"score":53,"last_activity_date":1672085991,"creation_date":1657144086,"answer_id":72890216,"question_id":69696321,"body_markdown":"A picture is worth a thousand words!\r\n\r\n**Go to preferences and change Gradle JVM.**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iVbHB.png","title":"IntelliJ - Invalid source release: 17","body":"<p>A picture is worth a thousand words!</p>\n<p><strong>Go to preferences and change Gradle JVM.</strong></p>\n<p><a href=\"https://i.stack.imgur.com/iVbHB.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/iVbHB.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":26153235,"reputation":31,"user_id":19840864,"display_name":"Darko Manojlovic"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1661371350,"creation_date":1661371350,"answer_id":73478896,"question_id":69696321,"body_markdown":"in build.gradle set sourceCompatibility = &#39;11&#39; not sourceCompatibility = &#39;17&#39;","title":"IntelliJ - Invalid source release: 17","body":"<p>in build.gradle set sourceCompatibility = '11' not sourceCompatibility = '17'</p>\n"},{"tags":[],"owner":{"account_id":1889504,"reputation":2560,"user_id":1707976,"accept_rate":43,"display_name":"Dixit Singla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676475295,"creation_date":1676475295,"answer_id":75462080,"question_id":69696321,"body_markdown":"Had the same problem, tried everything said above but no luck.\r\n\r\nThen saw this path `C:\\Program Files\\Common Files\\Oracle\\Java\\javapath` present in Systesm variable `path`. Deleting it solved the issue.\r\n\r\n**Note**: Don&#39;t forget to restart the terminal.","title":"IntelliJ - Invalid source release: 17","body":"<p>Had the same problem, tried everything said above but no luck.</p>\n<p>Then saw this path <code>C:\\Program Files\\Common Files\\Oracle\\Java\\javapath</code> present in Systesm variable <code>path</code>. Deleting it solved the issue.</p>\n<p><strong>Note</strong>: Don't forget to restart the terminal.</p>\n"},{"tags":[],"owner":{"account_id":8098318,"reputation":1530,"user_id":6102097,"display_name":"Boney"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680600936,"creation_date":1680600936,"answer_id":75927794,"question_id":69696321,"body_markdown":"Below process worked for me: File -&gt; Project Structure -&gt; Platform Settings -&gt; SDKs -&gt; *jdk-17.0.5*[for me](ADD JDK Required version either from disk or download it)","title":"IntelliJ - Invalid source release: 17","body":"<p>Below process worked for me: File -&gt; Project Structure -&gt; Platform Settings -&gt; SDKs -&gt; <em>jdk-17.0.5</em>[for me](ADD JDK Required version either from disk or download it)</p>\n"},{"tags":[],"owner":{"account_id":270681,"reputation":539,"user_id":560773,"display_name":"KLMN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683599499,"creation_date":1683599499,"answer_id":76205481,"question_id":69696321,"body_markdown":"If your project is using maven, go to \r\nRun &gt; Edit Configurations.. &gt; Maven &amp; choose your maven project &gt; checked &#39;Inherit from settings&#39;\r\n\r\nthis solving my problem.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Jcunr.png","title":"IntelliJ - Invalid source release: 17","body":"<p>If your project is using maven, go to\nRun &gt; Edit Configurations.. &gt; Maven &amp; choose your maven project &gt; checked 'Inherit from settings'</p>\n<p>this solving my problem.</p>\n<p><a href=\"https://i.stack.imgur.com/Jcunr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jcunr.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":28758112,"reputation":401,"user_id":22024689,"display_name":"Iman Hosseinzadeh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689974928,"creation_date":1689974928,"answer_id":76741337,"question_id":69696321,"body_markdown":"Verify that you are using the **same JDK version** to **compile and run** the program.\r\n\r\nI also faced a similar problem. but changing the gradle JVM did not solve my problem.\r\nMy problem was that two versions of JDK were installed in my system.\r\nthe `java` command run with JDK 17 but the `javac` command run with JDK 11.\r\n\r\nI deleted the JDK 11 and the problem was solved.","title":"IntelliJ - Invalid source release: 17","body":"<p>Verify that you are using the <strong>same JDK version</strong> to <strong>compile and run</strong> the program.</p>\n<p>I also faced a similar problem. but changing the gradle JVM did not solve my problem.\nMy problem was that two versions of JDK were installed in my system.\nthe <code>java</code> command run with JDK 17 but the <code>javac</code> command run with JDK 11.</p>\n<p>I deleted the JDK 11 and the problem was solved.</p>\n"},{"tags":[],"owner":{"account_id":706860,"reputation":9592,"user_id":601844,"display_name":"epox"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690934165,"creation_date":1690934165,"answer_id":76815841,"question_id":69696321,"body_markdown":"Set to the (gradle) project config and commit. By saving this, you will help all your project contributors, in contrast to your local IDE Settings.\r\n\r\nIf you use build.gradle.kts\r\n--\r\n    java {\r\n      toolchain {\r\n        languageVersion.set(JavaLanguageVersion.of(17))\r\n      }\r\n    }\r\n\r\nIf you use build.gradle\r\n--\r\n    java {\r\n      toolchain {\r\n        languageVersion = JavaLanguageVersion.of(17)\r\n      }\r\n    }\r\nas few other answers mentioned.\r\n\r\nIntelliJ IDEA(⌘,) -&gt; Gradle JVM (in search bar)\r\n--\r\nThe global UI Settigs, as [the accepted answer suggests][1], would also help. But be aware of the instability:\r\n\r\n 1. It would still fail if you re-build with a terminal command `./gradlew assemble`.\r\n 2. The setting is global. So you would need to be back to it each time you switch between 11 and 17 projects.\r\n 3. You would need to instruct each developer in the team to do the same UI exercise.\r\n\r\n  [1]: https://stackoverflow.com/a/70215091/601844","title":"IntelliJ - Invalid source release: 17","body":"<p>Set to the (gradle) project config and commit. By saving this, you will help all your project contributors, in contrast to your local IDE Settings.</p>\n<h2>If you use build.gradle.kts</h2>\n<pre><code>java {\n  toolchain {\n    languageVersion.set(JavaLanguageVersion.of(17))\n  }\n}\n</code></pre>\n<h2>If you use build.gradle</h2>\n<pre><code>java {\n  toolchain {\n    languageVersion = JavaLanguageVersion.of(17)\n  }\n}\n</code></pre>\n<p>as few other answers mentioned.</p>\n<h2>IntelliJ IDEA(⌘,) -&gt; Gradle JVM (in search bar)</h2>\n<p>The global UI Settigs, as <a href=\"https://stackoverflow.com/a/70215091/601844\">the accepted answer suggests</a>, would also help. But be aware of the instability:</p>\n<ol>\n<li>It would still fail if you re-build with a terminal command <code>./gradlew assemble</code>.</li>\n<li>The setting is global. So you would need to be back to it each time you switch between 11 and 17 projects.</li>\n<li>You would need to instruct each developer in the team to do the same UI exercise.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":19097304,"reputation":11,"user_id":13946305,"display_name":"Jack.Li"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695107051,"creation_date":1695107051,"answer_id":77132321,"question_id":69696321,"body_markdown":"reset the JDK to 17.0.4 in .bash_profile works for me.","title":"IntelliJ - Invalid source release: 17","body":"<p>reset the JDK to 17.0.4 in .bash_profile works for me.</p>\n"}],"owner":{"account_id":3509980,"reputation":3614,"user_id":2934534,"accept_rate":77,"display_name":"Michael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166865,"favorite_count":0,"down_vote_count":0,"up_vote_count":173,"accepted_answer_id":70215091,"answer_count":16,"score":173,"last_activity_date":1695107051,"creation_date":1635075157,"question_id":69696321,"body_markdown":"I&#39;ve created a new Java project in IntelliJ with Gradle that uses Java 17. When running my app it has the error `Cause: error: invalid source release: 17`. \r\n\r\n**My Settings**\r\n\r\nI&#39;ve installed `openjdk-17` through `IntelliJ` and set it as my `Project SDK`. \r\n\r\nThe `Project language level` has been set to `17 - Sealed types, always-strict floating-point semantics`.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIn `Modules -&gt; Sources` I&#39;ve set the `Language level` to `Project default (17 - Sealed types, always strict floating-point semantics)`.\r\n\r\n[![modules-&gt;sources][2]][2]\r\n\r\nIn `Modules -&gt; Dependencies` I&#39;ve set the `Module SDK` to `Project SDK openjdk-17`. \r\n\r\n[![modules-&gt;dependencies][3]][3]\r\n\r\nIn `Settings -&gt; Build, Execution, Deployment -&gt; Compiler -&gt; Java Compiler` I&#39;ve set the `Project bytecode version` to `17`.\r\n\r\n[![enter image description here][4]][4]\r\n\r\n**Gradle**\r\n\r\n    plugins {\r\n        id &#39;org.springframework.boot&#39; version &#39;2.5.6&#39;\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n        id &#39;java&#39;\r\n    }\r\n    \r\n    group = &#39;com.app&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = &#39;17&#39;\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-websocket&#39;\r\n        testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n        implementation &#39;com.fasterxml.jackson.core:jackson-core:2.13.0&#39;\r\n        implementation &#39;com.fasterxml.jackson.core:jackson-databind:2.13.0&#39;\r\n    }\r\n    \r\n    test {\r\n        useJUnitPlatform()\r\n    }\r\n\r\n\r\nI&#39;ve looked at all of the answers [here][5] but I can&#39;t seem to fix this. I must be missing something but I can&#39;t find it. I&#39;ve not had any problems using Java 8 or 11. \r\n\r\nHow do I resolve this? \r\n\r\n  [1]: https://i.stack.imgur.com/h6OBn.png\r\n  [2]: https://i.stack.imgur.com/WxHWG.png\r\n  [3]: https://i.stack.imgur.com/0DMAk.png\r\n  [4]: https://i.stack.imgur.com/jZxak.png\r\n  [5]: https://stackoverflow.com/questions/46280859/intellij-idea-error-java-invalid-source-release-1-9","title":"IntelliJ - Invalid source release: 17","body":"<p>I've created a new Java project in IntelliJ with Gradle that uses Java 17. When running my app it has the error <code>Cause: error: invalid source release: 17</code>.</p>\n<p><strong>My Settings</strong></p>\n<p>I've installed <code>openjdk-17</code> through <code>IntelliJ</code> and set it as my <code>Project SDK</code>.</p>\n<p>The <code>Project language level</code> has been set to <code>17 - Sealed types, always-strict floating-point semantics</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/h6OBn.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/h6OBn.png\" alt=\"enter image description here\" /></a></p>\n<p>In <code>Modules -&gt; Sources</code> I've set the <code>Language level</code> to <code>Project default (17 - Sealed types, always strict floating-point semantics)</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/WxHWG.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/WxHWG.png\" alt=\"modules-&gt;sources\" /></a></p>\n<p>In <code>Modules -&gt; Dependencies</code> I've set the <code>Module SDK</code> to <code>Project SDK openjdk-17</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/0DMAk.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/0DMAk.png\" alt=\"modules-&gt;dependencies\" /></a></p>\n<p>In <code>Settings -&gt; Build, Execution, Deployment -&gt; Compiler -&gt; Java Compiler</code> I've set the <code>Project bytecode version</code> to <code>17</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/jZxak.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/jZxak.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Gradle</strong></p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.5.6'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'java'\n}\n\ngroup = 'com.app'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-websocket'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    implementation 'com.fasterxml.jackson.core:jackson-core:2.13.0'\n    implementation 'com.fasterxml.jackson.core:jackson-databind:2.13.0'\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>I've looked at all of the answers <a href=\"https://stackoverflow.com/questions/46280859/intellij-idea-error-java-invalid-source-release-1-9\">here</a> but I can't seem to fix this. I must be missing something but I can't find it. I've not had any problems using Java 8 or 11.</p>\n<p>How do I resolve this?</p>\n"},{"tags":["java","mysql","mariadb","innodb","hikaricp"],"comments":[{"owner":{"account_id":213468,"reputation":103494,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1695106887,"post_id":77132186,"comment_id":135976021,"body_markdown":"Is your code correctly closing connections when you&#39;re done with them? Because that is what returns them to the connection pool for reuse.","body":"Is your code correctly closing connections when you&#39;re done with them? Because that is what returns them to the connection pool for reuse."},{"owner":{"account_id":416749,"reputation":3159,"user_id":792313,"accept_rate":85,"display_name":"snowindy"},"score":0,"creation_date":1695107056,"post_id":77132186,"comment_id":135976058,"body_markdown":"@MarkRotteveel indeed. The app is in production for years, we are very far away from v0.1-style mistakes. This version of app works under heavy load for days in other environments.","body":"@MarkRotteveel indeed. The app is in production for years, we are very far away from v0.1-style mistakes. This version of app works under heavy load for days in other environments."},{"owner":{"account_id":416749,"reputation":3159,"user_id":792313,"accept_rate":85,"display_name":"snowindy"},"score":0,"creation_date":1695108453,"post_id":77132186,"comment_id":135976356,"body_markdown":"@MarkRotteveel though I will double-check this.","body":"@MarkRotteveel though I will double-check this."},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1695163703,"post_id":77132186,"comment_id":135986709,"body_markdown":"Perhaps &quot;CannotCreateTransactionException&quot; is caused by running out of memory?","body":"Perhaps &quot;CannotCreateTransactionException&quot; is caused by running out of memory?"}],"answers":[{"tags":[],"owner":{"account_id":2892575,"reputation":6529,"user_id":2481006,"display_name":"Georg Richter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695107048,"creation_date":1695107048,"answer_id":77132320,"question_id":77132186,"body_markdown":"Transactions are stored in INFORMATION_SCHEMA.INNODB_TRX. To find the statement, just execute\r\n\r\n    SELECT trx_query FROM INFORMATION_SCHEMA.INNODB_TRX WHERE trx_id=2974372519;\r\n\r\nSee also: [INFORMATION_SCHEMA.INNODB_TRX table][1]\r\n\r\n\r\n  [1]: https://mariadb.com/kb/en/information-schema-innodb_trx-table/","title":"How to investigate active MySQL transactions that are not visible in processlist?","body":"<p>Transactions are stored in INFORMATION_SCHEMA.INNODB_TRX. To find the statement, just execute</p>\n<pre><code>SELECT trx_query FROM INFORMATION_SCHEMA.INNODB_TRX WHERE trx_id=2974372519;\n</code></pre>\n<p>See also: <a href=\"https://mariadb.com/kb/en/information-schema-innodb_trx-table/\" rel=\"nofollow noreferrer\">INFORMATION_SCHEMA.INNODB_TRX table</a></p>\n"}],"owner":{"account_id":416749,"reputation":3159,"user_id":792313,"accept_rate":85,"display_name":"snowindy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77132320,"answer_count":1,"score":1,"last_activity_date":1695107048,"creation_date":1695105513,"question_id":77132186,"body_markdown":"We have a Java application that works with MariaDB 10.4.28 hosted in AWS RDS. \r\n\r\nWe have a situation that application went down with reason &quot;CannotCreateTransactionException&quot;. The pool has 40 active connections and 0 idle connections. \r\n\r\nWe have several tools that fire at such moments to help debug such situations:\r\n\r\n - ThreadStackDump\r\n   - The dump shows that there are no actual threads running any queries at all, all threads are waiting for a connection from a pool.\r\n - &quot;show processlist&quot;\r\n   - It shows no queries running except just a couple normal ones that are not hanged and finish within milliseconds\r\n - &quot;SHOW ENGINE INNODB STATUS&quot;\r\n   - It in fact shows a lot of records like the following\r\n\r\n```\r\n---TRANSACTION 2974372519, ACTIVE 31 sec\r\n  2 lock struct(s), heap size 1128, 0 row lock(s), undo log entries 4\r\n```\r\n\r\n\r\nQuestions: \r\n- What can be a command or an approach to understand that this 2974372519 transaction is, what it is attempting to do?\r\n- What can be an approach to understand what my 40 occupied DB pool connections are doing?\r\n\r\n\r\nWe use HikariCP:4.0.3 and mysql-connector-java:8.0.22.","title":"How to investigate active MySQL transactions that are not visible in processlist?","body":"<p>We have a Java application that works with MariaDB 10.4.28 hosted in AWS RDS.</p>\n<p>We have a situation that application went down with reason &quot;CannotCreateTransactionException&quot;. The pool has 40 active connections and 0 idle connections.</p>\n<p>We have several tools that fire at such moments to help debug such situations:</p>\n<ul>\n<li>ThreadStackDump\n<ul>\n<li>The dump shows that there are no actual threads running any queries at all, all threads are waiting for a connection from a pool.</li>\n</ul>\n</li>\n<li>&quot;show processlist&quot;\n<ul>\n<li>It shows no queries running except just a couple normal ones that are not hanged and finish within milliseconds</li>\n</ul>\n</li>\n<li>&quot;SHOW ENGINE INNODB STATUS&quot;\n<ul>\n<li>It in fact shows a lot of records like the following</li>\n</ul>\n</li>\n</ul>\n<pre><code>---TRANSACTION 2974372519, ACTIVE 31 sec\n  2 lock struct(s), heap size 1128, 0 row lock(s), undo log entries 4\n</code></pre>\n<p>Questions:</p>\n<ul>\n<li>What can be a command or an approach to understand that this 2974372519 transaction is, what it is attempting to do?</li>\n<li>What can be an approach to understand what my 40 occupied DB pool connections are doing?</li>\n</ul>\n<p>We use HikariCP:4.0.3 and mysql-connector-java:8.0.22.</p>\n"},{"tags":["java","bytebuffer"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1695055201,"post_id":77128863,"comment_id":135969927,"body_markdown":"`BitSet` is *little* endian so the final bit pattern is `00000101` (5)","body":"<code>BitSet</code> is <i>little</i> endian so the final bit pattern is <code>00000101</code> (5)"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1695056549,"post_id":77128863,"comment_id":135970206,"body_markdown":"Why do you think that &quot;the endianness is wrong&quot;? Do you expect adding a byte to the buffer and that byte to appear at the higher position (bigger index) ? javadoc of [`allocate()`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/ByteBuffer.html#allocate(int)): &quot;The new buffer&#39;s position will be zero&quot; and of [`put()`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/ByteBuffer.html#put(byte)): &quot;Writes the given byte into this buffer at the current position, and then increments the position.&quot;","body":"Why do you think that &quot;the endianness is wrong&quot;? Do you expect adding a byte to the buffer and that byte to appear at the higher position (bigger index) ? javadoc of <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/ByteBuffer.html#allocate(int)\" rel=\"nofollow noreferrer\"><code>allocate()</code></a>: &quot;The new buffer&#39;s position will be zero&quot; and of <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/ByteBuffer.html#put(byte)\" rel=\"nofollow noreferrer\"><code>put()</code></a>: &quot;Writes the given byte into this buffer at the current position, and then increments the position.&quot;"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1695057083,"post_id":77128863,"comment_id":135970311,"body_markdown":"and BTW in Java you can easily write binary literal numbers like `0b0101` (or `(byte)0b0101` if needed as byte), no need to use `BitSet`","body":"and BTW in Java you can easily write binary literal numbers like <code>0b0101</code> (or <code>(byte)0b0101</code> if needed as byte), no need to use <code>BitSet</code>"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1695056152,"creation_date":1695056152,"answer_id":77129060,"question_id":77128863,"body_markdown":"&gt; Which I think is the right answer.\r\n\r\nNot at all; you are misinterpreting what you are seeing, your test is not particularly well written to show it off.\r\n\r\nHere&#39;s whats _actually_ happening:\r\n\r\n```\r\nBitSet byt = new BitSet(8);\r\nbyt.set(0, false);\r\nbyt.set(1, false);\r\nout.put(byt.toByteArray());\r\n```\r\n\r\n__This writes nothing__. Add `System.out.println(out.position());` to see this in action.\r\n\r\nThat&#39;s because the spec of BitSet disregards entirely how large you made your bitset (the `8` in `new BitSet(8)` has zero effect on what `.toByteArray()` does), instead, it checks the most significant 1-bit in your bitset, rounds that up to the nearest integer divisible by 8, and that&#39;s how many bits are emitted. Given that your second snippet has all-zero bytes, &#39;0 bits&#39; is all that is needed to represent it, and therefore, .toByteArray() dutifully __produces a 0-length array__. And `buffer.put(someZeroLenArray);` dutifully does exactly what you ask it to, which is: Do nothing, successfully. Make no changes to the byte buffer and do not advance the position.&#39;.\r\n\r\n\r\nSo, you:\r\n\r\n * Write nothing. Not even 8 zero bits - literally nothing.\r\n * Write &#39;5&#39;\r\n * Print the first byte (Which prints 5)\r\n * Print the second, which hasn&#39;t been set at all yet and thus defaults to printing 0.\r\n\r\nYou clearly are thinking that the &#39;5&#39; you see is from the second BitSet, and the 0 you see is from the first.\r\n\r\nThe endianness is right (as in, the endianness you get is [A] exactly what the java spec says you get, and [B] matches all uses of endianness, notably including network standards, _except_ intel chips); your expectation of what endianness you expected is incorrect, and all you need to do is adjust that.\r\n\r\nMore generally endianness doesn&#39;t even apply here: endianness is a concept that applies when you write things that are larger than 8 bit in length and you never do.\r\n\r\nThis is an example of endianness:\r\n\r\n```\r\nByteBuffer bb = ByteBuffer.allocate(4);\r\nbb.putInt(1);\r\nSystem.out.println(&quot;At pos 0: &quot; + bb.get(0)); // 0\r\nSystem.out.println(&quot;At pos 3: &quot; + bb.get(3)); // 1\r\nbb = ByteBuffer.allocate(4);\r\nbb.order(ByteOrder.LITTLE_ENDIAN);\r\nbb.putInt(1);\r\nSystem.out.println(&quot;At pos 0: &quot; + bb.get(0)); // 1\r\nSystem.out.println(&quot;At pos 3: &quot; + bb.get(3)); // 0\r\n```\r\n\r\nIn other words, given that &#39;an int&#39; requires writing 4 bytes, which of the 4 bytes that comprise the int do we write first - the one with the least significant digits (the 1 here - &#39;1&#39; in int terms is 00000000001 of course), or the one with the most (the 0)? With LITTLE_ENDIAN, the 1 is printed first.\r\n\r\nThe code snippet you pasted does not have an &#39;endianness&#39;. It is neither little nor big endian. The _bits_ are in big endian form, but then, bits being in big endian form is how it&#39;s done for all systems and all CPUs that are relevant to talk about today.\r\n\r\n","title":"Weird behaviour in Java 8 with ByteBuffer and BitSet","body":"<blockquote>\n<p>Which I think is the right answer.</p>\n</blockquote>\n<p>Not at all; you are misinterpreting what you are seeing, your test is not particularly well written to show it off.</p>\n<p>Here's whats <em>actually</em> happening:</p>\n<pre><code>BitSet byt = new BitSet(8);\nbyt.set(0, false);\nbyt.set(1, false);\nout.put(byt.toByteArray());\n</code></pre>\n<p><strong>This writes nothing</strong>. Add <code>System.out.println(out.position());</code> to see this in action.</p>\n<p>That's because the spec of BitSet disregards entirely how large you made your bitset (the <code>8</code> in <code>new BitSet(8)</code> has zero effect on what <code>.toByteArray()</code> does), instead, it checks the most significant 1-bit in your bitset, rounds that up to the nearest integer divisible by 8, and that's how many bits are emitted. Given that your second snippet has all-zero bytes, '0 bits' is all that is needed to represent it, and therefore, .toByteArray() dutifully <strong>produces a 0-length array</strong>. And <code>buffer.put(someZeroLenArray);</code> dutifully does exactly what you ask it to, which is: Do nothing, successfully. Make no changes to the byte buffer and do not advance the position.'.</p>\n<p>So, you:</p>\n<ul>\n<li>Write nothing. Not even 8 zero bits - literally nothing.</li>\n<li>Write '5'</li>\n<li>Print the first byte (Which prints 5)</li>\n<li>Print the second, which hasn't been set at all yet and thus defaults to printing 0.</li>\n</ul>\n<p>You clearly are thinking that the '5' you see is from the second BitSet, and the 0 you see is from the first.</p>\n<p>The endianness is right (as in, the endianness you get is [A] exactly what the java spec says you get, and [B] matches all uses of endianness, notably including network standards, <em>except</em> intel chips); your expectation of what endianness you expected is incorrect, and all you need to do is adjust that.</p>\n<p>More generally endianness doesn't even apply here: endianness is a concept that applies when you write things that are larger than 8 bit in length and you never do.</p>\n<p>This is an example of endianness:</p>\n<pre><code>ByteBuffer bb = ByteBuffer.allocate(4);\nbb.putInt(1);\nSystem.out.println(&quot;At pos 0: &quot; + bb.get(0)); // 0\nSystem.out.println(&quot;At pos 3: &quot; + bb.get(3)); // 1\nbb = ByteBuffer.allocate(4);\nbb.order(ByteOrder.LITTLE_ENDIAN);\nbb.putInt(1);\nSystem.out.println(&quot;At pos 0: &quot; + bb.get(0)); // 1\nSystem.out.println(&quot;At pos 3: &quot; + bb.get(3)); // 0\n</code></pre>\n<p>In other words, given that 'an int' requires writing 4 bytes, which of the 4 bytes that comprise the int do we write first - the one with the least significant digits (the 1 here - '1' in int terms is 00000000001 of course), or the one with the most (the 0)? With LITTLE_ENDIAN, the 1 is printed first.</p>\n<p>The code snippet you pasted does not have an 'endianness'. It is neither little nor big endian. The <em>bits</em> are in big endian form, but then, bits being in big endian form is how it's done for all systems and all CPUs that are relevant to talk about today.</p>\n"},{"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1695058483,"creation_date":1695058012,"answer_id":77129236,"question_id":77128863,"body_markdown":"`BitSet.toByteArray()` creates a byte array which is of the minimum length necessary to represent the `BitSet`. You can read in docs:\r\n\r\nhttps://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/BitSet.html#toByteArray()\r\n\r\n    byte[] bytes = s.toByteArray();\r\n    then bytes.length == (s.length()+7)/8 and\r\n    s.get(n) == ((bytes[n/8] &amp; (1&lt;&lt;(n%8))) != 0)\r\n    for all n &lt; 8 * bytes.length.\r\n\r\nand the s.length() is:\r\n\r\n&gt;Returns the &quot;logical size&quot; of this BitSet: the index of the highest set bit in the BitSet plus one. Returns zero if the BitSet contains no set bits.\r\n\r\nSo, essentially, if you store only false in your bitset, toByteArray() will return empty array.\r\n\r\nByteBuffer will fill the bytes as you put them in. So the order in which the bytes are stored is exactly the order in which you call the .put method.\r\n\r\nNow lets follow your code example:\r\n\r\nYour ByteByffer of size 2, initially:\r\n\r\n    | x | x |\r\n      0   1\r\n\r\nx means its empty\r\n\r\nThen you create BitSet: `[true, false, false, false, false, false, false, false]` This is array: `[1]`. You then put it into your ByteBuffer:\r\n\r\n    | 1 | x |\r\n      0   1\r\n\r\nin the first entry you have now 1.\r\n\r\nThen you create second bitset: `[true, false, true, false, false, false, false, false]` which is `[5]` (2^0 + 2^2 = 1 + 4 = 5). Then you put it to BytBuffer:\r\n\r\n    | 1 | 5 |\r\n      0   1\r\n\r\nSo, your output is : &#39;First byte is 1 second is 5&#39;. And that is correct.\r\n\r\n&gt; which I think is not okay since the endianness is wrong\r\n\r\nI dont think your problem has anything to do with endianess, if you expected to see &#39;First byte is 5 second is 1&#39; then switch the order of adding bytes to ByteBuffer.\r\n\r\n\r\n\r\nNow, lets follow the second example:\r\n\r\nYour ByteByffer of size 2, initially:\r\n\r\n    | x | x |\r\n      0   1\r\n\r\nthen a BitSet with `[false, false, false, false, false, false, false, false]`, which is 0 in binary. But BitSet.toByteArray will produce an empty array because the BitSet has no set bits.\r\n\r\nso, there is no change to a ByteBuffe, its still empty:\r\n\r\n    | x | x |\r\n      0   1\r\n\r\nThe second bit set is `[true, false, true, false, false, false, false, false]`, which is [5], after puting to ByteBuffer:\r\n\r\n    | 5 | x |\r\n      0   1\r\n\r\nHere, because the first `BitSet` added nothing, we only see the result of adding the second byte.\r\n\r\nSo, you problem originates from how BitSet produces array when using toByteArray(). You might consider not using `BitSet` and use some other class, see this SO for some hints: https://stackoverflow.com/questions/14032437/java-bitset-and-byte-usage\r\n\r\n\r\n[edit] \r\nfix for the second example could be manually taking into account that a zero array can be returned by BitSet.toByteBuffer and manually adding [0] array. Of course, the same can be done for second byte.\r\n\r\n        ByteBuffer out = ByteBuffer.allocate(2);\r\n        BitSet byt = new BitSet(8);\r\n        byt.set(0, false);\r\n        byt.set(1, false);\r\n        \r\n        byte[] byteArr = byt.toByteArray();\r\n        if(byteArr.length == 0) {\r\n            out.put((byte)0);\r\n        } else {\r\n            out.put(byteArr);\r\n        }\r\n        \r\n        byt.set(0, true);\r\n        byt.set(1, false);\r\n        byt.set(2, true);\r\n        \r\n        byteArr = byt.toByteArray();\r\n        out.put(byteArr);\r\n        \r\n        System.out.println(&quot;First byte is &quot; + out.array()[0]+ &quot; second is &quot; + out.array()[1]);\r\n","title":"Weird behaviour in Java 8 with ByteBuffer and BitSet","body":"<p><code>BitSet.toByteArray()</code> creates a byte array which is of the minimum length necessary to represent the <code>BitSet</code>. You can read in docs:</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/BitSet.html#toByteArray()\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/BitSet.html#toByteArray()</a></p>\n<pre><code>byte[] bytes = s.toByteArray();\nthen bytes.length == (s.length()+7)/8 and\ns.get(n) == ((bytes[n/8] &amp; (1&lt;&lt;(n%8))) != 0)\nfor all n &lt; 8 * bytes.length.\n</code></pre>\n<p>and the s.length() is:</p>\n<blockquote>\n<p>Returns the &quot;logical size&quot; of this BitSet: the index of the highest set bit in the BitSet plus one. Returns zero if the BitSet contains no set bits.</p>\n</blockquote>\n<p>So, essentially, if you store only false in your bitset, toByteArray() will return empty array.</p>\n<p>ByteBuffer will fill the bytes as you put them in. So the order in which the bytes are stored is exactly the order in which you call the .put method.</p>\n<p>Now lets follow your code example:</p>\n<p>Your ByteByffer of size 2, initially:</p>\n<pre><code>| x | x |\n  0   1\n</code></pre>\n<p>x means its empty</p>\n<p>Then you create BitSet: <code>[true, false, false, false, false, false, false, false]</code> This is array: <code>[1]</code>. You then put it into your ByteBuffer:</p>\n<pre><code>| 1 | x |\n  0   1\n</code></pre>\n<p>in the first entry you have now 1.</p>\n<p>Then you create second bitset: <code>[true, false, true, false, false, false, false, false]</code> which is <code>[5]</code> (2^0 + 2^2 = 1 + 4 = 5). Then you put it to BytBuffer:</p>\n<pre><code>| 1 | 5 |\n  0   1\n</code></pre>\n<p>So, your output is : 'First byte is 1 second is 5'. And that is correct.</p>\n<blockquote>\n<p>which I think is not okay since the endianness is wrong</p>\n</blockquote>\n<p>I dont think your problem has anything to do with endianess, if you expected to see 'First byte is 5 second is 1' then switch the order of adding bytes to ByteBuffer.</p>\n<p>Now, lets follow the second example:</p>\n<p>Your ByteByffer of size 2, initially:</p>\n<pre><code>| x | x |\n  0   1\n</code></pre>\n<p>then a BitSet with <code>[false, false, false, false, false, false, false, false]</code>, which is 0 in binary. But BitSet.toByteArray will produce an empty array because the BitSet has no set bits.</p>\n<p>so, there is no change to a ByteBuffe, its still empty:</p>\n<pre><code>| x | x |\n  0   1\n</code></pre>\n<p>The second bit set is <code>[true, false, true, false, false, false, false, false]</code>, which is [5], after puting to ByteBuffer:</p>\n<pre><code>| 5 | x |\n  0   1\n</code></pre>\n<p>Here, because the first <code>BitSet</code> added nothing, we only see the result of adding the second byte.</p>\n<p>So, you problem originates from how BitSet produces array when using toByteArray(). You might consider not using <code>BitSet</code> and use some other class, see this SO for some hints: <a href=\"https://stackoverflow.com/questions/14032437/java-bitset-and-byte-usage\">Java BitSet and byte[] usage</a></p>\n<p>[edit]\nfix for the second example could be manually taking into account that a zero array can be returned by BitSet.toByteBuffer and manually adding [0] array. Of course, the same can be done for second byte.</p>\n<pre><code>    ByteBuffer out = ByteBuffer.allocate(2);\n    BitSet byt = new BitSet(8);\n    byt.set(0, false);\n    byt.set(1, false);\n    \n    byte[] byteArr = byt.toByteArray();\n    if(byteArr.length == 0) {\n        out.put((byte)0);\n    } else {\n        out.put(byteArr);\n    }\n    \n    byt.set(0, true);\n    byt.set(1, false);\n    byt.set(2, true);\n    \n    byteArr = byt.toByteArray();\n    out.put(byteArr);\n    \n    System.out.println(&quot;First byte is &quot; + out.array()[0]+ &quot; second is &quot; + out.array()[1]);\n</code></pre>\n"}],"owner":{"account_id":29475281,"reputation":23,"user_id":22587167,"display_name":"pdesolver"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":77129236,"answer_count":2,"score":1,"last_activity_date":1695106480,"creation_date":1695054224,"question_id":77128863,"body_markdown":"I&#39;m new to java and started to implement a UDP sender with BitSet and ByteBuffer for some reason I get behaviour which I would not expect.\r\n\r\n\r\n \r\n\r\n```\r\nimport java.nio.ByteBuffer;\r\nimport java.nio.ByteOrder;\r\nimport java.util.BitSet;\r\n\r\npublic class Main\r\n{\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tByteBuffer out = ByteBuffer.allocate(2);\r\n\t\tBitSet byt = new BitSet(8);\r\n\t\tbyt.set(0, true);\r\n\t\tbyt.set(1, false);\r\n\t\tout.put(byt.toByteArray());\r\n\t\tbyt.set(0, true);\r\n\t\tbyt.set(1, false);\r\n\t\tbyt.set(2, true);\r\n\t\tout.put(byt.toByteArray());\r\n\t\t\r\n\t\tSystem.out.println(&quot;First byte is &quot; + out.array()[0]+ &quot; second is &quot; + out.array()[1]);\r\n\t}\r\n}\r\n```\r\n\r\nwhere I get the output\r\n```\r\nFirst byte is 1 second is 5\r\n```\r\nwhich I think is not okay since the endianness is wrong\r\n\r\nWhen I try to run this:\r\n```\r\npublic class Main\r\n{\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tByteBuffer out = ByteBuffer.allocate(2);\r\n\t\tBitSet byt = new BitSet(8);\r\n\t\tbyt.set(0, false);\r\n\t\tbyt.set(1, false);\r\n\t\tout.put(byt.toByteArray());\r\n\t\tbyt.set(0, true);\r\n\t\tbyt.set(1, false);\r\n\t\tbyt.set(2, true);\r\n\t\tout.put(byt.toByteArray());\r\n\t\t\r\n\t\tSystem.out.println(&quot;First byte is &quot; + out.array()[0]+ &quot; second is &quot; + out.array()[1]);\r\n\t}\r\n}\r\n```\r\n\r\nThe output changes to \r\n```\r\nFirst byte is 5 second is 0\r\n```\r\n\r\nWhich I think is the right answer. \r\n\r\nNotice the change is only on line 7 while the order of the bytes also change.\r\n\r\nA quick test is [here](http://tpcg.io/_SFY07L) and [here](http://tpcg.io/_MQR5YW)\r\n\r\nI&#39;m fairly new to Java. So it could all be a big misunderstanding. Thanks anyway!","title":"Weird behaviour in Java 8 with ByteBuffer and BitSet","body":"<p>I'm new to java and started to implement a UDP sender with BitSet and ByteBuffer for some reason I get behaviour which I would not expect.</p>\n<pre><code>import java.nio.ByteBuffer;\nimport java.nio.ByteOrder;\nimport java.util.BitSet;\n\npublic class Main\n{\n    public static void main(String[] args) {\n        \n        ByteBuffer out = ByteBuffer.allocate(2);\n        BitSet byt = new BitSet(8);\n        byt.set(0, true);\n        byt.set(1, false);\n        out.put(byt.toByteArray());\n        byt.set(0, true);\n        byt.set(1, false);\n        byt.set(2, true);\n        out.put(byt.toByteArray());\n        \n        System.out.println(&quot;First byte is &quot; + out.array()[0]+ &quot; second is &quot; + out.array()[1]);\n    }\n}\n</code></pre>\n<p>where I get the output</p>\n<pre><code>First byte is 1 second is 5\n</code></pre>\n<p>which I think is not okay since the endianness is wrong</p>\n<p>When I try to run this:</p>\n<pre><code>public class Main\n{\n    public static void main(String[] args) {\n        \n        ByteBuffer out = ByteBuffer.allocate(2);\n        BitSet byt = new BitSet(8);\n        byt.set(0, false);\n        byt.set(1, false);\n        out.put(byt.toByteArray());\n        byt.set(0, true);\n        byt.set(1, false);\n        byt.set(2, true);\n        out.put(byt.toByteArray());\n        \n        System.out.println(&quot;First byte is &quot; + out.array()[0]+ &quot; second is &quot; + out.array()[1]);\n    }\n}\n</code></pre>\n<p>The output changes to</p>\n<pre><code>First byte is 5 second is 0\n</code></pre>\n<p>Which I think is the right answer.</p>\n<p>Notice the change is only on line 7 while the order of the bytes also change.</p>\n<p>A quick test is <a href=\"http://tpcg.io/_SFY07L\" rel=\"nofollow noreferrer\">here</a> and <a href=\"http://tpcg.io/_MQR5YW\" rel=\"nofollow noreferrer\">here</a></p>\n<p>I'm fairly new to Java. So it could all be a big misunderstanding. Thanks anyway!</p>\n"},{"tags":["java","reactive-programming","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695061822,"creation_date":1695061822,"answer_id":77129648,"question_id":77129351,"body_markdown":"Operators in Spring Webflux are designed to handle errors that occur during the reactive stream processing, such as errors emitted by upstream publishers or operators. **They do not catch exceptions that occur during the initial creation of the `UUID` using `UUID.fromString`**.\r\n\r\nBut, you can deal with it using a simple try-catch block:\r\n\r\n```java\r\ntry {\r\n    UUID uuid = UUID.fromString(&quot;123&quot;);\r\n    Mono.just(uuid).subscribe();\r\n} catch (IllegalArgumentException e) {\r\n    throw new AssertionError(&quot;Invalid UUID string&quot;, e);\r\n}\r\n```","title":"How map an exception from a Mono to another exception","body":"<p>Operators in Spring Webflux are designed to handle errors that occur during the reactive stream processing, such as errors emitted by upstream publishers or operators. <strong>They do not catch exceptions that occur during the initial creation of the <code>UUID</code> using <code>UUID.fromString</code></strong>.</p>\n<p>But, you can deal with it using a simple try-catch block:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    UUID uuid = UUID.fromString(&quot;123&quot;);\n    Mono.just(uuid).subscribe();\n} catch (IllegalArgumentException e) {\n    throw new AssertionError(&quot;Invalid UUID string&quot;, e);\n}\n</code></pre>\n"}],"owner":{"account_id":2928448,"reputation":56,"user_id":2627282,"display_name":"Giustiniano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695106257,"creation_date":1695059173,"question_id":77129351,"body_markdown":"I have an endpoint in Spring Webflux (Java 20) that receives a UUID string and I need to validate it using UUID.fromString. If the latter throws an exception because the String is malformed, how can catch and rethrow the exception?         \r\n\r\nThis is the simplest code snippet that shows the problem, where I try to catch the IllegalArgumentException and propagate it as an `AssertionError instead.\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Mono.just(UUID.fromString(&quot;123&quot;))\r\n            .doOnError(IllegalArgumentException.class, e -&gt; Mono.error(new AssertionError(&quot;&quot;)))\r\n            .subscribe();\r\n    }\r\n}\r\n```\r\n\r\n```\r\nMono.just(UUID.fromString(&quot;123&quot;))\r\n    .onErrorMap(IllegalArgumentException.class, e -&gt; new AssertionError(&quot;&quot;))\r\n    .subscribe();\r\n```\r\n\r\n```\r\nMono.just(UUID.fromString(&quot;123&quot;))\r\n    .onErrorResume(e -&gt; Mono.error(new AssertionError(&quot;hello&quot;)))\r\n    .subscribe();\r\n```\r\n\r\nWhatever I try, the result is always that the IllegalArgumentException is not caught and just bubbles up:\r\n```\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: Invalid UUID string: 123\r\n\tat java.base/java.util.UUID.fromString1(UUID.java:280)\r\n\tat java.base/java.util.UUID.fromString(UUID.java:258)\r\n\tat org.example.Main.main(Main.java:12)\r\n```","title":"How map an exception from a Mono to another exception","body":"<p>I have an endpoint in Spring Webflux (Java 20) that receives a UUID string and I need to validate it using UUID.fromString. If the latter throws an exception because the String is malformed, how can catch and rethrow the exception?</p>\n<p>This is the simplest code snippet that shows the problem, where I try to catch the IllegalArgumentException and propagate it as an `AssertionError instead.</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        Mono.just(UUID.fromString(&quot;123&quot;))\n            .doOnError(IllegalArgumentException.class, e -&gt; Mono.error(new AssertionError(&quot;&quot;)))\n            .subscribe();\n    }\n}\n</code></pre>\n<pre><code>Mono.just(UUID.fromString(&quot;123&quot;))\n    .onErrorMap(IllegalArgumentException.class, e -&gt; new AssertionError(&quot;&quot;))\n    .subscribe();\n</code></pre>\n<pre><code>Mono.just(UUID.fromString(&quot;123&quot;))\n    .onErrorResume(e -&gt; Mono.error(new AssertionError(&quot;hello&quot;)))\n    .subscribe();\n</code></pre>\n<p>Whatever I try, the result is always that the IllegalArgumentException is not caught and just bubbles up:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Invalid UUID string: 123\n    at java.base/java.util.UUID.fromString1(UUID.java:280)\n    at java.base/java.util.UUID.fromString(UUID.java:258)\n    at org.example.Main.main(Main.java:12)\n</code></pre>\n"},{"tags":["java","spring-boot","web","native","graalvm"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695038401,"post_id":77125967,"comment_id":135966312,"body_markdown":"Remove `@EnableWebMvc` as that disables large parts of the auto-configuration. Make `HeaderMethodArgumentResolver` an `@Bean` which you put into the list, that way it is visible for GraalVM.","body":"Remove <code>@EnableWebMvc</code> as that disables large parts of the auto-configuration. Make <code>HeaderMethodArgumentResolver</code> an <code>@Bean</code> which you put into the list, that way it is visible for GraalVM."},{"owner":{"account_id":5085295,"reputation":331,"user_id":4080230,"display_name":"Francesco"},"score":0,"creation_date":1695039914,"post_id":77125967,"comment_id":135966600,"body_markdown":"Actually, my first try was without @EnableWebMvc. I added it later, but nothing changes. I also tried making the argument resolver a bean, but still nothing changes. (I&#39;m going to update the question with this information)","body":"Actually, my first try was without @EnableWebMvc. I added it later, but nothing changes. I also tried making the argument resolver a bean, but still nothing changes. (I&#39;m going to update the question with this information)"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695042729,"post_id":77125967,"comment_id":135967238,"body_markdown":"If you make it a bean, you should reference it from the `addArgumentResolvers` method and also place a regular `@Configuration` instead of the one with `proxyBeanMethos`","body":"If you make it a bean, you should reference it from the <code>addArgumentResolvers</code> method and also place a regular <code>@Configuration</code> instead of the one with <code>proxyBeanMethos</code>"},{"owner":{"account_id":5085295,"reputation":331,"user_id":4080230,"display_name":"Francesco"},"score":0,"creation_date":1695047691,"post_id":77125967,"comment_id":135968379,"body_markdown":"I edited the question fixing the configuration. Also see NOTE 1","body":"I edited the question fixing the configuration. Also see NOTE 1"}],"answers":[{"tags":[],"owner":{"account_id":5085295,"reputation":331,"user_id":4080230,"display_name":"Francesco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695105960,"creation_date":1695105960,"answer_id":77132225,"question_id":77125967,"body_markdown":"I finally figured out how to make it work, just adding the following on the configuration bean: \r\n\r\n    @RegisterReflectionForBinding({HeaderMethodArgumentResolverConfiguration.class})\r\n\r\nHere it is the full class:\r\n\r\n    @Configuration(proxyBeanMethods = false)\r\n    @RegisterReflectionForBinding({HeaderMethodArgumentResolverConfiguration.class})\r\n    public class HeaderMethodArgumentResolverConfiguration implements WebMvcConfigurer {\r\n    \r\n        @Override\r\n        public void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; resolvers) {\r\n            resolvers.add(new HeaderMethodArgumentResolver());\r\n        }\r\n    \r\n    }\r\n\r\nProbably, given that the configuration bean was in a library, it needs to register reflection information for discovering the addArgumentResolvers method or that it implements WebMvcConfigurer (can&#39;t be sure now, but it works!)","title":"spring boot 3 native graalvm - HandlerMethodArgumentResolver not working","body":"<p>I finally figured out how to make it work, just adding the following on the configuration bean:</p>\n<pre><code>@RegisterReflectionForBinding({HeaderMethodArgumentResolverConfiguration.class})\n</code></pre>\n<p>Here it is the full class:</p>\n<pre><code>@Configuration(proxyBeanMethods = false)\n@RegisterReflectionForBinding({HeaderMethodArgumentResolverConfiguration.class})\npublic class HeaderMethodArgumentResolverConfiguration implements WebMvcConfigurer {\n\n    @Override\n    public void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; resolvers) {\n        resolvers.add(new HeaderMethodArgumentResolver());\n    }\n\n}\n</code></pre>\n<p>Probably, given that the configuration bean was in a library, it needs to register reflection information for discovering the addArgumentResolvers method or that it implements WebMvcConfigurer (can't be sure now, but it works!)</p>\n"}],"owner":{"account_id":5085295,"reputation":331,"user_id":4080230,"display_name":"Francesco"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695105960,"creation_date":1695029082,"question_id":77125967,"body_markdown":"I configured a custom HandlerMethodArgumentResolver for getting some parameters from the request header and wrapping them in a custom object to be injected as an argument into my controllers.\r\n\r\nThe custom HandlerMethodArgumentResolver is not in the main project, but in a library imported by the main application. Pom and component scan are both ok, because other beans and configurations are being processed with no issues.\r\n\r\nAll is working fine running it on JVM, but compiling it as a native application with GraalVM is causing me troubles, becase when I run the application, the custom argument resolver won&#39;t be taken into consideration, and the custom object injected is null at runtime.\r\n\r\nHere it is the code.\r\n\r\n    public class HeaderMethodArgumentResolver implements HandlerMethodArgumentResolver {\r\n    \r\n        @Override\r\n        public boolean supportsParameter(MethodParameter parameter) {\r\n            return parameter.getParameterType().equals(MyHeader.class);\r\n        }\r\n    \r\n        @Override\r\n        public Object resolveArgument(MethodParameter parameter, ModelAndViewContainer mavContainer, NativeWebRequest webRequest, WebDataBinderFactory binderFactory) throws Exception {\r\n            MyHeader header = MyHeaderExtractor.generateFrom(webRequest);\r\n    \r\n            // Makes Validated annotation working on my custom argument\r\n            if (parameter.hasParameterAnnotation(Validated.class) || parameter.hasParameterAnnotation(Valid.class)) {\r\n                // Validate header\r\n                WebDataBinder binder = binderFactory.createBinder(webRequest, header, parameter.getParameterName());\r\n                validateIfApplicable(binder, parameter);\r\n                if (binder.getBindingResult().hasErrors()) {\r\n                    throw new MethodArgumentNotValidException(parameter, binder.getBindingResult());\r\n                }\r\n            }\r\n            return header;\r\n        }\r\n    \r\n        /**\r\n         * Validate the model attribute if applicable.\r\n         * &lt;p&gt;The default implementation checks for {@code @jakarta.validation.Valid},\r\n         * Spring&#39;s {@link org.springframework.validation.annotation.Validated},\r\n         * and custom annotations whose name starts with &quot;Valid&quot;.\r\n         * @param binder the DataBinder to be used\r\n         * @param parameter the method parameter declaration\r\n         * @see WebDataBinder#validate(Object...)\r\n         * @see SmartValidator#validate(Object, Errors, Object...)\r\n         */\r\n        protected void validateIfApplicable(WebDataBinder binder, MethodParameter parameter) {\r\n            for (Annotation ann : parameter.getParameterAnnotations()) {\r\n                Object[] validationHints = ValidationAnnotationUtils.determineValidationHints(ann);\r\n                if (validationHints != null) {\r\n                    binder.validate(validationHints);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nThen the configuration class for letting Spring MVC know about my argument resolver.\r\n\r\n    @EnableWebMvc // Tried with and without EnableWebMvc\r\n    @Configuration(proxyBeanMethods = false)\r\n    public class HeaderMethodArgumentResolverConfiguration implements WebMvcConfigurer {\r\n    \r\n        @Override\r\n        public void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; resolvers) {\r\n            // tried this\r\n            resolvers.add(new HeaderMethodArgumentResolver());\r\n            // and also this when created as a Bean\r\n            resolvers.add(headerMethodArgumentResolver());\r\n        }\r\n\r\n        @Bean   // Tried with and without this method\r\n        public HeaderMethodArgumentResolver headerMethodArgumentResolver() {\r\n            return new HeaderMethodArgumentResolver();\r\n        }\r\n    \r\n    }\r\n\r\nAnd an example controller.\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/my-resource&quot;)\r\n    @Slf4j\r\n    public class MyController {\r\n    \r\n        @PostMapping(&quot;/example&quot;)\r\n        public MyResponseObject doSomething(\r\n                @Validated({HeaderAsIWant.class}) MyHeader myHeader,\r\n                @Validated @RequestBody MyRequestObject request) {\r\n        }\r\n    \r\n    }\r\n\r\nAm I doing something wrong, missing some configuration, or is it a bug/incompatibility with the native build?\r\n\r\nMany thanks to everyone that will reply.\r\n\r\nNOTE 1: I checked from the /actuator/beans invocation, and I&#39;m sure the bean got instantiated correctly. The issue seems to be that Spring won&#39;t call the method resolver when the request comes in.\r\n\r\nNOTE 2: **Moving the custom argument resolver from the library to the main project solves the issue.** Though, that&#39;s not a solution for me because I need to use this argument resolver in multiple microservices, possibly without copy-pasting it.\r\n","title":"spring boot 3 native graalvm - HandlerMethodArgumentResolver not working","body":"<p>I configured a custom HandlerMethodArgumentResolver for getting some parameters from the request header and wrapping them in a custom object to be injected as an argument into my controllers.</p>\n<p>The custom HandlerMethodArgumentResolver is not in the main project, but in a library imported by the main application. Pom and component scan are both ok, because other beans and configurations are being processed with no issues.</p>\n<p>All is working fine running it on JVM, but compiling it as a native application with GraalVM is causing me troubles, becase when I run the application, the custom argument resolver won't be taken into consideration, and the custom object injected is null at runtime.</p>\n<p>Here it is the code.</p>\n<pre><code>public class HeaderMethodArgumentResolver implements HandlerMethodArgumentResolver {\n\n    @Override\n    public boolean supportsParameter(MethodParameter parameter) {\n        return parameter.getParameterType().equals(MyHeader.class);\n    }\n\n    @Override\n    public Object resolveArgument(MethodParameter parameter, ModelAndViewContainer mavContainer, NativeWebRequest webRequest, WebDataBinderFactory binderFactory) throws Exception {\n        MyHeader header = MyHeaderExtractor.generateFrom(webRequest);\n\n        // Makes Validated annotation working on my custom argument\n        if (parameter.hasParameterAnnotation(Validated.class) || parameter.hasParameterAnnotation(Valid.class)) {\n            // Validate header\n            WebDataBinder binder = binderFactory.createBinder(webRequest, header, parameter.getParameterName());\n            validateIfApplicable(binder, parameter);\n            if (binder.getBindingResult().hasErrors()) {\n                throw new MethodArgumentNotValidException(parameter, binder.getBindingResult());\n            }\n        }\n        return header;\n    }\n\n    /**\n     * Validate the model attribute if applicable.\n     * &lt;p&gt;The default implementation checks for {@code @jakarta.validation.Valid},\n     * Spring's {@link org.springframework.validation.annotation.Validated},\n     * and custom annotations whose name starts with &quot;Valid&quot;.\n     * @param binder the DataBinder to be used\n     * @param parameter the method parameter declaration\n     * @see WebDataBinder#validate(Object...)\n     * @see SmartValidator#validate(Object, Errors, Object...)\n     */\n    protected void validateIfApplicable(WebDataBinder binder, MethodParameter parameter) {\n        for (Annotation ann : parameter.getParameterAnnotations()) {\n            Object[] validationHints = ValidationAnnotationUtils.determineValidationHints(ann);\n            if (validationHints != null) {\n                binder.validate(validationHints);\n                break;\n            }\n        }\n    }\n}\n</code></pre>\n<p>Then the configuration class for letting Spring MVC know about my argument resolver.</p>\n<pre><code>@EnableWebMvc // Tried with and without EnableWebMvc\n@Configuration(proxyBeanMethods = false)\npublic class HeaderMethodArgumentResolverConfiguration implements WebMvcConfigurer {\n\n    @Override\n    public void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; resolvers) {\n        // tried this\n        resolvers.add(new HeaderMethodArgumentResolver());\n        // and also this when created as a Bean\n        resolvers.add(headerMethodArgumentResolver());\n    }\n\n    @Bean   // Tried with and without this method\n    public HeaderMethodArgumentResolver headerMethodArgumentResolver() {\n        return new HeaderMethodArgumentResolver();\n    }\n\n}\n</code></pre>\n<p>And an example controller.</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/my-resource&quot;)\n@Slf4j\npublic class MyController {\n\n    @PostMapping(&quot;/example&quot;)\n    public MyResponseObject doSomething(\n            @Validated({HeaderAsIWant.class}) MyHeader myHeader,\n            @Validated @RequestBody MyRequestObject request) {\n    }\n\n}\n</code></pre>\n<p>Am I doing something wrong, missing some configuration, or is it a bug/incompatibility with the native build?</p>\n<p>Many thanks to everyone that will reply.</p>\n<p>NOTE 1: I checked from the /actuator/beans invocation, and I'm sure the bean got instantiated correctly. The issue seems to be that Spring won't call the method resolver when the request comes in.</p>\n<p>NOTE 2: <strong>Moving the custom argument resolver from the library to the main project solves the issue.</strong> Though, that's not a solution for me because I need to use this argument resolver in multiple microservices, possibly without copy-pasting it.</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":4,"creation_date":1695095870,"post_id":77131630,"comment_id":135974800,"body_markdown":"The only difference is that before Java 1.7, the Java compiler wasn&#39;t smart enough to do the first option, and so you had to do the second. People found that to be a pain, so the Java designers introduced the first option. There&#39;s no reason not to use it when it works.","body":"The only difference is that before Java 1.7, the Java compiler wasn&#39;t smart enough to do the first option, and so you had to do the second. People found that to be a pain, so the Java designers introduced the first option. There&#39;s no reason not to use it when it works."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":5,"creation_date":1695095928,"post_id":77131630,"comment_id":135974803,"body_markdown":"There isn&#39;t one. Originally when generics were introduced, you were required to provide the types as part of the initialisation, but they introduced the &quot;diamond operator&quot; so we no longer need to type the types, yea for us","body":"There isn&#39;t one. Originally when generics were introduced, you were required to provide the types as part of the initialisation, but they introduced the &quot;diamond operator&quot; so we no longer need to type the types, yea for us"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1695099477,"post_id":77131630,"comment_id":135975058,"body_markdown":"They mean the same. Today most programmers prefer the former form.","body":"They mean the same. Today most programmers prefer the former form."},{"owner":{"account_id":13779135,"reputation":55,"user_id":9944670,"display_name":"jozen"},"score":0,"creation_date":1695100205,"post_id":77131630,"comment_id":135975130,"body_markdown":"Gotcha, thanks everyone","body":"Gotcha, thanks everyone"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1695100524,"post_id":77131630,"comment_id":135975164,"body_markdown":"*&quot;... the Java compiler wasn&#39;t smart enough ...&quot;* - Nit pick: the correct explanation is that the JLS didn&#39;t **allow** the compiler to figure it out.  The JLS specifies what the compiler is supposed to accept or reject.  It is not up to the compiler to be &quot;smart&quot;.  (Indeed a &quot;smart&quot; Java compiler would be a bad thing because that leads to portability issues; i.e. when two different compilers for the same revision of the JLS give different compilation outcomes for the same source code.)","body":"<i>&quot;... the Java compiler wasn&#39;t smart enough ...&quot;</i> - Nit pick: the correct explanation is that the JLS didn&#39;t <b>allow</b> the compiler to figure it out.  The JLS specifies what the compiler is supposed to accept or reject.  It is not up to the compiler to be &quot;smart&quot;.  (Indeed a &quot;smart&quot; Java compiler would be a bad thing because that leads to portability issues; i.e. when two different compilers for the same revision of the JLS give different compilation outcomes for the same source code.)"}],"answers":[{"tags":[],"owner":{"account_id":5060337,"reputation":12,"user_id":4062178,"display_name":"Beck-воин"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695102035,"creation_date":1695101985,"answer_id":77131943,"question_id":77131630,"body_markdown":"There isn&#39;t a difference, since starting java 7, using the diamong operator,  `new HashMap&lt;&gt;()` automatically does  type inference.\r\n\r\nThe advantage of first approach, is to make the code less crowded, also avoid having too long lines, which impact readability. If you use tools like checkstyles which improve code readability, there are parameters, regarding accepted number of characters per line.","title":"Purpose of including types in generic instantiation?","body":"<p>There isn't a difference, since starting java 7, using the diamong operator,  <code>new HashMap&lt;&gt;()</code> automatically does  type inference.</p>\n<p>The advantage of first approach, is to make the code less crowded, also avoid having too long lines, which impact readability. If you use tools like checkstyles which improve code readability, there are parameters, regarding accepted number of characters per line.</p>\n"}],"owner":{"account_id":13779135,"reputation":55,"user_id":9944670,"display_name":"jozen"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1695101556,"accepted_answer_id":77131943,"answer_count":1,"score":-1,"last_activity_date":1695105695,"creation_date":1695095712,"question_id":77131630,"body_markdown":"As an example, I don&#39;t understand the difference between\r\n\r\n    HashMap&lt;Integer, Integer&gt; hashMap = new HashMap&lt;&gt;();\r\n\r\nand\r\n\r\n    HashMap&lt;Integer, Integer&gt; hashMap = new HashMap&lt;Integer, Integer&gt;();","title":"Purpose of including types in generic instantiation?","body":"<p>As an example, I don't understand the difference between</p>\n<pre><code>HashMap&lt;Integer, Integer&gt; hashMap = new HashMap&lt;&gt;();\n</code></pre>\n<p>and</p>\n<pre><code>HashMap&lt;Integer, Integer&gt; hashMap = new HashMap&lt;Integer, Integer&gt;();\n</code></pre>\n"},{"tags":["java","codeql"],"comments":[{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1695487443,"post_id":77132163,"comment_id":136032306,"body_markdown":"The problem might be `c = this.asExpr()` for your `Sink`. The sink should probably not be the method call as a whole, but an argument to the method call. Could you please try replacing `c = this.asExpr()` with `c.getAnArgument() = this.asExpr()` and see if that works?","body":"The problem might be <code>c = this.asExpr()</code> for your <code>Sink</code>. The sink should probably not be the method call as a whole, but an argument to the method call. Could you please try replacing <code>c = this.asExpr()</code> with <code>c.getAnArgument() = this.asExpr()</code> and see if that works?"}],"owner":{"account_id":23156228,"reputation":1,"user_id":17257435,"display_name":"coiloffaraday"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695105268,"creation_date":1695105268,"question_id":77132163,"body_markdown":"Firstly, this is my ql script\r\n\r\n```\r\n/**\r\n * @id java/taint\r\n * @name taint\r\n * @description taint\r\n * @kind path-problem\r\n * @problem.severity warning\r\n */\r\n\r\nimport java\r\nimport semmle.code.java.dataflow.DataFlow\r\nimport semmle.code.java.dataflow.FlowSources\r\nimport semmle.code.java.dataflow.TaintTracking\r\nimport DataFlow::PathGraph\r\n\r\nprivate class Sink extends DataFlow::Node {\r\n  Sink() { exists(MethodAccess c | c.getMethod().hasName(&quot;wxLogin&quot;) and c = this.asExpr()) }\r\n}\r\n\r\nprivate class Source extends DataFlow::Node {\r\n  Source() {\r\n    exists(Parameter p |\r\n      p = this.asParameter() and\r\n      exists(Annotation a |\r\n        a = p.getAnAnnotation() and\r\n        a.getType().getName() = &quot;RequestParam&quot;\r\n      )\r\n    )\r\n  }\r\n}\r\n\r\nclass Configuration extends TaintTracking::Configuration {\r\n  Configuration() { this = &quot;Configuration&quot; }\r\n\r\n  override predicate isSource(DataFlow::Node source) { source instanceof RemoteFlowSource }\r\n\r\n  override predicate isSink(DataFlow::Node sink) { sink instanceof Sink }\r\n}\r\n\r\nfrom Configuration cfg, DataFlow::PathNode source, DataFlow::PathNode sink\r\nwhere cfg.hasFlowPath(source, sink)\r\nselect source.getNode(), source, sink, &quot;source&quot;\r\n/*\r\n * from Sink s\r\n * select s\r\n */\r\n\r\n/*\r\n * from RemoteFlowSource r\r\n * select r\r\n */\r\n\r\n```\r\n\r\nAnd the project I use to build the database is from\r\n[github](https://github.com/fu123dawe/weixin-java-miniapp-demo-master)\r\n\r\nA key part of the source project is\r\n\r\n```\r\n    @GetMapping(&quot;/login&quot;)\r\n    public void getCode(@RequestParam(&quot;code&quot;) String code) {\r\n        List&lt;WxMaProperties.Config&gt; configs = wxMaProperties.getConfigs();\r\n        String s = userService.wxLogin(configs.get(0).getAppid(), code);\r\n        System.out.println(s);\r\n    }\r\n```\r\n\r\nwhich is expected to be found a datapath in.\r\n\r\nThe taint spreads from `String code` to `wxLogin()`.\r\n\r\nBut the CodeQl gives no output.\r\n\r\nI wonder if I should do extra configs when analyzing a spring project?\r\n\r\nI&#39;ve already tried to select the sources and the sinks, which turn out to work well enough\r\n\r\n[sink](https://i.stack.imgur.com/IIxsv.png)\r\n\r\n[source](https://i.stack.imgur.com/RRCxd.png)","title":"Fail when using the taint tracking submodule of CodeQl","body":"<p>Firstly, this is my ql script</p>\n<pre><code>/**\n * @id java/taint\n * @name taint\n * @description taint\n * @kind path-problem\n * @problem.severity warning\n */\n\nimport java\nimport semmle.code.java.dataflow.DataFlow\nimport semmle.code.java.dataflow.FlowSources\nimport semmle.code.java.dataflow.TaintTracking\nimport DataFlow::PathGraph\n\nprivate class Sink extends DataFlow::Node {\n  Sink() { exists(MethodAccess c | c.getMethod().hasName(&quot;wxLogin&quot;) and c = this.asExpr()) }\n}\n\nprivate class Source extends DataFlow::Node {\n  Source() {\n    exists(Parameter p |\n      p = this.asParameter() and\n      exists(Annotation a |\n        a = p.getAnAnnotation() and\n        a.getType().getName() = &quot;RequestParam&quot;\n      )\n    )\n  }\n}\n\nclass Configuration extends TaintTracking::Configuration {\n  Configuration() { this = &quot;Configuration&quot; }\n\n  override predicate isSource(DataFlow::Node source) { source instanceof RemoteFlowSource }\n\n  override predicate isSink(DataFlow::Node sink) { sink instanceof Sink }\n}\n\nfrom Configuration cfg, DataFlow::PathNode source, DataFlow::PathNode sink\nwhere cfg.hasFlowPath(source, sink)\nselect source.getNode(), source, sink, &quot;source&quot;\n/*\n * from Sink s\n * select s\n */\n\n/*\n * from RemoteFlowSource r\n * select r\n */\n\n</code></pre>\n<p>And the project I use to build the database is from\n<a href=\"https://github.com/fu123dawe/weixin-java-miniapp-demo-master\" rel=\"nofollow noreferrer\">github</a></p>\n<p>A key part of the source project is</p>\n<pre><code>    @GetMapping(&quot;/login&quot;)\n    public void getCode(@RequestParam(&quot;code&quot;) String code) {\n        List&lt;WxMaProperties.Config&gt; configs = wxMaProperties.getConfigs();\n        String s = userService.wxLogin(configs.get(0).getAppid(), code);\n        System.out.println(s);\n    }\n</code></pre>\n<p>which is expected to be found a datapath in.</p>\n<p>The taint spreads from <code>String code</code> to <code>wxLogin()</code>.</p>\n<p>But the CodeQl gives no output.</p>\n<p>I wonder if I should do extra configs when analyzing a spring project?</p>\n<p>I've already tried to select the sources and the sinks, which turn out to work well enough</p>\n<p><a href=\"https://i.stack.imgur.com/IIxsv.png\" rel=\"nofollow noreferrer\">sink</a></p>\n<p><a href=\"https://i.stack.imgur.com/RRCxd.png\" rel=\"nofollow noreferrer\">source</a></p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":26107900,"reputation":76,"user_id":19802321,"display_name":"Shaikh Faizan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695104368,"creation_date":1695104368,"answer_id":77132091,"question_id":77127373,"body_markdown":"I got the workaround You can&#39;t play using embedded link of loom use webview to play the video.\r\n```\r\npackage com.mokshasolutions.hastekhelte.common;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.WindowManager;\r\nimport android.webkit.WebView;\r\nimport android.webkit.WebViewClient;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\n\r\nimport java.util.Objects;\r\n\r\npublic class VideoPlayerActivity extends AppCompatActivity {\r\n    String videoUrl = &quot;YOUR_LINK&quot;;\r\n    private WebView webView;\r\n    String url;\r\n\r\n    @SuppressLint(&quot;SetJavaScriptEnabled&quot;)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,\r\n                WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n        setContentView(R.layout.activity_video_player);\r\n        Objects.requireNonNull(getSupportActionBar()).hide();\r\n\r\n        webView = findViewById(R.id.webView);\r\n      \r\n            webView.setWebViewClient(new WebViewClient() {\r\n                @Override\r\n                public boolean shouldOverrideUrlLoading(WebView view, String \r\n                    url) {\r\n                    // Prevent the WebView from navigating to clicked links\r\n                    return true;\r\n                }\r\n            });\r\n            webView.getSettings().setLoadsImagesAutomatically(true);\r\n            webView.getSettings().setJavaScriptEnabled(true);\r\n            // Load your desired webpage\r\n            webView.loadUrl(videoUrl);\r\n       \r\n    }\r\n\r\n}\r\n```","title":"Ho to play loom embedded video in java in android","body":"<p>I got the workaround You can't play using embedded link of loom use webview to play the video.</p>\n<pre><code>package com.mokshasolutions.hastekhelte.common;\n\nimport android.annotation.SuppressLint;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.WindowManager;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\n\nimport java.util.Objects;\n\npublic class VideoPlayerActivity extends AppCompatActivity {\n    String videoUrl = &quot;YOUR_LINK&quot;;\n    private WebView webView;\n    String url;\n\n    @SuppressLint(&quot;SetJavaScriptEnabled&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,\n                WindowManager.LayoutParams.FLAG_FULLSCREEN);\n        setContentView(R.layout.activity_video_player);\n        Objects.requireNonNull(getSupportActionBar()).hide();\n\n        webView = findViewById(R.id.webView);\n      \n            webView.setWebViewClient(new WebViewClient() {\n                @Override\n                public boolean shouldOverrideUrlLoading(WebView view, String \n                    url) {\n                    // Prevent the WebView from navigating to clicked links\n                    return true;\n                }\n            });\n            webView.getSettings().setLoadsImagesAutomatically(true);\n            webView.getSettings().setJavaScriptEnabled(true);\n            // Load your desired webpage\n            webView.loadUrl(videoUrl);\n       \n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":26107900,"reputation":76,"user_id":19802321,"display_name":"Shaikh Faizan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695104394,"creation_date":1695041508,"question_id":77127373,"body_markdown":"I want to play a embedded video of loom in my android application.\r\nI have tried VideoView but that doesn&#39;t work it says can&#39;t play this video any workaround for that.\r\nBelow is my code done in videoview\r\n```\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.view.WindowManager;\r\nimport android.widget.MediaController;\r\nimport android.widget.VideoView;\r\n\r\n\r\npublic class VideoPlayerActivity extends AppCompatActivity {\r\n    String videoUrl = &quot;YOUR_LOOM_LINK&quot;;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_video_player);\r\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,\r\n                WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n        VideoView videoView = findViewById(R.id.videoView);\r\n        Uri uri = Uri.parse(videoUrl);\r\n\r\n        // sets the resource from the\r\n        // videoUrl to the videoView\r\n        videoView.setVideoURI(uri);\r\n\r\n        // creating object of\r\n        // media controller class\r\n        MediaController mediaController = new MediaController(this);\r\n\r\n        // sets the anchor view\r\n        // anchor view for the videoView\r\n        mediaController.setAnchorView(videoView);\r\n\r\n        // sets the media player to the videoView\r\n        mediaController.setMediaPlayer(videoView);\r\n\r\n        // sets the media controller to the videoView\r\n        videoView.setMediaController(mediaController);\r\n\r\n        // starts the video\r\n        videoView.start();\r\n    }\r\n}\r\n```","title":"Ho to play loom embedded video in java in android","body":"<p>I want to play a embedded video of loom in my android application.\nI have tried VideoView but that doesn't work it says can't play this video any workaround for that.\nBelow is my code done in videoview</p>\n<pre><code>\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.view.WindowManager;\nimport android.widget.MediaController;\nimport android.widget.VideoView;\n\n\npublic class VideoPlayerActivity extends AppCompatActivity {\n    String videoUrl = &quot;YOUR_LOOM_LINK&quot;;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_video_player);\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,\n                WindowManager.LayoutParams.FLAG_FULLSCREEN);\n        VideoView videoView = findViewById(R.id.videoView);\n        Uri uri = Uri.parse(videoUrl);\n\n        // sets the resource from the\n        // videoUrl to the videoView\n        videoView.setVideoURI(uri);\n\n        // creating object of\n        // media controller class\n        MediaController mediaController = new MediaController(this);\n\n        // sets the anchor view\n        // anchor view for the videoView\n        mediaController.setAnchorView(videoView);\n\n        // sets the media player to the videoView\n        mediaController.setMediaPlayer(videoView);\n\n        // sets the media controller to the videoView\n        videoView.setMediaController(mediaController);\n\n        // starts the video\n        videoView.start();\n    }\n}\n</code></pre>\n"},{"tags":["java","odata","sap-fiori","cds"],"answers":[{"tags":[],"owner":{"account_id":3269319,"reputation":376,"user_id":2753020,"display_name":"wanderlandderek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695104304,"creation_date":1695104304,"answer_id":77132085,"question_id":77110209,"body_markdown":"please check out here https://cap.cloud.sap/docs/guides/providing-services#%E2%80%93-deep-insert , I guess you need a deep insert here if I understand you correctly. Then you need composition rather than association.\r\n\r\n*Note that Associations and Compositions are handled differently in (deep) inserts and updates:\r\nCompositions → runtime deeply creates or updates entries in target entities\r\nAssociations → runtime fills in foreign keys to existing target entries*","title":"Unable to update the association field","body":"<p>please check out here <a href=\"https://cap.cloud.sap/docs/guides/providing-services#%E2%80%93-deep-insert\" rel=\"nofollow noreferrer\">https://cap.cloud.sap/docs/guides/providing-services#%E2%80%93-deep-insert</a> , I guess you need a deep insert here if I understand you correctly. Then you need composition rather than association.</p>\n<p><em>Note that Associations and Compositions are handled differently in (deep) inserts and updates:\nCompositions → runtime deeply creates or updates entries in target entities\nAssociations → runtime fills in foreign keys to existing target entries</em></p>\n"}],"owner":{"account_id":29441653,"reputation":1,"user_id":22559673,"display_name":"Jhunulata Mishra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695104304,"creation_date":1694760619,"question_id":77110209,"body_markdown":"Unable to update the association field:\r\n----------------------------------------\r\n\r\nCDS Entity 1:\r\n-----------\r\n entity PackagingIssues : cuid, managed {\r\n\r\n    PackagingIssueId  :  String;\r\n    issueDes          :  String(80);\r\n    postingDocument   :  PostingDocument;\r\n    }\r\n\r\nCDS Entity 2:\r\n------------\r\n\r\nentity PostingDocuments : cuid,managed {\r\n\r\n    PostingDocumentName  :  String;\r\n    packagingIssue      : Association to many PackagingIssues on \r\n    packagingIssue.postingDocument = $self;\r\n}\r\n\r\n\r\nI have above two entity, i am trying to modify &quot;packagingIssue&quot;, which is a Association of &quot;one-many&quot;.\r\n\r\n\r\n1)when trying **to add new PackagingIssue to the list** and running Update query, then getting  below error\r\n\r\n2023-09-14 17:36:32.155  INFO 24764 --- [nio-8080-exec-9] c.s.c.a.o.v4.processors.CdsProcessor     : Exception marked the ChangeSet 10 as cancelled: Invalid CQN: UPSERT entity &#39;com.sap.di.irp.packagingIssue.PackagingIssues&#39; via association &#39;com.sap.di.irp.postingDocument.PostingDocuments.packagingIssue&#39; is not allowed. **The association does not cascade insert or update**. (service &#39;PersistenceService$Default&#39;, event &#39;UPDATE&#39;, entity &#39;com.sap.di.irp.postingDocument.PostingDocuments&#39;)\r\n\r\n2)when trying to **remove existing object from list** and running Update query, then getting below error\r\n\r\n2023-09-13 17:57:09.198  INFO 23132 --- [io-8080-exec-10] c.s.c.a.o.v4.processors.CdsProcessor     : Exception marked the ChangeSet 44 as cancelled: Invalid CQN: UPDATE entity &#39;com.sap.di.irp.packagingIssue.PackagingIssues&#39; via association &#39;com.sap.di.irp.postingDocument.PostingDocuments.packagingIssue&#39; is not allowed. **The association does not cascade update.** (service &#39;PersistenceService$Default&#39;, event &#39;UPDATE&#39;, entity &#39;com.sap.di.irp.postingDocument.PostingDocuments&#39;)\r\n\r\n\r\n3)when trying **to make existing list null** and running Update query, then getting below error\r\n\r\nError:\r\non marked the ChangeSet 2 as cancelled: Invalid CQN: **Value for to-many associatio**n &#39;com.sap.di.irp.postingDocument.PostingDocuments.packagingIssue&#39; **must not be null. **(service &#39;PersistenceService$Default&#39;, event &#39;UPDATE&#39;, entity &#39;com.sap.di.irp.postingDocument.PostingDocuments&#39;)\r\n\r\n\r\nPlease don’t hesitate to share your thoughts.\r\n\r\n\r\n\r\nExpecting better solution to update association field","title":"Unable to update the association field","body":"<h2>Unable to update the association field:</h2>\n<h2>CDS Entity 1:</h2>\n<p>entity PackagingIssues : cuid, managed {</p>\n<pre><code>PackagingIssueId  :  String;\nissueDes          :  String(80);\npostingDocument   :  PostingDocument;\n}\n</code></pre>\n<h2>CDS Entity 2:</h2>\n<p>entity PostingDocuments : cuid,managed {</p>\n<pre><code>PostingDocumentName  :  String;\npackagingIssue      : Association to many PackagingIssues on \npackagingIssue.postingDocument = $self;\n</code></pre>\n<p>}</p>\n<p>I have above two entity, i am trying to modify &quot;packagingIssue&quot;, which is a Association of &quot;one-many&quot;.</p>\n<p>1)when trying <strong>to add new PackagingIssue to the list</strong> and running Update query, then getting  below error</p>\n<p>2023-09-14 17:36:32.155  INFO 24764 --- [nio-8080-exec-9] c.s.c.a.o.v4.processors.CdsProcessor     : Exception marked the ChangeSet 10 as cancelled: Invalid CQN: UPSERT entity 'com.sap.di.irp.packagingIssue.PackagingIssues' via association 'com.sap.di.irp.postingDocument.PostingDocuments.packagingIssue' is not allowed. <strong>The association does not cascade insert or update</strong>. (service 'PersistenceService$Default', event 'UPDATE', entity 'com.sap.di.irp.postingDocument.PostingDocuments')</p>\n<p>2)when trying to <strong>remove existing object from list</strong> and running Update query, then getting below error</p>\n<p>2023-09-13 17:57:09.198  INFO 23132 --- [io-8080-exec-10] c.s.c.a.o.v4.processors.CdsProcessor     : Exception marked the ChangeSet 44 as cancelled: Invalid CQN: UPDATE entity 'com.sap.di.irp.packagingIssue.PackagingIssues' via association 'com.sap.di.irp.postingDocument.PostingDocuments.packagingIssue' is not allowed. <strong>The association does not cascade update.</strong> (service 'PersistenceService$Default', event 'UPDATE', entity 'com.sap.di.irp.postingDocument.PostingDocuments')</p>\n<p>3)when trying <strong>to make existing list null</strong> and running Update query, then getting below error</p>\n<p>Error:\non marked the ChangeSet 2 as cancelled: Invalid CQN: <strong>Value for to-many associatio</strong>n 'com.sap.di.irp.postingDocument.PostingDocuments.packagingIssue' **must not be null. **(service 'PersistenceService$Default', event 'UPDATE', entity 'com.sap.di.irp.postingDocument.PostingDocuments')</p>\n<p>Please don’t hesitate to share your thoughts.</p>\n<p>Expecting better solution to update association field</p>\n"},{"tags":["java","android","android-assets"],"comments":[{"owner":{"account_id":2868776,"reputation":20877,"user_id":2462531,"accept_rate":40,"display_name":"Shailendra Madda"},"score":1,"creation_date":1559719965,"post_id":22906068,"comment_id":99504145,"body_markdown":"I found a way to do it refer to my answer [here](https://stackoverflow.com/a/56455963/2462531)","body":"I found a way to do it refer to my answer <a href=\"https://stackoverflow.com/a/56455963/2462531\">here</a>"}],"answers":[{"tags":[],"owner":{"account_id":890754,"reputation":7857,"user_id":929075,"accept_rate":67,"display_name":"Ion Aalbers"},"down_vote_count":3,"up_vote_count":13,"is_accepted":false,"score":10,"last_activity_date":1396855834,"creation_date":1396855834,"answer_id":22906111,"question_id":22906068,"body_markdown":"Try:\r\n\r\n    file:///android_asset/raw/sample/logout.png\r\n\r\n\r\nIf you have a Context, you can use `context.getAssets().open(&quot;raw/sample/logout.png&quot;)` to open an `InputStream` on the file. ","title":"how to get file path of asset folder in android","body":"<p>Try:</p>\n\n<pre><code>file:///android_asset/raw/sample/logout.png\n</code></pre>\n\n<p>If you have a Context, you can use <code>context.getAssets().open(\"raw/sample/logout.png\")</code> to open an <code>InputStream</code> on the file. </p>\n"},{"tags":[],"owner":{"account_id":3122255,"reputation":455,"user_id":2641797,"accept_rate":22,"display_name":"Sanu"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1396856331,"creation_date":1396855891,"answer_id":22906128,"question_id":22906068,"body_markdown":"Assets and resources are accessible using file:///android_asset and file:///android_res.\r\n\r\n     Uri path = Uri.parse(&quot;file:///android_asset/raw/sample/logout.png&quot;);\r\n\r\n     String newPath = path.toString();\r\n\t\t","title":"how to get file path of asset folder in android","body":"<p>Assets and resources are accessible using file:///android_asset and file:///android_res.</p>\n\n<pre><code> Uri path = Uri.parse(\"file:///android_asset/raw/sample/logout.png\");\n\n String newPath = path.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6450469,"reputation":66,"user_id":4997536,"display_name":"Nazmul Alam Khan"},"down_vote_count":2,"up_vote_count":2,"is_accepted":true,"score":0,"last_activity_date":1464674159,"creation_date":1464674159,"answer_id":37537806,"question_id":22906068,"body_markdown":"You could put your mp3 files at : res/raw folder.        \r\n\r\n    MediaPlayer mediaPlayer = MediaPlayer.create(getApplicationContext(), R.raw.myringtone);\r\n    mediaPlayer.start();","title":"how to get file path of asset folder in android","body":"<p>You could put your mp3 files at : res/raw folder.        </p>\n\n<pre><code>MediaPlayer mediaPlayer = MediaPlayer.create(getApplicationContext(), R.raw.myringtone);\nmediaPlayer.start();\n</code></pre>\n"}],"owner":{"account_id":1634874,"reputation":789,"user_id":1508641,"accept_rate":92,"display_name":"sivanesan1"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87871,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":37537806,"answer_count":3,"score":14,"last_activity_date":1695102177,"creation_date":1396855727,"question_id":22906068,"body_markdown":"I have an Android application used to transfer the .png image from asset folder of Android application to my local server. I need to get the path of image in asset folder, pls refer my code below,\r\n\r\n    String stringPath = &quot;android.resource//&quot;+getPackageName()+&quot;/raw/sample/logout.png&quot;;\t\t\t\t\r\n    File f = new File(stringPath);\r\n\r\nIf I use the above code I got &quot;File not found exception&quot;. So how to take image path in asset folder?\r\n\r\n","title":"how to get file path of asset folder in android","body":"<p>I have an Android application used to transfer the .png image from asset folder of Android application to my local server. I need to get the path of image in asset folder, pls refer my code below,</p>\n\n<pre><code>String stringPath = \"android.resource//\"+getPackageName()+\"/raw/sample/logout.png\";             \nFile f = new File(stringPath);\n</code></pre>\n\n<p>If I use the above code I got \"File not found exception\". So how to take image path in asset folder?</p>\n"},{"tags":["java","maven","unit-testing","testing","hibernate-validator"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1692750287,"post_id":76956469,"comment_id":135666133,"body_markdown":"I would check to run your build with JDK 8...","body":"I would check to run your build with JDK 8..."},{"owner":{"account_id":4620550,"reputation":1723,"user_id":3748178,"accept_rate":22,"display_name":"Salathiel Genese"},"score":0,"creation_date":1692794315,"post_id":76956469,"comment_id":135672358,"body_markdown":"The POM requires JDK 11 but the README reads `You will also need a JDK 17+ and Maven 3 (&gt;= 3.3.1).`","body":"The POM requires JDK 11 but the README reads <code>You will also need a JDK 17+ and Maven 3 (&gt;= 3.3.1).</code>"}],"answers":[{"tags":[],"owner":{"account_id":4620550,"reputation":1723,"user_id":3748178,"accept_rate":22,"display_name":"Salathiel Genese"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695100993,"creation_date":1695100993,"answer_id":77131895,"question_id":76956469,"body_markdown":"Maven revolves around **goals** which are composable (eg.: `test` goals is made of `compile` goal, same is true for `install` and `test`, respectively).\r\n\r\nAFAIK, `install` goal will `test`, `compile`, `package` and `copy artifact to local repository`.\r\n\r\nIn order to avoid the latter side effect (polluting my local repository because it is shared across projects), I have been doing &lt;del&gt;`mvn clean test`&lt;/del&gt;... Until this morning:\r\n```shell\r\n# More tests passed with this\r\nmvn clean install\r\n```\r\n\r\n`hibernate-validator-distribution` then failed with:\r\n\r\n&gt; hibernate-validator-distribution: An error has occurred in Javadoc report generation: Unable to find javadoc command: The environment variable JAVA_HOME is not correctly set.\r\n\r\nI had `JAVA_HOME=&quot;...&quot;` in both my **~/.bashrc** and **~/.ondirrc** but the fix was:\r\n```sh\r\nexport JAVA_HOME=&quot;$JAVA_HOME&quot;\r\n```\r\n\r\n*NOTE TO SELF: I guess I don&#39;t know what I don&#39;t know.*","title":"How to run tests for OSS Hibernqte Validator on Linux","body":"<p>Maven revolves around <strong>goals</strong> which are composable (eg.: <code>test</code> goals is made of <code>compile</code> goal, same is true for <code>install</code> and <code>test</code>, respectively).</p>\n<p>AFAIK, <code>install</code> goal will <code>test</code>, <code>compile</code>, <code>package</code> and <code>copy artifact to local repository</code>.</p>\n<p>In order to avoid the latter side effect (polluting my local repository because it is shared across projects), I have been doing <del><code>mvn clean test</code></del>... Until this morning:</p>\n<pre class=\"lang-bash prettyprint-override\"><code># More tests passed with this\nmvn clean install\n</code></pre>\n<p><code>hibernate-validator-distribution</code> then failed with:</p>\n<blockquote>\n<p>hibernate-validator-distribution: An error has occurred in Javadoc report generation: Unable to find javadoc command: The environment variable JAVA_HOME is not correctly set.</p>\n</blockquote>\n<p>I had <code>JAVA_HOME=&quot;...&quot;</code> in both my <strong>~/.bashrc</strong> and <strong>~/.ondirrc</strong> but the fix was:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>export JAVA_HOME=&quot;$JAVA_HOME&quot;\n</code></pre>\n<p><em>NOTE TO SELF: I guess I don't know what I don't know.</em></p>\n"}],"owner":{"account_id":4620550,"reputation":1723,"user_id":3748178,"accept_rate":22,"display_name":"Salathiel Genese"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695100993,"creation_date":1692733678,"question_id":76956469,"body_markdown":"I started fiddling around [Hibernate Validator](https://github.com/hibernate/hibernate-validator), OSS Project in order to fork it later. But I cannot run the tests locally. I followed the official documentation for [Contributing to Hibernate Validator](http://hibernate.org/validator/contribute/) which has a section for **Building from Source**.\r\n\r\n#### So why asking on SO instead?\r\n\r\nI&#39;ve been rumbling about this for a couple of months now and last weekend, a friend decided to look into it. Initially, it failed just as with on my PC. But he checked out the `8.0.1.Final` tag and it succeeded.\r\n\r\nSo late last night, I tried it and failed. It happens that:\r\n\r\n+ he is on Windows, using JDK 17 from Oracle vs. I&#39;m on Ubuntu 22.04 with Oracle JDK 17\r\n+ previously, I failed with Graal VM for JDK 19, OpenLogic&#39;s JDK 17\r\n+ he&#39;s on Maven `3.9.3` and I tried on `3.9.0` &amp; `3.9.4`\r\n\r\nSome module test passed with Maven `3.9.4` &amp; Oracle&#39;s JDK 17:\r\n```\r\nApache Maven 3.9.4 (dfbb324ad4a7c8fb0bf182e6d91b0ae20e3d2dd9)\r\nMaven home: /home/salathiel/.local/bin/maven\r\nJava version: 17.0.8, vendor: Oracle Corporation, runtime: /home/salathiel/.local/opt/jdk-17.0.8\r\nDefault locale: en_GB, platform encoding: UTF-8\r\nOS name: &quot;linux&quot;, version: &quot;6.2.0-26-generic&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\r\n```\r\n\r\n#### Personal Reflections\r\n\r\nI do not think a Java project as Hibernate is made to be developed on Windows only, nor compiled with a specific JDK version/edition. I must be missing on something fundamental.\r\n\r\n#### Enough whining\r\n\r\nI&#39;m concerned with two weird exceptions:\r\n\r\n+ NoClassDefFound\r\n+ JavaSecurityException\r\n\r\nHere is the stack trace:\r\n```\r\n[INFO] Running TestSuite\r\n[ERROR] Tests run: 982, Failures: 963, Errors: 0, Skipped: 0, Time elapsed: 24.262 s &lt;&lt;&lt; FAILURE! - in TestSuite\r\n[ERROR] testUnknownProviderConfiguredInValidationXml(org.hibernate.beanvalidation.tck.tests.bootstrap.customprovider.BootstrapNonAvailableValidationProviderTest)  Time elapsed: 0.037 s  &lt;&lt;&lt; FAILURE!\r\norg.testng.TestException: \r\n\r\nExpected exception of type class jakarta.validation.ValidationException but got java.security.AccessControlException: access denied (&quot;java.lang.RuntimePermission&quot; &quot;setContextClassLoader&quot;)\r\n\tat org.hibernate.beanvalidation.tck.tests.bootstrap.customprovider.BootstrapNonAvailableValidationProviderTest.testUnknownProviderConfiguredInValidationXml(BootstrapNonAvailableValidationProviderTest.java:58)\r\n```\r\n[...]\r\n```\r\nExpected exception of type class jakarta.validation.ValidationException but got java.security.AccessControlException: access denied (&quot;java.lang.RuntimePermission&quot; &quot;setContextClassLoader&quot;)\r\n\tat org.hibernate.beanvalidation.tck.tests.xmlconfiguration.versioning.UnknownVersionInValidationXmlTest.testValidationXmlWithUnknownSchemaVersion(UnknownVersionInValidationXmlTest.java:43)\r\n```\r\n[...]\r\n```\r\n[INFO] \r\n[ERROR] Tests run: 982, Failures: 963, Errors: 0, Skipped: 0\r\n[INFO] \r\n[INFO] ------------------------------------------------------------------------\r\n```","title":"How to run tests for OSS Hibernqte Validator on Linux","body":"<p>I started fiddling around <a href=\"https://github.com/hibernate/hibernate-validator\" rel=\"nofollow noreferrer\">Hibernate Validator</a>, OSS Project in order to fork it later. But I cannot run the tests locally. I followed the official documentation for <a href=\"http://hibernate.org/validator/contribute/\" rel=\"nofollow noreferrer\">Contributing to Hibernate Validator</a> which has a section for <strong>Building from Source</strong>.</p>\n<h4>So why asking on SO instead?</h4>\n<p>I've been rumbling about this for a couple of months now and last weekend, a friend decided to look into it. Initially, it failed just as with on my PC. But he checked out the <code>8.0.1.Final</code> tag and it succeeded.</p>\n<p>So late last night, I tried it and failed. It happens that:</p>\n<ul>\n<li>he is on Windows, using JDK 17 from Oracle vs. I'm on Ubuntu 22.04 with Oracle JDK 17</li>\n<li>previously, I failed with Graal VM for JDK 19, OpenLogic's JDK 17</li>\n<li>he's on Maven <code>3.9.3</code> and I tried on <code>3.9.0</code> &amp; <code>3.9.4</code></li>\n</ul>\n<p>Some module test passed with Maven <code>3.9.4</code> &amp; Oracle's JDK 17:</p>\n<pre><code>Apache Maven 3.9.4 (dfbb324ad4a7c8fb0bf182e6d91b0ae20e3d2dd9)\nMaven home: /home/salathiel/.local/bin/maven\nJava version: 17.0.8, vendor: Oracle Corporation, runtime: /home/salathiel/.local/opt/jdk-17.0.8\nDefault locale: en_GB, platform encoding: UTF-8\nOS name: &quot;linux&quot;, version: &quot;6.2.0-26-generic&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\n</code></pre>\n<h4>Personal Reflections</h4>\n<p>I do not think a Java project as Hibernate is made to be developed on Windows only, nor compiled with a specific JDK version/edition. I must be missing on something fundamental.</p>\n<h4>Enough whining</h4>\n<p>I'm concerned with two weird exceptions:</p>\n<ul>\n<li>NoClassDefFound</li>\n<li>JavaSecurityException</li>\n</ul>\n<p>Here is the stack trace:</p>\n<pre><code>[INFO] Running TestSuite\n[ERROR] Tests run: 982, Failures: 963, Errors: 0, Skipped: 0, Time elapsed: 24.262 s &lt;&lt;&lt; FAILURE! - in TestSuite\n[ERROR] testUnknownProviderConfiguredInValidationXml(org.hibernate.beanvalidation.tck.tests.bootstrap.customprovider.BootstrapNonAvailableValidationProviderTest)  Time elapsed: 0.037 s  &lt;&lt;&lt; FAILURE!\norg.testng.TestException: \n\nExpected exception of type class jakarta.validation.ValidationException but got java.security.AccessControlException: access denied (&quot;java.lang.RuntimePermission&quot; &quot;setContextClassLoader&quot;)\n    at org.hibernate.beanvalidation.tck.tests.bootstrap.customprovider.BootstrapNonAvailableValidationProviderTest.testUnknownProviderConfiguredInValidationXml(BootstrapNonAvailableValidationProviderTest.java:58)\n</code></pre>\n<p>[...]</p>\n<pre><code>Expected exception of type class jakarta.validation.ValidationException but got java.security.AccessControlException: access denied (&quot;java.lang.RuntimePermission&quot; &quot;setContextClassLoader&quot;)\n    at org.hibernate.beanvalidation.tck.tests.xmlconfiguration.versioning.UnknownVersionInValidationXmlTest.testValidationXmlWithUnknownSchemaVersion(UnknownVersionInValidationXmlTest.java:43)\n</code></pre>\n<p>[...]</p>\n<pre><code>[INFO] \n[ERROR] Tests run: 982, Failures: 963, Errors: 0, Skipped: 0\n[INFO] \n[INFO] ------------------------------------------------------------------------\n</code></pre>\n"},{"tags":["java","maven","pom.xml"],"answers":[{"tags":[],"owner":{"account_id":2993414,"reputation":12019,"user_id":2540471,"display_name":"Robert Scholte"},"down_vote_count":0,"up_vote_count":54,"is_accepted":true,"score":54,"last_activity_date":1421866830,"creation_date":1421866830,"answer_id":28074776,"question_id":28071697,"body_markdown":"The `settings.xml` is considered personal, so for that reason the username+password are stored in the (user-)`settings.xml`. So in general there&#39;s no reason to pass them as argument. (btw, passwords can be stored encrypted here) The `maven-deploy-plugin` has no option to pass them via commandline. However, I&#39;ve seen hacks like:\r\n\r\n    &lt;username&gt;${internal.repo.username}&lt;/username&gt;\r\n\r\nAnd now you can do `-Dinternal.repo.username=someUser`","title":"Is it possible to pass a password in Maven Deploy in the command line?","body":"<p>The <code>settings.xml</code> is considered personal, so for that reason the username+password are stored in the (user-)<code>settings.xml</code>. So in general there's no reason to pass them as argument. (btw, passwords can be stored encrypted here) The <code>maven-deploy-plugin</code> has no option to pass them via commandline. However, I've seen hacks like:</p>\n\n<pre><code>&lt;username&gt;${internal.repo.username}&lt;/username&gt;\n</code></pre>\n\n<p>And now you can do <code>-Dinternal.repo.username=someUser</code></p>\n"},{"tags":[],"owner":{"account_id":3433285,"reputation":4199,"user_id":2877029,"accept_rate":62,"display_name":"Viacheslav Shalamov"},"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1595846768,"creation_date":1556887593,"answer_id":55970125,"question_id":28071697,"body_markdown":"I&#39;ll lay out here the full solution, but basically Robert Scholte&#39;s solution works brilliant.\r\n\r\nIn your `~/.m2/settings.xml` you should have the following\r\n\r\n```xml\r\n&lt;settings&gt;\r\n    &lt;servers&gt;\r\n        &lt;server&gt;\r\n            &lt;id&gt;${repo.id}&lt;/id&gt;\r\n            &lt;username&gt;${repo.login}&lt;/username&gt;\r\n            &lt;password&gt;${repo.pwd}&lt;/password&gt;\r\n        &lt;/server&gt;\r\n    &lt;/servers&gt;\r\n&lt;/settings&gt;  \r\n```\r\n\r\nand then you just \r\n\r\n`mvn  -Drepo.id=myRepo -Drepo.login=someUser -Drepo.pwd=somePassword clean install`\r\n\r\nYou can even use your environment variable (if you are doing that on the remote server/container, for example):\r\n\r\n`mvn -Drepo.id=$REPO_ID -Drepo.login=$REPO_LOGIN -Drepo.pwd=$REPO_PWD clean install`","title":"Is it possible to pass a password in Maven Deploy in the command line?","body":"<p>I'll lay out here the full solution, but basically Robert Scholte's solution works brilliant.</p>\n<p>In your <code>~/.m2/settings.xml</code> you should have the following</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;settings&gt;\n    &lt;servers&gt;\n        &lt;server&gt;\n            &lt;id&gt;${repo.id}&lt;/id&gt;\n            &lt;username&gt;${repo.login}&lt;/username&gt;\n            &lt;password&gt;${repo.pwd}&lt;/password&gt;\n        &lt;/server&gt;\n    &lt;/servers&gt;\n&lt;/settings&gt;  \n</code></pre>\n<p>and then you just</p>\n<p><code>mvn  -Drepo.id=myRepo -Drepo.login=someUser -Drepo.pwd=somePassword clean install</code></p>\n<p>You can even use your environment variable (if you are doing that on the remote server/container, for example):</p>\n<p><code>mvn -Drepo.id=$REPO_ID -Drepo.login=$REPO_LOGIN -Drepo.pwd=$REPO_PWD clean install</code></p>\n"},{"tags":[],"owner":{"account_id":10274925,"reputation":106,"user_id":7582177,"display_name":"aloraine"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1568888338,"creation_date":1568888338,"answer_id":58008821,"question_id":28071697,"body_markdown":"This also works:\r\n\r\n    &lt;server&gt;\r\n      &lt;id&gt;${repo.id}&lt;/id&gt;\r\n      &lt;username&gt;${repo.username}&lt;/username&gt;\r\n      &lt;password&gt;${repo.password}&lt;/password&gt;\r\n    &lt;/server&gt;\r\n\r\n","title":"Is it possible to pass a password in Maven Deploy in the command line?","body":"<p>This also works:</p>\n\n<pre><code>&lt;server&gt;\n  &lt;id&gt;${repo.id}&lt;/id&gt;\n  &lt;username&gt;${repo.username}&lt;/username&gt;\n  &lt;password&gt;${repo.password}&lt;/password&gt;\n&lt;/server&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16452558,"reputation":1,"user_id":22590118,"display_name":"Ashish kumar jha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695100833,"creation_date":1695100833,"answer_id":77131884,"question_id":28071697,"body_markdown":"&gt; It is working fine for me, we can define username and password\r\n&gt; variable mane anything, we choose,  but we must use the `repositoryId`\r\n&gt; variable for the id in the settings.xml.\r\n\r\n***It has been tested with maven version &quot;Apache Maven 3.6.3 (Red Hat 3.6.3-13)&quot;***\r\n\r\nAdd this snippet to settings.xml :\r\n================================== \r\n\r\n    &lt;servers&gt;\r\n      &lt;server&gt;\r\n        &lt;id&gt;${repositoryId}&lt;/id&gt;\r\n        &lt;username&gt;${repo.login}&lt;/username&gt;\r\n        &lt;password&gt;${repo.pwd}&lt;/password&gt;\r\n      &lt;/server&gt;\r\n    &lt;/servers&gt;\r\n\r\nRun this snippet to upload a file to Nexus : \r\n============================================\r\n\r\n    mvn deploy:deploy-file -DrepositoryId=&lt;repoid&gt; -Drepo.login=&lt;username&gt; -Drepo.pwd=&lt;password&gt; -Durl=http://&lt;url of Nuxus&gt;:&lt;port&gt;/repository/&lt;repository space&gt; -Dfile=&lt;file location&gt; -DgroupId=&lt;Group Id&gt; -DartifactId=&lt;artfact id&gt;  -Dversion=&lt;version&gt; -Dpackaging=&lt;packaging&gt; -Dclassifier=&lt;classifier&gt; -X","title":"Is it possible to pass a password in Maven Deploy in the command line?","body":"<blockquote>\n<p>It is working fine for me, we can define username and password\nvariable mane anything, we choose,  but we must use the <code>repositoryId</code>\nvariable for the id in the settings.xml.</p>\n</blockquote>\n<p><em><strong>It has been tested with maven version &quot;Apache Maven 3.6.3 (Red Hat 3.6.3-13)&quot;</strong></em></p>\n<h1>Add this snippet to settings.xml :</h1>\n<pre><code>&lt;servers&gt;\n  &lt;server&gt;\n    &lt;id&gt;${repositoryId}&lt;/id&gt;\n    &lt;username&gt;${repo.login}&lt;/username&gt;\n    &lt;password&gt;${repo.pwd}&lt;/password&gt;\n  &lt;/server&gt;\n&lt;/servers&gt;\n</code></pre>\n<h1>Run this snippet to upload a file to Nexus :</h1>\n<pre><code>mvn deploy:deploy-file -DrepositoryId=&lt;repoid&gt; -Drepo.login=&lt;username&gt; -Drepo.pwd=&lt;password&gt; -Durl=http://&lt;url of Nuxus&gt;:&lt;port&gt;/repository/&lt;repository space&gt; -Dfile=&lt;file location&gt; -DgroupId=&lt;Group Id&gt; -DartifactId=&lt;artfact id&gt;  -Dversion=&lt;version&gt; -Dpackaging=&lt;packaging&gt; -Dclassifier=&lt;classifier&gt; -X\n</code></pre>\n"}],"owner":{"account_id":4767693,"reputation":1089,"user_id":3853394,"accept_rate":100,"display_name":"stef52"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90634,"favorite_count":0,"down_vote_count":0,"up_vote_count":57,"accepted_answer_id":28074776,"answer_count":4,"score":57,"last_activity_date":1695100833,"creation_date":1421856338,"question_id":28071697,"body_markdown":"This is the way it currently works, and it&#39;s the [Maven Deploy Plugin Usage](https://maven.apache.org/plugins/maven-deploy-plugin/usage.html)\r\n\r\npom.xml\r\n\r\n    [...]\r\n      &lt;distributionManagement&gt;\r\n        &lt;repository&gt;\r\n          &lt;id&gt;internal.repo&lt;/id&gt;\r\n          &lt;name&gt;MyCo Internal Repository&lt;/name&gt;\r\n          &lt;url&gt;Host to Company Repository&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n      &lt;/distributionManagement&gt;\r\n    [...]\r\n\r\nsettings.xml\r\n\r\n    [...]\r\n        &lt;server&gt;\r\n          &lt;id&gt;internal.repo&lt;/id&gt;\r\n          &lt;username&gt;someUser&lt;/username&gt;\r\n          &lt;password&gt;somePassword&lt;/password&gt;\r\n        &lt;/server&gt;\r\n    [...]\r\n\r\nand what I&#39;m trying to achieve is finding a way in which the username and password are typed in at the command line. to achieve `mvn deploy -someUser -somePassword`","title":"Is it possible to pass a password in Maven Deploy in the command line?","body":"<p>This is the way it currently works, and it's the <a href=\"https://maven.apache.org/plugins/maven-deploy-plugin/usage.html\">Maven Deploy Plugin Usage</a></p>\n\n<p>pom.xml</p>\n\n<pre><code>[...]\n  &lt;distributionManagement&gt;\n    &lt;repository&gt;\n      &lt;id&gt;internal.repo&lt;/id&gt;\n      &lt;name&gt;MyCo Internal Repository&lt;/name&gt;\n      &lt;url&gt;Host to Company Repository&lt;/url&gt;\n    &lt;/repository&gt;\n  &lt;/distributionManagement&gt;\n[...]\n</code></pre>\n\n<p>settings.xml</p>\n\n<pre><code>[...]\n    &lt;server&gt;\n      &lt;id&gt;internal.repo&lt;/id&gt;\n      &lt;username&gt;someUser&lt;/username&gt;\n      &lt;password&gt;somePassword&lt;/password&gt;\n    &lt;/server&gt;\n[...]\n</code></pre>\n\n<p>and what I'm trying to achieve is finding a way in which the username and password are typed in at the command line. to achieve <code>mvn deploy -someUser -somePassword</code></p>\n"},{"tags":["java","design-patterns","visitor-pattern"],"comments":[{"owner":{"account_id":27725738,"reputation":179,"user_id":21165336,"display_name":"Xavier Z."},"score":0,"creation_date":1695101519,"post_id":6252372,"comment_id":135975270,"body_markdown":"I believe it&#39;s hard to demonstrate Visitor Pattern with several lines since it&#39;s meant for more complicated situation. I provided a high-levle understanding as below and hope it helps for the new to Visitor Pattern, it&#39;s not that hard.","body":"I believe it&#39;s hard to demonstrate Visitor Pattern with several lines since it&#39;s meant for more complicated situation. I provided a high-levle understanding as below and hope it helps for the new to Visitor Pattern, it&#39;s not that hard."}],"answers":[{"tags":[],"owner":{"account_id":37701,"reputation":44030,"user_id":128645,"accept_rate":100,"display_name":"Jeff Foster"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1307367067,"creation_date":1307365541,"answer_id":6252443,"question_id":6252372,"body_markdown":"The visitor pattern is just [double dispatch][1].\r\n\r\nI&#39;m not sure I agree with your implementation of a visitor. I&#39;d implement something like this:\r\n\r\n    interface MammalVisitor {\r\n        void visit(Pirate pirate);\r\n        void visit(Human human);\r\n        void visit(Dog dog);\r\n    }\r\n\r\n    // Basic visitor provides no-op behaviour for everything.\r\n    abstract class MammalAdapter implements MammalVisitor {\r\n        void visit(Pirate pirate) {};\r\n        void visit(Human human) {};\r\n        void visit(Dog dog) {};\r\n    }\r\n\r\nAnd then the implementation would become cleaner:\r\n\r\n    // We only want to provide specific behaviour for pirates\r\n    class WoodLegCounterVisitor extends MammalAdaptor {\r\n        private int woodLegNumber = 0;\r\n        @Override\r\n        public void visit(Pirate pirate) {   \r\n            woodLegNumber += pirate.getWoodLegNumber();\r\n        }\r\n\r\n        public int getWoodLegNumber() { return woodLegNumber; }\r\n    }\r\n\r\nIn answer to your actual question, the main advantage of using the visitor is avoiding the need to do the &quot;instanceof&quot; checks.  It gives you the ability to separate out the logic for processing a hierarchy into a separate class.  It also gives you the ability to add new behaviour without changing the original classes.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Double_dispatch","title":"Questions about the Visitor pattern (sample in Java)","body":"<p>The visitor pattern is just <a href=\"http://en.wikipedia.org/wiki/Double_dispatch\" rel=\"nofollow\">double dispatch</a>.</p>\n\n<p>I'm not sure I agree with your implementation of a visitor. I'd implement something like this:</p>\n\n<pre><code>interface MammalVisitor {\n    void visit(Pirate pirate);\n    void visit(Human human);\n    void visit(Dog dog);\n}\n\n// Basic visitor provides no-op behaviour for everything.\nabstract class MammalAdapter implements MammalVisitor {\n    void visit(Pirate pirate) {};\n    void visit(Human human) {};\n    void visit(Dog dog) {};\n}\n</code></pre>\n\n<p>And then the implementation would become cleaner:</p>\n\n<pre><code>// We only want to provide specific behaviour for pirates\nclass WoodLegCounterVisitor extends MammalAdaptor {\n    private int woodLegNumber = 0;\n    @Override\n    public void visit(Pirate pirate) {   \n        woodLegNumber += pirate.getWoodLegNumber();\n    }\n\n    public int getWoodLegNumber() { return woodLegNumber; }\n}\n</code></pre>\n\n<p>In answer to your actual question, the main advantage of using the visitor is avoiding the need to do the \"instanceof\" checks.  It gives you the ability to separate out the logic for processing a hierarchy into a separate class.  It also gives you the ability to add new behaviour without changing the original classes.</p>\n"},{"tags":[],"owner":{"account_id":91502,"reputation":88301,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"down_vote_count":3,"up_vote_count":5,"is_accepted":false,"score":2,"last_activity_date":1307366279,"creation_date":1307365967,"answer_id":6252519,"question_id":6252372,"body_markdown":"The purpose of the [Visitor Pattern][1] is to separate the object structure (in your case, `Mammal`) from the algorithm (in your case, the counter Leg counter algorithm).\r\n\r\nThe whole idea is that your object (mostly in java, JavaBeans) doesn&#39;t change its structure at all, and only a new [virtual function][2] is introduced to introduce a new algorithm.\r\n\r\nUnlike [Jeff Foster][3]&#39;s implementation, One can use Generics to make code easier. This brings specificity to your visitor, e.g.:\r\n\r\n    public interface MammalVisitor&lt;T extends Mammal&gt; {\r\n    \r\n    \tpublic void visit(T mammal);\r\n    }\r\n    \r\n    public class LegCounterVisitor implements MamalVisitor&lt;Human&gt; {\r\n        private int legNumber = 0;\r\n        @Override\r\n        public void visit(Human mammal) {   legNumber += mammal.getLegsNumber();   }\r\n        public int getLegNumber() { return legNumber; }\r\n    }\r\n    \r\n    public class WoodLegCounterVisitor implements MamalVisitor&lt;Pirate&gt; {\r\n        private int legNumber = 0;\r\n        @Override\r\n        public void visit(Pirate mammal) {legNumber += mammal.getWoodLegNumber();   }\r\n        public int getLegNumber() { return legNumber; }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Visitor_pattern\r\n  [2]: http://en.wikipedia.org/wiki/Virtual_function\r\n  [3]: https://stackoverflow.com/users/128645/jeff-foster\r\n","title":"Questions about the Visitor pattern (sample in Java)","body":"<p>The purpose of the <a href=\"http://en.wikipedia.org/wiki/Visitor_pattern\" rel=\"nofollow noreferrer\">Visitor Pattern</a> is to separate the object structure (in your case, <code>Mammal</code>) from the algorithm (in your case, the counter Leg counter algorithm).</p>\n\n<p>The whole idea is that your object (mostly in java, JavaBeans) doesn't change its structure at all, and only a new <a href=\"http://en.wikipedia.org/wiki/Virtual_function\" rel=\"nofollow noreferrer\">virtual function</a> is introduced to introduce a new algorithm.</p>\n\n<p>Unlike <a href=\"https://stackoverflow.com/users/128645/jeff-foster\">Jeff Foster</a>'s implementation, One can use Generics to make code easier. This brings specificity to your visitor, e.g.:</p>\n\n<pre><code>public interface MammalVisitor&lt;T extends Mammal&gt; {\n\n    public void visit(T mammal);\n}\n\npublic class LegCounterVisitor implements MamalVisitor&lt;Human&gt; {\n    private int legNumber = 0;\n    @Override\n    public void visit(Human mammal) {   legNumber += mammal.getLegsNumber();   }\n    public int getLegNumber() { return legNumber; }\n}\n\npublic class WoodLegCounterVisitor implements MamalVisitor&lt;Pirate&gt; {\n    private int legNumber = 0;\n    @Override\n    public void visit(Pirate mammal) {legNumber += mammal.getWoodLegNumber();   }\n    public int getLegNumber() { return legNumber; }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":272843,"reputation":4000,"user_id":564145,"display_name":"Nicolas Bousquet"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1586360916,"creation_date":1307368020,"answer_id":6252964,"question_id":6252372,"body_markdown":"[Visitor pattern][1] is a fancy switch case / pattern matching system to facilitate [graph traversal][2]. \r\n\r\nAs typical functional languages offer pattern matching and efficient ways to traverse graphs, interest is much more limited.\r\n\r\nEven in JAVA, with `instanceof` or using `enum`, a visitor is more of a fancy way to perform things than a generic solution as many algorithms will not fit well into it.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Visitor_pattern\r\n  [2]: https://en.m.wikipedia.org/wiki/Graph_traversal","title":"Questions about the Visitor pattern (sample in Java)","body":"<p><a href=\"https://en.wikipedia.org/wiki/Visitor_pattern\" rel=\"nofollow noreferrer\">Visitor pattern</a> is a fancy switch case / pattern matching system to facilitate <a href=\"https://en.m.wikipedia.org/wiki/Graph_traversal\" rel=\"nofollow noreferrer\">graph traversal</a>. </p>\n\n<p>As typical functional languages offer pattern matching and efficient ways to traverse graphs, interest is much more limited.</p>\n\n<p>Even in JAVA, with <code>instanceof</code> or using <code>enum</code>, a visitor is more of a fancy way to perform things than a generic solution as many algorithms will not fit well into it.</p>\n"},{"tags":[],"owner":{"account_id":27725738,"reputation":179,"user_id":21165336,"display_name":"Xavier Z."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695100641,"creation_date":1695095302,"answer_id":77131610,"question_id":6252372,"body_markdown":"It seems all the answers above provided a detailed explanation at the data structure/algorithm level, however, a high-level/conceptual understanding is still lacking. And the lacking of conceptual understanding may lead to misunderstanding that Visitor Pattern is nothing more than a fancy style.\r\n\r\nIMHO, let&#39;s consider that all interactions among your domain entities could be reduced to one-to-one interactions. The Visitor Pattern is suitable for such a situation where **one entity maintains a stable type(s)**, while **another entity has multiple specializations and is dynamically expanding**. Under these circumstances, the stable entity can be modeled as the Element (or Visitable), and the dynamic one as the Visitor. \r\n\r\nFor a more detailed explanation regarding Double Dispatch, consider this assumption: there is an interaction between `Class A` and `Class B`, with `m` and `n` specializations, respectively. We must implement all `m*n` methods for each combination. Let&#39;s assume `m &lt; n`, so we&#39;ll denote `Class A` as `Element` and `Class B` as `Visitor`.\r\n\r\n- To begin with, we need to design a route that branches into `m*n` paths. The `Element.accept` method makes the first selection, while the `Visitor.visit` method makes the second.\r\n- It&#39;s clear that the `Element` should be more stable (meaning fewer in number), like it sits at a higher level in the decision tree.\r\n- In this 3-level tree, the top level represents the starting point, the second level corresponds to each `Element` specialization, and the third level represents multiple `Visitors` under each `Element` implementation. The leaves of the tree symbolize the methods for the corresponding `Element` and `Visitor`.\r\n- To add a new specialization to the `Element`, every `Visitor` must implement a new method across different code files, resulting in low cohesion. Conversely, adding a new `Visitor` only requires implementing all methods in a single file, leaving other files untouched, which is highly decoupled.\r\n\r\nI believe that out of these context, any delivery is hard to be judged as whether reasonable Visitor Pattern since any interaction could be implemented as `A.accept` and `B.visit`.\r\n\r\nA key distinction in the design of the code is that the visitor always knows the exact type of the visitable, but not the other way around.\r\n\r\nHope this helps。","title":"Questions about the Visitor pattern (sample in Java)","body":"<p>It seems all the answers above provided a detailed explanation at the data structure/algorithm level, however, a high-level/conceptual understanding is still lacking. And the lacking of conceptual understanding may lead to misunderstanding that Visitor Pattern is nothing more than a fancy style.</p>\n<p>IMHO, let's consider that all interactions among your domain entities could be reduced to one-to-one interactions. The Visitor Pattern is suitable for such a situation where <strong>one entity maintains a stable type(s)</strong>, while <strong>another entity has multiple specializations and is dynamically expanding</strong>. Under these circumstances, the stable entity can be modeled as the Element (or Visitable), and the dynamic one as the Visitor.</p>\n<p>For a more detailed explanation regarding Double Dispatch, consider this assumption: there is an interaction between <code>Class A</code> and <code>Class B</code>, with <code>m</code> and <code>n</code> specializations, respectively. We must implement all <code>m*n</code> methods for each combination. Let's assume <code>m &lt; n</code>, so we'll denote <code>Class A</code> as <code>Element</code> and <code>Class B</code> as <code>Visitor</code>.</p>\n<ul>\n<li>To begin with, we need to design a route that branches into <code>m*n</code> paths. The <code>Element.accept</code> method makes the first selection, while the <code>Visitor.visit</code> method makes the second.</li>\n<li>It's clear that the <code>Element</code> should be more stable (meaning fewer in number), like it sits at a higher level in the decision tree.</li>\n<li>In this 3-level tree, the top level represents the starting point, the second level corresponds to each <code>Element</code> specialization, and the third level represents multiple <code>Visitors</code> under each <code>Element</code> implementation. The leaves of the tree symbolize the methods for the corresponding <code>Element</code> and <code>Visitor</code>.</li>\n<li>To add a new specialization to the <code>Element</code>, every <code>Visitor</code> must implement a new method across different code files, resulting in low cohesion. Conversely, adding a new <code>Visitor</code> only requires implementing all methods in a single file, leaving other files untouched, which is highly decoupled.</li>\n</ul>\n<p>I believe that out of these context, any delivery is hard to be judged as whether reasonable Visitor Pattern since any interaction could be implemented as <code>A.accept</code> and <code>B.visit</code>.</p>\n<p>A key distinction in the design of the code is that the visitor always knows the exact type of the visitable, but not the other way around.</p>\n<p>Hope this helps。</p>\n"}],"owner":{"account_id":30319,"reputation":90360,"user_id":82609,"accept_rate":84,"display_name":"Sebastien Lorber"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3818,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":6252964,"answer_count":4,"score":9,"last_activity_date":1695100641,"creation_date":1307365121,"question_id":6252372,"body_markdown":"I&#39;m just trying to understand the main benefits of using the Visitor pattern.\r\n\r\nHere&#39;s a sample Java implementation\r\n\r\n\r\n\r\n    \r\n    \r\n    ///////////////////////////////////\r\n    // Interfaces\r\n    interface MamalVisitor {\r\n        void visit(Mammal mammal);\r\n    }\r\n    interface MammalVisitable {\r\n        public void accept(MamalVisitor visitor);\r\n    }\r\n    interface Mammal extends MammalVisitable {\r\n        public int getLegsNumber();\r\n    }\r\n    ///////////////////////////////////\r\n    \r\n    \r\n    ///////////////////////////////////\r\n    // Model\r\n    class Human implements Mammal {\r\n        @Override\r\n        public void accept(MamalVisitor visitor) {  visitor.visit(this);  }\r\n        @Override\r\n        public int getLegsNumber() { return 2; }\r\n    }\r\n    //PIRATE HAS A WOOD LEG\r\n    class Pirate extends Human { \r\n        @Override\r\n        public int getLegsNumber() { return 1; }\r\n        public int getWoodLegNumber() { return 1; }\r\n    }\r\n    class Dog implements Mammal {\r\n        @Override\r\n        public void accept(MamalVisitor visitor) {  visitor.visit(this);  }\r\n        @Override\r\n        public int getLegsNumber() { return 4; }\r\n    }\r\n    ///////////////////////////////////\r\n    \r\n    \r\n    ///////////////////////////////////\r\n    class LegCounterVisitor implements MamalVisitor {\r\n        private int legNumber = 0;\r\n        @Override\r\n        public void visit(Mammal mammal) {   legNumber += mammal.getLegsNumber();   }\r\n        public int getLegNumber() { return legNumber; }\r\n    }\r\n    class WoodLegCounterVisitor implements MamalVisitor {\r\n        private int woodLegNumber = 0;\r\n        @Override\r\n        public void visit(Mammal mammal) {   \r\n            // perhaps bad but i&#39;m lazy\r\n            if ( mammal instanceof Pirate ) {\r\n                woodLegNumber += ((Pirate) mammal).getWoodLegNumber();\r\n            }\r\n        }\r\n        public int getWoodLegNumber() { return woodLegNumber; }\r\n    }\r\n    ///////////////////////////////////\r\n    \r\n    \r\n    \r\n    ///////////////////////////////////\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            // Create a list with 9 mammal legs and 3 pirate woodlegs\r\n            List&lt;Mammal&gt; mammalList = Arrays.asList(\r\n                    new Pirate(),\r\n                    new Dog(),\r\n                    new Human(),\r\n                    new Pirate(),\r\n                    new Pirate()\r\n            );\r\n    \r\n            ///////////////////////////////////\r\n            // The visitor method\r\n            LegCounterVisitor legCounterVisitor = new LegCounterVisitor();\r\n            WoodLegCounterVisitor woodLegCounterVisitor = new WoodLegCounterVisitor();\r\n            for ( Mammal mammal : mammalList ) {\r\n                mammal.accept(legCounterVisitor);\r\n                mammal.accept(woodLegCounterVisitor);\r\n                // why not also using:\r\n                // legCounterVisitor.visit(mammal);\r\n                // woodLegCounterVisitor.visit(mammal);\r\n            }\r\n            System.out.println(&quot;Number of legs:&quot; + legCounterVisitor.getLegNumber());\r\n            System.out.println(&quot;Number of wood legs:&quot; + woodLegCounterVisitor.getWoodLegNumber());\r\n    \r\n            ///////////////////////////////////\r\n            // The standart method\r\n            int legNumber = 0;\r\n            int woodLegNumber = 0;\r\n            for ( Mammal mammal : mammalList ) {\r\n                legNumber += mammal.getLegsNumber();\r\n                // perhaps bad but i&#39;m lazy\r\n                if ( mammal instanceof Pirate ) {\r\n                    woodLegNumber += ((Pirate) mammal).getWoodLegNumber();\r\n                }\r\n            }\r\n            System.out.println(&quot;Number of legs:&quot; + legNumber);\r\n            System.out.println(&quot;Number of wood legs:&quot; + woodLegNumber);\r\n        }\r\n    }\r\n    ///////////////////////////////////\r\n\r\n\r\n\r\n\r\nI just wonder what is the main advantage for this case to use such a pattern. We can also iterate over the collection and get almost the same thing, except we don&#39;t have to handle a new interface and add boilerplate code to the model...\r\n\r\nWith Apache Commons, or a functional language, the classic way seems to do some map/reduce operation (map to the leg numbers and reduce with addition) and it&#39;s quite easy...\r\n\r\n\r\n\r\nI also wonder why we use\r\n\r\n            mammal.accept(legCounterVisitor);\r\n            mammal.accept(woodLegCounterVisitor);\r\n\r\nand not \r\n\r\n            legCounterVisitor.visit(mammal);\r\n            woodLegCounterVisitor.visit(mammal);\r\n\r\nThe 2nd option seems to remove the accept(...) method on the model part.\r\n\r\n\r\n\r\n\r\nIn many samples i&#39;ve found, it seems that they don&#39;t use a common interface for model objects. I added it because like that i just have to add one visit(Mammal) method, instead of implementing one for each Mammal.\r\nIs it good to make all my objects implement Mammal? (i guess sometimes it&#39;s just not possible anyway). Is it still a Visitor pattern like that?\r\n\r\n\r\n\r\nSo my questions are:\r\n- do you see any advantage in my exemple for using visitors?\r\n- if not, can you provide some concrete usecases for visitors?\r\n- are visitors useful in functional programming languages\r\n\r\n\r\nThe only exemple that i found relevant for this pattern is the case of a pretty printer, where you keep in the visitor&#39;s state the offset to use during the visit of different nodes (for displaying an XML tree for exemple)\r\n","title":"Questions about the Visitor pattern (sample in Java)","body":"<p>I'm just trying to understand the main benefits of using the Visitor pattern.</p>\n\n<p>Here's a sample Java implementation</p>\n\n<pre><code>///////////////////////////////////\n// Interfaces\ninterface MamalVisitor {\n    void visit(Mammal mammal);\n}\ninterface MammalVisitable {\n    public void accept(MamalVisitor visitor);\n}\ninterface Mammal extends MammalVisitable {\n    public int getLegsNumber();\n}\n///////////////////////////////////\n\n\n///////////////////////////////////\n// Model\nclass Human implements Mammal {\n    @Override\n    public void accept(MamalVisitor visitor) {  visitor.visit(this);  }\n    @Override\n    public int getLegsNumber() { return 2; }\n}\n//PIRATE HAS A WOOD LEG\nclass Pirate extends Human { \n    @Override\n    public int getLegsNumber() { return 1; }\n    public int getWoodLegNumber() { return 1; }\n}\nclass Dog implements Mammal {\n    @Override\n    public void accept(MamalVisitor visitor) {  visitor.visit(this);  }\n    @Override\n    public int getLegsNumber() { return 4; }\n}\n///////////////////////////////////\n\n\n///////////////////////////////////\nclass LegCounterVisitor implements MamalVisitor {\n    private int legNumber = 0;\n    @Override\n    public void visit(Mammal mammal) {   legNumber += mammal.getLegsNumber();   }\n    public int getLegNumber() { return legNumber; }\n}\nclass WoodLegCounterVisitor implements MamalVisitor {\n    private int woodLegNumber = 0;\n    @Override\n    public void visit(Mammal mammal) {   \n        // perhaps bad but i'm lazy\n        if ( mammal instanceof Pirate ) {\n            woodLegNumber += ((Pirate) mammal).getWoodLegNumber();\n        }\n    }\n    public int getWoodLegNumber() { return woodLegNumber; }\n}\n///////////////////////////////////\n\n\n\n///////////////////////////////////\npublic class Main {\n    public static void main(String[] args) {\n        // Create a list with 9 mammal legs and 3 pirate woodlegs\n        List&lt;Mammal&gt; mammalList = Arrays.asList(\n                new Pirate(),\n                new Dog(),\n                new Human(),\n                new Pirate(),\n                new Pirate()\n        );\n\n        ///////////////////////////////////\n        // The visitor method\n        LegCounterVisitor legCounterVisitor = new LegCounterVisitor();\n        WoodLegCounterVisitor woodLegCounterVisitor = new WoodLegCounterVisitor();\n        for ( Mammal mammal : mammalList ) {\n            mammal.accept(legCounterVisitor);\n            mammal.accept(woodLegCounterVisitor);\n            // why not also using:\n            // legCounterVisitor.visit(mammal);\n            // woodLegCounterVisitor.visit(mammal);\n        }\n        System.out.println(\"Number of legs:\" + legCounterVisitor.getLegNumber());\n        System.out.println(\"Number of wood legs:\" + woodLegCounterVisitor.getWoodLegNumber());\n\n        ///////////////////////////////////\n        // The standart method\n        int legNumber = 0;\n        int woodLegNumber = 0;\n        for ( Mammal mammal : mammalList ) {\n            legNumber += mammal.getLegsNumber();\n            // perhaps bad but i'm lazy\n            if ( mammal instanceof Pirate ) {\n                woodLegNumber += ((Pirate) mammal).getWoodLegNumber();\n            }\n        }\n        System.out.println(\"Number of legs:\" + legNumber);\n        System.out.println(\"Number of wood legs:\" + woodLegNumber);\n    }\n}\n///////////////////////////////////\n</code></pre>\n\n<p>I just wonder what is the main advantage for this case to use such a pattern. We can also iterate over the collection and get almost the same thing, except we don't have to handle a new interface and add boilerplate code to the model...</p>\n\n<p>With Apache Commons, or a functional language, the classic way seems to do some map/reduce operation (map to the leg numbers and reduce with addition) and it's quite easy...</p>\n\n<p>I also wonder why we use</p>\n\n<pre><code>        mammal.accept(legCounterVisitor);\n        mammal.accept(woodLegCounterVisitor);\n</code></pre>\n\n<p>and not </p>\n\n<pre><code>        legCounterVisitor.visit(mammal);\n        woodLegCounterVisitor.visit(mammal);\n</code></pre>\n\n<p>The 2nd option seems to remove the accept(...) method on the model part.</p>\n\n<p>In many samples i've found, it seems that they don't use a common interface for model objects. I added it because like that i just have to add one visit(Mammal) method, instead of implementing one for each Mammal.\nIs it good to make all my objects implement Mammal? (i guess sometimes it's just not possible anyway). Is it still a Visitor pattern like that?</p>\n\n<p>So my questions are:\n- do you see any advantage in my exemple for using visitors?\n- if not, can you provide some concrete usecases for visitors?\n- are visitors useful in functional programming languages</p>\n\n<p>The only exemple that i found relevant for this pattern is the case of a pretty printer, where you keep in the visitor's state the offset to use during the visit of different nodes (for displaying an XML tree for exemple)</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":4064626,"reputation":328,"user_id":4360617,"display_name":"JFC"},"score":0,"creation_date":1624715098,"post_id":61289461,"comment_id":120436440,"body_markdown":"You should clarify which build tool you&#39;re using.","body":"You should clarify which build tool you&#39;re using."}],"answers":[{"tags":[],"owner":{"account_id":18441269,"reputation":181,"user_id":13433846,"display_name":"godsim"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1588173184,"creation_date":1588173184,"answer_id":61505189,"question_id":61289461,"body_markdown":"are you using some third party library that brings in &lt;b&gt;org.codehaus.groovy&lt;/b&gt; dependencies? If yes, you can try and replace the required groovy dependencies with the most current releases yourself.\r\n\r\nIn my case it was the &lt;b&gt;org.liquibase:liquibase-groovy-dsl&lt;/b&gt;,\r\nso I did this:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n            &lt;artifactId&gt;liquibase-groovy-dsl&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.1&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;groovy&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;groovy-sql&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n            &lt;artifactId&gt;groovy&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n            &lt;artifactId&gt;groovy-sql&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n","title":"java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7","body":"<p>are you using some third party library that brings in <b>org.codehaus.groovy</b> dependencies? If yes, you can try and replace the required groovy dependencies with the most current releases yourself.</p>\n\n<p>In my case it was the <b>org.liquibase:liquibase-groovy-dsl</b>,\nso I did this:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n        &lt;artifactId&gt;liquibase-groovy-dsl&lt;/artifactId&gt;\n        &lt;version&gt;2.1.1&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n                &lt;artifactId&gt;groovy&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n                &lt;artifactId&gt;groovy-sql&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n        &lt;artifactId&gt;groovy&lt;/artifactId&gt;\n        &lt;version&gt;3.0.3&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n        &lt;artifactId&gt;groovy-sql&lt;/artifactId&gt;\n        &lt;version&gt;3.0.3&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"down_vote_count":0,"up_vote_count":189,"is_accepted":false,"score":189,"last_activity_date":1643511054,"creation_date":1588186326,"answer_id":61509462,"question_id":61289461,"body_markdown":"How do you run the application? It&#39;s probably because you use Gradle as the build system and JDK14 and the Gradle version is old.\r\nReference: https://github.com/gradle/gradle/issues/10248\r\n\r\nIf you use Gradle Wrapper then refer to `$PROJECT_ROOT/gradle/wrapper/gradle-wrapper.properties`. The property `distributionUrl` should be:\r\n`distributionUrl=https\\://services.gradle.org/distributions/gradle-6.3-bin.zip`\r\n\r\nIf it&#39;s an older version then change it, run `./gradlew clean build` and try again.","title":"java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7","body":"<p>How do you run the application? It's probably because you use Gradle as the build system and JDK14 and the Gradle version is old.\nReference: <a href=\"https://github.com/gradle/gradle/issues/10248\" rel=\"noreferrer\">https://github.com/gradle/gradle/issues/10248</a></p>\n<p>If you use Gradle Wrapper then refer to <code>$PROJECT_ROOT/gradle/wrapper/gradle-wrapper.properties</code>. The property <code>distributionUrl</code> should be:\n<code>distributionUrl=https\\://services.gradle.org/distributions/gradle-6.3-bin.zip</code></p>\n<p>If it's an older version then change it, run <code>./gradlew clean build</code> and try again.</p>\n"},{"tags":[],"owner":{"account_id":369372,"reputation":4604,"user_id":716720,"accept_rate":60,"display_name":"Sergey Shcherbakov"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1588853398,"creation_date":1588853398,"answer_id":61657462,"question_id":61289461,"body_markdown":"Check that your project is running with Java 14 even though it is prepared for Java 8.\r\n\r\nMy IntelliJ Idea was giving the same error when trying to execute a Gradle task which was running perfectly in command line with JDK 8. The ItelliJ Idea project default JDK was 14 though. ","title":"java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7","body":"<p>Check that your project is running with Java 14 even though it is prepared for Java 8.</p>\n\n<p>My IntelliJ Idea was giving the same error when trying to execute a Gradle task which was running perfectly in command line with JDK 8. The ItelliJ Idea project default JDK was 14 though. </p>\n"},{"tags":[],"owner":{"account_id":18600058,"reputation":41,"user_id":13555096,"display_name":"Kiryha"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1589636886,"creation_date":1589636080,"answer_id":61837619,"question_id":61289461,"body_markdown":"I resolve this problem when integrated Facebook **7.19.2** and Google play Games **0.10.09**. \r\n\r\nIn my case JDK and SDK using (and other in `Edit/Preferences/External -&gt; Tools-Android`) default paths Unity:\r\n\r\nJDK\r\n```\r\nC:/ProgramFiles/Unity/Hub/Editor/2019.2.12f1/Editor/Data/PlaybackEngines/AndroidPlayer/Tools\\OpenJDK\\Windows\r\n```\r\nSDK\r\n```\r\nC:/Program Files/Unity/Hub/Editor/2019.2.12f1/Editor/Data/PlaybackEngines/AndroidPlayer\\SDK\r\n```\r\nIn Environmental Variables(System Proporites/Advanced) added next:\r\n\r\nFind(or click new variable under User Variables)\r\n\r\n- `JAVA_HOME` and add root JDK path.\r\n\r\n- `JAVA_BIN` and add path JDK/bin\r\n\r\n- `JAVA_LIB` and add path JDK/lib\r\n\r\nAlso, add these paths in System Variables to variable &quot;Path&quot;.\r\n\r\nDo not use SDK from default Unity and JDK from not Unity default\r\n\r\nThen Restart Unity(and better PC).\r\n\r\nThen in Editor Unity - `Assets/Play -&gt; Service -&gt; Resolve/Android -&gt; Resolver/Force -&gt; Resolve`\r\n\r\nAll Work fine.","title":"java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7","body":"<p>I resolve this problem when integrated Facebook <strong>7.19.2</strong> and Google play Games <strong>0.10.09</strong>. </p>\n\n<p>In my case JDK and SDK using (and other in <code>Edit/Preferences/External -&gt; Tools-Android</code>) default paths Unity:</p>\n\n<p>JDK</p>\n\n<pre><code>C:/ProgramFiles/Unity/Hub/Editor/2019.2.12f1/Editor/Data/PlaybackEngines/AndroidPlayer/Tools\\OpenJDK\\Windows\n</code></pre>\n\n<p>SDK</p>\n\n<pre><code>C:/Program Files/Unity/Hub/Editor/2019.2.12f1/Editor/Data/PlaybackEngines/AndroidPlayer\\SDK\n</code></pre>\n\n<p>In Environmental Variables(System Proporites/Advanced) added next:</p>\n\n<p>Find(or click new variable under User Variables)</p>\n\n<ul>\n<li><p><code>JAVA_HOME</code> and add root JDK path.</p></li>\n<li><p><code>JAVA_BIN</code> and add path JDK/bin</p></li>\n<li><p><code>JAVA_LIB</code> and add path JDK/lib</p></li>\n</ul>\n\n<p>Also, add these paths in System Variables to variable \"Path\".</p>\n\n<p>Do not use SDK from default Unity and JDK from not Unity default</p>\n\n<p>Then Restart Unity(and better PC).</p>\n\n<p>Then in Editor Unity - <code>Assets/Play -&gt; Service -&gt; Resolve/Android -&gt; Resolver/Force -&gt; Resolve</code></p>\n\n<p>All Work fine.</p>\n"},{"tags":[],"owner":{"account_id":8512301,"reputation":181,"user_id":6381983,"display_name":"BertKoor"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1591877768,"creation_date":1591877768,"answer_id":62324201,"question_id":61289461,"body_markdown":"Got the same issue on a Maven &amp; SpringBoot project, no Gradle whatever.\r\n\r\nThe dependency to org.codehaus.groovy is probably transitive through spring-cloud-contract-verifier. Run `mvn dependency:tree` to view the whole dependency tree.\r\n\r\nI got it fixed by upgrading the spring-cloud-contract-maven-plugin version to 2.2.3-RELEASE","title":"java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7","body":"<p>Got the same issue on a Maven &amp; SpringBoot project, no Gradle whatever.</p>\n\n<p>The dependency to org.codehaus.groovy is probably transitive through spring-cloud-contract-verifier. Run <code>mvn dependency:tree</code> to view the whole dependency tree.</p>\n\n<p>I got it fixed by upgrading the spring-cloud-contract-maven-plugin version to 2.2.3-RELEASE</p>\n"},{"tags":[],"owner":{"account_id":11052908,"reputation":1,"user_id":8116670,"display_name":"user8116670"},"down_vote_count":8,"up_vote_count":0,"is_accepted":false,"score":-8,"last_activity_date":1593730337,"creation_date":1593730337,"answer_id":62706128,"question_id":61289461,"body_markdown":"Move to JDK 11, it should work.","title":"java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7","body":"<p>Move to JDK 11, it should work.</p>\n"},{"tags":[],"owner":{"account_id":88165,"reputation":1499,"user_id":244051,"display_name":"Erik Finnman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1597301255,"creation_date":1597301255,"answer_id":63389570,"question_id":61289461,"body_markdown":"In my case the combination was IntelliJ 2020.2, Kotlin 1.3.72, Maven 3.6.1 and SpringBoot 2.2.1 application. No Gradle used at all in the project.\r\n\r\nSomehow IntelliJ had switched to use OpenJDK14 - when reverting back to OpenJDK11 everything started to work again.","title":"java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7","body":"<p>In my case the combination was IntelliJ 2020.2, Kotlin 1.3.72, Maven 3.6.1 and SpringBoot 2.2.1 application. No Gradle used at all in the project.</p>\n<p>Somehow IntelliJ had switched to use OpenJDK14 - when reverting back to OpenJDK11 everything started to work again.</p>\n"},{"tags":[],"owner":{"account_id":15458810,"reputation":1094,"user_id":11151992,"display_name":"arslan"},"down_vote_count":0,"up_vote_count":52,"is_accepted":false,"score":52,"last_activity_date":1598531061,"creation_date":1597392680,"answer_id":63408978,"question_id":61289461,"body_markdown":"In the file `android/gradle/wrapper/gradle-wrapper.properties`, ensure that the `distributionUrl` is as follows:\r\n\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-6.3-bin.zip\r\n\r\nNote: If you installed jdk 14\r\n\r\n","title":"java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7","body":"<p>In the file <code>android/gradle/wrapper/gradle-wrapper.properties</code>, ensure that the <code>distributionUrl</code> is as follows:</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-6.3-bin.zip\n</code></pre>\n<p>Note: If you installed jdk 14</p>\n"},{"tags":[],"owner":{"account_id":139035,"reputation":861,"user_id":344348,"accept_rate":86,"display_name":"Jeeka"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1598565010,"creation_date":1598565010,"answer_id":63624584,"question_id":61289461,"body_markdown":"in my case, the JRE version used in the **Run Configuration** was different than the target JDK version in the pom.xml\r\n\r\n [![SpringBoot_Run_Config][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/mU53b.png","title":"java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7","body":"<p>in my case, the JRE version used in the <strong>Run Configuration</strong> was different than the target JDK version in the pom.xml</p>\n<p><a href=\"https://i.stack.imgur.com/mU53b.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/mU53b.png\" alt=\"SpringBoot_Run_Config\" /></a></p>\n"},{"tags":[],"owner":{"account_id":12199802,"reputation":145,"user_id":8904347,"display_name":"Sandip Jadhav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602834957,"creation_date":1602834957,"answer_id":64385105,"question_id":61289461,"body_markdown":"I solved this by selecting Installed JRE path in window =&gt; preferences =&gt; java =&gt; installed JRE =&gt; remve existing &amp; select from local directory.\r\n\r\nMake sure you have java_home variable set in environmental variable","title":"java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7","body":"<p>I solved this by selecting Installed JRE path in window =&gt; preferences =&gt; java =&gt; installed JRE =&gt; remve existing &amp; select from local directory.</p>\n<p>Make sure you have java_home variable set in environmental variable</p>\n"},{"tags":[],"owner":{"account_id":19420311,"reputation":827,"user_id":14202968,"display_name":"Mohammed alsheikh"},"down_vote_count":1,"up_vote_count":65,"is_accepted":false,"score":64,"last_activity_date":1635115168,"creation_date":1603699508,"answer_id":64533389,"question_id":61289461,"body_markdown":"I solved it by editing the  *gradle-wrapper.properties* file inside the *gradle* folder. (Not .gradle) :\r\n\r\nChange this line, from: \r\n```\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-6.2-all.zip\r\n```\r\nto:\r\n```\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-6.3-all.zip\r\n```\r\nrebuild and it&#39;s ok.","title":"java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7","body":"<p>I solved it by editing the  <em>gradle-wrapper.properties</em> file inside the <em>gradle</em> folder. (Not .gradle) :</p>\n<p>Change this line, from:</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-6.2-all.zip\n</code></pre>\n<p>to:</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-6.3-all.zip\n</code></pre>\n<p>rebuild and it's ok.</p>\n"},{"tags":[],"owner":{"account_id":2969131,"reputation":340,"user_id":2521628,"display_name":"Jan Cizmar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603762300,"creation_date":1603762300,"answer_id":64547173,"question_id":61289461,"body_markdown":"If you are looking for similar solution as @godsim shared, but for gradle liquabase plugin, then modify your configuration section in build.gradle to exclude liquabase&#39;s groovy dependency: \r\n```\r\nconfigurations {\r\n    ...\r\n    liquibaseRuntime.exclude group: &quot;org.codehaus.groovy&quot;\r\n}\r\n```\r\nand then manually add groovy in dependencies section:\r\n\r\n```\r\ndependencies {\r\n    ...\r\n    liquibaseRuntime(&#39;org.liquibase:liquibase-core:3.8.1&#39;)\r\n    liquibaseRuntime(&#39;org.codehaus.groovy:groovy-all:3.0.3&#39;)\r\n    liquibaseRuntime &#39;org.postgresql:postgresql&#39;\r\n    liquibaseRuntime(&#39;org.liquibase:liquibase-groovy-dsl:2.1.2&#39;)\r\n    liquibaseRuntime(&#39;org.liquibase.ext:liquibase-hibernate5:3.10.2&#39;)\r\n    liquibaseRuntime(&#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;)\r\n    liquibaseRuntime sourceSets.main.output\r\n    ...\r\n}\r\n```","title":"java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7","body":"<p>If you are looking for similar solution as @godsim shared, but for gradle liquabase plugin, then modify your configuration section in build.gradle to exclude liquabase's groovy dependency:</p>\n<pre><code>configurations {\n    ...\n    liquibaseRuntime.exclude group: &quot;org.codehaus.groovy&quot;\n}\n</code></pre>\n<p>and then manually add groovy in dependencies section:</p>\n<pre><code>dependencies {\n    ...\n    liquibaseRuntime('org.liquibase:liquibase-core:3.8.1')\n    liquibaseRuntime('org.codehaus.groovy:groovy-all:3.0.3')\n    liquibaseRuntime 'org.postgresql:postgresql'\n    liquibaseRuntime('org.liquibase:liquibase-groovy-dsl:2.1.2')\n    liquibaseRuntime('org.liquibase.ext:liquibase-hibernate5:3.10.2')\n    liquibaseRuntime('org.springframework.boot:spring-boot-starter-data-jpa')\n    liquibaseRuntime sourceSets.main.output\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15271061,"reputation":442,"user_id":11018260,"display_name":"Gulshan Yadav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605547691,"creation_date":1605547691,"answer_id":64862772,"question_id":61289461,"body_markdown":"This issue is solved for me only when I updated compileSdkVersion and targetSdkVersion to 30 with minSdkVersion 19","title":"java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7","body":"<p>This issue is solved for me only when I updated compileSdkVersion and targetSdkVersion to 30 with minSdkVersion 19</p>\n"},{"tags":[],"owner":{"account_id":5285035,"reputation":71,"user_id":4219317,"display_name":"Alled Luviette"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611255036,"creation_date":1611255036,"answer_id":65833947,"question_id":61289461,"body_markdown":"Was getting the error when using old versions of `spotbugs-maven-plugin` plugin and the corresponding `spotbugs` maven dependency.\r\n\r\nFixed by upgrading both to `4.2.0`.","title":"java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7","body":"<p>Was getting the error when using old versions of <code>spotbugs-maven-plugin</code> plugin and the corresponding <code>spotbugs</code> maven dependency.</p>\n<p>Fixed by upgrading both to <code>4.2.0</code>.</p>\n"},{"tags":[],"owner":{"account_id":8250527,"reputation":99,"user_id":6205341,"display_name":"Nilesh Suryawanshi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1621081494,"creation_date":1621081494,"answer_id":67546713,"question_id":61289461,"body_markdown":"I fixed this by adding [Apache Groovy 2.4.7][1] in pom.xml\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.codehaus.groovy/groovy/2.4.7","title":"java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7","body":"<p>I fixed this by adding <a href=\"https://mvnrepository.com/artifact/org.codehaus.groovy/groovy/2.4.7\" rel=\"nofollow noreferrer\">Apache Groovy 2.4.7</a> in pom.xml</p>\n"},{"tags":[],"owner":{"account_id":13823398,"reputation":59,"user_id":9978312,"display_name":"azeem bhopal"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1622754021,"creation_date":1622717315,"answer_id":67820054,"question_id":61289461,"body_markdown":"For Maven users, Please follow the below steps to resolve this issue\r\n\r\n 1. You should place rest-assured before the JUnit dependency declaration in your pom.xml / build.gradle in order to make sure that the correct version of Hamcrest is used.\r\n 2. Add the following dependencies to your pom.xml   \r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n    &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.8&lt;/version&gt;\r\n    &lt;type&gt;pom&lt;/type&gt;\r\n&lt;/dependency&gt;\r\n&lt;!-- https://mvnrepository.com/artifact/org.codehaus.groovy/groovy --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n    &lt;artifactId&gt;groovy&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.8&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;!-- https://mvnrepository.com/artifact/org.codehaus.groovy/groovy-json --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n    &lt;artifactId&gt;groovy-json&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.8&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nHope this will fix your issue. It works for me. Instruction mentioned at step#1 copies from Rest Assured official site. Thanks","title":"java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7","body":"<p>For Maven users, Please follow the below steps to resolve this issue</p>\n<ol>\n<li>You should place rest-assured before the JUnit dependency declaration in your pom.xml / build.gradle in order to make sure that the correct version of Hamcrest is used.</li>\n<li>Add the following dependencies to your pom.xml</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n    &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;\n    &lt;version&gt;3.0.8&lt;/version&gt;\n    &lt;type&gt;pom&lt;/type&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/org.codehaus.groovy/groovy --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n    &lt;artifactId&gt;groovy&lt;/artifactId&gt;\n    &lt;version&gt;3.0.8&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/org.codehaus.groovy/groovy-json --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n    &lt;artifactId&gt;groovy-json&lt;/artifactId&gt;\n    &lt;version&gt;3.0.8&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Hope this will fix your issue. It works for me. Instruction mentioned at step#1 copies from Rest Assured official site. Thanks</p>\n"},{"tags":[],"owner":{"account_id":1590067,"reputation":1066,"user_id":1473593,"display_name":"Anas Naguib"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1628617768,"creation_date":1628617768,"answer_id":68731443,"question_id":61289461,"body_markdown":"If you are on Windows operating system and using Android Studio, you should run Android Studio as Administrator.","title":"java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7","body":"<p>If you are on Windows operating system and using Android Studio, you should run Android Studio as Administrator.</p>\n"},{"tags":[],"owner":{"account_id":1604214,"reputation":4524,"user_id":1484621,"accept_rate":70,"display_name":"Yu Jiaao"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1630888863,"creation_date":1630888863,"answer_id":69068154,"question_id":61289461,"body_markdown":"in my maven Spring Boot project, I solve the problem by adding dependency:\r\n\r\n            &lt;!-- https://mvnrepository.com/artifact/org.codehaus.groovy/groovy --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n            &lt;artifactId&gt;groovy&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.8&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7","body":"<p>in my maven Spring Boot project, I solve the problem by adding dependency:</p>\n<pre><code>        &lt;!-- https://mvnrepository.com/artifact/org.codehaus.groovy/groovy --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n        &lt;artifactId&gt;groovy&lt;/artifactId&gt;\n        &lt;version&gt;3.0.8&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23185585,"reputation":11,"user_id":17282749,"display_name":"imad bouhafer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637094695,"creation_date":1637083452,"answer_id":69993558,"question_id":61289461,"body_markdown":"I simply changed the gradle version for the project to the newer version.\r\n\r\n[![a screenshot of the upgrade][1]][1]\r\n\r\nPS. I use kotlin\r\n\r\n  [1]: https://i.stack.imgur.com/k2NLA.png","title":"java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7","body":"<p>I simply changed the gradle version for the project to the newer version.</p>\n<p><a href=\"https://i.stack.imgur.com/k2NLA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k2NLA.png\" alt=\"a screenshot of the upgrade\" /></a></p>\n<p>PS. I use kotlin</p>\n"},{"tags":[],"owner":{"account_id":5715145,"reputation":81,"user_id":4515648,"display_name":"bigwig87"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1646371976,"creation_date":1646371976,"answer_id":71347007,"question_id":61289461,"body_markdown":"4 things in IntelliJ to check:\r\n\r\n - Your Project Structure -&gt; Project -&gt; SDK and Language level\r\n - Settings -&gt; Build,Execution,Deployment -&gt; Build Tools -&gt; Gradle, look at Gradle JVM\r\n - Settings -&gt; Build,Execution,Deployment -&gt; Compiler -&gt; Java Compiler\r\n - Your build.gradle, the Java { sourceCompatibility and targetCompatibility }\r\n\r\nMake them all agree on the JDK / language level and it should be fine","title":"java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7","body":"<p>4 things in IntelliJ to check:</p>\n<ul>\n<li>Your Project Structure -&gt; Project -&gt; SDK and Language level</li>\n<li>Settings -&gt; Build,Execution,Deployment -&gt; Build Tools -&gt; Gradle, look at Gradle JVM</li>\n<li>Settings -&gt; Build,Execution,Deployment -&gt; Compiler -&gt; Java Compiler</li>\n<li>Your build.gradle, the Java { sourceCompatibility and targetCompatibility }</li>\n</ul>\n<p>Make them all agree on the JDK / language level and it should be fine</p>\n"},{"tags":[],"owner":{"account_id":13393269,"reputation":51,"user_id":9665037,"display_name":"jkwli"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1646806242,"creation_date":1646802061,"answer_id":71404522,"question_id":61289461,"body_markdown":"I have met a similar problem. But my error message is not exactly the same.\r\n\r\nI got some ideas from Tarmo and checking the gradle version, eclipse version and the JDK it use.\r\n\r\nMy error message is:\r\n\r\n```&gt;Could not open cp_init remapped class cache for 6a5krabdzij62jglcll542e66 (C:\\Users\\xxx\\.gradle\\caches\\5.6\\scripts-remapped\\eclipsePlugin_exdepshtcjqu2w7kigtdndgoa\\6a5krabdzij62jglcll542e66\\cp_init8a51e2ebf3f7f8302cfbbb80ea3d4b3d).\r\n&gt; Could not open cp_init generic class cache for initialization script &#39;D:\\xxx\\TestingEnv\\Dev1\\eclipse\\.metadata\\.plugins\\org.eclipse.buildship.core\\init.d\\eclipsePlugin.gradle&#39; (C:\\Users\\xxx\\.gradle\\caches\\5.6\\scripts\\6a5krabdzij62jglcll542e66\\cp_init\\cp_init8a51e2ebf3f7f8302cfbbb80ea3d4b3d).\r\n   &gt; Could not initialize class org.codehaus.groovy.classgen.Verifier\r\n```\r\nI have using \r\nSpringToolSuite4\r\n**Version: 4.9.0.RELEASE Build Id: 202012132054** for development.\r\n\r\nI have 2 projects. Project A and Project B.\r\n\r\nProject A, works fine without gradle problem\r\nUnder this project, gradle&gt; wrapper &gt; gradle-wrapper.propties\r\nMy distributionUrl is:\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-4.8-bin.zip\r\n\r\nLater, I have another project B and the setting is:\r\n\r\nProject B:\r\nUnder this project, gradle&gt; wrapper &gt; gradle-wrapper.propties\r\nMy distributionUrl is:\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-5.6.2-bin.zip\r\n\r\nWhen I select &#39;refresh gradle&#39; in the IDE, Project B keeps failing build and output the error mentioned above.\r\n\r\nI have no clues on it until I found the answer from Tarmo.\r\n\r\nThings I have done:\r\n1. Try to change the distributionUrl=https\\://services.gradle.org/distributions/gradle-6.3-bin.zip\r\n-The error message changes to other. (Seems we are on the right way)\r\n2. Check the JDK version, which Eclipse using to start the itself.\r\n- Under menu bar &gt; Help &gt; About Spring Tool Suite 4 &gt; Installation Details &gt; press &#39;Configuration Tab &gt;\r\nsearching for a row start with -vm\r\n- It was originally pointing th OpenJDK, then I changed it to pointing to JDK 1.8 at my local machine. It failed to start since it is not supported the older version of JDK.\r\n3. I downloaded the older version of STS **sts-4.4.1.RELEASE**\r\n- Now, I import the project again, press &#39;refresh gradle&#39;, it works fine and the gradle task shows properly in the IDE.\r\n4. In the sts-4.4.1.RELEASE folder, adding an entry into SpringToolSuite4.ini to pointing to use JDK 1.8 at my local PC.\r\n```--vm\r\nC:/Program Files/Java/jdk1.8.0_301/bin/javaw.exe\r\n```\r\n-If not specify, it would use the openjdk to start with by default. It is a good practice to specify the version we use.\r\n\r\nAppendix\r\nSpringToolSuite4.ini\r\nhttps://wiki.eclipse.org/Eclipse.ini\r\n\r\n","title":"java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7","body":"<p>I have met a similar problem. But my error message is not exactly the same.</p>\n<p>I got some ideas from Tarmo and checking the gradle version, eclipse version and the JDK it use.</p>\n<p>My error message is:</p>\n<pre><code>&gt; Could not open cp_init generic class cache for initialization script 'D:\\xxx\\TestingEnv\\Dev1\\eclipse\\.metadata\\.plugins\\org.eclipse.buildship.core\\init.d\\eclipsePlugin.gradle' (C:\\Users\\xxx\\.gradle\\caches\\5.6\\scripts\\6a5krabdzij62jglcll542e66\\cp_init\\cp_init8a51e2ebf3f7f8302cfbbb80ea3d4b3d).\n   &gt; Could not initialize class org.codehaus.groovy.classgen.Verifier\n</code></pre>\n<p>I have using\nSpringToolSuite4\n<strong>Version: 4.9.0.RELEASE Build Id: 202012132054</strong> for development.</p>\n<p>I have 2 projects. Project A and Project B.</p>\n<p>Project A, works fine without gradle problem\nUnder this project, gradle&gt; wrapper &gt; gradle-wrapper.propties\nMy distributionUrl is:\ndistributionUrl=https://services.gradle.org/distributions/gradle-4.8-bin.zip</p>\n<p>Later, I have another project B and the setting is:</p>\n<p>Project B:\nUnder this project, gradle&gt; wrapper &gt; gradle-wrapper.propties\nMy distributionUrl is:\ndistributionUrl=https://services.gradle.org/distributions/gradle-5.6.2-bin.zip</p>\n<p>When I select 'refresh gradle' in the IDE, Project B keeps failing build and output the error mentioned above.</p>\n<p>I have no clues on it until I found the answer from Tarmo.</p>\n<p>Things I have done:</p>\n<ol>\n<li>Try to change the distributionUrl=https://services.gradle.org/distributions/gradle-6.3-bin.zip\n-The error message changes to other. (Seems we are on the right way)</li>\n<li>Check the JDK version, which Eclipse using to start the itself.</li>\n</ol>\n<ul>\n<li>Under menu bar &gt; Help &gt; About Spring Tool Suite 4 &gt; Installation Details &gt; press 'Configuration Tab &gt;\nsearching for a row start with -vm</li>\n<li>It was originally pointing th OpenJDK, then I changed it to pointing to JDK 1.8 at my local machine. It failed to start since it is not supported the older version of JDK.</li>\n</ul>\n<ol start=\"3\">\n<li>I downloaded the older version of STS <strong>sts-4.4.1.RELEASE</strong></li>\n</ol>\n<ul>\n<li>Now, I import the project again, press 'refresh gradle', it works fine and the gradle task shows properly in the IDE.</li>\n</ul>\n<ol start=\"4\">\n<li>In the sts-4.4.1.RELEASE folder, adding an entry into SpringToolSuite4.ini to pointing to use JDK 1.8 at my local PC.</li>\n</ol>\n<pre><code>C:/Program Files/Java/jdk1.8.0_301/bin/javaw.exe\n</code></pre>\n<p>-If not specify, it would use the openjdk to start with by default. It is a good practice to specify the version we use.</p>\n<p>Appendix\nSpringToolSuite4.ini\n<a href=\"https://wiki.eclipse.org/Eclipse.ini\" rel=\"nofollow noreferrer\">https://wiki.eclipse.org/Eclipse.ini</a></p>\n"},{"tags":[],"owner":{"account_id":4479391,"reputation":499,"user_id":3643595,"display_name":"Ankush"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653572086,"creation_date":1653572086,"answer_id":72392692,"question_id":61289461,"body_markdown":"It was coming for me in Idea, and got resolved after setting JAVA_HOME in .zshrc and .bash_profile, source both the files and restart the Idea.\r\n\r\n    export JAVA_HOME=&quot;&lt;Path to JDK just above bin &quot; # For e.g it was &quot;/opt/homebrew/opt/openjdk@11&quot; in my Mac machine could be /Contents/Home based on you have used homebrew or manually gunzipped","title":"java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7","body":"<p>It was coming for me in Idea, and got resolved after setting JAVA_HOME in .zshrc and .bash_profile, source both the files and restart the Idea.</p>\n<pre><code>export JAVA_HOME=&quot;&lt;Path to JDK just above bin &quot; # For e.g it was &quot;/opt/homebrew/opt/openjdk@11&quot; in my Mac machine could be /Contents/Home based on you have used homebrew or manually gunzipped\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7523801,"reputation":96,"user_id":5714806,"display_name":"ddc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653981274,"creation_date":1653981274,"answer_id":72443586,"question_id":61289461,"body_markdown":"It can also happen because you forgot to indicate your Android SDK via local.properties in a freshly cloned Android Project.","title":"java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7","body":"<p>It can also happen because you forgot to indicate your Android SDK via local.properties in a freshly cloned Android Project.</p>\n"},{"tags":[],"owner":{"account_id":952426,"reputation":1868,"user_id":978302,"accept_rate":60,"display_name":"RenatoIvancic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695100022,"creation_date":1695100022,"answer_id":77131844,"question_id":61289461,"body_markdown":"I had to work on a project with Gradle version 6.0.1. First I wanted to update the Gradle wrapper while then later I got other issues. So to stay with Gradle wrapper 6.0.1, I had to downgrade Java version from 17 to 8.\r\n\r\nIn **Eclipse** I had to override workspace settings in the Advanced section with setting explicitly Java home. Otherwise the project wouldn&#39;t load at all.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIn **IntelliJ IDEA** the case was that project could open while it presented following error. \r\n\r\n[![enter image description here][2]][2]\r\n\r\nAgain I had to downgrade Java version to 8 from 17 in the Gradle build window:\r\n[![enter image description here][3]][3]\r\n\r\nFor a long shot it definitely makes sense to upgrade the project. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uSkjE.png\r\n  [2]: https://i.stack.imgur.com/Og2Ks.png\r\n  [3]: https://i.stack.imgur.com/cZh2b.jpg","title":"java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7","body":"<p>I had to work on a project with Gradle version 6.0.1. First I wanted to update the Gradle wrapper while then later I got other issues. So to stay with Gradle wrapper 6.0.1, I had to downgrade Java version from 17 to 8.</p>\n<p>In <strong>Eclipse</strong> I had to override workspace settings in the Advanced section with setting explicitly Java home. Otherwise the project wouldn't load at all.</p>\n<p><a href=\"https://i.stack.imgur.com/uSkjE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uSkjE.png\" alt=\"enter image description here\" /></a></p>\n<p>In <strong>IntelliJ IDEA</strong> the case was that project could open while it presented following error.</p>\n<p><a href=\"https://i.stack.imgur.com/Og2Ks.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Og2Ks.png\" alt=\"enter image description here\" /></a></p>\n<p>Again I had to downgrade Java version to 8 from 17 in the Gradle build window:\n<a href=\"https://i.stack.imgur.com/cZh2b.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cZh2b.jpg\" alt=\"enter image description here\" /></a></p>\n<p>For a long shot it definitely makes sense to upgrade the project.</p>\n"}],"owner":{"account_id":4099206,"reputation":2031,"user_id":3365200,"accept_rate":80,"display_name":"user3365200"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":345774,"favorite_count":0,"down_vote_count":0,"up_vote_count":188,"answer_count":24,"score":188,"last_activity_date":1695100022,"creation_date":1587214529,"question_id":61289461,"body_markdown":"I am getting this exception  `\r\njava.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7  and java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.reflection.ReflectionCache\r\n`) when i run the spring boot application\r\n\r\nI am using below tools\r\n\r\n***STS 3.9.10 release &lt;br/&gt;\r\nOpen JDK 14 64 bit &lt;br/&gt;\r\nSpring boot 2.2.5 &lt;br/&gt;***\r\n\r\nIt worked fine with oracle jdk but its failing to run with openjdk.  I am not using any groovy libs. This is maven based spring boot project.\r\n","title":"java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7","body":"<p>I am getting this exception  <code>java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7  and java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.reflection.ReflectionCache</code>) when i run the spring boot application</p>\n<p>I am using below tools</p>\n<p><em><strong>STS 3.9.10 release <br/>\nOpen JDK 14 64 bit <br/>\nSpring boot 2.2.5 <br/></strong></em></p>\n<p>It worked fine with oracle jdk but its failing to run with openjdk.  I am not using any groovy libs. This is maven based spring boot project.</p>\n"},{"tags":["java","visual-studio-code","gradle","directory","build.gradle"],"comments":[{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1695195303,"post_id":77131804,"comment_id":135989957,"body_markdown":"I think your gradle may be set wrong, please search how to use gradle in vscode. Or show more details about your problem.","body":"I think your gradle may be set wrong, please search how to use gradle in vscode. Or show more details about your problem."}],"answers":[{"tags":[],"owner":{"account_id":5060337,"reputation":12,"user_id":4062178,"display_name":"Beck-воин"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1695099826,"creation_date":1695099826,"answer_id":77131833,"question_id":77131804,"body_markdown":"I would delete the build.gradle file, and initialize the project again with gradle with `gradle init`, try reloading the project.","title":"Gradle &#39;run&#39; Task Fails: &quot;Directory does not contain a Gradle build&quot;","body":"<p>I would delete the build.gradle file, and initialize the project again with gradle with <code>gradle init</code>, try reloading the project.</p>\n"}],"owner":{"account_id":29164012,"reputation":19,"user_id":22342047,"display_name":"Paris Vanuya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1496,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695099826,"creation_date":1695099116,"question_id":77131804,"body_markdown":"**Question:**\r\nI&#39;m facing an issue when trying to run my Gradle-based Java project using the gradle run command. I encounter the following error:\r\n\r\n```\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nDirectory &#39;/path/to/project&#39; does not contain a Gradle build.\r\n\r\nA Gradle build should contain a &#39;settings.gradle&#39; or &#39;settings.gradle.kts&#39; file in its root directory. It may also contain a &#39;build.gradle&#39; or &#39;build.gradle.kts&#39; file.\r\n\r\nTo create a new Gradle build in this directory, run &#39;gradle init&#39;.\r\n\r\nFor more information about the &#39;init&#39; task, please refer to [Gradle Documentation](https://docs.gradle.org/8.3/userguide/build_init_plugin.html).\r\n\r\nFor more details on creating a Gradle build, please refer to [Gradle Documentation](https://docs.gradle.org/8.3/userguide/tutorial_using_tasks.html).\r\n\r\n * Try:\r\n&gt; Run `gradle init` to create a new Gradle build in this directory.\r\n&gt; Run with `--stacktrace` option to get the stack trace.\r\n&gt; Run with `--info` or `--debug` option to get more log output.\r\n&gt; Get more help at [Gradle Help](https://help.gradle.org).\r\n```\r\n\r\n**Problem Description:**\r\nI&#39;m trying to run a Java project using Gradle, and my project structure seems to be correct with a build.gradle file in the root directory. However, when I run gradle run, I encounter the error mentioned above.\r\n\r\n**Additional Information:**\r\n```\r\n/path/to/project/\r\n├── build.gradle\r\n├── src/\r\n│   └── main/\r\n│       └── java/\r\n│           └── WizardTD/\r\n│               └── build.gradle\r\n                └── App.java\r\n```\r\n\r\n * Gradle Version: 8.3\r\n\r\n**Steps Taken:**\r\n1. Navigated to the project&#39;s root directory.\r\n2. Checked that a **&#39;build.gradle&#39;** file exists.\r\n3. Ran **&#39;gradle run&#39;**.\r\n\r\n**Expected Behavior:**\r\nThe gradle run task should execute the Java application located in Main.java.\r\n\r\n**Actual Behavior:**\r\nThe gradle run task fails with the error mentioned above.\r\n\r\nI would appreciate any insights or guidance on how to resolve this issue and successfully run my Java project using Gradle. Thank you!\r\n\r\n\r\n","title":"Gradle &#39;run&#39; Task Fails: &quot;Directory does not contain a Gradle build&quot;","body":"<p><strong>Question:</strong>\nI'm facing an issue when trying to run my Gradle-based Java project using the gradle run command. I encounter the following error:</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nDirectory '/path/to/project' does not contain a Gradle build.\n\nA Gradle build should contain a 'settings.gradle' or 'settings.gradle.kts' file in its root directory. It may also contain a 'build.gradle' or 'build.gradle.kts' file.\n\nTo create a new Gradle build in this directory, run 'gradle init'.\n\nFor more information about the 'init' task, please refer to [Gradle Documentation](https://docs.gradle.org/8.3/userguide/build_init_plugin.html).\n\nFor more details on creating a Gradle build, please refer to [Gradle Documentation](https://docs.gradle.org/8.3/userguide/tutorial_using_tasks.html).\n\n * Try:\n&gt; Run `gradle init` to create a new Gradle build in this directory.\n&gt; Run with `--stacktrace` option to get the stack trace.\n&gt; Run with `--info` or `--debug` option to get more log output.\n&gt; Get more help at [Gradle Help](https://help.gradle.org).\n</code></pre>\n<p><strong>Problem Description:</strong>\nI'm trying to run a Java project using Gradle, and my project structure seems to be correct with a build.gradle file in the root directory. However, when I run gradle run, I encounter the error mentioned above.</p>\n<p><strong>Additional Information:</strong></p>\n<pre><code>/path/to/project/\n├── build.gradle\n├── src/\n│   └── main/\n│       └── java/\n│           └── WizardTD/\n│               └── build.gradle\n                └── App.java\n</code></pre>\n<ul>\n<li>Gradle Version: 8.3</li>\n</ul>\n<p><strong>Steps Taken:</strong></p>\n<ol>\n<li>Navigated to the project's root directory.</li>\n<li>Checked that a <strong>'build.gradle'</strong> file exists.</li>\n<li>Ran <strong>'gradle run'</strong>.</li>\n</ol>\n<p><strong>Expected Behavior:</strong>\nThe gradle run task should execute the Java application located in Main.java.</p>\n<p><strong>Actual Behavior:</strong>\nThe gradle run task fails with the error mentioned above.</p>\n<p>I would appreciate any insights or guidance on how to resolve this issue and successfully run my Java project using Gradle. Thank you!</p>\n"},{"tags":["java","android","class","kotlin","reflection"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1605825841,"post_id":64921081,"comment_id":114779033,"body_markdown":"Do you need to get a method by String name? Otherwise, you can just use `::methodName`.","body":"Do you need to get a method by String name? Otherwise, you can just use <code>::methodName</code>."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":3,"creation_date":1605826149,"post_id":64921081,"comment_id":114779121,"body_markdown":"Otherwise, you can get a KCallable using `class.members.single { it.name == &quot;theFunctionName&quot; }`","body":"Otherwise, you can get a KCallable using <code>class.members.single { it.name == &quot;theFunctionName&quot; }</code>"},{"owner":{"account_id":7581977,"reputation":1361,"user_id":5752410,"display_name":"Eitanos30"},"score":0,"creation_date":1605826258,"post_id":64921081,"comment_id":114779149,"body_markdown":"yes I need by name. Incidentally, the **::methodName** doesn&#39;t work when i tried the following:\n val str:String =&quot;dsasa&quot;\n    var kclass : KClass&lt;out String&gt; = str::class\n    str.toUpperCase()","body":"yes I need by name. Incidentally, the <b>::methodName</b> doesn&#39;t work when i tried the following:  val str:String =&quot;dsasa&quot;     var kclass : KClass&lt;out String&gt; = str::class     str.toUpperCase()"},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1605826569,"post_id":64921081,"comment_id":114779257,"body_markdown":"I&#39;m not following exactly what you tried, probably because of comment formatting, but you could edit it into the question if you want to ask about it too.","body":"I&#39;m not following exactly what you tried, probably because of comment formatting, but you could edit it into the question if you want to ask about it too."},{"owner":{"account_id":7581977,"reputation":1361,"user_id":5752410,"display_name":"Eitanos30"},"score":0,"creation_date":1605829969,"post_id":64921081,"comment_id":114780118,"body_markdown":"@Tenfour04, I understand all! thank you! you should write an official answer so i can reward you :) You are the master of the lambda expression. Just two  small and important questions, 1. Does this syntax bound the instance to the function? 2.Does members collection includes methods of *companion* object?","body":"@Tenfour04, I understand all! thank you! you should write an official answer so i can reward you :) You are the master of the lambda expression. Just two  small and important questions, 1. Does this syntax bound the instance to the function? 2.Does members collection includes methods of <i>companion</i> object?"}],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1695098995,"creation_date":1605838727,"answer_id":64922833,"question_id":64921081,"body_markdown":"Supposing you have this class: \r\n```\r\nclass Test {\r\n    fun sayHello() = println(&quot;Hello world&quot;)\r\n\r\n    companion object {\r\n        fun foo() = println(&quot;foo&quot;)\r\n    }\r\n}\r\n```\r\n\r\nThis gives you a function instance you can call with `invoke()` (which is an operator function, so you can just use parentheses like with any other function. If you get the function using the class name like this, it is not bound to an instance. So you pass the instance as the first parameter when invoking. (If `sayHello()` had additional parameters, they would just go after the first parameter of Test.)\r\n\r\n```\r\nval sayHelloFunction = Test::sayHello\r\nval test = Test()\r\nsayHelloFunction(test) // same as calling test.sayHello()\r\n```\r\n\r\nYou can also get a function reference that&#39;s bound to an instance like this. It cannot be called on other instances of Test.\r\n\r\n```\r\nval test = Test()\r\nval sayHelloFunction = test::sayHello\r\nsayHelloFunction() // same as calling test.sayHello()\r\n```\r\n\r\nThe above method doesn&#39;t require the Kotlin reflection library.\r\n\r\nTo get a member by String name, there isn&#39;t a specific function like Java&#39;s `getMethod`, so you have to pick it out of the list of members, which are KCallable. KCallable doesn&#39;t have the `operator fun invoke`, so you have to use `call` to call it, or cast it to a specific function type (in this case it would be `(Test) -&gt; Unit`).\r\n\r\n```\r\nval sayHelloCallable = Test::class.members.single { it.name == &quot;sayHello&quot; }\r\nval test = Test()\r\nsayHelloCallable.call(test) // same as calling test.sayHello()\r\n```\r\n\r\nThis *does not* list the members of the companion object, as that is a different class. For that you would have to get the companion&#39;s class:\r\n\r\n    Test.Companion::class.members.single { it.name == &quot;foo&quot; }\r\n\r\nI don&#39;t know if there&#39;s a way to get an instance bound version by name.\r\n\r\nAs for why there&#39;s no convenient `getMethod` function for KClass, I can only guess that because Kotlin classes have so many different types of members (properties, functions, delegates, backing fields), that maybe they want to limit API bloat and feel that the inline filtering functions like `single` are adequate.","title":"How to get Methods from KClass in Kotlin","body":"<p>Supposing you have this class:</p>\n<pre><code>class Test {\n    fun sayHello() = println(&quot;Hello world&quot;)\n\n    companion object {\n        fun foo() = println(&quot;foo&quot;)\n    }\n}\n</code></pre>\n<p>This gives you a function instance you can call with <code>invoke()</code> (which is an operator function, so you can just use parentheses like with any other function. If you get the function using the class name like this, it is not bound to an instance. So you pass the instance as the first parameter when invoking. (If <code>sayHello()</code> had additional parameters, they would just go after the first parameter of Test.)</p>\n<pre><code>val sayHelloFunction = Test::sayHello\nval test = Test()\nsayHelloFunction(test) // same as calling test.sayHello()\n</code></pre>\n<p>You can also get a function reference that's bound to an instance like this. It cannot be called on other instances of Test.</p>\n<pre><code>val test = Test()\nval sayHelloFunction = test::sayHello\nsayHelloFunction() // same as calling test.sayHello()\n</code></pre>\n<p>The above method doesn't require the Kotlin reflection library.</p>\n<p>To get a member by String name, there isn't a specific function like Java's <code>getMethod</code>, so you have to pick it out of the list of members, which are KCallable. KCallable doesn't have the <code>operator fun invoke</code>, so you have to use <code>call</code> to call it, or cast it to a specific function type (in this case it would be <code>(Test) -&gt; Unit</code>).</p>\n<pre><code>val sayHelloCallable = Test::class.members.single { it.name == &quot;sayHello&quot; }\nval test = Test()\nsayHelloCallable.call(test) // same as calling test.sayHello()\n</code></pre>\n<p>This <em>does not</em> list the members of the companion object, as that is a different class. For that you would have to get the companion's class:</p>\n<pre><code>Test.Companion::class.members.single { it.name == &quot;foo&quot; }\n</code></pre>\n<p>I don't know if there's a way to get an instance bound version by name.</p>\n<p>As for why there's no convenient <code>getMethod</code> function for KClass, I can only guess that because Kotlin classes have so many different types of members (properties, functions, delegates, backing fields), that maybe they want to limit API bloat and feel that the inline filtering functions like <code>single</code> are adequate.</p>\n"},{"tags":[],"owner":{"account_id":5645,"reputation":168040,"user_id":9204,"accept_rate":82,"display_name":"Alexey Romanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605862337,"creation_date":1605862337,"answer_id":64926409,"question_id":64921081,"body_markdown":"To get a `Class` from a `KClass`, you just call [`.java`][1] on it (and [`.kotlin`][2] to go the other way).\r\n\r\n\r\n  [1]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/java.html\r\n  [2]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/java.lang.-class/kotlin.html","title":"How to get Methods from KClass in Kotlin","body":"<p>To get a <code>Class</code> from a <code>KClass</code>, you just call <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/java.html\" rel=\"nofollow noreferrer\"><code>.java</code></a> on it (and <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/java.lang.-class/kotlin.html\" rel=\"nofollow noreferrer\"><code>.kotlin</code></a> to go the other way).</p>\n"}],"owner":{"account_id":7581977,"reputation":1361,"user_id":5752410,"display_name":"Eitanos30"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4087,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":64922833,"answer_count":2,"score":2,"last_activity_date":1695098995,"creation_date":1605825488,"question_id":64921081,"body_markdown":"In java when i have a Class&lt;&gt; instance, i have the *getMethod* that return a Method and it is very easy to use.\r\nAs i can see Kotlin makes life harder because such a method doesn&#39;t exist. is there a nice way to get a specific method beside of turning the *KClass* to *Class* and then using it exactly as in Java?\r\n","title":"How to get Methods from KClass in Kotlin","body":"<p>In java when i have a Class&lt;&gt; instance, i have the <em>getMethod</em> that return a Method and it is very easy to use.\nAs i can see Kotlin makes life harder because such a method doesn't exist. is there a nice way to get a specific method beside of turning the <em>KClass</em> to <em>Class</em> and then using it exactly as in Java?</p>\n"},{"tags":["java","spring","spring-boot","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":19296215,"reputation":703,"user_id":14105130,"display_name":"YourHelper"},"score":0,"creation_date":1604849423,"post_id":64739769,"comment_id":114466249,"body_markdown":"Does this anser your question?https://stackoverflow.com/questions/16688655/check-if-a-object-is-a-instance-of-a-class-but-not-a-instance-of-its-subclass","body":"Does this anser your question?<a href=\"https://stackoverflow.com/questions/16688655/check-if-a-object-is-a-instance-of-a-class-but-not-a-instance-of-its-subclass\" title=\"check if a object is a instance of a class but not a instance of its subclass\">stackoverflow.com/questions/16688655/&hellip;</a>"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1604855651,"post_id":64739769,"comment_id":114468088,"body_markdown":"You should separate your objects being serialized from the actual serializer classes, and they don&#39;t need to be called &quot;factories&quot;","body":"You should separate your objects being serialized from the actual serializer classes, and they don&#39;t need to be called &quot;factories&quot;"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1604855708,"post_id":64739769,"comment_id":114468102,"body_markdown":"Can you show me code example, please?","body":"Can you show me code example, please?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1604871965,"post_id":64739769,"comment_id":114472442,"body_markdown":"You already have it, but fix the naming `SaleRequestSerializer implements org.apache.kafka.common.serialization.Serializer`... My point is that your ProducerFactory, for example shouldn&#39;t be &quot;sending&quot; your serializer, so have a separate class `ProducerFactory&lt;String, SaleRequestFactory&gt;`","body":"You already have it, but fix the naming <code>SaleRequestSerializer implements org.apache.kafka.common.serialization.Serializer</code>... My point is that your ProducerFactory, for example shouldn&#39;t be &quot;sending&quot; your serializer, so have a separate class <code>ProducerFactory&lt;String, SaleRequestFactory&gt;</code>"}],"answers":[{"tags":[],"owner":{"account_id":2761823,"reputation":637,"user_id":2378559,"display_name":"Igmar Palsenberg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604849511,"creation_date":1604849511,"answer_id":64739826,"question_id":64739769,"body_markdown":"KEY_DESERIALIZER_CLASS_CONFIG is a class which deserializes the network value into proper Java classes. The class you provided doesn&#39;t do that.\r\n\r\nIn most cases, StringDeserializer is used. Specify a proper deserializer to the factory properties.","title":"KafkaException: class is not an instance of org.apache.kafka.common.serialization.Deserializer","body":"<p>KEY_DESERIALIZER_CLASS_CONFIG is a class which deserializes the network value into proper Java classes. The class you provided doesn't do that.</p>\n<p>In most cases, StringDeserializer is used. Specify a proper deserializer to the factory properties.</p>\n"},{"tags":[],"owner":{"account_id":3175948,"reputation":74316,"user_id":2683814,"accept_rate":100,"display_name":"s7vr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1605043923,"creation_date":1605043923,"answer_id":64777054,"question_id":64739769,"body_markdown":"You are using different type to cast the object than what it was serialize with. Not sure why you need to do that. You can update your deserialize to something like below.\r\n\r\n    public class SaleRequestFactoryDeserializer implements Serializable, Deserializer&lt;SaleRequestFactory&gt; {\r\n\r\n         @Override\r\n         public SaleRequestFactory deserialize(String topic, byte[] data) {\r\n          ...\r\n            saleRequestFactory = (SaleRequestFactory) in.readObject();\r\n\r\n        }\r\n    }\r\n\r\n&gt;     java.lang.ClassCastException: null\r\n\r\nThis also means your serialization didn&#39;t work as expected. Make sure you have valid payload before you try to cast.","title":"KafkaException: class is not an instance of org.apache.kafka.common.serialization.Deserializer","body":"<p>You are using different type to cast the object than what it was serialize with. Not sure why you need to do that. You can update your deserialize to something like below.</p>\n<pre><code>public class SaleRequestFactoryDeserializer implements Serializable, Deserializer&lt;SaleRequestFactory&gt; {\n\n     @Override\n     public SaleRequestFactory deserialize(String topic, byte[] data) {\n      ...\n        saleRequestFactory = (SaleRequestFactory) in.readObject();\n\n    }\n}\n</code></pre>\n<blockquote>\n<pre><code>java.lang.ClassCastException: null\n</code></pre>\n</blockquote>\n<p>This also means your serialization didn't work as expected. Make sure you have valid payload before you try to cast.</p>\n"},{"tags":[],"owner":{"account_id":11370459,"reputation":321,"user_id":8336150,"display_name":"FARS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663254096,"creation_date":1663254096,"answer_id":73733430,"question_id":64739769,"body_markdown":"For those who are using application.properties for kafka configuration parameters, make sure it looks like it\r\n\r\n    spring.kafka.consumer.bootstrap-servers=localhost:8888\r\n    spring.kafka.consumer.group-id=message\r\n    spring.kafka.consumer.auto-offset-reset=earliest\r\n    spring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer\r\n    spring.kafka.consumer.value-deserializer=org.apache.kafka.common.serialization.StringDeserializer\r\n    \r\n    spring.kafka.producer.bootstrap-servers=localhost:8888\r\n    spring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer\r\n    spring.kafka.producer.value-serializer=org.apache.kafka.common.serialization.StringSerializer","title":"KafkaException: class is not an instance of org.apache.kafka.common.serialization.Deserializer","body":"<p>For those who are using application.properties for kafka configuration parameters, make sure it looks like it</p>\n<pre><code>spring.kafka.consumer.bootstrap-servers=localhost:8888\nspring.kafka.consumer.group-id=message\nspring.kafka.consumer.auto-offset-reset=earliest\nspring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer\nspring.kafka.consumer.value-deserializer=org.apache.kafka.common.serialization.StringDeserializer\n\nspring.kafka.producer.bootstrap-servers=localhost:8888\nspring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer\nspring.kafka.producer.value-serializer=org.apache.kafka.common.serialization.StringSerializer\n</code></pre>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15385,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":64777054,"answer_count":3,"score":2,"last_activity_date":1695098976,"creation_date":1604849113,"question_id":64739769,"body_markdown":"I want to implement Kafka producer which sends and receives Java Serialized Objects. I tried this:\r\n\r\n***Producer:***\r\n\r\n```java\r\n@Configuration\r\npublic class KafkaProducerConfig {\r\n\r\n@Value(value = &quot;${kafka.bootstrapAddress}&quot;)\r\nprivate String bootstrapAddress;\r\n\r\n@Bean\r\npublic ProducerFactory&lt;String, SaleRequestFactory&gt; saleRequestFactoryProducerFactory() {\r\n    Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\r\n    configProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\r\n    configProps.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, SaleRequestFactory.class);\r\n    configProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, SaleRequestFactory.class);\r\n    return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\r\n}\r\n\r\n@Bean\r\npublic ProducerFactory&lt;String, String&gt; producerFactory() {\r\n    Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\r\n    configProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\r\n    /*\r\n        Serialization configuration\r\n     */\r\n    return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\r\n}\r\n```\r\n\r\n\r\n```java\r\n@Bean\r\npublic KafkaTemplate&lt;String, SaleRequestFactory&gt; saleRequestFactoryKafkaTemplate() {\r\n    return new KafkaTemplate&lt;&gt;(saleRequestFactoryProducerFactory());\r\n}\r\n\r\n@Bean\r\npublic KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\r\n    return new KafkaTemplate&lt;&gt;(producerFactory());\r\n}\r\n}\r\n```\r\n\r\n***Send object:***\r\n\r\n```java\r\n@Autowired\r\nprivate KafkaTemplate&lt;String, SaleRequestFactory&gt; saleRequestFactoryKafkaTemplate;\r\n\r\nprivate static String topic = &quot;tp-sale&quot;;\r\n\r\nprivate void perform(){\r\n\r\n    SaleRequestFactory obj = new SaleRequestFactory();\r\n    obj.setId(100);\r\n\r\n    ListenableFuture&lt;SendResult&lt;String, SaleRequestFactory&gt;&gt; send = saleRequestFactoryKafkaTemplate.send(topic, obj);\r\n}\r\n```\r\n\r\n***Consumer:***\r\n\r\n```java\r\n@EnableKafka\r\n@Configuration\r\npublic class KafkaConsumerConfig {\r\n\r\n    @Value(value = &quot;${kafka.bootstrapAddress}&quot;)\r\n    private String bootstrapAddress;\r\n\r\n    private String groupId = &quot;test&quot;;\r\n\r\n    @Bean\r\n    public ConsumerFactory&lt;String, SaleResponseFactory&gt; consumerFactory() {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\r\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\r\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, SaleResponseFactory.class);\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props);\r\n    }\r\n\r\n    @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, SaleResponseFactory&gt; kafkaListenerContainerFactory() {\r\n        ConcurrentKafkaListenerContainerFactory&lt;String, SaleResponseFactory&gt; factory =\r\n                new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(consumerFactory());\r\n        return factory;\r\n    }\r\n}\r\n```\r\n\r\n// Receive Object\r\n\r\n```java\r\n@KafkaListener(topics = &quot;tp-sale&quot;)\r\npublic SaleResponseFactory transactionElavonAuthorizeProcess(@Payload SaleRequestFactory tf, @Headers MessageHeaders headers) throws Exception {\r\n\r\n\tSystem.out.println(tf.getId());\r\n\r\n\tSaleResponseFactory resObj = new SaleResponseFactory();\r\n\tresObj.setUnique_id(&quot;123123&quot;);\r\n\r\n\treturn resObj;\r\n}\r\n```\r\n\r\nWhen I deploy the Producer I get error during deployment:\r\n\r\n`Caused by: org.apache.kafka.common.KafkaException: class org.engine.plugin.transactions.factory.SaleResponseFactory is not an instance of org.apache.kafka.common.serialization.Deserializer`\r\n\r\nCustom object \r\n\r\n    import org.apache.kafka.common.serialization.Serializer;\r\n    \r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder(toBuilder = true)\r\n    public class SaleRequestFactory implements Serializable, Serializer {\r\n    \r\n        private static final long serialVersionUID = 1744050117179344127L;\r\n        \r\n        private int id;\r\n    \r\n        @Override\r\n        public byte[] serialize(String s, Object o) {\r\n            return new byte[0];\r\n        }\r\n    }\r\n\r\n&lt;p&gt;\r\n\r\n\r\n```    java\r\nimport org.apache.kafka.common.serialization.Deserializer;\r\n    \r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder(toBuilder = true)\r\npublic class SaleResponseFactory implements Serializable, Deserializer {\r\n\r\n    private static final long serialVersionUID = 1744050117179344127L;\r\n\r\n    private String unique_id;\r\n\r\n    @Override\r\n    public Object deserialize(String s, byte[] bytes) {\r\n        return null;\r\n    }\r\n}\r\n\r\n```\r\n\r\nDo you know how I can fix this issue?\r\n\r\n***EDIT:***  I tried this:\r\n\r\n***Producer:***\r\n\r\n    @Configuration\r\n    public class KafkaProducerConfig {\r\n    \r\n    @Value(value = &quot;${kafka.bootstrapAddress}&quot;)\r\n    private String bootstrapAddress;\r\n    \r\n    @Bean\r\n    public ProducerFactory&lt;String, SaleRequestFactory&gt; saleRequestFactoryProducerFactory() {\r\n        Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\r\n        configProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\r\n        configProps.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n        configProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, SaleRequestFactorySerializer.class);\r\n        return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\r\n    }\r\n    \r\n    @Bean\r\n    public ProducerFactory&lt;String, String&gt; producerFactory() {\r\n        Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\r\n        configProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\r\n        return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\r\n    }\r\n\r\n\r\n```java\r\n@Bean\r\npublic KafkaTemplate&lt;String, SaleRequestFactory&gt; saleRequestFactoryKafkaTemplate() {\r\n    return new KafkaTemplate&lt;&gt;(saleRequestFactoryProducerFactory());\r\n}\r\n\r\n@Bean\r\npublic KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\r\n    return new KafkaTemplate&lt;&gt;(producerFactory());\r\n}\r\n}\r\n```\r\n\r\n***Send object:***\r\n\r\n    @Autowired\r\n    private KafkaTemplate&lt;String, SaleRequestFactory&gt; saleRequestFactoryKafkaTemplate;\r\n    \r\n    private static String topic = &quot;tp-sale&quot;;\r\n    \r\n    private void perform(){\r\n    \r\n        SaleRequestFactory obj = new SaleRequestFactory();\r\n        obj.setId(100);\r\n    \r\n        ListenableFuture&lt;SendResult&lt;String, SaleRequestFactory&gt;&gt; send = saleRequestFactoryKafkaTemplate.send(topic, obj);\r\n    }\r\n\r\n***Consumer:***\r\n\r\n```\r\n@EnableKafka\r\n@Configuration\r\npublic class KafkaConsumerConfig {\r\n\r\n    @Value(value = &quot;${kafka.bootstrapAddress}&quot;)\r\n    private String bootstrapAddress;\r\n\r\n    private String groupId = &quot;test&quot;;\r\n\r\n    @Bean\r\n    public ConsumerFactory&lt;String, SaleResponseFactory&gt; consumerFactory() {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\r\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\r\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, SaleResponseFactoryDeserializer.class);\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props);\r\n    }\r\n\r\n    @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, SaleResponseFactory&gt; kafkaListenerContainerFactory() {\r\n        ConcurrentKafkaListenerContainerFactory&lt;String, SaleResponseFactory&gt; factory =\r\n                new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(consumerFactory());\r\n        return factory;\r\n    }\r\n}\r\n```\r\n\r\n// Receive Object\r\n\r\n        @KafkaListener(topics = &quot;tp-sale&quot;)\r\n    public SaleResponseFactory transactionElavonAuthorizeProcess(@Payload SaleRequestFactory tf, @Headers MessageHeaders headers) throws Exception {\r\n    \r\n    \tSystem.out.println(tf.getId());\r\n    \r\n    \tSaleResponseFactory resObj = new SaleResponseFactory();\r\n    \tresObj.setUnique_id(&quot;123123&quot;);\r\n    \r\n    \treturn resObj;\r\n    }\r\n\r\n\r\n***Custom objects*** \r\n    \r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder(toBuilder = true)\r\n    public class SaleRequestFactory implements Serializable{\r\n    \r\n        private static final long serialVersionUID = 1744050117179344127L;\r\n        \r\n        private int id;\r\n    }\r\n    \r\n    public class SaleRequestFactorySerializer implements Serializable, Serializer&lt;SaleRequestFactory&gt; {\r\n    \r\n        @Override\r\n        public byte[] serialize(String topic, SaleRequestFactory data) {\r\n            // convert data to byte[]\r\n            ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n            try\r\n            {\r\n                ObjectOutputStream outputStream = new ObjectOutputStream(out);\r\n                outputStream.writeObject(data);\r\n                out.close();\r\n            }\r\n            catch (IOException e)\r\n            {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            return out.toByteArray();\r\n        }\r\n    }\r\n\r\n\r\n​    \r\n\r\n```java\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder(toBuilder = true)\r\npublic class SaleResponseFactory implements Serializable{\r\n\r\n    private static final long serialVersionUID = 1744050117179344127L;\r\n\r\n    private String unique_id;\r\n}\r\n\r\npublic class SaleResponseFactoryDeserializer implements Serializable, Deserializer&lt;SaleResponseFactory&gt; {\r\n\r\n    @Override\r\n    public SaleResponseFactory deserialize(String topic, byte[] data) {\r\n        // convert data to SaleResponseFactory\r\n        SaleResponseFactory saleResponseFactory = null;\r\n        try\r\n        {\r\n            ByteArrayInputStream bis = new ByteArrayInputStream(data);\r\n            ObjectInputStream in = new ObjectInputStream(bis);\r\n            saleResponseFactory = (SaleResponseFactory) in.readObject();\r\n            in.close();\r\n        }\r\n        catch (IOException | ClassNotFoundException e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n        return saleResponseFactory;\r\n    }\r\n}\r\n```\r\n\r\n\r\nWhen I try to send message I get error:\r\n\r\n```java\r\nCaused by: org.apache.kafka.common.errors.SerializationException: Error deserializing key/value for partition tp-sale-0 at offset 0. If needed, please seek past the record to continue consumption.\r\nCaused by: java.lang.ClassCastException: null\r\n21:27:51.152 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG KafkaMessageListenerContainer$ListenerConsumer[debug:296] - Commit list: {}\r\n21:27:51.153 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR KafkaMessageListenerContainer$ListenerConsumer[error:149] - Consumer exception\r\njava.lang.IllegalStateException: This error handler cannot process &#39;SerializationException&#39;s directly; please consider configuring an &#39;ErrorHandlingDeserializer&#39; in the value and/or key deserializer\r\n        at org.springframework.kafka.listener.SeekUtils.seekOrRecover(SeekUtils.java:145)\r\n        at org.springframework.kafka.listener.SeekToCurrentErrorHandler.handle(SeekToCurrentErrorHandler.java:103)\r\n        at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.handleConsumerException(KafkaMessageListenerContainer.java:1265)\r\n        at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1022)\r\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n        at java.base/java.lang.Thread.run(Thread.java:835)\r\nCaused by: org.apache.kafka.common.errors.SerializationException: Error deserializing key/value for partition tp-sale-0 at offset 0. If needed, please seek past the record to continue consumption.\r\nCaused by: java.lang.ClassCastException: null\r\n```\r\n\r\n\r\nDo you know how I can fix this issue?\r\n\r\n***EDIT:***\r\nI managed to implement these improvements:\r\n\r\n***Producer:***\r\n\r\n    @Configuration\r\n    public class KafkaProducerConfig {\r\n    \r\n    @Value(value = &quot;${kafka.bootstrapAddress}&quot;)\r\n    private String bootstrapAddress;\r\n    \r\n    @Bean\r\n    public ProducerFactory&lt;String, SaleRequestFactory&gt; saleRequestFactoryProducerFactory() {\r\n        Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\r\n        configProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\r\n        configProps.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n        configProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, SaleRequestFactorySerializer.class);\r\n        return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\r\n    }\r\n    \r\n    @Bean\r\n    public ProducerFactory&lt;String, String&gt; producerFactory() {\r\n        Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\r\n        configProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\r\n        return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\r\n    }\r\n\r\n\r\n```java\r\n@Bean\r\npublic KafkaTemplate&lt;String, SaleRequestFactory&gt; saleRequestFactoryKafkaTemplate() {\r\n    return new KafkaTemplate&lt;&gt;(saleRequestFactoryProducerFactory());\r\n}\r\n\r\n@Bean\r\npublic KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\r\n    return new KafkaTemplate&lt;&gt;(producerFactory());\r\n}\r\n}\r\n```\r\n\r\n***Send object:***\r\n\r\n    @Autowired\r\n    private KafkaTemplate&lt;String, SaleRequestFactory&gt; saleRequestFactoryKafkaTemplate;\r\n    \r\n    private static String topic = &quot;tp-sale&quot;;\r\n    \r\n    private void perform(){\r\n    \r\n        SaleRequestFactory obj = new SaleRequestFactory();\r\n        obj.setId(100);\r\n    \r\n        ListenableFuture&lt;SendResult&lt;String, SaleRequestFactory&gt;&gt; send = saleRequestFactoryKafkaTemplate.send(topic, obj);\r\n    }\r\n\r\n***Consumer:***\r\n\r\n```\r\n@EnableKafka\r\n@Configuration\r\npublic class KafkaConsumerConfig {\r\n\r\n    @Value(value = &quot;${kafka.bootstrapAddress}&quot;)\r\n    private String bootstrapAddress;\r\n\r\n    private String groupId = &quot;test&quot;;\r\n\r\n    @Bean\r\n    public ConsumerFactory&lt;String, SaleResponseFactory&gt; consumerFactory() {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\r\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\r\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, SaleResponseFactoryDeserializer.class);\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props);\r\n    }\r\n\r\n    @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, SaleResponseFactory&gt; kafkaListenerContainerFactory() {\r\n        ConcurrentKafkaListenerContainerFactory&lt;String, SaleResponseFactory&gt; factory =\r\n                new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(consumerFactory());\r\n        return factory;\r\n    }\r\n}\r\n```\r\n\r\n***Receive Object***\r\n\r\n```java\r\n@KafkaListener(topics = &quot;tp-sale&quot;)\r\npublic SaleResponseFactory transactionElavonAuthorizeProcess(@Payload SaleRequestFactory tf, @Headers MessageHeaders headers) throws Exception {\r\n\r\n\tSystem.out.println(tf.getId());\r\n\r\n\tSaleResponseFactory resObj = new SaleResponseFactory();\r\n\tresObj.setUnique_id(&quot;123123&quot;);\r\n\r\n\treturn resObj;\r\n}\r\n```\r\n\r\n\r\n***Custom objects*** \r\n    \r\n\r\n```java\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder(toBuilder = true)\r\npublic class SaleRequestFactory implements Serializable{\r\n\r\n    private static final long serialVersionUID = 1744050117179344127L;\r\n    \r\n    private int id;\r\n}\r\n\r\npublic class SaleRequestFactorySerializer implements Serializable, Serializer&lt;SaleRequestFactory&gt; {\r\n\r\n    @Override\r\n    public byte[] serialize(String topic, SaleRequestFactory data) {\r\n        // convert data to byte[]\r\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n        try\r\n        {\r\n            ObjectOutputStream outputStream = new ObjectOutputStream(out);\r\n            outputStream.writeObject(data);\r\n            out.close();\r\n        }\r\n        catch (IOException e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return out.toByteArray();\r\n    }\r\n}\r\n```\r\n\r\n\r\n​    \r\n\r\n```java\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder(toBuilder = true)\r\npublic class SaleResponseFactory implements Serializable{\r\n\r\n    private static final long serialVersionUID = 1744050117179344127L;\r\n\r\n    private String unique_id;\r\n}\r\n\r\npublic class SaleResponseFactoryDeserializer implements Serializable, Deserializer&lt;SaleResponseFactory&gt; {\r\n\r\n    @Override\r\n    public SaleResponseFactory deserialize(String topic, byte[] data) {\r\n        // convert data to SaleResponseFactory\r\n        SaleResponseFactory saleResponseFactory = null;\r\n        try\r\n        {\r\n            ByteArrayInputStream bis = new ByteArrayInputStream(data);\r\n            ObjectInputStream in = new ObjectInputStream(bis);\r\n            saleResponseFactory = (SaleResponseFactory) in.readObject();\r\n            in.close();\r\n        }\r\n        catch (IOException | ClassNotFoundException e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n        return saleResponseFactory;\r\n    }\r\n}\r\n```\r\n\r\nWhen I send some message I get error: \r\n\r\n```java\r\n13:03:53.675 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG RecordMessagingMessageListenerAdapter[debug:296] - Listener method returned result [org.factory.SaleResponseFactory@69c400ab] - generating response message for it\r\n13:03:53.675 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG RecordMessagingMessageListenerAdapter[debug:296] - No replyTopic to handle the reply: org.factory.SaleResponseFactory@69c400ab\r\n```\r\n\r\nDo you know how I can solve this issue?","title":"KafkaException: class is not an instance of org.apache.kafka.common.serialization.Deserializer","body":"<p>I want to implement Kafka producer which sends and receives Java Serialized Objects. I tried this:</p>\n<p><em><strong>Producer:</strong></em></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class KafkaProducerConfig {\n\n@Value(value = &quot;${kafka.bootstrapAddress}&quot;)\nprivate String bootstrapAddress;\n\n@Bean\npublic ProducerFactory&lt;String, SaleRequestFactory&gt; saleRequestFactoryProducerFactory() {\n    Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\n    configProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\n    configProps.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, SaleRequestFactory.class);\n    configProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, SaleRequestFactory.class);\n    return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\n}\n\n@Bean\npublic ProducerFactory&lt;String, String&gt; producerFactory() {\n    Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\n    configProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\n    /*\n        Serialization configuration\n     */\n    return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic KafkaTemplate&lt;String, SaleRequestFactory&gt; saleRequestFactoryKafkaTemplate() {\n    return new KafkaTemplate&lt;&gt;(saleRequestFactoryProducerFactory());\n}\n\n@Bean\npublic KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\n    return new KafkaTemplate&lt;&gt;(producerFactory());\n}\n}\n</code></pre>\n<p><em><strong>Send object:</strong></em></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\nprivate KafkaTemplate&lt;String, SaleRequestFactory&gt; saleRequestFactoryKafkaTemplate;\n\nprivate static String topic = &quot;tp-sale&quot;;\n\nprivate void perform(){\n\n    SaleRequestFactory obj = new SaleRequestFactory();\n    obj.setId(100);\n\n    ListenableFuture&lt;SendResult&lt;String, SaleRequestFactory&gt;&gt; send = saleRequestFactoryKafkaTemplate.send(topic, obj);\n}\n</code></pre>\n<p><em><strong>Consumer:</strong></em></p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableKafka\n@Configuration\npublic class KafkaConsumerConfig {\n\n    @Value(value = &quot;${kafka.bootstrapAddress}&quot;)\n    private String bootstrapAddress;\n\n    private String groupId = &quot;test&quot;;\n\n    @Bean\n    public ConsumerFactory&lt;String, SaleResponseFactory&gt; consumerFactory() {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, SaleResponseFactory.class);\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props);\n    }\n\n    @Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;String, SaleResponseFactory&gt; kafkaListenerContainerFactory() {\n        ConcurrentKafkaListenerContainerFactory&lt;String, SaleResponseFactory&gt; factory =\n                new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(consumerFactory());\n        return factory;\n    }\n}\n</code></pre>\n<p>// Receive Object</p>\n<pre class=\"lang-java prettyprint-override\"><code>@KafkaListener(topics = &quot;tp-sale&quot;)\npublic SaleResponseFactory transactionElavonAuthorizeProcess(@Payload SaleRequestFactory tf, @Headers MessageHeaders headers) throws Exception {\n\n    System.out.println(tf.getId());\n\n    SaleResponseFactory resObj = new SaleResponseFactory();\n    resObj.setUnique_id(&quot;123123&quot;);\n\n    return resObj;\n}\n</code></pre>\n<p>When I deploy the Producer I get error during deployment:</p>\n<p><code>Caused by: org.apache.kafka.common.KafkaException: class org.engine.plugin.transactions.factory.SaleResponseFactory is not an instance of org.apache.kafka.common.serialization.Deserializer</code></p>\n<p>Custom object</p>\n<pre><code>import org.apache.kafka.common.serialization.Serializer;\n\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder(toBuilder = true)\npublic class SaleRequestFactory implements Serializable, Serializer {\n\n    private static final long serialVersionUID = 1744050117179344127L;\n    \n    private int id;\n\n    @Override\n    public byte[] serialize(String s, Object o) {\n        return new byte[0];\n    }\n}\n</code></pre>\n<p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.kafka.common.serialization.Deserializer;\n    \n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder(toBuilder = true)\npublic class SaleResponseFactory implements Serializable, Deserializer {\n\n    private static final long serialVersionUID = 1744050117179344127L;\n\n    private String unique_id;\n\n    @Override\n    public Object deserialize(String s, byte[] bytes) {\n        return null;\n    }\n}\n\n</code></pre>\n<p>Do you know how I can fix this issue?</p>\n<p><em><strong>EDIT:</strong></em>  I tried this:</p>\n<p><em><strong>Producer:</strong></em></p>\n<pre><code>@Configuration\npublic class KafkaProducerConfig {\n\n@Value(value = &quot;${kafka.bootstrapAddress}&quot;)\nprivate String bootstrapAddress;\n\n@Bean\npublic ProducerFactory&lt;String, SaleRequestFactory&gt; saleRequestFactoryProducerFactory() {\n    Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\n    configProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\n    configProps.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n    configProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, SaleRequestFactorySerializer.class);\n    return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\n}\n\n@Bean\npublic ProducerFactory&lt;String, String&gt; producerFactory() {\n    Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\n    configProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\n    return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic KafkaTemplate&lt;String, SaleRequestFactory&gt; saleRequestFactoryKafkaTemplate() {\n    return new KafkaTemplate&lt;&gt;(saleRequestFactoryProducerFactory());\n}\n\n@Bean\npublic KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\n    return new KafkaTemplate&lt;&gt;(producerFactory());\n}\n}\n</code></pre>\n<p><em><strong>Send object:</strong></em></p>\n<pre><code>@Autowired\nprivate KafkaTemplate&lt;String, SaleRequestFactory&gt; saleRequestFactoryKafkaTemplate;\n\nprivate static String topic = &quot;tp-sale&quot;;\n\nprivate void perform(){\n\n    SaleRequestFactory obj = new SaleRequestFactory();\n    obj.setId(100);\n\n    ListenableFuture&lt;SendResult&lt;String, SaleRequestFactory&gt;&gt; send = saleRequestFactoryKafkaTemplate.send(topic, obj);\n}\n</code></pre>\n<p><em><strong>Consumer:</strong></em></p>\n<pre><code>@EnableKafka\n@Configuration\npublic class KafkaConsumerConfig {\n\n    @Value(value = &quot;${kafka.bootstrapAddress}&quot;)\n    private String bootstrapAddress;\n\n    private String groupId = &quot;test&quot;;\n\n    @Bean\n    public ConsumerFactory&lt;String, SaleResponseFactory&gt; consumerFactory() {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, SaleResponseFactoryDeserializer.class);\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props);\n    }\n\n    @Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;String, SaleResponseFactory&gt; kafkaListenerContainerFactory() {\n        ConcurrentKafkaListenerContainerFactory&lt;String, SaleResponseFactory&gt; factory =\n                new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(consumerFactory());\n        return factory;\n    }\n}\n</code></pre>\n<p>// Receive Object</p>\n<pre><code>    @KafkaListener(topics = &quot;tp-sale&quot;)\npublic SaleResponseFactory transactionElavonAuthorizeProcess(@Payload SaleRequestFactory tf, @Headers MessageHeaders headers) throws Exception {\n\n    System.out.println(tf.getId());\n\n    SaleResponseFactory resObj = new SaleResponseFactory();\n    resObj.setUnique_id(&quot;123123&quot;);\n\n    return resObj;\n}\n</code></pre>\n<p><em><strong>Custom objects</strong></em></p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder(toBuilder = true)\npublic class SaleRequestFactory implements Serializable{\n\n    private static final long serialVersionUID = 1744050117179344127L;\n    \n    private int id;\n}\n\npublic class SaleRequestFactorySerializer implements Serializable, Serializer&lt;SaleRequestFactory&gt; {\n\n    @Override\n    public byte[] serialize(String topic, SaleRequestFactory data) {\n        // convert data to byte[]\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\n        try\n        {\n            ObjectOutputStream outputStream = new ObjectOutputStream(out);\n            outputStream.writeObject(data);\n            out.close();\n        }\n        catch (IOException e)\n        {\n            e.printStackTrace();\n        }\n\n        return out.toByteArray();\n    }\n}\n</code></pre>\n<p>​</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder(toBuilder = true)\npublic class SaleResponseFactory implements Serializable{\n\n    private static final long serialVersionUID = 1744050117179344127L;\n\n    private String unique_id;\n}\n\npublic class SaleResponseFactoryDeserializer implements Serializable, Deserializer&lt;SaleResponseFactory&gt; {\n\n    @Override\n    public SaleResponseFactory deserialize(String topic, byte[] data) {\n        // convert data to SaleResponseFactory\n        SaleResponseFactory saleResponseFactory = null;\n        try\n        {\n            ByteArrayInputStream bis = new ByteArrayInputStream(data);\n            ObjectInputStream in = new ObjectInputStream(bis);\n            saleResponseFactory = (SaleResponseFactory) in.readObject();\n            in.close();\n        }\n        catch (IOException | ClassNotFoundException e)\n        {\n            e.printStackTrace();\n        }\n        return saleResponseFactory;\n    }\n}\n</code></pre>\n<p>When I try to send message I get error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Caused by: org.apache.kafka.common.errors.SerializationException: Error deserializing key/value for partition tp-sale-0 at offset 0. If needed, please seek past the record to continue consumption.\nCaused by: java.lang.ClassCastException: null\n21:27:51.152 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG KafkaMessageListenerContainer$ListenerConsumer[debug:296] - Commit list: {}\n21:27:51.153 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR KafkaMessageListenerContainer$ListenerConsumer[error:149] - Consumer exception\njava.lang.IllegalStateException: This error handler cannot process 'SerializationException's directly; please consider configuring an 'ErrorHandlingDeserializer' in the value and/or key deserializer\n        at org.springframework.kafka.listener.SeekUtils.seekOrRecover(SeekUtils.java:145)\n        at org.springframework.kafka.listener.SeekToCurrentErrorHandler.handle(SeekToCurrentErrorHandler.java:103)\n        at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.handleConsumerException(KafkaMessageListenerContainer.java:1265)\n        at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1022)\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at java.base/java.lang.Thread.run(Thread.java:835)\nCaused by: org.apache.kafka.common.errors.SerializationException: Error deserializing key/value for partition tp-sale-0 at offset 0. If needed, please seek past the record to continue consumption.\nCaused by: java.lang.ClassCastException: null\n</code></pre>\n<p>Do you know how I can fix this issue?</p>\n<p><em><strong>EDIT:</strong></em>\nI managed to implement these improvements:</p>\n<p><em><strong>Producer:</strong></em></p>\n<pre><code>@Configuration\npublic class KafkaProducerConfig {\n\n@Value(value = &quot;${kafka.bootstrapAddress}&quot;)\nprivate String bootstrapAddress;\n\n@Bean\npublic ProducerFactory&lt;String, SaleRequestFactory&gt; saleRequestFactoryProducerFactory() {\n    Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\n    configProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\n    configProps.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n    configProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, SaleRequestFactorySerializer.class);\n    return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\n}\n\n@Bean\npublic ProducerFactory&lt;String, String&gt; producerFactory() {\n    Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\n    configProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\n    return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic KafkaTemplate&lt;String, SaleRequestFactory&gt; saleRequestFactoryKafkaTemplate() {\n    return new KafkaTemplate&lt;&gt;(saleRequestFactoryProducerFactory());\n}\n\n@Bean\npublic KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\n    return new KafkaTemplate&lt;&gt;(producerFactory());\n}\n}\n</code></pre>\n<p><em><strong>Send object:</strong></em></p>\n<pre><code>@Autowired\nprivate KafkaTemplate&lt;String, SaleRequestFactory&gt; saleRequestFactoryKafkaTemplate;\n\nprivate static String topic = &quot;tp-sale&quot;;\n\nprivate void perform(){\n\n    SaleRequestFactory obj = new SaleRequestFactory();\n    obj.setId(100);\n\n    ListenableFuture&lt;SendResult&lt;String, SaleRequestFactory&gt;&gt; send = saleRequestFactoryKafkaTemplate.send(topic, obj);\n}\n</code></pre>\n<p><em><strong>Consumer:</strong></em></p>\n<pre><code>@EnableKafka\n@Configuration\npublic class KafkaConsumerConfig {\n\n    @Value(value = &quot;${kafka.bootstrapAddress}&quot;)\n    private String bootstrapAddress;\n\n    private String groupId = &quot;test&quot;;\n\n    @Bean\n    public ConsumerFactory&lt;String, SaleResponseFactory&gt; consumerFactory() {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, SaleResponseFactoryDeserializer.class);\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props);\n    }\n\n    @Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;String, SaleResponseFactory&gt; kafkaListenerContainerFactory() {\n        ConcurrentKafkaListenerContainerFactory&lt;String, SaleResponseFactory&gt; factory =\n                new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(consumerFactory());\n        return factory;\n    }\n}\n</code></pre>\n<p><em><strong>Receive Object</strong></em></p>\n<pre class=\"lang-java prettyprint-override\"><code>@KafkaListener(topics = &quot;tp-sale&quot;)\npublic SaleResponseFactory transactionElavonAuthorizeProcess(@Payload SaleRequestFactory tf, @Headers MessageHeaders headers) throws Exception {\n\n    System.out.println(tf.getId());\n\n    SaleResponseFactory resObj = new SaleResponseFactory();\n    resObj.setUnique_id(&quot;123123&quot;);\n\n    return resObj;\n}\n</code></pre>\n<p><em><strong>Custom objects</strong></em></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder(toBuilder = true)\npublic class SaleRequestFactory implements Serializable{\n\n    private static final long serialVersionUID = 1744050117179344127L;\n    \n    private int id;\n}\n\npublic class SaleRequestFactorySerializer implements Serializable, Serializer&lt;SaleRequestFactory&gt; {\n\n    @Override\n    public byte[] serialize(String topic, SaleRequestFactory data) {\n        // convert data to byte[]\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\n        try\n        {\n            ObjectOutputStream outputStream = new ObjectOutputStream(out);\n            outputStream.writeObject(data);\n            out.close();\n        }\n        catch (IOException e)\n        {\n            e.printStackTrace();\n        }\n\n        return out.toByteArray();\n    }\n}\n</code></pre>\n<p>​</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder(toBuilder = true)\npublic class SaleResponseFactory implements Serializable{\n\n    private static final long serialVersionUID = 1744050117179344127L;\n\n    private String unique_id;\n}\n\npublic class SaleResponseFactoryDeserializer implements Serializable, Deserializer&lt;SaleResponseFactory&gt; {\n\n    @Override\n    public SaleResponseFactory deserialize(String topic, byte[] data) {\n        // convert data to SaleResponseFactory\n        SaleResponseFactory saleResponseFactory = null;\n        try\n        {\n            ByteArrayInputStream bis = new ByteArrayInputStream(data);\n            ObjectInputStream in = new ObjectInputStream(bis);\n            saleResponseFactory = (SaleResponseFactory) in.readObject();\n            in.close();\n        }\n        catch (IOException | ClassNotFoundException e)\n        {\n            e.printStackTrace();\n        }\n        return saleResponseFactory;\n    }\n}\n</code></pre>\n<p>When I send some message I get error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>13:03:53.675 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG RecordMessagingMessageListenerAdapter[debug:296] - Listener method returned result [org.factory.SaleResponseFactory@69c400ab] - generating response message for it\n13:03:53.675 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG RecordMessagingMessageListenerAdapter[debug:296] - No replyTopic to handle the reply: org.factory.SaleResponseFactory@69c400ab\n</code></pre>\n<p>Do you know how I can solve this issue?</p>\n"},{"tags":["java","sql","spring","oracle","mybatis"],"answers":[{"tags":[],"owner":{"account_id":8317456,"reputation":1353,"user_id":6250244,"display_name":"0gam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695098145,"creation_date":1613618681,"answer_id":66253165,"question_id":66252438,"body_markdown":"Your insert returns 1 on success and 0 on failure. If you want to use the primary key, use getId() of the object you used to insert.\r\n\r\nExample:\r\n\r\n    // 1 or 0 = success or failure\r\n    int result = activityLogDao.createActivityLog(alog);\r\n\r\n    // get Id, the &#39;alog&#39; object mapped to the id\r\n    Integer myId = alog.getId();\r\n\r\n","title":"MyBatis oracle insert new row always return wrong primary id value","body":"<p>Your insert returns 1 on success and 0 on failure. If you want to use the primary key, use getId() of the object you used to insert.</p>\n<p>Example:</p>\n<pre><code>// 1 or 0 = success or failure\nint result = activityLogDao.createActivityLog(alog);\n\n// get Id, the 'alog' object mapped to the id\nInteger myId = alog.getId();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613836495,"creation_date":1613836495,"answer_id":66293589,"question_id":66252438,"body_markdown":"As `&lt;selectKey /&gt;` requires extra query, `useGeneratedKey` is preferred in general.  \r\nI&#39;ll show you how to use `useGeneratedKeys` for the following usages.\r\n\r\n1. Use `nextval` in insert statement\r\n2. Use `nextval` as the default value of a column\r\n3. Use `identity` column\r\n\r\nFor explanation, I&#39;ll use a separate table for each case.\r\n\r\n\r\n```sql\r\ncreate sequence test_seq increment by 1 start with 1;\r\n\r\ncreate table user1 (\r\n  id int,\r\n  name varchar(10)\r\n);\r\n\r\ncreate table user2 (\r\n  id int default test_seq.nextval,\r\n  name varchar(10)\r\n);\r\n\r\ncreate table user3 (\r\n  id int generated always as identity,\r\n  name varchar(10)\r\n);\r\n```\r\n\r\nInsert statement for usage 1 would look as follows.\r\n\r\n```java\r\n@Insert({\r\n  &quot;insert into user1 (id, name)&quot;,\r\n    &quot;values (test_seq.nextval, #{name})&quot;})\r\n@Options(useGeneratedKeys = true,\r\n  keyProperty = &quot;id&quot;, keyColumn = &quot;id&quot;)\r\nvoid insert1(User user);\r\n```\r\n\r\nHere is an XML version just for the sake of completeness.\r\n\r\n```xml\r\n&lt;insert id=&quot;insert1&quot; useGeneratedKeys=&quot;true&quot;\r\n  keyProperty=&quot;id&quot; keyColumn=&quot;id&quot;&gt;\r\n  insert into user1 (id, name)\r\n    values (test_seq.nextval, #{name})\r\n&lt;/insert&gt;\r\n```\r\n\r\n\r\nInsert statements for usage 2 and 3 are essentially the same.  \r\nNote that `id` is omitted from the column list.\r\n\r\n\r\n```java\r\n@Insert({&quot;insert into user2 (name) values (#{name})&quot;})\r\n@Options(useGeneratedKeys = true,\r\n  keyProperty = &quot;id&quot;, keyColumn = &quot;id&quot;)\r\nvoid insert2(User user);\r\n```\r\n\r\nHere is a demo project:  \r\nhttps://github.com/harawata/mybatis-issues/tree/master/so-66252438","title":"MyBatis oracle insert new row always return wrong primary id value","body":"<p>As <code>&lt;selectKey /&gt;</code> requires extra query, <code>useGeneratedKey</code> is preferred in general.<br />\nI'll show you how to use <code>useGeneratedKeys</code> for the following usages.</p>\n<ol>\n<li>Use <code>nextval</code> in insert statement</li>\n<li>Use <code>nextval</code> as the default value of a column</li>\n<li>Use <code>identity</code> column</li>\n</ol>\n<p>For explanation, I'll use a separate table for each case.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>create sequence test_seq increment by 1 start with 1;\n\ncreate table user1 (\n  id int,\n  name varchar(10)\n);\n\ncreate table user2 (\n  id int default test_seq.nextval,\n  name varchar(10)\n);\n\ncreate table user3 (\n  id int generated always as identity,\n  name varchar(10)\n);\n</code></pre>\n<p>Insert statement for usage 1 would look as follows.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Insert({\n  &quot;insert into user1 (id, name)&quot;,\n    &quot;values (test_seq.nextval, #{name})&quot;})\n@Options(useGeneratedKeys = true,\n  keyProperty = &quot;id&quot;, keyColumn = &quot;id&quot;)\nvoid insert1(User user);\n</code></pre>\n<p>Here is an XML version just for the sake of completeness.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;insert id=&quot;insert1&quot; useGeneratedKeys=&quot;true&quot;\n  keyProperty=&quot;id&quot; keyColumn=&quot;id&quot;&gt;\n  insert into user1 (id, name)\n    values (test_seq.nextval, #{name})\n&lt;/insert&gt;\n</code></pre>\n<p>Insert statements for usage 2 and 3 are essentially the same.<br />\nNote that <code>id</code> is omitted from the column list.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Insert({&quot;insert into user2 (name) values (#{name})&quot;})\n@Options(useGeneratedKeys = true,\n  keyProperty = &quot;id&quot;, keyColumn = &quot;id&quot;)\nvoid insert2(User user);\n</code></pre>\n<p>Here is a demo project:<br />\n<a href=\"https://github.com/harawata/mybatis-issues/tree/master/so-66252438\" rel=\"nofollow noreferrer\">https://github.com/harawata/mybatis-issues/tree/master/so-66252438</a></p>\n"}],"owner":{"account_id":375203,"reputation":609,"user_id":725888,"accept_rate":33,"display_name":"Kurt Shaw"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":825,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":66253165,"answer_count":2,"score":1,"last_activity_date":1695098145,"creation_date":1613612652,"question_id":66252438,"body_markdown":"Try to get the primary id after inserting a new row to oracle DB\r\n\r\n    &lt;insert id=&quot;createActivityLog&quot; parameterType=&quot;ActivityLog&quot; &gt;\r\n      &lt;selectKey keyProperty=&quot;id&quot; resultType=&quot;java.lang.Integer&quot; order=&quot;BEFORE&quot;&gt;\r\n          select ACTIVITY_LOG_SEQ.nextval as id from dual\r\n      &lt;/selectKey&gt;  \r\n      insert into ACTIVITY_LOG (\r\n             activity_log_id,\r\n             notes,\r\n             details            )\r\n      values (\r\n         #{id,jdbcType=NUMERIC},\r\n         #{notes,jdbcType=VARCHAR},\r\n         #{details,jdbcType=VARCHAR}\r\n      )\r\n   &lt;/insert&gt;\r\n\r\nHere is the java call \r\n\r\n    Integer myId=(Integer) activityLogDao.createActivityLog(alog);\r\n\r\nNew data/row can be inserted into DB with no issue with correct primary key/id. But myID is always returned as 1(supposed to be 8971). How can I get the correct value. Thanks in advcance.\r\n\r\n\r\nversion:\r\n \r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mybatis&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mybatis&lt;/artifactId&gt;\r\n            &lt;version&gt;3.4.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mybatis&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.2&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"MyBatis oracle insert new row always return wrong primary id value","body":"<p>Try to get the primary id after inserting a new row to oracle DB</p>\n<pre><code>&lt;insert id=&quot;createActivityLog&quot; parameterType=&quot;ActivityLog&quot; &gt;\n  &lt;selectKey keyProperty=&quot;id&quot; resultType=&quot;java.lang.Integer&quot; order=&quot;BEFORE&quot;&gt;\n      select ACTIVITY_LOG_SEQ.nextval as id from dual\n  &lt;/selectKey&gt;  \n  insert into ACTIVITY_LOG (\n         activity_log_id,\n         notes,\n         details            )\n  values (\n     #{id,jdbcType=NUMERIC},\n     #{notes,jdbcType=VARCHAR},\n     #{details,jdbcType=VARCHAR}\n  )\n</code></pre>\n   \n<p>Here is the java call</p>\n<pre><code>Integer myId=(Integer) activityLogDao.createActivityLog(alog);\n</code></pre>\n<p>New data/row can be inserted into DB with no issue with correct primary key/id. But myID is always returned as 1(supposed to be 8971). How can I get the correct value. Thanks in advcance.</p>\n<p>version:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.mybatis&lt;/groupId&gt;\n        &lt;artifactId&gt;mybatis&lt;/artifactId&gt;\n        &lt;version&gt;3.4.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mybatis&lt;/groupId&gt;\n        &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt;\n        &lt;version&gt;1.3.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1476604524,"post_id":40067898,"comment_id":67409681,"body_markdown":"Your range check seems wrong: your code will never give a solution like &quot;11:00&quot; or &quot;01:59&quot;","body":"Your range check seems wrong: your code will never give a solution like &quot;11:00&quot; or &quot;01:59&quot;"}],"answers":[{"tags":[],"owner":{"account_id":7228601,"reputation":1553,"user_id":5516322,"display_name":"aviad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1476604977,"creation_date":1476604977,"answer_id":40068213,"question_id":40067898,"body_markdown":"You are skipping options by always choosing to take time[i].\r\nAlso, Why are you using for? \r\neither choose to take time[start] or not - two recursion calls:\r\n\r\n    public void helper(List&lt;String&gt; result, int[] time, int num, int start, int hour, int minute){\r\n        if (start == time.length &amp;&amp; num &gt; 0)\r\n            return;\r\n\r\n        if (num == 0){\r\n            if (hour &lt;= 12 &amp;&amp; minute &lt;= 59){\r\n                String x = &quot;&quot; + hour + &quot;:&quot;;\r\n                if (minute &lt; 10){x = x + &quot;0&quot;;}\r\n                x = x + minute;\r\n                result.add(x);\r\n            }\r\n        } else {\r\n            helper(result, time, num, start + 1, hour, minute);\r\n            int h, m;\r\n            if (start &gt;= 4){h = hour; m = minute + time[start];} else {h = hour + time[start]; m = minute;}\r\n            helper(result, time, num - 1, start + 1, h, m);\r\n        }\r\n    }","title":"Binary watch algorithm (Java)","body":"<p>You are skipping options by always choosing to take time[i].\nAlso, Why are you using for? \neither choose to take time[start] or not - two recursion calls:</p>\n\n<pre><code>public void helper(List&lt;String&gt; result, int[] time, int num, int start, int hour, int minute){\n    if (start == time.length &amp;&amp; num &gt; 0)\n        return;\n\n    if (num == 0){\n        if (hour &lt;= 12 &amp;&amp; minute &lt;= 59){\n            String x = \"\" + hour + \":\";\n            if (minute &lt; 10){x = x + \"0\";}\n            x = x + minute;\n            result.add(x);\n        }\n    } else {\n        helper(result, time, num, start + 1, hour, minute);\n        int h, m;\n        if (start &gt;= 4){h = hour; m = minute + time[start];} else {h = hour + time[start]; m = minute;}\n        helper(result, time, num - 1, start + 1, h, m);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29226848,"reputation":1,"user_id":22391347,"display_name":"Divith Raju"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1695095850,"creation_date":1695095850,"answer_id":77131635,"question_id":40067898,"body_markdown":"    char** readBinaryWatch(int num, int* returnSize) {\r\n        char** times = malloc(sizeof(char*) * 512);\r\n        int count = 0;\r\n\r\n        for (int h = 0; h &lt; 12; h++) {\r\n            for (int m = 0; m &lt; 60; m++) {\r\n                int temp = (h &lt;&lt; 6) | m;\r\n\r\n                if (countOnes(temp) == num) {\r\n                   char* temp = malloc(sizeof(char) * 6);\r\n                   sprintf(temp, &quot;%d:%02d&quot;, h % 12, m % 60);\r\n                   times[count++] = temp;\r\n                }\r\n             }\r\n         }\r\n \r\n        *returnSize = count;\r\n        return times;\r\n    }\r\n\r\n    int countOnes(int n) {\r\n        int count = 0;\r\n\r\n        while (n) {\r\n            n = n &amp; (n - 1);\r\n            count++;\r\n        }\r\n\r\n        return count;\r\n    }\r\nTry this Code using C format at Leetcode you will pass..\r\n","title":"Binary watch algorithm (Java)","body":"<pre><code>char** readBinaryWatch(int num, int* returnSize) {\n    char** times = malloc(sizeof(char*) * 512);\n    int count = 0;\n\n    for (int h = 0; h &lt; 12; h++) {\n        for (int m = 0; m &lt; 60; m++) {\n            int temp = (h &lt;&lt; 6) | m;\n\n            if (countOnes(temp) == num) {\n               char* temp = malloc(sizeof(char) * 6);\n               sprintf(temp, &quot;%d:%02d&quot;, h % 12, m % 60);\n               times[count++] = temp;\n            }\n         }\n     }\n\n    *returnSize = count;\n    return times;\n}\n\nint countOnes(int n) {\n    int count = 0;\n\n    while (n) {\n        n = n &amp; (n - 1);\n        count++;\n    }\n\n    return count;\n}\n</code></pre>\n<p>Try this Code using C format at Leetcode you will pass..</p>\n"}],"owner":{"account_id":7472487,"reputation":1202,"user_id":5679985,"accept_rate":46,"display_name":"Human Cyborg Relations"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":330,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":40068213,"answer_count":2,"score":0,"last_activity_date":1695095850,"creation_date":1476602438,"question_id":40067898,"body_markdown":"I&#39;m trying to write an algorithm that returns all the possible values of time that a number of lights on a binary watch could represent. \r\n\r\nThe entire problem with detail can be found here: https://leetcode.com/problems/binary-watch/\r\n\r\n    public class Solution {\r\n    public List&lt;String&gt; readBinaryWatch(int num) {\r\n        List&lt;String&gt; result = new ArrayList&lt;String&gt;();\r\n        int[] time = new int[] {1, 2, 4, 8, 1, 2, 4, 8, 16, 32};\r\n        \r\n        helper(result, time, num, 0, 0, 0);\r\n        \r\n        return result;\r\n    }\r\n    \r\n    public void helper(List&lt;String&gt; result, int[] time, int num, int start, int hour, int minute){\r\n        if (num == 0){\r\n            if (hour &lt; 11 &amp;&amp; minute &lt; 59){\r\n                String x = &quot;&quot; + hour + &quot;:&quot;;\r\n                if (minute &lt; 10){x = x + &quot;0&quot;;}\r\n                x = x + minute;\r\n                result.add(x);\r\n            }\r\n        } else {\r\n            for (int i = start; i &lt; time.length; i++){\r\n                int h, m;\r\n                if (i &gt;= 4){h = hour; m = minute + time[i];} else {h = hour + time[i]; m = minute;}\r\n                helper(result, time, num - 1, start + 1, h, m);\r\n            }\r\n        }\r\n        \r\n    }}\r\n\r\nMy solution seems to fail some of the test cases, and I just can&#39;t seem to figure out why. Suggestions?","title":"Binary watch algorithm (Java)","body":"<p>I'm trying to write an algorithm that returns all the possible values of time that a number of lights on a binary watch could represent. </p>\n\n<p>The entire problem with detail can be found here: <a href=\"https://leetcode.com/problems/binary-watch/\" rel=\"nofollow\">https://leetcode.com/problems/binary-watch/</a></p>\n\n<pre><code>public class Solution {\npublic List&lt;String&gt; readBinaryWatch(int num) {\n    List&lt;String&gt; result = new ArrayList&lt;String&gt;();\n    int[] time = new int[] {1, 2, 4, 8, 1, 2, 4, 8, 16, 32};\n\n    helper(result, time, num, 0, 0, 0);\n\n    return result;\n}\n\npublic void helper(List&lt;String&gt; result, int[] time, int num, int start, int hour, int minute){\n    if (num == 0){\n        if (hour &lt; 11 &amp;&amp; minute &lt; 59){\n            String x = \"\" + hour + \":\";\n            if (minute &lt; 10){x = x + \"0\";}\n            x = x + minute;\n            result.add(x);\n        }\n    } else {\n        for (int i = start; i &lt; time.length; i++){\n            int h, m;\n            if (i &gt;= 4){h = hour; m = minute + time[i];} else {h = hour + time[i]; m = minute;}\n            helper(result, time, num - 1, start + 1, h, m);\n        }\n    }\n\n}}\n</code></pre>\n\n<p>My solution seems to fail some of the test cases, and I just can't seem to figure out why. Suggestions?</p>\n"},{"tags":["java","dynamic-programming"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695229824,"post_id":77131493,"comment_id":135997818,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":21224895,"reputation":328,"user_id":15610766,"display_name":"Dolfinwu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695095638,"creation_date":1695095638,"answer_id":77131625,"question_id":77131493,"body_markdown":"Your solution appears to be on the right track, but it is always important to keep an eye open for errors such as StackOverflow due to how you terminate the recursive calls inefficiently.\r\n\r\nI would first replace the Math.pow(10, 8) with Integer.MAX_VALUE for representing infinity.\r\n\r\n```\r\nif (a1 &lt; 0 || a2 &lt; 0 || m1 &lt; 0 || m2 &lt; 0 || a1 &gt;= m || m1 &gt;= m || a2 &gt;= n || m2 &gt;= n) {\r\n    return Integer.MAX_VALUE;\r\n}\r\n```\r\n\r\nThen change the way you handle adventurer and monster movements by considering their positions separately.\r\n\r\n```\r\nint[] dx = {-1, 1, 0, 0};\r\nint[] dy = {0, 0, -1, 1};\r\nint minSteps = Integer.MAX_VALUE;\r\n\r\nfor (int i = 0; i &lt; 4; i++) {\r\n    int newA1 = a1 + dx[i];\r\n    int newA2 = a2 + dy[i];\r\n\r\n    int newM1 = m1;\r\n    int newM2 = m2;\r\n\r\n    if (newA1 == newM1 &amp;&amp; newA2 == newM2) {\r\n        // If adventurer and monster collide, the monster doesnt move\r\n        newM1 = m1;\r\n        newM2 = m2;\r\n    } else {\r\n        // Monster tries to move closer to adventurer\r\n        int dxMonster = (a1 - m1) &gt; 0 ? 1 : (a1 - m1) &lt; 0 ? -1 : 0;\r\n        int dyMonster = (a2 - m2) &gt; 0 ? 1 : (a2 - m2) &lt; 0 ? -1 : 0;\r\n        newM1 = m1 + dxMonster;\r\n        newM2 = m2 + dyMonster;\r\n    }\r\n\r\n    int steps = 1 + findMinSteps(m, n, newA1, newA2, newM1, newM2, g1, g2, dp);\r\n    minSteps = Math.min(minSteps, steps);\r\n}\r\n```\r\n\r\nI would also modify the input indices to be 0-based since all arrays in Java follow this conventionally.\r\n\r\n```\r\nint result = findMinSteps(m, n, a1 - 1, a2 - 1, m1 - 1, m2 - 1, g1 - 1, g2 - 1, dp);\r\n```\r\n\r\nAfter adding all the stuff above with the rest together:\r\n```\r\nimport java.util.*;\r\n\r\npublic class DungeonSolver {\r\n    public static int findMinSteps(int m, int n, int a1, int a2, int m1, int m2, int g1, int g2, int[][][][] dp) {\r\n        if (a1 &lt; 0 || a2 &lt; 0 || m1 &lt; 0 || m2 &lt; 0 || a1 &gt;= m || m1 &gt;= m || a2 &gt;= n || m2 &gt;= n) {\r\n            return Integer.MAX_VALUE;\r\n        }\r\n\r\n        if (a1 == g1 &amp;&amp; a2 == g2) {\r\n            return 0;\r\n        }\r\n\r\n        if (a1 == m1 &amp;&amp; a2 == m2) {\r\n            return Integer.MAX_VALUE;\r\n        }\r\n\r\n        if (dp[a1][a2][m1][m2] != -1) {\r\n            return dp[a1][a2][m1][m2];\r\n        }\r\n\r\n        int[] dx = {-1, 1, 0, 0};\r\n        int[] dy = {0, 0, -1, 1};\r\n        int minSteps = Integer.MAX_VALUE;\r\n\r\n        for (int i = 0; i &lt; 4; i++) {\r\n            int newA1 = a1 + dx[i];\r\n            int newA2 = a2 + dy[i];\r\n\r\n            int newM1 = m1;\r\n            int newM2 = m2;\r\n\r\n            if (newA1 == newM1 &amp;&amp; newA2 == newM2) {\r\n                newM1 = m1;\r\n                newM2 = m2;\r\n            } else {\r\n                int dxMonster = (a1 - m1) &gt; 0 ? 1 : (a1 - m1) &lt; 0 ? -1 : 0;\r\n                int dyMonster = (a2 - m2) &gt; 0 ? 1 : (a2 - m2) &lt; 0 ? -1 : 0;\r\n                newM1 = m1 + dxMonster;\r\n                newM2 = m2 + dyMonster;\r\n            }\r\n\r\n            int steps = 1 + findMinSteps(m, n, newA1, newA2, newM1, newM2, g1, g2, dp);\r\n            minSteps = Math.min(minSteps, steps);\r\n        }\r\n\r\n        dp[a1][a2][m1][m2] = minSteps;\r\n        return minSteps;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scan = new Scanner(System.in);\r\n        int m, n, a1, a2, m1, m2, g1, g2;\r\n        System.out.println(&quot;Enter rows:&quot;);\r\n        m = scan.nextInt();\r\n        System.out.println(&quot;Enter Column&quot;);\r\n        n = scan.nextInt();\r\n        System.out.println(&quot;Enter Adventurer Position:&quot;);\r\n        a1 = scan.nextInt();\r\n        a2 = scan.nextInt();\r\n        System.out.println(&quot;Enter Monster Position&quot;);\r\n        m1 = scan.nextInt();\r\n        m2 = scan.nextInt();\r\n        System.out.println(&quot;Enter Gold Position&quot;);\r\n        g1 = scan.nextInt();\r\n        g2 = scan.nextInt();\r\n        int[][][][] dp = new int[m][n][m][n];\r\n\r\n        for (int i = 0; i &lt; m; i++) {\r\n            for (int j = 0; j &lt; n; j++) {\r\n                for (int k = 0; k &lt; m; k++) {\r\n                    for (int l = 0; l &lt; n; l++) {\r\n                        dp[i][j][k][l] = -1;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        int result = findMinSteps(m, n, a1 - 1, a2 - 1, m1 - 1, m2 - 1, g1 - 1, g2 - 1, dp);\r\n\r\n        if (result == Integer.MAX_VALUE) {\r\n            System.out.println(&quot;No possible solution&quot;);\r\n        } else {\r\n            System.out.println(&quot;Minimum number of steps: &quot; + result);\r\n        }\r\n    }\r\n}\r\n```","title":"dungeon problem using dp recursive approach","body":"<p>Your solution appears to be on the right track, but it is always important to keep an eye open for errors such as StackOverflow due to how you terminate the recursive calls inefficiently.</p>\n<p>I would first replace the Math.pow(10, 8) with Integer.MAX_VALUE for representing infinity.</p>\n<pre><code>if (a1 &lt; 0 || a2 &lt; 0 || m1 &lt; 0 || m2 &lt; 0 || a1 &gt;= m || m1 &gt;= m || a2 &gt;= n || m2 &gt;= n) {\n    return Integer.MAX_VALUE;\n}\n</code></pre>\n<p>Then change the way you handle adventurer and monster movements by considering their positions separately.</p>\n<pre><code>int[] dx = {-1, 1, 0, 0};\nint[] dy = {0, 0, -1, 1};\nint minSteps = Integer.MAX_VALUE;\n\nfor (int i = 0; i &lt; 4; i++) {\n    int newA1 = a1 + dx[i];\n    int newA2 = a2 + dy[i];\n\n    int newM1 = m1;\n    int newM2 = m2;\n\n    if (newA1 == newM1 &amp;&amp; newA2 == newM2) {\n        // If adventurer and monster collide, the monster doesnt move\n        newM1 = m1;\n        newM2 = m2;\n    } else {\n        // Monster tries to move closer to adventurer\n        int dxMonster = (a1 - m1) &gt; 0 ? 1 : (a1 - m1) &lt; 0 ? -1 : 0;\n        int dyMonster = (a2 - m2) &gt; 0 ? 1 : (a2 - m2) &lt; 0 ? -1 : 0;\n        newM1 = m1 + dxMonster;\n        newM2 = m2 + dyMonster;\n    }\n\n    int steps = 1 + findMinSteps(m, n, newA1, newA2, newM1, newM2, g1, g2, dp);\n    minSteps = Math.min(minSteps, steps);\n}\n</code></pre>\n<p>I would also modify the input indices to be 0-based since all arrays in Java follow this conventionally.</p>\n<pre><code>int result = findMinSteps(m, n, a1 - 1, a2 - 1, m1 - 1, m2 - 1, g1 - 1, g2 - 1, dp);\n</code></pre>\n<p>After adding all the stuff above with the rest together:</p>\n<pre><code>import java.util.*;\n\npublic class DungeonSolver {\n    public static int findMinSteps(int m, int n, int a1, int a2, int m1, int m2, int g1, int g2, int[][][][] dp) {\n        if (a1 &lt; 0 || a2 &lt; 0 || m1 &lt; 0 || m2 &lt; 0 || a1 &gt;= m || m1 &gt;= m || a2 &gt;= n || m2 &gt;= n) {\n            return Integer.MAX_VALUE;\n        }\n\n        if (a1 == g1 &amp;&amp; a2 == g2) {\n            return 0;\n        }\n\n        if (a1 == m1 &amp;&amp; a2 == m2) {\n            return Integer.MAX_VALUE;\n        }\n\n        if (dp[a1][a2][m1][m2] != -1) {\n            return dp[a1][a2][m1][m2];\n        }\n\n        int[] dx = {-1, 1, 0, 0};\n        int[] dy = {0, 0, -1, 1};\n        int minSteps = Integer.MAX_VALUE;\n\n        for (int i = 0; i &lt; 4; i++) {\n            int newA1 = a1 + dx[i];\n            int newA2 = a2 + dy[i];\n\n            int newM1 = m1;\n            int newM2 = m2;\n\n            if (newA1 == newM1 &amp;&amp; newA2 == newM2) {\n                newM1 = m1;\n                newM2 = m2;\n            } else {\n                int dxMonster = (a1 - m1) &gt; 0 ? 1 : (a1 - m1) &lt; 0 ? -1 : 0;\n                int dyMonster = (a2 - m2) &gt; 0 ? 1 : (a2 - m2) &lt; 0 ? -1 : 0;\n                newM1 = m1 + dxMonster;\n                newM2 = m2 + dyMonster;\n            }\n\n            int steps = 1 + findMinSteps(m, n, newA1, newA2, newM1, newM2, g1, g2, dp);\n            minSteps = Math.min(minSteps, steps);\n        }\n\n        dp[a1][a2][m1][m2] = minSteps;\n        return minSteps;\n    }\n\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n        int m, n, a1, a2, m1, m2, g1, g2;\n        System.out.println(&quot;Enter rows:&quot;);\n        m = scan.nextInt();\n        System.out.println(&quot;Enter Column&quot;);\n        n = scan.nextInt();\n        System.out.println(&quot;Enter Adventurer Position:&quot;);\n        a1 = scan.nextInt();\n        a2 = scan.nextInt();\n        System.out.println(&quot;Enter Monster Position&quot;);\n        m1 = scan.nextInt();\n        m2 = scan.nextInt();\n        System.out.println(&quot;Enter Gold Position&quot;);\n        g1 = scan.nextInt();\n        g2 = scan.nextInt();\n        int[][][][] dp = new int[m][n][m][n];\n\n        for (int i = 0; i &lt; m; i++) {\n            for (int j = 0; j &lt; n; j++) {\n                for (int k = 0; k &lt; m; k++) {\n                    for (int l = 0; l &lt; n; l++) {\n                        dp[i][j][k][l] = -1;\n                    }\n                }\n            }\n        }\n\n        int result = findMinSteps(m, n, a1 - 1, a2 - 1, m1 - 1, m2 - 1, g1 - 1, g2 - 1, dp);\n\n        if (result == Integer.MAX_VALUE) {\n            System.out.println(&quot;No possible solution&quot;);\n        } else {\n            System.out.println(&quot;Minimum number of steps: &quot; + result);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29478316,"reputation":1,"user_id":22589567,"display_name":"Mohideen Irfan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695095638,"creation_date":1695092894,"question_id":77131493,"body_markdown":"This is the Question...\r\nThe following problems revolve around an adventurer who enters a dungeon in search of Gold\r\n(Treasure). The objective for all the questions will be to find the quickest path to the Gold\r\nwithout bringing harm to the adventurer. In each question, we will edit or bring in new elements\r\nto the dungeon (an underground prison cell). Your task is to find the shortest path for the\r\nadventurer to get the Gold which can be located anywhere in the dungeon. (The location of the\r\nGold will be given in the input).\r\nIn each turn the adventurer (the person who goes to get the gold in the dungeon) can move\r\none step (right, left, up, down). A single cell can be occupied by both adventurer and Gold\r\n(i.e. any number of items can be available in a cell)\r\nA monster (M) will be introduced in the dungeon. The monster&#39;s aim is to prevent the adventurer\r\nfrom getting the gold. It will move in the best way possible to achieve this (i.e. if the monster can\r\nreach gold before the adventurer, then the monster can prevent the adventurer from getting\r\ngold). The monster will move only after the adventurer makes his move.\r\nNote:-\r\n1) The monster may or may not move every turn (every time the adventurer moves).\r\n2) Both the monster and the adventurer know each other&#39;s location.\r\nTask: To find the minimum no of moves, so that the adventurer can reach the gold without dying.\r\n\r\nSample Input 1:\r\nDimensions of the dungeon(Row x Column): 5 4\r\nPosition of adventurer: 4 1\r\nPosition of monster: 3 1\r\nPosition of gold: 2 3\r\nSample Output 1:\r\nNo possible solution\r\nSample Input 2:\r\nDimensions of the dungeon(Row x Column): 5 4\r\nPosition of adventurer: 5 1\r\nPosition of monster: 3 1\r\nPosition of gold: 4 3\r\nSample Output 2:\r\nMinimum number of steps: 3\r\n\r\n\r\n\r\n\r\nI tried dp  recursive approach but i don&#39;t know what went wrong? for some input i am getting stackoverflow error and for some input i am not getting correct output. Here&#39;s my code below in JAVA. \r\n\r\npackage sample;\r\n\r\n\r\n\r\n\r\n//Online Java Compiler\r\n\r\n//Use this editor to write, compile and run your Java code online\r\n    import java.util.*;\r\n\r\n    public class HelloWorld {\r\n    public static int findminstep(int m, int n, int a1, int a2, int m1, int m2, int g1, int g2, int[][][][]       dp) {\r\n        if (a1 &lt; 0 || a2 &lt; 0 || m1 &lt; 0 || m2 &lt; 0 || a1 &gt;= m || m1 &gt;= m || a2 &gt;= n || m2 &gt;= n) {\r\n            return (int) Math.pow(10, 8);\r\n        }\r\n\r\n        if (a1 == g1 &amp;&amp; a2 == g2) {\r\n            return 0;\r\n        }\r\n\r\n        if (a1 == m1 &amp;&amp; a2 == m2) {\r\n            return (int) Math.pow(10, 8);\r\n        }\r\n\r\n        if (m1 == g1 &amp;&amp; m2 == g2) {\r\n            return (int) Math.pow(10, 8);\r\n        }\r\n\r\n        if (dp[a1][a2][m1][m2] != -1) {\r\n            return dp[a1][a2][m1][m2];\r\n        }\r\n\r\n        int aa = 1 + findminstep(m, n, a1 - 1, a2, m1, m2, g1, g2, dp);\r\n        int ab = 1 + findminstep(m, n, a1, a2 + 1, m1, m2, g1, g2, dp);\r\n        int ac = 1 + findminstep(m, n, a1 + 1, a2, m1, m2, g1, g2, dp);\r\n        int ad = 1 + findminstep(m, n, a1, a2 - 1, m1, m2, g1, g2, dp);\r\n        int amin = Math.min(Math.min(aa, ab), Math.min(ac, ad));\r\n\r\n        int ma = 1 + findminstep(m, n, a1 - 1, a2, m1 - 1, m2, g1, g2, dp);\r\n        int mb = 1 + findminstep(m, n, a1 - 1, a2, m1, m2 + 1, g1, g2, dp);\r\n        int mc = 1 + findminstep(m, n, a1 - 1, a2, m1 + 1, m2, g1, g2, dp);\r\n        int md = 1 + findminstep(m, n, a1 - 1, a2, m1, m2 - 1, g1, g2, dp);\r\n\r\n        int me = 1 + findminstep(m, n, a1, a2 + 1, m1 - 1, m2, g1, g2, dp);\r\n        int mf = 1 + findminstep(m, n, a1, a2 + 1, m1, m2 + 1, g1, g2, dp);\r\n        int mg = 1 + findminstep(m, n, a1, a2 + 1, m1 + 1, m2, g1, g2, dp);\r\n        int mh = 1 + findminstep(m, n, a1, a2 + 1, m1, m2 - 1, g1, g2, dp);\r\n\r\n        int mi = 1 + findminstep(m, n, a1 + 1, a2, m1 - 1, m2, g1, g2, dp);\r\n        int mj = 1 + findminstep(m, n, a1 + 1, a2, m1, m2 + 1, g1, g2, dp);\r\n        int mk = 1 + findminstep(m, n, a1 + 1, a2, m1 + 1, m2, g1, g2, dp);\r\n        int ml = 1 + findminstep(m, n, a1 + 1, a2, m1, m2 - 1, g1, g2, dp);\r\n\r\n        int mm = 1 + findminstep(m, n, a1, a2 - 1, m1 - 1, m2, g1, g2, dp);\r\n        int mn = 1 + findminstep(m, n, a1, a2 - 1, m1, m2 + 1, g1, g2, dp);\r\n        int mo = 1 + findminstep(m, n, a1, a2 - 1, m1 + 1, m2, g1, g2, dp);\r\n        int mp = 1 + findminstep(m, n, a1, a2 - 1, m1, m2 - 1, g1, g2, dp);\r\n        int bmin1 = Math.min(Math.min(ma, mb), Math.min(mc, md));\r\n        int bmin2 = Math.min(Math.min(me, mf), Math.min(mg, mh));\r\n        int bmin3 = Math.min(Math.min(mi, mj), Math.min(mk, ml));\r\n        int bmin4 = Math.min(Math.min(mm, mn), Math.min(mo, mp));\r\n\r\n        int bmin = Math.min(Math.min(bmin1, bmin2), Math.min(bmin3, bmin4));\r\n\r\n        int res = Math.min(amin, bmin);\r\n        dp[a1][a2][m1][m2] = res;\r\n\r\n        return res;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scan = new Scanner(System.in);\r\n        int m, n, a1, a2, m1, m2, g1, g2;\r\n        System.out.println(&quot;Enter rows:&quot;);\r\n        m = scan.nextInt();\r\n        System.out.println(&quot;Enter Column&quot;);\r\n        n = scan.nextInt();\r\n        System.out.println(&quot;Enter Adventurer Position:&quot;);\r\n        a1 = scan.nextInt();\r\n        a2 = scan.nextInt();\r\n        System.out.println(&quot;Enter Monster Position&quot;);\r\n        m1 = scan.nextInt();\r\n        m2 = scan.nextInt();\r\n        System.out.println(&quot;Enter Gold Position&quot;);\r\n        g1 = scan.nextInt();\r\n        g2 = scan.nextInt();\r\n        int dp[][][][] = new int[m][n][m][n];\r\n\r\n        for (int i = 0; i &lt; m; i++) {\r\n            for (int j = 0; j &lt; n; j++) {\r\n                for (int k = 0; k &lt; m; k++) {\r\n                    for (int l = 0; l &lt; n; l++) {\r\n                        dp[i][j][k][l] = -1;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        int result = findminstep(m, n, a1, a2, m1, m2, g1, g2, dp);\r\n\r\n        if (result == (int) Math.pow(10, 8)) {\r\n            System.out.println(&quot;No possible solution&quot;);\r\n        } else {\r\n            System.out.println(&quot;Minimum number of steps: &quot; + result);\r\n        }\r\n        }\r\n    }\r\n","title":"dungeon problem using dp recursive approach","body":"<p>This is the Question...\nThe following problems revolve around an adventurer who enters a dungeon in search of Gold\n(Treasure). The objective for all the questions will be to find the quickest path to the Gold\nwithout bringing harm to the adventurer. In each question, we will edit or bring in new elements\nto the dungeon (an underground prison cell). Your task is to find the shortest path for the\nadventurer to get the Gold which can be located anywhere in the dungeon. (The location of the\nGold will be given in the input).\nIn each turn the adventurer (the person who goes to get the gold in the dungeon) can move\none step (right, left, up, down). A single cell can be occupied by both adventurer and Gold\n(i.e. any number of items can be available in a cell)\nA monster (M) will be introduced in the dungeon. The monster's aim is to prevent the adventurer\nfrom getting the gold. It will move in the best way possible to achieve this (i.e. if the monster can\nreach gold before the adventurer, then the monster can prevent the adventurer from getting\ngold). The monster will move only after the adventurer makes his move.\nNote:-</p>\n<ol>\n<li>The monster may or may not move every turn (every time the adventurer moves).</li>\n<li>Both the monster and the adventurer know each other's location.\nTask: To find the minimum no of moves, so that the adventurer can reach the gold without dying.</li>\n</ol>\n<p>Sample Input 1:\nDimensions of the dungeon(Row x Column): 5 4\nPosition of adventurer: 4 1\nPosition of monster: 3 1\nPosition of gold: 2 3\nSample Output 1:\nNo possible solution\nSample Input 2:\nDimensions of the dungeon(Row x Column): 5 4\nPosition of adventurer: 5 1\nPosition of monster: 3 1\nPosition of gold: 4 3\nSample Output 2:\nMinimum number of steps: 3</p>\n<p>I tried dp  recursive approach but i don't know what went wrong? for some input i am getting stackoverflow error and for some input i am not getting correct output. Here's my code below in JAVA.</p>\n<p>package sample;</p>\n<p>//Online Java Compiler</p>\n<p>//Use this editor to write, compile and run your Java code online\nimport java.util.*;</p>\n<pre><code>public class HelloWorld {\npublic static int findminstep(int m, int n, int a1, int a2, int m1, int m2, int g1, int g2, int[][][][]       dp) {\n    if (a1 &lt; 0 || a2 &lt; 0 || m1 &lt; 0 || m2 &lt; 0 || a1 &gt;= m || m1 &gt;= m || a2 &gt;= n || m2 &gt;= n) {\n        return (int) Math.pow(10, 8);\n    }\n\n    if (a1 == g1 &amp;&amp; a2 == g2) {\n        return 0;\n    }\n\n    if (a1 == m1 &amp;&amp; a2 == m2) {\n        return (int) Math.pow(10, 8);\n    }\n\n    if (m1 == g1 &amp;&amp; m2 == g2) {\n        return (int) Math.pow(10, 8);\n    }\n\n    if (dp[a1][a2][m1][m2] != -1) {\n        return dp[a1][a2][m1][m2];\n    }\n\n    int aa = 1 + findminstep(m, n, a1 - 1, a2, m1, m2, g1, g2, dp);\n    int ab = 1 + findminstep(m, n, a1, a2 + 1, m1, m2, g1, g2, dp);\n    int ac = 1 + findminstep(m, n, a1 + 1, a2, m1, m2, g1, g2, dp);\n    int ad = 1 + findminstep(m, n, a1, a2 - 1, m1, m2, g1, g2, dp);\n    int amin = Math.min(Math.min(aa, ab), Math.min(ac, ad));\n\n    int ma = 1 + findminstep(m, n, a1 - 1, a2, m1 - 1, m2, g1, g2, dp);\n    int mb = 1 + findminstep(m, n, a1 - 1, a2, m1, m2 + 1, g1, g2, dp);\n    int mc = 1 + findminstep(m, n, a1 - 1, a2, m1 + 1, m2, g1, g2, dp);\n    int md = 1 + findminstep(m, n, a1 - 1, a2, m1, m2 - 1, g1, g2, dp);\n\n    int me = 1 + findminstep(m, n, a1, a2 + 1, m1 - 1, m2, g1, g2, dp);\n    int mf = 1 + findminstep(m, n, a1, a2 + 1, m1, m2 + 1, g1, g2, dp);\n    int mg = 1 + findminstep(m, n, a1, a2 + 1, m1 + 1, m2, g1, g2, dp);\n    int mh = 1 + findminstep(m, n, a1, a2 + 1, m1, m2 - 1, g1, g2, dp);\n\n    int mi = 1 + findminstep(m, n, a1 + 1, a2, m1 - 1, m2, g1, g2, dp);\n    int mj = 1 + findminstep(m, n, a1 + 1, a2, m1, m2 + 1, g1, g2, dp);\n    int mk = 1 + findminstep(m, n, a1 + 1, a2, m1 + 1, m2, g1, g2, dp);\n    int ml = 1 + findminstep(m, n, a1 + 1, a2, m1, m2 - 1, g1, g2, dp);\n\n    int mm = 1 + findminstep(m, n, a1, a2 - 1, m1 - 1, m2, g1, g2, dp);\n    int mn = 1 + findminstep(m, n, a1, a2 - 1, m1, m2 + 1, g1, g2, dp);\n    int mo = 1 + findminstep(m, n, a1, a2 - 1, m1 + 1, m2, g1, g2, dp);\n    int mp = 1 + findminstep(m, n, a1, a2 - 1, m1, m2 - 1, g1, g2, dp);\n    int bmin1 = Math.min(Math.min(ma, mb), Math.min(mc, md));\n    int bmin2 = Math.min(Math.min(me, mf), Math.min(mg, mh));\n    int bmin3 = Math.min(Math.min(mi, mj), Math.min(mk, ml));\n    int bmin4 = Math.min(Math.min(mm, mn), Math.min(mo, mp));\n\n    int bmin = Math.min(Math.min(bmin1, bmin2), Math.min(bmin3, bmin4));\n\n    int res = Math.min(amin, bmin);\n    dp[a1][a2][m1][m2] = res;\n\n    return res;\n}\n\npublic static void main(String[] args) {\n    Scanner scan = new Scanner(System.in);\n    int m, n, a1, a2, m1, m2, g1, g2;\n    System.out.println(&quot;Enter rows:&quot;);\n    m = scan.nextInt();\n    System.out.println(&quot;Enter Column&quot;);\n    n = scan.nextInt();\n    System.out.println(&quot;Enter Adventurer Position:&quot;);\n    a1 = scan.nextInt();\n    a2 = scan.nextInt();\n    System.out.println(&quot;Enter Monster Position&quot;);\n    m1 = scan.nextInt();\n    m2 = scan.nextInt();\n    System.out.println(&quot;Enter Gold Position&quot;);\n    g1 = scan.nextInt();\n    g2 = scan.nextInt();\n    int dp[][][][] = new int[m][n][m][n];\n\n    for (int i = 0; i &lt; m; i++) {\n        for (int j = 0; j &lt; n; j++) {\n            for (int k = 0; k &lt; m; k++) {\n                for (int l = 0; l &lt; n; l++) {\n                    dp[i][j][k][l] = -1;\n                }\n            }\n        }\n    }\n\n    int result = findminstep(m, n, a1, a2, m1, m2, g1, g2, dp);\n\n    if (result == (int) Math.pow(10, 8)) {\n        System.out.println(&quot;No possible solution&quot;);\n    } else {\n        System.out.println(&quot;Minimum number of steps: &quot; + result);\n    }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","h2"],"comments":[{"owner":{"account_id":3660498,"reputation":740,"user_id":6291061,"display_name":"william xyz"},"score":3,"creation_date":1626355195,"post_id":68394574,"comment_id":120874853,"body_markdown":"I think GROUP is really the problem, as it&#39;s a reserved keyword of SQL. Try renaming it.","body":"I think GROUP is really the problem, as it&#39;s a reserved keyword of SQL. Try renaming it."},{"owner":{"account_id":17861275,"reputation":2089,"user_id":12974735,"display_name":"Sercan"},"score":1,"creation_date":1626355913,"post_id":68394574,"comment_id":120875229,"body_markdown":"Might be useful https://stackoverflow.com/questions/23446377/syntax-error-due-to-using-a-reserved-word-as-a-table-or-column-name-in-mysql as you have also syntax error due to table name `group`","body":"Might be useful <a href=\"https://stackoverflow.com/questions/23446377/syntax-error-due-to-using-a-reserved-word-as-a-table-or-column-name-in-mysql\" title=\"syntax error due to using a reserved word as a table or column name in mysql\">stackoverflow.com/questions/23446377/&hellip;</a> as you have also syntax error due to table name <code>group</code>"},{"owner":{"account_id":10506359,"reputation":57,"user_id":9135740,"display_name":"Ameen Oumer"},"score":1,"creation_date":1626356628,"post_id":68394574,"comment_id":120875622,"body_markdown":"changing the name of the class named group solved the problem. Thank you very much!! @williamxyz","body":"changing the name of the class named group solved the problem. Thank you very much!! @williamxyz"},{"owner":{"account_id":3660498,"reputation":740,"user_id":6291061,"display_name":"william xyz"},"score":0,"creation_date":1626357246,"post_id":68394574,"comment_id":120875936,"body_markdown":"@AmeenOumer nice :)","body":"@AmeenOumer nice :)"}],"answers":[{"tags":[],"owner":{"account_id":10506359,"reputation":57,"user_id":9135740,"display_name":"Ameen Oumer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695094813,"creation_date":1695094813,"answer_id":77131586,"question_id":68394574,"body_markdown":"Going to answer my own question to make it easy for anyone who runs into the same type of error. \r\nAs people in the comment suggested the error was because one of my classes was named ```group``` which is a reserved keyword in SQL and that was causing the error and was solved by changing the name of the class.","title":"org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;drop table if exists group CASCADE &quot; via JDBC Statement","body":"<p>Going to answer my own question to make it easy for anyone who runs into the same type of error.\nAs people in the comment suggested the error was because one of my classes was named <code>group</code> which is a reserved keyword in SQL and that was causing the error and was solved by changing the name of the class.</p>\n"}],"owner":{"account_id":10506359,"reputation":57,"user_id":9135740,"display_name":"Ameen Oumer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2387,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77131586,"answer_count":1,"score":2,"last_activity_date":1695094813,"creation_date":1626354981,"question_id":68394574,"body_markdown":"I was making a spring boot app, using hibernate and H2 database during development and am getting this error and I can&#39;t find a solution for it, below is the error log\r\n\r\n    00  WARN 8560 --- [           main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL &quot;drop table if exists group CASCADE &quot; via JDBC Statement\r\n    \r\n    org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;drop table if exists group CASCADE &quot; via JDBC Statement\r\n    \tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n    \tat org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n    \tat org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n    \tat org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:241) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n    \tat org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n    \tat org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n    \tat org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n    \tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:145) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n    \tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n    \tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:318) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n    \tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:468) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1259) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n    \tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1845) ~[spring-beans-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782) ~[spring-beans-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:602) ~[spring-beans-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144) ~[spring-boot-2.4.4.jar:2.4.4]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:769) ~[spring-boot-2.4.4.jar:2.4.4]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:761) ~[spring-boot-2.4.4.jar:2.4.4]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426) ~[spring-boot-2.4.4.jar:2.4.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:326) ~[spring-boot-2.4.4.jar:2.4.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1313) ~[spring-boot-2.4.4.jar:2.4.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-2.4.4.jar:2.4.4]\r\n    \tat com.project.phinder.PhinderApplication.main(PhinderApplication.java:10) ~[main/:na]\r\n    Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement &quot;DROP TABLE IF EXISTS GROUP[*] CASCADE &quot;; expected &quot;identifier&quot;; SQL statement:\r\n    drop table if exists group CASCADE  [42001-200]\r\n    \tat org.h2.message.DbException.getJdbcSQLException(DbException.java:453) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.message.DbException.getJdbcSQLException(DbException.java:429) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.message.DbException.getSyntaxError(DbException.java:243) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.command.Parser.readColumnIdentifier(Parser.java:4976) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.command.Parser.readIdentifierWithSchema(Parser.java:4925) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.command.Parser.readIdentifierWithSchema(Parser.java:4954) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.command.Parser.parseDrop(Parser.java:2236) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.command.Parser.parsePrepared(Parser.java:916) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.command.Parser.parse(Parser.java:843) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.command.Parser.parse(Parser.java:815) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.command.Parser.prepareCommand(Parser.java:738) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.engine.Session.prepareLocal(Session.java:657) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.engine.Session.prepareCommand(Session.java:595) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1235) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:212) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:201) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95) ~[HikariCP-3.4.5.jar:na]\r\n    \tat com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-3.4.5.jar:na]\r\n    \tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n    \t... 35 common frames omitted\r\n    \r\n    2021-07-15 15:48:36.914  WARN 8560 --- [           main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL &quot;create table group (group_id integer generated by default as identity, group_name varchar(255), sub_category_sub_category_id integer, primary key (group_id))&quot; via JDBC Statement\r\n    \r\n    org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table group (group_id integer generated by default as identity, group_name varchar(255), sub_category_sub_category_id integer, primary key (group_id))&quot; via JDBC Statement\r\n    \tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n    \tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:439) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n    \tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlStrings(SchemaCreatorImpl.java:423) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n    \tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:314) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n    \tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:166) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n    \tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n    \tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n    \tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:156) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n    \tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n    \tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:318) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n    \tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:468) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1259) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n    \tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1845) ~[spring-beans-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782) ~[spring-beans-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:602) ~[spring-beans-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144) ~[spring-boot-2.4.4.jar:2.4.4]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:769) ~[spring-boot-2.4.4.jar:2.4.4]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:761) ~[spring-boot-2.4.4.jar:2.4.4]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426) ~[spring-boot-2.4.4.jar:2.4.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:326) ~[spring-boot-2.4.4.jar:2.4.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1313) ~[spring-boot-2.4.4.jar:2.4.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-2.4.4.jar:2.4.4]\r\n    \tat com.project.phinder.PhinderApplication.main(PhinderApplication.java:10) ~[main/:na]\r\n    Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement &quot;CREATE TABLE GROUP[*] (GROUP_ID INTEGER GENERATED BY DEFAULT AS IDENTITY, GROUP_NAME VARCHAR(255), SUB_CATEGORY_SUB_CATEGORY_ID INTEGER, PRIMARY KEY (GROUP_ID))&quot;; expected &quot;identifier&quot;; SQL statement:\r\n    create table group (group_id integer generated by default as identity, group_name varchar(255), sub_category_sub_category_id integer, primary key (group_id)) [42001-200]\r\n    \tat org.h2.message.DbException.getJdbcSQLException(DbException.java:453) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.message.DbException.getJdbcSQLException(DbException.java:429) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.message.DbException.getSyntaxError(DbException.java:243) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.command.Parser.readColumnIdentifier(Parser.java:4976) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.command.Parser.readIdentifierWithSchema(Parser.java:4925) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.command.Parser.readIdentifierWithSchema(Parser.java:4954) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.command.Parser.parseCreateTable(Parser.java:8361) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.command.Parser.parseCreate(Parser.java:6276) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.command.Parser.parsePrepared(Parser.java:903) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.command.Parser.parse(Parser.java:843) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.command.Parser.parse(Parser.java:815) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.command.Parser.prepareCommand(Parser.java:738) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.engine.Session.prepareLocal(Session.java:657) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.engine.Session.prepareCommand(Session.java:595) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1235) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:212) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:201) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95) ~[HikariCP-3.4.5.jar:na]\r\n    \tat com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-3.4.5.jar:na]\r\n    \tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n    \t... 35 common frames omitted\r\n\r\nthere is more to the error log\r\n\r\nthe appliccation.properties is empty.\r\n\r\nthe gradle.build file looks as the below\r\n\r\n    plugins {\r\n        id &#39;org.springframework.boot&#39; version &#39;2.4.4&#39;\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n        id &#39;java&#39;\r\n    }\r\n    \r\n    group = &#39;com.project&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = &#39;11&#39;\r\n    \r\n    configurations {\r\n        compileOnly {\r\n            extendsFrom annotationProcessor\r\n        }\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    //    implementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n        compileOnly &#39;org.projectlombok:lombok&#39;\r\n        runtimeOnly &#39;com.h2database:h2&#39;\r\n    //    runtimeOnly &#39;mysql:mysql-connector-java&#39;\r\n        annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n        testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    //    testImplementation &#39;org.springframework.security:spring-security-test&#39;\r\n    }\r\n    \r\n    test {\r\n        useJUnitPlatform()\r\n    }\r\n\r\nI have a class named group but not sure if the error log is referring to that, let me know if there is any other information required.\r\n","title":"org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;drop table if exists group CASCADE &quot; via JDBC Statement","body":"<p>I was making a spring boot app, using hibernate and H2 database during development and am getting this error and I can't find a solution for it, below is the error log</p>\n<pre><code>00  WARN 8560 --- [           main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL &quot;drop table if exists group CASCADE &quot; via JDBC Statement\n\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;drop table if exists group CASCADE &quot; via JDBC Statement\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:241) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:145) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:318) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:468) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1259) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.5.jar:5.3.5]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.5.jar:5.3.5]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.5.jar:5.3.5]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.5.jar:5.3.5]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.5.jar:5.3.5]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1845) ~[spring-beans-5.3.5.jar:5.3.5]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782) ~[spring-beans-5.3.5.jar:5.3.5]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:602) ~[spring-beans-5.3.5.jar:5.3.5]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.5.jar:5.3.5]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.5.jar:5.3.5]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.5.jar:5.3.5]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.5.jar:5.3.5]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.5.jar:5.3.5]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.5.jar:5.3.5]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.5.jar:5.3.5]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.5.jar:5.3.5]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144) ~[spring-boot-2.4.4.jar:2.4.4]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:769) ~[spring-boot-2.4.4.jar:2.4.4]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:761) ~[spring-boot-2.4.4.jar:2.4.4]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426) ~[spring-boot-2.4.4.jar:2.4.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:326) ~[spring-boot-2.4.4.jar:2.4.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1313) ~[spring-boot-2.4.4.jar:2.4.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-2.4.4.jar:2.4.4]\n    at com.project.phinder.PhinderApplication.main(PhinderApplication.java:10) ~[main/:na]\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement &quot;DROP TABLE IF EXISTS GROUP[*] CASCADE &quot;; expected &quot;identifier&quot;; SQL statement:\ndrop table if exists group CASCADE  [42001-200]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:453) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:429) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.message.DbException.getSyntaxError(DbException.java:243) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.readColumnIdentifier(Parser.java:4976) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.readIdentifierWithSchema(Parser.java:4925) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.readIdentifierWithSchema(Parser.java:4954) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.parseDrop(Parser.java:2236) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.parsePrepared(Parser.java:916) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.parse(Parser.java:843) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.parse(Parser.java:815) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.prepareCommand(Parser.java:738) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.engine.Session.prepareLocal(Session.java:657) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.engine.Session.prepareCommand(Session.java:595) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1235) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:212) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:201) ~[h2-1.4.200.jar:1.4.200]\n    at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95) ~[HikariCP-3.4.5.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-3.4.5.jar:na]\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    ... 35 common frames omitted\n\n2021-07-15 15:48:36.914  WARN 8560 --- [           main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL &quot;create table group (group_id integer generated by default as identity, group_name varchar(255), sub_category_sub_category_id integer, primary key (group_id))&quot; via JDBC Statement\n\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table group (group_id integer generated by default as identity, group_name varchar(255), sub_category_sub_category_id integer, primary key (group_id))&quot; via JDBC Statement\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:439) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlStrings(SchemaCreatorImpl.java:423) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:314) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:166) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:156) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:318) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:468) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1259) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.5.jar:5.3.5]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.5.jar:5.3.5]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.5.jar:5.3.5]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.5.jar:5.3.5]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.5.jar:5.3.5]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1845) ~[spring-beans-5.3.5.jar:5.3.5]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782) ~[spring-beans-5.3.5.jar:5.3.5]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:602) ~[spring-beans-5.3.5.jar:5.3.5]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.5.jar:5.3.5]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.5.jar:5.3.5]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.5.jar:5.3.5]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.5.jar:5.3.5]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.5.jar:5.3.5]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.5.jar:5.3.5]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.5.jar:5.3.5]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.5.jar:5.3.5]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144) ~[spring-boot-2.4.4.jar:2.4.4]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:769) ~[spring-boot-2.4.4.jar:2.4.4]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:761) ~[spring-boot-2.4.4.jar:2.4.4]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426) ~[spring-boot-2.4.4.jar:2.4.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:326) ~[spring-boot-2.4.4.jar:2.4.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1313) ~[spring-boot-2.4.4.jar:2.4.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-2.4.4.jar:2.4.4]\n    at com.project.phinder.PhinderApplication.main(PhinderApplication.java:10) ~[main/:na]\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement &quot;CREATE TABLE GROUP[*] (GROUP_ID INTEGER GENERATED BY DEFAULT AS IDENTITY, GROUP_NAME VARCHAR(255), SUB_CATEGORY_SUB_CATEGORY_ID INTEGER, PRIMARY KEY (GROUP_ID))&quot;; expected &quot;identifier&quot;; SQL statement:\ncreate table group (group_id integer generated by default as identity, group_name varchar(255), sub_category_sub_category_id integer, primary key (group_id)) [42001-200]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:453) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:429) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.message.DbException.getSyntaxError(DbException.java:243) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.readColumnIdentifier(Parser.java:4976) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.readIdentifierWithSchema(Parser.java:4925) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.readIdentifierWithSchema(Parser.java:4954) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.parseCreateTable(Parser.java:8361) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.parseCreate(Parser.java:6276) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.parsePrepared(Parser.java:903) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.parse(Parser.java:843) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.parse(Parser.java:815) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.prepareCommand(Parser.java:738) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.engine.Session.prepareLocal(Session.java:657) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.engine.Session.prepareCommand(Session.java:595) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1235) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:212) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:201) ~[h2-1.4.200.jar:1.4.200]\n    at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95) ~[HikariCP-3.4.5.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-3.4.5.jar:na]\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    ... 35 common frames omitted\n</code></pre>\n<p>there is more to the error log</p>\n<p>the appliccation.properties is empty.</p>\n<p>the gradle.build file looks as the below</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.4.4'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'java'\n}\n\ngroup = 'com.project'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '11'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n//    implementation 'org.springframework.boot:spring-boot-starter-security'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    compileOnly 'org.projectlombok:lombok'\n    runtimeOnly 'com.h2database:h2'\n//    runtimeOnly 'mysql:mysql-connector-java'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n//    testImplementation 'org.springframework.security:spring-security-test'\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>I have a class named group but not sure if the error log is referring to that, let me know if there is any other information required.</p>\n"},{"tags":["java","spring-boot","maven","jib"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1694623640,"post_id":77098989,"comment_id":135916708,"body_markdown":"Is there good reason why you are using an old version of the `jib-maven-plugin` plugin? https://central.sonatype.com/artifact/com.google.cloud.tools/jib-maven-plugin/versions also the maven-compiler-plugin is not up-to-date (https://maven.apache.org/plugins/) also the spring-boot-version could be upgraded to 3.0.9 ... also spring-cloud.version could be upgraded 2022.0.4...","body":"Is there good reason why you are using an old version of the <code>jib-maven-plugin</code> plugin? <a href=\"https://central.sonatype.com/artifact/com.google.cloud.tools/jib-maven-plugin/versions\" rel=\"nofollow noreferrer\">central.sonatype.com/artifact/com.google.cloud.tools/&hellip;</a> also the maven-compiler-plugin is not up-to-date (<a href=\"https://maven.apache.org/plugins/\" rel=\"nofollow noreferrer\">maven.apache.org/plugins</a>) also the spring-boot-version could be upgraded to 3.0.9 ... also spring-cloud.version could be upgraded 2022.0.4..."},{"owner":{"account_id":16826426,"reputation":564,"user_id":12165605,"display_name":"AG_1380"},"score":0,"creation_date":1694627870,"post_id":77098989,"comment_id":135917498,"body_markdown":"There we no specific reasons that I used these versions. I upgraded them but it didn&#39;t work neither. @khmarbaise","body":"There we no specific reasons that I used these versions. I upgraded them but it didn&#39;t work neither. @khmarbaise"}],"answers":[{"tags":[],"owner":{"account_id":1881220,"reputation":4005,"user_id":1701388,"display_name":"Chanseok Oh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695094518,"creation_date":1694977662,"answer_id":77123243,"question_id":77098989,"body_markdown":"Make `&lt;platforms&gt;` look like this.\r\n```xml\r\n    &lt;platforms&gt;\r\n      &lt;platform&gt;\r\n        &lt;architecture&gt;amd64&lt;/architecture&gt;\r\n        &lt;os&gt;linux&lt;/os&gt;\r\n      &lt;/platform&gt;\r\n      &lt;platform&gt;\r\n        &lt;architecture&gt;arm64&lt;/architecture&gt;\r\n        &lt;os&gt;linux&lt;/os&gt;\r\n      &lt;/platform&gt;\r\n    &lt;/platforms&gt;\r\n```","title":"Error while setting Google Jib: Cannot find default setter in class com.google.cloud.tools.jib.maven.JibPluginConfiguration$PlatformParameters","body":"<p>Make <code>&lt;platforms&gt;</code> look like this.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;platforms&gt;\n      &lt;platform&gt;\n        &lt;architecture&gt;amd64&lt;/architecture&gt;\n        &lt;os&gt;linux&lt;/os&gt;\n      &lt;/platform&gt;\n      &lt;platform&gt;\n        &lt;architecture&gt;arm64&lt;/architecture&gt;\n        &lt;os&gt;linux&lt;/os&gt;\n      &lt;/platform&gt;\n    &lt;/platforms&gt;\n</code></pre>\n"}],"owner":{"account_id":16826426,"reputation":564,"user_id":12165605,"display_name":"AG_1380"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77123243,"answer_count":1,"score":0,"last_activity_date":1695094518,"creation_date":1694623268,"question_id":77098989,"body_markdown":"I am using spring boot 3 with different micro-services. I am using micro-service architecture.\r\n\r\nI want to use google Jib to build docker images of each micro-service with maven. I don&#39;t know what exactly is the issue with my configuration. I get an error when I try to use `maven package` command within a micro-service with activated profile:\r\n\r\n`Cannot find default setter in class com.google.cloud.tools.jib.maven.JibPluginConfiguration$PlatformParameters`\r\n\r\nI think there is something wrong with maven plugin, but I couldn&#39;t find out what exactly I did wrong.\r\n\r\nHere is my main `pom.xml`:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.mycompany.learn&lt;/groupId&gt;\r\n    &lt;artifactId&gt;learnservices&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\n    &lt;name&gt;learnservices&lt;/name&gt;\r\n    &lt;modules&gt;\r\n        &lt;module&gt;service1&lt;/module&gt;\r\n        &lt;module&gt;service2&lt;/module&gt;\r\n        &lt;module&gt;service3&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;spring.boot.maven.plugin.version&gt;3.1.2&lt;/spring.boot.maven.plugin.version&gt;\r\n        &lt;spring-cloud.version&gt;2022.0.1&lt;/spring-cloud.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.5&lt;/version&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${spring.boot.maven.plugin.version}&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;repackage&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.5.2&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;from&gt;\r\n                            &lt;image&gt;openjdk:17&lt;/image&gt;\r\n                            &lt;platforms&gt;\r\n                                &lt;architecture&gt;amd64&lt;/architecture&gt;\r\n                                &lt;os&gt;linux&lt;/os&gt;\r\n                            &lt;/platforms&gt;\r\n                            &lt;platforms&gt;\r\n                                &lt;architecture&gt;arm64&lt;/architecture&gt;\r\n                                &lt;os&gt;linux&lt;/os&gt;\r\n                            &lt;/platforms&gt;\r\n                        &lt;/from&gt;\r\n                        &lt;to&gt;\r\n                            &lt;image&gt;path/to:docker-hub&lt;/image&gt;\r\n                        &lt;/to&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;build&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;17&lt;/source&gt;\r\n                    &lt;target&gt;17&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```","title":"Error while setting Google Jib: Cannot find default setter in class com.google.cloud.tools.jib.maven.JibPluginConfiguration$PlatformParameters","body":"<p>I am using spring boot 3 with different micro-services. I am using micro-service architecture.</p>\n<p>I want to use google Jib to build docker images of each micro-service with maven. I don't know what exactly is the issue with my configuration. I get an error when I try to use <code>maven package</code> command within a micro-service with activated profile:</p>\n<p><code>Cannot find default setter in class com.google.cloud.tools.jib.maven.JibPluginConfiguration$PlatformParameters</code></p>\n<p>I think there is something wrong with maven plugin, but I couldn't find out what exactly I did wrong.</p>\n<p>Here is my main <code>pom.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.mycompany.learn&lt;/groupId&gt;\n    &lt;artifactId&gt;learnservices&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n\n    &lt;name&gt;learnservices&lt;/name&gt;\n    &lt;modules&gt;\n        &lt;module&gt;service1&lt;/module&gt;\n        &lt;module&gt;service2&lt;/module&gt;\n        &lt;module&gt;service3&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;spring.boot.maven.plugin.version&gt;3.1.2&lt;/spring.boot.maven.plugin.version&gt;\n        &lt;spring-cloud.version&gt;2022.0.1&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;3.0.5&lt;/version&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n            &lt;/dependency&gt;\n\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;${spring.boot.maven.plugin.version}&lt;/version&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;repackage&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\n                    &lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.5.2&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;from&gt;\n                            &lt;image&gt;openjdk:17&lt;/image&gt;\n                            &lt;platforms&gt;\n                                &lt;architecture&gt;amd64&lt;/architecture&gt;\n                                &lt;os&gt;linux&lt;/os&gt;\n                            &lt;/platforms&gt;\n                            &lt;platforms&gt;\n                                &lt;architecture&gt;arm64&lt;/architecture&gt;\n                                &lt;os&gt;linux&lt;/os&gt;\n                            &lt;/platforms&gt;\n                        &lt;/from&gt;\n                        &lt;to&gt;\n                            &lt;image&gt;path/to:docker-hub&lt;/image&gt;\n                        &lt;/to&gt;\n                    &lt;/configuration&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;phase&gt;package&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;build&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;17&lt;/source&gt;\n                    &lt;target&gt;17&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","elasticsearch","elasticsearch-7","elasticsearch-java-api"],"answers":[{"tags":[],"owner":{"account_id":2019912,"reputation":699,"user_id":1806341,"accept_rate":83,"display_name":"igor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644491342,"creation_date":1644392898,"answer_id":71045705,"question_id":70988990,"body_markdown":"The only way I found so far is to put a conditional breakpoint in \r\nco/elastic/clients/transport/rest_client/RestClientTransport.java:215 from elasticsearch-java-7.16.2.jar and check the value of baos variable.","title":"How to get the json representation of the ElasticSearch query/request that was built with Java API Client (7.16)?","body":"<p>The only way I found so far is to put a conditional breakpoint in\nco/elastic/clients/transport/rest_client/RestClientTransport.java:215 from elasticsearch-java-7.16.2.jar and check the value of baos variable.</p>\n"},{"tags":[],"owner":{"account_id":41346,"reputation":1878,"user_id":120102,"accept_rate":80,"display_name":"Cameron"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1649371963,"creation_date":1649370016,"answer_id":71789564,"question_id":70988990,"body_markdown":"It looks like this feature will be directly supported in an upcoming version: https://discuss.elastic.co/t/elaticsearch-java-client-output-dsl/300952\r\n\r\nIn the meantime, there is a workaround given in the above discussion, but it does not quite work. Here is a snippet that works for me:\r\n\r\n    StringWriter writer = new StringWriter();\r\n    JsonGenerator generator = JacksonJsonProvider.provider().createGenerator(writer);\r\n    request.serialize(generator, new JacksonJsonpMapper());\r\n    generator.flush();\r\n    return writer.toString();","title":"How to get the json representation of the ElasticSearch query/request that was built with Java API Client (7.16)?","body":"<p>It looks like this feature will be directly supported in an upcoming version: <a href=\"https://discuss.elastic.co/t/elaticsearch-java-client-output-dsl/300952\" rel=\"nofollow noreferrer\">https://discuss.elastic.co/t/elaticsearch-java-client-output-dsl/300952</a></p>\n<p>In the meantime, there is a workaround given in the above discussion, but it does not quite work. Here is a snippet that works for me:</p>\n<pre><code>StringWriter writer = new StringWriter();\nJsonGenerator generator = JacksonJsonProvider.provider().createGenerator(writer);\nrequest.serialize(generator, new JacksonJsonpMapper());\ngenerator.flush();\nreturn writer.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4576038,"reputation":28,"user_id":3714452,"display_name":"Makz23"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654847921,"creation_date":1654847921,"answer_id":72570895,"question_id":70988990,"body_markdown":"As a temporary method waiting for pull request mentionned below, i just used\r\n\r\n    // TODO delete when https://github.com/elastic/elasticsearch-java/pull/213\r\n    public static String serializeToString(Query q) {\r\n        return q._get().toString();\r\n    }\r\nIt does not print anything pretty but it covers my use case of string comparison for tests.","title":"How to get the json representation of the ElasticSearch query/request that was built with Java API Client (7.16)?","body":"<p>As a temporary method waiting for pull request mentionned below, i just used</p>\n<pre><code>// TODO delete when https://github.com/elastic/elasticsearch-java/pull/213\npublic static String serializeToString(Query q) {\n    return q._get().toString();\n}\n</code></pre>\n<p>It does not print anything pretty but it covers my use case of string comparison for tests.</p>\n"},{"tags":[],"owner":{"account_id":5744189,"reputation":766,"user_id":4535853,"accept_rate":60,"display_name":"Max"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680066291,"creation_date":1680066291,"answer_id":75873321,"question_id":70988990,"body_markdown":"In my case [@Cameron answer](https://stackoverflow.com/questions/70988990/how-to-get-the-json-representation-of-the-elasticsearch-query-request-that-was-b/75873321#71789564) didn&#39;t work, because returned only a part of the query. Besides it I also need to serialize the date.  \r\nSo I ended up with the next solution:\r\n\r\n    String extractQuery(SearchRequest searchRequest) {\r\n        // jsonpMapper can be extracted to static field\r\n\t\tJacksonJsonpMapper jsonpMapper = new JacksonJsonpMapper()\r\n\t\tjsonpMapper.objectMapper().registerModule(new JavaTimeModule())\r\n\t\tjsonpMapper.objectMapper().setDateFormat(new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;))\r\n\r\n\t\tStringWriter writer = new StringWriter()\r\n\t\tJacksonJsonpGenerator generator = new JacksonJsonpGenerator(new JsonFactory().createGenerator(writer))\r\n\t\tsearchRequest.serialize(generator, jsonpMapper)\r\n\t\tgenerator.flush()\r\n\t\treturn writer.toString()\r\n\t}","title":"How to get the json representation of the ElasticSearch query/request that was built with Java API Client (7.16)?","body":"<p>In my case <a href=\"https://stackoverflow.com/questions/70988990/how-to-get-the-json-representation-of-the-elasticsearch-query-request-that-was-b/75873321#71789564\">@Cameron answer</a> didn't work, because returned only a part of the query. Besides it I also need to serialize the date.<br />\nSo I ended up with the next solution:</p>\n<pre><code>String extractQuery(SearchRequest searchRequest) {\n    // jsonpMapper can be extracted to static field\n    JacksonJsonpMapper jsonpMapper = new JacksonJsonpMapper()\n    jsonpMapper.objectMapper().registerModule(new JavaTimeModule())\n    jsonpMapper.objectMapper().setDateFormat(new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss&quot;))\n\n    StringWriter writer = new StringWriter()\n    JacksonJsonpGenerator generator = new JacksonJsonpGenerator(new JsonFactory().createGenerator(writer))\n    searchRequest.serialize(generator, jsonpMapper)\n    generator.flush()\n    return writer.toString()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18418410,"reputation":1,"user_id":13416696,"display_name":"user13416696"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695093948,"creation_date":1695093788,"answer_id":77131541,"question_id":70988990,"body_markdown":"```\r\n    public static String serializeToString(Query q) {\r\n        return JsonpUtils.toString(q);\r\n    }\r\n```\r\nAs shown above, one could use the co.elastic.clients.json.JsonpUtils\r\ntoString(JsonpSerializable value) method and pass your Query inorder to convert an Elastic Query to a string. This is supported on the newer versions of Elastic Java Client.\r\n\r\nJavaDocs: \r\nhttps://artifacts.elastic.co/javadoc/co/elastic/clients/elasticsearch-java/8.10.1/co/elastic/clients/json/JsonpUtils.html","title":"How to get the json representation of the ElasticSearch query/request that was built with Java API Client (7.16)?","body":"<pre><code>    public static String serializeToString(Query q) {\n        return JsonpUtils.toString(q);\n    }\n</code></pre>\n<p>As shown above, one could use the co.elastic.clients.json.JsonpUtils\ntoString(JsonpSerializable value) method and pass your Query inorder to convert an Elastic Query to a string. This is supported on the newer versions of Elastic Java Client.</p>\n<p>JavaDocs:\n<a href=\"https://artifacts.elastic.co/javadoc/co/elastic/clients/elasticsearch-java/8.10.1/co/elastic/clients/json/JsonpUtils.html\" rel=\"nofollow noreferrer\">https://artifacts.elastic.co/javadoc/co/elastic/clients/elasticsearch-java/8.10.1/co/elastic/clients/json/JsonpUtils.html</a></p>\n"}],"owner":{"account_id":2019912,"reputation":699,"user_id":1806341,"accept_rate":83,"display_name":"igor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2699,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71789564,"answer_count":5,"score":3,"last_activity_date":1695093948,"creation_date":1643989000,"question_id":70988990,"body_markdown":"A new Java API Client was released in the 7.16 version of ES and the Java Rest Client was deprecated. There was the ability to convert a query to JSON in the deprecated client. It was convenient for debugging/tuning/profiling of the query in Kibana.\r\n\r\nUnfortunately, I don&#39;t see any mention of this in the new client documentation. So my question is:\r\n\r\nIs it possible to get a JSON representation of the query that was constructed via the Java API Client? It can be either some utility class or log config of the client that prints outgoing requests.\r\n\r\n","title":"How to get the json representation of the ElasticSearch query/request that was built with Java API Client (7.16)?","body":"<p>A new Java API Client was released in the 7.16 version of ES and the Java Rest Client was deprecated. There was the ability to convert a query to JSON in the deprecated client. It was convenient for debugging/tuning/profiling of the query in Kibana.</p>\n<p>Unfortunately, I don't see any mention of this in the new client documentation. So my question is:</p>\n<p>Is it possible to get a JSON representation of the query that was constructed via the Java API Client? It can be either some utility class or log config of the client that prints outgoing requests.</p>\n"},{"tags":["java","tomcat","log4j","catalina"],"comments":[{"owner":{"account_id":295316,"reputation":736,"user_id":3324415,"accept_rate":74,"display_name":"BernardV"},"score":0,"creation_date":1695108817,"post_id":77131542,"comment_id":135976419,"body_markdown":"Have you tried the sollutions provided here: https://stackoverflow.com/questions/28572783/no-log4j2-configuration-file-found-using-default-configuration-logging-only-er","body":"Have you tried the sollutions provided here: <a href=\"https://stackoverflow.com/questions/28572783/no-log4j2-configuration-file-found-using-default-configuration-logging-only-er\" title=\"no log4j2 configuration file found using default configuration logging only er\">stackoverflow.com/questions/28572783/&hellip;</a>"},{"owner":{"account_id":18154315,"reputation":11,"user_id":13206552,"display_name":"Andika Eka"},"score":0,"creation_date":1695109789,"post_id":77131542,"comment_id":135976593,"body_markdown":"no it either didn&#39;t work not applicable towards what I&#39;m trying to do","body":"no it either didn&#39;t work not applicable towards what I&#39;m trying to do"}],"owner":{"account_id":18154315,"reputation":11,"user_id":13206552,"display_name":"Andika Eka"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695093816,"creation_date":1695093816,"question_id":77131542,"body_markdown":"I need DEBUG in one file and INFO in a the catalina.out. here is my log4j properties\r\n\r\n\r\n```\r\nlog4j.rootLogger=  consoleAppenderInfo, fileAppenderInfo, fileAppenderDebug\r\n\r\nlog4j.appender.consoleAppenderInfo.Threshold=INFO\r\nlog4j.appender.consoleAppenderInfo=org.apache.log4j.ConsoleAppender\r\nlog4j.appender.consoleAppenderInfo.layout=org.apache.log4j.PatternLayout\r\nlog4j.appender.consoleAppenderInfo.layout.ConversionPattern=[%t] %-5p %c %x - %m%n\r\n\r\nlog4j.appender.fileAppenderInfo.Threshold=INFO\r\nlog4j.appender.fileAppenderInfo=org.apache.log4j.RollingFileAppender\r\nlog4j.appender.fileAppenderInfo.layout=org.apache.log4j.PatternLayout\r\nlog4j.appender.fileAppenderInfo.layout.ConversionPattern=[%t] %-5p %c %x - %m%n\r\nlog4j.appender.fileAppenderInfo.File=/home/user/logs/info.app.log\r\n\r\nlog4j.appender.fileAppenderDebug.Threshold=DEBUG\r\nlog4j.appender.fileAppenderDebug=org.apache.log4j.RollingFileAppender\r\nlog4j.appender.fileAppenderDebug.layout=org.apache.log4j.PatternLayout\r\nlog4j.appender.fileAppenderDebug.layout.ConversionPattern=[%t] %-5p %c %x - %m%n\r\nlog4j.appender.fileAppenderDebug.File=/home/user/logs/debug.app.log\r\n```\r\n\r\nwhile both output files get the correct log, catalina.out show this: \r\n\r\n`2023-09-19 11:09:25,276 http-apr-8080-exec-35 WARN No Loggers were configured, using default. Is the Loggers element missing?\r\n`\r\n\r\nit will go away if I set INFO on the root logger. however i cant have debug log with that.","title":"How to set threshold for console appender in log4j?","body":"<p>I need DEBUG in one file and INFO in a the catalina.out. here is my log4j properties</p>\n<pre><code>log4j.rootLogger=  consoleAppenderInfo, fileAppenderInfo, fileAppenderDebug\n\nlog4j.appender.consoleAppenderInfo.Threshold=INFO\nlog4j.appender.consoleAppenderInfo=org.apache.log4j.ConsoleAppender\nlog4j.appender.consoleAppenderInfo.layout=org.apache.log4j.PatternLayout\nlog4j.appender.consoleAppenderInfo.layout.ConversionPattern=[%t] %-5p %c %x - %m%n\n\nlog4j.appender.fileAppenderInfo.Threshold=INFO\nlog4j.appender.fileAppenderInfo=org.apache.log4j.RollingFileAppender\nlog4j.appender.fileAppenderInfo.layout=org.apache.log4j.PatternLayout\nlog4j.appender.fileAppenderInfo.layout.ConversionPattern=[%t] %-5p %c %x - %m%n\nlog4j.appender.fileAppenderInfo.File=/home/user/logs/info.app.log\n\nlog4j.appender.fileAppenderDebug.Threshold=DEBUG\nlog4j.appender.fileAppenderDebug=org.apache.log4j.RollingFileAppender\nlog4j.appender.fileAppenderDebug.layout=org.apache.log4j.PatternLayout\nlog4j.appender.fileAppenderDebug.layout.ConversionPattern=[%t] %-5p %c %x - %m%n\nlog4j.appender.fileAppenderDebug.File=/home/user/logs/debug.app.log\n</code></pre>\n<p>while both output files get the correct log, catalina.out show this:</p>\n<p><code>2023-09-19 11:09:25,276 http-apr-8080-exec-35 WARN No Loggers were configured, using default. Is the Loggers element missing? </code></p>\n<p>it will go away if I set INFO on the root logger. however i cant have debug log with that.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1695126662,"post_id":77131401,"comment_id":135979917,"body_markdown":"`know there can put the mp4 in raw file in project, then call mp4 from raw file, ` Interesting! You should tell @Bra Him: https://stackoverflow.com/questions/77119818/put-mp3-files-from-raw-folder-into-recyclerview?noredirect=1#comment135960017_77119818","body":"<code>know there can put the mp4 in raw file in project, then call mp4 from raw file, </code> Interesting! You should tell @Bra Him: <a href=\"https://stackoverflow.com/questions/77119818/put-mp3-files-from-raw-folder-into-recyclerview?noredirect=1#comment135960017_77119818\" title=\"put mp3 files from raw folder into recyclerview\">stackoverflow.com/questions/77119818/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":29478102,"reputation":1,"user_id":22589382,"display_name":"Shou Pu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695093787,"creation_date":1695093787,"answer_id":77131540,"question_id":77131401,"body_markdown":"I found the method, I will share the solution below for everyone\r\n\r\nThe method is use \r\n\r\n    getContentResolver().takePersistableUriPermission(uri,Intent.FLAG_GRANT_READ_URI_PERMISSION))\r\n\r\nThe full code likes this:\r\n\r\n    private final ActivityResultLauncher&lt;String[]&gt; videoFilePickerLauncher = registerForActivityResult( new ActivityResultContracts.OpenDocument(), new ActivityResultCallback&lt;Uri&gt;() {\r\n        @Override\r\n        public void onActivityResult(Uri result) {\r\n            videoUri = result;\r\n            context.getContentResolver().takePersistableUriPermission(result,Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n        } })\r\n\r\nHope this can help other person who meets the same problem!\r\nThank you!\r\n\r\n","title":"Local mp4 in android device can&#39;t be played by uri before using registerForActivityResult to selected this local mp4","body":"<p>I found the method, I will share the solution below for everyone</p>\n<p>The method is use</p>\n<pre><code>getContentResolver().takePersistableUriPermission(uri,Intent.FLAG_GRANT_READ_URI_PERMISSION))\n</code></pre>\n<p>The full code likes this:</p>\n<pre><code>private final ActivityResultLauncher&lt;String[]&gt; videoFilePickerLauncher = registerForActivityResult( new ActivityResultContracts.OpenDocument(), new ActivityResultCallback&lt;Uri&gt;() {\n    @Override\n    public void onActivityResult(Uri result) {\n        videoUri = result;\n        context.getContentResolver().takePersistableUriPermission(result,Intent.FLAG_GRANT_READ_URI_PERMISSION);\n    } })\n</code></pre>\n<p>Hope this can help other person who meets the same problem!\nThank you!</p>\n"}],"owner":{"account_id":29478102,"reputation":1,"user_id":22589382,"display_name":"Shou Pu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77131540,"answer_count":1,"score":0,"last_activity_date":1695093787,"creation_date":1695091193,"question_id":77131401,"body_markdown":"I want to develope the app that can play the local mp4 store in android device by click the button.\r\n\r\nI know there can put the mp4 in raw file in project, then call mp4 from raw file, but I don&#39;t want using this method because the app size will become large, and I want let user can set which local mp4 they want to play by click mp4\r\n\r\nI let user can select mp4 by those code below\r\n\r\n\r\n```\r\nString action[] = {&quot;video/*&quot;};\r\nvideoFilePickerLauncher.launch(action);\r\n```\r\n\r\n```\r\nprivate final ActivityResultLauncher&lt;String[]&gt; videoFilePickerLauncher = registerForActivityResult(\r\nnew ActivityResultContracts.OpenDocument(), new ActivityResultCallback&lt;Uri&gt;() {\r\n    @Override\r\n    public void onActivityResult(Uri result) {\r\n        videoUri = result;\r\n    }\r\n})\r\n```\r\n\r\nI save the uri of selected mp4 by videoUri, and use it when I click button to play selected mp4, the code is like below\r\n\r\n```\r\nMediaItem mediaItem = MediaItem.fromUri(videoUri );\r\nexoPlayer.setMediaItem(mediaItem);\r\nexoPlayer.prepare();\r\nexoPlayer.play();\r\n```\r\n\r\nBut the problem I met is that I can&#39;t play this mp4 again by uri directly after I close app, and open this app again\r\n\r\nThe mp4 needs to be selected first by registerForActivityResult everytime, but this behavior is inconvenient.\r\n\r\n\r\nI have tried\r\n```\r\ncontext.grantUriPermission(&quot;com.XXX.XXX&quot;,uri,Intent.FLAG_GRANT_READ_URI_PERMISSION)\r\n```\r\nBut the permission will be denied, and show the exception like this:\r\n\r\n`java.lang.SecurityException: UID 10790 does not have permission to content://com.android.providers.media.documents/document/video%3A1000000431 [user 0]; you could obtain access using ACTION_OPEN_DOCUMENT or related APIs`\r\n\r\nAre there any method can play local mp4 in android device by uri directly without selecting them first?\r\n\r\nOr ares there any recommend can reach the same result?\r\n\r\nThank you!","title":"Local mp4 in android device can&#39;t be played by uri before using registerForActivityResult to selected this local mp4","body":"<p>I want to develope the app that can play the local mp4 store in android device by click the button.</p>\n<p>I know there can put the mp4 in raw file in project, then call mp4 from raw file, but I don't want using this method because the app size will become large, and I want let user can set which local mp4 they want to play by click mp4</p>\n<p>I let user can select mp4 by those code below</p>\n<pre><code>String action[] = {&quot;video/*&quot;};\nvideoFilePickerLauncher.launch(action);\n</code></pre>\n<pre><code>private final ActivityResultLauncher&lt;String[]&gt; videoFilePickerLauncher = registerForActivityResult(\nnew ActivityResultContracts.OpenDocument(), new ActivityResultCallback&lt;Uri&gt;() {\n    @Override\n    public void onActivityResult(Uri result) {\n        videoUri = result;\n    }\n})\n</code></pre>\n<p>I save the uri of selected mp4 by videoUri, and use it when I click button to play selected mp4, the code is like below</p>\n<pre><code>MediaItem mediaItem = MediaItem.fromUri(videoUri );\nexoPlayer.setMediaItem(mediaItem);\nexoPlayer.prepare();\nexoPlayer.play();\n</code></pre>\n<p>But the problem I met is that I can't play this mp4 again by uri directly after I close app, and open this app again</p>\n<p>The mp4 needs to be selected first by registerForActivityResult everytime, but this behavior is inconvenient.</p>\n<p>I have tried</p>\n<pre><code>context.grantUriPermission(&quot;com.XXX.XXX&quot;,uri,Intent.FLAG_GRANT_READ_URI_PERMISSION)\n</code></pre>\n<p>But the permission will be denied, and show the exception like this:</p>\n<p><code>java.lang.SecurityException: UID 10790 does not have permission to content://com.android.providers.media.documents/document/video%3A1000000431 [user 0]; you could obtain access using ACTION_OPEN_DOCUMENT or related APIs</code></p>\n<p>Are there any method can play local mp4 in android device by uri directly without selecting them first?</p>\n<p>Or ares there any recommend can reach the same result?</p>\n<p>Thank you!</p>\n"},{"tags":["java","javafx","exe"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1695153255,"post_id":77131534,"comment_id":135985068,"body_markdown":"This is likely too complex and open-ended to be well-answered on StackOverflow.  You could look into technology such as [`jpackage`](https://docs.oracle.com/en/java/javase/20/jpackage/packaging-overview.html#GUID-C1027043-587D-418D-8188-EF8F44A4C06A) or a commercial packaging and installation tool.  Recommendation of individual tools is outside of scope for StackOverflow.","body":"This is likely too complex and open-ended to be well-answered on StackOverflow.  You could look into technology such as <a href=\"https://docs.oracle.com/en/java/javase/20/jpackage/packaging-overview.html#GUID-C1027043-587D-418D-8188-EF8F44A4C06A\" rel=\"nofollow noreferrer\"><code>jpackage</code></a> or a commercial packaging and installation tool.  Recommendation of individual tools is outside of scope for StackOverflow."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695229439,"post_id":77131534,"comment_id":135997743,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":1384866,"reputation":1,"user_id":1317113,"display_name":"user1317113"},"score":0,"creation_date":1695281270,"post_id":77131534,"comment_id":136004016,"body_markdown":"I want to know what methods or software can be used to include the MSSQL installation file in the process of converting Java into an exe. Additionally, during the installation process of the exe, MSSQL will be automatically triggered for installation.","body":"I want to know what methods or software can be used to include the MSSQL installation file in the process of converting Java into an exe. Additionally, during the installation process of the exe, MSSQL will be automatically triggered for installation."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1695337207,"post_id":77131534,"comment_id":136014700,"body_markdown":"&quot;I want to know what methods or software can be used to include the MSSQL installation file&quot; -&gt; I already provided info on that (you can use jpackage) - read the documentation on it that I linked.  It is not easy or trivial to use (especially given your requirements).  There are other tools, but [software recommendations are out of scope for StackOverflow](https://stackoverflow.com/help/on-topic).","body":"&quot;I want to know what methods or software can be used to include the MSSQL installation file&quot; -&gt; I already provided info on that (you can use jpackage) - read the documentation on it that I linked.  It is not easy or trivial to use (especially given your requirements).  There are other tools, but <a href=\"https://stackoverflow.com/help/on-topic\">software recommendations are out of scope for StackOverflow</a>."},{"owner":{"account_id":1384866,"reputation":1,"user_id":1317113,"display_name":"user1317113"},"score":0,"creation_date":1695344337,"post_id":77131534,"comment_id":136015309,"body_markdown":"Thank you @jewelsea for your reply. I have been researching how to achieve my goal through jpackage.","body":"Thank you @jewelsea for your reply. I have been researching how to achieve my goal through jpackage."}],"owner":{"account_id":1384866,"reputation":1,"user_id":1317113,"display_name":"user1317113"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695093620,"creation_date":1695093620,"question_id":77131534,"body_markdown":"Currently, in Intellij, it is possible to package JavaFX into an installation file through artifacts.\r\n\r\nHow can other installation files be included in the packaging process (such as the MSSQL installation file)?\r\n\r\nAnd through this installation file, other files can be installed during installation.\r\n\r\nCurrently, only packaging is done on Intellij, and there has been no attempt to package through other software.","title":"How to include other exe files when packaging JavaFX into an exe?","body":"<p>Currently, in Intellij, it is possible to package JavaFX into an installation file through artifacts.</p>\n<p>How can other installation files be included in the packaging process (such as the MSSQL installation file)?</p>\n<p>And through this installation file, other files can be installed during installation.</p>\n<p>Currently, only packaging is done on Intellij, and there has been no attempt to package through other software.</p>\n"},{"tags":["java","android","gradle","directory-structure"],"comments":[{"owner":{"account_id":6355611,"reputation":31437,"user_id":4933038,"display_name":"Eric Martinez"},"score":0,"creation_date":1433368187,"post_id":30631286,"comment_id":49328312,"body_markdown":"In my case, using Win 7, the default installation path is `C:\\Program files\\Java\\&quot;, see if it was installed in there.","body":"In my case, using Win 7, the default installation path is `C:\\Program files\\Java\\&quot;, see if it was installed in there."}],"answers":[{"tags":[],"owner":{"account_id":498784,"reputation":9541,"user_id":2448294,"accept_rate":73,"display_name":"Ben Kane"},"down_vote_count":1,"up_vote_count":243,"is_accepted":true,"score":242,"last_activity_date":1695093475,"creation_date":1433368129,"answer_id":30631386,"question_id":30631286,"body_markdown":"You can use &lt;kbd&gt;cmd&lt;/kbd&gt; + &lt;kbd&gt;,&lt;/kbd&gt; for Mac or &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;Alt&lt;/kbd&gt; + &lt;kbd&gt;S&lt;/kbd&gt; for Windows/Linux to pull up the Settings dialog. Then, go to &quot;Build, Execution, Deployment &gt; Build Tools &gt; Gradle&quot;. In there, you can set the JDK location.\r\n\r\n![Gradle Settings][1]\r\n\r\nTo get your JDK location, run `/usr/libexec/java_home -v 11` in terminal. Send 1.7 for Java 7, 1.8 for Java 8, or 11 for Java 11.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qHtVe.png","title":"How to specify the JDK version in Android Studio?","body":"<p>You can use <kbd>cmd</kbd> + <kbd>,</kbd> for Mac or <kbd>Ctrl</kbd> + <kbd>Alt</kbd> + <kbd>S</kbd> for Windows/Linux to pull up the Settings dialog. Then, go to &quot;Build, Execution, Deployment &gt; Build Tools &gt; Gradle&quot;. In there, you can set the JDK location.</p>\n<p><img src=\"https://i.stack.imgur.com/qHtVe.png\" alt=\"Gradle Settings\" /></p>\n<p>To get your JDK location, run <code>/usr/libexec/java_home -v 11</code> in terminal. Send 1.7 for Java 7, 1.8 for Java 8, or 11 for Java 11.</p>\n"},{"tags":[],"owner":{"account_id":8179487,"reputation":1825,"user_id":6157185,"display_name":"Rishabh"},"down_vote_count":7,"up_vote_count":35,"is_accepted":false,"score":28,"last_activity_date":1625321135,"creation_date":1521711157,"answer_id":49425010,"question_id":30631286,"body_markdown":"For new Android Studio versions, go to C:\\Program Files\\Android\\Android Studio\\jre\\bin(or to location of Android Studio installed files) and open command window at this location and type in following command in command prompt:-\r\n\r\n    java -version","title":"How to specify the JDK version in Android Studio?","body":"<p>For new Android Studio versions, go to C:\\Program Files\\Android\\Android Studio\\jre\\bin(or to location of Android Studio installed files) and open command window at this location and type in following command in command prompt:-</p>\n<pre><code>java -version\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3781543,"reputation":159,"user_id":3140868,"display_name":"Lorraine"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1543536912,"creation_date":1543530096,"answer_id":53548478,"question_id":30631286,"body_markdown":"On a Mac, you can use terminal to go to `/Applications/Android Studio.app/Contents/jre/jdk/Contents/Home` (or wherever your Android SDK is installed) and enter the following in the command prompt:\r\n\r\n\r\n    ./java -version","title":"How to specify the JDK version in Android Studio?","body":"<p>On a Mac, you can use terminal to go to <code>/Applications/Android Studio.app/Contents/jre/jdk/Contents/Home</code> (or wherever your Android SDK is installed) and enter the following in the command prompt:</p>\n\n<pre><code>./java -version\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4708131,"reputation":374,"user_id":3809570,"display_name":"Vishwa Pratap"},"down_vote_count":8,"up_vote_count":11,"is_accepted":false,"score":3,"last_activity_date":1589079615,"creation_date":1589079615,"answer_id":61706625,"question_id":30631286,"body_markdown":"This is old question but still my answer may help someone\r\n \r\nFor checking Java version in android studio version , \r\nsimply open Terminal of Android Studio and type\r\n\r\n    java -version \r\n\r\nThis will display java version installed in android studio","title":"How to specify the JDK version in Android Studio?","body":"<p>This is old question but still my answer may help someone</p>\n\n<p>For checking Java version in android studio version , \nsimply open Terminal of Android Studio and type</p>\n\n<pre><code>java -version \n</code></pre>\n\n<p>This will display java version installed in android studio</p>\n"},{"tags":[],"owner":{"account_id":2321321,"reputation":2169,"user_id":2036983,"display_name":"Jonathan Rosenne"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1597516821,"creation_date":1597516821,"answer_id":63429624,"question_id":30631286,"body_markdown":"In Android Studio 4.0.1, Help -&gt; About shows the details of the Java version used by the studio, in my case:\r\n\r\n    Android Studio 4.0.1\r\n    Build #AI-193.6911.18.40.6626763, built on June 25, 2020\r\n    Runtime version: 1.8.0_242-release-1644-b01 amd64\r\n    VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o\r\n    Windows 10 10.0\r\n    GC: ParNew, ConcurrentMarkSweep\r\n    Memory: 1237M\r\n    Cores: 8\r\n    Registry: ide.new.welcome.screen.force=true\r\n    Non-Bundled Plugins: com.google.services.firebase","title":"How to specify the JDK version in Android Studio?","body":"<p>In Android Studio 4.0.1, Help -&gt; About shows the details of the Java version used by the studio, in my case:</p>\n<pre><code>Android Studio 4.0.1\nBuild #AI-193.6911.18.40.6626763, built on June 25, 2020\nRuntime version: 1.8.0_242-release-1644-b01 amd64\nVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o\nWindows 10 10.0\nGC: ParNew, ConcurrentMarkSweep\nMemory: 1237M\nCores: 8\nRegistry: ide.new.welcome.screen.force=true\nNon-Bundled Plugins: com.google.services.firebase\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12656228,"reputation":1067,"user_id":9198676,"display_name":"Matthieu Esnault"},"down_vote_count":1,"up_vote_count":74,"is_accepted":false,"score":73,"last_activity_date":1640532239,"creation_date":1620291101,"answer_id":67414820,"question_id":30631286,"body_markdown":"Android Studio Arctic Fox (2020.3.1)\r\n------------------------------------\r\n\r\nIn Android Studio Arctic Fox (2020.3.1 Patch 4), the JDK Location setting is moved to:\r\n```\r\nFile &gt; Settings &gt; Build, Execution, Deployment &gt; Build Tools &gt; Gradle &gt; Gradle JDK\r\n```\r\n\r\nUp to Android Studio 4.2\r\n------------------------\r\n\r\nYou can follow the answer from Ben Kane, the JDK Location setting is located in:\r\n```\r\nFile &gt; Project Structure &gt; SDK Location\r\n```","title":"How to specify the JDK version in Android Studio?","body":"<h2>Android Studio Arctic Fox (2020.3.1)</h2>\n<p>In Android Studio Arctic Fox (2020.3.1 Patch 4), the JDK Location setting is moved to:</p>\n<pre><code>File &gt; Settings &gt; Build, Execution, Deployment &gt; Build Tools &gt; Gradle &gt; Gradle JDK\n</code></pre>\n<h2>Up to Android Studio 4.2</h2>\n<p>You can follow the answer from Ben Kane, the JDK Location setting is located in:</p>\n<pre><code>File &gt; Project Structure &gt; SDK Location\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6598561,"reputation":4268,"user_id":5097539,"accept_rate":17,"display_name":"Francis Bacon"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1624454856,"creation_date":1624454446,"answer_id":68100650,"question_id":30631286,"body_markdown":"[![Check the JDK you use in Android Studio][1]][1]\r\n\r\nThe `gradle sync` uses the following JDK location:\r\n\r\nIn Android Studio, `File` -&gt; `Project Structure`\r\n\r\nNavigate to the `SDK Location`.\r\n\r\n[![Android Studio 4.1.0 JDK Location][2]][2]\r\n\r\n\r\n    cd /Applications/Android\\ Studio\\ 4.1.0.app/Contents/jre/jdk/Contents/Home\r\n\r\n    ➜  Home ./bin/java --version\r\n    openjdk 11.0.8 2020-07-14\r\n    OpenJDK Runtime Environment (build 11.0.8+10-b944.6916264)\r\n    OpenJDK 64-Bit Server VM (build 11.0.8+10-b944.6916264, mixed mode)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jWRBD.png\r\n  [2]: https://i.stack.imgur.com/5r3wN.png","title":"How to specify the JDK version in Android Studio?","body":"<p><a href=\"https://i.stack.imgur.com/jWRBD.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/jWRBD.png\" alt=\"Check the JDK you use in Android Studio\" /></a></p>\n<p>The <code>gradle sync</code> uses the following JDK location:</p>\n<p>In Android Studio, <code>File</code> -&gt; <code>Project Structure</code></p>\n<p>Navigate to the <code>SDK Location</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/5r3wN.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/5r3wN.png\" alt=\"Android Studio 4.1.0 JDK Location\" /></a></p>\n<pre><code>cd /Applications/Android\\ Studio\\ 4.1.0.app/Contents/jre/jdk/Contents/Home\n\n➜  Home ./bin/java --version\nopenjdk 11.0.8 2020-07-14\nOpenJDK Runtime Environment (build 11.0.8+10-b944.6916264)\nOpenJDK 64-Bit Server VM (build 11.0.8+10-b944.6916264, mixed mode)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2300522,"reputation":21,"user_id":2020898,"display_name":"user2020898"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632902040,"creation_date":1632902040,"answer_id":69372480,"question_id":30631286,"body_markdown":"1. gradle.properties:org.gradle.java.home=/Applications/Android\\ Studio.app/Contents/jre/Contents/Home\r\n2. ./gradlew assembleDebug -Dorg.gradle.java.home=/Applications/Android\\ Studio.app/Contents/jre/Contents/Home\r\n","title":"How to specify the JDK version in Android Studio?","body":"<ol>\n<li>gradle.properties:org.gradle.java.home=/Applications/Android\\ Studio.app/Contents/jre/Contents/Home</li>\n<li>./gradlew assembleDebug -Dorg.gradle.java.home=/Applications/Android\\ Studio.app/Contents/jre/Contents/Home</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":934321,"reputation":2176,"user_id":963543,"accept_rate":69,"display_name":"Ata Iravani"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685524391,"creation_date":1685524391,"answer_id":76371904,"question_id":30631286,"body_markdown":"For the latest version (**2022.2.1 Patch 2**) at this time, The setting has been moved to gradle setting.\r\n\r\nSo just open the project structure through **File** &gt; **Project Structure**, Select **SDK Location** from left menu, click on **Gradle Settings**.\r\n\r\nHere select the Gradle JDK you want. I would suggest to select the **Android Studio Java Home** option.\r\n\r\n\r\n[![Android Studio Gradle Setting][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AHQz4.png\r\n\r\n","title":"How to specify the JDK version in Android Studio?","body":"<p>For the latest version (<strong>2022.2.1 Patch 2</strong>) at this time, The setting has been moved to gradle setting.</p>\n<p>So just open the project structure through <strong>File</strong> &gt; <strong>Project Structure</strong>, Select <strong>SDK Location</strong> from left menu, click on <strong>Gradle Settings</strong>.</p>\n<p>Here select the Gradle JDK you want. I would suggest to select the <strong>Android Studio Java Home</strong> option.</p>\n<p><a href=\"https://i.stack.imgur.com/AHQz4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AHQz4.png\" alt=\"Android Studio Gradle Setting\" /></a></p>\n"},{"tags":[],"owner":{"account_id":4085133,"reputation":595,"user_id":3354594,"accept_rate":33,"display_name":"charitha amarasinghe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692607019,"creation_date":1692607019,"answer_id":76943640,"question_id":30631286,"body_markdown":"to set the Java version from the android studio terminal write this command on the terminal (MAC)\r\n\r\n cammand -&gt;\r\n export JAVA_HOME=&#39;-- java home path (can get from Preferences-&gt; Build,Execution,Deployement -&gt; Gradle&#39;\r\n\r\n\r\nexample (set java 11)-&gt; \r\n\r\n    export JAVA_HOME=&#39;/Applications/jdk-11.0.16.1.jdk/Contents/Home&#39;\r\n\r\n\r\nthen you can check whether is it changed or not using `java -version` command\r\n","title":"How to specify the JDK version in Android Studio?","body":"<p>to set the Java version from the android studio terminal write this command on the terminal (MAC)</p>\n<p>cammand -&gt;\nexport JAVA_HOME='-- java home path (can get from Preferences-&gt; Build,Execution,Deployement -&gt; Gradle'</p>\n<p>example (set java 11)-&gt;</p>\n<pre><code>export JAVA_HOME='/Applications/jdk-11.0.16.1.jdk/Contents/Home'\n</code></pre>\n<p>then you can check whether is it changed or not using <code>java -version</code> command</p>\n"}],"owner":{"account_id":6236701,"reputation":2366,"user_id":4851777,"accept_rate":74,"display_name":"ThePartyTurtle"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":300897,"favorite_count":0,"down_vote_count":0,"up_vote_count":144,"accepted_answer_id":30631386,"answer_count":10,"score":144,"last_activity_date":1695093475,"creation_date":1433367758,"question_id":30631286,"body_markdown":"Android Studio is giving me a Gradle build error that looks like this:\r\n\r\n    Error:(3, 22) compileSdkVersion android-22 requires compiling with JDK 7\r\n\r\nNow it gives me these clickable prompts:\r\n\r\n    Download JDK 7\r\n    Select a JDK from the File System\r\n    Open build.gradle File\r\n\r\nAnd I have already downloaded and installed JDK 7. The problem is when I go to select it in the &quot;File System&quot; i can only find a directory named 1.6.0 JDK. Furthermore, the installation of JDK 7 skipped the bullet point where I would&#39;ve selected the install directory, so I&#39;m really not sure where it is. My java control panel says I have &quot;Java 7 Update 79&quot; so I&#39;m pretty sure I&#39;m close, I just need to tell android studio where it is. I also ran the `java -version` command in the terminal and it says my version is &quot;1.7.0_79&quot;.\r\n\r\nAny help would be appreciated!\r\n\r\n","title":"How to specify the JDK version in Android Studio?","body":"<p>Android Studio is giving me a Gradle build error that looks like this:</p>\n<pre><code>Error:(3, 22) compileSdkVersion android-22 requires compiling with JDK 7\n</code></pre>\n<p>Now it gives me these clickable prompts:</p>\n<pre><code>Download JDK 7\nSelect a JDK from the File System\nOpen build.gradle File\n</code></pre>\n<p>And I have already downloaded and installed JDK 7. The problem is when I go to select it in the &quot;File System&quot; i can only find a directory named 1.6.0 JDK. Furthermore, the installation of JDK 7 skipped the bullet point where I would've selected the install directory, so I'm really not sure where it is. My java control panel says I have &quot;Java 7 Update 79&quot; so I'm pretty sure I'm close, I just need to tell android studio where it is. I also ran the <code>java -version</code> command in the terminal and it says my version is &quot;1.7.0_79&quot;.</p>\n<p>Any help would be appreciated!</p>\n"},{"tags":["java","android","namespaces","apache-poi"],"comments":[{"owner":{"account_id":3696546,"reputation":543,"user_id":3077735,"accept_rate":75,"display_name":"anestv"},"score":0,"creation_date":1644066693,"post_id":70955510,"comment_id":125509523,"body_markdown":"Does [this question help?](https://stackoverflow.com/questions/52992755/apache-poi-poi-ooxml4-0-0-throws-org-apache-poi-ooxml-poixmlexception)","body":"Does <a href=\"https://stackoverflow.com/questions/52992755/apache-poi-poi-ooxml4-0-0-throws-org-apache-poi-ooxml-poixmlexception\">this question help?</a>"}],"answers":[{"tags":[],"owner":{"account_id":25768826,"reputation":1,"user_id":19518054,"display_name":"Drex"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1659132730,"creation_date":1659132024,"answer_id":73171358,"question_id":70955510,"body_markdown":"download and integrate into your project\r\nhttps://github.com/centic9/poi-on-android/releases","title":"Error with xlsx file in android studio using Apache poi","body":"<p>download and integrate into your project\n<a href=\"https://github.com/centic9/poi-on-android/releases\" rel=\"nofollow noreferrer\">https://github.com/centic9/poi-on-android/releases</a></p>\n"},{"tags":[],"owner":{"account_id":23147757,"reputation":1,"user_id":17250276,"display_name":"Saurav Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695093413,"creation_date":1694774645,"answer_id":77111704,"question_id":70955510,"body_markdown":"Make sure you are using latest version in module level Gradle.\r\n\r\n``` \r\ndependencies {\r\n  implementation &#39;org.apache.poi:poi:5.2.3&#39;&lt;br&gt;\r\n  implementation &#39;org.apache.poi:poi-ooxml:5.2.3&#39;\r\n}\r\n```\r\n\r\n","title":"Error with xlsx file in android studio using Apache poi","body":"<p>Make sure you are using latest version in module level Gradle.</p>\n<pre><code>dependencies {\n  implementation 'org.apache.poi:poi:5.2.3'&lt;br&gt;\n  implementation 'org.apache.poi:poi-ooxml:5.2.3'\n}\n</code></pre>\n"}],"owner":{"account_id":18506286,"reputation":21,"user_id":15572036,"display_name":"aDragon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1301,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1695093413,"creation_date":1643804341,"question_id":70955510,"body_markdown":"With what that error can be connected: ```org.apache.poi.ooxml.POIXMLException: error: The &#39;namespace-prefix&#39; feature is not supported while the &#39;namespaces&#39; feature is enabled.``` ?\r\n\r\nI&#39;m just trying to understand to how can I work with Excel file and that error stuck me so much.\r\nIn my Excel sheet I have one row and 2 columns, in the first column - some number, in the second - some text. \r\n\r\nMy MainActivity and implementation&#39;s code below.\r\n\r\nMainActivity: \r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity{\r\n    TextView TextView;\r\n    private static final String TAG = &quot;myLogs&quot;;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        TextView = findViewById(R.id.textView3);\r\n        TextView.setText(&quot;SomeText&quot;);\r\n\r\n        try {\r\n\r\n            AssetManager am=getAssets();\r\n            InputStream is=am.open(&quot;MyTest.xlsx&quot;);\r\n            XSSFWorkbook book = new XSSFWorkbook(is);\r\n            XSSFSheet mySheet = book.getSheet(&quot;0&quot;);\r\n            XSSFRow row = mySheet.getRow(0);\r\n\r\n            if(row.getCell(0).getCellType() == CellType.STRING){\r\n                String name = row.getCell(0).getStringCellValue();\r\n                Log.d(TAG,&quot;/////////////////////////////////////////////////////////////////////////////////////name : &quot; + name);\r\n            }\r\n            if(row.getCell(0).getCellType() == CellType.NUMERIC){\r\n                double date = row.getCell(0).getNumericCellValue();\r\n                Log.d(TAG,&quot;/////////////////////////////////////////////////////////////////////////////////////date : : &quot; + date);\r\n            }\r\n\r\n            book.close();\r\n            TextView.setText(&quot;SomeText after all&quot;);\r\n\r\n        } catch(Exception ex) {\r\n            Log.d(TAG, &quot;Loooooooooooooooooooooooooooooooooooooooooooooooooooooolg &quot;+String.valueOf(ex));\r\n            return;\r\n        }\r\n    }\r\n}\r\n```\r\nImplementation&#39;s:\r\n\r\n```\r\nimplementation &#39;androidx.appcompat:appcompat:1.4.0&#39;\r\nimplementation &#39;com.google.android.material:material:1.4.0&#39;\r\nimplementation &#39;androidx.constraintlayout:constraintlayout:2.1.2&#39;\r\nimplementation files(&#39;libs\\\\commons-codec-1.15.jar&#39;)\r\nimplementation files(&#39;libs\\\\commons-compress-1.21.jar&#39;)\r\nimplementation files(&#39;libs\\\\commons-logging-1.2.jar&#39;)\r\nimplementation files(&#39;libs\\\\curvesapi-1.06.jar&#39;)\r\nimplementation files(&#39;libs\\\\poi-5.1.0.jar&#39;)\r\nimplementation files(&#39;libs\\\\poi-ooxml-5.1.0.jar&#39;)\r\n\r\nimplementation files(&#39;libs\\\\slf4j-api-1.7.32.jar&#39;)\r\nimplementation files(&#39;libs\\\\xmlbeans-5.0.2.jar&#39;)\r\nimplementation files(&#39;libs\\\\log4j-api-2.14.1.jar&#39;)\r\nimplementation files(&#39;libs\\\\commons-io-2.11.0.jar&#39;)\r\nimplementation files(&#39;libs\\\\commons-math3-3.6.1.jar&#39;)\r\nimplementation files(&#39;libs\\\\poi-ooxml-lite-5.1.0.jar&#39;)\r\n\r\ntestImplementation &#39;junit:junit:4.+&#39;\r\nandroidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\nandroidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n```","title":"Error with xlsx file in android studio using Apache poi","body":"<p>With what that error can be connected: <code>org.apache.poi.ooxml.POIXMLException: error: The 'namespace-prefix' feature is not supported while the 'namespaces' feature is enabled.</code> ?</p>\n<p>I'm just trying to understand to how can I work with Excel file and that error stuck me so much.\nIn my Excel sheet I have one row and 2 columns, in the first column - some number, in the second - some text.</p>\n<p>My MainActivity and implementation's code below.</p>\n<p>MainActivity:</p>\n<pre><code>public class MainActivity extends AppCompatActivity{\n    TextView TextView;\n    private static final String TAG = &quot;myLogs&quot;;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        TextView = findViewById(R.id.textView3);\n        TextView.setText(&quot;SomeText&quot;);\n\n        try {\n\n            AssetManager am=getAssets();\n            InputStream is=am.open(&quot;MyTest.xlsx&quot;);\n            XSSFWorkbook book = new XSSFWorkbook(is);\n            XSSFSheet mySheet = book.getSheet(&quot;0&quot;);\n            XSSFRow row = mySheet.getRow(0);\n\n            if(row.getCell(0).getCellType() == CellType.STRING){\n                String name = row.getCell(0).getStringCellValue();\n                Log.d(TAG,&quot;/////////////////////////////////////////////////////////////////////////////////////name : &quot; + name);\n            }\n            if(row.getCell(0).getCellType() == CellType.NUMERIC){\n                double date = row.getCell(0).getNumericCellValue();\n                Log.d(TAG,&quot;/////////////////////////////////////////////////////////////////////////////////////date : : &quot; + date);\n            }\n\n            book.close();\n            TextView.setText(&quot;SomeText after all&quot;);\n\n        } catch(Exception ex) {\n            Log.d(TAG, &quot;Loooooooooooooooooooooooooooooooooooooooooooooooooooooolg &quot;+String.valueOf(ex));\n            return;\n        }\n    }\n}\n</code></pre>\n<p>Implementation's:</p>\n<pre><code>implementation 'androidx.appcompat:appcompat:1.4.0'\nimplementation 'com.google.android.material:material:1.4.0'\nimplementation 'androidx.constraintlayout:constraintlayout:2.1.2'\nimplementation files('libs\\\\commons-codec-1.15.jar')\nimplementation files('libs\\\\commons-compress-1.21.jar')\nimplementation files('libs\\\\commons-logging-1.2.jar')\nimplementation files('libs\\\\curvesapi-1.06.jar')\nimplementation files('libs\\\\poi-5.1.0.jar')\nimplementation files('libs\\\\poi-ooxml-5.1.0.jar')\n\nimplementation files('libs\\\\slf4j-api-1.7.32.jar')\nimplementation files('libs\\\\xmlbeans-5.0.2.jar')\nimplementation files('libs\\\\log4j-api-2.14.1.jar')\nimplementation files('libs\\\\commons-io-2.11.0.jar')\nimplementation files('libs\\\\commons-math3-3.6.1.jar')\nimplementation files('libs\\\\poi-ooxml-lite-5.1.0.jar')\n\ntestImplementation 'junit:junit:4.+'\nandroidTestImplementation 'androidx.test.ext:junit:1.1.3'\nandroidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n</code></pre>\n"},{"tags":["java","type-conversion"],"answers":[{"tags":[],"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695093248,"creation_date":1695092810,"answer_id":77131489,"question_id":77131477,"body_markdown":"The `+` operator is overloaded for `String` and e.g, `int`, and it converts the `int` first to `Integer`, then to `String`, and finally concatenates the two strings.\r\n\r\nSee [the Java language specification](https://docs.oracle.com/javase/specs/jls/se6/html/expressions.html#15.18.1)\r\n\r\nAlso note that you can convert anything, including `Integer`, to `String` by calling the [toString][1] method inherited from `Object`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html#toString()","title":"Type Conversion (int to string)","body":"<p>The <code>+</code> operator is overloaded for <code>String</code> and e.g, <code>int</code>, and it converts the <code>int</code> first to <code>Integer</code>, then to <code>String</code>, and finally concatenates the two strings.</p>\n<p>See <a href=\"https://docs.oracle.com/javase/specs/jls/se6/html/expressions.html#15.18.1\" rel=\"nofollow noreferrer\">the Java language specification</a></p>\n<p>Also note that you can convert anything, including <code>Integer</code>, to <code>String</code> by calling the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html#toString()\" rel=\"nofollow noreferrer\">toString</a> method inherited from <code>Object</code>.</p>\n"},{"tags":[],"owner":{"account_id":8985445,"reputation":21,"user_id":6699137,"display_name":"Dolores"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695093164,"creation_date":1695093164,"answer_id":77131508,"question_id":77131477,"body_markdown":"It&#39;s not possible. There is a mismatch between your code and output.\r\n```\r\njshell&gt; int i = 5;\r\ni ==&gt; 5\r\n\r\njshell&gt; String str = &quot;&quot;;\r\nstr ==&gt; &quot;&quot;\r\n\r\njshell&gt; str = str + i;\r\nstr ==&gt; &quot;5&quot;\r\n```\r\n","title":"Type Conversion (int to string)","body":"<p>It's not possible. There is a mismatch between your code and output.</p>\n<pre><code>jshell&gt; int i = 5;\ni ==&gt; 5\n\njshell&gt; String str = &quot;&quot;;\nstr ==&gt; &quot;&quot;\n\njshell&gt; str = str + i;\nstr ==&gt; &quot;5&quot;\n</code></pre>\n"}],"owner":{"account_id":29478321,"reputation":1,"user_id":22589572,"display_name":"Karan Suthar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1695092858,"answer_count":2,"score":0,"last_activity_date":1695093248,"creation_date":1695092609,"question_id":77131477,"body_markdown":"We can&#39;t convert from int to string then how and why the given code is running without any issue? \r\n\r\n```java\r\nint i = 5;\r\nString str = &quot;&quot;;\r\nstr = str + i;\r\nSystem.out.println(str);\r\n```\r\n\r\nOutput:\r\n\r\n```none\r\n55\r\n```\r\n\r\nWhy I am getting output as 55 as we can&#39;t convert from int to string?","title":"Type Conversion (int to string)","body":"<p>We can't convert from int to string then how and why the given code is running without any issue?</p>\n<pre class=\"lang-java prettyprint-override\"><code>int i = 5;\nString str = &quot;&quot;;\nstr = str + i;\nSystem.out.println(str);\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>55\n</code></pre>\n<p>Why I am getting output as 55 as we can't convert from int to string?</p>\n"},{"tags":["java","spring","amazon-web-services","spring-boot"],"comments":[{"owner":{"account_id":2030,"reputation":50607,"user_id":2788,"accept_rate":69,"display_name":"Strelok"},"score":0,"creation_date":1667916074,"post_id":74361461,"comment_id":131278170,"body_markdown":"You’re not using your `myCredentialsProvider` variable. But if you’re running on an EC2 instance, the recommended way is to give the instance role the required permissions and let the AWS SDK use it without having to create access keys.","body":"You’re not using your <code>myCredentialsProvider</code> variable. But if you’re running on an EC2 instance, the recommended way is to give the instance role the required permissions and let the AWS SDK use it without having to create access keys."},{"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1667916327,"post_id":74361461,"comment_id":131278260,"body_markdown":"Does this answer your question? [Cannot authenticate into my Opensearch cluster](https://stackoverflow.com/questions/74346380/cannot-authenticate-into-my-opensearch-cluster)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/74346380/cannot-authenticate-into-my-opensearch-cluster\">Cannot authenticate into my Opensearch cluster</a>"},{"owner":{"account_id":26790326,"reputation":11,"user_id":20383836,"display_name":"abc"},"score":0,"creation_date":1667917225,"post_id":74361461,"comment_id":131278602,"body_markdown":"Hi @Strelok I am using the AWS Opensearch service https://aws.amazon.com/what-is/opensearch/","body":"Hi @Strelok I am using the AWS Opensearch service <a href=\"https://aws.amazon.com/what-is/opensearch/\" rel=\"nofollow noreferrer\">aws.amazon.com/what-is/opensearch</a>"},{"owner":{"account_id":468928,"reputation":115,"user_id":875183,"display_name":"sachin"},"score":0,"creation_date":1676057990,"post_id":74361461,"comment_id":133068109,"body_markdown":"I am also facing the same issue any pointers to issue is of great help","body":"I am also facing the same issue any pointers to issue is of great help"}],"answers":[{"tags":[],"owner":{"account_id":11265941,"reputation":1,"user_id":8262754,"display_name":"slemly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695093235,"creation_date":1695049924,"answer_id":77128378,"question_id":74361461,"body_markdown":"This worked for me -\r\n\r\n\r\n```lang-java\r\n\r\n    @Bean\r\n    public OpenSearchClient myOpensearchClient(){\r\n        final BasicAwsCredentials credentials = new BasicAwsCredentials(accessKeyId, secretAccessKey);\r\n        final AwsCredentialsProvider provider = StaticCredentialsProvider\r\n            .create(credentials);\r\n\r\n        SdkHttpClient httpClient = ApacheHttpClient.builder().build();\r\n        OpenSearchTransport transport = new AwsSdk2Transport(\r\n            httpClient, \r\n            opensearchEndpoint, \r\n            Region.&lt;your_region&gt;, \r\n            AwsSdk2TransportOptions.builder()\r\n                .setCredentials(provider)\r\n                .build());\r\n        return new OpenSearchClient(transport);\r\n    }\r\n```\r\n","title":"Cannot authenticate into AWS Opensearch in Spring Boot","body":"<p>This worked for me -</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    @Bean\n    public OpenSearchClient myOpensearchClient(){\n        final BasicAwsCredentials credentials = new BasicAwsCredentials(accessKeyId, secretAccessKey);\n        final AwsCredentialsProvider provider = StaticCredentialsProvider\n            .create(credentials);\n\n        SdkHttpClient httpClient = ApacheHttpClient.builder().build();\n        OpenSearchTransport transport = new AwsSdk2Transport(\n            httpClient, \n            opensearchEndpoint, \n            Region.&lt;your_region&gt;, \n            AwsSdk2TransportOptions.builder()\n                .setCredentials(provider)\n                .build());\n        return new OpenSearchClient(transport);\n    }\n</code></pre>\n"}],"owner":{"account_id":26790326,"reputation":11,"user_id":20383836,"display_name":"abc"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1260,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695093235,"creation_date":1667913752,"question_id":74361461,"body_markdown":"I am using Java, Spring, Spring boot and AWS Sdk to authenticate/login into my OpenSearch Cluster on AWS.\r\nHere is the article I&#39;m following in the AWS Docs:\r\nhttps://docs.aws.amazon.com/opensearch-service/latest/developerguide/request-signing.html#request-signing-java\r\n\r\nI have my AWS credentials configured globally and I am basically trying to sign my requests with my credentials (accessKeyId, secretAccessKey), however, It&#39;s not recognizing that my credentials are configured.\r\n\r\n**Here is my configuration class:**\r\n\r\n    \r\n\t@Configuration\r\n\tpublic class PostsOpenSearchRestClientConfiguration {\r\n\t\tprivate String opensearchEndpoint = &quot;https://search-posts-a1b2c3d4e5f6g7.us-east-1.es.amazonaws.com&quot;;\r\n\t\tprivate int opensearchPort = 9200;\r\n\t\tprivate String scheme = &quot;https&quot;;\r\n\t\tprivate String region = &quot;us-east-1&quot;;\r\n\t\tprivate String myServiceName = &quot;es&quot;;\r\n\t\tprivate String opensearchClusterUsername = &quot;myUser&quot;;\r\n\t\tprivate String opensearchClusterPassword = &quot;myPass&quot;;\r\n\r\n\t\t\r\n\t\tprivate String accessKeyId = &quot;abcdefxxxxx&quot;;\r\n\t\tprivate String secretAccessKey = &quot;123xxxxxxxxxxx&quot;;\r\n\r\n\t\t@Bean\r\n\t\tpublic OpenSearchClient myOpensearchClient(){\r\n\t\t\tfinal BasicAWSCredentials myCredentialsProvider = new BasicAWSCredentials(accessKeyId, secretAccessKey);\r\n\t\t\tSdkHttpClient httpClient = ApacheHttpClient.builder().build();\r\n\t\t\tOpenSearchTransport transport = new AwsSdk2Transport(httpClient, opensearchEndpoint, Region.US_EAST_1, AwsSdk2TransportOptions.builder().build());\r\n\t\t\treturn new OpenSearchClient(transport);\r\n\t\t}\r\n\t}\r\n\r\n\r\n**Here is the error I&#39;m getting:**\r\n\r\n&gt; software.amazon.awssdk.core.exception.SdkClientException: \r\n**Unable to load credentials from any of the providers in the chain AwsCredentialsProviderChain**(credentialsProviders=[SystemPropertyCredentialsProvider(), \r\nEnvironmentVariableCredentialsProvider(), WebIdentityTokenCredentialsProvider(), ProfileCredentialsProvider(profileName=default), \r\nContainerCredentialsProvider(), InstanceProfileCredentialsProvider()]) : [SystemPropertyCredentialsProvider(): \r\n**Unable to load credentials from system settings. Access key must be specified either via environment variable (AWS_ACCESS_KEY_ID) or system property (aws.accessKeyId)., EnvironmentVariableCredentialsProvider(): Unable to load credentials from system settings. Access key must be specified either via environment variable (AWS_ACCESS_KEY_ID) or system property (aws.accessKeyId).**, WebIdentityTokenCredentialsProvider(): Either the environment variable AWS_WEB_IDENTITY_TOKEN_FILE \r\nor the javaproperty aws.webIdentityTokenFile must be set., ProfileCredentialsProvider(profileName=default): Expected an &#39;=&#39; sign defining a property on line 4, ContainerCredentialsProvider(): Cannot fetch credentials from container - neither AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI environment variables are set., InstanceProfileCredentialsProvider(): Failed to \r\nload credentials from IMDS.]\r\n\r\n\r\nWhat am I doing wrong ?","title":"Cannot authenticate into AWS Opensearch in Spring Boot","body":"<p>I am using Java, Spring, Spring boot and AWS Sdk to authenticate/login into my OpenSearch Cluster on AWS.\nHere is the article I'm following in the AWS Docs:\n<a href=\"https://docs.aws.amazon.com/opensearch-service/latest/developerguide/request-signing.html#request-signing-java\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/opensearch-service/latest/developerguide/request-signing.html#request-signing-java</a></p>\n<p>I have my AWS credentials configured globally and I am basically trying to sign my requests with my credentials (accessKeyId, secretAccessKey), however, It's not recognizing that my credentials are configured.</p>\n<p><strong>Here is my configuration class:</strong></p>\n<pre><code>@Configuration\npublic class PostsOpenSearchRestClientConfiguration {\n    private String opensearchEndpoint = &quot;https://search-posts-a1b2c3d4e5f6g7.us-east-1.es.amazonaws.com&quot;;\n    private int opensearchPort = 9200;\n    private String scheme = &quot;https&quot;;\n    private String region = &quot;us-east-1&quot;;\n    private String myServiceName = &quot;es&quot;;\n    private String opensearchClusterUsername = &quot;myUser&quot;;\n    private String opensearchClusterPassword = &quot;myPass&quot;;\n\n    \n    private String accessKeyId = &quot;abcdefxxxxx&quot;;\n    private String secretAccessKey = &quot;123xxxxxxxxxxx&quot;;\n\n    @Bean\n    public OpenSearchClient myOpensearchClient(){\n        final BasicAWSCredentials myCredentialsProvider = new BasicAWSCredentials(accessKeyId, secretAccessKey);\n        SdkHttpClient httpClient = ApacheHttpClient.builder().build();\n        OpenSearchTransport transport = new AwsSdk2Transport(httpClient, opensearchEndpoint, Region.US_EAST_1, AwsSdk2TransportOptions.builder().build());\n        return new OpenSearchClient(transport);\n    }\n}\n</code></pre>\n<p><strong>Here is the error I'm getting:</strong></p>\n<blockquote>\n<p>software.amazon.awssdk.core.exception.SdkClientException:\n<strong>Unable to load credentials from any of the providers in the chain AwsCredentialsProviderChain</strong>(credentialsProviders=[SystemPropertyCredentialsProvider(),\nEnvironmentVariableCredentialsProvider(), WebIdentityTokenCredentialsProvider(), ProfileCredentialsProvider(profileName=default),\nContainerCredentialsProvider(), InstanceProfileCredentialsProvider()]) : [SystemPropertyCredentialsProvider():\n<strong>Unable to load credentials from system settings. Access key must be specified either via environment variable (AWS_ACCESS_KEY_ID) or system property (aws.accessKeyId)., EnvironmentVariableCredentialsProvider(): Unable to load credentials from system settings. Access key must be specified either via environment variable (AWS_ACCESS_KEY_ID) or system property (aws.accessKeyId).</strong>, WebIdentityTokenCredentialsProvider(): Either the environment variable AWS_WEB_IDENTITY_TOKEN_FILE\nor the javaproperty aws.webIdentityTokenFile must be set., ProfileCredentialsProvider(profileName=default): Expected an '=' sign defining a property on line 4, ContainerCredentialsProvider(): Cannot fetch credentials from container - neither AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI environment variables are set., InstanceProfileCredentialsProvider(): Failed to\nload credentials from IMDS.]</p>\n</blockquote>\n<p>What am I doing wrong ?</p>\n"},{"tags":["java","apache-spark","google-cloud-dataproc"],"answers":[{"tags":[],"owner":{"account_id":27069247,"reputation":71,"user_id":20620127,"display_name":"Arunkumar Chacko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695093229,"creation_date":1695093229,"answer_id":77131512,"question_id":77115390,"body_markdown":"Try copying the JAR to a GCS bucket and including that in the [--jar parameter](https://cloud.google.com/sdk/gcloud/reference/dataproc/jobs/submit/spark#--jars) when you submit the job. ","title":"submit spark job to dataproc","body":"<p>Try copying the JAR to a GCS bucket and including that in the <a href=\"https://cloud.google.com/sdk/gcloud/reference/dataproc/jobs/submit/spark#--jars\" rel=\"nofollow noreferrer\">--jar parameter</a> when you submit the job.</p>\n"}],"owner":{"account_id":16548308,"reputation":39,"user_id":11957294,"display_name":"Ahmed Hesham"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1695093229,"creation_date":1694812549,"question_id":77115390,"body_markdown":"When I submit my shaded JAR to a local standalone cluster, it works fine. However, when I submit it to a Dataproc cluster, I encounter the error &quot;java.lang.NoClassDefFoundError&quot;, even though the class exists in the Maven dependency. \r\n\r\nWhy is this happening?","title":"submit spark job to dataproc","body":"<p>When I submit my shaded JAR to a local standalone cluster, it works fine. However, when I submit it to a Dataproc cluster, I encounter the error &quot;java.lang.NoClassDefFoundError&quot;, even though the class exists in the Maven dependency.</p>\n<p>Why is this happening?</p>\n"},{"tags":["java","ibm-cloud"],"answers":[{"tags":[],"owner":{"account_id":23361223,"reputation":7,"user_id":17433409,"display_name":"Texxsin"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1695090087,"creation_date":1695090087,"answer_id":77131351,"question_id":77131350,"body_markdown":"You can check the current Document limit by going into Admin Console&gt;System Info &gt; Tririga Web Files &gt; Look for the\r\n\r\n“MAXIMUM_UPLOAD_FILE_SIZE_MEGABYTES” entry.\r\n\r\n[![Document upload limit][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2Ehku.png\r\n\r\n\r\nIf no value is set the system will automatically restrict the max upload to the default value of 20 megabytes.\r\n\r\nThe limit is there to restrict unnecessary increases in the size of the database.","title":"What is the Document upload limit in a Tririga Environment ? And How can I check?","body":"<p>You can check the current Document limit by going into Admin Console&gt;System Info &gt; Tririga Web Files &gt; Look for the</p>\n<p>“MAXIMUM_UPLOAD_FILE_SIZE_MEGABYTES” entry.</p>\n<p><a href=\"https://i.stack.imgur.com/2Ehku.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2Ehku.png\" alt=\"Document upload limit\" /></a></p>\n<p>If no value is set the system will automatically restrict the max upload to the default value of 20 megabytes.</p>\n<p>The limit is there to restrict unnecessary increases in the size of the database.</p>\n"}],"owner":{"account_id":23361223,"reputation":7,"user_id":17433409,"display_name":"Texxsin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1695090087,"creation_date":1695090087,"question_id":77131350,"body_markdown":"How many sizes of documents I can upload in each Tririga environment?\r\nHow can I check?","title":"What is the Document upload limit in a Tririga Environment ? And How can I check?","body":"<p>How many sizes of documents I can upload in each Tririga environment?\nHow can I check?</p>\n"},{"tags":["java","jms","activemq-artemis"],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1695089164,"creation_date":1695089164,"answer_id":77131301,"question_id":77130137,"body_markdown":"ActiveMQ Artemis ships the &quot;core&quot; client which implements the [&quot;core&quot; API][1] - a full featured messaging API. Of course, it will require you to completely rewrite your application(s) which will nullify the main benefit you get from JMS - the ability to use different client and broker implementations with the same application code.\r\n\r\nA somewhat more reasonable approach would be to combine use of both the &quot;core&quot; and JMS APIs. This is easily possible because the core JMS client (i.e. the JMS client shipped with ActiveMQ Artemis) is actually implemented on top of the core client. For example, the implementation of JMS `Message` (i.e. `ActiveMQMessage`) has a method named `getCoreMessage` which will return the core API&#39;s [`ClientMessage`][2] which you can then use to get the core details you want. However, you&#39;ll still be sacrificing application portability even with this method.\r\n\r\nUltimately I wouldn&#39;t recommend either option. JMS provides ways to get the information your client really needs and even some implementation-specific details (e.g. via custom properties). It&#39;s not clear _why_ you would need specific details from the underlying implementation under normal circumstances.\r\n\r\n\r\n  [1]: https://activemq.apache.org/components/artemis/documentation/latest/core.html\r\n  [2]: https://activemq.apache.org/components/artemis/documentation/javadocs/javadoc-latest/org/apache/activemq/artemis/api/core/client/ClientMessage.html","title":"How to adapt JMS code to ActiveMQ Artemis code?","body":"<p>ActiveMQ Artemis ships the &quot;core&quot; client which implements the <a href=\"https://activemq.apache.org/components/artemis/documentation/latest/core.html\" rel=\"nofollow noreferrer\">&quot;core&quot; API</a> - a full featured messaging API. Of course, it will require you to completely rewrite your application(s) which will nullify the main benefit you get from JMS - the ability to use different client and broker implementations with the same application code.</p>\n<p>A somewhat more reasonable approach would be to combine use of both the &quot;core&quot; and JMS APIs. This is easily possible because the core JMS client (i.e. the JMS client shipped with ActiveMQ Artemis) is actually implemented on top of the core client. For example, the implementation of JMS <code>Message</code> (i.e. <code>ActiveMQMessage</code>) has a method named <code>getCoreMessage</code> which will return the core API's <a href=\"https://activemq.apache.org/components/artemis/documentation/javadocs/javadoc-latest/org/apache/activemq/artemis/api/core/client/ClientMessage.html\" rel=\"nofollow noreferrer\"><code>ClientMessage</code></a> which you can then use to get the core details you want. However, you'll still be sacrificing application portability even with this method.</p>\n<p>Ultimately I wouldn't recommend either option. JMS provides ways to get the information your client really needs and even some implementation-specific details (e.g. via custom properties). It's not clear <em>why</em> you would need specific details from the underlying implementation under normal circumstances.</p>\n"}],"owner":{"account_id":28568876,"reputation":127,"user_id":21871375,"display_name":"Vanish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77131301,"answer_count":1,"score":0,"last_activity_date":1695089164,"creation_date":1695067712,"question_id":77130137,"body_markdown":"I have code that simply reads a queue and receives JMS Message class objects. But this class does not have many getters, such as getPersistenSize and others. I found the answer to my question about obtaining such methods in a custom way, but asking this question makes me curious. Is it possible to rewrite my code as an object of the Message class ActiveMQ Artemis, and not Message JMS. I am also attaching a link to my previous question, which will suddenly give some hint to make it clearer what I mean in this matter.\r\nhttps://stackoverflow.com/questions/77099210/how-do-i-get-persistentsize-in-activemq-artemis-queue-via-jms/77099467?noredirect=1#comment135918820_77099467\r\n\r\nMy code:\r\n\r\n```\r\nconnectQueueBrowser();\r\nEnumeration&lt;Message&gt; messageEnumeration =  queueBrowser.getEnumeration();\r\nArrayList&lt;Message&gt; messages = new ArrayList&lt;&gt;();\r\nwhile (messageEnumeration.hasMoreElements()){\r\n   messages.add(messageEnumeration.nextElement());\r\n}\r\nSystem.out.println(messages.get(0).getBody(String.class));\r\n```\r\n","title":"How to adapt JMS code to ActiveMQ Artemis code?","body":"<p>I have code that simply reads a queue and receives JMS Message class objects. But this class does not have many getters, such as getPersistenSize and others. I found the answer to my question about obtaining such methods in a custom way, but asking this question makes me curious. Is it possible to rewrite my code as an object of the Message class ActiveMQ Artemis, and not Message JMS. I am also attaching a link to my previous question, which will suddenly give some hint to make it clearer what I mean in this matter.\n<a href=\"https://stackoverflow.com/questions/77099210/how-do-i-get-persistentsize-in-activemq-artemis-queue-via-jms/77099467?noredirect=1#comment135918820_77099467\">How do I get persistentSize in ActiveMQ Artemis queue via JMS?</a></p>\n<p>My code:</p>\n<pre><code>connectQueueBrowser();\nEnumeration&lt;Message&gt; messageEnumeration =  queueBrowser.getEnumeration();\nArrayList&lt;Message&gt; messages = new ArrayList&lt;&gt;();\nwhile (messageEnumeration.hasMoreElements()){\n   messages.add(messageEnumeration.nextElement());\n}\nSystem.out.println(messages.get(0).getBody(String.class));\n</code></pre>\n"},{"tags":["java","quartz-scheduler"],"answers":[{"tags":[],"owner":{"account_id":252715,"reputation":6160,"user_id":530933,"accept_rate":97,"display_name":"owen gerig"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695088477,"creation_date":1695088477,"answer_id":77131265,"question_id":77101619,"body_markdown":"I have since reverted quartz.jobStore.misfireThreshold.  reworked the job so that its manually triggered when there is an add/update operation.  Which enabled me to reconfigure the interval to be 2 minutes instead of 5 seconds.\r\nwith it configured this way we do see slight variations, so i guess it is working.....\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MZndq.png\r\n  [2]: https://i.stack.imgur.com/u4WDR.png\r\n  [3]: https://i.stack.imgur.com/VvAke.png\r\n  [4]: https://i.stack.imgur.com/L1aTJ.png","title":"quartz cron expression trigger job not adhering to misfire policy","body":"<p>I have since reverted quartz.jobStore.misfireThreshold.  reworked the job so that its manually triggered when there is an add/update operation.  Which enabled me to reconfigure the interval to be 2 minutes instead of 5 seconds.\nwith it configured this way we do see slight variations, so i guess it is working.....</p>\n<p><a href=\"https://i.stack.imgur.com/MZndq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MZndq.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/u4WDR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u4WDR.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/VvAke.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VvAke.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/L1aTJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L1aTJ.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":252715,"reputation":6160,"user_id":530933,"accept_rate":97,"display_name":"owen gerig"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77131265,"answer_count":1,"score":0,"last_activity_date":1695088477,"creation_date":1694662288,"question_id":77101619,"body_markdown":"In our our background library we create our triggers via factory methods\r\n    \t   \r\n\r\n     public Trigger buildTrigger(final JobDescription jobDescription) {\r\n            final JobDescription.TriggerType triggerType = jobDescription.getTriggerType();\r\n            if (triggerType == null) {\r\n                throw new IllegalArgumentException(&quot;trigger type can not be empty&quot;);\r\n            }\r\n            return switch (triggerType) {\r\n                case CRON -&gt; makeCronTrigger(jobDescription);\r\n                case ONCE -&gt; makeOnceTrigger(jobDescription);\r\n                case MULTIPLE_TIMES -&gt; makeMultipleTimesTrigger(jobDescription);\r\n                case LOOP -&gt; makeLoopTrigger(jobDescription);\r\n            };\r\n        }\r\n    private CronScheduleBuilder createCronSchedule(JobDescription jobDescription) {\r\n    \t\tCronScheduleBuilder cronSchedule = null;\r\n    \t\tMisfirePolicy misfirePolicy = jobDescription.getMisfirePolicy() != null ? jobDescription.getMisfirePolicy() : MisfirePolicy.None;\r\n    \t\tswitch (misfirePolicy) {\r\n    \t\t\tcase DoNothing:\r\n    \t\t\t\tcronSchedule = cronSchedule(jobDescription.getCronExpression()).withMisfireHandlingInstructionDoNothing();\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase FireAndProceed:\r\n    \t\t\t\tcronSchedule = cronSchedule(jobDescription.getCronExpression()).withMisfireHandlingInstructionFireAndProceed();\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase IgnoreMisfires:\r\n    \t\t\t\tcronSchedule = cronSchedule(jobDescription.getCronExpression()).withMisfireHandlingInstructionIgnoreMisfires();\r\n    \t\t\t\tbreak;\r\n    \t\t\tdefault:\r\n    \t\t\t\tcronSchedule = cronSchedule(jobDescription.getCronExpression());\r\n    \t\t}\r\n    \t\treturn cronSchedule;\r\n    \t}\r\n    \r\n    \tprivate Trigger makeCronTrigger(final JobDescription jobDescription) {\r\n    \t\tfinal TriggerBuilder&lt;CronTrigger&gt; cronTriggerTriggerBuilder = newTrigger()\r\n                    .withIdentity(jobDescription.getJobId())\r\n                    .withSchedule(createCronSchedule(jobDescription))\r\n                    .withPriority(getPriorityValue(jobDescription));\r\n            setIdentity(jobDescription, cronTriggerTriggerBuilder);\r\n            return cronTriggerTriggerBuilder.build();\r\n        }\r\n\r\nin our functional micro service we build our jobs that it will utilize the trigger\r\n\t\r\n\r\n    @Bean\r\n    \t@ConditionalOnProperty(prefix = &quot;tickets.background.job&quot;, name = &quot;deliver-tickets.enabled&quot;, havingValue = &quot;true&quot;)\r\n    \tJobDescription deliverTicketsJobDescription() {\r\n    \t\tfinal long now = metrics ? System.currentTimeMillis() : 0;\r\n    \t\tJobDescription jobDescription =  JobDescriptionBuilder.builder()\r\n    \t\t\t\t.triggerType(TriggerType.CRON)\r\n    \t\t\t\t.jobClass(DeliverTicketsJob.class)\r\n    \t\t\t\t.cronExpression(deliverTicketsCron) // 0/5 * * * * ?\r\n    \t\t\t\t.misfirePolicy(MisfirePolicy.FireAndProceed)\r\n    \t\t\t\t.jobGroupId(jobGroupId)\r\n    \t\t\t\t.jobId(&quot;deliverTickets&quot;)\r\n    \t\t\t\t.build();\r\n    \t\tif (metrics) {\r\n    \t\t\tLOGGER.debug(&quot;METRIC: deliverTicketsJobDescription ~ duration: &quot; + (System.currentTimeMillis() - now) + &quot;ms&quot;);\r\n    \t\t}\r\n    \t\treturn jobDescription;\r\n    \t}\r\n\r\nWe also set the misfireThreshold to 1 second\r\n\r\n    public class TicketApplication {\r\n    \tstatic {\r\n    \t\tSystem.setProperty(&quot;quartz.jobStore.misfireThreshold&quot;, &quot;1000&quot;);\r\n    \t}\r\n\r\nI have verified via looking at the qrtz_triggers table and seeing our job and the misfire_instruction column set.\r\n\r\nhowever from my point of view the behavior never changes in regards to handling misfires, it is always:\r\n\r\n 1. on startup, a job with misfires will fire off immediately and consecutively twice\r\n 2. after that it will be back on schedule, in this case firing every 5 seconds\r\n 3. i delay the job by 20 seconds, either via breakpoint or thread.sleep\r\n 4. after resuming from delay, the job will be executed multiple times consecutively until it catches up \r\n 5. at which point it goes back to being on schedule, every 5 seconds\r\n\r\nto me these steps illustrate the handling of the misfires.  the misfires from when it starts up (from the time it was down), and from when a job takes longer then the interval). The executing of the misfired jobs should be controlled via the  `MisfireHandlingInstruction` assigned, but like I said it has no effect on the outcome from the steps listed above and I tried them all.\r\n\r\n","title":"quartz cron expression trigger job not adhering to misfire policy","body":"<p>In our our background library we create our triggers via factory methods</p>\n<pre><code> public Trigger buildTrigger(final JobDescription jobDescription) {\n        final JobDescription.TriggerType triggerType = jobDescription.getTriggerType();\n        if (triggerType == null) {\n            throw new IllegalArgumentException(&quot;trigger type can not be empty&quot;);\n        }\n        return switch (triggerType) {\n            case CRON -&gt; makeCronTrigger(jobDescription);\n            case ONCE -&gt; makeOnceTrigger(jobDescription);\n            case MULTIPLE_TIMES -&gt; makeMultipleTimesTrigger(jobDescription);\n            case LOOP -&gt; makeLoopTrigger(jobDescription);\n        };\n    }\nprivate CronScheduleBuilder createCronSchedule(JobDescription jobDescription) {\n        CronScheduleBuilder cronSchedule = null;\n        MisfirePolicy misfirePolicy = jobDescription.getMisfirePolicy() != null ? jobDescription.getMisfirePolicy() : MisfirePolicy.None;\n        switch (misfirePolicy) {\n            case DoNothing:\n                cronSchedule = cronSchedule(jobDescription.getCronExpression()).withMisfireHandlingInstructionDoNothing();\n                break;\n            case FireAndProceed:\n                cronSchedule = cronSchedule(jobDescription.getCronExpression()).withMisfireHandlingInstructionFireAndProceed();\n                break;\n            case IgnoreMisfires:\n                cronSchedule = cronSchedule(jobDescription.getCronExpression()).withMisfireHandlingInstructionIgnoreMisfires();\n                break;\n            default:\n                cronSchedule = cronSchedule(jobDescription.getCronExpression());\n        }\n        return cronSchedule;\n    }\n\n    private Trigger makeCronTrigger(final JobDescription jobDescription) {\n        final TriggerBuilder&lt;CronTrigger&gt; cronTriggerTriggerBuilder = newTrigger()\n                .withIdentity(jobDescription.getJobId())\n                .withSchedule(createCronSchedule(jobDescription))\n                .withPriority(getPriorityValue(jobDescription));\n        setIdentity(jobDescription, cronTriggerTriggerBuilder);\n        return cronTriggerTriggerBuilder.build();\n    }\n</code></pre>\n<p>in our functional micro service we build our jobs that it will utilize the trigger</p>\n<pre><code>@Bean\n    @ConditionalOnProperty(prefix = &quot;tickets.background.job&quot;, name = &quot;deliver-tickets.enabled&quot;, havingValue = &quot;true&quot;)\n    JobDescription deliverTicketsJobDescription() {\n        final long now = metrics ? System.currentTimeMillis() : 0;\n        JobDescription jobDescription =  JobDescriptionBuilder.builder()\n                .triggerType(TriggerType.CRON)\n                .jobClass(DeliverTicketsJob.class)\n                .cronExpression(deliverTicketsCron) // 0/5 * * * * ?\n                .misfirePolicy(MisfirePolicy.FireAndProceed)\n                .jobGroupId(jobGroupId)\n                .jobId(&quot;deliverTickets&quot;)\n                .build();\n        if (metrics) {\n            LOGGER.debug(&quot;METRIC: deliverTicketsJobDescription ~ duration: &quot; + (System.currentTimeMillis() - now) + &quot;ms&quot;);\n        }\n        return jobDescription;\n    }\n</code></pre>\n<p>We also set the misfireThreshold to 1 second</p>\n<pre><code>public class TicketApplication {\n    static {\n        System.setProperty(&quot;quartz.jobStore.misfireThreshold&quot;, &quot;1000&quot;);\n    }\n</code></pre>\n<p>I have verified via looking at the qrtz_triggers table and seeing our job and the misfire_instruction column set.</p>\n<p>however from my point of view the behavior never changes in regards to handling misfires, it is always:</p>\n<ol>\n<li>on startup, a job with misfires will fire off immediately and consecutively twice</li>\n<li>after that it will be back on schedule, in this case firing every 5 seconds</li>\n<li>i delay the job by 20 seconds, either via breakpoint or thread.sleep</li>\n<li>after resuming from delay, the job will be executed multiple times consecutively until it catches up</li>\n<li>at which point it goes back to being on schedule, every 5 seconds</li>\n</ol>\n<p>to me these steps illustrate the handling of the misfires.  the misfires from when it starts up (from the time it was down), and from when a job takes longer then the interval). The executing of the misfired jobs should be controlled via the  <code>MisfireHandlingInstruction</code> assigned, but like I said it has no effect on the outcome from the steps listed above and I tried them all.</p>\n"},{"tags":["java","static","initialization"],"comments":[{"owner":{"account_id":276592,"reputation":12340,"user_id":570118,"accept_rate":80,"display_name":"Wolfgang Kuehn"},"score":3,"creation_date":1356112811,"post_id":13994950,"comment_id":19316864,"body_markdown":"Called once when the class is loaded by the class loader. Not each time the class is instantiated.","body":"Called once when the class is loaded by the class loader. Not each time the class is instantiated."},{"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"score":2,"creation_date":1356112963,"post_id":13994950,"comment_id":19316932,"body_markdown":"Please, take a look at the following chapters of the Official Java Tutorial (from Oracle): [Understanding Instance and Class Members](http://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html) and [Initializing Fields](http://docs.oracle.com/javase/tutorial/java/javaOO/initial.html). Come back if you still have any doubts.","body":"Please, take a look at the following chapters of the Official Java Tutorial (from Oracle): <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html\" rel=\"nofollow noreferrer\">Understanding Instance and Class Members</a> and <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/initial.html\" rel=\"nofollow noreferrer\">Initializing Fields</a>. Come back if you still have any doubts."},{"owner":{"account_id":1585470,"reputation":7053,"user_id":1469954,"accept_rate":81,"display_name":"NedStarkOfWinterfell"},"score":0,"creation_date":1356113444,"post_id":13994950,"comment_id":19317115,"body_markdown":"Just a non-sequitur question, if a class happens to have both `main` and a constructor, which one is invoked earlier when an instance of the class is created?","body":"Just a non-sequitur question, if a class happens to have both <code>main</code> and a constructor, which one is invoked earlier when an instance of the class is created?"},{"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"score":1,"creation_date":1356114444,"post_id":13994950,"comment_id":19317545,"body_markdown":"Initialization code (Classloading time) -&gt; Main (Application entry point) -&gt; Constructors: Here&#39;s a [working example](http://ideone.com/QWB43H) to further illustrate the point.","body":"Initialization code (Classloading time) -&gt; Main (Application entry point) -&gt; Constructors: Here&#39;s a <a href=\"http://ideone.com/QWB43H\" rel=\"nofollow noreferrer\">working example</a> to further illustrate the point."},{"owner":{"account_id":1585470,"reputation":7053,"user_id":1469954,"accept_rate":81,"display_name":"NedStarkOfWinterfell"},"score":0,"creation_date":1356115770,"post_id":13994950,"comment_id":19318027,"body_markdown":"For the example you provided, why isn&#39;t it falling into an infinite recursion? I mean, first time the class `Main` is invoked, the static block is executed all right. But since the `Main` class is itself again invoked inside the `main` method, they will create new instances of `Main`. While being instantiated, the static block won&#39;t execute, but their `main` methods will execute, creating two further instances, and so on.","body":"For the example you provided, why isn&#39;t it falling into an infinite recursion? I mean, first time the class <code>Main</code> is invoked, the static block is executed all right. But since the <code>Main</code> class is itself again invoked inside the <code>main</code> method, they will create new instances of <code>Main</code>. While being instantiated, the static block won&#39;t execute, but their <code>main</code> methods will execute, creating two further instances, and so on."},{"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":0,"creation_date":1356118740,"post_id":13994950,"comment_id":19319144,"body_markdown":"@Cupidvogel - A class is loaded and initialized (including running any `static` blocks and static initializers) before any instances are created. (This might be triggered by an attempt to create an instance, but it&#39;s a separate process from instance creation.) When you later create instances of that class, the static blocks are not executed again (the same goes for static initializers). Thus there will be no recursion for a class with a `static` block and a `main` method.","body":"@Cupidvogel - A class is loaded and initialized (including running any <code>static</code> blocks and static initializers) before any instances are created. (This might be triggered by an attempt to create an instance, but it&#39;s a separate process from instance creation.) When you later create instances of that class, the static blocks are not executed again (the same goes for static initializers). Thus there will be no recursion for a class with a <code>static</code> block and a <code>main</code> method."},{"owner":{"account_id":101064,"reputation":12650,"user_id":272075,"accept_rate":100,"display_name":"Thorn G"},"score":1,"creation_date":1356118933,"post_id":13994950,"comment_id":19319232,"body_markdown":"@Cupidvogel The `main` method is not run every time an instance of a class is created. It is only run when either explicitly invoked (just like any other static method) or when the JVM begins the application.","body":"@Cupidvogel The <code>main</code> method is not run every time an instance of a class is created. It is only run when either explicitly invoked (just like any other static method) or when the JVM begins the application."},{"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"score":0,"creation_date":1356119102,"post_id":13994950,"comment_id":19319308,"body_markdown":"Just creating an instance of a class with a main method will not invoke it. Remember that the main method is a `static` entry point that will be executed implicity by the JVM **once**. While you certainly can invoke the `main` method explicitly and even in a recursively fashion, it definitively sounds like a bad idea :).","body":"Just creating an instance of a class with a main method will not invoke it. Remember that the main method is a <code>static</code> entry point that will be executed implicity by the JVM <b>once</b>. While you certainly can invoke the <code>main</code> method explicitly and even in a recursively fashion, it definitively sounds like a bad idea :)."},{"owner":{"account_id":323460,"reputation":2036,"user_id":643483,"display_name":"Aaron Kurtzhals"},"score":0,"creation_date":1356119815,"post_id":13994950,"comment_id":19319622,"body_markdown":"Looks like a duplicate of http://stackoverflow.com/questions/2420389/static-initialization-blocks","body":"Looks like a duplicate of <a href=\"http://stackoverflow.com/questions/2420389/static-initialization-blocks\" title=\"static initialization blocks\">stackoverflow.com/questions/2420389/&hellip;</a>"},{"owner":{"account_id":1585470,"reputation":7053,"user_id":1469954,"accept_rate":81,"display_name":"NedStarkOfWinterfell"},"score":0,"creation_date":1356120342,"post_id":13994950,"comment_id":19319843,"body_markdown":"Can anybody please explain what is meant by &#39;loaded&#39;? How is it different from &#39;initialized&#39;?","body":"Can anybody please explain what is meant by &#39;loaded&#39;? How is it different from &#39;initialized&#39;?"},{"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":0,"creation_date":1356120950,"post_id":13994950,"comment_id":19320106,"body_markdown":"It&#39;s all spelled out in gory detail in [Chapter 5 of the Java Virtual Machine Specification](http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-5.html). Roughly speaking, &quot;loading&quot; is reading the byte codes into memory while &quot;initialized&quot; means that the initialization code for the class is executed.","body":"It&#39;s all spelled out in gory detail in <a href=\"http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-5.html\" rel=\"nofollow noreferrer\">Chapter 5 of the Java Virtual Machine Specification</a>. Roughly speaking, &quot;loading&quot; is reading the byte codes into memory while &quot;initialized&quot; means that the initialization code for the class is executed."},{"owner":{"account_id":1585470,"reputation":7053,"user_id":1469954,"accept_rate":81,"display_name":"NedStarkOfWinterfell"},"score":0,"creation_date":1356121184,"post_id":13994950,"comment_id":19320185,"body_markdown":"I was going through the Chapter 12 at http://docs.oracle.com/javase/specs/jls/se7/html/jls-12.html#jls-12.4.2, and couldn&#39;t decipher head or tail of it. Can you point me to a better resource that discusses it just as much at length, but much more lucidly, and if possible, with a number of examples?","body":"I was going through the Chapter 12 at <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-12.html#jls-12.4.2\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se7/html/&hellip;</a>, and couldn&#39;t decipher head or tail of it. Can you point me to a better resource that discusses it just as much at length, but much more lucidly, and if possible, with a number of examples?"},{"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":0,"creation_date":1356230347,"post_id":13994950,"comment_id":19341008,"body_markdown":"Google is your friend here. This is a complicated subject, so don&#39;t expect anything that&#39;s real easy to digest. [This introduction to the subject](http://www.artima.com/insidejvm/ed2/lifetype.html) might be what you are looking for.","body":"Google is your friend here. This is a complicated subject, so don&#39;t expect anything that&#39;s real easy to digest. <a href=\"http://www.artima.com/insidejvm/ed2/lifetype.html\" rel=\"nofollow noreferrer\">This introduction to the subject</a> might be what you are looking for."},{"owner":{"account_id":1585470,"reputation":7053,"user_id":1469954,"accept_rate":81,"display_name":"NedStarkOfWinterfell"},"score":0,"creation_date":1356248520,"post_id":13994950,"comment_id":19343207,"body_markdown":"Yeah, it looks really complicated. Gonna take me quite some effort and time to digest it..","body":"Yeah, it looks really complicated. Gonna take me quite some effort and time to digest it.."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1356112712,"creation_date":1356112712,"answer_id":13994976,"question_id":13994950,"body_markdown":"You can&#39;t initialize static variables with a constructor -- or at least you probably _shouldn&#39;t_, and it won&#39;t be particularly useful.  \r\n\r\nEspecially when you&#39;re trying to initialize static constants that require significant logic to  generate, that really ought to happen in a static block, not a constructor.","title":"Necessity of static block in Java","body":"<p>You can't initialize static variables with a constructor -- or at least you probably <em>shouldn't</em>, and it won't be particularly useful.  </p>\n\n<p>Especially when you're trying to initialize static constants that require significant logic to  generate, that really ought to happen in a static block, not a constructor.</p>\n"},{"tags":[],"owner":{"account_id":24377,"reputation":818003,"user_id":61974,"display_name":"Mark Byers"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1356113342,"creation_date":1356112721,"answer_id":13994980,"question_id":13994950,"body_markdown":"The static initializer runs when the class is loaded even if you never create any objects of that type. \r\n\r\n * Not all classes are meant to be instantiated. The constructor might never be called. It might even be private.\r\n * You may wish to access static fields of the class before you run a constructor.\r\n * The static initializer only runs once when the class is loaded. The constructor is called for each object of that type you instantiate.","title":"Necessity of static block in Java","body":"<p>The static initializer runs when the class is loaded even if you never create any objects of that type. </p>\n\n<ul>\n<li>Not all classes are meant to be instantiated. The constructor might never be called. It might even be private.</li>\n<li>You may wish to access static fields of the class before you run a constructor.</li>\n<li>The static initializer only runs once when the class is loaded. The constructor is called for each object of that type you instantiate.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1356112721,"creation_date":1356112721,"answer_id":13994981,"question_id":13994950,"body_markdown":"They&#39;re two separate things. You use a constructor to initialize one instance of a class, the static initialization block initializes static members at the time that the class is loaded.","title":"Necessity of static block in Java","body":"<p>They're two separate things. You use a constructor to initialize one instance of a class, the static initialization block initializes static members at the time that the class is loaded.</p>\n"},{"tags":[],"owner":{"account_id":371565,"reputation":10918,"user_id":720161,"accept_rate":88,"display_name":"Subin Sebastian"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1438338217,"creation_date":1356112732,"answer_id":13994982,"question_id":13994950,"body_markdown":"Constructor is invoked while creating an instance of the class.\r\n\r\nStatic block is invoked when a classloader loads this class definition, so that we can initialize static members of this class. \r\nWe should not be initializing static members from constructor as they are part of class definition not object \r\n","title":"Necessity of static block in Java","body":"<p>Constructor is invoked while creating an instance of the class.</p>\n\n<p>Static block is invoked when a classloader loads this class definition, so that we can initialize static members of this class. \nWe should not be initializing static members from constructor as they are part of class definition not object </p>\n"},{"tags":[],"owner":{"account_id":164849,"reputation":1375,"user_id":387880,"accept_rate":50,"display_name":"eppesuig"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1356112785,"creation_date":1356112785,"answer_id":13995003,"question_id":13994950,"body_markdown":"The static block is reqly useful when you do have to do some action even if no instances is still created. As example, for initializing a static variable with non static value.","title":"Necessity of static block in Java","body":"<p>The static block is reqly useful when you do have to do some action even if no instances is still created. As example, for initializing a static variable with non static value.</p>\n"},{"tags":[],"owner":{"account_id":1371019,"reputation":909,"user_id":1306221,"accept_rate":77,"display_name":"ved"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1356112980,"creation_date":1356112980,"answer_id":13995037,"question_id":13994950,"body_markdown":"static block does different thing than constructor . Basically there sre two different concepts.\r\n\r\nstatic block initializes when class load into memory , it means when JVM read u&#39;r byte code.\r\nInitialization can ne anything , it can be variable initialization or any thing else which should be shared by all objects of that class\r\n\r\nwhereas constructor initializes variable for that object only .","title":"Necessity of static block in Java","body":"<p>static block does different thing than constructor . Basically there sre two different concepts.</p>\n\n<p>static block initializes when class load into memory , it means when JVM read u'r byte code.\nInitialization can ne anything , it can be variable initialization or any thing else which should be shared by all objects of that class</p>\n\n<p>whereas constructor initializes variable for that object only .</p>\n"},{"tags":[],"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"down_vote_count":0,"up_vote_count":54,"is_accepted":true,"score":54,"last_activity_date":1659017835,"creation_date":1356113136,"answer_id":13995072,"question_id":13994950,"body_markdown":"I first want to highlight one thing thing from your question:\r\n\r\n&gt; the constructor does the same thing, do all the necessary stuff when a class is first initialized\r\n\r\nThis is incorrect. A constructor does all the initialization necessary when an *instance* of a class is created. No constructors execute when the class itself is first loaded into memory and initialized (unless an instance of the class happens to be created as part of the class initialization). This confusion (between initializing a class and initializing instances of the class) is probably why you are questioning the utility of `static` blocks.\r\n\r\nIf a class has static members that require complex initialization, a `static` block is the tool to use. Suppose you need a static map of some kind (the purpose is irrelevant here). You can declare it in-line like this:\r\n\r\n    public static final Map&lt;String, String&gt; initials = new HashMap&lt;String, String&gt;();\r\n\r\nHowever, if you want to populate it once, you can&#39;t do that with an in-line declaration. For that, you need a `static` block:\r\n\r\n    public static final Map&lt;String, String&gt; initials = new HashMap&lt;String, String&gt;();\r\n    static {\r\n        initials.put(&quot;AEN&quot;, &quot;Alfred E. Newman&quot;);\r\n        // etc.\r\n    }\r\n\r\nIf you wanted to be even more protective, you can do this:\r\n\r\n    public static final Map&lt;String, String&gt; initials;\r\n    static {\r\n        Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;()\r\n        map.put(&quot;AEN&quot;, &quot;Alfred E. Newman&quot;);\r\n        // etc.\r\n        initials = Collections.unmodifiableMap(map);\r\n    }\r\n\r\nNote that you cannot initialize `initials` in-line as an unmodifiable map because then you couldn&#39;t populate it! You also cannot do this in a constructor because simply calling one of the modifying methods (`put`, etc.) will generate an exception.\r\n\r\nTo be fair, this is not a complete answer to your question. The `static` block could still be eliminated by using a private static function:\r\n\r\n    public static final Map&lt;String, String&gt; initials = makeInitials();\r\n\r\n    private static Map&lt;String, String&gt; makeInitials() {\r\n        Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;()\r\n        map.put(&quot;AEN&quot;, &quot;Alfred E. Newman&quot;);\r\n        // etc.\r\n        return Collections.unmodifiableMap(map);\r\n    }\r\n\r\nNote, though, that this is not replacing a `static` block with code in a constructor as you proposed! Also, this won&#39;t work if you need to initialize several `static` fields in an interrelated way.\r\n\r\nA case where a `static` block would be awkward to replace would be a &quot;coordinator&quot; class that needs to initialize several other classes exactly once, especially awkward if it involves dependency injection.\r\n\r\n    public class Coordinator {\r\n        static {\r\n            WorkerClass1.init();\r\n            WorkerClass2.init(WorkerClass1.someInitializedValue);\r\n            // etc.\r\n        }\r\n    }\r\n\r\nParticularly if you don&#39;t want to hard-wire any dependence into `WorkerClass2` on `WorkerClass1`, some sort of coordinator code like this is needed. This kind of stuff most definitely does not belong in a constructor.\r\n\r\nNote that there is also something called an _instance initializer block_. It is an anonymous block of code that is run when each instance is created. (The syntax is just like a `static` block, but without the `static` keyword.) It is particularly useful for anonymous classes, because they cannot have named constructors. Here&#39;s a real-world example. Since (unfathomably) `GZIPOutputStream` does not have a constructor or any api call with which you can specify a compression level, and the default compression level is none, you need to subclass `GZIPOutputStream` to get any compression. You can always write an explicit subclass, but it can be more convenient to write an anonymous class:\r\n\r\n    OutputStream os = . . .;\r\n    OutputStream gzos = new GZIPOutputStream(os) {\r\n        {\r\n            // def is an inherited, protected field that does the actual compression\r\n            def = new Deflator(9, true); // maximum compression, no ZLIB header\r\n        }\r\n    };","title":"Necessity of static block in Java","body":"<p>I first want to highlight one thing thing from your question:</p>\n<blockquote>\n<p>the constructor does the same thing, do all the necessary stuff when a class is first initialized</p>\n</blockquote>\n<p>This is incorrect. A constructor does all the initialization necessary when an <em>instance</em> of a class is created. No constructors execute when the class itself is first loaded into memory and initialized (unless an instance of the class happens to be created as part of the class initialization). This confusion (between initializing a class and initializing instances of the class) is probably why you are questioning the utility of <code>static</code> blocks.</p>\n<p>If a class has static members that require complex initialization, a <code>static</code> block is the tool to use. Suppose you need a static map of some kind (the purpose is irrelevant here). You can declare it in-line like this:</p>\n<pre><code>public static final Map&lt;String, String&gt; initials = new HashMap&lt;String, String&gt;();\n</code></pre>\n<p>However, if you want to populate it once, you can't do that with an in-line declaration. For that, you need a <code>static</code> block:</p>\n<pre><code>public static final Map&lt;String, String&gt; initials = new HashMap&lt;String, String&gt;();\nstatic {\n    initials.put(&quot;AEN&quot;, &quot;Alfred E. Newman&quot;);\n    // etc.\n}\n</code></pre>\n<p>If you wanted to be even more protective, you can do this:</p>\n<pre><code>public static final Map&lt;String, String&gt; initials;\nstatic {\n    Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;()\n    map.put(&quot;AEN&quot;, &quot;Alfred E. Newman&quot;);\n    // etc.\n    initials = Collections.unmodifiableMap(map);\n}\n</code></pre>\n<p>Note that you cannot initialize <code>initials</code> in-line as an unmodifiable map because then you couldn't populate it! You also cannot do this in a constructor because simply calling one of the modifying methods (<code>put</code>, etc.) will generate an exception.</p>\n<p>To be fair, this is not a complete answer to your question. The <code>static</code> block could still be eliminated by using a private static function:</p>\n<pre><code>public static final Map&lt;String, String&gt; initials = makeInitials();\n\nprivate static Map&lt;String, String&gt; makeInitials() {\n    Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;()\n    map.put(&quot;AEN&quot;, &quot;Alfred E. Newman&quot;);\n    // etc.\n    return Collections.unmodifiableMap(map);\n}\n</code></pre>\n<p>Note, though, that this is not replacing a <code>static</code> block with code in a constructor as you proposed! Also, this won't work if you need to initialize several <code>static</code> fields in an interrelated way.</p>\n<p>A case where a <code>static</code> block would be awkward to replace would be a &quot;coordinator&quot; class that needs to initialize several other classes exactly once, especially awkward if it involves dependency injection.</p>\n<pre><code>public class Coordinator {\n    static {\n        WorkerClass1.init();\n        WorkerClass2.init(WorkerClass1.someInitializedValue);\n        // etc.\n    }\n}\n</code></pre>\n<p>Particularly if you don't want to hard-wire any dependence into <code>WorkerClass2</code> on <code>WorkerClass1</code>, some sort of coordinator code like this is needed. This kind of stuff most definitely does not belong in a constructor.</p>\n<p>Note that there is also something called an <em>instance initializer block</em>. It is an anonymous block of code that is run when each instance is created. (The syntax is just like a <code>static</code> block, but without the <code>static</code> keyword.) It is particularly useful for anonymous classes, because they cannot have named constructors. Here's a real-world example. Since (unfathomably) <code>GZIPOutputStream</code> does not have a constructor or any api call with which you can specify a compression level, and the default compression level is none, you need to subclass <code>GZIPOutputStream</code> to get any compression. You can always write an explicit subclass, but it can be more convenient to write an anonymous class:</p>\n<pre><code>OutputStream os = . . .;\nOutputStream gzos = new GZIPOutputStream(os) {\n    {\n        // def is an inherited, protected field that does the actual compression\n        def = new Deflator(9, true); // maximum compression, no ZLIB header\n    }\n};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1809227,"reputation":53,"user_id":1794965,"display_name":"Manish"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1356115141,"creation_date":1356115141,"answer_id":13995453,"question_id":13994950,"body_markdown":"The static block is useful when you want to initialize static fields. ","title":"Necessity of static block in Java","body":"<p>The static block is useful when you want to initialize static fields. </p>\n"},{"tags":[],"owner":{"account_id":1081114,"reputation":83382,"user_id":1078084,"accept_rate":81,"display_name":"Akavall"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1356122379,"creation_date":1356118796,"answer_id":13996192,"question_id":13994950,"body_markdown":"Static initializer will run if we initialize a class, this does not require that we instantiate a class. But the constructor is run only when we make an instance of the class.\r\n\r\nFor example:\r\n\r\n    class MyClass\r\n    {\t\r\n    \tstatic\r\n    \t{\r\n    \t\tSystem.out.println(&quot;I am static initializer&quot;);\r\n    \t}\r\n    \tMyClass()\r\n    \t{\r\n    \t\tSystem.out.println(&quot;I am constructor&quot;);\r\n    \t}\r\n    \t\r\n    \tstatic void staticMethod()\r\n    \t{\r\n    \t\tSystem.out.println(&quot;I am static method&quot;);\r\n    \t}\r\n    }\r\n\r\nIf we run:\r\n\r\n    MyClass.staticMethod();\r\n\r\nOutput:\r\n\r\n    I am static initializer\r\n    I am static method\r\n\r\nWe never created an instance so the constructor is not called, but static initializer is called.\r\n\r\nIf we make an instance of a class, both static initilizer and the constructor run. No surprises.\r\n\r\n    MyClass x = new MyClass();\r\n\r\nOutput:\r\n\r\n    I am static initializer\r\n    I am constructor\r\n\r\nNote that if we run:\r\n\r\n    MyClass x;\r\n\r\nOutput: (empty)\r\n\r\nDeclaring variable `x` does not require `MyClass` to be initialized, so static initializer does not run.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Necessity of static block in Java","body":"<p>Static initializer will run if we initialize a class, this does not require that we instantiate a class. But the constructor is run only when we make an instance of the class.</p>\n\n<p>For example:</p>\n\n<pre><code>class MyClass\n{   \n    static\n    {\n        System.out.println(\"I am static initializer\");\n    }\n    MyClass()\n    {\n        System.out.println(\"I am constructor\");\n    }\n\n    static void staticMethod()\n    {\n        System.out.println(\"I am static method\");\n    }\n}\n</code></pre>\n\n<p>If we run:</p>\n\n<pre><code>MyClass.staticMethod();\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>I am static initializer\nI am static method\n</code></pre>\n\n<p>We never created an instance so the constructor is not called, but static initializer is called.</p>\n\n<p>If we make an instance of a class, both static initilizer and the constructor run. No surprises.</p>\n\n<pre><code>MyClass x = new MyClass();\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>I am static initializer\nI am constructor\n</code></pre>\n\n<p>Note that if we run:</p>\n\n<pre><code>MyClass x;\n</code></pre>\n\n<p>Output: (empty)</p>\n\n<p>Declaring variable <code>x</code> does not require <code>MyClass</code> to be initialized, so static initializer does not run.</p>\n"},{"tags":[],"owner":{"account_id":13018774,"reputation":21,"user_id":9408970,"display_name":"Aman Kassahun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1519564900,"creation_date":1519564900,"answer_id":48973922,"question_id":13994950,"body_markdown":"\r\n\t\r\n\r\nThe static block is useful over constructors when you do have to do some action even if no instances is still created. As example, for initializing a static variable with non static value.\r\n","title":"Necessity of static block in Java","body":"<p>The static block is useful over constructors when you do have to do some action even if no instances is still created. As example, for initializing a static variable with non static value.</p>\n"},{"tags":[],"owner":{"account_id":4610588,"reputation":4137,"user_id":3738831,"accept_rate":50,"display_name":"Tadele Ayelegn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1533504715,"creation_date":1533504715,"answer_id":51698410,"question_id":13994950,"body_markdown":"One way you can understand static block is; \r\nIt acts as a constructor. however, the difference between the two is \r\n**static block instantiates class or static variables  while constructor is used to instantiate object variables** \r\n\r\nConsider the following class \r\n\r\n    public class Part{\r\n    \r\n      String name;\r\n      static String producer;\r\n    \r\n      public Part(String name){\r\n          this.name = name;\r\n      }\r\n    \r\n      static {\r\n        producer = &quot;Boeing&quot;;\r\n      }\r\n    \r\n    }\r\n objects created from this class will have producer set to Boeing but their name is different depending on the argument passed. for instance \r\n\r\n    Part engine = new Part(&quot;JetEngine&quot;);\r\n    Part Wheel = new Part(&quot;JetWheel&quot;);\r\n\r\n\r\n","title":"Necessity of static block in Java","body":"<p>One way you can understand static block is; \nIt acts as a constructor. however, the difference between the two is \n<strong>static block instantiates class or static variables  while constructor is used to instantiate object variables</strong> </p>\n\n<p>Consider the following class </p>\n\n<pre><code>public class Part{\n\n  String name;\n  static String producer;\n\n  public Part(String name){\n      this.name = name;\n  }\n\n  static {\n    producer = \"Boeing\";\n  }\n\n}\n</code></pre>\n\n<p>objects created from this class will have producer set to Boeing but their name is different depending on the argument passed. for instance </p>\n\n<pre><code>Part engine = new Part(\"JetEngine\");\nPart Wheel = new Part(\"JetWheel\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13873903,"reputation":312,"user_id":11887107,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662310859,"creation_date":1662310859,"answer_id":73601270,"question_id":13994950,"body_markdown":"Initializing static fields in the constructor is a big mistake. Yes, you can initialize static fields in the constructor. However, **the static fields will reset their value every time an object is created**.\r\n\r\n```java\r\npublic class StaticExample {\r\n    static int myStaticField;\r\n\r\n    public StaticExample(){\r\n    myStaticField = 10;\r\n  }\r\n}\r\n```\r\n```java\r\npublic class Solution {\r\n    public static void main(String[] args) {\r\n      StaticExample obj1 = new StaticExample();\r\n      StaticExample.myStaticField+= 80;\r\n\r\n      // this will print 90\r\n      System.out.println(StaticExample.myStaticField);\r\n\r\n      // creating new object will reset the static field\r\n      StaticExample obj2 = new StaticExample();\r\n\r\n      // this will print 10\r\n      System.out.println(StaticExample.myStaticField);\r\n    }\r\n}\r\n```\r\nThis is unexpected and unaccepted behavior for a static field. If you now change the initialization step from a constructor to a static block, you will get the correct values.\r\n\r\n```java\r\npublic class StaticExample {\r\n    static int myStaticField;\r\n\r\n    static {\r\n      myStaticField = 10;\r\n    }\r\n}\r\n```\r\n```java\r\npublic class Solution {\r\n    public static void main(String[] args) {\r\n      StaticExample obj1 = new StaticExample();\r\n      StaticExample.myStaticField+= 80;\r\n\r\n      // this will print 90\r\n      System.out.println(StaticExample.myStaticField);\r\n\r\n      // creating new object will NOT reset the static field\r\n      StaticExample obj2 = new StaticExample();\r\n\r\n      // this will print 90\r\n      System.out.println(StaticExample.myStaticField);\r\n  }\r\n}\r\n```","title":"Necessity of static block in Java","body":"<p>Initializing static fields in the constructor is a big mistake. Yes, you can initialize static fields in the constructor. However, <strong>the static fields will reset their value every time an object is created</strong>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class StaticExample {\n    static int myStaticField;\n\n    public StaticExample(){\n    myStaticField = 10;\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Solution {\n    public static void main(String[] args) {\n      StaticExample obj1 = new StaticExample();\n      StaticExample.myStaticField+= 80;\n\n      // this will print 90\n      System.out.println(StaticExample.myStaticField);\n\n      // creating new object will reset the static field\n      StaticExample obj2 = new StaticExample();\n\n      // this will print 10\n      System.out.println(StaticExample.myStaticField);\n    }\n}\n</code></pre>\n<p>This is unexpected and unaccepted behavior for a static field. If you now change the initialization step from a constructor to a static block, you will get the correct values.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class StaticExample {\n    static int myStaticField;\n\n    static {\n      myStaticField = 10;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Solution {\n    public static void main(String[] args) {\n      StaticExample obj1 = new StaticExample();\n      StaticExample.myStaticField+= 80;\n\n      // this will print 90\n      System.out.println(StaticExample.myStaticField);\n\n      // creating new object will NOT reset the static field\n      StaticExample obj2 = new StaticExample();\n\n      // this will print 90\n      System.out.println(StaticExample.myStaticField);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29114412,"reputation":19,"user_id":22303452,"display_name":"Aisu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695087638,"creation_date":1695087638,"answer_id":77131234,"question_id":13994950,"body_markdown":"If you&#39;d like to get a full understanding of the technical concept (in this scenario - the usage of static blocks in Java), you&#39;d probably need to find the reference to this concept in a real application. Let me attach here a [link][1] to the repo of Gomoku game implementation where static block is used in *&quot;Board.java&quot;* class **to initialize a static field** *&quot;Location&quot;*. \r\n\r\n    public class Board {\r\n    \r\n    \tpublic static final Iterable&lt;Location&gt; LOCATIONS;\r\n    \t\r\n        // set up LOCATIONS\r\n    \r\n\t    static {\r\n\t\t    ArrayList&lt;Location&gt; l = new ArrayList&lt;Location&gt;(NUM_ROWS * NUM_COLS);\r\n\t\t    for (int r = 0; r &lt; NUM_ROWS; r++)\r\n\t\t\t    for (int c = 0; c &lt; NUM_COLS; c++)\r\n\t\t\t\t    l.add(new Location(r,c));\r\n\t\t    LOCATIONS = l;\r\n\t    }\r\n    }\r\n\r\n  [1]: https://github.com/danieluibe/Gomoku-Game-Design/blob/master/model/Board.java#L40","title":"Necessity of static block in Java","body":"<p>If you'd like to get a full understanding of the technical concept (in this scenario - the usage of static blocks in Java), you'd probably need to find the reference to this concept in a real application. Let me attach here a <a href=\"https://github.com/danieluibe/Gomoku-Game-Design/blob/master/model/Board.java#L40\" rel=\"nofollow noreferrer\">link</a> to the repo of Gomoku game implementation where static block is used in <em>&quot;Board.java&quot;</em> class <strong>to initialize a static field</strong> <em>&quot;Location&quot;</em>.</p>\n<pre><code>public class Board {\n\n    public static final Iterable&lt;Location&gt; LOCATIONS;\n    \n    // set up LOCATIONS\n\n    static {\n        ArrayList&lt;Location&gt; l = new ArrayList&lt;Location&gt;(NUM_ROWS * NUM_COLS);\n        for (int r = 0; r &lt; NUM_ROWS; r++)\n            for (int c = 0; c &lt; NUM_COLS; c++)\n                l.add(new Location(r,c));\n        LOCATIONS = l;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1585470,"reputation":7053,"user_id":1469954,"accept_rate":81,"display_name":"NedStarkOfWinterfell"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33998,"favorite_count":0,"down_vote_count":1,"up_vote_count":61,"accepted_answer_id":13995072,"answer_count":13,"score":60,"last_activity_date":1695087638,"creation_date":1356112617,"question_id":13994950,"body_markdown":"I found that in Java, there is a feature called `static block`, which includes code that is executed when a class is first loaded (I don&#39;t understand what &#39;loaded&#39; means, does it mean initialized?). Is there any reason to do the initialization bit inside a static block and not in the constructor? I mean, even the constructor does the same thing, do all the necessary stuff when a class is first initialized. is there anything that the static block accomplishes which a constructor can&#39;t?","title":"Necessity of static block in Java","body":"<p>I found that in Java, there is a feature called <code>static block</code>, which includes code that is executed when a class is first loaded (I don't understand what 'loaded' means, does it mean initialized?). Is there any reason to do the initialization bit inside a static block and not in the constructor? I mean, even the constructor does the same thing, do all the necessary stuff when a class is first initialized. is there anything that the static block accomplishes which a constructor can't?</p>\n"},{"tags":["java","spring-boot","openapi"],"owner":{"account_id":1139472,"reputation":278,"user_id":1123777,"accept_rate":100,"display_name":"Wee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695086591,"creation_date":1695086591,"question_id":77131185,"body_markdown":"I am using Spring Boot 3 and using OpenAPI by having this in the pom.xml\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n    &lt;version&gt;2.1.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nUsing HttpExchange interface, as per https://www.baeldung.com/spring-6-http-interface, I have created the interface to call external APIs.\r\n\r\nHow can I make use of OpenAPI to generate a documentation of the external API with the HttpExchange interface?","title":"OpenAPI documentation for External API in Spring Boot 3 project","body":"<p>I am using Spring Boot 3 and using OpenAPI by having this in the pom.xml</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n    &lt;version&gt;2.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Using HttpExchange interface, as per <a href=\"https://www.baeldung.com/spring-6-http-interface\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-6-http-interface</a>, I have created the interface to call external APIs.</p>\n<p>How can I make use of OpenAPI to generate a documentation of the external API with the HttpExchange interface?</p>\n"},{"tags":["java","usb","i2c","serial-communication","ftdi"],"answers":[{"tags":[],"owner":{"account_id":3582271,"reputation":1321,"user_id":2990189,"accept_rate":77,"display_name":"DerStrom8"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695086334,"creation_date":1695086334,"answer_id":77131171,"question_id":77115340,"body_markdown":"I recently found a library that not only has all of the required Java files, but also includes examples and a variety of other resources. Documentation is quite good as well. It&#39;s &quot;Yet Another D2xx Library&quot;, or &quot;yad2xx&quot; for short. I definitely recommend it!\r\n\r\nhttps://github.com/aushacker/yad2xx/tree/master\r\n\r\nUsing the files in that repository I was able to get everything set up and running in my Eclipse environment, and was able to make function calls from my own program.","title":"Java Library for FTDI FT260 USB-I2C Bridge","body":"<p>I recently found a library that not only has all of the required Java files, but also includes examples and a variety of other resources. Documentation is quite good as well. It's &quot;Yet Another D2xx Library&quot;, or &quot;yad2xx&quot; for short. I definitely recommend it!</p>\n<p><a href=\"https://github.com/aushacker/yad2xx/tree/master\" rel=\"nofollow noreferrer\">https://github.com/aushacker/yad2xx/tree/master</a></p>\n<p>Using the files in that repository I was able to get everything set up and running in my Eclipse environment, and was able to make function calls from my own program.</p>\n"}],"owner":{"account_id":3582271,"reputation":1321,"user_id":2990189,"accept_rate":77,"display_name":"DerStrom8"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77131171,"answer_count":1,"score":0,"last_activity_date":1695086334,"creation_date":1694811786,"question_id":77115340,"body_markdown":"I am attempting to communicate with some I2C-controlled IO expanders on a circuit board over a USB/I2C bus from my PC with the aid of the FTDI FT260Q USB to I2C bridge IC. Below are a couple of useful documents I was able to locate:\r\n\r\n- Datasheet: https://www.ftdichip.com/Support/Documents/DataSheets/ICs/DS_FT260.pdf\r\n\r\n- User Guide: https://ftdichip.com/wp-content/uploads/2020/08/AN_394_User_Guide_for_FT260.pdf\r\n\r\nThe FTDI website mentions a Java implementation of the D2XX drivers, and provides the following links:\r\n\r\n- FTDI &quot;Other Platform Examples&quot;: https://ftdichip.com/software-examples/code-examples/other-platform-examples/\r\n\r\n- Third-party library &quot;FTD2XXJ&quot;: https://sourceforge.net/projects/ftd2xxj/\r\n\r\nNow comes my problem: I have no idea where to begin. I already have a Java project I am working on and have reached the point where I click a button inside a JFrame which is supposed to configure the IO expanders, but the event listener is empty. That is to say, now that the JButton can be pressed, I need it to send commands to configure the devices for the proper I/O settings. I have a general idea of how to format I2C commands, so what I am looking to do now is to somehow have my Java program connect to the COM port (enumerated when the circuit board is plugged in via a USB cable), and be able to send I2C commands from the PC to the USB side of the bridge chip, so that they can then be properly translated to the I2C bus on the other side of the bridge chip.\r\n\r\nI downloaded the FTD2xxj file from the SourceForge link I found on the FTDI website, but that is as far as I have gotten. I was unable to find any instructions for how to set up the library (are specific locations required for the different items in the downloaded ZIP file? Which ones do I need? How do I add them to my project? Is it the same as I would add another external JAR, by going to ***Project -&gt; Properties -&gt; Java Build Path -&gt; Libraries*** and adding them from there? Will this even work for the FT260?\r\n\r\nIt has been a long time since I last worked in Eclipse (or Java, for that matter), so I am having to re-learn as I go. Please pardon my ignorance.\r\n\r\nThe contents of the ZIP file downloaded form SourceForge can be seen in the screenshots below:\r\n\r\nTop level:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nFeatures:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nPlugins:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nWeb:\r\n\r\n[![enter image description here][4]][4]\r\n\r\nI would have tried the forum mentioned on SourceForge, except it does not appear to be well maintained, and the last activity seems to have been in 2013.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fH6jz.png\r\n  [2]: https://i.stack.imgur.com/ct5ER.png\r\n  [3]: https://i.stack.imgur.com/JXYJF.png\r\n  [4]: https://i.stack.imgur.com/wnT1O.png","title":"Java Library for FTDI FT260 USB-I2C Bridge","body":"<p>I am attempting to communicate with some I2C-controlled IO expanders on a circuit board over a USB/I2C bus from my PC with the aid of the FTDI FT260Q USB to I2C bridge IC. Below are a couple of useful documents I was able to locate:</p>\n<ul>\n<li><p>Datasheet: <a href=\"https://www.ftdichip.com/Support/Documents/DataSheets/ICs/DS_FT260.pdf\" rel=\"nofollow noreferrer\">https://www.ftdichip.com/Support/Documents/DataSheets/ICs/DS_FT260.pdf</a></p>\n</li>\n<li><p>User Guide: <a href=\"https://ftdichip.com/wp-content/uploads/2020/08/AN_394_User_Guide_for_FT260.pdf\" rel=\"nofollow noreferrer\">https://ftdichip.com/wp-content/uploads/2020/08/AN_394_User_Guide_for_FT260.pdf</a></p>\n</li>\n</ul>\n<p>The FTDI website mentions a Java implementation of the D2XX drivers, and provides the following links:</p>\n<ul>\n<li><p>FTDI &quot;Other Platform Examples&quot;: <a href=\"https://ftdichip.com/software-examples/code-examples/other-platform-examples/\" rel=\"nofollow noreferrer\">https://ftdichip.com/software-examples/code-examples/other-platform-examples/</a></p>\n</li>\n<li><p>Third-party library &quot;FTD2XXJ&quot;: <a href=\"https://sourceforge.net/projects/ftd2xxj/\" rel=\"nofollow noreferrer\">https://sourceforge.net/projects/ftd2xxj/</a></p>\n</li>\n</ul>\n<p>Now comes my problem: I have no idea where to begin. I already have a Java project I am working on and have reached the point where I click a button inside a JFrame which is supposed to configure the IO expanders, but the event listener is empty. That is to say, now that the JButton can be pressed, I need it to send commands to configure the devices for the proper I/O settings. I have a general idea of how to format I2C commands, so what I am looking to do now is to somehow have my Java program connect to the COM port (enumerated when the circuit board is plugged in via a USB cable), and be able to send I2C commands from the PC to the USB side of the bridge chip, so that they can then be properly translated to the I2C bus on the other side of the bridge chip.</p>\n<p>I downloaded the FTD2xxj file from the SourceForge link I found on the FTDI website, but that is as far as I have gotten. I was unable to find any instructions for how to set up the library (are specific locations required for the different items in the downloaded ZIP file? Which ones do I need? How do I add them to my project? Is it the same as I would add another external JAR, by going to <em><strong>Project -&gt; Properties -&gt; Java Build Path -&gt; Libraries</strong></em> and adding them from there? Will this even work for the FT260?</p>\n<p>It has been a long time since I last worked in Eclipse (or Java, for that matter), so I am having to re-learn as I go. Please pardon my ignorance.</p>\n<p>The contents of the ZIP file downloaded form SourceForge can be seen in the screenshots below:</p>\n<p>Top level:</p>\n<p><a href=\"https://i.stack.imgur.com/fH6jz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fH6jz.png\" alt=\"enter image description here\" /></a></p>\n<p>Features:</p>\n<p><a href=\"https://i.stack.imgur.com/ct5ER.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ct5ER.png\" alt=\"enter image description here\" /></a></p>\n<p>Plugins:</p>\n<p><a href=\"https://i.stack.imgur.com/JXYJF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JXYJF.png\" alt=\"enter image description here\" /></a></p>\n<p>Web:</p>\n<p><a href=\"https://i.stack.imgur.com/wnT1O.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wnT1O.png\" alt=\"enter image description here\" /></a></p>\n<p>I would have tried the forum mentioned on SourceForge, except it does not appear to be well maintained, and the last activity seems to have been in 2013.</p>\n"},{"tags":["java","spring-boot","jackson","webclient","spring-webclient"],"comments":[{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":0,"creation_date":1695072291,"post_id":77130365,"comment_id":135972779,"body_markdown":"What means &quot;it didn&#39;t work&quot;? What is the expected result?","body":"What means &quot;it didn&#39;t work&quot;? What is the expected result?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695229390,"post_id":77130365,"comment_id":135997731,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":11872577,"reputation":321,"user_id":8688388,"display_name":"M. Pour"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695083947,"creation_date":1695083947,"answer_id":77131061,"question_id":77130365,"body_markdown":"To handle the polymorphic deserialization of *animalSpec* in your *AnimalData* class, you&#39;ll need to provide Jackson with additional information about the type of the subclass being used. This can be achieved using annotations or a custom deserializer.\r\n\r\n 1. Add Jackson Annotations: In your *Animal* class, add a ***@JsonTypeInfo*** annotation with ***use = JsonTypeInfo.Id.NAME*** and ***include = JsonTypeInfo.As.PROPERTY***. This will include a type identifier in the JSON for deserialization. (In this example, I&#39;m assuming that the type identifier in the JSON is named &quot;type&quot;. You can adjust the property attribute accordingly if it&#39;s named differently in your actual JSON.)\r\n\r\n        public class Animal {\r\n        // ... existing code ...\r\n    \r\n        @JsonTypeInfo(use = Id.NAME, include = As.PROPERTY, property = &quot;type&quot;)\r\n        protected String sound;\r\n    \r\n        // ... existing code ...}\r\n\r\n 2. Add Subtype Annotations: In each of your subclass (*Cat* and *Dog*), add a ***@JsonTypeName*** annotation with a unique name.\r\n\r\n        @JsonTypeName(&quot;dog&quot;) \r\n        public class Dog extends Animal{\r\n        // ... existing code ...}\r\n    \r\n\r\n 3. Deserialize with ObjectMapper: When you receive the JSON response and need to deserialize it, use an ***ObjectMapper*** with ***@JsonTypeInfo*** support:\r\n\r\n    ```\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    objectMapper.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL);\r\n    AnimalData animalData = objectMapper.readValue(jsonString, AnimalData.class);\r\n    ```\r\n\r\nThe ***enableDefaultTyping*** method is used to configure the ***ObjectMapper*** to include type information in the serialized JSON.\r\n","title":"Spring Boot WebClient Superclass Deserialization","body":"<p>To handle the polymorphic deserialization of <em>animalSpec</em> in your <em>AnimalData</em> class, you'll need to provide Jackson with additional information about the type of the subclass being used. This can be achieved using annotations or a custom deserializer.</p>\n<ol>\n<li><p>Add Jackson Annotations: In your <em>Animal</em> class, add a <em><strong>@JsonTypeInfo</strong></em> annotation with <em><strong>use = JsonTypeInfo.Id.NAME</strong></em> and <em><strong>include = JsonTypeInfo.As.PROPERTY</strong></em>. This will include a type identifier in the JSON for deserialization. (In this example, I'm assuming that the type identifier in the JSON is named &quot;type&quot;. You can adjust the property attribute accordingly if it's named differently in your actual JSON.)</p>\n<pre><code>public class Animal {\n// ... existing code ...\n\n@JsonTypeInfo(use = Id.NAME, include = As.PROPERTY, property = &quot;type&quot;)\nprotected String sound;\n\n// ... existing code ...}\n</code></pre>\n</li>\n<li><p>Add Subtype Annotations: In each of your subclass (<em>Cat</em> and <em>Dog</em>), add a <em><strong>@JsonTypeName</strong></em> annotation with a unique name.</p>\n<pre><code>@JsonTypeName(&quot;dog&quot;) \npublic class Dog extends Animal{\n// ... existing code ...}\n</code></pre>\n</li>\n<li><p>Deserialize with ObjectMapper: When you receive the JSON response and need to deserialize it, use an <em><strong>ObjectMapper</strong></em> with <em><strong>@JsonTypeInfo</strong></em> support:</p>\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\nobjectMapper.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL);\nAnimalData animalData = objectMapper.readValue(jsonString, AnimalData.class);\n</code></pre>\n</li>\n</ol>\n<p>The <em><strong>enableDefaultTyping</strong></em> method is used to configure the <em><strong>ObjectMapper</strong></em> to include type information in the serialized JSON.</p>\n"}],"owner":{"account_id":16549869,"reputation":1,"user_id":11958482,"display_name":"sys_omega"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695083947,"creation_date":1695070774,"question_id":77130365,"body_markdown":"I have a WebClient that gets from an API a response in which one of its fields is the superclass of many other subclasses. For example, lets say that I have a class\r\n\r\n```\r\npublic class Animal {\r\n  protected String sound;\r\n\r\n  public Animal() {\r\n  }\r\n\r\n  public String getSound() {\r\n    return sound;\r\n  }\r\n\r\n  public void setSound(String sound) {\r\n    this.sound = sound;\r\n  }\r\n}\r\n```\r\n\r\nand a couple of subclasses (please, this is just an example)\r\n\r\n\r\n```\r\npublic class Cat extends Animal {\r\n  private String catHouseNumber;\r\n\r\n  public Cat() {\r\n    this.sound = &quot;miau&quot;;\r\n  }\r\n\r\n  public String getCatHouseNumber() {\r\n    return catHouseNumber;\r\n  }\r\n\r\n  public void setCatHouseNumber(String catHouseNumber) {\r\n    this.catHouseNumber = catHouseNumber;\r\n  }\r\n}\r\n```\r\n\r\n```\r\npublic class Dog extends Animal {\r\n\r\n  private String dogDesc;\r\n\r\n  public Dog() {\r\n    this.sound = &quot;guau&quot;;\r\n  }\r\n\r\n  public String getDogDesc() {\r\n    return dogDesc;\r\n  }\r\n\r\n  public void setDogDesc(String dogDesc) {\r\n    this.dogDesc = dogDesc;\r\n  }\r\n}\r\n```\r\n\r\nThen, the response class looks like this\r\n\r\n```\r\npublic class AnimalData {\r\n  private int id;\r\n  private int age;\r\n  private int name;\r\n  private Animal animalSpec;\r\n\r\n  public AnimalData() {\r\n  }\r\n\r\n  public int getId() {\r\n    return id;\r\n  }\r\n\r\n  public void setId(int id) {\r\n    this.id = id;\r\n  }\r\n\r\n  public int getAge() {\r\n    return age;\r\n  }\r\n\r\n  public void setAge(int age) {\r\n    this.age = age;\r\n  }\r\n\r\n  public int getName() {\r\n    return name;\r\n  }\r\n\r\n  public void setName(int name) {\r\n    this.name = name;\r\n  }\r\n\r\n  public Animal getAnimalSpec() {\r\n    return animalSpec;\r\n  }\r\n\r\n  public void setAnimalSpec(Animal animalSpec) {\r\n    this.animalSpec = animalSpec;\r\n  }\r\n}\r\n```\r\n\r\nWhen I make the call with webclient.get()... I need to deserialize &#39;animalSpec&#39;, in AnimalData class, to one of Dog or Cat\r\n\r\n\r\n\r\n\r\nI tried to customize an ObjectMapper but it didn&#39;t work","title":"Spring Boot WebClient Superclass Deserialization","body":"<p>I have a WebClient that gets from an API a response in which one of its fields is the superclass of many other subclasses. For example, lets say that I have a class</p>\n<pre><code>public class Animal {\n  protected String sound;\n\n  public Animal() {\n  }\n\n  public String getSound() {\n    return sound;\n  }\n\n  public void setSound(String sound) {\n    this.sound = sound;\n  }\n}\n</code></pre>\n<p>and a couple of subclasses (please, this is just an example)</p>\n<pre><code>public class Cat extends Animal {\n  private String catHouseNumber;\n\n  public Cat() {\n    this.sound = &quot;miau&quot;;\n  }\n\n  public String getCatHouseNumber() {\n    return catHouseNumber;\n  }\n\n  public void setCatHouseNumber(String catHouseNumber) {\n    this.catHouseNumber = catHouseNumber;\n  }\n}\n</code></pre>\n<pre><code>public class Dog extends Animal {\n\n  private String dogDesc;\n\n  public Dog() {\n    this.sound = &quot;guau&quot;;\n  }\n\n  public String getDogDesc() {\n    return dogDesc;\n  }\n\n  public void setDogDesc(String dogDesc) {\n    this.dogDesc = dogDesc;\n  }\n}\n</code></pre>\n<p>Then, the response class looks like this</p>\n<pre><code>public class AnimalData {\n  private int id;\n  private int age;\n  private int name;\n  private Animal animalSpec;\n\n  public AnimalData() {\n  }\n\n  public int getId() {\n    return id;\n  }\n\n  public void setId(int id) {\n    this.id = id;\n  }\n\n  public int getAge() {\n    return age;\n  }\n\n  public void setAge(int age) {\n    this.age = age;\n  }\n\n  public int getName() {\n    return name;\n  }\n\n  public void setName(int name) {\n    this.name = name;\n  }\n\n  public Animal getAnimalSpec() {\n    return animalSpec;\n  }\n\n  public void setAnimalSpec(Animal animalSpec) {\n    this.animalSpec = animalSpec;\n  }\n}\n</code></pre>\n<p>When I make the call with webclient.get()... I need to deserialize 'animalSpec', in AnimalData class, to one of Dog or Cat</p>\n<p>I tried to customize an ObjectMapper but it didn't work</p>\n"},{"tags":["java","maven","gradle","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":22264444,"reputation":1,"user_id":16495935,"display_name":"appmac"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695082522,"creation_date":1695078813,"answer_id":77130837,"question_id":77130813,"body_markdown":"Instead of going through the hassle of editing many files, an &quot;update&quot; repository button seems to be available in the IDE. \r\n\r\n**File &gt; Settings &gt; Build, Execution, Deployment &gt; Build Tools &gt; Maven &gt; Repositories**\r\n\r\n[Update Repository (Maven)][1]\r\n\r\n\r\nThis fixed my problem, it redownloaded/reindexes packages.\r\n\r\nThanks StackOverflow!\r\n\r\n###################################################\r\n# # EDIT: The problem is back, in force! \r\nI don&#39;t understand why he can&#39;t resolve a &quot;Google&quot; import statement, this is weird. Must be because of folders I deleted. Guess I&#39;ll need to reimport everything?\r\n###################################################\r\n\r\n# # EDIT2: The problem is solved!\r\nI found out that while deleting and moving folders, I forgot to fix the folder path for the &quot;folder library&quot; added in the module.\r\n\r\nI found out that the libraries added to the modules, via windows folder/browse, doesn&#39;t automatically get remapped like some using the $PROJECT_Dir.\r\n\r\nThe &quot;now-readded&quot; libraries are resolving fine, even at runtime.\r\n\r\nFix: \r\n1. Open your problematic project.\r\n2. Open the &quot;Porject Structure&quot;\r\n3. Add a new library (see picture 1: [picture 1][2])\r\n4. Browse the &quot;now-fixed&quot; path\r\n5. Apply &amp; Reload Maven Project\r\n6. If needed, &quot;update&quot; the Maven repository in &quot;Settings&quot; in my upper post.\r\n\r\nHopefully this will fix your problem too, I added some tracks in my upper post if that still doesn&#39;t fix it for you.\r\n\r\nGood luck on your journey!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9qwkj.png\r\n  [2]: https://i.stack.imgur.com/8Ty6L.png","title":"IntelliJ: Java: Package does not exist (Maven)","body":"<p>Instead of going through the hassle of editing many files, an &quot;update&quot; repository button seems to be available in the IDE.</p>\n<p><strong>File &gt; Settings &gt; Build, Execution, Deployment &gt; Build Tools &gt; Maven &gt; Repositories</strong></p>\n<p><a href=\"https://i.stack.imgur.com/9qwkj.png\" rel=\"nofollow noreferrer\">Update Repository (Maven)</a></p>\n<p>This fixed my problem, it redownloaded/reindexes packages.</p>\n<p>Thanks StackOverflow!</p>\n<p>###################################################</p>\n<h1># EDIT: The problem is back, in force!</h1>\n<p>I don't understand why he can't resolve a &quot;Google&quot; import statement, this is weird. Must be because of folders I deleted. Guess I'll need to reimport everything?\n###################################################</p>\n<h1># EDIT2: The problem is solved!</h1>\n<p>I found out that while deleting and moving folders, I forgot to fix the folder path for the &quot;folder library&quot; added in the module.</p>\n<p>I found out that the libraries added to the modules, via windows folder/browse, doesn't automatically get remapped like some using the $PROJECT_Dir.</p>\n<p>The &quot;now-readded&quot; libraries are resolving fine, even at runtime.</p>\n<p>Fix:</p>\n<ol>\n<li>Open your problematic project.</li>\n<li>Open the &quot;Porject Structure&quot;</li>\n<li>Add a new library (see picture 1: <a href=\"https://i.stack.imgur.com/8Ty6L.png\" rel=\"nofollow noreferrer\">picture 1</a>)</li>\n<li>Browse the &quot;now-fixed&quot; path</li>\n<li>Apply &amp; Reload Maven Project</li>\n<li>If needed, &quot;update&quot; the Maven repository in &quot;Settings&quot; in my upper post.</li>\n</ol>\n<p>Hopefully this will fix your problem too, I added some tracks in my upper post if that still doesn't fix it for you.</p>\n<p>Good luck on your journey!</p>\n"}],"owner":{"account_id":22264444,"reputation":1,"user_id":16495935,"display_name":"appmac"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695082522,"creation_date":1695078364,"question_id":77130813,"body_markdown":"I got this error several times, palying with the .m2 and .gradle directory files (too huge/deletion)\r\n\r\n[Error.jpeg](https://i.stack.imgur.com/AKHgz.png)\r\n\r\n\r\n\r\n\r\n\r\nAfter trying many solutions on the web error was still there... (invalidating caches, mvn clean/install, etc...)\r\n\r\nRefer to this guy thanking &quot;Andrey&quot;: https://intellij-support.jetbrains.com/hc/en-us/community/posts/203365204/comments/360001626200\r\n\r\n&quot;Andrey&quot; post: https://stackoverflow.com/questions/60990976/cant-compile-run-a-java-project-in-intellij?noredirect=1#comment108874882_60990976\r\n\r\n*if you follow the link chain and read carefully, you may need to play with the IDE/files (path.macros.xml) and repositories hard links in files... still wondering why it bugs out so much only for moving a couple folder for a so intelligent dev env.\r\n\r\nthanks for any help! (it also doesn&#39;t find packages in pure java projects (no mvn/gradle))","title":"IntelliJ: Java: Package does not exist (Maven)","body":"<p>I got this error several times, palying with the .m2 and .gradle directory files (too huge/deletion)</p>\n<p><a href=\"https://i.stack.imgur.com/AKHgz.png\" rel=\"nofollow noreferrer\">Error.jpeg</a></p>\n<p>After trying many solutions on the web error was still there... (invalidating caches, mvn clean/install, etc...)</p>\n<p>Refer to this guy thanking &quot;Andrey&quot;: <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/203365204/comments/360001626200\" rel=\"nofollow noreferrer\">https://intellij-support.jetbrains.com/hc/en-us/community/posts/203365204/comments/360001626200</a></p>\n<p>&quot;Andrey&quot; post: <a href=\"https://stackoverflow.com/questions/60990976/cant-compile-run-a-java-project-in-intellij?noredirect=1#comment108874882_60990976\">Can&#39;t compile/run a java project in IntelliJ</a></p>\n<p>*if you follow the link chain and read carefully, you may need to play with the IDE/files (path.macros.xml) and repositories hard links in files... still wondering why it bugs out so much only for moving a couple folder for a so intelligent dev env.</p>\n<p>thanks for any help! (it also doesn't find packages in pure java projects (no mvn/gradle))</p>\n"},{"tags":["java","android","process"],"comments":[{"owner":{"account_id":2471937,"reputation":5110,"user_id":2153567,"accept_rate":77,"display_name":"Hawk"},"score":1,"creation_date":1430110596,"post_id":29887429,"comment_id":47898726,"body_markdown":"Your question is lacking enough details.","body":"Your question is lacking enough details."},{"owner":{"account_id":6182119,"reputation":111,"user_id":4817254,"display_name":"Mitte"},"score":0,"creation_date":1430110782,"post_id":29887429,"comment_id":47898779,"body_markdown":"I tried to attach a screen shot to help explain but it told me that I don&#39;t have enough reputation to attach pictures :(","body":"I tried to attach a screen shot to help explain but it told me that I don&#39;t have enough reputation to attach pictures :("},{"owner":{"account_id":2411637,"reputation":829,"user_id":2106576,"display_name":"Kishore"},"score":0,"creation_date":1430111305,"post_id":29887429,"comment_id":47898954,"body_markdown":"possible duplicate of [How to kill an application with all its activities?](http://stackoverflow.com/questions/3105673/how-to-kill-an-application-with-all-its-activities)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/3105673/how-to-kill-an-application-with-all-its-activities\">How to kill an application with all its activities?</a>"},{"owner":{"account_id":4645337,"reputation":6283,"user_id":3763850,"accept_rate":83,"display_name":"Gemtastic"},"score":0,"creation_date":1430111490,"post_id":29887429,"comment_id":47899028,"body_markdown":"possible duplicate of [Quitting an application - is that frowned upon?](http://stackoverflow.com/questions/2033914/quitting-an-application-is-that-frowned-upon)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/2033914/quitting-an-application-is-that-frowned-upon\">Quitting an application - is that frowned upon?</a>"},{"owner":{"account_id":1686251,"reputation":4392,"user_id":1549476,"accept_rate":88,"display_name":"k_g"},"score":0,"creation_date":1430111497,"post_id":29887429,"comment_id":47899029,"body_markdown":"@Kishore not really, that&#39;s about killing your own app, not a system app.","body":"@Kishore not really, that&#39;s about killing your own app, not a system app."},{"owner":{"account_id":6182119,"reputation":111,"user_id":4817254,"display_name":"Mitte"},"score":0,"creation_date":1430111643,"post_id":29887429,"comment_id":47899075,"body_markdown":"Yes, I want to kill not only my own app, but also other apps.","body":"Yes, I want to kill not only my own app, but also other apps."},{"owner":{"account_id":2411637,"reputation":829,"user_id":2106576,"display_name":"Kishore"},"score":0,"creation_date":1430111736,"post_id":29887429,"comment_id":47899103,"body_markdown":"AFAIK, to kill a system app, the killer has to be a system app ,i.e., the killer process needs to have root or superuser permissions.","body":"AFAIK, to kill a system app, the killer has to be a system app ,i.e., the killer process needs to have root or superuser permissions."},{"owner":{"account_id":6182119,"reputation":111,"user_id":4817254,"display_name":"Mitte"},"score":0,"creation_date":1430111830,"post_id":29887429,"comment_id":47899139,"body_markdown":"Can I kill other user apps?","body":"Can I kill other user apps?"},{"owner":{"account_id":2411637,"reputation":829,"user_id":2106576,"display_name":"Kishore"},"score":0,"creation_date":1430112188,"post_id":29887429,"comment_id":47899287,"body_markdown":"You can check out ActivityManager and lowmemorykiller code in the android framework. These actually do the job of killing and swapping out processes.","body":"You can check out ActivityManager and lowmemorykiller code in the android framework. These actually do the job of killing and swapping out processes."}],"answers":[{"tags":[],"owner":{"account_id":2356082,"reputation":1913,"user_id":2063833,"accept_rate":50,"display_name":"Jeffy Lazar"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1554995968,"creation_date":1430111627,"answer_id":29887666,"question_id":29887429,"body_markdown":"get the process ID of your application, and kill that process onDestroy() method\r\n\r\n    @Override\r\n    public void onDestroy()\r\n     {\r\n        super.onDestroy();\r\n    \r\n        int id= android.os.Process.myPid();\r\n        android.os.Process.killProcess(id);\r\n     }\r\n\r\n\r\nor \r\n\r\n    getActivity().finish();\r\n    System.exit(0);\r\n\r\nand if you want to kill other apps from your activity, then this should work \r\n\r\nYou can send the signal using:\r\n\r\n    Process.sendSignal(pid, Process.SIGNAL_KILL);\r\n\r\nTo completely kill the process, it&#39;s recommended to call:\r\n\r\n    ActivityManager.killBackgroundProcesses(packageNameToKill)\r\n\r\nbefore sending the signal.\r\n\r\nPlease, note that your app needs to own the KILL_BACKGROUND_PROCESSES permission. Thus, in the AndroidManifest.xml, you need to include:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.KILL_BACKGROUND_PROCESSES&quot; /&gt;","title":"How can I programmatically force stop an Android app with Java?","body":"<p>get the process ID of your application, and kill that process onDestroy() method</p>\n\n<pre><code>@Override\npublic void onDestroy()\n {\n    super.onDestroy();\n\n    int id= android.os.Process.myPid();\n    android.os.Process.killProcess(id);\n }\n</code></pre>\n\n<p>or </p>\n\n<pre><code>getActivity().finish();\nSystem.exit(0);\n</code></pre>\n\n<p>and if you want to kill other apps from your activity, then this should work </p>\n\n<p>You can send the signal using:</p>\n\n<pre><code>Process.sendSignal(pid, Process.SIGNAL_KILL);\n</code></pre>\n\n<p>To completely kill the process, it's recommended to call:</p>\n\n<pre><code>ActivityManager.killBackgroundProcesses(packageNameToKill)\n</code></pre>\n\n<p>before sending the signal.</p>\n\n<p>Please, note that your app needs to own the KILL_BACKGROUND_PROCESSES permission. Thus, in the AndroidManifest.xml, you need to include:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;uses-permission android:name=\"android.permission.KILL_BACKGROUND_PROCESSES\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5427636,"reputation":6065,"user_id":4319438,"accept_rate":100,"display_name":"Santosh Shinde"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1430112248,"creation_date":1430111896,"answer_id":29887721,"question_id":29887429,"body_markdown":"Try to use following code \r\n\r\n\t\tfinish(); // for stopping Current Activity\r\n\r\n\t\t// add this line for Removing Force Close\r\n\r\n\t\t@Override\r\n\t\t\tprotected void onDestroy() {\r\n\t\t// closing Entire Application\r\n\t\t\t\tandroid.os.Process.killProcess(android.os.Process.myPid());\r\n\t\t\t\tsuper.onDestroy();\r\n\t\t\t}\r\n\t\t}\r\n\r\nMay be this solution will help you https://stackoverflow.com/questions/26186059/force-close-an-app-programmatically","title":"How can I programmatically force stop an Android app with Java?","body":"<p>Try to use following code </p>\n\n<pre><code>    finish(); // for stopping Current Activity\n\n    // add this line for Removing Force Close\n\n    @Override\n        protected void onDestroy() {\n    // closing Entire Application\n            android.os.Process.killProcess(android.os.Process.myPid());\n            super.onDestroy();\n        }\n    }\n</code></pre>\n\n<p>May be this solution will help you <a href=\"https://stackoverflow.com/questions/26186059/force-close-an-app-programmatically\">Force Close an app programmatically</a></p>\n"}],"owner":{"account_id":6182119,"reputation":111,"user_id":4817254,"display_name":"Mitte"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31011,"favorite_count":0,"down_vote_count":2,"up_vote_count":15,"accepted_answer_id":29887666,"answer_count":2,"score":13,"last_activity_date":1695082015,"creation_date":1430110263,"question_id":29887429,"body_markdown":"How can I force stop an app with Java? I&#39;m trying to build a memory cleaner that can help clean out background processes.\r\n\r\nI know there is a way to kill the process of an app, but when you go to the running list, the app is still there even after you have killed it. And I have tried a lot of similar memory cleaning apps, only one of them can totally force stop apps but it has so many useless notifications - very annoying.\r\n\r\nP.S.: When you go to Settings -&gt; Apps, you will see a list of apps. Click on one of these apps and you end up on the app&#39;s info. There is a button named _&quot;force stop&quot;_. By clicking on it, the app is killed. I want to perform that kind of action in my app. How can this be done?\r\n\r\n![force stop example][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/9MHDG.png","title":"How can I programmatically force stop an Android app with Java?","body":"<p>How can I force stop an app with Java? I'm trying to build a memory cleaner that can help clean out background processes.</p>\n\n<p>I know there is a way to kill the process of an app, but when you go to the running list, the app is still there even after you have killed it. And I have tried a lot of similar memory cleaning apps, only one of them can totally force stop apps but it has so many useless notifications - very annoying.</p>\n\n<p>P.S.: When you go to Settings -> Apps, you will see a list of apps. Click on one of these apps and you end up on the app's info. There is a button named <em>\"force stop\"</em>. By clicking on it, the app is killed. I want to perform that kind of action in my app. How can this be done?</p>\n\n<p><img src=\"https://i.stack.imgur.com/9MHDG.png\" alt=\"force stop example\"></p>\n"},{"tags":["javascript","java","reflection","jestjs","ts-jest"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1636108633,"post_id":69851891,"comment_id":123474430,"body_markdown":"You want javascript code that gets annotation information from java classes? I don&#39;t think thats possible.","body":"You want javascript code that gets annotation information from java classes? I don&#39;t think thats possible."},{"owner":{"account_id":22564587,"reputation":87,"user_id":16751788,"display_name":"johny"},"score":0,"creation_date":1636109205,"post_id":69851891,"comment_id":123474636,"body_markdown":"srry typescript","body":"srry typescript"}],"answers":[{"tags":[],"owner":{"account_id":1730446,"reputation":7868,"user_id":1584167,"display_name":"udalmik"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1636110278,"creation_date":1636110278,"answer_id":69852263,"question_id":69851891,"body_markdown":"Please take a look at Typescript&#39;s [Decorators][1] + [Reflect Metadata API][2], which can also be enabled for TS compiler. It doesn&#39;t work exactly as Java, but you still can collect required information about annotated entities. Small example of how to collect annotated classes:\r\n\r\n```\r\nconst myTypes: any[] = []\r\n\r\n@annotation\r\nclass MyClass {\r\n  type = &quot;report&quot;;\r\n  title: string;\r\n \r\n  constructor(t: string) {\r\n    this.title = t;\r\n  }\r\n}\r\n\r\nfunction annotation(constructor: Function) {\r\n    myTypes.push(constructor)\r\n}\r\n\r\nconsole.log(&#39;All annotated classes&#39;, myTypes);\r\n\r\n```\r\n\r\n\r\n  [1]: https://www.typescriptlang.org/docs/handbook/decorators.html\r\n  [2]: https://github.com/rbuckton/reflect-metadata","title":"How to use Reflection in typescript similarly like in java?","body":"<p>Please take a look at Typescript's <a href=\"https://www.typescriptlang.org/docs/handbook/decorators.html\" rel=\"nofollow noreferrer\">Decorators</a> + <a href=\"https://github.com/rbuckton/reflect-metadata\" rel=\"nofollow noreferrer\">Reflect Metadata API</a>, which can also be enabled for TS compiler. It doesn't work exactly as Java, but you still can collect required information about annotated entities. Small example of how to collect annotated classes:</p>\n<pre><code>const myTypes: any[] = []\n\n@annotation\nclass MyClass {\n  type = &quot;report&quot;;\n  title: string;\n \n  constructor(t: string) {\n    this.title = t;\n  }\n}\n\nfunction annotation(constructor: Function) {\n    myTypes.push(constructor)\n}\n\nconsole.log('All annotated classes', myTypes);\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9619351,"reputation":184,"user_id":7141090,"display_name":"Hookyns"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695080467,"creation_date":1644804541,"answer_id":71106480,"question_id":69851891,"body_markdown":"Try my library [tst-reflect](https://github.com/Hookyns/ts-reflection).\r\nIt is pretty advanced Reflection system for TypeScript (*using custom typescript transformer plugin*).\r\n\r\nThis should be equivalent of your Java code:\r\n\r\n```typescript\r\nimport {\r\n\treflect,\r\n\tType\r\n} from &quot;tst-reflect&quot;;\r\n\r\n// Some decorator...\r\nfunction test(_, __)\r\n{\r\n}\r\n\r\n@reflect()\r\nclass A\r\n{\r\n\t@test\r\n\tfoo()\r\n\t{\r\n\t\treturn 0;\r\n\t}\r\n\r\n\tbar()\r\n\t{\r\n\t\treturn &quot;lorem ipsum&quot;;\r\n\t}\r\n}\r\n\r\n@reflect()\r\nclass B\r\n{\r\n\t@test\r\n\tbar()\r\n\t{\r\n\t\treturn &quot;lorem ipsum&quot;;\r\n\t}\r\n}\r\n\r\n@reflect()\r\nclass C\r\n{\r\n\tbaz()\r\n\t{\r\n\t\treturn &quot;lorem ipsum&quot;;\r\n\t}\r\n}\r\n\r\nconst decoratedMethods = Type.getTypes()\r\n\t.flatMap(type =&gt; type.getMethods().map(method =&gt; ({ method, type })))\r\n\t.filter(entry =&gt; entry.method.getDecorators().some(decorator =&gt; decorator.name == &quot;test&quot;));\r\n\r\nfor (let entry of decoratedMethods)\r\n{\r\n\tconsole.log(entry.method.name, &quot;in&quot;, entry.type.name);\r\n}\r\n```\r\n\r\n**Output**\r\n```\r\nfoo in A\r\nbar in B\r\n```\r\nCheck [Synopsis](https://github.com/Hookyns/ts-reflection#synopsis).\r\nYou are able to create instances of those types (even they are from different files) and call those methods. \r\nAlso those decorators can have arguments so you will be able to filter methods with same decorators but different arguments.\r\n\r\n`tst-reflect` is still in development so the global look ups of types require those `@reflect` decorators or custom decorators with `@reflect` JSDoc tag; reason is size optimization of the generated metadata. But there is an [issue](https://github.com/Hookyns/ts-reflection/issues/29) to extend configuration by &quot;include&quot; glob patterns which will include all types from all the modules matched by that globs.\r\n\r\nPS: Check out [configuration wiki](https://github.com/Hookyns/ts-reflection/wiki/Configuration) and use this configuration:\r\n\r\n&gt; tsconfig.json\r\n```json5\r\n{\r\n    &quot;compilerOptions&quot;: {\r\n        // your options...\r\n\r\n        // ADD THIS!\r\n        &quot;plugins&quot;: [\r\n            {\r\n                &quot;transform&quot;: &quot;tst-reflect-transformer&quot;\r\n            }\r\n        ]\r\n    },\r\n\t// ADD THIS!\r\n\t&quot;reflection&quot;: {\r\n\t\t&quot;metadata&quot;: {\r\n\t\t\t&quot;type&quot;: &quot;typelib&quot; // this mode will generate and auto-import library with generated reflection metadata\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"How to use Reflection in typescript similarly like in java?","body":"<p>Try my library <a href=\"https://github.com/Hookyns/ts-reflection\" rel=\"nofollow noreferrer\">tst-reflect</a>.\nIt is pretty advanced Reflection system for TypeScript (<em>using custom typescript transformer plugin</em>).</p>\n<p>This should be equivalent of your Java code:</p>\n<pre class=\"lang-js prettyprint-override\"><code>import {\n    reflect,\n    Type\n} from &quot;tst-reflect&quot;;\n\n// Some decorator...\nfunction test(_, __)\n{\n}\n\n@reflect()\nclass A\n{\n    @test\n    foo()\n    {\n        return 0;\n    }\n\n    bar()\n    {\n        return &quot;lorem ipsum&quot;;\n    }\n}\n\n@reflect()\nclass B\n{\n    @test\n    bar()\n    {\n        return &quot;lorem ipsum&quot;;\n    }\n}\n\n@reflect()\nclass C\n{\n    baz()\n    {\n        return &quot;lorem ipsum&quot;;\n    }\n}\n\nconst decoratedMethods = Type.getTypes()\n    .flatMap(type =&gt; type.getMethods().map(method =&gt; ({ method, type })))\n    .filter(entry =&gt; entry.method.getDecorators().some(decorator =&gt; decorator.name == &quot;test&quot;));\n\nfor (let entry of decoratedMethods)\n{\n    console.log(entry.method.name, &quot;in&quot;, entry.type.name);\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>foo in A\nbar in B\n</code></pre>\n<p>Check <a href=\"https://github.com/Hookyns/ts-reflection#synopsis\" rel=\"nofollow noreferrer\">Synopsis</a>.\nYou are able to create instances of those types (even they are from different files) and call those methods.\nAlso those decorators can have arguments so you will be able to filter methods with same decorators but different arguments.</p>\n<p><code>tst-reflect</code> is still in development so the global look ups of types require those <code>@reflect</code> decorators or custom decorators with <code>@reflect</code> JSDoc tag; reason is size optimization of the generated metadata. But there is an <a href=\"https://github.com/Hookyns/ts-reflection/issues/29\" rel=\"nofollow noreferrer\">issue</a> to extend configuration by &quot;include&quot; glob patterns which will include all types from all the modules matched by that globs.</p>\n<p>PS: Check out <a href=\"https://github.com/Hookyns/ts-reflection/wiki/Configuration\" rel=\"nofollow noreferrer\">configuration wiki</a> and use this configuration:</p>\n<blockquote>\n<p>tsconfig.json</p>\n</blockquote>\n<pre><code>{\n    &quot;compilerOptions&quot;: {\n        // your options...\n\n        // ADD THIS!\n        &quot;plugins&quot;: [\n            {\n                &quot;transform&quot;: &quot;tst-reflect-transformer&quot;\n            }\n        ]\n    },\n    // ADD THIS!\n    &quot;reflection&quot;: {\n        &quot;metadata&quot;: {\n            &quot;type&quot;: &quot;typelib&quot; // this mode will generate and auto-import library with generated reflection metadata\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22564587,"reputation":87,"user_id":16751788,"display_name":"johny"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10894,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1695080467,"creation_date":1636108426,"question_id":69851891,"body_markdown":"I&#39;m using reflection in Java to obtain some information from the TestNG annotation like in the code snippet below:\r\n```java\r\nReflections reflections = new Reflections(&quot;&quot;, new MethodAnnotationsScanner())\r\nSet&lt;Method&gt; annotated = reflections.getMethodsAnnotatedWith(Test.class)\r\n```\r\nCurrently, I have a jest framework with a jest-decorated plugin to help in using annotations.\r\n\r\nHow I can replicate the same reflection method in Java but in typescript to collect this information from the annotations?","title":"How to use Reflection in typescript similarly like in java?","body":"<p>I'm using reflection in Java to obtain some information from the TestNG annotation like in the code snippet below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Reflections reflections = new Reflections(&quot;&quot;, new MethodAnnotationsScanner())\nSet&lt;Method&gt; annotated = reflections.getMethodsAnnotatedWith(Test.class)\n</code></pre>\n<p>Currently, I have a jest framework with a jest-decorated plugin to help in using annotations.</p>\n<p>How I can replicate the same reflection method in Java but in typescript to collect this information from the annotations?</p>\n"},{"tags":["java","memory","neo4j","size"],"answers":[{"tags":[],"owner":{"account_id":947871,"reputation":64267,"user_id":974731,"display_name":"cybersam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695079707,"creation_date":1695079707,"answer_id":77130892,"question_id":77130551,"body_markdown":"You can use batching to reduce the memory requirements of individual transaction(s).\r\n\r\nYou can do batching with a [CALL subquery](https://neo4j.com/docs/cypher-manual/current/clauses/call-subquery/#_batching) or APOC [procedures for batch transactions](https://neo4j.com/docs/apoc/current/graph-updates/periodic-execution/#periodic-execution-proc-overview).","title":"How to fix org.neo4j.internal.unsafe.NativeMemoryAllocationRefusedError?","body":"<p>You can use batching to reduce the memory requirements of individual transaction(s).</p>\n<p>You can do batching with a <a href=\"https://neo4j.com/docs/cypher-manual/current/clauses/call-subquery/#_batching\" rel=\"nofollow noreferrer\">CALL subquery</a> or APOC <a href=\"https://neo4j.com/docs/apoc/current/graph-updates/periodic-execution/#periodic-execution-proc-overview\" rel=\"nofollow noreferrer\">procedures for batch transactions</a>.</p>\n"}],"owner":{"account_id":29477101,"reputation":1,"user_id":22588637,"display_name":"imtoodumbforthisworld"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695079707,"creation_date":1695073372,"question_id":77130551,"body_markdown":"would be happy for any help regarding the following Problem. \r\nI need to create a neo4j Graph out of words of documents. It always worked fine for 1000 Documents, but for 3000 Documents i get this memory error. I already uincreased the heap size with -Xmx4096m, but that didnt solve the problem. I would be thankfull for any answers to this problem.\r\n```\r\nException in thread &quot;main&quot; org.neo4j.internal.unsafe.NativeMemoryAllocationRefusedError: Failed to allocate 524288 bytes. So far 36235008 bytes have already been successfully allocated. The system currently has 16930299904 bytes total physical memory, 57805078528 bytes committed virtual memory, and 570298368 bytes free physical memory. Relevant system properties: &quot;java.vm.name&quot; = &quot;OpenJDK 64-Bit Server VM&quot;, &quot;java.vm.vendor&quot; = &quot;OpenLogic&quot;, &quot;os.arch&quot; = &quot;amd64&quot;.\r\n\tat org.neo4j.internal.unsafe.UnsafeUtil.allocateMemory(UnsafeUtil.java:444)\r\n\tat org.neo4j.io.mem.GrabAllocator$Grab.&lt;init&gt;(GrabAllocator.java:90)\r\n\tat org.neo4j.io.mem.GrabAllocator$Grabs.allocateAligned(GrabAllocator.java:244)\r\n\tat org.neo4j.io.mem.GrabAllocator.allocateAligned(GrabAllocator.java:70)\r\n\tat org.neo4j.io.pagecache.impl.muninn.PageList.initBuffer(PageList.java:299)\r\n\tat org.neo4j.io.pagecache.impl.muninn.MuninnPageCursor.pageFault(MuninnPageCursor.java:419)\r\n\tat org.neo4j.io.pagecache.impl.muninn.MuninnPageCursor.uncommonPin(MuninnPageCursor.java:369)\r\n\tat org.neo4j.io.pagecache.impl.muninn.MuninnPageCursor.pin(MuninnPageCursor.java:337)\r\n\tat org.neo4j.io.pagecache.impl.muninn.MuninnReadPageCursor.next(MuninnReadPageCursor.java:63)\r\n\tat org.neo4j.io.pagecache.impl.muninn.MuninnPageCursor.next(MuninnPageCursor.java:160)\r\n\tat org.neo4j.kernel.impl.store.CommonAbstractStore.readIntoRecord(CommonAbstractStore.java:885)\r\n\tat org.neo4j.kernel.impl.store.CommonAbstractStore.getRecordByCursor(CommonAbstractStore.java:869)\r\n\tat org.neo4j.internal.recordstorage.RecordPropertyCursor.property(RecordPropertyCursor.java:439)\r\n\tat org.neo4j.internal.recordstorage.RecordPropertyCursor.next(RecordPropertyCursor.java:160)\r\n\tat org.neo4j.kernel.impl.newapi.DefaultPropertyCursor.next(DefaultPropertyCursor.java:163)\r\n\tat org.neo4j.kernel.impl.newapi.DefaultPropertyCursor.seekProperty(DefaultPropertyCursor.java:235)\r\n\tat org.neo4j.kernel.impl.core.NodeEntity.getProperty(NodeEntity.java:439)\r\n\tat core.Cooccs.addSentenceToCooccsDB(Cooccs.java:661)\r\n\tat core.Cooccs.&lt;init&gt;(Cooccs.java:577)\r\n\tat core.TextProcessing.createDB(TextProcessing.java:386)\r\n\tat core.TextProcessing.main(TextProcessing.java:1085)\r\n\r\n```\r\n","title":"How to fix org.neo4j.internal.unsafe.NativeMemoryAllocationRefusedError?","body":"<p>would be happy for any help regarding the following Problem.\nI need to create a neo4j Graph out of words of documents. It always worked fine for 1000 Documents, but for 3000 Documents i get this memory error. I already uincreased the heap size with -Xmx4096m, but that didnt solve the problem. I would be thankfull for any answers to this problem.</p>\n<pre><code>Exception in thread &quot;main&quot; org.neo4j.internal.unsafe.NativeMemoryAllocationRefusedError: Failed to allocate 524288 bytes. So far 36235008 bytes have already been successfully allocated. The system currently has 16930299904 bytes total physical memory, 57805078528 bytes committed virtual memory, and 570298368 bytes free physical memory. Relevant system properties: &quot;java.vm.name&quot; = &quot;OpenJDK 64-Bit Server VM&quot;, &quot;java.vm.vendor&quot; = &quot;OpenLogic&quot;, &quot;os.arch&quot; = &quot;amd64&quot;.\n    at org.neo4j.internal.unsafe.UnsafeUtil.allocateMemory(UnsafeUtil.java:444)\n    at org.neo4j.io.mem.GrabAllocator$Grab.&lt;init&gt;(GrabAllocator.java:90)\n    at org.neo4j.io.mem.GrabAllocator$Grabs.allocateAligned(GrabAllocator.java:244)\n    at org.neo4j.io.mem.GrabAllocator.allocateAligned(GrabAllocator.java:70)\n    at org.neo4j.io.pagecache.impl.muninn.PageList.initBuffer(PageList.java:299)\n    at org.neo4j.io.pagecache.impl.muninn.MuninnPageCursor.pageFault(MuninnPageCursor.java:419)\n    at org.neo4j.io.pagecache.impl.muninn.MuninnPageCursor.uncommonPin(MuninnPageCursor.java:369)\n    at org.neo4j.io.pagecache.impl.muninn.MuninnPageCursor.pin(MuninnPageCursor.java:337)\n    at org.neo4j.io.pagecache.impl.muninn.MuninnReadPageCursor.next(MuninnReadPageCursor.java:63)\n    at org.neo4j.io.pagecache.impl.muninn.MuninnPageCursor.next(MuninnPageCursor.java:160)\n    at org.neo4j.kernel.impl.store.CommonAbstractStore.readIntoRecord(CommonAbstractStore.java:885)\n    at org.neo4j.kernel.impl.store.CommonAbstractStore.getRecordByCursor(CommonAbstractStore.java:869)\n    at org.neo4j.internal.recordstorage.RecordPropertyCursor.property(RecordPropertyCursor.java:439)\n    at org.neo4j.internal.recordstorage.RecordPropertyCursor.next(RecordPropertyCursor.java:160)\n    at org.neo4j.kernel.impl.newapi.DefaultPropertyCursor.next(DefaultPropertyCursor.java:163)\n    at org.neo4j.kernel.impl.newapi.DefaultPropertyCursor.seekProperty(DefaultPropertyCursor.java:235)\n    at org.neo4j.kernel.impl.core.NodeEntity.getProperty(NodeEntity.java:439)\n    at core.Cooccs.addSentenceToCooccsDB(Cooccs.java:661)\n    at core.Cooccs.&lt;init&gt;(Cooccs.java:577)\n    at core.TextProcessing.createDB(TextProcessing.java:386)\n    at core.TextProcessing.main(TextProcessing.java:1085)\n\n</code></pre>\n"},{"tags":["java","android","drag-and-drop","android-animation"],"owner":{"account_id":29477354,"reputation":1,"user_id":22588817,"display_name":"mohammad alatawna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695079630,"creation_date":1695079534,"question_id":77130883,"body_markdown":"i have a constraint layout with flow to make a multi line chain of unknow number of different size textviews , my current goal is to implement a drag and drop funtionality to this layout which will make it possible for the user to play with the order of the elements of the flow by dragging them around (such functionality can be found in the implementation of drag and drop of recyclervire class)\r\n\r\nthe problem : after dragging the shadow around my code is changing the position of the original textview (which the shadow represent) and everything works fine , however when the user drops the shadow , the shadow animates to the original position of the textview which no longer is there (it transfered visualy to anither position) , i want the shadow to just disappear when its dropped instead of animated back to its original position .\r\n\r\nhere is my java code :\r\n\r\n```\r\n    public void onImageClick(View view){\r\n        draggedTextView = null ; //this variable is global and used to store the current dragged textview\r\n        ArrayList&lt;TextView&gt; textViews = new ArrayList&lt;&gt;() ;\r\n\r\n        //the dialog is used to open a new layout upon the mainLayout and its the problem accrues here \r\n        Dialog dialog = new Dialog(this) ;\r\n        dialog.getWindow().setBackgroundDrawableResource(R.color.transparent);\r\n        dialog.setContentView(R.layout.menu_for_collaping_tool_bar);\r\n        dialog.setCanceledOnTouchOutside(false);\r\n        Button btn = dialog.findViewById(R.id.appCompatButton) ;\r\n        btn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                dialog.dismiss();\r\n            }\r\n        });\r\n\r\n        //the layout which contains the flow\r\n        ConstraintLayout interestsLayout = dialog.findViewById(R.id.constraintLayout2) ;\r\n        Flow interestsLayoutFlow = dialog.findViewById(R.id.flow) ;\r\n\r\n        //this two variables and the first for loop is for creating the default state of the flow\r\n        //in addition to adding the data to the flow represented with textViews\r\n        int lastRandom = -1 ;\r\n        int currRandom = -1 ;\r\n        for(int i = 0 ; i &lt; interestsArray.size() ; i ++){\r\n            TextView textView = new TextView(this) ;\r\n            textView.setId(View.generateViewId());\r\n            textView.setText(interestsArray.get(i));\r\n            textView.setGravity(View.TEXT_ALIGNMENT_CENTER);\r\n            textView.setPadding(20,20,20,20);\r\n            textView.setLayoutParams(new ConstraintLayout.LayoutParams(ViewGroup.LayoutParams.WRAP_CONTENT , ViewGroup.LayoutParams.WRAP_CONTENT));\r\n            do{\r\n                lastRandom = currRandom ;\r\n                currRandom = (int)(Math.random()*5) + 1 ;\r\n            }while (lastRandom == currRandom) ;\r\n            assignBorder(textView , currRandom);\r\n\r\n            interestsLayout.addView(textView);\r\n            interestsLayoutFlow.addView(textView);\r\n\r\n            textViews.add(textView) ;\r\n\r\n            //i have no idea what the hell is that\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\r\n                textView.updateDragShadow(new View.DragShadowBuilder(textView));\r\n            }\r\n        }\r\n        \r\n        //this for loop is where the listeners and the drag and drop functionality is being defined\r\n        for (TextView textView : textViews) {\r\n            textView.setOnLongClickListener(new View.OnLongClickListener() {\r\n                @Override\r\n                public boolean onLongClick(View view) {\r\n                    System.out.println(textView);\r\n                    String str = textView.getId() + &quot;&quot;;\r\n                    ClipData.Item item = new ClipData.Item((CharSequence) str);\r\n                    ClipData dragData = new ClipData(&quot;data&quot;,\r\n                            new String[]{ClipDescription.MIMETYPE_TEXT_PLAIN}, item);\r\n                    View.DragShadowBuilder dragShadowBuilder = new View.DragShadowBuilder(textView);\r\n                    int[] arr = interestsLayoutFlow.getReferencedIds() ;\r\n                    textView.setVisibility(View.INVISIBLE);\r\n                    textView.setEnabled(false);\r\n\r\n                    interestsLayoutFlow.setReferencedIds(arr);\r\n                    interestsLayoutFlow.setWrapMode(Flow.WRAP_CHAIN);\r\n                    draggedTextView = textView ;\r\n\r\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\r\n                        // (1) The data to be dragged.\r\n                        // (2) The drag shadow builder.\r\n                        // (3) No need to use local data.\r\n                        // (4) Flags. Not currently used, set to 0.\r\n                        textView.startDragAndDrop(dragData, dragShadowBuilder, null, 0);\r\n                        return true;\r\n                    }\r\n                    return false;\r\n                }\r\n            });\r\n            textView.setOnDragListener(new View.OnDragListener() {\r\n                @Override\r\n                public boolean onDrag(View view, DragEvent dragEvent) {\r\n                    switch (dragEvent.getAction()) {\r\n                        case DragEvent.ACTION_DRAG_STARTED:\r\n                            if (dragEvent.getClipDescription().hasMimeType(ClipDescription.MIMETYPE_TEXT_PLAIN)) {\r\n                                return true;\r\n                            }\r\n                            return false;\r\n                        case DragEvent.ACTION_DRAG_ENTERED:\r\n                            int[] arr1 = interestsLayoutFlow.getReferencedIds();\r\n                            int textIndex = -1 ;\r\n                            int viewIndex = -1 ;\r\n                            for (int i = 0; i &lt; arr1.length; i++) {\r\n                                if(arr1[i] == view.getId())\r\n                                    viewIndex = i ;\r\n                                if (arr1[i] == draggedTextView.getId())\r\n                                    textIndex = i ;\r\n                            }\r\n                            int tmp = arr1[viewIndex] ;\r\n                            arr1[viewIndex] = arr1[textIndex] ;\r\n                            arr1[textIndex] = tmp ;\r\n\r\n                            interestsLayoutFlow.setReferencedIds(arr1);\r\n                            interestsLayoutFlow.setWrapMode(Flow.WRAP_CHAIN);\r\n                            return true;\r\n\r\n                        case DragEvent.ACTION_DRAG_LOCATION:\r\n                            return true;\r\n\r\n                        case DragEvent.ACTION_DRAG_EXITED:\r\n                            return true;\r\n\r\n                        case DragEvent.ACTION_DROP:\r\n                            return true;\r\n\r\n                        case DragEvent.ACTION_DRAG_ENDED:\r\n                            //TODO: if the shadow wasn&#39;t dropped at any view then make it go back to its starting position\r\n                            int[] arr3 = interestsLayoutFlow.getReferencedIds();\r\n                            draggedTextView.setVisibility(View.VISIBLE);\r\n                            draggedTextView.setEnabled(true);\r\n\r\n                            interestsLayoutFlow.setReferencedIds(arr3);\r\n                            interestsLayoutFlow.setWrapMode(Flow.WRAP_CHAIN);\r\n                            return true;\r\n\r\n                        default:\r\n                            throw new IllegalArgumentException(&quot;hello&quot;);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        dialog.show();\r\n    }\r\n```\r\n\r\n\r\nand this is the xml code :\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;400dp&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:layout_marginBottom=&quot;50dp&quot;\r\n    android:layout_marginTop=&quot;50dp&quot;&gt;\r\n    &lt;!--    TODO:remove the 400dp and make it a match constraint somehow--&gt;\r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        app:cardBackgroundColor=&quot;#ff666666&quot;\r\n        app:cardCornerRadius=&quot;50dp&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;ScrollView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:fillViewport=&quot;true&quot;&gt;\r\n\r\n            &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n                &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                    android:id=&quot;@+id/constraintLayout8&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n                    &lt;androidx.appcompat.widget.AppCompatButton\r\n                        android:id=&quot;@+id/appCompatButton&quot;\r\n                        android:layout_width=&quot;30dp&quot;\r\n                        android:layout_height=&quot;30dp&quot;\r\n                        android:layout_marginTop=&quot;20dp&quot;\r\n                        android:layout_marginRight=&quot;20dp&quot;\r\n                        android:layout_marginBottom=&quot;10dp&quot;\r\n                        android:background=&quot;@drawable/black_close_icon&quot;\r\n                        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n                    &lt;ImageView\r\n                        android:layout_width=&quot;100dp&quot;\r\n                        android:layout_height=&quot;30dp&quot;\r\n                        android:background=&quot;@drawable/img&quot;\r\n                        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n                        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n                &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n                &lt;androidx.cardview.widget.CardView\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;1000dp&quot;\r\n                    android:layout_marginLeft=&quot;10dp&quot;\r\n                    android:layout_marginRight=&quot;10dp&quot;\r\n                    android:layout_marginBottom=&quot;20dp&quot;\r\n                    app:cardBackgroundColor=&quot;@color/white&quot;\r\n                    app:cardCornerRadius=&quot;50dp&quot;\r\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/constraintLayout8&quot;\r\n                    app:layout_constraintWidth=&quot;match_constraint&quot;&gt;\r\n\r\n                    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n                        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                            android:id=&quot;@+id/first_layout&quot;\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:padding=&quot;10dp&quot;\r\n                            app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n                            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n                            app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n                            &lt;com.google.android.material.imageview.ShapeableImageView\r\n                                android:id=&quot;@+id/image&quot;\r\n                                android:layout_width=&quot;75dp&quot;\r\n                                android:layout_height=&quot;75dp&quot;\r\n                                android:src=&quot;@drawable/img_1&quot;\r\n                                app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n                                app:layout_constraintTop_toTopOf=&quot;parent&quot;/&gt;\r\n                            &lt;TextView\r\n                                android:id=&quot;@+id/nameTV&quot;\r\n                                android:layout_width=&quot;wrap_content&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                android:textSize=&quot;18dp&quot;\r\n                                android:textColor=&quot;@color/black&quot;\r\n                                android:text=&quot;mohammad alatawna&quot;\r\n                                android:layout_marginLeft=&quot;10dp&quot;\r\n                                android:layout_marginTop=&quot;10dp&quot;\r\n                                app:layout_constraintLeft_toRightOf=&quot;@id/image&quot;\r\n                                app:layout_constraintTop_toTopOf=&quot;parent&quot;/&gt;\r\n                            &lt;TextView\r\n                                android:id=&quot;@+id/textView5&quot;\r\n                                android:layout_width=&quot;wrap_content&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                android:layout_marginTop=&quot;5dp&quot;\r\n                                android:text=&quot;mohammadalatawna111@gmail.com&quot;\r\n                                android:textSize=&quot;13dp&quot;\r\n                                app:layout_constraintLeft_toLeftOf=&quot;@+id/nameTV&quot;\r\n                                app:layout_constraintTop_toBottomOf=&quot;@id/nameTV&quot; /&gt;\r\n\r\n                            &lt;ImageButton\r\n                                android:layout_width=&quot;40dp&quot;\r\n                                android:layout_height=&quot;40dp&quot;\r\n                                android:layout_marginLeft=&quot;10dp&quot;\r\n                                android:background=&quot;@color/transparent&quot;\r\n                                android:src=&quot;@drawable/ic_baseline_arrow_circle_down_24&quot;\r\n                                app:layout_constraintBottom_toBottomOf=&quot;@+id/image&quot;\r\n                                app:layout_constraintLeft_toRightOf=&quot;@+id/textView5&quot;\r\n                                app:layout_constraintTop_toTopOf=&quot;@+id/image&quot; /&gt;\r\n\r\n\r\n                            &lt;androidx.appcompat.widget.AppCompatButton\r\n                                android:layout_width=&quot;150dp&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                android:text=&quot;button&quot;\r\n                                android:textColor=&quot;@color/black&quot;\r\n                                app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n                                app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n                                app:layout_constraintTop_toBottomOf=&quot;@id/image&quot;/&gt;\r\n\r\n                        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n                        &lt;View\r\n                            android:id=&quot;@+id/line1&quot;\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;3dp&quot;\r\n                            android:background=&quot;#66000000&quot;\r\n                            app:layout_constraintTop_toBottomOf=&quot;@+id/first_layout&quot;/&gt;\r\n\r\n                        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                            android:id=&quot;@+id/constraintLayout2&quot;\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            app:layout_constraintTop_toBottomOf=&quot;@id/line1&quot;\r\n                            android:padding=&quot;10dp&quot;\r\n                            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n                            app:layout_constraintRight_toRightOf=&quot;parent&quot;&gt;\r\n\r\n                            &lt;androidx.constraintlayout.helper.widget.Flow\r\n                                android:id=&quot;@+id/flow&quot;\r\n                                android:layout_width=&quot;match_parent&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                app:layout_constraintWidth=&quot;match_constraint&quot;\r\n                                app:flow_horizontalGap=&quot;5dp&quot;\r\n                                app:flow_horizontalStyle=&quot;packed&quot;\r\n                                app:flow_horizontalBias=&quot;1&quot;\r\n                                app:flow_verticalGap=&quot;10dp&quot;\r\n                                app:flow_wrapMode=&quot;chain&quot;\r\n                                app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n                                app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n                                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n                        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n                        &lt;androidx.appcompat.widget.AppCompatButton\r\n                            android:id=&quot;@+id/editInterestsButton&quot;\r\n                            android:layout_width=&quot;200dp&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:text=&quot;edit interests&quot;\r\n                            android:background=&quot;@drawable/rounded_rectangle&quot;\r\n                            android:backgroundTint=&quot;@color/teal_200&quot;\r\n                            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n                            app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n                            app:layout_constraintTop_toBottomOf=&quot;@id/constraintLayout2&quot;/&gt;\r\n                        &lt;View\r\n                            android:id=&quot;@+id/line2&quot;\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;3dp&quot;\r\n                            android:layout_marginTop=&quot;20dp&quot;\r\n                            android:background=&quot;#66000000&quot;\r\n                            app:layout_constraintTop_toBottomOf=&quot;@+id/editInterestsButton&quot;/&gt;\r\n                    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n                &lt;/androidx.cardview.widget.CardView&gt;\r\n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n        &lt;/ScrollView&gt;\r\n\r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```","title":"drag and drop : forcing a dragged shadow to not go back to the initial position","body":"<p>i have a constraint layout with flow to make a multi line chain of unknow number of different size textviews , my current goal is to implement a drag and drop funtionality to this layout which will make it possible for the user to play with the order of the elements of the flow by dragging them around (such functionality can be found in the implementation of drag and drop of recyclervire class)</p>\n<p>the problem : after dragging the shadow around my code is changing the position of the original textview (which the shadow represent) and everything works fine , however when the user drops the shadow , the shadow animates to the original position of the textview which no longer is there (it transfered visualy to anither position) , i want the shadow to just disappear when its dropped instead of animated back to its original position .</p>\n<p>here is my java code :</p>\n<pre><code>    public void onImageClick(View view){\n        draggedTextView = null ; //this variable is global and used to store the current dragged textview\n        ArrayList&lt;TextView&gt; textViews = new ArrayList&lt;&gt;() ;\n\n        //the dialog is used to open a new layout upon the mainLayout and its the problem accrues here \n        Dialog dialog = new Dialog(this) ;\n        dialog.getWindow().setBackgroundDrawableResource(R.color.transparent);\n        dialog.setContentView(R.layout.menu_for_collaping_tool_bar);\n        dialog.setCanceledOnTouchOutside(false);\n        Button btn = dialog.findViewById(R.id.appCompatButton) ;\n        btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                dialog.dismiss();\n            }\n        });\n\n        //the layout which contains the flow\n        ConstraintLayout interestsLayout = dialog.findViewById(R.id.constraintLayout2) ;\n        Flow interestsLayoutFlow = dialog.findViewById(R.id.flow) ;\n\n        //this two variables and the first for loop is for creating the default state of the flow\n        //in addition to adding the data to the flow represented with textViews\n        int lastRandom = -1 ;\n        int currRandom = -1 ;\n        for(int i = 0 ; i &lt; interestsArray.size() ; i ++){\n            TextView textView = new TextView(this) ;\n            textView.setId(View.generateViewId());\n            textView.setText(interestsArray.get(i));\n            textView.setGravity(View.TEXT_ALIGNMENT_CENTER);\n            textView.setPadding(20,20,20,20);\n            textView.setLayoutParams(new ConstraintLayout.LayoutParams(ViewGroup.LayoutParams.WRAP_CONTENT , ViewGroup.LayoutParams.WRAP_CONTENT));\n            do{\n                lastRandom = currRandom ;\n                currRandom = (int)(Math.random()*5) + 1 ;\n            }while (lastRandom == currRandom) ;\n            assignBorder(textView , currRandom);\n\n            interestsLayout.addView(textView);\n            interestsLayoutFlow.addView(textView);\n\n            textViews.add(textView) ;\n\n            //i have no idea what the hell is that\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n                textView.updateDragShadow(new View.DragShadowBuilder(textView));\n            }\n        }\n        \n        //this for loop is where the listeners and the drag and drop functionality is being defined\n        for (TextView textView : textViews) {\n            textView.setOnLongClickListener(new View.OnLongClickListener() {\n                @Override\n                public boolean onLongClick(View view) {\n                    System.out.println(textView);\n                    String str = textView.getId() + &quot;&quot;;\n                    ClipData.Item item = new ClipData.Item((CharSequence) str);\n                    ClipData dragData = new ClipData(&quot;data&quot;,\n                            new String[]{ClipDescription.MIMETYPE_TEXT_PLAIN}, item);\n                    View.DragShadowBuilder dragShadowBuilder = new View.DragShadowBuilder(textView);\n                    int[] arr = interestsLayoutFlow.getReferencedIds() ;\n                    textView.setVisibility(View.INVISIBLE);\n                    textView.setEnabled(false);\n\n                    interestsLayoutFlow.setReferencedIds(arr);\n                    interestsLayoutFlow.setWrapMode(Flow.WRAP_CHAIN);\n                    draggedTextView = textView ;\n\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n                        // (1) The data to be dragged.\n                        // (2) The drag shadow builder.\n                        // (3) No need to use local data.\n                        // (4) Flags. Not currently used, set to 0.\n                        textView.startDragAndDrop(dragData, dragShadowBuilder, null, 0);\n                        return true;\n                    }\n                    return false;\n                }\n            });\n            textView.setOnDragListener(new View.OnDragListener() {\n                @Override\n                public boolean onDrag(View view, DragEvent dragEvent) {\n                    switch (dragEvent.getAction()) {\n                        case DragEvent.ACTION_DRAG_STARTED:\n                            if (dragEvent.getClipDescription().hasMimeType(ClipDescription.MIMETYPE_TEXT_PLAIN)) {\n                                return true;\n                            }\n                            return false;\n                        case DragEvent.ACTION_DRAG_ENTERED:\n                            int[] arr1 = interestsLayoutFlow.getReferencedIds();\n                            int textIndex = -1 ;\n                            int viewIndex = -1 ;\n                            for (int i = 0; i &lt; arr1.length; i++) {\n                                if(arr1[i] == view.getId())\n                                    viewIndex = i ;\n                                if (arr1[i] == draggedTextView.getId())\n                                    textIndex = i ;\n                            }\n                            int tmp = arr1[viewIndex] ;\n                            arr1[viewIndex] = arr1[textIndex] ;\n                            arr1[textIndex] = tmp ;\n\n                            interestsLayoutFlow.setReferencedIds(arr1);\n                            interestsLayoutFlow.setWrapMode(Flow.WRAP_CHAIN);\n                            return true;\n\n                        case DragEvent.ACTION_DRAG_LOCATION:\n                            return true;\n\n                        case DragEvent.ACTION_DRAG_EXITED:\n                            return true;\n\n                        case DragEvent.ACTION_DROP:\n                            return true;\n\n                        case DragEvent.ACTION_DRAG_ENDED:\n                            //TODO: if the shadow wasn't dropped at any view then make it go back to its starting position\n                            int[] arr3 = interestsLayoutFlow.getReferencedIds();\n                            draggedTextView.setVisibility(View.VISIBLE);\n                            draggedTextView.setEnabled(true);\n\n                            interestsLayoutFlow.setReferencedIds(arr3);\n                            interestsLayoutFlow.setWrapMode(Flow.WRAP_CHAIN);\n                            return true;\n\n                        default:\n                            throw new IllegalArgumentException(&quot;hello&quot;);\n                    }\n                }\n            });\n        }\n\n        dialog.show();\n    }\n</code></pre>\n<p>and this is the xml code :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;400dp&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:layout_marginBottom=&quot;50dp&quot;\n    android:layout_marginTop=&quot;50dp&quot;&gt;\n    &lt;!--    TODO:remove the 400dp and make it a match constraint somehow--&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:cardBackgroundColor=&quot;#ff666666&quot;\n        app:cardCornerRadius=&quot;50dp&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n        &lt;ScrollView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:fillViewport=&quot;true&quot;&gt;\n\n            &lt;androidx.constraintlayout.widget.ConstraintLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;&gt;\n\n                &lt;androidx.constraintlayout.widget.ConstraintLayout\n                    android:id=&quot;@+id/constraintLayout8&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n                    &lt;androidx.appcompat.widget.AppCompatButton\n                        android:id=&quot;@+id/appCompatButton&quot;\n                        android:layout_width=&quot;30dp&quot;\n                        android:layout_height=&quot;30dp&quot;\n                        android:layout_marginTop=&quot;20dp&quot;\n                        android:layout_marginRight=&quot;20dp&quot;\n                        android:layout_marginBottom=&quot;10dp&quot;\n                        android:background=&quot;@drawable/black_close_icon&quot;\n                        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n                    &lt;ImageView\n                        android:layout_width=&quot;100dp&quot;\n                        android:layout_height=&quot;30dp&quot;\n                        android:background=&quot;@drawable/img&quot;\n                        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n                        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n                &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n                &lt;androidx.cardview.widget.CardView\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;1000dp&quot;\n                    android:layout_marginLeft=&quot;10dp&quot;\n                    android:layout_marginRight=&quot;10dp&quot;\n                    android:layout_marginBottom=&quot;20dp&quot;\n                    app:cardBackgroundColor=&quot;@color/white&quot;\n                    app:cardCornerRadius=&quot;50dp&quot;\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/constraintLayout8&quot;\n                    app:layout_constraintWidth=&quot;match_constraint&quot;&gt;\n\n                    &lt;androidx.constraintlayout.widget.ConstraintLayout\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;match_parent&quot;&gt;\n\n                        &lt;androidx.constraintlayout.widget.ConstraintLayout\n                            android:id=&quot;@+id/first_layout&quot;\n                            android:layout_width=&quot;match_parent&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:padding=&quot;10dp&quot;\n                            app:layout_constraintRight_toRightOf=&quot;parent&quot;\n                            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n                            app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n                            &lt;com.google.android.material.imageview.ShapeableImageView\n                                android:id=&quot;@+id/image&quot;\n                                android:layout_width=&quot;75dp&quot;\n                                android:layout_height=&quot;75dp&quot;\n                                android:src=&quot;@drawable/img_1&quot;\n                                app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n                                app:layout_constraintTop_toTopOf=&quot;parent&quot;/&gt;\n                            &lt;TextView\n                                android:id=&quot;@+id/nameTV&quot;\n                                android:layout_width=&quot;wrap_content&quot;\n                                android:layout_height=&quot;wrap_content&quot;\n                                android:textSize=&quot;18dp&quot;\n                                android:textColor=&quot;@color/black&quot;\n                                android:text=&quot;mohammad alatawna&quot;\n                                android:layout_marginLeft=&quot;10dp&quot;\n                                android:layout_marginTop=&quot;10dp&quot;\n                                app:layout_constraintLeft_toRightOf=&quot;@id/image&quot;\n                                app:layout_constraintTop_toTopOf=&quot;parent&quot;/&gt;\n                            &lt;TextView\n                                android:id=&quot;@+id/textView5&quot;\n                                android:layout_width=&quot;wrap_content&quot;\n                                android:layout_height=&quot;wrap_content&quot;\n                                android:layout_marginTop=&quot;5dp&quot;\n                                android:text=&quot;mohammadalatawna111@gmail.com&quot;\n                                android:textSize=&quot;13dp&quot;\n                                app:layout_constraintLeft_toLeftOf=&quot;@+id/nameTV&quot;\n                                app:layout_constraintTop_toBottomOf=&quot;@id/nameTV&quot; /&gt;\n\n                            &lt;ImageButton\n                                android:layout_width=&quot;40dp&quot;\n                                android:layout_height=&quot;40dp&quot;\n                                android:layout_marginLeft=&quot;10dp&quot;\n                                android:background=&quot;@color/transparent&quot;\n                                android:src=&quot;@drawable/ic_baseline_arrow_circle_down_24&quot;\n                                app:layout_constraintBottom_toBottomOf=&quot;@+id/image&quot;\n                                app:layout_constraintLeft_toRightOf=&quot;@+id/textView5&quot;\n                                app:layout_constraintTop_toTopOf=&quot;@+id/image&quot; /&gt;\n\n\n                            &lt;androidx.appcompat.widget.AppCompatButton\n                                android:layout_width=&quot;150dp&quot;\n                                android:layout_height=&quot;wrap_content&quot;\n                                android:text=&quot;button&quot;\n                                android:textColor=&quot;@color/black&quot;\n                                app:layout_constraintRight_toRightOf=&quot;parent&quot;\n                                app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n                                app:layout_constraintTop_toBottomOf=&quot;@id/image&quot;/&gt;\n\n                        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n                        &lt;View\n                            android:id=&quot;@+id/line1&quot;\n                            android:layout_width=&quot;match_parent&quot;\n                            android:layout_height=&quot;3dp&quot;\n                            android:background=&quot;#66000000&quot;\n                            app:layout_constraintTop_toBottomOf=&quot;@+id/first_layout&quot;/&gt;\n\n                        &lt;androidx.constraintlayout.widget.ConstraintLayout\n                            android:id=&quot;@+id/constraintLayout2&quot;\n                            android:layout_width=&quot;match_parent&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            app:layout_constraintTop_toBottomOf=&quot;@id/line1&quot;\n                            android:padding=&quot;10dp&quot;\n                            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n                            app:layout_constraintRight_toRightOf=&quot;parent&quot;&gt;\n\n                            &lt;androidx.constraintlayout.helper.widget.Flow\n                                android:id=&quot;@+id/flow&quot;\n                                android:layout_width=&quot;match_parent&quot;\n                                android:layout_height=&quot;wrap_content&quot;\n                                app:layout_constraintWidth=&quot;match_constraint&quot;\n                                app:flow_horizontalGap=&quot;5dp&quot;\n                                app:flow_horizontalStyle=&quot;packed&quot;\n                                app:flow_horizontalBias=&quot;1&quot;\n                                app:flow_verticalGap=&quot;10dp&quot;\n                                app:flow_wrapMode=&quot;chain&quot;\n                                app:layout_constraintRight_toRightOf=&quot;parent&quot;\n                                app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n                                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n                        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n                        &lt;androidx.appcompat.widget.AppCompatButton\n                            android:id=&quot;@+id/editInterestsButton&quot;\n                            android:layout_width=&quot;200dp&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:text=&quot;edit interests&quot;\n                            android:background=&quot;@drawable/rounded_rectangle&quot;\n                            android:backgroundTint=&quot;@color/teal_200&quot;\n                            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n                            app:layout_constraintRight_toRightOf=&quot;parent&quot;\n                            app:layout_constraintTop_toBottomOf=&quot;@id/constraintLayout2&quot;/&gt;\n                        &lt;View\n                            android:id=&quot;@+id/line2&quot;\n                            android:layout_width=&quot;match_parent&quot;\n                            android:layout_height=&quot;3dp&quot;\n                            android:layout_marginTop=&quot;20dp&quot;\n                            android:background=&quot;#66000000&quot;\n                            app:layout_constraintTop_toBottomOf=&quot;@+id/editInterestsButton&quot;/&gt;\n                    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n                &lt;/androidx.cardview.widget.CardView&gt;\n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n        &lt;/ScrollView&gt;\n\n    &lt;/androidx.cardview.widget.CardView&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1695046503,"post_id":77126283,"comment_id":135968088,"body_markdown":"You have compilation error which means things are wrong.... please show the full pom file...","body":"You have compilation error which means things are wrong.... please show the full pom file..."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1695079523,"post_id":77126283,"comment_id":135973554,"body_markdown":"Please include the full output. There will be a compiler error somewhere that explains what the problem is.","body":"Please include the full output. There will be a compiler error somewhere that explains what the problem is."}],"owner":{"account_id":10923818,"reputation":606,"user_id":8085276,"display_name":"Ajay Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":934,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695079456,"creation_date":1695031530,"question_id":77126283,"body_markdown":"Full Stack Trace\r\n\r\n```\r\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.11.0:compile (default-compile) on project paymentcollector-client: Compilation failure\r\nwarnings found and -Werror specified\r\n\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:333)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:316)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:212)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:174)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:75)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:162)\r\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:159)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:906)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\r\n    at jdk.internal.reflect.DirectMethodHandleAccessor.invoke (DirectMethodHandleAccessor.java:104)\r\n    at java.lang.reflect.Method.invoke (Method.java:578)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\r\nCaused by: org.apache.maven.plugin.compiler.CompilationFailureException: Compilation failure\r\n```\r\n\r\nCan someone help me figure out the issue? One related solution that I found was \r\nremove `&lt;fork&gt;true&lt;/fork&gt;` or set it to false. But the catch is I don&#39;t have `&lt;fork&gt;` tag in Pom.XML.\r\n","title":"Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.11.0:compile (default-compile) | maven compile is not working","body":"<p>Full Stack Trace</p>\n<pre><code>org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.11.0:compile (default-compile) on project paymentcollector-client: Compilation failure\nwarnings found and -Werror specified\n\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:333)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:316)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:212)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:174)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:75)\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:162)\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:159)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:906)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\n    at jdk.internal.reflect.DirectMethodHandleAccessor.invoke (DirectMethodHandleAccessor.java:104)\n    at java.lang.reflect.Method.invoke (Method.java:578)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\nCaused by: org.apache.maven.plugin.compiler.CompilationFailureException: Compilation failure\n</code></pre>\n<p>Can someone help me figure out the issue? One related solution that I found was\nremove <code>&lt;fork&gt;true&lt;/fork&gt;</code> or set it to false. But the catch is I don't have <code>&lt;fork&gt;</code> tag in Pom.XML.</p>\n"},{"tags":["java","selenium","pom.xml","page-factory"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1632306998,"post_id":69282479,"comment_id":122454955,"body_markdown":"Do you provide and load a URL anywhere? Maybe the search context is `null` because no website has been loaded.","body":"Do you provide and load a URL anywhere? Maybe the search context is <code>null</code> because no website has been loaded."},{"owner":{"account_id":18123582,"reputation":385,"user_id":13179300,"display_name":"Piotr M."},"score":0,"creation_date":1632307879,"post_id":69282479,"comment_id":122455293,"body_markdown":"That&#39;s not the case. The search context is WebElement or WebDriver. Why is it null? Where do you initialize the WebDriver instance? You&#39;re passing driver to initElements - is it initialized somewhere?","body":"That&#39;s not the case. The search context is WebElement or WebDriver. Why is it null? Where do you initialize the WebDriver instance? You&#39;re passing driver to initElements - is it initialized somewhere?"},{"owner":{"account_id":15530601,"reputation":19,"user_id":11204249,"display_name":"kavya s"},"score":0,"creation_date":1632315734,"post_id":69282479,"comment_id":122458533,"body_markdown":"no, I have not initialized the WebDriver instance. Where do I need to initialize? My testbase code\n```\npublic class TestBase \n{\n\tWebDriver driver; \n\t@BeforeTest\n\tpublic void setup()\n\t{\n\t\tWebDriverManager.chromedriver().setup();\n\t\tdriver = new ChromeDriver();\n\t\tdriver.manage().window().maximize();\n\t\tdriver.get(&quot;https://stage.aviationjobsearch.com/&quot;);\n\t}\n}\n```","body":"no, I have not initialized the WebDriver instance. Where do I need to initialize? My testbase code ``` public class TestBase  { \tWebDriver driver;  \t@BeforeTest \tpublic void setup() \t{ \t\tWebDriverManager.chromedriver().setup(); \t\tdriver = new ChromeDriver(); \t\tdriver.manage().window().maximize(); \t\tdriver.get(&quot;<a href=\"https://stage.aviationjobsearch.com/&quot;\" rel=\"nofollow noreferrer\">stage.aviationjobsearch.com/&quot;</a>); \t} } ```"},{"owner":{"account_id":14199152,"reputation":796,"user_id":10257512,"display_name":"Jayanth Bala"},"score":0,"creation_date":1632368600,"post_id":69282479,"comment_id":122474408,"body_markdown":"Please check your xpath is properly finding the element, in your developer tools. driver is unable to identify the element that is why it is returning the Null value","body":"Please check your xpath is properly finding the element, in your developer tools. driver is unable to identify the element that is why it is returning the Null value"}],"answers":[{"tags":[],"owner":{"account_id":10404380,"reputation":2588,"user_id":7671727,"display_name":"AbiSaran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641541687,"creation_date":1641541687,"answer_id":70618080,"question_id":69282479,"body_markdown":"Please use the same WebDriver instance from your TestBase class throughout all the scripts.\r\nEx., in LoginTest class remove the WebDriver declaration and modify the line:\r\n\r\n    HomePage objHomePage = new HomePage(TestBase.driver);\r\n\r\nMake the WebDriver instance as static in TestBase class.","title":"Cannot invoke &quot;org.openqa.selenium.SearchContext.findElement(org.openqa.selenium.By)&quot; because &quot;this.searchContext&quot; is null","body":"<p>Please use the same WebDriver instance from your TestBase class throughout all the scripts.\nEx., in LoginTest class remove the WebDriver declaration and modify the line:</p>\n<pre><code>HomePage objHomePage = new HomePage(TestBase.driver);\n</code></pre>\n<p>Make the WebDriver instance as static in TestBase class.</p>\n"},{"tags":[],"owner":{"account_id":24858362,"reputation":1,"user_id":18734444,"display_name":"akshay gadkari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649414985,"creation_date":1649320813,"answer_id":71778917,"question_id":69282479,"body_markdown":"WebDriver driver; You are freshly declaring hence its null.\r\n\r\npublic class LoginTest extends TestBase { //Comment this as you are already extending TestBase \r\n// WebDriver driver;\r\n\r\n//Also instead of mentioning driver //= new Chromedriver();\r\n// in before //method..write it here.","title":"Cannot invoke &quot;org.openqa.selenium.SearchContext.findElement(org.openqa.selenium.By)&quot; because &quot;this.searchContext&quot; is null","body":"<p>WebDriver driver; You are freshly declaring hence its null.</p>\n<p>public class LoginTest extends TestBase { //Comment this as you are already extending TestBase\n// WebDriver driver;</p>\n<p>//Also instead of mentioning driver //= new Chromedriver();\n// in before //method..write it here.</p>\n"},{"tags":[],"owner":{"account_id":27694903,"reputation":1,"user_id":21325427,"display_name":"Anish subramanian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681799048,"creation_date":1681799048,"answer_id":76041386,"question_id":69282479,"body_markdown":"    public class LoginStep {\r\n\tpublic static WebDriver driver = new ChromeDriver();\r\n\tLoginPom lp = new LoginPom(driver);\r\n    \r\n    @Given(&quot;user navigate the login page&quot;)\r\n\tpublic void user_navigate_the_login_page() {\r\n\t\tWebDriverManager.chromedriver().setup();\r\n\t\t//driver = new ChromeDriver();\r\n\t\tdriver.get(&quot;https://letcode.in/&quot;);\r\n\t\tdriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\r\n\t\tlp.Loginbutton().click();\r\n\r\n\r\nwebdriver driver = new chromedriver();\r\nits working for me you have to initialize the browser first before entering into the steps","title":"Cannot invoke &quot;org.openqa.selenium.SearchContext.findElement(org.openqa.selenium.By)&quot; because &quot;this.searchContext&quot; is null","body":"<pre><code>public class LoginStep {\npublic static WebDriver driver = new ChromeDriver();\nLoginPom lp = new LoginPom(driver);\n\n@Given(&quot;user navigate the login page&quot;)\npublic void user_navigate_the_login_page() {\n    WebDriverManager.chromedriver().setup();\n    //driver = new ChromeDriver();\n    driver.get(&quot;https://letcode.in/&quot;);\n    driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\n    lp.Loginbutton().click();\n</code></pre>\n<p>webdriver driver = new chromedriver();\nits working for me you have to initialize the browser first before entering into the steps</p>\n"}],"owner":{"account_id":15530601,"reputation":19,"user_id":11204249,"display_name":"kavya s"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17782,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1695078125,"creation_date":1632306560,"question_id":69282479,"body_markdown":"The below code is failing in `homeSignInLink.click();` and giving error\r\n\r\n    &quot;NullPointerException: Cannot invoke &quot;org.openqa.selenium.SearchContext.findElement(org.openqa.selenium.By)&quot; because &quot;this.searchContext&quot; is null\r\n\r\n**Code** \r\n\r\n```\r\npublic class LoginTest extends TestBase\r\n{\r\n    WebDriver driver;\r\n    HomePage objHomePage = new HomePage(driver);\r\n\t \r\n    @Test\r\n    public void login_check()\r\n    {\r\n    \tobjHomePage.clickHomeSignInLink();\r\n    \tobjHomePage.clickRecruiterSignInLink();\r\n    }\r\n}\r\n\r\npublic class HomePage\r\n{\r\n\tWebDriver driver;\r\n\t\r\n\t@FindBy(xpath=&quot;//a[@class=&#39;nav-link bold&#39; and text()=&#39;Sign in&#39;]&quot;) WebElement homeSignInLink;   \r\n    @FindBy(xpath=&quot;//a[text()=&#39;Recruiter sign in&#39;]&quot;) WebElement recruiterSignInLink;  \r\n\r\n    public HomePage(WebDriver driver)\r\n    {\r\n        this.driver = driver;\r\n        //This initElements method will create all WebElements\r\n        PageFactory.initElements(driver, this);\r\n    } \r\n    public void clickHomeSignInLink()\r\n    {\t\r\n    \thomeSignInLink.click();\r\n    }\r\n    public void clickRecruiterSignInLink()\r\n    {\r\n    \trecruiterSignInLink.click();\r\n    }\r\n}\r\n```\r\n","title":"Cannot invoke &quot;org.openqa.selenium.SearchContext.findElement(org.openqa.selenium.By)&quot; because &quot;this.searchContext&quot; is null","body":"<p>The below code is failing in <code>homeSignInLink.click();</code> and giving error</p>\n<pre><code>&quot;NullPointerException: Cannot invoke &quot;org.openqa.selenium.SearchContext.findElement(org.openqa.selenium.By)&quot; because &quot;this.searchContext&quot; is null\n</code></pre>\n<p><strong>Code</strong></p>\n<pre><code>public class LoginTest extends TestBase\n{\n    WebDriver driver;\n    HomePage objHomePage = new HomePage(driver);\n     \n    @Test\n    public void login_check()\n    {\n        objHomePage.clickHomeSignInLink();\n        objHomePage.clickRecruiterSignInLink();\n    }\n}\n\npublic class HomePage\n{\n    WebDriver driver;\n    \n    @FindBy(xpath=&quot;//a[@class='nav-link bold' and text()='Sign in']&quot;) WebElement homeSignInLink;   \n    @FindBy(xpath=&quot;//a[text()='Recruiter sign in']&quot;) WebElement recruiterSignInLink;  \n\n    public HomePage(WebDriver driver)\n    {\n        this.driver = driver;\n        //This initElements method will create all WebElements\n        PageFactory.initElements(driver, this);\n    } \n    public void clickHomeSignInLink()\n    {   \n        homeSignInLink.click();\n    }\n    public void clickRecruiterSignInLink()\n    {\n        recruiterSignInLink.click();\n    }\n}\n</code></pre>\n"},{"tags":["java","websphere","jndi","pool"],"answers":[{"tags":[],"owner":{"account_id":2829929,"reputation":5163,"user_id":2431702,"display_name":"DanielBarbarian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1369819580,"creation_date":1369819580,"answer_id":16810174,"question_id":16645851,"body_markdown":"you can only use java:comp/env if you have declared a reference to the Object Pool in your web.xml under the resource-ref section. \r\n\r\nSee https://stackoverflow.com/questions/2887967/what-is-resource-ref-in-web-xml-used-for for further explanation.","title":"comp/env/pool not found in context &quot;java:&quot;?","body":"<p>you can only use java:comp/env if you have declared a reference to the Object Pool in your web.xml under the resource-ref section. </p>\n\n<p>See <a href=\"https://stackoverflow.com/questions/2887967/what-is-resource-ref-in-web-xml-used-for\">What is resource-ref in web.xml used for?</a> for further explanation.</p>\n"}],"owner":{"account_id":872717,"reputation":6649,"user_id":923207,"accept_rate":70,"display_name":"Arci"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8664,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695078125,"creation_date":1369040121,"question_id":16645851,"body_markdown":"I have a web application trying to access a JNDI declared in WebSphere Application Server.\r\nThe JNDI is declared under `Object pool managers`. However, I&#39;m receiving an error when I access the pool. The error says that `comp/env/pool is not found in context &quot;java:&quot;`.\r\n\r\nMy code is written as follows:\r\n\r\n    InitialContext initialContext = new InitialContext();\r\n    ObjectPoolManager opm = (ObjectPoolManager)initialContext.lookup(&quot;java:comp/env/pool&quot;);\r\n\r\nAccessing the pool via the code below works:\r\n\r\n    ObjectPoolManager opm = (ObjectPoolManager)initialContext.lookup(&quot;pool&quot;);\r\n\r\nI&#39;m confused because according to what I&#39;ve found on the internet, `java:comp/env/` is a default prefix for JNDI. So why does it cause an error in my case?\r\n\r\nThank you!","title":"comp/env/pool not found in context &quot;java:&quot;?","body":"<p>I have a web application trying to access a JNDI declared in WebSphere Application Server.\nThe JNDI is declared under <code>Object pool managers</code>. However, I'm receiving an error when I access the pool. The error says that <code>comp/env/pool is not found in context \"java:\"</code>.</p>\n\n<p>My code is written as follows:</p>\n\n<pre><code>InitialContext initialContext = new InitialContext();\nObjectPoolManager opm = (ObjectPoolManager)initialContext.lookup(\"java:comp/env/pool\");\n</code></pre>\n\n<p>Accessing the pool via the code below works:</p>\n\n<pre><code>ObjectPoolManager opm = (ObjectPoolManager)initialContext.lookup(\"pool\");\n</code></pre>\n\n<p>I'm confused because according to what I've found on the internet, <code>java:comp/env/</code> is a default prefix for JNDI. So why does it cause an error in my case?</p>\n\n<p>Thank you!</p>\n"},{"tags":["java","amazon-web-services","sdk"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1668509157,"post_id":74444157,"comment_id":131416999,"body_markdown":"You need to describe the ECS service to get a list of tasks, then you need to describe the task to get the ENI, then you need to describe the ENI to get the IP. It is a long winded process. The last 2/3 are covered here: https://stackoverflow.com/questions/52946160/aws-java-sdk-get-public-ip-of-task","body":"You need to describe the ECS service to get a list of tasks, then you need to describe the task to get the ENI, then you need to describe the ENI to get the IP. It is a long winded process. The last 2/3 are covered here: <a href=\"https://stackoverflow.com/questions/52946160/aws-java-sdk-get-public-ip-of-task\" title=\"aws java sdk get public ip of task\">stackoverflow.com/questions/52946160/&hellip;</a>"},{"owner":{"account_id":8581657,"reputation":322,"user_id":6429055,"display_name":"theAccidentalDeveloper"},"score":0,"creation_date":1668583992,"post_id":74444157,"comment_id":131438041,"body_markdown":"Edited the question, pls check @luk2302","body":"Edited the question, pls check @luk2302"},{"owner":{"account_id":9058130,"reputation":1392,"user_id":6745604,"display_name":"Paula T"},"score":0,"creation_date":1695072991,"post_id":74444157,"comment_id":135972870,"body_markdown":"Did you find a solution?","body":"Did you find a solution?"}],"answers":[{"tags":[],"owner":{"account_id":9058130,"reputation":1392,"user_id":6745604,"display_name":"Paula T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695076572,"creation_date":1695076572,"answer_id":77130742,"question_id":74444157,"body_markdown":"As far as the error ` Invalid identifier: Identifier is for cluster NaraCluster. Your cluster is default `\r\n\r\nTurns out the solution was stupid obvious, right in the error message. I needed to add `withCluster` to my call. \r\n\r\n```\r\nfinal UpdateServiceRequest request = new UpdateServiceRequest()\r\n                .withCluster(clusterId)\r\n                .withService(serviceArn)\r\n                .withDesiredCount(desiredCount);\r\n```\r\nhttps://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/ecs/model/UpdateServiceRequest.html#withCluster-java.lang.String-","title":"Fetch the public IP of AWS Task in a cluster using Java AWS SDK","body":"<p>As far as the error <code>Invalid identifier: Identifier is for cluster NaraCluster. Your cluster is default</code></p>\n<p>Turns out the solution was stupid obvious, right in the error message. I needed to add <code>withCluster</code> to my call.</p>\n<pre><code>final UpdateServiceRequest request = new UpdateServiceRequest()\n                .withCluster(clusterId)\n                .withService(serviceArn)\n                .withDesiredCount(desiredCount);\n</code></pre>\n<p><a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/ecs/model/UpdateServiceRequest.html#withCluster-java.lang.String-\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/ecs/model/UpdateServiceRequest.html#withCluster-java.lang.String-</a></p>\n"}],"owner":{"account_id":8581657,"reputation":322,"user_id":6429055,"display_name":"theAccidentalDeveloper"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695076572,"creation_date":1668508462,"question_id":74444157,"body_markdown":"I have created a cluster, resource, service inside a stack using Java AWS SDK.\r\nNow I need to fetch the Public IP of the task inside the cluster.\r\n\r\nI have used ClientFormationCloud and am trying to fetch the IP using this client itself.\r\n\r\nI have used the following code as of now:\r\n\r\n\r\n        String awsRegion = System.getenv(&quot;AWS_DEFAULT_REGION&quot;);\r\n\t\tRegion region = Region.of(awsRegion);\r\n\t\t\r\n\t\tCloudFormationClient cfClient = CloudFormationClient.builder().region(region)\r\n\t\t\t\t.credentialsProvider(EnvironmentVariableCredentialsProvider.create()).build();\r\n\r\n        CloudFormationWaiter waiter = cfClient.waiter();\r\n\t\tCollection&lt;Capability&gt; capabilities = new ArrayList&lt;Capability&gt;();\r\n\t\tcapabilities.add(Capability.CAPABILITY_NAMED_IAM);\r\n\r\n\t\tCreateStackRequest stackRequest = CreateStackRequest.builder().stackName(stackName).templateURL(location).capabilities(capabilities).roleARN(roleARN).onFailure(OnFailure.ROLLBACK).build();\r\n\r\n\t\tCreateStackResponse cfResponse = cfClient.createStack(stackRequest);\r\n\r\n\t\tDescribeStacksRequest stacksRequest = DescribeStacksRequest.builder().stackName(stackName).build();\r\n\t\tDescribeStacksResponse response = cfClient.describeStacks();\r\n\t\tWaiterResponse&lt;DescribeStacksResponse&gt; waiterResponse = waiter.waitUntilStackCreateComplete(stacksRequest);\r\n\t\twaiterResponse.matched().response().ifPresent(System.out::println);\r\n&#39;&#39;&#39;\r\n\r\nEDITED\r\n\r\nTried the following for ECS according to the first comment\r\n\r\n&#39;&#39;&#39;\r\n\r\n    AmazonECS ecsClient = AmazonECSClientBuilder.standard().withRegion(System.getenv(&quot;AWS_DEFAULT_REGION&quot;)).withCredentials(new com.amazonaws.auth.EnvironmentVariableCredentialsProvider()).build();\r\n\tListTasksRequest request = new ListTasksRequest().withCluster(&quot;ClusterName&quot;);\r\n\tListTasksResult tasks = ecsClient.listTasks(request);\r\n\tList&lt;String&gt; taskArns = tasks.getTaskArns();\r\n\t\t\tfor (String taskArn : taskArns) {\r\n\t\t\t\tSystem.out.println(taskArn);\r\n\t\t\t\tDescribeTasksRequest dtr = new DescribeTasksRequest().withTasks(taskArn);\r\n\t\t\t\tDescribeTasksResult response = ecsClient.describeTasks(dtr);\r\n\t\t\t}\r\n&#39;&#39;&#39;\r\n\r\nThe taskArn is getting printed: arn:aws:ecs:us-east-1:892372858130:task/ClusterName/2c72e43671ef4cc09f7816469696ee3e\r\n\r\nBut the last line of the code is giving the following error:\r\n\r\ncom.amazonaws.services.ecs.model.InvalidParameterException: Invalid identifier: Identifier is for cluster NaraCluster. Your cluster is default (Service: AmazonECS; Status Code: 400; Error Code: InvalidParameterException; Request ID: 45f8abfc-66d4-4808-8810-b6e314bb1b15; Proxy: null)","title":"Fetch the public IP of AWS Task in a cluster using Java AWS SDK","body":"<p>I have created a cluster, resource, service inside a stack using Java AWS SDK.\nNow I need to fetch the Public IP of the task inside the cluster.</p>\n<p>I have used ClientFormationCloud and am trying to fetch the IP using this client itself.</p>\n<p>I have used the following code as of now:</p>\n<pre><code>    String awsRegion = System.getenv(&quot;AWS_DEFAULT_REGION&quot;);\n    Region region = Region.of(awsRegion);\n    \n    CloudFormationClient cfClient = CloudFormationClient.builder().region(region)\n            .credentialsProvider(EnvironmentVariableCredentialsProvider.create()).build();\n\n    CloudFormationWaiter waiter = cfClient.waiter();\n    Collection&lt;Capability&gt; capabilities = new ArrayList&lt;Capability&gt;();\n    capabilities.add(Capability.CAPABILITY_NAMED_IAM);\n\n    CreateStackRequest stackRequest = CreateStackRequest.builder().stackName(stackName).templateURL(location).capabilities(capabilities).roleARN(roleARN).onFailure(OnFailure.ROLLBACK).build();\n\n    CreateStackResponse cfResponse = cfClient.createStack(stackRequest);\n\n    DescribeStacksRequest stacksRequest = DescribeStacksRequest.builder().stackName(stackName).build();\n    DescribeStacksResponse response = cfClient.describeStacks();\n    WaiterResponse&lt;DescribeStacksResponse&gt; waiterResponse = waiter.waitUntilStackCreateComplete(stacksRequest);\n    waiterResponse.matched().response().ifPresent(System.out::println);\n</code></pre>\n<p>'''</p>\n<p>EDITED</p>\n<p>Tried the following for ECS according to the first comment</p>\n<p>'''</p>\n<pre><code>AmazonECS ecsClient = AmazonECSClientBuilder.standard().withRegion(System.getenv(&quot;AWS_DEFAULT_REGION&quot;)).withCredentials(new com.amazonaws.auth.EnvironmentVariableCredentialsProvider()).build();\nListTasksRequest request = new ListTasksRequest().withCluster(&quot;ClusterName&quot;);\nListTasksResult tasks = ecsClient.listTasks(request);\nList&lt;String&gt; taskArns = tasks.getTaskArns();\n        for (String taskArn : taskArns) {\n            System.out.println(taskArn);\n            DescribeTasksRequest dtr = new DescribeTasksRequest().withTasks(taskArn);\n            DescribeTasksResult response = ecsClient.describeTasks(dtr);\n        }\n</code></pre>\n<p>'''</p>\n<p>The taskArn is getting printed: arn:aws:ecs:us-east-1:892372858130:task/ClusterName/2c72e43671ef4cc09f7816469696ee3e</p>\n<p>But the last line of the code is giving the following error:</p>\n<p>com.amazonaws.services.ecs.model.InvalidParameterException: Invalid identifier: Identifier is for cluster NaraCluster. Your cluster is default (Service: AmazonECS; Status Code: 400; Error Code: InvalidParameterException; Request ID: 45f8abfc-66d4-4808-8810-b6e314bb1b15; Proxy: null)</p>\n"},{"tags":["java","methods"],"comments":[{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":1,"creation_date":1695074646,"post_id":77130626,"comment_id":135973058,"body_markdown":"A variable that &#39;contains&#39; an array is a reference to the array in the RAM. So if you pass primitives like int or long, their values are copies. If you pass the reference to the array, that reference (address value) will also be a copy, but it will point to the original array.","body":"A variable that &#39;contains&#39; an array is a reference to the array in the RAM. So if you pass primitives like int or long, their values are copies. If you pass the reference to the array, that reference (address value) will also be a copy, but it will point to the original array."},{"owner":{"account_id":936797,"reputation":2054,"user_id":965593,"accept_rate":67,"display_name":"pamphlet"},"score":2,"creation_date":1695074650,"post_id":77130626,"comment_id":135973059,"body_markdown":"The value is a reference. You can use the value (reference), to affect the referent (the array).","body":"The value is a reference. You can use the value (reference), to affect the referent (the array)."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695075608,"creation_date":1695075608,"answer_id":77130692,"question_id":77130626,"body_markdown":"&gt; _&quot;... how come the Array.sort() can change the the original array variable? ...&quot;_\r\n\r\nAny _data-type_ declared as an _array_, whether _[primitive](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html)_ or _[Reference](https://docs.oracle.com/javase/tutorial/java/javaOO/objects.html)_, is considered an _[Object](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Object.html)_ itself.\r\n\r\nIn otherwords, even if the data-type is _int_, _double_, etc., the  variable containing the _array_ is considered a _Reference_ type.\r\n\r\nThus, it&#39;s similar to passing a typical _Object_ to another method, and changing a value from within the method.\r\n\r\n```java\r\nstatic class ABC { String s = &quot;&quot;; }\r\nstatic void mutate(ABC abc) {\r\n    abc.s = &quot;123&quot;;\r\n}\r\n\r\npublic static void main(String[] args) {\r\n    ABC abc = new ABC();\r\n    mutate(abc);\r\n    System.out.println(&quot;abc.s = &quot; + abc.s);\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nabc.s = 123\r\n```","title":"How can array be sorted while the method can only pass value?","body":"<blockquote>\n<p><em>&quot;... how come the Array.sort() can change the the original array variable? ...&quot;</em></p>\n</blockquote>\n<p>Any <em>data-type</em> declared as an <em>array</em>, whether <em><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">primitive</a></em> or <em><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/objects.html\" rel=\"nofollow noreferrer\">Reference</a></em>, is considered an <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Object.html\" rel=\"nofollow noreferrer\">Object</a></em> itself.</p>\n<p>In otherwords, even if the data-type is <em>int</em>, <em>double</em>, etc., the  variable containing the <em>array</em> is considered a <em>Reference</em> type.</p>\n<p>Thus, it's similar to passing a typical <em>Object</em> to another method, and changing a value from within the method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static class ABC { String s = &quot;&quot;; }\nstatic void mutate(ABC abc) {\n    abc.s = &quot;123&quot;;\n}\n\npublic static void main(String[] args) {\n    ABC abc = new ABC();\n    mutate(abc);\n    System.out.println(&quot;abc.s = &quot; + abc.s);\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>abc.s = 123\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695075620,"creation_date":1695075620,"answer_id":77130695,"question_id":77130626,"body_markdown":"This is swap (which does not work):\r\n\r\n```\r\npublic void swap(int a, int b) {\r\n  int x = a;\r\n  a = b;\r\n  b = x;\r\n}\r\n```\r\n\r\nThis is a hypothetical &#39;swap first 2 in an array&#39;:\r\n\r\n```\r\npublic void swap(int[] arr) {\r\n  int x = arr[0];\r\n  arr[0] = arr[1];\r\n  arr[1] = x;\r\n}\r\n```\r\n\r\nThat one __does work__.\r\n\r\nIn java, __everything__ is a reference, except primitives. That&#39;s just java speak for pointer. This:\r\n\r\n```\r\nString x = &quot;hello&quot;;\r\n```\r\n\r\nis often explained as &#39;x is now &quot;hello&quot;&#39;. __This is incorrect__.\r\n\r\n`String x;` means: &quot;This is a page in an address book. It can hold addresses. Not houses - there obviously isn&#39;t room to actually pour concrete all over a.. page in an address book! There&#39;s just room for an address, that&#39;s all we got. The page is restricted: It is slightly magical in that it simply refuses to hold an address at all, unless it is an address that leads to a house that is of the &#39;String&#39; style of houses. But, it _can_ be entirely blank (no address at all).&quot;\r\n\r\nThe trick is, java does indeed copy parameters, but when it&#39;s about a reference (And remember, __everything__ is a reference, except primitives - the hardcoded list of `int`, `long`, `short`, `byte`, `double`, `float`, `boolean`, and `char`). Even arrays of primitives and Strings are references.\r\n\r\nSo, when you do:\r\n\r\n```\r\nint[] x = new int[] {1, 2};\r\nswap(x);\r\nSystem.out.println(Arrays.toString(x)); // prints 2, 1! The swap worked!\r\n```\r\n\r\nThat&#39;s because:\r\n\r\n* `new int[] {1, 2};` builds a new house.\r\n* `int [] x = ...` takes the __address__ of that newly built house and writes on a piece of paper called `x`. x isn&#39;t the house. It&#39;s just an address to the house.\r\n* `swap(x)` grabs a second piece of paper and _copies the address onto it__. It&#39;s a copy. Of the address, not the house. It then hands that second copy to the method (and that method will rip it up when it is done; it is not returned and therefore whatever modifications the method makes __to that piece of paper__ has no bearing on what the piece of paper that the caller owns has written on it.\r\n* `arr[0]` __dereferences__ - derefencing is java-ese for &#39;put on your shoes, go out the door, walk over to the address written on this piece of paper you are dereferencing, knock on the door, and yell something&#39;. `[0]` means: &quot;TELL ME WHAT YOUR #0 ITEM IS PLEASE!&quot;. The other common dereference operation is the dot. `list.add(&quot;foo&quot;)` is not &#39;adding a string to list&#39;. It&#39;s taking the &#39;list&#39; address, walking over to the street and house number that your piece of paper lists, and then yelling at the house: &quot;ADD &quot;foo&quot; PLEASE!&quot;.\r\n\r\nImagine this method:\r\n\r\n```\r\npublic void swap(int[] arr) {\r\n  arr = new int[] {arr[1], arr[0]};\r\n}\r\n```\r\n\r\nThat one __does not work__. That&#39;s because that one:\r\n\r\n* Builds a new house.\r\n* Then takes its `arr` piece of paper and takes an eraser to it so that it is blank, then writes the address of this newly built house on it.\r\n* Then the method ends, and all pieces of paper go into the bin.\r\n\r\nHence why that does not work. `=` wipes out the paper and writes a different address on. `.` and `[]` follow the address.\r\n\r\nImagine you have an address book. I make a copy of it. If I go and edit an address in my copy that has no bearing on your address book.\r\n\r\nHowever, if I go to one of the addresses in my copy of your address book and toss a brick through the window, you&#39;ll be able to notice that just fine.\r\n","title":"How can array be sorted while the method can only pass value?","body":"<p>This is swap (which does not work):</p>\n<pre><code>public void swap(int a, int b) {\n  int x = a;\n  a = b;\n  b = x;\n}\n</code></pre>\n<p>This is a hypothetical 'swap first 2 in an array':</p>\n<pre><code>public void swap(int[] arr) {\n  int x = arr[0];\n  arr[0] = arr[1];\n  arr[1] = x;\n}\n</code></pre>\n<p>That one <strong>does work</strong>.</p>\n<p>In java, <strong>everything</strong> is a reference, except primitives. That's just java speak for pointer. This:</p>\n<pre><code>String x = &quot;hello&quot;;\n</code></pre>\n<p>is often explained as 'x is now &quot;hello&quot;'. <strong>This is incorrect</strong>.</p>\n<p><code>String x;</code> means: &quot;This is a page in an address book. It can hold addresses. Not houses - there obviously isn't room to actually pour concrete all over a.. page in an address book! There's just room for an address, that's all we got. The page is restricted: It is slightly magical in that it simply refuses to hold an address at all, unless it is an address that leads to a house that is of the 'String' style of houses. But, it <em>can</em> be entirely blank (no address at all).&quot;</p>\n<p>The trick is, java does indeed copy parameters, but when it's about a reference (And remember, <strong>everything</strong> is a reference, except primitives - the hardcoded list of <code>int</code>, <code>long</code>, <code>short</code>, <code>byte</code>, <code>double</code>, <code>float</code>, <code>boolean</code>, and <code>char</code>). Even arrays of primitives and Strings are references.</p>\n<p>So, when you do:</p>\n<pre><code>int[] x = new int[] {1, 2};\nswap(x);\nSystem.out.println(Arrays.toString(x)); // prints 2, 1! The swap worked!\n</code></pre>\n<p>That's because:</p>\n<ul>\n<li><code>new int[] {1, 2};</code> builds a new house.</li>\n<li><code>int [] x = ...</code> takes the <strong>address</strong> of that newly built house and writes on a piece of paper called <code>x</code>. x isn't the house. It's just an address to the house.</li>\n<li><code>swap(x)</code> grabs a second piece of paper and <em>copies the address onto it</em>_. It's a copy. Of the address, not the house. It then hands that second copy to the method (and that method will rip it up when it is done; it is not returned and therefore whatever modifications the method makes <strong>to that piece of paper</strong> has no bearing on what the piece of paper that the caller owns has written on it.</li>\n<li><code>arr[0]</code> <strong>dereferences</strong> - derefencing is java-ese for 'put on your shoes, go out the door, walk over to the address written on this piece of paper you are dereferencing, knock on the door, and yell something'. <code>[0]</code> means: &quot;TELL ME WHAT YOUR #0 ITEM IS PLEASE!&quot;. The other common dereference operation is the dot. <code>list.add(&quot;foo&quot;)</code> is not 'adding a string to list'. It's taking the 'list' address, walking over to the street and house number that your piece of paper lists, and then yelling at the house: &quot;ADD &quot;foo&quot; PLEASE!&quot;.</li>\n</ul>\n<p>Imagine this method:</p>\n<pre><code>public void swap(int[] arr) {\n  arr = new int[] {arr[1], arr[0]};\n}\n</code></pre>\n<p>That one <strong>does not work</strong>. That's because that one:</p>\n<ul>\n<li>Builds a new house.</li>\n<li>Then takes its <code>arr</code> piece of paper and takes an eraser to it so that it is blank, then writes the address of this newly built house on it.</li>\n<li>Then the method ends, and all pieces of paper go into the bin.</li>\n</ul>\n<p>Hence why that does not work. <code>=</code> wipes out the paper and writes a different address on. <code>.</code> and <code>[]</code> follow the address.</p>\n<p>Imagine you have an address book. I make a copy of it. If I go and edit an address in my copy that has no bearing on your address book.</p>\n<p>However, if I go to one of the addresses in my copy of your address book and toss a brick through the window, you'll be able to notice that just fine.</p>\n"}],"owner":{"account_id":26131907,"reputation":1,"user_id":22588709,"display_name":"Tiger"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1695078938,"answer_count":2,"score":-2,"last_activity_date":1695075620,"creation_date":1695074461,"question_id":77130626,"body_markdown":"Since have is value passing when using a method, how come the Array.sort() can change the the original array variable?\r\n\r\nI searched everywhere when found out creating a swap(int a, int b) can&#39;t change the original value of the variable. Now I am confused while the sort() method can change the array variable.","title":"How can array be sorted while the method can only pass value?","body":"<p>Since have is value passing when using a method, how come the Array.sort() can change the the original array variable?</p>\n<p>I searched everywhere when found out creating a swap(int a, int b) can't change the original value of the variable. Now I am confused while the sort() method can change the array variable.</p>\n"},{"tags":["java","maven","dependencies"],"answers":[{"tags":[],"owner":{"account_id":16298239,"reputation":26,"user_id":11770198,"display_name":"Stefan H&#246;hne"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695073902,"creation_date":1695073902,"answer_id":77130583,"question_id":77129805,"body_markdown":"You gave the correct answer yourself, so why did&#39;nt you give it a try:\r\n\r\n    &lt;dependencyManagement&gt;\r\n      &lt;dependencies&gt;\r\n        &lt;!-- add your reason for version adjustment here --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;example.group.id&lt;/groupId&gt;\r\n          &lt;artifactId&gt;example&lt;/artifactId&gt;\r\n          &lt;version&gt;good.version.number&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\nThis is slightly different from excluding the transitive dependency and adding a new one:\r\n * It works more globally on all transitive usages of that library.\r\n * When you upgrade the direct dependency and the transitive dependency is removed completely in that new version, you will not depend on it anymore. The solution with the exclusion needs you to remove the added dependency manually from your pom.xml.\r\n\r\n","title":"how to fix vulnerability issue in nested dependency?","body":"<p>You gave the correct answer yourself, so why did'nt you give it a try:</p>\n<pre><code>&lt;dependencyManagement&gt;\n  &lt;dependencies&gt;\n    &lt;!-- add your reason for version adjustment here --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;example.group.id&lt;/groupId&gt;\n      &lt;artifactId&gt;example&lt;/artifactId&gt;\n      &lt;version&gt;good.version.number&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n<p>This is slightly different from excluding the transitive dependency and adding a new one:</p>\n<ul>\n<li>It works more globally on all transitive usages of that library.</li>\n<li>When you upgrade the direct dependency and the transitive dependency is removed completely in that new version, you will not depend on it anymore. The solution with the exclusion needs you to remove the added dependency manually from your pom.xml.</li>\n</ul>\n"}],"owner":{"account_id":5930014,"reputation":951,"user_id":4664962,"accept_rate":0,"display_name":"Anna Lee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77130583,"answer_count":1,"score":1,"last_activity_date":1695073902,"creation_date":1695063947,"question_id":77129805,"body_markdown":"I would like to fix some vulnerability issues from javax.el 3.0.3. The problem is that javax.el is underlying dependency of crons.util. My co-worker added crons.util dependency to pom.xml, not javax.el itself. In that case, how could I fix the issue and upgrade the java.el to a higher version which does not have any vulnerabilities?\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.cronutils&lt;/groupId&gt;\r\n      &lt;artifactId&gt;cron-utils&lt;/artifactId&gt;\r\n      &lt;version&gt;9.1.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI found https://stackoverflow.com/questions/65274228/changing-the-version-of-a-transitive-dependency-in-maven-pom-xml, could I add the dependencyManagement like what is explained? ","title":"how to fix vulnerability issue in nested dependency?","body":"<p>I would like to fix some vulnerability issues from javax.el 3.0.3. The problem is that javax.el is underlying dependency of crons.util. My co-worker added crons.util dependency to pom.xml, not javax.el itself. In that case, how could I fix the issue and upgrade the java.el to a higher version which does not have any vulnerabilities?</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.cronutils&lt;/groupId&gt;\n  &lt;artifactId&gt;cron-utils&lt;/artifactId&gt;\n  &lt;version&gt;9.1.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I found <a href=\"https://stackoverflow.com/questions/65274228/changing-the-version-of-a-transitive-dependency-in-maven-pom-xml\">Changing the version of a transitive dependency in maven pom.xml</a>, could I add the dependencyManagement like what is explained?</p>\n"},{"tags":["java","spring","spring-boot","hibernate-validator"],"comments":[{"owner":{"account_id":3737180,"reputation":644,"user_id":3107864,"display_name":"vaibhavsahu"},"score":0,"creation_date":1630684416,"post_id":69044879,"comment_id":122032445,"body_markdown":"this url will help you -&gt; https://bushansirgur.in/spring-boot-validation-using-hibernate-validator/","body":"this url will help you -&gt; <a href=\"https://bushansirgur.in/spring-boot-validation-using-hibernate-validator/\" rel=\"nofollow noreferrer\">bushansirgur.in/&hellip;</a>"},{"owner":{"account_id":371244,"reputation":443,"user_id":17825391,"display_name":"user213769"},"score":0,"creation_date":1695072231,"post_id":69044879,"comment_id":135972775,"body_markdown":"@vaibhavsahu no, it won&#39;t. The link doesn&#39;t answer the question.","body":"@vaibhavsahu no, it won&#39;t. The link doesn&#39;t answer the question."}],"answers":[{"tags":[],"owner":{"account_id":371244,"reputation":443,"user_id":17825391,"display_name":"user213769"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695072963,"creation_date":1695072963,"answer_id":77130527,"question_id":69044879,"body_markdown":"You should be able to get the validator beans and configure them like this:\r\n\r\n    ValidatorFactory validatorFactory = \r\n        Validation.byProvider( HibernateValidator.class )   \r\n            .configure()\r\n            .customViolationExpressionLanguageFeatureLevel(ExpressionLanguageFeatureLevel.BEAN_METHODS)\r\n            .buildValidatorFactory();\r\n\r\nor\r\n\r\n    Configuration&lt;?&gt; config = Validation.byDefaultProvider().configure();\r\n    ((ConfigurationImpl)config).constraintExpressionLanguageFeatureLevel(\r\n        ExpressionLanguageFeatureLevel.BEAN_METHODS);\r\n\r\n    ValidatorFactory factory = config.buildValidatorFactory();\r\n\r\netc. (courtesy of https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#el-features ), but TBH I wouldn&#39;t call that a &quot;better&quot; way than just providing the XML with the config itself, unless you need to set it up based on some run-time factors.","title":"Is it possible to add hibernate validator settings via configuration properties in Spring Boot app?","body":"<p>You should be able to get the validator beans and configure them like this:</p>\n<pre><code>ValidatorFactory validatorFactory = \n    Validation.byProvider( HibernateValidator.class )   \n        .configure()\n        .customViolationExpressionLanguageFeatureLevel(ExpressionLanguageFeatureLevel.BEAN_METHODS)\n        .buildValidatorFactory();\n</code></pre>\n<p>or</p>\n<pre><code>Configuration&lt;?&gt; config = Validation.byDefaultProvider().configure();\n((ConfigurationImpl)config).constraintExpressionLanguageFeatureLevel(\n    ExpressionLanguageFeatureLevel.BEAN_METHODS);\n\nValidatorFactory factory = config.buildValidatorFactory();\n</code></pre>\n<p>etc. (courtesy of <a href=\"https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#el-features\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#el-features</a> ), but TBH I wouldn't call that a &quot;better&quot; way than just providing the XML with the config itself, unless you need to set it up based on some run-time factors.</p>\n"}],"owner":{"account_id":7313625,"reputation":6030,"user_id":5572007,"display_name":"amseager"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":278,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1695072963,"creation_date":1630671680,"question_id":69044879,"body_markdown":"At the moment, I&#39;m doing it via `META-INF/validation.xml` file:\r\n\r\n```\r\n&lt;validation-config\r\n        xmlns=&quot;http://jboss.org/xml/ns/javax/validation/configuration&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://jboss.org/xml/ns/javax/validation/configuration&quot; version=&quot;1.1&quot;&gt;\r\n    &lt;property name=&quot;hibernate.validator.allow_parameter_constraint_override&quot;&gt;true&lt;/property&gt;\r\n    &lt;!--other properties--&gt;\r\n&lt;/validation-config&gt;\r\n``` \r\nDoes Spring Boot provide any possibility to do the same (to set those `hibernate.validator` settings) via configuration properties (in `application.properties`/`application.yml`)?\r\n\r\nIf no, is there any other way to get rid of `validation.xml` file (e.g. with overriding some beans etc.)?","title":"Is it possible to add hibernate validator settings via configuration properties in Spring Boot app?","body":"<p>At the moment, I'm doing it via <code>META-INF/validation.xml</code> file:</p>\n<pre><code>&lt;validation-config\n        xmlns=&quot;http://jboss.org/xml/ns/javax/validation/configuration&quot;\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;http://jboss.org/xml/ns/javax/validation/configuration&quot; version=&quot;1.1&quot;&gt;\n    &lt;property name=&quot;hibernate.validator.allow_parameter_constraint_override&quot;&gt;true&lt;/property&gt;\n    &lt;!--other properties--&gt;\n&lt;/validation-config&gt;\n</code></pre>\n<p>Does Spring Boot provide any possibility to do the same (to set those <code>hibernate.validator</code> settings) via configuration properties (in <code>application.properties</code>/<code>application.yml</code>)?</p>\n<p>If no, is there any other way to get rid of <code>validation.xml</code> file (e.g. with overriding some beans etc.)?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":14047221,"reputation":61,"user_id":10147096,"display_name":"Shankar Ghimire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628683699,"creation_date":1628683699,"answer_id":68741739,"question_id":68738382,"body_markdown":"You can set application.properties to disable it.\r\n\r\n    management.endpoints.enabled-by-default=false\r\n","title":"How to ignore a jar in spring boot","body":"<p>You can set application.properties to disable it.</p>\n<pre><code>management.endpoints.enabled-by-default=false\n</code></pre>\n"}],"owner":{"account_id":1472305,"reputation":7002,"user_id":1383538,"accept_rate":67,"display_name":"Hayi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695072940,"creation_date":1628669911,"question_id":68738382,"body_markdown":"I have a dependency (external library) in my `build.gradle` that performs some health check to see if our Kafka connectors are working correctly so the app is `UP` when we do a `&#39;/actuator/health&#39;`.\r\n\r\nNow we are doing load tests and I want to ignore those health checks so that the pod in Kubernetes is `READY` even if I don&#39;t setup a Kafka broker\r\n\r\nHow can I ignore a jar with spring boot ?\r\n\r\n","title":"How to ignore a jar in spring boot","body":"<p>I have a dependency (external library) in my <code>build.gradle</code> that performs some health check to see if our Kafka connectors are working correctly so the app is <code>UP</code> when we do a <code>'/actuator/health'</code>.</p>\n<p>Now we are doing load tests and I want to ignore those health checks so that the pod in Kubernetes is <code>READY</code> even if I don't setup a Kafka broker</p>\n<p>How can I ignore a jar with spring boot ?</p>\n"},{"tags":["java","spring","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695072315,"creation_date":1694949641,"answer_id":77121561,"question_id":77119183,"body_markdown":"**Short story**\r\n\r\nYou need to implement your own `org.hibernate.dialect.Dialect` which won&#39;t add `nowait` to select statement and pass that dialect to HBN via `hibernate.dialect` property.\r\n\r\n**Long story**\r\n\r\nFirst of all, JPA specification does not specify how JPA provider should acquire `PESSIMISTIC_FORCE_INCREMENT` lock, and at the first glance HBN behaviour seems to be reasonable: \r\n\r\n*if there is other competing transaction which has acquired `PESSIMISTIC_FORCE_INCREMENT` lock, our transaction will eventually fail because when competing transaction increments version stamp our data becomes stale, so, there is no reason to wait for competing transaction to complete and we may fail lock request immediately.* \r\n\r\nUnfortunately such behaviour misses two other obvious cases:\r\n- competing transaction may hold shared (read) locks, so, we should not fail in that case\r\n- our transaction may not contain data yet: we just want to retrieve fresh data and simultaneously  place a lock on it\r\n\r\n\r\nSo, that is definitely short-sight of HBN team.\r\n\r\n\r\nNow, the question is whether it possible to overcome this undesired behaviour from HBN using `spring-data` API? My first idea was to write two repository methods like:\r\n\r\n```java\r\n@Lock(LockModeType.PESSIMISTIC_WRITE)\r\nEntity findWithWriteLockById(long id);\r\n\r\n@Lock(LockModeType.PESSIMISTIC_FORCE_INCREMENT)\r\nEntity findWithForceIncrementById(long id);\r\n```\r\n\r\nand call those methods successively: at first we acquire `PESSIMISTIC_WRITE` and then we upgrade it to `PESSIMISTIC_FORCE_INCREMENT`\r\n\r\nThe problem is this approach does not work with HBN because `spring-data` implements such methods via query api and there seems to be a bug in `org.hibernate.loader.Loader#instanceAlreadyLoaded` [method](https://github.com/hibernate/hibernate-orm/blob/4bf9bfac5a9589d4cbd0bdfd49a2dcd0c526fe70/hibernate-core/src/main/java/org/hibernate/loader/Loader.java#L1703) - it does not schedule increment of version stamp (in case of HBN `v6` it does not properly upgrade locks too, however the method is different):\r\n\r\n```java\r\nif ( LockMode.NONE != requestedLockMode &amp;&amp; upgradeLocks() ) {\r\n\tfinal EntityEntry entry = session.getPersistenceContextInternal().getEntry( object );\r\n\tif ( entry.getLockMode().lessThan( requestedLockMode ) ) {\r\n\t\t//we only check the version when _upgrading_ lock modes\r\n\t\tif ( persister.isVersioned() ) {\r\n\t\t\tcheckVersion( i, persister, key.getIdentifier(), object, rs, session );\r\n\t\t}\r\n\t\t//we need to upgrade the lock mode to the mode requested\r\n        \r\n        // !!!\r\n        // !!! there should be something more conceptual\r\n        // !!! like entry.forceLocked( object, nextVersion );\r\n        // !!!\r\n\t\tentry.setLockMode( requestedLockMode );\r\n\t}\r\n}\r\n```\r\n\r\n\r\n----------\r\n\r\nUPD. For HBN `v5.4` implementation of custom dialect would look like:\r\n\r\n```java\r\npublic class PostgreSQL10CustomDialect extends PostgreSQL10Dialect {\r\n\r\n    @Override\r\n    public String getForUpdateString(LockOptions lockOptions) {\r\n        switch (lockOptions.getLockMode()) {\r\n            case PESSIMISTIC_FORCE_INCREMENT:\r\n                return getWriteLockString(lockOptions.getTimeOut());\r\n            default:\r\n                return super.getForUpdateString(lockOptions);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public String getForUpdateString(LockMode lockMode) {\r\n        switch (lockMode) {\r\n            case PESSIMISTIC_FORCE_INCREMENT:\r\n                // not clear what default strategy is better\r\n                // return getWriteLockString(LockOptions.NO_WAIT);\r\n                return getWriteLockString(LockOptions.WAIT_FOREVER);\r\n            default:\r\n                return super.getForUpdateString(lockMode);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public String getForUpdateString(String aliases, LockOptions lockOptions) {\r\n        switch (getLockMode(aliases, lockOptions)) {\r\n            case PESSIMISTIC_FORCE_INCREMENT:\r\n                return getWriteLockString(aliases, lockOptions.getTimeOut());\r\n            default:\r\n                return super.getForUpdateString(aliases, lockOptions);\r\n        }\r\n    }\r\n\r\n    protected LockMode getLockMode(String aliases, LockOptions lockOptions) {\r\n        if (aliases != null &amp;&amp; aliases.isEmpty()) {\r\n            LockMode lockMode = lockOptions.getLockMode();\r\n            final Iterator&lt;Map.Entry&lt;String, LockMode&gt;&gt; itr = lockOptions.getAliasLockIterator();\r\n            while (itr.hasNext()) {\r\n                // seek the highest lock mode\r\n                final Map.Entry&lt;String, LockMode&gt; entry = itr.next();\r\n                final LockMode lm = entry.getValue();\r\n                if (lm.greaterThan(lockMode)) {\r\n                    aliases = entry.getKey();\r\n                }\r\n            }\r\n        }\r\n\r\n        LockMode lockMode = lockOptions.getAliasSpecificLockMode(aliases);\r\n        if (lockMode == null) {\r\n            lockMode = lockOptions.getLockMode();\r\n        }\r\n\r\n        return lockMode;\r\n    }\r\n\r\n}\r\n\r\n```\r\n","title":"Spring JPA using @Lock Annotation with Postgres Backend LockModeType.PESSIMISTIC_FORCE_INCREMENT is enforcing no wait","body":"<p><strong>Short story</strong></p>\n<p>You need to implement your own <code>org.hibernate.dialect.Dialect</code> which won't add <code>nowait</code> to select statement and pass that dialect to HBN via <code>hibernate.dialect</code> property.</p>\n<p><strong>Long story</strong></p>\n<p>First of all, JPA specification does not specify how JPA provider should acquire <code>PESSIMISTIC_FORCE_INCREMENT</code> lock, and at the first glance HBN behaviour seems to be reasonable:</p>\n<p><em>if there is other competing transaction which has acquired <code>PESSIMISTIC_FORCE_INCREMENT</code> lock, our transaction will eventually fail because when competing transaction increments version stamp our data becomes stale, so, there is no reason to wait for competing transaction to complete and we may fail lock request immediately.</em></p>\n<p>Unfortunately such behaviour misses two other obvious cases:</p>\n<ul>\n<li>competing transaction may hold shared (read) locks, so, we should not fail in that case</li>\n<li>our transaction may not contain data yet: we just want to retrieve fresh data and simultaneously  place a lock on it</li>\n</ul>\n<p>So, that is definitely short-sight of HBN team.</p>\n<p>Now, the question is whether it possible to overcome this undesired behaviour from HBN using <code>spring-data</code> API? My first idea was to write two repository methods like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Lock(LockModeType.PESSIMISTIC_WRITE)\nEntity findWithWriteLockById(long id);\n\n@Lock(LockModeType.PESSIMISTIC_FORCE_INCREMENT)\nEntity findWithForceIncrementById(long id);\n</code></pre>\n<p>and call those methods successively: at first we acquire <code>PESSIMISTIC_WRITE</code> and then we upgrade it to <code>PESSIMISTIC_FORCE_INCREMENT</code></p>\n<p>The problem is this approach does not work with HBN because <code>spring-data</code> implements such methods via query api and there seems to be a bug in <code>org.hibernate.loader.Loader#instanceAlreadyLoaded</code> <a href=\"https://github.com/hibernate/hibernate-orm/blob/4bf9bfac5a9589d4cbd0bdfd49a2dcd0c526fe70/hibernate-core/src/main/java/org/hibernate/loader/Loader.java#L1703\" rel=\"nofollow noreferrer\">method</a> - it does not schedule increment of version stamp (in case of HBN <code>v6</code> it does not properly upgrade locks too, however the method is different):</p>\n<pre class=\"lang-java prettyprint-override\"><code>if ( LockMode.NONE != requestedLockMode &amp;&amp; upgradeLocks() ) {\n    final EntityEntry entry = session.getPersistenceContextInternal().getEntry( object );\n    if ( entry.getLockMode().lessThan( requestedLockMode ) ) {\n        //we only check the version when _upgrading_ lock modes\n        if ( persister.isVersioned() ) {\n            checkVersion( i, persister, key.getIdentifier(), object, rs, session );\n        }\n        //we need to upgrade the lock mode to the mode requested\n        \n        // !!!\n        // !!! there should be something more conceptual\n        // !!! like entry.forceLocked( object, nextVersion );\n        // !!!\n        entry.setLockMode( requestedLockMode );\n    }\n}\n</code></pre>\n<hr />\n<p>UPD. For HBN <code>v5.4</code> implementation of custom dialect would look like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PostgreSQL10CustomDialect extends PostgreSQL10Dialect {\n\n    @Override\n    public String getForUpdateString(LockOptions lockOptions) {\n        switch (lockOptions.getLockMode()) {\n            case PESSIMISTIC_FORCE_INCREMENT:\n                return getWriteLockString(lockOptions.getTimeOut());\n            default:\n                return super.getForUpdateString(lockOptions);\n        }\n    }\n\n    @Override\n    public String getForUpdateString(LockMode lockMode) {\n        switch (lockMode) {\n            case PESSIMISTIC_FORCE_INCREMENT:\n                // not clear what default strategy is better\n                // return getWriteLockString(LockOptions.NO_WAIT);\n                return getWriteLockString(LockOptions.WAIT_FOREVER);\n            default:\n                return super.getForUpdateString(lockMode);\n        }\n    }\n\n    @Override\n    public String getForUpdateString(String aliases, LockOptions lockOptions) {\n        switch (getLockMode(aliases, lockOptions)) {\n            case PESSIMISTIC_FORCE_INCREMENT:\n                return getWriteLockString(aliases, lockOptions.getTimeOut());\n            default:\n                return super.getForUpdateString(aliases, lockOptions);\n        }\n    }\n\n    protected LockMode getLockMode(String aliases, LockOptions lockOptions) {\n        if (aliases != null &amp;&amp; aliases.isEmpty()) {\n            LockMode lockMode = lockOptions.getLockMode();\n            final Iterator&lt;Map.Entry&lt;String, LockMode&gt;&gt; itr = lockOptions.getAliasLockIterator();\n            while (itr.hasNext()) {\n                // seek the highest lock mode\n                final Map.Entry&lt;String, LockMode&gt; entry = itr.next();\n                final LockMode lm = entry.getValue();\n                if (lm.greaterThan(lockMode)) {\n                    aliases = entry.getKey();\n                }\n            }\n        }\n\n        LockMode lockMode = lockOptions.getAliasSpecificLockMode(aliases);\n        if (lockMode == null) {\n            lockMode = lockOptions.getLockMode();\n        }\n\n        return lockMode;\n    }\n\n}\n\n</code></pre>\n"}],"owner":{"account_id":19112276,"reputation":777,"user_id":13958041,"display_name":"Rishabh Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1695072315,"creation_date":1694890687,"question_id":77119183,"body_markdown":"I am using Spring JPA @Lock annotation to acquire row level lock in Postgres. I need to use `LockModeType.PESSIMISTIC_FORCE_INCREMENT` which tries to acquire Postgres lock with no wait option (fails with error immediately in case lock is held by some other thread). Is it possible to change this behaviour where the thread waits for the lock instead of failing immediately?\r\n\r\nTo add some more context, default behaviour for `LockModeType.PESSIMISTIC_WRITE` is to wait for lock. I can provide it hint to fail immediately as well if needed using query hint. But I am unable to configure this for `LockModeType.PESSIMISTIC_FORCE_INCREMENT` which by default fails immediately.\r\n```\r\n@Lock(LockModeType.PESSIMISTIC_WRITE)\r\n@QueryHints({@QueryHint(name = &quot;javax.persistence.lock.timeout&quot;, value = &quot;0&quot;)})\r\nOptional&lt;TessellServiceJpaEntity&gt; findById(UUID id);```","title":"Spring JPA using @Lock Annotation with Postgres Backend LockModeType.PESSIMISTIC_FORCE_INCREMENT is enforcing no wait","body":"<p>I am using Spring JPA @Lock annotation to acquire row level lock in Postgres. I need to use <code>LockModeType.PESSIMISTIC_FORCE_INCREMENT</code> which tries to acquire Postgres lock with no wait option (fails with error immediately in case lock is held by some other thread). Is it possible to change this behaviour where the thread waits for the lock instead of failing immediately?</p>\n<p>To add some more context, default behaviour for <code>LockModeType.PESSIMISTIC_WRITE</code> is to wait for lock. I can provide it hint to fail immediately as well if needed using query hint. But I am unable to configure this for <code>LockModeType.PESSIMISTIC_FORCE_INCREMENT</code> which by default fails immediately.</p>\n<pre><code>@Lock(LockModeType.PESSIMISTIC_WRITE)\n@QueryHints({@QueryHint(name = &quot;javax.persistence.lock.timeout&quot;, value = &quot;0&quot;)})\nOptional&lt;TessellServiceJpaEntity&gt; findById(UUID id);```\n</code></pre>\n"},{"tags":["java","nlp","stanford-nlp"],"answers":[{"tags":[],"owner":{"account_id":3485513,"reputation":393,"user_id":2916576,"display_name":"gerowam"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1485479021,"creation_date":1485479021,"answer_id":41885643,"question_id":41879957,"body_markdown":"Provided the character encoding is correct throughout your code, system and the Stanford CoreNLP code, emoji should be represented correctly. However, you&#39;ll have two more fundamental problems:\r\n\r\nFirst, emoji are one character long and they are unlikely to be tagged as anything other than an indefinite article. &#39;a&#39; in English. A smart tokenizer might make better sense of emoji, but I doubt it.\r\n\r\nSecondly, and more importantly, POS taggers annotate [parts of speech](https://en.wikipedia.org/wiki/Part_of_speech). Emoji are not a part of speech. In the very least, they are an independent, new class of tokens, but certainly not grammatical.\r\n\r\nAll that said ... you know their character codes ... they&#39;re already tagged.","title":"Stanford CoreNLP and Emoji?","body":"<p>Provided the character encoding is correct throughout your code, system and the Stanford CoreNLP code, emoji should be represented correctly. However, you'll have two more fundamental problems:</p>\n\n<p>First, emoji are one character long and they are unlikely to be tagged as anything other than an indefinite article. 'a' in English. A smart tokenizer might make better sense of emoji, but I doubt it.</p>\n\n<p>Secondly, and more importantly, POS taggers annotate <a href=\"https://en.wikipedia.org/wiki/Part_of_speech\" rel=\"nofollow noreferrer\">parts of speech</a>. Emoji are not a part of speech. In the very least, they are an independent, new class of tokens, but certainly not grammatical.</p>\n\n<p>All that said ... you know their character codes ... they're already tagged.</p>\n"},{"tags":[],"owner":{"account_id":4030409,"reputation":749,"user_id":3316743,"display_name":"JamesFrost"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1497887422,"creation_date":1497887422,"answer_id":44634934,"question_id":41879957,"body_markdown":"As of version 3.8.0, Stanford CoreNLP supports emojis.\r\n\r\n[Release notes.][1]\r\n\r\n\r\n  [1]: https://stanfordnlp.github.io/CoreNLP/history.html","title":"Stanford CoreNLP and Emoji?","body":"<p>As of version 3.8.0, Stanford CoreNLP supports emojis.</p>\n\n<p><a href=\"https://stanfordnlp.github.io/CoreNLP/history.html\" rel=\"nofollow noreferrer\">Release notes.</a></p>\n"}],"owner":{"account_id":1350483,"reputation":543,"user_id":1290309,"accept_rate":83,"display_name":"RinW"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":671,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":41885643,"answer_count":2,"score":1,"last_activity_date":1695071765,"creation_date":1485453572,"question_id":41879957,"body_markdown":"So far when I tried to use emoji and using the POS tagger, it appeared as unknown symbols, small boxes. Is there a way to get the POS tagger to work with emoji? Emoji (eg `&#128512;`) the unicode versions.","title":"Stanford CoreNLP and Emoji?","body":"<p>So far when I tried to use emoji and using the POS tagger, it appeared as unknown symbols, small boxes. Is there a way to get the POS tagger to work with emoji? Emoji (eg <code>😀</code>) the unicode versions.</p>\n"},{"tags":["java","spring-boot","java-stream"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1695069548,"post_id":77130180,"comment_id":135972390,"body_markdown":"Can you please also share your _expected_ response, what exactly is different and why it should be the expected response as opposed to the actual response? Can you please also include the code of `StatisticsService#getOrderStatistics`?","body":"Can you please also share your <i>expected</i> response, what exactly is different and why it should be the expected response as opposed to the actual response? Can you please also include the code of <code>StatisticsService#getOrderStatistics</code>?"}],"answers":[{"tags":[],"owner":{"account_id":7673258,"reputation":1688,"user_id":6200354,"display_name":"atish.s"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695071308,"creation_date":1695071308,"answer_id":77130423,"question_id":77130180,"body_markdown":"There is no issue with the java stream part. However there is an issue with the way the data is being aggregated.\r\n\r\nIf the table orders contains the following:\r\n\r\n```\r\nid\t\tcreated_at\r\n1\t\t2023-01-01\r\n2\t\t2023-01-15\r\n3\t\t2023-01-18\r\n4\t\t2023-01-19\r\n```\r\n\r\nDoing a `findAll` with page size `2` and starting with page `0` will only return the first two records.\r\n\r\nAnd the report is calculated based on the 2 records only, which is wrong. Since records with id `3` and `4` also are part of January.\r\n\r\nI think it is best to aggregate the data using JPQL and project the result in a DTO as such:\r\n\r\n    // in OrderRepository\r\n    @Query(&quot;select &quot; +\r\n            &quot;new com.example.demo.dto.OrderReportDTO(&quot; +\r\n                &quot;month(o.createdAt), &quot; +\r\n                &quot;year(o.createdAt),&quot; +\r\n                &quot;count(o.orderItems),&quot; +\r\n                &quot;count(items), &quot; +\r\n                &quot;sum(items.book.price)&quot; +\r\n            &quot;) &quot; +\r\n            &quot;from Order o &quot; +\r\n            &quot;inner join o.orderItems items &quot; +\r\n            &quot;group by &quot; +\r\n                &quot;month(o.createdAt), &quot; +\r\n                &quot;year(o.createdAt)&quot;)\r\n    Page&lt;OrderReportDTO&gt; getReports(Pageable pageable);","title":"Java Steam Issue in Spring Boot -&gt; Not Calculate total value (Size and Pagination Issue)","body":"<p>There is no issue with the java stream part. However there is an issue with the way the data is being aggregated.</p>\n<p>If the table orders contains the following:</p>\n<pre><code>id      created_at\n1       2023-01-01\n2       2023-01-15\n3       2023-01-18\n4       2023-01-19\n</code></pre>\n<p>Doing a <code>findAll</code> with page size <code>2</code> and starting with page <code>0</code> will only return the first two records.</p>\n<p>And the report is calculated based on the 2 records only, which is wrong. Since records with id <code>3</code> and <code>4</code> also are part of January.</p>\n<p>I think it is best to aggregate the data using JPQL and project the result in a DTO as such:</p>\n<pre><code>// in OrderRepository\n@Query(&quot;select &quot; +\n        &quot;new com.example.demo.dto.OrderReportDTO(&quot; +\n            &quot;month(o.createdAt), &quot; +\n            &quot;year(o.createdAt),&quot; +\n            &quot;count(o.orderItems),&quot; +\n            &quot;count(items), &quot; +\n            &quot;sum(items.book.price)&quot; +\n        &quot;) &quot; +\n        &quot;from Order o &quot; +\n        &quot;inner join o.orderItems items &quot; +\n        &quot;group by &quot; +\n            &quot;month(o.createdAt), &quot; +\n            &quot;year(o.createdAt)&quot;)\nPage&lt;OrderReportDTO&gt; getReports(Pageable pageable);\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1695071308,"creation_date":1695068285,"question_id":77130180,"body_markdown":"I have a problem to calculate order report with the usage of Java Stream in my Spring Boot example.\r\n\r\nFor example, I have 21 orders.\r\n\r\nWhen I send a request shown below,\r\n\r\n    {\r\n      &quot;page&quot;: 0,\r\n      &quot;size&quot;: 22\r\n    } \r\n\r\nI got this result shown below\r\n\r\n    {\r\n        &quot;response&quot;: {\r\n            &quot;content&quot;: [\r\n                {\r\n                    &quot;month&quot;: &quot;SEPTEMBER&quot;,\r\n                    &quot;year&quot;: 2023,\r\n                    &quot;totalOrderCount&quot;: 21,\r\n                    &quot;totalBookCount&quot;: 21,\r\n                    &quot;totalPrice&quot;: 2079.00\r\n                }\r\n            ],\r\n            &quot;pageNumber&quot;: 0,\r\n            &quot;pageSize&quot;: 22,\r\n            &quot;totalPageCount&quot;: 1,\r\n            &quot;totalElementCount&quot;: 1\r\n        },\r\n        &quot;isSuccess&quot;: true,\r\n        &quot;httpStatus&quot;: &quot;OK&quot;,\r\n        &quot;time&quot;: &quot;2023-09-18T23:12:26.3410251&quot;\r\n    }\r\n\r\n\r\nWhen I send a request this,\r\n\r\n    {\r\n      &quot;page&quot;: 0,\r\n      &quot;size&quot;: 10\r\n    }\r\n\r\nI get this response message shown below\r\n\r\n    {\r\n        &quot;response&quot;: {\r\n            &quot;content&quot;: [\r\n                {\r\n                    &quot;month&quot;: &quot;SEPTEMBER&quot;,\r\n                    &quot;year&quot;: 2023,\r\n                    &quot;totalOrderCount&quot;: 10,\r\n                    &quot;totalBookCount&quot;: 10,\r\n                    &quot;totalPrice&quot;: 990.00\r\n                }\r\n            ],\r\n            &quot;pageNumber&quot;: 0,\r\n            &quot;pageSize&quot;: 10,\r\n            &quot;totalPageCount&quot;: 3,\r\n            &quot;totalElementCount&quot;: 21\r\n        },\r\n        &quot;isSuccess&quot;: true,\r\n        &quot;httpStatus&quot;: &quot;OK&quot;,\r\n        &quot;time&quot;: &quot;2023-09-18T23:13:27.1144251&quot;\r\n    }\r\n\r\nHere is my **expected** result shown below\r\n\r\n\r\n    {\r\n            &quot;response&quot;: {\r\n                &quot;content&quot;: [\r\n                    {\r\n                        &quot;month&quot;: &quot;SEPTEMBER&quot;,\r\n                        &quot;year&quot;: 2023,\r\n                        &quot;totalOrderCount&quot;: 21,\r\n                        &quot;totalBookCount&quot;: 21,\r\n                        &quot;totalPrice&quot;: 990.00\r\n                    }\r\n                ],\r\n                &quot;pageNumber&quot;: 0,\r\n                &quot;pageSize&quot;: 10,\r\n                &quot;totalPageCount&quot;: 3,\r\n                &quot;totalElementCount&quot;: 21\r\n            },\r\n            &quot;isSuccess&quot;: true,\r\n            &quot;httpStatus&quot;: &quot;OK&quot;,\r\n            &quot;time&quot;: &quot;2023-09-18T23:13:27.1144251&quot;\r\n        }\r\n\r\nor\r\n\r\n    {\r\n            &quot;response&quot;: {\r\n                &quot;content&quot;: [\r\n                    {\r\n                        &quot;month&quot;: &quot;SEPTEMBER&quot;,\r\n                        &quot;year&quot;: 2023,\r\n                        &quot;totalOrderCount&quot;: 21,\r\n                        &quot;totalBookCount&quot;: 21,\r\n                        &quot;totalPrice&quot;: 2079.00\r\n                    }\r\n                ],\r\n                &quot;pageNumber&quot;: 0,\r\n                &quot;pageSize&quot;: 22,\r\n                &quot;totalPageCount&quot;: 1,\r\n                &quot;totalElementCount&quot;: 21\r\n            },\r\n            &quot;isSuccess&quot;: true,\r\n            &quot;httpStatus&quot;: &quot;OK&quot;,\r\n            &quot;time&quot;: &quot;2023-09-18T23:12:26.3410251&quot;\r\n        }\r\n\r\n\r\nAs you can see, `order size &lt; size` -&gt; `totalOrderCount` and `totalBookCount` would be wrong value and `order size &gt; size` -&gt; totalElementCount would be wrong value.\r\n\r\nHow can I fix it?\r\n\r\nAll these processes can be done from StatisticsController shown below. \r\n\r\n    public class StatisticsController {\r\n    \r\n        private final StatisticsService statisticsService;\r\n    \r\n        private final Identity identity;\r\n    \r\n        @GetMapping(&quot;/{customerId}&quot;)\r\n        @PreAuthorize(&quot;hasAnyAuthority(&#39;ROLE_ADMIN&#39;,&#39;ROLE_CUSTOMER&#39;)&quot;)\r\n        public CustomResponse&lt;CustomPageResponse&lt;OrderReportResponse&gt;&gt; getOrderStatisticsByCustomer(\r\n                @PathVariable Long customerId,\r\n                @RequestBody PaginationRequest paginationRequest\r\n        ) {\r\n    \r\n            CustomUserDetails customUserDetails = identity.getCustomUserDetails();\r\n    \r\n            if ((customUserDetails.getId().equals(customerId) &amp;&amp;\r\n                    customUserDetails.getUser().getRole().equals(Role.ROLE_CUSTOMER)\r\n            ) || customUserDetails.getUser().getRole().equals(Role.ROLE_ADMIN)\r\n            ) {\r\n                Page&lt;OrderReportDTO&gt; orderReportDtosByCustomer = statisticsService.getOrderStatisticsByCustomer(customerId, paginationRequest);\r\n                CustomPageResponse&lt;OrderReportResponse&gt; orderReportResponse = OrderReportMapper.toOrderReportResponseList(orderReportDtosByCustomer);\r\n                return CustomResponse.ok(orderReportResponse);\r\n            }\r\n    \r\n            throw new AccessDeniedException(&quot;You cannot access order statistics&quot;);\r\n        }\r\n    \r\n        @GetMapping(&quot;/allstatistics&quot;)\r\n        @PreAuthorize(&quot;hasAuthority(&#39;ROLE_ADMIN&#39;)&quot;)\r\n        public CustomResponse&lt;CustomPageResponse&lt;OrderReportResponse&gt;&gt; getOrderStatistics(@RequestBody PaginationRequest paginationRequest) {\r\n    \r\n            Page&lt;OrderReportDTO&gt; orderReportAllDtos = statisticsService.getOrderStatistics(paginationRequest);\r\n            CustomPageResponse&lt;OrderReportResponse&gt; orderReportResponse = OrderReportMapper.toOrderReportResponseList(orderReportAllDtos);\r\n            return CustomResponse.ok(orderReportResponse);\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n\r\nHere is the Java Stream method to calculate statistics for orders.\r\n\r\n    private Page&lt;OrderReportDTO&gt; calculateTotalOrderCountByMonth(Page&lt;Order&gt; customerOrders) {\r\n    \r\n            Map&lt;String, List&lt;Order&gt;&gt; ordersByMonthYear = customerOrders.stream()\r\n                    .collect(Collectors.groupingBy(\r\n                            order -&gt; order.getCreatedAt().getYear() + &quot;-&quot; + order.getCreatedAt().getMonth()\r\n                    ));\r\n    \r\n            List&lt;OrderReportDTO&gt; reportDTOs = ordersByMonthYear.entrySet().stream()\r\n                    .map(entry -&gt; {\r\n                        String monthYearKey = entry.getKey();\r\n                        List&lt;Order&gt; ordersForMonthYear = entry.getValue();\r\n                        int totalOrderCount = ordersForMonthYear.size();\r\n    \r\n                        int totalBookCount = ordersForMonthYear.stream()\r\n                                .mapToInt(order -&gt; order.getOrderItems().size())\r\n                                .sum();\r\n    \r\n                        BigDecimal totalPrice = ordersForMonthYear.stream()\r\n                                .flatMap(order -&gt; order.getOrderItems().stream())\r\n                                .map(orderItem -&gt; orderItem.getBook().getPrice())\r\n                                .reduce(BigDecimal.ZERO, BigDecimal::add);\r\n    \r\n                        // Splitting the monthYearKey to extract month and year\r\n                        String[] parts = monthYearKey.split(&quot;-&quot;);\r\n                        String month = parts[1];\r\n                        int year = Integer.parseInt(parts[0]);\r\n    \r\n                        return new OrderReportDTO(month, year, totalOrderCount, totalBookCount, totalPrice);\r\n                    })\r\n                    .toList();\r\n    \r\n            return new PageImpl&lt;&gt;(reportDTOs, customerOrders.getPageable(), customerOrders.getTotalElements());\r\n        }\r\n\r\nHow can I fix the issue?\r\n\r\nHere is the repo : [Link][1]\r\n\r\n\r\n  [1]: https://github.com/Rapter1990/bookdelivery","title":"Java Steam Issue in Spring Boot -&gt; Not Calculate total value (Size and Pagination Issue)","body":"<p>I have a problem to calculate order report with the usage of Java Stream in my Spring Boot example.</p>\n<p>For example, I have 21 orders.</p>\n<p>When I send a request shown below,</p>\n<pre><code>{\n  &quot;page&quot;: 0,\n  &quot;size&quot;: 22\n} \n</code></pre>\n<p>I got this result shown below</p>\n<pre><code>{\n    &quot;response&quot;: {\n        &quot;content&quot;: [\n            {\n                &quot;month&quot;: &quot;SEPTEMBER&quot;,\n                &quot;year&quot;: 2023,\n                &quot;totalOrderCount&quot;: 21,\n                &quot;totalBookCount&quot;: 21,\n                &quot;totalPrice&quot;: 2079.00\n            }\n        ],\n        &quot;pageNumber&quot;: 0,\n        &quot;pageSize&quot;: 22,\n        &quot;totalPageCount&quot;: 1,\n        &quot;totalElementCount&quot;: 1\n    },\n    &quot;isSuccess&quot;: true,\n    &quot;httpStatus&quot;: &quot;OK&quot;,\n    &quot;time&quot;: &quot;2023-09-18T23:12:26.3410251&quot;\n}\n</code></pre>\n<p>When I send a request this,</p>\n<pre><code>{\n  &quot;page&quot;: 0,\n  &quot;size&quot;: 10\n}\n</code></pre>\n<p>I get this response message shown below</p>\n<pre><code>{\n    &quot;response&quot;: {\n        &quot;content&quot;: [\n            {\n                &quot;month&quot;: &quot;SEPTEMBER&quot;,\n                &quot;year&quot;: 2023,\n                &quot;totalOrderCount&quot;: 10,\n                &quot;totalBookCount&quot;: 10,\n                &quot;totalPrice&quot;: 990.00\n            }\n        ],\n        &quot;pageNumber&quot;: 0,\n        &quot;pageSize&quot;: 10,\n        &quot;totalPageCount&quot;: 3,\n        &quot;totalElementCount&quot;: 21\n    },\n    &quot;isSuccess&quot;: true,\n    &quot;httpStatus&quot;: &quot;OK&quot;,\n    &quot;time&quot;: &quot;2023-09-18T23:13:27.1144251&quot;\n}\n</code></pre>\n<p>Here is my <strong>expected</strong> result shown below</p>\n<pre><code>{\n        &quot;response&quot;: {\n            &quot;content&quot;: [\n                {\n                    &quot;month&quot;: &quot;SEPTEMBER&quot;,\n                    &quot;year&quot;: 2023,\n                    &quot;totalOrderCount&quot;: 21,\n                    &quot;totalBookCount&quot;: 21,\n                    &quot;totalPrice&quot;: 990.00\n                }\n            ],\n            &quot;pageNumber&quot;: 0,\n            &quot;pageSize&quot;: 10,\n            &quot;totalPageCount&quot;: 3,\n            &quot;totalElementCount&quot;: 21\n        },\n        &quot;isSuccess&quot;: true,\n        &quot;httpStatus&quot;: &quot;OK&quot;,\n        &quot;time&quot;: &quot;2023-09-18T23:13:27.1144251&quot;\n    }\n</code></pre>\n<p>or</p>\n<pre><code>{\n        &quot;response&quot;: {\n            &quot;content&quot;: [\n                {\n                    &quot;month&quot;: &quot;SEPTEMBER&quot;,\n                    &quot;year&quot;: 2023,\n                    &quot;totalOrderCount&quot;: 21,\n                    &quot;totalBookCount&quot;: 21,\n                    &quot;totalPrice&quot;: 2079.00\n                }\n            ],\n            &quot;pageNumber&quot;: 0,\n            &quot;pageSize&quot;: 22,\n            &quot;totalPageCount&quot;: 1,\n            &quot;totalElementCount&quot;: 21\n        },\n        &quot;isSuccess&quot;: true,\n        &quot;httpStatus&quot;: &quot;OK&quot;,\n        &quot;time&quot;: &quot;2023-09-18T23:12:26.3410251&quot;\n    }\n</code></pre>\n<p>As you can see, <code>order size &lt; size</code> -&gt; <code>totalOrderCount</code> and <code>totalBookCount</code> would be wrong value and <code>order size &gt; size</code> -&gt; totalElementCount would be wrong value.</p>\n<p>How can I fix it?</p>\n<p>All these processes can be done from StatisticsController shown below.</p>\n<pre><code>public class StatisticsController {\n\n    private final StatisticsService statisticsService;\n\n    private final Identity identity;\n\n    @GetMapping(&quot;/{customerId}&quot;)\n    @PreAuthorize(&quot;hasAnyAuthority('ROLE_ADMIN','ROLE_CUSTOMER')&quot;)\n    public CustomResponse&lt;CustomPageResponse&lt;OrderReportResponse&gt;&gt; getOrderStatisticsByCustomer(\n            @PathVariable Long customerId,\n            @RequestBody PaginationRequest paginationRequest\n    ) {\n\n        CustomUserDetails customUserDetails = identity.getCustomUserDetails();\n\n        if ((customUserDetails.getId().equals(customerId) &amp;&amp;\n                customUserDetails.getUser().getRole().equals(Role.ROLE_CUSTOMER)\n        ) || customUserDetails.getUser().getRole().equals(Role.ROLE_ADMIN)\n        ) {\n            Page&lt;OrderReportDTO&gt; orderReportDtosByCustomer = statisticsService.getOrderStatisticsByCustomer(customerId, paginationRequest);\n            CustomPageResponse&lt;OrderReportResponse&gt; orderReportResponse = OrderReportMapper.toOrderReportResponseList(orderReportDtosByCustomer);\n            return CustomResponse.ok(orderReportResponse);\n        }\n\n        throw new AccessDeniedException(&quot;You cannot access order statistics&quot;);\n    }\n\n    @GetMapping(&quot;/allstatistics&quot;)\n    @PreAuthorize(&quot;hasAuthority('ROLE_ADMIN')&quot;)\n    public CustomResponse&lt;CustomPageResponse&lt;OrderReportResponse&gt;&gt; getOrderStatistics(@RequestBody PaginationRequest paginationRequest) {\n\n        Page&lt;OrderReportDTO&gt; orderReportAllDtos = statisticsService.getOrderStatistics(paginationRequest);\n        CustomPageResponse&lt;OrderReportResponse&gt; orderReportResponse = OrderReportMapper.toOrderReportResponseList(orderReportAllDtos);\n        return CustomResponse.ok(orderReportResponse);\n\n    }\n\n}\n</code></pre>\n<p>Here is the Java Stream method to calculate statistics for orders.</p>\n<pre><code>private Page&lt;OrderReportDTO&gt; calculateTotalOrderCountByMonth(Page&lt;Order&gt; customerOrders) {\n\n        Map&lt;String, List&lt;Order&gt;&gt; ordersByMonthYear = customerOrders.stream()\n                .collect(Collectors.groupingBy(\n                        order -&gt; order.getCreatedAt().getYear() + &quot;-&quot; + order.getCreatedAt().getMonth()\n                ));\n\n        List&lt;OrderReportDTO&gt; reportDTOs = ordersByMonthYear.entrySet().stream()\n                .map(entry -&gt; {\n                    String monthYearKey = entry.getKey();\n                    List&lt;Order&gt; ordersForMonthYear = entry.getValue();\n                    int totalOrderCount = ordersForMonthYear.size();\n\n                    int totalBookCount = ordersForMonthYear.stream()\n                            .mapToInt(order -&gt; order.getOrderItems().size())\n                            .sum();\n\n                    BigDecimal totalPrice = ordersForMonthYear.stream()\n                            .flatMap(order -&gt; order.getOrderItems().stream())\n                            .map(orderItem -&gt; orderItem.getBook().getPrice())\n                            .reduce(BigDecimal.ZERO, BigDecimal::add);\n\n                    // Splitting the monthYearKey to extract month and year\n                    String[] parts = monthYearKey.split(&quot;-&quot;);\n                    String month = parts[1];\n                    int year = Integer.parseInt(parts[0]);\n\n                    return new OrderReportDTO(month, year, totalOrderCount, totalBookCount, totalPrice);\n                })\n                .toList();\n\n        return new PageImpl&lt;&gt;(reportDTOs, customerOrders.getPageable(), customerOrders.getTotalElements());\n    }\n</code></pre>\n<p>How can I fix the issue?</p>\n<p>Here is the repo : <a href=\"https://github.com/Rapter1990/bookdelivery\" rel=\"nofollow noreferrer\">Link</a></p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":28718461,"reputation":1,"user_id":22588067,"display_name":"SteLax"},"score":0,"creation_date":1695103642,"post_id":77130291,"comment_id":135975508,"body_markdown":"As I understand, maven-assembly-plug is replacement for maven-jar-plugin, but I want to use the last one or am I wrong?","body":"As I understand, maven-assembly-plug is replacement for maven-jar-plugin, but I want to use the last one or am I wrong?"},{"owner":{"account_id":28718461,"reputation":1,"user_id":22588067,"display_name":"SteLax"},"score":0,"creation_date":1695107391,"post_id":77130291,"comment_id":135976137,"body_markdown":"I tried to use the solution from the provided link, but it remains the same","body":"I tried to use the solution from the provided link, but it remains the same"}],"owner":{"account_id":28718461,"reputation":1,"user_id":22588067,"display_name":"SteLax"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1695113958,"answer_count":0,"score":0,"last_activity_date":1695069993,"creation_date":1695069993,"question_id":77130291,"body_markdown":"The build process ends successfully and I receive a jar file, but when I try to run it I get ClassNotFoundException: : com.javarush.games.racer.RacerGame\r\n\r\nMy pom file: \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;jru.module3&lt;/groupId&gt;\r\n    &lt;artifactId&gt;project-maven&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;18&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;18&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;localrep&lt;/id&gt;\r\n            &lt;name&gt;local repository&lt;/name&gt;\r\n            &lt;url&gt;file:${project.basedir}/lib&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-lang3 --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n            &lt;version&gt;3.12.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.openjfx/javafx-controls --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;18.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-engine --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;5.8.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.javarush&lt;/groupId&gt;\r\n            &lt;artifactId&gt;desktop-game-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0&lt;/version&gt;\r\n            &lt;scope&gt;system&lt;/scope&gt;\r\n            &lt;systemPath&gt;D:/JDE/IDE/projects/project-maven-master/lib/desktop-game-engine.jar&lt;/systemPath&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;\r\n                    D:\\JDE\\IDE\\projects\\project-maven-master\\lib\\\r\n                &lt;/directory&gt;\r\n                &lt;includes&gt;\r\n                    &lt;include&gt;*.jar&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n            &lt;/resource&gt;\r\n            &lt;resource&gt;\r\n            &lt;directory&gt;\r\n                D:\\JDE\\IDE\\projects\\project-maven-master\\src\\main\\java\\com\\javarush\\games\\racer\\\r\n            &lt;/directory&gt;\r\n            &lt;includes&gt;\r\n                &lt;include&gt;*.class&lt;/include&gt;\r\n            &lt;/includes&gt;\r\n        &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.11.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;18&lt;/source&gt;\r\n                    &lt;target&gt;18&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;jar&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                    &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifestFile&gt;D:\\JDE\\IDE\\projects\\project-maven-master\\resources\\MANIFEST.MF&lt;/manifestFile&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                            &lt;classpathPrefix&gt;lib&lt;/classpathPrefix&gt;\r\n                            &lt;mainClass&gt;org.eclipse.jdt.internal.jarinjarloader.JarRsrcLoader&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                        &lt;manifestEntries&gt;\r\n                            &lt;Rsrc-Main-Class&gt;com.javarush.games.racer.RacerGame&lt;/Rsrc-Main-Class&gt;\r\n                        &lt;/manifestEntries&gt;\r\n                    &lt;/archive&gt;\r\n                    &lt;/configuration&gt;\r\n\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;groupId&gt;com.javarush&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;desktop-game-engine&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.0&lt;/version&gt;\r\n                    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n                    &lt;file&gt;${basedir}/lib/desktop-game-engine.jar&lt;/file&gt;\r\n                    &lt;generatePom&gt;true&lt;/generatePom&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n           \r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.10.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;!-- Run java-fx app over Maven --&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.8&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;mainClass&gt;com.javarush.games.racer.RacerGame&lt;/mainClass&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.6.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;outputDirectory&gt;\r\n                        ${basedir}/lib/\r\n                    &lt;/outputDirectory&gt;\r\n                    &lt;overWriteReleases&gt;true&lt;/overWriteReleases&gt;\r\n                    &lt;overWriteSnapshots&gt;true&lt;/overWriteSnapshots&gt;\r\n                    &lt;overWriteIfNewer&gt;true&lt;/overWriteIfNewer&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;copy-dependencies&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nI tried to add &lt;resources&gt; block to all pom,tried att resources to plugins, tried to change building steps in plugins change plugin settings but to no avail.","title":"Maven creates a jar file but does not add any dependencies to it","body":"<p>The build process ends successfully and I receive a jar file, but when I try to run it I get ClassNotFoundException: : com.javarush.games.racer.RacerGame</p>\n<p>My pom file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;jru.module3&lt;/groupId&gt;\n    &lt;artifactId&gt;project-maven&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;18&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;18&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;localrep&lt;/id&gt;\n            &lt;name&gt;local repository&lt;/name&gt;\n            &lt;url&gt;file:${project.basedir}/lib&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-lang3 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.12.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.openjfx/javafx-controls --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;18.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-engine --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;5.8.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.javarush&lt;/groupId&gt;\n            &lt;artifactId&gt;desktop-game-engine&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n            &lt;scope&gt;system&lt;/scope&gt;\n            &lt;systemPath&gt;D:/JDE/IDE/projects/project-maven-master/lib/desktop-game-engine.jar&lt;/systemPath&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;\n                    D:\\JDE\\IDE\\projects\\project-maven-master\\lib\\\n                &lt;/directory&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;*.jar&lt;/include&gt;\n                &lt;/includes&gt;\n            &lt;/resource&gt;\n            &lt;resource&gt;\n            &lt;directory&gt;\n                D:\\JDE\\IDE\\projects\\project-maven-master\\src\\main\\java\\com\\javarush\\games\\racer\\\n            &lt;/directory&gt;\n            &lt;includes&gt;\n                &lt;include&gt;*.class&lt;/include&gt;\n            &lt;/includes&gt;\n        &lt;/resource&gt;\n        &lt;/resources&gt;\n\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.11.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;18&lt;/source&gt;\n                    &lt;target&gt;18&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;jar&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                    &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifestFile&gt;D:\\JDE\\IDE\\projects\\project-maven-master\\resources\\MANIFEST.MF&lt;/manifestFile&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;classpathPrefix&gt;lib&lt;/classpathPrefix&gt;\n                            &lt;mainClass&gt;org.eclipse.jdt.internal.jarinjarloader.JarRsrcLoader&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                        &lt;manifestEntries&gt;\n                            &lt;Rsrc-Main-Class&gt;com.javarush.games.racer.RacerGame&lt;/Rsrc-Main-Class&gt;\n                        &lt;/manifestEntries&gt;\n                    &lt;/archive&gt;\n                    &lt;/configuration&gt;\n\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;groupId&gt;com.javarush&lt;/groupId&gt;\n                    &lt;artifactId&gt;desktop-game-engine&lt;/artifactId&gt;\n                    &lt;version&gt;1.0&lt;/version&gt;\n                    &lt;packaging&gt;jar&lt;/packaging&gt;\n                    &lt;file&gt;${basedir}/lib/desktop-game-engine.jar&lt;/file&gt;\n                    &lt;generatePom&gt;true&lt;/generatePom&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n           \n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.10.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;!-- Run java-fx app over Maven --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.8&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;com.javarush.games.racer.RacerGame&lt;/mainClass&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.6.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;outputDirectory&gt;\n                        ${basedir}/lib/\n                    &lt;/outputDirectory&gt;\n                    &lt;overWriteReleases&gt;true&lt;/overWriteReleases&gt;\n                    &lt;overWriteSnapshots&gt;true&lt;/overWriteSnapshots&gt;\n                    &lt;overWriteIfNewer&gt;true&lt;/overWriteIfNewer&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;copy-dependencies&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I tried to add  block to all pom,tried att resources to plugins, tried to change building steps in plugins change plugin settings but to no avail.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":1,"creation_date":1695055402,"post_id":77128953,"comment_id":135969961,"body_markdown":"In your first for loop you&#39;re assigning references to those rows, not copying the data in them. This means that when you assign values, the rows are looking at the same places, so &quot;both&quot; see 0.","body":"In your first for loop you&#39;re assigning references to those rows, not copying the data in them. This means that when you assign values, the rows are looking at the same places, so &quot;both&quot; see 0."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1695056661,"post_id":77128953,"comment_id":135970226,"body_markdown":"For problems like this, it might help you to write down the answers in plain words (or pseudocode) then code the solution based on that. Also, you might try to come up with a array copy solution first. Create a new array filled with zeros, then copy each row of the original array from index 0 to the new array, starting at the offset (i.e. +2) until you can&#39;t copy no more rows. Then, once you have that solution working, create an &quot;in-place&quot; solution, where you overwrite the rows. Typically, the second approach tends to be more complex than the first. So when learning, this approach should help.","body":"For problems like this, it might help you to write down the answers in plain words (or pseudocode) then code the solution based on that. Also, you might try to come up with a array copy solution first. Create a new array filled with zeros, then copy each row of the original array from index 0 to the new array, starting at the offset (i.e. +2) until you can&#39;t copy no more rows. Then, once you have that solution working, create an &quot;in-place&quot; solution, where you overwrite the rows. Typically, the second approach tends to be more complex than the first. So when learning, this approach should help."},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1695058959,"post_id":77128953,"comment_id":135970672,"body_markdown":"If you want to avoid referencing an entire row and causing this issue, you can copy the individual items in each row, going column by column instead with a nested for loop.","body":"If you want to avoid referencing an entire row and causing this issue, you can copy the individual items in each row, going column by column instead with a nested for loop."}],"answers":[{"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695056091,"creation_date":1695055777,"answer_id":77129021,"question_id":77128953,"body_markdown":"When you copy a row from one position to another, **you are copying a reference to the same row in memory** (*[check this out][1]*). You should consider this to your code run properly:\r\n\r\n```java\r\npublic static int[][] move(int[][] a, int shift) {\r\n    int rows = a.length;\r\n    int cols = a[0].length;\r\n    \r\n    // New array to store the result\r\n    int[][] result = new int[rows][cols];\r\n    \r\n    for (int i = 0; i &lt; rows - shift; i++) {\r\n        // Copy the rows\r\n        result[i + shift] = a[i].clone();\r\n    }\r\n\r\n    // Loop it\r\n    for (int i = 0; i &lt; shift; i++) {\r\n        for (int j = 0; j &lt; cols; j++) {\r\n            // Fill with zeros\r\n            result[i][j] = 0;\r\n        }\r\n    }\r\n\r\n    return result;\r\n}\r\n```\r\n\r\n\r\n  [1]: https://www.javatpoint.com/array-in-java#:~:text=Cloning%20an%20Array%20in%20Java","title":"Move rows of a two-dimensional array","body":"<p>When you copy a row from one position to another, <strong>you are copying a reference to the same row in memory</strong> (<em><a href=\"https://www.javatpoint.com/array-in-java#:%7E:text=Cloning%20an%20Array%20in%20Java\" rel=\"nofollow noreferrer\">check this out</a></em>). You should consider this to your code run properly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int[][] move(int[][] a, int shift) {\n    int rows = a.length;\n    int cols = a[0].length;\n    \n    // New array to store the result\n    int[][] result = new int[rows][cols];\n    \n    for (int i = 0; i &lt; rows - shift; i++) {\n        // Copy the rows\n        result[i + shift] = a[i].clone();\n    }\n\n    // Loop it\n    for (int i = 0; i &lt; shift; i++) {\n        for (int j = 0; j &lt; cols; j++) {\n            // Fill with zeros\n            result[i][j] = 0;\n        }\n    }\n\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29345048,"reputation":15,"user_id":22483631,"display_name":"Manuel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695056462,"creation_date":1695056462,"answer_id":77129095,"question_id":77128953,"body_markdown":"I know it must be confusing at first, this weird behavior is due to pointers. When changing the values of the rows for your `shift` function, you have changed the reference types of the third and fourth rows to be the first and second rows.\r\n\r\nThe problem is in the first loop. As a consequence, any change done to the first row is also mirrored in the third row. Same regarding the second row, fourth. You have linked them together.\r\n\r\nThat&#39;s why it changed them as well is the second loop.\r\n\r\nI would advice you to change each of the row&#39;s values instead of the reference types, as such:\r\n\r\n    for (int i = a.length - 1; i &gt;= shift; i--) {\r\n            \r\n        for (int j = 0; j &lt; a[0].length; j++) {\r\n            a[i][j] = a[i - shift][j];\r\n        }\r\n            \r\n    }\r\n\r\nCheers!","title":"Move rows of a two-dimensional array","body":"<p>I know it must be confusing at first, this weird behavior is due to pointers. When changing the values of the rows for your <code>shift</code> function, you have changed the reference types of the third and fourth rows to be the first and second rows.</p>\n<p>The problem is in the first loop. As a consequence, any change done to the first row is also mirrored in the third row. Same regarding the second row, fourth. You have linked them together.</p>\n<p>That's why it changed them as well is the second loop.</p>\n<p>I would advice you to change each of the row's values instead of the reference types, as such:</p>\n<pre><code>for (int i = a.length - 1; i &gt;= shift; i--) {\n        \n    for (int j = 0; j &lt; a[0].length; j++) {\n        a[i][j] = a[i - shift][j];\n    }\n        \n}\n</code></pre>\n<p>Cheers!</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695068251,"creation_date":1695067508,"answer_id":77130117,"question_id":77128953,"body_markdown":"Here is one way to do it.  Note that you can do it without creating a new array to store the result.  (i.e. you can do an in place shift).\r\n\r\nThe key point to note is you are copying references in the array.  When you shift the arrays, from left to right, there is no problem.  But you can&#39;t just fill the existing rows with zeroes since you would be overwriting previously copied array objects and they would be altered.\r\n\r\nAlso, the smaller the shift value is the more copying is required.  The exception to this is a value of `0` where you just return the given array.\r\n\r\n```\r\nint[][] a = {{1,1,1,1,1},{1,1,3,1,1},{1,6,2,1,4},{1,1,1,8,1},\r\n         {1,1,1,1,1}};\r\n\r\nSystem.out.println(Arrays.deepToString(move(a, 2)));\r\n```\r\nprints\r\n```\r\n[[0, 0, 0, 0, 0], [0, 0, 0, 0, 0], [1, 1, 1, 1, 1], [1, 1, 3, 1, 1], [1, 6, 2, 1, 4]]\r\n```\r\n- First, check for valid arguments:\r\n   - throw an exception if the shift is out of bounds.\r\n  \r\n   - If the array is `null`, `empty` or the shift value is `0`, just return the original array.\r\n- Otherwise, create a new array of zeroes for insertion into vacated cells.\r\n- Now iterate in over the array, in reverse from the `last cell index` to the `shift value`, copying the appropriate **array references** as you go.\r\n- once finished, simply copy a `clone` of the zero array into the vacated cells using `shift` as `index` and decrement accordingly.\r\n```\r\npublic static int[][] move(int[][] a, int shift) {\r\n  \r\n   // handle special cases\r\n   if (shift &gt; a.length || shift &lt; 0) {\r\n            throw new IllegalArgumentException(\r\n                    &quot;Shift value(%d) out of range for array&quot;\r\n                            .formatted(a.length));\r\n   }\r\n   \r\n   if (a == null || a.length == 0 || shift == 0) {\r\n       return a;\r\n   }\r\n   \r\n   // create zero array replacement\r\n   int[] zeros = new int[a[0].length];\r\n   Arrays.fill(zeros, 0);\r\n   \r\n   // copy the references\r\n   for (int i = a.length-1; i &gt;= shift; i--) {\r\n       a[i] = a[i-shift];\r\n   }\r\n   // fill the &quot;vacated&quot; cells.\r\n   while(shift-- &gt; 0) {\r\n       a[shift] = zeros.clone(); \r\n   }\r\n   return a;\r\n}","title":"Move rows of a two-dimensional array","body":"<p>Here is one way to do it.  Note that you can do it without creating a new array to store the result.  (i.e. you can do an in place shift).</p>\n<p>The key point to note is you are copying references in the array.  When you shift the arrays, from left to right, there is no problem.  But you can't just fill the existing rows with zeroes since you would be overwriting previously copied array objects and they would be altered.</p>\n<p>Also, the smaller the shift value is the more copying is required.  The exception to this is a value of <code>0</code> where you just return the given array.</p>\n<pre><code>int[][] a = {{1,1,1,1,1},{1,1,3,1,1},{1,6,2,1,4},{1,1,1,8,1},\n         {1,1,1,1,1}};\n\nSystem.out.println(Arrays.deepToString(move(a, 2)));\n</code></pre>\n<p>prints</p>\n<pre><code>[[0, 0, 0, 0, 0], [0, 0, 0, 0, 0], [1, 1, 1, 1, 1], [1, 1, 3, 1, 1], [1, 6, 2, 1, 4]]\n</code></pre>\n<ul>\n<li>First, check for valid arguments:\n<ul>\n<li><p>throw an exception if the shift is out of bounds.</p>\n</li>\n<li><p>If the array is <code>null</code>, <code>empty</code> or the shift value is <code>0</code>, just return the original array.</p>\n</li>\n</ul>\n</li>\n<li>Otherwise, create a new array of zeroes for insertion into vacated cells.</li>\n<li>Now iterate in over the array, in reverse from the <code>last cell index</code> to the <code>shift value</code>, copying the appropriate <strong>array references</strong> as you go.</li>\n<li>once finished, simply copy a <code>clone</code> of the zero array into the vacated cells using <code>shift</code> as <code>index</code> and decrement accordingly.</li>\n</ul>\n<pre><code>public static int[][] move(int[][] a, int shift) {\n  \n   // handle special cases\n   if (shift &gt; a.length || shift &lt; 0) {\n            throw new IllegalArgumentException(\n                    &quot;Shift value(%d) out of range for array&quot;\n                            .formatted(a.length));\n   }\n   \n   if (a == null || a.length == 0 || shift == 0) {\n       return a;\n   }\n   \n   // create zero array replacement\n   int[] zeros = new int[a[0].length];\n   Arrays.fill(zeros, 0);\n   \n   // copy the references\n   for (int i = a.length-1; i &gt;= shift; i--) {\n       a[i] = a[i-shift];\n   }\n   // fill the &quot;vacated&quot; cells.\n   while(shift-- &gt; 0) {\n       a[shift] = zeros.clone(); \n   }\n   return a;\n}\n</code></pre>\n"}],"owner":{"account_id":12403595,"reputation":13,"user_id":15349362,"display_name":"Moritz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77129021,"answer_count":3,"score":1,"last_activity_date":1695068251,"creation_date":1695055022,"question_id":77128953,"body_markdown":"my task is to shift the rows of an array by a fixed amount &quot;shift&quot; and fill the shifted rows with zeroes:\r\n\r\nFor example, the Array:\r\n\r\n1 1 1 1 1\r\n\r\n1 1 3 1 1\r\n\r\n1 6 2 1 4\r\n\r\n1 1 1 8 1\r\n\r\n1 1 1 1 1\r\n\r\nshifted by 2 should result in:\r\n\r\n0 0 0 0 0\r\n\r\n0 0 0 0 0 \r\n\r\n1 1 1 1 1 \r\n\r\n1 1 3 1 1\r\n\r\n1 6 2 1 4\r\n\r\n\r\n```\r\npublic static void main(String args[]) {\r\n\t\tint[][] a = { { 1, 1, 1, 1, 1 }, { 1, 1, 3, 1, 1 }, { 1, 6, 2, 1, 4 }, { 1, 1, 1, 8, 1 }, { 1, 1, 1, 1, 1, } };\r\n\r\n\t\tSystem.out.println(Arrays.deepToString(move(a, 2)));\r\n\r\n\t}\r\npublic static int[][] move(int[][] a, int shift) {\r\n\r\n\t\tfor (int i = a.length - 1; i &gt;= shift; i--) {\r\n\t\t\ta[i] = a[i - shift];\r\n\r\n\t\t}\r\n\r\n\t\tfor (int i = 0; i &lt; shift; i++) {\r\n\r\n\t\t\tfor (int j = 0; j &lt; a[0].length; j++) {\r\n\t\t\t\ta[i][j] = 0;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn a;\r\n\t}\r\n```\r\nMy output is:\r\n`[[0, 0, 0, 0, 0], [0, 0, 0, 0, 0], [0, 0, 0, 0, 0], [0, 0, 0, 0, 0], [1, 6, 2, 1, 4]]`\r\n\r\n\r\n\r\n\r\n\r\n\r\nIf i print my Array after the first for-loop it is correct, i do not understand why the 2nd for-loop changes rows 2 and 3.","title":"Move rows of a two-dimensional array","body":"<p>my task is to shift the rows of an array by a fixed amount &quot;shift&quot; and fill the shifted rows with zeroes:</p>\n<p>For example, the Array:</p>\n<p>1 1 1 1 1</p>\n<p>1 1 3 1 1</p>\n<p>1 6 2 1 4</p>\n<p>1 1 1 8 1</p>\n<p>1 1 1 1 1</p>\n<p>shifted by 2 should result in:</p>\n<p>0 0 0 0 0</p>\n<p>0 0 0 0 0</p>\n<p>1 1 1 1 1</p>\n<p>1 1 3 1 1</p>\n<p>1 6 2 1 4</p>\n<pre><code>public static void main(String args[]) {\n        int[][] a = { { 1, 1, 1, 1, 1 }, { 1, 1, 3, 1, 1 }, { 1, 6, 2, 1, 4 }, { 1, 1, 1, 8, 1 }, { 1, 1, 1, 1, 1, } };\n\n        System.out.println(Arrays.deepToString(move(a, 2)));\n\n    }\npublic static int[][] move(int[][] a, int shift) {\n\n        for (int i = a.length - 1; i &gt;= shift; i--) {\n            a[i] = a[i - shift];\n\n        }\n\n        for (int i = 0; i &lt; shift; i++) {\n\n            for (int j = 0; j &lt; a[0].length; j++) {\n                a[i][j] = 0;\n            }\n\n        }\n\n        return a;\n    }\n</code></pre>\n<p>My output is:\n<code>[[0, 0, 0, 0, 0], [0, 0, 0, 0, 0], [0, 0, 0, 0, 0], [0, 0, 0, 0, 0], [1, 6, 2, 1, 4]]</code></p>\n<p>If i print my Array after the first for-loop it is correct, i do not understand why the 2nd for-loop changes rows 2 and 3.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":10866142,"reputation":129,"user_id":7989456,"display_name":"Nikul Vadher"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1542370810,"creation_date":1542370810,"answer_id":53337806,"question_id":53336185,"body_markdown":"change this line after getting the reference of chartview \r\n\r\n    //prepareGraphTop method\r\n    AnyChartView top = findViewById(R.id.top_soil);\r\n    APIlib.getInstance().setActiveAnyChartView(top);\r\n    //prepareGraphBot method \r\n    AnyChartView bottom = findViewById(R.id.bottom_soil);\r\n    APIlib.getInstance().setActiveAnyChartView(bottom);\r\n    \r\nyou can check the documentation Click [here](https://github.com/AnyChart/AnyChart-Android/wiki/Multiple-charts-in-a-single-layout &quot;Multiple chart in same Activity&quot;)!","title":"AnyChart trying to show 2 line charts on an activity","body":"<p>change this line after getting the reference of chartview </p>\n\n<pre><code>//prepareGraphTop method\nAnyChartView top = findViewById(R.id.top_soil);\nAPIlib.getInstance().setActiveAnyChartView(top);\n//prepareGraphBot method \nAnyChartView bottom = findViewById(R.id.bottom_soil);\nAPIlib.getInstance().setActiveAnyChartView(bottom);\n</code></pre>\n\n<p>you can check the documentation Click <a href=\"https://github.com/AnyChart/AnyChart-Android/wiki/Multiple-charts-in-a-single-layout\" rel=\"nofollow noreferrer\" title=\"Multiple chart in same Activity\">here</a>!</p>\n"},{"tags":[],"owner":{"account_id":13605889,"reputation":1,"user_id":9815066,"display_name":"Shoaib Shaikh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695067939,"creation_date":1542375742,"answer_id":53339046,"question_id":53336185,"body_markdown":"Use [MPAndroid Chart][1]\r\n\r\n\r\n  [1]: https://github.com/PhilJay/MPAndroidChart\r\n\r\nA powerful Android chart view / graph view library, supporting line- bar- pie- radar- bubble- and candlestick charts as well as scaling, dragging, animations and MultipleCharts.\r\n\r\nIt is easier to implement multiple charts in one xml file\r\n\r\n        &lt;RelativeLayout\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n            &lt;android.support.v7.widget.CardView\r\n                android:id=&quot;@+id/pie_chart_card&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginBottom=&quot;@dimen/card_layout_padding&quot;\r\n                android:elevation=&quot;@dimen/elevation&quot;\r\n                app:cardCornerRadius=&quot;@dimen/card_radius&quot;&gt;\r\n\r\n                &lt;com.github.mikephil.charting.charts.PieChart\r\n                    android:id=&quot;@+id/pie_chart&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;@dimen/card_size_chart_pie&quot; /&gt;\r\n            &lt;/android.support.v7.widget.CardView&gt;\r\n\r\n            &lt;android.support.v7.widget.CardView\r\n                android:id=&quot;@+id/line_chart_card&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_below=&quot;@id/pie_chart_card&quot;\r\n                android:layout_marginBottom=&quot;@dimen/card_layout_padding&quot;\r\n                android:elevation=&quot;@dimen/elevation&quot;\r\n                app:cardCornerRadius=&quot;@dimen/card_radius&quot;&gt;\r\n\r\n                &lt;com.github.mikephil.charting.charts.LineChart\r\n                    android:id=&quot;@+id/line_chart&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;@dimen/card_size_chart&quot; /&gt;\r\n            &lt;/android.support.v7.widget.CardView&gt;\r\n\r\n        &lt;/RelativeLayout&gt;","title":"AnyChart trying to show 2 line charts on an activity","body":"<p>Use <a href=\"https://github.com/PhilJay/MPAndroidChart\" rel=\"nofollow noreferrer\">MPAndroid Chart</a></p>\n<p>A powerful Android chart view / graph view library, supporting line- bar- pie- radar- bubble- and candlestick charts as well as scaling, dragging, animations and MultipleCharts.</p>\n<p>It is easier to implement multiple charts in one xml file</p>\n<pre><code>    &lt;RelativeLayout\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n        &lt;android.support.v7.widget.CardView\n            android:id=&quot;@+id/pie_chart_card&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginBottom=&quot;@dimen/card_layout_padding&quot;\n            android:elevation=&quot;@dimen/elevation&quot;\n            app:cardCornerRadius=&quot;@dimen/card_radius&quot;&gt;\n\n            &lt;com.github.mikephil.charting.charts.PieChart\n                android:id=&quot;@+id/pie_chart&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;@dimen/card_size_chart_pie&quot; /&gt;\n        &lt;/android.support.v7.widget.CardView&gt;\n\n        &lt;android.support.v7.widget.CardView\n            android:id=&quot;@+id/line_chart_card&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_below=&quot;@id/pie_chart_card&quot;\n            android:layout_marginBottom=&quot;@dimen/card_layout_padding&quot;\n            android:elevation=&quot;@dimen/elevation&quot;\n            app:cardCornerRadius=&quot;@dimen/card_radius&quot;&gt;\n\n            &lt;com.github.mikephil.charting.charts.LineChart\n                android:id=&quot;@+id/line_chart&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;@dimen/card_size_chart&quot; /&gt;\n        &lt;/android.support.v7.widget.CardView&gt;\n\n    &lt;/RelativeLayout&gt;\n</code></pre>\n"}],"owner":{"account_id":14693739,"reputation":52,"user_id":10611649,"display_name":"The43Joker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1384,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":53337806,"answer_count":2,"score":0,"last_activity_date":1695067939,"creation_date":1542364861,"question_id":53336185,"body_markdown":"hey everyone so i am trying to display 2 line charts on an activity i am using AnyChart when i change my code to display only 1 chart it works but when i add the second one only that one displays and the first one is gone.\r\n\r\nthis is the activity\r\n\r\npublic class DetailedFieldActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_detailed_field);\r\n\r\n        Intent intentData = getIntent();\r\n        String FieldName = intentData.getStringExtra(&quot;field&quot;);\r\n\r\n        setTitle(FieldName);\r\n\r\n\r\n        prepareGraphTop();\r\n        prepareGraphBot();\r\n    }\r\n\r\n    public void prepareGraphTop() {\r\n\r\n        Intent graphsIntent = getIntent();\r\n        String response = graphsIntent.getStringExtra(&quot;response&quot;);\r\n\r\n\r\n        AnyChartView top = findViewById(R.id.top_soil);\r\n        top.setProgressBar(findViewById(R.id.progress_bar));\r\n\r\n        Cartesian topChartData = AnyChart.line();\r\n\r\n        topChartData.animation(true);\r\n\r\n        topChartData.padding(5d, 10d, 3d, 10d);\r\n\r\n        topChartData.xAxis(0).scale();\r\n        topChartData.xScroller(true).container();\r\n\r\n        topChartData.crosshair().enabled(true);\r\n        topChartData.crosshair()\r\n                .yLabel(true)\r\n                .yStroke((Stroke) null, null, null, (String) null, (String) null);\r\n\r\n        topChartData.tooltip().positionMode(TooltipPositionMode.POINT);\r\n\r\n        topChartData.title(&quot;Top Soil (0 - 400mm)&quot;);\r\n\r\n        topChartData.xAxis(0).labels().padding(3d, 3d, 3d, 3d);\r\n\r\n        final List&lt;DataEntry&gt; seriesDataTop = new ArrayList&lt;&gt;();\r\n\r\n        try {\r\n\r\n            JSONObject jsonResponse = new JSONObject(response);\r\n            JSONObject graphs = jsonResponse.getJSONObject(&quot;Grafieke&quot;);\r\n\r\n            JSONArray dates = graphs.names();\r\n\r\n            for (int i = 3; i &lt; graphs.length(); i++) {\r\n\r\n                String dateName = dates.getString(i);\r\n\r\n                JSONObject dateData = graphs.getJSONObject(dateName);\r\n\r\n                Number topSoil = dateData.getInt(&quot;TB&quot;);\r\n                Number bb = dateData.getInt(&quot;BB&quot;);\r\n                Number stressBo = dateData.getInt(&quot;stress&quot;);\r\n                Number verwelpBo = dateData.getInt(&quot;verwelp&quot;);\r\n\r\n                seriesDataTop.add(new CustomDataTop(dateName, topSoil, bb, stressBo));\r\n            }\r\n\r\n        } catch (JSONException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        Set setTop = Set.instantiate();\r\n        setTop.data(seriesDataTop);\r\n        Mapping seriesTopMapping1 = setTop.mapAs(&quot;{ x: &#39;x&#39;, value: &#39;value&#39; }&quot;);\r\n        Mapping seriesTopMapping2 = setTop.mapAs(&quot;{ x: &#39;x&#39;, value: &#39;value2&#39; }&quot;);\r\n        Mapping seriesTopMapping3 = setTop.mapAs(&quot;{ x: &#39;x&#39;, value: &#39;value3&#39; }&quot;);\r\n\r\n        Line seriesTop1 = topChartData.line(seriesTopMapping1);\r\n        seriesTop1.name(&quot;TB&quot;);\r\n        seriesTop1.hovered().markers().enabled(true);\r\n        seriesTop1.hovered().markers()\r\n                .type(MarkerType.CIRCLE)\r\n                .size(4d);\r\n        seriesTop1.tooltip()\r\n                .position(&quot;right&quot;)\r\n                .anchor(Anchor.LEFT_CENTER)\r\n                .offsetX(5d)\r\n                .offsetY(5d);\r\n\r\n        Line seriesTop2 = topChartData.line(seriesTopMapping2);\r\n        seriesTop2.name(&quot;TO&quot;);\r\n        seriesTop2.hovered().markers().enabled(true);\r\n        seriesTop2.hovered().markers()\r\n                .type(MarkerType.CIRCLE)\r\n                .size(4d);\r\n        seriesTop2.tooltip()\r\n                .position(&quot;right&quot;)\r\n                .anchor(Anchor.LEFT_CENTER)\r\n                .offsetX(5d)\r\n                .offsetY(5d);\r\n\r\n        Line seriesTop3 = topChartData.line(seriesTopMapping3);\r\n        seriesTop3.name(&quot;Stress Bo&quot;);\r\n        seriesTop3.hovered().markers().enabled(true);\r\n        seriesTop3.hovered().markers()\r\n                .type(MarkerType.CIRCLE)\r\n                .size(4d);\r\n        seriesTop3.tooltip()\r\n                .position(&quot;right&quot;)\r\n                .anchor(Anchor.LEFT_CENTER)\r\n                .offsetX(5d)\r\n                .offsetY(5d);\r\n\r\n        topChartData.legend().enabled(true);\r\n        topChartData.legend().fontSize(13d);\r\n        topChartData.legend().padding(0d, 0d, 10d, 0d);\r\n\r\n        top.setChart(topChartData);\r\n    }\r\n\r\n    public void prepareGraphBot() {\r\n\r\n        Intent graphsIntent = getIntent();\r\n        String response = graphsIntent.getStringExtra(&quot;response&quot;);\r\n\r\n        AnyChartView bottom = findViewById(R.id.bottom_soil);\r\n        bottom.setProgressBar(findViewById(R.id.progress_bar));\r\n\r\n        Cartesian botChartData = AnyChart.line();\r\n\r\n        botChartData.animation(true);\r\n\r\n        botChartData.padding(5d, 10d, 3d, 10d);\r\n\r\n        botChartData.xAxis(0).scale();\r\n        botChartData.xScroller(true).container();\r\n\r\n        botChartData.crosshair().enabled(true);\r\n        botChartData.crosshair()\r\n                .yLabel(true)\r\n                .yStroke((Stroke) null, null, null, (String) null, (String) null);\r\n\r\n        botChartData.tooltip().positionMode(TooltipPositionMode.POINT);\r\n\r\n        botChartData.title(&quot;Bottom Soil (400 - 800mm)&quot;);\r\n\r\n        botChartData.xAxis(0).labels().padding(3d, 3d, 3d, 3d);\r\n\r\n        final List&lt;DataEntry&gt; seriesDataBot = new ArrayList&lt;&gt;();\r\n\r\n        try {\r\n\r\n            JSONObject jsonResponse = new JSONObject(response);\r\n            JSONObject graphs = jsonResponse.getJSONObject(&quot;Grafieke&quot;);\r\n\r\n            JSONArray dates = graphs.names();\r\n\r\n            for (int i = 3; i &lt; graphs.length(); i++) {\r\n\r\n                String dateName = dates.getString(i);\r\n\r\n                JSONObject dateData = graphs.getJSONObject(dateName);\r\n\r\n                Number botSoil = dateData.getInt(&quot;TO&quot;);\r\n                Number bo = dateData.getInt(&quot;BO&quot;);\r\n                Number stressOnder = dateData.getInt(&quot;stressonder&quot;);\r\n                Number verwelpOnder = dateData.getInt(&quot;verwelponder&quot;);\r\n                Number pvrOnder = dateData.getInt(&quot;pvronder&quot;);\r\n\r\n                seriesDataBot.add(new CustomDataBot(dateName, botSoil, bo, stressOnder));\r\n            }\r\n\r\n        } catch (JSONException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        Set setBot = Set.instantiate();\r\n        setBot.data(seriesDataBot);\r\n        Mapping seriesBotMapping1 = setBot.mapAs(&quot;{ x: &#39;r&#39;, value: &#39;value12&#39; }&quot;);\r\n        Mapping seriesBotMapping2 = setBot.mapAs(&quot;{ x: &#39;r&#39;, value: &#39;value22&#39; }&quot;);\r\n        Mapping seriesBotMapping3 = setBot.mapAs(&quot;{ x: &#39;r&#39;, value: &#39;value32&#39; }&quot;);\r\n\r\n        Line seriesBot1 = botChartData.line(seriesBotMapping1);\r\n        seriesBot1.name(&quot;TO&quot;);\r\n        seriesBot1.hovered().markers().enabled(true);\r\n        seriesBot1.hovered().markers()\r\n                .type(MarkerType.CIRCLE)\r\n                .size(4d);\r\n        seriesBot1.tooltip()\r\n                .position(&quot;right&quot;)\r\n                .anchor(Anchor.LEFT_CENTER)\r\n                .offsetX(5d)\r\n                .offsetY(5d);\r\n\r\n        Line seriesBot2 = botChartData.line(seriesBotMapping2);\r\n        seriesBot2.name(&quot;BO&quot;);\r\n        seriesBot2.hovered().markers().enabled(true);\r\n        seriesBot2.hovered().markers()\r\n                .type(MarkerType.CIRCLE)\r\n                .size(4d);\r\n        seriesBot2.tooltip()\r\n                .position(&quot;right&quot;)\r\n                .anchor(Anchor.LEFT_CENTER)\r\n                .offsetX(5d)\r\n                .offsetY(5d);\r\n\r\n        Line seriesBot3 = botChartData.line(seriesBotMapping3);\r\n        seriesBot3.name(&quot;Stress Onder&quot;);\r\n        seriesBot3.hovered().markers().enabled(true);\r\n        seriesBot3.hovered().markers()\r\n                .type(MarkerType.CIRCLE)\r\n                .size(4d);\r\n        seriesBot3.tooltip()\r\n                .position(&quot;right&quot;)\r\n                .anchor(Anchor.LEFT_CENTER)\r\n                .offsetX(5d)\r\n                .offsetY(5d);\r\n\r\n        botChartData.legend().enabled(true);\r\n        botChartData.legend().fontSize(13d);\r\n        botChartData.legend().padding(0d, 0d, 10d, 0d);\r\n\r\n        bottom.setChart(botChartData);\r\n    }\r\n\r\n    private class CustomDataTop extends ValueDataEntry {\r\n\r\n        CustomDataTop(String x, Number value, Number value2, Number value3) {\r\n            super(x, value);\r\n            setValue(&quot;value2&quot;, value2);\r\n            setValue(&quot;value3&quot;, value3);\r\n        }\r\n    }\r\n\r\n    private class CustomDataBot extends ValueDataEntry {\r\n\r\n        CustomDataBot(String r, Number value12, Number value22, Number value32) {\r\n            super(r, value12);\r\n            setValue(&quot;value22&quot;, value22);\r\n            setValue(&quot;value32&quot;, value32);\r\n        }\r\n\r\n    }\r\n}\r\n\r\nAnd this is my xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        tools:context=&quot;.DetailedFieldActivity&quot;&gt;\r\n    \r\n        &lt;com.anychart.AnyChartView\r\n            android:id=&quot;@+id/top_soil&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;210dp&quot;\r\n            android:layout_alignParentStart=&quot;true&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:layout_alignParentEnd=&quot;true&quot;\r\n            android:layout_marginStart=&quot;0dp&quot;\r\n            android:layout_marginTop=&quot;49dp&quot;\r\n            android:layout_marginEnd=&quot;0dp&quot;&gt;\r\n    \r\n        &lt;/com.anychart.AnyChartView&gt;\r\n    \r\n        &lt;com.anychart.AnyChartView\r\n            android:id=&quot;@+id/bottom_soil&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;201dp&quot;\r\n            android:layout_alignParentStart=&quot;true&quot;\r\n            android:layout_alignParentBottom=&quot;true&quot;\r\n            android:layout_marginStart=&quot;0dp&quot;\r\n            android:layout_marginBottom=&quot;50dp&quot;&gt;\r\n    \r\n        &lt;/com.anychart.AnyChartView&gt;\r\n    \r\n        &lt;ProgressBar\r\n            android:id=&quot;@+id/progress_bar&quot;\r\n            android:layout_width=&quot;278dp&quot;\r\n            android:layout_height=&quot;189dp&quot;\r\n            android:layout_alignParentStart=&quot;true&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:layout_alignParentEnd=&quot;true&quot;\r\n            android:layout_alignParentBottom=&quot;true&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:layout_centerVertical=&quot;true&quot;\r\n            android:layout_marginStart=&quot;53dp&quot;\r\n            android:layout_marginTop=&quot;159dp&quot;\r\n            android:layout_marginEnd=&quot;53dp&quot;\r\n            android:layout_marginBottom=&quot;163dp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/top_bottom&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentStart=&quot;true&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:layout_marginTop=&quot;0dp&quot;\r\n            android:background=&quot;@android:color/transparent&quot;\r\n            android:text=&quot;Top Bototm Soil&quot; /&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/depths&quot;\r\n            android:layout_width=&quot;105dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_above=&quot;@+id/top_soil&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:layout_marginBottom=&quot;3dp&quot;\r\n            android:background=&quot;@android:color/transparent&quot;\r\n            android:text=&quot;Depths&quot; /&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/soil_temps&quot;\r\n            android:layout_width=&quot;120dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:layout_alignParentEnd=&quot;true&quot;\r\n            android:layout_marginTop=&quot;0dp&quot;\r\n            android:background=&quot;@android:color/transparent&quot;\r\n            android:text=&quot;Soil Temps&quot; /&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/photo&quot;\r\n            android:layout_width=&quot;100dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentBottom=&quot;true&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:background=&quot;@android:color/transparent&quot;\r\n            android:text=&quot;Photos&quot; /&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/moisture&quot;\r\n            android:layout_width=&quot;121dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentStart=&quot;true&quot;\r\n            android:layout_alignParentBottom=&quot;true&quot;\r\n            android:background=&quot;@android:color/transparent&quot;\r\n            android:text=&quot;Moisture&quot; /&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/irrigation&quot;\r\n            android:layout_width=&quot;123dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentEnd=&quot;true&quot;\r\n            android:layout_alignParentBottom=&quot;true&quot;\r\n            android:background=&quot;@android:color/transparent&quot;\r\n            android:text=&quot;Irrigation&quot; /&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\nAny idea on what is wrong?","title":"AnyChart trying to show 2 line charts on an activity","body":"<p>hey everyone so i am trying to display 2 line charts on an activity i am using AnyChart when i change my code to display only 1 chart it works but when i add the second one only that one displays and the first one is gone.</p>\n\n<p>this is the activity</p>\n\n<p>public class DetailedFieldActivity extends AppCompatActivity {</p>\n\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_detailed_field);\n\n    Intent intentData = getIntent();\n    String FieldName = intentData.getStringExtra(\"field\");\n\n    setTitle(FieldName);\n\n\n    prepareGraphTop();\n    prepareGraphBot();\n}\n\npublic void prepareGraphTop() {\n\n    Intent graphsIntent = getIntent();\n    String response = graphsIntent.getStringExtra(\"response\");\n\n\n    AnyChartView top = findViewById(R.id.top_soil);\n    top.setProgressBar(findViewById(R.id.progress_bar));\n\n    Cartesian topChartData = AnyChart.line();\n\n    topChartData.animation(true);\n\n    topChartData.padding(5d, 10d, 3d, 10d);\n\n    topChartData.xAxis(0).scale();\n    topChartData.xScroller(true).container();\n\n    topChartData.crosshair().enabled(true);\n    topChartData.crosshair()\n            .yLabel(true)\n            .yStroke((Stroke) null, null, null, (String) null, (String) null);\n\n    topChartData.tooltip().positionMode(TooltipPositionMode.POINT);\n\n    topChartData.title(\"Top Soil (0 - 400mm)\");\n\n    topChartData.xAxis(0).labels().padding(3d, 3d, 3d, 3d);\n\n    final List&lt;DataEntry&gt; seriesDataTop = new ArrayList&lt;&gt;();\n\n    try {\n\n        JSONObject jsonResponse = new JSONObject(response);\n        JSONObject graphs = jsonResponse.getJSONObject(\"Grafieke\");\n\n        JSONArray dates = graphs.names();\n\n        for (int i = 3; i &lt; graphs.length(); i++) {\n\n            String dateName = dates.getString(i);\n\n            JSONObject dateData = graphs.getJSONObject(dateName);\n\n            Number topSoil = dateData.getInt(\"TB\");\n            Number bb = dateData.getInt(\"BB\");\n            Number stressBo = dateData.getInt(\"stress\");\n            Number verwelpBo = dateData.getInt(\"verwelp\");\n\n            seriesDataTop.add(new CustomDataTop(dateName, topSoil, bb, stressBo));\n        }\n\n    } catch (JSONException e) {\n        e.printStackTrace();\n    }\n\n    Set setTop = Set.instantiate();\n    setTop.data(seriesDataTop);\n    Mapping seriesTopMapping1 = setTop.mapAs(\"{ x: 'x', value: 'value' }\");\n    Mapping seriesTopMapping2 = setTop.mapAs(\"{ x: 'x', value: 'value2' }\");\n    Mapping seriesTopMapping3 = setTop.mapAs(\"{ x: 'x', value: 'value3' }\");\n\n    Line seriesTop1 = topChartData.line(seriesTopMapping1);\n    seriesTop1.name(\"TB\");\n    seriesTop1.hovered().markers().enabled(true);\n    seriesTop1.hovered().markers()\n            .type(MarkerType.CIRCLE)\n            .size(4d);\n    seriesTop1.tooltip()\n            .position(\"right\")\n            .anchor(Anchor.LEFT_CENTER)\n            .offsetX(5d)\n            .offsetY(5d);\n\n    Line seriesTop2 = topChartData.line(seriesTopMapping2);\n    seriesTop2.name(\"TO\");\n    seriesTop2.hovered().markers().enabled(true);\n    seriesTop2.hovered().markers()\n            .type(MarkerType.CIRCLE)\n            .size(4d);\n    seriesTop2.tooltip()\n            .position(\"right\")\n            .anchor(Anchor.LEFT_CENTER)\n            .offsetX(5d)\n            .offsetY(5d);\n\n    Line seriesTop3 = topChartData.line(seriesTopMapping3);\n    seriesTop3.name(\"Stress Bo\");\n    seriesTop3.hovered().markers().enabled(true);\n    seriesTop3.hovered().markers()\n            .type(MarkerType.CIRCLE)\n            .size(4d);\n    seriesTop3.tooltip()\n            .position(\"right\")\n            .anchor(Anchor.LEFT_CENTER)\n            .offsetX(5d)\n            .offsetY(5d);\n\n    topChartData.legend().enabled(true);\n    topChartData.legend().fontSize(13d);\n    topChartData.legend().padding(0d, 0d, 10d, 0d);\n\n    top.setChart(topChartData);\n}\n\npublic void prepareGraphBot() {\n\n    Intent graphsIntent = getIntent();\n    String response = graphsIntent.getStringExtra(\"response\");\n\n    AnyChartView bottom = findViewById(R.id.bottom_soil);\n    bottom.setProgressBar(findViewById(R.id.progress_bar));\n\n    Cartesian botChartData = AnyChart.line();\n\n    botChartData.animation(true);\n\n    botChartData.padding(5d, 10d, 3d, 10d);\n\n    botChartData.xAxis(0).scale();\n    botChartData.xScroller(true).container();\n\n    botChartData.crosshair().enabled(true);\n    botChartData.crosshair()\n            .yLabel(true)\n            .yStroke((Stroke) null, null, null, (String) null, (String) null);\n\n    botChartData.tooltip().positionMode(TooltipPositionMode.POINT);\n\n    botChartData.title(\"Bottom Soil (400 - 800mm)\");\n\n    botChartData.xAxis(0).labels().padding(3d, 3d, 3d, 3d);\n\n    final List&lt;DataEntry&gt; seriesDataBot = new ArrayList&lt;&gt;();\n\n    try {\n\n        JSONObject jsonResponse = new JSONObject(response);\n        JSONObject graphs = jsonResponse.getJSONObject(\"Grafieke\");\n\n        JSONArray dates = graphs.names();\n\n        for (int i = 3; i &lt; graphs.length(); i++) {\n\n            String dateName = dates.getString(i);\n\n            JSONObject dateData = graphs.getJSONObject(dateName);\n\n            Number botSoil = dateData.getInt(\"TO\");\n            Number bo = dateData.getInt(\"BO\");\n            Number stressOnder = dateData.getInt(\"stressonder\");\n            Number verwelpOnder = dateData.getInt(\"verwelponder\");\n            Number pvrOnder = dateData.getInt(\"pvronder\");\n\n            seriesDataBot.add(new CustomDataBot(dateName, botSoil, bo, stressOnder));\n        }\n\n    } catch (JSONException e) {\n        e.printStackTrace();\n    }\n\n    Set setBot = Set.instantiate();\n    setBot.data(seriesDataBot);\n    Mapping seriesBotMapping1 = setBot.mapAs(\"{ x: 'r', value: 'value12' }\");\n    Mapping seriesBotMapping2 = setBot.mapAs(\"{ x: 'r', value: 'value22' }\");\n    Mapping seriesBotMapping3 = setBot.mapAs(\"{ x: 'r', value: 'value32' }\");\n\n    Line seriesBot1 = botChartData.line(seriesBotMapping1);\n    seriesBot1.name(\"TO\");\n    seriesBot1.hovered().markers().enabled(true);\n    seriesBot1.hovered().markers()\n            .type(MarkerType.CIRCLE)\n            .size(4d);\n    seriesBot1.tooltip()\n            .position(\"right\")\n            .anchor(Anchor.LEFT_CENTER)\n            .offsetX(5d)\n            .offsetY(5d);\n\n    Line seriesBot2 = botChartData.line(seriesBotMapping2);\n    seriesBot2.name(\"BO\");\n    seriesBot2.hovered().markers().enabled(true);\n    seriesBot2.hovered().markers()\n            .type(MarkerType.CIRCLE)\n            .size(4d);\n    seriesBot2.tooltip()\n            .position(\"right\")\n            .anchor(Anchor.LEFT_CENTER)\n            .offsetX(5d)\n            .offsetY(5d);\n\n    Line seriesBot3 = botChartData.line(seriesBotMapping3);\n    seriesBot3.name(\"Stress Onder\");\n    seriesBot3.hovered().markers().enabled(true);\n    seriesBot3.hovered().markers()\n            .type(MarkerType.CIRCLE)\n            .size(4d);\n    seriesBot3.tooltip()\n            .position(\"right\")\n            .anchor(Anchor.LEFT_CENTER)\n            .offsetX(5d)\n            .offsetY(5d);\n\n    botChartData.legend().enabled(true);\n    botChartData.legend().fontSize(13d);\n    botChartData.legend().padding(0d, 0d, 10d, 0d);\n\n    bottom.setChart(botChartData);\n}\n\nprivate class CustomDataTop extends ValueDataEntry {\n\n    CustomDataTop(String x, Number value, Number value2, Number value3) {\n        super(x, value);\n        setValue(\"value2\", value2);\n        setValue(\"value3\", value3);\n    }\n}\n\nprivate class CustomDataBot extends ValueDataEntry {\n\n    CustomDataBot(String r, Number value12, Number value22, Number value32) {\n        super(r, value12);\n        setValue(\"value22\", value22);\n        setValue(\"value32\", value32);\n    }\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>And this is my xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"\n    tools:context=\".DetailedFieldActivity\"&gt;\n\n    &lt;com.anychart.AnyChartView\n        android:id=\"@+id/top_soil\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"210dp\"\n        android:layout_alignParentStart=\"true\"\n        android:layout_alignParentTop=\"true\"\n        android:layout_alignParentEnd=\"true\"\n        android:layout_marginStart=\"0dp\"\n        android:layout_marginTop=\"49dp\"\n        android:layout_marginEnd=\"0dp\"&gt;\n\n    &lt;/com.anychart.AnyChartView&gt;\n\n    &lt;com.anychart.AnyChartView\n        android:id=\"@+id/bottom_soil\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"201dp\"\n        android:layout_alignParentStart=\"true\"\n        android:layout_alignParentBottom=\"true\"\n        android:layout_marginStart=\"0dp\"\n        android:layout_marginBottom=\"50dp\"&gt;\n\n    &lt;/com.anychart.AnyChartView&gt;\n\n    &lt;ProgressBar\n        android:id=\"@+id/progress_bar\"\n        android:layout_width=\"278dp\"\n        android:layout_height=\"189dp\"\n        android:layout_alignParentStart=\"true\"\n        android:layout_alignParentTop=\"true\"\n        android:layout_alignParentEnd=\"true\"\n        android:layout_alignParentBottom=\"true\"\n        android:layout_centerHorizontal=\"true\"\n        android:layout_centerVertical=\"true\"\n        android:layout_marginStart=\"53dp\"\n        android:layout_marginTop=\"159dp\"\n        android:layout_marginEnd=\"53dp\"\n        android:layout_marginBottom=\"163dp\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n    &lt;Button\n        android:id=\"@+id/top_bottom\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentStart=\"true\"\n        android:layout_alignParentTop=\"true\"\n        android:layout_marginTop=\"0dp\"\n        android:background=\"@android:color/transparent\"\n        android:text=\"Top Bototm Soil\" /&gt;\n\n    &lt;Button\n        android:id=\"@+id/depths\"\n        android:layout_width=\"105dp\"\n        android:layout_height=\"wrap_content\"\n        android:layout_above=\"@+id/top_soil\"\n        android:layout_centerHorizontal=\"true\"\n        android:layout_marginBottom=\"3dp\"\n        android:background=\"@android:color/transparent\"\n        android:text=\"Depths\" /&gt;\n\n    &lt;Button\n        android:id=\"@+id/soil_temps\"\n        android:layout_width=\"120dp\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentTop=\"true\"\n        android:layout_alignParentEnd=\"true\"\n        android:layout_marginTop=\"0dp\"\n        android:background=\"@android:color/transparent\"\n        android:text=\"Soil Temps\" /&gt;\n\n    &lt;Button\n        android:id=\"@+id/photo\"\n        android:layout_width=\"100dp\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentBottom=\"true\"\n        android:layout_centerHorizontal=\"true\"\n        android:background=\"@android:color/transparent\"\n        android:text=\"Photos\" /&gt;\n\n    &lt;Button\n        android:id=\"@+id/moisture\"\n        android:layout_width=\"121dp\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentStart=\"true\"\n        android:layout_alignParentBottom=\"true\"\n        android:background=\"@android:color/transparent\"\n        android:text=\"Moisture\" /&gt;\n\n    &lt;Button\n        android:id=\"@+id/irrigation\"\n        android:layout_width=\"123dp\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentEnd=\"true\"\n        android:layout_alignParentBottom=\"true\"\n        android:background=\"@android:color/transparent\"\n        android:text=\"Irrigation\" /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>Any idea on what is wrong?</p>\n"},{"tags":["java","intellij-idea","access-denied"],"comments":[{"owner":{"account_id":9573972,"reputation":1131,"user_id":7110786,"display_name":"Saif Ahmad"},"score":3,"creation_date":1510119239,"post_id":47172148,"comment_id":81293890,"body_markdown":"Did you try running it in `Run as Administrator` mode?","body":"Did you try running it in <code>Run as Administrator</code> mode?"},{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1510122305,"post_id":47172148,"comment_id":81295052,"body_markdown":"What antivirus do you use?","body":"What antivirus do you use?"},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1510122409,"post_id":47172148,"comment_id":81295090,"body_markdown":"You should ask your System Administrator for help. There is nothing you can do if you have no permission.","body":"You should ask your System Administrator for help. There is nothing you can do if you have no permission."},{"owner":{"account_id":12199645,"reputation":101,"user_id":8904232,"display_name":"E. Gonzalez"},"score":0,"creation_date":1510124699,"post_id":47172148,"comment_id":81296120,"body_markdown":"Running IntelliJ? I hadn&#39;t , but the error is still coming up when I do","body":"Running IntelliJ? I hadn&#39;t , but the error is still coming up when I do"},{"owner":{"account_id":12199645,"reputation":101,"user_id":8904232,"display_name":"E. Gonzalez"},"score":0,"creation_date":1510124764,"post_id":47172148,"comment_id":81296146,"body_markdown":"And MacAfee is the default antivirus and I get popups that my trial ended, but I am using WebRoot","body":"And MacAfee is the default antivirus and I get popups that my trial ended, but I am using WebRoot"},{"owner":{"account_id":2072373,"reputation":724,"user_id":1846528,"display_name":"M-sAnNan"},"score":0,"creation_date":1642666161,"post_id":47172148,"comment_id":125132847,"body_markdown":"if you have any antivirus installed?  add exception for the\n    said folder\nRun IntelliJ as admin","body":"if you have any antivirus installed?  add exception for the     said folder Run IntelliJ as admin"},{"owner":{"account_id":7465632,"reputation":14579,"user_id":5675325,"accept_rate":85,"display_name":"Tiago Martins Peres"},"score":0,"creation_date":1695047170,"post_id":47172148,"comment_id":135968254,"body_markdown":"`Run as Administrator` worked for me","body":"<code>Run as Administrator</code> worked for me"}],"answers":[{"tags":[],"owner":{"account_id":19607959,"reputation":1,"user_id":14351148,"display_name":"Nikhil Bompelly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607150669,"creation_date":1607126459,"answer_id":65152377,"question_id":47172148,"body_markdown":"If you are having access denied as output, please try to change the project or file path in any of the local disk except Local Disk C;\\, it worked for me.","title":"IntelliJ (Access is denied)","body":"<p>If you are having access denied as output, please try to change the project or file path in any of the local disk except Local Disk C;, it worked for me.</p>\n"}],"owner":{"account_id":12199645,"reputation":101,"user_id":8904232,"display_name":"E. Gonzalez"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15323,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":1,"score":10,"last_activity_date":1695067218,"creation_date":1510118814,"question_id":47172148,"body_markdown":"My professor had us upgrade from the community version of IntelliJ to the ultimate version, as well as begin using JDK 9.0 versus 1.8 and start using Scenebuilder. When I try to build my code though I keep getting the (Access is denied) error. When I try to open up the \r\n\r\n&quot;C:\\Users\\USERNAME\\.IntelliJIdea2017.2\\system\\compile-server\\pt_2_868f9741\\mappings&quot; \r\n\r\nfolder in file explorer, access is denied. I have tried taking ownership of the folder, but I do not have permission to make any changes to it. The same problem is popping up when I run older programs that worked earlier in the semester as well. \r\n\r\nI have already tried uninstalling IntelliJ and running a disk cleanup, then reinstalling but the problem still comes up. \r\n\r\nAny ideas as to what went wrong or how to fix? \r\nI am running Windows 10 , which I have heard has been having a few issues with access and ownership, etc, and am the only user on the laptop.\r\n\r\nWhen I restart my computer, the first time I try building a project this error actually pops up first and then every time after that, the error further below appears.\r\n\r\n    Error:Internal error: can&#39;t save module index: C:\\Users\\Eric Gonzalez\\.IntelliJIdea2017.2\\system\\compile-server\\pt_2_868f9741\\jigsaw\\module-info.map (Access is denied)\r\n\r\n\r\n\r\n\r\nThis is the error message: \r\n\r\n    `Error:Internal error: (java.io.FileNotFoundException) C:\\Users\\USERNAME\\.IntelliJIdea2017.2\\system\\compile-server\\pt_2_868f9741\\mappings\\strings.tab (Access is denied)\r\n    java.io.FileNotFoundException: C:\\Users\\USERNAME\\.IntelliJIdea2017.2\\system\\compile-server\\pt_2_868f9741\\mappings\\strings.tab (Access is denied)\r\n    \tat java.base/java.io.RandomAccessFile.open0(Native Method)\r\n    \tat java.base/java.io.RandomAccessFile.open(RandomAccessFile.java:343)\r\n    \tat java.base/java.io.RandomAccessFile.&lt;init&gt;(RandomAccessFile.java:259)\r\n    \tat java.base/java.io.RandomAccessFile.&lt;init&gt;(RandomAccessFile.java:214)\r\n    \tat com.intellij.util.io.PagedFileStorage.resizeFile(PagedFileStorage.java:355)\r\n    \tat com.intellij.util.io.PagedFileStorage.resize(PagedFileStorage.java:338)\r\n    \tat com.intellij.util.io.ResizeableMappedFile.&lt;init&gt;(ResizeableMappedFile.java:60)\r\n    \tat com.intellij.util.io.PersistentBTreeEnumerator.&lt;init&gt;(PersistentBTreeEnumerator.java:82)\r\n    \tat com.intellij.util.io.PersistentBTreeEnumerator.&lt;init&gt;(PersistentBTreeEnumerator.java:74)\r\n    \tat com.intellij.util.io.PersistentEnumeratorDelegate.&lt;init&gt;(PersistentEnumeratorDelegate.java:38)\r\n    \tat com.intellij.util.io.PersistentStringEnumerator.&lt;init&gt;(PersistentStringEnumerator.java:53)\r\n    \tat com.intellij.util.io.PersistentStringEnumerator.&lt;init&gt;(PersistentStringEnumerator.java:36)\r\n    \tat org.jetbrains.jps.builders.java.dependencyView.DependencyContext.&lt;init&gt;(DependencyContext.java:77)\r\n    \tat org.jetbrains.jps.builders.java.dependencyView.Mappings.createImplementation(Mappings.java:135)\r\n    \tat org.jetbrains.jps.builders.java.dependencyView.Mappings.&lt;init&gt;(Mappings.java:127)\r\n    \tat org.jetbrains.jps.incremental.storage.BuildDataManager.&lt;init&gt;(BuildDataManager.java:133)\r\n    \tat org.jetbrains.jps.cmdline.BuildRunner.load(BuildRunner.java:111)\r\n    \tat org.jetbrains.jps.cmdline.BuildSession.runBuild(BuildSession.java:267)\r\n    \tat org.jetbrains.jps.cmdline.BuildSession.run(BuildSession.java:125)\r\n    \tat org.jetbrains.jps.cmdline.BuildMain$MyMessageHandler.lambda$channelRead0$0(BuildMain.java:236)\r\n    \tat org.jetbrains.jps.service.impl.SharedThreadPoolImpl.lambda$executeOnPooledThread$0(SharedThreadPoolImpl.java:42)\r\n    \tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:514)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:844)\r\n    Please perform full project rebuild (Build | Rebuild Project)\r\n\r\n\r\nI have also just found a similar problem in running Unity. In trying to build a project in Unity I receive the message \r\n\r\n    Creating directory Library/SceiptAssemblies failed.\r\n    Please ensure there is enough disk space and you have\r\n    permissions setup correctly.\r\n\r\nAnd again intrying to acces the folder, i get the same problems as I did with IntelliJ.\r\n\r\n","title":"IntelliJ (Access is denied)","body":"<p>My professor had us upgrade from the community version of IntelliJ to the ultimate version, as well as begin using JDK 9.0 versus 1.8 and start using Scenebuilder. When I try to build my code though I keep getting the (Access is denied) error. When I try to open up the </p>\n\n<p>\"C:\\Users\\USERNAME.IntelliJIdea2017.2\\system\\compile-server\\pt_2_868f9741\\mappings\" </p>\n\n<p>folder in file explorer, access is denied. I have tried taking ownership of the folder, but I do not have permission to make any changes to it. The same problem is popping up when I run older programs that worked earlier in the semester as well. </p>\n\n<p>I have already tried uninstalling IntelliJ and running a disk cleanup, then reinstalling but the problem still comes up. </p>\n\n<p>Any ideas as to what went wrong or how to fix? \nI am running Windows 10 , which I have heard has been having a few issues with access and ownership, etc, and am the only user on the laptop.</p>\n\n<p>When I restart my computer, the first time I try building a project this error actually pops up first and then every time after that, the error further below appears.</p>\n\n<pre><code>Error:Internal error: can't save module index: C:\\Users\\Eric Gonzalez\\.IntelliJIdea2017.2\\system\\compile-server\\pt_2_868f9741\\jigsaw\\module-info.map (Access is denied)\n</code></pre>\n\n<p>This is the error message: </p>\n\n<pre><code>`Error:Internal error: (java.io.FileNotFoundException) C:\\Users\\USERNAME\\.IntelliJIdea2017.2\\system\\compile-server\\pt_2_868f9741\\mappings\\strings.tab (Access is denied)\njava.io.FileNotFoundException: C:\\Users\\USERNAME\\.IntelliJIdea2017.2\\system\\compile-server\\pt_2_868f9741\\mappings\\strings.tab (Access is denied)\n    at java.base/java.io.RandomAccessFile.open0(Native Method)\n    at java.base/java.io.RandomAccessFile.open(RandomAccessFile.java:343)\n    at java.base/java.io.RandomAccessFile.&lt;init&gt;(RandomAccessFile.java:259)\n    at java.base/java.io.RandomAccessFile.&lt;init&gt;(RandomAccessFile.java:214)\n    at com.intellij.util.io.PagedFileStorage.resizeFile(PagedFileStorage.java:355)\n    at com.intellij.util.io.PagedFileStorage.resize(PagedFileStorage.java:338)\n    at com.intellij.util.io.ResizeableMappedFile.&lt;init&gt;(ResizeableMappedFile.java:60)\n    at com.intellij.util.io.PersistentBTreeEnumerator.&lt;init&gt;(PersistentBTreeEnumerator.java:82)\n    at com.intellij.util.io.PersistentBTreeEnumerator.&lt;init&gt;(PersistentBTreeEnumerator.java:74)\n    at com.intellij.util.io.PersistentEnumeratorDelegate.&lt;init&gt;(PersistentEnumeratorDelegate.java:38)\n    at com.intellij.util.io.PersistentStringEnumerator.&lt;init&gt;(PersistentStringEnumerator.java:53)\n    at com.intellij.util.io.PersistentStringEnumerator.&lt;init&gt;(PersistentStringEnumerator.java:36)\n    at org.jetbrains.jps.builders.java.dependencyView.DependencyContext.&lt;init&gt;(DependencyContext.java:77)\n    at org.jetbrains.jps.builders.java.dependencyView.Mappings.createImplementation(Mappings.java:135)\n    at org.jetbrains.jps.builders.java.dependencyView.Mappings.&lt;init&gt;(Mappings.java:127)\n    at org.jetbrains.jps.incremental.storage.BuildDataManager.&lt;init&gt;(BuildDataManager.java:133)\n    at org.jetbrains.jps.cmdline.BuildRunner.load(BuildRunner.java:111)\n    at org.jetbrains.jps.cmdline.BuildSession.runBuild(BuildSession.java:267)\n    at org.jetbrains.jps.cmdline.BuildSession.run(BuildSession.java:125)\n    at org.jetbrains.jps.cmdline.BuildMain$MyMessageHandler.lambda$channelRead0$0(BuildMain.java:236)\n    at org.jetbrains.jps.service.impl.SharedThreadPoolImpl.lambda$executeOnPooledThread$0(SharedThreadPoolImpl.java:42)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:514)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n    at java.base/java.lang.Thread.run(Thread.java:844)\nPlease perform full project rebuild (Build | Rebuild Project)\n</code></pre>\n\n<p>I have also just found a similar problem in running Unity. In trying to build a project in Unity I receive the message </p>\n\n<pre><code>Creating directory Library/SceiptAssemblies failed.\nPlease ensure there is enough disk space and you have\npermissions setup correctly.\n</code></pre>\n\n<p>And again intrying to acces the folder, i get the same problems as I did with IntelliJ.</p>\n"},{"tags":["java","multithreading","asynchronous","future","completable-future"],"answers":[{"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695066677,"creation_date":1695066677,"answer_id":77130046,"question_id":77129990,"body_markdown":"You can catch the exception using a lambda expression in the `.map()` method, and then filter the null values of the list, this way:\r\n\r\n```java\r\nCompletableFuture&lt;List&lt;MysticPlanetsNatalChartAspectResponse&gt;&gt; resultFuture = timeoutFuture\r\n                .thenApply(v -&gt; futures.stream()\r\n                        .map(future -&gt; {\r\n                            try {\r\n                                return future.join();\r\n                            } catch (CompletionException | CancellationException ex) {\r\n                                // Handle the exception here\r\n                                return null;\r\n                            }\r\n                        })\r\n                        // Filter out null results\r\n                        .filter(Objects::nonNull) \r\n                        .collect(Collectors.toList()));\r\n```","title":"Interrupt underlying execution of CompletableFuture","body":"<p>You can catch the exception using a lambda expression in the <code>.map()</code> method, and then filter the null values of the list, this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CompletableFuture&lt;List&lt;MysticPlanetsNatalChartAspectResponse&gt;&gt; resultFuture = timeoutFuture\n                .thenApply(v -&gt; futures.stream()\n                        .map(future -&gt; {\n                            try {\n                                return future.join();\n                            } catch (CompletionException | CancellationException ex) {\n                                // Handle the exception here\n                                return null;\n                            }\n                        })\n                        // Filter out null results\n                        .filter(Objects::nonNull) \n                        .collect(Collectors.toList()));\n</code></pre>\n"}],"owner":{"account_id":5619788,"reputation":4111,"user_id":4450024,"accept_rate":99,"display_name":"Nu&#241;ito Calzada"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77130046,"answer_count":1,"score":0,"last_activity_date":1695066677,"creation_date":1695066012,"question_id":77129990,"body_markdown":"I havw this piece of code:\r\n\r\n     CompletableFuture&lt;Void&gt; timeoutFuture = CompletableFuture.allOf(futures.toArray(new CompletableFuture[0]))\r\n                    .orTimeout(1, TimeUnit.SECONDS); // Set a timeout for all futures combined\r\n    \r\n            CompletableFuture&lt;List&lt;MysticPlanetsNatalChartAspectResponse&gt;&gt; resultFuture = timeoutFuture\r\n                    .thenApply(v -&gt; futures.stream()\r\n                            .map(CompletableFuture::join)\r\n                            .collect(Collectors.toList()));\r\n    \r\n            // Cancel any remaining futures that may not have completed\r\n            futures.forEach(future -&gt; {\r\n                if (!future.isDone() &amp;&amp; !future.isCancelled()) {\r\n                    try {\r\n                        future.cancel(true);\r\n                    } catch (Throwable c) {\r\n                        //System.out.println(c.getMessage());\r\n                    }\r\n                }\r\n            });\r\n\r\nbut the Exception is not catched and i see it in the console:\r\n\r\n\r\n    2023-09-18T21:38:43,869+02:00 [http-nio-8080-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.util.concurrent.CompletionException: java.util.concurrent.CancellationException] with root cause\r\n    java.util.concurrent.CancellationException: null","title":"Interrupt underlying execution of CompletableFuture","body":"<p>I havw this piece of code:</p>\n<pre><code> CompletableFuture&lt;Void&gt; timeoutFuture = CompletableFuture.allOf(futures.toArray(new CompletableFuture[0]))\n                .orTimeout(1, TimeUnit.SECONDS); // Set a timeout for all futures combined\n\n        CompletableFuture&lt;List&lt;MysticPlanetsNatalChartAspectResponse&gt;&gt; resultFuture = timeoutFuture\n                .thenApply(v -&gt; futures.stream()\n                        .map(CompletableFuture::join)\n                        .collect(Collectors.toList()));\n\n        // Cancel any remaining futures that may not have completed\n        futures.forEach(future -&gt; {\n            if (!future.isDone() &amp;&amp; !future.isCancelled()) {\n                try {\n                    future.cancel(true);\n                } catch (Throwable c) {\n                    //System.out.println(c.getMessage());\n                }\n            }\n        });\n</code></pre>\n<p>but the Exception is not catched and i see it in the console:</p>\n<pre><code>2023-09-18T21:38:43,869+02:00 [http-nio-8080-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.util.concurrent.CompletionException: java.util.concurrent.CancellationException] with root cause\njava.util.concurrent.CancellationException: null\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1608370702,"post_id":65367670,"comment_id":115566841,"body_markdown":"Note: If you&#39;re not experienced enough with Spring to debug this problem, you shouldn&#39;t be messing with pre-release builds. (Your problem is almost certainly to do with JSP paths. JSPs are a headache, and this is one of many reasons why; Thymeleaf is a superior alternative for new projects.)","body":"Note: If you&#39;re not experienced enough with Spring to debug this problem, you shouldn&#39;t be messing with pre-release builds. (Your problem is almost certainly to do with JSP paths. JSPs are a headache, and this is one of many reasons why; Thymeleaf is a superior alternative for new projects.)"},{"owner":{"account_id":14414124,"reputation":758,"user_id":10412027,"display_name":"Gabriel Rogath"},"score":0,"creation_date":1608394617,"post_id":65367670,"comment_id":115573073,"body_markdown":"@chrylis-cautiouslyoptimistic- could this be a bug, why would JSP behave like this?  Am struggling myself with the same issue.Here is my post:  https://stackoverflow.com/questions/65366871/could-jsp-file-not-found-be-a-bug-in-spring/65369026#65369026","body":"@chrylis-cautiouslyoptimistic- could this be a bug, why would JSP behave like this?  Am struggling myself with the same issue.Here is my post:  <a href=\"https://stackoverflow.com/questions/65366871/could-jsp-file-not-found-be-a-bug-in-spring/65369026#65369026\" title=\"could jsp file not found be a bug in spring\">stackoverflow.com/questions/65366871/&hellip;</a>"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1608395123,"post_id":65367670,"comment_id":115573213,"body_markdown":"@GabrielRogath tl;dr JSP is a legacy technology and `webapp`/`WEB-INF` have weird rules that are hard to keep straight. With other template engines, the templates are just data files, and the normal rules apply.","body":"@GabrielRogath tl;dr JSP is a legacy technology and <code>webapp</code>/<code>WEB-INF</code> have weird rules that are hard to keep straight. With other template engines, the templates are just data files, and the normal rules apply."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1608727509,"post_id":65367670,"comment_id":115667403,"body_markdown":"JSP will only work with a war file due to resource loading. See (amongst others) https://github.com/spring-projects/spring-boot/issues/23829 and read [the documentation](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-jsp-limitations).","body":"JSP will only work with a war file due to resource loading. See (amongst others) <a href=\"https://github.com/spring-projects/spring-boot/issues/23829\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/issues/23829</a> and read <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-jsp-limitations\" rel=\"nofollow noreferrer\">the documentation</a>."}],"answers":[{"tags":[],"owner":{"account_id":8116116,"reputation":31,"user_id":10060530,"display_name":"Saddam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608387672,"creation_date":1608387672,"answer_id":65370765,"question_id":65367670,"body_markdown":"Add &quot;/&quot; at the end of property:\r\n\r\n`\r\nspring.mvc.view.prefix=/WEB-INF/views/\r\n`","title":"@controller not working but @restcontroller working in spring boot","body":"<p>Add &quot;/&quot; at the end of property:</p>\n<p><code>spring.mvc.view.prefix=/WEB-INF/views/</code></p>\n"},{"tags":[],"owner":{"account_id":12350917,"reputation":14,"user_id":9009530,"display_name":"Lenherd Deon Olivera"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1608727152,"creation_date":1608727152,"answer_id":65424477,"question_id":65367670,"body_markdown":"This dependency means you are internally using Spring MVC for your spring boot app.\r\n\r\n     &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nSo you need to use a **ModelAndView** object here that must be returned by your method,\r\n\r\n&gt; ModelAndView is a holder for both Model and View in the web MVC\r\n&gt; framework. Note that these are entirely distinct. This class merely\r\n&gt; holds both to make it possible for a controller to return both model\r\n&gt; and view in a single return value. Represents a model and view\r\n&gt; returned by a handler, to be resolved by a DispatcherServlet. The view\r\n&gt; can take the form of a String view name which will need to be resolved\r\n&gt; by a ViewResolver object; alternatively a View object can be specified\r\n&gt; directly. The model is a Map, allowing the use of multiple objects\r\n&gt; keyed by name.\r\n\r\nMore details on ModelAndView [here][1]      \r\nTry this\r\n\r\n    @RequestMapping(value = &quot;/welcome&quot;, method= RequestMethod.GET )\r\n      public ModelAndView register(){\r\n\r\n        return new ModelAndView(&quot;registration&quot;);\r\n    }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/ModelAndView.html","title":"@controller not working but @restcontroller working in spring boot","body":"<p>This dependency means you are internally using Spring MVC for your spring boot app.</p>\n<pre><code> &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>So you need to use a <strong>ModelAndView</strong> object here that must be returned by your method,</p>\n<blockquote>\n<p>ModelAndView is a holder for both Model and View in the web MVC\nframework. Note that these are entirely distinct. This class merely\nholds both to make it possible for a controller to return both model\nand view in a single return value. Represents a model and view\nreturned by a handler, to be resolved by a DispatcherServlet. The view\ncan take the form of a String view name which will need to be resolved\nby a ViewResolver object; alternatively a View object can be specified\ndirectly. The model is a Map, allowing the use of multiple objects\nkeyed by name.</p>\n</blockquote>\n<p>More details on ModelAndView <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/ModelAndView.html\" rel=\"nofollow noreferrer\">here</a><br />\nTry this</p>\n<pre><code>@RequestMapping(value = &quot;/welcome&quot;, method= RequestMethod.GET )\n  public ModelAndView register(){\n\n    return new ModelAndView(&quot;registration&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10087574,"reputation":587,"user_id":7455604,"display_name":"Tinsae"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647388216,"creation_date":1647388216,"answer_id":71490296,"question_id":65367670,"body_markdown":"I had the same problem , I had done many attemps but none has worked because, the real problem was that, theamleaf was disabled from , application.yalm\r\n\r\n```yaml\r\n  server:\r\n  port: 8091\r\n  servlet:\r\n    session:\r\n      timeout: 600s\r\n\r\nspring:\r\n  thymeleaf:\r\n    enabled: true\r\n  datasource:\r\n    name: dbname  #数据库名\r\n    url: jdbc:mysql://localhost:3306/\r\n    username: username  #用户名\r\n    password: password  #密码\r\n    driver-class-name: com.mysql.cj.jdbc.Driver  #数据库链接驱动\r\n    type: com.alibaba.druid.pool.DruidDataSource #使用druid数据源\r\n  servlet:\r\n    multipart:\r\n      max-file-size: 10MB\r\n      max-request-size: 10MB\r\n  redis:\r\n    port: 6379\r\n    host: &quot;localhost&quot;\r\n\r\nmybatis:\r\n  type-aliases-package: matsk.mszdqabbs.Pojo\r\n  mapperLocations: classpath:mapper/*.xml\r\n  configuration:\r\n    use-generated-keys: true\r\n    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl\r\n\r\nlogging:\r\n  pattern:\r\n    file: &quot;%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n&quot;\r\n    console: &quot;%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n&quot;\r\n  file:\r\n    max-history: 30\r\n    max-size: 10MB\r\n    path: &quot;./logs&quot;\r\n    name: &quot;./logs/mszdqabbs.log&quot;\r\n  level:\r\n    root: INFO\r\n\r\n```\r\n","title":"@controller not working but @restcontroller working in spring boot","body":"<p>I had the same problem , I had done many attemps but none has worked because, the real problem was that, theamleaf was disabled from , application.yalm</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>  server:\n  port: 8091\n  servlet:\n    session:\n      timeout: 600s\n\nspring:\n  thymeleaf:\n    enabled: true\n  datasource:\n    name: dbname  #数据库名\n    url: jdbc:mysql://localhost:3306/\n    username: username  #用户名\n    password: password  #密码\n    driver-class-name: com.mysql.cj.jdbc.Driver  #数据库链接驱动\n    type: com.alibaba.druid.pool.DruidDataSource #使用druid数据源\n  servlet:\n    multipart:\n      max-file-size: 10MB\n      max-request-size: 10MB\n  redis:\n    port: 6379\n    host: &quot;localhost&quot;\n\nmybatis:\n  type-aliases-package: matsk.mszdqabbs.Pojo\n  mapperLocations: classpath:mapper/*.xml\n  configuration:\n    use-generated-keys: true\n    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl\n\nlogging:\n  pattern:\n    file: &quot;%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n&quot;\n    console: &quot;%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n&quot;\n  file:\n    max-history: 30\n    max-size: 10MB\n    path: &quot;./logs&quot;\n    name: &quot;./logs/mszdqabbs.log&quot;\n  level:\n    root: INFO\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26392668,"reputation":11,"user_id":20044329,"display_name":"Goran Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695066635,"creation_date":1694952824,"answer_id":77121736,"question_id":65367670,"body_markdown":"Had this issue and spend some time learning so I find this...\r\n\r\nControllers annotated with `@Controller` return views (*HTML templates*) by default, and they are often used in combination with *Thymeleaf*, *JSP*, or other template engines.\r\n\r\n`@RestController` is used for building web services that return data in formats like *JSON* or *XML*. \r\n\r\nIn order to use `@Controller` you can go with -&gt;\r\n\r\nAdd `@ResponseBody` annotation below `@GetMapping` -&gt;   \r\n\r\n```java\r\n@Controller\r\npublic class MyController {\r\n\r\n    @GetMapping(&quot;/message&quot;)\r\n    @ResponseBody\r\n    public String showMessage() {\r\n        return &quot;Hello, this is a simple message!&quot;;\r\n    }\r\n}\r\n```\r\n\r\nor you can:\r\n\r\n```java\r\n@GetMapping(&quot;/message2&quot;)\r\npublic ResponseEntity&lt;String&gt; getEmployeeById(){\r\n    return new ResponseEntity&lt;String&gt;(&quot;Your response...&quot;, HttpStatus.OK);\r\n}\r\n```\r\n\r\nThere is for sure more options how to avoid Whitelabel Error Page just need to find way...","title":"@controller not working but @restcontroller working in spring boot","body":"<p>Had this issue and spend some time learning so I find this...</p>\n<p>Controllers annotated with <code>@Controller</code> return views (<em>HTML templates</em>) by default, and they are often used in combination with <em>Thymeleaf</em>, <em>JSP</em>, or other template engines.</p>\n<p><code>@RestController</code> is used for building web services that return data in formats like <em>JSON</em> or <em>XML</em>.</p>\n<p>In order to use <code>@Controller</code> you can go with -&gt;</p>\n<p>Add <code>@ResponseBody</code> annotation below <code>@GetMapping</code> -&gt;</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\npublic class MyController {\n\n    @GetMapping(&quot;/message&quot;)\n    @ResponseBody\n    public String showMessage() {\n        return &quot;Hello, this is a simple message!&quot;;\n    }\n}\n</code></pre>\n<p>or you can:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/message2&quot;)\npublic ResponseEntity&lt;String&gt; getEmployeeById(){\n    return new ResponseEntity&lt;String&gt;(&quot;Your response...&quot;, HttpStatus.OK);\n}\n</code></pre>\n<p>There is for sure more options how to avoid Whitelabel Error Page just need to find way...</p>\n"}],"owner":{"account_id":6017073,"reputation":71,"user_id":4725508,"accept_rate":67,"display_name":"Pravin Kottawar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1974,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1695066635,"creation_date":1608363456,"question_id":65367670,"body_markdown":"Hi I have create simple spring boot application using spring initializr.\r\nI added one controller in same folder of main application class.\r\n\r\n    package com.demo.CrudOperations;\r\n\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n\r\n\r\n      @Controller\r\n      public class RegistrationController {\r\n\t\r\n\t      @RequestMapping(value = &quot;/welcome&quot;, method= RequestMethod.GET )\r\n      \t  public String register(){\r\n\t      \treturn &quot;registration&quot;;\r\n       \t}\r\n\r\n      }\r\n\r\nThis is giving me following error for url \r\nhttp://localhost:8080/welcome\r\n\r\nWhitelabel Error Page\r\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n\r\nSat Dec 19 12:51:44 IST 2020\r\nThere was an unexpected error (type=Not Found, status=404).\r\n\r\nIf I use @restcontroller instead of @Controller it is returning me &quot;registration&quot; .\r\nIn my WEB-INF under views I have created registration.jsp. Here is application.properties file\r\n\r\n     spring.mvc.view.prefix=/WEB-INF/views\r\n     spring.mvc.view.suffix=.jsp\r\n\r\n\r\n\r\npom.xml showing unknow error.\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.5.0-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.CrudOperations&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;CrudOperations&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;CrudOperations&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Crud Operations&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- JSTL for JSP --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n\t&lt;repositories&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n\t\t&lt;/repository&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;spring-snapshots&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t&lt;/repository&gt;\r\n\t&lt;/repositories&gt;\r\n\t&lt;pluginRepositories&gt;\r\n\t\t&lt;pluginRepository&gt;\r\n\t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n\t\t&lt;/pluginRepository&gt;\r\n\t\t&lt;pluginRepository&gt;\r\n\t\t\t&lt;id&gt;spring-snapshots&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t&lt;/pluginRepository&gt;\r\n\t&lt;/pluginRepositories&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nHere is how directory structure looks like\r\n\r\n[![enter image description here][1]][1]\r\n\r\nCan some one tell me where I am making mistake ?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0JIgg.png\r\n\r\nI also tried adding @ResponseBody but it gave me simple string instead of jsp file.","title":"@controller not working but @restcontroller working in spring boot","body":"<p>Hi I have create simple spring boot application using spring initializr.\nI added one controller in same folder of main application class.</p>\n<pre><code>package com.demo.CrudOperations;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\n\n\n  @Controller\n  public class RegistrationController {\n\n      @RequestMapping(value = &quot;/welcome&quot;, method= RequestMethod.GET )\n      public String register(){\n        return &quot;registration&quot;;\n    }\n\n  }\n</code></pre>\n<p>This is giving me following error for url\nhttp://localhost:8080/welcome</p>\n<p>Whitelabel Error Page\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.</p>\n<p>Sat Dec 19 12:51:44 IST 2020\nThere was an unexpected error (type=Not Found, status=404).</p>\n<p>If I use @restcontroller instead of @Controller it is returning me &quot;registration&quot; .\nIn my WEB-INF under views I have created registration.jsp. Here is application.properties file</p>\n<pre><code> spring.mvc.view.prefix=/WEB-INF/views\n spring.mvc.view.suffix=.jsp\n</code></pre>\n<p>pom.xml showing unknow error.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.0-SNAPSHOT&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.CrudOperations&lt;/groupId&gt;\n    &lt;artifactId&gt;CrudOperations&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;CrudOperations&lt;/name&gt;\n    &lt;description&gt;Demo project for Crud Operations&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!-- JSTL for JSP --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n        &lt;/pluginRepository&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Here is how directory structure looks like</p>\n<p><a href=\"https://i.stack.imgur.com/0JIgg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0JIgg.png\" alt=\"enter image description here\" /></a></p>\n<p>Can some one tell me where I am making mistake ?</p>\n<p>I also tried adding @ResponseBody but it gave me simple string instead of jsp file.</p>\n"},{"tags":["java","html","spring-boot","maven","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695066060,"creation_date":1695066060,"answer_id":77129992,"question_id":77129372,"body_markdown":"You can use a hidden input with the value from localStorage:\r\n```html\r\n&lt;input type=&quot;hidden&quot; id=&quot;messageSender&quot; th:field=&quot;*{sender}&quot; /&gt;\r\n&lt;script&gt;\r\nlet value = localStorage.getItem(&quot;senderName&quot;);\r\ndocument.getElementById(&quot;messageSender&quot;).value = value;\r\n&lt;/script&gt;\r\n```\r\nor fill it once you submit the form:\r\n```html\r\n&lt;input type=&quot;hidden&quot; id=&quot;messageSender&quot; th:field=&quot;*{sender}&quot; /&gt;\r\n&lt;input type=&quot;button&quot; value=&quot;Submit&quot; onclick=&#39;document.getElementById(&quot;messageSender&quot;).value = localStorage.getItem(&quot;senderName&quot;)&#39; /&gt;\r\n```","title":"How do I pass a value from localStorage to @PostMapping handler?","body":"<p>You can use a hidden input with the value from localStorage:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;input type=&quot;hidden&quot; id=&quot;messageSender&quot; th:field=&quot;*{sender}&quot; /&gt;\n&lt;script&gt;\nlet value = localStorage.getItem(&quot;senderName&quot;);\ndocument.getElementById(&quot;messageSender&quot;).value = value;\n&lt;/script&gt;\n</code></pre>\n<p>or fill it once you submit the form:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;input type=&quot;hidden&quot; id=&quot;messageSender&quot; th:field=&quot;*{sender}&quot; /&gt;\n&lt;input type=&quot;button&quot; value=&quot;Submit&quot; onclick='document.getElementById(&quot;messageSender&quot;).value = localStorage.getItem(&quot;senderName&quot;)' /&gt;\n</code></pre>\n"}],"owner":{"account_id":29400177,"reputation":3,"user_id":22526534,"display_name":"Chrone Void"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77129992,"answer_count":1,"score":0,"last_activity_date":1695066060,"creation_date":1695059293,"question_id":77129372,"body_markdown":"I use Spring Boot, Maven, Thymeleaf\r\n\r\nThe user goes to my .html page, enters a value, I put this value to localStorage, then I want to pass this value (maybe as @ModelAttribute) to @PostMapping method, and then... (whatever, send it to database for example)\r\n\r\nFor example, I want to get String **userLogin** value\r\n```\r\n@PostMapping(&quot;/inbox&quot;)\r\n    public String doCreateMessage(@ModelAttribute(&quot;formData&quot;) CreateMessageFromData formData, @ModelAttribute(&quot;userLogin&quot;) String userLogin, Model model) {\r\n        Message message = new Message(formData.getId(), formData.getMessage(), userLogin);\r\n        messageRepository.save(message);\r\n        return &quot;redirect:/inbox&quot;;\r\n    }\r\n```\r\nWhat do I type in my .html page?\r\nI want to do sth like this:\r\n\r\n```\r\n&lt;script&gt;\r\n...\r\nlet value = localStorage.getItem(&quot;senderName&quot;);\r\n${userLogin} = value;\r\n...\r\n&lt;/script&gt;\r\n```\r\n(it doesn&#39;t work of course)\r\n\r\nI know I can get the value from user through input form like this:\r\n\r\n```\r\n &lt;input type=&quot;text&quot; id=&quot;messageSender&quot; th:field=&quot;*{sender}&quot; /&gt;\r\n```\r\nBut my value is in localStorage\r\n\r\nI just couldn&#39;t find the answer on the internet...","title":"How do I pass a value from localStorage to @PostMapping handler?","body":"<p>I use Spring Boot, Maven, Thymeleaf</p>\n<p>The user goes to my .html page, enters a value, I put this value to localStorage, then I want to pass this value (maybe as @ModelAttribute) to @PostMapping method, and then... (whatever, send it to database for example)</p>\n<p>For example, I want to get String <strong>userLogin</strong> value</p>\n<pre><code>@PostMapping(&quot;/inbox&quot;)\n    public String doCreateMessage(@ModelAttribute(&quot;formData&quot;) CreateMessageFromData formData, @ModelAttribute(&quot;userLogin&quot;) String userLogin, Model model) {\n        Message message = new Message(formData.getId(), formData.getMessage(), userLogin);\n        messageRepository.save(message);\n        return &quot;redirect:/inbox&quot;;\n    }\n</code></pre>\n<p>What do I type in my .html page?\nI want to do sth like this:</p>\n<pre><code>&lt;script&gt;\n...\nlet value = localStorage.getItem(&quot;senderName&quot;);\n${userLogin} = value;\n...\n&lt;/script&gt;\n</code></pre>\n<p>(it doesn't work of course)</p>\n<p>I know I can get the value from user through input form like this:</p>\n<pre><code> &lt;input type=&quot;text&quot; id=&quot;messageSender&quot; th:field=&quot;*{sender}&quot; /&gt;\n</code></pre>\n<p>But my value is in localStorage</p>\n<p>I just couldn't find the answer on the internet...</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438169,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1602492291,"post_id":64314421,"comment_id":113726998,"body_markdown":"Welcome to Stack Overflow. Have you stepped through the code in the debugger for each of the scenarios? Note that your final `if` statement has the same body for both branches - is that deliberate?","body":"Welcome to Stack Overflow. Have you stepped through the code in the debugger for each of the scenarios? Note that your final <code>if</code> statement has the same body for both branches - is that deliberate?"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":5,"creation_date":1602492320,"post_id":64314421,"comment_id":113727014,"body_markdown":"Your print is right at the start of the method, before any of the leap year logic. You print true if the number is in the range 1–9999 and false otherwise. All the stuff after that has no effect on the output.","body":"Your print is right at the start of the method, before any of the leap year logic. You print true if the number is in the range 1–9999 and false otherwise. All the stuff after that has no effect on the output."},{"owner":{"account_id":19714142,"reputation":21,"user_id":14433935,"display_name":"Real uNondaba"},"score":0,"creation_date":1602492620,"post_id":64314421,"comment_id":113727164,"body_markdown":"Yes, I did it deliberately for my final if statement","body":"Yes, I did it deliberately for my final if statement"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1602492682,"post_id":64314421,"comment_id":113727195,"body_markdown":"Do you actually understand what the `%` remainder operator does? When you call e.g. `isLeapYear(2000)`, i.e. when `year = 2000`, what do you believe the value of `year % 4` is, and why do you believe that? The remainder of `2000` divided by `4` is **`0`**, because `2000 / 4` is 500, leaving a remainder of 0. Since `year = 2000` and `year % 4` is `0`, the condition `year == (year % 4)` is false, which is not what you were trying to achieve.","body":"Do you actually understand what the <code>%</code> remainder operator does? When you call e.g. <code>isLeapYear(2000)</code>, i.e. when <code>year = 2000</code>, what do you believe the value of <code>year % 4</code> is, and why do you believe that? The remainder of <code>2000</code> divided by <code>4</code> is <b><code>0</code></b>, because <code>2000 &#47; 4</code> is 500, leaving a remainder of 0. Since <code>year = 2000</code> and <code>year % 4</code> is <code>0</code>, the condition <code>year == (year % 4)</code> is false, which is not what you were trying to achieve."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1602492739,"post_id":64314421,"comment_id":113727218,"body_markdown":"@NhlanhlaZondi ... so your code deliberately prints the wrong output. In that case I don&#39;t know what you&#39;re asking for.","body":"@NhlanhlaZondi ... so your code deliberately prints the wrong output. In that case I don&#39;t know what you&#39;re asking for."},{"owner":{"account_id":19714142,"reputation":21,"user_id":14433935,"display_name":"Real uNondaba"},"score":0,"creation_date":1602493221,"post_id":64314421,"comment_id":113727491,"body_markdown":"@khelwood, thanks for pointing out my mistake. How would one go about resolving my problem.","body":"@khelwood, thanks for pointing out my mistake. How would one go about resolving my problem."},{"owner":{"account_id":19714142,"reputation":21,"user_id":14433935,"display_name":"Real uNondaba"},"score":0,"creation_date":1602493325,"post_id":64314421,"comment_id":113727525,"body_markdown":"@Andreas, my bad I mistakenly confused it with the / operator.","body":"@Andreas, my bad I mistakenly confused it with the / operator."}],"answers":[{"tags":[],"owner":{"account_id":1625750,"reputation":5627,"user_id":1501345,"accept_rate":60,"display_name":"Amit Kumar Lal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602493305,"creation_date":1602493305,"answer_id":64314710,"question_id":64314421,"body_markdown":"I have made some changes and merged ur conditions \r\n\r\n    \tpublic static void main(String[] args) throws IOException  {\r\n    \t\tisLeapYear(-1600);// → should return false since the parameter is not in range (1-9999)\r\n    \t\tisLeapYear(1600); ////→ should return true since 1600 is a leap year\r\n    \t\tisLeapYear(2017);// → should return false since 2017 is not a leap year\r\n    \t\tisLeapYear(2000); \r\n    \t\tisLeapYear(99999); \r\n    \t}\r\n    \r\n    \tpublic static void isLeapYear(int year) {\r\n            //Should lie between 1  &amp;&amp; 9999\r\n    \t\t//If the year is evenly divisible by 4, go to step 2. ...\r\n    \t\t//If the year is evenly divisible by 100, go to step 3. ...\r\n    \t\t//If the year is evenly divisible by 400, go to step 4. ...\r\n    \t\t//The year is a leap year (it has 366 days).\r\n    \t\t//The year is not a leap year (it has 365 days).\r\n    \t\t\r\n    \t\tboolean isLeap = false;\r\n    \t\tif(year &gt;= 1 &amp;&amp; year &lt;= 9999 &amp;&amp; year % 4 == 0){\r\n    \t\t\tif( year % 100 == 0){\r\n    \t\t\t\tif ( year % 400 == 0)\r\n    \t\t\t\t\tisLeap = true;\r\n    \t\t\t\telse\r\n    \t\t\t\t\tisLeap = false;\r\n    \t\t\t}else\r\n    \t\t\t\tisLeap = true;\r\n    \t\t}else {\r\n    \t\t\tisLeap = false;\r\n    \t\t}\r\n    \r\n    \t\tif(isLeap==true)\r\n    \t\t\tSystem.out.println(year + &quot; is a Leap Year.&quot;);\r\n    \t\telse\r\n    \t\t\tSystem.out.println(year + &quot; is not a Leap Year.&quot;);\r\n    \t}\r\n    }\r\n\r\n**output**\r\n\r\n    -1600 is not a Leap Year.\r\n    1600 is a Leap Year.\r\n    2017 is not a Leap Year.\r\n    2000 is a Leap Year.\r\n    99999 is not a Leap Year.","title":"The required output is false, true, false, true. My results are false, true, true, true. Is there something missing in my code?","body":"<p>I have made some changes and merged ur conditions</p>\n<pre><code>    public static void main(String[] args) throws IOException  {\n        isLeapYear(-1600);// → should return false since the parameter is not in range (1-9999)\n        isLeapYear(1600); ////→ should return true since 1600 is a leap year\n        isLeapYear(2017);// → should return false since 2017 is not a leap year\n        isLeapYear(2000); \n        isLeapYear(99999); \n    }\n\n    public static void isLeapYear(int year) {\n        //Should lie between 1  &amp;&amp; 9999\n        //If the year is evenly divisible by 4, go to step 2. ...\n        //If the year is evenly divisible by 100, go to step 3. ...\n        //If the year is evenly divisible by 400, go to step 4. ...\n        //The year is a leap year (it has 366 days).\n        //The year is not a leap year (it has 365 days).\n        \n        boolean isLeap = false;\n        if(year &gt;= 1 &amp;&amp; year &lt;= 9999 &amp;&amp; year % 4 == 0){\n            if( year % 100 == 0){\n                if ( year % 400 == 0)\n                    isLeap = true;\n                else\n                    isLeap = false;\n            }else\n                isLeap = true;\n        }else {\n            isLeap = false;\n        }\n\n        if(isLeap==true)\n            System.out.println(year + &quot; is a Leap Year.&quot;);\n        else\n            System.out.println(year + &quot; is not a Leap Year.&quot;);\n    }\n}\n</code></pre>\n<p><strong>output</strong></p>\n<pre><code>-1600 is not a Leap Year.\n1600 is a Leap Year.\n2017 is not a Leap Year.\n2000 is a Leap Year.\n99999 is not a Leap Year.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21434001,"reputation":26,"user_id":15789795,"display_name":"awais gulzar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1619666492,"creation_date":1619666492,"answer_id":67310598,"question_id":64314421,"body_markdown":"    public class LeapYear {\r\n        public static  boolean isLeapYear(int year){\r\n            if (year&gt;=1 &amp;&amp; year&lt;=9999)\r\n            {  if (year%4==0){\r\n                if (year%100==0){\r\n    \r\n                    if (year%400==0){\r\n                        return true;\r\n    \r\n                    }else {\r\n                        return false; //year%400==0 else\r\n                    }\r\n    \r\n                }else {\r\n                    return true; //year%100==0 else\r\n                }\r\n    \r\n            }else {\r\n                return false; // year%4==0 else\r\n            }\r\n    \r\n            }\r\n            else return false; //this else associated with upper if\r\n        }\r\n    }","title":"The required output is false, true, false, true. My results are false, true, true, true. Is there something missing in my code?","body":"<pre><code>public class LeapYear {\n    public static  boolean isLeapYear(int year){\n        if (year&gt;=1 &amp;&amp; year&lt;=9999)\n        {  if (year%4==0){\n            if (year%100==0){\n\n                if (year%400==0){\n                    return true;\n\n                }else {\n                    return false; //year%400==0 else\n                }\n\n            }else {\n                return true; //year%100==0 else\n            }\n\n        }else {\n            return false; // year%4==0 else\n        }\n\n        }\n        else return false; //this else associated with upper if\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10428376,"reputation":1,"user_id":7688927,"display_name":"Maarifa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695066016,"creation_date":1694956644,"answer_id":77121969,"question_id":64314421,"body_markdown":"```java\r\npublic static boolean isLeapYear(int year) {\r\n\tif (year &lt; 1 || year &gt; 9999) {\r\n\t\treturn false;\r\n\t} else if (year % 4 == 0 &amp;&amp; year % 100 != 0) {\r\n\t\treturn true;\r\n\t} else if (year % 100 == 0 &amp;&amp; year % 400 == 0) {\r\n\t\treturn true;\r\n\t} else {\r\n\t\treturn false;\r\n\t}\r\n\r\n}\r\n```\r\n\r\nstart by verifying that the year falls within the constraints. If it doesn&#39;t, just return false and exit. Then perform the other checks to verify the edge cases.\r\n\r\nOR:\r\n\r\n```java\r\npublic static boolean isLeapYear(int year) {\r\n\tif (year &gt;= 1 &amp;&amp; year &lt;= 9999) {\r\n\t\tif (year % 4 == 0 &amp;&amp; year % 100 != 0) {\r\n\t\t\treturn true;\r\n\t\t} else if (year % 100 == 0 &amp;&amp; year % 400 == 0) {\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t} else {\r\n\t\treturn false;\r\n\t}\r\n}\r\n```","title":"The required output is false, true, false, true. My results are false, true, true, true. Is there something missing in my code?","body":"<pre class=\"lang-java prettyprint-override\"><code>public static boolean isLeapYear(int year) {\n    if (year &lt; 1 || year &gt; 9999) {\n        return false;\n    } else if (year % 4 == 0 &amp;&amp; year % 100 != 0) {\n        return true;\n    } else if (year % 100 == 0 &amp;&amp; year % 400 == 0) {\n        return true;\n    } else {\n        return false;\n    }\n\n}\n</code></pre>\n<p>start by verifying that the year falls within the constraints. If it doesn't, just return false and exit. Then perform the other checks to verify the edge cases.</p>\n<p>OR:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean isLeapYear(int year) {\n    if (year &gt;= 1 &amp;&amp; year &lt;= 9999) {\n        if (year % 4 == 0 &amp;&amp; year % 100 != 0) {\n            return true;\n        } else if (year % 100 == 0 &amp;&amp; year % 400 == 0) {\n            return true;\n        } else {\n            return false;\n        }\n\n    } else {\n        return false;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19714142,"reputation":21,"user_id":14433935,"display_name":"Real uNondaba"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1948,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"accepted_answer_id":67310598,"answer_count":3,"score":-1,"last_activity_date":1695066016,"creation_date":1602492107,"question_id":64314421,"body_markdown":"This is the scenario.\r\n\r\nWrite a method isLeapYear with a parameter of type int named year.\r\n\r\nThe parameter needs to be greater than or equal to 1 and less than or equal to 9999.\r\n\r\nIf the parameter is not in that range return false.\r\n\r\nOtherwise, if it is in the valid range, calculate if the year is a leap year and return true if it is a leap year, otherwise return false.\r\n\r\n\r\nTo determine whether a year is a leap year, follow these steps:\r\n1. If the year is evenly divisible by 4, go to step\r\n2. Otherwise, go to step 5.2. If the year is evenly divisible by 100, go to step\r\n3. Otherwise, go to step 4.3. If the year is evenly divisible by 400, go to step\r\n4. Otherwise, go to step 5.4. The year is a leap year (it has 366 days). The method isLeapYear needs to return true.\r\n5. The year is not a leap year (it has 365 days). The method isLeapYear needs to return false.\r\n\r\nThe following years are not leap years:\r\n1700, 1800, 1900, 2100, 2200, 2300, 2500, 2600\r\nThis is because they are evenly divisible by 100 but not by 400.\r\n\r\nThe following years are leap years:\r\n1600, 2000, 2400\r\nThis is because they are evenly divisible by both 100 and 400.\r\n\r\nExamples of input/output:\r\n\r\n* isLeapYear(-1600); → should return false since the parameter is not in range (1-9999)\r\n\r\n* isLeapYear(1600); → should return true since 1600 is a leap year\r\n\r\n* isLeapYear(2017); → should return false since 2017 is not a leap year\r\n\r\n* isLeapYear(2000);  → should return true because 2000 is a leap year\r\n\r\nThis is my code:\r\n```\r\npublic static void isLeapYear(int year) {\r\n  boolean result;\r\n  if (year &gt;= 1 &amp;&amp; year &lt;= 9999) {\r\n    System.out.println(result = true);\r\n  } else {\r\n    System.out.println(result = false);\r\n  }\r\n  boolean step;\r\n\r\n  if (year == (year % 4)) {\r\n    if (year == (year % 100)) {\r\n      step = result;\r\n    }\r\n  }\r\n  if (year == (year % 100)) {\r\n    if (year == (year % 400)) {\r\n      step = result;\r\n    }\r\n  }\r\n  if (year == (year % 400)) {\r\n    step = result;\r\n  } else {\r\n    step = result;\r\n  }\r\n}\r\n```","title":"The required output is false, true, false, true. My results are false, true, true, true. Is there something missing in my code?","body":"<p>This is the scenario.</p>\n<p>Write a method isLeapYear with a parameter of type int named year.</p>\n<p>The parameter needs to be greater than or equal to 1 and less than or equal to 9999.</p>\n<p>If the parameter is not in that range return false.</p>\n<p>Otherwise, if it is in the valid range, calculate if the year is a leap year and return true if it is a leap year, otherwise return false.</p>\n<p>To determine whether a year is a leap year, follow these steps:</p>\n<ol>\n<li>If the year is evenly divisible by 4, go to step</li>\n<li>Otherwise, go to step 5.2. If the year is evenly divisible by 100, go to step</li>\n<li>Otherwise, go to step 4.3. If the year is evenly divisible by 400, go to step</li>\n<li>Otherwise, go to step 5.4. The year is a leap year (it has 366 days). The method isLeapYear needs to return true.</li>\n<li>The year is not a leap year (it has 365 days). The method isLeapYear needs to return false.</li>\n</ol>\n<p>The following years are not leap years:\n1700, 1800, 1900, 2100, 2200, 2300, 2500, 2600\nThis is because they are evenly divisible by 100 but not by 400.</p>\n<p>The following years are leap years:\n1600, 2000, 2400\nThis is because they are evenly divisible by both 100 and 400.</p>\n<p>Examples of input/output:</p>\n<ul>\n<li><p>isLeapYear(-1600); → should return false since the parameter is not in range (1-9999)</p>\n</li>\n<li><p>isLeapYear(1600); → should return true since 1600 is a leap year</p>\n</li>\n<li><p>isLeapYear(2017); → should return false since 2017 is not a leap year</p>\n</li>\n<li><p>isLeapYear(2000);  → should return true because 2000 is a leap year</p>\n</li>\n</ul>\n<p>This is my code:</p>\n<pre><code>public static void isLeapYear(int year) {\n  boolean result;\n  if (year &gt;= 1 &amp;&amp; year &lt;= 9999) {\n    System.out.println(result = true);\n  } else {\n    System.out.println(result = false);\n  }\n  boolean step;\n\n  if (year == (year % 4)) {\n    if (year == (year % 100)) {\n      step = result;\n    }\n  }\n  if (year == (year % 100)) {\n    if (year == (year % 400)) {\n      step = result;\n    }\n  }\n  if (year == (year % 400)) {\n    step = result;\n  } else {\n    step = result;\n  }\n}\n</code></pre>\n"},{"tags":["java","spring","oracle","stored-procedures","plsql"],"comments":[{"owner":{"account_id":2928802,"reputation":1845,"user_id":2509595,"accept_rate":38,"display_name":"Tom Bunting"},"score":0,"creation_date":1446544786,"post_id":33427473,"comment_id":54776149,"body_markdown":"were either of the answers below helpful?","body":"were either of the answers below helpful?"}],"answers":[{"tags":[],"owner":{"account_id":5700484,"reputation":402,"user_id":4505616,"accept_rate":79,"display_name":"Albert Pinto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1446172182,"creation_date":1446172182,"answer_id":33427739,"question_id":33427473,"body_markdown":"From the exception that your are getting it seems that \r\n\r\n&gt; java.sql.SQLException: Fail to convert to internal representation:\r\n\r\n there is a datatype mismatch . you may be trying to assign a String value to a field in database which may be defined not a String and as a Integer or something.\r\n\r\nmy suggestion would be to execute the query in you data base, secondly see the field definition and check that you are trying to insert a value of different data type. let me know how it goes cheers!!","title":"Spring Stored Procedure Pass ARRAY","body":"<p>From the exception that your are getting it seems that </p>\n\n<blockquote>\n  <p>java.sql.SQLException: Fail to convert to internal representation:</p>\n</blockquote>\n\n<p>there is a datatype mismatch . you may be trying to assign a String value to a field in database which may be defined not a String and as a Integer or something.</p>\n\n<p>my suggestion would be to execute the query in you data base, secondly see the field definition and check that you are trying to insert a value of different data type. let me know how it goes cheers!!</p>\n"},{"tags":[],"owner":{"account_id":2928802,"reputation":1845,"user_id":2509595,"accept_rate":38,"display_name":"Tom Bunting"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1446211722,"creation_date":1446211722,"answer_id":33437174,"question_id":33427473,"body_markdown":"As there is no &#39;built-in&#39; array type in Oracle (that directly corresponds to Java&#39;s array type at least), there is a few more hoops to jump through to successfully pass Java arrays as parameters to stored procedures.  Here&#39;s how it goes:\r\n\r\n 1. Define a reusable Spring `AbstractSqlTypeValue` that will represent your array-of-strings type:\r\n\r\n&lt;pre&gt;&lt;code&gt;class OracleArrayType extends AbstractSqlTypeValue {\r\n\r\n    private final Connection oracleCon;\r\n    private final Object[] values;\r\n\r\n    public OracleArrayType(final Connection oracleCon, final Object[] values) {\r\n        this.oracleCon = oracleCon;\r\n        this.values = values;\r\n    }\r\n\r\n    @Override\r\n    protected Object createTypeValue(final Connection con, final int sqlType, final String typeName)\r\n            throws SQLException {\r\n        return new ARRAY(ArrayDescriptor.createDescriptor(typeName, oracleCon), oracleCon, values);\r\n    }\r\n}\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\nInstances of this type will need access to a) the native (&#39;unwrapped&#39;) oracle connection (rather than the proxy) and b) the values array being passed in.\r\n\r\n 2. Within your `execute` method you need to obtain the native `Connection` object via `JDBCTemplate`, and crucially ensure that the proxy connection is closed each time.  We found that whilst *normally* Spring&#39;s `JDBCTemplate` would be responsible for ensuring each connection is properly closed and returned to the pool, when the connection is unwrapped this **does not happen** and its therefore necessary to do it yourself, in this case using a `try-with-resources` block, e.g:\r\n\r\n&lt;pre&gt;&lt;code&gt;public int execute(String uid, String title, String itemTitle, String coverDate, String issue, Date sortDate,\r\n        String volume, String pageBegin, String pageEnd, String accessionNo, String issn, String doi,\r\n        String[] doctypes, String[] headings, String[] keywords, String[] organizations, String[] publishers,\r\n        String[] subHeadings, String[] subOrganizations, String[] subjects) {\r\n\r\n    // Ensure proxy connection is closed properly\r\n    try (final Connection connectionWrapper = getJdbcTemplate().getDataSource().getConnection()) {\r\n\r\n        // Obtain native connection\r\n        final Connection oracleConnection =\r\n                getJdbcTemplate().getNativeJdbcExtractor().getNativeConnection(connectionWrapper);\r\n\r\n        AbstractSqlTypeValue docTypeArray = new OracleArrayType(oracleConnection, doctypes);\r\n        AbstractSqlTypeValue headingsArray = new OracleArrayType(oracleConnection, headings);\r\n        AbstractSqlTypeValue keywordsArray = new OracleArrayType(oracleConnection, keywords);\r\n        AbstractSqlTypeValue organizationsArray = new OracleArrayType(oracleConnection, organizations);\r\n        AbstractSqlTypeValue publishersArray = new OracleArrayType(oracleConnection, publishers);\r\n        AbstractSqlTypeValue subHeadingsArray = new OracleArrayType(oracleConnection, subHeadings);\r\n        AbstractSqlTypeValue subOrganizationsArray = new OracleArrayType(oracleConnection, subOrganizations);\r\n        AbstractSqlTypeValue subjectsArray = new OracleArrayType(oracleConnection, subjects);\r\n\r\n        Map&lt;String, Object&gt; results = super.execute(uid, title, itemTitle, coverDate, issue, sortDate, volume,\r\n                pageBegin, pageEnd, accessionNo, issn, doi, docTypeArray, headingsArray, keywordsArray,\r\n                organizationsArray, publishersArray, subHeadingsArray, subOrganizationsArray, subjectsArray);\r\n\r\n        return (int) results.get(&quot;p_id&quot;);\r\n    } catch (SQLException e) {\r\n        throw new DataRetrievalFailureException(e.getMessage()); // or whatever..\r\n    }\r\n}\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\nIt&#39;s a bit tedious and there may be better ways to translate into the custom Oracle array type - but this technique worked well for us.","title":"Spring Stored Procedure Pass ARRAY","body":"<p>As there is no 'built-in' array type in Oracle (that directly corresponds to Java's array type at least), there is a few more hoops to jump through to successfully pass Java arrays as parameters to stored procedures.  Here's how it goes:</p>\n\n<ol>\n<li>Define a reusable Spring <code>AbstractSqlTypeValue</code> that will represent your array-of-strings type:</li>\n</ol>\n\n<pre><code>class OracleArrayType extends AbstractSqlTypeValue {\n\n    private final Connection oracleCon;\n    private final Object[] values;\n\n    public OracleArrayType(final Connection oracleCon, final Object[] values) {\n        this.oracleCon = oracleCon;\n        this.values = values;\n    }\n\n    @Override\n    protected Object createTypeValue(final Connection con, final int sqlType, final String typeName)\n            throws SQLException {\n        return new ARRAY(ArrayDescriptor.createDescriptor(typeName, oracleCon), oracleCon, values);\n    }\n}\n</code></pre>\n\n<p>Instances of this type will need access to a) the native ('unwrapped') oracle connection (rather than the proxy) and b) the values array being passed in.</p>\n\n<ol start=\"2\">\n<li>Within your <code>execute</code> method you need to obtain the native <code>Connection</code> object via <code>JDBCTemplate</code>, and crucially ensure that the proxy connection is closed each time.  We found that whilst <em>normally</em> Spring's <code>JDBCTemplate</code> would be responsible for ensuring each connection is properly closed and returned to the pool, when the connection is unwrapped this <strong>does not happen</strong> and its therefore necessary to do it yourself, in this case using a <code>try-with-resources</code> block, e.g:</li>\n</ol>\n\n<pre><code>public int execute(String uid, String title, String itemTitle, String coverDate, String issue, Date sortDate,\n        String volume, String pageBegin, String pageEnd, String accessionNo, String issn, String doi,\n        String[] doctypes, String[] headings, String[] keywords, String[] organizations, String[] publishers,\n        String[] subHeadings, String[] subOrganizations, String[] subjects) {\n\n    // Ensure proxy connection is closed properly\n    try (final Connection connectionWrapper = getJdbcTemplate().getDataSource().getConnection()) {\n\n        // Obtain native connection\n        final Connection oracleConnection =\n                getJdbcTemplate().getNativeJdbcExtractor().getNativeConnection(connectionWrapper);\n\n        AbstractSqlTypeValue docTypeArray = new OracleArrayType(oracleConnection, doctypes);\n        AbstractSqlTypeValue headingsArray = new OracleArrayType(oracleConnection, headings);\n        AbstractSqlTypeValue keywordsArray = new OracleArrayType(oracleConnection, keywords);\n        AbstractSqlTypeValue organizationsArray = new OracleArrayType(oracleConnection, organizations);\n        AbstractSqlTypeValue publishersArray = new OracleArrayType(oracleConnection, publishers);\n        AbstractSqlTypeValue subHeadingsArray = new OracleArrayType(oracleConnection, subHeadings);\n        AbstractSqlTypeValue subOrganizationsArray = new OracleArrayType(oracleConnection, subOrganizations);\n        AbstractSqlTypeValue subjectsArray = new OracleArrayType(oracleConnection, subjects);\n\n        Map results = super.execute(uid, title, itemTitle, coverDate, issue, sortDate, volume,\n                pageBegin, pageEnd, accessionNo, issn, doi, docTypeArray, headingsArray, keywordsArray,\n                organizationsArray, publishersArray, subHeadingsArray, subOrganizationsArray, subjectsArray);\n\n        return (int) results.get(\"p_id\");\n    } catch (SQLException e) {\n        throw new DataRetrievalFailureException(e.getMessage()); // or whatever..\n    }\n}\n</code></pre>\n\n<p>It's a bit tedious and there may be better ways to translate into the custom Oracle array type - but this technique worked well for us.</p>\n"},{"tags":[],"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695065955,"creation_date":1695065955,"answer_id":77129984,"question_id":33427473,"body_markdown":"The new approach is to unwrap the `OracleConnection` and use `createOracleArray`.\r\n\r\n    OracleConnection oracleConnection = getJdbcTemplate().getDataSource().getConnection().unwrap(OracleConnection.class);\r\n    Array array = oracleConnection.createOracleArray(&quot;REF_TYPE_ARRAY&quot;, referralTypeId);\r\n    \r\n    inputParameters.put(&quot;itemIds&quot;, array); \r\n\r\nAlso see this thread: https://stackoverflow.com/questions/7878735/how-to-create-an-oracle-sql-array-object/76571542#76571542","title":"Spring Stored Procedure Pass ARRAY","body":"<p>The new approach is to unwrap the <code>OracleConnection</code> and use <code>createOracleArray</code>.</p>\n<pre><code>OracleConnection oracleConnection = getJdbcTemplate().getDataSource().getConnection().unwrap(OracleConnection.class);\nArray array = oracleConnection.createOracleArray(&quot;REF_TYPE_ARRAY&quot;, referralTypeId);\n\ninputParameters.put(&quot;itemIds&quot;, array); \n</code></pre>\n<p>Also see this thread: <a href=\"https://stackoverflow.com/questions/7878735/how-to-create-an-oracle-sql-array-object/76571542#76571542\">How to create an oracle.sql.ARRAY object?</a></p>\n"}],"owner":{"account_id":2624730,"reputation":6476,"user_id":2272004,"accept_rate":52,"display_name":"greyfox"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9795,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1695065955,"creation_date":1446168277,"question_id":33427473,"body_markdown":"I&#39;m working on calling a stored procedure from Spring but I need to pass an array of strings to the stored procedure. However thus far I have encountered error after error. Any ideas where things are going wrong?\r\n\r\nI&#39;ve created a custom type in Oracle.\r\n\r\n    create or replace type type_string_array \r\n    AS TABLE OF VARCHAR(255);\r\n\r\nI have the following stored procedure defined. However for the moment I&#39;m just having it iterate through one of the parameters that is an type TABLE OF to ensure the data is actually making it. However I can&#39;t even call the procedure from Java at this point.\r\n\r\n    procedure sp_save_publication(\r\n        p_id out t_tr_publication.id%type,\r\n        p_tr_uid in t_tr_publication.tr_uid%type,\r\n        p_title in t_tr_publication.title%type,\r\n        p_item_title in t_tr_publication.item_title%type,\r\n        p_cover_date in t_tr_publication.cover_date%type,\r\n        p_issue in t_tr_publication.issue%type,\r\n        p_sort_date in t_tr_publication.sort_date%type,\r\n        p_volume in t_tr_publication.volume%type,\r\n        p_page_begin in t_tr_publication.page_begin%type,\r\n        p_page_end in t_tr_publication.page_end%type,\r\n        p_accession_no in t_tr_publication.accession_no%type,\r\n        p_issn in t_tr_publication.issn%type,\r\n        p_doi in t_tr_publication.doi%type,\r\n        p_doctypes in type_string_array,\r\n        p_headings in type_string_array,\r\n        p_keywords in type_string_array,\r\n        p_organizations in type_string_array,\r\n        p_publishers in type_string_array,\r\n        p_sub_headings in type_string_array,\r\n        p_sub_organizations in type_string_array,\r\n        p_subjects in type_string_array\r\n      ) AS\r\n      BEGIN\r\n        \r\n        if p_doctypes.count &gt; 0\r\n        then\r\n        \r\n          for i in p_doctypes.FIRST .. p_doctypes.LAST\r\n          loop\r\n            \r\n            pkg_logger.sp_log_error(\r\n              p_code =&gt; null,\r\n              p_message =&gt; p_doctypes(i),\r\n              p_package_name =&gt; package_name,\r\n              p_procedure_name =&gt; &#39;sp_save_publication&#39;\r\n            );\r\n          \r\n          end loop;\r\n          \r\n        end if;  \r\n        \r\n      END sp_save_publication;\r\n\r\nI am extending Spring&#39;s StoredProcedure class as follows:\r\n\r\n    public class SPSavePublication extends StoredProcedure {\r\n    \r\n        public SPSavePublication(JdbcTemplate jdbcTemplate) {\r\n    \r\n            super(jdbcTemplate,&quot;PKG_THOMSON_REUTER.sp_save_publication&quot;);\r\n            declareParameter(new SqlOutParameter(&quot;p_id&quot;, Types.INTEGER));\r\n            declareParameter(new SqlParameter(&quot;p_tr_uid&quot;,Types.VARCHAR));\r\n            declareParameter(new SqlParameter(&quot;p_title&quot;,Types.VARCHAR));\r\n            declareParameter(new SqlParameter(&quot;p_item_title&quot;,Types.VARCHAR));\r\n            declareParameter(new SqlParameter(&quot;p_cover_date&quot;,Types.VARCHAR));\r\n            declareParameter(new SqlParameter(&quot;p_issue&quot;, Types.VARCHAR));\r\n            declareParameter(new SqlParameter(&quot;p_sort_date&quot;,Types.DATE));\r\n            declareParameter(new SqlParameter(&quot;p_volume&quot;,Types.VARCHAR));\r\n            declareParameter(new SqlParameter(&quot;p_page_begin&quot;,Types.VARCHAR));\r\n            declareParameter(new SqlParameter(&quot;p_page_end&quot;,Types.VARCHAR));\r\n            declareParameter(new SqlParameter(&quot;p_accession_no&quot;,Types.VARCHAR));\r\n            declareParameter(new SqlParameter(&quot;p_issn&quot;,Types.VARCHAR));\r\n            declareParameter(new SqlParameter(&quot;p_doi&quot;,Types.VARCHAR));\r\n            declareParameter(new SqlParameter(&quot;p_doctypes&quot;,Types.ARRAY,&quot;TYPE_STRING_ARRAY&quot;));\r\n            declareParameter(new SqlParameter(&quot;p_headings&quot;,Types.ARRAY,&quot;TYPE_STRING_ARRAY&quot;));\r\n            declareParameter(new SqlParameter(&quot;p_keywords&quot;,Types.ARRAY,&quot;TYPE_STRING_ARRAY&quot;));\r\n            declareParameter(new SqlParameter(&quot;p_organizations&quot;,Types.ARRAY,&quot;TYPE_STRING_ARRAY&quot;));\r\n            declareParameter(new SqlParameter(&quot;p_publishers&quot;,Types.ARRAY,&quot;TYPE_STRING_ARRAY&quot;));\r\n            declareParameter(new SqlParameter(&quot;p_sub_headings&quot;,Types.ARRAY,&quot;TYPE_STRING_ARRAY&quot;));\r\n            declareParameter(new SqlParameter(&quot;p_sub_organizations&quot;,Types.ARRAY,&quot;TYPE_STRING_ARRAY&quot;));\r\n            declareParameter(new SqlParameter(&quot;p_subjects&quot;,Types.ARRAY,&quot;TYPE_STRING_ARRAY&quot;));\r\n            setFunction(false);\r\n            compile();\r\n        }\r\n    \r\n        public long execute(String uid, String title, String itemTitle, String coverDate,\r\n                            String issue, Date sortDate, String volume, String pageBegin,\r\n                            String pageEnd, String accessionNo, String issn, String doi,\r\n                            String[] doctypes, String[] headings, String[] keywords,\r\n                            String[] organizations, String[] publishers, String[] subHeadings,\r\n                            String[] subOrganizations, String[] subjects) {\r\n    \r\n            Map results = super.execute(uid,title,itemTitle,coverDate,issue,sortDate,volume,\r\n                    pageBegin,pageEnd,accessionNo,issn,doi,doctypes,headings,keywords,organizations,\r\n                    publishers,subHeadings,subOrganizations,subjects);\r\n            return (int) results.get(&quot;p_id&quot;);\r\n        }\r\n    }\r\n\r\nI have the following Test I am trying to run.\r\n\r\n    @Test\r\n        public void testSPSavePublication() {\r\n    \r\n            String[] docTypesArray = {&quot;journal&quot;,&quot;doctypes&quot;};\r\n    \r\n            SPSavePublication spSavePublication = new SPSavePublication(jdbcTemplate);\r\n            spSavePublication.execute(null,null,null,null,null,new Date(),null,null,null,null,\r\n                    null,null,docTypesArray,docTypesArray,docTypesArray,docTypesArray,docTypesArray,\r\n                    docTypesArray,docTypesArray,docTypesArray);\r\n        }\r\n\r\nThis is the stacktrace I&#39;m getting.\r\n\r\n    org.springframework.jdbc.UncategorizedSQLException: CallableStatementCallback; uncategorized SQLException for SQL [{call PKG_THOMSON_REUTER.sp_save_publication(?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)}]; SQL state [99999]; error code [17059]; Fail to convert to internal representation: [Ljava.lang.String;@7b10472e; nested exception is java.sql.SQLException: Fail to convert to internal representation: [Ljava.lang.String;@7b10472e\r\n    \tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:84)\r\n    \tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:81)\r\n    \tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:81)\r\n    \tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:1137)\r\n    \tat org.springframework.jdbc.core.JdbcTemplate.call(JdbcTemplate.java:1173)\r\n    \tat org.springframework.jdbc.object.StoredProcedure.execute(StoredProcedure.java:123)\r\n    \tat org.company.app.procedures.thomsonreuter.SPSavePublication.execute(SPSavePublication.java:53)\r\n    \tat org.company.app.ThomsonReutersTests.testSPSavePublication(ThomsonReutersTests.java:41)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n    \tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n    \tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:73)\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:82)\r\n    \tat org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:73)\r\n    \tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:224)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:83)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:68)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:163)\r\n    \tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n    \tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:78)\r\n    \tat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:212)\r\n    \tat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:68)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat com.intellij.rt.execution.application.AppMain.main(AppMain.java:140)\r\n    Caused by: java.sql.SQLException: Fail to convert to internal representation: [Ljava.lang.String;@7b10472e\r\n    \tat oracle.sql.ARRAY.toARRAY(ARRAY.java:244)\r\n    \tat oracle.jdbc.driver.OraclePreparedStatement.setObjectCritical(OraclePreparedStatement.java:10472)\r\n    \tat oracle.jdbc.driver.OraclePreparedStatement.setObjectInternal(OraclePreparedStatement.java:9966)\r\n    \tat oracle.jdbc.driver.OraclePreparedStatement.setObjectInternal(OraclePreparedStatement.java:10590)\r\n    \tat oracle.jdbc.driver.OracleCallableStatement.setObject(OracleCallableStatement.java:6119)\r\n    \tat oracle.jdbc.driver.OraclePreparedStatementWrapper.setObject(OraclePreparedStatementWrapper.java:249)\r\n    \tat com.mchange.v2.c3p0.impl.NewProxyCallableStatement.setObject(NewProxyCallableStatement.java:4025)\r\n    \tat org.springframework.jdbc.core.StatementCreatorUtils.setValue(StatementCreatorUtils.java:432)\r\n    \tat org.springframework.jdbc.core.StatementCreatorUtils.setParameterValueInternal(StatementCreatorUtils.java:235)\r\n    \tat org.springframework.jdbc.core.StatementCreatorUtils.setParameterValue(StatementCreatorUtils.java:150)\r\n    \tat org.springframework.jdbc.core.CallableStatementCreatorFactory$CallableStatementCreatorImpl.createCallableStatement(CallableStatementCreatorFactory.java:213)\r\n    \tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:1115)\r\n    \t... 36 more","title":"Spring Stored Procedure Pass ARRAY","body":"<p>I'm working on calling a stored procedure from Spring but I need to pass an array of strings to the stored procedure. However thus far I have encountered error after error. Any ideas where things are going wrong?</p>\n\n<p>I've created a custom type in Oracle.</p>\n\n<pre><code>create or replace type type_string_array \nAS TABLE OF VARCHAR(255);\n</code></pre>\n\n<p>I have the following stored procedure defined. However for the moment I'm just having it iterate through one of the parameters that is an type TABLE OF to ensure the data is actually making it. However I can't even call the procedure from Java at this point.</p>\n\n<pre><code>procedure sp_save_publication(\n    p_id out t_tr_publication.id%type,\n    p_tr_uid in t_tr_publication.tr_uid%type,\n    p_title in t_tr_publication.title%type,\n    p_item_title in t_tr_publication.item_title%type,\n    p_cover_date in t_tr_publication.cover_date%type,\n    p_issue in t_tr_publication.issue%type,\n    p_sort_date in t_tr_publication.sort_date%type,\n    p_volume in t_tr_publication.volume%type,\n    p_page_begin in t_tr_publication.page_begin%type,\n    p_page_end in t_tr_publication.page_end%type,\n    p_accession_no in t_tr_publication.accession_no%type,\n    p_issn in t_tr_publication.issn%type,\n    p_doi in t_tr_publication.doi%type,\n    p_doctypes in type_string_array,\n    p_headings in type_string_array,\n    p_keywords in type_string_array,\n    p_organizations in type_string_array,\n    p_publishers in type_string_array,\n    p_sub_headings in type_string_array,\n    p_sub_organizations in type_string_array,\n    p_subjects in type_string_array\n  ) AS\n  BEGIN\n\n    if p_doctypes.count &gt; 0\n    then\n\n      for i in p_doctypes.FIRST .. p_doctypes.LAST\n      loop\n\n        pkg_logger.sp_log_error(\n          p_code =&gt; null,\n          p_message =&gt; p_doctypes(i),\n          p_package_name =&gt; package_name,\n          p_procedure_name =&gt; 'sp_save_publication'\n        );\n\n      end loop;\n\n    end if;  \n\n  END sp_save_publication;\n</code></pre>\n\n<p>I am extending Spring's StoredProcedure class as follows:</p>\n\n<pre><code>public class SPSavePublication extends StoredProcedure {\n\n    public SPSavePublication(JdbcTemplate jdbcTemplate) {\n\n        super(jdbcTemplate,\"PKG_THOMSON_REUTER.sp_save_publication\");\n        declareParameter(new SqlOutParameter(\"p_id\", Types.INTEGER));\n        declareParameter(new SqlParameter(\"p_tr_uid\",Types.VARCHAR));\n        declareParameter(new SqlParameter(\"p_title\",Types.VARCHAR));\n        declareParameter(new SqlParameter(\"p_item_title\",Types.VARCHAR));\n        declareParameter(new SqlParameter(\"p_cover_date\",Types.VARCHAR));\n        declareParameter(new SqlParameter(\"p_issue\", Types.VARCHAR));\n        declareParameter(new SqlParameter(\"p_sort_date\",Types.DATE));\n        declareParameter(new SqlParameter(\"p_volume\",Types.VARCHAR));\n        declareParameter(new SqlParameter(\"p_page_begin\",Types.VARCHAR));\n        declareParameter(new SqlParameter(\"p_page_end\",Types.VARCHAR));\n        declareParameter(new SqlParameter(\"p_accession_no\",Types.VARCHAR));\n        declareParameter(new SqlParameter(\"p_issn\",Types.VARCHAR));\n        declareParameter(new SqlParameter(\"p_doi\",Types.VARCHAR));\n        declareParameter(new SqlParameter(\"p_doctypes\",Types.ARRAY,\"TYPE_STRING_ARRAY\"));\n        declareParameter(new SqlParameter(\"p_headings\",Types.ARRAY,\"TYPE_STRING_ARRAY\"));\n        declareParameter(new SqlParameter(\"p_keywords\",Types.ARRAY,\"TYPE_STRING_ARRAY\"));\n        declareParameter(new SqlParameter(\"p_organizations\",Types.ARRAY,\"TYPE_STRING_ARRAY\"));\n        declareParameter(new SqlParameter(\"p_publishers\",Types.ARRAY,\"TYPE_STRING_ARRAY\"));\n        declareParameter(new SqlParameter(\"p_sub_headings\",Types.ARRAY,\"TYPE_STRING_ARRAY\"));\n        declareParameter(new SqlParameter(\"p_sub_organizations\",Types.ARRAY,\"TYPE_STRING_ARRAY\"));\n        declareParameter(new SqlParameter(\"p_subjects\",Types.ARRAY,\"TYPE_STRING_ARRAY\"));\n        setFunction(false);\n        compile();\n    }\n\n    public long execute(String uid, String title, String itemTitle, String coverDate,\n                        String issue, Date sortDate, String volume, String pageBegin,\n                        String pageEnd, String accessionNo, String issn, String doi,\n                        String[] doctypes, String[] headings, String[] keywords,\n                        String[] organizations, String[] publishers, String[] subHeadings,\n                        String[] subOrganizations, String[] subjects) {\n\n        Map results = super.execute(uid,title,itemTitle,coverDate,issue,sortDate,volume,\n                pageBegin,pageEnd,accessionNo,issn,doi,doctypes,headings,keywords,organizations,\n                publishers,subHeadings,subOrganizations,subjects);\n        return (int) results.get(\"p_id\");\n    }\n}\n</code></pre>\n\n<p>I have the following Test I am trying to run.</p>\n\n<pre><code>@Test\n    public void testSPSavePublication() {\n\n        String[] docTypesArray = {\"journal\",\"doctypes\"};\n\n        SPSavePublication spSavePublication = new SPSavePublication(jdbcTemplate);\n        spSavePublication.execute(null,null,null,null,null,new Date(),null,null,null,null,\n                null,null,docTypesArray,docTypesArray,docTypesArray,docTypesArray,docTypesArray,\n                docTypesArray,docTypesArray,docTypesArray);\n    }\n</code></pre>\n\n<p>This is the stacktrace I'm getting.</p>\n\n<pre><code>org.springframework.jdbc.UncategorizedSQLException: CallableStatementCallback; uncategorized SQLException for SQL [{call PKG_THOMSON_REUTER.sp_save_publication(?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)}]; SQL state [99999]; error code [17059]; Fail to convert to internal representation: [Ljava.lang.String;@7b10472e; nested exception is java.sql.SQLException: Fail to convert to internal representation: [Ljava.lang.String;@7b10472e\n    at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:84)\n    at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:81)\n    at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:81)\n    at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:1137)\n    at org.springframework.jdbc.core.JdbcTemplate.call(JdbcTemplate.java:1173)\n    at org.springframework.jdbc.object.StoredProcedure.execute(StoredProcedure.java:123)\n    at org.company.app.procedures.thomsonreuter.SPSavePublication.execute(SPSavePublication.java:53)\n    at org.company.app.ThomsonReutersTests.testSPSavePublication(ThomsonReutersTests.java:41)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:73)\n    at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:82)\n    at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:73)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:224)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:83)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:68)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:163)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:78)\n    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:212)\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:68)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:140)\nCaused by: java.sql.SQLException: Fail to convert to internal representation: [Ljava.lang.String;@7b10472e\n    at oracle.sql.ARRAY.toARRAY(ARRAY.java:244)\n    at oracle.jdbc.driver.OraclePreparedStatement.setObjectCritical(OraclePreparedStatement.java:10472)\n    at oracle.jdbc.driver.OraclePreparedStatement.setObjectInternal(OraclePreparedStatement.java:9966)\n    at oracle.jdbc.driver.OraclePreparedStatement.setObjectInternal(OraclePreparedStatement.java:10590)\n    at oracle.jdbc.driver.OracleCallableStatement.setObject(OracleCallableStatement.java:6119)\n    at oracle.jdbc.driver.OraclePreparedStatementWrapper.setObject(OraclePreparedStatementWrapper.java:249)\n    at com.mchange.v2.c3p0.impl.NewProxyCallableStatement.setObject(NewProxyCallableStatement.java:4025)\n    at org.springframework.jdbc.core.StatementCreatorUtils.setValue(StatementCreatorUtils.java:432)\n    at org.springframework.jdbc.core.StatementCreatorUtils.setParameterValueInternal(StatementCreatorUtils.java:235)\n    at org.springframework.jdbc.core.StatementCreatorUtils.setParameterValue(StatementCreatorUtils.java:150)\n    at org.springframework.jdbc.core.CallableStatementCreatorFactory$CallableStatementCreatorImpl.createCallableStatement(CallableStatementCreatorFactory.java:213)\n    at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:1115)\n    ... 36 more\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1695064212,"post_id":77129760,"comment_id":135971541,"body_markdown":"If you will have something like this for integration test a specific `@Profile(“test”)`  also 2 security configuration one for test(where you will disable csrf) and another as usually with csrf enabled. I think it is a good way to do it.","body":"If you will have something like this for integration test a specific <code>@Profile(“test”)</code>  also 2 security configuration one for test(where you will disable csrf) and another as usually with csrf enabled. I think it is a good way to do it."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1695064395,"post_id":77129760,"comment_id":135971572,"body_markdown":"Can you show your tests? Can&#39;t you add CSRF tokens to the test? You could also try defining an additional `SecurityFilterChain` for tests.","body":"Can you show your tests? Can&#39;t you add CSRF tokens to the test? You could also try defining an additional <code>SecurityFilterChain</code> for tests."},{"owner":{"account_id":18973871,"reputation":55,"user_id":13846778,"display_name":"jessica96"},"score":0,"creation_date":1695065040,"post_id":77129760,"comment_id":135971665,"body_markdown":"I was really hoping I could define a single SecurityFilterChain, and override it somehow (i.e. with a @TestConfiguration). I&#39;ve added a test now @dan1st.","body":"I was really hoping I could define a single SecurityFilterChain, and override it somehow (i.e. with a @TestConfiguration). I&#39;ve added a test now @dan1st."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1695065231,"post_id":77129760,"comment_id":135971691,"body_markdown":"What stops you from using `.with(csrf())` in the test and why do you not like adding a second `SecurityFilterChain`?","body":"What stops you from using <code>.with(csrf())</code> in the test and why do you not like adding a second <code>SecurityFilterChain</code>?"},{"owner":{"account_id":18973871,"reputation":55,"user_id":13846778,"display_name":"jessica96"},"score":0,"creation_date":1695065645,"post_id":77129760,"comment_id":135971774,"body_markdown":"Thanks @dan1st, using `.with(csrf())` solved the problem","body":"Thanks @dan1st, using <code>.with(csrf())</code> solved the problem"}],"answers":[{"tags":[],"owner":{"account_id":18973871,"reputation":55,"user_id":13846778,"display_name":"jessica96"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695065950,"creation_date":1695065950,"answer_id":77129982,"question_id":77129760,"body_markdown":"It was solved by adding `.with(csrf())` to the tests instead of disabling csrf for the tests.","title":"How to disable CSRF in Spring Boot 3 only for tests","body":"<p>It was solved by adding <code>.with(csrf())</code> to the tests instead of disabling csrf for the tests.</p>\n"}],"owner":{"account_id":18973871,"reputation":55,"user_id":13846778,"display_name":"jessica96"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77129982,"answer_count":1,"score":0,"last_activity_date":1695065950,"creation_date":1695063357,"question_id":77129760,"body_markdown":"I&#39;m writing tests for an application using Spring Boot 3.1.2. The application has csrf enabled, but the authorization in the tests fails when csrf is turned on, therefore I want to turn it off for the tests only. \r\n\r\nMy security config currently looks like this:\r\n\r\n    @Bean\r\n    protected SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n            .authorizeHttpRequests(auth -&gt; auth\r\n                .requestMatchers(openUrls).permitAll()\r\n                .anyRequest().hasAuthority(applicationRoleKey))\r\n            .oauth2ResourceServer(oauth -&gt; oauth\r\n                .jwt(jwt -&gt; jwt.jwtAuthenticationConverter(jwtAuthenticationConverter())));\r\n        return http.build();\r\n    }\r\n\r\nA sample test that is failing (get 406 instead of 400):\r\n\r\n```\r\n@Test\r\n@WithMockUser(authorities = &quot;user=admin&quot;)\r\nvoid asAdmin_canGetPhoto() throws Exception {\r\n  mockMvc.perform(MockMvcRequestBuilders.get(&quot;/photo&quot;)).andExpect(status().isOk());\r\n}\r\n```\r\n\r\nWhat&#39;s the recommended way to disable CSRF only for tests? I can only find solutions using outdated versions of Spring Security.\r\n\r\nThanks for any guidance!\r\n\r\nEDIT: Solved by adding `.with(csrf())` to the tests.","title":"How to disable CSRF in Spring Boot 3 only for tests","body":"<p>I'm writing tests for an application using Spring Boot 3.1.2. The application has csrf enabled, but the authorization in the tests fails when csrf is turned on, therefore I want to turn it off for the tests only.</p>\n<p>My security config currently looks like this:</p>\n<pre><code>@Bean\nprotected SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http\n        .authorizeHttpRequests(auth -&gt; auth\n            .requestMatchers(openUrls).permitAll()\n            .anyRequest().hasAuthority(applicationRoleKey))\n        .oauth2ResourceServer(oauth -&gt; oauth\n            .jwt(jwt -&gt; jwt.jwtAuthenticationConverter(jwtAuthenticationConverter())));\n    return http.build();\n}\n</code></pre>\n<p>A sample test that is failing (get 406 instead of 400):</p>\n<pre><code>@Test\n@WithMockUser(authorities = &quot;user=admin&quot;)\nvoid asAdmin_canGetPhoto() throws Exception {\n  mockMvc.perform(MockMvcRequestBuilders.get(&quot;/photo&quot;)).andExpect(status().isOk());\n}\n</code></pre>\n<p>What's the recommended way to disable CSRF only for tests? I can only find solutions using outdated versions of Spring Security.</p>\n<p>Thanks for any guidance!</p>\n<p>EDIT: Solved by adding <code>.with(csrf())</code> to the tests.</p>\n"},{"tags":["java","function","enums","warnings","visibility"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1695026694,"post_id":77125667,"comment_id":135964048,"body_markdown":"Make `enum Shape` `public`, or `warn` not `public`.","body":"Make <code>enum Shape</code> <code>public</code>, or <code>warn</code> not <code>public</code>."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1695026694,"post_id":77125667,"comment_id":135964049,"body_markdown":"Make `Shape` public, or make `warn` package-private (or private).","body":"Make <code>Shape</code> public, or make <code>warn</code> package-private (or private)."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1695027040,"post_id":77125667,"comment_id":135964100,"body_markdown":"You&#39;ve learned something important, when a static analysis tool like IntelliJ (or SonarQube) suggests something, it might remove the warning, but in a really stupid way.","body":"You&#39;ve learned something important, when a static analysis tool like IntelliJ (or SonarQube) suggests something, it might remove the warning, but in a really stupid way."}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1695028241,"creation_date":1695027216,"answer_id":77125737,"question_id":77125667,"body_markdown":"Why is there a warning `Class &#39;Shape&#39; is exposed outside its defined visibility scope`?\r\n\r\nBecause the `enum` `AreaCalculator.Shape` is only visible to classes in the same package, but the method `public static void warn(Shape shape)` is visible to any class.\r\n\r\nSo if we write a class:\r\n```\r\npackage a;\r\n\r\nimport b.AreaCalculator;\r\n\r\npublic class AreaCalculatorClient {\r\n    public static void main(String[] args) {\r\n        AreaCalculator.warn(AreaCalculator.Shape.CIRCLE);\r\n    }\r\n}\r\n```\r\nIt will fail to compile, because `&#39;b.AreaCalculator.Shape&#39; is not public in &#39;b.AreaCalculator&#39;. Cannot be accessed from outside package`.\r\n\r\nThe fix is to with make `Shape` public or `warn` package-private, depending on your intent.\r\n\r\nThe fix suggested by IntelliJ IDEA is something you might do if you&#39;re convinced that you&#39;ve chosen the correct visibility for `Shape`, and yet you want to call something like the `warn` method from arbitrary classes.","title":"How can i fix warning that Class &#39;Shape&#39; is exposed outside its defined visibility scope? (JAVA 17)","body":"<p>Why is there a warning <code>Class 'Shape' is exposed outside its defined visibility scope</code>?</p>\n<p>Because the <code>enum</code> <code>AreaCalculator.Shape</code> is only visible to classes in the same package, but the method <code>public static void warn(Shape shape)</code> is visible to any class.</p>\n<p>So if we write a class:</p>\n<pre><code>package a;\n\nimport b.AreaCalculator;\n\npublic class AreaCalculatorClient {\n    public static void main(String[] args) {\n        AreaCalculator.warn(AreaCalculator.Shape.CIRCLE);\n    }\n}\n</code></pre>\n<p>It will fail to compile, because <code>'b.AreaCalculator.Shape' is not public in 'b.AreaCalculator'. Cannot be accessed from outside package</code>.</p>\n<p>The fix is to with make <code>Shape</code> public or <code>warn</code> package-private, depending on your intent.</p>\n<p>The fix suggested by IntelliJ IDEA is something you might do if you're convinced that you've chosen the correct visibility for <code>Shape</code>, and yet you want to call something like the <code>warn</code> method from arbitrary classes.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695065911,"creation_date":1695065911,"answer_id":77129981,"question_id":77125667,"body_markdown":"&gt; _&quot;... I made function &#39;warn&#39; in line 17 whose parameter is enum Shape. Why warning about visibility scope and how can I fix it? ...&quot;_\r\n\r\nI&#39;m not receiving any warning here, the code compiles.\\\r\nIf I enter any of the values I get an infinite loop.\r\n\r\nTo resolve this, assign _str_ upon each _while-loop_ iteration.\r\n\r\n```java\r\nString str;\r\n\r\nwhile (!(str = scanner.nextLine()).equals(&quot;quit&quot;)){\r\n    str = str.toUpperCase();\r\n    warn(Shape.valueOf(str));\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nTRIANGLE\r\nTRIANGLE\r\nRECTANGLE\r\nRECTANGLE\r\nCIRCLE\r\nCIRCLE\r\nquit\r\n```","title":"How can i fix warning that Class &#39;Shape&#39; is exposed outside its defined visibility scope? (JAVA 17)","body":"<blockquote>\n<p><em>&quot;... I made function 'warn' in line 17 whose parameter is enum Shape. Why warning about visibility scope and how can I fix it? ...&quot;</em></p>\n</blockquote>\n<p>I'm not receiving any warning here, the code compiles.<br />\nIf I enter any of the values I get an infinite loop.</p>\n<p>To resolve this, assign <em>str</em> upon each <em>while-loop</em> iteration.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String str;\n\nwhile (!(str = scanner.nextLine()).equals(&quot;quit&quot;)){\n    str = str.toUpperCase();\n    warn(Shape.valueOf(str));\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>TRIANGLE\nTRIANGLE\nRECTANGLE\nRECTANGLE\nCIRCLE\nCIRCLE\nquit\n</code></pre>\n"}],"owner":{"account_id":29470781,"reputation":73,"user_id":22583436,"display_name":"hong"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4220,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"accepted_answer_id":77125737,"answer_count":2,"score":6,"last_activity_date":1695065911,"creation_date":1695026580,"question_id":77125667,"body_markdown":"I made function &#39;warn&#39; in line 17 whose parameter is enum Shape. \r\nWhy warning about visibility scope and how can I fix it?\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class AreaCalculator {\r\n\r\n    enum Shape {TRIANGLE, RECTANGLE, CIRCLE}\r\n    static Scanner scanner = new Scanner(System.in);\r\n\r\n    public static void main(String[] args) {\r\n        String str = scanner.next();\r\n\r\n        while (!str.equals(&quot;quit&quot;)){\r\n            str = str.toUpperCase();\r\n            warn(Shape.valueOf(str));\r\n        }\r\n    }\r\n\r\n    public static void warn(Shape shape) { //warning\r\n\r\n    }\r\n```\r\n\r\n\r\nIntellij recommend generate overloaded method with default parameter values like following code.\r\n```\r\npublic static void warn(){\r\n    warn(null);\r\n}\r\n```\r\nBut I think it doesn&#39;t look intuitive.\r\n","title":"How can i fix warning that Class &#39;Shape&#39; is exposed outside its defined visibility scope? (JAVA 17)","body":"<p>I made function 'warn' in line 17 whose parameter is enum Shape.\nWhy warning about visibility scope and how can I fix it?</p>\n<pre><code>import java.util.Scanner;\n\npublic class AreaCalculator {\n\n    enum Shape {TRIANGLE, RECTANGLE, CIRCLE}\n    static Scanner scanner = new Scanner(System.in);\n\n    public static void main(String[] args) {\n        String str = scanner.next();\n\n        while (!str.equals(&quot;quit&quot;)){\n            str = str.toUpperCase();\n            warn(Shape.valueOf(str));\n        }\n    }\n\n    public static void warn(Shape shape) { //warning\n\n    }\n</code></pre>\n<p>Intellij recommend generate overloaded method with default parameter values like following code.</p>\n<pre><code>public static void warn(){\n    warn(null);\n}\n</code></pre>\n<p>But I think it doesn't look intuitive.</p>\n"},{"tags":["java","oracle","stored-procedures"],"answers":[{"tags":[],"owner":{"account_id":112570,"reputation":3501,"user_id":296884,"display_name":"Marcin Wroblewski"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1299275482,"creation_date":1299274079,"answer_id":5199475,"question_id":5198856,"body_markdown":"Look here:\r\nhttp://download.oracle.com/docs/cd/B19306_01/java.102/b14355/oraarr.htm#i1058512\r\n\r\nand here is my short example:\r\n\r\n1) on database\r\n\r\n    SQL&gt; create or replace type string_array as table of varchar2(100);\r\n      2  /\r\n    \r\n    Type created.\r\n    \r\n    SQL&gt; create or replace function to_string(p_array in string_array) return varchar2\r\n      2  as\r\n      3     l_string varchar2(32767);\r\n      4     i binary_integer;\r\n      5  begin\r\n      6     i := p_array.first();\r\n      7     while i is not null loop\r\n      8        l_string := l_string || p_array(i) || &#39;;&#39;;\r\n      9        i := p_array.next(i);\r\n     10     end loop;\r\n     11     l_string := rtrim(l_string, &#39;;&#39;);\r\n     12     return l_string;\r\n     13  end;\r\n     14  /\r\n    \r\n    Function created.\r\n\r\n2) in java\r\n\r\n    public class ArrayTest {\r\n    \tpublic static void main(String[] args) throws SQLException {\r\n    \t\tDriverManager.registerDriver(new OracleDriver());\r\n    \t\tOracleConnection connection = (OracleConnection) DriverManager.getConnection(...);\r\n    \t\t\r\n    \t\tString[] elements = {&quot;abc&quot;, &quot;def&quot;, &quot;geh&quot;};\r\n    \t\tArrayDescriptor descriptor = ArrayDescriptor.createDescriptor(&quot;STRING_ARRAY&quot;, connection);\r\n    \t\tARRAY array = new ARRAY(descriptor, connection, elements);\r\n    \t\t\r\n    \t\tOracleCallableStatement stmt = (OracleCallableStatement) connection.prepareCall(&quot;{? = call to_string(?)}&quot;);\r\n    \t\tstmt.registerOutParameter(1, Types.VARCHAR);\r\n    \t\tstmt.setARRAY(2, array);\r\n    \t\tstmt.execute();\r\n    \t\t\r\n    \t\tString result = stmt.getString(1);\r\n    \t\tSystem.out.println(&quot;to_string returned: &quot; + result);\r\n    \t}\r\n    }\r\n\r\nseems to work: output says\r\n\r\n    to_string returned: abc;def;geh","title":"pass array to oracle procedure","body":"<p>Look here:\n<a href=\"http://download.oracle.com/docs/cd/B19306_01/java.102/b14355/oraarr.htm#i1058512\" rel=\"nofollow\">http://download.oracle.com/docs/cd/B19306_01/java.102/b14355/oraarr.htm#i1058512</a></p>\n\n<p>and here is my short example:</p>\n\n<p>1) on database</p>\n\n<pre><code>SQL&gt; create or replace type string_array as table of varchar2(100);\n  2  /\n\nType created.\n\nSQL&gt; create or replace function to_string(p_array in string_array) return varchar2\n  2  as\n  3     l_string varchar2(32767);\n  4     i binary_integer;\n  5  begin\n  6     i := p_array.first();\n  7     while i is not null loop\n  8        l_string := l_string || p_array(i) || ';';\n  9        i := p_array.next(i);\n 10     end loop;\n 11     l_string := rtrim(l_string, ';');\n 12     return l_string;\n 13  end;\n 14  /\n\nFunction created.\n</code></pre>\n\n<p>2) in java</p>\n\n<pre><code>public class ArrayTest {\n    public static void main(String[] args) throws SQLException {\n        DriverManager.registerDriver(new OracleDriver());\n        OracleConnection connection = (OracleConnection) DriverManager.getConnection(...);\n\n        String[] elements = {\"abc\", \"def\", \"geh\"};\n        ArrayDescriptor descriptor = ArrayDescriptor.createDescriptor(\"STRING_ARRAY\", connection);\n        ARRAY array = new ARRAY(descriptor, connection, elements);\n\n        OracleCallableStatement stmt = (OracleCallableStatement) connection.prepareCall(\"{? = call to_string(?)}\");\n        stmt.registerOutParameter(1, Types.VARCHAR);\n        stmt.setARRAY(2, array);\n        stmt.execute();\n\n        String result = stmt.getString(1);\n        System.out.println(\"to_string returned: \" + result);\n    }\n}\n</code></pre>\n\n<p>seems to work: output says</p>\n\n<pre><code>to_string returned: abc;def;geh\n</code></pre>\n"},{"tags":[],"owner":{"account_id":95417,"reputation":4933,"user_id":259889,"accept_rate":76,"display_name":"Sid"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1299274683,"creation_date":1299274683,"answer_id":5199558,"question_id":5198856,"body_markdown":"You can use Oracle Types to map Java objects to Oracle.  Also, there&#39;s Spring JDBC utilities.","title":"pass array to oracle procedure","body":"<p>You can use Oracle Types to map Java objects to Oracle.  Also, there's Spring JDBC utilities.</p>\n"},{"tags":[],"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1299275124,"creation_date":1299275124,"answer_id":5199629,"question_id":5198856,"body_markdown":"Here&#39;s an example of how to do it.\r\n\r\nThe following script sets up a table, a type and a stored procedure in the database.  The procedure takes a parameter of the array type and inserts each row of the array into the table:\r\n\r\n    CREATE TABLE strings (s VARCHAR(4000));\r\n    \r\n    CREATE TYPE t_varchar2_array AS TABLE OF VARCHAR2(4000);\r\n    /\r\n    \r\n    CREATE OR REPLACE PROCEDURE p_array_test(\r\n        p_strings      t_varchar2_array\r\n    )\r\n    AS\r\n    BEGIN\r\n      FOR i IN 1..p_strings.COUNT\r\n      LOOP\r\n        INSERT INTO strings (s) VALUES (p_strings(i));\r\n      END LOOP;\r\n    END;\r\n    /\r\n\r\nThe Java code then demonstrates passing an array into this stored procedure:\r\n\r\n    import java.sql.*;\r\n    import oracle.jdbc.*;\r\n    import oracle.sql.*;\r\n    \r\n    public class ArrayTest {\r\n        public static void main(String[] args) throws Exception {\r\n            DriverManager.registerDriver(new OracleDriver());\r\n            Connection conn = DriverManager.getConnection(\r\n                &quot;jdbc:oracle:thin:@localhost:1521:xe&quot;, &quot;user&quot;, &quot;pass&quot;);\r\n\r\n            CallableStatement stmt = conn.prepareCall(&quot;BEGIN p_array_test(?); END;&quot;);\r\n\r\n            // The first parameter here should be the name of the array type.\r\n            // It&#39;s been capitalised here since I created it without using\r\n            // double quotes.\r\n            ArrayDescriptor arrDesc =\r\n                ArrayDescriptor.createDescriptor(&quot;T_VARCHAR2_ARRAY&quot;, conn);\r\n\r\n            String[] data = { &quot;one&quot;, &quot;two&quot;, &quot;three&quot; };\r\n            Array array = new ARRAY(arrDesc, conn, data);\r\n            stmt.setArray(1, array);\r\n            stmt.execute();\r\n\r\n            conn.commit();\r\n            conn.close();\r\n        }\r\n    }\r\n\r\nIf you run the SQL script and then the Java class, and then query the table `strings`, you should find that all of the data has been inserted into the table.\r\n\r\nWhen you say &#39;an array of chars&#39;,  I&#39;m guessing that you mean an array of Java `char`s.  If I&#39;ve guessed right, then I think you&#39;d be best off converting the `char`s to `String`s and then using the same approach as above.","title":"pass array to oracle procedure","body":"<p>Here's an example of how to do it.</p>\n\n<p>The following script sets up a table, a type and a stored procedure in the database.  The procedure takes a parameter of the array type and inserts each row of the array into the table:</p>\n\n<pre><code>CREATE TABLE strings (s VARCHAR(4000));\n\nCREATE TYPE t_varchar2_array AS TABLE OF VARCHAR2(4000);\n/\n\nCREATE OR REPLACE PROCEDURE p_array_test(\n    p_strings      t_varchar2_array\n)\nAS\nBEGIN\n  FOR i IN 1..p_strings.COUNT\n  LOOP\n    INSERT INTO strings (s) VALUES (p_strings(i));\n  END LOOP;\nEND;\n/\n</code></pre>\n\n<p>The Java code then demonstrates passing an array into this stored procedure:</p>\n\n<pre><code>import java.sql.*;\nimport oracle.jdbc.*;\nimport oracle.sql.*;\n\npublic class ArrayTest {\n    public static void main(String[] args) throws Exception {\n        DriverManager.registerDriver(new OracleDriver());\n        Connection conn = DriverManager.getConnection(\n            \"jdbc:oracle:thin:@localhost:1521:xe\", \"user\", \"pass\");\n\n        CallableStatement stmt = conn.prepareCall(\"BEGIN p_array_test(?); END;\");\n\n        // The first parameter here should be the name of the array type.\n        // It's been capitalised here since I created it without using\n        // double quotes.\n        ArrayDescriptor arrDesc =\n            ArrayDescriptor.createDescriptor(\"T_VARCHAR2_ARRAY\", conn);\n\n        String[] data = { \"one\", \"two\", \"three\" };\n        Array array = new ARRAY(arrDesc, conn, data);\n        stmt.setArray(1, array);\n        stmt.execute();\n\n        conn.commit();\n        conn.close();\n    }\n}\n</code></pre>\n\n<p>If you run the SQL script and then the Java class, and then query the table <code>strings</code>, you should find that all of the data has been inserted into the table.</p>\n\n<p>When you say 'an array of chars',  I'm guessing that you mean an array of Java <code>char</code>s.  If I've guessed right, then I think you'd be best off converting the <code>char</code>s to <code>String</code>s and then using the same approach as above.</p>\n"},{"tags":[],"owner":{"display_name":"user330606"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1346677994,"creation_date":1346677994,"answer_id":12248609,"question_id":5198856,"body_markdown":"Regex solve\r\n\r\n    select * from table_a  a where a.col in (select   regexp_substr(&#39;SMITH,ALLEN,WARD,JONES&#39;,&#39;[^,]+&#39;, 1, level) from dual\r\n    connect by regexp_substr(&#39;SMITH,ALLEN,WARD,JONES&#39;, &#39;[^,]+&#39;, 1, level) is not null;)","title":"pass array to oracle procedure","body":"<p>Regex solve</p>\n\n<pre><code>select * from table_a  a where a.col in (select   regexp_substr('SMITH,ALLEN,WARD,JONES','[^,]+', 1, level) from dual\nconnect by regexp_substr('SMITH,ALLEN,WARD,JONES', '[^,]+', 1, level) is not null;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2563622,"reputation":39,"user_id":2224242,"display_name":"waseq"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1470211575,"creation_date":1470211575,"answer_id":38737870,"question_id":5198856,"body_markdown":"Since `ArrayDescriptor` is deprecated since 12c, it should not be used anymore.\r\nHere&#39;s a code sniplet that worked for me in 12c:\r\n\r\n                Array array = ((OracleConnection) connection).createOracleArray(&quot;T_VARCHAR2_ARRAY&quot;, data);\r\n                CallableStatement statement = connection.prepareCall(&quot;{call p_array_test(?)}&quot;);\r\n                statement.setArray(1, array);\r\n                statement.execute();","title":"pass array to oracle procedure","body":"<p>Since <code>ArrayDescriptor</code> is deprecated since 12c, it should not be used anymore.\nHere's a code sniplet that worked for me in 12c:</p>\n\n<pre><code>            Array array = ((OracleConnection) connection).createOracleArray(\"T_VARCHAR2_ARRAY\", data);\n            CallableStatement statement = connection.prepareCall(\"{call p_array_test(?)}\");\n            statement.setArray(1, array);\n            statement.execute();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9944537,"reputation":1090,"user_id":7359806,"accept_rate":60,"display_name":"Yogesh Sanchihar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524659211,"creation_date":1524659211,"answer_id":50022348,"question_id":5198856,"body_markdown":"PeudoCode for the same how I achieved.\r\n\r\n        # 1.You will require a structDescriptor object for an object equivalent in pl sql like :\r\n\r\n        StructDescriptor structDes= new StructDescriptor(&quot;&lt;schemaname in caps&gt;.&lt;sql_object_name&gt;&quot;, connectionObject);\r\n        \r\n        # 2. You will need to pass one object values such name, class, id to an object array in order and accordance to &#39;sql_object_name&#39; object. \r\n        \r\n        For exmaple:\r\n        STRUCT[] structArray=new STRUCT[&lt;ListObj&gt;.size()];\r\n        int index=0;\r\n        for (a in ListObj){\r\n\r\n        Object[] object=new Object[]{a.getName(),a.getId()};\r\n        STRUCT struct=new STRUCT(structDes ,connectionObject,object);\r\n                   structArray[index]=struct;\r\n                   index++;\r\n\r\n        }\r\n\r\n        ArrayDescriptor arrayDes=ArrayDescriptor.createDescriptor(\r\n\t\t\t&quot;&lt;Schema name&gt;.&lt;table object from sql&gt;&quot;, connectionObject);\r\n\r\n        ARRAY array=new ARRAY(arrayDes,connectionObject, structArray);\r\n\r\n       then pass it to proc \r\n\r\n       .declareParameters(\r\n       new SqlInOutParameter(&quot;&lt;parameter to proc name&gt;&quot;,OracleTypes.ARRAY,&quot;\r\n       &lt;schema name&gt;.&lt;sql_array_or_table_obj&gt;&quot;))\r\n       \r\n       like \r\n       Hashmap&lt;String, Object&gt; map= new HashMap&lt;&gt;();\r\n       map.put(&quot;&lt;parameter to proc name&gt;&quot;,array);\r\n       psStatement.execute(map);\r\n       \r\nHope it helps. This sequence may vary as per requirement and type of sql database used, but base is same.\r\n\r\nI have copied this answer from one of my other answers.\r\n\r\nhttps://stackoverflow.com/questions/26655331/pass-array-as-input-parameter-to-an-oracle-stored-procedure-using-simple-jdbc-ca/49854059#49854059","title":"pass array to oracle procedure","body":"<p>PeudoCode for the same how I achieved.</p>\n\n<pre><code>    # 1.You will require a structDescriptor object for an object equivalent in pl sql like :\n\n    StructDescriptor structDes= new StructDescriptor(\"&lt;schemaname in caps&gt;.&lt;sql_object_name&gt;\", connectionObject);\n\n    # 2. You will need to pass one object values such name, class, id to an object array in order and accordance to 'sql_object_name' object. \n\n    For exmaple:\n    STRUCT[] structArray=new STRUCT[&lt;ListObj&gt;.size()];\n    int index=0;\n    for (a in ListObj){\n\n    Object[] object=new Object[]{a.getName(),a.getId()};\n    STRUCT struct=new STRUCT(structDes ,connectionObject,object);\n               structArray[index]=struct;\n               index++;\n\n    }\n\n    ArrayDescriptor arrayDes=ArrayDescriptor.createDescriptor(\n        \"&lt;Schema name&gt;.&lt;table object from sql&gt;\", connectionObject);\n\n    ARRAY array=new ARRAY(arrayDes,connectionObject, structArray);\n\n   then pass it to proc \n\n   .declareParameters(\n   new SqlInOutParameter(\"&lt;parameter to proc name&gt;\",OracleTypes.ARRAY,\"\n   &lt;schema name&gt;.&lt;sql_array_or_table_obj&gt;\"))\n\n   like \n   Hashmap&lt;String, Object&gt; map= new HashMap&lt;&gt;();\n   map.put(\"&lt;parameter to proc name&gt;\",array);\n   psStatement.execute(map);\n</code></pre>\n\n<p>Hope it helps. This sequence may vary as per requirement and type of sql database used, but base is same.</p>\n\n<p>I have copied this answer from one of my other answers.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/26655331/pass-array-as-input-parameter-to-an-oracle-stored-procedure-using-simple-jdbc-ca/49854059#49854059\">Pass array as input parameter to an oracle stored procedure using simple jdbc call</a></p>\n"},{"tags":[],"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695065887,"creation_date":1695065887,"answer_id":77129977,"question_id":5198856,"body_markdown":"The new approach is to unwrap the `OracleConnection` and then use `createOracleArray`.\r\n\r\n    OracleConnection oracleConnection = getJdbcTemplate().getDataSource().getConnection().unwrap(OracleConnection.class);\r\n    Array array = oracleConnection.createOracleArray(&quot;REF_TYPE_ARRAY&quot;, referralTypeId);\r\n    \r\n    inputParameters.put(&quot;itemIds&quot;, array); \r\n\r\nAlso see: https://stackoverflow.com/questions/7878735/how-to-create-an-oracle-sql-array-object/76571542#76571542","title":"pass array to oracle procedure","body":"<p>The new approach is to unwrap the <code>OracleConnection</code> and then use <code>createOracleArray</code>.</p>\n<pre><code>OracleConnection oracleConnection = getJdbcTemplate().getDataSource().getConnection().unwrap(OracleConnection.class);\nArray array = oracleConnection.createOracleArray(&quot;REF_TYPE_ARRAY&quot;, referralTypeId);\n\ninputParameters.put(&quot;itemIds&quot;, array); \n</code></pre>\n<p>Also see: <a href=\"https://stackoverflow.com/questions/7878735/how-to-create-an-oracle-sql-array-object/76571542#76571542\">How to create an oracle.sql.ARRAY object?</a></p>\n"}],"owner":{"account_id":115601,"reputation":9598,"user_id":2067571,"accept_rate":74,"display_name":"palAlaa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55046,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":5199629,"answer_count":7,"score":16,"last_activity_date":1695065887,"creation_date":1299270170,"question_id":5198856,"body_markdown":"I want to send two arrays form java to oracle stored procedures.\r\nThe first Array is array of strings and the second is array of chars \r\nhow can I make this??","title":"pass array to oracle procedure","body":"<p>I want to send two arrays form java to oracle stored procedures.\nThe first Array is array of strings and the second is array of chars \nhow can I make this??</p>\n"},{"tags":["java","oracle","stored-procedures","jdbc","oracle11g"],"comments":[{"owner":{"account_id":3963224,"reputation":9906,"user_id":3269852,"display_name":"Sanjeev"},"score":0,"creation_date":1465975907,"post_id":37720298,"comment_id":63119937,"body_markdown":"Please explain your problem statement by giving an example.. its not clear in current form.","body":"Please explain your problem statement by giving an example.. its not clear in current form."},{"owner":{"account_id":295230,"reputation":14501,"user_id":599528,"accept_rate":95,"display_name":"Jacob"},"score":0,"creation_date":1466015963,"post_id":37720298,"comment_id":63147063,"body_markdown":"@Sanjeev Would like to use LIst collection and pass List as argument and pass to callProc method and convert List collection to an array so that it can be passed to database procedure.","body":"@Sanjeev Would like to use LIst collection and pass List as argument and pass to callProc method and convert List collection to an array so that it can be passed to database procedure."}],"answers":[{"tags":[],"owner":{"account_id":7926603,"reputation":166,"user_id":5985874,"display_name":"Colin Shah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465902465,"creation_date":1465902465,"answer_id":37810275,"question_id":37720298,"body_markdown":"this may help : \r\n\r\n    import java.math.BigDecimal;\r\n    import java.sql.CallableStatement;\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.Types;\r\n    import oracle.jdbc.OracleCallableStatement;\r\n    import oracle.jdbc.internal.OracleTypes;\r\n    import oracle.sql.ARRAY;\r\n    import oracle.sql.ArrayDescriptor; \r\n    \r\n    public class TestSP{\r\n    \tpublic static void arrayDataToSP()\r\n    \t{\r\n    \t\ttry{\r\n    \t\t\tClass.forName(&quot;oracle.jdbc.OracleDriver&quot;);\r\n    \t\t\t\r\n    \t\t\tConnection con = DriverManager.getConnection(&quot;jdbc:oracle:thin:url &quot;,&quot;[user]&quot;,&quot;[password]&quot;);\r\n    \t\t\t\r\n    \t\t\tString alphabets[] = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;,&quot;d&quot;,&quot;e&quot;,&quot;f&quot;,&quot;g&quot;}; \r\n    \t\t\t\r\n    \t\t\t//use ARRAY_TABLE as ArrayDescriptor \r\n    \t\t\tArrayDescriptor des = ArrayDescriptor.createDescriptor(&quot;SchemaName.ARRAY_TABLE&quot;, con);\r\n    \t\t\t\r\n    \t\t\tARRAY array_to_pass = new ARRAY(des,con,alphabets);\r\n    \t\t\t\r\n    \t\t\tCallableStatement cst = con.prepareCall(&quot;call SchemaName.my_proc(?,?)&quot;);\r\n    \t\t\t\r\n    \t\t\t// Passing an alphabets array to the procedure \r\n    \t\t\tcst.setArray(1, array_to_pass);\r\n    \t\t\tst.registerOutParameter(2, Types.VARCHAR);\r\n    \t\t\tcst.execute();\r\n    \t\t\t\r\n    \t\t\t// Retrive output of procedure execute\r\n    \t\t\tARRAY output = ((OracleCallableStatement)cst).getARRAY(2);\r\n    \t\t\t\r\n    \t\t\t BigDecimal[] outputArray = (BigDecimal[])(output.getArray());\r\n    \t\t\t \r\n    \t\t\tfor(int i=0;i&lt;outputArray.length;i++)\r\n    \t\t\t\tSystem.out.println(&quot;element&quot; + i + &quot;:&quot; + outputArray[i] + &quot;\\n&quot;);\r\n    \t\t\t\t\r\n    \t\t} catch(Exception e) {\r\n    \t\t\tSystem.out.println(e);\r\n    \t\t}\r\n    \t}\r\n    \r\n    public static void main(String args[]){ arrayDataToSP(); } } ","title":"From Java Passing Values as Array to Database Stored Procedure","body":"<p>this may help : </p>\n\n<pre><code>import java.math.BigDecimal;\nimport java.sql.CallableStatement;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.Types;\nimport oracle.jdbc.OracleCallableStatement;\nimport oracle.jdbc.internal.OracleTypes;\nimport oracle.sql.ARRAY;\nimport oracle.sql.ArrayDescriptor; \n\npublic class TestSP{\n    public static void arrayDataToSP()\n    {\n        try{\n            Class.forName(\"oracle.jdbc.OracleDriver\");\n\n            Connection con = DriverManager.getConnection(\"jdbc:oracle:thin:url \",\"[user]\",\"[password]\");\n\n            String alphabets[] = {\"a\", \"b\", \"c\",\"d\",\"e\",\"f\",\"g\"}; \n\n            //use ARRAY_TABLE as ArrayDescriptor \n            ArrayDescriptor des = ArrayDescriptor.createDescriptor(\"SchemaName.ARRAY_TABLE\", con);\n\n            ARRAY array_to_pass = new ARRAY(des,con,alphabets);\n\n            CallableStatement cst = con.prepareCall(\"call SchemaName.my_proc(?,?)\");\n\n            // Passing an alphabets array to the procedure \n            cst.setArray(1, array_to_pass);\n            st.registerOutParameter(2, Types.VARCHAR);\n            cst.execute();\n\n            // Retrive output of procedure execute\n            ARRAY output = ((OracleCallableStatement)cst).getARRAY(2);\n\n             BigDecimal[] outputArray = (BigDecimal[])(output.getArray());\n\n            for(int i=0;i&lt;outputArray.length;i++)\n                System.out.println(\"element\" + i + \":\" + outputArray[i] + \"\\n\");\n\n        } catch(Exception e) {\n            System.out.println(e);\n        }\n    }\n\npublic static void main(String args[]){ arrayDataToSP(); } } \n</code></pre>\n"},{"tags":[],"owner":{"account_id":4001931,"reputation":404,"user_id":3297753,"display_name":"Najeeb Arif"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1466509922,"creation_date":1466278782,"answer_id":37900949,"question_id":37720298,"body_markdown":"First of all We will create a Pojo\r\n\r\n    public class ParamHolder{\r\n\r\n       private String param1;\r\n\r\n       private String param2;\r\n\r\n       private String param3;\r\n\r\n       //getters and setters.\r\n    }\r\n\r\nOn the DB side create an Object of the same type\r\n\r\n    CREATE OR REPLACE TYPE PARAM_HOLDER_OBJ \r\n    AS OBJECT ( PARAM1 VARCHAR2(200), PARAM2 VARCHAR2(200), PARAM3 VARCHAR3(200));\r\n\r\nOnce you created the Object lets create a table of these objects\r\n\r\n    CREATE OR REPLACE TYPE PARAM_HOLDER_OBJ_TABLE\r\n    IS TABLE OF PARAM_HOLDER_OBJ\r\n\r\nand our procedure may take input parajm like \r\n\r\n    custom(p_param_holder_tab IN TYPE PARAM_HOLDER_OBJ_TABLE)\r\nlets for instance assume our proc looks something like this now what we need to do is to call this proc from our java code and pass in a Array of ParamHolder.\r\n\r\n    Code Snippet:\r\n    //variable declaration\r\n    //ParamHolder[] paramHolders = ..getTheParamHolderArray();\r\n            try (Connection con = createConnWithDbDetails(getDBDetails());\r\n                 CallableStatement stmnt =\r\n                 con.prepareCall(&quot;{ call custom(?) }&quot;)) {\r\n                //Create a arrayDescriptor\r\n                ArrayDescriptor descriptor =\r\n                    ArrayDescriptor.createDescriptor(&quot;PARAM_HOLDER_OBJ_TABLE&quot;, con);\r\n                Array array = new ARRAY(descriptor , con, paramHolders);\r\n                stmnt.setArray(1, array );\r\n              }Catch(Exception e){\r\n                  e.printStackTrace();\r\n              }\r\n\r\n\r\n\r\n\r\n\r\n++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\r\n*EDITED-- 21st June 2016\r\nFor adding the calling method.\r\n5 pm IST.*\r\n\r\nWhat you can do is you can create a method like this\r\n\r\n    public void callProc(ParamHolder[] paramHolders){\r\n    \r\n    try (Connection con = createConnWithDbDetails(getDBDetails());\r\n                 CallableStatement stmnt =\r\n                 con.prepareCall(&quot;{ call custom(?,?) }&quot;)) {\r\n                //Create a arrayDescriptor\r\n                ArrayDescriptor descriptor =\r\n                    ArrayDescriptor.createDescriptor(&quot;PARAM_HOLDER_OBJ_TABLE&quot;, con);\r\n                Array array = new ARRAY(descriptor , con, paramHolders);\r\n                stmnt.setArray(1, array );\r\n                stmnt.registerOutParameter(2,OracleType.VARCHAR,&quot;p_out_var&quot;);           //Register any output variable if your procedure returns any thing.\r\n                stmmnt.execute();                                              //this will take the Array of ParamHolder straight to the DB for processing.\r\n                String result = stmnt.getString(2);                                  //Will fetch yuou the result form the DB to your local String.\r\n              }Catch(Exception e){\r\n                  e.printStackTrace();\r\n              }\r\n    }\r\n\r\nwhich will take an array of ParamHolder class which will be passed directly to your db proc and you will  have the results the accordingly.\r\nas the current proc defination does not specifies any out param but you can define and register of to catch that.\r\n\r\nLets Say you have a calling piece of code which will utilize it\r\n\r\n    public class ProcDaoImpl{\r\n    \r\n        public void executeProc(){\r\n    \r\n             ParamHolder[] paramArray = new ParamHolder[]{                                          //create an array of four elements\r\n                                          new ParamHolder(&quot;param1&quot;,&quot;param2&quot;,&quot;param3&quot;),\r\n                                          new ParamHolder(&quot;param1&quot;,&quot;param2&quot;,&quot;param3&quot;),\r\n                                          new ParamHolder(&quot;param1&quot;,&quot;param2&quot;,&quot;param3&quot;),            \r\n                                          new ParamHolder(&quot;param1&quot;,&quot;param2&quot;,&quot;param3&quot;)                                                   //Each array element represents a set of InputParams\r\n                                       }\r\n    \r\n         //call the DB procedure now..\r\n         SomeClass.callProc(paramArray);                                                                     // pass in the created array to it.\r\n        }\r\n    \r\n    }\r\nHope it helps.\r\n:)\r\n\r\nThanks\r\n\r\n","title":"From Java Passing Values as Array to Database Stored Procedure","body":"<p>First of all We will create a Pojo</p>\n\n<pre><code>public class ParamHolder{\n\n   private String param1;\n\n   private String param2;\n\n   private String param3;\n\n   //getters and setters.\n}\n</code></pre>\n\n<p>On the DB side create an Object of the same type</p>\n\n<pre><code>CREATE OR REPLACE TYPE PARAM_HOLDER_OBJ \nAS OBJECT ( PARAM1 VARCHAR2(200), PARAM2 VARCHAR2(200), PARAM3 VARCHAR3(200));\n</code></pre>\n\n<p>Once you created the Object lets create a table of these objects</p>\n\n<pre><code>CREATE OR REPLACE TYPE PARAM_HOLDER_OBJ_TABLE\nIS TABLE OF PARAM_HOLDER_OBJ\n</code></pre>\n\n<p>and our procedure may take input parajm like </p>\n\n<pre><code>custom(p_param_holder_tab IN TYPE PARAM_HOLDER_OBJ_TABLE)\n</code></pre>\n\n<p>lets for instance assume our proc looks something like this now what we need to do is to call this proc from our java code and pass in a Array of ParamHolder.</p>\n\n<pre><code>Code Snippet:\n//variable declaration\n//ParamHolder[] paramHolders = ..getTheParamHolderArray();\n        try (Connection con = createConnWithDbDetails(getDBDetails());\n             CallableStatement stmnt =\n             con.prepareCall(\"{ call custom(?) }\")) {\n            //Create a arrayDescriptor\n            ArrayDescriptor descriptor =\n                ArrayDescriptor.createDescriptor(\"PARAM_HOLDER_OBJ_TABLE\", con);\n            Array array = new ARRAY(descriptor , con, paramHolders);\n            stmnt.setArray(1, array );\n          }Catch(Exception e){\n              e.printStackTrace();\n          }\n</code></pre>\n\n<p>++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\n<em>EDITED-- 21st June 2016\nFor adding the calling method.\n5 pm IST.</em></p>\n\n<p>What you can do is you can create a method like this</p>\n\n<pre><code>public void callProc(ParamHolder[] paramHolders){\n\ntry (Connection con = createConnWithDbDetails(getDBDetails());\n             CallableStatement stmnt =\n             con.prepareCall(\"{ call custom(?,?) }\")) {\n            //Create a arrayDescriptor\n            ArrayDescriptor descriptor =\n                ArrayDescriptor.createDescriptor(\"PARAM_HOLDER_OBJ_TABLE\", con);\n            Array array = new ARRAY(descriptor , con, paramHolders);\n            stmnt.setArray(1, array );\n            stmnt.registerOutParameter(2,OracleType.VARCHAR,\"p_out_var\");           //Register any output variable if your procedure returns any thing.\n            stmmnt.execute();                                              //this will take the Array of ParamHolder straight to the DB for processing.\n            String result = stmnt.getString(2);                                  //Will fetch yuou the result form the DB to your local String.\n          }Catch(Exception e){\n              e.printStackTrace();\n          }\n}\n</code></pre>\n\n<p>which will take an array of ParamHolder class which will be passed directly to your db proc and you will  have the results the accordingly.\nas the current proc defination does not specifies any out param but you can define and register of to catch that.</p>\n\n<p>Lets Say you have a calling piece of code which will utilize it</p>\n\n<pre><code>public class ProcDaoImpl{\n\n    public void executeProc(){\n\n         ParamHolder[] paramArray = new ParamHolder[]{                                          //create an array of four elements\n                                      new ParamHolder(\"param1\",\"param2\",\"param3\"),\n                                      new ParamHolder(\"param1\",\"param2\",\"param3\"),\n                                      new ParamHolder(\"param1\",\"param2\",\"param3\"),            \n                                      new ParamHolder(\"param1\",\"param2\",\"param3\")                                                   //Each array element represents a set of InputParams\n                                   }\n\n     //call the DB procedure now..\n     SomeClass.callProc(paramArray);                                                                     // pass in the created array to it.\n    }\n\n}\n</code></pre>\n\n<p>Hope it helps.\n:)</p>\n\n<p>Thanks</p>\n"},{"tags":[],"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695065556,"creation_date":1695065556,"answer_id":77129940,"question_id":37720298,"body_markdown":"Unwrap the OracleConnection and then do `createOracleArray`.\r\n\r\nIf you have a custom Array type defined in Oracle as e.g. below:\r\n\r\n    create or replace TYPE   &quot;REF_TYPE_ARRAY&quot;  IS TABLE OF NUMBER\r\n\r\nThen in Java&#39;s `StoredProcedure` implementation you can do the following, when you (1) unwrap the OracleConnection and then (2) do `createOracleArray`.\r\n\r\n@Component\r\npublic class MyStoredProcedure extends StoredProcedure {\r\n\r\n    public MyStoredProcedure(@Autowired DataSource dataSource) {\r\n        super(dataSource, &quot;MY_PKG.MY_STORED_PROC&quot;); // Name\r\n\r\n        declareParameter(new SqlParameter(&quot;itemIds&quot;, OracleTypes.ARRAY, &quot;REF_TYPE_ARRAY&quot;));\r\n        // etc. other parameters\r\n\r\n}\r\n\r\n    public void execute(ParamObject paramObject) throws Exception{\r\n        Map&lt;String, Object&gt; inputParameters = new HashMap&lt;&gt;();\r\n    \r\n    OracleConnection oracleConnection = getJdbcTemplate().getDataSource().getConnection().unwrap(OracleConnection.class);\r\n    Array array = oracleConnection.createOracleArray(&quot;REF_TYPE_ARRAY&quot;, referralTypeId);\r\n    \r\n    inputParameters.put(&quot;itemIds&quot;, array); \r\n    // etc. other params","title":"From Java Passing Values as Array to Database Stored Procedure","body":"<p>Unwrap the OracleConnection and then do <code>createOracleArray</code>.</p>\n<p>If you have a custom Array type defined in Oracle as e.g. below:</p>\n<pre><code>create or replace TYPE   &quot;REF_TYPE_ARRAY&quot;  IS TABLE OF NUMBER\n</code></pre>\n<p>Then in Java's <code>StoredProcedure</code> implementation you can do the following, when you (1) unwrap the OracleConnection and then (2) do <code>createOracleArray</code>.</p>\n<p>@Component\npublic class MyStoredProcedure extends StoredProcedure {</p>\n<pre><code>public MyStoredProcedure(@Autowired DataSource dataSource) {\n    super(dataSource, &quot;MY_PKG.MY_STORED_PROC&quot;); // Name\n\n    declareParameter(new SqlParameter(&quot;itemIds&quot;, OracleTypes.ARRAY, &quot;REF_TYPE_ARRAY&quot;));\n    // etc. other parameters\n</code></pre>\n<p>}</p>\n<pre><code>public void execute(ParamObject paramObject) throws Exception{\n    Map&lt;String, Object&gt; inputParameters = new HashMap&lt;&gt;();\n\nOracleConnection oracleConnection = getJdbcTemplate().getDataSource().getConnection().unwrap(OracleConnection.class);\nArray array = oracleConnection.createOracleArray(&quot;REF_TYPE_ARRAY&quot;, referralTypeId);\n\ninputParameters.put(&quot;itemIds&quot;, array); \n// etc. other params\n</code></pre>\n"}],"owner":{"account_id":295230,"reputation":14501,"user_id":599528,"accept_rate":95,"display_name":"Jacob"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8646,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":37900949,"answer_count":3,"score":2,"last_activity_date":1695065556,"creation_date":1465459900,"question_id":37720298,"body_markdown":"I have the following stored procedure in database\r\n\r\n    CREATE OR REPLACE PROCEDURE my_proc (\r\n       my_array         IN     my_array_type,\r\n       my_var    IN OUT VARCHAR2)\r\n       ....\r\n       ....\r\n\r\nIn Java I have the following code snippet to invoke the above stored procedure\r\n\r\n     public void callProc(String prodCode, \r\n                          String prodName, \r\n                          String prodDesc, \r\n                          ) {\r\n                callableStatement = \r\n                this.getOADBTransaction().getJdbcConnection().prepareCall(&quot;{call my_proc (?,?)}&quot;);\r\n        Object[] object = \r\n          new Object[] { prodCode, prodName, prodDesc};\r\n    StructDescriptor structDescriptor = \r\n      StructDescriptor.createDescriptor(&quot;my_array_type&quot;,this.getOADBTransaction().getJdbcConnection());\r\n    STRUCT struct = \r\n     new STRUCT(structDescriptor, this.getOADBTransaction().getJdbcConnection(), \r\n    object);\r\n    STRUCT[] structArray = { struct };\r\n    ArrayDescriptor arrayDescriptor = \r\n    ArrayDescriptor.createDescriptor(&quot;my_array&quot;,this.getOADBTransaction().getJdbcConnection());\r\n    \r\n    ARRAY array = \r\n    new ARRAY(arrayDescriptor, this.getOADBTransaction().getJdbcConnection(), \r\n    structArray);\r\n    callableStatement.setArray(1, array);\r\n    callableStatement.registerOutParameter(2, Types.VARCHAR);\r\n    callableStatement.execute();\r\n    ....\r\n\r\n\r\nThe above method is called from another class which is inside a for loop\r\n\r\n    for(....){\r\n    \r\n    Serializable[] param = \r\n    { prodCode, prodName, prodDesc};\r\n    db.callProc(param )\r\n    }\r\n\r\nWhat I would like achieve is instead of calling db.callProc inside the for loop,\r\nI would like to use a ListArray or some other collection object and pass the value to db.callProc method and in db.callProc method I would like to iterate and pass to database procedure as an array so that my stored procedure can handle the array and do the processing.\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"From Java Passing Values as Array to Database Stored Procedure","body":"<p>I have the following stored procedure in database</p>\n\n<pre><code>CREATE OR REPLACE PROCEDURE my_proc (\n   my_array         IN     my_array_type,\n   my_var    IN OUT VARCHAR2)\n   ....\n   ....\n</code></pre>\n\n<p>In Java I have the following code snippet to invoke the above stored procedure</p>\n\n<pre><code> public void callProc(String prodCode, \n                      String prodName, \n                      String prodDesc, \n                      ) {\n            callableStatement = \n            this.getOADBTransaction().getJdbcConnection().prepareCall(\"{call my_proc (?,?)}\");\n    Object[] object = \n      new Object[] { prodCode, prodName, prodDesc};\nStructDescriptor structDescriptor = \n  StructDescriptor.createDescriptor(\"my_array_type\",this.getOADBTransaction().getJdbcConnection());\nSTRUCT struct = \n new STRUCT(structDescriptor, this.getOADBTransaction().getJdbcConnection(), \nobject);\nSTRUCT[] structArray = { struct };\nArrayDescriptor arrayDescriptor = \nArrayDescriptor.createDescriptor(\"my_array\",this.getOADBTransaction().getJdbcConnection());\n\nARRAY array = \nnew ARRAY(arrayDescriptor, this.getOADBTransaction().getJdbcConnection(), \nstructArray);\ncallableStatement.setArray(1, array);\ncallableStatement.registerOutParameter(2, Types.VARCHAR);\ncallableStatement.execute();\n....\n</code></pre>\n\n<p>The above method is called from another class which is inside a for loop</p>\n\n<pre><code>for(....){\n\nSerializable[] param = \n{ prodCode, prodName, prodDesc};\ndb.callProc(param )\n}\n</code></pre>\n\n<p>What I would like achieve is instead of calling db.callProc inside the for loop,\nI would like to use a ListArray or some other collection object and pass the value to db.callProc method and in db.callProc method I would like to iterate and pass to database procedure as an array so that my stored procedure can handle the array and do the processing.</p>\n"},{"tags":["java","jms","activemq"],"comments":[{"owner":{"account_id":157630,"reputation":17688,"user_id":375722,"display_name":"Tim Bish"},"score":1,"creation_date":1305937994,"post_id":6078637,"comment_id":7041656,"body_markdown":"You&#39;d need post some more info, sample code etc so we can help","body":"You&#39;d need post some more info, sample code etc so we can help"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1477702891,"creation_date":1305938191,"answer_id":6078845,"question_id":6078637,"body_markdown":"I think it *could be* this issue with ActiveMQ: https://issues.apache.org/jira/browse/AMQ-2902\r\n\r\nThis issue tracker thread says that it is harmless (it is just a noisy INFO level log message), and that it is fixed in ActiveMQ 5.4.2.\r\n\r\nOn the other hand, you say that the exception *&quot;cut the execution&quot;* ... which *could* mean that this is a different issue to yours ... \r\n\r\n**UPDATE**\r\n\r\nAnyone getting a &quot;peer disposed&quot; exception that isn&#39;t fixed by upgrading ActiveMQ, and isn&#39;t related to shutdown (see https://stackoverflow.com/questions/9591203) should consider lodging a bug report.","title":"Erratic javax.jms.JMSException: Peer disposed","body":"<p>I think it <em>could be</em> this issue with ActiveMQ: <a href=\"https://issues.apache.org/jira/browse/AMQ-2902\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/AMQ-2902</a></p>\n\n<p>This issue tracker thread says that it is harmless (it is just a noisy INFO level log message), and that it is fixed in ActiveMQ 5.4.2.</p>\n\n<p>On the other hand, you say that the exception <em>\"cut the execution\"</em> ... which <em>could</em> mean that this is a different issue to yours ... </p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Anyone getting a \"peer disposed\" exception that isn't fixed by upgrading ActiveMQ, and isn't related to shutdown (see <a href=\"https://stackoverflow.com/questions/9591203\">Unable to shutdown embedded activeMQ service using the built in BrokerService.stop call</a>) should consider lodging a bug report.</p>\n"},{"tags":[],"owner":{"account_id":472489,"reputation":2168,"user_id":1442960,"accept_rate":80,"display_name":"Marcus"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1388789965,"creation_date":1388697958,"answer_id":20892199,"question_id":6078637,"body_markdown":"It would seem the poster&#39;s issue is completely different.  The link mentions a noisy INFO level log message, but the above (which is also what I&#39;m getting) is a thrown JMSException, which has these additional lines from the ``Caused by:`` clause.\r\n\r\n        at org.apache.activemq.transport.vm.VMTransport.oneway(VMTransport.java:88)\r\n        at org.apache.activemq.transport.MutexTransport.oneway(MutexTransport.java:68)\r\n        at org.apache.activemq.transport.ResponseCorrelator.oneway(ResponseCorrelator.java:60)\r\n        at org.apache.activemq.ActiveMQConnection.doAsyncSendPacket(ActiveMQConnection.java:1275)\r\n        ... 31 more\r\n\r\nThe odd part is that there is a connection.isClosed() check before it gets this far.  So the connection is open, but the &#39;peer&#39; is still disposed.  From researching other potential answers online, the only possible solution is that the connection to the broker is intact, but the specific queue may be closed.\r\n\r\nFor my particular similar case, this occurred when the broker was stopped, but consumers and producers were still attempting to establish connections.  Sometimes the connection would still be considered open (i.e., _not closed_ even though the broker was stopped).  Fixing this to ensure the broker did not die fixed my problem.  \r\n\r\nI also wanted to add that this issue I&#39;ve seen in ActiveMQ 5.6 (but I haven&#39;t tested in 5.8).","title":"Erratic javax.jms.JMSException: Peer disposed","body":"<p>It would seem the poster's issue is completely different.  The link mentions a noisy INFO level log message, but the above (which is also what I'm getting) is a thrown JMSException, which has these additional lines from the <code>Caused by:</code> clause.</p>\n\n<pre><code>    at org.apache.activemq.transport.vm.VMTransport.oneway(VMTransport.java:88)\n    at org.apache.activemq.transport.MutexTransport.oneway(MutexTransport.java:68)\n    at org.apache.activemq.transport.ResponseCorrelator.oneway(ResponseCorrelator.java:60)\n    at org.apache.activemq.ActiveMQConnection.doAsyncSendPacket(ActiveMQConnection.java:1275)\n    ... 31 more\n</code></pre>\n\n<p>The odd part is that there is a connection.isClosed() check before it gets this far.  So the connection is open, but the 'peer' is still disposed.  From researching other potential answers online, the only possible solution is that the connection to the broker is intact, but the specific queue may be closed.</p>\n\n<p>For my particular similar case, this occurred when the broker was stopped, but consumers and producers were still attempting to establish connections.  Sometimes the connection would still be considered open (i.e., <em>not closed</em> even though the broker was stopped).  Fixing this to ensure the broker did not die fixed my problem.  </p>\n\n<p>I also wanted to add that this issue I've seen in ActiveMQ 5.6 (but I haven't tested in 5.8).</p>\n"},{"tags":[],"owner":{"account_id":29451968,"reputation":1,"user_id":22568398,"display_name":"Sonali More"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695064867,"creation_date":1694781642,"answer_id":77112453,"question_id":6078637,"body_markdown":"this is version compatibility issue, this exception is causing due to Spring boot version and Active MQ version is not compatible with each other\r\n\r\nso for spring boot version 3.1.3 I have installed ActiveMQ 5.18.2 version it got resolved automatically\r\n\r\n```\r\n2023-09-15T18:00:15.675+05:30  INFO 2200 --- [           main] c.nt.BootMsp2PProducerApp1Application    : Starting BootMsp2PProducerApp1Application using Java 17.0.4.1 with PID 2200 (D:\\WORKSPACE\\BootMSP2P-ProducerApp-1\\target\\classes started by Shree in D:\\WORKSPACE\\BootMSP2P-ProducerApp-1)\r\n2023-09-15T18:00:15.681+05:30  INFO 2200 --- [           main] c.nt.BootMsp2PProducerApp1Application    : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-09-15T18:00:16.756+05:30  INFO 2200 --- [           main] c.nt.BootMsp2PProducerApp1Application    : Started BootMsp2PProducerApp1Application in 1.566 seconds (process running for 2.173)\r\n***Message Sent***\r\n```\r\n","title":"Erratic javax.jms.JMSException: Peer disposed","body":"<p>this is version compatibility issue, this exception is causing due to Spring boot version and Active MQ version is not compatible with each other</p>\n<p>so for spring boot version 3.1.3 I have installed ActiveMQ 5.18.2 version it got resolved automatically</p>\n<pre><code>2023-09-15T18:00:15.675+05:30  INFO 2200 --- [           main] c.nt.BootMsp2PProducerApp1Application    : Starting BootMsp2PProducerApp1Application using Java 17.0.4.1 with PID 2200 (D:\\WORKSPACE\\BootMSP2P-ProducerApp-1\\target\\classes started by Shree in D:\\WORKSPACE\\BootMSP2P-ProducerApp-1)\n2023-09-15T18:00:15.681+05:30  INFO 2200 --- [           main] c.nt.BootMsp2PProducerApp1Application    : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-09-15T18:00:16.756+05:30  INFO 2200 --- [           main] c.nt.BootMsp2PProducerApp1Application    : Started BootMsp2PProducerApp1Application in 1.566 seconds (process running for 2.173)\n***Message Sent***\n</code></pre>\n"}],"owner":{"account_id":349556,"reputation":1745,"user_id":684920,"accept_rate":76,"display_name":"Diego D"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15398,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":6078845,"answer_count":3,"score":10,"last_activity_date":1695064867,"creation_date":1305935358,"question_id":6078637,"body_markdown":"I have a erratic problem with Java JMS.\r\nFor moments works fine, but throws the following exception erratically and cut the execution.\r\n\r\nIt is important to note that this occurs without stopping the broker.\r\n\r\n\r\n    javax.jms.JMSException: Peer (vm://test#1) disposed.\r\n            at org.apache.activemq.util.JMSExceptionSupport.create(JMSExceptionSupport.java:49)\r\n            at org.apache.activemq.ActiveMQConnection.onAsyncException(ActiveMQConnection.java:1773)\r\n            at org.apache.activemq.ActiveMQConnection.onException(ActiveMQConnection.java:1790)\r\n            at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:99)\r\n            at org.apache.activemq.transport.ResponseCorrelator.onException(ResponseCorrelator.java:114)\r\n            at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:99)\r\n            at org.apache.activemq.transport.vm.VMTransport.iterate(VMTransport.java:203)\r\n            at org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:122)\r\n            at org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:43)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\r\n            at java.lang.Thread.run(Thread.java:619)\r\n    Caused by: org.apache.activemq.transport.TransportDisposedIOException: Peer (vm://test#1) disposed.","title":"Erratic javax.jms.JMSException: Peer disposed","body":"<p>I have a erratic problem with Java JMS.\nFor moments works fine, but throws the following exception erratically and cut the execution.</p>\n\n<p>It is important to note that this occurs without stopping the broker.</p>\n\n<pre><code>javax.jms.JMSException: Peer (vm://test#1) disposed.\n        at org.apache.activemq.util.JMSExceptionSupport.create(JMSExceptionSupport.java:49)\n        at org.apache.activemq.ActiveMQConnection.onAsyncException(ActiveMQConnection.java:1773)\n        at org.apache.activemq.ActiveMQConnection.onException(ActiveMQConnection.java:1790)\n        at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:99)\n        at org.apache.activemq.transport.ResponseCorrelator.onException(ResponseCorrelator.java:114)\n        at org.apache.activemq.transport.TransportFilter.onException(TransportFilter.java:99)\n        at org.apache.activemq.transport.vm.VMTransport.iterate(VMTransport.java:203)\n        at org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:122)\n        at org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:43)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n        at java.lang.Thread.run(Thread.java:619)\nCaused by: org.apache.activemq.transport.TransportDisposedIOException: Peer (vm://test#1) disposed.\n</code></pre>\n"},{"tags":["java","generics","comparator"],"answers":[{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1264087830,"creation_date":1264087830,"answer_id":2110404,"question_id":2107829,"body_markdown":"The variable `sorter` is of type `ISort&lt;?&gt;`. It could have, say, an `ISort&lt;String&gt;` assigned to it. The `sort` method takes an argument of `List&lt;T&gt;` where `T` could be `String`. Clearly you cannot use `List&lt;InternalTreeItem&lt;?&gt;&gt;` for `List&lt;String&gt;`, so fortunately the compiler points out the error.\r\n\r\n(Note: It&#39;s generally a good idea to keep to coding conventions. No `I` Hungarian prefixes, or single letter class names.)","title":"Java Class hierarchies with Generics, Comparator and sort error","body":"<p>The variable <code>sorter</code> is of type <code>ISort&lt;?&gt;</code>. It could have, say, an <code>ISort&lt;String&gt;</code> assigned to it. The <code>sort</code> method takes an argument of <code>List&lt;T&gt;</code> where <code>T</code> could be <code>String</code>. Clearly you cannot use <code>List&lt;InternalTreeItem&lt;?&gt;&gt;</code> for <code>List&lt;String&gt;</code>, so fortunately the compiler points out the error.</p>\n\n<p>(Note: It's generally a good idea to keep to coding conventions. No <code>I</code> Hungarian prefixes, or single letter class names.)</p>\n"},{"tags":[],"owner":{"account_id":23282,"reputation":28065,"user_id":58220,"accept_rate":75,"display_name":"sateesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1264146880,"creation_date":1264088309,"answer_id":2110478,"question_id":2107829,"body_markdown":"Running your code what I can deduce is that you get a compile error since it is not possible to capture the wildcard that you specify in below line of class &lt;i&gt;TestClass&lt;/i&gt;:\r\n&lt;code&gt;\r\n\r\n    ISort&lt;?&gt; sorter = new DSort();\r\n&lt;/code&gt;\r\n\r\nAs I understand an occurrence of wild card is taken to stand for some unknown type and from your code it is not possible to infer the type (for the compiler). \r\n\r\nBut looking at the code, the class DSort is not written in a way to take type parameters  \r\nand any attempt to pass type parameters during creation of instance of DSort gave the error:  \r\n`The type DSort is not generic; it cannot be parameterized with arguments`  \r\n\r\nBut you mention that you cannot alter the code of the modules (i.e I presume of classes DSort etc).  \r\nSo one way to fix the error would be to not use generics during creation of instance of ISort.  \r\nThe below code works and the prints the the sorted output (1,5,10)\r\n&lt;code&gt;\r\n\r\n    List&lt;InternalTreeItem&lt;?&gt;&gt; list= new ArrayList&lt;InternalTreeItem&lt;?&gt;&gt;();\r\n    list.add(new D(1));\r\n    list.add(new D(10));\r\n    list.add(new D(5));\r\n\r\n    // no generic arguments\r\n    ISort sorter = new DSort();\r\n\r\n    List&lt;InternalTreeItem&lt;?&gt;&gt; sortedList = sorter.sort(list);\r\n\r\n    for(InternalTreeItem i:sortedList) {\r\n        System.out.println(i.getValue());\r\n    }\r\n\r\n&lt;/code&gt;\r\nbut results in a warning of the form &lt;i&gt;ISort is a raw type. References to generic type ISort&lt;T&gt; should be parameterized&lt;/i&gt;. But having code that uses generic and having warning of this form is not a good practice . This warning implies that the compiler cannot give cast-iron guarantee about the implicit casts it does to use generics. \r\n\r\nIf feasible, I think the better solution would be to see how the modules class can re-designed. ","title":"Java Class hierarchies with Generics, Comparator and sort error","body":"<p>Running your code what I can deduce is that you get a compile error since it is not possible to capture the wildcard that you specify in below line of class <i>TestClass</i>:\n<code></p>\n\n<pre><code>ISort&lt;?&gt; sorter = new DSort();\n</code></pre>\n\n<p></code></p>\n\n<p>As I understand an occurrence of wild card is taken to stand for some unknown type and from your code it is not possible to infer the type (for the compiler). </p>\n\n<p>But looking at the code, the class DSort is not written in a way to take type parameters<br>\nand any attempt to pass type parameters during creation of instance of DSort gave the error:<br>\n<code>The type DSort is not generic; it cannot be parameterized with arguments</code>  </p>\n\n<p>But you mention that you cannot alter the code of the modules (i.e I presume of classes DSort etc).<br>\nSo one way to fix the error would be to not use generics during creation of instance of ISort.<br>\nThe below code works and the prints the the sorted output (1,5,10)\n<code></p>\n\n<pre><code>List&lt;InternalTreeItem&lt;?&gt;&gt; list= new ArrayList&lt;InternalTreeItem&lt;?&gt;&gt;();\nlist.add(new D(1));\nlist.add(new D(10));\nlist.add(new D(5));\n\n// no generic arguments\nISort sorter = new DSort();\n\nList&lt;InternalTreeItem&lt;?&gt;&gt; sortedList = sorter.sort(list);\n\nfor(InternalTreeItem i:sortedList) {\n    System.out.println(i.getValue());\n}\n</code></pre>\n\n<p></code>\nbut results in a warning of the form <i>ISort is a raw type. References to generic type ISort should be parameterized</i>. But having code that uses generic and having warning of this form is not a good practice . This warning implies that the compiler cannot give cast-iron guarantee about the implicit casts it does to use generics. </p>\n\n<p>If feasible, I think the better solution would be to see how the modules class can re-designed. </p>\n"},{"tags":[],"owner":{"account_id":88208,"reputation":98,"user_id":244133,"display_name":"RichardP"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1264093174,"creation_date":1264093174,"answer_id":2111129,"question_id":2107829,"body_markdown":"One way to approach this is to use a wrapper class for the classes that you cannot change.\r\n\r\nSo in your example you want to order a list of object D, based on an Integer value. By putting your objects in a wrapper and then adding this to the list, you can expose the value you wish to sort the list by.\r\n\r\nFor example, you could define an interface like:\r\n\r\n    private interface SortableListItem&lt;T&gt; extends Comparable&lt;SortableListItem&lt;T&gt;&gt; {\r\n\t    public T getValue();\r\n    }\r\n\r\nThen, create a wrapper class for D:\r\n\r\n    public class DWrapper implements SortableListItem&lt;Integer&gt; {\r\n\t\tprivate D item;\r\n\t\t\r\n\t\tpublic DWrapper(D item) {\r\n\t\t\tthis.item = item;\r\n\t\t}\r\n\t\t\r\n\t\tpublic Integer getValue() {\r\n\t\t\treturn item.getInteger();\r\n\t\t}\r\n\r\n\t\tpublic int compareTo(SortableListItem&lt;Integer&gt; o) {\r\n\t\t\treturn getValue().compareTo(o.getValue());\r\n\t\t}\r\n\t}\r\n\r\n\r\nFrom here it is pretty simple to create and sort your list:\r\n\r\n        D item1= new D(1);\r\n\t\tD item2= new D(10);\r\n\t\tD item3= new D(5);\r\n\t\t\r\n\t\tDWrapper wrapper1 = new DWrapper(item1);\r\n\t\tDWrapper wrapper2= new DWrapper(item2);\r\n\t\tDWrapper wrapper3= new DWrapper(item3);\r\n\t\t\r\n\t\tList&lt;SortableListItem&lt;Integer&gt;&gt; sortableList = new  ArrayList&lt;SortableListItem&lt;Integer&gt;&gt;();\r\n\t\tsortableList.add(wrapper1 );\r\n\t\tsortableList.add(wrapper2);\r\n\t\tsortableList.add(wrapper3);\r\n\t\tCollections.sort(sortableList);\r\n\r\nYou can of course make the wrapper class accept a more generic object - the key is that each object returns a value (in this case an Integer) that the List can be sorted by.\r\n","title":"Java Class hierarchies with Generics, Comparator and sort error","body":"<p>One way to approach this is to use a wrapper class for the classes that you cannot change.</p>\n\n<p>So in your example you want to order a list of object D, based on an Integer value. By putting your objects in a wrapper and then adding this to the list, you can expose the value you wish to sort the list by.</p>\n\n<p>For example, you could define an interface like:</p>\n\n<pre><code>private interface SortableListItem&lt;T&gt; extends Comparable&lt;SortableListItem&lt;T&gt;&gt; {\n    public T getValue();\n}\n</code></pre>\n\n<p>Then, create a wrapper class for D:</p>\n\n<pre><code>public class DWrapper implements SortableListItem&lt;Integer&gt; {\n    private D item;\n\n    public DWrapper(D item) {\n        this.item = item;\n    }\n\n    public Integer getValue() {\n        return item.getInteger();\n    }\n\n    public int compareTo(SortableListItem&lt;Integer&gt; o) {\n        return getValue().compareTo(o.getValue());\n    }\n}\n</code></pre>\n\n<p>From here it is pretty simple to create and sort your list:</p>\n\n<pre><code>    D item1= new D(1);\n    D item2= new D(10);\n    D item3= new D(5);\n\n    DWrapper wrapper1 = new DWrapper(item1);\n    DWrapper wrapper2= new DWrapper(item2);\n    DWrapper wrapper3= new DWrapper(item3);\n\n    List&lt;SortableListItem&lt;Integer&gt;&gt; sortableList = new  ArrayList&lt;SortableListItem&lt;Integer&gt;&gt;();\n    sortableList.add(wrapper1 );\n    sortableList.add(wrapper2);\n    sortableList.add(wrapper3);\n    Collections.sort(sortableList);\n</code></pre>\n\n<p>You can of course make the wrapper class accept a more generic object - the key is that each object returns a value (in this case an Integer) that the List can be sorted by.</p>\n"}],"owner":{"account_id":84739,"reputation":178,"user_id":236679,"accept_rate":60,"display_name":"Domi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4233,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":2111129,"answer_count":3,"score":3,"last_activity_date":1695064323,"creation_date":1264062785,"question_id":2107829,"body_markdown":"I have the following classes:\r\n\r\n      public interface ISort&lt;T&gt; {\r\n          public List&lt;T&gt; sort(List&lt;T&gt; initialList);\r\n      }\r\n    \r\n\r\n      public abstract class Sort&lt;T&gt; implements ISort&lt;T&gt; {\r\n        private Comparator&lt;? super T&gt; comparator;\r\n       \r\n        public Sort(Comparator&lt;? super T&gt; comparator) {\r\n            this.comparator = comparator;\r\n        }\r\n\r\n        @Override\r\n        public List&lt;T&gt; sort(List&lt;T&gt; initialList) {\r\n            ArrayList&lt;T&gt; list = new ArrayList&lt;T&gt;(initialList);\r\n            Collections.sort(list, comparator);\r\n       \r\n            return list;\r\n        }\r\n      }\r\n\r\n\r\n    public abstract class InternalTreeItem&lt;T&gt; {   \r\n        public abstract String getValue();\r\n    }\r\n\r\n    public class D extends InternalTreeItem&lt;Integer&gt; {\r\n       private Integer i;\r\n       \r\n       public D(Integer i) {\r\n           this.i = i;\r\n       }\r\n       \r\n       @Override\r\n       public String getValue() {\r\n           return i.toString();\r\n       }\r\n       \r\n       public Integer getInteger() {\r\n           return i;\r\n       }\r\n    }\r\n\r\n    public class DComparator implements Comparator&lt;D&gt; {\r\n        @Override\r\n        public int compare(D o1, D o2) {\r\n            return o1.getInteger() - o2.getInteger();\r\n        }\r\n    }\r\n\r\n    public class DSort extends Sort&lt;D&gt; {\r\n        public DSort(Comparator&lt;D&gt; comparator) {\r\n            super(comparator);\r\n        }\r\n       \r\n        public DSort() {\r\n            super(new DComparator());\r\n        }\r\n    }\r\n\r\nAnd the test class:\r\n\r\n    public class TestClass {\r\n        @Test\r\n        public void test1() {\r\n            List&lt;InternalTreeItem&lt;?&gt;&gt; list= new ArrayList&lt;InternalTreeItem&lt;?&gt;&gt;();\r\n           \r\n            list.add(new D(1));\r\n            list.add(new D(10));\r\n            list.add(new D(5));\r\n           \r\n            ISort&lt;?&gt; sorter = new DSort();\r\n               \r\n            sorter.sort(list);       \r\n        }\r\n    }\r\n\r\nThe compiler gives an error at the line:\r\n\r\n    sorter.sort(list);\r\n\r\nAnd states:\r\n\r\n    The method sort(List&lt;capture#2-of ?&gt;)\r\n    in the type ISort&lt;capture#2-of ?&gt;\r\n    is not applicable for the arguments\r\n     (List&lt;InternalTreeItem&lt;?&gt;&gt;)\r\n\r\nWe realized the problem lies with `Collections.sort(List&lt;T&gt; list, Comparator&lt;? super T&gt; c)` in the abstract class `Sort`, as I use a `Comparator&lt;? extends T&gt;`.\r\n\r\nI use generics, as I have 2 models, one model&#39;s super class is a generic abstract subclassed by 35 classes, and the second model actually has 2 different super classes, which combined, are subclassed by again 35 classes. These hierarchies are given, there&#39;s nothing I can do to modify them.\r\n\r\nThe model here is very simple, but you get the point. Also, there&#39;s a factory, that depending on the type of `T`, returns one sorter, or another. \r\n\r\nHow can I solve this issue? That is, to sort a generic list; the parameter type can be a generic superclass or one of it&#39;s subclasses.\r\n","title":"Java Class hierarchies with Generics, Comparator and sort error","body":"<p>I have the following classes:</p>\n<pre><code>  public interface ISort&lt;T&gt; {\n      public List&lt;T&gt; sort(List&lt;T&gt; initialList);\n  }\n\n\n  public abstract class Sort&lt;T&gt; implements ISort&lt;T&gt; {\n    private Comparator&lt;? super T&gt; comparator;\n   \n    public Sort(Comparator&lt;? super T&gt; comparator) {\n        this.comparator = comparator;\n    }\n\n    @Override\n    public List&lt;T&gt; sort(List&lt;T&gt; initialList) {\n        ArrayList&lt;T&gt; list = new ArrayList&lt;T&gt;(initialList);\n        Collections.sort(list, comparator);\n   \n        return list;\n    }\n  }\n\n\npublic abstract class InternalTreeItem&lt;T&gt; {   \n    public abstract String getValue();\n}\n\npublic class D extends InternalTreeItem&lt;Integer&gt; {\n   private Integer i;\n   \n   public D(Integer i) {\n       this.i = i;\n   }\n   \n   @Override\n   public String getValue() {\n       return i.toString();\n   }\n   \n   public Integer getInteger() {\n       return i;\n   }\n}\n\npublic class DComparator implements Comparator&lt;D&gt; {\n    @Override\n    public int compare(D o1, D o2) {\n        return o1.getInteger() - o2.getInteger();\n    }\n}\n\npublic class DSort extends Sort&lt;D&gt; {\n    public DSort(Comparator&lt;D&gt; comparator) {\n        super(comparator);\n    }\n   \n    public DSort() {\n        super(new DComparator());\n    }\n}\n</code></pre>\n<p>And the test class:</p>\n<pre><code>public class TestClass {\n    @Test\n    public void test1() {\n        List&lt;InternalTreeItem&lt;?&gt;&gt; list= new ArrayList&lt;InternalTreeItem&lt;?&gt;&gt;();\n       \n        list.add(new D(1));\n        list.add(new D(10));\n        list.add(new D(5));\n       \n        ISort&lt;?&gt; sorter = new DSort();\n           \n        sorter.sort(list);       \n    }\n}\n</code></pre>\n<p>The compiler gives an error at the line:</p>\n<pre><code>sorter.sort(list);\n</code></pre>\n<p>And states:</p>\n<pre><code>The method sort(List&lt;capture#2-of ?&gt;)\nin the type ISort&lt;capture#2-of ?&gt;\nis not applicable for the arguments\n (List&lt;InternalTreeItem&lt;?&gt;&gt;)\n</code></pre>\n<p>We realized the problem lies with <code>Collections.sort(List&lt;T&gt; list, Comparator&lt;? super T&gt; c)</code> in the abstract class <code>Sort</code>, as I use a <code>Comparator&lt;? extends T&gt;</code>.</p>\n<p>I use generics, as I have 2 models, one model's super class is a generic abstract subclassed by 35 classes, and the second model actually has 2 different super classes, which combined, are subclassed by again 35 classes. These hierarchies are given, there's nothing I can do to modify them.</p>\n<p>The model here is very simple, but you get the point. Also, there's a factory, that depending on the type of <code>T</code>, returns one sorter, or another.</p>\n<p>How can I solve this issue? That is, to sort a generic list; the parameter type can be a generic superclass or one of it's subclasses.</p>\n"},{"tags":["java","bitset"],"comments":[{"owner":{"account_id":115344,"reputation":76329,"user_id":302916,"display_name":"Brian Roach"},"score":2,"creation_date":1329504544,"post_id":9333681,"comment_id":11778999,"body_markdown":"http://en.wikipedia.org/wiki/Bitwise_operation - they work exactly the same as they would if you were using `&amp; | ^` etc. with a primitive numeric type.","body":"<a href=\"http://en.wikipedia.org/wiki/Bitwise_operation\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Bitwise_operation</a> - they work exactly the same as they would if you were using <code>&amp; | ^</code> etc. with a primitive numeric type."},{"owner":{"account_id":1251403,"reputation":1421,"user_id":1211744,"display_name":"Tony"},"score":0,"creation_date":1329504709,"post_id":9333681,"comment_id":11779042,"body_markdown":"What, specifically, don&#39;t you understand?  You create a BitSet and then call functions on it, such as `.and`, `.or` and `.xor`.  Each of these functions takes as a parameter another BitSet object.","body":"What, specifically, don&#39;t you understand?  You create a BitSet and then call functions on it, such as <code>.and</code>, <code>.or</code> and <code>.xor</code>.  Each of these functions takes as a parameter another BitSet object."},{"owner":{"account_id":192764,"reputation":9156,"user_id":434089,"accept_rate":98,"display_name":"Steffan Harris"},"score":0,"creation_date":1329505120,"post_id":9333681,"comment_id":11779174,"body_markdown":"Well, i tried to do an `and` on the example above and the bitset became empty.","body":"Well, i tried to do an <code>and</code> on the example above and the bitset became empty."}],"answers":[{"tags":[],"owner":{"account_id":1055494,"reputation":10205,"user_id":1058319,"accept_rate":98,"display_name":"Adel Boutros"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1329509898,"creation_date":1329504729,"answer_id":9333760,"question_id":9333681,"body_markdown":"Here are some links about bitSet that would help you: \r\n\r\n - http://www.java-samples.com/showtutorial.php?tutorialid=378\r\n - http://www.codeguru.com/java/tij/tij0090.shtml\r\n - http://imagenious.wordpress.com/2008/02/05/java-bitset-vs-primitive/\r\n\r\n**UPDATE:**\r\n\r\nIn the docs, it is said:\r\n\r\n&gt; public void set(int bitIndex)\r\n&gt; \r\n&gt;     Sets the bit at the specified index to true.\r\n\r\nSo when you call `bits2.set(10);`, it is considered as **10 decimal** not **1 0** so what you get is the following number `1000000000`.\r\n\r\nTo set it correctly, in this example, I want to set the 2nd bit to 1, so I call `bits2.set(1);` because the index starts at **0**.\r\n\r\n**In conclusion**, for every bit set to 1, you need to call bitSet.Set and provide it with the index of the bit.\r\n\r\n","title":"Java BitSet Example","body":"<p>Here are some links about bitSet that would help you: </p>\n\n<ul>\n<li><a href=\"http://www.java-samples.com/showtutorial.php?tutorialid=378\">http://www.java-samples.com/showtutorial.php?tutorialid=378</a></li>\n<li><a href=\"http://www.codeguru.com/java/tij/tij0090.shtml\">http://www.codeguru.com/java/tij/tij0090.shtml</a></li>\n<li><a href=\"http://imagenious.wordpress.com/2008/02/05/java-bitset-vs-primitive/\">http://imagenious.wordpress.com/2008/02/05/java-bitset-vs-primitive/</a></li>\n</ul>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>In the docs, it is said:</p>\n\n<blockquote>\n  <p>public void set(int bitIndex)</p>\n\n<pre><code>Sets the bit at the specified index to true.\n</code></pre>\n</blockquote>\n\n<p>So when you call <code>bits2.set(10);</code>, it is considered as <strong>10 decimal</strong> not <strong>1 0</strong> so what you get is the following number <code>1000000000</code>.</p>\n\n<p>To set it correctly, in this example, I want to set the 2nd bit to 1, so I call <code>bits2.set(1);</code> because the index starts at <strong>0</strong>.</p>\n\n<p><strong>In conclusion</strong>, for every bit set to 1, you need to call bitSet.Set and provide it with the index of the bit.</p>\n"},{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":1,"up_vote_count":114,"is_accepted":true,"score":113,"last_activity_date":1329506815,"creation_date":1329506473,"answer_id":9334075,"question_id":9333681,"body_markdown":"For the specific problem you mentioned: when you called `bits2.set(1000001)`, you set the one millionth and first bit to true.  Then when you intersected with `bits1`, which had the one million, 111 thousand, and 111st bit set, they had no bits in common.\r\n\r\n  I think what you _meant_ to do was\r\n\r\n     bits2.set(0); // set the 0th bit\r\n     bits2.set(6); // set the 6th bit\r\n\r\nDoes this help clear things up?","title":"Java BitSet Example","body":"<p>For the specific problem you mentioned: when you called <code>bits2.set(1000001)</code>, you set the one millionth and first bit to true.  Then when you intersected with <code>bits1</code>, which had the one million, 111 thousand, and 111st bit set, they had no bits in common.</p>\n\n<p>I think what you <em>meant</em> to do was</p>\n\n<pre><code> bits2.set(0); // set the 0th bit\n bits2.set(6); // set the 6th bit\n</code></pre>\n\n<p>Does this help clear things up?</p>\n"},{"tags":[],"owner":{"account_id":493089,"reputation":2485,"user_id":1216956,"display_name":"FauxFaux"},"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1391936841,"creation_date":1329506670,"answer_id":9334117,"question_id":9333681,"body_markdown":"BitSet doesn&#39;t have convenience methods for accepting strings of bits like that.  I&#39;ve provided some below, and now the example works as you&#39;d expect.  Note that this uses functionality new in Java 7; it&#39;s easy to find implementations of these methods online if you&#39;d like to use Java 6.\r\n\r\n    import java.util.BitSet;\r\n    \r\n    class Scratch {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tBitSet bits1 = fromString(&quot;1000001&quot;);\r\n    \t\tBitSet bits2 = fromString(&quot;1111111&quot;);\r\n    \r\n    \t\tSystem.out.println(toString(bits1)); // prints 1000001\r\n    \t\tSystem.out.println(toString(bits2)); // prints 1111111\r\n    \r\n    \t\tbits2.and(bits1);\r\n    \r\n    \t\tSystem.out.println(toString(bits2)); // prints 1000001\r\n    \t}\r\n    \r\n    \tprivate static BitSet fromString(final String s) {\r\n    \t\treturn BitSet.valueOf(new long[] { Long.parseLong(s, 2) });\r\n    \t}\r\n    \r\n    \tprivate static String toString(BitSet bs) {\r\n    \t\treturn Long.toString(bs.toLongArray()[0], 2);\r\n    \t}\r\n    }","title":"Java BitSet Example","body":"<p>BitSet doesn't have convenience methods for accepting strings of bits like that.  I've provided some below, and now the example works as you'd expect.  Note that this uses functionality new in Java 7; it's easy to find implementations of these methods online if you'd like to use Java 6.</p>\n\n<pre><code>import java.util.BitSet;\n\nclass Scratch {\n    public static void main(String[] args) {\n        BitSet bits1 = fromString(\"1000001\");\n        BitSet bits2 = fromString(\"1111111\");\n\n        System.out.println(toString(bits1)); // prints 1000001\n        System.out.println(toString(bits2)); // prints 1111111\n\n        bits2.and(bits1);\n\n        System.out.println(toString(bits2)); // prints 1000001\n    }\n\n    private static BitSet fromString(final String s) {\n        return BitSet.valueOf(new long[] { Long.parseLong(s, 2) });\n    }\n\n    private static String toString(BitSet bs) {\n        return Long.toString(bs.toLongArray()[0], 2);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":60,"is_accepted":false,"score":60,"last_activity_date":1329507731,"creation_date":1329507731,"answer_id":9334359,"question_id":9333681,"body_markdown":"If you want to work with bits you can use `int` values in Java 7.\r\n\r\n    int bits2 = 0b1000001;\r\n    int bits1 = 0b1111111;\r\n    bits2 &amp;= bits1;\r\n    System.out.println(Integer.toBinaryString(bits2));\r\n\r\nprints\r\n\r\n    1000001","title":"Java BitSet Example","body":"<p>If you want to work with bits you can use <code>int</code> values in Java 7.</p>\n\n<pre><code>int bits2 = 0b1000001;\nint bits1 = 0b1111111;\nbits2 &amp;= bits1;\nSystem.out.println(Integer.toBinaryString(bits2));\n</code></pre>\n\n<p>prints</p>\n\n<pre><code>1000001\n</code></pre>\n"},{"tags":[],"owner":{"account_id":367423,"reputation":470,"user_id":713608,"accept_rate":50,"display_name":"Aditya Gaykar"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1416160986,"creation_date":1379710093,"answer_id":18925602,"question_id":9333681,"body_markdown":"I am sharing my implementation for creating a BitSet object using string of bits as input.\r\n\r\n    private static BitSet createFromString(String s) {\r\n\t\tBitSet t = new BitSet(s.length());\r\n\t\tint lastBitIndex = s.length() - 1;\r\n\t\t\r\n\t\tfor (int i = lastBitIndex; i &gt;= 0; i--) {\r\n\t\t\tif ( s.charAt(i) == &#39;1&#39;){\r\n\t\t\t\tt.set(lastBitIndex - i);\t\t\t\t\t\t\t\r\n\t\t\t} \t\t\t\t\r\n\t\t}\r\n\r\n\t\treturn t;\r\n\t}\r\n\r\nFor string input &quot;1001&quot;\r\n\r\n    BitSet s1 = createFromString(&quot;1001&quot;);\r\n\t\tSystem.out.println(s1);\r\n\r\noutput :\r\n\r\n    {0, 3}","title":"Java BitSet Example","body":"<p>I am sharing my implementation for creating a BitSet object using string of bits as input.</p>\n\n<pre><code>private static BitSet createFromString(String s) {\n    BitSet t = new BitSet(s.length());\n    int lastBitIndex = s.length() - 1;\n\n    for (int i = lastBitIndex; i &gt;= 0; i--) {\n        if ( s.charAt(i) == '1'){\n            t.set(lastBitIndex - i);                            \n        }               \n    }\n\n    return t;\n}\n</code></pre>\n\n<p>For string input \"1001\"</p>\n\n<pre><code>BitSet s1 = createFromString(\"1001\");\n    System.out.println(s1);\n</code></pre>\n\n<p>output :</p>\n\n<pre><code>{0, 3}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7167179,"reputation":6034,"user_id":5475941,"display_name":"Mohammad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474317360,"creation_date":1474317360,"answer_id":39581683,"question_id":9333681,"body_markdown":"Try this:\r\n\r\n    import java.util.BitSet;\r\n    \r\n    public class BitSetExample {\r\n    \r\n        public static void main(String args[]){\r\n            BitSet bits1 = new BitSet(7);\r\n            BitSet bits2 = new BitSet(7);\r\n    \r\n            // set some bits\r\n            for(int i = 0; i &lt; 7; i++) {\r\n                if((i % 2) == 0) bits1.set(i);\r\n                if((i % 3) != 0) bits2.set(i);\r\n            }\r\n    \r\n            System.out.println(&quot;BitSet1: &quot;);\r\n    \r\n            for(int i = 0; i &lt; 7; i++) {\r\n                System.out.print(bits1.get(i)? &quot;1 &quot;: &quot;0 &quot;);\r\n            }\r\n    \r\n            System.out.println(&quot;\\nBitSet2: &quot;);\r\n    \r\n            for(int i = 0; i &lt; 7; i++) {\r\n                System.out.print(bits2.get(i)? &quot;1 &quot;: &quot;0 &quot;);\r\n            }\r\n    \r\n            System.out.println();\r\n    \r\n            //And\r\n            bits1.and(bits2);\r\n    \r\n            System.out.println(&quot;b1 = b1 AND b2\\nBitSet1: &quot;);\r\n    \r\n            for(int i = 0; i &lt; 7; i++) {\r\n                System.out.print(bits1.get(i)? &quot;1 &quot;: &quot;0 &quot;);\r\n            }\r\n    \r\n            System.out.println();\r\n            System.out.println(&quot;BitSet2: &quot;);\r\n    \r\n            for(int i = 0; i &lt; 7; i++) {\r\n                System.out.print(bits2.get(i)? &quot;1 &quot;: &quot;0 &quot;);\r\n            }\r\n    \r\n            System.out.println();\r\n    \r\n            //Or\r\n            bits1.or(bits2);\r\n    \r\n            System.out.println(&quot;b1 = b1 OR b2\\nBitSet1: &quot;);\r\n    \r\n            for(int i = 0; i &lt; 7; i++) {\r\n                System.out.print(bits1.get(i)? &quot;1 &quot;: &quot;0 &quot;);\r\n            }\r\n    \r\n            System.out.println();\r\n            System.out.println(&quot;BitSet2: &quot;);\r\n    \r\n            for(int i = 0; i &lt; 7; i++) {\r\n                System.out.print(bits2.get(i)? &quot;1 &quot;: &quot;0 &quot;);\r\n            }\r\n    \r\n            System.out.println();\r\n    \r\n            //Xor\r\n            bits1.xor(bits2);\r\n    \r\n            System.out.println(&quot;b1 = b1 XOR b2\\nBitSet1: &quot;);\r\n    \r\n            for(int i = 0; i &lt; 7; i++) {\r\n                System.out.print(bits1.get(i)? &quot;1 &quot;: &quot;0 &quot;);\r\n            }\r\n    \r\n            System.out.println();\r\n            System.out.println(&quot;BitSet2: &quot;);\r\n    \r\n            for(int i = 0; i &lt; 7; i++) {\r\n                System.out.print(bits2.get(i)? &quot;1 &quot;: &quot;0 &quot;);\r\n            }\r\n    \r\n            System.out.println();\r\n    \r\n            //Setting bits to zero and one\r\n            bits1.set(1);\r\n            bits2.set(1,false);\r\n    \r\n            System.out.println(&quot;set bit 1 of BitSet1 to one and set bit 1 of BitSet2 to zero\\nBitSet1: &quot;);\r\n    \r\n            for(int i = 0; i &lt; 7; i++) {\r\n                System.out.print(bits1.get(i)? &quot;1 &quot;: &quot;0 &quot;);\r\n            }\r\n    \r\n            System.out.println();\r\n            System.out.println(&quot;BitSet2: &quot;);\r\n    \r\n            for(int i = 0; i &lt; 7; i++) {\r\n                System.out.print(bits2.get(i)? &quot;1 &quot;: &quot;0 &quot;);\r\n            }\r\n    \r\n            System.out.println();\r\n    \r\n        }\r\n    }\r\n\r\nI hope this is useful. For more information, please visit: [https://github.com/m-vahidalizadeh/foundations/blob/master/src/data_structures/BitSetExample.java][1].\r\n\r\n\r\n  [1]: https://github.com/m-vahidalizadeh/foundations/blob/master/src/data_structures/BitSetExample.java","title":"Java BitSet Example","body":"<p>Try this:</p>\n\n<pre><code>import java.util.BitSet;\n\npublic class BitSetExample {\n\n    public static void main(String args[]){\n        BitSet bits1 = new BitSet(7);\n        BitSet bits2 = new BitSet(7);\n\n        // set some bits\n        for(int i = 0; i &lt; 7; i++) {\n            if((i % 2) == 0) bits1.set(i);\n            if((i % 3) != 0) bits2.set(i);\n        }\n\n        System.out.println(\"BitSet1: \");\n\n        for(int i = 0; i &lt; 7; i++) {\n            System.out.print(bits1.get(i)? \"1 \": \"0 \");\n        }\n\n        System.out.println(\"\\nBitSet2: \");\n\n        for(int i = 0; i &lt; 7; i++) {\n            System.out.print(bits2.get(i)? \"1 \": \"0 \");\n        }\n\n        System.out.println();\n\n        //And\n        bits1.and(bits2);\n\n        System.out.println(\"b1 = b1 AND b2\\nBitSet1: \");\n\n        for(int i = 0; i &lt; 7; i++) {\n            System.out.print(bits1.get(i)? \"1 \": \"0 \");\n        }\n\n        System.out.println();\n        System.out.println(\"BitSet2: \");\n\n        for(int i = 0; i &lt; 7; i++) {\n            System.out.print(bits2.get(i)? \"1 \": \"0 \");\n        }\n\n        System.out.println();\n\n        //Or\n        bits1.or(bits2);\n\n        System.out.println(\"b1 = b1 OR b2\\nBitSet1: \");\n\n        for(int i = 0; i &lt; 7; i++) {\n            System.out.print(bits1.get(i)? \"1 \": \"0 \");\n        }\n\n        System.out.println();\n        System.out.println(\"BitSet2: \");\n\n        for(int i = 0; i &lt; 7; i++) {\n            System.out.print(bits2.get(i)? \"1 \": \"0 \");\n        }\n\n        System.out.println();\n\n        //Xor\n        bits1.xor(bits2);\n\n        System.out.println(\"b1 = b1 XOR b2\\nBitSet1: \");\n\n        for(int i = 0; i &lt; 7; i++) {\n            System.out.print(bits1.get(i)? \"1 \": \"0 \");\n        }\n\n        System.out.println();\n        System.out.println(\"BitSet2: \");\n\n        for(int i = 0; i &lt; 7; i++) {\n            System.out.print(bits2.get(i)? \"1 \": \"0 \");\n        }\n\n        System.out.println();\n\n        //Setting bits to zero and one\n        bits1.set(1);\n        bits2.set(1,false);\n\n        System.out.println(\"set bit 1 of BitSet1 to one and set bit 1 of BitSet2 to zero\\nBitSet1: \");\n\n        for(int i = 0; i &lt; 7; i++) {\n            System.out.print(bits1.get(i)? \"1 \": \"0 \");\n        }\n\n        System.out.println();\n        System.out.println(\"BitSet2: \");\n\n        for(int i = 0; i &lt; 7; i++) {\n            System.out.print(bits2.get(i)? \"1 \": \"0 \");\n        }\n\n        System.out.println();\n\n    }\n}\n</code></pre>\n\n<p>I hope this is useful. For more information, please visit: <a href=\"https://github.com/m-vahidalizadeh/foundations/blob/master/src/data_structures/BitSetExample.java\" rel=\"nofollow\">https://github.com/m-vahidalizadeh/foundations/blob/master/src/data_structures/BitSetExample.java</a>.</p>\n"},{"tags":[],"owner":{"account_id":366370,"reputation":2002,"user_id":711855,"display_name":"juanmf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695063896,"creation_date":1648688847,"answer_id":71685757,"question_id":9333681,"body_markdown":"In case you also need to work with bit addresses longer than `Integer.MAX_VALUE` I modified `java.util.BitSet` ([here: LongBitSet](https://github.com/juanmf/LongBitSet/blob/main/LongBitSet.java)) to accept long inputs in get and set methods. I did it to fully use memory for a [prime sieve](https://mirror.xyz/0x62514E8C74B1B188dFCD76D2171c96EF1845Ba02/PhwGsMoDsGGfbagtxAhjM5OyvIPnFfF6dhBYb4QICfQ) experiment.\r\n\r\n","title":"Java BitSet Example","body":"<p>In case you also need to work with bit addresses longer than <code>Integer.MAX_VALUE</code> I modified <code>java.util.BitSet</code> (<a href=\"https://github.com/juanmf/LongBitSet/blob/main/LongBitSet.java\" rel=\"nofollow noreferrer\">here: LongBitSet</a>) to accept long inputs in get and set methods. I did it to fully use memory for a <a href=\"https://mirror.xyz/0x62514E8C74B1B188dFCD76D2171c96EF1845Ba02/PhwGsMoDsGGfbagtxAhjM5OyvIPnFfF6dhBYb4QICfQ\" rel=\"nofollow noreferrer\">prime sieve</a> experiment.</p>\n"}],"owner":{"account_id":192764,"reputation":9156,"user_id":434089,"accept_rate":98,"display_name":"Steffan Harris"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98691,"favorite_count":0,"down_vote_count":1,"up_vote_count":64,"accepted_answer_id":9334075,"answer_count":7,"score":63,"last_activity_date":1695063896,"creation_date":1329504357,"question_id":9333681,"body_markdown":"I&#39;m looking for a good Java `BitSet` example to work with 0 and 1s. I tried looking at the Javadocs but I don&#39;t understand the usage of the class by just reading that. For instance, how would the `and`, `or`, and `xor` methods work on two different `BitSet` objects?\r\n\r\nFor example:\r\n\r\n      BitSet bits1 = new BitSet();\r\n      BitSet bits2 = new BitSet();\r\n            \r\n      bits2.set(1000001);\r\n      bits1.set(1111111);\r\n          \r\n      bits2.and(bits1);\r\n             \r\n      System.out.println(bits2);\r\n\r\nIf I do this it returns `bits2` as empty why is that?","title":"Java BitSet Example","body":"<p>I'm looking for a good Java <code>BitSet</code> example to work with 0 and 1s. I tried looking at the Javadocs but I don't understand the usage of the class by just reading that. For instance, how would the <code>and</code>, <code>or</code>, and <code>xor</code> methods work on two different <code>BitSet</code> objects?</p>\n\n<p>For example:</p>\n\n<pre><code>  BitSet bits1 = new BitSet();\n  BitSet bits2 = new BitSet();\n\n  bits2.set(1000001);\n  bits1.set(1111111);\n\n  bits2.and(bits1);\n\n  System.out.println(bits2);\n</code></pre>\n\n<p>If I do this it returns <code>bits2</code> as empty why is that?</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":27149349,"reputation":116,"user_id":20689058,"display_name":"tisho"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1671542221,"creation_date":1671542221,"answer_id":74863710,"question_id":74863226,"body_markdown":"You can listen to multiple topics in the same @KafkaListener by passing them in a comma separated object. In your case it should be \r\n\r\n    @KafkaListener(topics = {&quot;topic1&quot;, &quot;topic2&quot;}, groupId = &quot;local&quot;)\r\n\r\n","title":"Kafka - InvalidTopicException when using multiple topics","body":"<p>You can listen to multiple topics in the same @KafkaListener by passing them in a comma separated object. In your case it should be</p>\n<pre><code>@KafkaListener(topics = {&quot;topic1&quot;, &quot;topic2&quot;}, groupId = &quot;local&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14244012,"reputation":42,"user_id":10289625,"display_name":"Rashid Shiralizade"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671542714,"creation_date":1671542714,"answer_id":74863810,"question_id":74863226,"body_markdown":"**Try this:**\r\n\r\n    {&quot;topic1&quot;, &quot;topic2&quot;}","title":"Kafka - InvalidTopicException when using multiple topics","body":"<p><strong>Try this:</strong></p>\n<pre><code>{&quot;topic1&quot;, &quot;topic2&quot;}\n</code></pre>\n"}],"owner":{"account_id":12024361,"reputation":2102,"user_id":8796806,"accept_rate":75,"display_name":"Timothy Clotworthy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":402,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74863710,"answer_count":2,"score":1,"last_activity_date":1695063862,"creation_date":1671539941,"question_id":74863226,"body_markdown":"I have a SpringBoot application where I am using the @KafkaListener annotation with a topic and a groupId. I have two topics my listener needs to listen for. When listening for one topic, either one works fine\r\n\r\n    @KafkaListener(topics = &quot;topic1&quot;, groupId = &quot;local&quot;)\r\n\r\nor\r\n\r\n    @KafkaListener(topics = &quot;topic2&quot;, groupId = &quot;local&quot;)\r\n\r\nhowever, when I combine the two like this (which is my understanding of how to do multiple topics on one listener):\r\n\r\n    @KafkaListener(topics = {&quot;topic1,topic2&quot;}, groupId = &quot;local&quot;)\r\n\r\n, I get scrolling exceptions like the following:\r\n\r\n    {\r\n      &quot;app&quot;: &quot;myApp&quot;,\r\n      &quot;@timestamp&quot;: &quot;2022-12-20T12:01:55.004Z&quot;,\r\n      &quot;userId&quot;: &quot;&quot;,\r\n      &quot;hostname&quot;: &quot;&quot;,\r\n      &quot;ipAddress&quot;: &quot;&quot;,\r\n      &quot;logger&quot;: &quot;org.apache.kafka.clients.Metadata&quot;,\r\n      &quot;level&quot;: &quot;ERROR&quot;,\r\n      &quot;thread&quot;: &quot;org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1&quot;,\r\n      &quot;message&quot;: &quot;[Consumer clientId=consumer-local-1, groupId=local] Metadata response reported invalid topics [topic1,topic2]&quot;,\r\n      &quot;class&quot;: &quot;org.apache.kafka.clients.Metadata&quot;,\r\n      &quot;method&quot;: &quot;checkInvalidTopics&quot;,\r\n      &quot;file&quot;: &quot;Metadata.java&quot;,\r\n      &quot;line&quot;: 294\r\n    }\r\n    {\r\n     &quot;app&quot;: &quot;myApp&quot;,\r\n     &quot;@timestamp&quot;: &quot;2022-12-20T12:01:55.004Z&quot;,\r\n     &quot;userId&quot;: &quot;&quot;,\r\n     &quot;hostname&quot;: &quot;&quot;,\r\n     &quot;ipAddress&quot;: &quot;&quot;,\r\n     &quot;logger&quot;: &quot;org.apache.kafka.clients.consumer.internals.AbstractCoordinator&quot;,\r\n     &quot;level&quot;: &quot;INFO&quot;,\r\n     &quot;thread&quot;: &quot;org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1&quot;,\r\n     &quot;message&quot;: &quot;[Consumer clientId=consumer-local-1, groupId=local] Rebalance failed.&quot;,\r\n     &quot;class&quot;: &quot;org.apache.kafka.clients.consumer.internals.AbstractCoordinator&quot;,\r\n     &quot;method&quot;: &quot;joinGroupIfNeeded&quot;,\r\n     &quot;file&quot;: &quot;AbstractCoordinator.java&quot;,\r\n     &quot;line&quot;: 470,\r\n     &quot;stack&quot;: &quot;org.apache.kafka.common.errors.InvalidTopicException: Invalid topics: [topic1,topic2]\\n&quot;\r\n   }\r\n\r\nAny ideas on what I am doing wrong are greatly appreciated. Thank you\r\n\r\n\r\n","title":"Kafka - InvalidTopicException when using multiple topics","body":"<p>I have a SpringBoot application where I am using the @KafkaListener annotation with a topic and a groupId. I have two topics my listener needs to listen for. When listening for one topic, either one works fine</p>\n<pre><code>@KafkaListener(topics = &quot;topic1&quot;, groupId = &quot;local&quot;)\n</code></pre>\n<p>or</p>\n<pre><code>@KafkaListener(topics = &quot;topic2&quot;, groupId = &quot;local&quot;)\n</code></pre>\n<p>however, when I combine the two like this (which is my understanding of how to do multiple topics on one listener):</p>\n<pre><code>@KafkaListener(topics = {&quot;topic1,topic2&quot;}, groupId = &quot;local&quot;)\n</code></pre>\n<p>, I get scrolling exceptions like the following:</p>\n<pre><code>{\n  &quot;app&quot;: &quot;myApp&quot;,\n  &quot;@timestamp&quot;: &quot;2022-12-20T12:01:55.004Z&quot;,\n  &quot;userId&quot;: &quot;&quot;,\n  &quot;hostname&quot;: &quot;&quot;,\n  &quot;ipAddress&quot;: &quot;&quot;,\n  &quot;logger&quot;: &quot;org.apache.kafka.clients.Metadata&quot;,\n  &quot;level&quot;: &quot;ERROR&quot;,\n  &quot;thread&quot;: &quot;org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1&quot;,\n  &quot;message&quot;: &quot;[Consumer clientId=consumer-local-1, groupId=local] Metadata response reported invalid topics [topic1,topic2]&quot;,\n  &quot;class&quot;: &quot;org.apache.kafka.clients.Metadata&quot;,\n  &quot;method&quot;: &quot;checkInvalidTopics&quot;,\n  &quot;file&quot;: &quot;Metadata.java&quot;,\n  &quot;line&quot;: 294\n}\n{\n &quot;app&quot;: &quot;myApp&quot;,\n &quot;@timestamp&quot;: &quot;2022-12-20T12:01:55.004Z&quot;,\n &quot;userId&quot;: &quot;&quot;,\n &quot;hostname&quot;: &quot;&quot;,\n &quot;ipAddress&quot;: &quot;&quot;,\n &quot;logger&quot;: &quot;org.apache.kafka.clients.consumer.internals.AbstractCoordinator&quot;,\n &quot;level&quot;: &quot;INFO&quot;,\n &quot;thread&quot;: &quot;org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1&quot;,\n &quot;message&quot;: &quot;[Consumer clientId=consumer-local-1, groupId=local] Rebalance failed.&quot;,\n &quot;class&quot;: &quot;org.apache.kafka.clients.consumer.internals.AbstractCoordinator&quot;,\n &quot;method&quot;: &quot;joinGroupIfNeeded&quot;,\n &quot;file&quot;: &quot;AbstractCoordinator.java&quot;,\n &quot;line&quot;: 470,\n &quot;stack&quot;: &quot;org.apache.kafka.common.errors.InvalidTopicException: Invalid topics: [topic1,topic2]\\n&quot;\n</code></pre>\n<p>}</p>\n<p>Any ideas on what I am doing wrong are greatly appreciated. Thank you</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1695065121,"post_id":77129688,"comment_id":135971676,"body_markdown":"Why are you using version `17.0.6` for `javafx-controls` and `javafx-fxml` but `20` for `javafx-web`?","body":"Why are you using version <code>17.0.6</code> for <code>javafx-controls</code> and <code>javafx-fxml</code> but <code>20</code> for <code>javafx-web</code>?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1695076826,"post_id":77129688,"comment_id":135973305,"body_markdown":"Move your JavaFx dependency elements all together for easier reading.","body":"Move your JavaFx dependency elements all together for easier reading."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1695076871,"post_id":77129688,"comment_id":135973309,"body_markdown":"Use a variable for the same version number of all the JavaFX-related elements.","body":"Use a variable for the same version number of all the JavaFX-related elements."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1695101506,"post_id":77129688,"comment_id":135975266,"body_markdown":"Similar: [*can not resolve symbol &quot;javafx.scene.web&quot;*](https://stackoverflow.com/q/70942561/642706)","body":"Similar: <a href=\"https://stackoverflow.com/q/70942561/642706\"><i>can not resolve symbol &quot;javafx.scene.web&quot;</i></a>"}],"owner":{"account_id":26166704,"reputation":65,"user_id":19852405,"display_name":"Gabriel Gavrilov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695062357,"creation_date":1695062357,"question_id":77129688,"body_markdown":"I&#39;m trying to use WebView for one of my projects. \r\n\r\nI imported it in pom.xml, added it on module-info.java, and was able to use it in my main class without IntelliJ throwing me any errors, but, whenever I run the program I get a &quot;java: module not found: javafx.web&quot; issue. \r\n\r\nDoes anyone know why its doing this?\r\n\r\nThe thing that&#39;s frustrating me the most is that IntelliJ does find the library. It queries the class and its methods.\r\n\r\n**module-info.java**\r\n```\r\nmodule com.gabrielgavrilov.cobolt {\r\n    requires javafx.controls;\r\n    requires javafx.fxml;\r\n    requires javafx.web;\r\n    requires org.fxmisc.richtext;\r\n\r\n    opens com.gabrielgavrilov.cobolt.core to javafx.fxml;\r\n    exports com.gabrielgavrilov.cobolt.core;\r\n\r\n    opens com.gabrielgavrilov.cobolt.client to javafx.fxml;\r\n    exports com.gabrielgavrilov.cobolt.client;\r\n}\r\n```\r\n\r\n**pom.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;com.gabrielgavrilov&lt;/groupId&gt;\r\n  &lt;artifactId&gt;cobolt&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;name&gt;Cobolt&lt;/name&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n&lt;junit.version&gt;5.9.2&lt;/junit.version&gt;  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n      &lt;version&gt;17.0.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n      &lt;version&gt;17.0.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n&lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n      &lt;version&gt;${junit.version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n      &lt;version&gt;${junit.version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.fxmisc.richtext/richtextfx --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.fxmisc.richtext&lt;/groupId&gt;\r\n      &lt;artifactId&gt;richtextfx&lt;/artifactId&gt;\r\n      &lt;version&gt;0.11.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.openjfx/javafx-web --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javafx-web&lt;/artifactId&gt;\r\n      &lt;version&gt;20&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.11.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;source&gt;11&lt;/source&gt;\r\n          &lt;target&gt;11&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.8&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\r\n            &lt;id&gt;default-cli&lt;/id&gt;\r\n            &lt;configuration&gt;\r\n              &lt;mainClass&gt;com.gabrielgavrilov.cobolt/com.gabrielgavrilov.cobolt.client.Cobolt&lt;/mainClass&gt;\r\n              &lt;launcher&gt;app&lt;/launcher&gt;\r\n              &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\r\n              &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\r\n              &lt;noManPages&gt;true&lt;/noManPages&gt;\r\n              &lt;stripDebug&gt;true&lt;/stripDebug&gt;\r\n              &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```","title":"Keep getting a &quot;java: module not found: javafx.web&quot; on IntelliJ","body":"<p>I'm trying to use WebView for one of my projects.</p>\n<p>I imported it in pom.xml, added it on module-info.java, and was able to use it in my main class without IntelliJ throwing me any errors, but, whenever I run the program I get a &quot;java: module not found: javafx.web&quot; issue.</p>\n<p>Does anyone know why its doing this?</p>\n<p>The thing that's frustrating me the most is that IntelliJ does find the library. It queries the class and its methods.</p>\n<p><strong>module-info.java</strong></p>\n<pre><code>module com.gabrielgavrilov.cobolt {\n    requires javafx.controls;\n    requires javafx.fxml;\n    requires javafx.web;\n    requires org.fxmisc.richtext;\n\n    opens com.gabrielgavrilov.cobolt.core to javafx.fxml;\n    exports com.gabrielgavrilov.cobolt.core;\n\n    opens com.gabrielgavrilov.cobolt.client to javafx.fxml;\n    exports com.gabrielgavrilov.cobolt.client;\n}\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.gabrielgavrilov&lt;/groupId&gt;\n  &lt;artifactId&gt;cobolt&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;Cobolt&lt;/name&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n&lt;junit.version&gt;5.9.2&lt;/junit.version&gt;  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n      &lt;version&gt;17.0.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n      &lt;version&gt;17.0.6&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n&lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n      &lt;version&gt;${junit.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n      &lt;version&gt;${junit.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.fxmisc.richtext/richtextfx --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.fxmisc.richtext&lt;/groupId&gt;\n      &lt;artifactId&gt;richtextfx&lt;/artifactId&gt;\n      &lt;version&gt;0.11.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.openjfx/javafx-web --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-web&lt;/artifactId&gt;\n      &lt;version&gt;20&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.11.0&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;11&lt;/source&gt;\n          &lt;target&gt;11&lt;/target&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;0.0.8&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\n            &lt;id&gt;default-cli&lt;/id&gt;\n            &lt;configuration&gt;\n              &lt;mainClass&gt;com.gabrielgavrilov.cobolt/com.gabrielgavrilov.cobolt.client.Cobolt&lt;/mainClass&gt;\n              &lt;launcher&gt;app&lt;/launcher&gt;\n              &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\n              &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\n              &lt;noManPages&gt;true&lt;/noManPages&gt;\n              &lt;stripDebug&gt;true&lt;/stripDebug&gt;\n              &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","testng","qaf"],"answers":[{"tags":[],"owner":{"account_id":460481,"reputation":5813,"user_id":861594,"display_name":"user861594"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695062251,"creation_date":1695062251,"answer_id":77129678,"question_id":77124201,"body_markdown":"What you are trying is not supported with BDD implementation using feature file. If you want to take benefit of test dependency in BDD you should use  BDD with scenario implementation in Java using [Runtime Scenario][1]. \r\n\r\nRefer https://github.com/qmetry/qaf/issues/281#issuecomment-599856910\r\n\r\n\r\n  [1]: https://qmetry.github.io/qaf/latest/runtime_scenario.html","title":"QAF @dependsOnMethods is throwing nested exception error","body":"<p>What you are trying is not supported with BDD implementation using feature file. If you want to take benefit of test dependency in BDD you should use  BDD with scenario implementation in Java using <a href=\"https://qmetry.github.io/qaf/latest/runtime_scenario.html\" rel=\"nofollow noreferrer\">Runtime Scenario</a>.</p>\n<p>Refer <a href=\"https://github.com/qmetry/qaf/issues/281#issuecomment-599856910\" rel=\"nofollow noreferrer\">https://github.com/qmetry/qaf/issues/281#issuecomment-599856910</a></p>\n"}],"owner":{"account_id":12044988,"reputation":17,"user_id":10069320,"display_name":"Renish K.R"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77129678,"answer_count":1,"score":1,"last_activity_date":1695062251,"creation_date":1695001744,"question_id":77124201,"body_markdown":"I get a nested exception error if I use @dependsOnMethods for the below scenarios. These scenarios work perfectly without @dependsOnMethods\r\nNote: I have tried both in qaf.version: 3.2.0(Selenium: 3.141.59) &amp; 4.0.0-RC2 (Selenium:4.11.0)\r\n\r\n\r\n```\r\n@test0 @priority:1 @dependsOnMethods:[]\r\nScenario Outline: Scenario Test 1\r\n  Given Test step\r\n  Then I comment &quot;&lt;test_data&gt;&quot;\r\nExamples: \r\n  | test_data   |\r\n  | test data 1 |\r\n  | test data 2 |\r\n\r\n@test @priority:2 @dependsOnMethods:[&quot;Scenario Test 1&quot;]\r\nScenario: Scenario Test 2\r\n  Given Test step\r\n```\r\n\r\nError:\r\n```\r\nT E S T S\r\n-------------------------------------------------------\r\nRunning TestSuite\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\nAdded &quot;QAFMethodSelector&quot;\r\ninclude groups []\r\n exclude groups: [] Scanarios location: tests/ \r\norg.apache.maven.surefire.util.SurefireReflectionException: java.lang.reflect.InvocationTargetException; nested exception is java.lang.reflect.InvocationTargetException: null\r\njava.lang.reflect.InvocationTargetException\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n        at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:164)\r\n        at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:110)\r\n        at org.apache.maven.surefire.booter.SurefireStarter.invokeProvider(SurefireStarter.java:172)\r\n        at org.apache.maven.surefire.booter.SurefireStarter.runSuitesInProcessWhenForked(SurefireStarter.java:104)\r\n        at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:70)\r\nCaused by: org.testng.TestNGException: \r\nMethod &quot;tests.test.feature.Scenario Test 2()[pri:2, instance:com.qmetry.qaf.automation.step.client.Scenario@2]&quot; depends on nonexistent method &quot;Scenario Test 1&quot;\r\n        at org.testng.DependencyMap.getMethodDependingOn(DependencyMap.java:65)\r\n        at org.testng.TestRunner.createDynamicGraph(TestRunner.java:1041)\r\n        at org.testng.TestRunner.privateRun(TestRunner.java:723)\r\n        at org.testng.TestRunner.run(TestRunner.java:610)\r\n        at org.testng.SuiteRunner.runTest(SuiteRunner.java:387)\r\n        at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:382)\r\n        at org.testng.SuiteRunner.privateRun(SuiteRunner.java:340)\r\n        at org.testng.SuiteRunner.run(SuiteRunner.java:289)\r\n        at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n        at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\r\n        at org.testng.TestNG.runSuitesSequentially(TestNG.java:1293)\r\n        at org.testng.TestNG.runSuitesLocally(TestNG.java:1218)\r\n        at org.testng.TestNG.runSuites(TestNG.java:1133)\r\n        at org.testng.TestNG.run(TestNG.java:1104)\r\n        at org.apache.maven.surefire.testng.TestNGExecutor.run(TestNGExecutor.java:122)\r\n        at org.apache.maven.surefire.testng.TestNGXmlTestSuite.execute(TestNGXmlTestSuite.java:92)\r\n        at org.apache.maven.surefire.testng.TestNGProvider.invoke(TestNGProvider.java:101)\r\n        ... 9 more\r\nPreparing For Shut Down...\r\n```\r\n\r\n","title":"QAF @dependsOnMethods is throwing nested exception error","body":"<p>I get a nested exception error if I use @dependsOnMethods for the below scenarios. These scenarios work perfectly without @dependsOnMethods\nNote: I have tried both in qaf.version: 3.2.0(Selenium: 3.141.59) &amp; 4.0.0-RC2 (Selenium:4.11.0)</p>\n<pre><code>@test0 @priority:1 @dependsOnMethods:[]\nScenario Outline: Scenario Test 1\n  Given Test step\n  Then I comment &quot;&lt;test_data&gt;&quot;\nExamples: \n  | test_data   |\n  | test data 1 |\n  | test data 2 |\n\n@test @priority:2 @dependsOnMethods:[&quot;Scenario Test 1&quot;]\nScenario: Scenario Test 2\n  Given Test step\n</code></pre>\n<p>Error:</p>\n<pre><code>T E S T S\n-------------------------------------------------------\nRunning TestSuite\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nAdded &quot;QAFMethodSelector&quot;\ninclude groups []\n exclude groups: [] Scanarios location: tests/ \norg.apache.maven.surefire.util.SurefireReflectionException: java.lang.reflect.InvocationTargetException; nested exception is java.lang.reflect.InvocationTargetException: null\njava.lang.reflect.InvocationTargetException\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:164)\n        at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:110)\n        at org.apache.maven.surefire.booter.SurefireStarter.invokeProvider(SurefireStarter.java:172)\n        at org.apache.maven.surefire.booter.SurefireStarter.runSuitesInProcessWhenForked(SurefireStarter.java:104)\n        at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:70)\nCaused by: org.testng.TestNGException: \nMethod &quot;tests.test.feature.Scenario Test 2()[pri:2, instance:com.qmetry.qaf.automation.step.client.Scenario@2]&quot; depends on nonexistent method &quot;Scenario Test 1&quot;\n        at org.testng.DependencyMap.getMethodDependingOn(DependencyMap.java:65)\n        at org.testng.TestRunner.createDynamicGraph(TestRunner.java:1041)\n        at org.testng.TestRunner.privateRun(TestRunner.java:723)\n        at org.testng.TestRunner.run(TestRunner.java:610)\n        at org.testng.SuiteRunner.runTest(SuiteRunner.java:387)\n        at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:382)\n        at org.testng.SuiteRunner.privateRun(SuiteRunner.java:340)\n        at org.testng.SuiteRunner.run(SuiteRunner.java:289)\n        at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n        at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\n        at org.testng.TestNG.runSuitesSequentially(TestNG.java:1293)\n        at org.testng.TestNG.runSuitesLocally(TestNG.java:1218)\n        at org.testng.TestNG.runSuites(TestNG.java:1133)\n        at org.testng.TestNG.run(TestNG.java:1104)\n        at org.apache.maven.surefire.testng.TestNGExecutor.run(TestNGExecutor.java:122)\n        at org.apache.maven.surefire.testng.TestNGXmlTestSuite.execute(TestNGXmlTestSuite.java:92)\n        at org.apache.maven.surefire.testng.TestNGProvider.invoke(TestNGProvider.java:101)\n        ... 9 more\nPreparing For Shut Down...\n</code></pre>\n"},{"tags":["java","spring-boot","testing","h2","spring-test"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1695046633,"post_id":77127985,"comment_id":135968124,"body_markdown":"Why is the test concerned with internal database identifiers? Ah I see, you&#39;re just relying on Lombok&#39;s `equals` which makes the `contains()` fail. I suggest you determine what is equality, and whether the ID should be included (probably not).","body":"Why is the test concerned with internal database identifiers? Ah I see, you&#39;re just relying on Lombok&#39;s <code>equals</code> which makes the <code>contains()</code> fail. I suggest you determine what is equality, and whether the ID should be included (probably not)."},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1695046949,"post_id":77127985,"comment_id":135968189,"body_markdown":"@Kayaman you&#39;re right","body":"@Kayaman you&#39;re right"},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1695048285,"post_id":77127985,"comment_id":135968517,"body_markdown":"Using `equals`/`hashCode` that relies on any field other than `unid` is __really dangerous__ when combined with JPA systems, because a simple .equals check can query half the database out as it walks down an endless tree structure of inner joins. JPA itself hasn&#39;t given a solid answer how to do this, so lombok can&#39;t follow standard guidance as there is none. -a lombok author.","body":"Using <code>equals</code>/<code>hashCode</code> that relies on any field other than <code>unid</code> is <b>really dangerous</b> when combined with JPA systems, because a simple .equals check can query half the database out as it walks down an endless tree structure of inner joins. JPA itself hasn&#39;t given a solid answer how to do this, so lombok can&#39;t follow standard guidance as there is none. -a lombok author."},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1695048330,"post_id":77127985,"comment_id":135968526,"body_markdown":"My advice is mostly to just not use JPA at all, but if you must, I strongly suggest you check ONLY unid for equality, and consider the semantic meaning of an instance of Role to be &#39;it represents a row in the database that represents Roles&#39; and not &#39;it represents a Role&#39;, because those 2 ideas are fundamentally incompatible with each other even though it sounds like that should be the same thing.","body":"My advice is mostly to just not use JPA at all, but if you must, I strongly suggest you check ONLY unid for equality, and consider the semantic meaning of an instance of Role to be &#39;it represents a row in the database that represents Roles&#39; and not &#39;it represents a Role&#39;, because those 2 ideas are fundamentally incompatible with each other even though it sounds like that should be the same thing."},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1695048354,"post_id":77127985,"comment_id":135968534,"body_markdown":"With all that context: You should tell lombok to generate equality ONLY on unid, and, yes, your tests should restart the auto-incrementer.","body":"With all that context: You should tell lombok to generate equality ONLY on unid, and, yes, your tests should restart the auto-incrementer."},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1695048481,"post_id":77127985,"comment_id":135968570,"body_markdown":"I&#39;d write an answer as to that last one, but I don&#39;t know how. I know how to do it for postgres, as well as for h2, but I gather the intent would be to do it in a db-independent manner and there really isn&#39;t any consensus-standard-SQL to reset autocount columns. It&#39;s very complicated (the easy solution is to explicitly define the sequences, i.e. do not use AUTOSEQUENCE / GenType.IDENTITY at all), or to have no sequences at all (your UNID columns are java-side randomly generated UUIDs for example).","body":"I&#39;d write an answer as to that last one, but I don&#39;t know how. I know how to do it for postgres, as well as for h2, but I gather the intent would be to do it in a db-independent manner and there really isn&#39;t any consensus-standard-SQL to reset autocount columns. It&#39;s very complicated (the easy solution is to explicitly define the sequences, i.e. do not use AUTOSEQUENCE / GenType.IDENTITY at all), or to have no sequences at all (your UNID columns are java-side randomly generated UUIDs for example)."},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1695055737,"post_id":77127985,"comment_id":135970034,"body_markdown":"@rzwitserloot but what if you need to compare transient entities that haven&#39;t yet received their ids from a database?","body":"@rzwitserloot but what if you need to compare transient entities that haven&#39;t yet received their ids from a database?"},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1695056392,"post_id":77127985,"comment_id":135970158,"body_markdown":"@joreJoh That is a nonsensical wish. Either [A] an instance of your class represents a row. In that case, trying to compare 2 &#39;rows&#39; that haven&#39;t been written yet means that they are therefore by definition not identical to anything except their own reference (`if (x == this) return true; return false;` is the only correct implementation if not saved yet). After all, if you `.save()` both objects they&#39;d result in different rows. or [B] An instance of your class represents a role, you should equals/hashcode on everything _except_ unid, and using these with JPA will kill your server.","body":"@joreJoh That is a nonsensical wish. Either [A] an instance of your class represents a row. In that case, trying to compare 2 &#39;rows&#39; that haven&#39;t been written yet means that they are therefore by definition not identical to anything except their own reference (<code>if (x == this) return true; return false;</code> is the only correct implementation if not saved yet). After all, if you <code>.save()</code> both objects they&#39;d result in different rows. or [B] An instance of your class represents a role, you should equals/hashcode on everything <i>except</i> unid, and using these with JPA will kill your server."},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1695056461,"post_id":77127985,"comment_id":135970177,"body_markdown":"I think most of the world thinks B is the logical answer, except B kills servers (add a JPA-derived object to a hashset and kablooei there it goes, querying the entire DB out and OOMing after 10 minutes of chugging away at it). So, JPA needs to be clear and explain that instances of JPA persisted classes __represent rows, not the thing you named it as__. But they don&#39;t want to do that because it destroys the faulty but pretty picture that you&#39;re just persisting objects.","body":"I think most of the world thinks B is the logical answer, except B kills servers (add a JPA-derived object to a hashset and kablooei there it goes, querying the entire DB out and OOMing after 10 minutes of chugging away at it). So, JPA needs to be clear and explain that instances of JPA persisted classes <b>represent rows, not the thing you named it as</b>. But they don&#39;t want to do that because it destroys the faulty but pretty picture that you&#39;re just persisting objects."},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1695057659,"post_id":77127985,"comment_id":135970395,"body_markdown":"@rzwitserloot what if you simply exclude associations from `equals()`/`hashcode()`? What&#39;s wrong with comparing fields of basic types that don&#39;t have their own tables?","body":"@rzwitserloot what if you simply exclude associations from <code>equals()</code>/<code>hashcode()</code>? What&#39;s wrong with comparing fields of basic types that don&#39;t have their own tables?"},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1695058286,"post_id":77127985,"comment_id":135970522,"body_markdown":"@rzwitserloot also, I opened a [new question](https://stackoverflow.com/questions/77129264/what-equals-implementation-should-your-entity-classes-have) since it&#39;s, in my view, an interesting topic that calls for a separate discussion","body":"@rzwitserloot also, I opened a <a href=\"https://stackoverflow.com/questions/77129264/what-equals-implementation-should-your-entity-classes-have\">new question</a> since it&#39;s, in my view, an interesting topic that calls for a separate discussion"}],"answers":[{"tags":[],"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695058827,"creation_date":1695046771,"answer_id":77128019,"question_id":77127985,"body_markdown":"Only test the `authority` of the `Role`, not the entire object.\r\n\r\n    @Test\r\n    void findByAuthorityOrAuthority() {\r\n        assertThat(\r\n            roleDao.findByAuthorityOrAuthority(&quot;USER&quot;, &quot;ADMIN&quot;)\r\n                .stream()\r\n                .map(Role::getAuthority)\r\n                .collect(Collectors.toList()))\r\n            .asList()\r\n            .contains(&quot;USER&quot;, &quot;ADMIN&quot;);\r\n    }\r\n\r\nA similar change is advisable in the `findByAuthority` test, since the order the tests are run in is not guaranteed.","title":"Resetting the H2 incrementer","body":"<p>Only test the <code>authority</code> of the <code>Role</code>, not the entire object.</p>\n<pre><code>@Test\nvoid findByAuthorityOrAuthority() {\n    assertThat(\n        roleDao.findByAuthorityOrAuthority(&quot;USER&quot;, &quot;ADMIN&quot;)\n            .stream()\n            .map(Role::getAuthority)\n            .collect(Collectors.toList()))\n        .asList()\n        .contains(&quot;USER&quot;, &quot;ADMIN&quot;);\n}\n</code></pre>\n<p>A similar change is advisable in the <code>findByAuthority</code> test, since the order the tests are run in is not guaranteed.</p>\n"},{"tags":[],"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695061730,"creation_date":1695061730,"answer_id":77129636,"question_id":77127985,"body_markdown":"Ignoring ids is the way to go\r\n```java\r\npackage pp.spring_bootstrap.dao;\r\n\r\nimport org.junit.jupiter.api.AfterEach;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\r\nimport pp.spring_bootstrap.models.Role;\r\n\r\nimport java.util.List;\r\n\r\nimport static org.assertj.core.api.AssertionsForClassTypes.assertThat;\r\n\r\n@DataJpaTest\r\nclass RoleDaoTest {\r\n    @Autowired\r\n    RoleDao roleDao;\r\n    static final String USER = &quot;USER&quot;;\r\n    static final String ADMIN = &quot;ADMIN&quot;;\r\n\r\n    @BeforeEach\r\n    void addSampleRows() {\r\n        roleDao.saveAll(List.of(new Role(USER), new Role(ADMIN)));\r\n    }\r\n\r\n    @AfterEach\r\n    void clearRows() {\r\n        roleDao.deleteAll();\r\n    }\r\n\r\n    @Test\r\n    void findByAuthority() {\r\n        assertThat(roleDao.findByAuthority(USER))\r\n                .extracting(Role::getAuthority)\r\n                .matches(roleString -&gt; roleString.equals(USER));\r\n    }\r\n\r\n    @Test\r\n    void findByAuthorityOrAuthority() {\r\n        var roleStrings = roleDao.findByAuthorityOrAuthority(&quot;USER&quot;, &quot;ADMIN&quot;)\r\n                .stream()\r\n                .map(Role::getAuthority)\r\n                .toList();\r\n        assertThat(roleStrings.size()).isEqualTo(2);\r\n        assertThat(roleStrings).asList().contains(USER, ADMIN);\r\n    }\r\n}\r\n```","title":"Resetting the H2 incrementer","body":"<p>Ignoring ids is the way to go</p>\n<pre class=\"lang-java prettyprint-override\"><code>package pp.spring_bootstrap.dao;\n\nimport org.junit.jupiter.api.AfterEach;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\nimport pp.spring_bootstrap.models.Role;\n\nimport java.util.List;\n\nimport static org.assertj.core.api.AssertionsForClassTypes.assertThat;\n\n@DataJpaTest\nclass RoleDaoTest {\n    @Autowired\n    RoleDao roleDao;\n    static final String USER = &quot;USER&quot;;\n    static final String ADMIN = &quot;ADMIN&quot;;\n\n    @BeforeEach\n    void addSampleRows() {\n        roleDao.saveAll(List.of(new Role(USER), new Role(ADMIN)));\n    }\n\n    @AfterEach\n    void clearRows() {\n        roleDao.deleteAll();\n    }\n\n    @Test\n    void findByAuthority() {\n        assertThat(roleDao.findByAuthority(USER))\n                .extracting(Role::getAuthority)\n                .matches(roleString -&gt; roleString.equals(USER));\n    }\n\n    @Test\n    void findByAuthorityOrAuthority() {\n        var roleStrings = roleDao.findByAuthorityOrAuthority(&quot;USER&quot;, &quot;ADMIN&quot;)\n                .stream()\n                .map(Role::getAuthority)\n                .toList();\n        assertThat(roleStrings.size()).isEqualTo(2);\n        assertThat(roleStrings).asList().contains(USER, ADMIN);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77128019,"answer_count":2,"score":0,"last_activity_date":1695061730,"creation_date":1695046471,"question_id":77127985,"body_markdown":"How do I reset the id incrementer in H2? Call it an XY problem, if you want, but my test fail just because the ids (`GenerationType.IDENTITY`) don&#39;t match. I clear the rows in `@BeforeEach`, but the incrementer is not reset hence the error\r\n```java\r\npackage pp.spring_bootstrap.dao;\r\n\r\nimport org.junit.jupiter.api.AfterEach;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport pp.spring_bootstrap.models.Role;\r\n\r\nimport java.util.List;\r\n\r\nimport static org.assertj.core.api.AssertionsForClassTypes.assertThat;\r\n\r\n@SpringBootTest\r\nclass RoleDaoTest {\r\n    @Autowired\r\n    RoleDao roleDao;\r\n    static final Role USER = new Role(&quot;USER&quot;);\r\n    static final Role ADMIN = new Role(&quot;ADMIN&quot;);\r\n    @BeforeEach\r\n    void addSampleRows() {\r\n        roleDao.saveAll(List.of(USER, ADMIN));\r\n    }\r\n    @AfterEach\r\n    void clearRows() {\r\n        roleDao.deleteAll();\r\n    }\r\n    @Test\r\n    void findByAuthority() {\r\n        assertThat(roleDao.findByAuthority(&quot;USER&quot;)).isEqualTo(USER);\r\n    }\r\n\r\n    @Test\r\n    void findByAuthorityOrAuthority() {\r\n        assertThat(roleDao.findByAuthorityOrAuthority(&quot;USER&quot;, &quot;ADMIN&quot;)).asList().contains(USER, ADMIN);\r\n    }\r\n}\r\n```\r\n```java\r\npackage pp.spring_bootstrap.models;\r\n\r\nimport jakarta.persistence.*;\r\nimport lombok.EqualsAndHashCode;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\nimport org.springframework.security.core.GrantedAuthority;\r\n\r\nimport java.util.Set;\r\nimport java.util.StringJoiner;\r\n\r\n@Entity\r\n@Table(name = &quot;roles&quot;)\r\n@Getter\r\n@Setter\r\n@EqualsAndHashCode\r\npublic class Role implements GrantedAuthority {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n    @Column(name = &quot;role&quot;, nullable = false, unique = true)\r\n    private String authority;\r\n    @ManyToMany(mappedBy = &quot;authorities&quot;)\r\n    @EqualsAndHashCode.Exclude\r\n    private Set&lt;User&gt; userList;\r\n\r\n    public Role() {\r\n    }\r\n\r\n    public Role(String authority) {\r\n        this.authority = authority;\r\n    }\r\n\r\n    @Override\r\n    public String getAuthority() {\r\n        return authority;\r\n    }\r\n\r\n    // toString()\r\n}\r\n```\r\n```\r\njava.lang.AssertionError: \r\nExpecting ArrayList:\r\n  [Role[id=4, role=&#39;ADMIN&#39;], Role[id=3, role=&#39;USER&#39;]]\r\nto contain:\r\n  [Role[id=1, role=&#39;USER&#39;], Role[id=2, role=&#39;ADMIN&#39;]]\r\nbut could not find the following element(s):\r\n  [Role[id=1, role=&#39;USER&#39;], Role[id=2, role=&#39;ADMIN&#39;]]\r\n```\r\nGPT suggested `@DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_EACH_TEST_METHOD)`, but it slows down tests greatly. It seems an overkill to recreate the context each time just for those ids to match","title":"Resetting the H2 incrementer","body":"<p>How do I reset the id incrementer in H2? Call it an XY problem, if you want, but my test fail just because the ids (<code>GenerationType.IDENTITY</code>) don't match. I clear the rows in <code>@BeforeEach</code>, but the incrementer is not reset hence the error</p>\n<pre class=\"lang-java prettyprint-override\"><code>package pp.spring_bootstrap.dao;\n\nimport org.junit.jupiter.api.AfterEach;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport pp.spring_bootstrap.models.Role;\n\nimport java.util.List;\n\nimport static org.assertj.core.api.AssertionsForClassTypes.assertThat;\n\n@SpringBootTest\nclass RoleDaoTest {\n    @Autowired\n    RoleDao roleDao;\n    static final Role USER = new Role(&quot;USER&quot;);\n    static final Role ADMIN = new Role(&quot;ADMIN&quot;);\n    @BeforeEach\n    void addSampleRows() {\n        roleDao.saveAll(List.of(USER, ADMIN));\n    }\n    @AfterEach\n    void clearRows() {\n        roleDao.deleteAll();\n    }\n    @Test\n    void findByAuthority() {\n        assertThat(roleDao.findByAuthority(&quot;USER&quot;)).isEqualTo(USER);\n    }\n\n    @Test\n    void findByAuthorityOrAuthority() {\n        assertThat(roleDao.findByAuthorityOrAuthority(&quot;USER&quot;, &quot;ADMIN&quot;)).asList().contains(USER, ADMIN);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package pp.spring_bootstrap.models;\n\nimport jakarta.persistence.*;\nimport lombok.EqualsAndHashCode;\nimport lombok.Getter;\nimport lombok.Setter;\nimport org.springframework.security.core.GrantedAuthority;\n\nimport java.util.Set;\nimport java.util.StringJoiner;\n\n@Entity\n@Table(name = &quot;roles&quot;)\n@Getter\n@Setter\n@EqualsAndHashCode\npublic class Role implements GrantedAuthority {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n    @Column(name = &quot;role&quot;, nullable = false, unique = true)\n    private String authority;\n    @ManyToMany(mappedBy = &quot;authorities&quot;)\n    @EqualsAndHashCode.Exclude\n    private Set&lt;User&gt; userList;\n\n    public Role() {\n    }\n\n    public Role(String authority) {\n        this.authority = authority;\n    }\n\n    @Override\n    public String getAuthority() {\n        return authority;\n    }\n\n    // toString()\n}\n</code></pre>\n<pre><code>java.lang.AssertionError: \nExpecting ArrayList:\n  [Role[id=4, role='ADMIN'], Role[id=3, role='USER']]\nto contain:\n  [Role[id=1, role='USER'], Role[id=2, role='ADMIN']]\nbut could not find the following element(s):\n  [Role[id=1, role='USER'], Role[id=2, role='ADMIN']]\n</code></pre>\n<p>GPT suggested <code>@DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_EACH_TEST_METHOD)</code>, but it slows down tests greatly. It seems an overkill to recreate the context each time just for those ids to match</p>\n"},{"tags":["java","spring","websocket","streamingresponsebody"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":1,"creation_date":1695061887,"post_id":77129631,"comment_id":135971163,"body_markdown":"What do you mean with &quot;*its not working*&quot;?","body":"What do you mean with &quot;<i>its not working</i>&quot;?"},{"owner":{"account_id":25988974,"reputation":1,"user_id":19701519,"display_name":"imakhlaq"},"score":0,"creation_date":1695063410,"post_id":77129631,"comment_id":135971411,"body_markdown":"i mean their is no data at client end.","body":"i mean their is no data at client end."}],"owner":{"account_id":25988974,"reputation":1,"user_id":19701519,"display_name":"imakhlaq"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695061668,"creation_date":1695061668,"question_id":77129631,"body_markdown":"I am trying to stream a video file over an websocket using StreamingResponseBody. But its not working. Is it possible to use StreamingResponseBody over websocket connection?\r\n\r\n\r\n\r\n```\r\n@Controller\r\n@Slf4j\r\npublic class RoomController {\r\n\r\n    @Autowired\r\n    RoomService roomService;\r\n\r\n    @Autowired\r\n    private SimpMessagingTemplate messagingTemplate;\r\n\r\n    @MessageMapping(&quot;/message&quot;)\r\n    @SendTo(&quot;/topic/data&quot;)\r\n    public StreamingResponseBody getContent() throws IOException {\r\n\r\n\r\n        // Replace with the path to your video file\r\n        Path videoPath = Paths.get(&quot;F:\\\\earth.mp4&quot;);\r\n\r\n        // Open the video file as an InputStream\r\n        InputStream videoInputStream = Files.newInputStream(videoPath, StandardOpenOption.READ);\r\n\r\n        // Create an InputStreamSource from the InputStream\r\n        InputStreamSource source = new InputStreamResource(videoInputStream);\r\n\r\n        return outputStream -&gt; {\r\n            log.warn(&quot;inside writeTo&quot;);  //&lt;- not logging on console\r\n            InputStream is = source.getInputStream();\r\n            byte[] buffer = new byte[1024];\r\n            int bytesRead;\r\n            while ((bytesRead = is.read(buffer)) != -1) {\r\n                log.warn(&quot;Read byte {}&quot;, bytesRead);\r\n                outputStream.write(buffer, 0, bytesRead);\r\n            }\r\n        };\r\n\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n","title":"StreamingResponseBody is not working over websocket connecion","body":"<p>I am trying to stream a video file over an websocket using StreamingResponseBody. But its not working. Is it possible to use StreamingResponseBody over websocket connection?</p>\n<pre><code>@Controller\n@Slf4j\npublic class RoomController {\n\n    @Autowired\n    RoomService roomService;\n\n    @Autowired\n    private SimpMessagingTemplate messagingTemplate;\n\n    @MessageMapping(&quot;/message&quot;)\n    @SendTo(&quot;/topic/data&quot;)\n    public StreamingResponseBody getContent() throws IOException {\n\n\n        // Replace with the path to your video file\n        Path videoPath = Paths.get(&quot;F:\\\\earth.mp4&quot;);\n\n        // Open the video file as an InputStream\n        InputStream videoInputStream = Files.newInputStream(videoPath, StandardOpenOption.READ);\n\n        // Create an InputStreamSource from the InputStream\n        InputStreamSource source = new InputStreamResource(videoInputStream);\n\n        return outputStream -&gt; {\n            log.warn(&quot;inside writeTo&quot;);  //&lt;- not logging on console\n            InputStream is = source.getInputStream();\n            byte[] buffer = new byte[1024];\n            int bytesRead;\n            while ((bytesRead = is.read(buffer)) != -1) {\n                log.warn(&quot;Read byte {}&quot;, bytesRead);\n                outputStream.write(buffer, 0, bytesRead);\n            }\n        };\n\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","maven","intellij-idea","intellij-15"],"comments":[{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1695060021,"post_id":77129414,"comment_id":135970859,"body_markdown":"Build | Rebuild project will clean it automatically. What problem are you trying to solve that cannot be solved by Rebuild?","body":"Build | Rebuild project will clean it automatically. What problem are you trying to solve that cannot be solved by Rebuild?"},{"owner":{"account_id":1484728,"reputation":6277,"user_id":1393225,"accept_rate":71,"display_name":"Vnuuk"},"score":0,"creation_date":1695060190,"post_id":77129414,"comment_id":135970885,"body_markdown":"Thanks for your reply! When I hit Shift+F9 (or click &quot;bug&quot; icon) to start debugging, I found that IntelliJ does not clean content of the previous builds in &quot;target&quot; folders. So sometimes I have to go and delete those folders manually, so when I hit Shift+F9 next time, it produces a new / clean build.","body":"Thanks for your reply! When I hit Shift+F9 (or click &quot;bug&quot; icon) to start debugging, I found that IntelliJ does not clean content of the previous builds in &quot;target&quot; folders. So sometimes I have to go and delete those folders manually, so when I hit Shift+F9 next time, it produces a new / clean build."},{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":2,"creation_date":1695060251,"post_id":77129414,"comment_id":135970895,"body_markdown":"This is the expected behavior of the incremental compiler (Build action). Target folder is removed only on Rebuild.","body":"This is the expected behavior of the incremental compiler (Build action). Target folder is removed only on Rebuild."},{"owner":{"account_id":1484728,"reputation":6277,"user_id":1393225,"accept_rate":71,"display_name":"Vnuuk"},"score":0,"creation_date":1695060392,"post_id":77129414,"comment_id":135970915,"body_markdown":"OK, thank you! Build | Rebuild should work in my case.. Could you please post your answer? - I&#39;ll mark it as a right answer.","body":"OK, thank you! Build | Rebuild should work in my case.. Could you please post your answer? - I&#39;ll mark it as a right answer."}],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695060675,"creation_date":1695060675,"answer_id":77129509,"question_id":77129414,"body_markdown":"In order to clean the `target` directory and perform a clean build in IntelliJ IDEA, please use the Build | **Rebuild Project** action.","title":"Best way to remove all &quot;target&quot; folders in IntelliJ Idea","body":"<p>In order to clean the <code>target</code> directory and perform a clean build in IntelliJ IDEA, please use the Build | <strong>Rebuild Project</strong> action.</p>\n"}],"owner":{"account_id":1484728,"reputation":6277,"user_id":1393225,"accept_rate":71,"display_name":"Vnuuk"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":77129509,"answer_count":1,"score":1,"last_activity_date":1695060894,"creation_date":1695059645,"question_id":77129414,"body_markdown":"How can I automate the removal of &#39;target&#39; folders to facilitate a clean build process for my project in IntelliJ?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xsGWl.png","title":"Best way to remove all &quot;target&quot; folders in IntelliJ Idea","body":"<p>How can I automate the removal of 'target' folders to facilitate a clean build process for my project in IntelliJ?</p>\n<p><a href=\"https://i.stack.imgur.com/xsGWl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xsGWl.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","java-8","completable-future","try-with-resources"],"comments":[{"owner":{"account_id":974448,"reputation":3435,"user_id":2042457,"accept_rate":56,"display_name":"aksappy"},"score":0,"creation_date":1628873987,"post_id":68774523,"comment_id":121546025,"body_markdown":"Can&#39;t `asynFileOperation` accept a file path instead of accepting an open stream? Have you looked at `CompletableFuture#handle` method?","body":"Can&#39;t <code>asynFileOperation</code> accept a file path instead of accepting an open stream? Have you looked at <code>CompletableFuture#handle</code> method?"},{"owner":{"account_id":4565460,"reputation":480,"user_id":3706576,"display_name":"mperktold"},"score":0,"creation_date":1628930883,"post_id":68774523,"comment_id":121556070,"body_markdown":"Yes, I know about `handle` , it&#39;s essentially the same as `whenComplete` except that it allows to map both success and failure case to a new successful value, and I do not need that here. I just want to clean up resources and return the async result as-is.\nRegarding passing a file path instead of a stream, see my edit.","body":"Yes, I know about <code>handle</code> , it&#39;s essentially the same as <code>whenComplete</code> except that it allows to map both success and failure case to a new successful value, and I do not need that here. I just want to clean up resources and return the async result as-is. Regarding passing a file path instead of a stream, see my edit."}],"owner":{"account_id":4565460,"reputation":480,"user_id":3706576,"display_name":"mperktold"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":812,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1695060422,"creation_date":1628866796,"question_id":68774523,"body_markdown":"I am looking for a generic solution for cleaning up resources when working with asynchronous code in the form of `CompletableFuture`. It should offer the same guarantees as `try-finally` and `try-with-resources` for synchronous code. I&#39;ve asked the question on [Code Review][1], and I got an interesting answer, but it was closed since it better fits here, so here we go.\r\n\r\nSuppose I have a function that takes a `FileInputStream`, performs some operation using the file data in the background, and returns a `CompletableFuture&lt;Void` that will be completed when the background operation finishes:\r\n\r\n```java\r\nCompletableFuture&lt;Void&gt; asyncFileOperation(FileInputStream in) {\r\n  var cf = new CompletableFuture&lt;Void&gt;();\r\n  // ...\r\n  return cf;\r\n}\r\n```\r\n\r\n`FileInputStream` is a resource that has to be closed when not needed anymore. With synchronous code, we would use `finally` or `try-with-resources`. But with `CompletableFuture`, it&#39;s a bit more complicated. I can think of four ways, with pros and cons:\r\n\r\n**1. Simply using `whenComplete`**:\r\n```java\r\nFileInputStream in = openFile(&quot;data.txt&quot;);\r\nasyncFileOperation(in)\r\n  .whenComplete((r, x) -&gt; in.close());\r\n```\r\nThis is the &quot;obvious&quot; solution, as it is the direct translation from `finally` to the `CompletableFuture` world. It effectively closes the stream when `asyncFileOperation` completes, regardless whether it succeeds or fails. Except, when `asyncFileOperation` throws a synchronous RuntimeException before even returning the `CompletableFuture`, `whenComplete` will not be called, so neither will `close`.\r\n\r\nWe could write this off as &quot;never happens&quot;, but unexpected exceptions are the very reason we use `finally` and `try-with-resources` in the synchronous case. Is there any reason to believe this could be different for methods that return `CompletableFuture`?\r\n\r\n**2. Calling `asyncFileOperation` inside `thenCompose`**:\r\n```java\r\nCompletableFuture.completedFuture(openFile(&quot;data.txt&quot;))\r\n  .thenCompose(this::asyncFileOperation)\r\n  .whenComplete((r, x) -&gt; in.close());\r\n```\r\nThis solves the problem of solution 1 by executing `asyncFileOperation` in the context of an existing `CompletableFuture`, so any exception gets caught and `whenComplete` is always executed. The problem with this is that when an unexpected exception occurs, it will be swallowed silently (unless we excplicitely handle it). It will not bubble up the stack (unless we return the `CompletableFuture` and a handler further up the stack handles it), and it will never be passed to an `UncaughtExceptionHandler`. That is particularly bad for unexpected exceptions ones such as `NullPointerException`.\r\n\r\n**3. Using both `try-catch` and `whenComplete`**:\r\n```java\r\nFileInputStream in = openFile(&quot;data.txt&quot;);\r\ntry {\r\n  asyncFileOperation(in)\r\n    .whenComplete((r, x) -&gt; in.close());\r\n} catch (RuntimeException exc) {\r\n  in.close();\r\n  throw exc;\r\n}\r\n```\r\nThis solves all of the above problems, and doesn&#39;t really introduce new ones, except that it&#39;s ugly and repetitive. I&#39;ve seen this approach in the JDK implementation of `HttpClient.sendAsync`:\r\nit calls `unreference()` both in a [lambda passed to `whenComplete`][2] and in a [`catch` clause][3].\r\n\r\n**4. Doing it inside `asyncFileOperation`**:\r\n```java\r\nCompletableFuture&lt;Void&gt; asyncFileOperation(FileInputStream in) {\r\n  var cf = new CompletableFuture&lt;Void&gt;();\r\n  // ...\r\n  return cf.whenComplete((r, x) -&gt; in.close());\r\n}\r\n\r\nasyncFileOperation(openFile(&quot;data.txt&quot;));\r\n```\r\nHere, `asyncFileOperation` closes the stream itself ones it completes. Depending on the implementation, it might be obvious that there can be no RuntimeException, so we could eliminate some cases. If not, we need to use one of the approaches above to handle this, but we can handle it once and for all rather for every call.\r\n\r\nStill, I don&#39;t like this because maybe we want to continue to use the stream for some other operations, and its always nice when resources are created and cleaned up in the same place.\r\n\r\n----\r\n\r\nSo what are your thoughts on these options? Do you have other ones?\r\n\r\nI guess the question really boils down to whether `whenComplete` alone is enough and I&#39;m just being paranoid. If yes, I would stick to solution 1, otherwise it&#39;s maybe a question of context and personal taste whether solution 2 or 3 fits better.\r\n\r\n----\r\n\r\n**Edit**\r\n\r\nSome comments suggest to avoid the situation altogether by opening and closing the resource synchronously inside `asyncFileOperation`. I agree that it would be preferable, but what if it isn&#39;t possible? Maybe the caller must read a few lines, and `asyncFileOperation` reads the rest. Or, maybe `asyncFileOperation` reads the file in an asynchronous manner, which means we *can* open and close the stream inside the function, but we must close it asynchronously, so the question is again how to do it (maybe here solution 3 is best, because we can close the resource in a single place, just like `HttpClient`).\r\n\r\nAlso, I used `FileInputStream` just as some concrete example. In our real project, we often show a dialog that returns a `CompletableFuture` which is completed when the dialog is closed, and we need to do some cleanup work then, like removing UI event listeners, or closing a DB connection that is used throughout the whole async process.\r\n\r\nAre scenarios like these always bad? Should I avoid them at all cost? Is that always possible? If so, are there any resources on how to design software in such a manner? If not, I would like to know how the best way to handle such situations in general.\r\n\r\n  [1]: https://codereview.stackexchange.com/questions/265850/best-way-of-cleaning-up-resources-with-completablefuture\r\n  [2]: https://github.com/openjdk/jdk/blob/d06d0b9e9d9d27aa549455f19b9803752431bcbb/src/java.net.http/share/classes/jdk/internal/net/http/HttpClientImpl.java#L654\r\n  [3]: https://github.com/openjdk/jdk/blob/d06d0b9e9d9d27aa549455f19b9803752431bcbb/src/java.net.http/share/classes/jdk/internal/net/http/HttpClientImpl.java#L668","title":"Best way of cleaning up resources with CompletableFuture","body":"<p>I am looking for a generic solution for cleaning up resources when working with asynchronous code in the form of <code>CompletableFuture</code>. It should offer the same guarantees as <code>try-finally</code> and <code>try-with-resources</code> for synchronous code. I've asked the question on <a href=\"https://codereview.stackexchange.com/questions/265850/best-way-of-cleaning-up-resources-with-completablefuture\">Code Review</a>, and I got an interesting answer, but it was closed since it better fits here, so here we go.</p>\n<p>Suppose I have a function that takes a <code>FileInputStream</code>, performs some operation using the file data in the background, and returns a <code>CompletableFuture&lt;Void</code> that will be completed when the background operation finishes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CompletableFuture&lt;Void&gt; asyncFileOperation(FileInputStream in) {\n  var cf = new CompletableFuture&lt;Void&gt;();\n  // ...\n  return cf;\n}\n</code></pre>\n<p><code>FileInputStream</code> is a resource that has to be closed when not needed anymore. With synchronous code, we would use <code>finally</code> or <code>try-with-resources</code>. But with <code>CompletableFuture</code>, it's a bit more complicated. I can think of four ways, with pros and cons:</p>\n<p><strong>1. Simply using <code>whenComplete</code></strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>FileInputStream in = openFile(&quot;data.txt&quot;);\nasyncFileOperation(in)\n  .whenComplete((r, x) -&gt; in.close());\n</code></pre>\n<p>This is the &quot;obvious&quot; solution, as it is the direct translation from <code>finally</code> to the <code>CompletableFuture</code> world. It effectively closes the stream when <code>asyncFileOperation</code> completes, regardless whether it succeeds or fails. Except, when <code>asyncFileOperation</code> throws a synchronous RuntimeException before even returning the <code>CompletableFuture</code>, <code>whenComplete</code> will not be called, so neither will <code>close</code>.</p>\n<p>We could write this off as &quot;never happens&quot;, but unexpected exceptions are the very reason we use <code>finally</code> and <code>try-with-resources</code> in the synchronous case. Is there any reason to believe this could be different for methods that return <code>CompletableFuture</code>?</p>\n<p><strong>2. Calling <code>asyncFileOperation</code> inside <code>thenCompose</code></strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CompletableFuture.completedFuture(openFile(&quot;data.txt&quot;))\n  .thenCompose(this::asyncFileOperation)\n  .whenComplete((r, x) -&gt; in.close());\n</code></pre>\n<p>This solves the problem of solution 1 by executing <code>asyncFileOperation</code> in the context of an existing <code>CompletableFuture</code>, so any exception gets caught and <code>whenComplete</code> is always executed. The problem with this is that when an unexpected exception occurs, it will be swallowed silently (unless we excplicitely handle it). It will not bubble up the stack (unless we return the <code>CompletableFuture</code> and a handler further up the stack handles it), and it will never be passed to an <code>UncaughtExceptionHandler</code>. That is particularly bad for unexpected exceptions ones such as <code>NullPointerException</code>.</p>\n<p><strong>3. Using both <code>try-catch</code> and <code>whenComplete</code></strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>FileInputStream in = openFile(&quot;data.txt&quot;);\ntry {\n  asyncFileOperation(in)\n    .whenComplete((r, x) -&gt; in.close());\n} catch (RuntimeException exc) {\n  in.close();\n  throw exc;\n}\n</code></pre>\n<p>This solves all of the above problems, and doesn't really introduce new ones, except that it's ugly and repetitive. I've seen this approach in the JDK implementation of <code>HttpClient.sendAsync</code>:\nit calls <code>unreference()</code> both in a <a href=\"https://github.com/openjdk/jdk/blob/d06d0b9e9d9d27aa549455f19b9803752431bcbb/src/java.net.http/share/classes/jdk/internal/net/http/HttpClientImpl.java#L654\" rel=\"nofollow noreferrer\">lambda passed to <code>whenComplete</code></a> and in a <a href=\"https://github.com/openjdk/jdk/blob/d06d0b9e9d9d27aa549455f19b9803752431bcbb/src/java.net.http/share/classes/jdk/internal/net/http/HttpClientImpl.java#L668\" rel=\"nofollow noreferrer\"><code>catch</code> clause</a>.</p>\n<p><strong>4. Doing it inside <code>asyncFileOperation</code></strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CompletableFuture&lt;Void&gt; asyncFileOperation(FileInputStream in) {\n  var cf = new CompletableFuture&lt;Void&gt;();\n  // ...\n  return cf.whenComplete((r, x) -&gt; in.close());\n}\n\nasyncFileOperation(openFile(&quot;data.txt&quot;));\n</code></pre>\n<p>Here, <code>asyncFileOperation</code> closes the stream itself ones it completes. Depending on the implementation, it might be obvious that there can be no RuntimeException, so we could eliminate some cases. If not, we need to use one of the approaches above to handle this, but we can handle it once and for all rather for every call.</p>\n<p>Still, I don't like this because maybe we want to continue to use the stream for some other operations, and its always nice when resources are created and cleaned up in the same place.</p>\n<hr />\n<p>So what are your thoughts on these options? Do you have other ones?</p>\n<p>I guess the question really boils down to whether <code>whenComplete</code> alone is enough and I'm just being paranoid. If yes, I would stick to solution 1, otherwise it's maybe a question of context and personal taste whether solution 2 or 3 fits better.</p>\n<hr />\n<p><strong>Edit</strong></p>\n<p>Some comments suggest to avoid the situation altogether by opening and closing the resource synchronously inside <code>asyncFileOperation</code>. I agree that it would be preferable, but what if it isn't possible? Maybe the caller must read a few lines, and <code>asyncFileOperation</code> reads the rest. Or, maybe <code>asyncFileOperation</code> reads the file in an asynchronous manner, which means we <em>can</em> open and close the stream inside the function, but we must close it asynchronously, so the question is again how to do it (maybe here solution 3 is best, because we can close the resource in a single place, just like <code>HttpClient</code>).</p>\n<p>Also, I used <code>FileInputStream</code> just as some concrete example. In our real project, we often show a dialog that returns a <code>CompletableFuture</code> which is completed when the dialog is closed, and we need to do some cleanup work then, like removing UI event listeners, or closing a DB connection that is used throughout the whole async process.</p>\n<p>Are scenarios like these always bad? Should I avoid them at all cost? Is that always possible? If so, are there any resources on how to design software in such a manner? If not, I would like to know how the best way to handle such situations in general.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1694755519,"post_id":77109592,"comment_id":135935497,"body_markdown":"According to the javadocs, those 2 classes exist in Java 18 SE.  Therefore, the problem is with your Eclipse setup.  Try the solutions in https://stackoverflow.com/questions/25337182, https://stackoverflow.com/questions/4322893 and similar questions.","body":"According to the javadocs, those 2 classes exist in Java 18 SE.  Therefore, the problem is with your Eclipse setup.  Try the solutions in <a href=\"https://stackoverflow.com/questions/25337182\">stackoverflow.com/questions/25337182</a>, <a href=\"https://stackoverflow.com/questions/4322893\">stackoverflow.com/questions/4322893</a> and similar questions."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1694755792,"post_id":77109592,"comment_id":135935513,"body_markdown":"If that fails, it is conceivable that you have a homoglyph problem ... and one or more of the (Unicode) code-points in the source text is not the character that it looks like.  This can happy when copy-pasting from &quot;unclean&quot; sources.   (And ... why are you using Java 18?  It is end-of-life.  Use Java 17 LTS or Java 21 LTS.)","body":"If that fails, it is conceivable that you have a homoglyph problem ... and one or more of the (Unicode) code-points in the source text is not the character that it looks like.  This can happy when copy-pasting from &quot;unclean&quot; sources.   (And ... why are you using Java 18?  It is end-of-life.  Use Java 17 LTS or Java 21 LTS.)"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1694776618,"post_id":77109592,"comment_id":135939001,"body_markdown":"@StephenC Technically, Java 21 isn’t released for general use yet.  A few more days…","body":"@StephenC Technically, Java 21 isn’t released for general use yet.  A few more days…"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1694777520,"post_id":77109592,"comment_id":135939140,"body_markdown":"OK ... Java 17 LTS ... or Java 21 LTS in a few days time.  (And I&#39;d be inclined to wait until the inevitable first patch release has landed.  Just in case ...)","body":"OK ... Java 17 LTS ... or Java 21 LTS in a few days time.  (And I&#39;d be inclined to wait until the inevitable first patch release has landed.  Just in case ...)"}],"owner":{"account_id":1234535,"reputation":139,"user_id":1198411,"accept_rate":44,"display_name":"user1198411"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695060412,"creation_date":1694751816,"question_id":77109592,"body_markdown":"I&#39;m relatively new to Eclipse. I have a new clean installation of Eclipse on a Mac running Ventura 13.1.\r\n\r\nIn Terminal, java -version yields:\r\n\r\n    java version &quot;1.8.0_381&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0_381-b09)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 25.381-b09, mixed mode)\r\n\r\nIn a simple test program without modules, and using only the default package, I begin with:\r\n\r\n    import java.beans.PropertyChangeListener;\r\n    import java.beans.PropertyChangeEvent;\r\n\r\nThe second of these imports is flagged as unresolvable (the first is accepted).\r\n\r\nIn my project, I see &quot;JRE System Library [JavaSE-18]&quot;. Opening that (clicking the &quot;reveal triangle &gt;&quot;), I see jar file &quot;java.desktop&quot;; opening that, I see package &quot;java.beans&quot;; opening that, I see a long list of classes including &quot;PropertyChangeEvent&quot;.\r\n\r\nHowever, all those classes have a reveal triangle EXCEPT PropertyChangeEvent. That would seem to explain why my import is flagged as unresolvable.\r\n\r\nHow might I resolve this problem?\r\n\r\nUpdates Sept 18, 2023: (1) Copying PropertyChangeEvent.java source code into my project&#39;s source file seemed to solve the issue, and (2) installing jdk-17_macos-x64 from Oracle, which shows Java version &quot;build 20.0.2+9-78&quot;, also seems to work.\r\n\r\nI don&#39;t think I yet understand the numbering schemes where &quot;Java 8&quot;, &quot;jdk-17&quot;, and &quot;build 20.0.2&quot; are the same thing.\r\n","title":"Eclipse JavaSE-18 cannot resolve PropertyChangeListener","body":"<p>I'm relatively new to Eclipse. I have a new clean installation of Eclipse on a Mac running Ventura 13.1.</p>\n<p>In Terminal, java -version yields:</p>\n<pre><code>java version &quot;1.8.0_381&quot;\nJava(TM) SE Runtime Environment (build 1.8.0_381-b09)\nJava HotSpot(TM) 64-Bit Server VM (build 25.381-b09, mixed mode)\n</code></pre>\n<p>In a simple test program without modules, and using only the default package, I begin with:</p>\n<pre><code>import java.beans.PropertyChangeListener;\nimport java.beans.PropertyChangeEvent;\n</code></pre>\n<p>The second of these imports is flagged as unresolvable (the first is accepted).</p>\n<p>In my project, I see &quot;JRE System Library [JavaSE-18]&quot;. Opening that (clicking the &quot;reveal triangle &gt;&quot;), I see jar file &quot;java.desktop&quot;; opening that, I see package &quot;java.beans&quot;; opening that, I see a long list of classes including &quot;PropertyChangeEvent&quot;.</p>\n<p>However, all those classes have a reveal triangle EXCEPT PropertyChangeEvent. That would seem to explain why my import is flagged as unresolvable.</p>\n<p>How might I resolve this problem?</p>\n<p>Updates Sept 18, 2023: (1) Copying PropertyChangeEvent.java source code into my project's source file seemed to solve the issue, and (2) installing jdk-17_macos-x64 from Oracle, which shows Java version &quot;build 20.0.2+9-78&quot;, also seems to work.</p>\n<p>I don't think I yet understand the numbering schemes where &quot;Java 8&quot;, &quot;jdk-17&quot;, and &quot;build 20.0.2&quot; are the same thing.</p>\n"},{"tags":["java",".htaccess","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":1031744,"reputation":27054,"user_id":1039952,"accept_rate":81,"display_name":"Petr Mensik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1379246397,"creation_date":1379241470,"answer_id":18811405,"question_id":18805538,"body_markdown":"You just need to specify machine&#39;s IP address, port and database name in the connection string. So try something like\r\n\r\n    String dbUrl = &quot;jdbc:mysql://192.168.1.53306/myDB&quot;;\r\n    DriverManager.getConnection(dbUrl, &quot;username&quot;, &quot;password&quot;);\r\n\r\nAnd your tests should work the same way as before, you are just connectng to the different machine which can be more time consuming (e.g. queries can take more time) but that&#39;s the only difference.","title":"Connect Remote Database using Selenium Webdriver and run Test Cases from local machine through eclipse","body":"<p>You just need to specify machine's IP address, port and database name in the connection string. So try something like</p>\n\n<pre><code>String dbUrl = \"jdbc:mysql://192.168.1.53306/myDB\";\nDriverManager.getConnection(dbUrl, \"username\", \"password\");\n</code></pre>\n\n<p>And your tests should work the same way as before, you are just connectng to the different machine which can be more time consuming (e.g. queries can take more time) but that's the only difference.</p>\n"},{"tags":[],"owner":{"account_id":460481,"reputation":5813,"user_id":861594,"display_name":"user861594"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1379532694,"creation_date":1379532694,"answer_id":18880729,"question_id":18805538,"body_markdown":"You can utilize data driven capability provided by one of the [selenium testing-frameworks][1] - [ISFW][2] where you can specify data base query to provide test data.\r\nFor example:\r\n\r\n    @IsDataProvider(sqlQuery=&quot;select query&quot;)\r\n    @Test\r\n    public void testSomething(Map&lt;String, String&gt; testdata){\r\n      //use query col as key testdata.get(&quot;colName&quot;)\r\n      }\r\n\r\n\r\n  [1]: http://docs.seleniumhq.org/about/platforms.jsp#testing-frameworks\r\n  [2]: http://blog.infostretch.com/isfw-faq","title":"Connect Remote Database using Selenium Webdriver and run Test Cases from local machine through eclipse","body":"<p>You can utilize data driven capability provided by one of the <a href=\"http://docs.seleniumhq.org/about/platforms.jsp#testing-frameworks\" rel=\"nofollow\">selenium testing-frameworks</a> - <a href=\"http://blog.infostretch.com/isfw-faq\" rel=\"nofollow\">ISFW</a> where you can specify data base query to provide test data.\nFor example:</p>\n\n<pre><code>@IsDataProvider(sqlQuery=\"select query\")\n@Test\npublic void testSomething(Map&lt;String, String&gt; testdata){\n  //use query col as key testdata.get(\"colName\")\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4977124,"reputation":11,"user_id":4003136,"display_name":"Deepa Reddy"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1412064991,"creation_date":1412061744,"answer_id":26114997,"question_id":18805538,"body_markdown":"You need to add a jar file to connect to the database\r\n\r\n    jar: mysql-connector-java","title":"Connect Remote Database using Selenium Webdriver and run Test Cases from local machine through eclipse","body":"<p>You need to add a jar file to connect to the database</p>\n\n<pre><code>jar: mysql-connector-java\n</code></pre>\n"}],"owner":{"account_id":1608804,"reputation":700,"user_id":1488327,"accept_rate":100,"display_name":"John"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13494,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1695060305,"creation_date":1379186720,"question_id":18805538,"body_markdown":"I am using **selenium web driver java built**, the editor is **eclipse**. For testing one of our websites I am using Data-driven testing by fetching data from MySQL database.\r\n\r\nI dumped the development server database to my local machine and installed that dumped data in my machine xampp and able to connect to the database and proceed through the testing process.\r\n\r\n\r\nTo connect to my local machine database I am using this connection string \r\n\r\n\r\n    String url1 =&quot;jdbc:mysql://localhost:3306/databasename&quot;;           \r\n    String dbClass = &quot;com.mysql.jdbc.Driver&quot;;\r\n    Class.forName(dbClass).newInstance();\r\n    Connection con = DriverManager.getConnection(url1, &quot;root&quot;, &quot;&quot;);\r\n    Statement stmt = (Statement) con.createStatement();\r\n\r\n\r\nNow I need to connect to our original development server database which is in remote server.\r\n\r\nI have tried  this as connection string to connect remote machine\r\n\r\n     String url1 =&quot;jdbc:mysql://10.0.2.129:3306/test&quot;;\r\n     String dbClass =&quot;com.mysql.jdbc.Driver&quot;;\r\n     Class.forName(dbClass).newInstance();\r\n     Connection con = DriverManager.getConnection(url1, &quot;root&quot;,&quot;root&quot;);\r\n\r\nbut not able to connect to the remote machine database.\r\n\r\nFollowing error is showing:\r\n\r\n    java.lang.ClassNotFoundException: com.mysql.jdbc.Driver\r\n        at java.net.URLClassLoader$1.run(Unknown Source)\r\n    \tat java.net.URLClassLoader$1.run(Unknown Source)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n\r\nCan anyone suggest me **what changes are needed to be done in the connection string to connect the remote server database which is ht access protected**? \r\n\r\nAnd how I can run my test cases from my local machine while connecting to the remote server database.\r\n\r\nPlease provide some suggestion.","title":"Connect Remote Database using Selenium Webdriver and run Test Cases from local machine through eclipse","body":"<p>I am using <strong>selenium web driver java built</strong>, the editor is <strong>eclipse</strong>. For testing one of our websites I am using Data-driven testing by fetching data from MySQL database.</p>\n<p>I dumped the development server database to my local machine and installed that dumped data in my machine xampp and able to connect to the database and proceed through the testing process.</p>\n<p>To connect to my local machine database I am using this connection string</p>\n<pre><code>String url1 =&quot;jdbc:mysql://localhost:3306/databasename&quot;;           \nString dbClass = &quot;com.mysql.jdbc.Driver&quot;;\nClass.forName(dbClass).newInstance();\nConnection con = DriverManager.getConnection(url1, &quot;root&quot;, &quot;&quot;);\nStatement stmt = (Statement) con.createStatement();\n</code></pre>\n<p>Now I need to connect to our original development server database which is in remote server.</p>\n<p>I have tried  this as connection string to connect remote machine</p>\n<pre><code> String url1 =&quot;jdbc:mysql://10.0.2.129:3306/test&quot;;\n String dbClass =&quot;com.mysql.jdbc.Driver&quot;;\n Class.forName(dbClass).newInstance();\n Connection con = DriverManager.getConnection(url1, &quot;root&quot;,&quot;root&quot;);\n</code></pre>\n<p>but not able to connect to the remote machine database.</p>\n<p>Following error is showing:</p>\n<pre><code>java.lang.ClassNotFoundException: com.mysql.jdbc.Driver\n    at java.net.URLClassLoader$1.run(Unknown Source)\n    at java.net.URLClassLoader$1.run(Unknown Source)\n    at java.security.AccessController.doPrivileged(Native Method)\n</code></pre>\n<p>Can anyone suggest me <strong>what changes are needed to be done in the connection string to connect the remote server database which is ht access protected</strong>?</p>\n<p>And how I can run my test cases from my local machine while connecting to the remote server database.</p>\n<p>Please provide some suggestion.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":969715,"reputation":70,"user_id":992483,"display_name":"SetSlapShot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1318469755,"creation_date":1318469755,"answer_id":7748465,"question_id":7748450,"body_markdown":"? is the wildcard character. You can represent it as ? extends object or something of the sort which has the same effect. From my understanding wildcards are not exactly an art so far in java they need to be somewhat bounded *but dont quote me on that","title":"In java, what does Enumeration&lt;?&gt; mean?","body":"<p>? is the wildcard character. You can represent it as ? extends object or something of the sort which has the same effect. From my understanding wildcards are not exactly an art so far in java they need to be somewhat bounded *but dont quote me on that</p>\n"},{"tags":[],"owner":{"account_id":337,"reputation":88173,"user_id":422,"accept_rate":98,"display_name":"Chris Bunch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1318469779,"creation_date":1318469779,"answer_id":7748466,"question_id":7748450,"body_markdown":"The question mark indicates that it stands for all types. Here&#39;s an [example][1]:\r\n\r\n&gt; In addition to concrete instantiation there so-called wildcard\r\n&gt; instantiations .  They do not have concrete types as type arguments,\r\n&gt; but so-called wildcards . A wildcard is a syntactic construct with a &quot;\r\n&gt; ? &quot; that denotes not just one type, but a family of types.  In its\r\n&gt; simplest form a wildcard is just a question mark and stands for &quot;all\r\n&gt; types&quot;. \r\n&gt; \r\n&gt; Example (of a wildcard parameterized type): \r\n&gt; \r\n&gt;     public void printPair( Pair&lt;?,?&gt; pair) {   \r\n&gt;     System.out.println(&quot;(&quot;+pair.getFirst()+&quot;,&quot;+pair.getSecond()+&quot;)&quot;);\r\n&gt;     }\r\n&gt;\r\n&gt;     Pair&lt;?,?&gt; limit = new Pair&lt;String,Long&gt; (&quot;maximum&quot;,1024L); \r\n&gt;     printPair(limit);\r\n\r\n\r\n  [1]: http://www.angelikalanger.com/GenericsFAQ/FAQSections/ParameterizedTypes.html","title":"In java, what does Enumeration&lt;?&gt; mean?","body":"<p>The question mark indicates that it stands for all types. Here's an <a href=\"http://www.angelikalanger.com/GenericsFAQ/FAQSections/ParameterizedTypes.html\" rel=\"nofollow\">example</a>:</p>\n\n<blockquote>\n  <p>In addition to concrete instantiation there so-called wildcard\n  instantiations .  They do not have concrete types as type arguments,\n  but so-called wildcards . A wildcard is a syntactic construct with a \"\n  ? \" that denotes not just one type, but a family of types.  In its\n  simplest form a wildcard is just a question mark and stands for \"all\n  types\". </p>\n  \n  <p>Example (of a wildcard parameterized type): </p>\n\n<pre><code>public void printPair( Pair&lt;?,?&gt; pair) {   \nSystem.out.println(\"(\"+pair.getFirst()+\",\"+pair.getSecond()+\")\");\n}\n\nPair&lt;?,?&gt; limit = new Pair&lt;String,Long&gt; (\"maximum\",1024L); \nprintPair(limit);\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1695060160,"creation_date":1318470824,"answer_id":7748580,"question_id":7748450,"body_markdown":"The `&lt;?&gt;` syntax is java&#39;s way to specifying that the generic type is &quot;unbounded&quot; - ie it can be &quot;anything&quot;.  \r\n\r\n`Enumeration&lt;?&gt;` is an Enumeration with an &quot;unbounded type&quot; - you can assign an Enumeration of any type to such a variable, for example:\r\n\r\n    Vector&lt;String&gt; v = new Vector&lt;String&gt;();\r\n    Enumeration&lt;String&gt; es = v.elements();\r\n    Enumeration&lt;?&gt; e = es; // This assignment compiles OK\r\n\r\nHowever, being unbounded, the nextElement() method of an `Enumeration&lt;?&gt;` with return type `Object` (even if it&#39;s actually an `Enumeration&lt;String&gt;`), so you&#39;ll have to cast if you want typed elements:\r\n\r\n    String s = (String)e.nextElement(); // Unsafe cast - compiler warning\r\n\r\n&lt;br/&gt;\r\nFor background, [Enumeration][1] is a typed interface with two methods [hasMoreElements()][2] and \r\n[nextElement()][3]. It was an early (poor) attempt that was superseded by [Iterable][4] and [Iterator][5]. A few old class use it, like [Vector][6] and [StringTokenizer][7].\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/Enumeration.html\r\n  [2]: http://download.oracle.com/javase/6/docs/api/java/util/Enumeration.html#hasMoreElements%28%29\r\n  [3]: http://download.oracle.com/javase/6/docs/api/java/util/Enumeration.html#nextElement%28%29\r\n  [4]: http://download.oracle.com/javase/6/docs/api/java/lang/Iterable.html\r\n  [5]: http://download.oracle.com/javase/6/docs/api/java/util/Iterator.html\r\n  [6]: http://download.oracle.com/javase/6/docs/api/java/util/Vector.html\r\n  [7]: http://download.oracle.com/javase/6/docs/api/java/util/StringTokenizer.html","title":"In java, what does Enumeration&lt;?&gt; mean?","body":"<p>The <code>&lt;?&gt;</code> syntax is java's way to specifying that the generic type is &quot;unbounded&quot; - ie it can be &quot;anything&quot;.</p>\n<p><code>Enumeration&lt;?&gt;</code> is an Enumeration with an &quot;unbounded type&quot; - you can assign an Enumeration of any type to such a variable, for example:</p>\n<pre><code>Vector&lt;String&gt; v = new Vector&lt;String&gt;();\nEnumeration&lt;String&gt; es = v.elements();\nEnumeration&lt;?&gt; e = es; // This assignment compiles OK\n</code></pre>\n<p>However, being unbounded, the nextElement() method of an <code>Enumeration&lt;?&gt;</code> with return type <code>Object</code> (even if it's actually an <code>Enumeration&lt;String&gt;</code>), so you'll have to cast if you want typed elements:</p>\n<pre><code>String s = (String)e.nextElement(); // Unsafe cast - compiler warning\n</code></pre>\n<br/>\nFor background, [Enumeration][1] is a typed interface with two methods [hasMoreElements()][2] and \n[nextElement()][3]. It was an early (poor) attempt that was superseded by [Iterable][4] and [Iterator][5]. A few old class use it, like [Vector][6] and [StringTokenizer][7].\n"},{"tags":[],"owner":{"account_id":446547,"reputation":126635,"user_id":839646,"accept_rate":70,"display_name":"Ryan Stewart"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1318470835,"creation_date":1318470835,"answer_id":7748584,"question_id":7748450,"body_markdown":"While it&#39;s tempting to think of the `?` as representing &quot;any&quot; or &quot;all&quot; types, it actually specifies a single, unknown type. If it really were &quot;any&quot;, you&#39;d expect this to work:\r\n\r\n    List&lt;?&gt; l = ...\r\n    l.add(&quot;foo&quot;);\r\n    l.add(new Date())\r\n\r\nBut it doesn&#39;t. That&#39;s because the type isn&#39;t known in this code, so the compiler can&#39;t tell whether you should be allowed to add anything to it.","title":"In java, what does Enumeration&lt;?&gt; mean?","body":"<p>While it's tempting to think of the <code>?</code> as representing \"any\" or \"all\" types, it actually specifies a single, unknown type. If it really were \"any\", you'd expect this to work:</p>\n\n<pre><code>List&lt;?&gt; l = ...\nl.add(\"foo\");\nl.add(new Date())\n</code></pre>\n\n<p>But it doesn't. That's because the type isn't known in this code, so the compiler can't tell whether you should be allowed to add anything to it.</p>\n"}],"owner":{"account_id":362297,"reputation":20622,"user_id":705414,"accept_rate":82,"display_name":"user705414"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5275,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":7748580,"answer_count":4,"score":4,"last_activity_date":1695060160,"creation_date":1318469539,"question_id":7748450,"body_markdown":"What&#39;s does `Enumeration&lt;?&gt;` mean?\r\n\r\nIs there any way to represent the general generic?\r\n","title":"In java, what does Enumeration&lt;?&gt; mean?","body":"<p>What's does <code>Enumeration&lt;?&gt;</code> mean?</p>\n\n<p>Is there any way to represent the general generic?</p>\n"},{"tags":["java","jms","activemq-artemis"],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1695059546,"creation_date":1695053353,"answer_id":77128772,"question_id":77128458,"body_markdown":"The &quot;large&quot; message support provided by ActiveMQ Artemis is specific to ActiveMQ Artemis. It is not part of the JMS API.\r\n\r\nThat said, in most circumstances you can use the JMS API to read the `_AMQ_LARGE_SIZE` message property. If such a property exists then the message is considered &quot;large&quot;, e.g.:\r\n```java\r\nboolean isLarge = false;\r\nEnumeration propertyNames = jmsMessage.getPropertyNames();\r\nwhile (propertyNames.hasMoreElements()) {\r\n   if (propertyNames.nextElement().equals(&quot;_AMQ_LARGE_SIZE&quot;)) {\r\n      isLarge = true;\r\n      break;\r\n   }\r\n}\r\n```\r\nIt&#39;s worth noting that one of the goals of &quot;large&quot; message support is that the clients won&#39;t actually know that the message is &quot;large&quot; so that they can work with both normal and &quot;large&quot; messages with no changes.","title":"How do I get LargeMessage in ActiveMQ Artemis queue via JMS?","body":"<p>The &quot;large&quot; message support provided by ActiveMQ Artemis is specific to ActiveMQ Artemis. It is not part of the JMS API.</p>\n<p>That said, in most circumstances you can use the JMS API to read the <code>_AMQ_LARGE_SIZE</code> message property. If such a property exists then the message is considered &quot;large&quot;, e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean isLarge = false;\nEnumeration propertyNames = jmsMessage.getPropertyNames();\nwhile (propertyNames.hasMoreElements()) {\n   if (propertyNames.nextElement().equals(&quot;_AMQ_LARGE_SIZE&quot;)) {\n      isLarge = true;\n      break;\n   }\n}\n</code></pre>\n<p>It's worth noting that one of the goals of &quot;large&quot; message support is that the clients won't actually know that the message is &quot;large&quot; so that they can work with both normal and &quot;large&quot; messages with no changes.</p>\n"}],"owner":{"account_id":28568876,"reputation":127,"user_id":21871375,"display_name":"Vanish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77128772,"answer_count":1,"score":0,"last_activity_date":1695059546,"creation_date":1695050628,"question_id":77128458,"body_markdown":"I can&#39;t figure out how to get LargeMessage in an Artemis ActiveMQ queue using JMS. I didn&#39;t find any get method in the Message class. There are different methods for getting message ID, lifetime and others, but I didn’t find any for getting LargeMessage \r\n\r\n[![enter image description here](https://i.stack.imgur.com/Gm50y.png)](https://i.stack.imgur.com/Gm50y.png)","title":"How do I get LargeMessage in ActiveMQ Artemis queue via JMS?","body":"<p>I can't figure out how to get LargeMessage in an Artemis ActiveMQ queue using JMS. I didn't find any get method in the Message class. There are different methods for getting message ID, lifetime and others, but I didn’t find any for getting LargeMessage</p>\n<p><a href=\"https://i.stack.imgur.com/Gm50y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Gm50y.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","eclipse","debugging","breakpoints"],"comments":[{"owner":{"account_id":281184,"reputation":21762,"user_id":577334,"accept_rate":50,"display_name":"billygoat"},"score":1,"creation_date":1311011917,"post_id":6737105,"comment_id":7983245,"body_markdown":"It looks like some kind of sync problem. I assume you already tried clearing your class cache using Project --&gt; clean and refreshed the project using F5. (sync from file system). If none of these work, then I believe there could be some kind of lock in the file system. Check if there are any other programs accessing the same project and if there are any other locks.","body":"It looks like some kind of sync problem. I assume you already tried clearing your class cache using Project --&gt; clean and refreshed the project using F5. (sync from file system). If none of these work, then I believe there could be some kind of lock in the file system. Check if there are any other programs accessing the same project and if there are any other locks."},{"owner":{"account_id":422887,"reputation":3986,"user_id":801919,"accept_rate":62,"display_name":"Vikram"},"score":0,"creation_date":1311186775,"post_id":6737105,"comment_id":8024699,"body_markdown":"@doc_180, Thanks a lot for your reply. Actually, the problem was with cleaning the project only. I forgot to clean. ;)","body":"@doc_180, Thanks a lot for your reply. Actually, the problem was with cleaning the project only. I forgot to clean. ;)"}],"answers":[{"tags":[],"owner":{"account_id":13025,"reputation":18196,"user_id":25949,"accept_rate":67,"display_name":"Nivas"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1403730550,"creation_date":1311011716,"answer_id":6737137,"question_id":6737105,"body_markdown":"Have you tried cleaning the project?\r\n\r\n    Project(menu) -&gt; clean\r\n\r\nAlso make sure\r\n\r\n    Project(menu) -&gt; Build Automatically\r\n\r\nis selected so that all new code you write is compiled then and there\r\n\r\nIf the clean and build doesn&#39;t work, it&#39;s possible that there is a jar file contains the class you edited, so the eclipse will run the compiled class file in the jar instead of your current file.","title":"Java Code not properly updating","body":"<p>Have you tried cleaning the project?</p>\n\n<pre><code>Project(menu) -&gt; clean\n</code></pre>\n\n<p>Also make sure</p>\n\n<pre><code>Project(menu) -&gt; Build Automatically\n</code></pre>\n\n<p>is selected so that all new code you write is compiled then and there</p>\n\n<p>If the clean and build doesn't work, it's possible that there is a jar file contains the class you edited, so the eclipse will run the compiled class file in the jar instead of your current file.</p>\n"},{"tags":[],"owner":{"account_id":10604035,"reputation":1,"user_id":7810122,"display_name":"David King"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1491241731,"creation_date":1491241731,"answer_id":43191147,"question_id":6737105,"body_markdown":"I&#39;ve run into this issue lately - new code stops working. I click clean - then it can&#39;t find the main class anymore and the program won&#39;t run at all. \r\n\r\nThe fix I&#39;ve found (works every time) is refactor - rename the project.  This instantly fixes it. Then I just change the name back.  Then after a couple days it happens again and I have to rename it again to fix it. ","title":"Java Code not properly updating","body":"<p>I've run into this issue lately - new code stops working. I click clean - then it can't find the main class anymore and the program won't run at all. </p>\n\n<p>The fix I've found (works every time) is refactor - rename the project.  This instantly fixes it. Then I just change the name back.  Then after a couple days it happens again and I have to rename it again to fix it. </p>\n"},{"tags":[],"owner":{"account_id":11415987,"reputation":21,"user_id":8368785,"display_name":"ammie1018"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1501061058,"creation_date":1501059941,"answer_id":45322275,"question_id":6737105,"body_markdown":"There are two possibilities because of which the java code is not updating properly:\r\n\r\n 1. Project -&gt; Build Automatically is not checked\r\n 2. In `.project` file of Project `org.eclipse.jdt.core.javabuilder` build command is commented or missing. Here the below mentioned piece of code should not be commented:\r\n\r\n        &lt;buildCommand&gt;\r\n             &lt;name&gt;org.eclipse.jdt.core.javabuilder&lt;/name&gt;\r\n             &lt;arguments&gt;&lt;/arguments&gt;\r\n        &lt;/buildCommand&gt;","title":"Java Code not properly updating","body":"<p>There are two possibilities because of which the java code is not updating properly:</p>\n\n<ol>\n<li>Project -> Build Automatically is not checked</li>\n<li><p>In <code>.project</code> file of Project <code>org.eclipse.jdt.core.javabuilder</code> build command is commented or missing. Here the below mentioned piece of code should not be commented:</p>\n\n<pre><code>&lt;buildCommand&gt;\n     &lt;name&gt;org.eclipse.jdt.core.javabuilder&lt;/name&gt;\n     &lt;arguments&gt;&lt;/arguments&gt;\n&lt;/buildCommand&gt;\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":19078881,"reputation":19,"user_id":13931576,"display_name":"Debra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597255736,"creation_date":1597255736,"answer_id":63382426,"question_id":6737105,"body_markdown":"I had the same issue. I cleared out some code in Eclipse that printed to the console but these changes weren&#39;t reflected when I ran the code from command line.  I am creating and executing a jar file from my code.  Turns out I forgot to recompile after I made changes.  So the following resolved the issues:\r\n\r\n    javac packageName/*.java\r\n\r\nNow when I create my jar file, it will reflect the changes.","title":"Java Code not properly updating","body":"<p>I had the same issue. I cleared out some code in Eclipse that printed to the console but these changes weren't reflected when I ran the code from command line.  I am creating and executing a jar file from my code.  Turns out I forgot to recompile after I made changes.  So the following resolved the issues:</p>\n<pre><code>javac packageName/*.java\n</code></pre>\n<p>Now when I create my jar file, it will reflect the changes.</p>\n"},{"tags":[],"owner":{"account_id":1804485,"reputation":86,"user_id":1641926,"display_name":"Nick Andriopoulos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695059427,"creation_date":1695059427,"answer_id":77129391,"question_id":6737105,"body_markdown":"on my case\r\ngo to project properties -&gt; java build path -&gt; libraries\r\n\r\nfixed whatever it cannot find (those with the red x icon)","title":"Java Code not properly updating","body":"<p>on my case\ngo to project properties -&gt; java build path -&gt; libraries</p>\n<p>fixed whatever it cannot find (those with the red x icon)</p>\n"}],"owner":{"account_id":422887,"reputation":3986,"user_id":801919,"accept_rate":62,"display_name":"Vikram"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17945,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":6737137,"answer_count":5,"score":6,"last_activity_date":1695059427,"creation_date":1311011557,"question_id":6737105,"body_markdown":"This may seem a weird Q.\r\n \r\nI had written a code in Java (in Eclipse). Then, I did some modifications to the code. Now, I am trying to run the new code (modified), but it is still giving me the output which it was giving for the previous code. \r\n \r\nI have put few debug points in the code, but it is skipping some of the debug points (though it should stop at them) and stopping at some debug point, but even here it is calling the methods which were present in previous code at that location (though I have commented them now). It seems from somewhere it is still debugging the old code.\r\n \r\nHow to get rid of it?\r\n \r\nThanks!","title":"Java Code not properly updating","body":"<p>This may seem a weird Q.</p>\n\n<p>I had written a code in Java (in Eclipse). Then, I did some modifications to the code. Now, I am trying to run the new code (modified), but it is still giving me the output which it was giving for the previous code. </p>\n\n<p>I have put few debug points in the code, but it is skipping some of the debug points (though it should stop at them) and stopping at some debug point, but even here it is calling the methods which were present in previous code at that location (though I have commented them now). It seems from somewhere it is still debugging the old code.</p>\n\n<p>How to get rid of it?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","pattern-matching","instanceof","java-17"],"comments":[{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":3,"creation_date":1674557984,"post_id":75220488,"comment_id":132734630,"body_markdown":"No. This new pattern cannot be used with unsafe casts. The error message is fairly clear about this too, no? The mindset of team OpenJDK is to not add features unless SURE that it&#39;s a good idea, because it&#39;s much easier to add something later, than to break code by removing functionality later. This is a corner case that leaves you feeling a bit queasy so, for now, it&#39;s not allowed. (My guess is, it&#39;ll never be).","body":"No. This new pattern cannot be used with unsafe casts. The error message is fairly clear about this too, no? The mindset of team OpenJDK is to not add features unless SURE that it&#39;s a good idea, because it&#39;s much easier to add something later, than to break code by removing functionality later. This is a corner case that leaves you feeling a bit queasy so, for now, it&#39;s not allowed. (My guess is, it&#39;ll never be)."},{"owner":{"account_id":3425402,"reputation":696,"user_id":2871290,"display_name":"johnmerm"},"score":0,"creation_date":1674564299,"post_id":75220488,"comment_id":132736517,"body_markdown":"The error is clear, the rationale behind it is not so much: You cannot check if an object is of a generic type (instanceof List&lt;String&gt; will anyway say `&#39;Object&#39; cannot be safely cast to &#39;List&lt;String&gt;&#39;` but then again you are never sure that a List&lt;String&gt; actually contains Strings.\n\nAs stated, it is a corner case, but it cuts the usefulness of the feature in half","body":"The error is clear, the rationale behind it is not so much: You cannot check if an object is of a generic type (instanceof List&lt;String&gt; will anyway say <code>&#39;Object&#39; cannot be safely cast to &#39;List&lt;String&gt;&#39;</code> but then again you are never sure that a List&lt;String&gt; actually contains Strings.  As stated, it is a corner case, but it cuts the usefulness of the feature in half"},{"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"score":4,"creation_date":1674584351,"post_id":75220488,"comment_id":132743791,"body_markdown":"@johnmerm Let me turn this around: what reason did you have to expect that somehow, just because we added a new feature that extends the range of dynamic checking, that a fundamental aspect of how Java generics works (erasure) is somehow magically suspended?  It seems that you mostly fell into a pit of wishful thinking, which is fine, but at least in hindsight, it should be clear that this was wishful thinking, not somehow a &quot;flaw&quot; in pattern matching that requires an explanation.  The explanation is &quot;this is how generics have always worked, and that hasn&#39;t changed.&quot;","body":"@johnmerm Let me turn this around: what reason did you have to expect that somehow, just because we added a new feature that extends the range of dynamic checking, that a fundamental aspect of how Java generics works (erasure) is somehow magically suspended?  It seems that you mostly fell into a pit of wishful thinking, which is fine, but at least in hindsight, it should be clear that this was wishful thinking, not somehow a &quot;flaw&quot; in pattern matching that requires an explanation.  The explanation is &quot;this is how generics have always worked, and that hasn&#39;t changed.&quot;"},{"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"score":3,"creation_date":1674584481,"post_id":75220488,"comment_id":132743827,"body_markdown":"An `instanceof` check should be thought of as the precondition for safe casting; if `instanceof` says yes, then a cast to the same type is safe (and useful as a value of that type, which excludes null).  If we can&#39;t possibly conclude that the cast is safe, we don&#39;t let you ask the question, because the answer would not be useful.  (You also can&#39;t ask whether a `String` is `instanceof Integer`; the language knows that this isn&#39;t a sensible question.)","body":"An <code>instanceof</code> check should be thought of as the precondition for safe casting; if <code>instanceof</code> says yes, then a cast to the same type is safe (and useful as a value of that type, which excludes null).  If we can&#39;t possibly conclude that the cast is safe, we don&#39;t let you ask the question, because the answer would not be useful.  (You also can&#39;t ask whether a <code>String</code> is <code>instanceof Integer</code>; the language knows that this isn&#39;t a sensible question.)"},{"owner":{"account_id":3425402,"reputation":696,"user_id":2871290,"display_name":"johnmerm"},"score":0,"creation_date":1677669286,"post_id":75220488,"comment_id":133382134,"body_markdown":"@BrianGoetz By now, any Java developer should know that there are no runtime guaranties that an `int` won&#39;t end up in a `List&lt;String&gt;` so `instanceof  List&lt;String&gt;` cannot  provide any guarantee and is thus prohibited.\nI&#39;m just pointing that since the whole feature is syntactic sugar, in this case, which is not uncommon in the real world, the feature cannot be used\nAnd yes, I&#39;m thinking wishfully, I&#39;m proposing a new feature for a new version, alas in the wrong forum","body":"@BrianGoetz By now, any Java developer should know that there are no runtime guaranties that an <code>int</code> won&#39;t end up in a <code>List&lt;String&gt;</code> so <code>instanceof  List&lt;String&gt;</code> cannot  provide any guarantee and is thus prohibited. I&#39;m just pointing that since the whole feature is syntactic sugar, in this case, which is not uncommon in the real world, the feature cannot be used And yes, I&#39;m thinking wishfully, I&#39;m proposing a new feature for a new version, alas in the wrong forum"}],"answers":[{"tags":[],"owner":{"account_id":11092824,"reputation":484,"user_id":8144061,"accept_rate":100,"display_name":"Wing Kui Tsoi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674569983,"creation_date":1674569983,"answer_id":75222840,"question_id":75220488,"body_markdown":"instanceof is runtime type checking but generics uses type erasure at compile time. \r\nThat&#39;s why instanceof is not allowed to use for &lt; T &gt; but allowed to use for the raw type List. \r\nYou may check out this tutorial about generics cannot use instanceof: https://www.tutorialspoint.com/java_generics/java_generics_no_instanceof.htm\r\n\r\nAlternatively, there are some solutions I can think of.\r\n\r\nApproach 1: Check the type of the first list item.\r\n\t\r\n\tif (inner instanceof List &amp;&amp; !((List) inner).isEmpty() &amp;&amp; ((List) inner).get(0) instanceof Map) {\r\n\t\t// You may continue to check map key and value if necessary.\r\n\t} else if (inner instanceof Map) {\r\n\t\t// You may continue to check map key and value if necessary.\r\n\t} else {\r\n\t\tthrow new IllegalArgumentException(&quot;List or Map only&quot;);\r\n\t}\r\n\r\nApproach 2: Use type casting in try catch block. \r\n\r\n\ttry {\r\n\t\tMap&lt;String, String&gt; map = (Map&lt;String, String&gt;) inner;\r\n\t\tMap.Entry&lt;String, String&gt; entry = map.entrySet().iterator().next();\r\n\t\tString key = entry.getKey();\r\n\t\tString value = entry.getValue();\r\n\t\tSystem.out.println(key + &quot; &quot; + value);\r\n\t} catch (ClassCastException e) {\r\n\t\tSystem.out.println(&quot;Object is not Map&lt;String, String&gt;&quot;);\r\n\t}\r\n\r\nYou can use Approach 2 with Approach 1 to continue to check after instanceof Map.\r\n\r\nApproach 3: Use a wrapper class for instanceof.\r\n\r\n\tclass ListWrapper extends ArrayList&lt;Map&lt;String, String&gt;&gt; { \r\n\t\t//...\r\n\t}\r\n\r\nThis way takes you more efforts to implement CRUD operations.","title":"Java (14 and above) instanceof cast to generics (e.g. List&lt;String&gt; )","body":"<p>instanceof is runtime type checking but generics uses type erasure at compile time.\nThat's why instanceof is not allowed to use for &lt; T &gt; but allowed to use for the raw type List.\nYou may check out this tutorial about generics cannot use instanceof: <a href=\"https://www.tutorialspoint.com/java_generics/java_generics_no_instanceof.htm\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/java_generics/java_generics_no_instanceof.htm</a></p>\n<p>Alternatively, there are some solutions I can think of.</p>\n<p>Approach 1: Check the type of the first list item.</p>\n<pre><code>if (inner instanceof List &amp;&amp; !((List) inner).isEmpty() &amp;&amp; ((List) inner).get(0) instanceof Map) {\n    // You may continue to check map key and value if necessary.\n} else if (inner instanceof Map) {\n    // You may continue to check map key and value if necessary.\n} else {\n    throw new IllegalArgumentException(&quot;List or Map only&quot;);\n}\n</code></pre>\n<p>Approach 2: Use type casting in try catch block.</p>\n<pre><code>try {\n    Map&lt;String, String&gt; map = (Map&lt;String, String&gt;) inner;\n    Map.Entry&lt;String, String&gt; entry = map.entrySet().iterator().next();\n    String key = entry.getKey();\n    String value = entry.getValue();\n    System.out.println(key + &quot; &quot; + value);\n} catch (ClassCastException e) {\n    System.out.println(&quot;Object is not Map&lt;String, String&gt;&quot;);\n}\n</code></pre>\n<p>You can use Approach 2 with Approach 1 to continue to check after instanceof Map.</p>\n<p>Approach 3: Use a wrapper class for instanceof.</p>\n<pre><code>class ListWrapper extends ArrayList&lt;Map&lt;String, String&gt;&gt; { \n    //...\n}\n</code></pre>\n<p>This way takes you more efforts to implement CRUD operations.</p>\n"}],"owner":{"account_id":3425402,"reputation":696,"user_id":2871290,"display_name":"johnmerm"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1710,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695058794,"creation_date":1674557736,"question_id":75220488,"body_markdown":"I&#39;m deserializing JSON payloads using Jackson. I have some fields that can be either Objects or Arrays of Objects. So In my Java code I&#39;m declaring\r\n\r\n    class Outer{\r\n        private Object inner;\r\n    }\r\n\r\nI know that inner can be either `Map&lt;String,String&gt;` or `List&lt;Map&lt;String,String&gt;&gt;`\r\n\r\nsince I need to do some work with this inner object I have to reside to if - instance of\r\n\r\n    if (inner instanceof List){\r\n        List&lt;Map&lt;String,String&gt;&gt; innerAsList = (List&lt;Map&lt;String,String&gt;&gt;)inner;\r\n        ...\r\n    }else if (inner instanceof Map){\r\n        Map&lt;String,String&gt; innerAsMap = (Map&lt;String,String&gt;)inner;\r\n        ...\r\n    }else{\r\n        throw new IllegalArgumentException(&quot;List or Map only&quot;);\r\n    }\r\n\r\nNow trying to use the &quot;new&quot; pattern matching for `instanceof` fails to compile (I&#39;m using JDK 17 with previews enabled)\r\n\r\n    if (inner instanceof List&lt;Map&lt;String,String&gt;&gt; innerAsList){\r\n        ...\r\n    }else if (inner instanceof Map&lt;String,String&gt; innerAsMap){\r\n        ...\r\n    }else{\r\n        throw new IllegalArgumentException(&quot;List or Map only&quot;);\r\n    }\r\n\r\nfails to compile \r\n\r\n&gt; `&#39;Object&#39; cannot be safely cast to &#39;List&lt;String&gt;&#39;`\r\n\r\n\r\n\r\nUsing wildcard cast compiles \r\n\r\n    if (inner instanceof List&lt;?&gt; innerAsList){\r\n       ...\r\n    }else if (inner instanceof Map&lt;?,?&gt; innerAsMap){\r\n      ...\r\n    }else{\r\n       throw new IllegalArgumentException(&quot;List or Map only&quot;);\r\n    }\r\n\r\nbut I then I still need to cast to the correct generic.\r\n\r\nIs this solvable somehow? Is it missing functionality?If so are there plans to have it in a future release?\r\n","title":"Java (14 and above) instanceof cast to generics (e.g. List&lt;String&gt; )","body":"<p>I'm deserializing JSON payloads using Jackson. I have some fields that can be either Objects or Arrays of Objects. So In my Java code I'm declaring</p>\n<pre><code>class Outer{\n    private Object inner;\n}\n</code></pre>\n<p>I know that inner can be either <code>Map&lt;String,String&gt;</code> or <code>List&lt;Map&lt;String,String&gt;&gt;</code></p>\n<p>since I need to do some work with this inner object I have to reside to if - instance of</p>\n<pre><code>if (inner instanceof List){\n    List&lt;Map&lt;String,String&gt;&gt; innerAsList = (List&lt;Map&lt;String,String&gt;&gt;)inner;\n    ...\n}else if (inner instanceof Map){\n    Map&lt;String,String&gt; innerAsMap = (Map&lt;String,String&gt;)inner;\n    ...\n}else{\n    throw new IllegalArgumentException(&quot;List or Map only&quot;);\n}\n</code></pre>\n<p>Now trying to use the &quot;new&quot; pattern matching for <code>instanceof</code> fails to compile (I'm using JDK 17 with previews enabled)</p>\n<pre><code>if (inner instanceof List&lt;Map&lt;String,String&gt;&gt; innerAsList){\n    ...\n}else if (inner instanceof Map&lt;String,String&gt; innerAsMap){\n    ...\n}else{\n    throw new IllegalArgumentException(&quot;List or Map only&quot;);\n}\n</code></pre>\n<p>fails to compile</p>\n<blockquote>\n<p><code>'Object' cannot be safely cast to 'List&lt;String&gt;'</code></p>\n</blockquote>\n<p>Using wildcard cast compiles</p>\n<pre><code>if (inner instanceof List&lt;?&gt; innerAsList){\n   ...\n}else if (inner instanceof Map&lt;?,?&gt; innerAsMap){\n  ...\n}else{\n   throw new IllegalArgumentException(&quot;List or Map only&quot;);\n}\n</code></pre>\n<p>but I then I still need to cast to the correct generic.</p>\n<p>Is this solvable somehow? Is it missing functionality?If so are there plans to have it in a future release?</p>\n"},{"tags":["java","mysql","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1695058440,"post_id":77129183,"comment_id":135970547,"body_markdown":"Don&#39;t. Just use MySQL, there is no need to use the embedded version if you are using Testcontainers. So just use the regular MySQL container from Testcontainers and totally ditch Embedded MySQL.","body":"Don&#39;t. Just use MySQL, there is no need to use the embedded version if you are using Testcontainers. So just use the regular MySQL container from Testcontainers and totally ditch Embedded MySQL."},{"owner":{"account_id":29397805,"reputation":63,"user_id":22524769,"display_name":"Shubham Shekhar"},"score":0,"creation_date":1695059618,"post_id":77129183,"comment_id":135970785,"body_markdown":"Do you have any good link that can help me do that and run MySQL container?","body":"Do you have any good link that can help me do that and run MySQL container?"},{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1695062094,"post_id":77129183,"comment_id":135971192,"body_markdown":"A good article from [atomicJar](https://www.atomicjar.com/2023/05/spring-boot-3-1-0-testcontainers-for-testing-and-local-development/) about  how to do it.","body":"A good article from <a href=\"https://www.atomicjar.com/2023/05/spring-boot-3-1-0-testcontainers-for-testing-and-local-development/\" rel=\"nofollow noreferrer\">atomicJar</a> about  how to do it."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695101767,"post_id":77129183,"comment_id":135975305,"body_markdown":"Well [the documentation](https://testcontainers.com/modules/mysql/) itself to start. And depending on which Spring Boot version you can leverage the Spring Boot Testcontainers support.","body":"Well <a href=\"https://testcontainers.com/modules/mysql/\" rel=\"nofollow noreferrer\">the documentation</a> itself to start. And depending on which Spring Boot version you can leverage the Spring Boot Testcontainers support."}],"owner":{"account_id":29397805,"reputation":63,"user_id":22524769,"display_name":"Shubham Shekhar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695057873,"creation_date":1695057481,"question_id":77129183,"body_markdown":"I was using embedded mysql in my JUnit&#39;s following https://github.com/wix-incubator/wix-embedded-mysql.\r\nbut now they have removed support for latest mysql versions. So I wanted to shift to Test Containers as they have suggested, but I don&#39;t know how can I use it?\r\nI am using EmbeddedMysqlConfig.class on the same basis as suggeted in the github site.My earlier config looked like :-\r\n \r\n\r\n    @Configuration\r\n     @Profile({&quot;mysql&quot;})\r\n     @ConditionalOnProperty(prefix = &quot;spring&quot;, name = \r\n    &quot;datasource.jdbcUrl&quot;)\r\n     public class EmbeddedMySqlDbConfig {\r\n    \r\n      protected static Logger logger = \r\n     LoggerFactory.getLogger(EmbeddedMySqlDbConfig.class);\r\n    \r\n      @Bean(name = &quot;downloadConfig&quot;)\r\n      DownloadConfig downloadConfig() {\r\n        String downloadPath = &quot;/app/mysql&quot;;\r\n        logger.info(&quot;Embedded MySQL download path is {}&quot;, downloadPath);\r\n        DownloadConfig config = \r\n     aDownloadConfig().withCacheDir(downloadPath).build();\r\n        return config;\r\n     }\r\n    \r\n     @Bean(name = &quot;mysqldConfig&quot;)\r\n     MysqldConfig mysqldConfig(@Value(&quot;${spring.datasource.username}&quot;) \r\n    String \r\n     dbUsername,\r\n            @Value(&quot;${spring.datasource.password}&quot;) String dbPassword, \r\n     @Value(&quot;${mysql.port}&quot;) int port) {\r\n        MysqldConfig config = \r\n    aMysqldConfig(v5_7_latest).withPort(port).withUser(dbUsername, \r\n    dbPassword).build();\r\n        return config;\r\n     }\r\n    \r\n      private void addSchema(String databaseName, Builder builder) {\r\n        SchemaConfig schema = aSchemaConfig(databaseName).build();\r\n        builder.addSchema(schema);\r\n      }\r\n    \r\n     @Bean(name = &quot;embeddedMysql&quot;)\r\n      EmbeddedMysql embeddedMysql(@Qualifier(&quot;downloadConfig&quot;) \r\n    DownloadConfig \r\n     downloadConfig,\r\n            @Qualifier(&quot;mysqldConfig&quot;) MysqldConfig config, \r\n     @Value(&quot;${mysql.databaseName}&quot;) String databaseName,\r\n            @Value(&quot;${mysql.databaseName1}&quot;) String databaseName1) {\r\n         try {\r\n            Builder builder = new Builder(config, downloadConfig);\r\n            for (int i = 0; i &lt; 2; i++) {\r\n                String name = databaseName;\r\n                if (i == 1) {\r\n                    name = null;\r\n                    if (databaseName1 != null &amp;&amp; \r\n      databaseName1.trim().length() &gt; 0) {\r\n                        name = databaseName1;\r\n                    }\r\n                }\r\n                if (name != null) {\r\n                    addSchema(name, builder);\r\n                }\r\n             }\r\n            EmbeddedMysql mysql = builder.start();\r\n            logger.info(&quot;embedded mysql started&quot;);\r\n            return mysql;\r\n         } catch (Exception e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n            throw e;\r\n         }\r\n     }\r\n    \r\n     @Bean(name = &quot;dataSource&quot;)\r\n     @DependsOn(&quot;embeddedMysql&quot;)\r\n     public DataSource dataSource(@Value(&quot;${spring.datasource.username}&quot;) \r\n     String dbUsername,\r\n            @Value(&quot;${spring.datasource.password}&quot;) String dbPassword,\r\n            @Value(&quot;${spring.datasource.jdbcUrl}&quot;) String url,\r\n            @Value(&quot;${spring.datasource.driver-class-name}&quot;) String \r\n     driverClassName) {\r\n    \r\n        DataSourceBuilder&lt;?&gt; dataSourceBuilder = \r\n     DataSourceBuilder.create();\r\n        dataSourceBuilder.driverClassName(driverClassName);\r\n        dataSourceBuilder.url(url);\r\n        dataSourceBuilder.username(dbUsername);\r\n        dataSourceBuilder.password(dbPassword);\r\n        return dataSourceBuilder.build();\r\n     }\r\n    \r\n     @Bean(name = &quot;requestDataSource&quot;)\r\n     @ConditionalOnProperty(prefix = &quot;request&quot;, name = \r\n    &quot;datasource.jdbcUrl&quot;)\r\n     @DependsOn(&quot;dataSource&quot;)\r\n     public DataSource \r\n     requestDataSource(@Value(&quot;${request.datasource.username}&quot;) String \r\n     dbUsername,\r\n            @Value(&quot;${spring.datasource.password}&quot;) String dbPassword,\r\n            @Value(&quot;${request.datasource.jdbcUrl}&quot;) String url,\r\n            @Value(&quot;${spring.datasource.driver-class-name}&quot;) String \r\n    driverClassName) {\r\n        DataSourceBuilder&lt;?&gt; dataSourceBuilder = \r\n    DataSourceBuilder.create();\r\n        dataSourceBuilder.driverClassName(driverClassName);\r\n        dataSourceBuilder.url(url);\r\n        dataSourceBuilder.username(dbUsername);\r\n        dataSourceBuilder.password(dbPassword);\r\n        return dataSourceBuilder.build();\r\n        }\r\n    }\r\n\r\nPlease let me know how we can replace with TestContainers.","title":"How to use TestContainers to run embeddedmysql for junit?","body":"<p>I was using embedded mysql in my JUnit's following <a href=\"https://github.com/wix-incubator/wix-embedded-mysql\" rel=\"nofollow noreferrer\">https://github.com/wix-incubator/wix-embedded-mysql</a>.\nbut now they have removed support for latest mysql versions. So I wanted to shift to Test Containers as they have suggested, but I don't know how can I use it?\nI am using EmbeddedMysqlConfig.class on the same basis as suggeted in the github site.My earlier config looked like :-</p>\n<pre><code>@Configuration\n @Profile({&quot;mysql&quot;})\n @ConditionalOnProperty(prefix = &quot;spring&quot;, name = \n&quot;datasource.jdbcUrl&quot;)\n public class EmbeddedMySqlDbConfig {\n\n  protected static Logger logger = \n LoggerFactory.getLogger(EmbeddedMySqlDbConfig.class);\n\n  @Bean(name = &quot;downloadConfig&quot;)\n  DownloadConfig downloadConfig() {\n    String downloadPath = &quot;/app/mysql&quot;;\n    logger.info(&quot;Embedded MySQL download path is {}&quot;, downloadPath);\n    DownloadConfig config = \n aDownloadConfig().withCacheDir(downloadPath).build();\n    return config;\n }\n\n @Bean(name = &quot;mysqldConfig&quot;)\n MysqldConfig mysqldConfig(@Value(&quot;${spring.datasource.username}&quot;) \nString \n dbUsername,\n        @Value(&quot;${spring.datasource.password}&quot;) String dbPassword, \n @Value(&quot;${mysql.port}&quot;) int port) {\n    MysqldConfig config = \naMysqldConfig(v5_7_latest).withPort(port).withUser(dbUsername, \ndbPassword).build();\n    return config;\n }\n\n  private void addSchema(String databaseName, Builder builder) {\n    SchemaConfig schema = aSchemaConfig(databaseName).build();\n    builder.addSchema(schema);\n  }\n\n @Bean(name = &quot;embeddedMysql&quot;)\n  EmbeddedMysql embeddedMysql(@Qualifier(&quot;downloadConfig&quot;) \nDownloadConfig \n downloadConfig,\n        @Qualifier(&quot;mysqldConfig&quot;) MysqldConfig config, \n @Value(&quot;${mysql.databaseName}&quot;) String databaseName,\n        @Value(&quot;${mysql.databaseName1}&quot;) String databaseName1) {\n     try {\n        Builder builder = new Builder(config, downloadConfig);\n        for (int i = 0; i &lt; 2; i++) {\n            String name = databaseName;\n            if (i == 1) {\n                name = null;\n                if (databaseName1 != null &amp;&amp; \n  databaseName1.trim().length() &gt; 0) {\n                    name = databaseName1;\n                }\n            }\n            if (name != null) {\n                addSchema(name, builder);\n            }\n         }\n        EmbeddedMysql mysql = builder.start();\n        logger.info(&quot;embedded mysql started&quot;);\n        return mysql;\n     } catch (Exception e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n        throw e;\n     }\n }\n\n @Bean(name = &quot;dataSource&quot;)\n @DependsOn(&quot;embeddedMysql&quot;)\n public DataSource dataSource(@Value(&quot;${spring.datasource.username}&quot;) \n String dbUsername,\n        @Value(&quot;${spring.datasource.password}&quot;) String dbPassword,\n        @Value(&quot;${spring.datasource.jdbcUrl}&quot;) String url,\n        @Value(&quot;${spring.datasource.driver-class-name}&quot;) String \n driverClassName) {\n\n    DataSourceBuilder&lt;?&gt; dataSourceBuilder = \n DataSourceBuilder.create();\n    dataSourceBuilder.driverClassName(driverClassName);\n    dataSourceBuilder.url(url);\n    dataSourceBuilder.username(dbUsername);\n    dataSourceBuilder.password(dbPassword);\n    return dataSourceBuilder.build();\n }\n\n @Bean(name = &quot;requestDataSource&quot;)\n @ConditionalOnProperty(prefix = &quot;request&quot;, name = \n&quot;datasource.jdbcUrl&quot;)\n @DependsOn(&quot;dataSource&quot;)\n public DataSource \n requestDataSource(@Value(&quot;${request.datasource.username}&quot;) String \n dbUsername,\n        @Value(&quot;${spring.datasource.password}&quot;) String dbPassword,\n        @Value(&quot;${request.datasource.jdbcUrl}&quot;) String url,\n        @Value(&quot;${spring.datasource.driver-class-name}&quot;) String \ndriverClassName) {\n    DataSourceBuilder&lt;?&gt; dataSourceBuilder = \nDataSourceBuilder.create();\n    dataSourceBuilder.driverClassName(driverClassName);\n    dataSourceBuilder.url(url);\n    dataSourceBuilder.username(dbUsername);\n    dataSourceBuilder.password(dbPassword);\n    return dataSourceBuilder.build();\n    }\n}\n</code></pre>\n<p>Please let me know how we can replace with TestContainers.</p>\n"},{"tags":["java","android","xml","android-layout"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1694873448,"post_id":77118102,"comment_id":135950141,"body_markdown":"Please show the code where you call `setContent()` with this XML layout. Are you using an `AppBar`? If not, you should, and in fact, you will probably find you don&#39;t need the `ImageView` at all if you do this correctly.","body":"Please show the code where you call <code>setContent()</code> with this XML layout. Are you using an <code>AppBar</code>? If not, you should, and in fact, you will probably find you don&#39;t need the <code>ImageView</code> at all if you do this correctly."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1694873572,"post_id":77118102,"comment_id":135950156,"body_markdown":"Also, what part of the screenshot is the `ImageView`? Is it the whole top bar? Or is it just a solid background color? Is any of the text part of the `ImageView`?","body":"Also, what part of the screenshot is the <code>ImageView</code>? Is it the whole top bar? Or is it just a solid background color? Is any of the text part of the <code>ImageView</code>?"}],"answers":[{"tags":[],"owner":{"account_id":29243444,"reputation":142,"user_id":22404427,"display_name":"Tayfun YILDIRIM"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695057299,"creation_date":1694901397,"answer_id":77119750,"question_id":77118102,"body_markdown":"\r\n\r\nIt seems that no margin is set for the imageview. Defining margin attribute like below would help:\r\n\r\n    android:layout_marginTop=&quot;0dp&quot;\r\n\r\n**UPDATE**\r\n\r\nYour imageview bottom constrained with guideline. If it is not mandatory to use guideline you could delete bottom constraint and just keep top constrait of imageview. And set imageview height with something like &quot;app:layout_constraintHeight_percent=&quot;0.2&quot;&quot; instead of using &quot;android:layout_height&quot; attribute. This way height better compatible with different screen sizes. This could solve the problem. So your imageview attributes should look like this:\r\n    \r\n    &lt;ImageView\r\n        android:id=&quot;@+id/pagebanner&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        app:layout_constraintHeight_percent=&quot;0.2&quot;\r\n        android:layout_marginTop=&quot;0dp&quot;\r\n        android:background=&quot;@drawable/bannerborder&quot;\r\n        android:contentDescription=&quot;@string/page_banner&quot;        \r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n","title":"How to remove additional space between ImageView and edge of screen/parent in Android Studio?","body":"<p>It seems that no margin is set for the imageview. Defining margin attribute like below would help:</p>\n<pre><code>android:layout_marginTop=&quot;0dp&quot;\n</code></pre>\n<p><strong>UPDATE</strong></p>\n<p>Your imageview bottom constrained with guideline. If it is not mandatory to use guideline you could delete bottom constraint and just keep top constrait of imageview. And set imageview height with something like &quot;app:layout_constraintHeight_percent=&quot;0.2&quot;&quot; instead of using &quot;android:layout_height&quot; attribute. This way height better compatible with different screen sizes. This could solve the problem. So your imageview attributes should look like this:</p>\n<pre><code>&lt;ImageView\n    android:id=&quot;@+id/pagebanner&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;0dp&quot;\n    app:layout_constraintHeight_percent=&quot;0.2&quot;\n    android:layout_marginTop=&quot;0dp&quot;\n    android:background=&quot;@drawable/bannerborder&quot;\n    android:contentDescription=&quot;@string/page_banner&quot;        \n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16841916,"reputation":66,"user_id":12177115,"display_name":"BeNYaMiN"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694929390,"creation_date":1694929390,"answer_id":77120612,"question_id":77118102,"body_markdown":"As we don&#39;t have any information on how your layout is, The problem could be the height of `bannerborder` you are using in ImageView.\r\nWhen you set a height to an ImageView, It tries to fit the image vertically, So there will be a space on top and bottom.\r\nTry using `android:scaleType=&quot;centerCrop&quot;` and see if it helps, Or use `wrap_content` as height.\r\n\r\nIf your `bannerborder` is a just background, You can use `AppBarLayout` to achieve that.\r\n\r\nIf none of this helps, Please Edit and put your layout code with some information on what is `bannerborder` as @code-apprentice mentioned.","title":"How to remove additional space between ImageView and edge of screen/parent in Android Studio?","body":"<p>As we don't have any information on how your layout is, The problem could be the height of <code>bannerborder</code> you are using in ImageView.\nWhen you set a height to an ImageView, It tries to fit the image vertically, So there will be a space on top and bottom.\nTry using <code>android:scaleType=&quot;centerCrop&quot;</code> and see if it helps, Or use <code>wrap_content</code> as height.</p>\n<p>If your <code>bannerborder</code> is a just background, You can use <code>AppBarLayout</code> to achieve that.</p>\n<p>If none of this helps, Please Edit and put your layout code with some information on what is <code>bannerborder</code> as @code-apprentice mentioned.</p>\n"}],"owner":{"account_id":17119275,"reputation":15,"user_id":12387939,"display_name":"C James"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77119750,"answer_count":2,"score":1,"last_activity_date":1695057299,"creation_date":1694873217,"question_id":77118102,"body_markdown":"so I am essentially trying to remove some extra space that seems to be above an imageview, that I am using as a banner for the top of a page on my app (shown in image below).\r\n\r\n[Image - Additonal Space above my ImageView][1]\r\n\r\n\r\nHowever, when I set this imageview to cover the entire screen, there is no space anymore. Would someone know how to fix this, as I have tried changing the ScaleType, etc.\r\n\r\nHere is the .XML code for this ImageView, and i&#39;m using a constraintLayout if that has any relevance:\r\n\r\n```\r\n&lt;ImageView\r\n        android:id=&quot;@+id/pagebanner&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;110dp&quot;\r\n        android:background=&quot;@drawable/bannerborder&quot;\r\n        android:contentDescription=&quot;@string/page_banner&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/guideline8&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n```\r\n\r\nAlso, this is the code for the simple drawable (bannerborder) that&#39;s being used in the ImageView object:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; android:shape=&quot;rectangle&quot; &gt;\r\n    &lt;solid android:color=&quot;@color/colorPurple&quot; /&gt;\r\n&lt;/shape&gt;\r\n```\r\n\r\n- I have tried changing ScaleType to: android:scaleType=&quot;fitXY&quot;, along with all the other options.\r\n- Tried setting adjustViewBoundaries to both true and false\r\n- tried using negative layout margins\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Q0NtF.png","title":"How to remove additional space between ImageView and edge of screen/parent in Android Studio?","body":"<p>so I am essentially trying to remove some extra space that seems to be above an imageview, that I am using as a banner for the top of a page on my app (shown in image below).</p>\n<p><a href=\"https://i.stack.imgur.com/Q0NtF.png\" rel=\"nofollow noreferrer\">Image - Additonal Space above my ImageView</a></p>\n<p>However, when I set this imageview to cover the entire screen, there is no space anymore. Would someone know how to fix this, as I have tried changing the ScaleType, etc.</p>\n<p>Here is the .XML code for this ImageView, and i'm using a constraintLayout if that has any relevance:</p>\n<pre><code>&lt;ImageView\n        android:id=&quot;@+id/pagebanner&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;110dp&quot;\n        android:background=&quot;@drawable/bannerborder&quot;\n        android:contentDescription=&quot;@string/page_banner&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/guideline8&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n</code></pre>\n<p>Also, this is the code for the simple drawable (bannerborder) that's being used in the ImageView object:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; android:shape=&quot;rectangle&quot; &gt;\n    &lt;solid android:color=&quot;@color/colorPurple&quot; /&gt;\n&lt;/shape&gt;\n</code></pre>\n<ul>\n<li>I have tried changing ScaleType to: android:scaleType=&quot;fitXY&quot;, along with all the other options.</li>\n<li>Tried setting adjustViewBoundaries to both true and false</li>\n<li>tried using negative layout margins</li>\n</ul>\n"},{"tags":["java","android","http","post","android-studio"],"answers":[{"tags":[],"owner":{"account_id":7464007,"reputation":3021,"user_id":5674298,"accept_rate":61,"display_name":"coolguy"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1450531194,"creation_date":1450531194,"answer_id":34371239,"question_id":34371032,"body_markdown":"Try using `HttpPost(URI)` constructor insted of `HttpPost(String)`. Think it will work.","title":"HTTP POST request with specified port number","body":"<p>Try using <code>HttpPost(URI)</code> constructor insted of <code>HttpPost(String)</code>. Think it will work.</p>\n"},{"tags":[],"owner":{"account_id":7470297,"reputation":2879,"user_id":5678532,"display_name":"Mk.Sl."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1450531746,"creation_date":1450531746,"answer_id":34371323,"question_id":34371032,"body_markdown":"Try to add port separately like in code below:\r\n\r\n    private static final int HTTP_PORT = 8081;\r\n\r\n\tprivate static final String USER_AGENT_NAME = &quot;http.useragent&quot;;\r\n\r\n\tprivate static final String USER_AGENT_VALUE = &quot;Mozilla/5.0 (Linux; U; Android 1.1; en-us;dream) AppleWebKit/525.10+ (KHTML, like Gecko) Version/3.0.4 Mobile Safari/523.12.2&quot;;\r\n\r\n\r\n\tprotected DefaultHttpClient getHttpClient() throws KeyManagementException, UnrecoverableKeyException, \r\n\tNoSuchAlgorithmException, KeyStoreException, CertificateException, IOException {\r\n\t\tif (httpClient == null) {\r\n\r\n\t\t\tSchemeRegistry schemeRegistry = new SchemeRegistry();\r\n\t\t\tschemeRegistry.register(new Scheme(&quot;http&quot;, PlainSocketFactory.getSocketFactory(), HTTP_PORT));\r\n\r\n\t\t\tHttpParams params = new BasicHttpParams();\r\n\t\t\tparams.setParameter(USER_AGENT_NAME, USER_AGENT_VALUE);\r\n\t\t\tHttpProtocolParams.setVersion(params, HttpVersion.HTTP_1_1);\r\n\t\t\tHttpProtocolParams.setContentCharset(params, HTTP.UTF_8);\r\n\r\n\t\t\tThreadSafeClientConnManager cm = new ThreadSafeClientConnManager(params, schemeRegistry);\r\n\t\t\thttpClient = new DefaultHttpClient(cm, params);\r\n\t\t}\r\n\t\treturn httpClient;\r\n\t}\r\n\r\nWhile making HTTP request be sure that port is NOT included more.","title":"HTTP POST request with specified port number","body":"<p>Try to add port separately like in code below:</p>\n\n<pre><code>private static final int HTTP_PORT = 8081;\n\nprivate static final String USER_AGENT_NAME = \"http.useragent\";\n\nprivate static final String USER_AGENT_VALUE = \"Mozilla/5.0 (Linux; U; Android 1.1; en-us;dream) AppleWebKit/525.10+ (KHTML, like Gecko) Version/3.0.4 Mobile Safari/523.12.2\";\n\n\nprotected DefaultHttpClient getHttpClient() throws KeyManagementException, UnrecoverableKeyException, \nNoSuchAlgorithmException, KeyStoreException, CertificateException, IOException {\n    if (httpClient == null) {\n\n        SchemeRegistry schemeRegistry = new SchemeRegistry();\n        schemeRegistry.register(new Scheme(\"http\", PlainSocketFactory.getSocketFactory(), HTTP_PORT));\n\n        HttpParams params = new BasicHttpParams();\n        params.setParameter(USER_AGENT_NAME, USER_AGENT_VALUE);\n        HttpProtocolParams.setVersion(params, HttpVersion.HTTP_1_1);\n        HttpProtocolParams.setContentCharset(params, HTTP.UTF_8);\n\n        ThreadSafeClientConnManager cm = new ThreadSafeClientConnManager(params, schemeRegistry);\n        httpClient = new DefaultHttpClient(cm, params);\n    }\n    return httpClient;\n}\n</code></pre>\n\n<p>While making HTTP request be sure that port is NOT included more.</p>\n"},{"tags":[],"owner":{"account_id":6930529,"reputation":496,"user_id":5320122,"display_name":"Amit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670752673,"creation_date":1670752673,"answer_id":74759811,"question_id":34371032,"body_markdown":"With HttpPost, it works when you specify port number as part of http URL, like this:\r\n\r\n```\r\nHttpClient httpclient = new DefaultHttpClient();\r\nHttpPost httppost = new HttpPost(&quot;http://100.1.1.1:8081&quot;);\r\n\r\n```","title":"HTTP POST request with specified port number","body":"<p>With HttpPost, it works when you specify port number as part of http URL, like this:</p>\n<pre><code>HttpClient httpclient = new DefaultHttpClient();\nHttpPost httppost = new HttpPost(&quot;http://100.1.1.1:8081&quot;);\n\n</code></pre>\n"}],"owner":{"account_id":4034047,"reputation":3893,"user_id":3319176,"accept_rate":64,"display_name":"SalmanShariati"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9166,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1695056715,"creation_date":1450529864,"question_id":34371032,"body_markdown":"I&#39;m developing an Android App using JAVA in Android Studio IDE. I&#39;m trying to send an HTTP Post request from my application to retrieve the response from the server as XML.\r\n\r\nWhen I run \r\n\r\n    HttpClient httpClient = new DefaultHttpClient();\r\n    HttpPost httpPost = new HttpPost(&quot;100.1.1.1&quot;);\r\nIt works without any exception but when I use a port in the URL like\r\n\r\n    HttpClient httpClient = new DefaultHttpClient();\r\n    HttpPost httpPost = new HttpPost(&quot;100.1.1.1:8081&quot;);\r\n\r\nthe app warns me by &quot;Unfortunately, App has stopped&quot; and exits.\r\n\r\nThe real IP Addresses in this post have been replaced by 100.1.1.1\r\n\r\n\r\nMy Question is &quot;why it doesn&#39;t work with Port number in URL?&quot; and if there is a better way to get data from a web server by URL and Query Strings what is that way.\r\n\r\nThe URL that returns data as XML is like :\r\n\r\n&gt; 100.1.1.1:8081/?FindResults&amp;Parameter1&amp;Parameter2&amp;Parameter3\r\n\r\nAny help would be appreciated.\r\n","title":"HTTP POST request with specified port number","body":"<p>I'm developing an Android App using JAVA in Android Studio IDE. I'm trying to send an HTTP Post request from my application to retrieve the response from the server as XML.</p>\n\n<p>When I run </p>\n\n<pre><code>HttpClient httpClient = new DefaultHttpClient();\nHttpPost httpPost = new HttpPost(\"100.1.1.1\");\n</code></pre>\n\n<p>It works without any exception but when I use a port in the URL like</p>\n\n<pre><code>HttpClient httpClient = new DefaultHttpClient();\nHttpPost httpPost = new HttpPost(\"100.1.1.1:8081\");\n</code></pre>\n\n<p>the app warns me by \"Unfortunately, App has stopped\" and exits.</p>\n\n<p>The real IP Addresses in this post have been replaced by 100.1.1.1</p>\n\n<p>My Question is \"why it doesn't work with Port number in URL?\" and if there is a better way to get data from a web server by URL and Query Strings what is that way.</p>\n\n<p>The URL that returns data as XML is like :</p>\n\n<blockquote>\n  <p>100.1.1.1:8081/?FindResults&amp;Parameter1&amp;Parameter2&amp;Parameter3</p>\n</blockquote>\n\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","exception","generics","polymorphism","throws"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1694968478,"post_id":77122736,"comment_id":135958152,"body_markdown":"Does this answer your question? [Java generics type erasure: when and what happens?](https://stackoverflow.com/questions/339699/java-generics-type-erasure-when-and-what-happens) What you are looking for is called type erasure and it is not really specific to exceptions but applies generally to all generics (and casting to generic types)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/339699/java-generics-type-erasure-when-and-what-happens\">Java generics type erasure: when and what happens?</a> What you are looking for is called type erasure and it is not really specific to exceptions but applies generally to all generics (and casting to generic types)"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1694968586,"post_id":77122736,"comment_id":135958170,"body_markdown":"Your mental model about generics is mostly correct. And if I remember correctly, you will get the `ClassCastException` when oyu try to access the thrown `Exception` as RuntimeException`. This all revolvesa around the cast. I cannot find the exact JLS paragraph, but it says something along the line of &quot;type checks are intersted when necessary&quot;. This leads to situations where they are only insterted when the value is accessed, and at unexepected places.","body":"Your mental model about generics is mostly correct. And if I remember correctly, you will get the <code>ClassCastException</code> when oyu try to access the thrown <code>Exception</code> as RuntimeException`. This all revolvesa around the cast. I cannot find the exact JLS paragraph, but it says something along the line of &quot;type checks are intersted when necessary&quot;. This leads to situations where they are only insterted when the value is accessed, and at unexepected places."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1694968759,"post_id":77122736,"comment_id":135958192,"body_markdown":"[This question](https://stackoverflow.com/questions/1268623/why-is-a-classcastexception-only-thrown-when-the-return-value-is-accessed) is related.","body":"<a href=\"https://stackoverflow.com/questions/1268623/why-is-a-classcastexception-only-thrown-when-the-return-value-is-accessed\">This question</a> is related."},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1694970560,"post_id":77122736,"comment_id":135958396,"body_markdown":"@dan1st I simply have no idea why people are linking older questions when they do not provide a clear understanding of THIS PARTICULAR CASE. No it doesn&#39;t answer my question, my question is simply why there is no ClassCastException thrown where it should be.","body":"@dan1st I simply have no idea why people are linking older questions when they do not provide a clear understanding of THIS PARTICULAR CASE. No it doesn&#39;t answer my question, my question is simply why there is no ClassCastException thrown where it should be."},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1694970923,"post_id":77122736,"comment_id":135958444,"body_markdown":"Very similar to this [question](https://stackoverflow.com/questions/77121729/lombok-sneakythrows-why-isnt-a-classcastexception-not-thrown)","body":"Very similar to this <a href=\"https://stackoverflow.com/questions/77121729/lombok-sneakythrows-why-isnt-a-classcastexception-not-thrown\">question</a>"},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1694971113,"post_id":77122736,"comment_id":135958468,"body_markdown":"@DuncG That was my question, I made a new question and deleted that one because it was causing confusion. People thought I was talking about type-inference.","body":"@DuncG That was my question, I made a new question and deleted that one because it was causing confusion. People thought I was talking about type-inference."},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1694971395,"post_id":77122736,"comment_id":135958506,"body_markdown":"@Turing85 Yes the question you linked seems to be related, however my question is passing in a concrete type and trying to cast to a generic type. Why is that cast not happening ? I pass in `SQLException` with a reference to its superclass `Exception`, it tries to cast it to `RuntimeException`, that should throw an exception, why does that not happen?","body":"@Turing85 Yes the question you linked seems to be related, however my question is passing in a concrete type and trying to cast to a generic type. Why is that cast not happening ? I pass in <code>SQLException</code> with a reference to its superclass <code>Exception</code>, it tries to cast it to <code>RuntimeException</code>, that should throw an exception, why does that not happen?"},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1694971715,"post_id":77122736,"comment_id":135958555,"body_markdown":"@Turing85 So is my cast ignored by the compiler ? But my code does not compile without the cast, so what gives. Is there no simple answer why this works ?","body":"@Turing85 So is my cast ignored by the compiler ? But my code does not compile without the cast, so what gives. Is there no simple answer why this works ?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1694972078,"post_id":77122736,"comment_id":135958601,"body_markdown":"I am not entirely sure. I&#39;d need to analyze the bytecode. It looks like the cast would only take effect when we enforce that the thrown `Exceptoin` is - in deed - a `RuntimeException` (without another cast). A `catch (RuntimeException e) { ... }` does not catch the exception.","body":"I am not entirely sure. I&#39;d need to analyze the bytecode. It looks like the cast would only take effect when we enforce that the thrown <code>Exceptoin</code> is - in deed - a <code>RuntimeException</code> (without another cast). A <code>catch (RuntimeException e) { ... }</code> does not catch the exception."},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1694972316,"post_id":77122736,"comment_id":135958631,"body_markdown":"@Turing85 The confusing part is that it does not compile without the cast. So where how exactly is the cast being used ? A `catch(RuntimeException)` will obviously not catch it but it does not generate a ClassCastException also.","body":"@Turing85 The confusing part is that it does not compile without the cast. So where how exactly is the cast being used ? A <code>catch(RuntimeException)</code> will obviously not catch it but it does not generate a ClassCastException also."},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1694972559,"post_id":77122736,"comment_id":135958655,"body_markdown":"@Turing85 There is some info here: https://www.javacodegeeks.com/2015/08/4-out-of-5-java-developers-failed-to-solve-this-question.html","body":"@Turing85 There is some info here: <a href=\"https://www.javacodegeeks.com/2015/08/4-out-of-5-java-developers-failed-to-solve-this-question.html\" rel=\"nofollow noreferrer\">javacodegeeks.com/2015/08/&hellip;</a>"},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1694972760,"post_id":77122736,"comment_id":135958689,"body_markdown":"@Turing85 A `catch(RuntimeException e)` doesn&#39;t obviously work, as no RuntimeException is thrown. A `catch(SQLException e)` won&#39;t compile because of the Generic Type parameter the compiler expects a RuntimeException and not a SQLException.","body":"@Turing85 A <code>catch(RuntimeException e)</code> doesn&#39;t obviously work, as no RuntimeException is thrown. A <code>catch(SQLException e)</code> won&#39;t compile because of the Generic Type parameter the compiler expects a RuntimeException and not a SQLException."},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1694972828,"post_id":77122736,"comment_id":135958698,"body_markdown":"@Turing85 If you could post your bytecode analysis that would be great.","body":"@Turing85 If you could post your bytecode analysis that would be great."},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1694973111,"post_id":77122736,"comment_id":135958736,"body_markdown":"@Turing85 Nope all that I told you above is nonsense. Just replace the cast with RuntimeException and you get a ClassCastException. Don&#39;t have the cast, the compiler complains about checked exceptions not being catched.","body":"@Turing85 Nope all that I told you above is nonsense. Just replace the cast with RuntimeException and you get a ClassCastException. Don&#39;t have the cast, the compiler complains about checked exceptions not being catched."},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1694973161,"post_id":77122736,"comment_id":135958743,"body_markdown":"@Turing85 So, **the cast is used but also not used.** That&#39;s a WTF moment.","body":"@Turing85 So, <b>the cast is used but also not used.</b> That&#39;s a WTF moment."}],"answers":[{"tags":[],"owner":{"account_id":9879926,"reputation":4097,"user_id":7316365,"accept_rate":80,"display_name":"Vivick"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1694970744,"creation_date":1694968843,"answer_id":77122762,"question_id":77122736,"body_markdown":"You&#39;re confusing generics with templates (&#224; la C++). You were on the right track with mentioning type erasure which, as the name suggests, erases any trace of type information for compilation.\n\nThus, your cast doesn&#39;t really happen, or if it does it&#39;s not with the type you&#39;d expect. \n\nYou&#39;d need to use `Class#cast` to get the desired behavior, but getting an instance of `Class&lt;T&gt;` ain&#39;t convenient for your use case. ","title":"Why doesn&#39;t @SneakyThrows throw a ClassCastException?","body":"<p>You're confusing generics with templates (à la C++). You were on the right track with mentioning type erasure which, as the name suggests, erases any trace of type information for compilation.</p>\n<p>Thus, your cast doesn't really happen, or if it does it's not with the type you'd expect.</p>\n<p>You'd need to use <code>Class#cast</code> to get the desired behavior, but getting an instance of <code>Class&lt;T&gt;</code> ain't convenient for your use case.</p>\n"},{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694976021,"creation_date":1694976021,"answer_id":77123154,"question_id":77122736,"body_markdown":"Your misconception is here:\r\n\r\n&gt; **When the main method is compiled:**\r\n&gt; \r\n&gt;     static &lt;T extends Exception&gt; void test(Exception d) throws T {\r\n&gt;         throw (T) d;\r\n&gt;     }\r\n&gt; \r\n&gt;     public static void main(String[] args) {\r\n&gt;         GenericTest.&lt;RuntimeException&gt;test(new SQLException());\r\n&gt;     }\r\n&gt; The type parameter is replaced by the concrete type : `java.lang.RuntimeException.`\r\n&gt;\r\n&gt; _**So the method effectively becomes:**_ &lt;&lt; this is your misconception: the method doesn&#39;t change!\r\n&gt; \r\n&gt;     static void test(Exception d) throws RuntimeException {\r\n&gt;         throw (RuntimeException) d;\r\n&gt;     }\r\n\r\nThis is not how generics in Java work - the `test()` method is not recompiled nor otherwise changed in any way. The method is:\r\n\r\n    static &lt;T extends Exception&gt; void test(Exception d) throws T {\r\n        throw (T) d;\r\n    }\r\n\r\nSince `T` could by any `Exception`, the cast `(T) d` is effectively a no-op and the compiler doesn&#39;t produce any code for this cast (it **cannot** do a cast: the caller doesn&#39;t pass in the type `T` and the code **must** work for all `T extends Exception`, but `d` is necessarily an `Exception` anyway because this is the declared type of the parameter.)\r\n\r\nThe compiler only checks the call site. Is the passed parameter (`SQLException`) an `Exception` or any subclass of `Exception`? Yes, `SQLException` is a subclass of `Exception` and therefore the call compiles.","title":"Why doesn&#39;t @SneakyThrows throw a ClassCastException?","body":"<p>Your misconception is here:</p>\n<blockquote>\n<p><strong>When the main method is compiled:</strong></p>\n<pre><code>static &lt;T extends Exception&gt; void test(Exception d) throws T {\n    throw (T) d;\n}\n\npublic static void main(String[] args) {\n    GenericTest.&lt;RuntimeException&gt;test(new SQLException());\n}\n</code></pre>\n<p>The type parameter is replaced by the concrete type : <code>java.lang.RuntimeException.</code></p>\n<p><em><strong>So the method effectively becomes:</strong></em> &lt;&lt; this is your misconception: the method doesn't change!</p>\n<pre><code>static void test(Exception d) throws RuntimeException {\n    throw (RuntimeException) d;\n}\n</code></pre>\n</blockquote>\n<p>This is not how generics in Java work - the <code>test()</code> method is not recompiled nor otherwise changed in any way. The method is:</p>\n<pre><code>static &lt;T extends Exception&gt; void test(Exception d) throws T {\n    throw (T) d;\n}\n</code></pre>\n<p>Since <code>T</code> could by any <code>Exception</code>, the cast <code>(T) d</code> is effectively a no-op and the compiler doesn't produce any code for this cast (it <strong>cannot</strong> do a cast: the caller doesn't pass in the type <code>T</code> and the code <strong>must</strong> work for all <code>T extends Exception</code>, but <code>d</code> is necessarily an <code>Exception</code> anyway because this is the declared type of the parameter.)</p>\n<p>The compiler only checks the call site. Is the passed parameter (<code>SQLException</code>) an <code>Exception</code> or any subclass of <code>Exception</code>? Yes, <code>SQLException</code> is a subclass of <code>Exception</code> and therefore the call compiles.</p>\n"},{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695056276,"creation_date":1694977720,"answer_id":77123250,"question_id":77122736,"body_markdown":"# Type Erasure\r\n\r\nYou are correct that type variables are erased to their leftmost bound. This is stated in [&#167;4.6 Type Erasure][1] of the _Java Language Specification_ (JLS).\r\n\r\n\r\n&gt; * The erasure of a type variable ([&#167;4.4][2]) is the erasure of its leftmost bound.\r\n\r\nThat means that the erasure of:\r\n\r\n```java\r\nstatic &lt;T extends Exception&gt; void test(Exception d) throws T {\r\n    throw (T) d;\r\n}\r\n```\r\n\r\nIs:\r\n\r\n```\r\nstatic void test(Exception d) throws Exception {\r\n    throw (Exception) d;\r\n}\r\n```\r\n\r\nBut note this only relies on the **type parameter**. The _type argument_ is irrelevant. Unlike languages such as C++, where each unique parameterization of a template results in unique compiled code, Java only compiles generics _once_. So, if you call the above with:\r\n\r\n```java\r\nClassName.&lt;RuntimeException&gt;test(new SQLException());\r\n```\r\n\r\nYou don&#39;t end up with byte code where `T`&#39;s bound was changed to `RuntimeException`. The leftmost bound is still `Exception`.\r\n\r\n## Byte-code\r\n\r\nGenerics do not _completely_ disappear after compilation. If they did, then generics would be unusable when compiling against pre-compiled libraries.\r\n\r\nWith the `test` method above, it&#39;s true that the method itself cannot know what it was parameterized with. However, the fact that the method _is_ generic with the type parameter `T extends Exception`, and that it `throws T`, is preserved. In other words, static generic information is recorded in the byte-code. You can even get this information via reflection.\r\n\r\nBasically, generics are an &quot;illusion&quot; of the compiler. They are a _language_ feature, not a _run-time_ (JVM) feature. From the point of view of the compiler, generics always exist (unless raw types are involved).\r\n\r\nThis is why you do not need to handle the exception when calling `test` with `RuntimeException` (or some subclass) as the type argument. The _compiler_ knows about `T`, and thus &quot;knows&quot; in this case that the method does not throw a _checked_ exception. Yet notice the `(T) d` line of the `test` method gives an &quot;unchecked cast&quot; compiler warning. This warning occurs precisely because the cast may succeed, but that doesn&#39;t mean the code is not broken (e.g., claiming `T` is an _unchecked_ exception, but then having the method actually throw a _checked_ exception).\r\n\r\n---\r\n\r\n# Casting\r\n\r\nFrom [&#167;5.5 Casting Contexts][3] of the JLS:\r\n\r\n&gt; If a casting context makes use of a narrowing reference conversion that is checked or partially unchecked ([&#167;5.1.6.2][4], [&#167;5.1.6.3][5]), then a run time check will be performed on the class of the expression&#39;s value, possibly causing a `ClassCastException`. **Otherwise, no run time check is performed.** _[emphasis added]_\r\n\r\nAnd from [&#167;5.1.6.2 Checked and Unchecked Narrowing Reference Conversions][4]:\r\n\r\n&gt; * A narrowing reference conversion from a type `S` to a type variable `T` is unchecked.\r\n\r\nAnd from [&#167;5.1.6.3 Narrowing Reference Conversions at Run Time][5]:\r\n\r\n&gt; * An unchecked narrowing reference conversion from `S` to a non-intersection type `T` is completely unchecked if `|S| &lt;: |T|`.\r\n&gt;\r\n&gt;   Otherwise, it is partially unchecked.\r\n\r\nTaking all that into account, the following:\r\n\r\n```java\r\nstatic &lt;T extends Exception&gt; void test(Exception d) throws T {\r\n    throw (T) d;\r\n}\r\n```\r\n\r\nIs a _completely unchecked_ cast. Thus, there is no check a run-time. You can verify this by looking at the byte code.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se20/html/jls-4.html#jls-4.6\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se20/html/jls-4.html#jls-4.4\r\n  [3]: https://docs.oracle.com/javase/specs/jls/se20/html/jls-5.html#jls-5.5\r\n  [4]: https://docs.oracle.com/javase/specs/jls/se20/html/jls-5.html#jls-5.1.6.2\r\n  [5]: https://docs.oracle.com/javase/specs/jls/se20/html/jls-5.html#jls-5.1.6.3","title":"Why doesn&#39;t @SneakyThrows throw a ClassCastException?","body":"<h1>Type Erasure</h1>\n<p>You are correct that type variables are erased to their leftmost bound. This is stated in <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-4.html#jls-4.6\" rel=\"nofollow noreferrer\">§4.6 Type Erasure</a> of the <em>Java Language Specification</em> (JLS).</p>\n<blockquote>\n<ul>\n<li>The erasure of a type variable (<a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-4.html#jls-4.4\" rel=\"nofollow noreferrer\">§4.4</a>) is the erasure of its leftmost bound.</li>\n</ul>\n</blockquote>\n<p>That means that the erasure of:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static &lt;T extends Exception&gt; void test(Exception d) throws T {\n    throw (T) d;\n}\n</code></pre>\n<p>Is:</p>\n<pre><code>static void test(Exception d) throws Exception {\n    throw (Exception) d;\n}\n</code></pre>\n<p>But note this only relies on the <strong>type parameter</strong>. The <em>type argument</em> is irrelevant. Unlike languages such as C++, where each unique parameterization of a template results in unique compiled code, Java only compiles generics <em>once</em>. So, if you call the above with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ClassName.&lt;RuntimeException&gt;test(new SQLException());\n</code></pre>\n<p>You don't end up with byte code where <code>T</code>'s bound was changed to <code>RuntimeException</code>. The leftmost bound is still <code>Exception</code>.</p>\n<h2>Byte-code</h2>\n<p>Generics do not <em>completely</em> disappear after compilation. If they did, then generics would be unusable when compiling against pre-compiled libraries.</p>\n<p>With the <code>test</code> method above, it's true that the method itself cannot know what it was parameterized with. However, the fact that the method <em>is</em> generic with the type parameter <code>T extends Exception</code>, and that it <code>throws T</code>, is preserved. In other words, static generic information is recorded in the byte-code. You can even get this information via reflection.</p>\n<p>Basically, generics are an &quot;illusion&quot; of the compiler. They are a <em>language</em> feature, not a <em>run-time</em> (JVM) feature. From the point of view of the compiler, generics always exist (unless raw types are involved).</p>\n<p>This is why you do not need to handle the exception when calling <code>test</code> with <code>RuntimeException</code> (or some subclass) as the type argument. The <em>compiler</em> knows about <code>T</code>, and thus &quot;knows&quot; in this case that the method does not throw a <em>checked</em> exception. Yet notice the <code>(T) d</code> line of the <code>test</code> method gives an &quot;unchecked cast&quot; compiler warning. This warning occurs precisely because the cast may succeed, but that doesn't mean the code is not broken (e.g., claiming <code>T</code> is an <em>unchecked</em> exception, but then having the method actually throw a <em>checked</em> exception).</p>\n<hr />\n<h1>Casting</h1>\n<p>From <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-5.html#jls-5.5\" rel=\"nofollow noreferrer\">§5.5 Casting Contexts</a> of the JLS:</p>\n<blockquote>\n<p>If a casting context makes use of a narrowing reference conversion that is checked or partially unchecked (<a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-5.html#jls-5.1.6.2\" rel=\"nofollow noreferrer\">§5.1.6.2</a>, <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-5.html#jls-5.1.6.3\" rel=\"nofollow noreferrer\">§5.1.6.3</a>), then a run time check will be performed on the class of the expression's value, possibly causing a <code>ClassCastException</code>. <strong>Otherwise, no run time check is performed.</strong> <em>[emphasis added]</em></p>\n</blockquote>\n<p>And from <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-5.html#jls-5.1.6.2\" rel=\"nofollow noreferrer\">§5.1.6.2 Checked and Unchecked Narrowing Reference Conversions</a>:</p>\n<blockquote>\n<ul>\n<li>A narrowing reference conversion from a type <code>S</code> to a type variable <code>T</code> is unchecked.</li>\n</ul>\n</blockquote>\n<p>And from <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-5.html#jls-5.1.6.3\" rel=\"nofollow noreferrer\">§5.1.6.3 Narrowing Reference Conversions at Run Time</a>:</p>\n<blockquote>\n<ul>\n<li><p>An unchecked narrowing reference conversion from <code>S</code> to a non-intersection type <code>T</code> is completely unchecked if <code>|S| &lt;: |T|</code>.</p>\n<p>Otherwise, it is partially unchecked.</p>\n</li>\n</ul>\n</blockquote>\n<p>Taking all that into account, the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static &lt;T extends Exception&gt; void test(Exception d) throws T {\n    throw (T) d;\n}\n</code></pre>\n<p>Is a <em>completely unchecked</em> cast. Thus, there is no check a run-time. You can verify this by looking at the byte code.</p>\n"}],"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1694977703,"accepted_answer_id":77123250,"answer_count":3,"score":-1,"last_activity_date":1695056276,"creation_date":1694968150,"question_id":77122736,"body_markdown":"This question just asks why the generic cast is not used. The questions about Erasure do not seem to explain this edge case.\r\n\r\n\r\nBefore I start let me preface this by saying **I am NOT interested in type inference as described here**:\r\n\r\nhttps://stackoverflow.com/questions/31316581/a-peculiar-feature-of-exception-type-inference-in-java-8/31316879#31316879\r\n\r\nThis is just to avoid confusion.\r\n\r\n**What I am interested in is why the following code works without throwing a** `ClassCastException` ?\r\n\r\n    import java.sql.SQLException;\r\n    \r\n    public class GenericThrows {\r\n        static &lt;T extends Exception&gt; void test(Exception d) throws T {\r\n            throw (T) d;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            GenericTest.&lt;RuntimeException&gt;test(new SQLException());\r\n        }\r\n    }\r\n\r\nCompile the code with:\r\n\r\n    javac -source 1.7 -target 1.7 GenericThrows.java\r\n\r\nAnd it produces:\r\n\r\n    Exception in thread &quot;main&quot; java.sql.SQLException\r\n            at GenericTest.main(GenericTest.java:9)\r\n\r\nMy mental model of Java Generics and Type Erasure (and why I think this makes no sense):\r\n\r\n**When the static method compiles:**\r\n\r\n    static &lt;T extends Exception&gt; void test(Exception d) throws T {\r\n            throw (T) d;\r\n        }\r\n\r\nType Erasure wipes out all generic types and replaces them with the upper bound of given type, so the method effectively becomes:\r\n\r\n    static void test(Exception d) throws Exception {\r\n            throw (Exception) d;\r\n        } \r\n\r\nI hope I am correct.\r\n\r\n**When the main method is compiled:**\r\n\r\n    static &lt;T extends Exception&gt; void test(Exception d) throws T {\r\n            throw (T) d;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            GenericTest.&lt;RuntimeException&gt;test(new SQLException());\r\n        }\r\n\r\nThe type parameter is replaced by the concrete type : `java.lang.RuntimeException`.\r\n\r\nSo the method effectively becomes:\r\n\r\n    static void test(Exception d) throws RuntimeException {\r\n            throw (RuntimeException) d;\r\n        }\r\n\r\nI hope I am correct.\r\n\r\nSo, **when I try to cast a `SQLException` to a `RuntimeException` I should get a `ClassCastException`, this is exactly what happens if I write the code without generics:**\r\n\r\n\r\n    import java.sql.SQLException;\r\n    \r\n    public class NonGenericThrows {\r\n        static void test(Exception d) throws RuntimeException {\r\n            throw (RuntimeException) d;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            NonGenericThrows.test(new SQLException());\r\n        }\r\n    }\r\n\r\nCompilation and execution:\r\n\r\n    javac -source 1.7 -target 1.7 NonGenericThrows.java\r\n    java NonGenericThrows\r\n\r\nResults:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.ClassCastException: class java.sql.SQLException cannot be cast to class java.lang.RuntimeException (java.sql.SQLException is in module java.sql of loader &#39;platform&#39;; java.lang.RuntimeException is in module java.base of loader &#39;bootstrap&#39;)\r\n            at NonGenericThrows.test(NonGenericThrows.java:5)\r\n            at NonGenericThrows.main(NonGenericThrows.java:9)\r\n\r\n\r\n**Then why does the generic version not give a ClassCastException ?**\r\n\r\n**Where am I going wrong in my mental model ?**\r\n","title":"Why doesn&#39;t @SneakyThrows throw a ClassCastException?","body":"<p>This question just asks why the generic cast is not used. The questions about Erasure do not seem to explain this edge case.</p>\n<p>Before I start let me preface this by saying <strong>I am NOT interested in type inference as described here</strong>:</p>\n<p><a href=\"https://stackoverflow.com/questions/31316581/a-peculiar-feature-of-exception-type-inference-in-java-8/31316879#31316879\">A peculiar feature of exception type inference in Java 8</a></p>\n<p>This is just to avoid confusion.</p>\n<p><strong>What I am interested in is why the following code works without throwing a</strong> <code>ClassCastException</code> ?</p>\n<pre><code>import java.sql.SQLException;\n\npublic class GenericThrows {\n    static &lt;T extends Exception&gt; void test(Exception d) throws T {\n        throw (T) d;\n    }\n\n    public static void main(String[] args) {\n        GenericTest.&lt;RuntimeException&gt;test(new SQLException());\n    }\n}\n</code></pre>\n<p>Compile the code with:</p>\n<pre><code>javac -source 1.7 -target 1.7 GenericThrows.java\n</code></pre>\n<p>And it produces:</p>\n<pre><code>Exception in thread &quot;main&quot; java.sql.SQLException\n        at GenericTest.main(GenericTest.java:9)\n</code></pre>\n<p>My mental model of Java Generics and Type Erasure (and why I think this makes no sense):</p>\n<p><strong>When the static method compiles:</strong></p>\n<pre><code>static &lt;T extends Exception&gt; void test(Exception d) throws T {\n        throw (T) d;\n    }\n</code></pre>\n<p>Type Erasure wipes out all generic types and replaces them with the upper bound of given type, so the method effectively becomes:</p>\n<pre><code>static void test(Exception d) throws Exception {\n        throw (Exception) d;\n    } \n</code></pre>\n<p>I hope I am correct.</p>\n<p><strong>When the main method is compiled:</strong></p>\n<pre><code>static &lt;T extends Exception&gt; void test(Exception d) throws T {\n        throw (T) d;\n    }\n\n    public static void main(String[] args) {\n        GenericTest.&lt;RuntimeException&gt;test(new SQLException());\n    }\n</code></pre>\n<p>The type parameter is replaced by the concrete type : <code>java.lang.RuntimeException</code>.</p>\n<p>So the method effectively becomes:</p>\n<pre><code>static void test(Exception d) throws RuntimeException {\n        throw (RuntimeException) d;\n    }\n</code></pre>\n<p>I hope I am correct.</p>\n<p>So, <strong>when I try to cast a <code>SQLException</code> to a <code>RuntimeException</code> I should get a <code>ClassCastException</code>, this is exactly what happens if I write the code without generics:</strong></p>\n<pre><code>import java.sql.SQLException;\n\npublic class NonGenericThrows {\n    static void test(Exception d) throws RuntimeException {\n        throw (RuntimeException) d;\n    }\n\n    public static void main(String[] args) {\n        NonGenericThrows.test(new SQLException());\n    }\n}\n</code></pre>\n<p>Compilation and execution:</p>\n<pre><code>javac -source 1.7 -target 1.7 NonGenericThrows.java\njava NonGenericThrows\n</code></pre>\n<p>Results:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.ClassCastException: class java.sql.SQLException cannot be cast to class java.lang.RuntimeException (java.sql.SQLException is in module java.sql of loader 'platform'; java.lang.RuntimeException is in module java.base of loader 'bootstrap')\n        at NonGenericThrows.test(NonGenericThrows.java:5)\n        at NonGenericThrows.main(NonGenericThrows.java:9)\n</code></pre>\n<p><strong>Then why does the generic version not give a ClassCastException ?</strong></p>\n<p><strong>Where am I going wrong in my mental model ?</strong></p>\n"},{"tags":["java","datetime","java-8","jsr310"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1441625483,"post_id":32437550,"comment_id":52739465,"body_markdown":"Instant is more elementary, wrapping the standard long for the UTC. For a cron like batch not so logical a choice.","body":"Instant is more elementary, wrapping the standard long for the UTC. For a cron like batch not so logical a choice."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":68,"creation_date":1441644502,"post_id":32437550,"comment_id":52749831,"body_markdown":"**Incorrect** definition. `LocalDateTime` does *not* have a time zone!","body":"<b>Incorrect</b> definition. <code>LocalDateTime</code> does <i>not</i> have a time zone!"}],"answers":[{"tags":[],"owner":{"account_id":2222583,"reputation":21731,"user_id":1961634,"accept_rate":81,"display_name":"Dariusz"},"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1663419751,"creation_date":1441626568,"answer_id":32437995,"question_id":32437550,"body_markdown":"One main difference is the &quot;Local&quot; part of `LocalDateTime`. If you live in Germany and create a `LocalDateTime` instance and someone else lives in the USA and creates another instance at the very same moment (provided the clocks are properly set) - the value of those objects would actually be different. This does not apply to `Instant`, which is calculated independently from a time zone.\r\n\r\n`LocalDateTime` stores date and time without a timezone, but its initial value is timezone-dependent. `Instant`&#39;s is not.\r\n\r\nMoreover, `LocalDateTime` provides methods for manipulating date components like days, hours, and months. An `Instant` does not.\r\n\r\n&gt; apart from the nanosecond precision advantage of `Instant` and the\r\n&gt; time-zone part of `LocalDateTime`\r\n\r\nBoth classes have the same precision. `LocalDateTime` does not store the timezone. Read Javadocs thoroughly, because you may make a big mistake with such invalid assumptions: [`Instant`](https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html) and [`LocalDateTime`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html).","title":"What&#39;s the difference between Instant and LocalDateTime?","body":"<p>One main difference is the &quot;Local&quot; part of <code>LocalDateTime</code>. If you live in Germany and create a <code>LocalDateTime</code> instance and someone else lives in the USA and creates another instance at the very same moment (provided the clocks are properly set) - the value of those objects would actually be different. This does not apply to <code>Instant</code>, which is calculated independently from a time zone.</p>\n<p><code>LocalDateTime</code> stores date and time without a timezone, but its initial value is timezone-dependent. <code>Instant</code>'s is not.</p>\n<p>Moreover, <code>LocalDateTime</code> provides methods for manipulating date components like days, hours, and months. An <code>Instant</code> does not.</p>\n<blockquote>\n<p>apart from the nanosecond precision advantage of <code>Instant</code> and the\ntime-zone part of <code>LocalDateTime</code></p>\n</blockquote>\n<p>Both classes have the same precision. <code>LocalDateTime</code> does not store the timezone. Read Javadocs thoroughly, because you may make a big mistake with such invalid assumptions: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"noreferrer\"><code>Instant</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\" rel=\"noreferrer\"><code>LocalDateTime</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":1936546,"reputation":133665,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1663580898,"creation_date":1441626602,"answer_id":32438005,"question_id":32437550,"body_markdown":"You are wrong about [`LocalDateTime`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html): it does not store any time-zone information and it has nanosecond precision. Quoting the Javadoc (emphasis mine):\r\n\r\n&gt;**A date-time without a time-zone in the ISO-8601 calendar system**, such as 2007-12-03T10:15:30.\r\n&gt;\r\n&gt;`LocalDateTime` is an immutable date-time object that represents a date-time, often viewed as year-month-day-hour-minute-second. Other date and time fields, such as day-of-year, day-of-week and week-of-year, can also be accessed. **Time is represented to nanosecond precision**. For example, the value &quot;2nd October 2007 at 13:45.30.123456789&quot; can be stored in a `LocalDateTime`. \r\n\r\nThe difference between the two is that [`Instant`](https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html) represents an offset from the Epoch (01-01-1970) and, as such, represents a particular instant on the time-line. Two `Instant` objects created at the same moment in two different places on the Earth will have exactly the same value.","title":"What&#39;s the difference between Instant and LocalDateTime?","body":"<p>You are wrong about <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\" rel=\"noreferrer\"><code>LocalDateTime</code></a>: it does not store any time-zone information and it has nanosecond precision. Quoting the Javadoc (emphasis mine):</p>\n<blockquote>\n<p><strong>A date-time without a time-zone in the ISO-8601 calendar system</strong>, such as 2007-12-03T10:15:30.</p>\n<p><code>LocalDateTime</code> is an immutable date-time object that represents a date-time, often viewed as year-month-day-hour-minute-second. Other date and time fields, such as day-of-year, day-of-week and week-of-year, can also be accessed. <strong>Time is represented to nanosecond precision</strong>. For example, the value &quot;2nd October 2007 at 13:45.30.123456789&quot; can be stored in a <code>LocalDateTime</code>.</p>\n</blockquote>\n<p>The difference between the two is that <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"noreferrer\"><code>Instant</code></a> represents an offset from the Epoch (01-01-1970) and, as such, represents a particular instant on the time-line. Two <code>Instant</code> objects created at the same moment in two different places on the Earth will have exactly the same value.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1842,"is_accepted":true,"score":1842,"last_activity_date":1660574108,"creation_date":1441644013,"answer_id":32443004,"question_id":32437550,"body_markdown":"\r\n\r\n[![Table of all date-time types in Java, both modern and legacy][1]][1]\r\n\r\n# tl;dr\r\n\r\n`Instant` and `LocalDateTime` are two entirely different animals: One represents a moment, the other does not. \r\n\r\n - `Instant` represents a moment, a specific point in the timeline. \r\n - `LocalDateTime` represents a date and a time-of-day. But lacking a time zone or offset-from-UTC, **this class *cannot* represent a moment**. It represents *potential* moments along a range of about 26 to 27 hours, the range of all time zones around the globe. A `LocalDateTime` value is **inherently ambiguous**.\r\n\r\n\r\n# Incorrect Presumption\r\n\r\n&gt;`LocalDateTime` is rather date/clock representation including time-zones for humans.\r\n\r\nYour statement is incorrect: **A [`LocalDateTime`][2] has *no* time zone**. Having no time zone is the entire point of that class.\r\n\r\nTo quote that class’ doc:\r\n\r\n&gt;This class does not store or represent a time-zone. Instead, it is a description of the date, as used for birthdays, combined with the local time as seen on a wall clock. It cannot represent an instant on the time-line without additional information such as an offset or time-zone.\r\n\r\nSo `Local…` means “not zoned, no offset”.\r\n\r\n# `Instant`\r\n\r\n[![enter image description here][3]][3]\r\n\r\nAn [`Instant`][4] is a moment on the timeline in [UTC][5], a count of [nanoseconds][6] since the epoch of the first moment of 1970 UTC (basically, see class doc for nitty-gritty details). Since most of your business logic, data storage, and data exchange should be in UTC, this is a handy class to be used often. \r\n\r\n    Instant instant = Instant.now() ;  // Capture the current moment in UTC.\r\n\r\n# `OffsetDateTime`\r\n\r\n[![enter image description here][7]][7]\r\n\r\nThe class [`OffsetDateTime`][8] class represents a moment as a date and time with a context of some number of hours-minutes-seconds ahead of, or behind, UTC. The amount of offset, the number of hours-minutes-seconds, is represented by the [`ZoneOffset`][9] class. \r\n\r\nIf the number of hours-minutes-seconds is zero, an [`OffsetDateTime`][8] represents a moment in UTC the same as an [`Instant`][10].\r\n\r\n# `ZoneOffset`\r\n\r\n[![enter image description here][11]][11]\r\n\r\nThe [`ZoneOffset`][9] class represents an [offset-from-UTC][12], a number of hours-minutes-seconds ahead of UTC or behind UTC. \r\n\r\nA `ZoneOffset` is merely a number of hours-minutes-seconds, nothing more. A zone is much more, having a name and a history of changes to offset. So using a zone is always preferable to using a mere offset.\r\n\r\n# `ZoneId` \r\n\r\n[![enter image description here][13]][13]\r\n\r\nA [time zone][14] is represented by the [`ZoneId`][15] class.\r\n\r\nA new day dawns earlier in [Paris][16] than in [Montr&#233;al][17], for example. So we need to move the clock’s hands to better reflect [noon][18] (when the Sun is directly overhead) for a given region. The further away eastward/westward from the UTC line in west Europe/Africa the larger the offset.\r\n\r\nA time zone is a set of rules for handling adjustments and anomalies as practiced by a local community or region. The most common anomaly is the all-too-popular lunacy known as [Daylight Saving Time (DST)][19].\r\n\r\nA time zone has the history of past rules, present rules, and rules confirmed for the near future. \r\n\r\nThese rules change more often than you might expect. Be sure to keep your date-time library&#39;s rules, usually a copy of [the &#39;tz&#39; database][20], up to date. Keeping up-to-date is easier than ever now in Java 8 with Oracle releasing a [Timezone Updater Tool][21].\r\n\r\nSpecify a [proper time zone name](https://en.wikipedia.org/wiki/List_of_tz_zones_by_name) in the format of `Continent/Region`, such as `America/Montreal`, `Africa/Casablanca`, or `Pacific/Auckland`. Never use the 2-4 letter abbreviation such as `EST` or `IST` as they are *not* true time zones, not standardized, and not even unique(!). \r\n\r\n\r\n&gt;Time Zone = Offset + Rules of Adjustments\r\n\r\n    ZoneId z = ZoneId.of( “Africa/Tunis” ) ; \r\n\r\n# `ZonedDateTime`\r\n\r\n[![enter image description here][22]][22]\r\n\r\nThink of [`ZonedDateTime`][23] conceptually as an `Instant` with an assigned `ZoneId`.\r\n\r\n&gt;ZonedDateTime = ( Instant + ZoneId )\r\n\r\nTo capture the current moment as seen in the wall-clock time used by the people of a particular region (a time zone):\r\n\r\n    ZonedDateTime zdt = ZonedDateTime.now( z ) ;  // Pass a `ZoneId` object such as `ZoneId.of( &quot;Europe/Paris&quot; )`. \r\n\r\nNearly all of your backend, database, business logic, data persistence, data exchange should all be in UTC. But for presentation to users you need to adjust into a time zone expected by the user. This is the purpose of the `ZonedDateTime` class and the [formatter classes][24] used to generate String representations of those date-time values.\r\n\r\n    ZonedDateTime zdt = instant.atZone( z ) ;\r\n    String output = zdt.toString() ;                 // Standard ISO 8601 format.\r\n\r\nYou can generate text in localized format using [`DateTimeFormatter`][25].\r\n    \r\n    DateTimeFormatter f = DateTimeFormatter.ofLocalizedDateTime( FormatStyle.FULL ).withLocale( Locale.CANADA_FRENCH ) ; \r\n    String outputFormatted = zdt.format( f ) ;\r\n\r\n&gt;mardi 30 avril 2019 &#224; 23 h 22 min 55 s heure de l’Inde\r\n\r\n# `LocalDate`, `LocalTime`, `LocalDateTime`\r\n\r\n[![Diagram showing only a calendar for a `LocalDate`.][26]][26]\r\n\r\n[![Diagram showing only a clock for a `LocalTime`.][27]][27]\r\n\r\n[![Diagram showing a calendar plus clock for a `LocalDateTime`.][28]][28]\r\n\r\n\r\n\r\nThe &quot;local&quot; date time classes, [`LocalDateTime`][2], [`LocalDate`][29], [`LocalTime`][30], are a different kind of critter. The are not tied to any one locality or time zone. They are not tied to the timeline. **They have no real meaning** until you apply them to a locality to find a point on the timeline.\r\n\r\nThe word “Local” in these class names may be counter-intuitive to the uninitiated. The word means *any* locality, or *every* locality, but *not* a particular locality.\r\n\r\nSo for business apps, the &quot;Local&quot; types are not often used as they represent just the general idea of a possible date or time not a specific moment on the timeline. Business apps tend to care about the exact moment an invoice arrived, a product shipped for transport, an employee was hired, or the taxi left the garage. So business app developers use `Instant` and `ZonedDateTime` classes most commonly. \r\n\r\nSo when would we use `LocalDateTime`? In three situations: \r\n\r\n - We want to apply a certain date and time-of-day across multiple locations.\r\n - We are booking appointments.\r\n - We have an intended yet undetermined time zone. \r\n\r\nNotice that none of these three cases involve a single certain specific point on the timeline, none of these are a moment.\r\n\r\n\r\n## One time-of-day, multiple moments\r\n\r\nSometimes we want to represent a certain time-of-day on a certain date, but want to apply that into multiple localities across time zones. \r\n\r\nFor example, &quot;Christmas starts at midnight on the 25th of December 2015&quot; is a `LocalDateTime`. Midnight strikes at different moments in Paris than in Montr&#233;al, and different again in [Seattle][31] and in [Auckland][32]. \r\n\r\n    LocalDate ld = LocalDate.of( 2018 , Month.DECEMBER , 25 ) ;\r\n    LocalTime lt = LocalTime.MIN ;   // 00:00:00\r\n    LocalDateTime ldt = LocalDateTime.of( ld , lt ) ;  // Christmas morning anywhere. \r\n\r\nAnother example, &quot;Acme Company has a policy that lunchtime starts at 12:30 PM at each of its factories worldwide&quot; is a `LocalTime`. To have real meaning you need to apply it to the timeline to figure the moment of 12:30 at the [Stuttgart][33] factory or 12:30 at the [Rabat][34] factory or 12:30 at the [Sydney][35] factory.\r\n\r\n## Booking appointments\r\n\r\nAnother situation to use `LocalDateTime` is for booking future events (ex: Dentist appointments). These appointments may be far enough out in the future that you risk politicians redefining the time zone. Politicians often give little forewarning, or even no warning at all. If you mean &quot;3 PM next January 23rd&quot; regardless of how the politicians may play with the clock, then you cannot record a moment – that would see 3 PM turn into 2 PM or 4 PM if that region adopted or dropped Daylight Saving Time, for example.\r\n\r\nFor appointments, store a `LocalDateTime` and a `ZoneId`, kept separately. Later, when generating a schedule, on-the-fly determine a moment by calling `LocalDateTime::atZone( ZoneId )` to generate a `ZonedDateTime` object. \r\n\r\n    ZonedDateTime zdt = ldt.atZone( z ) ;  // Given a date, a time-of-day, and a time zone, determine a moment, a point on the timeline.\r\n\r\nIf needed, you can adjust to UTC. Extract an `Instant` from the `ZonedDateTime`.\r\n\r\n    Instant instant = zdt.toInstant() ;  // Adjust from some zone to UTC. Same moment, same point on the timeline, different wall-clock time.\r\n\r\n## Unknown zone\r\n\r\nSome people might use `LocalDateTime` in a situation where the time zone or offset is unknown. \r\n\r\nI consider this case inappropriate and unwise. If a zone or offset is intended but undetermined, you have bad data. That would be like storing a price of a product without knowing the intended currency (dollars, pounds, euros, etc.). Not a good idea.\r\n\r\n# All date-time types\r\n\r\nFor completeness, here is a table of all the possible date-time types, both modern and legacy in Java, as well as those defined by the SQL standard. This might help to place the `Instant` &amp; `LocalDateTime` classes in a larger context.\r\n\r\n\r\n[![Table of all date-time types in Java (both modern &amp; legacy) as well as SQL standard.][36]][36]\r\n\r\n\r\nNotice the odd choices made by the Java team in designing JDBC 4.2. They chose to support all the *java.time* times… except for the two most commonly used classes: `Instant` &amp; `ZonedDateTime`. \r\n\r\nBut not to worry. We can easily convert back and forth. \r\n\r\nConverting `Instant`.\r\n\r\n    // Storing\r\n    OffsetDateTime odt = instant.atOffset( ZoneOffset.UTC ) ;\r\n    myPreparedStatement.setObject( … , odt ) ;\r\n\r\n    // Retrieving\r\n    OffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\r\n    Instant instant = odt.toInstant() ;\r\n\r\nConverting `ZonedDateTime`.\r\n\r\n    // Storing\r\n    OffsetDateTime odt = zdt.toOffsetDateTime() ;\r\n    myPreparedStatement.setObject( … , odt ) ;\r\n\r\n    // Retrieving\r\n    OffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\r\n    ZoneId z = ZoneId.of( &quot;Asia/Kolkata&quot; ) ;\r\n    ZonedDateTime zdt = odt.atZone( z ) ; \r\n\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html), [`Calendar`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html), &amp; [`SimpleDateFormat`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html).\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) classes.\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes. Hibernate 5 &amp; JPA 2.2 support *java.time*. \r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), [**Java SE 11**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11), and later  - Part of the standard Java API with a bundled implementation.\r\n   - [**Java 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9) brought some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n   - Most of the *java.time* functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n   - Later versions of Android (26+) bundle implementations of the *java.time* classes.\r\n   - For earlier Android (&lt;26), a process known as [*API desugaring*](https://developer.android.com/studio/write/java8-support#library-desugaring) brings a [subset of the *java.time*](https://developer.android.com/studio/write/java8-support-table) functionality not originally built into Android.\r\n     - If the desugaring does not offer what you need, the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) (mentioned above) to Android. See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\n\r\n\r\n[![Table of which java.time library to use with which version of Java or Android][37]][37]\r\n\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QPhGW.png\r\n  [2]: http://docs.oracle.com/javase/11/docs/api/java/time/LocalDateTime.html\r\n  [3]: https://i.stack.imgur.com/9c9c8.png\r\n  [4]: http://docs.oracle.com/javase/11/docs/api/java/time/Instant.html\r\n  [5]: https://en.wikipedia.org/wiki/Coordinated_Universal_Time\r\n  [6]: https://en.wikipedia.org/wiki/Nanosecond\r\n  [7]: https://i.stack.imgur.com/D3rQ0.png\r\n  [8]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/OffsetDateTime.html\r\n  [9]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/ZoneOffset.html\r\n  [10]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Instant.html\r\n  [11]: https://i.stack.imgur.com/uw7es.png\r\n  [12]: https://en.wikipedia.org/wiki/UTC_offset\r\n  [13]: https://i.stack.imgur.com/fIsUK.jpg\r\n  [14]: https://en.wikipedia.org/wiki/Time_zone\r\n  [15]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/ZoneId.html\r\n  [16]: https://en.wikipedia.org/wiki/Paris\r\n  [17]: https://en.wikipedia.org/wiki/Montreal\r\n  [18]: https://en.wikipedia.org/wiki/Noon\r\n  [19]: https://en.wikipedia.org/wiki/Daylight_saving_time\r\n  [20]: https://en.wikipedia.org/wiki/Tz_database\r\n  [21]: http://www.oracle.com/technetwork/java/javase/tzupdater-readme-136440.html\r\n  [22]: https://i.stack.imgur.com/2j5Ui.png\r\n  [23]: http://docs.oracle.com/javase/11/docs/api/java/time/ZonedDateTime.html\r\n  [24]: http://docs.oracle.com/javase/11/docs/api/java/time/format/package-summary.html\r\n  [25]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/format/DateTimeFormatter.html\r\n  [26]: https://i.stack.imgur.com/PJSsX.jpg\r\n  [27]: https://i.stack.imgur.com/WXBy8.jpg\r\n  [28]: https://i.stack.imgur.com/cmEdq.png\r\n  [29]: http://docs.oracle.com/javase/11/docs/api/java/time/LocalDate.html\r\n  [30]: http://docs.oracle.com/javase/11/docs/api/java/time/LocalTime.html\r\n  [31]: https://en.wikipedia.org/wiki/Seattle\r\n  [32]: https://en.wikipedia.org/wiki/Auckland\r\n  [33]: https://en.wikipedia.org/wiki/Stuttgart\r\n  [34]: https://en.wikipedia.org/wiki/Rabat\r\n  [35]: https://en.wikipedia.org/wiki/Sydney\r\n  [36]: https://i.stack.imgur.com/GRtXz.png\r\n  [37]: https://i.stack.imgur.com/Sksw9.png","title":"What&#39;s the difference between Instant and LocalDateTime?","body":"<p><a href=\"https://i.stack.imgur.com/QPhGW.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/QPhGW.png\" alt=\"Table of all date-time types in Java, both modern and legacy\" /></a></p>\n<h1>tl;dr</h1>\n<p><code>Instant</code> and <code>LocalDateTime</code> are two entirely different animals: One represents a moment, the other does not.</p>\n<ul>\n<li><code>Instant</code> represents a moment, a specific point in the timeline.</li>\n<li><code>LocalDateTime</code> represents a date and a time-of-day. But lacking a time zone or offset-from-UTC, <strong>this class <em>cannot</em> represent a moment</strong>. It represents <em>potential</em> moments along a range of about 26 to 27 hours, the range of all time zones around the globe. A <code>LocalDateTime</code> value is <strong>inherently ambiguous</strong>.</li>\n</ul>\n<h1>Incorrect Presumption</h1>\n<blockquote>\n<p><code>LocalDateTime</code> is rather date/clock representation including time-zones for humans.</p>\n</blockquote>\n<p>Your statement is incorrect: <strong>A <a href=\"http://docs.oracle.com/javase/11/docs/api/java/time/LocalDateTime.html\" rel=\"noreferrer\"><code>LocalDateTime</code></a> has <em>no</em> time zone</strong>. Having no time zone is the entire point of that class.</p>\n<p>To quote that class’ doc:</p>\n<blockquote>\n<p>This class does not store or represent a time-zone. Instead, it is a description of the date, as used for birthdays, combined with the local time as seen on a wall clock. It cannot represent an instant on the time-line without additional information such as an offset or time-zone.</p>\n</blockquote>\n<p>So <code>Local…</code> means “not zoned, no offset”.</p>\n<h1><code>Instant</code></h1>\n<p><a href=\"https://i.stack.imgur.com/9c9c8.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/9c9c8.png\" alt=\"enter image description here\" /></a></p>\n<p>An <a href=\"http://docs.oracle.com/javase/11/docs/api/java/time/Instant.html\" rel=\"noreferrer\"><code>Instant</code></a> is a moment on the timeline in <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"noreferrer\">UTC</a>, a count of <a href=\"https://en.wikipedia.org/wiki/Nanosecond\" rel=\"noreferrer\">nanoseconds</a> since the epoch of the first moment of 1970 UTC (basically, see class doc for nitty-gritty details). Since most of your business logic, data storage, and data exchange should be in UTC, this is a handy class to be used often.</p>\n<pre><code>Instant instant = Instant.now() ;  // Capture the current moment in UTC.\n</code></pre>\n<h1><code>OffsetDateTime</code></h1>\n<p><a href=\"https://i.stack.imgur.com/D3rQ0.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/D3rQ0.png\" alt=\"enter image description here\" /></a></p>\n<p>The class <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/OffsetDateTime.html\" rel=\"noreferrer\"><code>OffsetDateTime</code></a> class represents a moment as a date and time with a context of some number of hours-minutes-seconds ahead of, or behind, UTC. The amount of offset, the number of hours-minutes-seconds, is represented by the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/ZoneOffset.html\" rel=\"noreferrer\"><code>ZoneOffset</code></a> class.</p>\n<p>If the number of hours-minutes-seconds is zero, an <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/OffsetDateTime.html\" rel=\"noreferrer\"><code>OffsetDateTime</code></a> represents a moment in UTC the same as an <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Instant.html\" rel=\"noreferrer\"><code>Instant</code></a>.</p>\n<h1><code>ZoneOffset</code></h1>\n<p><a href=\"https://i.stack.imgur.com/uw7es.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/uw7es.png\" alt=\"enter image description here\" /></a></p>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/ZoneOffset.html\" rel=\"noreferrer\"><code>ZoneOffset</code></a> class represents an <a href=\"https://en.wikipedia.org/wiki/UTC_offset\" rel=\"noreferrer\">offset-from-UTC</a>, a number of hours-minutes-seconds ahead of UTC or behind UTC.</p>\n<p>A <code>ZoneOffset</code> is merely a number of hours-minutes-seconds, nothing more. A zone is much more, having a name and a history of changes to offset. So using a zone is always preferable to using a mere offset.</p>\n<h1><code>ZoneId</code></h1>\n<p><a href=\"https://i.stack.imgur.com/fIsUK.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/fIsUK.jpg\" alt=\"enter image description here\" /></a></p>\n<p>A <a href=\"https://en.wikipedia.org/wiki/Time_zone\" rel=\"noreferrer\">time zone</a> is represented by the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/ZoneId.html\" rel=\"noreferrer\"><code>ZoneId</code></a> class.</p>\n<p>A new day dawns earlier in <a href=\"https://en.wikipedia.org/wiki/Paris\" rel=\"noreferrer\">Paris</a> than in <a href=\"https://en.wikipedia.org/wiki/Montreal\" rel=\"noreferrer\">Montréal</a>, for example. So we need to move the clock’s hands to better reflect <a href=\"https://en.wikipedia.org/wiki/Noon\" rel=\"noreferrer\">noon</a> (when the Sun is directly overhead) for a given region. The further away eastward/westward from the UTC line in west Europe/Africa the larger the offset.</p>\n<p>A time zone is a set of rules for handling adjustments and anomalies as practiced by a local community or region. The most common anomaly is the all-too-popular lunacy known as <a href=\"https://en.wikipedia.org/wiki/Daylight_saving_time\" rel=\"noreferrer\">Daylight Saving Time (DST)</a>.</p>\n<p>A time zone has the history of past rules, present rules, and rules confirmed for the near future.</p>\n<p>These rules change more often than you might expect. Be sure to keep your date-time library's rules, usually a copy of <a href=\"https://en.wikipedia.org/wiki/Tz_database\" rel=\"noreferrer\">the 'tz' database</a>, up to date. Keeping up-to-date is easier than ever now in Java 8 with Oracle releasing a <a href=\"http://www.oracle.com/technetwork/java/javase/tzupdater-readme-136440.html\" rel=\"noreferrer\">Timezone Updater Tool</a>.</p>\n<p>Specify a <a href=\"https://en.wikipedia.org/wiki/List_of_tz_zones_by_name\" rel=\"noreferrer\">proper time zone name</a> in the format of <code>Continent/Region</code>, such as <code>America/Montreal</code>, <code>Africa/Casablanca</code>, or <code>Pacific/Auckland</code>. Never use the 2-4 letter abbreviation such as <code>EST</code> or <code>IST</code> as they are <em>not</em> true time zones, not standardized, and not even unique(!).</p>\n<blockquote>\n<p>Time Zone = Offset + Rules of Adjustments</p>\n</blockquote>\n<pre><code>ZoneId z = ZoneId.of( “Africa/Tunis” ) ; \n</code></pre>\n<h1><code>ZonedDateTime</code></h1>\n<p><a href=\"https://i.stack.imgur.com/2j5Ui.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/2j5Ui.png\" alt=\"enter image description here\" /></a></p>\n<p>Think of <a href=\"http://docs.oracle.com/javase/11/docs/api/java/time/ZonedDateTime.html\" rel=\"noreferrer\"><code>ZonedDateTime</code></a> conceptually as an <code>Instant</code> with an assigned <code>ZoneId</code>.</p>\n<blockquote>\n<p>ZonedDateTime = ( Instant + ZoneId )</p>\n</blockquote>\n<p>To capture the current moment as seen in the wall-clock time used by the people of a particular region (a time zone):</p>\n<pre><code>ZonedDateTime zdt = ZonedDateTime.now( z ) ;  // Pass a `ZoneId` object such as `ZoneId.of( &quot;Europe/Paris&quot; )`. \n</code></pre>\n<p>Nearly all of your backend, database, business logic, data persistence, data exchange should all be in UTC. But for presentation to users you need to adjust into a time zone expected by the user. This is the purpose of the <code>ZonedDateTime</code> class and the <a href=\"http://docs.oracle.com/javase/11/docs/api/java/time/format/package-summary.html\" rel=\"noreferrer\">formatter classes</a> used to generate String representations of those date-time values.</p>\n<pre><code>ZonedDateTime zdt = instant.atZone( z ) ;\nString output = zdt.toString() ;                 // Standard ISO 8601 format.\n</code></pre>\n<p>You can generate text in localized format using <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/format/DateTimeFormatter.html\" rel=\"noreferrer\"><code>DateTimeFormatter</code></a>.</p>\n<pre><code>DateTimeFormatter f = DateTimeFormatter.ofLocalizedDateTime( FormatStyle.FULL ).withLocale( Locale.CANADA_FRENCH ) ; \nString outputFormatted = zdt.format( f ) ;\n</code></pre>\n<blockquote>\n<p>mardi 30 avril 2019 à 23 h 22 min 55 s heure de l’Inde</p>\n</blockquote>\n<h1><code>LocalDate</code>, <code>LocalTime</code>, <code>LocalDateTime</code></h1>\n<p><a href=\"https://i.stack.imgur.com/PJSsX.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/PJSsX.jpg\" alt=\"Diagram showing only a calendar for a LocalDate.\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/WXBy8.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/WXBy8.jpg\" alt=\"Diagram showing only a clock for a LocalTime.\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/cmEdq.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/cmEdq.png\" alt=\"Diagram showing a calendar plus clock for a LocalDateTime.\" /></a></p>\n<p>The &quot;local&quot; date time classes, <a href=\"http://docs.oracle.com/javase/11/docs/api/java/time/LocalDateTime.html\" rel=\"noreferrer\"><code>LocalDateTime</code></a>, <a href=\"http://docs.oracle.com/javase/11/docs/api/java/time/LocalDate.html\" rel=\"noreferrer\"><code>LocalDate</code></a>, <a href=\"http://docs.oracle.com/javase/11/docs/api/java/time/LocalTime.html\" rel=\"noreferrer\"><code>LocalTime</code></a>, are a different kind of critter. The are not tied to any one locality or time zone. They are not tied to the timeline. <strong>They have no real meaning</strong> until you apply them to a locality to find a point on the timeline.</p>\n<p>The word “Local” in these class names may be counter-intuitive to the uninitiated. The word means <em>any</em> locality, or <em>every</em> locality, but <em>not</em> a particular locality.</p>\n<p>So for business apps, the &quot;Local&quot; types are not often used as they represent just the general idea of a possible date or time not a specific moment on the timeline. Business apps tend to care about the exact moment an invoice arrived, a product shipped for transport, an employee was hired, or the taxi left the garage. So business app developers use <code>Instant</code> and <code>ZonedDateTime</code> classes most commonly.</p>\n<p>So when would we use <code>LocalDateTime</code>? In three situations:</p>\n<ul>\n<li>We want to apply a certain date and time-of-day across multiple locations.</li>\n<li>We are booking appointments.</li>\n<li>We have an intended yet undetermined time zone.</li>\n</ul>\n<p>Notice that none of these three cases involve a single certain specific point on the timeline, none of these are a moment.</p>\n<h2>One time-of-day, multiple moments</h2>\n<p>Sometimes we want to represent a certain time-of-day on a certain date, but want to apply that into multiple localities across time zones.</p>\n<p>For example, &quot;Christmas starts at midnight on the 25th of December 2015&quot; is a <code>LocalDateTime</code>. Midnight strikes at different moments in Paris than in Montréal, and different again in <a href=\"https://en.wikipedia.org/wiki/Seattle\" rel=\"noreferrer\">Seattle</a> and in <a href=\"https://en.wikipedia.org/wiki/Auckland\" rel=\"noreferrer\">Auckland</a>.</p>\n<pre><code>LocalDate ld = LocalDate.of( 2018 , Month.DECEMBER , 25 ) ;\nLocalTime lt = LocalTime.MIN ;   // 00:00:00\nLocalDateTime ldt = LocalDateTime.of( ld , lt ) ;  // Christmas morning anywhere. \n</code></pre>\n<p>Another example, &quot;Acme Company has a policy that lunchtime starts at 12:30 PM at each of its factories worldwide&quot; is a <code>LocalTime</code>. To have real meaning you need to apply it to the timeline to figure the moment of 12:30 at the <a href=\"https://en.wikipedia.org/wiki/Stuttgart\" rel=\"noreferrer\">Stuttgart</a> factory or 12:30 at the <a href=\"https://en.wikipedia.org/wiki/Rabat\" rel=\"noreferrer\">Rabat</a> factory or 12:30 at the <a href=\"https://en.wikipedia.org/wiki/Sydney\" rel=\"noreferrer\">Sydney</a> factory.</p>\n<h2>Booking appointments</h2>\n<p>Another situation to use <code>LocalDateTime</code> is for booking future events (ex: Dentist appointments). These appointments may be far enough out in the future that you risk politicians redefining the time zone. Politicians often give little forewarning, or even no warning at all. If you mean &quot;3 PM next January 23rd&quot; regardless of how the politicians may play with the clock, then you cannot record a moment – that would see 3 PM turn into 2 PM or 4 PM if that region adopted or dropped Daylight Saving Time, for example.</p>\n<p>For appointments, store a <code>LocalDateTime</code> and a <code>ZoneId</code>, kept separately. Later, when generating a schedule, on-the-fly determine a moment by calling <code>LocalDateTime::atZone( ZoneId )</code> to generate a <code>ZonedDateTime</code> object.</p>\n<pre><code>ZonedDateTime zdt = ldt.atZone( z ) ;  // Given a date, a time-of-day, and a time zone, determine a moment, a point on the timeline.\n</code></pre>\n<p>If needed, you can adjust to UTC. Extract an <code>Instant</code> from the <code>ZonedDateTime</code>.</p>\n<pre><code>Instant instant = zdt.toInstant() ;  // Adjust from some zone to UTC. Same moment, same point on the timeline, different wall-clock time.\n</code></pre>\n<h2>Unknown zone</h2>\n<p>Some people might use <code>LocalDateTime</code> in a situation where the time zone or offset is unknown.</p>\n<p>I consider this case inappropriate and unwise. If a zone or offset is intended but undetermined, you have bad data. That would be like storing a price of a product without knowing the intended currency (dollars, pounds, euros, etc.). Not a good idea.</p>\n<h1>All date-time types</h1>\n<p>For completeness, here is a table of all the possible date-time types, both modern and legacy in Java, as well as those defined by the SQL standard. This might help to place the <code>Instant</code> &amp; <code>LocalDateTime</code> classes in a larger context.</p>\n<p><a href=\"https://i.stack.imgur.com/GRtXz.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/GRtXz.png\" alt=\"Table of all date-time types in Java (both modern &amp; legacy) as well as SQL standard.\" /></a></p>\n<p>Notice the odd choices made by the Java team in designing JDBC 4.2. They chose to support all the <em>java.time</em> times… except for the two most commonly used classes: <code>Instant</code> &amp; <code>ZonedDateTime</code>.</p>\n<p>But not to worry. We can easily convert back and forth.</p>\n<p>Converting <code>Instant</code>.</p>\n<pre><code>// Storing\nOffsetDateTime odt = instant.atOffset( ZoneOffset.UTC ) ;\nmyPreparedStatement.setObject( … , odt ) ;\n\n// Retrieving\nOffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\nInstant instant = odt.toInstant() ;\n</code></pre>\n<p>Converting <code>ZonedDateTime</code>.</p>\n<pre><code>// Storing\nOffsetDateTime odt = zdt.toOffsetDateTime() ;\nmyPreparedStatement.setObject( … , odt ) ;\n\n// Retrieving\nOffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\nZoneId z = ZoneId.of( &quot;Asia/Kolkata&quot; ) ;\nZonedDateTime zdt = odt.atZone( z ) ; \n</code></pre>\n<hr />\n<h1>About <em>java.time</em></h1>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes. Hibernate 5 &amp; JPA 2.2 support <em>java.time</em>.</p>\n<p>Where to obtain the java.time classes?</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"noreferrer\"><strong>Java SE 10</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11\" rel=\"noreferrer\"><strong>Java SE 11</strong></a>, and later  - Part of the standard Java API with a bundled implementation.\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java 9</strong></a> brought some minor features and fixes.</li>\n</ul>\n</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>Java SE 7</strong></a>\n<ul>\n<li>Most of the <em>java.time</em> functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a>.</li>\n</ul>\n</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a>\n<ul>\n<li>Later versions of Android (26+) bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), a process known as <a href=\"https://developer.android.com/studio/write/java8-support#library-desugaring\" rel=\"noreferrer\"><em>API desugaring</em></a> brings a <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"noreferrer\">subset of the <em>java.time</em></a> functionality not originally built into Android.\n<ul>\n<li>If the desugaring does not offer what you need, the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><em><strong>ThreeTenABP</strong></em></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> (mentioned above) to Android. See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/Sksw9.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Sksw9.png\" alt=\"Table of which java.time library to use with which version of Java or Android\" /></a></p>\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"noreferrer\">more</a>.</p>\n"},{"tags":[],"owner":{"account_id":499397,"reputation":831,"user_id":1063628,"display_name":"Sebien"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1653741903,"creation_date":1653741903,"answer_id":72415821,"question_id":32437550,"body_markdown":"LocalDateTime has no time-zone information: one LocalDateTime may represent different instants for different machines around the world. So you should not try to use it with an implicit time-zone (the system&#39;s default one). You should use it for what it represents, for instance &quot;New-year is January 1st, at 0:00&quot;: this means a different time at all points on the globe but it&#39;s wanted in this case.\r\n\r\nInstant is a point in time at the Greenwich time-zone. Use it in addition to the user&#39;s time-zone to show him/her the start of a meeting in his/her time-zone, for instance.\r\n\r\nIf these two classes do not represent what you wanted to store/exchange, then maybe ZonedDateTime or another class may do a better job.\r\n\r\nHere is a simple synthetic schema to get the big-picture of the classes in the java.time package and their relation to the ISO-8601 standard used to reliably and effortlessly exchange dates and times between Java and other languages or frameworks:\r\n\r\n[![Classes of the java.time package and their relations to the ISO-8601 standard][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/UF4J9.png\r\n\r\nThe schema is explained in details here: http://slaout.linux62.org/java-date-time/","title":"What&#39;s the difference between Instant and LocalDateTime?","body":"<p>LocalDateTime has no time-zone information: one LocalDateTime may represent different instants for different machines around the world. So you should not try to use it with an implicit time-zone (the system's default one). You should use it for what it represents, for instance &quot;New-year is January 1st, at 0:00&quot;: this means a different time at all points on the globe but it's wanted in this case.</p>\n<p>Instant is a point in time at the Greenwich time-zone. Use it in addition to the user's time-zone to show him/her the start of a meeting in his/her time-zone, for instance.</p>\n<p>If these two classes do not represent what you wanted to store/exchange, then maybe ZonedDateTime or another class may do a better job.</p>\n<p>Here is a simple synthetic schema to get the big-picture of the classes in the java.time package and their relation to the ISO-8601 standard used to reliably and effortlessly exchange dates and times between Java and other languages or frameworks:</p>\n<p><a href=\"https://i.stack.imgur.com/UF4J9.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/UF4J9.png\" alt=\"Classes of the java.time package and their relations to the ISO-8601 standard\" /></a></p>\n<p>The schema is explained in details here: <a href=\"http://slaout.linux62.org/java-date-time/\" rel=\"noreferrer\">http://slaout.linux62.org/java-date-time/</a></p>\n"},{"tags":[],"owner":{"account_id":22455373,"reputation":68,"user_id":16658134,"display_name":"C&#233;dric Schaller"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695056226,"creation_date":1695056226,"answer_id":77129075,"question_id":32437550,"body_markdown":"I have dealt with time zones in many projects in my career. With hindsight, I must admit that we never got it 100% right because of the surprising complexity of the topic. This is why I decided to write a [blog post](https://medium.com/elca-it/how-to-get-time-zones-right-with-java-8dea13aabe5c) with a detailed coverage of the `java.time` package. \r\n\r\nThere already are many excellent answers to the question posted above, but this [blog post](https://medium.com/elca-it/how-to-get-time-zones-right-with-java-8dea13aabe5c) goes beyond just Java and also covers the interaction with technologies like relational DBs, NoSQL DBs (e.g. MongoDB) or JavaScript, which typically have a much more restrictive support than Java when it comes to time zones.\r\n\r\nWhile I do recommend reading [the article](https://medium.com/elca-it/how-to-get-time-zones-right-with-java-8dea13aabe5c) to get a detailed understanding of all the concepts, I would like to add two schemas from my post to give a quick overview. \r\n\r\nThe first diagram summarizes the features of the `java.time` classes which describe a point in time. Some classes stand for an absolute (or unequivocal) point in time (called moment), while others like `LocalDateTime` only describe a so-called wall-clock time:\r\n\r\n[![Summary of the features of the `java.time` classes describing a point in time][1]][1]\r\n\r\nThe second schema provides a decision tree which will help you pick the right class for your use case. \r\n\r\n[![Decision tree to help you pick the right class for your use case.][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/E3CDO.jpg\r\n  [2]: https://i.stack.imgur.com/Li5H3.png\r\n\r\nSome of the decisions to make in this decision tree are anything but trivial. There are explained in more detail in [my blog post](https://medium.com/elca-it/how-to-get-time-zones-right-with-java-8dea13aabe5c). ","title":"What&#39;s the difference between Instant and LocalDateTime?","body":"<p>I have dealt with time zones in many projects in my career. With hindsight, I must admit that we never got it 100% right because of the surprising complexity of the topic. This is why I decided to write a <a href=\"https://medium.com/elca-it/how-to-get-time-zones-right-with-java-8dea13aabe5c\" rel=\"nofollow noreferrer\">blog post</a> with a detailed coverage of the <code>java.time</code> package.</p>\n<p>There already are many excellent answers to the question posted above, but this <a href=\"https://medium.com/elca-it/how-to-get-time-zones-right-with-java-8dea13aabe5c\" rel=\"nofollow noreferrer\">blog post</a> goes beyond just Java and also covers the interaction with technologies like relational DBs, NoSQL DBs (e.g. MongoDB) or JavaScript, which typically have a much more restrictive support than Java when it comes to time zones.</p>\n<p>While I do recommend reading <a href=\"https://medium.com/elca-it/how-to-get-time-zones-right-with-java-8dea13aabe5c\" rel=\"nofollow noreferrer\">the article</a> to get a detailed understanding of all the concepts, I would like to add two schemas from my post to give a quick overview.</p>\n<p>The first diagram summarizes the features of the <code>java.time</code> classes which describe a point in time. Some classes stand for an absolute (or unequivocal) point in time (called moment), while others like <code>LocalDateTime</code> only describe a so-called wall-clock time:</p>\n<p><a href=\"https://i.stack.imgur.com/E3CDO.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/E3CDO.jpg\" alt=\"Summary of the features of the java.time classes describing a point in time\" /></a></p>\n<p>The second schema provides a decision tree which will help you pick the right class for your use case.</p>\n<p><a href=\"https://i.stack.imgur.com/Li5H3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Li5H3.png\" alt=\"Decision tree to help you pick the right class for your use case.\" /></a></p>\n<p>Some of the decisions to make in this decision tree are anything but trivial. There are explained in more detail in <a href=\"https://medium.com/elca-it/how-to-get-time-zones-right-with-java-8dea13aabe5c\" rel=\"nofollow noreferrer\">my blog post</a>.</p>\n"}],"owner":{"account_id":84599,"reputation":15850,"user_id":236370,"accept_rate":87,"display_name":"manuel aldana"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":250008,"favorite_count":0,"down_vote_count":3,"up_vote_count":544,"accepted_answer_id":32443004,"answer_count":5,"score":541,"last_activity_date":1695056226,"creation_date":1441625154,"question_id":32437550,"body_markdown":"I know that:\r\n\r\n- **Instant** is rather a &quot;technical&quot; timestamp representation (nanoseconds) for computing.\r\n- **LocalDateTime** is rather date/clock representation &lt;strike&gt;including time-zones&lt;/strike&gt; for humans.\r\n\r\nStill in the end IMO both can be taken as types for most application use cases. As an example: currently, I am running a batch job where I need to calculate the next run based on dates and I am struggling to find pros/cons between these two types (apart from the nanosecond precision advantage of `Instant` and the time-zone part of `LocalDateTime`).\r\n\r\nCan you name some application examples where only `Instant` or `LocalDateTime` should be used?\r\n\r\n*Edit: Beware of misread documentations for `LocalDateTime` regarding precision and time-zone.*  ","title":"What&#39;s the difference between Instant and LocalDateTime?","body":"<p>I know that:</p>\n<ul>\n<li><strong>Instant</strong> is rather a &quot;technical&quot; timestamp representation (nanoseconds) for computing.</li>\n<li><strong>LocalDateTime</strong> is rather date/clock representation <strike>including time-zones</strike> for humans.</li>\n</ul>\n<p>Still in the end IMO both can be taken as types for most application use cases. As an example: currently, I am running a batch job where I need to calculate the next run based on dates and I am struggling to find pros/cons between these two types (apart from the nanosecond precision advantage of <code>Instant</code> and the time-zone part of <code>LocalDateTime</code>).</p>\n<p>Can you name some application examples where only <code>Instant</code> or <code>LocalDateTime</code> should be used?</p>\n<p><em>Edit: Beware of misread documentations for <code>LocalDateTime</code> regarding precision and time-zone.</em></p>\n"},{"tags":["java","android","xml","android-layout","user-interface"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1695056869,"post_id":77129044,"comment_id":135970273,"body_markdown":"Have you seen/tried: https://developer.android.com/studio/debug/layout-inspector","body":"Have you seen/tried: <a href=\"https://developer.android.com/studio/debug/layout-inspector\" rel=\"nofollow noreferrer\">developer.android.com/studio/debug/layout-inspector</a>"},{"owner":{"account_id":17119275,"reputation":15,"user_id":12387939,"display_name":"C James"},"score":0,"creation_date":1695132701,"post_id":77129044,"comment_id":135981270,"body_markdown":"I hadn&#39;t seen that before, so thank you, but unfortunately this didn&#39;t have any information to help me resolve my issue :(","body":"I hadn&#39;t seen that before, so thank you, but unfortunately this didn&#39;t have any information to help me resolve my issue :("},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1695141947,"post_id":77129044,"comment_id":135983280,"body_markdown":"I would review the &#39;good&#39; and &#39;bad&#39; versions of your layout/device render to see if you can identify the layer/view issue. Otherwise should edit your post to include details of your layout XML, if you (or any libraries) are doing any dynamic alterations, if it always appears or just in certain parts of your app, and how you are testing (physical or emulator).","body":"I would review the &#39;good&#39; and &#39;bad&#39; versions of your layout/device render to see if you can identify the layer/view issue. Otherwise should edit your post to include details of your layout XML, if you (or any libraries) are doing any dynamic alterations, if it always appears or just in certain parts of your app, and how you are testing (physical or emulator)."}],"owner":{"account_id":17119275,"reputation":15,"user_id":12387939,"display_name":"C James"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695055994,"creation_date":1695055994,"question_id":77129044,"body_markdown":"While running my app with AVD on android studio, with a tall device like Pixel 6, a strange white bar appears on top of the screen. However, when i run it with an average sized device like a Pixel 2, it doesn&#39;t show. How can i fix this?\r\n\r\n[![White Bar across top of screen](https://i.stack.imgur.com/CvTbt.png)](https://i.stack.imgur.com/CvTbt.png)\r\n\r\nUnsure where to go from here to be honest, any suggestions and explanations are very welcome :)","title":"How to remove white bar that appears on top of screen for larger devices on android studio?","body":"<p>While running my app with AVD on android studio, with a tall device like Pixel 6, a strange white bar appears on top of the screen. However, when i run it with an average sized device like a Pixel 2, it doesn't show. How can i fix this?</p>\n<p><a href=\"https://i.stack.imgur.com/CvTbt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CvTbt.png\" alt=\"White Bar across top of screen\" /></a></p>\n<p>Unsure where to go from here to be honest, any suggestions and explanations are very welcome :)</p>\n"},{"tags":["java","eclipse"],"answers":[{"tags":[],"owner":{"account_id":3495583,"reputation":51,"user_id":2923917,"display_name":"user2923917"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694809214,"creation_date":1694781977,"answer_id":77112491,"question_id":77112457,"body_markdown":"I just noticed, &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;Shift&lt;/kbd&gt; + &lt;kbd&gt;Space&lt;/kbd&gt; can be used to bring back the parameter list.","title":"Eclipse content-assist shows java method parameters only before I start typing","body":"<p>I just noticed, <kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>Space</kbd> can be used to bring back the parameter list.</p>\n"},{"tags":[],"owner":{"account_id":785462,"reputation":16343,"user_id":845034,"accept_rate":57,"display_name":"steffen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695055823,"creation_date":1695055823,"answer_id":77129026,"question_id":77112457,"body_markdown":"The popup you&#39;re missing is at `Edit` → `Content Assist` → `Parameter Hints`. You can change the binding in the Eclipse configuration if the default &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;Space&lt;/kbd&gt; doesn&#39;t feel natural.","title":"Eclipse content-assist shows java method parameters only before I start typing","body":"<p>The popup you're missing is at <code>Edit</code> → <code>Content Assist</code> → <code>Parameter Hints</code>. You can change the binding in the Eclipse configuration if the default <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>Space</kbd> doesn't feel natural.</p>\n"}],"owner":{"account_id":3495583,"reputation":51,"user_id":2923917,"display_name":"user2923917"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1695055823,"creation_date":1694781695,"question_id":77112457,"body_markdown":"As of recently, I am having a problem with eclipse content assist, which is driving me crazy.\r\n\r\nwhen starting typing method parameters, eclipse typically shows the parameter names and types. &quot;previously&quot; that tooltip stayed open and showed me with a bold font, which parameter I am actually specifing.\r\nHowever, recently this behaviour changed: I get that content assist tooltip only when I haven&#39;t entered any parameter. if I use auto-completion for e.g. a method-parameter, that parameter-list is gone forever - Ctrl+Space simply shows the available local variables.\r\n\r\n1. after typing a method-name, the parameters are shown:\r\n[enter image description here](https://i.stack.imgur.com/RQSQl.png)\r\n\r\n2. after using auto-completion (or some other popup, etc) which causes the parameter-list to disappear, pressing Ctrl+&lt;Space&gt; doesn&#39;t bring it back. Instead I only get a list of local variables:\r\n[enter image description here](https://i.stack.imgur.com/1KEuB.png)\r\n\r\n\r\nI would expect that the method parameter popup would re-appear on pressing Ctrl+&lt;SPACE&gt;","title":"Eclipse content-assist shows java method parameters only before I start typing","body":"<p>As of recently, I am having a problem with eclipse content assist, which is driving me crazy.</p>\n<p>when starting typing method parameters, eclipse typically shows the parameter names and types. &quot;previously&quot; that tooltip stayed open and showed me with a bold font, which parameter I am actually specifing.\nHowever, recently this behaviour changed: I get that content assist tooltip only when I haven't entered any parameter. if I use auto-completion for e.g. a method-parameter, that parameter-list is gone forever - Ctrl+Space simply shows the available local variables.</p>\n<ol>\n<li><p>after typing a method-name, the parameters are shown:\n<a href=\"https://i.stack.imgur.com/RQSQl.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n</li>\n<li><p>after using auto-completion (or some other popup, etc) which causes the parameter-list to disappear, pressing Ctrl+ doesn't bring it back. Instead I only get a list of local variables:\n<a href=\"https://i.stack.imgur.com/1KEuB.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n</li>\n</ol>\n<p>I would expect that the method parameter popup would re-appear on pressing Ctrl+</p>\n"},{"tags":["java","transactions","microservices","message-queue"],"comments":[{"owner":{"account_id":12347923,"reputation":185,"user_id":9008002,"display_name":"Ivan Baranuk"},"score":2,"creation_date":1607118489,"post_id":65151125,"comment_id":115181745,"body_markdown":"I think all queues support &#39;acknowledgment&#39; (or some other action that will update offset) Basically if you need to be sure that message is received and handled your flow will be: 1. poll 2. handle 3. acknowledge","body":"I think all queues support &#39;acknowledgment&#39; (or some other action that will update offset) Basically if you need to be sure that message is received and handled your flow will be: 1. poll 2. handle 3. acknowledge"},{"owner":{"account_id":12347923,"reputation":185,"user_id":9008002,"display_name":"Ivan Baranuk"},"score":1,"creation_date":1607119193,"post_id":65151125,"comment_id":115181975,"body_markdown":"In case of crush on (1) and (2) you have acknowledgment (3). If your process is crushed before sending acknowledgment message Broker still will be thinking that message not handled by client.\nAbout (3) - I actually was thinking that this step could rise your concerns and unfortunately it is out of my league to disperse it.","body":"In case of crush on (1) and (2) you have acknowledgment (3). If your process is crushed before sending acknowledgment message Broker still will be thinking that message not handled by client. About (3) - I actually was thinking that this step could rise your concerns and unfortunately it is out of my league to disperse it."},{"owner":{"account_id":14473519,"reputation":2054,"user_id":10454736,"display_name":"Tushar Mahajan"},"score":0,"creation_date":1607503055,"post_id":65151125,"comment_id":115289821,"body_markdown":"I guess you are aware about distributed transactions !!","body":"I guess you are aware about distributed transactions !!"}],"answers":[{"tags":[],"owner":{"account_id":5422541,"reputation":346,"user_id":4315779,"accept_rate":25,"display_name":"M.R. Murazza"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1607463189,"creation_date":1607463189,"answer_id":65207217,"question_id":65151125,"body_markdown":"as Ivan Baranuk said in the comment. Most message broker has `acknowledgement`.  and deadletter queue (DLQ) too.\r\n\r\nAs long as the crashes happened before the `acknowledgement` (could be handled by the library you are using or you could handle it manually), you would not lose your message, since it will got re-queued. If the crashes still happens after several times and it exceed `maxRetryAttempt` it will be passed to DLQ for you to handle it.\r\n\r\nJust think like queue acknowledgement is equivalent to DB commit.\r\n\r\nextra: I do think DB transactional is important when consuming message. To handle cases where you have multiple DB writes when consuming message and then on the middle of the process your app crash. When it crashed, the message would not be `ack`-ed and it will got re-queued and will get consumed again later on. It is to prevent double write on the second time the message is consumed.","title":"Do I need transactional queues in Microservices?","body":"<p>as Ivan Baranuk said in the comment. Most message broker has <code>acknowledgement</code>.  and deadletter queue (DLQ) too.</p>\n<p>As long as the crashes happened before the <code>acknowledgement</code> (could be handled by the library you are using or you could handle it manually), you would not lose your message, since it will got re-queued. If the crashes still happens after several times and it exceed <code>maxRetryAttempt</code> it will be passed to DLQ for you to handle it.</p>\n<p>Just think like queue acknowledgement is equivalent to DB commit.</p>\n<p>extra: I do think DB transactional is important when consuming message. To handle cases where you have multiple DB writes when consuming message and then on the middle of the process your app crash. When it crashed, the message would not be <code>ack</code>-ed and it will got re-queued and will get consumed again later on. It is to prevent double write on the second time the message is consumed.</p>\n"},{"tags":[],"owner":{"account_id":1600450,"reputation":962,"user_id":1481572,"accept_rate":57,"display_name":"heapoverflow"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695055804,"creation_date":1695055804,"answer_id":77129023,"question_id":65151125,"body_markdown":"This is a good question but could be phrased better. I assume you are asking what happens when the worker node that handles the message writes some data to a database and then crashes before it can finish writing the remainder of the data to the database. In other words, the worker node consuming the message crashes at some point before it is able to finish processing the whole message. We are left in a situation where the data in the database is corrupted because only some writes to the database have been performed but not all of the writes that were expected. A good analogy would be saying instructions for something over the phone and the call gets cut off midway. What does the recipient of the call do? Cancel every instruction that was performed before call got cut off or redial the caller to continue from where the call was cut off? What if redialing is not possible because there is no caller ID hence no number to redial?\r\n\r\nWe now have two options: 1) discard the writes that have taken place so that we can have a clean slate and can restart processing from the beginning, or 2) figure out what has been already written and continue from there.\r\n\r\nIf option 1 - you need figure out what object the database writes were taking place on and delete that object entry completely from the database. The trick here is keeping track of the unique identifier of that object while consuming the message during processing. You need some form of separate persistent storage for that, such as a cache or other kind of key/value store.\r\n\r\nIf option 2 - you need to not only figure out the unique identifier of the object but keep a running log of what actions are performed on that object in the database. This is more work and may leave you with objects in the database that are left in their incomplete state and waste space and make database administration harder to perform. ","title":"Do I need transactional queues in Microservices?","body":"<p>This is a good question but could be phrased better. I assume you are asking what happens when the worker node that handles the message writes some data to a database and then crashes before it can finish writing the remainder of the data to the database. In other words, the worker node consuming the message crashes at some point before it is able to finish processing the whole message. We are left in a situation where the data in the database is corrupted because only some writes to the database have been performed but not all of the writes that were expected. A good analogy would be saying instructions for something over the phone and the call gets cut off midway. What does the recipient of the call do? Cancel every instruction that was performed before call got cut off or redial the caller to continue from where the call was cut off? What if redialing is not possible because there is no caller ID hence no number to redial?</p>\n<p>We now have two options: 1) discard the writes that have taken place so that we can have a clean slate and can restart processing from the beginning, or 2) figure out what has been already written and continue from there.</p>\n<p>If option 1 - you need figure out what object the database writes were taking place on and delete that object entry completely from the database. The trick here is keeping track of the unique identifier of that object while consuming the message during processing. You need some form of separate persistent storage for that, such as a cache or other kind of key/value store.</p>\n<p>If option 2 - you need to not only figure out the unique identifier of the object but keep a running log of what actions are performed on that object in the database. This is more work and may leave you with objects in the database that are left in their incomplete state and waste space and make database administration harder to perform.</p>\n"}],"owner":{"account_id":13414743,"reputation":886,"user_id":9679725,"display_name":"Joe DiNottra"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":282,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":65207217,"answer_count":2,"score":-2,"last_activity_date":1695055804,"creation_date":1607118081,"question_id":65151125,"body_markdown":"I&#39;m learning about microservices and I understand that in my scenario I want microservices to communicate with each other using message queues, with persistence. That means if the instance crashes and the message is not consummed, it will be consumed when the instance bounces back (or maybe by another instance).\r\n\r\nNow, since these messages are critical, shouldn&#39;t they be transactional and participate in the **micro** database transaction? I see examples using Kafka or RabbitMQ but these queue implementations don&#39;t implement transactions. If they don&#39;t do it there&#39;s a clear chance some messages could be lost.\r\n\r\nAre transactions really needed for microservices at all? Or should I design my microservices in a resilient way so they can lose information, and recover from this scenario?\r\n\r\nMaybe my question doesn&#39;t make sense. Maybe I&#39;m still thinking in the &quot;monolithic&quot; way where isolation, locking, and transactions are king.\r\n","title":"Do I need transactional queues in Microservices?","body":"<p>I'm learning about microservices and I understand that in my scenario I want microservices to communicate with each other using message queues, with persistence. That means if the instance crashes and the message is not consummed, it will be consumed when the instance bounces back (or maybe by another instance).</p>\n<p>Now, since these messages are critical, shouldn't they be transactional and participate in the <strong>micro</strong> database transaction? I see examples using Kafka or RabbitMQ but these queue implementations don't implement transactions. If they don't do it there's a clear chance some messages could be lost.</p>\n<p>Are transactions really needed for microservices at all? Or should I design my microservices in a resilient way so they can lose information, and recover from this scenario?</p>\n<p>Maybe my question doesn't make sense. Maybe I'm still thinking in the &quot;monolithic&quot; way where isolation, locking, and transactions are king.</p>\n"},{"tags":["java","junit","junit4","junit5","junit-jupiter"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1695059156,"post_id":77128936,"comment_id":135970707,"body_markdown":"Just because you don&#39;t want 100% test coverage, if the coverage suddenly dropped from, say, 83% to 61% that would be a sign to watch out for.","body":"Just because you don&#39;t want 100% test coverage, if the coverage suddenly dropped from, say, 83% to 61% that would be a sign to watch out for."}],"owner":{"account_id":558770,"reputation":16438,"user_id":755804,"accept_rate":20,"display_name":"18446744073709551615"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695054848,"creation_date":1695054848,"question_id":77128936,"body_markdown":"In a project, I found out that ***some junit tests were not run.***\r\nThere was a mix of junit4 and junit5 tests, IntelliJ Idea was able to run any tests,\r\nbut `gradle build` ignored some of them. The problem was fixed by fixing `dependencies { testImplementation ... }`, **BUT** ***for some unknown time during development some tests were silently ignored.*** I think that the problem is fixed now, but this is just my guess.\r\n\r\n**Question:** Is there a way to verify that all classes with tests have been actually run rather than ignored?\r\n\r\n(As to looking at test coverage, in the case of this project it would require too much thinking. There has been no requirement of 100% test coverage, some portions of the code are not covered with tests and this is normal. In other words, I do not want 100% test coverage, I want 100% execution of existing tests.)\r\n\r\n","title":"junit verify that all tests were run","body":"<p>In a project, I found out that <em><strong>some junit tests were not run.</strong></em>\nThere was a mix of junit4 and junit5 tests, IntelliJ Idea was able to run any tests,\nbut <code>gradle build</code> ignored some of them. The problem was fixed by fixing <code>dependencies { testImplementation ... }</code>, <strong>BUT</strong> <em><strong>for some unknown time during development some tests were silently ignored.</strong></em> I think that the problem is fixed now, but this is just my guess.</p>\n<p><strong>Question:</strong> Is there a way to verify that all classes with tests have been actually run rather than ignored?</p>\n<p>(As to looking at test coverage, in the case of this project it would require too much thinking. There has been no requirement of 100% test coverage, some portions of the code are not covered with tests and this is normal. In other words, I do not want 100% test coverage, I want 100% execution of existing tests.)</p>\n"},{"tags":["java","android","storage","android-sdcard"],"answers":[{"tags":[],"owner":{"account_id":3735471,"reputation":1839,"user_id":3106508,"display_name":"gilonm"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1412070239,"creation_date":1412070239,"answer_id":26117655,"question_id":26117511,"body_markdown":"Based on a previous answer, the path to external SD card actually varies with different device manufactures.\r\n\r\n*&quot;`Environment.getExternalStorageDirectory()` refers to whatever the device manufacturer considered to be &quot;external storage&quot;. On some devices, this is removable media, like an SD card. On some devices, this is a portion of on-device flash. Here, &quot;external storage&quot; means &quot;the stuff accessible via USB Mass Storage mode when mounted on a host machine&quot;, at least for Android 1.x and 2.x.\r\nBut the question is about external SD. How to get a path like &quot;/mnt/sdcard/external_sd&quot; (it may differ from device to device)?\r\nAndroid has no concept of &quot;external SD&quot;, aside from external storage, as described above.\r\nIf a device manufacturer has elected to have external storage be on-board flash and also has an SD card, you will need to contact that manufacturer to determine whether or not you can use the SD card (not guaranteed) and what the rules are for using it, such as what path to use for it.&quot;*\r\n\r\nBased on [this][1] answer.\r\n\r\nSo, There is no absolute way to get this path via code.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5694933/find-an-external-sd-card-location","title":"Get correct path to External SDCard in android","body":"<p>Based on a previous answer, the path to external SD card actually varies with different device manufactures.</p>\n\n<p><em>\"<code>Environment.getExternalStorageDirectory()</code> refers to whatever the device manufacturer considered to be \"external storage\". On some devices, this is removable media, like an SD card. On some devices, this is a portion of on-device flash. Here, \"external storage\" means \"the stuff accessible via USB Mass Storage mode when mounted on a host machine\", at least for Android 1.x and 2.x.\nBut the question is about external SD. How to get a path like \"/mnt/sdcard/external_sd\" (it may differ from device to device)?\nAndroid has no concept of \"external SD\", aside from external storage, as described above.\nIf a device manufacturer has elected to have external storage be on-board flash and also has an SD card, you will need to contact that manufacturer to determine whether or not you can use the SD card (not guaranteed) and what the rules are for using it, such as what path to use for it.\"</em></p>\n\n<p>Based on <a href=\"https://stackoverflow.com/questions/5694933/find-an-external-sd-card-location\">this</a> answer.</p>\n\n<p>So, There is no absolute way to get this path via code.</p>\n"},{"tags":[],"owner":{"account_id":3527131,"reputation":584,"user_id":4090156,"display_name":"sudo_rizwan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1434972594,"creation_date":1431699699,"answer_id":30261902,"question_id":26117511,"body_markdown":"As gilonm mentioned, external (removable) Sd path varies from device to device, but I wrote a method, which iterates through all the different ext paths that the different manufacturers use, and then it finds the exact match. \r\n\r\nIt returns empty String if path isn&#39;t found. If a path is found, you still need to verify whether the card is inserted or not. (By checking if sub-folders exist on that path)\r\n\r\nNote: I used [StreamSupport][1] library inside the method, so you&#39;ll need to download the jar file and add it to libs folder of your project and that&#39;s it, it&#39;ll work!\r\n\r\n       public static String getExternalSdPath(Context context) {\r\n        List&lt;String&gt; listOfFoldersToSearch = Arrays.asList(&quot;/storage/&quot;, &quot;/mnt/&quot;, &quot;/removable/&quot;, &quot;/data/&quot;);\r\n        final List&lt;String&gt; listOf2DepthFolders = Arrays.asList(&quot;sdcard0&quot;, &quot;media_rw&quot;, &quot;removable&quot;);\r\n        final List&lt;String&gt; listOfExtFolders = Arrays.asList(&quot;sdcard1&quot;, &quot;extsdcard&quot;, &quot;external_sd&quot;, &quot;microsd&quot;, &quot;emmc&quot;, &quot;ext_sd&quot;, &quot;sdext&quot;,\r\n                &quot;sdext1&quot;, &quot;sdext2&quot;, &quot;sdext3&quot;, &quot;sdext4&quot;);\r\n        final String[] thePath = {&quot;&quot;};\r\n        Optional&lt;File&gt; optional = StreamSupport.stream(listOfFoldersToSearch)\r\n                .filter(new Predicate&lt;String&gt;() {\r\n                    @Override\r\n                    public boolean test(final String s) {\r\n                        File folder = new File(s);\r\n                        return folder.exists() &amp;&amp; folder.isDirectory();\r\n                    }\r\n                }) //I got the ones that exist and are directories\r\n                .flatMap(new Function&lt;String, Stream&lt;File&gt;&gt;() {\r\n                    @Override\r\n                    public Stream&lt;File&gt; apply(final String s) {\r\n                        try {\r\n                            List&lt;File&gt; files = Arrays.asList(new File(s).listFiles());\r\n                            return StreamSupport.stream(files);\r\n                        } catch (NullPointerException e) {\r\n                            return StreamSupport.stream(new ArrayList&lt;File&gt;());\r\n                        }\r\n                    }\r\n                }) //I got all sub-dirs of the main folders\r\n                .flatMap(new Function&lt;File, Stream&lt;File&gt;&gt;() {\r\n                    @Override\r\n                    public Stream&lt;File&gt; apply(final File file1) {\r\n                        if (listOf2DepthFolders.contains(file1.getName()\r\n                                .toLowerCase())) {\r\n                            try {\r\n                                List&lt;File&gt; files = Arrays.asList(file1.listFiles());\r\n                                return StreamSupport.stream(files);\r\n                            } catch (NullPointerException e) {\r\n                                return StreamSupport.stream(Collections.singletonList(file1));\r\n                            }\r\n                        } else\r\n                            return StreamSupport.stream(Collections.singletonList(file1));\r\n                    }\r\n                }) //Here I got all the 2 depth and 3 depth folders\r\n                .filter(new Predicate&lt;File&gt;() {\r\n                    @Override\r\n                    public boolean test(final File o) {\r\n                        return listOfExtFolders.contains(o.getName()\r\n                                .toLowerCase());\r\n                    }\r\n                })\r\n                .findFirst();\r\n\r\n        optional.ifPresent(new Consumer&lt;File&gt;() {\r\n            @Override\r\n            public void accept(final File file) {\r\n                thePath[0] = file.getAbsolutePath();\r\n            }\r\n        });\r\n\r\n        Log.e(&quot;Path&quot;, thePath[0]);\r\n\r\n        try {\r\n            ContextCompat.getExternalFilesDirs(context, null);\r\n        } catch (Exception e) {\r\n            Log.e(&quot;PathException&quot;, thePath[0]);\r\n        }\r\n        return thePath[0];\r\n    }\r\n\r\nP.S. I tested and verified it on a few HTC and Samsung devices. \r\n\r\n  [1]: http://sourceforge.net/projects/streamsupport/","title":"Get correct path to External SDCard in android","body":"<p>As gilonm mentioned, external (removable) Sd path varies from device to device, but I wrote a method, which iterates through all the different ext paths that the different manufacturers use, and then it finds the exact match. </p>\n\n<p>It returns empty String if path isn't found. If a path is found, you still need to verify whether the card is inserted or not. (By checking if sub-folders exist on that path)</p>\n\n<p>Note: I used <a href=\"http://sourceforge.net/projects/streamsupport/\" rel=\"nofollow\">StreamSupport</a> library inside the method, so you'll need to download the jar file and add it to libs folder of your project and that's it, it'll work!</p>\n\n<pre><code>   public static String getExternalSdPath(Context context) {\n    List&lt;String&gt; listOfFoldersToSearch = Arrays.asList(\"/storage/\", \"/mnt/\", \"/removable/\", \"/data/\");\n    final List&lt;String&gt; listOf2DepthFolders = Arrays.asList(\"sdcard0\", \"media_rw\", \"removable\");\n    final List&lt;String&gt; listOfExtFolders = Arrays.asList(\"sdcard1\", \"extsdcard\", \"external_sd\", \"microsd\", \"emmc\", \"ext_sd\", \"sdext\",\n            \"sdext1\", \"sdext2\", \"sdext3\", \"sdext4\");\n    final String[] thePath = {\"\"};\n    Optional&lt;File&gt; optional = StreamSupport.stream(listOfFoldersToSearch)\n            .filter(new Predicate&lt;String&gt;() {\n                @Override\n                public boolean test(final String s) {\n                    File folder = new File(s);\n                    return folder.exists() &amp;&amp; folder.isDirectory();\n                }\n            }) //I got the ones that exist and are directories\n            .flatMap(new Function&lt;String, Stream&lt;File&gt;&gt;() {\n                @Override\n                public Stream&lt;File&gt; apply(final String s) {\n                    try {\n                        List&lt;File&gt; files = Arrays.asList(new File(s).listFiles());\n                        return StreamSupport.stream(files);\n                    } catch (NullPointerException e) {\n                        return StreamSupport.stream(new ArrayList&lt;File&gt;());\n                    }\n                }\n            }) //I got all sub-dirs of the main folders\n            .flatMap(new Function&lt;File, Stream&lt;File&gt;&gt;() {\n                @Override\n                public Stream&lt;File&gt; apply(final File file1) {\n                    if (listOf2DepthFolders.contains(file1.getName()\n                            .toLowerCase())) {\n                        try {\n                            List&lt;File&gt; files = Arrays.asList(file1.listFiles());\n                            return StreamSupport.stream(files);\n                        } catch (NullPointerException e) {\n                            return StreamSupport.stream(Collections.singletonList(file1));\n                        }\n                    } else\n                        return StreamSupport.stream(Collections.singletonList(file1));\n                }\n            }) //Here I got all the 2 depth and 3 depth folders\n            .filter(new Predicate&lt;File&gt;() {\n                @Override\n                public boolean test(final File o) {\n                    return listOfExtFolders.contains(o.getName()\n                            .toLowerCase());\n                }\n            })\n            .findFirst();\n\n    optional.ifPresent(new Consumer&lt;File&gt;() {\n        @Override\n        public void accept(final File file) {\n            thePath[0] = file.getAbsolutePath();\n        }\n    });\n\n    Log.e(\"Path\", thePath[0]);\n\n    try {\n        ContextCompat.getExternalFilesDirs(context, null);\n    } catch (Exception e) {\n        Log.e(\"PathException\", thePath[0]);\n    }\n    return thePath[0];\n}\n</code></pre>\n\n<p>P.S. I tested and verified it on a few HTC and Samsung devices. </p>\n"},{"tags":[],"owner":{"account_id":3865848,"reputation":1345,"user_id":3585230,"display_name":"Gautam"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1435153362,"creation_date":1435153362,"answer_id":31028298,"question_id":26117511,"body_markdown":"For all devices\r\n\r\n  \r\n\r\n    String sSDpath = null;\r\n    \t\t    File   fileCur = null;\r\n    \t\t    for( String sPathCur : Arrays.asList( &quot;MicroSD&quot;,&quot;external_SD&quot;,&quot;sdcard1&quot;,&quot;ext_card&quot;, &quot;external_sd&quot;, &quot;ext_sd&quot;, &quot;external&quot;, &quot;extSdCard&quot;,  &quot;externalSdCard&quot;)) // external sdcard\r\n    \t\t     {\r\n    \t\t    \t\r\n    \t\t       fileCur = new File( &quot;/mnt/&quot;, sPathCur);\r\n    \t\t       if( fileCur.isDirectory() &amp;&amp; fileCur.canWrite())\r\n    \t\t         {\r\n    \t\t           sSDpath = fileCur.getAbsolutePath();\r\n    \t\t           break;\r\n    \t\t         }\r\n    \t\t       if( sSDpath == null)  {\r\n    \t\t       fileCur = new File( &quot;/storage/&quot;, sPathCur);\r\n    \t\t       if( fileCur.isDirectory() &amp;&amp; fileCur.canWrite())\r\n    \t\t         {\r\n    \t\t           sSDpath = fileCur.getAbsolutePath();\r\n    \t\t           break;\r\n    \t\t         }\r\n    \t\t       }\r\n    \t\t       if( sSDpath == null)  {\r\n    \t\t       fileCur = new File( &quot;/storage/emulated&quot;, sPathCur);\r\n    \t\t       if( fileCur.isDirectory() &amp;&amp; fileCur.canWrite())\r\n    \t\t         {\r\n    \t\t           sSDpath = fileCur.getAbsolutePath();\r\n    Log.e(&quot;path&quot;,sSpath);\r\n    \t\t           break;\r\n    \t\t         }\r\n    \t\t       }\r\n    \t\t     }\r\n\r\n\r\n100% working, tested on multiple device.","title":"Get correct path to External SDCard in android","body":"<p>For all devices</p>\n\n<pre><code>String sSDpath = null;\n            File   fileCur = null;\n            for( String sPathCur : Arrays.asList( \"MicroSD\",\"external_SD\",\"sdcard1\",\"ext_card\", \"external_sd\", \"ext_sd\", \"external\", \"extSdCard\",  \"externalSdCard\")) // external sdcard\n             {\n\n               fileCur = new File( \"/mnt/\", sPathCur);\n               if( fileCur.isDirectory() &amp;&amp; fileCur.canWrite())\n                 {\n                   sSDpath = fileCur.getAbsolutePath();\n                   break;\n                 }\n               if( sSDpath == null)  {\n               fileCur = new File( \"/storage/\", sPathCur);\n               if( fileCur.isDirectory() &amp;&amp; fileCur.canWrite())\n                 {\n                   sSDpath = fileCur.getAbsolutePath();\n                   break;\n                 }\n               }\n               if( sSDpath == null)  {\n               fileCur = new File( \"/storage/emulated\", sPathCur);\n               if( fileCur.isDirectory() &amp;&amp; fileCur.canWrite())\n                 {\n                   sSDpath = fileCur.getAbsolutePath();\nLog.e(\"path\",sSpath);\n                   break;\n                 }\n               }\n             }\n</code></pre>\n\n<p>100% working, tested on multiple device.</p>\n"},{"tags":[],"owner":{"display_name":"user12711116"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589012206,"creation_date":1589012206,"answer_id":61693724,"question_id":26117511,"body_markdown":"This function will return the path of SD Card path. \r\n\r\n    private String getExternalSdCard(){\r\n       String finalPath = null;\r\n       File sdCardFile = ContextCompat.getExternalFilesDirs(this, null)[1];\r\n       String base = String.format(&quot;/Android/data/%s/files&quot;, getPackageName());\r\n\r\n       String path = sdCardFile.getAbsolutePath();\r\n       if(path.contains(base)){\r\n           finalPath = path.replace(base, &quot;&quot;);\r\n       }\r\n       return finalPath;\r\n   }\r\n\r\n\r\nTo get all the list of storage. Use Loop\r\n\r\n\r\n    private String[] storages() {\r\n        List&lt;String&gt; storages = new ArrayList&lt;&gt;();\r\n\r\n        try {\r\n            File[] externalStorageFiles = ContextCompat.getExternalFilesDirs(this, null);\r\n\r\n            String base = String.format(&quot;/Android/data/%s/files&quot;, getPackageName());\r\n\r\n            for (File file : externalStorageFiles) {\r\n                try {\r\n                    if (file != null) {\r\n                        String path = file.getAbsolutePath();\r\n\r\n                        if (path.contains(base)) {\r\n                            String finalPath = path.replace(base, &quot;&quot;);\r\n\r\n                            if (validPath(finalPath)) {\r\n                                storages.add(finalPath);\r\n                            }\r\n                        }\r\n                    }\r\n                } catch (Exception e) {\r\n                    CrashUtils.report(e);\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n            CrashUtils.report(e);\r\n        }\r\n\r\n        String[] result = new String[storages.size()];\r\n        storages.toArray(result);\r\n\r\n        return result;\r\n    }","title":"Get correct path to External SDCard in android","body":"<p>This function will return the path of SD Card path. </p>\n\n<pre><code>private String getExternalSdCard(){\n   String finalPath = null;\n   File sdCardFile = ContextCompat.getExternalFilesDirs(this, null)[1];\n   String base = String.format(\"/Android/data/%s/files\", getPackageName());\n\n   String path = sdCardFile.getAbsolutePath();\n   if(path.contains(base)){\n       finalPath = path.replace(base, \"\");\n   }\n   return finalPath;\n</code></pre>\n\n<p>}</p>\n\n<p>To get all the list of storage. Use Loop</p>\n\n<pre><code>private String[] storages() {\n    List&lt;String&gt; storages = new ArrayList&lt;&gt;();\n\n    try {\n        File[] externalStorageFiles = ContextCompat.getExternalFilesDirs(this, null);\n\n        String base = String.format(\"/Android/data/%s/files\", getPackageName());\n\n        for (File file : externalStorageFiles) {\n            try {\n                if (file != null) {\n                    String path = file.getAbsolutePath();\n\n                    if (path.contains(base)) {\n                        String finalPath = path.replace(base, \"\");\n\n                        if (validPath(finalPath)) {\n                            storages.add(finalPath);\n                        }\n                    }\n                }\n            } catch (Exception e) {\n                CrashUtils.report(e);\n            }\n        }\n    } catch (Exception e) {\n        CrashUtils.report(e);\n    }\n\n    String[] result = new String[storages.size()];\n    storages.toArray(result);\n\n    return result;\n}\n</code></pre>\n"}],"owner":{"account_id":199386,"reputation":17510,"user_id":444668,"accept_rate":51,"display_name":"Jono"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1695054523,"creation_date":1412069873,"question_id":26117511,"body_markdown":"i am trying to get the correct path to the sd card that is inside my samsung s4 android device through my app but when i try the above paths:\r\n\r\n      String path = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS).getAbsolutePath();\r\n            String pathTwo = Environment.getExternalStorageDirectory().getAbsolutePath();\r\n            String path3 = getApplicationContext().getExternalFilesDir(Environment.DIRECTORY_DOCUMENTS).getAbsolutePath();\r\n\r\nIt gets the private none-writable path of /storage/emulated/0 instead of the correct path of storage/sdcard1\r\n\r\nI found the correct path via File explorer using the Android Device monitor but i do not want to hard code the path as the path can be different depending on the device.\r\n\r\nkind regards\r\n\r\n\r\n","title":"Get correct path to External SDCard in android","body":"<p>i am trying to get the correct path to the sd card that is inside my samsung s4 android device through my app but when i try the above paths:</p>\n\n<pre><code>  String path = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS).getAbsolutePath();\n        String pathTwo = Environment.getExternalStorageDirectory().getAbsolutePath();\n        String path3 = getApplicationContext().getExternalFilesDir(Environment.DIRECTORY_DOCUMENTS).getAbsolutePath();\n</code></pre>\n\n<p>It gets the private none-writable path of /storage/emulated/0 instead of the correct path of storage/sdcard1</p>\n\n<p>I found the correct path via File explorer using the Android Device monitor but i do not want to hard code the path as the path can be different depending on the device.</p>\n\n<p>kind regards</p>\n"},{"tags":["java","error-handling"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":4,"creation_date":1695044709,"post_id":77127743,"comment_id":135967688,"body_markdown":"[Please never post images of text](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557). They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly.\nTry `java -cp . HelloWorld`","body":"<a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557\">Please never post images of text</a>. They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly. Try <code>java -cp . HelloWorld</code>"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1695044952,"post_id":77127743,"comment_id":135967751,"body_markdown":"Is that the complete source file or is there a `package` statement?","body":"Is that the complete source file or is there a <code>package</code> statement?"},{"owner":{"account_id":28642160,"reputation":15,"user_id":21931046,"display_name":"Jupit90"},"score":0,"creation_date":1695045354,"post_id":77127743,"comment_id":135967836,"body_markdown":"@DavidConrad is the full text of the program","body":"@DavidConrad is the full text of the program"},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1695052195,"post_id":77127743,"comment_id":135969373,"body_markdown":"You&#39;ve messed up your classpath environment variable. Run `java -cp . HelloWorld`. Or, did you add a package statement? Don&#39;t do that if you want to set it up like this.","body":"You&#39;ve messed up your classpath environment variable. Run <code>java -cp . HelloWorld</code>. Or, did you add a package statement? Don&#39;t do that if you want to set it up like this."}],"answers":[{"tags":[],"owner":{"account_id":29474058,"reputation":1,"user_id":22586169,"display_name":"Richard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695045823,"creation_date":1695045437,"answer_id":77127864,"question_id":77127743,"body_markdown":"It works with me,you&#39;d better check about your settings on Java.Is the command `java --version` and `javac --version` works in this folder?","title":"Java Error. Could not find or load main class","body":"<p>It works with me,you'd better check about your settings on Java.Is the command <code>java --version</code> and <code>javac --version</code> works in this folder?</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695054376,"creation_date":1695054376,"answer_id":77128885,"question_id":77127743,"body_markdown":"Try this as it will work for all versions of Java. I presume you don&#39;t have a package declaration in your source file.  From within the same directory as your `HelloWorld.java` file, do the following:\r\n\r\n- type `javac`.  It should print a series of command line arguments.  This will at least ensure your console shell/cmdline processor can find the compiler.\r\n-if not, ensure your environment class path points to where Java is installed.\r\n- once found, do `javac HelloWorld.java`\r\n- a `HelloWorld.class` file should be in the same directory.\r\n- now type `java` to see if it can find the JVM runtime environment.\r\n- if so, then type `java HelloWorld` and it should run.\r\n\r\nIf any of the above fail, check out Oracle or do a web search for installing Java on your particular operating system.\r\n\r\nNote more recent versions of Java will let you compile and run the code by doing `java HelloWorld.java`.\r\n\r\n","title":"Java Error. Could not find or load main class","body":"<p>Try this as it will work for all versions of Java. I presume you don't have a package declaration in your source file.  From within the same directory as your <code>HelloWorld.java</code> file, do the following:</p>\n<ul>\n<li>type <code>javac</code>.  It should print a series of command line arguments.  This will at least ensure your console shell/cmdline processor can find the compiler.\n-if not, ensure your environment class path points to where Java is installed.</li>\n<li>once found, do <code>javac HelloWorld.java</code></li>\n<li>a <code>HelloWorld.class</code> file should be in the same directory.</li>\n<li>now type <code>java</code> to see if it can find the JVM runtime environment.</li>\n<li>if so, then type <code>java HelloWorld</code> and it should run.</li>\n</ul>\n<p>If any of the above fail, check out Oracle or do a web search for installing Java on your particular operating system.</p>\n<p>Note more recent versions of Java will let you compile and run the code by doing <code>java HelloWorld.java</code>.</p>\n"}],"owner":{"account_id":28642160,"reputation":15,"user_id":21931046,"display_name":"Jupit90"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1695054376,"creation_date":1695044415,"question_id":77127743,"body_markdown":"I have written a simple Java program and want to run it through the console\r\n\r\n```\r\npublic class HelloWorld {\r\n\tpublic static void main(String args[]) {\r\n\t\tSystem.out.println(&quot;Hello world!&quot;);\r\n\t}\r\n}\r\n```\r\nI tried to run the app with many files and it didn&#39;t work, I tried a simple hello world but it also gives me an error\r\nComand Line:\r\n(https://i.stack.imgur.com/DyJ4q.png)\r\nFiles in the project:\r\n(https://i.stack.imgur.com/JQkj2.png)\r\n\r\nThe HelloWorld.class file was created in the folder after the javac command HelloWorld.java, but an error occurs when the java command HelloWorld is entered","title":"Java Error. Could not find or load main class","body":"<p>I have written a simple Java program and want to run it through the console</p>\n<pre><code>public class HelloWorld {\n    public static void main(String args[]) {\n        System.out.println(&quot;Hello world!&quot;);\n    }\n}\n</code></pre>\n<p>I tried to run the app with many files and it didn't work, I tried a simple hello world but it also gives me an error\nComand Line:\n(<a href=\"https://i.stack.imgur.com/DyJ4q.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/DyJ4q.png</a>)\nFiles in the project:\n(<a href=\"https://i.stack.imgur.com/JQkj2.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/JQkj2.png</a>)</p>\n<p>The HelloWorld.class file was created in the folder after the javac command HelloWorld.java, but an error occurs when the java command HelloWorld is entered</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1695054968,"post_id":77128883,"comment_id":135969884,"body_markdown":"Please report an issue at https://youtrack.jetbrains.com/newIssue?project=IDEA. It looks like a limitation of the command line HTTP client as the IDE version would ask for a password and save it in the IDE configured password manager. CLI version does not support that: https://youtrack.jetbrains.com/issue/IDEA-260232/Add-password-to-SSLConfiguration#focus=Comments-27-4671675.0-0.","body":"Please report an issue at <a href=\"https://youtrack.jetbrains.com/newIssue?project=IDEA\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/newIssue?project=IDEA</a>. It looks like a limitation of the command line HTTP client as the IDE version would ask for a password and save it in the IDE configured password manager. CLI version does not support that: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-260232/Add-password-to-SSLConfiguration#focus=Comments-27-4671675.0-0\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-260232/&hellip;</a>."}],"owner":{"account_id":22605765,"reputation":23,"user_id":16786688,"display_name":"Kuldeep Singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695054367,"creation_date":1695054367,"question_id":77128883,"body_markdown":"I am using IntelliJ &#39;HTTP Client CLI&#39; to invoke an endpoint that requires Client certificates. My setup is as follows \r\n \r\n**Test.http**\r\n\r\n    ### Dev Heath Check\r\n    GET {{host}}/path/\r\n\r\n**http-client.env.json**\r\n\r\n    {\r\n      &quot;dev&quot;: {\r\n        &quot;host&quot;: &quot;https://myApp.example.com&quot;\r\n      }\r\n    }\r\n\r\n**http-client.private.env.json**\r\n\r\n    {\r\n      &quot;dev&quot;: {\r\n        &quot;SSLConfiguration&quot;: {\r\n          &quot;clientCertificate&quot;: {\r\n            &quot;path&quot;: &quot;C:/HTTP_WS/certs/my.cer&quot;,\r\n            &quot;format&quot;: &quot;DER&quot;\r\n          },\r\n          &quot;clientCertificateKey&quot;: {\r\n            &quot;path&quot;: &quot;C:/HTTP_WS/certs/my.pem&quot;,\r\n            &quot;format&quot;: &quot;PEM&quot;\r\n          },\r\n          &quot;hasCertificatePassphrase&quot;: true,\r\n          &quot;verifyHostCertificate&quot;: true\r\n        }\r\n      }\r\n    }\r\n\r\n**Command to invoke &#39;HTTP Client CLI&#39; is**\r\n\r\n    ijhttp -v http-client.env.json -p http-client.private.env.json -e dev test.http\r\n\r\nand then I get following error \r\n\r\n    java.lang.UnsupportedOperationException: JsonObject\r\n            at com.google.gson.JsonElement.getAsString(JsonElement.java:187)\r\n            at com.intellij.httpClient.cli.HttpClientMain.loadEnvironment(HttpClientMain.kt:300)\r\n            at com.intellij.httpClient.cli.HttpClientOptions.call(HttpClientMain.kt:186)\r\n            at com.intellij.httpClient.cli.HttpClientOptions.call(HttpClientMain.kt:44)\r\n            at picocli.CommandLine.executeUserObject(CommandLine.java:1953)\r\n            at picocli.CommandLine.access$1300(CommandLine.java:145)\r\n            at picocli.CommandLine$RunLast.executeUserObjectOfLastSubcommandWithSameParent(CommandLine.java:2358)\r\n            at picocli.CommandLine$RunLast.handle(CommandLine.java:2352)\r\n            at picocli.CommandLine$RunLast.handle(CommandLine.java:2314)\r\n            at picocli.CommandLine$AbstractParseResultHandler.execute(CommandLine.java:2179)\r\n            at picocli.CommandLine$RunLast.execute(CommandLine.java:2316)\r\n            at picocli.CommandLine.execute(CommandLine.java:2078)\r\n            at com.intellij.httpClient.cli.HttpClientMain.main(HttpClientMain.kt:39)\r\n\r\nIssue is *my.cer* and *my.pem* are password protected &amp; I could not find any resource on jetbrains website that explains how to supply password for these in *http-client.private.env.json* or through any other CLI flag\r\n\r\nIf I were to use IntelliJ Idea Ultimate then option to supply password for these is available in editor&#39;s line gutter section for *http-client.private.env.json* file.\r\n\r\nif anyone can help on how I can supply passwords in HTTP Client CLI, it would be a life saver.\r\n\r\nThanks for your time &amp; help. \r\n","title":"How to set Client Certificate Passphrase in Intellij HTTP Client CLI","body":"<p>I am using IntelliJ 'HTTP Client CLI' to invoke an endpoint that requires Client certificates. My setup is as follows</p>\n<p><strong>Test.http</strong></p>\n<pre><code>### Dev Heath Check\nGET {{host}}/path/\n</code></pre>\n<p><strong>http-client.env.json</strong></p>\n<pre><code>{\n  &quot;dev&quot;: {\n    &quot;host&quot;: &quot;https://myApp.example.com&quot;\n  }\n}\n</code></pre>\n<p><strong>http-client.private.env.json</strong></p>\n<pre><code>{\n  &quot;dev&quot;: {\n    &quot;SSLConfiguration&quot;: {\n      &quot;clientCertificate&quot;: {\n        &quot;path&quot;: &quot;C:/HTTP_WS/certs/my.cer&quot;,\n        &quot;format&quot;: &quot;DER&quot;\n      },\n      &quot;clientCertificateKey&quot;: {\n        &quot;path&quot;: &quot;C:/HTTP_WS/certs/my.pem&quot;,\n        &quot;format&quot;: &quot;PEM&quot;\n      },\n      &quot;hasCertificatePassphrase&quot;: true,\n      &quot;verifyHostCertificate&quot;: true\n    }\n  }\n}\n</code></pre>\n<p><strong>Command to invoke 'HTTP Client CLI' is</strong></p>\n<pre><code>ijhttp -v http-client.env.json -p http-client.private.env.json -e dev test.http\n</code></pre>\n<p>and then I get following error</p>\n<pre><code>java.lang.UnsupportedOperationException: JsonObject\n        at com.google.gson.JsonElement.getAsString(JsonElement.java:187)\n        at com.intellij.httpClient.cli.HttpClientMain.loadEnvironment(HttpClientMain.kt:300)\n        at com.intellij.httpClient.cli.HttpClientOptions.call(HttpClientMain.kt:186)\n        at com.intellij.httpClient.cli.HttpClientOptions.call(HttpClientMain.kt:44)\n        at picocli.CommandLine.executeUserObject(CommandLine.java:1953)\n        at picocli.CommandLine.access$1300(CommandLine.java:145)\n        at picocli.CommandLine$RunLast.executeUserObjectOfLastSubcommandWithSameParent(CommandLine.java:2358)\n        at picocli.CommandLine$RunLast.handle(CommandLine.java:2352)\n        at picocli.CommandLine$RunLast.handle(CommandLine.java:2314)\n        at picocli.CommandLine$AbstractParseResultHandler.execute(CommandLine.java:2179)\n        at picocli.CommandLine$RunLast.execute(CommandLine.java:2316)\n        at picocli.CommandLine.execute(CommandLine.java:2078)\n        at com.intellij.httpClient.cli.HttpClientMain.main(HttpClientMain.kt:39)\n</code></pre>\n<p>Issue is <em>my.cer</em> and <em>my.pem</em> are password protected &amp; I could not find any resource on jetbrains website that explains how to supply password for these in <em>http-client.private.env.json</em> or through any other CLI flag</p>\n<p>If I were to use IntelliJ Idea Ultimate then option to supply password for these is available in editor's line gutter section for <em>http-client.private.env.json</em> file.</p>\n<p>if anyone can help on how I can supply passwords in HTTP Client CLI, it would be a life saver.</p>\n<p>Thanks for your time &amp; help.</p>\n"},{"tags":["java","spring","macos","intellij-idea","minikube"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1668418414,"post_id":74424670,"comment_id":131391814,"body_markdown":"Do you have antivirus/firewall configured? Make sure that 5005 port is not blocked in your settings.","body":"Do you have antivirus/firewall configured? Make sure that 5005 port is not blocked in your settings."},{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1668418458,"post_id":74424670,"comment_id":131391822,"body_markdown":"Do you use [Remote Debug](https://www.jetbrains.com/help/idea/tutorial-remote-debug.html) option? Remote debugger needs to connect to the JVM that is already running in debug mode. Make sure you start the app you want to debug first with the JVM options suggested by the IDE. Then start Remote configuration to connect and debug this app.","body":"Do you use <a href=\"https://www.jetbrains.com/help/idea/tutorial-remote-debug.html\" rel=\"nofollow noreferrer\">Remote Debug</a> option? Remote debugger needs to connect to the JVM that is already running in debug mode. Make sure you start the app you want to debug first with the JVM options suggested by the IDE. Then start Remote configuration to connect and debug this app."}],"owner":{"account_id":26559725,"reputation":13,"user_id":20187759,"display_name":"1029Coder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":598,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1695054099,"creation_date":1668372702,"question_id":74424670,"body_markdown":"I&#39;ve been having this problem while trying to debug Minikube pods on Intellij for the past couple of days. On a fresh computer start, everything is fine but if a connection to a pod stops abruptly during the debug process, I am not able to connect again to the environment. I get the following message;\r\n\r\n```\r\nUnable to open debugger port (localhost:5005): java.net.ConnectException &quot;Connection refused&quot;\r\n```\r\n\r\nNow, my reflex was to check which process was listening to the port 5005 with the command \r\n```\r\nlsof -i:5005\r\n```\r\n\r\nBut nothing is listening to this port.\r\n\r\n```\r\nsudo lsof | grep localhost\r\n```\r\n\r\nDoesn&#39;t return either any process listing to the port in question.\r\n\r\n- I tried to kill all java and idea process without success. I checked the option *kill the debug process immediately* in Intellij preferences settings.\r\n- I tried to change localhost to 127.0.0.1\r\n- I tried changing the port to listen to, sometimes it works, other times not.\r\n- I tried npx kill-port 5005\r\n- No debug process is active in Intellij, tried the STOP ALL button.\r\n\r\nAnyone has faced a similar problem and found a solution about the problem? So far the only workaround I found is restarting the computer.\r\n","title":"Unable to open debugger port (localhost:5005): java.net.ConnectException &quot;Connection refused&quot;","body":"<p>I've been having this problem while trying to debug Minikube pods on Intellij for the past couple of days. On a fresh computer start, everything is fine but if a connection to a pod stops abruptly during the debug process, I am not able to connect again to the environment. I get the following message;</p>\n<pre><code>Unable to open debugger port (localhost:5005): java.net.ConnectException &quot;Connection refused&quot;\n</code></pre>\n<p>Now, my reflex was to check which process was listening to the port 5005 with the command</p>\n<pre><code>lsof -i:5005\n</code></pre>\n<p>But nothing is listening to this port.</p>\n<pre><code>sudo lsof | grep localhost\n</code></pre>\n<p>Doesn't return either any process listing to the port in question.</p>\n<ul>\n<li>I tried to kill all java and idea process without success. I checked the option <em>kill the debug process immediately</em> in Intellij preferences settings.</li>\n<li>I tried to change localhost to 127.0.0.1</li>\n<li>I tried changing the port to listen to, sometimes it works, other times not.</li>\n<li>I tried npx kill-port 5005</li>\n<li>No debug process is active in Intellij, tried the STOP ALL button.</li>\n</ul>\n<p>Anyone has faced a similar problem and found a solution about the problem? So far the only workaround I found is restarting the computer.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9816,"page":176,"page_size":100}
