{"items":[{"tags":["java","android","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637955283,"creation_date":1637947808,"answer_id":70128113,"question_id":70127553,"body_markdown":"This will probably go away if you don&#39;t override `onBackPressed` in `CollegeDetailsActivity`. Instead of going back to an activity that had a valid &quot;Title&quot; string extra, the code you posted will go to a new activity where &quot;Title&quot; isn&#39;t defined, then get a NullPointerException since `courseName` will be null in `initData` (which the error message tells you results in an error on line 81 in that method). Using a null string in a switch results in [that type of error](https://stackoverflow.com/questions/18263489/why-doesnt-string-switch-statement-support-a-null-case)\r\n\r\nJust remove your `onBackPressed` entirely in `CollegeDetailsActivity`.","title":"(Android) When Back pressed, Attempt to invoke virtual method &#39;int java.lang.String.hashCode()&#39; on a null object reference","body":"<p>This will probably go away if you don't override <code>onBackPressed</code> in <code>CollegeDetailsActivity</code>. Instead of going back to an activity that had a valid &quot;Title&quot; string extra, the code you posted will go to a new activity where &quot;Title&quot; isn't defined, then get a NullPointerException since <code>courseName</code> will be null in <code>initData</code> (which the error message tells you results in an error on line 81 in that method). Using a null string in a switch results in <a href=\"https://stackoverflow.com/questions/18263489/why-doesnt-string-switch-statement-support-a-null-case\">that type of error</a></p>\n<p>Just remove your <code>onBackPressed</code> entirely in <code>CollegeDetailsActivity</code>.</p>\n"}],"owner":{"account_id":22141376,"reputation":61,"user_id":17289995,"display_name":"AnuragK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3630,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70128113,"answer_count":1,"score":3,"last_activity_date":1637955283,"creation_date":1637944761,"question_id":70127553,"body_markdown":"I&#39;ve been working on a Android Project (A Basic College Information App), I have three main activities, the user goes in like, ```Goal/Course Select activity```-&gt; ```CollegeList activity```-&gt; ```College Details Activity```. Now When I press back on ```College Details Activity``` it crashes with this Error:\r\n\r\n&gt;Attempt to invoke virtual method &#39;int java.lang.String.hashCode()&#39; on a null object reference\r\n\r\nBelow are the files/code which I think might be responsible for this.....\r\n\r\n**CollegeListActivity.java file**\r\n\r\n```\r\npackage com.anurag.college_information.activities;\r\n\r\nimport static com.anurag.college_information.activities.CareerGoalActivity.GOAL;\r\nimport static com.anurag.college_information.activities.CareerGoalActivity.SHARED_PREFS;\r\n\r\nimport android.app.AlertDialog;\r\nimport android.content.DialogInterface;\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.anurag.college_information.R;\r\nimport com.anurag.college_information.adapters.RecyclerAdapter;\r\nimport com.anurag.college_information.models.ModelClass;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class CollegeListActivity extends AppCompatActivity {\r\n\r\n    private RecyclerAdapter.RecyclerViewClickListener listener;\r\n\r\n    //ListView collegeList;\r\n    TextView collegeListTitle;\r\n    Button courseChange;\r\n    RecyclerView recyclerView;\r\n    LinearLayoutManager LayoutManager;\r\n    RecyclerAdapter recyclerAdapter;\r\n    List&lt;ModelClass&gt; cList;\r\n\r\n    String courseName;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_college_list);\r\n\r\n        collegeListTitle = findViewById(R.id.college_list_title);\r\n        courseChange = findViewById(R.id.btn_change_course);\r\n\r\n        //collegeListTitle.setText(goal + &quot;Colleges&quot;);\r\n\r\n        collegeListTitle.setText(getIntent().getStringExtra(&quot;Title&quot;) + &quot; Colleges&quot;);\r\n\r\n        initData();\r\n        initRecyclerView();\r\n\r\n        //collegeList = findViewById(R.id.lv_college_list);\r\n\r\n\r\n        courseChange.setTransformationMethod(null);\r\n        courseChange.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                SharedPreferences sharedPreferences = getSharedPreferences(SHARED_PREFS, MODE_PRIVATE);\r\n                SharedPreferences.Editor editor = sharedPreferences.edit();\r\n                editor.clear();\r\n                editor.apply();\r\n\r\n                Intent i = new Intent(CollegeListActivity.this, CareerGoalActivity.class);\r\n                startActivity(i);\r\n                //finish();\r\n\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    private void initData() {\r\n        cList = new ArrayList&lt;&gt;();\r\n        courseName = getIntent().getStringExtra(&quot;Title&quot;);\r\n\r\n        switch (courseName) {\r\n\r\n            case &quot;BE/BTech&quot;:\r\n                cList.add(new ModelClass(&quot;https://images.static-collegedunia.com/public/college_data/images/campusimage/1479294300b-5.jpg&quot;, &quot;A.P. Shah College of Engineering&quot;, &quot;Thane&quot;, &quot;8.0&quot;));\r\n                break;\r\n\r\n            case &quot;Pharmacy&quot;:\r\n                cList.add(new ModelClass(&quot;https://images.static-collegedunia.com/public/college_data/images/campusimage/14382400753.jpg&quot;, &quot;Bombay College Of Pharmacy&quot;, &quot;Mumbai&quot;, &quot;9.0&quot;));\r\n                break;\r\n        }\r\n    }\r\n\r\n    private void initRecyclerView() {\r\n        setOnClickListener();\r\n\r\n        recyclerView = findViewById(R.id.recycler_view);\r\n        LayoutManager = new LinearLayoutManager(this);\r\n        LayoutManager.setOrientation(RecyclerView.VERTICAL);\r\n        recyclerView.setLayoutManager(LayoutManager);\r\n        recyclerAdapter = new RecyclerAdapter(cList, listener);\r\n        recyclerView.setAdapter(recyclerAdapter);\r\n    }\r\n\r\n    private void setOnClickListener() {\r\n        listener = new RecyclerAdapter.RecyclerViewClickListener() {\r\n            @Override\r\n            public void onClick(View v, int position) {\r\n                Intent i = new Intent(CollegeListActivity.this, CollegeDetailsActivity.class);\r\n                startActivity(i);\r\n            }\r\n        };\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        new AlertDialog.Builder(this)\r\n                .setMessage(&quot;Are you sure you want to exit?&quot;)\r\n                .setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\r\n                    public void onClick(DialogInterface dialog, int id) {\r\n                        finish();\r\n                    }\r\n                })\r\n                .setNegativeButton(&quot;No&quot;, null)\r\n                .show();\r\n    }\r\n}\r\n```\r\n\r\n**RecyclerAdapter.java**\r\n```\r\npackage com.anurag.college_information.adapters;\r\n\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.telecom.Call;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.anurag.college_information.activities.CollegeDetailsActivity;\r\nimport com.anurag.college_information.models.ModelClass;\r\nimport com.anurag.college_information.R;\r\nimport com.squareup.picasso.Picasso;\r\n\r\nimport java.util.List;\r\n\r\npublic class RecyclerAdapter extends RecyclerView.Adapter&lt;RecyclerAdapter.ViewHolder&gt; {\r\n\r\n\r\n    private List&lt;ModelClass&gt; collegeList ;\r\n    private RecyclerViewClickListener listener;\r\n\r\n    List&lt;String&gt; imageUrl, collegeName, collegeLocation, collegeRating;\r\n\r\n\r\n    public RecyclerAdapter(List&lt;ModelClass&gt; collegeList, RecyclerViewClickListener listener){\r\n        this.collegeList=collegeList;\r\n        this.listener = listener;\r\n\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public RecyclerAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.college_list_single_row, parent, false);\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull RecyclerAdapter.ViewHolder holder, int position) {\r\n\r\n        String imageLink = collegeList.get(position).getImageLink();\r\n        //int img = collegeList.get(position).getCollegeImage();\r\n        String cName = collegeList.get(position).getCollegeName();\r\n        String cRating = collegeList.get(position).getCollegeRating();\r\n        String cLocation = collegeList.get(position).getLocation();\r\n        Picasso.get().load(imageLink).into(holder.imageView);\r\n\r\n        //holder.setData(img, cName, cRating);\r\n        holder.setData(imageLink, cName, cLocation ,cRating);\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return collegeList.size();\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\r\n\r\n        private ImageView imageView;\r\n        private TextView collegeName, collegeRating, collegeLocation;\r\n\r\n\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            imageView = itemView.findViewById(R.id.college_image);\r\n            collegeName = itemView.findViewById(R.id.college_name);\r\n            collegeRating = itemView.findViewById(R.id.college_rating);\r\n            collegeLocation = itemView.findViewById(R.id.college_location);\r\n\r\n            itemView.setOnClickListener(this);\r\n\r\n        }\r\n\r\n        public void setData(String imageLink, String cName, String cLocation, String cRating) {\r\n\r\n            //imageView.setImageResource(img);\r\n            Picasso.get().load(imageLink).error(R.drawable.error).into(imageView);\r\n            collegeName.setText(cName);\r\n            collegeRating.setText(cRating);\r\n            collegeLocation.setText(cLocation);\r\n\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onClick(View v) {\r\n            listener.onClick(v, getAdapterPosition());\r\n\r\n            Intent i = new Intent(v.getContext(), CollegeDetailsActivity.class);\r\n\r\n            i.putExtra(&quot;collegeImage&quot;, collegeList.get(getAdapterPosition()).getImageLink());\r\n            i.putExtra(&quot;collegeName&quot;, collegeList.get(getAdapterPosition()).getCollegeName());\r\n            i.putExtra(&quot;collegeRating&quot;, collegeList.get(getAdapterPosition()).getCollegeRating());\r\n            i.putExtra(&quot;collegeLocation&quot;, collegeList.get(getAdapterPosition()).getLocation());\r\n\r\n            v.getContext().startActivity(i);\r\n\r\n        }\r\n\r\n    }\r\n    public interface RecyclerViewClickListener{\r\n        void onClick(View v, int position);\r\n    }\r\n}\r\n\r\n```\r\n\r\n**CollegeDetailsActivity.java**\r\n```\r\npackage com.anurag.college_information.activities;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.anurag.college_information.R;\r\nimport com.squareup.picasso.Picasso;\r\n\r\npublic class CollegeDetailsActivity extends AppCompatActivity {\r\n\r\n    Button btnApply;\r\n    ImageView dCollegeImage;\r\n    TextView dCollegeName, dCollegeRating, dCollegeLocation;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_college_details);\r\n\r\n        dCollegeImage = findViewById(R.id.details_college_image);\r\n        dCollegeName = findViewById(R.id.details_college_name);\r\n        dCollegeRating = findViewById(R.id.details_college_rating);\r\n        dCollegeLocation = findViewById(R.id.details_college_location);\r\n\r\n        btnApply = findViewById(R.id.btn_apply);\r\n\r\n        Intent i = getIntent();\r\n        String cn = i.getStringExtra(&quot;collegeName&quot;);\r\n        String cr = i.getStringExtra(&quot;collegeRating&quot;);\r\n        String ci = i.getStringExtra(&quot;collegeImage&quot;);\r\n        String cl = i.getStringExtra(&quot;collegeLocation&quot;);\r\n\r\n        Picasso.get().load(ci).error(R.drawable.error).into(dCollegeImage);\r\n        dCollegeName.setText(cn);\r\n        dCollegeRating.setText(cr);\r\n        dCollegeLocation.setText(cl);\r\n\r\n\r\n        btnApply.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Toast.makeText(getApplicationContext(), &quot;The institute will be notified, of your application&quot;, Toast.LENGTH_LONG).show();\r\n                Toast.makeText(getApplicationContext(), &quot;The college will contact you, Thank you&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n\r\n        Intent i = new Intent(CollegeDetailsActivity.this, CollegeListActivity.class);\r\n        startActivity(i);\r\n    }\r\n\r\n}\r\n```\r\nThis is the Error Screenshot:\r\n[![This is the Error Screenshot][1]][1]\r\n\r\nI&#39;m pretty new to android I&#39;ve just worked on just 4 to 5 projects,\r\nAny Assistance will be appreciated, Thank You\r\n\r\n&gt;The commented Out code, is just a normal listview I implemented just In Case, I have to remove the recycler view.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cR7F9.png","title":"(Android) When Back pressed, Attempt to invoke virtual method &#39;int java.lang.String.hashCode()&#39; on a null object reference","body":"<p>I've been working on a Android Project (A Basic College Information App), I have three main activities, the user goes in like, <code>Goal/Course Select activity</code>-&gt; <code>CollegeList activity</code>-&gt; <code>College Details Activity</code>. Now When I press back on <code>College Details Activity</code> it crashes with this Error:</p>\n<blockquote>\n<p>Attempt to invoke virtual method 'int java.lang.String.hashCode()' on a null object reference</p>\n</blockquote>\n<p>Below are the files/code which I think might be responsible for this.....</p>\n<p><strong>CollegeListActivity.java file</strong></p>\n<pre><code>package com.anurag.college_information.activities;\n\nimport static com.anurag.college_information.activities.CareerGoalActivity.GOAL;\nimport static com.anurag.college_information.activities.CareerGoalActivity.SHARED_PREFS;\n\nimport android.app.AlertDialog;\nimport android.content.DialogInterface;\nimport android.content.Intent;\nimport android.content.SharedPreferences;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.anurag.college_information.R;\nimport com.anurag.college_information.adapters.RecyclerAdapter;\nimport com.anurag.college_information.models.ModelClass;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class CollegeListActivity extends AppCompatActivity {\n\n    private RecyclerAdapter.RecyclerViewClickListener listener;\n\n    //ListView collegeList;\n    TextView collegeListTitle;\n    Button courseChange;\n    RecyclerView recyclerView;\n    LinearLayoutManager LayoutManager;\n    RecyclerAdapter recyclerAdapter;\n    List&lt;ModelClass&gt; cList;\n\n    String courseName;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_college_list);\n\n        collegeListTitle = findViewById(R.id.college_list_title);\n        courseChange = findViewById(R.id.btn_change_course);\n\n        //collegeListTitle.setText(goal + &quot;Colleges&quot;);\n\n        collegeListTitle.setText(getIntent().getStringExtra(&quot;Title&quot;) + &quot; Colleges&quot;);\n\n        initData();\n        initRecyclerView();\n\n        //collegeList = findViewById(R.id.lv_college_list);\n\n\n        courseChange.setTransformationMethod(null);\n        courseChange.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                SharedPreferences sharedPreferences = getSharedPreferences(SHARED_PREFS, MODE_PRIVATE);\n                SharedPreferences.Editor editor = sharedPreferences.edit();\n                editor.clear();\n                editor.apply();\n\n                Intent i = new Intent(CollegeListActivity.this, CareerGoalActivity.class);\n                startActivity(i);\n                //finish();\n\n            }\n        });\n\n    }\n\n    private void initData() {\n        cList = new ArrayList&lt;&gt;();\n        courseName = getIntent().getStringExtra(&quot;Title&quot;);\n\n        switch (courseName) {\n\n            case &quot;BE/BTech&quot;:\n                cList.add(new ModelClass(&quot;https://images.static-collegedunia.com/public/college_data/images/campusimage/1479294300b-5.jpg&quot;, &quot;A.P. Shah College of Engineering&quot;, &quot;Thane&quot;, &quot;8.0&quot;));\n                break;\n\n            case &quot;Pharmacy&quot;:\n                cList.add(new ModelClass(&quot;https://images.static-collegedunia.com/public/college_data/images/campusimage/14382400753.jpg&quot;, &quot;Bombay College Of Pharmacy&quot;, &quot;Mumbai&quot;, &quot;9.0&quot;));\n                break;\n        }\n    }\n\n    private void initRecyclerView() {\n        setOnClickListener();\n\n        recyclerView = findViewById(R.id.recycler_view);\n        LayoutManager = new LinearLayoutManager(this);\n        LayoutManager.setOrientation(RecyclerView.VERTICAL);\n        recyclerView.setLayoutManager(LayoutManager);\n        recyclerAdapter = new RecyclerAdapter(cList, listener);\n        recyclerView.setAdapter(recyclerAdapter);\n    }\n\n    private void setOnClickListener() {\n        listener = new RecyclerAdapter.RecyclerViewClickListener() {\n            @Override\n            public void onClick(View v, int position) {\n                Intent i = new Intent(CollegeListActivity.this, CollegeDetailsActivity.class);\n                startActivity(i);\n            }\n        };\n    }\n\n    @Override\n    public void onBackPressed() {\n        new AlertDialog.Builder(this)\n                .setMessage(&quot;Are you sure you want to exit?&quot;)\n                .setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\n                    public void onClick(DialogInterface dialog, int id) {\n                        finish();\n                    }\n                })\n                .setNegativeButton(&quot;No&quot;, null)\n                .show();\n    }\n}\n</code></pre>\n<p><strong>RecyclerAdapter.java</strong></p>\n<pre><code>package com.anurag.college_information.adapters;\n\nimport android.content.Context;\nimport android.content.Intent;\nimport android.telecom.Call;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.anurag.college_information.activities.CollegeDetailsActivity;\nimport com.anurag.college_information.models.ModelClass;\nimport com.anurag.college_information.R;\nimport com.squareup.picasso.Picasso;\n\nimport java.util.List;\n\npublic class RecyclerAdapter extends RecyclerView.Adapter&lt;RecyclerAdapter.ViewHolder&gt; {\n\n\n    private List&lt;ModelClass&gt; collegeList ;\n    private RecyclerViewClickListener listener;\n\n    List&lt;String&gt; imageUrl, collegeName, collegeLocation, collegeRating;\n\n\n    public RecyclerAdapter(List&lt;ModelClass&gt; collegeList, RecyclerViewClickListener listener){\n        this.collegeList=collegeList;\n        this.listener = listener;\n\n    }\n\n    @NonNull\n    @Override\n    public RecyclerAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.college_list_single_row, parent, false);\n        return new ViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull RecyclerAdapter.ViewHolder holder, int position) {\n\n        String imageLink = collegeList.get(position).getImageLink();\n        //int img = collegeList.get(position).getCollegeImage();\n        String cName = collegeList.get(position).getCollegeName();\n        String cRating = collegeList.get(position).getCollegeRating();\n        String cLocation = collegeList.get(position).getLocation();\n        Picasso.get().load(imageLink).into(holder.imageView);\n\n        //holder.setData(img, cName, cRating);\n        holder.setData(imageLink, cName, cLocation ,cRating);\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return collegeList.size();\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\n\n        private ImageView imageView;\n        private TextView collegeName, collegeRating, collegeLocation;\n\n\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            imageView = itemView.findViewById(R.id.college_image);\n            collegeName = itemView.findViewById(R.id.college_name);\n            collegeRating = itemView.findViewById(R.id.college_rating);\n            collegeLocation = itemView.findViewById(R.id.college_location);\n\n            itemView.setOnClickListener(this);\n\n        }\n\n        public void setData(String imageLink, String cName, String cLocation, String cRating) {\n\n            //imageView.setImageResource(img);\n            Picasso.get().load(imageLink).error(R.drawable.error).into(imageView);\n            collegeName.setText(cName);\n            collegeRating.setText(cRating);\n            collegeLocation.setText(cLocation);\n\n\n        }\n\n        @Override\n        public void onClick(View v) {\n            listener.onClick(v, getAdapterPosition());\n\n            Intent i = new Intent(v.getContext(), CollegeDetailsActivity.class);\n\n            i.putExtra(&quot;collegeImage&quot;, collegeList.get(getAdapterPosition()).getImageLink());\n            i.putExtra(&quot;collegeName&quot;, collegeList.get(getAdapterPosition()).getCollegeName());\n            i.putExtra(&quot;collegeRating&quot;, collegeList.get(getAdapterPosition()).getCollegeRating());\n            i.putExtra(&quot;collegeLocation&quot;, collegeList.get(getAdapterPosition()).getLocation());\n\n            v.getContext().startActivity(i);\n\n        }\n\n    }\n    public interface RecyclerViewClickListener{\n        void onClick(View v, int position);\n    }\n}\n\n</code></pre>\n<p><strong>CollegeDetailsActivity.java</strong></p>\n<pre><code>package com.anurag.college_information.activities;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.ImageView;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.anurag.college_information.R;\nimport com.squareup.picasso.Picasso;\n\npublic class CollegeDetailsActivity extends AppCompatActivity {\n\n    Button btnApply;\n    ImageView dCollegeImage;\n    TextView dCollegeName, dCollegeRating, dCollegeLocation;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_college_details);\n\n        dCollegeImage = findViewById(R.id.details_college_image);\n        dCollegeName = findViewById(R.id.details_college_name);\n        dCollegeRating = findViewById(R.id.details_college_rating);\n        dCollegeLocation = findViewById(R.id.details_college_location);\n\n        btnApply = findViewById(R.id.btn_apply);\n\n        Intent i = getIntent();\n        String cn = i.getStringExtra(&quot;collegeName&quot;);\n        String cr = i.getStringExtra(&quot;collegeRating&quot;);\n        String ci = i.getStringExtra(&quot;collegeImage&quot;);\n        String cl = i.getStringExtra(&quot;collegeLocation&quot;);\n\n        Picasso.get().load(ci).error(R.drawable.error).into(dCollegeImage);\n        dCollegeName.setText(cn);\n        dCollegeRating.setText(cr);\n        dCollegeLocation.setText(cl);\n\n\n        btnApply.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Toast.makeText(getApplicationContext(), &quot;The institute will be notified, of your application&quot;, Toast.LENGTH_LONG).show();\n                Toast.makeText(getApplicationContext(), &quot;The college will contact you, Thank you&quot;, Toast.LENGTH_LONG).show();\n            }\n        });\n    }\n\n    @Override\n    public void onBackPressed() {\n\n        Intent i = new Intent(CollegeDetailsActivity.this, CollegeListActivity.class);\n        startActivity(i);\n    }\n\n}\n</code></pre>\n<p>This is the Error Screenshot:\n<a href=\"https://i.stack.imgur.com/cR7F9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cR7F9.png\" alt=\"This is the Error Screenshot\" /></a></p>\n<p>I'm pretty new to android I've just worked on just 4 to 5 projects,\nAny Assistance will be appreciated, Thank You</p>\n<blockquote>\n<p>The commented Out code, is just a normal listview I implemented just In Case, I have to remove the recycler view.</p>\n</blockquote>\n"},{"tags":["java","selenium","testing","pseudocode"],"answers":[{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637931867,"creation_date":1637931867,"answer_id":70124880,"question_id":70123754,"body_markdown":"Pseudo code is a &quot;pseudo&quot; because it has not necessarily operate with existing methods. Just use the common sense for you code like\r\n\r\n```\r\nelements = Selenium.find(locator)\r\nfor each element in elements \r\ndo:\r\n  assert that element.text is not empty\r\nod\r\n```","title":"How to write a pseudocode of an Selenium automation test?","body":"<p>Pseudo code is a &quot;pseudo&quot; because it has not necessarily operate with existing methods. Just use the common sense for you code like</p>\n<pre><code>elements = Selenium.find(locator)\nfor each element in elements \ndo:\n  assert that element.text is not empty\nod\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637955253,"creation_date":1637955253,"answer_id":70129259,"question_id":70123754,"body_markdown":"Pseudocode\r\n----------\r\n[_Pseudocode_](https://www.javatpoint.com/pseudocode-java) is written in the form of annotations and informational text that is written in plain English only. Just like programming languages, it doesn&#39;t have any syntax, so it cannot be compiled or interpreted by the compiler.\r\n\r\n\r\n----------\r\n\r\n\r\nWays to write Pseudocode in Java\r\n-------------------------------\r\nIn order to write the Pseudocode in [tag:java], you can follow the steps below:\r\n\r\n- You need to maintain the arrangement of the sequence of the tasks and, based on that, write the pseudocode.\r\n- The pseudocode starts with the statement that establishes the aim or goal.\r\n\r\nPoints which we need to keep in mind while designing the pseudocode of a program in Java:\r\n\r\n- You should have to use the appropriate naming convention. By doing that, it is very easy to understand the pseudocode. So, the naming should be simple and distinct.\r\n- You should have to use the appropriate sentence casings. For methods, we use the CamelCase, for constants, we use the upper case, and for variables, we use the lower case.\r\n- The pseudocode should not be abstract, and the thing which is going to happen in the actual code should be elaborated.\r\n- We use the _`if-then`_, _`for`_, _`while`_, _`cases`_ standard programming structures in the same way as we use it in programming.\r\n- All the sections of the pseudocode should be completed, finite and clear to understand.\r\n- The pseudocode should be as simple as it can be understood by a layman having no sufficient knowledge of technical terms. \r\n- Ensure that the pseudocode isn&#39;t written in a complete programmatic manner.\r\n\r\n\r\n----------\r\n\r\n\r\nSample Pseudocode\r\n-----------------\r\n\r\n\tInitialize c to zero.\r\n\tInitialize n to a random number to check Armstrong.\r\n\tInitialize temp to n.\r\n\tRepeat steps until the value of n are greater than zero.\r\n\tFind a reminder of n by using n%10.\r\n\tRemove the last digit from the number by using n/10.\r\n\tFind the thrice of the reminder and add it to c.\r\n\tIf temp == c\r\n\tPrint &quot;Armstrong number&quot;\r\n\telse\r\n\tNot an Armstrong number&quot;","title":"How to write a pseudocode of an Selenium automation test?","body":"<h2>Pseudocode</h2>\n<p><a href=\"https://www.javatpoint.com/pseudocode-java\" rel=\"nofollow noreferrer\"><em>Pseudocode</em></a> is written in the form of annotations and informational text that is written in plain English only. Just like programming languages, it doesn't have any syntax, so it cannot be compiled or interpreted by the compiler.</p>\n<hr />\n<h2>Ways to write Pseudocode in Java</h2>\n<p>In order to write the Pseudocode in <a href=\"/questions/tagged/java\" class=\"post-tag\" title=\"show questions tagged &#39;java&#39;\" rel=\"tag\">java</a>, you can follow the steps below:</p>\n<ul>\n<li>You need to maintain the arrangement of the sequence of the tasks and, based on that, write the pseudocode.</li>\n<li>The pseudocode starts with the statement that establishes the aim or goal.</li>\n</ul>\n<p>Points which we need to keep in mind while designing the pseudocode of a program in Java:</p>\n<ul>\n<li>You should have to use the appropriate naming convention. By doing that, it is very easy to understand the pseudocode. So, the naming should be simple and distinct.</li>\n<li>You should have to use the appropriate sentence casings. For methods, we use the CamelCase, for constants, we use the upper case, and for variables, we use the lower case.</li>\n<li>The pseudocode should not be abstract, and the thing which is going to happen in the actual code should be elaborated.</li>\n<li>We use the <em><code>if-then</code></em>, <em><code>for</code></em>, <em><code>while</code></em>, <em><code>cases</code></em> standard programming structures in the same way as we use it in programming.</li>\n<li>All the sections of the pseudocode should be completed, finite and clear to understand.</li>\n<li>The pseudocode should be as simple as it can be understood by a layman having no sufficient knowledge of technical terms.</li>\n<li>Ensure that the pseudocode isn't written in a complete programmatic manner.</li>\n</ul>\n<hr />\n<h2>Sample Pseudocode</h2>\n<pre><code>Initialize c to zero.\nInitialize n to a random number to check Armstrong.\nInitialize temp to n.\nRepeat steps until the value of n are greater than zero.\nFind a reminder of n by using n%10.\nRemove the last digit from the number by using n/10.\nFind the thrice of the reminder and add it to c.\nIf temp == c\nPrint &quot;Armstrong number&quot;\nelse\nNot an Armstrong number&quot;\n</code></pre>\n"}],"owner":{"account_id":22199679,"reputation":11,"user_id":16440566,"display_name":"Noelen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":565,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1637955253,"creation_date":1637926338,"question_id":70123754,"body_markdown":"I need to write a pseudocode, but I&#39;ve never write a pseudocode before. Searching about I have finded basic and simples algorithms pseudocode examples, but I don&#39;t have any idea to write a pseudocode that have Selenium methods.\r\n\r\nDo you have an example of pseudocode for an automation test? \r\n\r\nI have in my mind Java and selenium, automation tests from cucumber scenarios. I need just a example to guide me to write my pseudocode.\r\n\r\n  ","title":"How to write a pseudocode of an Selenium automation test?","body":"<p>I need to write a pseudocode, but I've never write a pseudocode before. Searching about I have finded basic and simples algorithms pseudocode examples, but I don't have any idea to write a pseudocode that have Selenium methods.</p>\n<p>Do you have an example of pseudocode for an automation test?</p>\n<p>I have in my mind Java and selenium, automation tests from cucumber scenarios. I need just a example to guide me to write my pseudocode.</p>\n"},{"tags":["java","json","struts2","struts2-json-plugin"],"comments":[{"owner":{"account_id":1939875,"reputation":409,"user_id":1746307,"accept_rate":45,"display_name":"Armaggedon"},"score":3,"creation_date":1369488565,"post_id":16749885,"comment_id":24126956,"body_markdown":"Why without getter and setter? I could explain to you otherwise.","body":"Why without getter and setter? I could explain to you otherwise."},{"owner":{"account_id":48583,"reputation":2213,"user_id":144414,"accept_rate":68,"display_name":"Laxmikanth Samudrala"},"score":0,"creation_date":1369491753,"post_id":16749885,"comment_id":24127739,"body_markdown":"I have many static json formats embedded in java script files based on the context of the page i need to send those static json string to corresponding action classes","body":"I have many static json formats embedded in java script files based on the context of the page i need to send those static json string to corresponding action classes"},{"owner":{"account_id":1820003,"reputation":49625,"user_id":1654265,"accept_rate":93,"display_name":"Andrea Ligios"},"score":0,"creation_date":1369496989,"post_id":16749885,"comment_id":24129161,"body_markdown":"XSS paradise O_O Load them from server, instead of from client :////","body":"XSS paradise O_O Load them from server, instead of from client :////"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1369498354,"post_id":16749885,"comment_id":24129554,"body_markdown":"It makes no sense to expect this to be possible w/o a setter. A JSON string is just that: a string. Expose a string property. Set it. Simple. You can *parse* it however you want, like with Google GSON, etc.","body":"It makes no sense to expect this to be possible w/o a setter. A JSON string is just that: a string. Expose a string property. Set it. Simple. You can <i>parse</i> it however you want, like with Google GSON, etc."}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1637954565,"creation_date":1369504024,"answer_id":16752302,"question_id":16749885,"body_markdown":"Post them as content with type `&quot;application/json&quot;`. You may do it with a simple jQuery Ajax call where you could specify the `content-type` and `dataType`. \r\n\r\n    $.ajax({\r\n       type: &quot;POST&quot;,\r\n       url: &quot;/the/action/url&quot;,     \r\n       data : {},\r\n       dataType:&quot;JSON&quot;,\r\n       contentType: &quot;application/json; charset=utf-8&quot;\r\n    });\r\n\r\n\r\nAdd [json plugin][1] to the project dependencies with `json-lib-2.3-jdk15.jar`. The plugin supplied with the [interceptor `json`][2] that reads and populates an action from the request. \r\n\r\nIf you don&#39;t want to populate the action then you should not use this interceptor. Instead manually parse the request with this or any other third party library to get the [`JSONObject` class][3]. Or you could rewrite the interceptor and comment that code that is using [`JSONPopulator` class][4] but deserialize the object with [`JSONUtil` class][5].\r\n\r\nAlso, you might find [this][6] examples useful when manually creating/parsing JSON data.    \r\n\r\n\r\n  [1]: https://struts.apache.org/plugins/json/\r\n  [2]: https://struts.apache.org/maven/struts2-plugins/struts2-json-plugin/apidocs/org/apache/struts2/json/JSONInterceptor.html\r\n  [3]: http://json-lib.sourceforge.net/apidocs/jdk15/net/sf/json/JSONObject.html\r\n  [4]: https://struts.apache.org/maven/struts2-plugins/struts2-json-plugin/apidocs/org/apache/struts2/json/JSONPopulator.html\r\n  [5]: https://struts.apache.org/maven/struts2-plugins/struts2-json-plugin/apidocs/org/apache/struts2/json/JSONUtil.html\r\n  [6]: https://viralpatel.net/blogs/creating-parsing-json-data-with-java-servlet-struts-jsp-json/","title":"How to make an Action to accept dynamic JSON data from the user interface in Struts 2?","body":"<p>Post them as content with type <code>&quot;application/json&quot;</code>. You may do it with a simple jQuery Ajax call where you could specify the <code>content-type</code> and <code>dataType</code>.</p>\n<pre><code>$.ajax({\n   type: &quot;POST&quot;,\n   url: &quot;/the/action/url&quot;,     \n   data : {},\n   dataType:&quot;JSON&quot;,\n   contentType: &quot;application/json; charset=utf-8&quot;\n});\n</code></pre>\n<p>Add <a href=\"https://struts.apache.org/plugins/json/\" rel=\"nofollow noreferrer\">json plugin</a> to the project dependencies with <code>json-lib-2.3-jdk15.jar</code>. The plugin supplied with the <a href=\"https://struts.apache.org/maven/struts2-plugins/struts2-json-plugin/apidocs/org/apache/struts2/json/JSONInterceptor.html\" rel=\"nofollow noreferrer\">interceptor <code>json</code></a> that reads and populates an action from the request.</p>\n<p>If you don't want to populate the action then you should not use this interceptor. Instead manually parse the request with this or any other third party library to get the <a href=\"http://json-lib.sourceforge.net/apidocs/jdk15/net/sf/json/JSONObject.html\" rel=\"nofollow noreferrer\"><code>JSONObject</code> class</a>. Or you could rewrite the interceptor and comment that code that is using <a href=\"https://struts.apache.org/maven/struts2-plugins/struts2-json-plugin/apidocs/org/apache/struts2/json/JSONPopulator.html\" rel=\"nofollow noreferrer\"><code>JSONPopulator</code> class</a> but deserialize the object with <a href=\"https://struts.apache.org/maven/struts2-plugins/struts2-json-plugin/apidocs/org/apache/struts2/json/JSONUtil.html\" rel=\"nofollow noreferrer\"><code>JSONUtil</code> class</a>.</p>\n<p>Also, you might find <a href=\"https://viralpatel.net/blogs/creating-parsing-json-data-with-java-servlet-struts-jsp-json/\" rel=\"nofollow noreferrer\">this</a> examples useful when manually creating/parsing JSON data.</p>\n"},{"tags":[],"owner":{"account_id":1654877,"reputation":31,"user_id":1524708,"display_name":"Shibaram Sahoo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1398687112,"creation_date":1398687112,"answer_id":23340824,"question_id":16749885,"body_markdown":"If you want to send JSON object with multiple key-value pair in it and you want to get these key-values in your  action class without creating any setters/getters, \r\n\r\nIn the Action class decleration, we should implement ServletRequestAware and we should override the setServletRequest() method and set the HttpServletRequest attribute \r\n\r\n    public class YourClass extends ActionSupport implements ServletRequestAware\r\n\r\n    private HttpServletRequest request;\r\n\r\n    @Override\r\n    public void setServletRequest(HttpServletRequest request) {\r\n\t\tthis.request = request;\r\n    }\r\n\r\n    public HttpServletRequest getServletRequest() {\r\n      return this.request;\r\n    }\r\n\r\nAnd in our targeted function, we should use above request object to get the parameter (by its name as it is set in the json as the key):\r\n\r\n    public String fetchData() {\r\n      String key1Data = getServletRequest().getParameter(&quot;key1&quot;);\r\n       String key2Data = getServletRequest().getParameter(&quot;key2&quot;); \r\n      return SUCCESS;\r\n     }\r\n\r\n\r\nWhere your JSON object should have data something like:\r\n     \r\n\r\n    var jsonData = {&quot;key1&quot;: &quot;Hello&quot;, &quot;key2&quot;:&quot;There&quot;};","title":"How to make an Action to accept dynamic JSON data from the user interface in Struts 2?","body":"<p>If you want to send JSON object with multiple key-value pair in it and you want to get these key-values in your  action class without creating any setters/getters, </p>\n\n<p>In the Action class decleration, we should implement ServletRequestAware and we should override the setServletRequest() method and set the HttpServletRequest attribute </p>\n\n<pre><code>public class YourClass extends ActionSupport implements ServletRequestAware\n\nprivate HttpServletRequest request;\n\n@Override\npublic void setServletRequest(HttpServletRequest request) {\n    this.request = request;\n}\n\npublic HttpServletRequest getServletRequest() {\n  return this.request;\n}\n</code></pre>\n\n<p>And in our targeted function, we should use above request object to get the parameter (by its name as it is set in the json as the key):</p>\n\n<pre><code>public String fetchData() {\n  String key1Data = getServletRequest().getParameter(\"key1\");\n   String key2Data = getServletRequest().getParameter(\"key2\"); \n  return SUCCESS;\n }\n</code></pre>\n\n<p>Where your JSON object should have data something like:</p>\n\n<pre><code>var jsonData = {\"key1\": \"Hello\", \"key2\":\"There\"};\n</code></pre>\n"}],"owner":{"account_id":48583,"reputation":2213,"user_id":144414,"accept_rate":68,"display_name":"Laxmikanth Samudrala"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1584,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":16752302,"answer_count":2,"score":3,"last_activity_date":1637955126,"creation_date":1369487468,"question_id":16749885,"body_markdown":"I would like to have an `Action` class which should accept a JSON string constructed from user interface with no setter and getter in the `Action` class. \r\n\r\nIs it possible? If so, what conventions would I need to follow in `Action` class and in configuration files (`struts.xml`)?","title":"How to make an Action to accept dynamic JSON data from the user interface in Struts 2?","body":"<p>I would like to have an <code>Action</code> class which should accept a JSON string constructed from user interface with no setter and getter in the <code>Action</code> class. </p>\n\n<p>Is it possible? If so, what conventions would I need to follow in <code>Action</code> class and in configuration files (<code>struts.xml</code>)?</p>\n"},{"tags":["java","opencv"],"comments":[{"owner":{"account_id":2780567,"reputation":19695,"user_id":2393191,"accept_rate":83,"display_name":"Micka"},"score":3,"creation_date":1637946071,"post_id":70127126,"comment_id":123966199,"body_markdown":"I guess that since there is still a submat, the reference counting observes another reference and the memory isnt deallocated","body":"I guess that since there is still a submat, the reference counting observes another reference and the memory isnt deallocated"},{"owner":{"account_id":3072614,"reputation":12296,"user_id":2602877,"display_name":"Christoph Rackwitz"},"score":3,"creation_date":1637948033,"post_id":70127126,"comment_id":123966784,"body_markdown":"reference counting is exactly what happens.","body":"reference counting is exactly what happens."},{"owner":{"account_id":7557680,"reputation":2844,"user_id":5736633,"accept_rate":71,"display_name":"vatbub"},"score":0,"creation_date":1637949096,"post_id":70127126,"comment_id":123967087,"body_markdown":"Ah, ok, thanks for the info :)  If one of you would mind to phrase that as a quick answer, I&#39;d mark that as the solution ;)","body":"Ah, ok, thanks for the info :)  If one of you would mind to phrase that as a quick answer, I&#39;d mark that as the solution ;)"}],"answers":[{"tags":[],"owner":{"account_id":2780567,"reputation":19695,"user_id":2393191,"accept_rate":83,"display_name":"Micka"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637954431,"creation_date":1637952212,"answer_id":70128807,"question_id":70127126,"body_markdown":"OpenCV uses reference counting.\r\n\r\nsubmat adds another reference to the data memory.\r\n\r\n.release() does not deallocate the memory, unless the last reference was removed/decremented.\r\n\r\n","title":"What happens to submats if the original mat is released","body":"<p>OpenCV uses reference counting.</p>\n<p>submat adds another reference to the data memory.</p>\n<p>.release() does not deallocate the memory, unless the last reference was removed/decremented.</p>\n"}],"owner":{"account_id":7557680,"reputation":2844,"user_id":5736633,"accept_rate":71,"display_name":"vatbub"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70128807,"answer_count":1,"score":0,"last_activity_date":1637954431,"creation_date":1637942570,"question_id":70127126,"body_markdown":"In OpenCV, I am getting an image and crop some ROIs out (using `mat.submat(...)`). I would like to avoid cloning the submats to save time and memory, but I am afraid that the image might be released before the rois are. Given that `submat` returns a `Mat` that uses the original `Mat` as its backing storage, my question is: What happens to sub-mats after their parent mat has been released? Is it safe to use the submats afterwards?\r\n\r\nHere&#39;s the code to explain the question:\r\n\r\n    // Some big image that I get from somewhere\r\n    Mat image = Mat.zeros(1080, 1920, CvType.CV_8UC3);\r\n    \r\n    Mat roi = image.submat(10, 20, 10, 20);\r\n    \r\n    image.release();\r\n\r\n    // Still safe to use roi? \r\n    Mat blurredRoi = new Mat();\r\n    Imgproc.blur(roi, blurredRoi, new Size(5, 5));","title":"What happens to submats if the original mat is released","body":"<p>In OpenCV, I am getting an image and crop some ROIs out (using <code>mat.submat(...)</code>). I would like to avoid cloning the submats to save time and memory, but I am afraid that the image might be released before the rois are. Given that <code>submat</code> returns a <code>Mat</code> that uses the original <code>Mat</code> as its backing storage, my question is: What happens to sub-mats after their parent mat has been released? Is it safe to use the submats afterwards?</p>\n<p>Here's the code to explain the question:</p>\n<pre><code>// Some big image that I get from somewhere\nMat image = Mat.zeros(1080, 1920, CvType.CV_8UC3);\n\nMat roi = image.submat(10, 20, 10, 20);\n\nimage.release();\n\n// Still safe to use roi? \nMat blurredRoi = new Mat();\nImgproc.blur(roi, blurredRoi, new Size(5, 5));\n</code></pre>\n"},{"tags":["java","com","jna","com4j","imapi"],"comments":[{"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1637868782,"post_id":70109741,"comment_id":123946428,"body_markdown":"Does this answer your question? [Mapping a COM interface method in JNA](https://stackoverflow.com/questions/62996150/mapping-a-com-interface-method-in-jna)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/62996150/mapping-a-com-interface-method-in-jna\">Mapping a COM interface method in JNA</a>"},{"owner":{"account_id":19271801,"reputation":23,"user_id":17506686,"display_name":"Mark"},"score":0,"creation_date":1637929696,"post_id":70109741,"comment_id":123960330,"body_markdown":"I think it helps me realise JNA would require me to have much more knowledge of COM internals than I have!  IDiscMaster2 implements IDisplatch which I&#39;m guessing is in a layer above IUnkown.","body":"I think it helps me realise JNA would require me to have much more knowledge of COM internals than I have!  IDiscMaster2 implements IDisplatch which I&#39;m guessing is in a layer above IUnkown."},{"owner":{"account_id":19271801,"reputation":23,"user_id":17506686,"display_name":"Mark"},"score":0,"creation_date":1637929974,"post_id":70109741,"comment_id":123960433,"body_markdown":"I think if I could get the most basic call to work then the information you&#39;ve presented in the link would begin to make sense.","body":"I think if I could get the most basic call to work then the information you&#39;ve presented in the link would begin to make sense."},{"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1637952209,"post_id":70109741,"comment_id":123967877,"body_markdown":"It may seem overwhelming at first but there&#39;s a basic pattern to it that becomes obvious after you get a couple done.  There&#39;s some WinAPI call that gets a pointer to the COM object.   Then you map the com object and call its functions at offsets from that pointer (0, 1, 2, etc...).  It&#39;s mostly boilerplate from there.","body":"It may seem overwhelming at first but there&#39;s a basic pattern to it that becomes obvious after you get a couple done.  There&#39;s some WinAPI call that gets a pointer to the COM object.   Then you map the com object and call its functions at offsets from that pointer (0, 1, 2, etc...).  It&#39;s mostly boilerplate from there."}],"answers":[{"tags":[],"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637954103,"creation_date":1637953338,"answer_id":70128995,"question_id":70109741,"body_markdown":"I&#39;ve answered this in [a similar question](https://stackoverflow.com/questions/62996150/mapping-a-com-interface-method-in-jna) which I originally marked this as a duplicate of.  However, given the difficulty loading this, your case is unique enough that I&#39;ll attempt to give a separate answer.\r\n\r\nThe general case for COM is that there is an API function that creates the object.  You have mapped this as `createMsftDiscMaster2()`.  Note that you have allocated a resource here and it needs to be disposed of when you are done with it; the API documentation should tell you how to do that (possibly by calling `Release()` from `IUnknown`.)\r\n\r\nYour next step is to map the `IDiscMaster2` COM class. I see two mappings here, so I&#39;m confused as to which one you want.  The one at the top of your question is incorrect, but the one extending Dispatch later is the correct way to start, but I&#39;m not clear where you&#39;ve gone after that.  The rest of the class [should look similar to the internals][1] of the `Dispatch` class in JNA.   \r\n\r\nIn that class you can see the boilerplate that you will follow. Note that it extends `Unknown` which [follows the same boilerplate][2] for offsets 0, 1, and 2 for the first 3 COM functions `QueryInterface`, `AddRef`, and `Release`.  Dispatch picks up with offsets 3, 4, 5, and 6 for COM functions `GetTypeInfoCount`, `GetTypeInfo`, `GetIDsOfNames`, and `Invoke`.\r\n\r\nSo in your mapping for `DiskMaster2` you will pick up with offset 7, and your mapping will look like:\r\n```java\r\npublic HRESULT TheFunctionName(FOO foo, BAR bar) {\r\n    return (HRESULT) this._invokeNativeObject(7,\r\n            new Object[] { this.getPointer(), foo, bar },\r\n            HRESULT.class);\r\n}\r\n```\r\nThis is where you need to locate the actual header file for this class to determine the order in which the functions appear in the Vtbl.  It looks like you attempted to do this with your code, but the offset 2 is already assigned in Unknown, the lowest one you&#39;ll be able to use is 7 (and continue on with 8, 9, 10 [for each function in this COM interface][3], in the correct order -- which you must determine from the Vtbl.)\r\n\r\nBased on [this header][4], you can see those functions mapped in order and your offsets should be: 7: get__NewEnum, 8: get_Item, 9: get_Count, and 10: get_IsSupportedEnvironment.  Use those header function mappings as a start and change them to the `_invokeNativeObject()` format above.  (They all return `HRESULT`, you&#39;ll just be changing the argument list.)\r\n\r\n  [1]: https://github.com/java-native-access/jna/blob/5ac61611f3c4a74ca3c6ed05c4ffafd7c6070e30/contrib/platform/src/com/sun/jna/platform/win32/COM/Dispatch.java\r\n  [2]: https://github.com/java-native-access/jna/blob/5ac61611f3c4a74ca3c6ed05c4ffafd7c6070e30/contrib/platform/src/com/sun/jna/platform/win32/COM/Unknown.java\r\n  [3]: https://learn.microsoft.com/en-us/windows/win32/api/imapi2/nn-imapi2-idiscmaster2\r\n  [4]: https://github.com/nihon-tc/Rtest/blob/8246e4d21323802fb84c406edc1a005991304f5a/header/Microsoft%20SDKs/Windows/v7.0A/Include/imapi2.h#L879","title":"Can JNA be used for a complex Windows DLL like IMAPI","body":"<p>I've answered this in <a href=\"https://stackoverflow.com/questions/62996150/mapping-a-com-interface-method-in-jna\">a similar question</a> which I originally marked this as a duplicate of.  However, given the difficulty loading this, your case is unique enough that I'll attempt to give a separate answer.</p>\n<p>The general case for COM is that there is an API function that creates the object.  You have mapped this as <code>createMsftDiscMaster2()</code>.  Note that you have allocated a resource here and it needs to be disposed of when you are done with it; the API documentation should tell you how to do that (possibly by calling <code>Release()</code> from <code>IUnknown</code>.)</p>\n<p>Your next step is to map the <code>IDiscMaster2</code> COM class. I see two mappings here, so I'm confused as to which one you want.  The one at the top of your question is incorrect, but the one extending Dispatch later is the correct way to start, but I'm not clear where you've gone after that.  The rest of the class <a href=\"https://github.com/java-native-access/jna/blob/5ac61611f3c4a74ca3c6ed05c4ffafd7c6070e30/contrib/platform/src/com/sun/jna/platform/win32/COM/Dispatch.java\" rel=\"nofollow noreferrer\">should look similar to the internals</a> of the <code>Dispatch</code> class in JNA.</p>\n<p>In that class you can see the boilerplate that you will follow. Note that it extends <code>Unknown</code> which <a href=\"https://github.com/java-native-access/jna/blob/5ac61611f3c4a74ca3c6ed05c4ffafd7c6070e30/contrib/platform/src/com/sun/jna/platform/win32/COM/Unknown.java\" rel=\"nofollow noreferrer\">follows the same boilerplate</a> for offsets 0, 1, and 2 for the first 3 COM functions <code>QueryInterface</code>, <code>AddRef</code>, and <code>Release</code>.  Dispatch picks up with offsets 3, 4, 5, and 6 for COM functions <code>GetTypeInfoCount</code>, <code>GetTypeInfo</code>, <code>GetIDsOfNames</code>, and <code>Invoke</code>.</p>\n<p>So in your mapping for <code>DiskMaster2</code> you will pick up with offset 7, and your mapping will look like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public HRESULT TheFunctionName(FOO foo, BAR bar) {\n    return (HRESULT) this._invokeNativeObject(7,\n            new Object[] { this.getPointer(), foo, bar },\n            HRESULT.class);\n}\n</code></pre>\n<p>This is where you need to locate the actual header file for this class to determine the order in which the functions appear in the Vtbl.  It looks like you attempted to do this with your code, but the offset 2 is already assigned in Unknown, the lowest one you'll be able to use is 7 (and continue on with 8, 9, 10 <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/imapi2/nn-imapi2-idiscmaster2\" rel=\"nofollow noreferrer\">for each function in this COM interface</a>, in the correct order -- which you must determine from the Vtbl.)</p>\n<p>Based on <a href=\"https://github.com/nihon-tc/Rtest/blob/8246e4d21323802fb84c406edc1a005991304f5a/header/Microsoft%20SDKs/Windows/v7.0A/Include/imapi2.h#L879\" rel=\"nofollow noreferrer\">this header</a>, you can see those functions mapped in order and your offsets should be: 7: get__NewEnum, 8: get_Item, 9: get_Count, and 10: get_IsSupportedEnvironment.  Use those header function mappings as a start and change them to the <code>_invokeNativeObject()</code> format above.  (They all return <code>HRESULT</code>, you'll just be changing the argument list.)</p>\n"}],"owner":{"account_id":19271801,"reputation":23,"user_id":17506686,"display_name":"Mark"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70128995,"answer_count":1,"score":2,"last_activity_date":1637954103,"creation_date":1637837174,"question_id":70109741,"body_markdown":"I&#39;ve managed to get COM4J to use some functionality in the windows IMAPI (CD writing).\r\n \r\nHowever I&#39;ve failed to get any of the calls that return SAFEARRAYs working, but this project doesn&#39;t appear to be currently active ...\r\n\r\nThe DLL is usually in C:\\Windows\\System32\\imapi2.dll, and using it also requires using C:\\Windows\\System32\\imapi2fs.dll\r\n\r\nLooking around for a JAVA-COM bridge project that is active led me to JNA.\r\n\r\nThe remit of the project to simplify JAVA-COM bridging intrigued me .... however I fell at the first hurdle, and am hoping someone can help.\r\n\r\nSo far I&#39;ve taken the Microsoft IMAPI examples and written a Powershell application, from which I have the series of calls I need to make to the API.[CDInterface][1]\r\n\r\nThe first thing you need to do with IMAPI is create an Instance of IDiskMaster2, so I&#39;ve declared that via an Imapi2 interface, like so\r\n```\r\npublic interface Imapi2 extends Library {\r\n        Imapi2 INSTANCE = (Imapi2)\r\n                Native.load(&quot;C:/Windows/System32/imapi2.dll&quot; , Imapi2.class);\r\n\r\n        public static class IDiscMaster2 extends Structure {\r\n            int getCount;\r\n\r\n            public int getCount() {\r\n                return getCount;\r\n            }\r\n        }\r\n        IDiscMaster2 createMsftDiscMaster2();\r\n    }\r\n```\r\nThen in the main code\r\n```\r\n Imapi2.IDiscMaster2 recorderList = Imapi2.INSTANCE.createMsftDiscMaster2();\r\n        System.out.println(&quot;Found &quot; + recorderList.getCount() + &quot; Recorders&quot;);\r\n```\r\nJust putting &#39;imapi2&#39; in the call to Native.load() didn&#39;t work either.\r\n\r\nI&#39;m guessing I&#39;m doing something fundamentally wrong, but it&#39;s not clear how you get JNA to &#39;see&#39; a new dll you want to interface to ..... and also I am kind of afraid there is something very different about this API from the othe APIs that people are using JNA to talk to, so may not be worth trying!\r\n\r\n```\r\npublic interface Imapi2 extends Library {\r\n        Imapi2 INSTANCE = (Imapi2)\r\n                Native.load(&quot;C:/Windows/System32/imapi2.dll&quot; , Imapi2.class);\r\n\r\n        public class IDiscMaster2 extends Dispatch {\r\n\r\n            public static final CLSID CLSID_MsftDiscMaster2 = new CLSID(&quot;2735412F-7F64-5B0F-8F00-5D77AFBE261E&quot;);\r\n\r\n            public IDiscMaster2() {\r\n            }\r\n\r\n            private IDiscMaster2(Pointer pvInstance) {\r\n                super(pvInstance);\r\n            }\r\n\r\n            public static IDiscMaster2 create() {\r\n                PointerByReference pbr = new PointerByReference();\r\n\r\n                WinNT.HRESULT hres = Ole32.INSTANCE.CoCreateInstance(CLSID_MsftDiscMaster2, null, WTypes.CLSCTX_ALL, null, pbr);\r\n                if (COMUtils.FAILED(hres)) {\r\n                    System.out.println(&quot;ERROR: Failed to create instance&quot;);\r\n                    return null;\r\n                }\r\n\r\n                return new IDiscMaster2(pbr.getValue());\r\n            }\r\n\r\n            public WinNT.HRESULT _getCount(Pointer count ){\r\n                return (WinNT.HRESULT) _invokeNativeObject(2, new Object[]{count}, WinNT.HRESULT.class);\r\n            }\r\n\r\n            public long getCount() {\r\n                try {\r\n                    long count = -1;\r\n                    Pointer ptr = new Pointer(count);\r\n                    WinNT.HRESULT result = _getCount(ptr);\r\n\r\n                    COMUtils.checkRC(result);\r\n\r\n                    return count;\r\n                } catch ( Exception e ) {\r\n                    System.out.println(&quot;Error : &quot; + e.getMessage());\r\n                }\r\n                return -1;\r\n            }\r\n} \r\n```\r\nThen invocation in main changed to\r\n```\r\nImapi2 imapi2Lib = Imapi2.INSTANCE;\r\n        Imapi2.IDiscMaster2 recorderList = new Imapi2.IDiscMaster2();\r\n\r\n        System.out.println(&quot;Found &quot; + recorderList.getCount() + &quot; Recorders&quot;);\r\n```\r\n\r\nIntelliJ shows up uninvoked methods, so it doesn&#39;t look like create() is getting called. Not sure if this is because I need to call it, or down to the function implementing IDispatch not IUnknown.\r\n  [1]: https://github.com/nosdod/CDInterface","title":"Can JNA be used for a complex Windows DLL like IMAPI","body":"<p>I've managed to get COM4J to use some functionality in the windows IMAPI (CD writing).</p>\n<p>However I've failed to get any of the calls that return SAFEARRAYs working, but this project doesn't appear to be currently active ...</p>\n<p>The DLL is usually in C:\\Windows\\System32\\imapi2.dll, and using it also requires using C:\\Windows\\System32\\imapi2fs.dll</p>\n<p>Looking around for a JAVA-COM bridge project that is active led me to JNA.</p>\n<p>The remit of the project to simplify JAVA-COM bridging intrigued me .... however I fell at the first hurdle, and am hoping someone can help.</p>\n<p>So far I've taken the Microsoft IMAPI examples and written a Powershell application, from which I have the series of calls I need to make to the API.[CDInterface][1]</p>\n<p>The first thing you need to do with IMAPI is create an Instance of IDiskMaster2, so I've declared that via an Imapi2 interface, like so</p>\n<pre><code>public interface Imapi2 extends Library {\n        Imapi2 INSTANCE = (Imapi2)\n                Native.load(&quot;C:/Windows/System32/imapi2.dll&quot; , Imapi2.class);\n\n        public static class IDiscMaster2 extends Structure {\n            int getCount;\n\n            public int getCount() {\n                return getCount;\n            }\n        }\n        IDiscMaster2 createMsftDiscMaster2();\n    }\n</code></pre>\n<p>Then in the main code</p>\n<pre><code> Imapi2.IDiscMaster2 recorderList = Imapi2.INSTANCE.createMsftDiscMaster2();\n        System.out.println(&quot;Found &quot; + recorderList.getCount() + &quot; Recorders&quot;);\n</code></pre>\n<p>Just putting 'imapi2' in the call to Native.load() didn't work either.</p>\n<p>I'm guessing I'm doing something fundamentally wrong, but it's not clear how you get JNA to 'see' a new dll you want to interface to ..... and also I am kind of afraid there is something very different about this API from the othe APIs that people are using JNA to talk to, so may not be worth trying!</p>\n<pre><code>public interface Imapi2 extends Library {\n        Imapi2 INSTANCE = (Imapi2)\n                Native.load(&quot;C:/Windows/System32/imapi2.dll&quot; , Imapi2.class);\n\n        public class IDiscMaster2 extends Dispatch {\n\n            public static final CLSID CLSID_MsftDiscMaster2 = new CLSID(&quot;2735412F-7F64-5B0F-8F00-5D77AFBE261E&quot;);\n\n            public IDiscMaster2() {\n            }\n\n            private IDiscMaster2(Pointer pvInstance) {\n                super(pvInstance);\n            }\n\n            public static IDiscMaster2 create() {\n                PointerByReference pbr = new PointerByReference();\n\n                WinNT.HRESULT hres = Ole32.INSTANCE.CoCreateInstance(CLSID_MsftDiscMaster2, null, WTypes.CLSCTX_ALL, null, pbr);\n                if (COMUtils.FAILED(hres)) {\n                    System.out.println(&quot;ERROR: Failed to create instance&quot;);\n                    return null;\n                }\n\n                return new IDiscMaster2(pbr.getValue());\n            }\n\n            public WinNT.HRESULT _getCount(Pointer count ){\n                return (WinNT.HRESULT) _invokeNativeObject(2, new Object[]{count}, WinNT.HRESULT.class);\n            }\n\n            public long getCount() {\n                try {\n                    long count = -1;\n                    Pointer ptr = new Pointer(count);\n                    WinNT.HRESULT result = _getCount(ptr);\n\n                    COMUtils.checkRC(result);\n\n                    return count;\n                } catch ( Exception e ) {\n                    System.out.println(&quot;Error : &quot; + e.getMessage());\n                }\n                return -1;\n            }\n} \n</code></pre>\n<p>Then invocation in main changed to</p>\n<pre><code>Imapi2 imapi2Lib = Imapi2.INSTANCE;\n        Imapi2.IDiscMaster2 recorderList = new Imapi2.IDiscMaster2();\n\n        System.out.println(&quot;Found &quot; + recorderList.getCount() + &quot; Recorders&quot;);\n</code></pre>\n<p>IntelliJ shows up uninvoked methods, so it doesn't look like create() is getting called. Not sure if this is because I need to call it, or down to the function implementing IDispatch not IUnknown.\n[1]: <a href=\"https://github.com/nosdod/CDInterface\" rel=\"nofollow noreferrer\">https://github.com/nosdod/CDInterface</a></p>\n"},{"tags":["java","spring-boot","api","testing","mocking"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1637924929,"post_id":70123383,"comment_id":123958704,"body_markdown":"Does this answer your question? [What is a NullPointerException, and how do I fix it?](https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">What is a NullPointerException, and how do I fix it?</a>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1637925007,"post_id":70123383,"comment_id":123958731,"body_markdown":"At the point at which you create `controllerAPI`, `companiaService` has not been created. Create `controllerAPI` in an `@Before` method.","body":"At the point at which you create <code>controllerAPI</code>, <code>companiaService</code> has not been created. Create <code>controllerAPI</code> in an <code>@Before</code> method."},{"owner":{"account_id":10383212,"reputation":333,"user_id":7657219,"display_name":"Varox"},"score":0,"creation_date":1637925045,"post_id":70123383,"comment_id":123958741,"body_markdown":"@tgdavies No, but thanks anyway! I think is something related to mocking that it is not instantiating it or something like that :S","body":"@tgdavies No, but thanks anyway! I think is something related to mocking that it is not instantiating it or something like that :S"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1637925592,"post_id":70123383,"comment_id":123958937,"body_markdown":"You need to show the code at controller.ControllerAPI.GetCompanias(ControllerAPI.java:114) in your question.","body":"You need to show the code at controller.ControllerAPI.GetCompanias(ControllerAPI.java:114&zwnj;&#8203;) in your question."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1637925969,"post_id":70123383,"comment_id":123959070,"body_markdown":"See my previous comment.","body":"See my previous comment."}],"answers":[{"tags":[],"owner":{"account_id":2465079,"reputation":2962,"user_id":2148365,"display_name":"Michiel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637953979,"creation_date":1637953979,"answer_id":70129084,"question_id":70123383,"body_markdown":"The test setup has a lot of issues, and my suggestion would be to read through the mockito and spring test basics, for instance [here][1] and [here][2] .\r\n\r\n**Test setup**  \r\nFor starters, the code mixes up different test setups. The annotation `@RunWith(SpringRunner.class)` suggests a JUnit4 setup, but the strack trace indicates the use of JUnit5, as the jupiter package is on the classpath (`org.junit.jupiter.engine.execution....`). The `@RunWith` can be removed as JUnit5 relies on extensions, and the spring extention (`@ExtendWith(SpringExtension.class)`) is already present as a meta annotation in the `@SpringBootTest` annotation ([source][3]).\r\n\r\n**Use of mock annotations**  \r\nWhen you plan to create a Spring boot test, mocks can be injected in the TestApplicationContext using the `@MockBean` annotation. However, by using `@Mock` together with `@InjectMocks`, the mocks will be created by Mockito only, without being registered in the application context. More info on the differences can be found [here][4].\r\n\r\n**Mock preparation**  \r\nMocks are &quot;fake&quot; implementations of classes, and are used to mimic the behaviour of a real object. Its not a real object and it only performs the tasks you have assigned to it. In the setup() however, the method attempt to access the mock as a real object. This won&#39;t work as its not the correct way to set up mock:\r\n\r\n```java\r\n    // The CompaniaRepository is annotated as being a mock\r\n    @Mock\r\n    CompaniaRepository companiaRepository;\r\n    ...\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        Compania compania = new Compania();\r\n        ...\r\n\r\n        // Here a method on the mock is invoked, which has no use\r\n        companiaRepository.save(compania);\r\n    }\r\n```\r\nMore info on setting up a Mockito mock can be found [here][5].\r\n\r\nFurthermore, if you plan to set up a database test I wouldn&#39;t suggest on mocking the repositories as it diminishes the requirement of using a database (assuming there isn&#39;t a third repository which does require H2). \r\n\r\nA final thing; Spring controllers are best tested by performing tests via the web layer. Instantiating the controller under test using `new ControllerApi(...)` will only test the methods, and not the endpoints they are mapped to. A great tutorial on how to test the web layer can be found [here][6].\r\n\r\n\r\n  [1]: https://www.baeldung.com/mockito-series\r\n  [2]: https://www.baeldung.com/spring-boot-testing\r\n  [3]: https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-test/src/main/java/org/springframework/boot/test/context/SpringBootTest.java#L81\r\n  [4]: https://www.baeldung.com/java-spring-mockito-mock-mockbean\r\n  [5]: https://www.baeldung.com/mockito-behavior\r\n  [6]: https://spring.io/guides/gs/testing-web/","title":"Spring Boot API test throwing nullPointerException","body":"<p>The test setup has a lot of issues, and my suggestion would be to read through the mockito and spring test basics, for instance <a href=\"https://www.baeldung.com/mockito-series\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://www.baeldung.com/spring-boot-testing\" rel=\"nofollow noreferrer\">here</a> .</p>\n<p><strong>Test setup</strong><br />\nFor starters, the code mixes up different test setups. The annotation <code>@RunWith(SpringRunner.class)</code> suggests a JUnit4 setup, but the strack trace indicates the use of JUnit5, as the jupiter package is on the classpath (<code>org.junit.jupiter.engine.execution....</code>). The <code>@RunWith</code> can be removed as JUnit5 relies on extensions, and the spring extention (<code>@ExtendWith(SpringExtension.class)</code>) is already present as a meta annotation in the <code>@SpringBootTest</code> annotation (<a href=\"https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-test/src/main/java/org/springframework/boot/test/context/SpringBootTest.java#L81\" rel=\"nofollow noreferrer\">source</a>).</p>\n<p><strong>Use of mock annotations</strong><br />\nWhen you plan to create a Spring boot test, mocks can be injected in the TestApplicationContext using the <code>@MockBean</code> annotation. However, by using <code>@Mock</code> together with <code>@InjectMocks</code>, the mocks will be created by Mockito only, without being registered in the application context. More info on the differences can be found <a href=\"https://www.baeldung.com/java-spring-mockito-mock-mockbean\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p><strong>Mock preparation</strong><br />\nMocks are &quot;fake&quot; implementations of classes, and are used to mimic the behaviour of a real object. Its not a real object and it only performs the tasks you have assigned to it. In the setup() however, the method attempt to access the mock as a real object. This won't work as its not the correct way to set up mock:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    // The CompaniaRepository is annotated as being a mock\n    @Mock\n    CompaniaRepository companiaRepository;\n    ...\n\n    @BeforeEach\n    void setUp() {\n        Compania compania = new Compania();\n        ...\n\n        // Here a method on the mock is invoked, which has no use\n        companiaRepository.save(compania);\n    }\n</code></pre>\n<p>More info on setting up a Mockito mock can be found <a href=\"https://www.baeldung.com/mockito-behavior\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Furthermore, if you plan to set up a database test I wouldn't suggest on mocking the repositories as it diminishes the requirement of using a database (assuming there isn't a third repository which does require H2).</p>\n<p>A final thing; Spring controllers are best tested by performing tests via the web layer. Instantiating the controller under test using <code>new ControllerApi(...)</code> will only test the methods, and not the endpoints they are mapped to. A great tutorial on how to test the web layer can be found <a href=\"https://spring.io/guides/gs/testing-web/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":10383212,"reputation":333,"user_id":7657219,"display_name":"Varox"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1268,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70129084,"answer_count":1,"score":1,"last_activity_date":1637953979,"creation_date":1637924514,"question_id":70123383,"body_markdown":"So I&#39;m trying to test my api and its giving me a nullpointer exception when I try to use the repository.\r\n\r\nSupposedly I have a h2 database for testing in my application.yml(inside test/resources) like this:\r\n\r\n    spring:\r\n      profiles:\r\n        active: test\r\n      datasource:\r\n        username:\r\n        password:\r\n        url: jdbc:h2:mem:testdb;DB_CLOSE_ON_EXIT=FALSE;\r\n        platform: h2\r\n\r\nHere is my ControllerAPItest.java\r\n\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    @AutoConfigureTestDatabase\r\n    class ControllerAPITest {\r\n    \r\n    \r\n    \r\n        @Mock\r\n        CompaniaRepository companiaRepository;\r\n        @Mock\r\n        DefaultGroupRepository defaultGroupRepository;\r\n        @Mock\r\n        OfficeRepository officeRepository;\r\n    \r\n        @InjectMocks\r\n        CompaniaServiceImpl companiaService;\r\n    \r\n        ControllerAPI controllerAPI = new ControllerAPI(companiaService);\r\n    \r\n    \r\n    \r\n        @BeforeEach\r\n        void setUp() {\r\n            Compania compania = new Compania();\r\n            compania.setName(&quot;companiaTest&quot;);\r\n            compania.setDominio(&quot;dominioTest&quot;);\r\n            compania.setAltas(&quot;altasTest&quot;);\r\n            compania.setBajas(&quot;bajasTest&quot;);\r\n            compania.setDefault_group(null);\r\n            compania.setOffice(null);\r\n    \r\n            companiaRepository.save(compania);\r\n        }\r\n    \r\n        @AfterEach\r\n        void tearDown() {\r\n            companiaRepository.deleteAll();\r\n        }\r\n    \r\n        @Test\r\n        void getByField() {\r\n        }\r\n    \r\n        @Test\r\n        void getCompanias() {\r\n            System.out.println(controllerAPI.GetCompanias());\r\n        }\r\n    }\r\n\r\nAnd here is the output of the error I&#39;m getting:\r\n\r\n&gt; java.lang.NullPointerException \tat\r\n&gt; controller.ControllerAPI.GetCompanias(ControllerAPI.java:114) \tat\r\n&gt; controller.ControllerAPITest.getCompanias(ControllerAPITest.java:65)\r\n\r\nIt is pointing to the line that says:\r\n\r\n&gt;companiaRepository.save(compania);\r\n\r\nHere is the full Error: https://textdoc.co/eGmu72wa1ydEoJ4T\r\n\r\nWhat is happening with my code?\r\n\r\nThanks!\r\n\r\nEdit. here is my getCompanias in my controller.\r\n\r\n    @ResponseStatus(HttpStatus.OK)\r\n        @GetMapping()\r\n        public Map&lt;String, List&lt;Compania&gt;&gt; GetCompanias() {\r\n            Map&lt;String, List&lt;Compania&gt;&gt; mappedResult = Collections.singletonMap(&quot;result&quot;, companiaService.getCompanias());\r\n            return mappedResult;\r\n            // return companiaService.getCompanias();\r\n        }\r\nThat uses the companiaService here:\r\n\r\n    public List&lt;Compania&gt; getCompanias() {\r\n            return companiaRepository.findAll();\r\n        }\r\n\r\nThanks!","title":"Spring Boot API test throwing nullPointerException","body":"<p>So I'm trying to test my api and its giving me a nullpointer exception when I try to use the repository.</p>\n<p>Supposedly I have a h2 database for testing in my application.yml(inside test/resources) like this:</p>\n<pre><code>spring:\n  profiles:\n    active: test\n  datasource:\n    username:\n    password:\n    url: jdbc:h2:mem:testdb;DB_CLOSE_ON_EXIT=FALSE;\n    platform: h2\n</code></pre>\n<p>Here is my ControllerAPItest.java</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\n@AutoConfigureTestDatabase\nclass ControllerAPITest {\n\n\n\n    @Mock\n    CompaniaRepository companiaRepository;\n    @Mock\n    DefaultGroupRepository defaultGroupRepository;\n    @Mock\n    OfficeRepository officeRepository;\n\n    @InjectMocks\n    CompaniaServiceImpl companiaService;\n\n    ControllerAPI controllerAPI = new ControllerAPI(companiaService);\n\n\n\n    @BeforeEach\n    void setUp() {\n        Compania compania = new Compania();\n        compania.setName(&quot;companiaTest&quot;);\n        compania.setDominio(&quot;dominioTest&quot;);\n        compania.setAltas(&quot;altasTest&quot;);\n        compania.setBajas(&quot;bajasTest&quot;);\n        compania.setDefault_group(null);\n        compania.setOffice(null);\n\n        companiaRepository.save(compania);\n    }\n\n    @AfterEach\n    void tearDown() {\n        companiaRepository.deleteAll();\n    }\n\n    @Test\n    void getByField() {\n    }\n\n    @Test\n    void getCompanias() {\n        System.out.println(controllerAPI.GetCompanias());\n    }\n}\n</code></pre>\n<p>And here is the output of the error I'm getting:</p>\n<blockquote>\n<p>java.lang.NullPointerException    at\ncontroller.ControllerAPI.GetCompanias(ControllerAPI.java:114)     at\ncontroller.ControllerAPITest.getCompanias(ControllerAPITest.java:65)</p>\n</blockquote>\n<p>It is pointing to the line that says:</p>\n<blockquote>\n<p>companiaRepository.save(compania);</p>\n</blockquote>\n<p>Here is the full Error: <a href=\"https://textdoc.co/eGmu72wa1ydEoJ4T\" rel=\"nofollow noreferrer\">https://textdoc.co/eGmu72wa1ydEoJ4T</a></p>\n<p>What is happening with my code?</p>\n<p>Thanks!</p>\n<p>Edit. here is my getCompanias in my controller.</p>\n<pre><code>@ResponseStatus(HttpStatus.OK)\n    @GetMapping()\n    public Map&lt;String, List&lt;Compania&gt;&gt; GetCompanias() {\n        Map&lt;String, List&lt;Compania&gt;&gt; mappedResult = Collections.singletonMap(&quot;result&quot;, companiaService.getCompanias());\n        return mappedResult;\n        // return companiaService.getCompanias();\n    }\n</code></pre>\n<p>That uses the companiaService here:</p>\n<pre><code>public List&lt;Compania&gt; getCompanias() {\n        return companiaRepository.findAll();\n    }\n</code></pre>\n<p>Thanks!</p>\n"},{"tags":["java","api","github"],"comments":[{"owner":{"account_id":13721821,"reputation":1820,"user_id":9901515,"display_name":"csalmhof"},"score":0,"creation_date":1637950209,"post_id":70128290,"comment_id":123967396,"body_markdown":"What datatype is `repositoriesUserData`?","body":"What datatype is <code>repositoriesUserData</code>?"},{"owner":{"account_id":17278892,"reputation":89,"user_id":12512936,"display_name":"Box"},"score":0,"creation_date":1637950469,"post_id":70128290,"comment_id":123967462,"body_markdown":"it&#39;s, private static Map&lt;List&lt;String&gt;, List&lt;String&gt;&gt; repositoriesUserData = new HashMap&lt;&gt;();. Forgot to mention it.","body":"it&#39;s, private static Map&lt;List&lt;String&gt;, List&lt;String&gt;&gt; repositoriesUserData = new HashMap&lt;&gt;();. Forgot to mention it."},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1637951177,"post_id":70128290,"comment_id":123967623,"body_markdown":"your code does not even compile, what is `GHUser`, `GHRepository`, `fillList`, `githubLogin`?","body":"your code does not even compile, what is <code>GHUser</code>, <code>GHRepository</code>, <code>fillList</code>, <code>githubLogin</code>?"},{"owner":{"account_id":13721821,"reputation":1820,"user_id":9901515,"display_name":"csalmhof"},"score":0,"creation_date":1637951352,"post_id":70128290,"comment_id":123967680,"body_markdown":"Its from the package https://github-api.kohsuke.org/. But even if you add the dependency it will not compile","body":"Its from the package <a href=\"https://github-api.kohsuke.org/\" rel=\"nofollow noreferrer\">github-api.kohsuke.org</a>. But even if you add the dependency it will not compile"},{"owner":{"account_id":13721821,"reputation":1820,"user_id":9901515,"display_name":"csalmhof"},"score":0,"creation_date":1637951474,"post_id":70128290,"comment_id":123967707,"body_markdown":"@Box I think you should provide a runnable code","body":"@Box I think you should provide a runnable code"},{"owner":{"account_id":17278892,"reputation":89,"user_id":12512936,"display_name":"Box"},"score":0,"creation_date":1637952068,"post_id":70128290,"comment_id":123967846,"body_markdown":"I&#39;ve added the functions for a runnable code. You will need to generate a GITHUB token with access to ALL of the READS and your LOGIN, this is not the email but the username. In REPO_NAME, just give it the name of a public repository you own.","body":"I&#39;ve added the functions for a runnable code. You will need to generate a GITHUB token with access to ALL of the READS and your LOGIN, this is not the email but the username. In REPO_NAME, just give it the name of a public repository you own."}],"answers":[{"tags":[],"owner":{"account_id":13721821,"reputation":1820,"user_id":9901515,"display_name":"csalmhof"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1637953963,"creation_date":1637952694,"answer_id":70128888,"question_id":70128290,"body_markdown":"I&#39;ll give it a try (code in question still not working for me):\r\n\r\nIf I understood correctly, you want a Map, that contains the repositories for each user.\r\nSo therefore i think the `repositoriesUserData` should be a `Map&lt;String, List&lt;String&gt;`.\r\n\r\nWith that in mind, lets fill the map in each loop-cycle with the user from the lists as key and the list of repository-names as value.\r\n\r\nThe method would look like this (removed the temporary return and replaced it with void)\r\n\r\n```java\r\n  public static String repositoriesUnderUser() throws IOException {\r\n    for (int i = 0; i &lt; fillList().size(); i++) {\r\n      GHUser user = githubLogin.getUser(fillList().get(i));\r\n\r\n      Map&lt;String, GHRepository&gt; temp = user.getRepositories();\r\n      repositoriesUserData.put(user.getLogin(), temp.values().stream().map(GHRepository::getName).collect(Collectors.toList()));\r\n      }\r\n    return &quot;temporaryReturn&quot;;\r\n  }\r\n```\r\n**Edit: (Short explanation what is happening in your code)**\r\n\r\n - You are collecting all usernames to the local List `names` and also adding all repository-names to the local List &#39;repoNames&#39;.\r\n - At the end of the method you put a new entry to your map `repositoriesUserData`.\r\n\r\nThat means at the end of the method you just added one single entry to the map where \r\n\r\n - key = all of the users\r\n - value = all of the repositories from the users (because its a list, if two users have the same repository, they are added twice to this list)","title":"Grouping and sorting Lists into a Map","body":"<p>I'll give it a try (code in question still not working for me):</p>\n<p>If I understood correctly, you want a Map, that contains the repositories for each user.\nSo therefore i think the <code>repositoriesUserData</code> should be a <code>Map&lt;String, List&lt;String&gt;</code>.</p>\n<p>With that in mind, lets fill the map in each loop-cycle with the user from the lists as key and the list of repository-names as value.</p>\n<p>The method would look like this (removed the temporary return and replaced it with void)</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public static String repositoriesUnderUser() throws IOException {\n    for (int i = 0; i &lt; fillList().size(); i++) {\n      GHUser user = githubLogin.getUser(fillList().get(i));\n\n      Map&lt;String, GHRepository&gt; temp = user.getRepositories();\n      repositoriesUserData.put(user.getLogin(), temp.values().stream().map(GHRepository::getName).collect(Collectors.toList()));\n      }\n    return &quot;temporaryReturn&quot;;\n  }\n</code></pre>\n<p><strong>Edit: (Short explanation what is happening in your code)</strong></p>\n<ul>\n<li>You are collecting all usernames to the local List <code>names</code> and also adding all repository-names to the local List 'repoNames'.</li>\n<li>At the end of the method you put a new entry to your map <code>repositoriesUserData</code>.</li>\n</ul>\n<p>That means at the end of the method you just added one single entry to the map where</p>\n<ul>\n<li>key = all of the users</li>\n<li>value = all of the repositories from the users (because its a list, if two users have the same repository, they are added twice to this list)</li>\n</ul>\n"}],"owner":{"account_id":17278892,"reputation":89,"user_id":12512936,"display_name":"Box"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70128888,"answer_count":1,"score":0,"last_activity_date":1637953963,"creation_date":1637948814,"question_id":70128290,"body_markdown":"Before anything, the title doesn&#39;t convey what I really want to ask.\r\nWhat I want to know is, how can I make a map, where for several users, it collects their Data and then groups it all together. I&#39;m currently using two lists, one for the users&#39; names and another for their works. I tried using a map.put but it kept overwriting the previous entry. So what I&#39;d like to obtain is as follows;\r\n\r\nDesired output:\r\n\r\n    {user1 = work1, work2, work3 , user2 = work1, work2 , userN = workN} \r\nCurrent output:\r\n\r\n    {[user1, user2, user3, user4]=[work1, work2, work3, work4, work5  (user1) , work1 (user2), work1, work2, work3 ( user3 )]}\r\n\r\nThis is the code that I&#39;m currently using to achieve the above.\r\n\r\n    private static Map&lt;List&lt;String&gt;, List&lt;String&gt;&gt; repositoriesUserData = new HashMap&lt;&gt;();\r\n    private static Set&lt;String&gt; collaboratorNames = new HashSet&lt;&gt;();\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        login();\r\n        getCollabs(GITHUB_REPO_NAME);\r\n        repositoriesUnderUser();\r\n    }\r\n\r\n    public GitManager(String AUTH, String USERNAME, String REPO_NAME) throws IOException {\r\n        this.GITHUB_LOGIN = USERNAME;\r\n        this.GITHUB_OAUTH = AUTH;\r\n        this.GITHUB_REPO_NAME = REPO_NAME;\r\n        this.githubLogin = new GitHubBuilder().withOAuthToken(this.GITHUB_OAUTH, this.GITHUB_LOGIN).build();\r\n        this.userOfLogin = this.githubLogin.getUser(GITHUB_LOGIN);\r\n    }\r\n\r\n    public static void login() throws IOException { \r\n            new GitManager(GIT_TOKEN, GIT_LOGIN, GITHUB_REPO_NAME);\r\n            connect();\r\n\r\n    }\r\n\r\n        public static void connect() throws IOException {\r\n        if (githubLogin.isCredentialValid()) {\r\n            valid = true;\r\n            githubLogin.connect(GITHUB_LOGIN, GITHUB_OAUTH);\r\n            userOfLogin = githubLogin.getUser(GITHUB_LOGIN);\r\n        }\r\n    }\r\n\r\n    public static String getCollabs(String repositoryName) throws IOException {\r\n        GHRepository collaboratorsRepository = userOfLogin.getRepository(repositoryName);\r\n\r\n        collaboratorNames = collaboratorsRepository.getCollaboratorNames();\r\n        String collaborators = collaboratorNames.toString();\r\n\r\n        System.out.println(&quot;Collaborators for the following Repository: &quot; + repositoryName + &quot;\\nAre: &quot; + collaborators);\r\n        String out = &quot;Collaborators for the following Repository: &quot; + repositoryName + &quot;\\nAre: &quot; + collaborators;\r\n        return out;\r\n    }\r\n    \r\n       public static List&lt;String&gt; fillList() {\r\n        List&lt;String&gt; collaborators = new ArrayList&lt;&gt;();\r\n\r\n        collaboratorNames.forEach(s -&gt; {\r\n            collaborators.add(s);\r\n        });\r\n        return collaborators;\r\n    }\r\n\r\n       public static String repositoriesUnderUser() throws IOException {\r\n        GHUser user;\r\n        List&lt;String&gt; names = new ArrayList&lt;&gt;();\r\n        List&lt;String&gt; repoNames = new ArrayList&lt;&gt;();\r\n\r\n        for (int i = 0; i &lt; fillList().size(); i++) {\r\n            user = githubLogin.getUser(fillList().get(i));\r\n\r\n            Map&lt;String, GHRepository&gt; temp = user.getRepositories();\r\n            names.add(user.getLogin());\r\n\r\n            temp.forEach((c, b) -&gt; {\r\n            repoNames.add(b.getName());\r\n\r\n            });\r\n        }\r\n        repositoriesUserData.put(names,repoNames);\r\n        System.out.println(repositoriesUserData);\r\n    return &quot;temporaryReturn&quot;;\r\n    }\r\n\r\nAll help is appreciated! ","title":"Grouping and sorting Lists into a Map","body":"<p>Before anything, the title doesn't convey what I really want to ask.\nWhat I want to know is, how can I make a map, where for several users, it collects their Data and then groups it all together. I'm currently using two lists, one for the users' names and another for their works. I tried using a map.put but it kept overwriting the previous entry. So what I'd like to obtain is as follows;</p>\n<p>Desired output:</p>\n<pre><code>{user1 = work1, work2, work3 , user2 = work1, work2 , userN = workN} \n</code></pre>\n<p>Current output:</p>\n<pre><code>{[user1, user2, user3, user4]=[work1, work2, work3, work4, work5  (user1) , work1 (user2), work1, work2, work3 ( user3 )]}\n</code></pre>\n<p>This is the code that I'm currently using to achieve the above.</p>\n<pre><code>private static Map&lt;List&lt;String&gt;, List&lt;String&gt;&gt; repositoriesUserData = new HashMap&lt;&gt;();\nprivate static Set&lt;String&gt; collaboratorNames = new HashSet&lt;&gt;();\n\npublic static void main(String[] args) throws Exception {\n    login();\n    getCollabs(GITHUB_REPO_NAME);\n    repositoriesUnderUser();\n}\n\npublic GitManager(String AUTH, String USERNAME, String REPO_NAME) throws IOException {\n    this.GITHUB_LOGIN = USERNAME;\n    this.GITHUB_OAUTH = AUTH;\n    this.GITHUB_REPO_NAME = REPO_NAME;\n    this.githubLogin = new GitHubBuilder().withOAuthToken(this.GITHUB_OAUTH, this.GITHUB_LOGIN).build();\n    this.userOfLogin = this.githubLogin.getUser(GITHUB_LOGIN);\n}\n\npublic static void login() throws IOException { \n        new GitManager(GIT_TOKEN, GIT_LOGIN, GITHUB_REPO_NAME);\n        connect();\n\n}\n\n    public static void connect() throws IOException {\n    if (githubLogin.isCredentialValid()) {\n        valid = true;\n        githubLogin.connect(GITHUB_LOGIN, GITHUB_OAUTH);\n        userOfLogin = githubLogin.getUser(GITHUB_LOGIN);\n    }\n}\n\npublic static String getCollabs(String repositoryName) throws IOException {\n    GHRepository collaboratorsRepository = userOfLogin.getRepository(repositoryName);\n\n    collaboratorNames = collaboratorsRepository.getCollaboratorNames();\n    String collaborators = collaboratorNames.toString();\n\n    System.out.println(&quot;Collaborators for the following Repository: &quot; + repositoryName + &quot;\\nAre: &quot; + collaborators);\n    String out = &quot;Collaborators for the following Repository: &quot; + repositoryName + &quot;\\nAre: &quot; + collaborators;\n    return out;\n}\n\n   public static List&lt;String&gt; fillList() {\n    List&lt;String&gt; collaborators = new ArrayList&lt;&gt;();\n\n    collaboratorNames.forEach(s -&gt; {\n        collaborators.add(s);\n    });\n    return collaborators;\n}\n\n   public static String repositoriesUnderUser() throws IOException {\n    GHUser user;\n    List&lt;String&gt; names = new ArrayList&lt;&gt;();\n    List&lt;String&gt; repoNames = new ArrayList&lt;&gt;();\n\n    for (int i = 0; i &lt; fillList().size(); i++) {\n        user = githubLogin.getUser(fillList().get(i));\n\n        Map&lt;String, GHRepository&gt; temp = user.getRepositories();\n        names.add(user.getLogin());\n\n        temp.forEach((c, b) -&gt; {\n        repoNames.add(b.getName());\n\n        });\n    }\n    repositoriesUserData.put(names,repoNames);\n    System.out.println(repositoriesUserData);\nreturn &quot;temporaryReturn&quot;;\n}\n</code></pre>\n<p>All help is appreciated!</p>\n"},{"tags":["java","classloader","java-11","java-resources"],"comments":[{"owner":{"account_id":10192070,"reputation":2256,"user_id":7525132,"display_name":"Izruo"},"score":0,"creation_date":1637942831,"post_id":70126893,"comment_id":123965173,"body_markdown":"I found [this answer](https://stackoverflow.com/a/5193884/7525132) here on SO. I do not feel like it answers this question perfectly, so I did not immediately flag a dupe, but it might help anyway.","body":"I found <a href=\"https://stackoverflow.com/a/5193884/7525132\">this answer</a> here on SO. I do not feel like it answers this question perfectly, so I did not immediately flag a dupe, but it might help anyway."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1638179668,"post_id":70126893,"comment_id":124010049,"body_markdown":"`getResources(…)` with a directory name only works when the underlying storage has directories, e.g. the default file system or in case of a jar file, when it has pseudo directory entries (which they usually don’t have).","body":"<code>getResources(…)</code> with a directory name only works when the underlying storage has directories, e.g. the default file system or in case of a jar file, when it has pseudo directory entries (which they usually don’t have)."}],"answers":[{"tags":[],"owner":{"account_id":23430582,"reputation":42,"user_id":17489493,"display_name":"adlmez"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1637942873,"creation_date":1637942873,"answer_id":70127183,"question_id":70126893,"body_markdown":"Try with\r\n```java\r\nEnumeration&lt;URL&gt; urls = ClassLoader.getSystemClassLoader().getResources(&quot;path/to/my/package&quot;);\r\n\r\nwhile (urls.hasMoreElements()) {\r\n    System.out.println(urls.nextElement());\r\n}\r\n```","title":"Can&#39;t enumerate `class` files with ClassLoader#getResources()","body":"<p>Try with</p>\n<pre class=\"lang-java prettyprint-override\"><code>Enumeration&lt;URL&gt; urls = ClassLoader.getSystemClassLoader().getResources(&quot;path/to/my/package&quot;);\n\nwhile (urls.hasMoreElements()) {\n    System.out.println(urls.nextElement());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10192070,"reputation":2256,"user_id":7525132,"display_name":"Izruo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637946046,"creation_date":1637946046,"answer_id":70127768,"question_id":70126893,"body_markdown":"You cannot walk a class path like you can walk a file path. Walking a file path is done on the file system, which does not apply to a class path.\r\n\r\nWhile a java class path entries are formed like file paths and usually are folders and files (either on the file system or inside a JAR archive), it does not necessarily have to be that way. In fact, the classes of one single package may originate from various locations of differing nature: one might be loaded from a local JAR file while another one might be loaded from a remote URL.\r\n\r\nThe method `ClassLoader.getResources()` exists to provide access to all &quot;occurrences&quot; of a resource if it has the same name in different JAR files (or other locations). For example you can use\r\n\r\n    ClassLoader.getSystemClassLoader().getResources(&quot;META-INF/MANIFEST.MF&quot;);\r\n\r\nto access the manifest file of each JAR file in your class path.","title":"Can&#39;t enumerate `class` files with ClassLoader#getResources()","body":"<p>You cannot walk a class path like you can walk a file path. Walking a file path is done on the file system, which does not apply to a class path.</p>\n<p>While a java class path entries are formed like file paths and usually are folders and files (either on the file system or inside a JAR archive), it does not necessarily have to be that way. In fact, the classes of one single package may originate from various locations of differing nature: one might be loaded from a local JAR file while another one might be loaded from a remote URL.</p>\n<p>The method <code>ClassLoader.getResources()</code> exists to provide access to all &quot;occurrences&quot; of a resource if it has the same name in different JAR files (or other locations). For example you can use</p>\n<pre><code>ClassLoader.getSystemClassLoader().getResources(&quot;META-INF/MANIFEST.MF&quot;);\n</code></pre>\n<p>to access the manifest file of each JAR file in your class path.</p>\n"}],"owner":{"account_id":94736,"reputation":48421,"user_id":258483,"accept_rate":46,"display_name":"Dims"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1637953881,"creation_date":1637941386,"question_id":70126893,"body_markdown":"I am trying to enumerate classes in the package with\r\n\r\n    Enumeration&lt;URL&gt; resourceUrls = myObject.getClassLoader().getResources(&quot;path/to/my/package/&quot;);\r\n    while (resourceUrls.hasMoreElements()) {\r\n       ...\r\n\r\nUnfortunately it returns nothing. Why?\r\n\r\nAssuming path is correct. Path starts with no slash and ends with slash. There are several `public classes` under `path.to.my.package` package.\r\n\r\n***\r\n\r\nI took this code from Spring.","title":"Can&#39;t enumerate `class` files with ClassLoader#getResources()","body":"<p>I am trying to enumerate classes in the package with</p>\n<pre><code>Enumeration&lt;URL&gt; resourceUrls = myObject.getClassLoader().getResources(&quot;path/to/my/package/&quot;);\nwhile (resourceUrls.hasMoreElements()) {\n   ...\n</code></pre>\n<p>Unfortunately it returns nothing. Why?</p>\n<p>Assuming path is correct. Path starts with no slash and ends with slash. There are several <code>public classes</code> under <code>path.to.my.package</code> package.</p>\n<hr />\n<p>I took this code from Spring.</p>\n"},{"tags":["java","spring","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":49385,"reputation":93759,"user_id":147024,"display_name":"yole"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1438692472,"creation_date":1438692472,"answer_id":31809752,"question_id":31805698,"body_markdown":"If you put your caret on the class name, the &quot;Copy Reference&quot; action (Ctrl-Alt-Shift-C) will put exactly what you need into the clipboard.\r\n\r\nNote that IntelliJ IDEA supports class name completion in application-context.xml as well.","title":"Intellij IDEA copy package + class name for Spring application config","body":"<p>If you put your caret on the class name, the \"Copy Reference\" action (Ctrl-Alt-Shift-C) will put exactly what you need into the clipboard.</p>\n\n<p>Note that IntelliJ IDEA supports class name completion in application-context.xml as well.</p>\n"},{"tags":[],"owner":{"account_id":240376,"reputation":3567,"user_id":510583,"accept_rate":80,"display_name":"leo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637953697,"creation_date":1637953697,"answer_id":70129043,"question_id":31805698,"body_markdown":"&quot;Copy Reference&quot; puts multiple formats to the clipboard. At least that&#39;s what I presume after a quick test. IIRC, this behaviour changed some month ago.\r\n\r\n - Pasting into a javadoc comment section puts the fully qualified class or method name.\r\n - Pasting somewhere else in the file, or into another application, only gives you the class or method name.\r\n\r\n","title":"Intellij IDEA copy package + class name for Spring application config","body":"<p>&quot;Copy Reference&quot; puts multiple formats to the clipboard. At least that's what I presume after a quick test. IIRC, this behaviour changed some month ago.</p>\n<ul>\n<li>Pasting into a javadoc comment section puts the fully qualified class or method name.</li>\n<li>Pasting somewhere else in the file, or into another application, only gives you the class or method name.</li>\n</ul>\n"}],"owner":{"account_id":2771244,"reputation":11224,"user_id":2385808,"accept_rate":62,"display_name":"Fritz Duchardt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1397,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1637953697,"creation_date":1438680988,"question_id":31805698,"body_markdown":"Is there a **quick way to copy class package + name to the clip board**, e.g.\r\n\r\n    de.mypackage.unit.HelloWorld\r\n\r\nAs a Spring developer I need this on a regular basis to define beans in the `application-context.xml` and I find myself copy and pasting the stuff manually this wasting valuable seconds.\r\n\r\nI am aware of *Ctrl + Alt + Shift + c* to copy class references, but the format is not quite right:\r\n\r\n    de/mypackage/unit/HelloWorld.java:73","title":"Intellij IDEA copy package + class name for Spring application config","body":"<p>Is there a <strong>quick way to copy class package + name to the clip board</strong>, e.g.</p>\n\n<pre><code>de.mypackage.unit.HelloWorld\n</code></pre>\n\n<p>As a Spring developer I need this on a regular basis to define beans in the <code>application-context.xml</code> and I find myself copy and pasting the stuff manually this wasting valuable seconds.</p>\n\n<p>I am aware of <em>Ctrl + Alt + Shift + c</em> to copy class references, but the format is not quite right:</p>\n\n<pre><code>de/mypackage/unit/HelloWorld.java:73\n</code></pre>\n"},{"tags":["java","el","check-constraints","jsr380"],"comments":[{"owner":{"account_id":4844356,"reputation":462,"user_id":5852531,"display_name":"Thiago Henrique Hupner"},"score":1,"creation_date":1638304627,"post_id":70129030,"comment_id":124052202,"body_markdown":"A not very good solution would be something like: `foo.stream().count() == 1`. I&#39;ve opened an issue for that: https://github.com/eclipse-ee4j/el-ri/issues/175","body":"A not very good solution would be something like: <code>foo.stream().count() == 1</code>. I&#39;ve opened an issue for that: <a href=\"https://github.com/eclipse-ee4j/el-ri/issues/175\" rel=\"nofollow noreferrer\">github.com/eclipse-ee4j/el-ri/issues/175</a>"},{"owner":{"account_id":4844356,"reputation":462,"user_id":5852531,"display_name":"Thiago Henrique Hupner"},"score":0,"creation_date":1638305161,"post_id":70129030,"comment_id":124052379,"body_markdown":"Just to explain a little more, the specification of ArrayELResolver::getValue states that `It accepts any object as a property and coerces that object into an integer index into the array`. You can see that in the exception, it tried to coerce the length to int.","body":"Just to explain a little more, the specification of ArrayELResolver::getValue states that <code>It accepts any object as a property and coerces that object into an integer index into the array</code>. You can see that in the exception, it tried to coerce the length to int."},{"owner":{"account_id":4844356,"reputation":462,"user_id":5852531,"display_name":"Thiago Henrique Hupner"},"score":0,"creation_date":1638305163,"post_id":70129030,"comment_id":124052382,"body_markdown":"https://javadoc.io/doc/jakarta.el/jakarta.el-api/latest/index.html","body":"<a href=\"https://javadoc.io/doc/jakarta.el/jakarta.el-api/latest/index.html\" rel=\"nofollow noreferrer\">javadoc.io/doc/jakarta.el/jakarta.el-api/latest/index.html</a>"},{"owner":{"account_id":3512449,"reputation":3956,"user_id":2936460,"accept_rate":83,"display_name":"SQB"},"score":0,"creation_date":1638396767,"post_id":70129030,"comment_id":124080626,"body_markdown":"@ThiagoHenriqueHupner _that&#39;s_ why it did that! I thought it was because I was comparing it with a number. This is more than a comment, this is an answer.","body":"@ThiagoHenriqueHupner <i>that&#39;s</i> why it did that! I thought it was because I was comparing it with a number. This is more than a comment, this is an answer."},{"owner":{"account_id":3512449,"reputation":3956,"user_id":2936460,"accept_rate":83,"display_name":"SQB"},"score":0,"creation_date":1638443267,"post_id":70129030,"comment_id":124091566,"body_markdown":"@ThiagoHenriqueHupner Unfortunately, your &quot;not very good solution&quot; as you call it, leads to a DisabledFeatureELException telling me that &quot;Method execution is not supported when only enabling Expression Language bean property resolution&quot;, a message so rare that it yields just one single result on Google. I understand what it means, but have no idea how to proceed.","body":"@ThiagoHenriqueHupner Unfortunately, your &quot;not very good solution&quot; as you call it, leads to a DisabledFeatureELException telling me that &quot;Method execution is not supported when only enabling Expression Language bean property resolution&quot;, a message so rare that it yields just one single result on Google. I understand what it means, but have no idea how to proceed."},{"owner":{"account_id":4844356,"reputation":462,"user_id":5852531,"display_name":"Thiago Henrique Hupner"},"score":0,"creation_date":1638450245,"post_id":70129030,"comment_id":124094531,"body_markdown":"Oh, that&#39;s unfortunate. I don&#39;t have a lot of experience with Bean Validation, so it seems that it doesn&#39;t like method calls in their expressions.","body":"Oh, that&#39;s unfortunate. I don&#39;t have a lot of experience with Bean Validation, so it seems that it doesn&#39;t like method calls in their expressions."},{"owner":{"account_id":4844356,"reputation":462,"user_id":5852531,"display_name":"Thiago Henrique Hupner"},"score":1,"creation_date":1638450256,"post_id":70129030,"comment_id":124094538,"body_markdown":"Maybe this can help: https://docs.jboss.org/hibernate/validator/6.2/reference/en-US/html_single/#section-interpolation-with-message-expressions","body":"Maybe this can help: <a href=\"https://docs.jboss.org/hibernate/validator/6.2/reference/en-US/html_single/#section-interpolation-with-message-expressions\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/validator/6.2/reference/en-US/&hellip;</a>"},{"owner":{"account_id":3512449,"reputation":3956,"user_id":2936460,"accept_rate":83,"display_name":"SQB"},"score":0,"creation_date":1684155734,"post_id":70129030,"comment_id":134471146,"body_markdown":"@ThiagoHenriqueHupner since it is now fixed (thanks!), perhaps add an answer that states that?","body":"@ThiagoHenriqueHupner since it is now fixed (thanks!), perhaps add an answer that states that?"}],"owner":{"account_id":3512449,"reputation":3956,"user_id":2936460,"accept_rate":83,"display_name":"SQB"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637953580,"creation_date":1637953580,"question_id":70129030,"body_markdown":"I have a constraint on which I want to use EL to tune the message to the circumstances. Dependent on the length of an array, I want to show a different message. However, I&#39;m having trouble getting the length of that array. \r\n\r\nWhat am I doing wrong?\r\n\r\n```lang-java\r\nimport org.junit.jupiter.api.Test;\r\nimport javax.validation.*;\r\nimport java.lang.annotation.*;\r\nimport static org.assertj.core.api.Assertions.assertThat;\r\n\r\npublic class FooTest {\r\n    private final Validator validator = Validation.buildDefaultValidatorFactory().getValidator();\r\n\r\n    @Test\r\n    public void foo() {\r\n        var violations = validator.validate(new ObjectWithFoo());\r\n        assertThat(violations).extracting(&quot;message&quot;)\r\n            .containsExactly(&quot;Field value should be foo&quot;);\r\n    }\r\n\r\n    @Test\r\n    public void foos() {\r\n        var violations = validator.validate(new ObjectWithFoos());\r\n        assertThat(violations).extracting(&quot;message&quot;)\r\n            .containsExactly(&quot;Field value should be one of [foo, bar, baz]&quot;);\r\n    }\r\n\r\n    @Foo(foos = {&quot;foo&quot;})\r\n    private static class ObjectWithFoo{}\r\n\r\n    @Foo(foos = {&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;})\r\n    private static class ObjectWithFoos{}\r\n\r\n    @Constraint(validatedBy = FooValidator.class)\r\n    @Target({ElementType.TYPE})\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface Foo{\r\n        Class&lt;?&gt;[] groups() default {};\r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n\r\n        String[] foos();\r\n\r\n        // This is the message I want to tune to the length of the array.\r\n        // If the array contains just one element, I want to show a different message.\r\n        // Note that &#39;one of foos&#39; is a placeholder; I still need to figure out \r\n        // how to display the array in that case.\r\n        String message() default &quot;Field value should be ${foos.length == 1 ? foos[0] : &#39;one of foos&#39;}&quot;;\r\n        @Target({ElementType.TYPE})\r\n        @Retention(RetentionPolicy.RUNTIME)\r\n        @interface List {\r\n            Foo[] value();\r\n        }\r\n    }\r\n\r\n    public static class FooValidator implements ConstraintValidator&lt;Foo, Object&gt; {\r\n        @Override\r\n        public void initialize(Foo constraintAnnotation) {\r\n        }\r\n\r\n        @Override\r\n        public boolean isValid(Object o, ConstraintValidatorContext constraintValidatorContext) {\r\n            return false; // for this test, we want the validation to fail\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nUnfortunately, this throws an exception:\r\n\r\n    20:03:52.810 [main] WARN org.hibernate.validator.internal.engine.messageinterpolation.ElTermResolver - \r\n    HV000148: An exception occurred during evaluation of EL expression &#39;${foos.length == 1 ? foos[0] : &#39;one of $foos&#39;}&#39;\r\n    java.lang.NumberFormatException: For input string: &quot;length&quot;\r\n        at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\r\n        at java.base/java.lang.Integer.parseInt(Integer.java:652)\r\n","title":"How do I use EL to evaluate the length of an array in a (JSR 380) constraint message?","body":"<p>I have a constraint on which I want to use EL to tune the message to the circumstances. Dependent on the length of an array, I want to show a different message. However, I'm having trouble getting the length of that array.</p>\n<p>What am I doing wrong?</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.api.Test;\nimport javax.validation.*;\nimport java.lang.annotation.*;\nimport static org.assertj.core.api.Assertions.assertThat;\n\npublic class FooTest {\n    private final Validator validator = Validation.buildDefaultValidatorFactory().getValidator();\n\n    @Test\n    public void foo() {\n        var violations = validator.validate(new ObjectWithFoo());\n        assertThat(violations).extracting(&quot;message&quot;)\n            .containsExactly(&quot;Field value should be foo&quot;);\n    }\n\n    @Test\n    public void foos() {\n        var violations = validator.validate(new ObjectWithFoos());\n        assertThat(violations).extracting(&quot;message&quot;)\n            .containsExactly(&quot;Field value should be one of [foo, bar, baz]&quot;);\n    }\n\n    @Foo(foos = {&quot;foo&quot;})\n    private static class ObjectWithFoo{}\n\n    @Foo(foos = {&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;})\n    private static class ObjectWithFoos{}\n\n    @Constraint(validatedBy = FooValidator.class)\n    @Target({ElementType.TYPE})\n    @Retention(RetentionPolicy.RUNTIME)\n    public @interface Foo{\n        Class&lt;?&gt;[] groups() default {};\n        Class&lt;? extends Payload&gt;[] payload() default {};\n\n        String[] foos();\n\n        // This is the message I want to tune to the length of the array.\n        // If the array contains just one element, I want to show a different message.\n        // Note that 'one of foos' is a placeholder; I still need to figure out \n        // how to display the array in that case.\n        String message() default &quot;Field value should be ${foos.length == 1 ? foos[0] : 'one of foos'}&quot;;\n        @Target({ElementType.TYPE})\n        @Retention(RetentionPolicy.RUNTIME)\n        @interface List {\n            Foo[] value();\n        }\n    }\n\n    public static class FooValidator implements ConstraintValidator&lt;Foo, Object&gt; {\n        @Override\n        public void initialize(Foo constraintAnnotation) {\n        }\n\n        @Override\n        public boolean isValid(Object o, ConstraintValidatorContext constraintValidatorContext) {\n            return false; // for this test, we want the validation to fail\n        }\n    }\n}\n</code></pre>\n<p>Unfortunately, this throws an exception:</p>\n<pre><code>20:03:52.810 [main] WARN org.hibernate.validator.internal.engine.messageinterpolation.ElTermResolver - \nHV000148: An exception occurred during evaluation of EL expression '${foos.length == 1 ? foos[0] : 'one of $foos'}'\njava.lang.NumberFormatException: For input string: &quot;length&quot;\n    at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\n    at java.base/java.lang.Integer.parseInt(Integer.java:652)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","kotlin","dsl"],"comments":[{"owner":{"account_id":6631961,"reputation":464,"user_id":5120388,"accept_rate":57,"display_name":"newcoder"},"score":0,"creation_date":1637355603,"post_id":70008693,"comment_id":123813477,"body_markdown":"will you be able to share your whole code or GitHub link for this?","body":"will you be able to share your whole code or GitHub link for this?"},{"owner":{"account_id":3808391,"reputation":4885,"user_id":3160089,"accept_rate":77,"display_name":"Endzeit"},"score":0,"creation_date":1637394089,"post_id":70008693,"comment_id":123819179,"body_markdown":"@Raj I added a repository with a minimal reproduction to GitHub. See the last paragraph of the question.","body":"@Raj I added a repository with a minimal reproduction to GitHub. See the last paragraph of the question."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1637944011,"post_id":70008693,"comment_id":123965566,"body_markdown":"*can* reproduce (..with annotation config, it works like charm)! please file an issue (best [here](https://github.com/spring-projects/spring-framework/issues) i think). Wait for fix/ stick to/mix with annotation config /star [Spring Fu](https://github.com/spring-projects-experimental/spring-fu).","body":"<i>can</i> reproduce (..with annotation config, it works like charm)! please file an issue (best <a href=\"https://github.com/spring-projects/spring-framework/issues\" rel=\"nofollow noreferrer\">here</a> i think). Wait for fix/ stick to/mix with annotation config /star <a href=\"https://github.com/spring-projects-experimental/spring-fu\" rel=\"nofollow noreferrer\">Spring Fu</a>."},{"owner":{"account_id":3808391,"reputation":4885,"user_id":3160089,"accept_rate":77,"display_name":"Endzeit"},"score":0,"creation_date":1637944435,"post_id":70008693,"comment_id":123965717,"body_markdown":"@xerx593 Thanks for you reply. I will probably file an issue in the GitHub repository for Spring soon. I know about and look forward to the advance &quot;Spring Fu&quot;, which has been put on halt for now sadly.","body":"@xerx593 Thanks for you reply. I will probably file an issue in the GitHub repository for Spring soon. I know about and look forward to the advance &quot;Spring Fu&quot;, which has been put on halt for now sadly."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1637944451,"post_id":70008693,"comment_id":123965721,"body_markdown":"..i think, the guys (implementing DSL support) just forgot about that ([also in the Test](https://github.com/spring-projects/spring-framework/blob/main/spring-context/src/test/kotlin/org/springframework/context/support/BeanDefinitionDslTests.kt)) [The documentation](https://docs.spring.io/spring-framework/docs/current/kdoc-api/spring-context/org.springframework.context.support/-bean-definition-dsl/-scope/-p-r-o-t-o-t-y-p-e/index.html) also needs some effort. (dead links, incorrect/copy&amp;paste)","body":"..i think, the guys (implementing DSL support) just forgot about that (<a href=\"https://github.com/spring-projects/spring-framework/blob/main/spring-context/src/test/kotlin/org/springframework/context/support/BeanDefinitionDslTests.kt\" rel=\"nofollow noreferrer\">also in the Test</a>) <a href=\"https://docs.spring.io/spring-framework/docs/current/kdoc-api/spring-context/org.springframework.context.support/-bean-definition-dsl/-scope/-p-r-o-t-o-t-y-p-e/index.html\" rel=\"nofollow noreferrer\">The documentation</a> also needs some effort. (dead links, incorrect/copy&amp;paste)"}],"answers":[{"tags":[],"owner":{"account_id":6631961,"reputation":464,"user_id":5120388,"accept_rate":57,"display_name":"newcoder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637359577,"creation_date":1637359577,"answer_id":70041403,"question_id":70008693,"body_markdown":"I am not an expert in Kotlin but can you please try this \r\n\r\n    fun beans() = beans {\r\n        bean&lt;InjectionPoint&gt;()\r\n        bean(scope = PROTOTYPE) {\r\n            val injectionPoint = ref&lt;InjectionPoint&gt;()\r\n        \r\n            LoggerFactory.getLogger(\r\n                injectionPoint.methodParameter?.containingClass // constructor\r\n                    ?: injectionPoint.field?.declaringClass // or field injection\r\n            )\r\n        }\r\n    }","title":"Accessing InjectionPoint inside Spring functional bean definition DSL","body":"<p>I am not an expert in Kotlin but can you please try this</p>\n<pre><code>fun beans() = beans {\n    bean&lt;InjectionPoint&gt;()\n    bean(scope = PROTOTYPE) {\n        val injectionPoint = ref&lt;InjectionPoint&gt;()\n    \n        LoggerFactory.getLogger(\n            injectionPoint.methodParameter?.containingClass // constructor\n                ?: injectionPoint.field?.declaringClass // or field injection\n        )\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637929400,"creation_date":1637928533,"answer_id":70124184,"question_id":70008693,"body_markdown":"I don&#39;t think you will get an instance of `InjectionPoint` because it is created in response to the demand a component makes for an injection of a managed bean.\r\n\r\n`InjectionPoint` class is not annotated with `@Component` or any of its derivatives like `@Service`. Hence, it is not a managed bean and you will not get a reference using `ref&lt;InjectionPoint&gt;`.\r\n\r\n`InjectionPoint` only contains meta information about the class or method that is requesting an instance of the managed bean. *That is, it not a functional object and hence, not managed.* However, it can be optionally accepted by the bean factory method to make some decisions about the instance to be returned. Hence, your bean factory method (whatever it is called in Kotlin) must accept an instance of `InjectionPoint`, which is what you are doing in your first version in the post.\r\n\r\nAlso, from the minimal I could understand from the docs of Kotlin Bean DSL [here][1], I couldn&#39;t see **a way to accept it as a parameter** (but that could simply be due to my lack of knowledge of Kotlin. So, in summary, this may not be useful for bean definitions where injection point is needed, unless you can go through the docs and find out a way which I may have missed.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/5.0.0.RELEASE/kdoc-api/spring-framework/org.springframework.context.support/-bean-definition-dsl/","title":"Accessing InjectionPoint inside Spring functional bean definition DSL","body":"<p>I don't think you will get an instance of <code>InjectionPoint</code> because it is created in response to the demand a component makes for an injection of a managed bean.</p>\n<p><code>InjectionPoint</code> class is not annotated with <code>@Component</code> or any of its derivatives like <code>@Service</code>. Hence, it is not a managed bean and you will not get a reference using <code>ref&lt;InjectionPoint&gt;</code>.</p>\n<p><code>InjectionPoint</code> only contains meta information about the class or method that is requesting an instance of the managed bean. <em>That is, it not a functional object and hence, not managed.</em> However, it can be optionally accepted by the bean factory method to make some decisions about the instance to be returned. Hence, your bean factory method (whatever it is called in Kotlin) must accept an instance of <code>InjectionPoint</code>, which is what you are doing in your first version in the post.</p>\n<p>Also, from the minimal I could understand from the docs of Kotlin Bean DSL <a href=\"https://docs.spring.io/spring-framework/docs/5.0.0.RELEASE/kdoc-api/spring-framework/org.springframework.context.support/-bean-definition-dsl/\" rel=\"nofollow noreferrer\">here</a>, I couldn't see <strong>a way to accept it as a parameter</strong> (but that could simply be due to my lack of knowledge of Kotlin. So, in summary, this may not be useful for bean definitions where injection point is needed, unless you can go through the docs and find out a way which I may have missed.</p>\n"}],"owner":{"account_id":3808391,"reputation":4885,"user_id":3160089,"accept_rate":77,"display_name":"Endzeit"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":539,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1637952097,"creation_date":1637168816,"question_id":70008693,"body_markdown":"We use a Bean factory function to allow injection of Logger objects into our Beans. \r\nThis looks similar to what Simar Paul Singh describes in his article &quot;[Inject loggers in Spring](https://medium.com/simars/inject-loggers-in-spring-java-or-kotlin-87162d02d068)&quot; \r\n\r\n    import org.slf4j.*\r\n    import org.springframework.beans.factory.InjectionPoint\r\n    import org.springframework.context.annotation.*\r\n\r\n    @Bean\r\n    @Scope(&quot;prototype&quot;)\r\n    fun logger(injectionPoint: InjectionPoint): Logger {\r\n      return LoggerFactory.getLogger(\r\n          injectionPoint.methodParameter?.containingClass // constructor\r\n              ?: injectionPoint.field?.declaringClass // or field injection\r\n      )\r\n    }\r\n\r\nToday I attempted to convert this declaration into a Bean declaration using [Springs functional bean definition DSL](https://docs.spring.io/spring-framework/docs/5.0.0.RELEASE/spring-framework-reference/kotlin.html#bean-definition-dsl).  However I did not succeed to get a hold of the `InjectionPoint` used to retrieve the class the Logger is injected into. \r\n\r\n    import org.slf4j.*\r\n    import org.springframework.beans.factory.InjectionPoint\r\n    import org.springframework.context.support.beans\r\n    import org.springframework.context.support.BeanDefinitionDsl.Scope.PROTOTYPE\r\n\r\n    fun beans() = beans {\r\n        bean(scope = PROTOTYPE) {\r\n            val injectionPoint = ref&lt;InjectionPoint&gt;()\r\n        \r\n            LoggerFactory.getLogger(\r\n                injectionPoint.methodParameter?.containingClass // constructor\r\n                    ?: injectionPoint.field?.declaringClass // or field injection\r\n            )\r\n        }\r\n    }\r\n\r\n   \r\nThe above results in an exception along the lines of:\r\n\r\n    NoSuchBeanDefinitionException: No qualifying bean of type &#39;org.springframework.beans.factory.InjectionPoint&#39; available\r\n\r\n\r\nIs there a way to retrieve the `InjectionPoint` or at least the class to provide a behaviour similar to the Bean declaration without DSL?\r\n\r\nA minimal reproduction repository can be found on [GitHub][1].\r\nRun `./gradlew bootRun` or `.\\gradlew.bat bootRun` on Windows to reproduce the error.\r\n\r\n---\r\n\r\nI&#39;ve opened [issue #27738][2] on the GitHub repository of Spring.\r\n\r\n\r\n  [1]: https://github.com/EndzeitBegins/spring-bean-dsl-injection-point\r\n  [2]: https://github.com/spring-projects/spring-framework/issues/27738","title":"Accessing InjectionPoint inside Spring functional bean definition DSL","body":"<p>We use a Bean factory function to allow injection of Logger objects into our Beans.\nThis looks similar to what Simar Paul Singh describes in his article &quot;<a href=\"https://medium.com/simars/inject-loggers-in-spring-java-or-kotlin-87162d02d068\" rel=\"nofollow noreferrer\">Inject loggers in Spring</a>&quot;</p>\n<pre><code>import org.slf4j.*\nimport org.springframework.beans.factory.InjectionPoint\nimport org.springframework.context.annotation.*\n\n@Bean\n@Scope(&quot;prototype&quot;)\nfun logger(injectionPoint: InjectionPoint): Logger {\n  return LoggerFactory.getLogger(\n      injectionPoint.methodParameter?.containingClass // constructor\n          ?: injectionPoint.field?.declaringClass // or field injection\n  )\n}\n</code></pre>\n<p>Today I attempted to convert this declaration into a Bean declaration using <a href=\"https://docs.spring.io/spring-framework/docs/5.0.0.RELEASE/spring-framework-reference/kotlin.html#bean-definition-dsl\" rel=\"nofollow noreferrer\">Springs functional bean definition DSL</a>.  However I did not succeed to get a hold of the <code>InjectionPoint</code> used to retrieve the class the Logger is injected into.</p>\n<pre><code>import org.slf4j.*\nimport org.springframework.beans.factory.InjectionPoint\nimport org.springframework.context.support.beans\nimport org.springframework.context.support.BeanDefinitionDsl.Scope.PROTOTYPE\n\nfun beans() = beans {\n    bean(scope = PROTOTYPE) {\n        val injectionPoint = ref&lt;InjectionPoint&gt;()\n    \n        LoggerFactory.getLogger(\n            injectionPoint.methodParameter?.containingClass // constructor\n                ?: injectionPoint.field?.declaringClass // or field injection\n        )\n    }\n}\n</code></pre>\n<p>The above results in an exception along the lines of:</p>\n<pre><code>NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.beans.factory.InjectionPoint' available\n</code></pre>\n<p>Is there a way to retrieve the <code>InjectionPoint</code> or at least the class to provide a behaviour similar to the Bean declaration without DSL?</p>\n<p>A minimal reproduction repository can be found on <a href=\"https://github.com/EndzeitBegins/spring-bean-dsl-injection-point\" rel=\"nofollow noreferrer\">GitHub</a>.\nRun <code>./gradlew bootRun</code> or <code>.\\gradlew.bat bootRun</code> on Windows to reproduce the error.</p>\n<hr />\n<p>I've opened <a href=\"https://github.com/spring-projects/spring-framework/issues/27738\" rel=\"nofollow noreferrer\">issue #27738</a> on the GitHub repository of Spring.</p>\n"},{"tags":["java","maven","jdbc","netbeans","jar"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1637867650,"post_id":70116125,"comment_id":123946127,"body_markdown":"Look in `Window &gt; Services &gt; Databases &gt; Drivers`; right-click to configure.","body":"Look in <code>Window &gt; Services &gt; Databases &gt; Drivers</code>; right-click to configure."},{"owner":{"account_id":8721912,"reputation":79,"user_id":6524788,"display_name":"Ezequiel"},"score":0,"creation_date":1637868720,"post_id":70116125,"comment_id":123946416,"body_markdown":"@trashgod Have you any post or refference about how to use it that way?, because I have it working the way you said, I can see the tables and views but when calling Class.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;); i&#39;m still getting the same error about the driver missing.","body":"@trashgod Have you any post or refference about how to use it that way?, because I have it working the way you said, I can see the tables and views but when calling Class.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;); i&#39;m still getting the same error about the driver missing."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1637871442,"post_id":70116125,"comment_id":123947078,"body_markdown":"For clarification: Do you want to add a JAR to one specific Java project in NetBeans? If that is the case, then it depends on what type of Java project you have - for example Ant-based, Maven-based, Gradle-based. You made that choice when you created the project. And the steps will be different depending on that choice. (Personally I very rarely make changes to the NetBeans-wide libraries in the way you show - instead I add JARs to specific projects.)","body":"For clarification: Do you want to add a JAR to one specific Java project in NetBeans? If that is the case, then it depends on what type of Java project you have - for example Ant-based, Maven-based, Gradle-based. You made that choice when you created the project. And the steps will be different depending on that choice. (Personally I very rarely make changes to the NetBeans-wide libraries in the way you show - instead I add JARs to specific projects.)"},{"owner":{"account_id":8721912,"reputation":79,"user_id":6524788,"display_name":"Ezequiel"},"score":0,"creation_date":1637873840,"post_id":70116125,"comment_id":123947685,"body_markdown":"@andrewJames Yes, I just need it in this project, it is a maven-based project, I used to work with eclipse and that is the way we added libraries there and as fas as I know, netbeans used to work the same way but the company where I work decided that we are just allowed to work with netbeans and now i&#39;m stuck in this part and can&#39;t find a way to do it. For more clarification if it is possible to add it global I have no problem with that either.","body":"@andrewJames Yes, I just need it in this project, it is a maven-based project, I used to work with eclipse and that is the way we added libraries there and as fas as I know, netbeans used to work the same way but the company where I work decided that we are just allowed to work with netbeans and now i&#39;m stuck in this part and can&#39;t find a way to do it. For more clarification if it is possible to add it global I have no problem with that either."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1637874805,"post_id":70116125,"comment_id":123947921,"body_markdown":"A Maven-based project has a POM (`pom.xml`), which is where you add your library dependencies. I feel like I may be missing the point, since that should be true regardless of the IDE you are using.","body":"A Maven-based project has a POM (<code>pom.xml</code>), which is where you add your library dependencies. I feel like I may be missing the point, since that should be true regardless of the IDE you are using."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1637884662,"post_id":70116125,"comment_id":123949821,"body_markdown":"@andrewJames is correct; your use of the Ant Library Manager led me to infer that you were working on an [tag:ant] project; you may want to look [here](https://stackoverflow.com/search?tab=votes&amp;q=%5bjava%5d%20oracle%20jdbc%20maven) and [edit] your question to clarify.","body":"@andrewJames is correct; your use of the Ant Library Manager led me to infer that you were working on an <a href=\"https://stackoverflow.com/questions/tagged/ant\">ant</a> project; you may want to look <a href=\"https://stackoverflow.com/search?tab=votes&amp;q=%5bjava%5d%20oracle%20jdbc%20maven\">here</a> and <a href=\"https://stackoverflow.com/posts/70116125/edit\">edit</a> your question to clarify."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1637888353,"post_id":70116125,"comment_id":123950344,"body_markdown":"Another question for clarification: Is your application a web-app, which is deployed as a WAR (or maybe a EAR) in a container such as Tomcat, Glassfish, etc.? Or is it a standalone Java application? I ask because that can affect where/how you need to add your database driver&#39;s JAR file. Please [edit] your question to provide all of this missing information. (And be aware there are many, many questions already about DB driver `ClassNotFoundException` problems on SO - so your problem has probably already been asked and answered here).","body":"Another question for clarification: Is your application a web-app, which is deployed as a WAR (or maybe a EAR) in a container such as Tomcat, Glassfish, etc.? Or is it a standalone Java application? I ask because that can affect where/how you need to add your database driver&#39;s JAR file. Please <a href=\"https://stackoverflow.com/posts/70116125/edit\">edit</a> your question to provide all of this missing information. (And be aware there are many, many questions already about DB driver <code>ClassNotFoundException</code> problems on SO - so your problem has probably already been asked and answered here)."},{"owner":{"account_id":8721912,"reputation":79,"user_id":6524788,"display_name":"Ezequiel"},"score":0,"creation_date":1637939137,"post_id":70116125,"comment_id":123963806,"body_markdown":"@andrewJames hmm well thats weird I don&#39;t seem to find any pom.xml file on any of my projects that I made in eclipse (which is where I started working with java like half a year ago), all I can find is a .project file and a .classpath file which contains the path for the jar files I added. Forgive me if im doing something wrong but its my first time working with ant-maven-gradle kind of projects. If I find a way to do it that is already here then i&#39;m closing the post","body":"@andrewJames hmm well thats weird I don&#39;t seem to find any pom.xml file on any of my projects that I made in eclipse (which is where I started working with java like half a year ago), all I can find is a .project file and a .classpath file which contains the path for the jar files I added. Forgive me if im doing something wrong but its my first time working with ant-maven-gradle kind of projects. If I find a way to do it that is already here then i&#39;m closing the post"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1637941873,"post_id":70116125,"comment_id":123964778,"body_markdown":"(1) What version of NetBeans are you using? (2) How did you create the project in NetBeans? Did you import it from existing sources? Create a new NetBeans project?  Something else? Can you describe the specific steps? Please [edit] your question to provide the missing info.","body":"(1) What version of NetBeans are you using? (2) How did you create the project in NetBeans? Did you import it from existing sources? Create a new NetBeans project?  Something else? Can you describe the specific steps? Please <a href=\"https://stackoverflow.com/posts/70116125/edit\">edit</a> your question to provide the missing info."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1637944202,"post_id":70116125,"comment_id":123965627,"body_markdown":"Thanks - and sorry, you mentioned the version in the title (I missed that). So you _are_ creating a Maven project, and therefore there _should_ be a `pom.xml` file, automatically created - it should be in the &quot;Project Files&quot; folder.","body":"Thanks - and sorry, you mentioned the version in the title (I missed that). So you <i>are</i> creating a Maven project, and therefore there <i>should</i> be a <code>pom.xml</code> file, automatically created - it should be in the &quot;Project Files&quot; folder."},{"owner":{"account_id":8721912,"reputation":79,"user_id":6524788,"display_name":"Ezequiel"},"score":0,"creation_date":1637945147,"post_id":70116125,"comment_id":123965911,"body_markdown":"@andrewJames yes, in the current project I have that file, I was looking at some of the post that trashgod told me [like](https://stackoverflow.com/questions/4491199/build-maven-project-with-propriatery-libraries-included/4491343#4491343) but idk where to get the artifactid, etc that is asking and where to add that, tried to add it in the dependencies folder then add dependency but it doesn&#39;t seems like that is what I want. Might just be because i&#39;m new to the IDE.","body":"@andrewJames yes, in the current project I have that file, I was looking at some of the post that trashgod told me <a href=\"https://stackoverflow.com/questions/4491199/build-maven-project-with-propriatery-libraries-included/4491343#4491343\">like</a> but idk where to get the artifactid, etc that is asking and where to add that, tried to add it in the dependencies folder then add dependency but it doesn&#39;t seems like that is what I want. Might just be because i&#39;m new to the IDE."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1637945751,"post_id":70116125,"comment_id":123966103,"body_markdown":"You edit your `pom.xml` and create a `&lt;dependencies&gt; ... &lt;/dependencies&gt;` section (if it does not already exist). To know what specific dependency you need to add, you can use the [Maven Central repository](https://mvnrepository.com/). For example, if you want to add an Oracle driver, [here is one example](https://mvnrepository.com/artifact/com.oracle.database.jdbc/ojdbc10/19.12.0.0). That shows you the group and artifact IDs. However, I don&#39;t know which of the _many, many_ Oracle drivers you need (there are different versions of the driver for different versions of Oracle DB &amp; Java).","body":"You edit your <code>pom.xml</code> and create a <code>&lt;dependencies&gt; ... &lt;&#47;dependencies&gt;</code> section (if it does not already exist). To know what specific dependency you need to add, you can use the <a href=\"https://mvnrepository.com/\" rel=\"nofollow noreferrer\">Maven Central repository</a>. For example, if you want to add an Oracle driver, <a href=\"https://mvnrepository.com/artifact/com.oracle.database.jdbc/ojdbc10/19.12.0.0\" rel=\"nofollow noreferrer\">here is one example</a>. That shows you the group and artifact IDs. However, I don&#39;t know which of the <i>many, many</i> Oracle drivers you need (there are different versions of the driver for different versions of Oracle DB &amp; Java)."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1637945826,"post_id":70116125,"comment_id":123966129,"body_markdown":"Once you find the right driver, you can copy/paste that XML from Maven into your POM file, in the `dependencies` section. See also tutorials such as [this one](http://tutorials.jenkov.com/maven/maven-tutorial.html) and others.","body":"Once you find the right driver, you can copy/paste that XML from Maven into your POM file, in the <code>dependencies</code> section. See also tutorials such as <a href=\"http://tutorials.jenkov.com/maven/maven-tutorial.html\" rel=\"nofollow noreferrer\">this one</a> and others."},{"owner":{"account_id":8721912,"reputation":79,"user_id":6524788,"display_name":"Ezequiel"},"score":0,"creation_date":1637946903,"post_id":70116125,"comment_id":123966434,"body_markdown":"@andrewJames That just worked, had to add the &lt;dependencies&gt;&lt;/dependencies&gt; section (it was not in the POM file) and inside that add the dependency from the repository link you gave me, just one last thing, I have to delete this question right?","body":"@andrewJames That just worked, had to add the &lt;dependencies&gt;&lt;/dependencies&gt; section (it was not in the POM file) and inside that add the dependency from the repository link you gave me, just one last thing, I have to delete this question right?"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1637948069,"post_id":70116125,"comment_id":123966797,"body_markdown":"Good news. You do not _have_ to delete this question. The community may _vote_ to have it deleted. You can _choose_ to delete it if you think it will not be helpful to anyone else in the future. You can _choose_ to [write your own answer](https://stackoverflow.com/help/self-answer) if you want to. You may also want to check if there is already another question and answer which covers the same material - in which case you can flag your question as a _duplicate_ of that other question.","body":"Good news. You do not <i>have</i> to delete this question. The community may <i>vote</i> to have it deleted. You can <i>choose</i> to delete it if you think it will not be helpful to anyone else in the future. You can <i>choose</i> to <a href=\"https://stackoverflow.com/help/self-answer\">write your own answer</a> if you want to. You may also want to check if there is already another question and answer which covers the same material - in which case you can flag your question as a <i>duplicate</i> of that other question."}],"answers":[{"tags":[],"owner":{"account_id":8721912,"reputation":79,"user_id":6524788,"display_name":"Ezequiel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637952009,"creation_date":1637951480,"answer_id":70128706,"question_id":70116125,"body_markdown":"What worked for me was what @andrewJames said, editing POM.xml by adding the tag `&lt;dependencies&gt; ... &lt;/dependencies&gt;` which was not automatically created by Netbeans and inside that adding the xml from [Maven Central repository ojdbc8][1] (or whatever version you need), after that just run the project and it will download automatically the driver.\r\n\r\nI&#39;m keeping the question because as a new user of Netbeans, if the program doesn&#39;t add important tags like `&lt;dependencies&gt; ... &lt;/dependencies&gt;` and you just come and try to add the `&lt;dependency&gt; ... &lt;/dependency&gt;` tag which is suggested in many questions, but none of them tells you that you should have such a tag in the first place, even if its correct you will be getting an error.\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.oracle.database.jdbc/ojdbc8/21.3.0.0","title":"how to add external libraries in netbeans 12.4","body":"<p>What worked for me was what @andrewJames said, editing POM.xml by adding the tag <code>&lt;dependencies&gt; ... &lt;/dependencies&gt;</code> which was not automatically created by Netbeans and inside that adding the xml from <a href=\"https://mvnrepository.com/artifact/com.oracle.database.jdbc/ojdbc8/21.3.0.0\" rel=\"nofollow noreferrer\">Maven Central repository ojdbc8</a> (or whatever version you need), after that just run the project and it will download automatically the driver.</p>\n<p>I'm keeping the question because as a new user of Netbeans, if the program doesn't add important tags like <code>&lt;dependencies&gt; ... &lt;/dependencies&gt;</code> and you just come and try to add the <code>&lt;dependency&gt; ... &lt;/dependency&gt;</code> tag which is suggested in many questions, but none of them tells you that you should have such a tag in the first place, even if its correct you will be getting an error.</p>\n"}],"owner":{"account_id":8721912,"reputation":79,"user_id":6524788,"display_name":"Ezequiel"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":410,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70128706,"answer_count":1,"score":0,"last_activity_date":1637952009,"creation_date":1637866807,"question_id":70116125,"body_markdown":"So, I was looking to solve this error java.lang.ClassNotFoundException: oracle.jdbc.driver.OracleDriver, but idk why my folder configuration is different from all the post i&#39;ve found.\r\n\r\nThe steps i&#39;m doing:\r\n\r\nTools&gt;Libraries&gt;Add jar/Folder\r\n\r\n[![Library Menu][1]][1]\r\n\r\nAfter that I don&#39;t know what to do there is like 50 different folders and I&#39;ve added the libreries to Java DB Driver and even added a folder called Oracle but i&#39;m nowhere near to make this work.\r\n\r\nI even installed older versions of netbeans but I get the same window and options when it is supposed to just let me right click on project then Library&gt;Add jar/Folder as mentioned [here][2].\r\n\r\n**Edit:** This is a desktop project, I&#39;m using Netbeans 12.4 (but I also downloaded version 12.3, 12.0), the project was created from 0 with Netbeans 12.4 with these steps:\r\n\r\nNew project&gt;Java with Maven&gt;Java application&gt;Change name and other information&gt;Finish\r\n\r\nAfter that just added a package then a JFrame, JPanel and a button and tried to add the ojdbc8.jar\r\n\r\nI configured the service as @Trashgod said and was able to see the tables, views, etc but still got the same error.\r\n\r\n  [1]: https://i.stack.imgur.com/mkGAM.jpg\r\n  [2]: https://stackoverflow.com/questions/5893349/java-how-to-add-library-files-in-netbeans","title":"how to add external libraries in netbeans 12.4","body":"<p>So, I was looking to solve this error java.lang.ClassNotFoundException: oracle.jdbc.driver.OracleDriver, but idk why my folder configuration is different from all the post i've found.</p>\n<p>The steps i'm doing:</p>\n<p>Tools&gt;Libraries&gt;Add jar/Folder</p>\n<p><a href=\"https://i.stack.imgur.com/mkGAM.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mkGAM.jpg\" alt=\"Library Menu\" /></a></p>\n<p>After that I don't know what to do there is like 50 different folders and I've added the libreries to Java DB Driver and even added a folder called Oracle but i'm nowhere near to make this work.</p>\n<p>I even installed older versions of netbeans but I get the same window and options when it is supposed to just let me right click on project then Library&gt;Add jar/Folder as mentioned <a href=\"https://stackoverflow.com/questions/5893349/java-how-to-add-library-files-in-netbeans\">here</a>.</p>\n<p><strong>Edit:</strong> This is a desktop project, I'm using Netbeans 12.4 (but I also downloaded version 12.3, 12.0), the project was created from 0 with Netbeans 12.4 with these steps:</p>\n<p>New project&gt;Java with Maven&gt;Java application&gt;Change name and other information&gt;Finish</p>\n<p>After that just added a package then a JFrame, JPanel and a button and tried to add the ojdbc8.jar</p>\n<p>I configured the service as @Trashgod said and was able to see the tables, views, etc but still got the same error.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22283160,"reputation":107,"user_id":16511253,"display_name":"Emad Ali"},"score":0,"creation_date":1637951251,"post_id":70128653,"comment_id":123967651,"body_markdown":"you have a problem in your forloop, you using the value of `i`, but instead you should use the value of `arr.get(i)`","body":"you have a problem in your forloop, you using the value of <code>i</code>, but instead you should use the value of <code>arr.get(i)</code>"},{"owner":{"account_id":12076656,"reputation":1362,"user_id":10951873,"display_name":"Shourya Shikhar"},"score":0,"creation_date":1637951301,"post_id":70128653,"comment_id":123967667,"body_markdown":"Your question is not clear. What do you exactly want to do?\nYou&#39;re obviously printing out the size under the for loop.","body":"Your question is not clear. What do you exactly want to do? You&#39;re obviously printing out the size under the for loop."},{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1637951384,"post_id":70128653,"comment_id":123967686,"body_markdown":"Your `System.out.println` statement is inside the loop. Java uses braces `{` ... `}`, not indentation, to denote blocks of code.","body":"Your <code>System.out.println</code> statement is inside the loop. Java uses braces <code>{</code> ... <code>}</code>, not indentation, to denote blocks of code."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1637951463,"post_id":70128653,"comment_id":123967703,"body_markdown":"You have messed up your indentation, and now you are printing the size *within* the for loop.","body":"You have messed up your indentation, and now you are printing the size <i>within</i> the for loop."},{"owner":{"account_id":22761603,"reputation":21,"user_id":16920336,"display_name":"potstickerNut"},"score":0,"creation_date":1637951976,"post_id":70128653,"comment_id":123967822,"body_markdown":"Thank you, I didn&#39;t realize I was still in the for loop.","body":"Thank you, I didn&#39;t realize I was still in the for loop."}],"answers":[{"tags":[],"owner":{"account_id":13091561,"reputation":962,"user_id":9458852,"display_name":"amarildo.xyz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637951860,"creation_date":1637951288,"answer_id":70128681,"question_id":70128653,"body_markdown":"Move size printing and portion calculation outside the loop, like this:\r\n\r\n    public static void plusMinus(List&lt;Integer&gt; arr) {\r\n        int plus = 0;\r\n        int minus = 0;\r\n        int zero = 0;\r\n    \r\n        for (int i = 0; i &lt; arr.size(); ++i) {\r\n            if (i == 0) {\r\n                zero++;\r\n            } else if (i &lt; 0) {\r\n                minus++;\r\n            } else if (i &gt; 0) {\r\n                plus++;\r\n            }\r\n        }\r\n        //calculate portions\r\n        double plusPortion = plus / arr.size();\r\n        double minusPortion = minus / arr.size();\r\n        double zeroPortion = zero / arr.size();\r\n        //log results\r\n        System.out.println(&quot;Array size:&quot; + arr.size());\r\n        //System.out.println(plusPortion);\r\n        //System.out.println(minusPortion);\r\n        //System.out.println(zeroPortion);   \r\n    }\r\n\r\nYou need to make &#39;calculations&#39; in the for loop, then print the results. In the code you posted, you were printing results for each step/element of the list.","title":"size() is printing multiple times","body":"<p>Move size printing and portion calculation outside the loop, like this:</p>\n<pre><code>public static void plusMinus(List&lt;Integer&gt; arr) {\n    int plus = 0;\n    int minus = 0;\n    int zero = 0;\n\n    for (int i = 0; i &lt; arr.size(); ++i) {\n        if (i == 0) {\n            zero++;\n        } else if (i &lt; 0) {\n            minus++;\n        } else if (i &gt; 0) {\n            plus++;\n        }\n    }\n    //calculate portions\n    double plusPortion = plus / arr.size();\n    double minusPortion = minus / arr.size();\n    double zeroPortion = zero / arr.size();\n    //log results\n    System.out.println(&quot;Array size:&quot; + arr.size());\n    //System.out.println(plusPortion);\n    //System.out.println(minusPortion);\n    //System.out.println(zeroPortion);   \n}\n</code></pre>\n<p>You need to make 'calculations' in the for loop, then print the results. In the code you posted, you were printing results for each step/element of the list.</p>\n"}],"owner":{"account_id":22761603,"reputation":21,"user_id":16920336,"display_name":"potstickerNut"},"comment_count":5,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1637957884,"accepted_answer_id":70128681,"answer_count":1,"score":-3,"last_activity_date":1637951860,"creation_date":1637951032,"question_id":70128653,"body_markdown":"I am trying to figure out why the arr.size() is printing multiple times (the same number as the size).\r\n\r\nI&#39;m supposed to take an array and state, to an accuracy of 6 decimal places, what portion of the array is positive, negative, or zero. But, I can&#39;t seem to get past the multiple lines printing.\r\n\r\n```\r\nclass Result {\r\n\r\n    public static void plusMinus(List&lt;Integer&gt; arr) {\r\n        int plus = 0;\r\n        int minus = 0;\r\n        int zero = 0;\r\n    \r\n        for (int i = 0; i &lt; arr.size(); ++i) {\r\n            if (i == 0) {\r\n                zero++;\r\n            } else if (i &lt; 0) {\r\n                minus++;\r\n            } else if (i &gt; 0) {\r\n                plus++;\r\n            }\r\n        \r\n        double plusPortion = plus / arr.size();\r\n        double minusPortion = minus / arr.size();\r\n        double zeroPortion = zero / arr.size();\r\n        \r\n        System.out.println(arr.size());\r\n        //System.out.println(plusPortion);\r\n        //System.out.println(minusPortion);\r\n        //System.out.println(zeroPortion);\r\n        }\r\n        \r\n        \r\n    }\r\n\r\n}\r\n\r\npublic class Solution {\r\n    public static void main(String[] args) throws IOException {\r\n        BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(System.in));\r\n\r\n        int n = Integer.parseInt(bufferedReader.readLine().trim());\r\n\r\n        List&lt;Integer&gt; arr = Stream.of(bufferedReader.readLine().replaceAll(&quot;\\\\s+$&quot;, &quot;&quot;).split(&quot; &quot;))\r\n            .map(Integer::parseInt)\r\n            .collect(toList());\r\n\r\n        Result.plusMinus(arr);\r\n\r\n        bufferedReader.close();\r\n    }\r\n}\r\n```\r\n\r\nThe Solution class was provided as part of the challenge.","title":"size() is printing multiple times","body":"<p>I am trying to figure out why the arr.size() is printing multiple times (the same number as the size).</p>\n<p>I'm supposed to take an array and state, to an accuracy of 6 decimal places, what portion of the array is positive, negative, or zero. But, I can't seem to get past the multiple lines printing.</p>\n<pre><code>class Result {\n\n    public static void plusMinus(List&lt;Integer&gt; arr) {\n        int plus = 0;\n        int minus = 0;\n        int zero = 0;\n    \n        for (int i = 0; i &lt; arr.size(); ++i) {\n            if (i == 0) {\n                zero++;\n            } else if (i &lt; 0) {\n                minus++;\n            } else if (i &gt; 0) {\n                plus++;\n            }\n        \n        double plusPortion = plus / arr.size();\n        double minusPortion = minus / arr.size();\n        double zeroPortion = zero / arr.size();\n        \n        System.out.println(arr.size());\n        //System.out.println(plusPortion);\n        //System.out.println(minusPortion);\n        //System.out.println(zeroPortion);\n        }\n        \n        \n    }\n\n}\n\npublic class Solution {\n    public static void main(String[] args) throws IOException {\n        BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(System.in));\n\n        int n = Integer.parseInt(bufferedReader.readLine().trim());\n\n        List&lt;Integer&gt; arr = Stream.of(bufferedReader.readLine().replaceAll(&quot;\\\\s+$&quot;, &quot;&quot;).split(&quot; &quot;))\n            .map(Integer::parseInt)\n            .collect(toList());\n\n        Result.plusMinus(arr);\n\n        bufferedReader.close();\n    }\n}\n</code></pre>\n<p>The Solution class was provided as part of the challenge.</p>\n"},{"tags":["java","couchbase","spring-data-couchbase"],"comments":[{"owner":{"account_id":303087,"reputation":8621,"user_id":611819,"accept_rate":100,"display_name":"dnault"},"score":1,"creation_date":1638390662,"post_id":70128637,"comment_id":124078708,"body_markdown":"This is a common feature request, tracked as [MB-35297](https://issues.couchbase.com/browse/MB-35297) (currently targeting the &quot;Morpheus&quot; release, which will probably be 7.2). In the meantime you could use a [View](https://docs.couchbase.com/server/current/learn/views/views-intro.html), but that would just create a different kind of index and would still use space on your server.","body":"This is a common feature request, tracked as <a href=\"https://issues.couchbase.com/browse/MB-35297\" rel=\"nofollow noreferrer\">MB-35297</a> (currently targeting the &quot;Morpheus&quot; release, which will probably be 7.2). In the meantime you could use a <a href=\"https://docs.couchbase.com/server/current/learn/views/views-intro.html\" rel=\"nofollow noreferrer\">View</a>, but that would just create a different kind of index and would still use space on your server."},{"owner":{"account_id":1729017,"reputation":1654,"user_id":1610553,"display_name":"bernard paulus"},"score":0,"creation_date":1638434831,"post_id":70128637,"comment_id":124088477,"body_markdown":"Hello @dnault - thank you for your answer, good to know that it&#39;s coming! On my side, I&#39;m considering the following workaround: what about making a REST call to `${lb_in_front_of_couchbase}/pools/default/buckets/Entity/docs?skip=0&amp;include_docs=true&amp;limit=100&amp;startkey=&quot;Address%3A%3A1000&quot;&amp;endkey=&quot;Address%3A%3A2000&quot;`? That seems to work","body":"Hello @dnault - thank you for your answer, good to know that it&#39;s coming! On my side, I&#39;m considering the following workaround: what about making a REST call to <code>${lb_in_front_of_couchbase}&#47;pools&#47;default&#47;buckets&#47;Entity&#47;doc&zwnj;&#8203;s?skip=0&amp;include_doc&zwnj;&#8203;s=true&amp;limit=100&amp;sta&zwnj;&#8203;rtkey=&quot;Address%3A%3A&zwnj;&#8203;1000&quot;&amp;endkey=&quot;Addres&zwnj;&#8203;s%3A%3A2000&quot;</code>? That seems to work"},{"owner":{"account_id":303087,"reputation":8621,"user_id":611819,"accept_rate":100,"display_name":"dnault"},"score":1,"creation_date":1638477292,"post_id":70128637,"comment_id":124105848,"body_markdown":"Hi! I don&#39;t believe that&#39;s a supported API, but if you can accept the risk the API might change or be removed, then go ahead. For what it&#39;s worth, it looks like the API hasn&#39;t changed since at least 2017, if [this forum post](https://forums.couchbase.com/t/is-it-possible-to-select-data-by-key-pattern-without-adding-extra-index/14695) is any indication.","body":"Hi! I don&#39;t believe that&#39;s a supported API, but if you can accept the risk the API might change or be removed, then go ahead. For what it&#39;s worth, it looks like the API hasn&#39;t changed since at least 2017, if <a href=\"https://forums.couchbase.com/t/is-it-possible-to-select-data-by-key-pattern-without-adding-extra-index/14695\" rel=\"nofollow noreferrer\">this forum post</a> is any indication."},{"owner":{"account_id":1729017,"reputation":1654,"user_id":1610553,"display_name":"bernard paulus"},"score":0,"creation_date":1638479869,"post_id":70128637,"comment_id":124106732,"body_markdown":"Dear @dnault, copy-paste your comments in an answer and I&#39;ll gladly accept it! Thanks a lot","body":"Dear @dnault, copy-paste your comments in an answer and I&#39;ll gladly accept it! Thanks a lot"}],"owner":{"account_id":1729017,"reputation":1654,"user_id":1610553,"display_name":"bernard paulus"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637950924,"creation_date":1637950924,"question_id":70128637,"body_markdown":"Using the couchbase SDK or spring data couchbase, is there a way to look up documents in a [low, high] range of ids, without using an index?\r\n\r\nIn more details, I have a bucket with document ids structured in the [standard](https://blog.couchbase.com/key-pattern-delimiter-in-couchbase/) `${entityType}::${id}` format, and I would like to get all documents in a certain [low, high] range of ids.\r\n\r\nFor instance, for the Address entity type, I would like to get all Address documents whose ids are between 1000 and 2000, inclusive. Given only Address::1234, Address::1567 and Address::2222 are in my bucket, only the two first documents should be returned.\r\n\r\nI would expect that it is possible since it seems possible in the GUI\r\n[![Bucket &gt; Documents - show range][1]][1]\r\nbut I can&#39;t seem to find how.\r\n\r\nLastly, I don&#39;t want to use indexes because\r\n1. I&#39;m using couchbase community and [index replicas are only available in the enterprise edition](https://docs.couchbase.com/server/current/n1ql/n1ql-language-reference/createindex.html), which makes manually duplicating them and managing them a pain\r\n2. I&#39;m trying to save space on my couchbase server\r\n\r\nCouchbase SDK version: 3+, using java\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZcrP8.png","title":"Couchbase Java SDK: look up a range of document keys","body":"<p>Using the couchbase SDK or spring data couchbase, is there a way to look up documents in a [low, high] range of ids, without using an index?</p>\n<p>In more details, I have a bucket with document ids structured in the <a href=\"https://blog.couchbase.com/key-pattern-delimiter-in-couchbase/\" rel=\"nofollow noreferrer\">standard</a> <code>${entityType}::${id}</code> format, and I would like to get all documents in a certain [low, high] range of ids.</p>\n<p>For instance, for the Address entity type, I would like to get all Address documents whose ids are between 1000 and 2000, inclusive. Given only Address::1234, Address::1567 and Address::2222 are in my bucket, only the two first documents should be returned.</p>\n<p>I would expect that it is possible since it seems possible in the GUI\n<a href=\"https://i.stack.imgur.com/ZcrP8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZcrP8.png\" alt=\"Bucket &gt; Documents - show range\" /></a>\nbut I can't seem to find how.</p>\n<p>Lastly, I don't want to use indexes because</p>\n<ol>\n<li>I'm using couchbase community and <a href=\"https://docs.couchbase.com/server/current/n1ql/n1ql-language-reference/createindex.html\" rel=\"nofollow noreferrer\">index replicas are only available in the enterprise edition</a>, which makes manually duplicating them and managing them a pain</li>\n<li>I'm trying to save space on my couchbase server</li>\n</ol>\n<p>Couchbase SDK version: 3+, using java</p>\n"},{"tags":["java","eclipse","git"],"comments":[{"owner":{"account_id":1376086,"reputation":824,"user_id":1310063,"display_name":"Gambotic"},"score":0,"creation_date":1523891136,"post_id":49859734,"comment_id":86736096,"body_markdown":"you should provide a concrete Stack Trace (open Error Log, double click on a Message and c&amp;p)","body":"you should provide a concrete Stack Trace (open Error Log, double click on a Message and c&amp;p)"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1523892236,"post_id":49859734,"comment_id":86736913,"body_markdown":"See https://bugs.eclipse.org/bugs/show_bug.cgi?id=417860#c3","body":"See <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=417860#c3\" rel=\"nofollow noreferrer\">bugs.eclipse.org/bugs/show_bug.cgi?id=417860#c3</a>"},{"owner":{"account_id":12812137,"reputation":251,"user_id":9269932,"display_name":"dabezt"},"score":0,"creation_date":1523892286,"post_id":49859734,"comment_id":86736962,"body_markdown":"This is all when i try and pull in egit so it doesnt update the error log. I am not sure where to find any sort of error message to help out","body":"This is all when i try and pull in egit so it doesnt update the error log. I am not sure where to find any sort of error message to help out"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1523892534,"post_id":49859734,"comment_id":86737138,"body_markdown":"[_&quot;Check if you have any &quot;&lt;refname&gt;.lock&quot; file under .git/refs/&quot;_](https://bugs.eclipse.org/bugs/show_bug.cgi?id=417860#c3). Which EGit version do you use? The current version is 4.11 (update site: `http://download.eclipse.org/egit/updates`).","body":"<a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=417860#c3\" rel=\"nofollow noreferrer\"><i>&quot;Check if you have any &quot;&lt;refname&gt;.lock&quot; file under .git/refs/&quot;</i></a>. Which EGit version do you use? The current version is 4.11 (update site: <code>http:&#47;&#47;download.eclipse.org&#47;egit&#47;updates</code>)."},{"owner":{"account_id":12812137,"reputation":251,"user_id":9269932,"display_name":"dabezt"},"score":1,"creation_date":1523893178,"post_id":49859734,"comment_id":86737539,"body_markdown":"Git is updated and there is a lockfile under eclipse -&gt; workspace -&gt; .metadata. but every time i delete it and reboot eclipse it just comes back.","body":"Git is updated and there is a lockfile under eclipse -&gt; workspace -&gt; .metadata. but every time i delete it and reboot eclipse it just comes back."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1523949688,"post_id":49859734,"comment_id":86759391,"body_markdown":"You have to search for lock files in the `git/refs` folder in your Git repository folder, not in the workspace `.metadata` folder (which also contains a lock file but for other purposes).","body":"You have to search for lock files in the <code>git&#47;refs</code> folder in your Git repository folder, not in the workspace <code>.metadata</code> folder (which also contains a lock file but for other purposes)."}],"answers":[{"tags":[],"owner":{"account_id":6532574,"reputation":2212,"user_id":5053266,"accept_rate":67,"display_name":"RotS"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1530103238,"creation_date":1530088329,"answer_id":51058122,"question_id":49859734,"body_markdown":"I could neither fetch nor push nor rebase, and got a &quot;lock fail&quot; error in eclipse too.\r\n\r\nThe solution I found was to open git bash, go to git folder, then do a `git fetch`. After this I was able to rebase and push with eclipse.\r\n\r\nYou can also check in your eclipse preferences/team/git/configuration that you have not set `fetch.prune=true` because it may cause this problem.","title":"egit lock fail eclipse","body":"<p>I could neither fetch nor push nor rebase, and got a \"lock fail\" error in eclipse too.</p>\n\n<p>The solution I found was to open git bash, go to git folder, then do a <code>git fetch</code>. After this I was able to rebase and push with eclipse.</p>\n\n<p>You can also check in your eclipse preferences/team/git/configuration that you have not set <code>fetch.prune=true</code> because it may cause this problem.</p>\n"},{"tags":[],"owner":{"account_id":6141709,"reputation":1016,"user_id":4788928,"display_name":"Jeff Bennett"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1563314095,"creation_date":1563314095,"answer_id":57065952,"question_id":49859734,"body_markdown":"I&#39;ve seen this a couple times in Eclipse 2019-06 now.  Possibly related to tag-creation as it seems to have occurred recently after those events.  In any event, I think if you close Eclipse, and delete eclipse-workspace/.metadata/.lock file (and possibly eclipse-workspace/.metadata/.log) it gets better on restart.","title":"egit lock fail eclipse","body":"<p>I've seen this a couple times in Eclipse 2019-06 now.  Possibly related to tag-creation as it seems to have occurred recently after those events.  In any event, I think if you close Eclipse, and delete eclipse-workspace/.metadata/.lock file (and possibly eclipse-workspace/.metadata/.log) it gets better on restart.</p>\n"},{"tags":[],"owner":{"account_id":6848221,"reputation":303,"user_id":5266245,"display_name":"Arash Kamangir"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1563447331,"creation_date":1563447331,"answer_id":57092900,"question_id":49859734,"body_markdown":"    git remote prune origin\r\nsolved it for me.","title":"egit lock fail eclipse","body":"<pre><code>git remote prune origin\n</code></pre>\n\n<p>solved it for me.</p>\n"},{"tags":[],"owner":{"account_id":9056602,"reputation":59,"user_id":6744690,"display_name":"Taha"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1571537030,"creation_date":1571499789,"answer_id":58465314,"question_id":49859734,"body_markdown":"The issue for me was that I had a bunch of branches that I had pulled as `feature/somename` but when I pushed it to `remote`, they appeared as `Feature/somename`. Once I solved this `f` to `F` issue, things started working as expected. \r\n\r\n\r\n----------\r\n## Prune using EGIT ##\r\n\r\nAlso, if you want to `prune` the repository, you should use GIT GC in order to achieve this. EGIT has an option called `Collect Garbage` to trigger this. Simply, right click on the repository in the EGIT perspective to see this option.","title":"egit lock fail eclipse","body":"<p>The issue for me was that I had a bunch of branches that I had pulled as <code>feature/somename</code> but when I pushed it to <code>remote</code>, they appeared as <code>Feature/somename</code>. Once I solved this <code>f</code> to <code>F</code> issue, things started working as expected. </p>\n\n<hr>\n\n<h2>Prune using EGIT</h2>\n\n<p>Also, if you want to <code>prune</code> the repository, you should use GIT GC in order to achieve this. EGIT has an option called <code>Collect Garbage</code> to trigger this. Simply, right click on the repository in the EGIT perspective to see this option.</p>\n"},{"tags":[],"owner":{"account_id":1644869,"reputation":216,"user_id":1516571,"display_name":"M Kaweepatt Churcharoen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1572589668,"creation_date":1572589668,"answer_id":58654994,"question_id":49859734,"body_markdown":"For me, I encountered the lock fail problem in tags, so I do following steps:\r\n\r\n1. Reset current branch\r\n2. Delete all local tags.\r\n3. Fetch\r\n4. Pull.\r\nIt solves the problem.","title":"egit lock fail eclipse","body":"<p>For me, I encountered the lock fail problem in tags, so I do following steps:</p>\n\n<ol>\n<li>Reset current branch</li>\n<li>Delete all local tags.</li>\n<li>Fetch</li>\n<li>Pull.\nIt solves the problem.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":413997,"reputation":434,"user_id":787971,"accept_rate":12,"display_name":"David Wood"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1582292308,"creation_date":1582241156,"answer_id":60330035,"question_id":49859734,"body_markdown":"I used Arash&#39;s \r\n\r\n    git remote prune origin\r\n\r\nBut this left me with a situation in which an egit pull put me way ahead of the remote/origin. An egit or git push brought be back in sync, but then the next egit pull put me ahead again.   To fix that, I tried various thing including Resetting the repo, but to no avail.  This is probably similar to starting with a new workspace, but in my case that was not an option.  The following seems to have worked:\r\n\r\n 1. Make sure you have pushed all changes to the remote repo.\r\n 2. In the Project Explorer view, delete all projects that have been imported into eclipse from the repository in question. Don&#39;t delete files in the file system (check box in dialog box that pops).\r\n 3. In the Repositories view, right click on repository and Remove Repository From\r\n    View \r\n 4. At the command line. move or delete the root of the git repo.\r\n 5. Back to Eclipse and add the repository (in the Repository View, paste the URL/ssh link as copied from github).\r\n 6. Re-import the desired projects into Eclipse by right-clicking on the repo and selecting Import Projects...\r\n\r\nUgly but does the trick.","title":"egit lock fail eclipse","body":"<p>I used Arash's </p>\n\n<pre><code>git remote prune origin\n</code></pre>\n\n<p>But this left me with a situation in which an egit pull put me way ahead of the remote/origin. An egit or git push brought be back in sync, but then the next egit pull put me ahead again.   To fix that, I tried various thing including Resetting the repo, but to no avail.  This is probably similar to starting with a new workspace, but in my case that was not an option.  The following seems to have worked:</p>\n\n<ol>\n<li>Make sure you have pushed all changes to the remote repo.</li>\n<li>In the Project Explorer view, delete all projects that have been imported into eclipse from the repository in question. Don't delete files in the file system (check box in dialog box that pops).</li>\n<li>In the Repositories view, right click on repository and Remove Repository From\nView </li>\n<li>At the command line. move or delete the root of the git repo.</li>\n<li>Back to Eclipse and add the repository (in the Repository View, paste the URL/ssh link as copied from github).</li>\n<li>Re-import the desired projects into Eclipse by right-clicking on the repo and selecting Import Projects...</li>\n</ol>\n\n<p>Ugly but does the trick.</p>\n"},{"tags":[],"owner":{"account_id":1515815,"reputation":155,"user_id":1416845,"accept_rate":50,"display_name":"pierreonthenet"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1594055115,"creation_date":1594055115,"answer_id":62761016,"question_id":49859734,"body_markdown":"For the others : I had this error too, and that was because I had 2 branches on the repo with similar names (&quot;v10&quot; and &quot;V10&quot;).\r\nI fixed it by &quot;renaming&quot; the repo branch &quot;V10&quot; (i.e. creating another &quot;V10b&quot; from &quot;V10&quot;, then deleting &quot;V10&quot;).","title":"egit lock fail eclipse","body":"<p>For the others : I had this error too, and that was because I had 2 branches on the repo with similar names (&quot;v10&quot; and &quot;V10&quot;).\nI fixed it by &quot;renaming&quot; the repo branch &quot;V10&quot; (i.e. creating another &quot;V10b&quot; from &quot;V10&quot;, then deleting &quot;V10&quot;).</p>\n"},{"tags":[],"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626443691,"creation_date":1626443691,"answer_id":68410278,"question_id":49859734,"body_markdown":"I&#39;ve seen this happen in Windows, because the underlying DOS filesystem is case-insensitive, although git is not.  When git writes a file named &quot;foo&quot;, Windows thinks that the attempt to write the file &quot;Foo&quot; is writing to the same file.  I don&#39;t know the exact mechanism that creates the &quot;lock fail&quot; error, but I assume it is something like this.\r\n\r\nI wrote a script to detect this situation.  Our SCM is BitBucket, which has a REST api.  I use the &quot;projects/repos/branches&quot; endpoint in a loop to get all the branches from a repository, execute the following pseudocode:\r\n\r\n    echo $list | tr &#39;[:upper:]&#39; &#39;[:lower:]&#39; | sort | uniq -d\r\n\r\nThe result is a list of the branch names, converted to lowercase, that have two or more versions, varying by case.","title":"egit lock fail eclipse","body":"<p>I've seen this happen in Windows, because the underlying DOS filesystem is case-insensitive, although git is not.  When git writes a file named &quot;foo&quot;, Windows thinks that the attempt to write the file &quot;Foo&quot; is writing to the same file.  I don't know the exact mechanism that creates the &quot;lock fail&quot; error, but I assume it is something like this.</p>\n<p>I wrote a script to detect this situation.  Our SCM is BitBucket, which has a REST api.  I use the &quot;projects/repos/branches&quot; endpoint in a loop to get all the branches from a repository, execute the following pseudocode:</p>\n<pre><code>echo $list | tr '[:upper:]' '[:lower:]' | sort | uniq -d\n</code></pre>\n<p>The result is a list of the branch names, converted to lowercase, that have two or more versions, varying by case.</p>\n"},{"tags":[],"owner":{"account_id":6440797,"reputation":3488,"user_id":4990883,"accept_rate":60,"display_name":"Amirouche Zeggagh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1626945038,"creation_date":1626945038,"answer_id":68482152,"question_id":49859734,"body_markdown":"in eclipse right Click in Project \r\n\r\n - team &gt;remote&gt; Configure fetch for Upstream&gt;\r\n - Advanced&gt; selecte in ‘source ref’ and ‘destination ref’ your branch\r\n - Click ‘Add Spec’\r\n - Check the Force update&gt; Finish &gt;Save and Fetch\r\n","title":"egit lock fail eclipse","body":"<p>in eclipse right Click in Project</p>\n<ul>\n<li>team &gt;remote&gt; Configure fetch for Upstream&gt;</li>\n<li>Advanced&gt; selecte in ‘source ref’ and ‘destination ref’ your branch</li>\n<li>Click ‘Add Spec’</li>\n<li>Check the Force update&gt; Finish &gt;Save and Fetch</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":20317523,"reputation":51,"user_id":14903055,"display_name":"Francisco Cunha"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1637950676,"creation_date":1637950676,"answer_id":70128600,"question_id":49859734,"body_markdown":"It&#180;s simple.\r\n\r\n1 - Close Eclipse IDE; \r\n2 - Go to the project directory; \r\n3 - Type: `git pull`; \r\n4 - Type: `git gc`; \r\n5 - Reopen the Eclipse IDE; \r\n6 - Pulling the project;\r\n\r\nAlways works for me!\r\n","title":"egit lock fail eclipse","body":"<p>It´s simple.</p>\n<p>1 - Close Eclipse IDE;\n2 - Go to the project directory;\n3 - Type: <code>git pull</code>;\n4 - Type: <code>git gc</code>;\n5 - Reopen the Eclipse IDE;\n6 - Pulling the project;</p>\n<p>Always works for me!</p>\n"}],"owner":{"account_id":12812137,"reputation":251,"user_id":9269932,"display_name":"dabezt"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49384,"favorite_count":0,"down_vote_count":1,"up_vote_count":25,"answer_count":10,"score":24,"last_activity_date":1637950676,"creation_date":1523888755,"question_id":49859734,"body_markdown":"So at work we all share the same stash were we push and pull our branches and all that good git stuff. So i usually do my pull and push from egit in eclipse (I am not the only one most people here do it this way). but some of my branches have started giving me the [lock fail] &quot;couldn&#39;t lock local tracking ref for update&quot;. But the thing is there are 75+ people doing it the same way and no one has seen this error. I have done some research and most of it says it is based off name conflicts for example Foo and foo. Egit would get confused on which one to pull because the only difference is a capital letter, but other people are having no issues. I don&#39;t know what is going on. Any help would be greatly appreciated.\r\n\r\n","title":"egit lock fail eclipse","body":"<p>So at work we all share the same stash were we push and pull our branches and all that good git stuff. So i usually do my pull and push from egit in eclipse (I am not the only one most people here do it this way). but some of my branches have started giving me the [lock fail] \"couldn't lock local tracking ref for update\". But the thing is there are 75+ people doing it the same way and no one has seen this error. I have done some research and most of it says it is based off name conflicts for example Foo and foo. Egit would get confused on which one to pull because the only difference is a capital letter, but other people are having no issues. I don't know what is going on. Any help would be greatly appreciated.</p>\n"},{"tags":["java","lambda","java-stream"],"comments":[{"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"score":1,"creation_date":1637932144,"post_id":70124845,"comment_id":123961191,"body_markdown":"Don&#39;t force yourself to write lambda, just use normal code with for loop and we can convert to lambda later.","body":"Don&#39;t force yourself to write lambda, just use normal code with for loop and we can convert to lambda later."},{"owner":{"account_id":21094536,"reputation":95,"user_id":15505795,"display_name":"Romeu Fernandes Bessa"},"score":0,"creation_date":1637932229,"post_id":70124845,"comment_id":123961231,"body_markdown":"@huy So I tried to do it without lambda, but it didn&#39;t work...","body":"@huy So I tried to do it without lambda, but it didn&#39;t work..."},{"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"score":1,"creation_date":1637932303,"post_id":70124845,"comment_id":123961256,"body_markdown":"i don&#39;t see your code to convert from select to expected data.","body":"i don&#39;t see your code to convert from select to expected data."},{"owner":{"account_id":13721821,"reputation":1820,"user_id":9901515,"display_name":"csalmhof"},"score":0,"creation_date":1637933147,"post_id":70124845,"comment_id":123961595,"body_markdown":"How does your select look like?","body":"How does your select look like?"},{"owner":{"account_id":21094536,"reputation":95,"user_id":15505795,"display_name":"Romeu Fernandes Bessa"},"score":0,"creation_date":1637933388,"post_id":70124845,"comment_id":123961693,"body_markdown":"it&#39;s a procedure that I perform, and when I set the values, I set the way I&#39;m going to post in the question","body":"it&#39;s a procedure that I perform, and when I set the values, I set the way I&#39;m going to post in the question"}],"answers":[{"tags":[],"owner":{"account_id":13721821,"reputation":1820,"user_id":9901515,"display_name":"csalmhof"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637950269,"creation_date":1637947426,"answer_id":70128033,"question_id":70124845,"body_markdown":"I&#39;ll give it a try. \r\n\r\n&gt; **WARNING** | Beware that this is only a POC and not good readable code.\r\n\r\nWhat you need is a method, that takes a `List&lt;QuestionEventDTO&gt;` and transforms it to another `List&lt;QuestionEventDTO&gt;`.\r\n\r\nIt is possible to do it with streams and nested streams in the map-methods.\r\n\r\nHere is the steps this streams will take:\r\n\r\n---\r\n1. Group the `QuestionDTO` by the ID of the `QuestionEventDTO`&#39;s\r\n   * Input: `List&lt;QuestionEventDTO&gt;`\r\n   * Output: `Map&lt;Long, List&lt;QuestionEventDTO&gt;&gt;`\r\n2. Transform the grouped Lists to `Map&lt;Long, List&lt;QuestionDTO&gt;`\r\n   * Input: `Map&lt;Long, List&lt;QuestionEventDTO&gt;&gt;`\r\n   * Output: `Map&lt;Long, Map&lt;Long, List&lt;QuestionDTO&gt;&gt;&gt;`\r\n3. Transform the grouped `QuestionDTO` to a `Map&lt;Long, OptionDTO&gt;`\r\n   * Input: `Map&lt;Long, Map&lt;Long, List&lt;QuestionDTO&gt;&gt;&gt;`\r\n   * Output: `Map&lt;Long, Map&lt;Long, Map&lt;Long, OptionDTO&gt;&gt;&gt;`\r\n---\r\n4. Transform the grouped objects to new `QuestionEventDTO` where the Lists are filled.\r\n\r\n---\r\nHere is what the code would look like (heavy usage of `Collectors.groupingBy` and `Collectors.toMap`):\r\n\r\n```java\r\nprivate static List&lt;QuestionEventDTO&gt; transform(List&lt;QuestionEventDTO&gt; events) {\r\n  //Step1\r\n  Map&lt;Long, List&lt;QuestionEventDTO&gt;&gt; groupedByQuestionEventId = events.stream()\r\n      .collect(Collectors.groupingBy(QuestionEventDTO::getId));\r\n  \r\n  //Step 2\r\n  Map&lt;Long, Map&lt;Long, List&lt;QuestionDTO&gt;&gt;&gt; alsoGroupedQuestionID = groupedByQuestionEventId\r\n      .entrySet().stream()\r\n      .collect(Collectors.toMap(Map.Entry::getKey,\r\n          e -&gt; e.getValue().stream()\r\n              .map(v -&gt; v.getQuestion())\r\n              .collect(Collectors.groupingBy(QuestionDTO::getId)))\r\n      );\r\n\r\n  //Step 3\r\n  Map&lt;Long, Map&lt;Long, Map&lt;Long, OptionDTO&gt;&gt;&gt; alsoGroupedByOptionID = alsoGroupedQuestionID\r\n      .entrySet().stream()\r\n      .collect(Collectors.toMap(Map.Entry::getKey,\r\n          e -&gt; e.getValue()\r\n              .entrySet().stream()\r\n              .collect(Collectors.toMap(Map.Entry::getKey,\r\n                  v -&gt; v.getValue().stream()\r\n                      .map(QuestionDTO::getOption)\r\n                      .collect(Collectors.toMap(OptionDTO::getId, t -&gt; t))))));\r\n\r\n  //Step 4\r\n  List&lt;QuestionEventDTO&gt; transformedBack = alsoGroupedByOptionID.entrySet().stream()\r\n      .map(e -&gt; {\r\n        QuestionEventDTO eventDTO = new QuestionEventDTO();\r\n        eventDTO.setId(e.getKey());\r\n\r\n        List&lt;QuestionDTO&gt; questions = e.getValue().entrySet().stream()\r\n            .map(q -&gt; {\r\n              QuestionDTO questionDTO = new QuestionDTO();\r\n              questionDTO.setId(q.getKey());\r\n              questionDTO.setOptions(new ArrayList&lt;&gt;(q.getValue().values()));\r\n              return questionDTO;\r\n            }).collect(Collectors.toList());\r\n\r\n        eventDTO.setQuestions(questions);\r\n        return eventDTO;\r\n      })\r\n      .collect(Collectors.toList());\r\n\r\n  return transformedBack;\r\n}\r\n```\r\nOf course you don&#39;t need the variables for each step and you also could combine step 2 and 3. Then the code would look like this (not very readable):\r\n\r\n```java\r\nprivate static List&lt;QuestionEventDTO&gt; transformShorter(List&lt;QuestionEventDTO&gt; events) {\r\n  return events.stream()\r\n      .collect(Collectors.groupingBy(QuestionEventDTO::getId))\r\n      .entrySet().stream()\r\n      .collect(Collectors.toMap(Map.Entry::getKey,\r\n          e -&gt; e.getValue().stream()\r\n              .map(QuestionEventDTO::getQuestion)\r\n              .collect(Collectors.groupingBy(QuestionDTO::getId))\r\n              .entrySet().stream()\r\n              .collect(Collectors.toMap(Map.Entry::getKey, \r\n                  q -&gt; q.getValue().stream()\r\n                      .map(QuestionDTO::getOption)\r\n                      .collect(Collectors.toList()))))\r\n      )\r\n      .entrySet().stream()\r\n      .map(e -&gt; {\r\n        QuestionEventDTO eventDTO = new QuestionEventDTO();\r\n        eventDTO.setId(e.getKey());\r\n\r\n        List&lt;QuestionDTO&gt; questions = e.getValue().entrySet().stream()\r\n            .map(q -&gt; {\r\n              QuestionDTO questionDTO = new QuestionDTO();\r\n              questionDTO.setId(q.getKey());\r\n              questionDTO.setOptions(q.getValue());\r\n              return questionDTO;\r\n            }).collect(Collectors.toList());\r\n\r\n        eventDTO.setQuestions(questions);\r\n        return eventDTO;\r\n      })\r\n      .collect(Collectors.toList());\r\n}\r\n```\r\n","title":"Grouping objects to list using lambda","body":"<p>I'll give it a try.</p>\n<blockquote>\n<p><strong>WARNING</strong> | Beware that this is only a POC and not good readable code.</p>\n</blockquote>\n<p>What you need is a method, that takes a <code>List&lt;QuestionEventDTO&gt;</code> and transforms it to another <code>List&lt;QuestionEventDTO&gt;</code>.</p>\n<p>It is possible to do it with streams and nested streams in the map-methods.</p>\n<p>Here is the steps this streams will take:</p>\n<hr />\n<ol>\n<li>Group the <code>QuestionDTO</code> by the ID of the <code>QuestionEventDTO</code>'s\n<ul>\n<li>Input: <code>List&lt;QuestionEventDTO&gt;</code></li>\n<li>Output: <code>Map&lt;Long, List&lt;QuestionEventDTO&gt;&gt;</code></li>\n</ul>\n</li>\n<li>Transform the grouped Lists to <code>Map&lt;Long, List&lt;QuestionDTO&gt;</code>\n<ul>\n<li>Input: <code>Map&lt;Long, List&lt;QuestionEventDTO&gt;&gt;</code></li>\n<li>Output: <code>Map&lt;Long, Map&lt;Long, List&lt;QuestionDTO&gt;&gt;&gt;</code></li>\n</ul>\n</li>\n<li>Transform the grouped <code>QuestionDTO</code> to a <code>Map&lt;Long, OptionDTO&gt;</code>\n<ul>\n<li>Input: <code>Map&lt;Long, Map&lt;Long, List&lt;QuestionDTO&gt;&gt;&gt;</code></li>\n<li>Output: <code>Map&lt;Long, Map&lt;Long, Map&lt;Long, OptionDTO&gt;&gt;&gt;</code></li>\n</ul>\n</li>\n</ol>\n<hr />\n<ol start=\"4\">\n<li>Transform the grouped objects to new <code>QuestionEventDTO</code> where the Lists are filled.</li>\n</ol>\n<hr />\n<p>Here is what the code would look like (heavy usage of <code>Collectors.groupingBy</code> and <code>Collectors.toMap</code>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static List&lt;QuestionEventDTO&gt; transform(List&lt;QuestionEventDTO&gt; events) {\n  //Step1\n  Map&lt;Long, List&lt;QuestionEventDTO&gt;&gt; groupedByQuestionEventId = events.stream()\n      .collect(Collectors.groupingBy(QuestionEventDTO::getId));\n  \n  //Step 2\n  Map&lt;Long, Map&lt;Long, List&lt;QuestionDTO&gt;&gt;&gt; alsoGroupedQuestionID = groupedByQuestionEventId\n      .entrySet().stream()\n      .collect(Collectors.toMap(Map.Entry::getKey,\n          e -&gt; e.getValue().stream()\n              .map(v -&gt; v.getQuestion())\n              .collect(Collectors.groupingBy(QuestionDTO::getId)))\n      );\n\n  //Step 3\n  Map&lt;Long, Map&lt;Long, Map&lt;Long, OptionDTO&gt;&gt;&gt; alsoGroupedByOptionID = alsoGroupedQuestionID\n      .entrySet().stream()\n      .collect(Collectors.toMap(Map.Entry::getKey,\n          e -&gt; e.getValue()\n              .entrySet().stream()\n              .collect(Collectors.toMap(Map.Entry::getKey,\n                  v -&gt; v.getValue().stream()\n                      .map(QuestionDTO::getOption)\n                      .collect(Collectors.toMap(OptionDTO::getId, t -&gt; t))))));\n\n  //Step 4\n  List&lt;QuestionEventDTO&gt; transformedBack = alsoGroupedByOptionID.entrySet().stream()\n      .map(e -&gt; {\n        QuestionEventDTO eventDTO = new QuestionEventDTO();\n        eventDTO.setId(e.getKey());\n\n        List&lt;QuestionDTO&gt; questions = e.getValue().entrySet().stream()\n            .map(q -&gt; {\n              QuestionDTO questionDTO = new QuestionDTO();\n              questionDTO.setId(q.getKey());\n              questionDTO.setOptions(new ArrayList&lt;&gt;(q.getValue().values()));\n              return questionDTO;\n            }).collect(Collectors.toList());\n\n        eventDTO.setQuestions(questions);\n        return eventDTO;\n      })\n      .collect(Collectors.toList());\n\n  return transformedBack;\n}\n</code></pre>\n<p>Of course you don't need the variables for each step and you also could combine step 2 and 3. Then the code would look like this (not very readable):</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static List&lt;QuestionEventDTO&gt; transformShorter(List&lt;QuestionEventDTO&gt; events) {\n  return events.stream()\n      .collect(Collectors.groupingBy(QuestionEventDTO::getId))\n      .entrySet().stream()\n      .collect(Collectors.toMap(Map.Entry::getKey,\n          e -&gt; e.getValue().stream()\n              .map(QuestionEventDTO::getQuestion)\n              .collect(Collectors.groupingBy(QuestionDTO::getId))\n              .entrySet().stream()\n              .collect(Collectors.toMap(Map.Entry::getKey, \n                  q -&gt; q.getValue().stream()\n                      .map(QuestionDTO::getOption)\n                      .collect(Collectors.toList()))))\n      )\n      .entrySet().stream()\n      .map(e -&gt; {\n        QuestionEventDTO eventDTO = new QuestionEventDTO();\n        eventDTO.setId(e.getKey());\n\n        List&lt;QuestionDTO&gt; questions = e.getValue().entrySet().stream()\n            .map(q -&gt; {\n              QuestionDTO questionDTO = new QuestionDTO();\n              questionDTO.setId(q.getKey());\n              questionDTO.setOptions(q.getValue());\n              return questionDTO;\n            }).collect(Collectors.toList());\n\n        eventDTO.setQuestions(questions);\n        return eventDTO;\n      })\n      .collect(Collectors.toList());\n}\n</code></pre>\n"}],"owner":{"account_id":21094536,"reputation":95,"user_id":15505795,"display_name":"Romeu Fernandes Bessa"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":401,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1637950269,"creation_date":1637931637,"question_id":70124845,"body_markdown":"I&#39;m having problems because my select is returning several lines of result due to an Options object that has several different options, and I needed to group this result in java.\r\n\r\n**I have the parent class which is the QuestionEventDTO:**\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class QuestionEventDTO {\r\n\t\r\n\tpublic Long id;\r\n\tpublic QuestionDTO question;\r\n    public List&lt;QuestionDTO&gt; questions;\r\n\r\n}\r\n```\r\n**And I have the daughter class:**\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class QuestionDTO {\r\n\t\r\n\tpublic Long id;\r\n\tpublic OptionDTO option;\r\n    public List&lt;OptionDTO&gt; options;\r\n\r\n}\r\n```\r\n**And I have the granddaughter class:**\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class OptionDTO {\r\n\t\r\n\tpublic Long id;\r\n\tpublic String description;\r\n\r\n}\r\n```\r\n**After hitting the procedure, I set the response fields:**\r\n```\r\npublic class QuestionEventMapper implements RowMapper&lt;QuestionEventDTO&gt; {\r\n\r\n\t@Override\r\n\tpublic QuestionEventDTO mapRow(ResultSet rs, int rowNum) throws SQLException {\r\n\t\tQuestionEventDTO dto = new QuestionEventDTO();\r\n\t\tdto.setId(rs.getLong(1));\r\n\t\tdto.setQuestion(new QuestionDTO(rs.getLong(2), new QuestionOptionDTO(rs.getLong(3), rs.getString(4)), null));\r\n\t\t\r\n\t\treturn dto;\r\n\t}\r\n\r\n}\r\n```\r\n```\r\nQuestionEventDTO [id=1, question= QuestionDTO [id=1, option= OptionDTO [id=1, description=&quot;Are you Dev?&quot;], options = []], questions =[]]\r\nQuestionEventDTO [id=1, question= QuestionDTO [id=1, option= OptionDTO [id=2, description=&quot;What&#39;s rating?&quot;], options = []], questions =[]]\r\nQuestionEventDTO [id=2, question= QuestionDTO [id=2, option= OptionDTO [id=3, description=&quot;What&#39;s your dog&#39;s name?&quot;], options = []], questions =[]]\r\nQuestionEventDTO [id=2, question= QuestionDTO [id=2, option= OptionDTO [id=4, description=&quot;Are you Dev?&quot;], options = []], questions =[]]\r\n```\r\n**But I would like it to stay like this:**\r\n```\r\nQuestionEventDTO [id=1, question= null, questions = QuestionDTO [id=1, option= null, options = [OptionDTO [id=1, description=&quot;Are you Dev?&quot;], OptionDTO [id=2, description=&quot;What&#39;s rating?&quot;]]]]\r\nQuestionEventDTO [id=2, question= null, questions = QuestionDTO [id=2, option= null, options = [OptionDTO [id=3, description=&quot;What&#39;s your dog&#39;s name?&quot;], OptionDTO [id=4, description=&quot;Are you Dev?&quot;]]]]\r\n```\r\n\r\nI don&#39;t have much experience in lambda, I would like a solution to this problem, could someone help me?","title":"Grouping objects to list using lambda","body":"<p>I'm having problems because my select is returning several lines of result due to an Options object that has several different options, and I needed to group this result in java.</p>\n<p><strong>I have the parent class which is the QuestionEventDTO:</strong></p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class QuestionEventDTO {\n    \n    public Long id;\n    public QuestionDTO question;\n    public List&lt;QuestionDTO&gt; questions;\n\n}\n</code></pre>\n<p><strong>And I have the daughter class:</strong></p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class QuestionDTO {\n    \n    public Long id;\n    public OptionDTO option;\n    public List&lt;OptionDTO&gt; options;\n\n}\n</code></pre>\n<p><strong>And I have the granddaughter class:</strong></p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class OptionDTO {\n    \n    public Long id;\n    public String description;\n\n}\n</code></pre>\n<p><strong>After hitting the procedure, I set the response fields:</strong></p>\n<pre><code>public class QuestionEventMapper implements RowMapper&lt;QuestionEventDTO&gt; {\n\n    @Override\n    public QuestionEventDTO mapRow(ResultSet rs, int rowNum) throws SQLException {\n        QuestionEventDTO dto = new QuestionEventDTO();\n        dto.setId(rs.getLong(1));\n        dto.setQuestion(new QuestionDTO(rs.getLong(2), new QuestionOptionDTO(rs.getLong(3), rs.getString(4)), null));\n        \n        return dto;\n    }\n\n}\n</code></pre>\n<pre><code>QuestionEventDTO [id=1, question= QuestionDTO [id=1, option= OptionDTO [id=1, description=&quot;Are you Dev?&quot;], options = []], questions =[]]\nQuestionEventDTO [id=1, question= QuestionDTO [id=1, option= OptionDTO [id=2, description=&quot;What's rating?&quot;], options = []], questions =[]]\nQuestionEventDTO [id=2, question= QuestionDTO [id=2, option= OptionDTO [id=3, description=&quot;What's your dog's name?&quot;], options = []], questions =[]]\nQuestionEventDTO [id=2, question= QuestionDTO [id=2, option= OptionDTO [id=4, description=&quot;Are you Dev?&quot;], options = []], questions =[]]\n</code></pre>\n<p><strong>But I would like it to stay like this:</strong></p>\n<pre><code>QuestionEventDTO [id=1, question= null, questions = QuestionDTO [id=1, option= null, options = [OptionDTO [id=1, description=&quot;Are you Dev?&quot;], OptionDTO [id=2, description=&quot;What's rating?&quot;]]]]\nQuestionEventDTO [id=2, question= null, questions = QuestionDTO [id=2, option= null, options = [OptionDTO [id=3, description=&quot;What's your dog's name?&quot;], OptionDTO [id=4, description=&quot;Are you Dev?&quot;]]]]\n</code></pre>\n<p>I don't have much experience in lambda, I would like a solution to this problem, could someone help me?</p>\n"},{"tags":["java","tomcat","jdbc","jakarta-ee","web-applications"],"comments":[{"owner":{"account_id":1370827,"reputation":1380,"user_id":1306079,"display_name":"Oliver"},"score":1,"creation_date":1637946936,"post_id":70127816,"comment_id":123966440,"body_markdown":"Isnthe Driver in your classpath? (in the pom file)","body":"Isnthe Driver in your classpath? (in the pom file)"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1637950200,"post_id":70127816,"comment_id":123967392,"body_markdown":"`java.lang.ClassNotFoundException: com.microsoft.sqlserver.jdbc.SQLServerDataSource` would suggest the driver is not on the classpath. Have you checked if it is actually included in the WEB-INF/lib of your WAR?","body":"<code>java.lang.ClassNotFoundException: com.microsoft.sqlserver.jdbc.SQLServerDataSource</code> would suggest the driver is not on the classpath. Have you checked if it is actually included in the WEB-INF/lib of your WAR?"},{"owner":{"account_id":23454940,"reputation":1,"user_id":17510588,"display_name":"Kač"},"score":0,"creation_date":1637950525,"post_id":70127816,"comment_id":123967475,"body_markdown":"@MarkRotteveel I have the library as external library (see the picture in the link)","body":"@MarkRotteveel I have the library as external library (see the picture in the link)"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1637953461,"post_id":70127816,"comment_id":123968167,"body_markdown":"If you&#39;re using Maven to build, and if you&#39;re using a war project type, then the library should be automatically included in the `WEB-INF/lib` of the generated WAR. If that is not the case, then that is the problem. If you&#39;re not using Maven to build the WAR, then you should, or you need to configure whatever you&#39;re using to ensure the library ends up in the `WEB-INF/lib`.","body":"If you&#39;re using Maven to build, and if you&#39;re using a war project type, then the library should be automatically included in the <code>WEB-INF&#47;lib</code> of the generated WAR. If that is not the case, then that is the problem. If you&#39;re not using Maven to build the WAR, then you should, or you need to configure whatever you&#39;re using to ensure the library ends up in the <code>WEB-INF&#47;lib</code>."}],"owner":{"account_id":23454940,"reputation":1,"user_id":17510588,"display_name":"Kač"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":421,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637950155,"creation_date":1637946322,"question_id":70127816,"body_markdown":"I am trying to connect to local SQL server (Windows Authentication) from my first Java EE WebApplication.\r\n\r\nFrom tutorials I managed to create this\r\n\r\n    private static Connection con;\r\n\r\n    @Resource(name = &quot;java:com.microsoft.sqlserver.jdbc.SQLServerDataSource&quot;)\r\n    private static SQLServerDataSource ds;\r\n\r\n    public static boolean Connect(String dbName){\r\n\r\n        String conStrUrl = &quot;jdbc:sqlserver://DESKTOP-UF0PE6E\\\\SQLEXPRESS:57411;integratedSecurity=true;databaseName=&quot; +dbName;\r\n\r\n        try {\r\n            \r\n            ds = new SQLServerDataSource();\r\n            ds.setURL(conStrUrl);\r\n            con = ds.getConnection();\r\n            \r\n            return true;\r\n        } catch (SQLException e) {\r\n            //..printStack\r\n            return false;\r\n        } catch (Exception ex){\r\n            //..printStack\r\n            return false;\r\n        }\r\n    }\r\nI Have downloaded jdbc jar (mssql-jdbc-9.4.0.jre11.jar)\r\n[downloaded Jar File][1]\r\n\r\nI have added dependency for it (hopefully correctly)\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n            &lt;version&gt;9.4.0.jre11&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nAnd I get this error:\r\n\r\n    26-Nov-2021 17:17:45.679 SEVERE [http-nio-8080-exec-1] com.sun.faces.application.view.FaceletViewHandlingStrategy.handleRenderException Error Rendering View[/helloWorld.xhtml]\r\n\tjavax.el.ELException: /helloWorld.xhtml: Error reading [s1] on type [com.journaldev.jsf.helloworld.HelloWorld]\r\n\t\tat com.sun.faces.facelets.compiler.TextInstruction.write(TextInstruction.java:88)\r\n\t\tat com.sun.faces.facelets.compiler.UIInstructions.encodeBegin(UIInstructions.java:82)\r\n\t\tat com.sun.faces.facelets.compiler.UILeaf.encodeAll(UILeaf.java:183)\r\n\t\tat javax.faces.component.UIComponent.encodeAll(UIComponent.java:1782)\r\n\t\tat javax.faces.component.UIComponent.encodeAll(UIComponent.java:1782)\r\n\t\tat com.sun.faces.application.view.FaceletViewHandlingStrategy.renderView(FaceletViewHandlingStrategy.java:424)\r\n\t\tat com.sun.faces.application.view.MultiViewHandler.renderView(MultiViewHandler.java:124)\r\n\t\tat com.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:121)\r\n\t\tat com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)\r\n\t\tat com.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:139)\r\n\t\tat javax.faces.webapp.FacesServlet.service(FacesServlet.java:594)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n\t\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\t\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\r\n\t\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\t\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\t\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n\t\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\t\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n\t\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n\t\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\t\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\r\n\t\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722)\r\n\t\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\t\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\t\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\tCaused by: java.lang.NoClassDefFoundError: com/microsoft/sqlserver/jdbc/SQLServerDataSource\r\n\t\tat com.journaldev.jsf.helloworld.DataLayer.DbConnect.Connect(DbConnect.java:34)\r\n\t\tat com.journaldev.jsf.helloworld.HelloWorld.getS1(HelloWorld.java:17)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\t\tat javax.el.BeanELResolver.getValue(BeanELResolver.java:85)\r\n\t\tat com.sun.faces.el.DemuxCompositeELResolver._getValue(DemuxCompositeELResolver.java:176)\r\n\t\tat com.sun.faces.el.DemuxCompositeELResolver.getValue(DemuxCompositeELResolver.java:203)\r\n\t\tat org.apache.el.parser.AstValue.getValue(AstValue.java:168)\r\n\t\tat org.apache.el.ValueExpressionImpl.getValue(ValueExpressionImpl.java:189)\r\n\t\tat com.sun.faces.facelets.el.ELText$ELTextVariable.writeText(ELText.java:227)\r\n\t\tat com.sun.faces.facelets.el.ELText$ELTextComposite.writeText(ELText.java:150)\r\n\t\tat com.sun.faces.facelets.compiler.TextInstruction.write(TextInstruction.java:85)\r\n\t\t... 32 more\r\n\tCaused by: java.lang.ClassNotFoundException: com.microsoft.sqlserver.jdbc.SQLServerDataSource\r\n\t\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1407)\r\n\t\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1215)\r\n\t\t... 46 more\r\n\r\nI have tried conecting with DriverManager it also doesn&#39;t work for me.\r\n\r\nAdditional Info:\r\n\r\n - using InteliJ IDEA\r\n - integrated Maven\r\n - Tomcat 9.0.55\r\n\r\nCould someone tell me what steps I should take to connect with JDBC in Java EE WebApp?\r\n\r\n  [1]: https://i.stack.imgur.com/HBebb.png","title":"How to connect to MS SQL Server with JDBC in java EE WebApplication","body":"<p>I am trying to connect to local SQL server (Windows Authentication) from my first Java EE WebApplication.</p>\n<p>From tutorials I managed to create this</p>\n<pre><code>private static Connection con;\n\n@Resource(name = &quot;java:com.microsoft.sqlserver.jdbc.SQLServerDataSource&quot;)\nprivate static SQLServerDataSource ds;\n\npublic static boolean Connect(String dbName){\n\n    String conStrUrl = &quot;jdbc:sqlserver://DESKTOP-UF0PE6E\\\\SQLEXPRESS:57411;integratedSecurity=true;databaseName=&quot; +dbName;\n\n    try {\n        \n        ds = new SQLServerDataSource();\n        ds.setURL(conStrUrl);\n        con = ds.getConnection();\n        \n        return true;\n    } catch (SQLException e) {\n        //..printStack\n        return false;\n    } catch (Exception ex){\n        //..printStack\n        return false;\n    }\n}\n</code></pre>\n<p>I Have downloaded jdbc jar (mssql-jdbc-9.4.0.jre11.jar)\n<a href=\"https://i.stack.imgur.com/HBebb.png\" rel=\"nofollow noreferrer\">downloaded Jar File</a></p>\n<p>I have added dependency for it (hopefully correctly)</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n        &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n        &lt;version&gt;9.4.0.jre11&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>And I get this error:</p>\n<pre><code>26-Nov-2021 17:17:45.679 SEVERE [http-nio-8080-exec-1] com.sun.faces.application.view.FaceletViewHandlingStrategy.handleRenderException Error Rendering View[/helloWorld.xhtml]\njavax.el.ELException: /helloWorld.xhtml: Error reading [s1] on type [com.journaldev.jsf.helloworld.HelloWorld]\n    at com.sun.faces.facelets.compiler.TextInstruction.write(TextInstruction.java:88)\n    at com.sun.faces.facelets.compiler.UIInstructions.encodeBegin(UIInstructions.java:82)\n    at com.sun.faces.facelets.compiler.UILeaf.encodeAll(UILeaf.java:183)\n    at javax.faces.component.UIComponent.encodeAll(UIComponent.java:1782)\n    at javax.faces.component.UIComponent.encodeAll(UIComponent.java:1782)\n    at com.sun.faces.application.view.FaceletViewHandlingStrategy.renderView(FaceletViewHandlingStrategy.java:424)\n    at com.sun.faces.application.view.MultiViewHandler.renderView(MultiViewHandler.java:124)\n    at com.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:121)\n    at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)\n    at com.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:139)\n    at javax.faces.webapp.FacesServlet.service(FacesServlet.java:594)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.NoClassDefFoundError: com/microsoft/sqlserver/jdbc/SQLServerDataSource\n    at com.journaldev.jsf.helloworld.DataLayer.DbConnect.Connect(DbConnect.java:34)\n    at com.journaldev.jsf.helloworld.HelloWorld.getS1(HelloWorld.java:17)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at javax.el.BeanELResolver.getValue(BeanELResolver.java:85)\n    at com.sun.faces.el.DemuxCompositeELResolver._getValue(DemuxCompositeELResolver.java:176)\n    at com.sun.faces.el.DemuxCompositeELResolver.getValue(DemuxCompositeELResolver.java:203)\n    at org.apache.el.parser.AstValue.getValue(AstValue.java:168)\n    at org.apache.el.ValueExpressionImpl.getValue(ValueExpressionImpl.java:189)\n    at com.sun.faces.facelets.el.ELText$ELTextVariable.writeText(ELText.java:227)\n    at com.sun.faces.facelets.el.ELText$ELTextComposite.writeText(ELText.java:150)\n    at com.sun.faces.facelets.compiler.TextInstruction.write(TextInstruction.java:85)\n    ... 32 more\nCaused by: java.lang.ClassNotFoundException: com.microsoft.sqlserver.jdbc.SQLServerDataSource\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1407)\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1215)\n    ... 46 more\n</code></pre>\n<p>I have tried conecting with DriverManager it also doesn't work for me.</p>\n<p>Additional Info:</p>\n<ul>\n<li>using InteliJ IDEA</li>\n<li>integrated Maven</li>\n<li>Tomcat 9.0.55</li>\n</ul>\n<p>Could someone tell me what steps I should take to connect with JDBC in Java EE WebApp?</p>\n"},{"tags":["java","spring","elasticsearch","jpa","spring-data-elasticsearch"],"comments":[{"owner":{"account_id":19766574,"reputation":265,"user_id":14474468,"display_name":"Amine Safi"},"score":0,"creation_date":1637940055,"post_id":70126246,"comment_id":123964123,"body_markdown":"Take a look at this link https://stackoverflow.com/a/54987837/14474468","body":"Take a look at this link <a href=\"https://stackoverflow.com/a/54987837/14474468\">stackoverflow.com/a/54987837/14474468</a>"},{"owner":{"account_id":22980193,"reputation":31,"user_id":17107241,"display_name":"leorosignoli"},"score":0,"creation_date":1637943153,"post_id":70126246,"comment_id":123965282,"body_markdown":"Thank you but this does not solve my problem as I already have repositories separated in different packages.","body":"Thank you but this does not solve my problem as I already have repositories separated in different packages."}],"answers":[{"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637944230,"creation_date":1637944230,"answer_id":70127444,"question_id":70126246,"body_markdown":"Looking at the error message it&#39;s pretty obvious what the problem is:\r\n\r\n&gt;  java.net.ConnectException: Connection refused\r\n\r\nWhen you put `@Document` on your entity, Spring Data Elasticsearch tries to initialize the repository and tries to connect to the Elasticsearch cluster. \r\n\r\nEither your configuration is wrong or not existent, in the latter case Spring Data Elasticsearch tries to connect to a local instance running at `localhost:9200`.","title":"Using @Document notation in an @Entity","body":"<p>Looking at the error message it's pretty obvious what the problem is:</p>\n<blockquote>\n<p>java.net.ConnectException: Connection refused</p>\n</blockquote>\n<p>When you put <code>@Document</code> on your entity, Spring Data Elasticsearch tries to initialize the repository and tries to connect to the Elasticsearch cluster.</p>\n<p>Either your configuration is wrong or not existent, in the latter case Spring Data Elasticsearch tries to connect to a local instance running at <code>localhost:9200</code>.</p>\n"}],"owner":{"account_id":22980193,"reputation":31,"user_id":17107241,"display_name":"leorosignoli"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":321,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637949945,"creation_date":1637938180,"question_id":70126246,"body_markdown":"I have entities marked with the `@Entity` notation for jpa, such as\r\n\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Entity\r\n    @Table(name = &quot;category&quot;, schema = &quot;\\&quot;public\\&quot;&quot;)\r\n    public class Category extends AbstractBaseEntity {\r\n    ...\r\nBut I also want to use elastic search repository and for such I need to use the `@Document` notation, however, if I use both I get an exception:\r\n\r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;categoryController&#39;: Unsatisfied dependency expressed through field &#39;categoryService&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;categoryServiceImpl&#39;: Unsatisfied dependency expressed through field &#39;elasticsearchRepository&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;categoryElasticSearchRepository&#39; defined in br.com.gwcloud.smartplace.catalog.elasticsearch.repositories.CategoryElasticSearchRepository defined in @EnableElasticsearchRepositories declared on ElasticSearchConfig: Invocation of init method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception; nested exception is org.springframework.dao.DataAccessResourceFailureException: 5,000 milliseconds timeout on connection http-outgoing-0 [ACTIVE]; nested exception is java.lang.RuntimeException: 5,000 milliseconds timeout on connection http-outgoing-0 [ACTIVE]\r\n\r\nMy configuration file is as following:\r\n\r\n    @Configuration\r\n    @EnableElasticsearchRepositories(&quot;br.com.gwcloud.smartplace.catalog.elasticsearch.repositories&quot;)\r\n        public class ElasticSearchConfig {    \r\n            @Bean\r\n            public RestHighLevelClient client() {\r\n                ClientConfiguration clientConfiguration \r\n                    = ClientConfiguration.builder()\r\n                        .connectedTo(&quot;localhost:9200&quot;)\r\n                        .build();\r\n        \r\n                return RestClients.create(clientConfiguration).rest();\r\n            }    \r\n            @Bean\r\n            public ElasticsearchOperations elasticsearchTemplate() {\r\n                return new ElasticsearchRestTemplate(client());\r\n            }    \r\n        }","title":"Using @Document notation in an @Entity","body":"<p>I have entities marked with the <code>@Entity</code> notation for jpa, such as</p>\n<pre><code>@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;category&quot;, schema = &quot;\\&quot;public\\&quot;&quot;)\npublic class Category extends AbstractBaseEntity {\n...\n</code></pre>\n<p>But I also want to use elastic search repository and for such I need to use the <code>@Document</code> notation, however, if I use both I get an exception:</p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'categoryController': Unsatisfied dependency expressed through field 'categoryService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'categoryServiceImpl': Unsatisfied dependency expressed through field 'elasticsearchRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'categoryElasticSearchRepository' defined in br.com.gwcloud.smartplace.catalog.elasticsearch.repositories.CategoryElasticSearchRepository defined in @EnableElasticsearchRepositories declared on ElasticSearchConfig: Invocation of init method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception; nested exception is org.springframework.dao.DataAccessResourceFailureException: 5,000 milliseconds timeout on connection http-outgoing-0 [ACTIVE]; nested exception is java.lang.RuntimeException: 5,000 milliseconds timeout on connection http-outgoing-0 [ACTIVE]\n</code></pre>\n<p>My configuration file is as following:</p>\n<pre><code>@Configuration\n@EnableElasticsearchRepositories(&quot;br.com.gwcloud.smartplace.catalog.elasticsearch.repositories&quot;)\n    public class ElasticSearchConfig {    \n        @Bean\n        public RestHighLevelClient client() {\n            ClientConfiguration clientConfiguration \n                = ClientConfiguration.builder()\n                    .connectedTo(&quot;localhost:9200&quot;)\n                    .build();\n    \n            return RestClients.create(clientConfiguration).rest();\n        }    \n        @Bean\n        public ElasticsearchOperations elasticsearchTemplate() {\n            return new ElasticsearchRestTemplate(client());\n        }    \n    }\n</code></pre>\n"},{"tags":["java","jackson"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1637949229,"post_id":70128233,"comment_id":123967138,"body_markdown":"What does Lombok have to do with this question?","body":"What does Lombok have to do with this question?"},{"owner":{"account_id":387196,"reputation":464,"user_id":745401,"display_name":"seenimurugan"},"score":0,"creation_date":1637949438,"post_id":70128233,"comment_id":123967188,"body_markdown":"Oops, it&#39;s Jackson","body":"Oops, it&#39;s Jackson"},{"owner":{"account_id":299782,"reputation":1334,"user_id":1546453,"accept_rate":100,"display_name":"triplem"},"score":0,"creation_date":1637960577,"post_id":70128233,"comment_id":123969868,"body_markdown":"Have you tried to implement a custom Deserializer? This is a class implementing the StdDeserializer. In there you should be able to do all dirty stuff :-)","body":"Have you tried to implement a custom Deserializer? This is a class implementing the StdDeserializer. In there you should be able to do all dirty stuff :-)"},{"owner":{"account_id":387196,"reputation":464,"user_id":745401,"display_name":"seenimurugan"},"score":0,"creation_date":1637964517,"post_id":70128233,"comment_id":123970685,"body_markdown":"Yes, tried but could not get hold of documentId field inside the Details object which is created by Jackson.","body":"Yes, tried but could not get hold of documentId field inside the Details object which is created by Jackson."},{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1638032225,"post_id":70128233,"comment_id":123981599,"body_markdown":"A deserializer is one of the ways to solve your issue, but if the attribute you want to copy is variable you can also modify the json string accordly to your expected result.","body":"A deserializer is one of the ways to solve your issue, but if the attribute you want to copy is variable you can also modify the json string accordly to your expected result."}],"owner":{"account_id":387196,"reputation":464,"user_id":745401,"display_name":"seenimurugan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":357,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637949894,"creation_date":1637948528,"question_id":70128233,"body_markdown":"I would like to know is there a way (probably using deserialiser) in Jackson to copy one attribute value to another object attribute the container has.\r\n\r\nFor example, `documentId` from the `TestData` class also needs to be persisted in the `Details.documentId` attribute. \r\n\r\njson/TestData.json\r\n\r\n```json\r\n{\r\n  &quot;id&quot;: &quot;1&quot;,\r\n  &quot;documentId&quot; : &quot;234234&quot;,\r\n  &quot;details&quot; : {\r\n    &quot;name&quot;: &quot;test&quot;,\r\n    &quot;lastName&quot;: &quot;asdf&quot;\r\n  }\r\n}\r\n```\r\n\r\n```java\r\n@RequiredArgsConstructor(onConstructor_ = @Autowired)\r\n@SpringBootTest(classes = ExampleMicroserviceApplication.class,\r\n        webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT\r\n)\r\n@ActiveProfiles(&quot;test&quot;)\r\npublic class TestDocumentId {\r\n\r\n    final ObjectMapper objectMapper;\r\n\r\n    @Value(&quot;classpath:json/TestData.json&quot;)\r\n    Resource testData;\r\n\r\n    @SneakyThrows\r\n    @Test\r\n    void testDocumentIdPresentInDetails() {\r\n        var data = objectMapper.readValue(testData.getFile(), TestData.class);\r\n        assertThat(data.documentId).isNotNull();\r\n        assertThat(data.getDetails().name).isNotNull();\r\n        assertThat(data.getDetails().documentId).isNotNull();\r\n    }\r\n\r\n    @Data\r\n    public static class TestData {\r\n        private String id;\r\n        private String documentId;\r\n        private Details details;\r\n\r\n\r\n        @Data\r\n        public static class Details {\r\n            private String documentId;\r\n            private String name;\r\n            private String lastName;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n","title":"How to map attribute value into two fields during Jackson deserialisation","body":"<p>I would like to know is there a way (probably using deserialiser) in Jackson to copy one attribute value to another object attribute the container has.</p>\n<p>For example, <code>documentId</code> from the <code>TestData</code> class also needs to be persisted in the <code>Details.documentId</code> attribute.</p>\n<p>json/TestData.json</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;id&quot;: &quot;1&quot;,\n  &quot;documentId&quot; : &quot;234234&quot;,\n  &quot;details&quot; : {\n    &quot;name&quot;: &quot;test&quot;,\n    &quot;lastName&quot;: &quot;asdf&quot;\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@RequiredArgsConstructor(onConstructor_ = @Autowired)\n@SpringBootTest(classes = ExampleMicroserviceApplication.class,\n        webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT\n)\n@ActiveProfiles(&quot;test&quot;)\npublic class TestDocumentId {\n\n    final ObjectMapper objectMapper;\n\n    @Value(&quot;classpath:json/TestData.json&quot;)\n    Resource testData;\n\n    @SneakyThrows\n    @Test\n    void testDocumentIdPresentInDetails() {\n        var data = objectMapper.readValue(testData.getFile(), TestData.class);\n        assertThat(data.documentId).isNotNull();\n        assertThat(data.getDetails().name).isNotNull();\n        assertThat(data.getDetails().documentId).isNotNull();\n    }\n\n    @Data\n    public static class TestData {\n        private String id;\n        private String documentId;\n        private Details details;\n\n\n        @Data\n        public static class Details {\n            private String documentId;\n            private String name;\n            private String lastName;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","linux"],"answers":[{"tags":[],"owner":{"account_id":1815814,"reputation":987,"user_id":1650913,"accept_rate":86,"display_name":"Scoopta"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1637949819,"creation_date":1473533728,"answer_id":39429514,"question_id":39380993,"body_markdown":"Wrapping the `FileInputStream` in a `BufferedInputStream` seems to fix the issue.","title":"Reading /dev/input/js0 from Java","body":"<p>Wrapping the <code>FileInputStream</code> in a <code>BufferedInputStream</code> seems to fix the issue.</p>\n"}],"owner":{"account_id":1815814,"reputation":987,"user_id":1650913,"accept_rate":86,"display_name":"Scoopta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1726,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":39429514,"answer_count":1,"score":5,"last_activity_date":1637949819,"creation_date":1473295696,"question_id":39380993,"body_markdown":"I&#39;m trying to read `/dev/input/js0` from Java but I keep getting\r\n\r\n    java.io.IOException: Invalid argument\r\n\tat java.io.FileInputStream.read0(Native Method)\r\n\tat java.io.FileInputStream.read(FileInputStream.java:207)\r\n\tat Test.main(Test.java:7)\r\n\r\nMy code is\r\n\r\n    import java.io.*;\r\n\r\n    final class Test {\r\n        public static final void main(String[] args) {\r\n                try {\r\n                        FileInputStream in = new FileInputStream(&quot;/dev/input/js0&quot;);\r\n                        System.out.println(in.read());\r\n                } catch(IOException e) {\r\n                        e.printStackTrace();\r\n                }\r\n        }\r\n    }\r\nMy end goal is to be able to read input from my controller but I can&#39;t even seem to read one byte. What am I doing wrong? My user does have read and write access to the file.","title":"Reading /dev/input/js0 from Java","body":"<p>I'm trying to read <code>/dev/input/js0</code> from Java but I keep getting</p>\n\n<pre><code>java.io.IOException: Invalid argument\nat java.io.FileInputStream.read0(Native Method)\nat java.io.FileInputStream.read(FileInputStream.java:207)\nat Test.main(Test.java:7)\n</code></pre>\n\n<p>My code is</p>\n\n<pre><code>import java.io.*;\n\nfinal class Test {\n    public static final void main(String[] args) {\n            try {\n                    FileInputStream in = new FileInputStream(\"/dev/input/js0\");\n                    System.out.println(in.read());\n            } catch(IOException e) {\n                    e.printStackTrace();\n            }\n    }\n}\n</code></pre>\n\n<p>My end goal is to be able to read input from my controller but I can't even seem to read one byte. What am I doing wrong? My user does have read and write access to the file.</p>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":23463564,"reputation":23,"user_id":17518112,"display_name":"Makko"},"score":0,"creation_date":1637946336,"post_id":70127774,"comment_id":123966272,"body_markdown":"I am aware that I could pass method names as Strings and use reflection but that does not help with the clarity and tidiness of the code. ;)","body":"I am aware that I could pass method names as Strings and use reflection but that does not help with the clarity and tidiness of the code. ;)"}],"answers":[{"tags":[],"owner":{"account_id":13721821,"reputation":1820,"user_id":9901515,"display_name":"csalmhof"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1637949231,"creation_date":1637948819,"answer_id":70128291,"question_id":70127774,"body_markdown":"You need to tell the compiler which sort of lambda you intend to implent. &lt;br/&gt;\r\nSo you need to cast your lambda to a `Function&lt;String, String&gt;` like this:\r\n\r\n```java\r\nprivate static Stream&lt;Arguments&gt; generateArguments() {\r\n  return Stream.of(\r\n      Arguments.of(\r\n          &quot;Return &#39;expected&#39; if argument is &#39;input&#39;&quot;,\r\n          (Function&lt;String, String&gt;) JUnitFeatureTest::generateStringFromInput\r\n      )\r\n  );\r\n}\r\n```\r\n\r\nor this\r\n\r\n```java\r\nprivate static Stream&lt;Arguments&gt; generateArguments() {\r\n  return Stream.of(\r\n      Arguments.of(\r\n          &quot;Return &#39;expected&#39; if argument is &#39;input&#39;&quot;, \r\n          (Function&lt;String, String&gt;) input -&gt; generateStringFromInput(input)\r\n      )\r\n  );\r\n}\r\n```","title":"Function&lt;T, R&gt; as additional argument in Junit 5","body":"<p>You need to tell the compiler which sort of lambda you intend to implent. <br/>\nSo you need to cast your lambda to a <code>Function&lt;String, String&gt;</code> like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static Stream&lt;Arguments&gt; generateArguments() {\n  return Stream.of(\n      Arguments.of(\n          &quot;Return 'expected' if argument is 'input'&quot;,\n          (Function&lt;String, String&gt;) JUnitFeatureTest::generateStringFromInput\n      )\n  );\n}\n</code></pre>\n<p>or this</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static Stream&lt;Arguments&gt; generateArguments() {\n  return Stream.of(\n      Arguments.of(\n          &quot;Return 'expected' if argument is 'input'&quot;, \n          (Function&lt;String, String&gt;) input -&gt; generateStringFromInput(input)\n      )\n  );\n}\n</code></pre>\n"}],"owner":{"account_id":23463564,"reputation":23,"user_id":17518112,"display_name":"Makko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1298,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70128291,"answer_count":1,"score":2,"last_activity_date":1637949231,"creation_date":1637946063,"question_id":70127774,"body_markdown":"I am trying to pass test arguments to JUnit 5 that include Java&#39;s `Function&lt;T, R&gt;` interface type as shown in the following code snippet. I am getting a &quot;Target type of a lambda conversion must be an interface&quot; error because JUnit 5&#39;s `Arguments` type uses an Object array to store the parameters.\r\n\r\n```\r\n  @ParameterizedTest(name = &quot;Test description: {0}&quot;)\r\n  @MethodSource(&quot;generateArguments&quot;)\r\n  void passFunctionAsAnArgumentTest(final String description, final Function&lt;String, String&gt; testMethod) {\r\n\r\n    // Fetch initial preactivation value.\r\n    final String result = testMethod.apply(&quot;input&quot;);\r\n    assertThat(result, is(&quot;expected&quot;));\r\n  }\r\n\r\n  private static Stream&lt;Arguments&gt; generateArguments() {\r\n\r\n    return Stream.of(\r\n        // Error: &quot;Target type of a lambda conversion must be an interface&quot;.\r\n        Arguments.of(&quot;Return &#39;expected&#39; if argument is &#39;input&#39;&quot;, (String input) -&gt; generateStringFromInput(input))\r\n    );\r\n  }\r\n\r\n  private static String generateStringFromInput(final String input) {\r\n\r\n    return input.equals(&quot;input&quot;) ? &quot;expected&quot; : &quot;wrong&quot;;\r\n  }\r\n```\r\n\r\nIf I generate a stream that *only* uses the `Function&lt;T, R&gt;` interface type the test compiles  and runs fine.\r\n\r\n```\r\n  @ParameterizedTest(name = &quot;No test description :(&quot;)\r\n  @MethodSource(&quot;generateStream&quot;)\r\n  void passFunctionAsAnArgumentTest(final Function&lt;String, String&gt; testMethod) {\r\n\r\n    // Fetch initial preactivation value.\r\n    final String result = testMethod.apply(&quot;input&quot;);\r\n    assertThat(result, is(&quot;expected&quot;));\r\n  }\r\n\r\n  private static Stream&lt;Function&lt;String, String&gt;&gt; generateStream() {\r\n\r\n    return Stream.of(\r\n        JUnitFeatureTest::generateStringFromInput\r\n    );\r\n  }\r\n\r\n  private static String generateStringFromInput(final String input) {\r\n\r\n    return input.equals(&quot;input&quot;) ? &quot;expected&quot; : &quot;wrong&quot;;\r\n  }\r\n```\r\n\r\nObviously the actual code is a bit more complex. The reason why I want to pass functions instead of test data objects is because we call different methods with a different set of parameters. It is just a lot tidier to encapsulate that in helper methods.","title":"Function&lt;T, R&gt; as additional argument in Junit 5","body":"<p>I am trying to pass test arguments to JUnit 5 that include Java's <code>Function&lt;T, R&gt;</code> interface type as shown in the following code snippet. I am getting a &quot;Target type of a lambda conversion must be an interface&quot; error because JUnit 5's <code>Arguments</code> type uses an Object array to store the parameters.</p>\n<pre><code>  @ParameterizedTest(name = &quot;Test description: {0}&quot;)\n  @MethodSource(&quot;generateArguments&quot;)\n  void passFunctionAsAnArgumentTest(final String description, final Function&lt;String, String&gt; testMethod) {\n\n    // Fetch initial preactivation value.\n    final String result = testMethod.apply(&quot;input&quot;);\n    assertThat(result, is(&quot;expected&quot;));\n  }\n\n  private static Stream&lt;Arguments&gt; generateArguments() {\n\n    return Stream.of(\n        // Error: &quot;Target type of a lambda conversion must be an interface&quot;.\n        Arguments.of(&quot;Return 'expected' if argument is 'input'&quot;, (String input) -&gt; generateStringFromInput(input))\n    );\n  }\n\n  private static String generateStringFromInput(final String input) {\n\n    return input.equals(&quot;input&quot;) ? &quot;expected&quot; : &quot;wrong&quot;;\n  }\n</code></pre>\n<p>If I generate a stream that <em>only</em> uses the <code>Function&lt;T, R&gt;</code> interface type the test compiles  and runs fine.</p>\n<pre><code>  @ParameterizedTest(name = &quot;No test description :(&quot;)\n  @MethodSource(&quot;generateStream&quot;)\n  void passFunctionAsAnArgumentTest(final Function&lt;String, String&gt; testMethod) {\n\n    // Fetch initial preactivation value.\n    final String result = testMethod.apply(&quot;input&quot;);\n    assertThat(result, is(&quot;expected&quot;));\n  }\n\n  private static Stream&lt;Function&lt;String, String&gt;&gt; generateStream() {\n\n    return Stream.of(\n        JUnitFeatureTest::generateStringFromInput\n    );\n  }\n\n  private static String generateStringFromInput(final String input) {\n\n    return input.equals(&quot;input&quot;) ? &quot;expected&quot; : &quot;wrong&quot;;\n  }\n</code></pre>\n<p>Obviously the actual code is a bit more complex. The reason why I want to pass functions instead of test data objects is because we call different methods with a different set of parameters. It is just a lot tidier to encapsulate that in helper methods.</p>\n"},{"tags":["java","class","object","generics"],"comments":[{"owner":{"account_id":5956219,"reputation":529,"user_id":4682816,"display_name":"scigs"},"score":0,"creation_date":1637545357,"post_id":70060035,"comment_id":123847241,"body_markdown":"trying to understand your question a little better, so in your generic function commonFunction, you want to invoke a method get_token that is in both classA and classB and return whatever is the result of that?","body":"trying to understand your question a little better, so in your generic function commonFunction, you want to invoke a method get_token that is in both classA and classB and return whatever is the result of that?"},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1637545433,"post_id":70060035,"comment_id":123847263,"body_markdown":"Your &quot;classA&quot; doesn&#39;t have a method `get_token`. `Class&lt;T&gt;` refers to `java.lang.Class`. You call your class `classA` with a lowercase in one snippet and `ClassA` with uppercase in the next. Neither class A or B extend/implement `Class&lt;T&gt;`. Not really clear what you&#39;re asking or trying to achieve.","body":"Your &quot;classA&quot; doesn&#39;t have a method <code>get_token</code>. <code>Class&lt;T&gt;</code> refers to <code>java.lang.Class</code>. You call your class <code>classA</code> with a lowercase in one snippet and <code>ClassA</code> with uppercase in the next. Neither class A or B extend/implement <code>Class&lt;T&gt;</code>. Not really clear what you&#39;re asking or trying to achieve."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1637545454,"post_id":70060035,"comment_id":123847269,"body_markdown":"You need some way to tie the two classes together, such as an `interface` (as `Class` doesn&#39;t define a `getToken` method)","body":"You need some way to tie the two classes together, such as an <code>interface</code> (as <code>Class</code> doesn&#39;t define a <code>getToken</code> method)"},{"owner":{"account_id":9531943,"reputation":593,"user_id":7083303,"accept_rate":89,"display_name":"JJ123"},"score":0,"creation_date":1637545883,"post_id":70060035,"comment_id":123847320,"body_markdown":"I added a few statements for clarification. @scigs","body":"I added a few statements for clarification. @scigs"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1637545746,"creation_date":1637545746,"answer_id":70060112,"question_id":70060035,"body_markdown":"You need some way to tie the classes together which says &quot;this instance implements a method called `getToken` which returns some kind of result&quot;\r\n\r\nThe simplest place to start would be a `interface`, for example...\r\n\r\n    public interface Tokenable&lt;T&gt; {\r\n        public T getToken();\r\n    }\r\n\r\nThen both `ClassA` and `ClassB` would need to implement this `interface` as required, for example...\r\n\r\n    public class ClassA implements Tokenable&lt;Boolean&gt; {\r\n\r\n        private Boolean started;\r\n\r\n        public ClassA(Boolean started) {\r\n            this.started = started;\r\n        }\r\n\r\n        @Override\r\n        public Boolean getToken() {\r\n            return started;\r\n        }\r\n\r\n    }\r\n\r\n    public class ClassB implements Tokenable&lt;String&gt; {\r\n\r\n        private String token;\r\n\r\n        public ClassB(String token) {\r\n            this.token = token;\r\n        }\r\n\r\n        @Override\r\n        public String getToken() {\r\n            return token;\r\n        }\r\n\r\n    }\r\n\r\nAnd then you can communalise the call back...\r\n\r\n    public class CallingClass {\r\n\r\n        public void function1() {\r\n            ClassA stepA = new ClassA(false);\r\n            commonFunction(stepA);\r\n        }\r\n\r\n        public void function2() {\r\n            ClassB stepB = new ClassB(&quot;hello&quot;);\r\n            commonFunction(stepB);\r\n        }\r\n\r\n        public &lt;T&gt; void commonFunction(Tokenable&lt;T&gt; dataObject) {\r\n            T token = dataObject.getToken();\r\n        }\r\n\r\n    }\r\n\r\nWithout providing some kind of common ancestor, you&#39;re not really going to be able to get it to work - `Class` doesn&#39;t define a `getToken` method, so you need some kind of common ancestor in order to call it (there is a &quot;hacky&quot; way to do it, but you really, really, really don&#39;t want to go down that rabbit hole)","title":"How to use generics in Java when dealing with multiples heterogeneous objects?","body":"<p>You need some way to tie the classes together which says &quot;this instance implements a method called <code>getToken</code> which returns some kind of result&quot;</p>\n<p>The simplest place to start would be a <code>interface</code>, for example...</p>\n<pre><code>public interface Tokenable&lt;T&gt; {\n    public T getToken();\n}\n</code></pre>\n<p>Then both <code>ClassA</code> and <code>ClassB</code> would need to implement this <code>interface</code> as required, for example...</p>\n<pre><code>public class ClassA implements Tokenable&lt;Boolean&gt; {\n\n    private Boolean started;\n\n    public ClassA(Boolean started) {\n        this.started = started;\n    }\n\n    @Override\n    public Boolean getToken() {\n        return started;\n    }\n\n}\n\npublic class ClassB implements Tokenable&lt;String&gt; {\n\n    private String token;\n\n    public ClassB(String token) {\n        this.token = token;\n    }\n\n    @Override\n    public String getToken() {\n        return token;\n    }\n\n}\n</code></pre>\n<p>And then you can communalise the call back...</p>\n<pre><code>public class CallingClass {\n\n    public void function1() {\n        ClassA stepA = new ClassA(false);\n        commonFunction(stepA);\n    }\n\n    public void function2() {\n        ClassB stepB = new ClassB(&quot;hello&quot;);\n        commonFunction(stepB);\n    }\n\n    public &lt;T&gt; void commonFunction(Tokenable&lt;T&gt; dataObject) {\n        T token = dataObject.getToken();\n    }\n\n}\n</code></pre>\n<p>Without providing some kind of common ancestor, you're not really going to be able to get it to work - <code>Class</code> doesn't define a <code>getToken</code> method, so you need some kind of common ancestor in order to call it (there is a &quot;hacky&quot; way to do it, but you really, really, really don't want to go down that rabbit hole)</p>\n"},{"tags":[],"owner":{"account_id":4473596,"reputation":614,"user_id":3639235,"display_name":"Dave S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637549451,"creation_date":1637549451,"answer_id":70060409,"question_id":70060035,"body_markdown":"It could be that there&#39;s something I&#39;m missing about your question because it&#39;s not entirely clear what you are trying to achieve but something doesn&#39;t seem quite right about the way you&#39;re trying to do this.\r\n\r\nYou have logic in `commonFunction` that behaves one way if the argument is one type and another way if the argument is the other type.  It seems like what you really should do is have that logic inside ClassA and ClassB.  So they should both implement some method that behaves one way inside ClassA and the other way inside ClassB.  Then `commonFunction` can treat all arguments the same.\r\n\r\nIn general, if you are testing the type of an argument and triggering different behaviour in different cases then it&#39;s a pretty good indication that the behaviour really belongs inside those classes themselves, provided you are the one defining the classes which you are in this case.\r\n\r\n","title":"How to use generics in Java when dealing with multiples heterogeneous objects?","body":"<p>It could be that there's something I'm missing about your question because it's not entirely clear what you are trying to achieve but something doesn't seem quite right about the way you're trying to do this.</p>\n<p>You have logic in <code>commonFunction</code> that behaves one way if the argument is one type and another way if the argument is the other type.  It seems like what you really should do is have that logic inside ClassA and ClassB.  So they should both implement some method that behaves one way inside ClassA and the other way inside ClassB.  Then <code>commonFunction</code> can treat all arguments the same.</p>\n<p>In general, if you are testing the type of an argument and triggering different behaviour in different cases then it's a pretty good indication that the behaviour really belongs inside those classes themselves, provided you are the one defining the classes which you are in this case.</p>\n"},{"tags":[],"owner":{"account_id":35892,"reputation":30826,"user_id":102008,"accept_rate":37,"display_name":"user102008"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637949144,"creation_date":1637949144,"answer_id":70128350,"question_id":70060035,"body_markdown":"The direct answer to your literal question would be that the only supertype of `classA` and `classB` is `Object`, so your parameter type must be `Object`, and you can use `instanceof` to test if it&#39;s an instance of a particular type, and if so, cast to that type to do stuff that can only be done with that type:\r\n\r\n    public void commonFunction(Object dataObject) {\r\n        if (dataObject instanceof classB) {\r\n            String token = ((classB)dataObject).get_token();\r\n        }\r\n        if (dataObject instanceof classA) {\r\n            Boolean is_started = ((classA)dataObject).getIS_started();\r\n        }\r\n    }\r\n\r\nHowever, using `instanceof` like this is evidence of bad design. If the logic for the two different types is separate, then why put them in the same function? If the &quot;token&quot; and &quot;is_started&quot; are supposed to represent the same kind of information, then refactoring them to the same method provided in an interface, like other answers suggested, makes more sense.","title":"How to use generics in Java when dealing with multiples heterogeneous objects?","body":"<p>The direct answer to your literal question would be that the only supertype of <code>classA</code> and <code>classB</code> is <code>Object</code>, so your parameter type must be <code>Object</code>, and you can use <code>instanceof</code> to test if it's an instance of a particular type, and if so, cast to that type to do stuff that can only be done with that type:</p>\n<pre><code>public void commonFunction(Object dataObject) {\n    if (dataObject instanceof classB) {\n        String token = ((classB)dataObject).get_token();\n    }\n    if (dataObject instanceof classA) {\n        Boolean is_started = ((classA)dataObject).getIS_started();\n    }\n}\n</code></pre>\n<p>However, using <code>instanceof</code> like this is evidence of bad design. If the logic for the two different types is separate, then why put them in the same function? If the &quot;token&quot; and &quot;is_started&quot; are supposed to represent the same kind of information, then refactoring them to the same method provided in an interface, like other answers suggested, makes more sense.</p>\n"}],"owner":{"account_id":9531943,"reputation":593,"user_id":7083303,"accept_rate":89,"display_name":"JJ123"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70060112,"answer_count":3,"score":0,"last_activity_date":1637949144,"creation_date":1637544744,"question_id":70060035,"body_markdown":"Let&#39;s say, I have two classes that look like this:\r\n\r\n    public class classA {\r\n        private Boolean is_started;\r\n    \r\n        public classA(Boolean is_started) {\r\n            this.is_started = started;\r\n        }\r\n        public Boolean getIs_started(){\r\n            return this.is_started;\r\n        }\r\n    }\r\n\r\n    public class classB {\r\n        private String token;\r\n    \r\n        public classA(String token) {\r\n            this.token = token;\r\n        }\r\n        public String get_token(){\r\n            return this.token;\r\n        }\r\n    }\r\n\r\nI am calling those two classes from another class like this:\r\n\r\n    public class CallingClass {\r\n    \r\n        public void function1() {\r\n            ClassA stepA = new ClassA(&lt;some boolean&gt;);\r\n            commonFunction(stepA);\r\n    }\r\n        public void function2() {\r\n            ClassB stepB = new ClassB(&lt;some string&gt;);\r\n            commonFunction(stepB);\r\n    }\r\n        public &lt;T&gt; void commonFunction(Class&lt;T&gt; dataObject) {\r\n            //An if statement that has a condition that only calls a function in classB {\r\n                String token = dataObject.get_token();\r\n            }\r\n            //An if statement that has a condition that only calls a function in classA {\r\n            Boolean is_started = dataObject.getIS_started();\r\n            }\r\n    //It returns error : The method [get_token()/getIS_started()] is undefined for the type Class&lt;T&gt;\r\n\r\nI want to make sure that I can call different objects without specifying them in the function. For example, I want to supply `ClassA` and `ClassB` as an argument to the `commonFunction` as in the example above. How do I make it happen with generics?\r\n\r\n","title":"How to use generics in Java when dealing with multiples heterogeneous objects?","body":"<p>Let's say, I have two classes that look like this:</p>\n<pre><code>public class classA {\n    private Boolean is_started;\n\n    public classA(Boolean is_started) {\n        this.is_started = started;\n    }\n    public Boolean getIs_started(){\n        return this.is_started;\n    }\n}\n\npublic class classB {\n    private String token;\n\n    public classA(String token) {\n        this.token = token;\n    }\n    public String get_token(){\n        return this.token;\n    }\n}\n</code></pre>\n<p>I am calling those two classes from another class like this:</p>\n<pre><code>public class CallingClass {\n\n    public void function1() {\n        ClassA stepA = new ClassA(&lt;some boolean&gt;);\n        commonFunction(stepA);\n}\n    public void function2() {\n        ClassB stepB = new ClassB(&lt;some string&gt;);\n        commonFunction(stepB);\n}\n    public &lt;T&gt; void commonFunction(Class&lt;T&gt; dataObject) {\n        //An if statement that has a condition that only calls a function in classB {\n            String token = dataObject.get_token();\n        }\n        //An if statement that has a condition that only calls a function in classA {\n        Boolean is_started = dataObject.getIS_started();\n        }\n//It returns error : The method [get_token()/getIS_started()] is undefined for the type Class&lt;T&gt;\n</code></pre>\n<p>I want to make sure that I can call different objects without specifying them in the function. For example, I want to supply <code>ClassA</code> and <code>ClassB</code> as an argument to the <code>commonFunction</code> as in the example above. How do I make it happen with generics?</p>\n"},{"tags":["java","spring","spring-boot","integration-testing","wiremock"],"comments":[{"owner":{"account_id":16864887,"reputation":872,"user_id":12194805,"display_name":"Oozeerally"},"score":0,"creation_date":1637942742,"post_id":70127076,"comment_id":123965151,"body_markdown":"Out of curiosity, how are you sure it is WireMock causing the issue?","body":"Out of curiosity, how are you sure it is WireMock causing the issue?"},{"owner":{"account_id":4246990,"reputation":113,"user_id":3475366,"display_name":"user3475366"},"score":0,"creation_date":1637942874,"post_id":70127076,"comment_id":123965187,"body_markdown":"@Oozeerally when I remove the entire class, everything is working","body":"@Oozeerally when I remove the entire class, everything is working"}],"answers":[{"tags":[],"owner":{"account_id":4246990,"reputation":113,"user_id":3475366,"display_name":"user3475366"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637947987,"creation_date":1637944220,"answer_id":70127442,"question_id":70127076,"body_markdown":"I found the solution. I have\r\n\r\n    ddl-auto: create-drop \r\n\r\nin my config, but it should be \r\n\r\n    ddl-auto: create-only","title":"WireMock affects other tests","body":"<p>I found the solution. I have</p>\n<pre><code>ddl-auto: create-drop \n</code></pre>\n<p>in my config, but it should be</p>\n<pre><code>ddl-auto: create-only\n</code></pre>\n"}],"owner":{"account_id":4246990,"reputation":113,"user_id":3475366,"display_name":"user3475366"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":660,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1637947987,"creation_date":1637942269,"question_id":70127076,"body_markdown":"All existing tests are annotated with \r\n```\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest\r\n@ActiveProfiles({&quot;test&quot;})\r\n```\r\n\r\nI have added \r\n\r\nspring-cloud-contract-wiremock\r\n\r\nto my project and created a test with the following annotations: \r\n```\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n@AutoConfigureWireMock(port = 10000, stubs = {&quot;classpath:stubs/mappings&quot;})\r\n@ActiveProfiles({&quot;test&quot;})\r\n```\r\n\r\nWhen I run all the tests together, then all the tests followed after that WireMock test are starting to fail. \r\n\r\nIssues are like:\r\n\r\n```\r\nCaught exception while invoking &#39;beforeTestMethod&#39; callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@42f3156d] for test method [public void com.example.MyClass.foo1()] and test instance [com.example.MyClassTest@5e3569e8]\r\norg.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource...\r\n```\r\n\r\nThese failing methods are annotated with:\r\n```\r\n@Test\r\n@SqlGroup\r\n``` \r\n","title":"WireMock affects other tests","body":"<p>All existing tests are annotated with</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\n@ActiveProfiles({&quot;test&quot;})\n</code></pre>\n<p>I have added</p>\n<p>spring-cloud-contract-wiremock</p>\n<p>to my project and created a test with the following annotations:</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@AutoConfigureWireMock(port = 10000, stubs = {&quot;classpath:stubs/mappings&quot;})\n@ActiveProfiles({&quot;test&quot;})\n</code></pre>\n<p>When I run all the tests together, then all the tests followed after that WireMock test are starting to fail.</p>\n<p>Issues are like:</p>\n<pre><code>Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@42f3156d] for test method [public void com.example.MyClass.foo1()] and test instance [com.example.MyClassTest@5e3569e8]\norg.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource...\n</code></pre>\n<p>These failing methods are annotated with:</p>\n<pre><code>@Test\n@SqlGroup\n</code></pre>\n"},{"tags":["java","spring","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":3127182,"reputation":6869,"user_id":2645833,"accept_rate":54,"display_name":"krmanish007"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518782010,"creation_date":1518782010,"answer_id":48826213,"question_id":48825727,"body_markdown":"Surprisingly my server was running, and so my integration test was failing. I stopped my running server and started the test, and it worked fine, without any explicit version definition.","title":"KafkaEmbedded throwing ClassNotFoundException for SecurityProtocol","body":"<p>Surprisingly my server was running, and so my integration test was failing. I stopped my running server and started the test, and it worked fine, without any explicit version definition.</p>\n"},{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1518791542,"creation_date":1518791542,"answer_id":48828952,"question_id":48825727,"body_markdown":"&gt;java.lang.NoClassDefFoundError: org/apache/kafka/common/security/auth/SecurityProtocol\r\n\r\nThis is caused by a mismatched `kafka_2.11` and `kafka-clients` jars; they must be the same version. `SecurityProtocol` was moved to a different package in the 1.0.0 `kafka_clients` jar.\r\n\r\n&gt;java.lang.NoSuchMethodError: org.springframework.util.Assert.state(ZLjava/util/function/Supplier;)V\r\n\r\nThis one is because spring-kafka 2.x requires Spring Framework 5.0 which is not compatible with boot 1.5; it uses Spring Framework 4.3.x.\r\n\r\nSpring Boot 2.0 will be released soon, which will work with the latest Spring Kafka.\r\n\r\n&gt;java.lang.NoClassDefFoundError: kafka/utils/Time\r\n\r\nThat&#39;s another jar mismatch\r\n\r\n    KAFKA-2247; Merge kafka.utils.Time and kafka.common.utils.Time\r\n\r\n\r\nBecause of the way boot does dependency management, when you override the versions of, say, `spring-kafka` - you also have to override the dependencies to the right versions too (kafka-clients, kafka_2.11).","title":"KafkaEmbedded throwing ClassNotFoundException for SecurityProtocol","body":"<blockquote>\n  <p>java.lang.NoClassDefFoundError: org/apache/kafka/common/security/auth/SecurityProtocol</p>\n</blockquote>\n\n<p>This is caused by a mismatched <code>kafka_2.11</code> and <code>kafka-clients</code> jars; they must be the same version. <code>SecurityProtocol</code> was moved to a different package in the 1.0.0 <code>kafka_clients</code> jar.</p>\n\n<blockquote>\n  <p>java.lang.NoSuchMethodError: org.springframework.util.Assert.state(ZLjava/util/function/Supplier;)V</p>\n</blockquote>\n\n<p>This one is because spring-kafka 2.x requires Spring Framework 5.0 which is not compatible with boot 1.5; it uses Spring Framework 4.3.x.</p>\n\n<p>Spring Boot 2.0 will be released soon, which will work with the latest Spring Kafka.</p>\n\n<blockquote>\n  <p>java.lang.NoClassDefFoundError: kafka/utils/Time</p>\n</blockquote>\n\n<p>That's another jar mismatch</p>\n\n<pre><code>KAFKA-2247; Merge kafka.utils.Time and kafka.common.utils.Time\n</code></pre>\n\n<p>Because of the way boot does dependency management, when you override the versions of, say, <code>spring-kafka</code> - you also have to override the dependencies to the right versions too (kafka-clients, kafka_2.11).</p>\n"},{"tags":[],"owner":{"account_id":1682782,"reputation":7143,"user_id":2096986,"accept_rate":37,"display_name":"Felipe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637947307,"creation_date":1637947307,"answer_id":70128015,"question_id":48825727,"body_markdown":"As a complement to the accepted answer I will described my solution because in my case the class not found was [protocol/SecurityProtocol](https://github.com/a0x8o/kafka/blob/master/clients/src/main/java/org/apache/kafka/common/protocol/SecurityProtocol.java)\r\n```\r\njava.lang.NoClassDefFoundError: org/apache/kafka/common/protocol/SecurityProtocol\r\n```\r\nwhich is different of the [security/auth/SecurityProtocol](https://github.com/a0x8o/kafka/blob/master/clients/src/main/java/org/apache/kafka/common/security/auth/SecurityProtocol.java)\r\n```\r\njava.lang.NoClassDefFoundError: org/apache/kafka/common/security/auth/SecurityProtocol\r\n```\r\nI basically had to check all my dependencies using `./mvnw dependency:tree` and exclude `kafka-clients` that was not on the version that my project was.\r\n```\r\n&lt;exclusions&gt;\r\n  &lt;exclusion&gt;\r\n    &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n    &lt;artifactId&gt;kafka_2.11&lt;/artifactId&gt;\r\n  &lt;/exclusion&gt;\r\n  &lt;exclusion&gt;\r\n    &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n    &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\r\n  &lt;/exclusion&gt;\r\n&lt;/exclusions&gt;\r\n```\r\nmost of them was version 3.0. At the [Apache Kafka repo](https://github.com/a0x8o/kafka) there is a hint showing that it has to be compatible with the scala version. Then it was also necessary to verify all the scala version on the project. I had a few that were using different version.\r\n&gt; Scala 2.12 support has been deprecated since Apache Kafka 3.0\r\n\r\nand add the only version that has the `org/apache/kafka/common/protocol/SecurityProtocol` class and it is compatible with scala 2.11.\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n  &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\r\n  &lt;version&gt;0.11.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"KafkaEmbedded throwing ClassNotFoundException for SecurityProtocol","body":"<p>As a complement to the accepted answer I will described my solution because in my case the class not found was <a href=\"https://github.com/a0x8o/kafka/blob/master/clients/src/main/java/org/apache/kafka/common/protocol/SecurityProtocol.java\" rel=\"nofollow noreferrer\">protocol/SecurityProtocol</a></p>\n<pre><code>java.lang.NoClassDefFoundError: org/apache/kafka/common/protocol/SecurityProtocol\n</code></pre>\n<p>which is different of the <a href=\"https://github.com/a0x8o/kafka/blob/master/clients/src/main/java/org/apache/kafka/common/security/auth/SecurityProtocol.java\" rel=\"nofollow noreferrer\">security/auth/SecurityProtocol</a></p>\n<pre><code>java.lang.NoClassDefFoundError: org/apache/kafka/common/security/auth/SecurityProtocol\n</code></pre>\n<p>I basically had to check all my dependencies using <code>./mvnw dependency:tree</code> and exclude <code>kafka-clients</code> that was not on the version that my project was.</p>\n<pre><code>&lt;exclusions&gt;\n  &lt;exclusion&gt;\n    &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n    &lt;artifactId&gt;kafka_2.11&lt;/artifactId&gt;\n  &lt;/exclusion&gt;\n  &lt;exclusion&gt;\n    &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n    &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\n  &lt;/exclusion&gt;\n&lt;/exclusions&gt;\n</code></pre>\n<p>most of them was version 3.0. At the <a href=\"https://github.com/a0x8o/kafka\" rel=\"nofollow noreferrer\">Apache Kafka repo</a> there is a hint showing that it has to be compatible with the scala version. Then it was also necessary to verify all the scala version on the project. I had a few that were using different version.</p>\n<blockquote>\n<p>Scala 2.12 support has been deprecated since Apache Kafka 3.0</p>\n</blockquote>\n<p>and add the only version that has the <code>org/apache/kafka/common/protocol/SecurityProtocol</code> class and it is compatible with scala 2.11.</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n  &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\n  &lt;version&gt;0.11.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":3127182,"reputation":6869,"user_id":2645833,"accept_rate":54,"display_name":"krmanish007"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17039,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":48828952,"answer_count":3,"score":7,"last_activity_date":1637947307,"creation_date":1518780220,"question_id":48825727,"body_markdown":"My production code is working fine, but my integration test is throwing ClassNotFoundException for SecurityProtocol. I am using spring-boot-parent 1.5.10.RELEASE.\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.3.3.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-kafka-test&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.3.3.RELEASE&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nI am getting the below exception:\r\n\r\n    java.lang.NoClassDefFoundError: org/apache/kafka/common/security/auth/SecurityProtocol\r\n    \r\n    \tat kafka.server.KafkaConfig$.&lt;init&gt;(KafkaConfig.scala:578)\r\n    \tat kafka.server.KafkaConfig$.&lt;clinit&gt;(KafkaConfig.scala)\r\n    \tat kafka.utils.TestUtils$.createBrokerConfig(TestUtils.scala:228)\r\n    \tat kafka.utils.TestUtils.createBrokerConfig(TestUtils.scala)\r\n    \tat org.springframework.kafka.test.rule.KafkaEmbedded.createProperties(KafkaEmbedded.java:214)\r\n    \tat org.springframework.kafka.test.rule.KafkaEmbedded.before(KafkaEmbedded.java:191)\r\n    \tat org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:46)\r\n    \tat org.junit.rules.RunRules.evaluate(RunRules.java:20)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)\r\n    \tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n    \tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\r\n    \tat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\r\n    \tat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\r\n    \tat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\r\n    Caused by: java.lang.ClassNotFoundException: org.apache.kafka.common.security.auth.SecurityProtocol\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:335)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    \t... 15 more\r\n\r\nWhen I am using this pom, I am getting a different error:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-kafka-test&lt;/artifactId&gt;\r\n\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n    java.lang.NoClassDefFoundError: kafka/utils/Time\r\n    \tat com.betstars.eventdata.app.kafka.message.KafkaMessageSenderTest.&lt;clinit&gt;(KafkaMessageSenderTest.java:39)\r\n    \tat sun.misc.Unsafe.ensureClassInitialized(Native Method)\r\n    \tat sun.reflect.UnsafeFieldAccessorFactory.newFieldAccessor(UnsafeFieldAccessorFactory.java:43)\r\n    \tat sun.reflect.ReflectionFactory.newFieldAccessor(ReflectionFactory.java:156)\r\n    \tat java.lang.reflect.Field.acquireFieldAccessor(Field.java:1088)\r\n    \tat java.lang.reflect.Field.getFieldAccessor(Field.java:1069)\r\n    \tat java.lang.reflect.Field.get(Field.java:393)\r\n    \tat org.junit.runners.model.FrameworkField.get(FrameworkField.java:73)\r\n    \tat org.junit.runners.model.TestClass.getAnnotatedFieldValues(TestClass.java:230)\r\n    \tat org.junit.runners.ParentRunner.classRules(ParentRunner.java:255)\r\n    \tat org.junit.runners.ParentRunner.withClassRules(ParentRunner.java:244)\r\n    \tat org.junit.runners.ParentRunner.classBlock(ParentRunner.java:194)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:362)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)\r\n    \tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n    \tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\r\n    \tat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\r\n    \tat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\r\n    \tat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\r\n    Caused by: java.lang.ClassNotFoundException: kafka.utils.Time\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:335)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    \t... 19 more\r\n\r\nAnd when I use the latest version, I am getting a different error:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.1.2.RELEASE&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-kafka-test&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.1.2.RELEASE&lt;/version&gt;\r\n\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n    java.lang.NoSuchMethodError: org.springframework.util.Assert.state(ZLjava/util/function/Supplier;)V\r\n    \r\n    \tat org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.determineInferredType(MessagingMessageListenerAdapter.java:396)\r\n    \tat org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.&lt;init&gt;(MessagingMessageListenerAdapter.java:100)\r\n    \tat org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.&lt;init&gt;(RecordMessagingMessageListenerAdapter.java:61)\r\n    \tat org.springframework.kafka.config.MethodKafkaListenerEndpoint.createMessageListenerInstance(MethodKafkaListenerEndpoint.java:172)\r\n    \tat org.springframework.kafka.config.MethodKafkaListenerEndpoint.createMessageListener(MethodKafkaListenerEndpoint.java:132)\r\n    \tat org.springframework.kafka.config.AbstractKafkaListenerEndpoint.setupMessageListener(AbstractKafkaListenerEndpoint.java:355)\r\n    \tat org.springframework.kafka.config.AbstractKafkaListenerEndpoint.setupListenerContainer(AbstractKafkaListenerEndpoint.java:340)\r\n\r\n","title":"KafkaEmbedded throwing ClassNotFoundException for SecurityProtocol","body":"<p>My production code is working fine, but my integration test is throwing ClassNotFoundException for SecurityProtocol. I am using spring-boot-parent 1.5.10.RELEASE.</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n        &lt;version&gt;1.3.3.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-kafka-test&lt;/artifactId&gt;\n        &lt;version&gt;1.3.3.RELEASE&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>I am getting the below exception:</p>\n\n<pre><code>java.lang.NoClassDefFoundError: org/apache/kafka/common/security/auth/SecurityProtocol\n\n    at kafka.server.KafkaConfig$.&lt;init&gt;(KafkaConfig.scala:578)\n    at kafka.server.KafkaConfig$.&lt;clinit&gt;(KafkaConfig.scala)\n    at kafka.utils.TestUtils$.createBrokerConfig(TestUtils.scala:228)\n    at kafka.utils.TestUtils.createBrokerConfig(TestUtils.scala)\n    at org.springframework.kafka.test.rule.KafkaEmbedded.createProperties(KafkaEmbedded.java:214)\n    at org.springframework.kafka.test.rule.KafkaEmbedded.before(KafkaEmbedded.java:191)\n    at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:46)\n    at org.junit.rules.RunRules.evaluate(RunRules.java:20)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\n    at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\n    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\nCaused by: java.lang.ClassNotFoundException: org.apache.kafka.common.security.auth.SecurityProtocol\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:335)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    ... 15 more\n</code></pre>\n\n<p>When I am using this pom, I am getting a different error:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-kafka-test&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n\njava.lang.NoClassDefFoundError: kafka/utils/Time\n    at com.betstars.eventdata.app.kafka.message.KafkaMessageSenderTest.&lt;clinit&gt;(KafkaMessageSenderTest.java:39)\n    at sun.misc.Unsafe.ensureClassInitialized(Native Method)\n    at sun.reflect.UnsafeFieldAccessorFactory.newFieldAccessor(UnsafeFieldAccessorFactory.java:43)\n    at sun.reflect.ReflectionFactory.newFieldAccessor(ReflectionFactory.java:156)\n    at java.lang.reflect.Field.acquireFieldAccessor(Field.java:1088)\n    at java.lang.reflect.Field.getFieldAccessor(Field.java:1069)\n    at java.lang.reflect.Field.get(Field.java:393)\n    at org.junit.runners.model.FrameworkField.get(FrameworkField.java:73)\n    at org.junit.runners.model.TestClass.getAnnotatedFieldValues(TestClass.java:230)\n    at org.junit.runners.ParentRunner.classRules(ParentRunner.java:255)\n    at org.junit.runners.ParentRunner.withClassRules(ParentRunner.java:244)\n    at org.junit.runners.ParentRunner.classBlock(ParentRunner.java:194)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:362)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\n    at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\n    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\nCaused by: java.lang.ClassNotFoundException: kafka.utils.Time\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:335)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    ... 19 more\n</code></pre>\n\n<p>And when I use the latest version, I am getting a different error:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n    &lt;version&gt;2.1.2.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-kafka-test&lt;/artifactId&gt;\n    &lt;version&gt;2.1.2.RELEASE&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n\njava.lang.NoSuchMethodError: org.springframework.util.Assert.state(ZLjava/util/function/Supplier;)V\n\n    at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.determineInferredType(MessagingMessageListenerAdapter.java:396)\n    at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.&lt;init&gt;(MessagingMessageListenerAdapter.java:100)\n    at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.&lt;init&gt;(RecordMessagingMessageListenerAdapter.java:61)\n    at org.springframework.kafka.config.MethodKafkaListenerEndpoint.createMessageListenerInstance(MethodKafkaListenerEndpoint.java:172)\n    at org.springframework.kafka.config.MethodKafkaListenerEndpoint.createMessageListener(MethodKafkaListenerEndpoint.java:132)\n    at org.springframework.kafka.config.AbstractKafkaListenerEndpoint.setupMessageListener(AbstractKafkaListenerEndpoint.java:355)\n    at org.springframework.kafka.config.AbstractKafkaListenerEndpoint.setupListenerContainer(AbstractKafkaListenerEndpoint.java:340)\n</code></pre>\n"},{"tags":["java","algorithm","collections","refactoring"],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637947119,"creation_date":1637946018,"answer_id":70127763,"question_id":70127383,"body_markdown":"A simple solution would be\r\n\r\n```java\r\nList&lt;String&gt; codesToRemove = new ArrayList&lt;&gt;(currentCodes);\r\ncodesToRemove.removeAll(newCodes);\r\nList&lt;String&gt; codesToAdd = new ArrayList&lt;&gt;(newCodes);\r\ncodesToAdd.removeAll(currentCodes);\r\n```\r\n\r\nbut, like your original approach, it has a high time complexity, O(n&#215;m), which means, it will be very inefficient when both lists are very large. But it may run with reasonable performance for a lot of scenarios.\r\n\r\nIf you have to consider the possibility that both lists can be large, a solution running in linear time would be\r\n\r\n```java\r\nList&lt;String&gt; codesToRemove, codesToAdd;\r\n\r\nif(currentCodes.isEmpty() || newCodes.isEmpty()) { // short-cut\r\n    codesToRemove = currentCodes;\r\n    codesToAdd = newCodes;\r\n}\r\nelse {\r\n    HashSet&lt;String&gt; set = new LinkedHashSet&lt;&gt;(currentCodes);\r\n    codesToAdd = new ArrayList&lt;&gt;();\r\n    for(String newObj: newCodes) if(!set.remove(newObj)) codesToAdd.add(newObj);\r\n    codesToRemove = new ArrayList&lt;&gt;(set);\r\n}\r\n```\r\n\r\nIf you really need the maximum performance for all scenarios, you may set a threshold for `currentCodes.size() * newCodes.size()`, use the short-cut for zero, the plain `ArrayList` operation when the product is below the threshold and the `HashSet` based solution otherwise.\r\n","title":"code improvement when collecting elements for add and removal","body":"<p>A simple solution would be</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; codesToRemove = new ArrayList&lt;&gt;(currentCodes);\ncodesToRemove.removeAll(newCodes);\nList&lt;String&gt; codesToAdd = new ArrayList&lt;&gt;(newCodes);\ncodesToAdd.removeAll(currentCodes);\n</code></pre>\n<p>but, like your original approach, it has a high time complexity, O(n×m), which means, it will be very inefficient when both lists are very large. But it may run with reasonable performance for a lot of scenarios.</p>\n<p>If you have to consider the possibility that both lists can be large, a solution running in linear time would be</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; codesToRemove, codesToAdd;\n\nif(currentCodes.isEmpty() || newCodes.isEmpty()) { // short-cut\n    codesToRemove = currentCodes;\n    codesToAdd = newCodes;\n}\nelse {\n    HashSet&lt;String&gt; set = new LinkedHashSet&lt;&gt;(currentCodes);\n    codesToAdd = new ArrayList&lt;&gt;();\n    for(String newObj: newCodes) if(!set.remove(newObj)) codesToAdd.add(newObj);\n    codesToRemove = new ArrayList&lt;&gt;(set);\n}\n</code></pre>\n<p>If you really need the maximum performance for all scenarios, you may set a threshold for <code>currentCodes.size() * newCodes.size()</code>, use the short-cut for zero, the plain <code>ArrayList</code> operation when the product is below the threshold and the <code>HashSet</code> based solution otherwise.</p>\n"}],"owner":{"account_id":3227370,"reputation":988,"user_id":2723401,"accept_rate":95,"display_name":"Kapparino"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70127763,"answer_count":1,"score":1,"last_activity_date":1637947119,"creation_date":1637943867,"question_id":70127383,"body_markdown":"I made a little program for testing, where I collect elements for add and removal. Below is a list of the test cases, where &quot;current&quot; and &quot;new&quot; are given parameters, and sign &quot;=&gt;&quot; is expected result of add and remove collection:\r\n\r\n    current[]                  ; new[code1,code2]  =&gt; add[code1,code2]\r\n    current[code1,code2]       ; new[]             =&gt; remove[code1,code2]\r\n    current[code1,code2]       ; new[code3]        =&gt; remove[code1,code2],add[code3]\r\n    current[code1,code2,code3] ; new[code1,code2]  =&gt; remove[code3]\r\n    current[code1,code2]       ; new[code1,code3]  =&gt; remove[code2],add[code3]\r\n\r\nBelow is my code which works fine with expected results above:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n            List&lt;String&gt; currentList = new ArrayList&lt;&gt;();\r\n            List&lt;String&gt; newList = new ArrayList&lt;&gt;();\r\n    \r\n            currentList.clear();\r\n            newList.clear();\r\n            newList.addAll(Arrays.asList(&quot;code1&quot;, &quot;code2&quot;));\r\n            test(currentList, newList);\r\n    \r\n            currentList.clear();\r\n            newList.clear();\r\n            currentList.addAll(Arrays.asList(&quot;code1&quot;, &quot;code2&quot;));\r\n            test(currentList, newList);\r\n    \r\n            currentList.clear();\r\n            newList.clear();\r\n            currentList.addAll(Arrays.asList(&quot;code1&quot;, &quot;code2&quot;));\r\n            newList.addAll(Arrays.asList(&quot;code3&quot;));\r\n            test(currentList, newList);\r\n    \r\n            currentList.clear();\r\n            newList.clear();\r\n            currentList.addAll(Arrays.asList(&quot;code1&quot;, &quot;code2&quot;, &quot;code3&quot;));\r\n            newList.addAll(Arrays.asList(&quot;code1&quot;, &quot;code2&quot;));\r\n            test(currentList, newList);\r\n    \r\n            currentList.clear();\r\n            newList.clear();\r\n            currentList.addAll(Arrays.asList(&quot;code1&quot;, &quot;code2&quot;));\r\n            newList.addAll(Arrays.asList(&quot;code1&quot;, &quot;code3&quot;));\r\n            test(currentList, newList);\r\n        }\r\n    \r\n        // Test cases:\r\n        // current[]                  ; new[code1,code2]  =&gt; add[code1,code2]\r\n        // current[code1,code2]       ; new[]             =&gt; remove[code1,code2]\r\n        // current[code1,code2]       ; new[code3]        =&gt; remove[code1,code2],add[code3]\r\n        // current[code1,code2,code3] ; new[code1,code2]  =&gt; remove[code3]\r\n        // current[code1,code2]       ; new[code1,code3]  =&gt; remove[code2],add[code3]\r\n        public static void test(List&lt;String&gt; currentCodes, List&lt;String&gt; newCodes) {\r\n            System.out.println(&quot;current&quot; + currentCodes + &quot; ; new&quot; + newCodes);\r\n    \r\n            List&lt;String&gt; codesToRemove = new ArrayList&lt;&gt;();\r\n            for (String currentCode : currentCodes) {\r\n                if (!newCodes.contains(currentCode)) {\r\n                    // just a note: call some service\r\n                    codesToRemove.add(currentCode);\r\n                }\r\n            }\r\n    \r\n            List&lt;String&gt; codesToAdd = new ArrayList&lt;&gt;();\r\n            for (String newCode : newCodes) {\r\n                if (!currentCodes.contains(newCode)) {\r\n                    // just a note: call some service\r\n                    codesToAdd.add(newCode);\r\n                }\r\n            }\r\n    \r\n            System.out.println(&quot;removeResult&quot; + codesToRemove);\r\n            System.out.println(&quot;addResult&quot; + codesToAdd);\r\n            System.out.println(&quot;......................................&quot;);\r\n        }\r\n    }\r\n\r\nReason why I am writing, is that I am under impression that this code when iterating and adding to collections add and remove, could be written better (eg. perform faster).\r\nAny suggestions?","title":"code improvement when collecting elements for add and removal","body":"<p>I made a little program for testing, where I collect elements for add and removal. Below is a list of the test cases, where &quot;current&quot; and &quot;new&quot; are given parameters, and sign &quot;=&gt;&quot; is expected result of add and remove collection:</p>\n<pre><code>current[]                  ; new[code1,code2]  =&gt; add[code1,code2]\ncurrent[code1,code2]       ; new[]             =&gt; remove[code1,code2]\ncurrent[code1,code2]       ; new[code3]        =&gt; remove[code1,code2],add[code3]\ncurrent[code1,code2,code3] ; new[code1,code2]  =&gt; remove[code3]\ncurrent[code1,code2]       ; new[code1,code3]  =&gt; remove[code2],add[code3]\n</code></pre>\n<p>Below is my code which works fine with expected results above:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        List&lt;String&gt; currentList = new ArrayList&lt;&gt;();\n        List&lt;String&gt; newList = new ArrayList&lt;&gt;();\n\n        currentList.clear();\n        newList.clear();\n        newList.addAll(Arrays.asList(&quot;code1&quot;, &quot;code2&quot;));\n        test(currentList, newList);\n\n        currentList.clear();\n        newList.clear();\n        currentList.addAll(Arrays.asList(&quot;code1&quot;, &quot;code2&quot;));\n        test(currentList, newList);\n\n        currentList.clear();\n        newList.clear();\n        currentList.addAll(Arrays.asList(&quot;code1&quot;, &quot;code2&quot;));\n        newList.addAll(Arrays.asList(&quot;code3&quot;));\n        test(currentList, newList);\n\n        currentList.clear();\n        newList.clear();\n        currentList.addAll(Arrays.asList(&quot;code1&quot;, &quot;code2&quot;, &quot;code3&quot;));\n        newList.addAll(Arrays.asList(&quot;code1&quot;, &quot;code2&quot;));\n        test(currentList, newList);\n\n        currentList.clear();\n        newList.clear();\n        currentList.addAll(Arrays.asList(&quot;code1&quot;, &quot;code2&quot;));\n        newList.addAll(Arrays.asList(&quot;code1&quot;, &quot;code3&quot;));\n        test(currentList, newList);\n    }\n\n    // Test cases:\n    // current[]                  ; new[code1,code2]  =&gt; add[code1,code2]\n    // current[code1,code2]       ; new[]             =&gt; remove[code1,code2]\n    // current[code1,code2]       ; new[code3]        =&gt; remove[code1,code2],add[code3]\n    // current[code1,code2,code3] ; new[code1,code2]  =&gt; remove[code3]\n    // current[code1,code2]       ; new[code1,code3]  =&gt; remove[code2],add[code3]\n    public static void test(List&lt;String&gt; currentCodes, List&lt;String&gt; newCodes) {\n        System.out.println(&quot;current&quot; + currentCodes + &quot; ; new&quot; + newCodes);\n\n        List&lt;String&gt; codesToRemove = new ArrayList&lt;&gt;();\n        for (String currentCode : currentCodes) {\n            if (!newCodes.contains(currentCode)) {\n                // just a note: call some service\n                codesToRemove.add(currentCode);\n            }\n        }\n\n        List&lt;String&gt; codesToAdd = new ArrayList&lt;&gt;();\n        for (String newCode : newCodes) {\n            if (!currentCodes.contains(newCode)) {\n                // just a note: call some service\n                codesToAdd.add(newCode);\n            }\n        }\n\n        System.out.println(&quot;removeResult&quot; + codesToRemove);\n        System.out.println(&quot;addResult&quot; + codesToAdd);\n        System.out.println(&quot;......................................&quot;);\n    }\n}\n</code></pre>\n<p>Reason why I am writing, is that I am under impression that this code when iterating and adding to collections add and remove, could be written better (eg. perform faster).\nAny suggestions?</p>\n"},{"tags":["java","spring-mvc"],"comments":[{"owner":{"account_id":462861,"reputation":17872,"user_id":865403,"accept_rate":60,"display_name":"Pavel Horal"},"score":0,"creation_date":1429542248,"post_id":29751416,"comment_id":47635091,"body_markdown":"Not sure whether [`Order`](http://docs.spring.io/spring-framework/docs/3.2.3.RELEASE/javadoc-api/org/springframework/core/annotation/Order.html) annotation will affect handler mapping logic (you can give it a try). If not, you can map to a different URL and implement some sort of rewriting (e.g. via [URLRewriteFilter](http://tuckey.org/urlrewrite/)).","body":"Not sure whether <a href=\"http://docs.spring.io/spring-framework/docs/3.2.3.RELEASE/javadoc-api/org/springframework/core/annotation/Order.html\" rel=\"nofollow noreferrer\"><code>Order</code></a> annotation will affect handler mapping logic (you can give it a try). If not, you can map to a different URL and implement some sort of rewriting (e.g. via <a href=\"http://tuckey.org/urlrewrite/\" rel=\"nofollow noreferrer\">URLRewriteFilter</a>)."},{"owner":{"account_id":462861,"reputation":17872,"user_id":865403,"accept_rate":60,"display_name":"Pavel Horal"},"score":0,"creation_date":1429543127,"post_id":29751416,"comment_id":47635774,"body_markdown":"Have to correct myself - `Order` won&#39;t work because duplicate mapping is not allowed in Spring (as Jordi pointed out in his answer).","body":"Have to correct myself - <code>Order</code> won&#39;t work because duplicate mapping is not allowed in Spring (as Jordi pointed out in his answer)."}],"answers":[{"tags":[],"owner":{"account_id":4763924,"reputation":26697,"user_id":3850595,"accept_rate":86,"display_name":"Jordi Castilla"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1429542915,"creation_date":1429542614,"answer_id":29751684,"question_id":29751416,"body_markdown":"**Each mapping must be unique.**. There is no way to overrule an existing `@RequestMapping`. \r\n\r\n----------------------\r\n\r\n&lt;br&gt;\r\n**BUT** You can always do some workarounds:\r\n\r\nUse a param in the request like this will create a new `@RequestMapping` that will differ from the existing one. \r\n\r\n    @RequestMapping(&quot;/helloWorld/{someDataId}&quot;, method = RequestMethod.GET)\r\n    public String helloWorld(@PathVariable(&quot;someDataId&quot;) final long id, Model model) {\r\n     /* your code here */ \r\n    }\r\n\r\n\r\nOr creating another `@Controller` extending the existing one: \r\n\r\n    public class YourController extends BaseController {\r\n    \r\n        @Override\r\n        @RequestMapping(&quot;/helloWorld&quot;)\r\n        public void renderDashboard(Model model){\r\n            // Call to default functionallity (if you want...)\r\n            super.renderDashboard(patientId, map);\r\n        }\r\n    }   \r\n      ","title":"How to override @RequestMapping in another controller?","body":"<p><strong>Each mapping must be unique.</strong>. There is no way to overrule an existing <code>@RequestMapping</code>. </p>\n\n<hr>\n\n<p><br>\n<strong>BUT</strong> You can always do some workarounds:</p>\n\n<p>Use a param in the request like this will create a new <code>@RequestMapping</code> that will differ from the existing one. </p>\n\n<pre><code>@RequestMapping(\"/helloWorld/{someDataId}\", method = RequestMethod.GET)\npublic String helloWorld(@PathVariable(\"someDataId\") final long id, Model model) {\n /* your code here */ \n}\n</code></pre>\n\n<p>Or creating another <code>@Controller</code> extending the existing one: </p>\n\n<pre><code>public class YourController extends BaseController {\n\n    @Override\n    @RequestMapping(\"/helloWorld\")\n    public void renderDashboard(Model model){\n        // Call to default functionallity (if you want...)\n        super.renderDashboard(patientId, map);\n    }\n}   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1769203,"reputation":8965,"user_id":1614378,"accept_rate":55,"display_name":"devops"},"down_vote_count":1,"up_vote_count":18,"is_accepted":true,"score":17,"last_activity_date":1479220771,"creation_date":1429607605,"answer_id":29767812,"question_id":29751416,"body_markdown":"Url mapping as annotation can not be overridden. You will get an error if two or more Controllers are configured with the same request url and request method. \r\n\r\nWhat you can do is to extend the request mapping:\r\n\r\n    @Controller\r\n    public class MyHelloWorldController {\r\n\r\n        @RequestMapping(&quot;/helloWorld&quot;, params = { &quot;type=42&quot; })\r\n        public String helloWorld(Model model) {\r\n            model.addAttribute(&quot;message&quot;, &quot;Hello World from my new controller&quot;);\r\n            return &quot;helloWorld&quot;;\r\n        }\r\n\r\n    }\r\n\r\nExample: Now if you call **yourhost/helloWorld?type=42** `MyHelloWorldController` will response the request\r\n\r\n---------------------------------\r\n\r\nBy the way.\r\nController should not be a dynamic content provider. You need a `@Service` instance. So you can implement Controller once and use multiple Service implementation. This is the main idea of [Spring MVC and DI][1]\r\n\r\n    @Controller\r\n    public class HelloWorldController {\r\n\r\n        @Autowired\r\n        private MessageService _messageService; // -&gt; new MessageServiceImpl1() or new MessageServiceImpl2() ...\r\n\r\n        @RequestMapping(&quot;/helloWorld&quot;)\r\n        public String helloWorld(Model model) {\r\n            model.addAttribute(&quot;message&quot;, messageService.getMessage());\r\n            return &quot;helloWorld&quot;;\r\n        }\r\n\r\n    }\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/spring-framework-reference/html/mvc.html#mvc-ann-requestmapping","title":"How to override @RequestMapping in another controller?","body":"<p>Url mapping as annotation can not be overridden. You will get an error if two or more Controllers are configured with the same request url and request method. </p>\n\n<p>What you can do is to extend the request mapping:</p>\n\n<pre><code>@Controller\npublic class MyHelloWorldController {\n\n    @RequestMapping(\"/helloWorld\", params = { \"type=42\" })\n    public String helloWorld(Model model) {\n        model.addAttribute(\"message\", \"Hello World from my new controller\");\n        return \"helloWorld\";\n    }\n\n}\n</code></pre>\n\n<p>Example: Now if you call <strong>yourhost/helloWorld?type=42</strong> <code>MyHelloWorldController</code> will response the request</p>\n\n<hr>\n\n<p>By the way.\nController should not be a dynamic content provider. You need a <code>@Service</code> instance. So you can implement Controller once and use multiple Service implementation. This is the main idea of <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/mvc.html#mvc-ann-requestmapping\" rel=\"noreferrer\">Spring MVC and DI</a></p>\n\n<pre><code>@Controller\npublic class HelloWorldController {\n\n    @Autowired\n    private MessageService _messageService; // -&gt; new MessageServiceImpl1() or new MessageServiceImpl2() ...\n\n    @RequestMapping(\"/helloWorld\")\n    public String helloWorld(Model model) {\n        model.addAttribute(\"message\", messageService.getMessage());\n        return \"helloWorld\";\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3355359,"reputation":41,"user_id":9457688,"display_name":"Bruce Grobler"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1520490589,"creation_date":1520438532,"answer_id":49156303,"question_id":29751416,"body_markdown":"Here is another workaround, that may or may not be dangerous.\r\n\r\nCreate the below class &quot;MyRequestMappingHandler&quot;, then wire it up in your MvcConfig \r\n\r\n\r\n\r\n\t@Bean\r\n\tpublic RequestMappingHandlerMapping requestMappingHandlerMapping() {\r\n\r\n\t\treturn new MyRequestMappingHandler();\r\n\t}\r\n\r\n\r\nRequestMappingHandlerMapping: *** THIS IS NOT PRODUCTION CODE - UP TO YOU ***\r\n\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.aop.support.AopUtils;\r\n    import org.springframework.context.annotation.Primary;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.servlet.mvc.method.RequestMappingInfo;\r\n    import org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping;\r\n\r\n    import java.lang.reflect.Method;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.stream.Collectors;\r\n \r\n    public class MyRequestMappingHandler extends RequestMappingHandlerMapping {\r\n\r\n\t@Override\r\n\tprotected RequestMappingInfo getMappingForMethod(Method method, Class&lt;?&gt; handlerType) {\r\n\r\n\t\t    RequestMappingInfo mappingForMethod = super.getMappingForMethod(method, handlerType);\r\n\r\n            // Check if this class extends a super. and that super is annotated with @Controller.\r\n\t\t    Class superClass = handlerType.getSuperclass();\r\n\r\n\t\t    if (superClass.isAnnotationPresent(Controller.class)) {\r\n\t\t\t    // We have a super class controller.\r\n\r\n\t\t\t    if (handlerType.isAnnotationPresent(Primary.class)) {\r\n\t\t\t\t// We have a @Primary on the child.\r\n\t\t\t\treturn mappingForMethod;\r\n\t\t\t    }\r\n\t\t    } else {\r\n\t\t\t    // We do not have a super class, therefore we need to look for other implementations of this class.\r\n\t\t\t    Map&lt;String, Object&gt; controllerBeans = getApplicationContext().getBeansWithAnnotation(Controller.class);\r\n\r\n\t\t\t    List&lt;Map.Entry&lt;String, Object&gt;&gt; classesExtendingHandler = controllerBeans.entrySet().stream().filter(e -&gt;\r\n\t\t\t\t\tAopUtils.getTargetClass(e.getValue()).getSuperclass().getName().equalsIgnoreCase(handlerType\r\n\t\t\t\t\t\t\t.getName()) &amp;&amp;\r\n\t\t\t\t\t\t\t!AopUtils.getTargetClass(e.getValue()).getName().equalsIgnoreCase(handlerType.getName()))\r\n\t\t\t\t\t.collect(Collectors.toList());\r\n\r\n\r\n\t\t\t    if (classesExtendingHandler == null || classesExtendingHandler.isEmpty()) {\r\n\t\t\t\t    // No classes extend this handler, therefore it is the only one.\r\n\t\t\t\t    return mappingForMethod;\r\n\t\t\t    } else {\r\n\t\t\t\t    // Classes extend this handler,\r\n\r\n\t\t\t\t    // If this handler is marked with @Primary and no others are then return info;\r\n\t\t\t\t    List&lt;Map.Entry&lt;String, Object&gt;&gt; classesWithPrimary = classesExtendingHandler\r\n\t\t\t\t\t\t.stream()\r\n\t\t\t\t\t\t.filter(e -&gt; e.getValue().getClass().isAnnotationPresent(Primary.class) &amp;&amp;\r\n\t\t\t\t\t\t\t\t!AopUtils.getTargetClass(e.getValue().getClass()).getName().equalsIgnoreCase\r\n\t\t\t\t\t\t\t\t\t\t(handlerType.getName()))\r\n\t\t\t\t\t\t.collect(Collectors.toList());\r\n\t\t\t\t    if (classesWithPrimary == null || classesWithPrimary.isEmpty()) {\r\n\t\t\t\t\t    // No classes are marked with primary.\r\n\t\t\t\t\t    return null;\r\n\t\t\t\t    } else {\r\n\t\t\t\t\t    // One or more classes are marked with @Primary,\r\n\r\n\t\t\t\t\t    if (classesWithPrimary.size() == 1 &amp;&amp; AopUtils.getTargetClass(classesWithPrimary.get(0).getValue\r\n\t\t\t\t\t\t\t()).getClass().getName().equalsIgnoreCase(handlerType.getName())) {\r\n\t\t\t\t\t\t    // We have only one and it is this one, return it.\r\n\t\t\t\t\t\t    return mappingForMethod;\r\n\t\t\t\t\t    } else if (classesWithPrimary.size() == 1 &amp;&amp; !AopUtils.getTargetClass(classesWithPrimary.get(0)\r\n\t\t\t\t\t\t\t.getValue()).getClass().getName().equalsIgnoreCase(handlerType.getName())) {\r\n\t\t\t\t\t\t    // Nothing.\r\n\t\t\t\t\t    } else {\r\n\t\t\t\t\t\t    // nothing.\r\n\t\t\t\t\t    }\r\n\t\t\t\t    }\r\n\t\t\t    }\r\n\t  \t    }\r\n\r\n\r\n\r\n\t\t    // If it does, and it is marked with @Primary, then return info.\r\n\r\n\t\t    // else If it does not extend a super with @Controller and there are no children, then return info;\r\n\r\n\t     \treturn null;\r\n\t    }\r\n    }\r\n\r\n\r\nWhat this allows you to do is, extend a @Controller class, and mark it with @Primary, and override a method on that class, your new class will now be loaded up when spring starts up instead of blowing up with &quot;multiple beans / request mappings etc&quot;\r\n\r\n\r\nExample of &quot;super&quot; Controller : \r\n\r\n    @Controller \r\n    public class Foobar {\r\n \r\n        @RequestMapping(method = &quot;GET&quot;)\r\n        private String index() {\r\n          return &quot;view&quot;;\r\n        }\r\n\r\n    } \r\n\r\nExample of implementation :\r\n\r\n    @Primary\r\n    @Controller \r\n    public class MyFoobar extends Foobar {\r\n       \r\n        @Override\r\n        private String index() {\r\n          return &quot;myView&quot;;\r\n        }\r\n\r\n    }\r\n\r\n","title":"How to override @RequestMapping in another controller?","body":"<p>Here is another workaround, that may or may not be dangerous.</p>\n\n<p>Create the below class \"MyRequestMappingHandler\", then wire it up in your MvcConfig </p>\n\n<pre><code>@Bean\npublic RequestMappingHandlerMapping requestMappingHandlerMapping() {\n\n    return new MyRequestMappingHandler();\n}\n</code></pre>\n\n<p>RequestMappingHandlerMapping: <strong>* THIS IS NOT PRODUCTION CODE - UP TO YOU *</strong></p>\n\n<pre><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.aop.support.AopUtils;\nimport org.springframework.context.annotation.Primary;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.servlet.mvc.method.RequestMappingInfo;\nimport org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping;\n\nimport java.lang.reflect.Method;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.stream.Collectors;\n\npublic class MyRequestMappingHandler extends RequestMappingHandlerMapping {\n\n@Override\nprotected RequestMappingInfo getMappingForMethod(Method method, Class&lt;?&gt; handlerType) {\n\n        RequestMappingInfo mappingForMethod = super.getMappingForMethod(method, handlerType);\n\n        // Check if this class extends a super. and that super is annotated with @Controller.\n        Class superClass = handlerType.getSuperclass();\n\n        if (superClass.isAnnotationPresent(Controller.class)) {\n            // We have a super class controller.\n\n            if (handlerType.isAnnotationPresent(Primary.class)) {\n            // We have a @Primary on the child.\n            return mappingForMethod;\n            }\n        } else {\n            // We do not have a super class, therefore we need to look for other implementations of this class.\n            Map&lt;String, Object&gt; controllerBeans = getApplicationContext().getBeansWithAnnotation(Controller.class);\n\n            List&lt;Map.Entry&lt;String, Object&gt;&gt; classesExtendingHandler = controllerBeans.entrySet().stream().filter(e -&gt;\n                AopUtils.getTargetClass(e.getValue()).getSuperclass().getName().equalsIgnoreCase(handlerType\n                        .getName()) &amp;&amp;\n                        !AopUtils.getTargetClass(e.getValue()).getName().equalsIgnoreCase(handlerType.getName()))\n                .collect(Collectors.toList());\n\n\n            if (classesExtendingHandler == null || classesExtendingHandler.isEmpty()) {\n                // No classes extend this handler, therefore it is the only one.\n                return mappingForMethod;\n            } else {\n                // Classes extend this handler,\n\n                // If this handler is marked with @Primary and no others are then return info;\n                List&lt;Map.Entry&lt;String, Object&gt;&gt; classesWithPrimary = classesExtendingHandler\n                    .stream()\n                    .filter(e -&gt; e.getValue().getClass().isAnnotationPresent(Primary.class) &amp;&amp;\n                            !AopUtils.getTargetClass(e.getValue().getClass()).getName().equalsIgnoreCase\n                                    (handlerType.getName()))\n                    .collect(Collectors.toList());\n                if (classesWithPrimary == null || classesWithPrimary.isEmpty()) {\n                    // No classes are marked with primary.\n                    return null;\n                } else {\n                    // One or more classes are marked with @Primary,\n\n                    if (classesWithPrimary.size() == 1 &amp;&amp; AopUtils.getTargetClass(classesWithPrimary.get(0).getValue\n                        ()).getClass().getName().equalsIgnoreCase(handlerType.getName())) {\n                        // We have only one and it is this one, return it.\n                        return mappingForMethod;\n                    } else if (classesWithPrimary.size() == 1 &amp;&amp; !AopUtils.getTargetClass(classesWithPrimary.get(0)\n                        .getValue()).getClass().getName().equalsIgnoreCase(handlerType.getName())) {\n                        // Nothing.\n                    } else {\n                        // nothing.\n                    }\n                }\n            }\n        }\n\n\n\n        // If it does, and it is marked with @Primary, then return info.\n\n        // else If it does not extend a super with @Controller and there are no children, then return info;\n\n        return null;\n    }\n}\n</code></pre>\n\n<p>What this allows you to do is, extend a @Controller class, and mark it with @Primary, and override a method on that class, your new class will now be loaded up when spring starts up instead of blowing up with \"multiple beans / request mappings etc\"</p>\n\n<p>Example of \"super\" Controller : </p>\n\n<pre><code>@Controller \npublic class Foobar {\n\n    @RequestMapping(method = \"GET\")\n    private String index() {\n      return \"view\";\n    }\n\n} \n</code></pre>\n\n<p>Example of implementation :</p>\n\n<pre><code>@Primary\n@Controller \npublic class MyFoobar extends Foobar {\n\n    @Override\n    private String index() {\n      return \"myView\";\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6502278,"reputation":1449,"user_id":5032575,"display_name":"Ahmed Sayed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637946958,"creation_date":1637946958,"answer_id":70127945,"question_id":29751416,"body_markdown":"You can dynamically (on application startup) deregister the existing handler methods from the `RequestMappingHandlerMapping`, and register your (new) handler method instead. \r\nThis could be done as follows:\r\n\r\n```java\r\nclass ApplicationConfig {\r\n\r\n    @Bean\r\n    NewController newController() {\r\n        return new NewController();\r\n    }\r\n\r\n    @Autowired\r\n    public void registerOverriddenControllerEndpoint(final RequestMappingHandlerMapping handlerMapping,\r\n            final NewController controller) throws NoSuchMethodException {\r\n\r\n        final RequestMappingInfo mapping = RequestMappingInfo.paths(&quot;path/to/be/overridden&quot;)\r\n           .methods(RequestMethod.GET) // or any other request method\r\n           .build();\r\n\r\n        handlerMapping.unregisterMapping(mapping);\r\n        Class[] argTypes = new Class[]{/* The parameter types needed for the &#39;methodThatHandlesTheEndpoint&#39; method */};\r\n        handlerMapping.registerMapping(mapping, controller, NewController.class.getMethod(&quot;methodThatHandlesTheEndpoint&quot;, argTypes));\r\n    }\r\n}\r\n```\r\nThis means, that I have now two methods with the same mapping:\r\n```java\r\nclass ExistingController {\r\n   // This will be now ignored\r\n   @GetMapping(&quot;path/to/be/overridden&quot;)\r\n   public ResponseEntity&lt;Void&gt; methodThatHandlesTheEndpoint() {\r\n   }\r\n}\r\n```\r\nand\r\n```java\r\nclass NewController {\r\n   // This will be now the main handler\r\n   @GetMapping(&quot;path/to/be/overridden&quot;)\r\n   public ResponseEntity&lt;Void&gt; methodThatHandlesTheEndpoint() {\r\n   }\r\n}\r\n```","title":"How to override @RequestMapping in another controller?","body":"<p>You can dynamically (on application startup) deregister the existing handler methods from the <code>RequestMappingHandlerMapping</code>, and register your (new) handler method instead.\nThis could be done as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ApplicationConfig {\n\n    @Bean\n    NewController newController() {\n        return new NewController();\n    }\n\n    @Autowired\n    public void registerOverriddenControllerEndpoint(final RequestMappingHandlerMapping handlerMapping,\n            final NewController controller) throws NoSuchMethodException {\n\n        final RequestMappingInfo mapping = RequestMappingInfo.paths(&quot;path/to/be/overridden&quot;)\n           .methods(RequestMethod.GET) // or any other request method\n           .build();\n\n        handlerMapping.unregisterMapping(mapping);\n        Class[] argTypes = new Class[]{/* The parameter types needed for the 'methodThatHandlesTheEndpoint' method */};\n        handlerMapping.registerMapping(mapping, controller, NewController.class.getMethod(&quot;methodThatHandlesTheEndpoint&quot;, argTypes));\n    }\n}\n</code></pre>\n<p>This means, that I have now two methods with the same mapping:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ExistingController {\n   // This will be now ignored\n   @GetMapping(&quot;path/to/be/overridden&quot;)\n   public ResponseEntity&lt;Void&gt; methodThatHandlesTheEndpoint() {\n   }\n}\n</code></pre>\n<p>and</p>\n<pre class=\"lang-java prettyprint-override\"><code>class NewController {\n   // This will be now the main handler\n   @GetMapping(&quot;path/to/be/overridden&quot;)\n   public ResponseEntity&lt;Void&gt; methodThatHandlesTheEndpoint() {\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":242419,"reputation":4071,"user_id":513919,"accept_rate":75,"display_name":"Victor Ribeiro da Silva Eloy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40431,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":29767812,"answer_count":4,"score":30,"last_activity_date":1637946958,"creation_date":1429541932,"question_id":29751416,"body_markdown":"I need to extend an existing controller and add some functionality to it. But as a project requirement I can&#39;t touch in the original controller, the problem is that this controller have an `@RequestMapping` annotation on it. So my question is how can I make requests to `/someUrl` go to my new controller instead of the old one.\r\n\r\nhere is a example just to clarify what I&#39;m talking about:\r\n\r\nOriginal controller:\r\n\r\n    @Controller\r\n    public class HelloWorldController {\r\n    \r\n        @RequestMapping(&quot;/helloWorld&quot;)\r\n        public String helloWorld(Model model) {\r\n            model.addAttribute(&quot;message&quot;, &quot;Hello World!&quot;);\r\n            return &quot;helloWorld&quot;;\r\n        }\r\n    }\r\n\r\n\r\nnew Controller:\r\n\r\n    @Controller\r\n    public class MyHelloWorldController {\r\n    \r\n        @RequestMapping(&quot;/helloWorld&quot;)\r\n        public String helloWorld(Model model) {\r\n            model.addAttribute(&quot;message&quot;, &quot;Hello World from my new controller&quot;);\r\n            // a lot of new logic\r\n            return &quot;helloWorld&quot;;\r\n        }\r\n    }\r\n\r\nhow can I override the original mapping without editing `HelloWorldController`?","title":"How to override @RequestMapping in another controller?","body":"<p>I need to extend an existing controller and add some functionality to it. But as a project requirement I can't touch in the original controller, the problem is that this controller have an <code>@RequestMapping</code> annotation on it. So my question is how can I make requests to <code>/someUrl</code> go to my new controller instead of the old one.</p>\n\n<p>here is a example just to clarify what I'm talking about:</p>\n\n<p>Original controller:</p>\n\n<pre><code>@Controller\npublic class HelloWorldController {\n\n    @RequestMapping(\"/helloWorld\")\n    public String helloWorld(Model model) {\n        model.addAttribute(\"message\", \"Hello World!\");\n        return \"helloWorld\";\n    }\n}\n</code></pre>\n\n<p>new Controller:</p>\n\n<pre><code>@Controller\npublic class MyHelloWorldController {\n\n    @RequestMapping(\"/helloWorld\")\n    public String helloWorld(Model model) {\n        model.addAttribute(\"message\", \"Hello World from my new controller\");\n        // a lot of new logic\n        return \"helloWorld\";\n    }\n}\n</code></pre>\n\n<p>how can I override the original mapping without editing <code>HelloWorldController</code>?</p>\n"},{"tags":["java","selenium-webdriver","shadow-dom"],"answers":[{"tags":[],"owner":{"account_id":3533449,"reputation":11,"user_id":2952339,"display_name":"Dodge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637438376,"creation_date":1637438376,"answer_id":70049422,"question_id":70040330,"body_markdown":"\r\nHere&#39;s my own solution in case it helps someone:\r\n\r\n1. download automation-0.1.3.jar from maven and add to project. see\r\nhttps://github.com/sukgu/shadow-automation-selenium/wiki\r\n2. new code:\r\n\r\n\t\t\t\t Shadow shadow = new Shadow(driver);\r\n\t\t\t\t  \r\n\t\t\t\t WebElement myWebElement=shadow.findElement(&quot;div.content&quot;);","title":"Exception when accessing shadow root DOM on webpage with Selenium and Chrome Webdriver","body":"<p>Here's my own solution in case it helps someone:</p>\n<ol>\n<li><p>download automation-0.1.3.jar from maven and add to project. see\n<a href=\"https://github.com/sukgu/shadow-automation-selenium/wiki\" rel=\"nofollow noreferrer\">https://github.com/sukgu/shadow-automation-selenium/wiki</a></p>\n</li>\n<li><p>new code:</p>\n<pre><code>          Shadow shadow = new Shadow(driver);\n\n          WebElement myWebElement=shadow.findElement(&quot;div.content&quot;);\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6773755,"reputation":1,"user_id":5216295,"display_name":"Domino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637759484,"creation_date":1637759484,"answer_id":70096709,"question_id":70040330,"body_markdown":"Instead of &quot;children&quot; use &quot;childNodes&quot;.\r\n\r\nExamples: [https://developer.mozilla.org/en-US/docs/Web/API/Element/shadowRoot#examples][1]\r\n\r\n    List &lt;WebElement&gt; eleList = (List &lt;WebElement&gt;) ((JavascriptExecutor)driver)\r\n                .executeScript(&quot;return arguments[0].shadowRoot.childNodes&quot;, element);\r\n                    return eleList.get(0);\r\n\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/API/Element/shadowRoot#examples","title":"Exception when accessing shadow root DOM on webpage with Selenium and Chrome Webdriver","body":"<p>Instead of &quot;children&quot; use &quot;childNodes&quot;.</p>\n<p>Examples: <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Element/shadowRoot#examples\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/Element/shadowRoot#examples</a></p>\n<pre><code>List &lt;WebElement&gt; eleList = (List &lt;WebElement&gt;) ((JavascriptExecutor)driver)\n            .executeScript(&quot;return arguments[0].shadowRoot.childNodes&quot;, element);\n                return eleList.get(0);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5074573,"reputation":4134,"user_id":4072371,"display_name":"titusfortner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637946880,"creation_date":1637946880,"answer_id":70127934,"question_id":70040330,"body_markdown":"You can&#39;t cast to `WebElement` any longer, it needs to be `SearchContext` (this works for all versions of Chrome, not just Chrome 96).\r\n\r\nRead all the details here: https://titusfortner.com/2021/11/22/shadow-dom-selenium.html","title":"Exception when accessing shadow root DOM on webpage with Selenium and Chrome Webdriver","body":"<p>You can't cast to <code>WebElement</code> any longer, it needs to be <code>SearchContext</code> (this works for all versions of Chrome, not just Chrome 96).</p>\n<p>Read all the details here: <a href=\"https://titusfortner.com/2021/11/22/shadow-dom-selenium.html\" rel=\"nofollow noreferrer\">https://titusfortner.com/2021/11/22/shadow-dom-selenium.html</a></p>\n"}],"owner":{"account_id":3533449,"reputation":11,"user_id":2952339,"display_name":"Dodge"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2959,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1637946880,"creation_date":1637352009,"question_id":70040330,"body_markdown":"I&#39;m trying to access the shadow root DOM on a web page using Java with Selenium and Chrome Webdriver. Up until today, I&#39;ve been doing this successfully using the following line\r\n\r\n    WebElement ele = (WebElement) ((JavascriptExecutor)driver).executeScript(&quot;return arguments[0].shadowRoot&quot;, element);\r\n\r\nHowever, after Google Chrome updated itself today, I was forced to update Chrome Webdriver, and now I get the following exception:\r\n\r\nError: class com.google.common.collect.Maps$TransformedEntriesMap cannot be cast to class org.openqa.selenium.WebElement (com.google.common.collect.Maps$TransformedEntriesMap and org.openqa.selenium.WebElement are in unnamed module of loader &#39;app&#39;)\r\n\r\nMy configuration is\r\nGoogle Chrome  96.0.4664.45,\r\nSelenium 4.0, \r\nEclipse 4.21.0/JDK jdk-15.0.2\r\n\r\nI can avoid an exception by doing this:\r\n\r\n    List &lt;WebElement&gt; eleList = (List &lt;WebElement&gt;) ((JavascriptExecutor)driver)\r\n    \t\t\t\t.executeScript(&quot;return arguments[0].shadowRoot.children&quot;, element);\r\n    \t\t\t\t\treturn eleList.get(0);\r\n\r\nbut it doesn&#39;t open up the shadow root element for me. Any suggestions?","title":"Exception when accessing shadow root DOM on webpage with Selenium and Chrome Webdriver","body":"<p>I'm trying to access the shadow root DOM on a web page using Java with Selenium and Chrome Webdriver. Up until today, I've been doing this successfully using the following line</p>\n<pre><code>WebElement ele = (WebElement) ((JavascriptExecutor)driver).executeScript(&quot;return arguments[0].shadowRoot&quot;, element);\n</code></pre>\n<p>However, after Google Chrome updated itself today, I was forced to update Chrome Webdriver, and now I get the following exception:</p>\n<p>Error: class com.google.common.collect.Maps$TransformedEntriesMap cannot be cast to class org.openqa.selenium.WebElement (com.google.common.collect.Maps$TransformedEntriesMap and org.openqa.selenium.WebElement are in unnamed module of loader 'app')</p>\n<p>My configuration is\nGoogle Chrome  96.0.4664.45,\nSelenium 4.0,\nEclipse 4.21.0/JDK jdk-15.0.2</p>\n<p>I can avoid an exception by doing this:</p>\n<pre><code>List &lt;WebElement&gt; eleList = (List &lt;WebElement&gt;) ((JavascriptExecutor)driver)\n                .executeScript(&quot;return arguments[0].shadowRoot.children&quot;, element);\n                    return eleList.get(0);\n</code></pre>\n<p>but it doesn't open up the shadow root element for me. Any suggestions?</p>\n"},{"tags":["java","websocket","socket.io","aws-api-gateway","netty-socketio"],"comments":[{"owner":{"account_id":8154308,"reputation":141,"user_id":8260652,"display_name":"Daniil Volkov"},"score":0,"creation_date":1637951645,"post_id":67022625,"comment_id":123967749,"body_markdown":"Did you solve it? In case yes, please share the solution. Faced into the same issue","body":"Did you solve it? In case yes, please share the solution. Faced into the same issue"}],"owner":{"account_id":15267628,"reputation":147,"user_id":11015715,"display_name":"Trupti Prajapati"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":395,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1637946801,"creation_date":1617977268,"question_id":67022625,"body_markdown":"I have implemented Socket.io in the backend with netty SocketIO in java spring boot. And client connects to WebSocket using\r\nws://{server.ip.address}:5291/socket/?transport=websocket \r\nhttp://{server.ip.address}:5291/socket/?transport=websocket \r\n\r\nThese both work as expected. \r\nNow I have configured WebSocket on API gateway with HTTP integration. \r\n\r\n[![WebSocket Connet][1]][1]\r\n\r\nAnd trying to connect using a gateway URL \r\nwss://{app-id}.execute-api.{region}.amazonaws.com/{stage}/?transport=websocket\r\n\r\nBut it gives error: Execution failed due to configuration error: Unexpected response: HTTP/1.1 101 Switching Protocols\r\n\r\nI have tried to diable proxy and enable Add Integration reponse option-&gt; on Integration reposne add the response key &#39;/101/&#39; but nothing woked. \r\n\r\nAlso Route Response seems disabled.\r\n\r\nCan Anyone tell me how to overcome from this issue and where I have to set respose code 101?\r\n\r\nDo I need to change anyhting in Backend code for API gateway?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1Vz7y.png","title":"AWS API Gateway WebSocket Error: Unexpected response: HTTP/1.1 101 Switching Protocols","body":"<p>I have implemented Socket.io in the backend with netty SocketIO in java spring boot. And client connects to WebSocket using\nws://{server.ip.address}:5291/socket/?transport=websocket\nhttp://{server.ip.address}:5291/socket/?transport=websocket</p>\n<p>These both work as expected.\nNow I have configured WebSocket on API gateway with HTTP integration.</p>\n<p><a href=\"https://i.stack.imgur.com/1Vz7y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1Vz7y.png\" alt=\"WebSocket Connet\" /></a></p>\n<p>And trying to connect using a gateway URL\nwss://{app-id}.execute-api.{region}.amazonaws.com/{stage}/?transport=websocket</p>\n<p>But it gives error: Execution failed due to configuration error: Unexpected response: HTTP/1.1 101 Switching Protocols</p>\n<p>I have tried to diable proxy and enable Add Integration reponse option-&gt; on Integration reposne add the response key '/101/' but nothing woked.</p>\n<p>Also Route Response seems disabled.</p>\n<p>Can Anyone tell me how to overcome from this issue and where I have to set respose code 101?</p>\n<p>Do I need to change anyhting in Backend code for API gateway?</p>\n"},{"tags":["java","sonarqube","unused-variables"],"comments":[{"owner":{"display_name":"user6073886"},"score":3,"creation_date":1637942758,"post_id":70127143,"comment_id":123965154,"body_markdown":"`s = reader.readLine()` is assigning `s`, but after it is assigned it isn&#39;t used anywhere, because the while loop does nothing with that assigned value. You could just as well delete the variable and just do `while (reader.readLine() != null)` and the code would work exactly the same. That&#39;s why it is considered unused.","body":"<code>s = reader.readLine()</code> is assigning <code>s</code>, but after it is assigned it isn&#39;t used anywhere, because the while loop does nothing with that assigned value. You could just as well delete the variable and just do <code>while (reader.readLine() != null)</code> and the code would work exactly the same. That&#39;s why it is considered unused."},{"owner":{"account_id":23160917,"reputation":147,"user_id":17261574,"display_name":"BeastMaster64"},"score":0,"creation_date":1637942848,"post_id":70127143,"comment_id":123965178,"body_markdown":"Isn&#39;t it used while checking `!= null`","body":"Isn&#39;t it used while checking <code>!= null</code>"},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":2,"creation_date":1637942866,"post_id":70127143,"comment_id":123965184,"body_markdown":"`while (reader.readLine() != null){}` achieves the same result but without an unused local variable","body":"<code>while (reader.readLine() != null){}</code> achieves the same result but without an unused local variable"},{"owner":{"account_id":23160917,"reputation":147,"user_id":17261574,"display_name":"BeastMaster64"},"score":0,"creation_date":1637943067,"post_id":70127143,"comment_id":123965253,"body_markdown":"@OHGODSPIDERS I edited it to make my doubt more clear","body":"@OHGODSPIDERS I edited it to make my doubt more clear"},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":1,"creation_date":1637943221,"post_id":70127143,"comment_id":123965307,"body_markdown":"Still, the point of sonarqube is to detect that this variable is useless, the code can be reduced to my comment without any other adverse effects. `s` is never to used to assign it to anyhting else. The second snippet is too complex for sonarqube to understand. This is not a false positive but a very good normal positive and you should change your code to my comment or actually use `s` or drop the method entirely. Depends on what you actually want the method to do.","body":"Still, the point of sonarqube is to detect that this variable is useless, the code can be reduced to my comment without any other adverse effects. <code>s</code> is never to used to assign it to anyhting else. The second snippet is too complex for sonarqube to understand. This is not a false positive but a very good normal positive and you should change your code to my comment or actually use <code>s</code> or drop the method entirely. Depends on what you actually want the method to do."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1637943341,"post_id":70127143,"comment_id":123965344,"body_markdown":"`(s = reader.readLine()) != null`  is not using/reading the variable `s`, it is the result of the assignment expression that is compared to `null` (I wonder how you do consider you first example as a false positive (obviously there is no use for `s`; which is not the case for all other examples (including following comment))","body":"<code>(s = reader.readLine()) != null</code>  is not using/reading the variable <code>s</code>, it is the result of the assignment expression that is compared to <code>null</code> (I wonder how you do consider you first example as a false positive (obviously there is no use for <code>s</code>; which is not the case for all other examples (including following comment))"},{"owner":{"account_id":23160917,"reputation":147,"user_id":17261574,"display_name":"BeastMaster64"},"score":0,"creation_date":1637943396,"post_id":70127143,"comment_id":123965370,"body_markdown":"So other examples where a boolean is just used as a flag and never updated are not FP&#39;s. eg- `boolean a = true; if(a) {}` here a is not considered as unused.","body":"So other examples where a boolean is just used as a flag and never updated are not FP&#39;s. eg- <code>boolean a = true; if(a) {}</code> here a is not considered as unused."},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":1,"creation_date":1637943585,"post_id":70127143,"comment_id":123965425,"body_markdown":"but `if ((a = true) == true) {}` makes `a` unused.","body":"but <code>if ((a = true) == true) {}</code> makes <code>a</code> unused."},{"owner":{"account_id":23160917,"reputation":147,"user_id":17261574,"display_name":"BeastMaster64"},"score":0,"creation_date":1637943801,"post_id":70127143,"comment_id":123965492,"body_markdown":"@user16320675 How it is not reading the variable `s`?","body":"@user16320675 How it is not reading the variable <code>s</code>?"},{"owner":{"account_id":23160917,"reputation":147,"user_id":17261574,"display_name":"BeastMaster64"},"score":0,"creation_date":1637943933,"post_id":70127143,"comment_id":123965540,"body_markdown":"@user16320675 I am a bit confused can you explain in a more detailed way what you are trying to tell.","body":"@user16320675 I am a bit confused can you explain in a more detailed way what you are trying to tell."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1637944158,"post_id":70127143,"comment_id":123965616,"body_markdown":"first explain how `(s = reader.readLine())`  is reading the value of `s` ? or better, using its stored value (not the value being stored into it that is, being assigned? (from a logical/processing view, obviously at the end it is the same value)","body":"first explain how <code>(s = reader.readLine())</code>  is reading the value of <code>s</code> ? or better, using its stored value (not the value being stored into it that is, being assigned? (from a logical/processing view, obviously at the end it is the same value)"},{"owner":{"account_id":23160917,"reputation":147,"user_id":17261574,"display_name":"BeastMaster64"},"score":0,"creation_date":1637944310,"post_id":70127143,"comment_id":123965670,"body_markdown":"it is not reading, this is just assignment, isn&#39;t it reading when compared to null, I mean to ask isn&#39;t `if((s = reader.readLine()) != null)` same as `s = reader.readLine(); if(s != null)`","body":"it is not reading, this is just assignment, isn&#39;t it reading when compared to null, I mean to ask isn&#39;t <code>if((s = reader.readLine()) != null)</code> same as <code>s = reader.readLine(); if(s != null)</code>"},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1637944760,"post_id":70127143,"comment_id":123965806,"body_markdown":"Oh man. You are not comparing `s` to `null`! You are comparing the value of the expression `(s = reader.readLine())` to `null`!","body":"Oh man. You are not comparing <code>s</code> to <code>null</code>! You are comparing the value of the expression <code>(s = reader.readLine())</code> to <code>null</code>!"},{"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"score":0,"creation_date":1637944823,"post_id":70127143,"comment_id":123965822,"body_markdown":"Though I agree that (a) `s` counts as unused, and (b) there is no reason at all for the generated code to fetch the value of `s` after assigning it, it is nevertheless true that the result of the assignment is the value of the variable `s`.   From the [JLS](https://docs.oracle.com/javase/specs/jls/se11/html/jls-15.html#jls-15.26): *At run time, the result of the assignment expression is the value of the variable after the assignment has occurred*.  But pragmatically, I suggest taking the sonarcube recommendation as meaning &quot;there is no point to having this variable, so remove it&quot;.","body":"Though I agree that (a) <code>s</code> counts as unused, and (b) there is no reason at all for the generated code to fetch the value of <code>s</code> after assigning it, it is nevertheless true that the result of the assignment is the value of the variable <code>s</code>.   From the <a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-15.html#jls-15.26\" rel=\"nofollow noreferrer\">JLS</a>: <i>At run time, the result of the assignment expression is the value of the variable after the assignment has occurred</i>.  But pragmatically, I suggest taking the sonarcube recommendation as meaning &quot;there is no point to having this variable, so remove it&quot;."},{"owner":{"account_id":23160917,"reputation":147,"user_id":17261574,"display_name":"BeastMaster64"},"score":0,"creation_date":1637945675,"post_id":70127143,"comment_id":123966079,"body_markdown":"Logical point yes it is unused but at runtime, the variable is used, in the end, I think logical reasoning will stand out.","body":"Logical point yes it is unused but at runtime, the variable is used, in the end, I think logical reasoning will stand out."},{"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"score":0,"creation_date":1637955616,"post_id":70127143,"comment_id":123968715,"body_markdown":"It is not &#39;used&#39;. See the [JLS](https://docs.oracle.com/javase/specs/jls/se11/html/jls-4.html#jls-4.12.5) for the distinction between &#39;assigned/initialized&#39; and &#39;used&#39;.  *A local variable (&#167;14.4, &#167;14.14) must be explicitly given a value before it is used, by either initialization (&#167;14.4) or assignment (&#167;15.26), in a way that can be verified using the rules for definite assignment (&#167;16 (Definite Assignment)).*  The quoted sentence would be vacuous if assigning a value counted as &#39;using&#39; the variable.","body":"It is not &#39;used&#39;. See the <a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-4.html#jls-4.12.5\" rel=\"nofollow noreferrer\">JLS</a> for the distinction between &#39;assigned/initialized&#39; and &#39;used&#39;.  <i>A local variable (&#167;14.4, &#167;14.14) must be explicitly given a value before it is used, by either initialization (&#167;14.4) or assignment (&#167;15.26), in a way that can be verified using the rules for definite assignment (&#167;16 (Definite Assignment)).</i>  The quoted sentence would be vacuous if assigning a value counted as &#39;using&#39; the variable."},{"owner":{"account_id":23160917,"reputation":147,"user_id":17261574,"display_name":"BeastMaster64"},"score":0,"creation_date":1637995201,"post_id":70127143,"comment_id":123974481,"body_markdown":"@user16632363 After reading the JLS links you mentioned I have come to some decisions. The variable `s` is used as it has been assigned a value during runtime and while comparing it to null i.e. `(s = reader.readLine()) != null` the assignment happens first and then the value is read as at run time, the result of the assignment expression is the value of the variable after the assignment has occurred. The result of an assignment expression is not itself a variable. So it will access the value of variable only to check, correct if I am wrong. Though `s` isn&#39;t of any use, it is used in boolean.","body":"@user16632363 After reading the JLS links you mentioned I have come to some decisions. The variable <code>s</code> is used as it has been assigned a value during runtime and while comparing it to null i.e. <code>(s = reader.readLine()) != null</code> the assignment happens first and then the value is read as at run time, the result of the assignment expression is the value of the variable after the assignment has occurred. The result of an assignment expression is not itself a variable. So it will access the value of variable only to check, correct if I am wrong. Though <code>s</code> isn&#39;t of any use, it is used in boolean."},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1638006558,"post_id":70127143,"comment_id":123976193,"body_markdown":"NO. The variable is not used, the assignment returns the value assigned, but not the value of s, but the value that is assigned during assignment, it is the same value but it is not read from s. And therefore s is only ever assigned, never read, never compared, never used.","body":"NO. The variable is not used, the assignment returns the value assigned, but not the value of s, but the value that is assigned during assignment, it is the same value but it is not read from s. And therefore s is only ever assigned, never read, never compared, never used."},{"owner":{"account_id":23160917,"reputation":147,"user_id":17261574,"display_name":"BeastMaster64"},"score":0,"creation_date":1638008488,"post_id":70127143,"comment_id":123976554,"body_markdown":"@luk2302 How are you saying that assignment returns the value assigned when it is mentioned that The result of an assignment expression is not itself a variable.","body":"@luk2302 How are you saying that assignment returns the value assigned when it is mentioned that The result of an assignment expression is not itself a variable."},{"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"score":0,"creation_date":1638022067,"post_id":70127143,"comment_id":123979215,"body_markdown":"Because when you write (for example) `x = y + z`, the generated code has the sum of `y` and `z` somewhere, probably a register.  The sum does not somehow vanish when a copy of the value is stored into `x`; and therefore that sum is available to further computations without have to be &quot;read&quot; from `x`.","body":"Because when you write (for example) <code>x = y + z</code>, the generated code has the sum of <code>y</code> and <code>z</code> somewhere, probably a register.  The sum does not somehow vanish when a copy of the value is stored into <code>x</code>; and therefore that sum is available to further computations without have to be &quot;read&quot; from <code>x</code>."},{"owner":{"account_id":23160917,"reputation":147,"user_id":17261574,"display_name":"BeastMaster64"},"score":0,"creation_date":1638022742,"post_id":70127143,"comment_id":123979358,"body_markdown":"@user16632363 I really appreciate your time and effort but is this for sure true, I mean can you point out some documentation regarding it, actually I am unit testing and I need to be sure to add such a case.","body":"@user16632363 I really appreciate your time and effort but is this for sure true, I mean can you point out some documentation regarding it, actually I am unit testing and I need to be sure to add such a case."},{"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"score":1,"creation_date":1638022886,"post_id":70127143,"comment_id":123979389,"body_markdown":"In my opinion, [the link I posted before](https://docs.oracle.com/javase/specs/jls/se11/html/jls-4.html#jls-4.12.5) covers it.","body":"In my opinion, <a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-4.html#jls-4.12.5\" rel=\"nofollow noreferrer\">the link I posted before</a> covers it."}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637946733,"creation_date":1637946733,"answer_id":70127906,"question_id":70127143,"body_markdown":"For this code\r\n\r\n    void read() throws IOException {\r\n        BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\r\n        String s; // unused local variable &#39;s&#39;\r\n        while ((s = reader.readLine()) != null) {\r\n        }\r\n    }\r\n\r\nThe variable `s` can be removed completely without side effects as shown below.\r\n\r\n    void read() throws IOException {\r\n        BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\r\n        while ((reader.readLine()) != null) {\r\n        }\r\n    }\r\n\r\nThis is why these code analyzers will point out that the variable in question is never used. Setting a value in a variable is not enough to deem a variable as &quot;used&quot;. In the second snippet, the variable `s` can&#39;t be removed because it is used to make a decision:\r\n\r\n        while (s != null) {...}\r\n\r\nBecause of the line above, removing the variable will result in a compilation error. Therefore, the variable is an important part of the code.\r\n\r\n\r\n\r\n\r\n","title":"Unused local variable false positive","body":"<p>For this code</p>\n<pre><code>void read() throws IOException {\n    BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\n    String s; // unused local variable 's'\n    while ((s = reader.readLine()) != null) {\n    }\n}\n</code></pre>\n<p>The variable <code>s</code> can be removed completely without side effects as shown below.</p>\n<pre><code>void read() throws IOException {\n    BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\n    while ((reader.readLine()) != null) {\n    }\n}\n</code></pre>\n<p>This is why these code analyzers will point out that the variable in question is never used. Setting a value in a variable is not enough to deem a variable as &quot;used&quot;. In the second snippet, the variable <code>s</code> can't be removed because it is used to make a decision:</p>\n<pre><code>    while (s != null) {...}\n</code></pre>\n<p>Because of the line above, removing the variable will result in a compilation error. Therefore, the variable is an important part of the code.</p>\n"}],"owner":{"account_id":23160917,"reputation":147,"user_id":17261574,"display_name":"BeastMaster64"},"comment_count":22,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":913,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1637946733,"creation_date":1637942638,"question_id":70127143,"body_markdown":"While using sonar lint version 6.3.0.39716, it reports the following variable as unused.\r\n```\r\nvoid read() throws IOException {\r\n        BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\r\n        String s; // unused local variable &#39;s&#39;\r\n        while ((s = reader.readLine()) != null) {\r\n        }\r\n}\r\n```\r\nBut the variable `s` is used in the next line, should this be considered as unused as `s` is just assigned a value? &lt;br&gt;\r\nEdit-\r\nThis is not considered an unused local variable.\r\n```\r\nvoid read() throws IOException {\r\n        BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\r\n        String s; // ok\r\n        s = reader.readLine();\r\n        while (s != null) {\r\n            s = reader.readLine();\r\n        }\r\n}\r\n\r\n```\r\nHere also s is just assigned value apart from being used in a boolean condition which it is used in the above case also.","title":"Unused local variable false positive","body":"<p>While using sonar lint version 6.3.0.39716, it reports the following variable as unused.</p>\n<pre><code>void read() throws IOException {\n        BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\n        String s; // unused local variable 's'\n        while ((s = reader.readLine()) != null) {\n        }\n}\n</code></pre>\n<p>But the variable <code>s</code> is used in the next line, should this be considered as unused as <code>s</code> is just assigned a value? <br>\nEdit-\nThis is not considered an unused local variable.</p>\n<pre><code>void read() throws IOException {\n        BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\n        String s; // ok\n        s = reader.readLine();\n        while (s != null) {\n            s = reader.readLine();\n        }\n}\n\n</code></pre>\n<p>Here also s is just assigned value apart from being used in a boolean condition which it is used in the above case also.</p>\n"},{"tags":["java","spring","spring-boot","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":7003534,"reputation":61,"user_id":5368761,"display_name":"Sagar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637945847,"creation_date":1637945847,"answer_id":70127735,"question_id":70127604,"body_markdown":"I understand you wan to create a producer and consumer on a Kafka topic. Have you checked https://www.baeldung.com/spring-cloud-stream","title":"How to create a persistent connection to Kafka through Spring Boot web application","body":"<p>I understand you wan to create a producer and consumer on a Kafka topic. Have you checked <a href=\"https://www.baeldung.com/spring-cloud-stream\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-cloud-stream</a></p>\n"},{"tags":[],"owner":{"account_id":10389194,"reputation":14819,"user_id":7661119,"display_name":"Ervin Szilagyi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637946717,"creation_date":1637946717,"answer_id":70127901,"question_id":70127604,"body_markdown":"Kafka uses its own [binary protocol over TCP](https://kafka.apache.org/0100/protocol.html) for publishing messages to topics for polling messages with subscriptions.\r\nFor being able to connect to a Kafka cluster from a Spring Boot project, you may want to use [`spring-kafka`](https://docs.spring.io/spring-kafka/reference/html/) which provides an implementation for this protocol:\r\n\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n  &lt;version&gt;2.8.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nA minimalist set-up for a publisher and a consumer can be found in the official [spring-kafka docs](https://docs.spring.io/spring-kafka/reference/html/#getting-started).","title":"How to create a persistent connection to Kafka through Spring Boot web application","body":"<p>Kafka uses its own <a href=\"https://kafka.apache.org/0100/protocol.html\" rel=\"nofollow noreferrer\">binary protocol over TCP</a> for publishing messages to topics for polling messages with subscriptions.\nFor being able to connect to a Kafka cluster from a Spring Boot project, you may want to use <a href=\"https://docs.spring.io/spring-kafka/reference/html/\" rel=\"nofollow noreferrer\"><code>spring-kafka</code></a> which provides an implementation for this protocol:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n  &lt;version&gt;2.8.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>A minimalist set-up for a publisher and a consumer can be found in the official <a href=\"https://docs.spring.io/spring-kafka/reference/html/#getting-started\" rel=\"nofollow noreferrer\">spring-kafka docs</a>.</p>\n"}],"owner":{"account_id":15212287,"reputation":529,"user_id":10976657,"display_name":"Jsh0s"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":729,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70127901,"answer_count":2,"score":1,"last_activity_date":1637946717,"creation_date":1637945063,"question_id":70127604,"body_markdown":"Please excuse the ambiguity as I&#39;m trying to be as clear as possible with the little knowledge that I have.\r\n\r\nWe have a Kafka cluster and the idea is to have a Spring Boot application to serve as the bridge between the Producers, Consumers and Kafka.\r\n\r\nI&#39;ve worked with simple REST, CRUD applications, in which I basically interact with the server on a request basis.\r\n\r\n---\r\n**Question:**\r\n\r\nHow do I go about creating a persistent connection between Spring and Kafka to send and receive messages?\r\n\r\nDoes the protocol matter?","title":"How to create a persistent connection to Kafka through Spring Boot web application","body":"<p>Please excuse the ambiguity as I'm trying to be as clear as possible with the little knowledge that I have.</p>\n<p>We have a Kafka cluster and the idea is to have a Spring Boot application to serve as the bridge between the Producers, Consumers and Kafka.</p>\n<p>I've worked with simple REST, CRUD applications, in which I basically interact with the server on a request basis.</p>\n<hr />\n<p><strong>Question:</strong></p>\n<p>How do I go about creating a persistent connection between Spring and Kafka to send and receive messages?</p>\n<p>Does the protocol matter?</p>\n"},{"tags":["java","spring","unit-testing","junit","spring-boot"],"comments":[{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":2,"creation_date":1472125226,"post_id":39144136,"comment_id":65632534,"body_markdown":"To be honest, do you even want to test that? I would just create an additional profile, exclude the bean when that profile is used, use the profile in your integration tests and done. To test the `run()` method does what it should do you can always write an unit test, you don&#39;t have to start your application for that.","body":"To be honest, do you even want to test that? I would just create an additional profile, exclude the bean when that profile is used, use the profile in your integration tests and done. To test the <code>run()</code> method does what it should do you can always write an unit test, you don&#39;t have to start your application for that."},{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1472125467,"post_id":39144136,"comment_id":65632692,"body_markdown":"Also... you didn&#39;t show how you&#39;re starting the test, which gives us no clue about how you&#39;re trying to pass the arguments.","body":"Also... you didn&#39;t show how you&#39;re starting the test, which gives us no clue about how you&#39;re trying to pass the arguments."},{"owner":{"account_id":954184,"reputation":5177,"user_id":979772,"accept_rate":73,"display_name":"divinedragon"},"score":0,"creation_date":1472125834,"post_id":39144136,"comment_id":65632948,"body_markdown":"I have updated the JUnit class from where the application is called.","body":"I have updated the JUnit class from where the application is called."},{"owner":{"account_id":897020,"reputation":2337,"user_id":934040,"display_name":"Anton N"},"score":0,"creation_date":1472138378,"post_id":39144136,"comment_id":65641578,"body_markdown":"You should specify at leas one `command line` argument.","body":"You should specify at leas one <code>command line</code> argument."},{"owner":{"account_id":954184,"reputation":5177,"user_id":979772,"accept_rate":73,"display_name":"divinedragon"},"score":0,"creation_date":1472185585,"post_id":39144136,"comment_id":65660019,"body_markdown":"@AntonNovopashin I want to provide, but that is the question all about. Where should I specify that. I can do it in eclipse when I run it there, but what about if I want to run this on a CI.","body":"@AntonNovopashin I want to provide, but that is the question all about. Where should I specify that. I can do it in eclipse when I run it there, but what about if I want to run this on a CI."}],"answers":[{"tags":[],"owner":{"account_id":1681659,"reputation":3633,"user_id":1545775,"display_name":"Maciej Marczuk"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1472154858,"creation_date":1472151124,"answer_id":39152753,"question_id":39144136,"body_markdown":"I&#39;m affraid that your solution will not work in a way that you presented (until you implement your own test framework for Spring).\r\n\r\nThis is because when you are running tests, Spring (its test `SpringBootContextLoader` to be more specific) runs your application in its own way. It instantiates `SpringApplication` and invokes its `run` method without any arguments. It also never uses your `main` method implemented in application.\r\n\r\nHowever, you could refactor your application in a way that it&#39;ll be possible to test it. \r\n\r\nI think (since you are using Spring) the easiest solution could be implemented using spring configuration properties instead of pure command line arguments. (But you should be aware that this solution should be used rather for &quot;configuration arguments&quot;, because that&#39;s the main purpose of springs `configuration properties` mechanism)\r\n\r\nReading parameters using `@Value` annotation:\r\n\r\n    @SpringBootApplication\r\n    public class Application implements CommandLineRunner {\r\n    \r\n    \t@Value(&quot;${myCustomArgs.customArg1}&quot;)\r\n    \tprivate String customArg1;\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(Application.class, args);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run(String... args) throws Exception {\r\n    \r\n    \t\tAssert.notNull(customArg1);\r\n    \t\t//...\r\n    \t}\r\n    }\r\n\r\n\r\nSample test:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest({&quot;myCustomArgs.customArg1=testValue&quot;})\r\n    public class CityApplicationTests {\r\n    \r\n        @Test\r\n        public void contextLoads() {\r\n        }\r\n    }\r\n\r\nAnd when running your command line app just add your custom params:\r\n\r\n`--myCustomArgs.customArg1=testValue`\r\n\r\n","title":"Using junit test to pass command line argument to Spring Boot application","body":"<p>I'm affraid that your solution will not work in a way that you presented (until you implement your own test framework for Spring).</p>\n\n<p>This is because when you are running tests, Spring (its test <code>SpringBootContextLoader</code> to be more specific) runs your application in its own way. It instantiates <code>SpringApplication</code> and invokes its <code>run</code> method without any arguments. It also never uses your <code>main</code> method implemented in application.</p>\n\n<p>However, you could refactor your application in a way that it'll be possible to test it. </p>\n\n<p>I think (since you are using Spring) the easiest solution could be implemented using spring configuration properties instead of pure command line arguments. (But you should be aware that this solution should be used rather for \"configuration arguments\", because that's the main purpose of springs <code>configuration properties</code> mechanism)</p>\n\n<p>Reading parameters using <code>@Value</code> annotation:</p>\n\n<pre><code>@SpringBootApplication\npublic class Application implements CommandLineRunner {\n\n    @Value(\"${myCustomArgs.customArg1}\")\n    private String customArg1;\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n    @Override\n    public void run(String... args) throws Exception {\n\n        Assert.notNull(customArg1);\n        //...\n    }\n}\n</code></pre>\n\n<p>Sample test:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest({\"myCustomArgs.customArg1=testValue\"})\npublic class CityApplicationTests {\n\n    @Test\n    public void contextLoads() {\n    }\n}\n</code></pre>\n\n<p>And when running your command line app just add your custom params:</p>\n\n<p><code>--myCustomArgs.customArg1=testValue</code></p>\n"},{"tags":[],"owner":{"account_id":322284,"reputation":16565,"user_id":641627,"display_name":"alexbt"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1472151638,"creation_date":1472151178,"answer_id":39152768,"question_id":39144136,"body_markdown":"I would leave SpringBoot out of the equation.\r\n\r\nYou simply need to test the `run` method, without going through Spring Boot, since your goal is not to test spring boot, isn&#39;t it ?\r\nI suppose, the purpose of this test is more for regression, ensuring that your application always throws an `IllegalArgumentException` when no args are provided? Good old unit test still works to test a single method:\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class ApplicationTest {\r\n    \t\r\n    \t@InjectMocks\r\n    \tprivate Application app = new Application();\r\n    \r\n    \t@Mock\r\n    \tprivate Reader reader;\r\n    \t\r\n    \t@Mock\r\n    \tprivate Writer writer;\r\n    \t\r\n    \t@Test(expected = IllegalArgumentException.class)\r\n    \tpublic void testNoArgs() throws Exception {\r\n    \t\tapp.run();\r\n    \t}\r\n    \t\r\n    \t@Test\r\n    \tpublic void testWithArgs() throws Exception {\r\n    \t\tList list = new ArrayList();\r\n    \t\tlist.add(&quot;test&quot;);\r\n    \t\tMockito.when(reader.get(Mockito.anyString())).thenReturn(list);\r\n    \t\t\r\n    \t\tapp.run(&quot;myarg&quot;);\r\n    \t\t\r\n    \t\tMockito.verify(reader, VerificationModeFactory.times(1)).get(Mockito.anyString());\r\n    \t\tMockito.verify(writer, VerificationModeFactory.times(1)).write(list);\r\n    \t}\r\n    }\r\n\r\nI used Mockito to inject mocks for Reader and Writer:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mockito-all&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.9.0&lt;/version&gt;\r\n    \t&lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"Using junit test to pass command line argument to Spring Boot application","body":"<p>I would leave SpringBoot out of the equation.</p>\n\n<p>You simply need to test the <code>run</code> method, without going through Spring Boot, since your goal is not to test spring boot, isn't it ?\nI suppose, the purpose of this test is more for regression, ensuring that your application always throws an <code>IllegalArgumentException</code> when no args are provided? Good old unit test still works to test a single method:</p>\n\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class ApplicationTest {\n\n    @InjectMocks\n    private Application app = new Application();\n\n    @Mock\n    private Reader reader;\n\n    @Mock\n    private Writer writer;\n\n    @Test(expected = IllegalArgumentException.class)\n    public void testNoArgs() throws Exception {\n        app.run();\n    }\n\n    @Test\n    public void testWithArgs() throws Exception {\n        List list = new ArrayList();\n        list.add(\"test\");\n        Mockito.when(reader.get(Mockito.anyString())).thenReturn(list);\n\n        app.run(\"myarg\");\n\n        Mockito.verify(reader, VerificationModeFactory.times(1)).get(Mockito.anyString());\n        Mockito.verify(writer, VerificationModeFactory.times(1)).write(list);\n    }\n}\n</code></pre>\n\n<p>I used Mockito to inject mocks for Reader and Writer:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n    &lt;artifactId&gt;mockito-all&lt;/artifactId&gt;\n    &lt;version&gt;1.9.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1409850,"reputation":974,"user_id":1336680,"display_name":"Philippe Sevestre"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1536126184,"creation_date":1486701904,"answer_id":42151694,"question_id":39144136,"body_markdown":"I&#180;ve managed to find a way to create Junit tests that worked fine with SpringBoot by injecting the ApplicationContext in my test and calling a CommandLineRunner with the required parameters.\r\n\r\nThe final code looks like that:\r\n\r\n    package my.package.\r\n\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.CommandLineRunner;\r\n    import org.springframework.boot.test.context.SpringBootTest;\r\n    import org.springframework.context.ApplicationContext;\r\n    import org.springframework.test.context.junit4.SpringRunner;\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    class AsgardBpmClientApplicationIT {\r\n\t\r\n\t    @Autowired\r\n\t    ApplicationContext ctx;\r\n\r\n\t \t@Test\r\n\t    public void testRun() {\r\n\t\t    CommandLineRunner runner = ctx.getBean(CommandLineRunner.class);\r\n\t\t    runner.run ( &quot;-k&quot;, &quot;arg1&quot;, &quot;-i&quot;, &quot;arg2&quot;);\r\n\t    }\r\n\r\n    }\r\n","title":"Using junit test to pass command line argument to Spring Boot application","body":"<p>I´ve managed to find a way to create Junit tests that worked fine with SpringBoot by injecting the ApplicationContext in my test and calling a CommandLineRunner with the required parameters.</p>\n\n<p>The final code looks like that:</p>\n\n<pre><code>package my.package.\n\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.test.context.junit4.SpringRunner;\n\n@RunWith(SpringRunner.class)\n@SpringBootTest\nclass AsgardBpmClientApplicationIT {\n\n    @Autowired\n    ApplicationContext ctx;\n\n    @Test\n    public void testRun() {\n        CommandLineRunner runner = ctx.getBean(CommandLineRunner.class);\n        runner.run ( \"-k\", \"arg1\", \"-i\", \"arg2\");\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":41716,"reputation":1091,"user_id":121324,"display_name":"itzg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1488556941,"creation_date":1488556941,"answer_id":42583422,"question_id":39144136,"body_markdown":"As mentioned [in this answer](https://stackoverflow.com/a/39152753/121324), Spring Boot currently doesn&#39;t offer a way to intercept/replace the [DefaultApplicationArguments][1] that it uses. A natural-Boot-way that I used to solve this was to enhance my runner logic and use some autowired properties.\r\n\r\nFirst, I created a properties component:\r\n\r\n    @ConfigurationProperties(&quot;app&quot;) @Component @Data\r\n    public class AppProperties {\r\n        boolean failOnEmptyFileList = true;\r\n        boolean exitWhenFinished = true;\r\n    }\r\n\r\n...autowired the properties component into my runner:\r\n\r\n    @Service\r\n    public class Loader implements ApplicationRunner {\r\n    \r\n        private AppProperties properties;\r\n    \r\n        @Autowired\r\n        public Loader(AppProperties properties) {\r\n            this.properties = properties;\r\n        }\r\n        ...\r\n\r\n...and, in the `run` I only assert&#39;ed when that property is enabled, which is defaulted to `true` for normal application usage:\r\n\r\n    @Override\r\n    public void run(ApplicationArguments args) throws Exception {\r\n        if (properties.isFailOnEmptyFileList()) {\r\n            Assert.notEmpty(args.getNonOptionArgs(), &quot;Pass at least one filename on the command line&quot;);\r\n        }\r\n\r\n        // ...do some loading of files and such\r\n\r\n        if (properties.isExitWhenFinished()) {\r\n            System.exit(0);\r\n        }\r\n    }\r\n\r\nWith that, I can tweak those properties to execute in a unit test friendly manner:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(properties = {\r\n            &quot;app.failOnEmptyFileList=false&quot;,\r\n            &quot;app.exitWhenFinished=false&quot;\r\n    })\r\n    public class InconsistentJsonApplicationTests {\r\n    \r\n    \t@Test\r\n    \tpublic void contextLoads() {\r\n    \t}\r\n    \r\n    }\r\n\r\nI needed the `exitWhenFinished` part since my particular runner normally calls `System.exit(0)` and exiting that way leaves the unit test in a semi-failed state.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/DefaultApplicationArguments.html\r\n","title":"Using junit test to pass command line argument to Spring Boot application","body":"<p>As mentioned <a href=\"https://stackoverflow.com/a/39152753/121324\">in this answer</a>, Spring Boot currently doesn't offer a way to intercept/replace the <a href=\"http://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/DefaultApplicationArguments.html\" rel=\"nofollow noreferrer\">DefaultApplicationArguments</a> that it uses. A natural-Boot-way that I used to solve this was to enhance my runner logic and use some autowired properties.</p>\n\n<p>First, I created a properties component:</p>\n\n<pre><code>@ConfigurationProperties(\"app\") @Component @Data\npublic class AppProperties {\n    boolean failOnEmptyFileList = true;\n    boolean exitWhenFinished = true;\n}\n</code></pre>\n\n<p>...autowired the properties component into my runner:</p>\n\n<pre><code>@Service\npublic class Loader implements ApplicationRunner {\n\n    private AppProperties properties;\n\n    @Autowired\n    public Loader(AppProperties properties) {\n        this.properties = properties;\n    }\n    ...\n</code></pre>\n\n<p>...and, in the <code>run</code> I only assert'ed when that property is enabled, which is defaulted to <code>true</code> for normal application usage:</p>\n\n<pre><code>@Override\npublic void run(ApplicationArguments args) throws Exception {\n    if (properties.isFailOnEmptyFileList()) {\n        Assert.notEmpty(args.getNonOptionArgs(), \"Pass at least one filename on the command line\");\n    }\n\n    // ...do some loading of files and such\n\n    if (properties.isExitWhenFinished()) {\n        System.exit(0);\n    }\n}\n</code></pre>\n\n<p>With that, I can tweak those properties to execute in a unit test friendly manner:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(properties = {\n        \"app.failOnEmptyFileList=false\",\n        \"app.exitWhenFinished=false\"\n})\npublic class InconsistentJsonApplicationTests {\n\n    @Test\n    public void contextLoads() {\n    }\n\n}\n</code></pre>\n\n<p>I needed the <code>exitWhenFinished</code> part since my particular runner normally calls <code>System.exit(0)</code> and exiting that way leaves the unit test in a semi-failed state.</p>\n"},{"tags":[],"owner":{"account_id":4972328,"reputation":949,"user_id":3999686,"display_name":"Torsten"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1541763504,"creation_date":1532353584,"answer_id":51480361,"question_id":39144136,"body_markdown":"In your code autowire springs `ApplicationArguments`. Use `getSourceArgs()` to retrieve the commandline arguments.\r\n\r\n\tpublic CityApplicationService(ApplicationArguments args, Writer writer){\t\t\r\n\t\tpublic void writeFirstArg(){\r\n\t\t\twriter.write(args.getSourceArgs()[0]);\r\n\t\t}\r\n\t}\r\n\r\nIn your test mock the ApplicationArguments.\r\n\r\n\t@RunWith(SpringRunner.class)\r\n\t@SpringBootTest\r\n\tpublic class CityApplicationTests {\r\n\t@MockBean\r\n\tprivate ApplicationArguments args;\r\n\r\n\t\t@Test\r\n\t\tpublic void contextLoads() {\r\n\t\t\t// given\r\n\t\t\tMockito.when(args.getSourceArgs()).thenReturn(new String[]{&quot;Berlin&quot;});\r\n\t\t\t\r\n\t\t\t// when\r\n\t\t\tctx.getBean(CityApplicationService.class).writeFirstArg();\r\n\t\t\t\r\n\t\t\t// then\r\n\t\t\tMockito.verify(writer).write(Matchers.eq(&quot;Berlin&quot;));\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n----------\r\nLike *Maciej Marczuk* suggested, I also prefer to use Springs `Environment` properties instead of commandline arguments. But if you cannot use the springs syntax `--argument=value` you could write an own `PropertySource`, fill it with your commandline arguments syntax and add it to the `ConfigurableEnvironment`. Then all your classes only need to use springs Environment properties.\r\n\r\nE.g.\r\n\r\n\tpublic class ArgsPropertySource extends PropertySource&lt;Map&lt;String, String&gt;&gt; {\r\n\t\t\r\n\t\tArgsPropertySource(List&lt;CmdArg&gt; cmdArgs, List&lt;String&gt; arguments) {\r\n\t\t\tsuper(&quot;My special commandline arguments&quot;, new HashMap&lt;&gt;());\r\n\r\n\t\t\t// CmdArgs maps the property name to the argument value.\r\n\t\t\tcmdArgs.forEach(cmd -&gt; cmd.mapArgument(source, arguments));\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic Object getProperty(String name) {\r\n\t\t\treturn source.get(name);\r\n\t\t}\r\n\t}\r\n\t\r\n\t\t\r\n\tpublic class SetupArgs {\r\n\t\t\r\n\t\tSetupArgs(ConfigurableEnvironment env, ArgsMapping mapping) {\t\t\t\r\n\t\t\t// In real world, this code would be in an own method.\r\n\t\t\tArgsPropertySource = new ArgsPropertySource(mapping.get(), args.getSourceArgs());\r\n\t\t\tenvironment\r\n\t\t\t\t.getPropertySources()\r\n\t\t\t\t.addFirst(propertySource);\r\n\t\t}\r\n    }\r\n\t\r\n\t\r\n----------\r\nBTW: \r\n\r\nSince I do not have enough reputation points to comment an answer, I would still like to leave a hard learned lesson here:\r\n\r\nThe `CommandlineRunner` is not such a good alternative. Since its `run()` method alwyas gets executed right after the creation of the spring context. Even in a test-class. So it will run, before your Test started ... \r\n","title":"Using junit test to pass command line argument to Spring Boot application","body":"<p>In your code autowire springs <code>ApplicationArguments</code>. Use <code>getSourceArgs()</code> to retrieve the commandline arguments.</p>\n\n<pre><code>public CityApplicationService(ApplicationArguments args, Writer writer){        \n    public void writeFirstArg(){\n        writer.write(args.getSourceArgs()[0]);\n    }\n}\n</code></pre>\n\n<p>In your test mock the ApplicationArguments.</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\npublic class CityApplicationTests {\n@MockBean\nprivate ApplicationArguments args;\n\n    @Test\n    public void contextLoads() {\n        // given\n        Mockito.when(args.getSourceArgs()).thenReturn(new String[]{\"Berlin\"});\n\n        // when\n        ctx.getBean(CityApplicationService.class).writeFirstArg();\n\n        // then\n        Mockito.verify(writer).write(Matchers.eq(\"Berlin\"));\n\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>Like <em>Maciej Marczuk</em> suggested, I also prefer to use Springs <code>Environment</code> properties instead of commandline arguments. But if you cannot use the springs syntax <code>--argument=value</code> you could write an own <code>PropertySource</code>, fill it with your commandline arguments syntax and add it to the <code>ConfigurableEnvironment</code>. Then all your classes only need to use springs Environment properties.</p>\n\n<p>E.g.</p>\n\n<pre><code>public class ArgsPropertySource extends PropertySource&lt;Map&lt;String, String&gt;&gt; {\n\n    ArgsPropertySource(List&lt;CmdArg&gt; cmdArgs, List&lt;String&gt; arguments) {\n        super(\"My special commandline arguments\", new HashMap&lt;&gt;());\n\n        // CmdArgs maps the property name to the argument value.\n        cmdArgs.forEach(cmd -&gt; cmd.mapArgument(source, arguments));\n    }\n\n    @Override\n    public Object getProperty(String name) {\n        return source.get(name);\n    }\n}\n\n\npublic class SetupArgs {\n\n    SetupArgs(ConfigurableEnvironment env, ArgsMapping mapping) {           \n        // In real world, this code would be in an own method.\n        ArgsPropertySource = new ArgsPropertySource(mapping.get(), args.getSourceArgs());\n        environment\n            .getPropertySources()\n            .addFirst(propertySource);\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>BTW: </p>\n\n<p>Since I do not have enough reputation points to comment an answer, I would still like to leave a hard learned lesson here:</p>\n\n<p>The <code>CommandlineRunner</code> is not such a good alternative. Since its <code>run()</code> method alwyas gets executed right after the creation of the spring context. Even in a test-class. So it will run, before your Test started ... </p>\n"},{"tags":[],"owner":{"account_id":887475,"reputation":3622,"user_id":926568,"accept_rate":100,"display_name":"deviant"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1580314358,"creation_date":1580314358,"answer_id":59971211,"question_id":39144136,"body_markdown":"`@SpringBootTest` has `args` param. You can pass cli arguments there\r\n\r\nsee https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/context/SpringBootTest.html#args--","title":"Using junit test to pass command line argument to Spring Boot application","body":"<p><code>@SpringBootTest</code> has <code>args</code> param. You can pass cli arguments there</p>\n\n<p>see <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/context/SpringBootTest.html#args--\" rel=\"noreferrer\">https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/context/SpringBootTest.html#args--</a></p>\n"},{"tags":[],"owner":{"account_id":19401614,"reputation":41,"user_id":14188064,"display_name":"SAM"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1620999978,"creation_date":1601796196,"answer_id":64192086,"question_id":39144136,"body_markdown":"You simply need to\r\n\r\n    @SpringBootTest(args = &quot;test&quot;)\r\n    class YourApplicationTests {\r\n      @Test\r\n      public void contextLoads() {\r\n      }\r\n    }","title":"Using junit test to pass command line argument to Spring Boot application","body":"<p>You simply need to</p>\n<pre><code>@SpringBootTest(args = &quot;test&quot;)\nclass YourApplicationTests {\n  @Test\n  public void contextLoads() {\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15830899,"reputation":503,"user_id":11422246,"display_name":"Vasanthakumar Jagannathan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637946531,"creation_date":1637946531,"answer_id":70127860,"question_id":39144136,"body_markdown":"In Junit 5, simply we can pass commanline arguments using args parm present in @SpringBootTest(args = &quot;20210831&quot;)\r\n\r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @SpringBootTest(args = &quot;20210831&quot;)\r\n    @TestPropertySource(&quot;/application-test.properties&quot;)\r\n    @ContextConfiguration(classes = {Test.class, TestConfig.class})\r\n    public class AppleTest {","title":"Using junit test to pass command line argument to Spring Boot application","body":"<p>In Junit 5, simply we can pass commanline arguments using args parm present in @SpringBootTest(args = &quot;20210831&quot;)</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@SpringBootTest(args = &quot;20210831&quot;)\n@TestPropertySource(&quot;/application-test.properties&quot;)\n@ContextConfiguration(classes = {Test.class, TestConfig.class})\npublic class AppleTest {\n</code></pre>\n"}],"owner":{"account_id":954184,"reputation":5177,"user_id":979772,"accept_rate":73,"display_name":"divinedragon"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39007,"favorite_count":0,"down_vote_count":1,"up_vote_count":23,"accepted_answer_id":59971211,"answer_count":8,"score":22,"last_activity_date":1637946531,"creation_date":1472124719,"question_id":39144136,"body_markdown":"I have a very basic Spring Boot application, which is expecting an argument from command line, and without it doesn&#39;t work. Here is the code.\r\n\r\n    @SpringBootApplication\r\n    public class Application implements CommandLineRunner {\r\n\r\n        private static final Logger log = LoggerFactory.getLogger(Application.class);\r\n\r\n        @Autowired\r\n        private Reader reader;\r\n\r\n        @Autowired\r\n        private Writer writer;\r\n\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n\r\n        @Override\r\n        public void run(String... args) throws Exception {\r\n\r\n            Assert.notEmpty(args);\r\n\r\n            List&lt;&gt; cities = reader.get(&quot;Berlin&quot;);\r\n             writer.write(cities);\r\n        }\r\n    }\r\n\r\nHere is my JUnit test class.\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    public class CityApplicationTests {\r\n\r\n        @Test\r\n        public void contextLoads() {\r\n        }\r\n    }\r\n\r\nNow, ````Assert.notEmpty()```` mandates for passing an argument. However, now, I am writing JUnit test for the same. But, I get following exception raise from the ````Assert````.\r\n\r\n    2016-08-25 16:59:38.714 ERROR 9734 --- [           main] o.s.boot.SpringApplication               : Application startup failed\r\n\r\n    java.lang.IllegalStateException: Failed to execute CommandLineRunner\r\n        at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:801) ~[spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\r\n        at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:782) ~[spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\r\n        at org.springframework.boot.SpringApplication.afterRefresh(SpringApplication.java:769) ~[spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:314) ~[spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\r\n        at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:111) [spring-boot-test-1.4.0.RELEASE.jar:1.4.0.RELEASE]\r\n        at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98) [spring-test-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n        at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116) [spring-test-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n        at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83) [spring-test-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n        at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117) [spring-test-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n        at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83) [spring-test-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n        at org.springframework.boot.test.autoconfigure.AutoConfigureReportTestExecutionListener.prepareTestInstance(AutoConfigureReportTestExecutionListener.java:46) [spring-boot-test-autoconfigure-1.4.0.RELEASE.jar:1.4.0.RELEASE]\r\n        at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230) [spring-test-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n        at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228) [spring-test-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n        at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287) [spring-test-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n        at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]\r\n        at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289) [spring-test-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n        at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247) [spring-test-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n        at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n        at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]\r\n        at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]\r\n        at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]\r\n        at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]\r\n        at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]\r\n        at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n        at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n        at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]\r\n        at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n        at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86) [.cp/:na]\r\n        at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38) [.cp/:na]\r\n        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459) [.cp/:na]\r\n        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:678) [.cp/:na]\r\n        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382) [.cp/:na]\r\n        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192) [.cp/:na]\r\n    Caused by: java.lang.IllegalArgumentException: [Assertion failed] - this array must not be empty: it must contain at least 1 element\r\n        at org.springframework.util.Assert.notEmpty(Assert.java:222) ~[spring-core-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n        at org.springframework.util.Assert.notEmpty(Assert.java:234) ~[spring-core-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n        at com.deepakshakya.dev.Application.run(Application.java:33) ~[classes/:na]\r\n        at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:798) ~[spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\r\n        ... 32 common frames omitted\r\n\r\nAny idea, how to pass the parameter?","title":"Using junit test to pass command line argument to Spring Boot application","body":"<p>I have a very basic Spring Boot application, which is expecting an argument from command line, and without it doesn't work. Here is the code.</p>\n\n<pre><code>@SpringBootApplication\npublic class Application implements CommandLineRunner {\n\n    private static final Logger log = LoggerFactory.getLogger(Application.class);\n\n    @Autowired\n    private Reader reader;\n\n    @Autowired\n    private Writer writer;\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n    @Override\n    public void run(String... args) throws Exception {\n\n        Assert.notEmpty(args);\n\n        List&lt;&gt; cities = reader.get(\"Berlin\");\n         writer.write(cities);\n    }\n}\n</code></pre>\n\n<p>Here is my JUnit test class.</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\npublic class CityApplicationTests {\n\n    @Test\n    public void contextLoads() {\n    }\n}\n</code></pre>\n\n<p>Now, <code>Assert.notEmpty()</code> mandates for passing an argument. However, now, I am writing JUnit test for the same. But, I get following exception raise from the <code>Assert</code>.</p>\n\n<pre><code>2016-08-25 16:59:38.714 ERROR 9734 --- [           main] o.s.boot.SpringApplication               : Application startup failed\n\njava.lang.IllegalStateException: Failed to execute CommandLineRunner\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:801) ~[spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\n    at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:782) ~[spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\n    at org.springframework.boot.SpringApplication.afterRefresh(SpringApplication.java:769) ~[spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:314) ~[spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:111) [spring-boot-test-1.4.0.RELEASE.jar:1.4.0.RELEASE]\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98) [spring-test-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116) [spring-test-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83) [spring-test-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117) [spring-test-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83) [spring-test-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.boot.test.autoconfigure.AutoConfigureReportTestExecutionListener.prepareTestInstance(AutoConfigureReportTestExecutionListener.java:46) [spring-boot-test-autoconfigure-1.4.0.RELEASE.jar:1.4.0.RELEASE]\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230) [spring-test-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228) [spring-test-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287) [spring-test-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289) [spring-test-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247) [spring-test-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86) [.cp/:na]\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38) [.cp/:na]\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459) [.cp/:na]\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:678) [.cp/:na]\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382) [.cp/:na]\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192) [.cp/:na]\nCaused by: java.lang.IllegalArgumentException: [Assertion failed] - this array must not be empty: it must contain at least 1 element\n    at org.springframework.util.Assert.notEmpty(Assert.java:222) ~[spring-core-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.util.Assert.notEmpty(Assert.java:234) ~[spring-core-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at com.deepakshakya.dev.Application.run(Application.java:33) ~[classes/:na]\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:798) ~[spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\n    ... 32 common frames omitted\n</code></pre>\n\n<p>Any idea, how to pass the parameter?</p>\n"},{"tags":["java","java-8","java-stream","java-11"],"answers":[{"tags":[],"owner":{"account_id":10595663,"reputation":4835,"user_id":7804477,"display_name":"Gautham M"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637931062,"creation_date":1637926291,"answer_id":70123738,"question_id":70122889,"body_markdown":"`map` and `filter` are intermediate operations. A stream is not processed unless a terminal operation is invoked. Here in your code you are not invoking any terminal operation so that the stream is processed. Since `close` is **not** a terminal operation, it does not process the stream. It just resets everything and ends the stream. You could refer `AbstractPipeline` to see the source code for `close`. Only thing that is executed is the code, if any, which was passed using the `onClose` method. (i.e If you used `onClose` on the stream, `stream().onClose(() -&gt; myCloseAction())....`).\r\n\r\nAlso, `close` is not really required in the code which you have posted. As you mentioned in the question itself, you could use `forEach`. It definitely works with parallel streams as well ([forEach](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#forEach-java.util.function.Consumer-)). Only thing is that your code seems to be updating a map. Make sure that is a concurrent map. Or it is much better to use `toMap` or `toConcurrentMap` from the `Collectors` class instead of putting elements inside a map using `forEach`.","title":"Why the nested stream not processing map or filter functions when there is close() in the end","body":"<p><code>map</code> and <code>filter</code> are intermediate operations. A stream is not processed unless a terminal operation is invoked. Here in your code you are not invoking any terminal operation so that the stream is processed. Since <code>close</code> is <strong>not</strong> a terminal operation, it does not process the stream. It just resets everything and ends the stream. You could refer <code>AbstractPipeline</code> to see the source code for <code>close</code>. Only thing that is executed is the code, if any, which was passed using the <code>onClose</code> method. (i.e If you used <code>onClose</code> on the stream, <code>stream().onClose(() -&gt; myCloseAction())....</code>).</p>\n<p>Also, <code>close</code> is not really required in the code which you have posted. As you mentioned in the question itself, you could use <code>forEach</code>. It definitely works with parallel streams as well (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#forEach-java.util.function.Consumer-\" rel=\"nofollow noreferrer\">forEach</a>). Only thing is that your code seems to be updating a map. Make sure that is a concurrent map. Or it is much better to use <code>toMap</code> or <code>toConcurrentMap</code> from the <code>Collectors</code> class instead of putting elements inside a map using <code>forEach</code>.</p>\n"}],"owner":{"account_id":8674249,"reputation":869,"user_id":6492094,"display_name":"Ayeshmantha Perera"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":70123738,"answer_count":1,"score":-2,"last_activity_date":1637945786,"creation_date":1637922263,"question_id":70122889,"body_markdown":"I have a nested stream that I am using in order to process some data related to a requirement \r\n\r\n       \r\n    final Map&lt;String, Long&gt; productModelQuantityReturnedMap = new HashMap&lt;&gt;();\r\n    \r\n    sampleList.stream()\r\n              .map(sampleModel -&gt; {\r\n                  sampleModel.getEntries()\r\n                             .stream()\r\n                             .filter(entryModel -&gt; Objects.nonNull(entryModel.getOrderEntry()))\r\n                             .map(returnEntryModel -&gt; {\r\n                                sampleMap.put(\r\n                                  key,\r\n                                  val);\r\n                                return null;\r\n                          }).close();\r\n                  return null;\r\n            }).close();\r\n\r\nYeah am aware that using for each or for would be ideal but yeah. I wanted to extend this to a parallel thread going forward since it has a lot of data points that don&#39;t depend on each other.\r\n\r\nAlthough it says stream or the parallel stream will wait until the inner part is done this goes directly to the `close()` of the outer stream which I don&#39;t understand why.\r\n\r\nCan someone please help me on finding the issue here? ","title":"Why the nested stream not processing map or filter functions when there is close() in the end","body":"<p>I have a nested stream that I am using in order to process some data related to a requirement</p>\n<pre><code>final Map&lt;String, Long&gt; productModelQuantityReturnedMap = new HashMap&lt;&gt;();\n\nsampleList.stream()\n          .map(sampleModel -&gt; {\n              sampleModel.getEntries()\n                         .stream()\n                         .filter(entryModel -&gt; Objects.nonNull(entryModel.getOrderEntry()))\n                         .map(returnEntryModel -&gt; {\n                            sampleMap.put(\n                              key,\n                              val);\n                            return null;\n                      }).close();\n              return null;\n        }).close();\n</code></pre>\n<p>Yeah am aware that using for each or for would be ideal but yeah. I wanted to extend this to a parallel thread going forward since it has a lot of data points that don't depend on each other.</p>\n<p>Although it says stream or the parallel stream will wait until the inner part is done this goes directly to the <code>close()</code> of the outer stream which I don't understand why.</p>\n<p>Can someone please help me on finding the issue here?</p>\n"},{"tags":["java","groovy"],"answers":[{"tags":[],"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637945384,"creation_date":1637932763,"answer_id":70125054,"question_id":70123585,"body_markdown":"there is no if/switch in this case. \r\n\r\nyou have to find/evaluate what was the month&amp;year 14 days before the given date\r\n\r\n```\r\n&#39;2021-04-25&#39; - 14days = &#39;2021-04-11&#39;  -&gt;  Apr 2021\r\n&#39;2021-04-15&#39; - 14days = &#39;2021-04-01&#39;  -&gt;  Apr 2021\r\n&#39;2021-04-14&#39; - 14days = &#39;2021-03-31&#39;  -&gt;  Mar 2021\r\n```\r\n\r\nthe code to evaluate `the date 14 days ago` and format it looks simple:\r\n\r\n```\r\ndef generateFileName(base, now=new Date()){\r\n    def d14 = now - 14\r\n    return &quot;${base}_${d14.format(&#39;MMMyy&#39;)}&quot;\r\n}\r\n\r\n\r\nassert &#39;XYZ_Mar21&#39; == generateFileName(&#39;XYZ&#39;, Date.parse(&#39;yyyy-MM-dd HH:mm:ss&#39;,&#39;2021-04-14 23:59:59&#39;))\r\nassert &#39;XYZ_Apr21&#39; == generateFileName(&#39;XYZ&#39;, Date.parse(&#39;yyyy-MM-dd HH:mm:ss&#39;,&#39;2021-04-15 00:00:00&#39;))\r\nassert &#39;XYZ_Apr21&#39; == generateFileName(&#39;XYZ&#39;, Date.parse(&#39;yyyy-MM-dd HH:mm:ss&#39;,&#39;2021-04-15 01:00:00&#39;))\r\n\r\n\r\nprintln generateFileName(&#39;XYZ&#39;)\r\n\r\n```\r\n","title":"Want to create a file name based on date range in groovy script","body":"<p>there is no if/switch in this case.</p>\n<p>you have to find/evaluate what was the month&amp;year 14 days before the given date</p>\n<pre><code>'2021-04-25' - 14days = '2021-04-11'  -&gt;  Apr 2021\n'2021-04-15' - 14days = '2021-04-01'  -&gt;  Apr 2021\n'2021-04-14' - 14days = '2021-03-31'  -&gt;  Mar 2021\n</code></pre>\n<p>the code to evaluate <code>the date 14 days ago</code> and format it looks simple:</p>\n<pre><code>def generateFileName(base, now=new Date()){\n    def d14 = now - 14\n    return &quot;${base}_${d14.format('MMMyy')}&quot;\n}\n\n\nassert 'XYZ_Mar21' == generateFileName('XYZ', Date.parse('yyyy-MM-dd HH:mm:ss','2021-04-14 23:59:59'))\nassert 'XYZ_Apr21' == generateFileName('XYZ', Date.parse('yyyy-MM-dd HH:mm:ss','2021-04-15 00:00:00'))\nassert 'XYZ_Apr21' == generateFileName('XYZ', Date.parse('yyyy-MM-dd HH:mm:ss','2021-04-15 01:00:00'))\n\n\nprintln generateFileName('XYZ')\n\n</code></pre>\n"}],"owner":{"account_id":19524412,"reputation":3,"user_id":14285509,"display_name":"DilipSInghMehra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70125054,"answer_count":1,"score":0,"last_activity_date":1637945384,"creation_date":1637925558,"question_id":70123585,"body_markdown":"I am not much into programming and struggling with the below requirement.\r\nOn any particular date a file would be generate by a system and my script has to read the file name which would be example XYZ and rename is using groovy script to XYZ_&lt;Period&gt;_&lt;Month&gt;&lt;year&gt;_&lt;Timestamp&gt; based on which date its run on. If it runs between 15th on this month and 14 of next month then the month name in the file would be of this month.\r\nExample : If its run on 25th April 2021 then the file name should be : XYZ_P1_APR21_20210425777.csv since it falls between 15 Apr to 14 May 2021.\r\n\r\nchallenge is how do I put this in if/ switch condition since these conditions should be valid forever so in condition if I have to compare current date with the range then the range is also dynamic -since next year he range would be 15 Apr to 14 May 2022.\r\n\r\nPlease help.\r\nThanks .","title":"Want to create a file name based on date range in groovy script","body":"<p>I am not much into programming and struggling with the below requirement.\nOn any particular date a file would be generate by a system and my script has to read the file name which would be example XYZ and rename is using groovy script to XYZ_<em></em> based on which date its run on. If it runs between 15th on this month and 14 of next month then the month name in the file would be of this month.\nExample : If its run on 25th April 2021 then the file name should be : XYZ_P1_APR21_20210425777.csv since it falls between 15 Apr to 14 May 2021.</p>\n<p>challenge is how do I put this in if/ switch condition since these conditions should be valid forever so in condition if I have to compare current date with the range then the range is also dynamic -since next year he range would be 15 Apr to 14 May 2022.</p>\n<p>Please help.\nThanks .</p>\n"},{"tags":["java","google-api","apache-httpclient-4.x","google-http-client"],"comments":[{"owner":{"account_id":4108248,"reputation":552,"user_id":3371582,"display_name":"IJR"},"score":0,"creation_date":1625119027,"post_id":68002387,"comment_id":120543109,"body_markdown":"issue opened on github project: https://github.com/googleapis/google-http-java-client/issues/1398","body":"issue opened on github project: <a href=\"https://github.com/googleapis/google-http-java-client/issues/1398\" rel=\"nofollow noreferrer\">github.com/googleapis/google-http-java-client/issues/1398</a>"},{"owner":{"account_id":1881220,"reputation":4005,"user_id":1701388,"display_name":"Chanseok Oh"},"score":0,"creation_date":1637767327,"post_id":68002387,"comment_id":123914974,"body_markdown":"This is not an issue from both the Google HTTP Client and Apache HttpClient libraries, and the GitHub issue is closed as &quot;working as intended.&quot; For the interested folks, follow the answer in the GitHub issue.","body":"This is not an issue from both the Google HTTP Client and Apache HttpClient libraries, and the GitHub issue is closed as &quot;working as intended.&quot; For the interested folks, follow the answer in the GitHub issue."}],"answers":[{"tags":[],"owner":{"account_id":4108248,"reputation":552,"user_id":3371582,"display_name":"IJR"},"down_vote_count":2,"up_vote_count":0,"is_accepted":true,"score":-2,"last_activity_date":1637695718,"creation_date":1625641542,"answer_id":68281488,"question_id":68002387,"body_markdown":"Workaround I posted on [github][1] in case it helps someone:\r\n\r\nAs workaround what I&#39;m trying is to wrap **ApacheHttpTransport** in **CustomApacheHttpTransport**, which delegate the result of methods to **ApacheHttpTransport** except for **_buildRequest_** method.\r\n\r\nThis **_buildRequest_** method in **CustomApacheHttpTransport** builds a custom request of type **CustomApacheHttpRequest**.\r\n```\r\npublic final class CustomApacheHttpTransport extends HttpTransport {\r\n\t\r\n\tprivate ApacheHttpTransport apacheHttpTransport;\r\n\t\r\n\tpublic CustomApacheHttpTransport (HttpClient httpClient) {\r\n\t\tthis.apacheHttpTransport = new ApacheHttpTransport(httpClient);\r\n\t}\r\n\t\r\n\t@Override\r\n\tprotected LowLevelHttpRequest buildRequest (String method, String url) {\r\n\t\tHttpRequestBase requestBase;\r\n\t\tif (method.equals(&quot;DELETE&quot;)) {\r\n\t\t\trequestBase = new HttpDelete(url);\r\n\t\t} else if (method.equals(&quot;GET&quot;)) {\r\n\t\t\trequestBase = new HttpGet(url);\r\n\t\t} else if (method.equals(&quot;HEAD&quot;)) {\r\n\t\t\trequestBase = new HttpHead(url);\r\n\t\t} else if (method.equals(&quot;PATCH&quot;)) {\r\n\t\t\trequestBase = new HttpPatch(url);\r\n\t\t} else if (method.equals(&quot;POST&quot;)) {\r\n\t\t\t..\r\n\t\t}\r\n\t\treturn new CustomApacheHttpRequest(apacheHttpTransport.getHttpClient(), requestBase);\r\n\t}\r\n}\r\n```\r\n\r\nThis custom request is like **ApacheHttpRequest** except for when it is executed it creates a custom entity, **CustomContentEntity**, which will be repeatable depending on whether the request content supports retries.\r\n\r\n```\r\nfinal class CustomApacheHttpRequest extends LowLevelHttpRequest {\r\n\t\r\n\tprivate final HttpClient httpClient;\r\n\tprivate final HttpRequestBase request;\r\n\tprivate RequestConfig.Builder requestConfig;\r\n\t\r\n\tCustomApacheHttpRequest (HttpClient httpClient, HttpRequestBase request) {\r\n\t\tthis.httpClient = httpClient;\r\n\t\tthis.request = request;\r\n\t\tthis.requestConfig = RequestConfig.custom().setRedirectsEnabled(false).setNormalizeUri(false).setStaleConnectionCheckEnabled(false);\r\n\t}\r\n\t\r\n\t...\r\n\t\t\r\n\t@Override\r\n\tpublic LowLevelHttpResponse execute () throws IOException {\r\n\t\tif (this.getStreamingContent() != null) {\r\n\t\t\tPreconditions.checkState(request instanceof HttpEntityEnclosingRequest, &quot;Apache HTTP client does not support %s requests with content.&quot;, request.getRequestLine().getMethod());\r\n\t\t\t\r\n\t\t\tCustomContentEntity entity = new CustomContentEntity(this.getContentLength(), this.getStreamingContent());\r\n\t\t\tentity.setContentEncoding(this.getContentEncoding());\r\n\t\t\tentity.setContentType(this.getContentType());\r\n\t\t\tif (this.getContentLength() == -1L) {\r\n\t\t\t\tentity.setChunked(true);\r\n\t\t\t}\r\n\t\t\t((HttpEntityEnclosingRequest) request).setEntity(entity);\r\n\t\t}\r\n\t\t\r\n\t\trequest.setConfig(requestConfig.build());\r\n\t\treturn new CustomApacheHttpResponse(request, httpClient.execute(request));\r\n\t}\r\n}\r\n```\r\n\r\nThe key in **CustomContentEntity** is **_isRepeatable_** method wich do not returns always **false** as **ContentEntity** does.\r\n```\r\nfinal class CustomContentEntity extends AbstractHttpEntity {\r\n\t\r\n\tprivate final long contentLength;\r\n\tprivate final StreamingContent streamingContent;\r\n\t\r\n\tCustomContentEntity (long contentLength, StreamingContent streamingContent) {\r\n\t\tthis.contentLength = contentLength;\r\n\t\tthis.streamingContent = streamingContent;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic boolean isRepeatable () {\r\n\t\treturn ((HttpContent) streamingContent).retrySupported();\r\n\t}\r\n\t...\r\n}\r\n```\r\n\r\nAlso I have to create **CustomApacheHttpResponse** as response for **CustomApacheHttpRequest** because **ApacheHttpResponse** is package-private (**CustomApacheHttpResponse** is exactly like **ApacheHttpResponse**).\r\n\r\n\r\n  [1]: http://github.com/googleapis/google-http-java-client/issues/1398","title":"Using google-http-client and google-http-client-apache-v2 behind a proxy produces NonRepeatableRequestException","body":"<p>Workaround I posted on <a href=\"http://github.com/googleapis/google-http-java-client/issues/1398\" rel=\"nofollow noreferrer\">github</a> in case it helps someone:</p>\n<p>As workaround what I'm trying is to wrap <strong>ApacheHttpTransport</strong> in <strong>CustomApacheHttpTransport</strong>, which delegate the result of methods to <strong>ApacheHttpTransport</strong> except for <strong><em>buildRequest</em></strong> method.</p>\n<p>This <strong><em>buildRequest</em></strong> method in <strong>CustomApacheHttpTransport</strong> builds a custom request of type <strong>CustomApacheHttpRequest</strong>.</p>\n<pre><code>public final class CustomApacheHttpTransport extends HttpTransport {\n    \n    private ApacheHttpTransport apacheHttpTransport;\n    \n    public CustomApacheHttpTransport (HttpClient httpClient) {\n        this.apacheHttpTransport = new ApacheHttpTransport(httpClient);\n    }\n    \n    @Override\n    protected LowLevelHttpRequest buildRequest (String method, String url) {\n        HttpRequestBase requestBase;\n        if (method.equals(&quot;DELETE&quot;)) {\n            requestBase = new HttpDelete(url);\n        } else if (method.equals(&quot;GET&quot;)) {\n            requestBase = new HttpGet(url);\n        } else if (method.equals(&quot;HEAD&quot;)) {\n            requestBase = new HttpHead(url);\n        } else if (method.equals(&quot;PATCH&quot;)) {\n            requestBase = new HttpPatch(url);\n        } else if (method.equals(&quot;POST&quot;)) {\n            ..\n        }\n        return new CustomApacheHttpRequest(apacheHttpTransport.getHttpClient(), requestBase);\n    }\n}\n</code></pre>\n<p>This custom request is like <strong>ApacheHttpRequest</strong> except for when it is executed it creates a custom entity, <strong>CustomContentEntity</strong>, which will be repeatable depending on whether the request content supports retries.</p>\n<pre><code>final class CustomApacheHttpRequest extends LowLevelHttpRequest {\n    \n    private final HttpClient httpClient;\n    private final HttpRequestBase request;\n    private RequestConfig.Builder requestConfig;\n    \n    CustomApacheHttpRequest (HttpClient httpClient, HttpRequestBase request) {\n        this.httpClient = httpClient;\n        this.request = request;\n        this.requestConfig = RequestConfig.custom().setRedirectsEnabled(false).setNormalizeUri(false).setStaleConnectionCheckEnabled(false);\n    }\n    \n    ...\n        \n    @Override\n    public LowLevelHttpResponse execute () throws IOException {\n        if (this.getStreamingContent() != null) {\n            Preconditions.checkState(request instanceof HttpEntityEnclosingRequest, &quot;Apache HTTP client does not support %s requests with content.&quot;, request.getRequestLine().getMethod());\n            \n            CustomContentEntity entity = new CustomContentEntity(this.getContentLength(), this.getStreamingContent());\n            entity.setContentEncoding(this.getContentEncoding());\n            entity.setContentType(this.getContentType());\n            if (this.getContentLength() == -1L) {\n                entity.setChunked(true);\n            }\n            ((HttpEntityEnclosingRequest) request).setEntity(entity);\n        }\n        \n        request.setConfig(requestConfig.build());\n        return new CustomApacheHttpResponse(request, httpClient.execute(request));\n    }\n}\n</code></pre>\n<p>The key in <strong>CustomContentEntity</strong> is <strong><em>isRepeatable</em></strong> method wich do not returns always <strong>false</strong> as <strong>ContentEntity</strong> does.</p>\n<pre><code>final class CustomContentEntity extends AbstractHttpEntity {\n    \n    private final long contentLength;\n    private final StreamingContent streamingContent;\n    \n    CustomContentEntity (long contentLength, StreamingContent streamingContent) {\n        this.contentLength = contentLength;\n        this.streamingContent = streamingContent;\n    }\n    \n    @Override\n    public boolean isRepeatable () {\n        return ((HttpContent) streamingContent).retrySupported();\n    }\n    ...\n}\n</code></pre>\n<p>Also I have to create <strong>CustomApacheHttpResponse</strong> as response for <strong>CustomApacheHttpRequest</strong> because <strong>ApacheHttpResponse</strong> is package-private (<strong>CustomApacheHttpResponse</strong> is exactly like <strong>ApacheHttpResponse</strong>).</p>\n"},{"tags":[],"owner":{"account_id":1881220,"reputation":4005,"user_id":1701388,"display_name":"Chanseok Oh"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1637945284,"creation_date":1637612651,"answer_id":70071963,"question_id":68002387,"body_markdown":"It is correct that the library returns with the error saying &quot;your request is not retryable.&quot; It is working as intended.\r\n\r\nPOST requests are fundamentally considered non-retryable, as they are most likely to [have a server store data](https://en.wikipedia.org/wiki/POST_(HTTP)). For example, a server is recommended to [return 201 (Created) as a response](https://datatracker.ietf.org/doc/html/rfc7231#section-4.3.3) when the server successfully created one or more resources. Retrying a POST request may end up inserting, uploading, or posting data multiple times. This is why sometimes web browsers show the following prompt to avoid &quot;a duplicate credit card transaction&quot;:\r\n\r\n![image](https://user-images.githubusercontent.com/10523105/142929079-c06c480c-5e93-4957-9759-8024101ca3c6.png)\r\n\r\nA potential retry logic for POST should be implemented at the user application level, not at the library level.\r\n\r\nIn your case, the cause of the error is that you are not authorized to use the proxy. Therefore, you need to authenticate with the proxy first before attempting to use it, and then send (or re-send) a POST request.\r\n\r\n---\r\n\r\n**UPDATES for the questions asked later in the comment as well as in the [GitHub issue][1].**\r\n\r\n\r\n&gt; Why is the library who tries to repeat the request? (failling on a POST request).\r\n\r\nThe question reads weird, so I&#39;m not sure what you&#39;re asking. Anyways, the library is designed to intentionally not repeat a request for POST. For GET, it&#39;s a different story.\r\n\r\n&gt; Why the library have the same behaviour (retrying the request) with a GET request? (but in this case sucessfully because GET request do not have entity and do not matters if it is repeatable or not).\r\n\r\nGET is by its nature considered a repeatable request. See [this doc](https://www.w3schools.com/tags/ref_httpmethods.asp) for example to understand the nature of the difference of GET and POST.\r\n\r\n&gt; GET requests are only used to request data (not modify)\r\n\r\n&gt; POST is used to send data to a server to create/update a resource.\r\n\r\n. | GET | POST\r\n-- | -- | --\r\nBACK button/Reload | Harmless | Data will be re-submitted (the browser should alert the user that the data are about to be re-submitted)\r\n\r\n&gt; Why if I change the entity, as show in workaround, to make it repeatable, the POST request works successfully through the proxy for which you say I&#39;m not authorized to use?\r\n\r\nYou programmed your app to repeat the request when it fails at the application level through the use of the Apache API. Nothing prevents you from whatever you want with the Apache library. And of course, if we change the Google library to do what you are trying to do, it is technically possible to make it work that way. However, what I am saying is that it is wrong for the library to do so. And lastly, auth is not really relevant; it&#39;s just one kind of many failures you may encounter. For POST, in almost all cases, it doesn&#39;t make sense to automatically re-send the request regardless of which kind of error you encounter.\r\n\r\n&gt; If as you say I&#39;m not authorized to use the proxy:\r\n\r\nYou are not authorized to use the server for the initial request. That&#39;s why you get [`407 Proxy Authentication Required`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/407) from the proxy server. A client most likely needs to check the returned `Proxy-Authenticate` value and take an appropriate action to figure out the credentials. What action it needs to take depends on the value of the header, as explained in the doc:\r\n\r\n&gt; This status is sent with a `Proxy-Authenticate` header that contains information on how to authorize correctly.\r\n\r\nThe form of the credentials you provide may not be the final form the proxy may expect. Often, your initial credentials are used to obtain the final form of the credentials that the server wants. Later once you have obtained them, the client will have to provide these credentials in subsequent requests. In any case, the truth is that, the server did return 407, saying &quot;I&#39;m denying your request, because authentication is required.&quot;\r\n\r\n---\r\n\r\n**UPDATE2**\r\n\r\n&gt; Apache HttpClient is retrying the request\r\n\r\nYes, of course. And you manually programmed your app to allow Apache HttpClient to re-send a request for POST (which may be a viable workaround for you but this shouldn&#39;t be generalized for other cases).\r\n\r\nNow I see what you are missing and where you have a wrong idea. When interacting with a proxy (or a non-proxy) that requires auth, generally you (whether it is you or the Apache library) will _have to make at least two requests_. First, you try without sending any sensitive information (why would you disclose your information upfront to someone who cannot be trusted? Even if you trust them, you don&#39;t really know if they are going to need your info at all. Moreover, even so, you don&#39;t know how correctly you should present your sensitive info). That first request may (or may not) fail with an error like &quot;407 Proxy Authentication Required&quot; (people call this that the server is &quot;challenging&quot; you), and _based on what kinds of challenges the server gives you_, you will need to take the right action to prepare an auth header for _the second request_. And the Apache library does that for you.\r\n\r\n&gt;  despite I provide the credentials\r\n\r\nWhat did you expect that calling `.setDefaultCredentialsProvider()` would do? It doesn&#39;t do what you are currently thinking. The Apache library does nothing about your password in the first request. As I said earlier, in the end, you need to provide the right form of credentials that the server wants after checking the value of `Proxy-Authenticate`, which tells you how you should _correctly_ auth with the server. That is why generally you _have to repeat a request_. If all these sound alien to you, please take a moment to read [this introductory doc](https://developer.mozilla.org/en-US/docs/Web/HTTP/Authentication) to understand how this challenge-based HTTP auth framework works. (The doc makes a note that it will explain only with the &quot;Basic&quot; scheme for educational purposes, but note that there are other non-basic schemes.)\r\n\r\n  [1]: https://github.com/googleapis/google-http-java-client/issues/1398#issuecomment-976722535","title":"Using google-http-client and google-http-client-apache-v2 behind a proxy produces NonRepeatableRequestException","body":"<p>It is correct that the library returns with the error saying &quot;your request is not retryable.&quot; It is working as intended.</p>\n<p>POST requests are fundamentally considered non-retryable, as they are most likely to <a href=\"https://en.wikipedia.org/wiki/POST_(HTTP)\" rel=\"nofollow noreferrer\">have a server store data</a>. For example, a server is recommended to <a href=\"https://datatracker.ietf.org/doc/html/rfc7231#section-4.3.3\" rel=\"nofollow noreferrer\">return 201 (Created) as a response</a> when the server successfully created one or more resources. Retrying a POST request may end up inserting, uploading, or posting data multiple times. This is why sometimes web browsers show the following prompt to avoid &quot;a duplicate credit card transaction&quot;:</p>\n<p><img src=\"https://user-images.githubusercontent.com/10523105/142929079-c06c480c-5e93-4957-9759-8024101ca3c6.png\" alt=\"image\" /></p>\n<p>A potential retry logic for POST should be implemented at the user application level, not at the library level.</p>\n<p>In your case, the cause of the error is that you are not authorized to use the proxy. Therefore, you need to authenticate with the proxy first before attempting to use it, and then send (or re-send) a POST request.</p>\n<hr />\n<p><strong>UPDATES for the questions asked later in the comment as well as in the <a href=\"https://github.com/googleapis/google-http-java-client/issues/1398#issuecomment-976722535\" rel=\"nofollow noreferrer\">GitHub issue</a>.</strong></p>\n<blockquote>\n<p>Why is the library who tries to repeat the request? (failling on a POST request).</p>\n</blockquote>\n<p>The question reads weird, so I'm not sure what you're asking. Anyways, the library is designed to intentionally not repeat a request for POST. For GET, it's a different story.</p>\n<blockquote>\n<p>Why the library have the same behaviour (retrying the request) with a GET request? (but in this case sucessfully because GET request do not have entity and do not matters if it is repeatable or not).</p>\n</blockquote>\n<p>GET is by its nature considered a repeatable request. See <a href=\"https://www.w3schools.com/tags/ref_httpmethods.asp\" rel=\"nofollow noreferrer\">this doc</a> for example to understand the nature of the difference of GET and POST.</p>\n<blockquote>\n<p>GET requests are only used to request data (not modify)</p>\n</blockquote>\n<blockquote>\n<p>POST is used to send data to a server to create/update a resource.</p>\n</blockquote>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>.</th>\n<th>GET</th>\n<th>POST</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>BACK button/Reload</td>\n<td>Harmless</td>\n<td>Data will be re-submitted (the browser should alert the user that the data are about to be re-submitted)</td>\n</tr>\n</tbody>\n</table>\n</div>\n<blockquote>\n<p>Why if I change the entity, as show in workaround, to make it repeatable, the POST request works successfully through the proxy for which you say I'm not authorized to use?</p>\n</blockquote>\n<p>You programmed your app to repeat the request when it fails at the application level through the use of the Apache API. Nothing prevents you from whatever you want with the Apache library. And of course, if we change the Google library to do what you are trying to do, it is technically possible to make it work that way. However, what I am saying is that it is wrong for the library to do so. And lastly, auth is not really relevant; it's just one kind of many failures you may encounter. For POST, in almost all cases, it doesn't make sense to automatically re-send the request regardless of which kind of error you encounter.</p>\n<blockquote>\n<p>If as you say I'm not authorized to use the proxy:</p>\n</blockquote>\n<p>You are not authorized to use the server for the initial request. That's why you get <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/407\" rel=\"nofollow noreferrer\"><code>407 Proxy Authentication Required</code></a> from the proxy server. A client most likely needs to check the returned <code>Proxy-Authenticate</code> value and take an appropriate action to figure out the credentials. What action it needs to take depends on the value of the header, as explained in the doc:</p>\n<blockquote>\n<p>This status is sent with a <code>Proxy-Authenticate</code> header that contains information on how to authorize correctly.</p>\n</blockquote>\n<p>The form of the credentials you provide may not be the final form the proxy may expect. Often, your initial credentials are used to obtain the final form of the credentials that the server wants. Later once you have obtained them, the client will have to provide these credentials in subsequent requests. In any case, the truth is that, the server did return 407, saying &quot;I'm denying your request, because authentication is required.&quot;</p>\n<hr />\n<p><strong>UPDATE2</strong></p>\n<blockquote>\n<p>Apache HttpClient is retrying the request</p>\n</blockquote>\n<p>Yes, of course. And you manually programmed your app to allow Apache HttpClient to re-send a request for POST (which may be a viable workaround for you but this shouldn't be generalized for other cases).</p>\n<p>Now I see what you are missing and where you have a wrong idea. When interacting with a proxy (or a non-proxy) that requires auth, generally you (whether it is you or the Apache library) will <em>have to make at least two requests</em>. First, you try without sending any sensitive information (why would you disclose your information upfront to someone who cannot be trusted? Even if you trust them, you don't really know if they are going to need your info at all. Moreover, even so, you don't know how correctly you should present your sensitive info). That first request may (or may not) fail with an error like &quot;407 Proxy Authentication Required&quot; (people call this that the server is &quot;challenging&quot; you), and <em>based on what kinds of challenges the server gives you</em>, you will need to take the right action to prepare an auth header for <em>the second request</em>. And the Apache library does that for you.</p>\n<blockquote>\n<p>despite I provide the credentials</p>\n</blockquote>\n<p>What did you expect that calling <code>.setDefaultCredentialsProvider()</code> would do? It doesn't do what you are currently thinking. The Apache library does nothing about your password in the first request. As I said earlier, in the end, you need to provide the right form of credentials that the server wants after checking the value of <code>Proxy-Authenticate</code>, which tells you how you should <em>correctly</em> auth with the server. That is why generally you <em>have to repeat a request</em>. If all these sound alien to you, please take a moment to read <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Authentication\" rel=\"nofollow noreferrer\">this introductory doc</a> to understand how this challenge-based HTTP auth framework works. (The doc makes a note that it will explain only with the &quot;Basic&quot; scheme for educational purposes, but note that there are other non-basic schemes.)</p>\n"}],"owner":{"account_id":4108248,"reputation":552,"user_id":3371582,"display_name":"IJR"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":942,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68281488,"answer_count":2,"score":0,"last_activity_date":1637945284,"creation_date":1623845372,"question_id":68002387,"body_markdown":"I&#39;m using **google-http-client** and **google-http-client-apache-v2** libraries to make a **POST** request **behind a proxy**.\r\n\r\n```code\t\t\r\n// 1.- Setting ssl and proxy\r\nHttpClientBuilder builder = HttpClientBuilder.create();\r\n\t\t\t\r\nSSLContext sslContext = SslUtils.getTlsSslContext();\r\nSslUtils.initSslContext(sslContext, GoogleUtils.getCertificateTrustStore(), SslUtils.getPkixTrustManagerFactory());\r\nbuilder.setSSLSocketFactory(new SSLConnectionSocketFactory(sslContext));\r\n\t\t\t\r\nbuilder.setProxy(new HttpHost(host, port));\r\nCredentialsProvider credentialsProvider = new BasicCredentialsProvider();\r\ncredentialsProvider.setCredentials(new AuthScope(host, port), new UsernamePasswordCredentials(user, pass));\r\nbuilder.setDefaultCredentialsProvider(credentialsProvider);\r\n\r\n// 2.- Build request\r\nHttpTransport httpTransport = new ApacheHttpTransport(builder.build());\r\nHttpRequestFactory factory = httpTransport.createRequestFactory(credential);\r\n\r\nHttpContent httpContent = new ByteArrayContent(&quot;application/json&quot;, &quot;{}&quot;)\r\nHttpRequest request = factory.buildRequest(&quot;POST&quot;, new GenericUrl(url), httpContent);\r\n\r\n// 3.- Execute request\r\nHttpResponse httpResponse = request.execute();\r\n```\r\n\r\nThat request produces a **NonRepeatableRequestException**:\r\n\r\n    org.apache.http.client.ClientProtocolException\r\n    \tat org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:187) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n    \tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n    \tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n    \tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n    \tat com.google.api.client.http.apache.v2.ApacheHttpRequest.execute(ApacheHttpRequest.java:73) ~[google-http-client-apache-v2-1.39.2.jar!/:?]\r\n    \tat com.google.api.client.http.HttpRequest.execute(HttpRequest.java:1012) ~[google-http-client-1.39.2.jar!/:1.39.2]\r\n    \tat \r\n    \t...\r\n    Caused by: org.apache.http.client.NonRepeatableRequestException: Cannot retry request with a non-repeatable request entity.\r\n    \tat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:225) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n    \tat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n    \tat org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n    \tat org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n    \tat org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n    \tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n    \tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n    \tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n    \tat com.google.api.client.http.apache.v2.ApacheHttpRequest.execute(ApacheHttpRequest.java:73) ~[google-http-client-apache-v2-1.39.2.jar!/:?]\r\n    \tat com.google.api.client.http.HttpRequest.execute(HttpRequest.java:1012) ~[google-http-client-1.39.2.jar!/:1.39.2]\r\n\r\n    \t\t\r\nIt seems like **ApacheHttpRequest** wraps **ByteArrayContent** that is **repeatable** (see [JavaDoc][1]) inside a **ContentEntity** that is **non-repeatable**.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nDebuging execution inside google libraries, proxy is returning &quot;407 Proxy Authentication Required&quot;, then it tries to repeat the request (guess that including the credentials) and that exception arises because ContentEntity used by google library is non-repeatable.\r\n\r\nIs there any way to avoid handshake with proxy including credentials in first request to avoid reuse of the entity?\r\n\r\nIs there any way to tell google libraries that uses a repeatable entity?\r\n\r\nTryed with follwing library versions:\r\n\r\n - google-api-client-1.31.5\r\n - google-http-client-jackson2-1.39.2\r\n - google-oauth-client-1.31.5\r\n - google-http-client-apache-v2-1.39.2\r\n - google-http-client-1.39.2\r\n - httpclient-4.5.13\r\n - httpcore-4.4.14\r\n\r\n  [1]: https://googleapis.dev/java/google-http-client/latest/com/google/api/client/http/ByteArrayContent.html\r\n  [2]: https://i.stack.imgur.com/JXqIj.png","title":"Using google-http-client and google-http-client-apache-v2 behind a proxy produces NonRepeatableRequestException","body":"<p>I'm using <strong>google-http-client</strong> and <strong>google-http-client-apache-v2</strong> libraries to make a <strong>POST</strong> request <strong>behind a proxy</strong>.</p>\n<pre><code>// 1.- Setting ssl and proxy\nHttpClientBuilder builder = HttpClientBuilder.create();\n            \nSSLContext sslContext = SslUtils.getTlsSslContext();\nSslUtils.initSslContext(sslContext, GoogleUtils.getCertificateTrustStore(), SslUtils.getPkixTrustManagerFactory());\nbuilder.setSSLSocketFactory(new SSLConnectionSocketFactory(sslContext));\n            \nbuilder.setProxy(new HttpHost(host, port));\nCredentialsProvider credentialsProvider = new BasicCredentialsProvider();\ncredentialsProvider.setCredentials(new AuthScope(host, port), new UsernamePasswordCredentials(user, pass));\nbuilder.setDefaultCredentialsProvider(credentialsProvider);\n\n// 2.- Build request\nHttpTransport httpTransport = new ApacheHttpTransport(builder.build());\nHttpRequestFactory factory = httpTransport.createRequestFactory(credential);\n\nHttpContent httpContent = new ByteArrayContent(&quot;application/json&quot;, &quot;{}&quot;)\nHttpRequest request = factory.buildRequest(&quot;POST&quot;, new GenericUrl(url), httpContent);\n\n// 3.- Execute request\nHttpResponse httpResponse = request.execute();\n</code></pre>\n<p>That request produces a <strong>NonRepeatableRequestException</strong>:</p>\n<pre><code>org.apache.http.client.ClientProtocolException\n    at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:187) ~[httpclient-4.5.13.jar!/:4.5.13]\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar!/:4.5.13]\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108) ~[httpclient-4.5.13.jar!/:4.5.13]\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56) ~[httpclient-4.5.13.jar!/:4.5.13]\n    at com.google.api.client.http.apache.v2.ApacheHttpRequest.execute(ApacheHttpRequest.java:73) ~[google-http-client-apache-v2-1.39.2.jar!/:?]\n    at com.google.api.client.http.HttpRequest.execute(HttpRequest.java:1012) ~[google-http-client-1.39.2.jar!/:1.39.2]\n    at \n    ...\nCaused by: org.apache.http.client.NonRepeatableRequestException: Cannot retry request with a non-repeatable request entity.\n    at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:225) ~[httpclient-4.5.13.jar!/:4.5.13]\n    at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar!/:4.5.13]\n    at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar!/:4.5.13]\n    at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar!/:4.5.13]\n    at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar!/:4.5.13]\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar!/:4.5.13]\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108) ~[httpclient-4.5.13.jar!/:4.5.13]\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56) ~[httpclient-4.5.13.jar!/:4.5.13]\n    at com.google.api.client.http.apache.v2.ApacheHttpRequest.execute(ApacheHttpRequest.java:73) ~[google-http-client-apache-v2-1.39.2.jar!/:?]\n    at com.google.api.client.http.HttpRequest.execute(HttpRequest.java:1012) ~[google-http-client-1.39.2.jar!/:1.39.2]\n\n        \n</code></pre>\n<p>It seems like <strong>ApacheHttpRequest</strong> wraps <strong>ByteArrayContent</strong> that is <strong>repeatable</strong> (see <a href=\"https://googleapis.dev/java/google-http-client/latest/com/google/api/client/http/ByteArrayContent.html\" rel=\"nofollow noreferrer\">JavaDoc</a>) inside a <strong>ContentEntity</strong> that is <strong>non-repeatable</strong>.</p>\n<p><a href=\"https://i.stack.imgur.com/JXqIj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JXqIj.png\" alt=\"enter image description here\" /></a></p>\n<p>Debuging execution inside google libraries, proxy is returning &quot;407 Proxy Authentication Required&quot;, then it tries to repeat the request (guess that including the credentials) and that exception arises because ContentEntity used by google library is non-repeatable.</p>\n<p>Is there any way to avoid handshake with proxy including credentials in first request to avoid reuse of the entity?</p>\n<p>Is there any way to tell google libraries that uses a repeatable entity?</p>\n<p>Tryed with follwing library versions:</p>\n<ul>\n<li>google-api-client-1.31.5</li>\n<li>google-http-client-jackson2-1.39.2</li>\n<li>google-oauth-client-1.31.5</li>\n<li>google-http-client-apache-v2-1.39.2</li>\n<li>google-http-client-1.39.2</li>\n<li>httpclient-4.5.13</li>\n<li>httpcore-4.4.14</li>\n</ul>\n"},{"tags":["java","excel","formatting","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":41230,"reputation":37690,"user_id":119775,"accept_rate":76,"display_name":"Jean-Fran&#231;ois Corbett"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1418219226,"creation_date":1418215361,"answer_id":27401312,"question_id":27400825,"body_markdown":"Just `#,###` or `#,##0` should be sufficient. Excel interprets this as having thousands separators every three digits (not just before the last three, which I infer is what you were expecting).\r\n\r\n![enter image description here][1]\r\n\r\nIn the spirit of teaching a man to fish, this is how you can find out for yourself:\r\n\r\nFormat as Number, 0 decimal places, with 1000 separator:\r\n\r\n![enter image description here][2]\r\n\r\nClick OK, then re-open the number format dialog and go to Custom. Have a look at the formatting code (&quot;Type&quot;). It says `#,##0`, which for me gives the exact same result as `#,###`.\r\n\r\n![enter image description here][3]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/zSBNk.png\r\n  [2]: http://i.stack.imgur.com/TVqFg.png\r\n  [3]: http://i.stack.imgur.com/7RFst.png","title":"Format number with thousands separator in Excel using Apache POI","body":"<p>Just <code>#,###</code> or <code>#,##0</code> should be sufficient. Excel interprets this as having thousands separators every three digits (not just before the last three, which I infer is what you were expecting).</p>\n\n<p><img src=\"https://i.stack.imgur.com/zSBNk.png\" alt=\"enter image description here\"></p>\n\n<p>In the spirit of teaching a man to fish, this is how you can find out for yourself:</p>\n\n<p>Format as Number, 0 decimal places, with 1000 separator:</p>\n\n<p><img src=\"https://i.stack.imgur.com/TVqFg.png\" alt=\"enter image description here\"></p>\n\n<p>Click OK, then re-open the number format dialog and go to Custom. Have a look at the formatting code (\"Type\"). It says <code>#,##0</code>, which for me gives the exact same result as <code>#,###</code>.</p>\n\n<p><img src=\"https://i.stack.imgur.com/7RFst.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":2839361,"reputation":391,"user_id":2439253,"accept_rate":50,"display_name":"Ian"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1637945125,"creation_date":1421805075,"answer_id":28058309,"question_id":27400825,"body_markdown":"Just add this:\r\n\r\n    style.setDataFormat(HSSFDataFormat.getBuiltinFormat(&quot;#,##0.00&quot;));\r\n\r\nand it will follow the format you want.\r\n\r\n","title":"Format number with thousands separator in Excel using Apache POI","body":"<p>Just add this:</p>\n<pre><code>style.setDataFormat(HSSFDataFormat.getBuiltinFormat(&quot;#,##0.00&quot;));\n</code></pre>\n<p>and it will follow the format you want.</p>\n"}],"owner":{"account_id":1158581,"reputation":17184,"user_id":1138559,"accept_rate":99,"display_name":"Alkis Kalogeris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30507,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":27401312,"answer_count":2,"score":13,"last_activity_date":1637945125,"creation_date":1418213899,"question_id":27400825,"body_markdown":"I want to format some number cells, with a comma as thousands separator. For example:\r\n\r\n    12        -&gt; 12\r\n    1200      -&gt; 1,200\r\n    12000     -&gt; 12,000\r\n    12000000  -&gt; 12,000,000\r\n    120000000 -&gt; 120,000,000\r\n\r\nI have the following code. What should I use as `formatStr`? Is there an easy way? Or do I have to detect the number of zeros in order to produce something like this `#,###,###`?\r\n\r\n    String formatStr = &quot;&quot;;\r\n    HSSFCellStyle style = workbook.createCellStyle();\r\n    HSSFDataFormat format = workbook.createDataFormat();\r\n    style.setDataFormat(format.getFormat(formatStr));\r\n    cell.setCellStyle(style);\r\n    cell.setCellType(HSSFCell.CELL_TYPE_NUMERIC);\r\n\r\nKeep in mind that I&#39;m dealing with numbers. The cell type will be numeric, not string.\r\n\r\n\r\n**Update**\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/YCIP7.png","title":"Format number with thousands separator in Excel using Apache POI","body":"<p>I want to format some number cells, with a comma as thousands separator. For example:</p>\n\n<pre><code>12        -&gt; 12\n1200      -&gt; 1,200\n12000     -&gt; 12,000\n12000000  -&gt; 12,000,000\n120000000 -&gt; 120,000,000\n</code></pre>\n\n<p>I have the following code. What should I use as <code>formatStr</code>? Is there an easy way? Or do I have to detect the number of zeros in order to produce something like this <code>#,###,###</code>?</p>\n\n<pre><code>String formatStr = \"\";\nHSSFCellStyle style = workbook.createCellStyle();\nHSSFDataFormat format = workbook.createDataFormat();\nstyle.setDataFormat(format.getFormat(formatStr));\ncell.setCellStyle(style);\ncell.setCellType(HSSFCell.CELL_TYPE_NUMERIC);\n</code></pre>\n\n<p>Keep in mind that I'm dealing with numbers. The cell type will be numeric, not string.</p>\n\n<p><strong>Update</strong></p>\n\n<p><img src=\"https://i.stack.imgur.com/YCIP7.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","swing","window","jpanel"],"comments":[{"owner":{"account_id":21020948,"reputation":417,"user_id":15447313,"display_name":"LuckyBandit74"},"score":0,"creation_date":1637945966,"post_id":70127571,"comment_id":123966162,"body_markdown":"Have you tried using a card layout? https://www.google.com/amp/s/www.geeksforgeeks.org/java-awt-cardlayout-class/amp/. This allows for easy switching between panels.","body":"Have you tried using a card layout? <a href=\"https://www.google.com/amp/s/www.geeksforgeeks.org/java-awt-cardlayout-class/amp/\" rel=\"nofollow noreferrer\">google.com/amp/s/www.geeksforgeeks.org/&hellip;</a>. This allows for easy switching between panels."},{"owner":{"account_id":6567817,"reputation":31,"user_id":5076814,"display_name":"Somaiyah Sultani"},"score":0,"creation_date":1637955321,"post_id":70127571,"comment_id":123968635,"body_markdown":"the frame is set to absoluteLayout and LayeredPane is set to CardLayout(), do you mean that? or do you mean something else?","body":"the frame is set to absoluteLayout and LayeredPane is set to CardLayout(), do you mean that? or do you mean something else?"},{"owner":{"account_id":21020948,"reputation":417,"user_id":15447313,"display_name":"LuckyBandit74"},"score":0,"creation_date":1637955561,"post_id":70127571,"comment_id":123968704,"body_markdown":"Oh now I see that you have a card layout. However, why are you not utilizing the card layouts methods? Refer to the link I sent, a card layout can show a certain panel and hide all other panels very easily. Right now, you have your own method called switchPanels() which is extra work. I encourage you to implement the card layout to its full capability. Look at the examples used in the link","body":"Oh now I see that you have a card layout. However, why are you not utilizing the card layouts methods? Refer to the link I sent, a card layout can show a certain panel and hide all other panels very easily. Right now, you have your own method called switchPanels() which is extra work. I encourage you to implement the card layout to its full capability. Look at the examples used in the link"},{"owner":{"account_id":6567817,"reputation":31,"user_id":5076814,"display_name":"Somaiyah Sultani"},"score":0,"creation_date":1637968344,"post_id":70127571,"comment_id":123971328,"body_markdown":"So I tried doing that too but still nothing happens! I tried next(), last() and first() as well as show(), but no change idk what I&#39;m doing wrong!","body":"So I tried doing that too but still nothing happens! I tried next(), last() and first() as well as show(), but no change idk what I&#39;m doing wrong!"},{"owner":{"account_id":21020948,"reputation":417,"user_id":15447313,"display_name":"LuckyBandit74"},"score":1,"creation_date":1637968466,"post_id":70127571,"comment_id":123971349,"body_markdown":"Alright so my last suggestion would be to open up a new project and just create a simple card layout demo that switches between 2 panels using a JButton. This should be doable and, even though small, can help you understand how the card layout works. Then, you go into this project and see the differences between the 2 and hopefully find any mistakes. If it still does not work, ask a new question asking “why does the card layout not work here” and put your latest attempt, hope it helps.","body":"Alright so my last suggestion would be to open up a new project and just create a simple card layout demo that switches between 2 panels using a JButton. This should be doable and, even though small, can help you understand how the card layout works. Then, you go into this project and see the differences between the 2 and hopefully find any mistakes. If it still does not work, ask a new question asking “why does the card layout not work here” and put your latest attempt, hope it helps."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1637969322,"post_id":70127571,"comment_id":123971462,"body_markdown":"@LuckyBandit74 *&quot;open up a new project and just create a simple card layout demo that switches between 2 panels using a JButton&quot;* Good idea. Cut the problem down to the most basic form. Doing so might solve the problem &amp; demonstrate to you how to use a card layout in the actual GUI. But if not, [edit] to add that [mre] and thereby raise the chance of getting help.","body":"@LuckyBandit74 <i>&quot;open up a new project and just create a simple card layout demo that switches between 2 panels using a JButton&quot;</i> Good idea. Cut the problem down to the most basic form. Doing so might solve the problem &amp; demonstrate to you how to use a card layout in the actual GUI. But if not, <a href=\"https://stackoverflow.com/posts/70127571/edit\">edit</a> to add that <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and thereby raise the chance of getting help."},{"owner":{"account_id":6567817,"reputation":31,"user_id":5076814,"display_name":"Somaiyah Sultani"},"score":0,"creation_date":1637990676,"post_id":70127571,"comment_id":123973888,"body_markdown":"So I tried that and it seems when the button is in the main window class it can send you to any panel including the ones that were implemented in their own class, but for some reason it does not work when I press the button in let say register panel even though everything else looks good and there is no runtime issue or anything else. So for now I am implementing all the panels in the same class which will be way way too long (because I might have to add up to 20 panels) cause I&#39;m running out of time. Hopefully I can figure it out later.","body":"So I tried that and it seems when the button is in the main window class it can send you to any panel including the ones that were implemented in their own class, but for some reason it does not work when I press the button in let say register panel even though everything else looks good and there is no runtime issue or anything else. So for now I am implementing all the panels in the same class which will be way way too long (because I might have to add up to 20 panels) cause I&#39;m running out of time. Hopefully I can figure it out later."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1637991100,"post_id":70127571,"comment_id":123973946,"body_markdown":"*&quot;So I tried that..&quot;* Tried what? Who are you replying to? Tip: Add @LuckyBandit74 (or whoever, the `@` is important) to *notify* the person of a new comment.","body":"<i>&quot;So I tried that..&quot;</i> Tried what? Who are you replying to? Tip: Add @LuckyBandit74 (or whoever, the <code>@</code> is important) to <i>notify</i> the person of a new comment."},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1638003697,"post_id":70127571,"comment_id":123975702,"body_markdown":"Start with a simple working example and modify it to your needs: [1](https://stackoverflow.com/a/46013230/3992939) , [2](https://stackoverflow.com/a/61121540/3992939)","body":"Start with a simple working example and modify it to your needs: <a href=\"https://stackoverflow.com/a/46013230/3992939\">1</a> , <a href=\"https://stackoverflow.com/a/61121540/3992939\">2</a>"}],"owner":{"account_id":6567817,"reputation":31,"user_id":5076814,"display_name":"Somaiyah Sultani"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637944837,"creation_date":1637944837,"question_id":70127571,"body_markdown":"I have a login and a register panel and a window to hold all the panels. What I am trying to do is to go to the login panel when the register button is pressed. But it does not work. The method that I use would work if the login panel is inside the window but when it is in its own class it doesn&#39;t. Can someone please let me know how to do this? \r\nHere is my code for the Window\r\n\r\n```\r\npackage userInterface;\r\n\r\nimport java.awt.*;\r\nimport java.awt.EventQueue;\r\n\r\nimport java.sql.*;\r\n\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\n\r\nimport company.CompanySys;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.CardLayout;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JCheckBox;\r\n\r\npublic class FrontEnd {\r\n\t\r\n\t/**\r\n\t * Variables\r\n\t */\r\n\t\r\n\t// System\r\n\tCompanySys sys = CompanySys.getSystem();\r\n\t\r\n\tprivate static FrontEnd  front = new FrontEnd();\r\n\t\r\n\tprivate JFrame frame;\r\n\tprivate final JLayeredPane layeredPane = new JLayeredPane();\r\n\tpublic final RegisterPanel registerPan = new RegisterPanel();\r\n\tpublic final LoginPanel loginPan = new LoginPanel();\r\n\t\r\n\r\n\t/**\r\n\t * Launch the application.\r\n\t */\r\n\tpublic static void main(String[] args) {\r\n\t\tEventQueue.invokeLater(new Runnable() {\r\n\t\t\tpublic void run() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tFrontEnd window = new FrontEnd();\r\n\t\t\t\t\twindow.frame.setVisible(true);\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Create the application.\r\n\t */\r\n\tprivate FrontEnd() {\r\n\t\tinitialize();\r\n\t}\r\n\r\n\t\r\n\t\r\n\t/**\r\n\t * Initialize the contents of the frame.\r\n\t */\r\n\tprivate void initialize() {\r\n\t\t\r\n\t\t\r\n\t\tthis.setFrame();\r\n\t\tthis.setLayout();\r\n\t\tthis.addPanels();\r\n\t\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\r\n\t/**\r\n\t * Setting up the main frame \r\n\t */\r\n\tprivate void setFrame() {\r\n\t\t\r\n\t\tframe = new JFrame();\r\n\t\tframe.setBounds(100, 100, 900, 700);\t\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe.getContentPane().setLayout(null);\r\n\t\t\r\n\t\tlayeredPane.setBounds(0, 0, 900, 700);\r\n\t\tframe.getContentPane().add(layeredPane);\r\n\t\tlayeredPane.setLayout(new CardLayout(0, 0));\r\n\t}\r\n\t\r\n\t/**\r\n\t * Setting Layout\r\n\t */\r\n\t\r\n\tpublic void setLayout() {\r\n//\t\tframe.getContentPane().add(layeredPane, &quot;name_2578740971832500&quot;);\r\n//\t\tlayeredPane.setLayout(new CardLayout(0, 0));\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\tpublic void SetSizeandLocation() {\r\n\t\t\r\n\t\tthis.registerPan.setBounds(10, 10, 900, 700);\r\n\t\tlayeredPane.setLayer(loginPan, 0);\r\n\t\tthis.loginPan.setBounds(10, 10, 900, 700);\r\n\t}\r\n\t\r\n\t/**\r\n\t * Set visibility of the components\r\n\t */\r\n\tprivate void setVisibility() {\r\n\r\n//\t\tthis.registerPan.setVisible(true);\r\n//\t\tthis.loginPan.setVisible(true);\r\n\t\t\r\n\t}\r\n\t\r\n\t/**\r\n\t * Adding panels to the window\r\n\t */\r\n\tprivate void addPanels() {\r\n\t\t\r\n\t\tlayeredPane.add(registerPan);\r\n\t\tlayeredPane.add(loginPan);\r\n\t}\r\n\t\r\n\tpublic static FrontEnd getFront() {\r\n\t\t\r\n\t\treturn front;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Switching Panels\r\n\t * @param panel\r\n\t */\r\n\tpublic void switchPanels(JPanel panel) {\r\n\t\tlayeredPane.removeAll();\r\n\t\tlayeredPane.add(panel);\r\n\t\tlayeredPane.repaint();\r\n\t\tlayeredPane.revalidate();\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic LoginPanel getLoginPan() {\r\n\t\treturn this.loginPan;\r\n\t}\r\n\t\r\n\t\r\n}\r\n``` \r\n\r\nHere is the code for Register Panel\r\n\r\n```\r\npackage userInterface;\r\nimport company.*;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.event.*;\r\n\r\npublic class RegisterPanel extends JPanel implements ActionListener{\r\n\t\r\n\t/**\r\n\t * Variables\r\n\t */\r\n\t// System\r\n\tCompanySys sys = CompanySys.getSystem();\r\n\tFrontEnd front = FrontEnd.getFront();\r\n\t\r\n\t// Input fields\r\n\tprivate JTextField usernameTextField = new JTextField();\r\n\tprivate JPasswordField passwordField1 = new JPasswordField();\r\n\tprivate JPasswordField passwordField2 = new JPasswordField();\r\n\t\r\n\t\r\n\t// Labels\r\n\tprivate JLabel usernameLabel = new JLabel(&quot;Username&quot;);\r\n\tprivate JLabel password1Label = new JLabel(&quot;Password&quot;);\r\n\tprivate JLabel password2Label = new JLabel(&quot;Password&quot;);\r\n\t\r\n\t\r\n\t\r\n\t// Buttons\r\n\tprivate JButton registerButton = new JButton(&quot;REGISTER&quot;);\r\n\tprivate JButton cancelButton = new JButton(&quot;CANCEL&quot;);\r\n\tprivate JButton haveAccount = new JButton(&quot;Already have an account? Login&quot;);\r\n\tprivate JButton clearButton = new JButton(&quot;CLEAR&quot;);\r\n\t\r\n\t// Others\r\n\tprivate JCheckBox showPasswordCheckBox = new JCheckBox(&quot;Show Password&quot;);\r\n\t\r\n\r\n\t/**\r\n\t * Create the panel.\r\n\t */\r\n\tpublic RegisterPanel() {\r\n\t\tsetLayout(null);\r\n\t\tthis.addComponents();\r\n\t\tthis.setSizeandLocations();\t\t\r\n\t\tthis.addActionEvent();\r\n\t}\r\n\t\r\n\t/**\r\n\t * Methods\r\n\t */\r\n\t\r\n\t// Set size and location of the components\r\n\tpublic void setSizeandLocations() {\r\n\t\t\r\n\t\t// Labels\r\n\t\tusernameLabel.setBounds(312, 106, 64, 14);\r\n\t\tpassword1Label.setBounds(324, 175, 64, 14);\r\n\t\tpassword2Label.setBounds(312, 237, 64, 14);\r\n\t\t\r\n\t\t// Input Fields\r\n\t\tusernameTextField.setBounds(493, 103, 96, 20);\r\n\t\tpasswordField1.setBounds(493, 173, 97, 17);\r\n\t\tpasswordField2.setBounds(494, 234, 96, 20);\r\n\t\t\r\n\t\tpasswordField1.setEchoChar(&#39;*&#39;);\r\n\t\tpasswordField2.setEchoChar(&#39;*&#39;);\r\n\t\t\r\n\t\t//Buttons\r\n\t\tregisterButton.setBounds(337, 301, 89, 23);\r\n\t\tcancelButton.setBounds(479, 301, 89, 23);\r\n\t\thaveAccount.setBounds(366, 363, 196, 23);\r\n\t\tclearButton.setBounds(606, 301, 89, 23);\r\n\t\t\r\n\t\t// Others\r\n\t\tshowPasswordCheckBox.setBounds(493, 261, 141, 23);\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t// Add all components to the panel\r\n\tpublic void addComponents() {\r\n\t\t\r\n\t\t// Add Labels \r\n\t\tadd(usernameLabel);\r\n\t\tadd(password1Label);\r\n\t\tadd(password2Label);\r\n\t\t\r\n\t\t// Add input fields\r\n\t\tadd(usernameTextField);\r\n\t\tadd(passwordField1);\r\n\t\tadd(passwordField2);\r\n\t\t\r\n\t\t// Add Buttons\r\n\t\tadd(registerButton);\t\r\n\t\tadd(cancelButton);\t\t\r\n\t\tadd(haveAccount);\r\n\t\tadd(clearButton);\r\n\t\t\r\n\t\t// Others\r\n\t\tadd(showPasswordCheckBox);\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Adding Action listener\r\n\t */\r\n\tpublic void addActionEvent() {\r\n\t\t\r\n\t\tthis.registerButton.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\tfront.switchPanels(front.getLoginPan());\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.cancelButton.addActionListener(this);\r\n\t\tthis.haveAccount.addActionListener(this);\r\n\t\tthis.clearButton.addActionListener(this);\r\n\t\tthis.showPasswordCheckBox.addActionListener(this);\r\n\t\t\r\n\t}\r\n\t\r\n\t/**\r\n\t * Main method of the panel \r\n\t * @param args\r\n\t */\r\n\tpublic static void main(String args[]) {\r\n\t\t\r\n\t\tRegisterPanel frame = new RegisterPanel();\r\n\t\tframe.setVisible(true);\r\n\t\tframe.setBounds(10, 10, 900, 500);\t\t\r\n\t}\r\n\t\r\n\t/**\r\n\t * Adding the functionality to the components \r\n\t */\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\r\n\t\tString usr = this.usernameTextField.getText();\r\n\t\tString pass1 = String.valueOf(this.passwordField1.getPassword());\r\n\t\tString pass2 = String.valueOf(this.passwordField2.getPassword());\r\n\t\t\r\n//\t\tif (e.getSource() == this.registerButton) {\r\n//\t\t\tif (sys.register(usr, pass1, pass2)) {\r\n//\t\t\t//\tJOptionPane.showConfirmDialog(null, &quot;Success&quot;, getName(), JOptionPane.DEFAULT_OPTION);\r\n//\t\t\t\t\r\n//\t\t\t\tfront.switchPanels(front.getLoginPan());\r\n//\t\t\t}\r\n//\t\t\telse {\r\n//\t\t\t\tJOptionPane.showConfirmDialog(null, &quot;fail&quot;, getName(), JOptionPane.DEFAULT_OPTION);\r\n//\t\t\t}\r\n//\t\t}\r\n\t\tif (e.getSource() == this.cancelButton) {\r\n\t\t\t\r\n\t\t}\r\n\t\telse if (e.getSource() == this.haveAccount) {\r\n\t\t\t\r\n\t\t}\r\n\t\telse if (e.getSource() == this.showPasswordCheckBox) {\r\n\t\t\t\r\n\t\t\tif(this.showPasswordCheckBox.isSelected()) {\r\n\t\t\t\tthis.passwordField1.setEchoChar((char) 0);\r\n\t\t\t\tthis.passwordField2.setEchoChar((char) 0);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.passwordField1.setEchoChar(&#39;*&#39;);\r\n\t\t\t\tthis.passwordField2.setEchoChar(&#39;*&#39;);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\telse if (e.getSource() == this.clearButton) {\r\n\t\t\tthis.passwordField1.setText(&quot;&quot;);\r\n\t\t\tthis.passwordField2.setText(&quot;&quot;);\r\n\t\t\tthis.usernameTextField.setText(&quot;&quot;);\r\n\t\t}\r\n\t\r\n\t\r\n\t}\r\n\t\r\n\r\n\t\r\n\t\r\n\r\n}\r\n\r\n```\r\n\r\nHere is code for login panel\r\n```\r\npackage userInterface;\r\nimport company.CompanySys;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.event.*;\r\n\r\npublic class LoginPanel extends JPanel implements ActionListener{\r\n\t\r\n\t/**\r\n\t * Variables\r\n\t */\r\n\t// System\r\n\tCompanySys sys = CompanySys.getSystem();\r\n\t// Fields\r\n\tprivate JTextField userNameTextField = new JTextField();;\r\n\tprivate JPasswordField passwordField = new JPasswordField();;\r\n\t\r\n\t// Labels\r\n\tJLabel userNameLabel = new JLabel(&quot;Username&quot;);\r\n\tJLabel passwordLabel = new JLabel(&quot;Password&quot;);\r\n\t\r\n\t// Buttons\r\n\tJButton cancelButton = new JButton(&quot;CANCEL&quot;);\r\n\tJButton loginButton = new JButton(&quot;LOGIN&quot;);\r\n\tJButton noAccountButton = new JButton(&quot;Don&#39;t have an acount? register&quot;);\r\n\tJButton clearButton = new JButton(&quot;CLEAR&quot;);\r\n\t\r\n\t// Others\r\n\tJCheckBox showPassCheckBox = new JCheckBox(&quot;Show Password&quot;);\r\n\r\n\t\r\n\t/**\r\n\t *  Constructor\r\n\t */\r\n\tpublic LoginPanel() {\r\n\t\tsetLayout(null);\r\n\t\tthis.setSizeAndLocation();\r\n\t\tthis.addComponent();\r\n\t\tthis.addAction();\r\n\t}\r\n\t\r\n\t/**\r\n\t * Setting size and location of the components \r\n\t */\r\n\tpublic void setSizeAndLocation() {\r\n\t\t\r\n\t\t// Labels\r\n\t\tuserNameLabel.setBounds(97, 52, 69, 14);\r\n\t\tpasswordLabel.setBounds(97, 88, 48, 14);\r\n\t\t\r\n\t\t// TextFields\r\n\t\tpasswordField.setBounds(197, 85, 103, 20);\r\n\t\tuserNameTextField.setBounds(197, 49, 96, 20);\r\n\t\t\r\n\t\t// Buttons\r\n\t\tclearButton.setBounds(325, 146, 89, 23);\r\n\t\tnoAccountButton.setBounds(85, 196, 208, 23);\r\n\t\tcancelButton.setBounds(209, 146, 89, 23);\r\n\t\tloginButton.setBounds(85, 146, 89, 23);\r\n\t\t\r\n\t\t// Others\r\n\t\tshowPassCheckBox.setBounds(197, 116, 130, 23);\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Adding components to the Panel\r\n\t */\r\n\tpublic void addComponent() {\r\n\t\t\r\n\t\t// Labels\r\n\t\tthis.add(userNameLabel);\r\n\t\tthis.add(passwordLabel);\r\n\t\t\t\t\r\n\t\t// TextFields\r\n\t\tthis.add(userNameTextField);\r\n\t\tthis.add(passwordField);\r\n\t\t\t\t\r\n\t\t// Buttons\r\n\t\tthis.add(loginButton);\r\n\t\tthis.add(cancelButton);\r\n\t\tthis.add(noAccountButton);\r\n\t\tthis.add(clearButton);\r\n\t\t\t\t\r\n\t\t// Others\r\n\t\tthis.add(showPassCheckBox);\r\n\r\n\t}\r\n\t\r\n\t/**\r\n\t * Adding ActionListener to the interactive components\r\n\t */\r\n\tpublic void addAction() {\r\n\t\t\r\n\t\t// Buttons\r\n\t\tthis.clearButton.addActionListener(this);\r\n\t\tthis.cancelButton.addActionListener(this);\r\n\t\tthis.loginButton.addActionListener(this);\r\n\t\tthis.noAccountButton.addActionListener(this);\r\n\t\t\r\n\t\t\r\n\t\t// Others\r\n\t\tthis.showPassCheckBox.addActionListener(this);\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static void main(String args[]) {\r\n\t\t\r\n\t\tLoginPanel frame = new LoginPanel();\r\n\t\tframe.setVisible(true);\r\n\t\tframe.setBounds(10, 10, 900, 700);\t\t\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\nI have tried other ways too but it doesnt work!","title":"calling a JPanel from another JPanel in a window","body":"<p>I have a login and a register panel and a window to hold all the panels. What I am trying to do is to go to the login panel when the register button is pressed. But it does not work. The method that I use would work if the login panel is inside the window but when it is in its own class it doesn't. Can someone please let me know how to do this?\nHere is my code for the Window</p>\n<pre><code>package userInterface;\n\nimport java.awt.*;\nimport java.awt.EventQueue;\n\nimport java.sql.*;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\nimport company.CompanySys;\n\nimport javax.swing.*;\nimport java.awt.CardLayout;\nimport javax.swing.JButton;\nimport javax.swing.JCheckBox;\n\npublic class FrontEnd {\n    \n    /**\n     * Variables\n     */\n    \n    // System\n    CompanySys sys = CompanySys.getSystem();\n    \n    private static FrontEnd  front = new FrontEnd();\n    \n    private JFrame frame;\n    private final JLayeredPane layeredPane = new JLayeredPane();\n    public final RegisterPanel registerPan = new RegisterPanel();\n    public final LoginPanel loginPan = new LoginPanel();\n    \n\n    /**\n     * Launch the application.\n     */\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                try {\n                    FrontEnd window = new FrontEnd();\n                    window.frame.setVisible(true);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n\n    /**\n     * Create the application.\n     */\n    private FrontEnd() {\n        initialize();\n    }\n\n    \n    \n    /**\n     * Initialize the contents of the frame.\n     */\n    private void initialize() {\n        \n        \n        this.setFrame();\n        this.setLayout();\n        this.addPanels();\n    \n        \n    }\n    \n    \n    \n\n    /**\n     * Setting up the main frame \n     */\n    private void setFrame() {\n        \n        frame = new JFrame();\n        frame.setBounds(100, 100, 900, 700);    \n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.getContentPane().setLayout(null);\n        \n        layeredPane.setBounds(0, 0, 900, 700);\n        frame.getContentPane().add(layeredPane);\n        layeredPane.setLayout(new CardLayout(0, 0));\n    }\n    \n    /**\n     * Setting Layout\n     */\n    \n    public void setLayout() {\n//      frame.getContentPane().add(layeredPane, &quot;name_2578740971832500&quot;);\n//      layeredPane.setLayout(new CardLayout(0, 0));\n        \n    }\n    \n    \n    public void SetSizeandLocation() {\n        \n        this.registerPan.setBounds(10, 10, 900, 700);\n        layeredPane.setLayer(loginPan, 0);\n        this.loginPan.setBounds(10, 10, 900, 700);\n    }\n    \n    /**\n     * Set visibility of the components\n     */\n    private void setVisibility() {\n\n//      this.registerPan.setVisible(true);\n//      this.loginPan.setVisible(true);\n        \n    }\n    \n    /**\n     * Adding panels to the window\n     */\n    private void addPanels() {\n        \n        layeredPane.add(registerPan);\n        layeredPane.add(loginPan);\n    }\n    \n    public static FrontEnd getFront() {\n        \n        return front;\n    }\n    \n    /**\n     * Switching Panels\n     * @param panel\n     */\n    public void switchPanels(JPanel panel) {\n        layeredPane.removeAll();\n        layeredPane.add(panel);\n        layeredPane.repaint();\n        layeredPane.revalidate();\n        \n    }\n    \n    public LoginPanel getLoginPan() {\n        return this.loginPan;\n    }\n    \n    \n}\n</code></pre>\n<p>Here is the code for Register Panel</p>\n<pre><code>package userInterface;\nimport company.*;\n\nimport javax.swing.*;\nimport java.awt.event.*;\n\npublic class RegisterPanel extends JPanel implements ActionListener{\n    \n    /**\n     * Variables\n     */\n    // System\n    CompanySys sys = CompanySys.getSystem();\n    FrontEnd front = FrontEnd.getFront();\n    \n    // Input fields\n    private JTextField usernameTextField = new JTextField();\n    private JPasswordField passwordField1 = new JPasswordField();\n    private JPasswordField passwordField2 = new JPasswordField();\n    \n    \n    // Labels\n    private JLabel usernameLabel = new JLabel(&quot;Username&quot;);\n    private JLabel password1Label = new JLabel(&quot;Password&quot;);\n    private JLabel password2Label = new JLabel(&quot;Password&quot;);\n    \n    \n    \n    // Buttons\n    private JButton registerButton = new JButton(&quot;REGISTER&quot;);\n    private JButton cancelButton = new JButton(&quot;CANCEL&quot;);\n    private JButton haveAccount = new JButton(&quot;Already have an account? Login&quot;);\n    private JButton clearButton = new JButton(&quot;CLEAR&quot;);\n    \n    // Others\n    private JCheckBox showPasswordCheckBox = new JCheckBox(&quot;Show Password&quot;);\n    \n\n    /**\n     * Create the panel.\n     */\n    public RegisterPanel() {\n        setLayout(null);\n        this.addComponents();\n        this.setSizeandLocations();     \n        this.addActionEvent();\n    }\n    \n    /**\n     * Methods\n     */\n    \n    // Set size and location of the components\n    public void setSizeandLocations() {\n        \n        // Labels\n        usernameLabel.setBounds(312, 106, 64, 14);\n        password1Label.setBounds(324, 175, 64, 14);\n        password2Label.setBounds(312, 237, 64, 14);\n        \n        // Input Fields\n        usernameTextField.setBounds(493, 103, 96, 20);\n        passwordField1.setBounds(493, 173, 97, 17);\n        passwordField2.setBounds(494, 234, 96, 20);\n        \n        passwordField1.setEchoChar('*');\n        passwordField2.setEchoChar('*');\n        \n        //Buttons\n        registerButton.setBounds(337, 301, 89, 23);\n        cancelButton.setBounds(479, 301, 89, 23);\n        haveAccount.setBounds(366, 363, 196, 23);\n        clearButton.setBounds(606, 301, 89, 23);\n        \n        // Others\n        showPasswordCheckBox.setBounds(493, 261, 141, 23);\n        \n    }\n    \n    \n    // Add all components to the panel\n    public void addComponents() {\n        \n        // Add Labels \n        add(usernameLabel);\n        add(password1Label);\n        add(password2Label);\n        \n        // Add input fields\n        add(usernameTextField);\n        add(passwordField1);\n        add(passwordField2);\n        \n        // Add Buttons\n        add(registerButton);    \n        add(cancelButton);      \n        add(haveAccount);\n        add(clearButton);\n        \n        // Others\n        add(showPasswordCheckBox);\n        \n    }\n    \n    \n    /**\n     * Adding Action listener\n     */\n    public void addActionEvent() {\n        \n        this.registerButton.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                front.switchPanels(front.getLoginPan());\n            }\n        });\n        this.cancelButton.addActionListener(this);\n        this.haveAccount.addActionListener(this);\n        this.clearButton.addActionListener(this);\n        this.showPasswordCheckBox.addActionListener(this);\n        \n    }\n    \n    /**\n     * Main method of the panel \n     * @param args\n     */\n    public static void main(String args[]) {\n        \n        RegisterPanel frame = new RegisterPanel();\n        frame.setVisible(true);\n        frame.setBounds(10, 10, 900, 500);      \n    }\n    \n    /**\n     * Adding the functionality to the components \n     */\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        \n        String usr = this.usernameTextField.getText();\n        String pass1 = String.valueOf(this.passwordField1.getPassword());\n        String pass2 = String.valueOf(this.passwordField2.getPassword());\n        \n//      if (e.getSource() == this.registerButton) {\n//          if (sys.register(usr, pass1, pass2)) {\n//          //  JOptionPane.showConfirmDialog(null, &quot;Success&quot;, getName(), JOptionPane.DEFAULT_OPTION);\n//              \n//              front.switchPanels(front.getLoginPan());\n//          }\n//          else {\n//              JOptionPane.showConfirmDialog(null, &quot;fail&quot;, getName(), JOptionPane.DEFAULT_OPTION);\n//          }\n//      }\n        if (e.getSource() == this.cancelButton) {\n            \n        }\n        else if (e.getSource() == this.haveAccount) {\n            \n        }\n        else if (e.getSource() == this.showPasswordCheckBox) {\n            \n            if(this.showPasswordCheckBox.isSelected()) {\n                this.passwordField1.setEchoChar((char) 0);\n                this.passwordField2.setEchoChar((char) 0);\n            }\n            else {\n                this.passwordField1.setEchoChar('*');\n                this.passwordField2.setEchoChar('*');\n            }\n            \n        }\n        else if (e.getSource() == this.clearButton) {\n            this.passwordField1.setText(&quot;&quot;);\n            this.passwordField2.setText(&quot;&quot;);\n            this.usernameTextField.setText(&quot;&quot;);\n        }\n    \n    \n    }\n    \n\n    \n    \n\n}\n\n</code></pre>\n<p>Here is code for login panel</p>\n<pre><code>package userInterface;\nimport company.CompanySys;\n\nimport javax.swing.*;\nimport java.awt.event.*;\n\npublic class LoginPanel extends JPanel implements ActionListener{\n    \n    /**\n     * Variables\n     */\n    // System\n    CompanySys sys = CompanySys.getSystem();\n    // Fields\n    private JTextField userNameTextField = new JTextField();;\n    private JPasswordField passwordField = new JPasswordField();;\n    \n    // Labels\n    JLabel userNameLabel = new JLabel(&quot;Username&quot;);\n    JLabel passwordLabel = new JLabel(&quot;Password&quot;);\n    \n    // Buttons\n    JButton cancelButton = new JButton(&quot;CANCEL&quot;);\n    JButton loginButton = new JButton(&quot;LOGIN&quot;);\n    JButton noAccountButton = new JButton(&quot;Don't have an acount? register&quot;);\n    JButton clearButton = new JButton(&quot;CLEAR&quot;);\n    \n    // Others\n    JCheckBox showPassCheckBox = new JCheckBox(&quot;Show Password&quot;);\n\n    \n    /**\n     *  Constructor\n     */\n    public LoginPanel() {\n        setLayout(null);\n        this.setSizeAndLocation();\n        this.addComponent();\n        this.addAction();\n    }\n    \n    /**\n     * Setting size and location of the components \n     */\n    public void setSizeAndLocation() {\n        \n        // Labels\n        userNameLabel.setBounds(97, 52, 69, 14);\n        passwordLabel.setBounds(97, 88, 48, 14);\n        \n        // TextFields\n        passwordField.setBounds(197, 85, 103, 20);\n        userNameTextField.setBounds(197, 49, 96, 20);\n        \n        // Buttons\n        clearButton.setBounds(325, 146, 89, 23);\n        noAccountButton.setBounds(85, 196, 208, 23);\n        cancelButton.setBounds(209, 146, 89, 23);\n        loginButton.setBounds(85, 146, 89, 23);\n        \n        // Others\n        showPassCheckBox.setBounds(197, 116, 130, 23);\n    }\n    \n    \n    /**\n     * Adding components to the Panel\n     */\n    public void addComponent() {\n        \n        // Labels\n        this.add(userNameLabel);\n        this.add(passwordLabel);\n                \n        // TextFields\n        this.add(userNameTextField);\n        this.add(passwordField);\n                \n        // Buttons\n        this.add(loginButton);\n        this.add(cancelButton);\n        this.add(noAccountButton);\n        this.add(clearButton);\n                \n        // Others\n        this.add(showPassCheckBox);\n\n    }\n    \n    /**\n     * Adding ActionListener to the interactive components\n     */\n    public void addAction() {\n        \n        // Buttons\n        this.clearButton.addActionListener(this);\n        this.cancelButton.addActionListener(this);\n        this.loginButton.addActionListener(this);\n        this.noAccountButton.addActionListener(this);\n        \n        \n        // Others\n        this.showPassCheckBox.addActionListener(this);\n    }\n    \n    @Override\n    public void actionPerformed(ActionEvent e) {\n        \n    }\n    \n    public static void main(String args[]) {\n        \n        LoginPanel frame = new LoginPanel();\n        frame.setVisible(true);\n        frame.setBounds(10, 10, 900, 700);      \n    }\n\n}\n</code></pre>\n<p>I have tried other ways too but it doesnt work!</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":1636871,"reputation":798,"user_id":1510130,"display_name":"AAV"},"score":0,"creation_date":1602068557,"post_id":64242642,"comment_id":113601085,"body_markdown":"can you show log of android studio exception","body":"can you show log of android studio exception"},{"owner":{"account_id":19679394,"reputation":62,"user_id":14406830,"display_name":"Victor Escalante"},"score":0,"creation_date":1602068998,"post_id":64242642,"comment_id":113601292,"body_markdown":"at android.app.Activity.startActivity(Activity.java:4800)\n        at android.app.Activity.startActivity(Activity.java:4768)\n        at app.xxxx.app.flip$onCreate$4.onClick(flip.kt:97)\n        at android.view.View.performClick(View.java:6259)\n        at android.view.View$PerformClick.run(View.java:24732)\n        at android.os.Handler.handleCallback(Handler.java:789)\n        at android.os.Handler.dispatchMessage(Handler.java:98)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6694)","body":"at android.app.Activity.startActivity(Activity.java:4800)         at android.app.Activity.startActivity(Activity.java:4768)         at app.xxxx.app.flip$onCreate$4.onClick(flip.kt:97)         at android.view.View.performClick(View.java:6259)         at android.view.View$PerformClick.run(View.java:24732)         at android.os.Handler.handleCallback(Handler.java:789)         at android.os.Handler.dispatchMessage(Handler.java:98)         at android.os.Looper.loop(Looper.java:164)         at android.app.ActivityThread.main(ActivityThread.java:6694)"},{"owner":{"account_id":1636871,"reputation":798,"user_id":1510130,"display_name":"AAV"},"score":0,"creation_date":1602069233,"post_id":64242642,"comment_id":113601405,"body_markdown":"this log has no enough vision","body":"this log has no enough vision"},{"owner":{"account_id":19679394,"reputation":62,"user_id":14406830,"display_name":"Victor Escalante"},"score":0,"creation_date":1602069779,"post_id":64242642,"comment_id":113601653,"body_markdown":"ok, add in the cuestion","body":"ok, add in the cuestion"}],"answers":[{"tags":[],"owner":{"account_id":15815289,"reputation":1149,"user_id":11411224,"display_name":"James Riordan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637944592,"creation_date":1602071664,"answer_id":64243485,"question_id":64242642,"body_markdown":"The exception raised is \r\n```\r\nandroid.os.FileUriExposedException: file:///storage/emulated/0/Android/data/app.xxxx.appimage/files/PicturesShared.jpg expobeyond app through ClipData.Item.getUri()\r\n```\r\n[FileUriExposedException][1] is caused by \r\n\r\n&gt; The exception that is thrown when an application exposes a file:// Uri\r\n&gt; to another app.\r\n\r\n\r\nWhen targeting Api 24 or higher you need to use a [content provider][2] to share a file with another app.\r\n\r\n  [1]: https://developer.android.com/reference/android/os/FileUriExposedException\r\n  [2]: https://developer.android.com/guide/topics/providers/content-providers","title":"shared image file in Kotlin android studio","body":"<p>The exception raised is</p>\n<pre><code>android.os.FileUriExposedException: file:///storage/emulated/0/Android/data/app.xxxx.appimage/files/PicturesShared.jpg expobeyond app through ClipData.Item.getUri()\n</code></pre>\n<p><a href=\"https://developer.android.com/reference/android/os/FileUriExposedException\" rel=\"nofollow noreferrer\">FileUriExposedException</a> is caused by</p>\n<blockquote>\n<p>The exception that is thrown when an application exposes a file:// Uri\nto another app.</p>\n</blockquote>\n<p>When targeting Api 24 or higher you need to use a <a href=\"https://developer.android.com/guide/topics/providers/content-providers\" rel=\"nofollow noreferrer\">content provider</a> to share a file with another app.</p>\n"}],"owner":{"account_id":19679394,"reputation":62,"user_id":14406830,"display_name":"Victor Escalante"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":331,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":64243485,"answer_count":1,"score":0,"last_activity_date":1637944592,"creation_date":1602068303,"question_id":64242642,"body_markdown":"I have an application in which I try to share a photo, but when you share the application it crashes.\r\n\r\n```            \r\n    val bitmap = (imageViewx1.drawable as BitmapDrawable).bitmap\r\n    val nombreArchivo:String=&quot;Shared.jpg&quot;\r\n    val patchload= getExternalFilesDir(Environment.DIRECTORY_PICTURES).toString() + nombreArchivo\r\n    val mifile2 =File(patchload)\r\n    val stream: OutputStream = FileOutputStream(mifile2)\r\n    bitmap.compress(Bitmap.CompressFormat.JPEG, 100, stream)\r\n    stream.flush()\r\n    stream.close()\r\n    val shareIntent = Intent(Intent.ACTION_SEND)\r\n    shareIntent.type = &quot;image/jpg&quot;\r\n    val photoFile = File(filesDir, &quot;PicturesShared.jpg&quot;)\r\n    Toast.makeText(this, photoFile.toString(), Toast.LENGTH_SHORT).show()\r\n    shareIntent.putExtra(Intent.EXTRA_STREAM, Uri.fromFile(photoFile))\r\n    startActivity(Intent.createChooser(shareIntent, &quot;Share image using&quot;))\r\n```\r\n\r\nlog:\r\n\r\n```\r\nProcess: app.xxxx.appimage, PID: 21588\r\nandroid.os.FileUriExposedException: file:///storage/emulated/0/Android/data/app.xxxx.appimage/files/PicturesShared.jpg expobeyond app through ClipData.Item.getUri()\r\n    at android.os.StrictMode.onFileUriExposed(StrictMode.java:1967)\r\n    at android.net.Uri.checkFileUriExposed(Uri.java:2364)\r\n    at android.content.ClipData.prepareToLeaveProcess(ClipData.java:941)\r\n    at android.content.Intent.prepareToLeaveProcess(Intent.java:9747)\r\n    at android.content.Intent.prepareToLeaveProcess(Intent.java:9753)\r\n    at android.content.Intent.prepareToLeaveProcess(Intent.java:9732)\r\n    at android.app.Instrumentation.execStartActivity(Instrumentation.java:1679)\r\n    at android.app.Activity.startActivityForResult(Activity.java:4477)\r\n    at androidx.fragment.app.FragmentActivity.startActivityForResult(FragmentActivity.java:676)\r\n    at android.app.Activity.startActivityForResult(Activity.java:4435)\r\n    at androidx.fragment.app.FragmentActivity.startActivityForResult(FragmentActivity.java:663)\r\n    at android.app.Activity.startActivity(Activity.java:4800)\r\n    at android.app.Activity.startActivity(Activity.java:4768)\r\n    at app.xxxx.appimage.flip$onCreate$4.onClick(flip.kt:97)\r\n    at android.view.View.performClick(View.java:6259)\r\n    at android.view.View$PerformClick.run(View.java:24732)\r\n    at android.os.Handler.handleCallback(Handler.java:789)\r\n    at android.os.Handler.dispatchMessage(Handler.java:98)\r\n    at android.os.Looper.loop(Looper.java:164)\r\n    at android.app.ActivityThread.main(ActivityThread.java:6694)\r\n    at java.lang.reflect.Method.invoke(Native Method)\r\n    at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\r\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:769)\r\n```","title":"shared image file in Kotlin android studio","body":"<p>I have an application in which I try to share a photo, but when you share the application it crashes.</p>\n<pre><code>    val bitmap = (imageViewx1.drawable as BitmapDrawable).bitmap\n    val nombreArchivo:String=&quot;Shared.jpg&quot;\n    val patchload= getExternalFilesDir(Environment.DIRECTORY_PICTURES).toString() + nombreArchivo\n    val mifile2 =File(patchload)\n    val stream: OutputStream = FileOutputStream(mifile2)\n    bitmap.compress(Bitmap.CompressFormat.JPEG, 100, stream)\n    stream.flush()\n    stream.close()\n    val shareIntent = Intent(Intent.ACTION_SEND)\n    shareIntent.type = &quot;image/jpg&quot;\n    val photoFile = File(filesDir, &quot;PicturesShared.jpg&quot;)\n    Toast.makeText(this, photoFile.toString(), Toast.LENGTH_SHORT).show()\n    shareIntent.putExtra(Intent.EXTRA_STREAM, Uri.fromFile(photoFile))\n    startActivity(Intent.createChooser(shareIntent, &quot;Share image using&quot;))\n</code></pre>\n<p>log:</p>\n<pre><code>Process: app.xxxx.appimage, PID: 21588\nandroid.os.FileUriExposedException: file:///storage/emulated/0/Android/data/app.xxxx.appimage/files/PicturesShared.jpg expobeyond app through ClipData.Item.getUri()\n    at android.os.StrictMode.onFileUriExposed(StrictMode.java:1967)\n    at android.net.Uri.checkFileUriExposed(Uri.java:2364)\n    at android.content.ClipData.prepareToLeaveProcess(ClipData.java:941)\n    at android.content.Intent.prepareToLeaveProcess(Intent.java:9747)\n    at android.content.Intent.prepareToLeaveProcess(Intent.java:9753)\n    at android.content.Intent.prepareToLeaveProcess(Intent.java:9732)\n    at android.app.Instrumentation.execStartActivity(Instrumentation.java:1679)\n    at android.app.Activity.startActivityForResult(Activity.java:4477)\n    at androidx.fragment.app.FragmentActivity.startActivityForResult(FragmentActivity.java:676)\n    at android.app.Activity.startActivityForResult(Activity.java:4435)\n    at androidx.fragment.app.FragmentActivity.startActivityForResult(FragmentActivity.java:663)\n    at android.app.Activity.startActivity(Activity.java:4800)\n    at android.app.Activity.startActivity(Activity.java:4768)\n    at app.xxxx.appimage.flip$onCreate$4.onClick(flip.kt:97)\n    at android.view.View.performClick(View.java:6259)\n    at android.view.View$PerformClick.run(View.java:24732)\n    at android.os.Handler.handleCallback(Handler.java:789)\n    at android.os.Handler.dispatchMessage(Handler.java:98)\n    at android.os.Looper.loop(Looper.java:164)\n    at android.app.ActivityThread.main(ActivityThread.java:6694)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:769)\n</code></pre>\n"},{"tags":["python","java","heroku","jvm"],"comments":[{"owner":{"account_id":12495309,"reputation":11902,"user_id":9095551,"display_name":"Beppe C"},"score":0,"creation_date":1637916915,"post_id":70116238,"comment_id":123955702,"body_markdown":"Are you using Maven?","body":"Are you using Maven?"},{"owner":{"account_id":22296981,"reputation":1,"user_id":16522848,"display_name":"New"},"score":0,"creation_date":1637942050,"post_id":70116238,"comment_id":123964844,"body_markdown":"Yes I actually am using it now when im thinking of it","body":"Yes I actually am using it now when im thinking of it"}],"answers":[{"tags":[],"owner":{"account_id":12495309,"reputation":11902,"user_id":9095551,"display_name":"Beppe C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637943961,"creation_date":1637943961,"answer_id":70127400,"question_id":70116238,"body_markdown":"When dealing with memory footprint in Java applications you need to consider the following:\r\n\r\n - metaspace: it stores the class definitions and metadata\r\n - heap: it stores the Java objects allocated and used by the application\r\n\r\n**Reduce metaspace memory**  \r\nThis could be the first step: remove from `pom.xml` the dependencies that are not necessary (if any). When this is possible the memory can be reduced without major code refactoring.\r\n\r\nConsider refactoring existing code to remove large dependencies: this might require some rework/re-test but it can really help.\r\n\r\nAnalyse also [transitive dependencies][1] (imported by dependencies defined in the `pom.xml`) and exclude what is not necessary \r\n\r\n**Reduce heap memory**  \r\n\r\nThe next step is to understand (profile) the memory usage of your application to identify where memory allocation can be reduced.\r\n\r\nIt is easier to perform this on your local dev environment (Java IDEs have a built-in profiler or you can use JVM tools like VisualV), however it is possible to do it on [on Heroku][2].\r\n\r\nFind here a good [resource][3] about Java memory and [Medium][4] post about Java on Heroku\r\n\r\n\r\n \r\n\r\n \r\n\r\n\r\n  [1]: https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#Transitive_Dependencies\r\n  [2]: https://devcenter.heroku.com/articles/java-memory-issues#profiling-a-java-application-on-heroku\r\n  [3]: https://rollbar.com/blog/how-to-detect-memory-leaks-in-java-causes-types-tools/\r\n  [4]: https://medium.com/geekculture/java-on-heroku-common-pitfalls-and-mistakes-40f8ea32f104","title":"heroku out of memory issue r14","body":"<p>When dealing with memory footprint in Java applications you need to consider the following:</p>\n<ul>\n<li>metaspace: it stores the class definitions and metadata</li>\n<li>heap: it stores the Java objects allocated and used by the application</li>\n</ul>\n<p><strong>Reduce metaspace memory</strong><br />\nThis could be the first step: remove from <code>pom.xml</code> the dependencies that are not necessary (if any). When this is possible the memory can be reduced without major code refactoring.</p>\n<p>Consider refactoring existing code to remove large dependencies: this might require some rework/re-test but it can really help.</p>\n<p>Analyse also <a href=\"https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#Transitive_Dependencies\" rel=\"nofollow noreferrer\">transitive dependencies</a> (imported by dependencies defined in the <code>pom.xml</code>) and exclude what is not necessary</p>\n<p><strong>Reduce heap memory</strong></p>\n<p>The next step is to understand (profile) the memory usage of your application to identify where memory allocation can be reduced.</p>\n<p>It is easier to perform this on your local dev environment (Java IDEs have a built-in profiler or you can use JVM tools like VisualV), however it is possible to do it on <a href=\"https://devcenter.heroku.com/articles/java-memory-issues#profiling-a-java-application-on-heroku\" rel=\"nofollow noreferrer\">on Heroku</a>.</p>\n<p>Find here a good <a href=\"https://rollbar.com/blog/how-to-detect-memory-leaks-in-java-causes-types-tools/\" rel=\"nofollow noreferrer\">resource</a> about Java memory and <a href=\"https://medium.com/geekculture/java-on-heroku-common-pitfalls-and-mistakes-40f8ea32f104\" rel=\"nofollow noreferrer\">Medium</a> post about Java on Heroku</p>\n"}],"owner":{"account_id":22296981,"reputation":1,"user_id":16522848,"display_name":"New"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637943961,"creation_date":1637867490,"question_id":70116238,"body_markdown":"im running a python code on heroku with java and jvm and for some reason java and jvm seems to take all of the memory. Ive tried lowering the max it can use in config vals with java options, but it doesnt seem to work. Heres the logs\r\n\r\n    2021-11-25T19:08:05.685313+00:00 heroku[worker.1]: source=worker.1 dyno=heroku.237353453.e3a2ee9c-6853-478f-98d7-eb7057461bf8 sample#memory_total=459.22MB sample#memory_rss=447.67MB sample#memory_cache=11.55MB sample#memory_swap=0.00MB sample#memory_pgpgin=291821pages sample#memory_pgpgout=233536pages sample#memory_quota=512.00MB\r\n    2021-11-25T19:08:26.682574+00:00 heroku[worker.1]: source=worker.1 dyno=heroku.237353453.e3a2ee9c-6853-478f-98d7-eb7057461bf8 sample#load_avg_1m=0.07 sample#load_avg_5m=0.08 sample#load_avg_15m=0.08\r\n    2021-11-25T19:08:26.728173+00:00 heroku[worker.1]: source=worker.1 dyno=heroku.237353453.e3a2ee9c-6853-478f-98d7-eb7057461bf8 sample#memory_total=459.22MB sample#memory_rss=447.67MB sample#memory_cache=11.55MB sample#memory_swap=0.00MB sample#memory_pgpgin=291821pages sample#memory_pgpgout=233536pages sample#memory_quota=512.00M\r\n\r\nAre there any solutions to lower the memory usage without making any major changes. also sorry if i didnt give a lot of information about the issue. Im in the middle of something. \r\n\r\n**edit**\r\nJust realized i didnt put all of the error logs in here","title":"heroku out of memory issue r14","body":"<p>im running a python code on heroku with java and jvm and for some reason java and jvm seems to take all of the memory. Ive tried lowering the max it can use in config vals with java options, but it doesnt seem to work. Heres the logs</p>\n<pre><code>2021-11-25T19:08:05.685313+00:00 heroku[worker.1]: source=worker.1 dyno=heroku.237353453.e3a2ee9c-6853-478f-98d7-eb7057461bf8 sample#memory_total=459.22MB sample#memory_rss=447.67MB sample#memory_cache=11.55MB sample#memory_swap=0.00MB sample#memory_pgpgin=291821pages sample#memory_pgpgout=233536pages sample#memory_quota=512.00MB\n2021-11-25T19:08:26.682574+00:00 heroku[worker.1]: source=worker.1 dyno=heroku.237353453.e3a2ee9c-6853-478f-98d7-eb7057461bf8 sample#load_avg_1m=0.07 sample#load_avg_5m=0.08 sample#load_avg_15m=0.08\n2021-11-25T19:08:26.728173+00:00 heroku[worker.1]: source=worker.1 dyno=heroku.237353453.e3a2ee9c-6853-478f-98d7-eb7057461bf8 sample#memory_total=459.22MB sample#memory_rss=447.67MB sample#memory_cache=11.55MB sample#memory_swap=0.00MB sample#memory_pgpgin=291821pages sample#memory_pgpgout=233536pages sample#memory_quota=512.00M\n</code></pre>\n<p>Are there any solutions to lower the memory usage without making any major changes. also sorry if i didnt give a lot of information about the issue. Im in the middle of something.</p>\n<p><strong>edit</strong>\nJust realized i didnt put all of the error logs in here</p>\n"},{"tags":["java","algorithm","performance"],"comments":[{"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"score":0,"creation_date":1637945878,"post_id":70127174,"comment_id":123966141,"body_markdown":"Can you please post the listing of `constructPattern()`? It seems that you don&#39;t need any pattern matching at all. Simply string compare should do. Pattern matching being a costly operation should be avoided if possible.","body":"Can you please post the listing of <code>constructPattern()</code>? It seems that you don&#39;t need any pattern matching at all. Simply string compare should do. Pattern matching being a costly operation should be avoided if possible."},{"owner":{"account_id":6417458,"reputation":333,"user_id":4975198,"accept_rate":36,"display_name":"Jacob "},"score":0,"creation_date":1637949899,"post_id":70127174,"comment_id":123967320,"body_markdown":"I was under the impression that the compilation of the pattern was the expensive step but checking for a match is inexpensive. The function returns a regex like “^[abc]+c[abc]+$” where a and b are optional and c is required.","body":"I was under the impression that the compilation of the pattern was the expensive step but checking for a match is inexpensive. The function returns a regex like “^[abc]+c[abc]+$” where a and b are optional and c is required."}],"answers":[{"tags":[],"owner":{"account_id":1078921,"reputation":36333,"user_id":1076463,"accept_rate":65,"display_name":"Robin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1637943682,"creation_date":1637943682,"answer_id":70127350,"question_id":70127174,"body_markdown":"I would go the other way around for this and loop over the list of known words instead.\r\n\r\nE.g. in pseudocode:\r\n\r\n```\r\nMap&lt;String,Integer&gt; combination2Count = new HashMap&lt;&gt;();\r\nfor (word in list){\r\n  String sortedCharacters = sortCharactersAlphabetically(word);\r\n  combination2Count.put(sortedCharacters, current count + 1);\r\n}\r\n```\r\n\r\nand now you search for the entry with the highest count. That gives you the combination of characters with the most valid words.\r\n\r\nIf you also need the words, you can adjust the map to a `Map&lt;String,List&lt;String&gt;&gt;` where the `List&lt;String&gt;` contains the words for that combination of characters.","title":"How to generate unique combinations of the alphabet up to length 6?","body":"<p>I would go the other way around for this and loop over the list of known words instead.</p>\n<p>E.g. in pseudocode:</p>\n<pre><code>Map&lt;String,Integer&gt; combination2Count = new HashMap&lt;&gt;();\nfor (word in list){\n  String sortedCharacters = sortCharactersAlphabetically(word);\n  combination2Count.put(sortedCharacters, current count + 1);\n}\n</code></pre>\n<p>and now you search for the entry with the highest count. That gives you the combination of characters with the most valid words.</p>\n<p>If you also need the words, you can adjust the map to a <code>Map&lt;String,List&lt;String&gt;&gt;</code> where the <code>List&lt;String&gt;</code> contains the words for that combination of characters.</p>\n"}],"owner":{"account_id":6417458,"reputation":333,"user_id":4975198,"accept_rate":36,"display_name":"Jacob "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70127350,"answer_count":1,"score":0,"last_activity_date":1637943682,"creation_date":1637942823,"question_id":70127174,"body_markdown":"I am creating a simple program to see which combination of letters generates the most possible words for the NY Times Spelling Bee puzzle. What I have so far is a text file containing 80,000+ words and the below code which naively selects a required char and then generates a random combination of 6 characters. I then compile my pattern and test against the collection of known words. This solution needs to be optimized because there are 26^7 combinations to test.\r\n\r\nThis solution can be optimized in a few ways:\r\n\r\n - Do no regenerate optional character arrays that are similar or contain duplicate letters. &quot;abcdef&quot; would have the same results as &quot;fedcba&quot;. Likewise, &quot;aaabcd&quot; wont have as many solutions as &quot;abcdef&quot; because all letters can be reused.\r\n - Do no generate optional character arrays that contain the required character. The spot in the optional character array is best used to introduce a new character into the solution.\r\n - **Something else i cant think of?**\r\n\r\n```\r\nint numMaxSolutions = 0;\r\nchar[] alphabet = &quot;abcdefghijklmnopqrstuvwxyz&quot;.toCharArray();\r\nfor (char keyChar : alphabet) {\r\n  for (char a : alphabet) {\r\n  for (char b : alphabet) {\r\n  for (char c : alphabet) {\r\n  for (char d : alphabet) {\r\n  for (char e : alphabet) {\r\n  for (char f : alphabet) {\r\n    char[] optionalChars = new char[]{a,b,c,d,e,f};\r\n    Pattern pattern = this.constructPattern(keyChar, optionalChars);\r\n    List&lt;String&gt; results = new ArrayList&lt;String&gt;();\r\n    for (String word : words) {\r\n      if (word.length() &gt;= this.minLength &amp;&amp; pattern.matcher(word).matches()) {\r\n        results.add(word);\r\n      }\r\n    }\r\n    if (results.size() &gt; numMaxSolutions) {\r\n      numMaxSolutions = results.size();\r\n      System.out.println(String.format(&quot;Max: %c-%s (%d)&quot;, keyChar, String.valueOf(optionalChars), numMaxSolutions));\r\n    }\r\n  }\r\n  }\r\n  }\r\n  }\r\n  }\r\n  }\r\n}\r\n```\r\n\r\n**How can i acheive the first two?**","title":"How to generate unique combinations of the alphabet up to length 6?","body":"<p>I am creating a simple program to see which combination of letters generates the most possible words for the NY Times Spelling Bee puzzle. What I have so far is a text file containing 80,000+ words and the below code which naively selects a required char and then generates a random combination of 6 characters. I then compile my pattern and test against the collection of known words. This solution needs to be optimized because there are 26^7 combinations to test.</p>\n<p>This solution can be optimized in a few ways:</p>\n<ul>\n<li>Do no regenerate optional character arrays that are similar or contain duplicate letters. &quot;abcdef&quot; would have the same results as &quot;fedcba&quot;. Likewise, &quot;aaabcd&quot; wont have as many solutions as &quot;abcdef&quot; because all letters can be reused.</li>\n<li>Do no generate optional character arrays that contain the required character. The spot in the optional character array is best used to introduce a new character into the solution.</li>\n<li><strong>Something else i cant think of?</strong></li>\n</ul>\n<pre><code>int numMaxSolutions = 0;\nchar[] alphabet = &quot;abcdefghijklmnopqrstuvwxyz&quot;.toCharArray();\nfor (char keyChar : alphabet) {\n  for (char a : alphabet) {\n  for (char b : alphabet) {\n  for (char c : alphabet) {\n  for (char d : alphabet) {\n  for (char e : alphabet) {\n  for (char f : alphabet) {\n    char[] optionalChars = new char[]{a,b,c,d,e,f};\n    Pattern pattern = this.constructPattern(keyChar, optionalChars);\n    List&lt;String&gt; results = new ArrayList&lt;String&gt;();\n    for (String word : words) {\n      if (word.length() &gt;= this.minLength &amp;&amp; pattern.matcher(word).matches()) {\n        results.add(word);\n      }\n    }\n    if (results.size() &gt; numMaxSolutions) {\n      numMaxSolutions = results.size();\n      System.out.println(String.format(&quot;Max: %c-%s (%d)&quot;, keyChar, String.valueOf(optionalChars), numMaxSolutions));\n    }\n  }\n  }\n  }\n  }\n  }\n  }\n}\n</code></pre>\n<p><strong>How can i acheive the first two?</strong></p>\n"},{"tags":["java","class","for-loop","random"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1637929402,"post_id":70124268,"comment_id":123960235,"body_markdown":"fill everything with `L` and overwrite 8 random positions with `K` afterwards (make sure you don&#39;t pick the same location multiple times)? By the way, you could use loops for printing the board at the end.","body":"fill everything with <code>L</code> and overwrite 8 random positions with <code>K</code> afterwards (make sure you don&#39;t pick the same location multiple times)? By the way, you could use loops for printing the board at the end."}],"answers":[{"tags":[],"owner":{"account_id":23266854,"reputation":1,"user_id":17352268,"display_name":"Dawid Zienkiewicz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637929600,"creation_date":1637929600,"answer_id":70124418,"question_id":70124268,"body_markdown":"I will try to fill whole array with &#39;L&#39; and as a next step pick 8 random places for &#39;K&#39;.\r\n\r\nYou should use sth like this to print\r\n\r\n    for(int i=0; i&lt;board.length; i++) {\r\n        System.out.println(&quot; ─────────────&quot;);\r\n        for(int j=0; j&lt;board[0].length; j++) {\r\n            System.out.print(board[i][j]);\r\n        }\r\n    }\r\n    System.out.println(&quot; ─────────────&quot;);\r\n\r\n","title":"how to make the Value &quot;B&quot; &amp; &quot;K&quot; fill only certain number of cells Randomly","body":"<p>I will try to fill whole array with 'L' and as a next step pick 8 random places for 'K'.</p>\n<p>You should use sth like this to print</p>\n<pre><code>for(int i=0; i&lt;board.length; i++) {\n    System.out.println(&quot; ─────────────&quot;);\n    for(int j=0; j&lt;board[0].length; j++) {\n        System.out.print(board[i][j]);\n    }\n}\nSystem.out.println(&quot; ─────────────&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637943551,"creation_date":1637943551,"answer_id":70127325,"question_id":70124268,"body_markdown":"The simplest way is to fill your `board` array with `K` and then randomly replace 8 of them with `L` as suggested by @dan1st. The following should work:\r\n```java\r\npublic class SimpsonsBoard {\r\n    public static void main(String[] args) {\r\n        String[][] board = new String[6][6];\r\n        for (String[] row : board) {\r\n            Arrays.fill(row, &quot;K&quot;);\r\n        }\r\n\r\n        Random random = new Random();\r\n        for(int i = 1; i &lt;= 8; i++) {\r\n            int x = random.nextInt(6);\r\n            int y = random.nextInt(6);\r\n            board[x][y]= &quot;L&quot;;\r\n        }\r\n\r\n        System.out.println(&quot; ─────────────&quot;);\r\n        System.out.println(&quot;│&quot; + board[0][0] + &quot;│&quot; + board[0][1] + &quot;│&quot; + board[0][2] + &quot;│&quot; + board[0][3] + &quot;│&quot; + board[0][4] + &quot;│&quot; + board[0][5] + &quot;│&quot;);\r\n        System.out.println(&quot; ─────────────&quot;);\r\n        System.out.println(&quot;│&quot; + board[1][0] + &quot;│&quot; + board[1][1] + &quot;│&quot; + board[1][2] + &quot;│&quot; + board[1][3] + &quot;│&quot; + board[1][4] + &quot;│&quot; + board[1][5] + &quot;│&quot;);\r\n        System.out.println(&quot; ─────────────&quot;);\r\n        System.out.println(&quot;│&quot; + board[2][0] + &quot;│&quot; + board[2][1] + &quot;│&quot; + board[2][2] + &quot;│&quot; + board[2][3] + &quot;│&quot; + board[2][4] + &quot;│&quot; + board[2][5] + &quot;│&quot;);\r\n        System.out.println(&quot; ─────────────&quot;);\r\n        System.out.println(&quot;│&quot; + board[3][0] + &quot;│&quot; + board[3][1] + &quot;│&quot; + board[3][2] + &quot;│&quot; + board[3][3] + &quot;│&quot; + board[3][4] + &quot;│&quot; + board[3][5] + &quot;│&quot;);\r\n        System.out.println(&quot; ─────────────&quot;);\r\n        System.out.println(&quot;│&quot; + board[4][0] + &quot;│&quot; + board[4][1] + &quot;│&quot; + board[4][2] + &quot;│&quot; + board[4][3] + &quot;│&quot; + board[4][4] + &quot;│&quot; + board[4][5] + &quot;│&quot;);\r\n        System.out.println(&quot; ─────────────&quot;);\r\n        System.out.println(&quot;│&quot; + board[5][0] + &quot;│&quot; + board[5][1] + &quot;│&quot; + board[5][2] + &quot;│&quot; + board[5][3] + &quot;│&quot; + board[5][4] + &quot;│&quot; + board[5][5] + &quot;│&quot;);\r\n        System.out.println(&quot; ─────────────&quot;);\r\n    }\r\n}\r\n```","title":"how to make the Value &quot;B&quot; &amp; &quot;K&quot; fill only certain number of cells Randomly","body":"<p>The simplest way is to fill your <code>board</code> array with <code>K</code> and then randomly replace 8 of them with <code>L</code> as suggested by @dan1st. The following should work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SimpsonsBoard {\n    public static void main(String[] args) {\n        String[][] board = new String[6][6];\n        for (String[] row : board) {\n            Arrays.fill(row, &quot;K&quot;);\n        }\n\n        Random random = new Random();\n        for(int i = 1; i &lt;= 8; i++) {\n            int x = random.nextInt(6);\n            int y = random.nextInt(6);\n            board[x][y]= &quot;L&quot;;\n        }\n\n        System.out.println(&quot; ─────────────&quot;);\n        System.out.println(&quot;│&quot; + board[0][0] + &quot;│&quot; + board[0][1] + &quot;│&quot; + board[0][2] + &quot;│&quot; + board[0][3] + &quot;│&quot; + board[0][4] + &quot;│&quot; + board[0][5] + &quot;│&quot;);\n        System.out.println(&quot; ─────────────&quot;);\n        System.out.println(&quot;│&quot; + board[1][0] + &quot;│&quot; + board[1][1] + &quot;│&quot; + board[1][2] + &quot;│&quot; + board[1][3] + &quot;│&quot; + board[1][4] + &quot;│&quot; + board[1][5] + &quot;│&quot;);\n        System.out.println(&quot; ─────────────&quot;);\n        System.out.println(&quot;│&quot; + board[2][0] + &quot;│&quot; + board[2][1] + &quot;│&quot; + board[2][2] + &quot;│&quot; + board[2][3] + &quot;│&quot; + board[2][4] + &quot;│&quot; + board[2][5] + &quot;│&quot;);\n        System.out.println(&quot; ─────────────&quot;);\n        System.out.println(&quot;│&quot; + board[3][0] + &quot;│&quot; + board[3][1] + &quot;│&quot; + board[3][2] + &quot;│&quot; + board[3][3] + &quot;│&quot; + board[3][4] + &quot;│&quot; + board[3][5] + &quot;│&quot;);\n        System.out.println(&quot; ─────────────&quot;);\n        System.out.println(&quot;│&quot; + board[4][0] + &quot;│&quot; + board[4][1] + &quot;│&quot; + board[4][2] + &quot;│&quot; + board[4][3] + &quot;│&quot; + board[4][4] + &quot;│&quot; + board[4][5] + &quot;│&quot;);\n        System.out.println(&quot; ─────────────&quot;);\n        System.out.println(&quot;│&quot; + board[5][0] + &quot;│&quot; + board[5][1] + &quot;│&quot; + board[5][2] + &quot;│&quot; + board[5][3] + &quot;│&quot; + board[5][4] + &quot;│&quot; + board[5][5] + &quot;│&quot;);\n        System.out.println(&quot; ─────────────&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17660267,"reputation":3,"user_id":12818873,"display_name":"Vicente Mateu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70127325,"answer_count":2,"score":0,"last_activity_date":1637943551,"creation_date":1637928942,"question_id":70124268,"body_markdown":" I have board made from class in Java with values (K, L) that will randomly fill the board. I wonder how to make the value &quot;K&quot; fill only certain number of cells (8 cells) randomly and the rest &quot;L&quot; would fill the board. My aim is to get a board where &quot;K&quot; appears 8 times and the rest would be &quot;L&quot; all randomly.\r\n\r\n```\r\npublic class SimpsonsBoard {\r\n    public static void main(String[] args) {\r\n        String[][] board = new String[6][6];\r\n\r\n        for(int i=0; i&lt;board.length; i++) {\r\n            for(int j=0; j&lt;board.length; j++) {\r\n                double random = Math.random();\r\n                if (random &lt; .8 ) {\r\n                    board[i][j]= String.valueOf(&#39;K&#39;);\r\n                }else {\r\n                    board[i][j]= String.valueOf(&#39;L&#39;);\r\n                }\r\n                System.out.print(board[i][j]);\r\n            }\r\n        }\r\n\r\n\r\n        System.out.println(&quot; ─────────────&quot;);\r\n        System.out.println(&quot;│&quot; + board[0][0] + &quot;│&quot; + board[0][1] + &quot;│&quot; + board[0][2] + &quot;│&quot; + board[0][3] + &quot;│&quot; + board[0][4] + &quot;│&quot; + board[0][5] + &quot;│&quot;);\r\n        System.out.println(&quot; ─────────────&quot;);\r\n        System.out.println(&quot;│&quot; + board[1][0] + &quot;│&quot; + board[1][1] + &quot;│&quot; + board[1][2] + &quot;│&quot; + board[1][3] + &quot;│&quot; + board[1][4] + &quot;│&quot; + board[1][5] + &quot;│&quot;);\r\n        System.out.println(&quot; ─────────────&quot;);\r\n        System.out.println(&quot;│&quot; + board[2][0] + &quot;│&quot; + board[2][1] + &quot;│&quot; + board[2][2] + &quot;│&quot; + board[2][3] + &quot;│&quot; + board[2][4] + &quot;│&quot; + board[2][5] + &quot;│&quot;);\r\n        System.out.println(&quot; ─────────────&quot;);\r\n        System.out.println(&quot;│&quot; + board[3][0] + &quot;│&quot; + board[3][1] + &quot;│&quot; + board[3][2] + &quot;│&quot; + board[3][3] + &quot;│&quot; + board[3][4] + &quot;│&quot; + board[3][5] + &quot;│&quot;);\r\n        System.out.println(&quot; ─────────────&quot;);\r\n        System.out.println(&quot;│&quot; + board[4][0] + &quot;│&quot; + board[4][1] + &quot;│&quot; + board[4][2] + &quot;│&quot; + board[4][3] + &quot;│&quot; + board[4][4] + &quot;│&quot; + board[4][5] + &quot;│&quot;);\r\n        System.out.println(&quot; ─────────────&quot;);\r\n        System.out.println(&quot;│&quot; + board[5][0] + &quot;│&quot; + board[5][1] + &quot;│&quot; + board[5][2] + &quot;│&quot; + board[5][3] + &quot;│&quot; + board[5][4] + &quot;│&quot; + board[5][5] + &quot;│&quot;);\r\n        System.out.println(&quot; ─────────────&quot;);\r\n\r\n\r\n    }\r\n}\r\n```","title":"how to make the Value &quot;B&quot; &amp; &quot;K&quot; fill only certain number of cells Randomly","body":"<p>I have board made from class in Java with values (K, L) that will randomly fill the board. I wonder how to make the value &quot;K&quot; fill only certain number of cells (8 cells) randomly and the rest &quot;L&quot; would fill the board. My aim is to get a board where &quot;K&quot; appears 8 times and the rest would be &quot;L&quot; all randomly.</p>\n<pre><code>public class SimpsonsBoard {\n    public static void main(String[] args) {\n        String[][] board = new String[6][6];\n\n        for(int i=0; i&lt;board.length; i++) {\n            for(int j=0; j&lt;board.length; j++) {\n                double random = Math.random();\n                if (random &lt; .8 ) {\n                    board[i][j]= String.valueOf('K');\n                }else {\n                    board[i][j]= String.valueOf('L');\n                }\n                System.out.print(board[i][j]);\n            }\n        }\n\n\n        System.out.println(&quot; ─────────────&quot;);\n        System.out.println(&quot;│&quot; + board[0][0] + &quot;│&quot; + board[0][1] + &quot;│&quot; + board[0][2] + &quot;│&quot; + board[0][3] + &quot;│&quot; + board[0][4] + &quot;│&quot; + board[0][5] + &quot;│&quot;);\n        System.out.println(&quot; ─────────────&quot;);\n        System.out.println(&quot;│&quot; + board[1][0] + &quot;│&quot; + board[1][1] + &quot;│&quot; + board[1][2] + &quot;│&quot; + board[1][3] + &quot;│&quot; + board[1][4] + &quot;│&quot; + board[1][5] + &quot;│&quot;);\n        System.out.println(&quot; ─────────────&quot;);\n        System.out.println(&quot;│&quot; + board[2][0] + &quot;│&quot; + board[2][1] + &quot;│&quot; + board[2][2] + &quot;│&quot; + board[2][3] + &quot;│&quot; + board[2][4] + &quot;│&quot; + board[2][5] + &quot;│&quot;);\n        System.out.println(&quot; ─────────────&quot;);\n        System.out.println(&quot;│&quot; + board[3][0] + &quot;│&quot; + board[3][1] + &quot;│&quot; + board[3][2] + &quot;│&quot; + board[3][3] + &quot;│&quot; + board[3][4] + &quot;│&quot; + board[3][5] + &quot;│&quot;);\n        System.out.println(&quot; ─────────────&quot;);\n        System.out.println(&quot;│&quot; + board[4][0] + &quot;│&quot; + board[4][1] + &quot;│&quot; + board[4][2] + &quot;│&quot; + board[4][3] + &quot;│&quot; + board[4][4] + &quot;│&quot; + board[4][5] + &quot;│&quot;);\n        System.out.println(&quot; ─────────────&quot;);\n        System.out.println(&quot;│&quot; + board[5][0] + &quot;│&quot; + board[5][1] + &quot;│&quot; + board[5][2] + &quot;│&quot; + board[5][3] + &quot;│&quot; + board[5][4] + &quot;│&quot; + board[5][5] + &quot;│&quot;);\n        System.out.println(&quot; ─────────────&quot;);\n\n\n    }\n}\n</code></pre>\n"},{"tags":["java","bash"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":5,"creation_date":1637939068,"post_id":70126434,"comment_id":123963783,"body_markdown":"This is how you pass data to stdin, not how you pass arguments. Just use `java myClass &quot;text&quot;`.","body":"This is how you pass data to stdin, not how you pass arguments. Just use <code>java myClass &quot;text&quot;</code>."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1637939241,"post_id":70126434,"comment_id":123963847,"body_markdown":"you can use `xargs` to pass piped input as a parameter.","body":"you can use <code>xargs</code> to pass piped input as a parameter."}],"answers":[{"tags":[],"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637943510,"creation_date":1637942733,"answer_id":70127161,"question_id":70126434,"body_markdown":"If you are expecting this to work like we do `cat &lt;file&gt; | cut -d...` kind of thing, it will not happen here. When you pipe the output of one command to another, the other command has to read from stdin.\r\n\r\nSo, your Java program should read from stdin.\r\n\r\nHere&#39;s one example.\r\n\r\n```java\r\npublic class myClass{\r\n\tpublic static void main( String[] args ){\r\n\t\tString input = readIn();\r\n\r\n\t\tSystem.out.println( input );\r\n\t}\r\n\r\n\tprivate static String readIn(){\r\n\t\ttry{\r\n\t\t\tByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n\t\t\tbyte[] buffer = new byte[ 1024 ];\r\n\r\n\t\t\tint bytesRead = -1;\r\n\t\t\twhile( ( bytesRead = System.in.read( buffer ) ) &gt; 0 ){\r\n\t\t\t\tbaos.write( buffer, 0, bytesRead );\r\n\t\t\t}\r\n\r\n\t\t\treturn baos.toString( StandardCharsets.UTF_8 );\r\n\t\t}\r\n\t\tcatch( IOException e ){\r\n\t\t\tthrow new RuntimeException( e );\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nNow, after you compile this, you can call:\r\n`$ echo &quot;text&quot; | java myClass`","title":"Passing shell arguments to java","body":"<p>If you are expecting this to work like we do <code>cat &lt;file&gt; | cut -d...</code> kind of thing, it will not happen here. When you pipe the output of one command to another, the other command has to read from stdin.</p>\n<p>So, your Java program should read from stdin.</p>\n<p>Here's one example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class myClass{\n    public static void main( String[] args ){\n        String input = readIn();\n\n        System.out.println( input );\n    }\n\n    private static String readIn(){\n        try{\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\n            byte[] buffer = new byte[ 1024 ];\n\n            int bytesRead = -1;\n            while( ( bytesRead = System.in.read( buffer ) ) &gt; 0 ){\n                baos.write( buffer, 0, bytesRead );\n            }\n\n            return baos.toString( StandardCharsets.UTF_8 );\n        }\n        catch( IOException e ){\n            throw new RuntimeException( e );\n        }\n    }\n}\n</code></pre>\n<p>Now, after you compile this, you can call:\n<code>$ echo &quot;text&quot; | java myClass</code></p>\n"},{"tags":[],"owner":{"account_id":3466983,"reputation":8589,"user_id":3800782,"accept_rate":77,"display_name":"rghome"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637943337,"creation_date":1637943337,"answer_id":70127272,"question_id":70126434,"body_markdown":"This is more of a shell programming problem.\r\n\r\nYou need to write:\r\n\r\n    $: java myClass $(echo &quot;text&quot;)\r\n\r\nThis will convert the output of echo to parameters. This will work as along as the output of your program is simple (e.g., a short list of words).\r\n\r\nIf you are expecting to read lines of text you will have to use your original command and read the input from stdin.\r\n","title":"Passing shell arguments to java","body":"<p>This is more of a shell programming problem.</p>\n<p>You need to write:</p>\n<pre><code>$: java myClass $(echo &quot;text&quot;)\n</code></pre>\n<p>This will convert the output of echo to parameters. This will work as along as the output of your program is simple (e.g., a short list of words).</p>\n<p>If you are expecting to read lines of text you will have to use your original command and read the input from stdin.</p>\n"}],"owner":{"account_id":17892834,"reputation":113,"user_id":12998956,"display_name":"Ascolom"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70127272,"answer_count":2,"score":0,"last_activity_date":1637943510,"creation_date":1637938992,"question_id":70126434,"body_markdown":"I want to pass input to java in a Bash shell:\r\n\r\n```bash\r\n$: echo &quot;text&quot; | java myClass\r\n```\r\n    \r\nThis is my Java code:\r\n\r\n```java\r\npublic class myClass {\r\n\r\n    public static void main(String[] args) {\r\n        if (args.length &gt; 0) {\r\n            System.out.println(&quot;argument: &quot; + args[0]);\r\n        }\r\n        else {\r\n            System.out.println(&quot;[Error] No argument given&quot;);\r\n            System.exit(1);\r\n        }\r\n        System.exit(0);\r\n    }\r\n}\r\n```\r\n\r\nThe result is: \r\n\r\n```bash\r\n$: echo &quot;text&quot; | java myClass\r\n[Error] No argument given\r\n```\r\n","title":"Passing shell arguments to java","body":"<p>I want to pass input to java in a Bash shell:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>$: echo &quot;text&quot; | java myClass\n</code></pre>\n<p>This is my Java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class myClass {\n\n    public static void main(String[] args) {\n        if (args.length &gt; 0) {\n            System.out.println(&quot;argument: &quot; + args[0]);\n        }\n        else {\n            System.out.println(&quot;[Error] No argument given&quot;);\n            System.exit(1);\n        }\n        System.exit(0);\n    }\n}\n</code></pre>\n<p>The result is:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>$: echo &quot;text&quot; | java myClass\n[Error] No argument given\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637915287,"creation_date":1637915287,"answer_id":70121431,"question_id":70121099,"body_markdown":"&gt; Is there any way to just pass a &quot;user&quot; object instead of all the variables of the user?\r\n\r\nFor sure there is. Instead of adding all of those values, you can add the entire user object. But to achieve this, you have to create a model class that looks like this:\r\n\r\n```\r\nclass User implements Serializable {\r\n    String username, password, age, credits, id;\r\n\r\n    public User(String username, String password, String age, String credits, String id) {\r\n        this.username = username;\r\n        this.password = password;\r\n        this.age = age;\r\n        this.credits = credits;\r\n        this.id = id;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;User{&quot; +\r\n                &quot;username=&#39;&quot; + username + &#39;\\&#39;&#39; +\r\n                &quot;, password=&#39;&quot; + password + &#39;\\&#39;&#39; +\r\n                &quot;, age=&#39;&quot; + age + &#39;\\&#39;&#39; +\r\n                &quot;, credits=&#39;&quot; + credits + &#39;\\&#39;&#39; +\r\n                &quot;, id=&#39;&quot; + id + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\nDon&#39;t forget the implement the [Serializable][1] interface. Now to add the object to the intent, please create it like this:\r\n\r\n    String userNameFromDB = dataSnapshot.child(userEnteredUsername).child(&quot;username&quot;).getValue(String.class);\r\n    String passwordFromDB = dataSnapshot.child(userEnteredUsername).child(&quot;password&quot;).getValue(String.class);\r\n    String ageFromDB = dataSnapshot.child(userEnteredUsername).child(&quot;age&quot;).getValue(String.class);\r\n    String creditsFromDB = dataSnapshot.child(userEnteredUsername).child(&quot;credits&quot;).getValue(String.class);\r\n    String idFromDB = dataSnapshot.child(userEnteredUsername).child(&quot;id&quot;).getValue(String.class);\r\n    User user = new User(userNameFromDB, passwordFromDB, ageFromDB, creditsFromDB, idFromDB);\r\n    Intent intent = new Intent(getApplicationContext(),HomePage.class);\r\n    intent.putExtra(&quot;user&quot;, user);\r\n\r\nAnd to get it back in the other activity, please use the following lines of code:\r\n\r\n    User user = (User) getIntent().getSerializableExtra(&quot;user&quot;);\r\n    Log.d(&quot;TAG&quot;, user);\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/io/Serializable.html","title":"Is there any way to just pass a &quot;user&quot; object instead of all the variables of user","body":"<blockquote>\n<p>Is there any way to just pass a &quot;user&quot; object instead of all the variables of the user?</p>\n</blockquote>\n<p>For sure there is. Instead of adding all of those values, you can add the entire user object. But to achieve this, you have to create a model class that looks like this:</p>\n<pre><code>class User implements Serializable {\n    String username, password, age, credits, id;\n\n    public User(String username, String password, String age, String credits, String id) {\n        this.username = username;\n        this.password = password;\n        this.age = age;\n        this.credits = credits;\n        this.id = id;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;User{&quot; +\n                &quot;username='&quot; + username + '\\'' +\n                &quot;, password='&quot; + password + '\\'' +\n                &quot;, age='&quot; + age + '\\'' +\n                &quot;, credits='&quot; + credits + '\\'' +\n                &quot;, id='&quot; + id + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n<p>Don't forget the implement the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/Serializable.html\" rel=\"nofollow noreferrer\">Serializable</a> interface. Now to add the object to the intent, please create it like this:</p>\n<pre><code>String userNameFromDB = dataSnapshot.child(userEnteredUsername).child(&quot;username&quot;).getValue(String.class);\nString passwordFromDB = dataSnapshot.child(userEnteredUsername).child(&quot;password&quot;).getValue(String.class);\nString ageFromDB = dataSnapshot.child(userEnteredUsername).child(&quot;age&quot;).getValue(String.class);\nString creditsFromDB = dataSnapshot.child(userEnteredUsername).child(&quot;credits&quot;).getValue(String.class);\nString idFromDB = dataSnapshot.child(userEnteredUsername).child(&quot;id&quot;).getValue(String.class);\nUser user = new User(userNameFromDB, passwordFromDB, ageFromDB, creditsFromDB, idFromDB);\nIntent intent = new Intent(getApplicationContext(),HomePage.class);\nintent.putExtra(&quot;user&quot;, user);\n</code></pre>\n<p>And to get it back in the other activity, please use the following lines of code:</p>\n<pre><code>User user = (User) getIntent().getSerializableExtra(&quot;user&quot;);\nLog.d(&quot;TAG&quot;, user);\n</code></pre>\n"}],"owner":{"account_id":10969257,"reputation":21,"user_id":8060092,"display_name":"Malik Safwan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70121431,"answer_count":1,"score":0,"last_activity_date":1637943435,"creation_date":1637913373,"question_id":70121099,"body_markdown":"I have a login page, and right now after the user logs in I pass all of its data like the `username`, `password` and etc. I wanted to know if it&#39;s possible that I just pass like a whole user and it that user object I can just use getter and setters to get the user-related info. I am working on this project with Firebase so maybe perhaps I can check for current users logged in or something, I am not really sure what approach is the most suitable for this. Please let me know if there is any method like this. \r\n\r\nHow I currently pass data:\r\n```\r\nif (dataSnapshot.exists()) {\r\n\r\n    username.setError(null);\r\n    username.setErrorEnabled(false);\r\n    \r\n    String passwordFromDB = dataSnapshot.child(userEnteredUsername).child(&quot;password&quot;).getValue(String.class);\r\n    \r\n    if (passwordFromDB.equals(userEnteredPassword)) {\r\n        username.setError(null);\r\n        username.setErrorEnabled(false);\r\n    \r\n        String userNameFromDB = dataSnapshot.child(userEnteredUsername).child(&quot;username&quot;).getValue(String.class);\r\n        String ageFromDB = dataSnapshot.child(userEnteredUsername).child(&quot;age&quot;).getValue(String.class);\r\n        String creditsFromDB = dataSnapshot.child(userEnteredUsername).child(&quot;credits&quot;).getValue(String.class);\r\n        String idFromDB = dataSnapshot.child(userEnteredUsername).child(&quot;id&quot;).getValue(String.class);\r\n    \r\n        Intent intent = new Intent(getApplicationContext(),HomePage.class);\r\n    \r\n        intent.putExtra(&quot;username&quot;,userNameFromDB);\r\n        intent.putExtra(&quot;password&quot;,passwordFromDB);\r\n        intent.putExtra(&quot;age&quot;,ageFromDB);\r\n        intent.putExtra(&quot;credits&quot;,creditsFromDB);\r\n        intent.putExtra(&quot;id&quot;,idFromDB);\r\n    \r\n    \t\t\t\t\r\n        Toast toast = Toast.makeText(getApplicationContext(),&quot;Login Successful&quot;,Toast.LENGTH_SHORT);\r\n        toast.show();\r\n        startActivity(intent);\r\n\r\n```\r\n![How my user looks like in Firebase][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1LFyB.png","title":"Is there any way to just pass a &quot;user&quot; object instead of all the variables of user","body":"<p>I have a login page, and right now after the user logs in I pass all of its data like the <code>username</code>, <code>password</code> and etc. I wanted to know if it's possible that I just pass like a whole user and it that user object I can just use getter and setters to get the user-related info. I am working on this project with Firebase so maybe perhaps I can check for current users logged in or something, I am not really sure what approach is the most suitable for this. Please let me know if there is any method like this.</p>\n<p>How I currently pass data:</p>\n<pre><code>if (dataSnapshot.exists()) {\n\n    username.setError(null);\n    username.setErrorEnabled(false);\n    \n    String passwordFromDB = dataSnapshot.child(userEnteredUsername).child(&quot;password&quot;).getValue(String.class);\n    \n    if (passwordFromDB.equals(userEnteredPassword)) {\n        username.setError(null);\n        username.setErrorEnabled(false);\n    \n        String userNameFromDB = dataSnapshot.child(userEnteredUsername).child(&quot;username&quot;).getValue(String.class);\n        String ageFromDB = dataSnapshot.child(userEnteredUsername).child(&quot;age&quot;).getValue(String.class);\n        String creditsFromDB = dataSnapshot.child(userEnteredUsername).child(&quot;credits&quot;).getValue(String.class);\n        String idFromDB = dataSnapshot.child(userEnteredUsername).child(&quot;id&quot;).getValue(String.class);\n    \n        Intent intent = new Intent(getApplicationContext(),HomePage.class);\n    \n        intent.putExtra(&quot;username&quot;,userNameFromDB);\n        intent.putExtra(&quot;password&quot;,passwordFromDB);\n        intent.putExtra(&quot;age&quot;,ageFromDB);\n        intent.putExtra(&quot;credits&quot;,creditsFromDB);\n        intent.putExtra(&quot;id&quot;,idFromDB);\n    \n                    \n        Toast toast = Toast.makeText(getApplicationContext(),&quot;Login Successful&quot;,Toast.LENGTH_SHORT);\n        toast.show();\n        startActivity(intent);\n\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/1LFyB.png\" alt=\"How my user looks like in Firebase\" /></p>\n"},{"tags":["java","spring-boot","junit","mockito"],"answers":[{"tags":[],"owner":{"account_id":18431035,"reputation":582,"user_id":13426164,"display_name":"Kris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637943263,"creation_date":1637943263,"answer_id":70127261,"question_id":70123165,"body_markdown":"If you are writing a unit test for the `daoUser.get(userID)` method, then you only need to mock any further methods that are contained in it. For example, if `daoUser.get(userID)`method has a `fooClass.doSomethingElse()` method in it, then you would mock the `FooClass`. Otherwise just create a unit test that compares the actual method output with a predefined expected value `List&lt;User&gt; expectedList`.\r\n\r\nIf you are trying to test another method and want to mock `daoUser.get(userID)`, then mock the `DaoUser` class and write a Mockito when statement, for example, `when(daoUser.get(anyString()).thenReturn(fooList)` so when the method you are testing hits `daoUser.get(userID)` then it doesn&#39;t actually call it but mocks the response instead.\r\n\r\nHope this makes sense.","title":"Handle method variable that is created by model class with Junit and Mockito","body":"<p>If you are writing a unit test for the <code>daoUser.get(userID)</code> method, then you only need to mock any further methods that are contained in it. For example, if <code>daoUser.get(userID)</code>method has a <code>fooClass.doSomethingElse()</code> method in it, then you would mock the <code>FooClass</code>. Otherwise just create a unit test that compares the actual method output with a predefined expected value <code>List&lt;User&gt; expectedList</code>.</p>\n<p>If you are trying to test another method and want to mock <code>daoUser.get(userID)</code>, then mock the <code>DaoUser</code> class and write a Mockito when statement, for example, <code>when(daoUser.get(anyString()).thenReturn(fooList)</code> so when the method you are testing hits <code>daoUser.get(userID)</code> then it doesn't actually call it but mocks the response instead.</p>\n<p>Hope this makes sense.</p>\n"}],"owner":{"account_id":8841480,"reputation":75,"user_id":6603791,"accept_rate":50,"display_name":"Hristo.L"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1637943263,"creation_date":1637923459,"question_id":70123165,"body_markdown":"I want to make Junit and Mockito test of my code. I have a variable that is a list created by user.class model. I have an idea how to mock the part on the right side of the equality sign, but I cant figure it out how to handle the left part.\r\nMy question is, how should I mock that User.class that is used to create the user variable list?\r\n\r\nThis is the variable I should handle:\r\n\r\n    List&lt;User&gt; user = daoUser.get(userID);\r\n","title":"Handle method variable that is created by model class with Junit and Mockito","body":"<p>I want to make Junit and Mockito test of my code. I have a variable that is a list created by user.class model. I have an idea how to mock the part on the right side of the equality sign, but I cant figure it out how to handle the left part.\nMy question is, how should I mock that User.class that is used to create the user variable list?</p>\n<p>This is the variable I should handle:</p>\n<pre><code>List&lt;User&gt; user = daoUser.get(userID);\n</code></pre>\n"},{"tags":["java","c++","algorithm","math","data-structures"],"comments":[{"owner":{"account_id":4025199,"reputation":2431,"user_id":3313819,"display_name":"ShadowMitia"},"score":1,"creation_date":1637936114,"post_id":70125426,"comment_id":123962657,"body_markdown":"What have you tried? Also is this java or C++? They are very different languages.","body":"What have you tried? Also is this java or C++? They are very different languages."},{"owner":{"account_id":12875245,"reputation":547,"user_id":9312181,"display_name":"tusharRawat"},"score":0,"creation_date":1637936338,"post_id":70125426,"comment_id":123962728,"body_markdown":"I tried brute force but It&#39;s taking too long. Like find every element in the grid , sort it and pick the Kth element @ShadowMitia","body":"I tried brute force but It&#39;s taking too long. Like find every element in the grid , sort it and pick the Kth element @ShadowMitia"},{"owner":{"account_id":4025199,"reputation":2431,"user_id":3313819,"display_name":"ShadowMitia"},"score":1,"creation_date":1637937184,"post_id":70125426,"comment_id":123963041,"body_markdown":"Show us the code, we can start helping from there.","body":"Show us the code, we can start helping from there."}],"answers":[{"tags":[],"owner":{"account_id":477962,"reputation":838,"user_id":889759,"accept_rate":33,"display_name":"gst"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637937920,"creation_date":1637937920,"answer_id":70126189,"question_id":70125426,"body_markdown":"The problem that you are trying to solve (finding kth smallest element in an unordered array) is called [the selection problem][1]. There are many ways to solve this problem, and one of the best known ways is [the quick select algorithm][2]. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Selection_algorithm\r\n  [2]: https://en.wikipedia.org/wiki/Quickselect","title":"Find the Kth min element in the grid?","body":"<p>The problem that you are trying to solve (finding kth smallest element in an unordered array) is called <a href=\"https://en.wikipedia.org/wiki/Selection_algorithm\" rel=\"nofollow noreferrer\">the selection problem</a>. There are many ways to solve this problem, and one of the best known ways is <a href=\"https://en.wikipedia.org/wiki/Quickselect\" rel=\"nofollow noreferrer\">the quick select algorithm</a>.</p>\n"},{"tags":[],"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637943250,"creation_date":1637942864,"answer_id":70127180,"question_id":70125426,"body_markdown":"You can solve this problem in O(N log N) time.  Note that that is sublinear in the size of the matrix, which is N*N.  Of course you should never actually construct the matrix.\r\n\r\nFirst, it helps to see what the values in the matrix [looks like][1]: \r\n\r\nNote that over the possible range of matrix sizes, the smallest element is always at (i,j) = (N-1,0).\r\n\r\nThe largest element will be either (0,N-1) or (N-1,N-1), depending on the size of the matrix.\r\n\r\nConsider the elements on the line from the smallest to largest.  If you pick any one of these elements, then you can trace the contour to find the number of &lt;= elements in O(N) time.\r\n\r\nFurthermore, the elements on this line are always monotonically increasing from smallest to largest, so do a binary search on this line of elements, to find the largest one such that the number of &lt;= elements is &lt; k.  At O(N) time per test, this takes O(N log N) all together.\r\n\r\nLet&#39;s say the element you discover has value x, and the number of elements &lt;= x is r, with r &lt; k.  Next trace the contour for the next higher element on the line, call its value y, and make list of all the values v such that x &lt; v &lt;= y.  There will be O(N) elements in this list, and this takes only O(N) time. \r\n\r\nFinally, just use sorting or quickselect to pick the (k-r)th element from this list.  Again this takes at mostO(N log N) time.\r\n\r\n\r\n  [1]: https://www.wolframalpha.com/input/?i=plot%20%28i%2Bj%29%5E2%20%2B%20%28j-i%29*100000%20from%200%20to%2050000&amp;assumption=%22i%22%20-%3E%20%22Variable%22","title":"Find the Kth min element in the grid?","body":"<p>You can solve this problem in O(N log N) time.  Note that that is sublinear in the size of the matrix, which is N*N.  Of course you should never actually construct the matrix.</p>\n<p>First, it helps to see what the values in the matrix <a href=\"https://www.wolframalpha.com/input/?i=plot%20%28i%2Bj%29%5E2%20%2B%20%28j-i%29*100000%20from%200%20to%2050000&amp;assumption=%22i%22%20-%3E%20%22Variable%22\" rel=\"nofollow noreferrer\">looks like</a>:</p>\n<p>Note that over the possible range of matrix sizes, the smallest element is always at (i,j) = (N-1,0).</p>\n<p>The largest element will be either (0,N-1) or (N-1,N-1), depending on the size of the matrix.</p>\n<p>Consider the elements on the line from the smallest to largest.  If you pick any one of these elements, then you can trace the contour to find the number of &lt;= elements in O(N) time.</p>\n<p>Furthermore, the elements on this line are always monotonically increasing from smallest to largest, so do a binary search on this line of elements, to find the largest one such that the number of &lt;= elements is &lt; k.  At O(N) time per test, this takes O(N log N) all together.</p>\n<p>Let's say the element you discover has value x, and the number of elements &lt;= x is r, with r &lt; k.  Next trace the contour for the next higher element on the line, call its value y, and make list of all the values v such that x &lt; v &lt;= y.  There will be O(N) elements in this list, and this takes only O(N) time.</p>\n<p>Finally, just use sorting or quickselect to pick the (k-r)th element from this list.  Again this takes at mostO(N log N) time.</p>\n"}],"owner":{"account_id":12875245,"reputation":547,"user_id":9312181,"display_name":"tusharRawat"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1637943250,"creation_date":1637934369,"question_id":70125426,"body_markdown":"We are given a **grid** of size `N * N` where each element `A[i][j]` is calculated by this equation `(i + j) ^ 2 + (j-i) * 10^5`.\r\n\r\nWe need to find the **Kth min element** in optimized way.\r\n\r\n**Constraints** :\r\n\r\n    1 &lt;= number of test cases &lt;= 20 \r\n    1 &lt;= N &lt;= 5*10^4 \r\n    1 &lt;= k &lt;= N^2\r\n\r\n\r\n&gt; How to solve this problem in an efficient way ?","title":"Find the Kth min element in the grid?","body":"<p>We are given a <strong>grid</strong> of size <code>N * N</code> where each element <code>A[i][j]</code> is calculated by this equation <code>(i + j) ^ 2 + (j-i) * 10^5</code>.</p>\n<p>We need to find the <strong>Kth min element</strong> in optimized way.</p>\n<p><strong>Constraints</strong> :</p>\n<pre><code>1 &lt;= number of test cases &lt;= 20 \n1 &lt;= N &lt;= 5*10^4 \n1 &lt;= k &lt;= N^2\n</code></pre>\n<blockquote>\n<p>How to solve this problem in an efficient way ?</p>\n</blockquote>\n"},{"tags":["java","javascript","php","c++","encryption"],"comments":[{"owner":{"account_id":1807266,"reputation":511,"user_id":1644123,"accept_rate":89,"display_name":"Jim22150"},"score":0,"creation_date":1394681951,"post_id":22368441,"comment_id":34002422,"body_markdown":"@WhozCraig I&#39;m not sure what you are implying. You can ignore that statement, that is for testing.","body":"@WhozCraig I&#39;m not sure what you are implying. You can ignore that statement, that is for testing."},{"owner":{"account_id":1392510,"reputation":65518,"user_id":1322972,"display_name":"WhozCraig"},"score":0,"creation_date":1394682968,"post_id":22368441,"comment_id":34002666,"body_markdown":"Ok. wasn&#39;t implying anything. Was suggesting a simple caesarian cipher can often be made easier with a key table twice as long you may first expect, as it saves many calculations internally, but its not really related to what you have posted now, so I dropped it.","body":"Ok. wasn&#39;t implying anything. Was suggesting a simple caesarian cipher can often be made easier with a key table twice as long you may first expect, as it saves many calculations internally, but its not really related to what you have posted now, so I dropped it."},{"owner":{"account_id":1807266,"reputation":511,"user_id":1644123,"accept_rate":89,"display_name":"Jim22150"},"score":0,"creation_date":1394683645,"post_id":22368441,"comment_id":34002831,"body_markdown":"Oh okay, but my code wraps A-z with: `line[i] = ((line[i] - 26) + key);` so that is not needed.","body":"Oh okay, but my code wraps A-z with: <code>line[i] = ((line[i] - 26) + key);</code> so that is not needed."}],"answers":[{"tags":[],"owner":{"account_id":23463355,"reputation":26,"user_id":17517932,"display_name":"user17517932"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637942676,"creation_date":1637942596,"answer_id":70127132,"question_id":22368441,"body_markdown":"you can just upgrade the variable shift and then instead of checking overflow of increasing check the decreasing\r\n\r\n```\r\nint shift = -3;\r\nstring line = &quot;abc&quot;;\r\n\r\nfor (int i = 0; i &lt; line.length(); i++) {\r\n\r\n    if (line[i] &gt;= &#39;a&#39; &amp;&amp; line[i] &lt;= &#39;z&#39;) {\r\n\r\n\r\n\r\n        int rotate = line[i] + shift;\r\n        if (rotate &lt; &#39;a&#39;) line[i] = ((line[i] + 26) + shift);\r\n        else line[i] = rotate;\r\n\r\n    }\r\n\r\n}\r\n\r\ncout &lt;&lt; line &lt;&lt; endl;\r\n```\r\n\r\n\r\n\r\nyou can also do the below if in your loop if you want to handle uppercases\r\n\r\n\r\n```\r\nif (line[i] &gt;= &#39;A&#39; &amp;&amp; line[i] &lt;= &#39;Z&#39;) {\r\n\r\n        int rotate = line[i] + shift;\r\n        if (rotate &lt; &#39;A&#39;) line[i] = ((line[i] + 26) + shift);\r\n        else line[i] = rotate;\r\n\r\n    }\r\n```","title":"JavaScript, Java, Php, or C++ cipher encryption - reworking algorithm","body":"<p>you can just upgrade the variable shift and then instead of checking overflow of increasing check the decreasing</p>\n<pre><code>int shift = -3;\nstring line = &quot;abc&quot;;\n\nfor (int i = 0; i &lt; line.length(); i++) {\n\n    if (line[i] &gt;= 'a' &amp;&amp; line[i] &lt;= 'z') {\n\n\n\n        int rotate = line[i] + shift;\n        if (rotate &lt; 'a') line[i] = ((line[i] + 26) + shift);\n        else line[i] = rotate;\n\n    }\n\n}\n\ncout &lt;&lt; line &lt;&lt; endl;\n</code></pre>\n<p>you can also do the below if in your loop if you want to handle uppercases</p>\n<pre><code>if (line[i] &gt;= 'A' &amp;&amp; line[i] &lt;= 'Z') {\n\n        int rotate = line[i] + shift;\n        if (rotate &lt; 'A') line[i] = ((line[i] + 26) + shift);\n        else line[i] = rotate;\n\n    }\n</code></pre>\n"}],"owner":{"account_id":1807266,"reputation":511,"user_id":1644123,"accept_rate":89,"display_name":"Jim22150"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70127132,"answer_count":1,"score":0,"last_activity_date":1637942676,"creation_date":1394681023,"question_id":22368441,"body_markdown":"I am trying to implement a loop that encrypts a string to the given shift amount of `int shift`. The code below works great, however I&#39;d like to change the code so that it encrypts in a descending order instead of ascending. Any clues as to what to change in the algorithm? \r\n\r\n\tint shift = 3;\r\n\tstring line = &quot;abc&quot;;\r\n\r\n\tfor (int i = 0; i &lt; line.length(); i++) {\r\n\r\n\t\tif (line[i] &gt;= &#39;a&#39; &amp;&amp; line[i] &lt;= &#39;z&#39;) {\r\n\r\n\t\t\tint rotate = line[i] + shift;\r\n\t\t\tif (rotate &gt; &#39;z&#39;) line[i] = ((line[i] - 26) + shift);\r\n\t\t\telse line[i] = rotate;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tcout &lt;&lt; line &lt;&lt; endl;\r\n\r\n\r\n\r\nWith a shift of 3, the above code converts `string line` **&quot;abc&quot;** to **&quot;def&quot;**, but I am trying to get the output of **&quot;dcb&quot;**. \r\n\r\n - NOTE: The code is in C++ but I will accept JavaScript, Java, or Php suggestions just as C++, as long as it&#39;s raw code with no library resources. Thanks guys and gals.","title":"JavaScript, Java, Php, or C++ cipher encryption - reworking algorithm","body":"<p>I am trying to implement a loop that encrypts a string to the given shift amount of <code>int shift</code>. The code below works great, however I'd like to change the code so that it encrypts in a descending order instead of ascending. Any clues as to what to change in the algorithm? </p>\n\n<pre><code>int shift = 3;\nstring line = \"abc\";\n\nfor (int i = 0; i &lt; line.length(); i++) {\n\n    if (line[i] &gt;= 'a' &amp;&amp; line[i] &lt;= 'z') {\n\n        int rotate = line[i] + shift;\n        if (rotate &gt; 'z') line[i] = ((line[i] - 26) + shift);\n        else line[i] = rotate;\n\n    }\n\n}\n\ncout &lt;&lt; line &lt;&lt; endl;\n</code></pre>\n\n<p>With a shift of 3, the above code converts <code>string line</code> <strong>\"abc\"</strong> to <strong>\"def\"</strong>, but I am trying to get the output of <strong>\"dcb\"</strong>. </p>\n\n<ul>\n<li>NOTE: The code is in C++ but I will accept JavaScript, Java, or Php suggestions just as C++, as long as it's raw code with no library resources. Thanks guys and gals.</li>\n</ul>\n"},{"tags":["java","datetime","calendar","dst","java.util.calendar"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1637799359,"post_id":70104308,"comment_id":123925437,"body_markdown":"`clear` sets a field to undefined, not zero, although I would expect the default value for MINUTE to be zero anyway.","body":"<code>clear</code> sets a field to undefined, not zero, although I would expect the default value for MINUTE to be zero anyway."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1637799720,"post_id":70104308,"comment_id":123925525,"body_markdown":"It is actual reality. The local time has somewhere a gap of an hour, or repeats an hour. Exact time should fall back on UTC. Try a day later.","body":"It is actual reality. The local time has somewhere a gap of an hour, or repeats an hour. Exact time should fall back on UTC. Try a day later."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1637824141,"post_id":70104308,"comment_id":123929790,"body_markdown":"I have reproduced. Also with `oneAMPDT.set(Calendar.MINUTE, 0);` instead, same result.","body":"I have reproduced. Also with <code>oneAMPDT.set(Calendar.MINUTE, 0);</code> instead, same result."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1637877467,"post_id":70104308,"comment_id":123948492,"body_markdown":"I spent an hour looking at the source of Calendar and GregorianCalendar, and I still can’t figure out why this happens.  I do know that clear(MINUTE) changes the DST_OFFSET field to zero, but I can’t figure out why.","body":"I spent an hour looking at the source of Calendar and GregorianCalendar, and I still can’t figure out why this happens.  I do know that clear(MINUTE) changes the DST_OFFSET field to zero, but I can’t figure out why."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1637942411,"creation_date":1637799849,"answer_id":70104503,"question_id":70104308,"body_markdown":"# Avoid legacy date-time classes; convert if needed\r\n\r\nAs you noted, `Calendar` was supplanted years ago by the *java.time* classes defined in JSR 310 (unanimously adopted). And as you note there are *many* reasons to avoid using `Calendar` &amp; `Date` etc.\r\n\r\nIf you must have a `Calendar` object to interoperate with old code not yet updated to *java.time*, convert after doing your work in *java.time*.\r\n\r\n# *java.time*\r\n\r\nSpecify your desired time zone. Note that `US/Pacific` is merely an alias for the actual time zone, `America/Los_Angeles`. \r\n\r\n    ZoneId zLosAngeles = ZoneId.of( &quot;America/Los_Angeles&quot; ) ;\r\n\r\nSpecify your desired moment.\r\n\r\n    LocalDate ld = LocalDate.of( 2021 , Month.NOVEMBER , 7 ) ;\r\n\r\nIn your code, you seem to assume the first moment of the day occurs at 00:00. That is not always the case. Some dates in some time zones may start at another time. So let *java.time* determine the first moment of the day.\r\n\r\n    ZonedDateTime firstMomentOfThe7thInLosAngeles = ld.atStartOfDay( zLosAngeles ) ;\r\n\r\n&gt;firstMomentOfThe7thInLosAngeles.toString(): 2021-11-07T00:00-07:00[America/Los_Angeles]\r\n\r\nBut then you jumped to another moment, to 1 AM.\r\n\r\n    ZonedDateTime oneAmOnThe7thLosAngeles = firstMomentOfThe7thInLosAngeles.with( LocalTime.of( 1 , 0 ) ) ;\r\n\r\n&gt;oneAmOnThe7thLosAngeles.toString(): 2021-11-07T01:00-07:00[America/Los_Angeles]\r\n\r\nThat time-of-day may or may not exist on that date in that zone. The `ZonedDateTime` class will adjust if need be.\r\n\r\nYou used the name `midnightPDT` for a variable. I suggest avoiding the term `midnight` as its use confuses date-time handling with out a precise definition. I recommend using the term &quot;first moment of the day&quot; if that is what you mean. \r\n\r\nYou extract a count of milliseconds since the epoch reference of first moment of 1970 as seen in UTC, 1970-01-01T00:00Z. \r\n\r\n    Instant firstMomentOfThe7thInLosAngelesAsSeenInUtc = firstMomentOfThe7thInLosAngeles.toInstant() ;\r\n    long millisSinceEpoch_FirstMomentOf7thLosAngeles = firstMomentOfThe7thInLosAngelesAsSeenInUtc.toEpochMilli() ;\r\n\r\n&gt;firstMomentOfThe7thInLosAngelesAsSeenInUtc.toString(): 2021-11-07T07:00:00Z\r\n&gt;\r\n&gt;millisSinceEpoch_FirstMomentOf7thLosAngeles = 1636268400000\r\n\r\nAnd you do the same for our 1 AM moment.\r\n\r\n    Instant oneAmOnThe7thLosAngelesAsSeenInUtc = oneAmOnThe7thLosAngeles.toInstant() ;\r\n    long millisSinceEpoch_OneAmOn7thLosAngeles = oneAmOnThe7thLosAngelesAsSeenInUtc.toEpochMilli() ;\r\n\r\n&gt;oneAmOnThe7thLosAngelesAsSeenInUtc.toString(): 2021-11-07T08:00:00Z\r\n&gt;\r\n&gt;millisSinceEpoch_OneAmOn7thLosAngeles = 1636272000000\r\n\r\nWe should see a difference of one hour. An hour = 3,600,000 = 60 * 60 * 1,000.\r\n\r\n    long diff = ( millisSinceEpoch_OneAmOn7thLosAngeles - millisSinceEpoch_FirstMomentOf7thLosAngeles );  // 3,600,000 = 60 * 60 * 1,000.\r\n\r\n&gt;diff = 3600000\r\n\r\n## Cutover\r\n\r\nThen you go on to mention the [Daylight Saving Time (DST)][1] cutover. The cutover for DST in the United States on that date was 2 AM, not 1 AM. At the moment of 2 AM arriving, the clocks swung back to 1 AM, for a second 1:00-2:00 AM hour.\r\n\r\nTo get to that point of cutover, let&#39;s add an hour.\r\n\r\n    ZonedDateTime cutover_Addition = oneAmOnThe7thLosAngeles.plusHours( 1 );\r\n\r\n&gt;cutover_Addition = 2021-11-07T01:00-08:00[America/Los_Angeles]\r\n\r\nNotice that the time-of-day shows the same (1 AM), but the offset-from-UTC has changed from being 7 hours behind UTC to now 8 hours behind UTC. There lies the hour difference you seek.\r\n\r\nLet&#39;s get the count of milliseconds since epoch for this third moment. Before we had first moment of the day (00:00), then the first occurring 1 AM, and now we have the second occurring 1 AM on this “Fall-Back” date of November 7, 2021.\r\n\r\n    long millisSinceEpoch_Cutover = cutover_Addition.toInstant().toEpochMilli();\r\n\r\n&gt;1636275600000\r\n&gt;\r\n&gt;Duration.between( firstMomentOfThe7thInLosAngelesAsSeenInUtc , cutover_Addition.toInstant() ) = PT2H\r\n&gt;\r\n&gt;Duration.between( oneAmOnThe7thLosAngelesAsSeenInUtc , cutover_Addition.toInstant() ) = PT1H\r\n\r\nThe `ZonedDateTime` class does offer a pair of methods of use at these moments of cutover: `withEarlierOffsetAtOverlap` and `withLaterOffsetAtOverlap`. \r\n\r\n```java\r\nZonedDateTime cutover_OverlapEarlier =\r\n        cutover_Addition\r\n                .withEarlierOffsetAtOverlap();\r\nZonedDateTime cutover_OverlapLater =\r\n        cutover_Addition\r\n                .withLaterOffsetAtOverlap();\r\n```\r\n\r\n&gt;cutover_OverlapEarlier = 2021-11-07T01:00-07:00[America/Los_Angeles]\r\n&gt;\r\n&gt;cutover_OverlapLater = 2021-11-07T01:00-08:00[America/Los_Angeles]\r\n\r\n## `Calendar`\r\n\r\nIf you really need a `Calendar` object, just convert.\r\n\r\n    Calendar x = GregorianCalendar.from( firstMomentOfThe7thInLosAngeles ) ;\r\n    Calendar y = GregorianCalendar.from( oneAmOnThe7thLosAngeles ) ;\r\n    Calendar z = GregorianCalendar.from( cutover_Addition );\r\n\r\nIf you goal is simply struggling with understanding `Calendar` class behavior, I suggest you stop the masochism. There is no point. Sun, Oracle, and the JCP community [all gave up][2] on those terrible legacy date-time classes. I suggest you do the same.\r\n\r\n## Example code\r\n\r\nPulling together all that code above.\r\n\r\n```java\r\nZoneId zLosAngeles = ZoneId.of( &quot;America/Los_Angeles&quot; );\r\n\r\nLocalDate ld = LocalDate.of( 2021 , Month.NOVEMBER , 7 );\r\n\r\nZonedDateTime firstMomentOfThe7thInLosAngeles = ld.atStartOfDay( zLosAngeles );\r\nZonedDateTime oneAmOnThe7thLosAngeles = firstMomentOfThe7thInLosAngeles.with( LocalTime.of( 1 , 0 ) );\r\n\r\nInstant firstMomentOfThe7thInLosAngelesAsSeenInUtc = firstMomentOfThe7thInLosAngeles.toInstant();\r\nlong millisSinceEpoch_FirstMomentOf7thLosAngeles = firstMomentOfThe7thInLosAngelesAsSeenInUtc.toEpochMilli();\r\n\r\nInstant oneAmOnThe7thLosAngelesAsSeenInUtc = oneAmOnThe7thLosAngeles.toInstant();\r\nlong millisSinceEpoch_OneAmOn7thLosAngeles = oneAmOnThe7thLosAngelesAsSeenInUtc.toEpochMilli();\r\n\r\nlong diff = ( millisSinceEpoch_OneAmOn7thLosAngeles - millisSinceEpoch_FirstMomentOf7thLosAngeles );  // 3,600,000 = 60 * 60 * 1,000.\r\n\r\nZonedDateTime cutover_Addition = oneAmOnThe7thLosAngeles.plusHours( 1 );\r\nlong millisSinceEpoch_Cutover = cutover_Addition.toInstant().toEpochMilli();\r\nZonedDateTime cutover_OverlapEarlier =\r\n        cutover_Addition\r\n                .withEarlierOffsetAtOverlap();\r\nZonedDateTime cutover_OverlapLater =\r\n        cutover_Addition\r\n                .withLaterOffsetAtOverlap();\r\n```\r\n\r\nConvert to legacy classes, if need be.\r\n\r\n```java\r\nCalendar x = GregorianCalendar.from( firstMomentOfThe7thInLosAngeles );\r\nCalendar y = GregorianCalendar.from( oneAmOnThe7thLosAngeles );\r\nCalendar z = GregorianCalendar.from( cutover_Addition );\r\n```\r\n\r\nDump to console.\r\n\r\n```java\r\nSystem.out.println( &quot;firstMomentOfThe7thInLosAngeles = &quot; + firstMomentOfThe7thInLosAngeles );\r\nSystem.out.println( &quot;oneAmOnThe7thLosAngeles = &quot; + oneAmOnThe7thLosAngeles );\r\n\r\nSystem.out.println( &quot;firstMomentOfThe7thInLosAngelesAsSeenInUtc = &quot; + firstMomentOfThe7thInLosAngelesAsSeenInUtc );\r\nSystem.out.println( &quot;millisSinceEpoch_FirstMomentOf7thLosAngeles = &quot; + millisSinceEpoch_FirstMomentOf7thLosAngeles );\r\n\r\nSystem.out.println( &quot;oneAmOnThe7thLosAngelesAsSeenInUtc = &quot; + oneAmOnThe7thLosAngelesAsSeenInUtc );\r\nSystem.out.println( &quot;millisSinceEpoch_OneAmOn7thLosAngeles = &quot; + millisSinceEpoch_OneAmOn7thLosAngeles );\r\n\r\nSystem.out.println( &quot;diff = &quot; + diff );\r\n\r\nSystem.out.println( &quot;x = &quot; + x );\r\nSystem.out.println( &quot;y = &quot; + y );\r\nSystem.out.println( &quot;z = &quot; + z );\r\n\r\nSystem.out.println( &quot;cutover_Addition = &quot; + cutover_Addition );\r\nSystem.out.println( &quot;millisSinceEpoch_Cutover = &quot; + millisSinceEpoch_Cutover );\r\nSystem.out.println( &quot;Duration.between( firstMomentOfThe7thInLosAngelesAsSeenInUtc , cutover_Addition.toInstant() ) = &quot; + Duration.between( firstMomentOfThe7thInLosAngelesAsSeenInUtc , cutover_Addition.toInstant() ) );\r\nSystem.out.println( &quot;Duration.between( oneAmOnThe7thLosAngelesAsSeenInUtc , cutover_Addition.toInstant() ) = &quot; + Duration.between( oneAmOnThe7thLosAngelesAsSeenInUtc , cutover_Addition.toInstant() ) );\r\nSystem.out.println( &quot;cutover_OverlapEarlier = &quot; + cutover_OverlapEarlier );\r\nSystem.out.println( &quot;cutover_OverlapLater = &quot; + cutover_OverlapLater );\r\n```\r\n\r\nWhen run.\r\n\r\n```none\r\nfirstMomentOfThe7thInLosAngeles = 2021-11-07T00:00-07:00[America/Los_Angeles]\r\noneAmOnThe7thLosAngeles = 2021-11-07T01:00-07:00[America/Los_Angeles]\r\nfirstMomentOfThe7thInLosAngelesAsSeenInUtc = 2021-11-07T07:00:00Z\r\nmillisSinceEpoch_FirstMomentOf7thLosAngeles = 1636268400000\r\noneAmOnThe7thLosAngelesAsSeenInUtc = 2021-11-07T08:00:00Z\r\nmillisSinceEpoch_OneAmOn7thLosAngeles = 1636272000000\r\ndiff = 3600000\r\nx = java.util.GregorianCalendar[time=1636268400000,areFieldsSet=true,areAllFieldsSet=true,lenient=true,zone=sun.util.calendar.ZoneInfo[id=&quot;America/Los_Angeles&quot;,offset=-28800000,dstSavings=3600000,useDaylight=true,transitions=185,lastRule=java.util.SimpleTimeZone[id=America/Los_Angeles,offset=-28800000,dstSavings=3600000,useDaylight=true,startYear=0,startMode=3,startMonth=2,startDay=8,startDayOfWeek=1,startTime=7200000,startTimeMode=0,endMode=3,endMonth=10,endDay=1,endDayOfWeek=1,endTime=7200000,endTimeMode=0]],firstDayOfWeek=2,minimalDaysInFirstWeek=4,ERA=1,YEAR=2021,MONTH=10,WEEK_OF_YEAR=44,WEEK_OF_MONTH=1,DAY_OF_MONTH=7,DAY_OF_YEAR=311,DAY_OF_WEEK=1,DAY_OF_WEEK_IN_MONTH=1,AM_PM=0,HOUR=0,HOUR_OF_DAY=0,MINUTE=0,SECOND=0,MILLISECOND=0,ZONE_OFFSET=-28800000,DST_OFFSET=3600000]\r\ny = java.util.GregorianCalendar[time=1636272000000,areFieldsSet=true,areAllFieldsSet=true,lenient=true,zone=sun.util.calendar.ZoneInfo[id=&quot;America/Los_Angeles&quot;,offset=-28800000,dstSavings=3600000,useDaylight=true,transitions=185,lastRule=java.util.SimpleTimeZone[id=America/Los_Angeles,offset=-28800000,dstSavings=3600000,useDaylight=true,startYear=0,startMode=3,startMonth=2,startDay=8,startDayOfWeek=1,startTime=7200000,startTimeMode=0,endMode=3,endMonth=10,endDay=1,endDayOfWeek=1,endTime=7200000,endTimeMode=0]],firstDayOfWeek=2,minimalDaysInFirstWeek=4,ERA=1,YEAR=2021,MONTH=10,WEEK_OF_YEAR=44,WEEK_OF_MONTH=1,DAY_OF_MONTH=7,DAY_OF_YEAR=311,DAY_OF_WEEK=1,DAY_OF_WEEK_IN_MONTH=1,AM_PM=0,HOUR=1,HOUR_OF_DAY=1,MINUTE=0,SECOND=0,MILLISECOND=0,ZONE_OFFSET=-28800000,DST_OFFSET=3600000]\r\nz = java.util.GregorianCalendar[time=1636275600000,areFieldsSet=true,areAllFieldsSet=true,lenient=true,zone=sun.util.calendar.ZoneInfo[id=&quot;America/Los_Angeles&quot;,offset=-28800000,dstSavings=3600000,useDaylight=true,transitions=185,lastRule=java.util.SimpleTimeZone[id=America/Los_Angeles,offset=-28800000,dstSavings=3600000,useDaylight=true,startYear=0,startMode=3,startMonth=2,startDay=8,startDayOfWeek=1,startTime=7200000,startTimeMode=0,endMode=3,endMonth=10,endDay=1,endDayOfWeek=1,endTime=7200000,endTimeMode=0]],firstDayOfWeek=2,minimalDaysInFirstWeek=4,ERA=1,YEAR=2021,MONTH=10,WEEK_OF_YEAR=44,WEEK_OF_MONTH=1,DAY_OF_MONTH=7,DAY_OF_YEAR=311,DAY_OF_WEEK=1,DAY_OF_WEEK_IN_MONTH=1,AM_PM=0,HOUR=1,HOUR_OF_DAY=1,MINUTE=0,SECOND=0,MILLISECOND=0,ZONE_OFFSET=-28800000,DST_OFFSET=0]\r\ncutover_Addition = 2021-11-07T01:00-08:00[America/Los_Angeles]\r\nmillisSinceEpoch_Cutover = 1636275600000\r\nDuration.between( firstMomentOfThe7thInLosAngelesAsSeenInUtc , cutover_Addition.toInstant() ) = PT2H\r\nDuration.between( oneAmOnThe7thLosAngelesAsSeenInUtc , cutover_Addition.toInstant() ) = PT1H\r\ncutover_OverlapEarlier = 2021-11-07T01:00-07:00[America/Los_Angeles]\r\ncutover_OverlapLater = 2021-11-07T01:00-08:00[America/Los_Angeles]\r\n```\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Daylight_saving_time\r\n  [2]: https://jcp.org/en/jsr/results?id=4160","title":"Java Calendar clear() changes DST","body":"<h1>Avoid legacy date-time classes; convert if needed</h1>\n<p>As you noted, <code>Calendar</code> was supplanted years ago by the <em>java.time</em> classes defined in JSR 310 (unanimously adopted). And as you note there are <em>many</em> reasons to avoid using <code>Calendar</code> &amp; <code>Date</code> etc.</p>\n<p>If you must have a <code>Calendar</code> object to interoperate with old code not yet updated to <em>java.time</em>, convert after doing your work in <em>java.time</em>.</p>\n<h1><em>java.time</em></h1>\n<p>Specify your desired time zone. Note that <code>US/Pacific</code> is merely an alias for the actual time zone, <code>America/Los_Angeles</code>.</p>\n<pre><code>ZoneId zLosAngeles = ZoneId.of( &quot;America/Los_Angeles&quot; ) ;\n</code></pre>\n<p>Specify your desired moment.</p>\n<pre><code>LocalDate ld = LocalDate.of( 2021 , Month.NOVEMBER , 7 ) ;\n</code></pre>\n<p>In your code, you seem to assume the first moment of the day occurs at 00:00. That is not always the case. Some dates in some time zones may start at another time. So let <em>java.time</em> determine the first moment of the day.</p>\n<pre><code>ZonedDateTime firstMomentOfThe7thInLosAngeles = ld.atStartOfDay( zLosAngeles ) ;\n</code></pre>\n<blockquote>\n<p>firstMomentOfThe7thInLosAngeles.toString(): 2021-11-07T00:00-07:00[America/Los_Angeles]</p>\n</blockquote>\n<p>But then you jumped to another moment, to 1 AM.</p>\n<pre><code>ZonedDateTime oneAmOnThe7thLosAngeles = firstMomentOfThe7thInLosAngeles.with( LocalTime.of( 1 , 0 ) ) ;\n</code></pre>\n<blockquote>\n<p>oneAmOnThe7thLosAngeles.toString(): 2021-11-07T01:00-07:00[America/Los_Angeles]</p>\n</blockquote>\n<p>That time-of-day may or may not exist on that date in that zone. The <code>ZonedDateTime</code> class will adjust if need be.</p>\n<p>You used the name <code>midnightPDT</code> for a variable. I suggest avoiding the term <code>midnight</code> as its use confuses date-time handling with out a precise definition. I recommend using the term &quot;first moment of the day&quot; if that is what you mean.</p>\n<p>You extract a count of milliseconds since the epoch reference of first moment of 1970 as seen in UTC, 1970-01-01T00:00Z.</p>\n<pre><code>Instant firstMomentOfThe7thInLosAngelesAsSeenInUtc = firstMomentOfThe7thInLosAngeles.toInstant() ;\nlong millisSinceEpoch_FirstMomentOf7thLosAngeles = firstMomentOfThe7thInLosAngelesAsSeenInUtc.toEpochMilli() ;\n</code></pre>\n<blockquote>\n<p>firstMomentOfThe7thInLosAngelesAsSeenInUtc.toString(): 2021-11-07T07:00:00Z</p>\n<p>millisSinceEpoch_FirstMomentOf7thLosAngeles = 1636268400000</p>\n</blockquote>\n<p>And you do the same for our 1 AM moment.</p>\n<pre><code>Instant oneAmOnThe7thLosAngelesAsSeenInUtc = oneAmOnThe7thLosAngeles.toInstant() ;\nlong millisSinceEpoch_OneAmOn7thLosAngeles = oneAmOnThe7thLosAngelesAsSeenInUtc.toEpochMilli() ;\n</code></pre>\n<blockquote>\n<p>oneAmOnThe7thLosAngelesAsSeenInUtc.toString(): 2021-11-07T08:00:00Z</p>\n<p>millisSinceEpoch_OneAmOn7thLosAngeles = 1636272000000</p>\n</blockquote>\n<p>We should see a difference of one hour. An hour = 3,600,000 = 60 * 60 * 1,000.</p>\n<pre><code>long diff = ( millisSinceEpoch_OneAmOn7thLosAngeles - millisSinceEpoch_FirstMomentOf7thLosAngeles );  // 3,600,000 = 60 * 60 * 1,000.\n</code></pre>\n<blockquote>\n<p>diff = 3600000</p>\n</blockquote>\n<h2>Cutover</h2>\n<p>Then you go on to mention the <a href=\"https://en.wikipedia.org/wiki/Daylight_saving_time\" rel=\"nofollow noreferrer\">Daylight Saving Time (DST)</a> cutover. The cutover for DST in the United States on that date was 2 AM, not 1 AM. At the moment of 2 AM arriving, the clocks swung back to 1 AM, for a second 1:00-2:00 AM hour.</p>\n<p>To get to that point of cutover, let's add an hour.</p>\n<pre><code>ZonedDateTime cutover_Addition = oneAmOnThe7thLosAngeles.plusHours( 1 );\n</code></pre>\n<blockquote>\n<p>cutover_Addition = 2021-11-07T01:00-08:00[America/Los_Angeles]</p>\n</blockquote>\n<p>Notice that the time-of-day shows the same (1 AM), but the offset-from-UTC has changed from being 7 hours behind UTC to now 8 hours behind UTC. There lies the hour difference you seek.</p>\n<p>Let's get the count of milliseconds since epoch for this third moment. Before we had first moment of the day (00:00), then the first occurring 1 AM, and now we have the second occurring 1 AM on this “Fall-Back” date of November 7, 2021.</p>\n<pre><code>long millisSinceEpoch_Cutover = cutover_Addition.toInstant().toEpochMilli();\n</code></pre>\n<blockquote>\n<p>1636275600000</p>\n<p>Duration.between( firstMomentOfThe7thInLosAngelesAsSeenInUtc , cutover_Addition.toInstant() ) = PT2H</p>\n<p>Duration.between( oneAmOnThe7thLosAngelesAsSeenInUtc , cutover_Addition.toInstant() ) = PT1H</p>\n</blockquote>\n<p>The <code>ZonedDateTime</code> class does offer a pair of methods of use at these moments of cutover: <code>withEarlierOffsetAtOverlap</code> and <code>withLaterOffsetAtOverlap</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ZonedDateTime cutover_OverlapEarlier =\n        cutover_Addition\n                .withEarlierOffsetAtOverlap();\nZonedDateTime cutover_OverlapLater =\n        cutover_Addition\n                .withLaterOffsetAtOverlap();\n</code></pre>\n<blockquote>\n<p>cutover_OverlapEarlier = 2021-11-07T01:00-07:00[America/Los_Angeles]</p>\n<p>cutover_OverlapLater = 2021-11-07T01:00-08:00[America/Los_Angeles]</p>\n</blockquote>\n<h2><code>Calendar</code></h2>\n<p>If you really need a <code>Calendar</code> object, just convert.</p>\n<pre><code>Calendar x = GregorianCalendar.from( firstMomentOfThe7thInLosAngeles ) ;\nCalendar y = GregorianCalendar.from( oneAmOnThe7thLosAngeles ) ;\nCalendar z = GregorianCalendar.from( cutover_Addition );\n</code></pre>\n<p>If you goal is simply struggling with understanding <code>Calendar</code> class behavior, I suggest you stop the masochism. There is no point. Sun, Oracle, and the JCP community <a href=\"https://jcp.org/en/jsr/results?id=4160\" rel=\"nofollow noreferrer\">all gave up</a> on those terrible legacy date-time classes. I suggest you do the same.</p>\n<h2>Example code</h2>\n<p>Pulling together all that code above.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ZoneId zLosAngeles = ZoneId.of( &quot;America/Los_Angeles&quot; );\n\nLocalDate ld = LocalDate.of( 2021 , Month.NOVEMBER , 7 );\n\nZonedDateTime firstMomentOfThe7thInLosAngeles = ld.atStartOfDay( zLosAngeles );\nZonedDateTime oneAmOnThe7thLosAngeles = firstMomentOfThe7thInLosAngeles.with( LocalTime.of( 1 , 0 ) );\n\nInstant firstMomentOfThe7thInLosAngelesAsSeenInUtc = firstMomentOfThe7thInLosAngeles.toInstant();\nlong millisSinceEpoch_FirstMomentOf7thLosAngeles = firstMomentOfThe7thInLosAngelesAsSeenInUtc.toEpochMilli();\n\nInstant oneAmOnThe7thLosAngelesAsSeenInUtc = oneAmOnThe7thLosAngeles.toInstant();\nlong millisSinceEpoch_OneAmOn7thLosAngeles = oneAmOnThe7thLosAngelesAsSeenInUtc.toEpochMilli();\n\nlong diff = ( millisSinceEpoch_OneAmOn7thLosAngeles - millisSinceEpoch_FirstMomentOf7thLosAngeles );  // 3,600,000 = 60 * 60 * 1,000.\n\nZonedDateTime cutover_Addition = oneAmOnThe7thLosAngeles.plusHours( 1 );\nlong millisSinceEpoch_Cutover = cutover_Addition.toInstant().toEpochMilli();\nZonedDateTime cutover_OverlapEarlier =\n        cutover_Addition\n                .withEarlierOffsetAtOverlap();\nZonedDateTime cutover_OverlapLater =\n        cutover_Addition\n                .withLaterOffsetAtOverlap();\n</code></pre>\n<p>Convert to legacy classes, if need be.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Calendar x = GregorianCalendar.from( firstMomentOfThe7thInLosAngeles );\nCalendar y = GregorianCalendar.from( oneAmOnThe7thLosAngeles );\nCalendar z = GregorianCalendar.from( cutover_Addition );\n</code></pre>\n<p>Dump to console.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println( &quot;firstMomentOfThe7thInLosAngeles = &quot; + firstMomentOfThe7thInLosAngeles );\nSystem.out.println( &quot;oneAmOnThe7thLosAngeles = &quot; + oneAmOnThe7thLosAngeles );\n\nSystem.out.println( &quot;firstMomentOfThe7thInLosAngelesAsSeenInUtc = &quot; + firstMomentOfThe7thInLosAngelesAsSeenInUtc );\nSystem.out.println( &quot;millisSinceEpoch_FirstMomentOf7thLosAngeles = &quot; + millisSinceEpoch_FirstMomentOf7thLosAngeles );\n\nSystem.out.println( &quot;oneAmOnThe7thLosAngelesAsSeenInUtc = &quot; + oneAmOnThe7thLosAngelesAsSeenInUtc );\nSystem.out.println( &quot;millisSinceEpoch_OneAmOn7thLosAngeles = &quot; + millisSinceEpoch_OneAmOn7thLosAngeles );\n\nSystem.out.println( &quot;diff = &quot; + diff );\n\nSystem.out.println( &quot;x = &quot; + x );\nSystem.out.println( &quot;y = &quot; + y );\nSystem.out.println( &quot;z = &quot; + z );\n\nSystem.out.println( &quot;cutover_Addition = &quot; + cutover_Addition );\nSystem.out.println( &quot;millisSinceEpoch_Cutover = &quot; + millisSinceEpoch_Cutover );\nSystem.out.println( &quot;Duration.between( firstMomentOfThe7thInLosAngelesAsSeenInUtc , cutover_Addition.toInstant() ) = &quot; + Duration.between( firstMomentOfThe7thInLosAngelesAsSeenInUtc , cutover_Addition.toInstant() ) );\nSystem.out.println( &quot;Duration.between( oneAmOnThe7thLosAngelesAsSeenInUtc , cutover_Addition.toInstant() ) = &quot; + Duration.between( oneAmOnThe7thLosAngelesAsSeenInUtc , cutover_Addition.toInstant() ) );\nSystem.out.println( &quot;cutover_OverlapEarlier = &quot; + cutover_OverlapEarlier );\nSystem.out.println( &quot;cutover_OverlapLater = &quot; + cutover_OverlapLater );\n</code></pre>\n<p>When run.</p>\n<pre class=\"lang-none prettyprint-override\"><code>firstMomentOfThe7thInLosAngeles = 2021-11-07T00:00-07:00[America/Los_Angeles]\noneAmOnThe7thLosAngeles = 2021-11-07T01:00-07:00[America/Los_Angeles]\nfirstMomentOfThe7thInLosAngelesAsSeenInUtc = 2021-11-07T07:00:00Z\nmillisSinceEpoch_FirstMomentOf7thLosAngeles = 1636268400000\noneAmOnThe7thLosAngelesAsSeenInUtc = 2021-11-07T08:00:00Z\nmillisSinceEpoch_OneAmOn7thLosAngeles = 1636272000000\ndiff = 3600000\nx = java.util.GregorianCalendar[time=1636268400000,areFieldsSet=true,areAllFieldsSet=true,lenient=true,zone=sun.util.calendar.ZoneInfo[id=&quot;America/Los_Angeles&quot;,offset=-28800000,dstSavings=3600000,useDaylight=true,transitions=185,lastRule=java.util.SimpleTimeZone[id=America/Los_Angeles,offset=-28800000,dstSavings=3600000,useDaylight=true,startYear=0,startMode=3,startMonth=2,startDay=8,startDayOfWeek=1,startTime=7200000,startTimeMode=0,endMode=3,endMonth=10,endDay=1,endDayOfWeek=1,endTime=7200000,endTimeMode=0]],firstDayOfWeek=2,minimalDaysInFirstWeek=4,ERA=1,YEAR=2021,MONTH=10,WEEK_OF_YEAR=44,WEEK_OF_MONTH=1,DAY_OF_MONTH=7,DAY_OF_YEAR=311,DAY_OF_WEEK=1,DAY_OF_WEEK_IN_MONTH=1,AM_PM=0,HOUR=0,HOUR_OF_DAY=0,MINUTE=0,SECOND=0,MILLISECOND=0,ZONE_OFFSET=-28800000,DST_OFFSET=3600000]\ny = java.util.GregorianCalendar[time=1636272000000,areFieldsSet=true,areAllFieldsSet=true,lenient=true,zone=sun.util.calendar.ZoneInfo[id=&quot;America/Los_Angeles&quot;,offset=-28800000,dstSavings=3600000,useDaylight=true,transitions=185,lastRule=java.util.SimpleTimeZone[id=America/Los_Angeles,offset=-28800000,dstSavings=3600000,useDaylight=true,startYear=0,startMode=3,startMonth=2,startDay=8,startDayOfWeek=1,startTime=7200000,startTimeMode=0,endMode=3,endMonth=10,endDay=1,endDayOfWeek=1,endTime=7200000,endTimeMode=0]],firstDayOfWeek=2,minimalDaysInFirstWeek=4,ERA=1,YEAR=2021,MONTH=10,WEEK_OF_YEAR=44,WEEK_OF_MONTH=1,DAY_OF_MONTH=7,DAY_OF_YEAR=311,DAY_OF_WEEK=1,DAY_OF_WEEK_IN_MONTH=1,AM_PM=0,HOUR=1,HOUR_OF_DAY=1,MINUTE=0,SECOND=0,MILLISECOND=0,ZONE_OFFSET=-28800000,DST_OFFSET=3600000]\nz = java.util.GregorianCalendar[time=1636275600000,areFieldsSet=true,areAllFieldsSet=true,lenient=true,zone=sun.util.calendar.ZoneInfo[id=&quot;America/Los_Angeles&quot;,offset=-28800000,dstSavings=3600000,useDaylight=true,transitions=185,lastRule=java.util.SimpleTimeZone[id=America/Los_Angeles,offset=-28800000,dstSavings=3600000,useDaylight=true,startYear=0,startMode=3,startMonth=2,startDay=8,startDayOfWeek=1,startTime=7200000,startTimeMode=0,endMode=3,endMonth=10,endDay=1,endDayOfWeek=1,endTime=7200000,endTimeMode=0]],firstDayOfWeek=2,minimalDaysInFirstWeek=4,ERA=1,YEAR=2021,MONTH=10,WEEK_OF_YEAR=44,WEEK_OF_MONTH=1,DAY_OF_MONTH=7,DAY_OF_YEAR=311,DAY_OF_WEEK=1,DAY_OF_WEEK_IN_MONTH=1,AM_PM=0,HOUR=1,HOUR_OF_DAY=1,MINUTE=0,SECOND=0,MILLISECOND=0,ZONE_OFFSET=-28800000,DST_OFFSET=0]\ncutover_Addition = 2021-11-07T01:00-08:00[America/Los_Angeles]\nmillisSinceEpoch_Cutover = 1636275600000\nDuration.between( firstMomentOfThe7thInLosAngelesAsSeenInUtc , cutover_Addition.toInstant() ) = PT2H\nDuration.between( oneAmOnThe7thLosAngelesAsSeenInUtc , cutover_Addition.toInstant() ) = PT1H\ncutover_OverlapEarlier = 2021-11-07T01:00-07:00[America/Los_Angeles]\ncutover_OverlapLater = 2021-11-07T01:00-08:00[America/Los_Angeles]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637871814,"creation_date":1637825488,"answer_id":70107271,"question_id":70104308,"body_markdown":"## java.time\r\n\r\n*Is this expected behavior?* No. I consider it a bug.\r\n\r\n*Is there a way to prevent this?* Yes, the way you already mentioned or at least implied: use `ZonedDateTime` instead of `Calendar`. Basil Bourque has said it already. As a modest supplement I wanted to show the full round-trip from `Calendar` to `ZonedDateTime`, setting minute to 0 and converting back to `Calendar`. In case you need this for interoperability with your legacy code. \r\n\r\n        GregorianCalendar oneAmPdt = new GregorianCalendar(TimeZone.getTimeZone(ZoneId.of(&quot;America/Los_Angeles&quot;)));\r\n        oneAmPdt.clear();\r\n        oneAmPdt.set(2021, Calendar.NOVEMBER, 7, 0, 0);\r\n        oneAmPdt.add(Calendar.HOUR_OF_DAY, 1);\r\n        System.out.println(oneAmPdt.getTime());\r\n\r\n        ZonedDateTime zdt = oneAmPdt.toZonedDateTime();\r\n\r\n        // Minute is already 0 so no change should occur... RIGHT!?\r\n        zdt = zdt.withMinute(0);\r\n\r\n        oneAmPdt = GregorianCalendar.from(zdt);\r\n\r\n        System.out.println(oneAmPdt.getTime());\r\n\r\nOutput:\r\n\r\n&gt;     Sun Nov 07 01:00:00 PDT 2021\r\n&gt;     Sun Nov 07 01:00:00 PDT 2021\r\n\r\nBut I used `GregorianCalendar`, not `Calendar`? So did you. `GregorianCalendar` is the subclass of `Calendar` that you got from `Calendar.getIntance()`. In some environments you would have got a different subclass reflecting the calendar system in use there, and your initial calls to `set` would not have given you your expected result. You *want* a `GregorianCalendar` in this case (if you cannot have a `ZonedDateTime` from the outset).\r\n\r\nWhen modifying our old code I would likely do it in the above way even if it wasn’t for circumventing a bug in the old `Calendar` or `GregorianCalendar` class. It’s one small step in a long-running transition to java.time.\r\n","title":"Java Calendar clear() changes DST","body":"<h2>java.time</h2>\n<p><em>Is this expected behavior?</em> No. I consider it a bug.</p>\n<p><em>Is there a way to prevent this?</em> Yes, the way you already mentioned or at least implied: use <code>ZonedDateTime</code> instead of <code>Calendar</code>. Basil Bourque has said it already. As a modest supplement I wanted to show the full round-trip from <code>Calendar</code> to <code>ZonedDateTime</code>, setting minute to 0 and converting back to <code>Calendar</code>. In case you need this for interoperability with your legacy code.</p>\n<pre><code>    GregorianCalendar oneAmPdt = new GregorianCalendar(TimeZone.getTimeZone(ZoneId.of(&quot;America/Los_Angeles&quot;)));\n    oneAmPdt.clear();\n    oneAmPdt.set(2021, Calendar.NOVEMBER, 7, 0, 0);\n    oneAmPdt.add(Calendar.HOUR_OF_DAY, 1);\n    System.out.println(oneAmPdt.getTime());\n\n    ZonedDateTime zdt = oneAmPdt.toZonedDateTime();\n\n    // Minute is already 0 so no change should occur... RIGHT!?\n    zdt = zdt.withMinute(0);\n\n    oneAmPdt = GregorianCalendar.from(zdt);\n\n    System.out.println(oneAmPdt.getTime());\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<pre><code>Sun Nov 07 01:00:00 PDT 2021\nSun Nov 07 01:00:00 PDT 2021\n</code></pre>\n</blockquote>\n<p>But I used <code>GregorianCalendar</code>, not <code>Calendar</code>? So did you. <code>GregorianCalendar</code> is the subclass of <code>Calendar</code> that you got from <code>Calendar.getIntance()</code>. In some environments you would have got a different subclass reflecting the calendar system in use there, and your initial calls to <code>set</code> would not have given you your expected result. You <em>want</em> a <code>GregorianCalendar</code> in this case (if you cannot have a <code>ZonedDateTime</code> from the outset).</p>\n<p>When modifying our old code I would likely do it in the above way even if it wasn’t for circumventing a bug in the old <code>Calendar</code> or <code>GregorianCalendar</code> class. It’s one small step in a long-running transition to java.time.</p>\n"}],"owner":{"account_id":2181364,"reputation":331,"user_id":1930783,"display_name":"Jonathan Cameron"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":70104503,"answer_count":2,"score":4,"last_activity_date":1637942411,"creation_date":1637797944,"question_id":70104308,"body_markdown":"First, I want to state that I know the Java Calendar class is being supplanted by other libraries that are arguably better. Perhaps I&#39;ve stumbled upon one of the reasons Calendar has fallen out of favor.\r\n\r\nI ran into frustrating behavior in Calendar as it regards to the overlapping hour at the end of daylight savings time.\r\n\r\n    public void annoying_issue()\r\n    {\r\n        Calendar midnightPDT = Calendar.getInstance(TimeZone.getTimeZone(&quot;US/Pacific&quot;));\r\n        midnightPDT.set(Calendar.YEAR, 2021);\r\n        midnightPDT.set(Calendar.MONTH, 10);\r\n        midnightPDT.set(Calendar.DAY_OF_MONTH, 7);\r\n        midnightPDT.set(Calendar.HOUR_OF_DAY, 0);\r\n        midnightPDT.set(Calendar.MINUTE, 0);\r\n        midnightPDT.set(Calendar.SECOND, 0);\r\n        midnightPDT.set(Calendar.MILLISECOND, 0);\r\n\r\n        Calendar oneAMPDT = Calendar.getInstance(TimeZone.getTimeZone(&quot;US/Pacific&quot;));\r\n        oneAMPDT.setTimeInMillis(midnightPDT.getTimeInMillis() + (60*60*1000));//this is the easiest way I&#39;ve found to get to the first 1am hour at DST overlap\r\n\r\n        System.out.println(new Date(midnightPDT.getTimeInMillis()));//prints the expected &quot;Sun Nov 7 00:00:00 PDT 2021&quot; \r\n        System.out.println(new Date(oneAMPDT.getTimeInMillis()));//prints &quot;Sun Nov 7 01:00:00 PDT 2021&quot; also expected\r\n\r\n        oneAMPDT.clear(Calendar.MINUTE);//minute is already 0 so no change should occur... RIGHT!? \r\n        \r\n        //WRONG!!!!\r\n        //The time is now in PST! The millisecond value has increased by 3600000, too!!\r\n        System.out.println(new Date(oneAMPDT.getTimeInMillis()));//prints &quot;Sun Nov 7 01:00:00 PST 2021&quot;\r\n    }\r\n\r\nFollowing along with the comments you&#39;ll see that clearing the MINUTE field in the calendar actually moved it up an hour! The HECK!?\r\n\r\nThis also occurs when I use `oneAMPDT.set(Calendar.MINUTE, 0)`\r\n\r\nIs this expected behavior? Is there a way to prevent this?\r\n\r\n","title":"Java Calendar clear() changes DST","body":"<p>First, I want to state that I know the Java Calendar class is being supplanted by other libraries that are arguably better. Perhaps I've stumbled upon one of the reasons Calendar has fallen out of favor.</p>\n<p>I ran into frustrating behavior in Calendar as it regards to the overlapping hour at the end of daylight savings time.</p>\n<pre><code>public void annoying_issue()\n{\n    Calendar midnightPDT = Calendar.getInstance(TimeZone.getTimeZone(&quot;US/Pacific&quot;));\n    midnightPDT.set(Calendar.YEAR, 2021);\n    midnightPDT.set(Calendar.MONTH, 10);\n    midnightPDT.set(Calendar.DAY_OF_MONTH, 7);\n    midnightPDT.set(Calendar.HOUR_OF_DAY, 0);\n    midnightPDT.set(Calendar.MINUTE, 0);\n    midnightPDT.set(Calendar.SECOND, 0);\n    midnightPDT.set(Calendar.MILLISECOND, 0);\n\n    Calendar oneAMPDT = Calendar.getInstance(TimeZone.getTimeZone(&quot;US/Pacific&quot;));\n    oneAMPDT.setTimeInMillis(midnightPDT.getTimeInMillis() + (60*60*1000));//this is the easiest way I've found to get to the first 1am hour at DST overlap\n\n    System.out.println(new Date(midnightPDT.getTimeInMillis()));//prints the expected &quot;Sun Nov 7 00:00:00 PDT 2021&quot; \n    System.out.println(new Date(oneAMPDT.getTimeInMillis()));//prints &quot;Sun Nov 7 01:00:00 PDT 2021&quot; also expected\n\n    oneAMPDT.clear(Calendar.MINUTE);//minute is already 0 so no change should occur... RIGHT!? \n    \n    //WRONG!!!!\n    //The time is now in PST! The millisecond value has increased by 3600000, too!!\n    System.out.println(new Date(oneAMPDT.getTimeInMillis()));//prints &quot;Sun Nov 7 01:00:00 PST 2021&quot;\n}\n</code></pre>\n<p>Following along with the comments you'll see that clearing the MINUTE field in the calendar actually moved it up an hour! The HECK!?</p>\n<p>This also occurs when I use <code>oneAMPDT.set(Calendar.MINUTE, 0)</code></p>\n<p>Is this expected behavior? Is there a way to prevent this?</p>\n"},{"tags":["java","c++","g++","java-native-interface"],"comments":[{"owner":{"account_id":7195349,"reputation":33494,"user_id":5494370,"display_name":"Alan Birtles"},"score":1,"creation_date":1637947634,"post_id":70126930,"comment_id":123966641,"body_markdown":"have you tried using a debugger? I&#39;d imagine `JNI_CreateJavaVM` is crashing for some reason. For example on my machine your code shows exactly these symptoms if the jvm dll is not available","body":"have you tried using a debugger? I&#39;d imagine <code>JNI_CreateJavaVM</code> is crashing for some reason. For example on my machine your code shows exactly these symptoms if the jvm dll is not available"},{"owner":{"account_id":6814076,"reputation":12697,"user_id":5295429,"display_name":"Oo.oO"},"score":0,"creation_date":1637950075,"post_id":70126930,"comment_id":123967361,"body_markdown":"Looks like a `Windows` specific issue. On `macOS` this code works perfectly well (regardless of wether the line is commented out or left uncommented). Java - `1.8.0_251`. Are you sure that your code doesn&#39;t crash on line: `jint res = JNI_CreateJavaVM(&amp;jvm, (void**)&amp;env, &amp;vm_args);`","body":"Looks like a <code>Windows</code> specific issue. On <code>macOS</code> this code works perfectly well (regardless of wether the line is commented out or left uncommented). Java - <code>1.8.0_251</code>. Are you sure that your code doesn&#39;t crash on line: <code>jint res = JNI_CreateJavaVM(&amp;jvm, (void**)&amp;env, &amp;vm_args);</code>"},{"owner":{"account_id":21108700,"reputation":19,"user_id":15517151,"display_name":"hackedXD"},"score":0,"creation_date":1637982324,"post_id":70126930,"comment_id":123972967,"body_markdown":"@AlanBirtles i tried setting up the debugger on windows, but get a completley different problem where nothing happens for cpp.\n\nVideo Here - https://youtu.be/zB1zemDGhO0","body":"@AlanBirtles i tried setting up the debugger on windows, but get a completley different problem where nothing happens for cpp.  Video Here - <a href=\"https://youtu.be/zB1zemDGhO0\" rel=\"nofollow noreferrer\">youtu.be/zB1zemDGhO0</a>"},{"owner":{"account_id":7195349,"reputation":33494,"user_id":5494370,"display_name":"Alan Birtles"},"score":0,"creation_date":1637992937,"post_id":70126930,"comment_id":123974152,"body_markdown":"Yep, `c0000135` indicates a missing dll, you need to have the jvm dll available on your path","body":"Yep, <code>c0000135</code> indicates a missing dll, you need to have the jvm dll available on your path"}],"owner":{"account_id":21108700,"reputation":19,"user_id":15517151,"display_name":"hackedXD"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1637993027,"answer_count":0,"score":0,"last_activity_date":1637942239,"creation_date":1637941568,"question_id":70126930,"body_markdown":"I&#39;m pretty new to c++, and I started of with jni. When I use the `JNI_CreateJavaVM` method, `cout` doesn&#39;t work(at least with the g++ build command I&#39;m using)\r\n\r\n```none\r\ng++ main.cpp -o main.exe -IC:\\Program Files\\Java\\jdk1.8.0_311\\include -IC:\\Program Files\\Java\\jdk1.8.0_311\\include\\win32 -LC:\\Program Files\\Java\\jdk1.8.0_311\\lib -ljvm\r\n```\r\n```\r\n#include &lt;jni.h&gt;\r\n#include &lt;iostream&gt;\r\n\r\nusing namespace std;\r\n\r\nint main() {\r\n    JavaVM *jvm;\r\n    JNIEnv *env;\r\n\r\n    JavaVMInitArgs vm_args;\r\n    JavaVMOption* options = new JavaVMOption[1];\r\n    options[0].optionString = (char*) &quot;-Djava.class.path=.&quot;;\r\n    vm_args.version = JNI_VERSION_1_6;\r\n    vm_args.nOptions = 1;\r\n    vm_args.options = options;\r\n    vm_args.ignoreUnrecognized = false;\r\n\r\n    // jint res = JNI_CreateJavaVM(&amp;jvm, (void**)&amp;env, &amp;vm_args);\r\n\r\n    cout &lt;&lt; &quot;It Works!&quot; &lt;&lt; endl;\r\n    return 0;\r\n}\r\n```\r\n The commented line, when added results in the `cout` not working at all and I&#39;m not sure why.\r\n","title":"After creation of JNI_CreateJavaVM, cout no longer works?","body":"<p>I'm pretty new to c++, and I started of with jni. When I use the <code>JNI_CreateJavaVM</code> method, <code>cout</code> doesn't work(at least with the g++ build command I'm using)</p>\n<pre class=\"lang-none prettyprint-override\"><code>g++ main.cpp -o main.exe -IC:\\Program Files\\Java\\jdk1.8.0_311\\include -IC:\\Program Files\\Java\\jdk1.8.0_311\\include\\win32 -LC:\\Program Files\\Java\\jdk1.8.0_311\\lib -ljvm\n</code></pre>\n<pre><code>#include &lt;jni.h&gt;\n#include &lt;iostream&gt;\n\nusing namespace std;\n\nint main() {\n    JavaVM *jvm;\n    JNIEnv *env;\n\n    JavaVMInitArgs vm_args;\n    JavaVMOption* options = new JavaVMOption[1];\n    options[0].optionString = (char*) &quot;-Djava.class.path=.&quot;;\n    vm_args.version = JNI_VERSION_1_6;\n    vm_args.nOptions = 1;\n    vm_args.options = options;\n    vm_args.ignoreUnrecognized = false;\n\n    // jint res = JNI_CreateJavaVM(&amp;jvm, (void**)&amp;env, &amp;vm_args);\n\n    cout &lt;&lt; &quot;It Works!&quot; &lt;&lt; endl;\n    return 0;\n}\n</code></pre>\n<p>The commented line, when added results in the <code>cout</code> not working at all and I'm not sure why.</p>\n"},{"tags":["java","spring","spring-boot","dependency-injection"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1637941866,"post_id":70126753,"comment_id":123964775,"body_markdown":"`baseProcessors` != `basicProcessors`.","body":"<code>baseProcessors</code> != <code>basicProcessors</code>."},{"owner":{"account_id":366566,"reputation":1798,"user_id":712183,"accept_rate":70,"display_name":"Ray"},"score":0,"creation_date":1637942006,"post_id":70126753,"comment_id":123964832,"body_markdown":"@M.Deinum Good remark. It&#39;s misspelling. I&#39;ll fix it in question.","body":"@M.Deinum Good remark. It&#39;s misspelling. I&#39;ll fix it in question."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1637942164,"post_id":70126753,"comment_id":123964903,"body_markdown":"And even with that, how are you constructing those beans? There is no `@Component`, `@Autowired` is in the wrong place, please provide code that does actually match your code. Basically what you are trying should just work, also why not write a proper `@Qualifier` annotation put that on your processors and inject them based on that.","body":"And even with that, how are you constructing those beans? There is no <code>@Component</code>, <code>@Autowired</code> is in the wrong place, please provide code that does actually match your code. Basically what you are trying should just work, also why not write a proper <code>@Qualifier</code> annotation put that on your processors and inject them based on that."},{"owner":{"account_id":366566,"reputation":1798,"user_id":712183,"accept_rate":70,"display_name":"Ray"},"score":0,"creation_date":1637942373,"post_id":70126753,"comment_id":123964997,"body_markdown":"Yes, thanks for your attention. I try to provide minimum sample. But it looks like my mistake was with configuration `ProcessorsConfiguration` split on 2 different packages","body":"Yes, thanks for your attention. I try to provide minimum sample. But it looks like my mistake was with configuration <code>ProcessorsConfiguration</code> split on 2 different packages"},{"owner":{"account_id":366566,"reputation":1798,"user_id":712183,"accept_rate":70,"display_name":"Ray"},"score":0,"creation_date":1637942747,"post_id":70126753,"comment_id":123965153,"body_markdown":"@M.Deinum I didn&#39;t get your proposal: &quot; why not write a proper Qualifier annotation put that on your processors and inject them based on that.&quot; Could you provide a sample?","body":"@M.Deinum I didn&#39;t get your proposal: &quot; why not write a proper Qualifier annotation put that on your processors and inject them based on that.&quot; Could you provide a sample?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1637943430,"post_id":70126753,"comment_id":123965387,"body_markdown":"You can create an annotation that itself is annotated with `@Qualifier` you can then put those annotations on the `Processor` implementation (1 or more of those) and inject them based on the qualifier. You can then do something like `@AdvancedProcessor List&lt;Processor&gt; processors` without defining a specific bean for it.","body":"You can create an annotation that itself is annotated with <code>@Qualifier</code> you can then put those annotations on the <code>Processor</code> implementation (1 or more of those) and inject them based on the qualifier. You can then do something like <code>@AdvancedProcessor List&lt;Processor&gt; processors</code> without defining a specific bean for it."},{"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"score":1,"creation_date":1637947921,"post_id":70126753,"comment_id":123966727,"body_markdown":"@Ray, I don&#39;t think I understand the problem. I tried your code. The lists are getting injected as expected - &quot;advanced&quot; gives 2 items and &quot;basic&quot; 1, exactly as the bean configurations are returning.","body":"@Ray, I don&#39;t think I understand the problem. I tried your code. The lists are getting injected as expected - &quot;advanced&quot; gives 2 items and &quot;basic&quot; 1, exactly as the bean configurations are returning."}],"owner":{"account_id":366566,"reputation":1798,"user_id":712183,"accept_rate":70,"display_name":"Ray"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637942226,"creation_date":1637940528,"question_id":70126753,"body_markdown":"I try to inject list of beans having partially matching collections. I looked through different Spring guides with collection injection and it doesn&#39;t help me.\r\nI have the following situation:\r\n\r\n```\r\nabstract class A {\r\n   public A(List&lt;Processor&gt; processors)\r\n}\r\n\r\n@Service\r\nclass B extends A {\r\n   @Autowired\r\n   public B(@Qualifier(&quot;basicProcessors&quot;) List&lt;Processor&gt; processors) {\r\n       super(processors);\r\n   }\r\n}\r\n\r\n@Service\r\nclass C extends A {\r\n   @Autowired\r\n   public C(@Qualifier(&quot;advancedProcessors&quot;) List&lt;Processor&gt; processors) {\r\n       super(processors);\r\n   }\r\n}\r\n\r\n@Configuration\r\nclass ProcessorsConfiguration {\r\n    @Bean\r\n    public List&lt;Processor&gt; basicProcessors() {\r\n        return Arrays.asList(new BasicProcessor());\r\n    }\r\n    \r\n    @Bean\r\n    public List&lt;Processor&gt; advancedProcessors() {\r\n        return Arrays.asList(new BasicProcessor(), new AdvancedProcessor());\r\n    }\r\n}\r\n```\r\n\r\nI suppose that this approach should work but spring cannot find matching beans. I can&#39;t use strategy with configuration class including bean definition as single entities because advanced processors has intersection `BasicProcessor`.\r\n\r\nPlease, provide some ideas how to reach this goal. Any links, code snippets are welcome.","title":"Spring injection list of beans with qualifier (intersecting lists)","body":"<p>I try to inject list of beans having partially matching collections. I looked through different Spring guides with collection injection and it doesn't help me.\nI have the following situation:</p>\n<pre><code>abstract class A {\n   public A(List&lt;Processor&gt; processors)\n}\n\n@Service\nclass B extends A {\n   @Autowired\n   public B(@Qualifier(&quot;basicProcessors&quot;) List&lt;Processor&gt; processors) {\n       super(processors);\n   }\n}\n\n@Service\nclass C extends A {\n   @Autowired\n   public C(@Qualifier(&quot;advancedProcessors&quot;) List&lt;Processor&gt; processors) {\n       super(processors);\n   }\n}\n\n@Configuration\nclass ProcessorsConfiguration {\n    @Bean\n    public List&lt;Processor&gt; basicProcessors() {\n        return Arrays.asList(new BasicProcessor());\n    }\n    \n    @Bean\n    public List&lt;Processor&gt; advancedProcessors() {\n        return Arrays.asList(new BasicProcessor(), new AdvancedProcessor());\n    }\n}\n</code></pre>\n<p>I suppose that this approach should work but spring cannot find matching beans. I can't use strategy with configuration class including bean definition as single entities because advanced processors has intersection <code>BasicProcessor</code>.</p>\n<p>Please, provide some ideas how to reach this goal. Any links, code snippets are welcome.</p>\n"},{"tags":["java","swing","garbage-collection"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1637774863,"post_id":70089837,"comment_id":123918061,"body_markdown":"What do you mean with “now”? The old version has the same logical error.","body":"What do you mean with “now”? The old version has the same logical error."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1637775670,"post_id":70089837,"comment_id":123918349,"body_markdown":"To be more specific, your description of the problem is unnecessarily complicated. Whether the cleaner has an indirect reference to `listener` doesn’t matter—the `Clipboard` has a reference to the `listener` anyway, as otherwise there was no need to unregister it. So, the `Clipboard` has a reference to the `listener` which has a reference to the action  and the reachability of the action is what it is all about. Therefore, the approach using `finalize()` never worked and using a `Cleaner` doesn’t change that.","body":"To be more specific, your description of the problem is unnecessarily complicated. Whether the cleaner has an indirect reference to <code>listener</code> doesn’t matter—the <code>Clipboard</code> has a reference to the <code>listener</code> anyway, as otherwise there was no need to unregister it. So, the <code>Clipboard</code> has a reference to the <code>listener</code> which has a reference to the action  and the reachability of the action is what it is all about. Therefore, the approach using <code>finalize()</code> never worked and using a <code>Cleaner</code> doesn’t change that."},{"owner":{"account_id":46836,"reputation":12142,"user_id":138513,"accept_rate":46,"display_name":"Hakanai"},"score":0,"creation_date":1637881240,"post_id":70089837,"comment_id":123949248,"body_markdown":"@Holger ah, fair. So I guess the real question is now just how to do it at all. :(","body":"@Holger ah, fair. So I guess the real question is now just how to do it at all. :("}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1637941776,"creation_date":1637941776,"answer_id":70126984,"question_id":70089837,"body_markdown":"As long as the `FlavorListener` is registered at an event source, it will never become unreachable (as long as the event source is still reachable). This implies that the `PasteAction` instance which the listener updates will also never become unreachable, as the listener has a strong reference to it.\r\n\r\nThe only way to decouple their reachability is to change the listener, to only maintain a weak reference to the object it updates. Note that when you’re using a `Cleaner` instead of `finalize()`, the `FinalizeGuardian` is obsolete.\r\n\r\nThe code would look like\r\n\r\n```java\r\npublic class PasteAction extends FocusedComponentAction {\r\n\r\n    static FlavorListener createListener(WeakReference&lt;PasteAction&gt; r) {\r\n        return event -&gt; {\r\n            PasteAction pa = r.get();\r\n            if(pa != null) pa.updateEnabled();\r\n        };\r\n    }\r\n\r\n    private static final Cleaner CLEANER = Cleaner.create();\r\n\r\n    static void prepareCleanup(\r\n                       Object referent, Clipboard clipboard, FlavorListener listener) {\r\n\r\n        CLEANER.register(referent, () -&gt; clipboard.removeFlavorListener(listener));\r\n    }\r\n\r\n    public PasteAction() {\r\n        Clipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\r\n        FlavorListener listener = createListener(new WeakReference&lt;&gt;(this));\r\n        clipboard.addFlavorListener(listener);\r\n        prepareCleanup(this, clipboard, listener);\r\n    }\r\n\r\n…\r\n```\r\n\r\nNote that the critical parts have been placed into `static` methods, to make accidental capture of the `this` reference impossible. These methods get the minimum necessary to do their job, `createListener` only receives a weak reference to the action and `prepareCleanup` gets the referent as `Object`, as the cleaning action must not access any members of the action but receive the necessary values as separate parameters.\r\n\r\nBut after showing, how a cleaner use may look like, I have to strongly discourage from using this mechanism, especially as the only cleanup mechanism. Here, it is not only affecting memory consumption, but also the *behavior* of the program, because, as long as the references have not been cleared, the listener will keep getting informed and keep updating an obsolete object.\r\n\r\nSince the garbage collector is only triggered by memory needs, it is perfectly possible that it doesn’t run or doesn’t care about these few objects, because there’s enough free memory, while the CPU is under heavy load, because of lots of obsolete listeners being busy to update obsolete objects (I’ve seen such scenarios in practice).\r\n\r\nTo make matters worse, with concurrent garbage collectors, it’s even possible that their collection cycle repeatedly overlaps with an actually obsolete execution of `updateEnabled()` triggered by the listener (because the reference was not cleared yet). Which will actively prevent the garbage collection of these objects, even when the garbage collector runs and would otherwise collect them.\r\n\r\nIn short, such cleanup should not rely on the garbage collector.\r\n","title":"Is there a safe way to use Cleaner to unregister a listener?","body":"<p>As long as the <code>FlavorListener</code> is registered at an event source, it will never become unreachable (as long as the event source is still reachable). This implies that the <code>PasteAction</code> instance which the listener updates will also never become unreachable, as the listener has a strong reference to it.</p>\n<p>The only way to decouple their reachability is to change the listener, to only maintain a weak reference to the object it updates. Note that when you’re using a <code>Cleaner</code> instead of <code>finalize()</code>, the <code>FinalizeGuardian</code> is obsolete.</p>\n<p>The code would look like</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PasteAction extends FocusedComponentAction {\n\n    static FlavorListener createListener(WeakReference&lt;PasteAction&gt; r) {\n        return event -&gt; {\n            PasteAction pa = r.get();\n            if(pa != null) pa.updateEnabled();\n        };\n    }\n\n    private static final Cleaner CLEANER = Cleaner.create();\n\n    static void prepareCleanup(\n                       Object referent, Clipboard clipboard, FlavorListener listener) {\n\n        CLEANER.register(referent, () -&gt; clipboard.removeFlavorListener(listener));\n    }\n\n    public PasteAction() {\n        Clipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\n        FlavorListener listener = createListener(new WeakReference&lt;&gt;(this));\n        clipboard.addFlavorListener(listener);\n        prepareCleanup(this, clipboard, listener);\n    }\n\n…\n</code></pre>\n<p>Note that the critical parts have been placed into <code>static</code> methods, to make accidental capture of the <code>this</code> reference impossible. These methods get the minimum necessary to do their job, <code>createListener</code> only receives a weak reference to the action and <code>prepareCleanup</code> gets the referent as <code>Object</code>, as the cleaning action must not access any members of the action but receive the necessary values as separate parameters.</p>\n<p>But after showing, how a cleaner use may look like, I have to strongly discourage from using this mechanism, especially as the only cleanup mechanism. Here, it is not only affecting memory consumption, but also the <em>behavior</em> of the program, because, as long as the references have not been cleared, the listener will keep getting informed and keep updating an obsolete object.</p>\n<p>Since the garbage collector is only triggered by memory needs, it is perfectly possible that it doesn’t run or doesn’t care about these few objects, because there’s enough free memory, while the CPU is under heavy load, because of lots of obsolete listeners being busy to update obsolete objects (I’ve seen such scenarios in practice).</p>\n<p>To make matters worse, with concurrent garbage collectors, it’s even possible that their collection cycle repeatedly overlaps with an actually obsolete execution of <code>updateEnabled()</code> triggered by the listener (because the reference was not cleared yet). Which will actively prevent the garbage collection of these objects, even when the garbage collector runs and would otherwise collect them.</p>\n<p>In short, such cleanup should not rely on the garbage collector.</p>\n"}],"owner":{"account_id":46836,"reputation":12142,"user_id":138513,"accept_rate":46,"display_name":"Hakanai"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637941776,"creation_date":1637717949,"question_id":70089837,"body_markdown":"I have a Swing action class which works as follows:\r\n\r\n```java\r\npackage org.trypticon.hex.gui.datatransfer;\r\n\r\nimport java.awt.Toolkit;\r\nimport java.awt.datatransfer.Clipboard;\r\nimport java.awt.datatransfer.DataFlavor;\r\nimport java.awt.datatransfer.FlavorListener;\r\nimport java.awt.event.ActionEvent;\r\nimport javax.annotation.Nonnull;\r\nimport javax.swing.Action;\r\nimport javax.swing.JComponent;\r\nimport javax.swing.TransferHandler;\r\n\r\nimport org.trypticon.hex.gui.Resources;\r\nimport org.trypticon.hex.gui.util.FinalizeGuardian;\r\nimport org.trypticon.hex.gui.util.FocusedComponentAction;\r\n\r\npublic class PasteAction extends FocusedComponentAction {\r\n    private final FlavorListener listener = (event) -&gt; {\r\n        // this method in the superclass calls back `shouldBeEnabled`\r\n        updateEnabled();\r\n    };\r\n\r\n    @SuppressWarnings({&quot;UnusedDeclaration&quot;})\r\n    private final Object finalizeGuardian = new FinalizeGuardian(() -&gt; {\r\n        Clipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\r\n        clipboard.removeFlavorListener(listener);\r\n    });\r\n\r\n    public PasteAction() {\r\n        Clipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\r\n        clipboard.addFlavorListener(listener);\r\n    }\r\n\r\n    @Override\r\n    protected boolean shouldBeEnabled(@Nonnull JComponent focusOwner) {\r\n        TransferHandler transferHandler = focusOwner.getTransferHandler();\r\n        if (transferHandler == null) {\r\n            return false;\r\n        }\r\n\r\n        Clipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\r\n        DataFlavor[] flavorsInClipboard = clipboard.getAvailableDataFlavors();\r\n        return transferHandler.canImport(focusOwner, flavorsInClipboard);\r\n    }\r\n\r\n    @Override\r\n    protected void doAction(@Nonnull JComponent focusOwner) throws Exception {\r\n        Action action = TransferHandler.getPasteAction();\r\n        action.actionPerformed(new ActionEvent(\r\n            focusOwner, ActionEvent.ACTION_PERFORMED, (String) action.getValue(Action.NAME)));\r\n    }\r\n}\r\n```\r\n\r\nThe `FinalizeGuardian` referred to here is currently implemented using `finalize()`:\r\n\r\n```java\r\npackage org.trypticon.hex.gui.util;\r\n\r\npublic final class FinalizeGuardian {\r\n    private final Runnable cleanupLogic;\r\n\r\n    public FinalizeGuardian(Runnable cleanupLogic) {\r\n        this.cleanupLogic = cleanupLogic;\r\n    }\r\n\r\n    @Override\r\n    protected final void finalize() throws Throwable {\r\n        try {\r\n            cleanupLogic.run();\r\n        } finally {\r\n            super.finalize();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nSo, for obvious reasons, I&#39;d like to switch to using `Cleaner` for this.\r\n\r\nThe first try was something like this:\r\n\r\n```java\r\npackage org.trypticon.hex.gui.util;\r\n\r\nimport java.lang.ref.Cleaner;\r\n\r\npublic final class FinalizeGuardian {\r\n    private static final Cleaner cleaner = Cleaner.create();\r\n\r\n    public FinalizeGuardian(Runnable cleanupLogic) {\r\n        cleaner.register(this, cleanupLogic);\r\n    }\r\n}\r\n```\r\n\r\nThe problem is that now the object never becomes phantom reachable, because:\r\n\r\n* `Cleaner` itself holds a strong reference to `cleanupLogic`\r\n* `cleanupLogic` holds a reference to `listener` in order to remove the listener\r\n* `listener` holds a reference to the action class in order to call `updateEnabled` on it\r\n* the action class holds a reference to the `FinalizeGuardian` so that it doesn&#39;t get collected prematurely\r\n\r\nBecause the `FinalizeGuardian` itself never becomes phantom reachable, the cleaner will never be called.\r\n\r\nSo what I&#39;d like to know is, is there a way to restructure this to follow the rules required to make `Cleaner` work correctly that _doesn&#39;t_ involve breaking encapsulation by moving the listener to outside my action class?","title":"Is there a safe way to use Cleaner to unregister a listener?","body":"<p>I have a Swing action class which works as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.trypticon.hex.gui.datatransfer;\n\nimport java.awt.Toolkit;\nimport java.awt.datatransfer.Clipboard;\nimport java.awt.datatransfer.DataFlavor;\nimport java.awt.datatransfer.FlavorListener;\nimport java.awt.event.ActionEvent;\nimport javax.annotation.Nonnull;\nimport javax.swing.Action;\nimport javax.swing.JComponent;\nimport javax.swing.TransferHandler;\n\nimport org.trypticon.hex.gui.Resources;\nimport org.trypticon.hex.gui.util.FinalizeGuardian;\nimport org.trypticon.hex.gui.util.FocusedComponentAction;\n\npublic class PasteAction extends FocusedComponentAction {\n    private final FlavorListener listener = (event) -&gt; {\n        // this method in the superclass calls back `shouldBeEnabled`\n        updateEnabled();\n    };\n\n    @SuppressWarnings({&quot;UnusedDeclaration&quot;})\n    private final Object finalizeGuardian = new FinalizeGuardian(() -&gt; {\n        Clipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\n        clipboard.removeFlavorListener(listener);\n    });\n\n    public PasteAction() {\n        Clipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\n        clipboard.addFlavorListener(listener);\n    }\n\n    @Override\n    protected boolean shouldBeEnabled(@Nonnull JComponent focusOwner) {\n        TransferHandler transferHandler = focusOwner.getTransferHandler();\n        if (transferHandler == null) {\n            return false;\n        }\n\n        Clipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\n        DataFlavor[] flavorsInClipboard = clipboard.getAvailableDataFlavors();\n        return transferHandler.canImport(focusOwner, flavorsInClipboard);\n    }\n\n    @Override\n    protected void doAction(@Nonnull JComponent focusOwner) throws Exception {\n        Action action = TransferHandler.getPasteAction();\n        action.actionPerformed(new ActionEvent(\n            focusOwner, ActionEvent.ACTION_PERFORMED, (String) action.getValue(Action.NAME)));\n    }\n}\n</code></pre>\n<p>The <code>FinalizeGuardian</code> referred to here is currently implemented using <code>finalize()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.trypticon.hex.gui.util;\n\npublic final class FinalizeGuardian {\n    private final Runnable cleanupLogic;\n\n    public FinalizeGuardian(Runnable cleanupLogic) {\n        this.cleanupLogic = cleanupLogic;\n    }\n\n    @Override\n    protected final void finalize() throws Throwable {\n        try {\n            cleanupLogic.run();\n        } finally {\n            super.finalize();\n        }\n    }\n}\n</code></pre>\n<p>So, for obvious reasons, I'd like to switch to using <code>Cleaner</code> for this.</p>\n<p>The first try was something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.trypticon.hex.gui.util;\n\nimport java.lang.ref.Cleaner;\n\npublic final class FinalizeGuardian {\n    private static final Cleaner cleaner = Cleaner.create();\n\n    public FinalizeGuardian(Runnable cleanupLogic) {\n        cleaner.register(this, cleanupLogic);\n    }\n}\n</code></pre>\n<p>The problem is that now the object never becomes phantom reachable, because:</p>\n<ul>\n<li><code>Cleaner</code> itself holds a strong reference to <code>cleanupLogic</code></li>\n<li><code>cleanupLogic</code> holds a reference to <code>listener</code> in order to remove the listener</li>\n<li><code>listener</code> holds a reference to the action class in order to call <code>updateEnabled</code> on it</li>\n<li>the action class holds a reference to the <code>FinalizeGuardian</code> so that it doesn't get collected prematurely</li>\n</ul>\n<p>Because the <code>FinalizeGuardian</code> itself never becomes phantom reachable, the cleaner will never be called.</p>\n<p>So what I'd like to know is, is there a way to restructure this to follow the rules required to make <code>Cleaner</code> work correctly that <em>doesn't</em> involve breaking encapsulation by moving the listener to outside my action class?</p>\n"},{"tags":["java","spring","multithreading","spring-boot","spring-scheduled"],"comments":[{"owner":{"account_id":992608,"reputation":481,"user_id":1009448,"display_name":"Edmond"},"score":0,"creation_date":1515788580,"post_id":48233445,"comment_id":83449470,"body_markdown":"Did you read this thread: [JB Nizet](https://stackoverflow.com/a/21994185/1009448)","body":"Did you read this thread: <a href=\"https://stackoverflow.com/a/21994185/1009448\">JB Nizet</a>"},{"owner":{"account_id":2258168,"reputation":30504,"user_id":1988876,"accept_rate":73,"display_name":"brain storm"},"score":0,"creation_date":1515792415,"post_id":48233445,"comment_id":83450983,"body_markdown":"@Edmond: yes, what are you referring to? I have configured the default pool size above","body":"@Edmond: yes, what are you referring to? I have configured the default pool size above"},{"owner":{"account_id":1470807,"reputation":940,"user_id":1453658,"display_name":"Pedro"},"score":0,"creation_date":1515814836,"post_id":48233445,"comment_id":83456050,"body_markdown":"I was not able to reproduce exactly but I think you may have found a bug. `fixedRate` should invoke the method every 2s but in my pc was taking 10s, but I did got different threads used.","body":"I was not able to reproduce exactly but I think you may have found a bug. <code>fixedRate</code> should invoke the method every 2s but in my pc was taking 10s, but I did got different threads used."}],"answers":[{"tags":[],"owner":{"account_id":8972075,"reputation":27597,"user_id":6690200,"accept_rate":100,"display_name":"xingbin"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1516159399,"creation_date":1515848003,"answer_id":48240045,"question_id":48233445,"body_markdown":"`@Scheduled(fixedRateString = &quot;2000&quot; )` does not gurantee `testaMethod` be executed every 2 seconds, if the time cost is more than 2s, such as `Thread.sleep(10000)`, the new task will be put in a queue. Only when the old one has been executed, the scheduler will fetch the new task from queue and execute it. Since the new task is now the only task in the scheduler, it could be run without creating a new `Thread`.\r\n\r\n**To solve this problem, you can combile [@Async and @Scheduled][1]**\r\n\r\nSchedulerConfig\r\n\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.scheduling.TaskScheduler;\r\n    import org.springframework.scheduling.annotation.EnableScheduling;\r\n    import org.springframework.scheduling.annotation.SchedulingConfigurer;\r\n    import org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler;\r\n    import org.springframework.scheduling.config.ScheduledTaskRegistrar;\r\n    \r\n    @Configuration\r\n    @EnableScheduling\r\n    public class SchedulerConfig implements SchedulingConfigurer {\r\n        private final int POOL_SIZE = 10;\r\n    \r\n        @Override\r\n        public void configureTasks(ScheduledTaskRegistrar scheduledTaskRegistrar) {\r\n            scheduledTaskRegistrar.setTaskScheduler(poolScheduler());\r\n        }\r\n    \r\n        @Bean\r\n        public TaskScheduler poolScheduler() {\r\n            ThreadPoolTaskScheduler scheduler = new ThreadPoolTaskScheduler();\r\n            scheduler.setThreadNamePrefix(&quot;poolScheduler&quot;);\r\n            scheduler.setPoolSize(POOL_SIZE);\r\n            return scheduler;\r\n        }\r\n    \r\n    }\r\n\r\nSchedulerTask\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.scheduling.annotation.Scheduled;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class SchedulerTask {\r\n    \r\n        @Autowired\r\n        private AsyncTask asyncTask;\r\n    \r\n        @Scheduled(fixedRateString = &quot;2000&quot; )\r\n        public void testaMethod() {\r\n            asyncTask.asyncMethod();\r\n        }\r\n    }\r\n\r\nAsyncTask\r\n\r\n    import org.apache.commons.logging.Log;\r\n    import org.apache.commons.logging.LogFactory;\r\n    import org.springframework.scheduling.annotation.Async;\r\n    import org.springframework.scheduling.annotation.EnableAsync;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    @EnableAsync\r\n    public class AsyncTask {\r\n    \r\n        private Log log = LogFactory.getLog(AsyncTask.class);\r\n    \r\n        @Async\r\n        public void asyncMethod() {\r\n            log.debug(&quot;here is the message&quot;);\r\n            try {\r\n                Thread.sleep(10000);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n**Test results**\r\n\r\n    11:20:54.682 [poolScheduler1] DEBUG com.test.AsyncTask - here is the message\r\n    11:20:56.668 [poolScheduler3] DEBUG com.test.AsyncTask - here is the message\r\n    11:20:58.668 [poolScheduler2] DEBUG com.test.AsyncTask - here is the message\r\n    11:21:00.669 [poolScheduler6] DEBUG com.test.AsyncTask - here is the message\r\n    11:21:02.669 [poolScheduler7] DEBUG com.test.AsyncTask - here is the message\r\n    11:21:04.669 [poolScheduler4] DEBUG com.test.AsyncTask - here is the message\r\n\r\n\r\n  [1]: https://docs.spring.io/autorepo/docs/spring-framework/3.2.x/spring-framework-reference/html/scheduling.html","title":"spring-boot @scheduled not running in different threads?","body":"<p><code>@Scheduled(fixedRateString = \"2000\" )</code> does not gurantee <code>testaMethod</code> be executed every 2 seconds, if the time cost is more than 2s, such as <code>Thread.sleep(10000)</code>, the new task will be put in a queue. Only when the old one has been executed, the scheduler will fetch the new task from queue and execute it. Since the new task is now the only task in the scheduler, it could be run without creating a new <code>Thread</code>.</p>\n\n<p><strong>To solve this problem, you can combile <a href=\"https://docs.spring.io/autorepo/docs/spring-framework/3.2.x/spring-framework-reference/html/scheduling.html\" rel=\"noreferrer\">@Async and @Scheduled</a></strong></p>\n\n<p>SchedulerConfig</p>\n\n<pre><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.scheduling.TaskScheduler;\nimport org.springframework.scheduling.annotation.EnableScheduling;\nimport org.springframework.scheduling.annotation.SchedulingConfigurer;\nimport org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler;\nimport org.springframework.scheduling.config.ScheduledTaskRegistrar;\n\n@Configuration\n@EnableScheduling\npublic class SchedulerConfig implements SchedulingConfigurer {\n    private final int POOL_SIZE = 10;\n\n    @Override\n    public void configureTasks(ScheduledTaskRegistrar scheduledTaskRegistrar) {\n        scheduledTaskRegistrar.setTaskScheduler(poolScheduler());\n    }\n\n    @Bean\n    public TaskScheduler poolScheduler() {\n        ThreadPoolTaskScheduler scheduler = new ThreadPoolTaskScheduler();\n        scheduler.setThreadNamePrefix(\"poolScheduler\");\n        scheduler.setPoolSize(POOL_SIZE);\n        return scheduler;\n    }\n\n}\n</code></pre>\n\n<p>SchedulerTask</p>\n\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.scheduling.annotation.Scheduled;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class SchedulerTask {\n\n    @Autowired\n    private AsyncTask asyncTask;\n\n    @Scheduled(fixedRateString = \"2000\" )\n    public void testaMethod() {\n        asyncTask.asyncMethod();\n    }\n}\n</code></pre>\n\n<p>AsyncTask</p>\n\n<pre><code>import org.apache.commons.logging.Log;\nimport org.apache.commons.logging.LogFactory;\nimport org.springframework.scheduling.annotation.Async;\nimport org.springframework.scheduling.annotation.EnableAsync;\nimport org.springframework.stereotype.Component;\n\n@Component\n@EnableAsync\npublic class AsyncTask {\n\n    private Log log = LogFactory.getLog(AsyncTask.class);\n\n    @Async\n    public void asyncMethod() {\n        log.debug(\"here is the message\");\n        try {\n            Thread.sleep(10000);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Test results</strong></p>\n\n<pre><code>11:20:54.682 [poolScheduler1] DEBUG com.test.AsyncTask - here is the message\n11:20:56.668 [poolScheduler3] DEBUG com.test.AsyncTask - here is the message\n11:20:58.668 [poolScheduler2] DEBUG com.test.AsyncTask - here is the message\n11:21:00.669 [poolScheduler6] DEBUG com.test.AsyncTask - here is the message\n11:21:02.669 [poolScheduler7] DEBUG com.test.AsyncTask - here is the message\n11:21:04.669 [poolScheduler4] DEBUG com.test.AsyncTask - here is the message\n</code></pre>\n"}],"owner":{"account_id":2258168,"reputation":30504,"user_id":1988876,"accept_rate":73,"display_name":"brain storm"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10012,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":1,"score":8,"last_activity_date":1637941759,"creation_date":1515788392,"question_id":48233445,"body_markdown":"I am configuring a scheduled task to run in different threads.\r\nHere is the configuration code\r\n\r\n    @Configuration\r\n    @EnableScheduling\r\n    public class SchedulerConfig implements SchedulingConfigurer {\r\n        private final int POOL_SIZE = 10;\r\n    \r\n        @Override\r\n        public void configureTasks(ScheduledTaskRegistrar scheduledTaskRegistrar) {\r\n            ThreadPoolTaskScheduler threadPoolTaskScheduler = new ThreadPoolTaskScheduler();\r\n            threadPoolTaskScheduler.setPoolSize(POOL_SIZE);\r\n            threadPoolTaskScheduler.setThreadNamePrefix(&quot;my-sched-pool-&quot;);\r\n            threadPoolTaskScheduler.initialize();\r\n            scheduledTaskRegistrar.setTaskScheduler(threadPoolTaskScheduler);\r\n        }\r\n    }\r\n\r\nHere is the code that uses it\r\n\r\n\r\n    @Scheduled(fixedRateString = &quot;2000&quot; )\r\n        public void testaMethod() {\r\n           \r\n             log.debug(&quot;here is the message&quot;);\r\n            try {\r\n                Thread.sleep(10000);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n        }\r\n\r\nI am sleeping the thread for 10s with fixedRate of 2s. so I expect to see different threads in the log\r\nbut I see only one\r\n\r\nlogs are here\r\n\r\n    {&quot;thread&quot;:&quot;my-sched-pool-1&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;description&quot;:&quot;here is the message&quot;}\r\n    {&quot;thread&quot;:&quot;my-sched-pool-1&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;description&quot;:&quot;here is the message&quot;}\r\n    {&quot;thread&quot;:&quot;my-sched-pool-1&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;description&quot;:&quot;here is the message&quot;}\r\n    {&quot;thread&quot;:&quot;my-sched-pool-1&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;description&quot;:&quot;here is the message&quot;}\r\n\r\n","title":"spring-boot @scheduled not running in different threads?","body":"<p>I am configuring a scheduled task to run in different threads.\nHere is the configuration code</p>\n\n<pre><code>@Configuration\n@EnableScheduling\npublic class SchedulerConfig implements SchedulingConfigurer {\n    private final int POOL_SIZE = 10;\n\n    @Override\n    public void configureTasks(ScheduledTaskRegistrar scheduledTaskRegistrar) {\n        ThreadPoolTaskScheduler threadPoolTaskScheduler = new ThreadPoolTaskScheduler();\n        threadPoolTaskScheduler.setPoolSize(POOL_SIZE);\n        threadPoolTaskScheduler.setThreadNamePrefix(\"my-sched-pool-\");\n        threadPoolTaskScheduler.initialize();\n        scheduledTaskRegistrar.setTaskScheduler(threadPoolTaskScheduler);\n    }\n}\n</code></pre>\n\n<p>Here is the code that uses it</p>\n\n<pre><code>@Scheduled(fixedRateString = \"2000\" )\n    public void testaMethod() {\n\n         log.debug(\"here is the message\");\n        try {\n            Thread.sleep(10000);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n\n    }\n</code></pre>\n\n<p>I am sleeping the thread for 10s with fixedRate of 2s. so I expect to see different threads in the log\nbut I see only one</p>\n\n<p>logs are here</p>\n\n<pre><code>{\"thread\":\"my-sched-pool-1\",\"level\":\"DEBUG\",\"description\":\"here is the message\"}\n{\"thread\":\"my-sched-pool-1\",\"level\":\"DEBUG\",\"description\":\"here is the message\"}\n{\"thread\":\"my-sched-pool-1\",\"level\":\"DEBUG\",\"description\":\"here is the message\"}\n{\"thread\":\"my-sched-pool-1\",\"level\":\"DEBUG\",\"description\":\"here is the message\"}\n</code></pre>\n"},{"tags":["java","android","android-fragments","arguments","bundle"],"answers":[{"tags":[],"owner":{"account_id":6506487,"reputation":647,"user_id":5479247,"display_name":"Eugene Krivenja"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1468091192,"creation_date":1468091192,"answer_id":38285361,"question_id":38285241,"body_markdown":"I prefer to skip putting something in case of `null` into bundle.  \r\nIn fragment just check `Bundle.containsKey(String key)`, if doesn&#39;t means `null`.\r\n","title":"Passing Nullable Values from Activity to Fragment","body":"<p>I prefer to skip putting something in case of <code>null</code> into bundle.<br>\nIn fragment just check <code>Bundle.containsKey(String key)</code>, if doesn't means <code>null</code>.</p>\n"},{"tags":[],"owner":{"account_id":17728410,"reputation":1938,"user_id":12871582,"display_name":"m.reiter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637941602,"creation_date":1637941602,"answer_id":70126937,"question_id":38285241,"body_markdown":"This is the Kotlin version of @Eugene Krivenjas textual solution - just in case someone prefers copy/pasting to thinking ;)\r\n\r\n\r\n    private fun Bundle.putLongOrSkip(key: String?, value: Long?) =\r\n        apply { value?.let { putLong(key, value) } }\r\n    \r\n    private fun Bundle.getLongOrNull(key: String?) = \r\n        if (containsKey(key)) getLong(key) else null\r\n\r\n\r\nOfc this is possible for `floats` and `ints`, too.","title":"Passing Nullable Values from Activity to Fragment","body":"<p>This is the Kotlin version of @Eugene Krivenjas textual solution - just in case someone prefers copy/pasting to thinking ;)</p>\n<pre><code>private fun Bundle.putLongOrSkip(key: String?, value: Long?) =\n    apply { value?.let { putLong(key, value) } }\n\nprivate fun Bundle.getLongOrNull(key: String?) = \n    if (containsKey(key)) getLong(key) else null\n</code></pre>\n<p>Ofc this is possible for <code>floats</code> and <code>ints</code>, too.</p>\n"}],"owner":{"display_name":"user3386180"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":38285361,"answer_count":2,"score":0,"last_activity_date":1637941602,"creation_date":1468090525,"question_id":38285241,"body_markdown":"When passing `Strings` from an activity to a fragment using\r\n\r\n    Bundle args = new Bundle();\r\n    args.putString(key, value);\r\n    fragment.setArguments(args);\r\n\r\nI can also pass potential `null` and receive it in the fragment with\r\n\r\n    String string = getArguments().getString(key);\r\n\r\nI&#39;d also like to pass nullable `Float`s and `Integer`s but the corresponding `putInt()` and `putFloat()` methods don&#39;t allow passing `null`. I am now passing additional flags as arguments that indicate whether a value is set or not but that seems rather clumsy in comparison. Is there a better way to pass potential null values (preferably available in API level 14 and later)?","title":"Passing Nullable Values from Activity to Fragment","body":"<p>When passing <code>Strings</code> from an activity to a fragment using</p>\n\n<pre><code>Bundle args = new Bundle();\nargs.putString(key, value);\nfragment.setArguments(args);\n</code></pre>\n\n<p>I can also pass potential <code>null</code> and receive it in the fragment with</p>\n\n<pre><code>String string = getArguments().getString(key);\n</code></pre>\n\n<p>I'd also like to pass nullable <code>Float</code>s and <code>Integer</code>s but the corresponding <code>putInt()</code> and <code>putFloat()</code> methods don't allow passing <code>null</code>. I am now passing additional flags as arguments that indicate whether a value is set or not but that seems rather clumsy in comparison. Is there a better way to pass potential null values (preferably available in API level 14 and later)?</p>\n"},{"tags":["java","maven","jenkins","pom.xml","allure"],"answers":[{"tags":[],"owner":{"account_id":23444185,"reputation":31,"user_id":17501245,"display_name":"Elijah Madiosn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637941305,"creation_date":1637941305,"answer_id":70126873,"question_id":70114813,"body_markdown":"[Allure jenkins install config][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/C3Keu.png\r\n\r\nI found the answer by myself, this is some kind of issue in fresh versions of allure-commandline, try to : \r\n1) install old version, for instance 2.8.0\r\n2) then you could install any new version \r\n\r\nSeems like in old version, while installation, it&#39;s creating path(for ubuntu in my case) in correct direction, and then just update with a new one... Or you can insert installation directory manually and initially install a new version ","title":"Error integration Allure reporting with Jenkins. Can&#39;t find allure commandline &lt;null&gt;","body":"<p><a href=\"https://i.stack.imgur.com/C3Keu.png\" rel=\"nofollow noreferrer\">Allure jenkins install config</a></p>\n<p>I found the answer by myself, this is some kind of issue in fresh versions of allure-commandline, try to :</p>\n<ol>\n<li>install old version, for instance 2.8.0</li>\n<li>then you could install any new version</li>\n</ol>\n<p>Seems like in old version, while installation, it's creating path(for ubuntu in my case) in correct direction, and then just update with a new one... Or you can insert installation directory manually and initially install a new version</p>\n"}],"owner":{"account_id":23444185,"reputation":31,"user_id":17501245,"display_name":"Elijah Madiosn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1820,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70126873,"answer_count":1,"score":1,"last_activity_date":1637941305,"creation_date":1637859263,"question_id":70114813,"body_markdown":"Please help, I just have no clue what is going wrong, I&#39;ve tried everything... This is a QA test project, based on java17, maven, testng. Integrеtion between Jenkins and Allure doesn&#39;t work, what is going wrong?\r\n\r\nI have post condition in Jenkins file : \r\n    \r\n             post {\r\n              always {\r\n                 allure includeProperties: false, jdk: &#39;&#39;, reportBuildPolicy: &#39;ALWAYS&#39;, results: [[path: &#39;target/allure-results&#39;]]\r\n                deleteDir()\r\n\r\nAnd when I&#39;m running pipeline on Jenkins side, I get below error in console output\r\n\r\n&gt; Pipeline allure\r\n    Error when executing always post condition:\r\n    Also:   hudson.remoting.Channel$CallSiteStackTrace: Remote call to ubuntu-20.04\r\n    \t\tat hudson.remoting.Channel.attachCallSiteStackTrace(Channel.java:1797)\r\n    \t\tat hudson.remoting.UserRequest$ExceptionResponse.retrieve(UserRequest.java:356)\r\n    \t\tat hudson.remoting.Channel.call(Channel.java:1001)\r\n    \t\tat ru.yandex.qatools.allure.jenkins.tools.AllureCommandlineInstallation.getMajorVersion(AllureCommandlineInstallation.java:63)\r\n    \t\tat ru.yandex.qatools.allure.jenkins.ReportBuilder.build(ReportBuilder.java:52)\r\n    \t\tat ru.yandex.qatools.allure.jenkins.AllureReportPublisher.generateReport(AllureReportPublisher.java:312)\r\n    \t\tat ru.yandex.qatools.allure.jenkins.AllureReportPublisher.perform(AllureReportPublisher.java:231)\r\n    \t\tat jenkins.tasks.SimpleBuildStep.perform(SimpleBuildStep.java:123)\r\n    \t\tat org.jenkinsci.plugins.workflow.steps.CoreStep$Execution.run(CoreStep.java:100)\r\n    \t\tat org.jenkinsci.plugins.workflow.steps.CoreStep$Execution.run(CoreStep.java:70)\r\n    \t\tat org.jenkinsci.plugins.workflow.steps.SynchronousNonBlockingStepExecution.lambda$start$0(SynchronousNonBlockingStepExecution.java:47)\r\n    \t\tat java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)\r\n    \t\tat java.util.concurrent.FutureTask.run(Unknown Source)\r\n    \t\tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n    \t\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n    \t\tat java.lang.Thread.run(Unknown Source)\r\n    java.io.IOException: Can&#39;t find allure commandline &lt;null&gt;\r\n    \tat ru.yandex.qatools.allure.jenkins.tools.AllureCommandlineInstallation$GetMajorVersion.call(AllureCommandlineInstallation.java:74)\r\n    \tat ru.yandex.qatools.allure.jenkins.tools.AllureCommandlineInstallation$GetMajorVersion.call(AllureCommandlineInstallation.java:65)\r\n    \tat hudson.remoting.UserRequest.perform(UserRequest.java:211)\r\n    \tat hudson.remoting.UserRequest.perform(UserRequest.java:54)\r\n    \tat hudson.remoting.Request$2.run(Request.java:376)\r\n    \tat hudson.remoting.InterceptingExecutorService.lambda$wrap$0(InterceptingExecutorService.java:78)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n    \tat java.lang.Thread.run(Thread.java:833)\r\n\r\n\r\n Integration with Allure installed correctly on Jenkins side ( I&#39;ve tried to remove &quot;/bin&quot; path from HOME directory in Jenkins Agent config, but it didn&#39;t helped.\r\n    Project use java17, maven.\r\n    \r\n    Pom file:\r\n\r\n&gt; &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \r\n        &lt;modelVersion&gt;0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;lol&lt;/groupId&gt;\r\n        &lt;artifactId&gt;lol&lt;/artifactId&gt;\r\n        &lt;version&gt;1&lt;/version&gt;\r\n    \r\n        &lt;name&gt;lol&lt;/name&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;aspectj.version&gt;1.9.7&lt;/aspectj.version&gt;\r\n            &lt;java.version&gt;17&lt;/java.version&gt;\r\n            &lt;maven.compiler.plugin.version&gt;3.8.1&lt;/maven.compiler.plugin.version&gt;\r\n            &lt;maven.surefire.plugin.version&gt;3.0.0-M5&lt;/maven.surefire.plugin.version&gt;\r\n            &lt;org.apache.logging.log4j.version&gt;2.14.1&lt;/org.apache.logging.log4j.version&gt;\r\n            &lt;org.slf4j.version&gt;1.7.26&lt;/org.slf4j.version&gt;\r\n            &lt;com.google.guava.version&gt;27.1-jre&lt;/com.google.guava.version&gt;\r\n            &lt;org.apache.commons-lang.version&gt;3.9&lt;/org.apache.commons-lang.version&gt;\r\n            &lt;org.apache.commons.version&gt;4.3&lt;/org.apache.commons.version&gt;\r\n            &lt;org.testng.version&gt;7.4.0&lt;/org.testng.version&gt;\r\n            &lt;io.rest-assured.version&gt;4.3.1&lt;/io.rest-assured.version&gt;\r\n            &lt;io.rest-assured.json-schema-validator.version&gt;${io.rest-assured.version}\r\n            &lt;/io.rest-assured.json-schema-validator.version&gt;\r\n            &lt;com.google.code.gson.version&gt;2.8.5&lt;/com.google.code.gson.version&gt;\r\n            &lt;com.googlecode.json-simple.version&gt;1.1.1&lt;/com.googlecode.json-simple.version&gt;\r\n            &lt;org.projectlombok.version&gt;1.18.22&lt;/org.projectlombok.version&gt;\r\n            &lt;io.jsonwebtoken.version&gt;0.10.5&lt;/io.jsonwebtoken.version&gt;\r\n            &lt;org.bouncycastle.version&gt;1.66&lt;/org.bouncycastle.version&gt;\r\n            &lt;io.qameta.allure.version&gt;2.13.8&lt;/io.qameta.allure.version&gt;\r\n            &lt;com.fasterxml.jackson.core.version&gt;2.9.9&lt;/com.fasterxml.jackson.core.version&gt;\r\n            &lt;org.sonarsource.scanner.maven.version&gt;3.7.0.1746&lt;/org.sonarsource.scanner.maven.version&gt;\r\n            &lt;software.amazon.awssdk.verison&gt;2.8.7&lt;/software.amazon.awssdk.verison&gt;\r\n            &lt;commons-io.verison&gt;2.6&lt;/commons-io.verison&gt;\r\n            &lt;codeborne.version&gt;5.19.0&lt;/codeborne.version&gt;\r\n            &lt;org.awaitility.version&gt;4.0.2&lt;/org.awaitility.version&gt;\r\n            &lt;jacoco.plugin.version&gt;0.8.6&lt;/jacoco.plugin.version&gt;\r\n            &lt;selenium.version&gt;3.141.59&lt;/selenium.version&gt;\r\n            &lt;bmp.version&gt;2.1.5&lt;/bmp.version&gt;\r\n            &lt;ashot-version&gt;1.5.4&lt;/ashot-version&gt;\r\n            &lt;extentreports-version&gt;5.0.8&lt;/extentreports-version&gt;\r\n            &lt;resources&gt;src/test/resources/&lt;/resources&gt;\r\n            &lt;pathToSuite&gt;test-suites/cf/regression.xml&lt;/pathToSuite&gt;\r\n            &lt;sonar.java.source&gt;${java.version}&lt;/sonar.java.source&gt;\r\n            &lt;sonar.coverage.jacoco.xmlReportPaths&gt;\r\n                target/site/jacoco/jacoco.xml\r\n            &lt;/sonar.coverage.jacoco.xmlReportPaths&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.aventstack&lt;/groupId&gt;\r\n                &lt;artifactId&gt;extentreports&lt;/artifactId&gt;\r\n                &lt;version&gt;${extentreports-version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;ru.yandex.qatools.ashot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;ashot&lt;/artifactId&gt;\r\n                &lt;version&gt;${ashot-version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n                &lt;version&gt;${org.apache.logging.log4j.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j-over-slf4j&lt;/artifactId&gt;\r\n                &lt;version&gt;${org.slf4j.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.awaitility&lt;/groupId&gt;\r\n                &lt;artifactId&gt;awaitility&lt;/artifactId&gt;\r\n                &lt;version&gt;${org.awaitility.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n                &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n                &lt;version&gt;${com.google.guava.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n                &lt;version&gt;${org.apache.commons-lang.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\r\n                &lt;version&gt;${org.apache.commons.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n                &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n                &lt;version&gt;${org.testng.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n                &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n                &lt;version&gt;${io.rest-assured.version}&lt;/version&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n                        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n                &lt;artifactId&gt;json-schema-validator&lt;/artifactId&gt;\r\n                &lt;version&gt;${io.rest-assured.json-schema-validator.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n                &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n                &lt;version&gt;${com.google.code.gson.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n                &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n                &lt;version&gt;${com.googlecode.json-simple.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;version&gt;${org.projectlombok.version}&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\r\n                &lt;version&gt;${io.jsonwebtoken.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\r\n                &lt;version&gt;${io.jsonwebtoken.version}&lt;/version&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\r\n                &lt;version&gt;${io.jsonwebtoken.version}&lt;/version&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n                &lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;\r\n                &lt;version&gt;${org.bouncycastle.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n                &lt;artifactId&gt;allure-testng&lt;/artifactId&gt;\r\n                &lt;version&gt;${io.qameta.allure.version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n                &lt;version&gt;${com.fasterxml.jackson.core.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n                &lt;artifactId&gt;aws-sdk-java&lt;/artifactId&gt;\r\n                &lt;version&gt;${software.amazon.awssdk.verison}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cloudwatchlogs&lt;/artifactId&gt;\r\n                &lt;version&gt;${software.amazon.awssdk.verison}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n                &lt;artifactId&gt;url-connection-client&lt;/artifactId&gt;\r\n                &lt;version&gt;${software.amazon.awssdk.verison}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n                &lt;version&gt;${commons-io.verison}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n                &lt;artifactId&gt;allure-java-commons&lt;/artifactId&gt;\r\n                &lt;version&gt;${io.qameta.allure.version}&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.codeborne&lt;/groupId&gt;\r\n                &lt;artifactId&gt;selenide&lt;/artifactId&gt;\r\n                &lt;version&gt;${codeborne.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n                &lt;artifactId&gt;selenium-remote-driver&lt;/artifactId&gt;\r\n                &lt;version&gt;${selenium.version}&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;net.lightbody.bmp&lt;/groupId&gt;\r\n                &lt;artifactId&gt;browsermob-core&lt;/artifactId&gt;\r\n                &lt;version&gt;${bmp.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${maven.surefire.plugin.version}&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;argLine&gt;\r\n                            -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;\r\n                        &lt;/argLine&gt;\r\n                        &lt;suiteXmlFiles&gt;\r\n                            &lt;suiteXmlFile&gt;${resources}${pathToSuite}&lt;/suiteXmlFile&gt;\r\n                        &lt;/suiteXmlFiles&gt;\r\n                        &lt;systemPropertyVariables&gt;\r\n                            &lt;testng.dtd.http&gt;true&lt;/testng.dtd.http&gt;\r\n                        &lt;/systemPropertyVariables&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;dependencies&gt;\r\n                        &lt;dependency&gt;\r\n                            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n                            &lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n                        &lt;/dependency&gt;\r\n                    &lt;/dependencies&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${maven.compiler.plugin.version}&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;release&gt;${java.version}&lt;/release&gt;\r\n                        &lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\r\n                        &lt;forceJavacCompilerUse&gt;true&lt;/forceJavacCompilerUse&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${org.sonarsource.scanner.maven.version}&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${jacoco.plugin.version}&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;report&lt;/id&gt;\r\n                            &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;report&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n        &lt;profiles&gt;\r\n            &lt;profile&gt;\r\n                &lt;id&gt;regression&lt;/id&gt;\r\n            &lt;/profile&gt;\r\n            &lt;profile&gt;\r\n                &lt;id&gt;sanity&lt;/id&gt;\r\n            &lt;/profile&gt;\r\n        &lt;/profiles&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n","title":"Error integration Allure reporting with Jenkins. Can&#39;t find allure commandline &lt;null&gt;","body":"<p>Please help, I just have no clue what is going wrong, I've tried everything... This is a QA test project, based on java17, maven, testng. Integrеtion between Jenkins and Allure doesn't work, what is going wrong?</p>\n<p>I have post condition in Jenkins file :</p>\n<pre><code>         post {\n          always {\n             allure includeProperties: false, jdk: '', reportBuildPolicy: 'ALWAYS', results: [[path: 'target/allure-results']]\n            deleteDir()\n</code></pre>\n<p>And when I'm running pipeline on Jenkins side, I get below error in console output</p>\n<blockquote>\n<p>Pipeline allure\nError when executing always post condition:\nAlso:   hudson.remoting.Channel$CallSiteStackTrace: Remote call to ubuntu-20.04\nat hudson.remoting.Channel.attachCallSiteStackTrace(Channel.java:1797)\nat hudson.remoting.UserRequest$ExceptionResponse.retrieve(UserRequest.java:356)\nat hudson.remoting.Channel.call(Channel.java:1001)\nat ru.yandex.qatools.allure.jenkins.tools.AllureCommandlineInstallation.getMajorVersion(AllureCommandlineInstallation.java:63)\nat ru.yandex.qatools.allure.jenkins.ReportBuilder.build(ReportBuilder.java:52)\nat ru.yandex.qatools.allure.jenkins.AllureReportPublisher.generateReport(AllureReportPublisher.java:312)\nat ru.yandex.qatools.allure.jenkins.AllureReportPublisher.perform(AllureReportPublisher.java:231)\nat jenkins.tasks.SimpleBuildStep.perform(SimpleBuildStep.java:123)\nat org.jenkinsci.plugins.workflow.steps.CoreStep$Execution.run(CoreStep.java:100)\nat org.jenkinsci.plugins.workflow.steps.CoreStep$Execution.run(CoreStep.java:70)\nat org.jenkinsci.plugins.workflow.steps.SynchronousNonBlockingStepExecution.lambda$start$0(SynchronousNonBlockingStepExecution.java:47)\nat java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)\nat java.util.concurrent.FutureTask.run(Unknown Source)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\nat java.lang.Thread.run(Unknown Source)\njava.io.IOException: Can't find allure commandline \nat ru.yandex.qatools.allure.jenkins.tools.AllureCommandlineInstallation$GetMajorVersion.call(AllureCommandlineInstallation.java:74)\nat ru.yandex.qatools.allure.jenkins.tools.AllureCommandlineInstallation$GetMajorVersion.call(AllureCommandlineInstallation.java:65)\nat hudson.remoting.UserRequest.perform(UserRequest.java:211)\nat hudson.remoting.UserRequest.perform(UserRequest.java:54)\nat hudson.remoting.Request$2.run(Request.java:376)\nat hudson.remoting.InterceptingExecutorService.lambda$wrap$0(InterceptingExecutorService.java:78)\nat java.util.concurrent.FutureTask.run(FutureTask.java:264)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\nat java.lang.Thread.run(Thread.java:833)</p>\n</blockquote>\n<p>Integration with Allure installed correctly on Jenkins side ( I've tried to remove &quot;/bin&quot; path from HOME directory in Jenkins Agent config, but it didn't helped.\nProject use java17, maven.</p>\n<pre><code>Pom file:\n</code></pre>\n<blockquote>\n\n</blockquote>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n    &lt;modelVersion&gt;0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;lol&lt;/groupId&gt;\n    &lt;artifactId&gt;lol&lt;/artifactId&gt;\n    &lt;version&gt;1&lt;/version&gt;\n\n    &lt;name&gt;lol&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;aspectj.version&gt;1.9.7&lt;/aspectj.version&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;maven.compiler.plugin.version&gt;3.8.1&lt;/maven.compiler.plugin.version&gt;\n        &lt;maven.surefire.plugin.version&gt;3.0.0-M5&lt;/maven.surefire.plugin.version&gt;\n        &lt;org.apache.logging.log4j.version&gt;2.14.1&lt;/org.apache.logging.log4j.version&gt;\n        &lt;org.slf4j.version&gt;1.7.26&lt;/org.slf4j.version&gt;\n        &lt;com.google.guava.version&gt;27.1-jre&lt;/com.google.guava.version&gt;\n        &lt;org.apache.commons-lang.version&gt;3.9&lt;/org.apache.commons-lang.version&gt;\n        &lt;org.apache.commons.version&gt;4.3&lt;/org.apache.commons.version&gt;\n        &lt;org.testng.version&gt;7.4.0&lt;/org.testng.version&gt;\n        &lt;io.rest-assured.version&gt;4.3.1&lt;/io.rest-assured.version&gt;\n        &lt;io.rest-assured.json-schema-validator.version&gt;${io.rest-assured.version}\n        &lt;/io.rest-assured.json-schema-validator.version&gt;\n        &lt;com.google.code.gson.version&gt;2.8.5&lt;/com.google.code.gson.version&gt;\n        &lt;com.googlecode.json-simple.version&gt;1.1.1&lt;/com.googlecode.json-simple.version&gt;\n        &lt;org.projectlombok.version&gt;1.18.22&lt;/org.projectlombok.version&gt;\n        &lt;io.jsonwebtoken.version&gt;0.10.5&lt;/io.jsonwebtoken.version&gt;\n        &lt;org.bouncycastle.version&gt;1.66&lt;/org.bouncycastle.version&gt;\n        &lt;io.qameta.allure.version&gt;2.13.8&lt;/io.qameta.allure.version&gt;\n        &lt;com.fasterxml.jackson.core.version&gt;2.9.9&lt;/com.fasterxml.jackson.core.version&gt;\n        &lt;org.sonarsource.scanner.maven.version&gt;3.7.0.1746&lt;/org.sonarsource.scanner.maven.version&gt;\n        &lt;software.amazon.awssdk.verison&gt;2.8.7&lt;/software.amazon.awssdk.verison&gt;\n        &lt;commons-io.verison&gt;2.6&lt;/commons-io.verison&gt;\n        &lt;codeborne.version&gt;5.19.0&lt;/codeborne.version&gt;\n        &lt;org.awaitility.version&gt;4.0.2&lt;/org.awaitility.version&gt;\n        &lt;jacoco.plugin.version&gt;0.8.6&lt;/jacoco.plugin.version&gt;\n        &lt;selenium.version&gt;3.141.59&lt;/selenium.version&gt;\n        &lt;bmp.version&gt;2.1.5&lt;/bmp.version&gt;\n        &lt;ashot-version&gt;1.5.4&lt;/ashot-version&gt;\n        &lt;extentreports-version&gt;5.0.8&lt;/extentreports-version&gt;\n        &lt;resources&gt;src/test/resources/&lt;/resources&gt;\n        &lt;pathToSuite&gt;test-suites/cf/regression.xml&lt;/pathToSuite&gt;\n        &lt;sonar.java.source&gt;${java.version}&lt;/sonar.java.source&gt;\n        &lt;sonar.coverage.jacoco.xmlReportPaths&gt;\n            target/site/jacoco/jacoco.xml\n        &lt;/sonar.coverage.jacoco.xmlReportPaths&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.aventstack&lt;/groupId&gt;\n            &lt;artifactId&gt;extentreports&lt;/artifactId&gt;\n            &lt;version&gt;${extentreports-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;ru.yandex.qatools.ashot&lt;/groupId&gt;\n            &lt;artifactId&gt;ashot&lt;/artifactId&gt;\n            &lt;version&gt;${ashot-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n            &lt;version&gt;${org.apache.logging.log4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-over-slf4j&lt;/artifactId&gt;\n            &lt;version&gt;${org.slf4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.awaitility&lt;/groupId&gt;\n            &lt;artifactId&gt;awaitility&lt;/artifactId&gt;\n            &lt;version&gt;${org.awaitility.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;${com.google.guava.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;${org.apache.commons-lang.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\n            &lt;version&gt;${org.apache.commons.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n            &lt;version&gt;${org.testng.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n            &lt;version&gt;${io.rest-assured.version}&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n                    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n            &lt;artifactId&gt;json-schema-validator&lt;/artifactId&gt;\n            &lt;version&gt;${io.rest-assured.json-schema-validator.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;${com.google.code.gson.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n            &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n            &lt;version&gt;${com.googlecode.json-simple.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;${org.projectlombok.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\n            &lt;version&gt;${io.jsonwebtoken.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\n            &lt;version&gt;${io.jsonwebtoken.version}&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\n            &lt;version&gt;${io.jsonwebtoken.version}&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n            &lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;\n            &lt;version&gt;${org.bouncycastle.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n            &lt;artifactId&gt;allure-testng&lt;/artifactId&gt;\n            &lt;version&gt;${io.qameta.allure.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;${com.fasterxml.jackson.core.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-sdk-java&lt;/artifactId&gt;\n            &lt;version&gt;${software.amazon.awssdk.verison}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;cloudwatchlogs&lt;/artifactId&gt;\n            &lt;version&gt;${software.amazon.awssdk.verison}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;url-connection-client&lt;/artifactId&gt;\n            &lt;version&gt;${software.amazon.awssdk.verison}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;${commons-io.verison}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n            &lt;artifactId&gt;allure-java-commons&lt;/artifactId&gt;\n            &lt;version&gt;${io.qameta.allure.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.codeborne&lt;/groupId&gt;\n            &lt;artifactId&gt;selenide&lt;/artifactId&gt;\n            &lt;version&gt;${codeborne.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-remote-driver&lt;/artifactId&gt;\n            &lt;version&gt;${selenium.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.lightbody.bmp&lt;/groupId&gt;\n            &lt;artifactId&gt;browsermob-core&lt;/artifactId&gt;\n            &lt;version&gt;${bmp.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven.surefire.plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;argLine&gt;\n                        -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;\n                    &lt;/argLine&gt;\n                    &lt;suiteXmlFiles&gt;\n                        &lt;suiteXmlFile&gt;${resources}${pathToSuite}&lt;/suiteXmlFile&gt;\n                    &lt;/suiteXmlFiles&gt;\n                    &lt;systemPropertyVariables&gt;\n                        &lt;testng.dtd.http&gt;true&lt;/testng.dtd.http&gt;\n                    &lt;/systemPropertyVariables&gt;\n                &lt;/configuration&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                        &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n                        &lt;version&gt;${aspectj.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven.compiler.plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;${java.version}&lt;/release&gt;\n                    &lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\n                    &lt;forceJavacCompilerUse&gt;true&lt;/forceJavacCompilerUse&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${org.sonarsource.scanner.maven.version}&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${jacoco.plugin.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;report&lt;/id&gt;\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;regression&lt;/id&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;sanity&lt;/id&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring","elasticsearch","spring-data","spring-data-elasticsearch"],"comments":[{"owner":{"account_id":3130552,"reputation":1267,"user_id":2648444,"display_name":"vhbazan"},"score":0,"creation_date":1576075470,"post_id":47289229,"comment_id":104781600,"body_markdown":"Hi @pike, did you find out how to do this?","body":"Hi @pike, did you find out how to do this?"},{"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1583078218,"post_id":47289229,"comment_id":106987469,"body_markdown":"Looks like this is not currently supported: https://jira.spring.io/browse/DATAES-42","body":"Looks like this is not currently supported: <a href=\"https://jira.spring.io/browse/DATAES-42\" rel=\"nofollow noreferrer\">jira.spring.io/browse/DATAES-42</a>"}],"answers":[{"tags":[],"owner":{"account_id":5366436,"reputation":3456,"user_id":6650970,"display_name":"Piotr Wilkin"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1510672749,"creation_date":1510672749,"answer_id":47289308,"question_id":47289229,"body_markdown":"The documentation on https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#search-mapping-entity does seem to indicate that `@GeneratedValue` should work correctly. Are you using the proper integration libraries?","title":"Automatically generate numerical id when using ElasticSearch with Spring Data","body":"<p>The documentation on <a href=\"https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#search-mapping-entity\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#search-mapping-entity</a> does seem to indicate that <code>@GeneratedValue</code> should work correctly. Are you using the proper integration libraries?</p>\n"},{"tags":[],"owner":{"account_id":7424209,"reputation":413,"user_id":5647317,"display_name":"aditya gupta"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1513346971,"creation_date":1513345151,"answer_id":47833537,"question_id":47289229,"body_markdown":"I had the same problem and solved it using this code:\r\n\r\n    @Entity\r\n    @Table(name = &quot;person&quot;)\r\n    public class Person {\r\n    \r\n        @Id\r\n        @Column(name = &quot;id&quot;)\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @GeneratedValue(generator=&quot;generator&quot;)\r\n    \t@org.springframework.data.annotation.Id\r\n        private long id;","title":"Automatically generate numerical id when using ElasticSearch with Spring Data","body":"<p>I had the same problem and solved it using this code:</p>\n\n<pre><code>@Entity\n@Table(name = \"person\")\npublic class Person {\n\n    @Id\n    @Column(name = \"id\")\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @GeneratedValue(generator=\"generator\")\n    @org.springframework.data.annotation.Id\n    private long id;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4307476,"reputation":2427,"user_id":3519504,"display_name":"Sandeep Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637941299,"creation_date":1637941299,"answer_id":70126872,"question_id":47289229,"body_markdown":"I just ran into the same issue and looks like there is no annotation as such but we can write a component by defining a custom `BeforeConvertCallback` that sets an id if necessary. \r\n\r\n```java\r\n@Component\r\npublic class BookBeforeConvertCallback implements BeforeConvertCallback&lt;Book&gt; {\r\n\r\n    @Override\r\n    public Book onBeforeConvert(Book book, IndexCoordinates indexCoordinates) {\r\n\r\n        if (book.getId() == null) {\r\n            book.setId(UUIDs.randomBase64UUID());\r\n        }\r\n\r\n        return book;\r\n    }\r\n}\r\n```\r\nRef: https://github.com/spring-projects/spring-data-elasticsearch/issues/616#issuecomment-752866566","title":"Automatically generate numerical id when using ElasticSearch with Spring Data","body":"<p>I just ran into the same issue and looks like there is no annotation as such but we can write a component by defining a custom <code>BeforeConvertCallback</code> that sets an id if necessary.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class BookBeforeConvertCallback implements BeforeConvertCallback&lt;Book&gt; {\n\n    @Override\n    public Book onBeforeConvert(Book book, IndexCoordinates indexCoordinates) {\n\n        if (book.getId() == null) {\n            book.setId(UUIDs.randomBase64UUID());\n        }\n\n        return book;\n    }\n}\n</code></pre>\n<p>Ref: <a href=\"https://github.com/spring-projects/spring-data-elasticsearch/issues/616#issuecomment-752866566\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-elasticsearch/issues/616#issuecomment-752866566</a></p>\n"}],"owner":{"account_id":11109781,"reputation":681,"user_id":8155935,"accept_rate":59,"display_name":"pike"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2230,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1637941299,"creation_date":1510672506,"question_id":47289229,"body_markdown":"I am currently converting a project I did from Spring Data with Hibernate to Spring Data with ElasticSearch.\r\n\r\nBefore, I was able to auto generate the id of my entity using the annotation `@GeneratedValue(strategy = GenerationType.IDENTITY)`.  This way, when the entity is saved, an id number is generated for it.\r\n\r\nHowever, I can&#39;t seem to find an annotation that ElasticSearch uses to achieve the same result.\r\n\r\nThe entity using Hibernate annotation:\r\n\r\n    @Entity\r\n    @Table(name = &quot;person&quot;)\r\n    public class Person {\r\n    \r\n        @Id\r\n        @Column(name = &quot;id&quot;)\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private long id;\r\n        \r\n        @Column(name = &quot;name&quot;)\r\n        private String name;\r\n    \r\n        @Column(name = &quot;age&quot;)\r\n        private int age;\r\n    \r\n        public long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public int getAge() {\r\n            return age;\r\n        }\r\n    \r\n        public void setAge(int age) {\r\n            this.age = age;\r\n        }\r\n    \r\n        public Person() {\r\n        }\r\n    \r\n        public Person(String name, int age) {\r\n            this.name = name;\r\n            this.age = age;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Person [id=&quot; + id + &quot;, name=&quot; + name + &quot;, age=&quot; + age + &quot;]&quot;;\r\n        }\r\n\r\nIs there an ElasticSearch equivalent to the @GeneratedValue annotation?  If not, what is the optimal way to populate the id field when using ElasticSearch?","title":"Automatically generate numerical id when using ElasticSearch with Spring Data","body":"<p>I am currently converting a project I did from Spring Data with Hibernate to Spring Data with ElasticSearch.</p>\n\n<p>Before, I was able to auto generate the id of my entity using the annotation <code>@GeneratedValue(strategy = GenerationType.IDENTITY)</code>.  This way, when the entity is saved, an id number is generated for it.</p>\n\n<p>However, I can't seem to find an annotation that ElasticSearch uses to achieve the same result.</p>\n\n<p>The entity using Hibernate annotation:</p>\n\n<pre><code>@Entity\n@Table(name = \"person\")\npublic class Person {\n\n    @Id\n    @Column(name = \"id\")\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n\n    @Column(name = \"name\")\n    private String name;\n\n    @Column(name = \"age\")\n    private int age;\n\n    public long getId() {\n        return id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    public void setAge(int age) {\n        this.age = age;\n    }\n\n    public Person() {\n    }\n\n    public Person(String name, int age) {\n        this.name = name;\n        this.age = age;\n    }\n\n    @Override\n    public String toString() {\n        return \"Person [id=\" + id + \", name=\" + name + \", age=\" + age + \"]\";\n    }\n</code></pre>\n\n<p>Is there an ElasticSearch equivalent to the @GeneratedValue annotation?  If not, what is the optimal way to populate the id field when using ElasticSearch?</p>\n"},{"tags":["java","eclipse","tomcat","servlets","web-applications"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1637763247,"post_id":70097602,"comment_id":123913065,"body_markdown":"It seems like the web.xml is deployed and your compiled `AddServer` class file is not. How do you run/deploy this project?","body":"It seems like the web.xml is deployed and your compiled <code>AddServer</code> class file is not. How do you run/deploy this project?"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1637764906,"post_id":70097602,"comment_id":123913845,"body_markdown":"What&#39;s the full stack trace with the root cause? The error page mentions it being in the server logs.","body":"What&#39;s the full stack trace with the root cause? The error page mentions it being in the server logs."},{"owner":{"account_id":20237210,"reputation":63,"user_id":14842023,"display_name":"tinku kalluri"},"score":0,"creation_date":1637765209,"post_id":70097602,"comment_id":123913990,"body_markdown":"@nitind can u guide me on how to open server log","body":"@nitind can u guide me on how to open server log"},{"owner":{"account_id":20237210,"reputation":63,"user_id":14842023,"display_name":"tinku kalluri"},"score":0,"creation_date":1637765263,"post_id":70097602,"comment_id":123914018,"body_markdown":"@f1sh I am using eclipse IDE I just right click on my project (DemoApp) hover over run as then run on the server","body":"@f1sh I am using eclipse IDE I just right click on my project (DemoApp) hover over run as then run on the server"}],"answers":[{"tags":[],"owner":{"account_id":20237210,"reputation":63,"user_id":14842023,"display_name":"tinku kalluri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637941005,"creation_date":1637941005,"answer_id":70126832,"question_id":70097602,"body_markdown":"when I was using JDK provided by amazon(Amazon Corretto JDK 11.0.9_12) I faced This issue.\r\nI resolved this issue by installing java(JDK-17.0.1) by oracle and reinstalled eclipse.\r\n","title":"when I am trying to send a GET request in java servlet using Tomcat server I am getting error instantiating servlet class","body":"<p>when I was using JDK provided by amazon(Amazon Corretto JDK 11.0.9_12) I faced This issue.\nI resolved this issue by installing java(JDK-17.0.1) by oracle and reinstalled eclipse.</p>\n"}],"owner":{"account_id":20237210,"reputation":63,"user_id":14842023,"display_name":"tinku kalluri"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637941005,"creation_date":1637762994,"question_id":70097602,"body_markdown":"I am using tomcat version 10.0.10\r\nThis is the error I am getting when I press Submit in my index.html file\r\nEven if I add a constructor the AddServlet is still not instantiating\r\nI have tried to run the same code in tomcat version(apache-tomcat-8.5.61) still facing the same error.\r\n[![error 500][1]][1]\r\nindex.html\r\n[![index.html][2]][2]\r\nThis is the sevlet code AddServlet.java\r\n      \r\n    package com.sintin;\r\n    import jakarta.servlet.http.HttpServletRequest;\r\n    import jakarta.servlet.ServletException;\r\n    import jakarta.servlet.http.*;\r\n    import jakarta.servlet.*;\r\n    import java.util.*;\r\n    import java.io.*;\r\n\r\n\r\n\r\n    public class AddServer extends HttpServlet{\r\n\t\r\n\tprivate static final long serialVersionUID = 102831973239L;\r\n\t \r\n\tpublic AddServer() {\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\tpublic void service(HttpServletRequest req , HttpServletResponse res) throws \r\n    IOException, ServletException {\r\n    System.out.println(&quot;in the AddServer class&quot;);\r\n\t\t\r\n\tint x = Integer.parseInt(req.getParameter(&quot;num1&quot;));\r\n\tint y = Integer.parseInt(req.getParameter(&quot;num2&quot;));\r\n    //\t\tString stir=&quot;sintnada&quot;;\r\n    //\t\tPrintWriter out = res.getWriter();\r\n    //\t\tout.println(&quot;the result is&quot;+ x+y);\r\n\t\t    System.out.println(&quot;ans=&quot;+x+y);\r\n\t\t    RequestDispatcher rd = req.getRequestDispatcher(&quot;class2&quot;);\r\n\t\t    rd.forward(req, res);\r\n\t }\r\n     }\r\n\r\nThis is the xml file web.xml inside my webapp/web-INF\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee\r\n    http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\r\n    version=&quot;3.1&quot;&gt;\r\n\r\n    &lt;servlet&gt;\r\n\t&lt;servlet-name&gt;add&lt;/servlet-name&gt;\r\n\t&lt;servlet-class&gt;com.sintin.AddServer&lt;/servlet-class&gt;\r\n    &lt;/servlet&gt;\r\n\r\n    &lt;servlet-mapping&gt;\r\n\t&lt;servlet-name&gt;add&lt;/servlet-name&gt;\r\n\t&lt;url-pattern&gt;/add&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n\r\n    &lt;servlet&gt;\r\n\t&lt;servlet-name&gt;class2&lt;/servlet-name&gt;\r\n\t&lt;servlet-class&gt;com.sintin.Class2&lt;/servlet-class&gt;\r\n    &lt;/servlet&gt;\r\n\r\n    &lt;servlet-mapping&gt;\r\n\t&lt;servlet-name&gt;class2&lt;/servlet-name&gt;\r\n    &lt;url-pattern&gt;/class2&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n\r\n    &lt;/web-app&gt;\r\n\r\n[![this is the directory of the files][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dGr8m.png\r\n  [2]: https://i.stack.imgur.com/OUvf9.png\r\n  [3]: https://i.stack.imgur.com/XZt3A.png","title":"when I am trying to send a GET request in java servlet using Tomcat server I am getting error instantiating servlet class","body":"<p>I am using tomcat version 10.0.10\nThis is the error I am getting when I press Submit in my index.html file\nEven if I add a constructor the AddServlet is still not instantiating\nI have tried to run the same code in tomcat version(apache-tomcat-8.5.61) still facing the same error.\n<a href=\"https://i.stack.imgur.com/dGr8m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dGr8m.png\" alt=\"error 500\" /></a>\nindex.html\n<a href=\"https://i.stack.imgur.com/OUvf9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OUvf9.png\" alt=\"index.html\" /></a>\nThis is the sevlet code AddServlet.java</p>\n<pre><code>package com.sintin;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.http.*;\nimport jakarta.servlet.*;\nimport java.util.*;\nimport java.io.*;\n\n\n\npublic class AddServer extends HttpServlet{\n\nprivate static final long serialVersionUID = 102831973239L;\n \npublic AddServer() {\n    \n}\n\n\npublic void service(HttpServletRequest req , HttpServletResponse res) throws \nIOException, ServletException {\nSystem.out.println(&quot;in the AddServer class&quot;);\n    \nint x = Integer.parseInt(req.getParameter(&quot;num1&quot;));\nint y = Integer.parseInt(req.getParameter(&quot;num2&quot;));\n//      String stir=&quot;sintnada&quot;;\n//      PrintWriter out = res.getWriter();\n//      out.println(&quot;the result is&quot;+ x+y);\n        System.out.println(&quot;ans=&quot;+x+y);\n        RequestDispatcher rd = req.getRequestDispatcher(&quot;class2&quot;);\n        rd.forward(req, res);\n }\n }\n</code></pre>\n<p>This is the xml file web.xml inside my webapp/web-INF</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee\nhttp://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\nversion=&quot;3.1&quot;&gt;\n\n&lt;servlet&gt;\n&lt;servlet-name&gt;add&lt;/servlet-name&gt;\n&lt;servlet-class&gt;com.sintin.AddServer&lt;/servlet-class&gt;\n&lt;/servlet&gt;\n\n&lt;servlet-mapping&gt;\n&lt;servlet-name&gt;add&lt;/servlet-name&gt;\n&lt;url-pattern&gt;/add&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n\n&lt;servlet&gt;\n&lt;servlet-name&gt;class2&lt;/servlet-name&gt;\n&lt;servlet-class&gt;com.sintin.Class2&lt;/servlet-class&gt;\n&lt;/servlet&gt;\n\n&lt;servlet-mapping&gt;\n&lt;servlet-name&gt;class2&lt;/servlet-name&gt;\n&lt;url-pattern&gt;/class2&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/XZt3A.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XZt3A.png\" alt=\"this is the directory of the files\" /></a></p>\n"},{"tags":["java","pdf","svg","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1637948482,"post_id":70126765,"comment_id":123966923,"body_markdown":"You could try to use https://github.com/rototor/pdfbox-graphics2d  in combination with Apache Batik. (No I can&#39;t provide code) But the better solution would be to draw directly. I use ZXIng and then draw a 1x1 rectangle for every dot.","body":"You could try to use <a href=\"https://github.com/rototor/pdfbox-graphics2d\" rel=\"nofollow noreferrer\">github.com/rototor/pdfbox-graphics2d</a>  in combination with Apache Batik. (No I can&#39;t provide code) But the better solution would be to draw directly. I use ZXIng and then draw a 1x1 rectangle for every dot."},{"owner":{"account_id":4642163,"reputation":2513,"user_id":3761687,"display_name":"Ryan"},"score":0,"creation_date":1637951622,"post_id":70126765,"comment_id":123967745,"body_markdown":"You should be able to convert SVG to PDF using a HTML to PDF converter (there are various server side options out there). Then it would be a matter of applying/inserting the new PDF page content (you got from HTML to PDF) to the existing target PDF page.","body":"You should be able to convert SVG to PDF using a HTML to PDF converter (there are various server side options out there). Then it would be a matter of applying/inserting the new PDF page content (you got from HTML to PDF) to the existing target PDF page."}],"owner":{"account_id":1044029,"reputation":1363,"user_id":1049393,"accept_rate":67,"display_name":"coderodde"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637940643,"creation_date":1637940643,"question_id":70126765,"body_markdown":"Our app is supposed to typeset PDF bills with bar codes (in SVG format) embedded in them. I tried to find some advice on internet, yet did not find anything that simply works..\r\n\r\nQ: could you provided a code snippet that shows how to go around that issue? \r\n\r\nPS: In the snippet, you can safely assume that we have figured out all the XML in the SVG bar codes.","title":"Java: how to draw an SVG file in a PDF file?","body":"<p>Our app is supposed to typeset PDF bills with bar codes (in SVG format) embedded in them. I tried to find some advice on internet, yet did not find anything that simply works..</p>\n<p>Q: could you provided a code snippet that shows how to go around that issue?</p>\n<p>PS: In the snippet, you can safely assume that we have figured out all the XML in the SVG bar codes.</p>\n"},{"tags":["java","intellij-idea","immutability","setter"],"answers":[{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1499597117,"creation_date":1499597117,"answer_id":44995538,"question_id":44995480,"body_markdown":"A non answer: don&#39;t call this a setter. \r\n\r\nBy convention, a setter changes the instance you call it on. \r\n\r\nSo rather call it *createCloneWithName()* or something alike. \r\n\r\nI guess you might be able to provide special templates to IntelliJ for such clone methods. But don&#39;t try to misuse setter generation for your purpose.","title":"Intellij - create custom setter for immutable objects","body":"<p>A non answer: don't call this a setter. </p>\n\n<p>By convention, a setter changes the instance you call it on. </p>\n\n<p>So rather call it <em>createCloneWithName()</em> or something alike. </p>\n\n<p>I guess you might be able to provide special templates to IntelliJ for such clone methods. But don't try to misuse setter generation for your purpose.</p>\n"},{"tags":[],"owner":{"account_id":2441548,"reputation":2592,"user_id":2129937,"accept_rate":60,"display_name":"matt helliwell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499625212,"creation_date":1499625212,"answer_id":44999716,"question_id":44995480,"body_markdown":"Under setting-&gt;Editor-&gt;Live Templates, you can use live templates with a template something like:\r\n\r\n    $TYPE$ set$NAME$($IN_TYPE$ $PARAM$) {\r\n        return new $TYPE$($PARAM$);\r\n    }\r\n\r\nWhere PARAM is defined with the expression &quot;camelCase(NAME)&quot;\r\nand TYPE is defined with the expression &quot;className()&quot;\r\n\r\n","title":"Intellij - create custom setter for immutable objects","body":"<p>Under setting->Editor->Live Templates, you can use live templates with a template something like:</p>\n\n<pre><code>$TYPE$ set$NAME$($IN_TYPE$ $PARAM$) {\n    return new $TYPE$($PARAM$);\n}\n</code></pre>\n\n<p>Where PARAM is defined with the expression \"camelCase(NAME)\"\nand TYPE is defined with the expression \"className()\"</p>\n"},{"tags":[],"owner":{"account_id":5217253,"reputation":168,"user_id":4171800,"accept_rate":0,"display_name":"guyman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637940489,"creation_date":1637940489,"answer_id":70126738,"question_id":44995480,"body_markdown":"Here&#39;s how I achieved it (with credit to [this post](https://coderedirect.com/questions/573437/can-intellij-generate-getters-without-the-get-prefix)):\r\n\r\n1. Alt+Insert\r\n2. Select Setter\r\n3. Open the template configuration from &#39;...&#39; on the RHS\r\n4. Create a new template from the LHS - see example below\r\n5. Ok and select your new template\r\n\r\n```\r\n#set($paramName = $helper.getParamName($field, $project))\r\npublic ##\r\n#if($field.modifierStatic)\r\nstatic void ##\r\n#else\r\n  $classSignature ##\r\n#end\r\nset$StringUtil.capitalizeWithJavaBeanConvention($StringUtil.sanitizeJavaIdentifier($helper.getPropertyName($field, $project)))($field.type $paramName) {\r\n#if ($field.name == $paramName)\r\n  #if (!$field.modifierStatic)\r\n  this.##\r\n  #else\r\n    $classname.##\r\n  #end\r\n#end\r\n$field.name = $paramName;\r\n#if(!$field.modifierStatic)\r\nreturn this;\r\n#end\r\n}\r\n```","title":"Intellij - create custom setter for immutable objects","body":"<p>Here's how I achieved it (with credit to <a href=\"https://coderedirect.com/questions/573437/can-intellij-generate-getters-without-the-get-prefix\" rel=\"nofollow noreferrer\">this post</a>):</p>\n<ol>\n<li>Alt+Insert</li>\n<li>Select Setter</li>\n<li>Open the template configuration from '...' on the RHS</li>\n<li>Create a new template from the LHS - see example below</li>\n<li>Ok and select your new template</li>\n</ol>\n<pre><code>#set($paramName = $helper.getParamName($field, $project))\npublic ##\n#if($field.modifierStatic)\nstatic void ##\n#else\n  $classSignature ##\n#end\nset$StringUtil.capitalizeWithJavaBeanConvention($StringUtil.sanitizeJavaIdentifier($helper.getPropertyName($field, $project)))($field.type $paramName) {\n#if ($field.name == $paramName)\n  #if (!$field.modifierStatic)\n  this.##\n  #else\n    $classname.##\n  #end\n#end\n$field.name = $paramName;\n#if(!$field.modifierStatic)\nreturn this;\n#end\n}\n</code></pre>\n"}],"owner":{"account_id":5217253,"reputation":168,"user_id":4171800,"accept_rate":0,"display_name":"guyman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":978,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1637940489,"creation_date":1499596777,"question_id":44995480,"body_markdown":"I&#39;m trying to write a setter template in Intellij that will generate conventional immutable setters, those that create and return a new object instance upon setting a member.\r\ne.g.\r\n\r\n    Person setName(String name) {\r\n      return new Person(age, name);\r\n    }\r\n\r\nHas anyone been here before?","title":"Intellij - create custom setter for immutable objects","body":"<p>I'm trying to write a setter template in Intellij that will generate conventional immutable setters, those that create and return a new object instance upon setting a member.\ne.g.</p>\n\n<pre><code>Person setName(String name) {\n  return new Person(age, name);\n}\n</code></pre>\n\n<p>Has anyone been here before?</p>\n"},{"tags":["java","json","gson"],"comments":[{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1637800673,"post_id":70099221,"comment_id":123925734,"body_markdown":"Should every entry in `body` be wrapped into a new JSON object which duplicates the `header`? For example, would your &quot;Sample output document&quot; look the same for `obj-2`? Just to be sure that there is no misunderstanding, you want to convert `InputDocument` → `Iterator&lt;OutputDocument&gt;`, right?","body":"Should every entry in <code>body</code> be wrapped into a new JSON object which duplicates the <code>header</code>? For example, would your &quot;Sample output document&quot; look the same for <code>obj-2</code>? Just to be sure that there is no misunderstanding, you want to convert <code>InputDocument</code> → <code>Iterator&lt;OutputDocument&gt;</code>, right?"},{"owner":{"account_id":13636034,"reputation":75,"user_id":9837037,"display_name":"Ad Astra"},"score":0,"creation_date":1637891206,"post_id":70099221,"comment_id":123950761,"body_markdown":"Yes.  For each element the header object does not change.","body":"Yes.  For each element the header object does not change."}],"answers":[{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637940322,"creation_date":1637940322,"answer_id":70126711,"question_id":70099221,"body_markdown":"As mentioned in the linked tutorial, you should use [`JsonReader`](https://www.javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/stream/JsonReader.html) when you want to process JSON data in a streaming way. You can then use the respective [`TypeAdapter`](https://www.javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/TypeAdapter.html) instances obtained from Gson for your POJO classes and use them to parse the header and the individual body objects.  \r\nYou could also use the `Gson.fromJson(JsonReader, ...)` method instead of directly using the `TypeAdapter` instances; however Gson unfortunately does not respect the leniency setting / always [makes the reader lenient](https://www.javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/stream/JsonReader.html#setLenient(boolean)). Unless you explicitly need this, I would recommend against this and instead directly use the `TypeAdapter` instances because then the leniency setting of the `JsonReader` is respected.\r\n\r\nAssuming you have the following POJO classes:\r\n```java\r\npublic class Header {\r\n  public String header1;\r\n  public String header2;\r\n  public String header3;\r\n}\r\n\r\npublic class BodyObject {\r\n  public String id;\r\n  public String name;\r\n  public String description;\r\n}\r\n\r\npublic class OutputDocument {\r\n  public Header header;\r\n  public BodyObject object;\r\n}\r\n```\r\n\r\nThen you could create a method which creates a `Stream&lt;OutputDocument&gt;` like the following. Using a [`Stream`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Stream.html) here has the advantage that it&#39;s `close` method can be used to close the `Reader` providing the JSON data. However it can also be implemented in a similar way using an `Iterator`.\r\n\r\n```java\r\n/**\r\n * Creates a {@link Stream} which transforms the data to {@link OutputDocument} elements.\r\n * \r\n * &lt;p&gt;&lt;b&gt;Important:&lt;/b&gt; The provided reader will be closed by this method, or by the created\r\n * stream. It is therefore necessary to call {@link Stream#close()} (for example by using a\r\n * try-with-resources statement).\r\n * \r\n * @param inputDocumentReader JSON data stream\r\n * @param gson Gson object used for looking up adapters\r\n * @return Stream of transformed elements\r\n */\r\npublic static Stream&lt;OutputDocument&gt; transform(Reader inputDocumentReader, Gson gson) throws IOException {\r\n  JsonReader jsonReader = new JsonReader(inputDocumentReader);\r\n  try {\r\n    jsonReader.beginObject();\r\n    String headerProperty = jsonReader.nextName();\r\n    if (!headerProperty.equals(&quot;header&quot;)) {\r\n      throw new IllegalArgumentException(&quot;Expected &#39;header&#39; property at &quot; + jsonReader.getPath());\r\n    }\r\n\r\n    // Read the Header\r\n    TypeAdapter&lt;Header&gt; headerAdapter = gson.getAdapter(Header.class);\r\n    Header header = headerAdapter.read(jsonReader);\r\n\r\n\r\n    String bodyProperty = jsonReader.nextName();\r\n    if (!bodyProperty.equals(&quot;body&quot;)) {\r\n      throw new IllegalArgumentException(&quot;Expected &#39;body&#39; property at &quot; + jsonReader.getPath());\r\n    }\r\n\r\n    // Start reading body\r\n    jsonReader.beginObject();\r\n    TypeAdapter&lt;BodyObject&gt; bodyObjectAdapter = gson.getAdapter(BodyObject.class);\r\n\r\n    long estimatedSize = Long.MAX_VALUE; // unknown size\r\n    // Could also add `| NONNULL`, if there are no null body objects\r\n    int characteristics = Spliterator.Spliterator.ORDERED;\r\n    Spliterator&lt;OutputDocument&gt; spliterator = new AbstractSpliterator&lt;&gt;(estimatedSize, characteristics) {\r\n      @Override\r\n      public boolean tryAdvance(Consumer&lt;? super OutputDocument&gt; action) {\r\n        try {\r\n          // Check if end of &#39;body&#39; object has been reached\r\n          if (!jsonReader.hasNext()) {\r\n            // End &#39;body&#39;\r\n            jsonReader.endObject();\r\n            // End top level object\r\n            jsonReader.endObject();\r\n\r\n            if (jsonReader.peek() != JsonToken.END_DOCUMENT) {\r\n              throw new IllegalStateException(&quot;Expected end of JSON document at &quot; + jsonReader.getPath());\r\n            }\r\n            // Reached end\r\n            return false;\r\n          } else {\r\n            // Skip entry name\r\n            jsonReader.skipValue();\r\n\r\n            BodyObject object = bodyObjectAdapter.read(jsonReader);\r\n\r\n            // Create combined OutputDocument\r\n            OutputDocument result = new OutputDocument();\r\n            result.header = header;\r\n            result.object = object;\r\n\r\n            action.accept(result);\r\n            return true;\r\n          }\r\n        } catch (IOException e) {\r\n          throw new UncheckedIOException(&quot;Failed reading next element&quot;, e);\r\n        }\r\n      }\r\n    };\r\n    return StreamSupport.stream(spliterator, false) // false, don&#39;t create parallel stream\r\n        .onClose(() -&gt; {\r\n          try {\r\n            jsonReader.close();\r\n          } catch (IOException e) {\r\n            throw new UncheckedIOException(&quot;Failed closing JsonReader&quot;, e);\r\n          }\r\n        });\r\n  }\r\n  catch (Exception e) {\r\n    try {\r\n      jsonReader.close();\r\n    } catch (IOException suppressed) {\r\n      e.addSuppressed(suppressed);\r\n    }\r\n    throw e;\r\n  }\r\n}\r\n```\r\n\r\nThis method can then be called like this:\r\n```java\r\ntry (Stream&lt;OutputDocument&gt; stream = transform(inputDocumentReader, new Gson())) {\r\n    ...\r\n}\r\n```\r\n`inputDocumentReader` is the `Reader` you created for your InputDocument file. The `Gson` instance can either be a new instance (as shown in the example above), or it can be one which you have created with [`GsonBuilder`](https://www.javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/GsonBuilder.html) in case you registered custom adapters to customize how the POJO classes or their fields are deserialized.\r\n","title":"Using GSON to transform a nested JSON Stream","body":"<p>As mentioned in the linked tutorial, you should use <a href=\"https://www.javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/stream/JsonReader.html\" rel=\"nofollow noreferrer\"><code>JsonReader</code></a> when you want to process JSON data in a streaming way. You can then use the respective <a href=\"https://www.javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/TypeAdapter.html\" rel=\"nofollow noreferrer\"><code>TypeAdapter</code></a> instances obtained from Gson for your POJO classes and use them to parse the header and the individual body objects.<br />\nYou could also use the <code>Gson.fromJson(JsonReader, ...)</code> method instead of directly using the <code>TypeAdapter</code> instances; however Gson unfortunately does not respect the leniency setting / always <a href=\"https://www.javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/stream/JsonReader.html#setLenient(boolean)\" rel=\"nofollow noreferrer\">makes the reader lenient</a>. Unless you explicitly need this, I would recommend against this and instead directly use the <code>TypeAdapter</code> instances because then the leniency setting of the <code>JsonReader</code> is respected.</p>\n<p>Assuming you have the following POJO classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Header {\n  public String header1;\n  public String header2;\n  public String header3;\n}\n\npublic class BodyObject {\n  public String id;\n  public String name;\n  public String description;\n}\n\npublic class OutputDocument {\n  public Header header;\n  public BodyObject object;\n}\n</code></pre>\n<p>Then you could create a method which creates a <code>Stream&lt;OutputDocument&gt;</code> like the following. Using a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Stream.html\" rel=\"nofollow noreferrer\"><code>Stream</code></a> here has the advantage that it's <code>close</code> method can be used to close the <code>Reader</code> providing the JSON data. However it can also be implemented in a similar way using an <code>Iterator</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Creates a {@link Stream} which transforms the data to {@link OutputDocument} elements.\n * \n * &lt;p&gt;&lt;b&gt;Important:&lt;/b&gt; The provided reader will be closed by this method, or by the created\n * stream. It is therefore necessary to call {@link Stream#close()} (for example by using a\n * try-with-resources statement).\n * \n * @param inputDocumentReader JSON data stream\n * @param gson Gson object used for looking up adapters\n * @return Stream of transformed elements\n */\npublic static Stream&lt;OutputDocument&gt; transform(Reader inputDocumentReader, Gson gson) throws IOException {\n  JsonReader jsonReader = new JsonReader(inputDocumentReader);\n  try {\n    jsonReader.beginObject();\n    String headerProperty = jsonReader.nextName();\n    if (!headerProperty.equals(&quot;header&quot;)) {\n      throw new IllegalArgumentException(&quot;Expected 'header' property at &quot; + jsonReader.getPath());\n    }\n\n    // Read the Header\n    TypeAdapter&lt;Header&gt; headerAdapter = gson.getAdapter(Header.class);\n    Header header = headerAdapter.read(jsonReader);\n\n\n    String bodyProperty = jsonReader.nextName();\n    if (!bodyProperty.equals(&quot;body&quot;)) {\n      throw new IllegalArgumentException(&quot;Expected 'body' property at &quot; + jsonReader.getPath());\n    }\n\n    // Start reading body\n    jsonReader.beginObject();\n    TypeAdapter&lt;BodyObject&gt; bodyObjectAdapter = gson.getAdapter(BodyObject.class);\n\n    long estimatedSize = Long.MAX_VALUE; // unknown size\n    // Could also add `| NONNULL`, if there are no null body objects\n    int characteristics = Spliterator.Spliterator.ORDERED;\n    Spliterator&lt;OutputDocument&gt; spliterator = new AbstractSpliterator&lt;&gt;(estimatedSize, characteristics) {\n      @Override\n      public boolean tryAdvance(Consumer&lt;? super OutputDocument&gt; action) {\n        try {\n          // Check if end of 'body' object has been reached\n          if (!jsonReader.hasNext()) {\n            // End 'body'\n            jsonReader.endObject();\n            // End top level object\n            jsonReader.endObject();\n\n            if (jsonReader.peek() != JsonToken.END_DOCUMENT) {\n              throw new IllegalStateException(&quot;Expected end of JSON document at &quot; + jsonReader.getPath());\n            }\n            // Reached end\n            return false;\n          } else {\n            // Skip entry name\n            jsonReader.skipValue();\n\n            BodyObject object = bodyObjectAdapter.read(jsonReader);\n\n            // Create combined OutputDocument\n            OutputDocument result = new OutputDocument();\n            result.header = header;\n            result.object = object;\n\n            action.accept(result);\n            return true;\n          }\n        } catch (IOException e) {\n          throw new UncheckedIOException(&quot;Failed reading next element&quot;, e);\n        }\n      }\n    };\n    return StreamSupport.stream(spliterator, false) // false, don't create parallel stream\n        .onClose(() -&gt; {\n          try {\n            jsonReader.close();\n          } catch (IOException e) {\n            throw new UncheckedIOException(&quot;Failed closing JsonReader&quot;, e);\n          }\n        });\n  }\n  catch (Exception e) {\n    try {\n      jsonReader.close();\n    } catch (IOException suppressed) {\n      e.addSuppressed(suppressed);\n    }\n    throw e;\n  }\n}\n</code></pre>\n<p>This method can then be called like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (Stream&lt;OutputDocument&gt; stream = transform(inputDocumentReader, new Gson())) {\n    ...\n}\n</code></pre>\n<p><code>inputDocumentReader</code> is the <code>Reader</code> you created for your InputDocument file. The <code>Gson</code> instance can either be a new instance (as shown in the example above), or it can be one which you have created with <a href=\"https://www.javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/GsonBuilder.html\" rel=\"nofollow noreferrer\"><code>GsonBuilder</code></a> in case you registered custom adapters to customize how the POJO classes or their fields are deserialized.</p>\n"}],"owner":{"account_id":13636034,"reputation":75,"user_id":9837037,"display_name":"Ad Astra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":622,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637940322,"creation_date":1637769633,"question_id":70099221,"body_markdown":"**Purpose**: Using GSON take an input stream of a large JSON file and expose it downstream functions as an Iterator; with the added constraint that I physically can&#39;t store the entire JSON File in memory.  Currently I do have this working using some basic Java code that does the following:\r\n\r\n - knows when to skip curly braces \r\n - read the stream until it finds the next valid JSON Object \r\n - parse that into a POJO using GSON\r\n\r\n**Desired Outcome** See if GSON has the built in ability to replace my custom Java code.\r\n\r\n**SAMPLE INPUT DOCUMENT**\r\n\r\n    {\r\n    \t&quot;header&quot;:\r\n    \t{\r\n    \t\t&quot;header1&quot;:&quot;value1&quot;,\r\n    \t\t&quot;header2&quot;:&quot;value2&quot;,\r\n    \t\t&quot;header3&quot;:&quot;value3&quot;\r\n    \t},\r\n    \t&quot;body&quot;:\r\n    \t{\r\n    \t\t&quot;obj-1&quot;:\r\n    \t\t{\r\n    \t\t\t&quot;id&quot;:&quot;obj-1&quot;,\r\n    \t\t\t&quot;name&quot;:&quot;obj-1-name&quot;,\r\n    \t\t\t&quot;description&quot;:&quot;obj-1-description&quot;\r\n    \t\t},\r\n    \t\t&quot;obj-2&quot;:\r\n    \t\t{\r\n    \t\t\t&quot;id&quot;:&quot;obj-2&quot;,\r\n    \t\t\t&quot;name&quot;:&quot;obj-2-name&quot;,\r\n    \t\t\t&quot;description&quot;:&quot;obj-2-description&quot;\r\n    \t\t},\r\n    \t\t&quot;obj-3&quot;:\r\n    \t\t{\r\n    \t\t\t&quot;id&quot;:&quot;obj-3&quot;,\r\n    \t\t\t&quot;name&quot;:&quot;obj-3-name&quot;,\r\n    \t\t\t&quot;description&quot;:&quot;obj-3-description&quot;\r\n    \t\t},\r\n    \t\t&quot;obj-4&quot;:\r\n    \t\t{\r\n    \t\t\t&quot;id&quot;:&quot;obj-4&quot;,\r\n    \t\t\t&quot;name&quot;:&quot;obj-4-name&quot;,\r\n    \t\t\t&quot;description&quot;:&quot;obj-4-description&quot;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n**SAMPLE OUTPUT DOCUMENT**\r\n\r\n    {\r\n    \t&quot;header&quot;:\r\n    \t{\r\n    \t\t&quot;header1&quot;:&quot;value1&quot;,\r\n    \t\t&quot;header2&quot;:&quot;value2&quot;,\r\n    \t\t&quot;header3&quot;:&quot;value3&quot;\r\n    \t},\t\r\n    \t&quot;object&quot;:\r\n    \t{\r\n    \t\t&quot;id&quot;:&quot;obj-1&quot;,\r\n    \t\t&quot;name&quot;:&quot;obj-1-name&quot;,\r\n    \t\t&quot;description&quot;:&quot;obj-1-description&quot;\r\n    \t}\r\n    }\r\n\r\n\r\nPOJO&#39;s have been created for the &quot;header&quot; object, the individual elements in the &quot;body&quot; JSON Object, and the output document.  \r\n\r\nUsing the following as a stepping stone to initially solve the problem, https://howtodoinjava.com/gson/jsonreader-streaming-json-parser/, is it my understanding that since there is an transformation of the JSON Structure I would need to do that basic 3 step process; just translate it into GSON specific functions?\r\n","title":"Using GSON to transform a nested JSON Stream","body":"<p><strong>Purpose</strong>: Using GSON take an input stream of a large JSON file and expose it downstream functions as an Iterator; with the added constraint that I physically can't store the entire JSON File in memory.  Currently I do have this working using some basic Java code that does the following:</p>\n<ul>\n<li>knows when to skip curly braces</li>\n<li>read the stream until it finds the next valid JSON Object</li>\n<li>parse that into a POJO using GSON</li>\n</ul>\n<p><strong>Desired Outcome</strong> See if GSON has the built in ability to replace my custom Java code.</p>\n<p><strong>SAMPLE INPUT DOCUMENT</strong></p>\n<pre><code>{\n    &quot;header&quot;:\n    {\n        &quot;header1&quot;:&quot;value1&quot;,\n        &quot;header2&quot;:&quot;value2&quot;,\n        &quot;header3&quot;:&quot;value3&quot;\n    },\n    &quot;body&quot;:\n    {\n        &quot;obj-1&quot;:\n        {\n            &quot;id&quot;:&quot;obj-1&quot;,\n            &quot;name&quot;:&quot;obj-1-name&quot;,\n            &quot;description&quot;:&quot;obj-1-description&quot;\n        },\n        &quot;obj-2&quot;:\n        {\n            &quot;id&quot;:&quot;obj-2&quot;,\n            &quot;name&quot;:&quot;obj-2-name&quot;,\n            &quot;description&quot;:&quot;obj-2-description&quot;\n        },\n        &quot;obj-3&quot;:\n        {\n            &quot;id&quot;:&quot;obj-3&quot;,\n            &quot;name&quot;:&quot;obj-3-name&quot;,\n            &quot;description&quot;:&quot;obj-3-description&quot;\n        },\n        &quot;obj-4&quot;:\n        {\n            &quot;id&quot;:&quot;obj-4&quot;,\n            &quot;name&quot;:&quot;obj-4-name&quot;,\n            &quot;description&quot;:&quot;obj-4-description&quot;\n        }\n    }\n}\n</code></pre>\n<p><strong>SAMPLE OUTPUT DOCUMENT</strong></p>\n<pre><code>{\n    &quot;header&quot;:\n    {\n        &quot;header1&quot;:&quot;value1&quot;,\n        &quot;header2&quot;:&quot;value2&quot;,\n        &quot;header3&quot;:&quot;value3&quot;\n    },  \n    &quot;object&quot;:\n    {\n        &quot;id&quot;:&quot;obj-1&quot;,\n        &quot;name&quot;:&quot;obj-1-name&quot;,\n        &quot;description&quot;:&quot;obj-1-description&quot;\n    }\n}\n</code></pre>\n<p>POJO's have been created for the &quot;header&quot; object, the individual elements in the &quot;body&quot; JSON Object, and the output document.</p>\n<p>Using the following as a stepping stone to initially solve the problem, <a href=\"https://howtodoinjava.com/gson/jsonreader-streaming-json-parser/\" rel=\"nofollow noreferrer\">https://howtodoinjava.com/gson/jsonreader-streaming-json-parser/</a>, is it my understanding that since there is an transformation of the JSON Structure I would need to do that basic 3 step process; just translate it into GSON specific functions?</p>\n"},{"tags":["java","android","xml","kotlin","textinputlayout"],"comments":[{"owner":{"account_id":17317295,"reputation":160,"user_id":12543430,"display_name":"D_K"},"score":0,"creation_date":1638012649,"post_id":70126680,"comment_id":123977394,"body_markdown":"what exactly do you want ? can u expalin it in more details please?","body":"what exactly do you want ? can u expalin it in more details please?"},{"owner":{"account_id":23463063,"reputation":1,"user_id":17517656,"display_name":"Mehmet Taş"},"score":0,"creation_date":1638019152,"post_id":70126680,"comment_id":123978557,"body_markdown":"I have two TextInputLayout in a single layout. Enter Password + Confirm Password. Both have a password toggle icon at the end of TextInputLayout. Once the user clicked on this icon on one of these text input layout views, I want both views to toggle (show the password for both / hide password for both automatically). I don&#39;t want user to toggle both input views manually @D_K","body":"I have two TextInputLayout in a single layout. Enter Password + Confirm Password. Both have a password toggle icon at the end of TextInputLayout. Once the user clicked on this icon on one of these text input layout views, I want both views to toggle (show the password for both / hide password for both automatically). I don&#39;t want user to toggle both input views manually @D_K"},{"owner":{"account_id":17317295,"reputation":160,"user_id":12543430,"display_name":"D_K"},"score":0,"creation_date":1638031757,"post_id":70126680,"comment_id":123981479,"body_markdown":"can u show me you java code ?? if u implemented ??","body":"can u show me you java code ?? if u implemented ??"}],"owner":{"account_id":23463063,"reputation":1,"user_id":17517656,"display_name":"Mehmet Taş"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637940211,"creation_date":1637940211,"question_id":70126680,"body_markdown":"I have two TextInputLayouts where the first one gets the password input and the second one gets the confirmed password input. I&#39;m completely okay with the single-input layout toggle change. However, I wanted to also toggle the other password input layout automatically. Couldn&#39;t find such implementation on the documentation. Any ideas?","title":"Password toggle for multiple TextInputLayouts","body":"<p>I have two TextInputLayouts where the first one gets the password input and the second one gets the confirmed password input. I'm completely okay with the single-input layout toggle change. However, I wanted to also toggle the other password input layout automatically. Couldn't find such implementation on the documentation. Any ideas?</p>\n"},{"tags":["java","tomcat","amazon-web-services"],"comments":[{"owner":{"account_id":3006999,"reputation":6615,"user_id":2551312,"accept_rate":100,"display_name":"Kumar Abhinav"},"score":0,"creation_date":1439381620,"post_id":31964841,"comment_id":51836743,"body_markdown":"Can you paste your web.xml here","body":"Can you paste your web.xml here"},{"owner":{"account_id":4727598,"reputation":286,"user_id":3824055,"accept_rate":50,"display_name":"Sumit Gupta"},"score":0,"creation_date":1439381628,"post_id":31964841,"comment_id":51836748,"body_markdown":"Can u provide the logs?","body":"Can u provide the logs?"},{"owner":{"account_id":4352944,"reputation":4918,"user_id":3589625,"accept_rate":68,"display_name":"Ondrej Tokar"},"score":0,"creation_date":1439382014,"post_id":31964841,"comment_id":51837050,"body_markdown":"I have pasted the web.xml of the web app, but as I said in the description, I am not even able to see the /manager/index.jsp.","body":"I have pasted the web.xml of the web app, but as I said in the description, I am not even able to see the /manager/index.jsp."},{"owner":{"account_id":2406105,"reputation":15821,"user_id":2102532,"accept_rate":67,"display_name":"meskobalazs"},"score":0,"creation_date":1439382085,"post_id":31964841,"comment_id":51837096,"body_markdown":"what are the contents of `Tomcat/webapps`?","body":"what are the contents of <code>Tomcat&#47;webapps</code>?"},{"owner":{"account_id":4352944,"reputation":4918,"user_id":3589625,"accept_rate":68,"display_name":"Ondrej Tokar"},"score":0,"creation_date":1439382148,"post_id":31964841,"comment_id":51837157,"body_markdown":"@meskobalazs ROOT, manager, host-manager, examples, docs, my app","body":"@meskobalazs ROOT, manager, host-manager, examples, docs, my app"},{"owner":{"account_id":72198,"reputation":81,"user_id":208556,"display_name":"Generic Prototype"},"score":0,"creation_date":1439382196,"post_id":31964841,"comment_id":51837195,"body_markdown":"have you changed something in web.xml or any other configuration files?","body":"have you changed something in web.xml or any other configuration files?"},{"owner":{"account_id":4352944,"reputation":4918,"user_id":3589625,"accept_rate":68,"display_name":"Ondrej Tokar"},"score":0,"creation_date":1439382279,"post_id":31964841,"comment_id":51837250,"body_markdown":"@KaiWoska, yes I wanted to add the file size limitation and I also changed owner of the file. That was the only thing I&#39;ve done. Then when I thought that might be the issue, I have removed the part with the size limitation. However, I have no idea who was owner of the file before... that is AWS, I am logged in as user: &quot;ubuntu&quot;","body":"@KaiWoska, yes I wanted to add the file size limitation and I also changed owner of the file. That was the only thing I&#39;ve done. Then when I thought that might be the issue, I have removed the part with the size limitation. However, I have no idea who was owner of the file before... that is AWS, I am logged in as user: &quot;ubuntu&quot;"},{"owner":{"account_id":72198,"reputation":81,"user_id":208556,"display_name":"Generic Prototype"},"score":0,"creation_date":1439382580,"post_id":31964841,"comment_id":51837457,"body_markdown":"is there a user &quot;tomcat&quot; you can assign as owner?","body":"is there a user &quot;tomcat&quot; you can assign as owner?"},{"owner":{"account_id":4352944,"reputation":4918,"user_id":3589625,"accept_rate":68,"display_name":"Ondrej Tokar"},"score":0,"creation_date":1439382826,"post_id":31964841,"comment_id":51837652,"body_markdown":"I have tried to assign owner of the conf folder to tomcat and then also to bitnami (which is owned by tomcat I guess). Also I have restarted the tomcat both times. Doesn&#39;t work.","body":"I have tried to assign owner of the conf folder to tomcat and then also to bitnami (which is owned by tomcat I guess). Also I have restarted the tomcat both times. Doesn&#39;t work."},{"owner":{"account_id":4352944,"reputation":4918,"user_id":3589625,"accept_rate":68,"display_name":"Ondrej Tokar"},"score":0,"creation_date":1439384610,"post_id":31964841,"comment_id":51839158,"body_markdown":"@KaiWoska, I think I found the issue, can you please take a look at the logs?","body":"@KaiWoska, I think I found the issue, can you please take a look at the logs?"},{"owner":{"account_id":72198,"reputation":81,"user_id":208556,"display_name":"Generic Prototype"},"score":0,"creation_date":1439539164,"post_id":31964841,"comment_id":51912705,"body_markdown":"Hmm? Seems like another instance of tomcat is still running. Sadly I have no experience with AWS. How much access do you have to find the running process listening on port 8009 and killing it?","body":"Hmm? Seems like another instance of tomcat is still running. Sadly I have no experience with AWS. How much access do you have to find the running process listening on port 8009 and killing it?"},{"owner":{"account_id":4352944,"reputation":4918,"user_id":3589625,"accept_rate":68,"display_name":"Ondrej Tokar"},"score":0,"creation_date":1439549905,"post_id":31964841,"comment_id":51919204,"body_markdown":"Thank you for help. I have figured it out. I had to restart the whole server, reset permissions etc. Also I got much help by looking into logs, which was another file: catalina-daemon.out ... I don&#39;t exactly remember what have I done...","body":"Thank you for help. I have figured it out. I had to restart the whole server, reset permissions etc. Also I got much help by looking into logs, which was another file: catalina-daemon.out ... I don&#39;t exactly remember what have I done..."}],"owner":{"account_id":4352944,"reputation":4918,"user_id":3589625,"accept_rate":68,"display_name":"Ondrej Tokar"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":765,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637939367,"creation_date":1439381448,"question_id":31964841,"body_markdown":"I had a java web app which was working fine on the `AWS server`. However, after some time and perhaps some slight changes, which I can&#39;t remember, I am getting `404 error`.\r\n\r\nI have tried to reboot the server, restart the tomcat re-deploy the app.\r\n\r\nNothing works, I have also set public `RWX` permission. \r\n\r\nThe `Tomcat` version is 7, Java as well. It all came in an `AMI` package by `AWS`.\r\n\r\nI am getting the same result when I try to go: `/manager/index.jsp`\r\n\r\nAny idea? Is there more information I can provide?\r\n\r\n    web.xml:\r\n   \r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n    \txsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;\r\n    \tversion=&quot;3.0&quot;&gt;\r\n    \t&lt;display-name&gt;Visma_UploadInterface&lt;/display-name&gt;\r\n    \t&lt;welcome-file-list&gt;\r\n    \t\t&lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\r\n    \t\t&lt;welcome-file&gt;index.htm&lt;/welcome-file&gt;\r\n    \t\t&lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\r\n    \t\t&lt;welcome-file&gt;default.html&lt;/welcome-file&gt;\r\n    \t\t&lt;welcome-file&gt;default.htm&lt;/welcome-file&gt;\r\n    \t\t&lt;welcome-file&gt;default.jsp&lt;/welcome-file&gt;\r\n    \t&lt;/welcome-file-list&gt;\r\n    \t&lt;servlet&gt;\r\n    \t\t&lt;servlet-name&gt;LoginServlet&lt;/servlet-name&gt;\r\n    \t\t&lt;servlet-class&gt;servlets.LoginServlet&lt;/servlet-class&gt;\r\n    \t&lt;/servlet&gt;\r\n    \t&lt;servlet-mapping&gt;\r\n    \t\t&lt;servlet-name&gt;LoginServlet&lt;/servlet-name&gt;\r\n    \t\t&lt;url-pattern&gt;/main/*&lt;/url-pattern&gt;\r\n    \t&lt;/servlet-mapping&gt;\r\n    \t&lt;servlet&gt;\r\n    \t\t&lt;servlet-name&gt;MainPageServlet&lt;/servlet-name&gt;\r\n    \t\t&lt;servlet-class&gt;servlets.MainPageServlet&lt;/servlet-class&gt;\r\n    \t&lt;/servlet&gt;\r\n    \t&lt;servlet-mapping&gt;\r\n    \t\t&lt;servlet-name&gt;MainPageServlet&lt;/servlet-name&gt;\r\n    \t\t&lt;url-pattern&gt;/mainPage/*&lt;/url-pattern&gt;\r\n    \t&lt;/servlet-mapping&gt;\r\n    \t&lt;servlet&gt;\r\n    \t\t&lt;servlet-name&gt;MappingServlet&lt;/servlet-name&gt;\r\n    \t\t&lt;servlet-class&gt;servlets.MappingServlet&lt;/servlet-class&gt;\r\n    \t&lt;/servlet&gt;\r\n    \t&lt;servlet-mapping&gt;\r\n    \t\t&lt;servlet-name&gt;MappingServlet&lt;/servlet-name&gt;\r\n    \t\t&lt;url-pattern&gt;/mapping/*&lt;/url-pattern&gt;\r\n    \t&lt;/servlet-mapping&gt;\r\n    \t&lt;servlet&gt;\r\n    \t\t&lt;servlet-name&gt;ListImportServlet&lt;/servlet-name&gt;\r\n    \t\t&lt;servlet-class&gt;servlets.ListImportServlet&lt;/servlet-class&gt;\r\n    \t&lt;/servlet&gt;\r\n    \t&lt;servlet-mapping&gt;\r\n    \t\t&lt;servlet-name&gt;ListImportServlet&lt;/servlet-name&gt;\r\n    \t\t&lt;url-pattern&gt;/listImport/*&lt;/url-pattern&gt;\r\n    \t&lt;/servlet-mapping&gt;\r\n    \t&lt;servlet&gt;\r\n    \t\t&lt;servlet-name&gt;RejectedRecordsServlet&lt;/servlet-name&gt;\r\n    \t\t&lt;servlet-class&gt;servlets.RejectedRecordsServlet&lt;/servlet-class&gt;\r\n    \t&lt;/servlet&gt;\r\n    \t&lt;servlet-mapping&gt;\r\n    \t\t&lt;servlet-name&gt;RejectedRecordsServlet&lt;/servlet-name&gt;\r\n    \t\t&lt;url-pattern&gt;/rejectedRecords/*&lt;/url-pattern&gt;\r\n    \t&lt;/servlet-mapping&gt;\r\n    \t&lt;servlet&gt;\r\n    \t\t&lt;servlet-name&gt;UploadServlet&lt;/servlet-name&gt;\r\n    \t\t&lt;servlet-class&gt;servlets.UploadServlet&lt;/servlet-class&gt;\r\n    \t\t\r\n    \t&lt;/servlet&gt;\r\n    \r\n    \r\n    \r\n    &lt;/web-app&gt;\r\n\r\nMaybe the solution would be to reinstall the Tomcat, but is there a way just to get a fresh installation of it from AWS? Or some rollback?\r\n\r\nSome logs from `Catalina.out` they show errors:\r\n\r\n    SEVERE: Failed to initialize end point associated with ProtocolHandler [&quot;ajp-bio-8009&quot;]\r\n    java.net.BindException: Address already in use &lt;null&gt;:8009\r\n    \tat org.apache.tomcat.util.net.JIoEndpoint.bind(JIoEndpoint.java:413)\r\n    \tat org.apache.tomcat.util.net.AbstractEndpoint.init(AbstractEndpoint.java:649)\r\n    \tat org.apache.coyote.AbstractProtocol.init(AbstractProtocol.java:434)\r\n    \tat org.apache.catalina.connector.Connector.initInternal(Connector.java:978)\r\n    \tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\r\n    \tat org.apache.catalina.core.StandardService.initInternal(StandardService.java:559)\r\n    \tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\r\n    \tat org.apache.catalina.core.StandardServer.initInternal(StandardServer.java:821)\r\n    \tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\r\n    \tat org.apache.catalina.startup.Catalina.load(Catalina.java:638)\r\n    \tat org.apache.catalina.startup.Catalina.load(Catalina.java:663)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:280)\r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:454)\r\n    Caused by: java.net.BindException: Address already in use\r\n    \tat java.net.PlainSocketImpl.socketBind(Native Method)\r\n    \tat java.net.AbstractPlainSocketImpl.bind(Unknown Source)\r\n    \tat java.net.ServerSocket.bind(Unknown Source)\r\n    \tat java.net.ServerSocket.&lt;init&gt;(Unknown Source)\r\n    \tat java.net.ServerSocket.&lt;init&gt;(Unknown Source)\r\n    \tat org.apache.tomcat.util.net.DefaultServerSocketFactory.createSocket(DefaultServerSocketFactory.java:49)\r\n    \tat org.apache.tomcat.util.net.JIoEndpoint.bind(JIoEndpoint.java:400)\r\n    \t... 16 more\r\n    \r\n    Aug 12, 2015 12:44:43 PM org.apache.catalina.core.StandardService initInternal\r\n    SEVERE: Failed to initialize connector [Connector[AJP/1.3-8009]]\r\n    org.apache.catalina.LifecycleException: Failed to initialize component [Connector[AJP/1.3-8009]]\r\n    \tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:106)\r\n    \tat org.apache.catalina.core.StandardService.initInternal(StandardService.java:559)\r\n    \tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\r\n    \tat org.apache.catalina.core.StandardServer.initInternal(StandardServer.java:821)\r\n    \tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\r\n    \tat org.apache.catalina.startup.Catalina.load(Catalina.java:638)\r\n    \tat org.apache.catalina.startup.Catalina.load(Catalina.java:663)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:280)\r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:454)\r\n    Caused by: org.apache.catalina.LifecycleException: Protocol handler initialization failed\r\n    \tat org.apache.catalina.connector.Connector.initInternal(Connector.java:980)\r\n    \tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\r\n    \t... 12 more\r\n    Caused by: java.net.BindException: Address already in use &lt;null&gt;:8009\r\n    \tat org.apache.tomcat.util.net.JIoEndpoint.bind(JIoEndpoint.java:413)\r\n    \tat org.apache.tomcat.util.net.AbstractEndpoint.init(AbstractEndpoint.java:649)\r\n    \tat org.apache.coyote.AbstractProtocol.init(AbstractProtocol.java:434)\r\n    \tat org.apache.catalina.connector.Connector.initInternal(Connector.java:978)\r\n    \t... 13 more\r\n    Caused by: java.net.BindException: Address already in use\r\n    \tat java.net.PlainSocketImpl.socketBind(Native Method)\r\n    \tat java.net.AbstractPlainSocketImpl.bind(Unknown Source)\r\n    \tat java.net.ServerSocket.bind(Unknown Source)\r\n    \tat java.net.ServerSocket.&lt;init&gt;(Unknown Source)\r\n    \tat java.net.ServerSocket.&lt;init&gt;(Unknown Source)\r\n    \tat org.apache.tomcat.util.net.DefaultServerSocketFactory.createSocket(DefaultServerSocketFactory.java:49)\r\n    \tat org.apache.tomcat.util.net.JIoEndpoint.bind(JIoEndpoint.java:400)\r\n    \t... 16 more\r\n\r\nI have changed a port from `8009` to `8089` in the `server.xml` configuration file.\r\n\r\nI was able to get rid of the above error in `catalina.out` however, the issue with the `404` still persists.\r\n\r\nNow I was able to get to the `Tomcat manager` and also log in. However, my app still shows 404.","title":"Application deployed on Tomcat, error 404","body":"<p>I had a java web app which was working fine on the <code>AWS server</code>. However, after some time and perhaps some slight changes, which I can't remember, I am getting <code>404 error</code>.</p>\n\n<p>I have tried to reboot the server, restart the tomcat re-deploy the app.</p>\n\n<p>Nothing works, I have also set public <code>RWX</code> permission. </p>\n\n<p>The <code>Tomcat</code> version is 7, Java as well. It all came in an <code>AMI</code> package by <code>AWS</code>.</p>\n\n<p>I am getting the same result when I try to go: <code>/manager/index.jsp</code></p>\n\n<p>Any idea? Is there more information I can provide?</p>\n\n<pre><code>web.xml:\n\n\n &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns=\"http://java.sun.com/xml/ns/javaee\"\n    xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\"\n    version=\"3.0\"&gt;\n    &lt;display-name&gt;Visma_UploadInterface&lt;/display-name&gt;\n    &lt;welcome-file-list&gt;\n        &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\n        &lt;welcome-file&gt;index.htm&lt;/welcome-file&gt;\n        &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\n        &lt;welcome-file&gt;default.html&lt;/welcome-file&gt;\n        &lt;welcome-file&gt;default.htm&lt;/welcome-file&gt;\n        &lt;welcome-file&gt;default.jsp&lt;/welcome-file&gt;\n    &lt;/welcome-file-list&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;LoginServlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;servlets.LoginServlet&lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;LoginServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/main/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;MainPageServlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;servlets.MainPageServlet&lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;MainPageServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/mainPage/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;MappingServlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;servlets.MappingServlet&lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;MappingServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/mapping/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;ListImportServlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;servlets.ListImportServlet&lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;ListImportServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/listImport/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;RejectedRecordsServlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;servlets.RejectedRecordsServlet&lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;RejectedRecordsServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/rejectedRecords/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;UploadServlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;servlets.UploadServlet&lt;/servlet-class&gt;\n\n    &lt;/servlet&gt;\n\n\n\n&lt;/web-app&gt;\n</code></pre>\n\n<p>Maybe the solution would be to reinstall the Tomcat, but is there a way just to get a fresh installation of it from AWS? Or some rollback?</p>\n\n<p>Some logs from <code>Catalina.out</code> they show errors:</p>\n\n<pre><code>SEVERE: Failed to initialize end point associated with ProtocolHandler [\"ajp-bio-8009\"]\njava.net.BindException: Address already in use &lt;null&gt;:8009\n    at org.apache.tomcat.util.net.JIoEndpoint.bind(JIoEndpoint.java:413)\n    at org.apache.tomcat.util.net.AbstractEndpoint.init(AbstractEndpoint.java:649)\n    at org.apache.coyote.AbstractProtocol.init(AbstractProtocol.java:434)\n    at org.apache.catalina.connector.Connector.initInternal(Connector.java:978)\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\n    at org.apache.catalina.core.StandardService.initInternal(StandardService.java:559)\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\n    at org.apache.catalina.core.StandardServer.initInternal(StandardServer.java:821)\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\n    at org.apache.catalina.startup.Catalina.load(Catalina.java:638)\n    at org.apache.catalina.startup.Catalina.load(Catalina.java:663)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:280)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:454)\nCaused by: java.net.BindException: Address already in use\n    at java.net.PlainSocketImpl.socketBind(Native Method)\n    at java.net.AbstractPlainSocketImpl.bind(Unknown Source)\n    at java.net.ServerSocket.bind(Unknown Source)\n    at java.net.ServerSocket.&lt;init&gt;(Unknown Source)\n    at java.net.ServerSocket.&lt;init&gt;(Unknown Source)\n    at org.apache.tomcat.util.net.DefaultServerSocketFactory.createSocket(DefaultServerSocketFactory.java:49)\n    at org.apache.tomcat.util.net.JIoEndpoint.bind(JIoEndpoint.java:400)\n    ... 16 more\n\nAug 12, 2015 12:44:43 PM org.apache.catalina.core.StandardService initInternal\nSEVERE: Failed to initialize connector [Connector[AJP/1.3-8009]]\norg.apache.catalina.LifecycleException: Failed to initialize component [Connector[AJP/1.3-8009]]\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:106)\n    at org.apache.catalina.core.StandardService.initInternal(StandardService.java:559)\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\n    at org.apache.catalina.core.StandardServer.initInternal(StandardServer.java:821)\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\n    at org.apache.catalina.startup.Catalina.load(Catalina.java:638)\n    at org.apache.catalina.startup.Catalina.load(Catalina.java:663)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:280)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:454)\nCaused by: org.apache.catalina.LifecycleException: Protocol handler initialization failed\n    at org.apache.catalina.connector.Connector.initInternal(Connector.java:980)\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\n    ... 12 more\nCaused by: java.net.BindException: Address already in use &lt;null&gt;:8009\n    at org.apache.tomcat.util.net.JIoEndpoint.bind(JIoEndpoint.java:413)\n    at org.apache.tomcat.util.net.AbstractEndpoint.init(AbstractEndpoint.java:649)\n    at org.apache.coyote.AbstractProtocol.init(AbstractProtocol.java:434)\n    at org.apache.catalina.connector.Connector.initInternal(Connector.java:978)\n    ... 13 more\nCaused by: java.net.BindException: Address already in use\n    at java.net.PlainSocketImpl.socketBind(Native Method)\n    at java.net.AbstractPlainSocketImpl.bind(Unknown Source)\n    at java.net.ServerSocket.bind(Unknown Source)\n    at java.net.ServerSocket.&lt;init&gt;(Unknown Source)\n    at java.net.ServerSocket.&lt;init&gt;(Unknown Source)\n    at org.apache.tomcat.util.net.DefaultServerSocketFactory.createSocket(DefaultServerSocketFactory.java:49)\n    at org.apache.tomcat.util.net.JIoEndpoint.bind(JIoEndpoint.java:400)\n    ... 16 more\n</code></pre>\n\n<p>I have changed a port from <code>8009</code> to <code>8089</code> in the <code>server.xml</code> configuration file.</p>\n\n<p>I was able to get rid of the above error in <code>catalina.out</code> however, the issue with the <code>404</code> still persists.</p>\n\n<p>Now I was able to get to the <code>Tomcat manager</code> and also log in. However, my app still shows 404.</p>\n"},{"tags":["java","spring","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":11988185,"reputation":81,"user_id":8772153,"display_name":"Aljodomo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637939316,"creation_date":1637939316,"answer_id":70126495,"question_id":70125970,"body_markdown":"Just use the mappedBy property to specify what field to use for mapping the relation.\r\n\r\n1. In Gift\r\n\r\n`@OneToMany(mappedBy = &quot;gift&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\nprivate List&lt;Candy&gt; candyList = new ArrayList&lt;&gt;();`\r\n\r\n2. In Candy\r\n\r\n`@ManyToOne()\r\nprivate Gift gift;`\r\n","title":"Spring JPA relationships","body":"<p>Just use the mappedBy property to specify what field to use for mapping the relation.</p>\n<ol>\n<li>In Gift</li>\n</ol>\n<p><code>@OneToMany(mappedBy = &quot;gift&quot;, cascade = CascadeType.ALL, orphanRemoval = true) private List&lt;Candy&gt; candyList = new ArrayList&lt;&gt;();</code></p>\n<ol start=\"2\">\n<li>In Candy</li>\n</ol>\n<p><code>@ManyToOne() private Gift gift;</code></p>\n"}],"owner":{"account_id":22804168,"reputation":11,"user_id":16956425,"display_name":"VitaliiPsl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70126495,"answer_count":1,"score":0,"last_activity_date":1637939316,"creation_date":1637936890,"question_id":70125970,"body_markdown":"&lt;br/&gt;I have some troubles with Spring JPA relationships.\r\n&lt;br/&gt;I have two entities: Gift and Candy. And I want user to be able to select available candy and add it to gift.\r\n&lt;br/&gt;How can I do that using spring jpa? \r\n&lt;br/&gt;I&#39;ve already tried &#39;one to many&#39; relationship with gift as owning side, and I got &quot;null value in column &#39;gift_id violates not-null constraints&#39;&quot; error while creating and saving candy.\r\nHere is my code:\r\n&lt;br/&gt;Gift class:\r\n```\r\n    @Entity\r\n    public class Gift implements Serializable {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n    private long id;\r\n    private String buyer;\r\n\r\n    @OneToMany(cascade = CascadeType.REMOVE)\r\n    @JoinColumn(name = &quot;GiftId&quot;, nullable = true)\r\n    private List&lt;Candy&gt; candyList = new ArrayList&lt;&gt;();\r\n    ...\r\n```\r\n\r\nCandy:\r\n```\r\n    @Entity\r\n    public class Candy implements Serializable {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n    @JsonIgnore\r\n    private long id;\r\n    private String name;\r\n    private String brand;\r\n    private double price;\r\n    private int weight;\r\n    private int sugar;\r\n    ...\r\n```\r\n","title":"Spring JPA relationships","body":"<p><br/>I have some troubles with Spring JPA relationships.\n<br/>I have two entities: Gift and Candy. And I want user to be able to select available candy and add it to gift.\n<br/>How can I do that using spring jpa?\n<br/>I've already tried 'one to many' relationship with gift as owning side, and I got &quot;null value in column 'gift_id violates not-null constraints'&quot; error while creating and saving candy.\nHere is my code:\n<br/>Gift class:</p>\n<pre><code>    @Entity\n    public class Gift implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    private long id;\n    private String buyer;\n\n    @OneToMany(cascade = CascadeType.REMOVE)\n    @JoinColumn(name = &quot;GiftId&quot;, nullable = true)\n    private List&lt;Candy&gt; candyList = new ArrayList&lt;&gt;();\n    ...\n</code></pre>\n<p>Candy:</p>\n<pre><code>    @Entity\n    public class Candy implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    @JsonIgnore\n    private long id;\n    private String name;\n    private String brand;\n    private double price;\n    private int weight;\n    private int sugar;\n    ...\n</code></pre>\n"},{"tags":["java","kubernetes","kubectl","fabric8","kubernetes-deployment"],"answers":[{"tags":[],"owner":{"account_id":16222976,"reputation":10124,"user_id":11714114,"display_name":"mario"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637939250,"creation_date":1637939250,"answer_id":70126485,"question_id":70119854,"body_markdown":"It&#39;s fairly simple, to read file from a `Pod` you can use the following syntax (see also [fabric8 documentation][1]):\r\n\r\n    try (InputStream is = client.pods().inNamespace(currentNamespace).withName(pod1.getMetadata().getName()).file(&quot;/msg&quot;).read())  {\r\n      String result = new BufferedReader(new InputStreamReader(is)).lines().collect(Collectors.joining(&quot;\\n&quot;));\r\n    }\r\n\r\n  [1]: https://github.com/fabric8io/kubernetes-client/blob/master/doc/CHEATSHEET.md","title":"How do I read a file from deployment&#39;s pods using fabric8 kubernetes java client?","body":"<p>It's fairly simple, to read file from a <code>Pod</code> you can use the following syntax (see also <a href=\"https://github.com/fabric8io/kubernetes-client/blob/master/doc/CHEATSHEET.md\" rel=\"nofollow noreferrer\">fabric8 documentation</a>):</p>\n<pre><code>try (InputStream is = client.pods().inNamespace(currentNamespace).withName(pod1.getMetadata().getName()).file(&quot;/msg&quot;).read())  {\n  String result = new BufferedReader(new InputStreamReader(is)).lines().collect(Collectors.joining(&quot;\\n&quot;));\n}\n</code></pre>\n"}],"owner":{"account_id":5066911,"reputation":1131,"user_id":4066802,"display_name":"lprakashv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":788,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1637939250,"creation_date":1637903828,"question_id":70119854,"body_markdown":"How can I read a file from a deployment&#39;s pods? More specifically, I want fabric8&#39;s kubernetes java client equivalent of the following command:\r\n\r\n```bash\r\nkubectl exec --stdin --tty deployment/otel-collector -n logcollection -- cat /otel-output/json-out.json\r\n```\r\n\r\nPS: you can ignore the `--stdin` and `--tty` flags.","title":"How do I read a file from deployment&#39;s pods using fabric8 kubernetes java client?","body":"<p>How can I read a file from a deployment's pods? More specifically, I want fabric8's kubernetes java client equivalent of the following command:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>kubectl exec --stdin --tty deployment/otel-collector -n logcollection -- cat /otel-output/json-out.json\n</code></pre>\n<p>PS: you can ignore the <code>--stdin</code> and <code>--tty</code> flags.</p>\n"},{"tags":["java","graphql","graphql-java"],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637938436,"creation_date":1637864542,"answer_id":70115755,"question_id":70110528,"body_markdown":"There are no such nested enums in GraphQL schema. You can consider to model it using two separate fields with separate enums .\r\n\r\n``` graphql\r\nenum QueryType {\r\n\tNORMAL ,RANGE , REGEX , WILDCARD\r\n}\r\n\r\nenum WildcardType {\r\n\tSTARTSWITH , ENDSWITH ,CONTAINS\r\n}\r\n```\r\n\r\nAnd suppose an object type call `SearchQuery` need to contains these info . Its schema may look likes: \r\n\r\n```  graphql \r\ntype SearchQuery {\r\n\tqueryType : QueryType!\r\n    wildcardType : WildcardType\r\n}\r\n```\r\n\r\n`wildcardType` is an optional field which only contains the value if the queryType is `WILDCARD`. Otherwise , it should be null.\r\n\r\n\r\nAlternatively you can also consider to model it to be more &#39;polymorphism&#39; style using the [interface][1]. Something likes :\r\n\r\n``` graphql\r\ninterface SearchQuery {\r\n  queryType: QueryType!\r\n}\r\n\r\ntype WildCardQuery implements  SearchQuery {\r\n\tqueryType: QueryType!\r\n\twildcardType : WildcardType!\r\n}\r\n\r\ntype NonWildCardQuery implements SearchQuery{\r\n\tqueryType: QueryType!\r\n}\r\n```\r\n\r\n\r\n  [1]: https://graphql.org/learn/schema/#interfaces","title":"How to define Nested enum type in GraphQL schema","body":"<p>There are no such nested enums in GraphQL schema. You can consider to model it using two separate fields with separate enums .</p>\n<pre><code>enum QueryType {\n    NORMAL ,RANGE , REGEX , WILDCARD\n}\n\nenum WildcardType {\n    STARTSWITH , ENDSWITH ,CONTAINS\n}\n</code></pre>\n<p>And suppose an object type call <code>SearchQuery</code> need to contains these info . Its schema may look likes:</p>\n<pre><code>type SearchQuery {\n    queryType : QueryType!\n    wildcardType : WildcardType\n}\n</code></pre>\n<p><code>wildcardType</code> is an optional field which only contains the value if the queryType is <code>WILDCARD</code>. Otherwise , it should be null.</p>\n<p>Alternatively you can also consider to model it to be more 'polymorphism' style using the <a href=\"https://graphql.org/learn/schema/#interfaces\" rel=\"nofollow noreferrer\">interface</a>. Something likes :</p>\n<pre><code>interface SearchQuery {\n  queryType: QueryType!\n}\n\ntype WildCardQuery implements  SearchQuery {\n    queryType: QueryType!\n    wildcardType : WildcardType!\n}\n\ntype NonWildCardQuery implements SearchQuery{\n    queryType: QueryType!\n}\n</code></pre>\n"}],"owner":{"account_id":20936085,"reputation":483,"user_id":15381219,"display_name":"Nishikant Tayade"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70115755,"answer_count":1,"score":0,"last_activity_date":1637938436,"creation_date":1637840651,"question_id":70110528,"body_markdown":"I have an enum defined in graphql schema as below:\r\n\r\n    enum QueryType {\r\n        NORMAL, RANGE, REGEX, WILDCARD\r\n    }\r\n\r\nBut the WILDCARD query, can be further specified as STARTSWITH, ENDSWITH and CONTAINS,\r\n\r\nSo can we achieve something like below while defining Schema\r\n\r\n     enum QueryType {\r\n            NORMAL, RANGE, REGEX, enum WILDCARD { STARTSWITH, ENDSWITH, CONTAINS}\r\n        }\r\n\r\nor \r\n  \r\n\r\n     enum QueryType {\r\n                NORMAL, RANGE, REGEX, WILDCARD: WildCardType\r\n            }\r\n       enum WildCardType { STARTSWITH, ENDSWITH, CONTAINS}","title":"How to define Nested enum type in GraphQL schema","body":"<p>I have an enum defined in graphql schema as below:</p>\n<pre><code>enum QueryType {\n    NORMAL, RANGE, REGEX, WILDCARD\n}\n</code></pre>\n<p>But the WILDCARD query, can be further specified as STARTSWITH, ENDSWITH and CONTAINS,</p>\n<p>So can we achieve something like below while defining Schema</p>\n<pre><code> enum QueryType {\n        NORMAL, RANGE, REGEX, enum WILDCARD { STARTSWITH, ENDSWITH, CONTAINS}\n    }\n</code></pre>\n<p>or</p>\n<pre><code> enum QueryType {\n            NORMAL, RANGE, REGEX, WILDCARD: WildCardType\n        }\n   enum WildCardType { STARTSWITH, ENDSWITH, CONTAINS}\n</code></pre>\n"},{"tags":["java","spring","dao"],"answers":[{"tags":[],"owner":{"account_id":299251,"reputation":335905,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1329293575,"creation_date":1329293575,"answer_id":9289868,"question_id":9289798,"body_markdown":"Add `@Transactional` annotation over your service class or method storing entities:\r\n\r\n    @Transactional\r\n    public boolean addEmployee(IEmployee employee){\r\n        employeeDao.createEmployee(employee);       \r\n        return false;\r\n    }\r\n\r\nAdding `@Repository` over your DAO is also a good idea, but it is not causing your problems.","title":"Spring JPA entities not saving to database","body":"<p>Add <code>@Transactional</code> annotation over your service class or method storing entities:</p>\n\n<pre><code>@Transactional\npublic boolean addEmployee(IEmployee employee){\n    employeeDao.createEmployee(employee);       \n    return false;\n}\n</code></pre>\n\n<p>Adding <code>@Repository</code> over your DAO is also a good idea, but it is not causing your problems.</p>\n"},{"tags":[],"owner":{"account_id":208028,"reputation":3111,"user_id":458248,"accept_rate":52,"display_name":"baba.kabira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1329293672,"creation_date":1329293672,"answer_id":9289886,"question_id":9289798,"body_markdown":"Enable annotation based processing for service and dao (I have never mixed xml config and annotation,so dont know if config setting is fine) and mark your service method \r\n\r\n&gt; **addEmployee @Transactional**  \r\n\r\nHope this helps\r\n\r\n\r\n ","title":"Spring JPA entities not saving to database","body":"<p>Enable annotation based processing for service and dao (I have never mixed xml config and annotation,so dont know if config setting is fine) and mark your service method </p>\n\n<blockquote>\n  <p><strong>addEmployee @Transactional</strong>  </p>\n</blockquote>\n\n<p>Hope this helps</p>\n"},{"tags":[],"owner":{"account_id":19504853,"reputation":155,"user_id":14270116,"display_name":"Tugba Alparslan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635958481,"creation_date":1635958481,"answer_id":69828795,"question_id":9289798,"body_markdown":"I also faced such a problem. Two methods worked.\r\nI added `super()` in all argument constructor method in Entity.\r\n\r\n\r\nThe other method is to replace the JPA Repository in the Repository file\r\nI wrote PagingAndSortingRepository.\r\n\r\n    @Repository\r\n    public interface EmployeeRepository extends PagingAndSortingRepository&lt;Employee, Long&gt; {\r\n    \r\n    }\r\n\r\n&gt; long: empoloyeeId data type\r\n\r\n","title":"Spring JPA entities not saving to database","body":"<p>I also faced such a problem. Two methods worked.\nI added <code>super()</code> in all argument constructor method in Entity.</p>\n<p>The other method is to replace the JPA Repository in the Repository file\nI wrote PagingAndSortingRepository.</p>\n<pre><code>@Repository\npublic interface EmployeeRepository extends PagingAndSortingRepository&lt;Employee, Long&gt; {\n\n}\n</code></pre>\n<blockquote>\n<p>long: empoloyeeId data type</p>\n</blockquote>\n"}],"owner":{"account_id":181158,"reputation":5235,"user_id":414967,"accept_rate":74,"display_name":"user414967"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11182,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":9289868,"answer_count":3,"score":6,"last_activity_date":1637937928,"creation_date":1329293160,"question_id":9289798,"body_markdown":"I am facing some issues in Spring JPA. I successfully configured the Spring JPA project and  am able to run the project without having any exception.\r\n\r\nI intension to save the entities to the database. But when I am running the project, it is neither saving to the database nor throwing any exceptions.\r\n\r\nWhat could be the problem?  I have added many hiberate related jar files as well because it was throwing exceptions when I run. Now i am not getting any exception. But entities are not saved into database. I have attached my Spring configuration and Java classes.\r\n\r\n **sprig configuration**\r\n\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n            xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n            xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\r\n            xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n            xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n            xmlns:osgi=&quot;http://www.springframework.org/schema/osgi&quot;\r\n            xsi:schemaLocation=&quot;\r\n                http://www.springframework.org/schema/beans\r\n                http://www.springframework.org/schema/beans/spring-beans.xsd\r\n                http://www.springframework.org/schema/context\r\n                http://www.springframework.org/schema/context/spring-context.xsd\r\n                http://www.springframework.org/schema/osgi\r\n                http://www.springframework.org/schema/osgi/spring-osgi.xsd\r\n                http://www.springframework.org/schema/tx\r\n                http://www.springframework.org/schema/tx/spring-tx.xsd&quot;&gt; \r\n    \r\n    \r\n    \r\n    \t&lt;context:property-placeholder location=&quot;classpath:jdbc.properties&quot;/&gt;\r\n     \t\t\r\n    \t\r\n    \t \t&lt;!-- Connection Pool --&gt;\r\n    \t &lt;bean id=&quot;dataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot; destroy-method=&quot;close&quot;&gt;\r\n            &lt;property name=&quot;driverClass&quot; value=&quot;${jdbc.driverClass}&quot;/&gt;\r\n            &lt;property name=&quot;jdbcUrl&quot; value=&quot;${jdbc.url}&quot;/&gt;\r\n            &lt;property name=&quot;user&quot; value=&quot;${jdbc.username}&quot;/&gt;\r\n            &lt;property name=&quot;password&quot; value=&quot;${jdbc.password}&quot;/&gt;\r\n         &lt;/bean&gt;\r\n         \r\n         &lt;!-- JPA EntityManagerFactory --&gt; \r\n    \t&lt;bean id=&quot;entityManagerFactory&quot; class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;\r\n    \t\t\tp:dataSource-ref=&quot;dataSource&quot;&gt;\r\n    \t\t&lt;property name=&quot;jpaVendorAdapter&quot;&gt;\r\n    \t\t\t&lt;bean class=&quot;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter&quot;&gt;\r\n    \t\t\t        &lt;property name=&quot;database&quot; value=&quot;${jdbc.database}&quot;/&gt;\r\n    \t\t\t\t\t&lt;property name=&quot;showSql&quot; value=&quot;${jdbc.showSql}&quot;/&gt;\t\t\t        \r\n            \t&lt;/bean&gt;\t\t\r\n    \t\t&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    \t\r\n    \t&lt;!-- Transaction manager for a single JPA EntityManagerFactory (alternative to JTA) --&gt;\r\n    \t&lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.jpa.JpaTransactionManager&quot;\r\n    \t\t\tp:entityManagerFactory-ref=&quot;entityManagerFactory&quot;/&gt;\r\n    \t\r\n    \t\r\n    \t\t&lt;!-- Activates various annotations to be detected in bean classes for eg @Autowired--&gt;\r\n    \t    &lt;context:annotation-config/&gt;\r\n    \t\r\n    \t  &lt;!-- enable the configuration of transactional behavior based on annotations  --&gt;\r\n    \t  &lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot;/&gt;\r\n    \t\r\n    \t\r\n    \t\r\n    \t &lt;!-- &lt;context:component-scan base-package=&quot;com.vemanchery.timesheet.dao&quot;/&gt; --&gt;\r\n    \t&lt;!-- Implementation Class --&gt;\t\r\n    \t&lt;bean id=&quot;employeeDao&quot; class=&quot;com.test.dao.impl.EmployeeDao&quot; /&gt;\r\n     &lt;!-- services --&gt;\r\n    \t&lt;bean id=&quot;employeeService&quot; class=&quot;com.test.service.impl.EmployeeService&quot; &gt;\r\n    \t\t&lt;property name=&quot;employeeDao&quot; ref=&quot;employeeDao&quot;/&gt;\r\n        &lt;/bean&gt;\r\n     \r\n    &lt;/beans&gt;\r\n\r\n\r\n**DAO**\r\n\r\n    package com.test.dao.impl;\r\n    \r\n    \r\n    import java.util.List;\r\n    \r\n    import javax.persistence.EntityManager;\r\n    import javax.persistence.PersistenceContext;\r\n    import javax.persistence.Query;\r\n    \r\n    import com.test.dao.interfaces.IEmployeeDao;\r\n    import com.test.model.interfaces.IEmployee;\r\n    \r\n    \r\n    \r\n    //@Repository\r\n    //@Component\r\n    public class EmployeeDao implements IEmployeeDao{\r\n    \t\r\n    \t@PersistenceContext()\r\n    \tprivate EntityManager entityManager ;\r\n    \t\r\n    \t@Override\r\n    \tpublic boolean createEmployee(IEmployee employee) {\t\t\r\n    \t\tthis.entityManager.persist(employee);\r\n    \t\t\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \t\r\n    }\r\n\r\n**Service Layer**\r\n\r\n\r\n    package com.test.service.impl;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    \r\n    import com.test.dao.impl.EmployeeDao;\r\n    import com.test.dao.interfaces.IEmployeeDao;\r\n    import com.test.model.interfaces.IEmployee;\r\n    import com.test.service.interfaces.IEmployeeService;\r\n    \r\n    public class EmployeeService implements IEmployeeService{\r\n    \t\r\n    \t@Autowired\r\n    \tIEmployeeDao employeeDao;\r\n    \t\r\n    \tpublic IEmployeeDao getEmployeeDao() {\r\n    \t\treturn employeeDao;\r\n    \t}\r\n    \r\n    \tpublic void setEmployeeDao(IEmployeeDao employeeDao) {\r\n    \t\tthis.employeeDao = employeeDao;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * \r\n    \t */\r\n    \tpublic boolean addEmployee(IEmployee employee){\r\n    \t\temployeeDao.createEmployee(employee);\t\t\r\n    \t\treturn false;\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Spring JPA entities not saving to database","body":"<p>I am facing some issues in Spring JPA. I successfully configured the Spring JPA project and  am able to run the project without having any exception.</p>\n\n<p>I intension to save the entities to the database. But when I am running the project, it is neither saving to the database nor throwing any exceptions.</p>\n\n<p>What could be the problem?  I have added many hiberate related jar files as well because it was throwing exceptions when I run. Now i am not getting any exception. But entities are not saved into database. I have attached my Spring configuration and Java classes.</p>\n\n<p><strong>sprig configuration</strong></p>\n\n<pre><code>&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n        xmlns:p=\"http://www.springframework.org/schema/p\"\n        xmlns:tx=\"http://www.springframework.org/schema/tx\"\n        xmlns:context=\"http://www.springframework.org/schema/context\"\n        xmlns:osgi=\"http://www.springframework.org/schema/osgi\"\n        xsi:schemaLocation=\"\n            http://www.springframework.org/schema/beans\n            http://www.springframework.org/schema/beans/spring-beans.xsd\n            http://www.springframework.org/schema/context\n            http://www.springframework.org/schema/context/spring-context.xsd\n            http://www.springframework.org/schema/osgi\n            http://www.springframework.org/schema/osgi/spring-osgi.xsd\n            http://www.springframework.org/schema/tx\n            http://www.springframework.org/schema/tx/spring-tx.xsd\"&gt; \n\n\n\n    &lt;context:property-placeholder location=\"classpath:jdbc.properties\"/&gt;\n\n\n        &lt;!-- Connection Pool --&gt;\n     &lt;bean id=\"dataSource\" class=\"com.mchange.v2.c3p0.ComboPooledDataSource\" destroy-method=\"close\"&gt;\n        &lt;property name=\"driverClass\" value=\"${jdbc.driverClass}\"/&gt;\n        &lt;property name=\"jdbcUrl\" value=\"${jdbc.url}\"/&gt;\n        &lt;property name=\"user\" value=\"${jdbc.username}\"/&gt;\n        &lt;property name=\"password\" value=\"${jdbc.password}\"/&gt;\n     &lt;/bean&gt;\n\n     &lt;!-- JPA EntityManagerFactory --&gt; \n    &lt;bean id=\"entityManagerFactory\" class=\"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean\"\n            p:dataSource-ref=\"dataSource\"&gt;\n        &lt;property name=\"jpaVendorAdapter\"&gt;\n            &lt;bean class=\"org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter\"&gt;\n                    &lt;property name=\"database\" value=\"${jdbc.database}\"/&gt;\n                    &lt;property name=\"showSql\" value=\"${jdbc.showSql}\"/&gt;                  \n            &lt;/bean&gt;     \n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- Transaction manager for a single JPA EntityManagerFactory (alternative to JTA) --&gt;\n    &lt;bean id=\"transactionManager\" class=\"org.springframework.orm.jpa.JpaTransactionManager\"\n            p:entityManagerFactory-ref=\"entityManagerFactory\"/&gt;\n\n\n        &lt;!-- Activates various annotations to be detected in bean classes for eg @Autowired--&gt;\n        &lt;context:annotation-config/&gt;\n\n      &lt;!-- enable the configuration of transactional behavior based on annotations  --&gt;\n      &lt;tx:annotation-driven transaction-manager=\"transactionManager\"/&gt;\n\n\n\n     &lt;!-- &lt;context:component-scan base-package=\"com.vemanchery.timesheet.dao\"/&gt; --&gt;\n    &lt;!-- Implementation Class --&gt;   \n    &lt;bean id=\"employeeDao\" class=\"com.test.dao.impl.EmployeeDao\" /&gt;\n &lt;!-- services --&gt;\n    &lt;bean id=\"employeeService\" class=\"com.test.service.impl.EmployeeService\" &gt;\n        &lt;property name=\"employeeDao\" ref=\"employeeDao\"/&gt;\n    &lt;/bean&gt;\n\n&lt;/beans&gt;\n</code></pre>\n\n<p><strong>DAO</strong></p>\n\n<pre><code>package com.test.dao.impl;\n\n\nimport java.util.List;\n\nimport javax.persistence.EntityManager;\nimport javax.persistence.PersistenceContext;\nimport javax.persistence.Query;\n\nimport com.test.dao.interfaces.IEmployeeDao;\nimport com.test.model.interfaces.IEmployee;\n\n\n\n//@Repository\n//@Component\npublic class EmployeeDao implements IEmployeeDao{\n\n    @PersistenceContext()\n    private EntityManager entityManager ;\n\n    @Override\n    public boolean createEmployee(IEmployee employee) {     \n        this.entityManager.persist(employee);\n\n        return true;\n    }\n\n\n}\n</code></pre>\n\n<p><strong>Service Layer</strong></p>\n\n<pre><code>package com.test.service.impl;\n\nimport org.springframework.beans.factory.annotation.Autowired;\n\nimport com.test.dao.impl.EmployeeDao;\nimport com.test.dao.interfaces.IEmployeeDao;\nimport com.test.model.interfaces.IEmployee;\nimport com.test.service.interfaces.IEmployeeService;\n\npublic class EmployeeService implements IEmployeeService{\n\n    @Autowired\n    IEmployeeDao employeeDao;\n\n    public IEmployeeDao getEmployeeDao() {\n        return employeeDao;\n    }\n\n    public void setEmployeeDao(IEmployeeDao employeeDao) {\n        this.employeeDao = employeeDao;\n    }\n\n    /**\n     * \n     */\n    public boolean addEmployee(IEmployee employee){\n        employeeDao.createEmployee(employee);       \n        return false;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android-studio","if-statement","switch-statement"],"comments":[{"owner":{"account_id":5720647,"reputation":615,"user_id":4519179,"accept_rate":33,"display_name":"Debu"},"score":0,"creation_date":1637929046,"post_id":70123075,"comment_id":123960103,"body_markdown":"implement setonclicklistener to the class and in the onClick() method add a switchcase based on the view-id it would be a way cleaner code","body":"implement setonclicklistener to the class and in the onClick() method add a switchcase based on the view-id it would be a way cleaner code"},{"owner":{"account_id":19140588,"reputation":75,"user_id":13980622,"display_name":"Antoine"},"score":0,"creation_date":1637929625,"post_id":70123075,"comment_id":123960305,"body_markdown":"you can show me an example of how to do it?","body":"you can show me an example of how to do it?"},{"owner":{"account_id":5720647,"reputation":615,"user_id":4519179,"accept_rate":33,"display_name":"Debu"},"score":0,"creation_date":1637931570,"post_id":70123075,"comment_id":123960976,"body_markdown":"https://stackoverflow.com/questions/5588804/android-button-setonclicklistener-design, check this","body":"<a href=\"https://stackoverflow.com/questions/5588804/android-button-setonclicklistener-design\" title=\"android button setonclicklistener design\">stackoverflow.com/questions/5588804/&hellip;</a>, check this"}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637937597,"creation_date":1637937597,"answer_id":70126125,"question_id":70123075,"body_markdown":"Move your the logic of your click listeners into a single private method:\r\n\r\n    private void processClick(int newBackgroundResource) {\r\n        setContentView(R.layout.activity_autodiagnostic_repartiteur);\r\n        {\r\n            Repartiteur = findViewById(R.id.Repartiteur);\r\n            Repartiteur.setBackgroundResource(newBackgroundResource);\r\n\r\n            BottomNavigationView bandeauNavigationView = findViewById(R.id.bandeau_navigation);\r\n            bandeauNavigationView.setSelectedItemId(R.id.accueil);\r\n            bandeauNavigationView.setOnNavigationItemSelectedListener(item -&gt; {\r\n                switch (item.getItemId()) {\r\n                    case R.id.accueil:\r\n                        return true;\r\n                    case R.id.commerce:\r\n                        startActivity(new Intent(getApplicationContext(), PageCommercial.class));\r\n                        overridePendingTransition(0, 0);\r\n                        return true;\r\n                    case R.id.services:\r\n                        startActivity(new Intent(getApplicationContext(), Support.class));\r\n                        overridePendingTransition(0, 0);\r\n                        return true;\r\n                    case R.id.info:\r\n                        startActivity(new Intent(getApplicationContext(), Info.class));\r\n                        overridePendingTransition(0, 0);\r\n                        return true;\r\n                }\r\n\r\n                return false;\r\n            });\r\n        }\r\n    }\r\n\r\nNow you can shorten your original code to this:\r\n\r\n    if (text.substring(15, 18).contains(&quot;A&quot;)) {\r\n        R2.setBackgroundResource(R.drawable.picto_rouge);\r\n    } else {\r\n        R2.setBackgroundResource(R.drawable.picto_vert);\r\n    }\r\n \r\n    R2.setOnClickListener(a -&gt; processClick(R.drawable.repartiteur2));\r\n \r\n    if (text.substring(19, 22).contains(&quot;A&quot;)) {\r\n        R3.setBackgroundResource(R.drawable.picto_rouge);\r\n    } else {\r\n        R3.setBackgroundResource(R.drawable.picto_vert);\r\n    }\r\n \r\n    R3.setOnClickListener(a -&gt; processClick(R.drawable.repartiteur3));\r\n \r\n    if (text.substring(23, 26).contains(&quot;A&quot;)) {\r\n        R4.setBackgroundResource(R.drawable.picto_rouge);\r\n    } else {\r\n        R4.setBackgroundResource(R.drawable.picto_vert);\r\n    }\r\n \r\n    R4.setOnClickListener(a -&gt; processClick(R.drawable.repartiteur4));\r\n","title":"Reduce function and avoid repetition","body":"<p>Move your the logic of your click listeners into a single private method:</p>\n<pre><code>private void processClick(int newBackgroundResource) {\n    setContentView(R.layout.activity_autodiagnostic_repartiteur);\n    {\n        Repartiteur = findViewById(R.id.Repartiteur);\n        Repartiteur.setBackgroundResource(newBackgroundResource);\n\n        BottomNavigationView bandeauNavigationView = findViewById(R.id.bandeau_navigation);\n        bandeauNavigationView.setSelectedItemId(R.id.accueil);\n        bandeauNavigationView.setOnNavigationItemSelectedListener(item -&gt; {\n            switch (item.getItemId()) {\n                case R.id.accueil:\n                    return true;\n                case R.id.commerce:\n                    startActivity(new Intent(getApplicationContext(), PageCommercial.class));\n                    overridePendingTransition(0, 0);\n                    return true;\n                case R.id.services:\n                    startActivity(new Intent(getApplicationContext(), Support.class));\n                    overridePendingTransition(0, 0);\n                    return true;\n                case R.id.info:\n                    startActivity(new Intent(getApplicationContext(), Info.class));\n                    overridePendingTransition(0, 0);\n                    return true;\n            }\n\n            return false;\n        });\n    }\n}\n</code></pre>\n<p>Now you can shorten your original code to this:</p>\n<pre><code>if (text.substring(15, 18).contains(&quot;A&quot;)) {\n    R2.setBackgroundResource(R.drawable.picto_rouge);\n} else {\n    R2.setBackgroundResource(R.drawable.picto_vert);\n}\n\nR2.setOnClickListener(a -&gt; processClick(R.drawable.repartiteur2));\n\nif (text.substring(19, 22).contains(&quot;A&quot;)) {\n    R3.setBackgroundResource(R.drawable.picto_rouge);\n} else {\n    R3.setBackgroundResource(R.drawable.picto_vert);\n}\n\nR3.setOnClickListener(a -&gt; processClick(R.drawable.repartiteur3));\n\nif (text.substring(23, 26).contains(&quot;A&quot;)) {\n    R4.setBackgroundResource(R.drawable.picto_rouge);\n} else {\n    R4.setBackgroundResource(R.drawable.picto_vert);\n}\n\nR4.setOnClickListener(a -&gt; processClick(R.drawable.repartiteur4));\n</code></pre>\n"}],"owner":{"account_id":19140588,"reputation":75,"user_id":13980622,"display_name":"Antoine"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637937597,"creation_date":1637923065,"question_id":70123075,"body_markdown":"I want to reduce the size of my function, and therefore avoid repetition.\r\nBy building a single function that contains all my commands at the same time.\r\nthe &quot;if&quot; function is present in three different configurations, is it possible to adjust everything to be able to write it once?\r\nCan we do the same for &quot;else&quot; functions?\r\nIf you have any suggestions, don&#39;t hesitate, I&#39;m new to Java so my level is not yet advanced enough.\r\n\r\n\r\n```\r\n   if (text.substring(15, 18).contains(&quot;A&quot;))\r\n            {\r\n                R2.setBackgroundResource(R.drawable.picto_rouge);\r\n            }\r\n            else {\r\n                R2.setBackgroundResource(R.drawable.picto_vert);\r\n            }\r\n             R2.setOnClickListener(a -&gt; {\r\n\r\n                 setContentView(R.layout.activity_autodiagnostic_repartiteur);\r\n                 {\r\n                     Repartiteur = findViewById(R.id.Repartiteur);\r\n                     Repartiteur.setBackgroundResource(R.drawable.repartiteur2);\r\n\r\n                     BottomNavigationView bandeauNavigationView = findViewById(R.id.bandeau_navigation);\r\n                     bandeauNavigationView.setSelectedItemId(R.id.accueil);\r\n                     bandeauNavigationView.setOnNavigationItemSelectedListener(item -&gt; {\r\n                         switch (item.getItemId()) {\r\n                             case R.id.accueil:\r\n                                 return true;\r\n                             case R.id.commerce:\r\n                                 startActivity(new Intent(getApplicationContext(), PageCommercial.class));\r\n                                 overridePendingTransition(0, 0);\r\n                                 return true;\r\n                             case R.id.services:\r\n                                 startActivity(new Intent(getApplicationContext(), Support.class));\r\n                                 overridePendingTransition(0, 0);\r\n                                 return true;\r\n                             case R.id.info:\r\n                                 startActivity(new Intent(getApplicationContext(), Info.class));\r\n                                 overridePendingTransition(0, 0);\r\n                                 return true;\r\n                         }\r\n\r\n                         return false;\r\n                     });\r\n                 }\r\n             });\r\n\r\n\r\n\r\n            if (text.substring(19, 22).contains(&quot;A&quot;))\r\n            {\r\n                R3.setBackgroundResource(R.drawable.picto_rouge);\r\n            }\r\n            else {\r\n                R3.setBackgroundResource(R.drawable.picto_vert);\r\n            }\r\n            R3.setOnClickListener(a -&gt; {\r\n\r\n                setContentView(R.layout.activity_autodiagnostic_repartiteur);\r\n                {\r\n                    Repartiteur = findViewById(R.id.Repartiteur);\r\n                    Repartiteur.setBackgroundResource(R.drawable.repartiteur3);\r\n\r\n                    BottomNavigationView bandeauNavigationView = findViewById(R.id.bandeau_navigation);\r\n                    bandeauNavigationView.setSelectedItemId(R.id.accueil);\r\n                    bandeauNavigationView.setOnNavigationItemSelectedListener(item -&gt; {\r\n                        switch (item.getItemId()) {\r\n                            case R.id.accueil:\r\n                                return true;\r\n                            case R.id.commerce:\r\n                                startActivity(new Intent(getApplicationContext(), PageCommercial.class));\r\n                                overridePendingTransition(0, 0);\r\n                                return true;\r\n                            case R.id.services:\r\n                                startActivity(new Intent(getApplicationContext(), Support.class));\r\n                                overridePendingTransition(0, 0);\r\n                                return true;\r\n                            case R.id.info:\r\n                                startActivity(new Intent(getApplicationContext(), Info.class));\r\n                                overridePendingTransition(0, 0);\r\n                                return true;\r\n                        }\r\n\r\n                        return false;\r\n                    });\r\n                }\r\n            });\r\n            \r\n            if (text.substring(23, 26).contains(&quot;A&quot;))\r\n            {\r\n                R4.setBackgroundResource(R.drawable.picto_rouge);\r\n            }\r\n            else {\r\n                R4.setBackgroundResource(R.drawable.picto_vert);\r\n            }\r\n            R4.setOnClickListener(a -&gt; {\r\n\r\n                setContentView(R.layout.activity_autodiagnostic_repartiteur);\r\n                {\r\n                    Repartiteur = findViewById(R.id.Repartiteur);\r\n                    Repartiteur.setBackgroundResource(R.drawable.repartiteur4);\r\n\r\n                    BottomNavigationView bandeauNavigationView = findViewById(R.id.bandeau_navigation);\r\n                    bandeauNavigationView.setSelectedItemId(R.id.accueil);\r\n                    bandeauNavigationView.setOnNavigationItemSelectedListener(item -&gt; {\r\n                        switch (item.getItemId()) {\r\n                            case R.id.accueil:\r\n                                return true;\r\n                            case R.id.commerce:\r\n                                startActivity(new Intent(getApplicationContext(), PageCommercial.class));\r\n                                overridePendingTransition(0, 0);\r\n                                return true;\r\n                            case R.id.services:\r\n                                startActivity(new Intent(getApplicationContext(), Support.class));\r\n                                overridePendingTransition(0, 0);\r\n                                return true;\r\n                            case R.id.info:\r\n                                startActivity(new Intent(getApplicationContext(), Info.class));\r\n                                overridePendingTransition(0, 0);\r\n                                return true;\r\n                        }\r\n\r\n                        return false;\r\n                    });\r\n                }\r\n            });\r\n```","title":"Reduce function and avoid repetition","body":"<p>I want to reduce the size of my function, and therefore avoid repetition.\nBy building a single function that contains all my commands at the same time.\nthe &quot;if&quot; function is present in three different configurations, is it possible to adjust everything to be able to write it once?\nCan we do the same for &quot;else&quot; functions?\nIf you have any suggestions, don't hesitate, I'm new to Java so my level is not yet advanced enough.</p>\n<pre><code>   if (text.substring(15, 18).contains(&quot;A&quot;))\n            {\n                R2.setBackgroundResource(R.drawable.picto_rouge);\n            }\n            else {\n                R2.setBackgroundResource(R.drawable.picto_vert);\n            }\n             R2.setOnClickListener(a -&gt; {\n\n                 setContentView(R.layout.activity_autodiagnostic_repartiteur);\n                 {\n                     Repartiteur = findViewById(R.id.Repartiteur);\n                     Repartiteur.setBackgroundResource(R.drawable.repartiteur2);\n\n                     BottomNavigationView bandeauNavigationView = findViewById(R.id.bandeau_navigation);\n                     bandeauNavigationView.setSelectedItemId(R.id.accueil);\n                     bandeauNavigationView.setOnNavigationItemSelectedListener(item -&gt; {\n                         switch (item.getItemId()) {\n                             case R.id.accueil:\n                                 return true;\n                             case R.id.commerce:\n                                 startActivity(new Intent(getApplicationContext(), PageCommercial.class));\n                                 overridePendingTransition(0, 0);\n                                 return true;\n                             case R.id.services:\n                                 startActivity(new Intent(getApplicationContext(), Support.class));\n                                 overridePendingTransition(0, 0);\n                                 return true;\n                             case R.id.info:\n                                 startActivity(new Intent(getApplicationContext(), Info.class));\n                                 overridePendingTransition(0, 0);\n                                 return true;\n                         }\n\n                         return false;\n                     });\n                 }\n             });\n\n\n\n            if (text.substring(19, 22).contains(&quot;A&quot;))\n            {\n                R3.setBackgroundResource(R.drawable.picto_rouge);\n            }\n            else {\n                R3.setBackgroundResource(R.drawable.picto_vert);\n            }\n            R3.setOnClickListener(a -&gt; {\n\n                setContentView(R.layout.activity_autodiagnostic_repartiteur);\n                {\n                    Repartiteur = findViewById(R.id.Repartiteur);\n                    Repartiteur.setBackgroundResource(R.drawable.repartiteur3);\n\n                    BottomNavigationView bandeauNavigationView = findViewById(R.id.bandeau_navigation);\n                    bandeauNavigationView.setSelectedItemId(R.id.accueil);\n                    bandeauNavigationView.setOnNavigationItemSelectedListener(item -&gt; {\n                        switch (item.getItemId()) {\n                            case R.id.accueil:\n                                return true;\n                            case R.id.commerce:\n                                startActivity(new Intent(getApplicationContext(), PageCommercial.class));\n                                overridePendingTransition(0, 0);\n                                return true;\n                            case R.id.services:\n                                startActivity(new Intent(getApplicationContext(), Support.class));\n                                overridePendingTransition(0, 0);\n                                return true;\n                            case R.id.info:\n                                startActivity(new Intent(getApplicationContext(), Info.class));\n                                overridePendingTransition(0, 0);\n                                return true;\n                        }\n\n                        return false;\n                    });\n                }\n            });\n            \n            if (text.substring(23, 26).contains(&quot;A&quot;))\n            {\n                R4.setBackgroundResource(R.drawable.picto_rouge);\n            }\n            else {\n                R4.setBackgroundResource(R.drawable.picto_vert);\n            }\n            R4.setOnClickListener(a -&gt; {\n\n                setContentView(R.layout.activity_autodiagnostic_repartiteur);\n                {\n                    Repartiteur = findViewById(R.id.Repartiteur);\n                    Repartiteur.setBackgroundResource(R.drawable.repartiteur4);\n\n                    BottomNavigationView bandeauNavigationView = findViewById(R.id.bandeau_navigation);\n                    bandeauNavigationView.setSelectedItemId(R.id.accueil);\n                    bandeauNavigationView.setOnNavigationItemSelectedListener(item -&gt; {\n                        switch (item.getItemId()) {\n                            case R.id.accueil:\n                                return true;\n                            case R.id.commerce:\n                                startActivity(new Intent(getApplicationContext(), PageCommercial.class));\n                                overridePendingTransition(0, 0);\n                                return true;\n                            case R.id.services:\n                                startActivity(new Intent(getApplicationContext(), Support.class));\n                                overridePendingTransition(0, 0);\n                                return true;\n                            case R.id.info:\n                                startActivity(new Intent(getApplicationContext(), Info.class));\n                                overridePendingTransition(0, 0);\n                                return true;\n                        }\n\n                        return false;\n                    });\n                }\n            });\n</code></pre>\n"},{"tags":["java","concurrency","synchronization","cyclicbarrier"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1637930899,"post_id":70097285,"comment_id":123960750,"body_markdown":"That’s the wrong question. Why do you want to make the value available in the main method? Just let the runnable do whatever you want to happen with that value. There is no point in enforcing it to happen in the main method.","body":"That’s the wrong question. Why do you want to make the value available in the main method? Just let the runnable do whatever you want to happen with that value. There is no point in enforcing it to happen in the main method."},{"owner":{"account_id":2728882,"reputation":1032,"user_id":2353137,"accept_rate":83,"display_name":"Umar"},"score":1,"creation_date":1637973312,"post_id":70097285,"comment_id":123971996,"body_markdown":"Sorry i dont understand, what you mean by wrong question. So if i want to access the output of the barrier action how would i do that. If you can show me an example, that would be helpful as well.","body":"Sorry i dont understand, what you mean by wrong question. So if i want to access the output of the barrier action how would i do that. If you can show me an example, that would be helpful as well."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1638172789,"post_id":70097285,"comment_id":124007643,"body_markdown":"Why does the barrier action have to have an output? Just do, whatever you want to do with that “output” right in the barrier action. It’s also possible that whatever you actually want to do, is better done with a different tool. Your contrived example does not explain why you decided to use a `CyclicBarrier`. Summing two int values does not deserve parallel processing. Merging results of asynchronous computations can be better done with `CompletableFuture`. Depending on the actual computation, a parallel stream might be better. [What is the XY problem?](https://meta.stackexchange.com/a/66378/)","body":"Why does the barrier action have to have an output? Just do, whatever you want to do with that “output” right in the barrier action. It’s also possible that whatever you actually want to do, is better done with a different tool. Your contrived example does not explain why you decided to use a <code>CyclicBarrier</code>. Summing two int values does not deserve parallel processing. Merging results of asynchronous computations can be better done with <code>CompletableFuture</code>. Depending on the actual computation, a parallel stream might be better. <a href=\"https://meta.stackexchange.com/a/66378/\">What is the XY problem?</a>"},{"owner":{"account_id":2728882,"reputation":1032,"user_id":2353137,"accept_rate":83,"display_name":"Umar"},"score":0,"creation_date":1638290131,"post_id":70097285,"comment_id":124046829,"body_markdown":"As i mentioned in the question, its taken from the oracle blog, so the purpose is not addition, but learning how to obtain an output from barrier action. so it looks like a wrong tool for the problem.","body":"As i mentioned in the question, its taken from the oracle blog, so the purpose is not addition, but learning how to obtain an output from barrier action. so it looks like a wrong tool for the problem."}],"answers":[{"tags":[],"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637773901,"creation_date":1637773901,"answer_id":70100236,"question_id":70097285,"body_markdown":"Since `CyclicBarrier` takes a `Runnable` only, it does not return a value. So, you will need to set the result in an externally defined output container - may be an `AtomicReference` as a field in `CBTest`. The `Runnable` can then set the value to it.\r\n\r\nHere&#39;s a slightly changed version, with my changes marked with the comment `CHANGE`.\r\n\r\n```java\r\npublic class CBTest{\r\n\tprivate List&lt;Integer&gt; results = Collections.synchronizedList( new ArrayList&lt;&gt;() );\r\n\r\n\t/* CHANGE: Value holder. Could be another thread-safe class. */\r\n\tprivate AtomicReference&lt;Integer&gt; answer = new AtomicReference&lt;&gt;( 0 );\r\n\r\n\tclass Calculator extends Thread{\r\n\t\tCyclicBarrier cb;\r\n\t\tint param;\r\n\r\n\t\tpublic Calculator( CyclicBarrier cb, int param ){\r\n\t\t\tthis.cb = cb;\r\n\t\t\tthis.param = param;\r\n\t\t}\r\n\r\n\t\tpublic void run(){\r\n\t\t\ttry{\r\n\t\t\t\tresults.add( param );\r\n\t\t\t\tSystem.out.println( &quot;going to await&quot; );\r\n\t\t\t\tcb.await();\r\n\t\t\t\t\r\n\t\t\t\t/* CHANGE: Both threads get the same value. */\r\n\t\t\t\tSystem.out.println( answer.get() );\r\n\t\t\t}\r\n\t\t\tcatch( InterruptedException | BrokenBarrierException e ){\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tvoid doCalculation(){\r\n\t\tCyclicBarrier cb = new CyclicBarrier( 2, () -&gt; {\r\n\t\t\tvar ans = results.stream().mapToInt( v -&gt; v.intValue() ).sum();\r\n\t\t\tSystem.out.println( &quot;ANS IS &quot; + ans );\r\n\t\t\t\r\n\t\t\t/* CHANGE: Set the value here. */\r\n\t\t\tanswer.set( ans );\r\n\t\t} );\r\n\t\tnew Calculator( cb, 2 ).start();\r\n\t\tnew Calculator( cb, 3 ).start();\r\n\t}\r\n\r\n\tpublic static void main( String[] args ){\r\n\t\tvar test = new CBTest();\r\n\t\ttest.doCalculation();\r\n\t}\r\n}\r\n```","title":"Accessing output from barrier action in CyclicBarrier","body":"<p>Since <code>CyclicBarrier</code> takes a <code>Runnable</code> only, it does not return a value. So, you will need to set the result in an externally defined output container - may be an <code>AtomicReference</code> as a field in <code>CBTest</code>. The <code>Runnable</code> can then set the value to it.</p>\n<p>Here's a slightly changed version, with my changes marked with the comment <code>CHANGE</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CBTest{\n    private List&lt;Integer&gt; results = Collections.synchronizedList( new ArrayList&lt;&gt;() );\n\n    /* CHANGE: Value holder. Could be another thread-safe class. */\n    private AtomicReference&lt;Integer&gt; answer = new AtomicReference&lt;&gt;( 0 );\n\n    class Calculator extends Thread{\n        CyclicBarrier cb;\n        int param;\n\n        public Calculator( CyclicBarrier cb, int param ){\n            this.cb = cb;\n            this.param = param;\n        }\n\n        public void run(){\n            try{\n                results.add( param );\n                System.out.println( &quot;going to await&quot; );\n                cb.await();\n                \n                /* CHANGE: Both threads get the same value. */\n                System.out.println( answer.get() );\n            }\n            catch( InterruptedException | BrokenBarrierException e ){\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n        }\n\n    }\n\n    void doCalculation(){\n        CyclicBarrier cb = new CyclicBarrier( 2, () -&gt; {\n            var ans = results.stream().mapToInt( v -&gt; v.intValue() ).sum();\n            System.out.println( &quot;ANS IS &quot; + ans );\n            \n            /* CHANGE: Set the value here. */\n            answer.set( ans );\n        } );\n        new Calculator( cb, 2 ).start();\n        new Calculator( cb, 3 ).start();\n    }\n\n    public static void main( String[] args ){\n        var test = new CBTest();\n        test.doCalculation();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637937232,"creation_date":1637801324,"answer_id":70104637,"question_id":70097285,"body_markdown":"\r\nYou can make ```doCalculation``` return result synchronously by using a additional ```CountDownLatch```([CountDownLatch][1]), in this case, your ```doCalculation``` method will be blocked until the calculation result is generated:\r\n\r\n``` \r\n    CountDownLatch countDownLatch = new CountDownLatch(1);\r\n\r\n    int doCalculation() throws InterruptedException {\r\n        AtomicInteger result = new AtomicInteger();\r\n        CyclicBarrier cb = new CyclicBarrier(2, () -&gt; {\r\n            result.set(results.stream().mapToInt(v -&gt; v.intValue()).sum());\r\n            // count down\r\n            countDownLatch.countDown();\r\n        });\r\n        new Calculator(cb, 2).start();\r\n        new Calculator(cb, 3).start();\r\n        // block util it is countDown.\r\n        countDownLatch.await();\r\n        return result.get();\r\n    }\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        var test = new CBTest();\r\n        System.out.println(&quot;ANS IS &quot; + test.doCalculation());\r\n    }\r\n```\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-countdown-latch","title":"Accessing output from barrier action in CyclicBarrier","body":"<p>You can make <code>doCalculation</code> return result synchronously by using a additional <code>CountDownLatch</code>(<a href=\"https://www.baeldung.com/java-countdown-latch\" rel=\"nofollow noreferrer\">CountDownLatch</a>), in this case, your <code>doCalculation</code> method will be blocked until the calculation result is generated:</p>\n<pre><code>    CountDownLatch countDownLatch = new CountDownLatch(1);\n\n    int doCalculation() throws InterruptedException {\n        AtomicInteger result = new AtomicInteger();\n        CyclicBarrier cb = new CyclicBarrier(2, () -&gt; {\n            result.set(results.stream().mapToInt(v -&gt; v.intValue()).sum());\n            // count down\n            countDownLatch.countDown();\n        });\n        new Calculator(cb, 2).start();\n        new Calculator(cb, 3).start();\n        // block util it is countDown.\n        countDownLatch.await();\n        return result.get();\n    }\n\n    public static void main(String[] args) throws InterruptedException {\n        var test = new CBTest();\n        System.out.println(&quot;ANS IS &quot; + test.doCalculation());\n    }\n</code></pre>\n"}],"owner":{"account_id":2728882,"reputation":1032,"user_id":2353137,"accept_rate":83,"display_name":"Umar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70104637,"answer_count":2,"score":0,"last_activity_date":1637937232,"creation_date":1637761775,"question_id":70097285,"body_markdown":"I was practicing this question from oracle blog about happens before, i have a question in how to obtain/access the output of a barrier action in CyclicBarrier.\r\n\r\n The blog link \r\n\r\nhttps://blogs.oracle.com/javamagazine/post/quiz-yourself-happens-before-thread-synchronization-in-java-with-cyclicbarrier\r\n\r\nthe code\r\n\r\n   \r\n\r\n     public class CBTest {\r\n    \r\n    \tprivate List&lt;Integer&gt; results = Collections.synchronizedList(new ArrayList&lt;&gt;());\r\n    \t\r\n    \tclass Calculator extends Thread {\r\n    \t\tCyclicBarrier cb;\r\n    \t\tint param;\r\n    \r\n    \t\tpublic Calculator(CyclicBarrier cb, int param) {\r\n    \t\t\tthis.cb = cb;\r\n    \t\t\tthis.param = param;\r\n    \t\t}\r\n    \r\n    \r\n    \t\tpublic void run() {\r\n    \t\t\ttry {\r\n    \t\t\t\tresults.add(param);\r\n    \t\t\t\tSystem.out.println(&quot;going to await&quot;);\r\n    \t\t\t\tcb.await();\r\n    \t\t\t} catch (InterruptedException | BrokenBarrierException e) {\r\n    \t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tvoid doCalculation() {\r\n    \t\tCyclicBarrier cb = new CyclicBarrier(2, () -&gt; {\r\n    \t\t\tvar ans = results.stream().mapToInt(v -&gt; v.intValue()).sum();\r\n    \t\t\tSystem.out.println(&quot;ANS IS &quot;+ans);\r\n    \t\t\t});\r\n    \t\tnew Calculator(cb, 2).start();\r\n    \t\tnew Calculator(cb, 3).start();\r\n    \t}\r\n    \r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tvar test = new CBTest();\r\n    \t\ttest.doCalculation();\r\n    \t}\r\n      }\r\nplease let me know on how to obtain the value of the cyclic barrier action `ans` in the main method?","title":"Accessing output from barrier action in CyclicBarrier","body":"<p>I was practicing this question from oracle blog about happens before, i have a question in how to obtain/access the output of a barrier action in CyclicBarrier.</p>\n<p>The blog link</p>\n<p><a href=\"https://blogs.oracle.com/javamagazine/post/quiz-yourself-happens-before-thread-synchronization-in-java-with-cyclicbarrier\" rel=\"nofollow noreferrer\">https://blogs.oracle.com/javamagazine/post/quiz-yourself-happens-before-thread-synchronization-in-java-with-cyclicbarrier</a></p>\n<p>the code</p>\n<pre><code> public class CBTest {\n\n    private List&lt;Integer&gt; results = Collections.synchronizedList(new ArrayList&lt;&gt;());\n    \n    class Calculator extends Thread {\n        CyclicBarrier cb;\n        int param;\n\n        public Calculator(CyclicBarrier cb, int param) {\n            this.cb = cb;\n            this.param = param;\n        }\n\n\n        public void run() {\n            try {\n                results.add(param);\n                System.out.println(&quot;going to await&quot;);\n                cb.await();\n            } catch (InterruptedException | BrokenBarrierException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n        }\n\n    }\n\n    void doCalculation() {\n        CyclicBarrier cb = new CyclicBarrier(2, () -&gt; {\n            var ans = results.stream().mapToInt(v -&gt; v.intValue()).sum();\n            System.out.println(&quot;ANS IS &quot;+ans);\n            });\n        new Calculator(cb, 2).start();\n        new Calculator(cb, 3).start();\n    }\n\n\n    public static void main(String[] args) {\n        var test = new CBTest();\n        test.doCalculation();\n    }\n  }\n</code></pre>\n<p>please let me know on how to obtain the value of the cyclic barrier action <code>ans</code> in the main method?</p>\n"},{"tags":["java","swing","layout-manager","gridbaglayout"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1636577172,"post_id":69919760,"comment_id":123597585,"body_markdown":"In theory, yes, based on your example code, for some reason, when ever I add `c` (testing it one panel at a time), it adds &quot;more&quot; space to the container, which throws out the sizing on the right hand side ... and I don&#39;t know why","body":"In theory, yes, based on your example code, for some reason, when ever I add <code>c</code> (testing it one panel at a time), it adds &quot;more&quot; space to the container, which throws out the sizing on the right hand side ... and I don&#39;t know why"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1636577181,"post_id":69919760,"comment_id":123597591,"body_markdown":"1) How should extra width and height be assigned to the various panel containers? 2) Are you set on using a `GridBagLayout`? I started turning the constraints of panel placement over in my head and realised a combination of other layouts *might* (see (1)) be easier.","body":"1) How should extra width and height be assigned to the various panel containers? 2) Are you set on using a <code>GridBagLayout</code>? I started turning the constraints of panel placement over in my head and realised a combination of other layouts <i>might</i> (see (1)) be easier."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1636577266,"post_id":69919760,"comment_id":123597627,"body_markdown":"You can&#39;t just randomly using a gridwidth of 3 and 5. That only works if you actually have 6 components in one of the rows. Then using a gridwidth of 3 or 5 makes sense. However you can configure a minimum width for each column. Then it would make sense to specify the gridwidth. See: https://stackoverflow.com/questions/59009741/creating-a-board-game-layout-using-jlayeredpane/59022153#59022153 for an example of this approach.","body":"You can&#39;t just randomly using a gridwidth of 3 and 5. That only works if you actually have 6 components in one of the rows. Then using a gridwidth of 3 or 5 makes sense. However you can configure a minimum width for each column. Then it would make sense to specify the gridwidth. See: <a href=\"https://stackoverflow.com/questions/59009741/creating-a-board-game-layout-using-jlayeredpane/59022153#59022153\" title=\"creating a board game layout using jlayeredpane\">stackoverflow.com/questions/59009741/&hellip;</a> for an example of this approach."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1636624242,"post_id":69919760,"comment_id":123608835,"body_markdown":"@camickr I thought, incorrectly, that using more grid elements would let me cut up the layout better. Consider just having 1 panel on the top row added gridwidth 2, and 2 panels on the bottom row gridwith 1 each. Then the layout gets packed ok, even if the second row has different sized panels.","body":"@camickr I thought, incorrectly, that using more grid elements would let me cut up the layout better. Consider just having 1 panel on the top row added gridwidth 2, and 2 panels on the bottom row gridwith 1 each. Then the layout gets packed ok, even if the second row has different sized panels."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1636643280,"post_id":69919760,"comment_id":123616705,"body_markdown":"The &quot;gridwidth&quot; constraint basically says &quot;ignore the preferred width of the component and base the width on components found in other rows&quot;. The width of a column is based on the width of the largest component added in that column with `gridwidth = 1`. The second row has two components so the preferred width of each column can be calculated. Then the width of the component in the first row can be calculated. Adding more components with `gridwidth = 1` will help. That is effectively what my answer does. It creates more columns without using actual components.","body":"The &quot;gridwidth&quot; constraint basically says &quot;ignore the preferred width of the component and base the width on components found in other rows&quot;. The width of a column is based on the width of the largest component added in that column with <code>gridwidth = 1</code>. The second row has two components so the preferred width of each column can be calculated. Then the width of the component in the first row can be calculated. Adding more components with <code>gridwidth = 1</code> will help. That is effectively what my answer does. It creates more columns without using actual components."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1636644244,"post_id":69919760,"comment_id":123617140,"body_markdown":"Check out: https://stackoverflow.com/a/57463596/131872 for another example of this approach. As you noted, nesting panels with different layout managers can often simplify the layout. Without a concrete example of what you are trying to achieve I can&#39;t give a specific solution, only explain (my understanding of) what is happening.","body":"Check out: <a href=\"https://stackoverflow.com/a/57463596/131872\">stackoverflow.com/a/57463596/131872</a> for another example of this approach. As you noted, nesting panels with different layout managers can often simplify the layout. Without a concrete example of what you are trying to achieve I can&#39;t give a specific solution, only explain (my understanding of) what is happening."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636579293,"creation_date":1636579293,"answer_id":69920382,"question_id":69919760,"body_markdown":"For some reason `GridBagLayout` is adding addition space to it&#39;s calculations, but I&#39;m not sure why.  At first I thought it was the `LineBorder`, but when I modified your code to remove the border, it still didn&#39;t work...\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI don&#39;t know where the extra spacing on the right is coming from (it&#39;s probably really obvious, but I can&#39;t see it)\r\n\r\n\r\nSooo, this is one of those moments where I &quot;flip the table&quot; and &quot;rage quite&quot; and instead, &quot;hack it&quot;\r\n\r\nSince there seems to be a disconnect between the first and second row, for some reason, I combined the two panels from the first row into a single panel and got rid of all the `gridwidth`s (more or less)\r\n\r\n[![Magic][2]][2]\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.FontMetrics;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n\r\n    public class Test {\r\n\r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n\r\n        public Test() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            public TestPane() {\r\n                setLayout(new GridBagLayout());\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                //create five panels to layout.\r\n                JPanel a = new LayoutPane();\r\n                a.setForeground(Color.BLUE);\r\n                a.setPreferredSize(new Dimension(300, 30));\r\n\r\n                JPanel b = new LayoutPane();\r\n                b.setPreferredSize(new Dimension(300, 30));\r\n                b.setForeground(Color.BLUE);\r\n\r\n                JPanel c = new LayoutPane();\r\n                c.setPreferredSize(new Dimension(500, 30));\r\n                c.setForeground(Color.GREEN);\r\n\r\n                JPanel d = new LayoutPane();\r\n                d.setPreferredSize(new Dimension(500, 30));\r\n                d.setForeground(Color.GREEN);\r\n\r\n                JPanel e = new LayoutPane();\r\n                e.setPreferredSize(new Dimension(100, 60));\r\n                e.setForeground(Color.RED);\r\n\r\n                JPanel topPane = new JPanel(new GridBagLayout());\r\n\r\n                //place them in a gridbaglayout.\r\n                gbc.gridx = 0;\r\n                gbc.gridy = 0;\r\n                gbc.fill = GridBagConstraints.HORIZONTAL;            \r\n                topPane.add(a, gbc);\r\n                gbc.gridx++;\r\n                topPane.add(b, gbc);\r\n\r\n                gbc = new GridBagConstraints();\r\n                gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n                gbc.gridx = 0;\r\n                gbc.gridy = 0;\r\n                gbc.fill = GridBagConstraints.HORIZONTAL;            \r\n                add(topPane, gbc);\r\n\r\n\r\n                gbc = new GridBagConstraints();\r\n                gbc.gridx = 0;\r\n                gbc.gridy = 1;\r\n                gbc.anchor = GridBagConstraints.WEST;\r\n                add(c, gbc);\r\n\r\n                gbc.gridy = 2;\r\n                add(d, gbc);\r\n\r\n                gbc = new GridBagConstraints();\r\n                gbc.gridy = 1;\r\n                gbc.gridx++;\r\n                gbc.gridheight = 2;\r\n                gbc.anchor = GridBagConstraints.EAST;\r\n                add(e, gbc);\r\n            }\r\n\r\n        }\r\n\r\n        public class LayoutPane extends JPanel {\r\n\r\n            public LayoutPane() {\r\n                setOpaque(false);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                g2d.setColor(getForeground());\r\n                g2d.drawRect(0, 0, getWidth() - 1, getHeight() - 1);\r\n                String text = getWidth() + &quot;x&quot; + getHeight();\r\n                FontMetrics fm = g2d.getFontMetrics();\r\n                int x = (getWidth() - fm.stringWidth(text)) / 2;\r\n                int y = ((getHeight() - fm.getHeight()) / 2) + fm.getAscent();\r\n                g2d.drawString(text, x, y);\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/21iUg.png\r\n  [2]: https://i.stack.imgur.com/8ZBpr.png","title":"How to get a GridBagLayout to arrange column widths?","body":"<p>For some reason <code>GridBagLayout</code> is adding addition space to it's calculations, but I'm not sure why.  At first I thought it was the <code>LineBorder</code>, but when I modified your code to remove the border, it still didn't work...</p>\n<p><a href=\"https://i.stack.imgur.com/21iUg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/21iUg.png\" alt=\"enter image description here\" /></a></p>\n<p>I don't know where the extra spacing on the right is coming from (it's probably really obvious, but I can't see it)</p>\n<p>Sooo, this is one of those moments where I &quot;flip the table&quot; and &quot;rage quite&quot; and instead, &quot;hack it&quot;</p>\n<p>Since there seems to be a disconnect between the first and second row, for some reason, I combined the two panels from the first row into a single panel and got rid of all the <code>gridwidth</code>s (more or less)</p>\n<p><a href=\"https://i.stack.imgur.com/8ZBpr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8ZBpr.png\" alt=\"Magic\" /></a></p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.FontMetrics;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() {\n            setLayout(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            //create five panels to layout.\n            JPanel a = new LayoutPane();\n            a.setForeground(Color.BLUE);\n            a.setPreferredSize(new Dimension(300, 30));\n\n            JPanel b = new LayoutPane();\n            b.setPreferredSize(new Dimension(300, 30));\n            b.setForeground(Color.BLUE);\n\n            JPanel c = new LayoutPane();\n            c.setPreferredSize(new Dimension(500, 30));\n            c.setForeground(Color.GREEN);\n\n            JPanel d = new LayoutPane();\n            d.setPreferredSize(new Dimension(500, 30));\n            d.setForeground(Color.GREEN);\n\n            JPanel e = new LayoutPane();\n            e.setPreferredSize(new Dimension(100, 60));\n            e.setForeground(Color.RED);\n\n            JPanel topPane = new JPanel(new GridBagLayout());\n\n            //place them in a gridbaglayout.\n            gbc.gridx = 0;\n            gbc.gridy = 0;\n            gbc.fill = GridBagConstraints.HORIZONTAL;            \n            topPane.add(a, gbc);\n            gbc.gridx++;\n            topPane.add(b, gbc);\n\n            gbc = new GridBagConstraints();\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\n            gbc.gridx = 0;\n            gbc.gridy = 0;\n            gbc.fill = GridBagConstraints.HORIZONTAL;            \n            add(topPane, gbc);\n\n\n            gbc = new GridBagConstraints();\n            gbc.gridx = 0;\n            gbc.gridy = 1;\n            gbc.anchor = GridBagConstraints.WEST;\n            add(c, gbc);\n\n            gbc.gridy = 2;\n            add(d, gbc);\n\n            gbc = new GridBagConstraints();\n            gbc.gridy = 1;\n            gbc.gridx++;\n            gbc.gridheight = 2;\n            gbc.anchor = GridBagConstraints.EAST;\n            add(e, gbc);\n        }\n\n    }\n\n    public class LayoutPane extends JPanel {\n\n        public LayoutPane() {\n            setOpaque(false);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            g2d.setColor(getForeground());\n            g2d.drawRect(0, 0, getWidth() - 1, getHeight() - 1);\n            String text = getWidth() + &quot;x&quot; + getHeight();\n            FontMetrics fm = g2d.getFontMetrics();\n            int x = (getWidth() - fm.stringWidth(text)) / 2;\n            int y = ((getHeight() - fm.getHeight()) / 2) + fm.getAscent();\n            g2d.drawString(text, x, y);\n            g2d.dispose();\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1636580879,"creation_date":1636580309,"answer_id":69920532,"question_id":69919760,"body_markdown":"Following  up on my comment from above you can use:\r\n\r\n    //JPanel content = new JPanel(new GridBagLayout());\r\n\tGridBagLayout gbl = new GridBagLayout();\r\n    int[] columns = new int[6];\r\n    Arrays.fill(columns, 100);\r\n    gbl.columnWidths = columns;\r\n    JPanel content = new JPanel(gbl);\r\n\r\nThe above code states each of the 6 columns will have a minimum width of 100.\r\n\r\nIf a component is added to a column with `gridwidth = 1`, then the preferred size of that component will be used as the width of the column. \r\n\r\nSo now when you specify `gridwidth = 3` it has a meaning because the layout can use either the width of a component added to the columnn or the minimum width to determine the actual size of the component.\r\n","title":"How to get a GridBagLayout to arrange column widths?","body":"<p>Following  up on my comment from above you can use:</p>\n<pre><code>//JPanel content = new JPanel(new GridBagLayout());\nGridBagLayout gbl = new GridBagLayout();\nint[] columns = new int[6];\nArrays.fill(columns, 100);\ngbl.columnWidths = columns;\nJPanel content = new JPanel(gbl);\n</code></pre>\n<p>The above code states each of the 6 columns will have a minimum width of 100.</p>\n<p>If a component is added to a column with <code>gridwidth = 1</code>, then the preferred size of that component will be used as the width of the column.</p>\n<p>So now when you specify <code>gridwidth = 3</code> it has a meaning because the layout can use either the width of a component added to the columnn or the minimum width to determine the actual size of the component.</p>\n"}],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69920532,"answer_count":2,"score":0,"last_activity_date":1637937204,"creation_date":1636575845,"question_id":69919760,"body_markdown":"Here is a pretty simple layout (code included) where non-uniform column sizes could improve packing.\r\n\r\n[![Poorly formatted layout][1]][1]\r\n\r\nIs there a way, using a single `GridBagLayout`, to get the components to fit together nicely?\r\n\r\n[![desired layout][2]][2]\r\n\r\nI thought that using a width of 3 for the top two components, then a width of 5 &amp; 1 for the next two rows would influence the alignment, but I cannot get it to stay flush. My current solution (not included) is to create a sub panel with the red and green panels.\r\n\r\n```java\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class GridBagWrong{\r\n    public static void main(String[] args){\r\n        JPanel content = new JPanel(new GridBagLayout());\r\n        GridBagConstraints gbc = new GridBagConstraints();\r\n        //create five panels to layout.\r\n        JPanel a = new JPanel();\r\n        a.setPreferredSize( new Dimension(300, 30) );\r\n        a.setBorder( BorderFactory.createLineBorder(Color.BLUE) );\r\n        JPanel b = new JPanel();\r\n        b.setPreferredSize( new Dimension(300, 30) );\r\n        b.setBorder( BorderFactory.createLineBorder(Color.BLUE) );\r\n        JPanel c = new JPanel();\r\n        c.setPreferredSize( new Dimension(500, 30) );\r\n        c.setBorder( BorderFactory.createLineBorder(Color.GREEN) );\r\n        JPanel d = new JPanel();\r\n        d.setPreferredSize( new Dimension(500, 30) );\r\n        d.setBorder( BorderFactory.createLineBorder(Color.GREEN) );\r\n        JPanel e = new JPanel();\r\n        e.setPreferredSize( new Dimension(100, 60) );\r\n        e.setBorder( BorderFactory.createLineBorder(Color.RED) );\r\n        //place them in a gridbaglayout.\r\n        gbc.gridwidth = 3;\r\n        content.add(a, gbc);\r\n        gbc.gridx = 3;\r\n        content.add(b, gbc);\r\n        gbc.gridx = 0;\r\n        gbc.gridy = 1;\r\n        gbc.gridwidth = 5;\r\n        content.add(c, gbc);\r\n        gbc.gridy = 2;\r\n        content.add(d, gbc);\r\n        \r\n        gbc.gridy = 1;\r\n        gbc.gridx = 5;\r\n        gbc.gridheight = 2;\r\n        gbc.gridwidth = 1;\r\n        content.add(e, gbc);\r\n        \r\n        JFrame frame = new JFrame(&quot;test&quot;);        \r\n        frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n        frame.setContentPane( content );\r\n        frame.pack();\r\n        frame.setVisible(true);\r\n    }\r\n\r\n}\r\n``` \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SWMTA.png\r\n  [2]: https://i.stack.imgur.com/2qVTX.png","title":"How to get a GridBagLayout to arrange column widths?","body":"<p>Here is a pretty simple layout (code included) where non-uniform column sizes could improve packing.</p>\n<p><a href=\"https://i.stack.imgur.com/SWMTA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SWMTA.png\" alt=\"Poorly formatted layout\" /></a></p>\n<p>Is there a way, using a single <code>GridBagLayout</code>, to get the components to fit together nicely?</p>\n<p><a href=\"https://i.stack.imgur.com/2qVTX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2qVTX.png\" alt=\"desired layout\" /></a></p>\n<p>I thought that using a width of 3 for the top two components, then a width of 5 &amp; 1 for the next two rows would influence the alignment, but I cannot get it to stay flush. My current solution (not included) is to create a sub panel with the red and green panels.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class GridBagWrong{\n    public static void main(String[] args){\n        JPanel content = new JPanel(new GridBagLayout());\n        GridBagConstraints gbc = new GridBagConstraints();\n        //create five panels to layout.\n        JPanel a = new JPanel();\n        a.setPreferredSize( new Dimension(300, 30) );\n        a.setBorder( BorderFactory.createLineBorder(Color.BLUE) );\n        JPanel b = new JPanel();\n        b.setPreferredSize( new Dimension(300, 30) );\n        b.setBorder( BorderFactory.createLineBorder(Color.BLUE) );\n        JPanel c = new JPanel();\n        c.setPreferredSize( new Dimension(500, 30) );\n        c.setBorder( BorderFactory.createLineBorder(Color.GREEN) );\n        JPanel d = new JPanel();\n        d.setPreferredSize( new Dimension(500, 30) );\n        d.setBorder( BorderFactory.createLineBorder(Color.GREEN) );\n        JPanel e = new JPanel();\n        e.setPreferredSize( new Dimension(100, 60) );\n        e.setBorder( BorderFactory.createLineBorder(Color.RED) );\n        //place them in a gridbaglayout.\n        gbc.gridwidth = 3;\n        content.add(a, gbc);\n        gbc.gridx = 3;\n        content.add(b, gbc);\n        gbc.gridx = 0;\n        gbc.gridy = 1;\n        gbc.gridwidth = 5;\n        content.add(c, gbc);\n        gbc.gridy = 2;\n        content.add(d, gbc);\n        \n        gbc.gridy = 1;\n        gbc.gridx = 5;\n        gbc.gridheight = 2;\n        gbc.gridwidth = 1;\n        content.add(e, gbc);\n        \n        JFrame frame = new JFrame(&quot;test&quot;);        \n        frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n        frame.setContentPane( content );\n        frame.pack();\n        frame.setVisible(true);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa","bidirectional-relation"],"comments":[{"owner":{"account_id":18286558,"reputation":371,"user_id":13314717,"display_name":"NikMashei"},"score":0,"creation_date":1637938892,"post_id":70126027,"comment_id":123963699,"body_markdown":"I believe that association `many-to-many` is pretty handful for your case. Check this out: https://www.baeldung.com/hibernate-many-to-many\nYou need to create one more table and store relationships between users into it.","body":"I believe that association <code>many-to-many</code> is pretty handful for your case. Check this out: <a href=\"https://www.baeldung.com/hibernate-many-to-many\" rel=\"nofollow noreferrer\">baeldung.com/hibernate-many-to-many</a> You need to create one more table and store relationships between users into it."},{"owner":{"account_id":266507,"reputation":344,"user_id":554117,"accept_rate":100,"display_name":"Giulio Pulina"},"score":0,"creation_date":1637939477,"post_id":70126027,"comment_id":123963945,"body_markdown":"@Zogger I am looking for a clever way to store the relationship using the many-to-many association. In fact, the problem I&#39;m facing is also well described here https://wordeology.com/computer/representing-symmetric-relations-in-a-relational-database.html","body":"@Zogger I am looking for a clever way to store the relationship using the many-to-many association. In fact, the problem I&#39;m facing is also well described here <a href=\"https://wordeology.com/computer/representing-symmetric-relations-in-a-relational-database.html\" rel=\"nofollow noreferrer\">wordeology.com/computer/&hellip;</a>"},{"owner":{"account_id":18286558,"reputation":371,"user_id":13314717,"display_name":"NikMashei"},"score":1,"creation_date":1637941715,"post_id":70126027,"comment_id":123964725,"body_markdown":"I agree, link what you shared contains a good point about duplicating data. But also if you would use int32 to store these relationships then it isn&#39;t a big deal. Maybe some answers from this link help you with your issue: https://dba.stackexchange.com/questions/10199/how-should-i-design-a-relationship-table-for-fr","body":"I agree, link what you shared contains a good point about duplicating data. But also if you would use int32 to store these relationships then it isn&#39;t a big deal. Maybe some answers from this link help you with your issue: <a href=\"https://dba.stackexchange.com/questions/10199/how-should-i-design-a-relationship-table-for-fr\" title=\"how should i design a relationship table for fr\">dba.stackexchange.com/questions/10199/&hellip;</a>"},{"owner":{"account_id":266507,"reputation":344,"user_id":554117,"accept_rate":100,"display_name":"Giulio Pulina"},"score":0,"creation_date":1637944442,"post_id":70126027,"comment_id":123965720,"body_markdown":"besides increasing the required storage, data duplication introduces a consistency problem (each time an operation is performed, two rows in the table must be added/removed: A, B and B,A) and I wanted to understand if Hibernate/JPA has some built-in features to handle such cases","body":"besides increasing the required storage, data duplication introduces a consistency problem (each time an operation is performed, two rows in the table must be added/removed: A, B and B,A) and I wanted to understand if Hibernate/JPA has some built-in features to handle such cases"}],"owner":{"account_id":266507,"reputation":344,"user_id":554117,"accept_rate":100,"display_name":"Giulio Pulina"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637937177,"creation_date":1637937177,"question_id":70126027,"body_markdown":"I would like to implement a User-Friend relationship in Hibernate/JPA, something like:\r\n\r\n     class User {\r\n        Set&lt;User&gt; friends;\r\n     }\r\n\r\nLet&#39;s say that user A and user B are friends.\r\nIf user A unfriends user B, list of friends of User B should not contain user A anymore.\r\n\r\nIs there any clean way to model this kind of relation in Hibernate/JPA (and, of course, in the underlying DB tables)?\r\n\r\n","title":"Is there a way to map a bidirectional symmetric relationship in Hibernate / JPA?","body":"<p>I would like to implement a User-Friend relationship in Hibernate/JPA, something like:</p>\n<pre><code> class User {\n    Set&lt;User&gt; friends;\n }\n</code></pre>\n<p>Let's say that user A and user B are friends.\nIf user A unfriends user B, list of friends of User B should not contain user A anymore.</p>\n<p>Is there any clean way to model this kind of relation in Hibernate/JPA (and, of course, in the underlying DB tables)?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1637935667,"post_id":70125679,"comment_id":123962506,"body_markdown":"Tell us which input you have tried and the result, and why it differs from your expectations.","body":"Tell us which input you have tried and the result, and why it differs from your expectations."},{"owner":{"account_id":23127407,"reputation":11,"user_id":17232999,"display_name":"Shampau Tolentino"},"score":0,"creation_date":1637935819,"post_id":70125679,"comment_id":123962550,"body_markdown":"What do you mean? My issue is that when i input a letter, it is not displaying the invalid input message. It just stops the program because i input a letter which is not the error i want to see","body":"What do you mean? My issue is that when i input a letter, it is not displaying the invalid input message. It just stops the program because i input a letter which is not the error i want to see"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":2,"creation_date":1637936019,"post_id":70125679,"comment_id":123962620,"body_markdown":"@ShampauTolentino Why do you think `num1.isNan()` is executed at all? `input.nextDouble()` throws an exception if the input is not parsable as a double. If you want to handle it, then `catch` the exception. [More info here](https://docs.oracle.com/javase/tutorial/essential/exceptions/handling.html).","body":"@ShampauTolentino Why do you think <code>num1.isNan()</code> is executed at all? <code>input.nextDouble()</code> throws an exception if the input is not parsable as a double. If you want to handle it, then <code>catch</code> the exception. <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/handling.html\" rel=\"nofollow noreferrer\">More info here</a>."}],"answers":[{"tags":[],"owner":{"account_id":8171715,"reputation":6290,"user_id":6151924,"display_name":"RobCo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1637936746,"creation_date":1637936246,"answer_id":70125821,"question_id":70125679,"body_markdown":"Scanner does not return a NaN when an invalid input is given. Instead it throws an `InputMismatchException`. You could use a try-catch statement to catch this exception and handle it appropriately.\r\n\r\nAlternatively, Scanner also has a `hasNextDouble()` function. This waits and checks if the next value is valid as a double, without actually consuming it.\r\n\r\nSo you could write your loop like this:\r\n\r\n    while (true){\r\n        System.out.println(&quot;Please input a number:&quot;);\r\n        if (!input.hasNextDouble()) {\r\n            System.out.println(&quot;Not a valid number.&quot;);\r\n            break;\r\n        }\r\n        double number = input.nextDouble();\r\n        System.out.println(&quot;Your input: &quot; + number);\r\n    }\r\n\r\n[See the documentation on Scanner.hasNextDouble](https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#hasNextDouble--)","title":"If isNaN not throwing non Double inputs","body":"<p>Scanner does not return a NaN when an invalid input is given. Instead it throws an <code>InputMismatchException</code>. You could use a try-catch statement to catch this exception and handle it appropriately.</p>\n<p>Alternatively, Scanner also has a <code>hasNextDouble()</code> function. This waits and checks if the next value is valid as a double, without actually consuming it.</p>\n<p>So you could write your loop like this:</p>\n<pre><code>while (true){\n    System.out.println(&quot;Please input a number:&quot;);\n    if (!input.hasNextDouble()) {\n        System.out.println(&quot;Not a valid number.&quot;);\n        break;\n    }\n    double number = input.nextDouble();\n    System.out.println(&quot;Your input: &quot; + number);\n}\n</code></pre>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#hasNextDouble--\" rel=\"nofollow noreferrer\">See the documentation on Scanner.hasNextDouble</a></p>\n"}],"owner":{"account_id":23127407,"reputation":11,"user_id":17232999,"display_name":"Shampau Tolentino"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1637936746,"creation_date":1637935516,"question_id":70125679,"body_markdown":"I don&#39;t know if im using the isNaN right but can you guys help me on using it to accept only numbers in inputs\r\n\r\n    while (true){\r\n        System.out.println(&quot;first number&quot;);\r\n        num1=input.nextDouble();\r\n        if (num1.isNaN()){\r\n            System.out.println(&quot;invalid input&quot;);\r\n        }\r\n        else;\r\n            break;\r\n    }\r\n\r\n\r\nMy issue is that when i input a letter, it is not displaying the invalid input message. It just stops the program because i input a letter which is not the error i want to see","title":"If isNaN not throwing non Double inputs","body":"<p>I don't know if im using the isNaN right but can you guys help me on using it to accept only numbers in inputs</p>\n<pre><code>while (true){\n    System.out.println(&quot;first number&quot;);\n    num1=input.nextDouble();\n    if (num1.isNaN()){\n        System.out.println(&quot;invalid input&quot;);\n    }\n    else;\n        break;\n}\n</code></pre>\n<p>My issue is that when i input a letter, it is not displaying the invalid input message. It just stops the program because i input a letter which is not the error i want to see</p>\n"},{"tags":["java","guava","apache-commons"],"answers":[{"tags":[],"owner":{"account_id":1292084,"reputation":1678,"user_id":1243985,"accept_rate":78,"display_name":"bas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376472717,"creation_date":1376472717,"answer_id":18228007,"question_id":18227938,"body_markdown":"You can create the code for this functionality yourself as well:\r\n\r\n    String output = &quot;&quot;;\r\n\r\n    for (int i = 0; i &lt; listOfStrings.length; i++)\r\n    {\r\n        listOfStrings[i] = &quot;\\&quot;&quot; + listOfStrings[i] + &quot;\\&quot;&quot;;\r\n        output += listOfStrings[i] + &quot;, &quot;;\r\n    }","title":"Java - Append quotes to strings in an array and join strings in an array","body":"<p>You can create the code for this functionality yourself as well:</p>\n\n<pre><code>String output = \"\";\n\nfor (int i = 0; i &lt; listOfStrings.length; i++)\n{\n    listOfStrings[i] = \"\\\"\" + listOfStrings[i] + \"\\\"\";\n    output += listOfStrings[i] + \", \";\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3173393,"reputation":9,"user_id":2681830,"display_name":"Sommes"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1376473005,"creation_date":1376473005,"answer_id":18228127,"question_id":18227938,"body_markdown":"    public static void main(String[] args) {\r\n        // TODO code application logic here\r\n        String [] listOfStrings = {&quot;day&quot;, &quot;campaign&quot;, &quot;imps&quot;, &quot;conversions&quot;};\r\n        String output = &quot;&quot;;\r\n        \r\n        for (int i = 0; i &lt; listOfStrings.length; i++) {\r\n            output += &quot;\\&quot;&quot; + listOfStrings[i] + &quot;\\&quot;&quot;;\r\n            if (i != listOfStrings.length - 1) {\r\n                output += &quot;, &quot;;\r\n            }\r\n        }\r\n        \r\n        System.out.println(output);\r\n    }\r\n\r\nOutput: &quot;day&quot;, &quot;campaign&quot;, &quot;imps&quot;, &quot;conversions&quot;","title":"Java - Append quotes to strings in an array and join strings in an array","body":"<pre><code>public static void main(String[] args) {\n    // TODO code application logic here\n    String [] listOfStrings = {\"day\", \"campaign\", \"imps\", \"conversions\"};\n    String output = \"\";\n\n    for (int i = 0; i &lt; listOfStrings.length; i++) {\n        output += \"\\\"\" + listOfStrings[i] + \"\\\"\";\n        if (i != listOfStrings.length - 1) {\n            output += \", \";\n        }\n    }\n\n    System.out.println(output);\n}\n</code></pre>\n\n<p>Output: \"day\", \"campaign\", \"imps\", \"conversions\"</p>\n"},{"tags":[],"owner":{"account_id":2679000,"reputation":100,"user_id":2314709,"display_name":"Himanshu Mishra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376473394,"creation_date":1376473394,"answer_id":18228296,"question_id":18227938,"body_markdown":"There is no method present in JDK which can do this, but you can use the [Apache Commons Langs][1] [StringUtls][2] class , `StringUtils.join()` it will work \r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/\r\n  [2]: http://commons.apache.org/proper/commons-lang/javadocs/api-3.1/","title":"Java - Append quotes to strings in an array and join strings in an array","body":"<p>There is no method present in JDK which can do this, but you can use the <a href=\"http://commons.apache.org/proper/commons-lang/\" rel=\"nofollow\">Apache Commons Langs</a> <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-3.1/\" rel=\"nofollow\">StringUtls</a> class , <code>StringUtils.join()</code> it will work </p>\n"},{"tags":[],"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"down_vote_count":1,"up_vote_count":141,"is_accepted":true,"score":140,"last_activity_date":1637936733,"creation_date":1376475690,"answer_id":18229122,"question_id":18227938,"body_markdown":"# With Java 8+\r\n\r\nJava 8 has [`Collectors.joining()`](http://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#joining-java.lang.CharSequence-) and its overloads. It also has [`String.join`](http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#join-java.lang.CharSequence-java.lang.Iterable-).\r\n\r\n\r\n### Using a `Stream` and a `Collector`\r\n\r\n**The naive but effective way**\r\n\r\n```\r\nString wrapWithQuotesAndJoin(List&lt;String&gt; strings) {\r\n  return strings.stream()\r\n    .map(s -&gt; &quot;\\&quot;&quot; + s + &quot;\\&quot;&quot;)\r\n    .collect(Collectors.joining(&quot;, &quot;));\r\n}\r\n```\r\n\r\n**Shortest and probably better performing** (somewhat hackish, though)\r\n\r\n```\r\nString wrapWithQuotesAndJoin(List&lt;String&gt; strings) {\r\n  return strings.stream()\r\n    .collect(Collectors.joining(&quot;\\&quot;, \\&quot;&quot;, &quot;\\&quot;&quot;, &quot;\\&quot;&quot;));\r\n}\r\n```\r\n\r\n### Using `String.join`\r\n\r\nVery hackish. Don&#39;t use. (but it must be mentioned)\r\n\r\n```\r\nString wrapWithQuotesAndJoin(List&lt;String&gt; strings) {\r\n  return strings.isEmpty() ? &quot;&quot; : &quot;\\&quot;&quot; + String.join(&quot;\\&quot;, \\&quot;&quot;, strings) + &quot;\\&quot;&quot;\r\n}\r\n```\r\n\r\n# With older versions of Java\r\n\r\nDo yourself a favor and use a library. [Guava](https://github.com/google/guava/) comes immediately to mind.\r\n\r\n### Using Guava\r\n\r\n```\r\nprivate static final Function&lt;String,String&gt; addQuotes = new Function&lt;String,String&gt;() {\r\n  @Override public String apply(String s) {\r\n    return new StringBuilder(s.length()+2).append(&#39;&quot;&#39;).append(s).append(&#39;&quot;&#39;).toString();\r\n  }\r\n};\r\nString wrapWithQuotesAndJoin(List&lt;String&gt; strings) {     \r\n    return Joiner.on(&quot;, &quot;).join(Iterables.transform(listOfStrings, addQuotes));\r\n}\r\n```\r\n\r\n### No libraries\r\n\r\n```\r\nString wrapWithQuotesAndJoin(List&lt;String&gt; strings) {\r\n  if (listOfStrings.isEmpty()) {\r\n    return &quot;&quot;;\r\n  }\r\n  StringBuilder sb = new StringBuilder();\r\n  Iterator&lt;String&gt; it = listOfStrings.iterator();\r\n  sb.append(&#39;&quot;&#39;).append(it.next()).append(&#39;&quot;&#39;); // Not empty\r\n  while (it.hasNext()) {\r\n    sb.append(&quot;, \\&quot;&quot;).append(it.next()).append(&#39;&quot;&#39;);\r\n  }\r\n  result = sb.toString();\r\n}\r\n```\r\n\r\n**Notes**:\r\n\r\n* All the solutions assume that `strings` is a `List&lt;String&gt;` rather than a `String[]`. You can convert a `String[]` into a `List&lt;String&gt;` using `Arrays.asList(strings)`. You can get a `Stream&lt;String&gt;` directly from a `String[]` using `Arrays.stream(strings)`.\r\n* The Java 8+ snippets use the `+` concatenation because at this point `+` is usually better performing than `StringBuilder`.\r\n* The older-version snippets use `StringBuilder` rather than `+` because it&#39;s usually faster on the older versions.\r\n","title":"Java - Append quotes to strings in an array and join strings in an array","body":"<h1>With Java 8+</h1>\n<p>Java 8 has <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#joining-java.lang.CharSequence-\" rel=\"noreferrer\"><code>Collectors.joining()</code></a> and its overloads. It also has <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#join-java.lang.CharSequence-java.lang.Iterable-\" rel=\"noreferrer\"><code>String.join</code></a>.</p>\n<h3>Using a <code>Stream</code> and a <code>Collector</code></h3>\n<p><strong>The naive but effective way</strong></p>\n<pre><code>String wrapWithQuotesAndJoin(List&lt;String&gt; strings) {\n  return strings.stream()\n    .map(s -&gt; &quot;\\&quot;&quot; + s + &quot;\\&quot;&quot;)\n    .collect(Collectors.joining(&quot;, &quot;));\n}\n</code></pre>\n<p><strong>Shortest and probably better performing</strong> (somewhat hackish, though)</p>\n<pre><code>String wrapWithQuotesAndJoin(List&lt;String&gt; strings) {\n  return strings.stream()\n    .collect(Collectors.joining(&quot;\\&quot;, \\&quot;&quot;, &quot;\\&quot;&quot;, &quot;\\&quot;&quot;));\n}\n</code></pre>\n<h3>Using <code>String.join</code></h3>\n<p>Very hackish. Don't use. (but it must be mentioned)</p>\n<pre><code>String wrapWithQuotesAndJoin(List&lt;String&gt; strings) {\n  return strings.isEmpty() ? &quot;&quot; : &quot;\\&quot;&quot; + String.join(&quot;\\&quot;, \\&quot;&quot;, strings) + &quot;\\&quot;&quot;\n}\n</code></pre>\n<h1>With older versions of Java</h1>\n<p>Do yourself a favor and use a library. <a href=\"https://github.com/google/guava/\" rel=\"noreferrer\">Guava</a> comes immediately to mind.</p>\n<h3>Using Guava</h3>\n<pre><code>private static final Function&lt;String,String&gt; addQuotes = new Function&lt;String,String&gt;() {\n  @Override public String apply(String s) {\n    return new StringBuilder(s.length()+2).append('&quot;').append(s).append('&quot;').toString();\n  }\n};\nString wrapWithQuotesAndJoin(List&lt;String&gt; strings) {     \n    return Joiner.on(&quot;, &quot;).join(Iterables.transform(listOfStrings, addQuotes));\n}\n</code></pre>\n<h3>No libraries</h3>\n<pre><code>String wrapWithQuotesAndJoin(List&lt;String&gt; strings) {\n  if (listOfStrings.isEmpty()) {\n    return &quot;&quot;;\n  }\n  StringBuilder sb = new StringBuilder();\n  Iterator&lt;String&gt; it = listOfStrings.iterator();\n  sb.append('&quot;').append(it.next()).append('&quot;'); // Not empty\n  while (it.hasNext()) {\n    sb.append(&quot;, \\&quot;&quot;).append(it.next()).append('&quot;');\n  }\n  result = sb.toString();\n}\n</code></pre>\n<p><strong>Notes</strong>:</p>\n<ul>\n<li>All the solutions assume that <code>strings</code> is a <code>List&lt;String&gt;</code> rather than a <code>String[]</code>. You can convert a <code>String[]</code> into a <code>List&lt;String&gt;</code> using <code>Arrays.asList(strings)</code>. You can get a <code>Stream&lt;String&gt;</code> directly from a <code>String[]</code> using <code>Arrays.stream(strings)</code>.</li>\n<li>The Java 8+ snippets use the <code>+</code> concatenation because at this point <code>+</code> is usually better performing than <code>StringBuilder</code>.</li>\n<li>The older-version snippets use <code>StringBuilder</code> rather than <code>+</code> because it's usually faster on the older versions.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1988016,"reputation":712,"user_id":1782745,"accept_rate":17,"display_name":"Sifeng"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1511686774,"creation_date":1385628892,"answer_id":20261521,"question_id":18227938,"body_markdown":"    String output = &quot;\\&quot;&quot; + StringUtils.join(listOfStrings , &quot;\\&quot;,\\&quot;&quot;) + &quot;\\&quot;&quot;;","title":"Java - Append quotes to strings in an array and join strings in an array","body":"<pre><code>String output = \"\\\"\" + StringUtils.join(listOfStrings , \"\\\",\\\"\") + \"\\\"\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1007330,"reputation":4545,"user_id":1020719,"accept_rate":60,"display_name":"John Rumpel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1409315296,"creation_date":1409315296,"answer_id":25568300,"question_id":18227938,"body_markdown":"A more generic way would be sth. like:\r\n\r\n\tprivate static class QuoteFunction&lt;F&gt; {\r\n\t\tchar quote;\r\n\r\n\t\tpublic QuoteFunction(char quote) {\r\n\t\t\tsuper();\r\n\t\t\tthis.quote = quote;\r\n\t\t}\r\n\r\n\t\tFunction&lt;F, String&gt; func = new Function&lt;F,String&gt;() {\r\n\t\t\t@Override\r\n\t\t\tpublic String apply(F s) {\r\n\t\t\t\treturn new StringBuilder(s.toString().length()+2).append(quote).append(s).append(quote).toString();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tpublic Function&lt;F, String&gt; getFunction() {\r\n\t\t\treturn func;\r\n\t\t}\r\n\t}\r\n\r\n... call it via the following function\r\n\r\n\r\n    public static &lt;F&gt; String asString(Iterable&lt;F&gt; lst, String delimiter, Character quote) {\r\n    \tQuoteFunction&lt;F&gt; quoteFunc = new QuoteFunction&lt;F&gt;(quote);\r\n    \tJoiner joiner = Joiner.on(delimiter).skipNulls();\r\n    \treturn joiner.join(Iterables.transform(lst, quoteFunc.getFunction()));\r\n    }","title":"Java - Append quotes to strings in an array and join strings in an array","body":"<p>A more generic way would be sth. like:</p>\n\n<pre><code>private static class QuoteFunction&lt;F&gt; {\n    char quote;\n\n    public QuoteFunction(char quote) {\n        super();\n        this.quote = quote;\n    }\n\n    Function&lt;F, String&gt; func = new Function&lt;F,String&gt;() {\n        @Override\n        public String apply(F s) {\n            return new StringBuilder(s.toString().length()+2).append(quote).append(s).append(quote).toString();\n        }\n    };\n\n    public Function&lt;F, String&gt; getFunction() {\n        return func;\n    }\n}\n</code></pre>\n\n<p>... call it via the following function</p>\n\n<pre><code>public static &lt;F&gt; String asString(Iterable&lt;F&gt; lst, String delimiter, Character quote) {\n    QuoteFunction&lt;F&gt; quoteFunc = new QuoteFunction&lt;F&gt;(quote);\n    Joiner joiner = Joiner.on(delimiter).skipNulls();\n    return joiner.join(Iterables.transform(lst, quoteFunc.getFunction()));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9440673,"reputation":31,"user_id":7021273,"display_name":"Kevin Peterson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1476479673,"creation_date":1476477851,"answer_id":40051713,"question_id":18227938,"body_markdown":"Add the quotes along with the separator and then append the quotes to the front and back.\r\n\r\n    &quot;\\&quot;&quot; + Joiner.on(&quot;\\&quot;,\\&quot;&quot;).join(values) + &quot;\\&quot;&quot;","title":"Java - Append quotes to strings in an array and join strings in an array","body":"<p>Add the quotes along with the separator and then append the quotes to the front and back.</p>\n\n<pre><code>\"\\\"\" + Joiner.on(\"\\\",\\\"\").join(values) + \"\\\"\"\n</code></pre>\n"}],"owner":{"account_id":381765,"reputation":1791,"user_id":736610,"accept_rate":48,"display_name":"Anand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74109,"favorite_count":0,"down_vote_count":1,"up_vote_count":54,"accepted_answer_id":18229122,"answer_count":7,"score":53,"last_activity_date":1637936733,"creation_date":1376472536,"question_id":18227938,"body_markdown":"I would like to append double quotes to strings in an array and then later join them as a single string (retaining the quotes). Is there any String library which does this? I have tried Apache commons StringUtils.join and the Joiner class in Google guava but couldn&#39;t find anything that appends double quotes.\r\n\r\nMy input would be an array as mentioned below:\r\n\r\n    String [] listOfStrings = {&quot;day&quot;, &quot;campaign&quot;, &quot;imps&quot;, &quot;conversions&quot;};\r\n\r\nRequired output should be as mentioned below:\r\n\r\n    String output = &quot;\\&quot;day\\&quot;, \\&quot;campaign\\&quot;, \\&quot;imps\\&quot;, \\&quot;conversions\\&quot;&quot;;\r\n\r\nI know I can loop through the array and append quotes. But I would like a more cleaner solution if there is one.","title":"Java - Append quotes to strings in an array and join strings in an array","body":"<p>I would like to append double quotes to strings in an array and then later join them as a single string (retaining the quotes). Is there any String library which does this? I have tried Apache commons StringUtils.join and the Joiner class in Google guava but couldn't find anything that appends double quotes.</p>\n\n<p>My input would be an array as mentioned below:</p>\n\n<pre><code>String [] listOfStrings = {\"day\", \"campaign\", \"imps\", \"conversions\"};\n</code></pre>\n\n<p>Required output should be as mentioned below:</p>\n\n<pre><code>String output = \"\\\"day\\\", \\\"campaign\\\", \\\"imps\\\", \\\"conversions\\\"\";\n</code></pre>\n\n<p>I know I can loop through the array and append quotes. But I would like a more cleaner solution if there is one.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":10787773,"reputation":362,"user_id":7936276,"display_name":"kry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637936517,"creation_date":1637936143,"answer_id":70125802,"question_id":70125653,"body_markdown":"Thing is, you are creating these `Listing` classes that are not part of any class. After your initialization of RealEstateAgency, there should be a call something like this:\r\n\r\n    real1.listing = list1;\r\n\r\n(I think it will work, altough it&#39;s set to private...)\r\n\r\nIt will add your `list1` into your `real1` object, then able to call it&#39;s getters like\r\n\r\n    real1.listing.getPrice();\r\n\r\nOr something like this.\r\n\r\nThing is, you can reach the class variables by the dot selector, even if that variable is an another class, in that case you can use your selectors as a chain.\r\n\r\nHowever, with your current setup, you can hold only 1 `Listing` in each `RealEstateAgency`, plus I don&#39;t think &quot;`Listings lists`&quot; works. Either that&#39;s an errorenous code, or part of your code is missing that explains that line.\r\n\r\nAn another note, your `listingNumb` currently does nothing, since it&#39;s held by the `Listing` class, so after calling the constructor of a `Listing`, it will be just set to `1` all the time.","title":"Access existing objects in another class Java","body":"<p>Thing is, you are creating these <code>Listing</code> classes that are not part of any class. After your initialization of RealEstateAgency, there should be a call something like this:</p>\n<pre><code>real1.listing = list1;\n</code></pre>\n<p>(I think it will work, altough it's set to private...)</p>\n<p>It will add your <code>list1</code> into your <code>real1</code> object, then able to call it's getters like</p>\n<pre><code>real1.listing.getPrice();\n</code></pre>\n<p>Or something like this.</p>\n<p>Thing is, you can reach the class variables by the dot selector, even if that variable is an another class, in that case you can use your selectors as a chain.</p>\n<p>However, with your current setup, you can hold only 1 <code>Listing</code> in each <code>RealEstateAgency</code>, plus I don't think &quot;<code>Listings lists</code>&quot; works. Either that's an errorenous code, or part of your code is missing that explains that line.</p>\n<p>An another note, your <code>listingNumb</code> currently does nothing, since it's held by the <code>Listing</code> class, so after calling the constructor of a <code>Listing</code>, it will be just set to <code>1</code> all the time.</p>\n"}],"owner":{"account_id":18583410,"reputation":127,"user_id":13542396,"display_name":"Nayana "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70125802,"answer_count":1,"score":0,"last_activity_date":1637936517,"creation_date":1637935409,"question_id":70125653,"body_markdown":"I&#39;m using Bluej to create a basic Java project which I&#39;m not supposed to use Arrays or collections and I&#39;m having difficulty to understand how I can display a specific existing object from another class.\r\n\r\nHere&#39;s my Class Listing:\r\n\r\n```\r\npublic class Listing\r\n{\r\n    //name of the listing\r\n    private String listingName;\r\n    //number of the listing\r\n    private int listingNumb = 0;\r\n    //price of the listing\r\n    private double price;\r\n    //checks if the listing is for sale\r\n    private boolean isForSale;\r\n    //House data of the listing\r\n    private HouseData housedata;\r\n    \r\n    private boolean isSold;\r\n\r\n    /**\r\n     * Constructor for objects of class Listing\r\n     */\r\n    public Listing(String newListing, double newPrice, HouseData housedata)\r\n    {\r\n        listingName = newListing;\r\n        listingNumb++;\r\n        price = newPrice;\r\n        isForSale = false;\r\n        this.housedata = housedata;\r\n        isSold = false;\r\n    }\r\n\r\n    //Returns if the listing is sold or not\r\n    public boolean getIsSold(){\r\n    \r\n    return isSold;\r\n    }\r\n    \r\n    //Set the listing as sold or not\r\n    public boolean setIsSold(){\r\n        isSold = true;\r\n    return isSold;\r\n    }\r\n    \r\n    //returns if the listing is for sale or not\r\n    public boolean getIsForSale(){\r\n        return isForSale;\r\n    }\r\n\r\n    //set the listing for sale or not\r\n    public boolean setIsForSale(boolean sale){\r\n        isForSale = sale;\r\n        return isForSale;\r\n    }\r\n\r\n    //Return the price of the listing\r\n    public double getPrice(){\r\n        return price;\r\n    }\r\n\r\n    //Return the listing name\r\n    public String getListingName(){\r\n        return listingName;\r\n    }\r\n\r\n    //Return the listing number\r\n    public int getListingNumb(){\r\n        return listingNumb;\r\n    }\r\n\r\n    //checks if the listing is located at a specific city\r\n    public boolean isLocatedAt(String city){\r\n\r\n        if(housedata.city() == city){\r\n            return true;\r\n        }else{\r\n            return false;}}\r\n\r\n    public double getSurface(){\r\n    return housedata.getSurface();\r\n    }\r\n    \r\n}\r\n\r\n```\r\nHere&#39;s my Class RealEstateAgency where I want to call the objects from class Listing:\r\n\r\n```\r\npublic class RealEstateAgency\r\n{\r\n\r\n    //the name of the agency\r\n    private String agency;\r\n    //the amount of profit from property sales\r\n    private double profit;\r\n    //identifies the seller of the property\r\n    private String agent;\r\n\r\n    private boolean isOnSale;\r\n\r\n    //the name of the property\r\n    private Listing listing;\r\n    \r\n    private Listings lists;\r\n    /**\r\n     * Constructor for objects of class RealEstateAgency\r\n     */\r\n    public RealEstateAgency()\r\n    {\r\n        profit = 0;\r\n    }\r\n\r\n    //Returns total profit from agency\r\n    public double getProfit(){\r\n    return profit;\r\n    }\r\n\r\n  //Display listing that is on sale with the name of one city\r\n//This is the method where I want to retrieve all listing existing objects that have a specific city\r\n    public void displayListingsLocatedAt(String city){\r\n       \r\n          System.out.println(&quot;The available listings for this city are: &quot; +  ;\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd this is the main class where I initialize the objects:\r\n\r\n```\r\npublic class AppStart\r\n{\r\n    public static void main(String[] args)\r\n    {\r\n        Address address1 = new Address(&quot;street&quot;, &quot;postalcode&quot;, &quot;city&quot;);\r\n        HouseData house1 = new HouseData(2, true, address1);\r\n        Listing list1 = new Listing(&quot;Im&#243;vel1&quot;, 9000, house1);\r\n        Listing list2 = new Listing(&quot;Im&#243;vel2&quot;, 9000, house1);\r\n        Listing list3 = new Listing(&quot;Im&#243;vel3&quot;, 8000, house1);\r\n        RealEstateAgency real1 = new RealEstateAgency();    \r\n    }\r\n}\r\n```","title":"Access existing objects in another class Java","body":"<p>I'm using Bluej to create a basic Java project which I'm not supposed to use Arrays or collections and I'm having difficulty to understand how I can display a specific existing object from another class.</p>\n<p>Here's my Class Listing:</p>\n<pre><code>public class Listing\n{\n    //name of the listing\n    private String listingName;\n    //number of the listing\n    private int listingNumb = 0;\n    //price of the listing\n    private double price;\n    //checks if the listing is for sale\n    private boolean isForSale;\n    //House data of the listing\n    private HouseData housedata;\n    \n    private boolean isSold;\n\n    /**\n     * Constructor for objects of class Listing\n     */\n    public Listing(String newListing, double newPrice, HouseData housedata)\n    {\n        listingName = newListing;\n        listingNumb++;\n        price = newPrice;\n        isForSale = false;\n        this.housedata = housedata;\n        isSold = false;\n    }\n\n    //Returns if the listing is sold or not\n    public boolean getIsSold(){\n    \n    return isSold;\n    }\n    \n    //Set the listing as sold or not\n    public boolean setIsSold(){\n        isSold = true;\n    return isSold;\n    }\n    \n    //returns if the listing is for sale or not\n    public boolean getIsForSale(){\n        return isForSale;\n    }\n\n    //set the listing for sale or not\n    public boolean setIsForSale(boolean sale){\n        isForSale = sale;\n        return isForSale;\n    }\n\n    //Return the price of the listing\n    public double getPrice(){\n        return price;\n    }\n\n    //Return the listing name\n    public String getListingName(){\n        return listingName;\n    }\n\n    //Return the listing number\n    public int getListingNumb(){\n        return listingNumb;\n    }\n\n    //checks if the listing is located at a specific city\n    public boolean isLocatedAt(String city){\n\n        if(housedata.city() == city){\n            return true;\n        }else{\n            return false;}}\n\n    public double getSurface(){\n    return housedata.getSurface();\n    }\n    \n}\n\n</code></pre>\n<p>Here's my Class RealEstateAgency where I want to call the objects from class Listing:</p>\n<pre><code>public class RealEstateAgency\n{\n\n    //the name of the agency\n    private String agency;\n    //the amount of profit from property sales\n    private double profit;\n    //identifies the seller of the property\n    private String agent;\n\n    private boolean isOnSale;\n\n    //the name of the property\n    private Listing listing;\n    \n    private Listings lists;\n    /**\n     * Constructor for objects of class RealEstateAgency\n     */\n    public RealEstateAgency()\n    {\n        profit = 0;\n    }\n\n    //Returns total profit from agency\n    public double getProfit(){\n    return profit;\n    }\n\n  //Display listing that is on sale with the name of one city\n//This is the method where I want to retrieve all listing existing objects that have a specific city\n    public void displayListingsLocatedAt(String city){\n       \n          System.out.println(&quot;The available listings for this city are: &quot; +  ;\n    }\n\n}\n</code></pre>\n<p>And this is the main class where I initialize the objects:</p>\n<pre><code>public class AppStart\n{\n    public static void main(String[] args)\n    {\n        Address address1 = new Address(&quot;street&quot;, &quot;postalcode&quot;, &quot;city&quot;);\n        HouseData house1 = new HouseData(2, true, address1);\n        Listing list1 = new Listing(&quot;Imóvel1&quot;, 9000, house1);\n        Listing list2 = new Listing(&quot;Imóvel2&quot;, 9000, house1);\n        Listing list3 = new Listing(&quot;Imóvel3&quot;, 8000, house1);\n        RealEstateAgency real1 = new RealEstateAgency();    \n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","android-layout","responsive-design"],"comments":[{"owner":{"account_id":22616962,"reputation":3155,"user_id":16796366,"display_name":"Nitish"},"score":0,"creation_date":1637932764,"post_id":70124978,"comment_id":123961449,"body_markdown":"You don&#39;t need to set different layouts in the Activity. If your layout files are created with same names and in correct configuration folder , android OS will automatically pick the layout file according to device screen size.","body":"You don&#39;t need to set different layouts in the Activity. If your layout files are created with same names and in correct configuration folder , android OS will automatically pick the layout file according to device screen size."},{"owner":{"display_name":"user16463611"},"score":0,"creation_date":1637933254,"post_id":70124978,"comment_id":123961637,"body_markdown":"but I want the backend code to follow","body":"but I want the backend code to follow"}],"answers":[{"tags":[],"owner":{"account_id":368166,"reputation":302,"user_id":3850345,"display_name":"SvdTweel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637935681,"creation_date":1637933889,"answer_id":70125315,"question_id":70124978,"body_markdown":"You don&#39;t have to program it, when you use the correct folder and naming structure the system will determine the correct layout or use the default (which is in the `layout` folder).\r\n\r\nSee this [link][1] which tells more about the folder structure.\r\nEg:\r\n```\r\nres/layout/main_activity.xml                # For handsets\r\nres/layout-land/main_activity.xml           # For handsets in landscape\r\nres/layout-sw600dp/main_activity.xml        # For 7” tablets\r\nres/layout-sw600dp-land/main_activity.xml   # For 7” tablets in landscape\r\n```\r\n\r\nSo in your case it would be:\r\n```\r\nres/layout/activity_main.xml                # default (smaller than 360dp available width)\r\nres/layout-sw360dp/activity_main.xml        # Small phones (360dp wide and bigger)\r\nres/layout-sw480dp/activity_main.xml        # Large phones (480dp wide and bigger)\r\nres/layout-sw600dp/activity_main.xml        # XLarge phones (600dp wide and bigger)\r\n```\r\n\r\nYour Activity can then use this OnCreate method:\r\n```\r\n@Override\r\npublic void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_main);\r\n}\r\n```\r\n\r\n  [1]: https://developer.android.com/guide/topics/large-screens/support-different-screen-sizes#alternative-layouts","title":"I want to make Android app resposive layout for diffrent-diffrent screen size","body":"<p>You don't have to program it, when you use the correct folder and naming structure the system will determine the correct layout or use the default (which is in the <code>layout</code> folder).</p>\n<p>See this <a href=\"https://developer.android.com/guide/topics/large-screens/support-different-screen-sizes#alternative-layouts\" rel=\"nofollow noreferrer\">link</a> which tells more about the folder structure.\nEg:</p>\n<pre><code>res/layout/main_activity.xml                # For handsets\nres/layout-land/main_activity.xml           # For handsets in landscape\nres/layout-sw600dp/main_activity.xml        # For 7” tablets\nres/layout-sw600dp-land/main_activity.xml   # For 7” tablets in landscape\n</code></pre>\n<p>So in your case it would be:</p>\n<pre><code>res/layout/activity_main.xml                # default (smaller than 360dp available width)\nres/layout-sw360dp/activity_main.xml        # Small phones (360dp wide and bigger)\nres/layout-sw480dp/activity_main.xml        # Large phones (480dp wide and bigger)\nres/layout-sw600dp/activity_main.xml        # XLarge phones (600dp wide and bigger)\n</code></pre>\n<p>Your Activity can then use this OnCreate method:</p>\n<pre><code>@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20150877,"reputation":73,"user_id":14778218,"display_name":"Raj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637936116,"creation_date":1637936116,"answer_id":70125797,"question_id":70124978,"body_markdown":"use wrap content and match-parent instead of giving hard dimension to views.","title":"I want to make Android app resposive layout for diffrent-diffrent screen size","body":"<p>use wrap content and match-parent instead of giving hard dimension to views.</p>\n"}],"owner":{"display_name":"user16463611"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1637936116,"creation_date":1637932350,"question_id":70124978,"body_markdown":"**First Create *xml* file**\r\n&gt; ***By default*** : - activity_main\r\n\r\n&gt; **Small Phones** : - activity_main(sw360)\r\n\r\n&gt; **Large Phones** : - activity_main(sw480)\r\n\r\n&gt; **Extra large Phones/Tablets** : - activity_main(sw600)\r\n\r\n**I want follow this condition but some error?????**   \r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        Configuration config = getResources().getConfiguration();\r\n        if (config.smallestScreenWidthDp &gt;= 320 &amp;&amp; config.smallestScreenWidthDp &lt;= 480) {\r\n            setContentView(R.layout.activity_main(sw320));\r\n        } else if (config.smallestScreenWidthDp &gt;= 481 &amp;&amp; config.smallestScreenWidthDp &lt;= 600) {\r\n            setContentView(R.layout.activity_main(sw480));\r\n        } else(config.smallestScreenWidthDp &gt;= 601{\r\n            setContentView(R.layout.activity_main(sw600));\r\n        } \r\n      }\r\n\r\n[See this image to clear][1]\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bhYVL.png","title":"I want to make Android app resposive layout for diffrent-diffrent screen size","body":"<p><strong>First Create <em>xml</em> file</strong></p>\n<blockquote>\n<p><em><strong>By default</strong></em> : - activity_main</p>\n</blockquote>\n<blockquote>\n<p><strong>Small Phones</strong> : - activity_main(sw360)</p>\n</blockquote>\n<blockquote>\n<p><strong>Large Phones</strong> : - activity_main(sw480)</p>\n</blockquote>\n<blockquote>\n<p><strong>Extra large Phones/Tablets</strong> : - activity_main(sw600)</p>\n</blockquote>\n<p><strong>I want follow this condition but some error?????</strong></p>\n<pre><code>@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    Configuration config = getResources().getConfiguration();\n    if (config.smallestScreenWidthDp &gt;= 320 &amp;&amp; config.smallestScreenWidthDp &lt;= 480) {\n        setContentView(R.layout.activity_main(sw320));\n    } else if (config.smallestScreenWidthDp &gt;= 481 &amp;&amp; config.smallestScreenWidthDp &lt;= 600) {\n        setContentView(R.layout.activity_main(sw480));\n    } else(config.smallestScreenWidthDp &gt;= 601{\n        setContentView(R.layout.activity_main(sw600));\n    } \n  }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/bhYVL.png\" rel=\"nofollow noreferrer\">See this image to clear</a></p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"display_name":"user16612111"},"score":0,"creation_date":1637901943,"post_id":70119648,"comment_id":123952219,"body_markdown":"Sort the array in reverse you used to feed into the ListViewAdapter before invoking the setAdapter function of the ListView","body":"Sort the array in reverse you used to feed into the ListViewAdapter before invoking the setAdapter function of the ListView"},{"owner":{"account_id":23457801,"reputation":11,"user_id":17513045,"display_name":"Davi Grulke"},"score":0,"creation_date":1637936518,"post_id":70119648,"comment_id":123962789,"body_markdown":"Sorry, could you show me where to do this?","body":"Sorry, could you show me where to do this?"}],"answers":[{"tags":[],"owner":{"account_id":21427543,"reputation":19,"user_id":15784600,"display_name":"Timeplex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637910137,"creation_date":1637910137,"answer_id":70120604,"question_id":70119648,"body_markdown":"You could implement the Comparable&lt;&gt; Interface to Atleta to sort it later with:\r\n\r\n\tCollections.sort(-YOUR ARRAYLIST HERE-);","title":"I would like to know how I can sort my listview in descending order in android studio","body":"<p>You could implement the Comparable&lt;&gt; Interface to Atleta to sort it later with:</p>\n<pre><code>Collections.sort(-YOUR ARRAYLIST HERE-);\n</code></pre>\n"}],"owner":{"account_id":23457801,"reputation":11,"user_id":17513045,"display_name":"Davi Grulke"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1637936095,"creation_date":1637901664,"question_id":70119648,"body_markdown":"I have an android application that returns a listview with the data that the user enters, I would like to know how I can sort the listview by FCM order where the largest FCM appears at the top and the smallest at the bottom, now it always lists one below the other, not ordering.\r\n\r\nMainActivity.java\r\n\r\n    package br.ldkstudiosart.freqmax;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.ListView;\r\n    import android.widget.Toast;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        EditText txtNome;\r\n        EditText txtIdade;\r\n        Button btnAdicionarCalcular;\r\n        ListView listAtletas;\r\n        List&lt;Atleta&gt; atletas = new ArrayList&lt;&gt;();\r\n        AtletaAdapter adapter;\r\n    \r\n        //EditText result;\r\n    \r\n        View.OnClickListener btClickListener = new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Log.d(&quot;EVT&quot;, &quot;EVT Clique no botao!&quot;);\r\n                processarCliqueAdicionarCalcular(v);\r\n            }\r\n        };\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            txtNome = findViewById(R.id.txtNome);\r\n            txtIdade = findViewById(R.id.txtIdade);\r\n            btnAdicionarCalcular = findViewById(R.id.btnAdicionarCalcular);\r\n            btnAdicionarCalcular.setOnClickListener(btClickListener);\r\n            listAtletas = findViewById(R.id.listAtletas);\r\n            adapter = new AtletaAdapter(atletas, getBaseContext());\r\n            listAtletas.setAdapter(adapter);\r\n        }\r\n    \r\n        public void processarCliqueAdicionarCalcular(View v) {\r\n            Atleta a = new Atleta();\r\n            a.setNome(txtNome.getText().toString());\r\n            //a.setIdade(txtIdade.getText().toString());\r\n    \r\n            int soma = Integer.valueOf(txtIdade.getText().toString());\r\n            int total = 220 - soma;\r\n            a.setIdade(String.valueOf(&quot;FCM: &quot; + total));\r\n    \r\n            atletas.add(a);\r\n            adapter.notifyDataSetChanged();\r\n            Toast.makeText(getBaseContext(), a.toString(), Toast.LENGTH_LONG).show();\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nAtletaAdapter.java\r\n\r\n    package br.ldkstudiosart.freqmax;\r\n    \r\n    import android.content.Context;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.BaseAdapter;\r\n    import android.widget.TextView;\r\n    \r\n    import java.util.List;\r\n    \r\n    public class AtletaAdapter extends BaseAdapter {\r\n    \r\n        LayoutInflater inflater;\r\n        List&lt;Atleta&gt; atletas;\r\n    \r\n        AtletaAdapter(List&lt;Atleta&gt; atletas, Context ctx) {\r\n            this.atletas = atletas;\r\n            inflater = LayoutInflater.from(ctx);\r\n        }\r\n    \r\n        @Override\r\n        public int getCount() {\r\n            return atletas.size();\r\n        }\r\n    \r\n        @Override\r\n        public Object getItem(int position) {\r\n            return atletas.get(position);\r\n        }\r\n    \r\n        @Override\r\n        public long getItemId(int position) {\r\n            return position;\r\n        }\r\n    \r\n        @Override\r\n        public View getView(int position, View convertView, ViewGroup parent) {\r\n    \r\n            View v = inflater.inflate(R.layout.atleta_item, null);\r\n            TextView txtNome = v.findViewById(R.id.txtNomeItem);\r\n            TextView txtIdade = v.findViewById(R.id.txtIdadeItem);\r\n    \r\n            Atleta a = atletas.get(position);\r\n            txtNome.setText(a.getNome());\r\n            txtIdade.setText(a.getIdade());\r\n            return v;\r\n        }\r\n    }\r\nAtleta.java\r\n\r\n    package br.ldkstudiosart.freqmax;\r\n    \r\n    public class Atleta {\r\n        private String nome;\r\n        private String idade;\r\n    \r\n        public String getNome() {\r\n            return nome;\r\n        }\r\n    \r\n        public void setNome(String nome) {\r\n            this.nome = nome;\r\n        }\r\n    \r\n        public String getIdade() {\r\n            return idade;\r\n        }\r\n    \r\n        public void setIdade(String idade) {\r\n            this.idade = idade;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            //return &quot;Atleta{&quot; +\r\n            //        &quot;nome=&#39;&quot; + nome + &#39;\\&#39;&#39; +\r\n            //        &quot;, idade=&#39;&quot; + idade + &#39;\\&#39;&#39; +\r\n            //        &#39;}&#39;;\r\n            return &quot;Nome: &quot; + nome + &quot; Idade: &quot; + idade;\r\n        }\r\n    }","title":"I would like to know how I can sort my listview in descending order in android studio","body":"<p>I have an android application that returns a listview with the data that the user enters, I would like to know how I can sort the listview by FCM order where the largest FCM appears at the top and the smallest at the bottom, now it always lists one below the other, not ordering.</p>\n<p>MainActivity.java</p>\n<pre><code>package br.ldkstudiosart.freqmax;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.ListView;\nimport android.widget.Toast;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class MainActivity extends AppCompatActivity {\n\n    EditText txtNome;\n    EditText txtIdade;\n    Button btnAdicionarCalcular;\n    ListView listAtletas;\n    List&lt;Atleta&gt; atletas = new ArrayList&lt;&gt;();\n    AtletaAdapter adapter;\n\n    //EditText result;\n\n    View.OnClickListener btClickListener = new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            Log.d(&quot;EVT&quot;, &quot;EVT Clique no botao!&quot;);\n            processarCliqueAdicionarCalcular(v);\n        }\n    };\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        txtNome = findViewById(R.id.txtNome);\n        txtIdade = findViewById(R.id.txtIdade);\n        btnAdicionarCalcular = findViewById(R.id.btnAdicionarCalcular);\n        btnAdicionarCalcular.setOnClickListener(btClickListener);\n        listAtletas = findViewById(R.id.listAtletas);\n        adapter = new AtletaAdapter(atletas, getBaseContext());\n        listAtletas.setAdapter(adapter);\n    }\n\n    public void processarCliqueAdicionarCalcular(View v) {\n        Atleta a = new Atleta();\n        a.setNome(txtNome.getText().toString());\n        //a.setIdade(txtIdade.getText().toString());\n\n        int soma = Integer.valueOf(txtIdade.getText().toString());\n        int total = 220 - soma;\n        a.setIdade(String.valueOf(&quot;FCM: &quot; + total));\n\n        atletas.add(a);\n        adapter.notifyDataSetChanged();\n        Toast.makeText(getBaseContext(), a.toString(), Toast.LENGTH_LONG).show();\n    }\n\n\n}\n</code></pre>\n<p>AtletaAdapter.java</p>\n<pre><code>package br.ldkstudiosart.freqmax;\n\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.BaseAdapter;\nimport android.widget.TextView;\n\nimport java.util.List;\n\npublic class AtletaAdapter extends BaseAdapter {\n\n    LayoutInflater inflater;\n    List&lt;Atleta&gt; atletas;\n\n    AtletaAdapter(List&lt;Atleta&gt; atletas, Context ctx) {\n        this.atletas = atletas;\n        inflater = LayoutInflater.from(ctx);\n    }\n\n    @Override\n    public int getCount() {\n        return atletas.size();\n    }\n\n    @Override\n    public Object getItem(int position) {\n        return atletas.get(position);\n    }\n\n    @Override\n    public long getItemId(int position) {\n        return position;\n    }\n\n    @Override\n    public View getView(int position, View convertView, ViewGroup parent) {\n\n        View v = inflater.inflate(R.layout.atleta_item, null);\n        TextView txtNome = v.findViewById(R.id.txtNomeItem);\n        TextView txtIdade = v.findViewById(R.id.txtIdadeItem);\n\n        Atleta a = atletas.get(position);\n        txtNome.setText(a.getNome());\n        txtIdade.setText(a.getIdade());\n        return v;\n    }\n}\n</code></pre>\n<p>Atleta.java</p>\n<pre><code>package br.ldkstudiosart.freqmax;\n\npublic class Atleta {\n    private String nome;\n    private String idade;\n\n    public String getNome() {\n        return nome;\n    }\n\n    public void setNome(String nome) {\n        this.nome = nome;\n    }\n\n    public String getIdade() {\n        return idade;\n    }\n\n    public void setIdade(String idade) {\n        this.idade = idade;\n    }\n\n    @Override\n    public String toString() {\n        //return &quot;Atleta{&quot; +\n        //        &quot;nome='&quot; + nome + '\\'' +\n        //        &quot;, idade='&quot; + idade + '\\'' +\n        //        '}';\n        return &quot;Nome: &quot; + nome + &quot; Idade: &quot; + idade;\n    }\n}\n</code></pre>\n"},{"tags":["java","java-8","option-type"],"comments":[{"owner":{"account_id":1888382,"reputation":709,"user_id":1707123,"accept_rate":90,"display_name":"r0estir0bbe"},"score":2,"creation_date":1493122959,"post_id":24599996,"comment_id":74269887,"body_markdown":"If you opt for using a utility function, I would recommend using a `Supplier&lt;Optional&lt;T&gt;&gt;` for the second parameter to support short-circuiting if the first is present.","body":"If you opt for using a utility function, I would recommend using a <code>Supplier&lt;Optional&lt;T&gt;&gt;</code> for the second parameter to support short-circuiting if the first is present."},{"owner":{"account_id":173533,"reputation":9578,"user_id":402281,"accept_rate":58,"display_name":"Feuermurmel"},"score":0,"creation_date":1493192014,"post_id":24599996,"comment_id":74304009,"body_markdown":"@r0estir0bbe That would definitely be an option. I think both arguments were very cheap to calculate in the instance I was originally needing this. If it were after me, I&#39;d be writing Haskell, where I wouldn&#39;t have to think about it. :)","body":"@r0estir0bbe That would definitely be an option. I think both arguments were very cheap to calculate in the instance I was originally needing this. If it were after me, I&#39;d be writing Haskell, where I wouldn&#39;t have to think about it. :)"}],"answers":[{"tags":[],"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"down_vote_count":0,"up_vote_count":89,"is_accepted":true,"score":89,"last_activity_date":1580224346,"creation_date":1404678361,"answer_id":24600021,"question_id":24599996,"body_markdown":"Java 9 and above:\r\n-\r\n\r\n    firstOptional.or(() -&gt; secondOptional);\r\n\r\nJava 8 and below\r\n-\r\n\r\n\r\nIf you want to avoid mentioning `firstOptional` twice, you&#39;d probably have to go with something like\r\n\r\n    firstOptional.map(Optional::of).orElse(secondOptional);\r\n\r\nor\r\n\r\n    Optional.ofNullable(firstOptional.orElse(secondOptional.orElse(null)));\r\n\r\nBut the most readable variant is probably to simply do\r\n\r\n    Optional&lt;...&gt; opt = firstOptional.isPresent()  ? firstOptional\r\n                      : secondOptional.isPresent() ? secondOptional\r\n                      : Optional.empty();\r\n\r\n\r\n----------\r\n\r\nIf someone stumbles across this question but has a *list* of optionals, I&#39;d suggest something like\r\n\r\n    Optional&lt;...&gt; opt = optionals.stream()\r\n                                 .filter(Optional::isPresent)\r\n                                 .findFirst()\r\n                                 .orElse(Optional.empty());\r\n    ","title":"Get value from one Optional or another","body":"<h2>Java 9 and above:</h2>\n\n<pre><code>firstOptional.or(() -&gt; secondOptional);\n</code></pre>\n\n<h2>Java 8 and below</h2>\n\n<p>If you want to avoid mentioning <code>firstOptional</code> twice, you'd probably have to go with something like</p>\n\n<pre><code>firstOptional.map(Optional::of).orElse(secondOptional);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>Optional.ofNullable(firstOptional.orElse(secondOptional.orElse(null)));\n</code></pre>\n\n<p>But the most readable variant is probably to simply do</p>\n\n<pre><code>Optional&lt;...&gt; opt = firstOptional.isPresent()  ? firstOptional\n                  : secondOptional.isPresent() ? secondOptional\n                  : Optional.empty();\n</code></pre>\n\n<hr>\n\n<p>If someone stumbles across this question but has a <em>list</em> of optionals, I'd suggest something like</p>\n\n<pre><code>Optional&lt;...&gt; opt = optionals.stream()\n                             .filter(Optional::isPresent)\n                             .findFirst()\n                             .orElse(Optional.empty());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1338993,"reputation":3939,"user_id":1696044,"accept_rate":86,"display_name":"Erik Gillespie"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1404678822,"creation_date":1404678372,"answer_id":24600023,"question_id":24599996,"body_markdown":"*EDIT:* I totally thought you were using Guava&#39;s `Optional` originally. I&#39;ve updated my answer to supply both Guava and Java 8 syntax for their respective `Optional` classes.\r\n\r\n**Java 8 Optional**\r\n\r\nYou can shorten it up to this:\r\n\r\n    firstOptional.orElse(secondOptional.orElse(EMPTY_VALUE))\r\n\r\nI&#39;m not sure what you meant in your third bullet by &quot;empty&quot;. If you meant null then this&#39;ll do the trick:\r\n\r\n    firstOptional.orElse(secondOptional.orElse(null))\r\n\r\n`orElse()` is a method on `Optional` that will return the value if present, otherwise it will return the value you supplied as the argument to `orElse()`.\r\n\r\n**Guava Optional**\r\n\r\nYou can shorten it up to this:\r\n\r\n    firstOptional.or(secondOptional.or(EMPTY_VALUE))\r\n\r\nI&#39;m not sure what you meant in your third bullet by &quot;empty&quot;. If you meant null then this&#39;ll do the trick:\r\n\r\n    firstOptional.or(secondOptional.orNull())\r\n\r\n`or()` is a method on `Optional` that will return the value if present, otherwise it will return the value you supplied as the argument to `or()`.\r\n\r\n","title":"Get value from one Optional or another","body":"<p><em>EDIT:</em> I totally thought you were using Guava's <code>Optional</code> originally. I've updated my answer to supply both Guava and Java 8 syntax for their respective <code>Optional</code> classes.</p>\n\n<p><strong>Java 8 Optional</strong></p>\n\n<p>You can shorten it up to this:</p>\n\n<pre><code>firstOptional.orElse(secondOptional.orElse(EMPTY_VALUE))\n</code></pre>\n\n<p>I'm not sure what you meant in your third bullet by \"empty\". If you meant null then this'll do the trick:</p>\n\n<pre><code>firstOptional.orElse(secondOptional.orElse(null))\n</code></pre>\n\n<p><code>orElse()</code> is a method on <code>Optional</code> that will return the value if present, otherwise it will return the value you supplied as the argument to <code>orElse()</code>.</p>\n\n<p><strong>Guava Optional</strong></p>\n\n<p>You can shorten it up to this:</p>\n\n<pre><code>firstOptional.or(secondOptional.or(EMPTY_VALUE))\n</code></pre>\n\n<p>I'm not sure what you meant in your third bullet by \"empty\". If you meant null then this'll do the trick:</p>\n\n<pre><code>firstOptional.or(secondOptional.orNull())\n</code></pre>\n\n<p><code>or()</code> is a method on <code>Optional</code> that will return the value if present, otherwise it will return the value you supplied as the argument to <code>or()</code>.</p>\n"},{"tags":[],"owner":{"account_id":8692600,"reputation":484,"user_id":6505091,"display_name":"kaba713"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1508770202,"creation_date":1508770202,"answer_id":46892318,"question_id":24599996,"body_markdown":"I know this question is old, but why don&#39;t just use in this kind of cases something proven like Chain-of-responsibility pattern? It is made/designed for cases like yours. And as an additional benefit it&#39;s quite easy to add additional services to the list.\r\n\r\nHere is a link that describes the Pattern: https://sourcemaking.com/design_patterns/chain_of_responsibility ","title":"Get value from one Optional or another","body":"<p>I know this question is old, but why don't just use in this kind of cases something proven like Chain-of-responsibility pattern? It is made/designed for cases like yours. And as an additional benefit it's quite easy to add additional services to the list.</p>\n\n<p>Here is a link that describes the Pattern: <a href=\"https://sourcemaking.com/design_patterns/chain_of_responsibility\" rel=\"nofollow noreferrer\">https://sourcemaking.com/design_patterns/chain_of_responsibility</a> </p>\n"},{"tags":[],"owner":{"account_id":5108061,"reputation":162,"user_id":4095596,"display_name":"jahmaican"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1535890685,"creation_date":1511875208,"answer_id":47532616,"question_id":24599996,"body_markdown":"I had a few encounters with a problem that might&#39;ve been solved with JDK 9 `Optional::or` and couldn&#39;t because we use JDK 8. Finally I added a util class with this method:\r\n\r\n    @SafeVarargs\r\n    public static &lt;T&gt; Optional&lt;T&gt; firstPresent(final Supplier&lt;Optional&lt;T&gt;&gt;... optionals) {\r\n        return Stream.of(optionals)\r\n                .map(Supplier::get)\r\n                .filter(Optional::isPresent)\r\n                .findFirst()\r\n                .orElse(Optional.empty());\r\n    }\r\n\r\nNow you can supply any number of optionals to this method and they&#39;ll be lazily evaluated like so:\r\n\r\n        final Optional&lt;String&gt; username = OptionalUtil.firstPresent(\r\n                () -&gt; findNameInUserData(user.getBasicData()),\r\n                () -&gt; findNameInUserAddress(user.getAddress()),\r\n                () -&gt; findDefaultUsername());\r\nNow, `findNameInUserAddress` will only be called if `findNameInUserData` returns empty. `findDefaultUsername` will only be called if both `findNameInUserData` and `findNameInUserAddress` return empty etc.","title":"Get value from one Optional or another","body":"<p>I had a few encounters with a problem that might've been solved with JDK 9 <code>Optional::or</code> and couldn't because we use JDK 8. Finally I added a util class with this method:</p>\n\n<pre><code>@SafeVarargs\npublic static &lt;T&gt; Optional&lt;T&gt; firstPresent(final Supplier&lt;Optional&lt;T&gt;&gt;... optionals) {\n    return Stream.of(optionals)\n            .map(Supplier::get)\n            .filter(Optional::isPresent)\n            .findFirst()\n            .orElse(Optional.empty());\n}\n</code></pre>\n\n<p>Now you can supply any number of optionals to this method and they'll be lazily evaluated like so:</p>\n\n<pre><code>    final Optional&lt;String&gt; username = OptionalUtil.firstPresent(\n            () -&gt; findNameInUserData(user.getBasicData()),\n            () -&gt; findNameInUserAddress(user.getAddress()),\n            () -&gt; findDefaultUsername());\n</code></pre>\n\n<p>Now, <code>findNameInUserAddress</code> will only be called if <code>findNameInUserData</code> returns empty. <code>findDefaultUsername</code> will only be called if both <code>findNameInUserData</code> and <code>findNameInUserAddress</code> return empty etc.</p>\n"},{"tags":[],"owner":{"account_id":6078955,"reputation":365,"user_id":4745335,"display_name":"kasopey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637935918,"creation_date":1637935918,"answer_id":70125753,"question_id":24599996,"body_markdown":"Why not just (`Supplier` wrapper can be easily added):\r\n```\r\n    @SafeVarargs\r\n    public static &lt;T&gt; Optional&lt;T&gt; firstPresent(Optional&lt;T&gt;... optionals) {\r\n        return Stream.of(optionals)\r\n                .flatMap(Optional::stream)\r\n                .findFirst();\r\n    }\r\n```\r\n?","title":"Get value from one Optional or another","body":"<p>Why not just (<code>Supplier</code> wrapper can be easily added):</p>\n<pre><code>    @SafeVarargs\n    public static &lt;T&gt; Optional&lt;T&gt; firstPresent(Optional&lt;T&gt;... optionals) {\n        return Stream.of(optionals)\n                .flatMap(Optional::stream)\n                .findFirst();\n    }\n</code></pre>\n<p>?</p>\n"}],"owner":{"account_id":173533,"reputation":9578,"user_id":402281,"accept_rate":58,"display_name":"Feuermurmel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39154,"favorite_count":0,"down_vote_count":0,"up_vote_count":66,"accepted_answer_id":24600021,"answer_count":5,"score":66,"last_activity_date":1637935918,"creation_date":1404678141,"question_id":24599996,"body_markdown":"I have two `java.util.Optional` instances and I want to get an `Optional` that either:\r\n\r\n- Has the value of the first Optional, if it has a value.\r\n- Has the value of the second Optional, if it has a value.\r\n- Is empty of neither Optional has a value.\r\n\r\nIs there a straight-forward way to do that, i.e. is there already some API to do that?\r\n\r\nThe following expressions will do that, but I have to mention the first optional twice:\r\n\r\n    firstOptional.isPresent() ? firstOptional : secondOptional\r\n\r\nThis is exactly what `com.google.common.base.Optional.or()` does, but that method is not present in Java 8&#39;s API.\r\n\r\n---\r\n\r\nThe accepted answer by _aioobe_ lists a few alternative approaches to overcome this omission of the `Optional` API right where such a value has to be computed (which answers my question). I&#39;ve now opted to add a utility function to my codebase:\r\n\r\n\tpublic static &lt;T&gt; Optional&lt;T&gt; or(Optional&lt;T&gt; a, Optional&lt;T&gt; b) {\r\n\t\tif (a.isPresent())\r\n\t\t\treturn a;\r\n\t\telse\r\n\t\t\treturn b;\r\n\t}\r\n","title":"Get value from one Optional or another","body":"<p>I have two <code>java.util.Optional</code> instances and I want to get an <code>Optional</code> that either:</p>\n\n<ul>\n<li>Has the value of the first Optional, if it has a value.</li>\n<li>Has the value of the second Optional, if it has a value.</li>\n<li>Is empty of neither Optional has a value.</li>\n</ul>\n\n<p>Is there a straight-forward way to do that, i.e. is there already some API to do that?</p>\n\n<p>The following expressions will do that, but I have to mention the first optional twice:</p>\n\n<pre><code>firstOptional.isPresent() ? firstOptional : secondOptional\n</code></pre>\n\n<p>This is exactly what <code>com.google.common.base.Optional.or()</code> does, but that method is not present in Java 8's API.</p>\n\n<hr>\n\n<p>The accepted answer by <em>aioobe</em> lists a few alternative approaches to overcome this omission of the <code>Optional</code> API right where such a value has to be computed (which answers my question). I've now opted to add a utility function to my codebase:</p>\n\n<pre><code>public static &lt;T&gt; Optional&lt;T&gt; or(Optional&lt;T&gt; a, Optional&lt;T&gt; b) {\n    if (a.isPresent())\n        return a;\n    else\n        return b;\n}\n</code></pre>\n"},{"tags":["java","hazelcast","hazelcast-jet"],"answers":[{"tags":[],"owner":{"account_id":6696336,"reputation":478,"user_id":5164237,"display_name":"Vlado Schreiner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637935705,"creation_date":1637935705,"answer_id":70125706,"question_id":70123070,"body_markdown":"Consider aggregating the records to a list before sinking to the JSON file.\r\n\r\n```\r\njdbcSource\r\n    .aggregate(AggregateOperations.toList())\r\n    .writeTo(Sinks.json(&quot;directory-where-a-single-file-will-be-created&quot;))\r\n```\r\n","title":"How to Sink output to the json file in Hazelcast Jet?","body":"<p>Consider aggregating the records to a list before sinking to the JSON file.</p>\n<pre><code>jdbcSource\n    .aggregate(AggregateOperations.toList())\n    .writeTo(Sinks.json(&quot;directory-where-a-single-file-will-be-created&quot;))\n</code></pre>\n"}],"owner":{"account_id":4224410,"reputation":638,"user_id":3458271,"display_name":"user3458271"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1637935705,"creation_date":1637923056,"question_id":70123070,"body_markdown":"I am new to Hazelcast Jet and in my application I am using jdbc source, this source returning List of Map which I have to Sink in one of json file but when I use Sinks.json it create json directory how can I sink it to particular json file?\r\nFor E.g.\r\n\r\n               BatchSource&lt;List&lt;Map&lt;String, Object&gt;&gt; jdbcSource = Sources\r\n                .jdbc(() -&gt; conn,\r\n                    (con, parallelism, index) -&gt; {\r\n                       // query execution\r\n               }, r -&gt;  {\r\n                     return this.mapResultSet1(r);\r\n               });\r\n              jdbcSource.writeTo(Sinks.json(&quot;/opt/test.json&quot;));\r\nPlease let me know how can I sink my result to json file?\r\n","title":"How to Sink output to the json file in Hazelcast Jet?","body":"<p>I am new to Hazelcast Jet and in my application I am using jdbc source, this source returning List of Map which I have to Sink in one of json file but when I use Sinks.json it create json directory how can I sink it to particular json file?\nFor E.g.</p>\n<pre><code>           BatchSource&lt;List&lt;Map&lt;String, Object&gt;&gt; jdbcSource = Sources\n            .jdbc(() -&gt; conn,\n                (con, parallelism, index) -&gt; {\n                   // query execution\n           }, r -&gt;  {\n                 return this.mapResultSet1(r);\n           });\n          jdbcSource.writeTo(Sinks.json(&quot;/opt/test.json&quot;));\n</code></pre>\n<p>Please let me know how can I sink my result to json file?</p>\n"},{"tags":["java","spring-boot","jar"],"comments":[{"owner":{"account_id":9706811,"reputation":2870,"user_id":7200018,"display_name":"GnanaJeyam"},"score":1,"creation_date":1637929958,"post_id":70124394,"comment_id":123960422,"body_markdown":"looks like your jar does not contain Application class.\nTry executing `jar tvf jarname`","body":"looks like your jar does not contain Application class. Try executing <code>jar tvf jarname</code>"},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":1,"creation_date":1637930077,"post_id":70124394,"comment_id":123960477,"body_markdown":"Why are you using both the assembly plugin and Spring Boot&#39;s Maven plugin? What sort of jar are you trying to build?","body":"Why are you using both the assembly plugin and Spring Boot&#39;s Maven plugin? What sort of jar are you trying to build?"},{"owner":{"account_id":5320158,"reputation":49,"user_id":4243837,"accept_rate":86,"display_name":"Josh"},"score":0,"creation_date":1637930380,"post_id":70124394,"comment_id":123960573,"body_markdown":"@AndyWilkinson I am new too this, which one should I remove?","body":"@AndyWilkinson I am new too this, which one should I remove?"},{"owner":{"account_id":5320158,"reputation":49,"user_id":4243837,"accept_rate":86,"display_name":"Josh"},"score":0,"creation_date":1637930416,"post_id":70124394,"comment_id":123960587,"body_markdown":"@GnanaJeyam What does this command do?","body":"@GnanaJeyam What does this command do?"},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":1,"creation_date":1637930505,"post_id":70124394,"comment_id":123960616,"body_markdown":"I would remove the assembly plugin. You can use https://start.spring.io to generate a Spring Boot project that uses Maven with the recommended configuration.","body":"I would remove the assembly plugin. You can use <a href=\"https://start.spring.io\" rel=\"nofollow noreferrer\">start.spring.io</a> to generate a Spring Boot project that uses Maven with the recommended configuration."},{"owner":{"account_id":5320158,"reputation":49,"user_id":4243837,"accept_rate":86,"display_name":"Josh"},"score":0,"creation_date":1637930592,"post_id":70124394,"comment_id":123960651,"body_markdown":"@AndyWilkinson Ok I was following a guide to create the jar, and added that plugin. I will try removing it","body":"@AndyWilkinson Ok I was following a guide to create the jar, and added that plugin. I will try removing it"},{"owner":{"account_id":5320158,"reputation":49,"user_id":4243837,"accept_rate":86,"display_name":"Josh"},"score":0,"creation_date":1637931011,"post_id":70124394,"comment_id":123960785,"body_markdown":"@AndyWilkinson My jar now found the Application class, my system is running. However this jar file is not named &#39;with-dependencies&#39; does this matter?","body":"@AndyWilkinson My jar now found the Application class, my system is running. However this jar file is not named &#39;with-dependencies&#39; does this matter?"},{"owner":{"account_id":9706811,"reputation":2870,"user_id":7200018,"display_name":"GnanaJeyam"},"score":1,"creation_date":1637931298,"post_id":70124394,"comment_id":123960889,"body_markdown":"@Josh  Using that command u can list out the files in the jar.","body":"@Josh  Using that command u can list out the files in the jar."}],"answers":[{"tags":[],"owner":{"account_id":5320158,"reputation":49,"user_id":4243837,"accept_rate":86,"display_name":"Josh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637931596,"creation_date":1637931596,"answer_id":70124834,"question_id":70124394,"body_markdown":"@Andy Wilkinson\r\n&quot;I would remove the assembly plugin. You can use start.spring.io to generate a Spring Boot project that uses Maven with the recommended configuration.&quot;\r\n\r\n\r\nI did this, and the JAR now finds the main class","title":"Spring boot application main, not recognized in jar","body":"<p>@Andy Wilkinson\n&quot;I would remove the assembly plugin. You can use start.spring.io to generate a Spring Boot project that uses Maven with the recommended configuration.&quot;</p>\n<p>I did this, and the JAR now finds the main class</p>\n"}],"owner":{"account_id":5320158,"reputation":49,"user_id":4243837,"accept_rate":86,"display_name":"Josh"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":410,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70124834,"answer_count":1,"score":1,"last_activity_date":1637935530,"creation_date":1637929509,"question_id":70124394,"body_markdown":"Here is my file structure: \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nHere is my plugin: \r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nError when running jar:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xC0yz.png\r\n  [2]: https://i.stack.imgur.com/wT5Fp.png\r\n  [3]: https://i.stack.imgur.com/M7nsc.png\r\n\r\nI maven clean &gt; maven package... to build the jar\r\n\r\n\r\nAny idea where I have gone wrong? Thank you","title":"Spring boot application main, not recognized in jar","body":"<p>Here is my file structure:</p>\n<p><a href=\"https://i.stack.imgur.com/xC0yz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xC0yz.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is my plugin:</p>\n<p><a href=\"https://i.stack.imgur.com/wT5Fp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wT5Fp.png\" alt=\"enter image description here\" /></a></p>\n<p>Error when running jar:</p>\n<p><a href=\"https://i.stack.imgur.com/M7nsc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M7nsc.png\" alt=\"enter image description here\" /></a></p>\n<p>I maven clean &gt; maven package... to build the jar</p>\n<p>Any idea where I have gone wrong? Thank you</p>\n"},{"tags":["java","hibernate","spring","configuration","jpa"],"answers":[{"tags":[],"owner":{"account_id":44973,"reputation":7596,"user_id":132270,"accept_rate":85,"display_name":"bert"},"down_vote_count":0,"up_vote_count":90,"is_accepted":true,"score":90,"last_activity_date":1272546681,"creation_date":1272546681,"answer_id":2737534,"question_id":2737420,"body_markdown":"Don&#39;t know of JPA property for this either. But you could just add the Hibernate property (assuming you use Hibernate as provider) as \r\n\r\n    ...\r\n    \r\n    &lt;property name=&quot;hibernate.default_schema&quot; value=&quot;myschema&quot;/&gt;\r\n    \r\n    ...\r\n\r\nHibernate should pick that up","title":"How to set up default schema name in JPA configuration?","body":"<p>Don't know of JPA property for this either. But you could just add the Hibernate property (assuming you use Hibernate as provider) as </p>\n\n<pre><code>...\n\n&lt;property name=\"hibernate.default_schema\" value=\"myschema\"/&gt;\n\n...\n</code></pre>\n\n<p>Hibernate should pick that up</p>\n"},{"tags":[],"owner":{"account_id":376143,"reputation":401,"user_id":727401,"display_name":"granit"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1637935478,"creation_date":1303911939,"answer_id":5805132,"question_id":2737420,"body_markdown":"In order to avoid hardcoding schema in JPA Entity Java Classes we used orm.xml mapping file in Java EE application deployed in OracleApplicationServer10 (OC4J,Orion). \r\nIt lays in model.jar/META-INF/ as well as persistence.xml. Mapping file orm.xml is referenced from peresistence.xml with tag &lt;mapping-file&gt;\r\n```xml\r\n...\r\n  &lt;persistence-unit name=&quot;MySchemaPU&quot;  transaction-type=&quot;JTA&quot;&gt;\r\n    &lt;provider&gt;...&lt;/provider&gt;\r\n    &lt;mapping-file&gt;META-INF/orm.xml&lt;/mapping-file&gt;\r\n...\r\n```\r\n\r\nFile orm.xml content is cited below:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;entity-mappings xmlns=&quot;http://java.sun.com/xml/ns/persistence/orm&quot;\r\n                 xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n                 xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence/orm http://java.sun.com/xml/ns/persistence/orm_1_0.xsd&quot;\r\n                 version=&quot;1.0&quot;&gt;\r\n\r\n  &lt;persistence-unit-metadata&gt;\r\n    &lt;persistence-unit-defaults&gt;\r\n      &lt;schema&gt;myschema&lt;/schema&gt;\r\n    &lt;/persistence-unit-defaults&gt;\r\n  &lt;/persistence-unit-metadata&gt;\r\n&lt;/entity-mappings&gt;\r\n```\r\n","title":"How to set up default schema name in JPA configuration?","body":"<p>In order to avoid hardcoding schema in JPA Entity Java Classes we used orm.xml mapping file in Java EE application deployed in OracleApplicationServer10 (OC4J,Orion).\nIt lays in model.jar/META-INF/ as well as persistence.xml. Mapping file orm.xml is referenced from peresistence.xml with tag </p>\n<pre class=\"lang-xml prettyprint-override\"><code>...\n  &lt;persistence-unit name=&quot;MySchemaPU&quot;  transaction-type=&quot;JTA&quot;&gt;\n    &lt;provider&gt;...&lt;/provider&gt;\n    &lt;mapping-file&gt;META-INF/orm.xml&lt;/mapping-file&gt;\n...\n</code></pre>\n<p>File orm.xml content is cited below:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;entity-mappings xmlns=&quot;http://java.sun.com/xml/ns/persistence/orm&quot;\n                 xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n                 xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence/orm http://java.sun.com/xml/ns/persistence/orm_1_0.xsd&quot;\n                 version=&quot;1.0&quot;&gt;\n\n  &lt;persistence-unit-metadata&gt;\n    &lt;persistence-unit-defaults&gt;\n      &lt;schema&gt;myschema&lt;/schema&gt;\n    &lt;/persistence-unit-defaults&gt;\n  &lt;/persistence-unit-metadata&gt;\n&lt;/entity-mappings&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2026980,"reputation":813,"user_id":1811688,"display_name":"sernle"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1446804654,"creation_date":1352451999,"answer_id":13304984,"question_id":2737420,"body_markdown":"Just to save time of people who come to the post (like me, who looking for Spring config type and want you schema name be set by an external source (property file)). The configuration will work for you is \r\n\r\n    &lt;bean id=&quot;domainEntityManagerFactory&quot; class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;persistenceUnitName&quot; value=&quot;JiraManager&quot;/&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;domainDataSource&quot;/&gt;\r\n        &lt;property name=&quot;jpaVendorAdapter&quot;&gt;\r\n            &lt;bean class=&quot;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter&quot;&gt;\r\n                &lt;property name=&quot;generateDdl&quot; value=&quot;false&quot;/&gt;\r\n                &lt;property name=&quot;showSql&quot; value=&quot;false&quot;/&gt;\r\n                &lt;property name=&quot;databasePlatform&quot; value=&quot;${hibernate.dialect}&quot;/&gt;\r\n            &lt;/bean&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;jpaProperties&quot;&gt;\r\n           &lt;props&gt;\r\n                &lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;none&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.default_schema&quot;&gt;${yourSchema}&lt;/prop&gt;\r\n           &lt;/props&gt;\r\n    &lt;/property&gt;\r\n    \r\n    &lt;/bean&gt;\r\n\r\nPs : \r\nFor the hibernate.hdm2ddl.auto, you could look in the post https://stackoverflow.com/questions/438146/hibernate-hbm2ddl-auto-possible-values-and-what-they-do \r\nI have used to set create-update,because it is convenient. However, in production, I think it is better to take control of the ddl, so I take whatever ddl generate first time, save it, rather than let it automatically create and update.  ","title":"How to set up default schema name in JPA configuration?","body":"<p>Just to save time of people who come to the post (like me, who looking for Spring config type and want you schema name be set by an external source (property file)). The configuration will work for you is </p>\n\n<pre><code>&lt;bean id=\"domainEntityManagerFactory\" class=\"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean\"&gt;\n    &lt;property name=\"persistenceUnitName\" value=\"JiraManager\"/&gt;\n    &lt;property name=\"dataSource\" ref=\"domainDataSource\"/&gt;\n    &lt;property name=\"jpaVendorAdapter\"&gt;\n        &lt;bean class=\"org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter\"&gt;\n            &lt;property name=\"generateDdl\" value=\"false\"/&gt;\n            &lt;property name=\"showSql\" value=\"false\"/&gt;\n            &lt;property name=\"databasePlatform\" value=\"${hibernate.dialect}\"/&gt;\n        &lt;/bean&gt;\n    &lt;/property&gt;\n    &lt;property name=\"jpaProperties\"&gt;\n       &lt;props&gt;\n            &lt;prop key=\"hibernate.hbm2ddl.auto\"&gt;none&lt;/prop&gt;\n            &lt;prop key=\"hibernate.default_schema\"&gt;${yourSchema}&lt;/prop&gt;\n       &lt;/props&gt;\n&lt;/property&gt;\n\n&lt;/bean&gt;\n</code></pre>\n\n<p>Ps : \nFor the hibernate.hdm2ddl.auto, you could look in the post <a href=\"https://stackoverflow.com/questions/438146/hibernate-hbm2ddl-auto-possible-values-and-what-they-do\">Hibernate hbm2ddl.auto possible values and what they do?</a> \nI have used to set create-update,because it is convenient. However, in production, I think it is better to take control of the ddl, so I take whatever ddl generate first time, save it, rather than let it automatically create and update.  </p>\n"},{"tags":[],"owner":{"account_id":519560,"reputation":432,"user_id":1248944,"display_name":"WengKit Lei"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1494493936,"creation_date":1494493936,"answer_id":43911183,"question_id":2737420,"body_markdown":"For others who use spring-boot, java based configuration,\r\n\r\nI set the schema value in application.properties\r\n\r\n    spring.jpa.properties.hibernate.dialect=...\r\n    spring.jpa.properties.hibernate.default_schema=...\r\n","title":"How to set up default schema name in JPA configuration?","body":"<p>For others who use spring-boot, java based configuration,</p>\n\n<p>I set the schema value in application.properties</p>\n\n<pre><code>spring.jpa.properties.hibernate.dialect=...\nspring.jpa.properties.hibernate.default_schema=...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13265395,"reputation":1820,"user_id":9578419,"display_name":"S.Daineko"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1560097872,"creation_date":1560097872,"answer_id":56516382,"question_id":2737420,"body_markdown":"For those who uses last versions of spring boot will help this: \r\n\r\n.properties:\r\n\r\n    spring.jpa.properties.hibernate.default_schema=&lt;name of your schema&gt;\r\n\r\n.yml:\r\n\r\n    spring:\r\n        jpa:\r\n            properties:\r\n                hibernate:\r\n                    default_schema: &lt;name of your schema&gt;\r\n\r\n","title":"How to set up default schema name in JPA configuration?","body":"<p>For those who uses last versions of spring boot will help this: </p>\n\n<p>.properties:</p>\n\n<pre><code>spring.jpa.properties.hibernate.default_schema=&lt;name of your schema&gt;\n</code></pre>\n\n<p>.yml:</p>\n\n<pre><code>spring:\n    jpa:\n        properties:\n            hibernate:\n                default_schema: &lt;name of your schema&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13126035,"reputation":39,"user_id":9481964,"display_name":"Kader"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1569447388,"creation_date":1569447388,"answer_id":58106855,"question_id":2737420,"body_markdown":"Use this \r\n\r\n    @Table (name = &quot;Test&quot;, schema = &quot;\\&quot;schema\\&quot;&quot;)\r\n\r\ninsteade of `@Table (name = &quot;Test&quot;, schema = &quot;schema&quot;)`\r\n\r\nIf you are on postgresql the request is : \r\n\r\n    SELECT * FROM &quot;schema&quot;.test \r\n\r\nnot : \r\n\r\n    SELECT * FROM schema.test\r\n\r\n\r\nPS: Test is a table","title":"How to set up default schema name in JPA configuration?","body":"<p>Use this </p>\n\n<pre><code>@Table (name = \"Test\", schema = \"\\\"schema\\\"\")\n</code></pre>\n\n<p>insteade of <code>@Table (name = \"Test\", schema = \"schema\")</code></p>\n\n<p>If you are on postgresql the request is : </p>\n\n<pre><code>SELECT * FROM \"schema\".test \n</code></pre>\n\n<p>not : </p>\n\n<pre><code>SELECT * FROM schema.test\n</code></pre>\n\n<p>PS: Test is a table</p>\n"},{"tags":[],"owner":{"account_id":13879775,"reputation":5228,"user_id":10020419,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1575543125,"creation_date":1575543125,"answer_id":59193555,"question_id":2737420,"body_markdown":"I had to set the value in &#39;&#39; and &quot;&quot;\r\n\r\n    spring:\r\n       jpa:\r\n         properties:\r\n           hibernate:\r\n              default_schema: &#39;&quot;schema&quot;&#39;","title":"How to set up default schema name in JPA configuration?","body":"<p>I had to set the value in '' and \"\"</p>\n\n<pre><code>spring:\n   jpa:\n     properties:\n       hibernate:\n          default_schema: '\"schema\"'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10138353,"reputation":597,"user_id":7488940,"accept_rate":60,"display_name":"Mahaveer Jangir"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1597214444,"creation_date":1597214444,"answer_id":63371166,"question_id":2737420,"body_markdown":"If you are using `(org.springframework.jdbc.datasource.DriverManagerDataSource)`  in `ApplicationContext.xml` to specify Database details then use below simple property to specify the schema.\r\n\r\n    &lt;property name=&quot;schema&quot; value=&quot;schemaName&quot; /&gt;\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/jdbc/datasource/DriverManagerDataSource.html","title":"How to set up default schema name in JPA configuration?","body":"<p>If you are using <code>(org.springframework.jdbc.datasource.DriverManagerDataSource)</code>  in <code>ApplicationContext.xml</code> to specify Database details then use below simple property to specify the schema.</p>\n<pre><code>&lt;property name=&quot;schema&quot; value=&quot;schemaName&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":35487,"reputation":64776,"user_id":100516,"accept_rate":69,"display_name":"Roman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":210087,"favorite_count":0,"down_vote_count":0,"up_vote_count":72,"accepted_answer_id":2737534,"answer_count":8,"score":72,"last_activity_date":1637935478,"creation_date":1272545738,"question_id":2737420,"body_markdown":"I found that in hibernate config file we could set up parameter `hibernate.default_schema`:\r\n\r\n    &lt;hibernate-configuration&gt; \r\n       &lt;session-factory&gt;\r\n          ...\r\n          &lt;property name=&quot;hibernate.default_schema&quot;&gt;myschema&lt;/property&gt;\r\n          ...\r\n       &lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\n\r\nNow I&#39;m using JPA and I want to do the same. Otherwise I have to add parameter `schema` to each @Table annotation like:\r\n\r\n    @Entity\r\n    @Table (name = &quot;projectcategory&quot;, schema = &quot;SCHEMANAME&quot;)\r\n    public class Category implements Serializable { ... }\r\n\r\nAs I understand this parameter should be somewhere in this part of configuration:\r\n\r\n    &lt;bean id=&quot;domainEntityManagerFactory&quot; class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;persistenceUnitName&quot; value=&quot;JiraManager&quot;/&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;domainDataSource&quot;/&gt;\r\n        &lt;property name=&quot;jpaVendorAdapter&quot;&gt;\r\n            &lt;bean class=&quot;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter&quot;&gt;\r\n                &lt;property name=&quot;generateDdl&quot; value=&quot;false&quot;/&gt;\r\n                &lt;property name=&quot;showSql&quot; value=&quot;false&quot;/&gt;\r\n                &lt;property name=&quot;databasePlatform&quot; value=&quot;${hibernate.dialect}&quot;/&gt;\r\n            &lt;/bean&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;domainDataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot; destroy-method=&quot;close&quot;&gt;\r\n        &lt;property name=&quot;driverClass&quot; value=&quot;${db.driver}&quot; /&gt;\r\n        &lt;property name=&quot;jdbcUrl&quot; value=&quot;${datasource.url}&quot; /&gt;\r\n        &lt;property name=&quot;user&quot; value=&quot;${datasource.username}&quot; /&gt;\r\n        &lt;property name=&quot;password&quot; value=&quot;${datasource.password}&quot; /&gt;\r\n        &lt;property name=&quot;initialPoolSize&quot; value=&quot;5&quot;/&gt;\r\n        &lt;property name=&quot;minPoolSize&quot; value=&quot;5&quot;/&gt;\r\n        &lt;property name=&quot;maxPoolSize&quot; value=&quot;15&quot;/&gt;\r\n        &lt;property name=&quot;checkoutTimeout&quot; value=&quot;10000&quot;/&gt;\r\n        &lt;property name=&quot;maxStatements&quot; value=&quot;150&quot;/&gt;\r\n        &lt;property name=&quot;testConnectionOnCheckin&quot; value=&quot;true&quot;/&gt;\r\n        &lt;property name=&quot;idleConnectionTestPeriod&quot; value=&quot;50&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n... but I can&#39;t find its name in google. Any ideas?","title":"How to set up default schema name in JPA configuration?","body":"<p>I found that in hibernate config file we could set up parameter <code>hibernate.default_schema</code>:</p>\n\n<pre><code>&lt;hibernate-configuration&gt; \n   &lt;session-factory&gt;\n      ...\n      &lt;property name=\"hibernate.default_schema\"&gt;myschema&lt;/property&gt;\n      ...\n   &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n\n<p>Now I'm using JPA and I want to do the same. Otherwise I have to add parameter <code>schema</code> to each @Table annotation like:</p>\n\n<pre><code>@Entity\n@Table (name = \"projectcategory\", schema = \"SCHEMANAME\")\npublic class Category implements Serializable { ... }\n</code></pre>\n\n<p>As I understand this parameter should be somewhere in this part of configuration:</p>\n\n<pre><code>&lt;bean id=\"domainEntityManagerFactory\" class=\"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean\"&gt;\n    &lt;property name=\"persistenceUnitName\" value=\"JiraManager\"/&gt;\n    &lt;property name=\"dataSource\" ref=\"domainDataSource\"/&gt;\n    &lt;property name=\"jpaVendorAdapter\"&gt;\n        &lt;bean class=\"org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter\"&gt;\n            &lt;property name=\"generateDdl\" value=\"false\"/&gt;\n            &lt;property name=\"showSql\" value=\"false\"/&gt;\n            &lt;property name=\"databasePlatform\" value=\"${hibernate.dialect}\"/&gt;\n        &lt;/bean&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"domainDataSource\" class=\"com.mchange.v2.c3p0.ComboPooledDataSource\" destroy-method=\"close\"&gt;\n    &lt;property name=\"driverClass\" value=\"${db.driver}\" /&gt;\n    &lt;property name=\"jdbcUrl\" value=\"${datasource.url}\" /&gt;\n    &lt;property name=\"user\" value=\"${datasource.username}\" /&gt;\n    &lt;property name=\"password\" value=\"${datasource.password}\" /&gt;\n    &lt;property name=\"initialPoolSize\" value=\"5\"/&gt;\n    &lt;property name=\"minPoolSize\" value=\"5\"/&gt;\n    &lt;property name=\"maxPoolSize\" value=\"15\"/&gt;\n    &lt;property name=\"checkoutTimeout\" value=\"10000\"/&gt;\n    &lt;property name=\"maxStatements\" value=\"150\"/&gt;\n    &lt;property name=\"testConnectionOnCheckin\" value=\"true\"/&gt;\n    &lt;property name=\"idleConnectionTestPeriod\" value=\"50\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>... but I can't find its name in google. Any ideas?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":12819803,"reputation":55,"user_id":9275156,"display_name":"Ant"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1556199260,"creation_date":1556199260,"answer_id":55850555,"question_id":55304425,"body_markdown":"The problem was handled after I updated IDEA to the newest version.","title":"Exception processing errorPage[errorCode=0, location=/error]","body":"<p>The problem was handled after I updated IDEA to the newest version.</p>\n"},{"tags":[],"owner":{"account_id":23156242,"reputation":11,"user_id":17257447,"display_name":"louis yu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635312507,"creation_date":1635312507,"answer_id":69733206,"question_id":55304425,"body_markdown":"There&#39;s an additional error in the log,this doesn&#39;t make much sense.\r\nThis exception does not affect the program,  You can use the below code for turning off log at this exception level in applicaton.yml,if you really don’t want to see it.\r\n\r\n    logging:\r\n      level:\r\n        org.apache.catalina.core.ContainerBase: off","title":"Exception processing errorPage[errorCode=0, location=/error]","body":"<p>There's an additional error in the log,this doesn't make much sense.\nThis exception does not affect the program,  You can use the below code for turning off log at this exception level in applicaton.yml,if you really don’t want to see it.</p>\n<pre><code>logging:\n  level:\n    org.apache.catalina.core.ContainerBase: off\n</code></pre>\n"}],"owner":{"account_id":12819803,"reputation":55,"user_id":9275156,"display_name":"Ant"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18513,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1637935235,"creation_date":1553273732,"question_id":55304425,"body_markdown":"My Spring Boot project used to work well on Mac. Today I pull the codes to my Windows lap, then the problem occurred, that the Tomcat error page were displayed instead of my custom error page when there is an error (like 404, 500). Meanwhile, the back-end reported an error:\r\n\r\n    2019-03-22 23:55:18.659 ERROR 11000 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost]           :Exception Processing ErrorPage[errorCode=0, location=/error]**\r\n\r\n    java.lang.NoSuchMethodError: javax.servlet.http.HttpServletRequest.getHttpServletMapping()Ljavax/servlet/http/HttpServletMapping;\r\n\r\nThe Spring Boot version is 2.1.13, and the using dependencies are:\r\n\r\n    plugins {\r\n        id &#39;org.springframework.boot&#39; version &#39;2.1.3.RELEASE&#39;\r\n        id &#39;java&#39;\r\n    }\r\n\r\n    apply plugin: &#39;io.spring.dependency-management&#39;\r\n    apply plugin: &#39;project-report&#39;\r\n\r\n    group = &#39;cn.itscloudy&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = &#39;1.8&#39;\r\n\r\n    dependencies {\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-thymeleaf&#39;\r\n\r\n        testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    }\r\nIt&#39;s a simple demo that dependencies only contains web and thymeleaf.\r\n\r\nThe `error.html` is under the path `resources/template`:\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;Error&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;h1&gt;Error Page&lt;/h1&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nAnd here is all the console startup logs\r\n\r\n```\r\n2019-03-23 13:15:49.510  INFO 6192 --- [           main] c.i.e.ErrorPageTestApplication           : Starting ErrorPageTestApplication on SkyLand with PID 6192 (F:\\WorkSpace_intellij\\error_page_test\\out\\production\\classes started by chai in F:\\WorkSpace_intellij\\error_page_test)\r\n2019-03-23 13:15:49.510  INFO 6192 --- [           main] c.i.e.ErrorPageTestApplication           : No active profile set, falling back to default profiles: default\r\n2019-03-23 13:15:50.540  INFO 6192 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2019-03-23 13:15:50.560  INFO 6192 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2019-03-23 13:15:50.560  INFO 6192 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.16]\r\n2019-03-23 13:15:50.560  INFO 6192 --- [           main] o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [D:\\Java\\jdk1.8.0_162\\bin;C:\\WINDOWS\\Sun\\Java\\bin;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\Program Files\\Docker\\Docker\\Resources\\bin;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;D:\\Java\\jdk1.8.0_162\\bin;D:\\mysql-5.7.21\\bin;F:\\tomcat\\bin;F:\\gradle-4.4.1\\bin;D:\\Git\\cmd;D:\\Java\\jdk1.8.0_162\\jre\\bin;F:\\Node.js\\;F:\\Python\\Scripts\\;F:\\Python\\;D:\\MATLAB\\runtime\\win64;D:\\MATLAB\\bin;D:\\MATLAB\\polyspace\\bin;C:\\WINDOWS\\System32\\OpenSSH\\;D:\\Microsoft VS Code\\bin;F:\\Redis;F:\\Python\\Scripts\\django-admin.exe;C:\\Program Files (x86)\\Windows Kits\\8.1\\Windows Performance Toolkit\\;C:\\Program Files\\NVIDIA Corporation\\NVIDIA NvDLISR;C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;F:\\Python\\Scripts\\;F:\\Python\\;C:\\Users\\chai\\AppData\\Roaming\\npm;D:\\Microsoft VS Code\\bin;C:\\Users\\chai\\AppData\\Local\\Microsoft\\WindowsApps;;.]\r\n2019-03-23 13:15:50.670  INFO 6192 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2019-03-23 13:15:50.670  INFO 6192 --- [           main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1080 ms\r\n2019-03-23 13:15:50.859  INFO 6192 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService &#39;applicationTaskExecutor&#39;\r\n2019-03-23 13:15:50.949  INFO 6192 --- [           main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index\r\n2019-03-23 13:15:51.029  INFO 6192 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n2019-03-23 13:15:51.029  INFO 6192 --- [           main] c.i.e.ErrorPageTestApplication           : Started ErrorPageTestApplication in 2.138 seconds (JVM running for 4.394)\r\n```\r\n\r\nIt will jump to the classical Tomcat 404 page, not the `error.html` if I visit an non-exist page. The back-end will report the error which I demonstrated in the top.\r\n\r\nI Googled it a lot, but still don&#39;t why. Then I tried 1.5.9 version of Spring Boot, it worked! But I don&#39;t want to change the version of Spring Boot because I had to change plenty of codes\r\n\r\nWhat is the reason this problem was caused and how to handle it?","title":"Exception processing errorPage[errorCode=0, location=/error]","body":"<p>My Spring Boot project used to work well on Mac. Today I pull the codes to my Windows lap, then the problem occurred, that the Tomcat error page were displayed instead of my custom error page when there is an error (like 404, 500). Meanwhile, the back-end reported an error:</p>\n\n<pre><code>2019-03-22 23:55:18.659 ERROR 11000 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost]           :Exception Processing ErrorPage[errorCode=0, location=/error]**\n\njava.lang.NoSuchMethodError: javax.servlet.http.HttpServletRequest.getHttpServletMapping()Ljavax/servlet/http/HttpServletMapping;\n</code></pre>\n\n<p>The Spring Boot version is 2.1.13, and the using dependencies are:</p>\n\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.1.3.RELEASE'\n    id 'java'\n}\n\napply plugin: 'io.spring.dependency-management'\napply plugin: 'project-report'\n\ngroup = 'cn.itscloudy'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '1.8'\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-thymeleaf'\n\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n</code></pre>\n\n<p>It's a simple demo that dependencies only contains web and thymeleaf.</p>\n\n<p>The <code>error.html</code> is under the path <code>resources/template</code>:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;title&gt;Error&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h1&gt;Error Page&lt;/h1&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>And here is all the console startup logs</p>\n\n<pre><code>2019-03-23 13:15:49.510  INFO 6192 --- [           main] c.i.e.ErrorPageTestApplication           : Starting ErrorPageTestApplication on SkyLand with PID 6192 (F:\\WorkSpace_intellij\\error_page_test\\out\\production\\classes started by chai in F:\\WorkSpace_intellij\\error_page_test)\n2019-03-23 13:15:49.510  INFO 6192 --- [           main] c.i.e.ErrorPageTestApplication           : No active profile set, falling back to default profiles: default\n2019-03-23 13:15:50.540  INFO 6192 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2019-03-23 13:15:50.560  INFO 6192 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2019-03-23 13:15:50.560  INFO 6192 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.16]\n2019-03-23 13:15:50.560  INFO 6192 --- [           main] o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [D:\\Java\\jdk1.8.0_162\\bin;C:\\WINDOWS\\Sun\\Java\\bin;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\Program Files\\Docker\\Docker\\Resources\\bin;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;D:\\Java\\jdk1.8.0_162\\bin;D:\\mysql-5.7.21\\bin;F:\\tomcat\\bin;F:\\gradle-4.4.1\\bin;D:\\Git\\cmd;D:\\Java\\jdk1.8.0_162\\jre\\bin;F:\\Node.js\\;F:\\Python\\Scripts\\;F:\\Python\\;D:\\MATLAB\\runtime\\win64;D:\\MATLAB\\bin;D:\\MATLAB\\polyspace\\bin;C:\\WINDOWS\\System32\\OpenSSH\\;D:\\Microsoft VS Code\\bin;F:\\Redis;F:\\Python\\Scripts\\django-admin.exe;C:\\Program Files (x86)\\Windows Kits\\8.1\\Windows Performance Toolkit\\;C:\\Program Files\\NVIDIA Corporation\\NVIDIA NvDLISR;C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;F:\\Python\\Scripts\\;F:\\Python\\;C:\\Users\\chai\\AppData\\Roaming\\npm;D:\\Microsoft VS Code\\bin;C:\\Users\\chai\\AppData\\Local\\Microsoft\\WindowsApps;;.]\n2019-03-23 13:15:50.670  INFO 6192 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2019-03-23 13:15:50.670  INFO 6192 --- [           main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1080 ms\n2019-03-23 13:15:50.859  INFO 6192 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'\n2019-03-23 13:15:50.949  INFO 6192 --- [           main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index\n2019-03-23 13:15:51.029  INFO 6192 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2019-03-23 13:15:51.029  INFO 6192 --- [           main] c.i.e.ErrorPageTestApplication           : Started ErrorPageTestApplication in 2.138 seconds (JVM running for 4.394)\n</code></pre>\n\n<p>It will jump to the classical Tomcat 404 page, not the <code>error.html</code> if I visit an non-exist page. The back-end will report the error which I demonstrated in the top.</p>\n\n<p>I Googled it a lot, but still don't why. Then I tried 1.5.9 version of Spring Boot, it worked! But I don't want to change the version of Spring Boot because I had to change plenty of codes</p>\n\n<p>What is the reason this problem was caused and how to handle it?</p>\n"},{"tags":["java","spring","spring-boot","unit-testing"],"answers":[{"tags":[],"owner":{"account_id":5939623,"reputation":5436,"user_id":4671372,"display_name":"VadymVL"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1637879172,"creation_date":1637875716,"answer_id":70117437,"question_id":70117054,"body_markdown":"Yes, it is possible if you are using the Spring framework. It has a special [@AliasFor][1] annotation for this purpose:\r\n\r\n&gt; @AliasFor is an annotation that is used to declare aliases for annotation attributes.\r\n\r\nYou can find more examples of its usage in the official documentation [here][2] or in [this tutorial][3].\r\n\r\nAlso, there are details of how to use meta-annotations in the Spring Test Context in the official documentation [here][4].\r\n\r\nYour example with the usage of this annotation will look like this:\r\n\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(ElementType.TYPE)\r\n    @SpringBootTest\r\n    @ComponentScan\r\n    @ActiveProfiles(&quot;testing&quot;)\r\n    public @interface IntegrationTest {\r\n    \r\n        @AliasFor(annotation = ComponentScan.class, attribute = &quot;basePackages&quot;)\r\n        String[] basePackages() default {};\r\n\r\n        @AliasFor(annotation = SpringBootTest.class, attribute = &quot;classes&quot;)\r\n        Class&lt;?&gt;[] classes() default {};\r\n    }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/annotation/AliasFor.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-meta-annotations\r\n  [3]: https://www.baeldung.com/spring-aliasfor-annotation\r\n  [4]: https://docs.spring.io/spring-framework/docs/current/reference/html/testing.html#integration-testing-annotations-meta","title":"Custom Annotations for Spring Boot Tests","body":"<p>Yes, it is possible if you are using the Spring framework. It has a special <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/annotation/AliasFor.html\" rel=\"nofollow noreferrer\">@AliasFor</a> annotation for this purpose:</p>\n<blockquote>\n<p>@AliasFor is an annotation that is used to declare aliases for annotation attributes.</p>\n</blockquote>\n<p>You can find more examples of its usage in the official documentation <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-meta-annotations\" rel=\"nofollow noreferrer\">here</a> or in <a href=\"https://www.baeldung.com/spring-aliasfor-annotation\" rel=\"nofollow noreferrer\">this tutorial</a>.</p>\n<p>Also, there are details of how to use meta-annotations in the Spring Test Context in the official documentation <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/testing.html#integration-testing-annotations-meta\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Your example with the usage of this annotation will look like this:</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.TYPE)\n@SpringBootTest\n@ComponentScan\n@ActiveProfiles(&quot;testing&quot;)\npublic @interface IntegrationTest {\n\n    @AliasFor(annotation = ComponentScan.class, attribute = &quot;basePackages&quot;)\n    String[] basePackages() default {};\n\n    @AliasFor(annotation = SpringBootTest.class, attribute = &quot;classes&quot;)\n    Class&lt;?&gt;[] classes() default {};\n}\n</code></pre>\n"}],"owner":{"account_id":1317825,"reputation":12193,"user_id":1264321,"accept_rate":92,"display_name":"Stefan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1744,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70117437,"answer_count":1,"score":0,"last_activity_date":1637934616,"creation_date":1637873112,"question_id":70117054,"body_markdown":"Is it possible to overwrite the parameter values of an annotation used in a custom annotation?\r\n\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(ElementType.TYPE)\r\n    @SpringBootTest(classes = [HOW_TO_CHANGE_THESE])\r\n    @ComponentScan(basePackages = {[HOW_TO_CHANGE_THESE]})\r\n    @ActiveProfiles(&quot;testing&quot;)\r\n    public @interface IntegrationTest {\r\n    }\r\n\r\nMy intention was to reduce the number of annotations in my tests, while setting default values to all tests of this type. I would like to use it like this:\r\n\r\n    @IntegrationTest(classes=&quot;...&quot;, basePackages=&quot;...&quot;)\r\n    class AbcTest {\r\n    }\r\n\r\nThanks in advance!","title":"Custom Annotations for Spring Boot Tests","body":"<p>Is it possible to overwrite the parameter values of an annotation used in a custom annotation?</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.TYPE)\n@SpringBootTest(classes = [HOW_TO_CHANGE_THESE])\n@ComponentScan(basePackages = {[HOW_TO_CHANGE_THESE]})\n@ActiveProfiles(&quot;testing&quot;)\npublic @interface IntegrationTest {\n}\n</code></pre>\n<p>My intention was to reduce the number of annotations in my tests, while setting default values to all tests of this type. I would like to use it like this:</p>\n<pre><code>@IntegrationTest(classes=&quot;...&quot;, basePackages=&quot;...&quot;)\nclass AbcTest {\n}\n</code></pre>\n<p>Thanks in advance!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1637922762,"post_id":70122960,"comment_id":123957862,"body_markdown":"Looks like a good use-case for [Generics](https://docs.oracle.com/javase/tutorial/java/generics/)","body":"Looks like a good use-case for <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/\" rel=\"nofollow noreferrer\">Generics</a>"},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":2,"creation_date":1637922966,"post_id":70122960,"comment_id":123957950,"body_markdown":"Looks like you don&#39;t need the different signatures in the first place. Why not just use a broader data type (like `double`) and get rid of the overload altogether?","body":"Looks like you don&#39;t need the different signatures in the first place. Why not just use a broader data type (like <code>double</code>) and get rid of the overload altogether?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1637923231,"post_id":70122960,"comment_id":123958073,"body_markdown":"Can&#39;t edit my comment above, but I forgot to say that generics would be useful if you want to compare `Comparable`s. If it&#39;s just numbers, yeah, what ernest_k said.","body":"Can&#39;t edit my comment above, but I forgot to say that generics would be useful if you want to compare <code>Comparable</code>s. If it&#39;s just numbers, yeah, what ernest_k said."},{"owner":{"account_id":8418874,"reputation":895,"user_id":6318261,"accept_rate":50,"display_name":"Timothy"},"score":0,"creation_date":1637924654,"post_id":70122960,"comment_id":123958613,"body_markdown":"ah yes, silly me... thanks. Using double is good","body":"ah yes, silly me... thanks. Using double is good"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637934334,"creation_date":1637934334,"answer_id":70125417,"question_id":70122960,"body_markdown":"&gt;  ah yes, silly me... thanks. Using `double` is good.\r\n\r\nNo. Wait.  Not so fast.\r\n\r\nFor the integral types, yes, you can replace all of the overloads with a method with `long` argument types.  Other integral types can all be converted to `long` without any loss of information, and the comparisons will work as expected.\r\n\r\nBut there is a gotcha when we get to `double`.\r\n\r\nThe problem is that a `double` only has 53 binary bits of precision.  So when you convert a large enough `long` value to a `double` you get a number that is not *mathematically* equal to the original value.\r\n\r\nSo when compare this:\r\n\r\n        if (existingData &gt; 0 &amp;&amp; submittedData &gt; 0 &amp;&amp; existingData != submittedData) {\r\n            return true;\r\n        }\r\n\r\nin the `long` and `double` cases, for some argument values, the `!=` test with `long` values will be `true`, but with the converted `double` values it will be `false` ... because of the loss of precision in the conversion.\r\n\r\nIn short, you have to have overloads for both `long` and `double`, or you risk getting incorrect results in some cases.","title":"Java overload on different parameter type (numeric) but same algorithm","body":"<blockquote>\n<p>ah yes, silly me... thanks. Using <code>double</code> is good.</p>\n</blockquote>\n<p>No. Wait.  Not so fast.</p>\n<p>For the integral types, yes, you can replace all of the overloads with a method with <code>long</code> argument types.  Other integral types can all be converted to <code>long</code> without any loss of information, and the comparisons will work as expected.</p>\n<p>But there is a gotcha when we get to <code>double</code>.</p>\n<p>The problem is that a <code>double</code> only has 53 binary bits of precision.  So when you convert a large enough <code>long</code> value to a <code>double</code> you get a number that is not <em>mathematically</em> equal to the original value.</p>\n<p>So when compare this:</p>\n<pre><code>    if (existingData &gt; 0 &amp;&amp; submittedData &gt; 0 &amp;&amp; existingData != submittedData) {\n        return true;\n    }\n</code></pre>\n<p>in the <code>long</code> and <code>double</code> cases, for some argument values, the <code>!=</code> test with <code>long</code> values will be <code>true</code>, but with the converted <code>double</code> values it will be <code>false</code> ... because of the loss of precision in the conversion.</p>\n<p>In short, you have to have overloads for both <code>long</code> and <code>double</code>, or you risk getting incorrect results in some cases.</p>\n"}],"owner":{"account_id":8418874,"reputation":895,"user_id":6318261,"accept_rate":50,"display_name":"Timothy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637934334,"creation_date":1637922576,"question_id":70122960,"body_markdown":"I&#39;m currently has several methods to compare two numbers.\r\nThey are exact same algorithm, just different parameter types.\r\nHowever, overloading seems too many copy paste.\r\n\r\nCurrent code :\r\n\r\n```java\r\n\tprivate boolean isFieldUpdateAllowed(float existingData, float submittedData) {\r\n\t\tif (existingData &gt; 0 &amp;&amp; submittedData &lt;= 0) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif (existingData &lt;= 0 &amp;&amp; submittedData &gt; 0) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tif (existingData &gt; 0 &amp;&amp; submittedData &gt; 0 &amp;&amp; existingData != submittedData) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\tprivate boolean isFieldUpdateAllowed(int existingData, int submittedData) {\r\n\t\tif (existingData &gt; 0 &amp;&amp; submittedData &lt;= 0) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif (existingData &lt;= 0 &amp;&amp; submittedData &gt; 0) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tif (existingData &gt; 0 &amp;&amp; submittedData &gt; 0 &amp;&amp; existingData != submittedData) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n// other numeric type comparison\r\n```\r\n\r\nAny way to simplify the code?\r\n","title":"Java overload on different parameter type (numeric) but same algorithm","body":"<p>I'm currently has several methods to compare two numbers.\nThey are exact same algorithm, just different parameter types.\nHowever, overloading seems too many copy paste.</p>\n<p>Current code :</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private boolean isFieldUpdateAllowed(float existingData, float submittedData) {\n        if (existingData &gt; 0 &amp;&amp; submittedData &lt;= 0) {\n            return false;\n        }\n\n        if (existingData &lt;= 0 &amp;&amp; submittedData &gt; 0) {\n            return true;\n        }\n\n        if (existingData &gt; 0 &amp;&amp; submittedData &gt; 0 &amp;&amp; existingData != submittedData) {\n            return true;\n        }\n\n        return false;\n    }\n\n    private boolean isFieldUpdateAllowed(int existingData, int submittedData) {\n        if (existingData &gt; 0 &amp;&amp; submittedData &lt;= 0) {\n            return false;\n        }\n\n        if (existingData &lt;= 0 &amp;&amp; submittedData &gt; 0) {\n            return true;\n        }\n\n        if (existingData &gt; 0 &amp;&amp; submittedData &gt; 0 &amp;&amp; existingData != submittedData) {\n            return true;\n        }\n\n        return false;\n    }\n\n// other numeric type comparison\n</code></pre>\n<p>Any way to simplify the code?</p>\n"},{"tags":["java","maven","log4j"],"comments":[{"owner":{"account_id":16904098,"reputation":627,"user_id":12224743,"display_name":"Umeshwaran"},"score":0,"creation_date":1637931946,"post_id":70123799,"comment_id":123961122,"body_markdown":"Pls add your entire pom.xml","body":"Pls add your entire pom.xml"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":1,"creation_date":1637965549,"post_id":70123799,"comment_id":123970890,"body_markdown":"More importantly, [edit](https://stackoverflow.com/posts/70123799/edit) your question and add the Log4j configuration. BTW: Log4j 1.2 reached end-of-life 6 years ago. For new projects you should consider Log4j 2.x.","body":"More importantly, <a href=\"https://stackoverflow.com/posts/70123799/edit\">edit</a> your question and add the Log4j configuration. BTW: Log4j 1.2 reached end-of-life 6 years ago. For new projects you should consider Log4j 2.x."}],"owner":{"account_id":15141443,"reputation":1,"user_id":10926333,"display_name":"sunil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637934273,"creation_date":1637926575,"question_id":70123799,"body_markdown":"I am facing one strange issue after implementing log4j. So i have created the MAVEN project and added the dependencies of log4j in my POM.XML (as i am using page object model). But whenever I am trying to run my code, after successful execution, the log4j statements are printing multiple times.\r\n\r\n  log4j dependency in pom.xml -- \r\n    \r\n    &lt;!-- https://mvnrepository.com/artifact/log4j/log4j --&gt;  \r\n    &lt;dependency&gt;  \r\n        &lt;groupId&gt;log4j&lt;/groupId&gt;  \r\n        &lt;artifactId&gt;log4j&lt;/artifactId&gt;  \r\n        &lt;version&gt;1.2.17&lt;/version&gt;\r\n\r\n  Console Output --\r\n    \r\n    8685 [main] INFO   - Email ID entered successfully\r\n    8685 [main] INFO  - Email ID entered successfully\r\n    10786 [main] INFO   - Password entered successfully\r\n    10786 [main] INFO  - Password entered successfully\r\n    13923 [main] INFO   - Login Button Clicked successfully\r\n    13923 [main] INFO  - Login Button Clicked successfully \r\n    \r\nNotes:\r\n\r\n - I want to print the logs one time only\r\n\r\n - I can&#39;t do `Additivity = False` because I am not using log4j.xml, I have just added the dependency in the pom.xml file.\r\n\r\nI tried finding so many websites but everywhere its mentioned about log4j xml related solutions, but what if we use pom.xml and add the dependencies.\r\n","title":"Facing Issue while implementing log4j in my project","body":"<p>I am facing one strange issue after implementing log4j. So i have created the MAVEN project and added the dependencies of log4j in my POM.XML (as i am using page object model). But whenever I am trying to run my code, after successful execution, the log4j statements are printing multiple times.</p>\n<p>log4j dependency in pom.xml --</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/log4j/log4j --&gt;  \n&lt;dependency&gt;  \n    &lt;groupId&gt;log4j&lt;/groupId&gt;  \n    &lt;artifactId&gt;log4j&lt;/artifactId&gt;  \n    &lt;version&gt;1.2.17&lt;/version&gt;\n</code></pre>\n<p>Console Output --</p>\n<pre><code>8685 [main] INFO   - Email ID entered successfully\n8685 [main] INFO  - Email ID entered successfully\n10786 [main] INFO   - Password entered successfully\n10786 [main] INFO  - Password entered successfully\n13923 [main] INFO   - Login Button Clicked successfully\n13923 [main] INFO  - Login Button Clicked successfully \n</code></pre>\n<p>Notes:</p>\n<ul>\n<li><p>I want to print the logs one time only</p>\n</li>\n<li><p>I can't do <code>Additivity = False</code> because I am not using log4j.xml, I have just added the dependency in the pom.xml file.</p>\n</li>\n</ul>\n<p>I tried finding so many websites but everywhere its mentioned about log4j xml related solutions, but what if we use pom.xml and add the dependencies.</p>\n"},{"tags":["java","spring-boot","junit4"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1637909661,"post_id":70120505,"comment_id":123953547,"body_markdown":"that is not an error, it&#39;s some missing configuration. Your mock doesn&#39;t know which bean of that type you want mocked. It&#39;s been a while since I used that type of mocking, but my guess using a Qualifier would be able to help out here","body":"that is not an error, it&#39;s some missing configuration. Your mock doesn&#39;t know which bean of that type you want mocked. It&#39;s been a while since I used that type of mocking, but my guess using a Qualifier would be able to help out here"},{"owner":{"account_id":17019087,"reputation":736,"user_id":12312156,"display_name":"Faramarz Afzali"},"score":0,"creation_date":1637912304,"post_id":70120505,"comment_id":123954215,"body_markdown":"The error describes the problem properly. Your test class can not find a unique bean according to your configuration, because both `initCodeGenerateDbConfig` and `CodeGenerateDbConfig` are the same beans. I think using `@Qualifier` will solve the problem.","body":"The error describes the problem properly. Your test class can not find a unique bean according to your configuration, because both <code>initCodeGenerateDbConfig</code> and <code>CodeGenerateDbConfig</code> are the same beans. I think using <code>@Qualifier</code> will solve the problem."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1637914827,"post_id":70120505,"comment_id":123954964,"body_markdown":"Your `@Configuration` is a `CodeGenerateDbConfig` then you misuse/abuse an `@Bean` method to do some initialization which also returns a `CodeGenerateDbConfig`. Ditch that `@Bean` method and put the code in an `@PostConstruct` method.","body":"Your <code>@Configuration</code> is a <code>CodeGenerateDbConfig</code> then you misuse/abuse an <code>@Bean</code> method to do some initialization which also returns a <code>CodeGenerateDbConfig</code>. Ditch that <code>@Bean</code> method and put the code in an <code>@PostConstruct</code> method."}],"answers":[{"tags":[],"owner":{"account_id":23461805,"reputation":66,"user_id":17516567,"display_name":"SeungHwan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637934259,"creation_date":1637933469,"answer_id":70125217,"question_id":70120505,"body_markdown":"MockBean does not seem to be supported , so it must be specified manually\r\n\r\nManually specifying the type to inject starts normally.\r\n\r\n```\r\n@MockBean(classes = {CodeGenerateDbConfig .class})\r\n```\r\nWould you like to manually specify the type to inject?\r\n   ","title":"something wrong with SpringbootTest MockBean error","body":"<p>MockBean does not seem to be supported , so it must be specified manually</p>\n<p>Manually specifying the type to inject starts normally.</p>\n<pre><code>@MockBean(classes = {CodeGenerateDbConfig .class})\n</code></pre>\n<p>Would you like to manually specify the type to inject?</p>\n"}],"owner":{"account_id":20906874,"reputation":1,"user_id":15358579,"display_name":"unixing"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1770,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637934259,"creation_date":1637909357,"question_id":70120505,"body_markdown":"```java\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT, classes = JeecgSystemApplication.class)\r\npublic class SampleTest {\r\n    \r\n    @MockBean\r\n    private CodeGenerateDbConfig initCodeGenerateDbConfig;\r\n\r\n}\r\n```\r\n\r\n```java\r\n@Configuration\r\npublic class CodeGenerateDbConfig {\r\n    \r\n    @Bean\r\n    public CodeGenerateDbConfig initCodeGenerateDbConfig() {\r\n        if(StringUtils.isNotBlank(url)){\r\n            CodegenDatasourceConfig.initDbConfig(driverClassName,url, username, password);\r\n        }\r\n        return null;\r\n    }\r\n}\r\n```\r\nthe error is:\r\n\r\n```\r\nCaused by: java.lang.IllegalStateException: Unable to register mock bean org.jeecg.config.init.CodeGenerateDbConfig expected a single matching bean to replace but found [codeGenerateDbConfig, initCodeGenerateDbConfig]\r\n```","title":"something wrong with SpringbootTest MockBean error","body":"<pre class=\"lang-java prettyprint-override\"><code>@RunWith(SpringRunner.class)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT, classes = JeecgSystemApplication.class)\npublic class SampleTest {\n    \n    @MockBean\n    private CodeGenerateDbConfig initCodeGenerateDbConfig;\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class CodeGenerateDbConfig {\n    \n    @Bean\n    public CodeGenerateDbConfig initCodeGenerateDbConfig() {\n        if(StringUtils.isNotBlank(url)){\n            CodegenDatasourceConfig.initDbConfig(driverClassName,url, username, password);\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>the error is:</p>\n<pre><code>Caused by: java.lang.IllegalStateException: Unable to register mock bean org.jeecg.config.init.CodeGenerateDbConfig expected a single matching bean to replace but found [codeGenerateDbConfig, initCodeGenerateDbConfig]\n</code></pre>\n"},{"tags":["java","maven","pom.xml"],"comments":[{"owner":{"account_id":5916600,"reputation":2324,"user_id":4655217,"display_name":"geobreze"},"score":0,"creation_date":1637743591,"post_id":70092893,"comment_id":123905055,"body_markdown":"You can try configuring surefire plugin http://maven.apache.org/surefire/maven-surefire-plugin/examples/system-properties.html","body":"You can try configuring surefire plugin <a href=\"http://maven.apache.org/surefire/maven-surefire-plugin/examples/system-properties.html\" rel=\"nofollow noreferrer\">maven.apache.org/surefire/maven-surefire-plugin/examples/&hellip;</a>"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1637748173,"post_id":70092893,"comment_id":123906948,"body_markdown":"Usually you should use the `application.properties` in `src/test/resources` instead of using system properties...","body":"Usually you should use the <code>application.properties</code> in <code>src&#47;test&#47;resources</code> instead of using system properties..."},{"owner":{"account_id":23307250,"reputation":41,"user_id":17387065,"display_name":"JavageekGod"},"score":0,"creation_date":1637759438,"post_id":70092893,"comment_id":123911395,"body_markdown":"@khmarbaise thats not always helpful, for instance passwords. sorry i didnt mention it before. update the Q","body":"@khmarbaise thats not always helpful, for instance passwords. sorry i didnt mention it before. update the Q"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1637761291,"post_id":70092893,"comment_id":123912209,"body_markdown":"Password should not even necessary in tests. They should be stored in vault etc. not in -D which are part of a pom file....","body":"Password should not even necessary in tests. They should be stored in vault etc. not in -D which are part of a pom file...."},{"owner":{"account_id":23307250,"reputation":41,"user_id":17387065,"display_name":"JavageekGod"},"score":0,"creation_date":1637770057,"post_id":70092893,"comment_id":123916171,"body_markdown":"nope, they arent fed as property but rather via yml or property files","body":"nope, they arent fed as property but rather via yml or property files"}],"answers":[{"tags":[],"owner":{"account_id":23307250,"reputation":41,"user_id":17387065,"display_name":"JavageekGod"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1637933868,"creation_date":1637743626,"answer_id":70093055,"question_id":70092893,"body_markdown":"    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n            &lt;argLine&gt;@{argLine} -Dsomeproperty=someValue &lt;/argLine&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nThis did the trick. \r\nAnswering my question in case someone else needs this ","title":"Passing parameter for mvn test from pom","body":"<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;argLine&gt;@{argLine} -Dsomeproperty=someValue &lt;/argLine&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>This did the trick.\nAnswering my question in case someone else needs this</p>\n"}],"owner":{"account_id":23307250,"reputation":41,"user_id":17387065,"display_name":"JavageekGod"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":362,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70093055,"answer_count":1,"score":0,"last_activity_date":1637933868,"creation_date":1637742861,"question_id":70092893,"body_markdown":"I have a springboot project with tests\r\nthere are few parameters(for ex passwords, pins etc) i would like to pass for mvn tests, I know this can be done with -D option from the cli. Can these values be passed from pom.\r\nBelow didnt seem to work, i guess this is for execution and not for compilation\r\n\r\n    &lt;properties&gt;\r\n        &lt;someproperty&gt; abcd &lt;/someproperty&gt;\r\n    &lt;/properties&gt;","title":"Passing parameter for mvn test from pom","body":"<p>I have a springboot project with tests\nthere are few parameters(for ex passwords, pins etc) i would like to pass for mvn tests, I know this can be done with -D option from the cli. Can these values be passed from pom.\nBelow didnt seem to work, i guess this is for execution and not for compilation</p>\n<pre><code>&lt;properties&gt;\n    &lt;someproperty&gt; abcd &lt;/someproperty&gt;\n&lt;/properties&gt;\n</code></pre>\n"},{"tags":["java","maven","swing"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":3,"creation_date":1637922639,"post_id":70122945,"comment_id":123957807,"body_markdown":"What is `Singer()` supposed to be? If it&#39;s a method, it needs a return type. If it&#39;s a constructor, it needs to have the same name as the class it&#39;s in. Did you mean to have another class called `Singer`?","body":"What is <code>Singer()</code> supposed to be? If it&#39;s a method, it needs a return type. If it&#39;s a constructor, it needs to have the same name as the class it&#39;s in. Did you mean to have another class called <code>Singer</code>?"},{"owner":{"account_id":22898233,"reputation":21,"user_id":17037421,"display_name":"PoTheBox"},"score":0,"creation_date":1637922780,"post_id":70122945,"comment_id":123957870,"body_markdown":"@khelwood I did, I tried that, and it always says &quot;constructor Music() is already defined in class .....&quot; so it dosent work...","body":"@khelwood I did, I tried that, and it always says &quot;constructor Music() is already defined in class .....&quot; so it dosent work..."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1637922895,"post_id":70122945,"comment_id":123957923,"body_markdown":"@PoTheBox that&#39;s because you already have one. If it&#39;s there for no reason just remove it. The point is: what were you trying to do? Why was `Singer()` there in the first place?","body":"@PoTheBox that&#39;s because you already have one. If it&#39;s there for no reason just remove it. The point is: what were you trying to do? Why was <code>Singer()</code> there in the first place?"},{"owner":{"account_id":22898233,"reputation":21,"user_id":17037421,"display_name":"PoTheBox"},"score":0,"creation_date":1637922992,"post_id":70122945,"comment_id":123957960,"body_markdown":"@khelwood Im trying to create 2 fields singerID &amp; musicID while both of them being of type UUID and then return them...","body":"@khelwood Im trying to create 2 fields singerID &amp; musicID while both of them being of type UUID and then return them..."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1637923030,"post_id":70122945,"comment_id":123957977,"body_markdown":"Then initialise both your fields in one constructor.","body":"Then initialise both your fields in one constructor."}],"answers":[{"tags":[],"owner":{"account_id":10277103,"reputation":91,"user_id":7583633,"display_name":"Joseph Kohilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637922928,"creation_date":1637922928,"answer_id":70123040,"question_id":70122945,"body_markdown":"You are using the constructor syntax for Singer() when the class is Music.\r\n\r\nChange your code to and remove Singer() constructor,\r\n \r\n\r\n    public Music() {\r\n       this.musicID = UUID.randomUUID();\r\n       this.singerID = UUID.randomUUID();\r\n    }","title":"I can&#39;t seem to find out why I keep getting the error &quot;Invalid method declaration; return type required&quot;","body":"<p>You are using the constructor syntax for Singer() when the class is Music.</p>\n<p>Change your code to and remove Singer() constructor,</p>\n<pre><code>public Music() {\n   this.musicID = UUID.randomUUID();\n   this.singerID = UUID.randomUUID();\n}\n</code></pre>\n"}],"owner":{"account_id":22898233,"reputation":21,"user_id":17037421,"display_name":"PoTheBox"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":70123040,"answer_count":1,"score":-1,"last_activity_date":1637933857,"creation_date":1637922523,"question_id":70122945,"body_markdown":"I am trying to make field of UUID type...\r\n  \r\n\r\n    public class Music {\r\n        private final UUID singerID;\r\n        private final UUID musicID;\r\n       \r\n        Singer() {\r\n            this.singerID = UUID.randomUUID();\r\n\r\n        }\r\n        \r\n        Music() {\r\n            this.musicID = UUID.randomUUID();\r\n        }\r\n    }\r\n\r\n\r\n   \r\nAnd I keep getting the error &quot;invalid method declaration; return type required&quot; at `Singer() {` I am very new to java been like 2 weeks, so if you could go slow on me it would mean a lot to me!","title":"I can&#39;t seem to find out why I keep getting the error &quot;Invalid method declaration; return type required&quot;","body":"<p>I am trying to make field of UUID type...</p>\n<pre><code>public class Music {\n    private final UUID singerID;\n    private final UUID musicID;\n   \n    Singer() {\n        this.singerID = UUID.randomUUID();\n\n    }\n    \n    Music() {\n        this.musicID = UUID.randomUUID();\n    }\n}\n</code></pre>\n<p>And I keep getting the error &quot;invalid method declaration; return type required&quot; at <code>Singer() {</code> I am very new to java been like 2 weeks, so if you could go slow on me it would mean a lot to me!</p>\n"},{"tags":["java","spring","gradle"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1637933664,"post_id":70125232,"comment_id":123961805,"body_markdown":"Did you choose the wrong java version when generating your project? That class has been removed in Java 9, IIRC","body":"Did you choose the wrong java version when generating your project? That class has been removed in Java 9, IIRC"},{"owner":{"account_id":19418680,"reputation":21,"user_id":14201594,"display_name":"JGeo"},"score":0,"creation_date":1637933760,"post_id":70125232,"comment_id":123961841,"body_markdown":"@FedericoklezCulloca I chose Java 11. What do you mean by wrong?","body":"@FedericoklezCulloca I chose Java 11. What do you mean by wrong?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1637935017,"post_id":70125232,"comment_id":123962282,"body_markdown":"I mean, in the initializer did you choose the java version corresponding to the one you are going to use to compile your program?","body":"I mean, in the initializer did you choose the java version corresponding to the one you are going to use to compile your program?"},{"owner":{"account_id":19418680,"reputation":21,"user_id":14201594,"display_name":"JGeo"},"score":0,"creation_date":1637935225,"post_id":70125232,"comment_id":123962352,"body_markdown":"@FedericoklezCulloca Yeap. I use java 11 with JDK 11 and I downloaded the Java11 file.","body":"@FedericoklezCulloca Yeap. I use java 11 with JDK 11 and I downloaded the Java11 file."}],"owner":{"account_id":19418680,"reputation":21,"user_id":14201594,"display_name":"JGeo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637933557,"creation_date":1637933557,"question_id":70125232,"body_markdown":"I have downloaded a Demo project from the spring Initializer website. Without adding any code or editing any of the files I am getting the following error when building for the first time.\r\n```\r\nCould not initialize class sun.util.calendar.ZoneInfoFile\r\n```\r\nI have tried looking for similar issues on stack overflow but their answers couldn&#39;t apply to my situation.","title":"Failed build Spring Boot","body":"<p>I have downloaded a Demo project from the spring Initializer website. Without adding any code or editing any of the files I am getting the following error when building for the first time.</p>\n<pre><code>Could not initialize class sun.util.calendar.ZoneInfoFile\n</code></pre>\n<p>I have tried looking for similar issues on stack overflow but their answers couldn't apply to my situation.</p>\n"},{"tags":["java","r","rjava"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1636344870,"post_id":69878387,"comment_id":123522685,"body_markdown":"Does `rJava.so` exist at this location `/app/R40_Library/rJava/libs/rJava.so`?","body":"Does <code>rJava.so</code> exist at this location <code>&#47;app&#47;R40_Library&#47;rJava&#47;libs&#47;rJava.so</code>?"},{"owner":{"account_id":7162242,"reputation":199,"user_id":5472628,"accept_rate":25,"display_name":"Isaac"},"score":0,"creation_date":1636392002,"post_id":69878387,"comment_id":123538866,"body_markdown":"Yes\n\n```\n$ ls -al /.../app/R40_Library/rJava/libs\n\ntotal 414\ndrwxr-xr-x.  2 ishams dce      1 Nov  5 10:49 .\ndrwxr-xr-x. 10 ishams dce     12 Nov  5 10:49 ..\n-rwxr-xr-x.  1 ishams dce 422240 Nov  5 10:49 rJava.so\n```","body":"Yes  ``` $ ls -al /.../app/R40_Library/rJava/libs  total 414 drwxr-xr-x.  2 ishams dce      1 Nov  5 10:49 . drwxr-xr-x. 10 ishams dce     12 Nov  5 10:49 .. -rwxr-xr-x.  1 ishams dce 422240 Nov  5 10:49 rJava.so ```"}],"answers":[{"tags":[],"owner":{"account_id":7162242,"reputation":199,"user_id":5472628,"accept_rate":25,"display_name":"Isaac"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637933379,"creation_date":1637933379,"answer_id":70125189,"question_id":69878387,"body_markdown":"Solution was to reset RStudio after running `R CMD javareconf` for things to get completely effective. \r\n\r\n```\r\nsudo systemctl stop rstudio-server\r\nsudo systemctl start rstudio-server\r\n```","title":"rJava unable to load shared object rJava.so","body":"<p>Solution was to reset RStudio after running <code>R CMD javareconf</code> for things to get completely effective.</p>\n<pre><code>sudo systemctl stop rstudio-server\nsudo systemctl start rstudio-server\n</code></pre>\n"}],"owner":{"account_id":7162242,"reputation":199,"user_id":5472628,"accept_rate":25,"display_name":"Isaac"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1047,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1637933379,"creation_date":1636342273,"question_id":69878387,"body_markdown":"I am unable to load `rJava` library after installation in Microsoft R Open 4.0.2.\r\n\r\n### SessionInfo\r\n\r\n\r\n```\r\nR version 4.0.2 (2020-06-22)\r\nPlatform: x86_64-pc-linux-gnu (64-bit)\r\nRunning under: Red Hat Enterprise Linux 8.3 (Ootpa)\r\n\r\nMatrix products: default\r\nBLAS:   /opt/microsoft/ropen/4.0.2/lib64/R/lib/libRblas.so\r\nLAPACK: /opt/microsoft/ropen/4.0.2/lib64/R/lib/libRlapack.so\r\n\r\nlocale:\r\n [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C               LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    \r\n [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8    LC_PAPER=en_US.UTF-8       LC_NAME=C                 \r\n [9] LC_ADDRESS=C               LC_TELEPHONE=C             LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       \r\n\r\nattached base packages:\r\n[1] stats     graphics  grDevices utils     datasets  methods   base     \r\n\r\nother attached packages:\r\n[1] DBI_1.1.0            RevoUtils_11.0.2     RevoUtilsMath_11.0.0\r\n\r\nloaded via a namespace (and not attached):\r\n[1] compiler_4.0.2 parallel_4.0.2 tools_4.0.2 \r\n\r\n```\r\n\r\n### R_HOME/etc permissions\r\n\r\n```\r\nxxx@yyyy:/opt/microsoft/ropen/4.0.2/lib64/R/etc\r\n$ ls -al\r\ntotal 36\r\ndrwxrwxrwx.  2 root root  131 Nov  5 10:16 .\r\ndrwxr-xr-x. 11 root root  157 Sep 29 20:22 ..\r\n-rwxrwxrwx.  1 root root  209 Aug 12  2020 javaconf\r\n-rw-rwxrwx.  1 root root  830 Nov  5 10:16 ldpaths\r\n-rw-rwxrwx.  1 root root 6200 Nov  5 10:16 Makeconf\r\n-rwxrwxrwx.  1 root root 1447 Sep  3  2020 Renviron\r\n-rw-rwxrwx.  1 root root   72 Sep  3  2020 Renviron.site\r\n-rwxrwxrwx.  1 root root 1095 Aug 12  2020 repositories\r\n-rw-rwxrwx.  1 root root 7187 Sep  3  2020 Rprofile.site\r\n```\r\n\r\n\r\n### JAVA Version\r\n\r\n```\r\n$ java -version\r\nopenjdk version &quot;1.8.0_242&quot;\r\nOpenJDK Runtime Environment (AdoptOpenJDK)(build 1.8.0_242-b08)\r\nOpenJDK 64-Bit Server VM (AdoptOpenJDK)(build 25.242-b08, mixed mode)\r\n```\r\n\r\n\r\n### Installation steps\r\n\r\n```\r\ninstall.packages(&quot;rJava&quot;)\r\n\r\nInstalling package into ‘.../app/R40_Library’\r\n(as ‘lib’ is unspecified)\r\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\r\n                                 Dload  Upload   Total   Spent    Left  Speed\r\n100  649k  100  649k    0     0   287k      0  0:00:02  0:00:02 --:--:--  287k\r\nMicrosoft R Open 4.0.2\r\nThe enhanced R distribution from Microsoft\r\nMicrosoft packages Copyright (C) 2020 Microsoft Corporation\r\n\r\nUsing the Intel MKL for parallel mathematical computing (using 8 cores).\r\n\r\nDefault CRAN mirror snapshot taken on 2020-07-16.\r\nSee: https://mran.microsoft.com/.\r\n\r\n* installing *source* package ‘rJava’ ...\r\n** package ‘rJava’ successfully unpacked and MD5 sums checked\r\n** using staged installation\r\nchecking for gcc... gcc -std=gnu99\r\nchecking whether the C compiler works... yes\r\nchecking for C compiler default output file name... a.out\r\nchecking for suffix of executables... \r\nchecking whether we are cross compiling... no\r\nchecking for suffix of object files... o\r\nchecking whether we are using the GNU C compiler... yes\r\nchecking whether gcc -std=gnu99 accepts -g... yes\r\nchecking for gcc -std=gnu99 option to accept ISO C89... none needed\r\nchecking how to run the C preprocessor... gcc -std=gnu99 -E\r\nchecking for grep that handles long lines and -e... /usr/bin/grep\r\nchecking for egrep... /usr/bin/grep -E\r\nchecking for ANSI C header files... yes\r\nchecking for sys/wait.h that is POSIX.1 compatible... yes\r\nchecking for sys/types.h... yes\r\nchecking for sys/stat.h... yes\r\nchecking for stdlib.h... yes\r\nchecking for string.h... yes\r\nchecking for memory.h... yes\r\nchecking for strings.h... yes\r\nchecking for inttypes.h... yes\r\nchecking for stdint.h... yes\r\nchecking for unistd.h... yes\r\nchecking for string.h... (cached) yes\r\nchecking sys/time.h usability... yes\r\nchecking sys/time.h presence... yes\r\nchecking for sys/time.h... yes\r\nchecking for unistd.h... (cached) yes\r\nchecking for an ANSI C-conforming const... yes\r\nchecking whether time.h and sys/time.h may both be included... yes\r\nconfigure: checking whether gcc -std=gnu99 supports static inline...\r\nyes\r\nchecking whether setjmp.h is POSIX.1 compatible... yes\r\nchecking whether sigsetjmp is declared... yes\r\nchecking whether siglongjmp is declared... yes\r\nchecking Java support in R... present:\r\ninterpreter : &#39;/bin/java&#39;\r\narchiver    : &#39;/bin/jar&#39;\r\ncompiler    : &#39;/bin/javac&#39;\r\nheader prep.: &#39;/bin/javah&#39;\r\ncpp flags   : &#39;-I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include/linux&#39;\r\njava libs   : &#39;-L/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/lib/amd64/server -ljvm&#39;\r\nchecking whether Java run-time works... yes\r\nchecking whether -Xrs is supported... yes\r\nchecking whether -Xrs will be used... yes\r\nchecking whether JVM will be loaded dynamically... no\r\nchecking whether JNI programs can be compiled... yes\r\nchecking whether JNI programs run... yes\r\nchecking JNI data types... ok\r\nchecking whether JRI should be compiled (autodetect)... yes\r\nchecking whether debugging output should be enabled... no\r\nchecking whether memory profiling is desired... no\r\nchecking whether threads support is requested... no\r\nchecking whether callbacks support is requested... no\r\nchecking whether JNI cache support is requested... no\r\nchecking whether headless init is enabled... no\r\nchecking whether JRI is requested... yes\r\nconfigure: creating ./config.status\r\nconfig.status: creating src/Makevars\r\nconfig.status: creating R/zzz.R\r\nconfig.status: creating src/config.h\r\n=== configuring in jri (/tmp/Rtmp9CxMGW/R.INSTALL21c6f633549029/rJava/jri)\r\nconfigure: running /bin/sh ./configure --disable-option-checking &#39;--prefix=/usr/local&#39;  --cache-file=/dev/null --srcdir=.\r\nchecking build system type... x86_64-unknown-linux-gnu\r\nchecking host system type... x86_64-unknown-linux-gnu\r\nchecking for gcc... gcc -std=gnu99\r\nchecking whether the C compiler works... yes\r\nchecking for C compiler default output file name... a.out\r\nchecking for suffix of executables... \r\nchecking whether we are cross compiling... no\r\nchecking for suffix of object files... o\r\nchecking whether we are using the GNU C compiler... yes\r\nchecking whether gcc -std=gnu99 accepts -g... yes\r\nchecking for gcc -std=gnu99 option to accept ISO C89... none needed\r\nchecking how to run the C preprocessor... gcc -std=gnu99 -E\r\nchecking for grep that handles long lines and -e... /usr/bin/grep\r\nchecking for egrep... /usr/bin/grep -E\r\nchecking for ANSI C header files... yes\r\nchecking Java version... 1.8.0_302\r\nchecking Java compatibility version (integer)... 8\r\nchecking whether /bin/javah actually works... yes\r\nchecking for target flags...  -target 1.4 -source 1.4\r\nchecking whether Java interpreter works... checking whether JNI programs can be compiled... yes\r\nchecking whether JNI programs can be run... yes\r\nchecking JNI data types... ok\r\nchecking whether Rinterface.h exports R_CStackXXX variables... yes\r\nchecking whether Rinterface.h exports R_SignalHandlers... yes\r\nconfigure: creating ./config.status\r\nconfig.status: creating src/Makefile\r\nconfig.status: creating Makefile\r\nconfig.status: creating run\r\nconfig.status: creating src/config.h\r\n** libs\r\ngcc -std=gnu99 -I/opt/microsoft/ropen/4.0.2/lib64/R/include -DNDEBUG -I. -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include/linux  -DU_STATIC_IMPLEMENTATION   -fpic  -DU_STATIC_IMPLEMENTATION -O2 -g  -c Rglue.c -o Rglue.o\r\ngcc -std=gnu99 -I/opt/microsoft/ropen/4.0.2/lib64/R/include -DNDEBUG -I. -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include/linux  -DU_STATIC_IMPLEMENTATION   -fpic  -DU_STATIC_IMPLEMENTATION -O2 -g  -c arrayc.c -o arrayc.o\r\ngcc -std=gnu99 -I/opt/microsoft/ropen/4.0.2/lib64/R/include -DNDEBUG -I. -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include/linux  -DU_STATIC_IMPLEMENTATION   -fpic  -DU_STATIC_IMPLEMENTATION -O2 -g  -c callJNI.c -o callJNI.o\r\ngcc -std=gnu99 -I/opt/microsoft/ropen/4.0.2/lib64/R/include -DNDEBUG -I. -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include/linux  -DU_STATIC_IMPLEMENTATION   -fpic  -DU_STATIC_IMPLEMENTATION -O2 -g  -c callback.c -o callback.o\r\ngcc -std=gnu99 -I/opt/microsoft/ropen/4.0.2/lib64/R/include -DNDEBUG -I. -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include/linux  -DU_STATIC_IMPLEMENTATION   -fpic  -DU_STATIC_IMPLEMENTATION -O2 -g  -c fields.c -o fields.o\r\ngcc -std=gnu99 -I/opt/microsoft/ropen/4.0.2/lib64/R/include -DNDEBUG -I. -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include/linux  -DU_STATIC_IMPLEMENTATION   -fpic  -DU_STATIC_IMPLEMENTATION -O2 -g  -c init.c -o init.o\r\ngcc -std=gnu99 -I/opt/microsoft/ropen/4.0.2/lib64/R/include -DNDEBUG -I. -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include/linux  -DU_STATIC_IMPLEMENTATION   -fpic  -DU_STATIC_IMPLEMENTATION -O2 -g  -c jri_glue.c -o jri_glue.o\r\ngcc -std=gnu99 -I/opt/microsoft/ropen/4.0.2/lib64/R/include -DNDEBUG -I. -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include/linux  -DU_STATIC_IMPLEMENTATION   -fpic  -DU_STATIC_IMPLEMENTATION -O2 -g  -c loader.c -o loader.o\r\ngcc -std=gnu99 -I/opt/microsoft/ropen/4.0.2/lib64/R/include -DNDEBUG -I. -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include/linux  -DU_STATIC_IMPLEMENTATION   -fpic  -DU_STATIC_IMPLEMENTATION -O2 -g  -c otables.c -o otables.o\r\ngcc -std=gnu99 -I/opt/microsoft/ropen/4.0.2/lib64/R/include -DNDEBUG -I. -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include/linux  -DU_STATIC_IMPLEMENTATION   -fpic  -DU_STATIC_IMPLEMENTATION -O2 -g  -c rJava.c -o rJava.o\r\ngcc -std=gnu99 -I/opt/microsoft/ropen/4.0.2/lib64/R/include -DNDEBUG -I. -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include/linux  -DU_STATIC_IMPLEMENTATION   -fpic  -DU_STATIC_IMPLEMENTATION -O2 -g  -c registration.c -o registration.o\r\ngcc -std=gnu99 -I/opt/microsoft/ropen/4.0.2/lib64/R/include -DNDEBUG -I. -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include/linux  -DU_STATIC_IMPLEMENTATION   -fpic  -DU_STATIC_IMPLEMENTATION -O2 -g  -c tools.c -o tools.o\r\ngcc -std=gnu99 -shared -L/opt/microsoft/ropen/4.0.2/lib64/R/lib -o rJava.so Rglue.o arrayc.o callJNI.o callback.o fields.o init.o jri_glue.o loader.o otables.o rJava.o registration.o tools.o -L/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/lib/amd64/server -ljvm -L/opt/microsoft/ropen/4.0.2/lib64/R/lib -lR\r\n(cd ../jri &amp;&amp; make)\r\nmake[1]: Entering directory &#39;/tmp/Rtmp9CxMGW/R.INSTALL21c6f633549029/rJava/jri&#39;\r\nmake -C src JRI.jar\r\nmake[2]: Entering directory &#39;/tmp/Rtmp9CxMGW/R.INSTALL21c6f633549029/rJava/jri/src&#39;\r\n/bin/javac -target 1.4 -source 1.4 -d . ../RConsoleOutputStream.java ../RFactor.java ../REXP.java ../Rengine.java ../RList.java ../Mutex.java ../package-info.java ../RMainLoopCallbacks.java ../RVector.java ../RBool.java\r\nwarning: [options] bootstrap class path not set in conjunction with -source 1.4\r\nwarning: [options] source value 1.4 is obsolete and will be removed in a future release\r\nwarning: [options] target value 1.4 is obsolete and will be removed in a future release\r\nwarning: [options] To suppress warnings about obsolete options, use -Xlint:-options.\r\n4 warnings\r\nif [ -n &quot;/bin/javah&quot; ]; then /bin/javah -d . -classpath . org.rosuda.JRI.Rengine; fi\r\ngcc -std=gnu99 -c -o Rengine.o Rengine.c -g -Iinclude  -DRIF_HAS_CSTACK -DRIF_HAS_RSIGHAND -DU_STATIC_IMPLEMENTATION -O2 -g  -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include/linux  -fpic -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include/linux -I/opt/microsoft/ropen/4.0.2/lib64/R/include -I/opt/microsoft/ropen/4.0.2/lib64/R/include\r\ngcc -std=gnu99 -c -o jri.o jri.c -g -Iinclude  -DRIF_HAS_CSTACK -DRIF_HAS_RSIGHAND -DU_STATIC_IMPLEMENTATION -O2 -g  -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include/linux  -fpic -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include/linux -I/opt/microsoft/ropen/4.0.2/lib64/R/include -I/opt/microsoft/ropen/4.0.2/lib64/R/include\r\ngcc -std=gnu99 -c -o Rcallbacks.o Rcallbacks.c -g -Iinclude  -DRIF_HAS_CSTACK -DRIF_HAS_RSIGHAND -DU_STATIC_IMPLEMENTATION -O2 -g  -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include/linux  -fpic -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include/linux -I/opt/microsoft/ropen/4.0.2/lib64/R/include -I/opt/microsoft/ropen/4.0.2/lib64/R/include\r\ngcc -std=gnu99 -c -o Rinit.o Rinit.c -g -Iinclude  -DRIF_HAS_CSTACK -DRIF_HAS_RSIGHAND -DU_STATIC_IMPLEMENTATION -O2 -g  -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include/linux  -fpic -I/opt/microsoft/ropen/4.0.2/lib64/R/include -I/opt/microsoft/ropen/4.0.2/lib64/R/include\r\ngcc -std=gnu99 -c -o globals.o globals.c -g -Iinclude  -DRIF_HAS_CSTACK -DRIF_HAS_RSIGHAND -DU_STATIC_IMPLEMENTATION -O2 -g  -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include/linux  -fpic -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include/linux\r\ngcc -std=gnu99 -c -o rjava.o rjava.c -g -Iinclude  -DRIF_HAS_CSTACK -DRIF_HAS_RSIGHAND -DU_STATIC_IMPLEMENTATION -O2 -g  -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include/linux  -fpic -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include/linux\r\ngcc -std=gnu99 -o libjri.so Rengine.o jri.o Rcallbacks.o Rinit.o globals.o rjava.o  -shared -L/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/lib/amd64/server -ljvm -Wl,--export-dynamic -fopenmp  -L/opt/microsoft/ropen/4.0.2/lib64/R/lib -lR \r\n/bin/javac -target 1.4 -source 1.4 -d . ../package-info.java ../RFactor.java ../REXP.java ../RList.java ../Mutex.java ../RVector.java ../RBool.java ../RConsoleOutputStream.java ../Rengine.java ../RMainLoopCallbacks.java\r\nwarning: [options] bootstrap class path not set in conjunction with -source 1.4\r\nwarning: [options] source value 1.4 is obsolete and will be removed in a future release\r\nwarning: [options] target value 1.4 is obsolete and will be removed in a future release\r\nwarning: [options] To suppress warnings about obsolete options, use -Xlint:-options.\r\n4 warnings\r\n/bin/jar fc JRI.jar org libjri.so\r\nmake[2]: Leaving directory &#39;/tmp/Rtmp9CxMGW/R.INSTALL21c6f633549029/rJava/jri/src&#39;\r\nrm -f libjri.so\r\ncp src/libjri.so libjri.so\r\n/bin/javac -target 1.4 -source 1.4 -classpath src/JRI.jar -d examples examples/rtest.java\r\nwarning: [options] bootstrap class path not set in conjunction with -source 1.4\r\nwarning: [options] source value 1.4 is obsolete and will be removed in a future release\r\nwarning: [options] target value 1.4 is obsolete and will be removed in a future release\r\nwarning: [options] To suppress warnings about obsolete options, use -Xlint:-options.\r\nNote: examples/rtest.java uses or overrides a deprecated API.\r\nNote: Recompile with -Xlint:deprecation for details.\r\n4 warnings\r\n/bin/javac -target 1.4 -source 1.4 -classpath src/JRI.jar -d examples examples/rtest2.java\r\nwarning: [options] bootstrap class path not set in conjunction with -source 1.4\r\nwarning: [options] source value 1.4 is obsolete and will be removed in a future release\r\nwarning: [options] target value 1.4 is obsolete and will be removed in a future release\r\nwarning: [options] To suppress warnings about obsolete options, use -Xlint:-options.\r\nNote: examples/rtest2.java uses or overrides a deprecated API.\r\nNote: Recompile with -Xlint:deprecation for details.\r\n4 warnings\r\nmake[1]: Leaving directory &#39;/tmp/Rtmp9CxMGW/R.INSTALL21c6f633549029/rJava/jri&#39;\r\ninstalling via &#39;install.libs.R&#39; to /.../app/R40_Library/00LOCK-rJava/00new/rJava\r\n** R\r\n** inst\r\n** byte-compile and prepare package for lazy loading\r\nMicrosoft R Open 4.0.2\r\nThe enhanced R distribution from Microsoft\r\nMicrosoft packages Copyright (C) 2020 Microsoft Corporation\r\n\r\nUsing the Intel MKL for parallel mathematical computing (using 8 cores).\r\n\r\nDefault CRAN mirror snapshot taken on 2020-07-16.\r\nSee: https://mran.microsoft.com/.\r\n\r\n** help\r\n*** installing help indices\r\n** building package indices\r\nMicrosoft R Open 4.0.2\r\nThe enhanced R distribution from Microsoft\r\nMicrosoft packages Copyright (C) 2020 Microsoft Corporation\r\n\r\nUsing the Intel MKL for parallel mathematical computing (using 8 cores).\r\n\r\nDefault CRAN mirror snapshot taken on 2020-07-16.\r\nSee: https://mran.microsoft.com/.\r\n\r\n** testing if installed package can be loaded from temporary location\r\nMicrosoft R Open 4.0.2\r\nThe enhanced R distribution from Microsoft\r\nMicrosoft packages Copyright (C) 2020 Microsoft Corporation\r\n\r\nUsing the Intel MKL for parallel mathematical computing (using 8 cores).\r\n\r\nDefault CRAN mirror snapshot taken on 2020-07-16.\r\nSee: https://mran.microsoft.com/.\r\n\r\n** checking absolute paths in shared objects and dynamic libraries\r\n** testing if installed package can be loaded from final location\r\nMicrosoft R Open 4.0.2\r\nThe enhanced R distribution from Microsoft\r\nMicrosoft packages Copyright (C) 2020 Microsoft Corporation\r\n\r\nUsing the Intel MKL for parallel mathematical computing (using 8 cores).\r\n\r\nDefault CRAN mirror snapshot taken on 2020-07-16.\r\nSee: https://mran.microsoft.com/.\r\n\r\n** testing if installed package keeps a record of temporary installation path\r\n* DONE (rJava)\r\n\r\n```\r\n\r\n\r\n### Error\r\n\r\n```\r\n&gt; library(rJava)\r\nError: package or namespace load failed for ‘rJava’:\r\n .onLoad failed in loadNamespace() for &#39;rJava&#39;, details:\r\n  call: dyn.load(file, DLLpath = DLLpath, ...)\r\n  error: unable to load shared object &#39;/.../app/R40_Library/rJava/libs/rJava.so&#39;:\r\n  libjvm.so: cannot open shared object file: No such file or directory\r\n\r\n```\r\n\r\nAlso posted in its main repo ([issue 283][1]). Appreciate any words of wisdom you can share.\r\n\r\n\r\n\r\n  [1]: https://github.com/s-u/rJava/issues/283","title":"rJava unable to load shared object rJava.so","body":"<p>I am unable to load <code>rJava</code> library after installation in Microsoft R Open 4.0.2.</p>\n<h3>SessionInfo</h3>\n<pre><code>R version 4.0.2 (2020-06-22)\nPlatform: x86_64-pc-linux-gnu (64-bit)\nRunning under: Red Hat Enterprise Linux 8.3 (Ootpa)\n\nMatrix products: default\nBLAS:   /opt/microsoft/ropen/4.0.2/lib64/R/lib/libRblas.so\nLAPACK: /opt/microsoft/ropen/4.0.2/lib64/R/lib/libRlapack.so\n\nlocale:\n [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C               LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    \n [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8    LC_PAPER=en_US.UTF-8       LC_NAME=C                 \n [9] LC_ADDRESS=C               LC_TELEPHONE=C             LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       \n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n\nother attached packages:\n[1] DBI_1.1.0            RevoUtils_11.0.2     RevoUtilsMath_11.0.0\n\nloaded via a namespace (and not attached):\n[1] compiler_4.0.2 parallel_4.0.2 tools_4.0.2 \n\n</code></pre>\n<h3>R_HOME/etc permissions</h3>\n<pre><code>xxx@yyyy:/opt/microsoft/ropen/4.0.2/lib64/R/etc\n$ ls -al\ntotal 36\ndrwxrwxrwx.  2 root root  131 Nov  5 10:16 .\ndrwxr-xr-x. 11 root root  157 Sep 29 20:22 ..\n-rwxrwxrwx.  1 root root  209 Aug 12  2020 javaconf\n-rw-rwxrwx.  1 root root  830 Nov  5 10:16 ldpaths\n-rw-rwxrwx.  1 root root 6200 Nov  5 10:16 Makeconf\n-rwxrwxrwx.  1 root root 1447 Sep  3  2020 Renviron\n-rw-rwxrwx.  1 root root   72 Sep  3  2020 Renviron.site\n-rwxrwxrwx.  1 root root 1095 Aug 12  2020 repositories\n-rw-rwxrwx.  1 root root 7187 Sep  3  2020 Rprofile.site\n</code></pre>\n<h3>JAVA Version</h3>\n<pre><code>$ java -version\nopenjdk version &quot;1.8.0_242&quot;\nOpenJDK Runtime Environment (AdoptOpenJDK)(build 1.8.0_242-b08)\nOpenJDK 64-Bit Server VM (AdoptOpenJDK)(build 25.242-b08, mixed mode)\n</code></pre>\n<h3>Installation steps</h3>\n<pre><code>install.packages(&quot;rJava&quot;)\n\nInstalling package into ‘.../app/R40_Library’\n(as ‘lib’ is unspecified)\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100  649k  100  649k    0     0   287k      0  0:00:02  0:00:02 --:--:--  287k\nMicrosoft R Open 4.0.2\nThe enhanced R distribution from Microsoft\nMicrosoft packages Copyright (C) 2020 Microsoft Corporation\n\nUsing the Intel MKL for parallel mathematical computing (using 8 cores).\n\nDefault CRAN mirror snapshot taken on 2020-07-16.\nSee: https://mran.microsoft.com/.\n\n* installing *source* package ‘rJava’ ...\n** package ‘rJava’ successfully unpacked and MD5 sums checked\n** using staged installation\nchecking for gcc... gcc -std=gnu99\nchecking whether the C compiler works... yes\nchecking for C compiler default output file name... a.out\nchecking for suffix of executables... \nchecking whether we are cross compiling... no\nchecking for suffix of object files... o\nchecking whether we are using the GNU C compiler... yes\nchecking whether gcc -std=gnu99 accepts -g... yes\nchecking for gcc -std=gnu99 option to accept ISO C89... none needed\nchecking how to run the C preprocessor... gcc -std=gnu99 -E\nchecking for grep that handles long lines and -e... /usr/bin/grep\nchecking for egrep... /usr/bin/grep -E\nchecking for ANSI C header files... yes\nchecking for sys/wait.h that is POSIX.1 compatible... yes\nchecking for sys/types.h... yes\nchecking for sys/stat.h... yes\nchecking for stdlib.h... yes\nchecking for string.h... yes\nchecking for memory.h... yes\nchecking for strings.h... yes\nchecking for inttypes.h... yes\nchecking for stdint.h... yes\nchecking for unistd.h... yes\nchecking for string.h... (cached) yes\nchecking sys/time.h usability... yes\nchecking sys/time.h presence... yes\nchecking for sys/time.h... yes\nchecking for unistd.h... (cached) yes\nchecking for an ANSI C-conforming const... yes\nchecking whether time.h and sys/time.h may both be included... yes\nconfigure: checking whether gcc -std=gnu99 supports static inline...\nyes\nchecking whether setjmp.h is POSIX.1 compatible... yes\nchecking whether sigsetjmp is declared... yes\nchecking whether siglongjmp is declared... yes\nchecking Java support in R... present:\ninterpreter : '/bin/java'\narchiver    : '/bin/jar'\ncompiler    : '/bin/javac'\nheader prep.: '/bin/javah'\ncpp flags   : '-I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include/linux'\njava libs   : '-L/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/lib/amd64/server -ljvm'\nchecking whether Java run-time works... yes\nchecking whether -Xrs is supported... yes\nchecking whether -Xrs will be used... yes\nchecking whether JVM will be loaded dynamically... no\nchecking whether JNI programs can be compiled... yes\nchecking whether JNI programs run... yes\nchecking JNI data types... ok\nchecking whether JRI should be compiled (autodetect)... yes\nchecking whether debugging output should be enabled... no\nchecking whether memory profiling is desired... no\nchecking whether threads support is requested... no\nchecking whether callbacks support is requested... no\nchecking whether JNI cache support is requested... no\nchecking whether headless init is enabled... no\nchecking whether JRI is requested... yes\nconfigure: creating ./config.status\nconfig.status: creating src/Makevars\nconfig.status: creating R/zzz.R\nconfig.status: creating src/config.h\n=== configuring in jri (/tmp/Rtmp9CxMGW/R.INSTALL21c6f633549029/rJava/jri)\nconfigure: running /bin/sh ./configure --disable-option-checking '--prefix=/usr/local'  --cache-file=/dev/null --srcdir=.\nchecking build system type... x86_64-unknown-linux-gnu\nchecking host system type... x86_64-unknown-linux-gnu\nchecking for gcc... gcc -std=gnu99\nchecking whether the C compiler works... yes\nchecking for C compiler default output file name... a.out\nchecking for suffix of executables... \nchecking whether we are cross compiling... no\nchecking for suffix of object files... o\nchecking whether we are using the GNU C compiler... yes\nchecking whether gcc -std=gnu99 accepts -g... yes\nchecking for gcc -std=gnu99 option to accept ISO C89... none needed\nchecking how to run the C preprocessor... gcc -std=gnu99 -E\nchecking for grep that handles long lines and -e... /usr/bin/grep\nchecking for egrep... /usr/bin/grep -E\nchecking for ANSI C header files... yes\nchecking Java version... 1.8.0_302\nchecking Java compatibility version (integer)... 8\nchecking whether /bin/javah actually works... yes\nchecking for target flags...  -target 1.4 -source 1.4\nchecking whether Java interpreter works... checking whether JNI programs can be compiled... yes\nchecking whether JNI programs can be run... yes\nchecking JNI data types... ok\nchecking whether Rinterface.h exports R_CStackXXX variables... yes\nchecking whether Rinterface.h exports R_SignalHandlers... yes\nconfigure: creating ./config.status\nconfig.status: creating src/Makefile\nconfig.status: creating Makefile\nconfig.status: creating run\nconfig.status: creating src/config.h\n** libs\ngcc -std=gnu99 -I/opt/microsoft/ropen/4.0.2/lib64/R/include -DNDEBUG -I. -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include/linux  -DU_STATIC_IMPLEMENTATION   -fpic  -DU_STATIC_IMPLEMENTATION -O2 -g  -c Rglue.c -o Rglue.o\ngcc -std=gnu99 -I/opt/microsoft/ropen/4.0.2/lib64/R/include -DNDEBUG -I. -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include/linux  -DU_STATIC_IMPLEMENTATION   -fpic  -DU_STATIC_IMPLEMENTATION -O2 -g  -c arrayc.c -o arrayc.o\ngcc -std=gnu99 -I/opt/microsoft/ropen/4.0.2/lib64/R/include -DNDEBUG -I. -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include/linux  -DU_STATIC_IMPLEMENTATION   -fpic  -DU_STATIC_IMPLEMENTATION -O2 -g  -c callJNI.c -o callJNI.o\ngcc -std=gnu99 -I/opt/microsoft/ropen/4.0.2/lib64/R/include -DNDEBUG -I. -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include/linux  -DU_STATIC_IMPLEMENTATION   -fpic  -DU_STATIC_IMPLEMENTATION -O2 -g  -c callback.c -o callback.o\ngcc -std=gnu99 -I/opt/microsoft/ropen/4.0.2/lib64/R/include -DNDEBUG -I. -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include/linux  -DU_STATIC_IMPLEMENTATION   -fpic  -DU_STATIC_IMPLEMENTATION -O2 -g  -c fields.c -o fields.o\ngcc -std=gnu99 -I/opt/microsoft/ropen/4.0.2/lib64/R/include -DNDEBUG -I. -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include/linux  -DU_STATIC_IMPLEMENTATION   -fpic  -DU_STATIC_IMPLEMENTATION -O2 -g  -c init.c -o init.o\ngcc -std=gnu99 -I/opt/microsoft/ropen/4.0.2/lib64/R/include -DNDEBUG -I. -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include/linux  -DU_STATIC_IMPLEMENTATION   -fpic  -DU_STATIC_IMPLEMENTATION -O2 -g  -c jri_glue.c -o jri_glue.o\ngcc -std=gnu99 -I/opt/microsoft/ropen/4.0.2/lib64/R/include -DNDEBUG -I. -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include/linux  -DU_STATIC_IMPLEMENTATION   -fpic  -DU_STATIC_IMPLEMENTATION -O2 -g  -c loader.c -o loader.o\ngcc -std=gnu99 -I/opt/microsoft/ropen/4.0.2/lib64/R/include -DNDEBUG -I. -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include/linux  -DU_STATIC_IMPLEMENTATION   -fpic  -DU_STATIC_IMPLEMENTATION -O2 -g  -c otables.c -o otables.o\ngcc -std=gnu99 -I/opt/microsoft/ropen/4.0.2/lib64/R/include -DNDEBUG -I. -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include/linux  -DU_STATIC_IMPLEMENTATION   -fpic  -DU_STATIC_IMPLEMENTATION -O2 -g  -c rJava.c -o rJava.o\ngcc -std=gnu99 -I/opt/microsoft/ropen/4.0.2/lib64/R/include -DNDEBUG -I. -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include/linux  -DU_STATIC_IMPLEMENTATION   -fpic  -DU_STATIC_IMPLEMENTATION -O2 -g  -c registration.c -o registration.o\ngcc -std=gnu99 -I/opt/microsoft/ropen/4.0.2/lib64/R/include -DNDEBUG -I. -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include/linux  -DU_STATIC_IMPLEMENTATION   -fpic  -DU_STATIC_IMPLEMENTATION -O2 -g  -c tools.c -o tools.o\ngcc -std=gnu99 -shared -L/opt/microsoft/ropen/4.0.2/lib64/R/lib -o rJava.so Rglue.o arrayc.o callJNI.o callback.o fields.o init.o jri_glue.o loader.o otables.o rJava.o registration.o tools.o -L/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/lib/amd64/server -ljvm -L/opt/microsoft/ropen/4.0.2/lib64/R/lib -lR\n(cd ../jri &amp;&amp; make)\nmake[1]: Entering directory '/tmp/Rtmp9CxMGW/R.INSTALL21c6f633549029/rJava/jri'\nmake -C src JRI.jar\nmake[2]: Entering directory '/tmp/Rtmp9CxMGW/R.INSTALL21c6f633549029/rJava/jri/src'\n/bin/javac -target 1.4 -source 1.4 -d . ../RConsoleOutputStream.java ../RFactor.java ../REXP.java ../Rengine.java ../RList.java ../Mutex.java ../package-info.java ../RMainLoopCallbacks.java ../RVector.java ../RBool.java\nwarning: [options] bootstrap class path not set in conjunction with -source 1.4\nwarning: [options] source value 1.4 is obsolete and will be removed in a future release\nwarning: [options] target value 1.4 is obsolete and will be removed in a future release\nwarning: [options] To suppress warnings about obsolete options, use -Xlint:-options.\n4 warnings\nif [ -n &quot;/bin/javah&quot; ]; then /bin/javah -d . -classpath . org.rosuda.JRI.Rengine; fi\ngcc -std=gnu99 -c -o Rengine.o Rengine.c -g -Iinclude  -DRIF_HAS_CSTACK -DRIF_HAS_RSIGHAND -DU_STATIC_IMPLEMENTATION -O2 -g  -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include/linux  -fpic -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include/linux -I/opt/microsoft/ropen/4.0.2/lib64/R/include -I/opt/microsoft/ropen/4.0.2/lib64/R/include\ngcc -std=gnu99 -c -o jri.o jri.c -g -Iinclude  -DRIF_HAS_CSTACK -DRIF_HAS_RSIGHAND -DU_STATIC_IMPLEMENTATION -O2 -g  -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include/linux  -fpic -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include/linux -I/opt/microsoft/ropen/4.0.2/lib64/R/include -I/opt/microsoft/ropen/4.0.2/lib64/R/include\ngcc -std=gnu99 -c -o Rcallbacks.o Rcallbacks.c -g -Iinclude  -DRIF_HAS_CSTACK -DRIF_HAS_RSIGHAND -DU_STATIC_IMPLEMENTATION -O2 -g  -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include/linux  -fpic -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include/linux -I/opt/microsoft/ropen/4.0.2/lib64/R/include -I/opt/microsoft/ropen/4.0.2/lib64/R/include\ngcc -std=gnu99 -c -o Rinit.o Rinit.c -g -Iinclude  -DRIF_HAS_CSTACK -DRIF_HAS_RSIGHAND -DU_STATIC_IMPLEMENTATION -O2 -g  -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include/linux  -fpic -I/opt/microsoft/ropen/4.0.2/lib64/R/include -I/opt/microsoft/ropen/4.0.2/lib64/R/include\ngcc -std=gnu99 -c -o globals.o globals.c -g -Iinclude  -DRIF_HAS_CSTACK -DRIF_HAS_RSIGHAND -DU_STATIC_IMPLEMENTATION -O2 -g  -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include/linux  -fpic -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include/linux\ngcc -std=gnu99 -c -o rjava.o rjava.c -g -Iinclude  -DRIF_HAS_CSTACK -DRIF_HAS_RSIGHAND -DU_STATIC_IMPLEMENTATION -O2 -g  -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include/linux  -fpic -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include -I/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/../include/linux\ngcc -std=gnu99 -o libjri.so Rengine.o jri.o Rcallbacks.o Rinit.o globals.o rjava.o  -shared -L/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.302.b08-0.el8_4.x86_64/jre/lib/amd64/server -ljvm -Wl,--export-dynamic -fopenmp  -L/opt/microsoft/ropen/4.0.2/lib64/R/lib -lR \n/bin/javac -target 1.4 -source 1.4 -d . ../package-info.java ../RFactor.java ../REXP.java ../RList.java ../Mutex.java ../RVector.java ../RBool.java ../RConsoleOutputStream.java ../Rengine.java ../RMainLoopCallbacks.java\nwarning: [options] bootstrap class path not set in conjunction with -source 1.4\nwarning: [options] source value 1.4 is obsolete and will be removed in a future release\nwarning: [options] target value 1.4 is obsolete and will be removed in a future release\nwarning: [options] To suppress warnings about obsolete options, use -Xlint:-options.\n4 warnings\n/bin/jar fc JRI.jar org libjri.so\nmake[2]: Leaving directory '/tmp/Rtmp9CxMGW/R.INSTALL21c6f633549029/rJava/jri/src'\nrm -f libjri.so\ncp src/libjri.so libjri.so\n/bin/javac -target 1.4 -source 1.4 -classpath src/JRI.jar -d examples examples/rtest.java\nwarning: [options] bootstrap class path not set in conjunction with -source 1.4\nwarning: [options] source value 1.4 is obsolete and will be removed in a future release\nwarning: [options] target value 1.4 is obsolete and will be removed in a future release\nwarning: [options] To suppress warnings about obsolete options, use -Xlint:-options.\nNote: examples/rtest.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n4 warnings\n/bin/javac -target 1.4 -source 1.4 -classpath src/JRI.jar -d examples examples/rtest2.java\nwarning: [options] bootstrap class path not set in conjunction with -source 1.4\nwarning: [options] source value 1.4 is obsolete and will be removed in a future release\nwarning: [options] target value 1.4 is obsolete and will be removed in a future release\nwarning: [options] To suppress warnings about obsolete options, use -Xlint:-options.\nNote: examples/rtest2.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n4 warnings\nmake[1]: Leaving directory '/tmp/Rtmp9CxMGW/R.INSTALL21c6f633549029/rJava/jri'\ninstalling via 'install.libs.R' to /.../app/R40_Library/00LOCK-rJava/00new/rJava\n** R\n** inst\n** byte-compile and prepare package for lazy loading\nMicrosoft R Open 4.0.2\nThe enhanced R distribution from Microsoft\nMicrosoft packages Copyright (C) 2020 Microsoft Corporation\n\nUsing the Intel MKL for parallel mathematical computing (using 8 cores).\n\nDefault CRAN mirror snapshot taken on 2020-07-16.\nSee: https://mran.microsoft.com/.\n\n** help\n*** installing help indices\n** building package indices\nMicrosoft R Open 4.0.2\nThe enhanced R distribution from Microsoft\nMicrosoft packages Copyright (C) 2020 Microsoft Corporation\n\nUsing the Intel MKL for parallel mathematical computing (using 8 cores).\n\nDefault CRAN mirror snapshot taken on 2020-07-16.\nSee: https://mran.microsoft.com/.\n\n** testing if installed package can be loaded from temporary location\nMicrosoft R Open 4.0.2\nThe enhanced R distribution from Microsoft\nMicrosoft packages Copyright (C) 2020 Microsoft Corporation\n\nUsing the Intel MKL for parallel mathematical computing (using 8 cores).\n\nDefault CRAN mirror snapshot taken on 2020-07-16.\nSee: https://mran.microsoft.com/.\n\n** checking absolute paths in shared objects and dynamic libraries\n** testing if installed package can be loaded from final location\nMicrosoft R Open 4.0.2\nThe enhanced R distribution from Microsoft\nMicrosoft packages Copyright (C) 2020 Microsoft Corporation\n\nUsing the Intel MKL for parallel mathematical computing (using 8 cores).\n\nDefault CRAN mirror snapshot taken on 2020-07-16.\nSee: https://mran.microsoft.com/.\n\n** testing if installed package keeps a record of temporary installation path\n* DONE (rJava)\n\n</code></pre>\n<h3>Error</h3>\n<pre><code>&gt; library(rJava)\nError: package or namespace load failed for ‘rJava’:\n .onLoad failed in loadNamespace() for 'rJava', details:\n  call: dyn.load(file, DLLpath = DLLpath, ...)\n  error: unable to load shared object '/.../app/R40_Library/rJava/libs/rJava.so':\n  libjvm.so: cannot open shared object file: No such file or directory\n\n</code></pre>\n<p>Also posted in its main repo (<a href=\"https://github.com/s-u/rJava/issues/283\" rel=\"nofollow noreferrer\">issue 283</a>). Appreciate any words of wisdom you can share.</p>\n"},{"tags":["java","caching","inputstream","outputstream"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1602151562,"post_id":64259999,"comment_id":113632228,"body_markdown":"Wirte to a `ByteArrayOutputStream` the same way you write to `os` (maybe even in the same loop if you still want to write to `os` too) and then call `toByteArray` to get the result. Note that this can obviously result in a huge `byte[]` if `is` provides a lot of data.","body":"Wirte to a <code>ByteArrayOutputStream</code> the same way you write to <code>os</code> (maybe even in the same loop if you still want to write to <code>os</code> too) and then call <code>toByteArray</code> to get the result. Note that this can obviously result in a huge <code>byte[]</code> if <code>is</code> provides a lot of data."}],"answers":[{"tags":[],"owner":{"account_id":412334,"reputation":33758,"user_id":785349,"accept_rate":94,"display_name":"quarks"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1602152068,"creation_date":1602152068,"answer_id":64260400,"question_id":64259999,"body_markdown":"The solution to this is to implement a Caching output stream:\r\n\r\n```\r\npublic class CachingOutputStream extends OutputStream {\r\n  private final OutputStream os;\r\n  private final ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n\r\n  public CachingOutputStream(OutputStream os) {\r\n    this.os = os;\r\n  }\r\n\r\n  public void write(int b) throws IOException {\r\n    try {\r\n      os.write(b);\r\n      baos.write(b);\r\n    } catch (Exception e) {\r\n      if(e instanceof IOException) {\r\n        throw e;\r\n      } else {\r\n        e.printStackTrace();\r\n      }\r\n    }\r\n  }\r\n\r\n  public byte[] getCache() {\r\n    return baos.toByteArray();\r\n  }\r\n\r\n  public void close() throws IOException {\r\n    os.close();\r\n  }\r\n\r\n  public void flush() throws IOException {\r\n    os.flush();\r\n  }\r\n}\r\n```\r\n\r\nAnd do this:\r\n\r\n```\r\nfinal CachingOutputStream cachingOutputStream = new CachingOutputStream(outputStream);\r\nflow(inputStream, cachingOutputStream, buff);\r\ncached = cachingOutputStream.getCache();\r\nif(cached != null) {\r\n  cacheService.put(cacheKey, cached);\r\n}\r\n```","title":"InputStream to byte array","body":"<p>The solution to this is to implement a Caching output stream:</p>\n<pre><code>public class CachingOutputStream extends OutputStream {\n  private final OutputStream os;\n  private final ByteArrayOutputStream baos = new ByteArrayOutputStream();\n\n  public CachingOutputStream(OutputStream os) {\n    this.os = os;\n  }\n\n  public void write(int b) throws IOException {\n    try {\n      os.write(b);\n      baos.write(b);\n    } catch (Exception e) {\n      if(e instanceof IOException) {\n        throw e;\n      } else {\n        e.printStackTrace();\n      }\n    }\n  }\n\n  public byte[] getCache() {\n    return baos.toByteArray();\n  }\n\n  public void close() throws IOException {\n    os.close();\n  }\n\n  public void flush() throws IOException {\n    os.flush();\n  }\n}\n</code></pre>\n<p>And do this:</p>\n<pre><code>final CachingOutputStream cachingOutputStream = new CachingOutputStream(outputStream);\nflow(inputStream, cachingOutputStream, buff);\ncached = cachingOutputStream.getCache();\nif(cached != null) {\n  cacheService.put(cacheKey, cached);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7654872,"reputation":109,"user_id":5802185,"display_name":"RoshanS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637933367,"creation_date":1637933367,"answer_id":70125186,"question_id":64259999,"body_markdown":"Using  org.apache.poi.util.IOUtils,  \r\n\r\n    IOUtils.toByteArray(inputStream);","title":"InputStream to byte array","body":"<p>Using  org.apache.poi.util.IOUtils,</p>\n<pre><code>IOUtils.toByteArray(inputStream);\n</code></pre>\n"}],"owner":{"account_id":18436169,"reputation":991,"user_id":13429959,"display_name":"Fireburn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":474,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":64260400,"answer_count":2,"score":1,"last_activity_date":1637933367,"creation_date":1602150655,"question_id":64259999,"body_markdown":"I have this code:\r\n\r\n```\r\n  private static void flow(InputStream is, OutputStream os, byte[] buf)\r\n      throws IOException {\r\n    int numRead;\r\n    while ((numRead = is.read(buf)) &gt;= 0) {\r\n      os.write(buf, 0, numRead);\r\n    }\r\n  }\r\n```\r\nWhich basically streams from `is` to the `OutputStream` provided. \r\nMy goal is to cache the `is` when the flow has completed.\r\n\r\nAs such I have:\r\n\r\n`cacheService.cache(key, bytes);`\r\n","title":"InputStream to byte array","body":"<p>I have this code:</p>\n<pre><code>  private static void flow(InputStream is, OutputStream os, byte[] buf)\n      throws IOException {\n    int numRead;\n    while ((numRead = is.read(buf)) &gt;= 0) {\n      os.write(buf, 0, numRead);\n    }\n  }\n</code></pre>\n<p>Which basically streams from <code>is</code> to the <code>OutputStream</code> provided.\nMy goal is to cache the <code>is</code> when the flow has completed.</p>\n<p>As such I have:</p>\n<p><code>cacheService.cache(key, bytes);</code></p>\n"},{"tags":["java","jsf","primefaces","jsf-1.2"],"comments":[{"owner":{"account_id":16315767,"reputation":159,"user_id":11782942,"display_name":"ivasanpag"},"score":0,"creation_date":1638091252,"post_id":70125043,"comment_id":123990806,"body_markdown":"Review the BalusC answer: https://stackoverflow.com/questions/5675017/calling-a-javascript-function-from-managed-bean","body":"Review the BalusC answer: <a href=\"https://stackoverflow.com/questions/5675017/calling-a-javascript-function-from-managed-bean\" title=\"calling a javascript function from managed bean\">stackoverflow.com/questions/5675017/&hellip;</a>"},{"owner":{"account_id":3409009,"reputation":11,"user_id":2859429,"display_name":"user2859429"},"score":0,"creation_date":1638096849,"post_id":70125043,"comment_id":123991882,"body_markdown":"I have used all hints from that topic but none of them are for JSF 1.2","body":"I have used all hints from that topic but none of them are for JSF 1.2"}],"owner":{"account_id":3409009,"reputation":11,"user_id":2859429,"display_name":"user2859429"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637933206,"creation_date":1637932718,"question_id":70125043,"body_markdown":"Hello I am trying all day to execute window.alert(&#39;aaa&#39;); javascript from java bean code\r\n\r\nI&#39;ve tried all hints from:\r\nhttps://stackoverflow.com/questions/5675017/calling-a-javascript-function-from-managed-bean\r\n\r\n- cant use PrimeFaces 6.2+ because i don&#39;t have JSF 2.0\r\n- cant use PrimeFaces 6.2- because I don&#39;t have JSF 2.0\r\n- cant use Omnifaces because i don&#39;t have JSF 2.0\r\n- JSF 2.3+ cant use because I do not have 2.3+\r\n- JSF 2.2- does not work because h:outputScript is not used in JSF 1.2\r\n- IceFaces JavaScriptRunner.runScript - cannot use because it automatically update jsf package to 2.0 \r\n- also tried FacesContext.getCurrentInstance().getResponseWriter().write(&quot;window.alert(&#39;aaa&#39;)&quot;); but does not work\r\n\r\nIam using this dependency and cannot update. \r\nAlso using richfaces 3.3.1.GA\r\n```\t\t\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.faces&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jsf-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2_12&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.faces&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jsf-impl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2_12&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n","title":"JSF 1.2 javascript execution from java bean code","body":"<p>Hello I am trying all day to execute window.alert('aaa'); javascript from java bean code</p>\n<p>I've tried all hints from:\n<a href=\"https://stackoverflow.com/questions/5675017/calling-a-javascript-function-from-managed-bean\">Calling a JavaScript function from managed bean</a></p>\n<ul>\n<li>cant use PrimeFaces 6.2+ because i don't have JSF 2.0</li>\n<li>cant use PrimeFaces 6.2- because I don't have JSF 2.0</li>\n<li>cant use Omnifaces because i don't have JSF 2.0</li>\n<li>JSF 2.3+ cant use because I do not have 2.3+</li>\n<li>JSF 2.2- does not work because h:outputScript is not used in JSF 1.2</li>\n<li>IceFaces JavaScriptRunner.runScript - cannot use because it automatically update jsf package to 2.0</li>\n<li>also tried FacesContext.getCurrentInstance().getResponseWriter().write(&quot;window.alert('aaa')&quot;); but does not work</li>\n</ul>\n<p>Iam using this dependency and cannot update.\nAlso using richfaces 3.3.1.GA</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;javax.faces&lt;/groupId&gt;\n            &lt;artifactId&gt;jsf-api&lt;/artifactId&gt;\n            &lt;version&gt;1.2_12&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.faces&lt;/groupId&gt;\n            &lt;artifactId&gt;jsf-impl&lt;/artifactId&gt;\n            &lt;version&gt;1.2_12&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n</code></pre>\n"},{"tags":["java","spring","spring-integration","spring-integration-aws"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637933141,"creation_date":1637933141,"answer_id":70125136,"question_id":70111449,"body_markdown":"See an `task-executor` option for the poller configuration. Exactly this one makes the same service activator to be called in parallel.\nSee more in docs: https://docs.spring.io/spring-integration/docs/current/reference/html/endpoint.html#endpoint-namespace","title":"Spring integration: how to make multi thread to poll message from a pollable channel through service activator as a paraller service","body":"<p>See an <code>task-executor</code> option for the poller configuration. Exactly this one makes the same service activator to be called in parallel.\nSee more in docs: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/endpoint.html#endpoint-namespace\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/endpoint.html#endpoint-namespace</a></p>\n"}],"owner":{"account_id":2780645,"reputation":11,"user_id":2393260,"display_name":"user2393260"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":558,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637933141,"creation_date":1637844756,"question_id":70111449,"body_markdown":"In my Code, SqsMessageDrivenChannelAdapter channel adapter configured to read message from AWS queue and push to a pollable channel(Queue). To the pollable channel,a service activator is pointing to poll message and process.\r\n\r\nMy Exact question: How to make work service activator as multithreaded to poll message from pollable channel and do some parallel task by specified thread size.\r\n\r\n**Channel Adapter:**\r\n\r\n    @Bean\r\n      public MessageProducer sqsMessageDrivenChannelAdapterForFlights() {\r\n        log.info(&quot;**** start listening to: &quot; + ttFlightsXMLSqsName + &quot; **** &quot;);\r\n        SqsMessageDrivenChannelAdapter adapter =\r\n            new SqsMessageDrivenChannelAdapter(amazonSqs, ttFlightsXMLSqsName);\r\n        adapter.setOutputChannelName(MessageChannelConstants.get_tt_flights);\r\n        adapter.setMaxNumberOfMessages(5);\r\n        return adapter;\r\n      }\r\n\r\n**Pollable Channel:**\r\n\r\n    @Bean(name = MessageChannelConstants.get_tt_flights)\r\n      public PollableChannel sqsInputChannelFlights() {\r\n        return new QueueChannel();\r\n      }\r\n\r\n**Service activator:**\r\n\r\n      @ServiceActivator(inputChannel = MessageChannelConstants.get_tt_flights,\r\n          poller = @Poller(fixedRate = &quot;5000&quot;))\r\n      public void processFlightData(Message&lt;?&gt; receive) throws PacPlusException {\r\n        .................\r\n       long startTime = System.currentTimeMillis();\r\n    }\r\n\r\nFinal question: If I make two service activator pointing to the same pollable channel will it work perfectly and is it good to use kind of parallel message process?","title":"Spring integration: how to make multi thread to poll message from a pollable channel through service activator as a paraller service","body":"<p>In my Code, SqsMessageDrivenChannelAdapter channel adapter configured to read message from AWS queue and push to a pollable channel(Queue). To the pollable channel,a service activator is pointing to poll message and process.</p>\n<p>My Exact question: How to make work service activator as multithreaded to poll message from pollable channel and do some parallel task by specified thread size.</p>\n<p><strong>Channel Adapter:</strong></p>\n<pre><code>@Bean\n  public MessageProducer sqsMessageDrivenChannelAdapterForFlights() {\n    log.info(&quot;**** start listening to: &quot; + ttFlightsXMLSqsName + &quot; **** &quot;);\n    SqsMessageDrivenChannelAdapter adapter =\n        new SqsMessageDrivenChannelAdapter(amazonSqs, ttFlightsXMLSqsName);\n    adapter.setOutputChannelName(MessageChannelConstants.get_tt_flights);\n    adapter.setMaxNumberOfMessages(5);\n    return adapter;\n  }\n</code></pre>\n<p><strong>Pollable Channel:</strong></p>\n<pre><code>@Bean(name = MessageChannelConstants.get_tt_flights)\n  public PollableChannel sqsInputChannelFlights() {\n    return new QueueChannel();\n  }\n</code></pre>\n<p><strong>Service activator:</strong></p>\n<pre><code>  @ServiceActivator(inputChannel = MessageChannelConstants.get_tt_flights,\n      poller = @Poller(fixedRate = &quot;5000&quot;))\n  public void processFlightData(Message&lt;?&gt; receive) throws PacPlusException {\n    .................\n   long startTime = System.currentTimeMillis();\n}\n</code></pre>\n<p>Final question: If I make two service activator pointing to the same pollable channel will it work perfectly and is it good to use kind of parallel message process?</p>\n"},{"tags":["java","postgresql","jooq","jsonb"],"comments":[{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1637939448,"post_id":70123812,"comment_id":123963935,"body_markdown":"You tagged this with jOOQ. Not sure if relevant to your question, but if it is, jOOQ doesn&#39;t support the relevant PG operator yet. Use [plain SQL templating](https://www.jooq.org/doc/latest/manual/sql-building/plain-sql-templating/) instead...","body":"You tagged this with jOOQ. Not sure if relevant to your question, but if it is, jOOQ doesn&#39;t support the relevant PG operator yet. Use <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/plain-sql-templating/\" rel=\"nofollow noreferrer\">plain SQL templating</a> instead..."}],"answers":[{"tags":[],"owner":{"display_name":"user330315"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637932932,"creation_date":1637932932,"answer_id":70125090,"question_id":70123812,"body_markdown":"You can use the contains operator `@&gt;` which also works with arrays\r\n\r\n    select *\r\n    from name_tagstable\r\n    where tagvalues -&gt; &#39;tags&#39; @&gt; &#39;[{&quot;key&quot;: &quot;x&quot;, &quot;value&quot;: &quot;y&quot;}]&#39;;\r\n\r\n","title":"Query where clause over array elements inside jsonb PSQL","body":"<p>You can use the contains operator <code>@&gt;</code> which also works with arrays</p>\n<pre><code>select *\nfrom name_tagstable\nwhere tagvalues -&gt; 'tags' @&gt; '[{&quot;key&quot;: &quot;x&quot;, &quot;value&quot;: &quot;y&quot;}]';\n</code></pre>\n"}],"owner":{"account_id":17913311,"reputation":33,"user_id":13014889,"display_name":"Tarun Annapareddy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1637932932,"creation_date":1637926668,"question_id":70123812,"body_markdown":"I have a JSON node on which I have to write PSQL query, \r\nMy table schema name(String),tagValues(jsonb). Example tagValue data is given below\r\n\r\nName_TagsTable\r\n```\r\n uid |       name(String)|          tagValues(jsonb)\r\n-----+-------------------+-----------------------------\r\n   1 |     myName        |    { &quot;tags&quot;: [{&quot;key&quot;:&quot;key1&quot;,&quot;value&quot; : &quot;value1&quot;}, {&quot;key&quot;:&quot;key1&quot;,&quot;value&quot; : &quot;value2&quot;}, {&quot;key&quot;:&quot;key3&quot;,&quot;value&quot; : &quot;value3&quot;}, {&quot;key&quot;:&quot;key4&quot;,&quot;value&quot; : &quot;value4&quot;}] }                                      \r\n\r\n```\r\nI need a query that gives me names for which\r\nat least one of the tag in the tags list satisfy the condition \r\nkey = &#39;X&#39; and value = &#39;Y&#39;\r\n\r\nHelp me with the query. I am using PSQL 10.0","title":"Query where clause over array elements inside jsonb PSQL","body":"<p>I have a JSON node on which I have to write PSQL query,\nMy table schema name(String),tagValues(jsonb). Example tagValue data is given below</p>\n<p>Name_TagsTable</p>\n<pre><code> uid |       name(String)|          tagValues(jsonb)\n-----+-------------------+-----------------------------\n   1 |     myName        |    { &quot;tags&quot;: [{&quot;key&quot;:&quot;key1&quot;,&quot;value&quot; : &quot;value1&quot;}, {&quot;key&quot;:&quot;key1&quot;,&quot;value&quot; : &quot;value2&quot;}, {&quot;key&quot;:&quot;key3&quot;,&quot;value&quot; : &quot;value3&quot;}, {&quot;key&quot;:&quot;key4&quot;,&quot;value&quot; : &quot;value4&quot;}] }                                      \n\n</code></pre>\n<p>I need a query that gives me names for which\nat least one of the tag in the tags list satisfy the condition\nkey = 'X' and value = 'Y'</p>\n<p>Help me with the query. I am using PSQL 10.0</p>\n"},{"tags":["java","spring","cloud","configserver"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1637932526,"post_id":70124956,"comment_id":123961349,"body_markdown":"Wild guess, you are loading the properties after the application has started, which is too late. The `@Value` stuff needs to be resolved very early on in the proces.","body":"Wild guess, you are loading the properties after the application has started, which is too late. The <code>@Value</code> stuff needs to be resolved very early on in the proces."},{"owner":{"account_id":478864,"reputation":1349,"user_id":891203,"accept_rate":80,"display_name":"devdanke"},"score":0,"creation_date":1638362187,"post_id":70124956,"comment_id":124066805,"body_markdown":"Hi lotto, It might be helpful to post the first ten lines of stack dump.  Also, please post the code of the of the property and annotation you think is causing the exception.  Good luck!","body":"Hi lotto, It might be helpful to post the first ten lines of stack dump.  Also, please post the code of the of the property and annotation you think is causing the exception.  Good luck!"}],"owner":{"account_id":23461875,"reputation":1,"user_id":17516623,"display_name":"lotto2552"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637932231,"creation_date":1637932231,"question_id":70124956,"body_markdown":"I am trying to use spring config server to load additional properties on my application.\r\nI would like to be able to use @Value annotation on field to load values from config server file but i don&#39;t know why it doesn&#39;t work. I am using version 1.2.0 of spring cloud config client and io.spring.platform-2.0.8 (becouse i have Spring MVC, not springboot here)\r\n\r\nException I am getting is just IllegalArgumentException and message is about placeholder that cannot be found. When i try to get this property via org.springframework.core.env.Environment.getProperty(propertyName) everything works fine and the value is simply recognized so i dunno why @Value doesn&#39;t work\r\n","title":"Use @Value annotation on field to have property value loaded by spring cloud config server doesn&#39;t work","body":"<p>I am trying to use spring config server to load additional properties on my application.\nI would like to be able to use @Value annotation on field to load values from config server file but i don't know why it doesn't work. I am using version 1.2.0 of spring cloud config client and io.spring.platform-2.0.8 (becouse i have Spring MVC, not springboot here)</p>\n<p>Exception I am getting is just IllegalArgumentException and message is about placeholder that cannot be found. When i try to get this property via org.springframework.core.env.Environment.getProperty(propertyName) everything works fine and the value is simply recognized so i dunno why @Value doesn't work</p>\n"},{"tags":["java","http","cookies"],"comments":[{"owner":{"account_id":51377,"reputation":6464,"user_id":153503,"display_name":"leonm"},"score":1,"creation_date":1269686984,"post_id":2528935,"comment_id":2527521,"body_markdown":"Ever thought of just switching to commons http client? http://hc.apache.org/httpclient-3.x/","body":"Ever thought of just switching to commons http client? <a href=\"http://hc.apache.org/httpclient-3.x/\" rel=\"nofollow noreferrer\">hc.apache.org/httpclient-3.x</a>"},{"owner":{"account_id":89551,"reputation":6751,"user_id":247003,"accept_rate":74,"display_name":"John"},"score":1,"creation_date":1269687415,"post_id":2528935,"comment_id":2527558,"body_markdown":"It looks like you&#39;re doing all this very manually. I don&#39;t know how you&#39;re managing the session expiry. If you had all your server code inside a servlet, it would be much easier. Is this an option?","body":"It looks like you&#39;re doing all this very manually. I don&#39;t know how you&#39;re managing the session expiry. If you had all your server code inside a servlet, it would be much easier. Is this an option?"}],"answers":[{"tags":[],"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"down_vote_count":1,"up_vote_count":7,"is_accepted":true,"score":6,"last_activity_date":1269692129,"creation_date":1269692129,"answer_id":2529208,"question_id":2528935,"body_markdown":"I&#39;m feeling a bit too lazy to debug your code, but you might consider letting a [CookieHandler][1] do the heavy lifting. Here&#39;s one I made earlier:\r\n\r\n    public class MyCookieHandler extends CookieHandler {\r\n      private final Map&lt;String, List&lt;String&gt;&gt; cookies = \r\n                                                new HashMap&lt;String, List&lt;String&gt;&gt;();\r\n    \r\n      @Override public Map&lt;String, List&lt;String&gt;&gt; get(URI uri,\r\n          Map&lt;String, List&lt;String&gt;&gt; requestHeaders) throws IOException {\r\n        Map&lt;String, List&lt;String&gt;&gt; ret = new HashMap&lt;String, List&lt;String&gt;&gt;();\r\n        synchronized (cookies) {\r\n          List&lt;String&gt; store = cookies.get(uri.getHost());\r\n          if (store != null) {\r\n            store = Collections.unmodifiableList(store);\r\n            ret.put(&quot;Cookie&quot;, store);\r\n          }\r\n        }\r\n        return Collections.unmodifiableMap(ret);\r\n      }\r\n    \r\n      @Override public void put(URI uri, Map&lt;String, List&lt;String&gt;&gt; responseHeaders)\r\n          throws IOException {\r\n        List&lt;String&gt; newCookies = responseHeaders.get(&quot;Set-Cookie&quot;);\r\n        if (newCookies != null) {\r\n          synchronized (cookies) {\r\n            List&lt;String&gt; store = cookies.get(uri.getHost());\r\n            if (store == null) {\r\n              store = new ArrayList&lt;String&gt;();\r\n              cookies.put(uri.getHost(), store);\r\n            }\r\n            store.addAll(newCookies);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\nThe `CookieHandler` assumes your cookie handling is global to the JVM; if you want per-thread client sessions or some other more complicated transaction handling, you may be better off sticking with your manual approach.\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/net/CookieHandler.html","title":"Sending cookie with HTTP request in Java","body":"<p>I'm feeling a bit too lazy to debug your code, but you might consider letting a <a href=\"http://java.sun.com/javase/6/docs/api/java/net/CookieHandler.html\" rel=\"noreferrer\">CookieHandler</a> do the heavy lifting. Here's one I made earlier:</p>\n\n<pre><code>public class MyCookieHandler extends CookieHandler {\n  private final Map&lt;String, List&lt;String&gt;&gt; cookies = \n                                            new HashMap&lt;String, List&lt;String&gt;&gt;();\n\n  @Override public Map&lt;String, List&lt;String&gt;&gt; get(URI uri,\n      Map&lt;String, List&lt;String&gt;&gt; requestHeaders) throws IOException {\n    Map&lt;String, List&lt;String&gt;&gt; ret = new HashMap&lt;String, List&lt;String&gt;&gt;();\n    synchronized (cookies) {\n      List&lt;String&gt; store = cookies.get(uri.getHost());\n      if (store != null) {\n        store = Collections.unmodifiableList(store);\n        ret.put(\"Cookie\", store);\n      }\n    }\n    return Collections.unmodifiableMap(ret);\n  }\n\n  @Override public void put(URI uri, Map&lt;String, List&lt;String&gt;&gt; responseHeaders)\n      throws IOException {\n    List&lt;String&gt; newCookies = responseHeaders.get(\"Set-Cookie\");\n    if (newCookies != null) {\n      synchronized (cookies) {\n        List&lt;String&gt; store = cookies.get(uri.getHost());\n        if (store == null) {\n          store = new ArrayList&lt;String&gt;();\n          cookies.put(uri.getHost(), store);\n        }\n        store.addAll(newCookies);\n      }\n    }\n  }\n}\n</code></pre>\n\n<p>The <code>CookieHandler</code> assumes your cookie handling is global to the JVM; if you want per-thread client sessions or some other more complicated transaction handling, you may be better off sticking with your manual approach.</p>\n"}],"owner":{"account_id":12258,"reputation":4701,"user_id":24046,"accept_rate":94,"display_name":"nkr1pt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37502,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":2529208,"answer_count":1,"score":5,"last_activity_date":1637931864,"creation_date":1269686507,"question_id":2528935,"body_markdown":"I&#39;m trying to get a certain cookie in a java client by creating a series of Http requests.\r\nIt looks like I&#39;m getting a valid cookie from the server but when I&#39;m sending out a request to the fnal url with the seemingly valid cookie I should get some lines of XML in the response but the response is blank because the cookie is wrong or is invalidated because a session has closed or an other problem which I can&#39;t figure out.\r\nThe cookie handed out by the server expires at the end of the session.\r\n\r\nIt seems to me the cookie is valid because when I do the same calls in Firefox, a similar cookie with the same name and starting with the 3 first same letters and of the same length is stored in firefox, also expiring at the end of the session.\r\nIf I then make a request to the final url with only this particular cookie stored in firefox (removed all other cookies), the xml is nicely rendered on the page.\r\n\r\nAny ideas about what I am doing wrong in this piece of code?\r\nOne other thing, when I use the value from the very similar cookie generated and stored in Firefox in this piece of code, the last request does give XML feedback in the HTTP response.\r\n\r\n\r\n    // Validate\r\n            url = new URL(URL_VALIDATE);\r\n            conn = (HttpURLConnection) url.openConnection();\r\n            conn.setRequestProperty(&quot;Cookie&quot;, cookie);\r\n            conn.connect();\r\n\r\n            String headerName = null;\r\n            for (int i = 1; (headerName = conn.getHeaderFieldKey(i)) != null; i++) {\r\n                if (headerName.equals(&quot;Set-Cookie&quot;)) {\r\n                    if (conn.getHeaderField(i).startsWith(&quot;JSESSIONID&quot;)) {\r\n                        cookie = conn.getHeaderField(i).substring(0, conn.getHeaderField(i).indexOf(&quot;;&quot;)).trim();\r\n                    }\r\n                }\r\n            }\r\n\r\n            // Get the XML\r\n            url = new URL(URL_XML_TOTALS);\r\n            conn = (HttpURLConnection) url.openConnection();\r\n            conn.setRequestProperty(&quot;Cookie&quot;, cookie);\r\n            conn.connect();\r\n\r\n            // Get the response\r\n            StringBuffer answer = new StringBuffer();\r\n            BufferedReader reader = new BufferedReader(new InputStreamReader(conn.getInputStream()));\r\n            String line;\r\n            while ((line = reader.readLine()) != null) {\r\n                answer.append(line);\r\n            }\r\n            reader.close();\r\n\r\n            //Output the response\r\n            System.out.println(answer.toString())","title":"Sending cookie with HTTP request in Java","body":"<p>I'm trying to get a certain cookie in a java client by creating a series of Http requests.\nIt looks like I'm getting a valid cookie from the server but when I'm sending out a request to the fnal url with the seemingly valid cookie I should get some lines of XML in the response but the response is blank because the cookie is wrong or is invalidated because a session has closed or an other problem which I can't figure out.\nThe cookie handed out by the server expires at the end of the session.</p>\n\n<p>It seems to me the cookie is valid because when I do the same calls in Firefox, a similar cookie with the same name and starting with the 3 first same letters and of the same length is stored in firefox, also expiring at the end of the session.\nIf I then make a request to the final url with only this particular cookie stored in firefox (removed all other cookies), the xml is nicely rendered on the page.</p>\n\n<p>Any ideas about what I am doing wrong in this piece of code?\nOne other thing, when I use the value from the very similar cookie generated and stored in Firefox in this piece of code, the last request does give XML feedback in the HTTP response.</p>\n\n<pre><code>// Validate\n        url = new URL(URL_VALIDATE);\n        conn = (HttpURLConnection) url.openConnection();\n        conn.setRequestProperty(\"Cookie\", cookie);\n        conn.connect();\n\n        String headerName = null;\n        for (int i = 1; (headerName = conn.getHeaderFieldKey(i)) != null; i++) {\n            if (headerName.equals(\"Set-Cookie\")) {\n                if (conn.getHeaderField(i).startsWith(\"JSESSIONID\")) {\n                    cookie = conn.getHeaderField(i).substring(0, conn.getHeaderField(i).indexOf(\";\")).trim();\n                }\n            }\n        }\n\n        // Get the XML\n        url = new URL(URL_XML_TOTALS);\n        conn = (HttpURLConnection) url.openConnection();\n        conn.setRequestProperty(\"Cookie\", cookie);\n        conn.connect();\n\n        // Get the response\n        StringBuffer answer = new StringBuffer();\n        BufferedReader reader = new BufferedReader(new InputStreamReader(conn.getInputStream()));\n        String line;\n        while ((line = reader.readLine()) != null) {\n            answer.append(line);\n        }\n        reader.close();\n\n        //Output the response\n        System.out.println(answer.toString())\n</code></pre>\n"},{"tags":["python","java","python-3.x","linux","ubuntu"],"comments":[{"owner":{"account_id":8002,"reputation":283793,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1637796672,"post_id":70104120,"comment_id":123924889,"body_markdown":"`&amp;` is not an argument you can pass on an argv vector. It&#39;s shell syntax. It&#39;s irrelevant when there is no shell, and there&#39;s no reason to use it here at all (the `subprocess` module doesn&#39;t do an implicit `wait()` on `Popen` object creation, which is the shell behavior that `&amp;` turns off; if you _wanted_ a `wait()`, you&#39;d typically use `subprocess.call()` or `subprocess.run()` instead of `subprocess.Popen()`).","body":"<code>&amp;</code> is not an argument you can pass on an argv vector. It&#39;s shell syntax. It&#39;s irrelevant when there is no shell, and there&#39;s no reason to use it here at all (the <code>subprocess</code> module doesn&#39;t do an implicit <code>wait()</code> on <code>Popen</code> object creation, which is the shell behavior that <code>&amp;</code> turns off; if you <i>wanted</i> a <code>wait()</code>, you&#39;d typically use <code>subprocess.call()</code> or <code>subprocess.run()</code> instead of <code>subprocess.Popen()</code>)."},{"owner":{"account_id":8002,"reputation":283793,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1637796781,"post_id":70104120,"comment_id":123924920,"body_markdown":"To get the same bug in an interactive shell that you get with the above Python, you can run `java -jar serverstarter-2.0.1.jar &#39;&amp;&#39;` -- the quotes around the `&amp;` make it a literal argument instead of syntax, so you can inspect what your program really does when passed that argument.","body":"To get the same bug in an interactive shell that you get with the above Python, you can run <code>java -jar serverstarter-2.0.1.jar &#39;&amp;&#39;</code> -- the quotes around the <code>&amp;</code> make it a literal argument instead of syntax, so you can inspect what your program really does when passed that argument."},{"owner":{"account_id":8002,"reputation":283793,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1637796942,"post_id":70104120,"comment_id":123924953,"body_markdown":"Also, there&#39;s no reason to do a `chmod` here. If you _did_ need it you could do it with native Python (using the `os` module), but you don&#39;t need it: `java -jar some.jar` doesn&#39;t need `some.jar` to be executable just as `python file.py` doesn&#39;t require `file.py` to be executable.","body":"Also, there&#39;s no reason to do a <code>chmod</code> here. If you <i>did</i> need it you could do it with native Python (using the <code>os</code> module), but you don&#39;t need it: <code>java -jar some.jar</code> doesn&#39;t need <code>some.jar</code> to be executable just as <code>python file.py</code> doesn&#39;t require <code>file.py</code> to be executable."},{"owner":{"account_id":8002,"reputation":283793,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1637797013,"post_id":70104120,"comment_id":123924964,"body_markdown":"BTW -- it would make this a stronger question if you described _how you know_ that `time.sleep()` isn&#39;t being run. If the real problem is something like the connection between your debugger and your Python code being disrupted, f/e, we need to know what debugger you&#39;re using to have a chance at diagnosing it. (That&#39;s actually not a completely random guess -- if your Java program is inheriting and sending data over the file descriptor used for communication between the IDE you&#39;re using and the program you&#39;re running, that&#39;s an easy way for the IDE to lose all ability to inspect the program).","body":"BTW -- it would make this a stronger question if you described <i>how you know</i> that <code>time.sleep()</code> isn&#39;t being run. If the real problem is something like the connection between your debugger and your Python code being disrupted, f/e, we need to know what debugger you&#39;re using to have a chance at diagnosing it. (That&#39;s actually not a completely random guess -- if your Java program is inheriting and sending data over the file descriptor used for communication between the IDE you&#39;re using and the program you&#39;re running, that&#39;s an easy way for the IDE to lose all ability to inspect the program)."},{"owner":{"account_id":8002,"reputation":283793,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1637797126,"post_id":70104120,"comment_id":123924984,"body_markdown":"...assuming that you _are_ using a debugger, one of the things I would do is to _stop_ using it, and switch to something simpler -- like `python -m trace yourscript.py` -- at least long enough to rule out problems with that debugger itself.","body":"...assuming that you <i>are</i> using a debugger, one of the things I would do is to <i>stop</i> using it, and switch to something simpler -- like <code>python -m trace yourscript.py</code> -- at least long enough to rule out problems with that debugger itself."},{"owner":{"account_id":8002,"reputation":283793,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1637797166,"post_id":70104120,"comment_id":123924992,"body_markdown":"Also, `stdout=subprocess.DEVNULL` is a bad idea while debugging -- you generally want as many details as you can get.","body":"Also, <code>stdout=subprocess.DEVNULL</code> is a bad idea while debugging -- you generally want as many details as you can get."},{"owner":{"account_id":23339164,"reputation":11,"user_id":17414302,"display_name":"zeroerrors0945"},"score":0,"creation_date":1637843879,"post_id":70104120,"comment_id":123937278,"body_markdown":"After adding a couple of `post_to_slack()` statements. Seems like I found out that the script is stalling after `time.sleep(180)`, having waited much more than 180 seconds, with a `post_to_slack()` statement before and after it. \n\nNow I am not exactly sure why this is the case.","body":"After adding a couple of <code>post_to_slack()</code> statements. Seems like I found out that the script is stalling after <code>time.sleep(180)</code>, having waited much more than 180 seconds, with a <code>post_to_slack()</code> statement before and after it.   Now I am not exactly sure why this is the case."},{"owner":{"account_id":8002,"reputation":283793,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1637846146,"post_id":70104120,"comment_id":123938187,"body_markdown":"Have you gone the `python -m trace` route yet? That said, you might keep an eye on your system load -- if the Java program is trying to use more RAM than you actually have, swapping pages to and from disk can keep things busy enough to prevent other processes from being scheduled in a timely manner.","body":"Have you gone the <code>python -m trace</code> route yet? That said, you might keep an eye on your system load -- if the Java program is trying to use more RAM than you actually have, swapping pages to and from disk can keep things busy enough to prevent other processes from being scheduled in a timely manner."},{"owner":{"account_id":8002,"reputation":283793,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1637849157,"post_id":70104120,"comment_id":123939422,"body_markdown":"(if the only way you have to monitor your service is through messages posted to Slack, you have bigger problems -- you can&#39;t tell if your program exited because the OOM killer killed it, or if it got an error rather than an exception, or if anything else outside the expected code flow happened. When debugging, you _really_ want hands-and-eyes on the execution environment; typically, that means being ssh&#39;d in).","body":"(if the only way you have to monitor your service is through messages posted to Slack, you have bigger problems -- you can&#39;t tell if your program exited because the OOM killer killed it, or if it got an error rather than an exception, or if anything else outside the expected code flow happened. When debugging, you <i>really</i> want hands-and-eyes on the execution environment; typically, that means being ssh&#39;d in)."}],"answers":[{"tags":[],"owner":{"account_id":12050463,"reputation":654,"user_id":8813647,"display_name":"Amogh Saxena - REXTER"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1637826184,"creation_date":1637826184,"answer_id":70107374,"question_id":70104120,"body_markdown":"If you on Linux, Type this on terminal:\r\n```\r\nps -ef | grep -i java\r\n```\r\nand check the process ID of your jar file and then kill it using pkill command.","title":"Unable To Kill Jar File Started with Python Subprocess","body":"<p>If you on Linux, Type this on terminal:</p>\n<pre><code>ps -ef | grep -i java\n</code></pre>\n<p>and check the process ID of your jar file and then kill it using pkill command.</p>\n"},{"tags":[],"owner":{"account_id":8340816,"reputation":4606,"user_id":6266192,"display_name":"Dudi Boy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637931766,"creation_date":1637931253,"answer_id":70124769,"question_id":70104120,"body_markdown":"Quote from kill method documentation:\r\n\r\nhttps://pythontic.com/multiprocessing/process/kill\r\n\r\n&gt; When invoked kill() uses SIGKILL and terminates the process.\r\n&gt; When SIGKILL is used, the process does not know it has been issued a &gt; SIGKILL. The process cannot do any cleanup. The process is killed \r\n&gt; immediately.Remember, though miniscule it takes a finite time to kill the process.\r\n\r\nNot all process respond to SIGKILL !!!!\r\n\r\nSuggesting to kill **ALL** processes having argument `serverstarter-2.0.1.jar` in the command. \r\n\r\n\r\nLike this:\r\n\r\n\r\n      pkill -9 -f &quot;serverstarter-2.0.1.jar&quot;\r\n\r\nIf cannot kill **ALL** processes having argument `serverstarter-2.0.1.jar` . You need to save the PID of the created process  after creation time and kill it.","title":"Unable To Kill Jar File Started with Python Subprocess","body":"<p>Quote from kill method documentation:</p>\n<p><a href=\"https://pythontic.com/multiprocessing/process/kill\" rel=\"nofollow noreferrer\">https://pythontic.com/multiprocessing/process/kill</a></p>\n<blockquote>\n<p>When invoked kill() uses SIGKILL and terminates the process.\nWhen SIGKILL is used, the process does not know it has been issued a &gt; SIGKILL. The process cannot do any cleanup. The process is killed\nimmediately.Remember, though miniscule it takes a finite time to kill the process.</p>\n</blockquote>\n<p>Not all process respond to SIGKILL !!!!</p>\n<p>Suggesting to kill <strong>ALL</strong> processes having argument <code>serverstarter-2.0.1.jar</code> in the command.</p>\n<p>Like this:</p>\n<pre><code>  pkill -9 -f &quot;serverstarter-2.0.1.jar&quot;\n</code></pre>\n<p>If cannot kill <strong>ALL</strong> processes having argument <code>serverstarter-2.0.1.jar</code> . You need to save the PID of the created process  after creation time and kill it.</p>\n"}],"owner":{"account_id":23339164,"reputation":11,"user_id":17414302,"display_name":"zeroerrors0945"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1637931766,"creation_date":1637796363,"question_id":70104120,"body_markdown":"I&#39;ve got a python script here which downloads a jar file from github, executes it, waits for 3 minutes and is supposed to kill the process. \r\n\r\nNote that this works perfectly fine on windows, but somehow the script is not doing what I need it to do on Ubuntu. The jar file indeed does what I need it to do, however after that, the python script does not continue. \r\n\r\nTo summarise, nothing after `p2 = subprocess.Popen([&quot;java&quot;, &quot;-jar&quot;, &quot;serverstarter-2.0.1.jar&quot;, &quot;&amp;&quot;], stdout=subprocess.DEVNULL)` gets run. Not even `time.sleep(180)`. \r\n\r\nSo what I am trying to figure out is why executing the jar file within the script seemingly &quot;stalls&quot; the script. \r\n\r\nNote that another python script calls this script in this way `subprocess.run([&quot;python3&quot;, p, &quot;&amp;&quot;], stdout=subprocess.DEVNULL)`.\r\n\r\nHere is the code: \r\n\r\n    wget.download(&quot;https://github.com/AllTheMods/alltheservers/releases/download/2.0.1/serverstarter-2.0.1.jar&quot;, bar=None)\r\n    \r\n    p1 = subprocess.run([&quot;chmod&quot;, &quot;+x&quot;, &quot;serverstarter-2.0.1.jar&quot;], stdout=subprocess.DEVNULL)\r\n    \r\n    p2 = subprocess.Popen([&quot;java&quot;, &quot;-jar&quot;, &quot;serverstarter-2.0.1.jar&quot;, &quot;&amp;&quot;], stdout=subprocess.DEVNULL)\r\n    time.sleep(180)\r\n    p2.kill()\r\n    \r\n    try:\r\n        log_files = glob(src + &quot;**/*.log&quot;)\r\n        for files in map(str, log_files):\r\n            os.remove(files)\r\n    \r\n        zip_files = glob(src + &quot;**/*.zip&quot;)\r\n        for files in map(str, zip_files):\r\n            os.remove(files)\r\n    \r\n        startserver_files = glob(src + &quot;**/startserver.*&quot;)\r\n        for files in map(str, startserver_files):\r\n            os.remove(files)\r\n    \r\n        serverstarter_files = glob(src + &quot;**/serverstarter*.*&quot;)\r\n        for files in map(str, serverstarter_files):\r\n            os.remove(files)\r\n    \r\n        files_to_move = glob(src + &quot;**/*&quot;)\r\n        for files in map(str, files_to_move):\r\n            shutil.move(files, dest)\r\n    \r\n        time.sleep(20)\r\n    \r\n        forge_jar_file = glob(dest + &quot;forge-*.jar&quot;)\r\n        for files in map(str, forge_jar_file):\r\n            print(files)\r\n        os.rename(files, &quot;{}{}&quot;.format(dest, &quot;atm6.jar&quot;))\r\n    \r\n    except Exception as e:\r\n            post_to_slack(f&quot;Error occured in {os.path.basename(__file__)}! {e}&quot;)\r\n    \r\n    quit()","title":"Unable To Kill Jar File Started with Python Subprocess","body":"<p>I've got a python script here which downloads a jar file from github, executes it, waits for 3 minutes and is supposed to kill the process.</p>\n<p>Note that this works perfectly fine on windows, but somehow the script is not doing what I need it to do on Ubuntu. The jar file indeed does what I need it to do, however after that, the python script does not continue.</p>\n<p>To summarise, nothing after <code>p2 = subprocess.Popen([&quot;java&quot;, &quot;-jar&quot;, &quot;serverstarter-2.0.1.jar&quot;, &quot;&amp;&quot;], stdout=subprocess.DEVNULL)</code> gets run. Not even <code>time.sleep(180)</code>.</p>\n<p>So what I am trying to figure out is why executing the jar file within the script seemingly &quot;stalls&quot; the script.</p>\n<p>Note that another python script calls this script in this way <code>subprocess.run([&quot;python3&quot;, p, &quot;&amp;&quot;], stdout=subprocess.DEVNULL)</code>.</p>\n<p>Here is the code:</p>\n<pre><code>wget.download(&quot;https://github.com/AllTheMods/alltheservers/releases/download/2.0.1/serverstarter-2.0.1.jar&quot;, bar=None)\n\np1 = subprocess.run([&quot;chmod&quot;, &quot;+x&quot;, &quot;serverstarter-2.0.1.jar&quot;], stdout=subprocess.DEVNULL)\n\np2 = subprocess.Popen([&quot;java&quot;, &quot;-jar&quot;, &quot;serverstarter-2.0.1.jar&quot;, &quot;&amp;&quot;], stdout=subprocess.DEVNULL)\ntime.sleep(180)\np2.kill()\n\ntry:\n    log_files = glob(src + &quot;**/*.log&quot;)\n    for files in map(str, log_files):\n        os.remove(files)\n\n    zip_files = glob(src + &quot;**/*.zip&quot;)\n    for files in map(str, zip_files):\n        os.remove(files)\n\n    startserver_files = glob(src + &quot;**/startserver.*&quot;)\n    for files in map(str, startserver_files):\n        os.remove(files)\n\n    serverstarter_files = glob(src + &quot;**/serverstarter*.*&quot;)\n    for files in map(str, serverstarter_files):\n        os.remove(files)\n\n    files_to_move = glob(src + &quot;**/*&quot;)\n    for files in map(str, files_to_move):\n        shutil.move(files, dest)\n\n    time.sleep(20)\n\n    forge_jar_file = glob(dest + &quot;forge-*.jar&quot;)\n    for files in map(str, forge_jar_file):\n        print(files)\n    os.rename(files, &quot;{}{}&quot;.format(dest, &quot;atm6.jar&quot;))\n\nexcept Exception as e:\n        post_to_slack(f&quot;Error occured in {os.path.basename(__file__)}! {e}&quot;)\n\nquit()\n</code></pre>\n"},{"tags":["java","spring","rest"],"answers":[{"tags":[],"owner":{"account_id":277326,"reputation":919,"user_id":2182920,"display_name":"prost&#253; člověk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637929066,"creation_date":1637929066,"answer_id":70124298,"question_id":70124126,"body_markdown":"Basically you are working with 2 files (PDF and image), you receive PDF from one location and convert into to image and display the image in the JSP, there is mechanism called CDN, now a days cloud providers offers free image hosting with limited features such as AWS, Azure, GCP.  For instance, check the below from AWS, and you can refer the path in your JSP. \r\n\r\nThis could be public with control panel settings.\r\n\r\nhttps://aws.amazon.com/s3/\r\n\r\n\r\n  [1]: https://aws.amazon.com/s3/","title":"How to return and display multiple images?","body":"<p>Basically you are working with 2 files (PDF and image), you receive PDF from one location and convert into to image and display the image in the JSP, there is mechanism called CDN, now a days cloud providers offers free image hosting with limited features such as AWS, Azure, GCP.  For instance, check the below from AWS, and you can refer the path in your JSP.</p>\n<p>This could be public with control panel settings.</p>\n<p><a href=\"https://aws.amazon.com/s3/\" rel=\"nofollow noreferrer\">https://aws.amazon.com/s3/</a></p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637930662,"creation_date":1637930662,"answer_id":70124635,"question_id":70124126,"body_markdown":"The best way is to return a page part (in some form) having a links for every page image).\r\n\r\n1. In your controller load the PDF and retrieve the number of pages\r\n2. Return the HTML with links to every page, invoking a next service\r\n\r\n3. When asked for a page, create the page image if not already created\r\n4. Return the page image\r\n\r\nThe presentation of those links, could be with `&lt; 1 2 3 ... &gt;` or whatever.\r\n\r\nThis probably requires some administration (PDF, images). It is likely there are some basic Spring examples.\r\n\r\nYou could optimize the process by job in the background / asynchrone preloading of the next page.","title":"How to return and display multiple images?","body":"<p>The best way is to return a page part (in some form) having a links for every page image).</p>\n<ol>\n<li><p>In your controller load the PDF and retrieve the number of pages</p>\n</li>\n<li><p>Return the HTML with links to every page, invoking a next service</p>\n</li>\n<li><p>When asked for a page, create the page image if not already created</p>\n</li>\n<li><p>Return the page image</p>\n</li>\n</ol>\n<p>The presentation of those links, could be with <code>&lt; 1 2 3 ... &gt;</code> or whatever.</p>\n<p>This probably requires some administration (PDF, images). It is likely there are some basic Spring examples.</p>\n<p>You could optimize the process by job in the background / asynchrone preloading of the next page.</p>\n"}],"owner":{"account_id":2844102,"reputation":946,"user_id":2442991,"accept_rate":49,"display_name":"algiogia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":451,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1637931658,"creation_date":1637928260,"question_id":70124126,"body_markdown":"I have a Spring Controller that converts PDFs into images (one for each page) and I need to display the images in a JSP.\r\n\r\nInitially I thought of sending the images back as Base64 encoded strings, but I read a few posts advising against. So I tried to store the images as a temp file and send back to the JSP just the path to the files, but turns out it&#39;s not public.\r\n\r\nAs a temporary solution I am pointing the images&#39; src to another REST method that retrieves the image and prints the content, however I would like to reduce the number of calls and have a single method that prints/returns all the images.\r\n\r\n","title":"How to return and display multiple images?","body":"<p>I have a Spring Controller that converts PDFs into images (one for each page) and I need to display the images in a JSP.</p>\n<p>Initially I thought of sending the images back as Base64 encoded strings, but I read a few posts advising against. So I tried to store the images as a temp file and send back to the JSP just the path to the files, but turns out it's not public.</p>\n<p>As a temporary solution I am pointing the images' src to another REST method that retrieves the image and prints the content, however I would like to reduce the number of calls and have a single method that prints/returns all the images.</p>\n"},{"tags":["java","servlets","servlet-filters","weblogic11g","oracle-enterprise-manager"],"comments":[{"owner":{"account_id":4342327,"reputation":145474,"user_id":3545273,"accept_rate":100,"display_name":"Serge Ballesta"},"score":0,"creation_date":1400622039,"post_id":23768735,"comment_id":36553490,"body_markdown":"Did you add some log messages to ensure it cannot be a side effect of `isSessionControlRequiredForThisResource` returning false ?","body":"Did you add some log messages to ensure it cannot be a side effect of <code>isSessionControlRequiredForThisResource</code> returning false ?"},{"owner":{"account_id":2267417,"reputation":567,"user_id":1995681,"display_name":"Vadim"},"score":1,"creation_date":1400626410,"post_id":23768735,"comment_id":36555042,"body_markdown":"Maybe you make a cross domain request in the second case? (it&#39;s not clear from the code) I&#39;m not sure but that might be the reason why the parameters are null (see [link](http://stackoverflow.com/questions/11423682/cross-domain-form-posting))","body":"Maybe you make a cross domain request in the second case? (it&#39;s not clear from the code) I&#39;m not sure but that might be the reason why the parameters are null (see <a href=\"http://stackoverflow.com/questions/11423682/cross-domain-form-posting\">link</a>)"},{"owner":{"account_id":1161408,"reputation":8140,"user_id":1358722,"accept_rate":89,"display_name":"GingerHead"},"score":0,"creation_date":1400646542,"post_id":23768735,"comment_id":36559757,"body_markdown":"@SergeBallesta how can it be a side effect of isSessionControlRequiredForThisResource ?","body":"@SergeBallesta how can it be a side effect of isSessionControlRequiredForThisResource ?"},{"owner":{"account_id":1161408,"reputation":8140,"user_id":1358722,"accept_rate":89,"display_name":"GingerHead"},"score":0,"creation_date":1400646581,"post_id":23768735,"comment_id":36559766,"body_markdown":"@Den what do you mean by make a cross domain request?","body":"@Den what do you mean by make a cross domain request?"},{"owner":{"account_id":4342327,"reputation":145474,"user_id":3545273,"accept_rate":100,"display_name":"Serge Ballesta"},"score":0,"creation_date":1400673376,"post_id":23768735,"comment_id":36575151,"body_markdown":"@GingerHead If `isSessioncontrolrequiredforthisresource` retiens fasse your code is never called and your session param&#233;trer romains null.","body":"@GingerHead If <code>isSessioncontrolrequiredforthisresource</code> retiens fasse your code is never called and your session param&#233;trer romains null."}],"answers":[{"tags":[],"owner":{"account_id":1161408,"reputation":8140,"user_id":1358722,"accept_rate":89,"display_name":"GingerHead"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1400934367,"creation_date":1400934367,"answer_id":23844999,"question_id":23768735,"body_markdown":"The problem was that, the server was expecting **https** calls and not **http**.\r\n\r\nSo when I changed my calling protocol to **https** it started to gather the request parameters like a charm!","title":"httpServletRequest.getParameter returns null","body":"<p>The problem was that, the server was expecting <strong>https</strong> calls and not <strong>http</strong>.</p>\n\n<p>So when I changed my calling protocol to <strong>https</strong> it started to gather the request parameters like a charm!</p>\n"},{"tags":[],"owner":{"account_id":22335295,"reputation":9,"user_id":16555987,"display_name":"Juliano Soder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637931650,"creation_date":1637931650,"answer_id":70124847,"question_id":23768735,"body_markdown":"     @PostMapping(&quot;/cookies&quot;)\r\n    func(HttpServletRequest request) {\r\n\r\n    \t\tCookie[] cookies = request.getCookies();\r\n    \t\t\r\n    \t\t if (cookies != null) {\r\n                //ive goten always null\r\n             }\r\n\r\n       }\r\nThe error above its the &quot;PostMapping(&quot;/cookies&quot;)&quot; changed it to &quot;GetMapping(&quot;/cookies&quot;)&quot; everything starts to work.\r\nIts `cause the func cant read the cookies in a post hhtp request without any body present, if yre not seending any data to the back-end than use get method insted.","title":"httpServletRequest.getParameter returns null","body":"<pre><code> @PostMapping(&quot;/cookies&quot;)\nfunc(HttpServletRequest request) {\n\n        Cookie[] cookies = request.getCookies();\n        \n         if (cookies != null) {\n            //ive goten always null\n         }\n\n   }\n</code></pre>\n<p>The error above its the &quot;PostMapping(&quot;/cookies&quot;)&quot; changed it to &quot;GetMapping(&quot;/cookies&quot;)&quot; everything starts to work.\nIts `cause the func cant read the cookies in a post hhtp request without any body present, if yre not seending any data to the back-end than use get method insted.</p>\n"}],"owner":{"account_id":1161408,"reputation":8140,"user_id":1358722,"accept_rate":89,"display_name":"GingerHead"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10162,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":23844999,"answer_count":2,"score":3,"last_activity_date":1637931650,"creation_date":1400615699,"question_id":23768735,"body_markdown":"I have two servers one (local) and the other (remote calling through vpn).  \r\n\r\nOn both, the same application is deployed.\r\n\r\nI stop the vpn to call the local one, so no interference between them.\r\n\r\nI am trying to get the param in the servletFilter in doFilter method.  \r\n\r\nThe local is on my pc :     weblogic server 11g   \r\nThe remote is through vpn:  weblogic enterprise manager    \r\n\r\nIn the first case httpServletRequest.getParameter returns the expected value of a post request.\r\n\r\nIn the second gets null.\r\n\r\nI am sending to the following url:\r\n\r\n    http://mydomain/myapp/faces/login-return.jspx\r\n\r\nthe html form that sends the rquest:\r\n\r\n    &lt;html&gt;\r\n    \t\r\n        &lt;body&gt;\r\n    \t\t  &lt;form  action=&quot;https://mydomain/myapp/faces/login-return.jspx&quot;  method=&quot;post&quot;&gt;\r\n    \t\t\t&lt;input type=&quot;hidden&quot; name=&quot;param1&quot; value=&quot;value1&quot;  /&gt;\r\n    \t\t\t&lt;input type=&quot;hidden&quot; name=&quot;param2&quot; value=&quot;value2&quot;  /&gt;\r\n    \t\t\t&lt;input type=&quot;submit&quot; name=&quot;submit&quot; value=&quot;Send to server&quot; /&gt;\r\n    \t\t&lt;/form&gt;\r\n    \t&lt;/body&gt;\r\n    &lt;/html&gt; \r\n\r\nThe code in my servlet filter:\r\n\r\n        if (isSessionControlRequiredForThisResource(httpServletRequest, getLoginPage())) {\r\n            \r\n            if(httpServletRequest.getParameter(&quot;param1&quot;) != null) {\r\n                httpServletRequest.getSession().setAttribute(&quot;param1&quot;, httpServletRequest.getParameter(&quot;param1&quot;));\r\n                \r\n            }\r\n\r\nany help would be approciated\r\n","title":"httpServletRequest.getParameter returns null","body":"<p>I have two servers one (local) and the other (remote calling through vpn).  </p>\n\n<p>On both, the same application is deployed.</p>\n\n<p>I stop the vpn to call the local one, so no interference between them.</p>\n\n<p>I am trying to get the param in the servletFilter in doFilter method.  </p>\n\n<p>The local is on my pc :     weblogic server 11g<br>\nThe remote is through vpn:  weblogic enterprise manager    </p>\n\n<p>In the first case httpServletRequest.getParameter returns the expected value of a post request.</p>\n\n<p>In the second gets null.</p>\n\n<p>I am sending to the following url:</p>\n\n<pre><code>http://mydomain/myapp/faces/login-return.jspx\n</code></pre>\n\n<p>the html form that sends the rquest:</p>\n\n<pre><code>&lt;html&gt;\n\n    &lt;body&gt;\n          &lt;form  action=\"https://mydomain/myapp/faces/login-return.jspx\"  method=\"post\"&gt;\n            &lt;input type=\"hidden\" name=\"param1\" value=\"value1\"  /&gt;\n            &lt;input type=\"hidden\" name=\"param2\" value=\"value2\"  /&gt;\n            &lt;input type=\"submit\" name=\"submit\" value=\"Send to server\" /&gt;\n        &lt;/form&gt;\n    &lt;/body&gt;\n&lt;/html&gt; \n</code></pre>\n\n<p>The code in my servlet filter:</p>\n\n<pre><code>    if (isSessionControlRequiredForThisResource(httpServletRequest, getLoginPage())) {\n\n        if(httpServletRequest.getParameter(\"param1\") != null) {\n            httpServletRequest.getSession().setAttribute(\"param1\", httpServletRequest.getParameter(\"param1\"));\n\n        }\n</code></pre>\n\n<p>any help would be approciated</p>\n"},{"tags":["java","sftp","sshj"],"comments":[{"owner":{"account_id":1809323,"reputation":11348,"user_id":1645712,"accept_rate":73,"display_name":"gusto2"},"score":0,"creation_date":1633347122,"post_id":69434833,"comment_id":122727000,"body_markdown":"Are you able to put/send content as a stream? In that case you can read / write the content through a byte buffer and stream it through","body":"Are you able to put/send content as a stream? In that case you can read / write the content through a byte buffer and stream it through"}],"answers":[{"tags":[],"owner":{"account_id":3590209,"reputation":1021,"user_id":2996452,"accept_rate":62,"display_name":"Jokkeri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637918264,"creation_date":1637917837,"answer_id":70121932,"question_id":69434833,"body_markdown":"Try this:\r\n\r\n    final String src = &quot;\\\\\\\\100.xx.24.55\\\\SFTPData\\\\file.txt&quot;;\r\n\r\nThis is equivalent of you open file explorer with `\\\\100.xx.24.55\\SFTPData\\file.txt`\r\n\r\nOf course this requires that your Windows login account has sufficient rights to read the file from shared folder.\r\n\r\nIf you need to give different credentials than your Windows login credentials, you may give it a try to &quot;map network drive using different credentials&quot; and then refer with selected drive letter in your code, eg. `X:\\\\SFTPData\\\\file.txt`\r\n\r\nThird option would be to use an SMB Java library, eg. SMBJ, to connect to a shared folder and read the file.","title":"File transfer using SFTP from another server","body":"<p>Try this:</p>\n<pre><code>final String src = &quot;\\\\\\\\100.xx.24.55\\\\SFTPData\\\\file.txt&quot;;\n</code></pre>\n<p>This is equivalent of you open file explorer with <code>\\\\100.xx.24.55\\SFTPData\\file.txt</code></p>\n<p>Of course this requires that your Windows login account has sufficient rights to read the file from shared folder.</p>\n<p>If you need to give different credentials than your Windows login credentials, you may give it a try to &quot;map network drive using different credentials&quot; and then refer with selected drive letter in your code, eg. <code>X:\\\\SFTPData\\\\file.txt</code></p>\n<p>Third option would be to use an SMB Java library, eg. SMBJ, to connect to a shared folder and read the file.</p>\n"}],"owner":{"account_id":4602377,"reputation":2179,"user_id":3766129,"accept_rate":38,"display_name":"MMMMS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":550,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637931482,"creation_date":1633345101,"question_id":69434833,"body_markdown":"I can able to upload local system file to SFTP client using below code,\r\n\r\n    \t\ttry {\r\n    \t\t\tfinal SSHClient ssh = new SSHClient();\r\n    \t\t\tssh.addHostKeyVerifier(new PromiscuousVerifier());\r\n    \t\t\tssh.connect(&quot;100.XX.XX.XX&quot;);\r\n    \t\t\tssh.authPassword(&quot;username&quot;, &quot;password&quot;);\r\n    //        ssh.authPublickey(null, arg);\r\n    \t\t\tfinal String src = &quot;C:\\\\LocalFolder\\\\SFTPData\\\\file.txt&quot;;\r\n    \t\t\tFile localFile = new File(src);\r\n    \t\t\tSystem.out.println(localFile.getName());\r\n    \t\t\tSFTPClient sftp = ssh.newSFTPClient();\r\n    \r\n    \t\t\tsftp.put(localFile.getAbsolutePath(), &quot;/home/user/test&quot;);\r\n    \t\t} catch (Exception e) {\r\n    \t\t}\r\n\r\nBut the problem is, I need to transfer file from windows network shared path which requires username, password(\\\\100.xx.24.55\\\\SFTPData\\\\file.txt).\r\n\r\nHow do we achieve this?\r\n","title":"File transfer using SFTP from another server","body":"<p>I can able to upload local system file to SFTP client using below code,</p>\n<pre><code>        try {\n            final SSHClient ssh = new SSHClient();\n            ssh.addHostKeyVerifier(new PromiscuousVerifier());\n            ssh.connect(&quot;100.XX.XX.XX&quot;);\n            ssh.authPassword(&quot;username&quot;, &quot;password&quot;);\n//        ssh.authPublickey(null, arg);\n            final String src = &quot;C:\\\\LocalFolder\\\\SFTPData\\\\file.txt&quot;;\n            File localFile = new File(src);\n            System.out.println(localFile.getName());\n            SFTPClient sftp = ssh.newSFTPClient();\n\n            sftp.put(localFile.getAbsolutePath(), &quot;/home/user/test&quot;);\n        } catch (Exception e) {\n        }\n</code></pre>\n<p>But the problem is, I need to transfer file from windows network shared path which requires username, password(\\100.xx.24.55\\SFTPData\\file.txt).</p>\n<p>How do we achieve this?</p>\n"},{"tags":["java","java-8","java-stream","grouping","collectors"],"comments":[{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":2,"creation_date":1547814951,"post_id":54254064,"comment_id":95332128,"body_markdown":"Just as a side note, `groupingBy()` does group the values into a `List` by default so `toList()` may be omitted","body":"Just as a side note, <code>groupingBy()</code> does group the values into a <code>List</code> by default so <code>toList()</code> may be omitted"},{"owner":{"account_id":1047596,"reputation":9325,"user_id":1052284,"accept_rate":44,"display_name":"Mark Jeronimus"},"score":1,"creation_date":1547815027,"post_id":54254064,"comment_id":95332158,"body_markdown":"The idea of using streams is to make code more readable, more self-explanatory (at the cost of performance), or massively parallelizable without boilerplate code. It&#39;s not a modern one-solution-fits-all replacement of the old ways. The code you provided is cryptic at best. I suggest using a classic for-loop which is much cleaner in this case.","body":"The idea of using streams is to make code more readable, more self-explanatory (at the cost of performance), or massively parallelizable without boilerplate code. It&#39;s not a modern one-solution-fits-all replacement of the old ways. The code you provided is cryptic at best. I suggest using a classic for-loop which is much cleaner in this case."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1547816000,"post_id":54254064,"comment_id":95332647,"body_markdown":"@Lino You&#39;re right. I removed it.","body":"@Lino You&#39;re right. I removed it."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1547816291,"post_id":54254064,"comment_id":95332807,"body_markdown":"@MarkJeronimus That&#39;s right, that&#39;s why I&#39;m not satisfied with my current solution and looking for an elegant way to achieve just the same result—if it exists. Otherwise I will gladly revert to the classic loop.","body":"@MarkJeronimus That&#39;s right, that&#39;s why I&#39;m not satisfied with my current solution and looking for an elegant way to achieve just the same result—if it exists. Otherwise I will gladly revert to the classic loop."}],"answers":[{"tags":[],"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1547817512,"creation_date":1547815135,"answer_id":54254225,"question_id":54254064,"body_markdown":"### Solution-1\r\nJust merging the two steps into one:\r\n\r\n    List&lt;DistGroup&gt; distGroups = bumperCars.stream()\r\n            .collect(Collectors.groupingBy(t -&gt; new SizeColorCombination(t.getSize(), t.getColor())))\r\n            .entrySet().stream()\r\n            .map(t -&gt; {\r\n                DistGroup d = new DistGroup(t.getKey().getSize(), t.getKey().getColor());\r\n                d.addCarCodes(t.getValue().stream().map(BumperCar::getCarCode).collect(Collectors.toList()));\r\n                return d;\r\n            })\r\n            .collect(Collectors.toList());\r\n\r\n### Solution-2\r\n\r\nYour intermediate variable would be much better if you could use `groupingBy` twice using both the attributes and map the values as `List` of  codes, something like:\r\n\r\n    Map&lt;Integer, Map&lt;String, List&lt;String&gt;&gt;&gt; sizeGroupedData = bumperCars.stream()\r\n            .collect(Collectors.groupingBy(BumperCar::getSize,\r\n                    Collectors.groupingBy(BumperCar::getColor,\r\n                            Collectors.mapping(BumperCar::getCarCode, Collectors.toList()))));\r\n\r\nand simply use `forEach` to add to the final list as:\r\n\r\n    List&lt;DistGroup&gt; distGroups = new ArrayList&lt;&gt;();\r\n    sizeGroupedData.forEach((size, colorGrouped) -&gt;\r\n            colorGrouped.forEach((color, carCodes) -&gt; distGroups.add(new DistGroup(size, color, carCodes))));\r\n\r\n*Note*: I&#39;ve updated your constructor such that it accepts the card codes list.\r\n\r\n    DistGroup(int size, String color, List&lt;String&gt; carCodes) {\r\n        this.size = size;\r\n        this.color = color;\r\n        addCarCodes(carCodes);\r\n    }\r\n\r\nFurther combining the second solution into one complete statement(though I would myself favor the `forEach` honestly):\r\n\r\n    List&lt;DistGroup&gt; distGroups = bumperCars.stream()\r\n            .collect(Collectors.groupingBy(BumperCar::getSize,\r\n                    Collectors.groupingBy(BumperCar::getColor,\r\n                            Collectors.mapping(BumperCar::getCarCode, Collectors.toList()))))\r\n            .entrySet()\r\n            .stream()\r\n            .flatMap(a -&gt; a.getValue().entrySet()\r\n                    .stream().map(b -&gt; new DistGroup(a.getKey(), b.getKey(), b.getValue())))\r\n            .collect(Collectors.toList());","title":"How to groupBy object properties and map to another object using Java 8 Streams?","body":"<h3>Solution-1</h3>\n\n<p>Just merging the two steps into one:</p>\n\n<pre><code>List&lt;DistGroup&gt; distGroups = bumperCars.stream()\n        .collect(Collectors.groupingBy(t -&gt; new SizeColorCombination(t.getSize(), t.getColor())))\n        .entrySet().stream()\n        .map(t -&gt; {\n            DistGroup d = new DistGroup(t.getKey().getSize(), t.getKey().getColor());\n            d.addCarCodes(t.getValue().stream().map(BumperCar::getCarCode).collect(Collectors.toList()));\n            return d;\n        })\n        .collect(Collectors.toList());\n</code></pre>\n\n<h3>Solution-2</h3>\n\n<p>Your intermediate variable would be much better if you could use <code>groupingBy</code> twice using both the attributes and map the values as <code>List</code> of  codes, something like:</p>\n\n<pre><code>Map&lt;Integer, Map&lt;String, List&lt;String&gt;&gt;&gt; sizeGroupedData = bumperCars.stream()\n        .collect(Collectors.groupingBy(BumperCar::getSize,\n                Collectors.groupingBy(BumperCar::getColor,\n                        Collectors.mapping(BumperCar::getCarCode, Collectors.toList()))));\n</code></pre>\n\n<p>and simply use <code>forEach</code> to add to the final list as:</p>\n\n<pre><code>List&lt;DistGroup&gt; distGroups = new ArrayList&lt;&gt;();\nsizeGroupedData.forEach((size, colorGrouped) -&gt;\n        colorGrouped.forEach((color, carCodes) -&gt; distGroups.add(new DistGroup(size, color, carCodes))));\n</code></pre>\n\n<p><em>Note</em>: I've updated your constructor such that it accepts the card codes list.</p>\n\n<pre><code>DistGroup(int size, String color, List&lt;String&gt; carCodes) {\n    this.size = size;\n    this.color = color;\n    addCarCodes(carCodes);\n}\n</code></pre>\n\n<p>Further combining the second solution into one complete statement(though I would myself favor the <code>forEach</code> honestly):</p>\n\n<pre><code>List&lt;DistGroup&gt; distGroups = bumperCars.stream()\n        .collect(Collectors.groupingBy(BumperCar::getSize,\n                Collectors.groupingBy(BumperCar::getColor,\n                        Collectors.mapping(BumperCar::getCarCode, Collectors.toList()))))\n        .entrySet()\n        .stream()\n        .flatMap(a -&gt; a.getValue().entrySet()\n                .stream().map(b -&gt; new DistGroup(a.getKey(), b.getKey(), b.getValue())))\n        .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1547816681,"creation_date":1547816182,"answer_id":54254480,"question_id":54254064,"body_markdown":"If we assume that `DistGroup` has `hashCode/equals` based on `size` and `color`, you could do it like this:     \r\n\r\n    bumperCars\r\n        .stream()\r\n        .map(x -&gt; {\r\n            List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n            list.add(x.getCarCode());\r\n            return new SimpleEntry&lt;&gt;(x, list);\r\n        })\r\n        .map(x -&gt; new DistGroup(x.getKey().getSize(), x.getKey().getColor(), x.getValue()))\r\n        .collect(Collectors.toMap(\r\n            Function.identity(),\r\n            Function.identity(),\r\n            (left, right) -&gt; {\r\n                left.getCarCodes().addAll(right.getCarCodes());\r\n                return left;\r\n            }))\r\n        .values(); // Collection&lt;DistGroup&gt;","title":"How to groupBy object properties and map to another object using Java 8 Streams?","body":"<p>If we assume that <code>DistGroup</code> has <code>hashCode/equals</code> based on <code>size</code> and <code>color</code>, you could do it like this:     </p>\n\n<pre><code>bumperCars\n    .stream()\n    .map(x -&gt; {\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\n        list.add(x.getCarCode());\n        return new SimpleEntry&lt;&gt;(x, list);\n    })\n    .map(x -&gt; new DistGroup(x.getKey().getSize(), x.getKey().getColor(), x.getValue()))\n    .collect(Collectors.toMap(\n        Function.identity(),\n        Function.identity(),\n        (left, right) -&gt; {\n            left.getCarCodes().addAll(right.getCarCodes());\n            return left;\n        }))\n    .values(); // Collection&lt;DistGroup&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5962474,"reputation":1635,"user_id":4687221,"accept_rate":91,"display_name":"SEY_91"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547823628,"creation_date":1547823628,"answer_id":54256519,"question_id":54254064,"body_markdown":"You can collect by by using `BiConsumer` that take `(HashMap&lt;SizeColorCombination, DistGroup&gt; res, BumperCar bc)` as parameters\r\n\r\n    Collection&lt;DistGroup&gt; values = bumperCars.stream()\r\n            .collect(HashMap::new, (HashMap&lt;SizeColorCombination, DistGroup&gt; res, BumperCar bc) -&gt; {\r\n    \t\t\t\tSizeColorCombination dg = new SizeColorCombination(bc.color, bc.size);\r\n    \t\t\t\tDistGroup distGroup = res.get(dg);\r\n    \t\t\t\tif(distGroup != null) {\r\n    \t\t\t\t\tdistGroup.addCarCode(bc.carCode);\r\n    \t\t\t\t}else {\r\n    \t\t\t\t\tList&lt;String&gt; codes = new ArrayList();\r\n    \t\t\t\t\tdistGroup = new DistGroup(bc.size, bc.color, codes);\r\n    \t\t\t\t\tres.put(dg, distGroup);\r\n    \t\t\t\t}\r\n    \t\t\t\t},HashMap::putAll).values();","title":"How to groupBy object properties and map to another object using Java 8 Streams?","body":"<p>You can collect by by using <code>BiConsumer</code> that take <code>(HashMap&lt;SizeColorCombination, DistGroup&gt; res, BumperCar bc)</code> as parameters</p>\n\n<pre><code>Collection&lt;DistGroup&gt; values = bumperCars.stream()\n        .collect(HashMap::new, (HashMap&lt;SizeColorCombination, DistGroup&gt; res, BumperCar bc) -&gt; {\n                SizeColorCombination dg = new SizeColorCombination(bc.color, bc.size);\n                DistGroup distGroup = res.get(dg);\n                if(distGroup != null) {\n                    distGroup.addCarCode(bc.carCode);\n                }else {\n                    List&lt;String&gt; codes = new ArrayList();\n                    distGroup = new DistGroup(bc.size, bc.color, codes);\n                    res.put(dg, distGroup);\n                }\n                },HashMap::putAll).values();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11339627,"reputation":619,"user_id":8314175,"display_name":"123-xyz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548173509,"creation_date":1547875860,"answer_id":54264343,"question_id":54254064,"body_markdown":"Check out my library [AbacusUtil][1]:\r\n\r\n\r\n    StreamEx.of(bumperCars)\r\n             .groupBy(c -&gt; Tuple.of(c.getSize(), c.getColor()), BumperCar::getCarCode)\r\n             .map(e -&gt; new DistGroup(e.getKey()._1, e.getKey()._2, e.getValue())\r\n             .toList();\r\n\r\n\r\n  [1]: https://github.com/landawn/AbacusUtil","title":"How to groupBy object properties and map to another object using Java 8 Streams?","body":"<p>Check out my library <a href=\"https://github.com/landawn/AbacusUtil\" rel=\"nofollow noreferrer\">AbacusUtil</a>:</p>\n\n<pre><code>StreamEx.of(bumperCars)\n         .groupBy(c -&gt; Tuple.of(c.getSize(), c.getColor()), BumperCar::getCarCode)\n         .map(e -&gt; new DistGroup(e.getKey()._1, e.getKey()._2, e.getValue())\n         .toList();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637931009,"creation_date":1637931009,"answer_id":70124711,"question_id":54254064,"body_markdown":"I came up with another solution.\r\n\r\nFirst, we tweak the `DistGroup` class a little:\r\n\r\n```\r\nclass DistGroup {\r\n\r\n    private int size;\r\n\r\n    private String color;\r\n\r\n    private List&lt;String&gt; carCodes;\r\n\r\n    private DistGroup(int size, String color, List&lt;String&gt; carCodes) {\r\n        this.size = size;\r\n        this.color = color;\r\n        this.carCodes = carCodes;\r\n    }\r\n\r\n    // So we can use a method reference nicely\r\n    public static DistGroup ofBumperCar(BumperCar car) {\r\n        return new DistGroup(car.size(), car.color(), new ArrayList&lt;&gt;(Arrays.asList(car.carCode())));\r\n    }\r\n\r\n    public DistGroup merge(DistGroup other) {\r\n        assert size == other.size;\r\n        assert Objects.equals(color, other.color);\r\n\r\n        this.carCodes.addAll(other.carCodes);\r\n        return this;\r\n    }\r\n}\r\n```\r\n\r\nNote that I removed the `addCarCodes` method, since it was not needed.\r\n\r\nNow we can actually get the desired result quite easily utilizing the `Collectors::toMap` method.\r\n\r\n```java\r\nCollection&lt;DistGroup&gt; dists = cars.stream()\r\n    .collect(Collectors.toMap(\r\n        car -&gt; new SizeColorGroup(car.size(), car.color()),\r\n        DistGroup::ofBumperCar,\r\n        DistGroup::merge\r\n    ))\r\n    .values();\r\n```","title":"How to groupBy object properties and map to another object using Java 8 Streams?","body":"<p>I came up with another solution.</p>\n<p>First, we tweak the <code>DistGroup</code> class a little:</p>\n<pre><code>class DistGroup {\n\n    private int size;\n\n    private String color;\n\n    private List&lt;String&gt; carCodes;\n\n    private DistGroup(int size, String color, List&lt;String&gt; carCodes) {\n        this.size = size;\n        this.color = color;\n        this.carCodes = carCodes;\n    }\n\n    // So we can use a method reference nicely\n    public static DistGroup ofBumperCar(BumperCar car) {\n        return new DistGroup(car.size(), car.color(), new ArrayList&lt;&gt;(Arrays.asList(car.carCode())));\n    }\n\n    public DistGroup merge(DistGroup other) {\n        assert size == other.size;\n        assert Objects.equals(color, other.color);\n\n        this.carCodes.addAll(other.carCodes);\n        return this;\n    }\n}\n</code></pre>\n<p>Note that I removed the <code>addCarCodes</code> method, since it was not needed.</p>\n<p>Now we can actually get the desired result quite easily utilizing the <code>Collectors::toMap</code> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Collection&lt;DistGroup&gt; dists = cars.stream()\n    .collect(Collectors.toMap(\n        car -&gt; new SizeColorGroup(car.size(), car.color()),\n        DistGroup::ofBumperCar,\n        DistGroup::merge\n    ))\n    .values();\n</code></pre>\n"}],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5822,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":54254480,"answer_count":5,"score":19,"last_activity_date":1637931009,"creation_date":1547814565,"question_id":54254064,"body_markdown":"Suppose I have a group of bumper cars, which have a size, a color and an identifier (&quot;car code&quot;) on their sides.\r\n\r\n```java\r\nclass BumperCar {\r\n    int size;\r\n    String color;\r\n    String carCode;\r\n}\r\n```\r\n\r\nNow I need to map the bumper cars to a `List` of `DistGroup` objects, which each contains the properties `size`, `color` and a `List` of car codes.\r\n\r\n```java\r\nclass DistGroup {\r\n    int size;\r\n    Color color;\r\n    List&lt;String&gt; carCodes;\r\n\r\n    void addCarCodes(List&lt;String&gt; carCodes) {\r\n        this.carCodes.addAll(carCodes);\r\n    }\r\n}\r\n```\r\n\r\nFor example,\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n```\r\n[\r\n    BumperCar(size=3, color=yellow, carCode=Q4M),\r\n    BumperCar(size=3, color=yellow, carCode=T5A),\r\n    BumperCar(size=3, color=red, carCode=6NR)\r\n]\r\n```\r\nshould result in:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n```\r\n[\r\n    DistGroup(size=3, color=yellow, carCodes=[ Q4M, T5A ]),\r\n    DistGroup(size=3, color=red, carCodes=[ 6NR ])\r\n]\r\n```\r\n\r\nI tried the following, which actually does what I want it to do. But the problem is that it materializes the intermediate result (into a `Map`) and I also think that it can be done at once (perhaps using `mapping` or `collectingAndThen` or `reducing` or something), resulting in more elegant code.\r\n\r\n```java\r\nList&lt;BumperCar&gt; bumperCars = …;\r\nMap&lt;SizeColorCombination, List&lt;BumperCar&gt;&gt; map = bumperCars.stream()\r\n    .collect(groupingBy(t -&gt; new SizeColorCombination(t.getSize(), t.getColor())));\r\n\r\nList&lt;DistGroup&gt; distGroups = map.entrySet().stream()\r\n    .map(t -&gt; {\r\n        DistGroup d = new DistGroup(t.getKey().getSize(), t.getKey().getColor());\r\n        d.addCarCodes(t.getValue().stream()\r\n            .map(BumperCar::getCarCode)\r\n            .collect(toList()));\r\n        return d;\r\n    })\r\n    .collect(toList());\r\n```\r\n\r\nHow can I get the desired result without using a variable for an intermediate result?\r\n\r\n**Edit:** How can I get the desired result without materializing the intermediate result? I am merely looking for a way which does not materialize the intermediate result, at least not on the surface. That means that I prefer not to use something like this:\r\n\r\n```java\r\nsomething.stream()\r\n    .collect(…) // Materializing\r\n    .stream()\r\n    .collect(…); // Materializing second time\r\n```\r\n\r\nOf course, if this is possible.\r\n\r\n----\r\n\r\n*Note that I omitted getters and constructors for brevity. You may also assume that `equals` and `hashCode` methods are properly implemented. Also note that I&#39;m using the `SizeColorCombination` which I use as group-by key. This class obviously contains the properties `size` and `color`. Classes like `Tuple`, `Pair`, `Entry` or any other class representing a combination of two arbitrary values may also be used.  \r\n**Edit**: Also note that an ol&#39; skool for loop can be used instead, of course, but that is not in the scope of this question.*\r\n","title":"How to groupBy object properties and map to another object using Java 8 Streams?","body":"<p>Suppose I have a group of bumper cars, which have a size, a color and an identifier (&quot;car code&quot;) on their sides.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class BumperCar {\n    int size;\n    String color;\n    String carCode;\n}\n</code></pre>\n<p>Now I need to map the bumper cars to a <code>List</code> of <code>DistGroup</code> objects, which each contains the properties <code>size</code>, <code>color</code> and a <code>List</code> of car codes.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class DistGroup {\n    int size;\n    Color color;\n    List&lt;String&gt; carCodes;\n\n    void addCarCodes(List&lt;String&gt; carCodes) {\n        this.carCodes.addAll(carCodes);\n    }\n}\n</code></pre>\n<p>For example,</p>\n<pre class=\"lang-none prettyprint-override\"><code>[\n    BumperCar(size=3, color=yellow, carCode=Q4M),\n    BumperCar(size=3, color=yellow, carCode=T5A),\n    BumperCar(size=3, color=red, carCode=6NR)\n]\n</code></pre>\n<p>should result in:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[\n    DistGroup(size=3, color=yellow, carCodes=[ Q4M, T5A ]),\n    DistGroup(size=3, color=red, carCodes=[ 6NR ])\n]\n</code></pre>\n<p>I tried the following, which actually does what I want it to do. But the problem is that it materializes the intermediate result (into a <code>Map</code>) and I also think that it can be done at once (perhaps using <code>mapping</code> or <code>collectingAndThen</code> or <code>reducing</code> or something), resulting in more elegant code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;BumperCar&gt; bumperCars = …;\nMap&lt;SizeColorCombination, List&lt;BumperCar&gt;&gt; map = bumperCars.stream()\n    .collect(groupingBy(t -&gt; new SizeColorCombination(t.getSize(), t.getColor())));\n\nList&lt;DistGroup&gt; distGroups = map.entrySet().stream()\n    .map(t -&gt; {\n        DistGroup d = new DistGroup(t.getKey().getSize(), t.getKey().getColor());\n        d.addCarCodes(t.getValue().stream()\n            .map(BumperCar::getCarCode)\n            .collect(toList()));\n        return d;\n    })\n    .collect(toList());\n</code></pre>\n<p>How can I get the desired result without using a variable for an intermediate result?</p>\n<p><strong>Edit:</strong> How can I get the desired result without materializing the intermediate result? I am merely looking for a way which does not materialize the intermediate result, at least not on the surface. That means that I prefer not to use something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>something.stream()\n    .collect(…) // Materializing\n    .stream()\n    .collect(…); // Materializing second time\n</code></pre>\n<p>Of course, if this is possible.</p>\n<hr />\n<p><em>Note that I omitted getters and constructors for brevity. You may also assume that <code>equals</code> and <code>hashCode</code> methods are properly implemented. Also note that I'm using the <code>SizeColorCombination</code> which I use as group-by key. This class obviously contains the properties <code>size</code> and <code>color</code>. Classes like <code>Tuple</code>, <code>Pair</code>, <code>Entry</code> or any other class representing a combination of two arbitrary values may also be used.<br />\n<strong>Edit</strong>: Also note that an ol' skool for loop can be used instead, of course, but that is not in the scope of this question.</em></p>\n"},{"tags":["java","sendgrid"],"comments":[{"owner":{"account_id":13978,"reputation":71446,"user_id":28376,"accept_rate":86,"display_name":"philnash"},"score":0,"creation_date":1637274591,"post_id":70021146,"comment_id":123789923,"body_markdown":"You can customise your emails either in the template editor in the SendGrid console or by sending your own custom HTML. What are you doing?","body":"You can customise your emails either in the template editor in the SendGrid console or by sending your own custom HTML. What are you doing?"},{"owner":{"account_id":7549108,"reputation":91,"user_id":6452339,"display_name":"Satishkumar sahu"},"score":0,"creation_date":1637298704,"post_id":70021146,"comment_id":123794321,"body_markdown":"how do I send my own custom HTML for the Unsubscribe link, can you point me to their documentation? my code is just as follows, I create a new ASM instance and set my desired groupId to it and asm instance is set to the Mail instance of Sendgrid.","body":"how do I send my own custom HTML for the Unsubscribe link, can you point me to their documentation? my code is just as follows, I create a new ASM instance and set my desired groupId to it and asm instance is set to the Mail instance of Sendgrid."},{"owner":{"account_id":13978,"reputation":71446,"user_id":28376,"accept_rate":86,"display_name":"philnash"},"score":0,"creation_date":1637301015,"post_id":70021146,"comment_id":123794739,"body_markdown":"The docs are here: https://docs.sendgrid.com/ui/sending-email/create-and-manage-unsubscribe-groups#adding-an-unsubscribe-group-to-your-email","body":"The docs are here: <a href=\"https://docs.sendgrid.com/ui/sending-email/create-and-manage-unsubscribe-groups#adding-an-unsubscribe-group-to-your-email\" rel=\"nofollow noreferrer\">docs.sendgrid.com/ui/sending-email/&hellip;</a>"},{"owner":{"account_id":7549108,"reputation":91,"user_id":6452339,"display_name":"Satishkumar sahu"},"score":0,"creation_date":1637319671,"post_id":70021146,"comment_id":123800585,"body_markdown":"Got it, thanks for you help!","body":"Got it, thanks for you help!"},{"owner":{"account_id":7549108,"reputation":91,"user_id":6452339,"display_name":"Satishkumar sahu"},"score":0,"creation_date":1637324849,"post_id":70021146,"comment_id":123802330,"body_markdown":"Hey friend, need another help, so I create a dynamic template, drag an unsubscribe module in the editor and saved it, in my code along with the email contents and other required parameters, the groupId, now I&#39;m also sending the template Id but the email that is being sent contains only the unsubcribe module, it doesn&#39;t even have the subject now, I believe I&#39;m missing something in the template here, as I can see the mail object contains all the information need along with the subject, content, so on. Do I also use the text module in the template?","body":"Hey friend, need another help, so I create a dynamic template, drag an unsubscribe module in the editor and saved it, in my code along with the email contents and other required parameters, the groupId, now I&#39;m also sending the template Id but the email that is being sent contains only the unsubcribe module, it doesn&#39;t even have the subject now, I believe I&#39;m missing something in the template here, as I can see the mail object contains all the information need along with the subject, content, so on. Do I also use the text module in the template?"},{"owner":{"account_id":13978,"reputation":71446,"user_id":28376,"accept_rate":86,"display_name":"philnash"},"score":0,"creation_date":1637349022,"post_id":70021146,"comment_id":123811483,"body_markdown":"What is the code you’re using to send this email? It’s a little hard for me to help you debug this without seeing what you’re doing.","body":"What is the code you’re using to send this email? It’s a little hard for me to help you debug this without seeing what you’re doing."},{"owner":{"account_id":7549108,"reputation":91,"user_id":6452339,"display_name":"Satishkumar sahu"},"score":0,"creation_date":1637932762,"post_id":70021146,"comment_id":123961448,"body_markdown":"@philnash I have edited the description hope this gives a more clear picture of my problem","body":"@philnash I have edited the description hope this gives a more clear picture of my problem"},{"owner":{"account_id":13978,"reputation":71446,"user_id":28376,"accept_rate":86,"display_name":"philnash"},"score":0,"creation_date":1638007012,"post_id":70021146,"comment_id":123976274,"body_markdown":"What does the design of your email template look like?","body":"What does the design of your email template look like?"},{"owner":{"account_id":7549108,"reputation":91,"user_id":6452339,"display_name":"Satishkumar sahu"},"score":0,"creation_date":1638091597,"post_id":70021146,"comment_id":123990869,"body_markdown":"my email template only has the unsubscribe module, is that the problem? I tried adding the text module as well but I&#39;m not sure how do I set my email content to the text module, also how do I replace the subject?","body":"my email template only has the unsubscribe module, is that the problem? I tried adding the text module as well but I&#39;m not sure how do I set my email content to the text module, also how do I replace the subject?"},{"owner":{"account_id":13978,"reputation":71446,"user_id":28376,"accept_rate":86,"display_name":"philnash"},"score":0,"creation_date":1638091700,"post_id":70021146,"comment_id":123990888,"body_markdown":"Yes, your email template needs to include all your content that you want in the email. Read this doc on how to design a dynamic template: https://docs.sendgrid.com/ui/sending-email/how-to-send-an-email-with-dynamic-transactional-templates","body":"Yes, your email template needs to include all your content that you want in the email. Read this doc on how to design a dynamic template: <a href=\"https://docs.sendgrid.com/ui/sending-email/how-to-send-an-email-with-dynamic-transactional-templates\" rel=\"nofollow noreferrer\">docs.sendgrid.com/ui/sending-email/&hellip;</a>"},{"owner":{"account_id":7549108,"reputation":91,"user_id":6452339,"display_name":"Satishkumar sahu"},"score":0,"creation_date":1638091840,"post_id":70021146,"comment_id":123990920,"body_markdown":"Great, thanks, I&#39;ll take a look at it!","body":"Great, thanks, I&#39;ll take a look at it!"},{"owner":{"account_id":7549108,"reputation":91,"user_id":6452339,"display_name":"Satishkumar sahu"},"score":0,"creation_date":1638183706,"post_id":70021146,"comment_id":124011432,"body_markdown":"Hey, another question, do you know after how long does the unsubscribe link expire or it does not expire at all? I couldn&#39;t find it in the docs.","body":"Hey, another question, do you know after how long does the unsubscribe link expire or it does not expire at all? I couldn&#39;t find it in the docs."},{"owner":{"account_id":13978,"reputation":71446,"user_id":28376,"accept_rate":86,"display_name":"philnash"},"score":0,"creation_date":1638183977,"post_id":70021146,"comment_id":124011529,"body_markdown":"I don’t imagine they do expire. I can’t find anything about expiry, but they are unique links and I can’t imagine why they would expire. Is there something specific you need with expiring links, or are you just checking?","body":"I don’t imagine they do expire. I can’t find anything about expiry, but they are unique links and I can’t imagine why they would expire. Is there something specific you need with expiring links, or are you just checking?"},{"owner":{"account_id":7549108,"reputation":91,"user_id":6452339,"display_name":"Satishkumar sahu"},"score":0,"creation_date":1638248263,"post_id":70021146,"comment_id":124031473,"body_markdown":"No, just had the question on my mind, anyway thanks!","body":"No, just had the question on my mind, anyway thanks!"}],"owner":{"account_id":7549108,"reputation":91,"user_id":6452339,"display_name":"Satishkumar sahu"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":828,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637930955,"creation_date":1637243790,"question_id":70021146,"body_markdown":"I wish customise the position of the default Unsubscribe link that is sent by Sendgrid.\r\nI have configured Unsubscribe groups in sendgrid and I am sending groupId with ASM, I do see the Unsubscribe from this List| Manage Email Preferences link, but the thing is, this link is directly appended to the body of the email thus making it difficult for the receiver to understand whether it is a part of the email or not, is there a way to customise this link so that it at least looks as a separate part of the email content?\r\n\r\n```\r\n  ASM asmInst = new ASM();\r\n                asmInst.setGroupId(mailGroupId);\r\n                mail.setASM(asmInst);\r\n                int[] groupsToDisplay = {mailGroupId};\r\n                asmInst.setGroupsToDisplay(groupsToDisplay);\r\n                mail.setTemplateId(&quot;d- \r\n   848281f0ab8f45a7bc0e1690442a8803&quot;);\r\n            }\r\n```\r\nabove is my java code, here the mail object refers to instance of Mail from com.sendgrid.Mail and the object already has subject, recipient, email body, etc. If I set the template id as above, the email received by the recipient does not contain any subject, or email body, it only has the subscribe module that is configured in the dynamic templates. Here is a screenshot of the email received.\r\n[![][1]][1]\r\n\r\nIf I don&#39;t set the templateId, the email received is proper but the unsubscribe links are directly attached to the email body. Here is the email without template\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZubCv.png\r\n  [2]: https://i.stack.imgur.com/MTACX.png","title":"How do I customise the Unsubscribe link in SendGrid?","body":"<p>I wish customise the position of the default Unsubscribe link that is sent by Sendgrid.\nI have configured Unsubscribe groups in sendgrid and I am sending groupId with ASM, I do see the Unsubscribe from this List| Manage Email Preferences link, but the thing is, this link is directly appended to the body of the email thus making it difficult for the receiver to understand whether it is a part of the email or not, is there a way to customise this link so that it at least looks as a separate part of the email content?</p>\n<pre><code>  ASM asmInst = new ASM();\n                asmInst.setGroupId(mailGroupId);\n                mail.setASM(asmInst);\n                int[] groupsToDisplay = {mailGroupId};\n                asmInst.setGroupsToDisplay(groupsToDisplay);\n                mail.setTemplateId(&quot;d- \n   848281f0ab8f45a7bc0e1690442a8803&quot;);\n            }\n</code></pre>\n<p>above is my java code, here the mail object refers to instance of Mail from com.sendgrid.Mail and the object already has subject, recipient, email body, etc. If I set the template id as above, the email received by the recipient does not contain any subject, or email body, it only has the subscribe module that is configured in the dynamic templates. Here is a screenshot of the email received.\n<a href=\"https://i.stack.imgur.com/ZubCv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZubCv.png\" alt=\"\" /></a></p>\n<p>If I don't set the templateId, the email received is proper but the unsubscribe links are directly attached to the email body. Here is the email without template</p>\n<p><a href=\"https://i.stack.imgur.com/MTACX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MTACX.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","retrofit2"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":1,"creation_date":1637917171,"post_id":70121755,"comment_id":123955788,"body_markdown":"A `Map&lt;String, String&gt;` or another `class Nested { String id; }`.","body":"A <code>Map&lt;String, String&gt;</code> or another <code>class Nested { String id; }</code>."}],"answers":[{"tags":[],"owner":{"account_id":5512082,"reputation":338,"user_id":4378061,"display_name":"mdh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637919257,"creation_date":1637919257,"answer_id":70122221,"question_id":70121755,"body_markdown":"Since data is a nested object within the surrounding json object, you can include it as another class in your UploadImageData class.\r\n\r\n    public class UploadImageData {\r\n        private int errorCode;\r\n        private String error;\r\n        private String status;\r\n        private MyDataClass data;\r\n    }\r\n    \r\n    public class MyDataClass {\r\n        private String id;\r\n    }\r\n\r\nDon&#180;t forget setter methods oder make fields public.","title":"How to create a class to get the json response of a service which returns in an structure like the following?","body":"<p>Since data is a nested object within the surrounding json object, you can include it as another class in your UploadImageData class.</p>\n<pre><code>public class UploadImageData {\n    private int errorCode;\n    private String error;\n    private String status;\n    private MyDataClass data;\n}\n\npublic class MyDataClass {\n    private String id;\n}\n</code></pre>\n<p>Don´t forget setter methods oder make fields public.</p>\n"}],"owner":{"account_id":5364855,"reputation":147,"user_id":4275150,"display_name":"mylket"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1637930075,"creation_date":1637916865,"question_id":70121755,"body_markdown":"The webservice return the following JSON string:\r\n\r\n    {&quot;errorCode&quot;:0,&quot;error&quot;:&quot;&quot;,&quot;status&quot;:&quot;OK&quot;,&quot;data&quot;:{&quot;id&quot;:&quot;1234A&quot;}} \r\n\r\nSo to get a class that receives the response in a function like this that performs a post in Retrofit:\r\n\r\n    Call&lt;UploadImageData&gt; postData(@Header(&quot;Cookie&quot;) String sessionId, @Body UploadImageModal image);\r\n\r\nI&#39;d need to make a class like this;\r\n\r\n    public class UploadImageData {\r\n        private int errorCode;\r\n        private String error;\r\n        private  String status;\r\n    }\r\n\r\nBut I&#39;m lost in how I would have to declare the part that would take &quot;data&quot;:{&quot;id&quot;:&quot;1234A&quot;}, so it gets the data from there correctly.\r\n\r\nHow could I do this?\r\n","title":"How to create a class to get the json response of a service which returns in an structure like the following?","body":"<p>The webservice return the following JSON string:</p>\n<pre><code>{&quot;errorCode&quot;:0,&quot;error&quot;:&quot;&quot;,&quot;status&quot;:&quot;OK&quot;,&quot;data&quot;:{&quot;id&quot;:&quot;1234A&quot;}} \n</code></pre>\n<p>So to get a class that receives the response in a function like this that performs a post in Retrofit:</p>\n<pre><code>Call&lt;UploadImageData&gt; postData(@Header(&quot;Cookie&quot;) String sessionId, @Body UploadImageModal image);\n</code></pre>\n<p>I'd need to make a class like this;</p>\n<pre><code>public class UploadImageData {\n    private int errorCode;\n    private String error;\n    private  String status;\n}\n</code></pre>\n<p>But I'm lost in how I would have to declare the part that would take &quot;data&quot;:{&quot;id&quot;:&quot;1234A&quot;}, so it gets the data from there correctly.</p>\n<p>How could I do this?</p>\n"},{"tags":["java","php","sql","ajax","treeview"],"comments":[{"owner":{"account_id":14048563,"reputation":994,"user_id":10148071,"display_name":"spzvtbg"},"score":0,"creation_date":1600772231,"post_id":64008225,"comment_id":113186869,"body_markdown":"So what is the question?","body":"So what is the question?"},{"owner":{"account_id":2857465,"reputation":13482,"user_id":2453432,"display_name":"M. Eriksson"},"score":1,"creation_date":1600772681,"post_id":64008225,"comment_id":113187072,"body_markdown":"_&quot;I get alot of errors&quot;_ - And those are? _&quot;This is the code I use from the tutorial which works for me.&quot;_ - So your code works now? Is this basically just a blog post?","body":"<i>&quot;I get alot of errors&quot;</i> - And those are? <i>&quot;This is the code I use from the tutorial which works for me.&quot;</i> - So your code works now? Is this basically just a blog post?"},{"owner":{"account_id":18535403,"reputation":167,"user_id":13505197,"display_name":"Me NoLonely"},"score":0,"creation_date":1600776186,"post_id":64008225,"comment_id":113188761,"body_markdown":"My database is not build the same way as in the tutorial as you can see, but I want to use my database and make a treeview out of it. and the code I used from the tutorial with their database NOT mine works, as it should because it&#39;s a tutorial.. My question is just how I can change the code from the tutorial, so it works with my database structure.","body":"My database is not build the same way as in the tutorial as you can see, but I want to use my database and make a treeview out of it. and the code I used from the tutorial with their database NOT mine works, as it should because it&#39;s a tutorial.. My question is just how I can change the code from the tutorial, so it works with my database structure."},{"owner":{"account_id":4773472,"reputation":5457,"user_id":3857384,"display_name":"TimBrownlaw"},"score":0,"creation_date":1600777746,"post_id":64008225,"comment_id":113189460,"body_markdown":"Did you actually understand the whole concept of id and parent_id to identify which row belongs to which row and the order? Your Table is absolutely nothing like it and does not have that relationship between rows... So how are you expecting it to work? This is like trying to put a square peg in a round hole. You need a round peg.","body":"Did you actually understand the whole concept of id and parent_id to identify which row belongs to which row and the order? Your Table is absolutely nothing like it and does not have that relationship between rows... So how are you expecting it to work? This is like trying to put a square peg in a round hole. You need a round peg."}],"owner":{"account_id":18535403,"reputation":167,"user_id":13505197,"display_name":"Me NoLonely"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637929949,"creation_date":1600772073,"question_id":64008225,"body_markdown":"I&#39;ve tried to make a simple treeview from a tutorial, on the internet.\r\n\r\n[Guide with code I used][1]\r\n\r\n[Database from tutorial img][2]\r\n\r\nThis works as it should\r\n\r\n[php website of treeview][3]\r\n\r\nNow I want to make something similar with my own database, but it&#39;s not build the same way, though I do have the link between `TestSuiteCollectionName`, `TS_name` and `TC_name`, and their ids.\r\n\r\nNow this is how my table looks (part of it)\r\n\r\n[SQL table][4]\r\n\r\nand the SQL code is\r\n\r\n```sql\r\nSELECT \r\n    testsuitecollection.id AS id,\r\n    testsuitecollection.TestSuiteCollectionName,\r\n    TestSuite,\r\n    testsuite.TestSuiteName AS TS_name,\r\n    testsuitetestcaselink.TestCaseId AS TC_id,\r\n    testcase.TestCaseName AS TC_name\r\nFROM\r\n    testreportingdebug.testsuitecollectionlink\r\nINNER JOIN\r\n    testreportingdebug.testsuitecollection ON testsuitecollectionlink.TestSuiteCollection = testsuitecollection.id\r\nINNER JOIN\r\n    testreportingdebug.testsuite ON testsuitecollectionlink.TestSuite = testsuite.id\r\nINNER JOIN\r\n    testreportingdebug.testsuitetestcaselink ON testsuitecollectionlink.TestSuite = testsuitetestcaselink.TestSuiteId\r\nINNER JOIN\r\n    testreportingdebug.testcase ON testsuitetestcaselink.TestCaseId = testcase.id\r\nORDER BY id;\r\n```\r\n\r\nThe view you can see should look like this\r\n\r\n[Treeview structure][5]\r\n\r\nI tried to change the tutorial code, so it works with my database, but I can&#39;t seem to get it to work, so maybe I don&#39;t filter the sql data right.\r\n\r\nThis is the code I use from the tutorial which works for me, with their database structure, not mine.\r\n\r\n```php\r\n$query = &quot;SELECT * FROM $db.country_state_city;&quot;;\r\n    \r\n    $result      = $MysqliHandler-&gt;query($query);\r\n    //$output = array();\r\n    foreach ($result as $key =&gt; $value) {\r\n      $sub_data[&quot;id&quot;] = $value[&quot;id&quot;];\r\n      $sub_data[&quot;name&quot;] = $value[&quot;name&quot;];\r\n      $sub_data[&quot;text&quot;] = $value[&quot;name&quot;];\r\n      $sub_data[&quot;parent_id&quot;] = $value[&quot;parent_id&quot;];\r\n      $data[] = $sub_data;\r\n    }\r\n    foreach($data as $key =&gt; &amp;$value)\r\n    {\r\n      $output[$value[&quot;id&quot;]] = &amp;$value;\r\n    }\r\n    foreach($data as $key =&gt; &amp;$value)\r\n    {\r\n      if($value[&quot;parent_id&quot;] &amp;&amp; isset($output[$value[&quot;parent_id&quot;]]))\r\n      {\r\n        $output[$value[&quot;parent_id&quot;]][&quot;nodes&quot;][] = &amp;$value;\r\n      }\r\n    }\r\n    foreach($data as $key =&gt; &amp;$value)\r\n    {\r\n      if($value[&quot;parent_id&quot;] &amp;&amp; isset($output[$value[&quot;parent_id&quot;]]))\r\n      {\r\n        unset($data[$key]);\r\n      }\r\n    }\r\n    echo json_encode($data);\r\n```\r\n\r\n  [1]: https://www.webslesson.info/2017/05/make-treeview-using-bootstrap-treeview-ajax-jquery-with-php.html\r\n  [2]: https://i.stack.imgur.com/lwIEg.png\r\n  [3]: https://i.stack.imgur.com/gMy0C.png\r\n  [4]: https://i.stack.imgur.com/wucCU.png\r\n  [5]: https://i.stack.imgur.com/pXJlw.png","title":"Database treeview","body":"<p>I've tried to make a simple treeview from a tutorial, on the internet.</p>\n<p><a href=\"https://www.webslesson.info/2017/05/make-treeview-using-bootstrap-treeview-ajax-jquery-with-php.html\" rel=\"nofollow noreferrer\">Guide with code I used</a></p>\n<p><a href=\"https://i.stack.imgur.com/lwIEg.png\" rel=\"nofollow noreferrer\">Database from tutorial img</a></p>\n<p>This works as it should</p>\n<p><a href=\"https://i.stack.imgur.com/gMy0C.png\" rel=\"nofollow noreferrer\">php website of treeview</a></p>\n<p>Now I want to make something similar with my own database, but it's not build the same way, though I do have the link between <code>TestSuiteCollectionName</code>, <code>TS_name</code> and <code>TC_name</code>, and their ids.</p>\n<p>Now this is how my table looks (part of it)</p>\n<p><a href=\"https://i.stack.imgur.com/wucCU.png\" rel=\"nofollow noreferrer\">SQL table</a></p>\n<p>and the SQL code is</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT \n    testsuitecollection.id AS id,\n    testsuitecollection.TestSuiteCollectionName,\n    TestSuite,\n    testsuite.TestSuiteName AS TS_name,\n    testsuitetestcaselink.TestCaseId AS TC_id,\n    testcase.TestCaseName AS TC_name\nFROM\n    testreportingdebug.testsuitecollectionlink\nINNER JOIN\n    testreportingdebug.testsuitecollection ON testsuitecollectionlink.TestSuiteCollection = testsuitecollection.id\nINNER JOIN\n    testreportingdebug.testsuite ON testsuitecollectionlink.TestSuite = testsuite.id\nINNER JOIN\n    testreportingdebug.testsuitetestcaselink ON testsuitecollectionlink.TestSuite = testsuitetestcaselink.TestSuiteId\nINNER JOIN\n    testreportingdebug.testcase ON testsuitetestcaselink.TestCaseId = testcase.id\nORDER BY id;\n</code></pre>\n<p>The view you can see should look like this</p>\n<p><a href=\"https://i.stack.imgur.com/pXJlw.png\" rel=\"nofollow noreferrer\">Treeview structure</a></p>\n<p>I tried to change the tutorial code, so it works with my database, but I can't seem to get it to work, so maybe I don't filter the sql data right.</p>\n<p>This is the code I use from the tutorial which works for me, with their database structure, not mine.</p>\n<pre class=\"lang-php prettyprint-override\"><code>$query = &quot;SELECT * FROM $db.country_state_city;&quot;;\n    \n    $result      = $MysqliHandler-&gt;query($query);\n    //$output = array();\n    foreach ($result as $key =&gt; $value) {\n      $sub_data[&quot;id&quot;] = $value[&quot;id&quot;];\n      $sub_data[&quot;name&quot;] = $value[&quot;name&quot;];\n      $sub_data[&quot;text&quot;] = $value[&quot;name&quot;];\n      $sub_data[&quot;parent_id&quot;] = $value[&quot;parent_id&quot;];\n      $data[] = $sub_data;\n    }\n    foreach($data as $key =&gt; &amp;$value)\n    {\n      $output[$value[&quot;id&quot;]] = &amp;$value;\n    }\n    foreach($data as $key =&gt; &amp;$value)\n    {\n      if($value[&quot;parent_id&quot;] &amp;&amp; isset($output[$value[&quot;parent_id&quot;]]))\n      {\n        $output[$value[&quot;parent_id&quot;]][&quot;nodes&quot;][] = &amp;$value;\n      }\n    }\n    foreach($data as $key =&gt; &amp;$value)\n    {\n      if($value[&quot;parent_id&quot;] &amp;&amp; isset($output[$value[&quot;parent_id&quot;]]))\n      {\n        unset($data[$key]);\n      }\n    }\n    echo json_encode($data);\n</code></pre>\n"},{"tags":["java","apache-spark","apache-spark-sql"],"comments":[{"owner":{"account_id":9154396,"reputation":4513,"user_id":6807769,"display_name":"Vincent Doba"},"score":0,"creation_date":1637880291,"post_id":70116449,"comment_id":123949039,"body_markdown":"What is the schema of your table ? You can get it by applying `printSchema()` to your dataframe. And can you add a sample of your current output ? Thanks !","body":"What is the schema of your table ? You can get it by applying <code>printSchema()</code> to your dataframe. And can you add a sample of your current output ? Thanks !"},{"owner":{"account_id":20701840,"reputation":871,"user_id":15200705,"display_name":"Luciana Oliveira"},"score":1,"creation_date":1637894244,"post_id":70116449,"comment_id":123951189,"body_markdown":"Hi Vicent, I edited the question with your answerds.","body":"Hi Vicent, I edited the question with your answerds."},{"owner":{"account_id":1695351,"reputation":3510,"user_id":1556820,"accept_rate":50,"display_name":"mangusta"},"score":0,"creation_date":1637894900,"post_id":70116449,"comment_id":123951258,"body_markdown":"where is 0 in the output? does the input set actually contain records satisfying &quot;where&quot; condition?","body":"where is 0 in the output? does the input set actually contain records satisfying &quot;where&quot; condition?"},{"owner":{"account_id":20701840,"reputation":871,"user_id":15200705,"display_name":"Luciana Oliveira"},"score":0,"creation_date":1637897562,"post_id":70116449,"comment_id":123951602,"body_markdown":"Hi Mangusta, the 0 is in the Java object Dataframe output in the eclipse&#39; s debug perspective inspection with the cod_equpment value. The output in my question is the spark&#39;s log output.","body":"Hi Mangusta, the 0 is in the Java object Dataframe output in the eclipse&#39; s debug perspective inspection with the cod_equpment value. The output in my question is the spark&#39;s log output."},{"owner":{"account_id":16393347,"reputation":13088,"user_id":11841571,"display_name":"Lamanus"},"score":0,"creation_date":1637899154,"post_id":70116449,"comment_id":123951818,"body_markdown":"Your `date` might not be the date format.","body":"Your <code>date</code> might not be the date format."},{"owner":{"account_id":9154396,"reputation":4513,"user_id":6807769,"display_name":"Vincent Doba"},"score":1,"creation_date":1637908373,"post_id":70116449,"comment_id":123953240,"body_markdown":"@LucianaOliveira Sorry, I wasn&#39;t clear enough in my previous comment, I would like to see the schema of your input dataframe, not your output dataframe. And also a sample of data from your input dataframe. You can get it by applying `show()` to your input dataframe. If you don&#39;t have an input dataframe, you can run the command `select * from equipment` to get it. Thanks !","body":"@LucianaOliveira Sorry, I wasn&#39;t clear enough in my previous comment, I would like to see the schema of your input dataframe, not your output dataframe. And also a sample of data from your input dataframe. You can get it by applying <code>show()</code> to your input dataframe. If you don&#39;t have an input dataframe, you can run the command <code>select * from equipment</code> to get it. Thanks !"},{"owner":{"account_id":20701840,"reputation":871,"user_id":15200705,"display_name":"Luciana Oliveira"},"score":1,"creation_date":1637929821,"post_id":70116449,"comment_id":123960374,"body_markdown":"@VincentDoba, thanks a lot! Your questions help me to find an error in the database. I correct and it&#39;s function now. The CQL&#39;s script was wrong. I edit my question with the correct result to show you.","body":"@VincentDoba, thanks a lot! Your questions help me to find an error in the database. I correct and it&#39;s function now. The CQL&#39;s script was wrong. I edit my question with the correct result to show you."}],"owner":{"account_id":20701840,"reputation":871,"user_id":15200705,"display_name":"Luciana Oliveira"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1637929522,"creation_date":1637868940,"question_id":70116449,"body_markdown":"I&#39;m using spark-sql_2.12 version 3.1.1 in my Java application. I need to run the query bellow. However, there isn&#39;t show any error. It only returned 0.  There are dates in the table, an example 2014-11-01.\r\n\r\n    SELECT datediff(current_date(),date) AS diff, cod_equipment FROM equipment WHERE status_equipment &gt; 1 group by  date, cod_equipment ;\r\n\r\n\r\n\r\nSome suggestion is appreciated.\r\n\r\nI&#39;m using the documentation : [https://spark.apache.org/docs/3.1.1/api/sql/search.html?q=datediff][1] .\r\n\r\n\r\n  [1]: https://spark.apache.org/docs/3.1.1/api/sql/search.html?q=datediff\r\n\r\n**EDIT 1:**\r\n\r\n**The printSchema() :**\r\n\r\n    root\r\n     |-- diff: integer (nullable = true)\r\n     |-- cod_equipment: string (nullable = true)\r\n\r\n**The current output:**\r\n\r\n    Pushing operators to equipment \r\n    Pushed Filters: \r\n    Post-Scan Filters: (status_equipment #58 &gt; 1)\r\n    Output: cod_equipment#22, date#47, status_equipment #58\r\n\r\n**EDIT 2:**\r\n\r\nPS.: The questions asked by Vicent in the comments below help me to find an error in the database records. The evidences below show the correction. \r\n\r\n**The show() :** (The cod_equipment type is UUID)\r\n\r\n        +-------------+--------------------+\r\n        | diff        |   cod_equipment    |\r\n        +-------------+--------------------+\r\n        |         3275|3fbfbe6d-6920-468...|\r\n        |         4332|3fbfbe6d-6920-468...|\r\n        |         4716|3fbfbe6d-6920-468...|\r\n        |         4115|3fbfbe6d-6920-468...|\r\n        |         4102|3fbfbe6d-6920-468...|\r\n        |         4034|3fbfbe6d-6920-468...|\r\n        |         3259|3fbfbe6d-6920-468...|\r\n        |         4603|3fbfbe6d-6920-468...|\r\n        |         3324|3fbfbe6d-6920-468...|\r\n        |         4229|3fbfbe6d-6920-468...|\r\n        |         4238|3fbfbe6d-6920-468...|\r\n        |         4193|3fbfbe6d-6920-468...|\r\n        |         2811|3fbfbe6d-6920-468...|\r\n        |         3553|3fbfbe6d-6920-468...|\r\n        |         2946|3fbfbe6d-6920-468...|\r\n        |         3961|3fbfbe6d-6920-468...|\r\n        |         3337|3fbfbe6d-6920-468...|\r\n        |         5075|3fbfbe6d-6920-468...|\r\n        |         3098|3fbfbe6d-6920-468...|\r\n        |         2755|3fbfbe6d-6920-468...|\r\n        +-------------+--------------------+\r\n        only showing top 20 rows\r\n\r\nThe `select * from equipment` (I have only one cod_equipment in the base and 288 records).\r\n\r\n                 Date       | cod_equipment\r\n    ------------------------+--------------------------------------\r\n                 2014-03-17 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2010-02-02 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2013-04-06 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2010-04-25 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2012-08-08 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2013-09-05 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2013-06-03 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2008-11-20 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2013-07-06 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2012-09-17 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2012-10-07 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2011-07-01 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2013-07-10 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2012-11-23 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2012-07-09 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2014-08-07 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2010-02-18 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2014-06-25 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2011-01-22 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2009-05-22 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2013-02-23 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2014-02-08 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2011-03-24 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2010-03-28 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2013-12-19 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2009-08-28 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2009-09-19 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2011-12-27 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2013-10-23 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2013-03-23 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2008-04-01 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2014-07-10 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2013-07-12 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2011-06-17 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2014-01-13 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2013-04-09 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2012-12-21 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2009-06-22 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2014-06-07 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2009-08-23 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2013-04-25 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2011-07-23 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2013-03-04 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2013-03-08 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2010-06-04 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2011-09-12 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2008-07-24 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2008-10-25 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2014-06-30 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2008-08-12 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2009-01-30 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2011-06-30 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2012-04-22 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2011-02-25 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2013-12-19 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2012-12-23 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2013-07-28 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2009-10-13 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2008-01-08 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2014-03-14 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2009-02-23 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2012-11-08 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2011-04-10 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2009-10-19 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2011-10-19 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2013-11-03 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2013-11-02 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2010-07-02 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2010-03-26 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2012-10-28 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2013-10-21 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2010-06-20 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2012-05-14 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2013-07-15 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2013-05-10 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2014-03-04 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2010-06-17 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2014-06-22 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2012-08-24 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2010-10-20 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2010-03-24 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2008-10-15 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2009-06-25 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2013-11-11 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2009-10-05 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2008-06-09 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2014-01-27 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2011-01-18 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2008-07-17 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2012-05-25 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2008-01-04 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2008-03-01 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2012-07-19 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2009-11-14 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2013-01-29 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2008-07-12 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2010-12-27 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2011-03-06 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2012-04-16 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n                 2011-05-23 | 3fbfbe6d-6920-4689-a009-cbe506000988\r\n\r\n\r\n","title":"Spark DateDiff returning 0","body":"<p>I'm using spark-sql_2.12 version 3.1.1 in my Java application. I need to run the query bellow. However, there isn't show any error. It only returned 0.  There are dates in the table, an example 2014-11-01.</p>\n<pre><code>SELECT datediff(current_date(),date) AS diff, cod_equipment FROM equipment WHERE status_equipment &gt; 1 group by  date, cod_equipment ;\n</code></pre>\n<p>Some suggestion is appreciated.</p>\n<p>I'm using the documentation : <a href=\"https://spark.apache.org/docs/3.1.1/api/sql/search.html?q=datediff\" rel=\"nofollow noreferrer\">https://spark.apache.org/docs/3.1.1/api/sql/search.html?q=datediff</a> .</p>\n<p><strong>EDIT 1:</strong></p>\n<p><strong>The printSchema() :</strong></p>\n<pre><code>root\n |-- diff: integer (nullable = true)\n |-- cod_equipment: string (nullable = true)\n</code></pre>\n<p><strong>The current output:</strong></p>\n<pre><code>Pushing operators to equipment \nPushed Filters: \nPost-Scan Filters: (status_equipment #58 &gt; 1)\nOutput: cod_equipment#22, date#47, status_equipment #58\n</code></pre>\n<p><strong>EDIT 2:</strong></p>\n<p>PS.: The questions asked by Vicent in the comments below help me to find an error in the database records. The evidences below show the correction.</p>\n<p><strong>The show() :</strong> (The cod_equipment type is UUID)</p>\n<pre><code>    +-------------+--------------------+\n    | diff        |   cod_equipment    |\n    +-------------+--------------------+\n    |         3275|3fbfbe6d-6920-468...|\n    |         4332|3fbfbe6d-6920-468...|\n    |         4716|3fbfbe6d-6920-468...|\n    |         4115|3fbfbe6d-6920-468...|\n    |         4102|3fbfbe6d-6920-468...|\n    |         4034|3fbfbe6d-6920-468...|\n    |         3259|3fbfbe6d-6920-468...|\n    |         4603|3fbfbe6d-6920-468...|\n    |         3324|3fbfbe6d-6920-468...|\n    |         4229|3fbfbe6d-6920-468...|\n    |         4238|3fbfbe6d-6920-468...|\n    |         4193|3fbfbe6d-6920-468...|\n    |         2811|3fbfbe6d-6920-468...|\n    |         3553|3fbfbe6d-6920-468...|\n    |         2946|3fbfbe6d-6920-468...|\n    |         3961|3fbfbe6d-6920-468...|\n    |         3337|3fbfbe6d-6920-468...|\n    |         5075|3fbfbe6d-6920-468...|\n    |         3098|3fbfbe6d-6920-468...|\n    |         2755|3fbfbe6d-6920-468...|\n    +-------------+--------------------+\n    only showing top 20 rows\n</code></pre>\n<p>The <code>select * from equipment</code> (I have only one cod_equipment in the base and 288 records).</p>\n<pre><code>             Date       | cod_equipment\n------------------------+--------------------------------------\n             2014-03-17 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2010-02-02 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2013-04-06 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2010-04-25 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2012-08-08 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2013-09-05 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2013-06-03 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2008-11-20 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2013-07-06 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2012-09-17 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2012-10-07 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2011-07-01 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2013-07-10 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2012-11-23 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2012-07-09 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2014-08-07 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2010-02-18 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2014-06-25 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2011-01-22 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2009-05-22 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2013-02-23 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2014-02-08 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2011-03-24 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2010-03-28 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2013-12-19 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2009-08-28 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2009-09-19 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2011-12-27 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2013-10-23 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2013-03-23 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2008-04-01 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2014-07-10 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2013-07-12 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2011-06-17 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2014-01-13 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2013-04-09 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2012-12-21 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2009-06-22 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2014-06-07 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2009-08-23 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2013-04-25 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2011-07-23 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2013-03-04 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2013-03-08 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2010-06-04 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2011-09-12 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2008-07-24 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2008-10-25 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2014-06-30 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2008-08-12 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2009-01-30 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2011-06-30 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2012-04-22 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2011-02-25 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2013-12-19 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2012-12-23 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2013-07-28 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2009-10-13 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2008-01-08 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2014-03-14 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2009-02-23 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2012-11-08 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2011-04-10 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2009-10-19 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2011-10-19 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2013-11-03 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2013-11-02 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2010-07-02 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2010-03-26 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2012-10-28 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2013-10-21 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2010-06-20 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2012-05-14 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2013-07-15 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2013-05-10 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2014-03-04 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2010-06-17 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2014-06-22 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2012-08-24 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2010-10-20 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2010-03-24 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2008-10-15 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2009-06-25 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2013-11-11 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2009-10-05 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2008-06-09 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2014-01-27 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2011-01-18 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2008-07-17 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2012-05-25 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2008-01-04 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2008-03-01 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2012-07-19 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2009-11-14 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2013-01-29 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2008-07-12 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2010-12-27 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2011-03-06 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2012-04-16 | 3fbfbe6d-6920-4689-a009-cbe506000988\n             2011-05-23 | 3fbfbe6d-6920-4689-a009-cbe506000988\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8178,"page":1814,"page_size":100}
