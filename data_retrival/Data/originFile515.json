{"items":[{"tags":["java","git","package","git-submodules"],"answers":[{"tags":[],"owner":{"account_id":2434974,"reputation":3278,"user_id":2125110,"accept_rate":50,"display_name":"Daemon Painter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586273866,"creation_date":1586273866,"answer_id":61083808,"question_id":60494925,"body_markdown":"A few considerations on your question:\r\n\r\n    src/main/com/commonFeature/main/\r\n    src/main/com/commonFeature/test/\r\n\r\nIs not consistent with the description of your initial repository, so you&#39;ll probably have to fix a lot of broken links.\r\n\r\n    src/commonFeature/main\r\n    src/commonFeature/test\r\n\r\nThis as well is not consistent, and without any additional knowledge on `/main/com/` it is an alternative just as good as the first one.\r\n\r\nSeen that in both cases you&#39;ll have to fix a lot of links, you should approach the problem thinking in a different way.\r\n\r\nYou [cannot add a git submodule in the root of your git repository](https://stackoverflow.com/a/5232887/2125110). This forces you to move all the common libs to a new folder. If that is the case, just think of your new folder like this:\r\n\r\n    /._\r\n      |_ /.git\r\n      |_ /main\r\n      |_ /test\r\n\r\nYou&#39;ll have to add it somewhere in your current, where depends on the meaning of `/src`, `/main`, `/com`. Anyway you look at it you&#39;ll have to fix broken links.\r\n\r\nAn alternative to preserve your current tree and have another repository would be to [clone two repositories in the same directory](https://stackoverflow.com/a/17313342/2125110). This is tricky, and is a workaround to the limitation posed by SubModules.","title":"Git Submodules and packages","body":"<p>A few considerations on your question:</p>\n\n<pre><code>src/main/com/commonFeature/main/\nsrc/main/com/commonFeature/test/\n</code></pre>\n\n<p>Is not consistent with the description of your initial repository, so you'll probably have to fix a lot of broken links.</p>\n\n<pre><code>src/commonFeature/main\nsrc/commonFeature/test\n</code></pre>\n\n<p>This as well is not consistent, and without any additional knowledge on <code>/main/com/</code> it is an alternative just as good as the first one.</p>\n\n<p>Seen that in both cases you'll have to fix a lot of links, you should approach the problem thinking in a different way.</p>\n\n<p>You <a href=\"https://stackoverflow.com/a/5232887/2125110\">cannot add a git submodule in the root of your git repository</a>. This forces you to move all the common libs to a new folder. If that is the case, just think of your new folder like this:</p>\n\n<pre><code>/._\n  |_ /.git\n  |_ /main\n  |_ /test\n</code></pre>\n\n<p>You'll have to add it somewhere in your current, where depends on the meaning of <code>/src</code>, <code>/main</code>, <code>/com</code>. Anyway you look at it you'll have to fix broken links.</p>\n\n<p>An alternative to preserve your current tree and have another repository would be to <a href=\"https://stackoverflow.com/a/17313342/2125110\">clone two repositories in the same directory</a>. This is tricky, and is a workaround to the limitation posed by SubModules.</p>\n"}],"owner":{"account_id":3585117,"reputation":1566,"user_id":2992476,"accept_rate":71,"display_name":"user2992476"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":418,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680945552,"creation_date":1583175066,"question_id":60494925,"body_markdown":"I&#39;m new with Git submodules.\r\n\r\nI have the following structure in my project:\r\n\r\n    src/main/com/feature1\r\n    src/main/com/feature2\r\n    src/main/com/feature3\r\n    src/main/com/commonFeature\r\n\r\nI have the same structure for the tests, but under the following package:\r\n\r\n    src/test/com/feature1 ...\r\n\r\nAs the package &quot;commonFeature&quot; is something that I want to reuse for other projects, I would like to create a Git submodule for it. I&#39;m thinking about the following options to reorganize my packages structure:\r\n\r\n    src/main/com/commonFeature/main/\r\n    src/main/com/commonFeature/test/\r\n\r\nor\r\n\r\n    src/commonFeature/main\r\n    src/commonFeature/test\r\n\r\nThen I would keep my other packages project as before under:\r\n\r\n    src/main/com/feature1 ....\r\n\r\nWhat would be the best way?\r\n","title":"Git Submodules and packages","body":"<p>I'm new with Git submodules.</p>\n<p>I have the following structure in my project:</p>\n<pre><code>src/main/com/feature1\nsrc/main/com/feature2\nsrc/main/com/feature3\nsrc/main/com/commonFeature\n</code></pre>\n<p>I have the same structure for the tests, but under the following package:</p>\n<pre><code>src/test/com/feature1 ...\n</code></pre>\n<p>As the package &quot;commonFeature&quot; is something that I want to reuse for other projects, I would like to create a Git submodule for it. I'm thinking about the following options to reorganize my packages structure:</p>\n<pre><code>src/main/com/commonFeature/main/\nsrc/main/com/commonFeature/test/\n</code></pre>\n<p>or</p>\n<pre><code>src/commonFeature/main\nsrc/commonFeature/test\n</code></pre>\n<p>Then I would keep my other packages project as before under:</p>\n<pre><code>src/main/com/feature1 ....\n</code></pre>\n<p>What would be the best way?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1680948452,"post_id":75964347,"comment_id":133982929,"body_markdown":"You are changing the whole list but calling `notifyItemInserted` .. you should be calling `notifyDataSetChanged()` in this case  ..","body":"You are changing the whole list but calling <code>notifyItemInserted</code> .. you should be calling <code>notifyDataSetChanged()</code> in this case  .."},{"owner":{"account_id":28248115,"reputation":1,"user_id":21594800,"display_name":"profile testguest"},"score":0,"creation_date":1680949962,"post_id":75964347,"comment_id":133983084,"body_markdown":"@ADM, just tried your hint, but now it replace all holders instead... im not changing the entire list, just inserting a new weather object","body":"@ADM, just tried your hint, but now it replace all holders instead... im not changing the entire list, just inserting a new weather object"}],"owner":{"account_id":28248115,"reputation":1,"user_id":21594800,"display_name":"profile testguest"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680945378,"creation_date":1680945378,"question_id":75964347,"body_markdown":"As title, when I initialize some values into mWeatherList and then try to scroll down and up older data keep be replaced with last inserted data.\r\n\r\n\r\n```\r\npublic class HomePageFragment extends Fragment {\r\n\r\n    ///// interface for passing data between fragment and activty\r\n    private HomePageFragment.OnDataPass mVarForPassData;\r\n    public interface OnDataPass {\r\n        void onDataPass();\r\n    }\r\n    @Override\r\n    public void onAttach(@NonNull Context context) {\r\n        super.onAttach(context);\r\n        mVarForPassData = (HomePageFragment.OnDataPass) context;\r\n    }\r\n\r\n    public void passData() {\r\n        mVarForPassData.onDataPass();\r\n    }\r\n    //data pass to activity\r\n\r\n    Button mBtnLogout,mBtnAddCity;\r\n    TextInputEditText mTietCity,mTietCountry;\r\n\r\n    ///recycle\r\n    protected RecyclerView mRecyclerView;\r\n    ///working vars\r\n    private List&lt;WeatherCity&gt; mWeatherList= new ArrayList&lt;WeatherCity&gt;(); //da far diventare activity\r\n    public HomePageFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View HomePageView = inflater.inflate(R.layout.homepage_layout_fragment, container, false);\r\n\r\n        mBtnLogout=HomePageView.findViewById(R.id.btn_logout);\r\n\r\n        mTietCity=HomePageView.findViewById(R.id.tiet_city);\r\n        mTietCountry=HomePageView.findViewById(R.id.tiet_country);\r\n\r\n        mRecyclerView = HomePageView.findViewById(R.id.rv_homepage);\r\n        mBtnAddCity=HomePageView.findViewById(R.id.btn_addcity);\r\n\r\n        mBtnLogout.setOnClickListener(view -&gt; passData());\r\n\r\n        WeatherAdapter adapter = new WeatherAdapter(mWeatherList);\r\n        mRecyclerView.setAdapter(adapter);\r\n        mRecyclerView.setLayoutManager(new LinearLayoutManager(getContext()));\r\n        DividerItemDecoration dividerItemDecoration = new DividerItemDecoration(mRecyclerView.getContext(),\r\n                DividerItemDecoration.VERTICAL);\r\n        mRecyclerView.addItemDecoration(dividerItemDecoration);\r\n\r\n        mBtnAddCity.setOnClickListener(view -&gt;{\r\n            AddDataFromAPI(mTietCity.getText().toString(),mTietCountry.getText().toString());\r\n            adapter.SetLocalWeatherCities(mWeatherList,mWeatherList.size()-1);\r\n        });\r\n        return HomePageView;\r\n    }\r\n    private void AddDataFromAPI(String sentCity, String sentCountry){\r\n        ExecutorService executorService = APIcurrentData.DataFetcher(sentCity,sentCountry);\r\n        executorService.shutdown();\r\n        try {\r\n            while(!executorService.awaitTermination(100,\r\n                    TimeUnit.MILLISECONDS)){}\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        mWeatherList.add(APIcurrentData.GetWeather());\r\n    }\r\n\r\n    //recycler view\r\n    public class WeatherAdapter extends RecyclerView.Adapter&lt;WeatherAdapter.WeatherHolder&gt; {\r\n        private List&lt;WeatherCity&gt; LocalWeatherCities;\r\n\r\n        public WeatherAdapter(List&lt;WeatherCity&gt; dataSet) {\r\n            LocalWeatherCities = dataSet;\r\n        }\r\n        public void SetLocalWeatherCities(List&lt;WeatherCity&gt; dataset,int pos){\r\n            LocalWeatherCities=dataset;\r\n            notifyItemInserted(pos);\r\n        }\r\n\r\n        @NonNull\r\n        @Override\r\n        public WeatherHolder onCreateViewHolder(ViewGroup viewGroup, int viewType) {\r\n            View view = LayoutInflater.from(viewGroup.getContext())\r\n                    .inflate(R.layout.single_item_recycle_homepage, viewGroup, false);\r\n            return new WeatherHolder(view);\r\n        }\r\n\r\n        @Override\r\n        public void onBindViewHolder(WeatherHolder viewHolder, final int position) {\r\n            viewHolder.onBind(LocalWeatherCities.get(position));\r\n        }\r\n\r\n        @Override\r\n        public int getItemCount() {\r\n            return LocalWeatherCities.size();\r\n        }\r\n\r\n        @Override\r\n        public int getItemViewType(int position) {\r\n            return position;\r\n        }\r\n\r\n        public class WeatherHolder extends RecyclerView.ViewHolder {\r\n            private final ImageView\r\n                    mIV_CurrentWeather=itemView.findViewById(R.id.ic_currentweathericon),\r\n                    mIVRainLogo=itemView.findViewById(R.id.iv_rainlogo);\r\n            private final TextView\r\n                    mTV_SelectedCity=itemView.findViewById(R.id.tv_selectedcity),\r\n                    mTV_SelCityDescr=itemView.findViewById(R.id.tv_description),\r\n                    mTV_SelCityDegrees=itemView.findViewById(R.id.tv_degrees),\r\n                    mTVMinMaxCurrent=itemView.findViewById(R.id.tv_currentminmax),\r\n                    mTXCurrentCloud=itemView.findViewById(R.id.tx_currentcloud),\r\n                    mTXCurrentWind=itemView.findViewById(R.id.tx_currentwind),\r\n                    mTxCurrentHumidity=itemView.findViewById(R.id.tx_currenthumdity),\r\n                    mTxtLastUpdated=itemView.findViewById(R.id.txt_lastupdated),\r\n                    mTxtRainMM=itemView.findViewById(R.id.txt_rainmm);\r\n            private final ImageButton\r\n                    mImgBtnUpdate=itemView.findViewById(R.id.imgbtn_update),\r\n                    mImgBtnEdit=itemView.findViewById(R.id.imgbtn_editcity),\r\n                    mImgBtnDelete=itemView.findViewById(R.id.imgbtn_delete),\r\n                    mImgBtnShowonMap=itemView.findViewById(R.id.imgbtn_showonmap);\r\n            public WeatherHolder(View view) {\r\n                super(view);\r\n                // Define click listener for the ViewHolder&#39;s View\r\n              mImgBtnDelete.setOnClickListener(v -&gt; {\r\n                  LocalWeatherCities.remove(getAdapterPosition());\r\n                  notifyItemRemoved(getAdapterPosition());\r\n                  notifyItemRangeChanged(getAdapterPosition(), LocalWeatherCities.size());\r\n              });\r\n              mImgBtnUpdate.setOnClickListener(v -&gt; {\r\n\r\n              });\r\n              mImgBtnEdit.setOnClickListener(v -&gt; {\r\n\r\n              });\r\n              mImgBtnShowonMap.setOnClickListener(v -&gt; {\r\n\r\n              });\r\n            }\r\n            public void onBind(WeatherCity weatherCity){\r\n                mIV_CurrentWeather.setImageBitmap(weatherCity.getWeatherIcon());\r\n                if(!weatherCity.getRain().equals(&quot;-1&quot;)) {\r\n                    mIVRainLogo.setVisibility(View.VISIBLE);\r\n                    mTxtRainMM.setVisibility(View.VISIBLE);\r\n                    mTxtRainMM.setText(weatherCity.getRain());\r\n                }else{\r\n                    mIVRainLogo.setVisibility(View.INVISIBLE);\r\n                    mTxtRainMM.setVisibility(View.INVISIBLE);\r\n                    mTxtRainMM.setText(&quot;&quot;);\r\n                }\r\n                mTV_SelectedCity.setText(weatherCity.getCity());\r\n                mTV_SelCityDescr.setText(weatherCity.getDescription());\r\n                mTV_SelCityDegrees.setText(weatherCity.getActualTemp());\r\n                mTVMinMaxCurrent.setText(getString(R.string.minmaxdegree_single_recycle,weatherCity.getMinTemp(),\r\n                        weatherCity.getMaxTemp()));\r\n                mTXCurrentCloud.setText(getString(R.string.current_clouds,weatherCity.getClouds()));\r\n                mTxCurrentHumidity.setText(getString(R.string.currenthumdity,weatherCity.getHumidity()));\r\n                mTxtLastUpdated.setText(weatherCity.getRefreshDate());\r\n                mTXCurrentWind.setText(getString(R.string.currentwind,weatherCity.getWindSpeed(),weatherCity.getWindDegree(),\r\n                        weatherCity.getWindGuts()));\r\n\r\n            }\r\n        }\r\n    }\r\n}/////homepage fragment class\r\n```\r\n\r\n\r\nI tried everything, to save a single WeatherCity into holder, to set a new adapter every time but it just don&#39;t work, I tried set recyclable false but the problem is still here.","title":"RecyclerView keep replacing data on scroll","body":"<p>As title, when I initialize some values into mWeatherList and then try to scroll down and up older data keep be replaced with last inserted data.</p>\n<pre><code>public class HomePageFragment extends Fragment {\n\n    ///// interface for passing data between fragment and activty\n    private HomePageFragment.OnDataPass mVarForPassData;\n    public interface OnDataPass {\n        void onDataPass();\n    }\n    @Override\n    public void onAttach(@NonNull Context context) {\n        super.onAttach(context);\n        mVarForPassData = (HomePageFragment.OnDataPass) context;\n    }\n\n    public void passData() {\n        mVarForPassData.onDataPass();\n    }\n    //data pass to activity\n\n    Button mBtnLogout,mBtnAddCity;\n    TextInputEditText mTietCity,mTietCountry;\n\n    ///recycle\n    protected RecyclerView mRecyclerView;\n    ///working vars\n    private List&lt;WeatherCity&gt; mWeatherList= new ArrayList&lt;WeatherCity&gt;(); //da far diventare activity\n    public HomePageFragment() {\n        // Required empty public constructor\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        View HomePageView = inflater.inflate(R.layout.homepage_layout_fragment, container, false);\n\n        mBtnLogout=HomePageView.findViewById(R.id.btn_logout);\n\n        mTietCity=HomePageView.findViewById(R.id.tiet_city);\n        mTietCountry=HomePageView.findViewById(R.id.tiet_country);\n\n        mRecyclerView = HomePageView.findViewById(R.id.rv_homepage);\n        mBtnAddCity=HomePageView.findViewById(R.id.btn_addcity);\n\n        mBtnLogout.setOnClickListener(view -&gt; passData());\n\n        WeatherAdapter adapter = new WeatherAdapter(mWeatherList);\n        mRecyclerView.setAdapter(adapter);\n        mRecyclerView.setLayoutManager(new LinearLayoutManager(getContext()));\n        DividerItemDecoration dividerItemDecoration = new DividerItemDecoration(mRecyclerView.getContext(),\n                DividerItemDecoration.VERTICAL);\n        mRecyclerView.addItemDecoration(dividerItemDecoration);\n\n        mBtnAddCity.setOnClickListener(view -&gt;{\n            AddDataFromAPI(mTietCity.getText().toString(),mTietCountry.getText().toString());\n            adapter.SetLocalWeatherCities(mWeatherList,mWeatherList.size()-1);\n        });\n        return HomePageView;\n    }\n    private void AddDataFromAPI(String sentCity, String sentCountry){\n        ExecutorService executorService = APIcurrentData.DataFetcher(sentCity,sentCountry);\n        executorService.shutdown();\n        try {\n            while(!executorService.awaitTermination(100,\n                    TimeUnit.MILLISECONDS)){}\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n        mWeatherList.add(APIcurrentData.GetWeather());\n    }\n\n    //recycler view\n    public class WeatherAdapter extends RecyclerView.Adapter&lt;WeatherAdapter.WeatherHolder&gt; {\n        private List&lt;WeatherCity&gt; LocalWeatherCities;\n\n        public WeatherAdapter(List&lt;WeatherCity&gt; dataSet) {\n            LocalWeatherCities = dataSet;\n        }\n        public void SetLocalWeatherCities(List&lt;WeatherCity&gt; dataset,int pos){\n            LocalWeatherCities=dataset;\n            notifyItemInserted(pos);\n        }\n\n        @NonNull\n        @Override\n        public WeatherHolder onCreateViewHolder(ViewGroup viewGroup, int viewType) {\n            View view = LayoutInflater.from(viewGroup.getContext())\n                    .inflate(R.layout.single_item_recycle_homepage, viewGroup, false);\n            return new WeatherHolder(view);\n        }\n\n        @Override\n        public void onBindViewHolder(WeatherHolder viewHolder, final int position) {\n            viewHolder.onBind(LocalWeatherCities.get(position));\n        }\n\n        @Override\n        public int getItemCount() {\n            return LocalWeatherCities.size();\n        }\n\n        @Override\n        public int getItemViewType(int position) {\n            return position;\n        }\n\n        public class WeatherHolder extends RecyclerView.ViewHolder {\n            private final ImageView\n                    mIV_CurrentWeather=itemView.findViewById(R.id.ic_currentweathericon),\n                    mIVRainLogo=itemView.findViewById(R.id.iv_rainlogo);\n            private final TextView\n                    mTV_SelectedCity=itemView.findViewById(R.id.tv_selectedcity),\n                    mTV_SelCityDescr=itemView.findViewById(R.id.tv_description),\n                    mTV_SelCityDegrees=itemView.findViewById(R.id.tv_degrees),\n                    mTVMinMaxCurrent=itemView.findViewById(R.id.tv_currentminmax),\n                    mTXCurrentCloud=itemView.findViewById(R.id.tx_currentcloud),\n                    mTXCurrentWind=itemView.findViewById(R.id.tx_currentwind),\n                    mTxCurrentHumidity=itemView.findViewById(R.id.tx_currenthumdity),\n                    mTxtLastUpdated=itemView.findViewById(R.id.txt_lastupdated),\n                    mTxtRainMM=itemView.findViewById(R.id.txt_rainmm);\n            private final ImageButton\n                    mImgBtnUpdate=itemView.findViewById(R.id.imgbtn_update),\n                    mImgBtnEdit=itemView.findViewById(R.id.imgbtn_editcity),\n                    mImgBtnDelete=itemView.findViewById(R.id.imgbtn_delete),\n                    mImgBtnShowonMap=itemView.findViewById(R.id.imgbtn_showonmap);\n            public WeatherHolder(View view) {\n                super(view);\n                // Define click listener for the ViewHolder's View\n              mImgBtnDelete.setOnClickListener(v -&gt; {\n                  LocalWeatherCities.remove(getAdapterPosition());\n                  notifyItemRemoved(getAdapterPosition());\n                  notifyItemRangeChanged(getAdapterPosition(), LocalWeatherCities.size());\n              });\n              mImgBtnUpdate.setOnClickListener(v -&gt; {\n\n              });\n              mImgBtnEdit.setOnClickListener(v -&gt; {\n\n              });\n              mImgBtnShowonMap.setOnClickListener(v -&gt; {\n\n              });\n            }\n            public void onBind(WeatherCity weatherCity){\n                mIV_CurrentWeather.setImageBitmap(weatherCity.getWeatherIcon());\n                if(!weatherCity.getRain().equals(&quot;-1&quot;)) {\n                    mIVRainLogo.setVisibility(View.VISIBLE);\n                    mTxtRainMM.setVisibility(View.VISIBLE);\n                    mTxtRainMM.setText(weatherCity.getRain());\n                }else{\n                    mIVRainLogo.setVisibility(View.INVISIBLE);\n                    mTxtRainMM.setVisibility(View.INVISIBLE);\n                    mTxtRainMM.setText(&quot;&quot;);\n                }\n                mTV_SelectedCity.setText(weatherCity.getCity());\n                mTV_SelCityDescr.setText(weatherCity.getDescription());\n                mTV_SelCityDegrees.setText(weatherCity.getActualTemp());\n                mTVMinMaxCurrent.setText(getString(R.string.minmaxdegree_single_recycle,weatherCity.getMinTemp(),\n                        weatherCity.getMaxTemp()));\n                mTXCurrentCloud.setText(getString(R.string.current_clouds,weatherCity.getClouds()));\n                mTxCurrentHumidity.setText(getString(R.string.currenthumdity,weatherCity.getHumidity()));\n                mTxtLastUpdated.setText(weatherCity.getRefreshDate());\n                mTXCurrentWind.setText(getString(R.string.currentwind,weatherCity.getWindSpeed(),weatherCity.getWindDegree(),\n                        weatherCity.getWindGuts()));\n\n            }\n        }\n    }\n}/////homepage fragment class\n</code></pre>\n<p>I tried everything, to save a single WeatherCity into holder, to set a new adapter every time but it just don't work, I tried set recyclable false but the problem is still here.</p>\n"},{"tags":["java","javafx-2","javafx","fxml","scenebuilder"],"comments":[{"owner":{"account_id":2324244,"reputation":2341,"user_id":2072528,"display_name":"Kalaschni"},"score":0,"creation_date":1366729936,"post_id":16171695,"comment_id":23115844,"body_markdown":"This question is answered already:\n[here](http://stackoverflow.com/a/13806031/2072528)","body":"This question is answered already: <a href=\"http://stackoverflow.com/a/13806031/2072528\">here</a>"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1366752713,"post_id":16171695,"comment_id":23128152,"body_markdown":"possible duplicate of [Error loading fxml files from a folder other than the bin folder](http://stackoverflow.com/questions/13785919/error-loading-fxml-files-from-a-folder-other-than-the-bin-folder)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/13785919/error-loading-fxml-files-from-a-folder-other-than-the-bin-folder\">Error loading fxml files from a folder other than the bin folder</a>"}],"answers":[{"tags":[],"owner":{"account_id":1134985,"reputation":25165,"user_id":1120221,"accept_rate":91,"display_name":"Salah Eddine Taouririt"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1366731100,"creation_date":1366730197,"answer_id":16173088,"question_id":16171695,"body_markdown":"You have to set the location of the `FXML` file in your [loader][1], be sure that you are providing the correct [PATH][2] to your `FXML` file.\r\n\r\n\r\n\r\n**PS:** [Netbeans][3] is the best choice for a `JavaFX` beginner, start [Here][4].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javafx/2/api/javafx/fxml/FXMLLoader.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html#getResource%28java.lang.String%29\r\n  [3]: https://netbeans.org/\r\n  [4]: http://docs.oracle.com/javafx/","title":"Error Compiling JavaFX Application","body":"<p>You have to set the location of the <code>FXML</code> file in your <a href=\"http://docs.oracle.com/javafx/2/api/javafx/fxml/FXMLLoader.html\" rel=\"nofollow\">loader</a>, be sure that you are providing the correct <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html#getResource%28java.lang.String%29\" rel=\"nofollow\">PATH</a> to your <code>FXML</code> file.</p>\n\n<p><strong>PS:</strong> <a href=\"https://netbeans.org/\" rel=\"nofollow\">Netbeans</a> is the best choice for a <code>JavaFX</code> beginner, start <a href=\"http://docs.oracle.com/javafx/\" rel=\"nofollow\">Here</a>.</p>\n"}],"owner":{"account_id":2275724,"reputation":7961,"user_id":2002048,"accept_rate":91,"display_name":"AymenDaoudi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6508,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":16173088,"answer_count":1,"score":1,"last_activity_date":1680945180,"creation_date":1366726545,"question_id":16171695,"body_markdown":"I&#39;m new to `java`, I&#39;m trying to build a `JavaFX` Application on eclipse using `e(fx)clipse` by following a [tutorial][1] and did exactly the same, the application is very simple, when I try to compile it I get bunch of errors which I don&#39;t even understand :\r\n\r\n    Exception in Application start method\r\n    Exception in thread &quot;main&quot; java.lang.RuntimeException: Exception in Application start method\r\n    \tat com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:403)\r\n    \tat com.sun.javafx.application.LauncherImpl.access$000(LauncherImpl.java:47)\r\n    \tat com.sun.javafx.application.LauncherImpl$1.run(LauncherImpl.java:115)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n    Caused by: java.lang.IllegalStateException: Location is not set.\r\n    \tat javafx.fxml.FXMLLoader.load(FXMLLoader.java:2021)\r\n    \tat ch.makery.address.controler.MainApp.start(MainApp.java:29)\r\n    \tat com.sun.javafx.application.LauncherImpl$5.run(LauncherImpl.java:319)\r\n    \tat com.sun.javafx.application.PlatformImpl$5.run(PlatformImpl.java:206)\r\n    \tat com.sun.javafx.application.PlatformImpl$4.run(PlatformImpl.java:173)\r\n    \tat com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n    \tat com.sun.glass.ui.win.WinApplication.access$100(WinApplication.java:29)\r\n    \tat com.sun.glass.ui.win.WinApplication$2$1.run(WinApplication.java:67)\r\n    \t... 1 more\r\n\r\nplease can you tell me what I&#39;m missing.\r\n\r\n\r\n  [1]: http://edu.makery.ch/blog/2012/11/16/javafx-tutorial-addressapp-1/","title":"Error Compiling JavaFX Application","body":"<p>I'm new to <code>java</code>, I'm trying to build a <code>JavaFX</code> Application on eclipse using <code>e(fx)clipse</code> by following a <a href=\"http://edu.makery.ch/blog/2012/11/16/javafx-tutorial-addressapp-1/\" rel=\"nofollow\">tutorial</a> and did exactly the same, the application is very simple, when I try to compile it I get bunch of errors which I don't even understand :</p>\n\n<pre><code>Exception in Application start method\nException in thread \"main\" java.lang.RuntimeException: Exception in Application start method\n    at com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:403)\n    at com.sun.javafx.application.LauncherImpl.access$000(LauncherImpl.java:47)\n    at com.sun.javafx.application.LauncherImpl$1.run(LauncherImpl.java:115)\n    at java.lang.Thread.run(Unknown Source)\nCaused by: java.lang.IllegalStateException: Location is not set.\n    at javafx.fxml.FXMLLoader.load(FXMLLoader.java:2021)\n    at ch.makery.address.controler.MainApp.start(MainApp.java:29)\n    at com.sun.javafx.application.LauncherImpl$5.run(LauncherImpl.java:319)\n    at com.sun.javafx.application.PlatformImpl$5.run(PlatformImpl.java:206)\n    at com.sun.javafx.application.PlatformImpl$4.run(PlatformImpl.java:173)\n    at com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at com.sun.glass.ui.win.WinApplication.access$100(WinApplication.java:29)\n    at com.sun.glass.ui.win.WinApplication$2$1.run(WinApplication.java:67)\n    ... 1 more\n</code></pre>\n\n<p>please can you tell me what I'm missing.</p>\n"},{"tags":["java","priority-queue","java-17"],"answers":[{"tags":[],"owner":{"account_id":9945780,"reputation":490,"user_id":7360568,"display_name":"cardouken"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680944224,"creation_date":1680944224,"answer_id":75964268,"question_id":75964217,"body_markdown":"You have a naming conflict with Java&#39;s own PriorityQueue class and the compiler thinks you&#39;re instantiating your own class, not the built-in one. Just rename your class to something slightly different and it should be fine again.","title":"Type PriorityQueue is not generic in Java","body":"<p>You have a naming conflict with Java's own PriorityQueue class and the compiler thinks you're instantiating your own class, not the built-in one. Just rename your class to something slightly different and it should be fine again.</p>\n"}],"owner":{"account_id":28247882,"reputation":13,"user_id":21594616,"display_name":"Hildingr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75964268,"answer_count":1,"score":1,"last_activity_date":1680944224,"creation_date":1680943460,"question_id":75964217,"body_markdown":"When creating a PriorityQueue I get `The type PriorityQueue is not generic; it cannot be parameterized with arguments &lt;&gt;` . \r\n```\r\nimport java.util.*;\r\npublic class PriorityQueue {\r\npublic static void main (String [] args) {\r\n\r\nQueue&lt;Double&gt; queuePriority = new PriorityQueue&lt;&gt;();\r\n\t\t\r\n\t\tqueue.offer(3.0);\r\n\t\tqueue.offer(3.5);\r\n\t\tqueue.offer(2.5);\r\n\t\tqueue.offer(4.0);\r\n\t\tqueue.offer(1.5);\r\n\t\t\r\n\t\twhile (!queue.isEmpty()) {\r\n\t\t\tSystem.out.println(queue.poll());\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nIf I click &quot;Remove type arguments&quot;, I get `Type mismatch: cannot convert from PriorityQueue to Queue&lt;Double&gt;`.\r\n\r\n\r\nFollowing recommended solutions in Eclipse lead to nowhere.","title":"Type PriorityQueue is not generic in Java","body":"<p>When creating a PriorityQueue I get <code>The type PriorityQueue is not generic; it cannot be parameterized with arguments &lt;&gt;</code> .</p>\n<pre><code>import java.util.*;\npublic class PriorityQueue {\npublic static void main (String [] args) {\n\nQueue&lt;Double&gt; queuePriority = new PriorityQueue&lt;&gt;();\n        \n        queue.offer(3.0);\n        queue.offer(3.5);\n        queue.offer(2.5);\n        queue.offer(4.0);\n        queue.offer(1.5);\n        \n        while (!queue.isEmpty()) {\n            System.out.println(queue.poll());\n        }\n    }\n}\n</code></pre>\n<p>If I click &quot;Remove type arguments&quot;, I get <code>Type mismatch: cannot convert from PriorityQueue to Queue&lt;Double&gt;</code>.</p>\n<p>Following recommended solutions in Eclipse lead to nowhere.</p>\n"},{"tags":["java","android","android-studio","kotlin"],"comments":[{"owner":{"account_id":14513733,"reputation":1561,"user_id":11298876,"display_name":"Android_id"},"score":0,"creation_date":1588690115,"post_id":61615522,"comment_id":108991747,"body_markdown":"Does this answer your question? [Error:Cannot fit requested classes in a single dex file.Try supplying a main-dex list. # methods: 72477 &gt; 65536](https://stackoverflow.com/questions/48249633/errorcannot-fit-requested-classes-in-a-single-dex-file-try-supplying-a-main-dex)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/48249633/errorcannot-fit-requested-classes-in-a-single-dex-file-try-supplying-a-main-dex\">Error:Cannot fit requested classes in a single dex file.Try supplying a main-dex list. # methods: 72477 &gt; 65536</a>"}],"answers":[{"tags":[],"owner":{"account_id":10043256,"reputation":137,"user_id":7425492,"display_name":"Mohammadreza Borjian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680943599,"creation_date":1588689934,"answer_id":61615859,"question_id":61615522,"body_markdown":"you should add multidex library  \r\n\r\n    implementation &#39;com.android.support:multidex:1.0.3&#39;  \r\n\r\n\r\nand  in build.gradle file, add this line  \r\n\r\n    defaultConfig {\r\n      ...\r\n      multiDexEnabled true\r\n      ...\r\n    }\r\n\r\nafter that,\r\ncreate a class that extend MultiDexApplication.\r\noverride attachBaseContext and add\r\n\r\n    MultiDex.install(this); \r\n \r\nthe in manifest in application tag add  \r\n\r\n    android:name=&quot;.MyApplication&quot;\r\n","title":"Error: Cannot fit requested classes in a single dex file (# methods: 67451 &gt; 65536)","body":"<p>you should add multidex library</p>\n<pre><code>implementation 'com.android.support:multidex:1.0.3'  \n</code></pre>\n<p>and  in build.gradle file, add this line</p>\n<pre><code>defaultConfig {\n  ...\n  multiDexEnabled true\n  ...\n}\n</code></pre>\n<p>after that,\ncreate a class that extend MultiDexApplication.\noverride attachBaseContext and add</p>\n<pre><code>MultiDex.install(this); \n</code></pre>\n<p>the in manifest in application tag add</p>\n<pre><code>android:name=&quot;.MyApplication&quot;\n</code></pre>\n"}],"owner":{"account_id":17606066,"reputation":3,"user_id":12775096,"display_name":"Omar Ammura"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61615859,"answer_count":1,"score":0,"last_activity_date":1680943599,"creation_date":1588689021,"question_id":61615522,"body_markdown":"When i run The app i get this error &#39;Cannot fit requested classes in a single dex file (# methods: 67451 &gt; 65536)&#39;\r\nHelp me.\r\n\r\n\r\n\r\n    android {\r\n    compileSdkVersion 29\r\n    buildToolsVersion &quot;29.0.3&quot;\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.ammora.kotgram&quot;\r\n        minSdkVersion 19\r\n        targetSdkVersion 29\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n     buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n\r\n// To inline the bytecode built with JVM target 1.8 into\r\n// bytecode that is being built with JVM target 1.6. (e.g. navArgs)\r\n\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    kotlinOptions {\r\n        jvmTarget = &quot;1.8&quot;\r\n    }\r\n\r\n}\r\n\r\n\r\n    dependencies {\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\r\n    implementation &#39;androidx.appcompat:appcompat:1.1.0&#39;\r\n    implementation &#39;androidx.core:core-ktx:1.2.0&#39;\r\n    implementation &#39;com.android.support:multidex:1.0.3&#39;\r\n    implementation &#39;com.google.android.material:material:1.1.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;\r\n    implementation &#39;androidx.vectordrawable:vectordrawable:1.1.0&#39;\r\n    implementation &#39;androidx.navigation:navigation-fragment:2.2.2&#39;\r\n    implementation &#39;androidx.navigation:navigation-ui:2.2.2&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-extensions:2.2.0&#39;\r\n    implementation &#39;androidx.navigation:navigation-fragment-ktx:2.2.2&#39;\r\n    implementation &#39;androidx.navigation:navigation-ui-ktx:2.2.2&#39;\r\n    implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-analytics:17.4.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-core:17.4.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-auth:19.3.1&#39;\r\n    implementation &#39;com.google.firebase:firebase-database:19.3.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-storage:19.1.1&#39;\r\n    //adds\r\n    implementation &#39;de.hdodenhof:circleimageview:3.1.0&#39;\r\n    implementation &#39;com.squareup.picasso:picasso:2.71828&#39;\r\n    api &#39;com.theartofdev.edmodo:android-image-cropper:2.8.+&#39;\r\n\r\n\r\n    testImplementation &#39;junit:junit:4.12&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.1&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.2.0&#39;\r\n\r\n}\r\n\r\n\r\n\r\n","title":"Error: Cannot fit requested classes in a single dex file (# methods: 67451 &gt; 65536)","body":"<p>When i run The app i get this error 'Cannot fit requested classes in a single dex file (# methods: 67451 > 65536)'\nHelp me.</p>\n\n<pre><code>android {\ncompileSdkVersion 29\nbuildToolsVersion \"29.0.3\"\n\ndefaultConfig {\n    applicationId \"com.ammora.kotgram\"\n    minSdkVersion 19\n    targetSdkVersion 29\n    versionCode 1\n    versionName \"1.0\"\n\n    testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n}\n\n buildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n    }\n}\n</code></pre>\n\n<p>// To inline the bytecode built with JVM target 1.8 into\n// bytecode that is being built with JVM target 1.6. (e.g. navArgs)</p>\n\n<pre><code>compileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\nkotlinOptions {\n    jvmTarget = \"1.8\"\n}\n</code></pre>\n\n<p>}</p>\n\n<pre><code>dependencies {\nimplementation fileTree(dir: 'libs', include: ['*.jar'])\nimplementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\nimplementation 'androidx.appcompat:appcompat:1.1.0'\nimplementation 'androidx.core:core-ktx:1.2.0'\nimplementation 'com.android.support:multidex:1.0.3'\nimplementation 'com.google.android.material:material:1.1.0'\nimplementation 'androidx.constraintlayout:constraintlayout:1.1.3'\nimplementation 'androidx.vectordrawable:vectordrawable:1.1.0'\nimplementation 'androidx.navigation:navigation-fragment:2.2.2'\nimplementation 'androidx.navigation:navigation-ui:2.2.2'\nimplementation 'androidx.lifecycle:lifecycle-extensions:2.2.0'\nimplementation 'androidx.navigation:navigation-fragment-ktx:2.2.2'\nimplementation 'androidx.navigation:navigation-ui-ktx:2.2.2'\nimplementation 'androidx.legacy:legacy-support-v4:1.0.0'\nimplementation 'com.google.firebase:firebase-analytics:17.4.0'\nimplementation 'com.google.firebase:firebase-core:17.4.0'\nimplementation 'com.google.firebase:firebase-auth:19.3.1'\nimplementation 'com.google.firebase:firebase-database:19.3.0'\nimplementation 'com.google.firebase:firebase-storage:19.1.1'\n//adds\nimplementation 'de.hdodenhof:circleimageview:3.1.0'\nimplementation 'com.squareup.picasso:picasso:2.71828'\napi 'com.theartofdev.edmodo:android-image-cropper:2.8.+'\n\n\ntestImplementation 'junit:junit:4.12'\nandroidTestImplementation 'androidx.test.ext:junit:1.1.1'\nandroidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","macos-ventura"],"answers":[{"tags":[],"owner":{"account_id":2663825,"reputation":21876,"user_id":2302862,"accept_rate":100,"display_name":"Siguza"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680943252,"creation_date":1680943252,"answer_id":75964200,"question_id":75964008,"body_markdown":"The code signature is invalid:\r\n\r\n```\r\n% codesign --verify EazyCNC-2.0.38.app \r\nEazyCNC-2.0.38.app: code has no resources but signature indicates they must be present\r\n```\r\n\r\nThe binary in `Contents/MacOS` is signed as if it were a standalone binary, not an app. There is no `Contents/_CodeSignature/CodeResources`, and `codesign -dv` reveals that there is no `Info.plist` bound to the signature.\r\n\r\nAfter running `xattr -rc`, I was able to get the app to launch by first dumping its entitlements with\r\n\r\n```\r\ncodesign -d --entitlements - --xml EazyCNC-2.0.38.app/Contents/MacOS/EazyCNC &gt;ent.plist\r\n```\r\n\r\nAnd then re-signing it with:\r\n\r\n```\r\ncodesign -f -s - --entitlements ent.plist EazyCNC-2.0.38.app\r\n```\r\n\r\nNotes:\r\n\r\n- You&#39;ll want to specify the entire .app bundle, not the binary within.\r\n- Using `-s -` only works for non-quarantined files, so for files that users will download from the internet, you&#39;ll need a real code signing identity.\r\n- If you previously tried to launch the app while it had an invalid code signature, then that old signature will be cached on the vnode and will prevent the app from launching. To get around this, either copy the entire app to a new location and delete the old files, or reboot your machine.","title":"How to solve &#39;This application is damaged&quot; problem for my Java .app on macOS Ventura","body":"<p>The code signature is invalid:</p>\n<pre><code>% codesign --verify EazyCNC-2.0.38.app \nEazyCNC-2.0.38.app: code has no resources but signature indicates they must be present\n</code></pre>\n<p>The binary in <code>Contents/MacOS</code> is signed as if it were a standalone binary, not an app. There is no <code>Contents/_CodeSignature/CodeResources</code>, and <code>codesign -dv</code> reveals that there is no <code>Info.plist</code> bound to the signature.</p>\n<p>After running <code>xattr -rc</code>, I was able to get the app to launch by first dumping its entitlements with</p>\n<pre><code>codesign -d --entitlements - --xml EazyCNC-2.0.38.app/Contents/MacOS/EazyCNC &gt;ent.plist\n</code></pre>\n<p>And then re-signing it with:</p>\n<pre><code>codesign -f -s - --entitlements ent.plist EazyCNC-2.0.38.app\n</code></pre>\n<p>Notes:</p>\n<ul>\n<li>You'll want to specify the entire .app bundle, not the binary within.</li>\n<li>Using <code>-s -</code> only works for non-quarantined files, so for files that users will download from the internet, you'll need a real code signing identity.</li>\n<li>If you previously tried to launch the app while it had an invalid code signature, then that old signature will be cached on the vnode and will prevent the app from launching. To get around this, either copy the entire app to a new location and delete the old files, or reboot your machine.</li>\n</ul>\n"}],"owner":{"account_id":1075966,"reputation":478,"user_id":1074117,"accept_rate":41,"display_name":"nyholku"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":821,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75964200,"answer_count":1,"score":0,"last_activity_date":1680943252,"creation_date":1680940702,"question_id":75964008,"body_markdown":"I have a macOS application written in Java, you can try it from here:\r\n\r\nhttp://www.eazycnc.com/downloads/EazyCNC-2.0.38.dmg\r\n\r\nWhen I try to launch the application I get a \r\n\r\n**“EazyCNC-2.0.38.app” is damaged and can’t be opened. You should move it to the Bin** error dialog.\r\n\r\nThis is in Ventura 13.3 (22E252) on M2 MacBook Pro 15&quot; 32 GB 2TB mac.\r\n\r\nA friend tried this and with the same result on an Intel MBP with Ventura.\r\n\r\nI have tried to remove the quarantine attribute (a trick that used to work on my old Intel MBP Monterey) with:\r\n\r\n```\r\nxattr -rc /Applications/EazyCNC-2.0.38.app \r\n```\r\n\r\nThis did not help.\r\n\r\nAn other friend on the Ventura version that I am using but on a M1 MacBook\r\nwas able to get the application to launch with:\r\n\r\n```\r\nxattr -rc /EazyCNC-2.0.38.dmg \r\n```\r\n\r\nThe OS still complained about the app being damaged but it would allow launching it anyway.\r\n\r\nDoing \r\n```\r\nxattr -rc /Applications/EazyCNC-2.0.38.app/Contents\r\n```\r\nremoved the error altogether for him, none of that worked for me.\r\n\r\nI tried to add the app to **Developer Tools** in **System Settings / Privacy &amp; Security** but this did not help.\r\n\r\nI have tried to **&#39;right click&#39; / Open** the file **twice** which was a requirement for non signed / un-registered application in the past. Did not work.\r\n\r\nI do get the **Open Anyway** button in **System Settings** with the text **&quot;EazyCNC-2.0.38.app was blocked because it is not from an identified developer** but clicking that button gets me to the application is damaged dialog.\r\n\r\nI have also tried to disable the &#39;assesment&#39; (what ever it is) with:\r\n```\r\nsudo spctl –-global-disable\r\nspctl --status                                                        \r\nassessments disabled\r\n```\r\n\r\nAt some point the Allow applications downloaded from (o) Anywhere option appeared in the System Settings.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThis was not there to begin with, but having it there helps none.\r\n\r\nNothing helps.\r\n\r\n[edit] for full disclosure this Mac is remotely manage (I have Admin rights) protected :( by Cortex XDR), in case that makes a difference.\r\n\r\nAs a last clue I just did:\r\n```\r\n spctl --assess /Applications/EazyCNC-2.0.38.app \r\n/Applications/EazyCNC-2.0.38.app: code has no resources but signature indicates they must be present\r\n```\r\n\r\nDon&#39;t know if that is related.\r\n\r\nI have no problems running the JVM and my code from Eclipse.\r\n\r\nI don&#39;t think this is a Java related problem as such because I think it is the native launcher in .app/Contents/ that it is blocked by the macOS. I believe the native launcher (created with **jpackage**) is Intel (and Get Info on the file says that it is recognised as such). The actual **JVM** (from **temurin-11.jdk**) is also Intel.\r\n\r\nAs this is a hobby project with no income I would hate to pay for Apple Developer registration.\r\n\r\nCorrection: \r\n\r\n```\r\n java --version\r\nopenjdk 18.0.2 2022-07-19\r\nOpenJDK Runtime Environment Temurin-18.0.2+9 (build 18.0.2+9)\r\nOpenJDK 64-Bit Server VM Temurin-18.0.2+9 (build 18.0.2+9, mixed mode)\r\n```\r\n  [1]: https://i.stack.imgur.com/46W7Q.png","title":"How to solve &#39;This application is damaged&quot; problem for my Java .app on macOS Ventura","body":"<p>I have a macOS application written in Java, you can try it from here:</p>\n<p><a href=\"http://www.eazycnc.com/downloads/EazyCNC-2.0.38.dmg\" rel=\"nofollow noreferrer\">http://www.eazycnc.com/downloads/EazyCNC-2.0.38.dmg</a></p>\n<p>When I try to launch the application I get a</p>\n<p><strong>“EazyCNC-2.0.38.app” is damaged and can’t be opened. You should move it to the Bin</strong> error dialog.</p>\n<p>This is in Ventura 13.3 (22E252) on M2 MacBook Pro 15&quot; 32 GB 2TB mac.</p>\n<p>A friend tried this and with the same result on an Intel MBP with Ventura.</p>\n<p>I have tried to remove the quarantine attribute (a trick that used to work on my old Intel MBP Monterey) with:</p>\n<pre><code>xattr -rc /Applications/EazyCNC-2.0.38.app \n</code></pre>\n<p>This did not help.</p>\n<p>An other friend on the Ventura version that I am using but on a M1 MacBook\nwas able to get the application to launch with:</p>\n<pre><code>xattr -rc /EazyCNC-2.0.38.dmg \n</code></pre>\n<p>The OS still complained about the app being damaged but it would allow launching it anyway.</p>\n<p>Doing</p>\n<pre><code>xattr -rc /Applications/EazyCNC-2.0.38.app/Contents\n</code></pre>\n<p>removed the error altogether for him, none of that worked for me.</p>\n<p>I tried to add the app to <strong>Developer Tools</strong> in <strong>System Settings / Privacy &amp; Security</strong> but this did not help.</p>\n<p>I have tried to <strong>'right click' / Open</strong> the file <strong>twice</strong> which was a requirement for non signed / un-registered application in the past. Did not work.</p>\n<p>I do get the <strong>Open Anyway</strong> button in <strong>System Settings</strong> with the text <strong>&quot;EazyCNC-2.0.38.app was blocked because it is not from an identified developer</strong> but clicking that button gets me to the application is damaged dialog.</p>\n<p>I have also tried to disable the 'assesment' (what ever it is) with:</p>\n<pre><code>sudo spctl –-global-disable\nspctl --status                                                        \nassessments disabled\n</code></pre>\n<p>At some point the Allow applications downloaded from (o) Anywhere option appeared in the System Settings.</p>\n<p><a href=\"https://i.stack.imgur.com/46W7Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/46W7Q.png\" alt=\"enter image description here\" /></a></p>\n<p>This was not there to begin with, but having it there helps none.</p>\n<p>Nothing helps.</p>\n<p>[edit] for full disclosure this Mac is remotely manage (I have Admin rights) protected :( by Cortex XDR), in case that makes a difference.</p>\n<p>As a last clue I just did:</p>\n<pre><code> spctl --assess /Applications/EazyCNC-2.0.38.app \n/Applications/EazyCNC-2.0.38.app: code has no resources but signature indicates they must be present\n</code></pre>\n<p>Don't know if that is related.</p>\n<p>I have no problems running the JVM and my code from Eclipse.</p>\n<p>I don't think this is a Java related problem as such because I think it is the native launcher in .app/Contents/ that it is blocked by the macOS. I believe the native launcher (created with <strong>jpackage</strong>) is Intel (and Get Info on the file says that it is recognised as such). The actual <strong>JVM</strong> (from <strong>temurin-11.jdk</strong>) is also Intel.</p>\n<p>As this is a hobby project with no income I would hate to pay for Apple Developer registration.</p>\n<p>Correction:</p>\n<pre><code> java --version\nopenjdk 18.0.2 2022-07-19\nOpenJDK Runtime Environment Temurin-18.0.2+9 (build 18.0.2+9)\nOpenJDK 64-Bit Server VM Temurin-18.0.2+9 (build 18.0.2+9, mixed mode)\n</code></pre>\n"},{"tags":["java","compilation","javafx-2"],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1548142715,"creation_date":1330109486,"answer_id":9436341,"question_id":9436219,"body_markdown":"*Oracle Java 8*\r\n\r\nIf you are using Oracle Java 8 or newer, as pointed out by cayhorstmann in his answer, JavaFX classes are now on the default runtime classpath for an Oracle Java implementation.  You can just run `javac` and `java` on your program and the JavaFX classes will be found as expected, just like any other class in the JRE.\r\n\r\n    javac Fxservidor.java\r\n    java Fxservidor\r\n\r\n*OpenJDK 8*\r\n\r\nIf you are using OpenJDK 8, you will (currently) need to [build the JavaFX sources][5] from the OpenJFX repository and and place the resultant jfxrt.jar on your classpath similar to the description for Java 7 defined in this answer.  \r\n\r\n*JavaFX 2.x / Java 7*\r\n\r\nYou use the [Java Compiler][6] to compile JavaFX programs:\r\n\r\n    &quot;%JDK_HOME%\\bin\\javac&quot; -classpath &quot;%JAVAFX_SDK_HOME%\\rt\\lib\\jfxrt.jar&quot; fxservidor.java \r\n\r\nReplace the JDK_HOME and JAVAFX_SDK_HOME placeholders with the paths to your installed JDK and JavaFX SDK respectively.\r\n\r\nA sample windows batch script for JavaFX 2.x command line development and deployment packaging is provided [here][7].\r\n\r\nHere is a command I ran on my machine to compile your application (you need to adjust the classpath for your environment):\r\n\r\n    javac -classpath &quot;\\Program Files\\Oracle\\JavaFX 2.1 Runtime\\lib\\jfxrt.jar&quot; Fxservidor.java\r\n\r\nAnd here is a command I used to run the compiled class:\r\n\r\n    java -classpath &quot;\\Program Files\\Oracle\\JavaFX 2.1 Runtime\\lib\\jfxrt.jar;.&quot; Fxservidor\r\n\r\nNote the `;.` tokens used to append the current directory to the classpath of the java execution command in Windows (if using a Unix variant, then use `:.` instead of `;.`).\r\n\r\n*Sample App*\r\n\r\nHere is a modified version of your program which will compile:\r\n\r\n    import javafx.application.Application;\r\n    import javafx.event.ActionEvent;\r\n    import javafx.event.EventHandler;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.layout.StackPane;\r\n    import javafx.stage.Stage;\r\n\r\n    public class Fxservidor extends Application {\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    \r\n        @Override public void start(Stage primaryStage) {        \r\n            primaryStage.setTitle(&quot;Hello World!&quot;);\r\n            Button btn = new Button();\r\n            btn.setText(&quot;Say &#39;Hello World&#39;&quot;);\r\n            btn.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n                @Override\r\n                public void handle(ActionEvent event) {\r\n                    System.out.println(&quot;Hello World&quot;);\r\n                }\r\n            });\r\n    \r\n            StackPane root = new StackPane();\r\n            root.getChildren().add(btn);\r\n            primaryStage.setScene(new Scene(root, 300, 250));\r\n            primaryStage.show();\r\n        }\r\n    \r\n    }\r\n\r\n*Deployment Recommendation*\r\n\r\nIf you are deploying applications to users, even with Java 8, it is recommended that you package applications using relevant packaging tools (e.g. [JavaFX ant tasks][1], [javafxpackager][2], [javafx-maven-plugin][3] or [javafx-gradle-plugin][4]).  \r\n\r\nIf you just want to do some quick command line development and testing, of small programs, those additional packaging tools are not needed and you can just use the simple steps in this answer.\r\n\r\n  [1]: http://docs.oracle.com/javafx/2/deployment/javafx_ant_task_reference.htm\r\n  [2]: http://docs.oracle.com/javafx/2/deployment/javafxpackager001.htm\r\n  [3]: https://github.com/zonski/javafx-maven-plugin\r\n  [4]: https://bitbucket.org/shemnon/javafx-gradle\r\n  [5]: https://wiki.openjdk.java.net/display/OpenJFX/Building+OpenJFX\r\n  [6]: http://docs.oracle.com/javase/7/docs/technotes/tools/windows/javac.html\r\n  [7]: https://forums.oracle.com/forums/thread.jspa?messageID=10005793","title":"Compile code using JavaFX 2.0 (using command line)","body":"<p><em>Oracle Java 8</em></p>\n\n<p>If you are using Oracle Java 8 or newer, as pointed out by cayhorstmann in his answer, JavaFX classes are now on the default runtime classpath for an Oracle Java implementation.  You can just run <code>javac</code> and <code>java</code> on your program and the JavaFX classes will be found as expected, just like any other class in the JRE.</p>\n\n<pre><code>javac Fxservidor.java\njava Fxservidor\n</code></pre>\n\n<p><em>OpenJDK 8</em></p>\n\n<p>If you are using OpenJDK 8, you will (currently) need to <a href=\"https://wiki.openjdk.java.net/display/OpenJFX/Building+OpenJFX\" rel=\"nofollow noreferrer\">build the JavaFX sources</a> from the OpenJFX repository and and place the resultant jfxrt.jar on your classpath similar to the description for Java 7 defined in this answer.  </p>\n\n<p><em>JavaFX 2.x / Java 7</em></p>\n\n<p>You use the <a href=\"http://docs.oracle.com/javase/7/docs/technotes/tools/windows/javac.html\" rel=\"nofollow noreferrer\">Java Compiler</a> to compile JavaFX programs:</p>\n\n<pre><code>\"%JDK_HOME%\\bin\\javac\" -classpath \"%JAVAFX_SDK_HOME%\\rt\\lib\\jfxrt.jar\" fxservidor.java \n</code></pre>\n\n<p>Replace the JDK_HOME and JAVAFX_SDK_HOME placeholders with the paths to your installed JDK and JavaFX SDK respectively.</p>\n\n<p>A sample windows batch script for JavaFX 2.x command line development and deployment packaging is provided <a href=\"https://forums.oracle.com/forums/thread.jspa?messageID=10005793\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Here is a command I ran on my machine to compile your application (you need to adjust the classpath for your environment):</p>\n\n<pre><code>javac -classpath \"\\Program Files\\Oracle\\JavaFX 2.1 Runtime\\lib\\jfxrt.jar\" Fxservidor.java\n</code></pre>\n\n<p>And here is a command I used to run the compiled class:</p>\n\n<pre><code>java -classpath \"\\Program Files\\Oracle\\JavaFX 2.1 Runtime\\lib\\jfxrt.jar;.\" Fxservidor\n</code></pre>\n\n<p>Note the <code>;.</code> tokens used to append the current directory to the classpath of the java execution command in Windows (if using a Unix variant, then use <code>:.</code> instead of <code>;.</code>).</p>\n\n<p><em>Sample App</em></p>\n\n<p>Here is a modified version of your program which will compile:</p>\n\n<pre><code>import javafx.application.Application;\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.layout.StackPane;\nimport javafx.stage.Stage;\n\npublic class Fxservidor extends Application {\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    @Override public void start(Stage primaryStage) {        \n        primaryStage.setTitle(\"Hello World!\");\n        Button btn = new Button();\n        btn.setText(\"Say 'Hello World'\");\n        btn.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n            @Override\n            public void handle(ActionEvent event) {\n                System.out.println(\"Hello World\");\n            }\n        });\n\n        StackPane root = new StackPane();\n        root.getChildren().add(btn);\n        primaryStage.setScene(new Scene(root, 300, 250));\n        primaryStage.show();\n    }\n\n}\n</code></pre>\n\n<p><em>Deployment Recommendation</em></p>\n\n<p>If you are deploying applications to users, even with Java 8, it is recommended that you package applications using relevant packaging tools (e.g. <a href=\"http://docs.oracle.com/javafx/2/deployment/javafx_ant_task_reference.htm\" rel=\"nofollow noreferrer\">JavaFX ant tasks</a>, <a href=\"http://docs.oracle.com/javafx/2/deployment/javafxpackager001.htm\" rel=\"nofollow noreferrer\">javafxpackager</a>, <a href=\"https://github.com/zonski/javafx-maven-plugin\" rel=\"nofollow noreferrer\">javafx-maven-plugin</a> or <a href=\"https://bitbucket.org/shemnon/javafx-gradle\" rel=\"nofollow noreferrer\">javafx-gradle-plugin</a>).  </p>\n\n<p>If you just want to do some quick command line development and testing, of small programs, those additional packaging tools are not needed and you can just use the simple steps in this answer.</p>\n"},{"tags":[],"owner":{"account_id":1374278,"reputation":51,"user_id":1308600,"display_name":"entricular"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1351353658,"creation_date":1333386467,"answer_id":9980675,"question_id":9436219,"body_markdown":"    javac -classpath &quot;\\Program Files\\Oracle\\JavaFX 2.1 Runtime\\lib\\jfxrt.jar&quot; Fxservidor.java\r\n\r\nI ran the above command on Ubuntu Linux with `JavaFX2.0 beta` it compiled it&#39;s class files but when I tried to run it with this command it did not work.\r\n\r\n    java -classpath &quot;\\Program Files\\Oracle\\JavaFX 2.1 Runtime\\lib\\jfxrt.jar&quot; Fxservidor\r\n\r\nThis is the error message I get:\r\n\r\n&gt;Error: Could not find or load main class Fxservidor\r\n\r\n","title":"Compile code using JavaFX 2.0 (using command line)","body":"<pre><code>javac -classpath \"\\Program Files\\Oracle\\JavaFX 2.1 Runtime\\lib\\jfxrt.jar\" Fxservidor.java\n</code></pre>\n\n<p>I ran the above command on Ubuntu Linux with <code>JavaFX2.0 beta</code> it compiled it's class files but when I tried to run it with this command it did not work.</p>\n\n<pre><code>java -classpath \"\\Program Files\\Oracle\\JavaFX 2.1 Runtime\\lib\\jfxrt.jar\" Fxservidor\n</code></pre>\n\n<p>This is the error message I get:</p>\n\n<blockquote>\n  <p>Error: Could not find or load main class Fxservidor</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1107212,"reputation":121,"user_id":1098395,"display_name":"Euler Geek"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1352333097,"creation_date":1352331433,"answer_id":13280181,"question_id":9436219,"body_markdown":"In macbook, osx, etc, you can compile:\r\n\r\n    javac -cp &quot;/Library/Java/JavaVirtualMachines/jdk1.7.0_09.jdk/Contents/Home/jre/lib/jfxrt.jar&quot; Fxservidor.java\r\n\r\nand run:\r\n\r\n    java -cp &quot;.:/Library/Java/JavaVirtualMachines/jdk1.7.0_09.jdk/Contents/Home/jre/lib/jfxrt.jar&quot; Fxservidor\r\n\r\nNote the `.:` instead of  `.;`","title":"Compile code using JavaFX 2.0 (using command line)","body":"<p>In macbook, osx, etc, you can compile:</p>\n\n<pre><code>javac -cp \"/Library/Java/JavaVirtualMachines/jdk1.7.0_09.jdk/Contents/Home/jre/lib/jfxrt.jar\" Fxservidor.java\n</code></pre>\n\n<p>and run:</p>\n\n<pre><code>java -cp \".:/Library/Java/JavaVirtualMachines/jdk1.7.0_09.jdk/Contents/Home/jre/lib/jfxrt.jar\" Fxservidor\n</code></pre>\n\n<p>Note the <code>.:</code> instead of  <code>.;</code></p>\n"},{"tags":[],"owner":{"account_id":905874,"reputation":3369,"user_id":940794,"accept_rate":59,"display_name":"Rop"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1367355539,"creation_date":1367354681,"answer_id":16308673,"question_id":9436219,"body_markdown":"Raw but simple solution is to put a copy of jfxrt.jar file into the\r\n  **.../jre7/lib/ext**\r\ndirectory under your java installation.\r\n\r\nThen, you should always have it available on your classpath.\r\n\r\nNot recommended for distributing jfx apps, of course, but convenient for developer playing around...\r\n\r\n(For explanation, see: http://docs.oracle.com/javase/tutorial/ext/basics/install.html)\r\n","title":"Compile code using JavaFX 2.0 (using command line)","body":"<p>Raw but simple solution is to put a copy of jfxrt.jar file into the\n  <strong>.../jre7/lib/ext</strong>\ndirectory under your java installation.</p>\n\n<p>Then, you should always have it available on your classpath.</p>\n\n<p>Not recommended for distributing jfx apps, of course, but convenient for developer playing around...</p>\n\n<p>(For explanation, see: <a href=\"http://docs.oracle.com/javase/tutorial/ext/basics/install.html\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/ext/basics/install.html</a>)</p>\n"},{"tags":[],"owner":{"account_id":157392,"reputation":3232,"user_id":375317,"display_name":"cayhorstmann"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1374034946,"creation_date":1374034946,"answer_id":17691080,"question_id":9436219,"body_markdown":"FWIW, in JDK 8, the JavaFX jar seems to be available without having to put it on the classpath.\r\n\r\n    path/to/jdk1.8.0-b96/bin/javac HelloWorld.java\r\n    path/to/jdk1.8.0-b96/bin/java HelloWorld\r\n\r\nworks like you&#39;d expect.","title":"Compile code using JavaFX 2.0 (using command line)","body":"<p>FWIW, in JDK 8, the JavaFX jar seems to be available without having to put it on the classpath.</p>\n\n<pre><code>path/to/jdk1.8.0-b96/bin/javac HelloWorld.java\npath/to/jdk1.8.0-b96/bin/java HelloWorld\n</code></pre>\n\n<p>works like you'd expect.</p>\n"}],"owner":{"account_id":1276215,"reputation":271,"user_id":1231420,"display_name":"Jhuaraya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49826,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"answer_count":5,"score":27,"last_activity_date":1680942891,"creation_date":1330108814,"question_id":9436219,"body_markdown":"I wonder how to compile code using JavaFX, from a Windows shell.\r\n\r\nI have this code in `fxservidor.java`:\r\n\r\n    public class Fxservidor extends Application {\r\n    \r\n        /**\r\n         * @param args the command line arguments\r\n         */\r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n        \r\n        @Override\r\n        public void start(Stage primaryStage) {        \r\n            primaryStage.setTitle(&quot;Hello World!&quot;);\r\n            Button btn = new Button();\r\n            btn.setText(&quot;Say &#39;Hello World&#39;&quot;);\r\n            btn.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n    \r\n                @Override\r\n                public void handle(ActionEvent event) {\r\n                    Synthetizer os = new Synthetizer(&quot;Ximena&quot;);                \r\n                }\r\n            });\r\n            \r\n            StackPane root = new StackPane();\r\n            root.getChildren().add(btn);\r\n            primaryStage.setScene(new Scene(root, 300, 250));\r\n            primaryStage.show();\r\n        }\r\n    }","title":"Compile code using JavaFX 2.0 (using command line)","body":"<p>I wonder how to compile code using JavaFX, from a Windows shell.</p>\n\n<p>I have this code in <code>fxservidor.java</code>:</p>\n\n<pre><code>public class Fxservidor extends Application {\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage primaryStage) {        \n        primaryStage.setTitle(\"Hello World!\");\n        Button btn = new Button();\n        btn.setText(\"Say 'Hello World'\");\n        btn.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n\n            @Override\n            public void handle(ActionEvent event) {\n                Synthetizer os = new Synthetizer(\"Ximena\");                \n            }\n        });\n\n        StackPane root = new StackPane();\n        root.getChildren().add(btn);\n        primaryStage.setScene(new Scene(root, 300, 250));\n        primaryStage.show();\n    }\n}\n</code></pre>\n"},{"tags":["java","mockito","thymeleaf"],"comments":[{"owner":{"account_id":6853920,"reputation":818,"user_id":5270186,"display_name":"Suman"},"score":0,"creation_date":1600016054,"post_id":63873202,"comment_id":112948478,"body_markdown":"Try `when(templateEngine.process(anyString(),any(Context.class))).thenReturn(&quot;Test&quot;);`","body":"Try <code>when(templateEngine.process(anyString(),any(Context.class)))&zwnj;&#8203;.thenReturn(&quot;Test&quot;);</code>"},{"owner":{"account_id":18627030,"reputation":43,"user_id":13575904,"display_name":"Noboseki"},"score":0,"creation_date":1600018902,"post_id":63873202,"comment_id":112949306,"body_markdown":"I tryied that and :\n```java.lang.IllegalArgumentException: Template cannot be null (...)\nSuppressed: org.mockito.exceptions.misusing.InvalidUseOfMatchersException: \nMisplaced or misused argument matcher detected here:\n\n-&gt; at com.juniorstart.juniorstart.email.MailTemplateCreatorTest.name(MailTemplateCreatorTest.java:40)\n-&gt; at com.juniorstart.juniorstart.email.MailTemplateCreatorTest.name(MailTemplateCreatorTest.java:40)\n-&gt; at com.juniorstart.juniorstart.email.MailTemplateCreatorTest.name(MailTemplateCreatorTest.java:40)\n```","body":"I tryied that and : <code>java.lang.IllegalArgumentException: Template cannot be null (...) Suppressed: org.mockito.exceptions.misusing.InvalidUseOfMatchersExceptio&zwnj;&#8203;n:  Misplaced or misused argument matcher detected here:  -&gt; at com.juniorstart.juniorstart.email.MailTemplateCreatorTest.na&zwnj;&#8203;me(MailTemplateCreat&zwnj;&#8203;orTest.java:40) -&gt; at com.juniorstart.juniorstart.email.MailTemplateCreatorTest.na&zwnj;&#8203;me(MailTemplateCreat&zwnj;&#8203;orTest.java:40) -&gt; at com.juniorstart.juniorstart.email.MailTemplateCreatorTest.na&zwnj;&#8203;me(MailTemplateCreat&zwnj;&#8203;orTest.java:40) </code>"},{"owner":{"account_id":9168132,"reputation":517,"user_id":6816893,"display_name":"Anjani Mittal"},"score":0,"creation_date":1660038083,"post_id":63873202,"comment_id":129432466,"body_markdown":"@Noboseki any solution found for the error ? I am also facing same error.","body":"@Noboseki any solution found for the error ? I am also facing same error."},{"owner":{"account_id":12388896,"reputation":405,"user_id":9031541,"display_name":"bbortt"},"score":0,"creation_date":1680941406,"post_id":63873202,"comment_id":133982161,"body_markdown":"same problem here. did not find a solution yet :(","body":"same problem here. did not find a solution yet :("}],"answers":[{"tags":[],"owner":{"account_id":12388896,"reputation":405,"user_id":9031541,"display_name":"bbortt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680941754,"creation_date":1680941754,"answer_id":75964097,"question_id":63873202,"body_markdown":"Actually, this one has been [reported on GitHub][1] a long time ago. The problem is mockito not mocking final methods (which makes sense). The solution to this is to use the `ITemplateEngine` interface, provided since Thymeleaf 3.0 if I understood that correctly.\r\n\r\nChange the implementation of your class from `public MailTemplateCreator(@Qualifier(&quot;templateEngine&quot;) TemplateEngine templateEngine)` to `public MailTemplateCreator(@Qualifier(&quot;templateEngine&quot;) ITemplateEngine templateEngine)` and mock that interface `@Mock ITemplateEngine templateEngine;`.\r\n\r\nNow you can stub whatever you want, e.g. also `when(templateEngine.process(anyString(),any(Context.class))).thenReturn(&quot;Test&quot;);`.\r\n\r\n\r\n  [1]: https://github.com/thymeleaf/thymeleaf/issues/314","title":"org.thymeleaf.TemplateEngine mockito problem","body":"<p>Actually, this one has been <a href=\"https://github.com/thymeleaf/thymeleaf/issues/314\" rel=\"nofollow noreferrer\">reported on GitHub</a> a long time ago. The problem is mockito not mocking final methods (which makes sense). The solution to this is to use the <code>ITemplateEngine</code> interface, provided since Thymeleaf 3.0 if I understood that correctly.</p>\n<p>Change the implementation of your class from <code>public MailTemplateCreator(@Qualifier(&quot;templateEngine&quot;) TemplateEngine templateEngine)</code> to <code>public MailTemplateCreator(@Qualifier(&quot;templateEngine&quot;) ITemplateEngine templateEngine)</code> and mock that interface <code>@Mock ITemplateEngine templateEngine;</code>.</p>\n<p>Now you can stub whatever you want, e.g. also <code>when(templateEngine.process(anyString(),any(Context.class))).thenReturn(&quot;Test&quot;);</code>.</p>\n"}],"owner":{"account_id":18627030,"reputation":43,"user_id":13575904,"display_name":"Noboseki"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1678,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1680941754,"creation_date":1600015328,"question_id":63873202,"body_markdown":"Hi I have a problem with mock method templateEngine.process(...).\r\n\r\n```@Service\r\npublic class MailTemplateCreator {\r\n\r\n    private final TemplateEngine templateEngine;\r\n\r\n    public MailTemplateCreator(@Qualifier(&quot;templateEngine&quot;) TemplateEngine templateEngine) {\r\n        this.templateEngine = templateEngine;\r\n    }\r\n\r\n    /** Method for inject variables for thymeleaf html template.\r\n     * @param values class for inject values for thymeleaf context.\r\n     * @return values inject into Email-alert-template.html.\r\n     */\r\n    public String buildEmailTemplate(TemplateValues values){\r\n        Context context = new ContextBuilder()\r\n                .addVariable(&quot;topic&quot;,EmileMassages.topic(values.getChangedData()))\r\n                .addVariable(&quot;welcome&quot;,EmileMassages.welcome(values.getName()))\r\n                .addVariable(&quot;message&quot;,EmileMassages.message(values.getChangedData(),values.getDataValue()))\r\n                .addVariable(&quot;button&quot;,EmileMassages.buttonName(values.getChangedData()))\r\n                .addVariable(&quot;change_url&quot;,EmileMassages.changeLink(values.getChangeDataLink()))\r\n                .addVariable(&quot;goodbye&quot;, EmileMassages.goodbye())\r\n                .addVariable(&quot;app_name&quot;,EmileMassages.appName()).build();\r\n\r\n        return templateEngine.process(&quot;email/Email-alert-template.html&quot;,context);\r\n    }\r\n}\r\n```\r\n```@ExtendWith(MockitoExtension.class)\r\nclass MailTemplateCreatorTest {\r\n    @InjectMocks\r\n    MailTemplateCreator creator;\r\n    @Mock\r\n    TemplateEngine templateEngine;\r\n\r\n    @Test\r\n    void name() {\r\n        //Given\r\n        TemplateValues values = TemplateValues.builder()\r\n                .changeDataLink(&quot;test link&quot;)\r\n                .changedData(&quot;test Data&quot;)\r\n                .dataValue(&quot;test value&quot;)\r\n                .name(&quot;test name&quot;).build();\r\n\r\n        when(templateEngine.process(&quot;email/Email-alert-template.html&quot;,any(Context.class))).thenReturn(&quot;Test&quot;);\r\n\r\n        //When\r\n        String emailHtml =creator.buildEmailTemplate(values);\r\n\r\n        //Then\r\n        assertThat(emailHtml).isNotEmpty();\r\n    }\r\n```\r\n\r\n18:37:50.435 [main] DEBUG org.thymeleaf.TemplateEngine - [THYMELEAF] INITIALIZING TEMPLATE ENGINE\r\n\r\n\r\norg.mockito.exceptions.misusing.InvalidUseOfMatchersException: \r\nInvalid use of argument matchers!\r\n0 matchers expected, 1 recorded:\r\n-&gt; at com.juniorstart.juniorstart.email.MailTemplateCreatorTest.name(MailTemplateCreatorTest.java:39)\r\n\r\nThis exception may occur if matchers are combined with raw values:\r\n    //incorrect:\r\n    someMethod(anyObject(), &quot;raw String&quot;);\r\nWhen using matchers, all arguments have to be provided by matchers.\r\nFor example:\r\n    //correct:\r\n    someMethod(anyObject(), eq(&quot;String by matcher&quot;));\r\n\r\nFor more info see javadoc for Matchers class.\r\n\r\n\r\n\tat org.thymeleaf.TemplateEngine.initialize(TemplateEngine.java:328)\r\n\tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1079)\r\n\tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1059)\r\n\tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1048)\r\n\tat com.juniorstart.juniorstart.email.MailTemplateCreatorTest.name(MailTemplateCreatorTest.java:39)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:686)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:212)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:208)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:71)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:135)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1507)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1507)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:248)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$5(DefaultLauncher.java:211)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:226)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:199)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:132)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:230)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:58)\r\n```\r\n\r\n\r\n","title":"org.thymeleaf.TemplateEngine mockito problem","body":"<p>Hi I have a problem with mock method templateEngine.process(...).</p>\n<pre><code>public class MailTemplateCreator {\n\n    private final TemplateEngine templateEngine;\n\n    public MailTemplateCreator(@Qualifier(&quot;templateEngine&quot;) TemplateEngine templateEngine) {\n        this.templateEngine = templateEngine;\n    }\n\n    /** Method for inject variables for thymeleaf html template.\n     * @param values class for inject values for thymeleaf context.\n     * @return values inject into Email-alert-template.html.\n     */\n    public String buildEmailTemplate(TemplateValues values){\n        Context context = new ContextBuilder()\n                .addVariable(&quot;topic&quot;,EmileMassages.topic(values.getChangedData()))\n                .addVariable(&quot;welcome&quot;,EmileMassages.welcome(values.getName()))\n                .addVariable(&quot;message&quot;,EmileMassages.message(values.getChangedData(),values.getDataValue()))\n                .addVariable(&quot;button&quot;,EmileMassages.buttonName(values.getChangedData()))\n                .addVariable(&quot;change_url&quot;,EmileMassages.changeLink(values.getChangeDataLink()))\n                .addVariable(&quot;goodbye&quot;, EmileMassages.goodbye())\n                .addVariable(&quot;app_name&quot;,EmileMassages.appName()).build();\n\n        return templateEngine.process(&quot;email/Email-alert-template.html&quot;,context);\n    }\n}\n</code></pre>\n<pre><code>class MailTemplateCreatorTest {\n    @InjectMocks\n    MailTemplateCreator creator;\n    @Mock\n    TemplateEngine templateEngine;\n\n    @Test\n    void name() {\n        //Given\n        TemplateValues values = TemplateValues.builder()\n                .changeDataLink(&quot;test link&quot;)\n                .changedData(&quot;test Data&quot;)\n                .dataValue(&quot;test value&quot;)\n                .name(&quot;test name&quot;).build();\n\n        when(templateEngine.process(&quot;email/Email-alert-template.html&quot;,any(Context.class))).thenReturn(&quot;Test&quot;);\n\n        //When\n        String emailHtml =creator.buildEmailTemplate(values);\n\n        //Then\n        assertThat(emailHtml).isNotEmpty();\n    }\n</code></pre>\n<p>18:37:50.435 [main] DEBUG org.thymeleaf.TemplateEngine - [THYMELEAF] INITIALIZING TEMPLATE ENGINE</p>\n<p>org.mockito.exceptions.misusing.InvalidUseOfMatchersException:\nInvalid use of argument matchers!\n0 matchers expected, 1 recorded:\n-&gt; at com.juniorstart.juniorstart.email.MailTemplateCreatorTest.name(MailTemplateCreatorTest.java:39)</p>\n<p>This exception may occur if matchers are combined with raw values:\n//incorrect:\nsomeMethod(anyObject(), &quot;raw String&quot;);\nWhen using matchers, all arguments have to be provided by matchers.\nFor example:\n//correct:\nsomeMethod(anyObject(), eq(&quot;String by matcher&quot;));</p>\n<p>For more info see javadoc for Matchers class.</p>\n<pre><code>at org.thymeleaf.TemplateEngine.initialize(TemplateEngine.java:328)\nat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1079)\nat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1059)\nat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1048)\nat com.juniorstart.juniorstart.email.MailTemplateCreatorTest.name(MailTemplateCreatorTest.java:39)\nat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:686)\nat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\nat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\nat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\nat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\nat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\nat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\nat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\nat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:212)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:208)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:71)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:135)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1507)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1507)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\nat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\nat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:248)\nat org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$5(DefaultLauncher.java:211)\nat org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:226)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:199)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:132)\nat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)\nat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\nat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:230)\nat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:58)\n</code></pre>\n<pre><code>\n\n</code></pre>\n"},{"tags":["java","android-studio","gradle","rebuild"],"answers":[{"tags":[],"owner":{"account_id":1951,"reputation":26904,"user_id":2684,"accept_rate":87,"display_name":"Martin Marconcini"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1523050455,"creation_date":1523050455,"answer_id":49701271,"question_id":49701214,"body_markdown":"I think you’re facing a BUG in android studio, as declared by google via Twitter.\n\nI quote their 3 tweets: \n\n&gt; We&#39;ve identified an error that affects some users upgrading from AS3.0: source files may not automatically rebuild when running or debugging an application. Please add &#39;Gradle aware make&#39; to pre-launch steps in the Run Configuration or wait for AS3.1.1 hotfix early next week[1/3]\n&gt;\n&gt; Also around the time of the release, jCenter (a 3rd party repository which hosts many of the libraries used by Android developers) suffered from an outage (read more on http://status.bintray.com/ ). This caused builds to fail and was an unfortunate coincidence. [2/3]\n&gt;\n&gt; Even though this was something out of our control, we will try to come up with a way to mitigate this in the future. We apologize for any problems and ask all developers to test your projects on our weekly Canary (and soon Beta) versions of Android Studio and file bugs. [3/3]\n\nAccompanied by their image: \n\n[![enter image description here][1]][1]\n\n\nsource: https://twitter.com/androidstudio/status/981914636739076097\n\n\n  [1]: https://i.stack.imgur.com/SBWum.jpg","title":"Android studio 3.1 rebuild project each time to see the changes","body":"<p>I think you’re facing a BUG in android studio, as declared by google via Twitter.</p>\n<p>I quote their 3 tweets:</p>\n<blockquote>\n<p>We've identified an error that affects some users upgrading from AS3.0: source files may not automatically rebuild when running or debugging an application. Please add 'Gradle aware make' to pre-launch steps in the Run Configuration or wait for AS3.1.1 hotfix early next week[1/3]</p>\n<p>Also around the time of the release, jCenter (a 3rd party repository which hosts many of the libraries used by Android developers) suffered from an outage (read more on <a href=\"http://status.bintray.com/\" rel=\"nofollow noreferrer\">http://status.bintray.com/</a> ). This caused builds to fail and was an unfortunate coincidence. [2/3]</p>\n<p>Even though this was something out of our control, we will try to come up with a way to mitigate this in the future. We apologize for any problems and ask all developers to test your projects on our weekly Canary (and soon Beta) versions of Android Studio and file bugs. [3/3]</p>\n</blockquote>\n<p>Accompanied by their image:</p>\n<p><a href=\"https://i.stack.imgur.com/SBWum.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SBWum.jpg\" alt=\"enter image description here\" /></a></p>\n<p>source: <a href=\"https://twitter.com/androidstudio/status/981914636739076097\" rel=\"nofollow noreferrer\">https://twitter.com/androidstudio/status/981914636739076097</a></p>\n"},{"tags":[],"owner":{"account_id":3482475,"reputation":27230,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1551943748,"creation_date":1551174973,"answer_id":54882790,"question_id":49701214,"body_markdown":"Strange, but in Android Studio 3.3.1 I recently had gotten this bug. Nothing changed in AS, but problem appeared. I uninstalled AS, but nothing changed. I could revert to any commit in Git, but had to rebuild a project every time in order to compile.\r\n\r\nSo, a solution from https://stackoverflow.com/a/49525674/2914140 and @Martin Marconcini helped me. I added `Gradle-aware make` (leaving `Task` empty).\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIn my case I didn&#39;t add `Instant App Provision` because turned off `Instant Run`.\r\n\r\nUPDATE\r\n\r\nAfter several days I noticed that compile time had increased. When I removed that task, AS again didn&#39;t change the build. So, I added the task again.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Nh99n.png","title":"Android studio 3.1 rebuild project each time to see the changes","body":"<p>Strange, but in Android Studio 3.3.1 I recently had gotten this bug. Nothing changed in AS, but problem appeared. I uninstalled AS, but nothing changed. I could revert to any commit in Git, but had to rebuild a project every time in order to compile.</p>\n\n<p>So, a solution from <a href=\"https://stackoverflow.com/a/49525674/2914140\">https://stackoverflow.com/a/49525674/2914140</a> and @Martin Marconcini helped me. I added <code>Gradle-aware make</code> (leaving <code>Task</code> empty).</p>\n\n<p><a href=\"https://i.stack.imgur.com/Nh99n.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Nh99n.png\" alt=\"enter image description here\"></a></p>\n\n<p>In my case I didn't add <code>Instant App Provision</code> because turned off <code>Instant Run</code>.</p>\n\n<p>UPDATE</p>\n\n<p>After several days I noticed that compile time had increased. When I removed that task, AS again didn't change the build. So, I added the task again.</p>\n"},{"tags":[],"owner":{"account_id":2174298,"reputation":2215,"user_id":1925394,"accept_rate":46,"display_name":"shehzy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680941136,"creation_date":1680941136,"answer_id":75964044,"question_id":49701214,"body_markdown":"Final settings in &quot;edit configuration&quot; which helped to get rid of rebuilding project each time.\r\n\r\nAndroid Studio: Dolphin | 2021.3.1 Patch 1\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GaL5S.png","title":"Android studio 3.1 rebuild project each time to see the changes","body":"<p>Final settings in &quot;edit configuration&quot; which helped to get rid of rebuilding project each time.</p>\n<p>Android Studio: Dolphin | 2021.3.1 Patch 1</p>\n<p><a href=\"https://i.stack.imgur.com/GaL5S.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GaL5S.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":8009789,"reputation":1604,"user_id":6041952,"accept_rate":29,"display_name":"Ouail Bellal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2130,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":49701271,"answer_count":3,"score":4,"last_activity_date":1680941136,"creation_date":1523050126,"question_id":49701214,"body_markdown":"After updating my android studio to version 3.1,I have a problem which is : \r\n\r\nWhen I make some changes on my code , then I launch the execution , I get the old execution of code , until I&#39;ll rebuild the project or clean it and try again \r\nis that a problem ? \r\n\r\nPS : this happened with my old projects , i did not tried yet with new projects ","title":"Android studio 3.1 rebuild project each time to see the changes","body":"<p>After updating my android studio to version 3.1,I have a problem which is : </p>\n\n<p>When I make some changes on my code , then I launch the execution , I get the old execution of code , until I'll rebuild the project or clean it and try again \nis that a problem ? </p>\n\n<p>PS : this happened with my old projects , i did not tried yet with new projects </p>\n"},{"tags":["java","android","firebase","firebase-authentication"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1680940864,"post_id":75960721,"comment_id":133982117,"body_markdown":"Aside from my answer, if you understand Kotlin, I think that this [resource](https://medium.com/firebase-developers/how-to-authenticate-to-firebase-using-google-one-tap-in-jetpack-compose-60b30e621d0d) will help. Here is the corresponding [repo](https://github.com/alexmamo/FirebaseSignInWithGoogle).","body":"Aside from my answer, if you understand Kotlin, I think that this <a href=\"https://medium.com/firebase-developers/how-to-authenticate-to-firebase-using-google-one-tap-in-jetpack-compose-60b30e621d0d\" rel=\"nofollow noreferrer\">resource</a> will help. Here is the corresponding <a href=\"https://github.com/alexmamo/FirebaseSignInWithGoogle\" rel=\"nofollow noreferrer\">repo</a>."}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680940836,"creation_date":1680940836,"answer_id":75964021,"question_id":75960721,"body_markdown":"If you&#39;re signed in to Firebase with Google provider and you want to sign out from both Google and Firebase, then yes, you have to call `signOut()` once on a `FirebaseAuth` object and once on a `GoogleSignInClient` object like this:\r\n\r\n    firebaseAuth.signOut();\r\n    googleSignInClient.signOut();\r\n\r\n&gt; Why a FirebaseAuth.signOut() is not enough?\r\n\r\nIt&#39;s because it signs out the user only from Firebase. The Firebase sign-out operation isn&#39;t related in any with the sign-out operation from Google.\r\n\r\n&gt; Does Facebook authentication also do?\r\n\r\nYes, you should proceed in the exact same way.","title":"Do I have to call SignInClient.signOut() function if I use firebase authentication?","body":"<p>If you're signed in to Firebase with Google provider and you want to sign out from both Google and Firebase, then yes, you have to call <code>signOut()</code> once on a <code>FirebaseAuth</code> object and once on a <code>GoogleSignInClient</code> object like this:</p>\n<pre><code>firebaseAuth.signOut();\ngoogleSignInClient.signOut();\n</code></pre>\n<blockquote>\n<p>Why a FirebaseAuth.signOut() is not enough?</p>\n</blockquote>\n<p>It's because it signs out the user only from Firebase. The Firebase sign-out operation isn't related in any with the sign-out operation from Google.</p>\n<blockquote>\n<p>Does Facebook authentication also do?</p>\n</blockquote>\n<p>Yes, you should proceed in the exact same way.</p>\n"}],"owner":{"account_id":28069603,"reputation":45,"user_id":21442434,"display_name":"Edziu Kowalski"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75964021,"answer_count":1,"score":0,"last_activity_date":1680940979,"creation_date":1680888679,"question_id":75960721,"body_markdown":"Do I have to use `SignInClient.signOut()` function AND `FirebaseAuth.signOut()` at the same time to log out?\r\n\r\nIf yes, why https://firebase.google.com/docs/auth/android/google-signin does not have information about it? Why a `FirebaseAuth.signOut()` is not enough?\r\n\r\nI&#39;ve started wondering about it while reading: https://github.com/alexmamo/FirebaseAuthentication/blob/master/app/src/main/java/ro/alexmamo/firebaseauthapp/main/MainActivity.java#L74\r\n\r\nAnd if Google requires it, does Facebook authentication also do?","title":"Do I have to call SignInClient.signOut() function if I use firebase authentication?","body":"<p>Do I have to use <code>SignInClient.signOut()</code> function AND <code>FirebaseAuth.signOut()</code> at the same time to log out?</p>\n<p>If yes, why <a href=\"https://firebase.google.com/docs/auth/android/google-signin\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/auth/android/google-signin</a> does not have information about it? Why a <code>FirebaseAuth.signOut()</code> is not enough?</p>\n<p>I've started wondering about it while reading: <a href=\"https://github.com/alexmamo/FirebaseAuthentication/blob/master/app/src/main/java/ro/alexmamo/firebaseauthapp/main/MainActivity.java#L74\" rel=\"nofollow noreferrer\">https://github.com/alexmamo/FirebaseAuthentication/blob/master/app/src/main/java/ro/alexmamo/firebaseauthapp/main/MainActivity.java#L74</a></p>\n<p>And if Google requires it, does Facebook authentication also do?</p>\n"},{"tags":["java","android","smsmanager"],"comments":[{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1680939502,"post_id":75963892,"comment_id":133981966,"body_markdown":"That particular overload is deprecated. The current version takes a second argument for the format: `createFromPdu(byte[] pdu, String format)`. What you should change depends on whether you should be using that method to begin with. If you&#39;re just looking at incoming messages, you should probably be using [this method](https://developer.android.com/reference/android/provider/Telephony.Sms.Intents#getMessagesFromIntent(android.content.Intent)) instead. It will handle the PDU decoding for you, and return an array of `SmsMessage`s. If that&#39;s not what you&#39;re doing, you&#39;ll need to tell us more.","body":"That particular overload is deprecated. The current version takes a second argument for the format: <code>createFromPdu(byte[] pdu, String format)</code>. What you should change depends on whether you should be using that method to begin with. If you&#39;re just looking at incoming messages, you should probably be using <a href=\"https://developer.android.com/reference/android/provider/Telephony.Sms.Intents#getMessagesFromIntent(android.content.Intent)\" rel=\"nofollow noreferrer\">this method</a> instead. It will handle the PDU decoding for you, and return an array of <code>SmsMessage</code>s. If that&#39;s not what you&#39;re doing, you&#39;ll need to tell us more."}],"answers":[{"tags":[],"owner":{"account_id":13548231,"reputation":631,"user_id":9773847,"display_name":"Nyamkhuu Buyanjargal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680939298,"creation_date":1680939298,"answer_id":75963908,"question_id":75963892,"body_markdown":"Basically this was introduced for Android Marshmallow to support &quot;3gpp&quot; for GSM/UMTS/LTE messages in 3GPP format or &quot;3gpp2&quot; for CDMA/LTE messages in 3GPP2 format.\r\n\r\nthis is simple example, I hope it will help you\r\n\r\n    public class SMSReceiver extends BroadcastReceiver {\r\n    \r\n    public void onReceive(Context context, Intent intent)\r\n    {\r\n        Bundle myBundle = intent.getExtras();\r\n        SmsMessage [] messages = null;\r\n        String strMessage = &quot;&quot;;\r\n    \r\n        if (myBundle != null)\r\n        {\r\n            Object [] pdus = (Object[]) myBundle.get(&quot;pdus&quot;);\r\n    \r\n            messages = new SmsMessage[pdus.length];\r\n    \r\n            for (int i = 0; i &lt; messages.length; i++)\r\n            {\r\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n                    String format = myBundle.getString(&quot;format&quot;);\r\n                    messages[i] = SmsMessage.createFromPdu((byte[]) pdus[i], format);\r\n                }\r\n                else {\r\n                    messages[i] = SmsMessage.createFromPdu((byte[]) pdus[i]);\r\n                }\r\n                strMessage += &quot;SMS From: &quot; + messages[i].getOriginatingAddress();\r\n                strMessage += &quot; : &quot;;\r\n                strMessage += messages[i].getMessageBody();\r\n                strMessage += &quot;\\n&quot;;\r\n            }\r\n    \r\n            Log.e(&quot;SMS&quot;, strMessage);\r\n            Toast.makeText(context, strMessage, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n    }\r\n\r\n","title":"Getting an error in android SMS code in createFromPdu() method","body":"<p>Basically this was introduced for Android Marshmallow to support &quot;3gpp&quot; for GSM/UMTS/LTE messages in 3GPP format or &quot;3gpp2&quot; for CDMA/LTE messages in 3GPP2 format.</p>\n<p>this is simple example, I hope it will help you</p>\n<pre><code>public class SMSReceiver extends BroadcastReceiver {\n\npublic void onReceive(Context context, Intent intent)\n{\n    Bundle myBundle = intent.getExtras();\n    SmsMessage [] messages = null;\n    String strMessage = &quot;&quot;;\n\n    if (myBundle != null)\n    {\n        Object [] pdus = (Object[]) myBundle.get(&quot;pdus&quot;);\n\n        messages = new SmsMessage[pdus.length];\n\n        for (int i = 0; i &lt; messages.length; i++)\n        {\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n                String format = myBundle.getString(&quot;format&quot;);\n                messages[i] = SmsMessage.createFromPdu((byte[]) pdus[i], format);\n            }\n            else {\n                messages[i] = SmsMessage.createFromPdu((byte[]) pdus[i]);\n            }\n            strMessage += &quot;SMS From: &quot; + messages[i].getOriginatingAddress();\n            strMessage += &quot; : &quot;;\n            strMessage += messages[i].getMessageBody();\n            strMessage += &quot;\\n&quot;;\n        }\n\n        Log.e(&quot;SMS&quot;, strMessage);\n        Toast.makeText(context, strMessage, Toast.LENGTH_SHORT).show();\n    }\n}\n}\n</code></pre>\n"}],"owner":{"account_id":28247480,"reputation":19,"user_id":21594283,"display_name":"Ayush Vaze"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680939298,"creation_date":1680938952,"question_id":75963892,"body_markdown":"SmsMessage message = SmsMessage.createFromPdu((byte[]) obj);\r\n\r\n//In the above code, I get a line on &#39;createFromPdu()&#39; method.\r\n//So should i add any dependencies or any other solution. Please help me\r\n\r\nWhich dependencies should I add or change?","title":"Getting an error in android SMS code in createFromPdu() method","body":"<p>SmsMessage message = SmsMessage.createFromPdu((byte[]) obj);</p>\n<p>//In the above code, I get a line on 'createFromPdu()' method.\n//So should i add any dependencies or any other solution. Please help me</p>\n<p>Which dependencies should I add or change?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5601774,"reputation":4444,"user_id":4437780,"accept_rate":80,"display_name":"alainlompo"},"score":0,"creation_date":1424254953,"post_id":28579410,"comment_id":45470307,"body_markdown":"What is the difference between 2*x^5+1*x+6 and 2*x^2+3*x^1+4 in polynomial shape? Is it the fact that you had to specify x^1 instead of x","body":"What is the difference between 2*x^5+1*x+6 and 2*x^2+3*x^1+4 in polynomial shape? Is it the fact that you had to specify x^1 instead of x"},{"owner":{"account_id":5601774,"reputation":4444,"user_id":4437780,"accept_rate":80,"display_name":"alainlompo"},"score":0,"creation_date":1424255582,"post_id":28579410,"comment_id":45470716,"body_markdown":"One easy way to solve this is to pre - process the text by adding the missing values because 2*x^5 + 1*x + 6 is equivalent to 2*x^5 + 0*x^4 + 0*x^3 + 0*x^2 + 1*x + 6 therefore if you pre - process the user&#39;s input this way you won&#39;t have to change anything to your main logic and it will work fine","body":"One easy way to solve this is to pre - process the text by adding the missing values because 2*x^5 + 1*x + 6 is equivalent to 2*x^5 + 0*x^4 + 0*x^3 + 0*x^2 + 1*x + 6 therefore if you pre - process the user&#39;s input this way you won&#39;t have to change anything to your main logic and it will work fine"},{"owner":{"account_id":5327918,"reputation":33,"user_id":4249412,"display_name":"ehsan_faal"},"score":0,"creation_date":1424255662,"post_id":28579410,"comment_id":45470777,"body_markdown":"the difference is in  2*x^5+1*x+6  ,we have no term such x^4 or x^3 ... and in my code this is a problem,because i can&#39;t pas that equation to Equation Class specifically the     CaptureCoeff()     method.any idea?","body":"the difference is in  2*x^5+1*x+6  ,we have no term such x^4 or x^3 ... and in my code this is a problem,because i can&#39;t pas that equation to Equation Class specifically the     CaptureCoeff()     method.any idea?"},{"owner":{"account_id":5327918,"reputation":33,"user_id":4249412,"display_name":"ehsan_faal"},"score":0,"creation_date":1424255773,"post_id":28579410,"comment_id":45470855,"body_markdown":"could you give me an example about pre-process input string?","body":"could you give me an example about pre-process input string?"}],"answers":[{"tags":[],"owner":{"account_id":5601774,"reputation":4444,"user_id":4437780,"accept_rate":80,"display_name":"alainlompo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1424275481,"creation_date":1424275481,"answer_id":28588103,"question_id":28579410,"body_markdown":"Let&#39;s go with the following equation `String Str2 = &quot;3.1415x^5+6x^2+12*x-5&quot;;`\r\nHere is the code that I have added upon your code in order to preprocess this equation and made it compatible to your actual logic so that It will treat it without any major change to your code.\r\n\r\nTo be totally accurate I had to change the following in your equation class:\r\n\r\n    public List&lt;BigDecimal&gt; CaptureCoeff() {\r\n        getDegree();\r\n        List&lt;BigDecimal&gt; Temp = new ArrayList&lt;BigDecimal&gt;();\r\n        for (String S : C) {\r\n        \tif (! &quot;&quot;.equals(S.trim())) {\r\n        \t\tTemp.add(new BigDecimal(S));\r\n        \t}\r\n        }\r\n   \r\n         \r\nSo I have added the control to check that none of these S strings is trim - empty.\r\n\r\nHere is my preprocessing code.\r\n\r\nI have added a method called **powerSplitt** that allows to splitt the equation on the basis of the &#39;^&#39; char.\r\n\r\nThen I created another method called **generateNullCoeffPolynomeWithDegree** that generate a monome in the form 0*X^k. And a similar one that generate all the similar intermediate monomes between the greater power and the lesser power\r\n\r\nExample: \r\n    String str3 = generateAllNullCoeffPolynomesWithDegreeExclusiveBetween(5, 2);\r\n    System.out.println(&quot;all poly = &quot; + str3);\r\n\r\nwill generate: all poly = 0*x^4+0*x^3\r\n\r\nThen I created a **buildPreProcessedPolynome** that takes the initial equation and pre process it to produce one with the null monomes inside of it. And then I just gave it to your equation program and it could process it fine!!!\r\n\r\nHere is the code and a call example all done in the MainClass \r\n\r\n    import java.math.RoundingMode;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class MainClass {\r\n\r\n\tprivate static List&lt;String&gt; workList = new ArrayList&lt;String&gt;();\r\n\t\r\n\tpublic static void powerSplitt(String equationText) {\r\n\t\t\r\n\t\tchar[] charsList = equationText.toCharArray();\r\n\t\t\r\n\t\tboolean foundTargetChar = false;\r\n\t\tint index = 0;\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; charsList.length; i++) {\r\n\t\t\tindex = i;\r\n\t\t\tif (charsList[i] == &#39;^&#39;) {\r\n\t\t\r\n\t\t\t\tfoundTargetChar = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (foundTargetChar) {\r\n\t\t\t\r\n\t\t\tworkList.add(equationText.substring(0, index));\r\n\t\t\tif (index +1 &lt; equationText.length()) {\r\n\t\t\t\tpowerSplitt(equationText.substring(index+1));\r\n\t\t\t} else {\r\n\t\t\t\tworkList.add(equationText);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tworkList.add(equationText);\r\n\t\t}\r\n\t\t\t\r\n\t}\r\n\t\r\n\t\r\n\tpublic static String generateNullCoeffPolynomeWithDegree(int degree) {\r\n\t\treturn &quot;0*x^&quot; + degree;\r\n\t}\r\n\t\r\n\tpublic static String generateAllNullCoeffPolynomesWithDegreeExclusiveBetween(int startDegree, int endDegree) {\r\n\t\tif (startDegree-endDegree &lt;= 1) {\r\n\t\t\treturn &quot;&quot;;\r\n\t\t}\r\n\t\t\r\n\t\tint index = 0;\r\n\t\tStringBuilder builder = new StringBuilder();\r\n\t\tfor (int i = startDegree -1; i &gt; endDegree; i--) {\r\n\t\t\tif (index &gt; 0) {\r\n\t\t\t\tbuilder.append(&quot;+&quot;);\r\n\t\t\t}\r\n\t\t\tbuilder.append(generateNullCoeffPolynomeWithDegree(i));\r\n\t\t\tindex++;\r\n\t\t}\r\n\t\t\r\n\t\treturn builder.toString();\r\n\t}\r\n\t\r\n\tpublic static String buildPreProcessedPolynome(String initialEquationText) {\r\n\t\tworkList.clear();\r\n\t\tpowerSplitt(initialEquationText);\r\n\t\t\r\n\t\t\r\n\t\tStringBuilder resultBuilder = new StringBuilder();\r\n\t\tassert workList.size() &gt;= 3;\r\n\t\tresultBuilder.append(workList.get(0));\r\n\t\t\r\n\t\tfor (int i = 1; i &lt;= workList.size()-2; i++) {\r\n\t\t\tint actualPower = Integer.parseInt( workList.get(i).substring(0,1));\r\n\t\t\t\r\n\t\t\tint nextFoundPower = Integer.parseInt( workList.get(i+1).substring(0,1));\r\n\t\t\tSystem.out.print(&quot;actual power = &quot; + actualPower + &quot; and next power = &quot; + nextFoundPower);\r\n\t\t\tSystem.out.println();\r\n\t\t\t\r\n\t\t\tString additionalPolyParts = generateAllNullCoeffPolynomesWithDegreeExclusiveBetween(actualPower, nextFoundPower);\r\n\t\t\tresultBuilder.append(&quot;^&quot; + actualPower);\r\n\t\t\tresultBuilder.append(&quot;+&quot;);\r\n\t\t\tresultBuilder.append(additionalPolyParts);\r\n\t\t\tresultBuilder.append(workList.get(i).substring(1));\r\n\t\t\t\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tresultBuilder.append(&quot;^&quot; + workList.get(workList.size()-1));\r\n\t\treturn resultBuilder.toString();\r\n\t}\r\n\t\r\n    public static void main(String[] args) {\r\n        workList.clear();\r\n        \r\n        String Str2 = &quot;3.1415x^5+6x^2+12*x-5&quot;;\r\n        \r\n    \tpowerSplitt(Str2);\r\n    \t\r\n        for (String part: workList) {\r\n        \tSystem.out.println(&quot;PART:&quot;  + part);\r\n        }\r\n        \r\n        System.out.println(&quot;-----------------&quot;);\r\n        \r\n    \tlong Start = System.nanoTime();\r\n        \r\n    \tString str3 = generateAllNullCoeffPolynomesWithDegreeExclusiveBetween(5, 2);\r\n    \tSystem.out.println(&quot;all poly = &quot; + str3);\r\n    \t\r\n    \tString preprocessed = buildPreProcessedPolynome(Str2);\r\n    \tSystem.out.println(&quot;preprocessed = &quot; + preprocessed);\r\n    \t\r\n    \tSystem.out.println();\r\n    \t\r\n        Equation E = new Equation(preprocessed);\r\n        System.out.println(&quot;Equation is: &quot; + E.SourceEquation());\r\n        System.out.println(&quot;Coefficients :&quot; + E.CaptureCoeff());\r\n        System.out.println(&quot;Polynomial Degree: &quot; + E.getDegree());\r\n        double Target = 47.784;\r\n        System.out.println(&quot;Equation @ (X:&quot; + Target + &quot;)= &quot; + E.Evaluate(E.CaptureCoeff(), Target).setScale(15, RoundingMode.HALF_UP));\r\n        System.out.println(&quot;Elapsed Time: &quot; + String.format(&quot;%.20G&quot;, (System.nanoTime() - Start) / 1.0e6) + &quot; ms.&quot;);\r\n    }\r\n}\r\n\r\nAnd here is the produced results (I haved added some System.out.println to check the results of my methods calls. I just noticed I have to take into account the last constant as a monome of type K*X^0, but I will leave that to you):\r\n\r\n&gt; PART:3.1415x\r\n&gt; PART:5+6x\r\n&gt; PART:2+12*x-5\r\n&gt; -----------------\r\n&gt; all poly = 0*x^4+0*x^3\r\n&gt; actual power = 5 and next power = 2\r\n&gt; preprocessed = 3.1415x^5+0*x^4+0*x^3+6x^2+12*x-5\r\n\r\n&gt; Equation is: 3.1415*(X)^5 + 0*(X)^4 + 0*(X)^3 + 6*(X)^2 + 12*(X) - 5\r\n&gt; Coefficients :[3.1415, 0, 0, 6, 12]\r\n&gt; Polynomial Degree: 5\r\n&gt; Equation @ (X:47.784)= 782631805.485054892561514\r\n&gt; Elapsed Time: 18,441978000000000000 ms.\r\n","title":"Extracting polynomial coefficients from input string","body":"<p>Let's go with the following equation <code>String Str2 = \"3.1415x^5+6x^2+12*x-5\";</code>\nHere is the code that I have added upon your code in order to preprocess this equation and made it compatible to your actual logic so that It will treat it without any major change to your code.</p>\n\n<p>To be totally accurate I had to change the following in your equation class:</p>\n\n<pre><code>public List&lt;BigDecimal&gt; CaptureCoeff() {\n    getDegree();\n    List&lt;BigDecimal&gt; Temp = new ArrayList&lt;BigDecimal&gt;();\n    for (String S : C) {\n        if (! \"\".equals(S.trim())) {\n            Temp.add(new BigDecimal(S));\n        }\n    }\n</code></pre>\n\n<p>So I have added the control to check that none of these S strings is trim - empty.</p>\n\n<p>Here is my preprocessing code.</p>\n\n<p>I have added a method called <strong>powerSplitt</strong> that allows to splitt the equation on the basis of the '^' char.</p>\n\n<p>Then I created another method called <strong>generateNullCoeffPolynomeWithDegree</strong> that generate a monome in the form 0*X^k. And a similar one that generate all the similar intermediate monomes between the greater power and the lesser power</p>\n\n<p>Example: \n    String str3 = generateAllNullCoeffPolynomesWithDegreeExclusiveBetween(5, 2);\n    System.out.println(\"all poly = \" + str3);</p>\n\n<p>will generate: all poly = 0*x^4+0*x^3</p>\n\n<p>Then I created a <strong>buildPreProcessedPolynome</strong> that takes the initial equation and pre process it to produce one with the null monomes inside of it. And then I just gave it to your equation program and it could process it fine!!!</p>\n\n<p>Here is the code and a call example all done in the MainClass </p>\n\n<pre><code>import java.math.RoundingMode;\n</code></pre>\n\n<p>import java.util.ArrayList;\nimport java.util.List;</p>\n\n<p>public class MainClass {</p>\n\n<pre><code>private static List&lt;String&gt; workList = new ArrayList&lt;String&gt;();\n\npublic static void powerSplitt(String equationText) {\n\n    char[] charsList = equationText.toCharArray();\n\n    boolean foundTargetChar = false;\n    int index = 0;\n\n    for (int i = 0; i &lt; charsList.length; i++) {\n        index = i;\n        if (charsList[i] == '^') {\n\n            foundTargetChar = true;\n            break;\n        }\n    }\n    if (foundTargetChar) {\n\n        workList.add(equationText.substring(0, index));\n        if (index +1 &lt; equationText.length()) {\n            powerSplitt(equationText.substring(index+1));\n        } else {\n            workList.add(equationText);\n            return;\n        }\n    } else {\n        workList.add(equationText);\n    }\n\n}\n\n\npublic static String generateNullCoeffPolynomeWithDegree(int degree) {\n    return \"0*x^\" + degree;\n}\n\npublic static String generateAllNullCoeffPolynomesWithDegreeExclusiveBetween(int startDegree, int endDegree) {\n    if (startDegree-endDegree &lt;= 1) {\n        return \"\";\n    }\n\n    int index = 0;\n    StringBuilder builder = new StringBuilder();\n    for (int i = startDegree -1; i &gt; endDegree; i--) {\n        if (index &gt; 0) {\n            builder.append(\"+\");\n        }\n        builder.append(generateNullCoeffPolynomeWithDegree(i));\n        index++;\n    }\n\n    return builder.toString();\n}\n\npublic static String buildPreProcessedPolynome(String initialEquationText) {\n    workList.clear();\n    powerSplitt(initialEquationText);\n\n\n    StringBuilder resultBuilder = new StringBuilder();\n    assert workList.size() &gt;= 3;\n    resultBuilder.append(workList.get(0));\n\n    for (int i = 1; i &lt;= workList.size()-2; i++) {\n        int actualPower = Integer.parseInt( workList.get(i).substring(0,1));\n\n        int nextFoundPower = Integer.parseInt( workList.get(i+1).substring(0,1));\n        System.out.print(\"actual power = \" + actualPower + \" and next power = \" + nextFoundPower);\n        System.out.println();\n\n        String additionalPolyParts = generateAllNullCoeffPolynomesWithDegreeExclusiveBetween(actualPower, nextFoundPower);\n        resultBuilder.append(\"^\" + actualPower);\n        resultBuilder.append(\"+\");\n        resultBuilder.append(additionalPolyParts);\n        resultBuilder.append(workList.get(i).substring(1));\n\n    }\n\n    resultBuilder.append(\"^\" + workList.get(workList.size()-1));\n    return resultBuilder.toString();\n}\n\npublic static void main(String[] args) {\n    workList.clear();\n\n    String Str2 = \"3.1415x^5+6x^2+12*x-5\";\n\n    powerSplitt(Str2);\n\n    for (String part: workList) {\n        System.out.println(\"PART:\"  + part);\n    }\n\n    System.out.println(\"-----------------\");\n\n    long Start = System.nanoTime();\n\n    String str3 = generateAllNullCoeffPolynomesWithDegreeExclusiveBetween(5, 2);\n    System.out.println(\"all poly = \" + str3);\n\n    String preprocessed = buildPreProcessedPolynome(Str2);\n    System.out.println(\"preprocessed = \" + preprocessed);\n\n    System.out.println();\n\n    Equation E = new Equation(preprocessed);\n    System.out.println(\"Equation is: \" + E.SourceEquation());\n    System.out.println(\"Coefficients :\" + E.CaptureCoeff());\n    System.out.println(\"Polynomial Degree: \" + E.getDegree());\n    double Target = 47.784;\n    System.out.println(\"Equation @ (X:\" + Target + \")= \" + E.Evaluate(E.CaptureCoeff(), Target).setScale(15, RoundingMode.HALF_UP));\n    System.out.println(\"Elapsed Time: \" + String.format(\"%.20G\", (System.nanoTime() - Start) / 1.0e6) + \" ms.\");\n}\n</code></pre>\n\n<p>}</p>\n\n<p>And here is the produced results (I haved added some System.out.println to check the results of my methods calls. I just noticed I have to take into account the last constant as a monome of type K*X^0, but I will leave that to you):</p>\n\n<blockquote>\n  <p>PART:3.1415x\n  PART:5+6x</p>\n  \n  <h2>PART:2+12*x-5</h2>\n  \n  <p>all poly = 0*x^4+0*x^3\n  actual power = 5 and next power = 2\n  preprocessed = 3.1415x^5+0*x^4+0*x^3+6x^2+12*x-5</p>\n  \n  <p>Equation is: 3.1415*(X)^5 + 0*(X)^4 + 0*(X)^3 + 6*(X)^2 + 12*(X) - 5\n  Coefficients :[3.1415, 0, 0, 6, 12]\n  Polynomial Degree: 5\n  Equation @ (X:47.784)= 782631805.485054892561514\n  Elapsed Time: 18,441978000000000000 ms.</p>\n</blockquote>\n"}],"owner":{"account_id":5327918,"reputation":33,"user_id":4249412,"display_name":"ehsan_faal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2269,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":28588103,"answer_count":1,"score":2,"last_activity_date":1680938278,"creation_date":1424249541,"question_id":28579410,"body_markdown":"I wrote this code for extracting polynomial coefficients and also evaluating equation in a point, and it works. Now, I want to modify that, so the user can enter any shape of polynomial equation.\r\n\r\nIn my code you have to enter equation like this:\r\n\r\n    2*x^2+3*x^1+4\r\n\r\nI want to change this so it accepts:      \r\n\r\n    2*x^5+1*x+6\r\n\r\nAlso, if there any terms with the same power, their coefficients must be added together.\r\n\r\nHere is my code in java:\r\n\r\n```java\r\npackage Priest;\r\n\r\nimport java.math.BigDecimal;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class Equation {\r\n\r\n    private String Eq;\r\n    private final String[] C;\r\n    private int Deg;\r\n    private final String EqHolder;\r\n\r\n    public Equation(String Equation) {\r\n        this.Eq = Equation;\r\n        EqHolder = Equation;\r\n        Eq = Eq.replaceAll(&quot;[^0-9\\\\-\\\\.]+&quot;, &quot; &quot;);\r\n        Eq = Eq.replaceAll(&quot;-&quot;, &quot; -&quot;);\r\n        this.C = Eq.split(&quot; &quot;);\r\n    }\r\n\r\n    public String SourceEquation() {\r\n        return EqHolder.toUpperCase().replaceAll(&quot;\\\\*&quot;, &quot;&quot;).replaceAll(&quot;[a-zA-Z]&quot;, &quot;\\\\*(X)&quot;).replaceAll(&quot;\\\\+&quot;, &quot;\\\\ + &quot;).replaceAll(&quot;\\\\-&quot;, &quot;\\\\ - &quot;);\r\n    }\r\n\r\n    public List&lt;BigDecimal&gt; CaptureCoeff() {\r\n        getDegree();\r\n        List&lt;BigDecimal&gt; Temp = new ArrayList&lt;&gt;();\r\n        for (String S : C) {\r\n            Temp.add(new BigDecimal(S));\r\n        }\r\n        int Location = Temp.indexOf(BigDecimal.valueOf(Deg));\r\n        List&lt;BigDecimal&gt; Coeffs = new ArrayList&lt;&gt;();\r\n        for (int Counter = Location - 1; Counter &lt; Temp.size(); Counter += 2) {\r\n            Coeffs.add(Temp.get(Counter));\r\n        }\r\n        return Coeffs;\r\n    }\r\n\r\n    public int getDegree() {\r\n        int Degree = 0;\r\n        for (int Counter = 0; Counter &lt; C.length; Counter += 2) {\r\n            if ((new Double(C[Counter])) != 0) {\r\n                Degree = new Integer(C[Counter + 1]);\r\n                this.Deg = Degree;\r\n                break;\r\n            }\r\n        }\r\n        return Degree;\r\n    }\r\n\r\n    public BigDecimal Evaluate(List&lt;BigDecimal&gt; Coefficients, double EvalPoint) {\r\n        BigDecimal Output = BigDecimal.ZERO;\r\n        for (int Index = 0; Index &lt; Coefficients.size(); Index++) {\r\n            Output = Output.add(Coefficients.get(Index).multiply(BigDecimal.valueOf(EvalPoint).pow(Deg--)));\r\n        }\r\n        return Output;\r\n    }\r\n}\r\n```\r\n\r\nAnd main class:\r\n\r\n```java\r\npackage Priest;\r\n\r\nimport java.math.RoundingMode;\r\n\r\npublic class MainClass {\r\n\r\n    public static void main(String[] args) {\r\n        long Start = System.nanoTime();\r\n        String Str = &quot;3.1415x^5-12.6x^4+6x^3+12*x^2-6*x^1-0&quot;;\r\n        Equation E = new Equation(Str);\r\n        System.out.println(&quot;Equation is: &quot; + E.SourceEquation());\r\n        System.out.println(&quot;Coefficients :&quot; + E.CaptureCoeff());\r\n        System.out.println(&quot;Polynomial Degree: &quot; + E.getDegree());\r\n        double Target = 47.784;\r\n        System.out.println(&quot;Equation @ (X:&quot; + Target + &quot;)= &quot; + E.Evaluate(E.CaptureCoeff(), Target).setScale(15, RoundingMode.HALF_UP));\r\n        System.out.println(&quot;Elapsed Time: &quot; + String.format(&quot;%.20G&quot;, (System.nanoTime() - Start) / 1.0e6) + &quot; ms.&quot;);\r\n    }\r\n}\r\n```\r\n\r\nThe output:\r\n\r\n```none\r\nrun:\r\nEquation is: 3.1415*(X)^5 - 12.6*(X)^4 + 6*(X)^3 + 12*(X)^2 - 6*(X)^1 - 0\r\nCoefficients :[3.1415, -12.6, 6, 12, -6, 0]\r\nPolynomial Degree: 5\r\nEquation @ (X:47.784)= 717609084.382589022327914\r\nElapsed Time: 32.306242000000000000 ms.\r\nBUILD SUCCESSFUL (total time: 0 seconds)\r\n```\r\n","title":"Extracting polynomial coefficients from input string","body":"<p>I wrote this code for extracting polynomial coefficients and also evaluating equation in a point, and it works. Now, I want to modify that, so the user can enter any shape of polynomial equation.</p>\n<p>In my code you have to enter equation like this:</p>\n<pre><code>2*x^2+3*x^1+4\n</code></pre>\n<p>I want to change this so it accepts:</p>\n<pre><code>2*x^5+1*x+6\n</code></pre>\n<p>Also, if there any terms with the same power, their coefficients must be added together.</p>\n<p>Here is my code in java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package Priest;\n\nimport java.math.BigDecimal;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Equation {\n\n    private String Eq;\n    private final String[] C;\n    private int Deg;\n    private final String EqHolder;\n\n    public Equation(String Equation) {\n        this.Eq = Equation;\n        EqHolder = Equation;\n        Eq = Eq.replaceAll(&quot;[^0-9\\\\-\\\\.]+&quot;, &quot; &quot;);\n        Eq = Eq.replaceAll(&quot;-&quot;, &quot; -&quot;);\n        this.C = Eq.split(&quot; &quot;);\n    }\n\n    public String SourceEquation() {\n        return EqHolder.toUpperCase().replaceAll(&quot;\\\\*&quot;, &quot;&quot;).replaceAll(&quot;[a-zA-Z]&quot;, &quot;\\\\*(X)&quot;).replaceAll(&quot;\\\\+&quot;, &quot;\\\\ + &quot;).replaceAll(&quot;\\\\-&quot;, &quot;\\\\ - &quot;);\n    }\n\n    public List&lt;BigDecimal&gt; CaptureCoeff() {\n        getDegree();\n        List&lt;BigDecimal&gt; Temp = new ArrayList&lt;&gt;();\n        for (String S : C) {\n            Temp.add(new BigDecimal(S));\n        }\n        int Location = Temp.indexOf(BigDecimal.valueOf(Deg));\n        List&lt;BigDecimal&gt; Coeffs = new ArrayList&lt;&gt;();\n        for (int Counter = Location - 1; Counter &lt; Temp.size(); Counter += 2) {\n            Coeffs.add(Temp.get(Counter));\n        }\n        return Coeffs;\n    }\n\n    public int getDegree() {\n        int Degree = 0;\n        for (int Counter = 0; Counter &lt; C.length; Counter += 2) {\n            if ((new Double(C[Counter])) != 0) {\n                Degree = new Integer(C[Counter + 1]);\n                this.Deg = Degree;\n                break;\n            }\n        }\n        return Degree;\n    }\n\n    public BigDecimal Evaluate(List&lt;BigDecimal&gt; Coefficients, double EvalPoint) {\n        BigDecimal Output = BigDecimal.ZERO;\n        for (int Index = 0; Index &lt; Coefficients.size(); Index++) {\n            Output = Output.add(Coefficients.get(Index).multiply(BigDecimal.valueOf(EvalPoint).pow(Deg--)));\n        }\n        return Output;\n    }\n}\n</code></pre>\n<p>And main class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package Priest;\n\nimport java.math.RoundingMode;\n\npublic class MainClass {\n\n    public static void main(String[] args) {\n        long Start = System.nanoTime();\n        String Str = &quot;3.1415x^5-12.6x^4+6x^3+12*x^2-6*x^1-0&quot;;\n        Equation E = new Equation(Str);\n        System.out.println(&quot;Equation is: &quot; + E.SourceEquation());\n        System.out.println(&quot;Coefficients :&quot; + E.CaptureCoeff());\n        System.out.println(&quot;Polynomial Degree: &quot; + E.getDegree());\n        double Target = 47.784;\n        System.out.println(&quot;Equation @ (X:&quot; + Target + &quot;)= &quot; + E.Evaluate(E.CaptureCoeff(), Target).setScale(15, RoundingMode.HALF_UP));\n        System.out.println(&quot;Elapsed Time: &quot; + String.format(&quot;%.20G&quot;, (System.nanoTime() - Start) / 1.0e6) + &quot; ms.&quot;);\n    }\n}\n</code></pre>\n<p>The output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>run:\nEquation is: 3.1415*(X)^5 - 12.6*(X)^4 + 6*(X)^3 + 12*(X)^2 - 6*(X)^1 - 0\nCoefficients :[3.1415, -12.6, 6, 12, -6, 0]\nPolynomial Degree: 5\nEquation @ (X:47.784)= 717609084.382589022327914\nElapsed Time: 32.306242000000000000 ms.\nBUILD SUCCESSFUL (total time: 0 seconds)\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":15138451,"reputation":460,"user_id":12083015,"display_name":"Erwin"},"score":0,"creation_date":1680937763,"post_id":75963603,"comment_id":133981790,"body_markdown":"I have checked your code `public void excluir(String folderExcluir) throws IOException` and it&#39;s working fine, and I gave full path &amp; filename to the parameter, so it&#39;s going to this part of code `if (!pathExcluir.toFile().delete())`. May be you should check the value that being passed `folderExcluir`, in case it&#39;s a directory name, or may be `user.getFotoPerfil()` and `user.getFotoBackground()` is empty","body":"I have checked your code <code>public void excluir(String folderExcluir) throws IOException</code> and it&#39;s working fine, and I gave full path &amp; filename to the parameter, so it&#39;s going to this part of code <code>if (!pathExcluir.toFile().delete())</code>. May be you should check the value that being passed <code>folderExcluir</code>, in case it&#39;s a directory name, or may be <code>user.getFotoPerfil()</code> and <code>user.getFotoBackground()</code> is empty"}],"owner":{"account_id":28247043,"reputation":1,"user_id":21593903,"display_name":"Gabriel Victor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680937894,"creation_date":1680934163,"question_id":75963603,"body_markdown":"I have a system that has users and these users have two images related to it and these images are in the same folder. When I try to delete an image in that folder, the other images added are also deleted, follow the methods related to this logic:\r\n\r\n```java\r\n@PutMapping(&quot;/usuarioImage/{tipo}/{login}/{senha}&quot;)\r\npublic ResponseEntity&lt;Object&gt; updateImage(@RequestParam(&quot;image&quot;) MultipartFile image,\r\n        @PathVariable String tipo, @PathVariable String login, @PathVariable String senha) {\r\n    Optional&lt;Usuarios&gt; usuario = usuariosService.Login(login, senha);\r\n    System.out.println(image.getOriginalFilename());\r\n    if (usuario.isEmpty()) {\r\n        return new ResponseEntity&lt;&gt;(HttpStatus.UNAUTHORIZED);\r\n    } else {\r\n        try {\r\n            Usuarios user = usuario.get();\r\n            String imagePath = GlobalPath + usuario.get().getInstituicao().getNome() + &quot;/&quot;\r\n                    + removeSpecialCharacters(usuario.get().getEmail()) + &quot;/&quot;;\r\n            String originalFilename = image.getOriginalFilename();\r\n\r\n            // Verificar o tipo de imagem e atualizar o caminho da imagem correspondente\r\n            if (&quot;perfil&quot;.equalsIgnoreCase(tipo)) {\r\n                imageService.persistir(image, imagePath);\r\n                if (!user.getFotoPerfil().equals(&quot;userIcon.png&quot;)) {\r\n                    String a = GlobalPath + user.getFotoPerfil();\r\n                    System.out.println(&quot;\\n\\n\\n\\n\\n\\n PATH PASSADO: &quot; + a + &quot;\\n\\n\\n\\n\\n&quot;);\r\n                    imageService.excluir(a);\r\n                }\r\n                user.setFotoPerfil(\r\n                        usuario.get().getInstituicao().getNome() + &quot;/&quot;\r\n                                + removeSpecialCharacters(usuario.get().getEmail()) + &quot;/&quot;\r\n                                + originalFilename);\r\n            } else if (&quot;background&quot;.equalsIgnoreCase(tipo)) {\r\n                imageService.persistir(image, imagePath);\r\n                if (!user.getFotoBackground().equals(&quot;background.jpg&quot;)) {\r\n                    String a = GlobalPath + user.getFotoBackground();\r\n                    System.out.println(&quot;\\n\\n\\n\\n\\n\\n PATH PASSADO: &quot; + a + &quot;\\n\\n\\n\\n\\n&quot;);\r\n                    imageService.excluir(a);\r\n                }\r\n                user.setFotoBackground(\r\n                        usuario.get().getInstituicao().getNome() + &quot;/&quot;\r\n                                + removeSpecialCharacters(usuario.get().getEmail()) + &quot;/&quot;\r\n                                + originalFilename);\r\n            } else {\r\n                return new ResponseEntity&lt;&gt;(&quot;Tipo de imagem inv&#225;lido&quot;, HttpStatus.BAD_REQUEST);\r\n            }\r\n\r\n            usuariosService.Cadastrar(user);\r\n            return new ResponseEntity&lt;&gt;(user, HttpStatus.OK);\r\n        } catch (Exception e) {\r\n            return new ResponseEntity&lt;&gt;(e.getMessage(), HttpStatus.INTERNAL_SERVER_ERROR);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nRelated methods in ImageService:\r\n\r\n```\r\npublic void persistir(MultipartFile image, String folder) throws IOException {\r\n    if (image.getContentType().equals(&quot;image/jpeg&quot;) || image.getContentType().equals(&quot;image/png&quot;)) {\r\n        byte[] bytes = ImageResizer.resizeImage(image, 1000);\r\n        String fileName = image.getOriginalFilename();\r\n        Path path = Paths.get(folder);\r\n        if (!Files.exists(path)) {\r\n            Files.createDirectories(path);\r\n        }\r\n        Files.write(path.resolve(fileName), bytes);\r\n    } else {\r\n        String fileName = image.getOriginalFilename();\r\n        Path path = Paths.get(folder + fileName);\r\n        if (!Files.exists(path)) {\r\n            Files.createDirectories(path);\r\n        }\r\n        Files.write(path.resolve(fileName), image.getBytes());\r\n    }\r\n}\r\n\r\npublic void excluir(String folderExcluir) throws IOException {\r\n    try {\r\n        Path pathExcluir = Paths.get(folderExcluir);\r\n        System.out.println(\r\n                &quot;PATH PASSADO ---------------------------------------------------------------&gt; \\n&quot; + pathExcluir);\r\n\r\n        // Verifica se o caminho passado &#233; um diret&#243;rio\r\n        if (Files.isDirectory(pathExcluir)) {\r\n            // Lista os arquivos no diret&#243;rio\r\n            File[] files = new File(folderExcluir).listFiles();\r\n            if (files != null) {\r\n                for (File file : files) {\r\n                    // Verifica se o arquivo est&#225; sendo usado por outro processo\r\n                    if (!file.delete()) {\r\n                        System.out.println(&quot;N&#227;o foi poss&#237;vel excluir o arquivo: &quot; + file.getAbsolutePath());\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            // Caso n&#227;o seja um diret&#243;rio, tenta excluir o arquivo diretamente\r\n            if (!pathExcluir.toFile().delete()) {\r\n                System.out.println(&quot;N&#227;o foi poss&#237;vel excluir o arquivo: &quot; + pathExcluir);\r\n            }\r\n        }\r\n    } catch (Exception e) {\r\n        System.out.println(\r\n                &quot;Exce&#231;&#227;o lan&#231;ada --------------------------------------------------------&gt; \\n&quot; + e.getMessage());\r\n    }\r\n}\r\n```\r\n\r\nI tried several solutions, but the only thing I managed to do was check the logs that this is actually happening, paths are being passed to files in the delete method that should not be logically.\r\n\r\nHere is the link to the project repository: https://github.com/GabrielVictor159/ComuniqueCEM-BackEnd","title":"Problems in the logic of adding and removing files in java io with spring","body":"<p>I have a system that has users and these users have two images related to it and these images are in the same folder. When I try to delete an image in that folder, the other images added are also deleted, follow the methods related to this logic:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PutMapping(&quot;/usuarioImage/{tipo}/{login}/{senha}&quot;)\npublic ResponseEntity&lt;Object&gt; updateImage(@RequestParam(&quot;image&quot;) MultipartFile image,\n        @PathVariable String tipo, @PathVariable String login, @PathVariable String senha) {\n    Optional&lt;Usuarios&gt; usuario = usuariosService.Login(login, senha);\n    System.out.println(image.getOriginalFilename());\n    if (usuario.isEmpty()) {\n        return new ResponseEntity&lt;&gt;(HttpStatus.UNAUTHORIZED);\n    } else {\n        try {\n            Usuarios user = usuario.get();\n            String imagePath = GlobalPath + usuario.get().getInstituicao().getNome() + &quot;/&quot;\n                    + removeSpecialCharacters(usuario.get().getEmail()) + &quot;/&quot;;\n            String originalFilename = image.getOriginalFilename();\n\n            // Verificar o tipo de imagem e atualizar o caminho da imagem correspondente\n            if (&quot;perfil&quot;.equalsIgnoreCase(tipo)) {\n                imageService.persistir(image, imagePath);\n                if (!user.getFotoPerfil().equals(&quot;userIcon.png&quot;)) {\n                    String a = GlobalPath + user.getFotoPerfil();\n                    System.out.println(&quot;\\n\\n\\n\\n\\n\\n PATH PASSADO: &quot; + a + &quot;\\n\\n\\n\\n\\n&quot;);\n                    imageService.excluir(a);\n                }\n                user.setFotoPerfil(\n                        usuario.get().getInstituicao().getNome() + &quot;/&quot;\n                                + removeSpecialCharacters(usuario.get().getEmail()) + &quot;/&quot;\n                                + originalFilename);\n            } else if (&quot;background&quot;.equalsIgnoreCase(tipo)) {\n                imageService.persistir(image, imagePath);\n                if (!user.getFotoBackground().equals(&quot;background.jpg&quot;)) {\n                    String a = GlobalPath + user.getFotoBackground();\n                    System.out.println(&quot;\\n\\n\\n\\n\\n\\n PATH PASSADO: &quot; + a + &quot;\\n\\n\\n\\n\\n&quot;);\n                    imageService.excluir(a);\n                }\n                user.setFotoBackground(\n                        usuario.get().getInstituicao().getNome() + &quot;/&quot;\n                                + removeSpecialCharacters(usuario.get().getEmail()) + &quot;/&quot;\n                                + originalFilename);\n            } else {\n                return new ResponseEntity&lt;&gt;(&quot;Tipo de imagem inválido&quot;, HttpStatus.BAD_REQUEST);\n            }\n\n            usuariosService.Cadastrar(user);\n            return new ResponseEntity&lt;&gt;(user, HttpStatus.OK);\n        } catch (Exception e) {\n            return new ResponseEntity&lt;&gt;(e.getMessage(), HttpStatus.INTERNAL_SERVER_ERROR);\n        }\n    }\n}\n</code></pre>\n<p>Related methods in ImageService:</p>\n<pre><code>public void persistir(MultipartFile image, String folder) throws IOException {\n    if (image.getContentType().equals(&quot;image/jpeg&quot;) || image.getContentType().equals(&quot;image/png&quot;)) {\n        byte[] bytes = ImageResizer.resizeImage(image, 1000);\n        String fileName = image.getOriginalFilename();\n        Path path = Paths.get(folder);\n        if (!Files.exists(path)) {\n            Files.createDirectories(path);\n        }\n        Files.write(path.resolve(fileName), bytes);\n    } else {\n        String fileName = image.getOriginalFilename();\n        Path path = Paths.get(folder + fileName);\n        if (!Files.exists(path)) {\n            Files.createDirectories(path);\n        }\n        Files.write(path.resolve(fileName), image.getBytes());\n    }\n}\n\npublic void excluir(String folderExcluir) throws IOException {\n    try {\n        Path pathExcluir = Paths.get(folderExcluir);\n        System.out.println(\n                &quot;PATH PASSADO ---------------------------------------------------------------&gt; \\n&quot; + pathExcluir);\n\n        // Verifica se o caminho passado é um diretório\n        if (Files.isDirectory(pathExcluir)) {\n            // Lista os arquivos no diretório\n            File[] files = new File(folderExcluir).listFiles();\n            if (files != null) {\n                for (File file : files) {\n                    // Verifica se o arquivo está sendo usado por outro processo\n                    if (!file.delete()) {\n                        System.out.println(&quot;Não foi possível excluir o arquivo: &quot; + file.getAbsolutePath());\n                    }\n                }\n            }\n        } else {\n            // Caso não seja um diretório, tenta excluir o arquivo diretamente\n            if (!pathExcluir.toFile().delete()) {\n                System.out.println(&quot;Não foi possível excluir o arquivo: &quot; + pathExcluir);\n            }\n        }\n    } catch (Exception e) {\n        System.out.println(\n                &quot;Exceção lançada --------------------------------------------------------&gt; \\n&quot; + e.getMessage());\n    }\n}\n</code></pre>\n<p>I tried several solutions, but the only thing I managed to do was check the logs that this is actually happening, paths are being passed to files in the delete method that should not be logically.</p>\n<p>Here is the link to the project repository: <a href=\"https://github.com/GabrielVictor159/ComuniqueCEM-BackEnd\" rel=\"nofollow noreferrer\">https://github.com/GabrielVictor159/ComuniqueCEM-BackEnd</a></p>\n"},{"tags":["java","docker","arm","apple-m1","testcontainers"],"comments":[{"owner":{"account_id":1488715,"reputation":1432,"user_id":1396362,"display_name":"Kevin Wittek"},"score":0,"creation_date":1680513425,"post_id":75914670,"comment_id":133905281,"body_markdown":"It is unclear how you execute your Testcontainers test. Where does `docker.raw.sock` come from? Do you specify it anywhere?","body":"It is unclear how you execute your Testcontainers test. Where does <code>docker.raw.sock</code> come from? Do you specify it anywhere?"},{"owner":{"account_id":25354178,"reputation":31,"user_id":19170577,"display_name":"zu5005"},"score":0,"creation_date":1680594372,"post_id":75914670,"comment_id":133920326,"body_markdown":"Thanks for reply! I tried to exec it in terminal (mvn test) and IDEA (run test).\nBoth runs have same result","body":"Thanks for reply! I tried to exec it in terminal (mvn test) and IDEA (run test). Both runs have same result"},{"owner":{"account_id":25354178,"reputation":31,"user_id":19170577,"display_name":"zu5005"},"score":0,"creation_date":1680594453,"post_id":75914670,"comment_id":133920342,"body_markdown":"I do not specify docker.raw.sock anywhere","body":"I do not specify docker.raw.sock anywhere"},{"owner":{"account_id":1488715,"reputation":1432,"user_id":1396362,"display_name":"Kevin Wittek"},"score":0,"creation_date":1680684456,"post_id":75914670,"comment_id":133938165,"body_markdown":"Did you try this reproducer project, same error? https://github.com/testcontainers/testcontainers-java-repro","body":"Did you try this reproducer project, same error? <a href=\"https://github.com/testcontainers/testcontainers-java-repro\" rel=\"nofollow noreferrer\">github.com/testcontainers/testcontainers-java-repro</a>"},{"owner":{"account_id":1488715,"reputation":1432,"user_id":1396362,"display_name":"Kevin Wittek"},"score":1,"creation_date":1680684494,"post_id":75914670,"comment_id":133938181,"body_markdown":"Are you specifying `DOCKER_HOST`, `TESTCONTAINERS_SOCKET_OVERRIDE` or something similar as environment variables or in your `~/.testcontainers.properties` file?","body":"Are you specifying <code>DOCKER_HOST</code>, <code>TESTCONTAINERS_SOCKET_OVERRIDE</code> or something similar as environment variables or in your <code>~&#47;.testcontainers.properties</code> file?"},{"owner":{"account_id":25354178,"reputation":31,"user_id":19170577,"display_name":"zu5005"},"score":1,"creation_date":1680937324,"post_id":75914670,"comment_id":133981749,"body_markdown":"DOCKER_HOST has been specified, removing helps, thanks!","body":"DOCKER_HOST has been specified, removing helps, thanks!"}],"answers":[{"tags":[],"owner":{"account_id":25354178,"reputation":31,"user_id":19170577,"display_name":"zu5005"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680937591,"creation_date":1680937591,"answer_id":75963809,"question_id":75914670,"body_markdown":"As [Kevin Wittek][1] says, I have DOCKER_HOST specified, removing that from envs helps.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/1396362/kevin-wittek","title":"Testcontainers on Mac m1 could not create/start container","body":"<p>As <a href=\"https://stackoverflow.com/users/1396362/kevin-wittek\">Kevin Wittek</a> says, I have DOCKER_HOST specified, removing that from envs helps.</p>\n"}],"owner":{"account_id":25354178,"reputation":31,"user_id":19170577,"display_name":"zu5005"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1654,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680937591,"creation_date":1680470484,"question_id":75914670,"body_markdown":"I am trying to use Testcontainers (1.17.6) to create GenericContainer on Mac m1 but get error:\r\n\r\n```com.github.dockerjava.api.exception.InternalServerErrorException: Status 500: {&quot;message&quot;:&quot;error while creating mount source path &#39;/Users/k/Library/Containers/com.docker.docker/Data/docker.raw.sock&#39;: mkdir /Users/k/Library/Containers/com.docker.docker/Data/docker.raw.sock: operation not supported&quot;}```\r\n\r\nDocker version:\r\n```Client:\r\n Cloud integration: v1.0.29\r\n Version:           20.10.21\r\n API version:       1.41\r\n Go version:        go1.18.7\r\n Git commit:        baeda1f\r\n Built:             Tue Oct 25 18:01:18 2022\r\n OS/Arch:           darwin/arm64\r\n Context:           default\r\n Experimental:      true\r\nServer: Docker Engine - Community\r\n Engine:\r\n  Version:          20.10.21\r\n  API version:      1.41 (minimum version 1.12)\r\n  Go version:       go1.18.7\r\n  Git commit:       3056208\r\n  Built:            Tue Oct 25 17:59:41 2022\r\n  OS/Arch:          linux/arm64\r\n  Experimental:     false\r\n containerd:\r\n  Version:          1.6.10\r\n  GitCommit:        770bd0108c32f3fb5c73ae1264f7e503fe7b2661\r\n runc:\r\n  Version:          1.1.4\r\n  GitCommit:        v1.1.4-0-g5fd4c4d\r\n docker-init:\r\n  Version:          0.19.0\r\n  GitCommit:        de40ad0\r\n```\r\n\r\n\r\nMaven settings:\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;testcontainers&lt;/artifactId&gt;\r\n            &lt;version&gt;1.17.6&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;1.17.6&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nWhat should I do to make it work?\r\n\r\nI tried yet:\r\n- that directories is exists\r\n```\r\nk@m ~ % ls -la /Users/k/Library/Containers/com.docker.docker/Data/docker.raw.sock\r\nsrwxr-xr-x@ 1 k  staff  0 Apr  2 23:54 /Users/k/Library/Containers/com.docker.docker/Data/docker.raw.sock\r\n````\r\n- disable properties check in testcontainers properties file (in log I see that custom properties file is seen and applied)\r\n\r\n```\r\nk@mbp ~ % cat .testcontainers.properties \r\nchecks.disable=true\r\n```\r\n\r\n```\r\n00:02:21.835 [main] DEBUG org.testcontainers.utility.TestcontainersConfiguration - Testcontainers configuration overrides will be loaded from file:/Users/k/.testcontainers.properties\r\n```\r\n\r\n- restart docker\r\n- run PostgreSQL container, but have same error\r\n","title":"Testcontainers on Mac m1 could not create/start container","body":"<p>I am trying to use Testcontainers (1.17.6) to create GenericContainer on Mac m1 but get error:</p>\n<p><code>com.github.dockerjava.api.exception.InternalServerErrorException: Status 500: {&quot;message&quot;:&quot;error while creating mount source path '/Users/k/Library/Containers/com.docker.docker/Data/docker.raw.sock': mkdir /Users/k/Library/Containers/com.docker.docker/Data/docker.raw.sock: operation not supported&quot;}</code></p>\n<p>Docker version:</p>\n<pre><code> Cloud integration: v1.0.29\n Version:           20.10.21\n API version:       1.41\n Go version:        go1.18.7\n Git commit:        baeda1f\n Built:             Tue Oct 25 18:01:18 2022\n OS/Arch:           darwin/arm64\n Context:           default\n Experimental:      true\nServer: Docker Engine - Community\n Engine:\n  Version:          20.10.21\n  API version:      1.41 (minimum version 1.12)\n  Go version:       go1.18.7\n  Git commit:       3056208\n  Built:            Tue Oct 25 17:59:41 2022\n  OS/Arch:          linux/arm64\n  Experimental:     false\n containerd:\n  Version:          1.6.10\n  GitCommit:        770bd0108c32f3fb5c73ae1264f7e503fe7b2661\n runc:\n  Version:          1.1.4\n  GitCommit:        v1.1.4-0-g5fd4c4d\n docker-init:\n  Version:          0.19.0\n  GitCommit:        de40ad0\n</code></pre>\n<p>Maven settings:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n            &lt;artifactId&gt;testcontainers&lt;/artifactId&gt;\n            &lt;version&gt;1.17.6&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;1.17.6&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>What should I do to make it work?</p>\n<p>I tried yet:</p>\n<ul>\n<li>that directories is exists</li>\n</ul>\n<pre><code>k@m ~ % ls -la /Users/k/Library/Containers/com.docker.docker/Data/docker.raw.sock\nsrwxr-xr-x@ 1 k  staff  0 Apr  2 23:54 /Users/k/Library/Containers/com.docker.docker/Data/docker.raw.sock\n</code></pre>\n<ul>\n<li>disable properties check in testcontainers properties file (in log I see that custom properties file is seen and applied)</li>\n</ul>\n<pre><code>k@mbp ~ % cat .testcontainers.properties \nchecks.disable=true\n</code></pre>\n<pre><code>00:02:21.835 [main] DEBUG org.testcontainers.utility.TestcontainersConfiguration - Testcontainers configuration overrides will be loaded from file:/Users/k/.testcontainers.properties\n</code></pre>\n<ul>\n<li>restart docker</li>\n<li>run PostgreSQL container, but have same error</li>\n</ul>\n"},{"tags":["java","lexical-analysis"],"comments":[{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":1,"creation_date":1679744876,"post_id":75808158,"comment_id":133777896,"body_markdown":"Please see [mcve] - emphasis on *minimal*. This is a lot of code, and your issue can definitely be demonstrated with much less. Write the shortest amount of code which does something different to what you think it ought to do, then ask about that. (Or you might figure out the problem yourself in the process.)","body":"Please see <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> - emphasis on <i>minimal</i>. This is a lot of code, and your issue can definitely be demonstrated with much less. Write the shortest amount of code which does something different to what you think it ought to do, then ask about that. (Or you might figure out the problem yourself in the process.)"}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680937326,"creation_date":1679745088,"answer_id":75841505,"question_id":75808158,"body_markdown":"This is your own doing by using [`Files.lines(Path)`][1], the stream of `Files.lines` contains the content of each line, **without** line-endings, so when you then combine all your lines back into `input`, you end up with the file content without linebreaks. \r\n\r\nMaybe you want to use [`Files.readString(Path)`][2] instead. I also wonder why you don&#39;t use an `Reader` to read character by character. That is usually much more memory efficient than trying to read the entire file in memory (although that only becomes important if you want to analyse very large files).\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#lines(java.nio.file.Path)\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#readString(java.nio.file.Path)","title":"Why does my lexical analyser behave as if there are no line-endings?","body":"<p>This is your own doing by using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#lines(java.nio.file.Path)\" rel=\"nofollow noreferrer\"><code>Files.lines(Path)</code></a>, the stream of <code>Files.lines</code> contains the content of each line, <strong>without</strong> line-endings, so when you then combine all your lines back into <code>input</code>, you end up with the file content without linebreaks.</p>\n<p>Maybe you want to use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#readString(java.nio.file.Path)\" rel=\"nofollow noreferrer\"><code>Files.readString(Path)</code></a> instead. I also wonder why you don't use an <code>Reader</code> to read character by character. That is usually much more memory efficient than trying to read the entire file in memory (although that only becomes important if you want to analyse very large files).</p>\n"}],"owner":{"account_id":20791300,"reputation":1,"user_id":15269400,"display_name":"Mal Beastin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679775094,"answer_count":1,"score":0,"last_activity_date":1680937514,"creation_date":1679454909,"question_id":75808158,"body_markdown":"I have coded a Java lexical analyzer down below\r\n\r\n**Token.java** looks like this\r\n```java\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\npublic enum Token {\r\n\r\n    TK_MINUS (&quot;-&quot;), \r\n    TK_PLUS (&quot;\\\\+&quot;), \r\n    TK_MUL (&quot;\\\\*&quot;), \r\n    TK_DIV (&quot;/&quot;), \r\n    TK_NOT (&quot;~&quot;), \r\n    TK_AND (&quot;&amp;&quot;),  \r\n    TK_OR (&quot;\\\\|&quot;),  \r\n    TK_LESS (&quot;&lt;&quot;),\r\n    TK_LEG (&quot;&lt;=&quot;),\r\n    TK_GT (&quot;&gt;&quot;),\r\n    TK_GEQ (&quot;&gt;=&quot;), \r\n    TK_EQ (&quot;==&quot;),\r\n    TK_ASSIGN (&quot;=&quot;),\r\n    TK_OPEN (&quot;\\\\(&quot;),\r\n    TK_CLOSE (&quot;\\\\)&quot;), \r\n    TK_SEMI (&quot;;&quot;), \r\n    TK_COMMA (&quot;,&quot;), \r\n    TK_KEY_DEFINE (&quot;define&quot;), \r\n    TK_KEY_AS (&quot;as&quot;),\r\n    TK_KEY_IS (&quot;is&quot;),\r\n    TK_KEY_IF (&quot;if&quot;), \r\n    TK_KEY_THEN (&quot;then&quot;), \r\n    TK_KEY_ELSE (&quot;else&quot;), \r\n    TK_KEY_ENDIF (&quot;endif&quot;),\r\n    OPEN_BRACKET (&quot;\\\\{&quot;),\r\n    CLOSE_BRACKET (&quot;\\\\}&quot;),\r\n    \r\n\r\n  STRING (&quot;\\&quot;[^\\&quot;]+\\&quot;&quot;), \r\n    TK_FLOAT (&quot;[+-]?([0-9]*[.])?[0-9]+&quot;),\r\n    TK_DECIMAL(&quot;(?:0|[1-9](?:_*[0-9])*)[lL]?&quot;),\r\n    TK_OCTAL(&quot;0[0-7](?:_*[0-7])*[lL]?&quot;),\r\n    TK_HEXADECIMAL(&quot;0x[a-fA-F0-9](?:_*[a-fA-F0-9])*[lL]?&quot;),\r\n    TK_BINARY(&quot;0[bB][01](?:_*[01])*[lL]?&quot;),\r\n    IDENTIFIER (&quot;\\\\w+&quot;);\r\n\r\n    private final Pattern pattern;\r\n\r\n    Token(String regex) {\r\n        pattern = Pattern.compile(&quot;^&quot; + regex);\r\n    }\r\n\r\n    int endOfMatch(String s) {\r\n        Matcher m = pattern.matcher(s);\r\n\r\n        if (m.find()) {\r\n            return m.end();\r\n        }\r\n        return -1;\r\n    }\r\n}\r\n```\r\n\r\nThe Lexer class looks like this --&gt; **Lexer.java**\r\n```java\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Paths;\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\nimport java.util.stream.Stream;\r\n\r\npublic class Lexer {\r\n    private StringBuilder input = new StringBuilder();\r\n    private Token token;\r\n    private String lexema;\r\n    private boolean exausthed = false;\r\n    private String errorMessage = &quot;&quot;;\r\n    private Set&lt;Character&gt; blankChars = new HashSet&lt;Character&gt;();\r\n\r\n    public Lexer(String filePath) {\r\n        try (Stream&lt;String&gt; st = Files.lines(Paths.get(filePath))) {\r\n            st.forEach(input::append);\r\n        } catch (IOException ex) {\r\n            exausthed = true;\r\n            errorMessage = &quot;Could not read file: &quot; + filePath;\r\n            return;\r\n        }\r\n\r\n        blankChars.add(&#39;\\r&#39;);\r\n        blankChars.add(&#39;\\n&#39;);\r\n        blankChars.add((char) 8);\r\n        blankChars.add((char) 9);\r\n        blankChars.add((char) 11);\r\n        blankChars.add((char) 12);\r\n        blankChars.add((char) 32);\r\n\r\n        moveAhead();\r\n    }\r\n\r\n    public void moveAhead() {\r\n        if (exausthed) {\r\n            return;\r\n        }\r\n\r\n        if (input.length() == 0) {\r\n            exausthed = true;\r\n            return;\r\n        }\r\n\r\n        ignoreWhiteSpaces();\r\n\r\n        if (findNextToken()) {\r\n            return;\r\n        }\r\n\r\n        exausthed = true;\r\n        \r\n\r\n        if (input.length() &gt; 0) {\r\n            errorMessage = &quot;Unexpected symbol: &#39;&quot; + input.charAt(0) + &quot;&#39;&quot;;\r\n        }\r\n    }\r\n\r\n    private void ignoreWhiteSpaces() {\r\n        int charsToDelete = 0;\r\n\r\n        while (blankChars.contains(input.charAt(charsToDelete))) {\r\n            charsToDelete++;\r\n        }\r\n\r\n        if (charsToDelete &gt; 0) {\r\n            input.delete(0, charsToDelete);\r\n        }\r\n    }\r\n\r\n    private boolean findNextToken() {\r\n        for (Token t : Token.values()) {\r\n            int end = t.endOfMatch(input.toString());\r\n\r\n            if (end != -1) {\r\n                token = t;\r\n                lexema = input.substring(0, end);\r\n                input.delete(0, end);\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    public Token currentToken() {\r\n        return token;\r\n    }\r\n\r\n    public String currentLexema() {\r\n        return lexema;\r\n    }\r\n\r\n    public boolean isSuccessful() {\r\n        return errorMessage.isEmpty();\r\n    }\r\n\r\n    public String errorMessage() {\r\n        return errorMessage;\r\n    }\r\n\r\n    public boolean isExausthed() {\r\n        return exausthed;\r\n    }\r\n}\r\n```\r\n\r\nAnd I created a class which can be used to test this lexical analyzer named **Try.java**\r\n```java\r\npackage draft;\r\n\r\npublic class Try {\r\n\r\n    public static void main(String[] args) {\r\n        Lexer lexer = new Lexer(&quot;C:/Users/eimom/Documents/Input.txt&quot;);\r\n\r\n        System.out.println(&quot;Lexical Analysis&quot;);\r\n        System.out.println(&quot;-----------------&quot;);\r\n        while (!lexer.isExausthed()) {\r\n            System.out.printf(&quot;%-18s :  %s \\n&quot;,lexer.currentLexema() , lexer.currentToken());\r\n            lexer.moveAhead();\r\n        }\r\n\r\n        if (lexer.isSuccessful()) {\r\n            System.out.println(&quot;Ok! :D&quot;);\r\n        } else {\r\n            System.out.println(lexer.errorMessage());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nSo, lets say the **Input.txt file** contains\r\n\r\n```none\r\n&gt;= \r\n 0x10\r\n ()\r\n11001100\r\n -433\r\n 0125\r\n 0x3B\r\n```\r\nThen the output I expect is\r\n```none\r\n&gt;=  TK_GEQ\r\n 0x10  TK_HEXADECIMAL\r\n ( TK_OPEN ,\r\n  )  TK_CLOSE \r\n11001100 TK_BINARY\r\n -433 TK_DECIMAL\r\n 0125 TK_OCTAL\r\n 0x3B TK_BINARY\r\n```\r\n\r\nBut instead I get\r\n\r\n```none\r\nLexical Analysis\r\n------------------\r\n\r\n&gt;                   :TK_GT\r\n=                   :TK_ASSIGN\r\n0                   :TK_FLOAT \r\nx10                 :IDENTIFIER\r\n(                   :TK_OPEN\r\n)                   :TK_CLOSE\r\n11001100            :TK_FLOAT\r\n-                   :TK_MINUS\r\n43301250            :TK_FLOAT\r\nx3B                 :IDENTIFIER\r\n```\r\n\r\nWhat can I do to correct these issues? It seems like the code doesn&#39;t end at a line, rather it continues and uses the next char on another line.\r\n","title":"Why does my lexical analyser behave as if there are no line-endings?","body":"<p>I have coded a Java lexical analyzer down below</p>\n<p><strong>Token.java</strong> looks like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic enum Token {\n\n    TK_MINUS (&quot;-&quot;), \n    TK_PLUS (&quot;\\\\+&quot;), \n    TK_MUL (&quot;\\\\*&quot;), \n    TK_DIV (&quot;/&quot;), \n    TK_NOT (&quot;~&quot;), \n    TK_AND (&quot;&amp;&quot;),  \n    TK_OR (&quot;\\\\|&quot;),  \n    TK_LESS (&quot;&lt;&quot;),\n    TK_LEG (&quot;&lt;=&quot;),\n    TK_GT (&quot;&gt;&quot;),\n    TK_GEQ (&quot;&gt;=&quot;), \n    TK_EQ (&quot;==&quot;),\n    TK_ASSIGN (&quot;=&quot;),\n    TK_OPEN (&quot;\\\\(&quot;),\n    TK_CLOSE (&quot;\\\\)&quot;), \n    TK_SEMI (&quot;;&quot;), \n    TK_COMMA (&quot;,&quot;), \n    TK_KEY_DEFINE (&quot;define&quot;), \n    TK_KEY_AS (&quot;as&quot;),\n    TK_KEY_IS (&quot;is&quot;),\n    TK_KEY_IF (&quot;if&quot;), \n    TK_KEY_THEN (&quot;then&quot;), \n    TK_KEY_ELSE (&quot;else&quot;), \n    TK_KEY_ENDIF (&quot;endif&quot;),\n    OPEN_BRACKET (&quot;\\\\{&quot;),\n    CLOSE_BRACKET (&quot;\\\\}&quot;),\n    \n\n  STRING (&quot;\\&quot;[^\\&quot;]+\\&quot;&quot;), \n    TK_FLOAT (&quot;[+-]?([0-9]*[.])?[0-9]+&quot;),\n    TK_DECIMAL(&quot;(?:0|[1-9](?:_*[0-9])*)[lL]?&quot;),\n    TK_OCTAL(&quot;0[0-7](?:_*[0-7])*[lL]?&quot;),\n    TK_HEXADECIMAL(&quot;0x[a-fA-F0-9](?:_*[a-fA-F0-9])*[lL]?&quot;),\n    TK_BINARY(&quot;0[bB][01](?:_*[01])*[lL]?&quot;),\n    IDENTIFIER (&quot;\\\\w+&quot;);\n\n    private final Pattern pattern;\n\n    Token(String regex) {\n        pattern = Pattern.compile(&quot;^&quot; + regex);\n    }\n\n    int endOfMatch(String s) {\n        Matcher m = pattern.matcher(s);\n\n        if (m.find()) {\n            return m.end();\n        }\n        return -1;\n    }\n}\n</code></pre>\n<p>The Lexer class looks like this --&gt; <strong>Lexer.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.util.HashSet;\nimport java.util.Set;\nimport java.util.stream.Stream;\n\npublic class Lexer {\n    private StringBuilder input = new StringBuilder();\n    private Token token;\n    private String lexema;\n    private boolean exausthed = false;\n    private String errorMessage = &quot;&quot;;\n    private Set&lt;Character&gt; blankChars = new HashSet&lt;Character&gt;();\n\n    public Lexer(String filePath) {\n        try (Stream&lt;String&gt; st = Files.lines(Paths.get(filePath))) {\n            st.forEach(input::append);\n        } catch (IOException ex) {\n            exausthed = true;\n            errorMessage = &quot;Could not read file: &quot; + filePath;\n            return;\n        }\n\n        blankChars.add('\\r');\n        blankChars.add('\\n');\n        blankChars.add((char) 8);\n        blankChars.add((char) 9);\n        blankChars.add((char) 11);\n        blankChars.add((char) 12);\n        blankChars.add((char) 32);\n\n        moveAhead();\n    }\n\n    public void moveAhead() {\n        if (exausthed) {\n            return;\n        }\n\n        if (input.length() == 0) {\n            exausthed = true;\n            return;\n        }\n\n        ignoreWhiteSpaces();\n\n        if (findNextToken()) {\n            return;\n        }\n\n        exausthed = true;\n        \n\n        if (input.length() &gt; 0) {\n            errorMessage = &quot;Unexpected symbol: '&quot; + input.charAt(0) + &quot;'&quot;;\n        }\n    }\n\n    private void ignoreWhiteSpaces() {\n        int charsToDelete = 0;\n\n        while (blankChars.contains(input.charAt(charsToDelete))) {\n            charsToDelete++;\n        }\n\n        if (charsToDelete &gt; 0) {\n            input.delete(0, charsToDelete);\n        }\n    }\n\n    private boolean findNextToken() {\n        for (Token t : Token.values()) {\n            int end = t.endOfMatch(input.toString());\n\n            if (end != -1) {\n                token = t;\n                lexema = input.substring(0, end);\n                input.delete(0, end);\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    public Token currentToken() {\n        return token;\n    }\n\n    public String currentLexema() {\n        return lexema;\n    }\n\n    public boolean isSuccessful() {\n        return errorMessage.isEmpty();\n    }\n\n    public String errorMessage() {\n        return errorMessage;\n    }\n\n    public boolean isExausthed() {\n        return exausthed;\n    }\n}\n</code></pre>\n<p>And I created a class which can be used to test this lexical analyzer named <strong>Try.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package draft;\n\npublic class Try {\n\n    public static void main(String[] args) {\n        Lexer lexer = new Lexer(&quot;C:/Users/eimom/Documents/Input.txt&quot;);\n\n        System.out.println(&quot;Lexical Analysis&quot;);\n        System.out.println(&quot;-----------------&quot;);\n        while (!lexer.isExausthed()) {\n            System.out.printf(&quot;%-18s :  %s \\n&quot;,lexer.currentLexema() , lexer.currentToken());\n            lexer.moveAhead();\n        }\n\n        if (lexer.isSuccessful()) {\n            System.out.println(&quot;Ok! :D&quot;);\n        } else {\n            System.out.println(lexer.errorMessage());\n        }\n    }\n}\n</code></pre>\n<p>So, lets say the <strong>Input.txt file</strong> contains</p>\n<pre class=\"lang-none prettyprint-override\"><code>&gt;= \n 0x10\n ()\n11001100\n -433\n 0125\n 0x3B\n</code></pre>\n<p>Then the output I expect is</p>\n<pre class=\"lang-none prettyprint-override\"><code>&gt;=  TK_GEQ\n 0x10  TK_HEXADECIMAL\n ( TK_OPEN ,\n  )  TK_CLOSE \n11001100 TK_BINARY\n -433 TK_DECIMAL\n 0125 TK_OCTAL\n 0x3B TK_BINARY\n</code></pre>\n<p>But instead I get</p>\n<pre class=\"lang-none prettyprint-override\"><code>Lexical Analysis\n------------------\n\n&gt;                   :TK_GT\n=                   :TK_ASSIGN\n0                   :TK_FLOAT \nx10                 :IDENTIFIER\n(                   :TK_OPEN\n)                   :TK_CLOSE\n11001100            :TK_FLOAT\n-                   :TK_MINUS\n43301250            :TK_FLOAT\nx3B                 :IDENTIFIER\n</code></pre>\n<p>What can I do to correct these issues? It seems like the code doesn't end at a line, rather it continues and uses the next char on another line.</p>\n"},{"tags":["java","sdkman"],"answers":[{"tags":[],"owner":{"account_id":330384,"reputation":1345,"user_id":654471,"display_name":"cabaji99"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1680936382,"creation_date":1618365786,"answer_id":67084548,"question_id":62816754,"body_markdown":"I just happen to get that error, on Manjaro ..after an update of the S.O., so the error is the `/usr/bin/java` now points to the default java installed on the update.\r\n\r\nSo i just removed all Java versions installed on the updates cause I need only to use the sdkman.\r\n\r\n    sdk home java 8.0.232.hs-adpt\r\n\r\nWith this i can see where are the candidates on my case:\r\n\r\n    /home/xxxx/.sdkman/candidates/java/8.0.232.hs-adpt\r\n\r\nSo after removed all java: i run `java -version` i found there is no java anymore.\r\n\r\nSo i force update sdkman\r\n\r\n    sdk selfupdate force\r\n\r\nThen after install\r\n\r\n    source &quot;$HOME/.sdkman/bin/sdkman-init.sh&quot;\r\n\r\nAnd to be sure i ran :\r\n\r\n    ls -al /usr/bin/java\r\n\r\n&gt; lrwxrwxrwx 1 root root 37 may 16  2020 /usr/bin/java -&gt; /usr/lib/jvm/default-runtime/bin/java\r\n\r\nand now it points to where sdkman supposed to:\r\n\r\nAnd thats it now i can change versions again with sdkman.\r\n\r\n    sdk use java 11.0.5.hs-adpt\r\n\r\n\r\n\r\n\r\n\r\n","title":"Why won&#39;t sdkman change my default java version?","body":"<p>I just happen to get that error, on Manjaro ..after an update of the S.O., so the error is the <code>/usr/bin/java</code> now points to the default java installed on the update.</p>\n<p>So i just removed all Java versions installed on the updates cause I need only to use the sdkman.</p>\n<pre><code>sdk home java 8.0.232.hs-adpt\n</code></pre>\n<p>With this i can see where are the candidates on my case:</p>\n<pre><code>/home/xxxx/.sdkman/candidates/java/8.0.232.hs-adpt\n</code></pre>\n<p>So after removed all java: i run <code>java -version</code> i found there is no java anymore.</p>\n<p>So i force update sdkman</p>\n<pre><code>sdk selfupdate force\n</code></pre>\n<p>Then after install</p>\n<pre><code>source &quot;$HOME/.sdkman/bin/sdkman-init.sh&quot;\n</code></pre>\n<p>And to be sure i ran :</p>\n<pre><code>ls -al /usr/bin/java\n</code></pre>\n<blockquote>\n<p>lrwxrwxrwx 1 root root 37 may 16  2020 /usr/bin/java -&gt; /usr/lib/jvm/default-runtime/bin/java</p>\n</blockquote>\n<p>and now it points to where sdkman supposed to:</p>\n<p>And thats it now i can change versions again with sdkman.</p>\n<pre><code>sdk use java 11.0.5.hs-adpt\n</code></pre>\n"}],"owner":{"account_id":9997192,"reputation":587,"user_id":7394417,"accept_rate":79,"display_name":"jMan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9658,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1680936382,"creation_date":1594303649,"question_id":62816754,"body_markdown":"This problem persisted after updating and upgrading sdkman, deleting .sdkman and reinstalling it, and uninstalling java packages and reinstalling them.\r\n\r\n    me@myMachine myProject $ sdk default java 8.0.252.hs-adpt\r\n    Default java version set to 8.0.252.hs-adpt\r\n    me@myMachine myProject $ sdk default java\r\n    Default java version set to 11.0.7.hs-adpt\r\n\r\n`sdk current java` and `java -version` reflect the change but reverts back to 11.0.7 upon closing and reopening terminal, or opening a different window or app.","title":"Why won&#39;t sdkman change my default java version?","body":"<p>This problem persisted after updating and upgrading sdkman, deleting .sdkman and reinstalling it, and uninstalling java packages and reinstalling them.</p>\n<pre><code>me@myMachine myProject $ sdk default java 8.0.252.hs-adpt\nDefault java version set to 8.0.252.hs-adpt\nme@myMachine myProject $ sdk default java\nDefault java version set to 11.0.7.hs-adpt\n</code></pre>\n<p><code>sdk current java</code> and <code>java -version</code> reflect the change but reverts back to 11.0.7 upon closing and reopening terminal, or opening a different window or app.</p>\n"},{"tags":["java","memory","pool"],"comments":[{"owner":{"account_id":18399,"reputation":38994,"user_id":42126,"accept_rate":100,"display_name":"kdgregory"},"score":0,"creation_date":1250017908,"post_id":1262328,"comment_id":22636171,"body_markdown":"Assuming that you&#39;re using the Sun JDK, the best answer will be found in their documentation: [Tuning Garbage Collection (JDK 1.5)](http://java.sun.com/docs/hotspot/gc5.0/gc_tuning_5.html) and [Garbage Collection FAQ (JDK 1.4)](http://java.sun.com/docs/hotspot/gc1.4.2/faq.html)","body":"Assuming that you&#39;re using the Sun JDK, the best answer will be found in their documentation: <a href=\"http://java.sun.com/docs/hotspot/gc5.0/gc_tuning_5.html\" rel=\"nofollow noreferrer\">Tuning Garbage Collection (JDK 1.5)</a> and <a href=\"http://java.sun.com/docs/hotspot/gc1.4.2/faq.html\" rel=\"nofollow noreferrer\">Garbage Collection FAQ (JDK 1.4)</a>"}],"answers":[{"tags":[],"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"down_vote_count":0,"up_vote_count":366,"is_accepted":true,"score":366,"last_activity_date":1525367636,"creation_date":1250019770,"answer_id":1262474,"question_id":1262328,"body_markdown":"&lt;h2&gt;Heap memory&lt;/h2&gt;\r\n\r\nThe heap memory is the runtime data area from which the Java VM allocates memory for all class instances and arrays. The heap may be of a fixed or variable size. The garbage collector is an automatic memory management system that reclaims heap memory for objects.\r\n\r\n - **Eden Space**: The pool from which memory is initially allocated for most objects. \r\n\r\n - **Survivor Space**: The pool containing objects that have survived the garbage collection of the Eden space.\r\n\r\n - **Tenured Generation** or **Old Gen**: The pool containing objects that have existed for some time in the survivor space.\r\n\r\n\r\n&lt;h2&gt;Non-heap memory&lt;/h2&gt; \r\n\r\nNon-heap memory includes a method area shared among all threads and memory required for the internal processing or optimization for the Java VM. It stores per-class structures such as a runtime constant pool, field and method data, and the code for methods and constructors. The method area is logically part of the heap but, depending on the implementation, a Java VM may not garbage collect or compact it. Like the heap memory, the method area may be of a fixed or variable size. The memory for the method area does not need to be contiguous.\r\n\r\n - **Permanent Generation**: The pool containing all the reflective data of the virtual machine itself, such as class and method objects. With Java VMs that use class data sharing, this generation is divided into read-only and read-write areas.\r\n\r\n - **Code Cache**: The HotSpot Java VM also includes a code cache, containing memory that is used for compilation and storage of native code.\r\n\r\n[Here&#39;s some documentation on how to use Jconsole][1].\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/technotes/guides/management/jconsole.html","title":"How is the java memory pool divided?","body":"<h2>Heap memory</h2>\n\n<p>The heap memory is the runtime data area from which the Java VM allocates memory for all class instances and arrays. The heap may be of a fixed or variable size. The garbage collector is an automatic memory management system that reclaims heap memory for objects.</p>\n\n<ul>\n<li><p><strong>Eden Space</strong>: The pool from which memory is initially allocated for most objects. </p></li>\n<li><p><strong>Survivor Space</strong>: The pool containing objects that have survived the garbage collection of the Eden space.</p></li>\n<li><p><strong>Tenured Generation</strong> or <strong>Old Gen</strong>: The pool containing objects that have existed for some time in the survivor space.</p></li>\n</ul>\n\n<h2>Non-heap memory</h2> \n\n<p>Non-heap memory includes a method area shared among all threads and memory required for the internal processing or optimization for the Java VM. It stores per-class structures such as a runtime constant pool, field and method data, and the code for methods and constructors. The method area is logically part of the heap but, depending on the implementation, a Java VM may not garbage collect or compact it. Like the heap memory, the method area may be of a fixed or variable size. The memory for the method area does not need to be contiguous.</p>\n\n<ul>\n<li><p><strong>Permanent Generation</strong>: The pool containing all the reflective data of the virtual machine itself, such as class and method objects. With Java VMs that use class data sharing, this generation is divided into read-only and read-write areas.</p></li>\n<li><p><strong>Code Cache</strong>: The HotSpot Java VM also includes a code cache, containing memory that is used for compilation and storage of native code.</p></li>\n</ul>\n\n<p><a href=\"http://java.sun.com/javase/6/docs/technotes/guides/management/jconsole.html\" rel=\"noreferrer\">Here's some documentation on how to use Jconsole</a>.</p>\n"},{"tags":[],"owner":{"account_id":3288274,"reputation":351,"user_id":2767149,"display_name":"user2767149"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1403069403,"creation_date":1403069403,"answer_id":24277676,"question_id":1262328,"body_markdown":"With Java8, non heap region no more contains PermGen but Metaspace, which is a major change in Java8, supposed to get rid of out of memory errors with java as metaspace size can be increased depending on the space required by jvm for class data.","title":"How is the java memory pool divided?","body":"<p>With Java8, non heap region no more contains PermGen but Metaspace, which is a major change in Java8, supposed to get rid of out of memory errors with java as metaspace size can be increased depending on the space required by jvm for class data.</p>\n"},{"tags":[],"owner":{"account_id":6627875,"reputation":5335,"user_id":5117474,"accept_rate":93,"display_name":"Pythoner"},"down_vote_count":0,"up_vote_count":93,"is_accepted":false,"score":93,"last_activity_date":1604032100,"creation_date":1462727971,"answer_id":37102630,"question_id":1262328,"body_markdown":"The `new` keyword allocates memory on the Java heap. The heap is the main pool of memory, accessible to the whole of the application. If there is not enough memory available to allocate for that object, the JVM attempts to reclaim some memory from the heap with a garbage collection. If it still cannot obtain enough memory, an `OutOfMemoryError` is thrown, and the JVM exits.\r\n\r\nThe heap is split into several different sections, called generations. As objects survive more garbage collections, they are promoted into different generations. The older generations are not garbage collected as often. Because these objects have already proven to be longer lived, they are less likely to be garbage collected.\r\n\r\nWhen objects are first constructed, they are allocated in the Eden Space. If they survive a garbage collection, they are promoted to Survivor Space, and should they live long enough there, they are allocated to the Tenured Generation. This generation is garbage collected much less frequently.\r\n\r\n\r\n\r\nThere is also a fourth generation, called the Permanent Generation, or PermGen. The objects that reside here are not eligible to be garbage collected, and usually contain an immutable state necessary for the JVM to run, such as class definitions and the String constant pool. Note that the PermGen space is planned to be removed from Java 8, and will be replaced with a new space called Metaspace, which will be held in native memory.\r\nreference：http://www.programcreek.com/2013/04/jvm-run-time-data-areas/\r\n\r\n\r\n[![Diagram of Java memory for several threads][1]][1]\r\n[![Diagram of Java memory distribution][2]][2]\r\n\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/BNLk0.jpg\r\n  [2]: http://i.stack.imgur.com/uDdEk.png","title":"How is the java memory pool divided?","body":"<p>The <code>new</code> keyword allocates memory on the Java heap. The heap is the main pool of memory, accessible to the whole of the application. If there is not enough memory available to allocate for that object, the JVM attempts to reclaim some memory from the heap with a garbage collection. If it still cannot obtain enough memory, an <code>OutOfMemoryError</code> is thrown, and the JVM exits.</p>\n<p>The heap is split into several different sections, called generations. As objects survive more garbage collections, they are promoted into different generations. The older generations are not garbage collected as often. Because these objects have already proven to be longer lived, they are less likely to be garbage collected.</p>\n<p>When objects are first constructed, they are allocated in the Eden Space. If they survive a garbage collection, they are promoted to Survivor Space, and should they live long enough there, they are allocated to the Tenured Generation. This generation is garbage collected much less frequently.</p>\n<p>There is also a fourth generation, called the Permanent Generation, or PermGen. The objects that reside here are not eligible to be garbage collected, and usually contain an immutable state necessary for the JVM to run, such as class definitions and the String constant pool. Note that the PermGen space is planned to be removed from Java 8, and will be replaced with a new space called Metaspace, which will be held in native memory.\nreference：http://www.programcreek.com/2013/04/jvm-run-time-data-areas/</p>\n<p><a href=\"https://i.stack.imgur.com/BNLk0.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/BNLk0.jpg\" alt=\"Diagram of Java memory for several threads\" /></a>\n<a href=\"https://i.stack.imgur.com/uDdEk.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/uDdEk.png\" alt=\"Diagram of Java memory distribution\" /></a></p>\n"},{"tags":[],"owner":{"account_id":15981637,"reputation":221,"user_id":11533190,"display_name":"Shubham Chaudhary"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1607840226,"creation_date":1607839190,"answer_id":65272805,"question_id":1262328,"body_markdown":"The Heap is divided into young and old generations as follows :\r\n\r\n**Young Generation:** It is a place where an object lived for a short period and it is divided into two spaces:\r\n\r\n - **Eden Space:** When object created using new keyword memory allocated on this space.\r\n - **Survivor Space (S0 and S1):** This is the pool which contains objects which have survived after minor java garbage collection from Eden\r\n   space.\r\n\r\n**Old Generation:** This pool basically contains tenured and virtual (reserved) space and will be holding those objects which survived after garbage collection from the Young Generation.\r\n\r\n - **Tenured Space:** This memory pool contains objects which survived after multiple garbage collection means an object which survived\r\n   after garbage collection from Survivor space.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Explanation**\r\n\r\nLet&#39;s imagine our application has just started.\r\n\r\nSo at this point all three of these spaces are empty (Eden, S0, S1).\r\n\r\nWhenever a new object is created it is placed in the Eden space.\r\n\r\nWhen the Eden space gets full then the garbage collection process (minor GC) will take place on the Eden space and any surviving objects are moved into S0.\r\n\r\nOur application then continues running add new objects are created in the Eden space the next time that the garbage collection process runs it looks at everything in the Eden space and in S0 and any objects that survive get moved into S1.\r\n\r\nPS: Based on the configuration that how much time object should survive in Survivor space, the object may also move back and forth to S0 and S1 and then reaching the threshold objects will be moved to old generation heap space.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HjxMb.png","title":"How is the java memory pool divided?","body":"<p>The Heap is divided into young and old generations as follows :</p>\n<p><strong>Young Generation:</strong> It is a place where an object lived for a short period and it is divided into two spaces:</p>\n<ul>\n<li><strong>Eden Space:</strong> When object created using new keyword memory allocated on this space.</li>\n<li><strong>Survivor Space (S0 and S1):</strong> This is the pool which contains objects which have survived after minor java garbage collection from Eden\nspace.</li>\n</ul>\n<p><strong>Old Generation:</strong> This pool basically contains tenured and virtual (reserved) space and will be holding those objects which survived after garbage collection from the Young Generation.</p>\n<ul>\n<li><strong>Tenured Space:</strong> This memory pool contains objects which survived after multiple garbage collection means an object which survived\nafter garbage collection from Survivor space.</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/HjxMb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HjxMb.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Explanation</strong></p>\n<p>Let's imagine our application has just started.</p>\n<p>So at this point all three of these spaces are empty (Eden, S0, S1).</p>\n<p>Whenever a new object is created it is placed in the Eden space.</p>\n<p>When the Eden space gets full then the garbage collection process (minor GC) will take place on the Eden space and any surviving objects are moved into S0.</p>\n<p>Our application then continues running add new objects are created in the Eden space the next time that the garbage collection process runs it looks at everything in the Eden space and in S0 and any objects that survive get moved into S1.</p>\n<p>PS: Based on the configuration that how much time object should survive in Survivor space, the object may also move back and forth to S0 and S1 and then reaching the threshold objects will be moved to old generation heap space.</p>\n"}],"owner":{"account_id":46332,"reputation":8871,"user_id":136825,"accept_rate":60,"display_name":"Dani Cricco"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225459,"favorite_count":0,"down_vote_count":1,"up_vote_count":260,"accepted_answer_id":1262474,"answer_count":4,"score":259,"last_activity_date":1680936377,"creation_date":1250017633,"question_id":1262328,"body_markdown":"I’m currently monitoring a Java application with jconsole. The memory tab lets you choose between:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    Heap Memory Usage\r\n    Non-Heap Memory Usage\r\n    Memory Pool “Eden Space”\r\n    Memory Pool “Survivor Space”\r\n    Memory Pool “Tenured Gen”\r\n    Memory Pool “Code Cache”\r\n    Memory Pool “Perm Gen”\r\n\r\nWhat is the difference between them ? \r\n\r\n","title":"How is the java memory pool divided?","body":"<p>I’m currently monitoring a Java application with jconsole. The memory tab lets you choose between:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Heap Memory Usage\nNon-Heap Memory Usage\nMemory Pool “Eden Space”\nMemory Pool “Survivor Space”\nMemory Pool “Tenured Gen”\nMemory Pool “Code Cache”\nMemory Pool “Perm Gen”\n</code></pre>\n\n<p>What is the difference between them ? </p>\n"},{"tags":["java","json","validation","testing"],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680922162,"creation_date":1680918313,"answer_id":75962928,"question_id":75962849,"body_markdown":"To find the particular element, you can use `JsonPath.parse()`, which returns a `List&lt;Map&lt;String, Object&gt;&gt;`, which can be traversed to retrieve your target value:\r\n\r\n```java\r\nString memberAmount = (String)JsonPath.parse(jsonString)\r\n  .read(&quot;$[&#39;Object&#39;][?(@[&#39;TypeId&#39;] == 230098)]&quot;)\r\n  .get(0)\r\n  .get(&quot;memberAmount&quot;);\r\n```\r\n","title":"How to chose a specific field from correct object in JSON schema?","body":"<p>To find the particular element, you can use <code>JsonPath.parse()</code>, which returns a <code>List&lt;Map&lt;String, Object&gt;&gt;</code>, which can be traversed to retrieve your target value:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String memberAmount = (String)JsonPath.parse(jsonString)\n  .read(&quot;$['Object'][?(@['TypeId'] == 230098)]&quot;)\n  .get(0)\n  .get(&quot;memberAmount&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680936053,"creation_date":1680936053,"answer_id":75963709,"question_id":75962849,"body_markdown":"You may consider library _Josson_ to retrieve value with simple query expression.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\n__Deserialization__\r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;    \\&quot;MapList\\&quot;: {&quot; +\r\n        &quot;        \\&quot;Object\\&quot;: [&quot; +\r\n        &quot;            {&quot; +\r\n        &quot;                \\&quot;TypeId\\&quot;: 230098,&quot; +\r\n        &quot;                \\&quot;mIndicator\\&quot;: \\&quot;P\\&quot;,&quot; +\r\n        &quot;                \\&quot;memberAmount\\&quot;: 110.0,&quot; +\r\n        &quot;                \\&quot;edAmount\\&quot;: 0.0,&quot; +\r\n        &quot;                \\&quot;plra\\&quot;: 0.0,&quot; +\r\n        &quot;                \\&quot;spaf\\&quot;: 0.0,&quot; +\r\n        &quot;                \\&quot;grossAmount\\&quot;: 110.0&quot; +\r\n        &quot;            },&quot; +\r\n        &quot;            {&quot; +\r\n        &quot;                \\&quot;TypeId\\&quot;: 230099,&quot; +\r\n        &quot;                \\&quot;mIndicator\\&quot;: \\&quot;A\\&quot;,&quot; +\r\n        &quot;                \\&quot;memberAmount\\&quot;: 900.0,&quot; +\r\n        &quot;                \\&quot;edAmount\\&quot;: 0.0,&quot; +\r\n        &quot;                \\&quot;plra\\&quot;: 0.0,&quot; +\r\n        &quot;                \\&quot;spaf\\&quot;: 0.0,&quot; +\r\n        &quot;                \\&quot;grossAmount\\&quot;: 110.0&quot; +\r\n        &quot;            },&quot; +\r\n        &quot;            {&quot; +\r\n        &quot;                \\&quot;TypeId\\&quot;: 230100,&quot; +\r\n        &quot;                \\&quot;mIndicator\\&quot;: \\&quot;A\\&quot;,&quot; +\r\n        &quot;                \\&quot;memberAmount\\&quot;: 660.0,&quot; +\r\n        &quot;                \\&quot;edAmount\\&quot;: 0.0,&quot; +\r\n        &quot;                \\&quot;plra\\&quot;: 0.0,&quot; +\r\n        &quot;                \\&quot;spaf\\&quot;: 0.0,&quot; +\r\n        &quot;                \\&quot;grossAmount\\&quot;: 110.0&quot; +\r\n        &quot;            }&quot; +\r\n        &quot;        ]&quot; +\r\n        &quot;    }&quot; +\r\n        &quot;}&quot;);\r\n\r\n__Query__\r\n\r\n    Double memberAmount = josson.getDouble(&quot;MapList.Object[TypeId=230098].memberAmount&quot;);\r\n    System.out.println(memberAmount);\r\n    // Output: 110.0\r\n","title":"How to chose a specific field from correct object in JSON schema?","body":"<p>You may consider library <em>Josson</em> to retrieve value with simple query expression.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<p><strong>Deserialization</strong></p>\n<pre><code>Josson josson = Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;    \\&quot;MapList\\&quot;: {&quot; +\n    &quot;        \\&quot;Object\\&quot;: [&quot; +\n    &quot;            {&quot; +\n    &quot;                \\&quot;TypeId\\&quot;: 230098,&quot; +\n    &quot;                \\&quot;mIndicator\\&quot;: \\&quot;P\\&quot;,&quot; +\n    &quot;                \\&quot;memberAmount\\&quot;: 110.0,&quot; +\n    &quot;                \\&quot;edAmount\\&quot;: 0.0,&quot; +\n    &quot;                \\&quot;plra\\&quot;: 0.0,&quot; +\n    &quot;                \\&quot;spaf\\&quot;: 0.0,&quot; +\n    &quot;                \\&quot;grossAmount\\&quot;: 110.0&quot; +\n    &quot;            },&quot; +\n    &quot;            {&quot; +\n    &quot;                \\&quot;TypeId\\&quot;: 230099,&quot; +\n    &quot;                \\&quot;mIndicator\\&quot;: \\&quot;A\\&quot;,&quot; +\n    &quot;                \\&quot;memberAmount\\&quot;: 900.0,&quot; +\n    &quot;                \\&quot;edAmount\\&quot;: 0.0,&quot; +\n    &quot;                \\&quot;plra\\&quot;: 0.0,&quot; +\n    &quot;                \\&quot;spaf\\&quot;: 0.0,&quot; +\n    &quot;                \\&quot;grossAmount\\&quot;: 110.0&quot; +\n    &quot;            },&quot; +\n    &quot;            {&quot; +\n    &quot;                \\&quot;TypeId\\&quot;: 230100,&quot; +\n    &quot;                \\&quot;mIndicator\\&quot;: \\&quot;A\\&quot;,&quot; +\n    &quot;                \\&quot;memberAmount\\&quot;: 660.0,&quot; +\n    &quot;                \\&quot;edAmount\\&quot;: 0.0,&quot; +\n    &quot;                \\&quot;plra\\&quot;: 0.0,&quot; +\n    &quot;                \\&quot;spaf\\&quot;: 0.0,&quot; +\n    &quot;                \\&quot;grossAmount\\&quot;: 110.0&quot; +\n    &quot;            }&quot; +\n    &quot;        ]&quot; +\n    &quot;    }&quot; +\n    &quot;}&quot;);\n</code></pre>\n<p><strong>Query</strong></p>\n<pre><code>Double memberAmount = josson.getDouble(&quot;MapList.Object[TypeId=230098].memberAmount&quot;);\nSystem.out.println(memberAmount);\n// Output: 110.0\n</code></pre>\n"}],"owner":{"account_id":25027286,"reputation":23,"user_id":18885373,"display_name":"Muazzam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680936053,"creation_date":1680916432,"question_id":75962849,"body_markdown":"I am working with a JSON schema and trying to validate specific field. Normally I specify a path to retrieve a value for validation based on the position of the object in the array as such: \r\n\r\n    mapList.Object[0].memberAmount\r\n\r\nBut in the situation below , the order of the objects changes each time , so I need to chose a field from a specific object from the array. How can I write a path with following logic ? give me a memberAmount field value from the object where the typeID is 23098 (this field value is always unique).That way even if the order of the objects changes in the array, I will still have the correct field value from the correct object. \r\n\r\n\r\n    &quot;MapList&quot;: {\r\n    &#160;&#160;&#160;&#160;&quot;Object&quot;: [\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;{\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;TypeId&quot;: 230098,\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;mIndicator &quot;P&quot;,\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;memberAmount&quot;: 110.00,\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;edAmount&quot;: 0.00,\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;plra&quot;: 0.00,\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;spaf&quot;: 0.00,\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;grossAmount&quot;: 110.00,\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;},\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;{\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;TypeId&quot;: 230099,\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;mIndicator &quot;A&quot;,\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;memberAmount&quot;: 900.00,\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;edAmount&quot;: 0.00,\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;plra&quot;: 0.00,\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;spaf&quot;: 0.00,\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;grossAmount&quot;: 110.00,\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;},\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;{\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;TypeId&quot;: 230100,\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;mIndicator &quot;A&quot;,\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&quot;memberAmount&quot;: 660.00,\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&quot;edAmount&quot;: 0.00,\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;plra&quot;: 0.00,\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;spaf&quot;: 0.00,\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&quot;grossAmount&quot;: 110.00,\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}\r\n        ]\r\n    }\r\n\r\n","title":"How to chose a specific field from correct object in JSON schema?","body":"<p>I am working with a JSON schema and trying to validate specific field. Normally I specify a path to retrieve a value for validation based on the position of the object in the array as such:</p>\n<pre><code>mapList.Object[0].memberAmount\n</code></pre>\n<p>But in the situation below , the order of the objects changes each time , so I need to chose a field from a specific object from the array. How can I write a path with following logic ? give me a memberAmount field value from the object where the typeID is 23098 (this field value is always unique).That way even if the order of the objects changes in the array, I will still have the correct field value from the correct object.</p>\n<pre><code>&quot;MapList&quot;: {\n    &quot;Object&quot;: [\n        {\n            &quot;TypeId&quot;: 230098,\n            &quot;mIndicator &quot;P&quot;,\n            &quot;memberAmount&quot;: 110.00,\n            &quot;edAmount&quot;: 0.00,\n            &quot;plra&quot;: 0.00,\n            &quot;spaf&quot;: 0.00,\n            &quot;grossAmount&quot;: 110.00,\n        },\n        {\n            &quot;TypeId&quot;: 230099,\n            &quot;mIndicator &quot;A&quot;,\n            &quot;memberAmount&quot;: 900.00,\n            &quot;edAmount&quot;: 0.00,\n            &quot;plra&quot;: 0.00,\n            &quot;spaf&quot;: 0.00,\n            &quot;grossAmount&quot;: 110.00,\n        },\n        {\n            &quot;TypeId&quot;: 230100,\n            &quot;mIndicator &quot;A&quot;,\n            &quot;memberAmount&quot;: 660.00,\n            &quot;edAmount&quot;: 0.00,\n            &quot;plra&quot;: 0.00,\n            &quot;spaf&quot;: 0.00,\n            &quot;grossAmount&quot;: 110.00,\n        }\n    ]\n}\n</code></pre>\n"},{"tags":["java","loops","search","linked-list","nodes"],"comments":[{"owner":{"account_id":5827467,"reputation":5935,"user_id":4594973,"accept_rate":71,"display_name":"code_dredd"},"score":0,"creation_date":1680933107,"post_id":75963532,"comment_id":133981413,"body_markdown":"Sorry I don&#39;t have an answer for you, but I think it&#39;s weird that a `LinkedList` class would allow someone outside the class to access its own internal implementation details and expect the leaked node to be removed by anyone other than the `LinkedList` itself. Unless someone is trying, or expecting, to write very &quot;clever&quot; code, you need to start at the root of the list. All in all, the `LinkedList` implementation is unlikely to be a good one if it&#39;s leaking its internal nodes like that.","body":"Sorry I don&#39;t have an answer for you, but I think it&#39;s weird that a <code>LinkedList</code> class would allow someone outside the class to access its own internal implementation details and expect the leaked node to be removed by anyone other than the <code>LinkedList</code> itself. Unless someone is trying, or expecting, to write very &quot;clever&quot; code, you need to start at the root of the list. All in all, the <code>LinkedList</code> implementation is unlikely to be a good one if it&#39;s leaking its internal nodes like that."},{"owner":{"account_id":27503209,"reputation":7,"user_id":20986435,"display_name":"KodaNotABear"},"score":0,"creation_date":1680933439,"post_id":75963532,"comment_id":133981441,"body_markdown":"@code_dredd I&#39;m not sure I&#39;m advanced enough to understand your comment, but in case it clears it up the method I am writing is part of a linked list class (playlist). The playlist class has a head and name variable and the constructor initializes the head = Song.end. There is another class that has a menu with controls to pass along arguments to the playlist methods. Let me know if this clears it up at all or more clarification is needed.","body":"@code_dredd I&#39;m not sure I&#39;m advanced enough to understand your comment, but in case it clears it up the method I am writing is part of a linked list class (playlist). The playlist class has a head and name variable and the constructor initializes the head = Song.end. There is another class that has a menu with controls to pass along arguments to the playlist methods. Let me know if this clears it up at all or more clarification is needed."},{"owner":{"account_id":5827467,"reputation":5935,"user_id":4594973,"accept_rate":71,"display_name":"code_dredd"},"score":0,"creation_date":1681146857,"post_id":75963532,"comment_id":134006153,"body_markdown":"Based on your accepted answer, I seem to have misunderstood what you meant due to your phrasing; you seem to be assuming that your function is being given a pointer to the node at the *root* of the linked list, in which case, yes, you need another `prev` pointer variable to trail the `current` node pointer by one node, so that you can re-link `prev` to `current-&gt;next` before deleting `current`.","body":"Based on your accepted answer, I seem to have misunderstood what you meant due to your phrasing; you seem to be assuming that your function is being given a pointer to the node at the <i>root</i> of the linked list, in which case, yes, you need another <code>prev</code> pointer variable to trail the <code>current</code> node pointer by one node, so that you can re-link <code>prev</code> to <code>current-&gt;next</code> before deleting <code>current</code>."}],"answers":[{"tags":[],"owner":{"account_id":9945780,"reputation":490,"user_id":7360568,"display_name":"cardouken"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680934122,"creation_date":1680934122,"answer_id":75963601,"question_id":75963532,"body_markdown":"You need to also keep track of the previous node while iterating through the list. When you find the node that needs to be removed, update the `next` pointer of the previous node to skip the node to be removed.\r\n\r\nSo something like:\r\n\r\n```java\r\npublic int remove(Song song) {\r\n    int index = 0;\r\n    Song temp = first;\r\n    Song prev = null;\r\n\r\n    // check if the first node is the one to be removed\r\n    if (temp != null &amp;&amp; temp.equals(song)) {\r\n        first = temp.next;\r\n        return index;\r\n    }\r\n\r\n    // iterate through the list and search for the node to be removed\r\n    while (temp != null &amp;&amp; !temp.equals(temp.next)) {\r\n        prev = temp;\r\n        temp = temp.next;\r\n\r\n        if (temp.equals(song)) {\r\n            prev.next = temp.next;\r\n            return index + 1;\r\n        }\r\n        index++;\r\n    }\r\n\r\n    return -1;\r\n}\r\n```","title":"How do I search and remove a node from this linked list without using the Linked List class?","body":"<p>You need to also keep track of the previous node while iterating through the list. When you find the node that needs to be removed, update the <code>next</code> pointer of the previous node to skip the node to be removed.</p>\n<p>So something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int remove(Song song) {\n    int index = 0;\n    Song temp = first;\n    Song prev = null;\n\n    // check if the first node is the one to be removed\n    if (temp != null &amp;&amp; temp.equals(song)) {\n        first = temp.next;\n        return index;\n    }\n\n    // iterate through the list and search for the node to be removed\n    while (temp != null &amp;&amp; !temp.equals(temp.next)) {\n        prev = temp;\n        temp = temp.next;\n\n        if (temp.equals(song)) {\n            prev.next = temp.next;\n            return index + 1;\n        }\n        index++;\n    }\n\n    return -1;\n}\n</code></pre>\n"}],"owner":{"account_id":27503209,"reputation":7,"user_id":20986435,"display_name":"KodaNotABear"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75963601,"answer_count":1,"score":0,"last_activity_date":1680934122,"creation_date":1680932816,"question_id":75963532,"body_markdown":"I am currently practicing data structures and I am trying to remove a node passed as an argument to a method. The method is supposed to search the list for the arg&#39;d song, return the index of the node, and remove it from the list. I am a bit stuck and can&#39;t quite figure out how to remove the node without having the previous nodes data. I&#39;m not sure if this can be salvaged or if my approach is completely wrong.\r\n\r\n```java\r\npublic int remove(Song song) {\r\n        int index = 0;\r\n        Song temp = first;\r\n        while (!temp.equals(temp.next)) {\r\n            if (temp.equals(song)) {\r\n                temp.next = song.next;\r\n                return index;\r\n            }\r\n            temp = temp.next;\r\n            index++;\r\n        }\r\n        return -1;\r\n    }\r\n```\r\n\r\nThis is the class for the nodes I am using.\r\n```java\r\npublic class Song {\r\n    String title;\r\n    String artist;\r\n    Song next;\r\n    public static final Song END = new Song();\r\n\r\n    public Song(String title, String artist){\r\n        this.title = title;\r\n        this.artist = artist;\r\n        next = END;\r\n    }\r\n\r\n    // This is used to construct the END Table.\r\n    private Song() {\r\n        title = &quot;&quot;;\r\n        artist = &quot;&quot;;\r\n        next = this;\r\n    }\r\n\r\n    public boolean equals(Song other) {\r\n        if (this.title.equals(other.title) \r\n         &amp;&amp; this.artist.equals(other.artist))\r\n            return true;\r\n        return false;\r\n    }\r\n```\r\n\r\nRelevant parts of the playlist class\r\n\r\n```java\r\npublic class Playlist {\r\n    String name;\r\n    Song first;\r\n    public Playlist(){\r\n        name = &quot;library&quot;;\r\n        first = Song.END;\r\n    }\r\n\r\n    public Playlist(String name) {\r\n        this.name = name;\r\n        first = Song.END;\r\n    }\r\n```\r\nCurrently my code only removes the node after the one I am trying to remove. I am not sure how to go about pointing the node before the node to be removed at the node after it. Any help is appreciated as I am quite stuck here!","title":"How do I search and remove a node from this linked list without using the Linked List class?","body":"<p>I am currently practicing data structures and I am trying to remove a node passed as an argument to a method. The method is supposed to search the list for the arg'd song, return the index of the node, and remove it from the list. I am a bit stuck and can't quite figure out how to remove the node without having the previous nodes data. I'm not sure if this can be salvaged or if my approach is completely wrong.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int remove(Song song) {\n        int index = 0;\n        Song temp = first;\n        while (!temp.equals(temp.next)) {\n            if (temp.equals(song)) {\n                temp.next = song.next;\n                return index;\n            }\n            temp = temp.next;\n            index++;\n        }\n        return -1;\n    }\n</code></pre>\n<p>This is the class for the nodes I am using.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Song {\n    String title;\n    String artist;\n    Song next;\n    public static final Song END = new Song();\n\n    public Song(String title, String artist){\n        this.title = title;\n        this.artist = artist;\n        next = END;\n    }\n\n    // This is used to construct the END Table.\n    private Song() {\n        title = &quot;&quot;;\n        artist = &quot;&quot;;\n        next = this;\n    }\n\n    public boolean equals(Song other) {\n        if (this.title.equals(other.title) \n         &amp;&amp; this.artist.equals(other.artist))\n            return true;\n        return false;\n    }\n</code></pre>\n<p>Relevant parts of the playlist class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Playlist {\n    String name;\n    Song first;\n    public Playlist(){\n        name = &quot;library&quot;;\n        first = Song.END;\n    }\n\n    public Playlist(String name) {\n        this.name = name;\n        first = Song.END;\n    }\n</code></pre>\n<p>Currently my code only removes the node after the one I am trying to remove. I am not sure how to go about pointing the node before the node to be removed at the node after it. Any help is appreciated as I am quite stuck here!</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":7996,"reputation":55846,"user_id":14113,"accept_rate":64,"display_name":"EfForEffort"},"score":1,"creation_date":1221680498,"post_id":86780,"comment_id":84779418,"body_markdown":"[DrJava](http://drjava.sourceforge.net/) would be an extremely easy way to test this when the documentation fails you. Just type a couple of test cases into its Interactions window, and you should find out.","body":"<a href=\"http://drjava.sourceforge.net/\" rel=\"nofollow noreferrer\">DrJava</a> would be an extremely easy way to test this when the documentation fails you. Just type a couple of test cases into its Interactions window, and you should find out."},{"owner":{"account_id":1544012,"reputation":1776,"user_id":1437988,"display_name":"Nikolay Dimitrov"},"score":35,"creation_date":1413476209,"post_id":86780,"comment_id":41466779,"body_markdown":"I think you&#39;ve answered your own question. I don&#39;t think any of the solutions below are better than this. But they are definitely slower.","body":"I think you&#39;ve answered your own question. I don&#39;t think any of the solutions below are better than this. But they are definitely slower."},{"owner":{"account_id":90861,"reputation":1158,"user_id":249868,"accept_rate":50,"display_name":"LobsterMan"},"score":11,"creation_date":1510851967,"post_id":86780,"comment_id":81622203,"body_markdown":"Your solution is simpler thant any of the ones in the answers","body":"Your solution is simpler thant any of the ones in the answers"},{"owner":{"account_id":1310223,"reputation":1133,"user_id":1258361,"accept_rate":64,"display_name":"user1258361"},"score":4,"creation_date":1565643982,"post_id":86780,"comment_id":101409602,"body_markdown":"Your example is the simplest, most readable, and probably the best way to do this - better than any of the answers I&#39;m seeing.","body":"Your example is the simplest, most readable, and probably the best way to do this - better than any of the answers I&#39;m seeing."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1662050277,"post_id":86780,"comment_id":129922339,"body_markdown":"[*Does your code pass The Turkey Test?*](http://www.moserware.com/2008/02/does-your-code-pass-turkey-test.html)","body":"<a href=\"http://www.moserware.com/2008/02/does-your-code-pass-turkey-test.html\" rel=\"nofollow noreferrer\"><i>Does your code pass The Turkey Test?</i></a>"}],"answers":[{"tags":[],"owner":{"account_id":2241,"reputation":44197,"user_id":3093,"accept_rate":83,"display_name":"Dave L."},"down_vote_count":3,"up_vote_count":356,"is_accepted":true,"score":353,"last_activity_date":1539258411,"creation_date":1221680515,"answer_id":86832,"question_id":86780,"body_markdown":"Yes, contains is case sensitive.  You can use java.util.regex.Pattern with the CASE_INSENSITIVE flag for case insensitive matching:\r\n\r\n    Pattern.compile(Pattern.quote(wantedStr), Pattern.CASE_INSENSITIVE).matcher(source).find();\r\n\r\n**EDIT:** If s2 contains regex special characters (of which there are many) it&#39;s important to quote it first.  I&#39;ve corrected my answer since it is the first one people will see, but vote up Matt Quail&#39;s since he pointed this out.","title":"How to check if a String contains another String in a case insensitive manner in Java?","body":"<p>Yes, contains is case sensitive.  You can use java.util.regex.Pattern with the CASE_INSENSITIVE flag for case insensitive matching:</p>\n\n<pre><code>Pattern.compile(Pattern.quote(wantedStr), Pattern.CASE_INSENSITIVE).matcher(source).find();\n</code></pre>\n\n<p><strong>EDIT:</strong> If s2 contains regex special characters (of which there are many) it's important to quote it first.  I've corrected my answer since it is the first one people will see, but vote up Matt Quail's since he pointed this out.</p>\n"},{"tags":[],"owner":{"account_id":1254,"reputation":57918,"user_id":1666,"accept_rate":84,"display_name":"SCdF"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1221680536,"creation_date":1221680536,"answer_id":86837,"question_id":86780,"body_markdown":"I&#39;m not sure what your main question is here, but yes, .contains is case sensitive.","title":"How to check if a String contains another String in a case insensitive manner in Java?","body":"<p>I'm not sure what your main question is here, but yes, .contains is case sensitive.</p>\n"},{"tags":[],"owner":{"account_id":8696,"reputation":6189,"user_id":15790,"display_name":"Matt Quail"},"down_vote_count":1,"up_vote_count":294,"is_accepted":false,"score":293,"last_activity_date":1446223146,"creation_date":1221724110,"answer_id":90780,"question_id":86780,"body_markdown":"One problem with [the answer by Dave L.][1] is when s2 contains regex markup such as `\\d`, etc.\r\n\r\nYou want to call Pattern.quote() on s2:\r\n\r\n    Pattern.compile(Pattern.quote(s2), Pattern.CASE_INSENSITIVE).matcher(s1).find();\r\n\r\n  [1]: https://stackoverflow.com/questions/86780/is-the-contains-method-in-java-lang-string-case-sensitive/86832#86832\r\n","title":"How to check if a String contains another String in a case insensitive manner in Java?","body":"<p>One problem with <a href=\"https://stackoverflow.com/questions/86780/is-the-contains-method-in-java-lang-string-case-sensitive/86832#86832\">the answer by Dave L.</a> is when s2 contains regex markup such as <code>\\d</code>, etc.</p>\n\n<p>You want to call Pattern.quote() on s2:</p>\n\n<pre><code>Pattern.compile(Pattern.quote(s2), Pattern.CASE_INSENSITIVE).matcher(s1).find();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":608393,"reputation":257,"user_id":317728,"display_name":"Bilbo Baggins"},"down_vote_count":7,"up_vote_count":27,"is_accepted":false,"score":20,"last_activity_date":1680933965,"creation_date":1271349039,"answer_id":2647156,"question_id":86780,"body_markdown":"Yes, this is achievable:\r\n\r\n    String s1 = &quot;abBaCca&quot;;\r\n    String s2 = &quot;bac&quot;;\r\n\r\n    String s1Lower = s1;\r\n\r\n    // Keep s1 intact for print purposes, if needed.\r\n    s1Lower = s1Lower.toLowerCase();\r\n    \r\n    String trueStatement = &quot;FALSE!&quot;;\r\n    if (s1Lower.contains(s2)) {\r\n        return &quot;TRUE!&quot;\r\n    }\r\n\r\n    return trueStatement;\r\n\r\nThis code will return the String &quot;TRUE!&quot;, as it found that your characters were contained.","title":"How to check if a String contains another String in a case insensitive manner in Java?","body":"<p>Yes, this is achievable:</p>\n<pre><code>String s1 = &quot;abBaCca&quot;;\nString s2 = &quot;bac&quot;;\n\nString s1Lower = s1;\n\n// Keep s1 intact for print purposes, if needed.\ns1Lower = s1Lower.toLowerCase();\n\nString trueStatement = &quot;FALSE!&quot;;\nif (s1Lower.contains(s2)) {\n    return &quot;TRUE!&quot;\n}\n\nreturn trueStatement;\n</code></pre>\n<p>This code will return the String &quot;TRUE!&quot;, as it found that your characters were contained.</p>\n"},{"tags":[],"owner":{"account_id":685549,"reputation":1,"user_id":536324,"display_name":"IVY"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1354537209,"creation_date":1291893853,"answer_id":4397645,"question_id":86780,"body_markdown":" \r\n\r\n    String x=&quot;abCd&quot;;\r\n    System.out.println(Pattern.compile(&quot;c&quot;,Pattern.CASE_INSENSITIVE).matcher(x).find());","title":"How to check if a String contains another String in a case insensitive manner in Java?","body":"<pre><code>String x=\"abCd\";\nSystem.out.println(Pattern.compile(\"c\",Pattern.CASE_INSENSITIVE).matcher(x).find());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":398410,"reputation":36002,"user_id":763080,"accept_rate":74,"display_name":"Phil"},"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1326734944,"creation_date":1326734944,"answer_id":8883863,"question_id":86780,"body_markdown":"A simpler way of doing this (without worrying about pattern matching) would be converting both `String`s to lowercase:\r\n\r\n    String foobar = &quot;fooBar&quot;;\r\n    String bar = &quot;FOO&quot;;\r\n    if (foobar.toLowerCase().contains(bar.toLowerCase()) {\r\n        System.out.println(&quot;It&#39;s a match!&quot;);\r\n    }\r\n","title":"How to check if a String contains another String in a case insensitive manner in Java?","body":"<p>A simpler way of doing this (without worrying about pattern matching) would be converting both <code>String</code>s to lowercase:</p>\n\n<pre><code>String foobar = \"fooBar\";\nString bar = \"FOO\";\nif (foobar.toLowerCase().contains(bar.toLowerCase()) {\n    System.out.println(\"It's a match!\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":485590,"reputation":2558,"user_id":901982,"accept_rate":54,"display_name":"Matto"},"down_vote_count":0,"up_vote_count":220,"is_accepted":false,"score":220,"last_activity_date":1446223351,"creation_date":1330907811,"answer_id":9560307,"question_id":86780,"body_markdown":"You can use \r\n\r\n    org.apache.commons.lang3.StringUtils.containsIgnoreCase(&quot;AbBaCca&quot;, &quot;bac&quot;);\r\n\r\nThe [Apache Commons][1] library is very useful for this sort of thing. And this particular one may be better than regular expressions as regex is always expensive in terms of performance.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Apache_Commons\r\n","title":"How to check if a String contains another String in a case insensitive manner in Java?","body":"<p>You can use </p>\n\n<pre><code>org.apache.commons.lang3.StringUtils.containsIgnoreCase(\"AbBaCca\", \"bac\");\n</code></pre>\n\n<p>The <a href=\"https://en.wikipedia.org/wiki/Apache_Commons\" rel=\"noreferrer\">Apache Commons</a> library is very useful for this sort of thing. And this particular one may be better than regular expressions as regex is always expensive in terms of performance.</p>\n"},{"tags":[],"owner":{"account_id":1160886,"reputation":1267,"user_id":1140407,"display_name":"Shiv"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1446223470,"creation_date":1350698034,"answer_id":12984575,"question_id":86780,"body_markdown":"You can use [regular expressions][1], and it works:\r\n\r\n    boolean found = s1.matches(&quot;(?i).*&quot; + s2+ &quot;.*&quot;);\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Regular_expression\r\n","title":"How to check if a String contains another String in a case insensitive manner in Java?","body":"<p>You can use <a href=\"http://en.wikipedia.org/wiki/Regular_expression\" rel=\"nofollow\">regular expressions</a>, and it works:</p>\n\n<pre><code>boolean found = s1.matches(\"(?i).*\" + s2+ \".*\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2137877,"reputation":361,"user_id":1897195,"display_name":"Jan Newmarch"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1446223667,"creation_date":1389849687,"answer_id":21153922,"question_id":86780,"body_markdown":"I did a test finding a case-insensitive match of a string. I have a Vector of 150,000 objects all with a String as one field and wanted to find the subset which matched a string. I tried three methods:\r\n\r\n1. Convert all to lower case\r\n\r\n        for (SongInformation song: songs) {\r\n            if (song.artist.toLowerCase().indexOf(pattern.toLowercase() &gt; -1) {\r\n                    ...\r\n            }\r\n        }\r\n\r\n2. Use the String matches() method\r\n\r\n        for (SongInformation song: songs) {\r\n            if (song.artist.matches(&quot;(?i).*&quot; + pattern + &quot;.*&quot;)) {\r\n            ...\r\n            }\r\n        }\r\n\r\n3. Use regular expressions\r\n\r\n        Pattern p = Pattern.compile(pattern, Pattern.CASE_INSENSITIVE);\r\n        Matcher m = p.matcher(&quot;&quot;);\r\n        for (SongInformation song: songs) {\r\n            m.reset(song.artist);\r\n            if (m.find()) {\r\n            ...\r\n            }\r\n        }\r\n\r\nTiming results are:\r\n\r\n * No attempted match: 20 msecs\r\n\r\n * To lower match: 182 msecs\r\n\r\n * String matches: 278 msecs\r\n\r\n * Regular expression: 65 msecs\r\n\r\nThe regular expression looks to be the fastest for this use case.\r\n\r\n","title":"How to check if a String contains another String in a case insensitive manner in Java?","body":"<p>I did a test finding a case-insensitive match of a string. I have a Vector of 150,000 objects all with a String as one field and wanted to find the subset which matched a string. I tried three methods:</p>\n\n<ol>\n<li><p>Convert all to lower case</p>\n\n<pre><code>for (SongInformation song: songs) {\n    if (song.artist.toLowerCase().indexOf(pattern.toLowercase() &gt; -1) {\n            ...\n    }\n}\n</code></pre></li>\n<li><p>Use the String matches() method</p>\n\n<pre><code>for (SongInformation song: songs) {\n    if (song.artist.matches(\"(?i).*\" + pattern + \".*\")) {\n    ...\n    }\n}\n</code></pre></li>\n<li><p>Use regular expressions</p>\n\n<pre><code>Pattern p = Pattern.compile(pattern, Pattern.CASE_INSENSITIVE);\nMatcher m = p.matcher(\"\");\nfor (SongInformation song: songs) {\n    m.reset(song.artist);\n    if (m.find()) {\n    ...\n    }\n}\n</code></pre></li>\n</ol>\n\n<p>Timing results are:</p>\n\n<ul>\n<li><p>No attempted match: 20 msecs</p></li>\n<li><p>To lower match: 182 msecs</p></li>\n<li><p>String matches: 278 msecs</p></li>\n<li><p>Regular expression: 65 msecs</p></li>\n</ul>\n\n<p>The regular expression looks to be the fastest for this use case.</p>\n"},{"tags":[],"owner":{"account_id":3985161,"reputation":1,"user_id":3285967,"display_name":"seth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1446224003,"creation_date":1391819783,"answer_id":21640291,"question_id":86780,"body_markdown":"    String container = &quot; Case SeNsitive &quot;;\r\n    String sub = &quot;sen&quot;;\r\n    if (rcontains(container, sub)) {\r\n        System.out.println(&quot;no case&quot;);\r\n    }\r\n\r\n    public static Boolean rcontains(String container, String sub) {\r\n\r\n        Boolean b = false;\r\n        for (int a = 0; a &lt; container.length() - sub.length() + 1; a++) {\r\n            //System.out.println(sub + &quot; to &quot; + container.substring(a, a+sub.length()));\r\n            if (sub.equalsIgnoreCase(container.substring(a, a + sub.length()))) {\r\n                b = true;\r\n            }\r\n        }\r\n        return b;\r\n    }\r\n\r\nBasically, it is a method that takes two strings. It is supposed to be a not-case sensitive version of contains(). When using the contains method, you want to see if one string is contained in the other.\r\n\r\nThis method takes the string that is &quot;sub&quot; and checks if it is equal to the substrings of the container string that are equal in length to the &quot;sub&quot;. If you look at the `for` loop, you will see that it iterates in substrings (that are the length of the &quot;sub&quot;) over the container string.\r\n\r\nEach iteration checks to see if the substring of the container string is `equalsIgnoreCase` to the sub.\r\n","title":"How to check if a String contains another String in a case insensitive manner in Java?","body":"<pre><code>String container = \" Case SeNsitive \";\nString sub = \"sen\";\nif (rcontains(container, sub)) {\n    System.out.println(\"no case\");\n}\n\npublic static Boolean rcontains(String container, String sub) {\n\n    Boolean b = false;\n    for (int a = 0; a &lt; container.length() - sub.length() + 1; a++) {\n        //System.out.println(sub + \" to \" + container.substring(a, a+sub.length()));\n        if (sub.equalsIgnoreCase(container.substring(a, a + sub.length()))) {\n            b = true;\n        }\n    }\n    return b;\n}\n</code></pre>\n\n<p>Basically, it is a method that takes two strings. It is supposed to be a not-case sensitive version of contains(). When using the contains method, you want to see if one string is contained in the other.</p>\n\n<p>This method takes the string that is \"sub\" and checks if it is equal to the substrings of the container string that are equal in length to the \"sub\". If you look at the <code>for</code> loop, you will see that it iterates in substrings (that are the length of the \"sub\") over the container string.</p>\n\n<p>Each iteration checks to see if the substring of the container string is <code>equalsIgnoreCase</code> to the sub.</p>\n"},{"tags":[],"owner":{"account_id":46836,"reputation":12142,"user_id":138513,"accept_rate":46,"display_name":"Hakanai"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1401200958,"creation_date":1401200958,"answer_id":23892141,"question_id":86780,"body_markdown":"Here&#39;s some Unicode-friendly ones you can make if you pull in ICU4j. I guess &quot;ignore case&quot; is questionable for the method names because although primary strength comparisons do ignore case, it&#39;s described as the specifics being locale-dependent. But it&#39;s hopefully locale-dependent in a way the user would expect.\r\n\r\n    public static boolean containsIgnoreCase(String haystack, String needle) {\r\n        return indexOfIgnoreCase(haystack, needle) &gt;= 0;\r\n    }\r\n\r\n    public static int indexOfIgnoreCase(String haystack, String needle) {\r\n        StringSearch stringSearch = new StringSearch(needle, haystack);\r\n        stringSearch.getCollator().setStrength(Collator.PRIMARY);\r\n        return stringSearch.first();\r\n    }\r\n","title":"How to check if a String contains another String in a case insensitive manner in Java?","body":"<p>Here's some Unicode-friendly ones you can make if you pull in ICU4j. I guess \"ignore case\" is questionable for the method names because although primary strength comparisons do ignore case, it's described as the specifics being locale-dependent. But it's hopefully locale-dependent in a way the user would expect.</p>\n\n<pre><code>public static boolean containsIgnoreCase(String haystack, String needle) {\n    return indexOfIgnoreCase(haystack, needle) &gt;= 0;\n}\n\npublic static int indexOfIgnoreCase(String haystack, String needle) {\n    StringSearch stringSearch = new StringSearch(needle, haystack);\n    stringSearch.getCollator().setStrength(Collator.PRIMARY);\n    return stringSearch.first();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1886487,"reputation":396547,"user_id":1705598,"accept_rate":92,"display_name":"icza"},"down_vote_count":0,"up_vote_count":144,"is_accepted":false,"score":144,"last_activity_date":1662049763,"creation_date":1408438096,"answer_id":25379180,"question_id":86780,"body_markdown":"## A Faster Implementation: Utilizing `String.regionMatches()`\r\n\r\nUsing regexp can be relatively slow. It (being slow) doesn&#39;t matter if you just want to check in one case. But if you have an array or a collection of thousands or hundreds of thousands of strings, things can get pretty slow.\r\n\r\nThe presented solution below doesn&#39;t use regular expressions nor `toLowerCase()` (which is also slow because it creates another strings and just throws them away after the check).\r\n\r\nThe solution builds on the [**String.regionMatches()**][1] method which seems to be unknown. It checks if 2 `String` regions match, but what&#39;s important is that it also has an overload with a handy `ignoreCase` parameter.\r\n\r\n\tpublic static boolean containsIgnoreCase(String src, String what) {\r\n\t\tfinal int length = what.length();\r\n\t\tif (length == 0)\r\n\t\t\treturn true; // Empty string is contained\r\n\t\t\t\r\n\t\tfinal char firstLo = Character.toLowerCase(what.charAt(0));\r\n\t\tfinal char firstUp = Character.toUpperCase(what.charAt(0));\r\n\t\t\r\n\t\tfor (int i = src.length() - length; i &gt;= 0; i--) {\r\n\t\t\t// Quick check before calling the more expensive regionMatches() method:\r\n\t\t\tfinal char ch = src.charAt(i);\r\n\t\t\tif (ch != firstLo &amp;&amp; ch != firstUp)\r\n\t\t\t\tcontinue;\r\n\t\t\t\r\n\t\t\tif (src.regionMatches(true, i, what, 0, length))\r\n\t\t\t\treturn true;\r\n\t\t}\r\n\t\t\r\n\t\treturn false;\r\n\t}\r\n\r\n## Speed Analysis\r\n\r\nThis speed analysis does not mean to be rocket science, just a rough picture of how fast the different methods are.\r\n\r\nI compare 5 methods.\r\n\r\n 1. Our **containsIgnoreCase()** method.\r\n 2. By converting both strings to lower-case and call `String.contains()`.\r\n 3. By converting source string to lower-case and call `String.contains()` with the pre-cached, lower-cased substring. This solution is already not as flexible because it tests a predefiend substring.\r\n 4. Using regular expression (the accepted answer `Pattern.compile().matcher().find()`...)\r\n 5. Using regular expression but with pre-created and cached `Pattern`. This solution is already not as flexible because it tests a predefined substring.\r\n\r\n\r\nResults (by calling the method 10 million times):\r\n\r\n 1. Our method: 670 ms\r\n 2. 2x toLowerCase() and contains(): 2829 ms\r\n 2. 1x toLowerCase() and contains() with cached substring: 2446 ms\r\n 3. Regexp: 7180 ms\r\n 4. Regexp with cached `Pattern`: 1845 ms\r\n\r\nResults in a table:\r\n\r\n```none\r\n                                            RELATIVE SPEED   1/RELATIVE SPEED\r\n METHOD                          EXEC TIME    TO SLOWEST      TO FASTEST (#1)\r\n------------------------------------------------------------------------------\r\n 1. Using regionMatches()          670 ms       10.7x            1.0x\r\n 2. 2x lowercase+contains         2829 ms        2.5x            4.2x\r\n 3. 1x lowercase+contains cache   2446 ms        2.9x            3.7x\r\n 4. Regexp                        7180 ms        1.0x           10.7x\r\n 5. Regexp+cached pattern         1845 ms        3.9x            2.8x\r\n```\r\n\r\nOur method is **4x faster** compared to lowercasing and using `contains()`, **10x faster** compared to using regular expressions and also **3x faster** even if the `Pattern` is pre-cached (and losing flexibility of checking for an arbitrary substring).\r\n\r\n---\r\n\r\n## Analysis Test Code\r\n\r\nIf you&#39;re interested how the analysis was performed, here is the complete runnable application:\r\n\r\n\timport java.util.regex.Pattern;\r\n\t\r\n\tpublic class ContainsAnalysis {\r\n\t\t\r\n\t\t// Case 1 utilizing String.regionMatches()\r\n\t\tpublic static boolean containsIgnoreCase(String src, String what) {\r\n\t\t\tfinal int length = what.length();\r\n\t\t\tif (length == 0)\r\n\t\t\t\treturn true; // Empty string is contained\r\n\t\t\t\t\r\n\t\t\tfinal char firstLo = Character.toLowerCase(what.charAt(0));\r\n\t\t\tfinal char firstUp = Character.toUpperCase(what.charAt(0));\r\n\t\t\t\r\n\t\t\tfor (int i = src.length() - length; i &gt;= 0; i--) {\r\n\t\t\t\t// Quick check before calling the more expensive regionMatches()\r\n\t\t\t\t// method:\r\n\t\t\t\tfinal char ch = src.charAt(i);\r\n\t\t\t\tif (ch != firstLo &amp;&amp; ch != firstUp)\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t\r\n\t\t\t\tif (src.regionMatches(true, i, what, 0, length))\r\n\t\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\t// Case 2 with 2x toLowerCase() and contains()\r\n\t\tpublic static boolean containsConverting(String src, String what) {\r\n\t\t\treturn src.toLowerCase().contains(what.toLowerCase());\r\n\t\t}\r\n\t\t\r\n\t\t// The cached substring for case 3\r\n\t\tprivate static final String S = &quot;i am&quot;.toLowerCase();\r\n\t\t\r\n\t\t// Case 3 with pre-cached substring and 1x toLowerCase() and contains()\r\n\t\tpublic static boolean containsConverting(String src) {\r\n\t\t\treturn src.toLowerCase().contains(S);\r\n\t\t}\r\n\t\t\r\n\t\t// Case 4 with regexp\r\n\t\tpublic static boolean containsIgnoreCaseRegexp(String src, String what) {\r\n\t\t\treturn Pattern.compile(Pattern.quote(what), Pattern.CASE_INSENSITIVE)\r\n\t\t\t\t\t\t.matcher(src).find();\r\n\t\t}\r\n\t\t\r\n\t\t// The cached pattern for case 5\r\n\t\tprivate static final Pattern P = Pattern.compile(\r\n\t\t\t\tPattern.quote(&quot;i am&quot;), Pattern.CASE_INSENSITIVE);\r\n\t\t\r\n\t\t// Case 5 with pre-cached Pattern\r\n\t\tpublic static boolean containsIgnoreCaseRegexp(String src) {\r\n\t\t\treturn P.matcher(src).find();\r\n\t\t}\r\n\t\t\r\n\t\t// Main method: perfroms speed analysis on different contains methods\r\n\t\t// (case ignored)\r\n\t\tpublic static void main(String[] args) throws Exception {\r\n\t\t\tfinal String src = &quot;Hi, I am Adam&quot;;\r\n\t\t\tfinal String what = &quot;i am&quot;;\r\n\t\t\t\r\n\t\t\tlong start, end;\r\n\t\t\tfinal int N = 10_000_000;\r\n\t\t\t\r\n\t\t\tstart = System.nanoTime();\r\n\t\t\tfor (int i = 0; i &lt; N; i++)\r\n\t\t\t\tcontainsIgnoreCase(src, what);\r\n\t\t\tend = System.nanoTime();\r\n\t\t\tSystem.out.println(&quot;Case 1 took &quot; + ((end - start) / 1000000) + &quot;ms&quot;);\r\n\t\t\t\r\n\t\t\tstart = System.nanoTime();\r\n\t\t\tfor (int i = 0; i &lt; N; i++)\r\n\t\t\t\tcontainsConverting(src, what);\r\n\t\t\tend = System.nanoTime();\r\n\t\t\tSystem.out.println(&quot;Case 2 took &quot; + ((end - start) / 1000000) + &quot;ms&quot;);\r\n\t\t\t\r\n\t\t\tstart = System.nanoTime();\r\n\t\t\tfor (int i = 0; i &lt; N; i++)\r\n\t\t\t\tcontainsConverting(src);\r\n\t\t\tend = System.nanoTime();\r\n\t\t\tSystem.out.println(&quot;Case 3 took &quot; + ((end - start) / 1000000) + &quot;ms&quot;);\r\n\t\t\t\r\n\t\t\tstart = System.nanoTime();\r\n\t\t\tfor (int i = 0; i &lt; N; i++)\r\n\t\t\t\tcontainsIgnoreCaseRegexp(src, what);\r\n\t\t\tend = System.nanoTime();\r\n\t\t\tSystem.out.println(&quot;Case 4 took &quot; + ((end - start) / 1000000) + &quot;ms&quot;);\r\n\t\t\t\r\n\t\t\tstart = System.nanoTime();\r\n\t\t\tfor (int i = 0; i &lt; N; i++)\r\n\t\t\t\tcontainsIgnoreCaseRegexp(src);\r\n\t\t\tend = System.nanoTime();\r\n\t\t\tSystem.out.println(&quot;Case 5 took &quot; + ((end - start) / 1000000) + &quot;ms&quot;);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#regionMatches-boolean-int-java.lang.String-int-int-","title":"How to check if a String contains another String in a case insensitive manner in Java?","body":"<h2>A Faster Implementation: Utilizing <code>String.regionMatches()</code></h2>\n<p>Using regexp can be relatively slow. It (being slow) doesn't matter if you just want to check in one case. But if you have an array or a collection of thousands or hundreds of thousands of strings, things can get pretty slow.</p>\n<p>The presented solution below doesn't use regular expressions nor <code>toLowerCase()</code> (which is also slow because it creates another strings and just throws them away after the check).</p>\n<p>The solution builds on the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#regionMatches-boolean-int-java.lang.String-int-int-\" rel=\"nofollow noreferrer\"><strong>String.regionMatches()</strong></a> method which seems to be unknown. It checks if 2 <code>String</code> regions match, but what's important is that it also has an overload with a handy <code>ignoreCase</code> parameter.</p>\n<pre><code>public static boolean containsIgnoreCase(String src, String what) {\n    final int length = what.length();\n    if (length == 0)\n        return true; // Empty string is contained\n        \n    final char firstLo = Character.toLowerCase(what.charAt(0));\n    final char firstUp = Character.toUpperCase(what.charAt(0));\n    \n    for (int i = src.length() - length; i &gt;= 0; i--) {\n        // Quick check before calling the more expensive regionMatches() method:\n        final char ch = src.charAt(i);\n        if (ch != firstLo &amp;&amp; ch != firstUp)\n            continue;\n        \n        if (src.regionMatches(true, i, what, 0, length))\n            return true;\n    }\n    \n    return false;\n}\n</code></pre>\n<h2>Speed Analysis</h2>\n<p>This speed analysis does not mean to be rocket science, just a rough picture of how fast the different methods are.</p>\n<p>I compare 5 methods.</p>\n<ol>\n<li>Our <strong>containsIgnoreCase()</strong> method.</li>\n<li>By converting both strings to lower-case and call <code>String.contains()</code>.</li>\n<li>By converting source string to lower-case and call <code>String.contains()</code> with the pre-cached, lower-cased substring. This solution is already not as flexible because it tests a predefiend substring.</li>\n<li>Using regular expression (the accepted answer <code>Pattern.compile().matcher().find()</code>...)</li>\n<li>Using regular expression but with pre-created and cached <code>Pattern</code>. This solution is already not as flexible because it tests a predefined substring.</li>\n</ol>\n<p>Results (by calling the method 10 million times):</p>\n<ol>\n<li>Our method: 670 ms</li>\n<li>2x toLowerCase() and contains(): 2829 ms</li>\n<li>1x toLowerCase() and contains() with cached substring: 2446 ms</li>\n<li>Regexp: 7180 ms</li>\n<li>Regexp with cached <code>Pattern</code>: 1845 ms</li>\n</ol>\n<p>Results in a table:</p>\n<pre class=\"lang-none prettyprint-override\"><code>                                            RELATIVE SPEED   1/RELATIVE SPEED\n METHOD                          EXEC TIME    TO SLOWEST      TO FASTEST (#1)\n------------------------------------------------------------------------------\n 1. Using regionMatches()          670 ms       10.7x            1.0x\n 2. 2x lowercase+contains         2829 ms        2.5x            4.2x\n 3. 1x lowercase+contains cache   2446 ms        2.9x            3.7x\n 4. Regexp                        7180 ms        1.0x           10.7x\n 5. Regexp+cached pattern         1845 ms        3.9x            2.8x\n</code></pre>\n<p>Our method is <strong>4x faster</strong> compared to lowercasing and using <code>contains()</code>, <strong>10x faster</strong> compared to using regular expressions and also <strong>3x faster</strong> even if the <code>Pattern</code> is pre-cached (and losing flexibility of checking for an arbitrary substring).</p>\n<hr />\n<h2>Analysis Test Code</h2>\n<p>If you're interested how the analysis was performed, here is the complete runnable application:</p>\n<pre><code>import java.util.regex.Pattern;\n\npublic class ContainsAnalysis {\n    \n    // Case 1 utilizing String.regionMatches()\n    public static boolean containsIgnoreCase(String src, String what) {\n        final int length = what.length();\n        if (length == 0)\n            return true; // Empty string is contained\n            \n        final char firstLo = Character.toLowerCase(what.charAt(0));\n        final char firstUp = Character.toUpperCase(what.charAt(0));\n        \n        for (int i = src.length() - length; i &gt;= 0; i--) {\n            // Quick check before calling the more expensive regionMatches()\n            // method:\n            final char ch = src.charAt(i);\n            if (ch != firstLo &amp;&amp; ch != firstUp)\n                continue;\n            \n            if (src.regionMatches(true, i, what, 0, length))\n                return true;\n        }\n        \n        return false;\n    }\n    \n    // Case 2 with 2x toLowerCase() and contains()\n    public static boolean containsConverting(String src, String what) {\n        return src.toLowerCase().contains(what.toLowerCase());\n    }\n    \n    // The cached substring for case 3\n    private static final String S = &quot;i am&quot;.toLowerCase();\n    \n    // Case 3 with pre-cached substring and 1x toLowerCase() and contains()\n    public static boolean containsConverting(String src) {\n        return src.toLowerCase().contains(S);\n    }\n    \n    // Case 4 with regexp\n    public static boolean containsIgnoreCaseRegexp(String src, String what) {\n        return Pattern.compile(Pattern.quote(what), Pattern.CASE_INSENSITIVE)\n                    .matcher(src).find();\n    }\n    \n    // The cached pattern for case 5\n    private static final Pattern P = Pattern.compile(\n            Pattern.quote(&quot;i am&quot;), Pattern.CASE_INSENSITIVE);\n    \n    // Case 5 with pre-cached Pattern\n    public static boolean containsIgnoreCaseRegexp(String src) {\n        return P.matcher(src).find();\n    }\n    \n    // Main method: perfroms speed analysis on different contains methods\n    // (case ignored)\n    public static void main(String[] args) throws Exception {\n        final String src = &quot;Hi, I am Adam&quot;;\n        final String what = &quot;i am&quot;;\n        \n        long start, end;\n        final int N = 10_000_000;\n        \n        start = System.nanoTime();\n        for (int i = 0; i &lt; N; i++)\n            containsIgnoreCase(src, what);\n        end = System.nanoTime();\n        System.out.println(&quot;Case 1 took &quot; + ((end - start) / 1000000) + &quot;ms&quot;);\n        \n        start = System.nanoTime();\n        for (int i = 0; i &lt; N; i++)\n            containsConverting(src, what);\n        end = System.nanoTime();\n        System.out.println(&quot;Case 2 took &quot; + ((end - start) / 1000000) + &quot;ms&quot;);\n        \n        start = System.nanoTime();\n        for (int i = 0; i &lt; N; i++)\n            containsConverting(src);\n        end = System.nanoTime();\n        System.out.println(&quot;Case 3 took &quot; + ((end - start) / 1000000) + &quot;ms&quot;);\n        \n        start = System.nanoTime();\n        for (int i = 0; i &lt; N; i++)\n            containsIgnoreCaseRegexp(src, what);\n        end = System.nanoTime();\n        System.out.println(&quot;Case 4 took &quot; + ((end - start) / 1000000) + &quot;ms&quot;);\n        \n        start = System.nanoTime();\n        for (int i = 0; i &lt; N; i++)\n            containsIgnoreCaseRegexp(src);\n        end = System.nanoTime();\n        System.out.println(&quot;Case 5 took &quot; + ((end - start) / 1000000) + &quot;ms&quot;);\n    }\n    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3076505,"reputation":1232,"user_id":2605687,"accept_rate":80,"display_name":"Revertron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1446224572,"creation_date":1428390982,"answer_id":29485939,"question_id":86780,"body_markdown":"If you have to search an ASCII string in another ASCII string, such as a [URL][1], you will find my solution to be better. I&#39;ve tested icza&#39;s method and mine for the speed and here are the results:\r\n\r\n - Case 1 took 2788 ms - regionMatches\r\n - Case 2 took 1520 ms - my\r\n\r\nThe code:\r\n\r\n    public static String lowerCaseAscii(String s) {\r\n        if (s == null)\r\n            return null;\r\n\r\n        int len = s.length();\r\n        char[] buf = new char[len];\r\n        s.getChars(0, len, buf, 0);\r\n        for (int i=0; i&lt;len; i++) {\r\n            if (buf[i] &gt;= &#39;A&#39; &amp;&amp; buf[i] &lt;= &#39;Z&#39;)\r\n                buf[i] += 0x20;\r\n        }\r\n\r\n        return new String(buf);\r\n    }\r\n\r\n    public static boolean containsIgnoreCaseAscii(String str, String searchStr) {\r\n        return StringUtils.contains(lowerCaseAscii(str), lowerCaseAscii(searchStr));\r\n    }\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Uniform_resource_locator\r\n","title":"How to check if a String contains another String in a case insensitive manner in Java?","body":"<p>If you have to search an ASCII string in another ASCII string, such as a <a href=\"http://en.wikipedia.org/wiki/Uniform_resource_locator\" rel=\"nofollow\">URL</a>, you will find my solution to be better. I've tested icza's method and mine for the speed and here are the results:</p>\n\n<ul>\n<li>Case 1 took 2788 ms - regionMatches</li>\n<li>Case 2 took 1520 ms - my</li>\n</ul>\n\n<p>The code:</p>\n\n<pre><code>public static String lowerCaseAscii(String s) {\n    if (s == null)\n        return null;\n\n    int len = s.length();\n    char[] buf = new char[len];\n    s.getChars(0, len, buf, 0);\n    for (int i=0; i&lt;len; i++) {\n        if (buf[i] &gt;= 'A' &amp;&amp; buf[i] &lt;= 'Z')\n            buf[i] += 0x20;\n    }\n\n    return new String(buf);\n}\n\npublic static boolean containsIgnoreCaseAscii(String str, String searchStr) {\n    return StringUtils.contains(lowerCaseAscii(str), lowerCaseAscii(searchStr));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7406997,"reputation":5,"user_id":5635648,"display_name":"Erick Kondela"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1449157477,"creation_date":1449155790,"answer_id":34069545,"question_id":86780,"body_markdown":"You could simply do something like this:\r\n\r\n    String s1 = &quot;AbBaCca&quot;;\r\n    String s2 = &quot;bac&quot;;\r\n    String toLower = s1.toLowerCase();\r\n    return toLower.contains(s2);\r\n\r\n\r\n\r\n","title":"How to check if a String contains another String in a case insensitive manner in Java?","body":"<p>You could simply do something like this:</p>\n\n<pre><code>String s1 = \"AbBaCca\";\nString s2 = \"bac\";\nString toLower = s1.toLowerCase();\nreturn toLower.contains(s2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4329690,"reputation":11412,"user_id":3535537,"accept_rate":78,"display_name":"St&#233;phane GRILLON"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478697886,"creation_date":1478697886,"answer_id":40508106,"question_id":86780,"body_markdown":"    import java.text.Normalizer;\r\n    \r\n    import org.apache.commons.lang3.StringUtils;\r\n    \r\n    public class ContainsIgnoreCase {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            String in = &quot;   Annul&#233;e &quot;;\r\n            String key = &quot;annulee&quot;;\r\n    \r\n            // 100% java\r\n            if (Normalizer.normalize(in, Normalizer.Form.NFD).replaceAll(&quot;[\\\\p{InCombiningDiacriticalMarks}]&quot;, &quot;&quot;).toLowerCase().contains(key)) {\r\n                System.out.println(&quot;OK&quot;);\r\n            } else {\r\n                System.out.println(&quot;KO&quot;);\r\n            }\r\n    \r\n            // use commons.lang lib\r\n            if (StringUtils.containsIgnoreCase(Normalizer.normalize(in, Normalizer.Form.NFD).replaceAll(&quot;[\\\\p{InCombiningDiacriticalMarks}]&quot;, &quot;&quot;), key)) {\r\n                System.out.println(&quot;OK&quot;);\r\n            } else {\r\n                System.out.println(&quot;KO&quot;);\r\n            }\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n","title":"How to check if a String contains another String in a case insensitive manner in Java?","body":"<pre><code>import java.text.Normalizer;\n\nimport org.apache.commons.lang3.StringUtils;\n\npublic class ContainsIgnoreCase {\n\n    public static void main(String[] args) {\n\n        String in = \"   Annulée \";\n        String key = \"annulee\";\n\n        // 100% java\n        if (Normalizer.normalize(in, Normalizer.Form.NFD).replaceAll(\"[\\\\p{InCombiningDiacriticalMarks}]\", \"\").toLowerCase().contains(key)) {\n            System.out.println(\"OK\");\n        } else {\n            System.out.println(\"KO\");\n        }\n\n        // use commons.lang lib\n        if (StringUtils.containsIgnoreCase(Normalizer.normalize(in, Normalizer.Form.NFD).replaceAll(\"[\\\\p{InCombiningDiacriticalMarks}]\", \"\"), key)) {\n            System.out.println(\"OK\");\n        } else {\n            System.out.println(\"KO\");\n        }\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6148598,"reputation":159,"user_id":4793760,"display_name":"Takhir Atamuratov"},"down_vote_count":4,"up_vote_count":6,"is_accepted":false,"score":2,"last_activity_date":1513156070,"creation_date":1513150591,"answer_id":47787761,"question_id":86780,"body_markdown":"    &quot;AbCd&quot;.toLowerCase().contains(&quot;abcD&quot;.toLowerCase())","title":"How to check if a String contains another String in a case insensitive manner in Java?","body":"<pre><code>\"AbCd\".toLowerCase().contains(\"abcD\".toLowerCase())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8004185,"reputation":1391,"user_id":6037956,"display_name":"Soudipta Dutta"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1556886966,"creation_date":1556876890,"answer_id":55967261,"question_id":86780,"body_markdown":"We can use stream with anyMatch and contains of Java 8\r\n\r\n    public class Test2 {\r\n        public static void main(String[] args) {\r\n    \r\n            String a = &quot;Gina Gini Protijayi Soudipta&quot;;\r\n            String b = &quot;Gini&quot;;\r\n    \r\n            System.out.println(WordPresentOrNot(a, b));\r\n        }// main\r\n    \r\n        private static boolean WordPresentOrNot(String a, String b) {\r\n        //contains is case sensitive. That&#39;s why change it to upper or lower case. Then check\r\n            // Here we are using stream with anyMatch\r\n            boolean match = Arrays.stream(a.toLowerCase().split(&quot; &quot;)).anyMatch(b.toLowerCase()::contains);\r\n            return match;\r\n        }\r\n    \r\n    }\r\n\r\n","title":"How to check if a String contains another String in a case insensitive manner in Java?","body":"<p>We can use stream with anyMatch and contains of Java 8</p>\n\n<pre><code>public class Test2 {\n    public static void main(String[] args) {\n\n        String a = \"Gina Gini Protijayi Soudipta\";\n        String b = \"Gini\";\n\n        System.out.println(WordPresentOrNot(a, b));\n    }// main\n\n    private static boolean WordPresentOrNot(String a, String b) {\n    //contains is case sensitive. That's why change it to upper or lower case. Then check\n        // Here we are using stream with anyMatch\n        boolean match = Arrays.stream(a.toLowerCase().split(\" \")).anyMatch(b.toLowerCase()::contains);\n        return match;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4409801,"reputation":4386,"user_id":3593084,"accept_rate":40,"display_name":"Mr.Q"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1556952073,"creation_date":1556952073,"answer_id":55980176,"question_id":86780,"body_markdown":"There is a simple concise way, using regex flag (case insensitive {i}):\r\n\r\n     String s1 = &quot;hello abc efg&quot;;\r\n     String s2 = &quot;ABC&quot;;\r\n     s1.matches(&quot;.*(?i)&quot;+s2+&quot;.*&quot;);\r\n\r\n    /*\r\n     * .*  denotes every character except line break\r\n     * (?i) denotes case insensitivity flag enabled for s2 (String)\r\n     * */\r\n\r\n","title":"How to check if a String contains another String in a case insensitive manner in Java?","body":"<p>There is a simple concise way, using regex flag (case insensitive {i}):</p>\n\n<pre><code> String s1 = \"hello abc efg\";\n String s2 = \"ABC\";\n s1.matches(\".*(?i)\"+s2+\".*\");\n\n/*\n * .*  denotes every character except line break\n * (?i) denotes case insensitivity flag enabled for s2 (String)\n * */\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16277175,"reputation":36,"user_id":11754064,"display_name":"Syed Salman Hassan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564693817,"creation_date":1564693817,"answer_id":57317029,"question_id":86780,"body_markdown":"or you can use a simple approach and just convert the string&#39;s case to substring&#39;s case and then use contains method.","title":"How to check if a String contains another String in a case insensitive manner in Java?","body":"<p>or you can use a simple approach and just convert the string's case to substring's case and then use contains method.</p>\n"},{"tags":[],"owner":{"account_id":8004446,"reputation":363,"user_id":6038143,"display_name":"Ashraf Amin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679886444,"creation_date":1679886444,"answer_id":75851823,"question_id":86780,"body_markdown":"Quick workaround : \r\n\r\n    if (yourstring.toLowerCase().contains(&quot;your string lower case&quot;)){\r\n    \r\n    }","title":"How to check if a String contains another String in a case insensitive manner in Java?","body":"<p>Quick workaround :</p>\n<pre><code>if (yourstring.toLowerCase().contains(&quot;your string lower case&quot;)){\n\n}\n</code></pre>\n"}],"owner":{"account_id":1907,"reputation":23510,"user_id":2628,"accept_rate":86,"display_name":"Aaron"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":540703,"favorite_count":0,"down_vote_count":1,"up_vote_count":466,"accepted_answer_id":86832,"answer_count":20,"score":465,"last_activity_date":1680933965,"creation_date":1221680252,"question_id":86780,"body_markdown":"Say I have two strings,\r\n\r\n    String s1 = &quot;AbBaCca&quot;;\r\n    String s2 = &quot;bac&quot;;\r\n\r\nI want to perform a check returning that `s2` is contained within `s1`. I can do this with:\r\n\r\n    return s1.contains(s2);\r\n\r\nI am pretty sure that `contains()` is case sensitive, however I can&#39;t determine this for sure from reading the documentation. If it is then I suppose my best method would be something like:\r\n\r\n    return s1.toLowerCase().contains(s2.toLowerCase());\r\n\r\nAll this aside, is there another (possibly better) way to accomplish this without caring about case-sensitivity?\r\n","title":"How to check if a String contains another String in a case insensitive manner in Java?","body":"<p>Say I have two strings,</p>\n\n<pre><code>String s1 = \"AbBaCca\";\nString s2 = \"bac\";\n</code></pre>\n\n<p>I want to perform a check returning that <code>s2</code> is contained within <code>s1</code>. I can do this with:</p>\n\n<pre><code>return s1.contains(s2);\n</code></pre>\n\n<p>I am pretty sure that <code>contains()</code> is case sensitive, however I can't determine this for sure from reading the documentation. If it is then I suppose my best method would be something like:</p>\n\n<pre><code>return s1.toLowerCase().contains(s2.toLowerCase());\n</code></pre>\n\n<p>All this aside, is there another (possibly better) way to accomplish this without caring about case-sensitivity?</p>\n"},{"tags":["java","lwjgl"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1680996413,"post_id":75963557,"comment_id":133988693,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":27908862,"reputation":1,"user_id":21593876,"display_name":"27Onion Nebell"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680933632,"creation_date":1680933346,"question_id":75963557,"body_markdown":"I&#39;m writing a Tetris game using LWJGL and I&#39;m using this tutorial https://coffeebeancode.gitbook.io/lwjgl-game-design/ . However, my code doesn&#39;t run properly. It doesn&#39;t show a triangle as expected after showing a window with black background. Here is the code:\r\n```java\r\npackage io.onion27.a_minecraft_mod.tetris;\r\n\r\nimport io.onion27.a_minecraft_mod.tetris.render.Mesh;\r\nimport io.onion27.a_minecraft_mod.tetris.render.MeshLoader;\r\nimport io.onion27.a_minecraft_mod.tetris.util.Platform;\r\nimport org.lwjgl.glfw.GLFWErrorCallback;\r\nimport org.lwjgl.*;\r\nimport org.lwjgl.glfw.*;\r\nimport org.lwjgl.opengl.*;\r\nimport org.lwjgl.system.*;\r\nimport static org.lwjgl.glfw.Callbacks.*;\r\nimport static org.lwjgl.glfw.GLFW.*;\r\nimport static org.lwjgl.opengl.GL11.*;\r\nimport static org.lwjgl.opengl.GL30.*;\r\nimport static org.lwjgl.opengl.GL20.*;\r\nimport static org.lwjgl.system.MemoryStack.*;\r\nimport static org.lwjgl.system.MemoryUtil.*;\r\nimport java.nio.*;\r\nimport java.util.Objects;\r\nimport javax.swing.*;\r\n\r\npublic class Tetris {\r\n\r\n    long mainWindow;\r\n\r\n    Tetris() {\r\n        System.out.println(&quot;Tetris object constructed&quot;);\r\n    }\r\n\r\n    public void run() {\r\n        init();\r\n        loop();\r\n        glfwFreeCallbacks(mainWindow);\r\n        glfwDestroyWindow(mainWindow);\r\n\r\n        glfwTerminate();\r\n        glfwSetErrorCallback(null).free();\r\n    }\r\n\r\n    private void init() {\r\n        // Setup an error callback. The default implementation\r\n        // will print the error message in System.err.\r\n        GLFWErrorCallback.createPrint(System.err).set();\r\n\r\n        // Initialize GLFW. Most GLFW functions will not work before doing this.\r\n        if ( !glfwInit() )\r\n            throw new IllegalStateException(&quot;Unable to initialize GLFW&quot;);\r\n\r\n        // Configure GLFW\r\n        glfwDefaultWindowHints(); // optional, the current window hints are already the default\r\n        glfwWindowHint(GLFW_VISIBLE, GLFW_FALSE); // the window will stay hidden after creation\r\n        glfwWindowHint(GLFW_RESIZABLE, GLFW_TRUE); // the window will be resizable\r\n        if (Platform.isMacOS()) {\r\n            glfwWindowHint(GLFW_OPENGL_PROFILE, GLFW_OPENGL_CORE_PROFILE);\r\n            glfwWindowHint(GLFW_OPENGL_FORWARD_COMPAT, GLFW_TRUE);\r\n            glfwWindowHint(GLFW_OPENGL_FORWARD_COMPAT, GLFW_TRUE);\r\n            glfwWindowHint(GLFW_CONTEXT_VERSION_MAJOR, 4);\r\n            glfwWindowHint(GLFW_CONTEXT_VERSION_MINOR, 1);\r\n        }\r\n\r\n        // Create the window\r\n        mainWindow = glfwCreateWindow(856, 482, &quot;MineTetris&quot;, NULL, NULL);\r\n        if ( mainWindow == NULL )\r\n            throw new RuntimeException(&quot;Failed to create the GLFW window&quot;);\r\n\r\n        // Get the thread stack and push a new frame\r\n        try ( MemoryStack stack = stackPush() ) {\r\n            IntBuffer pWidth = stack.mallocInt(1); // int*\r\n            IntBuffer pHeight = stack.mallocInt(1); // int*\r\n\r\n            // Get the window size passed to glfwCreateWindow\r\n            glfwGetWindowSize(mainWindow, pWidth, pHeight);\r\n\r\n            // Get the resolution of the primary monitor\r\n            GLFWVidMode vidmode = Objects.requireNonNull(glfwGetVideoMode(glfwGetPrimaryMonitor()));\r\n\r\n            // Center the window\r\n            glfwSetWindowPos(\r\n                    mainWindow,\r\n                    (vidmode.width() - pWidth.get(0)) / 2,\r\n                    (vidmode.height() - pHeight.get(0)) / 2\r\n            );\r\n        } // the stack frame is popped automatically\r\n\r\n        // Make the OpenGL context current\r\n        glfwMakeContextCurrent(mainWindow);\r\n        // Enable v-sync\r\n        glfwSwapInterval(1);\r\n\r\n        glfwSetWindowSizeCallback(mainWindow, this::onWindowsResize);\r\n        glfwSetKeyCallback(mainWindow, this::onKey);\r\n\r\n        // Make the window visible\r\n        glfwShowWindow(mainWindow);\r\n    }\r\n\r\n    void onWindowsResize(long windowHnd, int width, int height) {\r\n        System.out.printf(&quot;(%d, %d)%n&quot;, width, height);\r\n    }\r\n\r\n    void onKey(long windowHnd, int key, int scancode, int action, int mods) {\r\n        if ( key == GLFW_KEY_ESCAPE &amp;&amp; action == GLFW_RELEASE )\r\n            glfwSetWindowShouldClose(windowHnd, true);\r\n    }\r\n\r\n    private void loop() {\r\n        // This line is critical for LWJGL&#39;s interoperation with GLFW&#39;s\r\n        // OpenGL context, or any context that is managed externally.\r\n        // LWJGL detects the context that is current in the current thread,\r\n        // creates the GLCapabilities instance and makes the OpenGL\r\n        // bindings available for use.\r\n        GL.createCapabilities();\r\n        glfwMakeContextCurrent(mainWindow);\r\n\r\n        // Set the clear color\r\n//        glClearColor(0.0f, 0.0f, 0.0f, 0.0f);\r\n\r\n        // FIXME test code\r\n        float[] vertices = {\r\n                -0.5f, -0.5f, 0f,\r\n                0.5f, -0.5f, 0f,\r\n                0f, 0.5f, 0f\r\n        };\r\n\r\n        int[] indices = {0, 1, 2};\r\n        Mesh meshTriangle = MeshLoader.createMesh(vertices, indices);\r\n\r\n        // Run the rendering loop until the user has attempted to close\r\n        // the window or has pressed the ESCAPE key.\r\n        while ( !glfwWindowShouldClose(mainWindow) ) {\r\n            glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT); // clear the framebuffer\r\n\r\n            glBindVertexArray(meshTriangle.getVaoID());\r\n            glEnableVertexAttribArray(0);\r\n            glDrawElements(GL_TRIANGLES, meshTriangle.getVertexCount(), GL_UNSIGNED_INT, 0);\r\n            glDisableVertexAttribArray(0);\r\n            glBindVertexArray(0);\r\n\r\n            glfwSwapBuffers(mainWindow);\r\n            glfwPollEvents();\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nwhere the source code of `MeshLoader` is exactly the same as the tutorial.\r\n\r\nEdit:\r\n`MeshLoader.java`:\r\n```java\r\npackage io.onion27.a_minecraft_mod.tetris.render;\r\n\r\nimport org.lwjgl.BufferUtils;\r\nimport org.lwjgl.opengl.GL11;\r\nimport org.lwjgl.opengl.GL15;\r\nimport org.lwjgl.opengl.GL20;\r\nimport org.lwjgl.opengl.GL30;\r\n\r\nimport java.nio.FloatBuffer;\r\nimport java.nio.IntBuffer;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class MeshLoader {\r\n    public static List&lt;Integer&gt; vaos = new ArrayList&lt;&gt;();\r\n    public static List&lt;Integer&gt; vbos = new ArrayList&lt;&gt;();\r\n\r\n    private static FloatBuffer createFloatBuffer(float[] data) {\r\n        FloatBuffer buffer = BufferUtils.createFloatBuffer(data.length);\r\n        buffer.put(data);\r\n        buffer.flip();\r\n        return buffer;\r\n    }\r\n\r\n    private static IntBuffer createIntBuffer(int[] data) {\r\n        IntBuffer buffer = BufferUtils.createIntBuffer(data.length);\r\n        buffer.put(data);\r\n        buffer.flip();\r\n        return buffer;\r\n    }\r\n\r\n    private static void storeData(int attribute, int dimensions, float[] data) {\r\n        int vbo = GL15.glGenBuffers();\r\n        vbos.add(vbo);\r\n        GL15.glBindBuffer(GL15.GL_ARRAY_BUFFER, vbo);\r\n        FloatBuffer buffer = createFloatBuffer(data);\r\n        GL15.glBufferData(GL15.GL_ARRAY_BUFFER, buffer, GL15.GL_STATIC_DRAW);\r\n        GL20.glVertexAttribPointer(attribute, dimensions, GL11.GL_FLOAT, false, 0, 0);\r\n        GL15.glBindBuffer(GL15.GL_ARRAY_BUFFER, 0);\r\n    }\r\n\r\n    private static void bindIndices(int[] data) {\r\n        int vbo = GL15.glGenBuffers();\r\n        vbos.add(vbo);\r\n        GL15.glBindBuffer(GL15.GL_ELEMENT_ARRAY_BUFFER, vbo);\r\n        IntBuffer buffer = createIntBuffer(data);\r\n        GL15.glBufferData(GL15.GL_ELEMENT_ARRAY_BUFFER, buffer, GL15.GL_STATIC_DRAW);\r\n    }\r\n\r\n    public static Mesh createMesh(float[] positions, int[] indices) {\r\n        int vao = genVAO();\r\n        storeData(0, 3, positions);\r\n        bindIndices(indices);\r\n        GL30.glBindVertexArray(0);\r\n        return new Mesh(vao, indices.length);\r\n    }\r\n\r\n    private static int genVAO() {\r\n        int vao = GL30.glGenVertexArrays();\r\n        vaos.add(vao);\r\n        GL30.glBindVertexArray(vao);\r\n        return vao;\r\n    }\r\n}\r\n\r\n```\r\n","title":"LWJGL program not running properly after writing along a tutorial","body":"<p>I'm writing a Tetris game using LWJGL and I'm using this tutorial <a href=\"https://coffeebeancode.gitbook.io/lwjgl-game-design/\" rel=\"nofollow noreferrer\">https://coffeebeancode.gitbook.io/lwjgl-game-design/</a> . However, my code doesn't run properly. It doesn't show a triangle as expected after showing a window with black background. Here is the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package io.onion27.a_minecraft_mod.tetris;\n\nimport io.onion27.a_minecraft_mod.tetris.render.Mesh;\nimport io.onion27.a_minecraft_mod.tetris.render.MeshLoader;\nimport io.onion27.a_minecraft_mod.tetris.util.Platform;\nimport org.lwjgl.glfw.GLFWErrorCallback;\nimport org.lwjgl.*;\nimport org.lwjgl.glfw.*;\nimport org.lwjgl.opengl.*;\nimport org.lwjgl.system.*;\nimport static org.lwjgl.glfw.Callbacks.*;\nimport static org.lwjgl.glfw.GLFW.*;\nimport static org.lwjgl.opengl.GL11.*;\nimport static org.lwjgl.opengl.GL30.*;\nimport static org.lwjgl.opengl.GL20.*;\nimport static org.lwjgl.system.MemoryStack.*;\nimport static org.lwjgl.system.MemoryUtil.*;\nimport java.nio.*;\nimport java.util.Objects;\nimport javax.swing.*;\n\npublic class Tetris {\n\n    long mainWindow;\n\n    Tetris() {\n        System.out.println(&quot;Tetris object constructed&quot;);\n    }\n\n    public void run() {\n        init();\n        loop();\n        glfwFreeCallbacks(mainWindow);\n        glfwDestroyWindow(mainWindow);\n\n        glfwTerminate();\n        glfwSetErrorCallback(null).free();\n    }\n\n    private void init() {\n        // Setup an error callback. The default implementation\n        // will print the error message in System.err.\n        GLFWErrorCallback.createPrint(System.err).set();\n\n        // Initialize GLFW. Most GLFW functions will not work before doing this.\n        if ( !glfwInit() )\n            throw new IllegalStateException(&quot;Unable to initialize GLFW&quot;);\n\n        // Configure GLFW\n        glfwDefaultWindowHints(); // optional, the current window hints are already the default\n        glfwWindowHint(GLFW_VISIBLE, GLFW_FALSE); // the window will stay hidden after creation\n        glfwWindowHint(GLFW_RESIZABLE, GLFW_TRUE); // the window will be resizable\n        if (Platform.isMacOS()) {\n            glfwWindowHint(GLFW_OPENGL_PROFILE, GLFW_OPENGL_CORE_PROFILE);\n            glfwWindowHint(GLFW_OPENGL_FORWARD_COMPAT, GLFW_TRUE);\n            glfwWindowHint(GLFW_OPENGL_FORWARD_COMPAT, GLFW_TRUE);\n            glfwWindowHint(GLFW_CONTEXT_VERSION_MAJOR, 4);\n            glfwWindowHint(GLFW_CONTEXT_VERSION_MINOR, 1);\n        }\n\n        // Create the window\n        mainWindow = glfwCreateWindow(856, 482, &quot;MineTetris&quot;, NULL, NULL);\n        if ( mainWindow == NULL )\n            throw new RuntimeException(&quot;Failed to create the GLFW window&quot;);\n\n        // Get the thread stack and push a new frame\n        try ( MemoryStack stack = stackPush() ) {\n            IntBuffer pWidth = stack.mallocInt(1); // int*\n            IntBuffer pHeight = stack.mallocInt(1); // int*\n\n            // Get the window size passed to glfwCreateWindow\n            glfwGetWindowSize(mainWindow, pWidth, pHeight);\n\n            // Get the resolution of the primary monitor\n            GLFWVidMode vidmode = Objects.requireNonNull(glfwGetVideoMode(glfwGetPrimaryMonitor()));\n\n            // Center the window\n            glfwSetWindowPos(\n                    mainWindow,\n                    (vidmode.width() - pWidth.get(0)) / 2,\n                    (vidmode.height() - pHeight.get(0)) / 2\n            );\n        } // the stack frame is popped automatically\n\n        // Make the OpenGL context current\n        glfwMakeContextCurrent(mainWindow);\n        // Enable v-sync\n        glfwSwapInterval(1);\n\n        glfwSetWindowSizeCallback(mainWindow, this::onWindowsResize);\n        glfwSetKeyCallback(mainWindow, this::onKey);\n\n        // Make the window visible\n        glfwShowWindow(mainWindow);\n    }\n\n    void onWindowsResize(long windowHnd, int width, int height) {\n        System.out.printf(&quot;(%d, %d)%n&quot;, width, height);\n    }\n\n    void onKey(long windowHnd, int key, int scancode, int action, int mods) {\n        if ( key == GLFW_KEY_ESCAPE &amp;&amp; action == GLFW_RELEASE )\n            glfwSetWindowShouldClose(windowHnd, true);\n    }\n\n    private void loop() {\n        // This line is critical for LWJGL's interoperation with GLFW's\n        // OpenGL context, or any context that is managed externally.\n        // LWJGL detects the context that is current in the current thread,\n        // creates the GLCapabilities instance and makes the OpenGL\n        // bindings available for use.\n        GL.createCapabilities();\n        glfwMakeContextCurrent(mainWindow);\n\n        // Set the clear color\n//        glClearColor(0.0f, 0.0f, 0.0f, 0.0f);\n\n        // FIXME test code\n        float[] vertices = {\n                -0.5f, -0.5f, 0f,\n                0.5f, -0.5f, 0f,\n                0f, 0.5f, 0f\n        };\n\n        int[] indices = {0, 1, 2};\n        Mesh meshTriangle = MeshLoader.createMesh(vertices, indices);\n\n        // Run the rendering loop until the user has attempted to close\n        // the window or has pressed the ESCAPE key.\n        while ( !glfwWindowShouldClose(mainWindow) ) {\n            glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT); // clear the framebuffer\n\n            glBindVertexArray(meshTriangle.getVaoID());\n            glEnableVertexAttribArray(0);\n            glDrawElements(GL_TRIANGLES, meshTriangle.getVertexCount(), GL_UNSIGNED_INT, 0);\n            glDisableVertexAttribArray(0);\n            glBindVertexArray(0);\n\n            glfwSwapBuffers(mainWindow);\n            glfwPollEvents();\n        }\n    }\n}\n\n</code></pre>\n<p>where the source code of <code>MeshLoader</code> is exactly the same as the tutorial.</p>\n<p>Edit:\n<code>MeshLoader.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package io.onion27.a_minecraft_mod.tetris.render;\n\nimport org.lwjgl.BufferUtils;\nimport org.lwjgl.opengl.GL11;\nimport org.lwjgl.opengl.GL15;\nimport org.lwjgl.opengl.GL20;\nimport org.lwjgl.opengl.GL30;\n\nimport java.nio.FloatBuffer;\nimport java.nio.IntBuffer;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class MeshLoader {\n    public static List&lt;Integer&gt; vaos = new ArrayList&lt;&gt;();\n    public static List&lt;Integer&gt; vbos = new ArrayList&lt;&gt;();\n\n    private static FloatBuffer createFloatBuffer(float[] data) {\n        FloatBuffer buffer = BufferUtils.createFloatBuffer(data.length);\n        buffer.put(data);\n        buffer.flip();\n        return buffer;\n    }\n\n    private static IntBuffer createIntBuffer(int[] data) {\n        IntBuffer buffer = BufferUtils.createIntBuffer(data.length);\n        buffer.put(data);\n        buffer.flip();\n        return buffer;\n    }\n\n    private static void storeData(int attribute, int dimensions, float[] data) {\n        int vbo = GL15.glGenBuffers();\n        vbos.add(vbo);\n        GL15.glBindBuffer(GL15.GL_ARRAY_BUFFER, vbo);\n        FloatBuffer buffer = createFloatBuffer(data);\n        GL15.glBufferData(GL15.GL_ARRAY_BUFFER, buffer, GL15.GL_STATIC_DRAW);\n        GL20.glVertexAttribPointer(attribute, dimensions, GL11.GL_FLOAT, false, 0, 0);\n        GL15.glBindBuffer(GL15.GL_ARRAY_BUFFER, 0);\n    }\n\n    private static void bindIndices(int[] data) {\n        int vbo = GL15.glGenBuffers();\n        vbos.add(vbo);\n        GL15.glBindBuffer(GL15.GL_ELEMENT_ARRAY_BUFFER, vbo);\n        IntBuffer buffer = createIntBuffer(data);\n        GL15.glBufferData(GL15.GL_ELEMENT_ARRAY_BUFFER, buffer, GL15.GL_STATIC_DRAW);\n    }\n\n    public static Mesh createMesh(float[] positions, int[] indices) {\n        int vao = genVAO();\n        storeData(0, 3, positions);\n        bindIndices(indices);\n        GL30.glBindVertexArray(0);\n        return new Mesh(vao, indices.length);\n    }\n\n    private static int genVAO() {\n        int vao = GL30.glGenVertexArrays();\n        vaos.add(vao);\n        GL30.glBindVertexArray(vao);\n        return vao;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","javafx","netbeans","sdk","platform"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1680896755,"post_id":75961471,"comment_id":133978070,"body_markdown":"I think the new JavaFX platform stuff in NetBeans is obsolete and broken.  Instead follow the getting started instructions for NetBeans at openjfx.io.","body":"I think the new JavaFX platform stuff in NetBeans is obsolete and broken.  Instead follow the getting started instructions for NetBeans at openjfx.io."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1680896764,"post_id":75961471,"comment_id":133978072,"body_markdown":"If you have been stuck for a long time, try a different approach.  To quickly get started, I advise downloading idea and using the [new JavaFX project wizard](https://stackoverflow.com/questions/74764217/error-javafx-runtime-components-are-missing-with-intellij-idea-maven-and-jdk/74764297#74764297).","body":"If you have been stuck for a long time, try a different approach.  To quickly get started, I advise downloading idea and using the <a href=\"https://stackoverflow.com/questions/74764217/error-javafx-runtime-components-are-missing-with-intellij-idea-maven-and-jdk/74764297#74764297\">new JavaFX project wizard</a>."},{"owner":{"account_id":10283144,"reputation":2440,"user_id":7587451,"display_name":"Giovanni Contreras"},"score":3,"creation_date":1680897590,"post_id":75961471,"comment_id":133978210,"body_markdown":"you can make a maven javafx project in netbeans  [like so](https://stackoverflow.com/a/74924150/7587451)","body":"you can make a maven javafx project in netbeans  <a href=\"https://stackoverflow.com/a/74924150/7587451\">like so</a>"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":3,"creation_date":1680902266,"post_id":75961471,"comment_id":133978961,"body_markdown":"[_&quot;Don&#39;t try to create a JavaFX project.&quot;_](https://stackoverflow.com/a/73611827/230513)","body":"<a href=\"https://stackoverflow.com/a/73611827/230513\"><i>&quot;Don&#39;t try to create a JavaFX project.&quot;</i></a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1680931491,"post_id":75961471,"comment_id":133981284,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1680932521,"creation_date":1680913922,"answer_id":75962754,"question_id":75961471,"body_markdown":"The good news is that your issue is fairly easy to fix. The bad news is that you are going to encounter another problem once that is resolved, for which there is no easy fix.\r\n\r\nFirst, note from your screen shot that you are invited to provide a &quot;**JavaFX** Platform&quot; rather than just a &quot;**Java** Platform&quot;. That is, you need to provide a JDK which includes the JavaFX modules, and presumably your selection of *JDK 20 (Default)* is not valid.\r\n\r\n[Azul Systems][1] and [BellSoft][2] are two [JDK][3] vendors offering editions that bundle the necessary JavaFX ([OpenJFX][4]) libraries. Here is a screen shot of the Azul site, https://www.azul.com/downloads/?package=jdk#zulu\r\n\r\n[![Azul Download][5]][5]\r\n\r\nBe sure to specify *JDK FX* for the **Java Package**. I downloaded the zip (rather than the msi) and after unzipping had a top level directory named **zulu19.32.15-ca-fx-jdk19.0.2-win_x64**. Use **Tools &gt; Java Platforms &gt; Add Platform...** to create a new Java platform, specifying that directory. I named my new platform **Java193215Azul**:\r\n\r\n[![Add Platform][6]][6]\r\n\r\nNow you should be able to avoid the problem shown in your screen shot. Navigate to **File &gt; New Project... &gt; Java with Ant &gt; JavaFX &gt; JavaFX Application**, and click **Next &gt;**. On the **New JavaFX Application** screen in the **JavaFX Platform** field select the Azul SDK you just downloaded and added as a Java platform:\r\n\r\n[![NetBeans Wizard][7]][7]\r\n\r\nThere should be no error now, and you can click **Finish** to generate your project. \r\n\r\nThat resolves your issue, but it&#39;s important to note that when you build the JavaFX application generated by the NetBeans wizard you will get an unrelated build error:\r\n\r\n[![Build error][8]][8]\r\n\r\nA bug report for that issue was raised almost a year ago, but has not been resolved. See the NetBeans Bug [Build Failed #3996][9]:\r\n\r\n&gt; When I build javafx app this error appear &quot;Unable to create javax\r\n&gt; script engine for JavaScript in javafx&quot;.\r\n\r\nTo avoid this issue there are alternative approaches for JavaFX development which may or may not suit you:\r\n- Create a [Maven][10] project rather than an [Ant][11] project in NetBeans.\r\n- Use an alternative IDE, such as [IntelliJ IDEA][12] offering a JavaFX template for new projects. See [this Answer](https://stackoverflow.com/a/74764297/642706) for details.\r\n- Regress to a much earlier version of NetBeans (12.0 or earlier) and use [JDK 8][13].\r\n\r\nOne final point: although you can&#39;t build a JavaFX project generated by the wizard when using Ant, it is still possible to run the file containing the **main()** method that was generated by the wizard, using **Run &gt; Run File**. Here&#39;s a screen shot showing that file being run after I made a couple of cosmetic changes in the code:\r\n\r\n[![Run File][14]][14]\r\n\r\nOf course that approach has limited value, but I mention it for completeness.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Azul_Systems\r\n  [2]: https://bell-sw.com/\r\n  [3]: https://en.wikipedia.org/wiki/Java_Development_Kit\r\n  [4]: https://openjfx.io/\r\n  [5]: https://i.stack.imgur.com/UkTK7.png\r\n  [6]: https://i.stack.imgur.com/xLbqh.png\r\n  [7]: https://i.stack.imgur.com/bL36W.png\r\n  [8]: https://i.stack.imgur.com/m8HWO.png\r\n  [9]: https://github.com/apache/netbeans/issues/3996\r\n  [10]: https://en.wikipedia.org/wiki/Apache_Maven\r\n  [11]: https://en.wikipedia.org/wiki/Apache_Ant\r\n  [12]: https://en.wikipedia.org/wiki/IntelliJ_IDEA\r\n  [13]: https://en.wikipedia.org/wiki/Java_version_history#Java_8\r\n  [14]: https://i.stack.imgur.com/x6lO0.png","title":"JavaFX: Cannot change default JavaFX platform","body":"<p>The good news is that your issue is fairly easy to fix. The bad news is that you are going to encounter another problem once that is resolved, for which there is no easy fix.</p>\n<p>First, note from your screen shot that you are invited to provide a &quot;<strong>JavaFX</strong> Platform&quot; rather than just a &quot;<strong>Java</strong> Platform&quot;. That is, you need to provide a JDK which includes the JavaFX modules, and presumably your selection of <em>JDK 20 (Default)</em> is not valid.</p>\n<p><a href=\"https://en.wikipedia.org/wiki/Azul_Systems\" rel=\"nofollow noreferrer\">Azul Systems</a> and <a href=\"https://bell-sw.com/\" rel=\"nofollow noreferrer\">BellSoft</a> are two <a href=\"https://en.wikipedia.org/wiki/Java_Development_Kit\" rel=\"nofollow noreferrer\">JDK</a> vendors offering editions that bundle the necessary JavaFX (<a href=\"https://openjfx.io/\" rel=\"nofollow noreferrer\">OpenJFX</a>) libraries. Here is a screen shot of the Azul site, <a href=\"https://www.azul.com/downloads/?package=jdk#zulu\" rel=\"nofollow noreferrer\">https://www.azul.com/downloads/?package=jdk#zulu</a></p>\n<p><a href=\"https://i.stack.imgur.com/UkTK7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UkTK7.png\" alt=\"Azul Download\" /></a></p>\n<p>Be sure to specify <em>JDK FX</em> for the <strong>Java Package</strong>. I downloaded the zip (rather than the msi) and after unzipping had a top level directory named <strong>zulu19.32.15-ca-fx-jdk19.0.2-win_x64</strong>. Use <strong>Tools &gt; Java Platforms &gt; Add Platform...</strong> to create a new Java platform, specifying that directory. I named my new platform <strong>Java193215Azul</strong>:</p>\n<p><a href=\"https://i.stack.imgur.com/xLbqh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xLbqh.png\" alt=\"Add Platform\" /></a></p>\n<p>Now you should be able to avoid the problem shown in your screen shot. Navigate to <strong>File &gt; New Project... &gt; Java with Ant &gt; JavaFX &gt; JavaFX Application</strong>, and click <strong>Next &gt;</strong>. On the <strong>New JavaFX Application</strong> screen in the <strong>JavaFX Platform</strong> field select the Azul SDK you just downloaded and added as a Java platform:</p>\n<p><a href=\"https://i.stack.imgur.com/bL36W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bL36W.png\" alt=\"NetBeans Wizard\" /></a></p>\n<p>There should be no error now, and you can click <strong>Finish</strong> to generate your project.</p>\n<p>That resolves your issue, but it's important to note that when you build the JavaFX application generated by the NetBeans wizard you will get an unrelated build error:</p>\n<p><a href=\"https://i.stack.imgur.com/m8HWO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m8HWO.png\" alt=\"Build error\" /></a></p>\n<p>A bug report for that issue was raised almost a year ago, but has not been resolved. See the NetBeans Bug <a href=\"https://github.com/apache/netbeans/issues/3996\" rel=\"nofollow noreferrer\">Build Failed #3996</a>:</p>\n<blockquote>\n<p>When I build javafx app this error appear &quot;Unable to create javax\nscript engine for JavaScript in javafx&quot;.</p>\n</blockquote>\n<p>To avoid this issue there are alternative approaches for JavaFX development which may or may not suit you:</p>\n<ul>\n<li>Create a <a href=\"https://en.wikipedia.org/wiki/Apache_Maven\" rel=\"nofollow noreferrer\">Maven</a> project rather than an <a href=\"https://en.wikipedia.org/wiki/Apache_Ant\" rel=\"nofollow noreferrer\">Ant</a> project in NetBeans.</li>\n<li>Use an alternative IDE, such as <a href=\"https://en.wikipedia.org/wiki/IntelliJ_IDEA\" rel=\"nofollow noreferrer\">IntelliJ IDEA</a> offering a JavaFX template for new projects. See <a href=\"https://stackoverflow.com/a/74764297/642706\">this Answer</a> for details.</li>\n<li>Regress to a much earlier version of NetBeans (12.0 or earlier) and use <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_8\" rel=\"nofollow noreferrer\">JDK 8</a>.</li>\n</ul>\n<p>One final point: although you can't build a JavaFX project generated by the wizard when using Ant, it is still possible to run the file containing the <strong>main()</strong> method that was generated by the wizard, using <strong>Run &gt; Run File</strong>. Here's a screen shot showing that file being run after I made a couple of cosmetic changes in the code:</p>\n<p><a href=\"https://i.stack.imgur.com/x6lO0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x6lO0.png\" alt=\"Run File\" /></a></p>\n<p>Of course that approach has limited value, but I mention it for completeness.</p>\n"}],"owner":{"account_id":28244189,"reputation":23,"user_id":21591513,"display_name":"Enyko"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75962754,"answer_count":1,"score":2,"last_activity_date":1680932521,"creation_date":1680896328,"question_id":75961471,"body_markdown":"I am using Netbeans IDE 17. I have a problem with setting a different JavaFX platform version. Therefore I cannot create new JavaFx project. \r\n\r\nTools/Java Platforms:\r\n\r\n[![Add Platform][1]][1]\r\n\r\nWhen creating a new JavaFX project I tried multiple times to add new platforms, but I cannot choose them in the combobox:\r\n\r\n\r\n\r\n[![New Project][2]][2] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UrQxL.png\r\n  [2]: https://i.stack.imgur.com/KTFmW.png","title":"JavaFX: Cannot change default JavaFX platform","body":"<p>I am using Netbeans IDE 17. I have a problem with setting a different JavaFX platform version. Therefore I cannot create new JavaFx project.</p>\n<p>Tools/Java Platforms:</p>\n<p><a href=\"https://i.stack.imgur.com/UrQxL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UrQxL.png\" alt=\"Add Platform\" /></a></p>\n<p>When creating a new JavaFX project I tried multiple times to add new platforms, but I cannot choose them in the combobox:</p>\n<p><a href=\"https://i.stack.imgur.com/KTFmW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KTFmW.png\" alt=\"New Project\" /></a></p>\n"},{"tags":["java","spring-boot","spring-security-oauth2","jackson-databind","jackson-modules"],"answers":[{"tags":[],"owner":{"account_id":7680920,"reputation":279,"user_id":5820183,"display_name":"Sebin Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680932419,"creation_date":1680932419,"answer_id":75963511,"question_id":75925379,"body_markdown":"I was able to figure it out.\r\n\r\nAdded the below MixIn\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public abstract class UUIDMixIn {\r\n    \r\n      @JsonCreator\r\n      public static UUID fromString(String uuid) {\r\n        return UUID.fromString(uuid);\r\n      }\r\n    \r\n    }\r\n\r\nThe registered it with the `ObjectMapper` instance.\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();    \r\n    objectMapper.addMixIn(UUID.class, UUIDMixIn.class);","title":"Jackson Parse String to Map throws java.lang.IllegalArgumentException. Explicit mapping using Jackson annotations or by providing a Mixin for UUID","body":"<p>I was able to figure it out.</p>\n<p>Added the below MixIn</p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\npublic abstract class UUIDMixIn {\n\n  @JsonCreator\n  public static UUID fromString(String uuid) {\n    return UUID.fromString(uuid);\n  }\n\n}\n</code></pre>\n<p>The registered it with the <code>ObjectMapper</code> instance.</p>\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();    \nobjectMapper.addMixIn(UUID.class, UUIDMixIn.class);\n</code></pre>\n"}],"owner":{"account_id":7680920,"reputation":279,"user_id":5820183,"display_name":"Sebin Thomas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":552,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75963511,"answer_count":1,"score":0,"last_activity_date":1680932419,"creation_date":1680580222,"question_id":75925379,"body_markdown":"I am creating an authorization server using Spring Security OAuth2 authorization framework and I am trying to map the OidcIdTokenClaims (Given Below) to Map&lt;String, Object&gt;.\r\n\r\n**OidcIdTokenClaims Sample Data**\r\n\r\n    {\r\n    &quot;@class&quot;:&quot;java.util.Collections$UnmodifiableMap&quot;,\r\n    &quot;sub&quot;:&quot;example@mail.com&quot;,\r\n    &quot;accessibility&quot;:[&quot;java.util.ArrayList&quot;,[]],\r\n    &quot;org&quot;:[&quot;java.util.UUID&quot;,&quot;********-****-****-****-************&quot;],\r\n    &quot;authorities&quot;:[&quot;java.util.ImmutableCollections$ListN&quot;,[&quot;SCOPE_read&quot;]],\r\n    &quot;aud&quot;:[&quot;java.util.Collections$SingletonList&quot;,[&quot;********-****-****-****-************d&quot;]],\r\n    &quot;user_id&quot;:[&quot;java.util.UUID&quot;,&quot;********-****-****-****-************f&quot;],\r\n    &quot;azp&quot;:&quot;********-****-****-****-************&quot;,\r\n    &quot;name&quot;:&quot;MyName&quot;,\r\n    &quot;theme&quot;:&quot;default&quot;,\r\n    &quot;exp&quot;:[&quot;java.time.Instant&quot;,1680580456.151182300],\r\n    &quot;iat&quot;:[&quot;java.time.Instant&quot;,1680578656.151182300],\r\n    &quot;email&quot;:&quot;example@mail.com&quot;\r\n    }\r\n\r\nHere is my Mapping Method\r\n\r\n      private Map&lt;String, Object&gt; parseMap(String data) {\r\n        try {\r\n          return this.objectMapper.readValue(data, new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {\r\n          });\r\n        } catch (Exception ex) {\r\n          throw new IllegalArgumentException(ex.getMessage(), ex);\r\n        }\r\n      }\r\n\r\n\r\nWhen ever I use the about sample data to parse using Jackson2 I get the below error;\r\n    \r\n    \r\n    java.lang.IllegalArgumentException: The class with java.util.UUID and name of java.util.UUID is not in the allowlist. If you believe this class is safe to deserialize, please provide an explicit mapping using Jackson annotations or by providing a Mixin. If the serialization is only done by a trusted source, you can also enable default typing. See https://github.com/spring-projects/spring-security/issues/4370 for details\r\n    \tat com.a.b.c.d.e.parseMap(JpaOAuth2AuthorizationService.java:228)\r\n    \tat java.base/java.util.Optional.map(Optional.java:260)\r\n    \tat jdk.internal.reflect.GeneratedMethodAccessor105.invoke(Unknown Source)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:702)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:702)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n    \tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:527)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n    \tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:614)\r\n    \tat io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\r\n    \tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\r\n    \tat org.springframework.security.web.authentication.switchuser.SwitchUserFilter.doFilter(SwitchUserFilter.java:215)\r\n    \tat org.springframework.security.web.authentication.switchuser.SwitchUserFilter.doFilter(SwitchUserFilter.java:175)\r\n    \tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:67)\r\n    \tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    \tat org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:66)\r\n    \tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:67)\r\n    \tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    \tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)\r\n    \tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \tat org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:145)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \tat org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)\r\n    \tat org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)\r\n    \tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \tat org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\r\n    \tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\r\n    \tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:67)\r\n    \tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:67)\r\n    \tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:67)\r\n    \tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:67)\r\n    \tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)\r\n    \tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:67)\r\n    \tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    \tat io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\r\n    \tat io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\r\n    \tat io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\r\n    \tat io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\r\n    \tat io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\r\n    \tat io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)\r\n    \tat io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\r\n    \tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    \tat io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\r\n    \tat io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\r\n    \tat io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\r\n    \tat io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\r\n    \tat io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\r\n    \tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    \tat io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)\r\n    \tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    \tat io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:276)\r\n    \tat io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)\r\n    \tat io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:132)\r\n    \tat io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\r\n    \tat io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n    \tat io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:256)\r\n    \tat io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:101)\r\n    \tat io.undertow.server.Connectors.executeRootHandler(Connectors.java:393)\r\n    \tat io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:859)\r\n    \tat org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\r\n    \tat org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2513)\r\n    \tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1538)\r\n    \tat org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1282)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\nFrom the data I can find out that I using UUID in 2 places (org, user_id) and Based on the given message I tried to create a Mixin but it does not get to work.\r\n\r\nPlease let me know if anyone had any solutions. Thanks.","title":"Jackson Parse String to Map throws java.lang.IllegalArgumentException. Explicit mapping using Jackson annotations or by providing a Mixin for UUID","body":"<p>I am creating an authorization server using Spring Security OAuth2 authorization framework and I am trying to map the OidcIdTokenClaims (Given Below) to Map&lt;String, Object&gt;.</p>\n<p><strong>OidcIdTokenClaims Sample Data</strong></p>\n<pre><code>{\n&quot;@class&quot;:&quot;java.util.Collections$UnmodifiableMap&quot;,\n&quot;sub&quot;:&quot;example@mail.com&quot;,\n&quot;accessibility&quot;:[&quot;java.util.ArrayList&quot;,[]],\n&quot;org&quot;:[&quot;java.util.UUID&quot;,&quot;********-****-****-****-************&quot;],\n&quot;authorities&quot;:[&quot;java.util.ImmutableCollections$ListN&quot;,[&quot;SCOPE_read&quot;]],\n&quot;aud&quot;:[&quot;java.util.Collections$SingletonList&quot;,[&quot;********-****-****-****-************d&quot;]],\n&quot;user_id&quot;:[&quot;java.util.UUID&quot;,&quot;********-****-****-****-************f&quot;],\n&quot;azp&quot;:&quot;********-****-****-****-************&quot;,\n&quot;name&quot;:&quot;MyName&quot;,\n&quot;theme&quot;:&quot;default&quot;,\n&quot;exp&quot;:[&quot;java.time.Instant&quot;,1680580456.151182300],\n&quot;iat&quot;:[&quot;java.time.Instant&quot;,1680578656.151182300],\n&quot;email&quot;:&quot;example@mail.com&quot;\n}\n</code></pre>\n<p>Here is my Mapping Method</p>\n<pre><code>  private Map&lt;String, Object&gt; parseMap(String data) {\n    try {\n      return this.objectMapper.readValue(data, new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {\n      });\n    } catch (Exception ex) {\n      throw new IllegalArgumentException(ex.getMessage(), ex);\n    }\n  }\n</code></pre>\n<p>When ever I use the about sample data to parse using Jackson2 I get the below error;</p>\n<pre><code>java.lang.IllegalArgumentException: The class with java.util.UUID and name of java.util.UUID is not in the allowlist. If you believe this class is safe to deserialize, please provide an explicit mapping using Jackson annotations or by providing a Mixin. If the serialization is only done by a trusted source, you can also enable default typing. See https://github.com/spring-projects/spring-security/issues/4370 for details\n    at com.a.b.c.d.e.parseMap(JpaOAuth2AuthorizationService.java:228)\n    at java.base/java.util.Optional.map(Optional.java:260)\n    at jdk.internal.reflect.GeneratedMethodAccessor105.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:702)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:702)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:527)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:614)\n    at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\n    at org.springframework.security.web.authentication.switchuser.SwitchUserFilter.doFilter(SwitchUserFilter.java:215)\n    at org.springframework.security.web.authentication.switchuser.SwitchUserFilter.doFilter(SwitchUserFilter.java:175)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:67)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:66)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:67)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)\n    at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:145)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)\n    at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:67)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:67)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:67)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:67)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:67)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\n    at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\n    at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\n    at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\n    at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\n    at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)\n    at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\n    at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\n    at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\n    at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\n    at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:276)\n    at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)\n    at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:132)\n    at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\n    at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n    at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:256)\n    at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:101)\n    at io.undertow.server.Connectors.executeRootHandler(Connectors.java:393)\n    at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:859)\n    at org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\n    at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2513)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1538)\n    at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1282)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>From the data I can find out that I using UUID in 2 places (org, user_id) and Based on the given message I tried to create a Mixin but it does not get to work.</p>\n<p>Please let me know if anyone had any solutions. Thanks.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1680936981,"post_id":75963461,"comment_id":133981722,"body_markdown":"Are you referring to this [Mono](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html)?","body":"Are you referring to this <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html\" rel=\"nofollow noreferrer\">Mono</a>?"},{"owner":{"account_id":28246832,"reputation":1,"user_id":21593718,"display_name":"Josh Doeksen"},"score":0,"creation_date":1681051033,"post_id":75963461,"comment_id":133993477,"body_markdown":"Yes I am referring that that Mono. I have tried many of the methods. map, flatmap. I think zip sounds like it might be the right path but I am not sure how to get the result of the first mono to be able to be used in the second mono in a loop. Or have not been able to use an iterable properly.","body":"Yes I am referring that that Mono. I have tried many of the methods. map, flatmap. I think zip sounds like it might be the right path but I am not sure how to get the result of the first mono to be able to be used in the second mono in a loop. Or have not been able to use an iterable properly."}],"owner":{"account_id":28246832,"reputation":1,"user_id":21593718,"display_name":"Josh Doeksen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680931484,"creation_date":1680931484,"question_id":75963461,"body_markdown":"I am new to Mono. I have migrated an existing non reactive RepsonseEntity API to use all Mono calls. There is one call that gets a Mono&lt;List&lt;Workflow&gt;&gt; and then needs to run a second Mono call for each Workflow in the list that will return a Workflow with the tasks included. It then needs to take the tasks and set them in the Workflow in the list. Optionally, it could just replace the entire workflow with the copy of the workflow in the second call that includes the tasks. \r\n\r\nThe issue is that I can not get the order properly with my lack of Mono knowledge. Logically my code works but it is returning the response to the requestor before the Workflow is replaced by the second Mono call. I believe I need to use then or zip maybe but I have not been able to get them entered correctly. \r\n\r\n\r\n```\r\npublic Mono&lt;List&lt;Workflow&gt;&gt; getWorkflows_0(String name, String correlationId, Boolean includeClosed, Boolean includeTasks) {\r\n    return extendedWorkflowApiR.getWorkflows_0(name, correlationId, includeClosed, includeTasks)\r\n        .map(wfList -&gt; {\r\n            if (!wfList.isEmpty() &amp;&amp; includeClosed){\r\n                for (Workflow wf : wfList) {\r\n                    if (wf.getTasks().isEmpty() &amp;&amp; includeTasks) {\r\n                        extendedWorkflowApiR.getExecutionStatus(wf.getWorkflowId(), includeTasks)\r\n                            .map(wfWithTasks -&gt; {\r\n                                wf.setTasks(wfWithTasks.getTasks());\r\n                                return Mono.just(wf);\r\n                            });                        \r\n                    }\r\n                }   \r\n            }\r\n        return wfList;\r\n    });\r\n}\r\n```\r\n\r\n\r\nI have tried using map, flatmap, tried making the second mono a private method and calling it instead. I have tried many different versions with System.Outs and it always prints the final return before the getExecutionStatus mono returns and fixed the Workflow. \r\n\r\nI need the first Mono to return the List of workflows. Then be able to run through the list with each one potentially calling a second mono and fixing the list. Then at the end return the completed list. I also seem to have to subscribe to the inner mono or it wont ever trigger that one. currently that subscribe is not in code sample.","title":"Java Mono in Mono Response out of Order","body":"<p>I am new to Mono. I have migrated an existing non reactive RepsonseEntity API to use all Mono calls. There is one call that gets a Mono&lt;List&gt; and then needs to run a second Mono call for each Workflow in the list that will return a Workflow with the tasks included. It then needs to take the tasks and set them in the Workflow in the list. Optionally, it could just replace the entire workflow with the copy of the workflow in the second call that includes the tasks.</p>\n<p>The issue is that I can not get the order properly with my lack of Mono knowledge. Logically my code works but it is returning the response to the requestor before the Workflow is replaced by the second Mono call. I believe I need to use then or zip maybe but I have not been able to get them entered correctly.</p>\n<pre><code>public Mono&lt;List&lt;Workflow&gt;&gt; getWorkflows_0(String name, String correlationId, Boolean includeClosed, Boolean includeTasks) {\n    return extendedWorkflowApiR.getWorkflows_0(name, correlationId, includeClosed, includeTasks)\n        .map(wfList -&gt; {\n            if (!wfList.isEmpty() &amp;&amp; includeClosed){\n                for (Workflow wf : wfList) {\n                    if (wf.getTasks().isEmpty() &amp;&amp; includeTasks) {\n                        extendedWorkflowApiR.getExecutionStatus(wf.getWorkflowId(), includeTasks)\n                            .map(wfWithTasks -&gt; {\n                                wf.setTasks(wfWithTasks.getTasks());\n                                return Mono.just(wf);\n                            });                        \n                    }\n                }   \n            }\n        return wfList;\n    });\n}\n</code></pre>\n<p>I have tried using map, flatmap, tried making the second mono a private method and calling it instead. I have tried many different versions with System.Outs and it always prints the final return before the getExecutionStatus mono returns and fixed the Workflow.</p>\n<p>I need the first Mono to return the List of workflows. Then be able to run through the list with each one potentially calling a second mono and fixing the list. Then at the end return the completed list. I also seem to have to subscribe to the inner mono or it wont ever trigger that one. currently that subscribe is not in code sample.</p>\n"},{"tags":["java","eclipse","maven","selenium-webdriver","maven-3"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":2,"creation_date":1680937985,"post_id":75963436,"comment_id":133981818,"body_markdown":"Is there a `Confirm properties configuration` message in the console? If so it is waiting for you to type `Y` to confirm.","body":"Is there a <code>Confirm properties configuration</code> message in the console? If so it is waiting for you to type <code>Y</code> to confirm."}],"owner":{"account_id":10517643,"reputation":1307,"user_id":7751244,"display_name":"Sandeep Nehte"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680930958,"creation_date":1680930958,"question_id":75963436,"body_markdown":"[![enter image description here][1]][1][! [enter image description here] [2]][2]\r\n\r\n\r\nI am using the latest version of &quot;Eclipse IDE for Java Developers - 2022-12&quot;, but I am unable to create &quot;Maven-Archetype-Quickstart&quot; as it is stuck at 33% all the time. \r\n\r\nI tried restarting Eclipse and the system as well.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/erFpQ.png\r\n  [2]: https://i.stack.imgur.com/sYTTa.png","title":"&quot;user operation is waiting for creating &quot;maven-archetype-quickstart&quot;, eclipse unable to proceed further for creating Maven Project","body":"<p><a href=\"https://i.stack.imgur.com/erFpQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/erFpQ.png\" alt=\"enter image description here\" /></a>[! [enter image description here] <a href=\"https://i.stack.imgur.com/sYTTa.png\" rel=\"nofollow noreferrer\">2</a>]<a href=\"https://i.stack.imgur.com/sYTTa.png\" rel=\"nofollow noreferrer\">2</a></p>\n<p>I am using the latest version of &quot;Eclipse IDE for Java Developers - 2022-12&quot;, but I am unable to create &quot;Maven-Archetype-Quickstart&quot; as it is stuck at 33% all the time.</p>\n<p>I tried restarting Eclipse and the system as well.</p>\n"},{"tags":["java","spring","spring-data-jpa","many-to-many","jpql"],"comments":[{"owner":{"account_id":15138451,"reputation":460,"user_id":12083015,"display_name":"Erwin"},"score":0,"creation_date":1680924034,"post_id":75962881,"comment_id":133980823,"body_markdown":"why is there `\\n` in your query?","body":"why is there <code>\\n</code> in your query?"}],"answers":[{"tags":[],"owner":{"account_id":9945780,"reputation":490,"user_id":7360568,"display_name":"cardouken"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680929019,"creation_date":1680929019,"answer_id":75963343,"question_id":75962881,"body_markdown":"Seems like you are not specifying the relationship between the `AppUser` and `AppRole` entities in your `INNER JOIN` statement. You should be using the `roles` field in the `AppUser` entity to establish it:\r\n\r\n\r\n    @Repository\r\n    public interface AppUserRepository extends JpaRepository&lt;AppUser, Integer&gt; {\r\n        /**\r\n         * Get a list of usernames for users with the specified role name assigned.\r\n         * @param roleName\r\n         * @return \r\n         */\r\n        @Query(&quot;SELECT au.username FROM AppUser au &quot; +\r\n            &quot;INNER JOIN au.roles ar &quot; +\r\n            &quot;WHERE ar.roleName = :roleName&quot;)\r\n        List&lt;String&gt; getAppUsersWithRole(@Param(&quot;roleName&quot;) String roleName);\r\n    }\r\n    \r\nIf the role doesn&#39;t exist then no rows are returned because `ar.roleName = :roleName` will never be true.","title":"Spring Data JPA query on a many-to-many relationship is returning all records instead of matching records","body":"<p>Seems like you are not specifying the relationship between the <code>AppUser</code> and <code>AppRole</code> entities in your <code>INNER JOIN</code> statement. You should be using the <code>roles</code> field in the <code>AppUser</code> entity to establish it:</p>\n<pre><code>@Repository\npublic interface AppUserRepository extends JpaRepository&lt;AppUser, Integer&gt; {\n    /**\n     * Get a list of usernames for users with the specified role name assigned.\n     * @param roleName\n     * @return \n     */\n    @Query(&quot;SELECT au.username FROM AppUser au &quot; +\n        &quot;INNER JOIN au.roles ar &quot; +\n        &quot;WHERE ar.roleName = :roleName&quot;)\n    List&lt;String&gt; getAppUsersWithRole(@Param(&quot;roleName&quot;) String roleName);\n}\n</code></pre>\n<p>If the role doesn't exist then no rows are returned because <code>ar.roleName = :roleName</code> will never be true.</p>\n"}],"owner":{"account_id":1008301,"reputation":7815,"user_id":1021426,"accept_rate":81,"display_name":"Mar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75963343,"answer_count":1,"score":0,"last_activity_date":1680929019,"creation_date":1680917247,"question_id":75962881,"body_markdown":"I have two entities:\r\n\r\n```\r\n@Entity\r\n@Table(schema = &quot;public&quot;, name = &quot;app_user&quot;)\r\npublic class AppUser implements Serializable {\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    private int id;\r\n    \r\n    @Column(name = &quot;username&quot;)\r\n    private String username;\r\n    \r\n    @ManyToMany()\r\n    @JoinTable(\r\n            name = &quot;app_user_app_role&quot;,\r\n            joinColumns = {\r\n                @JoinColumn(name = &quot;app_user_id&quot;, referencedColumnName = &quot;id&quot;)},\r\n            inverseJoinColumns = {\r\n                @JoinColumn(name = &quot;app_role_id&quot;, referencedColumnName = &quot;id&quot;)})\r\n    private Set&lt;AppRole&gt; roles;\r\n    \r\n}\r\n```\r\n\r\n```\r\n@Entity\r\n@Table(schema = &quot;public&quot;, name = &quot;app_role&quot;)\r\npublic class AppRole implements Serializable {\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    private int id;\r\n    \r\n    @Column(name = &quot;app_role_name&quot;)\r\n    private String roleName;\r\n}\r\n```\r\n\r\nThe join table `app_user_app_role` has three columns: &quot;id&quot;, &quot;app_user_id&quot;, and &quot;app_role_id&quot;, the last two of which are foreign keys to the corresponding tables.\r\n\r\nI have the following JpaRepository method:\r\n\r\n```\r\n@Repository\r\npublic interface AppUserRepository extends JpaRepository&lt;AppUser, Integer&gt; {\r\n    /**\r\n     * Get a list of usernames for users with the specified role name assigned.\r\n     * @param roleName\r\n     * @return \r\n     */\r\n    @Query(&quot;SELECT au.username FROM AppUser au \\n&quot; +\r\n        &quot;INNER JOIN AppRole ar \\n&quot; +\r\n        &quot;WHERE ar.roleName = :roleName&quot;)\r\n    List&lt;String&gt; getAppUsersWithRole(@Param(&quot;roleName&quot;) String roleName);\r\n}\r\n```\r\n\r\nI have three users, &quot;johndoe&quot;, &quot;sam&quot;, and &quot;janegoodall&quot;. I have two roles, &quot;User Admin&quot; and &quot;Test&quot;. &quot;johndoe&quot; and &quot;sam&quot; both have the &quot;User Admin&quot; roles, and &quot;sam&quot; has the &quot;Test&quot; role. &quot;janegoodall&quot; has no roles.\r\n\r\nWhen I call `AppUserRepository.getAppUsersWithRole(&quot;User Admin&quot;)`, I get all three users&#39; usernames rather than &quot;johndoe&quot; and &quot;sam&quot;. When I call `AppUserRepository.getAppUsersWithRole(&quot;Test&quot;)`, I also get all three users&#39; usernames rather than just &quot;sam&quot;. When I call `AppUserRepository.getAppUsersWithRole(&quot;nonexistent role&quot;)`, I get an empty list as expected.\r\n\r\nWhen I retrieve the individual user records and check their AppRole list they all have the expected roles, so I know the `@ManyToMany` and `@JoinTable` in AppUser are set up correctly.\r\n\r\nWhy is my jpql query returning all usernames instead of the usernames of the users who have roles matching the `:roleName` parameter? (And why does it return no usernames when the role doesn&#39;t exist?)","title":"Spring Data JPA query on a many-to-many relationship is returning all records instead of matching records","body":"<p>I have two entities:</p>\n<pre><code>@Entity\n@Table(schema = &quot;public&quot;, name = &quot;app_user&quot;)\npublic class AppUser implements Serializable {\n    @Id\n    @Column(name = &quot;id&quot;)\n    private int id;\n    \n    @Column(name = &quot;username&quot;)\n    private String username;\n    \n    @ManyToMany()\n    @JoinTable(\n            name = &quot;app_user_app_role&quot;,\n            joinColumns = {\n                @JoinColumn(name = &quot;app_user_id&quot;, referencedColumnName = &quot;id&quot;)},\n            inverseJoinColumns = {\n                @JoinColumn(name = &quot;app_role_id&quot;, referencedColumnName = &quot;id&quot;)})\n    private Set&lt;AppRole&gt; roles;\n    \n}\n</code></pre>\n<pre><code>@Entity\n@Table(schema = &quot;public&quot;, name = &quot;app_role&quot;)\npublic class AppRole implements Serializable {\n    @Id\n    @Column(name = &quot;id&quot;)\n    private int id;\n    \n    @Column(name = &quot;app_role_name&quot;)\n    private String roleName;\n}\n</code></pre>\n<p>The join table <code>app_user_app_role</code> has three columns: &quot;id&quot;, &quot;app_user_id&quot;, and &quot;app_role_id&quot;, the last two of which are foreign keys to the corresponding tables.</p>\n<p>I have the following JpaRepository method:</p>\n<pre><code>@Repository\npublic interface AppUserRepository extends JpaRepository&lt;AppUser, Integer&gt; {\n    /**\n     * Get a list of usernames for users with the specified role name assigned.\n     * @param roleName\n     * @return \n     */\n    @Query(&quot;SELECT au.username FROM AppUser au \\n&quot; +\n        &quot;INNER JOIN AppRole ar \\n&quot; +\n        &quot;WHERE ar.roleName = :roleName&quot;)\n    List&lt;String&gt; getAppUsersWithRole(@Param(&quot;roleName&quot;) String roleName);\n}\n</code></pre>\n<p>I have three users, &quot;johndoe&quot;, &quot;sam&quot;, and &quot;janegoodall&quot;. I have two roles, &quot;User Admin&quot; and &quot;Test&quot;. &quot;johndoe&quot; and &quot;sam&quot; both have the &quot;User Admin&quot; roles, and &quot;sam&quot; has the &quot;Test&quot; role. &quot;janegoodall&quot; has no roles.</p>\n<p>When I call <code>AppUserRepository.getAppUsersWithRole(&quot;User Admin&quot;)</code>, I get all three users' usernames rather than &quot;johndoe&quot; and &quot;sam&quot;. When I call <code>AppUserRepository.getAppUsersWithRole(&quot;Test&quot;)</code>, I also get all three users' usernames rather than just &quot;sam&quot;. When I call <code>AppUserRepository.getAppUsersWithRole(&quot;nonexistent role&quot;)</code>, I get an empty list as expected.</p>\n<p>When I retrieve the individual user records and check their AppRole list they all have the expected roles, so I know the <code>@ManyToMany</code> and <code>@JoinTable</code> in AppUser are set up correctly.</p>\n<p>Why is my jpql query returning all usernames instead of the usernames of the users who have roles matching the <code>:roleName</code> parameter? (And why does it return no usernames when the role doesn't exist?)</p>\n"},{"tags":["java","swing","jframe","netbeans-7"],"comments":[{"owner":{"account_id":411142,"reputation":34084,"user_id":783412,"accept_rate":100,"display_name":"hd1"},"score":0,"creation_date":1365081077,"post_id":15812191,"comment_id":22488902,"body_markdown":"Even generated code goes into some file in Java... Which file is generated by NetBeans?","body":"Even generated code goes into some file in Java... Which file is generated by NetBeans?"},{"owner":{"account_id":2548975,"reputation":579,"user_id":2213170,"accept_rate":45,"display_name":"CodeAngel"},"score":0,"creation_date":1365081502,"post_id":15812191,"comment_id":22489220,"body_markdown":"coud you pease explain further am new to netbeans and java","body":"coud you pease explain further am new to netbeans and java"}],"answers":[{"tags":[],"owner":{"account_id":2461139,"reputation":4729,"user_id":2145295,"display_name":"Jean Waghetti"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1365081394,"creation_date":1365081394,"answer_id":15812361,"question_id":15812191,"body_markdown":"Is `setVisible()` on generated code? Strange. Anyway, you can right click the `JFrame` in `Navigator` and select `Properties`. Go to `Code` and select it to do nothing. Then manually insert you code after `initComponents()` in the `JFrame` constructor.","title":"Set JFrame to center of Screen in NetBeans","body":"<p>Is <code>setVisible()</code> on generated code? Strange. Anyway, you can right click the <code>JFrame</code> in <code>Navigator</code> and select <code>Properties</code>. Go to <code>Code</code> and select it to do nothing. Then manually insert you code after <code>initComponents()</code> in the <code>JFrame</code> constructor.</p>\n"},{"tags":[],"owner":{"account_id":2617692,"reputation":21,"user_id":2266427,"display_name":"Derek Mannering"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1365602198,"creation_date":1365602198,"answer_id":15927913,"question_id":15812191,"body_markdown":"I am not sure if you got an answer to your problem, but a solution was given in the following link by Wade Chandler on the NetBeans forum.  Unfortunately the originator of the query being answered was impatient to say the least and you have to work through some angst to get to the answer.\r\n\r\nhttp://forums.netbeans.org/ptopic37419.html\r\n\r\nWade shows how to centre the GUI and what aspects of the code you can modify.\r\n\r\nAs an  aside, if you want to place the GUI at a set position on the screen then you can use:\r\n\r\nThis requires access to the Properties -&gt;Code window as well.\r\n1.\tEnsure you select the Frame (not a component or outside!)\r\n2.\tGo to the Code tab in the properties window for the JFrame. \r\n3.\tLocate the &quot;Form Size Policy&quot; label. \r\n4.\tIn the drop-down select &quot;Generate Resize Code&quot;. \r\n5.\tModify the form position by clicking  the &quot;...&quot; next to it.\r\n6.\tAlso, make sure &quot;Generate Size&quot; is checked as well. \r\n\r\nIf you want to place the GUI top left on the screen then use the default [0,0] for form position. To position a second GUI next to the first use [450,0].  In this case the x-value has been changed to 450, the Y-value is kept a 0.  To move the GUI down the screen then change the Y-value from 0 to say 450.\r\n\r\nFinally, there is a NetBeans bug 226740 that can result in problems when trying to centre some aspects of a GUI. It will probably not affect you, but it is useful to be aware of it.\r\n\r\nRegards\r\n\r\nDerek\r\n","title":"Set JFrame to center of Screen in NetBeans","body":"<p>I am not sure if you got an answer to your problem, but a solution was given in the following link by Wade Chandler on the NetBeans forum.  Unfortunately the originator of the query being answered was impatient to say the least and you have to work through some angst to get to the answer.</p>\n\n<p><a href=\"http://forums.netbeans.org/ptopic37419.html\" rel=\"nofollow\">http://forums.netbeans.org/ptopic37419.html</a></p>\n\n<p>Wade shows how to centre the GUI and what aspects of the code you can modify.</p>\n\n<p>As an  aside, if you want to place the GUI at a set position on the screen then you can use:</p>\n\n<p>This requires access to the Properties ->Code window as well.\n1.  Ensure you select the Frame (not a component or outside!)\n2.  Go to the Code tab in the properties window for the JFrame. \n3.  Locate the \"Form Size Policy\" label. \n4.  In the drop-down select \"Generate Resize Code\". \n5.  Modify the form position by clicking  the \"...\" next to it.\n6.  Also, make sure \"Generate Size\" is checked as well. </p>\n\n<p>If you want to place the GUI top left on the screen then use the default [0,0] for form position. To position a second GUI next to the first use [450,0].  In this case the x-value has been changed to 450, the Y-value is kept a 0.  To move the GUI down the screen then change the Y-value from 0 to say 450.</p>\n\n<p>Finally, there is a NetBeans bug 226740 that can result in problems when trying to centre some aspects of a GUI. It will probably not affect you, but it is useful to be aware of it.</p>\n\n<p>Regards</p>\n\n<p>Derek</p>\n"},{"tags":[],"owner":{"account_id":2613601,"reputation":251,"user_id":2263202,"display_name":"user2263202"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1366730800,"creation_date":1366730800,"answer_id":16173336,"question_id":15812191,"body_markdown":"Properties -&gt;Code -&gt; check out Generate Center","title":"Set JFrame to center of Screen in NetBeans","body":"<p>Properties ->Code -> check out Generate Center</p>\n"},{"tags":[],"owner":{"account_id":2815259,"reputation":339,"user_id":2420523,"accept_rate":91,"display_name":"Ayvadia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1382021581,"creation_date":1382021581,"answer_id":19430102,"question_id":15812191,"body_markdown":"From the link @DerekMannering posted:\r\n\r\n&gt; Netbeans actually generates centering logic on its own versus through\r\n&gt; property use, so you won&#39;t see setLocationRelativeTo option. Go to the\r\n&gt; Code tab in the properties window. Locate the &quot;Form Size Policy&quot; label\r\n&gt; in the Code tab. In the drop-down select &quot;Generate Resize Code&quot;. Then\r\n&gt; make sure the property with the label &quot;Generate Center&quot; is checked.\r\n&gt; Too you&#39;ll want to make sure &quot;Generate Size&quot; is checked as well.\r\n&gt; Should be by default, but you should check anyways. Now, that will\r\n&gt; work best for JFrame or Frame extensions.\r\n\r\n","title":"Set JFrame to center of Screen in NetBeans","body":"<p>From the link @DerekMannering posted:</p>\n\n<blockquote>\n  <p>Netbeans actually generates centering logic on its own versus through\n  property use, so you won't see setLocationRelativeTo option. Go to the\n  Code tab in the properties window. Locate the \"Form Size Policy\" label\n  in the Code tab. In the drop-down select \"Generate Resize Code\". Then\n  make sure the property with the label \"Generate Center\" is checked.\n  Too you'll want to make sure \"Generate Size\" is checked as well.\n  Should be by default, but you should check anyways. Now, that will\n  work best for JFrame or Frame extensions.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4319895,"reputation":151,"user_id":3528472,"display_name":"princesspeach"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1397959772,"creation_date":1397959772,"answer_id":23177685,"question_id":15812191,"body_markdown":"On the constructor of the frame, you have this:\r\n\r\n    public frame() {     \r\n       initComponents();\r\n    }\r\n\r\nYou only have to put this line:   &quot;this.setLocationRelativeTo(null);&quot;\r\nunder the &quot;initComponents();&quot;\r\n\r\nAnd you&#39;ll have this: \r\n\r\n    public frame() {     \r\n       initComponents();\r\n       this.setLocationRelativeTo(null);\r\n    }\r\n\r\nRun it, and it the frame should show on the center of the screen =)\r\n\r\n\r\n","title":"Set JFrame to center of Screen in NetBeans","body":"<p>On the constructor of the frame, you have this:</p>\n\n<pre><code>public frame() {     \n   initComponents();\n}\n</code></pre>\n\n<p>You only have to put this line:   \"this.setLocationRelativeTo(null);\"\nunder the \"initComponents();\"</p>\n\n<p>And you'll have this: </p>\n\n<pre><code>public frame() {     \n   initComponents();\n   this.setLocationRelativeTo(null);\n}\n</code></pre>\n\n<p>Run it, and it the frame should show on the center of the screen =)</p>\n"},{"tags":[],"owner":{"account_id":5194033,"reputation":41,"user_id":4155985,"display_name":"Neelesh"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1413614402,"creation_date":1413613721,"answer_id":26436966,"question_id":15812191,"body_markdown":"Follow the following simple steps:\r\n\r\n* select the frame and go to the properties.\r\n* click on code section and click on checkbox Generate Center.\r\n\r\nThat&#39;s it.","title":"Set JFrame to center of Screen in NetBeans","body":"<p>Follow the following simple steps:</p>\n\n<ul>\n<li>select the frame and go to the properties.</li>\n<li>click on code section and click on checkbox Generate Center.</li>\n</ul>\n\n<p>That's it.</p>\n"},{"tags":[],"owner":{"account_id":3889736,"reputation":1231,"user_id":3302764,"accept_rate":36,"display_name":"JoshuaTree"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1413897888,"creation_date":1413897888,"answer_id":26487849,"question_id":15812191,"body_markdown":"Within the Netbeans Designer area, choose your JFrame, go to code.\r\n\r\nWithin code, change Form Size Policy to &quot;Generate Resize Code&quot;\r\n\r\nThen choose the Generate Center Option.","title":"Set JFrame to center of Screen in NetBeans","body":"<p>Within the Netbeans Designer area, choose your JFrame, go to code.</p>\n\n<p>Within code, change Form Size Policy to \"Generate Resize Code\"</p>\n\n<p>Then choose the Generate Center Option.</p>\n"},{"tags":[],"owner":{"account_id":4448084,"reputation":69,"user_id":3620849,"accept_rate":86,"display_name":"Ragataj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1435031686,"creation_date":1435031686,"answer_id":30993587,"question_id":15812191,"body_markdown":"     \r\n\r\n -  at the constructor writing give code below will make your jframe at the center of the screen\r\n\r\n        public ProjectWork_jframe() {\r\n        initComponents();\r\n        \r\n        Dimension screenSize,frameSize;\r\n        int x,y;\r\n        screenSize=Toolkit.getDefaultToolkit().getScreenSize();\r\n        frameSize=getSize();\r\n        x=(screenSize.width-frameSize.width)/2;\r\n        y=(screenSize.height-frameSize.height)/2;\r\n        setLocation(x, y);\r\n        }","title":"Set JFrame to center of Screen in NetBeans","body":"<ul>\n<li><p>at the constructor writing give code below will make your jframe at the center of the screen</p>\n\n<pre><code>public ProjectWork_jframe() {\ninitComponents();\n\nDimension screenSize,frameSize;\nint x,y;\nscreenSize=Toolkit.getDefaultToolkit().getScreenSize();\nframeSize=getSize();\nx=(screenSize.width-frameSize.width)/2;\ny=(screenSize.height-frameSize.height)/2;\nsetLocation(x, y);\n}\n</code></pre></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6550652,"reputation":1,"user_id":5065199,"display_name":"Anant Mahale"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470644794,"creation_date":1470644794,"answer_id":38824432,"question_id":15812191,"body_markdown":"try....\r\n\r\n    public class_name{\r\n         initComponents();\r\n            setLocationRelativeTo(this);\r\n    }\r\n\r\n","title":"Set JFrame to center of Screen in NetBeans","body":"<p>try....</p>\n\n<pre><code>public class_name{\n     initComponents();\n        setLocationRelativeTo(this);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24666598,"reputation":1,"user_id":18562147,"display_name":"Zoro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680927915,"creation_date":1680927915,"answer_id":75963296,"question_id":15812191,"body_markdown":"in order to make sure that jframe is at the center in netbeans follow the instructions :\r\n\r\nright click on jframe --&gt; properties --&gt; \r\n\r\nnow turn on the  :\r\ngenerate center option\r\nand make sure that \r\nform size property --&gt; generate resize code\r\n\r\n","title":"Set JFrame to center of Screen in NetBeans","body":"<p>in order to make sure that jframe is at the center in netbeans follow the instructions :</p>\n<p>right click on jframe --&gt; properties --&gt;</p>\n<p>now turn on the  :\ngenerate center option\nand make sure that\nform size property --&gt; generate resize code</p>\n"}],"owner":{"account_id":2548975,"reputation":579,"user_id":2213170,"accept_rate":45,"display_name":"CodeAngel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84991,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":15812361,"answer_count":10,"score":10,"last_activity_date":1680927915,"creation_date":1365080995,"question_id":15812191,"body_markdown":"I am developing a java swing desktop application \r\nwith NetBeans and I want to set the JFrame to the centre of the screen.\r\n\r\n from the net I understand that I can use \r\n\r\n    setLocationRelativeTo(null);\r\n\r\n \r\nto set the frame to the centre \r\nBut i am unable to insert the code into the NetBeans IDE\r\nbecause both the `frame.pack()`\r\nand ` frame.setVisible()` are generated codes of the NetBeans 7 IDE\r\nand it will not permit any code insertion between the two methods.\r\n\r\nI need to to obtain the following :\r\n\r\n    frame.pack() \r\n    setLocationRelativeTo(null);\r\n    frame.setVisible()\r\n\r\n Any suggestion on how to fix the problem?\r\n\r\n\r\n","title":"Set JFrame to center of Screen in NetBeans","body":"<p>I am developing a java swing desktop application \nwith NetBeans and I want to set the JFrame to the centre of the screen.</p>\n\n<p>from the net I understand that I can use </p>\n\n<pre><code>setLocationRelativeTo(null);\n</code></pre>\n\n<p>to set the frame to the centre \nBut i am unable to insert the code into the NetBeans IDE\nbecause both the <code>frame.pack()</code>\nand <code>frame.setVisible()</code> are generated codes of the NetBeans 7 IDE\nand it will not permit any code insertion between the two methods.</p>\n\n<p>I need to to obtain the following :</p>\n\n<pre><code>frame.pack() \nsetLocationRelativeTo(null);\nframe.setVisible()\n</code></pre>\n\n<p>Any suggestion on how to fix the problem?</p>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":21465978,"reputation":36,"user_id":21570258,"display_name":"PraveenJubburu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680927813,"creation_date":1680927813,"answer_id":75963292,"question_id":75905477,"body_markdown":"try this\r\n```\r\nALTER TABLE [dbo].[reports]  WITH CHECK ADD CONSTRAINT [FK_reports_projectv2] FOREIGN KEY([project_id])\r\nREFERENCES [dbo].[projectv2] ([id])\r\n```","title":"Foreign key constraint applied on the same table Spring Boot JPA","body":"<p>try this</p>\n<pre><code>ALTER TABLE [dbo].[reports]  WITH CHECK ADD CONSTRAINT [FK_reports_projectv2] FOREIGN KEY([project_id])\nREFERENCES [dbo].[projectv2] ([id])\n</code></pre>\n"}],"owner":{"account_id":8434198,"reputation":647,"user_id":6328841,"display_name":"Saurabh Verma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":418,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75963292,"answer_count":1,"score":0,"last_activity_date":1680927813,"creation_date":1680343232,"question_id":75905477,"body_markdown":"Getting error while saving reports after saving a project object. \r\nIt seems like the project table is referencing its own id attribiute for foreign key \r\nBut instead it should refer proejct_id in Reports table .\r\n\r\n\r\n    2023-04-01 15:31:58.246  WARN 59052 --- [nio-8080-exec-5] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 547, SQLState: 23000\r\n    2023-04-01 15:31:58.247 ERROR 59052 --- [nio-8080-exec-5] o.h.engine.jdbc.spi.SqlExceptionHelper   : The INSERT statement conflicted with the FOREIGN KEY constraint &quot;FKrqfhc8qp99ymovwd852w5mx44&quot;. The conflict occurred in database &quot;targetally&quot;, table &quot;dbo.projectv2&quot;, column &#39;id&#39;.\r\n    2023-04-01 15:31:58.838 ERROR 59052 --- [nio-8080-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement] with root cause\r\n    \r\n    com.microsoft.sqlserver.jdbc.SQLServerException: The INSERT statement conflicted with the FOREIGN KEY constraint &quot;FKrqfhc8qp99ymovwd852w5mx44&quot;. The conflict occurred in database &quot;targetally&quot;, table &quot;dbo.projectv2&quot;, column &#39;id&#39;.\r\n\r\n\r\nI have a Project class .\r\nProject contains a list of report (OneToMany) and list of Access objects for multiple user and user groups to access.\r\n\r\n```@Entity\r\n@Table(name = &quot;projectv2&quot;)\r\n@EntityListeners(AuditingEntityListener.class)\r\n@Getter\r\n@Setter\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class ProjectV2 implements Serializable {\r\n\r\n  private static final long serialVersionUID = 1L;\r\n\r\n  @Id\r\n  private String id;\r\n\r\n  private String name;\r\n\r\n  @Column(name=&quot;categories&quot;)\r\n  @ElementCollection(targetClass=String.class)\r\n  private List&lt;String&gt; categories;\r\n\r\n  @Enumerated(EnumType.STRING)\r\n  private ThemeEnum theme;\r\n\r\n  @Enumerated(EnumType.STRING)\r\n  private ProjectScopeEnum projectScope;\r\n\r\n  @CreatedDate\r\n  private LocalDateTime creationDate;\r\n\r\n  @LastModifiedDate\r\n  private LocalDateTime lastUpdatedAt;\r\n\r\n  @JsonManagedReference(value = &quot;reports&quot;)\r\n  @OneToMany(mappedBy = &quot;project&quot;, cascade = CascadeType.ALL,orphanRemoval = true, fetch = FetchType.LAZY)\r\n  private List&lt;ReportV2&gt; reports= new ArrayList&lt;&gt;();\r\n\r\n  @JsonManagedReference(value = &quot;userAccess&quot;)\r\n  @OneToMany(mappedBy = &quot;projectAccess&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n  private List&lt;EntityAccessV2&gt; userAccess;\r\n}\r\n\r\n\r\nFollowing is the reports table\r\nthe reports table contains a back reference to Project table, referencing project_id to id in project table.\r\nIt also contains list of Access object for multiple users and group of users to access \r\n\r\n@Entity\r\n@Table(name = &quot;reports&quot;)\r\n@EntityListeners(AuditingEntityListener.class)\r\n@Getter\r\n@Setter\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class ReportV2 implements Serializable {\r\n\r\n  private static final long serialVersionUID = 1L;\r\n\r\n  @Id\r\n  private String id;\r\n\r\n  @JsonProperty(&quot;projectId&quot;)\r\n  private String project_id;\r\n\r\n  private String name;\r\n\r\n  @ElementCollection(targetClass = String.class)\r\n  private List&lt;String&gt; categories;\r\n\r\n  @Convert(converter = LayoutConverterJson.class)\r\n  private Layout layout;\r\n\r\n  @Enumerated(EnumType.STRING)\r\n  private StateEnum state = StateEnum.DRAFT;\r\n\r\n  private String reportSnapshotUrl;\r\n\r\n  //private List&lt;SurveyMetadata&gt; surveyMetadataList;\r\n\r\n  @CreatedDate\r\n  private LocalDateTime createdAt;\r\n\r\n  @LastModifiedDate\r\n  private LocalDateTime updatedAt;\r\n\r\n  @JsonBackReference(value = &quot;project&quot;)\r\n  @ManyToOne(fetch = FetchType.LAZY)\r\n  @JoinColumn(name = &quot;project_id&quot;, referencedColumnName = &quot;id&quot;, insertable = false, updatable = false)\r\n  private ProjectV2 project;\r\n\r\n  @JsonManagedReference(value = &quot;userAccess&quot;)\r\n  @OneToMany(mappedBy = &quot;reportAccess&quot;, cascade = CascadeType.ALL)\r\n  private List&lt;EntityAccessV2&gt; userAccess;\r\n}\r\n\r\n\r\n**The access to any project and report can be separately provided**\r\n\r\n@Entity\r\n@Table(name = &quot;entity_access&quot;)\r\n@Getter\r\n@Setter\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class EntityAccessV2 {\r\n\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  private Long id;\r\n\r\n  @Enumerated(EnumType.STRING)\r\n  private EntityType entityType;\r\n\r\n  private String entityId;\r\n\r\n  @Enumerated(EnumType.STRING)\r\n  private UserRoleEnum userRole;\r\n\r\n  @Enumerated(EnumType.STRING)\r\n  private AccessTypeEnum accessType;\r\n\r\n  private String value;\r\n\r\n  private String username;\r\n\r\n  private String email;\r\n\r\n  @JsonBackReference(value = &quot;projectAccess&quot;)\r\n  @ManyToOne(fetch = FetchType.LAZY)\r\n  @Where(clause = &quot;entityType = &#39;PROJECT&#39;&quot;)\r\n  @JoinColumn(name = &quot;entityId&quot;, referencedColumnName = &quot;id&quot;, insertable = false,updatable = false )\r\n  private ProjectV2 projectAccess;\r\n\r\n  @JsonBackReference(value = &quot;reportAccess&quot;)\r\n  @ManyToOne(fetch = FetchType.LAZY)\r\n  @Where(clause = &quot;entityType = &#39;REPORT&#39;&quot;)\r\n  @JoinColumn(name = &quot;entityId&quot;, referencedColumnName = &quot;id&quot;,insertable = false,updatable = false)\r\n  private ReportV2 reportAccess;\r\n}\r\n\r\n\r\n**When I try to add a report the error received is** \r\n\r\n**com.microsoft.sqlserver.jdbc.SQLServerException: The INSERT statement conflicted with the FOREIGN KEY constraint &quot;FKrqfhc8qp99ymovwd852w5mx44&quot;. The conflict occurred in database &quot;targetally&quot;, table &quot;dbo.projectv2&quot;, column &#39;id&#39;.**\r\n\r\n\r\n\r\n**Following is The create statement from Azure Sql is** \r\n\r\n\r\nSET ANSI_NULLS ON\r\nGO\r\nSET QUOTED_IDENTIFIER ON\r\nGO\r\nCREATE TABLE [dbo].[projectv2](\r\n\t[id] [varchar](255) NOT NULL,\r\n\t[creation_date] [datetime2](7) NULL,\r\n\t[last_updated_at] [datetime2](7) NULL,\r\n\t[name] [varchar](255) NULL,\r\n\t[project_scope] [varchar](255) NULL,\r\n\t[theme] [varchar](255) NULL,\r\n\t[categories] [varchar](255) NULL\r\n) ON [PRIMARY]\r\nGO\r\nSET ANSI_PADDING ON\r\nGO\r\nALTER TABLE [dbo].[projectv2] ADD PRIMARY KEY CLUSTERED \r\n(\r\n\t[id] ASC\r\n)WITH (STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ONLINE = OFF, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]\r\nGO\r\nALTER TABLE [dbo].[projectv2]  WITH CHECK ADD  CONSTRAINT [FK268hsfk4bsht8jfpbfw0hnpd3] FOREIGN KEY([id])\r\nREFERENCES [dbo].[projectv2] ([id])\r\nGO\r\nALTER TABLE [dbo].[projectv2] CHECK CONSTRAINT [FK268hsfk4bsht8jfpbfw0hnpd3]\r\nGO\r\n\r\n\r\n----------\r\n\r\nFollowing is the save report request \r\n[![add report request][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/r7nDG.png\r\n","title":"Foreign key constraint applied on the same table Spring Boot JPA","body":"<p>Getting error while saving reports after saving a project object.\nIt seems like the project table is referencing its own id attribiute for foreign key\nBut instead it should refer proejct_id in Reports table .</p>\n<pre><code>2023-04-01 15:31:58.246  WARN 59052 --- [nio-8080-exec-5] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 547, SQLState: 23000\n2023-04-01 15:31:58.247 ERROR 59052 --- [nio-8080-exec-5] o.h.engine.jdbc.spi.SqlExceptionHelper   : The INSERT statement conflicted with the FOREIGN KEY constraint &quot;FKrqfhc8qp99ymovwd852w5mx44&quot;. The conflict occurred in database &quot;targetally&quot;, table &quot;dbo.projectv2&quot;, column 'id'.\n2023-04-01 15:31:58.838 ERROR 59052 --- [nio-8080-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement] with root cause\n\ncom.microsoft.sqlserver.jdbc.SQLServerException: The INSERT statement conflicted with the FOREIGN KEY constraint &quot;FKrqfhc8qp99ymovwd852w5mx44&quot;. The conflict occurred in database &quot;targetally&quot;, table &quot;dbo.projectv2&quot;, column 'id'.\n</code></pre>\n<p>I have a Project class .\nProject contains a list of report (OneToMany) and list of Access objects for multiple user and user groups to access.</p>\n<pre><code>@Table(name = &quot;projectv2&quot;)\n@EntityListeners(AuditingEntityListener.class)\n@Getter\n@Setter\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class ProjectV2 implements Serializable {\n\n  private static final long serialVersionUID = 1L;\n\n  @Id\n  private String id;\n\n  private String name;\n\n  @Column(name=&quot;categories&quot;)\n  @ElementCollection(targetClass=String.class)\n  private List&lt;String&gt; categories;\n\n  @Enumerated(EnumType.STRING)\n  private ThemeEnum theme;\n\n  @Enumerated(EnumType.STRING)\n  private ProjectScopeEnum projectScope;\n\n  @CreatedDate\n  private LocalDateTime creationDate;\n\n  @LastModifiedDate\n  private LocalDateTime lastUpdatedAt;\n\n  @JsonManagedReference(value = &quot;reports&quot;)\n  @OneToMany(mappedBy = &quot;project&quot;, cascade = CascadeType.ALL,orphanRemoval = true, fetch = FetchType.LAZY)\n  private List&lt;ReportV2&gt; reports= new ArrayList&lt;&gt;();\n\n  @JsonManagedReference(value = &quot;userAccess&quot;)\n  @OneToMany(mappedBy = &quot;projectAccess&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n  private List&lt;EntityAccessV2&gt; userAccess;\n}\n\n\nFollowing is the reports table\nthe reports table contains a back reference to Project table, referencing project_id to id in project table.\nIt also contains list of Access object for multiple users and group of users to access \n\n@Entity\n@Table(name = &quot;reports&quot;)\n@EntityListeners(AuditingEntityListener.class)\n@Getter\n@Setter\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class ReportV2 implements Serializable {\n\n  private static final long serialVersionUID = 1L;\n\n  @Id\n  private String id;\n\n  @JsonProperty(&quot;projectId&quot;)\n  private String project_id;\n\n  private String name;\n\n  @ElementCollection(targetClass = String.class)\n  private List&lt;String&gt; categories;\n\n  @Convert(converter = LayoutConverterJson.class)\n  private Layout layout;\n\n  @Enumerated(EnumType.STRING)\n  private StateEnum state = StateEnum.DRAFT;\n\n  private String reportSnapshotUrl;\n\n  //private List&lt;SurveyMetadata&gt; surveyMetadataList;\n\n  @CreatedDate\n  private LocalDateTime createdAt;\n\n  @LastModifiedDate\n  private LocalDateTime updatedAt;\n\n  @JsonBackReference(value = &quot;project&quot;)\n  @ManyToOne(fetch = FetchType.LAZY)\n  @JoinColumn(name = &quot;project_id&quot;, referencedColumnName = &quot;id&quot;, insertable = false, updatable = false)\n  private ProjectV2 project;\n\n  @JsonManagedReference(value = &quot;userAccess&quot;)\n  @OneToMany(mappedBy = &quot;reportAccess&quot;, cascade = CascadeType.ALL)\n  private List&lt;EntityAccessV2&gt; userAccess;\n}\n\n\n**The access to any project and report can be separately provided**\n\n@Entity\n@Table(name = &quot;entity_access&quot;)\n@Getter\n@Setter\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class EntityAccessV2 {\n\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  private Long id;\n\n  @Enumerated(EnumType.STRING)\n  private EntityType entityType;\n\n  private String entityId;\n\n  @Enumerated(EnumType.STRING)\n  private UserRoleEnum userRole;\n\n  @Enumerated(EnumType.STRING)\n  private AccessTypeEnum accessType;\n\n  private String value;\n\n  private String username;\n\n  private String email;\n\n  @JsonBackReference(value = &quot;projectAccess&quot;)\n  @ManyToOne(fetch = FetchType.LAZY)\n  @Where(clause = &quot;entityType = 'PROJECT'&quot;)\n  @JoinColumn(name = &quot;entityId&quot;, referencedColumnName = &quot;id&quot;, insertable = false,updatable = false )\n  private ProjectV2 projectAccess;\n\n  @JsonBackReference(value = &quot;reportAccess&quot;)\n  @ManyToOne(fetch = FetchType.LAZY)\n  @Where(clause = &quot;entityType = 'REPORT'&quot;)\n  @JoinColumn(name = &quot;entityId&quot;, referencedColumnName = &quot;id&quot;,insertable = false,updatable = false)\n  private ReportV2 reportAccess;\n}\n\n\n**When I try to add a report the error received is** \n\n**com.microsoft.sqlserver.jdbc.SQLServerException: The INSERT statement conflicted with the FOREIGN KEY constraint &quot;FKrqfhc8qp99ymovwd852w5mx44&quot;. The conflict occurred in database &quot;targetally&quot;, table &quot;dbo.projectv2&quot;, column 'id'.**\n\n\n\n**Following is The create statement from Azure Sql is** \n\n\nSET ANSI_NULLS ON\nGO\nSET QUOTED_IDENTIFIER ON\nGO\nCREATE TABLE [dbo].[projectv2](\n    [id] [varchar](255) NOT NULL,\n    [creation_date] [datetime2](7) NULL,\n    [last_updated_at] [datetime2](7) NULL,\n    [name] [varchar](255) NULL,\n    [project_scope] [varchar](255) NULL,\n    [theme] [varchar](255) NULL,\n    [categories] [varchar](255) NULL\n) ON [PRIMARY]\nGO\nSET ANSI_PADDING ON\nGO\nALTER TABLE [dbo].[projectv2] ADD PRIMARY KEY CLUSTERED \n(\n    [id] ASC\n)WITH (STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ONLINE = OFF, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]\nGO\nALTER TABLE [dbo].[projectv2]  WITH CHECK ADD  CONSTRAINT [FK268hsfk4bsht8jfpbfw0hnpd3] FOREIGN KEY([id])\nREFERENCES [dbo].[projectv2] ([id])\nGO\nALTER TABLE [dbo].[projectv2] CHECK CONSTRAINT [FK268hsfk4bsht8jfpbfw0hnpd3]\nGO\n\n\n----------\n\nFollowing is the save report request \n[![add report request][1]][1]\n\n\n  [1]: https://i.stack.imgur.com/r7nDG.png\n</code></pre>\n"},{"tags":["java","android","android-studio","android-fragments"],"answers":[{"tags":[],"owner":{"account_id":11864229,"reputation":391,"user_id":8682142,"display_name":"Waseem Abbas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680921569,"creation_date":1680921569,"answer_id":75963062,"question_id":75962177,"body_markdown":"Hi you should remove `android:clickable=&quot;false&quot;` or set `android:clickable=&quot;true&quot;`\r\n```XML\r\n&lt;Button\r\n    android:id=&quot;@+id/previousButton&quot;\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:clickable=&quot;false&quot;\r\n    android:text=&quot;Previous&quot; /&gt;\r\n```","title":"Android Studio button functionality not working","body":"<p>Hi you should remove <code>android:clickable=&quot;false&quot;</code> or set <code>android:clickable=&quot;true&quot;</code></p>\n<pre><code>&lt;Button\n    android:id=&quot;@+id/previousButton&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:clickable=&quot;false&quot;\n    android:text=&quot;Previous&quot; /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9671855,"reputation":87,"user_id":7176514,"display_name":"Darshan Adakane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680926342,"creation_date":1680926342,"answer_id":75963238,"question_id":75962177,"body_markdown":"In your Previous button attributes, you have set android:clickable=&quot;false”. Hence button is inactive. Set it to true and you are good to go.\r\nHope this should solve your problem.","title":"Android Studio button functionality not working","body":"<p>In your Previous button attributes, you have set android:clickable=&quot;false”. Hence button is inactive. Set it to true and you are good to go.\nHope this should solve your problem.</p>\n"}],"owner":{"account_id":21097674,"reputation":59,"user_id":15508284,"display_name":"Wahab Aftab"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680926342,"creation_date":1680904067,"question_id":75962177,"body_markdown":"I am trying to learn android studio and I have made an app and in that app there is a screen which shows an image with buttons to move to previous/next images. Now the image is shown but the buttons don&#39;t work and my image doesn&#39;t change.\r\n\r\nFollowing is the code for my java file \r\n\r\n```\r\npackage com.example.myapplication;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.ImageView;\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.fragment.app.Fragment;\r\npublic class PhotoGalleryFragment extends Fragment {\r\n\r\n    private int[] imageIds = { R.drawable.image1, R.drawable.image2, R.drawable.image3, R.drawable.image4, R.drawable.image5 };\r\n    private int currentIndex = 0;\r\n    private ImageView imageView;\r\n    private Button previousButton;\r\n    private Button nextButton;\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_photo_gallery, container, false);\r\n\r\n        imageView = view.findViewById(R.id.imageView);\r\n        previousButton = view.findViewById(R.id.previousButton);\r\n        nextButton = view.findViewById(R.id.nextButton);\r\n\r\n        imageView.setImageResource(imageIds[currentIndex]);\r\n\r\n        previousButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                currentIndex--;\r\n                if (currentIndex &lt; 0) {\r\n                    currentIndex = imageIds.length - 1;\r\n                }\r\n                imageView.setImageResource(imageIds[currentIndex]);\r\n            }\r\n        });\r\n\r\n        nextButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                currentIndex++;\r\n                if (currentIndex &gt;= imageIds.length) {\r\n                    currentIndex = 0;\r\n                }\r\n                imageView.setImageResource(imageIds[currentIndex]);\r\n            }\r\n        });\r\n\r\n        return view;\r\n    }\r\n}\r\n\r\n```\r\n\r\nand following is the xml for that file \r\n\r\n```\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:gravity=&quot;center&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/imageView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:layout_weight=&quot;1&quot;\r\n        android:scaleType=&quot;fitCenter&quot; /&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/previousButton&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:clickable=&quot;false&quot;\r\n            android:text=&quot;Previous&quot; /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/nextButton&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Next&quot; /&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\nFollowing is the screen that I get and image doesn&#39;t change when clicking the buttons\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/x40rz.jpg","title":"Android Studio button functionality not working","body":"<p>I am trying to learn android studio and I have made an app and in that app there is a screen which shows an image with buttons to move to previous/next images. Now the image is shown but the buttons don't work and my image doesn't change.</p>\n<p>Following is the code for my java file</p>\n<pre><code>package com.example.myapplication;\n\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Button;\nimport android.widget.ImageView;\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.fragment.app.Fragment;\npublic class PhotoGalleryFragment extends Fragment {\n\n    private int[] imageIds = { R.drawable.image1, R.drawable.image2, R.drawable.image3, R.drawable.image4, R.drawable.image5 };\n    private int currentIndex = 0;\n    private ImageView imageView;\n    private Button previousButton;\n    private Button nextButton;\n\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.fragment_photo_gallery, container, false);\n\n        imageView = view.findViewById(R.id.imageView);\n        previousButton = view.findViewById(R.id.previousButton);\n        nextButton = view.findViewById(R.id.nextButton);\n\n        imageView.setImageResource(imageIds[currentIndex]);\n\n        previousButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                currentIndex--;\n                if (currentIndex &lt; 0) {\n                    currentIndex = imageIds.length - 1;\n                }\n                imageView.setImageResource(imageIds[currentIndex]);\n            }\n        });\n\n        nextButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                currentIndex++;\n                if (currentIndex &gt;= imageIds.length) {\n                    currentIndex = 0;\n                }\n                imageView.setImageResource(imageIds[currentIndex]);\n            }\n        });\n\n        return view;\n    }\n}\n\n</code></pre>\n<p>and following is the xml for that file</p>\n<pre><code>\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:gravity=&quot;center&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/imageView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:layout_weight=&quot;1&quot;\n        android:scaleType=&quot;fitCenter&quot; /&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:gravity=&quot;center&quot;\n        android:orientation=&quot;horizontal&quot;&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/previousButton&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:clickable=&quot;false&quot;\n            android:text=&quot;Previous&quot; /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/nextButton&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;Next&quot; /&gt;\n\n    &lt;/LinearLayout&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>Following is the screen that I get and image doesn't change when clicking the buttons</p>\n<p><a href=\"https://i.stack.imgur.com/x40rz.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x40rz.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","apache-spark","apache-spark-sql","spark-streaming"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1646659712,"post_id":71381520,"comment_id":126171066,"body_markdown":"Looks like an odd path. Is that really what you&#39;ve got?","body":"Looks like an odd path. Is that really what you&#39;ve got?"}],"answers":[{"tags":[],"owner":{"account_id":9959006,"reputation":41,"user_id":7368914,"display_name":"Beno&#238;t"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646661357,"creation_date":1646661357,"answer_id":71382185,"question_id":71381520,"body_markdown":"Do you try to change the delimiter value of csv file from &#39;;&#39; to &#39;,&#39;?\r\nExample from [source] have column.\r\n\r\n\r\n  [source]: https://raw.githubusercontent.com/spark-examples/spark-scala-examples/3ea16e4c6c1614609c2bd7ebdffcee01c0fe6017/src/main/resources/zipcodes.csv","title":"WARN CSVHeaderChecker: CSV header does not conform to the schema. - but header is correct","body":"<p>Do you try to change the delimiter value of csv file from ';' to ','?\nExample from <a href=\"https://raw.githubusercontent.com/spark-examples/spark-scala-examples/3ea16e4c6c1614609c2bd7ebdffcee01c0fe6017/src/main/resources/zipcodes.csv\" rel=\"nofollow noreferrer\">source</a> have column.</p>\n"},{"tags":[],"owner":{"account_id":28065617,"reputation":33,"user_id":21439055,"display_name":"Jade Chen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680925041,"creation_date":1680925041,"answer_id":75963182,"question_id":71381520,"body_markdown":"HAHA I also met the same question,and finally I found I typed &quot;XX.csv&quot; to &quot;XX.xlsx&quot;,So as Benoit said,is the problem of delimiter ","title":"WARN CSVHeaderChecker: CSV header does not conform to the schema. - but header is correct","body":"<p>HAHA I also met the same question,and finally I found I typed &quot;XX.csv&quot; to &quot;XX.xlsx&quot;,So as Benoit said,is the problem of delimiter</p>\n"}],"owner":{"account_id":9471393,"reputation":152,"user_id":7042141,"display_name":"Marcel kobain"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2599,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680925041,"creation_date":1646658268,"question_id":71381520,"body_markdown":"I&#39;m trying to stream CSV files with Spark.\r\nI&#39;m inspiring of https://dzone.com/articles/spark-structured-streaming-using-java.\r\n\r\nHowever I got the error : \r\n\r\n    22/03/07 13:51:52 WARN CSVHeaderChecker: CSV header does not conform to the schema.\r\n     Header: \r\n     Schema: department\r\n    Expected: department but found: \r\n    CSV file: file:///C:..../data/stream/employee/drop_data/02_employee.csv\r\n\r\nHere my code :\r\n\r\n    StructType schema = new StructType().add(&quot;empId&quot;, DataTypes.StringType).add(&quot;empName&quot;, DataTypes.StringType)\r\n                .add(&quot;department&quot;, DataTypes.StringType);\r\n\r\n    //build the streaming data reader from the file source, specifying csv file format\r\n            Dataset&lt;Row&gt; rawData = spark.readStream().option(&quot;header&quot;, true).format(&quot;csv&quot;).schema(schema)\r\n                    .csv(&quot;C:/.../test/data/stream/employee/drop_data&quot;);\r\n\r\nHere my csv : \r\n\r\n    empId;empName;department\r\n    1;Name;IT","title":"WARN CSVHeaderChecker: CSV header does not conform to the schema. - but header is correct","body":"<p>I'm trying to stream CSV files with Spark.\nI'm inspiring of <a href=\"https://dzone.com/articles/spark-structured-streaming-using-java\" rel=\"nofollow noreferrer\">https://dzone.com/articles/spark-structured-streaming-using-java</a>.</p>\n<p>However I got the error :</p>\n<pre><code>22/03/07 13:51:52 WARN CSVHeaderChecker: CSV header does not conform to the schema.\n Header: \n Schema: department\nExpected: department but found: \nCSV file: file:///C:..../data/stream/employee/drop_data/02_employee.csv\n</code></pre>\n<p>Here my code :</p>\n<pre><code>StructType schema = new StructType().add(&quot;empId&quot;, DataTypes.StringType).add(&quot;empName&quot;, DataTypes.StringType)\n            .add(&quot;department&quot;, DataTypes.StringType);\n\n//build the streaming data reader from the file source, specifying csv file format\n        Dataset&lt;Row&gt; rawData = spark.readStream().option(&quot;header&quot;, true).format(&quot;csv&quot;).schema(schema)\n                .csv(&quot;C:/.../test/data/stream/employee/drop_data&quot;);\n</code></pre>\n<p>Here my csv :</p>\n<pre><code>empId;empName;department\n1;Name;IT\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3165564,"reputation":11962,"user_id":2675669,"accept_rate":100,"display_name":"Nambi"},"score":0,"creation_date":1398148979,"post_id":23212238,"comment_id":35508516,"body_markdown":"Why You have mixed up the java compling code with Android ?","body":"Why You have mixed up the java compling code with Android ?"},{"owner":{"account_id":4311231,"reputation":123,"user_id":3522221,"accept_rate":89,"display_name":"Taba"},"score":0,"creation_date":1398149056,"post_id":23212238,"comment_id":35508557,"body_markdown":"I&#39;m sorry I really don&#39;t understand it &gt;.&lt;","body":"I&#39;m sorry I really don&#39;t understand it &gt;.&lt;"}],"answers":[{"tags":[],"owner":{"account_id":1753861,"reputation":1873,"user_id":1602333,"accept_rate":82,"display_name":"MohK"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1523511692,"creation_date":1398149500,"answer_id":23212476,"question_id":23212238,"body_markdown":"You can make separate class for **EnglishNumberToWords**  as in the example link.\r\n\r\nand in your button click you have to just call \r\n\r\n  \r\n\r\n    String return_val_in_english =   EnglishNumberToWords.convert(YOUR_NUMBER_TO_CONVERT);\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/kJ1re.png\r\n\r\n    public class EnglishNumberToWords {\r\n\r\n    private static final String[] tensNames = { &quot;&quot;, &quot; ten&quot;, &quot; twenty&quot;, &quot; thirty&quot;, &quot; forty&quot;,\r\n            &quot; fifty&quot;, &quot; sixty&quot;, &quot; seventy&quot;, &quot; eighty&quot;, &quot; ninety&quot; };\r\n\r\n    private static final String[] numNames = { &quot;&quot;, &quot; one&quot;, &quot; two&quot;, &quot; three&quot;, &quot; four&quot;, &quot; five&quot;,\r\n            &quot; six&quot;, &quot; seven&quot;, &quot; eight&quot;, &quot; nine&quot;, &quot; ten&quot;, &quot; eleven&quot;, &quot; twelve&quot;, &quot; thirteen&quot;,\r\n            &quot; fourteen&quot;, &quot; fifteen&quot;, &quot; sixteen&quot;, &quot; seventeen&quot;, &quot; eighteen&quot;, &quot; nineteen&quot; };\r\n\r\n    private static String convertLessThanOneThousand(int number)\r\n    {\r\n        String soFar;\r\n\r\n        if (number % 100 &lt; 20)\r\n        {\r\n            soFar = numNames[number % 100];\r\n            number /= 100;\r\n        } else\r\n        {\r\n            soFar = numNames[number % 10];\r\n            number /= 10;\r\n\r\n            soFar = tensNames[number % 10] + soFar;\r\n            number /= 10;\r\n        }\r\n        if (number == 0)\r\n            return soFar;\r\n        return numNames[number] + &quot; hundred&quot; + soFar;\r\n    }\r\n\r\n    public static String convert(long number)\r\n    {\r\n        // 0 to 999 999 999 999\r\n        if (number == 0)\r\n        {\r\n            return &quot;zero&quot;;\r\n        }\r\n\r\n        String snumber = Long.toString(number);\r\n\r\n        // pad with &quot;0&quot;\r\n        String mask = &quot;000000000000&quot;;\r\n        DecimalFormat df = new DecimalFormat(mask);\r\n        snumber = df.format(number);\r\n\r\n        // XXXnnnnnnnnn\r\n        int billions = Integer.parseInt(snumber.substring(0, 3));\r\n        // nnnXXXnnnnnn\r\n        int millions = Integer.parseInt(snumber.substring(3, 6));\r\n        // nnnnnnXXXnnn\r\n        int hundredThousands = Integer.parseInt(snumber.substring(6, 9));\r\n        // nnnnnnnnnXXX\r\n        int thousands = Integer.parseInt(snumber.substring(9, 12));\r\n\r\n        String tradBillions;\r\n        switch (billions)\r\n        {\r\n            case 0:\r\n                tradBillions = &quot;&quot;;\r\n                break;\r\n            case 1:\r\n                tradBillions = convertLessThanOneThousand(billions) + &quot; billion &quot;;\r\n                break;\r\n            default:\r\n                tradBillions = convertLessThanOneThousand(billions) + &quot; billion &quot;;\r\n        }\r\n        String result = tradBillions;\r\n\r\n        String tradMillions;\r\n        switch (millions)\r\n        {\r\n            case 0:\r\n                tradMillions = &quot;&quot;;\r\n                break;\r\n            case 1:\r\n                tradMillions = convertLessThanOneThousand(millions) + &quot; million &quot;;\r\n                break;\r\n            default:\r\n                tradMillions = convertLessThanOneThousand(millions) + &quot; million &quot;;\r\n        }\r\n        result = result + tradMillions;\r\n\r\n        String tradHundredThousands;\r\n        switch (hundredThousands)\r\n        {\r\n            case 0:\r\n                tradHundredThousands = &quot;&quot;;\r\n                break;\r\n            case 1:\r\n                tradHundredThousands = &quot;one thousand &quot;;\r\n                break;\r\n            default:\r\n                tradHundredThousands = convertLessThanOneThousand(hundredThousands) + &quot; thousand &quot;;\r\n        }\r\n        result = result + tradHundredThousands;\r\n\r\n        String tradThousand;\r\n        tradThousand = convertLessThanOneThousand(thousands);\r\n        result = result + tradThousand;\r\n\r\n        // remove extra spaces!\r\n        return result.replaceAll(&quot;^\\\\s+&quot;, &quot;&quot;).replaceAll(&quot;\\\\b\\\\s{2,}\\\\b&quot;, &quot; &quot;);\r\n    }\r\n\r\n    }","title":"ANDROID: Converting inputted numbers to words","body":"<p>You can make separate class for <strong>EnglishNumberToWords</strong>  as in the example link.</p>\n\n<p>and in your button click you have to just call </p>\n\n<pre><code>String return_val_in_english =   EnglishNumberToWords.convert(YOUR_NUMBER_TO_CONVERT);\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/kJ1re.png\" alt=\"enter image description here\"></p>\n\n<pre><code>public class EnglishNumberToWords {\n\nprivate static final String[] tensNames = { \"\", \" ten\", \" twenty\", \" thirty\", \" forty\",\n        \" fifty\", \" sixty\", \" seventy\", \" eighty\", \" ninety\" };\n\nprivate static final String[] numNames = { \"\", \" one\", \" two\", \" three\", \" four\", \" five\",\n        \" six\", \" seven\", \" eight\", \" nine\", \" ten\", \" eleven\", \" twelve\", \" thirteen\",\n        \" fourteen\", \" fifteen\", \" sixteen\", \" seventeen\", \" eighteen\", \" nineteen\" };\n\nprivate static String convertLessThanOneThousand(int number)\n{\n    String soFar;\n\n    if (number % 100 &lt; 20)\n    {\n        soFar = numNames[number % 100];\n        number /= 100;\n    } else\n    {\n        soFar = numNames[number % 10];\n        number /= 10;\n\n        soFar = tensNames[number % 10] + soFar;\n        number /= 10;\n    }\n    if (number == 0)\n        return soFar;\n    return numNames[number] + \" hundred\" + soFar;\n}\n\npublic static String convert(long number)\n{\n    // 0 to 999 999 999 999\n    if (number == 0)\n    {\n        return \"zero\";\n    }\n\n    String snumber = Long.toString(number);\n\n    // pad with \"0\"\n    String mask = \"000000000000\";\n    DecimalFormat df = new DecimalFormat(mask);\n    snumber = df.format(number);\n\n    // XXXnnnnnnnnn\n    int billions = Integer.parseInt(snumber.substring(0, 3));\n    // nnnXXXnnnnnn\n    int millions = Integer.parseInt(snumber.substring(3, 6));\n    // nnnnnnXXXnnn\n    int hundredThousands = Integer.parseInt(snumber.substring(6, 9));\n    // nnnnnnnnnXXX\n    int thousands = Integer.parseInt(snumber.substring(9, 12));\n\n    String tradBillions;\n    switch (billions)\n    {\n        case 0:\n            tradBillions = \"\";\n            break;\n        case 1:\n            tradBillions = convertLessThanOneThousand(billions) + \" billion \";\n            break;\n        default:\n            tradBillions = convertLessThanOneThousand(billions) + \" billion \";\n    }\n    String result = tradBillions;\n\n    String tradMillions;\n    switch (millions)\n    {\n        case 0:\n            tradMillions = \"\";\n            break;\n        case 1:\n            tradMillions = convertLessThanOneThousand(millions) + \" million \";\n            break;\n        default:\n            tradMillions = convertLessThanOneThousand(millions) + \" million \";\n    }\n    result = result + tradMillions;\n\n    String tradHundredThousands;\n    switch (hundredThousands)\n    {\n        case 0:\n            tradHundredThousands = \"\";\n            break;\n        case 1:\n            tradHundredThousands = \"one thousand \";\n            break;\n        default:\n            tradHundredThousands = convertLessThanOneThousand(hundredThousands) + \" thousand \";\n    }\n    result = result + tradHundredThousands;\n\n    String tradThousand;\n    tradThousand = convertLessThanOneThousand(thousands);\n    result = result + tradThousand;\n\n    // remove extra spaces!\n    return result.replaceAll(\"^\\\\s+\", \"\").replaceAll(\"\\\\b\\\\s{2,}\\\\b\", \" \");\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8256273,"reputation":159,"user_id":6209351,"display_name":"Mudasar"},"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1502191307,"creation_date":1502191307,"answer_id":45566980,"question_id":23212238,"body_markdown":"You have done all the work just display String returnz in a text field like this\r\n  \r\n     results.setText(returnz);","title":"ANDROID: Converting inputted numbers to words","body":"<p>You have done all the work just display String returnz in a text field like this</p>\n\n<pre><code> results.setText(returnz);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8265079,"reputation":115,"user_id":6784307,"accept_rate":36,"display_name":"Siva Prasad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1520935238,"creation_date":1520935238,"answer_id":49253201,"question_id":23212238,"body_markdown":"**Java Class for that :-**\r\n   \r\n \r\n\r\n    public class NumberToWordsConverter {\r\n        \r\n            public static final String[] units = {&quot;&quot;, &quot;One&quot;, &quot;Two&quot;, &quot;Three&quot;, &quot;Four&quot;,\r\n                    &quot;Five&quot;, &quot;Six&quot;, &quot;Seven&quot;, &quot;Eight&quot;, &quot;Nine&quot;, &quot;Ten&quot;, &quot;Eleven&quot;, &quot;Twelve&quot;,\r\n                    &quot;Thirteen&quot;, &quot;Fourteen&quot;, &quot;Fifteen&quot;, &quot;Sixteen&quot;, &quot;Seventeen&quot;,\r\n                    &quot;Eighteen&quot;, &quot;Nineteen&quot;};\r\n        \r\n            public static final String[] tens = {\r\n                    &quot;&quot;,        // 0\r\n                    &quot;&quot;,        // 1\r\n                    &quot;Twenty&quot;,    // 2\r\n                    &quot;Thirty&quot;,    // 3\r\n                    &quot;Forty&quot;,    // 4\r\n                    &quot;Fifty&quot;,    // 5\r\n                    &quot;Sixty&quot;,    // 6\r\n                    &quot;Seventy&quot;,    // 7\r\n                    &quot;Eighty&quot;,    // 8\r\n                    &quot;Ninety&quot;    // 9\r\n            };\r\n        \r\n            public static String convert(final int n) {\r\n                if (n &lt; 0) {\r\n                    return &quot;Minus &quot; + convert(-n);\r\n                }\r\n        \r\n                if (n &lt; 20) {\r\n                    return units[n];\r\n                }\r\n        \r\n                if (n &lt; 100) {\r\n                    return tens[n / 10] + ((n % 10 != 0) ? &quot; &quot; : &quot;&quot;) + units[n % 10];\r\n                }\r\n        \r\n                if (n &lt; 1000) {\r\n                    return units[n / 100] + &quot; Hundred&quot; + ((n % 100 != 0) ? &quot; &quot; : &quot;&quot;) + convert(n % 100);\r\n                }\r\n        \r\n                if (n &lt; 100000) {\r\n                    return convert(n / 1000) + &quot; Thousand&quot; + ((n % 10000 != 0) ? &quot; &quot; : &quot;&quot;) + convert(n % 1000);\r\n                }\r\n        \r\n                if (n &lt; 10000000) {\r\n                    return convert(n / 100000) + &quot; Lakh&quot; + ((n % 100000 != 0) ? &quot; &quot; : &quot;&quot;) + convert(n % 100000);\r\n                }\r\n        \r\n                return convert(n / 10000000) + &quot; Crore&quot; + ((n % 10000000 != 0) ? &quot; &quot; : &quot;&quot;) + convert(n % 10000000);\r\n            }\r\n        }\r\n\r\n**Implementation in your main class.**\r\nYou can have separate method like the follwing or you can directly use without separate method.\r\n\r\n    private String numToWords (int n){ //optional\r\n            NumberToWordsConverter ntw = new NumberToWordsConverter(); // directly implement this\r\n            return ntw.convert(n);\r\n        } //optional\r\n\r\n\r\n\r\n","title":"ANDROID: Converting inputted numbers to words","body":"<p><strong>Java Class for that :-</strong></p>\n\n<pre><code>public class NumberToWordsConverter {\n\n        public static final String[] units = {\"\", \"One\", \"Two\", \"Three\", \"Four\",\n                \"Five\", \"Six\", \"Seven\", \"Eight\", \"Nine\", \"Ten\", \"Eleven\", \"Twelve\",\n                \"Thirteen\", \"Fourteen\", \"Fifteen\", \"Sixteen\", \"Seventeen\",\n                \"Eighteen\", \"Nineteen\"};\n\n        public static final String[] tens = {\n                \"\",        // 0\n                \"\",        // 1\n                \"Twenty\",    // 2\n                \"Thirty\",    // 3\n                \"Forty\",    // 4\n                \"Fifty\",    // 5\n                \"Sixty\",    // 6\n                \"Seventy\",    // 7\n                \"Eighty\",    // 8\n                \"Ninety\"    // 9\n        };\n\n        public static String convert(final int n) {\n            if (n &lt; 0) {\n                return \"Minus \" + convert(-n);\n            }\n\n            if (n &lt; 20) {\n                return units[n];\n            }\n\n            if (n &lt; 100) {\n                return tens[n / 10] + ((n % 10 != 0) ? \" \" : \"\") + units[n % 10];\n            }\n\n            if (n &lt; 1000) {\n                return units[n / 100] + \" Hundred\" + ((n % 100 != 0) ? \" \" : \"\") + convert(n % 100);\n            }\n\n            if (n &lt; 100000) {\n                return convert(n / 1000) + \" Thousand\" + ((n % 10000 != 0) ? \" \" : \"\") + convert(n % 1000);\n            }\n\n            if (n &lt; 10000000) {\n                return convert(n / 100000) + \" Lakh\" + ((n % 100000 != 0) ? \" \" : \"\") + convert(n % 100000);\n            }\n\n            return convert(n / 10000000) + \" Crore\" + ((n % 10000000 != 0) ? \" \" : \"\") + convert(n % 10000000);\n        }\n    }\n</code></pre>\n\n<p><strong>Implementation in your main class.</strong>\nYou can have separate method like the follwing or you can directly use without separate method.</p>\n\n<pre><code>private String numToWords (int n){ //optional\n        NumberToWordsConverter ntw = new NumberToWordsConverter(); // directly implement this\n        return ntw.convert(n);\n    } //optional\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6701667,"reputation":1117,"user_id":5167937,"accept_rate":33,"display_name":"Chirag Solanki"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1680923697,"creation_date":1560496904,"answer_id":56593331,"question_id":23212238,"body_markdown":"Above all the solution is working fine, Only problem is that this is **not working for all language** because all country is not having the same set of rules to convert a number into word so we need to write a separate algorithm for each country,\r\n\r\n**Solution**\r\n\r\n [ICU4J][1] is an international Unicode component library that is allowed so many utilities regarding language translation follow below steps.\r\n\r\n- **Step 1** Add ICU4J in your app level gradle like below\r\n  ```\r\n  dependencies {\r\n      implementation group: &#39;com.ibm.icu&#39;, name: &#39;icu4j&#39;, version: &#39;51.1&#39; \r\n  }\r\n  ```\r\n- **Step 2** Define this method\r\n   ```\r\n   private String convertIntoWords(Double str,String language,String Country) {\r\n        Locale local = new Locale(language, Country);\r\n        RuleBasedNumberFormat ruleBasedNumberFormat = new RuleBasedNumberFormat(local, RuleBasedNumberFormat.SPELLOUT);\r\n        return ruleBasedNumberFormat.format(str);\r\n   }\r\n   ```\r\n- **Step 3** Now you can call this method like below\r\n   ```\r\n   double value=165;\r\n   String english=convertIntoWords(value,&quot;en&quot;,&quot;US&quot;); //one hundred and sixty-five\r\n   /*Peruvion*/\r\n   String Spanish=convertIntoWords(value,&quot;es&quot;,&quot;PE&quot;); //ciento sesenta y cinco\r\n   ```\r\n    \r\nYou can change language and country based on your requirements.\r\n\r\n  [1]: http://site.icu-project.org/home/why-use-icu4j","title":"ANDROID: Converting inputted numbers to words","body":"<p>Above all the solution is working fine, Only problem is that this is <strong>not working for all language</strong> because all country is not having the same set of rules to convert a number into word so we need to write a separate algorithm for each country,</p>\n<p><strong>Solution</strong></p>\n<p><a href=\"http://site.icu-project.org/home/why-use-icu4j\" rel=\"nofollow noreferrer\">ICU4J</a> is an international Unicode component library that is allowed so many utilities regarding language translation follow below steps.</p>\n<ul>\n<li><strong>Step 1</strong> Add ICU4J in your app level gradle like below\n<pre><code>dependencies {\n    implementation group: 'com.ibm.icu', name: 'icu4j', version: '51.1' \n}\n</code></pre>\n</li>\n<li><strong>Step 2</strong> Define this method\n<pre><code>private String convertIntoWords(Double str,String language,String Country) {\n      Locale local = new Locale(language, Country);\n      RuleBasedNumberFormat ruleBasedNumberFormat = new RuleBasedNumberFormat(local, RuleBasedNumberFormat.SPELLOUT);\n      return ruleBasedNumberFormat.format(str);\n}\n</code></pre>\n</li>\n<li><strong>Step 3</strong> Now you can call this method like below\n<pre><code>double value=165;\nString english=convertIntoWords(value,&quot;en&quot;,&quot;US&quot;); //one hundred and sixty-five\n/*Peruvion*/\nString Spanish=convertIntoWords(value,&quot;es&quot;,&quot;PE&quot;); //ciento sesenta y cinco\n</code></pre>\n</li>\n</ul>\n<p>You can change language and country based on your requirements.</p>\n"},{"tags":[],"owner":{"account_id":1102161,"reputation":20166,"user_id":1094333,"display_name":"nglauber"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1635467486,"creation_date":1635380409,"answer_id":69746890,"question_id":23212238,"body_markdown":"Posting my answer here because can be helpful to someone else...\r\n\r\n```kotlin\r\nimport android.icu.text.MessageFormat\r\nimport java.util.Locale\r\n\r\nfun Double.toWords(language: String, country: String): String {\r\n    val formatter = MessageFormat(\r\n        &quot;{0,spellout,currency}&quot;, \r\n        Locale(language, country)\r\n    )\r\n    return formatter.format(arrayOf(this))\r\n}\r\n```\r\nand you can use it like this:\r\n\r\n```kotlin\r\nimport androidx.compose.ui.text.intl.Locale\r\n\r\n// ...\r\n\r\n(12345678.99).toWords(Locale.current.language, Locale.current.region)\r\n\r\n// OR,\r\n\r\n(12345678.99).toWords(&quot;en&quot;, &quot;US&quot;) // For static local\r\n```\r\n\r\nThis call will return the string\r\n\r\n&gt; twelve million three hundred forty-five thousand six hundred seventy-eight point nine nine\r\n\r\n\r\nReference: https://developer.android.com/reference/android/icu/text/MessageFormat\r\n","title":"ANDROID: Converting inputted numbers to words","body":"<p>Posting my answer here because can be helpful to someone else...</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import android.icu.text.MessageFormat\nimport java.util.Locale\n\nfun Double.toWords(language: String, country: String): String {\n    val formatter = MessageFormat(\n        &quot;{0,spellout,currency}&quot;, \n        Locale(language, country)\n    )\n    return formatter.format(arrayOf(this))\n}\n</code></pre>\n<p>and you can use it like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import androidx.compose.ui.text.intl.Locale\n\n// ...\n\n(12345678.99).toWords(Locale.current.language, Locale.current.region)\n\n// OR,\n\n(12345678.99).toWords(&quot;en&quot;, &quot;US&quot;) // For static local\n</code></pre>\n<p>This call will return the string</p>\n<blockquote>\n<p>twelve million three hundred forty-five thousand six hundred seventy-eight point nine nine</p>\n</blockquote>\n<p>Reference: <a href=\"https://developer.android.com/reference/android/icu/text/MessageFormat\" rel=\"noreferrer\">https://developer.android.com/reference/android/icu/text/MessageFormat</a></p>\n"}],"owner":{"account_id":4311231,"reputation":123,"user_id":3522221,"accept_rate":89,"display_name":"Taba"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17708,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":23212476,"answer_count":5,"score":7,"last_activity_date":1680923697,"creation_date":1398148838,"question_id":23212238,"body_markdown":"Our assignment states that we write a program that will input a number up to 6 digits and will convert the numbers into words.. ex: 123 = one hundred twenty three. I AM CLUELESS! Then I found this site http://www.rgagnon.com/javadetails/java-0426.html \r\nbut I don&#39;t really understand how to convert it into android.\r\n\r\nplease help me..please.\r\n\r\nhere is my Main_Activity.xml:\r\n\r\n   \r\n\r\n    package com.example.torres;\r\n\r\n    import android.os.Bundle;\r\n    import android.support.v7.app.ActionBarActivity;\r\n    import android.view.View;\r\n    import android.view.View.OnClickListener;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n\r\n    public class MainActivity extends ActionBarActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.fragment_main);\r\n\r\n        final EditText numbers =  (EditText) findViewById(R.id.editText1);\r\n        final EditText results = (EditText) findViewById(R.id.editText2);\r\n\r\n        Button btnConvert = (Button) findViewById(R.id.button1);     \r\n        btnConvert.setOnClickListener(new OnClickListener() {\r\n\r\n          @Override\r\n          public void onClick(View arg0) {\r\n             String numberz =numbers.getText().toString();\r\n             try {\r\n                 final long number = Long.parseLong(numberz);\r\n                 String returnz = Words.convert(number); \r\n             } catch ( NumberFormatException e) {\r\n                 //Toast.makeToast(&quot;illegal number or empty number&quot; , toast.long)\r\n             }\r\n\r\n                           }  });\r\n        \r\n    \r\n            }}\r\n\r\nand here is my Words.java\r\n\r\n    package com.example.torres;\r\n\r\n    import java.text.DecimalFormat;\r\n\r\n    public class Words  {\r\n \r\n  \r\n\t\r\n\r\n\t\t  private static final String[] tensNames = {\r\n\t\t    &quot;&quot;,\r\n\t\t    &quot; ten&quot;,\r\n\t\t    &quot; twenty&quot;,\r\n\t\t    &quot; thirty&quot;,\r\n\t\t    &quot; forty&quot;,\r\n\t\t    &quot; fifty&quot;,\r\n\t\t    &quot; sixty&quot;,\r\n\t\t    &quot; seventy&quot;,\r\n\t\t    &quot; eighty&quot;,\r\n\t\t    &quot; ninety&quot;\r\n\t\t  };\r\n\r\n\t\t  private static final String[] numNames = {\r\n\t\t    &quot;&quot;,\r\n\t\t    &quot; one&quot;,\r\n\t\t    &quot; two&quot;,\r\n\t\t    &quot; three&quot;,\r\n\t\t    &quot; four&quot;,\r\n\t\t    &quot; five&quot;,\r\n\t\t    &quot; six&quot;,\r\n\t\t    &quot; seven&quot;,\r\n\t\t    &quot; eight&quot;,\r\n\t\t    &quot; nine&quot;,\r\n\t\t    &quot; ten&quot;,\r\n\t\t    &quot; eleven&quot;,\r\n\t\t    &quot; twelve&quot;,\r\n\t\t    &quot; thirteen&quot;,\r\n\t\t    &quot; fourteen&quot;,\r\n\t\t    &quot; fifteen&quot;,\r\n\t\t    &quot; sixteen&quot;,\r\n\t\t    &quot; seventeen&quot;,\r\n\t\t    &quot; eighteen&quot;,\r\n\t\t    &quot; nineteen&quot;\r\n\t\t  };\r\n\r\n\t\t  private Words() {}\r\n\r\n\r\n\t\tpublic static String convertLessThanOneThousand(int number) {\r\n\t\t    String soFar;\r\n\r\n\t\t    if (number % 100 &lt; 20){\r\n\t\t      soFar = numNames[number % 100];\r\n\t\t      number /= 100;\r\n\t\t    }\r\n\t\t    else {\r\n\t\t      soFar = numNames[number % 10];\r\n\t\t      number /= 10;\r\n\r\n\t\t      soFar = tensNames[number % 10] + soFar;\r\n\t\t      number /= 10;\r\n\t\t    }\r\n\t\t    if (number == 0) return soFar;\r\n\t\t    return numNames[number] + &quot; hundred&quot; + soFar;\r\n\t\t  }\r\n\r\n\r\n\t\t  public static String convert(long number) {\r\n\t\t    // 0 to 999 999 999 999\r\n\t\t    if (number == 0) { return &quot;zero&quot;; }\r\n\r\n\t\t    String snumber = Long.toString(number);\r\n\r\n\t\t    // pad with &quot;0&quot;\r\n\t\t    String mask = &quot;000000000000&quot;;\r\n\t\t    DecimalFormat df = new DecimalFormat(mask);\r\n\t\t    snumber = df.format(number);\r\n\r\n\t\t    // XXXnnnnnnnnn\r\n\t\t    int billions = Integer.parseInt(snumber.substring(0,3));\r\n\t\t    // nnnXXXnnnnnn\r\n\t\t    int millions  = Integer.parseInt(snumber.substring(3,6));\r\n\t\t    // nnnnnnXXXnnn\r\n\t\t    int hundredThousands = Integer.parseInt(snumber.substring(6,9));\r\n\t\t    // nnnnnnnnnXXX\r\n\t\t    int thousands = Integer.parseInt(snumber.substring(9,12));\r\n\r\n\t\t    String tradBillions;\r\n\t\t    switch (billions) {\r\n\t\t    case 0:\r\n\t\t      tradBillions = &quot;&quot;;\r\n\t\t      break;\r\n\t\t    case 1 :\r\n\t\t      tradBillions = convertLessThanOneThousand(billions)\r\n\t\t      + &quot; billion &quot;;\r\n\t\t      break;\r\n\t\t    default :\r\n\t\t      tradBillions = convertLessThanOneThousand(billions)\r\n\t\t      + &quot; billion &quot;;\r\n\t\t    }\r\n\t\t    String result =  tradBillions;\r\n\r\n\t\t    String tradMillions;\r\n\t\t    switch (millions) {\r\n\t\t    case 0:\r\n\t\t      tradMillions = &quot;&quot;;\r\n\t\t      break;\r\n\t\t    case 1 :\r\n\t\t      tradMillions = convertLessThanOneThousand(millions)\r\n\t\t         + &quot; million &quot;;\r\n\t\t      break;\r\n\t\t    default :\r\n\t\t      tradMillions = convertLessThanOneThousand(millions)\r\n\t\t         + &quot; million &quot;;\r\n\t\t    }\r\n\t\t    result =  result + tradMillions;\r\n\r\n\t\t    String tradHundredThousands;\r\n\t\t    switch (hundredThousands) {\r\n\t\t    case 0:\r\n\t\t      tradHundredThousands = &quot;&quot;;\r\n\t\t      break;\r\n\t\t    case 1 :\r\n\t\t      tradHundredThousands = &quot;one thousand &quot;;\r\n\t\t      break;\r\n\t\t    default :\r\n\t\t      tradHundredThousands = convertLessThanOneThousand(hundredThousands)\r\n\t\t         + &quot; thousand &quot;;\r\n\t\t    }\r\n\t\t    result =  result + tradHundredThousands;\r\n\r\n\t\t    String tradThousand;\r\n\t\t    tradThousand = convertLessThanOneThousand(thousands);\r\n\t\t    result =  result + tradThousand;\r\n\r\n\t\t    // remove extra spaces!\r\n\t\t    return result.replaceAll(&quot;^\\\\s+&quot;, &quot;&quot;).replaceAll(&quot;\\\\b\\\\s{2,}\\\\b&quot;, &quot; &quot;);}\r\n\t\t  \r\n\r\n\t\t \r\n\r\n\t\t  }\r\n\r\n\r\n\r\n\r\nThe only problem now is that nothing happens lol","title":"ANDROID: Converting inputted numbers to words","body":"<p>Our assignment states that we write a program that will input a number up to 6 digits and will convert the numbers into words.. ex: 123 = one hundred twenty three. I AM CLUELESS! Then I found this site <a href=\"http://www.rgagnon.com/javadetails/java-0426.html\" rel=\"noreferrer\">http://www.rgagnon.com/javadetails/java-0426.html</a> \nbut I don't really understand how to convert it into android.</p>\n\n<p>please help me..please.</p>\n\n<p>here is my Main_Activity.xml:</p>\n\n<pre><code>package com.example.torres;\n\nimport android.os.Bundle;\nimport android.support.v7.app.ActionBarActivity;\nimport android.view.View;\nimport android.view.View.OnClickListener;\nimport android.widget.Button;\nimport android.widget.EditText;\n\npublic class MainActivity extends ActionBarActivity {\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.fragment_main);\n\n    final EditText numbers =  (EditText) findViewById(R.id.editText1);\n    final EditText results = (EditText) findViewById(R.id.editText2);\n\n    Button btnConvert = (Button) findViewById(R.id.button1);     \n    btnConvert.setOnClickListener(new OnClickListener() {\n\n      @Override\n      public void onClick(View arg0) {\n         String numberz =numbers.getText().toString();\n         try {\n             final long number = Long.parseLong(numberz);\n             String returnz = Words.convert(number); \n         } catch ( NumberFormatException e) {\n             //Toast.makeToast(\"illegal number or empty number\" , toast.long)\n         }\n\n                       }  });\n\n\n        }}\n</code></pre>\n\n<p>and here is my Words.java</p>\n\n<pre><code>package com.example.torres;\n\nimport java.text.DecimalFormat;\n\npublic class Words  {\n\n\n\n\n      private static final String[] tensNames = {\n        \"\",\n        \" ten\",\n        \" twenty\",\n        \" thirty\",\n        \" forty\",\n        \" fifty\",\n        \" sixty\",\n        \" seventy\",\n        \" eighty\",\n        \" ninety\"\n      };\n\n      private static final String[] numNames = {\n        \"\",\n        \" one\",\n        \" two\",\n        \" three\",\n        \" four\",\n        \" five\",\n        \" six\",\n        \" seven\",\n        \" eight\",\n        \" nine\",\n        \" ten\",\n        \" eleven\",\n        \" twelve\",\n        \" thirteen\",\n        \" fourteen\",\n        \" fifteen\",\n        \" sixteen\",\n        \" seventeen\",\n        \" eighteen\",\n        \" nineteen\"\n      };\n\n      private Words() {}\n\n\n    public static String convertLessThanOneThousand(int number) {\n        String soFar;\n\n        if (number % 100 &lt; 20){\n          soFar = numNames[number % 100];\n          number /= 100;\n        }\n        else {\n          soFar = numNames[number % 10];\n          number /= 10;\n\n          soFar = tensNames[number % 10] + soFar;\n          number /= 10;\n        }\n        if (number == 0) return soFar;\n        return numNames[number] + \" hundred\" + soFar;\n      }\n\n\n      public static String convert(long number) {\n        // 0 to 999 999 999 999\n        if (number == 0) { return \"zero\"; }\n\n        String snumber = Long.toString(number);\n\n        // pad with \"0\"\n        String mask = \"000000000000\";\n        DecimalFormat df = new DecimalFormat(mask);\n        snumber = df.format(number);\n\n        // XXXnnnnnnnnn\n        int billions = Integer.parseInt(snumber.substring(0,3));\n        // nnnXXXnnnnnn\n        int millions  = Integer.parseInt(snumber.substring(3,6));\n        // nnnnnnXXXnnn\n        int hundredThousands = Integer.parseInt(snumber.substring(6,9));\n        // nnnnnnnnnXXX\n        int thousands = Integer.parseInt(snumber.substring(9,12));\n\n        String tradBillions;\n        switch (billions) {\n        case 0:\n          tradBillions = \"\";\n          break;\n        case 1 :\n          tradBillions = convertLessThanOneThousand(billions)\n          + \" billion \";\n          break;\n        default :\n          tradBillions = convertLessThanOneThousand(billions)\n          + \" billion \";\n        }\n        String result =  tradBillions;\n\n        String tradMillions;\n        switch (millions) {\n        case 0:\n          tradMillions = \"\";\n          break;\n        case 1 :\n          tradMillions = convertLessThanOneThousand(millions)\n             + \" million \";\n          break;\n        default :\n          tradMillions = convertLessThanOneThousand(millions)\n             + \" million \";\n        }\n        result =  result + tradMillions;\n\n        String tradHundredThousands;\n        switch (hundredThousands) {\n        case 0:\n          tradHundredThousands = \"\";\n          break;\n        case 1 :\n          tradHundredThousands = \"one thousand \";\n          break;\n        default :\n          tradHundredThousands = convertLessThanOneThousand(hundredThousands)\n             + \" thousand \";\n        }\n        result =  result + tradHundredThousands;\n\n        String tradThousand;\n        tradThousand = convertLessThanOneThousand(thousands);\n        result =  result + tradThousand;\n\n        // remove extra spaces!\n        return result.replaceAll(\"^\\\\s+\", \"\").replaceAll(\"\\\\b\\\\s{2,}\\\\b\", \" \");}\n\n\n\n\n      }\n</code></pre>\n\n<p>The only problem now is that nothing happens lol</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":13996510,"reputation":400,"user_id":10109156,"display_name":"tornadoradon"},"score":0,"creation_date":1680921079,"post_id":75962951,"comment_id":133980672,"body_markdown":"sigkill is terminating request from your OS. It comes from outside your program. It&#39;s not an error.","body":"sigkill is terminating request from your OS. It comes from outside your program. It&#39;s not an error."}],"answers":[{"tags":[],"owner":{"account_id":14587108,"reputation":155,"user_id":10535520,"display_name":"Stone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680923233,"creation_date":1680923233,"answer_id":75963121,"question_id":75962951,"body_markdown":"It looks like test case runs to the end and JVM process is killed automatically. You could try add below codes to delay the killed time 3 minutes though it is not recommended in unit test.\r\n\r\n```\r\n\t\ttry {\r\n\t\t\tTimeUnit.MINUTES.sleep(3);\r\n\t\t} catch (InterruptedException e) {\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n```","title":"Java Process finished with exit code 137 (interrupted by signal 9: SIGKILL)","body":"<p>It looks like test case runs to the end and JVM process is killed automatically. You could try add below codes to delay the killed time 3 minutes though it is not recommended in unit test.</p>\n<pre><code>        try {\n            TimeUnit.MINUTES.sleep(3);\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n</code></pre>\n"}],"owner":{"account_id":20746838,"reputation":23,"user_id":15235253,"display_name":"ami who"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680923233,"creation_date":1680918918,"question_id":75962951,"body_markdown":"```\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.openjdk.jol&lt;/groupId&gt;\r\n   &lt;artifactId&gt;jol-core&lt;/artifactId&gt;\r\n   &lt;version&gt;0.10&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n```\r\n    public class MyObject {\r\n    \r\n    }\r\n\r\n\r\n\r\n    public class ObjectTest {\r\n        @Test\r\n        public  void test1() {\r\n            Layouter l;\r\n            //64位vm对象分布,未启动指针压缩\r\n            l = new HotSpotLayouter(new X86_64_DataModel());\r\n            System.out.println(ClassLayout.parseInstance(new MyObject(),l).toPrintable());\r\n            System.out.println(&quot;==============================================&quot;);\r\n    \r\n            //64位vm对象分布,启动指针压缩\r\n            l = new HotSpotLayouter(new X86_64_COOPS_DataModel());\r\n            System.out.println(ClassLayout.parseInstance(new MyObject(),l).toPrintable());\r\n        }\r\n    \r\n    }\r\n```\r\n\r\nTest1() cannot run normally, error message:\r\nProcess finished with exit code 137 (interrupted by signal 9: SIGKILL)\r\n\r\nI want to view the memory usage of Java objects in the jvm through the jol-core package of openjdk","title":"Java Process finished with exit code 137 (interrupted by signal 9: SIGKILL)","body":"<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.openjdk.jol&lt;/groupId&gt;\n   &lt;artifactId&gt;jol-core&lt;/artifactId&gt;\n   &lt;version&gt;0.10&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<pre><code>    public class MyObject {\n    \n    }\n\n\n\n    public class ObjectTest {\n        @Test\n        public  void test1() {\n            Layouter l;\n            //64位vm对象分布,未启动指针压缩\n            l = new HotSpotLayouter(new X86_64_DataModel());\n            System.out.println(ClassLayout.parseInstance(new MyObject(),l).toPrintable());\n            System.out.println(&quot;==============================================&quot;);\n    \n            //64位vm对象分布,启动指针压缩\n            l = new HotSpotLayouter(new X86_64_COOPS_DataModel());\n            System.out.println(ClassLayout.parseInstance(new MyObject(),l).toPrintable());\n        }\n    \n    }\n</code></pre>\n<p>Test1() cannot run normally, error message:\nProcess finished with exit code 137 (interrupted by signal 9: SIGKILL)</p>\n<p>I want to view the memory usage of Java objects in the jvm through the jol-core package of openjdk</p>\n"},{"tags":["java","project-reactor"],"comments":[{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1680919671,"post_id":75947981,"comment_id":133980594,"body_markdown":"Why do you think no one subscribes to the Mono?","body":"Why do you think no one subscribes to the Mono?"},{"owner":{"account_id":28230412,"reputation":1,"user_id":21579711,"display_name":"acoder"},"score":0,"creation_date":1680920284,"post_id":75947981,"comment_id":133980631,"body_markdown":"Because the above code does not explicitly call the subscribe method, I am confused as to why the code can still run normally without a subscription, or where there is an implicit subscription","body":"Because the above code does not explicitly call the subscribe method, I am confused as to why the code can still run normally without a subscription, or where there is an implicit subscription"},{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1680920435,"post_id":75947981,"comment_id":133980638,"body_markdown":"You return the Mono, so you shouldn&#39;t and cannot subscribe to it here. A code that calls this method subscribes to the Mono","body":"You return the Mono, so you shouldn&#39;t and cannot subscribe to it here. A code that calls this method subscribes to the Mono"},{"owner":{"account_id":28230412,"reputation":1,"user_id":21579711,"display_name":"acoder"},"score":0,"creation_date":1680921807,"post_id":75947981,"comment_id":133980707,"body_markdown":"I added the controller layer code where it called the send method, but still did not perform the subscription operation.The calling method of this API is not special for front-end development, and does not involve subscription stream and other ETCs","body":"I added the controller layer code where it called the send method, but still did not perform the subscription operation.The calling method of this API is not special for front-end development, and does not involve subscription stream and other ETCs"},{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1680922064,"post_id":75947981,"comment_id":133980722,"body_markdown":"Your control layer returns this mono. And because it&#39;s annotated with `@PostMapping` I presume it&#39;s a part of WebFlux which means that Spring makes the subscription on a POST request.","body":"Your control layer returns this mono. And because it&#39;s annotated with <code>@PostMapping</code> I presume it&#39;s a part of WebFlux which means that Spring makes the subscription on a POST request."},{"owner":{"account_id":28230412,"reputation":1,"user_id":21579711,"display_name":"acoder"},"score":0,"creation_date":1680922491,"post_id":75947981,"comment_id":133980752,"body_markdown":"Thank you for your answer. If that&#39;s the case, then explain why the code is running normally","body":"Thank you for your answer. If that&#39;s the case, then explain why the code is running normally"},{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1680923106,"post_id":75947981,"comment_id":133980775,"body_markdown":"Yes, as you said, someone must subscribe to it. In your case you return your mono to the web controller, and Spring subscribes to it (otherwise it cannot produce the HTTP call result, or in other words the actual subscription is on the other side of the tcp socket)","body":"Yes, as you said, someone must subscribe to it. In your case you return your mono to the web controller, and Spring subscribes to it (otherwise it cannot produce the HTTP call result, or in other words the actual subscription is on the other side of the tcp socket)"},{"owner":{"account_id":28230412,"reputation":1,"user_id":21579711,"display_name":"acoder"},"score":0,"creation_date":1683183172,"post_id":75947981,"comment_id":134327970,"body_markdown":"sorry to borrow you my friend .Overall, this code is actually a logic based on the interaction between mqtt and the device side. Why introduce reactor. core and what are the benefits","body":"sorry to borrow you my friend .Overall, this code is actually a logic based on the interaction between mqtt and the device side. Why introduce reactor. core and what are the benefits"},{"owner":{"account_id":28230412,"reputation":1,"user_id":21579711,"display_name":"acoder"},"score":0,"creation_date":1683188324,"post_id":75947981,"comment_id":134328954,"body_markdown":"@IgorArtamonov friend","body":"@IgorArtamonov friend"}],"owner":{"account_id":28230412,"reputation":1,"user_id":21579711,"display_name":"acoder"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680921886,"creation_date":1680773677,"question_id":75947981,"body_markdown":"This is a service layer code related to Java system and device communication\r\n\r\n\r\n    @Service\r\n        public class ValveOpenSender implements MessageSender&lt;ValveOpenReply, ValveOpen&gt; {\r\n            private final Logger logger = LoggerFactory.getLogger(getClass());\r\n    \r\n            @Value(&quot;${mqtt.cmd-timeout}&quot;)\r\n            private Long cmdTimeout;\r\n    \r\n            @Autowired\r\n            private MqttGateway mqttGateway;\r\n    \r\n    \r\n            @Autowired\r\n            private DeviceService deviceService;\r\n    \r\n            @Autowired\r\n            private DeviceOperationService deviceOperationService;\r\n    \r\n    \r\n            private final Map&lt;String, Sinks.One&lt;ValveOpenReply&gt;&gt; replyProcessor = new ConcurrentHashMap&lt;&gt;();\r\n    \r\n    \r\n            @Override\r\n            public Mono&lt;ValveOpenReply&gt; send(ValveOpen message) {\r\n                return send(Mono.just(message));\r\n            }\r\n    \r\n            @Override\r\n            public Mono&lt;ValveOpenReply&gt; send(Publisher&lt;ValveOpen&gt; message) {\r\n                return Mono.from(message)\r\n                        .flatMap(msg -&gt; {\r\n                            Mono&lt;ValveOpenReply&gt; replyFlux = replyProcessor\r\n                                    .computeIfAbsent(msg.getMessageId(), ignore -&gt; {\r\n                                        Long operationId = sequenceGenerator.nextId();\r\n    \r\n                                        //Generate an operation record with status incomplete\r\n    \r\n                                        return Sinks.one();\r\n                                    })\r\n                                    .asMono()\r\n                                    .doOnNext(reply -&gt; {\r\n    \r\n                                        //After receiving the device response, the operation record status changes to Completed\r\n                                    })\r\n                                    .timeout(Duration.ofSeconds(cmdTimeout), Mono.error(() -&gt; new DeviceOperationException(ErrorCode.TIME_OUT)))\r\n                                    .doFinally(signal -&gt; replyProcessor.remove(msg.getMessageId()));\r\n    \r\n                            //ValveOpen \r\n                            mqttGateway.sendToMqtt(msg.genTopic(), msg.encode().toString());\r\n    \r\n                            return replyFlux;\r\n                        });\r\n            }\r\n    \r\n    \r\n            //After receiving the device response, the method will be called while executing the doOnNext method above\r\n            public void handleReply(ValveOpenReply reply) {\r\n                Sinks.One&lt;ValveOpenReply&gt; sinks = replyProcessor.get(reply.getMessageId());\r\n                if (sinks == null) {\r\n                    logger.warn(&quot;No response message processor&quot;);\r\n                    replyProcessor.remove(reply.getMessageId());\r\n                    return;\r\n                }\r\n                sinks.emitValue(reply, (signalType, emitResult) -&gt; {\r\n                    throw new DeviceOperationException(ErrorCode.valueOf(&quot;Valve opening response processing failed!&quot;));\r\n                });\r\n            }\r\n        }\r\n\r\n\r\n \r\n\r\n     @PostMapping(&quot;/valveOpen&quot;)\r\n        public Mono&lt;?&gt; valveOpen(@RequestBody ValveOpen valveOpen, HttpServletRequest request) {\r\n    \r\n            valveOpen.setClientType(ClientType.getTypeName(request.getHeader(&quot;User-Agent&quot;)));\r\n    \r\n            return valveOpenSender.send(valveOpen)\r\n                    .map(reply -&gt; {\r\n                        Assert.isTrue(reply.getCode().shortValue() == 0, &quot;valve open failed&quot;);\r\n                        return Mono.just(ResultBuilder.buildActionSuccess());\r\n                    });\r\n        }\r\n\r\n\r\n\r\nHello everyone, this code is a valve opening interface that involves communication between the Java system and the device. The communication protocol is mqtt. The goal of the entire code is to send a valve opening command to the device, and then listen for the device&#39;s response message to change the status of the operation record to completed. In order to achieve asynchronous and non blocking effects, we introduced the Reactor. core framework. But first of all, as far as I know, the Mono object requires the entire flow to start working after calling the subscribe method.However, the use of Sinks. one to construct Mono objects in the above code did not explicitly call the subscribe method, but the entire code can run normally. I am very confused about this and hope someone can resolve my doubts. Thank you.\r\n\r\nand by the way i have saw a few words about this,like this &quot;Mono.from is a factory method that adapts any kind of Publisher to a Mono. It will only take the first element and ignore subsequent signals (completion, errors) if any. This transformation doesn’t require an explicit subscription since it’s cold and unicast: it starts producing signals when subscribed to and will dedicate its resources to that one consumer.&quot; but im not sure if its right\r\n","title":"When using Reactor.core, does the Mono object need to explicitly subscribe if it wants to start the stream?","body":"<p>This is a service layer code related to Java system and device communication</p>\n<pre><code>@Service\n    public class ValveOpenSender implements MessageSender&lt;ValveOpenReply, ValveOpen&gt; {\n        private final Logger logger = LoggerFactory.getLogger(getClass());\n\n        @Value(&quot;${mqtt.cmd-timeout}&quot;)\n        private Long cmdTimeout;\n\n        @Autowired\n        private MqttGateway mqttGateway;\n\n\n        @Autowired\n        private DeviceService deviceService;\n\n        @Autowired\n        private DeviceOperationService deviceOperationService;\n\n\n        private final Map&lt;String, Sinks.One&lt;ValveOpenReply&gt;&gt; replyProcessor = new ConcurrentHashMap&lt;&gt;();\n\n\n        @Override\n        public Mono&lt;ValveOpenReply&gt; send(ValveOpen message) {\n            return send(Mono.just(message));\n        }\n\n        @Override\n        public Mono&lt;ValveOpenReply&gt; send(Publisher&lt;ValveOpen&gt; message) {\n            return Mono.from(message)\n                    .flatMap(msg -&gt; {\n                        Mono&lt;ValveOpenReply&gt; replyFlux = replyProcessor\n                                .computeIfAbsent(msg.getMessageId(), ignore -&gt; {\n                                    Long operationId = sequenceGenerator.nextId();\n\n                                    //Generate an operation record with status incomplete\n\n                                    return Sinks.one();\n                                })\n                                .asMono()\n                                .doOnNext(reply -&gt; {\n\n                                    //After receiving the device response, the operation record status changes to Completed\n                                })\n                                .timeout(Duration.ofSeconds(cmdTimeout), Mono.error(() -&gt; new DeviceOperationException(ErrorCode.TIME_OUT)))\n                                .doFinally(signal -&gt; replyProcessor.remove(msg.getMessageId()));\n\n                        //ValveOpen \n                        mqttGateway.sendToMqtt(msg.genTopic(), msg.encode().toString());\n\n                        return replyFlux;\n                    });\n        }\n\n\n        //After receiving the device response, the method will be called while executing the doOnNext method above\n        public void handleReply(ValveOpenReply reply) {\n            Sinks.One&lt;ValveOpenReply&gt; sinks = replyProcessor.get(reply.getMessageId());\n            if (sinks == null) {\n                logger.warn(&quot;No response message processor&quot;);\n                replyProcessor.remove(reply.getMessageId());\n                return;\n            }\n            sinks.emitValue(reply, (signalType, emitResult) -&gt; {\n                throw new DeviceOperationException(ErrorCode.valueOf(&quot;Valve opening response processing failed!&quot;));\n            });\n        }\n    }\n\n\n\n\n @PostMapping(&quot;/valveOpen&quot;)\n    public Mono&lt;?&gt; valveOpen(@RequestBody ValveOpen valveOpen, HttpServletRequest request) {\n\n        valveOpen.setClientType(ClientType.getTypeName(request.getHeader(&quot;User-Agent&quot;)));\n\n        return valveOpenSender.send(valveOpen)\n                .map(reply -&gt; {\n                    Assert.isTrue(reply.getCode().shortValue() == 0, &quot;valve open failed&quot;);\n                    return Mono.just(ResultBuilder.buildActionSuccess());\n                });\n    }\n</code></pre>\n<p>Hello everyone, this code is a valve opening interface that involves communication between the Java system and the device. The communication protocol is mqtt. The goal of the entire code is to send a valve opening command to the device, and then listen for the device's response message to change the status of the operation record to completed. In order to achieve asynchronous and non blocking effects, we introduced the Reactor. core framework. But first of all, as far as I know, the Mono object requires the entire flow to start working after calling the subscribe method.However, the use of Sinks. one to construct Mono objects in the above code did not explicitly call the subscribe method, but the entire code can run normally. I am very confused about this and hope someone can resolve my doubts. Thank you.</p>\n<p>and by the way i have saw a few words about this,like this &quot;Mono.from is a factory method that adapts any kind of Publisher to a Mono. It will only take the first element and ignore subsequent signals (completion, errors) if any. This transformation doesn’t require an explicit subscription since it’s cold and unicast: it starts producing signals when subscribed to and will dedicate its resources to that one consumer.&quot; but im not sure if its right</p>\n"},{"tags":["java","android","save"],"answers":[{"tags":[],"owner":{"account_id":16405861,"reputation":41,"user_id":11850440,"display_name":"Vikas Tiwari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680915163,"creation_date":1680915163,"answer_id":75962791,"question_id":75962626,"body_markdown":"You can make a JSON array of the scores for each round, and save the JSON String into a text file.\r\n\r\nsomething like:\r\n``` { &quot;rounds&quot;:[{&quot;score_a&quot;:10,&quot;score_b&quot;:20},{&quot;score_a&quot;:30,&quot;score_b&quot;:35},{&quot;score_a&quot;:24,&quot;score_b&quot;:43}]} ```\r\n\r\nAnd save it something like this:\r\n\r\n```\r\nFileOutputStream outputStream = context.openFileOutput(&quot;scores.txt&quot;, Context.MODE_PRIVATE);\r\n    outputStream.write(jsonString.getBytes());\r\n    outputStream.close();\r\n```\r\nAnd to read it again read the file and make a JSONObject from the String\r\n\r\n```\r\nFileInputStream inputStream = context.openFileInput(&quot;scores.txt&quot;);\r\n    InputStreamReader inputStreamReader = new InputStreamReader(inputStream);\r\n    BufferedReader bufferedReader = new BufferedReader(inputStreamReader);\r\n    StringBuilder stringBuilder = new StringBuilder();\r\n    String line;\r\n    while ((line = bufferedReader.readLine()) != null) {\r\n        stringBuilder.append(line);\r\n    }\r\n    inputStream.close();\r\n    jsonString = stringBuilder.toString();\r\n    JSONObject jsonObject = new JSONObject(jsonString);\r\n    JSONArray rounds = jsonObject.getJSONArray(&quot;rounds&quot;);\r\n    //You can use the rounds JSONArray to get individual scorer\r\n    int scoreA = rounds.getJSONObject(0).getInt(&quot;score_a&quot;);\r\n\r\n","title":"How do I save data internally to the device?","body":"<p>You can make a JSON array of the scores for each round, and save the JSON String into a text file.</p>\n<p>something like:\n<code>{ &quot;rounds&quot;:[{&quot;score_a&quot;:10,&quot;score_b&quot;:20},{&quot;score_a&quot;:30,&quot;score_b&quot;:35},{&quot;score_a&quot;:24,&quot;score_b&quot;:43}]}</code></p>\n<p>And save it something like this:</p>\n<pre><code>FileOutputStream outputStream = context.openFileOutput(&quot;scores.txt&quot;, Context.MODE_PRIVATE);\n    outputStream.write(jsonString.getBytes());\n    outputStream.close();\n</code></pre>\n<p>And to read it again read the file and make a JSONObject from the String</p>\n<pre><code>FileInputStream inputStream = context.openFileInput(&quot;scores.txt&quot;);\n    InputStreamReader inputStreamReader = new InputStreamReader(inputStream);\n    BufferedReader bufferedReader = new BufferedReader(inputStreamReader);\n    StringBuilder stringBuilder = new StringBuilder();\n    String line;\n    while ((line = bufferedReader.readLine()) != null) {\n        stringBuilder.append(line);\n    }\n    inputStream.close();\n    jsonString = stringBuilder.toString();\n    JSONObject jsonObject = new JSONObject(jsonString);\n    JSONArray rounds = jsonObject.getJSONArray(&quot;rounds&quot;);\n    //You can use the rounds JSONArray to get individual scorer\n    int scoreA = rounds.getJSONObject(0).getInt(&quot;score_a&quot;);\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11864229,"reputation":391,"user_id":8682142,"display_name":"Waseem Abbas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680918399,"creation_date":1680918399,"answer_id":75962933,"question_id":75962626,"body_markdown":"Define a model class to hold the score data \r\n```Kotlin\r\nimport java.io.Serializable\r\n\r\ndata class Round(\r\n    val team1Score: Int,\r\n    val team2Score: Int,\r\n    val team3Score: Int,\r\n    val team4Score: Int,\r\n): Serializable\r\n```\r\nThen let&#39;s say you have instances of this `Round` class for each round to hold the score values.\r\n\r\n```Kotlin\r\nval round1 = Round(team1Score = 5, team2Score = 0, team3Score = 9, team4Score = 5)\r\nval round2 = Round(team1Score = 2, team2Score = 10, team3Score = 6, team4Score = 5)\r\nval round3 = Round(team1Score = 4, team2Score = 8, team3Score = 3, team4Score = 1)\r\n```\r\nThen save these objects as `JSON` on files. \r\n```Kotlin\r\nFileHelper.writeToJsonFile(\r\n    context = getApplicationContext(), \r\n    data = round1, \r\n    fileName = &quot;round1&quot;  //if the file doesn&#39;t exist, it will be created automatically\r\n) \r\nFileHelper.writeToJsonFile(\r\n    context = getApplicationContext(), \r\n    data = round2, \r\n    fileName = &quot;round2&quot;\r\n) \r\n```\r\nAnd to read values back \r\n```Kotlin\r\nval round1 = FileHelper.getFromJsonFile(\r\n    context = getApplicationContext(), \r\n    fileName = &quot;round1&quot;,\r\n    clazz = Round::class //if it doesn&#39;t work use Round::class.java\r\n)\r\n```\r\n\r\n```Kotlin\r\nimport android.app.Application\r\nimport android.content.Context\r\nimport com.google.gson.Gson\r\nimport java.io.File\r\n\r\nobject FileHelper {\r\n\r\n    fun writeToJsonFile(context: Application, data: Any, fileName: String) {\r\n        val dataStr = Gson().toJson(data)\r\n        File(context.filesDir, &quot;$fileName.json&quot;)\r\n            .writeText(dataStr)\r\n    }\r\n\r\n    fun &lt;T&gt; getFromJsonFile(context: Application, fileName: String, clazz: Class&lt;T&gt;): T? {\r\n        return try {\r\n            val data = File(context.filesDir, &quot;$fileName.json&quot;).readText()\r\n            Gson().fromJson(data, clazz)\r\n        } catch (e: Exception) {\r\n            null\r\n        }\r\n    }\r\n\r\n    fun getTextFromResources(context: Context, resId: Int) =\r\n        context.resources.openRawResource(resId).use { inputStream -&gt;\r\n            inputStream.bufferedReader().use {\r\n                it.readText()\r\n            }\r\n        }\r\n\r\n}\r\n\r\n```","title":"How do I save data internally to the device?","body":"<p>Define a model class to hold the score data</p>\n<pre><code>import java.io.Serializable\n\ndata class Round(\n    val team1Score: Int,\n    val team2Score: Int,\n    val team3Score: Int,\n    val team4Score: Int,\n): Serializable\n</code></pre>\n<p>Then let's say you have instances of this <code>Round</code> class for each round to hold the score values.</p>\n<pre><code>val round1 = Round(team1Score = 5, team2Score = 0, team3Score = 9, team4Score = 5)\nval round2 = Round(team1Score = 2, team2Score = 10, team3Score = 6, team4Score = 5)\nval round3 = Round(team1Score = 4, team2Score = 8, team3Score = 3, team4Score = 1)\n</code></pre>\n<p>Then save these objects as <code>JSON</code> on files.</p>\n<pre><code>FileHelper.writeToJsonFile(\n    context = getApplicationContext(), \n    data = round1, \n    fileName = &quot;round1&quot;  //if the file doesn't exist, it will be created automatically\n) \nFileHelper.writeToJsonFile(\n    context = getApplicationContext(), \n    data = round2, \n    fileName = &quot;round2&quot;\n) \n</code></pre>\n<p>And to read values back</p>\n<pre><code>val round1 = FileHelper.getFromJsonFile(\n    context = getApplicationContext(), \n    fileName = &quot;round1&quot;,\n    clazz = Round::class //if it doesn't work use Round::class.java\n)\n</code></pre>\n<pre><code>import android.app.Application\nimport android.content.Context\nimport com.google.gson.Gson\nimport java.io.File\n\nobject FileHelper {\n\n    fun writeToJsonFile(context: Application, data: Any, fileName: String) {\n        val dataStr = Gson().toJson(data)\n        File(context.filesDir, &quot;$fileName.json&quot;)\n            .writeText(dataStr)\n    }\n\n    fun &lt;T&gt; getFromJsonFile(context: Application, fileName: String, clazz: Class&lt;T&gt;): T? {\n        return try {\n            val data = File(context.filesDir, &quot;$fileName.json&quot;).readText()\n            Gson().fromJson(data, clazz)\n        } catch (e: Exception) {\n            null\n        }\n    }\n\n    fun getTextFromResources(context: Context, resId: Int) =\n        context.resources.openRawResource(resId).use { inputStream -&gt;\n            inputStream.bufferedReader().use {\n                it.readText()\n            }\n        }\n\n}\n\n</code></pre>\n"}],"owner":{"account_id":28245335,"reputation":23,"user_id":21592481,"display_name":"Speedy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75962933,"answer_count":2,"score":0,"last_activity_date":1680918399,"creation_date":1680911063,"question_id":75962626,"body_markdown":"I am making an app for tracking four different scores. There is an add and a subtract button for each score, and I want to save as rounds. For example, there would be a file for round 1 with the score from each team, a file for round 2 with the score from each team, etc.\r\n\r\nI have been searching YouTube, StackOverflow, and Android Developers for hours trying to find a way I can save data, but none of them make any sense.","title":"How do I save data internally to the device?","body":"<p>I am making an app for tracking four different scores. There is an add and a subtract button for each score, and I want to save as rounds. For example, there would be a file for round 1 with the score from each team, a file for round 2 with the score from each team, etc.</p>\n<p>I have been searching YouTube, StackOverflow, and Android Developers for hours trying to find a way I can save data, but none of them make any sense.</p>\n"},{"tags":["java","amazon-web-services","encryption","amazon-kms"],"comments":[{"owner":{"account_id":13294099,"reputation":49274,"user_id":9597706,"display_name":"Richard Heap"},"score":0,"creation_date":1681036036,"post_id":75962815,"comment_id":133991752,"body_markdown":"It looks like your JS code is using the AWS encryption SDK, which is not what your java code is doing. Find the Java equivalent here: https://docs.aws.amazon.com/encryption-sdk/latest/developer-guide/java.html","body":"It looks like your JS code is using the AWS encryption SDK, which is not what your java code is doing. Find the Java equivalent here: <a href=\"https://docs.aws.amazon.com/encryption-sdk/latest/developer-guide/java.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/encryption-sdk/latest/developer-guide/&hellip;</a>"}],"owner":{"account_id":5735759,"reputation":619,"user_id":4529997,"accept_rate":70,"display_name":"Alexiz Hernandez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680915682,"creation_date":1680915682,"question_id":75962815,"body_markdown":"I am currently using AWS Cognito&#39;s `customEmailSender` trigger to send my emails. In the function event, I get the code and it is encrypted using the KMS key I created in CDK and passed into my Cognito UserPool. I was attempting to decrypt the code to send it to the user, but I keep getting an `InvalidCiphertextException`. This is how my Java function looks:\r\n\r\n```\r\nprivate String decryptCode(String code) {\r\n  KmsClient kmsClient = KmsClient.builder().build();\r\n\r\n  byte[] encryptedData = Base64.getDecoder().decode(code);\r\n\r\n  DecryptRequet decryptRequest = DecryptRequest.builder()\r\n    .ciphertextBlob(SdkBytes.fromByteArray(encryptedData))\r\n    .keyId(keyArn)\r\n    .build();\r\n\r\n  DecryptResponse decryptResponse = kmsClient.decrypt(decryptRequest);\r\n\r\n  ByteBuffer plaintext = decryptResponse.plaintext().asByteBuffer();\r\n\r\n  String decryptedData = StandardCharsets.UTF_8.decode(plaintext).toString();\r\n\r\n  log.info(&quot;DecryptedData {}&quot;, decryptedData);\r\n\r\n  kmsClient.close();\r\n\r\n  return decryptedData;\r\n}\r\n```\r\n\r\nWhen this function gets called I get that error. I decided to try and run the decrypt from the cli to see if that worked, so I ran this with the same error:\r\n\r\n`aws kms decrypt --ciphertext-blob fileb://&lt;(echo &#39;encrypted-data&#39; | base64 -d) --key-id arn:aws:kms:&lt;region&gt;:&lt;accountid&gt;:key/&lt;id&gt;`\r\n\r\n\r\n\r\nUnfortunately, the error doesn&#39;t provide any useful information. I already checked to make sure that the lambda function has the `kms:Decrypt` and `kms:DescribeKey` policies.\r\n\r\nI had tried with a NodeJS function to see if that would work at one point and it actually would work with this code:\r\n\r\n```\r\nconst b64 = require(&#39;base64-js&#39;);\r\nconst encryptionSdk = require(&#39;@aws-crypto/client-node&#39;);\r\nconst { decrypt } = encryptionSdk.buildClient(\r\n  encryptionSdk.CommitmentPolicy.REQUIRE_ENCRYPT_ALLOW_DECRYPT\r\n);\r\nconst generatorKeyId = process.env.KEY_ALIAS;\r\nconst keyIds = [process.env.KEY_ARN];\r\nconst keyring = new encryptionSdk.KmsKeyringNode({ generatorKeyId, keyIds });\r\n\r\nif (event.request.code) {\r\n  const { plaintext } = await decrypt( keyring, b64.toByteArray(event.request.code) );\r\n  return plaintext.toString();\r\n}\r\n```\r\n\r\nAnyone else have this issue?","title":"AWS KMS Decrypt call returns InvalidCiphertextException","body":"<p>I am currently using AWS Cognito's <code>customEmailSender</code> trigger to send my emails. In the function event, I get the code and it is encrypted using the KMS key I created in CDK and passed into my Cognito UserPool. I was attempting to decrypt the code to send it to the user, but I keep getting an <code>InvalidCiphertextException</code>. This is how my Java function looks:</p>\n<pre><code>private String decryptCode(String code) {\n  KmsClient kmsClient = KmsClient.builder().build();\n\n  byte[] encryptedData = Base64.getDecoder().decode(code);\n\n  DecryptRequet decryptRequest = DecryptRequest.builder()\n    .ciphertextBlob(SdkBytes.fromByteArray(encryptedData))\n    .keyId(keyArn)\n    .build();\n\n  DecryptResponse decryptResponse = kmsClient.decrypt(decryptRequest);\n\n  ByteBuffer plaintext = decryptResponse.plaintext().asByteBuffer();\n\n  String decryptedData = StandardCharsets.UTF_8.decode(plaintext).toString();\n\n  log.info(&quot;DecryptedData {}&quot;, decryptedData);\n\n  kmsClient.close();\n\n  return decryptedData;\n}\n</code></pre>\n<p>When this function gets called I get that error. I decided to try and run the decrypt from the cli to see if that worked, so I ran this with the same error:</p>\n<p><code>aws kms decrypt --ciphertext-blob fileb://&lt;(echo 'encrypted-data' | base64 -d) --key-id arn:aws:kms:&lt;region&gt;:&lt;accountid&gt;:key/&lt;id&gt;</code></p>\n<p>Unfortunately, the error doesn't provide any useful information. I already checked to make sure that the lambda function has the <code>kms:Decrypt</code> and <code>kms:DescribeKey</code> policies.</p>\n<p>I had tried with a NodeJS function to see if that would work at one point and it actually would work with this code:</p>\n<pre><code>const b64 = require('base64-js');\nconst encryptionSdk = require('@aws-crypto/client-node');\nconst { decrypt } = encryptionSdk.buildClient(\n  encryptionSdk.CommitmentPolicy.REQUIRE_ENCRYPT_ALLOW_DECRYPT\n);\nconst generatorKeyId = process.env.KEY_ALIAS;\nconst keyIds = [process.env.KEY_ARN];\nconst keyring = new encryptionSdk.KmsKeyringNode({ generatorKeyId, keyIds });\n\nif (event.request.code) {\n  const { plaintext } = await decrypt( keyring, b64.toByteArray(event.request.code) );\n  return plaintext.toString();\n}\n</code></pre>\n<p>Anyone else have this issue?</p>\n"},{"tags":["java","internationalization","currency","turkish"],"comments":[{"owner":{"account_id":7745,"reputation":189755,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":2,"creation_date":1242928804,"post_id":894223,"comment_id":701432,"body_markdown":"This doesn&#39;t immediately help, but file a bug and it&#39;ll probably be fixed in the next Java update.","body":"This doesn&#39;t immediately help, but file a bug and it&#39;ll probably be fixed in the next Java update."},{"owner":{"account_id":17205,"reputation":7140,"user_id":38264,"accept_rate":67,"display_name":"z  -"},"score":1,"creation_date":1242930483,"post_id":894223,"comment_id":701565,"body_markdown":"there is no way other than to create your own wrapper for Currency.  Currency is a final class so it cannot even be extended to override getSymbol for your specific case.  Either live with YTL and report the bug (and hope its fixed in the next patch) or implement your own solution.","body":"there is no way other than to create your own wrapper for Currency.  Currency is a final class so it cannot even be extended to override getSymbol for your specific case.  Either live with YTL and report the bug (and hope its fixed in the next patch) or implement your own solution."}],"answers":[{"tags":[],"owner":{"account_id":5022,"reputation":13852,"user_id":7867,"accept_rate":70,"display_name":"Mr. Shiny and New 安宇"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1402587193,"creation_date":1242930659,"answer_id":894384,"question_id":894223,"body_markdown":"In Java 7 you can [override currencies][1] in a properties file. If you are relying on the ISO-4217 symbol, it can be specified/overridden there.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Currency.html","title":"How do I override Currency symbols in Java?","body":"<p>In Java 7 you can <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Currency.html\" rel=\"nofollow noreferrer\">override currencies</a> in a properties file. If you are relying on the ISO-4217 symbol, it can be specified/overridden there.</p>\n"},{"tags":[],"owner":{"account_id":32455,"reputation":2312,"user_id":90111,"accept_rate":100,"display_name":"doomspork"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1242930954,"creation_date":1242930954,"answer_id":894409,"question_id":894223,"body_markdown":"For the mean time while you&#39;re waiting on Java:\r\n\r\n    System.out.println(curr.getSymbol(trLocale).substring(1));\r\n\r\n","title":"How do I override Currency symbols in Java?","body":"<p>For the mean time while you're waiting on Java:</p>\n\n<pre><code>System.out.println(curr.getSymbol(trLocale).substring(1));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19511,"reputation":203,"user_id":45793,"display_name":"benson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1242931548,"creation_date":1242931548,"answer_id":894454,"question_id":894223,"body_markdown":"Amusingly, according to Wikipedia, the currency code &quot;TRL&quot; is obsolete (the old code for Turkish lira).  I have not upgraded to the latest jdk, (on 1.5.0_10), but\r\n\r\n&lt;code&gt;\r\nCurrency curr = Currency.getInstance(&quot;TRL&quot;);&lt;br /&gt;\r\nLocale trLocale = new Locale(&quot;tr&quot;, &quot;TR&quot;);&lt;br /&gt;\r\nSystem.out.println(curr.getSymbol(trLocale));\r\n&lt;/code&gt;\r\n\r\nPrints:\r\n\r\nTL\r\n\r\nSo perhaps write something of your own to map existing codes to obsolete codes and adjust and test as needed.","title":"How do I override Currency symbols in Java?","body":"<p>Amusingly, according to Wikipedia, the currency code \"TRL\" is obsolete (the old code for Turkish lira).  I have not upgraded to the latest jdk, (on 1.5.0_10), but</p>\n\n<p><code>\nCurrency curr = Currency.getInstance(\"TRL\");<br />\nLocale trLocale = new Locale(\"tr\", \"TR\");<br />\nSystem.out.println(curr.getSymbol(trLocale));\n</code></p>\n\n<p>Prints:</p>\n\n<p>TL</p>\n\n<p>So perhaps write something of your own to map existing codes to obsolete codes and adjust and test as needed.</p>\n"},{"tags":[],"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1680914417,"creation_date":1274418179,"answer_id":2879685,"question_id":894223,"body_markdown":"Resurrection for further reference:\r\n\r\nYou can use DecimalFormatSymbols to change the Currency for formatting purposes:\r\n\r\n    Locale trLocale = new Locale(&quot;tr&quot;, &quot;TR&quot;);\r\n    DecimalFormat decimalFormat = (DecimalFormat) NumberFormat.getCurrencyInstance(trLocale);\r\n    DecimalFormatSymbols dfs = DecimalFormatSymbols.getInstance(trLocale);\r\n    dfs.setCurrencySymbol(&quot;TL&quot;);\r\n    decimalFormat.setDecimalFormatSymbols(dfs);\r\n\r\nOr you can appeal to SPI and plug-in your currency symbol (maybe by creating your own country variant like `new Locale(&quot;tr&quot;,&quot;TR&quot;,&quot;tl&quot;)`). In order to do that you should provide a implementation to `java.util.spi.CurrencyNameProvider` and register it with Java extension mechanism. Check out [LocaleServiceProvider Documentation][1].\r\n\r\n[1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/spi/LocaleServiceProvider.html","title":"How do I override Currency symbols in Java?","body":"<p>Resurrection for further reference:</p>\n<p>You can use DecimalFormatSymbols to change the Currency for formatting purposes:</p>\n<pre><code>Locale trLocale = new Locale(&quot;tr&quot;, &quot;TR&quot;);\nDecimalFormat decimalFormat = (DecimalFormat) NumberFormat.getCurrencyInstance(trLocale);\nDecimalFormatSymbols dfs = DecimalFormatSymbols.getInstance(trLocale);\ndfs.setCurrencySymbol(&quot;TL&quot;);\ndecimalFormat.setDecimalFormatSymbols(dfs);\n</code></pre>\n<p>Or you can appeal to SPI and plug-in your currency symbol (maybe by creating your own country variant like <code>new Locale(&quot;tr&quot;,&quot;TR&quot;,&quot;tl&quot;)</code>). In order to do that you should provide a implementation to <code>java.util.spi.CurrencyNameProvider</code> and register it with Java extension mechanism. Check out <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/spi/LocaleServiceProvider.html\" rel=\"nofollow noreferrer\">LocaleServiceProvider Documentation</a>.</p>\n"}],"owner":{"account_id":38539,"reputation":111,"user_id":110665,"display_name":"user110665"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5394,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":4,"score":11,"last_activity_date":1680914417,"creation_date":1242928527,"question_id":894223,"body_markdown":"I&#39;m trying to print prices in Turkish Liras (ISO 4217 currency code TRY) with Java.\r\n\r\nWhen I do\r\n\r\n    Currency curr = Currency.getInstance(&quot;TRY&quot;);\r\n    Locale trLocale = new Locale(&quot;tr&quot;, &quot;TR&quot;);\r\n    System.out.println(curr.getSymbol(trLocale));\r\n\r\n\r\nthe output is: &quot;YTL&quot;.\r\n\r\nHowever, the currency symbol for Turkish Lira has recently changed from &quot;YTL&quot; to &quot;TL&quot; (as can be seen on the Wikipedia page for Turkish Lira). Formatting with `NumberFormat` gives a similar result.\r\n\r\nI really don&#39;t want to write yet another Currency class, especially when Java has one built-in.\r\n\r\nIs there a way to override Java&#39;s default currency symbol for TRY to &quot;TL&quot;?","title":"How do I override Currency symbols in Java?","body":"<p>I'm trying to print prices in Turkish Liras (ISO 4217 currency code TRY) with Java.</p>\n\n<p>When I do</p>\n\n<pre><code>Currency curr = Currency.getInstance(\"TRY\");\nLocale trLocale = new Locale(\"tr\", \"TR\");\nSystem.out.println(curr.getSymbol(trLocale));\n</code></pre>\n\n<p>the output is: \"YTL\".</p>\n\n<p>However, the currency symbol for Turkish Lira has recently changed from \"YTL\" to \"TL\" (as can be seen on the Wikipedia page for Turkish Lira). Formatting with <code>NumberFormat</code> gives a similar result.</p>\n\n<p>I really don't want to write yet another Currency class, especially when Java has one built-in.</p>\n\n<p>Is there a way to override Java's default currency symbol for TRY to \"TL\"?</p>\n"},{"tags":["java","load-balancing","grpc","grpc-java"],"comments":[{"owner":{"account_id":5967476,"reputation":24635,"user_id":4690866,"display_name":"Eric Anderson"},"score":0,"creation_date":1608753964,"post_id":65425708,"comment_id":115677938,"body_markdown":"`defaultLoadBalancingPolicy()` is the correct way. I don&#39;t see anything obviously wrong. There&#39;s a slim chance your target string is being misinterpreted; you can try prefixing it with `dns:///` to guarantee the DnsNameResolver is used. We wouldn&#39;t expect any real load balancing for &quot;localhost&quot;, so I assume that you normally use `target`. How are you verifying if load balancing is working?","body":"<code>defaultLoadBalancingPolicy()</code> is the correct way. I don&#39;t see anything obviously wrong. There&#39;s a slim chance your target string is being misinterpreted; you can try prefixing it with <code>dns:&#47;&#47;&#47;</code> to guarantee the DnsNameResolver is used. We wouldn&#39;t expect any real load balancing for &quot;localhost&quot;, so I assume that you normally use <code>target</code>. How are you verifying if load balancing is working?"},{"owner":{"account_id":5325745,"reputation":1143,"user_id":4247860,"accept_rate":83,"display_name":"Nitish Bhardwaj"},"score":0,"creation_date":1608776086,"post_id":65425708,"comment_id":115683267,"body_markdown":"I have a java client which calls a NodeJs server. Since NodeJs is single threaded, I have multiple instances running of it using pm2. NodeJS is performing CPU intensive task. Therefore, a spike in one of the process can be easily noticed. But, all other servers are idle with 0% utilization.","body":"I have a java client which calls a NodeJs server. Since NodeJs is single threaded, I have multiple instances running of it using pm2. NodeJS is performing CPU intensive task. Therefore, a spike in one of the process can be easily noticed. But, all other servers are idle with 0% utilization."},{"owner":{"account_id":5325745,"reputation":1143,"user_id":4247860,"accept_rate":83,"display_name":"Nitish Bhardwaj"},"score":0,"creation_date":1608790359,"post_id":65425708,"comment_id":115685632,"body_markdown":"As a workaround, I have created multiple channels and stubs and I pick one of them randomly to connect to server. This gives a higher chance to hit replicas of server(different instances)","body":"As a workaround, I have created multiple channels and stubs and I pick one of them randomly to connect to server. This gives a higher chance to hit replicas of server(different instances)"},{"owner":{"account_id":14947494,"reputation":506,"user_id":10792320,"display_name":"San P"},"score":0,"creation_date":1608862212,"post_id":65425708,"comment_id":115703583,"body_markdown":"If your multiple channels/stubs code is working with the same target string then that means DNS is set up properly to return multiple entries for your target. In that case your `defaultLoadBalancingPolicy` should also work.","body":"If your multiple channels/stubs code is working with the same target string then that means DNS is set up properly to return multiple entries for your target. In that case your <code>defaultLoadBalancingPolicy</code> should also work."},{"owner":{"account_id":5325745,"reputation":1143,"user_id":4247860,"accept_rate":83,"display_name":"Nitish Bhardwaj"},"score":0,"creation_date":1609135702,"post_id":65425708,"comment_id":115754580,"body_markdown":"@San P Unfortunately, it didn&#39;t work. I created channel object in constructor and reusing it to avoid recreation of channel with `target` and `defaultLoadBalancingPolicy`  as it&#39;s costly. But, I create a new stub for every call.","body":"@San P Unfortunately, it didn&#39;t work. I created channel object in constructor and reusing it to avoid recreation of channel with <code>target</code> and <code>defaultLoadBalancingPolicy</code>  as it&#39;s costly. But, I create a new stub for every call."},{"owner":{"account_id":5967476,"reputation":24635,"user_id":4690866,"display_name":"Eric Anderson"},"score":0,"creation_date":1609173202,"post_id":65425708,"comment_id":115767367,"body_markdown":"@NitishBhardwaj, are you using passing the same target value (`forTarget(target)`) in both cases?","body":"@NitishBhardwaj, are you using passing the same target value (<code>forTarget(target)</code>) in both cases?"},{"owner":{"account_id":5325745,"reputation":1143,"user_id":4247860,"accept_rate":83,"display_name":"Nitish Bhardwaj"},"score":0,"creation_date":1609230232,"post_id":65425708,"comment_id":115781881,"body_markdown":"@EricAnderson Yes","body":"@EricAnderson Yes"},{"owner":{"account_id":5967476,"reputation":24635,"user_id":4690866,"display_name":"Eric Anderson"},"score":0,"creation_date":1609261295,"post_id":65425708,"comment_id":115794015,"body_markdown":"I don&#39;t see any behavior that would have changed between the two APIs. But I do see a potential issue with the test and how `round_robin` behaves. `round_robin` connects to all backends and round-robins over the _connected_ backends. Whichever backend connects first will receive any queued traffic at that point. In your test, you do multiple RPCs in parallel on an idle Channel; those will likely all be buffered and thus go to the same backend the moment it connects. Try doing the test RPCs serially and see if you still need multiple channels.","body":"I don&#39;t see any behavior that would have changed between the two APIs. But I do see a potential issue with the test and how <code>round_robin</code> behaves. <code>round_robin</code> connects to all backends and round-robins over the <i>connected</i> backends. Whichever backend connects first will receive any queued traffic at that point. In your test, you do multiple RPCs in parallel on an idle Channel; those will likely all be buffered and thus go to the same backend the moment it connects. Try doing the test RPCs serially and see if you still need multiple channels."},{"owner":{"account_id":5325745,"reputation":1143,"user_id":4247860,"accept_rate":83,"display_name":"Nitish Bhardwaj"},"score":0,"creation_date":1609310803,"post_id":65425708,"comment_id":115806869,"body_markdown":"@EricAnderson I will surely try it out and share the results. But, the only difference I could see is that the newer API doesn&#39;t have a way to specify multiple server IP and ports which could be used to balance the load at client side.","body":"@EricAnderson I will surely try it out and share the results. But, the only difference I could see is that the newer API doesn&#39;t have a way to specify multiple server IP and ports which could be used to balance the load at client side."},{"owner":{"account_id":5325745,"reputation":1143,"user_id":4247860,"accept_rate":83,"display_name":"Nitish Bhardwaj"},"score":0,"creation_date":1609394799,"post_id":65425708,"comment_id":115832189,"body_markdown":"Hi @EricAnderson I ran a test by using a single channel to make serial RPCs calls to servers. Turns out that just a single server is used to handle all requests (being 90% used) and all other server are idle (0% used). I noticed this by `pm2 monit`. I still believe that there should be someway in the newer API to specify different server hosts for client-side load balancing like it used to be in earlier versions.","body":"Hi @EricAnderson I ran a test by using a single channel to make serial RPCs calls to servers. Turns out that just a single server is used to handle all requests (being 90% used) and all other server are idle (0% used). I noticed this by <code>pm2 monit</code>. I still believe that there should be someway in the newer API to specify different server hosts for client-side load balancing like it used to be in earlier versions."},{"owner":{"account_id":5325745,"reputation":1143,"user_id":4247860,"accept_rate":83,"display_name":"Nitish Bhardwaj"},"score":0,"creation_date":1609406215,"post_id":65425708,"comment_id":115834875,"body_markdown":"Updated the question to narrow down the problem.","body":"Updated the question to narrow down the problem."}],"answers":[{"tags":[],"owner":{"account_id":5325745,"reputation":1143,"user_id":4247860,"accept_rate":83,"display_name":"Nitish Bhardwaj"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1609408257,"creation_date":1609408257,"answer_id":65519227,"question_id":65425708,"body_markdown":"After going through grpc-java internal implementation, I found that that the newer version accepts the `NameResolver.Factory` object in slightly different way. It&#39;s encapsulated to `NameResolverProvider` which is required to be registered to default `NameResolverRegistry`. Sample code to do this in newer version is shared below:\r\n\r\n    NameResolverProvider nameResolverFactory = new MultiAddressNameResolverFactory(\r\n                    new InetSocketAddress(&quot;localhost&quot;, 50000),\r\n                    new InetSocketAddress(&quot;localhost&quot;, 50001),\r\n                    new InetSocketAddress(&quot;localhost&quot;, 50002)\r\n            );\r\n\r\n    NameResolverRegistry nameResolverRegistry = NameResolverRegistry.getDefaultRegistry();\r\n    nameResolverRegistry.register(nameResolverFactory);\r\n    channel = ManagedChannelBuilder.forTarget(&quot;localhost&quot;)\r\n              .defaultLoadBalancingPolicy(&quot;round_robin&quot;)\r\n              .usePlaintext()\r\n              .build();\r\n\r\n\r\n    public class MultiAddressNameResolverFactory extends NameResolverProvider {\r\n        final List&lt;EquivalentAddressGroup&gt; addresses;\r\n    \r\n        MultiAddressNameResolverFactory(SocketAddress... addresses) {\r\n            this.addresses = Arrays.stream(addresses)\r\n                    .map(EquivalentAddressGroup::new)\r\n                    .collect(Collectors.toList());\r\n        }\r\n    \r\n        public NameResolver newNameResolver(URI notUsedUri, NameResolver.Args args) {\r\n            return new NameResolver() {\r\n                @Override\r\n                public String getServiceAuthority() {\r\n                    return &quot;fakeAuthority&quot;;\r\n                }\r\n                public void start(Listener2 listener) {\r\n                    listener.onResult(ResolutionResult.newBuilder().setAddresses(addresses).setAttributes(Attributes.EMPTY).build());\r\n                }\r\n                public void shutdown() {\r\n                }\r\n            };\r\n        }\r\n    \r\n        @Override\r\n        public String getDefaultScheme() {\r\n            return &quot;multiaddress&quot;;\r\n        }\r\n    \r\n        @Override\r\n        protected boolean isAvailable() {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        protected int priority() {\r\n            return 0;\r\n        }\r\n    }\r\n\r\n\r\nBy default, your custom implementation for NameResolver.Factory would be picked up by channel to connect to server. Based on the load balancing policy, a `SocketAddress` would be picked up to connect to server.\r\n","title":"Clientside load balancing for grpc v1.34.1, nameResolverFactory is deprecated","body":"<p>After going through grpc-java internal implementation, I found that that the newer version accepts the <code>NameResolver.Factory</code> object in slightly different way. It's encapsulated to <code>NameResolverProvider</code> which is required to be registered to default <code>NameResolverRegistry</code>. Sample code to do this in newer version is shared below:</p>\n<pre><code>NameResolverProvider nameResolverFactory = new MultiAddressNameResolverFactory(\n                new InetSocketAddress(&quot;localhost&quot;, 50000),\n                new InetSocketAddress(&quot;localhost&quot;, 50001),\n                new InetSocketAddress(&quot;localhost&quot;, 50002)\n        );\n\nNameResolverRegistry nameResolverRegistry = NameResolverRegistry.getDefaultRegistry();\nnameResolverRegistry.register(nameResolverFactory);\nchannel = ManagedChannelBuilder.forTarget(&quot;localhost&quot;)\n          .defaultLoadBalancingPolicy(&quot;round_robin&quot;)\n          .usePlaintext()\n          .build();\n\n\npublic class MultiAddressNameResolverFactory extends NameResolverProvider {\n    final List&lt;EquivalentAddressGroup&gt; addresses;\n\n    MultiAddressNameResolverFactory(SocketAddress... addresses) {\n        this.addresses = Arrays.stream(addresses)\n                .map(EquivalentAddressGroup::new)\n                .collect(Collectors.toList());\n    }\n\n    public NameResolver newNameResolver(URI notUsedUri, NameResolver.Args args) {\n        return new NameResolver() {\n            @Override\n            public String getServiceAuthority() {\n                return &quot;fakeAuthority&quot;;\n            }\n            public void start(Listener2 listener) {\n                listener.onResult(ResolutionResult.newBuilder().setAddresses(addresses).setAttributes(Attributes.EMPTY).build());\n            }\n            public void shutdown() {\n            }\n        };\n    }\n\n    @Override\n    public String getDefaultScheme() {\n        return &quot;multiaddress&quot;;\n    }\n\n    @Override\n    protected boolean isAvailable() {\n        return true;\n    }\n\n    @Override\n    protected int priority() {\n        return 0;\n    }\n}\n</code></pre>\n<p>By default, your custom implementation for NameResolver.Factory would be picked up by channel to connect to server. Based on the load balancing policy, a <code>SocketAddress</code> would be picked up to connect to server.</p>\n"},{"tags":[],"owner":{"account_id":24109083,"reputation":150,"user_id":18079889,"display_name":"Mohammed Fataka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680912504,"creation_date":1680912504,"answer_id":75962678,"question_id":65425708,"body_markdown":"just one thing to add to Nitish Bhardwaj answer, for me method \r\n```\r\nint priority()\r\n```\r\ndid not work with value 0, because io.grpc.internal.DnsNameResolverProvider has the value of 5 and io.grpc.netty.shaded.io.grpc.netty.UdsNameResolverProvider has the value of 3, which in my case was not setting my custom NameResolverProvider, I could fix it to be automatically picking up my custom NameResolverProvider by overriding method ```priority()``` to anything more than 5.\r\n\r\nfull code:\r\n\r\n```\r\npackage iam.mfa.grpc.client.resolvers;\r\n\r\nimport java.net.URI;\r\nimport java.util.List;\r\n\r\nimport io.grpc.Attributes;\r\nimport io.grpc.EquivalentAddressGroup;\r\nimport io.grpc.NameResolver;\r\nimport io.grpc.NameResolverProvider;\r\nimport lombok.RequiredArgsConstructor;\r\n\r\n/**\r\n * @author HAMMA FATAKA (mfataka@monetplus.cz)\r\n * @project gRPC\r\n * @date 07.04.2023 21:54\r\n */\r\n@RequiredArgsConstructor(staticName = &quot;of&quot;)\r\npublic class MultipleAddressNameResolverProvider extends NameResolverProvider {\r\n    private final List&lt;EquivalentAddressGroup&gt; addresses;\r\n\r\n    @Override\r\n    public NameResolver newNameResolver(URI targetUri, NameResolver.Args args) {\r\n        return new NameResolver() {\r\n            @Override\r\n            public String getServiceAuthority() {\r\n                return &quot;noAuthority&quot;;\r\n            }\r\n\r\n\r\n            @Override\r\n            public void start(Listener2 listener) {\r\n                listener.onResult(ResolutionResult.newBuilder().setAddresses(addresses).setAttributes(Attributes.EMPTY).build());\r\n            }\r\n\r\n            @Override\r\n            public void shutdown() {\r\n\r\n            }\r\n        };\r\n    }\r\n\r\n    @Override\r\n    public String getDefaultScheme() {\r\n        return &quot;multiTarget&quot;;\r\n    }\r\n\r\n    @Override\r\n    protected boolean isAvailable() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    protected int priority() {\r\n        return 6;\r\n    }\r\n}\r\n```\r\n\r\nClient config:\r\n\r\n\r\n```\r\n\r\npackage iam.mfa.grpc.client.config;\r\n\r\nimport java.net.InetSocketAddress;\r\nimport java.util.List;\r\n\r\nimport javax.annotation.PostConstruct;\r\n\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\nimport iam.mfa.grpc.client.resolvers.MultipleAddressNameResolver;\r\nimport io.grpc.EquivalentAddressGroup;\r\nimport io.grpc.ManagedChannel;\r\nimport io.grpc.NameResolverRegistry;\r\nimport io.grpc.internal.DnsNameResolver;\r\nimport io.grpc.netty.shaded.io.grpc.netty.NettyChannelBuilder;\r\n\r\n/**\r\n * @author HAMMA FATAKA (mfataka@monetplus.cz)\r\n * @project gRPC\r\n * @date 26.02.2023 16:03\r\n */\r\n@Configuration\r\npublic class ClientConfig {\r\n\r\n    @Value(&quot;#{&#39;${grpc.client.targets}&#39;.split(&#39;,&#39;)}&quot;)\r\n    private List&lt;String&gt; targets;\r\n\r\n\r\n    @PostConstruct\r\n    public void initNameResolver(){\r\n        final var addresses = targets.stream()\r\n                .map(target -&gt; {\r\n                    final var splitTarget = target.split(&quot;:&quot;);\r\n                    final var host = splitTarget[0];\r\n                    final var port = splitTarget[1];\r\n                    return new EquivalentAddressGroup(new InetSocketAddress(host, Integer.parseInt(port)));\r\n                })\r\n                .toList();\r\n        final var nameResolverFactory = MultipleAddressNameResolver.of(addresses);\r\n        NameResolverRegistry.getDefaultRegistry().register(nameResolverFactory);\r\n    }\r\n\r\n\r\n    @Bean\r\n    public ManagedChannel channel() {\r\n        return NettyChannelBuilder.forTarget(&quot;localhost&quot;)\r\n                .defaultLoadBalancingPolicy(&quot;round_robin&quot;)\r\n                .usePlaintext()\r\n                .build();\r\n    }\r\n\r\n}\r\n```\r\n\r\nhope this helps.\r\n","title":"Clientside load balancing for grpc v1.34.1, nameResolverFactory is deprecated","body":"<p>just one thing to add to Nitish Bhardwaj answer, for me method</p>\n<pre><code>int priority()\n</code></pre>\n<p>did not work with value 0, because io.grpc.internal.DnsNameResolverProvider has the value of 5 and io.grpc.netty.shaded.io.grpc.netty.UdsNameResolverProvider has the value of 3, which in my case was not setting my custom NameResolverProvider, I could fix it to be automatically picking up my custom NameResolverProvider by overriding method <code>priority()</code> to anything more than 5.</p>\n<p>full code:</p>\n<pre><code>package iam.mfa.grpc.client.resolvers;\n\nimport java.net.URI;\nimport java.util.List;\n\nimport io.grpc.Attributes;\nimport io.grpc.EquivalentAddressGroup;\nimport io.grpc.NameResolver;\nimport io.grpc.NameResolverProvider;\nimport lombok.RequiredArgsConstructor;\n\n/**\n * @author HAMMA FATAKA (mfataka@monetplus.cz)\n * @project gRPC\n * @date 07.04.2023 21:54\n */\n@RequiredArgsConstructor(staticName = &quot;of&quot;)\npublic class MultipleAddressNameResolverProvider extends NameResolverProvider {\n    private final List&lt;EquivalentAddressGroup&gt; addresses;\n\n    @Override\n    public NameResolver newNameResolver(URI targetUri, NameResolver.Args args) {\n        return new NameResolver() {\n            @Override\n            public String getServiceAuthority() {\n                return &quot;noAuthority&quot;;\n            }\n\n\n            @Override\n            public void start(Listener2 listener) {\n                listener.onResult(ResolutionResult.newBuilder().setAddresses(addresses).setAttributes(Attributes.EMPTY).build());\n            }\n\n            @Override\n            public void shutdown() {\n\n            }\n        };\n    }\n\n    @Override\n    public String getDefaultScheme() {\n        return &quot;multiTarget&quot;;\n    }\n\n    @Override\n    protected boolean isAvailable() {\n        return true;\n    }\n\n    @Override\n    protected int priority() {\n        return 6;\n    }\n}\n</code></pre>\n<p>Client config:</p>\n<pre><code>\npackage iam.mfa.grpc.client.config;\n\nimport java.net.InetSocketAddress;\nimport java.util.List;\n\nimport javax.annotation.PostConstruct;\n\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport iam.mfa.grpc.client.resolvers.MultipleAddressNameResolver;\nimport io.grpc.EquivalentAddressGroup;\nimport io.grpc.ManagedChannel;\nimport io.grpc.NameResolverRegistry;\nimport io.grpc.internal.DnsNameResolver;\nimport io.grpc.netty.shaded.io.grpc.netty.NettyChannelBuilder;\n\n/**\n * @author HAMMA FATAKA (mfataka@monetplus.cz)\n * @project gRPC\n * @date 26.02.2023 16:03\n */\n@Configuration\npublic class ClientConfig {\n\n    @Value(&quot;#{'${grpc.client.targets}'.split(',')}&quot;)\n    private List&lt;String&gt; targets;\n\n\n    @PostConstruct\n    public void initNameResolver(){\n        final var addresses = targets.stream()\n                .map(target -&gt; {\n                    final var splitTarget = target.split(&quot;:&quot;);\n                    final var host = splitTarget[0];\n                    final var port = splitTarget[1];\n                    return new EquivalentAddressGroup(new InetSocketAddress(host, Integer.parseInt(port)));\n                })\n                .toList();\n        final var nameResolverFactory = MultipleAddressNameResolver.of(addresses);\n        NameResolverRegistry.getDefaultRegistry().register(nameResolverFactory);\n    }\n\n\n    @Bean\n    public ManagedChannel channel() {\n        return NettyChannelBuilder.forTarget(&quot;localhost&quot;)\n                .defaultLoadBalancingPolicy(&quot;round_robin&quot;)\n                .usePlaintext()\n                .build();\n    }\n\n}\n</code></pre>\n<p>hope this helps.</p>\n"}],"owner":{"account_id":5325745,"reputation":1143,"user_id":4247860,"accept_rate":83,"display_name":"Nitish Bhardwaj"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2120,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":65519227,"answer_count":2,"score":5,"last_activity_date":1680912504,"creation_date":1608732796,"question_id":65425708,"body_markdown":"I am using grpc v1.34.1 with Java and it&#39;s hard to configure client-side load balancing since some of the methods are deprecated in this version. It was pretty straightforward to configure client-side load balancing in an earlier version by:\r\n```\r\nfinal ManagedChannel channel = ManagedChannelBuilder.forTarget(target)\r\n        .nameResolverFactory(new DnsNameResolverProvider())  // this is on by default\r\n        .loadBalancerFactory(RoundRobinLoadBalancerFactory.getInstance())\r\n        .usePlaintext(true)\r\n        .build();\r\n```\r\nOr by this https://sultanov.dev/blog/grpc-client-side-load-balancing/\r\n\r\nBut, there aren&#39;t any references available for a newer version that has deprecated `nameResolverFactory` and removed method `loadBalancerFactory`. \r\n```\r\nNameResolver.Factory nameResolverFactory = new MultiAddressNameResolverFactory(\r\n        new InetSocketAddress(&quot;localhost&quot;, 50000),\r\n        new InetSocketAddress(&quot;localhost&quot;, 50001),\r\n        new InetSocketAddress(&quot;localhost&quot;, 50002)\r\n);\r\n\r\nchannel = ManagedChannelBuilder.forTarget(&quot;localhost&quot;)\r\n        .nameResolverFactory(nameResolverFactory)\r\n        .defaultLoadBalancingPolicy(&quot;round_robin&quot;)\r\n        .usePlaintext()\r\n        .build();\r\n```\r\nClient-side load balancing works. But, the newer API has deprecated `nameResolverFactory`. \r\n\r\nCould anyone please point me towards the alternative of `nameResolverFactory` in the newer version for client-side load balancing with different servers (hosts and ports)?","title":"Clientside load balancing for grpc v1.34.1, nameResolverFactory is deprecated","body":"<p>I am using grpc v1.34.1 with Java and it's hard to configure client-side load balancing since some of the methods are deprecated in this version. It was pretty straightforward to configure client-side load balancing in an earlier version by:</p>\n<pre><code>final ManagedChannel channel = ManagedChannelBuilder.forTarget(target)\n        .nameResolverFactory(new DnsNameResolverProvider())  // this is on by default\n        .loadBalancerFactory(RoundRobinLoadBalancerFactory.getInstance())\n        .usePlaintext(true)\n        .build();\n</code></pre>\n<p>Or by this <a href=\"https://sultanov.dev/blog/grpc-client-side-load-balancing/\" rel=\"nofollow noreferrer\">https://sultanov.dev/blog/grpc-client-side-load-balancing/</a></p>\n<p>But, there aren't any references available for a newer version that has deprecated <code>nameResolverFactory</code> and removed method <code>loadBalancerFactory</code>.</p>\n<pre><code>NameResolver.Factory nameResolverFactory = new MultiAddressNameResolverFactory(\n        new InetSocketAddress(&quot;localhost&quot;, 50000),\n        new InetSocketAddress(&quot;localhost&quot;, 50001),\n        new InetSocketAddress(&quot;localhost&quot;, 50002)\n);\n\nchannel = ManagedChannelBuilder.forTarget(&quot;localhost&quot;)\n        .nameResolverFactory(nameResolverFactory)\n        .defaultLoadBalancingPolicy(&quot;round_robin&quot;)\n        .usePlaintext()\n        .build();\n</code></pre>\n<p>Client-side load balancing works. But, the newer API has deprecated <code>nameResolverFactory</code>.</p>\n<p>Could anyone please point me towards the alternative of <code>nameResolverFactory</code> in the newer version for client-side load balancing with different servers (hosts and ports)?</p>\n"},{"tags":["java","logging","jpackage"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1665053146,"post_id":73972443,"comment_id":130611375,"body_markdown":"Why do you say &#39;it did not run&#39;? Was there an error message?","body":"Why do you say &#39;it did not run&#39;? Was there an error message?"},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1665054952,"post_id":73972443,"comment_id":130612002,"body_markdown":"Most likely a duplicate - see how to view the java console of your generated EXE here: [In Java how do you debug exe created by JPackage](https://stackoverflow.com/questions/62606900/in-java-how-do-you-debug-exe-created-by-jpackage). Hopefully the console will give you enough information to determine the exception / whether you&#39;ve omitted jars from the packager.","body":"Most likely a duplicate - see how to view the java console of your generated EXE here: <a href=\"https://stackoverflow.com/questions/62606900/in-java-how-do-you-debug-exe-created-by-jpackage\">In Java how do you debug exe created by JPackage</a>. Hopefully the console will give you enough information to determine the exception / whether you&#39;ve omitted jars from the packager."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1665055330,"post_id":73972443,"comment_id":130612136,"body_markdown":"One possible problem when you start the program in C:\\Programmes\\TestHelloApp: the folder C:\\Programmes and its subfolders are normally only writeable when running with elevated privileges. You could try to use a filename like C:\\Users\\xyzUser\\documents\\log.txt","body":"One possible problem when you start the program in C:\\Programmes\\TestHelloApp: the folder C:\\Programmes and its subfolders are normally only writeable when running with elevated privileges. You could try to use a filename like C:\\Users\\xyzUser\\documents\\log.txt"},{"owner":{"account_id":26544069,"reputation":1,"user_id":20174385,"display_name":"Asterix37"},"score":0,"creation_date":1665293558,"post_id":73972443,"comment_id":130663557,"body_markdown":"I think that is exactly the problem. I do not have the right to write to the directory C:\\Program Files\\.","body":"I think that is exactly the problem. I do not have the right to write to the directory C:\\Program Files\\."}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665068833,"creation_date":1665059053,"answer_id":73973754,"question_id":73972443,"body_markdown":"Errors in the generated / installed executables can be seen if you enable the java console with [--win-console][1]. Hopefully the console will give you enough information to determine the exception / whether you&#39;ve omitted jars from the packager. \r\n\r\nOn Windows, a more appropriate location for log file that ensures it is writable would be:\r\n\r\n     Path logFile = Path.of(System.getenv(&quot;LOCALAPPDATA&quot;),&quot;yourappname&quot;, &quot;yourlogfilename.log&quot;);\r\n     // OR\r\n     Path logFile = Path.of(System.getProperty(&quot;java.io.tmpdir&quot;), &quot;yourlogfilename.log&quot;);\r\n\r\nDepending on your `logFile` choice above, you may need to create the directory structure before opening the file:\r\n\r\n     Files.createDirectories(logFile.getParent());\r\n\r\n  [1]: https://stackoverflow.com/questions/62606900/in-java-how-do-you-debug-exe-created-by-jpackage","title":"Packing a Java application with jpackage: Writing to a file does not work","body":"<p>Errors in the generated / installed executables can be seen if you enable the java console with <a href=\"https://stackoverflow.com/questions/62606900/in-java-how-do-you-debug-exe-created-by-jpackage\">--win-console</a>. Hopefully the console will give you enough information to determine the exception / whether you've omitted jars from the packager.</p>\n<p>On Windows, a more appropriate location for log file that ensures it is writable would be:</p>\n<pre><code> Path logFile = Path.of(System.getenv(&quot;LOCALAPPDATA&quot;),&quot;yourappname&quot;, &quot;yourlogfilename.log&quot;);\n // OR\n Path logFile = Path.of(System.getProperty(&quot;java.io.tmpdir&quot;), &quot;yourlogfilename.log&quot;);\n</code></pre>\n<p>Depending on your <code>logFile</code> choice above, you may need to create the directory structure before opening the file:</p>\n<pre><code> Files.createDirectories(logFile.getParent());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680909315,"creation_date":1680909315,"answer_id":75962535,"question_id":73972443,"body_markdown":"Try to place your logfile into a writable location.\r\n\r\n    File logfile = new File(System.getProperty(&quot;user.home&quot;) + &quot;/logging.txt&quot;);\r\n\r\nAlso, if you had used one of the available logging libraries (log4j, slf4j, java.util.logging, ...) you would have seen they do not make the application fail just for not being able to write log messages.\r\n\r\nAt least modify your code so the UI will show a message if it cannot initialize the Log.","title":"Packing a Java application with jpackage: Writing to a file does not work","body":"<p>Try to place your logfile into a writable location.</p>\n<pre><code>File logfile = new File(System.getProperty(&quot;user.home&quot;) + &quot;/logging.txt&quot;);\n</code></pre>\n<p>Also, if you had used one of the available logging libraries (log4j, slf4j, java.util.logging, ...) you would have seen they do not make the application fail just for not being able to write log messages.</p>\n<p>At least modify your code so the UI will show a message if it cannot initialize the Log.</p>\n"}],"owner":{"account_id":26544069,"reputation":1,"user_id":20174385,"display_name":"Asterix37"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":392,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680909315,"creation_date":1665052651,"question_id":73972443,"body_markdown":"In order to learn how to use jpackage, I have written a small sample application that contains a Swing UI and is supposed to write a log file (this log file only serves as an example for writing to a file that is in the project). First I generate a .jar file, then I package an .exe file with jpackage and then install by running the .exe file. But when I try to start the application, it does not run.\r\n\r\nI suspect that the problem is in the log file, as I have tried it without a log file and in this case the whole procedure works fine. I would be very happy to get ideas on how to fix this problem.\r\n\r\nSo here is the whole procedure in detail\r\n\r\n 1.  the java-source-codes:\r\n\r\n```\r\npublic class Main {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tLog.openLogFile();\r\n\t\t\r\n\t\ttry {\r\n\t\t\tnew MainFrame(&quot;Test-Frame&quot;);\r\n\t\t} catch (Exception e) {\r\n\t\t\tJOptionPane.showMessageDialog(null, e.getMessage());\r\n\t\t\tLog.error(&quot;Problem while launching the app&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n} \r\n```\r\n```\r\npublic class MainFrame extends JFrame{\r\n\t\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\tpublic MainFrame(String name) {\r\n\t\tsuper(name);\r\n\t\t\r\n\t\tLog.tracing(&quot;starting with MainFrame&quot;);\r\n\t\t\r\n\t\tthis.setSize(new Dimension(200,200));\r\n\t\t\r\n\t\ttry {\r\n\t\t\tURL url = getClass().getResource(&quot;starter.png&quot;);\r\n\t\t\tImageIcon img = new ImageIcon(url);\r\n\t\t\tthis.setIconImage(img.getImage());\r\n\t\t} catch (Exception e) {\r\n\t\t\tLog.error(&quot;couldn&#39;t find starter-icon&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\tJLabel label = new JLabel(&quot;Hello&quot;);\r\n\t\tthis.add(label);\r\n\t\t\r\n\t\tthis.setVisible(true);\r\n\t}\r\n}\r\n\r\n```\r\n```\r\npublic class Log {\r\n\r\n\tprivate static OutputStream os;\r\n\tprivate static PrintWriter writer;\r\n\r\n\t\r\n\tpublic static void warning(String text) {\r\n\t\tSystem.out.println(getTimestamp() + &quot; [w]   &quot; + text);\r\n\t\twriter.println(getTimestamp() + &quot; [w]   &quot; + text);\r\n\t}\r\n\r\n\tpublic static void error(String text) {\r\n\t\tSystem.out.println(getTimestamp() + &quot; [e]   &quot; + text);\r\n\t\twriter.println(getTimestamp() + &quot; [e]   &quot; + text);\r\n\t}\r\n\r\n\tpublic static void tracing(String text) {\r\n\t\tSystem.out.println(getTimestamp() + &quot; [t]   &quot; + text);\r\n\t\twriter.println(getTimestamp() + &quot; [t]   &quot; + text);\r\n\t}\r\n\r\n\tprivate static String getTimestamp() {\r\n\r\n\t\tString timeStamp = &quot;[&quot; + new SimpleDateFormat(&quot;yy_MM_dd HH:mm:ss&quot;).format(new Date()) + &quot;]&quot;;\r\n\r\n\t\treturn timeStamp;\r\n\t}\r\n\r\n\tpublic static void openLogFile() {\r\n\r\n\t\ttry {\r\n\r\n\t\t\tFile logfile = new File(&quot;logging.txt&quot;);\r\n\t\t\tlogfile.createNewFile();\r\n\r\n\t\t\tos = new FileOutputStream(logfile.getPath(), false);\r\n\t\t\twriter = new PrintWriter(new OutputStreamWriter(os, &quot;UTF-8&quot;));\r\n\r\n\t\t} catch (FileNotFoundException e1) {\r\n\t\t\te1.printStackTrace();\r\n\t\t} catch (IOException e2) {\r\n\t\t\te2.printStackTrace();\r\n\t\t}\r\n\r\n\t\tLog.tracing(&quot;The logfile is open.&quot;);\r\n\t}\r\n\r\n\tpublic static void closeLogFile() {\r\n\t\ttry {\r\n\t\t\tLog.tracing(&quot;The logfile is closed.&quot;);\r\n\t\t\twriter.close();\r\n\t\t\tos.close();\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n\r\n```\r\n2. Next, I generated a runnable-jar with eclispe, which ends up in a build-folder on my desktop.\r\n\r\n3. In the next step I use the following command within the windows prompt to pack the project:\r\n\r\n&gt; C:\\Users\\xyzUser\\Desktop\\BuildHello&gt; jpackage --name TestHelloApp --input \t\tC:\\Users\\xyzUser\\Desktop\\BuildHello\\build --main-jar testhello.jar\r\n\r\n   So I get the installation programme TestHelloApp-1.0.exe. \r\n\r\n4. Now I run this installer and the programme is installed under C:\\Programmes\\TestHelloApp.\r\n\r\n5. Lastly, I tried to start the programme but it did not run.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pzO70.png","title":"Packing a Java application with jpackage: Writing to a file does not work","body":"<p>In order to learn how to use jpackage, I have written a small sample application that contains a Swing UI and is supposed to write a log file (this log file only serves as an example for writing to a file that is in the project). First I generate a .jar file, then I package an .exe file with jpackage and then install by running the .exe file. But when I try to start the application, it does not run.</p>\n<p>I suspect that the problem is in the log file, as I have tried it without a log file and in this case the whole procedure works fine. I would be very happy to get ideas on how to fix this problem.</p>\n<p>So here is the whole procedure in detail</p>\n<ol>\n<li>the java-source-codes:</li>\n</ol>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n        \n        Log.openLogFile();\n        \n        try {\n            new MainFrame(&quot;Test-Frame&quot;);\n        } catch (Exception e) {\n            JOptionPane.showMessageDialog(null, e.getMessage());\n            Log.error(&quot;Problem while launching the app&quot;);\n            e.printStackTrace();\n        }\n    }\n} \n</code></pre>\n<pre><code>public class MainFrame extends JFrame{\n    \n    private static final long serialVersionUID = 1L;\n\n    public MainFrame(String name) {\n        super(name);\n        \n        Log.tracing(&quot;starting with MainFrame&quot;);\n        \n        this.setSize(new Dimension(200,200));\n        \n        try {\n            URL url = getClass().getResource(&quot;starter.png&quot;);\n            ImageIcon img = new ImageIcon(url);\n            this.setIconImage(img.getImage());\n        } catch (Exception e) {\n            Log.error(&quot;couldn't find starter-icon&quot;);\n            e.printStackTrace();\n        }\n        \n        JLabel label = new JLabel(&quot;Hello&quot;);\n        this.add(label);\n        \n        this.setVisible(true);\n    }\n}\n\n</code></pre>\n<pre><code>public class Log {\n\n    private static OutputStream os;\n    private static PrintWriter writer;\n\n    \n    public static void warning(String text) {\n        System.out.println(getTimestamp() + &quot; [w]   &quot; + text);\n        writer.println(getTimestamp() + &quot; [w]   &quot; + text);\n    }\n\n    public static void error(String text) {\n        System.out.println(getTimestamp() + &quot; [e]   &quot; + text);\n        writer.println(getTimestamp() + &quot; [e]   &quot; + text);\n    }\n\n    public static void tracing(String text) {\n        System.out.println(getTimestamp() + &quot; [t]   &quot; + text);\n        writer.println(getTimestamp() + &quot; [t]   &quot; + text);\n    }\n\n    private static String getTimestamp() {\n\n        String timeStamp = &quot;[&quot; + new SimpleDateFormat(&quot;yy_MM_dd HH:mm:ss&quot;).format(new Date()) + &quot;]&quot;;\n\n        return timeStamp;\n    }\n\n    public static void openLogFile() {\n\n        try {\n\n            File logfile = new File(&quot;logging.txt&quot;);\n            logfile.createNewFile();\n\n            os = new FileOutputStream(logfile.getPath(), false);\n            writer = new PrintWriter(new OutputStreamWriter(os, &quot;UTF-8&quot;));\n\n        } catch (FileNotFoundException e1) {\n            e1.printStackTrace();\n        } catch (IOException e2) {\n            e2.printStackTrace();\n        }\n\n        Log.tracing(&quot;The logfile is open.&quot;);\n    }\n\n    public static void closeLogFile() {\n        try {\n            Log.tracing(&quot;The logfile is closed.&quot;);\n            writer.close();\n            os.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n</code></pre>\n<ol start=\"2\">\n<li><p>Next, I generated a runnable-jar with eclispe, which ends up in a build-folder on my desktop.</p>\n</li>\n<li><p>In the next step I use the following command within the windows prompt to pack the project:</p>\n</li>\n</ol>\n<blockquote>\n<p>C:\\Users\\xyzUser\\Desktop\\BuildHello&gt; jpackage --name TestHelloApp --input         C:\\Users\\xyzUser\\Desktop\\BuildHello\\build --main-jar testhello.jar</p>\n</blockquote>\n<p>So I get the installation programme TestHelloApp-1.0.exe.</p>\n<ol start=\"4\">\n<li><p>Now I run this installer and the programme is installed under C:\\Programmes\\TestHelloApp.</p>\n</li>\n<li><p>Lastly, I tried to start the programme but it did not run.</p>\n</li>\n</ol>\n"},{"tags":["java","linux","installation","deployment","jpackage"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680908996,"creation_date":1680908996,"answer_id":75962521,"question_id":74183297,"body_markdown":"You can tell JPackage to add pre-install, post-install, pre-remove and post-remove scripts into the deb package. But on it&#39;s own it won&#39;t do this.\r\n\r\nThat means you have to provide the code, and here you can define whatever you need: additional directories, correct privileges, ...\r\n\r\nSee also [Override jpackage Resources][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/jpackage/override-jpackage-resources.html#GUID-1B718F8B-B68D-4D46-B1DB-003D7729AAB6","title":"jpackage install to directory with read/write/excecute access on linux?","body":"<p>You can tell JPackage to add pre-install, post-install, pre-remove and post-remove scripts into the deb package. But on it's own it won't do this.</p>\n<p>That means you have to provide the code, and here you can define whatever you need: additional directories, correct privileges, ...</p>\n<p>See also <a href=\"https://docs.oracle.com/en/java/javase/20/jpackage/override-jpackage-resources.html#GUID-1B718F8B-B68D-4D46-B1DB-003D7729AAB6\" rel=\"nofollow noreferrer\">Override jpackage Resources</a></p>\n"}],"owner":{"account_id":22089978,"reputation":142,"user_id":16348170,"display_name":"hidden_machine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680908996,"creation_date":1666624538,"question_id":74183297,"body_markdown":"On windows, you can achieve this by using `--win-per-user-install` and the msi installer installs to directories like `%LOCAL_APP_DATA%/&lt;app-name&gt;`. This directory has read write access for other programs by default. I want to use the equivalent for linux. So what is the equivalent for %LOCAL_APP_DATA%/&lt;app-name&gt; for linux, having read write permissions by default, and how do I tell jpackage to make the installer install there?\r\n \r\nI am packaging a jar file which manages the update of the application&#39;s files and installs them from the server. All this is done in the same directory where it is installed. I cannot change the code in this jar file, so any java code solutions can&#39;t be done. I need to achieve this using jpackage. ","title":"jpackage install to directory with read/write/excecute access on linux?","body":"<p>On windows, you can achieve this by using <code>--win-per-user-install</code> and the msi installer installs to directories like <code>%LOCAL_APP_DATA%/&lt;app-name&gt;</code>. This directory has read write access for other programs by default. I want to use the equivalent for linux. So what is the equivalent for %LOCAL_APP_DATA%/ for linux, having read write permissions by default, and how do I tell jpackage to make the installer install there?</p>\n<p>I am packaging a jar file which manages the update of the application's files and installs them from the server. All this is done in the same directory where it is installed. I cannot change the code in this jar file, so any java code solutions can't be done. I need to achieve this using jpackage.</p>\n"},{"tags":["java","arrays","sum"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1680905401,"post_id":75962140,"comment_id":133979378,"body_markdown":"`ans` could be a Set and any duplicate would be replaced (this would avoid the `ans.contains(temp)` call or at least make it O(1)), then collect to List for the return.  Also, possibly break instead of continue?  But not sure that would work based on how the loops are constructed.","body":"<code>ans</code> could be a Set and any duplicate would be replaced (this would avoid the <code>ans.contains(temp)</code> call or at least make it O(1)), then collect to List for the return.  Also, possibly break instead of continue?  But not sure that would work based on how the loops are constructed."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1680908672,"post_id":75962140,"comment_id":133979762,"body_markdown":"For reference, the Leetcode page for this problem is https://leetcode.com/problems/3sum/","body":"For reference, the Leetcode page for this problem is <a href=\"https://leetcode.com/problems/3sum/\" rel=\"nofollow noreferrer\">leetcode.com/problems/3sum</a>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1680968429,"post_id":75962140,"comment_id":133985342,"body_markdown":"There are similar questions on Stack Overflow.  https://stackoverflow.com/search?q=%5Bjava%5D+leetcode+3sum .","body":"There are similar questions on Stack Overflow.  <a href=\"https://stackoverflow.com/search?q=%5Bjava%5D+leetcode+3sum\">stackoverflow.com/search?q=%5Bjava%5D+leetcode+3sum</a> ."}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680908493,"creation_date":1680908126,"answer_id":75962453,"question_id":75962140,"body_markdown":"There is the problem (bug) that `List.contains` will not be true on finding an other List instance with same values. Storing instead a `Set&lt;Integer&gt;` would have worked. However then duplicate values are removed from the set.\r\n\r\nYour code could have been written as:\r\n\r\n    public List&lt;List&lt;Integer&gt;&gt; threeSum(int[] nums) {\r\n        Arrays.sort(nums);\r\n        List&lt;int[]&gt; answers = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; nums.length; i++) {\r\n            int left = i + 1;\r\n            int right = nums.length - 1;\r\n            while (left &lt; right) {\r\n                int sum = nums[i] + nums[left] + nums[right];\r\n                if (sum == 0) {\r\n                    int[] temp = {nums[i], nums[left], nums[right]};\r\n                    if (!contains(answers, temp)) {\r\n                        answers.add(temp);\r\n                    }\r\n                    left++;\r\n                } else if (sum &lt; 0) {\r\n                    left++;\r\n                } else {\r\n                    right--;\r\n                }\r\n            }\r\n        }\r\n        List&lt;List&lt;Integer&gt;&gt; ans = new ArrayList&lt;&gt;();\r\n        for (int[] oldAnswer : answers) {\r\n            ans.add(List.of(oldAnswer[0], oldAnswer[1], oldAnswer[2]));\r\n        }\r\n        return ans;\r\n    }\r\n    \r\n    private static boolean contains(List&lt;int[]&gt; answers, int[] answer) {\r\n        for (int[] oldAnswer : answers) {\r\n            if (Arrays.equals(answer, oldAnswer)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\nDeclarations can be close to the usage, has no influence on memory usage for variables or whatever.\r\nContinues are also a vane effort.\r\n\r\n-------------\r\nFor **optimisations** the first thing is data structures. Having a List of 3 Integers is not as good as an `int[3]` array. You can also use the values and hold them in variables for an entire loop.\r\n\r\nThe other optimisation is that having two values, the third sought value can be determined. In a sorted array a _binary search_ will yield that index (or `-index-1` for the insert position when not found). This binary search will tremendously speed up the algorithm as compared with moving an index in a loop toward a solution.\r\n\r\nAnd then there is the short cutting loops on out-of-bound candidates.\r\nPerhaps not realized 100% but sufficiently.\r\n\r\n    public List&lt;List&lt;Integer&gt;&gt; threeSum2(int[] nums) {\r\n        Arrays.sort(nums);\r\n        List&lt;int[]&gt; answers = new ArrayList&lt;&gt;();\r\n        for (int left = 0; left &lt; nums.length - 2; left++) {\r\n            int leftNum = nums[left];\r\n            for (int mid = left + 1; mid &lt; nums.length - 1; mid++) {\r\n                int midNum = nums[mid];\r\n                int soughtRightNum = -leftNum - midNum;\r\n                if (soughtRightNum &lt; midNum) {\r\n                    break;\r\n                }\r\n                int right = Arrays.binarySearch(nums, mid + 1, nums.length, soughtRightNum);\r\n                if (right &gt;= 0) { // Fpund.\r\n                    int[] ans = {left, mid, right};\r\n                    if (!contains(answers, ans)) {\r\n                        answers.add(ans);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        List&lt;List&lt;Integer&gt;&gt; ans = new ArrayList&lt;&gt;();\r\n        for (int[] oldAnswer : answers) {\r\n            ans.add(List.of(oldAnswer[0], oldAnswer[1], oldAnswer[2]));\r\n        }\r\n        return ans;\r\n    }\r\n\r\nContains check and adding best would be done together.\r\nIf there are really many answers like a thousand zeros, that would need some consideration too. That `Set` might be an idea.\r\n","title":"How to optimize ThreeSum (LeetCode) solution?","body":"<p>There is the problem (bug) that <code>List.contains</code> will not be true on finding an other List instance with same values. Storing instead a <code>Set&lt;Integer&gt;</code> would have worked. However then duplicate values are removed from the set.</p>\n<p>Your code could have been written as:</p>\n<pre><code>public List&lt;List&lt;Integer&gt;&gt; threeSum(int[] nums) {\n    Arrays.sort(nums);\n    List&lt;int[]&gt; answers = new ArrayList&lt;&gt;();\n    for (int i = 0; i &lt; nums.length; i++) {\n        int left = i + 1;\n        int right = nums.length - 1;\n        while (left &lt; right) {\n            int sum = nums[i] + nums[left] + nums[right];\n            if (sum == 0) {\n                int[] temp = {nums[i], nums[left], nums[right]};\n                if (!contains(answers, temp)) {\n                    answers.add(temp);\n                }\n                left++;\n            } else if (sum &lt; 0) {\n                left++;\n            } else {\n                right--;\n            }\n        }\n    }\n    List&lt;List&lt;Integer&gt;&gt; ans = new ArrayList&lt;&gt;();\n    for (int[] oldAnswer : answers) {\n        ans.add(List.of(oldAnswer[0], oldAnswer[1], oldAnswer[2]));\n    }\n    return ans;\n}\n\nprivate static boolean contains(List&lt;int[]&gt; answers, int[] answer) {\n    for (int[] oldAnswer : answers) {\n        if (Arrays.equals(answer, oldAnswer)) {\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n<p>Declarations can be close to the usage, has no influence on memory usage for variables or whatever.\nContinues are also a vane effort.</p>\n<hr />\n<p>For <strong>optimisations</strong> the first thing is data structures. Having a List of 3 Integers is not as good as an <code>int[3]</code> array. You can also use the values and hold them in variables for an entire loop.</p>\n<p>The other optimisation is that having two values, the third sought value can be determined. In a sorted array a <em>binary search</em> will yield that index (or <code>-index-1</code> for the insert position when not found). This binary search will tremendously speed up the algorithm as compared with moving an index in a loop toward a solution.</p>\n<p>And then there is the short cutting loops on out-of-bound candidates.\nPerhaps not realized 100% but sufficiently.</p>\n<pre><code>public List&lt;List&lt;Integer&gt;&gt; threeSum2(int[] nums) {\n    Arrays.sort(nums);\n    List&lt;int[]&gt; answers = new ArrayList&lt;&gt;();\n    for (int left = 0; left &lt; nums.length - 2; left++) {\n        int leftNum = nums[left];\n        for (int mid = left + 1; mid &lt; nums.length - 1; mid++) {\n            int midNum = nums[mid];\n            int soughtRightNum = -leftNum - midNum;\n            if (soughtRightNum &lt; midNum) {\n                break;\n            }\n            int right = Arrays.binarySearch(nums, mid + 1, nums.length, soughtRightNum);\n            if (right &gt;= 0) { // Fpund.\n                int[] ans = {left, mid, right};\n                if (!contains(answers, ans)) {\n                    answers.add(ans);\n                }\n            }\n        }\n    }\n    List&lt;List&lt;Integer&gt;&gt; ans = new ArrayList&lt;&gt;();\n    for (int[] oldAnswer : answers) {\n        ans.add(List.of(oldAnswer[0], oldAnswer[1], oldAnswer[2]));\n    }\n    return ans;\n}\n</code></pre>\n<p>Contains check and adding best would be done together.\nIf there are really many answers like a thousand zeros, that would need some consideration too. That <code>Set</code> might be an idea.</p>\n"}],"owner":{"account_id":27807040,"reputation":3,"user_id":21230211,"display_name":"sumptuousdevelopment"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":614,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75962453,"answer_count":1,"score":0,"last_activity_date":1680908493,"creation_date":1680903674,"question_id":75962140,"body_markdown":"Original Problem Statement:\r\n\r\nGiven an integer array nums, return all the triplets [nums[i], nums[j], nums[k]] such that i != j, i != k, and j != k, and nums[i] + nums[j] + nums[k] == 0.\r\n\r\nNotice that the solution set must not contain duplicate triplets.\r\n\r\nMy solution:\r\n\r\n```\r\nclass Solution {\r\n    public List&lt;List&lt;Integer&gt;&gt; threeSum(int[] nums) {\r\n        Arrays.sort(nums); \r\n        List&lt;List&lt;Integer&gt;&gt; ans = new ArrayList&lt;List&lt;Integer&gt;&gt;(); \r\n        ArrayList&lt;Integer&gt; temp; \r\n        int left, right, sum;\r\n        for(int i = 0; i &lt; nums.length; i++){\r\n            left = i+1; \r\n            right = nums.length - 1;\r\n            while(left &lt; right){\r\n                sum = nums[i] + nums[left] + nums[right]; \r\n                if(sum == 0){\r\n                    temp = new ArrayList&lt;Integer&gt;(); \r\n                    temp.add(nums[i]);\r\n                    temp.add(nums[left]);\r\n                    temp.add(nums[right]);\r\n                    if(ans.contains(temp) == false){\r\n                        ans.add(temp);\r\n                        left++;\r\n                        continue;\r\n                    }\r\n                    left++;\r\n                    continue;\r\n                }else if(sum&lt;0){\r\n                    left++; \r\n                    continue;\r\n                }else{\r\n                    right--; \r\n                    continue;\r\n                }\r\n            }\r\n        }\r\n        return ans; \r\n    }\r\n}\r\n```\r\n\r\nI got TLE on testcase 311/312 on LeetCode, which is a really large array with big values. I&#39;ve been looking for a way to optimize this, but can&#39;t seem to think of the answer. I would really appreciate any hint on what to do. Thank you. ","title":"How to optimize ThreeSum (LeetCode) solution?","body":"<p>Original Problem Statement:</p>\n<p>Given an integer array nums, return all the triplets [nums[i], nums[j], nums[k]] such that i != j, i != k, and j != k, and nums[i] + nums[j] + nums[k] == 0.</p>\n<p>Notice that the solution set must not contain duplicate triplets.</p>\n<p>My solution:</p>\n<pre><code>class Solution {\n    public List&lt;List&lt;Integer&gt;&gt; threeSum(int[] nums) {\n        Arrays.sort(nums); \n        List&lt;List&lt;Integer&gt;&gt; ans = new ArrayList&lt;List&lt;Integer&gt;&gt;(); \n        ArrayList&lt;Integer&gt; temp; \n        int left, right, sum;\n        for(int i = 0; i &lt; nums.length; i++){\n            left = i+1; \n            right = nums.length - 1;\n            while(left &lt; right){\n                sum = nums[i] + nums[left] + nums[right]; \n                if(sum == 0){\n                    temp = new ArrayList&lt;Integer&gt;(); \n                    temp.add(nums[i]);\n                    temp.add(nums[left]);\n                    temp.add(nums[right]);\n                    if(ans.contains(temp) == false){\n                        ans.add(temp);\n                        left++;\n                        continue;\n                    }\n                    left++;\n                    continue;\n                }else if(sum&lt;0){\n                    left++; \n                    continue;\n                }else{\n                    right--; \n                    continue;\n                }\n            }\n        }\n        return ans; \n    }\n}\n</code></pre>\n<p>I got TLE on testcase 311/312 on LeetCode, which is a really large array with big values. I've been looking for a way to optimize this, but can't seem to think of the answer. I would really appreciate any hint on what to do. Thank you.</p>\n"},{"tags":["java","android","list","sorting"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1645026253,"post_id":71144778,"comment_id":125762043,"body_markdown":"I think it is easier and more performant to separate future and past events, apply sort in each list accordingly, and then join them in a single list. You can also create you custom comparator, but then need to check if it is future or past event to return the correct sort order.","body":"I think it is easier and more performant to separate future and past events, apply sort in each list accordingly, and then join them in a single list. You can also create you custom comparator, but then need to check if it is future or past event to return the correct sort order."},{"owner":{"account_id":393070,"reputation":1341,"user_id":754730,"accept_rate":85,"display_name":"user754730"},"score":0,"creation_date":1645026411,"post_id":71144778,"comment_id":125762117,"body_markdown":"I can&#39;t change the data structure so seperating the events is not possible unfortunatelly. They need to be sorted after I received them.","body":"I can&#39;t change the data structure so seperating the events is not possible unfortunatelly. They need to be sorted after I received them."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1645625593,"post_id":71144778,"comment_id":125921930,"body_markdown":"@user754730 Shouldn&#39;t the correct ordering in your example be - event2 -&gt; event3 -&gt; event4 -&gt; event1? If now() is 2022-02-221200 then event2 ending at 2022-02-241800 is in future and should be ordered by start with events 3 and 4.","body":"@user754730 Shouldn&#39;t the correct ordering in your example be - event2 -&gt; event3 -&gt; event4 -&gt; event1? If now() is 2022-02-221200 then event2 ending at 2022-02-241800 is in future and should be ordered by start with events 3 and 4."}],"answers":[{"tags":[],"owner":{"account_id":15446017,"reputation":54,"user_id":11142946,"display_name":"Evgenii Mikhailov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645028133,"creation_date":1645028133,"answer_id":71145413,"question_id":71144778,"body_markdown":"Try this :\r\n\r\n        final long currentTime = System.currentTimeMillis();\r\n        list.sort((el1, el2) -&gt; {\r\n            if (el1.equals(el2)) {\r\n                return 0;\r\n            }\r\n            boolean isEl1Future = el1.getEnd().getTime() &gt; currentTime;\r\n            boolean isEl2Future = el2.getEnd().getTime() &gt; currentTime;\r\n            if (isEl1Future != isEl2Future) {\r\n                return isEl1Future ? -1 : 1;\r\n            }\r\n            if (Boolean.TRUE.equals(isEl1Future)) {\r\n                return el1.getStart().before(el2.getStart()) ? -1 : 1;\r\n            }\r\n            return el1.getEnd().after(el2.getEnd()) ? -1 : 1;\r\n        });","title":"Sort list by multiple fields and multiple criteria","body":"<p>Try this :</p>\n<pre><code>    final long currentTime = System.currentTimeMillis();\n    list.sort((el1, el2) -&gt; {\n        if (el1.equals(el2)) {\n            return 0;\n        }\n        boolean isEl1Future = el1.getEnd().getTime() &gt; currentTime;\n        boolean isEl2Future = el2.getEnd().getTime() &gt; currentTime;\n        if (isEl1Future != isEl2Future) {\n            return isEl1Future ? -1 : 1;\n        }\n        if (Boolean.TRUE.equals(isEl1Future)) {\n            return el1.getStart().before(el2.getStart()) ? -1 : 1;\n        }\n        return el1.getEnd().after(el2.getEnd()) ? -1 : 1;\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960281,"reputation":388,"user_id":9387519,"display_name":"Five"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645553481,"creation_date":1645485968,"answer_id":71214202,"question_id":71144778,"body_markdown":"There are multiple things to notice. First, one is the `.thenComparing(...)` method, which is only taking place if the previous comparing results are equal. You can read more about its behavior in the [docs][1].\r\n\r\nSecond, if I were you I wouldn&#39;t bother to overuse the stream if I could solve it with one simple comparator. Assuming that you are looking for a new instance of the `ProgrammData` list, I wrote my code in stream style, but the Comparator can be used with the `List`&#39;s `sort` method.    \r\n\r\n\r\n    private List&lt;ProgrammData&gt; sortedProgramms(List&lt;ProgrammData&gt; dataList) {\r\n        final LocalDateTime now = LocalDateTime.now();\r\n        return dataList.stream()\r\n                        .sorted((e1, e2) -&gt; {\r\n                            if (e1.getStart().isAfter(now) &amp;&amp; e2.getStart().isAfter(now)) {\r\n                                return e1.getStart().compareTo(e2.getStart());\r\n                            }\r\n                            return e2.getEnd().compareTo(e1.getEnd());\r\n                        })\r\n                        .collect(Collectors.toList());\r\n     }\r\n\r\nThe LocalDateTime().now() is using System.currentTimeMillis() inside, if there is not a more accurate given clock.\r\n  \r\n[1]: https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#thenComparing-java.util.Comparator-\r\n","title":"Sort list by multiple fields and multiple criteria","body":"<p>There are multiple things to notice. First, one is the <code>.thenComparing(...)</code> method, which is only taking place if the previous comparing results are equal. You can read more about its behavior in the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#thenComparing-java.util.Comparator-\" rel=\"nofollow noreferrer\">docs</a>.</p>\n<p>Second, if I were you I wouldn't bother to overuse the stream if I could solve it with one simple comparator. Assuming that you are looking for a new instance of the <code>ProgrammData</code> list, I wrote my code in stream style, but the Comparator can be used with the <code>List</code>'s <code>sort</code> method.</p>\n<pre><code>private List&lt;ProgrammData&gt; sortedProgramms(List&lt;ProgrammData&gt; dataList) {\n    final LocalDateTime now = LocalDateTime.now();\n    return dataList.stream()\n                    .sorted((e1, e2) -&gt; {\n                        if (e1.getStart().isAfter(now) &amp;&amp; e2.getStart().isAfter(now)) {\n                            return e1.getStart().compareTo(e2.getStart());\n                        }\n                        return e2.getEnd().compareTo(e1.getEnd());\n                    })\n                    .collect(Collectors.toList());\n }\n</code></pre>\n<p>The LocalDateTime().now() is using System.currentTimeMillis() inside, if there is not a more accurate given clock.</p>\n"},{"tags":[],"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645553534,"creation_date":1645553534,"answer_id":71226333,"question_id":71144778,"body_markdown":"You need to split past and future events in different lists and sort them accordingly.\r\nThe final step is to join both lists.\r\n\r\n      public static void main(String[] args) {\r\n        ProgrammData programmData1 = new ProgrammData(&quot;a&quot;, LocalDateTime.now().plusDays(1),\r\n            LocalDateTime.now().plusDays(1));\r\n        ProgrammData programmData2 = new ProgrammData(&quot;b&quot;, LocalDateTime.now().plusDays(2),\r\n            LocalDateTime.now().plusDays(2));\r\n        ProgrammData programmData3 = new ProgrammData(&quot;c&quot;, LocalDateTime.now().minusDays(1),\r\n            LocalDateTime.now().minusDays(1));\r\n        ProgrammData programmData4 = new ProgrammData(&quot;c&quot;, LocalDateTime.now().minusDays(2),\r\n            LocalDateTime.now().minusDays(2));\r\n    \r\n        List&lt;ProgrammData&gt; programmDataList = new ArrayList&lt;&gt;();\r\n    \r\n        programmDataList.add(programmData1);\r\n        programmDataList.add(programmData2);\r\n        programmDataList.add(programmData3);\r\n        programmDataList.add(programmData4);\r\n    \r\n        final List&lt;ProgrammData&gt; collect = programmDataList.stream().sorted(Comparator\r\n            .comparing(ProgrammData::end)).toList();\r\n    \r\n        LocalDateTime localDateTime = LocalDateTime.now();\r\n        final List&lt;ProgrammData&gt; pastEvents = collect.stream().filter(pd -&gt; pd.end.isBefore(localDateTime))\r\n            .sorted(Comparator\r\n                .comparing(ProgrammData::end).reversed()).toList();\r\n        final List&lt;ProgrammData&gt; futureEvents = collect.stream().filter(pd -&gt; pd.end.isAfter(localDateTime)).toList();\r\n    \r\n        List&lt;ProgrammData&gt; sortedListAsRequired = new ArrayList&lt;&gt;();\r\n    \r\n        sortedListAsRequired.addAll(futureEvents);\r\n        sortedListAsRequired.addAll(pastEvents);\r\n    \r\n        System.out.println(sortedListAsRequired);\r\n      }\r\n    \r\n      static record ProgrammData(String name, LocalDateTime start, LocalDateTime end) {\r\n    \r\n      }\r\n\r\nThe result is something like this:\r\n\r\n    [ProgrammData[name=a, start=2022-02-23T18:08:59.564300200, end=2022-02-23T18:08:59.568806900], ProgrammData[name=b, start=2022-02-24T18:08:59.568806900, end=2022-02-24T18:08:59.568806900], ProgrammData[name=c, start=2022-02-21T18:08:59.568806900, end=2022-02-21T18:08:59.568806900], ProgrammData[name=c, start=2022-02-20T18:08:59.568806900, end=2022-02-20T18:08:59.568806900]]","title":"Sort list by multiple fields and multiple criteria","body":"<p>You need to split past and future events in different lists and sort them accordingly.\nThe final step is to join both lists.</p>\n<pre><code>  public static void main(String[] args) {\n    ProgrammData programmData1 = new ProgrammData(&quot;a&quot;, LocalDateTime.now().plusDays(1),\n        LocalDateTime.now().plusDays(1));\n    ProgrammData programmData2 = new ProgrammData(&quot;b&quot;, LocalDateTime.now().plusDays(2),\n        LocalDateTime.now().plusDays(2));\n    ProgrammData programmData3 = new ProgrammData(&quot;c&quot;, LocalDateTime.now().minusDays(1),\n        LocalDateTime.now().minusDays(1));\n    ProgrammData programmData4 = new ProgrammData(&quot;c&quot;, LocalDateTime.now().minusDays(2),\n        LocalDateTime.now().minusDays(2));\n\n    List&lt;ProgrammData&gt; programmDataList = new ArrayList&lt;&gt;();\n\n    programmDataList.add(programmData1);\n    programmDataList.add(programmData2);\n    programmDataList.add(programmData3);\n    programmDataList.add(programmData4);\n\n    final List&lt;ProgrammData&gt; collect = programmDataList.stream().sorted(Comparator\n        .comparing(ProgrammData::end)).toList();\n\n    LocalDateTime localDateTime = LocalDateTime.now();\n    final List&lt;ProgrammData&gt; pastEvents = collect.stream().filter(pd -&gt; pd.end.isBefore(localDateTime))\n        .sorted(Comparator\n            .comparing(ProgrammData::end).reversed()).toList();\n    final List&lt;ProgrammData&gt; futureEvents = collect.stream().filter(pd -&gt; pd.end.isAfter(localDateTime)).toList();\n\n    List&lt;ProgrammData&gt; sortedListAsRequired = new ArrayList&lt;&gt;();\n\n    sortedListAsRequired.addAll(futureEvents);\n    sortedListAsRequired.addAll(pastEvents);\n\n    System.out.println(sortedListAsRequired);\n  }\n\n  static record ProgrammData(String name, LocalDateTime start, LocalDateTime end) {\n\n  }\n</code></pre>\n<p>The result is something like this:</p>\n<pre><code>[ProgrammData[name=a, start=2022-02-23T18:08:59.564300200, end=2022-02-23T18:08:59.568806900], ProgrammData[name=b, start=2022-02-24T18:08:59.568806900, end=2022-02-24T18:08:59.568806900], ProgrammData[name=c, start=2022-02-21T18:08:59.568806900, end=2022-02-21T18:08:59.568806900], ProgrammData[name=c, start=2022-02-20T18:08:59.568806900, end=2022-02-20T18:08:59.568806900]]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5418581,"reputation":347,"user_id":4313009,"display_name":"Alfredo Tost&#243;n"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645740617,"creation_date":1645636865,"answer_id":71241452,"question_id":71144778,"body_markdown":"Your example is confusing. As you state in the heading `event2` should be handled as if it&#39;s in the future, due it&#39;s end time (`2022-02-241800`) is after now (`2022-02-221200`), so the ordered elements shoud be\r\n```\r\nevent2\r\nevent3\r\nevent4\r\nevent1\r\n```\r\nIf that&#39;s correct, you could try something like the following:\r\n```\r\nevents.sort((e1, e2) -&gt; {\r\n    // -1: e1 and e2 in the past\r\n    //  0: e1 and e2 in distinct periods\r\n    // +1: e1 and e2 in the future\r\n    int period = Integer.signum(\r\n          Integer.signum(e1.getEnd().compareTo(now))\r\n        + Integer.signum(e2.getEnd().compareTo(now))\r\n    );\r\n    if (period == 0) {\r\n        return -e1.getEnd().compareTo(now);\r\n    }\r\n    // &gt; 0: e1 is after e2\r\n    // = 0: e1 is equal to e2\r\n    // &lt; 0: e1 is before e2\r\n    int comparation = e1.getComparingDateTime(now).compareTo(\r\n        e2.getComparingDateTime(now)\r\n    );\r\n    return period * comparation;\r\n});\r\n```\r\nGiven\r\n```\r\nclass ProgramData {\r\n    ...\r\n    public LocalDateTime getComparingDateTime(LocalDateTime reference) {\r\n        if (reference.isAfter(end)) {\r\n            // Past\r\n            return end;\r\n        }\r\n        // Future\r\n        return start;\r\n    }\r\n    ...\r\n}\r\n```","title":"Sort list by multiple fields and multiple criteria","body":"<p>Your example is confusing. As you state in the heading <code>event2</code> should be handled as if it's in the future, due it's end time (<code>2022-02-241800</code>) is after now (<code>2022-02-221200</code>), so the ordered elements shoud be</p>\n<pre><code>event2\nevent3\nevent4\nevent1\n</code></pre>\n<p>If that's correct, you could try something like the following:</p>\n<pre><code>events.sort((e1, e2) -&gt; {\n    // -1: e1 and e2 in the past\n    //  0: e1 and e2 in distinct periods\n    // +1: e1 and e2 in the future\n    int period = Integer.signum(\n          Integer.signum(e1.getEnd().compareTo(now))\n        + Integer.signum(e2.getEnd().compareTo(now))\n    );\n    if (period == 0) {\n        return -e1.getEnd().compareTo(now);\n    }\n    // &gt; 0: e1 is after e2\n    // = 0: e1 is equal to e2\n    // &lt; 0: e1 is before e2\n    int comparation = e1.getComparingDateTime(now).compareTo(\n        e2.getComparingDateTime(now)\n    );\n    return period * comparation;\n});\n</code></pre>\n<p>Given</p>\n<pre><code>class ProgramData {\n    ...\n    public LocalDateTime getComparingDateTime(LocalDateTime reference) {\n        if (reference.isAfter(end)) {\n            // Past\n            return end;\n        }\n        // Future\n        return start;\n    }\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645721128,"creation_date":1645721128,"answer_id":71255407,"question_id":71144778,"body_markdown":"Your example looks incorrect - event2 is in the future and should be sorted together with 3 and 4. Anyway, no matter what, you should split the list in 2, future and past events, and sort each accordingly. You could do it with a stream, or by splitting the list in two, pick whichever you like.\r\n\r\nFor setup:\r\n```\r\npublic class ProgrammData {\r\n\r\n    public static final DateTimeFormatter FORMATTER = DateTimeFormatter.ofPattern(&quot;yyyy-MM-ddHHmm&quot;);\r\n\r\n    private String name;\r\n    private LocalDateTime start;\r\n    private LocalDateTime end;\r\n\r\n    public ProgrammData(String name, String start, String end) {\r\n        this.name = name;\r\n        this.start = LocalDateTime.parse(start, FORMATTER);\r\n        this.end = LocalDateTime.parse(end, FORMATTER);\r\n    }\r\n\r\n    //getters and setters\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;ProgrammData{&quot; +\r\n                &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &quot;, start=&quot; + start +\r\n                &quot;, end=&quot; + end +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\n 1. Option 1 - streams\r\n```\r\npublic class ProgrammDataMain {\r\n\r\n    public static void main(String[] args) {\r\n        //setup\r\n        ProgrammData event1 = new ProgrammData(&quot;event1&quot;, &quot;2022-02-220100&quot;, &quot;2022-02-220300&quot;);\r\n        ProgrammData event2 = new ProgrammData(&quot;event2&quot;, &quot;2022-02-220200&quot;, &quot;2022-02-241800&quot;);\r\n        ProgrammData event3 = new ProgrammData(&quot;event3&quot;, &quot;2022-02-251200&quot;, &quot;2022-02-281500&quot;);\r\n        ProgrammData event4 = new ProgrammData(&quot;event4&quot;, &quot;2022-02-261600&quot;, &quot;2022-02-262100&quot;);\r\n        ProgrammData event5 = new ProgrammData(&quot;event5&quot;, &quot;2022-02-220600&quot;, &quot;2022-02-221159&quot;);\r\n\r\n        LocalDateTime now = LocalDateTime.parse(&quot;2022-02-221200&quot;, ProgrammData.FORMATTER);\r\n\r\n        List&lt;ProgrammData&gt; list = Arrays.asList(event1, event2, event3, event4, event5);\r\n\r\n        //sort\r\n        Comparator&lt;ProgrammData&gt; futureComparator = Comparator.comparing(ProgrammData::getStart);\r\n        Comparator&lt;ProgrammData&gt; pastComparator = Comparator.comparing(ProgrammData::getEnd).reversed();\r\n        list.stream().collect(Collectors.toMap(pd -&gt; pd.getEnd().isBefore(now),\r\n                pd -&gt; {\r\n                    Comparator&lt;ProgrammData&gt; comparator = pd.getEnd().isBefore(now) ? pastComparator : futureComparator;\r\n                    Set&lt;ProgrammData&gt; set = new TreeSet&lt;&gt;(comparator);\r\n                    set.add(pd);\r\n                    return set;\r\n                },\r\n                (s1, s2) -&gt; {\r\n                    s1.addAll(s2);\r\n                    return s1;\r\n                }))\r\n                .entrySet().stream()\r\n                .sorted(Map.Entry.comparingByKey())\r\n                .map(Map.Entry::getValue)\r\n                .collect(Collectors.toList())\r\n                .forEach(set -&gt; set.forEach(System.out::println));\r\n    }\r\n}\r\n```\r\nFirst we stream the list and collect into `Map&lt;Boolean, Set&lt;ProgrammData&gt;&gt;`, true key would collect past events, false - future. Then stream map entries, sort by key to make sure future events - false key, are before past, and get values(sets). Because values are in `TreeSet` with according comparator, they are already sorted.\r\n\r\n 2. Option 2 - split list in 2, sort each list, collect in single list again\r\n```\r\npublic class ProgrammDataMain {\r\n\r\n    public static void main(String[] args) {\r\n        //setup\r\n        ProgrammData event1 = new ProgrammData(&quot;event1&quot;, &quot;2022-02-220100&quot;, &quot;2022-02-220300&quot;);\r\n        ProgrammData event2 = new ProgrammData(&quot;event2&quot;, &quot;2022-02-220200&quot;, &quot;2022-02-241800&quot;);\r\n        ProgrammData event3 = new ProgrammData(&quot;event3&quot;, &quot;2022-02-251200&quot;, &quot;2022-02-281500&quot;);\r\n        ProgrammData event4 = new ProgrammData(&quot;event4&quot;, &quot;2022-02-261600&quot;, &quot;2022-02-262100&quot;);\r\n        ProgrammData event5 = new ProgrammData(&quot;event5&quot;, &quot;2022-02-220600&quot;, &quot;2022-02-221159&quot;);\r\n\r\n        LocalDateTime now = LocalDateTime.parse(&quot;2022-02-221200&quot;, ProgrammData.FORMATTER);\r\n\r\n        List&lt;ProgrammData&gt; list = Arrays.asList(event1, event2, event3, event4, event5);\r\n\r\n        //sort\r\n        Comparator&lt;ProgrammData&gt; futureComparator = Comparator.comparing(ProgrammData::getStart);\r\n        Comparator&lt;ProgrammData&gt; pastComparator = Comparator.comparing(ProgrammData::getEnd).reversed();\r\n        //sort\r\n        List&lt;ProgrammData&gt; futureList = new ArrayList&lt;&gt;();\r\n        List&lt;ProgrammData&gt; pastList = new ArrayList&lt;&gt;();\r\n        for (ProgrammData programmData : list) {\r\n            if (programmData.getEnd().isBefore(now)) {\r\n                pastList.add(programmData);\r\n            } else {\r\n                futureList.add(programmData);\r\n            }\r\n        }\r\n        futureList.sort(futureComparator);\r\n        pastList.sort(pastComparator);\r\n        List&lt;ProgrammData&gt; resultList = new ArrayList&lt;&gt;(futureList);\r\n        resultList.addAll(pastList);\r\n        resultList.forEach(System.out::println);\r\n    }\r\n}\r\n```\r\nBasically, make 2 new lists, one for future, other for past, sort each, add them in a new list. Or you could save them in the initial list.\r\n\r\nBoth options result in order - events 2, 3, 4(future, sorted by start ascending), events 5, 1(past, sorted by end descending).","title":"Sort list by multiple fields and multiple criteria","body":"<p>Your example looks incorrect - event2 is in the future and should be sorted together with 3 and 4. Anyway, no matter what, you should split the list in 2, future and past events, and sort each accordingly. You could do it with a stream, or by splitting the list in two, pick whichever you like.</p>\n<p>For setup:</p>\n<pre><code>public class ProgrammData {\n\n    public static final DateTimeFormatter FORMATTER = DateTimeFormatter.ofPattern(&quot;yyyy-MM-ddHHmm&quot;);\n\n    private String name;\n    private LocalDateTime start;\n    private LocalDateTime end;\n\n    public ProgrammData(String name, String start, String end) {\n        this.name = name;\n        this.start = LocalDateTime.parse(start, FORMATTER);\n        this.end = LocalDateTime.parse(end, FORMATTER);\n    }\n\n    //getters and setters\n\n    @Override\n    public String toString() {\n        return &quot;ProgrammData{&quot; +\n                &quot;name='&quot; + name + '\\'' +\n                &quot;, start=&quot; + start +\n                &quot;, end=&quot; + end +\n                '}';\n    }\n}\n</code></pre>\n<ol>\n<li>Option 1 - streams</li>\n</ol>\n<pre><code>public class ProgrammDataMain {\n\n    public static void main(String[] args) {\n        //setup\n        ProgrammData event1 = new ProgrammData(&quot;event1&quot;, &quot;2022-02-220100&quot;, &quot;2022-02-220300&quot;);\n        ProgrammData event2 = new ProgrammData(&quot;event2&quot;, &quot;2022-02-220200&quot;, &quot;2022-02-241800&quot;);\n        ProgrammData event3 = new ProgrammData(&quot;event3&quot;, &quot;2022-02-251200&quot;, &quot;2022-02-281500&quot;);\n        ProgrammData event4 = new ProgrammData(&quot;event4&quot;, &quot;2022-02-261600&quot;, &quot;2022-02-262100&quot;);\n        ProgrammData event5 = new ProgrammData(&quot;event5&quot;, &quot;2022-02-220600&quot;, &quot;2022-02-221159&quot;);\n\n        LocalDateTime now = LocalDateTime.parse(&quot;2022-02-221200&quot;, ProgrammData.FORMATTER);\n\n        List&lt;ProgrammData&gt; list = Arrays.asList(event1, event2, event3, event4, event5);\n\n        //sort\n        Comparator&lt;ProgrammData&gt; futureComparator = Comparator.comparing(ProgrammData::getStart);\n        Comparator&lt;ProgrammData&gt; pastComparator = Comparator.comparing(ProgrammData::getEnd).reversed();\n        list.stream().collect(Collectors.toMap(pd -&gt; pd.getEnd().isBefore(now),\n                pd -&gt; {\n                    Comparator&lt;ProgrammData&gt; comparator = pd.getEnd().isBefore(now) ? pastComparator : futureComparator;\n                    Set&lt;ProgrammData&gt; set = new TreeSet&lt;&gt;(comparator);\n                    set.add(pd);\n                    return set;\n                },\n                (s1, s2) -&gt; {\n                    s1.addAll(s2);\n                    return s1;\n                }))\n                .entrySet().stream()\n                .sorted(Map.Entry.comparingByKey())\n                .map(Map.Entry::getValue)\n                .collect(Collectors.toList())\n                .forEach(set -&gt; set.forEach(System.out::println));\n    }\n}\n</code></pre>\n<p>First we stream the list and collect into <code>Map&lt;Boolean, Set&lt;ProgrammData&gt;&gt;</code>, true key would collect past events, false - future. Then stream map entries, sort by key to make sure future events - false key, are before past, and get values(sets). Because values are in <code>TreeSet</code> with according comparator, they are already sorted.</p>\n<ol start=\"2\">\n<li>Option 2 - split list in 2, sort each list, collect in single list again</li>\n</ol>\n<pre><code>public class ProgrammDataMain {\n\n    public static void main(String[] args) {\n        //setup\n        ProgrammData event1 = new ProgrammData(&quot;event1&quot;, &quot;2022-02-220100&quot;, &quot;2022-02-220300&quot;);\n        ProgrammData event2 = new ProgrammData(&quot;event2&quot;, &quot;2022-02-220200&quot;, &quot;2022-02-241800&quot;);\n        ProgrammData event3 = new ProgrammData(&quot;event3&quot;, &quot;2022-02-251200&quot;, &quot;2022-02-281500&quot;);\n        ProgrammData event4 = new ProgrammData(&quot;event4&quot;, &quot;2022-02-261600&quot;, &quot;2022-02-262100&quot;);\n        ProgrammData event5 = new ProgrammData(&quot;event5&quot;, &quot;2022-02-220600&quot;, &quot;2022-02-221159&quot;);\n\n        LocalDateTime now = LocalDateTime.parse(&quot;2022-02-221200&quot;, ProgrammData.FORMATTER);\n\n        List&lt;ProgrammData&gt; list = Arrays.asList(event1, event2, event3, event4, event5);\n\n        //sort\n        Comparator&lt;ProgrammData&gt; futureComparator = Comparator.comparing(ProgrammData::getStart);\n        Comparator&lt;ProgrammData&gt; pastComparator = Comparator.comparing(ProgrammData::getEnd).reversed();\n        //sort\n        List&lt;ProgrammData&gt; futureList = new ArrayList&lt;&gt;();\n        List&lt;ProgrammData&gt; pastList = new ArrayList&lt;&gt;();\n        for (ProgrammData programmData : list) {\n            if (programmData.getEnd().isBefore(now)) {\n                pastList.add(programmData);\n            } else {\n                futureList.add(programmData);\n            }\n        }\n        futureList.sort(futureComparator);\n        pastList.sort(pastComparator);\n        List&lt;ProgrammData&gt; resultList = new ArrayList&lt;&gt;(futureList);\n        resultList.addAll(pastList);\n        resultList.forEach(System.out::println);\n    }\n}\n</code></pre>\n<p>Basically, make 2 new lists, one for future, other for past, sort each, add them in a new list. Or you could save them in the initial list.</p>\n<p>Both options result in order - events 2, 3, 4(future, sorted by start ascending), events 5, 1(past, sorted by end descending).</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680907986,"creation_date":1645824384,"answer_id":71271873,"question_id":71144778,"body_markdown":"As I understood this problem you rely on an *existing API* that expects a list of events and want them to be processed altogether as a **single list** ordered accordingly with their *start* and *end* date-time. And that is achievable.\r\n\r\nI assume that the time-related event data stored inside a `ProgrammData` object is of type `String`. If it&#39;s not the case, and these fields are for instance of legacy type `Date` then only a couple of small changes need to be done. \r\n\r\nMy idea is to *encapsulate all functionality* inside the **utility class** `TwoWaySorting` so that all *implementation details are abstracted away*. And in the client code only this line `TwoWaySorting.getSorted(programmData)` is needed to produce a *sorted list* of events.\r\n\r\nSince the responsibility of the `TwoWaySorting` class isn&#39;t related to the state all its behavior is marked with *static* modifier and its constructor is *private*. It has a **nested static class** `Element` which is a wrapper on top of the `ProgrammData` (if my assumption that `ProgrammData` is part of the existing IPA is correct then it must be used as is without any changes). So `Element`&#39;s class concern is to represent the time-related data of the wrapped `ProgrammData` object in a convenient form for **sorting**.\r\n\r\nThat is a brief overview of what the method `getSorted()` does:\r\n* it obtains an instance the **Comparator**, that is based on the *current time*;\r\n* creates the *stream* over the list of events and *wraps* each event with an instance of the `Element` class;\r\n* *sorts* the elements;\r\n* extracts *original events* and collects them into a *list*.\r\n\r\nTo wrap an event the static method [`LocalDateTime.parse()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDateTime.html#parse(java.lang.CharSequence,java.time.format.DateTimeFormatter)) which accept a `CharSequence` and an appropriate [formatter](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html) is used to parse string-based time-related data.\r\n\r\nThe centerpiece of `TwoWaySorting` class is a **comparator** returned by the `getComparator()` method, let&#39;s examine it closely. \r\n\r\nThe first part of it is responsible for dividing the elements into two groups based on `currentTime`:\r\n\r\n    Comparator.&lt;Element, Boolean&gt;comparing(element -&gt; element.getEnd().isBefore(currentTime))\r\n\r\nAs its name suggest the instance methed [`isBefore()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDateTime.html#isBefore(java.time.chrono.ChronoLocalDateTime)) of the `LocalDateTime` class returns **true** if *this date-time* object **is before** the *date-time object* passed as an argument.\r\n\r\nAccording to the natural sorting order of `boolean` values **false** comes before **true**. So for an invent that ends in the future `isBefore()` will yield **false**, which means that it&#39;ll appear at the *beginning* of the sorted list.\r\n\r\nThe second part of the **comparator** is responsible for ordering of the *past* and *future* events:\r\n\r\n    .thenComparingLong(element -&gt; element.getEnd().isAfter(currentTime) ?\r\n                                            element.getStart().toEpochSecond(ZoneOffset.of(&quot;+00:00&quot;)) :\r\n                                            element.getEnd().toEpochSecond(ZoneOffset.of(&quot;+00:00&quot;)) * -1);\r\n\r\n\r\n&gt; **Returns**:\r\n&gt;     a lexicographic-order comparator composed of **this** and then the **long sort key**\r\n\r\nMethod `thenComparingLong()` (*a quote from the [javadoc](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#thenComparingLong(java.util.function.ToLongFunction)) is shown above*) returns an **aggregated comparator** comprised of the *comparator* that was obtained previously (that separates *past* and *future* events) and a *comparator* thas is based on the `ToLongFunction` provided as an argument, which compares elements accordingly with `long` values extracted by that *function*.\r\n\r\nMethod `toEpochSecond()` extructs from a date-time object the number of *seconds* from the *epoch* as `long`.  \r\n\r\n*I assume that it is sufficient for this task because in the example time is described with a precision of **minutes**. `ZoneOffset` that is expected by `toEpochSecond()` as an argument, in this case, has no influence on the result, and offset for Greenwich can be substituted with any other valid offset.*\r\n\r\nSince *future* events have to be sorted in **ascending order** value produced by the `toEpochSecond()` is used as is, for *past* events that must be sorted in **descending order** it&#39;s multiplied by `-1` to reverse the result of the comparison.\r\n\r\n**Note:** \r\n* in order to combine these **two comparators** described above together we have to provide generic type information explicitly, like that: `&lt;Element,Boolean&gt;comparing()`. Without an explicit declaration, the compiler has not enough data to determine the **type** of the variable `element`, and inside both `comparing()` and `thenComparingLong()` its type will be inferred as **`Object`**. If we used *only one* of these static methods the **type** of the `element` will be correctly inferred by the compiler as `Element` based on the *return type* of the method `getComparator()`. But for our case, we need to provide this information explicitly.\r\n\r\n[*for information on the syntax of generic methods, take a look at this tutorial*](https://docs.oracle.com/javase/tutorial/java/generics/methods.html)\r\n\r\n`TwoWaySorting` **class**\r\n```\r\npublic class TwoWaySorting {\r\n    private static final DateTimeFormatter PD_FORMATTER\r\n            = DateTimeFormatter.ofPattern(&quot;yyyy-MM-ddHHmm&quot;);\r\n\r\n    private TwoWaySorting() {} // no way and no need to instantiate this class\r\n\r\n    private static Comparator&lt;Element&gt; getComparator() {\r\n        LocalDateTime currentTime = LocalDateTime.now();\r\n\r\n        return Comparator.&lt;Element, Boolean&gt;comparing(element -&gt; element.getEnd().isBefore(currentTime))\r\n                         .thenComparingLong(element -&gt; element.getEnd().isAfter(currentTime) ?\r\n                                            element.getStart().toEpochSecond(ZoneOffset.of(&quot;+00:00&quot;)) :\r\n                                            element.getEnd().toEpochSecond(ZoneOffset.of(&quot;+00:00&quot;)) * -1);\r\n    }\r\n\r\n    public static List&lt;ProgrammData&gt; getSorted(List&lt;ProgrammData&gt; programmData) {\r\n        Comparator&lt;Element&gt; twoWayComparator = getComparator();\r\n\r\n        return programmData.stream()\r\n                .map(TwoWaySorting::parseData)\r\n                .sorted(twoWayComparator)\r\n                .map(Element::getData)\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\n    private static Element parseData(ProgrammData data) {\r\n        return new Element(data,\r\n                           LocalDateTime.parse(data.getStart(), PD_FORMATTER),\r\n                           LocalDateTime.parse(data.getEnd(), PD_FORMATTER));\r\n    }\r\n\r\n    private static class Element {\r\n        private ProgrammData data;\r\n        private LocalDateTime start;\r\n        private LocalDateTime end;\r\n\r\n        // constructor and getters\r\n    }\r\n}\r\n```\r\nThis solution is meant to be *clean* and *reusable*. So in the `main()` apart from the *source list* there&#39;s only one line that obtains a sorted list and prints it on the console. \r\n\r\n**Note:** `getSorted()` doesn&#39;t cause mutation of the source but creates a new list.\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;ProgrammData&gt; programmData = // a list dummy ProgrammData objects\r\n                List.of(new ProgrammData(&quot;event1&quot;, &quot;2022-02-220100&quot;, &quot;2022-02-220300&quot;),\r\n                        new ProgrammData(&quot;event2&quot;, &quot;2022-02-220200&quot;, &quot;2022-02-241800&quot;),\r\n                        new ProgrammData(&quot;event3&quot;, &quot;2022-02-251200&quot;, &quot;2022-02-281500&quot;),\r\n                        new ProgrammData(&quot;event4&quot;, &quot;2022-02-261600&quot;, &quot;2022-02-262100&quot;));\r\n\r\n        TwoWaySorting.getSorted(programmData)\r\n                     .forEach(System.out::println);\r\n    }\r\n\r\n**Output** (identical with the provided example)\r\n```\r\nProgrammData [event3, 2022-02-251200, 2022-02-281500]\r\nProgrammData [event4, 2022-02-261600, 2022-02-262100]\r\nProgrammData [event2, 2022-02-220200, 2022-02-241800]\r\nProgrammData [event1, 2022-02-220100, 2022-02-220300]\r\n```","title":"Sort list by multiple fields and multiple criteria","body":"<p>As I understood this problem you rely on an <em>existing API</em> that expects a list of events and want them to be processed altogether as a <strong>single list</strong> ordered accordingly with their <em>start</em> and <em>end</em> date-time. And that is achievable.</p>\n<p>I assume that the time-related event data stored inside a <code>ProgrammData</code> object is of type <code>String</code>. If it's not the case, and these fields are for instance of legacy type <code>Date</code> then only a couple of small changes need to be done.</p>\n<p>My idea is to <em>encapsulate all functionality</em> inside the <strong>utility class</strong> <code>TwoWaySorting</code> so that all <em>implementation details are abstracted away</em>. And in the client code only this line <code>TwoWaySorting.getSorted(programmData)</code> is needed to produce a <em>sorted list</em> of events.</p>\n<p>Since the responsibility of the <code>TwoWaySorting</code> class isn't related to the state all its behavior is marked with <em>static</em> modifier and its constructor is <em>private</em>. It has a <strong>nested static class</strong> <code>Element</code> which is a wrapper on top of the <code>ProgrammData</code> (if my assumption that <code>ProgrammData</code> is part of the existing IPA is correct then it must be used as is without any changes). So <code>Element</code>'s class concern is to represent the time-related data of the wrapped <code>ProgrammData</code> object in a convenient form for <strong>sorting</strong>.</p>\n<p>That is a brief overview of what the method <code>getSorted()</code> does:</p>\n<ul>\n<li>it obtains an instance the <strong>Comparator</strong>, that is based on the <em>current time</em>;</li>\n<li>creates the <em>stream</em> over the list of events and <em>wraps</em> each event with an instance of the <code>Element</code> class;</li>\n<li><em>sorts</em> the elements;</li>\n<li>extracts <em>original events</em> and collects them into a <em>list</em>.</li>\n</ul>\n<p>To wrap an event the static method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDateTime.html#parse(java.lang.CharSequence,java.time.format.DateTimeFormatter)\" rel=\"nofollow noreferrer\"><code>LocalDateTime.parse()</code></a> which accept a <code>CharSequence</code> and an appropriate <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">formatter</a> is used to parse string-based time-related data.</p>\n<p>The centerpiece of <code>TwoWaySorting</code> class is a <strong>comparator</strong> returned by the <code>getComparator()</code> method, let's examine it closely.</p>\n<p>The first part of it is responsible for dividing the elements into two groups based on <code>currentTime</code>:</p>\n<pre><code>Comparator.&lt;Element, Boolean&gt;comparing(element -&gt; element.getEnd().isBefore(currentTime))\n</code></pre>\n<p>As its name suggest the instance methed <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDateTime.html#isBefore(java.time.chrono.ChronoLocalDateTime)\" rel=\"nofollow noreferrer\"><code>isBefore()</code></a> of the <code>LocalDateTime</code> class returns <strong>true</strong> if <em>this date-time</em> object <strong>is before</strong> the <em>date-time object</em> passed as an argument.</p>\n<p>According to the natural sorting order of <code>boolean</code> values <strong>false</strong> comes before <strong>true</strong>. So for an invent that ends in the future <code>isBefore()</code> will yield <strong>false</strong>, which means that it'll appear at the <em>beginning</em> of the sorted list.</p>\n<p>The second part of the <strong>comparator</strong> is responsible for ordering of the <em>past</em> and <em>future</em> events:</p>\n<pre><code>.thenComparingLong(element -&gt; element.getEnd().isAfter(currentTime) ?\n                                        element.getStart().toEpochSecond(ZoneOffset.of(&quot;+00:00&quot;)) :\n                                        element.getEnd().toEpochSecond(ZoneOffset.of(&quot;+00:00&quot;)) * -1);\n</code></pre>\n<blockquote>\n<p><strong>Returns</strong>:\na lexicographic-order comparator composed of <strong>this</strong> and then the <strong>long sort key</strong></p>\n</blockquote>\n<p>Method <code>thenComparingLong()</code> (<em>a quote from the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#thenComparingLong(java.util.function.ToLongFunction)\" rel=\"nofollow noreferrer\">javadoc</a> is shown above</em>) returns an <strong>aggregated comparator</strong> comprised of the <em>comparator</em> that was obtained previously (that separates <em>past</em> and <em>future</em> events) and a <em>comparator</em> thas is based on the <code>ToLongFunction</code> provided as an argument, which compares elements accordingly with <code>long</code> values extracted by that <em>function</em>.</p>\n<p>Method <code>toEpochSecond()</code> extructs from a date-time object the number of <em>seconds</em> from the <em>epoch</em> as <code>long</code>.</p>\n<p><em>I assume that it is sufficient for this task because in the example time is described with a precision of <strong>minutes</strong>. <code>ZoneOffset</code> that is expected by <code>toEpochSecond()</code> as an argument, in this case, has no influence on the result, and offset for Greenwich can be substituted with any other valid offset.</em></p>\n<p>Since <em>future</em> events have to be sorted in <strong>ascending order</strong> value produced by the <code>toEpochSecond()</code> is used as is, for <em>past</em> events that must be sorted in <strong>descending order</strong> it's multiplied by <code>-1</code> to reverse the result of the comparison.</p>\n<p><strong>Note:</strong></p>\n<ul>\n<li>in order to combine these <strong>two comparators</strong> described above together we have to provide generic type information explicitly, like that: <code>&lt;Element,Boolean&gt;comparing()</code>. Without an explicit declaration, the compiler has not enough data to determine the <strong>type</strong> of the variable <code>element</code>, and inside both <code>comparing()</code> and <code>thenComparingLong()</code> its type will be inferred as <strong><code>Object</code></strong>. If we used <em>only one</em> of these static methods the <strong>type</strong> of the <code>element</code> will be correctly inferred by the compiler as <code>Element</code> based on the <em>return type</em> of the method <code>getComparator()</code>. But for our case, we need to provide this information explicitly.</li>\n</ul>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/java/generics/methods.html\" rel=\"nofollow noreferrer\"><em>for information on the syntax of generic methods, take a look at this tutorial</em></a></p>\n<p><code>TwoWaySorting</code> <strong>class</strong></p>\n<pre><code>public class TwoWaySorting {\n    private static final DateTimeFormatter PD_FORMATTER\n            = DateTimeFormatter.ofPattern(&quot;yyyy-MM-ddHHmm&quot;);\n\n    private TwoWaySorting() {} // no way and no need to instantiate this class\n\n    private static Comparator&lt;Element&gt; getComparator() {\n        LocalDateTime currentTime = LocalDateTime.now();\n\n        return Comparator.&lt;Element, Boolean&gt;comparing(element -&gt; element.getEnd().isBefore(currentTime))\n                         .thenComparingLong(element -&gt; element.getEnd().isAfter(currentTime) ?\n                                            element.getStart().toEpochSecond(ZoneOffset.of(&quot;+00:00&quot;)) :\n                                            element.getEnd().toEpochSecond(ZoneOffset.of(&quot;+00:00&quot;)) * -1);\n    }\n\n    public static List&lt;ProgrammData&gt; getSorted(List&lt;ProgrammData&gt; programmData) {\n        Comparator&lt;Element&gt; twoWayComparator = getComparator();\n\n        return programmData.stream()\n                .map(TwoWaySorting::parseData)\n                .sorted(twoWayComparator)\n                .map(Element::getData)\n                .collect(Collectors.toList());\n    }\n\n    private static Element parseData(ProgrammData data) {\n        return new Element(data,\n                           LocalDateTime.parse(data.getStart(), PD_FORMATTER),\n                           LocalDateTime.parse(data.getEnd(), PD_FORMATTER));\n    }\n\n    private static class Element {\n        private ProgrammData data;\n        private LocalDateTime start;\n        private LocalDateTime end;\n\n        // constructor and getters\n    }\n}\n</code></pre>\n<p>This solution is meant to be <em>clean</em> and <em>reusable</em>. So in the <code>main()</code> apart from the <em>source list</em> there's only one line that obtains a sorted list and prints it on the console.</p>\n<p><strong>Note:</strong> <code>getSorted()</code> doesn't cause mutation of the source but creates a new list.</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;ProgrammData&gt; programmData = // a list dummy ProgrammData objects\n            List.of(new ProgrammData(&quot;event1&quot;, &quot;2022-02-220100&quot;, &quot;2022-02-220300&quot;),\n                    new ProgrammData(&quot;event2&quot;, &quot;2022-02-220200&quot;, &quot;2022-02-241800&quot;),\n                    new ProgrammData(&quot;event3&quot;, &quot;2022-02-251200&quot;, &quot;2022-02-281500&quot;),\n                    new ProgrammData(&quot;event4&quot;, &quot;2022-02-261600&quot;, &quot;2022-02-262100&quot;));\n\n    TwoWaySorting.getSorted(programmData)\n                 .forEach(System.out::println);\n}\n</code></pre>\n<p><strong>Output</strong> (identical with the provided example)</p>\n<pre><code>ProgrammData [event3, 2022-02-251200, 2022-02-281500]\nProgrammData [event4, 2022-02-261600, 2022-02-262100]\nProgrammData [event2, 2022-02-220200, 2022-02-241800]\nProgrammData [event1, 2022-02-220100, 2022-02-220300]\n</code></pre>\n"}],"owner":{"account_id":393070,"reputation":1341,"user_id":754730,"accept_rate":85,"display_name":"user754730"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":875,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71271873,"answer_count":6,"score":2,"last_activity_date":1680907986,"creation_date":1645025780,"question_id":71144778,"body_markdown":"I have the following code:\r\n\r\n    list.sort(Comparator\r\n        .comparing(ProgrammData::getEnd)\r\n        .thenComparing(ProgrammData::getStart).reversed());\r\n\r\nMy problem is that I want to have my list sorted by multiple things:\r\n1.) Group them into future events and past events (By checking if the System.currentMilliseconds() is larger than the end timestamp)\r\n2.) Sort future events by start ascending\r\n3.) Sort past events by end descending\r\n\r\nCan I do this with Java 8 Lambda or do I need another way of sorting the items?\r\n\r\nExample:\r\n\r\n    events could look like this:\r\n    name, start, end\r\n    event1, 2022-02-220100, 2022-02-220300 \r\n    event2, 2022-02-220200, 2022-02-241800\r\n    event3, 2022-02-251200, 2022-02-281500\r\n    event4, 2022-02-261600, 2022-02-262100\r\n    \r\n    if now() is 2022-02-221200 So the order should be:\r\n    \r\n    event3 (next item in the future)\r\n    event4 (2nd next item in the future)\r\n    event2 (Ended closer to now than event1)\r\n    event1 (Longest in the past)","title":"Sort list by multiple fields and multiple criteria","body":"<p>I have the following code:</p>\n<pre><code>list.sort(Comparator\n    .comparing(ProgrammData::getEnd)\n    .thenComparing(ProgrammData::getStart).reversed());\n</code></pre>\n<p>My problem is that I want to have my list sorted by multiple things:\n1.) Group them into future events and past events (By checking if the System.currentMilliseconds() is larger than the end timestamp)\n2.) Sort future events by start ascending\n3.) Sort past events by end descending</p>\n<p>Can I do this with Java 8 Lambda or do I need another way of sorting the items?</p>\n<p>Example:</p>\n<pre><code>events could look like this:\nname, start, end\nevent1, 2022-02-220100, 2022-02-220300 \nevent2, 2022-02-220200, 2022-02-241800\nevent3, 2022-02-251200, 2022-02-281500\nevent4, 2022-02-261600, 2022-02-262100\n\nif now() is 2022-02-221200 So the order should be:\n\nevent3 (next item in the future)\nevent4 (2nd next item in the future)\nevent2 (Ended closer to now than event1)\nevent1 (Longest in the past)\n</code></pre>\n"},{"tags":["java","spring-boot","debugging","gradle","multipartform-data"],"owner":{"account_id":28109607,"reputation":29,"user_id":21477593,"display_name":"Micu Bogdan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680907877,"creation_date":1680897348,"question_id":75961563,"body_markdown":"I&#39;ve been trying to pass MultipartFiles to my server for 2 days now with no success. My project uses the Springboot framework and gradle to build and I just can&#39;t find a solution for MessageBodyProviderNotFoundException:\r\n```\r\nCaused by: org.glassfish.jersey.message.internal.MessageBodyProviderNotFoundException: MessageBodyWriter not found for media type=multipart/form-data, type=class org.springframework.mock.web.MockMultipartFile, genericType=class org.springframework.mock.web.MockMultipartFile.\r\n    at org.glassfish.jersey.message.internal.WriterInterceptorExecutor$TerminalWriterInterceptor.aroundWriteTo(WriterInterceptorExecutor.java:224)\r\n    at org.glassfish.jersey.message.internal.WriterInterceptorExecutor.proceed(WriterInterceptorExecutor.java:139)\r\n    at org.glassfish.jersey.message.internal.MessageBodyFactory.writeTo(MessageBodyFactory.java:1116)\r\n    at org.glassfish.jersey.client.ClientRequest.doWriteEntity(ClientRequest.java:461)\r\n    at org.glassfish.jersey.client.ClientRequest.writeEntity(ClientRequest.java:443)\r\n    at org.glassfish.jersey.client.internal.HttpUrlConnector._apply(HttpUrlConnector.java:369)\r\nCaused by: org.glassfish.jersey.message.internal.MessageBodyProviderNotFoundException: MessageBodyWriter not found for media type=multipart/form-data, type=class org.springframework.mock.web.MockMultipartFile, genericType=class org.springframework.mock.web.MockMultipartFile.\r\n\r\n    at org.glassfish.jersey.client.internal.HttpUrlConnector.apply(HttpUrlConnector.java:267)\r\n    at org.glassfish.jersey.client.ClientRuntime.invoke(ClientRuntime.java:297)\r\n    at org.glassfish.jersey.client.JerseyInvocation.lambda$invoke$2(JerseyInvocation.java:687)\r\n    at org.glassfish.jersey.client.JerseyInvocation.call(JerseyInvocation.java:697)\r\n    at org.glassfish.jersey.client.JerseyInvocation.lambda$runInScope$3(JerseyInvocation.java:691)\r\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:292)\r\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:274)\r\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:205)\r\n    at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:390)\r\n    at org.glassfish.jersey.client.JerseyInvocation.runInScope(JerseyInvocation.java:691)\r\n    at org.glassfish.jersey.client.JerseyInvocation.invoke(JerseyInvocation.java:686)\r\n    at org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:461)\r\n    at org.glassfish.jersey.client.JerseyInvocation$Builder.post(JerseyInvocation.java:357)\r\n    at client.utils.ServerUtils.filePostRequest(ServerUtils.java:273)\r\n    at client.utils.ServerUtils.saveFile(ServerUtils.java:278)\r\n    at client.scenes.MediaPlayerCtrl.save(MediaPlayerCtrl.java:121)\r\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    ... 57 more\r\n```\r\nI followed the fix from [here][1] which meant overriding the default jersey config register method, but it didn&#39;t work. That is probably because the config change is in the Test side, although I&#39;m not sure. \r\n```\r\npublic class FileControllerTest extends JerseyTest {\r\n    @Override\r\n    protected void configureClient(ClientConfig conf) {\r\n        conf.register(MultiPartFeature.class);\r\n    }\r\n    @Test\r\n    public void testUploadFile() {assertEquals(1,1);}\r\n}\r\n```\r\nAfter getting that to work (a lot of depency version incompatibilities), I&#39;m still getting the same MessageBodyProviderNotFoundException. I also tried different conversion methods from the FIle object to MultipartFile, but, as you might&#39;ve guessed, that didn&#39;t work either. I&#39;ll put down below the method that&#39;s making the call to the server and the server controller: \r\n```\r\n    private &lt;T&gt; void filePostRequest(String path, Entity send, GenericType&lt;T&gt; retType) {\r\n        ClientBuilder.newClient(new ClientConfig())\r\n                .target(getServer()).path(path)\r\n                .request(&quot;multipart/form-data&quot;)\r\n                .post(send, retType);\r\n    }\r\n\r\n    public void saveFile(File file) throws IOException {\r\n        MultipartFile file1=convertFileToMultipartFile(file);\r\n        filePostRequest(&quot;secure/&quot; + store.accessStore().getUsername() + &quot;/file/add&quot;,\r\n                Entity.entity(file1, &quot;multipart/form-data&quot;), new GenericType&lt;&gt;(){});\r\n    }\r\n    public static MultipartFile convertFileToMultipartFile(File file) throws IOException {\r\n        return new MultipartFile() {\r\n            @Override\r\n            public String getName() {\r\n                return file.getName();\r\n            }\r\n            @Override\r\n            public String getOriginalFilename() {\r\n                return file.getName();\r\n            }\r\n            @Override\r\n            public String getContentType() {\r\n                String extension = file.getName().substring(file.getName().lastIndexOf(&quot;.&quot;) + 1).toLowerCase();\r\n                switch (extension) {\r\n                    case &quot;mp4&quot;:\r\n                        return &quot;video/mp4&quot;;\r\n                    case &quot;mp3&quot;:\r\n                        return &quot;audio/mpeg&quot;;\r\n                    case &quot;wav&quot;:\r\n                        return &quot;audio/wav&quot;;\r\n                    case &quot;jpg&quot;:\r\n                    case &quot;jpeg&quot;:\r\n                        return &quot;image/jpeg&quot;;\r\n                    case &quot;png&quot;:\r\n                        return &quot;image/png&quot;;\r\n                    default:\r\n                        return &quot;application/octet-stream&quot;;\r\n                }\r\n            }\r\n            @Override\r\n            public boolean isEmpty() {\r\n                return !file.exists() || file.length() == 0;\r\n            }\r\n            @Override\r\n            public long getSize() {\r\n                return file.length();\r\n            }\r\n            @Override\r\n            public byte[] getBytes() throws IOException {\r\n                try (InputStream inputStream = new FileInputStream(file)) {\r\n                    return inputStream.readAllBytes();\r\n                }\r\n            }\r\n            @Override\r\n            public InputStream getInputStream() throws IOException {\r\n                return new FileInputStream(file);\r\n            }\r\n            @Override\r\n            public void transferTo(File file) throws IOException, IllegalStateException {\r\n                throw new UnsupportedOperationException();\r\n            }\r\n        };\r\n```\r\n```\r\n@SpringBootApplication\r\n@RestController\r\n@RequestMapping(value = {&quot;/secure/{username}/{password}/file&quot;, &quot;/secure/{username}/file&quot;})\r\npublic class FileController {\r\n    @Autowired\r\n    private StorageService service;\r\n    @PostMapping(&quot;/add&quot;)\r\n    public ResponseEntity&lt;?&gt; uploadFile(@RequestParam(&quot;file&quot;) MultipartFile file) throws IOException {\r\n        String uploadFile = service.uploadFile(file);\r\n        return ResponseEntity.status(HttpStatus.OK)\r\n                .body(uploadFile);\r\n    }\r\n```\r\n\r\n  [1]: https://stackoverflow.com/questions/19668426/how-to-resolve-messagebodywriter-not-found-for-media-type-multipart-form-data-er","title":"How to fix MessageBodyProviderNotFoundException when passing a MultipartFile to the server","body":"<p>I've been trying to pass MultipartFiles to my server for 2 days now with no success. My project uses the Springboot framework and gradle to build and I just can't find a solution for MessageBodyProviderNotFoundException:</p>\n<pre><code>Caused by: org.glassfish.jersey.message.internal.MessageBodyProviderNotFoundException: MessageBodyWriter not found for media type=multipart/form-data, type=class org.springframework.mock.web.MockMultipartFile, genericType=class org.springframework.mock.web.MockMultipartFile.\n    at org.glassfish.jersey.message.internal.WriterInterceptorExecutor$TerminalWriterInterceptor.aroundWriteTo(WriterInterceptorExecutor.java:224)\n    at org.glassfish.jersey.message.internal.WriterInterceptorExecutor.proceed(WriterInterceptorExecutor.java:139)\n    at org.glassfish.jersey.message.internal.MessageBodyFactory.writeTo(MessageBodyFactory.java:1116)\n    at org.glassfish.jersey.client.ClientRequest.doWriteEntity(ClientRequest.java:461)\n    at org.glassfish.jersey.client.ClientRequest.writeEntity(ClientRequest.java:443)\n    at org.glassfish.jersey.client.internal.HttpUrlConnector._apply(HttpUrlConnector.java:369)\nCaused by: org.glassfish.jersey.message.internal.MessageBodyProviderNotFoundException: MessageBodyWriter not found for media type=multipart/form-data, type=class org.springframework.mock.web.MockMultipartFile, genericType=class org.springframework.mock.web.MockMultipartFile.\n\n    at org.glassfish.jersey.client.internal.HttpUrlConnector.apply(HttpUrlConnector.java:267)\n    at org.glassfish.jersey.client.ClientRuntime.invoke(ClientRuntime.java:297)\n    at org.glassfish.jersey.client.JerseyInvocation.lambda$invoke$2(JerseyInvocation.java:687)\n    at org.glassfish.jersey.client.JerseyInvocation.call(JerseyInvocation.java:697)\n    at org.glassfish.jersey.client.JerseyInvocation.lambda$runInScope$3(JerseyInvocation.java:691)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:292)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:274)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:205)\n    at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:390)\n    at org.glassfish.jersey.client.JerseyInvocation.runInScope(JerseyInvocation.java:691)\n    at org.glassfish.jersey.client.JerseyInvocation.invoke(JerseyInvocation.java:686)\n    at org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:461)\n    at org.glassfish.jersey.client.JerseyInvocation$Builder.post(JerseyInvocation.java:357)\n    at client.utils.ServerUtils.filePostRequest(ServerUtils.java:273)\n    at client.utils.ServerUtils.saveFile(ServerUtils.java:278)\n    at client.scenes.MediaPlayerCtrl.save(MediaPlayerCtrl.java:121)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    ... 57 more\n</code></pre>\n<p>I followed the fix from <a href=\"https://stackoverflow.com/questions/19668426/how-to-resolve-messagebodywriter-not-found-for-media-type-multipart-form-data-er\">here</a> which meant overriding the default jersey config register method, but it didn't work. That is probably because the config change is in the Test side, although I'm not sure.</p>\n<pre><code>public class FileControllerTest extends JerseyTest {\n    @Override\n    protected void configureClient(ClientConfig conf) {\n        conf.register(MultiPartFeature.class);\n    }\n    @Test\n    public void testUploadFile() {assertEquals(1,1);}\n}\n</code></pre>\n<p>After getting that to work (a lot of depency version incompatibilities), I'm still getting the same MessageBodyProviderNotFoundException. I also tried different conversion methods from the FIle object to MultipartFile, but, as you might've guessed, that didn't work either. I'll put down below the method that's making the call to the server and the server controller:</p>\n<pre><code>    private &lt;T&gt; void filePostRequest(String path, Entity send, GenericType&lt;T&gt; retType) {\n        ClientBuilder.newClient(new ClientConfig())\n                .target(getServer()).path(path)\n                .request(&quot;multipart/form-data&quot;)\n                .post(send, retType);\n    }\n\n    public void saveFile(File file) throws IOException {\n        MultipartFile file1=convertFileToMultipartFile(file);\n        filePostRequest(&quot;secure/&quot; + store.accessStore().getUsername() + &quot;/file/add&quot;,\n                Entity.entity(file1, &quot;multipart/form-data&quot;), new GenericType&lt;&gt;(){});\n    }\n    public static MultipartFile convertFileToMultipartFile(File file) throws IOException {\n        return new MultipartFile() {\n            @Override\n            public String getName() {\n                return file.getName();\n            }\n            @Override\n            public String getOriginalFilename() {\n                return file.getName();\n            }\n            @Override\n            public String getContentType() {\n                String extension = file.getName().substring(file.getName().lastIndexOf(&quot;.&quot;) + 1).toLowerCase();\n                switch (extension) {\n                    case &quot;mp4&quot;:\n                        return &quot;video/mp4&quot;;\n                    case &quot;mp3&quot;:\n                        return &quot;audio/mpeg&quot;;\n                    case &quot;wav&quot;:\n                        return &quot;audio/wav&quot;;\n                    case &quot;jpg&quot;:\n                    case &quot;jpeg&quot;:\n                        return &quot;image/jpeg&quot;;\n                    case &quot;png&quot;:\n                        return &quot;image/png&quot;;\n                    default:\n                        return &quot;application/octet-stream&quot;;\n                }\n            }\n            @Override\n            public boolean isEmpty() {\n                return !file.exists() || file.length() == 0;\n            }\n            @Override\n            public long getSize() {\n                return file.length();\n            }\n            @Override\n            public byte[] getBytes() throws IOException {\n                try (InputStream inputStream = new FileInputStream(file)) {\n                    return inputStream.readAllBytes();\n                }\n            }\n            @Override\n            public InputStream getInputStream() throws IOException {\n                return new FileInputStream(file);\n            }\n            @Override\n            public void transferTo(File file) throws IOException, IllegalStateException {\n                throw new UnsupportedOperationException();\n            }\n        };\n</code></pre>\n<pre><code>@SpringBootApplication\n@RestController\n@RequestMapping(value = {&quot;/secure/{username}/{password}/file&quot;, &quot;/secure/{username}/file&quot;})\npublic class FileController {\n    @Autowired\n    private StorageService service;\n    @PostMapping(&quot;/add&quot;)\n    public ResponseEntity&lt;?&gt; uploadFile(@RequestParam(&quot;file&quot;) MultipartFile file) throws IOException {\n        String uploadFile = service.uploadFile(file);\n        return ResponseEntity.status(HttpStatus.OK)\n                .body(uploadFile);\n    }\n</code></pre>\n"},{"tags":["javascript","java","android","android-webview"],"owner":{"account_id":28245129,"reputation":21,"user_id":21592301,"display_name":"crazywolf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680907795,"creation_date":1680907713,"question_id":75962427,"body_markdown":"I have started building my own app to connect to my home media server with jellyfin.\r\n\r\nThe basic goal of this app is to allow the automation of enabling disabling VPNs and handling the IP&#39;s to the server.\r\nI got most of the things to work very well, even though it&#39;s my first android app.\r\nBut if I turn the screen of my device off, or start another application on top the audio/video stops playing.\r\nIs there any simple way to implement this?\r\nMaybe if it is &quot;easy&quot; something like in Chrome itself would also be very nice: [Popup on Chrome](https://i.stack.imgur.com/EcjF9.jpg)\r\n\r\nAs I read through the questions already asked about this topic i think i anyhow need to run the app as service, but have failed to get it to work.\r\n\r\n[webview audio play on background](https://stackoverflow.com/questions/29221217/webview-audio-play-on-background)\r\n\r\nMainActivity:\r\n\r\n```\r\npackage com.example.jellyfin_beta;\r\n \r\nimport [needed stuff]\r\npublic class MainActivity extends AppCompatActivity {\r\n \r\n        // private static final String HOME_WIFI_SSID = &quot;&quot;; \r\n    private static final String HOME_WIFI_IP_PREFIX = &quot;192.168.1.&quot;; \r\n    private static final String SERVER_IP_HOME_WIFI = &quot;http://192.168.1.111:8096/&quot;; \r\n    private static final String SERVER_IP_VPN = &quot;http://:8096/&quot;; \r\n \r\n    private WebView webView;\r\n    private View decorView;\r\n \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        webView = findViewById(R.id.webview);\r\n        webView.setWebViewClient(new WebViewClient());\r\n        WebSettings webSettings = webView.getSettings();\r\n        webView.getSettings().setJavaScriptEnabled(true);\r\n        webView.getSettings().setDomStorageEnabled(true);\r\n        checkNetworkAndLoadURL();\r\n \r\n        decorView = getWindow().getDecorView();\r\n        decorView.setOnSystemUiVisibilityChangeListener(new View.OnSystemUiVisibilityChangeListener() {\r\n            @Override\r\n            public void onSystemUiVisibilityChange(int visibility) {\r\n                if (visibility == 0)\r\n                    decorView.setSystemUiVisibility(hideSystemBars());\r\n            }\r\n        });\r\n    }\r\n        @Override\r\n    public void onConfigurationChanged(Configuration newConfig) {\r\n        super.onConfigurationChanged(newConfig);\r\n    }\r\n        @Override\r\n    public void onWindowFocusChanged(boolean hasFocus) {\r\n        super.onWindowFocusChanged(hasFocus);\r\n        if (hasFocus) {\r\n            decorView.setSystemUiVisibility(hideSystemBars());\r\n        }\r\n    }\r\n    private int hideSystemBars() {\r\n        return View.SYSTEM_UI_FLAG_LAYOUT_STABLE\r\n                | View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY\r\n                | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\r\n                | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\r\n                | View.SYSTEM_UI_FLAG_FULLSCREEN\r\n                | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION;\r\n    }\r\n    private class MywebClient extends WebViewClient {\r\n        @Override\r\n        public void onPageStarted(WebView view, String url, Bitmap favicon) {\r\n            super.onPageStarted(view, url, favicon);\r\n        }\r\n        @Override\r\n        public boolean shouldOverrideUrlLoading(WebView view, WebResourceRequest request) {\r\n            return super.shouldOverrideUrlLoading(view, request);\r\n        }\r\n    }\r\n \r\n    @Override\r\n    public void onBackPressed() {\r\n        if (webView.isFocused() &amp;&amp; webView.canGoBack()) {\r\n            webView.goBack();\r\n        } else {\r\n            super.onBackPressed();\r\n        }\r\n    }\r\n \r\n    @Override\r\n    protected void onDestroy() {\r\n               super.onDestroy();\r\n        Intent intent = new Intent(&quot;com.tailscale.ipn.DISCONNECT_VPN&quot;);\r\n        intent.setClassName(&quot;com.tailscale.ipn&quot;, &quot;com.tailscale.ipn.IPNReceiver&quot;);\r\n        sendBroadcast(intent);\r\n    }\r\n    private void checkNetworkAndLoadURL() {\r\n        ConnectivityManager connectivityManager = (ConnectivityManager) getSystemService(Context.CONNECTIVITY_SERVICE);\r\n        NetworkInfo activeNetwork = connectivityManager.getActiveNetworkInfo();\r\n        if (activeNetwork != null &amp;&amp; activeNetwork.isConnected()) {\r\n            if (isConnectedToLocalNetwork()) {\r\n                webView.loadUrl(SERVER_IP_HOME_WIFI);\r\n            } else {\r\n                Intent intent = new Intent(&quot;com.tailscale.ipn.CONNECT_VPN&quot;);\r\n                intent.setClassName(&quot;com.tailscale.ipn&quot;, &quot;com.tailscale.ipn.IPNReceiver&quot;);\r\n                sendBroadcast(intent);\r\n                webView.loadUrl(SERVER_IP_VPN);\r\n            }\r\n        } else {\r\n            Toast.makeText(this, &quot;No network connection&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n    private boolean isConnectedToLocalNetwork() {\r\n        try {\r\n            Enumeration&lt;NetworkInterface&gt; interfaces = NetworkInterface.getNetworkInterfaces();\r\n            while (interfaces.hasMoreElements()) {\r\n                NetworkInterface networkInterface = interfaces.nextElement();\r\n                Enumeration&lt;InetAddress&gt; addresses = networkInterface.getInetAddresses();\r\n                while (addresses.hasMoreElements()) {\r\n                    InetAddress address = addresses.nextElement();\r\n                    if (!address.isLoopbackAddress() &amp;&amp; address.getHostAddress().startsWith(HOME_WIFI_IP_PREFIX)) {\r\n                        return true;\r\n                    }\r\n                }\r\n            }\r\n        } catch (SocketException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return false;\r\n    }\r\n}\r\n```\r\n\r\n\r\n[how can i make webview keep a video or audio playing in the background](https://stackoverflow.com/questions/52028940/how-can-i-make-webview-keep-a-video-or-audio-playing-in-the-background)\r\nThis seems the most promising out of all threads to this topic, but i couldn&#39;t get this to work.\r\n\r\nThank you for any help in advance.\r\nAnd I please don&#39;t explain too complicated, it&#39;s my first time with android apps. :)","title":"[Android][WebView] Simple way to implement background media-playing","body":"<p>I have started building my own app to connect to my home media server with jellyfin.</p>\n<p>The basic goal of this app is to allow the automation of enabling disabling VPNs and handling the IP's to the server.\nI got most of the things to work very well, even though it's my first android app.\nBut if I turn the screen of my device off, or start another application on top the audio/video stops playing.\nIs there any simple way to implement this?\nMaybe if it is &quot;easy&quot; something like in Chrome itself would also be very nice: <a href=\"https://i.stack.imgur.com/EcjF9.jpg\" rel=\"nofollow noreferrer\">Popup on Chrome</a></p>\n<p>As I read through the questions already asked about this topic i think i anyhow need to run the app as service, but have failed to get it to work.</p>\n<p><a href=\"https://stackoverflow.com/questions/29221217/webview-audio-play-on-background\">webview audio play on background</a></p>\n<p>MainActivity:</p>\n<pre><code>package com.example.jellyfin_beta;\n \nimport [needed stuff]\npublic class MainActivity extends AppCompatActivity {\n \n        // private static final String HOME_WIFI_SSID = &quot;&quot;; \n    private static final String HOME_WIFI_IP_PREFIX = &quot;192.168.1.&quot;; \n    private static final String SERVER_IP_HOME_WIFI = &quot;http://192.168.1.111:8096/&quot;; \n    private static final String SERVER_IP_VPN = &quot;http://:8096/&quot;; \n \n    private WebView webView;\n    private View decorView;\n \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        webView = findViewById(R.id.webview);\n        webView.setWebViewClient(new WebViewClient());\n        WebSettings webSettings = webView.getSettings();\n        webView.getSettings().setJavaScriptEnabled(true);\n        webView.getSettings().setDomStorageEnabled(true);\n        checkNetworkAndLoadURL();\n \n        decorView = getWindow().getDecorView();\n        decorView.setOnSystemUiVisibilityChangeListener(new View.OnSystemUiVisibilityChangeListener() {\n            @Override\n            public void onSystemUiVisibilityChange(int visibility) {\n                if (visibility == 0)\n                    decorView.setSystemUiVisibility(hideSystemBars());\n            }\n        });\n    }\n        @Override\n    public void onConfigurationChanged(Configuration newConfig) {\n        super.onConfigurationChanged(newConfig);\n    }\n        @Override\n    public void onWindowFocusChanged(boolean hasFocus) {\n        super.onWindowFocusChanged(hasFocus);\n        if (hasFocus) {\n            decorView.setSystemUiVisibility(hideSystemBars());\n        }\n    }\n    private int hideSystemBars() {\n        return View.SYSTEM_UI_FLAG_LAYOUT_STABLE\n                | View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY\n                | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\n                | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\n                | View.SYSTEM_UI_FLAG_FULLSCREEN\n                | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION;\n    }\n    private class MywebClient extends WebViewClient {\n        @Override\n        public void onPageStarted(WebView view, String url, Bitmap favicon) {\n            super.onPageStarted(view, url, favicon);\n        }\n        @Override\n        public boolean shouldOverrideUrlLoading(WebView view, WebResourceRequest request) {\n            return super.shouldOverrideUrlLoading(view, request);\n        }\n    }\n \n    @Override\n    public void onBackPressed() {\n        if (webView.isFocused() &amp;&amp; webView.canGoBack()) {\n            webView.goBack();\n        } else {\n            super.onBackPressed();\n        }\n    }\n \n    @Override\n    protected void onDestroy() {\n               super.onDestroy();\n        Intent intent = new Intent(&quot;com.tailscale.ipn.DISCONNECT_VPN&quot;);\n        intent.setClassName(&quot;com.tailscale.ipn&quot;, &quot;com.tailscale.ipn.IPNReceiver&quot;);\n        sendBroadcast(intent);\n    }\n    private void checkNetworkAndLoadURL() {\n        ConnectivityManager connectivityManager = (ConnectivityManager) getSystemService(Context.CONNECTIVITY_SERVICE);\n        NetworkInfo activeNetwork = connectivityManager.getActiveNetworkInfo();\n        if (activeNetwork != null &amp;&amp; activeNetwork.isConnected()) {\n            if (isConnectedToLocalNetwork()) {\n                webView.loadUrl(SERVER_IP_HOME_WIFI);\n            } else {\n                Intent intent = new Intent(&quot;com.tailscale.ipn.CONNECT_VPN&quot;);\n                intent.setClassName(&quot;com.tailscale.ipn&quot;, &quot;com.tailscale.ipn.IPNReceiver&quot;);\n                sendBroadcast(intent);\n                webView.loadUrl(SERVER_IP_VPN);\n            }\n        } else {\n            Toast.makeText(this, &quot;No network connection&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n    private boolean isConnectedToLocalNetwork() {\n        try {\n            Enumeration&lt;NetworkInterface&gt; interfaces = NetworkInterface.getNetworkInterfaces();\n            while (interfaces.hasMoreElements()) {\n                NetworkInterface networkInterface = interfaces.nextElement();\n                Enumeration&lt;InetAddress&gt; addresses = networkInterface.getInetAddresses();\n                while (addresses.hasMoreElements()) {\n                    InetAddress address = addresses.nextElement();\n                    if (!address.isLoopbackAddress() &amp;&amp; address.getHostAddress().startsWith(HOME_WIFI_IP_PREFIX)) {\n                        return true;\n                    }\n                }\n            }\n        } catch (SocketException e) {\n            e.printStackTrace();\n        }\n        return false;\n    }\n}\n</code></pre>\n<p><a href=\"https://stackoverflow.com/questions/52028940/how-can-i-make-webview-keep-a-video-or-audio-playing-in-the-background\">how can i make webview keep a video or audio playing in the background</a>\nThis seems the most promising out of all threads to this topic, but i couldn't get this to work.</p>\n<p>Thank you for any help in advance.\nAnd I please don't explain too complicated, it's my first time with android apps. :)</p>\n"},{"tags":["java","arraylist","merge"],"answers":[{"tags":[],"owner":{"account_id":2545004,"reputation":1357,"user_id":2364403,"accept_rate":77,"display_name":"Vivin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1423697202,"creation_date":1423697202,"answer_id":28466574,"question_id":28466357,"body_markdown":"So if you see the major efficiency overhead your way is searching for a particular element in another list. So you should ask how can you efficiently search for the object in another list?\r\n\r\n - Array(if you know the index)\r\n - HashMap(if you kow the key)\r\n\r\nHashMap looks like an easy way to implement your problem. So what you can do is iterate through your first list and add name as key and value as value in the map. Similarly for the second list.\r\n\r\nNext iterate through the keyset of 1st map and search for corresponding name key in 2nd list. If found add as value in 1st list.\r\n\r\nThe major drawback here is using extra data structures.","title":"How to merge two lists of objects by comparing field value in the given objects in Java","body":"<p>So if you see the major efficiency overhead your way is searching for a particular element in another list. So you should ask how can you efficiently search for the object in another list?</p>\n\n<ul>\n<li>Array(if you know the index)</li>\n<li>HashMap(if you kow the key)</li>\n</ul>\n\n<p>HashMap looks like an easy way to implement your problem. So what you can do is iterate through your first list and add name as key and value as value in the map. Similarly for the second list.</p>\n\n<p>Next iterate through the keyset of 1st map and search for corresponding name key in 2nd list. If found add as value in 1st list.</p>\n\n<p>The major drawback here is using extra data structures.</p>\n"},{"tags":[],"owner":{"account_id":2493093,"reputation":26492,"user_id":2170192,"accept_rate":100,"display_name":"Alex Shesterov"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1423699175,"creation_date":1423697443,"answer_id":28466635,"question_id":28466357,"body_markdown":"Your algorithm is `O(n*n)` (quadratic). \r\n\r\nYou can do it in `O(n)` (linear) using a temporary `LinkedHashMap`: \r\n\r\n    private List&lt;Header&gt; mergeHeaders(final List&lt;Header&gt; defHeaders, final List&lt;Header&gt; ovrdHeaders) {\r\n        final Map&lt;String, Header&gt; headersMap = new LinkedHashMap&lt;String, Header&gt;();\r\n        \r\n        for (final Header defHeader : defHeaders) {\r\n            headersMap.put(defHeader.getName().toLowerCase(), defHeader);\r\n        }\r\n        \r\n        for (final Header ovrdHeader : ovrdHeaders) {\r\n            headersMap.put(ovrdHeader.getName().toLowerCase(), ovrdHeader);\r\n        }\r\n\r\n        return new ArrayList&lt;Header&gt;(headersMap.values());\r\n    }\r\n\r\n**Note that the behavior is NOT exactly the same** as the behavior of your implementation.\r\nThe differences are: \r\n\r\n* This implementation returns a new list instance instead of modifying the first list. IMO, it&#39;s a benefit, but it may depend. If needed, you can modify the first list as follows (though I&#39;d *not* recommend that): \r\n\r\n        defHeaders.clear();\r\n        defHeaders.addAll(headersMap.values());\r\n        return defHeaders;\r\n\r\n* This implementation assumes that header names are already unique (case INsensitively) in *both* lists, while your one doesn&#39;t make this assumption. &lt;br&gt;\r\nIf header names are *not* unique, this implementation would preserve *the last* header from list 1 or list 2. ","title":"How to merge two lists of objects by comparing field value in the given objects in Java","body":"<p>Your algorithm is <code>O(n*n)</code> (quadratic). </p>\n\n<p>You can do it in <code>O(n)</code> (linear) using a temporary <code>LinkedHashMap</code>: </p>\n\n<pre><code>private List&lt;Header&gt; mergeHeaders(final List&lt;Header&gt; defHeaders, final List&lt;Header&gt; ovrdHeaders) {\n    final Map&lt;String, Header&gt; headersMap = new LinkedHashMap&lt;String, Header&gt;();\n\n    for (final Header defHeader : defHeaders) {\n        headersMap.put(defHeader.getName().toLowerCase(), defHeader);\n    }\n\n    for (final Header ovrdHeader : ovrdHeaders) {\n        headersMap.put(ovrdHeader.getName().toLowerCase(), ovrdHeader);\n    }\n\n    return new ArrayList&lt;Header&gt;(headersMap.values());\n}\n</code></pre>\n\n<p><strong>Note that the behavior is NOT exactly the same</strong> as the behavior of your implementation.\nThe differences are: </p>\n\n<ul>\n<li><p>This implementation returns a new list instance instead of modifying the first list. IMO, it's a benefit, but it may depend. If needed, you can modify the first list as follows (though I'd <em>not</em> recommend that): </p>\n\n<pre><code>defHeaders.clear();\ndefHeaders.addAll(headersMap.values());\nreturn defHeaders;\n</code></pre></li>\n<li><p>This implementation assumes that header names are already unique (case INsensitively) in <em>both</em> lists, while your one doesn't make this assumption. <br>\nIf header names are <em>not</em> unique, this implementation would preserve <em>the last</em> header from list 1 or list 2. </p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":9215655,"reputation":8763,"user_id":6846888,"display_name":"&#194;ngelo Polotto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569935384,"creation_date":1569934987,"answer_id":58185379,"question_id":28466357,"body_markdown":"I had to solve a similar problem. In my case, I had to create custom decision rules when Hash Map already have an item or not. Here is my final solution:\r\n\r\nAuxiliar classes:\r\n\r\n```java\r\npublic interface MergeRules&lt;T&gt; {\r\n    T olderListContains(T olderObj, T newObj);\r\n\r\n    T olderListNotContains(T newObj);\r\n}\r\n\r\npublic abstract class HashAbstract {\r\n    public String getKey() {\r\n       return null;\r\n    }\r\n}\r\n```\r\n\r\nMy final merge method:\r\n\r\n```java\r\npublic static &lt;T&gt; List&lt;T&gt; merge(final List&lt;T&gt; olderList,\r\n                                final List&lt;T&gt; newList,\r\n                                MergeRules&lt;T&gt; mergeRules) {\r\n    final Map&lt;String, T&gt; listMap = new LinkedHashMap&lt;&gt;();\r\n\r\n    for (final T olderObj : olderList) {\r\n        listMap.put(((HashAbstract) olderObj).getKey(), olderObj);\r\n    }\r\n\r\n    for (final T newObj : newList) {\r\n        String newObjKey = ((HashAbstract) newObj).getKey();\r\n        T returnObj;\r\n\r\n        if (listMap.containsKey(newObjKey)) {\r\n            returnObj = mergeRules.olderListContains(listMap.get(newObjKey), newObj);\r\n        } else {\r\n            returnObj = mergeRules.olderListNotContains(newObj);\r\n        }\r\n\r\n        listMap.put(newObjKey, returnObj);\r\n    }\r\n\r\n    return new ArrayList&lt;&gt;(listMap.values());\r\n}\r\n```\r\n\r\nExample:\r\n\r\n```java\r\nclass NameValueObj extends HashAbstract {\r\n    public String name;\r\n    public String value;\r\n\r\n    @Override\r\n\tpublic String getKey() {\r\n\t\treturn name.trim().toUpperCase();\r\n\t}\r\n}\r\n\r\nNameValueObj obj1 = new NameValueObj();\r\nobj1.name = &quot;test&quot;;\r\nobj1.value = &quot;1234&quot;;\r\n\r\nNameValueObj obj2 = new NameValueObj();\r\nobj2.name = &quot;testSomething&quot;;\r\nobj2.value = &quot;4321&quot;;\r\n\r\nNameValueObj obj3 = new NameValueObj(); // obj that will be updated\r\nobj3.name = &quot;test&quot;;\r\nobj3.value = &quot;1212&quot;;\r\n\r\nNameValueObj obj4 = new NameValueObj(); // new object\r\nobj4.name = &quot;testObj&quot;;\r\nobj4.value = &quot;1313&quot;;\r\n\r\nList&lt;NameValueObj&gt; list1 = new ArrayList&lt;&gt;();\r\nlist1.add(obj1);\r\nlist2.add(obj2);\r\n\r\nList&lt;NameValueObj&gt; list2 = new ArrayList&lt;&gt;();\r\nlist2.add(obj3);\r\nlist2.add(obj4);\r\n\r\nList&lt;NameValueObj&gt; mergedList = merge(list1, list2, \r\n               new Compare.MergeRules&lt;NameValueObj&gt;() {\r\n                    @Override\r\n                    public NameValueObj olderListContains(NameValueObj olderObj, NameValueObj newObj) {\r\n                        return newObj; // if obj already exists, return the new\r\n                    }\r\n\r\n                    @Override\r\n                    public NameValueObj olderListNotContains(NameValueObj newObj) {                       \r\n                        return newObj; // if not exists, return the new obj\r\n                    }\r\n                });\r\n\r\n```\r\n\r\nThe `mergedList` of the example is:\r\n\r\n```\r\nname: test - value: 1212\r\nname: testSomething - value: 4321\r\nname: testObj - value: 1313\r\n```\r\n","title":"How to merge two lists of objects by comparing field value in the given objects in Java","body":"<p>I had to solve a similar problem. In my case, I had to create custom decision rules when Hash Map already have an item or not. Here is my final solution:</p>\n\n<p>Auxiliar classes:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public interface MergeRules&lt;T&gt; {\n    T olderListContains(T olderObj, T newObj);\n\n    T olderListNotContains(T newObj);\n}\n\npublic abstract class HashAbstract {\n    public String getKey() {\n       return null;\n    }\n}\n</code></pre>\n\n<p>My final merge method:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T&gt; List&lt;T&gt; merge(final List&lt;T&gt; olderList,\n                                final List&lt;T&gt; newList,\n                                MergeRules&lt;T&gt; mergeRules) {\n    final Map&lt;String, T&gt; listMap = new LinkedHashMap&lt;&gt;();\n\n    for (final T olderObj : olderList) {\n        listMap.put(((HashAbstract) olderObj).getKey(), olderObj);\n    }\n\n    for (final T newObj : newList) {\n        String newObjKey = ((HashAbstract) newObj).getKey();\n        T returnObj;\n\n        if (listMap.containsKey(newObjKey)) {\n            returnObj = mergeRules.olderListContains(listMap.get(newObjKey), newObj);\n        } else {\n            returnObj = mergeRules.olderListNotContains(newObj);\n        }\n\n        listMap.put(newObjKey, returnObj);\n    }\n\n    return new ArrayList&lt;&gt;(listMap.values());\n}\n</code></pre>\n\n<p>Example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>class NameValueObj extends HashAbstract {\n    public String name;\n    public String value;\n\n    @Override\n    public String getKey() {\n        return name.trim().toUpperCase();\n    }\n}\n\nNameValueObj obj1 = new NameValueObj();\nobj1.name = \"test\";\nobj1.value = \"1234\";\n\nNameValueObj obj2 = new NameValueObj();\nobj2.name = \"testSomething\";\nobj2.value = \"4321\";\n\nNameValueObj obj3 = new NameValueObj(); // obj that will be updated\nobj3.name = \"test\";\nobj3.value = \"1212\";\n\nNameValueObj obj4 = new NameValueObj(); // new object\nobj4.name = \"testObj\";\nobj4.value = \"1313\";\n\nList&lt;NameValueObj&gt; list1 = new ArrayList&lt;&gt;();\nlist1.add(obj1);\nlist2.add(obj2);\n\nList&lt;NameValueObj&gt; list2 = new ArrayList&lt;&gt;();\nlist2.add(obj3);\nlist2.add(obj4);\n\nList&lt;NameValueObj&gt; mergedList = merge(list1, list2, \n               new Compare.MergeRules&lt;NameValueObj&gt;() {\n                    @Override\n                    public NameValueObj olderListContains(NameValueObj olderObj, NameValueObj newObj) {\n                        return newObj; // if obj already exists, return the new\n                    }\n\n                    @Override\n                    public NameValueObj olderListNotContains(NameValueObj newObj) {                       \n                        return newObj; // if not exists, return the new obj\n                    }\n                });\n\n</code></pre>\n\n<p>The <code>mergedList</code> of the example is:</p>\n\n<pre><code>name: test - value: 1212\nname: testSomething - value: 4321\nname: testObj - value: 1313\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28245236,"reputation":1,"user_id":21592391,"display_name":"Reece Bailey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680907413,"creation_date":1680907413,"answer_id":75962409,"question_id":28466357,"body_markdown":"You can convert the two lists to maps and merge on the desired attribute.\r\n\r\n    private List&lt;Header&gt; mergeHeaders(List&lt;Header&gt; defHeaders, List&lt;Header&gt; ovrdHeaders) {\r\n        Map&lt;String, Header&gt; defHeaderMap = defHeaders.stream().collect(Collectors.toMap(Header::getName, Function.identity()));\r\n        Map&lt;String, Header&gt; ovrdHeaderMap = ovrdHeaders.stream().collect(Collectors.toMap(Header::getName, Function.identity()))\r\n        defHeaderMap.putAll(ovrdHeaderMap);\r\n        return defHeaderMap.values();\r\n    }\r\n","title":"How to merge two lists of objects by comparing field value in the given objects in Java","body":"<p>You can convert the two lists to maps and merge on the desired attribute.</p>\n<pre><code>private List&lt;Header&gt; mergeHeaders(List&lt;Header&gt; defHeaders, List&lt;Header&gt; ovrdHeaders) {\n    Map&lt;String, Header&gt; defHeaderMap = defHeaders.stream().collect(Collectors.toMap(Header::getName, Function.identity()));\n    Map&lt;String, Header&gt; ovrdHeaderMap = ovrdHeaders.stream().collect(Collectors.toMap(Header::getName, Function.identity()))\n    defHeaderMap.putAll(ovrdHeaderMap);\n    return defHeaderMap.values();\n}\n</code></pre>\n"}],"owner":{"account_id":3255174,"reputation":161,"user_id":2744486,"accept_rate":82,"display_name":"user2744486"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12880,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":28466635,"answer_count":4,"score":4,"last_activity_date":1680907413,"creation_date":1423696219,"question_id":28466357,"body_markdown":"I have two list of objects and I want to merge them into one. the objects have two fields, &quot;name&quot; and &quot;value&quot;. For a given obj2 in list2 , if we find a match of &quot;name&quot; field of obj1 in list1 (obj1 from list1 and obj2 from list2), then we use the &quot;value&quot; of the obj2 to overwrite obj1. if there is no match found, then we add obj2 to list1. The final output will be updated list1.\r\n\r\nIs there any fast way to do this? All I can think of is to use two for loops to compare all the objects in two lists\r\n\r\n    class NameValueObj{\r\n    String name;\r\n    String value;\r\n    }\r\n    \r\n    List&lt;NameValueObj&gt; merge(List&lt;NameValueObj&gt; list1, List&lt;NameValueObj&gt; list2){\r\n    // I want to merge two list here\r\n    }\r\n\r\nNameValueObj is a given so I can;t modify the object source.\r\n\r\nHere is my way of doing it. \r\n\r\n    private List&lt;Header&gt; mergeHeaders(List&lt;Header&gt; defHeaders, List&lt;Header&gt; ovrdHeaders) {\r\n    \t\tList&lt;Header&gt; lFinal = defHeaders;\r\n    \t\tboolean foundMatch = false;\r\n    \t\tfor (Header ovrdHeader : ovrdHeaders) {\r\n    \t\t\tfoundMatch = false;\r\n    \t\t\tfor (Header defHeader : defHeaders) {\r\n    \t\t\t\tif (defHeader.getName().equalsIgnoreCase(ovrdHeader.getName())) {\r\n    \t\t\t\t\tdefHeader.setValue(ovrdHeader.getValue());\r\n    \t\t\t\t\tfoundMatch = true;\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tif(!foundMatch) {\r\n    \t\t\t\tlFinal.add(ovrdHeader);\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn lFinal;\r\n    \t}\r\n\r\nHeader has name and value field. Headers has unique names in a given list.","title":"How to merge two lists of objects by comparing field value in the given objects in Java","body":"<p>I have two list of objects and I want to merge them into one. the objects have two fields, \"name\" and \"value\". For a given obj2 in list2 , if we find a match of \"name\" field of obj1 in list1 (obj1 from list1 and obj2 from list2), then we use the \"value\" of the obj2 to overwrite obj1. if there is no match found, then we add obj2 to list1. The final output will be updated list1.</p>\n\n<p>Is there any fast way to do this? All I can think of is to use two for loops to compare all the objects in two lists</p>\n\n<pre><code>class NameValueObj{\nString name;\nString value;\n}\n\nList&lt;NameValueObj&gt; merge(List&lt;NameValueObj&gt; list1, List&lt;NameValueObj&gt; list2){\n// I want to merge two list here\n}\n</code></pre>\n\n<p>NameValueObj is a given so I can;t modify the object source.</p>\n\n<p>Here is my way of doing it. </p>\n\n<pre><code>private List&lt;Header&gt; mergeHeaders(List&lt;Header&gt; defHeaders, List&lt;Header&gt; ovrdHeaders) {\n        List&lt;Header&gt; lFinal = defHeaders;\n        boolean foundMatch = false;\n        for (Header ovrdHeader : ovrdHeaders) {\n            foundMatch = false;\n            for (Header defHeader : defHeaders) {\n                if (defHeader.getName().equalsIgnoreCase(ovrdHeader.getName())) {\n                    defHeader.setValue(ovrdHeader.getValue());\n                    foundMatch = true;\n                    break;\n                }\n            }\n            if(!foundMatch) {\n                lFinal.add(ovrdHeader);\n            }\n\n        }\n\n        return lFinal;\n    }\n</code></pre>\n\n<p>Header has name and value field. Headers has unique names in a given list.</p>\n"},{"tags":["java","string","math","expression"],"owner":{"account_id":25775363,"reputation":11,"user_id":19522235,"display_name":"user19522235"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680908359,"answer_count":0,"score":0,"last_activity_date":1680906511,"creation_date":1680906511,"question_id":75962352,"body_markdown":"I wanted this to work so badly and then I was met with devastation when I got an error. Essentially i have an expression, and I want to replace the values of string with my integer variable dx so that if i were to parse it to an int the value would be the coefficients multiplied by the dx\r\n\r\n\r\n\r\n```\r\n\tint dx = 9;\r\n\t\t\r\n\t\tString function = &quot;7x + 9x + 7x&quot;;\r\n\t\t\r\n\r\n\t\tString sumRepeated = function.replaceAll(&quot;x&quot;, &quot;*(dx)&quot;);\r\n\t\tSystem.out.println(sumRepeated);\r\n\t\tint sum1 = Integer.parseInt(sumRepeated);\r\n\t\t\r\n\t\t\r\n```\r\n\r\n\r\n\r\n \r\n\r\nI thought because the String output was 7*(dx) + 9*(dx) + 7*(dx) that if I were to simply parse the string to an int it would return the value of the number which happens to be 207 because dx is a variable but alas my fears caught up to me and my world caved in, the joyous flame of passion had been extinguished as i saw the red java exception. ","title":"Is there any way to parse an &quot;expression&quot; to an int","body":"<p>I wanted this to work so badly and then I was met with devastation when I got an error. Essentially i have an expression, and I want to replace the values of string with my integer variable dx so that if i were to parse it to an int the value would be the coefficients multiplied by the dx</p>\n<pre><code>    int dx = 9;\n        \n        String function = &quot;7x + 9x + 7x&quot;;\n        \n\n        String sumRepeated = function.replaceAll(&quot;x&quot;, &quot;*(dx)&quot;);\n        System.out.println(sumRepeated);\n        int sum1 = Integer.parseInt(sumRepeated);\n        \n        \n</code></pre>\n<p>I thought because the String output was 7*(dx) + 9*(dx) + 7*(dx) that if I were to simply parse the string to an int it would return the value of the number which happens to be 207 because dx is a variable but alas my fears caught up to me and my world caved in, the joyous flame of passion had been extinguished as i saw the red java exception.</p>\n"},{"tags":["java","maven","apache-kafka"],"comments":[{"owner":{"account_id":11426762,"reputation":89,"user_id":8376709,"display_name":"Yury"},"score":1,"creation_date":1680874492,"post_id":75957969,"comment_id":133973686,"body_markdown":"yes kafka uses sl4j-api, and the dependency is defined in the kafka&#39;s pom.xml. But it should have been resolved by maven. It looks like you didnt build it correctly. Did you run `mvn clean install` before trying to execute the code?","body":"yes kafka uses sl4j-api, and the dependency is defined in the kafka&#39;s pom.xml. But it should have been resolved by maven. It looks like you didnt build it correctly. Did you run <code>mvn clean install</code> before trying to execute the code?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1680882192,"post_id":75957969,"comment_id":133975372,"body_markdown":"By the way, `maven.compiler.target` should be set to `11`... Kafka has dropped java 7 support long ago","body":"By the way, <code>maven.compiler.target</code> should be set to <code>11</code>... Kafka has dropped java 7 support long ago"},{"owner":{"account_id":480174,"reputation":13676,"user_id":893254,"accept_rate":30,"display_name":"FreelanceConsultant"},"score":0,"creation_date":1680884442,"post_id":75957969,"comment_id":133975802,"body_markdown":"I would have thought `11` was Java (language) Version 11. Should it not be set to something more up to date such as 17 or even 20? Setting it to 17 results in another error: `invalid target release: 17`","body":"I would have thought <code>11</code> was Java (language) Version 11. Should it not be set to something more up to date such as 17 or even 20? Setting it to 17 results in another error: <code>invalid target release: 17</code>"},{"owner":{"account_id":480174,"reputation":13676,"user_id":893254,"accept_rate":30,"display_name":"FreelanceConsultant"},"score":0,"creation_date":1680884588,"post_id":75957969,"comment_id":133975833,"body_markdown":"Spoke too soon. Following the above instructions doesn&#39;t make any difference.","body":"Spoke too soon. Following the above instructions doesn&#39;t make any difference."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1680885399,"post_id":75957969,"comment_id":133975991,"body_markdown":"You&#39;re not required to use most recent version, no. As answered, you&#39;d often down compile, depending on where code gets ran (not only based on your local machine)... Plus, Maven itself defaults to 1.8","body":"You&#39;re not required to use most recent version, no. As answered, you&#39;d often down compile, depending on where code gets ran (not only based on your local machine)... Plus, Maven itself defaults to 1.8"},{"owner":{"account_id":480174,"reputation":13676,"user_id":893254,"accept_rate":30,"display_name":"FreelanceConsultant"},"score":0,"creation_date":1680885757,"post_id":75957969,"comment_id":133976063,"body_markdown":"@OneCricketeer Required? No. But it would be sensible to use a LTS version (the current one) by default.","body":"@OneCricketeer Required? No. But it would be sensible to use a LTS version (the current one) by default."}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680905967,"creation_date":1680882454,"answer_id":75959977,"question_id":75957969,"body_markdown":"&gt; &lt;sub&gt;Sidenote: I would not recommend learning Kafka, Java, and Maven all at the same time. Kafka Clients exist in many different (simpler) languages.&lt;/sub&gt;\r\n\r\nFirstly, replace `kafka_2.13` by `kafka-clients`. The former is the broker server library, not the producer/consumer API. \r\n\r\nRegarding the question, yes, Kafka clients use [`slf4j-api`](https://slf4j.org/manual.html), but it is only at `runtime` Maven scope, meaning you **do** need to provide it on your own. ([This guide uses Gradle, but same concepts apply](https://developer.confluent.io/get-started/java/))  \r\nThis is only a facade library, and requires you adding an implementation logger, such as `reload4j`, `logback`, or `log4j2` (recommended).\r\n\r\nSo, one of these need to be added to your POM. For example, refer log4j2 documentation\r\n\r\nhttps://logging.apache.org/log4j/2.x/manual/migration.html#migrating-from-log4j-1-x-to-2-x\r\n\r\nThen once added, you will also need to create a `src/main/resources/log4j2.xml` file, such as \r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration status=&quot;WARN&quot;&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;\r\n        &lt;/Console&gt;\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n        &lt;Root level=&quot;DEBUG&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\r\n        &lt;/Root&gt;\r\n        &lt;Logger name=&quot;org.apache.kafka&quot; level=&quot;INFO&quot;/&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\nAnd, if that works, you should be able to run the code and get the next problem...\r\n\r\n\r\n```\r\nException in thread &quot;main&quot; org.apache.kafka.common.config.ConfigException: Invalid value null for configuration key.serializer: must be non-null.\r\n\tat org.apache.kafka.clients.producer.ProducerConfig.appendSerializerToConfig(ProducerConfig.java:579)\r\n\tat org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:290)\r\n\tat org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:317)\r\n\tat org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:302)\r\n```\r\n\r\nWhich requires you to add these two lines\r\n\r\n```\r\nproperties.setProperty(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());\r\nproperties.setProperty(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());\r\n```\r\n\r\nAnd you ideally replace `System.out` usage with an slf4j logger.  \r\n\r\n```\r\nprivate static final Logger LOG = LoggerFactory.getLogger(Main.class);\r\n// LOG.info(&quot;Hello world&quot;)\r\n```","title":"Simple Kafka Producer implementation in Java depends on SLF4J","body":"<blockquote>\n<p><sub>Sidenote: I would not recommend learning Kafka, Java, and Maven all at the same time. Kafka Clients exist in many different (simpler) languages.</sub></p>\n</blockquote>\n<p>Firstly, replace <code>kafka_2.13</code> by <code>kafka-clients</code>. The former is the broker server library, not the producer/consumer API.</p>\n<p>Regarding the question, yes, Kafka clients use <a href=\"https://slf4j.org/manual.html\" rel=\"nofollow noreferrer\"><code>slf4j-api</code></a>, but it is only at <code>runtime</code> Maven scope, meaning you <strong>do</strong> need to provide it on your own. (<a href=\"https://developer.confluent.io/get-started/java/\" rel=\"nofollow noreferrer\">This guide uses Gradle, but same concepts apply</a>)<br />\nThis is only a facade library, and requires you adding an implementation logger, such as <code>reload4j</code>, <code>logback</code>, or <code>log4j2</code> (recommended).</p>\n<p>So, one of these need to be added to your POM. For example, refer log4j2 documentation</p>\n<p><a href=\"https://logging.apache.org/log4j/2.x/manual/migration.html#migrating-from-log4j-1-x-to-2-x\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/2.x/manual/migration.html#migrating-from-log4j-1-x-to-2-x</a></p>\n<p>Then once added, you will also need to create a <code>src/main/resources/log4j2.xml</code> file, such as</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;WARN&quot;&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n            &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;\n        &lt;/Console&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Root level=&quot;DEBUG&quot;&gt;\n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\n        &lt;/Root&gt;\n        &lt;Logger name=&quot;org.apache.kafka&quot; level=&quot;INFO&quot;/&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>And, if that works, you should be able to run the code and get the next problem...</p>\n<pre><code>Exception in thread &quot;main&quot; org.apache.kafka.common.config.ConfigException: Invalid value null for configuration key.serializer: must be non-null.\n    at org.apache.kafka.clients.producer.ProducerConfig.appendSerializerToConfig(ProducerConfig.java:579)\n    at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:290)\n    at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:317)\n    at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:302)\n</code></pre>\n<p>Which requires you to add these two lines</p>\n<pre><code>properties.setProperty(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());\nproperties.setProperty(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());\n</code></pre>\n<p>And you ideally replace <code>System.out</code> usage with an slf4j logger.</p>\n<pre><code>private static final Logger LOG = LoggerFactory.getLogger(Main.class);\n// LOG.info(&quot;Hello world&quot;)\n</code></pre>\n"}],"owner":{"account_id":480174,"reputation":13676,"user_id":893254,"accept_rate":30,"display_name":"FreelanceConsultant"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":356,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680905967,"creation_date":1680866644,"question_id":75957969,"body_markdown":"I have written what I believe to be a bare-bones implementation of a Kafka Producer in Java.\r\n\r\n```\r\npackage com.mycompany.kafkaexample.KafkaExample;\r\n\r\n\r\nimport org.apache.kafka.clients.producer.KafkaProducer;\r\nimport org.apache.kafka.clients.producer.ProducerRecord;\r\n\r\nimport java.util.Properties;\r\n\r\n\r\npublic class Main {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tSystem.out.println(&quot;Hello Kafka&quot;);\r\n\t\t\r\n\t\tProperties properties = new Properties();\r\n\t\tproperties.setProperty(&quot;bootstrap.servers&quot;, &quot;localhost:29092&quot;);\r\n\t\tproperties.setProperty(&quot;default.topic&quot;, &quot;hello-world-topic&quot;);\r\n\t\t\r\n\t\t\r\n\t\tKafkaProducer&lt;String, String&gt; producer = new KafkaProducer&lt;&gt;(properties);\r\n\t\t\r\n\t\tString topicName = &quot;hello-world-topic&quot;;\r\n\t\tString key = &quot;&quot;;\r\n\t\tString message = &quot;Hello Kafka! (Message String)&quot;;\r\n\t\t\r\n\t\tProducerRecord&lt;String, String&gt; producerRecord = new ProducerRecord&lt;&gt;(topicName, key, message);\r\n\t\t\r\n\t\tproducer.send(producerRecord);\r\n\t\t\r\n\t\tproducer.close();\r\n\r\n\t}\r\n\r\n}\r\n```\r\n\r\nPlease note: I am not totally sure if this will work yet as I haven&#39;t been able to compile it.\r\n\r\nThe reason for that is the following error:\r\n\r\n```\r\nThe type org.slf4j.Logger cannot be resolved. It is indirectly referenced from required type org.apache.kafka.clients.producer.KafkaProducer\r\n```\r\n\r\nThis suggests to me that something in Kafka is referencing `slf4j` - but why?\r\n\r\n- I didn&#39;t include any code that does anything to do with `slf4j`, at least I haven&#39;t *knowingly* done this.\r\n- So why do I get an error message about it?\r\n- If something internal to Kafka references `slf4j`, then why doesn&#39;t the relevant Kafka code sort out the `import ...slf4j` itself? (Why do I have to do something about it?)\r\n- What is causing this error?\r\n\r\nI am building this project using Maven.\r\n\r\nMy `pom.xml`: (Also please note that I have very little understanding of what this does. It was mostly generated for me, although the Kafka dependency was added by me.)\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;com.mycompany.kafkaexample&lt;/groupId&gt;\r\n  &lt;artifactId&gt;KafkaExample&lt;/artifactId&gt;\r\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\r\n  &lt;name&gt;KafkaExample&lt;/name&gt;\r\n  &lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;4.11&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\t&lt;!-- https://mvnrepository.com/artifact/org.apache.kafka/kafka --&gt;\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;kafka_2.13&lt;/artifactId&gt;\r\n\t    &lt;version&gt;3.4.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n      &lt;plugins&gt;\r\n        &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.22.1&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.5.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.8.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.7.1&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```","title":"Simple Kafka Producer implementation in Java depends on SLF4J","body":"<p>I have written what I believe to be a bare-bones implementation of a Kafka Producer in Java.</p>\n<pre><code>package com.mycompany.kafkaexample.KafkaExample;\n\n\nimport org.apache.kafka.clients.producer.KafkaProducer;\nimport org.apache.kafka.clients.producer.ProducerRecord;\n\nimport java.util.Properties;\n\n\npublic class Main {\n\n    public static void main(String[] args) {\n\n        System.out.println(&quot;Hello Kafka&quot;);\n        \n        Properties properties = new Properties();\n        properties.setProperty(&quot;bootstrap.servers&quot;, &quot;localhost:29092&quot;);\n        properties.setProperty(&quot;default.topic&quot;, &quot;hello-world-topic&quot;);\n        \n        \n        KafkaProducer&lt;String, String&gt; producer = new KafkaProducer&lt;&gt;(properties);\n        \n        String topicName = &quot;hello-world-topic&quot;;\n        String key = &quot;&quot;;\n        String message = &quot;Hello Kafka! (Message String)&quot;;\n        \n        ProducerRecord&lt;String, String&gt; producerRecord = new ProducerRecord&lt;&gt;(topicName, key, message);\n        \n        producer.send(producerRecord);\n        \n        producer.close();\n\n    }\n\n}\n</code></pre>\n<p>Please note: I am not totally sure if this will work yet as I haven't been able to compile it.</p>\n<p>The reason for that is the following error:</p>\n<pre><code>The type org.slf4j.Logger cannot be resolved. It is indirectly referenced from required type org.apache.kafka.clients.producer.KafkaProducer\n</code></pre>\n<p>This suggests to me that something in Kafka is referencing <code>slf4j</code> - but why?</p>\n<ul>\n<li>I didn't include any code that does anything to do with <code>slf4j</code>, at least I haven't <em>knowingly</em> done this.</li>\n<li>So why do I get an error message about it?</li>\n<li>If something internal to Kafka references <code>slf4j</code>, then why doesn't the relevant Kafka code sort out the <code>import ...slf4j</code> itself? (Why do I have to do something about it?)</li>\n<li>What is causing this error?</li>\n</ul>\n<p>I am building this project using Maven.</p>\n<p>My <code>pom.xml</code>: (Also please note that I have very little understanding of what this does. It was mostly generated for me, although the Kafka dependency was added by me.)</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.mycompany.kafkaexample&lt;/groupId&gt;\n  &lt;artifactId&gt;KafkaExample&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n  &lt;name&gt;KafkaExample&lt;/name&gt;\n  &lt;!-- FIXME change it to the project's website --&gt;\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.11&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.kafka/kafka --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n        &lt;artifactId&gt;kafka_2.13&lt;/artifactId&gt;\n        &lt;version&gt;3.4.0&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n      &lt;plugins&gt;\n        &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.22.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.5.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.8.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.7.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","android","search","android-search"],"owner":{"account_id":28221495,"reputation":11,"user_id":21572153,"display_name":"Eypro Corp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680904684,"creation_date":1680871814,"question_id":75958585,"body_markdown":"I&#39;m trying to save and display the search history. To do this, I use the latest version of the library, the search history is displayed until I exit the application.`&#39;com.github.mancj:MaterialSearchBar:0.8.5&#39;`\r\n\r\nMainActivity\r\n\r\n```java\r\npublic class MainActivity extends AppCompatActivity implements MaterialSearchBar.OnSearchActionListener {\r\n\r\n    private MaterialSearchBar searchBar;\r\n    private List&lt;String&gt; lastSearches;\r\n    private String SAVE = null;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n\r\n        searchBar = findViewById(R.id.search);\r\n        searchBar.setHint(&quot;Your product&quot;);\r\n        searchBar.setSpeechMode(true);\r\n        searchBar.setOnSearchActionListener(this);\r\n\r\n        //restore last queries from disk\r\n        lastSearches = loadSearchSuggestionFromDisk();\r\n        searchBar.setLastSuggestions(lastSearches);\r\n\r\n    }\r\n\r\n    // Saved search history\r\n    private void saveSearchSuggestionToDisk(List lastSuggestions) {\r\n    }\r\n\r\n    // Load search history\r\n    private List&lt;String&gt; loadSearchSuggestionFromDisk() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onSearchStateChanged(boolean b) {\r\n        String state = b ? &quot;enable&quot; : &quot;disable&quot;;\r\n        Toast.makeText(this, &quot;Search &quot; + state, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n    @Override\r\n    public void onSearchConfirmed(CharSequence charSequence) {\r\n        SAVE = charSequence.toString();\r\n        Toast.makeText(this, &quot;Searching &quot; + charSequence.toString() + &quot; ...&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n    @Override\r\n    public void onButtonClicked(int i) {\r\n        switch (i) {\r\n            case MaterialSearchBar.BUTTON_NAVIGATION:\r\n                Toast.makeText(MainActivity.this, &quot;Button Nav &quot;, Toast.LENGTH_SHORT).show();\r\n                break;\r\n                case MaterialSearchBar.BUTTON_SPEECH:\r\n                    Toast.makeText(this, &quot;Search&quot;, Toast.LENGTH_SHORT).show();\r\n                    break;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n                saveSearchSuggestionToDisk(searchBar.getLastSuggestions());\r\n    }\r\n}\r\n```\r\n\r\n\r\nOn the library page at the very bottom there is an example of a simple application implementation using this library, there is an example for saving and displaying history in a List. But it&#39;s not entirely clear to me whether it is necessary to use an arrayList, whether it is necessary to create a model class and, in general, how to save and exit the search history?\r\n\r\nHere I tried to create an example of what you need when you close the application to save all requests in the `List`\r\nthrough the method `saveSearchSuggestionToDisk(searchBar.getLastSuggestions());`\r\n\r\nBut I have nothing and it didn&#39;t work\r\n\r\n```java\r\npublic class MainActivity extends AppCompatActivity implements MaterialSearchBar.OnSearchActionListener {\r\n\r\n    private MaterialSearchBar searchBar;\r\n    private List&lt;String&gt; lastSearches;\r\n    ArrayList&lt;SaveSearchModel&gt; searchModels;\r\n    private String SAVE = null;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n\r\n        searchBar = findViewById(R.id.search);\r\n        searchBar.setHint(&quot;Your product&quot;);\r\n        searchBar.setSpeechMode(true);\r\n        searchBar.setOnSearchActionListener(this);\r\n\r\n        //restore last queries from disk\r\n        lastSearches = loadSearchSuggestionFromDisk();\r\n        searchBar.setLastSuggestions(lastSearches);\r\n\r\n    }\r\n\r\n    // Saved search history\r\n    private void saveSearchSuggestionToDisk(List lastSuggestions) {\r\n        SharedPreferences sharedPreferences = getApplicationContext().getSharedPreferences(&quot;DATA&quot;, MODE_PRIVATE);\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n\r\n        Gson gson = new Gson();\r\n        lastSuggestions.add(new SaveSearchModel(lastSuggestions));\r\n        String json = gson.toJson(lastSuggestions);\r\n        editor.putString(&quot;search_data&quot;, json);\r\n        editor.apply();\r\n        loadSearchSuggestionFromDisk();\r\n        Log.e(&quot;save&quot;, json);\r\n    }\r\n\r\n    // Load search history\r\n    private List&lt;String&gt; loadSearchSuggestionFromDisk() {\r\n        SharedPreferences sharedPreferences = getApplicationContext().getSharedPreferences(&quot;DATA&quot;, MODE_PRIVATE);\r\n        Gson gson = new Gson();\r\n        String json = sharedPreferences.getString(&quot;search_data&quot;, null);\r\n        Type type = new TypeToken&lt;List&lt;String&gt;&gt;() {}.getType();\r\n        List&lt;String&gt; load = gson.fromJson(json, type);\r\n\r\n            if (load == null) {\r\n                List&lt;String&gt; finalLoad = load;\r\n                load = new List&lt;String&gt;() {\r\n                    @Override\r\n                    public int size() {\r\n                        return finalLoad.size();\r\n                    }\r\n\r\n                    @Override\r\n                    public boolean isEmpty() {\r\n                        return false;\r\n                    }\r\n\r\n                    @Override\r\n                    public boolean contains(@Nullable Object o) {\r\n                        return false;\r\n                    }\r\n\r\n                    @NonNull\r\n                    @Override\r\n                    public Iterator&lt;String&gt; iterator() {\r\n                        return null;\r\n                    }\r\n\r\n                    @NonNull\r\n                    @Override\r\n                    public Object[] toArray() {\r\n                        return new Object[0];\r\n                    }\r\n\r\n                    @NonNull\r\n                    @Override\r\n                    public &lt;T&gt; T[] toArray(@NonNull T[] a) {\r\n                        return null;\r\n                    }\r\n\r\n                    @Override\r\n                    public boolean add(String s) {\r\n                        return false;\r\n                    }\r\n\r\n                    @Override\r\n                    public boolean remove(@Nullable Object o) {\r\n                        return false;\r\n                    }\r\n\r\n                    @Override\r\n                    public boolean containsAll(@NonNull Collection&lt;?&gt; c) {\r\n                        return false;\r\n                    }\r\n\r\n                    @Override\r\n                    public boolean addAll(@NonNull Collection&lt;? extends String&gt; c) {\r\n                        return false;\r\n                    }\r\n\r\n                    @Override\r\n                    public boolean addAll(int index, @NonNull Collection&lt;? extends String&gt; c) {\r\n                        return false;\r\n                    }\r\n\r\n                    @Override\r\n                    public boolean removeAll(@NonNull Collection&lt;?&gt; c) {\r\n                        return false;\r\n                    }\r\n\r\n                    @Override\r\n                    public boolean retainAll(@NonNull Collection&lt;?&gt; c) {\r\n                        return false;\r\n                    }\r\n\r\n                    @Override\r\n                    public void clear() {\r\n\r\n                    }\r\n\r\n                    @Override\r\n                    public String get(int index) {\r\n                        return null;\r\n                    }\r\n\r\n                    @Override\r\n                    public String set(int index, String element) {\r\n                        return null;\r\n                    }\r\n\r\n                    @Override\r\n                    public void add(int index, String element) {\r\n\r\n                    }\r\n\r\n                    @Override\r\n                    public String remove(int index) {\r\n                        return null;\r\n                    }\r\n\r\n                    @Override\r\n                    public int indexOf(@Nullable Object o) {\r\n                        return 0;\r\n                    }\r\n\r\n                    @Override\r\n                    public int lastIndexOf(@Nullable Object o) {\r\n                        return 0;\r\n                    }\r\n\r\n                    @NonNull\r\n                    @Override\r\n                    public ListIterator&lt;String&gt; listIterator() {\r\n                        return null;\r\n                    }\r\n\r\n                    @NonNull\r\n                    @Override\r\n                    public ListIterator&lt;String&gt; listIterator(int index) {\r\n                        return null;\r\n                    }\r\n\r\n                    @NonNull\r\n                    @Override\r\n                    public List&lt;String&gt; subList(int fromIndex, int toIndex) {\r\n                        return null;\r\n                    }\r\n                };\r\n            } else {\r\n                for(int i = 0; i &lt; load.size(); i++) {\r\n                   load = searchBar.getLastSuggestions();\r\n                   Log.e(&quot;load&quot;, String.valueOf(load));\r\n\r\n                }\r\n\r\n            }\r\n        return searchBar.getLastSuggestions();\r\n    }\r\n\r\n    @Override\r\n    public void onSearchStateChanged(boolean b) {\r\n        String state = b ? &quot;enable&quot; : &quot;disable&quot;;\r\n        Toast.makeText(this, &quot;Search &quot; + state, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n    @Override\r\n    public void onSearchConfirmed(CharSequence charSequence) {\r\n        SAVE = charSequence.toString();\r\n        Toast.makeText(this, &quot;Searching &quot; + charSequence.toString() + &quot; ...&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n    @Override\r\n    public void onButtonClicked(int i) {\r\n        switch (i) {\r\n            case MaterialSearchBar.BUTTON_NAVIGATION:\r\n                Toast.makeText(MainActivity.this, &quot;Button Nav &quot;, Toast.LENGTH_SHORT).show();\r\n                break;\r\n                case MaterialSearchBar.BUTTON_SPEECH:\r\n                    Toast.makeText(this, &quot;Search&quot;, Toast.LENGTH_SHORT).show();\r\n                    break;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        saveSearchSuggestionToDisk(searchBar.getLastSuggestions());\r\n    }\r\n}\r\n```","title":"Tell me how to save the search history?","body":"<p>I'm trying to save and display the search history. To do this, I use the latest version of the library, the search history is displayed until I exit the application.<code>'com.github.mancj:MaterialSearchBar:0.8.5'</code></p>\n<p>MainActivity</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MainActivity extends AppCompatActivity implements MaterialSearchBar.OnSearchActionListener {\n\n    private MaterialSearchBar searchBar;\n    private List&lt;String&gt; lastSearches;\n    private String SAVE = null;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n\n        searchBar = findViewById(R.id.search);\n        searchBar.setHint(&quot;Your product&quot;);\n        searchBar.setSpeechMode(true);\n        searchBar.setOnSearchActionListener(this);\n\n        //restore last queries from disk\n        lastSearches = loadSearchSuggestionFromDisk();\n        searchBar.setLastSuggestions(lastSearches);\n\n    }\n\n    // Saved search history\n    private void saveSearchSuggestionToDisk(List lastSuggestions) {\n    }\n\n    // Load search history\n    private List&lt;String&gt; loadSearchSuggestionFromDisk() {\n\n    }\n\n    @Override\n    public void onSearchStateChanged(boolean b) {\n        String state = b ? &quot;enable&quot; : &quot;disable&quot;;\n        Toast.makeText(this, &quot;Search &quot; + state, Toast.LENGTH_SHORT).show();\n    }\n\n    @Override\n    public void onSearchConfirmed(CharSequence charSequence) {\n        SAVE = charSequence.toString();\n        Toast.makeText(this, &quot;Searching &quot; + charSequence.toString() + &quot; ...&quot;, Toast.LENGTH_SHORT).show();\n    }\n\n    @Override\n    public void onButtonClicked(int i) {\n        switch (i) {\n            case MaterialSearchBar.BUTTON_NAVIGATION:\n                Toast.makeText(MainActivity.this, &quot;Button Nav &quot;, Toast.LENGTH_SHORT).show();\n                break;\n                case MaterialSearchBar.BUTTON_SPEECH:\n                    Toast.makeText(this, &quot;Search&quot;, Toast.LENGTH_SHORT).show();\n                    break;\n        }\n    }\n\n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n                saveSearchSuggestionToDisk(searchBar.getLastSuggestions());\n    }\n}\n</code></pre>\n<p>On the library page at the very bottom there is an example of a simple application implementation using this library, there is an example for saving and displaying history in a List. But it's not entirely clear to me whether it is necessary to use an arrayList, whether it is necessary to create a model class and, in general, how to save and exit the search history?</p>\n<p>Here I tried to create an example of what you need when you close the application to save all requests in the <code>List</code>\nthrough the method <code>saveSearchSuggestionToDisk(searchBar.getLastSuggestions());</code></p>\n<p>But I have nothing and it didn't work</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MainActivity extends AppCompatActivity implements MaterialSearchBar.OnSearchActionListener {\n\n    private MaterialSearchBar searchBar;\n    private List&lt;String&gt; lastSearches;\n    ArrayList&lt;SaveSearchModel&gt; searchModels;\n    private String SAVE = null;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n\n        searchBar = findViewById(R.id.search);\n        searchBar.setHint(&quot;Your product&quot;);\n        searchBar.setSpeechMode(true);\n        searchBar.setOnSearchActionListener(this);\n\n        //restore last queries from disk\n        lastSearches = loadSearchSuggestionFromDisk();\n        searchBar.setLastSuggestions(lastSearches);\n\n    }\n\n    // Saved search history\n    private void saveSearchSuggestionToDisk(List lastSuggestions) {\n        SharedPreferences sharedPreferences = getApplicationContext().getSharedPreferences(&quot;DATA&quot;, MODE_PRIVATE);\n        SharedPreferences.Editor editor = sharedPreferences.edit();\n\n        Gson gson = new Gson();\n        lastSuggestions.add(new SaveSearchModel(lastSuggestions));\n        String json = gson.toJson(lastSuggestions);\n        editor.putString(&quot;search_data&quot;, json);\n        editor.apply();\n        loadSearchSuggestionFromDisk();\n        Log.e(&quot;save&quot;, json);\n    }\n\n    // Load search history\n    private List&lt;String&gt; loadSearchSuggestionFromDisk() {\n        SharedPreferences sharedPreferences = getApplicationContext().getSharedPreferences(&quot;DATA&quot;, MODE_PRIVATE);\n        Gson gson = new Gson();\n        String json = sharedPreferences.getString(&quot;search_data&quot;, null);\n        Type type = new TypeToken&lt;List&lt;String&gt;&gt;() {}.getType();\n        List&lt;String&gt; load = gson.fromJson(json, type);\n\n            if (load == null) {\n                List&lt;String&gt; finalLoad = load;\n                load = new List&lt;String&gt;() {\n                    @Override\n                    public int size() {\n                        return finalLoad.size();\n                    }\n\n                    @Override\n                    public boolean isEmpty() {\n                        return false;\n                    }\n\n                    @Override\n                    public boolean contains(@Nullable Object o) {\n                        return false;\n                    }\n\n                    @NonNull\n                    @Override\n                    public Iterator&lt;String&gt; iterator() {\n                        return null;\n                    }\n\n                    @NonNull\n                    @Override\n                    public Object[] toArray() {\n                        return new Object[0];\n                    }\n\n                    @NonNull\n                    @Override\n                    public &lt;T&gt; T[] toArray(@NonNull T[] a) {\n                        return null;\n                    }\n\n                    @Override\n                    public boolean add(String s) {\n                        return false;\n                    }\n\n                    @Override\n                    public boolean remove(@Nullable Object o) {\n                        return false;\n                    }\n\n                    @Override\n                    public boolean containsAll(@NonNull Collection&lt;?&gt; c) {\n                        return false;\n                    }\n\n                    @Override\n                    public boolean addAll(@NonNull Collection&lt;? extends String&gt; c) {\n                        return false;\n                    }\n\n                    @Override\n                    public boolean addAll(int index, @NonNull Collection&lt;? extends String&gt; c) {\n                        return false;\n                    }\n\n                    @Override\n                    public boolean removeAll(@NonNull Collection&lt;?&gt; c) {\n                        return false;\n                    }\n\n                    @Override\n                    public boolean retainAll(@NonNull Collection&lt;?&gt; c) {\n                        return false;\n                    }\n\n                    @Override\n                    public void clear() {\n\n                    }\n\n                    @Override\n                    public String get(int index) {\n                        return null;\n                    }\n\n                    @Override\n                    public String set(int index, String element) {\n                        return null;\n                    }\n\n                    @Override\n                    public void add(int index, String element) {\n\n                    }\n\n                    @Override\n                    public String remove(int index) {\n                        return null;\n                    }\n\n                    @Override\n                    public int indexOf(@Nullable Object o) {\n                        return 0;\n                    }\n\n                    @Override\n                    public int lastIndexOf(@Nullable Object o) {\n                        return 0;\n                    }\n\n                    @NonNull\n                    @Override\n                    public ListIterator&lt;String&gt; listIterator() {\n                        return null;\n                    }\n\n                    @NonNull\n                    @Override\n                    public ListIterator&lt;String&gt; listIterator(int index) {\n                        return null;\n                    }\n\n                    @NonNull\n                    @Override\n                    public List&lt;String&gt; subList(int fromIndex, int toIndex) {\n                        return null;\n                    }\n                };\n            } else {\n                for(int i = 0; i &lt; load.size(); i++) {\n                   load = searchBar.getLastSuggestions();\n                   Log.e(&quot;load&quot;, String.valueOf(load));\n\n                }\n\n            }\n        return searchBar.getLastSuggestions();\n    }\n\n    @Override\n    public void onSearchStateChanged(boolean b) {\n        String state = b ? &quot;enable&quot; : &quot;disable&quot;;\n        Toast.makeText(this, &quot;Search &quot; + state, Toast.LENGTH_SHORT).show();\n    }\n\n    @Override\n    public void onSearchConfirmed(CharSequence charSequence) {\n        SAVE = charSequence.toString();\n        Toast.makeText(this, &quot;Searching &quot; + charSequence.toString() + &quot; ...&quot;, Toast.LENGTH_SHORT).show();\n    }\n\n    @Override\n    public void onButtonClicked(int i) {\n        switch (i) {\n            case MaterialSearchBar.BUTTON_NAVIGATION:\n                Toast.makeText(MainActivity.this, &quot;Button Nav &quot;, Toast.LENGTH_SHORT).show();\n                break;\n                case MaterialSearchBar.BUTTON_SPEECH:\n                    Toast.makeText(this, &quot;Search&quot;, Toast.LENGTH_SHORT).show();\n                    break;\n        }\n    }\n\n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n        saveSearchSuggestionToDisk(searchBar.getLastSuggestions());\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-handler","ui-thread","android-runonuithread"],"comments":[{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1680939036,"post_id":75962148,"comment_id":133981928,"body_markdown":"so everytime the start button is pressed, a new thread will be created counting on a shared variable. this is an issue. however the main problem here the count operation will be so fast, the human eye cannot catch the numbers. You should use a time based event instead of using a while loop since this is not an embedded bare metal microcontroller app. You develop an app which will run on top of an operating system.","body":"so everytime the start button is pressed, a new thread will be created counting on a shared variable. this is an issue. however the main problem here the count operation will be so fast, the human eye cannot catch the numbers. You should use a time based event instead of using a while loop since this is not an embedded bare metal microcontroller app. You develop an app which will run on top of an operating system."}],"answers":[{"tags":[],"owner":{"account_id":9284974,"reputation":2973,"user_id":6895166,"accept_rate":40,"display_name":"SamHoque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680904093,"creation_date":1680904093,"answer_id":75962178,"question_id":75962148,"body_markdown":"You should use `runOnUiThread`, since the `while` loop is blocking the UI thread.\r\n\r\n    runOnUiThread(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            tv.setText(&quot; &quot;+count);\r\n        }\r\n    });\r\n\r\n\r\nhere&#39;s the refactored code to get this working.\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        boolean start;\r\n        int count=0;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            Button bt1=findViewById(R.id.button);\r\n            Button bt2=findViewById(R.id.button2);\r\n            TextView tv=findViewById(R.id.textView);\r\n    \r\n            bt1.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    start=true;\r\n                    new Thread(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            while(start){\r\n                                runOnUiThread(new Runnable() {\r\n                                    @Override\r\n                                    public void run() {\r\n                                        tv.setText(&quot; &quot;+count);\r\n                                    }\r\n                                });\r\n                                count++;\r\n                            }\r\n                        }\r\n                    }).start();\r\n                }\r\n            });\r\n    \r\n            bt2.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    start=false;\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Issue in rendering items in the main thread from a worker thread","body":"<p>You should use <code>runOnUiThread</code>, since the <code>while</code> loop is blocking the UI thread.</p>\n<pre><code>runOnUiThread(new Runnable() {\n    @Override\n    public void run() {\n        tv.setText(&quot; &quot;+count);\n    }\n});\n</code></pre>\n<p>here's the refactored code to get this working.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    boolean start;\n    int count=0;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        Button bt1=findViewById(R.id.button);\n        Button bt2=findViewById(R.id.button2);\n        TextView tv=findViewById(R.id.textView);\n\n        bt1.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                start=true;\n                new Thread(new Runnable() {\n                    @Override\n                    public void run() {\n                        while(start){\n                            runOnUiThread(new Runnable() {\n                                @Override\n                                public void run() {\n                                    tv.setText(&quot; &quot;+count);\n                                }\n                            });\n                            count++;\n                        }\n                    }\n                }).start();\n            }\n        });\n\n        bt2.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                start=false;\n            }\n        });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19586593,"reputation":103,"user_id":14334579,"display_name":"Ninad Walanj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680904093,"creation_date":1680903731,"question_id":75962148,"body_markdown":"I have created a counter app that counts from 0 to infinity until the loop is stopped using a stop button. The app contains 2 buttons(start and stop) and 1 textview. \r\nI aim to display the values from 0 to infinity(until the loop is stopped) in the textview. I am using a while loop.\r\n\r\nFor example, the count value starts from 0 so the while loop starts from 0 and continues until the loop is terminated using the stop button. I want to display values in real time in the textview.\r\n\r\n\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        boolean start;\r\n        int count=0;\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            Button bt1=findViewById(R.id.button);\r\n            Button bt2=findViewById(R.id.button2);\r\n            TextView tv=findViewById(R.id.textView);\r\n            Handler h=new Handler(getApplicationContext().getMainLooper());\r\n            \r\n    \r\n            bt1.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    start=true;\r\n                    new Thread(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            while(start){\r\n                                    count=count+1;\r\n                            }\r\n                            h.post(new Runnable() {\r\n                                @Override\r\n                                public void run() {\r\n                                    tv.setText(&quot; &quot;+count);\r\n                                }\r\n                            });\r\n                        }\r\n                    }).start();\r\n    \r\n                }\r\n            });\r\n            bt2.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    start=false;\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n\r\nThe code above is not displaying values in real-time in the textview. What&#39;s the issue? Also, should I use a handler or runonUIThread for such tasks?\r\n\r\nHelp will be appreciated!","title":"Issue in rendering items in the main thread from a worker thread","body":"<p>I have created a counter app that counts from 0 to infinity until the loop is stopped using a stop button. The app contains 2 buttons(start and stop) and 1 textview.\nI aim to display the values from 0 to infinity(until the loop is stopped) in the textview. I am using a while loop.</p>\n<p>For example, the count value starts from 0 so the while loop starts from 0 and continues until the loop is terminated using the stop button. I want to display values in real time in the textview.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    boolean start;\n    int count=0;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        Button bt1=findViewById(R.id.button);\n        Button bt2=findViewById(R.id.button2);\n        TextView tv=findViewById(R.id.textView);\n        Handler h=new Handler(getApplicationContext().getMainLooper());\n        \n\n        bt1.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                start=true;\n                new Thread(new Runnable() {\n                    @Override\n                    public void run() {\n                        while(start){\n                                count=count+1;\n                        }\n                        h.post(new Runnable() {\n                            @Override\n                            public void run() {\n                                tv.setText(&quot; &quot;+count);\n                            }\n                        });\n                    }\n                }).start();\n\n            }\n        });\n        bt2.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                start=false;\n            }\n        });\n    }\n}\n</code></pre>\n<p>The code above is not displaying values in real-time in the textview. What's the issue? Also, should I use a handler or runonUIThread for such tasks?</p>\n<p>Help will be appreciated!</p>\n"},{"tags":["java","android","sorting","arraylist"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":4,"creation_date":1680892176,"post_id":75961028,"comment_id":133977310,"body_markdown":"In essence, the `ArrayList` is _always_ sorted by indices: the indices define the location of the objects. If you wanted to &quot;restore&quot; these locations after a sort operation, you would need to store the old order in some form (e.g. a `Map` or a copy list).","body":"In essence, the <code>ArrayList</code> is <i>always</i> sorted by indices: the indices define the location of the objects. If you wanted to &quot;restore&quot; these locations after a sort operation, you would need to store the old order in some form (e.g. a <code>Map</code> or a copy list)."},{"owner":{"account_id":28193841,"reputation":1,"user_id":21548811,"display_name":"Vitamin"},"score":0,"creation_date":1680892770,"post_id":75961028,"comment_id":133977425,"body_markdown":"I use sort in view. If I `recreate` view it shows as is.","body":"I use sort in view. If I <code>recreate</code> view it shows as is."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":2,"creation_date":1680894212,"post_id":75961028,"comment_id":133977670,"body_markdown":"If you need the original order then don&#39;t sort the list itself. Sort a copy of it and use that for displaying the values","body":"If you need the original order then don&#39;t sort the list itself. Sort a copy of it and use that for displaying the values"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680903814,"creation_date":1680894270,"answer_id":75961286,"question_id":75961028,"body_markdown":"# Make a copy of array\r\n\r\n&gt; After sort it i don&#39;t know how I can make it unsorted back.\r\n\r\nYou cannot. \r\n\r\nA `List` by definition keeps each element in a specific “slot”, each slot identified by index number. \r\n\r\nIf you sort the list, you move the contents (an object reference) from one slot to another. After sorting, there is no way to know the previous slot assignment. \r\n\r\nIf you care about both the new order *and* the old order, &#128073;&#127997; copy the list before sorting. \r\n\r\nYou can make an unmodifiable list by calling `List.copyOf`. \r\n\r\n## Example\r\n\r\nFor brevity, we define a [record][1] for your `Car` class.\r\n\r\n```java\r\nrecord Car( int id , String name ) { }\r\n```\r\n\r\nAnd your example data. Note that [`List.of`][2] returns an [unmodifiable list][3].\r\n\r\n```java\r\nList &lt; Car &gt; carsOriginal =\r\n        List.of(\r\n                new Car( 15 , &quot;BMW X3&quot; ) ,\r\n                new Car( 27 , &quot;Audi Q3&quot; ) ,\r\n                new Car( 20 , &quot;Toyota Rav4&quot; )\r\n        );\r\n```\r\n\r\n[Reverse that original order][4]. Understand that we are turning the array on its head, upside down. We are *not* sorting by the content of the elements.\r\n\r\n```java\r\nList &lt; Car &gt; carsOriginalReversed = new ArrayList &lt;&gt;( carsOriginal );  // Create a new modifiable list from our original unmodifiable array. We are copying *object references* here, not copying objects.\r\nCollections.reverse( carsOriginalReversed );  // *NOT* `Collections.reverseOrder`.\r\n```\r\n\r\nNow let&#39;s sort by content of the elements. For brevity of syntax, let&#39;s use streams to sort the elements, [producing a new unmodifiable list][5]. \r\n\r\n```java\r\nList &lt; Car &gt; carsById = carsOriginal.stream().sorted( Comparator.comparing( Car :: id ) ).toList();\r\nList &lt; Car &gt; carsByName = carsOriginal.stream().sorted( Comparator.comparing( Car :: name ) ).toList();\r\n```\r\n\r\nFor clarity, let&#39;s reformat that code, wrapping lines.\r\n\r\n```java\r\nList &lt; Car &gt; carsById = \r\n    carsOriginal\r\n    .stream()\r\n    .sorted( \r\n        Comparator.comparing( Car :: id ) \r\n    )\r\n    .toList();\r\n\r\nList &lt; Car &gt; carsByName = \r\n    carsOriginal\r\n    .stream()\r\n    .sorted( \r\n        Comparator.comparing( Car :: name ) \r\n    )\r\n    .toList();\r\n```\r\n\r\nWhen run:\r\n\r\n```none\r\ncarsOriginal = [Car[id=15, name=BMW X3], Car[id=27, name=Audi Q3], Car[id=20, name=Toyota Rav4]]\r\ncarsOriginalReversed = [Car[id=20, name=Toyota Rav4], Car[id=27, name=Audi Q3], Car[id=15, name=BMW X3]]\r\ncarsById = [Car[id=15, name=BMW X3], Car[id=20, name=Toyota Rav4], Car[id=27, name=Audi Q3]]\r\ncarsByName = [Car[id=27, name=Audi Q3], Car[id=15, name=BMW X3], Car[id=20, name=Toyota Rav4]]\r\n```\r\n\r\nUnderstand that copying a list does *not* copy the contained objects. A `List` is a collection of *object references*, not *objects*. Our four lists seen in this example all point to the very same original `Car` objects. After the `List.of(`, we do *not* instantiate any more `Car` objects in the subsequent lines.\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/395\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#of(E,E,E)\r\n  [3]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#unmodifiable\r\n  [4]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collections.html#reverse(java.util.List)\r\n  [5]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Stream.html#toList()","title":"Is it possible to sort an ArrayList by index?","body":"<h1>Make a copy of array</h1>\n<blockquote>\n<p>After sort it i don't know how I can make it unsorted back.</p>\n</blockquote>\n<p>You cannot.</p>\n<p>A <code>List</code> by definition keeps each element in a specific “slot”, each slot identified by index number.</p>\n<p>If you sort the list, you move the contents (an object reference) from one slot to another. After sorting, there is no way to know the previous slot assignment.</p>\n<p>If you care about both the new order <em>and</em> the old order, 👉🏽 copy the list before sorting.</p>\n<p>You can make an unmodifiable list by calling <code>List.copyOf</code>.</p>\n<h2>Example</h2>\n<p>For brevity, we define a <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">record</a> for your <code>Car</code> class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>record Car( int id , String name ) { }\n</code></pre>\n<p>And your example data. Note that <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#of(E,E,E)\" rel=\"nofollow noreferrer\"><code>List.of</code></a> returns an <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#unmodifiable\" rel=\"nofollow noreferrer\">unmodifiable list</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt; Car &gt; carsOriginal =\n        List.of(\n                new Car( 15 , &quot;BMW X3&quot; ) ,\n                new Car( 27 , &quot;Audi Q3&quot; ) ,\n                new Car( 20 , &quot;Toyota Rav4&quot; )\n        );\n</code></pre>\n<p><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collections.html#reverse(java.util.List)\" rel=\"nofollow noreferrer\">Reverse that original order</a>. Understand that we are turning the array on its head, upside down. We are <em>not</em> sorting by the content of the elements.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt; Car &gt; carsOriginalReversed = new ArrayList &lt;&gt;( carsOriginal );  // Create a new modifiable list from our original unmodifiable array. We are copying *object references* here, not copying objects.\nCollections.reverse( carsOriginalReversed );  // *NOT* `Collections.reverseOrder`.\n</code></pre>\n<p>Now let's sort by content of the elements. For brevity of syntax, let's use streams to sort the elements, <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Stream.html#toList()\" rel=\"nofollow noreferrer\">producing a new unmodifiable list</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt; Car &gt; carsById = carsOriginal.stream().sorted( Comparator.comparing( Car :: id ) ).toList();\nList &lt; Car &gt; carsByName = carsOriginal.stream().sorted( Comparator.comparing( Car :: name ) ).toList();\n</code></pre>\n<p>For clarity, let's reformat that code, wrapping lines.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt; Car &gt; carsById = \n    carsOriginal\n    .stream()\n    .sorted( \n        Comparator.comparing( Car :: id ) \n    )\n    .toList();\n\nList &lt; Car &gt; carsByName = \n    carsOriginal\n    .stream()\n    .sorted( \n        Comparator.comparing( Car :: name ) \n    )\n    .toList();\n</code></pre>\n<p>When run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>carsOriginal = [Car[id=15, name=BMW X3], Car[id=27, name=Audi Q3], Car[id=20, name=Toyota Rav4]]\ncarsOriginalReversed = [Car[id=20, name=Toyota Rav4], Car[id=27, name=Audi Q3], Car[id=15, name=BMW X3]]\ncarsById = [Car[id=15, name=BMW X3], Car[id=20, name=Toyota Rav4], Car[id=27, name=Audi Q3]]\ncarsByName = [Car[id=27, name=Audi Q3], Car[id=15, name=BMW X3], Car[id=20, name=Toyota Rav4]]\n</code></pre>\n<p>Understand that copying a list does <em>not</em> copy the contained objects. A <code>List</code> is a collection of <em>object references</em>, not <em>objects</em>. Our four lists seen in this example all point to the very same original <code>Car</code> objects. After the <code>List.of(</code>, we do <em>not</em> instantiate any more <code>Car</code> objects in the subsequent lines.</p>\n"},{"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680896983,"creation_date":1680896983,"answer_id":75961535,"question_id":75961028,"body_markdown":"I am not sure if that is what you are after but you can leave alone carsArray and instead create an index sorted the way you want. Next time you will insert new element to carsArray, you will recreate index array.\r\n\r\nIndex array will look as follows:\r\n\r\n    ArrayList&lt;Integer&gt; inds = new ArrayList&lt;&gt;();\r\n    for (int i = 0; i &lt; carsArray.size(); i++) {\r\n        inds.add(i);\r\n    }\r\n\r\nthen you need custom comparators to sort indexes:\r\n\r\n    Comparator&lt;Integer&gt; byName = (i1, i2) -&gt; carsArray.get(i1).getName().compareTo(carsArray.get(i2).getName());\r\n    Comparator&lt;Integer&gt; byID = (i1, i2) -&gt; Integer.compare(carsArray.get(i1).getID(), carsArray.get(i2).getID());\r\n\r\nthen you sort index array using:\r\n\r\n    Collections.sort(inds, byName);\r\n\r\nor:\r\n\r\n    Collections.sort(inds, byID);\r\n\r\nRemember to recreate index array each time you add new element to carsArray.\r\n\r\nFinally to print all the cars using index array use:\r\n\r\n    for (Integer index : inds) {\r\n        System.out.println(carsArray.get(index));\r\n    }\r\n\r\nThis way carsArray will always have original order, the way items were inserted.\r\n\r\nAnother aproach, might be easier, is to keep a copy of the original array:\r\n\r\n    ArrayList&lt;Car&gt; originalCarsArray = new ArrayList&lt;&gt;(carsArray);\r\n\r\nyou can always easily bring back original cars array this way:\r\n\r\n    carsArray = new ArrayList&lt;&gt;(originalCarsArray);","title":"Is it possible to sort an ArrayList by index?","body":"<p>I am not sure if that is what you are after but you can leave alone carsArray and instead create an index sorted the way you want. Next time you will insert new element to carsArray, you will recreate index array.</p>\n<p>Index array will look as follows:</p>\n<pre><code>ArrayList&lt;Integer&gt; inds = new ArrayList&lt;&gt;();\nfor (int i = 0; i &lt; carsArray.size(); i++) {\n    inds.add(i);\n}\n</code></pre>\n<p>then you need custom comparators to sort indexes:</p>\n<pre><code>Comparator&lt;Integer&gt; byName = (i1, i2) -&gt; carsArray.get(i1).getName().compareTo(carsArray.get(i2).getName());\nComparator&lt;Integer&gt; byID = (i1, i2) -&gt; Integer.compare(carsArray.get(i1).getID(), carsArray.get(i2).getID());\n</code></pre>\n<p>then you sort index array using:</p>\n<pre><code>Collections.sort(inds, byName);\n</code></pre>\n<p>or:</p>\n<pre><code>Collections.sort(inds, byID);\n</code></pre>\n<p>Remember to recreate index array each time you add new element to carsArray.</p>\n<p>Finally to print all the cars using index array use:</p>\n<pre><code>for (Integer index : inds) {\n    System.out.println(carsArray.get(index));\n}\n</code></pre>\n<p>This way carsArray will always have original order, the way items were inserted.</p>\n<p>Another aproach, might be easier, is to keep a copy of the original array:</p>\n<pre><code>ArrayList&lt;Car&gt; originalCarsArray = new ArrayList&lt;&gt;(carsArray);\n</code></pre>\n<p>you can always easily bring back original cars array this way:</p>\n<pre><code>carsArray = new ArrayList&lt;&gt;(originalCarsArray);\n</code></pre>\n"}],"owner":{"account_id":28193841,"reputation":1,"user_id":21548811,"display_name":"Vitamin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1680903814,"creation_date":1680891593,"question_id":75961028,"body_markdown":"I have an `ArrayList&lt;Car&gt; carsArray` which contain objects with `ID` and `Name`. I can sort it by `ID` and `Name` using `Collections.sort`: \r\n```\r\ncarsArray.sort(comparing(Car::getName));\r\ncarsArray.sort(comparing(Car::getID));\r\n```\r\nit works fine. But I want also sort by index in Array. Or in other words get back this Array as is by showing the new added positions on top of this Array. When I show this Array first time it&#39;s showing as is from new added positions to last. After sort it i don&#39;t know how I can make it unsorted back. Remark - `ID` is not equal to the `Index`.\r\n```\r\n{ID:15,Name:BMW X3}      //index = 2\r\n{ID:27,Name:Audi Q3}     //index = 1\r\n{ID:20,Name:Toyota Rav4} //index = 0\r\n```\r\nAfter restarting view it shows unsorted from last index as I want. To add objects in it I use `notifyItemChanged()`.","title":"Is it possible to sort an ArrayList by index?","body":"<p>I have an <code>ArrayList&lt;Car&gt; carsArray</code> which contain objects with <code>ID</code> and <code>Name</code>. I can sort it by <code>ID</code> and <code>Name</code> using <code>Collections.sort</code>:</p>\n<pre><code>carsArray.sort(comparing(Car::getName));\ncarsArray.sort(comparing(Car::getID));\n</code></pre>\n<p>it works fine. But I want also sort by index in Array. Or in other words get back this Array as is by showing the new added positions on top of this Array. When I show this Array first time it's showing as is from new added positions to last. After sort it i don't know how I can make it unsorted back. Remark - <code>ID</code> is not equal to the <code>Index</code>.</p>\n<pre><code>{ID:15,Name:BMW X3}      //index = 2\n{ID:27,Name:Audi Q3}     //index = 1\n{ID:20,Name:Toyota Rav4} //index = 0\n</code></pre>\n<p>After restarting view it shows unsorted from last index as I want. To add objects in it I use <code>notifyItemChanged()</code>.</p>\n"},{"tags":["java","spring","spring-boot","testing","integration-testing"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":4,"creation_date":1553252190,"post_id":55297676,"comment_id":97324530,"body_markdown":"properties files don&#39;t go to src/test/java. That&#39;s for **java** source files. They go to src/test/resources.","body":"properties files don&#39;t go to src/test/java. That&#39;s for <b>java</b> source files. They go to src/test/resources."}],"answers":[{"tags":[],"owner":{"account_id":1962480,"reputation":15473,"user_id":1763602,"accept_rate":76,"display_name":"Marco Sulla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680903757,"creation_date":1553278432,"answer_id":55305594,"question_id":55297676,"body_markdown":"Following [JB Nizet&#39;s comment](https://stackoverflow.com/questions/55297676/junit-test-run-in-eclipse-but-fails-with-gradle-test#comment97324530_55297676) I put my property file under `src/test/resources` and added the folder to the build path in Eclipse.","title":"Junit test run in Eclipse but fails with `gradle test`","body":"<p>Following <a href=\"https://stackoverflow.com/questions/55297676/junit-test-run-in-eclipse-but-fails-with-gradle-test#comment97324530_55297676\">JB Nizet's comment</a> I put my property file under <code>src/test/resources</code> and added the folder to the build path in Eclipse.</p>\n"}],"owner":{"account_id":1962480,"reputation":15473,"user_id":1763602,"accept_rate":76,"display_name":"Marco Sulla"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1078,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":55305594,"answer_count":1,"score":0,"last_activity_date":1680903757,"creation_date":1553250719,"question_id":55297676,"body_markdown":"I&#39;m using Spring Boot 2 and I&#39;m trying to do an integration test.\r\nI configured a custom `application.properties` this way:\r\n\r\n\r\n    @TestPropertySource(\r\n        locations = &quot;classpath:###/$$$/application-integrationtest.properties&quot;\r\n    )\r\n    @ComponentScan(basePackages = { &quot;###.$$$&quot; })\r\n\r\nFile is under `src/test/java/###/$$$/application-integrationtest.properties`\r\n\r\nRunning Junit under Eclipse works fine, but if I try `gradle test`, I get:\r\n\r\n&gt; java.io.FileNotFoundException: class path resource\r\n&gt; [###/$$$/application-integrationtest.properties] cannot be opened\r\n&gt; because it does not exist\r\n\r\nWhat&#39;s the deal?","title":"Junit test run in Eclipse but fails with `gradle test`","body":"<p>I'm using Spring Boot 2 and I'm trying to do an integration test.\nI configured a custom <code>application.properties</code> this way:</p>\n\n<pre><code>@TestPropertySource(\n    locations = \"classpath:###/$$$/application-integrationtest.properties\"\n)\n@ComponentScan(basePackages = { \"###.$$$\" })\n</code></pre>\n\n<p>File is under <code>src/test/java/###/$$$/application-integrationtest.properties</code></p>\n\n<p>Running Junit under Eclipse works fine, but if I try <code>gradle test</code>, I get:</p>\n\n<blockquote>\n  <p>java.io.FileNotFoundException: class path resource\n  [###/$$$/application-integrationtest.properties] cannot be opened\n  because it does not exist</p>\n</blockquote>\n\n<p>What's the deal?</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":957259,"reputation":29625,"user_id":982341,"display_name":"GreyBeardedGeek"},"score":0,"creation_date":1336436707,"post_id":10488529,"comment_id":13559336,"body_markdown":"I think that you&#39;re making this a bit more complex than it needs to be. JDBC supports retrieving a timestamp with a calendar for when the database does not support timezones. MySQL does, so this is unnecessary. You can (probably) forget about all of the custom settings on the jdbc url too. Just use getDate(), and you will get a java.util.Date, which is timezone independent until you format it with a specific timezone.","body":"I think that you&#39;re making this a bit more complex than it needs to be. JDBC supports retrieving a timestamp with a calendar for when the database does not support timezones. MySQL does, so this is unnecessary. You can (probably) forget about all of the custom settings on the jdbc url too. Just use getDate(), and you will get a java.util.Date, which is timezone independent until you format it with a specific timezone."},{"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"score":0,"creation_date":1336455249,"post_id":10488529,"comment_id":13562664,"body_markdown":"Well, this is how it works: `&amp;useGmtMillisForDatetimes=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;useTimezone=true&amp;serverTimezone=UTC`, but thanks for your suggestion, I&#39;ll give it a try","body":"Well, this is how it works: <code>&amp;useGmtMillisForDatetimes=true&amp;useJDBCCompliantTimezoneShift&zwnj;&#8203;=true&amp;useLegacyDatet&zwnj;&#8203;imeCode=false&amp;useTim&zwnj;&#8203;ezone=true&amp;serverTim&zwnj;&#8203;ezone=UTC</code>, but thanks for your suggestion, I&#39;ll give it a try"}],"answers":[{"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1353078296,"creation_date":1336469906,"answer_id":10496124,"question_id":10488529,"body_markdown":"With these [JDBC URL params](http://dev.mysql.com/doc/refman/5.0/en/connector-j-reference-configuration-properties.html) it works:\r\n\r\n    useGmtMillisForDatetimes=true\r\n    useJDBCCompliantTimezoneShift=true\r\n    useLegacyDate‌timeCode=false\r\n    useTimezone=true\r\n    serverTimezone=UTC\r\n\r\n","title":"getTimestamp() does timezone converstion twice in MySQL JDBC connector?","body":"<p>With these <a href=\"http://dev.mysql.com/doc/refman/5.0/en/connector-j-reference-configuration-properties.html\">JDBC URL params</a> it works:</p>\n\n<pre><code>useGmtMillisForDatetimes=true\nuseJDBCCompliantTimezoneShift=true\nuseLegacyDate‌timeCode=false\nuseTimezone=true\nserverTimezone=UTC\n</code></pre>\n"},{"tags":[],"owner":{"account_id":386394,"reputation":9197,"user_id":744133,"accept_rate":57,"display_name":"YoYo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680903612,"creation_date":1680903288,"answer_id":75962099,"question_id":10488529,"body_markdown":"This is from documentation on [Connector/J 8.0.32 - Preserving Time Instants](https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-time-instants.html) :\r\n\r\n&gt; Use `preserveInstants=true&amp;connectionTimeZone=SERVER`\r\n&gt;\r\n&gt; This setting corresponds to the default behavior of Connector/J 8.0.22 and before and to the behavior of Connector/J 5.1 with `useLegacyDatetimeCode=false`.\r\n\r\nI would suggest to follow that advice, remove `useTimezone=true` and `serverTimezone`, and then,\r\n\r\n* for Connector/J 5.1 add `useLegacyDatetimeCode=false`,\r\n* for 8.0.22 and before no additional change,\r\n* for 8.0.23 add `preserveInstants=true` and `connectionTimeZone=SERVER`\r\n\r\nso for your case with 5.1 (old posting), this would become\r\n\r\n```\r\nuseLegacyDate‌timeCode=false\r\n```\r\n\r\nor for 8.0.23\r\n\r\n```\r\npreserveInstants=true\r\nconnectionTimeZone=SERVER\r\n```\r\n\r\nAlso consider keeping your `useGmtMillisForDatetimes=true`, not sure why it was needed, but otherwise I have removed all other timezone related properties.","title":"getTimestamp() does timezone converstion twice in MySQL JDBC connector?","body":"<p>This is from documentation on <a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-time-instants.html\" rel=\"nofollow noreferrer\">Connector/J 8.0.32 - Preserving Time Instants</a> :</p>\n<blockquote>\n<p>Use <code>preserveInstants=true&amp;connectionTimeZone=SERVER</code></p>\n<p>This setting corresponds to the default behavior of Connector/J 8.0.22 and before and to the behavior of Connector/J 5.1 with <code>useLegacyDatetimeCode=false</code>.</p>\n</blockquote>\n<p>I would suggest to follow that advice, remove <code>useTimezone=true</code> and <code>serverTimezone</code>, and then,</p>\n<ul>\n<li>for Connector/J 5.1 add <code>useLegacyDatetimeCode=false</code>,</li>\n<li>for 8.0.22 and before no additional change,</li>\n<li>for 8.0.23 add <code>preserveInstants=true</code> and <code>connectionTimeZone=SERVER</code></li>\n</ul>\n<p>so for your case with 5.1 (old posting), this would become</p>\n<pre><code>useLegacyDate‌timeCode=false\n</code></pre>\n<p>or for 8.0.23</p>\n<pre><code>preserveInstants=true\nconnectionTimeZone=SERVER\n</code></pre>\n<p>Also consider keeping your <code>useGmtMillisForDatetimes=true</code>, not sure why it was needed, but otherwise I have removed all other timezone related properties.</p>\n"}],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7311,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":10496124,"answer_count":2,"score":12,"last_activity_date":1680903612,"creation_date":1336421853,"question_id":10488529,"body_markdown":"I have a column of type `DATETIME` wiht a value of `2012-05-07 19:59:12` in MySQL database. I&#39;m trying to retrieve this value from DB, assuming that it&#39;s stored in UTC timezone:\r\n\r\n    Calendar cal = Calendar.getInstance(new SimpleTimeZone(0, &quot;UTC&quot;));\r\n    Date date = resultSet.getTimestamp(1, cal);\r\n    System.out.println(date);\r\n\r\nIt outputs (`CEST` is my local timezone, which is 2 hours ahead of UTC):\r\n\r\n    Mon May 07 23:59:12 CEST 2012\r\n\r\nExpected value is: \r\n\r\n    Mon May 07 21:59:12 CEST 2012\r\n\r\nI&#39;m using these three params in JDBC URL (`Europe/Berlin` is the same as `CEST`):\r\n\r\n    ..&amp;useGmtMillisForDatetimes=true&amp;useTimezone=true&amp;serverTimezone=Europe/Berlin\r\n\r\nIs it my defect or something should be configured additionally in the JDBC driver? I&#39;m using `mysql:mysql-connector-java:5.1.20`.","title":"getTimestamp() does timezone converstion twice in MySQL JDBC connector?","body":"<p>I have a column of type <code>DATETIME</code> wiht a value of <code>2012-05-07 19:59:12</code> in MySQL database. I'm trying to retrieve this value from DB, assuming that it's stored in UTC timezone:</p>\n\n<pre><code>Calendar cal = Calendar.getInstance(new SimpleTimeZone(0, \"UTC\"));\nDate date = resultSet.getTimestamp(1, cal);\nSystem.out.println(date);\n</code></pre>\n\n<p>It outputs (<code>CEST</code> is my local timezone, which is 2 hours ahead of UTC):</p>\n\n<pre><code>Mon May 07 23:59:12 CEST 2012\n</code></pre>\n\n<p>Expected value is: </p>\n\n<pre><code>Mon May 07 21:59:12 CEST 2012\n</code></pre>\n\n<p>I'm using these three params in JDBC URL (<code>Europe/Berlin</code> is the same as <code>CEST</code>):</p>\n\n<pre><code>..&amp;useGmtMillisForDatetimes=true&amp;useTimezone=true&amp;serverTimezone=Europe/Berlin\n</code></pre>\n\n<p>Is it my defect or something should be configured additionally in the JDBC driver? I'm using <code>mysql:mysql-connector-java:5.1.20</code>.</p>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":8361573,"reputation":573,"user_id":6279677,"display_name":"Suchandra T"},"score":2,"creation_date":1680890338,"post_id":75960889,"comment_id":133976988,"body_markdown":"ResultSet rs = teststmt.executeQuery(&quot;select * ;&quot;); // test query to make sure connection is real\n\nthis is incorrect format. instead you use this             ResultSet rs = teststmt.executeQuery(&quot;select 1 ;&quot;); // test query to make sure connection is real\nto make sure connecting is working.","body":"ResultSet rs = teststmt.executeQuery(&quot;select * ;&quot;); // test query to make sure connection is real  this is incorrect format. instead you use this             ResultSet rs = teststmt.executeQuery(&quot;select 1 ;&quot;); // test query to make sure connection is real to make sure connecting is working."},{"owner":{"account_id":27712112,"reputation":11,"user_id":21154571,"display_name":"We ball"},"score":0,"creation_date":1680890876,"post_id":75960889,"comment_id":133977073,"body_markdown":"thank you i forgot i had that there","body":"thank you i forgot i had that there"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1680901017,"post_id":75960889,"comment_id":133978741,"body_markdown":"So: change `&quot;select * ;&quot;` to `&quot;select 1&quot;`.","body":"So: change <code>&quot;select * ;&quot;</code> to <code>&quot;select 1&quot;</code>."},{"owner":{"account_id":1053202,"reputation":59956,"user_id":1056563,"accept_rate":90,"display_name":"WestCoastProjects"},"score":0,"creation_date":1680906093,"post_id":75960889,"comment_id":133979474,"body_markdown":"@andrewJames That&#39;s an interesting one. I never thought of doing bare  `select *` before so in 20+ years of sql never ran  into this","body":"@andrewJames That&#39;s an interesting one. I never thought of doing bare  <code>select *</code> before so in 20+ years of sql never ran  into this"}],"answers":[{"tags":[],"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680903193,"creation_date":1680902638,"answer_id":75962041,"question_id":75960889,"body_markdown":"To wrap up the solution from the comments, and add a little bit of information, in the hope it would be of use for others getting here. \r\n\r\nThe solution is replacing `&quot;select *;&quot;` by `&quot;select 1&quot;`, the exception is thrown because JDBC cannot determine the columns from the former SQL query.","title":"how do i determine what is causing a &quot;java.SQLException no table used&quot; error and solve it","body":"<p>To wrap up the solution from the comments, and add a little bit of information, in the hope it would be of use for others getting here.</p>\n<p>The solution is replacing <code>&quot;select *;&quot;</code> by <code>&quot;select 1&quot;</code>, the exception is thrown because JDBC cannot determine the columns from the former SQL query.</p>\n"}],"owner":{"account_id":27712112,"reputation":11,"user_id":21154571,"display_name":"We ball"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1680903193,"creation_date":1680890101,"question_id":75960889,"body_markdown":"I am recieving an exception after executing a query to select from a table in java. The query runs properly in mySQL but when its used in java i&#39;ll get the exception. I tried running the exact same query in mySQL and it runs fine but it&#39;ll give an exception on java. \r\n\r\n    public static void main(String[] args) throws SQLException,ClassNotFoundException {\r\n            try {\r\n                Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n                Connection Con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/eldenringbuildgenerator&quot; , &quot;root&quot;, &quot;admin&quot;);\r\n                Statement teststmt = Con.createStatement();\r\n                ResultSet rs = teststmt.executeQuery(&quot;select * ;&quot;); // test query to make sure connection is real\r\n                rs = teststmt.executeQuery(&quot;select ArmorTypeID,ArmorTypeName from armortypes;&quot;);\r\n                // will delete later\r\n                while (rs.next()) {\r\n                    System.out.print(rs.getInt(1) + &quot; &quot; + rs.getString(2) + &quot; &quot; );\r\n                }\r\n            } catch (SQLException e){\r\n                System.out.print(e);\r\n            }","title":"how do i determine what is causing a &quot;java.SQLException no table used&quot; error and solve it","body":"<p>I am recieving an exception after executing a query to select from a table in java. The query runs properly in mySQL but when its used in java i'll get the exception. I tried running the exact same query in mySQL and it runs fine but it'll give an exception on java.</p>\n<pre><code>public static void main(String[] args) throws SQLException,ClassNotFoundException {\n        try {\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n            Connection Con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/eldenringbuildgenerator&quot; , &quot;root&quot;, &quot;admin&quot;);\n            Statement teststmt = Con.createStatement();\n            ResultSet rs = teststmt.executeQuery(&quot;select * ;&quot;); // test query to make sure connection is real\n            rs = teststmt.executeQuery(&quot;select ArmorTypeID,ArmorTypeName from armortypes;&quot;);\n            // will delete later\n            while (rs.next()) {\n                System.out.print(rs.getInt(1) + &quot; &quot; + rs.getString(2) + &quot; &quot; );\n            }\n        } catch (SQLException e){\n            System.out.print(e);\n        }\n</code></pre>\n"},{"tags":["java","arrays","sorting","java-stream","comparator"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1680903182,"post_id":75962026,"comment_id":133979086,"body_markdown":"Does this answer your question? https://stackoverflow.com/questions/29567575/sort-map-by-value-using-lambdas-and-streams  Or, similar questions: https://stackoverflow.com/search?q=%5Bjava%5D+sort+map+value+streams","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/29567575/sort-map-by-value-using-lambdas-and-streams\" title=\"sort map by value using lambdas and streams\">stackoverflow.com/questions/29567575/&hellip;</a>  Or, similar questions: <a href=\"https://stackoverflow.com/search?q=%5Bjava%5D+sort+map+value+streams\">stackoverflow.com/search?q=%5Bjava%5D+sort+map+value+streams</a>"}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680902796,"creation_date":1680902796,"answer_id":75962059,"question_id":75962026,"body_markdown":"With an array of `MyObject` defined as follows:\r\n\r\n```java\r\nrecord MyObject(String key, String value) {}\r\n```\r\n\r\nYou can use `Comparator.comparing` with a method reference to sort it.\r\n\r\n```java\r\nMyObject[] res = Arrays.stream(arr)\r\n     .sorted(Comparator.comparing(MyObject::value)).toArray(MyObject[]::new);\r\n// or your getter may be named as MyObject::getValue\r\n```","title":"How to sort an array of key values alphabetically by the value in a stream? (Java)","body":"<p>With an array of <code>MyObject</code> defined as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>record MyObject(String key, String value) {}\n</code></pre>\n<p>You can use <code>Comparator.comparing</code> with a method reference to sort it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>MyObject[] res = Arrays.stream(arr)\n     .sorted(Comparator.comparing(MyObject::value)).toArray(MyObject[]::new);\n// or your getter may be named as MyObject::getValue\n</code></pre>\n"}],"owner":{"account_id":28244855,"reputation":1,"user_id":21592073,"display_name":"SherbetHead"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680902796,"creation_date":1680902504,"question_id":75962026,"body_markdown":"I&#39;m trying to learn more about comparators and streams and I was wondering the best solution to sort an array of objects with key values, sorting alphabetically by the value. Any help is hugely appreciated!\r\n\r\n````\r\nExample Array:\r\n[\r\n   {key: &quot;93743743&quot;, value: &quot;Mary Smith&quot;},\r\n   {key: &quot;6624c357&quot;, value: &quot;Tom Spitz&quot;},\r\n   {key: &quot;03453459&quot;, value: &quot;John Doe&quot;},\r\n   {key: &quot;24623145&quot;, value: &quot;Ernie Ball&quot;}\r\n]\r\n\r\nExpected Result:\r\n[\r\n   {key: &quot;24623145&quot;, value: &quot;Ernie Ball&quot;}\r\n   {key: &quot;03453459&quot;, value: &quot;John Doe&quot;},\r\n   {key: &quot;93743743&quot;, value: &quot;Mary Smith&quot;},\r\n   {key: &quot;6624c357&quot;, value: &quot;Tom Spitz&quot;},\r\n\r\n]\r\n`````\r\n\r\nHaving a bit of trouble with the exact syntax using it in a stream (using a stream to subsequently filter and return an array of the names). Could also filter the array after if easier. ","title":"How to sort an array of key values alphabetically by the value in a stream? (Java)","body":"<p>I'm trying to learn more about comparators and streams and I was wondering the best solution to sort an array of objects with key values, sorting alphabetically by the value. Any help is hugely appreciated!</p>\n<pre><code>Example Array:\n[\n   {key: &quot;93743743&quot;, value: &quot;Mary Smith&quot;},\n   {key: &quot;6624c357&quot;, value: &quot;Tom Spitz&quot;},\n   {key: &quot;03453459&quot;, value: &quot;John Doe&quot;},\n   {key: &quot;24623145&quot;, value: &quot;Ernie Ball&quot;}\n]\n\nExpected Result:\n[\n   {key: &quot;24623145&quot;, value: &quot;Ernie Ball&quot;}\n   {key: &quot;03453459&quot;, value: &quot;John Doe&quot;},\n   {key: &quot;93743743&quot;, value: &quot;Mary Smith&quot;},\n   {key: &quot;6624c357&quot;, value: &quot;Tom Spitz&quot;},\n\n]\n</code></pre>\n<p>Having a bit of trouble with the exact syntax using it in a stream (using a stream to subsequently filter and return an array of the names). Could also filter the array after if easier.</p>\n"},{"tags":["java","list","dictionary","java-stream"],"answers":[{"tags":[],"owner":{"account_id":280623,"reputation":1317,"user_id":576437,"display_name":"Vikash Madhow"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1617347975,"creation_date":1604425244,"answer_id":64667835,"question_id":64667334,"body_markdown":"This version relying on [`stream.reduce`][1] should do it:\r\n```java\r\n// some values for testing\r\nList&lt;Map&lt;String, Object&gt;&gt; list = new ArrayList&lt;&gt;();\r\nlist.add(Map.of(&quot;1&quot;, &quot;One&quot;, &quot;2&quot;, &quot;Two&quot;));\r\nlist.add(Map.of(&quot;3&quot;, &quot;Three&quot;, &quot;4&quot;, &quot;Four&quot;, &quot;5&quot;, &quot;Five&quot;));\r\nlist.add(Map.of(&quot;3&quot;, &quot;Teen&quot;, &quot;5&quot;, &quot;Penta&quot;));\r\nlist.add(Map.of(&quot;3&quot;, &quot;Trice&quot;, &quot;4&quot;, &quot;Quattro&quot;));\r\n\r\n// conversion with stream reduction\r\nMap&lt;String, List&lt;Object&gt;&gt; result = list.stream().reduce(new HashMap&lt;&gt;(),\r\n        (acc, map) -&gt; {\r\n            map.forEach((k, v) -&gt; acc.computeIfAbsent(k,\r\n                    l -&gt; new ArrayList&lt;Object&gt;()).add(v));\r\n            return acc;\r\n        },\r\n        (acc1, acc2) -&gt; {\r\n            acc1.putAll(acc2);\r\n            return acc1;\r\n        });\r\n\r\n// output\r\nSystem.out.println(result);\r\n//{1=[One], 2=[Two], 3=[Three, Teen, Trice], 4=[Four, Quattro], 5=[Five, Penta]}\r\n```\r\n\r\n**Explanation:** this code goes through each map in the list and accumulates it in the hashmap (1st parameter to the reduce function), with the accumulating function (2nd parameter) adding a new list to the hashmap if it sees a key for the first time (otherwise it accumulates in the list already present); the third function is required for consistency between running the stream function serially or in parallel (it combines partial results in parallel runs). \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#reduce-U-java.util.function.BiFunction-java.util.function.BinaryOperator-","title":"Convert a list of maps to a map of lists using Java Streams","body":"<p>This version relying on <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#reduce-U-java.util.function.BiFunction-java.util.function.BinaryOperator-\" rel=\"nofollow noreferrer\"><code>stream.reduce</code></a> should do it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// some values for testing\nList&lt;Map&lt;String, Object&gt;&gt; list = new ArrayList&lt;&gt;();\nlist.add(Map.of(&quot;1&quot;, &quot;One&quot;, &quot;2&quot;, &quot;Two&quot;));\nlist.add(Map.of(&quot;3&quot;, &quot;Three&quot;, &quot;4&quot;, &quot;Four&quot;, &quot;5&quot;, &quot;Five&quot;));\nlist.add(Map.of(&quot;3&quot;, &quot;Teen&quot;, &quot;5&quot;, &quot;Penta&quot;));\nlist.add(Map.of(&quot;3&quot;, &quot;Trice&quot;, &quot;4&quot;, &quot;Quattro&quot;));\n\n// conversion with stream reduction\nMap&lt;String, List&lt;Object&gt;&gt; result = list.stream().reduce(new HashMap&lt;&gt;(),\n        (acc, map) -&gt; {\n            map.forEach((k, v) -&gt; acc.computeIfAbsent(k,\n                    l -&gt; new ArrayList&lt;Object&gt;()).add(v));\n            return acc;\n        },\n        (acc1, acc2) -&gt; {\n            acc1.putAll(acc2);\n            return acc1;\n        });\n\n// output\nSystem.out.println(result);\n//{1=[One], 2=[Two], 3=[Three, Teen, Trice], 4=[Four, Quattro], 5=[Five, Penta]}\n</code></pre>\n<p><strong>Explanation:</strong> this code goes through each map in the list and accumulates it in the hashmap (1st parameter to the reduce function), with the accumulating function (2nd parameter) adding a new list to the hashmap if it sees a key for the first time (otherwise it accumulates in the list already present); the third function is required for consistency between running the stream function serially or in parallel (it combines partial results in parallel runs).</p>\n"},{"tags":[],"owner":{"account_id":1531219,"reputation":3127,"user_id":1428369,"display_name":"Curiosa Globunznik"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1617452197,"creation_date":1604425263,"answer_id":64667843,"question_id":64667334,"body_markdown":"E.g. like this, relying on the collect stage of java streams.\r\n```java\r\nList&lt;Map&lt;String, Object&gt;&gt; data = new ArrayList&lt;&gt;();\r\n\r\nHashMap&lt;String, List&lt;Object&gt;&gt; transposed = data.stream()\r\n        .flatMap(i -&gt; i.entrySet().stream())\r\n        .collect(Collectors.groupingBy(\r\n                Map.Entry::getKey,\r\n                HashMap::new,\r\n                Collectors.mapping(Map.Entry::getValue,\r\n                        Collectors.toCollection(ArrayList::new))));\r\n```\r\nThere are a number of such application on SO (e.g. [this one][1]), though not precisely tailored to this example.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/50598185/using-streams-to-collect-to-map","title":"Convert a list of maps to a map of lists using Java Streams","body":"<p>E.g. like this, relying on the collect stage of java streams.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Map&lt;String, Object&gt;&gt; data = new ArrayList&lt;&gt;();\n\nHashMap&lt;String, List&lt;Object&gt;&gt; transposed = data.stream()\n        .flatMap(i -&gt; i.entrySet().stream())\n        .collect(Collectors.groupingBy(\n                Map.Entry::getKey,\n                HashMap::new,\n                Collectors.mapping(Map.Entry::getValue,\n                        Collectors.toCollection(ArrayList::new))));\n</code></pre>\n<p>There are a number of such application on SO (e.g. <a href=\"https://stackoverflow.com/questions/50598185/using-streams-to-collect-to-map\">this one</a>), though not precisely tailored to this example.</p>\n"},{"tags":[],"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1604426541,"creation_date":1604426190,"answer_id":64668042,"question_id":64667334,"body_markdown":"You could do it without streams, yet in a modern fashion, as follows:\r\n\r\n    Map&lt;String, List&lt;Object&gt;&gt; result = new HashMap&lt;&gt;();\r\n    data.forEach(element -&gt; \r\n        element.forEach((k, v) - &gt; \r\n            result.computeIfAbsent(k, x -&gt; new ArrayList&lt;&gt;()).add(v)));\r\n\r\nThis iterates the list and then each map and uses [`Map.computeIfAbsent`][1] to accomodate entries in the `result` map.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#computeIfAbsent-K-java.util.function.Function-","title":"Convert a list of maps to a map of lists using Java Streams","body":"<p>You could do it without streams, yet in a modern fashion, as follows:</p>\n<pre><code>Map&lt;String, List&lt;Object&gt;&gt; result = new HashMap&lt;&gt;();\ndata.forEach(element -&gt; \n    element.forEach((k, v) - &gt; \n        result.computeIfAbsent(k, x -&gt; new ArrayList&lt;&gt;()).add(v)));\n</code></pre>\n<p>This iterates the list and then each map and uses <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#computeIfAbsent-K-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>Map.computeIfAbsent</code></a> to accomodate entries in the <code>result</code> map.</p>\n"},{"tags":[],"owner":{"display_name":"user15495739"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617381519,"creation_date":1617276043,"answer_id":66903583,"question_id":64667334,"body_markdown":"You can use [`Collectors.toMap`][1] method:\r\n```java\r\nList&lt;Map&lt;String, String&gt;&gt; listOfMaps = List.of(\r\n        Map.of(&quot;key1&quot;, &quot;val1&quot;, &quot;key2&quot;, &quot;val2&quot;),\r\n        Map.of(&quot;key1&quot;, &quot;val3&quot;, &quot;key2&quot;, &quot;val4&quot;));\r\n\r\nMap&lt;String, List&lt;String&gt;&gt; mapOfLists = listOfMaps.stream()\r\n        // Stream&lt;Map&lt;String,String&gt;&gt;\r\n        .flatMap(map -&gt; map.entrySet().stream())\r\n        // Stream&lt;Map.Entry&lt;String,String&gt;&gt;\r\n        .collect(Collectors.toMap(\r\n                // key\r\n                Map.Entry::getKey,\r\n                // value\r\n                e -&gt; List.of(e.getValue()),\r\n                // merge function\r\n                (list1, list2) -&gt; {\r\n                    List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n                    list.addAll(list1);\r\n                    list.addAll(list2);\r\n                    return list;\r\n                }, // map factory\r\n                LinkedHashMap::new));\r\n\r\nSystem.out.println(listOfMaps);\r\n// [{key1=val1, key2=val2}, {key1=val3, key2=val4}]\r\nSystem.out.println(mapOfLists);\r\n// {key1=[val1, val3], key2=[val2, val4]}\r\n```\r\n\r\n---\r\n\r\n&lt;sup&gt;See also: [Convert a map of lists into a list of maps][2]&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toMap-java.util.function.Function-java.util.function.Function-java.util.function.BinaryOperator-java.util.function.Supplier-\r\n  [2]: https://stackoverflow.com/a/66700962/15495739","title":"Convert a list of maps to a map of lists using Java Streams","body":"<p>You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toMap-java.util.function.Function-java.util.function.Function-java.util.function.BinaryOperator-java.util.function.Supplier-\" rel=\"nofollow noreferrer\"><code>Collectors.toMap</code></a> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Map&lt;String, String&gt;&gt; listOfMaps = List.of(\n        Map.of(&quot;key1&quot;, &quot;val1&quot;, &quot;key2&quot;, &quot;val2&quot;),\n        Map.of(&quot;key1&quot;, &quot;val3&quot;, &quot;key2&quot;, &quot;val4&quot;));\n\nMap&lt;String, List&lt;String&gt;&gt; mapOfLists = listOfMaps.stream()\n        // Stream&lt;Map&lt;String,String&gt;&gt;\n        .flatMap(map -&gt; map.entrySet().stream())\n        // Stream&lt;Map.Entry&lt;String,String&gt;&gt;\n        .collect(Collectors.toMap(\n                // key\n                Map.Entry::getKey,\n                // value\n                e -&gt; List.of(e.getValue()),\n                // merge function\n                (list1, list2) -&gt; {\n                    List&lt;String&gt; list = new ArrayList&lt;&gt;();\n                    list.addAll(list1);\n                    list.addAll(list2);\n                    return list;\n                }, // map factory\n                LinkedHashMap::new));\n\nSystem.out.println(listOfMaps);\n// [{key1=val1, key2=val2}, {key1=val3, key2=val4}]\nSystem.out.println(mapOfLists);\n// {key1=[val1, val3], key2=[val2, val4]}\n</code></pre>\n<hr />\n<p><sup>See also: <a href=\"https://stackoverflow.com/a/66700962/15495739\">Convert a map of lists into a list of maps</a></sup></p>\n"}],"owner":{"account_id":8649119,"reputation":33,"user_id":6475436,"display_name":"Vineeth Chelur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2659,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":64667843,"answer_count":4,"score":3,"last_activity_date":1680902723,"creation_date":1604423174,"question_id":64667334,"body_markdown":"I would like to convert a list of maps to a map of lists. It is guaranteed that all the maps have the same keys.\r\n\r\nFor example, the following list\r\n```json\r\n[{key1: val1, key2: val2}, {key1: val3, key2: val4}]\r\n```\r\ngets converted to\r\n```json\r\n{key1: [val1, val3], key2: [val2, val4]}\r\n```\r\nThe below code does it using for loops\r\n```java\r\nList&lt;Map&lt;String, Object&gt;&gt; data = getData();\r\n\r\nMap&lt;String, List&lt;Object&gt;&gt; result = new HashMap&lt;&gt;();\r\n\r\nfor (Map&lt;String, Object&gt; element: data) {\r\n    element.forEach((key, val) -&gt; {\r\n        if (result.containsKey(key))\r\n            result.get(key).add(val);\r\n        else\r\n            result.put(key, Arrays.asList(val));\r\n    });\r\n}\r\n```\r\n\r\nHow would I be able to achieve the same result using streams?","title":"Convert a list of maps to a map of lists using Java Streams","body":"<p>I would like to convert a list of maps to a map of lists. It is guaranteed that all the maps have the same keys.</p>\n<p>For example, the following list</p>\n<pre class=\"lang-json prettyprint-override\"><code>[{key1: val1, key2: val2}, {key1: val3, key2: val4}]\n</code></pre>\n<p>gets converted to</p>\n<pre class=\"lang-json prettyprint-override\"><code>{key1: [val1, val3], key2: [val2, val4]}\n</code></pre>\n<p>The below code does it using for loops</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Map&lt;String, Object&gt;&gt; data = getData();\n\nMap&lt;String, List&lt;Object&gt;&gt; result = new HashMap&lt;&gt;();\n\nfor (Map&lt;String, Object&gt; element: data) {\n    element.forEach((key, val) -&gt; {\n        if (result.containsKey(key))\n            result.get(key).add(val);\n        else\n            result.put(key, Arrays.asList(val));\n    });\n}\n</code></pre>\n<p>How would I be able to achieve the same result using streams?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3597514,"reputation":117145,"user_id":3001761,"display_name":"jonrsharpe"},"score":1,"creation_date":1680893887,"post_id":75961223,"comment_id":133977620,"body_markdown":"Why _before_ it reaches the controller? Do it _in_ the controller, it&#39;s trivial to check whether you got an array of multiple values.","body":"Why <i>before</i> it reaches the controller? Do it <i>in</i> the controller, it&#39;s trivial to check whether you got an array of multiple values."},{"owner":{"account_id":6459481,"reputation":121,"user_id":12418358,"display_name":"Brunke"},"score":0,"creation_date":1680894303,"post_id":75961223,"comment_id":133977689,"body_markdown":"Not if the parameter IS an array","body":"Not if the parameter IS an array"},{"owner":{"account_id":6459481,"reputation":121,"user_id":12418358,"display_name":"Brunke"},"score":0,"creation_date":1680894546,"post_id":75961223,"comment_id":133977726,"body_markdown":"The problem is not receiving an array of items. The problem is that the client used the same parameter multiple times.","body":"The problem is not receiving an array of items. The problem is that the client used the same parameter multiple times."},{"owner":{"account_id":3597514,"reputation":117145,"user_id":3001761,"display_name":"jonrsharpe"},"score":1,"creation_date":1680894858,"post_id":75961223,"comment_id":133977781,"body_markdown":"The same query parameter being repeated is a _representation_ of an array. If the parameter is supposed to be an array why is that a problem?","body":"The same query parameter being repeated is a <i>representation</i> of an array. If the parameter is supposed to be an array why is that a problem?"},{"owner":{"account_id":6459481,"reputation":121,"user_id":12418358,"display_name":"Brunke"},"score":0,"creation_date":1680895107,"post_id":75961223,"comment_id":133977811,"body_markdown":"Because that is the requirement... Believe me, I have gone rounds about this. It is not my decision. Just my job to make it happen.","body":"Because that is the requirement... Believe me, I have gone rounds about this. It is not my decision. Just my job to make it happen."}],"answers":[{"tags":[],"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1680894580,"creation_date":1680894580,"answer_id":75961319,"question_id":75961223,"body_markdown":"The typical solution is to use a [ServletFilter](https://www.baeldung.com/spring-boot-add-filter).\r\n\r\nA servlet filter is a piece of code that is executed before and after every request and that can perform extra tasks on it.\r\n\r\nTypical uses of ServletFilters are:\r\n- Logging HTTP requests\r\n- Preventing SQL Injection\r\n- Detecting patterns of misuse\r\n- Limiting rate of servce (e.g. max 100 requests/s)\r\n- many other uses\r\n\r\nThe cool thing about ServletFilters is that you write the code in a single place, and then you decide which URLs it applies to.\r\n\r\nMoreover, a URL can be serviced by multiple filters. In this case they are processed in a nested way.\r\n\r\n","title":"Can you restrict Spring Boot API to prevent more than one of the same query parameter","body":"<p>The typical solution is to use a <a href=\"https://www.baeldung.com/spring-boot-add-filter\" rel=\"nofollow noreferrer\">ServletFilter</a>.</p>\n<p>A servlet filter is a piece of code that is executed before and after every request and that can perform extra tasks on it.</p>\n<p>Typical uses of ServletFilters are:</p>\n<ul>\n<li>Logging HTTP requests</li>\n<li>Preventing SQL Injection</li>\n<li>Detecting patterns of misuse</li>\n<li>Limiting rate of servce (e.g. max 100 requests/s)</li>\n<li>many other uses</li>\n</ul>\n<p>The cool thing about ServletFilters is that you write the code in a single place, and then you decide which URLs it applies to.</p>\n<p>Moreover, a URL can be serviced by multiple filters. In this case they are processed in a nested way.</p>\n"},{"tags":[],"owner":{"account_id":195169,"reputation":2946,"user_id":1128593,"display_name":"David Jones"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680896793,"creation_date":1680896793,"answer_id":75961515,"question_id":75961223,"body_markdown":"You may need to wrangle the raw query string.  You can get the raw query by accepting an HttpServletRequest parameter:\r\n\r\n    @GetMapping\r\n    EntityResponse getSomething(HttpServletRequest servletRequest) {\r\n      String query = servletRequest.getQueryString();\r\n      // do something with query string\r\n      ...\r\n    }","title":"Can you restrict Spring Boot API to prevent more than one of the same query parameter","body":"<p>You may need to wrangle the raw query string.  You can get the raw query by accepting an HttpServletRequest parameter:</p>\n<pre><code>@GetMapping\nEntityResponse getSomething(HttpServletRequest servletRequest) {\n  String query = servletRequest.getQueryString();\n  // do something with query string\n  ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680902066,"creation_date":1680902066,"answer_id":75961987,"question_id":75961223,"body_markdown":"There&#39;s no purely declarative way, but there&#39;s a simple code way:\r\n\r\n    @RequestParam MultiValueMap&lt;String, String&gt; parameters\r\n\r\nThen the first line of the controller method:\r\n\r\n    if (parameters.values().stream().anyMatch(v -&gt; v.size() &gt; 1)) {\r\n        // throw 400\r\n    }","title":"Can you restrict Spring Boot API to prevent more than one of the same query parameter","body":"<p>There's no purely declarative way, but there's a simple code way:</p>\n<pre><code>@RequestParam MultiValueMap&lt;String, String&gt; parameters\n</code></pre>\n<p>Then the first line of the controller method:</p>\n<pre><code>if (parameters.values().stream().anyMatch(v -&gt; v.size() &gt; 1)) {\n    // throw 400\n}\n</code></pre>\n"}],"owner":{"account_id":6459481,"reputation":121,"user_id":12418358,"display_name":"Brunke"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1680902066,"creation_date":1680893495,"question_id":75961223,"body_markdown":"This may be a weird request, but I am working on a Spring Boot API and there is a requirement that, if someone sends the same query parameter more than once, that it throw a 400 error. But, because Spring Boot automatically pulls in the parameters as a delimited list, I am not sure how to do this.\r\n\r\nFor example, if someone sends `/my-api?foo=some%20stuff&amp;foo=some%20more%20stuff` then the resulting value for foo is &quot;some stuff, some more stuff&quot;. But I am supposed to be throwing an error message in this instance.\r\n\r\nI cannot find any documentation on how to validate this. I suppose that I could examine the request before it reaches the controller and do some work on it there. But I was hoping that there was some config or annotation that I could use. ","title":"Can you restrict Spring Boot API to prevent more than one of the same query parameter","body":"<p>This may be a weird request, but I am working on a Spring Boot API and there is a requirement that, if someone sends the same query parameter more than once, that it throw a 400 error. But, because Spring Boot automatically pulls in the parameters as a delimited list, I am not sure how to do this.</p>\n<p>For example, if someone sends <code>/my-api?foo=some%20stuff&amp;foo=some%20more%20stuff</code> then the resulting value for foo is &quot;some stuff, some more stuff&quot;. But I am supposed to be throwing an error message in this instance.</p>\n<p>I cannot find any documentation on how to validate this. I suppose that I could examine the request before it reaches the controller and do some work on it there. But I was hoping that there was some config or annotation that I could use.</p>\n"},{"tags":["c#","java","comments","interface"],"comments":[{"owner":{"account_id":126573,"reputation":8481,"user_id":323158,"accept_rate":65,"display_name":"bytedev"},"score":0,"creation_date":1566052208,"post_id":759703,"comment_id":101538794,"body_markdown":"A duplicate snuck through here: https://stackoverflow.com/questions/1875440/code-commenting-do-you-put-your-code-comments-on-interfaces-or-on-concrete-clas","body":"A duplicate snuck through here: <a href=\"https://stackoverflow.com/questions/1875440/code-commenting-do-you-put-your-code-comments-on-interfaces-or-on-concrete-clas\" title=\"code commenting do you put your code comments on interfaces or on concrete clas\">stackoverflow.com/questions/1875440/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":17628,"reputation":18549,"user_id":39643,"accept_rate":84,"display_name":"NikolaiDante"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1239960088,"creation_date":1239960088,"answer_id":759713,"question_id":759703,"body_markdown":"If you use the [GhostDoc][1] addin, it updates the implementation with the comment from the interface when you right click and select &quot;Document This&quot; on the method.\r\n\r\n\r\n  [1]: http://www.roland-weigelt.de/ghostdoc/","title":"Comment the interface, implementation or both?","body":"<p>If you use the <a href=\"http://www.roland-weigelt.de/ghostdoc/\" rel=\"noreferrer\">GhostDoc</a> addin, it updates the implementation with the comment from the interface when you right click and select \"Document This\" on the method.</p>\n"},{"tags":[],"owner":{"account_id":7932,"reputation":16424,"user_id":13986,"accept_rate":94,"display_name":"X-Istence"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1239960212,"creation_date":1239960212,"answer_id":759716,"question_id":759703,"body_markdown":"Commenting the interface should be enough documentation to figure out how to use the actual implementation. The only time that I would add comments to the implementation is if it has private functions that were inserted to satisfy the interface, however they would be internal only comments and would not be seen in documentation online or available to clients.\r\n\r\nImplementations are just that, as long as they conform to the interface there is no need to document them separately.","title":"Comment the interface, implementation or both?","body":"<p>Commenting the interface should be enough documentation to figure out how to use the actual implementation. The only time that I would add comments to the implementation is if it has private functions that were inserted to satisfy the interface, however they would be internal only comments and would not be seen in documentation online or available to clients.</p>\n\n<p>Implementations are just that, as long as they conform to the interface there is no need to document them separately.</p>\n"},{"tags":[],"owner":{"account_id":5054,"reputation":21322,"user_id":7925,"accept_rate":86,"display_name":"Len Holgate"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1239960367,"creation_date":1239960367,"answer_id":759725,"question_id":759703,"body_markdown":"The interface only. Commenting both is duplication and it&#39;s likely that the two sets of comments will eventually get out of sync if the code changes. Comment the implementation with &quot;implements MyInterface&quot;... Things like Doxygen will generate docs that include the derived docs into the docs for the implementation anyway (if you set them up correctly).","title":"Comment the interface, implementation or both?","body":"<p>The interface only. Commenting both is duplication and it's likely that the two sets of comments will eventually get out of sync if the code changes. Comment the implementation with \"implements MyInterface\"... Things like Doxygen will generate docs that include the derived docs into the docs for the implementation anyway (if you set them up correctly).</p>\n"},{"tags":[],"owner":{"account_id":878659,"reputation":2275,"user_id":83714,"display_name":"grover"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1239960402,"creation_date":1239960402,"answer_id":759727,"question_id":759703,"body_markdown":"For C# it depends IMO: If you use explicit interface implementations, then I wouldn&#39;t document the implementation.\r\n\r\nHowever if you implement the interface directly and expose the members of the interface with your object then these methods must be documented too.\r\n\r\nAs Nath said, you can use GhostDoc to automatically insert the documentation of an interface into the implementation. I mapped the Document This command to the Ctrl+Shift+D shortcut and its one of the keystrokes I almost automatically press. I believe ReSharper also has the option to insert the documentation of the interface, when it implements the methods for you.","title":"Comment the interface, implementation or both?","body":"<p>For C# it depends IMO: If you use explicit interface implementations, then I wouldn't document the implementation.</p>\n\n<p>However if you implement the interface directly and expose the members of the interface with your object then these methods must be documented too.</p>\n\n<p>As Nath said, you can use GhostDoc to automatically insert the documentation of an interface into the implementation. I mapped the Document This command to the Ctrl+Shift+D shortcut and its one of the keystrokes I almost automatically press. I believe ReSharper also has the option to insert the documentation of the interface, when it implements the methods for you.</p>\n"},{"tags":[],"owner":{"account_id":11976,"reputation":605,"user_id":23355,"accept_rate":80,"display_name":"Jiminy"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1239960466,"creation_date":1239960466,"answer_id":759732,"question_id":759703,"body_markdown":"We just comment the interface, comments are so easy to get out of sync with either the derived or base class/interface that&#39;s it&#39;s nice to have it in just one place.\r\n\r\nAlthough it looks like @Nath maybe suggesting an automated documentation tool that helps keep things together (sounds cool if you use that). Here at WhereIWorkAndYouDontCare the comments are for dev so a single place in the code is preferred","title":"Comment the interface, implementation or both?","body":"<p>We just comment the interface, comments are so easy to get out of sync with either the derived or base class/interface that's it's nice to have it in just one place.</p>\n\n<p>Although it looks like @Nath maybe suggesting an automated documentation tool that helps keep things together (sounds cool if you use that). Here at WhereIWorkAndYouDontCare the comments are for dev so a single place in the code is preferred</p>\n"},{"tags":[],"owner":{"account_id":28100,"reputation":8984,"user_id":74694,"accept_rate":86,"display_name":"Neeme Praks"},"down_vote_count":1,"up_vote_count":122,"is_accepted":true,"score":121,"last_activity_date":1239960466,"creation_date":1239960466,"answer_id":759733,"question_id":759703,"body_markdown":"As a general rule, I use the same DRY (Don&#39;t Repeat Yourself) principle as with code:\r\n\r\n - on interface, document the interface\r\n - on implementation, document the implementation specifics\r\n\r\n**Java specific**: when documenting the implementation, use {@inheritDoc} tag to &quot;include&quot; javadocs from the interface.\r\n\r\nFor more information:\r\n\r\n - [Official javadoc documentation][1]\r\n - Some unofficial [advice][2].\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.4.2/docs/tooldocs/windows/javadoc.html#inheritingcomments\r\n  [2]: http://jtauber.com/blog/2004/05/11/inheriting_doc_in_javadoc_and_eclipse/","title":"Comment the interface, implementation or both?","body":"<p>As a general rule, I use the same DRY (Don't Repeat Yourself) principle as with code:</p>\n\n<ul>\n<li>on interface, document the interface</li>\n<li>on implementation, document the implementation specifics</li>\n</ul>\n\n<p><strong>Java specific</strong>: when documenting the implementation, use {@inheritDoc} tag to \"include\" javadocs from the interface.</p>\n\n<p>For more information:</p>\n\n<ul>\n<li><a href=\"http://java.sun.com/j2se/1.4.2/docs/tooldocs/windows/javadoc.html#inheritingcomments\" rel=\"noreferrer\">Official javadoc documentation</a></li>\n<li>Some unofficial <a href=\"http://jtauber.com/blog/2004/05/11/inheriting_doc_in_javadoc_and_eclipse/\" rel=\"noreferrer\">advice</a>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":9030990,"reputation":478,"user_id":6728598,"display_name":"K Johnson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1513815551,"creation_date":1513815551,"answer_id":47916170,"question_id":759703,"body_markdown":"I created a tool that post-processes the XML documentation files to add support for the &amp;lt;inheritdoc/&amp;gt; tag.\r\n\r\nWhile it doesn&#39;t help with Intellisense in source code, it does allow the modified XML documentation files to be included in a NuGet package and therefore works with Intellisense in referenced NuGet packages.\r\n\r\nIt&#39;s at www.inheritdoc.io (free version available).","title":"Comment the interface, implementation or both?","body":"<p>I created a tool that post-processes the XML documentation files to add support for the &lt;inheritdoc/&gt; tag.</p>\n\n<p>While it doesn't help with Intellisense in source code, it does allow the modified XML documentation files to be included in a NuGet package and therefore works with Intellisense in referenced NuGet packages.</p>\n\n<p>It's at www.inheritdoc.io (free version available).</p>\n"},{"tags":[],"owner":{"account_id":126573,"reputation":8481,"user_id":323158,"accept_rate":65,"display_name":"bytedev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1566052053,"creation_date":1566052053,"answer_id":57537167,"question_id":759703,"body_markdown":"You can certainly comment both but then you have the problem of maintaining both (as previously mentioned).  However, in this day and age is any consuming code really not going to be using IoC/DI and not use the interface?  Given this if you only want to bother commenting one I would strongly suggest commenting the interface.  This way the consumer of your code will more than likely get the nice intellisense hints.","title":"Comment the interface, implementation or both?","body":"<p>You can certainly comment both but then you have the problem of maintaining both (as previously mentioned).  However, in this day and age is any consuming code really not going to be using IoC/DI and not use the interface?  Given this if you only want to bother commenting one I would strongly suggest commenting the interface.  This way the consumer of your code will more than likely get the nice intellisense hints.</p>\n"},{"tags":[],"owner":{"account_id":49877,"reputation":8920,"user_id":148657,"accept_rate":30,"display_name":"Raghav"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1680901736,"creation_date":1590313562,"answer_id":61984178,"question_id":759703,"body_markdown":"C# usage:\r\n\r\nInterface can look like this:\r\n\r\n        /// &lt;summary&gt;\r\n        /// Helper class to access various properties for the current site.\r\n        /// &lt;/summary&gt;\r\n        public interface ISiteHelper\r\n        {\r\n            /// &lt;summary&gt;\r\n            /// Gets the site id of the current site\r\n            /// &lt;/summary&gt;\r\n            /// &lt;returns&gt;The site id.&lt;/returns&gt;\r\n            int GetSiteID();\r\n        }\r\n    }\r\n\r\nImplementation can look like this:\r\n\r\n    /// &lt;inheritdoc /&gt;\r\n    public class SiteHelper: ISiteHelper\r\n    {\r\n        public int GetSiteID()\r\n        {\r\n            return CommonRepository.GetSiteID();\r\n        }\r\n    }\r\n\r\nOfficial reference for `&lt;inheritdoc /&gt;`: https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/xmldoc/recommended-tags#inheritdoc","title":"Comment the interface, implementation or both?","body":"<p>C# usage:</p>\n<p>Interface can look like this:</p>\n<pre><code>    /// &lt;summary&gt;\n    /// Helper class to access various properties for the current site.\n    /// &lt;/summary&gt;\n    public interface ISiteHelper\n    {\n        /// &lt;summary&gt;\n        /// Gets the site id of the current site\n        /// &lt;/summary&gt;\n        /// &lt;returns&gt;The site id.&lt;/returns&gt;\n        int GetSiteID();\n    }\n}\n</code></pre>\n<p>Implementation can look like this:</p>\n<pre><code>/// &lt;inheritdoc /&gt;\npublic class SiteHelper: ISiteHelper\n{\n    public int GetSiteID()\n    {\n        return CommonRepository.GetSiteID();\n    }\n}\n</code></pre>\n<p>Official reference for <code>&lt;inheritdoc /&gt;</code>: <a href=\"https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/xmldoc/recommended-tags#inheritdoc\" rel=\"noreferrer\">https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/xmldoc/recommended-tags#inheritdoc</a></p>\n"}],"owner":{"account_id":16764,"reputation":12410,"user_id":36860,"accept_rate":93,"display_name":"ng5000"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51373,"favorite_count":0,"down_vote_count":0,"up_vote_count":159,"accepted_answer_id":759733,"answer_count":9,"score":159,"last_activity_date":1680901736,"creation_date":1239959969,"question_id":759703,"body_markdown":"I imagine that we all (when we can be bothered!) comment our interfaces.  e.g.\r\n\r\n    /// &lt;summary&gt;\r\n    /// Foo Interface\r\n    /// &lt;/summary&gt;\r\n    public interface Foo\r\n    {\r\n        /// &lt;summary&gt;\r\n        /// Will &#39;bar&#39;\r\n        /// &lt;/summary&gt;\r\n        /// &lt;param name=&quot;wibble&quot;&gt;Wibble factor&lt;/param&gt;\r\n        void Bar(string wibble);\r\n    }\r\n\r\n\r\nDo you also comment the implementation (which may also be provided to clients, e.g. as part of a a library)?  If so how do you manage keeping the two in sync?  Or do you just add a &#39;See interface for documentation&#39; comment?","title":"Comment the interface, implementation or both?","body":"<p>I imagine that we all (when we can be bothered!) comment our interfaces.  e.g.</p>\n<pre><code>/// &lt;summary&gt;\n/// Foo Interface\n/// &lt;/summary&gt;\npublic interface Foo\n{\n    /// &lt;summary&gt;\n    /// Will 'bar'\n    /// &lt;/summary&gt;\n    /// &lt;param name=&quot;wibble&quot;&gt;Wibble factor&lt;/param&gt;\n    void Bar(string wibble);\n}\n</code></pre>\n<p>Do you also comment the implementation (which may also be provided to clients, e.g. as part of a a library)?  If so how do you manage keeping the two in sync?  Or do you just add a 'See interface for documentation' comment?</p>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1680920345,"post_id":75961909,"comment_id":133980635,"body_markdown":"Who needs a PDF that huge?! Also the latest version isn&#39;t RC1, it&#39;s 3.0.0-alpha3. Try other things to optimize your PDF, e.g. reuse fonts and use the best possible compression (CCITT for b/w scans), FLATE for color images with sharp edges and JPEG for photos.","body":"Who needs a PDF that huge?! Also the latest version isn&#39;t RC1, it&#39;s 3.0.0-alpha3. Try other things to optimize your PDF, e.g. reuse fonts and use the best possible compression (CCITT for b/w scans), FLATE for color images with sharp edges and JPEG for photos."},{"owner":{"account_id":321061,"reputation":827,"user_id":2751039,"accept_rate":86,"display_name":"Matt"},"score":0,"creation_date":1681063104,"post_id":75961909,"comment_id":133995073,"body_markdown":"@TilmanHausherr The original PDF was created elsewhere. I’m just trying to modify it. Why do I need to go through all the work of finding fonts to reuse, images to compress, etc. just to simply open and re-save a PDF? It doesn’t seem like good memory management if a 221MB file takes more than 512MB to process, especially when the ‘MemoryUsageSetting’ is set to 75MB.","body":"@TilmanHausherr The original PDF was created elsewhere. I’m just trying to modify it. Why do I need to go through all the work of finding fonts to reuse, images to compress, etc. just to simply open and re-save a PDF? It doesn’t seem like good memory management if a 221MB file takes more than 512MB to process, especially when the ‘MemoryUsageSetting’ is set to 75MB."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1681094150,"post_id":75961909,"comment_id":133998250,"body_markdown":"Most likely the content of the PDF is compressed, see 1st comment. I usually run my applications with -Xmx2G, sometimes up to -Xmx4G.","body":"Most likely the content of the PDF is compressed, see 1st comment. I usually run my applications with -Xmx2G, sometimes up to -Xmx4G."},{"owner":{"account_id":321061,"reputation":827,"user_id":2751039,"accept_rate":86,"display_name":"Matt"},"score":0,"creation_date":1681130489,"post_id":75961909,"comment_id":134002895,"body_markdown":"Thanks, I&#39;ll try version 3.0.0-alpha3 and a larger max heap to see if it&#39;ll at least finish. By the way, I was under the impression that the [software release lifecycle](https://en.wikipedia.org/wiki/Software_release_life_cycle) went alpha -&gt; beta -&gt; RC.","body":"Thanks, I&#39;ll try version 3.0.0-alpha3 and a larger max heap to see if it&#39;ll at least finish. By the way, I was under the impression that the <a href=\"https://en.wikipedia.org/wiki/Software_release_life_cycle\" rel=\"nofollow noreferrer\">software release lifecycle</a> went alpha -&gt; beta -&gt; RC."},{"owner":{"account_id":321061,"reputation":827,"user_id":2751039,"accept_rate":86,"display_name":"Matt"},"score":0,"creation_date":1681131210,"post_id":75961909,"comment_id":134003011,"body_markdown":"It only used about 425MB of heap with 3.0.0-alpha3 and no other changes.","body":"It only used about 425MB of heap with 3.0.0-alpha3 and no other changes."}],"owner":{"account_id":321061,"reputation":827,"user_id":2751039,"accept_rate":86,"display_name":"Matt"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680901259,"creation_date":1680901259,"question_id":75961909,"body_markdown":"I have a pdf that&#39;s 221MB, and all I&#39;m trying to do is disable modification and add password protection. I&#39;m using PDFBox 3.0.0-RC1 and Corretto 11. The red arrow in the heap usage graph is the point when `inDoc.save(outFile);` is called. When I don&#39;t call `inDoc.protect(pp);`, the file saves just fine with no error. One other thing that works is using `MemoryUsageSetting.setupTempFileOnly()`.\r\n\r\nWhy is it using so much memory?\r\n\r\n```java\r\nFile inFile = ...\r\nFile outFile = ...\r\n\r\ntry (PDDocument inDoc = Loader.loadPDF(inFile, MemoryUsageSetting.setupMixed(75*1024*1024))) { // 75 MiB\r\n\tAccessPermission perms = new AccessPermission();\r\n\tperms.setCanModify(false);\r\n\tperms.setCanAssembleDocument(false);\r\n\tperms.setCanExtractContent(false);\r\n\tperms.setCanFillInForm(false);\r\n\r\n\tStandardProtectionPolicy pp = new StandardProtectionPolicy(&quot;password&quot;, null, perms);\r\n\tpp.setPreferAES(true);\r\n\tpp.setEncryptionKeyLength(128);\r\n\r\n\tinDoc.protect(pp);\r\n\tinDoc.save(outFile);\r\n}\r\n```\r\n\r\nStack trace:\r\n\r\n    java.lang.OutOfMemoryError: Java heap space\r\n    \tat java.base/java.util.Arrays.copyOf(Arrays.java:3745)\r\n    \tat java.base/java.io.ByteArrayOutputStream.grow(ByteArrayOutputStream.java:120)\r\n    \tat java.base/java.io.ByteArrayOutputStream.ensureCapacity(ByteArrayOutputStream.java:95)\r\n    \tat java.base/java.io.ByteArrayOutputStream.write(ByteArrayOutputStream.java:156)\r\n    \tat org.apache.pdfbox.io.IOUtils.copy(IOUtils.java:102)\r\n    \tat org.apache.pdfbox.io.IOUtils.toByteArray(IOUtils.java:84)\r\n    \tat org.apache.pdfbox.pdmodel.encryption.SecurityHandler.encryptStream(SecurityHandler.java:559)\r\n    \tat org.apache.pdfbox.pdfwriter.COSWriter.visitFromStream(COSWriter.java:1391)\r\n    \tat org.apache.pdfbox.cos.COSStream.accept(COSStream.java:402)\r\n    \tat org.apache.pdfbox.pdfwriter.COSWriter.doWriteObject(COSWriter.java:599)\r\n    \tat org.apache.pdfbox.pdfwriter.COSWriter.doWriteBodyCompressed(COSWriter.java:485)\r\n    \tat org.apache.pdfbox.pdfwriter.COSWriter.visitFromDocument(COSWriter.java:1291)\r\n    \tat org.apache.pdfbox.cos.COSDocument.accept(COSDocument.java:400)\r\n    \tat org.apache.pdfbox.pdfwriter.COSWriter.write(COSWriter.java:1569)\r\n    \tat org.apache.pdfbox.pdfwriter.COSWriter.write(COSWriter.java:1456)\r\n    \tat org.apache.pdfbox.pdmodel.PDDocument.save(PDDocument.java:1010)\r\n    \tat org.apache.pdfbox.pdmodel.PDDocument.save(PDDocument.java:955)\r\n    \tat org.apache.pdfbox.pdmodel.PDDocument.save(PDDocument.java:912)\r\n\r\n`-Xmx512m`\r\n\r\n[![Heap usage graph][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/R9BkI.png","title":"PDFBox 3.0.0 OutOfMemory error when adding protection","body":"<p>I have a pdf that's 221MB, and all I'm trying to do is disable modification and add password protection. I'm using PDFBox 3.0.0-RC1 and Corretto 11. The red arrow in the heap usage graph is the point when <code>inDoc.save(outFile);</code> is called. When I don't call <code>inDoc.protect(pp);</code>, the file saves just fine with no error. One other thing that works is using <code>MemoryUsageSetting.setupTempFileOnly()</code>.</p>\n<p>Why is it using so much memory?</p>\n<pre class=\"lang-java prettyprint-override\"><code>File inFile = ...\nFile outFile = ...\n\ntry (PDDocument inDoc = Loader.loadPDF(inFile, MemoryUsageSetting.setupMixed(75*1024*1024))) { // 75 MiB\n    AccessPermission perms = new AccessPermission();\n    perms.setCanModify(false);\n    perms.setCanAssembleDocument(false);\n    perms.setCanExtractContent(false);\n    perms.setCanFillInForm(false);\n\n    StandardProtectionPolicy pp = new StandardProtectionPolicy(&quot;password&quot;, null, perms);\n    pp.setPreferAES(true);\n    pp.setEncryptionKeyLength(128);\n\n    inDoc.protect(pp);\n    inDoc.save(outFile);\n}\n</code></pre>\n<p>Stack trace:</p>\n<pre><code>java.lang.OutOfMemoryError: Java heap space\n    at java.base/java.util.Arrays.copyOf(Arrays.java:3745)\n    at java.base/java.io.ByteArrayOutputStream.grow(ByteArrayOutputStream.java:120)\n    at java.base/java.io.ByteArrayOutputStream.ensureCapacity(ByteArrayOutputStream.java:95)\n    at java.base/java.io.ByteArrayOutputStream.write(ByteArrayOutputStream.java:156)\n    at org.apache.pdfbox.io.IOUtils.copy(IOUtils.java:102)\n    at org.apache.pdfbox.io.IOUtils.toByteArray(IOUtils.java:84)\n    at org.apache.pdfbox.pdmodel.encryption.SecurityHandler.encryptStream(SecurityHandler.java:559)\n    at org.apache.pdfbox.pdfwriter.COSWriter.visitFromStream(COSWriter.java:1391)\n    at org.apache.pdfbox.cos.COSStream.accept(COSStream.java:402)\n    at org.apache.pdfbox.pdfwriter.COSWriter.doWriteObject(COSWriter.java:599)\n    at org.apache.pdfbox.pdfwriter.COSWriter.doWriteBodyCompressed(COSWriter.java:485)\n    at org.apache.pdfbox.pdfwriter.COSWriter.visitFromDocument(COSWriter.java:1291)\n    at org.apache.pdfbox.cos.COSDocument.accept(COSDocument.java:400)\n    at org.apache.pdfbox.pdfwriter.COSWriter.write(COSWriter.java:1569)\n    at org.apache.pdfbox.pdfwriter.COSWriter.write(COSWriter.java:1456)\n    at org.apache.pdfbox.pdmodel.PDDocument.save(PDDocument.java:1010)\n    at org.apache.pdfbox.pdmodel.PDDocument.save(PDDocument.java:955)\n    at org.apache.pdfbox.pdmodel.PDDocument.save(PDDocument.java:912)\n</code></pre>\n<p><code>-Xmx512m</code></p>\n<p><a href=\"https://i.stack.imgur.com/R9BkI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R9BkI.png\" alt=\"Heap usage graph\" /></a></p>\n"},{"tags":["java","eclipse","debugging"],"comments":[{"owner":{"account_id":15216965,"reputation":101,"user_id":10980057,"display_name":"raiton"},"score":0,"creation_date":1640634691,"post_id":6174550,"comment_id":124622274,"body_markdown":"Did you by any chance copied the .java file from somewhere else? if you did, don&#39;t.\ncreate a new one and copy the code into it.","body":"Did you by any chance copied the .java file from somewhere else? if you did, don&#39;t. create a new one and copy the code into it."}],"answers":[{"tags":[],"owner":{"account_id":93007,"reputation":51990,"user_id":254643,"display_name":"Raghuram"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1306748844,"creation_date":1306748844,"answer_id":6174690,"question_id":6174550,"body_markdown":"Evidently, Eclipse does not automatically know where the source code for the dependent jars are.  It is not clear why debugger could not inspect variables once the source was attached.  One possibility is incorrect/incompatible source.\r\n\r\nAssuming you have a maven project and the sources of the dependencies are downloaded and available in the local repository, you may want to install [m2eclipse][1], the maven eclipse plugin and see if that helps in addressing your issue.\r\n\r\n\r\n  [1]: http://m2eclipse.sonatype.org","title":"Eclipse java debugging: source not found","body":"<p>Evidently, Eclipse does not automatically know where the source code for the dependent jars are.  It is not clear why debugger could not inspect variables once the source was attached.  One possibility is incorrect/incompatible source.</p>\n\n<p>Assuming you have a maven project and the sources of the dependencies are downloaded and available in the local repository, you may want to install <a href=\"http://m2eclipse.sonatype.org\" rel=\"nofollow\">m2eclipse</a>, the maven eclipse plugin and see if that helps in addressing your issue.</p>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":3,"up_vote_count":66,"is_accepted":true,"score":63,"last_activity_date":1554194565,"creation_date":1306778903,"answer_id":6179462,"question_id":6174550,"body_markdown":"Eclipse debugging works with the class _actually loaded_ by the program.\r\n\r\nThe symptoms you describe sounds like the class in question was not found in the project, but in a distribution jar without debug info found _before_ the project you are working with.\r\n\r\nThis can happen for several reasons but have a look at the location where the classes showing this behaviour is found (look in the navigation pane to identify it).  You will most likely need to change the build path of the project to avoid using this jar and have the JVM use the project instead.\r\n\r\nEDIT:  Note that as of 2018 it is common to use a build framework like Maven, where the build path is managed by the m2e plugin so this problem should be very less frequent than when the question was asked. If you use Maven and m2e, make sure to enable Preferences / Maven / &quot;Download Artifact Sources&quot; or right-click the project, Maven / &quot;Download Sources&quot;.","title":"Eclipse java debugging: source not found","body":"<p>Eclipse debugging works with the class <em>actually loaded</em> by the program.</p>\n\n<p>The symptoms you describe sounds like the class in question was not found in the project, but in a distribution jar without debug info found <em>before</em> the project you are working with.</p>\n\n<p>This can happen for several reasons but have a look at the location where the classes showing this behaviour is found (look in the navigation pane to identify it).  You will most likely need to change the build path of the project to avoid using this jar and have the JVM use the project instead.</p>\n\n<p>EDIT:  Note that as of 2018 it is common to use a build framework like Maven, where the build path is managed by the m2e plugin so this problem should be very less frequent than when the question was asked. If you use Maven and m2e, make sure to enable Preferences / Maven / \"Download Artifact Sources\" or right-click the project, Maven / \"Download Sources\".</p>\n"},{"tags":[],"owner":{"account_id":2319,"reputation":19391,"user_id":3219,"display_name":"Danail Nachev"},"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1306794137,"creation_date":1306794137,"answer_id":6181216,"question_id":6174550,"body_markdown":"The symptoms perfectly describes the case when the found class doesn&#39;t have associated (or assigned) source.\r\n\r\n - You can associate the sources for JDK classes in **Preferences &gt; Java &gt; Installed JRE**. If JRE (not JDK) is detected as default JRE to be used, then your JDK classes won&#39;t have attached sources. Note that, not all of the JDK classes have provided sources, some of them are distributed in binary form only.\r\n - Classes from project&#39;s build path, added manually requires that you manually attach the associated source. The source can reside in a zip or jar file, in the workspace or in the filesystem. Eclipse will scan the zip, so your sources doesn&#39;t have to be in the root of the archive file, for example.\r\n - Classes, from dependencies coming from another plugins (maven, PDE, etc.). In this case, it is up to the plugin how the source will be provided.\r\n     * *PDE* will require that each plugin have corresponding *XXX.source* bundle, which contains the source of the plugin. More information can be found [here][1] and [here][2].\r\n     * *m2eclipse* can fetch sources and javadocs for Maven dependencies if they are available. This feature should be enabled *m2eclipse* preferences (the option was named something like &quot;*Download source and javadocs*&quot;.\r\n     * For other plugins, you&#39;ll need to consult their documentation\r\n - Classes, which are loaded from your project are automatically matched with the sources from the project.\r\n\r\n*But what if Eclipse still suggest that you attach source, even if I correctly set my classes and their sources:*\r\n\r\nThis almost always means that Eclipse is finding the class from different place than you expect. Inspect your source lookup path to see where it might get the wrong class. Update the path accordingly to your findings.\r\n\r\n*Eclipse doesn&#39;t find anything at all, when breakpoint is hit:*\r\n\r\nThis happens, when you are source lookup path doesn&#39;t contain the class, which is currently loaded in the runtime. Even if the class is in the workspace, it can be invisible to the launch configuration, because Eclipse follows the source lookup path strictly and attaches only the dependencies of the project, which is currently debugged.\r\n\r\nAn exception is the debugging bundles in *PDE*. In this case, because the runtime is composed from multiple projects, which doesn&#39;t have to declare dependencies on one another, Eclipse will automatically find the class in the workspace, even if it is not available in the source lookup path.\r\n\r\n*I cannot see the variables when I hit a breakpoint or it just opens the source, but doesn&#39;t select the breakpoint line:*\r\n\r\nThis means that in the runtime, either the JVM or the classes themselves doesn&#39;t have the necessary debug information. Each time classes are compiled, debug information can be attached. To reduce the storage space of the classes, sometimes this information is omitted, which makes debugging such code a pain. Your only chance is to try and recompile with debug enabled.\r\n\r\n*Eclipse source viewer shows different lines than those that are actually executed:*\r\n\r\nIt sometimes can show that empty space is executed as well. This means that your sources doesn&#39;t match your runtime version of the classes. Even if you think that this is not possible, it is, so make sure you setup the correct sources. Or your runtime match your latest changes, depending on what are you trying to do.\r\n\r\n  [1]: http://aniszczyk.org/2007/12/05/fyi-new-style-source-bundles/\r\n  [2]: http://wiki.eclipse.org/PDEBuild/Individual_Source_Bundles","title":"Eclipse java debugging: source not found","body":"<p>The symptoms perfectly describes the case when the found class doesn't have associated (or assigned) source.</p>\n\n<ul>\n<li>You can associate the sources for JDK classes in <strong>Preferences > Java > Installed JRE</strong>. If JRE (not JDK) is detected as default JRE to be used, then your JDK classes won't have attached sources. Note that, not all of the JDK classes have provided sources, some of them are distributed in binary form only.</li>\n<li>Classes from project's build path, added manually requires that you manually attach the associated source. The source can reside in a zip or jar file, in the workspace or in the filesystem. Eclipse will scan the zip, so your sources doesn't have to be in the root of the archive file, for example.</li>\n<li>Classes, from dependencies coming from another plugins (maven, PDE, etc.). In this case, it is up to the plugin how the source will be provided.\n\n<ul>\n<li><em>PDE</em> will require that each plugin have corresponding <em>XXX.source</em> bundle, which contains the source of the plugin. More information can be found <a href=\"http://aniszczyk.org/2007/12/05/fyi-new-style-source-bundles/\" rel=\"noreferrer\">here</a> and <a href=\"http://wiki.eclipse.org/PDEBuild/Individual_Source_Bundles\" rel=\"noreferrer\">here</a>.</li>\n<li><em>m2eclipse</em> can fetch sources and javadocs for Maven dependencies if they are available. This feature should be enabled <em>m2eclipse</em> preferences (the option was named something like \"<em>Download source and javadocs</em>\".</li>\n<li>For other plugins, you'll need to consult their documentation</li>\n</ul></li>\n<li>Classes, which are loaded from your project are automatically matched with the sources from the project.</li>\n</ul>\n\n<p><em>But what if Eclipse still suggest that you attach source, even if I correctly set my classes and their sources:</em></p>\n\n<p>This almost always means that Eclipse is finding the class from different place than you expect. Inspect your source lookup path to see where it might get the wrong class. Update the path accordingly to your findings.</p>\n\n<p><em>Eclipse doesn't find anything at all, when breakpoint is hit:</em></p>\n\n<p>This happens, when you are source lookup path doesn't contain the class, which is currently loaded in the runtime. Even if the class is in the workspace, it can be invisible to the launch configuration, because Eclipse follows the source lookup path strictly and attaches only the dependencies of the project, which is currently debugged.</p>\n\n<p>An exception is the debugging bundles in <em>PDE</em>. In this case, because the runtime is composed from multiple projects, which doesn't have to declare dependencies on one another, Eclipse will automatically find the class in the workspace, even if it is not available in the source lookup path.</p>\n\n<p><em>I cannot see the variables when I hit a breakpoint or it just opens the source, but doesn't select the breakpoint line:</em></p>\n\n<p>This means that in the runtime, either the JVM or the classes themselves doesn't have the necessary debug information. Each time classes are compiled, debug information can be attached. To reduce the storage space of the classes, sometimes this information is omitted, which makes debugging such code a pain. Your only chance is to try and recompile with debug enabled.</p>\n\n<p><em>Eclipse source viewer shows different lines than those that are actually executed:</em></p>\n\n<p>It sometimes can show that empty space is executed as well. This means that your sources doesn't match your runtime version of the classes. Even if you think that this is not possible, it is, so make sure you setup the correct sources. Or your runtime match your latest changes, depending on what are you trying to do.</p>\n"},{"tags":[],"owner":{"account_id":120391,"reputation":3335,"user_id":312808,"accept_rate":85,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1328209158,"creation_date":1328209158,"answer_id":9118257,"question_id":6174550,"body_markdown":"I had the very same problem. In my case, I&#39;ve disabled Window-Preferences-Java-Debug [Suspend execution on uncaught exceptions]. Then, the console showed me the correct error: my MySql user hadn&#39;t privileges to access the database. [According to this topic.][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1960158/eclipse-debugging-source-not-found","title":"Eclipse java debugging: source not found","body":"<p>I had the very same problem. In my case, I've disabled Window-Preferences-Java-Debug [Suspend execution on uncaught exceptions]. Then, the console showed me the correct error: my MySql user hadn't privileges to access the database. <a href=\"https://stackoverflow.com/questions/1960158/eclipse-debugging-source-not-found\">According to this topic.</a></p>\n"},{"tags":[],"owner":{"account_id":355909,"reputation":1616,"user_id":695116,"accept_rate":57,"display_name":"ssasa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1354031544,"creation_date":1342097764,"answer_id":11452337,"question_id":6174550,"body_markdown":"You might have source code of a dependency accessible to Eclipse. But Eclipse does not know for source code for code that is dynamically loaded. E.g. through Maven.\r\n\r\nIn case of Maven, I recommend that you use run-jetty-run plugin:\r\n\r\n[http://code.google.com/p/run-jetty-run/][1]\r\n\r\nAs a workaround you can also connect to a running JVM with the debugger and you will see the code.\r\nAlternatively you can use Dynamic Source Lookup plugin for Eclipse from here:\r\n\r\n[https://github.com/ifedorenko/com.ifedorenko.m2e.sourcelookup][2]\r\n\r\nUnfortunately it didn&#39;t helped me as it has issues with Windows paths with spaces.\r\n\r\nI have filled an enhancement request on Eclipse Bugzilla and if you agree this issue &quot;Source not found&quot; should vanish forever, please vote for it here:\r\n\r\n[https://bugs.eclipse.org/bugs/show_bug.cgi?id=384065][3]\r\n\r\nThanks!\r\n\r\nSasa\r\n\r\n\r\n  [1]: http://code.google.com/p/run-jetty-run/\r\n  [2]: https://github.com/ifedorenko/com.ifedorenko.m2e.sourcelookup\r\n  [3]: https://bugs.eclipse.org/bugs/show_bug.cgi?id=384065","title":"Eclipse java debugging: source not found","body":"<p>You might have source code of a dependency accessible to Eclipse. But Eclipse does not know for source code for code that is dynamically loaded. E.g. through Maven.</p>\n\n<p>In case of Maven, I recommend that you use run-jetty-run plugin:</p>\n\n<p><a href=\"http://code.google.com/p/run-jetty-run/\" rel=\"nofollow\">http://code.google.com/p/run-jetty-run/</a></p>\n\n<p>As a workaround you can also connect to a running JVM with the debugger and you will see the code.\nAlternatively you can use Dynamic Source Lookup plugin for Eclipse from here:</p>\n\n<p><a href=\"https://github.com/ifedorenko/com.ifedorenko.m2e.sourcelookup\" rel=\"nofollow\">https://github.com/ifedorenko/com.ifedorenko.m2e.sourcelookup</a></p>\n\n<p>Unfortunately it didn't helped me as it has issues with Windows paths with spaces.</p>\n\n<p>I have filled an enhancement request on Eclipse Bugzilla and if you agree this issue \"Source not found\" should vanish forever, please vote for it here:</p>\n\n<p><a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=384065\" rel=\"nofollow\">https://bugs.eclipse.org/bugs/show_bug.cgi?id=384065</a></p>\n\n<p>Thanks!</p>\n\n<p>Sasa</p>\n"},{"tags":[],"owner":{"account_id":1926594,"reputation":61,"user_id":1736867,"display_name":"avase"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1349928914,"creation_date":1349928914,"answer_id":12832118,"question_id":6174550,"body_markdown":"I had the problem that my Eclipse was not debugging the source code of my project. I was getting a blank page with &quot;Source code node found&quot;. \r\n\r\nPlease click the Attach source code button. Then delete the &quot;default&quot; folder then click add and go to your project location and attach. This worked for me","title":"Eclipse java debugging: source not found","body":"<p>I had the problem that my Eclipse was not debugging the source code of my project. I was getting a blank page with \"Source code node found\". </p>\n\n<p>Please click the Attach source code button. Then delete the \"default\" folder then click add and go to your project location and attach. This worked for me</p>\n"},{"tags":[],"owner":{"account_id":2001175,"reputation":61,"user_id":1792191,"display_name":"Rajneesh Sekharmantri"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1351793228,"creation_date":1351793228,"answer_id":13182988,"question_id":6174550,"body_markdown":"Remove the existing Debug Configuration and create a new one. That should resolve the problem.","title":"Eclipse java debugging: source not found","body":"<p>Remove the existing Debug Configuration and create a new one. That should resolve the problem.</p>\n"},{"tags":[],"owner":{"account_id":1987474,"reputation":907,"user_id":1782309,"accept_rate":71,"display_name":"Vering"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1357817034,"creation_date":1357817034,"answer_id":14256822,"question_id":6174550,"body_markdown":"From http://www.coderanch.com/t/587493/vc/Debugging-Eclipse-Source\r\n\r\n&quot;When running in debug mode, right click on the running thread (in threads tab) and select Edit Source Lookup. At this point, you should be able to add the necessary project/jar which contains your source code.&quot;\r\n\r\nI added my current project in this way, and it solved my problem","title":"Eclipse java debugging: source not found","body":"<p>From <a href=\"http://www.coderanch.com/t/587493/vc/Debugging-Eclipse-Source\" rel=\"noreferrer\">http://www.coderanch.com/t/587493/vc/Debugging-Eclipse-Source</a></p>\n\n<p>\"When running in debug mode, right click on the running thread (in threads tab) and select Edit Source Lookup. At this point, you should be able to add the necessary project/jar which contains your source code.\"</p>\n\n<p>I added my current project in this way, and it solved my problem</p>\n"},{"tags":[],"owner":{"account_id":2083086,"reputation":1665,"user_id":1854667,"display_name":"Birol Efe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1360845065,"creation_date":1360845065,"answer_id":14874937,"question_id":6174550,"body_markdown":"Info: This is a possible solution, when you use maven (pom.xml) with couple of projects.\r\n\r\nIf you are working with maven, make sure what version you are taking inside the according pom.xml (e. g. &lt;version&gt;1.0.1-SNAPSHOT&lt;/version&gt; ).\r\nIt might be possible that your code is  up-to-date, but your pom.xml dependencies are still taking the old JAR&#39;s/Snapshots (with the old code). \r\n\r\nFinding the problem:\r\n\r\n - Try to debug the according file. \r\n - Therefore, set a breakpoint in the relevant code area. \r\n - When **&quot;source not found&quot;** appears, make sure to bind in the right project (where the .java file can be found). \r\n - The compile .class file opens up in the IDE editor.\r\n - Click &quot;Link with Editor&quot; to find the according JAR/Snapshot. \r\n - Now make sure that this JAR is the most recent one. Possibly there is a newer one. In that case, write the most recent version number &lt;version&gt; in the pom.xml.\r\n - Then do a maven update and build (e. g. &quot;mvn clean install -U&quot;) in the right project directory.","title":"Eclipse java debugging: source not found","body":"<p>Info: This is a possible solution, when you use maven (pom.xml) with couple of projects.</p>\n\n<p>If you are working with maven, make sure what version you are taking inside the according pom.xml (e. g. 1.0.1-SNAPSHOT ).\nIt might be possible that your code is  up-to-date, but your pom.xml dependencies are still taking the old JAR's/Snapshots (with the old code). </p>\n\n<p>Finding the problem:</p>\n\n<ul>\n<li>Try to debug the according file. </li>\n<li>Therefore, set a breakpoint in the relevant code area. </li>\n<li>When <strong>\"source not found\"</strong> appears, make sure to bind in the right project (where the .java file can be found). </li>\n<li>The compile .class file opens up in the IDE editor.</li>\n<li>Click \"Link with Editor\" to find the according JAR/Snapshot. </li>\n<li>Now make sure that this JAR is the most recent one. Possibly there is a newer one. In that case, write the most recent version number  in the pom.xml.</li>\n<li>Then do a maven update and build (e. g. \"mvn clean install -U\") in the right project directory.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2637065,"reputation":7621,"user_id":2281472,"accept_rate":71,"display_name":"Develop4Life"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1370250668,"creation_date":1370250668,"answer_id":16893377,"question_id":6174550,"body_markdown":"If you are on eclipse or STS please install and Use GC(GrepCode Plugin) ,some time you don&#39;t need to attach the source .zip file into your project path so GrepCode works fine for you.","title":"Eclipse java debugging: source not found","body":"<p>If you are on eclipse or STS please install and Use GC(GrepCode Plugin) ,some time you don't need to attach the source .zip file into your project path so GrepCode works fine for you.</p>\n"},{"tags":[],"owner":{"account_id":3588805,"reputation":7,"user_id":2995311,"display_name":"user2995311"},"down_vote_count":6,"up_vote_count":1,"is_accepted":false,"score":-5,"last_activity_date":1384502055,"creation_date":1384500913,"answer_id":19995823,"question_id":6174550,"body_markdown":"In my case problem was resolved by clicking `Remove All Breakpoints`  ","title":"Eclipse java debugging: source not found","body":"<p>In my case problem was resolved by clicking <code>Remove All Breakpoints</code>  </p>\n"},{"tags":[],"owner":{"account_id":3641990,"reputation":46,"user_id":3035873,"display_name":"user3035873"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1385461115,"creation_date":1385461115,"answer_id":20214187,"question_id":6174550,"body_markdown":"I&#39;ve had a related issue in connection with Glassfish server debugging in Eclipse.\r\nThis was brought about by loading the source code from a different repository (changing from SVN to GitHub). In the process, the wrong compiled classes were used by the Glassfish server and hence, the source and run time would be out of sync with break points appearing on empty lines.\r\n\r\nTo solve this, rename or delete the top folder of the classes directory and Glassfish will recreate the whole class directory tree including updating the class files with the correctly compiled version.\r\n\r\nThe classes directory is located in: &lt;path to eclipse workspace&gt; /workspace/glassfish3122eclipsedefaultdomain/eclipseApps/&lt; your Web Application&gt;/WEB-INF/classes","title":"Eclipse java debugging: source not found","body":"<p>I've had a related issue in connection with Glassfish server debugging in Eclipse.\nThis was brought about by loading the source code from a different repository (changing from SVN to GitHub). In the process, the wrong compiled classes were used by the Glassfish server and hence, the source and run time would be out of sync with break points appearing on empty lines.</p>\n\n<p>To solve this, rename or delete the top folder of the classes directory and Glassfish will recreate the whole class directory tree including updating the class files with the correctly compiled version.</p>\n\n<p>The classes directory is located in:  /workspace/glassfish3122eclipsedefaultdomain/eclipseApps/&lt; your Web Application>/WEB-INF/classes</p>\n"},{"tags":[],"owner":{"account_id":1665943,"reputation":4217,"user_id":1533342,"display_name":"Douglas Frari"},"down_vote_count":0,"up_vote_count":333,"is_accepted":false,"score":333,"last_activity_date":1504535692,"creation_date":1396953723,"answer_id":22934568,"question_id":6174550,"body_markdown":"\r\n\r\nJust 3 steps to configuration Eclipse IDE:\r\n\r\n&gt; **Note:** After updating the Source Lookup paths, you&#39;ll have to stop and restart your debug session.  Otherwise, the file with the missing source will continue to show &quot;missing source&quot;.\r\n\r\nEdit Source Lookup\r\nSelect the Edit Source Lookup... command [ Edit Source Lookup ] to open the Source Path Dialog, which allows you to make changes to the source lookup path of the selected debug target.\r\n\r\n![enter image description here][1]\r\n\r\n![enter image description here][2]\r\n\r\n![enter image description here][3]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/aIYJA.png\r\n  [2]: http://i.stack.imgur.com/53p7o.png\r\n  [3]: http://i.stack.imgur.com/0aepF.png\r\n\r\n*IMPORTANT* **Restart Eclipse** after this last step.","title":"Eclipse java debugging: source not found","body":"<p>Just 3 steps to configuration Eclipse IDE:</p>\n\n<blockquote>\n  <p><strong>Note:</strong> After updating the Source Lookup paths, you'll have to stop and restart your debug session.  Otherwise, the file with the missing source will continue to show \"missing source\".</p>\n</blockquote>\n\n<p>Edit Source Lookup\nSelect the Edit Source Lookup... command [ Edit Source Lookup ] to open the Source Path Dialog, which allows you to make changes to the source lookup path of the selected debug target.</p>\n\n<p><img src=\"https://i.stack.imgur.com/aIYJA.png\" alt=\"enter image description here\"></p>\n\n<p><img src=\"https://i.stack.imgur.com/53p7o.png\" alt=\"enter image description here\"></p>\n\n<p><img src=\"https://i.stack.imgur.com/0aepF.png\" alt=\"enter image description here\"></p>\n\n<p><em>IMPORTANT</em> <strong>Restart Eclipse</strong> after this last step.</p>\n"},{"tags":[],"owner":{"account_id":3266543,"reputation":2246,"user_id":2750931,"display_name":"krzysiek.ste"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1554194904,"creation_date":1398417634,"answer_id":23289043,"question_id":6174550,"body_markdown":"I had similar problem with my eclipse maven project. I fought with this issue quite a long time then I tried to rebuild project with \r\n\r\n    mvn clean eclipse:eclipse\r\n\r\nand it helped.\r\n\r\nNote: Using this approach will confuse the m2e plugin since the two approaches are very different. m2e adds a virtual node to your project called &quot;Maven Dependencies&quot; and asks Maven to add all dependencies there.\r\n\r\n`mvn eclipse:eclipse`, on the other hand, will create a lot of individual entries in the file `.classpath`. Eclipse will handle them as if you manually added JARs to your project.\r\n\r\nUnless you know how the classpath in Eclipse works, this approach is not recommended.","title":"Eclipse java debugging: source not found","body":"<p>I had similar problem with my eclipse maven project. I fought with this issue quite a long time then I tried to rebuild project with </p>\n\n<pre><code>mvn clean eclipse:eclipse\n</code></pre>\n\n<p>and it helped.</p>\n\n<p>Note: Using this approach will confuse the m2e plugin since the two approaches are very different. m2e adds a virtual node to your project called \"Maven Dependencies\" and asks Maven to add all dependencies there.</p>\n\n<p><code>mvn eclipse:eclipse</code>, on the other hand, will create a lot of individual entries in the file <code>.classpath</code>. Eclipse will handle them as if you manually added JARs to your project.</p>\n\n<p>Unless you know how the classpath in Eclipse works, this approach is not recommended.</p>\n"},{"tags":[],"owner":{"account_id":3769642,"reputation":2409,"user_id":3132194,"display_name":"user3132194"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1402398123,"creation_date":1402398123,"answer_id":24139350,"question_id":6174550,"body_markdown":"In my case with tomcat projects I have checked project here:\r\nWindow - Preferences - Tomcat - Source Path - Add java projects to source path","title":"Eclipse java debugging: source not found","body":"<p>In my case with tomcat projects I have checked project here:\nWindow - Preferences - Tomcat - Source Path - Add java projects to source path</p>\n"},{"tags":[],"owner":{"account_id":277257,"reputation":455,"user_id":571150,"display_name":"maarten"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1411061793,"creation_date":1411061793,"answer_id":25919034,"question_id":6174550,"body_markdown":"In my case the Maven version of the other referenced project didn&#39;t match the version of the test project. Once they were the same, the problem disappeared.","title":"Eclipse java debugging: source not found","body":"<p>In my case the Maven version of the other referenced project didn't match the version of the test project. Once they were the same, the problem disappeared.</p>\n"},{"tags":[],"owner":{"account_id":5841924,"reputation":1,"user_id":4603250,"display_name":"Yoga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424815807,"creation_date":1424815807,"answer_id":28707334,"question_id":6174550,"body_markdown":"When running in debug mode, click Edit Source Lookup after suspended from thread. At this point, we should be able to add the necessary project/jar which contains your source code.\r\nAfter I added my current project in this way, and it solved my problem. Thanks","title":"Eclipse java debugging: source not found","body":"<p>When running in debug mode, click Edit Source Lookup after suspended from thread. At this point, we should be able to add the necessary project/jar which contains your source code.\nAfter I added my current project in this way, and it solved my problem. Thanks</p>\n"},{"tags":[],"owner":{"account_id":90378,"reputation":2824,"user_id":248847,"accept_rate":85,"display_name":"KrishPrabakar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1426827921,"creation_date":1426826106,"answer_id":29159498,"question_id":6174550,"body_markdown":"If you want to attach source code to any JAR by auto-downloading, try using this Eclipse plugin [Java Source Attacher](http://marketplace.eclipse.org/content/java-source-attacher)\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/NGLiz.png","title":"Eclipse java debugging: source not found","body":"<p>If you want to attach source code to any JAR by auto-downloading, try using this Eclipse plugin <a href=\"http://marketplace.eclipse.org/content/java-source-attacher\" rel=\"nofollow noreferrer\">Java Source Attacher</a></p>\n\n<p><img src=\"https://i.stack.imgur.com/NGLiz.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":2210410,"reputation":29,"user_id":1952431,"display_name":"simin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1430169680,"creation_date":1430169680,"answer_id":29906151,"question_id":6174550,"body_markdown":"I had this problem while working on java code to do process on a excel file containing a data set, then convert it to .csv file, i tried answers to this post, but they did not work.\r\nthe problem was the jar files themselves. after downloading needed jar files one by one(older releases) and add them to my project, &quot;source not found&quot; error vanished.\r\nmaybe you can check your jar files.\r\nhope this would help.","title":"Eclipse java debugging: source not found","body":"<p>I had this problem while working on java code to do process on a excel file containing a data set, then convert it to .csv file, i tried answers to this post, but they did not work.\nthe problem was the jar files themselves. after downloading needed jar files one by one(older releases) and add them to my project, \"source not found\" error vanished.\nmaybe you can check your jar files.\nhope this would help.</p>\n"},{"tags":[],"owner":{"account_id":4392576,"reputation":167,"user_id":3580519,"accept_rate":50,"display_name":"TajnosAgentos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1437994791,"creation_date":1437994791,"answer_id":31651344,"question_id":6174550,"body_markdown":"this worked for me\r\n\r\nright click on project -&gt; Properties -&gt; Deployment Assembly -&gt; add your jar","title":"Eclipse java debugging: source not found","body":"<p>this worked for me</p>\n\n<p>right click on project -> Properties -> Deployment Assembly -> add your jar</p>\n"},{"tags":[],"owner":{"account_id":1564647,"reputation":1501,"user_id":1453700,"accept_rate":36,"display_name":"Rajan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1473277304,"creation_date":1473277304,"answer_id":39377875,"question_id":6174550,"body_markdown":"If your are trying to debug your maven java project, and eclipse is not able to find your source, try one of these.\r\n\r\n1. Try adding these lines in the pom.xml\r\n\r\n   \r\n\r\n\r\n&gt;     &lt;build&gt;**&lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;**...\r\n\r\nTry maven-&gt;update and then debug\r\n\r\n2. Go to the root directory of the project;\r\n\r\n&gt;    mvn eclipse:eclipse\r\n\r\nnow try debugging\r\n\r\n","title":"Eclipse java debugging: source not found","body":"<p>If your are trying to debug your maven java project, and eclipse is not able to find your source, try one of these.</p>\n\n<ol>\n<li>Try adding these lines in the pom.xml</li>\n</ol>\n\n<blockquote>\n<pre><code>&lt;build&gt;**&lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;**...\n</code></pre>\n</blockquote>\n\n<p>Try maven->update and then debug</p>\n\n<ol start=\"2\">\n<li>Go to the root directory of the project;</li>\n</ol>\n\n<blockquote>\n  <p>mvn eclipse:eclipse</p>\n</blockquote>\n\n<p>now try debugging</p>\n"},{"tags":[],"owner":{"account_id":4218968,"reputation":4362,"user_id":3454208,"accept_rate":48,"display_name":"Varun"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1490874414,"creation_date":1490874414,"answer_id":43117020,"question_id":6174550,"body_markdown":"I was facing the same issue,I followed the bellow steps.\r\n\r\n&lt;kbd&gt;Window&lt;/kbd&gt; =&gt; &lt;kbd&gt;Preferences&lt;/kbd&gt; =&gt; &lt;kbd&gt;Java&lt;/kbd&gt; =&gt; &lt;kbd&gt;Installed JREs&lt;/kbd&gt;,\r\n\r\n[![enter image description here][1]][1]\r\n\r\nYou see in the above screen `Jre1.8.0_12` is selected. \r\n\r\n select the JRE you are using and click &lt;kbd&gt;Edit&lt;/kbd&gt;. Now You should see the bellow screen.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nClick on the directory, browse for Jdk, It should look like bellow screen.\r\n[![enter image description here][3]][3]\r\n\r\nclick ok, and its done\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JSC6Q.png\r\n  [2]: https://i.stack.imgur.com/LDaqY.png\r\n  [3]: https://i.stack.imgur.com/FgArN.png","title":"Eclipse java debugging: source not found","body":"<p>I was facing the same issue,I followed the bellow steps.</p>\n\n<p><kbd>Window</kbd> => <kbd>Preferences</kbd> => <kbd>Java</kbd> => <kbd>Installed JREs</kbd>,</p>\n\n<p><a href=\"https://i.stack.imgur.com/JSC6Q.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/JSC6Q.png\" alt=\"enter image description here\"></a></p>\n\n<p>You see in the above screen <code>Jre1.8.0_12</code> is selected. </p>\n\n<p>select the JRE you are using and click <kbd>Edit</kbd>. Now You should see the bellow screen.</p>\n\n<p><a href=\"https://i.stack.imgur.com/LDaqY.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/LDaqY.png\" alt=\"enter image description here\"></a></p>\n\n<p>Click on the directory, browse for Jdk, It should look like bellow screen.\n<a href=\"https://i.stack.imgur.com/FgArN.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/FgArN.png\" alt=\"enter image description here\"></a></p>\n\n<p>click ok, and its done</p>\n"},{"tags":[],"owner":{"account_id":4981963,"reputation":2458,"user_id":4006620,"accept_rate":76,"display_name":"Vishvesh Phadnis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504175780,"creation_date":1504175780,"answer_id":45979376,"question_id":6174550,"body_markdown":"Go to Debug configuration in eclipse and use below goal to run your application.\r\n\r\n**-Dmaven.surefire.debug**\r\n\r\ne.g \r\n\r\n-Dmaven.surefire.debug exec:java ","title":"Eclipse java debugging: source not found","body":"<p>Go to Debug configuration in eclipse and use below goal to run your application.</p>\n\n<p><strong>-Dmaven.surefire.debug</strong></p>\n\n<p>e.g </p>\n\n<p>-Dmaven.surefire.debug exec:java </p>\n"},{"tags":[],"owner":{"account_id":11514158,"reputation":3581,"user_id":8437974,"accept_rate":60,"display_name":"Germa Vinsmoke"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1516520870,"creation_date":1516520870,"answer_id":48364723,"question_id":6174550,"body_markdown":"In my case, even after Editing source lookup and Adding project, it didn&#39;t worked. I configured the Build path of the project.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAfter that, I selected JRE System Library and it worked.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/V2kiT.png\r\n  [2]: https://i.stack.imgur.com/EV8mW.png","title":"Eclipse java debugging: source not found","body":"<p>In my case, even after Editing source lookup and Adding project, it didn't worked. I configured the Build path of the project.</p>\n\n<p><a href=\"https://i.stack.imgur.com/V2kiT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V2kiT.png\" alt=\"enter image description here\"></a></p>\n\n<p>After that, I selected JRE System Library and it worked.</p>\n\n<p><a href=\"https://i.stack.imgur.com/EV8mW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EV8mW.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":4699401,"reputation":1032,"user_id":3803419,"accept_rate":100,"display_name":"Chris C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523027842,"creation_date":1523027842,"answer_id":49696014,"question_id":6174550,"body_markdown":"Well, here&#39;s what worked for me.  I tried every possible solution on StackOverflow that there was.  I tried changing my source location in the debug menu, I installed the m2e Eclipse plugin, I changed from embedded Maven, and I installed the run-jetty-run and nothing worked.  Now, I will caveat that I was not trying to view an external person&#39;s source code, I just wanted to see my OWN code, but every time I &quot;stepped in&quot; to my methods that I wrote that were in MY project, I got the &quot;Source now found&quot; error.\r\n\r\nAfter finally asking an expert, my issue was that the first thing Eclipse was doing was calling a ClassLoader, which you can see from the debug stack.  All I had to do was F6 (step over) and then it took me back to my original call and then F5 (step in).  And there was my code.  Sigh...such a simple fix but an hour wasted.","title":"Eclipse java debugging: source not found","body":"<p>Well, here's what worked for me.  I tried every possible solution on StackOverflow that there was.  I tried changing my source location in the debug menu, I installed the m2e Eclipse plugin, I changed from embedded Maven, and I installed the run-jetty-run and nothing worked.  Now, I will caveat that I was not trying to view an external person's source code, I just wanted to see my OWN code, but every time I \"stepped in\" to my methods that I wrote that were in MY project, I got the \"Source now found\" error.</p>\n\n<p>After finally asking an expert, my issue was that the first thing Eclipse was doing was calling a ClassLoader, which you can see from the debug stack.  All I had to do was F6 (step over) and then it took me back to my original call and then F5 (step in).  And there was my code.  Sigh...such a simple fix but an hour wasted.</p>\n"},{"tags":[],"owner":{"account_id":2003177,"reputation":16895,"user_id":1793718,"accept_rate":69,"display_name":"Lucky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1528351544,"creation_date":1528351544,"answer_id":50733971,"question_id":6174550,"body_markdown":"In my case in &quot;Attach Source&quot;, I added the other maven project directory in the &quot;Source Attachment Configuration&quot; panel. Adding the latest version jar from the m2 repository din&#39;t work. All the classes from the other maven project failed to open. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nHere test was my other maven project containing all the java sources. \r\n\r\n  [1]: https://i.stack.imgur.com/fEsyn.png","title":"Eclipse java debugging: source not found","body":"<p>In my case in \"Attach Source\", I added the other maven project directory in the \"Source Attachment Configuration\" panel. Adding the latest version jar from the m2 repository din't work. All the classes from the other maven project failed to open. </p>\n\n<p><a href=\"https://i.stack.imgur.com/fEsyn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fEsyn.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here test was my other maven project containing all the java sources. </p>\n"},{"tags":[],"owner":{"account_id":5736180,"reputation":21,"user_id":4530284,"display_name":"Shobhit Mittal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536562406,"creation_date":1536562406,"answer_id":52252494,"question_id":6174550,"body_markdown":"For beginners, \r\n\r\nThere is a possibility that the jar file is a part of the project which you have not yet included in the Eclipse workspace.\r\n\r\nFor that, you need to know the project name of the jar file.\r\nSay for example, its **abc**-18.0.0-SNAPSHOT.jar, it means that the project you are supposed to include in your workspace is **abc**.","title":"Eclipse java debugging: source not found","body":"<p>For beginners, </p>\n\n<p>There is a possibility that the jar file is a part of the project which you have not yet included in the Eclipse workspace.</p>\n\n<p>For that, you need to know the project name of the jar file.\nSay for example, its <strong>abc</strong>-18.0.0-SNAPSHOT.jar, it means that the project you are supposed to include in your workspace is <strong>abc</strong>.</p>\n"},{"tags":[],"owner":{"account_id":11210088,"reputation":397,"user_id":8224410,"display_name":"6pi"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1537374677,"creation_date":1537274268,"answer_id":52386778,"question_id":6174550,"body_markdown":"In eclipse photon try to turn off\r\n&quot;Window-&gt;Preferences-&gt;Java-&gt;Debug-&gt;Use advanced source lookup&quot;\r\n\r\nEdit: \r\nThere is a related bug in this version of eclipse which leads to a &quot;source not found&quot; message while debugging Java applications. See bug report bugs.eclipse.org/bugs/show_bug.cgi?id=537699 for more details","title":"Eclipse java debugging: source not found","body":"<p>In eclipse photon try to turn off\n\"Window->Preferences->Java->Debug->Use advanced source lookup\"</p>\n\n<p>Edit: \nThere is a related bug in this version of eclipse which leads to a \"source not found\" message while debugging Java applications. See bug report bugs.eclipse.org/bugs/show_bug.cgi?id=537699 for more details</p>\n"},{"tags":[],"owner":{"account_id":10775305,"reputation":668,"user_id":7927573,"display_name":"Oguzhan Cevik"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1543320368,"creation_date":1543320368,"answer_id":53499320,"question_id":6174550,"body_markdown":"**Click -&gt; Edit Source Lookup Path**\r\n\r\nafter then \r\n\r\n**Click -&gt; Add finally select Java project and select project path.**\r\n\r\nSource: https://www.youtube.com/watch?v=IGIKPY6q1Qw","title":"Eclipse java debugging: source not found","body":"<p><strong>Click -> Edit Source Lookup Path</strong></p>\n\n<p>after then </p>\n\n<p><strong>Click -> Add finally select Java project and select project path.</strong></p>\n\n<p>Source: <a href=\"https://www.youtube.com/watch?v=IGIKPY6q1Qw\" rel=\"noreferrer\">https://www.youtube.com/watch?v=IGIKPY6q1Qw</a></p>\n"},{"tags":[],"owner":{"account_id":429281,"reputation":700,"user_id":812093,"accept_rate":83,"display_name":"Kai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554286183,"creation_date":1554286183,"answer_id":55492551,"question_id":6174550,"body_markdown":"I had the same issue with eclipse 2019-03 (4.11.0) and I was only able to solve this by doing the debugging via remote debugging instead of directly launching it in debug mode.","title":"Eclipse java debugging: source not found","body":"<p>I had the same issue with eclipse 2019-03 (4.11.0) and I was only able to solve this by doing the debugging via remote debugging instead of directly launching it in debug mode.</p>\n"},{"tags":[],"owner":{"account_id":14197657,"reputation":89,"user_id":10256479,"display_name":"kranti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582303308,"creation_date":1582303308,"answer_id":60342963,"question_id":6174550,"body_markdown":"Attach source -&gt; Add -&gt; External Archive -&gt; select the jar -&gt; open -&gt; done\r\n\r\nthe catch is look for the sources jar and attach this jar.\r\n\r\nfor example the jar ends with &quot;-sources&quot; Stax2-api-3.4.1-sources","title":"Eclipse java debugging: source not found","body":"<p>Attach source -> Add -> External Archive -> select the jar -> open -> done</p>\n\n<p>the catch is look for the sources jar and attach this jar.</p>\n\n<p>for example the jar ends with \"-sources\" Stax2-api-3.4.1-sources</p>\n"},{"tags":[],"owner":{"account_id":8803777,"reputation":2946,"user_id":6579116,"accept_rate":27,"display_name":"Pirate"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1606746131,"creation_date":1606746131,"answer_id":65075334,"question_id":6174550,"body_markdown":"None of the mentioned answer worked for me.\r\n\r\nTo resolve this issue i have to follow bellow steps:\r\n\r\n - Right click on Java HotSpot(TM) 64 Bit server.\r\n - Select &quot;Edit Source Lookup&quot;.\r\n - Click on &quot;Add&quot;.\r\n - Select &quot;File System Directory&quot; instead of Java project.\r\n - Select Root directory of your project.\r\n - Check &quot;Search Subfolders&quot;.\r\n - Click Ok ok ok.\r\n\r\nThanks.","title":"Eclipse java debugging: source not found","body":"<p>None of the mentioned answer worked for me.</p>\n<p>To resolve this issue i have to follow bellow steps:</p>\n<ul>\n<li>Right click on Java HotSpot(TM) 64 Bit server.</li>\n<li>Select &quot;Edit Source Lookup&quot;.</li>\n<li>Click on &quot;Add&quot;.</li>\n<li>Select &quot;File System Directory&quot; instead of Java project.</li>\n<li>Select Root directory of your project.</li>\n<li>Check &quot;Search Subfolders&quot;.</li>\n<li>Click Ok ok ok.</li>\n</ul>\n<p>Thanks.</p>\n"},{"tags":[],"owner":{"account_id":5993819,"reputation":21,"user_id":4709124,"display_name":"Shashi Bhushan Jha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618399817,"creation_date":1618399817,"answer_id":67090885,"question_id":6174550,"body_markdown":"sometimes these thing happens because of the version also like if you are using latest \r\nversion in that case it may arise try to use older version it will work.","title":"Eclipse java debugging: source not found","body":"<p>sometimes these thing happens because of the version also like if you are using latest\nversion in that case it may arise try to use older version it will work.</p>\n"},{"tags":[],"owner":{"account_id":6869537,"reputation":1293,"user_id":5280512,"display_name":"Tom Rutchik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678819548,"creation_date":1678819548,"answer_id":75737208,"question_id":6174550,"body_markdown":"None of the posted solutions worked for me.  I was using eclipse to debug a servlet using a Tomcat server.  My version of eclipse is 2022-12.  The problem was with debugging libraries that I included in my WEB-INF/lib directory.  This had been working for me in previous versions of eclipse.  I can&#39;t recall if it ever worked using eclipse 2022-12. If it had, it certainly stopped working. As I said, none of the posted solutions worked for me, but I will add that I never did try rebuilding the workspace which was one solution that I had read.\r\n\r\nSomehow in trying to update eclipse, I ended up breaking eclipse.  After an update, it wouldn&#39;t start. Eclipse updates are strange and hard to understand. \r\nIt goes, though a laborious process of trying alternative solutions. I think it&#39;s trying to figure out a compatible set of components to install based on the features and plugins that you have installed. That&#39;s what probably makes the update process somewhat unreliable. Anyhow, this issue forced me to reinstall eclipse.   After the reinstall of eclipse, this problem went away. My guess is that something related to an eclipse update or possibly adding some marketplace plugin had broken this feature from working. ","title":"Eclipse java debugging: source not found","body":"<p>None of the posted solutions worked for me.  I was using eclipse to debug a servlet using a Tomcat server.  My version of eclipse is 2022-12.  The problem was with debugging libraries that I included in my WEB-INF/lib directory.  This had been working for me in previous versions of eclipse.  I can't recall if it ever worked using eclipse 2022-12. If it had, it certainly stopped working. As I said, none of the posted solutions worked for me, but I will add that I never did try rebuilding the workspace which was one solution that I had read.</p>\n<p>Somehow in trying to update eclipse, I ended up breaking eclipse.  After an update, it wouldn't start. Eclipse updates are strange and hard to understand.\nIt goes, though a laborious process of trying alternative solutions. I think it's trying to figure out a compatible set of components to install based on the features and plugins that you have installed. That's what probably makes the update process somewhat unreliable. Anyhow, this issue forced me to reinstall eclipse.   After the reinstall of eclipse, this problem went away. My guess is that something related to an eclipse update or possibly adding some marketplace plugin had broken this feature from working.</p>\n"},{"tags":[],"owner":{"account_id":27600197,"reputation":27,"user_id":21065590,"display_name":"Jcoder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680900803,"creation_date":1680525304,"answer_id":75919549,"question_id":6174550,"body_markdown":"In my case I put many breakpoints in different project, and when I run debugger, he can not find need source folder!  I got the error &quot;Source not found&quot;\r\n\r\nTo fix it I removed all the breakpoints by going to  **Windows -&gt; Show View -&gt; Breakpoints -&gt; right click -&gt; remove all**. \r\n\r\nThen I could add breakpoints as needed","title":"Eclipse java debugging: source not found","body":"<p>In my case I put many breakpoints in different project, and when I run debugger, he can not find need source folder!  I got the error &quot;Source not found&quot;</p>\n<p>To fix it I removed all the breakpoints by going to  <strong>Windows -&gt; Show View -&gt; Breakpoints -&gt; right click -&gt; remove all</strong>.</p>\n<p>Then I could add breakpoints as needed</p>\n"}],"owner":{"account_id":141491,"reputation":102502,"user_id":348545,"accept_rate":67,"display_name":"Jonathan Livni"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":525682,"favorite_count":0,"down_vote_count":1,"up_vote_count":203,"accepted_answer_id":6179462,"answer_count":35,"score":202,"last_activity_date":1680900803,"creation_date":1306748206,"question_id":6174550,"body_markdown":"While debugging a java app in eclipse I receive a &quot;**Source not found**&quot; error in two cases:\r\n\r\n - Stepping in to a file in a different project which is already imported\r\n - Stepping in to a file in an installed maven repository\r\n\r\nThe files are there, but eclipse won&#39;t step into them, instead it shows a button to &quot;**attach source**&quot;\r\n\r\nI tried attaching (which opened a dialog to define a variable?!) and eclipse did jump to the file, but the debugger could not inspect any variables there. Also manually attaching the source for each dependency isn&#39;t practical, as in my case there are thousands of dependency files.\r\n\r\nWhy is this happening, and how can it be resolved?","title":"Eclipse java debugging: source not found","body":"<p>While debugging a java app in eclipse I receive a &quot;<strong>Source not found</strong>&quot; error in two cases:</p>\n<ul>\n<li>Stepping in to a file in a different project which is already imported</li>\n<li>Stepping in to a file in an installed maven repository</li>\n</ul>\n<p>The files are there, but eclipse won't step into them, instead it shows a button to &quot;<strong>attach source</strong>&quot;</p>\n<p>I tried attaching (which opened a dialog to define a variable?!) and eclipse did jump to the file, but the debugger could not inspect any variables there. Also manually attaching the source for each dependency isn't practical, as in my case there are thousands of dependency files.</p>\n<p>Why is this happening, and how can it be resolved?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1680900879,"post_id":75961836,"comment_id":133978722,"body_markdown":"In general, *if it ain&#39;t busted, don&#39;t fix it*; you have something that works, so leave it. The more specific answer is what you&#39;re doing is fine.","body":"In general, <i>if it ain&#39;t busted, don&#39;t fix it</i>; you have something that works, so leave it. The more specific answer is what you&#39;re doing is fine."},{"owner":{"account_id":4850763,"reputation":676,"user_id":3913107,"accept_rate":100,"display_name":"Gabriel Moretti"},"score":0,"creation_date":1680902129,"post_id":75961836,"comment_id":133978942,"body_markdown":"So would you agree that using cascade can be tricky? Maybe it&#39;s always better to handle this manually?","body":"So would you agree that using cascade can be tricky? Maybe it&#39;s always better to handle this manually?"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1680902288,"post_id":75961836,"comment_id":133978966,"body_markdown":"It seems natural, logical and understandable to create the parent, fill in the children, then persist the lot (in one operation).","body":"It seems natural, logical and understandable to create the parent, fill in the children, then persist the lot (in one operation)."}],"owner":{"account_id":4850763,"reputation":676,"user_id":3913107,"accept_rate":100,"display_name":"Gabriel Moretti"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680900707,"creation_date":1680900550,"question_id":75961836,"body_markdown":"I have two entities, and I will receive request for persisting data that will include the parent(Game) and, within it, a collection with its childs(Stats). I need to persist both the parent and the childs, all at once preferably, referencing the parent on each child.\r\n\r\nI tried\r\n ```\r\n\t\trepository.save(game);\r\n```\r\nwhile having this on the Game entity\r\n\r\n```\r\n\t@OneToMany(mappedBy=&quot;game&quot;, cascade = CascadeType.ALL)\r\n\tprivate List&lt;Stats&gt; stats = new ArrayList&lt;&gt;();\r\n````\r\n\r\nAlthough it is persisting the child entities, the parent id is not being persisted on the DB.\r\n\r\nI made this workaround, but I&#39;m not sure this is the best way to achieve what I need.\r\n\r\n\r\n\t\tgame = repository.save(game);\r\n\t\tstatsService.insertGameInStats(game.getStats(), game);\r\n\t\treturn game;\r\n","title":"Is there a way to store nested entities referencing the parent on the childs?","body":"<p>I have two entities, and I will receive request for persisting data that will include the parent(Game) and, within it, a collection with its childs(Stats). I need to persist both the parent and the childs, all at once preferably, referencing the parent on each child.</p>\n<p>I tried</p>\n<pre><code>       repository.save(game);\n</code></pre>\n<p>while having this on the Game entity</p>\n<pre><code>    @OneToMany(mappedBy=&quot;game&quot;, cascade = CascadeType.ALL)\n    private List&lt;Stats&gt; stats = new ArrayList&lt;&gt;();\n</code></pre>\n<p>Although it is persisting the child entities, the parent id is not being persisted on the DB.</p>\n<p>I made this workaround, but I'm not sure this is the best way to achieve what I need.</p>\n<pre><code>    game = repository.save(game);\n    statsService.insertGameInStats(game.getStats(), game);\n    return game;\n</code></pre>\n"},{"tags":["java","spring-boot","r2dbc"],"comments":[{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1679919716,"post_id":75854389,"comment_id":133801679,"body_markdown":"Please reformat the question and give thew full stack trace","body":"Please reformat the question and give thew full stack trace"}],"answers":[{"tags":[],"owner":{"account_id":28166617,"reputation":1,"user_id":21525726,"display_name":"hhywangwei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680900534,"creation_date":1680167852,"answer_id":75886315,"question_id":75854389,"body_markdown":"The server firewall may limit the empty connection time.\r\n\r\n    \r\n\r\n    r2dbc:\r\n    ...\r\n      pool:\r\n        ....\r\n        max-idle-time: 5m`","title":"Java R2DBC connection reset by peer","body":"<p>The server firewall may limit the empty connection time.</p>\n<pre><code>r2dbc:\n...\n  pool:\n    ....\n    max-idle-time: 5m`\n</code></pre>\n"}],"owner":{"account_id":27084369,"reputation":1,"user_id":20633103,"display_name":"Javohir Majidov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":412,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1680900534,"creation_date":1679911070,"question_id":75854389,"body_markdown":"When external user call create method sometimes client getting Failed to obtain R2DBC Connection error. \r\nCauase: io.netty.channel.unix.Errors$NativeIoException: recvAddress(..) failed: Connection reset by peer\r\nMy pool configuration:\r\n  ````r2dbc:\r\n    url: r2dbc:postgresql://PG_HOST:5432/credit-db\r\n    username: PG_USER\r\n    password: PG_PASSWORD\r\n    pool:\r\n      provider: fixed\r\n      initial-size: 3\r\n      min-idle: 3\r\n      max-life-time: 600000\r\n      max-size: 15\r\n      connection-timeout: 30000\r\n      pending-acquire-timeout: 60000\r\n      evict-in-background: 120000\r\n      idle-timeout: 20000\r\n      acquire-retry: 3\r\n      validation-query: SELECT 1\r\n      register-mbeans: true\r\n      validation:\r\n        enabled: true\r\n        validate-seconds: 60````\r\n\r\nHow to solve this problem\r\n\r\nMy dependency: \r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-r2dbc&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;","title":"Java R2DBC connection reset by peer","body":"<p>When external user call create method sometimes client getting Failed to obtain R2DBC Connection error.\nCauase: io.netty.channel.unix.Errors$NativeIoException: recvAddress(..) failed: Connection reset by peer\nMy pool configuration:</p>\n<pre><code>  url: r2dbc:postgresql://PG_HOST:5432/credit-db\n  username: PG_USER\n  password: PG_PASSWORD\n  pool:\n    provider: fixed\n    initial-size: 3\n    min-idle: 3\n    max-life-time: 600000\n    max-size: 15\n    connection-timeout: 30000\n    pending-acquire-timeout: 60000\n    evict-in-background: 120000\n    idle-timeout: 20000\n    acquire-retry: 3\n    validation-query: SELECT 1\n    register-mbeans: true\n    validation:\n      enabled: true\n      validate-seconds: 60````\n\nHow to solve this problem\n\nMy dependency: \n&lt;dependency&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-starter-data-r2dbc&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","spring-boot"],"comments":[{"owner":{"account_id":418082,"reputation":5911,"user_id":2090887,"accept_rate":87,"display_name":"Nilanchala"},"score":0,"creation_date":1688556731,"post_id":20405474,"comment_id":135088353,"body_markdown":"The video explains how to set context path in spring boot https://www.youtube.com/watch?v=7HqtH3L9erE","body":"The video explains how to set context path in spring boot <a href=\"https://www.youtube.com/watch?v=7HqtH3L9erE\" rel=\"nofollow noreferrer\">youtube.com/watch?v=7HqtH3L9erE</a>"}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":4,"up_vote_count":477,"is_accepted":true,"score":473,"last_activity_date":1614664954,"creation_date":1386314991,"answer_id":20418450,"question_id":20405474,"body_markdown":"Why are you trying to roll your own solution. Spring-boot already supports that.\r\n\r\nIf you don&#39;t already have one, add an `application.properties` file to `src\\main\\resources`. In that properties file, add 2 properties:\r\n\r\n    server.contextPath=/mainstay\r\n    server.port=12378\r\n\r\n**UPDATE (Spring Boot 2.0)**\r\n\r\nAs of Spring Boot 2.0 (due to the support of both Spring MVC and Spring WebFlux) the `contextPath` has been changed to the following:\r\n\r\n    server.servlet.context-path=/mainstay\r\n\r\nYou can then remove your configuration for the custom servlet container. If you need to do some post processing on the container you can add a `EmbeddedServletContainerCustomizer` implementation to your configuration (for instance to add the error pages).\r\n\r\nBasically the properties inside the `application.properties` serve as a default you can always override them by using another `application.properties` next to the artifact you deliver or by adding JVM parameters (`-Dserver.port=6666`).\r\n\r\nSee also [The Reference Guide][1] especially the [properties][4] section.\r\n\r\nThe class [`ServerProperties`][2] implements the `EmbeddedServletContainerCustomizer`. The default for `contextPath` is `&quot;&quot;`. In your code sample you are setting the `contextPath` directly on the `TomcatEmbeddedServletContainerFactory`. Next the `ServerProperties` instance will process this instance and reset it from your path to `&quot;&quot;`. ([This line][3] does a `null` check but as the default is `&quot;&quot;` it always fail and set the context to `&quot;&quot;` and thus overriding yours).\r\n\r\n[1]: http://docs.spring.io/spring-boot/docs/current/reference/html\r\n[2]: https://github.com/spring-projects/spring-boot/blob/master/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/ServerProperties.java\r\n[3]: https://github.com/spring-projects/spring-boot/blob/master/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/ServerProperties.java#L110\r\n[4]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#common-application-properties","title":"Add context path to Spring Boot application","body":"<p>Why are you trying to roll your own solution. Spring-boot already supports that.</p>\n<p>If you don't already have one, add an <code>application.properties</code> file to <code>src\\main\\resources</code>. In that properties file, add 2 properties:</p>\n<pre><code>server.contextPath=/mainstay\nserver.port=12378\n</code></pre>\n<p><strong>UPDATE (Spring Boot 2.0)</strong></p>\n<p>As of Spring Boot 2.0 (due to the support of both Spring MVC and Spring WebFlux) the <code>contextPath</code> has been changed to the following:</p>\n<pre><code>server.servlet.context-path=/mainstay\n</code></pre>\n<p>You can then remove your configuration for the custom servlet container. If you need to do some post processing on the container you can add a <code>EmbeddedServletContainerCustomizer</code> implementation to your configuration (for instance to add the error pages).</p>\n<p>Basically the properties inside the <code>application.properties</code> serve as a default you can always override them by using another <code>application.properties</code> next to the artifact you deliver or by adding JVM parameters (<code>-Dserver.port=6666</code>).</p>\n<p>See also <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html\" rel=\"noreferrer\">The Reference Guide</a> especially the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#common-application-properties\" rel=\"noreferrer\">properties</a> section.</p>\n<p>The class <a href=\"https://github.com/spring-projects/spring-boot/blob/master/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/ServerProperties.java\" rel=\"noreferrer\"><code>ServerProperties</code></a> implements the <code>EmbeddedServletContainerCustomizer</code>. The default for <code>contextPath</code> is <code>&quot;&quot;</code>. In your code sample you are setting the <code>contextPath</code> directly on the <code>TomcatEmbeddedServletContainerFactory</code>. Next the <code>ServerProperties</code> instance will process this instance and reset it from your path to <code>&quot;&quot;</code>. (<a href=\"https://github.com/spring-projects/spring-boot/blob/master/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/ServerProperties.java#L110\" rel=\"noreferrer\">This line</a> does a <code>null</code> check but as the default is <code>&quot;&quot;</code> it always fail and set the context to <code>&quot;&quot;</code> and thus overriding yours).</p>\n"},{"tags":[],"owner":{"account_id":5919185,"reputation":1404,"user_id":4656954,"display_name":"Abhishek Shah"},"down_vote_count":1,"up_vote_count":43,"is_accepted":false,"score":42,"last_activity_date":1611620103,"creation_date":1455028471,"answer_id":35294685,"question_id":20405474,"body_markdown":"If you are using Spring Boot, then you don&#39;t have to configure the server properties via Bean initializing.\r\n\r\nInstead, if one functionality is available for basic configuration, then it can be set in a &quot;properties&quot; file called `application`, which should reside under `src\\main\\resources` in your application structure. The &quot;properties&quot; file is available in two formats \r\n\r\n1. `.yml`\r\n\r\n2. `.properties`\r\n\r\nThe way you specify or set the configurations differs from one format to the other.\r\n\r\nIn your specific case, if you decide to use the extension `.properties`, then you would have a file called `application.properties` under `src\\main\\resources` with the following configuration settings\r\n    \r\n    server.port = 8080\r\n\tserver.contextPath = /context-path\r\n    \r\nOTOH, if you decide to use the `.yml` extension (i.e. `application.yml`), you would need to set the configurations using the following format (i.e. `YAML`):\r\n\r\n    server:\r\n        port: 8080\r\n        contextPath: /context-path\r\n    \r\n\r\n\r\nFor more common properties of Spring Boot refer to the link below:\r\n \r\n&gt; https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html","title":"Add context path to Spring Boot application","body":"<p>If you are using Spring Boot, then you don't have to configure the server properties via Bean initializing.</p>\n<p>Instead, if one functionality is available for basic configuration, then it can be set in a &quot;properties&quot; file called <code>application</code>, which should reside under <code>src\\main\\resources</code> in your application structure. The &quot;properties&quot; file is available in two formats</p>\n<ol>\n<li><p><code>.yml</code></p>\n</li>\n<li><p><code>.properties</code></p>\n</li>\n</ol>\n<p>The way you specify or set the configurations differs from one format to the other.</p>\n<p>In your specific case, if you decide to use the extension <code>.properties</code>, then you would have a file called <code>application.properties</code> under <code>src\\main\\resources</code> with the following configuration settings</p>\n<pre><code>server.port = 8080\nserver.contextPath = /context-path\n</code></pre>\n<p>OTOH, if you decide to use the <code>.yml</code> extension (i.e. <code>application.yml</code>), you would need to set the configurations using the following format (i.e. <code>YAML</code>):</p>\n<pre><code>server:\n    port: 8080\n    contextPath: /context-path\n</code></pre>\n<p>For more common properties of Spring Boot refer to the link below:</p>\n<blockquote>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html\" rel=\"noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html</a></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":8232493,"reputation":355,"user_id":6192770,"display_name":"Sanket"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1488278622,"creation_date":1481280461,"answer_id":41058652,"question_id":20405474,"body_markdown":"We can set it in the `application.properties` as\r\n`API_CONTEXT_ROOT=/therootpath`\r\n\r\nAnd we access it in the Java class as mentioned below\r\n\r\n\t@Value(&quot;${API_CONTEXT_ROOT}&quot;)\r\n\tprivate String contextRoot;","title":"Add context path to Spring Boot application","body":"<p>We can set it in the <code>application.properties</code> as\n<code>API_CONTEXT_ROOT=/therootpath</code></p>\n\n<p>And we access it in the Java class as mentioned below</p>\n\n<pre><code>@Value(\"${API_CONTEXT_ROOT}\")\nprivate String contextRoot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1684429,"reputation":4685,"user_id":1547989,"display_name":"Michael Simons"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1493024616,"creation_date":1493024616,"answer_id":43583863,"question_id":20405474,"body_markdown":"The correct properties are \r\n\r\n\r\n    server.servlet.path\r\n\r\n\r\nto configure the path of the DispatcherServlet\r\n\r\nand\r\n\r\n\r\n    server.servlet.context-path\r\n\r\n\r\nto configure the path of the applications context below that.","title":"Add context path to Spring Boot application","body":"<p>The correct properties are </p>\n\n<pre><code>server.servlet.path\n</code></pre>\n\n<p>to configure the path of the DispatcherServlet</p>\n\n<p>and</p>\n\n<pre><code>server.servlet.context-path\n</code></pre>\n\n<p>to configure the path of the applications context below that.</p>\n"},{"tags":[],"owner":{"account_id":352123,"reputation":1152,"user_id":689020,"accept_rate":54,"display_name":"magemello"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1516291227,"creation_date":1494677786,"answer_id":43953059,"question_id":20405474,"body_markdown":"If you use Spring Boot 2.0.0 use:\r\n\r\n    server.servlet.context-path","title":"Add context path to Spring Boot application","body":"<p>If you use Spring Boot 2.0.0 use:</p>\n\n<pre><code>server.servlet.context-path\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1713312,"reputation":173,"user_id":1570921,"accept_rate":0,"display_name":"Gondri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1509541702,"creation_date":1509541702,"answer_id":47055622,"question_id":20405474,"body_markdown":"**server.contextPath=/mainstay**\r\n\r\nworks for me if i had one war file in JBOSS. Among multiple war files where each contain jboss-web.xml it didn&#39;t work. I had to put jboss-web.xml inside WEB-INF directory with content\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;jboss-web xmlns=&quot;http://www.jboss.com/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n               xsi:schemaLocation=&quot;http://www.jboss.com/xml/ns/javaee http://www.jboss.org/j2ee/schema/jboss-web_5_1.xsd&quot;&gt;\r\n        &lt;context-root&gt;mainstay&lt;/context-root&gt;\r\n    &lt;/jboss-web&gt;","title":"Add context path to Spring Boot application","body":"<p><strong>server.contextPath=/mainstay</strong></p>\n\n<p>works for me if i had one war file in JBOSS. Among multiple war files where each contain jboss-web.xml it didn't work. I had to put jboss-web.xml inside WEB-INF directory with content</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;jboss-web xmlns=\"http://www.jboss.com/xml/ns/javaee\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n           xsi:schemaLocation=\"http://www.jboss.com/xml/ns/javaee http://www.jboss.org/j2ee/schema/jboss-web_5_1.xsd\"&gt;\n    &lt;context-root&gt;mainstay&lt;/context-root&gt;\n&lt;/jboss-web&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11905801,"reputation":10,"user_id":8712383,"display_name":"Saravanan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1510319543,"creation_date":1510319543,"answer_id":47223593,"question_id":20405474,"body_markdown":"context path can be directly integrated to the code but it is not advisable since it cannot be reused so write in the application.properties file\r\nserver.contextPath=/name of the folder where you placed the code\r\ncontextPath = name of the folder where you placed the code/\r\nNote:watch the slash carefully.","title":"Add context path to Spring Boot application","body":"<p>context path can be directly integrated to the code but it is not advisable since it cannot be reused so write in the application.properties file\nserver.contextPath=/name of the folder where you placed the code\ncontextPath = name of the folder where you placed the code/\nNote:watch the slash carefully.</p>\n"},{"tags":[],"owner":{"account_id":12227670,"reputation":11,"user_id":8924751,"display_name":"Piyush Anjikar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1510416820,"creation_date":1510416676,"answer_id":47240005,"question_id":20405474,"body_markdown":"In Spring Boot 1.5:\r\n\r\nAdd the following property in `application.properties`:\r\n\r\n    server.context-path=/demo\r\n\r\nNote: `/demo` is your context path URL.\r\n\r\n","title":"Add context path to Spring Boot application","body":"<p>In Spring Boot 1.5:</p>\n\n<p>Add the following property in <code>application.properties</code>:</p>\n\n<pre><code>server.context-path=/demo\n</code></pre>\n\n<p>Note: <code>/demo</code> is your context path URL.</p>\n"},{"tags":[],"owner":{"account_id":5619551,"reputation":653,"user_id":4449859,"display_name":"abdel"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1533221279,"creation_date":1533221279,"answer_id":51656488,"question_id":20405474,"body_markdown":"please note that the &quot;server.context-path&quot; or &quot;server.servlet.context-path&quot; [starting from springboot 2.0.x] properties will only work if you are deploying to an embedded container e.g., embedded tomcat. These properties will have no effect if you are deploying your application as a war to an external tomcat for example.\r\n\r\nsee this answer here: https://stackoverflow.com/a/43856300/4449859","title":"Add context path to Spring Boot application","body":"<p>please note that the \"server.context-path\" or \"server.servlet.context-path\" [starting from springboot 2.0.x] properties will only work if you are deploying to an embedded container e.g., embedded tomcat. These properties will have no effect if you are deploying your application as a war to an external tomcat for example.</p>\n\n<p>see this answer here: <a href=\"https://stackoverflow.com/a/43856300/4449859\">https://stackoverflow.com/a/43856300/4449859</a></p>\n"},{"tags":[],"owner":{"account_id":16029896,"reputation":160,"user_id":11569124,"display_name":"Ghulam Murtaza"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1563898760,"creation_date":1563896832,"answer_id":57167886,"question_id":20405474,"body_markdown":"You can do it by adding the port and contextpath easily to add the configuration in [src\\main\\resources] .properties file and also .yml file \r\n\r\napplication.porperties file configuration\r\n\r\n    server.port = 8084\r\n    server.contextPath = /context-path\r\n\r\napplication.yml file configuration\r\n\r\n    server:\r\n    port: 8084\r\n    contextPath: /context-path\r\n\r\nWe can also change it programmatically in spring boot.\r\n\r\n    @Component\r\n    public class ServerPortCustomizer implements     WebServerFactoryCustomizer&lt;EmbeddedServletContainerCustomizer &gt; {\r\n  \r\n    @Override\r\n    public void customize(EmbeddedServletContainerCustomizer factory) {\r\n        factory.setContextPath(&quot;/context-path&quot;);\r\n\t\tfactory.setPort(8084);\r\n    }\r\n}\r\n\r\nWe can also add an other way\r\n\r\n    @SpringBootApplication\r\n    public class MyApplication {\r\n    public static void main(String[] args) {SpringApplication application =     new pringApplication(MyApplication.class);\r\n\t\tMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n\t\tmap.put(&quot;server.servlet.context-path&quot;, &quot;/context-path&quot;);\r\n\t\tmap.put(&quot;server.port&quot;, &quot;808&quot;);\r\n\t\tapplication.setDefaultProperties(map);\r\n\t\tapplication.run(args);\r\n        }       \r\n    }\r\n\r\nusing java command spring boot 1.X\r\n    \r\n    java -jar my-app.jar --server.contextPath=/spring-boot-app     --server.port=8585 \r\nusing java command spring boot 2.X\r\n\r\n    java -jar my-app.jar --server.servlet.context-path=/spring-boot-app --server.port=8585 \r\n\r\n","title":"Add context path to Spring Boot application","body":"<p>You can do it by adding the port and contextpath easily to add the configuration in [src\\main\\resources] .properties file and also .yml file </p>\n\n<p>application.porperties file configuration</p>\n\n<pre><code>server.port = 8084\nserver.contextPath = /context-path\n</code></pre>\n\n<p>application.yml file configuration</p>\n\n<pre><code>server:\nport: 8084\ncontextPath: /context-path\n</code></pre>\n\n<p>We can also change it programmatically in spring boot.</p>\n\n<pre><code>@Component\npublic class ServerPortCustomizer implements     WebServerFactoryCustomizer&lt;EmbeddedServletContainerCustomizer &gt; {\n\n@Override\npublic void customize(EmbeddedServletContainerCustomizer factory) {\n    factory.setContextPath(\"/context-path\");\n    factory.setPort(8084);\n}\n</code></pre>\n\n<p>}</p>\n\n<p>We can also add an other way</p>\n\n<pre><code>@SpringBootApplication\npublic class MyApplication {\npublic static void main(String[] args) {SpringApplication application =     new pringApplication(MyApplication.class);\n    Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n    map.put(\"server.servlet.context-path\", \"/context-path\");\n    map.put(\"server.port\", \"808\");\n    application.setDefaultProperties(map);\n    application.run(args);\n    }       \n}\n</code></pre>\n\n<p>using java command spring boot 1.X</p>\n\n<pre><code>java -jar my-app.jar --server.contextPath=/spring-boot-app     --server.port=8585 \n</code></pre>\n\n<p>using java command spring boot 2.X</p>\n\n<pre><code>java -jar my-app.jar --server.servlet.context-path=/spring-boot-app --server.port=8585 \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2606443,"reputation":464,"user_id":2257531,"display_name":"Swapnil Gangrade"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1623857205,"creation_date":1573042734,"answer_id":58730014,"question_id":20405474,"body_markdown":"If you are using application.yml and spring version above 2.0 then configure in the below manner.\r\n\r\n    server:\r\n      port: 8081\r\n      servlet:\r\n         context-path: /demo-api\r\n\r\nNow all the API call will be like http://localhost:8081/demo-api/","title":"Add context path to Spring Boot application","body":"<p>If you are using application.yml and spring version above 2.0 then configure in the below manner.</p>\n<pre><code>server:\n  port: 8081\n  servlet:\n     context-path: /demo-api\n</code></pre>\n<p>Now all the API call will be like http://localhost:8081/demo-api/</p>\n"},{"tags":[],"owner":{"account_id":7843157,"reputation":79,"user_id":5928979,"display_name":"ramakotireddy nagireddy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1578058752,"creation_date":1578054676,"answer_id":59578693,"question_id":20405474,"body_markdown":"We can change context root path using a simple entry in the properties file.\r\n\r\n`application.properties`\r\n\r\n```\r\n### Spring boot 1.x #########\r\nserver.contextPath=/ClientApp\r\n \r\n### Spring boot 2.x #########\r\nserver.servlet.context-path=/ClientApp\r\n```","title":"Add context path to Spring Boot application","body":"<p>We can change context root path using a simple entry in the properties file.</p>\n\n<p><code>application.properties</code></p>\n\n<pre><code>### Spring boot 1.x #########\nserver.contextPath=/ClientApp\n\n### Spring boot 2.x #########\nserver.servlet.context-path=/ClientApp\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2816748,"reputation":13,"user_id":2421592,"display_name":"Pavan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1579748561,"creation_date":1579748561,"answer_id":59871043,"question_id":20405474,"body_markdown":"We can set it using `WebServerFactoryCustomizer`. This can be added directly in the spring boot main method class which starts up the Spring ApplicationContext.\r\n\r\n    @Bean\r\n    \tpublic WebServerFactoryCustomizer&lt;ConfigurableServletWebServerFactory&gt;\r\n    \t  webServerFactoryCustomizer() {\r\n    \t    return factory -&gt; factory.setContextPath(&quot;/demo&quot;);\r\n    }\r\n\r\n","title":"Add context path to Spring Boot application","body":"<p>We can set it using <code>WebServerFactoryCustomizer</code>. This can be added directly in the spring boot main method class which starts up the Spring ApplicationContext.</p>\n\n<pre><code>@Bean\n    public WebServerFactoryCustomizer&lt;ConfigurableServletWebServerFactory&gt;\n      webServerFactoryCustomizer() {\n        return factory -&gt; factory.setContextPath(\"/demo\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2393755,"reputation":61,"user_id":2093049,"display_name":"Marco"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585347271,"creation_date":1583874816,"answer_id":60626023,"question_id":20405474,"body_markdown":"If you use Spring Boot 2.x and want to pass the context path property in the command line, you should put double // like this:\r\n\r\n    --server.servlet.context-path=//your-path\r\n\r\nThat worked for me running in windows.","title":"Add context path to Spring Boot application","body":"<p>If you use Spring Boot 2.x and want to pass the context path property in the command line, you should put double // like this:</p>\n\n<pre><code>--server.servlet.context-path=//your-path\n</code></pre>\n\n<p>That worked for me running in windows.</p>\n"},{"tags":[],"owner":{"account_id":12126118,"reputation":29,"user_id":8854879,"display_name":"Bordoloi Parth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587085189,"creation_date":1586974302,"answer_id":61235682,"question_id":20405474,"body_markdown":"    &lt;!-- Server port--&gt;\r\n            \r\n    server.port=8080\r\n    \r\n    &lt;!--Context Path of the Application--&gt;\r\n    \r\n    server.servlet.context-path=/ems\r\n\r\n","title":"Add context path to Spring Boot application","body":"<pre><code>&lt;!-- Server port--&gt;\n\nserver.port=8080\n\n&lt;!--Context Path of the Application--&gt;\n\nserver.servlet.context-path=/ems\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18003470,"reputation":21,"user_id":13084861,"display_name":"osiris a. suarez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1587857847,"creation_date":1587857847,"answer_id":61434020,"question_id":20405474,"body_markdown":"It must be:\r\nserver.servlet.context-path = / demo\r\nnote that it does not have quotes only the value preceded by &#39;/&#39;\r\nthis value goes in your application.properties file","title":"Add context path to Spring Boot application","body":"<p>It must be:\nserver.servlet.context-path = / demo\nnote that it does not have quotes only the value preceded by '/'\nthis value goes in your application.properties file</p>\n"},{"tags":[],"owner":{"account_id":13045696,"reputation":717,"user_id":9427614,"display_name":"Shashank"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595778792,"creation_date":1595778792,"answer_id":63102419,"question_id":20405474,"body_markdown":"You can use in Spring Boot: 2.1.6 like below:\r\n\r\n    server.servlet.context-path=/api-path\r\n\r\n","title":"Add context path to Spring Boot application","body":"<p>You can use in Spring Boot: 2.1.6 like below:</p>\n<pre><code>server.servlet.context-path=/api-path\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19334518,"reputation":111,"user_id":14135348,"display_name":"Manju D"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1598012716,"creation_date":1598012716,"answer_id":63522898,"question_id":20405474,"body_markdown":"For below Spring boot 2 version you need to use below code\r\n\r\n    server:\r\n       context-path: abc\t\r\n\r\nAnd For Spring boot 2+ version use below code\r\n\r\n    server:\r\n      servlet:\r\n        context-path: abc","title":"Add context path to Spring Boot application","body":"<p>For below Spring boot 2 version you need to use below code</p>\n<pre><code>server:\n   context-path: abc    \n</code></pre>\n<p>And For Spring boot 2+ version use below code</p>\n<pre><code>server:\n  servlet:\n    context-path: abc\n</code></pre>\n"},{"tags":[],"owner":{"account_id":552361,"reputation":18316,"user_id":917467,"accept_rate":76,"display_name":"html_programmer"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1620895167,"creation_date":1620895167,"answer_id":67516315,"question_id":20405474,"body_markdown":"If you&#39;re using spring-boot-starter-webflux use:\r\n\r\n    spring:\r\n      webflux:\r\n        base-path: /api\r\n\r\nI swear to God... I forget this every single time. ","title":"Add context path to Spring Boot application","body":"<p>If you're using spring-boot-starter-webflux use:</p>\n<pre><code>spring:\n  webflux:\n    base-path: /api\n</code></pre>\n<p>I swear to God... I forget this every single time.</p>\n"},{"tags":[],"owner":{"account_id":20350834,"reputation":11,"user_id":14927560,"display_name":"Ilkin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647591670,"creation_date":1647591670,"answer_id":71524151,"question_id":20405474,"body_markdown":"**You can add this property to spring property file** \r\n\r\n    spring.data.rest.basePath=/your_path","title":"Add context path to Spring Boot application","body":"<p><strong>You can add this property to spring property file</strong></p>\n<pre><code>spring.data.rest.basePath=/your_path\n</code></pre>\n"},{"tags":[],"owner":{"account_id":281666,"reputation":3093,"user_id":578098,"accept_rate":25,"display_name":"Khushboo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677781065,"creation_date":1677781065,"answer_id":75619403,"question_id":20405474,"body_markdown":"The accepted answer works. With SpringBoot 3.0, this works:\r\n\r\n    server.servlet.context-path=/users","title":"Add context path to Spring Boot application","body":"<p>The accepted answer works. With SpringBoot 3.0, this works:</p>\n<pre><code>server.servlet.context-path=/users\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13343717,"reputation":995,"user_id":9631158,"display_name":"sujithramanathan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680899953,"creation_date":1680899953,"answer_id":75961782,"question_id":20405474,"body_markdown":"I can see many outdated answers / context-path formats.\r\nPlease use latest ones.\r\n\r\napplication.yml\r\n```\r\nserver:\r\n  servlet:\r\n    context-path: /hello-context-path\r\n```\r\n\r\napplication.properties\r\n```\r\nserver.servlet.context-path=/hello-context-path\r\n```","title":"Add context path to Spring Boot application","body":"<p>I can see many outdated answers / context-path formats.\nPlease use latest ones.</p>\n<p>application.yml</p>\n<pre><code>server:\n  servlet:\n    context-path: /hello-context-path\n</code></pre>\n<p>application.properties</p>\n<pre><code>server.servlet.context-path=/hello-context-path\n</code></pre>\n"}],"owner":{"account_id":2373100,"reputation":2463,"user_id":2077246,"accept_rate":89,"display_name":"CorreyS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":495578,"favorite_count":0,"down_vote_count":1,"up_vote_count":231,"accepted_answer_id":20418450,"answer_count":22,"score":230,"last_activity_date":1680899953,"creation_date":1386261239,"question_id":20405474,"body_markdown":"I am trying to set a Spring Boot applications context root programmatically. The reason for the context root is we want the app to be accessed from `localhost:port/{app_name}` and have all the controller paths append to it. \r\n\r\nHere is the application configuration file for the web-app.\r\n\r\n    @Configuration\r\n    public class ApplicationConfiguration {\r\n\r\n      Logger logger = LoggerFactory.getLogger(ApplicationConfiguration.class);\r\n\r\n      @Value(&quot;${mainstay.web.port:12378}&quot;)\r\n      private String port;\r\n\r\n      @Value(&quot;${mainstay.web.context:/mainstay}&quot;)\r\n      private String context;\r\n\r\n      private Set&lt;ErrorPage&gt; pageHandlers;\r\n\r\n      @PostConstruct\r\n      private void init(){\r\n          pageHandlers = new HashSet&lt;ErrorPage&gt;();\r\n          pageHandlers.add(new ErrorPage(HttpStatus.NOT_FOUND,&quot;/notfound.html&quot;));\r\n          pageHandlers.add(new ErrorPage(HttpStatus.FORBIDDEN,&quot;/forbidden.html&quot;));\r\n      }\r\n\r\n      @Bean\r\n      public EmbeddedServletContainerFactory servletContainer(){\r\n          TomcatEmbeddedServletContainerFactory factory = new TomcatEmbeddedServletContainerFactory();\r\n          logger.info(&quot;Setting custom configuration for Mainstay:&quot;);\r\n          logger.info(&quot;Setting port to {}&quot;,port);\r\n          logger.info(&quot;Setting context to {}&quot;,context);\r\n          factory.setPort(Integer.valueOf(port));\r\n          factory.setContextPath(context);\r\n          factory.setErrorPages(pageHandlers);\r\n          return factory;\r\n      }\r\n\r\n      public String getPort() {\r\n          return port;\r\n      }\r\n\r\n      public void setPort(String port) {\r\n          this.port = port;\r\n      }\r\n    }\r\n\r\nHere is the index controller for the main page. \r\n\r\n    @Controller\r\n    public class IndexController {\r\n\r\n      Logger logger = LoggerFactory.getLogger(IndexController.class);\r\n      \r\n      @RequestMapping(&quot;/&quot;)\r\n      public String index(Model model){\r\n          logger.info(&quot;Setting index page title to Mainstay - Web&quot;);\r\n          model.addAttribute(&quot;title&quot;,&quot;Mainstay - Web&quot;);\r\n          return &quot;index&quot;;\r\n      }\r\n\r\n    }\r\n\r\n\r\nThe new root of the application should be at `localhost:12378/mainstay`, but it is still located at `localhost:12378`. \r\n\r\nWhat am I missing that is causing Spring Boot to not append the context root before the request mapping?\r\n","title":"Add context path to Spring Boot application","body":"<p>I am trying to set a Spring Boot applications context root programmatically. The reason for the context root is we want the app to be accessed from <code>localhost:port/{app_name}</code> and have all the controller paths append to it. </p>\n\n<p>Here is the application configuration file for the web-app.</p>\n\n<pre><code>@Configuration\npublic class ApplicationConfiguration {\n\n  Logger logger = LoggerFactory.getLogger(ApplicationConfiguration.class);\n\n  @Value(\"${mainstay.web.port:12378}\")\n  private String port;\n\n  @Value(\"${mainstay.web.context:/mainstay}\")\n  private String context;\n\n  private Set&lt;ErrorPage&gt; pageHandlers;\n\n  @PostConstruct\n  private void init(){\n      pageHandlers = new HashSet&lt;ErrorPage&gt;();\n      pageHandlers.add(new ErrorPage(HttpStatus.NOT_FOUND,\"/notfound.html\"));\n      pageHandlers.add(new ErrorPage(HttpStatus.FORBIDDEN,\"/forbidden.html\"));\n  }\n\n  @Bean\n  public EmbeddedServletContainerFactory servletContainer(){\n      TomcatEmbeddedServletContainerFactory factory = new TomcatEmbeddedServletContainerFactory();\n      logger.info(\"Setting custom configuration for Mainstay:\");\n      logger.info(\"Setting port to {}\",port);\n      logger.info(\"Setting context to {}\",context);\n      factory.setPort(Integer.valueOf(port));\n      factory.setContextPath(context);\n      factory.setErrorPages(pageHandlers);\n      return factory;\n  }\n\n  public String getPort() {\n      return port;\n  }\n\n  public void setPort(String port) {\n      this.port = port;\n  }\n}\n</code></pre>\n\n<p>Here is the index controller for the main page. </p>\n\n<pre><code>@Controller\npublic class IndexController {\n\n  Logger logger = LoggerFactory.getLogger(IndexController.class);\n\n  @RequestMapping(\"/\")\n  public String index(Model model){\n      logger.info(\"Setting index page title to Mainstay - Web\");\n      model.addAttribute(\"title\",\"Mainstay - Web\");\n      return \"index\";\n  }\n\n}\n</code></pre>\n\n<p>The new root of the application should be at <code>localhost:12378/mainstay</code>, but it is still located at <code>localhost:12378</code>. </p>\n\n<p>What am I missing that is causing Spring Boot to not append the context root before the request mapping?</p>\n"},{"tags":["java","windows","winapi","cmd"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1527141895,"post_id":50502023,"comment_id":88016409,"body_markdown":"you can call a non-java application from your java code, that &#39;ll still run after the jvm is terminated","body":"you can call a non-java application from your java code, that &#39;ll still run after the jvm is terminated"},{"owner":{"account_id":3172606,"reputation":164,"user_id":3926412,"accept_rate":80,"display_name":"Kolt Penny"},"score":0,"creation_date":1527143167,"post_id":50502023,"comment_id":88017006,"body_markdown":"There&#39;s no escape from the JVM. Once you run Java code, all of it is managed by the JVM.","body":"There&#39;s no escape from the JVM. Once you run Java code, all of it is managed by the JVM."},{"owner":{"account_id":237126,"reputation":604212,"user_id":505088,"accept_rate":91,"display_name":"David Heffernan"},"score":2,"creation_date":1527143257,"post_id":50502023,"comment_id":88017050,"body_markdown":"I don&#39;t understand why you are using cmd at all. This is common to see here. You use cmd when working interactively. But from a program you use the programmatic interface. CreateProcess.","body":"I don&#39;t understand why you are using cmd at all. This is common to see here. You use cmd when working interactively. But from a program you use the programmatic interface. CreateProcess."},{"owner":{"account_id":71068,"reputation":33480,"user_id":205580,"display_name":"Eryk Sun"},"score":0,"creation_date":1527171035,"post_id":50502023,"comment_id":88035272,"body_markdown":"With `cmd /c`, the shell waits for the command to exit. Java has a handle for the cmd.exe process and can in turn wait on it. With `cmd /c start /b`, the shell does not wait for the command to exit, so waiting on the handle for cmd.exe in Java returns immediately. The `/b` option of CMD&#39;s internal `start` command (there is no start.exe) prevents `start` from using the `CREATE_NEW_CONSOLE` flag when it calls `CreateProcess`, or causes it to use `SEE_MASK_NO_CONSOLE` if it calls `ShellExecuteEx` (the fall-back if `CreateProcess` fails).","body":"With <code>cmd &#47;c</code>, the shell waits for the command to exit. Java has a handle for the cmd.exe process and can in turn wait on it. With <code>cmd &#47;c start &#47;b</code>, the shell does not wait for the command to exit, so waiting on the handle for cmd.exe in Java returns immediately. The <code>&#47;b</code> option of CMD&#39;s internal <code>start</code> command (there is no start.exe) prevents <code>start</code> from using the <code>CREATE_NEW_CONSOLE</code> flag when it calls <code>CreateProcess</code>, or causes it to use <code>SEE_MASK_NO_CONSOLE</code> if it calls <code>ShellExecuteEx</code> (the fall-back if <code>CreateProcess</code> fails)."},{"owner":{"account_id":71068,"reputation":33480,"user_id":205580,"display_name":"Eryk Sun"},"score":0,"creation_date":1527172441,"post_id":50502023,"comment_id":88036354,"body_markdown":"Regarding your question about escaping in CMD, `^^` becomes a single `^`. So the first CMD instance parses `^^^^` as `^^`. Then `start` executes the internal `echo` command (there is no echo.exe by default in Windows) via `cmd /k echo ^^\\foo`. This becomes `^\\foo` in the log. This last instance of CMD is left running (because of the implicit `/k` option) and attached to stdin, which will be a confusing mess if stdin is the interactive console input. Regarding double quotes, &quot;^&quot; is a literal character when quoted.","body":"Regarding your question about escaping in CMD, <code>^^</code> becomes a single <code>^</code>. So the first CMD instance parses <code>^^^^</code> as <code>^^</code>. Then <code>start</code> executes the internal <code>echo</code> command (there is no echo.exe by default in Windows) via <code>cmd &#47;k echo ^^\\foo</code>. This becomes <code>^\\foo</code> in the log. This last instance of CMD is left running (because of the implicit <code>&#47;k</code> option) and attached to stdin, which will be a confusing mess if stdin is the interactive console input. Regarding double quotes, &quot;^&quot; is a literal character when quoted."},{"owner":{"account_id":71068,"reputation":33480,"user_id":205580,"display_name":"Eryk Sun"},"score":0,"creation_date":1527172826,"post_id":50502023,"comment_id":88036610,"body_markdown":"Regarding the overall command line, Windows processes *do not* get an &quot;array of arguments&quot;. They&#39;re passed the command line string verbatim, and it&#39;s up to each process how it should parse its command line. If it&#39;s using `argv` from Microsoft&#39;s C/C++ `[w]main` entry point, or `CommandLineToArgvW`, then it follows [these rules](https://learn.microsoft.com/en-us/cpp/cpp/parsing-cpp-command-line-arguments).","body":"Regarding the overall command line, Windows processes <i>do not</i> get an &quot;array of arguments&quot;. They&#39;re passed the command line string verbatim, and it&#39;s up to each process how it should parse its command line. If it&#39;s using <code>argv</code> from Microsoft&#39;s C/C++ <code>[w]main</code> entry point, or <code>CommandLineToArgvW</code>, then it follows <a href=\"https://learn.microsoft.com/en-us/cpp/cpp/parsing-cpp-command-line-arguments\" rel=\"nofollow noreferrer\">these rules</a>."},{"owner":{"account_id":1534150,"reputation":934,"user_id":1430630,"display_name":"Luke"},"score":0,"creation_date":1527217854,"post_id":50502023,"comment_id":88054121,"body_markdown":"I am going down the `CreateProcess` path although I am stuck on passing an environment see https://stackoverflow.com/questions/50520947/how-to-pass-a-environment-pointer-to-windows-createprocess-in-java-using-jna @DavidHeffernan","body":"I am going down the <code>CreateProcess</code> path although I am stuck on passing an environment see <a href=\"https://stackoverflow.com/questions/50520947/how-to-pass-a-environment-pointer-to-windows-createprocess-in-java-using-jna\" title=\"how to pass a environment pointer to windows createprocess in java using jna\">stackoverflow.com/questions/50520947/&hellip;</a> @DavidHeffernan"},{"owner":{"account_id":71068,"reputation":33480,"user_id":205580,"display_name":"Eryk Sun"},"score":0,"creation_date":1527227229,"post_id":50502023,"comment_id":88056570,"body_markdown":"@Luke, why would you call `CreateProcess` directly in Java? That&#39;s an extreme step if you&#39;re simply looking to avoid the CMD shell. Surely `ProcessBuilder` ultimately calls `CreateProcess`, but wrapped behind a cross-platform interface. You haven&#39;t clearly defined what you want from a &#39;detached&#39; process. Anything that has a handle to the process (e.g. from `OpenProcess`) can wait for it to exit. That isn&#39;t &#39;attached&#39;. The concept of a &quot;detached process&quot; in Windows generally refers to running a console application without attaching to a console, via the `DETACHED_PROCESS` creation flag.","body":"@Luke, why would you call <code>CreateProcess</code> directly in Java? That&#39;s an extreme step if you&#39;re simply looking to avoid the CMD shell. Surely <code>ProcessBuilder</code> ultimately calls <code>CreateProcess</code>, but wrapped behind a cross-platform interface. You haven&#39;t clearly defined what you want from a &#39;detached&#39; process. Anything that has a handle to the process (e.g. from <code>OpenProcess</code>) can wait for it to exit. That isn&#39;t &#39;attached&#39;. The concept of a &quot;detached process&quot; in Windows generally refers to running a console application without attaching to a console, via the <code>DETACHED_PROCESS</code> creation flag."},{"owner":{"account_id":1534150,"reputation":934,"user_id":1430630,"display_name":"Luke"},"score":0,"creation_date":1527229759,"post_id":50502023,"comment_id":88057577,"body_markdown":"No I generally wouldn&#39;t, however it seems the JVM has some flaws with how its processes are created it is not easy to tell the JVM to just let the process run in the background and not hold onto resources related to the processes. Also it seems that the escaping doesn&#39;t really work, as soon as a `&quot;` appears things get messy e.g. redirects `&gt;log.txt` suddenly became arguments to the command","body":"No I generally wouldn&#39;t, however it seems the JVM has some flaws with how its processes are created it is not easy to tell the JVM to just let the process run in the background and not hold onto resources related to the processes. Also it seems that the escaping doesn&#39;t really work, as soon as a <code>&quot;</code> appears things get messy e.g. redirects <code>&gt;log.txt</code> suddenly became arguments to the command"}],"answers":[{"tags":[],"owner":{"account_id":1534150,"reputation":934,"user_id":1430630,"display_name":"Luke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527230600,"creation_date":1527229497,"answer_id":50522759,"question_id":50502023,"body_markdown":"I think the solution to create a detached in background process which the JVM holds no references to which also supports the possibility to pass any arguments in a sane way is it to use the `CreateProcess` API. For this I used:\r\n\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;\r\n        &lt;artifactId&gt;platform&lt;/artifactId&gt;\r\n        &lt;version&gt;3.5.0&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\n(It is an older version but it happened to be already in use).\r\n\r\nThe Jave code to get it working is:\r\n\r\n    /**\r\n\t * \r\n\t * @param command a pre escaped command line e.g. c:\\perl.exe c:\\my.pl arg\r\n\t * @param env A non null environment.\r\n\t * @param stdoutFile\r\n\t * @param stderrFile\r\n\t * @param workingDir\r\n\t */\r\n\tpublic void execute(String command, Map&lt;String, String&gt; env,\r\n\t\t\tFile stdoutFile, File stderrFile, String workingDir) {\r\n\t\tWinBase.SECURITY_ATTRIBUTES sa = new WinBase.SECURITY_ATTRIBUTES();\r\n\t\tsa.bInheritHandle = true; // I think the child processes gets handles I make with\r\n\t\t\t\t\t\t\t\t  // with this sa.\r\n\t\tsa.lpSecurityDescriptor = null; // Use default access token from current proc.\r\n\t\t\r\n\t\tHANDLE stdout = makeFileHandle(sa, stdoutFile);\r\n\t\tHANDLE stderr = null;\r\n\t\tif(stderrFile != null &amp;&amp;\r\n\t\t\t\t!stderrFile.getAbsolutePath().equals(stdoutFile.getAbsolutePath())) {\r\n\t\t\tstderr = makeFileHandle(sa, stderrFile);\r\n\t\t}\r\n\t\t\r\n\t\ttry {\r\n\t\t\tWinBase.STARTUPINFO si = new WinBase.STARTUPINFO();\r\n\t\t\t// Assume si.cb is set by the JVM.\r\n\t\t\tsi.dwFlags |= WinBase.STARTF_USESTDHANDLES;\r\n\t\t\tsi.hStdInput = null; // No stdin for the child.\r\n\t\t\tsi.hStdOutput = stdout;\r\n\t\t\tsi.hStdError = Optional.ofNullable(stderr).orElse(stdout);\r\n\t\t\t\r\n\t\t\tDWORD dword = new DWORD();\r\n\t\t\tdword.setValue(WinBase.CREATE_UNICODE_ENVIRONMENT |  // Probably makes sense. \r\n\t\t\t\t\t\t\tWinBase.CREATE_NO_WINDOW |    // Well we don&#39;t want a window so this makes sense.\r\n\t\t\t\t\t\t\tWinBase.DETACHED_PROCESS);    // I think this would let the JVM die without stopping the child\r\n\t\t\t\r\n\t\t\t// Newer versions of platform don&#39;t use a reference.\r\n\t\t\tWinBase.PROCESS_INFORMATION.ByReference processInfoByRef = new WinBase.PROCESS_INFORMATION.ByReference();\r\n\t\t\t\r\n\t\t\tboolean result = Kernel32.INSTANCE\r\n\t\t\t\t.CreateProcess(null, // use next argument to get the task to run \r\n\t\t\t\t\t\tcommand,\r\n\t\t\t\t\t\tnull, // Don&#39;t let the child inherit a handle to itself, because I saw someone else do it.\r\n\t\t\t\t\t\tnull, // Don&#39;t let the child inherit a handle to its own main thread, because I saw someone else do it. \r\n\t\t\t\t\t\ttrue, // Must be true to pass any handle to the spawned thread including STDOUT and STDERR\r\n\t\t\t\t\t\tdword, \r\n\t\t\t\t\t\tasPointer(createEnvironmentBlock(env)), // I hope that the new processes copies this memory  \r\n\t\t\t\t\t\tworkingDir, \r\n\t\t\t\t\t\tsi, \r\n\t\t\t\t\t\tprocessInfoByRef);\r\n\t\t\t// Put code in try block.\r\n\t\t\ttry {\r\n\t\t\t\t// Did it start?\r\n\t\t\t\tif(!result) {\r\n\t\t\t\t\tthrow new RuntimeException(&quot;Could not start command: &quot; + command);\r\n\t\t\t\t}\r\n\t\t\t} finally {\r\n\t\t\t\t// Apparently both parent and child need to close the handles.\r\n\t\t\t\tKernel32.INSTANCE.CloseHandle(processInfoByRef.hProcess);\r\n\t\t\t\tKernel32.INSTANCE.CloseHandle(processInfoByRef.hThread);\r\n\t\t\t}\r\n\t\t} finally {\r\n\t\t\t// We need to close this\r\n\t\t\t// https://stackoverflow.com/questions/6581103/do-i-have-to-close-inherited-handle-later-owned-by-child-process\r\n\t\t\tKernel32.INSTANCE.CloseHandle(stdout);\r\n\t\t\tif(stderr != null) {\r\n\t\t\t\tKernel32.INSTANCE.CloseHandle(stderr);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate HANDLE makeFileHandle(WinBase.SECURITY_ATTRIBUTES sa, File file) {\r\n\t\treturn Kernel32.INSTANCE\r\n\t\t\t\t.CreateFile(file.getAbsolutePath(), \r\n\t\t\t\t\t\tKernel32.FILE_APPEND_DATA, // IDK I saw this in an example. \r\n\t\t\t\t\t\tKernel32.FILE_SHARE_WRITE | Kernel32.FILE_SHARE_READ, \r\n\t\t\t\t\t\tsa, \r\n\t\t\t\t\t\tKernel32.OPEN_ALWAYS, \r\n\t\t\t\t\t\tKernel32.FILE_ATTRIBUTE_NORMAL, \r\n\t\t\t\t\t\tnull);\r\n\t}\r\n\t\r\n\tpublic static byte[] createEnvironmentBlock(Map&lt;String, String&gt; env) {\r\n\t\tByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n\t\t// This charset seems to work.\r\n\t\tCharset charset = StandardCharsets.UTF_16LE;\r\n\t\ttry {\r\n\t\t\tfor(Entry&lt;String, String&gt; entry : env.entrySet()) {\r\n\t\t\t\tbos.write(entry.getKey().getBytes(charset));\r\n\t\t\t\tbos.write(&quot;=&quot;.getBytes(charset));\r\n\t\t\t\tbos.write(entry.getValue().getBytes(charset));\r\n\t\t\t\tbos.write(0);\r\n\t\t\t\tbos.write(0);\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\t\tbos.write(0);\r\n\t\tbos.write(0);\r\n\t\treturn bos.toByteArray();\r\n\t}\r\n\t\r\n\tpublic static Pointer asPointer(byte[] data) {\r\n\t\tPointer pointer = new Memory(data.length);\r\n\t\tpointer.write(0, data, 0, data.length);\r\n\t\treturn pointer;\r\n\t}\r\n\r\n - ✓ The process started seems to keep running even if the JVM is stopped.\r\n - ✓ I didn&#39;t need to have to deal with STDOUT/STDERR from `ProcessBuilder` and later another one from needing to redirect the command actually run.\r\n - ✓ If you can correctly escape your command (code to do that is not in the answer as it is not mine to share) you can pass things like `&quot;` which I could not work out how to do when using `ProcessBuilder` with `cmd /c start /b command`. It seemed the JVM was doing some escaping making it perhaps impossible to construct the needed string to get the correct command.\r\n - ✓ I could see the file handles held by the JVM to stdout/stderr are released before the process finishes.\r\n - ✓ I could create 13k tasks without the JVM throwing an OOM with 62MB of memory given to the JVM (looks like the JVM is not holding resources like some people will end up with just doing `ProcessBuilder` and `cmd /c`.\r\n - ✓ an intermediate `cmd.exe` is not created\r\n\r\n","title":"How to start a command in windows under java that is completely detached","body":"<p>I think the solution to create a detached in background process which the JVM holds no references to which also supports the possibility to pass any arguments in a sane way is it to use the <code>CreateProcess</code> API. For this I used:</p>\n\n<pre><code>  &lt;dependency&gt;\n    &lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;\n    &lt;artifactId&gt;platform&lt;/artifactId&gt;\n    &lt;version&gt;3.5.0&lt;/version&gt;\n  &lt;/dependency&gt;\n</code></pre>\n\n<p>(It is an older version but it happened to be already in use).</p>\n\n<p>The Jave code to get it working is:</p>\n\n<pre><code>/**\n * \n * @param command a pre escaped command line e.g. c:\\perl.exe c:\\my.pl arg\n * @param env A non null environment.\n * @param stdoutFile\n * @param stderrFile\n * @param workingDir\n */\npublic void execute(String command, Map&lt;String, String&gt; env,\n        File stdoutFile, File stderrFile, String workingDir) {\n    WinBase.SECURITY_ATTRIBUTES sa = new WinBase.SECURITY_ATTRIBUTES();\n    sa.bInheritHandle = true; // I think the child processes gets handles I make with\n                              // with this sa.\n    sa.lpSecurityDescriptor = null; // Use default access token from current proc.\n\n    HANDLE stdout = makeFileHandle(sa, stdoutFile);\n    HANDLE stderr = null;\n    if(stderrFile != null &amp;&amp;\n            !stderrFile.getAbsolutePath().equals(stdoutFile.getAbsolutePath())) {\n        stderr = makeFileHandle(sa, stderrFile);\n    }\n\n    try {\n        WinBase.STARTUPINFO si = new WinBase.STARTUPINFO();\n        // Assume si.cb is set by the JVM.\n        si.dwFlags |= WinBase.STARTF_USESTDHANDLES;\n        si.hStdInput = null; // No stdin for the child.\n        si.hStdOutput = stdout;\n        si.hStdError = Optional.ofNullable(stderr).orElse(stdout);\n\n        DWORD dword = new DWORD();\n        dword.setValue(WinBase.CREATE_UNICODE_ENVIRONMENT |  // Probably makes sense. \n                        WinBase.CREATE_NO_WINDOW |    // Well we don't want a window so this makes sense.\n                        WinBase.DETACHED_PROCESS);    // I think this would let the JVM die without stopping the child\n\n        // Newer versions of platform don't use a reference.\n        WinBase.PROCESS_INFORMATION.ByReference processInfoByRef = new WinBase.PROCESS_INFORMATION.ByReference();\n\n        boolean result = Kernel32.INSTANCE\n            .CreateProcess(null, // use next argument to get the task to run \n                    command,\n                    null, // Don't let the child inherit a handle to itself, because I saw someone else do it.\n                    null, // Don't let the child inherit a handle to its own main thread, because I saw someone else do it. \n                    true, // Must be true to pass any handle to the spawned thread including STDOUT and STDERR\n                    dword, \n                    asPointer(createEnvironmentBlock(env)), // I hope that the new processes copies this memory  \n                    workingDir, \n                    si, \n                    processInfoByRef);\n        // Put code in try block.\n        try {\n            // Did it start?\n            if(!result) {\n                throw new RuntimeException(\"Could not start command: \" + command);\n            }\n        } finally {\n            // Apparently both parent and child need to close the handles.\n            Kernel32.INSTANCE.CloseHandle(processInfoByRef.hProcess);\n            Kernel32.INSTANCE.CloseHandle(processInfoByRef.hThread);\n        }\n    } finally {\n        // We need to close this\n        // https://stackoverflow.com/questions/6581103/do-i-have-to-close-inherited-handle-later-owned-by-child-process\n        Kernel32.INSTANCE.CloseHandle(stdout);\n        if(stderr != null) {\n            Kernel32.INSTANCE.CloseHandle(stderr);\n        }\n    }\n}\n\nprivate HANDLE makeFileHandle(WinBase.SECURITY_ATTRIBUTES sa, File file) {\n    return Kernel32.INSTANCE\n            .CreateFile(file.getAbsolutePath(), \n                    Kernel32.FILE_APPEND_DATA, // IDK I saw this in an example. \n                    Kernel32.FILE_SHARE_WRITE | Kernel32.FILE_SHARE_READ, \n                    sa, \n                    Kernel32.OPEN_ALWAYS, \n                    Kernel32.FILE_ATTRIBUTE_NORMAL, \n                    null);\n}\n\npublic static byte[] createEnvironmentBlock(Map&lt;String, String&gt; env) {\n    ByteArrayOutputStream bos = new ByteArrayOutputStream();\n    // This charset seems to work.\n    Charset charset = StandardCharsets.UTF_16LE;\n    try {\n        for(Entry&lt;String, String&gt; entry : env.entrySet()) {\n            bos.write(entry.getKey().getBytes(charset));\n            bos.write(\"=\".getBytes(charset));\n            bos.write(entry.getValue().getBytes(charset));\n            bos.write(0);\n            bos.write(0);\n        }\n    } catch (Exception e) {\n        throw new RuntimeException(e);\n    }\n    bos.write(0);\n    bos.write(0);\n    return bos.toByteArray();\n}\n\npublic static Pointer asPointer(byte[] data) {\n    Pointer pointer = new Memory(data.length);\n    pointer.write(0, data, 0, data.length);\n    return pointer;\n}\n</code></pre>\n\n<ul>\n<li>✓ The process started seems to keep running even if the JVM is stopped.</li>\n<li>✓ I didn't need to have to deal with STDOUT/STDERR from <code>ProcessBuilder</code> and later another one from needing to redirect the command actually run.</li>\n<li>✓ If you can correctly escape your command (code to do that is not in the answer as it is not mine to share) you can pass things like <code>\"</code> which I could not work out how to do when using <code>ProcessBuilder</code> with <code>cmd /c start /b command</code>. It seemed the JVM was doing some escaping making it perhaps impossible to construct the needed string to get the correct command.</li>\n<li>✓ I could see the file handles held by the JVM to stdout/stderr are released before the process finishes.</li>\n<li>✓ I could create 13k tasks without the JVM throwing an OOM with 62MB of memory given to the JVM (looks like the JVM is not holding resources like some people will end up with just doing <code>ProcessBuilder</code> and <code>cmd /c</code>.</li>\n<li>✓ an intermediate <code>cmd.exe</code> is not created</li>\n</ul>\n"}],"owner":{"account_id":1534150,"reputation":934,"user_id":1430630,"display_name":"Luke"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1653,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680899608,"creation_date":1527141775,"question_id":50502023,"body_markdown":"I want to start a processes such that the JVM can die but the spawned processes continues to run even if it is writing to STDOUT.\r\n\r\nI first tried using a `ProcessBuilder` with the output set to Files and passing in:\r\n\r\n    cmd /c myCmd.exe arg0 arg1\r\n\r\nHowever even after closing all Input/Output streams, if I call `Process#.waitFor`, it does not return until `myCmd.exe` has finished. It seems it is still attached to the JVM in some way (even though the JVM can probably die at this point and not affect the child proc).\r\n\r\nI then tried the `start` command, it seems that is not on the path (I couldn&#39;t find the bin in `c:\\windows`) so I ran it under `cmd` the arguments (separated by space) passed to `ProcessBuilder` became:\r\n\r\n    cmd /c start /b myCmd.exe arg0 arg2 &gt;log 2&gt;&amp;1\r\nThat results in:\r\n\r\n - ✓ `Process#.waitFor` returning before `myCmd.exe` finished.\r\n - ⚠ It seemed that I needed to use a different log file from the one passed to the `ProcessBuilder`\r\n - ✘ I then found the escaping become weird if the command run was `echo` and the argument was `^^^^\\foo` it would write to the log file `^\\foo`, I also noticed if I gave it `&quot;^^^^\\foo&quot;` it would return the same thing ie `&quot;^^^^\\foo&quot;`.\r\n\r\nSo:\r\n\r\n 1. Is calling `cmd.exe /c start /b` the correct thing to do?\r\n 2. Am I doing something wrong with the escaping (which is really what I give to process builder), should I perhaps be doing something different because of `cmd.exe` calling `start`, perhaps I need to actually escape in some way? Perhaps I don&#39;t understand windows processes do they even have proper support for taking an array of arguments?\r\n 3. Am I going about this the wrong way should I be trying to call a native library from `C`? If so what would it be I don&#39;t mind if I have to call a `C` program to get my process running in the background.","title":"How to start a command in windows under java that is completely detached","body":"<p>I want to start a processes such that the JVM can die but the spawned processes continues to run even if it is writing to STDOUT.</p>\n\n<p>I first tried using a <code>ProcessBuilder</code> with the output set to Files and passing in:</p>\n\n<pre><code>cmd /c myCmd.exe arg0 arg1\n</code></pre>\n\n<p>However even after closing all Input/Output streams, if I call <code>Process#.waitFor</code>, it does not return until <code>myCmd.exe</code> has finished. It seems it is still attached to the JVM in some way (even though the JVM can probably die at this point and not affect the child proc).</p>\n\n<p>I then tried the <code>start</code> command, it seems that is not on the path (I couldn't find the bin in <code>c:\\windows</code>) so I ran it under <code>cmd</code> the arguments (separated by space) passed to <code>ProcessBuilder</code> became:</p>\n\n<pre><code>cmd /c start /b myCmd.exe arg0 arg2 &gt;log 2&gt;&amp;1\n</code></pre>\n\n<p>That results in:</p>\n\n<ul>\n<li>✓ <code>Process#.waitFor</code> returning before <code>myCmd.exe</code> finished.</li>\n<li>⚠ It seemed that I needed to use a different log file from the one passed to the <code>ProcessBuilder</code></li>\n<li>✘ I then found the escaping become weird if the command run was <code>echo</code> and the argument was <code>^^^^\\foo</code> it would write to the log file <code>^\\foo</code>, I also noticed if I gave it <code>\"^^^^\\foo\"</code> it would return the same thing ie <code>\"^^^^\\foo\"</code>.</li>\n</ul>\n\n<p>So:</p>\n\n<ol>\n<li>Is calling <code>cmd.exe /c start /b</code> the correct thing to do?</li>\n<li>Am I doing something wrong with the escaping (which is really what I give to process builder), should I perhaps be doing something different because of <code>cmd.exe</code> calling <code>start</code>, perhaps I need to actually escape in some way? Perhaps I don't understand windows processes do they even have proper support for taking an array of arguments?</li>\n<li>Am I going about this the wrong way should I be trying to call a native library from <code>C</code>? If so what would it be I don't mind if I have to call a <code>C</code> program to get my process running in the background.</li>\n</ol>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1680898800,"post_id":75961650,"comment_id":133978419,"body_markdown":"This is a strange way to configure CSS.  You can associate CSS in SceneBuilder and it will save the CSS reference in the fxml file and automatically and load and apply the css when the file is loaded.  Alternately, when you create a scene, you can set the CSS on the scene then.","body":"This is a strange way to configure CSS.  You can associate CSS in SceneBuilder and it will save the CSS reference in the fxml file and automatically and load and apply the css when the file is loaded.  Alternately, when you create a scene, you can set the CSS on the scene then."},{"owner":{"account_id":23298211,"reputation":63,"user_id":17379306,"display_name":"ineedmoney"},"score":0,"creation_date":1680899490,"post_id":75961650,"comment_id":133978512,"body_markdown":"@jewelsea yes sir..... but the main problem is CSS file couldn&#39;t be found","body":"@jewelsea yes sir..... but the main problem is CSS file couldn&#39;t be found"},{"owner":{"account_id":23298211,"reputation":63,"user_id":17379306,"display_name":"ineedmoney"},"score":0,"creation_date":1680899932,"post_id":75961650,"comment_id":133978580,"body_markdown":"in scene builder, d.css can be found in stylesheets option, but errors still happen since d.css cant be found","body":"in scene builder, d.css can be found in stylesheets option, but errors still happen since d.css cant be found"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1680905799,"post_id":75961650,"comment_id":133979430,"body_markdown":"“the main problem is CSS file couldn&#39;t be found” -&gt; how do you know that when you “have no idea what my problem is”?","body":"“the main problem is CSS file couldn&#39;t be found” -&gt; how do you know that when you “have no idea what my problem is”?"}],"owner":{"account_id":23298211,"reputation":63,"user_id":17379306,"display_name":"ineedmoney"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680898339,"creation_date":1680898339,"question_id":75961650,"body_markdown":"I am trying to connect add stylesheet &#39;d.css&#39; to my scene in &#39;Home&#39; class, however, they cant be found. I have no idea what my problem is and below is my code and directory. I have made sure my ID is set correct\r\n[![enter image description here][1]][1]\r\n\r\nMy code: \r\n\r\n    &gt; package com.example.cw;\r\n    &gt; \r\n    &gt; import javafx.fxml.FXML; import javafx.fxml.Initializable; import\r\n    &gt; javafx.scene.layout.AnchorPane; import javafx.scene.shape.Circle;\r\n    &gt; import javafx.scene.text.Text;\r\n    &gt; \r\n    &gt; import java.net.URL; import java.util.ResourceBundle\r\n    \r\n    ;\r\n    \r\n    &gt; public class Home implements Initializable {\r\n    \r\n        @FXML\r\n        Text d;\r\n        @FXML\r\n        AnchorPane x;\r\n        \r\n        @Override\r\n        public void initialize(URL url, ResourceBundle resourceBundle) {\r\n    \r\n            x.sceneProperty().addListener((observable, oldScene, newScene) -&gt; {\r\n                if (newScene != null) {\r\n                    newScene.getStylesheets().add(Home.class.getResource(&quot;d.css&quot;).toExternalForm()); }\r\n            });\r\n    \r\n    \r\n        }}\r\n\r\n  [1]: https://i.stack.imgur.com/ptxTJ.png","title":"JavaFx failed to connect CSS file","body":"<p>I am trying to connect add stylesheet 'd.css' to my scene in 'Home' class, however, they cant be found. I have no idea what my problem is and below is my code and directory. I have made sure my ID is set correct\n<a href=\"https://i.stack.imgur.com/ptxTJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ptxTJ.png\" alt=\"enter image description here\" /></a></p>\n<p>My code:</p>\n<pre><code>&gt; package com.example.cw;\n&gt; \n&gt; import javafx.fxml.FXML; import javafx.fxml.Initializable; import\n&gt; javafx.scene.layout.AnchorPane; import javafx.scene.shape.Circle;\n&gt; import javafx.scene.text.Text;\n&gt; \n&gt; import java.net.URL; import java.util.ResourceBundle\n\n;\n\n&gt; public class Home implements Initializable {\n\n    @FXML\n    Text d;\n    @FXML\n    AnchorPane x;\n    \n    @Override\n    public void initialize(URL url, ResourceBundle resourceBundle) {\n\n        x.sceneProperty().addListener((observable, oldScene, newScene) -&gt; {\n            if (newScene != null) {\n                newScene.getStylesheets().add(Home.class.getResource(&quot;d.css&quot;).toExternalForm()); }\n        });\n\n\n    }}\n</code></pre>\n"},{"tags":["java","checker-framework"],"comments":[{"owner":{"account_id":27022227,"reputation":9,"user_id":20580038,"display_name":"Kalhara"},"score":0,"creation_date":1678931473,"post_id":75751366,"comment_id":133630406,"body_markdown":"@experimentunit1998X sorry my mistake. It was as you mentioned. Even if it is the case, it raise the issue.","body":"@experimentunit1998X sorry my mistake. It was as you mentioned. Even if it is the case, it raise the issue."},{"owner":{"account_id":27022227,"reputation":9,"user_id":20580038,"display_name":"Kalhara"},"score":0,"creation_date":1678931812,"post_id":75751366,"comment_id":133630458,"body_markdown":"I think it is raised here. delivery.getDeliveries(). the list is annotated with @Nullable but since I check whether the list is null or not with !CollectionUtils.isEmpty, I am confused why it is raised.","body":"I think it is raised here. delivery.getDeliveries(). the list is annotated with @Nullable but since I check whether the list is null or not with !CollectionUtils.isEmpty, I am confused why it is raised."},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1678932946,"post_id":75751366,"comment_id":133630579,"body_markdown":"Perhaps you could try suppressing the warning? https://checkerframework.org/manual/#suppressing-warnings-nullness or conditional nullness https://checkerframework.org/manual/#conditional-nullness","body":"Perhaps you could try suppressing the warning? <a href=\"https://checkerframework.org/manual/#suppressing-warnings-nullness\" rel=\"nofollow noreferrer\">checkerframework.org/manual/#suppressing-warnings-nullness</a> or conditional nullness <a href=\"https://checkerframework.org/manual/#conditional-nullness\" rel=\"nofollow noreferrer\">checkerframework.org/manual/#conditional-nullness</a>"},{"owner":{"account_id":27022227,"reputation":9,"user_id":20580038,"display_name":"Kalhara"},"score":0,"creation_date":1678933090,"post_id":75751366,"comment_id":133630593,"body_markdown":"Yes. Suppressing is the last option and thanks for the suggestion. Still curious though why this happens. Thanks again","body":"Yes. Suppressing is the last option and thanks for the suggestion. Still curious though why this happens. Thanks again"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1678933224,"post_id":75751366,"comment_id":133630607,"body_markdown":"Not sure, but I m thinking that even if you did do a null check with `.isEmpty()` the framework probably doesn&#39;t recognize that, so it still thinks you are iterating over a nullable list.","body":"Not sure, but I m thinking that even if you did do a null check with <code>.isEmpty()</code> the framework probably doesn&#39;t recognize that, so it still thinks you are iterating over a nullable list."},{"owner":{"account_id":27022227,"reputation":9,"user_id":20580038,"display_name":"Kalhara"},"score":0,"creation_date":1678933412,"post_id":75751366,"comment_id":133630622,"body_markdown":"Yes. I am guessing that too :)","body":"Yes. I am guessing that too :)"},{"owner":{"account_id":22506547,"reputation":965,"user_id":16702058,"display_name":"Hi computer"},"score":0,"creation_date":1678939331,"post_id":75751366,"comment_id":133631295,"body_markdown":"Can you share whole error stack trace?","body":"Can you share whole error stack trace?"},{"owner":{"account_id":22506547,"reputation":965,"user_id":16702058,"display_name":"Hi computer"},"score":0,"creation_date":1678939431,"post_id":75751366,"comment_id":133631303,"body_markdown":"Is there another thread consuming the same delivery object?","body":"Is there another thread consuming the same delivery object?"},{"owner":{"account_id":27022227,"reputation":9,"user_id":20580038,"display_name":"Kalhara"},"score":0,"creation_date":1678941484,"post_id":75751366,"comment_id":133631559,"body_markdown":"@Hicomputer No this happens at compile time. So cannot be a thread issue. Stacktrace is not available because of that.","body":"@Hicomputer No this happens at compile time. So cannot be a thread issue. Stacktrace is not available because of that."},{"owner":{"account_id":22506547,"reputation":965,"user_id":16702058,"display_name":"Hi computer"},"score":0,"creation_date":1678949320,"post_id":75751366,"comment_id":133632560,"body_markdown":"It is hard for me to help cus I can\\`t reproduce the issue","body":"It is hard for me to help cus I can`t reproduce the issue"}],"answers":[{"tags":[],"owner":{"account_id":10182846,"reputation":1,"user_id":7518962,"display_name":"dongjb"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1678932622,"creation_date":1678932622,"answer_id":75751601,"question_id":75751366,"body_markdown":"if ( delivery != null &amp;&amp; !CollectionUtils.isEmpty(delivery.getDeliveries())) {","title":"Iterating Over Nullable Error - Checker Framework","body":"<p>if ( delivery != null &amp;&amp; !CollectionUtils.isEmpty(delivery.getDeliveries())) {</p>\n"},{"tags":[],"owner":{"account_id":58050,"reputation":7570,"user_id":173852,"display_name":"mernst"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680897984,"creation_date":1680897984,"answer_id":75961622,"question_id":75751366,"body_markdown":"The Nullness Checker has identified a genuine problem, and the best solution is *not* to suppress the warning.  The problem might be in your code or in your annotations.\r\n\r\nProblems like this, and their solutions, are discussed in the Checker Framework manual, in section [Side effects, determinism, purity, and type refinement](https://checkerframework.org/manual/#type-refinement-purity).\r\n\r\nIn the `if` test, `delivery.getDeliveries()` evaluated to a non-null and non-empty value.  However, there is no guarantee that the second call in the `for` loop *also* evaluates to a non-null and non-empty value.\r\n\r\nTherefore, it is indeed possible that, in the `for` loop, `delivery.getDeliveries()` is null and a NullPointerException could occur at run time.\r\n\r\nOne approach is to extract the expression into a local variable:\r\n\r\n```java\r\nCollection&lt;MyCustomObject&gt; allDeliveries = delivery.getDeliveries();\r\nif (!CollectionUtils.isEmpty(allDeliveries)) {\r\n  for (MyCustomObject deliveries : allDeliveries) {\r\n    // Processing code\r\n  }\r\n```\r\n\r\nAnother approach is to declare the `getDeliveries()` method as [`@Deterministic`](https://checkerframework.org/api/org/checkerframework/dataflow/qual/Deterministic.html).\r\n","title":"Iterating Over Nullable Error - Checker Framework","body":"<p>The Nullness Checker has identified a genuine problem, and the best solution is <em>not</em> to suppress the warning.  The problem might be in your code or in your annotations.</p>\n<p>Problems like this, and their solutions, are discussed in the Checker Framework manual, in section <a href=\"https://checkerframework.org/manual/#type-refinement-purity\" rel=\"nofollow noreferrer\">Side effects, determinism, purity, and type refinement</a>.</p>\n<p>In the <code>if</code> test, <code>delivery.getDeliveries()</code> evaluated to a non-null and non-empty value.  However, there is no guarantee that the second call in the <code>for</code> loop <em>also</em> evaluates to a non-null and non-empty value.</p>\n<p>Therefore, it is indeed possible that, in the <code>for</code> loop, <code>delivery.getDeliveries()</code> is null and a NullPointerException could occur at run time.</p>\n<p>One approach is to extract the expression into a local variable:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Collection&lt;MyCustomObject&gt; allDeliveries = delivery.getDeliveries();\nif (!CollectionUtils.isEmpty(allDeliveries)) {\n  for (MyCustomObject deliveries : allDeliveries) {\n    // Processing code\n  }\n</code></pre>\n<p>Another approach is to declare the <code>getDeliveries()</code> method as <a href=\"https://checkerframework.org/api/org/checkerframework/dataflow/qual/Deterministic.html\" rel=\"nofollow noreferrer\"><code>@Deterministic</code></a>.</p>\n"}],"owner":{"account_id":27022227,"reputation":9,"user_id":20580038,"display_name":"Kalhara"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75961622,"answer_count":2,"score":0,"last_activity_date":1680897984,"creation_date":1678929187,"question_id":75751366,"body_markdown":"I am integrating checker framework to our project. One issue I get is the `iterating.over.nullable`. I am not sure why I get this error since I validate the list using `CollectionUtils.isEmpty()` before accessing the elements of the list. \r\n\r\nThe list item is `Nullable` but as I understand, since I do the check before accessing, it should not raise the error. Appreciate if someone could point out what I am doing wrong. Below is the code. I get the error `iterating.over.nullable` in line 4.\r\n\r\n    public List&lt;MyCustomObject&gt; map(Delivery delivery) {\r\n        List&lt;MyCustomObject&gt; delList = new ArrayList&lt;&gt;();\r\n        if (!CollectionUtils.isEmpty(delivery.getDeliveries())) {\r\n            for (MyCustomObject deliveries : delivery.getDeliveries()) {\r\n                //Processing code\r\n            }\r\n        }\r\n        return delList;\r\n    }\r\n\r\nThanks in advance.\r\n\r\n1. Tried with the CollectionUtils.isEmpty since it checks the list is null or empty","title":"Iterating Over Nullable Error - Checker Framework","body":"<p>I am integrating checker framework to our project. One issue I get is the <code>iterating.over.nullable</code>. I am not sure why I get this error since I validate the list using <code>CollectionUtils.isEmpty()</code> before accessing the elements of the list.</p>\n<p>The list item is <code>Nullable</code> but as I understand, since I do the check before accessing, it should not raise the error. Appreciate if someone could point out what I am doing wrong. Below is the code. I get the error <code>iterating.over.nullable</code> in line 4.</p>\n<pre><code>public List&lt;MyCustomObject&gt; map(Delivery delivery) {\n    List&lt;MyCustomObject&gt; delList = new ArrayList&lt;&gt;();\n    if (!CollectionUtils.isEmpty(delivery.getDeliveries())) {\n        for (MyCustomObject deliveries : delivery.getDeliveries()) {\n            //Processing code\n        }\n    }\n    return delList;\n}\n</code></pre>\n<p>Thanks in advance.</p>\n<ol>\n<li>Tried with the CollectionUtils.isEmpty since it checks the list is null or empty</li>\n</ol>\n"},{"tags":["java","maven","unit-testing","jacoco"],"answers":[{"tags":[],"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680897781,"creation_date":1680897781,"answer_id":75961598,"question_id":75961478,"body_markdown":"The `check` execution is misconfigured.\r\n\r\nConfiguration contains list of rule with element type and list of limits. So `&lt;element&gt;` tag belongs to `&lt;rule&gt;` not to `&lt;limits&gt;`\r\n\r\nUse this snippet\r\n\r\n```xml\r\n&lt;configuration&gt;\r\n    &lt;rules&gt;\r\n        &lt;rule&gt;\r\n            &lt;element&gt;CLASS&lt;/element&gt;\r\n            &lt;limits&gt;\r\n                &lt;limit&gt;\r\n                    &lt;counter&gt;INSTRUCTION&lt;/counter&gt;\r\n                    &lt;value&gt;COVEREDRATIO&lt;/value&gt;\r\n                    &lt;minimum&gt;0.90&lt;/minimum&gt;\r\n                &lt;/limit&gt;\r\n            &lt;/limits&gt;\r\n        &lt;/rule&gt;\r\n    &lt;/rules&gt;\r\n&lt;/configuration&gt;\r\n```","title":"JaCoCo Maven Plugin throws error during coverage check: Cannot find default setter in class org.jacoco.report.check.Limit","body":"<p>The <code>check</code> execution is misconfigured.</p>\n<p>Configuration contains list of rule with element type and list of limits. So <code>&lt;element&gt;</code> tag belongs to <code>&lt;rule&gt;</code> not to <code>&lt;limits&gt;</code></p>\n<p>Use this snippet</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration&gt;\n    &lt;rules&gt;\n        &lt;rule&gt;\n            &lt;element&gt;CLASS&lt;/element&gt;\n            &lt;limits&gt;\n                &lt;limit&gt;\n                    &lt;counter&gt;INSTRUCTION&lt;/counter&gt;\n                    &lt;value&gt;COVEREDRATIO&lt;/value&gt;\n                    &lt;minimum&gt;0.90&lt;/minimum&gt;\n                &lt;/limit&gt;\n            &lt;/limits&gt;\n        &lt;/rule&gt;\n    &lt;/rules&gt;\n&lt;/configuration&gt;\n</code></pre>\n"}],"owner":{"account_id":5939721,"reputation":568,"user_id":4671437,"display_name":"Stan Ostrovskii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75961598,"answer_count":1,"score":0,"last_activity_date":1680897958,"creation_date":1680896390,"question_id":75961478,"body_markdown":"**UPDATE:** the problem line is \t\t\t\t\t\t\t\t\t\t   \r\n\r\n     &lt;element&gt;CLASS&lt;/element&gt;\r\n\r\nIf this line is removed, the build fails for the appropriate reason e.g., insufficient coverage. Keeping question up though because my understanding is that this is a valid tag.\r\n\r\nSo I am trying to implement a JaCoCo unit test coverage check where the Maven build would fail if the coverage is not a certain number. I followed simple examples online and added the following under build plugins in the `pom.xml`:\r\n\r\n\r\n    &lt;plugin&gt;\r\n\t    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.8.9&lt;/version&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t\t&lt;outputDirectory&gt;${basedir}/target/jacoco&lt;/outputDirectory&gt;\r\n\t\t\t&lt;excludes&gt;\r\n\t\t\t\t&lt;exclude&gt;com/mycompany/config/**&lt;/exclude&gt;\r\n\t\t\t&lt;/excludes&gt;\r\n\t\t&lt;/configuration&gt;\r\n\t\t&lt;executions&gt;\r\n\t\t\t&lt;execution&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t&lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;/execution&gt;\r\n\t\t\t&lt;execution&gt;\r\n\t\t\t\t&lt;id&gt;check&lt;/id&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t&lt;goal&gt;check&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;rules&gt;\r\n\t\t\t\t\t\t&lt;rule&gt;\r\n\t\t\t\t\t\t\t&lt;limits&gt;\r\n\t\t\t\t\t\t\t\t&lt;element&gt;CLASS&lt;/element&gt;\r\n\t\t\t\t\t\t\t\t&lt;limit&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;counter&gt;INSTRUCTION&lt;/counter&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;value&gt;COVEREDRATIO&lt;/value&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;minimum&gt;0.90&lt;/minimum&gt;\r\n\t\t\t\t\t\t\t\t&lt;/limit&gt;\r\n\t\t\t\t\t\t\t&lt;/limits&gt;\r\n\t\t\t\t\t\t&lt;/rule&gt;\r\n\t\t\t\t\t&lt;/rules&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/execution&gt;\r\n\t\t&lt;/executions&gt;\r\n\t&lt;/plugin&gt;\r\n    \r\nWhen I run `mvn test`, tests are run but the plugin does not fail the build (there is about 30% coverage in the project).\r\n\r\nWhen I run `mvn install` it fails with the following message:\r\n\r\n    Failed to execute goal org.jacoco:jacoco-maven-plugin:0.8.9:check (check) on project platform-main: Unable to parse configuration of mojo org.jacoco:jacoco-maven-plugin:0.8.9:check for parameter element: Cannot find default setter in class org.jacoco.report.check.Limit\r\n\r\nI can generate a report successfully by replacing the check step with a report step.\r\n\r\nWhat is the problem and how can I fix it?\r\n\r\n\r\n","title":"JaCoCo Maven Plugin throws error during coverage check: Cannot find default setter in class org.jacoco.report.check.Limit","body":"<p><strong>UPDATE:</strong> the problem line is</p>\n<pre><code> &lt;element&gt;CLASS&lt;/element&gt;\n</code></pre>\n<p>If this line is removed, the build fails for the appropriate reason e.g., insufficient coverage. Keeping question up though because my understanding is that this is a valid tag.</p>\n<p>So I am trying to implement a JaCoCo unit test coverage check where the Maven build would fail if the coverage is not a certain number. I followed simple examples online and added the following under build plugins in the <code>pom.xml</code>:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;0.8.9&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;outputDirectory&gt;${basedir}/target/jacoco&lt;/outputDirectory&gt;\n        &lt;excludes&gt;\n            &lt;exclude&gt;com/mycompany/config/**&lt;/exclude&gt;\n        &lt;/excludes&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;prepare-agent&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n        &lt;execution&gt;\n            &lt;id&gt;check&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;check&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;rules&gt;\n                    &lt;rule&gt;\n                        &lt;limits&gt;\n                            &lt;element&gt;CLASS&lt;/element&gt;\n                            &lt;limit&gt;\n                                &lt;counter&gt;INSTRUCTION&lt;/counter&gt;\n                                &lt;value&gt;COVEREDRATIO&lt;/value&gt;\n                                &lt;minimum&gt;0.90&lt;/minimum&gt;\n                            &lt;/limit&gt;\n                        &lt;/limits&gt;\n                    &lt;/rule&gt;\n                &lt;/rules&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>When I run <code>mvn test</code>, tests are run but the plugin does not fail the build (there is about 30% coverage in the project).</p>\n<p>When I run <code>mvn install</code> it fails with the following message:</p>\n<pre><code>Failed to execute goal org.jacoco:jacoco-maven-plugin:0.8.9:check (check) on project platform-main: Unable to parse configuration of mojo org.jacoco:jacoco-maven-plugin:0.8.9:check for parameter element: Cannot find default setter in class org.jacoco.report.check.Limit\n</code></pre>\n<p>I can generate a report successfully by replacing the check step with a report step.</p>\n<p>What is the problem and how can I fix it?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1680896206,"post_id":75961440,"comment_id":133977978,"body_markdown":"Post code as text formatted as code not as a screenshot.  Same for error messages and stack traces.","body":"Post code as text formatted as code not as a screenshot.  Same for error messages and stack traces."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1680896260,"post_id":75961440,"comment_id":133977990,"body_markdown":"There is no `package application;` statement in the code image you show.","body":"There is no <code>package application;</code> statement in the code image you show."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1680896569,"post_id":75961440,"comment_id":133978043,"body_markdown":"If you have been stuck for a long time, try a different approach.  To quickly get started, I advise downloading idea and using the [new JavaFX project wizard](https://stackoverflow.com/questions/74764217/error-javafx-runtime-components-are-missing-with-intellij-idea-maven-and-jdk/74764297#74764297).","body":"If you have been stuck for a long time, try a different approach.  To quickly get started, I advise downloading idea and using the <a href=\"https://stackoverflow.com/questions/74764217/error-javafx-runtime-components-are-missing-with-intellij-idea-maven-and-jdk/74764297#74764297\">new JavaFX project wizard</a>."},{"owner":{"account_id":20574830,"reputation":129,"user_id":15102286,"display_name":"AstralV"},"score":0,"creation_date":1680897156,"post_id":75961440,"comment_id":133978136,"body_markdown":"I have idea but wasn&#39;t sure how to get my own code to work in it, i edited the first post to reflect what i&#39;m working on","body":"I have idea but wasn&#39;t sure how to get my own code to work in it, i edited the first post to reflect what i&#39;m working on"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1680897808,"post_id":75961440,"comment_id":133978252,"body_markdown":"Just follow the instructions I linked.  Otherwise, openjfx.io has getting started instructions for all major IDEs.","body":"Just follow the instructions I linked.  Otherwise, openjfx.io has getting started instructions for all major IDEs."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1680898190,"post_id":75961440,"comment_id":133978325,"body_markdown":"It is not your issue currently, but the javafx.web module requires additional setup.  You can find info on that on StackOverflow.  First though, get the basic HelloWorld app from openjfx.io getting started or the idea new JavaFX wizard working without WebView.","body":"It is not your issue currently, but the javafx.web module requires additional setup.  You can find info on that on StackOverflow.  First though, get the basic HelloWorld app from openjfx.io getting started or the idea new JavaFX wizard working without WebView."},{"owner":{"account_id":20574830,"reputation":129,"user_id":15102286,"display_name":"AstralV"},"score":0,"creation_date":1680898827,"post_id":75961440,"comment_id":133978421,"body_markdown":"yeah i have the same issue with the regular HelloWorld app it sucks :( but i guess ill try to use Idea instead","body":"yeah i have the same issue with the regular HelloWorld app it sucks :( but i guess ill try to use Idea instead"},{"owner":{"account_id":20574830,"reputation":129,"user_id":15102286,"display_name":"AstralV"},"score":0,"creation_date":1680905485,"post_id":75961440,"comment_id":133979391,"body_markdown":"k now i&#39;m at the javafx.web step haha. i&#39;ll look thru stackoverflow for resources","body":"k now i&#39;m at the javafx.web step haha. i&#39;ll look thru stackoverflow for resources"}],"owner":{"account_id":20574830,"reputation":129,"user_id":15102286,"display_name":"AstralV"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680896867,"creation_date":1680895957,"question_id":75961440,"body_markdown":"So I&#39;m trying to work on a project and can&#39;t get JavaFX to work through Eclipse to save my life. I&#39;ve tried reconfiguring it, rebuilding the project, reinstalling eclipse and redownloading the JavaFX SDKs multiple times, added like 3 new user libraries of re-downloaded jar files, etc and keep getting the same error, even with the stock &quot;Main&quot; class that comes with the new project. I&#39;m totally stumped. Here is the mess I am looking at:\r\n\r\nHere is the code for my application that I am trying to test:\r\n\r\n    package application;\r\n    \r\n    import java.time.LocalDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.geometry.Pos;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.TextField;\r\n    import javafx.scene.image.Image;\r\n    import javafx.scene.image.ImageView;\r\n    import javafx.scene.layout.BorderPane;\r\n    import javafx.scene.layout.HBox;\r\n    import javafx.scene.text.Text;\r\n    import javafx.scene.web.WebEngine;\r\n    import javafx.scene.web.WebView;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class StartupBrowser extends Application {\r\n        private BorderPane root;\r\n        private BorderPane browserContentHolder;\r\n        private WebView webView;\r\n        private WebEngine webEngine;\r\n        private HBox addressBar;\r\n        private HBox statusBar;\r\n        private Text domain;\r\n        private Text copyright;\r\n        private Text currentDate;\r\n        private Text currentTime;\r\n        private Text separator;\r\n        private final String homePage = &quot;https://langara.ca&quot;;\r\n    \r\n        private void setupAddressBar() {\r\n            addressBar = new HBox();\r\n            Button home = new Button(&quot;&quot;, new ImageView(new Image(&quot;home.png&quot;)));\r\n            TextField url = new TextField();\r\n            addressBar.getChildren().addAll(home, url);\r\n        }\r\n    \r\n        private void setupStatusBar() {\r\n            statusBar = new HBox();\r\n            domain = new Text(&quot;langara.ca&quot;);\r\n            separator = new Text(&quot;|&quot;);\r\n            separator.setStyle(&quot;-fx-padding: 0 5 0 5;&quot;);\r\n            currentDate = new Text();\r\n            currentDate.setStyle(&quot;-fx-padding: 0 5 0 5;&quot;);\r\n            currentTime = new Text();\r\n            currentTime.setStyle(&quot;-fx-padding: 0 5 0 5;&quot;);\r\n            updateDateTime();\r\n            DateTimeFormatter dateFormatter = DateTimeFormatter.ofPattern(&quot;EEE, MMM dd, yyyy&quot;);\r\n            DateTimeFormatter timeFormatter = DateTimeFormatter.ofPattern(&quot;hh:mm:ss a&quot;);\r\n            currentDate.setText(dateFormatter.format(LocalDateTime.now()));\r\n            currentTime.setText(timeFormatter.format(LocalDateTime.now()));\r\n            copyright = new Text(&quot;JavaFX -- All Rights Reserved.&quot;);\r\n            statusBar.getChildren().addAll(domain, separator, currentDate, currentTime, separator, copyright);\r\n            statusBar.setAlignment(Pos.CENTER_RIGHT);\r\n        }\r\n    \r\n        private void updateDateTime() {\r\n            DateTimeFormatter timeFormatter = DateTimeFormatter.ofPattern(&quot;hh:mm:ss a&quot;);\r\n            currentTime.setText(timeFormatter.format(LocalDateTime.now()));\r\n        }\r\n    \r\n        private void setupBrowserContentHolder() {\r\n            browserContentHolder = new BorderPane();\r\n            webView = new WebView();\r\n            webEngine = webView.getEngine();\r\n            webEngine.load(homePage);\r\n            browserContentHolder.setCenter(webView);\r\n        }\r\n    \r\n        public void start(Stage stage) {\r\n            root = new BorderPane();\r\n            this.setupAddressBar();\r\n            this.setupBrowserContentHolder();\r\n            this.setupStatusBar();\r\n            root.setTop(addressBar);\r\n            root.setBottom(statusBar);\r\n            root.setCenter(browserContentHolder);\r\n            Scene scene = new Scene(root);\r\n            stage.setScene(scene);\r\n            stage.setWidth(1200);\r\n            stage.setHeight(1000);\r\n            stage.setResizable(false);\r\n            stage.setTitle(&quot;JavaFX Browser&quot;);\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Application.launch(args);\r\n        }\r\n    }\r\n\r\n\r\nand the error: \r\n\r\n    Error: Could not find or load main class application.StartupBrowser\r\n    Caused by: java.lang.ClassNotFoundException: application.StartupBrowser\r\n\r\nAnd project structure:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAs you can see it&#39;s a mess from me trying to redo the user libraries so many times. How do I get this to quit throwing this error so I can finally test my project?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/385Y7.png","title":"Keep getting error Error: Could not find or load main class application.Main Caused by: java.lang.ClassNotFoundException: application.Main","body":"<p>So I'm trying to work on a project and can't get JavaFX to work through Eclipse to save my life. I've tried reconfiguring it, rebuilding the project, reinstalling eclipse and redownloading the JavaFX SDKs multiple times, added like 3 new user libraries of re-downloaded jar files, etc and keep getting the same error, even with the stock &quot;Main&quot; class that comes with the new project. I'm totally stumped. Here is the mess I am looking at:</p>\n<p>Here is the code for my application that I am trying to test:</p>\n<pre><code>package application;\n\nimport java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\n\nimport javafx.application.Application;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.TextField;\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.layout.BorderPane;\nimport javafx.scene.layout.HBox;\nimport javafx.scene.text.Text;\nimport javafx.scene.web.WebEngine;\nimport javafx.scene.web.WebView;\nimport javafx.stage.Stage;\n\npublic class StartupBrowser extends Application {\n    private BorderPane root;\n    private BorderPane browserContentHolder;\n    private WebView webView;\n    private WebEngine webEngine;\n    private HBox addressBar;\n    private HBox statusBar;\n    private Text domain;\n    private Text copyright;\n    private Text currentDate;\n    private Text currentTime;\n    private Text separator;\n    private final String homePage = &quot;https://langara.ca&quot;;\n\n    private void setupAddressBar() {\n        addressBar = new HBox();\n        Button home = new Button(&quot;&quot;, new ImageView(new Image(&quot;home.png&quot;)));\n        TextField url = new TextField();\n        addressBar.getChildren().addAll(home, url);\n    }\n\n    private void setupStatusBar() {\n        statusBar = new HBox();\n        domain = new Text(&quot;langara.ca&quot;);\n        separator = new Text(&quot;|&quot;);\n        separator.setStyle(&quot;-fx-padding: 0 5 0 5;&quot;);\n        currentDate = new Text();\n        currentDate.setStyle(&quot;-fx-padding: 0 5 0 5;&quot;);\n        currentTime = new Text();\n        currentTime.setStyle(&quot;-fx-padding: 0 5 0 5;&quot;);\n        updateDateTime();\n        DateTimeFormatter dateFormatter = DateTimeFormatter.ofPattern(&quot;EEE, MMM dd, yyyy&quot;);\n        DateTimeFormatter timeFormatter = DateTimeFormatter.ofPattern(&quot;hh:mm:ss a&quot;);\n        currentDate.setText(dateFormatter.format(LocalDateTime.now()));\n        currentTime.setText(timeFormatter.format(LocalDateTime.now()));\n        copyright = new Text(&quot;JavaFX -- All Rights Reserved.&quot;);\n        statusBar.getChildren().addAll(domain, separator, currentDate, currentTime, separator, copyright);\n        statusBar.setAlignment(Pos.CENTER_RIGHT);\n    }\n\n    private void updateDateTime() {\n        DateTimeFormatter timeFormatter = DateTimeFormatter.ofPattern(&quot;hh:mm:ss a&quot;);\n        currentTime.setText(timeFormatter.format(LocalDateTime.now()));\n    }\n\n    private void setupBrowserContentHolder() {\n        browserContentHolder = new BorderPane();\n        webView = new WebView();\n        webEngine = webView.getEngine();\n        webEngine.load(homePage);\n        browserContentHolder.setCenter(webView);\n    }\n\n    public void start(Stage stage) {\n        root = new BorderPane();\n        this.setupAddressBar();\n        this.setupBrowserContentHolder();\n        this.setupStatusBar();\n        root.setTop(addressBar);\n        root.setBottom(statusBar);\n        root.setCenter(browserContentHolder);\n        Scene scene = new Scene(root);\n        stage.setScene(scene);\n        stage.setWidth(1200);\n        stage.setHeight(1000);\n        stage.setResizable(false);\n        stage.setTitle(&quot;JavaFX Browser&quot;);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        Application.launch(args);\n    }\n}\n</code></pre>\n<p>and the error:</p>\n<pre><code>Error: Could not find or load main class application.StartupBrowser\nCaused by: java.lang.ClassNotFoundException: application.StartupBrowser\n</code></pre>\n<p>And project structure:</p>\n<p><a href=\"https://i.stack.imgur.com/385Y7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/385Y7.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see it's a mess from me trying to redo the user libraries so many times. How do I get this to quit throwing this error so I can finally test my project?</p>\n"},{"tags":["java","sockets","networking","server","lan"],"owner":{"account_id":28243763,"reputation":1,"user_id":21591153,"display_name":"heapunderflow25"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680896672,"creation_date":1680896672,"question_id":75961502,"body_markdown":"I&#39;m trying to make a simple Java web chat.So far i have succeeded in the basic functionality but the problem remains of Server sending a message to clients and clients receiving other client messages.I thought of making an arraylist containing clients so that i could broadcast messages to all of them at once or the one that i choose yet that doesn&#39;t work.Am i looking at this the wrong way and should i rewrite the Server code or even the client code?\r\n\r\nCrux of the Server code.\r\n```\r\npublic class Server{\r\n    private ServerSocket serverSocket;\r\n    ArrayList&lt;String&gt; names = new ArrayList&lt;&gt;();\r\n    ArrayList&lt;User&gt; useragents = new ArrayList&lt;&gt;();\r\n    User useragent=new User();\r\n    ServerThread t;\r\n    String usernamestring;\r\n    static int sameusernamecount;\r\n    static int allconnectedusercount;\r\n\r\n   static class User{\r\n        Socket clientSocket;\r\n        PrintWriter out;\r\n        BufferedReader in;\r\n        String msgin=&quot; &quot;;\r\n        String msgout=&quot;&quot;;\r\n\r\n\r\n    }\r\n\r\n\r\n\r\npublic void StartServer(int port){\r\n\r\n    try {\r\n        serverSocket = new ServerSocket(port);\r\n        Socket client;\r\n\r\n        System.out.println(&quot;Server launched.&quot;);\r\n        System.out.println(&quot;Waiting for a client...&quot;);\r\n\r\n\r\n\r\n            while(true){\r\n\r\n                System.out.println(useragent+&quot;agent&quot;);\r\n                useragent.clientSocket = serverSocket.accept();\r\n                useragents.add(useragent);\r\n                ServerThread t = new ServerThread();\r\n                t.start();\r\n\r\n\r\n\r\n\r\n\r\n\r\n            }\r\n\r\n    }catch (Exception e){\r\n        e.printStackTrace(System.out);\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n}\r\nclass ServerThread extends Thread{\r\n    void CloseSockets(){\r\n        try {\r\n            serverSocket.close();\r\n            useragent.clientSocket.close();\r\n            useragent.in.close();\r\n            useragent.out.close();\r\n        }catch (Exception e){\r\n            e.printStackTrace(System.out);\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\npublic void run(){\r\n\r\n    try{\r\n        useragent.out = new PrintWriter(useragent.clientSocket.getOutputStream(), true);\r\n        useragent.in = new BufferedReader(new InputStreamReader(useragent.clientSocket.getInputStream()));\r\n        usernamestring=useragent.in.readLine();\r\n        System.out.println(&quot;New User has connected:&quot;+usernamestring);\r\n        names.add(usernamestring);\r\n\r\n\r\n\r\n\r\n\r\n    }catch (Exception e){\r\n        e.printStackTrace(System.out);\r\n    }\r\n    try {\r\n        Scanner scan = new Scanner(System.in);\r\n\r\n\r\n\r\n        while(useragent.msgin!=null) {\r\n\r\n\r\n\r\n            useragent.msgin = useragent.in.readLine();\r\n            String[] split=useragent.msgin.split(&quot;:&quot;);\r\n            String Username=split[0];\r\n            String Message=split[1];\r\n            if(ContainsString(Username)==true){\r\n                Username+=1;\r\n\r\n            }\r\n            System.out.println(Username+&quot;:&quot;+Message);\r\n            useragent.msgout=Username+&quot;:&quot;+Message;\r\n\r\n            if(Message.equals(&quot;/break&quot;)){\r\n                break;\r\n            }\r\n            if(Message.equals(&quot;/listusers&quot;)){\r\n                System.out.println(&quot;Users Connected:&quot;+names);\r\n            }\r\n            System.out.println(names);\r\n\r\n            for(int i=0;i&lt;useragents.size();i++){\r\n                useragents.get(i).out.println(useragent.msgout);\r\n             \r\n            }}\r\n```\r\nCrux of the client code\r\n\r\n```\r\n private void SendMessage(){\r\n        String msgout=&quot; &quot;;\r\n        String msgin=&quot; &quot;;\r\n        Scanner scan = new Scanner(System.in);\r\n            out.println(username);\r\n            while (msgout != null){\r\n                try {\r\n                    msgout =scan.nextLine();\r\n                    out.println(username + &quot;:&quot; + msgout);\r\n\r\n\r\n                    if (msgout.equals(&quot;/break&quot;)) {\r\n                        out.println(username+&quot; has disconnected&quot;);\r\n                        break;\r\n                    }\r\n\r\n                }catch(Exception e){\r\n                    e.printStackTrace(System.out);\r\n                }\r\n            }\r\n\r\n        try {\r\n            clientSocket.close();\r\n            in.close();\r\n            out.close();\r\n        }catch (Exception e){\r\n            e.printStackTrace(System.out);\r\n        }\r\n\r\n    }\r\n    private void ReceiveMessage(){\r\n        new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    while(true) {\r\n                        String msgfromgroupchat;\r\n                        msgfromgroupchat = in.readLine();\r\n                        System.out.println(msgfromgroupchat);\r\n                    }\r\n                }catch (Exception e){\r\n                    e.printStackTrace(System.out);\r\n                }\r\n            }\r\n        }).start();{\r\n\r\n        }\r\n    }\r\n```\r\n\r\n\r\n\r\n","title":"Making a list of connected clients and broadcasting a message to them in a simple Java web chat","body":"<p>I'm trying to make a simple Java web chat.So far i have succeeded in the basic functionality but the problem remains of Server sending a message to clients and clients receiving other client messages.I thought of making an arraylist containing clients so that i could broadcast messages to all of them at once or the one that i choose yet that doesn't work.Am i looking at this the wrong way and should i rewrite the Server code or even the client code?</p>\n<p>Crux of the Server code.</p>\n<pre><code>public class Server{\n    private ServerSocket serverSocket;\n    ArrayList&lt;String&gt; names = new ArrayList&lt;&gt;();\n    ArrayList&lt;User&gt; useragents = new ArrayList&lt;&gt;();\n    User useragent=new User();\n    ServerThread t;\n    String usernamestring;\n    static int sameusernamecount;\n    static int allconnectedusercount;\n\n   static class User{\n        Socket clientSocket;\n        PrintWriter out;\n        BufferedReader in;\n        String msgin=&quot; &quot;;\n        String msgout=&quot;&quot;;\n\n\n    }\n\n\n\npublic void StartServer(int port){\n\n    try {\n        serverSocket = new ServerSocket(port);\n        Socket client;\n\n        System.out.println(&quot;Server launched.&quot;);\n        System.out.println(&quot;Waiting for a client...&quot;);\n\n\n\n            while(true){\n\n                System.out.println(useragent+&quot;agent&quot;);\n                useragent.clientSocket = serverSocket.accept();\n                useragents.add(useragent);\n                ServerThread t = new ServerThread();\n                t.start();\n\n\n\n\n\n\n            }\n\n    }catch (Exception e){\n        e.printStackTrace(System.out);\n    }\n\n\n\n\n\n}\nclass ServerThread extends Thread{\n    void CloseSockets(){\n        try {\n            serverSocket.close();\n            useragent.clientSocket.close();\n            useragent.in.close();\n            useragent.out.close();\n        }catch (Exception e){\n            e.printStackTrace(System.out);\n        }\n    }\n\n\n\n\npublic void run(){\n\n    try{\n        useragent.out = new PrintWriter(useragent.clientSocket.getOutputStream(), true);\n        useragent.in = new BufferedReader(new InputStreamReader(useragent.clientSocket.getInputStream()));\n        usernamestring=useragent.in.readLine();\n        System.out.println(&quot;New User has connected:&quot;+usernamestring);\n        names.add(usernamestring);\n\n\n\n\n\n    }catch (Exception e){\n        e.printStackTrace(System.out);\n    }\n    try {\n        Scanner scan = new Scanner(System.in);\n\n\n\n        while(useragent.msgin!=null) {\n\n\n\n            useragent.msgin = useragent.in.readLine();\n            String[] split=useragent.msgin.split(&quot;:&quot;);\n            String Username=split[0];\n            String Message=split[1];\n            if(ContainsString(Username)==true){\n                Username+=1;\n\n            }\n            System.out.println(Username+&quot;:&quot;+Message);\n            useragent.msgout=Username+&quot;:&quot;+Message;\n\n            if(Message.equals(&quot;/break&quot;)){\n                break;\n            }\n            if(Message.equals(&quot;/listusers&quot;)){\n                System.out.println(&quot;Users Connected:&quot;+names);\n            }\n            System.out.println(names);\n\n            for(int i=0;i&lt;useragents.size();i++){\n                useragents.get(i).out.println(useragent.msgout);\n             \n            }}\n</code></pre>\n<p>Crux of the client code</p>\n<pre><code> private void SendMessage(){\n        String msgout=&quot; &quot;;\n        String msgin=&quot; &quot;;\n        Scanner scan = new Scanner(System.in);\n            out.println(username);\n            while (msgout != null){\n                try {\n                    msgout =scan.nextLine();\n                    out.println(username + &quot;:&quot; + msgout);\n\n\n                    if (msgout.equals(&quot;/break&quot;)) {\n                        out.println(username+&quot; has disconnected&quot;);\n                        break;\n                    }\n\n                }catch(Exception e){\n                    e.printStackTrace(System.out);\n                }\n            }\n\n        try {\n            clientSocket.close();\n            in.close();\n            out.close();\n        }catch (Exception e){\n            e.printStackTrace(System.out);\n        }\n\n    }\n    private void ReceiveMessage(){\n        new Thread(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    while(true) {\n                        String msgfromgroupchat;\n                        msgfromgroupchat = in.readLine();\n                        System.out.println(msgfromgroupchat);\n                    }\n                }catch (Exception e){\n                    e.printStackTrace(System.out);\n                }\n            }\n        }).start();{\n\n        }\n    }\n</code></pre>\n"},{"tags":["java","encryption","base64","hmac","kucoin"],"answers":[{"tags":[],"owner":{"account_id":9474077,"reputation":13,"user_id":10074755,"display_name":"Bogdan Tudorache"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680895885,"creation_date":1645293289,"answer_id":71187650,"question_id":68791202,"body_markdown":"This caught me offguard too.\r\nPassphrase is the API password, when you created the API at your account. Not the trading 6 digit code you use.","title":"Kucoin Api KC-API-PASSPHRASE is Invalid","body":"<p>This caught me offguard too.\nPassphrase is the API password, when you created the API at your account. Not the trading 6 digit code you use.</p>\n"}],"owner":{"account_id":13596055,"reputation":186,"user_id":9808073,"display_name":"Sep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1754,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680895885,"creation_date":1629027941,"question_id":68791202,"body_markdown":"Im trying to call &quot;/api/v1/sub-accounts&quot; endpoint to get Account balance but there is something wrong with it!\r\nhere is my code :\r\n\r\n    public Observable&lt;Response&lt;String&gt;&gt; getBalance(){\r\n        long timestamp = Timestamp.from(Instant.now()).getTime() + localDelayTime;\r\n        return service.getBalance(\r\n                apiKey+&quot;&quot;,\r\n                        timestamp+&quot;&quot;,\r\n                        base64(encode(secKey,(timestamp+&quot;GET&quot;+&quot;/api/v1/sub-accounts&quot;+&quot;&quot;)))+&quot;&quot;,\r\n                base64(encode(secKey,passPhrase))+&quot;&quot;,\r\n\r\n                &quot;2&quot;)\r\n                .subscribeOn(Schedulers.io())\r\n                .unsubscribeOn(Schedulers.io())\r\n                .retry(2)\r\n                .timeout(10,TimeUnit.SECONDS);\r\n    }\r\n\r\nand my encryption methods are : \r\n\r\n    private String base64(String encode) {\r\n        try {\r\n            return Base64.getEncoder().encodeToString((encode).getBytes(StandardCharsets.UTF_8));\r\n        }catch (NullPointerException e){\r\n            return &quot;&quot;;\r\n        }\r\n    }\r\n\r\nand \r\n\r\n    public static String encode(String key, String data) {\r\n        Mac sha256;\r\n        try {\r\n            sha256 = Mac.getInstance(&quot;HmacSHA256&quot;);\r\n            SecretKeySpec secret_key = new SecretKeySpec(key.getBytes(&quot;UTF-8&quot;), &quot;HmacSHA256&quot;);\r\n            sha256.init(secret_key);\r\n            return bytesToHex(sha256.doFinal(data.getBytes(&quot;UTF-8&quot;)));\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public static String bytesToHex(byte[] bytes) {\r\n        char[] HEX_ARRAY = &quot;0123456789abcdef&quot;.toCharArray();\r\n        char[] hexChars = new char[bytes.length * 2];\r\n        for (int j = 0; j &lt; bytes.length; j++) {\r\n            int v = bytes[j] &amp; 0xFF;\r\n            hexChars[j * 2] = HEX_ARRAY[v &gt;&gt;&gt; 4];\r\n            hexChars[j * 2 + 1] = HEX_ARRAY[v &amp; 0x0F];\r\n        }\r\n        return new String(hexChars);\r\n    }\r\n\r\n\r\nthe values of &#39;apikey , secretKey , passPhrase&#39; are right\r\nalso the value of timestamp , i checked it with server","title":"Kucoin Api KC-API-PASSPHRASE is Invalid","body":"<p>Im trying to call &quot;/api/v1/sub-accounts&quot; endpoint to get Account balance but there is something wrong with it!\nhere is my code :</p>\n<pre><code>public Observable&lt;Response&lt;String&gt;&gt; getBalance(){\n    long timestamp = Timestamp.from(Instant.now()).getTime() + localDelayTime;\n    return service.getBalance(\n            apiKey+&quot;&quot;,\n                    timestamp+&quot;&quot;,\n                    base64(encode(secKey,(timestamp+&quot;GET&quot;+&quot;/api/v1/sub-accounts&quot;+&quot;&quot;)))+&quot;&quot;,\n            base64(encode(secKey,passPhrase))+&quot;&quot;,\n\n            &quot;2&quot;)\n            .subscribeOn(Schedulers.io())\n            .unsubscribeOn(Schedulers.io())\n            .retry(2)\n            .timeout(10,TimeUnit.SECONDS);\n}\n</code></pre>\n<p>and my encryption methods are :</p>\n<pre><code>private String base64(String encode) {\n    try {\n        return Base64.getEncoder().encodeToString((encode).getBytes(StandardCharsets.UTF_8));\n    }catch (NullPointerException e){\n        return &quot;&quot;;\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>public static String encode(String key, String data) {\n    Mac sha256;\n    try {\n        sha256 = Mac.getInstance(&quot;HmacSHA256&quot;);\n        SecretKeySpec secret_key = new SecretKeySpec(key.getBytes(&quot;UTF-8&quot;), &quot;HmacSHA256&quot;);\n        sha256.init(secret_key);\n        return bytesToHex(sha256.doFinal(data.getBytes(&quot;UTF-8&quot;)));\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return null;\n}\n\npublic static String bytesToHex(byte[] bytes) {\n    char[] HEX_ARRAY = &quot;0123456789abcdef&quot;.toCharArray();\n    char[] hexChars = new char[bytes.length * 2];\n    for (int j = 0; j &lt; bytes.length; j++) {\n        int v = bytes[j] &amp; 0xFF;\n        hexChars[j * 2] = HEX_ARRAY[v &gt;&gt;&gt; 4];\n        hexChars[j * 2 + 1] = HEX_ARRAY[v &amp; 0x0F];\n    }\n    return new String(hexChars);\n}\n</code></pre>\n<p>the values of 'apikey , secretKey , passPhrase' are right\nalso the value of timestamp , i checked it with server</p>\n"},{"tags":["java","swing","object","arraylist","jlist"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1680798130,"post_id":75951305,"comment_id":133962143,"body_markdown":"Why a `JList`?  Why not a `JTable`, which is designed to display a table of rows and columns?  If you insist on using a `JList`, create a `JPanel` to display one and only one Student and place multiple instances of that student `JPanel` in a `JList`.","body":"Why a <code>JList</code>?  Why not a <code>JTable</code>, which is designed to display a table of rows and columns?  If you insist on using a <code>JList</code>, create a <code>JPanel</code> to display one and only one Student and place multiple instances of that student <code>JPanel</code> in a <code>JList</code>."},{"owner":{"account_id":27028764,"reputation":561,"user_id":20585541,"display_name":"Ben the Coder"},"score":0,"creation_date":1680882948,"post_id":75951305,"comment_id":133975503,"body_markdown":"Please see [ask].","body":"Please see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}],"answers":[{"tags":[],"owner":{"account_id":4191359,"reputation":39,"user_id":3433912,"accept_rate":0,"display_name":"SaidTheHypocrite"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1680798962,"creation_date":1680798890,"answer_id":75951804,"question_id":75951305,"body_markdown":" 1. Create a list of objects that you want to display.\r\n 2. Create a DefaultListModel object to store the objects in the list.\r\n 3. Create a JList object and set its model to the DefaultListModel.\r\n 4. Add the JList to a JScrollPane to allow for scrolling if the list is\r\n    long.\r\n 5. Add the JScrollPane to a container such as a JFrame or JPanel to\r\n    display the JList.\r\n\r\n```\r\npublic class Example extends JFrame {\r\n    \r\n    public Example() {\r\n        // Create a list of strings\r\n        List&lt;String&gt; items = new ArrayList&lt;&gt;();\r\n        items.add(&quot;Item 1&quot;);\r\n        items.add(&quot;Item 2&quot;);\r\n        items.add(&quot;Item 3&quot;);\r\n        \r\n        // Create a DefaultListModel to store the strings\r\n        DefaultListModel&lt;String&gt; listModel = new DefaultListModel&lt;&gt;();\r\n        for (String item : items) {\r\n            listModel.addElement(item);\r\n        }\r\n        \r\n        // Create a JList and set its model to the DefaultListModel\r\n        JList&lt;String&gt; jList = new JList&lt;&gt;(listModel);\r\n        \r\n        // Add the JList to a JScrollPane to allow for scrolling\r\n        JScrollPane scrollPane = new JScrollPane(jList);\r\n        \r\n        // Add the JScrollPane to a container such as a JFrame or JPanel\r\n        JPanel panel = new JPanel();\r\n        panel.add(scrollPane);\r\n        add(panel);\r\n        \r\n        // Set the JFrame properties\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        setTitle(&quot;Example&quot;);\r\n        pack();\r\n        setLocationRelativeTo(null);\r\n        setVisible(true);\r\n    }\r\n}\r\n```","title":"How to display a list of objects as a JList in java swing?","body":"<ol>\n<li>Create a list of objects that you want to display.</li>\n<li>Create a DefaultListModel object to store the objects in the list.</li>\n<li>Create a JList object and set its model to the DefaultListModel.</li>\n<li>Add the JList to a JScrollPane to allow for scrolling if the list is\nlong.</li>\n<li>Add the JScrollPane to a container such as a JFrame or JPanel to\ndisplay the JList.</li>\n</ol>\n<pre><code>public class Example extends JFrame {\n    \n    public Example() {\n        // Create a list of strings\n        List&lt;String&gt; items = new ArrayList&lt;&gt;();\n        items.add(&quot;Item 1&quot;);\n        items.add(&quot;Item 2&quot;);\n        items.add(&quot;Item 3&quot;);\n        \n        // Create a DefaultListModel to store the strings\n        DefaultListModel&lt;String&gt; listModel = new DefaultListModel&lt;&gt;();\n        for (String item : items) {\n            listModel.addElement(item);\n        }\n        \n        // Create a JList and set its model to the DefaultListModel\n        JList&lt;String&gt; jList = new JList&lt;&gt;(listModel);\n        \n        // Add the JList to a JScrollPane to allow for scrolling\n        JScrollPane scrollPane = new JScrollPane(jList);\n        \n        // Add the JScrollPane to a container such as a JFrame or JPanel\n        JPanel panel = new JPanel();\n        panel.add(scrollPane);\n        add(panel);\n        \n        // Set the JFrame properties\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setTitle(&quot;Example&quot;);\n        pack();\n        setLocationRelativeTo(null);\n        setVisible(true);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26501835,"reputation":3,"user_id":20138656,"display_name":"rainbow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":765,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1680895827,"creation_date":1680795362,"question_id":75951305,"body_markdown":"We are asked to build a system in Java Swing no drag and drop and I cannot understand how to display a list of objects in a `JList`.\r\nI have a GUI class that creates a JFrame, JPanel, and an empty JList as well as a logic class with list of objects, which can be accessed via `logic.studentsList`.\r\nI need to create more student objects via fields and display them in my JList and add to the existing `studentsList` (which is of type `ArrayList&lt;Students&gt;`).\r\nShould I declare my `JList` as `JList` object type `Students`? I can&#39;t find information of how to connect JList with object list.\r\nMy only idea is to create new Student object from input fields data and pass it on to `logic.stundentsList`. But how to display it also in GUI as a JList?","title":"How to display a list of objects as a JList in java swing?","body":"<p>We are asked to build a system in Java Swing no drag and drop and I cannot understand how to display a list of objects in a <code>JList</code>.\nI have a GUI class that creates a JFrame, JPanel, and an empty JList as well as a logic class with list of objects, which can be accessed via <code>logic.studentsList</code>.\nI need to create more student objects via fields and display them in my JList and add to the existing <code>studentsList</code> (which is of type <code>ArrayList&lt;Students&gt;</code>).\nShould I declare my <code>JList</code> as <code>JList</code> object type <code>Students</code>? I can't find information of how to connect JList with object list.\nMy only idea is to create new Student object from input fields data and pass it on to <code>logic.stundentsList</code>. But how to display it also in GUI as a JList?</p>\n"},{"tags":["java","project-reactor"],"comments":[{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1680900321,"post_id":75961416,"comment_id":133978639,"body_markdown":"I think you&#39;ll get the same result. What do you see when you run it?","body":"I think you&#39;ll get the same result. What do you see when you run it?"},{"owner":{"account_id":6677302,"reputation":4368,"user_id":5151542,"accept_rate":50,"display_name":"Zanko"},"score":0,"creation_date":1680901126,"post_id":75961416,"comment_id":133978758,"body_markdown":"Yes exactly i get same results. So that&#39;s why I am wondering what should I use, I couldn&#39;t appreciate the differences","body":"Yes exactly i get same results. So that&#39;s why I am wondering what should I use, I couldn&#39;t appreciate the differences"},{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":1,"creation_date":1680905231,"post_id":75961416,"comment_id":133979357,"body_markdown":"As you need a single item as a result then use `Mono.zip`, there is no reason to use `Flux.zip` for a single item","body":"As you need a single item as a result then use <code>Mono.zip</code>, there is no reason to use <code>Flux.zip</code> for a single item"}],"owner":{"account_id":6677302,"reputation":4368,"user_id":5151542,"accept_rate":50,"display_name":"Zanko"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680895546,"creation_date":1680895546,"question_id":75961416,"body_markdown":"I would like to appreciate the different because right now both ways produce the same result.\r\n\r\n```\r\nFlux&lt;String&gt; draws = Flux.just(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;);\r\n        Flux&lt;Tuple2&lt;List&lt;String&gt;, List&lt;String&gt;&gt;&gt; monoZipFlux = draws.flatMap(draw-&gt;{\r\n            Flux&lt;String&gt; source1 = getFirstSource(draw);\r\n            Flux&lt;String&gt; source2 = getSecondSource(draw);\r\n            return  Mono.zip(source1.collectList(), source2.collectList());\r\n        });\r\n        List&lt;Tuple2&lt;List&lt;String&gt;, List&lt;String&gt;&gt;&gt; firstExamples = monoZipFlux.collectList().block();\r\n        for (Tuple2 firstExample : firstExamples) {\r\n            System.out.println(&quot;firstExample.getT1(): &quot; + firstExample.getT1());\r\n            System.out.println(&quot;firstExample.getT2(): &quot; + firstExample.getT2());\r\n        }\r\n\r\n        Flux&lt;Tuple2&lt;List&lt;String&gt;, List&lt;String&gt;&gt;&gt; fluxZipFlux = draws.flatMap(draw-&gt;{\r\n            Flux&lt;String&gt; source1 = getFirstSource(draw);\r\n            Flux&lt;String&gt; source2 = getSecondSource(draw);\r\n            return Flux.zip(source1.collectList(), source2.collectList());\r\n        });\r\n        List&lt;Tuple2&lt;List&lt;String&gt;, List&lt;String&gt;&gt;&gt;  secondExamples = fluxZipFlux.collectList().block();\r\n        for (Tuple2 secondExample : secondExamples) {\r\n            System.out.println(&quot;secondExample.getT1(): &quot; + secondExample.getT1());\r\n            System.out.println(&quot;secondExample.getT2(): &quot; + secondExample.getT2());\r\n        }\r\n```\r\nWhat is the advantage/disadvantage for both ways in this particular case and which should I use?","title":"Difference between Mono.zip and Flux.zip in this particular case with flatMap","body":"<p>I would like to appreciate the different because right now both ways produce the same result.</p>\n<pre><code>Flux&lt;String&gt; draws = Flux.just(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;);\n        Flux&lt;Tuple2&lt;List&lt;String&gt;, List&lt;String&gt;&gt;&gt; monoZipFlux = draws.flatMap(draw-&gt;{\n            Flux&lt;String&gt; source1 = getFirstSource(draw);\n            Flux&lt;String&gt; source2 = getSecondSource(draw);\n            return  Mono.zip(source1.collectList(), source2.collectList());\n        });\n        List&lt;Tuple2&lt;List&lt;String&gt;, List&lt;String&gt;&gt;&gt; firstExamples = monoZipFlux.collectList().block();\n        for (Tuple2 firstExample : firstExamples) {\n            System.out.println(&quot;firstExample.getT1(): &quot; + firstExample.getT1());\n            System.out.println(&quot;firstExample.getT2(): &quot; + firstExample.getT2());\n        }\n\n        Flux&lt;Tuple2&lt;List&lt;String&gt;, List&lt;String&gt;&gt;&gt; fluxZipFlux = draws.flatMap(draw-&gt;{\n            Flux&lt;String&gt; source1 = getFirstSource(draw);\n            Flux&lt;String&gt; source2 = getSecondSource(draw);\n            return Flux.zip(source1.collectList(), source2.collectList());\n        });\n        List&lt;Tuple2&lt;List&lt;String&gt;, List&lt;String&gt;&gt;&gt;  secondExamples = fluxZipFlux.collectList().block();\n        for (Tuple2 secondExample : secondExamples) {\n            System.out.println(&quot;secondExample.getT1(): &quot; + secondExample.getT1());\n            System.out.println(&quot;secondExample.getT2(): &quot; + secondExample.getT2());\n        }\n</code></pre>\n<p>What is the advantage/disadvantage for both ways in this particular case and which should I use?</p>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":23,"creation_date":1494008030,"post_id":43811182,"comment_id":74662038,"body_markdown":"Short answer: no difference.  Long answer: noooooooo difference.  They&#39;re just aliases for each other.","body":"Short answer: no difference.  Long answer: noooooooo difference.  They&#39;re just aliases for each other."},{"owner":{"account_id":5588556,"reputation":8451,"user_id":4428471,"accept_rate":46,"display_name":"zhuguowei"},"score":0,"creation_date":1494980665,"post_id":43811182,"comment_id":75055294,"body_markdown":"I just find something , I do not know whether it represents the difference of them? please see http://stackoverflow.com/questions/44013553/when-calculate-ab-why-parallel-not-work-but-parallelstream-could","body":"I just find something , I do not know whether it represents the difference of them? please see <a href=\"http://stackoverflow.com/questions/44013553/when-calculate-ab-why-parallel-not-work-but-parallelstream-could\" title=\"when calculate ab why parallel not work but parallelstream could\">stackoverflow.com/questions/44013553/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":9165235,"reputation":15414,"user_id":6815131,"display_name":"Joe C"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1606302787,"creation_date":1494022915,"answer_id":43814539,"question_id":43811182,"body_markdown":"There is no difference between `Collections.parallelStream()` and `Collections.stream().parallel()`.  They will both divide the stream to the extent that the underlying spliterator will allow, and they will both run using the default `ForkJoinPool` (unless already running inside another one).","title":"parallelStream vs stream.parallel","body":"<p>There is no difference between <code>Collections.parallelStream()</code> and <code>Collections.stream().parallel()</code>.  They will both divide the stream to the extent that the underlying spliterator will allow, and they will both run using the default <code>ForkJoinPool</code> (unless already running inside another one).</p>\n"},{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":40,"is_accepted":true,"score":40,"last_activity_date":1582686775,"creation_date":1494056543,"answer_id":43818012,"question_id":43811182,"body_markdown":"Even if they act the same *at the moment*, there is a difference - at least in their documentation, as you correctly pointed out; that might be exploited in the future as far as I can tell.\r\n\r\nAt the moment the `parallelStream` method is defined in the `Collection` interface as:\r\n\r\n    default Stream&lt;E&gt; parallelStream() {\r\n        return StreamSupport.stream(spliterator(), true);\r\n    }\r\n\r\nBeing a default method it could be overridden in implementations (and that&#39;s what `Collections` inner classes actually do).\r\n\r\nThat hints that even if the default method returns a parallel Stream, there could be Collections that override this method to return a `non-parallel Stream`. That is the reason the documentation is probably the way it is.\r\n\r\nAt the same time *even* if `parallelStream` returns a sequential stream - it is still a `Stream`, and then you could easily call `parallel` on it:\r\n\r\n\r\n      Collections.some()\r\n           .parallelStream() // actually sequential\r\n           .parallel() // force it to be parallel\r\n\r\nAt least for me, this looks weird. \r\n\r\nIt seems that the documentation should somehow state that after calling `parallelStream` there should be no reason to call `parallel` again to force that - since it might be useless or even bad for the processing. \r\n\r\n\r\n**EDIT**\r\n\r\nFor anyone reading this - please read the comments by Holger also; it covers cases beyond what I said in this answer. ","title":"parallelStream vs stream.parallel","body":"<p>Even if they act the same <em>at the moment</em>, there is a difference - at least in their documentation, as you correctly pointed out; that might be exploited in the future as far as I can tell.</p>\n\n<p>At the moment the <code>parallelStream</code> method is defined in the <code>Collection</code> interface as:</p>\n\n<pre><code>default Stream&lt;E&gt; parallelStream() {\n    return StreamSupport.stream(spliterator(), true);\n}\n</code></pre>\n\n<p>Being a default method it could be overridden in implementations (and that's what <code>Collections</code> inner classes actually do).</p>\n\n<p>That hints that even if the default method returns a parallel Stream, there could be Collections that override this method to return a <code>non-parallel Stream</code>. That is the reason the documentation is probably the way it is.</p>\n\n<p>At the same time <em>even</em> if <code>parallelStream</code> returns a sequential stream - it is still a <code>Stream</code>, and then you could easily call <code>parallel</code> on it:</p>\n\n<pre><code>  Collections.some()\n       .parallelStream() // actually sequential\n       .parallel() // force it to be parallel\n</code></pre>\n\n<p>At least for me, this looks weird. </p>\n\n<p>It seems that the documentation should somehow state that after calling <code>parallelStream</code> there should be no reason to call <code>parallel</code> again to force that - since it might be useless or even bad for the processing. </p>\n\n<p><strong>EDIT</strong></p>\n\n<p>For anyone reading this - please read the comments by Holger also; it covers cases beyond what I said in this answer. </p>\n"},{"tags":[],"owner":{"account_id":7666017,"reputation":7604,"user_id":5809720,"display_name":"Sagar Gangwal"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1589444778,"creation_date":1589442687,"answer_id":61792052,"question_id":43811182,"body_markdown":"\r\n\r\n    class Employee {\r\n        String name;\r\n        int salary;\r\n    \r\n        public int getSalary() {\r\n            return salary;\r\n        }\r\n    \r\n        public void setSalary(int salary) {\r\n            this.salary = salary;\r\n        }\r\n    \r\n        public Employee(String name, int salary) {\r\n            this.name = name;\r\n            this.salary = salary;\r\n        }\r\n    }\r\n    class ParallelStream {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            long t1, t2;\r\n            List&lt;Employee&gt; eList = new ArrayList&lt;&gt;();\r\n            for (int i = 0; i &lt; 100; i++) {\r\n                eList.add(new Employee(&quot;A&quot;, 20000));\r\n                eList.add(new Employee(&quot;B&quot;, 3000));\r\n                eList.add(new Employee(&quot;C&quot;, 15002));\r\n                eList.add(new Employee(&quot;D&quot;, 7856));\r\n                eList.add(new Employee(&quot;E&quot;, 200));\r\n                eList.add(new Employee(&quot;F&quot;, 50000));\r\n            }\r\n    \r\n            /***** Here We Are Creating A &#39;Sequential Stream&#39; &amp; Displaying The Result *****/\r\n            t1 = System.currentTimeMillis();\r\n            System.out.println(&quot;Sequential Stream Count?= &quot; + eList.stream().filter(e -&gt; e.getSalary() &gt; 15000).count());\r\n    \r\n            t2 = System.currentTimeMillis();\r\n            System.out.println(&quot;Sequential Stream Time Taken?= &quot; + (t2 - t1) + &quot;\\n&quot;);\r\n    \r\n            /***** Here We Are Creating A &#39;Parallel Stream&#39; &amp; Displaying The Result *****/\r\n            t1 = System.currentTimeMillis();\r\n            System.out.println(&quot;Parallel Stream Count?= &quot; + eList.parallelStream().filter(e -&gt; e.getSalary() &gt; 15000).count());\r\n    \r\n            t2 = System.currentTimeMillis();\r\n            System.out.println(&quot;Parallel Stream Time Taken?= &quot; + (t2 - t1));\r\n    \r\n            /***** Here We Are Creating A &#39;Parallel Stream with Collection.stream.parallel&#39; &amp; Displaying The Result *****/\r\n            t1 = System.currentTimeMillis();\r\n            System.out.println(&quot;stream().parallel() Count?= &quot; + eList.stream().parallel().filter(e -&gt; e.getSalary() &gt; 15000).count());\r\n    \r\n            t2 = System.currentTimeMillis();\r\n            System.out.println(&quot;stream().parallel() Time Taken?= &quot; + (t2 - t1));\r\n    \r\n    \r\n    \r\n        }\r\n    \r\n    }\r\n\r\nI had tried with all three ways **`.stream(),.parallelStream() and .stream().parallel().`** with same number of records and able to identify timing taken by all three approach.\r\n\r\nHere i had mentioned O/P of same.\r\n\r\n    Sequential Stream Count?= 300\r\n    Sequential Stream Time Taken?= 18\r\n    Parallel Stream Count?= 300\r\n    Parallel Stream Time Taken?= 6\r\n    stream().parallel() Count?= 300\r\n    stream().parallel() Time Taken?= 1\r\n\r\n\r\nI am not sure,but as mentioned in O/P time taken by **`stream().parallel()`** is 1/6th of **`parallelStream()`**.\r\n\r\nStill any experts suggestions are mostly welcome.\r\n\r\n","title":"parallelStream vs stream.parallel","body":"<pre><code>class Employee {\n    String name;\n    int salary;\n\n    public int getSalary() {\n        return salary;\n    }\n\n    public void setSalary(int salary) {\n        this.salary = salary;\n    }\n\n    public Employee(String name, int salary) {\n        this.name = name;\n        this.salary = salary;\n    }\n}\nclass ParallelStream {\n\n    public static void main(String[] args) {\n\n        long t1, t2;\n        List&lt;Employee&gt; eList = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; 100; i++) {\n            eList.add(new Employee(\"A\", 20000));\n            eList.add(new Employee(\"B\", 3000));\n            eList.add(new Employee(\"C\", 15002));\n            eList.add(new Employee(\"D\", 7856));\n            eList.add(new Employee(\"E\", 200));\n            eList.add(new Employee(\"F\", 50000));\n        }\n\n        /***** Here We Are Creating A 'Sequential Stream' &amp; Displaying The Result *****/\n        t1 = System.currentTimeMillis();\n        System.out.println(\"Sequential Stream Count?= \" + eList.stream().filter(e -&gt; e.getSalary() &gt; 15000).count());\n\n        t2 = System.currentTimeMillis();\n        System.out.println(\"Sequential Stream Time Taken?= \" + (t2 - t1) + \"\\n\");\n\n        /***** Here We Are Creating A 'Parallel Stream' &amp; Displaying The Result *****/\n        t1 = System.currentTimeMillis();\n        System.out.println(\"Parallel Stream Count?= \" + eList.parallelStream().filter(e -&gt; e.getSalary() &gt; 15000).count());\n\n        t2 = System.currentTimeMillis();\n        System.out.println(\"Parallel Stream Time Taken?= \" + (t2 - t1));\n\n        /***** Here We Are Creating A 'Parallel Stream with Collection.stream.parallel' &amp; Displaying The Result *****/\n        t1 = System.currentTimeMillis();\n        System.out.println(\"stream().parallel() Count?= \" + eList.stream().parallel().filter(e -&gt; e.getSalary() &gt; 15000).count());\n\n        t2 = System.currentTimeMillis();\n        System.out.println(\"stream().parallel() Time Taken?= \" + (t2 - t1));\n\n\n\n    }\n\n}\n</code></pre>\n\n<p>I had tried with all three ways <strong><code>.stream(),.parallelStream() and .stream().parallel().</code></strong> with same number of records and able to identify timing taken by all three approach.</p>\n\n<p>Here i had mentioned O/P of same.</p>\n\n<pre><code>Sequential Stream Count?= 300\nSequential Stream Time Taken?= 18\nParallel Stream Count?= 300\nParallel Stream Time Taken?= 6\nstream().parallel() Count?= 300\nstream().parallel() Time Taken?= 1\n</code></pre>\n\n<p>I am not sure,but as mentioned in O/P time taken by <strong><code>stream().parallel()</code></strong> is 1/6th of <strong><code>parallelStream()</code></strong>.</p>\n\n<p>Still any experts suggestions are mostly welcome.</p>\n"}],"owner":{"account_id":4768650,"reputation":1454,"user_id":3854096,"accept_rate":100,"display_name":"Nick Clark"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32475,"favorite_count":0,"down_vote_count":1,"up_vote_count":61,"accepted_answer_id":43818012,"answer_count":3,"score":60,"last_activity_date":1680895332,"creation_date":1494007161,"question_id":43811182,"body_markdown":"I have been curious about the difference between `Collections.parallelStream()` and `Collections.stream().parallel()`.  According to the Javadocs, `parallelStream()` tries to return a parallel stream, whereas `stream().parallel()` returns a parallel stream.  Through some testing of my own, I have found no differences.  Where does the difference in these two methods lie? Is one implementation more time efficient than another?  Thanks.","title":"parallelStream vs stream.parallel","body":"<p>I have been curious about the difference between <code>Collections.parallelStream()</code> and <code>Collections.stream().parallel()</code>.  According to the Javadocs, <code>parallelStream()</code> tries to return a parallel stream, whereas <code>stream().parallel()</code> returns a parallel stream.  Through some testing of my own, I have found no differences.  Where does the difference in these two methods lie? Is one implementation more time efficient than another?  Thanks.</p>\n"},{"tags":["java","foreach","lambda","java-8"],"comments":[{"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"score":14,"creation_date":1398498677,"post_id":23308193,"comment_id":35683146,"body_markdown":"You can&#39;t. Just use a real `for` statement.","body":"You can&#39;t. Just use a real <code>for</code> statement."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":1,"creation_date":1398543943,"post_id":23308193,"comment_id":35697889,"body_markdown":"possible duplicate of [Java 8: Limit infinite stream by a predicate](http://stackoverflow.com/questions/20746429/java-8-limit-infinite-stream-by-a-predicate)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/20746429/java-8-limit-infinite-stream-by-a-predicate\">Java 8: Limit infinite stream by a predicate</a>"},{"owner":{"account_id":201101,"reputation":21953,"user_id":447344,"accept_rate":44,"display_name":"Thomas Decaux"},"score":0,"creation_date":1515068003,"post_id":23308193,"comment_id":83164679,"body_markdown":"Consider another approach, **you just want to not execute code**, so, a simple ``if`` condition inside the ``forEach`` will do the trick.","body":"Consider another approach, <b>you just want to not execute code</b>, so, a simple <code>if</code> condition inside the <code>forEach</code> will do the trick."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1398498559,"creation_date":1398498559,"answer_id":23308206,"question_id":23308193,"body_markdown":"*Either* you need to use a method which uses a predicate indicating whether to keep going (so it has the break instead) *or* you need to throw an exception - which is a very ugly approach, of course.\r\n\r\nSo you could write a `forEachConditional` method like this:\r\n\r\n    public static &lt;T&gt; void forEachConditional(Iterable&lt;T&gt; source,\r\n                                              Predicate&lt;T&gt; action) {\r\n        for (T item : source) {\r\n            if (!action.test(item)) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\nRather than `Predicate&lt;T&gt;`, you might want to define your own functional interface with the same general method (something taking a `T` and returning a `bool`) but with names that indicate the expectation more clearly - `Predicate&lt;T&gt;` isn&#39;t ideal here.","title":"Break or return from Java 8 stream forEach?","body":"<p><em>Either</em> you need to use a method which uses a predicate indicating whether to keep going (so it has the break instead) <em>or</em> you need to throw an exception - which is a very ugly approach, of course.</p>\n\n<p>So you could write a <code>forEachConditional</code> method like this:</p>\n\n<pre><code>public static &lt;T&gt; void forEachConditional(Iterable&lt;T&gt; source,\n                                          Predicate&lt;T&gt; action) {\n    for (T item : source) {\n        if (!action.test(item)) {\n            break;\n        }\n    }\n}\n</code></pre>\n\n<p>Rather than <code>Predicate&lt;T&gt;</code>, you might want to define your own functional interface with the same general method (something taking a <code>T</code> and returning a <code>bool</code>) but with names that indicate the expectation more clearly - <code>Predicate&lt;T&gt;</code> isn't ideal here.</p>\n"},{"tags":[],"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"down_vote_count":6,"up_vote_count":480,"is_accepted":true,"score":474,"last_activity_date":1458222589,"creation_date":1398498859,"answer_id":23308251,"question_id":23308193,"body_markdown":"If you need this, you shouldn&#39;t use `forEach`, but one of the other methods available on streams; which one, depends on what your goal is.\r\n\r\nFor example, if the goal of this loop is to find the first element which matches some predicate:\r\n\r\n    Optional&lt;SomeObject&gt; result =\r\n        someObjects.stream().filter(obj -&gt; some_condition_met).findFirst();\r\n\r\n(Note: This will not iterate the whole collection, because streams are lazily evaluated - it will stop at the first object that matches the condition).\r\n\r\nIf you just want to know if there&#39;s an element in the collection for which the condition is true, you could use `anyMatch`:\r\n\r\n    boolean result = someObjects.stream().anyMatch(obj -&gt; some_condition_met);\r\n","title":"Break or return from Java 8 stream forEach?","body":"<p>If you need this, you shouldn't use <code>forEach</code>, but one of the other methods available on streams; which one, depends on what your goal is.</p>\n\n<p>For example, if the goal of this loop is to find the first element which matches some predicate:</p>\n\n<pre><code>Optional&lt;SomeObject&gt; result =\n    someObjects.stream().filter(obj -&gt; some_condition_met).findFirst();\n</code></pre>\n\n<p>(Note: This will not iterate the whole collection, because streams are lazily evaluated - it will stop at the first object that matches the condition).</p>\n\n<p>If you just want to know if there's an element in the collection for which the condition is true, you could use <code>anyMatch</code>:</p>\n\n<pre><code>boolean result = someObjects.stream().anyMatch(obj -&gt; some_condition_met);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1018177,"reputation":3890,"user_id":1029251,"accept_rate":100,"display_name":"Julian Pieles"},"down_vote_count":1,"up_vote_count":32,"is_accepted":false,"score":31,"last_activity_date":1450887778,"creation_date":1414659131,"answer_id":26648598,"question_id":23308193,"body_markdown":"Below you find the solution I used in a project. Instead `forEach` just use `allMatch`:\r\n\r\n    someObjects.allMatch(obj -&gt; {\r\n        return !some_condition_met;\r\n    });\r\n","title":"Break or return from Java 8 stream forEach?","body":"<p>Below you find the solution I used in a project. Instead <code>forEach</code> just use <code>allMatch</code>:</p>\n\n<pre><code>someObjects.allMatch(obj -&gt; {\n    return !some_condition_met;\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":543250,"reputation":18874,"user_id":912319,"accept_rate":62,"display_name":"Kanagavelu Sugumar"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1417526312,"creation_date":1417497477,"answer_id":27242349,"question_id":23308193,"body_markdown":"For maximal performance in parallel operations use [findAny][1]() which is similar to findFirst().\r\n\r\n    Optional&lt;SomeObject&gt; result =\r\n        someObjects.stream().filter(obj -&gt; some_condition_met).findAny();\r\n\r\nHowever If a stable result is desired, use findFirst() instead.\r\n\r\nAlso note that matching patterns (anyMatch()/allMatch) will return only boolean, you will not get matched object.\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#findAny--","title":"Break or return from Java 8 stream forEach?","body":"<p>For maximal performance in parallel operations use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#findAny--\" rel=\"noreferrer\">findAny</a>() which is similar to findFirst().</p>\n\n<pre><code>Optional&lt;SomeObject&gt; result =\n    someObjects.stream().filter(obj -&gt; some_condition_met).findAny();\n</code></pre>\n\n<p>However If a stable result is desired, use findFirst() instead.</p>\n\n<p>Also note that matching patterns (anyMatch()/allMatch) will return only boolean, you will not get matched object.</p>\n"},{"tags":[],"owner":{"account_id":4093298,"reputation":4962,"user_id":3360759,"display_name":"frhack"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1433268003,"creation_date":1433268003,"answer_id":30603313,"question_id":23308193,"body_markdown":"You can use java8 + [rxjava][1].\r\n\r\n    //import java.util.stream.IntStream;\r\n    //import rx.Observable;\r\n\r\n        IntStream intStream  = IntStream.range(1,10000000);\r\n        Observable.from(() -&gt; intStream.iterator())\r\n                .takeWhile(n -&gt; n &lt; 10)\r\n                .forEach(n-&gt; System.out.println(n));\r\n\r\n\r\n  [1]: https://github.com/ReactiveX/RxJava\r\n","title":"Break or return from Java 8 stream forEach?","body":"<p>You can use java8 + <a href=\"https://github.com/ReactiveX/RxJava\" rel=\"noreferrer\">rxjava</a>.</p>\n\n<pre><code>//import java.util.stream.IntStream;\n//import rx.Observable;\n\n    IntStream intStream  = IntStream.range(1,10000000);\n    Observable.from(() -&gt; intStream.iterator())\n            .takeWhile(n -&gt; n &lt; 10)\n            .forEach(n-&gt; System.out.println(n));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":179953,"reputation":6537,"user_id":412957,"accept_rate":77,"display_name":"Mohammad Adnan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1435139421,"creation_date":1435139421,"answer_id":31023295,"question_id":23308193,"body_markdown":"I have achieved by something like this \r\n\r\n      private void doSomething() {\r\n                List&lt;Action&gt; actions = actionRepository.findAll();\r\n                boolean actionHasFormFields = actions.stream().anyMatch(actionHasMyFieldsPredicate());\r\n                if (actionHasFormFields){\r\n                    context.addError(someError);\r\n                }\r\n            }\r\n        }\r\n    \r\n        private Predicate&lt;Action&gt; actionHasMyFieldsPredicate(){\r\n            return action -&gt; action.getMyField1() != null;\r\n        }","title":"Break or return from Java 8 stream forEach?","body":"<p>I have achieved by something like this </p>\n\n<pre><code>  private void doSomething() {\n            List&lt;Action&gt; actions = actionRepository.findAll();\n            boolean actionHasFormFields = actions.stream().anyMatch(actionHasMyFieldsPredicate());\n            if (actionHasFormFields){\n                context.addError(someError);\n            }\n        }\n    }\n\n    private Predicate&lt;Action&gt; actionHasMyFieldsPredicate(){\n        return action -&gt; action.getMyField1() != null;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3446101,"reputation":11345,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"down_vote_count":11,"up_vote_count":69,"is_accepted":false,"score":58,"last_activity_date":1533543527,"creation_date":1442239165,"answer_id":32566745,"question_id":23308193,"body_markdown":"This **is** possible for `Iterable.forEach()` (but not reliably with `Stream.forEach()`). The solution is not nice, but it **is** possible.\r\n\r\n*WARNING*: You should not use it for controlling business logic, but purely for handling an exceptional situation which occurs during the execution of the `forEach()`. Such as a resource suddenly stops being accessible, one of the processed objects is violating a contract (e.g. contract says that all the elements in the stream must not be `null` but suddenly and unexpectedly one of them is `null`) etc.\r\n\r\nAccording to the documentation for [`Iterable.forEach()`][1]:\r\n\r\n&gt; Performs the given action for each element of the `Iterable` **until** all elements have been processed or **the action throws an exception**... Exceptions thrown by the action are relayed to the caller.\r\n\r\nSo you throw an exception which will immediately break the internal loop.\r\n\r\nThe code will be something like this - **I cannot say I like it** but it works. You create your own class `BreakException` which extends `RuntimeException`.\r\n\r\n    try {\r\n        someObjects.forEach(obj -&gt; {\r\n            // some useful code here\r\n            if(some_exceptional_condition_met) {\r\n                throw new BreakException();\r\n           }\r\n        }\r\n    }\r\n    catch (BreakException e) {\r\n        // here you know that your condition has been met at least once\r\n    }\r\n\r\nNotice that the `try...catch` is *not* around the lambda expression, but rather around the whole `forEach()` method. To make it more visible, see the following transcription of the code which shows it more clearly:\r\n\r\n    Consumer&lt;? super SomeObject&gt; action = obj -&gt; {\r\n        // some useful code here\r\n        if(some_exceptional_condition_met) {\r\n            throw new BreakException();\r\n        }\r\n    });\r\n\r\n    try {\r\n        someObjects.forEach(action);\r\n    }\r\n    catch (BreakException e) {\r\n        // here you know that your condition has been met at least once\r\n    }\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html#forEach-java.util.function.Consumer-","title":"Break or return from Java 8 stream forEach?","body":"<p>This <strong>is</strong> possible for <code>Iterable.forEach()</code> (but not reliably with <code>Stream.forEach()</code>). The solution is not nice, but it <strong>is</strong> possible.</p>\n\n<p><em>WARNING</em>: You should not use it for controlling business logic, but purely for handling an exceptional situation which occurs during the execution of the <code>forEach()</code>. Such as a resource suddenly stops being accessible, one of the processed objects is violating a contract (e.g. contract says that all the elements in the stream must not be <code>null</code> but suddenly and unexpectedly one of them is <code>null</code>) etc.</p>\n\n<p>According to the documentation for <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html#forEach-java.util.function.Consumer-\" rel=\"noreferrer\"><code>Iterable.forEach()</code></a>:</p>\n\n<blockquote>\n  <p>Performs the given action for each element of the <code>Iterable</code> <strong>until</strong> all elements have been processed or <strong>the action throws an exception</strong>... Exceptions thrown by the action are relayed to the caller.</p>\n</blockquote>\n\n<p>So you throw an exception which will immediately break the internal loop.</p>\n\n<p>The code will be something like this - <strong>I cannot say I like it</strong> but it works. You create your own class <code>BreakException</code> which extends <code>RuntimeException</code>.</p>\n\n<pre><code>try {\n    someObjects.forEach(obj -&gt; {\n        // some useful code here\n        if(some_exceptional_condition_met) {\n            throw new BreakException();\n       }\n    }\n}\ncatch (BreakException e) {\n    // here you know that your condition has been met at least once\n}\n</code></pre>\n\n<p>Notice that the <code>try...catch</code> is <em>not</em> around the lambda expression, but rather around the whole <code>forEach()</code> method. To make it more visible, see the following transcription of the code which shows it more clearly:</p>\n\n<pre><code>Consumer&lt;? super SomeObject&gt; action = obj -&gt; {\n    // some useful code here\n    if(some_exceptional_condition_met) {\n        throw new BreakException();\n    }\n});\n\ntry {\n    someObjects.forEach(action);\n}\ncatch (BreakException e) {\n    // here you know that your condition has been met at least once\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1127485,"reputation":4047,"user_id":1114386,"accept_rate":83,"display_name":"avijendr"},"down_vote_count":6,"up_vote_count":86,"is_accepted":false,"score":80,"last_activity_date":1464214953,"creation_date":1461595368,"answer_id":36843825,"question_id":23308193,"body_markdown":"A return in a lambda equals a continue in a for-each, but there is no equivalent to a break. You can just do a return to continue:\r\n\r\n\r\n    someObjects.forEach(obj -&gt; {\r\n       if (some_condition_met) {\r\n          return;\r\n       }\r\n    })","title":"Break or return from Java 8 stream forEach?","body":"<p>A return in a lambda equals a continue in a for-each, but there is no equivalent to a break. You can just do a return to continue:</p>\n\n<pre><code>someObjects.forEach(obj -&gt; {\n   if (some_condition_met) {\n      return;\n   }\n})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2026093,"reputation":331,"user_id":1811044,"display_name":"tuga"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1478617879,"creation_date":1478617189,"answer_id":40490130,"question_id":23308193,"body_markdown":"You can achieve that using a mix of peek(..) and anyMatch(..).\r\n\r\nUsing your example:\r\n\r\n    someObjects.stream().peek(obj -&gt; {\r\n       &lt;your code here&gt;\r\n    }).anyMatch(obj -&gt; !&lt;some_condition_met&gt;);\r\n\r\n\r\nOr just write a generic util method:\r\n\r\n    public static &lt;T&gt; void streamWhile(Stream&lt;T&gt; stream, Predicate&lt;? super T&gt; predicate, Consumer&lt;? super T&gt; consumer) {\r\n    \tstream.peek(consumer).anyMatch(predicate.negate());\r\n    }\r\n\r\nAnd then use it, like this:\r\n\r\n    streamWhile(someObjects.stream(), obj -&gt; &lt;some_condition_met&gt;, obj -&gt; {\r\n       &lt;your code here&gt;\r\n    });","title":"Break or return from Java 8 stream forEach?","body":"<p>You can achieve that using a mix of peek(..) and anyMatch(..).</p>\n\n<p>Using your example:</p>\n\n<pre><code>someObjects.stream().peek(obj -&gt; {\n   &lt;your code here&gt;\n}).anyMatch(obj -&gt; !&lt;some_condition_met&gt;);\n</code></pre>\n\n<p>Or just write a generic util method:</p>\n\n<pre><code>public static &lt;T&gt; void streamWhile(Stream&lt;T&gt; stream, Predicate&lt;? super T&gt; predicate, Consumer&lt;? super T&gt; consumer) {\n    stream.peek(consumer).anyMatch(predicate.negate());\n}\n</code></pre>\n\n<p>And then use it, like this:</p>\n\n<pre><code>streamWhile(someObjects.stream(), obj -&gt; &lt;some_condition_met&gt;, obj -&gt; {\n   &lt;your code here&gt;\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1552852936,"creation_date":1480729832,"answer_id":40943438,"question_id":23308193,"body_markdown":"Update with Java 9+ with `takeWhile`:\r\n```\r\nMutableBoolean ongoing = MutableBoolean.of(true);\r\nsomeobjects.stream()...takeWhile(t -&gt; ongoing.value()).forEach(t -&gt; {\r\n    // doing something.\r\n    if (...) { // want to break;\r\n        ongoing.setFalse();\r\n    }\r\n});","title":"Break or return from Java 8 stream forEach?","body":"<p>Update with Java 9+ with <code>takeWhile</code>:</p>\n\n<pre><code>MutableBoolean ongoing = MutableBoolean.of(true);\nsomeobjects.stream()...takeWhile(t -&gt; ongoing.value()).forEach(t -&gt; {\n    // doing something.\n    if (...) { // want to break;\n        ongoing.setFalse();\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":201101,"reputation":21953,"user_id":447344,"accept_rate":44,"display_name":"Thomas Decaux"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1554542327,"creation_date":1515068126,"answer_id":48095123,"question_id":23308193,"body_markdown":"What about this one:\r\n\r\n    final BooleanWrapper condition = new BooleanWrapper();\r\n    someObjects.forEach(obj -&gt; {\r\n       if (condition.ok()) {\r\n         // YOUR CODE to control\r\n         condition.stop();\r\n       }\r\n    });\r\n\r\nWhere `BooleanWrapper` is a class you must implement to control the flow.\r\n","title":"Break or return from Java 8 stream forEach?","body":"<p>What about this one:</p>\n\n<pre><code>final BooleanWrapper condition = new BooleanWrapper();\nsomeObjects.forEach(obj -&gt; {\n   if (condition.ok()) {\n     // YOUR CODE to control\n     condition.stop();\n   }\n});\n</code></pre>\n\n<p>Where <code>BooleanWrapper</code> is a class you must implement to control the flow.</p>\n"},{"tags":[],"owner":{"account_id":14591629,"reputation":549,"user_id":10538548,"display_name":"Khairul Bashar Lemon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1581311815,"creation_date":1581311815,"answer_id":60144433,"question_id":23308193,"body_markdown":"\r\n    int valueToMatch = 7;\r\n    Stream.of(1,2,3,4,5,6,7,8).anyMatch(val-&gt;{\r\n       boolean isMatch = val == valueToMatch;\r\n       if(isMatch) {\r\n          /*Do whatever you want...*/\r\n           System.out.println(val);\r\n       }\r\n       return isMatch;\r\n    });\r\n\r\nIt will do only operation where it find match, and after find match it stop it&#39;s iteration.","title":"Break or return from Java 8 stream forEach?","body":"<pre><code>int valueToMatch = 7;\nStream.of(1,2,3,4,5,6,7,8).anyMatch(val-&gt;{\n   boolean isMatch = val == valueToMatch;\n   if(isMatch) {\n      /*Do whatever you want...*/\n       System.out.println(val);\n   }\n   return isMatch;\n});\n</code></pre>\n\n<p>It will do only operation where it find match, and after find match it stop it's iteration.</p>\n"},{"tags":[],"owner":{"account_id":15865285,"reputation":75,"user_id":11447491,"display_name":"Sahil"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1585591867,"creation_date":1585591226,"answer_id":60936638,"question_id":23308193,"body_markdown":"I would suggest using anyMatch. Example:-\r\n\r\n    return someObjects.stream().anyMatch(obj -&gt; \r\n        some_condition_met;\r\n    );\r\n\r\nYou can refer this post for understanding anyMatch:-\r\nhttps://beginnersbook.com/2017/11/java-8-stream-anymatch-example/\r\n","title":"Break or return from Java 8 stream forEach?","body":"<p>I would suggest using anyMatch. Example:-</p>\n\n<pre><code>return someObjects.stream().anyMatch(obj -&gt; \n    some_condition_met;\n);\n</code></pre>\n\n<p>You can refer this post for understanding anyMatch:-\n<a href=\"https://beginnersbook.com/2017/11/java-8-stream-anymatch-example/\" rel=\"nofollow noreferrer\">https://beginnersbook.com/2017/11/java-8-stream-anymatch-example/</a></p>\n"},{"tags":[],"owner":{"account_id":20638321,"reputation":61,"user_id":15151534,"display_name":"Abhishek Jaipurkar"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1612522240,"creation_date":1612522240,"answer_id":66061916,"question_id":23308193,"body_markdown":"\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;String&gt; list = Arrays.asList(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;seven&quot;, &quot;nine&quot;);\r\n        AtomicBoolean yes = new AtomicBoolean(true);\r\n        list.stream().takeWhile(value -&gt; yes.get()).forEach(value -&gt; {\r\n            System.out.println(&quot;prior cond&quot; + value);\r\n            if (value.equals(&quot;two&quot;)) {\r\n                System.out.println(value);\r\n                yes.set(false);\r\n            }\r\n    \r\n        });\r\n        //System.out.println(&quot;Hello World&quot;);\r\n    }\r\n\r\n","title":"Break or return from Java 8 stream forEach?","body":"<pre><code>public static void main(String[] args) {\n    List&lt;String&gt; list = Arrays.asList(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;seven&quot;, &quot;nine&quot;);\n    AtomicBoolean yes = new AtomicBoolean(true);\n    list.stream().takeWhile(value -&gt; yes.get()).forEach(value -&gt; {\n        System.out.println(&quot;prior cond&quot; + value);\n        if (value.equals(&quot;two&quot;)) {\n            System.out.println(value);\n            yes.set(false);\n        }\n\n    });\n    //System.out.println(&quot;Hello World&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7028500,"reputation":31,"user_id":5755114,"display_name":"Sam Deir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680894559,"creation_date":1680892537,"answer_id":75961124,"question_id":23308193,"body_markdown":"You would use .map for this and return a boolean to indicate a break\r\n\r\n    someObjects.map(obj -&gt; {\r\n       if (some_condition_met) {\r\n          return true;\r\n       }\r\n       return false;    \r\n    }).filter(Boolean.booleanValue).findAny();\r\n\r\nfindAny() is a short-circuiting terminal operation, thus the moment the filter passes an item (true) findFirst will break the operation.\r\n\r\nAn even shorter operation would be calling anyMatch instead of map as below:\r\n\r\n   \r\n\r\n    someObjects.anyMatch(obj -&gt; {\r\n           if (some_condition_met) {\r\n              return true;\r\n           }\r\n           return false;    \r\n        });\r\n\r\nas anyMatch is also a short-circuit operation.","title":"Break or return from Java 8 stream forEach?","body":"<p>You would use .map for this and return a boolean to indicate a break</p>\n<pre><code>someObjects.map(obj -&gt; {\n   if (some_condition_met) {\n      return true;\n   }\n   return false;    \n}).filter(Boolean.booleanValue).findAny();\n</code></pre>\n<p>findAny() is a short-circuiting terminal operation, thus the moment the filter passes an item (true) findFirst will break the operation.</p>\n<p>An even shorter operation would be calling anyMatch instead of map as below:</p>\n<pre><code>someObjects.anyMatch(obj -&gt; {\n       if (some_condition_met) {\n          return true;\n       }\n       return false;    \n    });\n</code></pre>\n<p>as anyMatch is also a short-circuit operation.</p>\n"}],"owner":{"account_id":280829,"reputation":28956,"user_id":576758,"accept_rate":83,"display_name":"Tapas Bose"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":482855,"favorite_count":0,"down_vote_count":1,"up_vote_count":418,"accepted_answer_id":23308251,"answer_count":15,"score":417,"last_activity_date":1680894559,"creation_date":1398498463,"question_id":23308193,"body_markdown":"When using **external iteration** over an `Iterable` we use `break` or `return` from enhanced for-each loop as:\r\n\r\n    for (SomeObject obj : someObjects) {\r\n       if (some_condition_met) {\r\n          break; // or return obj\r\n       }\r\n    }\r\n\r\nHow can we `break` or `return` using the **internal iteration** in a Java 8 lambda expression like:\r\n\r\n    someObjects.forEach(obj -&gt; {\r\n       //what to do here?\r\n    })","title":"Break or return from Java 8 stream forEach?","body":"<p>When using <strong>external iteration</strong> over an <code>Iterable</code> we use <code>break</code> or <code>return</code> from enhanced for-each loop as:</p>\n\n<pre><code>for (SomeObject obj : someObjects) {\n   if (some_condition_met) {\n      break; // or return obj\n   }\n}\n</code></pre>\n\n<p>How can we <code>break</code> or <code>return</code> using the <strong>internal iteration</strong> in a Java 8 lambda expression like:</p>\n\n<pre><code>someObjects.forEach(obj -&gt; {\n   //what to do here?\n})\n</code></pre>\n"},{"tags":["java","datetime","date-format"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1348316546,"post_id":12543693,"comment_id":16891301,"body_markdown":"Have you tried SimpleDateFormat? Does it not work for this?","body":"Have you tried SimpleDateFormat? Does it not work for this?"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1348316578,"post_id":12543693,"comment_id":16891306,"body_markdown":"Seriously? The class to use comes as first result when googling for &quot;format date in Java&quot;","body":"Seriously? The class to use comes as first result when googling for &quot;format date in Java&quot;"},{"owner":{"account_id":1832266,"reputation":827,"user_id":1663425,"accept_rate":25,"display_name":"sharadendu sinha"},"score":0,"creation_date":1348316790,"post_id":12543693,"comment_id":133990847,"body_markdown":"Check out http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html","body":"Check out <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/text/&hellip;</a>"},{"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"score":0,"creation_date":1348316917,"post_id":12543693,"comment_id":16891369,"body_markdown":"I thought about using `SimpleDateFormat` but it doesn&#39;t handle time down to milliseconds which is why I thought I might need to switch over to `joda-time`.","body":"I thought about using <code>SimpleDateFormat</code> but it doesn&#39;t handle time down to milliseconds which is why I thought I might need to switch over to <code>joda-time</code>."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1348317025,"post_id":12543693,"comment_id":16891398,"body_markdown":"`&quot;I thought about using SimpleDateFormat but it doesn&#39;t handle time down to milliseconds&quot;` -- *really*? Are you absolutely sure? Have you reviewed the API?","body":"<code>&quot;I thought about using SimpleDateFormat but it doesn&#39;t handle time down to milliseconds&quot;</code> -- <i>really</i>? Are you absolutely sure? Have you reviewed the API?"},{"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"score":0,"creation_date":1348318118,"post_id":12543693,"comment_id":16891691,"body_markdown":"I just checked the API, and I see that I was wrong and it does handle milliseconds, however I can only use &quot;:&quot; as the delimiter between the different date/time segments, whereas here I absolutely *need* to use &quot;-&quot;, which is what the client is expecting.","body":"I just checked the API, and I see that I was wrong and it does handle milliseconds, however I can only use &quot;:&quot; as the delimiter between the different date/time segments, whereas here I absolutely <i>need</i> to use &quot;-&quot;, which is what the client is expecting."},{"owner":{"account_id":279575,"reputation":13685,"user_id":574815,"accept_rate":82,"display_name":"Dylan"},"score":2,"creation_date":1348318180,"post_id":12543693,"comment_id":16891711,"body_markdown":"And where did you come up with *that* assumption? Did you actually *try* it?","body":"And where did you come up with <i>that</i> assumption? Did you actually <i>try</i> it?"},{"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"score":0,"creation_date":1348322898,"post_id":12543693,"comment_id":16892592,"body_markdown":"Look at the &quot;Examples&quot; section on [this](http://docs.oracle.com/javase/1.4.2/docs/api/java/text/SimpleDateFormat.html) page - they clearly denote that &quot;-&quot; isn&#39;t supported, only &quot;:&quot; or concatenating all the segments together. Also, @HovercraftFullOfEels - I am here to learn and do not profess to be an expert in anything. If I have asked a strange question, it&#39;s because I don&#39;t understand it and want to learn better. It hurts my feelings when you describe my question as a &quot;*car accident in slow motion*&quot;.","body":"Look at the &quot;Examples&quot; section on <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">this</a> page - they clearly denote that &quot;-&quot; isn&#39;t supported, only &quot;:&quot; or concatenating all the segments together. Also, @HovercraftFullOfEels - I am here to learn and do not profess to be an expert in anything. If I have asked a strange question, it&#39;s because I don&#39;t understand it and want to learn better. It hurts my feelings when you describe my question as a &quot;<i>car accident in slow motion</i>&quot;."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1348323588,"post_id":12543693,"comment_id":16892746,"body_markdown":"`&quot;Look at the &quot;Examples&quot; section on this page - they clearly denote that &quot;-&quot; isn&#39;t supported, only &quot;:&quot; or concatenating all the segments together.&quot;` -- Please indicate where you see this documented as I cant find it in the API. Previous comment deleted, and please accept my apology.","body":"<code>&quot;Look at the &quot;Examples&quot; section on this page - they clearly denote that &quot;-&quot; isn&#39;t supported, only &quot;:&quot; or concatenating all the segments together.&quot;</code> -- Please indicate where you see this documented as I cant find it in the API. Previous comment deleted, and please accept my apology."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1348422416,"post_id":12543693,"comment_id":16909277,"body_markdown":"OK, well, I suppose that you&#39;ve either solved this and not informed us or have lost interest in this and not informed us.","body":"OK, well, I suppose that you&#39;ve either solved this and not informed us or have lost interest in this and not informed us."}],"answers":[{"tags":[],"owner":{"account_id":1458820,"reputation":7821,"user_id":1373711,"accept_rate":83,"display_name":"JHS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1348316585,"creation_date":1348316585,"answer_id":12543717,"question_id":12543693,"body_markdown":"You can just pass the long value to the `Date` constructor and it will give you the date.\r\n\r\nYou can then format this date to get you desired format.\r\n\r\nCode to convert to date - \r\n\r\n    long tmp = 1018021774496l;  \r\n    Date d = new Date(tmp);  \r\n    System.out.println(d); \r\n\r\nHave a look [here][1]. Its the first result in Google ;) \r\n\r\n\r\n  [1]: http://www.coderanch.com/t/391375/java/java/Convert-long-date","title":"Formatting Java Date and Time in Millis","body":"<p>You can just pass the long value to the <code>Date</code> constructor and it will give you the date.</p>\n\n<p>You can then format this date to get you desired format.</p>\n\n<p>Code to convert to date - </p>\n\n<pre><code>long tmp = 1018021774496l;  \nDate d = new Date(tmp);  \nSystem.out.println(d); \n</code></pre>\n\n<p>Have a look <a href=\"http://www.coderanch.com/t/391375/java/java/Convert-long-date\" rel=\"nofollow\">here</a>. Its the first result in Google ;) </p>\n"},{"tags":[],"owner":{"account_id":231365,"reputation":2941,"user_id":495558,"accept_rate":87,"display_name":"Genzer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1348322681,"creation_date":1348322681,"answer_id":12544431,"question_id":12543693,"body_markdown":"`SimpleDateFormat` is a common tool for formatting date/time in Java. You just need to specify the pattern that you want to represent the date/time.\r\n\r\n    Date now = new Date();\r\n    // or you can use\r\n    // long millis = System.currentTimeInMillis();\r\n    // Date now = new Date(millis);\r\n    \r\n    String datePattern = &quot;yyyy-mm-dd HH-MM-SS&quot;;\r\n    SimpleDateFormat formatter = new SimpleDateFormat(datePattern);\r\n    String formattedDate = formatter.format(now);","title":"Formatting Java Date and Time in Millis","body":"<p><code>SimpleDateFormat</code> is a common tool for formatting date/time in Java. You just need to specify the pattern that you want to represent the date/time.</p>\n\n<pre><code>Date now = new Date();\n// or you can use\n// long millis = System.currentTimeInMillis();\n// Date now = new Date(millis);\n\nString datePattern = \"yyyy-mm-dd HH-MM-SS\";\nSimpleDateFormat formatter = new SimpleDateFormat(datePattern);\nString formattedDate = formatter.format(now);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1482803696,"creation_date":1482803696,"answer_id":41338078,"question_id":12543693,"body_markdown":"# tl;dr\r\n\r\n    OffsetDateTime.now( ZoneOffset.UTC ).toLocalDate().toString()\r\n\r\n&gt;2016-01-23\r\n\r\n…and…\r\n\r\n    OffsetDateTime.now( ZoneOffset.UTC ).toLocalTime().toString()\r\n\r\n&gt;12:34:56.789\r\n\r\n# Using java.time\r\n\r\nThe “clean, modern way” would be using java.time classes. \r\n\r\nNo need to call `System.currentTimeInMillis()`. The java.time classes can capture the current moment.\r\n\r\nIf you want the current moment in UTC, use an `Instant`.\r\n\r\n    Instant instant = Instant.now();\r\n\r\nFor formatting, morph that into the more flexible `OffsetDateTime`.\r\n\r\n    OffsetDateTime odt = instant.atOffset( ZoneOffset.UTC );\r\n\r\nTo generate strings, you could define a `DateTimeFormatter` object. But in your case, the desired output happens to conform to the standard ISO 8601 formats used by default in the java.time classes.\r\n\r\nSo, for the date-only portion, use a `LocalDate`. For time-of-day portion, `LocalTime`. Call their `toString` methods.\r\n\r\n    String dateOnly = odt.toLocalDate().toString();\r\n    String timeOnly = odt.toLocalTime().toString();\r\n\r\n## Resolution\r\n\r\nNote that while java.time classes resolve to [nanoseconds][1], capturing the current moment in Java 8 is limited to [milliseconds][2]. In Java 9, a new implementation of [`Clock`][3] provides capturing the current moment in nanoseconds (or as best your computer clock hardware can provide).\r\n\r\n----------\r\n\r\n# About java.time\r\n\r\nThe [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/8/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/8/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [Joda-Time](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) classes.\r\n\r\nTo learn more, see the [Oracle Tutorial](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8) and [**SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9) and later\r\n  - Built-in. \r\n  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Much of the java.time functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - The [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts *ThreeTen-Backport* (mentioned above) for Android specifically.\r\n  - See [*How to use ThreeTenABP…*](https://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [ThreeTen-Extra](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Nanosecond\r\n  [2]: https://en.wikipedia.org/wiki/Millisecond\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/time/Clock.html","title":"Formatting Java Date and Time in Millis","body":"<h1>tl;dr</h1>\n\n<pre><code>OffsetDateTime.now( ZoneOffset.UTC ).toLocalDate().toString()\n</code></pre>\n\n<blockquote>\n  <p>2016-01-23</p>\n</blockquote>\n\n<p>…and…</p>\n\n<pre><code>OffsetDateTime.now( ZoneOffset.UTC ).toLocalTime().toString()\n</code></pre>\n\n<blockquote>\n  <p>12:34:56.789</p>\n</blockquote>\n\n<h1>Using java.time</h1>\n\n<p>The “clean, modern way” would be using java.time classes. </p>\n\n<p>No need to call <code>System.currentTimeInMillis()</code>. The java.time classes can capture the current moment.</p>\n\n<p>If you want the current moment in UTC, use an <code>Instant</code>.</p>\n\n<pre><code>Instant instant = Instant.now();\n</code></pre>\n\n<p>For formatting, morph that into the more flexible <code>OffsetDateTime</code>.</p>\n\n<pre><code>OffsetDateTime odt = instant.atOffset( ZoneOffset.UTC );\n</code></pre>\n\n<p>To generate strings, you could define a <code>DateTimeFormatter</code> object. But in your case, the desired output happens to conform to the standard ISO 8601 formats used by default in the java.time classes.</p>\n\n<p>So, for the date-only portion, use a <code>LocalDate</code>. For time-of-day portion, <code>LocalTime</code>. Call their <code>toString</code> methods.</p>\n\n<pre><code>String dateOnly = odt.toLocalDate().toString();\nString timeOnly = odt.toLocalTime().toString();\n</code></pre>\n\n<h2>Resolution</h2>\n\n<p>Note that while java.time classes resolve to <a href=\"https://en.wikipedia.org/wiki/Nanosecond\" rel=\"nofollow noreferrer\">nanoseconds</a>, capturing the current moment in Java 8 is limited to <a href=\"https://en.wikipedia.org/wiki/Millisecond\" rel=\"nofollow noreferrer\">milliseconds</a>. In Java 9, a new implementation of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Clock.html\" rel=\"nofollow noreferrer\"><code>Clock</code></a> provides capturing the current moment in nanoseconds (or as best your computer clock hardware can provide).</p>\n\n<hr>\n\n<h1>About java.time</h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda-Time</a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\">Oracle Tutorial</a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310</a>.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"nofollow noreferrer\"><strong>Java SE 8</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"nofollow noreferrer\"><strong>SE 9</strong></a> and later\n\n<ul>\n<li>Built-in. </li>\n<li>Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"nofollow noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"nofollow noreferrer\"><strong>SE 7</strong></a>\n\n<ul>\n<li>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"nofollow noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>The <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><strong><em>ThreeTenABP</em></strong></a> project adapts <em>ThreeTen-Backport</em> (mentioned above) for Android specifically.</li>\n<li>See <a href=\"https://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul></li>\n</ul>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\">ThreeTen-Extra</a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"nofollow noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"nofollow noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"nofollow noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"nofollow noreferrer\">more</a>.</p>\n"}],"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3888,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":3,"score":-3,"last_activity_date":1680894366,"creation_date":1348316398,"question_id":12543693,"body_markdown":"What&#39;s a clean, modern way of formatting Java `Date` and `Time` from `System.currentTimeInMillis()` so that the formatting is as follows:\r\n\r\n* For `Date`: `YYYY-MM-DD`\r\n* For `Time`: `HH-MM-SS-mmmm`, where `HH` is a 2-digit hour, `MM` is a 2-digit minute, `SS` is a 2-digit second, and `mmm` is a 3-digit millisecond\r\n\r\nLooking to get the formatting Date/Time of the current instant (now). Something like:\r\n\r\n    long current = System.currentTimeInMillis();\r\n    String formattedDate = getFormattedDateFromCurrent(current);\r\n    String formattedTime = getFormattedTimeFromCurrent(current);\r\n\r\nDon&#39;t know if raw Java can do this, or if I have to switch over to something like `joda-time`. Thanks in advance!","title":"Formatting Java Date and Time in Millis","body":"<p>What's a clean, modern way of formatting Java <code>Date</code> and <code>Time</code> from <code>System.currentTimeInMillis()</code> so that the formatting is as follows:</p>\n\n<ul>\n<li>For <code>Date</code>: <code>YYYY-MM-DD</code></li>\n<li>For <code>Time</code>: <code>HH-MM-SS-mmmm</code>, where <code>HH</code> is a 2-digit hour, <code>MM</code> is a 2-digit minute, <code>SS</code> is a 2-digit second, and <code>mmm</code> is a 3-digit millisecond</li>\n</ul>\n\n<p>Looking to get the formatting Date/Time of the current instant (now). Something like:</p>\n\n<pre><code>long current = System.currentTimeInMillis();\nString formattedDate = getFormattedDateFromCurrent(current);\nString formattedTime = getFormattedTimeFromCurrent(current);\n</code></pre>\n\n<p>Don't know if raw Java can do this, or if I have to switch over to something like <code>joda-time</code>. Thanks in advance!</p>\n"},{"tags":["java","junit4","vert.x"],"comments":[{"owner":{"account_id":5191510,"reputation":1415,"user_id":4154302,"display_name":"Asad Awadia"},"score":0,"creation_date":1681176714,"post_id":75961197,"comment_id":134010937,"body_markdown":"what does the hello method do? Is that deadlocking? I do think they are using different service objects","body":"what does the hello method do? Is that deadlocking? I do think they are using different service objects"},{"owner":{"account_id":2270024,"reputation":1657,"user_id":1997707,"accept_rate":80,"display_name":"John Mercier"},"score":0,"creation_date":1681328349,"post_id":75961197,"comment_id":134040494,"body_markdown":"It is in the linked repo. `&quot;Hello %s&quot;.formatted(name)`.","body":"It is in the linked repo. <code>&quot;Hello %s&quot;.formatted(name)</code>."}],"owner":{"account_id":2270024,"reputation":1657,"user_id":1997707,"accept_rate":80,"display_name":"John Mercier"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680893186,"creation_date":1680893186,"question_id":75961197,"body_markdown":"I wrote a small example of an issue I am having with sharing a service between a set of test classes. What I did was write a base class and extend it in the other classes.\r\n\r\n```\r\n@RunWith(VertxUnitRunner.class)\r\npublic abstract class BaseTest {\r\n\r\n    @ClassRule\r\n    public static final RunTestOnContext contextRule = new RunTestOnContext();\r\n\r\n    @ClassRule\r\n    public static final Timeout timeout = Timeout.seconds(2);\r\n\r\n    static HelloService service;\r\n\r\n    @BeforeClass\r\n    public static void setupClass(TestContext context) {\r\n        contextRule.vertx().exceptionHandler(context.exceptionHandler());\r\n        contextRule.vertx().deployVerticle(new HelloVerticle(), context.asyncAssertSuccess(result -&gt; {\r\n            Assertions.assertThat(result).isNotBlank();\r\n        }));\r\n        service = HelloService.createProxy(contextRule.vertx(), VERTX_HELLO_SERVICE);\r\n    }\r\n\r\n    @AfterClass\r\n    public static void teardownClass(TestContext context) {\r\n        contextRule.vertx().close(context.asyncAssertSuccess());\r\n    }\r\n}\r\n```\r\n\r\nAnd I have two test classes.\r\n\r\n```\r\npublic class HelloTest extends BaseTest {\r\n\r\n    @Test\r\n    public void test(TestContext context) {\r\n        service.hello(&quot;John&quot;, context.asyncAssertSuccess(r -&gt; {\r\n           assertThat(r).isEqualTo(&quot;Hello John&quot;);\r\n        }));\r\n    }\r\n}\r\n```\r\n\r\nand\r\n\r\n```\r\npublic class Hello2Test extends BaseTest {\r\n    @Test\r\n    public void test(TestContext context) {\r\n        service.hello(&quot;John2&quot;, context.asyncAssertSuccess(r -&gt; {\r\n           assertThat(r).isEqualTo(&quot;Hello John2&quot;);\r\n        }));\r\n    }\r\n}\r\n```\r\n\r\nEach class can run individually but when they are run together from intellij or from the `mvn test`, one class will run and the tests will freeze and never fail. Even with the timeout rule.\r\n\r\nWhat is causing this issue and is there a better solution to sharing the service in other tests. My goal is to not need to startup the verticle multiple times in the tests.\r\n\r\nThese tests are in junit4. I added the example repo [here][1].\r\n\r\n\r\n  [1]: https://github.com/moaxcp/vertx-examples","title":"How to share service between tests in vertx","body":"<p>I wrote a small example of an issue I am having with sharing a service between a set of test classes. What I did was write a base class and extend it in the other classes.</p>\n<pre><code>@RunWith(VertxUnitRunner.class)\npublic abstract class BaseTest {\n\n    @ClassRule\n    public static final RunTestOnContext contextRule = new RunTestOnContext();\n\n    @ClassRule\n    public static final Timeout timeout = Timeout.seconds(2);\n\n    static HelloService service;\n\n    @BeforeClass\n    public static void setupClass(TestContext context) {\n        contextRule.vertx().exceptionHandler(context.exceptionHandler());\n        contextRule.vertx().deployVerticle(new HelloVerticle(), context.asyncAssertSuccess(result -&gt; {\n            Assertions.assertThat(result).isNotBlank();\n        }));\n        service = HelloService.createProxy(contextRule.vertx(), VERTX_HELLO_SERVICE);\n    }\n\n    @AfterClass\n    public static void teardownClass(TestContext context) {\n        contextRule.vertx().close(context.asyncAssertSuccess());\n    }\n}\n</code></pre>\n<p>And I have two test classes.</p>\n<pre><code>public class HelloTest extends BaseTest {\n\n    @Test\n    public void test(TestContext context) {\n        service.hello(&quot;John&quot;, context.asyncAssertSuccess(r -&gt; {\n           assertThat(r).isEqualTo(&quot;Hello John&quot;);\n        }));\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>public class Hello2Test extends BaseTest {\n    @Test\n    public void test(TestContext context) {\n        service.hello(&quot;John2&quot;, context.asyncAssertSuccess(r -&gt; {\n           assertThat(r).isEqualTo(&quot;Hello John2&quot;);\n        }));\n    }\n}\n</code></pre>\n<p>Each class can run individually but when they are run together from intellij or from the <code>mvn test</code>, one class will run and the tests will freeze and never fail. Even with the timeout rule.</p>\n<p>What is causing this issue and is there a better solution to sharing the service in other tests. My goal is to not need to startup the verticle multiple times in the tests.</p>\n<p>These tests are in junit4. I added the example repo <a href=\"https://github.com/moaxcp/vertx-examples\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":["java","android","objective-c","react-native","react-native-native-module"],"answers":[{"tags":[],"owner":{"account_id":28243424,"reputation":1,"user_id":21590868,"display_name":"Valentin Kisimov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680892919,"creation_date":1680892919,"answer_id":75961170,"question_id":61854949,"body_markdown":"I see that the thread is quite old, but this can be useful in the future.\r\n\r\nA way that works for me is encoding the bitmap to Base64.\r\n\r\nJava Side:\r\n\r\n    iconBase64 = Base64.encodeToString(byteArray, Base64.DEFAULT);\r\n\r\nReact-native side:\r\n\r\n       &lt;Image source={{uri: `data:image/png;base64,${props.item.iconBase64}`}}/&gt;\r\n\r\nIf needed you can even compress the image:\r\n\r\n    bitmap.compress(Bitmap.CompressFormat.PNG, 10, byteArrayOutputStream);\r\n\r\n\r\n","title":"Display png image from native module in react native","body":"<p>I see that the thread is quite old, but this can be useful in the future.</p>\n<p>A way that works for me is encoding the bitmap to Base64.</p>\n<p>Java Side:</p>\n<pre><code>iconBase64 = Base64.encodeToString(byteArray, Base64.DEFAULT);\n</code></pre>\n<p>React-native side:</p>\n<pre><code>   &lt;Image source={{uri: `data:image/png;base64,${props.item.iconBase64}`}}/&gt;\n</code></pre>\n<p>If needed you can even compress the image:</p>\n<pre><code>bitmap.compress(Bitmap.CompressFormat.PNG, 10, byteArrayOutputStream);\n</code></pre>\n"}],"owner":{"account_id":15543881,"reputation":21,"user_id":11213774,"display_name":"Sourav Yadav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":800,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1680892919,"creation_date":1589732062,"question_id":61854949,"body_markdown":"I have a slider component which I want to have a handle as png image pass as a prop. Now, I want that png image to pass through react native to native modules(android and ios both). The component is written at native side for both ios(Objective C) and android(Java).\r\n\r\n 1. How can I pass png image as a prop to native modules?\r\n 2. How can I use them at native Java part?(I am using Canvas to draw my\r\n    slider as shown below).\r\n 3. How can I use them at native Objective C?(I am using CGContext to\r\n    draw my slider).\r\n\r\nWhat I have tried:\r\n\r\n 1. I resolved path of png image by following code at React Native side.\r\n````\r\n  const myImage = require(&#39;../assets/slider-handle.png&#39;);\r\n  const resolveAssetSource = require(&#39;react-native/Libraries/Image/resolveAssetSource&#39;);\r\n  const resolvedImage = resolveAssetSource(myImage); \r\n````\r\nThen pass the path of image as a prop ````imagePath={resolvedImage.uri}````.\r\n\r\nThen at Java part I do following:\r\n ```` \r\npublic void drawImage(String imagePath, Canvas canvas, int x, int y) {\r\n      Bitmap bitmap = BitmapFactory.decodeFile(imagePath);\r\n      canvas.drawBitmap(bitmap, y, x, somePaintValue);\r\n}\r\n````\r\nI am getting the path of image(the path is something like this: (*http:/10.0.2.2:8081/assets/app/components/slider/assets/slider.png*), I have verified that at native side by consoling the path.\r\n\r\nNot sure if I need to pass only path of image or maybe there is a way to pass whole png.\r\nThis is my first time working with Java and Objective C.\r\n[This is the slider I am developing.][1] \r\nAny help will be really appreciated.\r\n\r\n  [1]: https://i.stack.imgur.com/dQiBt.png","title":"Display png image from native module in react native","body":"<p>I have a slider component which I want to have a handle as png image pass as a prop. Now, I want that png image to pass through react native to native modules(android and ios both). The component is written at native side for both ios(Objective C) and android(Java).</p>\n\n<ol>\n<li>How can I pass png image as a prop to native modules?</li>\n<li>How can I use them at native Java part?(I am using Canvas to draw my\nslider as shown below).</li>\n<li>How can I use them at native Objective C?(I am using CGContext to\ndraw my slider).</li>\n</ol>\n\n<p>What I have tried:</p>\n\n<ol>\n<li>I resolved path of png image by following code at React Native side.</li>\n</ol>\n\n<pre><code>  const myImage = require('../assets/slider-handle.png');\n  const resolveAssetSource = require('react-native/Libraries/Image/resolveAssetSource');\n  const resolvedImage = resolveAssetSource(myImage); \n</code></pre>\n\n<p>Then pass the path of image as a prop <code>imagePath={resolvedImage.uri}</code>.</p>\n\n<p>Then at Java part I do following:</p>\n\n<pre><code>public void drawImage(String imagePath, Canvas canvas, int x, int y) {\n     Bitmap bitmap = BitmapFactory.decodeFile(imagePath);\n     canvas.drawBitmap(bitmap, y, x, somePaintValue);\n}\n</code></pre>\n\n<p>I am getting the path of image(the path is something like this: (<em>http:/10.0.2.2:8081/assets/app/components/slider/assets/slider.png</em>), I have verified that at native side by consoling the path.</p>\n\n<p>Not sure if I need to pass only path of image or maybe there is a way to pass whole png.\nThis is my first time working with Java and Objective C.\n<a href=\"https://i.stack.imgur.com/dQiBt.png\" rel=\"nofollow noreferrer\">This is the slider I am developing.</a> \nAny help will be really appreciated.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1281728,"reputation":73126,"user_id":1235698,"accept_rate":100,"display_name":"Marcin Orlowski"},"score":0,"creation_date":1680890634,"post_id":75960923,"comment_id":133977037,"body_markdown":"What the error? What&#39;s in logcat?","body":"What the error? What&#39;s in logcat?"},{"owner":{"account_id":25867309,"reputation":1,"user_id":19598753,"display_name":"cls"},"score":0,"creation_date":1680892103,"post_id":75960923,"comment_id":133977295,"body_markdown":"@MarcinOrlowski I added a screenshots of the logcats                      https://i.stack.imgur.com/SAOYD.png","body":"@MarcinOrlowski I added a screenshots of the logcats                      <a href=\"https://i.stack.imgur.com/SAOYD.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/SAOYD.png</a>"},{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":0,"creation_date":1680899201,"post_id":75960923,"comment_id":133978469,"body_markdown":"Have you logged in the button click and `onCreate` of Activity 3 to confirm they are being called as expected? What does MainActivity3 look like?","body":"Have you logged in the button click and <code>onCreate</code> of Activity 3 to confirm they are being called as expected? What does MainActivity3 look like?"}],"owner":{"account_id":25867309,"reputation":1,"user_id":19598753,"display_name":"cls"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680892799,"creation_date":1680890531,"question_id":75960923,"body_markdown":"I try to redirect my app to activity_main3 with Intent but for some reason I can&#39;t figure out why it is redirecting to activity_main2. I have one button and a listView click event which are supposed to handle this transition correctly,I think they are linked with the correct ids   and the code compiles. Even debugger finds activity_main3 but the emulator still show the activity_main2. Do you have any idea?\r\n\r\n\r\nReferences to the button and listView:\r\n\r\n```\r\n        textViewCities = findViewById(R.id.listViewFirestore);\r\n        recyclerRedirect = findViewById(R.id.firestoreRecycler);\r\n\r\n```\r\n\r\nthey exist on the respective xml files\r\n\r\n```    \r\n    &lt;Button\r\n        android:id=&quot;@+id/firestoreRecycler&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/delAccount&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        android:hint=&quot;testingRecyclerViewFirestore&quot;\r\n        /&gt;\r\n\r\n    &lt;ListView\r\n        android:id=&quot;@+id/listViewFirestore&quot;\r\n        android:layout_width=&quot;300dp&quot;\r\n        android:layout_height=&quot;400dp&quot;\r\n        android:paddingTop=&quot;30dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/signOut&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.428&quot; /&gt;\r\n```\r\n\r\nI need this button to send me to main_activity3 but it sends me the content of main_activity2\r\n\r\n```\r\n    recyclerRedirect.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent d = new Intent(MainActivity.this, MainActivity3.class);\r\n                d.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                startActivity(d);\r\n            }\r\n        });\r\n```\r\n\r\nthis listView click event that sends to main_activity2 works correctly.\r\nBoth  are instantiated in the first main activity under the method on create. \r\n\r\n```\r\n  textViewCities.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n\r\n            @Override\r\n            public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n\r\n                clickedCity = (City)  adapterView.getItemAtPosition(i);\r\n\r\n\r\n                Bundle bundle = new Bundle();\r\n\r\n                bundle.putString(&quot;country&quot;, clickedCity.getCountry());\r\n                bundle.putString(&quot;name&quot;, clickedCity.getName());\r\n                bundle.putLong(&quot;population&quot;, clickedCity.getPopulation());\r\n\r\n\r\n                Intent c = new Intent(getApplicationContext(), MainActivity2.class);\r\n                c.putExtras(bundle);\r\n               startActivity(c);\r\n\r\n            }\r\n        });\r\n```\r\n\r\nimage of logcats after clicking the button:\r\n\r\n![x](https://i.stack.imgur.com/SAOYD.png)","title":"Android Intent class not redirecting to desired activity","body":"<p>I try to redirect my app to activity_main3 with Intent but for some reason I can't figure out why it is redirecting to activity_main2. I have one button and a listView click event which are supposed to handle this transition correctly,I think they are linked with the correct ids   and the code compiles. Even debugger finds activity_main3 but the emulator still show the activity_main2. Do you have any idea?</p>\n<p>References to the button and listView:</p>\n<pre><code>        textViewCities = findViewById(R.id.listViewFirestore);\n        recyclerRedirect = findViewById(R.id.firestoreRecycler);\n\n</code></pre>\n<p>they exist on the respective xml files</p>\n<pre><code>    &lt;Button\n        android:id=&quot;@+id/firestoreRecycler&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/delAccount&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        android:hint=&quot;testingRecyclerViewFirestore&quot;\n        /&gt;\n\n    &lt;ListView\n        android:id=&quot;@+id/listViewFirestore&quot;\n        android:layout_width=&quot;300dp&quot;\n        android:layout_height=&quot;400dp&quot;\n        android:paddingTop=&quot;30dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/signOut&quot;\n        app:layout_constraintVertical_bias=&quot;0.428&quot; /&gt;\n</code></pre>\n<p>I need this button to send me to main_activity3 but it sends me the content of main_activity2</p>\n<pre><code>    recyclerRedirect.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent d = new Intent(MainActivity.this, MainActivity3.class);\n                d.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                startActivity(d);\n            }\n        });\n</code></pre>\n<p>this listView click event that sends to main_activity2 works correctly.\nBoth  are instantiated in the first main activity under the method on create.</p>\n<pre><code>  textViewCities.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n\n            @Override\n            public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n\n                clickedCity = (City)  adapterView.getItemAtPosition(i);\n\n\n                Bundle bundle = new Bundle();\n\n                bundle.putString(&quot;country&quot;, clickedCity.getCountry());\n                bundle.putString(&quot;name&quot;, clickedCity.getName());\n                bundle.putLong(&quot;population&quot;, clickedCity.getPopulation());\n\n\n                Intent c = new Intent(getApplicationContext(), MainActivity2.class);\n                c.putExtras(bundle);\n               startActivity(c);\n\n            }\n        });\n</code></pre>\n<p>image of logcats after clicking the button:</p>\n<p><img src=\"https://i.stack.imgur.com/SAOYD.png\" alt=\"x\" /></p>\n"},{"tags":["java","spring-boot","netty"],"answers":[{"tags":[],"owner":{"account_id":5747167,"reputation":316,"user_id":4538070,"display_name":"KevinC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680892609,"creation_date":1680892024,"answer_id":75961079,"question_id":66806605,"body_markdown":"You&#39;re almost there. I&#39;m using Spring Boot 3.0.4\r\n\r\nThe application config looks correct, but you&#39;ll need to add a WebFluxConfigurer...\r\n\r\n        @Configuration\r\n        public class GeodataConfigurer implements WebFluxConfigurer {\r\n            @Override\r\n            public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n                var mimeTypes = new HashMap&lt;String, MediaType&gt;();\r\n                mimeTypes.put(&quot;geojson&quot;, MediaType.parseMediaType(&quot;application/geo+json&quot;));\r\n                registry.addResourceHandler(&quot;/World_Countries_Boundaries.geojson&quot;)\r\n                        .addResourceLocations(&quot;classpath://internal/\r\n    World_Countries_Boundaries.geojson&quot;)\r\n                        .setMediaTypes(mimeTypes);\r\n            }\r\n        }","title":"spring-boot with netty project is unable to recognize .geojson file mime type for compression","body":"<p>You're almost there. I'm using Spring Boot 3.0.4</p>\n<p>The application config looks correct, but you'll need to add a WebFluxConfigurer...</p>\n<pre><code>    @Configuration\n    public class GeodataConfigurer implements WebFluxConfigurer {\n        @Override\n        public void addResourceHandlers(ResourceHandlerRegistry registry) {\n            var mimeTypes = new HashMap&lt;String, MediaType&gt;();\n            mimeTypes.put(&quot;geojson&quot;, MediaType.parseMediaType(&quot;application/geo+json&quot;));\n            registry.addResourceHandler(&quot;/World_Countries_Boundaries.geojson&quot;)\n                    .addResourceLocations(&quot;classpath://internal/\nWorld_Countries_Boundaries.geojson&quot;)\n                    .setMediaTypes(mimeTypes);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":2270024,"reputation":1657,"user_id":1997707,"accept_rate":80,"display_name":"John Mercier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1680892609,"creation_date":1616701708,"question_id":66806605,"body_markdown":"I have a spring-boot/netty application setup to serve some static file from `main/resource/static`. The application is also setup for compression.\r\n\r\n\r\n```\r\nserver:\r\n  compression:\r\n    enabled: true\r\n    mime-types: application/geo+json, application/geo+json-seq, text/html, text/xml, text/plain, text/css, text/javascript, application/javascript, application/json, image/jpeg, application/vnd.geo+json\r\n    min-response-size: 2KB\r\n```\r\n\r\nOne of the files is `World_Countries_Boundaries.geojson` which is roughly 10MB and contains country boundaries.\r\n\r\nThe goal is to get this file gzip encoded.\r\n\r\nThis file should be considered `application/geo+json` but the response header shows `application/octet-stream`. It should also be gzip encoded.\r\n\r\n[![response headers][1]][1]\r\n\r\nHow can I get this file to compress? My first thought was that spring is not resolving the mime-type correctly. This let me to an answer [here](https://stackoverflow.com/a/47263286/1997707). But this answer is only for a servlet container. My application is using netty. So I tried the netty factory.\r\n\r\n```\r\nimport org.springframework.boot.web.embedded.netty.NettyReactiveWebServerFactory;\r\nimport org.springframework.boot.web.server.MimeMappings;\r\nimport org.springframework.boot.web.server.WebServerFactoryCustomizer;\r\nimport org.springframework.context.annotation.Configuration;\r\n@Configuration\r\npublic class CustomMimeMappings implements WebServerFactoryCustomizer&lt;NettyReactiveWebServerFactory&gt; {\r\n    @Override\r\n    public void customize(NettyReactiveWebServerFactory factory) {\r\n        MimeMappings mappings = new MimeMappings(MimeMappings.DEFAULT);\r\n        mappings.add(&quot;geojson&quot;, &quot;application/geo+json&quot;);\r\n        factory.setMimeMappings(mappings);\r\n    }\r\n}\r\n```\r\n\r\nThis solution does not compile because the netty factory does not have a `setMimeMappings` method. This is where I am stuck.\r\n\r\nHow do I configure the application to correctly resolve the mime-type and compress this geojson file?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9uHat.png","title":"spring-boot with netty project is unable to recognize .geojson file mime type for compression","body":"<p>I have a spring-boot/netty application setup to serve some static file from <code>main/resource/static</code>. The application is also setup for compression.</p>\n<pre><code>server:\n  compression:\n    enabled: true\n    mime-types: application/geo+json, application/geo+json-seq, text/html, text/xml, text/plain, text/css, text/javascript, application/javascript, application/json, image/jpeg, application/vnd.geo+json\n    min-response-size: 2KB\n</code></pre>\n<p>One of the files is <code>World_Countries_Boundaries.geojson</code> which is roughly 10MB and contains country boundaries.</p>\n<p>The goal is to get this file gzip encoded.</p>\n<p>This file should be considered <code>application/geo+json</code> but the response header shows <code>application/octet-stream</code>. It should also be gzip encoded.</p>\n<p><a href=\"https://i.stack.imgur.com/9uHat.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9uHat.png\" alt=\"response headers\" /></a></p>\n<p>How can I get this file to compress? My first thought was that spring is not resolving the mime-type correctly. This let me to an answer <a href=\"https://stackoverflow.com/a/47263286/1997707\">here</a>. But this answer is only for a servlet container. My application is using netty. So I tried the netty factory.</p>\n<pre><code>import org.springframework.boot.web.embedded.netty.NettyReactiveWebServerFactory;\nimport org.springframework.boot.web.server.MimeMappings;\nimport org.springframework.boot.web.server.WebServerFactoryCustomizer;\nimport org.springframework.context.annotation.Configuration;\n@Configuration\npublic class CustomMimeMappings implements WebServerFactoryCustomizer&lt;NettyReactiveWebServerFactory&gt; {\n    @Override\n    public void customize(NettyReactiveWebServerFactory factory) {\n        MimeMappings mappings = new MimeMappings(MimeMappings.DEFAULT);\n        mappings.add(&quot;geojson&quot;, &quot;application/geo+json&quot;);\n        factory.setMimeMappings(mappings);\n    }\n}\n</code></pre>\n<p>This solution does not compile because the netty factory does not have a <code>setMimeMappings</code> method. This is where I am stuck.</p>\n<p>How do I configure the application to correctly resolve the mime-type and compress this geojson file?</p>\n"},{"tags":["java","database","postgresql","spring-boot","flyway"],"comments":[{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":0,"creation_date":1680620892,"post_id":75930947,"comment_id":133927141,"body_markdown":"Please read [ask]. Everything should be English, directly here, with a [mre]. Personal help is not what StackOverflow offers. Please take the [tour], it would have helped you with most of those problems.","body":"Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. Everything should be English, directly here, with a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Personal help is not what StackOverflow offers. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a>, it would have helped you with most of those problems."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1680621126,"post_id":75930947,"comment_id":133927222,"body_markdown":"No joke, instead of `localhost:5432` try `0.0.0.0:5432`. Also `jdbc:postgresql://postgres:5432/news-portal` should probably be `jdbc:postgresql://0.0.0.0:5432/news-portal` -- not sure why you put `postgres` for host.","body":"No joke, instead of <code>localhost:5432</code> try <code>0.0.0.0:5432</code>. Also <code>jdbc:postgresql:&#47;&#47;postgres:5432&#47;news-portal</code> should probably be <code>jdbc:postgresql:&#47;&#47;0.0.0.0:5432&#47;news-portal</code> -- not sure why you put <code>postgres</code> for host."},{"owner":{"account_id":14524487,"reputation":1,"user_id":18534333,"display_name":"Aida"},"score":0,"creation_date":1680633750,"post_id":75930947,"comment_id":133930506,"body_markdown":"I did it following the tutorials on youtube, &#39;postgres&#39; is the name of the container. and according to the tutorial in application.properties i should change it into the name of db container, as i understood)","body":"I did it following the tutorials on youtube, &#39;postgres&#39; is the name of the container. and according to the tutorial in application.properties i should change it into the name of db container, as i understood)"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1680779600,"post_id":75930947,"comment_id":133957437,"body_markdown":"The error suggest that your application is using `jdbc:postgresql://localhost:5432/news_portal` instead of `jdbc:postgresql://postgresqldb:5432/news_portal`","body":"The error suggest that your application is using <code>jdbc:postgresql:&#47;&#47;localhost:5432&#47;news_portal</code> instead of <code>jdbc:postgresql:&#47;&#47;postgresqldb:5432&#47;news_portal</code>"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1680779630,"post_id":75930947,"comment_id":133957450,"body_markdown":"@ElliottFrisch Communication between docker-compose defined machines needs to use the hostnames/containernames defined in the docker-compose file.","body":"@ElliottFrisch Communication between docker-compose defined machines needs to use the hostnames/containernames defined in the docker-compose file."},{"owner":{"account_id":14524487,"reputation":1,"user_id":18534333,"display_name":"Aida"},"score":0,"creation_date":1680891984,"post_id":75930947,"comment_id":133977275,"body_markdown":"@MarkRotteveel thanks for answer, but even when i changed localhost to postgresqldb i&#39;m getting same error","body":"@MarkRotteveel thanks for answer, but even when i changed localhost to postgresqldb i&#39;m getting same error"},{"owner":{"account_id":15874551,"reputation":101,"user_id":11454171,"display_name":"Gayathry S"},"score":0,"creation_date":1688702803,"post_id":75930947,"comment_id":135112181,"body_markdown":"@Aida I have a very similar setup. I used the ```host.docker.internal``` instead of localhost or container name like jdbc:postgresql://host.docker.internal:5432/news_portal and this works fine for me. Could you try the same?","body":"@Aida I have a very similar setup. I used the <code>host.docker.internal</code> instead of localhost or container name like jdbc:postgresql://host.docker.internal:5432/news_portal and this works fine for me. Could you try the same?"}],"owner":{"account_id":14524487,"reputation":1,"user_id":18534333,"display_name":"Aida"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":737,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680891712,"creation_date":1680620505,"question_id":75930947,"body_markdown":"I&#39;m getting this message: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections. i can&#39;t find what is wrong, please help me \r\nhere&#39;s my docker-compose file \r\n\r\n\r\n```\r\nservices:\r\n  postgresqldb:\r\n    image: &#39;postgres:15.1&#39;\r\n    container_name: &#39;postgresqldb&#39;\r\n    ports:\r\n      - 5432:5432\r\n    expose:\r\n      - 5432\r\n    environment:\r\n      POSTGRES_USER: postgres\r\n      POSTGRES_PASSWORD: 1234\r\n      POSTGRES_ROOT_PASSWORD: 1234\r\n      POSTGRES_DATABASE: news_portal\r\n      PGDATA: /data/postgres\r\n      POSTGRES_HOST_AUTH_METHOD: trust\r\n    networks:\r\n      - apinetwork\r\n    volumes:\r\n      - ./postgresql/:/var/lib/postgresql/data/\r\n    healthcheck:\r\n      test: [ &quot;CMD-SHELL&quot;, &quot;pg_isready -U postgres&quot; ]\r\n      interval: 30s\r\n      timeout: 10s\r\n      retries: 5\r\n\r\n  app:\r\n    container_name: &#39;news-portal&#39;\r\n    image: news-portal\r\n    build:\r\n      context: .\r\n    restart: always\r\n    ports:\r\n      - 8080:8080\r\n    expose:\r\n      - 8080\r\n    environment:\r\n      SPRING_DATASOURCE_URL: jdbc:postgresql://postgresqldb:5432/news_portal\r\n      SPRING_DATASOURCE_USERNAME: postgres\r\n      SPRING_DATASOURCE_PASSWORD: 1234\r\n      SPRING_JPA_HIBERNATE_DDL_AUTO: create-drop\r\n    depends_on:\r\n      - postgresqldb\r\n    networks:\r\n      - apinetwork\r\n\r\nnetworks:\r\n  apinetwork:\r\n    driver: bridge\r\n\r\n\r\n```\r\n\r\nand the Dockerfile:\r\n\r\n```\r\nFROM maven:3.8.6 AS build\r\nWORKDIR /app\r\nCOPY pom.xml /app\r\nRUN mvn dependency:resolve\r\nCOPY . /app\r\nRUN mvn clean\r\nRUN mvn package -DskipTests\r\n\r\nFROM openjdk:17-jdk-alpine\r\nCOPY --from=build /app/target/*.jar app.jar\r\nEXPOSE 8080\r\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;app.jar&quot;]\r\n```\r\n\r\n\r\nThe application.propeties file\r\n```\r\n# Server configs\r\nserver.port=8080\r\n\r\nserver.servlet.context-path=/\r\n\r\nspring.jackson.serialization.write_dates_as_timestamps=false\r\nspring.mvc.pathmatch.matching-strategy=ant_path_matcher\r\n\r\n# Datasource\r\nspring.datasource.url=jdbc:postgresql://postgresqldb:5432/news_portal\r\nspring.datasource.username= postgres\r\nspring.datasource.password=1234\r\n\r\n# JPA\r\nspring.jpa.database= postgresql\r\nspring.jpa.properties.hibernate.dialect =org.hibernate.dialect.PostgreSQLDialect\r\nspring.jpa.generate-ddl=true\r\nspring.jpa.hibernate.ddl-auto = create-drop\r\nspring.jpa.show-sql = true\r\n\r\n#Flyway\r\nspring.flyway.url=jdbc:postgresql://postgresqldb:5432/news_portal\r\nspring.flyway.locations=classpath:/db/migration\r\nspring.flyway.enabled=true\r\nspring.flyway.table=schema_version\r\nspring.flyway.schemas=public\r\nspring.flyway.user=postgres\r\nspring.flyway.password=1234\r\nspring.flyway.sql-migration-prefix=V\r\nspring.flyway.validate-on-migrate=true\r\nspring.flyway.encoding=UTF-8\r\n```\r\n\r\nthe whole project on github\r\nhttps://github.com/aidatynybekkyzy/news_portal.git\r\n\r\n","title":"getting message : Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP cons","body":"<p>I'm getting this message: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections. i can't find what is wrong, please help me\nhere's my docker-compose file</p>\n<pre><code>services:\n  postgresqldb:\n    image: 'postgres:15.1'\n    container_name: 'postgresqldb'\n    ports:\n      - 5432:5432\n    expose:\n      - 5432\n    environment:\n      POSTGRES_USER: postgres\n      POSTGRES_PASSWORD: 1234\n      POSTGRES_ROOT_PASSWORD: 1234\n      POSTGRES_DATABASE: news_portal\n      PGDATA: /data/postgres\n      POSTGRES_HOST_AUTH_METHOD: trust\n    networks:\n      - apinetwork\n    volumes:\n      - ./postgresql/:/var/lib/postgresql/data/\n    healthcheck:\n      test: [ &quot;CMD-SHELL&quot;, &quot;pg_isready -U postgres&quot; ]\n      interval: 30s\n      timeout: 10s\n      retries: 5\n\n  app:\n    container_name: 'news-portal'\n    image: news-portal\n    build:\n      context: .\n    restart: always\n    ports:\n      - 8080:8080\n    expose:\n      - 8080\n    environment:\n      SPRING_DATASOURCE_URL: jdbc:postgresql://postgresqldb:5432/news_portal\n      SPRING_DATASOURCE_USERNAME: postgres\n      SPRING_DATASOURCE_PASSWORD: 1234\n      SPRING_JPA_HIBERNATE_DDL_AUTO: create-drop\n    depends_on:\n      - postgresqldb\n    networks:\n      - apinetwork\n\nnetworks:\n  apinetwork:\n    driver: bridge\n\n\n</code></pre>\n<p>and the Dockerfile:</p>\n<pre><code>FROM maven:3.8.6 AS build\nWORKDIR /app\nCOPY pom.xml /app\nRUN mvn dependency:resolve\nCOPY . /app\nRUN mvn clean\nRUN mvn package -DskipTests\n\nFROM openjdk:17-jdk-alpine\nCOPY --from=build /app/target/*.jar app.jar\nEXPOSE 8080\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;app.jar&quot;]\n</code></pre>\n<p>The application.propeties file</p>\n<pre><code># Server configs\nserver.port=8080\n\nserver.servlet.context-path=/\n\nspring.jackson.serialization.write_dates_as_timestamps=false\nspring.mvc.pathmatch.matching-strategy=ant_path_matcher\n\n# Datasource\nspring.datasource.url=jdbc:postgresql://postgresqldb:5432/news_portal\nspring.datasource.username= postgres\nspring.datasource.password=1234\n\n# JPA\nspring.jpa.database= postgresql\nspring.jpa.properties.hibernate.dialect =org.hibernate.dialect.PostgreSQLDialect\nspring.jpa.generate-ddl=true\nspring.jpa.hibernate.ddl-auto = create-drop\nspring.jpa.show-sql = true\n\n#Flyway\nspring.flyway.url=jdbc:postgresql://postgresqldb:5432/news_portal\nspring.flyway.locations=classpath:/db/migration\nspring.flyway.enabled=true\nspring.flyway.table=schema_version\nspring.flyway.schemas=public\nspring.flyway.user=postgres\nspring.flyway.password=1234\nspring.flyway.sql-migration-prefix=V\nspring.flyway.validate-on-migrate=true\nspring.flyway.encoding=UTF-8\n</code></pre>\n<p>the whole project on github\n<a href=\"https://github.com/aidatynybekkyzy/news_portal.git\" rel=\"nofollow noreferrer\">https://github.com/aidatynybekkyzy/news_portal.git</a></p>\n"},{"tags":["java","flutter","android-studio"],"comments":[{"owner":{"account_id":6815051,"reputation":71,"user_id":5244039,"display_name":"gginter"},"score":0,"creation_date":1679584759,"post_id":75642467,"comment_id":133751079,"body_markdown":"Facing the same issue, I&#39;m postponing the update for now, did you find a solution? I think I used the same scripts as the one you described below","body":"Facing the same issue, I&#39;m postponing the update for now, did you find a solution? I think I used the same scripts as the one you described below"},{"owner":{"account_id":27940242,"reputation":1,"user_id":21336418,"display_name":"emrecemaksu"},"score":0,"creation_date":1679861274,"post_id":75642467,"comment_id":133792486,"body_markdown":"As a workaround, I uninstalled Android Studio from Applications folder and installed the new version. The issue still awaits a permanent solution. @gginter","body":"As a workaround, I uninstalled Android Studio from Applications folder and installed the new version. The issue still awaits a permanent solution. @gginter"}],"answers":[{"tags":[],"owner":{"account_id":27940242,"reputation":1,"user_id":21336418,"display_name":"emrecemaksu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678028544,"creation_date":1678028544,"answer_id":75643126,"question_id":75642467,"body_markdown":"I have used these commands for flutter before. Could the problem be with these codes?\r\n\r\n```\r\ncd /Applications/Android\\ Studio.app/Contents/jre\r\nln -s ../jre jdk\r\nln -s &quot;/Library/Internet Plug-Ins/JavaAppletPlugin.plugin&quot; jdk\r\n```","title":"Android Studio Update JavaAppletPlugin M1 Error","body":"<p>I have used these commands for flutter before. Could the problem be with these codes?</p>\n<pre><code>cd /Applications/Android\\ Studio.app/Contents/jre\nln -s ../jre jdk\nln -s &quot;/Library/Internet Plug-Ins/JavaAppletPlugin.plugin&quot; jdk\n</code></pre>\n"}],"owner":{"account_id":27940242,"reputation":1,"user_id":21336418,"display_name":"emrecemaksu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680891525,"creation_date":1678022079,"question_id":75642467,"body_markdown":"I&#39;m a Flutter developer. I use M1 Pro chip. I want to Update my android studio but i have this error message.\r\n\r\njava.io.IOException: An absolute link: /Applications/Android Studio.app/Contents/jre/JavaAppletPlugin.plugin -&gt; /Library/Internet Plug-Ins/JavaAppletPlugin.plugin\r\n\r\n```\r\n05/03 14:00:18 INFO  PatchFileCreator.prepareAndValidate - Electric Eel | 2022.1.1 Patch 1 -&gt; Electric Eel | 2022.1.1 Patch 2\r\n05/03 14:00:18 INFO  Patch.forEach - Validating installation... [4239 actions]\r\n05/03 14:00:18 ERROR Runner.install - prepare failed\r\njava.io.IOException: An absolute link: /Applications/Android Studio.app/Contents/jre/JavaAppletPlugin.plugin -&gt; /Library/Internet Plug-Ins/JavaAppletPlugin.plugin\r\n\tat com.intellij.updater.Digester.digestRegularFile(Digester.java:50)\r\n\tat com.intellij.updater.Patch.digestFile(Patch.java:450)\r\n\tat com.intellij.updater.DeleteAction.validate(DeleteAction.java:42)\r\n\tat com.intellij.updater.Patch.lambda$validate$0(Patch.java:292)\r\n\tat com.intellij.updater.Patch.forEach(Patch.java:438)\r\n\tat com.intellij.updater.Patch.validate(Patch.java:291)\r\n\tat com.intellij.updater.PatchFileCreator.prepareAndValidate(PatchFileCreator.java:109)\r\n\tat com.intellij.updater.Runner.install(Runner.java:413)\r\n\tat com.intellij.updater.Runner._main(Runner.java:221)\r\n\tat com.intellij.updater.Runner.main(Runner.java:49)\r\n\r\n\r\n```\r\njava version &quot;19.0.2&quot; 2023-01-17\r\nJava(TM) SE Runtime Environment (build 19.0.2+7-44)\r\nJava HotSpot(TM) 64-Bit Server VM (build 19.0.2+7-44, mixed mode, sharing)\r\n\r\n\r\n\r\nI need Android Studio Update. Does anyone have an idea?","title":"Android Studio Update JavaAppletPlugin M1 Error","body":"<p>I'm a Flutter developer. I use M1 Pro chip. I want to Update my android studio but i have this error message.</p>\n<p>java.io.IOException: An absolute link: /Applications/Android Studio.app/Contents/jre/JavaAppletPlugin.plugin -&gt; /Library/Internet Plug-Ins/JavaAppletPlugin.plugin</p>\n<pre><code>05/03 14:00:18 INFO  PatchFileCreator.prepareAndValidate - Electric Eel | 2022.1.1 Patch 1 -&gt; Electric Eel | 2022.1.1 Patch 2\n05/03 14:00:18 INFO  Patch.forEach - Validating installation... [4239 actions]\n05/03 14:00:18 ERROR Runner.install - prepare failed\njava.io.IOException: An absolute link: /Applications/Android Studio.app/Contents/jre/JavaAppletPlugin.plugin -&gt; /Library/Internet Plug-Ins/JavaAppletPlugin.plugin\n    at com.intellij.updater.Digester.digestRegularFile(Digester.java:50)\n    at com.intellij.updater.Patch.digestFile(Patch.java:450)\n    at com.intellij.updater.DeleteAction.validate(DeleteAction.java:42)\n    at com.intellij.updater.Patch.lambda$validate$0(Patch.java:292)\n    at com.intellij.updater.Patch.forEach(Patch.java:438)\n    at com.intellij.updater.Patch.validate(Patch.java:291)\n    at com.intellij.updater.PatchFileCreator.prepareAndValidate(PatchFileCreator.java:109)\n    at com.intellij.updater.Runner.install(Runner.java:413)\n    at com.intellij.updater.Runner._main(Runner.java:221)\n    at com.intellij.updater.Runner.main(Runner.java:49)\n\n\n</code></pre>\n<p>java version &quot;19.0.2&quot; 2023-01-17\nJava(TM) SE Runtime Environment (build 19.0.2+7-44)\nJava HotSpot(TM) 64-Bit Server VM (build 19.0.2+7-44, mixed mode, sharing)</p>\n<p>I need Android Studio Update. Does anyone have an idea?</p>\n"},{"tags":["java","mockito","junit5"],"comments":[{"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"score":0,"creation_date":1680889795,"post_id":75960611,"comment_id":133976885,"body_markdown":"It should not be necessary to mock either a List or an Iterator. Instead, you can use the built-in Java collections and trust that they are behaving according to their contracts. It may be helpful to phrase your method by taking in an `Iterable&lt;Item&gt;` (for which you use an `ArrayList&lt;Item&gt;` in your test), which would save you a lot of hassle and bugs in simulating a Collection using Mockito.","body":"It should not be necessary to mock either a List or an Iterator. Instead, you can use the built-in Java collections and trust that they are behaving according to their contracts. It may be helpful to phrase your method by taking in an <code>Iterable&lt;Item&gt;</code> (for which you use an <code>ArrayList&lt;Item&gt;</code> in your test), which would save you a lot of hassle and bugs in simulating a Collection using Mockito."},{"owner":{"account_id":28107709,"reputation":111,"user_id":21476047,"display_name":"user21476047"},"score":0,"creation_date":1680891671,"post_id":75960611,"comment_id":133977212,"body_markdown":"@JeffBowman But in this case I just have to test the results of my table are being added to the list so I have to create some type of logic where it has to mock a list.","body":"@JeffBowman But in this case I just have to test the results of my table are being added to the list so I have to create some type of logic where it has to mock a list."}],"answers":[{"tags":[],"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680889662,"creation_date":1680888781,"answer_id":75960733,"question_id":75960611,"body_markdown":"Unsolicited Suggestion 1:\r\nLearn how to use the Mockito annotations,\r\nthey make everything easier to do and easier to read.\r\n\r\nUnsolicited Suggestion 2:\r\nUse `doReturn().when()` instead of `when().thenReturn()`.\r\nTry a google search for &quot;is doReturn better than thenReturn&quot; for discussion.\r\n\r\nSuggested Answer:\r\nDon&#39;t instantiate a new User class mock object in the subbing of the \r\n`list.add` method.\r\nInstead,\r\nmatch any instance of the User class.\r\n\r\nHere is some example code:\r\n```Java\r\n@ExtendWith(MockitoExtension.clss)\r\npublic class TestBlam\r\n{\r\n\tprivate static final String VALUE_PRETTY_JSON = &quot;{}&quot;;\r\n\t\r\n\tprivate Blam classToTest; // Blam is the class that you are actually testing.\r\n\t\r\n\t@Mock\r\n\tprivate ItemCollection&lt;QueryOutcome&gt; mockCollection;\r\n\t\r\n\t@Mock\r\n\tprivate Item mockItem;\r\n\t\r\n\t@Mock\r\n\tprivate IteratorSupport&lt;Item, QueryOutcome&gt; mockIterator;\r\n\t\r\n\t@BeforeEach\r\n\tvoid beforeEach()\r\n\t{\r\n\t\t// instantiate the thing that you will actually test.\r\n\t\tclassToTest = new Blam();\r\n\t}\r\n\t\r\n\t@Test\r\n\tvoid blamTest()\r\n\t{\r\n\t\tdoReturn(mockIterator).when(mockCollection).iterator();\r\n\t\tdoReturn(true).doReturn(false).when(Iterator).hasNext();\r\n\r\n// The answer to your question is the next line.\r\n\t\tdoReturn(true).when(mockList).add(any(User.class));\r\n\r\n\r\n\t\tdoReturn(mockItem).when(mockIterator).next();\r\n\t\tdoReturn(VALUE_PRETTY_JSON).when(mockItem).toJSONPretty();\r\n\t\t\r\n\t\t// perform the test. ...\r\n\t}\r\n}\r\n```\r\n\r\n","title":"How to mock adding to a List&lt;Object&gt; inside an Iterator","body":"<p>Unsolicited Suggestion 1:\nLearn how to use the Mockito annotations,\nthey make everything easier to do and easier to read.</p>\n<p>Unsolicited Suggestion 2:\nUse <code>doReturn().when()</code> instead of <code>when().thenReturn()</code>.\nTry a google search for &quot;is doReturn better than thenReturn&quot; for discussion.</p>\n<p>Suggested Answer:\nDon't instantiate a new User class mock object in the subbing of the\n<code>list.add</code> method.\nInstead,\nmatch any instance of the User class.</p>\n<p>Here is some example code:</p>\n<pre><code>@ExtendWith(MockitoExtension.clss)\npublic class TestBlam\n{\n    private static final String VALUE_PRETTY_JSON = &quot;{}&quot;;\n    \n    private Blam classToTest; // Blam is the class that you are actually testing.\n    \n    @Mock\n    private ItemCollection&lt;QueryOutcome&gt; mockCollection;\n    \n    @Mock\n    private Item mockItem;\n    \n    @Mock\n    private IteratorSupport&lt;Item, QueryOutcome&gt; mockIterator;\n    \n    @BeforeEach\n    void beforeEach()\n    {\n        // instantiate the thing that you will actually test.\n        classToTest = new Blam();\n    }\n    \n    @Test\n    void blamTest()\n    {\n        doReturn(mockIterator).when(mockCollection).iterator();\n        doReturn(true).doReturn(false).when(Iterator).hasNext();\n\n// The answer to your question is the next line.\n        doReturn(true).when(mockList).add(any(User.class));\n\n\n        doReturn(mockItem).when(mockIterator).next();\n        doReturn(VALUE_PRETTY_JSON).when(mockItem).toJSONPretty();\n        \n        // perform the test. ...\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28107709,"reputation":111,"user_id":21476047,"display_name":"user21476047"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75960733,"answer_count":1,"score":0,"last_activity_date":1680890728,"creation_date":1680887666,"question_id":75960611,"body_markdown":"How do I mock adding to a list inside iterator like the code below? I want to add to the list because my method returns List&lt;Users&gt; and I want to do an assert on that but not sure how to add my object to the list inside the iterator? Or am I misunderstanding and the mocking should occur in the `Util.jsonToObject`?\r\n\r\n    public List&lt;Users&gt; getUsers(String userId) {\r\n        List&lt;Users&gt; usersList = new ArrayList&lt;&gt;();\r\n        Table table = dynamoDB.getTable(&quot;users&quot;);\r\n\t\tItemCollection&lt;QueryOutcome&gt; items = table.getIndex(&quot;userIndex&quot;).query(QuerySpec);\r\n\t\tIterator&lt;Item&gt; iterator = items.iterator();\r\n\t\twhile (iterator.hasNext()) {\r\n\t\t\tlist.add(Util.jsonToObject(iterator.next().toJSONPretty(), Users.class));\r\n\t\t}\r\n\t\treturn usersList;\r\n\t}\r\n\r\nHere is the test\r\n\r\n        List&lt;Users&gt; mockList = mock(ArrayList.class);\r\n        Users details = new Users(&quot;1&quot;, UUID.randomUUID().toString(), null, &quot;&quot;);\r\n        List&lt;Users&gt; usersList = new ArrayList&lt;&gt;();\r\n        usersList.add(details);\r\n        Table mockTable = mock(Table.class);\r\n        Item item = mock(Item.class);\r\n        mockTable.putItem(item);\r\n        Index mockIndex = mock(Index.class);\r\n        ItemCollection&lt;QueryOutcome&gt; mockCollection = mock(ItemCollection.class);\r\n        Item mockItem = mock(Item.class);\r\n        IteratorSupport&lt;Item, QueryOutcome&gt; mockIterator = mock(IteratorSupport.class);\r\n        when(dynamoDB.getTable(&quot;users&quot;)).thenReturn(mockTable);\r\n        when(mockTable.getIndex(anyString())).thenReturn(mockIndex);\r\n        when(mockIndex.query(any(QuerySpec.class))).thenReturn(mockCollection);\r\n        when(mockCollection.iterator()).thenReturn(mockIterator);\r\n        when(mockIterator.hasNext()).thenReturn(true).thenReturn(false);\r\n        doReturn(true).when(mockList).add(details);\r\n        when(mockIterator.next()).thenReturn(mockItem);\r\n        when(mockItem.toJSONPretty()).thenReturn(&quot;&quot;);\r\n        assertSame(dynamoDBService.getUsers(&quot;&quot;).get(0), usersList);","title":"How to mock adding to a List&lt;Object&gt; inside an Iterator","body":"<p>How do I mock adding to a list inside iterator like the code below? I want to add to the list because my method returns List and I want to do an assert on that but not sure how to add my object to the list inside the iterator? Or am I misunderstanding and the mocking should occur in the <code>Util.jsonToObject</code>?</p>\n<pre><code>public List&lt;Users&gt; getUsers(String userId) {\n    List&lt;Users&gt; usersList = new ArrayList&lt;&gt;();\n    Table table = dynamoDB.getTable(&quot;users&quot;);\n    ItemCollection&lt;QueryOutcome&gt; items = table.getIndex(&quot;userIndex&quot;).query(QuerySpec);\n    Iterator&lt;Item&gt; iterator = items.iterator();\n    while (iterator.hasNext()) {\n        list.add(Util.jsonToObject(iterator.next().toJSONPretty(), Users.class));\n    }\n    return usersList;\n}\n</code></pre>\n<p>Here is the test</p>\n<pre><code>    List&lt;Users&gt; mockList = mock(ArrayList.class);\n    Users details = new Users(&quot;1&quot;, UUID.randomUUID().toString(), null, &quot;&quot;);\n    List&lt;Users&gt; usersList = new ArrayList&lt;&gt;();\n    usersList.add(details);\n    Table mockTable = mock(Table.class);\n    Item item = mock(Item.class);\n    mockTable.putItem(item);\n    Index mockIndex = mock(Index.class);\n    ItemCollection&lt;QueryOutcome&gt; mockCollection = mock(ItemCollection.class);\n    Item mockItem = mock(Item.class);\n    IteratorSupport&lt;Item, QueryOutcome&gt; mockIterator = mock(IteratorSupport.class);\n    when(dynamoDB.getTable(&quot;users&quot;)).thenReturn(mockTable);\n    when(mockTable.getIndex(anyString())).thenReturn(mockIndex);\n    when(mockIndex.query(any(QuerySpec.class))).thenReturn(mockCollection);\n    when(mockCollection.iterator()).thenReturn(mockIterator);\n    when(mockIterator.hasNext()).thenReturn(true).thenReturn(false);\n    doReturn(true).when(mockList).add(details);\n    when(mockIterator.next()).thenReturn(mockItem);\n    when(mockItem.toJSONPretty()).thenReturn(&quot;&quot;);\n    assertSame(dynamoDBService.getUsers(&quot;&quot;).get(0), usersList);\n</code></pre>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"score":1,"creation_date":1582753265,"post_id":60422906,"comment_id":106890253,"body_markdown":"are you using jackson ?","body":"are you using jackson ?"},{"owner":{"account_id":16812898,"reputation":149,"user_id":12155485,"display_name":"Brodiman"},"score":0,"creation_date":1582811754,"post_id":60422906,"comment_id":106911714,"body_markdown":"@IPValverde I&#39;m not sure I understand how to set that up. I&#39;m using Jackson. I tried to use the method in the blog you posted but had no luck. I&#39;m not sure what I&#39;m missing. :(","body":"@IPValverde I&#39;m not sure I understand how to set that up. I&#39;m using Jackson. I tried to use the method in the blog you posted but had no luck. I&#39;m not sure what I&#39;m missing. :("},{"owner":{"account_id":16812898,"reputation":149,"user_id":12155485,"display_name":"Brodiman"},"score":0,"creation_date":1582811765,"post_id":60422906,"comment_id":106911723,"body_markdown":"@Deadpool, I&#39;m using Jackson.","body":"@Deadpool, I&#39;m using Jackson."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1582907634,"post_id":60422906,"comment_id":106950500,"body_markdown":"@IPValverde How can a question about a C# JSON library answer a question about a Java JSON library?","body":"@IPValverde How can a question about a C# JSON library answer a question about a Java JSON library?"},{"owner":{"account_id":939379,"reputation":2019,"user_id":967736,"accept_rate":69,"display_name":"IPValverde"},"score":0,"creation_date":1582930064,"post_id":60422906,"comment_id":106958914,"body_markdown":"It can&#39;t... Sorry about that, I didn&#39;t pay enough attention to it.","body":"It can&#39;t... Sorry about that, I didn&#39;t pay enough attention to it."}],"answers":[{"tags":[],"owner":{"account_id":8333120,"reputation":832,"user_id":12868186,"display_name":"wpnpeiris"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1582756173,"creation_date":1582756173,"answer_id":60423582,"question_id":60422906,"body_markdown":"You could use custom Jackson serializer.\r\n\r\n\r\n```\r\npublic class ConditionalValueSerializer extends StdSerializer&lt;Integer&gt; {\r\n    public ConditionalValueSerializer() {\r\n        this(null);\r\n    }\r\n\r\n    public ConditionalValueSerializer(Class&lt;Integer&gt; t) {\r\n        super(t);\r\n    }\r\n\r\n    @Override\r\n    public void serialize(Integer a, JsonGenerator gen, SerializerProvider provider) throws IOException {\r\n        if(a == 5 ){\r\n            gen.writeString(a.toString());\r\n        } else {\r\n            gen.writeString(&quot;&quot;);\r\n        }\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\nThen use the custom serializer in the object.\r\n```\r\npublic class SomeThing {\r\n    public String name;\r\n\r\n    @JsonSerialize(using = ConditionalValueSerializer.class)\r\n    public Integer value;\r\n}\r\n```","title":"@JsonIgnore with Conditions","body":"<p>You could use custom Jackson serializer.</p>\n\n<pre><code>public class ConditionalValueSerializer extends StdSerializer&lt;Integer&gt; {\n    public ConditionalValueSerializer() {\n        this(null);\n    }\n\n    public ConditionalValueSerializer(Class&lt;Integer&gt; t) {\n        super(t);\n    }\n\n    @Override\n    public void serialize(Integer a, JsonGenerator gen, SerializerProvider provider) throws IOException {\n        if(a == 5 ){\n            gen.writeString(a.toString());\n        } else {\n            gen.writeString(\"\");\n        }\n\n    }\n}\n\n</code></pre>\n\n<p>Then use the custom serializer in the object.</p>\n\n<pre><code>public class SomeThing {\n    public String name;\n\n    @JsonSerialize(using = ConditionalValueSerializer.class)\n    public Integer value;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1528364,"reputation":125594,"user_id":1426227,"accept_rate":79,"display_name":"cassiomolin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1582817897,"creation_date":1582817897,"answer_id":60436767,"question_id":60422906,"body_markdown":"I know your question is about `@JsonIgnore`, but you may want to try `@JsonInclude`:\r\n\r\n```java\r\n@JsonInclude(value = JsonInclude.Include.CUSTOM, \r\n             valueFilter = CustomValueFilter.class)\r\nprivate Integer value;\r\n```\r\n\r\n```java\r\npublic class CustomValueFilter {\r\n\r\n    @Override\r\n    public boolean equals(Object other) {\r\n\r\n        Integer a = (Integer) other;\r\n        return a == 1;\r\n    }\r\n}\r\n```","title":"@JsonIgnore with Conditions","body":"<p>I know your question is about <code>@JsonIgnore</code>, but you may want to try <code>@JsonInclude</code>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@JsonInclude(value = JsonInclude.Include.CUSTOM, \n             valueFilter = CustomValueFilter.class)\nprivate Integer value;\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomValueFilter {\n\n    @Override\n    public boolean equals(Object other) {\n\n        Integer a = (Integer) other;\n        return a == 1;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":357362,"reputation":2080,"user_id":697480,"display_name":"Adam Wise"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680890036,"creation_date":1680890036,"answer_id":75960877,"question_id":60422906,"body_markdown":"The most straightforward solution I&#39;ve found for my needs involves using \r\n\r\n        @JsonInclude(JsonInclude.Include.NON_NULL)\r\n\r\nBasically if you can conditionally set a value to null, you can then exclude it entirely from serialization using the above annotation. Here&#39;s a quick example.\r\n\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    public String getValueToConditionallyExclude() {\r\n        if (conditionWhereIWantToExcludethisField) {\r\n            return null;\r\n        }\r\n        return theRealValueWhichWillNeverOtherwiseBeNull;\r\n    }","title":"@JsonIgnore with Conditions","body":"<p>The most straightforward solution I've found for my needs involves using</p>\n<pre><code>    @JsonInclude(JsonInclude.Include.NON_NULL)\n</code></pre>\n<p>Basically if you can conditionally set a value to null, you can then exclude it entirely from serialization using the above annotation. Here's a quick example.</p>\n<pre><code>@JsonInclude(JsonInclude.Include.NON_NULL)\npublic String getValueToConditionallyExclude() {\n    if (conditionWhereIWantToExcludethisField) {\n        return null;\n    }\n    return theRealValueWhichWillNeverOtherwiseBeNull;\n}\n</code></pre>\n"}],"owner":{"account_id":16812898,"reputation":149,"user_id":12155485,"display_name":"Brodiman"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7108,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":60436767,"answer_count":3,"score":4,"last_activity_date":1680890036,"creation_date":1582752831,"question_id":60422906,"body_markdown":"Is it possible to serialize a JSON response while excluding some elements based on If conditions? \r\n\r\n```\r\nif(a == 1) {\r\n   //show element\r\n} else {\r\n   //don&#39;t show element\r\n}\r\n```\r\n\r\nI&#39;ve tried using @JSONIgnore, but that simply ignores the element regardless of conditions. I&#39;m new to this space. Any ideas? \r\n\r\nEDIT: I&#39;m working on enterprise software, so using 3rd party libraries and such won&#39;t be a possibility. ","title":"@JsonIgnore with Conditions","body":"<p>Is it possible to serialize a JSON response while excluding some elements based on If conditions? </p>\n\n<pre><code>if(a == 1) {\n   //show element\n} else {\n   //don't show element\n}\n</code></pre>\n\n<p>I've tried using @JSONIgnore, but that simply ignores the element regardless of conditions. I'm new to this space. Any ideas? </p>\n\n<p>EDIT: I'm working on enterprise software, so using 3rd party libraries and such won't be a possibility. </p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1680798727,"post_id":75951620,"comment_id":133962280,"body_markdown":"The static block will be executed before the constructor, which results in the NPE, so could move the static code to the constructor.  But since it&#39;s now a Component, it probably should not have any static methods.  But if it really does need to have static methods, then perhaps create an @Configuration class that receives the @Value, and sets the value in the `ExpressionTokenClassifier2` via a static setter.","body":"The static block will be executed before the constructor, which results in the NPE, so could move the static code to the constructor.  But since it&#39;s now a Component, it probably should not have any static methods.  But if it really does need to have static methods, then perhaps create an @Configuration class that receives the @Value, and sets the value in the <code>ExpressionTokenClassifier2</code> via a static setter."}],"answers":[{"tags":[],"owner":{"account_id":1769203,"reputation":8965,"user_id":1614378,"accept_rate":55,"display_name":"devops"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680889958,"creation_date":1680798271,"answer_id":75951716,"question_id":75951620,"body_markdown":"I would just use a `@Component` and `@PostConstruct` method for init task:\r\n\r\nSpring conponent is singleton, so no need for static.\r\n\r\n\r\n    @Component // singleton\r\n    public class ExpressionTokenClassifier {\r\n        \r\n        @Value(&quot;${app.keywords-file}&quot;)\r\n        private String file;\r\n\r\n        private List&lt;String&gt; KEYWORDS;\r\n\r\n        @PostConstruct\r\n        public void init() {\r\n           [...]\r\n        }\r\n\r\n    }\r\n\r\nif static access is essential, you can init your static class as soon as the application is started:\r\n\r\n    public class ExpressionTokenClassifier {\r\n        \r\n        private List&lt;String&gt; KEYWORDS;\r\n    \r\n        static void init(String file) {\r\n    \t\tList&lt;PromQLKeyword&gt; words = KeywordsExtractor.extractKeywords(file);\r\n    \t\tKEYWORDS = words.stream().map(PromQLKeyword::getName).collect(Collectors.toList());\r\n        }\r\n    \t\r\n    \t public static void classifyTokens(List&lt;ExpressionToken&gt; tokens) {\r\n    \t\t// KEYWORDS is used in here\r\n    \t}\r\n    \r\n    }\r\n    \r\n    @Component\r\n    public class ExpressionTokenClassifierInitializer {\r\n        \r\n        @Value(&quot;${app.keywords-file}&quot;)\r\n        private String file;\r\n    \r\n    \t@EventListener(ContextRefreshedEvent.class)\r\n        public void onApplicationStartedEvent() {\r\n           ExpressionTokenClassifier.init(file);\r\n        }\r\n    \r\n    }","title":"Spring: Inject a value into a statically accessed class","body":"<p>I would just use a <code>@Component</code> and <code>@PostConstruct</code> method for init task:</p>\n<p>Spring conponent is singleton, so no need for static.</p>\n<pre><code>@Component // singleton\npublic class ExpressionTokenClassifier {\n    \n    @Value(&quot;${app.keywords-file}&quot;)\n    private String file;\n\n    private List&lt;String&gt; KEYWORDS;\n\n    @PostConstruct\n    public void init() {\n       [...]\n    }\n\n}\n</code></pre>\n<p>if static access is essential, you can init your static class as soon as the application is started:</p>\n<pre><code>public class ExpressionTokenClassifier {\n    \n    private List&lt;String&gt; KEYWORDS;\n\n    static void init(String file) {\n        List&lt;PromQLKeyword&gt; words = KeywordsExtractor.extractKeywords(file);\n        KEYWORDS = words.stream().map(PromQLKeyword::getName).collect(Collectors.toList());\n    }\n    \n     public static void classifyTokens(List&lt;ExpressionToken&gt; tokens) {\n        // KEYWORDS is used in here\n    }\n\n}\n\n@Component\npublic class ExpressionTokenClassifierInitializer {\n    \n    @Value(&quot;${app.keywords-file}&quot;)\n    private String file;\n\n    @EventListener(ContextRefreshedEvent.class)\n    public void onApplicationStartedEvent() {\n       ExpressionTokenClassifier.init(file);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1159723,"reputation":1811,"user_id":1139500,"display_name":"Joseph Gagnon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75951716,"answer_count":1,"score":1,"last_activity_date":1680889958,"creation_date":1680797609,"question_id":75951620,"body_markdown":"Consider the following class:\r\n\r\n\tpublic class ExpressionTokenClassifier {\r\n\r\n\t  private static final String       PROMQL_KEYWORDS = &quot;promql-keywords.json&quot;;\r\n\t  private static final List&lt;String&gt; KEYWORDS;\r\n\r\n\t  static {\r\n\t\tList&lt;PromQLKeyword&gt; words = KeywordsExtractor.extractKeywords(PROMQL_KEYWORDS);\r\n\t\tKEYWORDS = words.stream().map(PromQLKeyword::getName).collect(Collectors.toList());\r\n\t  }\r\n\r\n\t  public static void classifyTokens(List&lt;ExpressionToken&gt; tokens) {\r\n\t\t... // KEYWORDS is used in here\r\n\t  }\r\n\r\n\t}\r\n\r\nNotice the hardwired file name (`PROMQL_KEYWORDS`) specified and used in the static initialization block. This works, but I would like to remove the hardcoded value and instead use dependency injection (Spring) to set the value from `application.yaml`. **This class is intended to only be used statically.**\r\n\r\nMy research indicates that the Spring framework does not allow setting a static field with the `@Value` annotation. I have seen some suggestions of a workaround, but do not understand how they would work. Here is an example where I attempted to do this:\r\n\r\n\t@Component\r\n\tpublic class ExpressionTokenClassifier2 {\r\n\r\n\t  private static final List&lt;String&gt; KEYWORDS;\r\n\r\n\t  private static String             KEYWORDS_FILE;\r\n\r\n\t  @Value(&quot;${app.keywords-file}&quot;)\r\n\t  public void setKeywordsFileName(String name) {\r\n\t\tKEYWORDS_FILE = name;\r\n\t  }\r\n\r\n\t  static {\r\n\t\tList&lt;PromQLKeyword&gt; words = KeywordsExtractor.extractKeywords(KEYWORDS_FILE);\r\n\t\tKEYWORDS = words.stream().map(PromQLKeyword::getName).collect(Collectors.toList());\r\n\t  }\r\n\r\n\t  public static void classifyTokens(List&lt;ExpressionToken&gt; tokens) {\r\n\t    ... // KEYWORDS is used in here\r\n\t  }\r\n\r\n\t}\r\n\r\nWhen I tried it, the application fails to start because of NPE (`KEYWORDS_FILE` is null). My immediate question is: *Where and when would the `setKeywordsFileName()` method be called?* Nowhere, as far as I can tell - and the results agree. Am I missing some logic?\r\n\r\nDoes anyone know of a way to accomplish this? I could change this class so that it&#39;s instantiated instead of statically accessed, but the class that uses this class is **also** a statically accessed class. I really don&#39;t want to have to change a bunch of code to fix this.\r\n\r\n**UPDATE**:\r\n\r\nUpon further investigation, it appears that this is essentially not doable, at least not without a lot of extra work that probably defeats the purpose. This link, to me, describes the situation quite well.\r\n\r\nhttps://stackoverflow.com/questions/45192373/how-to-assign-a-value-from-application-properties-to-a-static-variable\r\n\r\nLooks like I&#39;m going to have to think about this for awhile.","title":"Spring: Inject a value into a statically accessed class","body":"<p>Consider the following class:</p>\n<pre><code>public class ExpressionTokenClassifier {\n\n  private static final String       PROMQL_KEYWORDS = &quot;promql-keywords.json&quot;;\n  private static final List&lt;String&gt; KEYWORDS;\n\n  static {\n    List&lt;PromQLKeyword&gt; words = KeywordsExtractor.extractKeywords(PROMQL_KEYWORDS);\n    KEYWORDS = words.stream().map(PromQLKeyword::getName).collect(Collectors.toList());\n  }\n\n  public static void classifyTokens(List&lt;ExpressionToken&gt; tokens) {\n    ... // KEYWORDS is used in here\n  }\n\n}\n</code></pre>\n<p>Notice the hardwired file name (<code>PROMQL_KEYWORDS</code>) specified and used in the static initialization block. This works, but I would like to remove the hardcoded value and instead use dependency injection (Spring) to set the value from <code>application.yaml</code>. <strong>This class is intended to only be used statically.</strong></p>\n<p>My research indicates that the Spring framework does not allow setting a static field with the <code>@Value</code> annotation. I have seen some suggestions of a workaround, but do not understand how they would work. Here is an example where I attempted to do this:</p>\n<pre><code>@Component\npublic class ExpressionTokenClassifier2 {\n\n  private static final List&lt;String&gt; KEYWORDS;\n\n  private static String             KEYWORDS_FILE;\n\n  @Value(&quot;${app.keywords-file}&quot;)\n  public void setKeywordsFileName(String name) {\n    KEYWORDS_FILE = name;\n  }\n\n  static {\n    List&lt;PromQLKeyword&gt; words = KeywordsExtractor.extractKeywords(KEYWORDS_FILE);\n    KEYWORDS = words.stream().map(PromQLKeyword::getName).collect(Collectors.toList());\n  }\n\n  public static void classifyTokens(List&lt;ExpressionToken&gt; tokens) {\n    ... // KEYWORDS is used in here\n  }\n\n}\n</code></pre>\n<p>When I tried it, the application fails to start because of NPE (<code>KEYWORDS_FILE</code> is null). My immediate question is: <em>Where and when would the <code>setKeywordsFileName()</code> method be called?</em> Nowhere, as far as I can tell - and the results agree. Am I missing some logic?</p>\n<p>Does anyone know of a way to accomplish this? I could change this class so that it's instantiated instead of statically accessed, but the class that uses this class is <strong>also</strong> a statically accessed class. I really don't want to have to change a bunch of code to fix this.</p>\n<p><strong>UPDATE</strong>:</p>\n<p>Upon further investigation, it appears that this is essentially not doable, at least not without a lot of extra work that probably defeats the purpose. This link, to me, describes the situation quite well.</p>\n<p><a href=\"https://stackoverflow.com/questions/45192373/how-to-assign-a-value-from-application-properties-to-a-static-variable\">How to assign a value from application.properties to a static variable?</a></p>\n<p>Looks like I'm going to have to think about this for awhile.</p>\n"},{"tags":["java","multithreading","concurrency","scheduled-tasks","completable-future"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1680995818,"post_id":75960857,"comment_id":133988633,"body_markdown":"Yes, the 2nd approach doesn&#39;t swallow an exception.","body":"Yes, the 2nd approach doesn&#39;t swallow an exception."},{"owner":{"account_id":173621,"reputation":10596,"user_id":402428,"display_name":"michid"},"score":0,"creation_date":1681157154,"post_id":75960857,"comment_id":134008358,"body_markdown":"Depending on you use case you might want to use resilicen4j&#39;s Retry facility: https://resilience4j.readme.io/docs/retry","body":"Depending on you use case you might want to use resilicen4j&#39;s Retry facility: <a href=\"https://resilience4j.readme.io/docs/retry\" rel=\"nofollow noreferrer\">resilience4j.readme.io/docs/retry</a>"}],"owner":{"account_id":28109441,"reputation":1,"user_id":21477460,"display_name":"stlew"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680889867,"creation_date":1680889867,"question_id":75960857,"body_markdown":"There is a very straightforward way to perform retry task using `while` loop:\r\n\r\n```\r\n    public &lt;T&gt; T runRetryTask(Supplier&lt;T&gt; supplier) {\r\n        T taskExecutionResult = null;\r\n        while (currentTime &lt; expectedEndTime) {\r\n            try {\r\n                taskExecutionResult = supplier.get();\r\n                if (taskExecutionResult != null) return taskExecutionResult;\r\n                Thread.sleep( waitTime );\r\n            } catch (Exception ex) {\r\n            }\r\n        }\r\n        return taskExecutionResult;\r\n    }\r\n```\r\n\r\nI figured there is another way to perform such retry task using `ScheduledFuture` and `CompletableFuture`:\r\n\r\n```\r\n    public &lt;T&gt; T runRetryTask(Supplier&lt;T&gt; supplier) {\r\n        CompletableFuture&lt;T&gt; completableFuture = new CompletableFuture&lt;&gt;();\r\n        ScheduledFuture&lt;?&gt; scheduledFuture = executor.scheduleWithFixedDelay(() -&gt; {\r\n\r\n            T taskExecutionResult = supplier.get();\r\n            if (taskExecutionResult != null || currentTime &gt; expectedEndTime)\r\n                completableFuture.complete(taskExecutionResult);\r\n        }, 0, totalTime, TimeUnit.SECONDS);\r\n\r\n        completableFuture.whenComplete((result, throwable) () -&gt; {\r\n            scheduledFuture.cancel(true);\r\n        });\r\n        return completableFuture;\r\n    }\r\n```\r\n\r\nAre there any advantages of using the second approach?","title":"Different ways to perform retry task","body":"<p>There is a very straightforward way to perform retry task using <code>while</code> loop:</p>\n<pre><code>    public &lt;T&gt; T runRetryTask(Supplier&lt;T&gt; supplier) {\n        T taskExecutionResult = null;\n        while (currentTime &lt; expectedEndTime) {\n            try {\n                taskExecutionResult = supplier.get();\n                if (taskExecutionResult != null) return taskExecutionResult;\n                Thread.sleep( waitTime );\n            } catch (Exception ex) {\n            }\n        }\n        return taskExecutionResult;\n    }\n</code></pre>\n<p>I figured there is another way to perform such retry task using <code>ScheduledFuture</code> and <code>CompletableFuture</code>:</p>\n<pre><code>    public &lt;T&gt; T runRetryTask(Supplier&lt;T&gt; supplier) {\n        CompletableFuture&lt;T&gt; completableFuture = new CompletableFuture&lt;&gt;();\n        ScheduledFuture&lt;?&gt; scheduledFuture = executor.scheduleWithFixedDelay(() -&gt; {\n\n            T taskExecutionResult = supplier.get();\n            if (taskExecutionResult != null || currentTime &gt; expectedEndTime)\n                completableFuture.complete(taskExecutionResult);\n        }, 0, totalTime, TimeUnit.SECONDS);\n\n        completableFuture.whenComplete((result, throwable) () -&gt; {\n            scheduledFuture.cancel(true);\n        });\n        return completableFuture;\n    }\n</code></pre>\n<p>Are there any advantages of using the second approach?</p>\n"},{"tags":["java","spring-boot","app-config","azure-app-configuration"],"comments":[{"owner":{"account_id":1219806,"reputation":449,"user_id":1186656,"accept_rate":60,"display_name":"mrm9084"},"score":1,"creation_date":1680893395,"post_id":75960843,"comment_id":133977534,"body_markdown":"are you seeing the log of them getting refreshed https://microsoft.github.io/spring-cloud-azure/docs/azure-app-configuration/2.9.0/reference/html/index.html#configuration-refresh. Also, are your configurations in the refresh scope?","body":"are you seeing the log of them getting refreshed <a href=\"https://microsoft.github.io/spring-cloud-azure/docs/azure-app-configuration/2.9.0/reference/html/index.html#configuration-refresh\" rel=\"nofollow noreferrer\">microsoft.github.io/spring-cloud-azure/docs/&hellip;</a>. Also, are your configurations in the refresh scope?"}],"owner":{"account_id":28243524,"reputation":1,"user_id":21590944,"display_name":"kaleb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680889757,"creation_date":1680889757,"question_id":75960843,"body_markdown":"I have tried both manual refresh and auto refresh described on https://learn.microsoft.com/en-us/azure/azure-app-configuration/enable-dynamic-configuration-java-spring-app#use-automated-refresh\r\nHowever, it still cannot get the updated values in the app config when I refresh the page.\r\nI even set the refresh interval to 10s.\r\nThis is the bootstrap.properties file.\r\n```\r\nspring.cloud.azure.appconfiguration.stores[0].connection-string=${APP_CONFIGURATION_CONNECTION_STRING}\r\nspring.cloud.azure.appconfiguration.stores[0].monitoring.enabled=true\r\nspring.cloud.azure.appconfiguration.stores[0].monitoring.triggers[0].key=sentinel\r\nspring.cloud.azure.appconfiguration.stores[0].monitoring.refresh-interval= 10s\r\n```\r\nI have both of the dependency in my pom.xml file.\r\n```\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\r\n      &lt;artifactId&gt;azure-spring-cloud-appconfiguration-config&lt;/artifactId&gt;\r\n      &lt;version&gt;2.11.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\r\n      &lt;artifactId&gt;azure-spring-cloud-appconfiguration-config-web&lt;/artifactId&gt;\r\n      &lt;version&gt;2.11.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n```\r\nI have followed every steps on the https://learn.microsoft.com/en-us/azure/azure-app-configuration/enable-dynamic-configuration-java-spring-app#use-automated-refresh\r\nExpected value can refresh, but actually it remain the old value after I update the values and the sentinel.","title":"azure app config not able to refresh in my spring boot application","body":"<p>I have tried both manual refresh and auto refresh described on <a href=\"https://learn.microsoft.com/en-us/azure/azure-app-configuration/enable-dynamic-configuration-java-spring-app#use-automated-refresh\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/azure-app-configuration/enable-dynamic-configuration-java-spring-app#use-automated-refresh</a>\nHowever, it still cannot get the updated values in the app config when I refresh the page.\nI even set the refresh interval to 10s.\nThis is the bootstrap.properties file.</p>\n<pre><code>spring.cloud.azure.appconfiguration.stores[0].connection-string=${APP_CONFIGURATION_CONNECTION_STRING}\nspring.cloud.azure.appconfiguration.stores[0].monitoring.enabled=true\nspring.cloud.azure.appconfiguration.stores[0].monitoring.triggers[0].key=sentinel\nspring.cloud.azure.appconfiguration.stores[0].monitoring.refresh-interval= 10s\n</code></pre>\n<p>I have both of the dependency in my pom.xml file.</p>\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\n      &lt;artifactId&gt;azure-spring-cloud-appconfiguration-config&lt;/artifactId&gt;\n      &lt;version&gt;2.11.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\n      &lt;artifactId&gt;azure-spring-cloud-appconfiguration-config-web&lt;/artifactId&gt;\n      &lt;version&gt;2.11.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n</code></pre>\n<p>I have followed every steps on the <a href=\"https://learn.microsoft.com/en-us/azure/azure-app-configuration/enable-dynamic-configuration-java-spring-app#use-automated-refresh\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/azure-app-configuration/enable-dynamic-configuration-java-spring-app#use-automated-refresh</a>\nExpected value can refresh, but actually it remain the old value after I update the values and the sentinel.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1680877990,"post_id":75959221,"comment_id":133974420,"body_markdown":"Add `@Validated` to the `@RestController` class.","body":"Add <code>@Validated</code> to the <code>@RestController</code> class."},{"owner":{"account_id":28219875,"reputation":101,"user_id":21570778,"display_name":"Mayuri"},"score":0,"creation_date":1680878279,"post_id":75959221,"comment_id":133974476,"body_markdown":"Please provide entity details","body":"Please provide entity details"},{"owner":{"account_id":11609571,"reputation":37,"user_id":8504176,"display_name":"Nayan J"},"score":0,"creation_date":1680879287,"post_id":75959221,"comment_id":133974703,"body_markdown":"@AbhijitSarkar although I did not have to add this annotation in first time when it finally worked, I added as you suggested. Still no luck","body":"@AbhijitSarkar although I did not have to add this annotation in first time when it finally worked, I added as you suggested. Still no luck"},{"owner":{"account_id":11609571,"reputation":37,"user_id":8504176,"display_name":"Nayan J"},"score":0,"creation_date":1680879310,"post_id":75959221,"comment_id":133974712,"body_markdown":"@Mayuri added entity details. There has not been much  change in the entity other than adding few more fields (with or without validation annotations)","body":"@Mayuri added entity details. There has not been much  change in the entity other than adding few more fields (with or without validation annotations)"}],"answers":[{"tags":[],"owner":{"account_id":11609571,"reputation":37,"user_id":8504176,"display_name":"Nayan J"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680886496,"creation_date":1680886496,"answer_id":75960455,"question_id":75959221,"body_markdown":"After trying so many things, I am finally able to resolve the issue. Along with the fields in entity, @Valid annotation at field name in main request pojo was also required.\r\n\r\nMy Main request POJO:\r\n\r\n```java\r\nclass MyPojo{\r\n   // Other fields;\r\n   @Valid\r\n   private AppClientDetails clientDetails;\r\n   // getters setters\r\n}\r\n```\r\n\r\nThis @Valid annotation here resolved the issue.","title":"@Valid annotation stopped working in Spring Boot","body":"<p>After trying so many things, I am finally able to resolve the issue. Along with the fields in entity, @Valid annotation at field name in main request pojo was also required.</p>\n<p>My Main request POJO:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MyPojo{\n   // Other fields;\n   @Valid\n   private AppClientDetails clientDetails;\n   // getters setters\n}\n</code></pre>\n<p>This @Valid annotation here resolved the issue.</p>\n"},{"tags":[],"owner":{"account_id":9606953,"reputation":64,"user_id":7132691,"accept_rate":0,"display_name":"Akshay Tyagi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680889056,"creation_date":1680889056,"answer_id":75960763,"question_id":75959221,"body_markdown":"First of all, please let us know whether you are validating your request body(i.e MyRequst) or Entity(i.e AppClientDetails) or both. Not clear to me completely so providing you the answers for both\r\n\r\n\r\n 1. **Validating request body-** In POST and PUT requests, it’s common to pass a JSON payload within the request body. Spring automatically maps the incoming JSON to a Java object. Now, we want to check if the incoming Java object meets our requirements. We should use `spring-boot-starter-validation` dependency that brings bean validation api. In request body(DTO), we use constraint annotations such as `@NotNull` etc. and In controller method, we use `@Valid`. Now Spring does validation and throws `MethodArgumentNotValidException` if validation fails.\r\n\r\n\r\n 2. **Validating JPA entity-** Again, we have to use `spring-boot-starter-validation`. By default, Spring Data uses Hibernate underneath, which supports Bean Validation out of the box. Any time **we use the repository** to store the entity object whose constraint annotations are violated, we’ll get a `ConstraintViolationException`. *Note that Bean Validation is only triggered by Hibernate once the EntityManager is flushed. Hibernate flushes the EntityManager automatically under certain circumstances*. If we want to disable Bean Validation in our Spring Data repositories, we can set the Spring Boot property `spring.jpa.properties.javax.persistence.validation.mode` to none.\r\n\r\n\r\nNote that the persistence layer should definitely not be the only location for validation. If validation fails here, it usually means that some sort of validation is missing in other application components. Persistence layer validation should be seen as the last line of defense. In addition to that, the persistence layer is usually too late for business related validation.","title":"@Valid annotation stopped working in Spring Boot","body":"<p>First of all, please let us know whether you are validating your request body(i.e MyRequst) or Entity(i.e AppClientDetails) or both. Not clear to me completely so providing you the answers for both</p>\n<ol>\n<li><p><strong>Validating request body-</strong> In POST and PUT requests, it’s common to pass a JSON payload within the request body. Spring automatically maps the incoming JSON to a Java object. Now, we want to check if the incoming Java object meets our requirements. We should use <code>spring-boot-starter-validation</code> dependency that brings bean validation api. In request body(DTO), we use constraint annotations such as <code>@NotNull</code> etc. and In controller method, we use <code>@Valid</code>. Now Spring does validation and throws <code>MethodArgumentNotValidException</code> if validation fails.</p>\n</li>\n<li><p><strong>Validating JPA entity-</strong> Again, we have to use <code>spring-boot-starter-validation</code>. By default, Spring Data uses Hibernate underneath, which supports Bean Validation out of the box. Any time <strong>we use the repository</strong> to store the entity object whose constraint annotations are violated, we’ll get a <code>ConstraintViolationException</code>. <em>Note that Bean Validation is only triggered by Hibernate once the EntityManager is flushed. Hibernate flushes the EntityManager automatically under certain circumstances</em>. If we want to disable Bean Validation in our Spring Data repositories, we can set the Spring Boot property <code>spring.jpa.properties.javax.persistence.validation.mode</code> to none.</p>\n</li>\n</ol>\n<p>Note that the persistence layer should definitely not be the only location for validation. If validation fails here, it usually means that some sort of validation is missing in other application components. Persistence layer validation should be seen as the last line of defense. In addition to that, the persistence layer is usually too late for business related validation.</p>\n"}],"owner":{"account_id":11609571,"reputation":37,"user_id":8504176,"display_name":"Nayan J"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1466,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680889056,"creation_date":1680876902,"question_id":75959221,"body_markdown":"I know there are already several questions on this.\r\n\r\nI started a personal project on Spring Boot version 2.7.9 and wanted to use field level validation using @NotNull, @NotBlank, etc. After coding accordingly, it turned out the code is not able to detect the error. I came across [this][1] question and found that starter-validation is required to be explicitly mentioned. I added and restarted, but still it did not work. I scrolled down the same question and found one answer that IDE needs to be restarted as well. After doing so, it started working.\r\n\r\nA couple of days later, I started working on it again. I added some business logic and some config like request logging. However, this time the annotation stopped working again.\r\n\r\nI tried:\r\n\r\n - Removing starter-validation dependency and re-added, restarted IDE\r\n - Removing whole requestlogging component (using OncePerRequestFilter) just for peace of mind.\r\n - Checked a few more questions here. All talk about missing dependency only. From [here][2], I added the two properties as well.\r\n\r\nNothing has worked so far. Did someone also face a similar issue?\r\n\r\nObservation: I don&#39;t know if it helps or not, although code fails to detect the error, I do get ConstraintViolationException when it tries to persist the entity.\r\n\r\nMy Pom.xml: (dependencies section only)\r\n\r\n```xml\r\n&lt;dependencies&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;hibernate-envers&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.9.1&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.6.15&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\nController: \r\n\r\n```java\r\n@PostMapping(value = &quot;/create&quot;)\r\npublic ResponseEntity&lt;MyDetailedResponse&gt; createClient(\r\n\t\t@Valid @RequestBody MyRequest request) {\r\n    //business logic\r\n}\r\n```\r\n**EDIT 1:** Entity class as requested:\r\n\r\n```java\r\n@Entity\r\n@Audited\r\n@Table(name = &quot;client_details&quot;)\r\n@JsonIgnoreProperties(value = { &quot;optlock&quot;, &quot;createdDate&quot;, &quot;createdBy&quot;, &quot;lastModifiedDate&quot;,\r\n&#160; &#160; &#160; &#160; &quot;lastModifiedBy&quot; }, ignoreUnknown = true)\r\npublic class AppClientDetails extends EntityVersionedMetaData {\r\n\r\n&#160; &#160; /**\r\n&#160; &#160; &#160;*&#160;\r\n&#160; &#160; &#160;*/\r\n&#160; &#160; private static final long serialVersionUID = 756964595629774899L;\r\n\r\n&#160; &#160; @NotBlank(message = &quot;Name can not be blank&quot;)\r\n&#160; &#160; private String fullName;\r\n\r\n&#160; &#160; @NotBlank(message = &quot;Please choose a short code for the client&quot;)\r\n&#160; &#160; private String shortCode;\r\n\r\n&#160; &#160; @NotBlank(message = &quot;Address is mandatory.&quot;)\r\n&#160; &#160; @Size(min = 1, max = 255)\r\n&#160;// @Pattern(regexp = &quot;^([a-zA-Z0-9.&amp;:-\\\\S+]{1,255})$&quot;, message = &quot;Invalid address. Only alphabets, number and . &amp; : - are allowed&quot;)\r\n&#160; &#160; private String address;\r\n\r\n&#160; &#160; @NotBlank(message = &quot;Contact person name is mandatory&quot;)\r\n&#160; &#160; private String contactPerson;\r\n\r\n&#160; &#160; private long phoneNumber;\r\n\r\n&#160; &#160; private String emailId;\r\n\r\n&#160; &#160; private String logoUrl;\r\n\r\n&#160; &#160; @NotNull(message = &quot;Strength is required&quot;)\r\n&#160; &#160; private Short strength;\r\n\r\n&#160; &#160; @Temporal(TemporalType.DATE)\r\n&#160; &#160; private Date establishedDate;\r\n\r\n&#160; &#160; @Temporal(TemporalType.DATE)\r\n&#160; &#160; private Date onboardingDate;\r\n\r\n&#160; &#160; @NotBlank(message = &quot;Plan must be selected&quot;)\r\n&#160; &#160; private String currentPlan;\r\n\r\n&#160; &#160; @Enumerated(EnumType.ORDINAL)\r\n&#160; &#160; private AppUserStatus clientStatus = AppUserStatus.ACTIVE;\r\n\r\n   //getters setters\r\n}\r\n```\r\nJust to add, I had commented @Pattern as it was throwing illegal character exception due to the \\s in regex. That is also one issue.\r\n\r\n**EDIT 2:**\r\nAs last resort, I deleted whole .m2 directory and workspace both. Freshly created the whole project. Still it did not work.\r\n\r\n  [1]: https://stackoverflow.com/questions/48614773/spring-boot-validation-annotations-valid-and-notblank-not-working\r\n  [2]: https://stackoverflow.com/a/64520592/8504176","title":"@Valid annotation stopped working in Spring Boot","body":"<p>I know there are already several questions on this.</p>\n<p>I started a personal project on Spring Boot version 2.7.9 and wanted to use field level validation using @NotNull, @NotBlank, etc. After coding accordingly, it turned out the code is not able to detect the error. I came across <a href=\"https://stackoverflow.com/questions/48614773/spring-boot-validation-annotations-valid-and-notblank-not-working\">this</a> question and found that starter-validation is required to be explicitly mentioned. I added and restarted, but still it did not work. I scrolled down the same question and found one answer that IDE needs to be restarted as well. After doing so, it started working.</p>\n<p>A couple of days later, I started working on it again. I added some business logic and some config like request logging. However, this time the annotation stopped working again.</p>\n<p>I tried:</p>\n<ul>\n<li>Removing starter-validation dependency and re-added, restarted IDE</li>\n<li>Removing whole requestlogging component (using OncePerRequestFilter) just for peace of mind.</li>\n<li>Checked a few more questions here. All talk about missing dependency only. From <a href=\"https://stackoverflow.com/a/64520592/8504176\">here</a>, I added the two properties as well.</li>\n</ul>\n<p>Nothing has worked so far. Did someone also face a similar issue?</p>\n<p>Observation: I don't know if it helps or not, although code fails to detect the error, I do get ConstraintViolationException when it tries to persist the entity.</p>\n<p>My Pom.xml: (dependencies section only)</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-envers&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n        &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n        &lt;version&gt;0.9.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n        &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n        &lt;version&gt;1.6.15&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>Controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(value = &quot;/create&quot;)\npublic ResponseEntity&lt;MyDetailedResponse&gt; createClient(\n        @Valid @RequestBody MyRequest request) {\n    //business logic\n}\n</code></pre>\n<p><strong>EDIT 1:</strong> Entity class as requested:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Audited\n@Table(name = &quot;client_details&quot;)\n@JsonIgnoreProperties(value = { &quot;optlock&quot;, &quot;createdDate&quot;, &quot;createdBy&quot;, &quot;lastModifiedDate&quot;,\n        &quot;lastModifiedBy&quot; }, ignoreUnknown = true)\npublic class AppClientDetails extends EntityVersionedMetaData {\n\n    /**\n     * \n     */\n    private static final long serialVersionUID = 756964595629774899L;\n\n    @NotBlank(message = &quot;Name can not be blank&quot;)\n    private String fullName;\n\n    @NotBlank(message = &quot;Please choose a short code for the client&quot;)\n    private String shortCode;\n\n    @NotBlank(message = &quot;Address is mandatory.&quot;)\n    @Size(min = 1, max = 255)\n // @Pattern(regexp = &quot;^([a-zA-Z0-9.&amp;:-\\\\S+]{1,255})$&quot;, message = &quot;Invalid address. Only alphabets, number and . &amp; : - are allowed&quot;)\n    private String address;\n\n    @NotBlank(message = &quot;Contact person name is mandatory&quot;)\n    private String contactPerson;\n\n    private long phoneNumber;\n\n    private String emailId;\n\n    private String logoUrl;\n\n    @NotNull(message = &quot;Strength is required&quot;)\n    private Short strength;\n\n    @Temporal(TemporalType.DATE)\n    private Date establishedDate;\n\n    @Temporal(TemporalType.DATE)\n    private Date onboardingDate;\n\n    @NotBlank(message = &quot;Plan must be selected&quot;)\n    private String currentPlan;\n\n    @Enumerated(EnumType.ORDINAL)\n    private AppUserStatus clientStatus = AppUserStatus.ACTIVE;\n\n   //getters setters\n}\n</code></pre>\n<p>Just to add, I had commented @Pattern as it was throwing illegal character exception due to the \\s in regex. That is also one issue.</p>\n<p><strong>EDIT 2:</strong>\nAs last resort, I deleted whole .m2 directory and workspace both. Freshly created the whole project. Still it did not work.</p>\n"},{"tags":["java","android","branch.io"],"answers":[{"tags":[],"owner":{"account_id":15043710,"reputation":1,"user_id":10857531,"display_name":"Devesh Pant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546429756,"creation_date":1546429756,"answer_id":54005815,"question_id":53958301,"body_markdown":"Could you please confirm the SDK version that you are using? As our latest SDK versions had some TLS related changes.\r\n\r\nPlease refer to: https://github.com/BranchMetrics/android-branch-deep-linking/releases\r\n\r\nwhere release 3.0.0 had some TLS related changes.Please update the Branch SDK and write to integrations@branch.io if the issue still persists.\r\n\r\nThanks.","title":"BranchSDK: User session has not been initialized","body":"<p>Could you please confirm the SDK version that you are using? As our latest SDK versions had some TLS related changes.</p>\n\n<p>Please refer to: <a href=\"https://github.com/BranchMetrics/android-branch-deep-linking/releases\" rel=\"nofollow noreferrer\">https://github.com/BranchMetrics/android-branch-deep-linking/releases</a></p>\n\n<p>where release 3.0.0 had some TLS related changes.Please update the Branch SDK and write to integrations@branch.io if the issue still persists.</p>\n\n<p>Thanks.</p>\n"},{"tags":[],"owner":{"account_id":10314724,"reputation":191,"user_id":7609373,"display_name":"Valeriy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1546947915,"creation_date":1546947915,"answer_id":54091149,"question_id":53958301,"body_markdown":"For version 3.0.3 and below, helped me only add a string when initializing the BranchSDK: `ProviderInstaller.installIfNeeded(context);`","title":"BranchSDK: User session has not been initialized","body":"<p>For version 3.0.3 and below, helped me only add a string when initializing the BranchSDK: <code>ProviderInstaller.installIfNeeded(context);</code></p>\n"},{"tags":[],"owner":{"account_id":3814553,"reputation":722,"user_id":3164227,"display_name":"shubomb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658474260,"creation_date":1658474260,"answer_id":73076499,"question_id":53958301,"body_markdown":"Add this line on base application oncreate method \r\n\r\n     Branch.getAutoInstance(this);","title":"BranchSDK: User session has not been initialized","body":"<p>Add this line on base application oncreate method</p>\n<pre><code> Branch.getAutoInstance(this);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4505056,"reputation":1045,"user_id":3662639,"display_name":"Mher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680888791,"creation_date":1680858799,"answer_id":75957076,"question_id":53958301,"body_markdown":"For React Native Expo IOS (`react-native-branch@5.4.0`, `@config-plugins/react-native-branch@5.0.0`, `expo@48.0.10`) just make sure to implement \r\n\r\n```\r\n#import &quot;AppDelegate.h&quot;\r\n#import &lt;RNBranch/RNBranch.h&gt;\r\n  \r\n@implementation AppDelegate\r\n  \r\n// Initialize the Branch Session at the top of existing application:didFinishLaunchingWithOptions:\r\n- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions\r\n{\r\n    // Uncomment this line to use the test key instead of the live one.\r\n    // [RNBranch useTestInstance];\r\n    [RNBranch initSessionWithLaunchOptions:launchOptions isReferrable:YES];\r\n    NSURL *jsCodeLocation;\r\n    //...\r\n}\r\n\r\n- (BOOL)application:(UIApplication *)application openURL:(NSURL *)url options:(NSDictionary&lt;UIApplicationOpenURLOptionsKey,id&gt; *)options {\r\n    [RNBranch application:application openURL:url options:options];\r\n    return YES;\r\n}\r\n\r\n- (BOOL)application:(UIApplication *)application continueUserActivity:(NSUserActivity *)userActivity restorationHandler:(void (^)(NSArray&lt;id&lt;UIUserActivityRestoring&gt;&gt; * _Nullable))restorationHandler {\r\n   [RNBranch continueUserActivity:userActivity];\r\n   return YES;\r\n}\r\n```\r\n\r\nin `AppDelegate.mm` file. \r\nIn official documentation it use \r\n```\r\n- (BOOL)application:(UIApplication *)app openURL:(NSURL *)url options:(NSDictionary&lt;UIApplicationOpenURLOptionsKey,id&gt; *)options {\r\n    [RNBranch application:app openURL:url options:options];\r\n    return YES;\r\n}\r\n``` \r\nbut it throws `use of undeclared identifier &#39;app&#39;` error in my environment. I had to change `app` to `application` to force this work.","title":"BranchSDK: User session has not been initialized","body":"<p>For React Native Expo IOS (<code>react-native-branch@5.4.0</code>, <code>@config-plugins/react-native-branch@5.0.0</code>, <code>expo@48.0.10</code>) just make sure to implement</p>\n<pre><code>#import &quot;AppDelegate.h&quot;\n#import &lt;RNBranch/RNBranch.h&gt;\n  \n@implementation AppDelegate\n  \n// Initialize the Branch Session at the top of existing application:didFinishLaunchingWithOptions:\n- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions\n{\n    // Uncomment this line to use the test key instead of the live one.\n    // [RNBranch useTestInstance];\n    [RNBranch initSessionWithLaunchOptions:launchOptions isReferrable:YES];\n    NSURL *jsCodeLocation;\n    //...\n}\n\n- (BOOL)application:(UIApplication *)application openURL:(NSURL *)url options:(NSDictionary&lt;UIApplicationOpenURLOptionsKey,id&gt; *)options {\n    [RNBranch application:application openURL:url options:options];\n    return YES;\n}\n\n- (BOOL)application:(UIApplication *)application continueUserActivity:(NSUserActivity *)userActivity restorationHandler:(void (^)(NSArray&lt;id&lt;UIUserActivityRestoring&gt;&gt; * _Nullable))restorationHandler {\n   [RNBranch continueUserActivity:userActivity];\n   return YES;\n}\n</code></pre>\n<p>in <code>AppDelegate.mm</code> file.\nIn official documentation it use</p>\n<pre><code>- (BOOL)application:(UIApplication *)app openURL:(NSURL *)url options:(NSDictionary&lt;UIApplicationOpenURLOptionsKey,id&gt; *)options {\n    [RNBranch application:app openURL:url options:options];\n    return YES;\n}\n</code></pre>\n<p>but it throws <code>use of undeclared identifier 'app'</code> error in my environment. I had to change <code>app</code> to <code>application</code> to force this work.</p>\n"}],"owner":{"account_id":10314724,"reputation":191,"user_id":7609373,"display_name":"Valeriy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1561,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":54091149,"answer_count":4,"score":0,"last_activity_date":1680888791,"creation_date":1545998549,"question_id":53958301,"body_markdown":"I have problem with BranchSDK, during initialization i receive error:\r\n\r\n&lt;code&gt;12-28 13:50:22.203 D/FirebasePerformance: Logging NetworkRequestMetric - https://api2.branch.io/v1/install 0b 1136ms,\r\n12-28 13:50:22.204 I/FirebasePerformance: Did not receive a HTTP Response Code\r\n12-28 13:50:22.204 W/FirebasePerformance: Unable to process the PerfMetric due to missing or invalid values. See earlier log statements for additional information on the specific missing/invalid values.\r\n12-28 13:50:22.208 E/BranchNetworkClient: Error in doRestfulGet(https://api2.branch.io/v1/install)\r\n    javax.net.ssl.SSLHandshakeException: javax.net.ssl.SSLProtocolException: SSL handshake aborted: ssl=0x63395a88: Failure in SSL library, usually a protocol error\r\n    error:14077410:SSL routines:SSL23_GET_SERVER_HELLO:sslv3 alert handshake failure (external/openssl/ssl/s23_clnt.c:744 0x5d9ce808:0x00000000)\r\n        at com.android.org.conscrypt.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:449)\r\n        at okhttp3.internal.connection.RealConnection.connectTls(RealConnection.java:318)\r\n        at okhttp3.internal.connection.RealConnection.establishProtocol(RealConnection.java:282)\r\n        at okhttp3.internal.connection.RealConnection.connect(RealConnection.java:167)\r\n        at okhttp3.internal.connection.StreamAllocation.findConnection(StreamAllocation.java:257)\r\n        at okhttp3.internal.connection.StreamAllocation.findHealthyConnection(StreamAllocation.java:135)\r\n        at okhttp3.internal.connection.StreamAllocation.newStream(StreamAllocation.java:114)\r\n        at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:42)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\r\n        at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\r\n        at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\r\n        at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:126)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\r\n        at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:200)\r\n        at okhttp3.RealCall.execute(RealCall.java:77)\r\n        at com.google.firebase.perf.network.FirebasePerfOkHttpClient.execute(Unknown Source)\r\n        at com.riversoft.eventssion.network.BranchNetworkClient.doRestfulPost(BranchNetworkClient.java:59)\r\n        at io.branch.referral.network.BranchRemoteInterface.make_restful_post(BranchRemoteInterface.java:136)\r\n        at io.branch.referral.Branch$BranchPostTask.doInBackground(Branch.java:2860)\r\n        at io.branch.referral.Branch$BranchPostTask.doInBackground(Branch.java:2835)\r\n        at android.os.AsyncTask$2.call(AsyncTask.java:288)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:237)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)\r\n        at java.lang.Thread.run(Thread.java:841)\r\n     Caused by: javax.net.ssl.SSLProtocolException: SSL handshake aborted: ssl=0x63395a88: Failure in SSL library, usually a protocol error\r\n    error:14077410:SSL routines:SSL23_GET_SERVER_HELLO:sslv3 alert handshake failure (external/openssl/ssl/s23_clnt.c:744 0x5d9ce808:0x00000000)\r\n        at com.android.org.conscrypt.NativeCrypto.SSL_do_handshake(Native Method)\r\n        at com.android.org.conscrypt.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:406)\r\n        \t... 29 more&lt;/code&gt;\r\n\r\nI tried:\r\nhttps://github.com/BranchMetrics/android-branch-deep-linking/issues/552\r\nand:\r\n\r\n    ConnectionSpec spec = new \r\n    ConnectionSpec.Builder(ConnectionSpec.MODERN_TLS)  \r\n        .tlsVersions(TlsVersion.TLS_1_2)\r\n        .cipherSuites(\r\n              CipherSuite.TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,\r\n              CipherSuite.TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,\r\n              CipherSuite.TLS_DHE_RSA_WITH_AES_128_GCM_SHA256)\r\n        .build();\r\n    \r\n    OkHttpClient client = new OkHttpClient.Builder() \r\n        .connectionSpecs(Collections.singletonList(spec))\r\n        .build();\r\n\r\nP.S. This is problem is on API19, but API 28, 27, 25, 23 all is good worked.\r\n\r\n","title":"BranchSDK: User session has not been initialized","body":"<p>I have problem with BranchSDK, during initialization i receive error:</p>\n\n<p><code>12-28 13:50:22.203 D/FirebasePerformance: Logging NetworkRequestMetric - <a href=\"https://api2.branch.io/v1/install\" rel=\"nofollow noreferrer\">https://api2.branch.io/v1/install</a> 0b 1136ms,\n12-28 13:50:22.204 I/FirebasePerformance: Did not receive a HTTP Response Code\n12-28 13:50:22.204 W/FirebasePerformance: Unable to process the PerfMetric due to missing or invalid values. See earlier log statements for additional information on the specific missing/invalid values.\n12-28 13:50:22.208 E/BranchNetworkClient: Error in doRestfulGet(<a href=\"https://api2.branch.io/v1/install\" rel=\"nofollow noreferrer\">https://api2.branch.io/v1/install</a>)\n    javax.net.ssl.SSLHandshakeException: javax.net.ssl.SSLProtocolException: SSL handshake aborted: ssl=0x63395a88: Failure in SSL library, usually a protocol error\n    error:14077410:SSL routines:SSL23_GET_SERVER_HELLO:sslv3 alert handshake failure (external/openssl/ssl/s23_clnt.c:744 0x5d9ce808:0x00000000)\n        at com.android.org.conscrypt.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:449)\n        at okhttp3.internal.connection.RealConnection.connectTls(RealConnection.java:318)\n        at okhttp3.internal.connection.RealConnection.establishProtocol(RealConnection.java:282)\n        at okhttp3.internal.connection.RealConnection.connect(RealConnection.java:167)\n        at okhttp3.internal.connection.StreamAllocation.findConnection(StreamAllocation.java:257)\n        at okhttp3.internal.connection.StreamAllocation.findHealthyConnection(StreamAllocation.java:135)\n        at okhttp3.internal.connection.StreamAllocation.newStream(StreamAllocation.java:114)\n        at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:42)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\n        at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\n        at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n        at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:126)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\n        at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:200)\n        at okhttp3.RealCall.execute(RealCall.java:77)\n        at com.google.firebase.perf.network.FirebasePerfOkHttpClient.execute(Unknown Source)\n        at com.riversoft.eventssion.network.BranchNetworkClient.doRestfulPost(BranchNetworkClient.java:59)\n        at io.branch.referral.network.BranchRemoteInterface.make_restful_post(BranchRemoteInterface.java:136)\n        at io.branch.referral.Branch$BranchPostTask.doInBackground(Branch.java:2860)\n        at io.branch.referral.Branch$BranchPostTask.doInBackground(Branch.java:2835)\n        at android.os.AsyncTask$2.call(AsyncTask.java:288)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:237)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)\n        at java.lang.Thread.run(Thread.java:841)\n     Caused by: javax.net.ssl.SSLProtocolException: SSL handshake aborted: ssl=0x63395a88: Failure in SSL library, usually a protocol error\n    error:14077410:SSL routines:SSL23_GET_SERVER_HELLO:sslv3 alert handshake failure (external/openssl/ssl/s23_clnt.c:744 0x5d9ce808:0x00000000)\n        at com.android.org.conscrypt.NativeCrypto.SSL_do_handshake(Native Method)\n        at com.android.org.conscrypt.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:406)\n            ... 29 more</code></p>\n\n<p>I tried:\n<a href=\"https://github.com/BranchMetrics/android-branch-deep-linking/issues/552\" rel=\"nofollow noreferrer\">https://github.com/BranchMetrics/android-branch-deep-linking/issues/552</a>\nand:</p>\n\n<pre><code>ConnectionSpec spec = new \nConnectionSpec.Builder(ConnectionSpec.MODERN_TLS)  \n    .tlsVersions(TlsVersion.TLS_1_2)\n    .cipherSuites(\n          CipherSuite.TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,\n          CipherSuite.TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,\n          CipherSuite.TLS_DHE_RSA_WITH_AES_128_GCM_SHA256)\n    .build();\n\nOkHttpClient client = new OkHttpClient.Builder() \n    .connectionSpecs(Collections.singletonList(spec))\n    .build();\n</code></pre>\n\n<p>P.S. This is problem is on API19, but API 28, 27, 25, 23 all is good worked.</p>\n"},{"tags":["java","java.util.concurrent","concurrenthashmap"],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680888238,"creation_date":1680888238,"answer_id":75960668,"question_id":75958948,"body_markdown":"Interpreting your data structure based on the code you&#39;re using to access it, you have an outer map from `String` codes to inner singleton maps, and each inner map maps exactly one code to a `Model`.  The `Model`s have multiple distinct properties that are to be updated, as a group, from time to time.  Each key of the outer map is the same as the single key of the corresponding inner map.  Each key of each inner map is the same as the `code` property of the corresponding `Model`.\r\n\r\nI guess, then, the idea for the inner maps, which otherwise seem redundant, is to use their `ConcurrentHashMap.compute()` methods to perform modifications of multiple properties of the `Model` objects as atomic groups, without blocking concurrent modification of different `Model` objects.\r\n\r\n&gt; Multiple threads will try to update values of same mainCode, does below cause trouble?\r\n\r\n[Each entire invocation of `ConcurrentHashMap.compute()` is performed atomically][1], so multiple threads invoking `securities.compute()` via your `updateModel()` method, whether for the same or for different keys, will not interfere with each other with respect to the `securities` map itself.\r\n\r\nSimilarly, multiple threads concurrently invoking `modifyValue()` with the same first argument will not interfere with each other with respect to that map. The `Model`-property modifications will be performed as an atomic group *with respect to other operations on the map*.\r\n\r\nBut **that&#39;s not sufficient**.  If those properties of your `Model` objects are accessed by any other path (and surely they are at least *read* at some point), then that produces data races.  At minimum, those reads can observe inconsistent combinations of property values.\r\n\r\nIt might be possible to build sufficient additional infrastructure around this nested-map idea to serve all your needs without data races, but this cure is probably worse than the disease.  I see two potential approaches that are superior:\r\n\r\n 1. Make the `Model` objects immutable, and remove the inner maps (the outer map will map codes directly to `Model`s).  Instead of updating existing `Model` objects, *replace* them with new ones having the desired properties.\r\n\r\nOR\r\n\r\n 2. Apply explicit locks or conventional synchronization appropriately to protect all accesses to the `Model` objects, and remove the inner maps.\r\n\r\nIf (1) is viable for you with respect to the other requirements of your application then that&#39;s what I would recommend.  If not, then probably there is no alternative better than (2).\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html#compute(K,java.util.function.BiFunction)","title":"applying concurrency when a ConcurrentHashMap is map value","body":"<p>Interpreting your data structure based on the code you're using to access it, you have an outer map from <code>String</code> codes to inner singleton maps, and each inner map maps exactly one code to a <code>Model</code>.  The <code>Model</code>s have multiple distinct properties that are to be updated, as a group, from time to time.  Each key of the outer map is the same as the single key of the corresponding inner map.  Each key of each inner map is the same as the <code>code</code> property of the corresponding <code>Model</code>.</p>\n<p>I guess, then, the idea for the inner maps, which otherwise seem redundant, is to use their <code>ConcurrentHashMap.compute()</code> methods to perform modifications of multiple properties of the <code>Model</code> objects as atomic groups, without blocking concurrent modification of different <code>Model</code> objects.</p>\n<blockquote>\n<p>Multiple threads will try to update values of same mainCode, does below cause trouble?</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html#compute(K,java.util.function.BiFunction)\" rel=\"nofollow noreferrer\">Each entire invocation of <code>ConcurrentHashMap.compute()</code> is performed atomically</a>, so multiple threads invoking <code>securities.compute()</code> via your <code>updateModel()</code> method, whether for the same or for different keys, will not interfere with each other with respect to the <code>securities</code> map itself.</p>\n<p>Similarly, multiple threads concurrently invoking <code>modifyValue()</code> with the same first argument will not interfere with each other with respect to that map. The <code>Model</code>-property modifications will be performed as an atomic group <em>with respect to other operations on the map</em>.</p>\n<p>But <strong>that's not sufficient</strong>.  If those properties of your <code>Model</code> objects are accessed by any other path (and surely they are at least <em>read</em> at some point), then that produces data races.  At minimum, those reads can observe inconsistent combinations of property values.</p>\n<p>It might be possible to build sufficient additional infrastructure around this nested-map idea to serve all your needs without data races, but this cure is probably worse than the disease.  I see two potential approaches that are superior:</p>\n<ol>\n<li>Make the <code>Model</code> objects immutable, and remove the inner maps (the outer map will map codes directly to <code>Model</code>s).  Instead of updating existing <code>Model</code> objects, <em>replace</em> them with new ones having the desired properties.</li>\n</ol>\n<p>OR</p>\n<ol start=\"2\">\n<li>Apply explicit locks or conventional synchronization appropriately to protect all accesses to the <code>Model</code> objects, and remove the inner maps.</li>\n</ol>\n<p>If (1) is viable for you with respect to the other requirements of your application then that's what I would recommend.  If not, then probably there is no alternative better than (2).</p>\n"}],"owner":{"account_id":393450,"reputation":25,"user_id":4151342,"display_name":"SmokingTurtle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75960668,"answer_count":1,"score":0,"last_activity_date":1680888238,"creation_date":1680874849,"question_id":75958948,"body_markdown":"Multiple threads will try to update values of same mainCode, does below cause trouble? Also another job will consistently read values of securities and apply operations if values match. \r\n\r\n    public class MyObj {\r\n    \r\n        \tprivate static ConcurrentHashMap&lt;String, ConcurrentHashMap&lt;String, Model&gt;&gt; securities = new ConcurrentHashMap&lt;&gt;();\r\n        \r\n        \tprivate static void updateModel(String mainCode, String code, BigDecimal valueA, BigDecimal valueB) {\r\n        \t\tsecurities.compute(mainCode, (k, v) -&gt; {\r\n        \t\t\tmodifyValue(v, valueA, valueB, code);\r\n        \t\t\treturn v;\r\n        \t\t});\r\n        \t}\r\n        \r\n        \tprivate static void modifyValue(ConcurrentHashMap&lt;String, Model&gt; v, BigDecimal valueA, BigDecimal ValueB, String code) {\r\n        \t\tv.compute(code, (k, val) -&gt; {\r\n        \t\t\tval.setCode(code);\r\n        \t\t\tval.setValueA(valueA);\r\n        \t\t\tval.setValueB(ValueB);\r\n        \t\t\treturn val;\r\n        \t\t});\r\n        \r\n        \t}\r\n        \r\n        }\r\n\r\n","title":"applying concurrency when a ConcurrentHashMap is map value","body":"<p>Multiple threads will try to update values of same mainCode, does below cause trouble? Also another job will consistently read values of securities and apply operations if values match.</p>\n<pre><code>public class MyObj {\n\n        private static ConcurrentHashMap&lt;String, ConcurrentHashMap&lt;String, Model&gt;&gt; securities = new ConcurrentHashMap&lt;&gt;();\n    \n        private static void updateModel(String mainCode, String code, BigDecimal valueA, BigDecimal valueB) {\n            securities.compute(mainCode, (k, v) -&gt; {\n                modifyValue(v, valueA, valueB, code);\n                return v;\n            });\n        }\n    \n        private static void modifyValue(ConcurrentHashMap&lt;String, Model&gt; v, BigDecimal valueA, BigDecimal ValueB, String code) {\n            v.compute(code, (k, val) -&gt; {\n                val.setCode(code);\n                val.setValueA(valueA);\n                val.setValueB(ValueB);\n                return val;\n            });\n    \n        }\n    \n    }\n</code></pre>\n"},{"tags":["java","spring-boot","performance","encryption","wildfly"],"comments":[{"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1680913333,"post_id":75960617,"comment_id":133980128,"body_markdown":"Try using a profiler - it will show where exactly CPU time is spent in both cases.","body":"Try using a profiler - it will show where exactly CPU time is spent in both cases."},{"owner":{"account_id":17756185,"reputation":23,"user_id":12893238,"display_name":"Yannick Forster"},"score":0,"creation_date":1681405333,"post_id":75960617,"comment_id":134054795,"body_markdown":"I have tried with the profiler but couldn&#39;t get to the bottom of it. However I noticed building the .jar and running it over the command line the Spring version is now on par with the Wildfly one but running it from within IntelliJ is still slow. Is it possible that running it through intelliJ makes it slower? Do they share resources when run that way or something?","body":"I have tried with the profiler but couldn&#39;t get to the bottom of it. However I noticed building the .jar and running it over the command line the Spring version is now on par with the Wildfly one but running it from within IntelliJ is still slow. Is it possible that running it through intelliJ makes it slower? Do they share resources when run that way or something?"}],"owner":{"account_id":17756185,"reputation":23,"user_id":12893238,"display_name":"Yannick Forster"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680887712,"creation_date":1680887712,"question_id":75960617,"body_markdown":"I have a java web service using jakarta and javax.ws.rs. The service takes a GET request and returns a generated captcha image alongside a token containing the encrypted solution. I am using the Cipherhandler class to encrypt the solution string after generating the image from it.\r\n\r\nThe code in question:\r\n\r\n```\r\n@ApplicationPath(&quot;/captcha&quot;)\r\n@Path(&quot;/demo&quot;)\r\n@Log4j2\r\npublic class Api extends Application {\r\n\r\n\tprivate final SecureTextCaptchaHandler handler = new SecureTextCaptchaHandler();\r\n\tprivate final SimpleTextImageRenderer renderer = new SimpleTextImageRenderer();\r\n\tprivate final CaptchaTextGenerator gen = new SimpleCaptchaTextGenerator();\r\n\tprivate final CipherHandler ch = new CipherHandler();\r\n\tprivate final Validator validator = new Validator();\r\n\r\n\t@GET\r\n\t@Path(&quot;/text&quot;)\r\n\t@Produces(MediaType.APPLICATION_JSON)\r\n\tpublic Response getTextCaptcha() {\r\n\t\tlong start = System.currentTimeMillis();\r\n\t\tString solution = gen.generate(4);\r\n\t\tCaptcha captcha = handler.toCaptcha(solution, ch, &quot;SomeSaltSource&quot;, &quot;myPassword&quot;, renderer, 200, 600, true);\r\n\t\tSystem.out.println(&quot;Serving TextCaptcha took &quot; + (System.currentTimeMillis() - start) + &quot; milliseconds.&quot;);\r\n\t\treturn Response.ok().entity(captcha).build();\r\n\t}\r\n```\r\n\r\n\r\nI have also created a spring boot application with spring boot 3.0.5 that implements the same functionality and runs the exact same code. Essentially it just calls the same methods with the same arguments from a RestController. However I observed that while the image generation takes roughly the same time between the two, encrypting the string to create the token is considerably slower with spring boot.\r\n\r\nThe spring boot version:\r\n```\r\n@Log4j2\r\n@Component\r\n@RestController\r\npublic class Api {\r\n\r\n    private final SecureTextCaptchaHandler handler = new SecureTextCaptchaHandler();\r\n    private final SimpleTextImageRenderer renderer = new SimpleTextImageRenderer();\r\n    private final CaptchaTextGenerator gen = new SimpleCaptchaTextGenerator();\r\n    private final CipherHandler ch = new CipherHandler();\r\n    private final Validator validator = new Validator();\r\n\r\n    @GetMapping(value = &quot;/captcha/demo/text&quot;, produces = &quot;application/json; charset=UTF-8&quot;)\r\n    public ResponseEntity&lt;Captcha&gt; getTextCaptcha() {\r\n        long start = System.currentTimeMillis();\r\n        String solution = gen.generate(4);\r\n        Captcha captcha = handler.toCaptcha(solution, ch, &quot;SomeSaltSource&quot;, &quot;myPassword&quot;, renderer, 200, 600, true);\r\n        System.out.println(&quot;Serving TextCaptcha took &quot; + (System.currentTimeMillis() - start) + &quot; milliseconds.&quot;);\r\n        return ResponseEntity.ok(captcha);\r\n    }\r\n```\r\n\r\n\r\nThe encrypting method:\r\n\r\n```\r\npublic byte[] encryptString(byte[] input, String password, Serializable saltSource, byte[] ivBytes) {\r\n\t\tif(StringUtils.isEmpty(password)) {\r\n\t\t\tthrow new IllegalArgumentException(&quot;The supplied password is empty or null. Encryption can not proceed.&quot;);\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tCipher cipher = getCipher(password, saltSource, Cipher.ENCRYPT_MODE, ivBytes);\r\n\t\t\tbyte[] cipherBytes = cipher.doFinal(input);\r\n\t\t\tByteArrayOutputStream outputStream = new ByteArrayOutputStream( );\r\n\t\t\toutputStream.write( ivBytes );\r\n\t\t\toutputStream.write( cipherBytes );\r\n\t\t\treturn outputStream.toByteArray( );\r\n\t\t} catch (IOException e) {\r\n\t\t\tlog.fatal(&quot;Fatal error producing byte array data of the salt source object: &quot; + e.getLocalizedMessage());\r\n\t\t} catch (NoSuchAlgorithmException e) {\r\n\t\t\tlog.fatal(&quot;Unknown algorithm specified for token encryption: &quot; + e.getLocalizedMessage());\r\n\t\t} catch (NoSuchPaddingException e) {\r\n\t\t\tlog.fatal(&quot;Unknown padding specified for token encryption: &quot; + e.getLocalizedMessage());\r\n\t\t} catch (InvalidKeySpecException | InvalidKeyException | InvalidAlgorithmParameterException\r\n\t\t\t\t| IllegalBlockSizeException | BadPaddingException e) {\r\n\t\t\tlog.fatal(&quot;Fatal error during token encryption: &quot; + e.getLocalizedMessage());\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n```\r\n\r\n\r\nI decided to log the time before and after calling the method.\r\n\r\n```\r\nstart = System.currentTimeMillis();\r\nbyte[] encryptedToken = cipherHandler.encryptString(captchaText.getBytes(), password, saltSource);\r\nSystem.out.println(&quot;Generating token took &quot; + (System.currentTimeMillis() - start) + &quot; milliseconds.&quot;);\r\n```\r\n\r\n\r\n When using spring boot I get the following:\r\n```\r\nGenerating token took 88 milliseconds.\r\nGenerating token took 92 milliseconds.\r\nGenerating token took 90 milliseconds.\r\nGenerating token took 90 milliseconds.\r\n```\r\n\r\nOn wildfly however, I get:\r\n```\r\n18:25:37,559 INFO  [stdout] (default task-1) Generating token took 15 milliseconds.\r\n18:25:39,449 INFO  [stdout] (default task-1) Generating token took 14 milliseconds.\r\n18:25:42,776 INFO  [stdout] (default task-1) Generating token took 14 milliseconds.\r\n18:25:44,206 INFO  [stdout] (default task-1) Generating token took 14 milliseconds.\r\n```\r\n\r\nSince it&#39;s possible I need to encrypt twice (because of how I want the token to look) this essentially ruins the response time for the service.\r\n\r\nCan someone explain to my where this difference comes from and what I could do to improve performance when running the application with spring boot?\r\n\r\nI made sure both times are running on the same JDK (17) and swapped the embedded tomcat in spring for netty but saw no difference. Both are running on my machine locally.\r\n\r\nI expected the response time on spring to be around the same as the with the application running on wildfly.","title":"Encrypting Strings runs much slower in Spring Boot than on Wildfly26","body":"<p>I have a java web service using jakarta and javax.ws.rs. The service takes a GET request and returns a generated captcha image alongside a token containing the encrypted solution. I am using the Cipherhandler class to encrypt the solution string after generating the image from it.</p>\n<p>The code in question:</p>\n<pre><code>@ApplicationPath(&quot;/captcha&quot;)\n@Path(&quot;/demo&quot;)\n@Log4j2\npublic class Api extends Application {\n\n    private final SecureTextCaptchaHandler handler = new SecureTextCaptchaHandler();\n    private final SimpleTextImageRenderer renderer = new SimpleTextImageRenderer();\n    private final CaptchaTextGenerator gen = new SimpleCaptchaTextGenerator();\n    private final CipherHandler ch = new CipherHandler();\n    private final Validator validator = new Validator();\n\n    @GET\n    @Path(&quot;/text&quot;)\n    @Produces(MediaType.APPLICATION_JSON)\n    public Response getTextCaptcha() {\n        long start = System.currentTimeMillis();\n        String solution = gen.generate(4);\n        Captcha captcha = handler.toCaptcha(solution, ch, &quot;SomeSaltSource&quot;, &quot;myPassword&quot;, renderer, 200, 600, true);\n        System.out.println(&quot;Serving TextCaptcha took &quot; + (System.currentTimeMillis() - start) + &quot; milliseconds.&quot;);\n        return Response.ok().entity(captcha).build();\n    }\n</code></pre>\n<p>I have also created a spring boot application with spring boot 3.0.5 that implements the same functionality and runs the exact same code. Essentially it just calls the same methods with the same arguments from a RestController. However I observed that while the image generation takes roughly the same time between the two, encrypting the string to create the token is considerably slower with spring boot.</p>\n<p>The spring boot version:</p>\n<pre><code>@Log4j2\n@Component\n@RestController\npublic class Api {\n\n    private final SecureTextCaptchaHandler handler = new SecureTextCaptchaHandler();\n    private final SimpleTextImageRenderer renderer = new SimpleTextImageRenderer();\n    private final CaptchaTextGenerator gen = new SimpleCaptchaTextGenerator();\n    private final CipherHandler ch = new CipherHandler();\n    private final Validator validator = new Validator();\n\n    @GetMapping(value = &quot;/captcha/demo/text&quot;, produces = &quot;application/json; charset=UTF-8&quot;)\n    public ResponseEntity&lt;Captcha&gt; getTextCaptcha() {\n        long start = System.currentTimeMillis();\n        String solution = gen.generate(4);\n        Captcha captcha = handler.toCaptcha(solution, ch, &quot;SomeSaltSource&quot;, &quot;myPassword&quot;, renderer, 200, 600, true);\n        System.out.println(&quot;Serving TextCaptcha took &quot; + (System.currentTimeMillis() - start) + &quot; milliseconds.&quot;);\n        return ResponseEntity.ok(captcha);\n    }\n</code></pre>\n<p>The encrypting method:</p>\n<pre><code>public byte[] encryptString(byte[] input, String password, Serializable saltSource, byte[] ivBytes) {\n        if(StringUtils.isEmpty(password)) {\n            throw new IllegalArgumentException(&quot;The supplied password is empty or null. Encryption can not proceed.&quot;);\n        }\n        try {\n            Cipher cipher = getCipher(password, saltSource, Cipher.ENCRYPT_MODE, ivBytes);\n            byte[] cipherBytes = cipher.doFinal(input);\n            ByteArrayOutputStream outputStream = new ByteArrayOutputStream( );\n            outputStream.write( ivBytes );\n            outputStream.write( cipherBytes );\n            return outputStream.toByteArray( );\n        } catch (IOException e) {\n            log.fatal(&quot;Fatal error producing byte array data of the salt source object: &quot; + e.getLocalizedMessage());\n        } catch (NoSuchAlgorithmException e) {\n            log.fatal(&quot;Unknown algorithm specified for token encryption: &quot; + e.getLocalizedMessage());\n        } catch (NoSuchPaddingException e) {\n            log.fatal(&quot;Unknown padding specified for token encryption: &quot; + e.getLocalizedMessage());\n        } catch (InvalidKeySpecException | InvalidKeyException | InvalidAlgorithmParameterException\n                | IllegalBlockSizeException | BadPaddingException e) {\n            log.fatal(&quot;Fatal error during token encryption: &quot; + e.getLocalizedMessage());\n        }\n        return null;\n    }\n</code></pre>\n<p>I decided to log the time before and after calling the method.</p>\n<pre><code>start = System.currentTimeMillis();\nbyte[] encryptedToken = cipherHandler.encryptString(captchaText.getBytes(), password, saltSource);\nSystem.out.println(&quot;Generating token took &quot; + (System.currentTimeMillis() - start) + &quot; milliseconds.&quot;);\n</code></pre>\n<p>When using spring boot I get the following:</p>\n<pre><code>Generating token took 88 milliseconds.\nGenerating token took 92 milliseconds.\nGenerating token took 90 milliseconds.\nGenerating token took 90 milliseconds.\n</code></pre>\n<p>On wildfly however, I get:</p>\n<pre><code>18:25:37,559 INFO  [stdout] (default task-1) Generating token took 15 milliseconds.\n18:25:39,449 INFO  [stdout] (default task-1) Generating token took 14 milliseconds.\n18:25:42,776 INFO  [stdout] (default task-1) Generating token took 14 milliseconds.\n18:25:44,206 INFO  [stdout] (default task-1) Generating token took 14 milliseconds.\n</code></pre>\n<p>Since it's possible I need to encrypt twice (because of how I want the token to look) this essentially ruins the response time for the service.</p>\n<p>Can someone explain to my where this difference comes from and what I could do to improve performance when running the application with spring boot?</p>\n<p>I made sure both times are running on the same JDK (17) and swapped the embedded tomcat in spring for netty but saw no difference. Both are running on my machine locally.</p>\n<p>I expected the response time on spring to be around the same as the with the application running on wildfly.</p>\n"},{"tags":["java","maven","plugins","jar"],"comments":[{"owner":{"account_id":1936546,"reputation":133665,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":0,"creation_date":1469361807,"post_id":38548271,"comment_id":64494201,"body_markdown":"This is really too broad to answer. Take a look at the documentation of each plugin to see what it does. There are examples also in the docs.","body":"This is really too broad to answer. Take a look at the documentation of each plugin to see what it does. There are examples also in the docs."},{"owner":{"account_id":396691,"reputation":1552,"user_id":760393,"accept_rate":71,"display_name":"Ra&#250;l"},"score":18,"creation_date":1479214016,"post_id":38548271,"comment_id":68454649,"body_markdown":"IMHO, This is a good question. For a newbie, (or many experts, for that matter) this choice is confusing. And yes, have docs been suffice for each/every thing - there was no need for SO at first place.","body":"IMHO, This is a good question. For a newbie, (or many experts, for that matter) this choice is confusing. And yes, have docs been suffice for each/every thing - there was no need for SO at first place."}],"answers":[{"tags":[],"owner":{"account_id":2453753,"reputation":2564,"user_id":2139422,"display_name":"Arthur Noseda"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1469405794,"creation_date":1469405794,"answer_id":38558129,"question_id":38548271,"body_markdown":"[Jar plugin][1]\r\n\r\nLet&#39;s see what the following command can tell.\r\n\r\n`mvn help:describe -Dplugin=org.apache.maven.plugins:maven-jar-plugin`\r\n\r\nIt has 3 goals, `help`, `jar` and `test-jar`. I believe you are mostly interested in the `jar` goal, which according to the description does the following:\r\n\r\n&gt; Build a JAR from the current project.\r\n\r\n\r\nAs a side note, executing `mvn help:effective-pom` on a project with packaging set to `jar`, shows that this plugin is automatically configured and gets executed during the `package` phase.\r\n\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;default-jar&lt;/id&gt;\r\n            &lt;phase&gt;package&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;jar&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n\r\n[Assembly plugin][2]\r\n\r\nThis one serves a different purpose. It has 8 goals, but 6 of them are deprecated. So apart from the `help` goal, this leaves us with the `single` goal.\r\n\r\n`mvn help:describe -Dplugin=org.apache.maven.plugins:maven-assembly-plugin`\r\n\r\n&gt; Assemble an application bundle or distribution from an assembly descriptor. This goal is suitable either for binding to the lifecycle or calling directly from the command line (provided all required files are available before the build starts, or are produced by another goal specified before this one on the command line).\r\n\r\nYou may use the assembly plugin when you want to deliver more than your project&#39;s artifact (JAR, WAR, etc.), but the configuration goes in another file.\r\n\r\n[Shade plugin][3]\r\n\r\nThe description of the main goal is a bit disappointing.\r\n\r\n`mvn help:describe -Dplugin=org.apache.maven.plugins:maven-shade-plugin`\r\n\r\n&gt; Mojo that performs shading delegating to the Shader component.\r\n\r\nYou mostly want to use this plugin if you want to produce an uber-jar, which is your artifact in a JAR with all its transitive dependencies in it.\r\n\r\nBasicly, if you&#39;re building a library, you&#39;ll stick with the default JAR plugin. If you&#39;re building an application, you could consider using the shade plugin, though to me, it&#39;s kind of quick and dirty. If uber-jar is not your taste or the distribution cannot fit inside a single JAR (external configuration, native dependencies, etc.) then you should go for the assembly plugin.\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-jar-plugin/\r\n  [2]: http://maven.apache.org/plugins/maven-assembly-plugin/\r\n  [3]: https://maven.apache.org/plugins/maven-shade-plugin/","title":"Difference between the maven-assembly-plugin, maven-jar-plugin and maven-shade-plugin?","body":"<p><a href=\"https://maven.apache.org/plugins/maven-jar-plugin/\" rel=\"noreferrer\">Jar plugin</a></p>\n\n<p>Let's see what the following command can tell.</p>\n\n<p><code>mvn help:describe -Dplugin=org.apache.maven.plugins:maven-jar-plugin</code></p>\n\n<p>It has 3 goals, <code>help</code>, <code>jar</code> and <code>test-jar</code>. I believe you are mostly interested in the <code>jar</code> goal, which according to the description does the following:</p>\n\n<blockquote>\n  <p>Build a JAR from the current project.</p>\n</blockquote>\n\n<p>As a side note, executing <code>mvn help:effective-pom</code> on a project with packaging set to <code>jar</code>, shows that this plugin is automatically configured and gets executed during the <code>package</code> phase.</p>\n\n<pre><code>  &lt;plugin&gt;\n    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.4&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;default-jar&lt;/id&gt;\n        &lt;phase&gt;package&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;jar&lt;/goal&gt;\n        &lt;/goals&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n  &lt;/plugin&gt;\n</code></pre>\n\n<p><a href=\"http://maven.apache.org/plugins/maven-assembly-plugin/\" rel=\"noreferrer\">Assembly plugin</a></p>\n\n<p>This one serves a different purpose. It has 8 goals, but 6 of them are deprecated. So apart from the <code>help</code> goal, this leaves us with the <code>single</code> goal.</p>\n\n<p><code>mvn help:describe -Dplugin=org.apache.maven.plugins:maven-assembly-plugin</code></p>\n\n<blockquote>\n  <p>Assemble an application bundle or distribution from an assembly descriptor. This goal is suitable either for binding to the lifecycle or calling directly from the command line (provided all required files are available before the build starts, or are produced by another goal specified before this one on the command line).</p>\n</blockquote>\n\n<p>You may use the assembly plugin when you want to deliver more than your project's artifact (JAR, WAR, etc.), but the configuration goes in another file.</p>\n\n<p><a href=\"https://maven.apache.org/plugins/maven-shade-plugin/\" rel=\"noreferrer\">Shade plugin</a></p>\n\n<p>The description of the main goal is a bit disappointing.</p>\n\n<p><code>mvn help:describe -Dplugin=org.apache.maven.plugins:maven-shade-plugin</code></p>\n\n<blockquote>\n  <p>Mojo that performs shading delegating to the Shader component.</p>\n</blockquote>\n\n<p>You mostly want to use this plugin if you want to produce an uber-jar, which is your artifact in a JAR with all its transitive dependencies in it.</p>\n\n<p>Basicly, if you're building a library, you'll stick with the default JAR plugin. If you're building an application, you could consider using the shade plugin, though to me, it's kind of quick and dirty. If uber-jar is not your taste or the distribution cannot fit inside a single JAR (external configuration, native dependencies, etc.) then you should go for the assembly plugin.</p>\n"},{"tags":[],"owner":{"account_id":5207197,"reputation":4387,"user_id":4164722,"accept_rate":0,"display_name":"secfree"},"down_vote_count":0,"up_vote_count":132,"is_accepted":false,"score":132,"last_activity_date":1547729008,"creation_date":1492392981,"answer_id":43444019,"question_id":38548271,"body_markdown":"1. `maven-jar-plugin`: This plugin provides the capability to build and sign JARs. But it just compiles the java files under `src/main/java` and `src/main/resources/`. It doesn&#39;t include the dependencies JAR files.\r\n1. `maven-assembly-plugin`: This plugin extracts all dependency JARs into raw classes and groups them together. It can also be used to build an executable JAR by specifying the main class. It works in project with less dependencies only; for large project with many dependencies, it will cause Java class names to conflict.\r\n1. `maven-shade-plugin`: It packages all dependencies into one uber-JAR. It can also be used to build an executable JAR by specifying the main class. This plugin is particularly useful as it merges content of specific files instead of overwriting them by [relocating classes](http://maven.apache.org/plugins/maven-shade-plugin/examples/class-relocation.html). This is needed when there are resource files that have the same name across the JARs and the plugin tries to package all the resource files together.\r\n\r\nRefer: [comparison:maven plugin jar,assembly,shade](https://gist.github.com/simonwoo/04b133cb0745e1a0f1d6)","title":"Difference between the maven-assembly-plugin, maven-jar-plugin and maven-shade-plugin?","body":"<ol>\n<li><code>maven-jar-plugin</code>: This plugin provides the capability to build and sign JARs. But it just compiles the java files under <code>src/main/java</code> and <code>src/main/resources/</code>. It doesn't include the dependencies JAR files.</li>\n<li><code>maven-assembly-plugin</code>: This plugin extracts all dependency JARs into raw classes and groups them together. It can also be used to build an executable JAR by specifying the main class. It works in project with less dependencies only; for large project with many dependencies, it will cause Java class names to conflict.</li>\n<li><code>maven-shade-plugin</code>: It packages all dependencies into one uber-JAR. It can also be used to build an executable JAR by specifying the main class. This plugin is particularly useful as it merges content of specific files instead of overwriting them by <a href=\"http://maven.apache.org/plugins/maven-shade-plugin/examples/class-relocation.html\" rel=\"noreferrer\">relocating classes</a>. This is needed when there are resource files that have the same name across the JARs and the plugin tries to package all the resource files together.</li>\n</ol>\n\n<p>Refer: <a href=\"https://gist.github.com/simonwoo/04b133cb0745e1a0f1d6\" rel=\"noreferrer\">comparison:maven plugin jar,assembly,shade</a></p>\n"}],"owner":{"account_id":8664516,"reputation":1661,"user_id":6485606,"accept_rate":19,"display_name":"ilovejavaAJ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30499,"favorite_count":0,"down_vote_count":3,"up_vote_count":109,"answer_count":2,"score":106,"last_activity_date":1680887627,"creation_date":1469328578,"question_id":38548271,"body_markdown":"I am a beginner in maven and now I&#39;m confused with the difference between the following 3 Maven plugins:\r\n\r\n- `maven-assembly-plugin`\r\n- `maven-jar-plugin`\r\n- `maven-shade-plugin`\r\n\r\nDo all of these create jar files? If so what is the difference between the Jar files they create? What is the purpose of each plugin and in what context should each be used?","title":"Difference between the maven-assembly-plugin, maven-jar-plugin and maven-shade-plugin?","body":"<p>I am a beginner in maven and now I'm confused with the difference between the following 3 Maven plugins:</p>\n<ul>\n<li><code>maven-assembly-plugin</code></li>\n<li><code>maven-jar-plugin</code></li>\n<li><code>maven-shade-plugin</code></li>\n</ul>\n<p>Do all of these create jar files? If so what is the difference between the Jar files they create? What is the purpose of each plugin and in what context should each be used?</p>\n"},{"tags":["java","spring-boot","file-upload","frontend","multipartfile"],"comments":[{"owner":{"account_id":11426762,"reputation":89,"user_id":8376709,"display_name":"Yury"},"score":0,"creation_date":1680854491,"post_id":75954008,"comment_id":133970098,"body_markdown":"MockMultipartFile suggests you are getting this exception in the test. can you provide your test code?","body":"MockMultipartFile suggests you are getting this exception in the test. can you provide your test code?"},{"owner":{"account_id":28109607,"reputation":29,"user_id":21477593,"display_name":"Micu Bogdan"},"score":0,"creation_date":1680887152,"post_id":75954008,"comment_id":133976351,"body_markdown":"@Yury I&#39;m not using the MockMultipartFile in the tests. As u can see in the convert() method, I&#39;m using it to convert the File object I&#39;m providing to the saveFile() method to a MultipartFile that can be sent to the server. I couldn&#39;t figure out a better way to make the conversion.","body":"@Yury I&#39;m not using the MockMultipartFile in the tests. As u can see in the convert() method, I&#39;m using it to convert the File object I&#39;m providing to the saveFile() method to a MultipartFile that can be sent to the server. I couldn&#39;t figure out a better way to make the conversion."}],"owner":{"account_id":28109607,"reputation":29,"user_id":21477593,"display_name":"Micu Bogdan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680887477,"creation_date":1680817666,"question_id":75954008,"body_markdown":"My Springboot project that builds using gradle has an upload feature that lets the user choose a file from their PC and upload it the server for later use. The backend is fully functioning as I could test it with Postman, so the error must be generated somewhere in the frontend. I added the multipart dependencies in the build.gradle, but I&#39;m not sure what else to do.\r\n```\r\n\timplementation &#39;org.glassfish.jersey.media:jersey-media-multipart:2.34&#39;\r\n```\r\nThis is the error message: \r\n```\r\nCaused by: org.glassfish.jersey.message.internal.MessageBodyProviderNotFoundException: MessageBodyWriter not found for media type=multipart/form-data, type=class org.springframework.mock.web.MockMultipartFile, genericType=class org.springframework.mock.web.MockMultipartFile.\r\n\tat org.glassfish.jersey.message.internal.WriterInterceptorExecutor$TerminalWriterInterceptor.aroundWriteTo(WriterInterceptorExecutor.java:224)\r\n\tat org.glassfish.jersey.message.internal.WriterInterceptorExecutor.proceed(WriterInterceptorExecutor.java:139)\r\n\tat org.glassfish.jersey.message.internal.MessageBodyFactory.writeTo(MessageBodyFactory.java:1116)\r\n\tat org.glassfish.jersey.client.ClientRequest.doWriteEntity(ClientRequest.java:461)\r\n\tat org.glassfish.jersey.client.ClientRequest.writeEntity(ClientRequest.java:443)\r\n\tat org.glassfish.jersey.client.internal.HttpUrlConnector._apply(HttpUrlConnector.java:369)\r\nCaused by: org.glassfish.jersey.message.internal.MessageBodyProviderNotFoundException: MessageBodyWriter not found for media type=multipart/form-data, type=class org.springframework.mock.web.MockMultipartFile, genericType=class org.springframework.mock.web.MockMultipartFile.\r\n\r\n\tat org.glassfish.jersey.client.internal.HttpUrlConnector.apply(HttpUrlConnector.java:267)\r\n\tat org.glassfish.jersey.client.ClientRuntime.invoke(ClientRuntime.java:297)\r\n\tat org.glassfish.jersey.client.JerseyInvocation.lambda$invoke$2(JerseyInvocation.java:687)\r\n\tat org.glassfish.jersey.client.JerseyInvocation.call(JerseyInvocation.java:697)\r\n\tat org.glassfish.jersey.client.JerseyInvocation.lambda$runInScope$3(JerseyInvocation.java:691)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:292)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:274)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:205)\r\n\tat org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:390)\r\n\tat org.glassfish.jersey.client.JerseyInvocation.runInScope(JerseyInvocation.java:691)\r\n\tat org.glassfish.jersey.client.JerseyInvocation.invoke(JerseyInvocation.java:686)\r\n\tat org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:461)\r\n\tat org.glassfish.jersey.client.JerseyInvocation$Builder.post(JerseyInvocation.java:357)\r\n\tat client.utils.ServerUtils.filePostRequest(ServerUtils.java:273)\r\n\tat client.utils.ServerUtils.saveFile(ServerUtils.java:278)\r\n\tat client.scenes.MediaPlayerCtrl.save(MediaPlayerCtrl.java:121)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\t... 57 more\r\n```\r\nThis is the client part that&#39;s making the call to the server: \r\n```\r\npublic void saveFile(File file) throws IOException {\r\n        MultipartFile file1=convert(file);\r\n        filePostRequest(&quot;secure/&quot; + store.accessStore().getUsername() + &quot;/file/add&quot;,\r\n                Entity.entity(file1, &quot;multipart/form-data&quot;), new GenericType&lt;&gt;(){});\r\n    }\r\npublic static MultipartFile convert(File file) throws IOException {\r\n        String filename = file.getName();\r\n        FileInputStream inputStream = new FileInputStream(file);\r\n        return new MockMultipartFile(filename, inputStream);\r\n    }\r\nprivate &lt;T&gt; void filePostRequest(String path, Entity send, GenericType&lt;T&gt; retType) {\r\n        ClientBuilder.newClient(new ClientConfig())\r\n                .target(getServer()).path(path)\r\n                .request(&quot;multipart/form-data&quot;)\r\n                .post(send, retType);\r\n    }\r\n```\r\nAnd this is the Controller on the server side: \r\n```\r\n@SpringBootApplication\r\n@RestController\r\n@RequestMapping(value = {&quot;/secure/{username}/{password}/file&quot;, &quot;/secure/{username}/file&quot;})\r\npublic class FileController {\r\n    @Autowired\r\n    private StorageService service;\r\n    @PostMapping(&quot;/add&quot;)\r\n    public ResponseEntity&lt;?&gt; uploadFile(@RequestParam(&quot;file&quot;) MultipartFile file) throws IOException {\r\n        String uploadFile = service.uploadFile(file);\r\n        return ResponseEntity.status(HttpStatus.OK)\r\n                .body(uploadFile);\r\n    }\r\n```\r\nEdit:\r\nI tried adding the following class to the tests as indicated in [this][1] thread, but I&#39;m encountering a &quot;Cannot access jakarta.ws.rs.core.Configurable&quot; in-IDE error (I mean it&#39;s underlined with red and it says this when hovered over) from the conf.register() method. \r\n```\r\npackage server.api;\r\nimport org.glassfish.jersey.client.ClientConfig;\r\nimport org.glassfish.jersey.media.multipart.MultiPartFeature;\r\nimport org.glassfish.jersey.test.JerseyTest;\r\n\r\npublic class FileControllerTest extends JerseyTest {\r\n    @Override\r\n    protected void configureClient(ClientConfig conf) {\r\n        conf.register(MultiPartFeature.class);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/19668426/how-to-resolve-messagebodywriter-not-found-for-media-type-multipart-form-data-er","title":"Getting a MessageBodyProviderNotFoundException when uploading a MultipartFile to the server","body":"<p>My Springboot project that builds using gradle has an upload feature that lets the user choose a file from their PC and upload it the server for later use. The backend is fully functioning as I could test it with Postman, so the error must be generated somewhere in the frontend. I added the multipart dependencies in the build.gradle, but I'm not sure what else to do.</p>\n<pre><code>    implementation 'org.glassfish.jersey.media:jersey-media-multipart:2.34'\n</code></pre>\n<p>This is the error message:</p>\n<pre><code>Caused by: org.glassfish.jersey.message.internal.MessageBodyProviderNotFoundException: MessageBodyWriter not found for media type=multipart/form-data, type=class org.springframework.mock.web.MockMultipartFile, genericType=class org.springframework.mock.web.MockMultipartFile.\n    at org.glassfish.jersey.message.internal.WriterInterceptorExecutor$TerminalWriterInterceptor.aroundWriteTo(WriterInterceptorExecutor.java:224)\n    at org.glassfish.jersey.message.internal.WriterInterceptorExecutor.proceed(WriterInterceptorExecutor.java:139)\n    at org.glassfish.jersey.message.internal.MessageBodyFactory.writeTo(MessageBodyFactory.java:1116)\n    at org.glassfish.jersey.client.ClientRequest.doWriteEntity(ClientRequest.java:461)\n    at org.glassfish.jersey.client.ClientRequest.writeEntity(ClientRequest.java:443)\n    at org.glassfish.jersey.client.internal.HttpUrlConnector._apply(HttpUrlConnector.java:369)\nCaused by: org.glassfish.jersey.message.internal.MessageBodyProviderNotFoundException: MessageBodyWriter not found for media type=multipart/form-data, type=class org.springframework.mock.web.MockMultipartFile, genericType=class org.springframework.mock.web.MockMultipartFile.\n\n    at org.glassfish.jersey.client.internal.HttpUrlConnector.apply(HttpUrlConnector.java:267)\n    at org.glassfish.jersey.client.ClientRuntime.invoke(ClientRuntime.java:297)\n    at org.glassfish.jersey.client.JerseyInvocation.lambda$invoke$2(JerseyInvocation.java:687)\n    at org.glassfish.jersey.client.JerseyInvocation.call(JerseyInvocation.java:697)\n    at org.glassfish.jersey.client.JerseyInvocation.lambda$runInScope$3(JerseyInvocation.java:691)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:292)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:274)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:205)\n    at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:390)\n    at org.glassfish.jersey.client.JerseyInvocation.runInScope(JerseyInvocation.java:691)\n    at org.glassfish.jersey.client.JerseyInvocation.invoke(JerseyInvocation.java:686)\n    at org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:461)\n    at org.glassfish.jersey.client.JerseyInvocation$Builder.post(JerseyInvocation.java:357)\n    at client.utils.ServerUtils.filePostRequest(ServerUtils.java:273)\n    at client.utils.ServerUtils.saveFile(ServerUtils.java:278)\n    at client.scenes.MediaPlayerCtrl.save(MediaPlayerCtrl.java:121)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    ... 57 more\n</code></pre>\n<p>This is the client part that's making the call to the server:</p>\n<pre><code>public void saveFile(File file) throws IOException {\n        MultipartFile file1=convert(file);\n        filePostRequest(&quot;secure/&quot; + store.accessStore().getUsername() + &quot;/file/add&quot;,\n                Entity.entity(file1, &quot;multipart/form-data&quot;), new GenericType&lt;&gt;(){});\n    }\npublic static MultipartFile convert(File file) throws IOException {\n        String filename = file.getName();\n        FileInputStream inputStream = new FileInputStream(file);\n        return new MockMultipartFile(filename, inputStream);\n    }\nprivate &lt;T&gt; void filePostRequest(String path, Entity send, GenericType&lt;T&gt; retType) {\n        ClientBuilder.newClient(new ClientConfig())\n                .target(getServer()).path(path)\n                .request(&quot;multipart/form-data&quot;)\n                .post(send, retType);\n    }\n</code></pre>\n<p>And this is the Controller on the server side:</p>\n<pre><code>@SpringBootApplication\n@RestController\n@RequestMapping(value = {&quot;/secure/{username}/{password}/file&quot;, &quot;/secure/{username}/file&quot;})\npublic class FileController {\n    @Autowired\n    private StorageService service;\n    @PostMapping(&quot;/add&quot;)\n    public ResponseEntity&lt;?&gt; uploadFile(@RequestParam(&quot;file&quot;) MultipartFile file) throws IOException {\n        String uploadFile = service.uploadFile(file);\n        return ResponseEntity.status(HttpStatus.OK)\n                .body(uploadFile);\n    }\n</code></pre>\n<p>Edit:\nI tried adding the following class to the tests as indicated in <a href=\"https://stackoverflow.com/questions/19668426/how-to-resolve-messagebodywriter-not-found-for-media-type-multipart-form-data-er\">this</a> thread, but I'm encountering a &quot;Cannot access jakarta.ws.rs.core.Configurable&quot; in-IDE error (I mean it's underlined with red and it says this when hovered over) from the conf.register() method.</p>\n<pre><code>package server.api;\nimport org.glassfish.jersey.client.ClientConfig;\nimport org.glassfish.jersey.media.multipart.MultiPartFeature;\nimport org.glassfish.jersey.test.JerseyTest;\n\npublic class FileControllerTest extends JerseyTest {\n    @Override\n    protected void configureClient(ClientConfig conf) {\n        conf.register(MultiPartFeature.class);\n    }\n}\n</code></pre>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1680887037,"post_id":75960535,"comment_id":133976318,"body_markdown":"[Is List&lt;Dog&gt; a subclass of List&lt;Animal&gt;? Why are Java generics not implicitly polymorphic?](https://stackoverflow.com/q/2745265), note that `FooBarHandler extends MessageHandler&lt;FooBarMessageType&gt;` but `MessageHandler&lt;FooBarMessageType&gt;` is not subtype of `MessageHandler&lt;MessageType&gt;` as explained in linked question.","body":"<a href=\"https://stackoverflow.com/q/2745265\">Is List&lt;Dog&gt; a subclass of List&lt;Animal&gt;? Why are Java generics not implicitly polymorphic?</a>, note that <code>FooBarHandler extends MessageHandler&lt;FooBarMessageType&gt;</code> but <code>MessageHandler&lt;FooBarMessageType&gt;</code> is not subtype of <code>MessageHandler&lt;MessageType&gt;</code> as explained in linked question."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1680887199,"post_id":75960535,"comment_id":133976361,"body_markdown":"What is `StuffDoer`? Your abstract class or your concrete class? If it&#39;s your abstract class, then you&#39;re using a reference with the wrong generic type.","body":"What is <code>StuffDoer</code>? Your abstract class or your concrete class? If it&#39;s your abstract class, then you&#39;re using a reference with the wrong generic type."},{"owner":{"account_id":11280063,"reputation":23,"user_id":8272854,"display_name":"Kyle Dumouchelle"},"score":0,"creation_date":1680887640,"post_id":75960535,"comment_id":133976467,"body_markdown":"@Pshemo that question was entirely unhelpful. However, the issue was resolved by adding a type parameter to processMessage.\n\nprivate &lt;T extends MessageType&gt; void processMessage(T message, MessageHandler&lt;T&gt; handler)\n\nHowever you were hasty for flagging and didn&#39;t even let me submit a self answer.","body":"@Pshemo that question was entirely unhelpful. However, the issue was resolved by adding a type parameter to processMessage.  private &lt;T extends MessageType&gt; void processMessage(T message, MessageHandler&lt;T&gt; handler)  However you were hasty for flagging and didn&#39;t even let me submit a self answer."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1680887926,"post_id":75960535,"comment_id":133976520,"body_markdown":"@KyleDumouchelle What makes you think I flag your question? Also how understanding cause of problem is &quot;entirely unhelpful&quot; in finding a way to solve it?","body":"@KyleDumouchelle What makes you think I flag your question? Also how understanding cause of problem is &quot;entirely unhelpful&quot; in finding a way to solve it?"}],"owner":{"account_id":11280063,"reputation":23,"user_id":8272854,"display_name":"Kyle Dumouchelle"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680887447,"answer_count":0,"score":0,"last_activity_date":1680887166,"creation_date":1680886954,"question_id":75960535,"body_markdown":"I have some code like so:\r\n\r\n\r\n```\r\nprivate void processMessage(MessageType message, MessageHandler&lt;MessageType&gt; handler)\r\n{\r\n    handler.handleMessage(message);\r\n}\r\n```\r\nWith message handler being an abstract class.\r\n\r\n```\r\npublic abstract class MessageHandler &lt;T extends MessageType&gt;\r\n{\r\n    public abstract T handleMessage(T message);\r\n}\r\n```\r\n\r\nI have a child class:\r\n\r\n```\r\npublic class FooBarHandler extends MessageHandler&lt;FooBarMessageType&gt;\r\n{\r\n    public FooBarMessageType handleMessage(FooBarMessageType message)\r\n    {...}\r\n}\r\n```\r\nWhere FooBarMessageType is a subclass of MessageType.\r\n\r\nNow, when I call processMessage as such:\r\n-----------------\r\n`processMessage((FooBarMessageType)message, new FooBarHandler());`\r\n\r\nI get this error in eclipse:\r\n\r\n**The method processMessage(MessageType, MessageHandler&lt;MessageType&gt;) in the type StuffDoer is not applicable for the arguments (FooBarMessageType, FooBarHandler)**\r\n\r\nI noticed that when I made the second formal parameter for processMessage raw:\r\n\r\n`private void processMessage(MessageType message, MessageHandler handler)`\r\n\r\nIt *just* becomes a warning. However, the only solution eclipse gives to fix this warning generates the error again.","title":"Java Generics - Method not applicable for arguments using a child type","body":"<p>I have some code like so:</p>\n<pre><code>private void processMessage(MessageType message, MessageHandler&lt;MessageType&gt; handler)\n{\n    handler.handleMessage(message);\n}\n</code></pre>\n<p>With message handler being an abstract class.</p>\n<pre><code>public abstract class MessageHandler &lt;T extends MessageType&gt;\n{\n    public abstract T handleMessage(T message);\n}\n</code></pre>\n<p>I have a child class:</p>\n<pre><code>public class FooBarHandler extends MessageHandler&lt;FooBarMessageType&gt;\n{\n    public FooBarMessageType handleMessage(FooBarMessageType message)\n    {...}\n}\n</code></pre>\n<p>Where FooBarMessageType is a subclass of MessageType.</p>\n<h2>Now, when I call processMessage as such:</h2>\n<p><code>processMessage((FooBarMessageType)message, new FooBarHandler());</code></p>\n<p>I get this error in eclipse:</p>\n<p><strong>The method processMessage(MessageType, MessageHandler) in the type StuffDoer is not applicable for the arguments (FooBarMessageType, FooBarHandler)</strong></p>\n<p>I noticed that when I made the second formal parameter for processMessage raw:</p>\n<p><code>private void processMessage(MessageType message, MessageHandler handler)</code></p>\n<p>It <em>just</em> becomes a warning. However, the only solution eclipse gives to fix this warning generates the error again.</p>\n"},{"tags":["java","amazon-web-services","cypher","amazon-neptune","bolt"],"answers":[{"tags":[],"owner":{"account_id":7115613,"reputation":14979,"user_id":5442034,"display_name":"Kelvin Lawrence"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680886847,"creation_date":1680886847,"answer_id":75960517,"question_id":75957095,"body_markdown":"Currently the Amazon Neptune integration with the Java Bolt client does not support use of the Java `LocalDateTime` class. \r\n\r\nYou can however use the `datetime` function and add the date information to the query that way (as a string). For example:\r\n\r\n```\r\nMERGE (l:Location_J {locationId: $locationId}) \r\nMERGE (d:Device_J {deviceId: $deviceId}) \r\nMERGE (l)-[a:ACCESSES_J {loginAt: datetime(&#39;2023-04-07T16:44:19Z&#39;}]-&gt;(d)\r\n```\r\n\r\nor, using the parameterized form\r\n\r\n```\r\nMERGE (l:Location_J {locationId: $locationId}) \r\nMERGE (d:Device_J {deviceId: $deviceId}) \r\nMERGE (l)-[a:ACCESSES_J {loginAt: datetime($myDatetimeString)}]-&gt;(d)\r\n```\r\n\r\nThe key part being, that for right now, the date parameter needs to be provided as a string.","title":"Date specific queries to AWS neptune using java bolt driver","body":"<p>Currently the Amazon Neptune integration with the Java Bolt client does not support use of the Java <code>LocalDateTime</code> class.</p>\n<p>You can however use the <code>datetime</code> function and add the date information to the query that way (as a string). For example:</p>\n<pre><code>MERGE (l:Location_J {locationId: $locationId}) \nMERGE (d:Device_J {deviceId: $deviceId}) \nMERGE (l)-[a:ACCESSES_J {loginAt: datetime('2023-04-07T16:44:19Z'}]-&gt;(d)\n</code></pre>\n<p>or, using the parameterized form</p>\n<pre><code>MERGE (l:Location_J {locationId: $locationId}) \nMERGE (d:Device_J {deviceId: $deviceId}) \nMERGE (l)-[a:ACCESSES_J {loginAt: datetime($myDatetimeString)}]-&gt;(d)\n</code></pre>\n<p>The key part being, that for right now, the date parameter needs to be provided as a string.</p>\n"}],"owner":{"account_id":7599708,"reputation":182,"user_id":5764770,"display_name":"Vishal Jamdade"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75960517,"answer_count":1,"score":1,"last_activity_date":1680886847,"creation_date":1680858940,"question_id":75957095,"body_markdown":"I want to add edges to AWS neptune Graph DB using bolt java driver. And one of the property of the edge contains date and time. But it seems that neptune supports java.util.Date Object but bolt driver doesn&#39;t supports java.util.Date Object and It supports java.time.LocalDateTime Object. Is there any way to solve this problem ? Adding some more details below which may help.\r\n\r\nBolt driver version: 4.3.3\r\n\r\nJava version: Java 11 (I am running the code from AWS Lambda which doesn&#39;t supports java later than java11)\r\n\r\n**My sample code is as below:**\r\n\r\nMaven Dependency: \r\n```\r\n      &lt;dependency&gt;\r\n          &lt;groupId&gt;org.neo4j.driver&lt;/groupId&gt;\r\n          &lt;artifactId&gt;neo4j-java-driver&lt;/artifactId&gt;\r\n          &lt;version&gt;4.3.3&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n```\r\n\r\nJava Code to write the data to AWS Neptune Graph DB:\r\n```\r\nDriver boltDriver = GraphDatabase.driver(neptuneConnectionString,\r\n                    Config.builder().withConnectionTimeout(30, TimeUnit.SECONDS)\r\n                            .withEncryption()\r\n                            .withTrustStrategy(Config.TrustStrategy.trustSystemCertificates())\r\n                            .build());\r\n\r\nMap&lt;String, Object&gt; parameters = new HashMap&lt;&gt;();\r\n        allParameters.put(&quot;locationId&quot;, &quot;dsfsdf3453&quot;);\r\n        allParameters.put(&quot;deviceId&quot;, &quot;fdfdf4534&quot;);\r\n        allParameters.put(&quot;edgeId&quot;, &quot;dfdf45345&quot;);\r\n        allParameters.put(&quot;loginAt&quot;, LocalDateTime.now());\r\n\r\nvar query = &quot;MERGE (l:Location_J {locationId: $locationId}) MERGE (d:Device_J {deviceId: $deviceId}) MERGE (l)-[a:ACCESSES_J {loginAt: $loginAt}]-&gt;(d)&quot;;\r\n\r\nboltDriver.session().run(query, parameters);\r\n```\r\n\r\nI am getting below exception:\r\n```\r\nWARNING: [0x06247997][uat-niyothon-neptune-2023.cluster-cfg5tfk5qker.ap-south-1.neptune.amazonaws.com:8182][021cdffffe623928-000035fc-0000b02d-f131b528da33cefe-05e79a93] Fatal error occurred in the pipeline\r\norg.neo4j.driver.exceptions.DatabaseException: &quot;Unexpected server exception &#39;Operation terminated (internal error)&#39;&quot;\r\nat org.neo4j.driver.internal.util.ErrorUtil.newNeo4jError(ErrorUtil.java:90)\r\nat org.neo4j.driver.internal.async.inbound.InboundMessageDispatcher.handleFailureMessage(InboundMessageDispatcher.java:108)\r\nat org.neo4j.driver.internal.messaging.common.CommonMessageReader.unpackFailureMessage(CommonMessageReader.java:83)\r\nat org.neo4j.driver.internal.messaging.common.CommonMessageReader.read(CommonMessageReader.java:59)\r\nat org.neo4j.driver.internal.async.inbound.InboundMessageHandler.channelRead0(InboundMessageHandler.java:83)\r\nat org.neo4j.driver.internal.async.inbound.InboundMessageHandler.channelRead0(InboundMessageHandler.java:35)\r\nat org.neo4j.driver.internal.shaded.io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)\r\nat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\nat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\nat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\nat org.neo4j.driver.internal.shaded.io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)\r\nat org.neo4j.driver.internal.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296)\r\nat org.neo4j.driver.internal.async.inbound.MessageDecoder.channelRead(MessageDecoder.java:47)\r\nat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\nat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\nat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\nat org.neo4j.driver.internal.shaded.io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)\r\nat org.neo4j.driver.internal.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296)\r\nat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\nat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\nat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\nat org.neo4j.driver.internal.shaded.io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1368)\r\nat org.neo4j.driver.internal.shaded.io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1234)\r\nat org.neo4j.driver.internal.shaded.io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1280)\r\nat org.neo4j.driver.internal.shaded.io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:507)\r\nat org.neo4j.driver.internal.shaded.io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:446)\r\nat org.neo4j.driver.internal.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)\r\nat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\nat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\nat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\nat org.neo4j.driver.internal.shaded.io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\nat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\nat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\nat org.neo4j.driver.internal.shaded.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\nat org.neo4j.driver.internal.shaded.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\r\nat org.neo4j.driver.internal.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:719)\r\nat org.neo4j.driver.internal.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)\r\nat org.neo4j.driver.internal.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)\r\nat org.neo4j.driver.internal.shaded.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\r\nat org.neo4j.driver.internal.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\nat org.neo4j.driver.internal.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\nat org.neo4j.driver.internal.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\nat java.base/java.lang.Thread.run(Unknown Source)```","title":"Date specific queries to AWS neptune using java bolt driver","body":"<p>I want to add edges to AWS neptune Graph DB using bolt java driver. And one of the property of the edge contains date and time. But it seems that neptune supports java.util.Date Object but bolt driver doesn't supports java.util.Date Object and It supports java.time.LocalDateTime Object. Is there any way to solve this problem ? Adding some more details below which may help.</p>\n<p>Bolt driver version: 4.3.3</p>\n<p>Java version: Java 11 (I am running the code from AWS Lambda which doesn't supports java later than java11)</p>\n<p><strong>My sample code is as below:</strong></p>\n<p>Maven Dependency:</p>\n<pre><code>      &lt;dependency&gt;\n          &lt;groupId&gt;org.neo4j.driver&lt;/groupId&gt;\n          &lt;artifactId&gt;neo4j-java-driver&lt;/artifactId&gt;\n          &lt;version&gt;4.3.3&lt;/version&gt;\n      &lt;/dependency&gt;\n</code></pre>\n<p>Java Code to write the data to AWS Neptune Graph DB:</p>\n<pre><code>Driver boltDriver = GraphDatabase.driver(neptuneConnectionString,\n                    Config.builder().withConnectionTimeout(30, TimeUnit.SECONDS)\n                            .withEncryption()\n                            .withTrustStrategy(Config.TrustStrategy.trustSystemCertificates())\n                            .build());\n\nMap&lt;String, Object&gt; parameters = new HashMap&lt;&gt;();\n        allParameters.put(&quot;locationId&quot;, &quot;dsfsdf3453&quot;);\n        allParameters.put(&quot;deviceId&quot;, &quot;fdfdf4534&quot;);\n        allParameters.put(&quot;edgeId&quot;, &quot;dfdf45345&quot;);\n        allParameters.put(&quot;loginAt&quot;, LocalDateTime.now());\n\nvar query = &quot;MERGE (l:Location_J {locationId: $locationId}) MERGE (d:Device_J {deviceId: $deviceId}) MERGE (l)-[a:ACCESSES_J {loginAt: $loginAt}]-&gt;(d)&quot;;\n\nboltDriver.session().run(query, parameters);\n</code></pre>\n<p>I am getting below exception:</p>\n<pre><code>WARNING: [0x06247997][uat-niyothon-neptune-2023.cluster-cfg5tfk5qker.ap-south-1.neptune.amazonaws.com:8182][021cdffffe623928-000035fc-0000b02d-f131b528da33cefe-05e79a93] Fatal error occurred in the pipeline\norg.neo4j.driver.exceptions.DatabaseException: &quot;Unexpected server exception 'Operation terminated (internal error)'&quot;\nat org.neo4j.driver.internal.util.ErrorUtil.newNeo4jError(ErrorUtil.java:90)\nat org.neo4j.driver.internal.async.inbound.InboundMessageDispatcher.handleFailureMessage(InboundMessageDispatcher.java:108)\nat org.neo4j.driver.internal.messaging.common.CommonMessageReader.unpackFailureMessage(CommonMessageReader.java:83)\nat org.neo4j.driver.internal.messaging.common.CommonMessageReader.read(CommonMessageReader.java:59)\nat org.neo4j.driver.internal.async.inbound.InboundMessageHandler.channelRead0(InboundMessageHandler.java:83)\nat org.neo4j.driver.internal.async.inbound.InboundMessageHandler.channelRead0(InboundMessageHandler.java:35)\nat org.neo4j.driver.internal.shaded.io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)\nat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\nat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\nat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\nat org.neo4j.driver.internal.shaded.io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)\nat org.neo4j.driver.internal.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296)\nat org.neo4j.driver.internal.async.inbound.MessageDecoder.channelRead(MessageDecoder.java:47)\nat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\nat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\nat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\nat org.neo4j.driver.internal.shaded.io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)\nat org.neo4j.driver.internal.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296)\nat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\nat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\nat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\nat org.neo4j.driver.internal.shaded.io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1368)\nat org.neo4j.driver.internal.shaded.io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1234)\nat org.neo4j.driver.internal.shaded.io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1280)\nat org.neo4j.driver.internal.shaded.io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:507)\nat org.neo4j.driver.internal.shaded.io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:446)\nat org.neo4j.driver.internal.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)\nat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\nat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\nat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\nat org.neo4j.driver.internal.shaded.io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\nat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\nat org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\nat org.neo4j.driver.internal.shaded.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\nat org.neo4j.driver.internal.shaded.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\nat org.neo4j.driver.internal.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:719)\nat org.neo4j.driver.internal.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)\nat org.neo4j.driver.internal.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)\nat org.neo4j.driver.internal.shaded.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\nat org.neo4j.driver.internal.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\nat org.neo4j.driver.internal.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\nat org.neo4j.driver.internal.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\nat java.base/java.lang.Thread.run(Unknown Source)```\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data-jpa","nhibernate-envers"],"answers":[{"tags":[],"owner":{"account_id":4791885,"reputation":1200,"user_id":3870855,"display_name":"heisbrandon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1459197504,"creation_date":1459197504,"answer_id":36270761,"question_id":36258677,"body_markdown":"AuditReaderFactory only has two static methods. Can you autowire a SessionFactory object or your EntityMananger? Looks like either would give you what you want, which is access to an AuditReader.\r\n\r\n    AuditReaderFactory.get(sessionFactory.getCurrentSession())\r\n\r\n**EDIT** [this][1] post has some detail or wiring SessionFactory if needed\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/25063995/spring-boot-handle-to-hibernate-sessionfactory","title":"How to access AuditReaderFactory in spring boot application?","body":"<p>AuditReaderFactory only has two static methods. Can you autowire a SessionFactory object or your EntityMananger? Looks like either would give you what you want, which is access to an AuditReader.</p>\n\n<pre><code>AuditReaderFactory.get(sessionFactory.getCurrentSession())\n</code></pre>\n\n<p><strong>EDIT</strong> <a href=\"https://stackoverflow.com/questions/25063995/spring-boot-handle-to-hibernate-sessionfactory\">this</a> post has some detail or wiring SessionFactory if needed</p>\n"},{"tags":[],"owner":{"account_id":47708,"reputation":3213,"user_id":141437,"accept_rate":88,"display_name":"Jay"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1528274506,"creation_date":1528274506,"answer_id":50715904,"question_id":36258677,"body_markdown":"Following up on above answer, and linked question, I found this to work.  (Would be nice if this can be turned into an autowire of the reader directly somehow)\r\n\r\n    @Autowired\r\n    private EntityManagerFactory factory;\r\n\r\n    public void stuff() {\r\n        AuditReader audit = AuditReaderFactory.get(factory.createEntityManager());\r\n    }","title":"How to access AuditReaderFactory in spring boot application?","body":"<p>Following up on above answer, and linked question, I found this to work.  (Would be nice if this can be turned into an autowire of the reader directly somehow)</p>\n\n<pre><code>@Autowired\nprivate EntityManagerFactory factory;\n\npublic void stuff() {\n    AuditReader audit = AuditReaderFactory.get(factory.createEntityManager());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3740802,"reputation":235,"user_id":3110626,"display_name":"deniss-s"},"down_vote_count":3,"up_vote_count":15,"is_accepted":false,"score":12,"last_activity_date":1643924677,"creation_date":1534335009,"answer_id":51858463,"question_id":36258677,"body_markdown":"Create configuration class such as AuditConfiguration.java:\r\n\r\n    import org.hibernate.envers.AuditReader;\r\n    import org.hibernate.envers.AuditReaderFactory;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import javax.persistence.EntityManagerFactory;\r\n\r\n    @Configuration\r\n    public class AuditConfiguration {\r\n    \r\n        private final EntityManagerFactory entityManagerFactory;\r\n    \r\n        AuditConfiguration(EntityManagerFactory entityManagerFactory) {\r\n            this.entityManagerFactory = entityManagerFactory;\r\n        }\r\n\r\n        @Bean\r\n        AuditReader auditReader() {\r\n            return AuditReaderFactory.get(entityManagerFactory.createEntityManager());\r\n        }\r\n    }\r\n\r\nAfter that you can autowire `AuditReader` in your component classes.","title":"How to access AuditReaderFactory in spring boot application?","body":"<p>Create configuration class such as AuditConfiguration.java:</p>\n<pre><code>import org.hibernate.envers.AuditReader;\nimport org.hibernate.envers.AuditReaderFactory;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport javax.persistence.EntityManagerFactory;\n\n@Configuration\npublic class AuditConfiguration {\n\n    private final EntityManagerFactory entityManagerFactory;\n\n    AuditConfiguration(EntityManagerFactory entityManagerFactory) {\n        this.entityManagerFactory = entityManagerFactory;\n    }\n\n    @Bean\n    AuditReader auditReader() {\n        return AuditReaderFactory.get(entityManagerFactory.createEntityManager());\n    }\n}\n</code></pre>\n<p>After that you can autowire <code>AuditReader</code> in your component classes.</p>\n"},{"tags":[],"owner":{"account_id":266507,"reputation":344,"user_id":554117,"accept_rate":100,"display_name":"Giulio Pulina"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1680886769,"creation_date":1638318605,"answer_id":70177753,"question_id":36258677,"body_markdown":"In my opinion, @deniss-s answer (top-voted one) is not correct because EntityManager must not be reused outside of the context of a transaction (see https://stackoverflow.com/a/9375891/554117), while the solution makes use of it as a singleton.\r\n\r\nA correct retrieval of AuditReader looks like this:\r\n\r\n    public class AuditRepository {\r\n    \r\n        @PersistenceContext\r\n        private EntityManager entityManager;\r\n    \r\n        private AuditReader getAuditReader() {\r\n            return AuditReaderFactory.get(entityManager);\r\n        }\r\n     \r\n         public Optional&lt;T&gt; getRevision() {\r\n             final AuditReader auditReader = getAuditReader();\r\n             ...\r\n        }\r\n}\r\n\r\nEDIT: I just realized that @deniss-s updated his answer (likely after reading mine), but his answer is still incorrect: AuditReader is still created as a singleton, while a new instance must be created each time.\r\n\r\n","title":"How to access AuditReaderFactory in spring boot application?","body":"<p>In my opinion, @deniss-s answer (top-voted one) is not correct because EntityManager must not be reused outside of the context of a transaction (see <a href=\"https://stackoverflow.com/a/9375891/554117\">https://stackoverflow.com/a/9375891/554117</a>), while the solution makes use of it as a singleton.</p>\n<p>A correct retrieval of AuditReader looks like this:</p>\n<pre><code>public class AuditRepository {\n\n    @PersistenceContext\n    private EntityManager entityManager;\n\n    private AuditReader getAuditReader() {\n        return AuditReaderFactory.get(entityManager);\n    }\n \n     public Optional&lt;T&gt; getRevision() {\n         final AuditReader auditReader = getAuditReader();\n         ...\n    }\n</code></pre>\n<p>}</p>\n<p>EDIT: I just realized that @deniss-s updated his answer (likely after reading mine), but his answer is still incorrect: AuditReader is still created as a singleton, while a new instance must be created each time.</p>\n"},{"tags":[],"owner":{"account_id":14818819,"reputation":33,"user_id":10701857,"display_name":"Dmitrii"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680782228,"creation_date":1680782228,"answer_id":75949253,"question_id":36258677,"body_markdown":"I can&#39;t create a comment, so I&#39;ll duplicate Giulio Pulina&#39;s answer. His answer is indeed more correct than those with more upvotes. Other answers are also working, but only as long as there is a connection to the database. In case of loss of connection with the database (restart of the container with the database), AuditReader becomes inoperable. Therefore, the current response, when the AuditReader is created before each request, is most preferable.\r\n\r\nA correct retrieval of AuditReader looks like this:\r\n```\r\npublic class AuditRepository {\r\n\r\n    @PersistenceContext\r\n    private EntityManager entityManager;\r\n\r\n    private AuditReader getAuditReader() {\r\n        return AuditReaderFactory.get(entityManager);\r\n    }\r\n \r\n     public Optional&lt;T&gt; getRevision() {\r\n         final AuditReader auditReader = getAuditReader();\r\n         ...\r\n    }\r\n}\r\n```\r\n","title":"How to access AuditReaderFactory in spring boot application?","body":"<p>I can't create a comment, so I'll duplicate Giulio Pulina's answer. His answer is indeed more correct than those with more upvotes. Other answers are also working, but only as long as there is a connection to the database. In case of loss of connection with the database (restart of the container with the database), AuditReader becomes inoperable. Therefore, the current response, when the AuditReader is created before each request, is most preferable.</p>\n<p>A correct retrieval of AuditReader looks like this:</p>\n<pre><code>public class AuditRepository {\n\n    @PersistenceContext\n    private EntityManager entityManager;\n\n    private AuditReader getAuditReader() {\n        return AuditReaderFactory.get(entityManager);\n    }\n \n     public Optional&lt;T&gt; getRevision() {\n         final AuditReader auditReader = getAuditReader();\n         ...\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":324114,"reputation":12953,"user_id":644518,"accept_rate":61,"display_name":"ajm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7965,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":5,"score":12,"last_activity_date":1680886769,"creation_date":1459153764,"question_id":36258677,"body_markdown":"I am using spring boot and spring data jpa. I am also using hibernate envers and I need access to AuditReaderFactory so that I can write Audit Queries. \r\n\r\nSince, its a spring boot and spring data jpa, everything is auto configured. So when I do this, \r\n\r\n    @Autowired\r\n    AuditReaderFactory auditReaderFactory;\r\n\r\nIt doesn&#39;t work. I get the following error.\r\n\r\n    org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [org.hibernate.envers.AuditReaderFactory] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency\r\n\r\nHow do I get a proper reference to AuditReaderFactory in my repository classes?\r\n","title":"How to access AuditReaderFactory in spring boot application?","body":"<p>I am using spring boot and spring data jpa. I am also using hibernate envers and I need access to AuditReaderFactory so that I can write Audit Queries. </p>\n\n<p>Since, its a spring boot and spring data jpa, everything is auto configured. So when I do this, </p>\n\n<pre><code>@Autowired\nAuditReaderFactory auditReaderFactory;\n</code></pre>\n\n<p>It doesn't work. I get the following error.</p>\n\n<pre><code>org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [org.hibernate.envers.AuditReaderFactory] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency\n</code></pre>\n\n<p>How do I get a proper reference to AuditReaderFactory in my repository classes?</p>\n"},{"tags":["java","constants"],"answers":[{"tags":[],"owner":{"account_id":90696,"reputation":33605,"user_id":249543,"accept_rate":98,"display_name":"jefflunt"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1318717856,"creation_date":1318717555,"answer_id":7781067,"question_id":7781037,"body_markdown":"As with many things, there are many ways to do it. One thing you should *not* do is declare them multiple times - that&#39;s just plain silly. :P\r\n\r\nEverything has to be in a class in Java, so either:\r\n\r\n 1. Pick a &quot;main&quot; class (say I have a project called &quot;FTPServerApp&quot; - I could put them there)\r\n 2. Create a &quot;Util&quot; class that contains all of them\r\n\r\nWhen you figure out where to put them, declare them all this way:\r\n\r\n    public static final [type] [NAME_IN_ALL_CAPS] = [value];\r\n\r\nThis will\r\n\r\n - make them available to all your project code, anywhere (`public`)\r\n - only one copy of the value exists across all instances of the class (`static`)\r\n - they cannot be changed (`final`).\r\n\r\nThe `ALL_CAPS_FOR_CONSTANT_NAMES`, separated by underscores, is the convention in Java.\r\n\r\nSo, if this was declared in a class called `FTPServerAPP`, and you had a constant called `SERVICE_PORT` it might be:\r\n\r\n    public class FTPServerApp {\r\n      public static final int SERVICE_PORT = 21;\r\n      \r\n      ...\r\n    }\r\n\r\n...and you would access it, from any class, like this...\r\n\r\n    \r\n      FTPServerApp.SERVICE_PORT","title":"What&#39;s the proper way of declaring project constants in Java?","body":"<p>As with many things, there are many ways to do it. One thing you should <em>not</em> do is declare them multiple times - that's just plain silly. :P</p>\n\n<p>Everything has to be in a class in Java, so either:</p>\n\n<ol>\n<li>Pick a \"main\" class (say I have a project called \"FTPServerApp\" - I could put them there)</li>\n<li>Create a \"Util\" class that contains all of them</li>\n</ol>\n\n<p>When you figure out where to put them, declare them all this way:</p>\n\n<pre><code>public static final [type] [NAME_IN_ALL_CAPS] = [value];\n</code></pre>\n\n<p>This will</p>\n\n<ul>\n<li>make them available to all your project code, anywhere (<code>public</code>)</li>\n<li>only one copy of the value exists across all instances of the class (<code>static</code>)</li>\n<li>they cannot be changed (<code>final</code>).</li>\n</ul>\n\n<p>The <code>ALL_CAPS_FOR_CONSTANT_NAMES</code>, separated by underscores, is the convention in Java.</p>\n\n<p>So, if this was declared in a class called <code>FTPServerAPP</code>, and you had a constant called <code>SERVICE_PORT</code> it might be:</p>\n\n<pre><code>public class FTPServerApp {\n  public static final int SERVICE_PORT = 21;\n\n  ...\n}\n</code></pre>\n\n<p>...and you would access it, from any class, like this...</p>\n\n<pre><code>  FTPServerApp.SERVICE_PORT\n</code></pre>\n"},{"tags":[],"owner":{"account_id":948893,"reputation":694,"user_id":975497,"accept_rate":80,"display_name":"chooks"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1318733394,"creation_date":1318733394,"answer_id":7782047,"question_id":7781037,"body_markdown":"Take a look at enumeration types (&lt;http://download.oracle.com/javase/tutorial/java/javaOO/enum.html&gt;) They are supposed to provide a mechanism to supply constants without defining a concrete class (or an Interface with the desired constants, as is another option that people use). \r\n\r\nOne other technique I find helpful (similar to the FTPServerApp example given above) is to define a Context for whatever subsystem/component/etc... that holds not only the constants needed by components in that system, but can hold any state that you want to make more visible or don&#39;t want individual components to hold.  I believe this is along the lines of one of the GoF patterns, but it has been so long since I have looked at that book that I can&#39;t be certain (and I am too lazy to look it up right now!)","title":"What&#39;s the proper way of declaring project constants in Java?","body":"<p>Take a look at enumeration types (<a href=\"http://download.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"nofollow\">http://download.oracle.com/javase/tutorial/java/javaOO/enum.html</a>) They are supposed to provide a mechanism to supply constants without defining a concrete class (or an Interface with the desired constants, as is another option that people use). </p>\n\n<p>One other technique I find helpful (similar to the FTPServerApp example given above) is to define a Context for whatever subsystem/component/etc... that holds not only the constants needed by components in that system, but can hold any state that you want to make more visible or don't want individual components to hold.  I believe this is along the lines of one of the GoF patterns, but it has been so long since I have looked at that book that I can't be certain (and I am too lazy to look it up right now!)</p>\n"},{"tags":[],"owner":{"account_id":16415077,"reputation":63,"user_id":11857423,"display_name":"Arunabha Ghosh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680886639,"creation_date":1680886639,"answer_id":75960478,"question_id":7781037,"body_markdown":"Very old question. but here&#39;s my Ans adding few point on top of jefflunt&#39;s ans.\r\nLets consider you want a `MyConstant` class\r\n 1. Make the class `final` (if you want it to be extended, ignore)\r\n 2. Make member variables `final static` \r\n     - if you want these as a global constants mark them as `public`\r\n     - if only at package you can mark them as `protected`\r\n 3. Make constructor as `private`. Ideally you&#39;d not want to create multiple instances of this Constant class\r\n 4. Write a `static` `initialize()` method that you&#39;d call from your main class. This is for the initialization of all object member variables\r\n```\r\npublic final class MyConstants {\r\n\t\r\n\tpublic static final int CONSTANT_ONE = 10;\r\n\tprivate static final Map&lt;String, String&gt; DATA = new HashMap&lt;&gt;();\r\n\r\n\tpublic static void initialize() {\r\n\t\tDATA.put(&quot;RANDOM&quot;, &quot;VALUE&quot;);\r\n\t}\r\n\tpublic enum color {\r\n\t\tred, blue;\r\n\t};\r\n\r\n\tprivate MyConstants() {\r\n\t}\r\n\r\n\tpublic static Map&lt;String, String&gt; getData() {\r\n\t\treturn DATA;\r\n\t}\r\n}\r\n```\r\n\r\n```\r\npublic class SomeOtherClass {\r\n\r\n\tpublic static void main(String args[]) {\r\n\t\tMyConstants.initialize();\r\n\t\tSystem.out.println(MyConstants.getData());\r\n\t\tSystem.out.println(MyConstants.CONSTANT_ONE);\r\n\t}\r\n}\r\n```","title":"What&#39;s the proper way of declaring project constants in Java?","body":"<p>Very old question. but here's my Ans adding few point on top of jefflunt's ans.\nLets consider you want a <code>MyConstant</code> class</p>\n<ol>\n<li>Make the class <code>final</code> (if you want it to be extended, ignore)</li>\n<li>Make member variables <code>final static</code>\n<ul>\n<li>if you want these as a global constants mark them as <code>public</code></li>\n<li>if only at package you can mark them as <code>protected</code></li>\n</ul>\n</li>\n<li>Make constructor as <code>private</code>. Ideally you'd not want to create multiple instances of this Constant class</li>\n<li>Write a <code>static</code> <code>initialize()</code> method that you'd call from your main class. This is for the initialization of all object member variables</li>\n</ol>\n<pre><code>public final class MyConstants {\n    \n    public static final int CONSTANT_ONE = 10;\n    private static final Map&lt;String, String&gt; DATA = new HashMap&lt;&gt;();\n\n    public static void initialize() {\n        DATA.put(&quot;RANDOM&quot;, &quot;VALUE&quot;);\n    }\n    public enum color {\n        red, blue;\n    };\n\n    private MyConstants() {\n    }\n\n    public static Map&lt;String, String&gt; getData() {\n        return DATA;\n    }\n}\n</code></pre>\n<pre><code>public class SomeOtherClass {\n\n    public static void main(String args[]) {\n        MyConstants.initialize();\n        System.out.println(MyConstants.getData());\n        System.out.println(MyConstants.CONSTANT_ONE);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":470184,"reputation":27911,"user_id":877235,"accept_rate":79,"display_name":"stdcall"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6915,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":7781067,"answer_count":3,"score":7,"last_activity_date":1680886639,"creation_date":1318717275,"question_id":7781037,"body_markdown":"This may seems a silly question for Java developers, however, I&#39;m new to Java, and my background is from low level c.\r\nI used to include an header file with all the constants that were relevant for my projects. (usually #define&#39;s).\r\nI&#39;m working on a big Java project now, and there a few constants I need to make global (they fit in more than one class, and used in various parts of the project )\r\n\r\nIt makes it hard for me to decide where to put it, should I declare the same constant few times, one in each class ?\r\n\r\nA lot of framework, uses XML files to declare constants &amp; definitions for the framework (Hibernate, Log4J, etc.) Is it wise to use this kind of technique in my project ? if so, how can it be done easily ?  ","title":"What&#39;s the proper way of declaring project constants in Java?","body":"<p>This may seems a silly question for Java developers, however, I'm new to Java, and my background is from low level c.\nI used to include an header file with all the constants that were relevant for my projects. (usually #define's).\nI'm working on a big Java project now, and there a few constants I need to make global (they fit in more than one class, and used in various parts of the project )</p>\n\n<p>It makes it hard for me to decide where to put it, should I declare the same constant few times, one in each class ?</p>\n\n<p>A lot of framework, uses XML files to declare constants &amp; definitions for the framework (Hibernate, Log4J, etc.) Is it wise to use this kind of technique in my project ? if so, how can it be done easily ?  </p>\n"},{"tags":["java","android","gradle","import","module"],"owner":{"account_id":22666965,"reputation":33,"user_id":16839187,"display_name":"Shogery"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680886571,"creation_date":1680886571,"question_id":75960466,"body_markdown":"I can&#39;t seem to import a gradle project into my android studio project. Other solutions from similar questions have been unsuccessful.\r\n\r\nMost applicable question I attempted to follow\\\r\n&lt;https://stackoverflow.com/questions/41764338/importing-module-in-android-studio&gt;\r\n\r\nSteps Taken: \\\r\nFile -&gt; New -&gt; Import Module\\\r\nNavigate to Project Structure -&gt; Dependencies -&gt; app -&gt; Declared Dependencies\r\n\r\nI have two opens in the Dependencies list:\r\n&gt; All Modules\r\n\r\n&gt; app\r\n\r\nIssue:\r\nThere are only two options to adding Declared Dependencies instead of Module Dependency:\r\n&gt; Library Dependency\r\n\r\n&gt; JAR/AAR Dependency\r\n\r\nI attempted to add as a library dependency but the search yields nothing.\r\n\r\n\r\nAttempting to use the import was unsuccessful.\r\nCalling classes and functions directly and import all returned errors\r\n\r\nWhat am I missing?\r\n","title":"Importing module in Android Electric Eel","body":"<p>I can't seem to import a gradle project into my android studio project. Other solutions from similar questions have been unsuccessful.</p>\n<p>Most applicable question I attempted to follow<br />\n<a href=\"https://stackoverflow.com/questions/41764338/importing-module-in-android-studio\">Importing Module in Android Studio</a></p>\n<p>Steps Taken: <br />\nFile -&gt; New -&gt; Import Module<br />\nNavigate to Project Structure -&gt; Dependencies -&gt; app -&gt; Declared Dependencies</p>\n<p>I have two opens in the Dependencies list:</p>\n<blockquote>\n<p>All Modules</p>\n</blockquote>\n<blockquote>\n<p>app</p>\n</blockquote>\n<p>Issue:\nThere are only two options to adding Declared Dependencies instead of Module Dependency:</p>\n<blockquote>\n<p>Library Dependency</p>\n</blockquote>\n<blockquote>\n<p>JAR/AAR Dependency</p>\n</blockquote>\n<p>I attempted to add as a library dependency but the search yields nothing.</p>\n<p>Attempting to use the import was unsuccessful.\nCalling classes and functions directly and import all returned errors</p>\n<p>What am I missing?</p>\n"},{"tags":["java","spring","hibernate","jackson"],"answers":[{"tags":[],"owner":{"account_id":21465978,"reputation":36,"user_id":21570258,"display_name":"PraveenJubburu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680885290,"creation_date":1680885290,"answer_id":75960317,"question_id":75959650,"body_markdown":"you can use the @JsonIgnoreProperties annotation on the goods field of the Manufacturer entity to ignore the Good entity during serialization and deserialization. You can also remove the @JsonManagedReference and @JsonBackReference annotations as they are not necessary with the @JsonIgnoreProperties annotation.\r\n\r\n","title":"Jackson Cannot handle managed/back reference error with @ManyToOne hibernate relation","body":"<p>you can use the @JsonIgnoreProperties annotation on the goods field of the Manufacturer entity to ignore the Good entity during serialization and deserialization. You can also remove the @JsonManagedReference and @JsonBackReference annotations as they are not necessary with the @JsonIgnoreProperties annotation.</p>\n"}],"owner":{"account_id":26929571,"reputation":25,"user_id":20502277,"display_name":"velovatik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680885290,"creation_date":1680880100,"question_id":75959650,"body_markdown":"I make shoe shop application with Spring Boot + Hibernate + PostgreSQL and I have table with Goods and Manufacturers. One manufacturer can have many goods\r\n\r\nI have made all relations with entities in my project, and faced with some problems while testing my Controller. I need to send post request body via Postman\r\n\r\n[![enter image description here][1]][1]\r\nAnd get 415 error. \r\n`Failed to evaluate Jackson deserialization for type [[simple type, class com.velov.shoeshop.entities.Good]]: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot handle managed/back reference &#39;defaultReference&#39;: back reference type (`java.util.List&lt;com.velov.shoeshop.entities.Good&gt;`) not compatible with managed type (com.velov.shoeshop.entities.Good)`\r\n\r\nI get errors with POST and PUT methods\r\n\r\nAnd there is my code:\r\n\r\nclass for Good:\r\n```\r\n@Entity\r\n@Table(name = &quot;goods&quot;)\r\npublic class Good {\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int Id;\r\n\r\n    @Column(name = &quot;Title&quot;)\r\n    private String title;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name = &quot;sex&quot;)\r\n    private sexType sexType;\r\n\r\n    /**\r\n     * proved and it actually works!\r\n     */\r\n    @JsonManagedReference\r\n    @ManyToOne(cascade = {CascadeType.PERSIST, CascadeType.DETACH,\r\n    CascadeType.REFRESH, CascadeType.MERGE})\r\n    @JoinColumn(name = &quot;ManufacturerId&quot;)\r\n    Manufacturer manufacturer; //Many goods can refer to one manufacturer\r\n\r\n\r\n    @JsonManagedReference\r\n    @OneToMany(cascade = {CascadeType.PERSIST, CascadeType.DETACH,\r\n            CascadeType.REFRESH, CascadeType.MERGE}, mappedBy = &quot;good&quot;)//Uni-directional reference to size array\r\n    List&lt;Size&gt; sizes;\r\n```\r\n\r\nClass for Manufacturer:\r\n```\r\n@Entity\r\n@Table(name = &quot;manufacturers&quot;)\r\npublic class Manufacturer {\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int Id;\r\n\r\n    @Column(name = &quot;ManufacturerName&quot;)\r\n    private String manufacturerName;\r\n\r\n    @Column(name = &quot;Address&quot;)\r\n    private String address;\r\n\r\n    @Column(name = &quot;Telephone&quot;)\r\n    private String telephone;\r\n\r\n    @JsonBackReference\r\n    @OneToMany(cascade = {CascadeType.PERSIST, CascadeType.DETACH,\r\n            CascadeType.REFRESH, CascadeType.MERGE},\r\n            mappedBy = &quot;manufacturer&quot;)\r\n    private List&lt;Good&gt; goods;\r\n```\r\nMy REST controller:\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api&quot;)\r\npublic class MyRESTController {\r\n\r\n    @Autowired\r\n    private GoodService goodService;\r\n\r\n    @GetMapping(&quot;/goods&quot;)\r\n    public List&lt;Good&gt; showAllGoods() {\r\n        List&lt;Good&gt; allGoods = goodService.getAllGoods();\r\n        return allGoods;\r\n    }\r\n\r\n    @PostMapping(&quot;/goods&quot;)\r\n    public Good addNewGood(@RequestBody Good good) {\r\n        goodService.saveGood(good);\r\n        return good;\r\n    }\r\n\r\n    @PutMapping(&quot;/goods&quot;)\r\n    public Good updateGood(@RequestBody Good good) {\r\n        goodService.saveGood(good);\r\n        return good;\r\n    }\r\n\r\n    @DeleteMapping(&quot;/goods/{id}&quot;)\r\n    public String deleteGood(@PathVariable int id) {\r\n        goodService.deleteGood(id);\r\n        return &quot;Good with id = &quot; + id + &quot;deleted&quot;;\r\n    }\r\n}\r\n```\r\nJSON Examle I need to send as body:\r\n\r\n```\r\n[\r\n  {\r\n    &quot;title&quot;: &quot;Dean&quot;,\r\n    &quot;sexType&quot;: &quot;MAN&quot;,\r\n    &quot;manufacturer&quot;: {\r\n      &quot;id&quot;: 1,\r\n      &quot;manufacturerName&quot;: &quot;Ralf&quot;,\r\n      &quot;address&quot;: &quot;Moscow&quot;,\r\n      &quot;telephone&quot;: &quot;9-999-999-99-99&quot;\r\n    },\r\n    &quot;sizes&quot;: [\r\n      {\r\n        &quot;id&quot;: 3,\r\n        &quot;size&quot;: 42,\r\n        &quot;quantity&quot;: 6\r\n      },\r\n      {\r\n        &quot;id&quot;: 4,\r\n        &quot;size&quot;: 45,\r\n        &quot;quantity&quot;: 2\r\n      }\r\n    ],\r\n    &quot;id&quot;: 5\r\n  }\r\n]\r\n```\r\nPostman error:\r\n```\r\n{\r\n    &quot;timestamp&quot;: &quot;2023-04-07T15:02:08.771+00:00&quot;,\r\n    &quot;status&quot;: 415,\r\n    &quot;error&quot;: &quot;Unsupported Media Type&quot;,\r\n    &quot;path&quot;: &quot;/api/goods&quot;\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI tried to write @JsonIdentityInfo and change JSON body\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FdRbB.png","title":"Jackson Cannot handle managed/back reference error with @ManyToOne hibernate relation","body":"<p>I make shoe shop application with Spring Boot + Hibernate + PostgreSQL and I have table with Goods and Manufacturers. One manufacturer can have many goods</p>\n<p>I have made all relations with entities in my project, and faced with some problems while testing my Controller. I need to send post request body via Postman</p>\n<p><a href=\"https://i.stack.imgur.com/FdRbB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FdRbB.png\" alt=\"enter image description here\" /></a>\nAnd get 415 error.\n<code>Failed to evaluate Jackson deserialization for type [[simple type, class com.velov.shoeshop.entities.Good]]: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot handle managed/back reference 'defaultReference': back reference type (</code>java.util.List&lt;com.velov.shoeshop.entities.Good&gt;<code>) not compatible with managed type (com.velov.shoeshop.entities.Good)</code></p>\n<p>I get errors with POST and PUT methods</p>\n<p>And there is my code:</p>\n<p>class for Good:</p>\n<pre><code>@Entity\n@Table(name = &quot;goods&quot;)\npublic class Good {\n    @Id\n    @Column(name = &quot;id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int Id;\n\n    @Column(name = &quot;Title&quot;)\n    private String title;\n\n    @Enumerated(EnumType.STRING)\n    @Column(name = &quot;sex&quot;)\n    private sexType sexType;\n\n    /**\n     * proved and it actually works!\n     */\n    @JsonManagedReference\n    @ManyToOne(cascade = {CascadeType.PERSIST, CascadeType.DETACH,\n    CascadeType.REFRESH, CascadeType.MERGE})\n    @JoinColumn(name = &quot;ManufacturerId&quot;)\n    Manufacturer manufacturer; //Many goods can refer to one manufacturer\n\n\n    @JsonManagedReference\n    @OneToMany(cascade = {CascadeType.PERSIST, CascadeType.DETACH,\n            CascadeType.REFRESH, CascadeType.MERGE}, mappedBy = &quot;good&quot;)//Uni-directional reference to size array\n    List&lt;Size&gt; sizes;\n</code></pre>\n<p>Class for Manufacturer:</p>\n<pre><code>@Entity\n@Table(name = &quot;manufacturers&quot;)\npublic class Manufacturer {\n    @Id\n    @Column(name = &quot;id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int Id;\n\n    @Column(name = &quot;ManufacturerName&quot;)\n    private String manufacturerName;\n\n    @Column(name = &quot;Address&quot;)\n    private String address;\n\n    @Column(name = &quot;Telephone&quot;)\n    private String telephone;\n\n    @JsonBackReference\n    @OneToMany(cascade = {CascadeType.PERSIST, CascadeType.DETACH,\n            CascadeType.REFRESH, CascadeType.MERGE},\n            mappedBy = &quot;manufacturer&quot;)\n    private List&lt;Good&gt; goods;\n</code></pre>\n<p>My REST controller:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class MyRESTController {\n\n    @Autowired\n    private GoodService goodService;\n\n    @GetMapping(&quot;/goods&quot;)\n    public List&lt;Good&gt; showAllGoods() {\n        List&lt;Good&gt; allGoods = goodService.getAllGoods();\n        return allGoods;\n    }\n\n    @PostMapping(&quot;/goods&quot;)\n    public Good addNewGood(@RequestBody Good good) {\n        goodService.saveGood(good);\n        return good;\n    }\n\n    @PutMapping(&quot;/goods&quot;)\n    public Good updateGood(@RequestBody Good good) {\n        goodService.saveGood(good);\n        return good;\n    }\n\n    @DeleteMapping(&quot;/goods/{id}&quot;)\n    public String deleteGood(@PathVariable int id) {\n        goodService.deleteGood(id);\n        return &quot;Good with id = &quot; + id + &quot;deleted&quot;;\n    }\n}\n</code></pre>\n<p>JSON Examle I need to send as body:</p>\n<pre><code>[\n  {\n    &quot;title&quot;: &quot;Dean&quot;,\n    &quot;sexType&quot;: &quot;MAN&quot;,\n    &quot;manufacturer&quot;: {\n      &quot;id&quot;: 1,\n      &quot;manufacturerName&quot;: &quot;Ralf&quot;,\n      &quot;address&quot;: &quot;Moscow&quot;,\n      &quot;telephone&quot;: &quot;9-999-999-99-99&quot;\n    },\n    &quot;sizes&quot;: [\n      {\n        &quot;id&quot;: 3,\n        &quot;size&quot;: 42,\n        &quot;quantity&quot;: 6\n      },\n      {\n        &quot;id&quot;: 4,\n        &quot;size&quot;: 45,\n        &quot;quantity&quot;: 2\n      }\n    ],\n    &quot;id&quot;: 5\n  }\n]\n</code></pre>\n<p>Postman error:</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2023-04-07T15:02:08.771+00:00&quot;,\n    &quot;status&quot;: 415,\n    &quot;error&quot;: &quot;Unsupported Media Type&quot;,\n    &quot;path&quot;: &quot;/api/goods&quot;\n}\n</code></pre>\n<p>I tried to write @JsonIdentityInfo and change JSON body</p>\n"},{"tags":["java","reactjs","spring-boot","cors"],"comments":[{"owner":{"account_id":906446,"reputation":47553,"user_id":941240,"display_name":"Wiktor Zychla"},"score":1,"creation_date":1680695952,"post_id":75939151,"comment_id":133940930,"body_markdown":"*The Cors have been configured in the backend globally and it works* apparently it doesn&#39;t","body":"<i>The Cors have been configured in the backend globally and it works</i> apparently it doesn&#39;t"},{"owner":{"account_id":28029077,"reputation":949,"user_id":21408550,"display_name":"inkredusk"},"score":0,"creation_date":1680696027,"post_id":75939151,"comment_id":133940955,"body_markdown":"What `CORS` related configuration has been done on the backend? Can you please post some details about it as well ?","body":"What <code>CORS</code> related configuration has been done on the backend? Can you please post some details about it as well ?"},{"owner":{"account_id":17559007,"reputation":871,"user_id":12737879,"display_name":"Aleksandar"},"score":0,"creation_date":1680696920,"post_id":75939151,"comment_id":133941222,"body_markdown":"`reactjs` tags, where is the React code?","body":"<code>reactjs</code> tags, where is the React code?"},{"owner":{"account_id":21898762,"reputation":1,"user_id":16184678,"display_name":"Johnny Boy"},"score":0,"creation_date":1680726063,"post_id":75939151,"comment_id":133949108,"body_markdown":"I think the cors works as the gets work fine. Here it is:","body":"I think the cors works as the gets work fine. Here it is:"},{"owner":{"account_id":21898762,"reputation":1,"user_id":16184678,"display_name":"Johnny Boy"},"score":0,"creation_date":1680726301,"post_id":75939151,"comment_id":133949158,"body_markdown":"@inkredusk:  \n            public void addCorsMappings(CorsRegistry registry) {\n                registry\n                        .addMapping(&quot;/**&quot;)\n                        .allowedMethods(CorsConfiguration.ALL)\n                        .allowedHeaders(CorsConfiguration.ALL)\n                        .allowedOriginPatterns(CorsConfiguration.ALL);\n            }\n        };\n    }","body":"@inkredusk:               public void addCorsMappings(CorsRegistry registry) {                 registry                         .addMapping(&quot;/**&quot;)                         .allowedMethods(CorsConfiguration.ALL)                         .allowedHeaders(CorsConfiguration.ALL)                         .allowedOriginPatterns(CorsConfiguration.ALL);             }         };     }"},{"owner":{"account_id":21898762,"reputation":1,"user_id":16184678,"display_name":"Johnny Boy"},"score":0,"creation_date":1680726369,"post_id":75939151,"comment_id":133949170,"body_markdown":"has the right annotations over the class and WebMvcConfigurer implemented in the class","body":"has the right annotations over the class and WebMvcConfigurer implemented in the class"},{"owner":{"account_id":21898762,"reputation":1,"user_id":16184678,"display_name":"Johnny Boy"},"score":0,"creation_date":1680726429,"post_id":75939151,"comment_id":133949180,"body_markdown":"@Aleksandar    async function handleSubmit(event) {\n        event.preventDefault(); //provides this event\n        await axios.post(COURSE_API_URL, userData, axiosConfig).then(res =&gt; {\n            setUserData({\n                email: &#39;&#39;,\n                pass: &#39;&#39;,\n                firstName: &#39;&#39;,\n                lastName: &#39;&#39;,\n                employeeAddress: &#39;&#39;,\n                employeePhoneNumber: &#39;56678&#39;,\n                salaryPA: &#39;5600&#39;,\n                b2b: &#39;No&#39;,\n                team: &#39;HR&#39;,\n                departmentId: 102\n            })\n        }).catch(","body":"@Aleksandar    async function handleSubmit(event) {         event.preventDefault(); //provides this event         await axios.post(COURSE_API_URL, userData, axiosConfig).then(res =&gt; {             setUserData({                 email: &#39;&#39;,                 pass: &#39;&#39;,                 firstName: &#39;&#39;,                 lastName: &#39;&#39;,                 employeeAddress: &#39;&#39;,                 employeePhoneNumber: &#39;56678&#39;,                 salaryPA: &#39;5600&#39;,                 b2b: &#39;No&#39;,                 team: &#39;HR&#39;,                 departmentId: 102             })         }).catch("},{"owner":{"account_id":21898762,"reputation":1,"user_id":16184678,"display_name":"Johnny Boy"},"score":0,"creation_date":1680726492,"post_id":75939151,"comment_id":133949196,"body_markdown":"I believe the react is fine as I can see the payload is full of the input and it is merely the error above that I get","body":"I believe the react is fine as I can see the payload is full of the input and it is merely the error above that I get"},{"owner":{"account_id":10238255,"reputation":5074,"user_id":7556457,"display_name":"kca"},"score":0,"creation_date":1680810674,"post_id":75939151,"comment_id":133964871,"body_markdown":"_&quot;GET works, POST doesn&#39;t&quot;_ makes me think it might be related to [simple requests](https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS#simple_requests) vs [Preflighted requests](https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS#preflighted_requests)","body":"<i>&quot;GET works, POST doesn&#39;t&quot;</i> makes me think it might be related to <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS#simple_requests\" rel=\"nofollow noreferrer\">simple requests</a> vs <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS#preflighted_requests\" rel=\"nofollow noreferrer\">Preflighted requests</a>"}],"owner":{"account_id":21898762,"reputation":1,"user_id":16184678,"display_name":"Johnny Boy"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680884779,"creation_date":1680695844,"question_id":75939151,"body_markdown":"the console error\r\n\r\n    Access to XMLHttpRequest at &#39;http://localhost:9191/api/v1/employee&#39; from origin     &#39;http://localhost:3000&#39; has been blocked by CORS policy: Response to preflight request doesn&#39;t pass access control check: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.\r\n\r\nThe Cors have been configured in the backend globally and it works.\r\n\r\nHere are 2 endpoints, very standard, except the Post does&#39;t work and the Get does:\r\n\r\n    @PostMapping(value = &quot;/employee&quot;)\r\n    @ResponseBody\r\n    public EmployeeDTO createEmployee(EmployeeDTO employee){\r\n        return employeeService.createEmployee(employee);\r\n    }\r\n\r\n    @GetMapping(&quot;/employee&quot;)\r\n    public List&lt;EmployeeDTO&gt; getEmployees(){\r\n        return employeeService.getAllEmployees();\r\n    }\r\n\r\n\r\n\r\n","title":"CORS is blocking Post, Put and Delete but Get all and Get by Id work fine. React to Springboot","body":"<p>the console error</p>\n<pre><code>Access to XMLHttpRequest at 'http://localhost:9191/api/v1/employee' from origin     'http://localhost:3000' has been blocked by CORS policy: Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource.\n</code></pre>\n<p>The Cors have been configured in the backend globally and it works.</p>\n<p>Here are 2 endpoints, very standard, except the Post does't work and the Get does:</p>\n<pre><code>@PostMapping(value = &quot;/employee&quot;)\n@ResponseBody\npublic EmployeeDTO createEmployee(EmployeeDTO employee){\n    return employeeService.createEmployee(employee);\n}\n\n@GetMapping(&quot;/employee&quot;)\npublic List&lt;EmployeeDTO&gt; getEmployees(){\n    return employeeService.getAllEmployees();\n}\n</code></pre>\n"},{"tags":["java","user-interface","intellij-idea","javafx-2"],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1408042257,"creation_date":1399010335,"answer_id":23421720,"question_id":23421325,"body_markdown":"There is nothing to convert.\r\n\r\nI don&#39;t believe there is any difference in Idea between a &quot;normal&quot; Java project and a JavaFX project.\r\n\r\nSure, in Idea 12.x+ there is a wizard you can use to create a new JavaFX project.  But I think that all it does is create a sample hello world application - after initial creation, the way the project works is not any different than any other Java project.  \r\n\r\nAnd this is how it should be, JavaFX is just Java.  Oracle doesn&#39;t differentiate between JavaFX and Java in their distribution, and neither should IDEs in their project types.\r\n\r\nI believe, in this case, even if I&#39;m wrong, that I am right enough that it doesn&#39;t really matter if I&#39;m wrong.\r\n\r\n**Update**\r\n\r\nSo I was wrong enough that it matters :-)\r\n\r\nUsing Idea 13.1.4, if I create a new project using `File | New Project | Java`, there are the following resource settings (`File | Settings | Compiler`):\r\n\r\n    ?*.properties;?*.xml;?*.gif;?*.png;?*.jpeg;?*.jpg;?*.html;?*.dtd;?*.tld;?*.ftl\r\n\r\nThat is, the resources for the project are just set to copy only specific file types.  So you could modify it to get the additional file types required in some JavaFX projects by adding resource copying support for fxml and css; i.e, appending `;?*.fxml;?*.css`.\r\n\r\nThe interesting part is that if you create a new project using `File | New Project | JavaFX`, there are the following resource settings:\r\n\r\n    !?*.java;!?*.form;!?*.class;!?*.groovy;!?*.scala;!?*.flex;!?*.kt;!?*.clj\r\n\r\nEssentially, it&#39;s copying everything which not a source file, a kind of file blacklist set rather than a file whitelist set as is used by other project creation templates.  Really weird...  Anyway, the resource sets are user configurable, so you can modify them as you see fit and once you do so, you shouldn&#39;t have any issues (I believe, but I&#39;ve been wrong before ;-)\r\n\r\n**Suggestion - Use 3rd party build tools in conjunction with your IDE**\r\n\r\nYou might be better off basing your build off of a 3rd party tool such as Gradle or Maven.  *Idea works really well with both these external build tools (and others)*.  The advantages of using a 3rd party tool is:\r\n\r\n 1. Projects with those tools follow a convention where resources are placed in a specific resource folder and everything in that folder is treated as a resource to be packaged in your build output.  So there is less confusion there.  \r\n 2. The resultant projects are more portable and easier to use by other developers who may not be using Idea.\r\n 3. The projects can be built easily by continuous integration build systems like Jenkins.\r\n 4. Both Gradle and Maven have JavaFX specific plugins which provide additional support for packaging JavaFX applications.\r\n\r\nOf course, the disadvantage of using a 3rd party build tool, is the complexity (and many quirks) of learning them as sometimes they can be quite the beast.  So I think it&#39;s a bit of a tradeoff - small, personal exploratory projects don&#39;t need them, larger projects or projects you intend to share with others benefit from using such tools.","title":"How to convert a normal java project in intellij into a JavaFx project","body":"<p>There is nothing to convert.</p>\n\n<p>I don't believe there is any difference in Idea between a \"normal\" Java project and a JavaFX project.</p>\n\n<p>Sure, in Idea 12.x+ there is a wizard you can use to create a new JavaFX project.  But I think that all it does is create a sample hello world application - after initial creation, the way the project works is not any different than any other Java project.  </p>\n\n<p>And this is how it should be, JavaFX is just Java.  Oracle doesn't differentiate between JavaFX and Java in their distribution, and neither should IDEs in their project types.</p>\n\n<p>I believe, in this case, even if I'm wrong, that I am right enough that it doesn't really matter if I'm wrong.</p>\n\n<p><strong>Update</strong></p>\n\n<p>So I was wrong enough that it matters :-)</p>\n\n<p>Using Idea 13.1.4, if I create a new project using <code>File | New Project | Java</code>, there are the following resource settings (<code>File | Settings | Compiler</code>):</p>\n\n<pre><code>?*.properties;?*.xml;?*.gif;?*.png;?*.jpeg;?*.jpg;?*.html;?*.dtd;?*.tld;?*.ftl\n</code></pre>\n\n<p>That is, the resources for the project are just set to copy only specific file types.  So you could modify it to get the additional file types required in some JavaFX projects by adding resource copying support for fxml and css; i.e, appending <code>;?*.fxml;?*.css</code>.</p>\n\n<p>The interesting part is that if you create a new project using <code>File | New Project | JavaFX</code>, there are the following resource settings:</p>\n\n<pre><code>!?*.java;!?*.form;!?*.class;!?*.groovy;!?*.scala;!?*.flex;!?*.kt;!?*.clj\n</code></pre>\n\n<p>Essentially, it's copying everything which not a source file, a kind of file blacklist set rather than a file whitelist set as is used by other project creation templates.  Really weird...  Anyway, the resource sets are user configurable, so you can modify them as you see fit and once you do so, you shouldn't have any issues (I believe, but I've been wrong before ;-)</p>\n\n<p><strong>Suggestion - Use 3rd party build tools in conjunction with your IDE</strong></p>\n\n<p>You might be better off basing your build off of a 3rd party tool such as Gradle or Maven.  <em>Idea works really well with both these external build tools (and others)</em>.  The advantages of using a 3rd party tool is:</p>\n\n<ol>\n<li>Projects with those tools follow a convention where resources are placed in a specific resource folder and everything in that folder is treated as a resource to be packaged in your build output.  So there is less confusion there.  </li>\n<li>The resultant projects are more portable and easier to use by other developers who may not be using Idea.</li>\n<li>The projects can be built easily by continuous integration build systems like Jenkins.</li>\n<li>Both Gradle and Maven have JavaFX specific plugins which provide additional support for packaging JavaFX applications.</li>\n</ol>\n\n<p>Of course, the disadvantage of using a 3rd party build tool, is the complexity (and many quirks) of learning them as sometimes they can be quite the beast.  So I think it's a bit of a tradeoff - small, personal exploratory projects don't need them, larger projects or projects you intend to share with others benefit from using such tools.</p>\n"},{"tags":[],"owner":{"account_id":449003,"reputation":677,"user_id":843545,"accept_rate":75,"display_name":"Noah Ternullo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1408032713,"creation_date":1407946682,"answer_id":25291241,"question_id":23421325,"body_markdown":"One solution is to generate your code using Scene Builder, and then integrate it into your existing IntelliJ project.  While it should be possible to import this as a module, you can also simply move the code to where it needs to be (making appropriate corrections to package statements, etc).  If you notice that the javafx imports aren&#39;t recognized within your project, try this solution:\r\n\r\nFirst ensure that you&#39;ve set up IntelliJ in general for JavaFX by following the intial steps in this [tutorial][1].  Note: Below I mention 1.8, but this should work with 1.7+.  I recommend 1.8+.\r\n\r\nSecond ensure that the existing project settings allow for javaFX use\r\n\r\n 1. Open Project Structure\r\n 2. Click on Project under the project settings pane\r\n 3. Ensure that the Project SDK is 1.8+.  \r\n\r\nThird Ensure that the modules are configured for a JDK supporting JavaFX\r\n\r\n 1. Open Project Structure\r\n 2. Click on Modules under the project settings pane\r\n 3. Ensure that the module SDK being used supports javaFX, Again I use JDK 1.8 but it should work with 1.7.\r\n\r\nAlso, please be aware that if you have a maven project, you may need to put your fxml in a particular location, &quot;/main/resources/&quot;.  Take a look at [this.][2]\r\n\r\nThat worked for me, and I hope it helps you.\r\n\r\n\r\n  [1]: http://www.jetbrains.com/idea/webhelp/preparing-for-javafx-application-development.html\r\n  [2]: https://stackoverflow.com/questions/20507591/javafx-location-is-required-even-though-it-is-in-the-same-package","title":"How to convert a normal java project in intellij into a JavaFx project","body":"<p>One solution is to generate your code using Scene Builder, and then integrate it into your existing IntelliJ project.  While it should be possible to import this as a module, you can also simply move the code to where it needs to be (making appropriate corrections to package statements, etc).  If you notice that the javafx imports aren't recognized within your project, try this solution:</p>\n\n<p>First ensure that you've set up IntelliJ in general for JavaFX by following the intial steps in this <a href=\"http://www.jetbrains.com/idea/webhelp/preparing-for-javafx-application-development.html\" rel=\"nofollow noreferrer\">tutorial</a>.  Note: Below I mention 1.8, but this should work with 1.7+.  I recommend 1.8+.</p>\n\n<p>Second ensure that the existing project settings allow for javaFX use</p>\n\n<ol>\n<li>Open Project Structure</li>\n<li>Click on Project under the project settings pane</li>\n<li>Ensure that the Project SDK is 1.8+.  </li>\n</ol>\n\n<p>Third Ensure that the modules are configured for a JDK supporting JavaFX</p>\n\n<ol>\n<li>Open Project Structure</li>\n<li>Click on Modules under the project settings pane</li>\n<li>Ensure that the module SDK being used supports javaFX, Again I use JDK 1.8 but it should work with 1.7.</li>\n</ol>\n\n<p>Also, please be aware that if you have a maven project, you may need to put your fxml in a particular location, \"/main/resources/\".  Take a look at <a href=\"https://stackoverflow.com/questions/20507591/javafx-location-is-required-even-though-it-is-in-the-same-package\">this.</a></p>\n\n<p>That worked for me, and I hope it helps you.</p>\n"},{"tags":[],"owner":{"account_id":2983940,"reputation":12531,"user_id":2533290,"accept_rate":53,"display_name":"Martin Pfeffer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445681130,"creation_date":1445681130,"answer_id":33316928,"question_id":23421325,"body_markdown":"Please keep in mind that your source(s) folder(s) has to be set correctly. \r\nSee screenshot to get an idea what I mean..\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/sGagc.png","title":"How to convert a normal java project in intellij into a JavaFx project","body":"<p>Please keep in mind that your source(s) folder(s) has to be set correctly. \nSee screenshot to get an idea what I mean..</p>\n\n<p><a href=\"https://i.stack.imgur.com/sGagc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sGagc.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":5580966,"reputation":11038,"user_id":4422856,"display_name":"shakram02"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1504845255,"creation_date":1504844482,"answer_id":46108596,"question_id":23421325,"body_markdown":"I followed those steps\r\n\r\n- Create a new module in your existing intellij project (A)\r\n- Create a new JavaFx project elsewhere\r\n- Copy the code from the JavaFx project, namely `Controller.java,Main.java and sample.fxml` into your module in the (A) project under the src directory as in `A/user-interface/src`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n- You&#39;ll find an error in `sample.fxml` since it references the controller class as `sample.Controller` change it to &#39;Controller&#39; only. it worked this way (as I removed the `sample` package folder\r\n\r\n[![Fixing sample.fxml][2]][2]\r\n\r\n- In (A) open the settings menu `File | Project Structure | Modules`\r\n- Select the `user-interface` module from the list on the left side of the settings window\r\n- Switch to the `dependencies` tab\r\n- Add your old non-gui module as a module dependency using the green `+` mark on the right-hand side\r\n- Now you can use the classes in the non-gui module, enjoy!\r\n\r\nnote: you can skip the add module dependency and let intellij do it for you, just type a name of a class in the old module, `alt+enter` (the light bulb magic) -&gt; `add module depenency`\r\n\r\n[![Module dependency window][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kNkWi.png\r\n  [2]: https://i.stack.imgur.com/e1UUi.png\r\n  [3]: https://i.stack.imgur.com/gQhzi.png","title":"How to convert a normal java project in intellij into a JavaFx project","body":"<p>I followed those steps</p>\n\n<ul>\n<li>Create a new module in your existing intellij project (A)</li>\n<li>Create a new JavaFx project elsewhere</li>\n<li>Copy the code from the JavaFx project, namely <code>Controller.java,Main.java and sample.fxml</code> into your module in the (A) project under the src directory as in <code>A/user-interface/src</code></li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/kNkWi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kNkWi.png\" alt=\"enter image description here\"></a></p>\n\n<ul>\n<li>You'll find an error in <code>sample.fxml</code> since it references the controller class as <code>sample.Controller</code> change it to 'Controller' only. it worked this way (as I removed the <code>sample</code> package folder</li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/e1UUi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e1UUi.png\" alt=\"Fixing sample.fxml\"></a></p>\n\n<ul>\n<li>In (A) open the settings menu <code>File | Project Structure | Modules</code></li>\n<li>Select the <code>user-interface</code> module from the list on the left side of the settings window</li>\n<li>Switch to the <code>dependencies</code> tab</li>\n<li>Add your old non-gui module as a module dependency using the green <code>+</code> mark on the right-hand side</li>\n<li>Now you can use the classes in the non-gui module, enjoy!</li>\n</ul>\n\n<p>note: you can skip the add module dependency and let intellij do it for you, just type a name of a class in the old module, <code>alt+enter</code> (the light bulb magic) -> <code>add module depenency</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/gQhzi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gQhzi.png\" alt=\"Module dependency window\"></a></p>\n"},{"tags":[],"owner":{"account_id":13853443,"reputation":2057,"user_id":10000823,"display_name":"Rainb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680884466,"creation_date":1549024146,"answer_id":54479550,"question_id":23421325,"body_markdown":"So after lots of googling I finally found it out myself!\r\n\r\nIf you can create new Javafx projects in IntelliJ and it works perfectly, but when you open a normal java application that happens to use javafx doesn&#39;t work, (because java just doesn&#39;t want to resolve the javafx references)\r\n\r\n**what works for me is this:**\r\nYou must add the `&quot;jre/lib/ext/jfxrt.jar&quot;` file to the module classpath that is located inside IDEA on my windows machine this is `C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2018.3.3\\jre64\\lib\\ext\\jfxrt.jar`.\r\n\r\nAnd now it finally builds! \r\n","title":"How to convert a normal java project in intellij into a JavaFx project","body":"<p>So after lots of googling I finally found it out myself!</p>\n<p>If you can create new Javafx projects in IntelliJ and it works perfectly, but when you open a normal java application that happens to use javafx doesn't work, (because java just doesn't want to resolve the javafx references)</p>\n<p><strong>what works for me is this:</strong>\nYou must add the <code>&quot;jre/lib/ext/jfxrt.jar&quot;</code> file to the module classpath that is located inside IDEA on my windows machine this is <code>C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2018.3.3\\jre64\\lib\\ext\\jfxrt.jar</code>.</p>\n<p>And now it finally builds!</p>\n"}],"owner":{"account_id":1949949,"reputation":1154,"user_id":1754276,"accept_rate":70,"display_name":"Wizard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35055,"favorite_count":0,"down_vote_count":1,"up_vote_count":21,"accepted_answer_id":23421720,"answer_count":5,"score":20,"last_activity_date":1680884466,"creation_date":1399008267,"question_id":23421325,"body_markdown":"I am currently using a normal java project (gradle project) and want to convert this into a JavaFx project without having to reimport the existing sources into a new Javafx project. Is there any way to achieve this?","title":"How to convert a normal java project in intellij into a JavaFx project","body":"<p>I am currently using a normal java project (gradle project) and want to convert this into a JavaFx project without having to reimport the existing sources into a new Javafx project. Is there any way to achieve this?</p>\n"},{"tags":["java","spring","spring-boot","hibernate"],"answers":[{"tags":[],"owner":{"account_id":9064433,"reputation":568,"user_id":6749813,"display_name":"S.Tushinov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680882491,"creation_date":1680882491,"answer_id":75959980,"question_id":75959501,"body_markdown":"If the class that defines the method `loginUser(LoginRequest request)` is an implementation of the interface `AuthenticationProvider` then the part of your code which calls \r\n`Authentication auth = authenticationManager.authenticate(authToken)` might resolve in an infinite loop which will fill up your stack.\r\n\r\nThe default implementation of the `AuthenticationManager` is the `ProviderManager` class. `ProviderManager` loops through the implementations of `AuthenticationProvider` within the Spring Application and calls their `AuthenticationProvider#authenticate` method.\r\n\r\nSo if your method\r\n\r\n      public AuthenticationResponse loginUser(LoginRequest request) {\r\n        AuthenticationResponse authenticationResponse = new AuthenticationResponse();\r\n        AppUser appUser = appUserService.getAppUserByEmail(request.getEmail());\r\n\r\n        UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(request.getEmail(), request.getPassword());\r\n        Authentication auth = authenticationManager.authenticate(authToken); //Thin\r\n        SecurityContextHolder.getContext().setAuthentication(auth);\r\n        String jwtToken = tokenManager.generateToken(auth);\r\n        authenticationResponse.setAccessToken(&quot;Bearer &quot; + jwtToken);\r\n        authenticationResponse.setRefreshToken(refreshTokenService.createRefreshToken(appUser));\r\n        authenticationResponse.setAppUser(AppUserResponse.convert(appUser));\r\n        return authenticationResponse;\r\n    }\r\n\r\nis inside a class which is an implementation of `AuthenticationProvider` you are infinitely looping between the `AuthenticationManager` and `AuthenticationProvider`\r\n\r\nExample: `authenticationManager.authenticate()` calls `authenticationProvide.authenticate()` calls `authenticationManager.authenticate()` and you stack gets filled up.\r\n\r\np.s. You can also check out the spring documentation for `AuthenticationManager` [here][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/servlet/authentication/architecture.html#servlet-authentication-providermanager","title":"Spring Boot authentication throws java.lang.StackOverflowError: null","body":"<p>If the class that defines the method <code>loginUser(LoginRequest request)</code> is an implementation of the interface <code>AuthenticationProvider</code> then the part of your code which calls\n<code>Authentication auth = authenticationManager.authenticate(authToken)</code> might resolve in an infinite loop which will fill up your stack.</p>\n<p>The default implementation of the <code>AuthenticationManager</code> is the <code>ProviderManager</code> class. <code>ProviderManager</code> loops through the implementations of <code>AuthenticationProvider</code> within the Spring Application and calls their <code>AuthenticationProvider#authenticate</code> method.</p>\n<p>So if your method</p>\n<pre><code>  public AuthenticationResponse loginUser(LoginRequest request) {\n    AuthenticationResponse authenticationResponse = new AuthenticationResponse();\n    AppUser appUser = appUserService.getAppUserByEmail(request.getEmail());\n\n    UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(request.getEmail(), request.getPassword());\n    Authentication auth = authenticationManager.authenticate(authToken); //Thin\n    SecurityContextHolder.getContext().setAuthentication(auth);\n    String jwtToken = tokenManager.generateToken(auth);\n    authenticationResponse.setAccessToken(&quot;Bearer &quot; + jwtToken);\n    authenticationResponse.setRefreshToken(refreshTokenService.createRefreshToken(appUser));\n    authenticationResponse.setAppUser(AppUserResponse.convert(appUser));\n    return authenticationResponse;\n}\n</code></pre>\n<p>is inside a class which is an implementation of <code>AuthenticationProvider</code> you are infinitely looping between the <code>AuthenticationManager</code> and <code>AuthenticationProvider</code></p>\n<p>Example: <code>authenticationManager.authenticate()</code> calls <code>authenticationProvide.authenticate()</code> calls <code>authenticationManager.authenticate()</code> and you stack gets filled up.</p>\n<p>p.s. You can also check out the spring documentation for <code>AuthenticationManager</code> <a href=\"https://docs.spring.io/spring-security/reference/servlet/authentication/architecture.html#servlet-authentication-providermanager\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":409,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75959980,"answer_count":1,"score":0,"last_activity_date":1680884369,"creation_date":1680879022,"question_id":75959501,"body_markdown":"I can successfully signup users. However, when it comes to logging in the following error is thrown. I couldn&#39;t solve this problem for days.\r\n\r\n**stacktrace**\r\n```\r\nServlet.service() for servlet [dispatcherServlet] in context with path [/api/v1] threw exception [Handler dispatch failed; nested exception is java.lang.StackOverflowError] with root cause\r\n\r\njava.lang.StackOverflowError: null\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\r\n\tat com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n...\r\n```\r\n\r\nHere is where the error is thrown\r\n```\r\n  public AuthenticationResponse loginUser(LoginRequest request) {\r\n        AuthenticationResponse authenticationResponse = new AuthenticationResponse();\r\n        AppUser appUser = appUserService.getAppUserByEmail(request.getEmail());\r\n\r\n        UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(request.getEmail(), request.getPassword());\r\n        Authentication auth = authenticationManager.authenticate(authToken); //Thin\r\n        SecurityContextHolder.getContext().setAuthentication(auth);\r\n        String jwtToken = tokenManager.generateToken(auth);\r\n        authenticationResponse.setAccessToken(&quot;Bearer &quot; + jwtToken);\r\n        authenticationResponse.setRefreshToken(refreshTokenService.createRefreshToken(appUser));\r\n        authenticationResponse.setAppUser(AppUserResponse.convert(appUser));\r\n        return authenticationResponse;\r\n    }\r\n```\r\n\r\n\r\n**AppUser** entity\r\n\r\n```\r\npackage com.napsam.wo.entities;\r\n\r\n\r\nimport org.hibernate.annotations.CreationTimestamp;\r\nimport org.hibernate.annotations.UpdateTimestamp;\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\n\r\nimport javax.persistence.*;\r\nimport javax.validation.constraints.NotBlank;\r\nimport java.io.Serializable;\r\nimport java.time.LocalDateTime;\r\nimport java.util.*;\r\n\r\n@Entity\r\npublic class AppUser implements UserDetails, Serializable {\r\n    @Id\r\n  /*  @GeneratedValue(generator = &quot;UUID&quot;)\r\n    @GenericGenerator(\r\n            name = &quot;UUID&quot;,\r\n            strategy = &quot;org.hibernate.id.UUIDGenerator&quot;\r\n    )*/\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long appUserId;\r\n\r\n\r\n    @Column(nullable = false, unique = true)\r\n    @NotBlank(message = &quot;Email boş olamaz&quot;)\r\n    private String email;\r\n\r\n    @Column(nullable = false, unique = true)\r\n    private String username;\r\n\r\n    @Column(nullable = false)\r\n    @NotBlank\r\n    private String password;\r\n    private String fullName;\r\n    @Enumerated(EnumType.STRING)\r\n    private Gender gender;\r\n    private String biography;\r\n    @CreationTimestamp\r\n    private LocalDateTime createdAt;\r\n    @UpdateTimestamp\r\n    private LocalDateTime updatedAt;\r\n    private String avatar;\r\n    private int score;\r\n    private boolean isEnabled;\r\n    private boolean isLocked;\r\n    public AppUser() {\r\n    }\r\n\r\n    public AppUser(Long appUserId,\r\n                   String email,\r\n                   String username,\r\n                   String password,\r\n                   String fullName,\r\n                   Gender gender,\r\n                   String biography,\r\n                   LocalDateTime createdAt,\r\n                   LocalDateTime updatedAt,\r\n                   String avatar,\r\n                   int score, boolean isLocked) {\r\n        this.appUserId = appUserId;\r\n        this.email = email;\r\n        this.username = username;\r\n        this.password = password;\r\n        this.fullName = fullName;\r\n        this.gender = gender;\r\n        this.biography = biography;\r\n        this.createdAt = createdAt;\r\n        this.updatedAt = updatedAt;\r\n        this.avatar = avatar;\r\n        this.score = score;\r\n        this.isLocked = isLocked;\r\n    }\r\n\r\n    public Long getAppUserId() {\r\n        return appUserId;\r\n    }\r\n\r\n    public void setAppUserId(Long appUserId) {\r\n        this.appUserId = appUserId;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public void setUsername(String username) {\r\n        this.username = username;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n\r\n\r\n    public String getFullName() {\r\n        return fullName;\r\n    }\r\n\r\n    public void setFullName(String fullName) {\r\n        this.fullName = fullName;\r\n    }\r\n\r\n    public Gender getGender() {\r\n        return gender;\r\n    }\r\n\r\n    public void setGender(Gender gender) {\r\n        this.gender = gender;\r\n    }\r\n\r\n    public String getBiography() {\r\n        return biography;\r\n    }\r\n\r\n    public void setBiography(String biography) {\r\n        this.biography = biography;\r\n    }\r\n\r\n    public LocalDateTime getCreatedAt() {\r\n        return createdAt;\r\n    }\r\n\r\n    public void setCreatedAt(LocalDateTime createdAt) {\r\n        this.createdAt = createdAt;\r\n    }\r\n\r\n    public LocalDateTime getUpdatedAt() {\r\n        return updatedAt;\r\n    }\r\n\r\n    public void setUpdatedAt(LocalDateTime updatedAt) {\r\n        this.updatedAt = updatedAt;\r\n    }\r\n\r\n    public String getAvatar() {\r\n        return avatar;\r\n    }\r\n\r\n    public void setAvatar(String avatar) {\r\n        this.avatar = avatar;\r\n    }\r\n\r\n    public int getScore() {\r\n        return score;\r\n    }\r\n\r\n    public void setScore(int score) {\r\n        this.score = score;\r\n    }\r\n\r\n    @Override\r\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n        return new HashSet&lt;&gt;();\r\n    }\r\n\r\n    @Override\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    @Override\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonExpired() {\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonLocked() {\r\n        return !isLocked;\r\n    }\r\n\r\n    @Override\r\n    public boolean isCredentialsNonExpired() {\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public boolean isEnabled() {\r\n        return isEnabled;\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nI tried to use `lombok` but didn&#39;t work. I tried to override `toString`, `hashCode` and `equals` methods but didn&#39;t work either. \r\n\r\nIf further information is required, please let me know.\r\n","title":"Spring Boot authentication throws java.lang.StackOverflowError: null","body":"<p>I can successfully signup users. However, when it comes to logging in the following error is thrown. I couldn't solve this problem for days.</p>\n<p><strong>stacktrace</strong></p>\n<pre><code>Servlet.service() for servlet [dispatcherServlet] in context with path [/api/v1] threw exception [Handler dispatch failed; nested exception is java.lang.StackOverflowError] with root cause\n\njava.lang.StackOverflowError: null\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.25.jar:5.3.25]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-5.3.25.jar:5.3.25]\n    at com.sun.proxy.$Proxy135.authenticate(Unknown Source) ~[na:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor20.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n...\n</code></pre>\n<p>Here is where the error is thrown</p>\n<pre><code>  public AuthenticationResponse loginUser(LoginRequest request) {\n        AuthenticationResponse authenticationResponse = new AuthenticationResponse();\n        AppUser appUser = appUserService.getAppUserByEmail(request.getEmail());\n\n        UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(request.getEmail(), request.getPassword());\n        Authentication auth = authenticationManager.authenticate(authToken); //Thin\n        SecurityContextHolder.getContext().setAuthentication(auth);\n        String jwtToken = tokenManager.generateToken(auth);\n        authenticationResponse.setAccessToken(&quot;Bearer &quot; + jwtToken);\n        authenticationResponse.setRefreshToken(refreshTokenService.createRefreshToken(appUser));\n        authenticationResponse.setAppUser(AppUserResponse.convert(appUser));\n        return authenticationResponse;\n    }\n</code></pre>\n<p><strong>AppUser</strong> entity</p>\n<pre><code>package com.napsam.wo.entities;\n\n\nimport org.hibernate.annotations.CreationTimestamp;\nimport org.hibernate.annotations.UpdateTimestamp;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\n\nimport javax.persistence.*;\nimport javax.validation.constraints.NotBlank;\nimport java.io.Serializable;\nimport java.time.LocalDateTime;\nimport java.util.*;\n\n@Entity\npublic class AppUser implements UserDetails, Serializable {\n    @Id\n  /*  @GeneratedValue(generator = &quot;UUID&quot;)\n    @GenericGenerator(\n            name = &quot;UUID&quot;,\n            strategy = &quot;org.hibernate.id.UUIDGenerator&quot;\n    )*/\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long appUserId;\n\n\n    @Column(nullable = false, unique = true)\n    @NotBlank(message = &quot;Email boş olamaz&quot;)\n    private String email;\n\n    @Column(nullable = false, unique = true)\n    private String username;\n\n    @Column(nullable = false)\n    @NotBlank\n    private String password;\n    private String fullName;\n    @Enumerated(EnumType.STRING)\n    private Gender gender;\n    private String biography;\n    @CreationTimestamp\n    private LocalDateTime createdAt;\n    @UpdateTimestamp\n    private LocalDateTime updatedAt;\n    private String avatar;\n    private int score;\n    private boolean isEnabled;\n    private boolean isLocked;\n    public AppUser() {\n    }\n\n    public AppUser(Long appUserId,\n                   String email,\n                   String username,\n                   String password,\n                   String fullName,\n                   Gender gender,\n                   String biography,\n                   LocalDateTime createdAt,\n                   LocalDateTime updatedAt,\n                   String avatar,\n                   int score, boolean isLocked) {\n        this.appUserId = appUserId;\n        this.email = email;\n        this.username = username;\n        this.password = password;\n        this.fullName = fullName;\n        this.gender = gender;\n        this.biography = biography;\n        this.createdAt = createdAt;\n        this.updatedAt = updatedAt;\n        this.avatar = avatar;\n        this.score = score;\n        this.isLocked = isLocked;\n    }\n\n    public Long getAppUserId() {\n        return appUserId;\n    }\n\n    public void setAppUserId(Long appUserId) {\n        this.appUserId = appUserId;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n\n    public String getFullName() {\n        return fullName;\n    }\n\n    public void setFullName(String fullName) {\n        this.fullName = fullName;\n    }\n\n    public Gender getGender() {\n        return gender;\n    }\n\n    public void setGender(Gender gender) {\n        this.gender = gender;\n    }\n\n    public String getBiography() {\n        return biography;\n    }\n\n    public void setBiography(String biography) {\n        this.biography = biography;\n    }\n\n    public LocalDateTime getCreatedAt() {\n        return createdAt;\n    }\n\n    public void setCreatedAt(LocalDateTime createdAt) {\n        this.createdAt = createdAt;\n    }\n\n    public LocalDateTime getUpdatedAt() {\n        return updatedAt;\n    }\n\n    public void setUpdatedAt(LocalDateTime updatedAt) {\n        this.updatedAt = updatedAt;\n    }\n\n    public String getAvatar() {\n        return avatar;\n    }\n\n    public void setAvatar(String avatar) {\n        this.avatar = avatar;\n    }\n\n    public int getScore() {\n        return score;\n    }\n\n    public void setScore(int score) {\n        this.score = score;\n    }\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        return new HashSet&lt;&gt;();\n    }\n\n    @Override\n    public String getPassword() {\n        return password;\n    }\n\n    @Override\n    public String getUsername() {\n        return username;\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        return false;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        return !isLocked;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return false;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        return isEnabled;\n    }\n\n\n}\n</code></pre>\n<p>I tried to use <code>lombok</code> but didn't work. I tried to override <code>toString</code>, <code>hashCode</code> and <code>equals</code> methods but didn't work either.</p>\n<p>If further information is required, please let me know.</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":8641099,"reputation":3709,"user_id":6469772,"display_name":"LHCHIN"},"score":2,"creation_date":1579514885,"post_id":59820087,"comment_id":105779022,"body_markdown":"AFAIK, Java does not provide any native library for processing JSON.","body":"AFAIK, Java does not provide any native library for processing JSON."}],"answers":[{"tags":[],"owner":{"account_id":14280875,"reputation":683,"user_id":10436569,"display_name":"Suryakant Bharti"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1579512049,"creation_date":1579512049,"answer_id":59820182,"question_id":59820087,"body_markdown":"&gt; The Java API for JSON Processing provides portable APIs to parse,\r\n&gt; generate, transform, and query JSON.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nOfficial Website Reference - https://www.oracle.com/technical-resources/articles/java/json.html\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QgKee.png","title":"Java in-built JSON parser","body":"<blockquote>\n  <p>The Java API for JSON Processing provides portable APIs to parse,\n  generate, transform, and query JSON.</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/QgKee.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QgKee.png\" alt=\"enter image description here\"></a></p>\n\n<p>Official Website Reference - <a href=\"https://www.oracle.com/technical-resources/articles/java/json.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/technical-resources/articles/java/json.html</a></p>\n"},{"tags":[],"owner":{"account_id":10184227,"reputation":59,"user_id":7519860,"display_name":"devNNP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579512110,"creation_date":1579512110,"answer_id":59820200,"question_id":59820087,"body_markdown":"There is no such libraries in Java. But if you use maven, you can add [GSON][1] or [JSON-lib][2] dependencies.\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.google.code.gson/gson\r\n  [2]: https://mvnrepository.com/artifact/net.sf.json-lib/json-lib","title":"Java in-built JSON parser","body":"<p>There is no such libraries in Java. But if you use maven, you can add <a href=\"https://mvnrepository.com/artifact/com.google.code.gson/gson\" rel=\"nofollow noreferrer\">GSON</a> or <a href=\"https://mvnrepository.com/artifact/net.sf.json-lib/json-lib\" rel=\"nofollow noreferrer\">JSON-lib</a> dependencies.</p>\n"},{"tags":[],"owner":{"account_id":1979094,"reputation":3912,"user_id":1776132,"display_name":"Smile"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1680884180,"creation_date":1579512162,"answer_id":59820214,"question_id":59820087,"body_markdown":"There is not. \r\n\r\nYou can use built-in Nashorn engine to evaluate Javascript in Java 8\r\n\r\n```java\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Paths;\r\nimport java.util.Map;\r\nimport javax.script.ScriptEngine;\r\nimport javax.script.ScriptEngineManager;\r\nimport javax.script.ScriptException;\r\n\r\npublic class JSONParsingTest {\r\n\r\n    private ScriptEngine engine;\r\n\r\n    @Before\r\n    public void initEngine() {\r\n        ScriptEngineManager sem = new ScriptEngineManager();\r\n        this.engine = sem.getEngineByName(&quot;javascript&quot;);\r\n    }\r\n\r\n    @Test\r\n    public void parseJson() throws IOException, ScriptException {\r\n        String json = new String(Files.readAllBytes(/*path*/);\r\n        String script = &quot;Java.asJSONCompatible(&quot; + json + &quot;)&quot;;\r\n        Object result = this.engine.eval(script);\r\n        assertThat(result, instanceOf(Map.class));\r\n        Map contents = (Map) result;\r\n        contents.forEach((t, u) -&gt; {\r\n        //key-value pairs\r\n        });\r\n    }\r\n}\r\n```\r\nsource : [Converting JSON To Map With Java 8 Without Dependencies](http://www.adam-bien.com/roller/abien/entry/converting_json_to_map_with)\r\n\r\n**Update** : Nashorn has been removed from [Java 15](https://openjdk.java.net/jeps/372)","title":"Java in-built JSON parser","body":"<p>There is not.</p>\n<p>You can use built-in Nashorn engine to evaluate Javascript in Java 8</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.util.Map;\nimport javax.script.ScriptEngine;\nimport javax.script.ScriptEngineManager;\nimport javax.script.ScriptException;\n\npublic class JSONParsingTest {\n\n    private ScriptEngine engine;\n\n    @Before\n    public void initEngine() {\n        ScriptEngineManager sem = new ScriptEngineManager();\n        this.engine = sem.getEngineByName(&quot;javascript&quot;);\n    }\n\n    @Test\n    public void parseJson() throws IOException, ScriptException {\n        String json = new String(Files.readAllBytes(/*path*/);\n        String script = &quot;Java.asJSONCompatible(&quot; + json + &quot;)&quot;;\n        Object result = this.engine.eval(script);\n        assertThat(result, instanceOf(Map.class));\n        Map contents = (Map) result;\n        contents.forEach((t, u) -&gt; {\n        //key-value pairs\n        });\n    }\n}\n</code></pre>\n<p>source : <a href=\"http://www.adam-bien.com/roller/abien/entry/converting_json_to_map_with\" rel=\"nofollow noreferrer\">Converting JSON To Map With Java 8 Without Dependencies</a></p>\n<p><strong>Update</strong> : Nashorn has been removed from <a href=\"https://openjdk.java.net/jeps/372\" rel=\"nofollow noreferrer\">Java 15</a></p>\n"}],"owner":{"account_id":1587389,"reputation":13480,"user_id":1471417,"accept_rate":50,"display_name":"Alpha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8027,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"closed_date":1579523903,"answer_count":3,"score":7,"last_activity_date":1680884180,"creation_date":1579511756,"question_id":59820087,"body_markdown":"I&#39;ve been working on a task where I need to make a request and get value of a specific key in JSON. Because of some limitations/complications, I&#39;m suppose to use only in-built libraries of Java.\r\n\r\nFor making a request, I&#39;m using `HttpURLConnection` but for parsing JSON I could not find. Could you please point me to Java in built JSON parsers.\r\n\r\nI found similar question [here][1] but that does not have satisfactory answer and pretty old hence asking again, in case, this is available with latest versions of Java.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/9256669/java-built-in-data-parser-for-json-or-xml-or-else","title":"Java in-built JSON parser","body":"<p>I've been working on a task where I need to make a request and get value of a specific key in JSON. Because of some limitations/complications, I'm suppose to use only in-built libraries of Java.</p>\n\n<p>For making a request, I'm using <code>HttpURLConnection</code> but for parsing JSON I could not find. Could you please point me to Java in built JSON parsers.</p>\n\n<p>I found similar question <a href=\"https://stackoverflow.com/questions/9256669/java-built-in-data-parser-for-json-or-xml-or-else\">here</a> but that does not have satisfactory answer and pretty old hence asking again, in case, this is available with latest versions of Java.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9477,"page":515,"page_size":100}
