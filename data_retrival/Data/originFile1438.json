{"items":[{"tags":["java","oop","enums","subclass"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":2,"creation_date":1449373890,"post_id":34113758,"comment_id":55977339,"body_markdown":"What you do is fine. The bad thing about the `Person` example is the `if`. There are 2 different behaviors in a class that should have been modeled via polymorphism. What you do is basically : https://en.wikipedia.org/wiki/Strategy_pattern - the person problem is nicely explained in &quot;Effective Java - item 20&quot;, you can usually find that via google","body":"What you do is fine. The bad thing about the <code>Person</code> example is the <code>if</code>. There are 2 different behaviors in a class that should have been modeled via polymorphism. What you do is basically : <a href=\"https://en.wikipedia.org/wiki/Strategy_pattern\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Strategy_pattern</a> - the person problem is nicely explained in &quot;Effective Java - item 20&quot;, you can usually find that via google"},{"owner":{"account_id":2293921,"reputation":9958,"user_id":2015912,"accept_rate":70,"display_name":"scottb"},"score":0,"creation_date":1449377601,"post_id":34113758,"comment_id":55978029,"body_markdown":"Of course, there is not likely to be a &quot;best answer&quot; to this question.  How you design will depend importantly on your problem domain as well as upon constraints in your environment.  What are you really getting at?","body":"Of course, there is not likely to be a &quot;best answer&quot; to this question.  How you design will depend importantly on your problem domain as well as upon constraints in your environment.  What are you really getting at?"}],"answers":[{"tags":[],"owner":{"account_id":3458848,"reputation":8847,"user_id":2896626,"accept_rate":64,"display_name":"Paul92"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1449374156,"creation_date":1449374156,"answer_id":34113847,"question_id":34113758,"body_markdown":"I think this is a bit opinion based.\r\n\r\nThe basic idea is that in the &quot;enum&quot; (or string constant, or whatever) case, you don&#39;t have the flexibility that oop allows you, but just a means of identification by a property of an object and not by its type. Having Men/Woman classes instead of ```sex``` as a member of class Person is a good practice since it allows you to further extend your code (i.e. if you want to keep track of beard length for men - this attribute is pointless for women).\r\n\r\nHowever, having an object for everything might be as bad as the other approach. In your specific case, I think you do a bit of over-engineering. I do suggest to follow an iterative approach, and I shall illustrate it using the person example.\r\n\r\nInitially, implement a class Person that has an attribute ```sex``` (an enum type is just fine). If you start to see separation (in terms of properties or methods) between different type, you can perform the required separation between types.\r\n\r\nIn your specific case, I think having different classes for different units is a bit impractical (hard to extend in the sense that you need to have a class for every unit - think about things like picometer, femtometer and so on) and unnecessary. However, a better approach would be to store the length internally in some standard unit (i.e. meters) and make the transformation in constructor/setter/getter to whatever unit is required.","title":"Enums vs Subclasses, which is Object-oriented design?","body":"<p>I think this is a bit opinion based.</p>\n\n<p>The basic idea is that in the \"enum\" (or string constant, or whatever) case, you don't have the flexibility that oop allows you, but just a means of identification by a property of an object and not by its type. Having Men/Woman classes instead of <code>sex</code> as a member of class Person is a good practice since it allows you to further extend your code (i.e. if you want to keep track of beard length for men - this attribute is pointless for women).</p>\n\n<p>However, having an object for everything might be as bad as the other approach. In your specific case, I think you do a bit of over-engineering. I do suggest to follow an iterative approach, and I shall illustrate it using the person example.</p>\n\n<p>Initially, implement a class Person that has an attribute <code>sex</code> (an enum type is just fine). If you start to see separation (in terms of properties or methods) between different type, you can perform the required separation between types.</p>\n\n<p>In your specific case, I think having different classes for different units is a bit impractical (hard to extend in the sense that you need to have a class for every unit - think about things like picometer, femtometer and so on) and unnecessary. However, a better approach would be to store the length internally in some standard unit (i.e. meters) and make the transformation in constructor/setter/getter to whatever unit is required.</p>\n"},{"tags":[],"owner":{"account_id":3503094,"reputation":532,"user_id":2929338,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1449374977,"creation_date":1449374591,"answer_id":34113893,"question_id":34113758,"body_markdown":"1. Is the first version with `enum` not considered as OOP?\r\n\r\nNo, the first version **is** an object oriented design. The latter, however, is certainly _more_ object oriented, taking advantage of inheritance to determine a behavioral characteristic.\r\n\r\nBased on that article you mentioned, I would say that the author thinks that the former is not an object oriented design, but you&#39;ll get a plethora of answers on this subject; you&#39;ve been warned.\r\n\r\n2. What&#39;s the real benefit of the second version with subclasses?\r\n\r\nAs the article notes, it may be less complex to not have to interrogate one&#39;s one state, and this is well illustrated in the `male` versus `female` example. **However, this does not automatically &quot;[reduce] the complexity&quot; of the code**. A smaller conceptual surface area can make a significant difference in the complexity of a code base. So, just because something is using inheritance or some other object oriented design technique, it doesn&#39;t necessarily mean it&#39;s beneficial.\r\n\r\n3. Should we always consider the second version for such cases?\r\n\r\nPlain and simple, &#39;no&#39;. You can&#39;t speak in absolutes, ever (*queue drums for irony). When your hello world program is suffering from interface-itis in order to keep it strictly object oriented, that doesn&#39;t necessarily mean it&#39;s a good design. Some situations lend themselves to the object oriented structures and some don&#39;t; it really needs to be determined on a case by case basis.","title":"Enums vs Subclasses, which is Object-oriented design?","body":"<ol>\n<li>Is the first version with <code>enum</code> not considered as OOP?</li>\n</ol>\n\n<p>No, the first version <strong>is</strong> an object oriented design. The latter, however, is certainly <em>more</em> object oriented, taking advantage of inheritance to determine a behavioral characteristic.</p>\n\n<p>Based on that article you mentioned, I would say that the author thinks that the former is not an object oriented design, but you'll get a plethora of answers on this subject; you've been warned.</p>\n\n<ol start=\"2\">\n<li>What's the real benefit of the second version with subclasses?</li>\n</ol>\n\n<p>As the article notes, it may be less complex to not have to interrogate one's one state, and this is well illustrated in the <code>male</code> versus <code>female</code> example. <strong>However, this does not automatically \"[reduce] the complexity\" of the code</strong>. A smaller conceptual surface area can make a significant difference in the complexity of a code base. So, just because something is using inheritance or some other object oriented design technique, it doesn't necessarily mean it's beneficial.</p>\n\n<ol start=\"3\">\n<li>Should we always consider the second version for such cases?</li>\n</ol>\n\n<p>Plain and simple, 'no'. You can't speak in absolutes, ever (*queue drums for irony). When your hello world program is suffering from interface-itis in order to keep it strictly object oriented, that doesn't necessarily mean it's a good design. Some situations lend themselves to the object oriented structures and some don't; it really needs to be determined on a case by case basis.</p>\n"},{"tags":[],"owner":{"account_id":7412091,"reputation":169,"user_id":5639151,"display_name":"achin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1449375229,"creation_date":1449375229,"answer_id":34113956,"question_id":34113758,"body_markdown":"I don&#39;t have the privilege to start commenting and hence writing my opinion in answer section.\r\n\r\nIMO, what you are doing is the right thing. Using enums, you are using the ability to vary peculiarities (rate in your example) within the enum variables. Hence you no longer require if else condition as we do in person example. Also, by using enums you have made the code consice and do not inflict your code by class explosion.\r\n\r\nTo answer your q:\r\n(a) it is considered oops\r\n(b) you can use second methodology when you don&#39;t know the number of objects before hand.  I.e. if we know that people can come up with a new child class tomorrow. In your case, length can be measured in mm, cm and so on, and the number of these parameters are known before hand. And hence it is perfectly good to code it in that manner. \r\n(c) depends on how you wish to design. Second way is correct too.\r\n\r\n","title":"Enums vs Subclasses, which is Object-oriented design?","body":"<p>I don't have the privilege to start commenting and hence writing my opinion in answer section.</p>\n\n<p>IMO, what you are doing is the right thing. Using enums, you are using the ability to vary peculiarities (rate in your example) within the enum variables. Hence you no longer require if else condition as we do in person example. Also, by using enums you have made the code consice and do not inflict your code by class explosion.</p>\n\n<p>To answer your q:\n(a) it is considered oops\n(b) you can use second methodology when you don't know the number of objects before hand.  I.e. if we know that people can come up with a new child class tomorrow. In your case, length can be measured in mm, cm and so on, and the number of these parameters are known before hand. And hence it is perfectly good to code it in that manner. \n(c) depends on how you wish to design. Second way is correct too.</p>\n"}],"owner":{"account_id":137777,"reputation":194868,"user_id":342235,"accept_rate":77,"display_name":"Freewind"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2371,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1649736011,"creation_date":1449373328,"question_id":34113758,"body_markdown":"This is the code I wrote as a length-calculator for lengths with different kinds of unit. I wanted it to design it in Object-oriented.\r\n\r\n    public class Length {\r\n\r\n        private final double value;\r\n        private final Unit unit;\r\n\r\n        public Length(double value, Unit unit) {\r\n            this.value = value;\r\n            this.unit = unit;\r\n        }\r\n\r\n        @Override\r\n        public boolean equals(Object obj) {\r\n            Length length = (Length) obj;\r\n            return this.unit.toMM(this.value) == length.unit.toMM(length.value);\r\n        }\r\n\r\n        public Length add(Length added) {\r\n            return new Length(this.unit.toMM(this.value) + added.unit.toMM(added.value), Unit.mm);\r\n        }\r\n\r\n        public Length subtract(Length another) {\r\n            return new Length(this.unit.toMM(this.value) - another.unit.toMM(another.value), Unit.mm);\r\n        }\r\n\r\n    }\r\n\r\n    enum Unit {\r\n        m(1000), cm(10), mm(1);\r\n        private final int rate;\r\n\r\n        Unit(int rate) {\r\n            this.rate = rate;\r\n        }\r\n\r\n        public double toMM(double value) {\r\n            return rate * value;\r\n        }\r\n    }\r\n\r\nI use the enum `Unit` and let different units `m/cm/mm` as its members.\r\n\r\nBut I read this article about [&quot;OOP vs Non-OOP&quot;](https://www.clear.rice.edu/comp212/99-fall/handouts/week1/person/), it has a similar example which is marked as Non-OOP:\r\n\r\n    public class Person {\r\n\r\n        private boolean _male; // true means male, false means female.\r\n\r\n        public Person (boolean genderFlag) {\r\n            _male = genderFlag;\r\n        }\r\n\r\n        public String getGender () {\r\n            return _male? &quot;male&quot;: &quot;female&quot;;\r\n        }\r\n    }\r\n\r\nWhich is not an enum, but the approach is quite similar, use some state internally to represent different types.\r\n\r\nAnd it gives the OOP example using subclasses:\r\n\r\n    public abstract class APerson {\r\n        public abstract String getGender();\r\n    }\r\n\r\n    public class Man extends APerson {\r\n        public String getGender() {\r\n            return &quot;male&quot;;\r\n        }\r\n    }\r\n\r\n    public class Woman extends APerson {\r\n        public String getGender() {\r\n            return &quot;female&quot;;\r\n        }\r\n    }\r\n\r\nApply to his ideas, I think my code should be re-written as:\r\n\r\n    interface Unit {\r\n        public double toMM(double value);\r\n    }\r\n\r\n    public class Meter extends Unit {\r\n        public double toMM(double value) {\r\n            return 1000 * value;\r\n        }\r\n    }\r\n\r\n    public class Centimeter extends Unit {\r\n        public double toMM(double value) {\r\n            return 10 * value;\r\n        }\r\n    }\r\n\r\n    public class Millimeter extends Unit {\r\n        public double toMM(double value) {\r\n            return value;\r\n        }\r\n    }\r\n\r\nI can feel some differences between the two designs of my code, but still can&#39;t tell exactlly what it is.\r\n\r\nSome questions:\r\n\r\n1. Is the first version with `enum` not considered as OOP?\r\n2. What&#39;s the real benifit of the second version with subclasses?\r\n3. Should we always considered the second version for such cases?\r\n\r\n","title":"Enums vs Subclasses, which is Object-oriented design?","body":"<p>This is the code I wrote as a length-calculator for lengths with different kinds of unit. I wanted it to design it in Object-oriented.</p>\n\n<pre><code>public class Length {\n\n    private final double value;\n    private final Unit unit;\n\n    public Length(double value, Unit unit) {\n        this.value = value;\n        this.unit = unit;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        Length length = (Length) obj;\n        return this.unit.toMM(this.value) == length.unit.toMM(length.value);\n    }\n\n    public Length add(Length added) {\n        return new Length(this.unit.toMM(this.value) + added.unit.toMM(added.value), Unit.mm);\n    }\n\n    public Length subtract(Length another) {\n        return new Length(this.unit.toMM(this.value) - another.unit.toMM(another.value), Unit.mm);\n    }\n\n}\n\nenum Unit {\n    m(1000), cm(10), mm(1);\n    private final int rate;\n\n    Unit(int rate) {\n        this.rate = rate;\n    }\n\n    public double toMM(double value) {\n        return rate * value;\n    }\n}\n</code></pre>\n\n<p>I use the enum <code>Unit</code> and let different units <code>m/cm/mm</code> as its members.</p>\n\n<p>But I read this article about <a href=\"https://www.clear.rice.edu/comp212/99-fall/handouts/week1/person/\" rel=\"nofollow\">\"OOP vs Non-OOP\"</a>, it has a similar example which is marked as Non-OOP:</p>\n\n<pre><code>public class Person {\n\n    private boolean _male; // true means male, false means female.\n\n    public Person (boolean genderFlag) {\n        _male = genderFlag;\n    }\n\n    public String getGender () {\n        return _male? \"male\": \"female\";\n    }\n}\n</code></pre>\n\n<p>Which is not an enum, but the approach is quite similar, use some state internally to represent different types.</p>\n\n<p>And it gives the OOP example using subclasses:</p>\n\n<pre><code>public abstract class APerson {\n    public abstract String getGender();\n}\n\npublic class Man extends APerson {\n    public String getGender() {\n        return \"male\";\n    }\n}\n\npublic class Woman extends APerson {\n    public String getGender() {\n        return \"female\";\n    }\n}\n</code></pre>\n\n<p>Apply to his ideas, I think my code should be re-written as:</p>\n\n<pre><code>interface Unit {\n    public double toMM(double value);\n}\n\npublic class Meter extends Unit {\n    public double toMM(double value) {\n        return 1000 * value;\n    }\n}\n\npublic class Centimeter extends Unit {\n    public double toMM(double value) {\n        return 10 * value;\n    }\n}\n\npublic class Millimeter extends Unit {\n    public double toMM(double value) {\n        return value;\n    }\n}\n</code></pre>\n\n<p>I can feel some differences between the two designs of my code, but still can't tell exactlly what it is.</p>\n\n<p>Some questions:</p>\n\n<ol>\n<li>Is the first version with <code>enum</code> not considered as OOP?</li>\n<li>What's the real benifit of the second version with subclasses?</li>\n<li>Should we always considered the second version for such cases?</li>\n</ol>\n"},{"tags":["java","spring-mvc","logging","servlets","interceptor"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1649736777,"post_id":71836809,"comment_id":126945596,"body_markdown":"Evidently `IOUtils.toString()` closes the input stream, which isn&#39;t too surprising. You can&#39;t expect consuming the request input stream before executing the request to work anyway. Reconsider.","body":"Evidently <code>IOUtils.toString()</code> closes the input stream, which isn&#39;t too surprising. You can&#39;t expect consuming the request input stream before executing the request to work anyway. Reconsider."},{"owner":{"account_id":24474044,"reputation":17,"user_id":18393344,"display_name":"Anthony Rafael"},"score":0,"creation_date":1649737330,"post_id":71836809,"comment_id":126945675,"body_markdown":"@user207421 Thank you for your advice. But when i use the getBody method from request wrapper the result is still the same.","body":"@user207421 Thank you for your advice. But when i use the getBody method from request wrapper the result is still the same."}],"owner":{"account_id":24474044,"reputation":17,"user_id":18393344,"display_name":"Anthony Rafael"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":509,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649735552,"creation_date":1649734850,"question_id":71836809,"body_markdown":"I am developing a custom log with Spring MVC to get information from all incoming request. I would like to grab both the request body and response body. The issue is, even if I create a HttpServletRequestWrapper, I cannot forward the request after I process and wrap the request.\r\n\r\nHere is my code:\r\n\r\n**Interceptor**\r\n\r\n    @Component\r\n    public class LoggerInterceptor implements HandlerInterceptor{\r\n    \r\n        final static org.apache.log4j.Logger log = Logger.getLogger(LoggerInterceptor.class.getName());\r\n    \r\n        /**\r\n         * Executed before actual handler is executed\r\n         **/\r\n        @Override\r\n        public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\r\n        \tlong start = System.currentTimeMillis();\r\n        \t\r\n        \tMyRequestWrapper requestWrapper = new MyRequestWrapper(request);\r\n        \t\r\n        \t\r\n        \tSimpleDateFormat f = new SimpleDateFormat(&quot;yyyy/MM/dd HH:mm:ss:SSS&quot;);\r\n            String date = f.format(new Date());\r\n            UUID uuid = UUID.randomUUID();\r\n        \t\r\n            \r\n        \tString method = requestWrapper.getMethod();\r\n        \tString uri = requestWrapper.getRequestURI();\r\n            String step = &quot;Default Step&quot;;\r\n            String url = String.valueOf(requestWrapper.getRequestURL());\r\n            \r\n            \r\n            String serverName = requestWrapper.getServerName();\r\n            String reqBody = IOUtils.toString(requestWrapper.getInputStream(), Charset.forName(&quot;UTF-8&quot;).toString());\r\n            \r\n            CustomHttpResponseWrapper responseWrapper = new CustomHttpResponseWrapper(response);\r\n        \t\r\n            long end = System.currentTimeMillis() - start;\r\n    \r\n            String status = String.valueOf(responseWrapper.getStatus());\r\n    \r\n            String resBody = new String(responseWrapper.getBaos().toByteArray());\r\n            \r\n        \tif(step!=null &amp;&amp; !step.isEmpty()) {\r\n                log.info(&quot;INFO &quot; + date + &quot; &quot; + uuid + &quot;\\n&quot; +\r\n                        &quot;ID : &quot; + getCurrentlyDateTime()  + &quot;\\n&quot; +\r\n                        &quot;STEP : &quot; + step + &quot;\\n&quot; +\r\n                        &quot;Request URL: &quot; + url + &quot;\\n&quot; +\r\n                        &quot;Host : &quot; + serverName + &quot;\\n&quot; +\r\n                        &quot;Request Body : &quot; + reqBody + &quot;\\n&quot; +\r\n                        &quot;Response Status : &quot; + status + &quot;\\n&quot; +\r\n                        &quot;Response Body : &quot; + resBody + &quot;\\n&quot; +\r\n                        &quot;Response Time : &quot; + end);\r\n            }\r\n        \t\r\n            return true;\r\n        }\r\n    }\r\n\r\n\r\n**Request Wrapper**\r\n\r\n    public class MyRequestWrapper extends HttpServletRequestWrapper {\r\n    \t private final String body;\r\n    \t \r\n    \t public MyRequestWrapper(HttpServletRequest request) throws IOException {\r\n    \t\t   super(request);\r\n    \t\t   StringBuilder stringBuilder = new StringBuilder();\r\n    \t\t   BufferedReader bufferedReader = null;\r\n    \t\t   try {\r\n    \t\t\t     InputStream inputStream = request.getInputStream();\r\n    \t\t\t     if (inputStream != null) {\r\n    \t\t\t       bufferedReader = new BufferedReader(new InputStreamReader(inputStream));\r\n    \t\t\t       char[] charBuffer = new char[128];\r\n    \t\t\t       int bytesRead = -1;\r\n    \t\t\t       while ((bytesRead = bufferedReader.read(charBuffer)) &gt; 0) {\r\n    \t\t\t         stringBuilder.append(charBuffer, 0, bytesRead);\r\n    \t\t\t       }\r\n    \t\t\t     } else {\r\n    \t\t\t       stringBuilder.append(&quot;&quot;);\r\n    \t\t\t     }\r\n    \t\t   } catch (IOException ex) {\r\n    \t\t       \tthrow ex;\r\n    \t\t   } finally {\r\n    \t\t\t     if (bufferedReader != null) {\r\n    \t\t\t\t       try {\r\n    \t\t\t\t    \t   bufferedReader.close();\r\n    \t\t\t\t       } catch (IOException ex) {\r\n    \t\t\t\t    \t   throw ex;\r\n    \t\t\t\t       }\r\n    \t\t\t     }\r\n    \t\t   }\r\n    \t\t   body = stringBuilder.toString();\r\n    \t }\r\n    \t\r\n    \t \r\n    \t @Override\r\n    \t public ServletInputStream getInputStream() throws IOException {\r\n    \t\t   final ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(body.getBytes());\r\n    \t\t   ServletInputStream servletInputStream = new ServletInputStream() {\r\n    \t\t\t     public int read() throws IOException {\r\n    \t\t\t    \t return byteArrayInputStream.read();\r\n    \t\t\t     }\r\n    \r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic boolean isFinished() {\r\n    \t\t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\t\treturn false;\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic boolean isReady() {\r\n    \t\t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\t\treturn false;\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void setReadListener(ReadListener readListener) {\r\n    \t\t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\t\t\r\n    \t\t\t\t}\r\n    \t\t   };\r\n    \t\t   return servletInputStream;\r\n    \t }\r\n    \t\r\n    \t @Override\r\n    \t public BufferedReader getReader() throws IOException {\r\n    \t\t return new BufferedReader(new InputStreamReader(this.getInputStream()));\r\n    \t }\r\n    \t\r\n    \t public String getBody() {\r\n    \t\t return this.body;\r\n    \t }\r\n    }\r\n\r\n**Output**\r\n\r\n    INFO 2022/04/12 10:35:18:578 d00ec778-2a6e-4a72-a0e0-9649c13776eb\r\n    ID : 20220412103518\r\n    STEP : Default Step\r\n    Request URL: http://localhost:8080/com.ihcs.api.mobile/loginNew\r\n    Host : localhost\r\n    Request Body : {\r\n        &quot;username&quot;:&quot;P0****&quot;,\r\n        &quot;sessionid&quot;:&quot;*************************&quot;,\r\n        &quot;password&quot;:&quot;********&quot;,\r\n        &quot;companyCode&quot;:&quot;***&quot;,\r\n        &quot;UniqueId&quot;:&quot;**********&quot;,\r\n        &quot;Manufacturer&quot;:&quot;google&quot;,\r\n        &quot;Brand&quot;:&quot;google&quot;,\r\n        &quot;Model&quot;:&quot;*******&quot;,\r\n        &quot;DeviceId&quot;:&quot;*******&quot;,\r\n        &quot;FcmTokens&quot;:&quot;*******&quot;,\r\n        &quot;UniqueLogin&quot;:false\r\n    }\r\n    Response Status : 200\r\n    Response Body : \r\n    Response Time : 18\r\n    Failed to read HTTP message: org.springframework.http.converter.HttpMessageNotReadableException: I/O error while reading input message; nested exception is java.io.IOException: Stream closed\r\n\r\n\r\nI&#39;ve tried some suggestions from stack overflow but still can&#39;t help. Thank you.","title":"HttpServletRequestWrapper not working in Spring MVC","body":"<p>I am developing a custom log with Spring MVC to get information from all incoming request. I would like to grab both the request body and response body. The issue is, even if I create a HttpServletRequestWrapper, I cannot forward the request after I process and wrap the request.</p>\n<p>Here is my code:</p>\n<p><strong>Interceptor</strong></p>\n<pre><code>@Component\npublic class LoggerInterceptor implements HandlerInterceptor{\n\n    final static org.apache.log4j.Logger log = Logger.getLogger(LoggerInterceptor.class.getName());\n\n    /**\n     * Executed before actual handler is executed\n     **/\n    @Override\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\n        long start = System.currentTimeMillis();\n        \n        MyRequestWrapper requestWrapper = new MyRequestWrapper(request);\n        \n        \n        SimpleDateFormat f = new SimpleDateFormat(&quot;yyyy/MM/dd HH:mm:ss:SSS&quot;);\n        String date = f.format(new Date());\n        UUID uuid = UUID.randomUUID();\n        \n        \n        String method = requestWrapper.getMethod();\n        String uri = requestWrapper.getRequestURI();\n        String step = &quot;Default Step&quot;;\n        String url = String.valueOf(requestWrapper.getRequestURL());\n        \n        \n        String serverName = requestWrapper.getServerName();\n        String reqBody = IOUtils.toString(requestWrapper.getInputStream(), Charset.forName(&quot;UTF-8&quot;).toString());\n        \n        CustomHttpResponseWrapper responseWrapper = new CustomHttpResponseWrapper(response);\n        \n        long end = System.currentTimeMillis() - start;\n\n        String status = String.valueOf(responseWrapper.getStatus());\n\n        String resBody = new String(responseWrapper.getBaos().toByteArray());\n        \n        if(step!=null &amp;&amp; !step.isEmpty()) {\n            log.info(&quot;INFO &quot; + date + &quot; &quot; + uuid + &quot;\\n&quot; +\n                    &quot;ID : &quot; + getCurrentlyDateTime()  + &quot;\\n&quot; +\n                    &quot;STEP : &quot; + step + &quot;\\n&quot; +\n                    &quot;Request URL: &quot; + url + &quot;\\n&quot; +\n                    &quot;Host : &quot; + serverName + &quot;\\n&quot; +\n                    &quot;Request Body : &quot; + reqBody + &quot;\\n&quot; +\n                    &quot;Response Status : &quot; + status + &quot;\\n&quot; +\n                    &quot;Response Body : &quot; + resBody + &quot;\\n&quot; +\n                    &quot;Response Time : &quot; + end);\n        }\n        \n        return true;\n    }\n}\n</code></pre>\n<p><strong>Request Wrapper</strong></p>\n<pre><code>public class MyRequestWrapper extends HttpServletRequestWrapper {\n     private final String body;\n     \n     public MyRequestWrapper(HttpServletRequest request) throws IOException {\n           super(request);\n           StringBuilder stringBuilder = new StringBuilder();\n           BufferedReader bufferedReader = null;\n           try {\n                 InputStream inputStream = request.getInputStream();\n                 if (inputStream != null) {\n                   bufferedReader = new BufferedReader(new InputStreamReader(inputStream));\n                   char[] charBuffer = new char[128];\n                   int bytesRead = -1;\n                   while ((bytesRead = bufferedReader.read(charBuffer)) &gt; 0) {\n                     stringBuilder.append(charBuffer, 0, bytesRead);\n                   }\n                 } else {\n                   stringBuilder.append(&quot;&quot;);\n                 }\n           } catch (IOException ex) {\n                throw ex;\n           } finally {\n                 if (bufferedReader != null) {\n                       try {\n                           bufferedReader.close();\n                       } catch (IOException ex) {\n                           throw ex;\n                       }\n                 }\n           }\n           body = stringBuilder.toString();\n     }\n    \n     \n     @Override\n     public ServletInputStream getInputStream() throws IOException {\n           final ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(body.getBytes());\n           ServletInputStream servletInputStream = new ServletInputStream() {\n                 public int read() throws IOException {\n                     return byteArrayInputStream.read();\n                 }\n\n                @Override\n                public boolean isFinished() {\n                    // TODO Auto-generated method stub\n                    return false;\n                }\n\n                @Override\n                public boolean isReady() {\n                    // TODO Auto-generated method stub\n                    return false;\n                }\n\n                @Override\n                public void setReadListener(ReadListener readListener) {\n                    // TODO Auto-generated method stub\n                    \n                }\n           };\n           return servletInputStream;\n     }\n    \n     @Override\n     public BufferedReader getReader() throws IOException {\n         return new BufferedReader(new InputStreamReader(this.getInputStream()));\n     }\n    \n     public String getBody() {\n         return this.body;\n     }\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>INFO 2022/04/12 10:35:18:578 d00ec778-2a6e-4a72-a0e0-9649c13776eb\nID : 20220412103518\nSTEP : Default Step\nRequest URL: http://localhost:8080/com.ihcs.api.mobile/loginNew\nHost : localhost\nRequest Body : {\n    &quot;username&quot;:&quot;P0****&quot;,\n    &quot;sessionid&quot;:&quot;*************************&quot;,\n    &quot;password&quot;:&quot;********&quot;,\n    &quot;companyCode&quot;:&quot;***&quot;,\n    &quot;UniqueId&quot;:&quot;**********&quot;,\n    &quot;Manufacturer&quot;:&quot;google&quot;,\n    &quot;Brand&quot;:&quot;google&quot;,\n    &quot;Model&quot;:&quot;*******&quot;,\n    &quot;DeviceId&quot;:&quot;*******&quot;,\n    &quot;FcmTokens&quot;:&quot;*******&quot;,\n    &quot;UniqueLogin&quot;:false\n}\nResponse Status : 200\nResponse Body : \nResponse Time : 18\nFailed to read HTTP message: org.springframework.http.converter.HttpMessageNotReadableException: I/O error while reading input message; nested exception is java.io.IOException: Stream closed\n</code></pre>\n<p>I've tried some suggestions from stack overflow but still can't help. Thank you.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":18734066,"reputation":3624,"user_id":13658816,"display_name":"jsN00b"},"score":0,"creation_date":1649731662,"post_id":71836422,"comment_id":126944862,"body_markdown":"Please try: `Math.floor(Math.random() * 51);` --&gt; it should return a random number between 0 &amp; 50 (both 0 &amp; 50 inclusive). If you need the random number to remain consistent based on values of x, y, len - you may try to memoize the random-number generation.","body":"Please try: <code>Math.floor(Math.random() * 51);</code> --&gt; it should return a random number between 0 &amp; 50 (both 0 &amp; 50 inclusive). If you need the random number to remain consistent based on values of x, y, len - you may try to memoize the random-number generation."},{"owner":{"account_id":24555788,"reputation":603,"user_id":18464383,"display_name":"Devesh"},"score":0,"creation_date":1649732941,"post_id":71836422,"comment_id":126945056,"body_markdown":"What do you mean by random pattern? Do you want no co-relation between supplied values and the returned hashId?","body":"What do you mean by random pattern? Do you want no co-relation between supplied values and the returned hashId?"},{"owner":{"account_id":24555788,"reputation":603,"user_id":18464383,"display_name":"Devesh"},"score":0,"creation_date":1649733447,"post_id":71836422,"comment_id":126945137,"body_markdown":"@user29414082909, Alright, Apologies in advance but you are trying to plot a 2D map but you are reducing co-ordinates to return one value only. Isn&#39;t it the incorrect way to do this? If there is a co-relation you will end up getting a line and if there isn&#39;t you will end up getting a scattered graph but it won&#39;t be any meaningful representation of the data you have.","body":"@user29414082909, Alright, Apologies in advance but you are trying to plot a 2D map but you are reducing co-ordinates to return one value only. Isn&#39;t it the incorrect way to do this? If there is a co-relation you will end up getting a line and if there isn&#39;t you will end up getting a scattered graph but it won&#39;t be any meaningful representation of the data you have."},{"owner":{"account_id":24555788,"reputation":603,"user_id":18464383,"display_name":"Devesh"},"score":0,"creation_date":1649734416,"post_id":71836422,"comment_id":126945279,"body_markdown":"@user29414082909, Gotcha! one more thing, Are you passing &quot;len&quot; to get the answer in the range &quot;0-len&quot;?","body":"@user29414082909, Gotcha! one more thing, Are you passing &quot;len&quot; to get the answer in the range &quot;0-len&quot;?"}],"answers":[{"tags":[],"owner":{"account_id":24331983,"reputation":683,"user_id":18270700,"display_name":"Salwa A. Soliman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649732127,"creation_date":1649732127,"answer_id":71836503,"question_id":71836422,"body_markdown":"You can try this function .. just pass the max number and it will generate a random number whenever it&#39;s called\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    function getRandomNumber(max) {\r\n     return Math.ceil(Math.random()*max);\r\n    }\r\n\r\n    console.log(getRandomNumber(50));\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to get random from coordinates","body":"<p>You can try this function .. just pass the max number and it will generate a random number whenever it's called</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function getRandomNumber(max) {\n return Math.ceil(Math.random()*max);\n}\n\nconsole.log(getRandomNumber(50));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":10946748,"reputation":1584,"user_id":8044582,"accept_rate":33,"display_name":"PR7"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649733325,"creation_date":1649733325,"answer_id":71836648,"question_id":71836422,"body_markdown":"Using `Math.random()` to generate random values in range. [MDN][1]\r\n\r\n**Getting a random number between two values**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    function getRandomArbitrary(min, max) {\r\n      return Math.random() * (max - min) + min;\r\n    }\r\n\r\n    console.log(getRandomArbitrary(210, 239));\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n**Getting a random integer between two values**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    function getRandomInt(min, max) {\r\n      min = Math.ceil(min);\r\n      max = Math.floor(max);\r\n      return Math.floor(Math.random() * (max - min) + min); //The maximum is exclusive and the minimum is inclusive\r\n    }\r\n\r\n    console.log(getRandomInt(210, 239));\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n**Getting a random integer between two values, inclusive**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    function getRandomIntInclusive(min, max) {\r\n      min = Math.ceil(min);\r\n      max = Math.floor(max);\r\n      return Math.floor(Math.random() * (max - min + 1) + min); //The maximum is inclusive and the minimum is inclusive\r\n    }\r\n\r\n    console.log(getRandomIntInclusive(210, 239));\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/random","title":"How to get random from coordinates","body":"<p>Using <code>Math.random()</code> to generate random values in range. <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/random\" rel=\"nofollow noreferrer\">MDN</a></p>\n<p><strong>Getting a random number between two values</strong></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function getRandomArbitrary(min, max) {\n  return Math.random() * (max - min) + min;\n}\n\nconsole.log(getRandomArbitrary(210, 239));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><strong>Getting a random integer between two values</strong></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function getRandomInt(min, max) {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min) + min); //The maximum is exclusive and the minimum is inclusive\n}\n\nconsole.log(getRandomInt(210, 239));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><strong>Getting a random integer between two values, inclusive</strong></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function getRandomIntInclusive(min, max) {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min + 1) + min); //The maximum is inclusive and the minimum is inclusive\n}\n\nconsole.log(getRandomIntInclusive(210, 239));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":24555788,"reputation":603,"user_id":18464383,"display_name":"Devesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649735326,"creation_date":1649734308,"answer_id":71836746,"question_id":71836422,"body_markdown":"So you are trying to get consistent value, based on the input params.\r\nBut this value should not be linearly co-related else you will end up getting stripes of some color. So, we are gonna take modulo of x and y co-ordinated to randomize the process and escape linear co-relation. Then, we will try to fit values in a particular range. See my approach below:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    function getHashId(x, y, max) {\r\n    \tconst code = ((x % 13) + (y % 17)) //you can use any prime number\r\n    \treturn code % max; //Make sure it&#39;s in range 0-max\r\n    }\r\n\r\n    console.log(getHashId(210, 239, 100));\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to get random from coordinates","body":"<p>So you are trying to get consistent value, based on the input params.\nBut this value should not be linearly co-related else you will end up getting stripes of some color. So, we are gonna take modulo of x and y co-ordinated to randomize the process and escape linear co-relation. Then, we will try to fit values in a particular range. See my approach below:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function getHashId(x, y, max) {\n    const code = ((x % 13) + (y % 17)) //you can use any prime number\n    return code % max; //Make sure it's in range 0-max\n}\n\nconsole.log(getHashId(210, 239, 100));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":24908279,"reputation":1,"user_id":18778096,"display_name":"user29414082909"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1649735326,"creation_date":1649731253,"question_id":71836422,"body_markdown":"I&#39;m trying to get a random number within a range/maximum (e.g. 0-50, 0-100) based on coordinates supplied. This is used on an image where it should remain consistent on refresh, but the &#39;pattern&#39; should be random.\r\n\r\n\r\nThis function is meant to be called when drawing the picture.\r\n\r\n```\r\nfunction hash(x, y, max) {\r\n  return Math.random(x+y) * max;\r\n}\r\nhash(210, 239, 100);\r\n```","title":"How to get random from coordinates","body":"<p>I'm trying to get a random number within a range/maximum (e.g. 0-50, 0-100) based on coordinates supplied. This is used on an image where it should remain consistent on refresh, but the 'pattern' should be random.</p>\n<p>This function is meant to be called when drawing the picture.</p>\n<pre><code>function hash(x, y, max) {\n  return Math.random(x+y) * max;\n}\nhash(210, 239, 100);\n</code></pre>\n"},{"tags":["java","prometheus","metrics","micrometer"],"owner":{"account_id":24897248,"reputation":21,"user_id":18768359,"display_name":"Jixiee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1649735320,"creation_date":1649657918,"question_id":71823393,"body_markdown":"Sample Request\r\n\r\n    {\r\n    &quot;ScenarioId&quot;:12,\r\n    &quot;type&quot;:&quot;t1&quot;\r\n    }\r\n\r\nHere type can be t1,t2,t3....etc\r\n\r\nCan we take count of type param using  group by in Prometheus?\r\n\r\nKindly help here to understand the Prometheus custom metric\r\n\r\nIs it possible to read json request and take a count of request param?","title":"Group by count of request body param using Prometheus in springboot application","body":"<p>Sample Request</p>\n<pre><code>{\n&quot;ScenarioId&quot;:12,\n&quot;type&quot;:&quot;t1&quot;\n}\n</code></pre>\n<p>Here type can be t1,t2,t3....etc</p>\n<p>Can we take count of type param using  group by in Prometheus?</p>\n<p>Kindly help here to understand the Prometheus custom metric</p>\n<p>Is it possible to read json request and take a count of request param?</p>\n"},{"tags":["java","filter","return"],"comments":[{"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"score":2,"creation_date":1649677677,"post_id":71827240,"comment_id":126928933,"body_markdown":"Does `dbPacket.getTariff() == null || dbPacket.getTariff().getCode() == null || &quot;A&quot;.equals(dbPacket.getTariff().getCode())`not work?","body":"Does <code>dbPacket.getTariff() == null || dbPacket.getTariff().getCode() == null || &quot;A&quot;.equals(dbPacket.getTariff().getCode())</code>not work?"},{"owner":{"account_id":22191064,"reputation":63,"user_id":16433246,"display_name":"TtT"},"score":0,"creation_date":1649678135,"post_id":71827240,"comment_id":126929132,"body_markdown":"@Reporter Tried. Then getting error, that `dbPacket.getTariff().getCode()` is null","body":"@Reporter Tried. Then getting error, that <code>dbPacket.getTariff().getCode()</code> is null"},{"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"score":0,"creation_date":1649678273,"post_id":71827240,"comment_id":126929183,"body_markdown":"Are sure? `dbPacket.getTariff().getCode() == null` is a standard check of null and should be true.","body":"Are sure? <code>dbPacket.getTariff().getCode() == null</code> is a standard check of null and should be true."}],"answers":[{"tags":[],"owner":{"account_id":17813818,"reputation":1473,"user_id":12937828,"display_name":"Aman Singh Rajpoot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649735218,"creation_date":1649678279,"answer_id":71827447,"question_id":71827240,"body_markdown":"What&#39;s stopping you from doing this?\r\n\r\n```\r\ndbPackets = dbPackets.filter(\r\n                dbPacket -&gt; dbPacket.getTariff() == null || &quot;A&quot;.equals(dbPacket.getTariff().getCode() || dbPacket.getTariff().getCode() == null );\r\n```","title":"Java filter how to keep null values","body":"<p>What's stopping you from doing this?</p>\n<pre><code>dbPackets = dbPackets.filter(\n                dbPacket -&gt; dbPacket.getTariff() == null || &quot;A&quot;.equals(dbPacket.getTariff().getCode() || dbPacket.getTariff().getCode() == null );\n</code></pre>\n"}],"owner":{"account_id":22191064,"reputation":63,"user_id":16433246,"display_name":"TtT"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649735218,"creation_date":1649677417,"question_id":71827240,"body_markdown":"Code:\t\t\r\n\r\n    Stream&lt;DbPacket&gt; dbPackets = getDataContext(false, isTrue).getPackets().values()\r\n        \t\t\t.stream();\r\n    dbPackets = dbPackets.filter(\r\n        \t\t\t\t\tdbPacket -&gt; &quot;A&quot;.equals(dbPacket.getTariff().getCode()));\r\n\r\nNot every Packet can have Tariff, for example:\r\n\r\nPacket 1 have Tariff, Code A\r\n\r\nPacket 2 have Tariff, Code B\r\n\r\nPacket 3 don&#39;t have Tariff and don&#39;t have Code\r\n\r\nSo in some cases `dbPacket.getTariff().getCode()` can be null. I need to edit my code, that if Packet don&#39;t have Tariff, and `dbPacket.getTariff().getCode()` is null, then filter will keep this Packet. In this case system have to return Packet 1 (because Code is A) and Packet 3 (because Packet don&#39;t have Tariff and Code). How can I modify my code?","title":"Java filter how to keep null values","body":"<p>Code:</p>\n<pre><code>Stream&lt;DbPacket&gt; dbPackets = getDataContext(false, isTrue).getPackets().values()\n                .stream();\ndbPackets = dbPackets.filter(\n                        dbPacket -&gt; &quot;A&quot;.equals(dbPacket.getTariff().getCode()));\n</code></pre>\n<p>Not every Packet can have Tariff, for example:</p>\n<p>Packet 1 have Tariff, Code A</p>\n<p>Packet 2 have Tariff, Code B</p>\n<p>Packet 3 don't have Tariff and don't have Code</p>\n<p>So in some cases <code>dbPacket.getTariff().getCode()</code> can be null. I need to edit my code, that if Packet don't have Tariff, and <code>dbPacket.getTariff().getCode()</code> is null, then filter will keep this Packet. In this case system have to return Packet 1 (because Code is A) and Packet 3 (because Packet don't have Tariff and Code). How can I modify my code?</p>\n"},{"tags":["java","itext","itext7"],"answers":[{"tags":[],"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1649734832,"creation_date":1649734832,"answer_id":71836806,"question_id":71836587,"body_markdown":"I feel you need to initialize your `PdfDocument` outside the loop so single doc is created.\r\n\r\nAdding page breaks will not help, You can create new pages with \r\n\r\n```\r\nPdfDocument pdfDoc = new PdfDocument(writer);\r\n// Adding an empty page \r\npdfDoc.addNewPage();\r\n```\r\n\r\nRef:\r\nhttps://www.tutorialspoint.com/itext/itext_creating_pdf_document.htm\r\n\r\nAlso it would be worth checking `addPage` and `addNewPage`\r\nhttps://api.itextpdf.com/iText7/java/7.0.0/com/itextpdf/kernel/pdf/PdfDocument.html#addPage-com.itextpdf.kernel.pdf.PdfPage-\r\n\r\n","title":"How iText 7 create single pdf file with multiple pages while iteration in Java?","body":"<p>I feel you need to initialize your <code>PdfDocument</code> outside the loop so single doc is created.</p>\n<p>Adding page breaks will not help, You can create new pages with</p>\n<pre><code>PdfDocument pdfDoc = new PdfDocument(writer);\n// Adding an empty page \npdfDoc.addNewPage();\n</code></pre>\n<p>Ref:\n<a href=\"https://www.tutorialspoint.com/itext/itext_creating_pdf_document.htm\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/itext/itext_creating_pdf_document.htm</a></p>\n<p>Also it would be worth checking <code>addPage</code> and <code>addNewPage</code>\n<a href=\"https://api.itextpdf.com/iText7/java/7.0.0/com/itextpdf/kernel/pdf/PdfDocument.html#addPage-com.itextpdf.kernel.pdf.PdfPage-\" rel=\"nofollow noreferrer\">https://api.itextpdf.com/iText7/java/7.0.0/com/itextpdf/kernel/pdf/PdfDocument.html#addPage-com.itextpdf.kernel.pdf.PdfPage-</a></p>\n"}],"owner":{"account_id":14224383,"reputation":167,"user_id":10275546,"display_name":"D.Anush"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2216,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71836806,"answer_count":1,"score":1,"last_activity_date":1649734832,"creation_date":1649732813,"question_id":71836587,"body_markdown":"I have a loop which will fetch data from DB and want to print them to a PDF file using iText 7. My question is suppose DB have 10 records, I want to create a single PDF doc with 10 pages.\r\n\r\nHere is my code, This code will only create a doc with 1 page and save it to a location. \r\n\r\n    list.forEach(item -&gt; {\r\n    \r\n      String fileLocation = &quot;path/records.pdf&quot;;\r\n      WriterProperties wp = new WriterProperties();\r\n      PdfWriter writer = new PdfWriter(fileLocation, wp);\r\n      PdfDocument pdfDoc = new PdfDocument(writer);\r\n      Document doc = new Document(pdfDoc);\r\n\r\n      // Add data to doc\r\n      // close the doc\r\n      //close the writer\r\n    }\r\n    )\r\n\r\nWith this approach I try to add **document.add(new AreaBreak(AreaBreakType.NEXT_PAGE));** but this will not do the trick.\r\n\r\nApart from that I have seen some approaches using **ByteArrayOutputStream** but I could not find a good solution. \r\n\r\nCan anyone help me o this?","title":"How iText 7 create single pdf file with multiple pages while iteration in Java?","body":"<p>I have a loop which will fetch data from DB and want to print them to a PDF file using iText 7. My question is suppose DB have 10 records, I want to create a single PDF doc with 10 pages.</p>\n<p>Here is my code, This code will only create a doc with 1 page and save it to a location.</p>\n<pre><code>list.forEach(item -&gt; {\n\n  String fileLocation = &quot;path/records.pdf&quot;;\n  WriterProperties wp = new WriterProperties();\n  PdfWriter writer = new PdfWriter(fileLocation, wp);\n  PdfDocument pdfDoc = new PdfDocument(writer);\n  Document doc = new Document(pdfDoc);\n\n  // Add data to doc\n  // close the doc\n  //close the writer\n}\n)\n</code></pre>\n<p>With this approach I try to add <strong>document.add(new AreaBreak(AreaBreakType.NEXT_PAGE));</strong> but this will not do the trick.</p>\n<p>Apart from that I have seen some approaches using <strong>ByteArrayOutputStream</strong> but I could not find a good solution.</p>\n<p>Can anyone help me o this?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":9149020,"reputation":737,"user_id":6804200,"accept_rate":49,"display_name":"mark"},"score":0,"creation_date":1478239719,"post_id":40400793,"comment_id":68081926,"body_markdown":"Please see my answer: http://stackoverflow.com/a/40416306/6804200 i cant solve this. I did not want to update again my queestion. it was too long to put inside comment so i added as answer.","body":"Please see my answer: <a href=\"http://stackoverflow.com/a/40416306/6804200\">stackoverflow.com/a/40416306/6804200</a> i cant solve this. I did not want to update again my queestion. it was too long to put inside comment so i added as answer."}],"answers":[{"tags":[],"owner":{"account_id":1522669,"reputation":11674,"user_id":1421925,"accept_rate":90,"display_name":"Magnilex"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1478213990,"creation_date":1478175649,"answer_id":40401351,"question_id":40400793,"body_markdown":"The prefered way to do this would be to update the JDK/JRE, if it includes the new timezone information. If it is not included, the correct, and official way to do this, should be to update the Timezone information using the [Timezone Updater Tool][1].\n\n&gt;The TZUpdater tool is provided to allow you to update installed Java Development Kit (JDK) and Java Runtime Environment (JRE) software with more recent timezone data, to accommodate daylight saving time (DST) changes in different countries. Oracle relies on the timezone data publicly available through IANA&#39;s Time Zone Database.\n&gt;\n&gt;Oracle recommends that you use the latest Oracle Java SE platform JDK or JRE update release as the preferred means of delivering both timezone data updates and other product improvements, such as security fixes. To see which JDK or JRE update release incorporates the updated timezone data for your locale, see Timezone Data Versions in the JRE Software. However, if you are unable to use Oracle&#39;s latest JDK or JRE update release or if the timezone data on the latest release is not the most current one available, the TZUpdater tool provides a means of updating timezone data while leaving other system configuration and dependencies unchanged.\n\nIt is available as a download on the [official Java SE download site][2] (under the section _Additional Resources_).\n\nInformation about your particular case can be found [here][3] (where you can also see that the information is not available in a JRE release):\n\n&gt;Turkey switched from EET/EEST (+02/+03) to permanent +03, effective 2016-09-07.\nNew leap second 2016-12-31 23:59:60 UTC as per IERS Bulletin C 52.\n\nHow to use the tool is explained in the doucentation:\n\n&gt;The TZUpdater tool modifies the JDK/JRE software instance that is used to execute the tool. A single image of the JDK/JRE software is modified per execution. To administer the tool to multiple instances of the JDK/JRE software, see the section Systemwide Usage.\n\nFor example, the below command would update the JRE with the latest information, where the changes in Turkey daylight saving should be included.\n\n&gt;java -jar tzupdater.jar -l http://www.iana.org/time-zones/repository/tzdata-latest.tar.gz\n\n---\n\nNote that there is a current [known issue since the 2016g release][4]:\n\n&gt;Due to formatting changes in the IANA-maintained tzdata bundle, the TZUpdater tool fails to determine the tzdata version when parsing the tzdata2016.tar.gz resource bundle.\n\nFollow the steps from the below link in order to be able to use the latest tzdata bundle from IANA. When this is fixed, this section of the answer will be removed.\n\n  [1]: http://www.oracle.com/technetwork/java/javase/documentation/tzupdater-readme-136440.html#ondemand\n  [2]: http://www.oracle.com/technetwork/java/javase/downloads/index.html\n  [3]: http://www.oracle.com/technetwork/java/javase/tzdata-versions-138805.html\n  [4]: http://www.oracle.com/technetwork/java/javase/tzupdater-readme-136440.html#issues","title":"Java timezone in Turkey (rejected daylight saving)","body":"<p>The prefered way to do this would be to update the JDK/JRE, if it includes the new timezone information. If it is not included, the correct, and official way to do this, should be to update the Timezone information using the <a href=\"http://www.oracle.com/technetwork/java/javase/documentation/tzupdater-readme-136440.html#ondemand\" rel=\"nofollow noreferrer\">Timezone Updater Tool</a>.</p>\n<blockquote>\n<p>The TZUpdater tool is provided to allow you to update installed Java Development Kit (JDK) and Java Runtime Environment (JRE) software with more recent timezone data, to accommodate daylight saving time (DST) changes in different countries. Oracle relies on the timezone data publicly available through IANA's Time Zone Database.</p>\n<p>Oracle recommends that you use the latest Oracle Java SE platform JDK or JRE update release as the preferred means of delivering both timezone data updates and other product improvements, such as security fixes. To see which JDK or JRE update release incorporates the updated timezone data for your locale, see Timezone Data Versions in the JRE Software. However, if you are unable to use Oracle's latest JDK or JRE update release or if the timezone data on the latest release is not the most current one available, the TZUpdater tool provides a means of updating timezone data while leaving other system configuration and dependencies unchanged.</p>\n</blockquote>\n<p>It is available as a download on the <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/index.html\" rel=\"nofollow noreferrer\">official Java SE download site</a> (under the section <em>Additional Resources</em>).</p>\n<p>Information about your particular case can be found <a href=\"http://www.oracle.com/technetwork/java/javase/tzdata-versions-138805.html\" rel=\"nofollow noreferrer\">here</a> (where you can also see that the information is not available in a JRE release):</p>\n<blockquote>\n<p>Turkey switched from EET/EEST (+02/+03) to permanent +03, effective 2016-09-07.\nNew leap second 2016-12-31 23:59:60 UTC as per IERS Bulletin C 52.</p>\n</blockquote>\n<p>How to use the tool is explained in the doucentation:</p>\n<blockquote>\n<p>The TZUpdater tool modifies the JDK/JRE software instance that is used to execute the tool. A single image of the JDK/JRE software is modified per execution. To administer the tool to multiple instances of the JDK/JRE software, see the section Systemwide Usage.</p>\n</blockquote>\n<p>For example, the below command would update the JRE with the latest information, where the changes in Turkey daylight saving should be included.</p>\n<blockquote>\n<p>java -jar tzupdater.jar -l <a href=\"http://www.iana.org/time-zones/repository/tzdata-latest.tar.gz\" rel=\"nofollow noreferrer\">http://www.iana.org/time-zones/repository/tzdata-latest.tar.gz</a></p>\n</blockquote>\n<hr />\n<p>Note that there is a current <a href=\"http://www.oracle.com/technetwork/java/javase/tzupdater-readme-136440.html#issues\" rel=\"nofollow noreferrer\">known issue since the 2016g release</a>:</p>\n<blockquote>\n<p>Due to formatting changes in the IANA-maintained tzdata bundle, the TZUpdater tool fails to determine the tzdata version when parsing the tzdata2016.tar.gz resource bundle.</p>\n</blockquote>\n<p>Follow the steps from the below link in order to be able to use the latest tzdata bundle from IANA. When this is fixed, this section of the answer will be removed.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1478239174,"creation_date":1478212313,"answer_id":40412336,"question_id":40400793,"body_markdown":"The [Answer by Magnilex][1] is correct, and should be accepted. Anybody concerned with time in Turkey needs to immediately update their `tz` database bundled with Java.\n\nVersion `tzdata2016g` of [the time zone data files](http://www.oracle.com/technetwork/java/javase/tzdata-versions-138805.html) has the change for Turkey that you need. \n\n&gt;Turkey switched from EET/EEST (+02/+03) to permanent +03, effective 2016-09-07.\n\nAnd version `tzdata2016h` has some fixes for Turkey in the 1980s and 1990s. \n\n&gt;In Turkey, transitions in 1986-1990 were at 01:00 standard time not at 02:00, and the spring 1994 transition was on March 20, not March 27.\n\nBut the current Java SE 8 Update 111 &amp; 112 have the earlier version `tzdata2016f`.\r\n\r\n# `tz` not updated as of Java 8 Update 111\r\n\r\nMy experiment below shows this last-minute change in time zone by the government of Turkey was *not* included in the [tz database][2] bundled with the most recent update to Java from Oracle, Java 8 Update 111.\r\n\r\nGet first moment on the day DST was previously scheduled to end. Then add one hour at a time to see if clock jumps or not. \r\n\r\n    System.out.println ( &quot;java.version: &quot; + System.getProperty ( &quot;java.version&quot; ) );\r\n\r\n    ZoneId z = ZoneId.of ( &quot;Europe/Istanbul&quot; );\r\n    ZonedDateTime zdt = ZonedDateTime.of ( 2016 , 10 , 30 , 0 , 0 , 0 , 0 , z );\r\n\r\n    System.out.println ( &quot;    zdt: &quot; + zdt );\r\n    System.out.println ( &quot;zdt + 1: &quot; + zdt.plusHours ( 1 ) );\r\n    System.out.println ( &quot;zdt + 2: &quot; + zdt.plusHours ( 2 ) );\r\n    System.out.println ( &quot;zdt + 3: &quot; + zdt.plusHours ( 3 ) );\r\n    System.out.println ( &quot;zdt + 4: &quot; + zdt.plusHours ( 4 ) );\r\n    System.out.println ( &quot;zdt + 5: &quot; + zdt.plusHours ( 5 ) );\r\n    System.out.println ( &quot;zdt + 6: &quot; + zdt.plusHours ( 6 ) );\r\n\r\nWhen run. At 4 AM, the clock jumps back to repeat the 03:00 hour. This meant DST ended, but should not have if we were up-to-date with new Turkish law.\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    java.version: 1.8.0_111\r\n        zdt: 2016-10-30T00:00+03:00[Europe/Istanbul]\r\n    zdt + 1: 2016-10-30T01:00+03:00[Europe/Istanbul]\r\n    zdt + 2: 2016-10-30T02:00+03:00[Europe/Istanbul]\r\n    zdt + 3: 2016-10-30T03:00+03:00[Europe/Istanbul]\r\n    zdt + 4: 2016-10-30T03:00+02:00[Europe/Istanbul]\r\n    zdt + 5: 2016-10-30T04:00+02:00[Europe/Istanbul]\r\n    zdt + 6: 2016-10-30T05:00+02:00[Europe/Istanbul]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/40401351/642706\r\n  [2]: https://en.wikipedia.org/wiki/Tz_database","title":"Java timezone in Turkey (rejected daylight saving)","body":"<p>The <a href=\"https://stackoverflow.com/a/40401351/642706\">Answer by Magnilex</a> is correct, and should be accepted. Anybody concerned with time in Turkey needs to immediately update their <code>tz</code> database bundled with Java.</p>\n\n<p>Version <code>tzdata2016g</code> of <a href=\"http://www.oracle.com/technetwork/java/javase/tzdata-versions-138805.html\" rel=\"nofollow noreferrer\">the time zone data files</a> has the change for Turkey that you need. </p>\n\n<blockquote>\n  <p>Turkey switched from EET/EEST (+02/+03) to permanent +03, effective 2016-09-07.</p>\n</blockquote>\n\n<p>And version <code>tzdata2016h</code> has some fixes for Turkey in the 1980s and 1990s. </p>\n\n<blockquote>\n  <p>In Turkey, transitions in 1986-1990 were at 01:00 standard time not at 02:00, and the spring 1994 transition was on March 20, not March 27.</p>\n</blockquote>\n\n<p>But the current Java SE 8 Update 111 &amp; 112 have the earlier version <code>tzdata2016f</code>.</p>\n\n<h1><code>tz</code> not updated as of Java 8 Update 111</h1>\n\n<p>My experiment below shows this last-minute change in time zone by the government of Turkey was <em>not</em> included in the <a href=\"https://en.wikipedia.org/wiki/Tz_database\" rel=\"nofollow noreferrer\">tz database</a> bundled with the most recent update to Java from Oracle, Java 8 Update 111.</p>\n\n<p>Get first moment on the day DST was previously scheduled to end. Then add one hour at a time to see if clock jumps or not. </p>\n\n<pre><code>System.out.println ( \"java.version: \" + System.getProperty ( \"java.version\" ) );\n\nZoneId z = ZoneId.of ( \"Europe/Istanbul\" );\nZonedDateTime zdt = ZonedDateTime.of ( 2016 , 10 , 30 , 0 , 0 , 0 , 0 , z );\n\nSystem.out.println ( \"    zdt: \" + zdt );\nSystem.out.println ( \"zdt + 1: \" + zdt.plusHours ( 1 ) );\nSystem.out.println ( \"zdt + 2: \" + zdt.plusHours ( 2 ) );\nSystem.out.println ( \"zdt + 3: \" + zdt.plusHours ( 3 ) );\nSystem.out.println ( \"zdt + 4: \" + zdt.plusHours ( 4 ) );\nSystem.out.println ( \"zdt + 5: \" + zdt.plusHours ( 5 ) );\nSystem.out.println ( \"zdt + 6: \" + zdt.plusHours ( 6 ) );\n</code></pre>\n\n<p>When run. At 4 AM, the clock jumps back to repeat the 03:00 hour. This meant DST ended, but should not have if we were up-to-date with new Turkish law.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>java.version: 1.8.0_111\n    zdt: 2016-10-30T00:00+03:00[Europe/Istanbul]\nzdt + 1: 2016-10-30T01:00+03:00[Europe/Istanbul]\nzdt + 2: 2016-10-30T02:00+03:00[Europe/Istanbul]\nzdt + 3: 2016-10-30T03:00+03:00[Europe/Istanbul]\nzdt + 4: 2016-10-30T03:00+02:00[Europe/Istanbul]\nzdt + 5: 2016-10-30T04:00+02:00[Europe/Istanbul]\nzdt + 6: 2016-10-30T05:00+02:00[Europe/Istanbul]\n</code></pre>\n"}],"owner":{"account_id":9149020,"reputation":737,"user_id":6804200,"accept_rate":49,"display_name":"mark"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10014,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":40401351,"answer_count":2,"score":4,"last_activity_date":1649734821,"creation_date":1478173940,"question_id":40400793,"body_markdown":"Turkey decided recently (September 6, 2016 ) to permanently stay in [Daylight Saving Time (DST)][1]. This act canceled the ending of DST previously scheduled for October 30, 2016, 04:00:00. Clocks were not changed.\r\n\r\nTurkey is between `+2 and +3 utc`, so now it will stay in +3.\r\nHere you can see \r\n\r\nhttps://www.timeanddate.com/time/change/turkey/ankara?year=2016\r\n\r\n…and in the Wikipedia page, [*Time in Turkey*][2], and this Hurriyet Daily News article, [*Turkey to implement daylight savings time year-round*](http://www.hurriyetdailynews.com/turkey-to-implement-daylight-savings-time-year-round---------.aspx?pageID=238&amp;nID=103707&amp;NewsCatID=341).\r\n\r\nHere they discuss but I have an application in Spring Boot.\r\n\r\nhttps://stackoverflow.com/questions/40262842/android-timezone-turkey-gmt\r\n   \r\n    cmntWrapper.setCreatedAtString(cmnt.getCreatedAt().\r\n    now(ZoneId.of(Constants.TURKEY_ZONE)).\r\n    format(DateTimeFormatter.ofPattern(Constants.DATE_TIME_FORMAT)));\r\n\r\nthis is how i take my date.\r\n\r\nThis shows the hour `13.50` now but now it is `14.50`. Because we are in +3.\r\n\r\nWhat can i do?\r\n\r\nI dont want to use utc +3 because they can say next year, &quot;lets again use to +2-+3 switching to daylight saving concept&quot;. So i cant risk.\r\n\r\nI cant change code in future weeks, it will stay permanent after a few weeks.\r\n\r\nWhat do you suggest for permanent?\r\n\r\n\r\nand also how can i make java? because for my test linux machine , see this please\r\n\r\n```bash\r\npuapp@PU-APP-01:~$ java version\r\nThe program &#39;java&#39; can be found in the following packages:\r\n * default-jre\r\n * gcj-4.8-jre-headless\r\n * openjdk-7-jre-headless\r\n * gcj-4.6-jre-headless\r\n * openjdk-6-jre-headless\r\nTry: sudo apt-get install &lt;selected package&gt;\r\npuapp@PU-APP-01:~$ \r\n\r\n\r\npuapp@PU-APP-01:~$ whereis java\r\njava: /usr/share/java\r\npuapp@PU-APP-01:~$ \r\n\r\n\r\npuapp@PU-APP-01:~$ whereis java\r\njava: /usr/share/java\r\n```\r\n\r\nBut in local i have java.\r\n\r\n```bash\r\nvegan@vegan:~$ java -version\r\njava version &quot;1.8.0_111&quot;\r\nJava(TM) SE Runtime Environment (build 1.8.0_111-b14)\r\nJava HotSpot(TM) 64-Bit Server VM (build 25.111-b14, mixed mode)\r\nvegan@vegan:~$ \r\n```\r\n\r\nbut local is not important. that linux server is immportant.\r\n\r\n\r\nand for our main machine, there is java\r\n\r\n    produp@Produp-app-01:~$ java -version\r\n    java version &quot;1.8.0_91&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0_91-b14)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 25.91-b14, mixed mode)\r\n    produp@Produp-app-01:~$ \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Daylight_saving_time\r\n  [2]: https://en.wikipedia.org/wiki/Time_in_Turkey","title":"Java timezone in Turkey (rejected daylight saving)","body":"<p>Turkey decided recently (September 6, 2016 ) to permanently stay in <a href=\"https://en.wikipedia.org/wiki/Daylight_saving_time\" rel=\"nofollow noreferrer\">Daylight Saving Time (DST)</a>. This act canceled the ending of DST previously scheduled for October 30, 2016, 04:00:00. Clocks were not changed.</p>\n<p>Turkey is between <code>+2 and +3 utc</code>, so now it will stay in +3.\nHere you can see</p>\n<p><a href=\"https://www.timeanddate.com/time/change/turkey/ankara?year=2016\" rel=\"nofollow noreferrer\">https://www.timeanddate.com/time/change/turkey/ankara?year=2016</a></p>\n<p>…and in the Wikipedia page, <a href=\"https://en.wikipedia.org/wiki/Time_in_Turkey\" rel=\"nofollow noreferrer\"><em>Time in Turkey</em></a>, and this Hurriyet Daily News article, <a href=\"http://www.hurriyetdailynews.com/turkey-to-implement-daylight-savings-time-year-round---------.aspx?pageID=238&amp;nID=103707&amp;NewsCatID=341\" rel=\"nofollow noreferrer\"><em>Turkey to implement daylight savings time year-round</em></a>.</p>\n<p>Here they discuss but I have an application in Spring Boot.</p>\n<p><a href=\"https://stackoverflow.com/questions/40262842/android-timezone-turkey-gmt\">Android TimeZone Turkey GMT</a></p>\n<pre><code>cmntWrapper.setCreatedAtString(cmnt.getCreatedAt().\nnow(ZoneId.of(Constants.TURKEY_ZONE)).\nformat(DateTimeFormatter.ofPattern(Constants.DATE_TIME_FORMAT)));\n</code></pre>\n<p>this is how i take my date.</p>\n<p>This shows the hour <code>13.50</code> now but now it is <code>14.50</code>. Because we are in +3.</p>\n<p>What can i do?</p>\n<p>I dont want to use utc +3 because they can say next year, &quot;lets again use to +2-+3 switching to daylight saving concept&quot;. So i cant risk.</p>\n<p>I cant change code in future weeks, it will stay permanent after a few weeks.</p>\n<p>What do you suggest for permanent?</p>\n<p>and also how can i make java? because for my test linux machine , see this please</p>\n<pre class=\"lang-sh prettyprint-override\"><code>puapp@PU-APP-01:~$ java version\nThe program 'java' can be found in the following packages:\n * default-jre\n * gcj-4.8-jre-headless\n * openjdk-7-jre-headless\n * gcj-4.6-jre-headless\n * openjdk-6-jre-headless\nTry: sudo apt-get install &lt;selected package&gt;\npuapp@PU-APP-01:~$ \n\n\npuapp@PU-APP-01:~$ whereis java\njava: /usr/share/java\npuapp@PU-APP-01:~$ \n\n\npuapp@PU-APP-01:~$ whereis java\njava: /usr/share/java\n</code></pre>\n<p>But in local i have java.</p>\n<pre class=\"lang-sh prettyprint-override\"><code>vegan@vegan:~$ java -version\njava version &quot;1.8.0_111&quot;\nJava(TM) SE Runtime Environment (build 1.8.0_111-b14)\nJava HotSpot(TM) 64-Bit Server VM (build 25.111-b14, mixed mode)\nvegan@vegan:~$ \n</code></pre>\n<p>but local is not important. that linux server is immportant.</p>\n<p>and for our main machine, there is java</p>\n<pre><code>produp@Produp-app-01:~$ java -version\njava version &quot;1.8.0_91&quot;\nJava(TM) SE Runtime Environment (build 1.8.0_91-b14)\nJava HotSpot(TM) 64-Bit Server VM (build 25.91-b14, mixed mode)\nprodup@Produp-app-01:~$ \n</code></pre>\n"},{"tags":["java","maven","multi-module","vaadin14","vaadin23"],"answers":[{"tags":[],"owner":{"account_id":15426288,"reputation":1199,"user_id":11982497,"display_name":"Tarek Oraby"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1649734793,"creation_date":1649734793,"answer_id":71836799,"question_id":71833957,"body_markdown":"There is a minimal example here: https://github.com/vaadin/multi-module-example.","title":"Vaadin Maven Multimodule application with vaadin 23","body":"<p>There is a minimal example here: <a href=\"https://github.com/vaadin/multi-module-example\" rel=\"noreferrer\">https://github.com/vaadin/multi-module-example</a>.</p>\n"}],"owner":{"account_id":8190555,"reputation":105,"user_id":6164912,"accept_rate":60,"display_name":"tushar sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71836799,"answer_count":1,"score":3,"last_activity_date":1649734793,"creation_date":1649709097,"question_id":71833957,"body_markdown":"Is there any maven archetype for vaadin 23 multimodule application like we have for vaadin 8 or any online way to create vaadin maven multimodule web app.","title":"Vaadin Maven Multimodule application with vaadin 23","body":"<p>Is there any maven archetype for vaadin 23 multimodule application like we have for vaadin 8 or any online way to create vaadin maven multimodule web app.</p>\n"},{"tags":["java","logging","grails","log4j","log4j2"],"comments":[{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1643913875,"post_id":70962345,"comment_id":125472322,"body_markdown":"There isn&#39;t any good reason to do `private static final String SOURCE_URL = Holders.config.xyz.abc`.  What the right thing to do depends on the context in which this is happening.  If the value is needed in a Spring managed bean you have several options.  See https://grails.org/blog/2016-08-31.html and https://grails.org/blog/2017-01-20-3.html.","body":"There isn&#39;t any good reason to do <code>private static final String SOURCE_URL = Holders.config.xyz.abc</code>.  What the right thing to do depends on the context in which this is happening.  If the value is needed in a Spring managed bean you have several options.  See <a href=\"https://grails.org/blog/2016-08-31.html\" rel=\"nofollow noreferrer\">grails.org/blog/2016-08-31.html</a> and <a href=\"https://grails.org/blog/2017-01-20-3.html\" rel=\"nofollow noreferrer\">grails.org/blog/2017-01-20-3.html</a>."},{"owner":{"account_id":9202247,"reputation":110,"user_id":6838794,"display_name":"dev-eloper"},"score":0,"creation_date":1643966573,"post_id":70962345,"comment_id":125484430,"body_markdown":"@JeffScottBrown These are utility classes defined under grails-app/util folder. We are not considering them as beans. The only reason to do it was to set the values during class initialization itself. Although, this used to work before I upgraded log4j2 dependencies, and am not sure how that could impact Holders.config.","body":"@JeffScottBrown These are utility classes defined under grails-app/util folder. We are not considering them as beans. The only reason to do it was to set the values during class initialization itself. Although, this used to work before I upgraded log4j2 dependencies, and am not sure how that could impact Holders.config."},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1643982945,"post_id":70962345,"comment_id":125490423,"body_markdown":"If you can share a simple example project which demonstrates some use case that you think may be best served by that static constant, I would be happy to send a PR showing an efficient approach.","body":"If you can share a simple example project which demonstrates some use case that you think may be best served by that static constant, I would be happy to send a PR showing an efficient approach."}],"owner":{"account_id":9202247,"reputation":110,"user_id":6838794,"display_name":"dev-eloper"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649733969,"creation_date":1643833078,"question_id":70962345,"body_markdown":"Recently did a log4j upgrade on grails 2.5.4 application. Following dependencies pertaining to v2.17.1 have been added:\r\n\r\n - log4j-api\r\n - log4j-core\r\n - log4j-1.2-api\r\n - log4j-slf4j-impl\r\n\r\nI&#39;ve excluded the following dependencies from the global level:\r\n\r\n - log4j\r\n - grails-plugin-log4j\r\n - jcl-over-slf4j\r\n\r\nThe application boots up without any issues on doing `grails run-app`. But when I try to run the war by `grails run-war` or deploy the war using tomcat, I keep getting:\r\n\r\n    Error creating bean with name &#39;grailsApplication&#39; defined in ServletContext\r\n    ...\r\n    Caused by: java.lang.ExceptionInInitializerError\r\n    ...\r\n    Caused by: java.lang.NullPointerException: Cannot get property &#39;xyz&#39; on null object\r\n\r\nThis null object is `Holders.config`\r\n\r\nThis issue occurs during static property initialization. The class looks like:\r\n\r\n    class Test {\r\n        public static Logger log = LoggerFactory.getLogger(this)\r\n        private static final String SOURCE_URL = Holders.config.xyz.abc\r\n        ...\r\n    }\r\n\r\nAnother class had the same issue during the initialization of variable using `Holders.config` in static block. \r\n\r\nStrangely, this issue is only for classes under *grails-app/utils* folder because I&#39;ve another class under *src/groovy* where its variables are defined in a similar way but there&#39;s no issue with it during the war file execution.\r\n\r\nThere&#39;s no change in code except for the dependencies added/removed as mentioned above.\r\nI also tried using `applicationContext.getBean(&#39;grailsApplication).config.xyz.abc` but it said `Could not find ApplicationContext, configure Grails correctly first`.\r\n\r\nCan someone please suggest what could be the root cause or guide how I can fix or maybe initialize these static values.\r\n\r\n","title":"Holders.config is null during grails run-war","body":"<p>Recently did a log4j upgrade on grails 2.5.4 application. Following dependencies pertaining to v2.17.1 have been added:</p>\n<ul>\n<li>log4j-api</li>\n<li>log4j-core</li>\n<li>log4j-1.2-api</li>\n<li>log4j-slf4j-impl</li>\n</ul>\n<p>I've excluded the following dependencies from the global level:</p>\n<ul>\n<li>log4j</li>\n<li>grails-plugin-log4j</li>\n<li>jcl-over-slf4j</li>\n</ul>\n<p>The application boots up without any issues on doing <code>grails run-app</code>. But when I try to run the war by <code>grails run-war</code> or deploy the war using tomcat, I keep getting:</p>\n<pre><code>Error creating bean with name 'grailsApplication' defined in ServletContext\n...\nCaused by: java.lang.ExceptionInInitializerError\n...\nCaused by: java.lang.NullPointerException: Cannot get property 'xyz' on null object\n</code></pre>\n<p>This null object is <code>Holders.config</code></p>\n<p>This issue occurs during static property initialization. The class looks like:</p>\n<pre><code>class Test {\n    public static Logger log = LoggerFactory.getLogger(this)\n    private static final String SOURCE_URL = Holders.config.xyz.abc\n    ...\n}\n</code></pre>\n<p>Another class had the same issue during the initialization of variable using <code>Holders.config</code> in static block.</p>\n<p>Strangely, this issue is only for classes under <em>grails-app/utils</em> folder because I've another class under <em>src/groovy</em> where its variables are defined in a similar way but there's no issue with it during the war file execution.</p>\n<p>There's no change in code except for the dependencies added/removed as mentioned above.\nI also tried using <code>applicationContext.getBean('grailsApplication).config.xyz.abc</code> but it said <code>Could not find ApplicationContext, configure Grails correctly first</code>.</p>\n<p>Can someone please suggest what could be the root cause or guide how I can fix or maybe initialize these static values.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":5582474,"reputation":2567,"user_id":4423968,"accept_rate":61,"display_name":"Aliaxander"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1474758459,"creation_date":1474758459,"answer_id":39681786,"question_id":39681597,"body_markdown":"First, it&#39;s confusing that `consonantFinder` returns `false` when a consonant found, so swap the return values.\r\n\r\nThen, `apostropheAdder` could be fixed using `spaceOccured` flag:\r\n\r\n    public static int apostropheAdder(StringBuilder s) {\r\n        int position;\r\n        boolean spaceOccured = true;\r\n        int lastSpacePosition = 0;\r\n        for (position = 0; position &lt; s.length(); position++) {\r\n            if (s.charAt(position) == &#39; &#39;) {\r\n                spaceOccured = true;\r\n                lastSpacePosition = position;\r\n            }\r\n            if (!spaceOccured) {\r\n                continue;\r\n            }\r\n            if (consonantFinder(s.charAt(position))) {\r\n                if (position == lastSpacePosition) {\r\n                    continue;\r\n                }\r\n                spaceOccured = false;\r\n                s.insert(position, &quot;&#39;&quot;);\r\n            }\r\n        }\r\n        return position;\r\n    }","title":"Make a custom name generator?","body":"<p>First, it's confusing that <code>consonantFinder</code> returns <code>false</code> when a consonant found, so swap the return values.</p>\n\n<p>Then, <code>apostropheAdder</code> could be fixed using <code>spaceOccured</code> flag:</p>\n\n<pre><code>public static int apostropheAdder(StringBuilder s) {\n    int position;\n    boolean spaceOccured = true;\n    int lastSpacePosition = 0;\n    for (position = 0; position &lt; s.length(); position++) {\n        if (s.charAt(position) == ' ') {\n            spaceOccured = true;\n            lastSpacePosition = position;\n        }\n        if (!spaceOccured) {\n            continue;\n        }\n        if (consonantFinder(s.charAt(position))) {\n            if (position == lastSpacePosition) {\n                continue;\n            }\n            spaceOccured = false;\n            s.insert(position, \"'\");\n        }\n    }\n    return position;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7988338,"reputation":36,"user_id":6026993,"display_name":"Josh Bartman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649733035,"creation_date":1474758848,"answer_id":39681823,"question_id":39681597,"body_markdown":"Your main doesn&#39;t call the method apostropheAdder(). That a good place to start.\r\n\r\n\r\n        import java.util.*;\r\n    public class MMStarWarsNG {\r\n    \r\n        /**\r\n         * @param c\r\n         * @return\r\n         */\r\n        public static void main(String[] args) {\r\n            // TODO code application logic here\r\n            Scanner sc = new Scanner(System.in); //creates the scanner that allows user input\r\n    \r\n            System.out.print(&quot;What is your first name? &quot;);\r\n            String firstName = sc.nextLine(); //creates new line after user hits enter\r\n            firstName = firstName.substring(0, 3); //locates the first three characters the the user typed. In this case the character are 0,1,2.\r\n    \r\n            System.out.print(&quot;What is your last name? &quot;);\r\n            String lastName = sc.nextLine();\r\n            lastName = lastName.substring(0, 4); //takes the first 4 characters the the user typed, characters: 0,1,2,3\r\n    \r\n            System.out.print(&quot;What is your favorite city? &quot;);\r\n            String favCity = sc.nextLine();\r\n            favCity = favCity.substring(favCity.length() - 3); //takes the final 3 characters that the user typed\r\n            favCity = favCity.substring(0, 1).toUpperCase() + favCity.substring(1); //takes the first character typed and capatilizes it\r\n    \r\n            System.out.print(&quot;What is the first name of a good friend? &quot;);\r\n            String friend = sc.nextLine();\r\n            friend = friend.substring(friend.length() - 3);\r\n            friend = friend.substring(0, 1).toUpperCase() + friend.substring(1);\r\n    \r\n            String SWName = favCity + firstName + &quot; &quot; + friend + lastName;//adds all of the substrings together. The space after firstName is the space between the first and last name\r\n            \r\n            StringBuilder SWNameWapos = apostropheAdder(SWName);\r\n    \r\n            System.out.println(SWNameWapos); //prints the line above\r\n        }\r\n    \r\n        public static boolean consonantFinder(char c) {\r\n    \r\n            String vowels = &quot;euioa &quot;;\r\n    \r\n            for (int i = 0; i &lt; vowels.length(); i++) {\r\n    \r\n                if (c == vowels.charAt(i)) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n    \r\n        public static StringBuilder apostropheAdder(String a) {\r\n            StringBuilder s = new StringBuilder(a);\r\n            //adds apostrophe\r\n            int position;\r\n            for (position = 1; position &lt; s.length(); position++) { //linear search for the length of the string\r\n                if (consonantFinder(s.charAt(position))) { //finds position\r\n                    s.insert(position, &quot;&#39;&quot;);\r\n                    position++;\r\n                }\r\n            }\r\n            return s;\r\n        }\r\n    }","title":"Make a custom name generator?","body":"<p>Your main doesn't call the method apostropheAdder(). That a good place to start.</p>\n<pre><code>    import java.util.*;\npublic class MMStarWarsNG {\n\n    /**\n     * @param c\n     * @return\n     */\n    public static void main(String[] args) {\n        // TODO code application logic here\n        Scanner sc = new Scanner(System.in); //creates the scanner that allows user input\n\n        System.out.print(&quot;What is your first name? &quot;);\n        String firstName = sc.nextLine(); //creates new line after user hits enter\n        firstName = firstName.substring(0, 3); //locates the first three characters the the user typed. In this case the character are 0,1,2.\n\n        System.out.print(&quot;What is your last name? &quot;);\n        String lastName = sc.nextLine();\n        lastName = lastName.substring(0, 4); //takes the first 4 characters the the user typed, characters: 0,1,2,3\n\n        System.out.print(&quot;What is your favorite city? &quot;);\n        String favCity = sc.nextLine();\n        favCity = favCity.substring(favCity.length() - 3); //takes the final 3 characters that the user typed\n        favCity = favCity.substring(0, 1).toUpperCase() + favCity.substring(1); //takes the first character typed and capatilizes it\n\n        System.out.print(&quot;What is the first name of a good friend? &quot;);\n        String friend = sc.nextLine();\n        friend = friend.substring(friend.length() - 3);\n        friend = friend.substring(0, 1).toUpperCase() + friend.substring(1);\n\n        String SWName = favCity + firstName + &quot; &quot; + friend + lastName;//adds all of the substrings together. The space after firstName is the space between the first and last name\n        \n        StringBuilder SWNameWapos = apostropheAdder(SWName);\n\n        System.out.println(SWNameWapos); //prints the line above\n    }\n\n    public static boolean consonantFinder(char c) {\n\n        String vowels = &quot;euioa &quot;;\n\n        for (int i = 0; i &lt; vowels.length(); i++) {\n\n            if (c == vowels.charAt(i)) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    public static StringBuilder apostropheAdder(String a) {\n        StringBuilder s = new StringBuilder(a);\n        //adds apostrophe\n        int position;\n        for (position = 1; position &lt; s.length(); position++) { //linear search for the length of the string\n            if (consonantFinder(s.charAt(position))) { //finds position\n                s.insert(position, &quot;'&quot;);\n                position++;\n            }\n        }\n        return s;\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user5179969"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":39681823,"answer_count":2,"score":1,"last_activity_date":1649733035,"creation_date":1474756811,"question_id":39681597,"body_markdown":"For programming homework, I was asked to make a name generator for the TV show Babylon 5. The program is supposed to take in your first name, last name, favorite city, and a good friends first name. \r\n\r\n&gt; First name: Last 3 letters of favorite city + first 3 letters of first\r\n&gt; name\r\n&gt; \r\n&gt; Last name: Last 3 letter of friends name + first 4 letters of last\r\n&gt; name\r\n\r\nThen the program is supposed to insert an apostrophe before the first consonant in each name (except for consonants at the start of the name, in that case, use the second).\r\n\r\nI have got everything working except for the apostrophe insertion. \r\n\r\n\r\n\r\n\r\n    public class MMStarWarsNG {\r\n    \r\n        /**\r\n         * @param c\r\n         * @return\r\n         */\r\n        public static void main(String[] args) {\r\n            // TODO code application logic here\r\n            Scanner sc = new Scanner(System.in); //creates the scanner that allows user input\r\n    \r\n            System.out.print(&quot;What is your first name? &quot;);\r\n            String firstName = sc.nextLine(); //creates new line after user hits enter\r\n            firstName = firstName.substring(0, 3); //locates the first three characters the the user typed. In this case the character are 0,1,2.\r\n    \r\n            System.out.print(&quot;What is your last name? &quot;);\r\n            String lastName = sc.nextLine();\r\n            lastName = lastName.substring(0, 4); //takes the first 4 characters the the user typed, characters: 0,1,2,3\r\n    \r\n            System.out.print(&quot;What is your favorite city? &quot;);\r\n            String favCity = sc.nextLine();\r\n            favCity = favCity.substring(favCity.length() - 3); //takes the final 3 characters that the user typed\r\n            favCity = favCity.substring(0, 1).toUpperCase() + favCity.substring(1); //takes the first character typed and capatilizes it\r\n    \r\n            System.out.print(&quot;What is the first name of a good friend? &quot;);\r\n            String friend = sc.nextLine();\r\n            friend = friend.substring(friend.length() - 3);\r\n            friend = friend.substring(0, 1).toUpperCase() + friend.substring(1);\r\n    \r\n            String SWName = favCity + firstName + &quot; &quot; + friend + lastName;//adds all of the substrings together. The space after firstName is the space between the first and last name\r\n    \r\n            System.out.println(SWName); //prints the line above\r\n        }\r\n    \r\n        public static boolean consonantFinder(char c) {\r\n    \r\n            String vowels = &quot;euioa&quot;;\r\n    \r\n            for (int i = 0; i &lt; vowels.length(); i++) {\r\n    \r\n                if (c == vowels.charAt(i)) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n    \r\n        public static int apostropheAdder(StringBuilder s) {\r\n            //adds apostrophe\r\n            int position;\r\n            for (position = 0; position &lt; s.length(); position++) { //linear search for the length of the string\r\n                if (consonantFinder(s.charAt(position))) { //finds position\r\n                    if (position != 0) { //checks if position is the first letter\r\n                        consonantFinder((char) position); //does consonantFinder on the position\r\n                        if (consonantFinder((char) position) == true) { //adds apostrophe\r\n                            s.insert(position, &quot;&#39;&quot;);\r\n                            position++; //because of the randomness in my code, I&#39;ve made it so that\r\n                            //it can have more than one apostrophe\r\n                        }\r\n    \r\n                    }\r\n    \r\n                }\r\n            }\r\n            return position;\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\n\r\n","title":"Make a custom name generator?","body":"<p>For programming homework, I was asked to make a name generator for the TV show Babylon 5. The program is supposed to take in your first name, last name, favorite city, and a good friends first name. </p>\n\n<blockquote>\n  <p>First name: Last 3 letters of favorite city + first 3 letters of first\n  name</p>\n  \n  <p>Last name: Last 3 letter of friends name + first 4 letters of last\n  name</p>\n</blockquote>\n\n<p>Then the program is supposed to insert an apostrophe before the first consonant in each name (except for consonants at the start of the name, in that case, use the second).</p>\n\n<p>I have got everything working except for the apostrophe insertion. </p>\n\n<pre><code>public class MMStarWarsNG {\n\n    /**\n     * @param c\n     * @return\n     */\n    public static void main(String[] args) {\n        // TODO code application logic here\n        Scanner sc = new Scanner(System.in); //creates the scanner that allows user input\n\n        System.out.print(\"What is your first name? \");\n        String firstName = sc.nextLine(); //creates new line after user hits enter\n        firstName = firstName.substring(0, 3); //locates the first three characters the the user typed. In this case the character are 0,1,2.\n\n        System.out.print(\"What is your last name? \");\n        String lastName = sc.nextLine();\n        lastName = lastName.substring(0, 4); //takes the first 4 characters the the user typed, characters: 0,1,2,3\n\n        System.out.print(\"What is your favorite city? \");\n        String favCity = sc.nextLine();\n        favCity = favCity.substring(favCity.length() - 3); //takes the final 3 characters that the user typed\n        favCity = favCity.substring(0, 1).toUpperCase() + favCity.substring(1); //takes the first character typed and capatilizes it\n\n        System.out.print(\"What is the first name of a good friend? \");\n        String friend = sc.nextLine();\n        friend = friend.substring(friend.length() - 3);\n        friend = friend.substring(0, 1).toUpperCase() + friend.substring(1);\n\n        String SWName = favCity + firstName + \" \" + friend + lastName;//adds all of the substrings together. The space after firstName is the space between the first and last name\n\n        System.out.println(SWName); //prints the line above\n    }\n\n    public static boolean consonantFinder(char c) {\n\n        String vowels = \"euioa\";\n\n        for (int i = 0; i &lt; vowels.length(); i++) {\n\n            if (c == vowels.charAt(i)) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    public static int apostropheAdder(StringBuilder s) {\n        //adds apostrophe\n        int position;\n        for (position = 0; position &lt; s.length(); position++) { //linear search for the length of the string\n            if (consonantFinder(s.charAt(position))) { //finds position\n                if (position != 0) { //checks if position is the first letter\n                    consonantFinder((char) position); //does consonantFinder on the position\n                    if (consonantFinder((char) position) == true) { //adds apostrophe\n                        s.insert(position, \"'\");\n                        position++; //because of the randomness in my code, I've made it so that\n                        //it can have more than one apostrophe\n                    }\n\n                }\n\n            }\n        }\n        return position;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","firebase"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1649732872,"post_id":71835336,"comment_id":126945041,"body_markdown":"&quot;Whenever I am trying to update it, I get a new id of the property&quot; Please edit your question to show the code that isn&#39;t working for you. I also recommend reading [how to create a minimal, complete, verifiable example](http://stackoverflow.com/help/mcve), as following the guidance in there gives you the best chance that someone can help.","body":"&quot;Whenever I am trying to update it, I get a new id of the property&quot; Please edit your question to show the code that isn&#39;t working for you. I also recommend reading <a href=\"http://stackoverflow.com/help/mcve\">how to create a minimal, complete, verifiable example</a>, as following the guidance in there gives you the best chance that someone can help."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1649741151,"post_id":71835336,"comment_id":126946315,"body_markdown":"Please edit your question and add the information Frank asked for, and please also respond with @.","body":"Please edit your question and add the information Frank asked for, and please also respond with @."}],"owner":{"account_id":17109807,"reputation":21,"user_id":12380950,"display_name":"Jan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649732816,"creation_date":1649719187,"question_id":71835336,"body_markdown":"how can I add new reports without adding a new property every single time? Whenever I am trying to update it, I get a new id of the property but I already have it and want to use the same one. So I would like to have another list of crime_type, date, district and etc. I am using Anroding Studio with Java.    \r\n   \r\n\r\n     {\r\n              &quot;Users&quot;: {\r\n                &quot;8Xjf20rH3ZZIFfQHqshfDM0WSYQ2&quot;: {\r\n                  &quot;age&quot;: &quot;27&quot;,\r\n                  &quot;city&quot;: &quot;Manchester&quot;,\r\n                  &quot;district&quot;: &quot;Uni&quot;,\r\n                  &quot;email&quot;: &quot;mail@gmail.com&quot;,\r\n                  &quot;first_name&quot;: &quot;Name&quot;,\r\n                  &quot;last_name&quot;: &quot;NA&quot;,\r\n                  &quot;post_code&quot;: &quot;KG9 203&quot;,\r\n                  &quot;street_name&quot;: &quot;Kings Road&quot;,\r\n                  &quot;street_number&quot;: &quot;543&quot;\r\n                },\r\n                &quot;SJB2yD1c1JSliQaQET1i2w65bhg2&quot;: {\r\n                  &quot;Reports&quot;: [\r\n                    {\r\n                      &quot;crime_type&quot;: &quot;NA&quot;,\r\n                      &quot;date&quot;: &quot;12&quot;,\r\n                      &quot;district&quot;: &quot;TRQ&quot;,\r\n                      &quot;reference_number&quot;: &quot;123&quot;\r\n                    }\r\n                  ],\r\n                  &quot;age&quot;: &quot;21&quot;,\r\n                  &quot;city&quot;: &quot;London&quot;,\r\n                  &quot;district&quot;: &quot;Arsenal&quot;,\r\n                  &quot;email&quot;: &quot;mail@gmail.com&quot;,\r\n                  &quot;first_name&quot;: &quot;Joe&quot;,\r\n                  &quot;last_name&quot;: &quot;Orange&quot;,\r\n                  &quot;post_code&quot;: &quot;BS12 0BW&quot;,\r\n                  &quot;street_name&quot;: &quot;Cesar Road&quot;,\r\n                  &quot;street_number&quot;: &quot;332&quot;\r\n                }\r\n              }\r\n            }","title":"Firebase, update property to the same list","body":"<p>how can I add new reports without adding a new property every single time? Whenever I am trying to update it, I get a new id of the property but I already have it and want to use the same one. So I would like to have another list of crime_type, date, district and etc. I am using Anroding Studio with Java.</p>\n<pre><code> {\n          &quot;Users&quot;: {\n            &quot;8Xjf20rH3ZZIFfQHqshfDM0WSYQ2&quot;: {\n              &quot;age&quot;: &quot;27&quot;,\n              &quot;city&quot;: &quot;Manchester&quot;,\n              &quot;district&quot;: &quot;Uni&quot;,\n              &quot;email&quot;: &quot;mail@gmail.com&quot;,\n              &quot;first_name&quot;: &quot;Name&quot;,\n              &quot;last_name&quot;: &quot;NA&quot;,\n              &quot;post_code&quot;: &quot;KG9 203&quot;,\n              &quot;street_name&quot;: &quot;Kings Road&quot;,\n              &quot;street_number&quot;: &quot;543&quot;\n            },\n            &quot;SJB2yD1c1JSliQaQET1i2w65bhg2&quot;: {\n              &quot;Reports&quot;: [\n                {\n                  &quot;crime_type&quot;: &quot;NA&quot;,\n                  &quot;date&quot;: &quot;12&quot;,\n                  &quot;district&quot;: &quot;TRQ&quot;,\n                  &quot;reference_number&quot;: &quot;123&quot;\n                }\n              ],\n              &quot;age&quot;: &quot;21&quot;,\n              &quot;city&quot;: &quot;London&quot;,\n              &quot;district&quot;: &quot;Arsenal&quot;,\n              &quot;email&quot;: &quot;mail@gmail.com&quot;,\n              &quot;first_name&quot;: &quot;Joe&quot;,\n              &quot;last_name&quot;: &quot;Orange&quot;,\n              &quot;post_code&quot;: &quot;BS12 0BW&quot;,\n              &quot;street_name&quot;: &quot;Cesar Road&quot;,\n              &quot;street_number&quot;: &quot;332&quot;\n            }\n          }\n        }\n</code></pre>\n"},{"tags":["java","collections","java-stream","greedy"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1649722451,"post_id":71835595,"comment_id":126943341,"body_markdown":"Can you clarify what the maximum represents and how it&#39;s applied?","body":"Can you clarify what the maximum represents and how it&#39;s applied?"},{"owner":{"account_id":24907142,"reputation":21,"user_id":18777074,"display_name":"Andrew"},"score":0,"creation_date":1649722674,"post_id":71835595,"comment_id":126943388,"body_markdown":"I want to sum each element by the &quot;price&quot; property until the sum of the elements in the partition hit the maximum, and at that point start a new partition.","body":"I want to sum each element by the &quot;price&quot; property until the sum of the elements in the partition hit the maximum, and at that point start a new partition."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":4,"creation_date":1649723161,"post_id":71835595,"comment_id":126943469,"body_markdown":"Seems like a very stateful operation, which is not what streams are designed for. If it&#39;s possible, it won&#39;t be pretty or efficient.","body":"Seems like a very stateful operation, which is not what streams are designed for. If it&#39;s possible, it won&#39;t be pretty or efficient."},{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1649777542,"post_id":71835595,"comment_id":126959520,"body_markdown":"I would try to approach this by creating a custom collector, and it would probably be less clear than for-loops. Why do you want to use a stream? Is it because you have `filter()` or `map()` operations that you want to apply in your pipeline before the `collect()` terminal? Or is it because you are under the (sorely mistaken) impression that loops are &quot;bad&quot; or &quot;outdated&quot;?","body":"I would try to approach this by creating a custom collector, and it would probably be less clear than for-loops. Why do you want to use a stream? Is it because you have <code>filter()</code> or <code>map()</code> operations that you want to apply in your pipeline before the <code>collect()</code> terminal? Or is it because you are under the (sorely mistaken) impression that loops are &quot;bad&quot; or &quot;outdated&quot;?"}],"answers":[{"tags":[],"owner":{"account_id":23841572,"reputation":335,"user_id":17846561,"display_name":"mpdgr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649732740,"creation_date":1649732740,"answer_id":71836579,"question_id":71835595,"body_markdown":"As mentioned in the comments definitely looks like not the best idea to use streams in this case. However if you really need to, you can use this hardly readable snippet below ;) \r\n\r\n    private static List&lt;List&lt;Foo&gt;&gt; partition(List&lt;Foo&gt; list, int maxPrice) {\r\n        List&lt;List&lt;Foo&gt;&gt; resultList = new ArrayList&lt;&gt;();\r\n        List&lt;Foo&gt; tempList = new ArrayList&lt;&gt;();\r\n    \r\n        list.forEach(element -&gt; {\r\n            if (tempList.stream()\r\n                    .reduce(0,\r\n                            (sum, m) -&gt; {\r\n                                return sum += m.price;\r\n                            },\r\n                            Integer::sum)\r\n                    + element.price &lt;= maxPrice) {\r\n                tempList.add(element);\r\n            } else {\r\n                resultList.add(new ArrayList&lt;&gt;(tempList));\r\n                tempList.clear();\r\n                tempList.add(element);\r\n            }\r\n        });\r\n        resultList.add(new ArrayList&lt;&gt;(tempList));\r\n        return resultList;\r\n    }","title":"Java stream approach to partition elements based on sum of the object property","body":"<p>As mentioned in the comments definitely looks like not the best idea to use streams in this case. However if you really need to, you can use this hardly readable snippet below ;)</p>\n<pre><code>private static List&lt;List&lt;Foo&gt;&gt; partition(List&lt;Foo&gt; list, int maxPrice) {\n    List&lt;List&lt;Foo&gt;&gt; resultList = new ArrayList&lt;&gt;();\n    List&lt;Foo&gt; tempList = new ArrayList&lt;&gt;();\n\n    list.forEach(element -&gt; {\n        if (tempList.stream()\n                .reduce(0,\n                        (sum, m) -&gt; {\n                            return sum += m.price;\n                        },\n                        Integer::sum)\n                + element.price &lt;= maxPrice) {\n            tempList.add(element);\n        } else {\n            resultList.add(new ArrayList&lt;&gt;(tempList));\n            tempList.clear();\n            tempList.add(element);\n        }\n    });\n    resultList.add(new ArrayList&lt;&gt;(tempList));\n    return resultList;\n}\n</code></pre>\n"}],"owner":{"account_id":24907142,"reputation":21,"user_id":18777074,"display_name":"Andrew"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":403,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1649732740,"creation_date":1649722318,"question_id":71835595,"body_markdown":"Given a List of objects with an integer property, I want to partition the list into multiple lists, grouping the elements by summing them based on a property until a maximum threshold is reached. Is there a supported way to do this with the Java Stream APIs, rather than maintaining the sums/counts in a for loop?\r\n\r\nExample desired function:\r\n\r\n```\r\nclass Foo {\r\n    String id;\r\n    int price;\r\n\r\n    public Foo(String id, int price) {\r\n        this.id = id;\r\n        this.price = price;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Foo&gt; list = new ArrayList&lt;&gt;();\r\n        list.add(new Foo(&quot;one&quot;, 1));\r\n        list.add(new Foo(&quot;two&quot;,1));\r\n        list.add(new Foo(&quot;three&quot;,1));\r\n        list.add(new Foo(&quot;four&quot;, 1));\r\n        list.add(new Foo(&quot;five&quot;,2));\r\n        list.add(new Foo(&quot;six&quot;,3));\r\n\r\n        int maxPrice = 3;\r\n        // Expected output: [[{&quot;one&quot;, 1&quot;}, {&quot;two&quot;, 1}, {&quot;three&quot;, 1}], [{&quot;four&quot;, 1}, {&quot;five&quot;, 2}], [{&quot;six&quot;, 3}]]\r\n        List&lt;List&lt;Foo&gt;&gt; partitioned = partition(list, maxPrice);\r\n    }\r\n\r\n    private static List&lt;List&lt;Foo&gt;&gt; partition(List&lt;Foo&gt; list, int maxPrice) {\r\n        return list.stream()\r\n                .????\r\n                .collect(???)\r\n    }\r\n}\r\n```","title":"Java stream approach to partition elements based on sum of the object property","body":"<p>Given a List of objects with an integer property, I want to partition the list into multiple lists, grouping the elements by summing them based on a property until a maximum threshold is reached. Is there a supported way to do this with the Java Stream APIs, rather than maintaining the sums/counts in a for loop?</p>\n<p>Example desired function:</p>\n<pre><code>class Foo {\n    String id;\n    int price;\n\n    public Foo(String id, int price) {\n        this.id = id;\n        this.price = price;\n    }\n\n    public static void main(String[] args) {\n        List&lt;Foo&gt; list = new ArrayList&lt;&gt;();\n        list.add(new Foo(&quot;one&quot;, 1));\n        list.add(new Foo(&quot;two&quot;,1));\n        list.add(new Foo(&quot;three&quot;,1));\n        list.add(new Foo(&quot;four&quot;, 1));\n        list.add(new Foo(&quot;five&quot;,2));\n        list.add(new Foo(&quot;six&quot;,3));\n\n        int maxPrice = 3;\n        // Expected output: [[{&quot;one&quot;, 1&quot;}, {&quot;two&quot;, 1}, {&quot;three&quot;, 1}], [{&quot;four&quot;, 1}, {&quot;five&quot;, 2}], [{&quot;six&quot;, 3}]]\n        List&lt;List&lt;Foo&gt;&gt; partitioned = partition(list, maxPrice);\n    }\n\n    private static List&lt;List&lt;Foo&gt;&gt; partition(List&lt;Foo&gt; list, int maxPrice) {\n        return list.stream()\n                .????\n                .collect(???)\n    }\n}\n</code></pre>\n"},{"tags":["java","sql"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1649730451,"post_id":71836305,"comment_id":126944663,"body_markdown":"No where in the presented code does it print &quot;invalid date, please re-enter&quot;, so I&#39;m not sure where the problem is, BUT, two digits years are just a bad idea","body":"No where in the presented code does it print &quot;invalid date, please re-enter&quot;, so I&#39;m not sure where the problem is, BUT, two digits years are just a bad idea"},{"owner":{"account_id":24474898,"reputation":1,"user_id":18394075,"display_name":"C N L"},"score":0,"creation_date":1649730880,"post_id":71836305,"comment_id":126944732,"body_markdown":"@MadProgrammer oh sorry, ive added it in now, also two digits is what is required so i cant change that","body":"@MadProgrammer oh sorry, ive added it in now, also two digits is what is required so i cant change that"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1649731008,"post_id":71836305,"comment_id":126944751,"body_markdown":"Based on `if(j&lt;22 || j&gt;100) {`, a year of `21` is not valid","body":"Based on <code>if(j&lt;22 || j&gt;100) {</code>, a year of <code>21</code> is not valid"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1649731061,"post_id":71836305,"comment_id":126944762,"body_markdown":"This is just a simple case of debugging your code.  Also, the day should never be 0 or less in all cases, so just do it once.  Also a two digit number (year) will never be greater than 99.","body":"This is just a simple case of debugging your code.  Also, the day should never be 0 or less in all cases, so just do it once.  Also a two digit number (year) will never be greater than 99."},{"owner":{"account_id":24474898,"reputation":1,"user_id":18394075,"display_name":"C N L"},"score":0,"creation_date":1649731620,"post_id":71836305,"comment_id":126944853,"body_markdown":"ive only removed j&lt;22 and kept j&gt;100, would that be sufficient? It does not show date invalid anymore @ScaryWombat","body":"ive only removed j&lt;22 and kept j&gt;100, would that be sufficient? It does not show date invalid anymore @ScaryWombat"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1649731856,"post_id":71836305,"comment_id":126944890,"body_markdown":"Making your code readable and easily maintainable is also important.","body":"Making your code readable and easily maintainable is also important."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1649745229,"post_id":71836305,"comment_id":126947232,"body_markdown":"Unless you have a specific requirement no to, use `LocalDate` from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/) for a date. In conjunction with a `DateTimeFormatter` it gives you validation for free, and also easy range check. Don’t reinvent the wheel. Your JDBC driver should be happy to accept a `LocalDate` for your database column of data type `date`.","body":"Unless you have a specific requirement no to, use <code>LocalDate</code> from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a> for a date. In conjunction with a <code>DateTimeFormatter</code> it gives you validation for free, and also easy range check. Don’t reinvent the wheel. Your JDBC driver should be happy to accept a <code>LocalDate</code> for your database column of data type <code>date</code>."}],"answers":[{"tags":[],"owner":{"account_id":8264281,"reputation":13,"user_id":6214466,"display_name":"Donfidididondada"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649732658,"creation_date":1649732658,"answer_id":71836564,"question_id":71836305,"body_markdown":"Honestly, those if checks are kind of hard to look at. Try this:\r\n````\r\nimport java.text.ParseException;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Date;\r\nimport java.util.TimeZone;\r\n\r\npublic class dateTime {\r\n\r\n    public static void main(String[] args) throws ParseException {\r\n        SimpleDateFormat datefr = new SimpleDateFormat(&quot;dd-MM-yy&quot;);\r\n        datefr.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n        datefr.setLenient(false);\r\n        try {\r\n            Date date = datefr.parse(&quot;12-10-21&quot;);\r\n            System.out.println(true);\r\n        } catch (ParseException e) {\r\n            System.out.println(false);\r\n            System.out.println(e.getMessage());\r\n        }\r\n    }\r\n\r\n}\r\n````\r\n","title":"Im not sure whats the problem with my code, as it displays invalid when i enter a valid date input","body":"<p>Honestly, those if checks are kind of hard to look at. Try this:</p>\n<pre><code>import java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\nimport java.util.TimeZone;\n\npublic class dateTime {\n\n    public static void main(String[] args) throws ParseException {\n        SimpleDateFormat datefr = new SimpleDateFormat(&quot;dd-MM-yy&quot;);\n        datefr.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\n        datefr.setLenient(false);\n        try {\n            Date date = datefr.parse(&quot;12-10-21&quot;);\n            System.out.println(true);\n        } catch (ParseException e) {\n            System.out.println(false);\n            System.out.println(e.getMessage());\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":24474898,"reputation":1,"user_id":18394075,"display_name":"C N L"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649732658,"creation_date":1649730143,"question_id":71836305,"body_markdown":"Im using Java and mySql\r\nI have already done my code to prompt user to enter a date in the format DDMMYY and then store the info into the database, however, when i enter a valid date such as 121221, it will say &quot;invalid date, please re-enter&quot; Im not sure whats the problem..\r\n\r\nthis is my validation class\r\n```package controller;\r\n\r\npublic class Validation {\r\n\t\r\n\tpublic static boolean isValidDate(String date) {\r\n\t\t\r\n\t\tString day = date.substring(0,2);\r\n\t\tString month = date.substring(2,4);\r\n\t\tString year = date.substring(4,6);\r\n\r\n\t\tint i = Integer.parseInt(day);\r\n\t\tint j = Integer.parseInt(year);\r\n\t\tint k = Integer.parseInt(month);\r\n\r\n\t\tif (k%2 !=0 || k == 8 || k == 10 || k == 12) {\r\n\t\t\tif(i&lt;=0 || i&gt;31) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}else if (k == 2) {\r\n\t\t\tif(i&lt;=0 || i&gt;28) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}else if (k%2 == 0 || k == 9 || k == 11) {\r\n\t\t\tif (i&lt;=0 || i&gt;30) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif(j&lt;22 || j&gt;100) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\tpublic boolean isValidTransactionId(int transactionId) {\r\n\t\t\r\n\t\treturn true;\r\n\t}\r\n}\r\n```\r\nmy UI class\r\n```\r\npackage view;\r\n\r\nimport java.util.*;\r\nimport java.text.*;\r\nimport controller.DBController;\r\nimport controller.Validation;\r\nimport model.Transaction;\r\nimport model.Member;\r\n\r\npublic class UserInterface {\r\n\tDBController db;\r\n\tValidation vd;\r\n\tScanner scan;\r\n\tRandom rand;\r\n\tString date;\r\n\tboolean invalid;\r\n\tint menuChoice, memberChoice;\r\n\tTransaction transaction;\r\n\r\n\tpublic UserInterface()throws Exception{\r\n\t\tdb= new DBController();\r\n\t\tscan = new Scanner(System.in);\r\n\t\trand = new Random();\r\n\t\ttransaction =  new Transaction();\r\n\r\n\t}\r\n\r\n\tpublic void MainMenu()throws Exception {\r\n\t\tSystem.out.println(&quot;Welcome to SuperFun Theme Park!&quot;);\r\n\r\n\t\tdo {\r\n\t\t\tSystem.out.print(&quot;Main Menu\\n&quot;);\r\n\t\t\tSystem.out.println(&quot;1. New Ticket Transaction&quot;);\r\n\t\t\tSystem.out.println(&quot;2. Modify a Ticket Transaction&quot;);\r\n\t\t\tSystem.out.println(&quot;3. Delete a Ticket Transaction&quot;);\r\n\t\t\tSystem.out.println(&quot;4. View Ticket Transactions&quot;);\r\n\t\t\tSystem.out.println(&quot;5. Exit&quot;);\r\n\r\n\t\t\tSystem.out.print(&quot;Enter a number (1-5): &quot;);\r\n\t\t\tmenuChoice = scan.nextInt();\r\n\t\t\tscan.nextLine();\r\n\r\n\t\t\tswitch(menuChoice) {\r\n\t\t\tcase 1: newTicket(); break;\r\n\t\t\tcase 2: modifyTicket(); break;\r\n\t\t\tcase 3: deleteTicket(); break;\r\n\t\t\tcase 4: viewAllTransactions(); break;\r\n\t\t\tcase 5: System.out.println(&quot;Thank you. Have a nice day!&quot;); break;\r\n\t\t\tdefault: System.out.println(&quot;Invalid input. Please re-enter.\\n&quot;);break;\r\n\t\t\t}\r\n\r\n\t\t}while(menuChoice!=5);\r\n\t}\r\n\r\n\tpublic void dateInput()throws Exception{\r\n\t\tdo {\r\n\t\t\tif(menuChoice ==1 ) {\r\n\t\t\t\tSystem.out.print(&quot;Enter ticket date (DDMMYY): &quot;);\r\n\t\t\t\tdate = scan.nextLine();\r\n\t\t\t\ttransaction.setDate(date);\r\n\r\n\t\t\t}else if (menuChoice == 4) {\r\n\t\t\t\tSystem.out.print(&quot;Enter start date (DDMMYY): &quot;);\r\n\t\t\t\tdate = scan.nextLine();\r\n\t\t\t\ttransaction.setDate(date);\r\n\t\t\t}\r\n\t\t\tinvalid = false;\r\n\r\n\t\t\tif(!vd.isValidDate(date)) {\r\n\t\t\t\tinvalid = true;\r\n\t\t\t}else\r\n\t\t\t\tinvalid = false;\r\n\r\n\t\t}while(invalid);\r\n\t}\r\n\r\n\tpublic void displayMemberInfo()throws Exception{\r\n\t\tString result[] = null;\r\n\t\tSystem.out.printf(&quot;\\n%s %17s %20s\\n&quot;,&quot;Index&quot;,&quot;Name&quot;, &quot;Phone Number&quot;);\r\n\r\n\t\tresult = db.retrieveMemberInfo();\r\n\t\tfor(String temp: result)\r\n\t\t\tSystem.out.println(temp);\r\n\t}\r\n\r\n\tpublic void newTicket() throws Exception{\r\n\t\tint member=0, numOfMemberTickets=0, transactionId =0;\r\n\t\tint memberTicket=80, nonMemberTicket=100, total=0, num=0;\r\n\t\tboolean full = false, repeat= false;\r\n\r\n\t\t//auto generate transaction id //100-200\r\n\t\tint upperbound = 200;\r\n\t\tint lowerbound = 100;\r\n\r\n\t\tdo {\r\n\t\t\ttransactionId = rand.nextInt(upperbound - lowerbound)+ lowerbound;\r\n\t\t\ttransaction.setId(transactionId);\r\n\t\t}while(db.idExists(transaction.getId()));\r\n\r\n\t\t//display transaction id\r\n\t\tSystem.out.println(&quot;\\nTransaction Id: &quot; + transaction.getId());\r\n\r\n\t\t//prompt user to enter ticket date\r\n\t\t//validation for date\r\n\t\tdo {\r\n\t\t\tdateInput();\r\n\t\t\tdb.maximumTicket(transaction.getDate());\r\n\t\t\tif(db.sum&gt;=100) {\r\n\t\t\t\tSystem.out.println(&quot;Tickets are fully booked for the day. Please re-enter date.\\n&quot;);\r\n\t\t\t\tfull = true;\r\n\t\t\t}else {\r\n\t\t\t\tSystem.out.printf(&quot;Number of tickets left for %s are %d\\n&quot; , date, 100-db.sum);\r\n\t\t\t\tfull = false;\r\n\t\t\t}\r\n\t\t}while(full);\r\n\r\n\t\t//ask for total number of tickets then ask for members tickets\r\n\t\tdo {\r\n\t\t\tSystem.out.print(&quot;Enter number of ticket(s) wanted: &quot;);\r\n\t\t\tnum = scan.nextInt();\r\n\t\t\tscan.nextLine();\r\n\t\t\ttransaction.setTicketNum(num);\r\n\r\n\t\t\tif(transaction.getTicketNum() &gt; 100-db.sum)\r\n\t\t\t\tSystem.out.println(&quot;Number of ticket(s) wanted exceeded availability. Please re-enter. &quot;);\r\n\t\t}while(transaction.getTicketNum() &gt; 100-db.sum);\r\n\r\n\t\t//if member, must choose which member\r\n\t\t//loop through member info for validation \r\n\t\tdo {\r\n\t\t\trepeat=false;\r\n\t\t\tdo {\r\n\t\t\t\tSystem.out.print(&quot;Are there ticket(s) for member(s)? (1-yes 2-no): &quot;);\r\n\t\t\t\tmember = scan.nextInt();\r\n\t\t\t\tscan.nextLine();\r\n\r\n\t\t\t\tif(member !=1 &amp;&amp; member !=2)\r\n\t\t\t\t\tSystem.out.println(&quot;Invalid input. Please re-enter.&quot;);\r\n\r\n\t\t\t}while(member !=1 &amp;&amp; member !=2);\r\n\r\n\t\t\tif(member==1) {\r\n\t\t\t\tdo {\r\n\t\t\t\t\tSystem.out.print(&quot;Enter the number of member tickets: &quot;);\r\n\t\t\t\t\tnumOfMemberTickets = scan.nextInt();\r\n\t\t\t\t\tscan.nextLine();\r\n\r\n\t\t\t\t\tif(numOfMemberTickets&lt;=0)\r\n\t\t\t\t\t\tSystem.out.println(&quot;Invalid number of tickets. Please re-enter.&quot;);\r\n\t\t\t\t}while(numOfMemberTickets&lt;=0);\r\n\r\n\t\t\t\t//display member info table\r\n\t\t\t\tdisplayMemberInfo();\r\n\r\n\t\t\t\tfor(int cnt=0; cnt&lt;numOfMemberTickets; cnt++) {\r\n\t\t\t\t\tdo {\r\n\t\t\t\t\t\tSystem.out.print(&quot;\\nPlease enter index number of member: &quot;);\r\n\t\t\t\t\t\tmemberChoice = scan.nextInt();\r\n\r\n//\t\t\t\t\t\tif(db.memberExists(transaction.getId())) {\r\n//\t\t\t\t\t\t\tSystem.out.println(&quot;Member are only allowed to purchase one ticket in a day. Please re-enter.&quot;);\r\n//\t\t\t\t\t\t\trepeat = true;\r\n//\t\t\t\t\t\t}else\r\n\t\t\t\t\t\tdb.insertNumber(memberChoice, transaction.getId());\r\n\r\n\t\t\t\t\t}while(memberChoice&lt;=0);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}while(repeat);\r\n\r\n\t\t//calculate and display total price \r\n\t\ttotal = (numOfMemberTickets * memberTicket) + (Math.abs((transaction.getTicketNum() - numOfMemberTickets)) * nonMemberTicket);\r\n\t\ttransaction.setTotal(total);\r\n\t\tSystem.out.println(&quot;Total price: RM&quot; + transaction.getTotal());\r\n\r\n\t\t//save data into database\r\n\t\tboolean success = db.insertInfo(transaction.getDate(), transaction.getId(), transaction.getTicketNum(), transaction.getTotal());\r\n\t\tif(success)\r\n\t\t\tSystem.out.println(&quot;Transaction record inserted successfully.\\n&quot;);\r\n\t\telse\r\n\t\t\tSystem.out.println(&quot;Error in inserting record.\\n&quot;);\r\n\t}\r\n\r\n\tpublic void modifyTicket() throws Exception{\r\n\t\tint transactionId=0, newTicketNum=0, newNumOfMemberTicket=0, newTotal=0, change=0;\r\n\t\tString newDate=&quot;&quot;;\r\n\t\t//enter transaction id\r\n\t\tdo {\r\n\t\t\tSystem.out.print(&quot;Enter transaction id: &quot;);\r\n\t\t\ttransactionId = scan.nextInt();\r\n\t\t\tscan.nextLine();\r\n\t\t\ttransaction.setId(transactionId);\r\n\t\t\tif(!db.idExists(transaction.getId()))\r\n\t\t\t\tSystem.out.println(&quot;Transaction id does not exists. Please re-enter.&quot;);\r\n\t\t}while(!db.idExists(transaction.getId()));\r\n\t\t\r\n\r\n\t\t//display details\r\n\t\tSystem.out.printf(&quot;\\n%-4s %20s %25s %20s\\n&quot;,&quot;Ticket Date&quot;, &quot;Transaction Id&quot;, &quot;Number of Tickets&quot;, &quot;Total Price&quot;);\r\n\t\tdb.displayRecord(transaction.getId());\r\n\r\n\t\t//user can edit date, number and members&#39; phone number\r\n\t\tSystem.out.print(&quot;\\nEnter new ticket date: &quot;);\r\n\t\tnewDate = scan.nextLine();\r\n\t\ttransaction.setDate(newDate);\r\n\r\n\t\tSystem.out.print(&quot;Enter new number of tickets(including members&#39; tickets): &quot;);\r\n\t\tnewTicketNum = scan.nextInt();\r\n\t\tscan.nextLine();\r\n\t\ttransaction.setTicketNum(newTicketNum);\r\n\r\n\t\tSystem.out.print(&quot;Enter new number of member ticket(s): &quot;);\r\n\t\tnewNumOfMemberTicket = scan.nextInt();\r\n\t\tscan.nextLine();\r\n\r\n\t\tSystem.out.print(&quot;Is there a change in member(s)? (1-yes 2-no): &quot;);\r\n\t\tchange = scan.nextInt();\r\n\t\tscan.nextLine();\r\n\r\n\t\tif(change==1) {\r\n\t\t\tdisplayMemberInfo();\r\n\t\t\tfor(int cnt=0; cnt&lt;newNumOfMemberTicket; cnt++) {\r\n\t\t\t\tdo {\r\n\t\t\t\t\tSystem.out.print(&quot;\\nPlease enter index number of member: &quot;);\r\n\t\t\t\t\tmemberChoice = scan.nextInt();\r\n\r\n\t\t\t\t\tdb.updateNumber(memberChoice, transactionId);\r\n\r\n\t\t\t\t}while(memberChoice&lt;=0);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//recalculate total price\r\n\t\tnewTotal = (newNumOfMemberTicket * 80) + (Math.abs(newTicketNum - newNumOfMemberTicket)* 100);\r\n\t\ttransaction.setTotal(newTotal);\r\n\r\n\t\t//update database\r\n\t\tboolean success = db.updateInfo(transaction.getDate(), transaction.getTicketNum(), transaction.getTotal(), transaction.getId());\r\n\t\tif(success)\r\n\t\t\tSystem.out.println(&quot;Information updated successfully.\\n&quot;);\r\n\t\telse\r\n\t\t\tSystem.out.println(&quot;Error in updating information.\\n&quot;);\r\n\r\n\t}\r\n\r\n\tpublic void deleteTicket()throws Exception{\r\n\t\tint transactionId=0, choice =0;\r\n\t\t//enter transaction id\r\n\t\tdo {\r\n\t\t\tSystem.out.print(&quot;Enter transaction id: &quot;);\r\n\t\t\ttransactionId = scan.nextInt();\r\n\t\t\tscan.nextLine();\r\n\r\n\t\t\tif(!db.idExists(transactionId))\r\n\t\t\t\tSystem.out.println(&quot;Transaction id does not exists. Please re-enter.&quot;);\r\n\t\t}while(!db.idExists(transactionId));\r\n\r\n\t\ttransaction.setId(transactionId);\r\n\r\n\t\t//display all information of that transaction\r\n\t\tSystem.out.printf(&quot;\\n%-4s %20s %25s %20s\\n&quot;,&quot;Ticket Date&quot;, &quot;Transaction Id&quot;, &quot;Number of Tickets&quot;, &quot;Total Price&quot;);\r\n\t\tdb.displayRecord(transactionId);\r\n\r\n\t\t//re-confirm whether to delete\r\n\t\tdo {\r\n\t\t\tSystem.out.print(&quot;\\nConfirm delete? (1-yes 2-no): &quot;);\r\n\t\t\tchoice = scan.nextInt();\r\n\t\t}while(choice !=1 &amp;&amp; choice !=2);\r\n\r\n\t\t//delete from database\r\n\t\tif(choice == 1) {\r\n\t\t\tboolean success = db.deleteInfo(transaction.getId());\r\n\r\n\t\t\tif (success)\r\n\t\t\t\tSystem.out.println(&quot;Transaction Info deleted successfully.\\n&quot;);\r\n\t\t\telse\r\n\t\t\t\tSystem.out.println(&quot;Error in deleting transaction info.\\n&quot;);\r\n\t\t}else\r\n\t\t\tSystem.out.println(&quot;Returning to main menu...\\n&quot;);\r\n\t}\r\n\r\n\tpublic void viewAllTransactions() throws Exception{\r\n\t\tString result[] = null;\r\n\t\tString date2 =&quot;&quot;, letter=&quot;&quot;;\r\n\r\n\t\t//enter start date\r\n\t\tdateInput();\r\n\r\n\t\tswitch(date.substring(2,4)) {\r\n\t\tcase &quot;01&quot;: letter = &quot;Jan&quot;; break;\r\n\t\tcase &quot;02&quot;: letter = &quot;Feb&quot;; break;\r\n\t\tcase &quot;03&quot;: letter = &quot;Mar&quot;; break;\r\n\t\tcase &quot;04&quot;: letter = &quot;Apr&quot;; break;\r\n\t\tcase &quot;05&quot;: letter = &quot;May&quot;; break;\r\n\t\tcase &quot;06&quot;: letter = &quot;June&quot;; break;\r\n\t\tcase &quot;07&quot;: letter = &quot;July&quot;; break;\r\n\t\tcase &quot;08&quot;: letter = &quot;Aug&quot;; break;\r\n\t\tcase &quot;09&quot;: letter = &quot;Sep&quot;; break;\r\n\t\tcase &quot;10&quot;: letter = &quot;Oct&quot;; break;\r\n\t\tcase &quot;11&quot;: letter = &quot;Nov&quot;; break;\r\n\t\tcase &quot;12&quot;: letter = &quot;Dec&quot;; break;\r\n\t\t}\r\n\r\n\t\tdate2 = date.substring(0,2) + letter + &quot;20&quot; + date.substring(4,6);\r\n\r\n\t\t//show all records from start date\r\n\t\t//display error if no matching one\r\n\t\tboolean success = db.matchingDate(transaction.getDate());\r\n\t\tif(success) {\r\n\t\t\tSystem.out.println(&quot;\\nTransaction Report from &quot; + date2);\r\n\t\t\tSystem.out.printf(&quot;%-4s %20s %25s %20s\\n&quot;,&quot;Ticket Date&quot;, &quot;Transaction Id&quot;, &quot;Number of Tickets&quot;, &quot;Total Price&quot;);\r\n\t\t\tresult = db.retrieveAllInfo(date);\r\n\t\t\tfor(String temp: result)\r\n\t\t\t\tSystem.out.println(temp);\r\n\t\t}else\r\n\t\t\tSystem.out.println(&quot;Error in finding date entered.&quot;);\r\n\r\n\t\tSystem.out.println(&quot;\\nReturning to main menu...\\n&quot;);\r\n\t}\r\n\r\n}\r\n```\r\ntransaction class\r\n```\r\npublic void setDate(String date) {\r\n\t\tif(Validation.isValidDate(date))\r\n\t\t\tthis.date =  date;\r\n\t\telse\r\n\t\t\tSystem.out.println(&quot;Date is invalid. Please re-enter.&quot;);\r\n\t}\r\n```","title":"Im not sure whats the problem with my code, as it displays invalid when i enter a valid date input","body":"<p>Im using Java and mySql\nI have already done my code to prompt user to enter a date in the format DDMMYY and then store the info into the database, however, when i enter a valid date such as 121221, it will say &quot;invalid date, please re-enter&quot; Im not sure whats the problem..</p>\n<p>this is my validation class</p>\n<pre><code>\npublic class Validation {\n    \n    public static boolean isValidDate(String date) {\n        \n        String day = date.substring(0,2);\n        String month = date.substring(2,4);\n        String year = date.substring(4,6);\n\n        int i = Integer.parseInt(day);\n        int j = Integer.parseInt(year);\n        int k = Integer.parseInt(month);\n\n        if (k%2 !=0 || k == 8 || k == 10 || k == 12) {\n            if(i&lt;=0 || i&gt;31) {\n                return false;\n            }\n        }else if (k == 2) {\n            if(i&lt;=0 || i&gt;28) {\n                return false;\n            }\n        }else if (k%2 == 0 || k == 9 || k == 11) {\n            if (i&lt;=0 || i&gt;30) {\n                return false;\n            }\n        }\n\n        if(j&lt;22 || j&gt;100) {\n            return false;\n        }\n        return true;\n    }\n\n    public boolean isValidTransactionId(int transactionId) {\n        \n        return true;\n    }\n}\n</code></pre>\n<p>my UI class</p>\n<pre><code>package view;\n\nimport java.util.*;\nimport java.text.*;\nimport controller.DBController;\nimport controller.Validation;\nimport model.Transaction;\nimport model.Member;\n\npublic class UserInterface {\n    DBController db;\n    Validation vd;\n    Scanner scan;\n    Random rand;\n    String date;\n    boolean invalid;\n    int menuChoice, memberChoice;\n    Transaction transaction;\n\n    public UserInterface()throws Exception{\n        db= new DBController();\n        scan = new Scanner(System.in);\n        rand = new Random();\n        transaction =  new Transaction();\n\n    }\n\n    public void MainMenu()throws Exception {\n        System.out.println(&quot;Welcome to SuperFun Theme Park!&quot;);\n\n        do {\n            System.out.print(&quot;Main Menu\\n&quot;);\n            System.out.println(&quot;1. New Ticket Transaction&quot;);\n            System.out.println(&quot;2. Modify a Ticket Transaction&quot;);\n            System.out.println(&quot;3. Delete a Ticket Transaction&quot;);\n            System.out.println(&quot;4. View Ticket Transactions&quot;);\n            System.out.println(&quot;5. Exit&quot;);\n\n            System.out.print(&quot;Enter a number (1-5): &quot;);\n            menuChoice = scan.nextInt();\n            scan.nextLine();\n\n            switch(menuChoice) {\n            case 1: newTicket(); break;\n            case 2: modifyTicket(); break;\n            case 3: deleteTicket(); break;\n            case 4: viewAllTransactions(); break;\n            case 5: System.out.println(&quot;Thank you. Have a nice day!&quot;); break;\n            default: System.out.println(&quot;Invalid input. Please re-enter.\\n&quot;);break;\n            }\n\n        }while(menuChoice!=5);\n    }\n\n    public void dateInput()throws Exception{\n        do {\n            if(menuChoice ==1 ) {\n                System.out.print(&quot;Enter ticket date (DDMMYY): &quot;);\n                date = scan.nextLine();\n                transaction.setDate(date);\n\n            }else if (menuChoice == 4) {\n                System.out.print(&quot;Enter start date (DDMMYY): &quot;);\n                date = scan.nextLine();\n                transaction.setDate(date);\n            }\n            invalid = false;\n\n            if(!vd.isValidDate(date)) {\n                invalid = true;\n            }else\n                invalid = false;\n\n        }while(invalid);\n    }\n\n    public void displayMemberInfo()throws Exception{\n        String result[] = null;\n        System.out.printf(&quot;\\n%s %17s %20s\\n&quot;,&quot;Index&quot;,&quot;Name&quot;, &quot;Phone Number&quot;);\n\n        result = db.retrieveMemberInfo();\n        for(String temp: result)\n            System.out.println(temp);\n    }\n\n    public void newTicket() throws Exception{\n        int member=0, numOfMemberTickets=0, transactionId =0;\n        int memberTicket=80, nonMemberTicket=100, total=0, num=0;\n        boolean full = false, repeat= false;\n\n        //auto generate transaction id //100-200\n        int upperbound = 200;\n        int lowerbound = 100;\n\n        do {\n            transactionId = rand.nextInt(upperbound - lowerbound)+ lowerbound;\n            transaction.setId(transactionId);\n        }while(db.idExists(transaction.getId()));\n\n        //display transaction id\n        System.out.println(&quot;\\nTransaction Id: &quot; + transaction.getId());\n\n        //prompt user to enter ticket date\n        //validation for date\n        do {\n            dateInput();\n            db.maximumTicket(transaction.getDate());\n            if(db.sum&gt;=100) {\n                System.out.println(&quot;Tickets are fully booked for the day. Please re-enter date.\\n&quot;);\n                full = true;\n            }else {\n                System.out.printf(&quot;Number of tickets left for %s are %d\\n&quot; , date, 100-db.sum);\n                full = false;\n            }\n        }while(full);\n\n        //ask for total number of tickets then ask for members tickets\n        do {\n            System.out.print(&quot;Enter number of ticket(s) wanted: &quot;);\n            num = scan.nextInt();\n            scan.nextLine();\n            transaction.setTicketNum(num);\n\n            if(transaction.getTicketNum() &gt; 100-db.sum)\n                System.out.println(&quot;Number of ticket(s) wanted exceeded availability. Please re-enter. &quot;);\n        }while(transaction.getTicketNum() &gt; 100-db.sum);\n\n        //if member, must choose which member\n        //loop through member info for validation \n        do {\n            repeat=false;\n            do {\n                System.out.print(&quot;Are there ticket(s) for member(s)? (1-yes 2-no): &quot;);\n                member = scan.nextInt();\n                scan.nextLine();\n\n                if(member !=1 &amp;&amp; member !=2)\n                    System.out.println(&quot;Invalid input. Please re-enter.&quot;);\n\n            }while(member !=1 &amp;&amp; member !=2);\n\n            if(member==1) {\n                do {\n                    System.out.print(&quot;Enter the number of member tickets: &quot;);\n                    numOfMemberTickets = scan.nextInt();\n                    scan.nextLine();\n\n                    if(numOfMemberTickets&lt;=0)\n                        System.out.println(&quot;Invalid number of tickets. Please re-enter.&quot;);\n                }while(numOfMemberTickets&lt;=0);\n\n                //display member info table\n                displayMemberInfo();\n\n                for(int cnt=0; cnt&lt;numOfMemberTickets; cnt++) {\n                    do {\n                        System.out.print(&quot;\\nPlease enter index number of member: &quot;);\n                        memberChoice = scan.nextInt();\n\n//                      if(db.memberExists(transaction.getId())) {\n//                          System.out.println(&quot;Member are only allowed to purchase one ticket in a day. Please re-enter.&quot;);\n//                          repeat = true;\n//                      }else\n                        db.insertNumber(memberChoice, transaction.getId());\n\n                    }while(memberChoice&lt;=0);\n                }\n            }\n        }while(repeat);\n\n        //calculate and display total price \n        total = (numOfMemberTickets * memberTicket) + (Math.abs((transaction.getTicketNum() - numOfMemberTickets)) * nonMemberTicket);\n        transaction.setTotal(total);\n        System.out.println(&quot;Total price: RM&quot; + transaction.getTotal());\n\n        //save data into database\n        boolean success = db.insertInfo(transaction.getDate(), transaction.getId(), transaction.getTicketNum(), transaction.getTotal());\n        if(success)\n            System.out.println(&quot;Transaction record inserted successfully.\\n&quot;);\n        else\n            System.out.println(&quot;Error in inserting record.\\n&quot;);\n    }\n\n    public void modifyTicket() throws Exception{\n        int transactionId=0, newTicketNum=0, newNumOfMemberTicket=0, newTotal=0, change=0;\n        String newDate=&quot;&quot;;\n        //enter transaction id\n        do {\n            System.out.print(&quot;Enter transaction id: &quot;);\n            transactionId = scan.nextInt();\n            scan.nextLine();\n            transaction.setId(transactionId);\n            if(!db.idExists(transaction.getId()))\n                System.out.println(&quot;Transaction id does not exists. Please re-enter.&quot;);\n        }while(!db.idExists(transaction.getId()));\n        \n\n        //display details\n        System.out.printf(&quot;\\n%-4s %20s %25s %20s\\n&quot;,&quot;Ticket Date&quot;, &quot;Transaction Id&quot;, &quot;Number of Tickets&quot;, &quot;Total Price&quot;);\n        db.displayRecord(transaction.getId());\n\n        //user can edit date, number and members' phone number\n        System.out.print(&quot;\\nEnter new ticket date: &quot;);\n        newDate = scan.nextLine();\n        transaction.setDate(newDate);\n\n        System.out.print(&quot;Enter new number of tickets(including members' tickets): &quot;);\n        newTicketNum = scan.nextInt();\n        scan.nextLine();\n        transaction.setTicketNum(newTicketNum);\n\n        System.out.print(&quot;Enter new number of member ticket(s): &quot;);\n        newNumOfMemberTicket = scan.nextInt();\n        scan.nextLine();\n\n        System.out.print(&quot;Is there a change in member(s)? (1-yes 2-no): &quot;);\n        change = scan.nextInt();\n        scan.nextLine();\n\n        if(change==1) {\n            displayMemberInfo();\n            for(int cnt=0; cnt&lt;newNumOfMemberTicket; cnt++) {\n                do {\n                    System.out.print(&quot;\\nPlease enter index number of member: &quot;);\n                    memberChoice = scan.nextInt();\n\n                    db.updateNumber(memberChoice, transactionId);\n\n                }while(memberChoice&lt;=0);\n            }\n        }\n\n        //recalculate total price\n        newTotal = (newNumOfMemberTicket * 80) + (Math.abs(newTicketNum - newNumOfMemberTicket)* 100);\n        transaction.setTotal(newTotal);\n\n        //update database\n        boolean success = db.updateInfo(transaction.getDate(), transaction.getTicketNum(), transaction.getTotal(), transaction.getId());\n        if(success)\n            System.out.println(&quot;Information updated successfully.\\n&quot;);\n        else\n            System.out.println(&quot;Error in updating information.\\n&quot;);\n\n    }\n\n    public void deleteTicket()throws Exception{\n        int transactionId=0, choice =0;\n        //enter transaction id\n        do {\n            System.out.print(&quot;Enter transaction id: &quot;);\n            transactionId = scan.nextInt();\n            scan.nextLine();\n\n            if(!db.idExists(transactionId))\n                System.out.println(&quot;Transaction id does not exists. Please re-enter.&quot;);\n        }while(!db.idExists(transactionId));\n\n        transaction.setId(transactionId);\n\n        //display all information of that transaction\n        System.out.printf(&quot;\\n%-4s %20s %25s %20s\\n&quot;,&quot;Ticket Date&quot;, &quot;Transaction Id&quot;, &quot;Number of Tickets&quot;, &quot;Total Price&quot;);\n        db.displayRecord(transactionId);\n\n        //re-confirm whether to delete\n        do {\n            System.out.print(&quot;\\nConfirm delete? (1-yes 2-no): &quot;);\n            choice = scan.nextInt();\n        }while(choice !=1 &amp;&amp; choice !=2);\n\n        //delete from database\n        if(choice == 1) {\n            boolean success = db.deleteInfo(transaction.getId());\n\n            if (success)\n                System.out.println(&quot;Transaction Info deleted successfully.\\n&quot;);\n            else\n                System.out.println(&quot;Error in deleting transaction info.\\n&quot;);\n        }else\n            System.out.println(&quot;Returning to main menu...\\n&quot;);\n    }\n\n    public void viewAllTransactions() throws Exception{\n        String result[] = null;\n        String date2 =&quot;&quot;, letter=&quot;&quot;;\n\n        //enter start date\n        dateInput();\n\n        switch(date.substring(2,4)) {\n        case &quot;01&quot;: letter = &quot;Jan&quot;; break;\n        case &quot;02&quot;: letter = &quot;Feb&quot;; break;\n        case &quot;03&quot;: letter = &quot;Mar&quot;; break;\n        case &quot;04&quot;: letter = &quot;Apr&quot;; break;\n        case &quot;05&quot;: letter = &quot;May&quot;; break;\n        case &quot;06&quot;: letter = &quot;June&quot;; break;\n        case &quot;07&quot;: letter = &quot;July&quot;; break;\n        case &quot;08&quot;: letter = &quot;Aug&quot;; break;\n        case &quot;09&quot;: letter = &quot;Sep&quot;; break;\n        case &quot;10&quot;: letter = &quot;Oct&quot;; break;\n        case &quot;11&quot;: letter = &quot;Nov&quot;; break;\n        case &quot;12&quot;: letter = &quot;Dec&quot;; break;\n        }\n\n        date2 = date.substring(0,2) + letter + &quot;20&quot; + date.substring(4,6);\n\n        //show all records from start date\n        //display error if no matching one\n        boolean success = db.matchingDate(transaction.getDate());\n        if(success) {\n            System.out.println(&quot;\\nTransaction Report from &quot; + date2);\n            System.out.printf(&quot;%-4s %20s %25s %20s\\n&quot;,&quot;Ticket Date&quot;, &quot;Transaction Id&quot;, &quot;Number of Tickets&quot;, &quot;Total Price&quot;);\n            result = db.retrieveAllInfo(date);\n            for(String temp: result)\n                System.out.println(temp);\n        }else\n            System.out.println(&quot;Error in finding date entered.&quot;);\n\n        System.out.println(&quot;\\nReturning to main menu...\\n&quot;);\n    }\n\n}\n</code></pre>\n<p>transaction class</p>\n<pre><code>public void setDate(String date) {\n        if(Validation.isValidDate(date))\n            this.date =  date;\n        else\n            System.out.println(&quot;Date is invalid. Please re-enter.&quot;);\n    }\n</code></pre>\n"},{"tags":["java","android","mqtt","paho"],"comments":[{"owner":{"account_id":236814,"reputation":55963,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"score":0,"creation_date":1649682374,"post_id":71827577,"comment_id":126930920,"body_markdown":"What broker are you running on your laptop?","body":"What broker are you running on your laptop?"},{"owner":{"account_id":24900007,"reputation":15,"user_id":18770801,"display_name":"gtltc"},"score":0,"creation_date":1649690567,"post_id":71827577,"comment_id":126934274,"body_markdown":"I&#39;m using mosquitto MQTT installed on my laptop.","body":"I&#39;m using mosquitto MQTT installed on my laptop."},{"owner":{"account_id":236814,"reputation":55963,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"score":0,"creation_date":1649690708,"post_id":71827577,"comment_id":126934332,"body_markdown":"https://stackoverflow.com/questions/65278648/mosquitto-starting-in-local-only-mode/65278769#65278769","body":"<a href=\"https://stackoverflow.com/questions/65278648/mosquitto-starting-in-local-only-mode/65278769#65278769\" title=\"mosquitto starting in local only mode\">stackoverflow.com/questions/65278648/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2526249,"reputation":16,"user_id":2195580,"display_name":"user2195580"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649681814,"creation_date":1649681814,"answer_id":71828251,"question_id":71827577,"body_markdown":"Following something like:\r\n\r\nhttps://stackoverflow.com/questions/5528850/how-do-you-connect-localhost-in-the-android-emulator\r\n\r\nyou probably need to access the broker on:\r\n\r\n&gt; 10.0.2.2:1883\r\n","title":"MqttException (0) - java.net.SocketTimeoutException: failed to connect to /192.168.1.xx (port 1883) from /10.0.2.xx (port xxxxx) after 30000ms","body":"<p>Following something like:</p>\n<p><a href=\"https://stackoverflow.com/questions/5528850/how-do-you-connect-localhost-in-the-android-emulator\">How do you connect localhost in the Android emulator?</a></p>\n<p>you probably need to access the broker on:</p>\n<blockquote>\n<p>10.0.2.2:1883</p>\n</blockquote>\n"}],"owner":{"account_id":24900007,"reputation":15,"user_id":18770801,"display_name":"gtltc"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2632,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1649732175,"accepted_answer_id":71828251,"answer_count":1,"score":0,"last_activity_date":1649732170,"creation_date":1649678833,"question_id":71827577,"body_markdown":"I am very new to the mqtt on Android Development. So, I did something similar to this guide.\r\nhttps://www.hivemq.com/blog/mqtt-client-library-enyclopedia-paho-android-service/\r\n\r\nI have tried to connect my android application from the Android Studio emulator to Mqtt broker. The broker is located in my Windows10 laptop (which is the same machine as the Android client). The problem I found is that my Android client cannot connect itself to the Mqtt broker ip. I&#39;ve tried it in many ways but still couldn&#39;t get it work. So, I&#39;m not sure if I&#39;m doing it right?\r\n\r\nHere is my `build.gradle` dependencies\r\n\r\n```\r\ndependencies {\r\n    implementation &#39;androidx.appcompat:appcompat:1.4.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.5.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.3&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n\r\n    implementation &#39;org.eclipse.paho:org.eclipse.paho.client.mqttv3:1.1.0&#39;\r\n    implementation &#39;org.eclipse.paho:org.eclipse.paho.android.service:1.1.1&#39;\r\n    implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n}\r\n```\r\n\r\nIn my `setting.gladle` file, I&#39;ve added `maven repository` as below.\r\n\r\n*(This supposed to be in the `build.gladle` file, but I did it this way because I found out that `build.gladle` in the newer version of android studio has a different way to compile the app. When I first tried on that, it shows the message that &#39;syncing error&#39;. So, I&#39;ve included in the `setting.gladle` instead, to avoid that error.)*\r\n```\r\ndependencyResolutionManagement {\r\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n\r\n        maven {\r\n            url &quot;https://repo.eclipse.org/content/repositories/paho-releases/&quot;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe `AndroidManifest.xml`, I have included some `permission` and `android service`.\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.example.smartmousetrap&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.SmartMouseTrap&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;service android:name=&quot;org.eclipse.paho.android.service.MqttService&quot;/&gt;\r\n\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\nAnd this is all of the `MainActivity.java` where it has the connection problem\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private Button buttonConnect;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        buttonConnect = findViewById(R.id.buttonConnect);\r\n        buttonConnect.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                String clientId = MqttClient.generateClientId();\r\n                Toast.makeText(MainActivity.this, clientId, Toast.LENGTH_SHORT).show();\r\n                MqttAndroidClient client = new MqttAndroidClient(MainActivity.this, &quot;tcp://192.168.1.43:1883&quot;, clientId);\r\n\r\n                try {\r\n                    IMqttToken token = client.connect();\r\n                    token.setActionCallback(new IMqttActionListener() {\r\n                        @Override\r\n                        public void onSuccess(IMqttToken asyncActionToken) {\r\n                            Log.d(&quot;Debug&quot;, &quot;onSuccess&quot;);\r\n                            Toast.makeText(MainActivity.this, &quot;onSuccess&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n\r\n                        @Override\r\n                        public void onFailure(IMqttToken asyncActionToken, Throwable exception) {\r\n                            Log.d(&quot;Debug&quot;, &quot;onFailure&quot;);\r\n                            Toast.makeText(MainActivity.this, &quot;onFailure&quot;, Toast.LENGTH_SHORT).show();\r\n                            exception.printStackTrace();\r\n                        }\r\n                    });\r\n                } catch (MqttException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nFirst, I reference to the button using this variable. When the button get clicked, the application will connect itself to the Mqtt broker.\r\n\r\n`buttonConnect = findViewById(R.id.buttonConnect);`\r\n\r\n`buttonConnect.setOnClickListener(new View.OnClickListener() {...})`\r\n\r\n===========================================\r\n\r\n&#39;192.168.1.43&#39; is my laptop ip (broker)\r\n\r\n`MqttAndroidClient client = new MqttAndroidClient(MainActivity.this, &quot;tcp://192.168.1.43:1883&quot;, clientId);`\r\n\r\n===========================================\r\n\r\nAfter it tried &#39;client.connect&#39;, it ended up in this &#39;onFailure&#39; section.\r\n\r\n`IMqttToken token = client.connect();`\r\n\r\n```\r\ntry {\r\n    IMqttToken token = client.connect();\r\n    token.setActionCallback(new IMqttActionListener() {\r\n        @Override\r\n        public void onSuccess(IMqttToken asyncActionToken) {\r\n            Log.d(&quot;Debug&quot;, &quot;onSuccess&quot;);\r\n            Toast.makeText(MainActivity.this, &quot;onSuccess&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n\r\n        @Override\r\n        public void onFailure(IMqttToken asyncActionToken, Throwable exception) {\r\n            Log.d(&quot;Debug&quot;, &quot;onFailure&quot;);\r\n            Toast.makeText(MainActivity.this, &quot;onFailure&quot;, Toast.LENGTH_SHORT).show();\r\n            exception.printStackTrace();\r\n        }\r\n    });\r\n} catch (MqttException e) {\r\n    e.printStackTrace();\r\n}\r\n```\r\n\r\nThis is the `MqttException` prompted error I&#39;ve got.\r\n\r\nNote that `10.0.2.16` is my android ip (from Android Studio emulator)\r\n```\r\nD/HostConnection: createUnique: call\r\nD/HostConnection: HostConnection::get() New Host Connection established 0x75161b0e2c50, tid 7084\r\nD/HostConnection: HostComposition ext ANDROID_EMU_CHECKSUM_HELPER_v1 ANDROID_EMU_native_sync_v2 ANDROID_EMU_native_sync_v3 ANDROID_EMU_native_sync_v4 ANDROID_EMU_dma_v1 ANDROID_EMU_direct_mem ANDROID_EMU_host_composition_v1 ANDROID_EMU_host_composition_v2 ANDROID_EMU_vulkan ANDROID_EMU_deferred_vulkan_commands ANDROID_EMU_vulkan_null_optional_strings ANDROID_EMU_vulkan_create_resources_with_requirements ANDROID_EMU_YUV_Cache ANDROID_EMU_vulkan_ignored_handles ANDROID_EMU_has_shared_slots_host_memory_allocator ANDROID_EMU_vulkan_free_memory_sync ANDROID_EMU_vulkan_shader_float16_int8 ANDROID_EMU_vulkan_async_queue_submit ANDROID_EMU_vulkan_queue_submit_with_commands ANDROID_EMU_sync_buffer_data ANDROID_EMU_read_color_buffer_dma GL_OES_vertex_array_object GL_KHR_texture_compression_astc_ldr ANDROID_EMU_host_side_tracing ANDROID_EMU_gles_max_version_2 \r\nW/OpenGLRenderer: Failed to choose config with EGL_SWAP_BEHAVIOR_PRESERVED, retrying without...\r\nW/OpenGLRenderer: Failed to initialize 101010-2 format, error = EGL_SUCCESS\r\nD/EGL_emulation: eglCreateContext: 0x75161b0e2650: maj 2 min 0 rcv 2\r\nD/EGL_emulation: eglMakeCurrent: 0x75161b0e2650: ver 2 0 (tinfo 0x751835ee2080) (first time)\r\nI/Gralloc4: mapper 4.x is not supported\r\nD/HostConnection: createUnique: call\r\nD/HostConnection: HostConnection::get() New Host Connection established 0x75161b0e2110, tid 7084\r\nD/goldfish-address-space: allocate: Ask for block of size 0x100\r\nD/goldfish-address-space: allocate: ioctl allocate returned offset 0x3efffe000 size 0x2000\r\nW/Gralloc4: allocator 4.x is not supported\r\nD/HostConnection: HostComposition ext ANDROID_EMU_CHECKSUM_HELPER_v1 ANDROID_EMU_native_sync_v2 ANDROID_EMU_native_sync_v3 ANDROID_EMU_native_sync_v4 ANDROID_EMU_dma_v1 ANDROID_EMU_direct_mem ANDROID_EMU_host_composition_v1 ANDROID_EMU_host_composition_v2 ANDROID_EMU_vulkan ANDROID_EMU_deferred_vulkan_commands ANDROID_EMU_vulkan_null_optional_strings ANDROID_EMU_vulkan_create_resources_with_requirements ANDROID_EMU_YUV_Cache ANDROID_EMU_vulkan_ignored_handles ANDROID_EMU_has_shared_slots_host_memory_allocator ANDROID_EMU_vulkan_free_memory_sync ANDROID_EMU_vulkan_shader_float16_int8 ANDROID_EMU_vulkan_async_queue_submit ANDROID_EMU_vulkan_queue_submit_with_commands ANDROID_EMU_sync_buffer_data ANDROID_EMU_read_color_buffer_dma GL_OES_vertex_array_object GL_KHR_texture_compression_astc_ldr ANDROID_EMU_host_side_tracing ANDROID_EMU_gles_max_version_2 \r\nW/System: A resource failed to call close. \r\nD/EGL_emulation: app_time_stats: avg=409.15ms min=4.48ms max=3278.83ms count=9\r\nD/CompatibilityChangeReporter: Compat change id reported: 147798919; UID 10166; state: ENABLED\r\nD/AlarmPingSender: Unregister alarmreceiver to MqttServicepaho3870573646500\r\nD/AlarmPingSender: Unregister alarmreceiver to MqttServicepaho3870573646500\r\nD/Debug: onFailure\r\nW/System.err: MqttException (0) - java.net.SocketTimeoutException: failed to connect to /192.168.1.43 (port 1883) from /10.0.2.16 (port 56170) after 30000ms\r\nW/System.err:     at org.eclipse.paho.client.mqttv3.internal.ExceptionHelper.createMqttException(ExceptionHelper.java:38)\r\nW/System.err:     at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:664)\r\nW/System.err:     at java.lang.Thread.run(Thread.java:920)\r\nW/System.err: Caused by: java.net.SocketTimeoutException: failed to connect to /192.168.1.43 (port 1883) from /10.0.2.16 (port 56170) after 30000ms\r\nW/System.err:     at libcore.io.IoBridge.connectErrno(IoBridge.java:236)\r\nW/System.err:     at libcore.io.IoBridge.connect(IoBridge.java:180)\r\nW/System.err:     at java.net.PlainSocketImpl.socketConnect(PlainSocketImpl.java:142)\r\nW/System.err:     at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:390)\r\nW/System.err:     at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:230)\r\nW/System.err:     at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:212)\r\nW/System.err:     at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:436)\r\nW/System.err:     at java.net.Socket.connect(Socket.java:621)\r\nW/System.err:     at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:70)\r\nW/System.err:     at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:650)\r\nW/System.err: \t... 1 more\r\n```\r\n\r\nIf I done anything wrong or any suggestion please help.","title":"MqttException (0) - java.net.SocketTimeoutException: failed to connect to /192.168.1.xx (port 1883) from /10.0.2.xx (port xxxxx) after 30000ms","body":"<p>I am very new to the mqtt on Android Development. So, I did something similar to this guide.\n<a href=\"https://www.hivemq.com/blog/mqtt-client-library-enyclopedia-paho-android-service/\" rel=\"nofollow noreferrer\">https://www.hivemq.com/blog/mqtt-client-library-enyclopedia-paho-android-service/</a></p>\n<p>I have tried to connect my android application from the Android Studio emulator to Mqtt broker. The broker is located in my Windows10 laptop (which is the same machine as the Android client). The problem I found is that my Android client cannot connect itself to the Mqtt broker ip. I've tried it in many ways but still couldn't get it work. So, I'm not sure if I'm doing it right?</p>\n<p>Here is my <code>build.gradle</code> dependencies</p>\n<pre><code>dependencies {\n    implementation 'androidx.appcompat:appcompat:1.4.1'\n    implementation 'com.google.android.material:material:1.5.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.3'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n\n    implementation 'org.eclipse.paho:org.eclipse.paho.client.mqttv3:1.1.0'\n    implementation 'org.eclipse.paho:org.eclipse.paho.android.service:1.1.1'\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n}\n</code></pre>\n<p>In my <code>setting.gladle</code> file, I've added <code>maven repository</code> as below.</p>\n<p><em>(This supposed to be in the <code>build.gladle</code> file, but I did it this way because I found out that <code>build.gladle</code> in the newer version of android studio has a different way to compile the app. When I first tried on that, it shows the message that 'syncing error'. So, I've included in the <code>setting.gladle</code> instead, to avoid that error.)</em></p>\n<pre><code>dependencyResolutionManagement {\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\n    repositories {\n        google()\n        mavenCentral()\n\n        maven {\n            url &quot;https://repo.eclipse.org/content/repositories/paho-releases/&quot;\n        }\n    }\n}\n</code></pre>\n<p>The <code>AndroidManifest.xml</code>, I have included some <code>permission</code> and <code>android service</code>.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.smartmousetrap&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.SmartMouseTrap&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n        &lt;service android:name=&quot;org.eclipse.paho.android.service.MqttService&quot;/&gt;\n\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>And this is all of the <code>MainActivity.java</code> where it has the connection problem</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private Button buttonConnect;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        buttonConnect = findViewById(R.id.buttonConnect);\n        buttonConnect.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                String clientId = MqttClient.generateClientId();\n                Toast.makeText(MainActivity.this, clientId, Toast.LENGTH_SHORT).show();\n                MqttAndroidClient client = new MqttAndroidClient(MainActivity.this, &quot;tcp://192.168.1.43:1883&quot;, clientId);\n\n                try {\n                    IMqttToken token = client.connect();\n                    token.setActionCallback(new IMqttActionListener() {\n                        @Override\n                        public void onSuccess(IMqttToken asyncActionToken) {\n                            Log.d(&quot;Debug&quot;, &quot;onSuccess&quot;);\n                            Toast.makeText(MainActivity.this, &quot;onSuccess&quot;, Toast.LENGTH_SHORT).show();\n                        }\n\n                        @Override\n                        public void onFailure(IMqttToken asyncActionToken, Throwable exception) {\n                            Log.d(&quot;Debug&quot;, &quot;onFailure&quot;);\n                            Toast.makeText(MainActivity.this, &quot;onFailure&quot;, Toast.LENGTH_SHORT).show();\n                            exception.printStackTrace();\n                        }\n                    });\n                } catch (MqttException e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n}\n</code></pre>\n<p>First, I reference to the button using this variable. When the button get clicked, the application will connect itself to the Mqtt broker.</p>\n<p><code>buttonConnect = findViewById(R.id.buttonConnect);</code></p>\n<p><code>buttonConnect.setOnClickListener(new View.OnClickListener() {...})</code></p>\n<p>===========================================</p>\n<p>'192.168.1.43' is my laptop ip (broker)</p>\n<p><code>MqttAndroidClient client = new MqttAndroidClient(MainActivity.this, &quot;tcp://192.168.1.43:1883&quot;, clientId);</code></p>\n<p>===========================================</p>\n<p>After it tried 'client.connect', it ended up in this 'onFailure' section.</p>\n<p><code>IMqttToken token = client.connect();</code></p>\n<pre><code>try {\n    IMqttToken token = client.connect();\n    token.setActionCallback(new IMqttActionListener() {\n        @Override\n        public void onSuccess(IMqttToken asyncActionToken) {\n            Log.d(&quot;Debug&quot;, &quot;onSuccess&quot;);\n            Toast.makeText(MainActivity.this, &quot;onSuccess&quot;, Toast.LENGTH_SHORT).show();\n        }\n\n        @Override\n        public void onFailure(IMqttToken asyncActionToken, Throwable exception) {\n            Log.d(&quot;Debug&quot;, &quot;onFailure&quot;);\n            Toast.makeText(MainActivity.this, &quot;onFailure&quot;, Toast.LENGTH_SHORT).show();\n            exception.printStackTrace();\n        }\n    });\n} catch (MqttException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>This is the <code>MqttException</code> prompted error I've got.</p>\n<p>Note that <code>10.0.2.16</code> is my android ip (from Android Studio emulator)</p>\n<pre><code>D/HostConnection: createUnique: call\nD/HostConnection: HostConnection::get() New Host Connection established 0x75161b0e2c50, tid 7084\nD/HostConnection: HostComposition ext ANDROID_EMU_CHECKSUM_HELPER_v1 ANDROID_EMU_native_sync_v2 ANDROID_EMU_native_sync_v3 ANDROID_EMU_native_sync_v4 ANDROID_EMU_dma_v1 ANDROID_EMU_direct_mem ANDROID_EMU_host_composition_v1 ANDROID_EMU_host_composition_v2 ANDROID_EMU_vulkan ANDROID_EMU_deferred_vulkan_commands ANDROID_EMU_vulkan_null_optional_strings ANDROID_EMU_vulkan_create_resources_with_requirements ANDROID_EMU_YUV_Cache ANDROID_EMU_vulkan_ignored_handles ANDROID_EMU_has_shared_slots_host_memory_allocator ANDROID_EMU_vulkan_free_memory_sync ANDROID_EMU_vulkan_shader_float16_int8 ANDROID_EMU_vulkan_async_queue_submit ANDROID_EMU_vulkan_queue_submit_with_commands ANDROID_EMU_sync_buffer_data ANDROID_EMU_read_color_buffer_dma GL_OES_vertex_array_object GL_KHR_texture_compression_astc_ldr ANDROID_EMU_host_side_tracing ANDROID_EMU_gles_max_version_2 \nW/OpenGLRenderer: Failed to choose config with EGL_SWAP_BEHAVIOR_PRESERVED, retrying without...\nW/OpenGLRenderer: Failed to initialize 101010-2 format, error = EGL_SUCCESS\nD/EGL_emulation: eglCreateContext: 0x75161b0e2650: maj 2 min 0 rcv 2\nD/EGL_emulation: eglMakeCurrent: 0x75161b0e2650: ver 2 0 (tinfo 0x751835ee2080) (first time)\nI/Gralloc4: mapper 4.x is not supported\nD/HostConnection: createUnique: call\nD/HostConnection: HostConnection::get() New Host Connection established 0x75161b0e2110, tid 7084\nD/goldfish-address-space: allocate: Ask for block of size 0x100\nD/goldfish-address-space: allocate: ioctl allocate returned offset 0x3efffe000 size 0x2000\nW/Gralloc4: allocator 4.x is not supported\nD/HostConnection: HostComposition ext ANDROID_EMU_CHECKSUM_HELPER_v1 ANDROID_EMU_native_sync_v2 ANDROID_EMU_native_sync_v3 ANDROID_EMU_native_sync_v4 ANDROID_EMU_dma_v1 ANDROID_EMU_direct_mem ANDROID_EMU_host_composition_v1 ANDROID_EMU_host_composition_v2 ANDROID_EMU_vulkan ANDROID_EMU_deferred_vulkan_commands ANDROID_EMU_vulkan_null_optional_strings ANDROID_EMU_vulkan_create_resources_with_requirements ANDROID_EMU_YUV_Cache ANDROID_EMU_vulkan_ignored_handles ANDROID_EMU_has_shared_slots_host_memory_allocator ANDROID_EMU_vulkan_free_memory_sync ANDROID_EMU_vulkan_shader_float16_int8 ANDROID_EMU_vulkan_async_queue_submit ANDROID_EMU_vulkan_queue_submit_with_commands ANDROID_EMU_sync_buffer_data ANDROID_EMU_read_color_buffer_dma GL_OES_vertex_array_object GL_KHR_texture_compression_astc_ldr ANDROID_EMU_host_side_tracing ANDROID_EMU_gles_max_version_2 \nW/System: A resource failed to call close. \nD/EGL_emulation: app_time_stats: avg=409.15ms min=4.48ms max=3278.83ms count=9\nD/CompatibilityChangeReporter: Compat change id reported: 147798919; UID 10166; state: ENABLED\nD/AlarmPingSender: Unregister alarmreceiver to MqttServicepaho3870573646500\nD/AlarmPingSender: Unregister alarmreceiver to MqttServicepaho3870573646500\nD/Debug: onFailure\nW/System.err: MqttException (0) - java.net.SocketTimeoutException: failed to connect to /192.168.1.43 (port 1883) from /10.0.2.16 (port 56170) after 30000ms\nW/System.err:     at org.eclipse.paho.client.mqttv3.internal.ExceptionHelper.createMqttException(ExceptionHelper.java:38)\nW/System.err:     at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:664)\nW/System.err:     at java.lang.Thread.run(Thread.java:920)\nW/System.err: Caused by: java.net.SocketTimeoutException: failed to connect to /192.168.1.43 (port 1883) from /10.0.2.16 (port 56170) after 30000ms\nW/System.err:     at libcore.io.IoBridge.connectErrno(IoBridge.java:236)\nW/System.err:     at libcore.io.IoBridge.connect(IoBridge.java:180)\nW/System.err:     at java.net.PlainSocketImpl.socketConnect(PlainSocketImpl.java:142)\nW/System.err:     at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:390)\nW/System.err:     at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:230)\nW/System.err:     at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:212)\nW/System.err:     at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:436)\nW/System.err:     at java.net.Socket.connect(Socket.java:621)\nW/System.err:     at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:70)\nW/System.err:     at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:650)\nW/System.err:   ... 1 more\n</code></pre>\n<p>If I done anything wrong or any suggestion please help.</p>\n"},{"tags":["java","method-call"],"comments":[{"owner":{"account_id":2075037,"reputation":84455,"user_id":1848654,"display_name":"melpomene"},"score":0,"creation_date":1507593724,"post_id":46656710,"comment_id":80262428,"body_markdown":"Delete `Animate animate = new animate();`.","body":"Delete <code>Animate animate = new animate();</code>."},{"owner":{"account_id":11956989,"reputation":1,"user_id":8749052,"display_name":"Dearerburrito"},"score":0,"creation_date":1507593807,"post_id":46656710,"comment_id":80262450,"body_markdown":"I still get &quot;cannot reference a non static element from a static context&quot;","body":"I still get &quot;cannot reference a non static element from a static context&quot;"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1507594004,"post_id":46656710,"comment_id":80262509,"body_markdown":"You are trying to call the method *from inside* your main method. Not &#39;to&#39;.","body":"You are trying to call the method <i>from inside</i> your main method. Not &#39;to&#39;."}],"answers":[{"tags":[],"owner":{"account_id":4196075,"reputation":17303,"user_id":3437460,"accept_rate":49,"display_name":"user3437460"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1507596676,"creation_date":1507593779,"answer_id":46656728,"question_id":46656710,"body_markdown":"Change:\r\n\r\n    public void animate(){\r\n\r\nTo:\r\n\r\n    public static void animate(){\r\n\r\nYou are trying to invoke a non-static method from a static one.\r\n\r\n--------\r\nIf `animate()` is an instance member, you instantiate the object and call `animate()` from that object:\r\n\r\n    public static void main(String[] args){\r\n        Animation a = new Animation();\r\n        a.animate();\r\n    }","title":"Calling a void method from a static main method","body":"<p>Change:</p>\n\n<pre><code>public void animate(){\n</code></pre>\n\n<p>To:</p>\n\n<pre><code>public static void animate(){\n</code></pre>\n\n<p>You are trying to invoke a non-static method from a static one.</p>\n\n<hr>\n\n<p>If <code>animate()</code> is an instance member, you instantiate the object and call <code>animate()</code> from that object:</p>\n\n<pre><code>public static void main(String[] args){\n    Animation a = new Animation();\n    a.animate();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1507594119,"creation_date":1507593865,"answer_id":46656737,"question_id":46656710,"body_markdown":"Assuming `Animate` is a proper class, you need to call the instance method on an actual instance.\r\n\r\nFor example.\r\n\r\n    Animate a = new Animate();\r\n    a.animate();\r\n\r\nOtherwise, check out the Scene class. Are you supposed to animate that? ","title":"Calling a void method from a static main method","body":"<p>Assuming <code>Animate</code> is a proper class, you need to call the instance method on an actual instance.</p>\n\n<p>For example.</p>\n\n<pre><code>Animate a = new Animate();\na.animate();\n</code></pre>\n\n<p>Otherwise, check out the Scene class. Are you supposed to animate that? </p>\n"}],"owner":{"account_id":11956989,"reputation":1,"user_id":8749052,"display_name":"Dearerburrito"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1958,"favorite_count":0,"down_vote_count":5,"up_vote_count":1,"answer_count":2,"score":-4,"last_activity_date":1649731426,"creation_date":1507593637,"question_id":46656710,"body_markdown":"I&#39;m trying to call a void method from my static main method. Here&#39;s what I have:\r\n\r\n    public static void main(String[] args){\r\n        Scene scene = new Scene();\r\n        Animate animate = new animate();\r\n        animate();    //I&#39;ve tried it by itself, but no luck\r\n    }\r\n    public void animate(){\r\n        sun.slowMoveHorizontal(5000);\r\n        moon.slowHorizontal(400);\r\n    }\r\n\r\nIf anyone could help it would be much appreciated. The text says, &quot;Add a call to animate in your main method just below the line that creates the Scene object.&quot; If that helps. \r\n","title":"Calling a void method from a static main method","body":"<p>I'm trying to call a void method from my static main method. Here's what I have:</p>\n\n<pre><code>public static void main(String[] args){\n    Scene scene = new Scene();\n    Animate animate = new animate();\n    animate();    //I've tried it by itself, but no luck\n}\npublic void animate(){\n    sun.slowMoveHorizontal(5000);\n    moon.slowHorizontal(400);\n}\n</code></pre>\n\n<p>If anyone could help it would be much appreciated. The text says, \"Add a call to animate in your main method just below the line that creates the Scene object.\" If that helps. </p>\n"},{"tags":["java","spring","intellij-idea"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1649707683,"post_id":71833706,"comment_id":126940134,"body_markdown":"What O/S are you on?  You have a config file, we just need to find it.","body":"What O/S are you on?  You have a config file, we just need to find it."},{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1649708158,"post_id":71833706,"comment_id":126940275,"body_markdown":"Delete the file from the Configuration directory: https://www.jetbrains.com/help/idea/directories-used-by-the-ide-to-store-settings-caches-plugins-and-logs.html#config-directory. See https://intellij-support.jetbrains.com/hc/en-us/articles/206544869.","body":"Delete the file from the Configuration directory: <a href=\"https://www.jetbrains.com/help/idea/directories-used-by-the-ide-to-store-settings-caches-plugins-and-logs.html#config-directory\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/&hellip;</a>. See <a href=\"https://intellij-support.jetbrains.com/hc/en-us/articles/206544869\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/en-us/articles/206544869</a>."},{"owner":{"account_id":24905517,"reputation":1,"user_id":18775628,"display_name":"Filip"},"score":0,"creation_date":1649717850,"post_id":71833706,"comment_id":126942632,"body_markdown":"Windows 10.\nWhen I enter Intellij Idea I have the following folders:  bin, help, jbr, lib, licence, plugin, redist, nothing more. I am trying to find it over2 hours.","body":"Windows 10. When I enter Intellij Idea I have the following folders:  bin, help, jbr, lib, licence, plugin, redist, nothing more. I am trying to find it over2 hours."}],"owner":{"account_id":24905517,"reputation":1,"user_id":18775628,"display_name":"Filip"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":393,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649728324,"creation_date":1649707580,"question_id":71833706,"body_markdown":"In Intellij IDEA 2021.2.1 I mistakenly added incorrect lines to VM option file(Menu-&gt;Help-&gt;Edit Custom VM Option). After that, the IDEA does not launch. Reinstallation didn&#39;t help.\r\nAnd I do not have any config file in intellij folder, all the solutions I found started in the config file (or configuration directory), that I dont have. ","title":"The Intellij IDEA does not launch after editing the VM options file, no config file available","body":"<p>In Intellij IDEA 2021.2.1 I mistakenly added incorrect lines to VM option file(Menu-&gt;Help-&gt;Edit Custom VM Option). After that, the IDEA does not launch. Reinstallation didn't help.\nAnd I do not have any config file in intellij folder, all the solutions I found started in the config file (or configuration directory), that I dont have.</p>\n"},{"tags":["java","java-native-interface"],"comments":[{"owner":{"account_id":14165469,"reputation":86,"user_id":10233562,"display_name":"Seb34"},"score":1,"creation_date":1649263742,"post_id":71770171,"comment_id":126833705,"body_markdown":"I don&#39;t think your problem has anything to do with RMI. Have you tried calling your JNI methods out of the RMI context ?","body":"I don&#39;t think your problem has anything to do with RMI. Have you tried calling your JNI methods out of the RMI context ?"},{"owner":{"account_id":10023524,"reputation":53,"user_id":12003362,"display_name":"Wendell Best"},"score":0,"creation_date":1649264484,"post_id":71770171,"comment_id":126833971,"body_markdown":"Yeah, I am getting the same error. I am not sure what the issue is.What is confusing is that when the header file is generatd I am getting a definition of &quot;C_GetLocalTime(JNIEnv *, jobject, jobject)&quot; and I am only passing one object to the C function. I assumed the last object was the correct one, but some examples I have looked at seems to imply the first jobject is the correct object and the second one is just an argument. But I don&#39;t know, was under the impression that passing an object would just have one jobject.","body":"Yeah, I am getting the same error. I am not sure what the issue is.What is confusing is that when the header file is generatd I am getting a definition of &quot;C_GetLocalTime(JNIEnv *, jobject, jobject)&quot; and I am only passing one object to the C function. I assumed the last object was the correct one, but some examples I have looked at seems to imply the first jobject is the correct object and the second one is just an argument. But I don&#39;t know, was under the impression that passing an object would just have one jobject."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1649725430,"post_id":71770171,"comment_id":126943871,"body_markdown":"The first `jobject` is `this`, and the others if any are arguments. The argument to `GetStaticFieldID()` is a `jclass`, not a `jobject`.","body":"The first <code>jobject</code> is <code>this</code>, and the others if any are arguments. The argument to <code>GetStaticFieldID()</code> is a <code>jclass</code>, not a <code>jobject</code>."}],"owner":{"account_id":10023524,"reputation":53,"user_id":12003362,"display_name":"Wendell Best"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649728307,"creation_date":1649261366,"question_id":71770171,"body_markdown":"I have a program Agent that launches a thread call BeaconSender that sends a Beacon to another program called Manager using RMI through Manager&#39;s BeaconListener interface. When the manager receives the beacon, it launches a thread called Command that sends two objects (send obj1, receive obj1, sendobj2, receive obj2) through RMI to the Agent calling a method named &quot;execute&quot; (the JNI methods are in C code) which depending on the object (identified by a string variable) executes the method associated with the particular object and returns the results.\r\n\r\nThe problem: I start the programs in order, Manager first then Agent and when Agent sends it&#39;s beacon Manager tries to use the &quot;execute&quot; method then Agent fails for a segmentation fault when it tries to run the JNI methods. \r\n\r\nThe class for my JNI is:\r\n\r\n        public class CmdRegister extends UnicastRemoteObject implements CmdAgent{\r\n    \r\n        protected CmdRegister() throws RemoteException {\r\n            super();\r\n        }\r\n        public native GetLocalTime C_GetLocalTime(GetLocalTime alpha);\r\n        public native GetVersion C_GetVersion(GetVersion beta);\r\n        static{System.loadLibrary(&quot;time&quot;);}\r\n        @Override\r\n        public Object execute(String CmdID, Object CmdObject) throws RemoteException {\r\n            //System.out.println(&quot;Entered C_GetLocalTime1&quot;);\r\n            if(CmdID.equals(&quot;GetLocalTime&quot;)){\r\n                //System.out.println(&quot;Entered C_GetLocalTime2&quot;);\r\n                return C_GetLocalTime((GetLocalTime) CmdObject);\r\n            }\r\n            else if(CmdID.equals(&quot;GetVersion&quot;)){\r\n                System.out.println(&quot;Entered C_GetLocalTime3&quot;);\r\n                return C_GetVersion((GetVersion) CmdObject);\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n\r\nThe C code is:\r\n\r\n \r\n\r\n       JNIEXPORT jobject JNICALL Java_agent_CmdRegister_C_1GetLocalTime\r\n      (JNIEnv *env, jobject obj, jobject alpha){\r\n        printf(&quot;Entered the C code GetLocalTime\\n&quot;);\r\n        jfieldID fid1 = (*env)-&gt;GetStaticFieldID(env, alpha, &quot;time&quot;,&quot;I&quot;);\r\n        (*env)-&gt;SetStaticIntField(env, alpha, fid1, time(0));\r\n        jfieldID fid2 = (*env)-&gt;GetStaticFieldID(env, alpha, &quot;valid&quot;, &quot;C&quot;);\r\n        (*env)-&gt;SetStaticCharField(env, alpha, fid2, &#39;1&#39;);\r\n      }\r\n    \r\n    JNIEXPORT jobject JNICALL Java_agent_CmdRegister_C_1GetVersion\r\n      (JNIEnv *env, jobject obj, jobject beta){\r\n        jfieldID fid = (*env)-&gt;GetStaticFieldID(env, beta, &quot;version&quot;, &quot;I&quot;);\r\n        (*env)-&gt;SetStaticIntField(env, beta, fid, 123);\r\n      }\r\n\r\nI know I am missing something, but I can&#39;t figure out what. This seems to be what the tutorials I found and the API for JNI says should work. ","title":"JNI GetStaticFieldID() causes segmentation fault","body":"<p>I have a program Agent that launches a thread call BeaconSender that sends a Beacon to another program called Manager using RMI through Manager's BeaconListener interface. When the manager receives the beacon, it launches a thread called Command that sends two objects (send obj1, receive obj1, sendobj2, receive obj2) through RMI to the Agent calling a method named &quot;execute&quot; (the JNI methods are in C code) which depending on the object (identified by a string variable) executes the method associated with the particular object and returns the results.</p>\n<p>The problem: I start the programs in order, Manager first then Agent and when Agent sends it's beacon Manager tries to use the &quot;execute&quot; method then Agent fails for a segmentation fault when it tries to run the JNI methods.</p>\n<p>The class for my JNI is:</p>\n<pre><code>    public class CmdRegister extends UnicastRemoteObject implements CmdAgent{\n\n    protected CmdRegister() throws RemoteException {\n        super();\n    }\n    public native GetLocalTime C_GetLocalTime(GetLocalTime alpha);\n    public native GetVersion C_GetVersion(GetVersion beta);\n    static{System.loadLibrary(&quot;time&quot;);}\n    @Override\n    public Object execute(String CmdID, Object CmdObject) throws RemoteException {\n        //System.out.println(&quot;Entered C_GetLocalTime1&quot;);\n        if(CmdID.equals(&quot;GetLocalTime&quot;)){\n            //System.out.println(&quot;Entered C_GetLocalTime2&quot;);\n            return C_GetLocalTime((GetLocalTime) CmdObject);\n        }\n        else if(CmdID.equals(&quot;GetVersion&quot;)){\n            System.out.println(&quot;Entered C_GetLocalTime3&quot;);\n            return C_GetVersion((GetVersion) CmdObject);\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>The C code is:</p>\n<pre><code>   JNIEXPORT jobject JNICALL Java_agent_CmdRegister_C_1GetLocalTime\n  (JNIEnv *env, jobject obj, jobject alpha){\n    printf(&quot;Entered the C code GetLocalTime\\n&quot;);\n    jfieldID fid1 = (*env)-&gt;GetStaticFieldID(env, alpha, &quot;time&quot;,&quot;I&quot;);\n    (*env)-&gt;SetStaticIntField(env, alpha, fid1, time(0));\n    jfieldID fid2 = (*env)-&gt;GetStaticFieldID(env, alpha, &quot;valid&quot;, &quot;C&quot;);\n    (*env)-&gt;SetStaticCharField(env, alpha, fid2, '1');\n  }\n\nJNIEXPORT jobject JNICALL Java_agent_CmdRegister_C_1GetVersion\n  (JNIEnv *env, jobject obj, jobject beta){\n    jfieldID fid = (*env)-&gt;GetStaticFieldID(env, beta, &quot;version&quot;, &quot;I&quot;);\n    (*env)-&gt;SetStaticIntField(env, beta, fid, 123);\n  }\n</code></pre>\n<p>I know I am missing something, but I can't figure out what. This seems to be what the tutorials I found and the API for JNI says should work.</p>\n"},{"tags":["java","arrays","binary-search","comparator"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649683172,"creation_date":1649681404,"answer_id":71828148,"question_id":71823769,"body_markdown":"Static method [`Arrays.binarySearch()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Arrays.html#binarySearch(T%5B%5D,T,java.util.Comparator)) has the following declaration:\r\n```\r\npublic static &lt;T&gt; int binarySearch(T[] a, T key, Comparator&lt;? super T&gt; c)\r\n```\r\nWhere `T` is the type of the elements in the array. In this case, it happens to be `int[]`.\r\n\r\nThe important distinction between your method `binSearch()` and `Arrays.binarySearch()` is that your method expects an `int` argument `target`, meanwhile you need to pass `int[]` into `binarySearch()`.\r\n\r\nSince the required *comparator* needs only the second element (*i.e. at index* `1`) of the array, the other elements of the `key` can have any value. Therefore, an array of two elements, like that\r\n```\r\nnew int[]{0, target} // the first value, is arbitrary\r\n```\r\nwill be a sufficient in order to utilize the built-in `binarySearch()`.\r\n```\r\nint index = Arrays.binarySearch(source, new int[]{0, i}, comparator);\r\n```\r\n\r\nTo define a *comparator*, you might make use of static methods `comparing()` and `comparingInt()` of the `Comparator` interface introduced with Java 8.\r\n\r\nWith that, the code bowls down to a couple of lines, and might be written like that:\r\n\r\n    public static void main(String[] args) {\r\n        int[][] source = {{1, 3, 5}, {7, 1, 6}, {4, 2, 1}};\r\n        \r\n        Comparator&lt;int[]&gt; bySecondElement = Comparator.comparingInt(arr -&gt; arr[1]);\r\n        \r\n        Arrays.sort(source, bySecondElement);\r\n        \r\n        for (int i = 0; i &lt; 4; i++) { // searching for arrays having a value of i as second element\r\n            int index = Arrays.binarySearch(source, new int[]{0, i}, bySecondElement);\r\n            System.out.printf(&quot;target: %d\\tindex: %d\\n&quot;, i, index);\r\n        }\r\n    }\r\n\r\n**Output**\r\n```\r\ntarget: 0\tindex: -1   // no such element\r\ntarget: 1\tindex: 0    // {7, 1, 6}\r\ntarget: 2\tindex: 1    // {4, 2, 1}\r\ntarget: 3\tindex: 2    // {1, 3, 5}\r\n```","title":"Binary search in 2D array using custorm Comparator","body":"<p>Static method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Arrays.html#binarySearch(T%5B%5D,T,java.util.Comparator)\" rel=\"nofollow noreferrer\"><code>Arrays.binarySearch()</code></a> has the following declaration:</p>\n<pre><code>public static &lt;T&gt; int binarySearch(T[] a, T key, Comparator&lt;? super T&gt; c)\n</code></pre>\n<p>Where <code>T</code> is the type of the elements in the array. In this case, it happens to be <code>int[]</code>.</p>\n<p>The important distinction between your method <code>binSearch()</code> and <code>Arrays.binarySearch()</code> is that your method expects an <code>int</code> argument <code>target</code>, meanwhile you need to pass <code>int[]</code> into <code>binarySearch()</code>.</p>\n<p>Since the required <em>comparator</em> needs only the second element (<em>i.e. at index</em> <code>1</code>) of the array, the other elements of the <code>key</code> can have any value. Therefore, an array of two elements, like that</p>\n<pre><code>new int[]{0, target} // the first value, is arbitrary\n</code></pre>\n<p>will be a sufficient in order to utilize the built-in <code>binarySearch()</code>.</p>\n<pre><code>int index = Arrays.binarySearch(source, new int[]{0, i}, comparator);\n</code></pre>\n<p>To define a <em>comparator</em>, you might make use of static methods <code>comparing()</code> and <code>comparingInt()</code> of the <code>Comparator</code> interface introduced with Java 8.</p>\n<p>With that, the code bowls down to a couple of lines, and might be written like that:</p>\n<pre><code>public static void main(String[] args) {\n    int[][] source = {{1, 3, 5}, {7, 1, 6}, {4, 2, 1}};\n    \n    Comparator&lt;int[]&gt; bySecondElement = Comparator.comparingInt(arr -&gt; arr[1]);\n    \n    Arrays.sort(source, bySecondElement);\n    \n    for (int i = 0; i &lt; 4; i++) { // searching for arrays having a value of i as second element\n        int index = Arrays.binarySearch(source, new int[]{0, i}, bySecondElement);\n        System.out.printf(&quot;target: %d\\tindex: %d\\n&quot;, i, index);\n    }\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>target: 0   index: -1   // no such element\ntarget: 1   index: 0    // {7, 1, 6}\ntarget: 2   index: 1    // {4, 2, 1}\ntarget: 3   index: 2    // {1, 3, 5}\n</code></pre>\n"}],"owner":{"account_id":10154009,"reputation":155,"user_id":7499651,"display_name":"Joth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1649728038,"creation_date":1649660298,"question_id":71823769,"body_markdown":"I have a 2D integer array `[n][3]` and a target value.\r\nI sort the array using\r\n\r\n    Arrays.sort(arr, (a,b)-&gt;Integer.compare(a[1],b[1]));\r\n\r\nHow can I use `Arrays.binarySearch` and a custom **comparator** to search arr along index `1` for a target value?  Something that could replace the following:  \r\n\r\n \r\n\r\n       int binSearch(int[][] arr, int target) {\r\n          int low=0, high=arr.length-1;\r\n          while( low &lt; high ) {\r\n             int mid=(low+high)/2;\r\n             if( arr[mid][1] == target ) {\r\n                return i;\r\n             }    \r\n             else if( arr[mid][1] &lt; target {\r\n                low=mid+1;\r\n             }\r\n             else {\r\n                high=mid-1;\r\n             }\r\n          }\r\n          return -(low+1);\r\n       }\r\n\r\n**EDIT:** Arrays.sort works how I need it to - my initial array for example {{1,3,5},{7,1,6},{4,2,1}} sorts on the middle value to {{7,1,6},{4,2,1},{1,3,5}}  \r\n\r\nI thought I could write a similar expression for Arrays.binarySearch where each element (1x3) of the array is compared to a target integer.  Something like:\r\n\r\n    int idx = Arrays.binarySearch(arr, target, (a,b)-&gt;Integer.compare(a[1],b));\r\n\r\nI can&#39;t really use the same comparator as in the sort because they are different types - the search array is an array of `1x3` sized elements and my target is a single integer.  I need to do a binary search.\r\n\r\n","title":"Binary search in 2D array using custorm Comparator","body":"<p>I have a 2D integer array <code>[n][3]</code> and a target value.\nI sort the array using</p>\n<pre><code>Arrays.sort(arr, (a,b)-&gt;Integer.compare(a[1],b[1]));\n</code></pre>\n<p>How can I use <code>Arrays.binarySearch</code> and a custom <strong>comparator</strong> to search arr along index <code>1</code> for a target value?  Something that could replace the following:</p>\n<pre><code>   int binSearch(int[][] arr, int target) {\n      int low=0, high=arr.length-1;\n      while( low &lt; high ) {\n         int mid=(low+high)/2;\n         if( arr[mid][1] == target ) {\n            return i;\n         }    \n         else if( arr[mid][1] &lt; target {\n            low=mid+1;\n         }\n         else {\n            high=mid-1;\n         }\n      }\n      return -(low+1);\n   }\n</code></pre>\n<p><strong>EDIT:</strong> Arrays.sort works how I need it to - my initial array for example {{1,3,5},{7,1,6},{4,2,1}} sorts on the middle value to {{7,1,6},{4,2,1},{1,3,5}}</p>\n<p>I thought I could write a similar expression for Arrays.binarySearch where each element (1x3) of the array is compared to a target integer.  Something like:</p>\n<pre><code>int idx = Arrays.binarySearch(arr, target, (a,b)-&gt;Integer.compare(a[1],b));\n</code></pre>\n<p>I can't really use the same comparator as in the sort because they are different types - the search array is an array of <code>1x3</code> sized elements and my target is a single integer.  I need to do a binary search.</p>\n"},{"tags":["java","libgdx"],"answers":[{"tags":[],"owner":{"account_id":4046223,"reputation":968,"user_id":3327376,"display_name":"Matt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470138565,"creation_date":1470138565,"answer_id":38719642,"question_id":38719468,"body_markdown":"You&#39;ll need to clear the screen between the two render calls. This can be done with the command:\r\n\r\n    Gdx.gl.glClearColor( 1, 0, 0, 1 );\r\n    Gdx.gl.glClear( GL20.GL_COLOR_BUFFER_BIT | GL20.GL_DEPTH_BUFFER_BIT );\r\n(from the libgdx wiki).\r\n\r\nIn an actual game, this is generally done in the render method, before anything is drawn.\r\n\r\nIt is important to note that the &#39;shape&#39; you have created cannot be modified at all, and most programs will shape objects (such as Rectangle) to track attributes, and then use this data in a render method. I would recommend working your way through the &#39;a simple game&#39; tutorial on the libgdx wiki, it shows how a number of common game-related tasks are accomplished using libGDX. [Link to tutorial.][1]\r\n\r\n\r\n  [1]: https://github.com/libgdx/libgdx/wiki/A-simple-game","title":"How do you move shapes in LibGDX?","body":"<p>You'll need to clear the screen between the two render calls. This can be done with the command:</p>\n\n<pre><code>Gdx.gl.glClearColor( 1, 0, 0, 1 );\nGdx.gl.glClear( GL20.GL_COLOR_BUFFER_BIT | GL20.GL_DEPTH_BUFFER_BIT );\n</code></pre>\n\n<p>(from the libgdx wiki).</p>\n\n<p>In an actual game, this is generally done in the render method, before anything is drawn.</p>\n\n<p>It is important to note that the 'shape' you have created cannot be modified at all, and most programs will shape objects (such as Rectangle) to track attributes, and then use this data in a render method. I would recommend working your way through the 'a simple game' tutorial on the libgdx wiki, it shows how a number of common game-related tasks are accomplished using libGDX. <a href=\"https://github.com/libgdx/libgdx/wiki/A-simple-game\" rel=\"nofollow\">Link to tutorial.</a></p>\n"},{"tags":[],"owner":{"account_id":6574060,"reputation":1034,"user_id":5080879,"display_name":"Peter R"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1470138617,"creation_date":1470138617,"answer_id":38719669,"question_id":38719468,"body_markdown":"ShapeRenderer only renders points, lines, &quot;shapes&quot; that you tell it to draw. It doesn&#39;t actually store/create shapes itself. Your code renders a rectangle every time, and if the Left key is pressed will simply draw a 2nd rectangle at slightly different coords.\r\n\r\nIf you simply want to use shapes, look at the libGDX Rectangle class itself (there are also Circle, Ellipse, Polygon classes). You can create a rectangle (assign x/y coords, width/height, etc) and then use the shape renderer to draw that rectangle based on the rectangle&#39;s x/y coords (or width/height/etc). \r\n\r\nThat&#39;s a simplistic solution, but may be all you need","title":"How do you move shapes in LibGDX?","body":"<p>ShapeRenderer only renders points, lines, \"shapes\" that you tell it to draw. It doesn't actually store/create shapes itself. Your code renders a rectangle every time, and if the Left key is pressed will simply draw a 2nd rectangle at slightly different coords.</p>\n\n<p>If you simply want to use shapes, look at the libGDX Rectangle class itself (there are also Circle, Ellipse, Polygon classes). You can create a rectangle (assign x/y coords, width/height, etc) and then use the shape renderer to draw that rectangle based on the rectangle's x/y coords (or width/height/etc). </p>\n\n<p>That's a simplistic solution, but may be all you need</p>\n"},{"tags":[],"owner":{"account_id":21955957,"reputation":1,"user_id":16478936,"display_name":"roker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649727744,"creation_date":1649727744,"answer_id":71836075,"question_id":38719468,"body_markdown":"It&#39;s a very bad option, but it does what you want \r\n      \r\n        ScreenUtils.clear(0, 0, 0.2f, 1);\r\n        //camera.update();\r\n        shapeRenderer.begin(ShapeRenderer.ShapeType.Line);\r\n        shapeRenderer.setColor(Color.GOLD);\r\n        if (Gdx.input.isKeyPressed(Input.Keys.LEFT)) {\r\n            x = x + -1;\r\n            shapeRenderer.rect(x, y, 20, 20);\r\n        }\r\n        if (Gdx.input.isKeyPressed(Keys.RIGHT)){\r\n            x = x + 1;\r\n            shapeRenderer.rect(x, y, 20, 20);\r\n        }\r\n        a = x;\r\n        b = y;\r\n        shapeRenderer.rect(a, y, 20, 20);\r\n        shapeRenderer.end();","title":"How do you move shapes in LibGDX?","body":"<p>It's a very bad option, but it does what you want</p>\n<pre><code>    ScreenUtils.clear(0, 0, 0.2f, 1);\n    //camera.update();\n    shapeRenderer.begin(ShapeRenderer.ShapeType.Line);\n    shapeRenderer.setColor(Color.GOLD);\n    if (Gdx.input.isKeyPressed(Input.Keys.LEFT)) {\n        x = x + -1;\n        shapeRenderer.rect(x, y, 20, 20);\n    }\n    if (Gdx.input.isKeyPressed(Keys.RIGHT)){\n        x = x + 1;\n        shapeRenderer.rect(x, y, 20, 20);\n    }\n    a = x;\n    b = y;\n    shapeRenderer.rect(a, y, 20, 20);\n    shapeRenderer.end();\n</code></pre>\n"}],"owner":{"account_id":2660147,"reputation":311,"user_id":2300049,"accept_rate":88,"display_name":"entropy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1163,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":38719669,"answer_count":3,"score":1,"last_activity_date":1649727744,"creation_date":1470138071,"question_id":38719468,"body_markdown":"I am currently trying to move a shape using an arrow key press in LibGDX. This is what I have so far: \r\n\r\n\t\tshapeRenderer.setColor(Color.BLACK);\r\n\t\tshapeRenderer.begin(ShapeRenderer.ShapeType.Filled);\r\n\t\tshapeRenderer.rect(250,250,20,20);\r\n\t\tif(Gdx.input.isKeyPressed(Input.Keys.LEFT)) {\r\n\t\t\tshapeRenderer.rect(200,250,20,20);\r\n\r\n\t\t}\r\n\t\tshapeRenderer.end()\r\n\r\nHowever it seems to only create a new shape, as opposed to move my old one. Is there a way to move the old one with shapes, or should I be using another class?","title":"How do you move shapes in LibGDX?","body":"<p>I am currently trying to move a shape using an arrow key press in LibGDX. This is what I have so far: </p>\n\n<pre><code>    shapeRenderer.setColor(Color.BLACK);\n    shapeRenderer.begin(ShapeRenderer.ShapeType.Filled);\n    shapeRenderer.rect(250,250,20,20);\n    if(Gdx.input.isKeyPressed(Input.Keys.LEFT)) {\n        shapeRenderer.rect(200,250,20,20);\n\n    }\n    shapeRenderer.end()\n</code></pre>\n\n<p>However it seems to only create a new shape, as opposed to move my old one. Is there a way to move the old one with shapes, or should I be using another class?</p>\n"},{"tags":["java","spring-rest","spring-hateoas","hal-json"],"answers":[{"tags":[],"owner":{"account_id":29841,"reputation":94842,"user_id":80911,"accept_rate":82,"display_name":"Evert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649657492,"creation_date":1649657492,"answer_id":71823339,"question_id":71802689,"body_markdown":"Your format for `_embedded` is wrong.\r\n\r\nEach item in the `listOfObjects` array should itself by a HAL resource. If you can&#39;t fix the output, then your server is broken to a point that a valid HAL parser won&#39;t be able to read it. Your only choice might then be to write your own client, or modify Traverson to support your variation of the format.\r\n\r\nI don&#39;t have a solution for the double-request bug, although I do work on a [different client][1] for javascript that doesn&#39;t have that bug. However, that client *also* won&#39;t be able to parse your JSON format without modification.\r\n\r\n[1]: https://github.com/badgateway/ketting","title":"Should using Traverson for consuming Spring HATEOAS HAL response result in duplicate invocations of the service?","body":"<p>Your format for <code>_embedded</code> is wrong.</p>\n<p>Each item in the <code>listOfObjects</code> array should itself by a HAL resource. If you can't fix the output, then your server is broken to a point that a valid HAL parser won't be able to read it. Your only choice might then be to write your own client, or modify Traverson to support your variation of the format.</p>\n<p>I don't have a solution for the double-request bug, although I do work on a <a href=\"https://github.com/badgateway/ketting\" rel=\"nofollow noreferrer\">different client</a> for javascript that doesn't have that bug. However, that client <em>also</em> won't be able to parse your JSON format without modification.</p>\n"},{"tags":[],"owner":{"account_id":13864691,"reputation":2209,"user_id":10009424,"display_name":"yejianfengblue"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649727642,"creation_date":1649727642,"answer_id":71836059,"question_id":71802689,"body_markdown":"The double request is not a bug. The first request to `http://myapi.rest.com/someEndpoint?offset=40&amp;limit=20` fetches the json response body you posted. Then traverson finds a link path and make the second `get` request if that path exists.","title":"Should using Traverson for consuming Spring HATEOAS HAL response result in duplicate invocations of the service?","body":"<p>The double request is not a bug. The first request to <code>http://myapi.rest.com/someEndpoint?offset=40&amp;limit=20</code> fetches the json response body you posted. Then traverson finds a link path and make the second <code>get</code> request if that path exists.</p>\n"}],"owner":{"account_id":83479,"reputation":2229,"user_id":234037,"accept_rate":70,"display_name":"Seagull"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1649727642,"creation_date":1649448641,"question_id":71802689,"body_markdown":"I have a REST endpoint (like http://myapi.rest.com/someEndpoint?offset=40&amp;limit=20) that vends out HAL JSON response like the following\r\n```json\r\n{\r\n\t&quot;_embedded&quot;: {\r\n\t\t&quot;listOfObjects&quot;: [\r\n\t\t\t{\r\n\t\t\t\t&quot;att1&quot;:&quot;value1&quot;,\r\n                &quot;att2&quot;:&quot;value2&quot;\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\t&quot;_links&quot;: {\r\n\t\t&quot;self&quot;: {\r\n\t\t\t&quot;href&quot;: &quot;http://myapi.rest.com/someEndpoint?offset=40&amp;limit=20&quot;\r\n\t\t},\r\n\t\t&quot;next&quot;: {\r\n\t\t\t&quot;href&quot;: &quot;http://myapi.rest.com/someEndpoint?offset=60&amp;limit=20&quot;\r\n\t\t},\r\n\t\t&quot;prev&quot;: {\r\n\t\t\t&quot;href&quot;: &quot;http://myapi.rest.com/someEndpoint?offset=20&amp;limit=20&quot;\r\n\t\t},\r\n\t\t&quot;last&quot;: {\r\n\t\t\t&quot;href&quot;: &quot;http://myapi.rest.com/someEndpoint?offset=14640&amp;limit=20&quot;\r\n\t\t},\r\n\t\t&quot;first&quot;: {\r\n\t\t\t&quot;href&quot;: &quot;http://myapi.rest.com/someEndpoint?offset=0&amp;limit=20&quot;\r\n\t\t}\r\n\t},\r\n\t&quot;page&quot;: {\r\n\t\t&quot;size&quot;: 20,\r\n\t\t&quot;totalElements&quot;: 14659,\r\n\t\t&quot;totalPages&quot;: 733,\r\n\t\t&quot;number&quot;: 2\r\n\t}\r\n}\r\n```\r\nThe Traverson code that I use to consume this is\r\n```java\r\npublic PagedResources&lt;Resource&lt;SomePojoVO&gt;&gt; getSomePojo(){\r\n        Traverson traverson = new Traverson(URI.create(url), MediaTypes.HAL_JSON);\r\n\r\n        ParameterizedTypeReference&lt;PagedResources&lt;Resource&lt;SomePojoVO&gt;&gt;&gt; pojoVOs =\r\n                new ParameterizedTypeReference&lt;PagedResources&lt;Resource&lt;SomePojoVO&gt;&gt;&gt;() {};\r\n\r\n        return traverson.follow(&quot;$._links.self.href&quot;).toObject(pojoVOs);\r\n}\r\n```\r\nWhen looking at the access logs for `myapi.rest.com`. I notice that two invocations are made. One is when the `Traverson` object is created and the other when `follow()` is invoked. I&#39;ve also tried to do the following\r\n```java\r\ntraverson.follow(&quot;$._embedded&quot;).toObject(pojoVOs);\r\n```\r\nbut I get an `UriSyntaxException` with the message `Illegal character in scheme name at index 0: {` thrown at `TraversonBuilder.traverseToExpandedFinalUrl` where it tries to invoke the code `new UriTemplate(uri)` with `uri` resulting in the value of `_embedded`.\r\n\r\nI feel like I am doing something wrong here, as having to invoke the endpoint twice to try to get `PagedResources&lt;Resource&lt;SomePojoVO&gt;&gt;` seems incorrect.\r\n\r\nDoes anyone have any pointers about what I might be doing wrong here?\r\n\r\nSome other information. I am using Spring HATEOAS v 0.25.2, and I am not able to upgrade at this point. \r\n\r\nThank you for your responses/help. ","title":"Should using Traverson for consuming Spring HATEOAS HAL response result in duplicate invocations of the service?","body":"<p>I have a REST endpoint (like <a href=\"http://myapi.rest.com/someEndpoint?offset=40&amp;limit=20\" rel=\"nofollow noreferrer\">http://myapi.rest.com/someEndpoint?offset=40&amp;limit=20</a>) that vends out HAL JSON response like the following</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;_embedded&quot;: {\n        &quot;listOfObjects&quot;: [\n            {\n                &quot;att1&quot;:&quot;value1&quot;,\n                &quot;att2&quot;:&quot;value2&quot;\n            }\n        ]\n    },\n    &quot;_links&quot;: {\n        &quot;self&quot;: {\n            &quot;href&quot;: &quot;http://myapi.rest.com/someEndpoint?offset=40&amp;limit=20&quot;\n        },\n        &quot;next&quot;: {\n            &quot;href&quot;: &quot;http://myapi.rest.com/someEndpoint?offset=60&amp;limit=20&quot;\n        },\n        &quot;prev&quot;: {\n            &quot;href&quot;: &quot;http://myapi.rest.com/someEndpoint?offset=20&amp;limit=20&quot;\n        },\n        &quot;last&quot;: {\n            &quot;href&quot;: &quot;http://myapi.rest.com/someEndpoint?offset=14640&amp;limit=20&quot;\n        },\n        &quot;first&quot;: {\n            &quot;href&quot;: &quot;http://myapi.rest.com/someEndpoint?offset=0&amp;limit=20&quot;\n        }\n    },\n    &quot;page&quot;: {\n        &quot;size&quot;: 20,\n        &quot;totalElements&quot;: 14659,\n        &quot;totalPages&quot;: 733,\n        &quot;number&quot;: 2\n    }\n}\n</code></pre>\n<p>The Traverson code that I use to consume this is</p>\n<pre class=\"lang-java prettyprint-override\"><code>public PagedResources&lt;Resource&lt;SomePojoVO&gt;&gt; getSomePojo(){\n        Traverson traverson = new Traverson(URI.create(url), MediaTypes.HAL_JSON);\n\n        ParameterizedTypeReference&lt;PagedResources&lt;Resource&lt;SomePojoVO&gt;&gt;&gt; pojoVOs =\n                new ParameterizedTypeReference&lt;PagedResources&lt;Resource&lt;SomePojoVO&gt;&gt;&gt;() {};\n\n        return traverson.follow(&quot;$._links.self.href&quot;).toObject(pojoVOs);\n}\n</code></pre>\n<p>When looking at the access logs for <code>myapi.rest.com</code>. I notice that two invocations are made. One is when the <code>Traverson</code> object is created and the other when <code>follow()</code> is invoked. I've also tried to do the following</p>\n<pre class=\"lang-java prettyprint-override\"><code>traverson.follow(&quot;$._embedded&quot;).toObject(pojoVOs);\n</code></pre>\n<p>but I get an <code>UriSyntaxException</code> with the message <code>Illegal character in scheme name at index 0: {</code> thrown at <code>TraversonBuilder.traverseToExpandedFinalUrl</code> where it tries to invoke the code <code>new UriTemplate(uri)</code> with <code>uri</code> resulting in the value of <code>_embedded</code>.</p>\n<p>I feel like I am doing something wrong here, as having to invoke the endpoint twice to try to get <code>PagedResources&lt;Resource&lt;SomePojoVO&gt;&gt;</code> seems incorrect.</p>\n<p>Does anyone have any pointers about what I might be doing wrong here?</p>\n<p>Some other information. I am using Spring HATEOAS v 0.25.2, and I am not able to upgrade at this point.</p>\n<p>Thank you for your responses/help.</p>\n"},{"tags":["java","javafx","fatal-error","jvm-crash"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1649708272,"post_id":71833692,"comment_id":126940313,"body_markdown":"Can you create a [mcve] which reproduces the issue and put the code in your question rather than an offsite link?  Similarly for the &quot;java problem report&#39;.  (I didn&#39;t click on your links, so I don&#39;t know what is in them).  Also, please include step-by-step reproduction instructions, so that anybody could follow them and get your error.","body":"Can you create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> which reproduces the issue and put the code in your question rather than an offsite link?  Similarly for the &quot;java problem report&#39;.  (I didn&#39;t click on your links, so I don&#39;t know what is in them).  Also, please include step-by-step reproduction instructions, so that anybody could follow them and get your error."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1649708329,"post_id":71833692,"comment_id":126940332,"body_markdown":"I suggest you remove the unused (outdated) JDKs (they are probably not your issue, but it simplifies your environment).","body":"I suggest you remove the unused (outdated) JDKs (they are probably not your issue, but it simplifies your environment)."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1649708474,"post_id":71833692,"comment_id":126940375,"body_markdown":"Does a [new JavaFX project](https://www.jetbrains.com/help/idea/javafx.html) work in your environment? or do you get the same crash?  Also, what kind of Mac is it?  M1 or Intel?","body":"Does a <a href=\"https://www.jetbrains.com/help/idea/javafx.html\" rel=\"nofollow noreferrer\">new JavaFX project</a> work in your environment? or do you get the same crash?  Also, what kind of Mac is it?  M1 or Intel?"},{"owner":{"account_id":24904741,"reputation":11,"user_id":18774972,"display_name":"chriswodkiewicz2002"},"score":0,"creation_date":1649709861,"post_id":71833692,"comment_id":126940754,"body_markdown":"Yes I can create and run a JavaFX project. I actually tested other JavaFX games that worked on VScode as well. My Macbook&#39;s processor is 1.4 GHz Quad-Core Intel Core i5. I will try to delete old JDKs to see if it works. As for the links, I did not have enough characters to fit everything so this is what I had to resort to unfortunately.","body":"Yes I can create and run a JavaFX project. I actually tested other JavaFX games that worked on VScode as well. My Macbook&#39;s processor is 1.4 GHz Quad-Core Intel Core i5. I will try to delete old JDKs to see if it works. As for the links, I did not have enough characters to fit everything so this is what I had to resort to unfortunately."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1649722606,"post_id":71833692,"comment_id":126943372,"body_markdown":"You can edit the question to add more information. Unlike comments, questions aren&#39;t limited in the number of characters you can write.  You don&#39;t need to (and should not) provide your full project code, only the minimum specific executable code that is required to replicate the issue (and yes that may require you do some work to find out what that code is and produce the minimal example).","body":"You can edit the question to add more information. Unlike comments, questions aren&#39;t limited in the number of characters you can write.  You don&#39;t need to (and should not) provide your full project code, only the minimum specific executable code that is required to replicate the issue (and yes that may require you do some work to find out what that code is and produce the minimal example)."},{"owner":{"account_id":24904741,"reputation":11,"user_id":18774972,"display_name":"chriswodkiewicz2002"},"score":0,"creation_date":1649728065,"post_id":71833692,"comment_id":126944324,"body_markdown":"I added more from the log which included the problematic frame. I think the issue in the code that I realized may be the com.sun import. Does a different JDK fix this?","body":"I added more from the log which included the problematic frame. I think the issue in the code that I realized may be the com.sun import. Does a different JDK fix this?"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1649736791,"post_id":71833692,"comment_id":126945597,"body_markdown":"You should not import com.sun. If you want debug help please follow the requests in the prior comments.","body":"You should not import com.sun. If you want debug help please follow the requests in the prior comments."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1649736937,"post_id":71833692,"comment_id":126945617,"body_markdown":"Usually a crash like this means an improperly configured app where you have placed native libraries on your path that do not match the Java binaries on your path.  Or incorrect threading and race conditions. Whether that is your problem, I could not say.","body":"Usually a crash like this means an improperly configured app where you have placed native libraries on your path that do not match the Java binaries on your path.  Or incorrect threading and race conditions. Whether that is your problem, I could not say."}],"owner":{"account_id":24904741,"reputation":11,"user_id":18774972,"display_name":"chriswodkiewicz2002"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2229,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649727263,"creation_date":1649707498,"question_id":71833692,"body_markdown":"I have the following error when running a project and I am unsure how to solve it:\r\n\r\n    #\r\n    # A fatal error has been detected by the Java Runtime Environment:\r\n    #\r\n    #  SIGSEGV (0xb) at pc=0x000000010e109b07, pid=43754, tid=259\r\n    #\r\n    # JRE version: OpenJDK Runtime Environment Zulu18.28+13-CA (18.0+37) (build 18+37)\r\n    # Java VM: OpenJDK 64-Bit Server VM Zulu18.28+13-CA (18+37, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, bsd-amd64)\r\n    # Problematic frame:\r\n    # V  [libjvm.dylib+0x583b07]  jni_NewLocalRef+0x37\r\n    #\r\n    # No core dump will be written. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\r\n    #\r\n    # If you would like to submit a bug report, please visit:\r\n    #   http://www.azul.com/support/\r\n    #\r\n    \r\n    ---------------  S U M M A R Y ------------\r\n    \r\n    Command Line: -javaagent:/Applications/IntelliJ IDEA CE.app/Contents/lib/idea_rt.jar=53987:/Applications/IntelliJ IDEA CE.app/Contents/bin -Dfile.encoding=UTF-8 MainMenu.PirateMenu\r\n    \r\n    Host: &quot;MacBookPro15,4&quot; x86_64 1400 MHz, 8 cores, 8G, Darwin 21.4.0, macOS 10.16 (21E258)\r\n    Time: Mon Apr 11 21:19:22 2022 EDT elapsed time: 10.077687 seconds (0d 0h 0m 10s)\r\n    \r\n    ---------------  T H R E A D  ---------------\r\n    \r\n    Current thread is native thread\r\n    \r\n    Stack: [0x00007ff7b2dda000,0x00007ff7b35da000],  sp=0x00007ff7b35d5e60,  free space=8175k\r\n    Native frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)\r\n    V  [libjvm.dylib+0x583b07]  jni_NewLocalRef+0x37\r\n    C  [libawt_lwawt.dylib+0x29ed0]  -[CGLLayer drawInCGLContext:pixelFormat:forLayerTime:displayTime:]+0x2b0\r\n    C  [QuartzCore+0xc121e]  _ZL17CAOpenGLLayerDrawP13CAOpenGLLayerdPK11CVTimeStampj+0x7dd\r\n    C  [QuartzCore+0xc0863]  -[CAOpenGLLayer _display]+0x249\r\n    C  [QuartzCore+0x20951]  _ZN2CA5Layer17display_if_neededEPNS_11TransactionE+0x369\r\n    C  [QuartzCore+0x177336]  _ZN2CA7Context18commit_transactionEPNS_11TransactionEdPd+0x280\r\n    C  [QuartzCore+0x2231]  _ZN2CA11Transaction6commitEv+0x309\r\n    C  [QuartzCore+0x1ac6d6]  _ZN2CA11Transaction25flush_as_runloop_observerEb+0x80\r\n    C  [CoreFoundation+0x7ee90]  __CFRUNLOOP_IS_CALLING_OUT_TO_AN_OBSERVER_CALLBACK_FUNCTION__+0x17\r\n    C  [CoreFoundation+0x7ed22]  __CFRunLoopDoObservers+0x21f\r\n    C  [CoreFoundation+0x7e2d7]  __CFRunLoopRun+0x46b\r\n    C  [CoreFoundation+0x7d7ac]  CFRunLoopRunSpecific+0x232\r\n    C  [libjli.dylib+0x6be2]  CreateExecutionEnvironment+0x192\r\n    C  [libjli.dylib+0x26b7]  JLI_Launch+0x607\r\n    C  [java+0xc0e]  main+0x19e\r\n    C  0x000000011bf8a51e\r\n    \r\n    \r\n    siginfo: si_signo: 11 (SIGSEGV), si_code: 1 (SEGV_MAPERR), si_addr: 0x0000000000000330\r\n\r\nThe problem occurs when I click the start button in the main menu. A user customization window should be opened, but instead the program crashes. The code, which includes Java and JavaFX, is in this zip file: \r\n&lt;https://app.box.com/s/3b5i78ntp8e7wu0zdl1vqoace30h2vuo&gt;\r\n\r\nHere is the java problem report:\r\n&lt;https://app.box.com/s/pn5cz1ac5hnu0twu89dunxo6kznrfspa&gt;\r\n\r\nMy terminal says I have four JDKs and my current version is zulu 18:\r\n\r\n    Chriss-MacBook-Pro:~ chriswodkiewicz$ /usr/libexec/java_home -V\r\n    Matching Java Virtual Machines (4):\r\n        18 (x86_64) &quot;Azul Systems, Inc.&quot; - &quot;Zulu 18.28.13&quot; /Library/Java/JavaVirtualMachines/zulu-18.jdk/Contents/Home\r\n        16.0.2 (x86_64) &quot;Amazon.com Inc.&quot; - &quot;Amazon Corretto 16&quot; /Users/chriswodkiewicz/Library/Java/JavaVirtualMachines/corretto-16.0.2/Contents/Home\r\n        1.8.0_322 (x86_64) &quot;Amazon&quot; - &quot;Amazon Corretto 8&quot; /Users/chriswodkiewicz/Library/Java/JavaVirtualMachines/corretto-1.8.0_322/Contents/Home\r\n        1.8.0_311 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 8&quot; /Library/Java/JavaVirtualMachines/jdk1.8.0_311.jdk/Contents/Home\r\n    /Library/Java/JavaVirtualMachines/zulu-18.jdk/Contents/Home\r\n    Chriss-MacBook-Pro:~ chriswodkiewicz$ java -version\r\n    openjdk version &quot;18&quot; 2022-03-22\r\n    OpenJDK Runtime Environment Zulu18.28+13-CA (build 18+37)\r\n    OpenJDK 64-Bit Server VM Zulu18.28+13-CA (build 18+37, mixed mode, sharing)\r\n    Chriss-MacBook-Pro:~ chriswodkiewicz$ \r\n\r\nMy friend runs the same exact program successfully with Netbeans 12 and JDK 8 on windows. Unfortunately, I have the same issue even when using this version. On IntelliJ and VScode the problem persists. If anyone knows the solution to this problem it would be greatly appreciated. I am a novice and I want to know the reason behind this so I don&#39;t have similar issues in the future.\r\n\r\n","title":"A fatal error has been detected by the Java Runtime Environment: SIGSEGV (0xb) at pc=0x000000011007db07, pid=28353, tid=259","body":"<p>I have the following error when running a project and I am unsure how to solve it:</p>\n<pre><code>#\n# A fatal error has been detected by the Java Runtime Environment:\n#\n#  SIGSEGV (0xb) at pc=0x000000010e109b07, pid=43754, tid=259\n#\n# JRE version: OpenJDK Runtime Environment Zulu18.28+13-CA (18.0+37) (build 18+37)\n# Java VM: OpenJDK 64-Bit Server VM Zulu18.28+13-CA (18+37, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, bsd-amd64)\n# Problematic frame:\n# V  [libjvm.dylib+0x583b07]  jni_NewLocalRef+0x37\n#\n# No core dump will be written. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\n#\n# If you would like to submit a bug report, please visit:\n#   http://www.azul.com/support/\n#\n\n---------------  S U M M A R Y ------------\n\nCommand Line: -javaagent:/Applications/IntelliJ IDEA CE.app/Contents/lib/idea_rt.jar=53987:/Applications/IntelliJ IDEA CE.app/Contents/bin -Dfile.encoding=UTF-8 MainMenu.PirateMenu\n\nHost: &quot;MacBookPro15,4&quot; x86_64 1400 MHz, 8 cores, 8G, Darwin 21.4.0, macOS 10.16 (21E258)\nTime: Mon Apr 11 21:19:22 2022 EDT elapsed time: 10.077687 seconds (0d 0h 0m 10s)\n\n---------------  T H R E A D  ---------------\n\nCurrent thread is native thread\n\nStack: [0x00007ff7b2dda000,0x00007ff7b35da000],  sp=0x00007ff7b35d5e60,  free space=8175k\nNative frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)\nV  [libjvm.dylib+0x583b07]  jni_NewLocalRef+0x37\nC  [libawt_lwawt.dylib+0x29ed0]  -[CGLLayer drawInCGLContext:pixelFormat:forLayerTime:displayTime:]+0x2b0\nC  [QuartzCore+0xc121e]  _ZL17CAOpenGLLayerDrawP13CAOpenGLLayerdPK11CVTimeStampj+0x7dd\nC  [QuartzCore+0xc0863]  -[CAOpenGLLayer _display]+0x249\nC  [QuartzCore+0x20951]  _ZN2CA5Layer17display_if_neededEPNS_11TransactionE+0x369\nC  [QuartzCore+0x177336]  _ZN2CA7Context18commit_transactionEPNS_11TransactionEdPd+0x280\nC  [QuartzCore+0x2231]  _ZN2CA11Transaction6commitEv+0x309\nC  [QuartzCore+0x1ac6d6]  _ZN2CA11Transaction25flush_as_runloop_observerEb+0x80\nC  [CoreFoundation+0x7ee90]  __CFRUNLOOP_IS_CALLING_OUT_TO_AN_OBSERVER_CALLBACK_FUNCTION__+0x17\nC  [CoreFoundation+0x7ed22]  __CFRunLoopDoObservers+0x21f\nC  [CoreFoundation+0x7e2d7]  __CFRunLoopRun+0x46b\nC  [CoreFoundation+0x7d7ac]  CFRunLoopRunSpecific+0x232\nC  [libjli.dylib+0x6be2]  CreateExecutionEnvironment+0x192\nC  [libjli.dylib+0x26b7]  JLI_Launch+0x607\nC  [java+0xc0e]  main+0x19e\nC  0x000000011bf8a51e\n\n\nsiginfo: si_signo: 11 (SIGSEGV), si_code: 1 (SEGV_MAPERR), si_addr: 0x0000000000000330\n</code></pre>\n<p>The problem occurs when I click the start button in the main menu. A user customization window should be opened, but instead the program crashes. The code, which includes Java and JavaFX, is in this zip file:\n<a href=\"https://app.box.com/s/3b5i78ntp8e7wu0zdl1vqoace30h2vuo\" rel=\"nofollow noreferrer\">https://app.box.com/s/3b5i78ntp8e7wu0zdl1vqoace30h2vuo</a></p>\n<p>Here is the java problem report:\n<a href=\"https://app.box.com/s/pn5cz1ac5hnu0twu89dunxo6kznrfspa\" rel=\"nofollow noreferrer\">https://app.box.com/s/pn5cz1ac5hnu0twu89dunxo6kznrfspa</a></p>\n<p>My terminal says I have four JDKs and my current version is zulu 18:</p>\n<pre><code>Chriss-MacBook-Pro:~ chriswodkiewicz$ /usr/libexec/java_home -V\nMatching Java Virtual Machines (4):\n    18 (x86_64) &quot;Azul Systems, Inc.&quot; - &quot;Zulu 18.28.13&quot; /Library/Java/JavaVirtualMachines/zulu-18.jdk/Contents/Home\n    16.0.2 (x86_64) &quot;Amazon.com Inc.&quot; - &quot;Amazon Corretto 16&quot; /Users/chriswodkiewicz/Library/Java/JavaVirtualMachines/corretto-16.0.2/Contents/Home\n    1.8.0_322 (x86_64) &quot;Amazon&quot; - &quot;Amazon Corretto 8&quot; /Users/chriswodkiewicz/Library/Java/JavaVirtualMachines/corretto-1.8.0_322/Contents/Home\n    1.8.0_311 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 8&quot; /Library/Java/JavaVirtualMachines/jdk1.8.0_311.jdk/Contents/Home\n/Library/Java/JavaVirtualMachines/zulu-18.jdk/Contents/Home\nChriss-MacBook-Pro:~ chriswodkiewicz$ java -version\nopenjdk version &quot;18&quot; 2022-03-22\nOpenJDK Runtime Environment Zulu18.28+13-CA (build 18+37)\nOpenJDK 64-Bit Server VM Zulu18.28+13-CA (build 18+37, mixed mode, sharing)\nChriss-MacBook-Pro:~ chriswodkiewicz$ \n</code></pre>\n<p>My friend runs the same exact program successfully with Netbeans 12 and JDK 8 on windows. Unfortunately, I have the same issue even when using this version. On IntelliJ and VScode the problem persists. If anyone knows the solution to this problem it would be greatly appreciated. I am a novice and I want to know the reason behind this so I don't have similar issues in the future.</p>\n"},{"tags":["java","jsp","jdbc"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1649718093,"post_id":71835141,"comment_id":126942668,"body_markdown":"Look for an exception stack trace","body":"Look for an exception stack trace"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649727105,"creation_date":1649727105,"answer_id":71836015,"question_id":71835141,"body_markdown":"Your code contains 3 mistakes.\r\n\r\n## The most problematic\r\n\r\n&gt; ```java\r\n&gt; } catch (SQLException e) {\r\n&gt;        e.printStackTrace();\r\n&gt;    }\r\n&gt; ```\r\n\r\nDon&#39;t ever do that. Go into your IDE settings and eliminate this template. It should be `throw new RuntimeException(&quot;Unhandled&quot;, e);` instead.\r\n\r\nHere&#39;s what happened: Your SQL statement is erroneous (in two ways, even). This causes an exception. Your code handles this by ignoring it (it&#39;s printed, but, your code finishes normally). Hence, the string result remains blank (because it starts out that way and the code that is supposed to give it its real value never ran, due to the exception that you ignored).\r\n\r\n## Your SQL is broken.\r\n\r\nThe actual explanation is that date literals need to be in quotes, in SQL. Yours is not.\r\n\r\n## But that&#39;s not how you pass parameters into SQL.\r\n\r\nThe bigger issue is that passing _any_ value like this into an SQL means your machine will be hacked in a matter of days. That&#39;s called &#39;SQL injection&#39;. You don&#39;t want it. The solution is preparedstatements, where you let the JDBC driver and/or the database take care of escaping or otherwise passing string data without the SQL db engine trying to interpret it as SQL (Because, obviously, letting arbitrary users type stuff in that your DB engine then treats as SQL means you&#39;re just waiting for someone to construct some SQL such that your db engine ends up executing `DROP TABLE reservation CASCADE; EXECUTE &#39;FORMAT C: /Y&#39;; --`.\r\n\r\n## Minor style nit\r\n\r\nDoing business logic in constructors is a bad idea. The query should be done from `getStringRes`, most likely. That&#39;s also a bit of a crazy method name. Not very informative.\r\n\r\n## Which gets us to...\r\n\r\n```java\r\ntry (Connection conn = DriverManager.getConnection(url + db + options, user, pass);\r\n PreparedStatement statement = conn.prepareStatement(&quot;SELECT reservation.first, .... FROM .... WHERE StartDay &gt;= ?&quot;)) {\r\n\r\n  statement.setString(1, theDate);\r\n  try (ResultSet rs = statement.executeQuery()) {\r\n   ...\r\n  }\r\n} catch (SQLException e) {\r\n  throw new RuntimeException(&quot;unhandled&quot;, e);\r\n}\r\n```\r\n","title":"JSP won&#39;t display string return value","body":"<p>Your code contains 3 mistakes.</p>\n<h2>The most problematic</h2>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>} catch (SQLException e) {\n       e.printStackTrace();\n   }\n</code></pre>\n</blockquote>\n<p>Don't ever do that. Go into your IDE settings and eliminate this template. It should be <code>throw new RuntimeException(&quot;Unhandled&quot;, e);</code> instead.</p>\n<p>Here's what happened: Your SQL statement is erroneous (in two ways, even). This causes an exception. Your code handles this by ignoring it (it's printed, but, your code finishes normally). Hence, the string result remains blank (because it starts out that way and the code that is supposed to give it its real value never ran, due to the exception that you ignored).</p>\n<h2>Your SQL is broken.</h2>\n<p>The actual explanation is that date literals need to be in quotes, in SQL. Yours is not.</p>\n<h2>But that's not how you pass parameters into SQL.</h2>\n<p>The bigger issue is that passing <em>any</em> value like this into an SQL means your machine will be hacked in a matter of days. That's called 'SQL injection'. You don't want it. The solution is preparedstatements, where you let the JDBC driver and/or the database take care of escaping or otherwise passing string data without the SQL db engine trying to interpret it as SQL (Because, obviously, letting arbitrary users type stuff in that your DB engine then treats as SQL means you're just waiting for someone to construct some SQL such that your db engine ends up executing <code>DROP TABLE reservation CASCADE; EXECUTE 'FORMAT C: /Y'; --</code>.</p>\n<h2>Minor style nit</h2>\n<p>Doing business logic in constructors is a bad idea. The query should be done from <code>getStringRes</code>, most likely. That's also a bit of a crazy method name. Not very informative.</p>\n<h2>Which gets us to...</h2>\n<pre class=\"lang-java prettyprint-override\"><code>try (Connection conn = DriverManager.getConnection(url + db + options, user, pass);\n PreparedStatement statement = conn.prepareStatement(&quot;SELECT reservation.first, .... FROM .... WHERE StartDay &gt;= ?&quot;)) {\n\n  statement.setString(1, theDate);\n  try (ResultSet rs = statement.executeQuery()) {\n   ...\n  }\n} catch (SQLException e) {\n  throw new RuntimeException(&quot;unhandled&quot;, e);\n}\n</code></pre>\n"}],"owner":{"account_id":11927886,"reputation":37,"user_id":9358035,"display_name":"ITGirl"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1649727105,"creation_date":1649717271,"question_id":71835141,"body_markdown":"I have a class called &quot;Database&quot; that is working perfectly well.  It queries a database and returns the results as a string.  When I call the class from my &quot;Test&quot; class it returns the results string and I can print it with System.out.println().  \r\n\r\nI&#39;m trying to use this class on a JSP page using the same two lines of code to instantiate the class and get the string output.  When I try to output on the JSP page  I get nothing.  What am I doing wrong?  I&#39;m completely stumped.\r\n\r\nClass Code:    \r\n\r\n\r\n\t\r\n\r\n    public class Database {\r\n\t\r\n\tstatic String[][] reservations = new String[7][20];\r\n\t\r\n\tpublic Database (String theDate) {\r\n\t\tString url = &quot;jdbc:mysql://myurl.com:3306/&quot;;\r\n\t\tString driver = &quot;com.mysql.cj.jdbc.Driver&quot;;\r\n\t\tString user = &quot;myusername&quot;;\r\n\t\tString pass = &quot;mypassword&quot;;\r\n\t\tString db = &quot;class&quot;;\r\n\t\t\r\n\t\tString options = &quot;?useSSL=false&quot;;\r\n\t\t\r\n\t\ttry (Connection conn = DriverManager.getConnection(url + db + options, user, pass);\r\n\t\t\t\tStatement statement = conn.createStatement()) {\r\n\t\t\tString query = &quot;select reservation.first, reservation.last, startday, numberofdays, guides.first as guidefirst, guides.last as guidelast, locations.location from reservation left join guides on reservation.guide = idguides left join locations on reservation.location = idlocations where StartDay &gt;= &quot; + theDate;\r\n\t\t\tResultSet rs = statement.executeQuery(query);\r\n\t\t\tint row = 0;\r\n\t\t\twhile (rs.next()) {\r\n\t\t\t\treservations[0][row] =  rs.getString(&quot;first&quot;);\r\n\t\t\t\treservations[1][row] =  rs.getString(&quot;last&quot;);\r\n\t\t\t\trow++;\r\n\t\t\t\t}\r\n\t\t\trs.close();\r\n\t\t\t\r\n\t\t} catch (SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic String getStringRes () {\r\n\t\t\r\n\t\tString returnString = &quot;&quot;;\r\n\t\t\r\n\t\tfor(int i=0; i&lt;20; i++) {\r\n\t\t\tif (reservations[0][i] != null) {\t\t\t\r\n\t\t\treturnString += i + &quot; &quot; + reservations[0][i];\r\n\t\t\treturnString += &quot; &quot; + reservations[1][i] + &quot;\\n&quot;;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn returnString;\r\n\t} }\r\n\r\n\r\n\r\nJSP Code:\r\n\r\n    &lt;%@ page import=&quot;mypackage.Database&quot; %&gt;\r\n\t&lt;% \r\n\tDatabase db = new Database(&quot;2015-07-01&quot;);\r\n\tString str = db.getStringRes();\r\n\t%&gt;\r\n\t&lt;%= str %&gt;","title":"JSP won&#39;t display string return value","body":"<p>I have a class called &quot;Database&quot; that is working perfectly well.  It queries a database and returns the results as a string.  When I call the class from my &quot;Test&quot; class it returns the results string and I can print it with System.out.println().</p>\n<p>I'm trying to use this class on a JSP page using the same two lines of code to instantiate the class and get the string output.  When I try to output on the JSP page  I get nothing.  What am I doing wrong?  I'm completely stumped.</p>\n<p>Class Code:</p>\n<pre><code>public class Database {\n\nstatic String[][] reservations = new String[7][20];\n\npublic Database (String theDate) {\n    String url = &quot;jdbc:mysql://myurl.com:3306/&quot;;\n    String driver = &quot;com.mysql.cj.jdbc.Driver&quot;;\n    String user = &quot;myusername&quot;;\n    String pass = &quot;mypassword&quot;;\n    String db = &quot;class&quot;;\n    \n    String options = &quot;?useSSL=false&quot;;\n    \n    try (Connection conn = DriverManager.getConnection(url + db + options, user, pass);\n            Statement statement = conn.createStatement()) {\n        String query = &quot;select reservation.first, reservation.last, startday, numberofdays, guides.first as guidefirst, guides.last as guidelast, locations.location from reservation left join guides on reservation.guide = idguides left join locations on reservation.location = idlocations where StartDay &gt;= &quot; + theDate;\n        ResultSet rs = statement.executeQuery(query);\n        int row = 0;\n        while (rs.next()) {\n            reservations[0][row] =  rs.getString(&quot;first&quot;);\n            reservations[1][row] =  rs.getString(&quot;last&quot;);\n            row++;\n            }\n        rs.close();\n        \n    } catch (SQLException e) {\n        e.printStackTrace();\n    }\n}\n\npublic String getStringRes () {\n    \n    String returnString = &quot;&quot;;\n    \n    for(int i=0; i&lt;20; i++) {\n        if (reservations[0][i] != null) {           \n        returnString += i + &quot; &quot; + reservations[0][i];\n        returnString += &quot; &quot; + reservations[1][i] + &quot;\\n&quot;;\n            \n        }\n    }\n    return returnString;\n} }\n</code></pre>\n<p>JSP Code:</p>\n<pre><code>&lt;%@ page import=&quot;mypackage.Database&quot; %&gt;\n&lt;% \nDatabase db = new Database(&quot;2015-07-01&quot;);\nString str = db.getStringRes();\n%&gt;\n&lt;%= str %&gt;\n</code></pre>\n"},{"tags":["java","object","arraylist","processing","lerp"],"answers":[{"tags":[],"owner":{"account_id":20361869,"reputation":2962,"user_id":14936001,"display_name":"cSharp"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649726874,"creation_date":1649726874,"answer_id":71835990,"question_id":71833501,"body_markdown":"\r\n\r\nThere are a few problems in your code: \r\n1. `counter` is global. So **every** brushstroke shares the same counter, meaning that:\r\n\r\n1-1. all the `ellipse`s will have the same color,\r\n\r\n1-2. `counter = counter + 0.01` is being calculated on the same variable, making it fade away super quickly.\r\n\r\n2. `color` and `tempC` are a bit ambiguous in `Brush`. The class variable `tempC` is declared but unused, while you take another `tempC` as an argument.\r\n\r\n3. The value of `c` in `Brush.display &gt; fill(c)` never changes. Once you take `tempC` as the argument, its value used never changes.\r\n\r\nI fixed those problems below:\r\n```\r\nArrayList&lt;Brush&gt; brushList;\r\n\r\nvoid setup() {\r\n\tsize(600, 600);\r\n\tbrushList = new ArrayList&lt;Brush&gt;();\r\n\t\r\n}\r\n\r\n\r\nvoid draw() {\r\n\tbackground(255);\r\n\t\r\n\tfloat counter = 0;\r\n\t\r\n\tfor (Brush brush : brushList) {\r\n\t\tbrush.display();\r\n\t}\r\n\t\r\n\tbrushList.add(new Brush(mouseX, mouseY));\r\n}\r\n\r\n\r\nclass Brush {\r\n\tfloat xpos;\r\n\tfloat ypos;\r\n\tfloat counter;\r\n\t\r\n\tBrush(float tempXpos, float tempYpos) {\r\n\t\txpos = tempXpos;\r\n\t\typos = tempYpos;\r\n\t\tcounter = 0;\r\n\t}\r\n\tvoid display() {\r\n\t\tnoStroke();\r\n\t\tfill(lerpColor(color(0), color(255), counter));\r\n\t\tellipse(xpos, ypos, 50, 50);\r\n\t\tcounter = counter + 0.01;\r\n\t}\r\n}\r\n```","title":"lerpColor on objects with Processing","body":"<p>There are a few problems in your code:</p>\n<ol>\n<li><code>counter</code> is global. So <strong>every</strong> brushstroke shares the same counter, meaning that:</li>\n</ol>\n<p>1-1. all the <code>ellipse</code>s will have the same color,</p>\n<p>1-2. <code>counter = counter + 0.01</code> is being calculated on the same variable, making it fade away super quickly.</p>\n<ol start=\"2\">\n<li><p><code>color</code> and <code>tempC</code> are a bit ambiguous in <code>Brush</code>. The class variable <code>tempC</code> is declared but unused, while you take another <code>tempC</code> as an argument.</p>\n</li>\n<li><p>The value of <code>c</code> in <code>Brush.display &gt; fill(c)</code> never changes. Once you take <code>tempC</code> as the argument, its value used never changes.</p>\n</li>\n</ol>\n<p>I fixed those problems below:</p>\n<pre><code>ArrayList&lt;Brush&gt; brushList;\n\nvoid setup() {\n    size(600, 600);\n    brushList = new ArrayList&lt;Brush&gt;();\n    \n}\n\n\nvoid draw() {\n    background(255);\n    \n    float counter = 0;\n    \n    for (Brush brush : brushList) {\n        brush.display();\n    }\n    \n    brushList.add(new Brush(mouseX, mouseY));\n}\n\n\nclass Brush {\n    float xpos;\n    float ypos;\n    float counter;\n    \n    Brush(float tempXpos, float tempYpos) {\n        xpos = tempXpos;\n        ypos = tempYpos;\n        counter = 0;\n    }\n    void display() {\n        noStroke();\n        fill(lerpColor(color(0), color(255), counter));\n        ellipse(xpos, ypos, 50, 50);\n        counter = counter + 0.01;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4826604,"reputation":833,"user_id":3895938,"accept_rate":61,"display_name":"Cyrill"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71835990,"answer_count":1,"score":0,"last_activity_date":1649726874,"creation_date":1649706329,"question_id":71833501,"body_markdown":"I am currently working on creating a kind of drawing tool with processing, in which black ellipses are drawn with the mouse pointer, which after some time fade away completely to white - i.e. are no longer visible. The whole thing could look like a kind of finger pressure sensor... I already had a first approach which can be found [here][1]. In the second approach (see code below) I used an ArrayList for the ellipses, in connection with PVector - to avoid that all ellipses fade away at the same time, I thought it was necessary to consider the single ellipse as an object, in which the fading away (with lerpColor) is contained. I still can&#39;t get it to work, that &quot;the foremost&quot; ellipse at the mouse pointer always stays black, and further back the ellipses fade away... So, that just every single ellipse fades away separately... What am I missing? Or have I perhaps twisted something in the code? Do I need objects for this?\r\n\r\n\r\n    float counter;\r\n    \r\n    ArrayList&lt;PVector&gt; positionsList;\r\n    \r\n    Brush myBrush;\r\n    \r\n    void setup() {\r\n      size(600, 600);\r\n      positionsList = new ArrayList&lt;PVector&gt;();\r\n    \r\n    }\r\n    \r\n    \r\n    void draw() {\r\n      background(255);\r\n        for (PVector p : positionsList) {\r\n      color from = color(0);\r\n      color to = color(255);\r\n      color faded = lerpColor(from, to, counter);\r\n      myBrush = new Brush(faded, p.x, p.y); \r\n      myBrush.display();\r\n      \r\n    }\r\n    \r\n         positionsList.add(new PVector(mouseX, mouseY));\r\n        }\r\n    \r\n    class Brush {\r\n      color tempC;\r\n      float xpos;\r\n      float ypos;\r\n      color c;\r\n    \r\n      Brush(color tempC, float tempXpos, float tempYpos) {\r\n        c = tempC;\r\n        xpos = tempXpos;\r\n        ypos = tempYpos;\r\n      }\r\n      void display() {\r\n        noStroke();\r\n        fill(c);\r\n        ellipse(xpos, ypos, 50, 50);\r\n        counter = counter + 0.01;\r\n      }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/71798319/create-custom-drawing-tool-with-processing/71811902#71811902","title":"lerpColor on objects with Processing","body":"<p>I am currently working on creating a kind of drawing tool with processing, in which black ellipses are drawn with the mouse pointer, which after some time fade away completely to white - i.e. are no longer visible. The whole thing could look like a kind of finger pressure sensor... I already had a first approach which can be found <a href=\"https://stackoverflow.com/questions/71798319/create-custom-drawing-tool-with-processing/71811902#71811902\">here</a>. In the second approach (see code below) I used an ArrayList for the ellipses, in connection with PVector - to avoid that all ellipses fade away at the same time, I thought it was necessary to consider the single ellipse as an object, in which the fading away (with lerpColor) is contained. I still can't get it to work, that &quot;the foremost&quot; ellipse at the mouse pointer always stays black, and further back the ellipses fade away... So, that just every single ellipse fades away separately... What am I missing? Or have I perhaps twisted something in the code? Do I need objects for this?</p>\n<pre><code>float counter;\n\nArrayList&lt;PVector&gt; positionsList;\n\nBrush myBrush;\n\nvoid setup() {\n  size(600, 600);\n  positionsList = new ArrayList&lt;PVector&gt;();\n\n}\n\n\nvoid draw() {\n  background(255);\n    for (PVector p : positionsList) {\n  color from = color(0);\n  color to = color(255);\n  color faded = lerpColor(from, to, counter);\n  myBrush = new Brush(faded, p.x, p.y); \n  myBrush.display();\n  \n}\n\n     positionsList.add(new PVector(mouseX, mouseY));\n    }\n\nclass Brush {\n  color tempC;\n  float xpos;\n  float ypos;\n  color c;\n\n  Brush(color tempC, float tempXpos, float tempYpos) {\n    c = tempC;\n    xpos = tempXpos;\n    ypos = tempYpos;\n  }\n  void display() {\n    noStroke();\n    fill(c);\n    ellipse(xpos, ypos, 50, 50);\n    counter = counter + 0.01;\n  }\n}\n</code></pre>\n"},{"tags":["java","java-stream","jax-rs","resteasy","querydsl"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1649697474,"post_id":71817305,"comment_id":126936781,"body_markdown":"Will having default values help you out?","body":"Will having default values help you out?"}],"answers":[{"tags":[],"owner":{"account_id":12113278,"reputation":31,"user_id":8848965,"display_name":"kollegah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649726679,"creation_date":1649726679,"answer_id":71835975,"question_id":71817305,"body_markdown":"I passed the parameters from the controller to the facade and did the following using **Querydsl**\r\n\r\n```\r\npublic List&lt;Entity&gt; findAll(Optional&lt;Integer&gt; opId, Optional&lt;String&gt; opName) {\r\n\tfinal QEntity q = QEntity.entity;\r\n\r\n    final BooleanBuilder where = new BooleanBuilder();\r\n\r\n    opId.ifPresent(id -&gt; where.and(q.id.eq(id)));\r\n    opName.ifPresent(name -&gt; where.and(q.name.eq(name)));\r\n\t\t\r\n    return new JPAQuery.where(where).list(q);\r\n}\r\n```","title":"How can i handle multiple combinations of query parameters in a resource class efficiently?","body":"<p>I passed the parameters from the controller to the facade and did the following using <strong>Querydsl</strong></p>\n<pre><code>public List&lt;Entity&gt; findAll(Optional&lt;Integer&gt; opId, Optional&lt;String&gt; opName) {\n    final QEntity q = QEntity.entity;\n\n    final BooleanBuilder where = new BooleanBuilder();\n\n    opId.ifPresent(id -&gt; where.and(q.id.eq(id)));\n    opName.ifPresent(name -&gt; where.and(q.name.eq(name)));\n        \n    return new JPAQuery.where(where).list(q);\n}\n</code></pre>\n"}],"owner":{"account_id":12113278,"reputation":31,"user_id":8848965,"display_name":"kollegah"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71835975,"answer_count":1,"score":0,"last_activity_date":1649726679,"creation_date":1649599261,"question_id":71817305,"body_markdown":"I have the case where i need to write resource classes for our API that take more than four query parameters, and the number of `if else` statements i need to write is equivalent to the cardinality of the power set of all those query parameters, so in case of 4 query parameters, i need to write 16 if else statements, 5 -&gt; 36 etc.\r\n\r\nIs there a better was to do what i am trying to do?\r\n**Stream API** is not a good option since this is an enterprise application and the number of entities is 30000 and more and there are a lot of users using the API and we had `OutOfMemoryError` in the past. \r\n\r\nI am using **Querydsl**, and i can&#39;t pass **null** values to the `eq()` method.","title":"How can i handle multiple combinations of query parameters in a resource class efficiently?","body":"<p>I have the case where i need to write resource classes for our API that take more than four query parameters, and the number of <code>if else</code> statements i need to write is equivalent to the cardinality of the power set of all those query parameters, so in case of 4 query parameters, i need to write 16 if else statements, 5 -&gt; 36 etc.</p>\n<p>Is there a better was to do what i am trying to do?\n<strong>Stream API</strong> is not a good option since this is an enterprise application and the number of entities is 30000 and more and there are a lot of users using the API and we had <code>OutOfMemoryError</code> in the past.</p>\n<p>I am using <strong>Querydsl</strong>, and i can't pass <strong>null</strong> values to the <code>eq()</code> method.</p>\n"},{"tags":["java","oop","netbeans","netbeans-8","netbeans-plugins"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1649726704,"post_id":71835949,"comment_id":126944118,"body_markdown":"Does this answer your question? [how to set default main class in java?](https://stackoverflow.com/questions/1635136/how-to-set-default-main-class-in-java) specifically see this answer https://stackoverflow.com/a/5534598 or https://stackoverflow.com/a/29860099","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1635136/how-to-set-default-main-class-in-java\">how to set default main class in java?</a> specifically see this answer <a href=\"https://stackoverflow.com/a/5534598\">stackoverflow.com/a/5534598</a> or <a href=\"https://stackoverflow.com/a/29860099\">stackoverflow.com/a/29860099</a>"},{"owner":{"account_id":178753,"reputation":1370,"user_id":410939,"display_name":"Alex"},"score":0,"creation_date":1649937736,"post_id":71835949,"comment_id":127003833,"body_markdown":"Show us your maven pom.xml file and folder structure.","body":"Show us your maven pom.xml file and folder structure."}],"owner":{"account_id":22836842,"reputation":1,"user_id":16984477,"display_name":"Bruno"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649726349,"creation_date":1649726349,"question_id":71835949,"body_markdown":"Hello good day this is the first object oriented class, and I throw this error? How do I fix it? Thank you.\r\nERROR\r\n--------------------------------[ jar ]---------------------------------\r\n\r\n--- exec-maven-plugin:3.0.0:exec (default-cli) @ Suma2 ---\r\nError: Could not find or load main class com.mycompany.suma2.suma.SumaMain\r\nCaused by: java.lang.ClassNotFoundException: com.mycompany.suma2.suma.SumaMain\r\nCommand execution failed.\r\n\r\nThere are two codes, here is one\r\n``` import java.util.Scanner;\r\npackage com.mycompany.suma2.suma;\r\n \r\n \r\npublic class SumaMain {\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n         \r\n         \r\n        System.out.println(&quot;Give me the first value &quot;);\r\n        int valueOne=sc.nextInt();\r\n \r\n  System.out.println(&quot;Give me the first value&quot;);\r\n        int valueTwo = sc.nextInt() ;\r\n         \r\n         \r\n        Sum values = new Sum(valueOne, valueTwo){\r\n        values.Print();\r\n    }                    \r\n} \r\n\r\n\r\n```\r\n\r\nHere the other\r\n```     package com.mycompany.sum2.sum;\r\n \r\n \r\n  \r\npublic class Sum {\r\n        private int vOne, vTwo, Result ;\r\n     \r\n    public Sum (int valueOne , int valueTwo ) {\r\n           this.vOne = valueOne ;\r\n        this.VTwo = valueTwo ;\r\n        }   \r\n    public void Operation(){\r\n    Result = vOne +vTwo ;\r\n     \r\n    }\r\n    public void Print(){\r\n        Operation();\r\n        System.out.println(&quot;The result of the sum is : + Result &quot;);\r\n     \r\n    }\r\n}\r\n ```\r\n\r\n","title":"Nbeans cant find or load main class","body":"<p>Hello good day this is the first object oriented class, and I throw this error? How do I fix it? Thank you.\nERROR\n--------------------------------[ jar ]---------------------------------</p>\n<p>--- exec-maven-plugin:3.0.0:exec (default-cli) @ Suma2 ---\nError: Could not find or load main class com.mycompany.suma2.suma.SumaMain\nCaused by: java.lang.ClassNotFoundException: com.mycompany.suma2.suma.SumaMain\nCommand execution failed.</p>\n<p>There are two codes, here is one</p>\n<pre><code>package com.mycompany.suma2.suma;\n \n \npublic class SumaMain {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n         \n         \n        System.out.println(&quot;Give me the first value &quot;);\n        int valueOne=sc.nextInt();\n \n  System.out.println(&quot;Give me the first value&quot;);\n        int valueTwo = sc.nextInt() ;\n         \n         \n        Sum values = new Sum(valueOne, valueTwo){\n        values.Print();\n    }                    \n} \n\n\n</code></pre>\n<p>Here the other</p>\n<pre><code> \n \n  \npublic class Sum {\n        private int vOne, vTwo, Result ;\n     \n    public Sum (int valueOne , int valueTwo ) {\n           this.vOne = valueOne ;\n        this.VTwo = valueTwo ;\n        }   \n    public void Operation(){\n    Result = vOne +vTwo ;\n     \n    }\n    public void Print(){\n        Operation();\n        System.out.println(&quot;The result of the sum is : + Result &quot;);\n     \n    }\n}\n</code></pre>\n"},{"tags":["java","swing","jtable","tablecolumn"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1649727598,"post_id":71835945,"comment_id":126944265,"body_markdown":"The issue might be that you can&#39;t set the minimum width greater than the maximum width. So in the case of increasing the width you would need to do the maximum width first. If not, then post your [mre] demonstrating the problem. Get rid of the custom renderer and the sorter since they should not be relevant to the column width.","body":"The issue might be that you can&#39;t set the minimum width greater than the maximum width. So in the case of increasing the width you would need to do the maximum width first. If not, then post your <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the problem. Get rid of the custom renderer and the sorter since they should not be relevant to the column width."},{"owner":{"account_id":19917567,"reputation":3,"user_id":17995693,"display_name":"Quercus47"},"score":0,"creation_date":1649760240,"post_id":71835945,"comment_id":126952326,"body_markdown":"That was it, thanks. If shrinking, set min, preferred, max, if expanding set max, preferred, min and it works as expected. Thanks.","body":"That was it, thanks. If shrinking, set min, preferred, max, if expanding set max, preferred, min and it works as expected. Thanks."}],"owner":{"account_id":19917567,"reputation":3,"user_id":17995693,"display_name":"Quercus47"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649726318,"creation_date":1649726318,"question_id":71835945,"body_markdown":"I have a JTable where I want to dynamically change the width of one column to a set value and back again based on user input. However, I cannot change the column&#39;s MinWidth, Width and MaxWidth properties.\r\n\r\n    // Declared within the class so it persists during run time\r\n    TableColumn firstColumn;\r\n    \r\nWithin the Initialize method that setups up the console for display\r\n\r\n    JTable cellTable = new JTable(cellDataModel);\r\n    cellTable.setRowSorter(myTableRowSorter);\r\n    cellTable.setDefaultRenderer(Object.class, cellRender);\r\n    cellTable.setAutoResizeMode(JTable.AUTO_RESIZE_OFF);  // Tried both off and on, no difference\r\n    TableColumnModel tcm = cellTable.getColumnModel();\r\n    tcm.getColumn(0).setPreferredWidth(120);\r\n    tcm.getColumn(0).setMinWidth(120);  // This correctly sets the column&#39;s width to 120.\r\n    cellTable.setFillsViewportHeight(true);\r\n    firstColumn = tcm.getColumn(0);\r\n\r\nchkHide is a JCheckBox used to resize the first column.\r\n\r\n\tprivate void chckHideClicked(ActionEvent ae) {\r\n\t\tint width = chkHide.isSelected() ? 80:120;\r\n\t\tSystem.out.println(&quot;Set width to &quot; + Integer.toString(width));\r\n\t\tfirstColumn.setMinWidth(width);\r\n\t\tfirstColumn.setPreferredWidth(width);\r\n\t\tfirstColumn.setMaxWidth(width);\r\n\t\tSystem.out.println(&quot;My width is now &quot; + Integer.toString(firstColumn.getWidth()) + \r\n\t\t\t\t&quot; and minWidth is now &quot; + Integer.toString(firstColumn.getMinWidth()));\r\n\t\tupdateData();  // Forces an update of the table model and table\r\n\t}\r\n\r\nWhen I run the code, the first check of the checkbox reduces the width of the first column from 120 to 80 as expected. However, subsequent clicks of the checkbox have no effect. Using the debugger, I&#39;ve confirmed that setMinWidth(120) has no effect on MinWidth. The console output is:\r\n\r\n    Set width to 80\r\n    My width is now 80 and minWidth is now 80\r\n    Set width to 120\r\n    My width is now 80 and minWidth is now 80\r\n    Set width to 80\r\n    My width is now 80 and minWidth is now 80\r\n    Set width to 120\r\n    My width is now 80 and minWidth is now 80\r\n\r\nNeither the table model nor the cell renderer have any code that explicitly changes the column width. Why won&#39;t the column width update width values?\r\n    \t\t        \r\n","title":"TableColumn MinWidth not changing","body":"<p>I have a JTable where I want to dynamically change the width of one column to a set value and back again based on user input. However, I cannot change the column's MinWidth, Width and MaxWidth properties.</p>\n<pre><code>// Declared within the class so it persists during run time\nTableColumn firstColumn;\n</code></pre>\n<p>Within the Initialize method that setups up the console for display</p>\n<pre><code>JTable cellTable = new JTable(cellDataModel);\ncellTable.setRowSorter(myTableRowSorter);\ncellTable.setDefaultRenderer(Object.class, cellRender);\ncellTable.setAutoResizeMode(JTable.AUTO_RESIZE_OFF);  // Tried both off and on, no difference\nTableColumnModel tcm = cellTable.getColumnModel();\ntcm.getColumn(0).setPreferredWidth(120);\ntcm.getColumn(0).setMinWidth(120);  // This correctly sets the column's width to 120.\ncellTable.setFillsViewportHeight(true);\nfirstColumn = tcm.getColumn(0);\n</code></pre>\n<p>chkHide is a JCheckBox used to resize the first column.</p>\n<pre><code>private void chckHideClicked(ActionEvent ae) {\n    int width = chkHide.isSelected() ? 80:120;\n    System.out.println(&quot;Set width to &quot; + Integer.toString(width));\n    firstColumn.setMinWidth(width);\n    firstColumn.setPreferredWidth(width);\n    firstColumn.setMaxWidth(width);\n    System.out.println(&quot;My width is now &quot; + Integer.toString(firstColumn.getWidth()) + \n            &quot; and minWidth is now &quot; + Integer.toString(firstColumn.getMinWidth()));\n    updateData();  // Forces an update of the table model and table\n}\n</code></pre>\n<p>When I run the code, the first check of the checkbox reduces the width of the first column from 120 to 80 as expected. However, subsequent clicks of the checkbox have no effect. Using the debugger, I've confirmed that setMinWidth(120) has no effect on MinWidth. The console output is:</p>\n<pre><code>Set width to 80\nMy width is now 80 and minWidth is now 80\nSet width to 120\nMy width is now 80 and minWidth is now 80\nSet width to 80\nMy width is now 80 and minWidth is now 80\nSet width to 120\nMy width is now 80 and minWidth is now 80\n</code></pre>\n<p>Neither the table model nor the cell renderer have any code that explicitly changes the column width. Why won't the column width update width values?</p>\n"},{"tags":["java","awt","actionlistener"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1649723190,"post_id":71835629,"comment_id":126943476,"body_markdown":"I think, first, you might want to learn the difference between AWT and Swing (and why you might want to prefer using the latter)","body":"I think, first, you might want to learn the difference between AWT and Swing (and why you might want to prefer using the latter)"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1649726599,"post_id":71835629,"comment_id":126944091,"body_markdown":"There are a few problems as outlined in the fantastic answer from MadProgrammer below, but at the core of it, you simply need to store a Color value/variable in the Board class which you change when a different menu button is pressed.","body":"There are a few problems as outlined in the fantastic answer from MadProgrammer below, but at the core of it, you simply need to store a Color value/variable in the Board class which you change when a different menu button is pressed."},{"owner":{"display_name":"user16879601"},"score":0,"creation_date":1649727235,"post_id":71835629,"comment_id":126944203,"body_markdown":"@sorifiend I figured that was the basic premise. So if i create a variable in the cell class for color, lets say private Color gridcolor = Color.BlACK (being the default) and have the paint method do g.setColor(gridcolor), how do I transfer this over to the MyMenu class to change the variable when the button is pressed. The button code would be something like gridcolor = Color.RED and repaint() right?","body":"@sorifiend I figured that was the basic premise. So if i create a variable in the cell class for color, lets say private Color gridcolor = Color.BlACK (being the default) and have the paint method do g.setColor(gridcolor), how do I transfer this over to the MyMenu class to change the variable when the button is pressed. The button code would be something like gridcolor = Color.RED and repaint() right?"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1649728306,"post_id":71835629,"comment_id":126944360,"body_markdown":"Correct. To make this work we need a reference to your `Board` object so that we can set the colour, for example, to get the reference in your MyMenu class we would create a class variable and set it inside the Board constructor using `this.board = ui.getBoard();`, and obviously we would create a getter method in the UI class that returns the board. then in the action listener you can use `board.setColour(newColour);`. The runnable example from MadProgrammer does this in a more complicated way, but it is also a more correct way that separates the logic and allows future canges.","body":"Correct. To make this work we need a reference to your <code>Board</code> object so that we can set the colour, for example, to get the reference in your MyMenu class we would create a class variable and set it inside the Board constructor using <code>this.board = ui.getBoard();</code>, and obviously we would create a getter method in the UI class that returns the board. then in the action listener you can use <code>board.setColour(newColour);</code>. The runnable example from MadProgrammer does this in a more complicated way, but it is also a more correct way that separates the logic and allows future canges."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1649725945,"creation_date":1649725497,"answer_id":71835867,"question_id":71835629,"body_markdown":"First, you might want to understand the difference between Swing and AWT (and why you might want to prefer the latter)\r\n\r\n* [Understanding the Difference Between AWT And Swing In Java](https://www.codingninjas.com/blog/2021/07/09/difference-between-awt-and-swing-in-java/)\r\n* [Difference between AWT and Swing in Java](https://www.geeksforgeeks.org/difference-between-awt-and-swing-in-java/)\r\n* https://stackoverflow.com/questions/408820/what-is-the-difference-between-swing-and-awt\r\n* [What is the Difference Between AWT and Swing in Java](https://pediaa.com/what-is-the-difference-between-awt-and-swing-in-java/)\r\n* [Difference Between AWT and Swing in Java](https://byjus.com/gate/difference-between-awt-and-swing-java/)\r\n* [Difference between AWT and Swing](https://www.stechies.com/difference-between-awt-swing/)\r\n* [AWT and Swing in Java](https://www.javatpoint.com/awt-and-swing-in-java)\r\n\r\nIf you&#39;re just starting out, you might also consider using JavaFX instead.\r\n\r\nYou will also want to investigate things like:\r\n\r\n* [Dependency Injection](https://www.freecodecamp.org/news/a-quick-intro-to-dependency-injection-what-it-is-and-when-to-use-it-7578c84fa88f/)\r\n* [Composition over inheritance](https://en.wikipedia.org/wiki/Composition_over_inheritance)\r\n* [Liskov substitution principle](https://en.wikipedia.org/wiki/Liskov_substitution_principle)\r\n* [Single Responsibility Principle](https://www.oodesign.com/single-responsibility-principle.html)\r\n\r\nAs this will all effect the way in which you approach designing your solutions to your problems.\r\n\r\nFor example, do you really need to extend from `MenuBar`?  What new functionality are you bringing to the class, which couldn&#39;t be achieved through a [builder](https://www.oodesign.com/builder-pattern.html) or [factory](https://www.oodesign.com/factory-pattern.html) pattern?\r\n\r\nEach individual menu item could also have it&#39;s action handling isolating, so that you&#39;re dealing with single response for each action, rather then, what will become, a messy `if-else` statement in the future (ie [Single Responsibility Principle](https://www.oodesign.com/single-responsibility-principle.html))\r\n\r\nHaving said all that, your basic problem comes down to, providing some way to notify the `Board` that it needs to update the `gridColor` when a menu item is selected.\r\n\r\nThis can be solved through the use a [Observer Pattern](https://www.oodesign.com/observer-pattern.html).  You&#39;ve already used this, `ActionListener` is a implementation of the observer pattern.\r\n\r\nNow, there is no reason for `MyMenu` to have full control over `GUI` (which I&#39;m assuming is some kind `Frame`), it would be better to make some kind of delegate which is responsible for coordinating messaging between the menu bar and the interested party (this can some times be referred to as a controller,  but I&#39;m not going that far).\r\n\r\nThe first thing we need is to define the functionality we&#39;re willing to expose, for example...\r\n    \r\n    public interface BoardConfigurable {\r\n        public void setBoardGridColor(Color color);\r\n    }\r\n\r\nThis is a simple contract for telling the interested party that the board grid color should be changed.\r\n\r\n*(Before some jumps down my throat, we could have a interface called, I don&#39;t, `MyMenuListener`, which then implements `BoardConfigurable` and possibly a bunch of other `interfaces`, which further allows for decoupling of the basic code, but this is what I would consider separating the action handling into isolated units of work - but this is going way beyond what is required right now)*\r\n\r\nWe then update `MyMenu` to accept an instance of this delegate/observer and update the `actionPerformed` method to call it when ever an appropriate action is triggered.\r\n\r\n    public class MyMenu\r\n            extends MenuBar\r\n            implements ActionListener {\r\n        Menu paperMenu;\r\n        MenuItem c1, c2, c3;\r\n        BoardConfigurable boardConfig;\r\n        Cell cell;\r\n\r\n        public MyMenu(BoardConfigurable boardConfig) {\r\n            this.boardConfig = boardConfig;\r\n            this.cell = cell;\r\n            paperMenu = new Menu(&quot;Grid&quot;);\r\n            c1 = new MenuItem(&quot;Red&quot;);\r\n            c2 = new MenuItem(&quot;Green&quot;);\r\n            c3 = new MenuItem(&quot;Random&quot;);\r\n            paperMenu.add(c1);\r\n            paperMenu.add(c2);\r\n            paperMenu.add(c3);\r\n            this.add(paperMenu);\r\n\r\n            c1.addActionListener(this);\r\n            c2.addActionListener(this);\r\n            c3.addActionListener(this);\r\n        }\r\n\r\n        public void actionPerformed(ActionEvent e) {\r\n            if (e.getSource() == c1) {\r\n                boardConfig.setBoardGridColor(Color.RED);\r\n            } else if (e.getSource() == c2) {\r\n                boardConfig.setBoardGridColor(Color.GREEN);\r\n            } else if (e.getSource() == c3) {\r\n                boardConfig.setBoardGridColor(Color.BLUE);\r\n            }\r\n        }\r\n    }\r\n\r\nWe then need to update the `Board` (and `Cell`) to accept this change\r\n\r\n    public class Board extends Canvas {\r\n        private Cell[][] array;\r\n        \r\n        private int rows;\r\n        private int cols;\r\n        private int size;\r\n        \r\n        private Color gridColor = Color.BLACK;\r\n\r\n        public Board(int rows, int cols, int size) {\r\n            this.rows = rows;\r\n            this.cols = cols;\r\n            this.size = size;\r\n            array = new Cell[rows][cols];\r\n            for (int r = 0; r &lt; rows; r++) {\r\n                int y = r * size;\r\n                for (int c = 0; c &lt; cols; c++) {\r\n                    int x = c * size;\r\n                    array[r][c] = new Cell(x, y, size);\r\n                }\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public Dimension getPreferredSize() {\r\n            return new Dimension(cols * size, rows * size);\r\n        }\r\n\r\n        public Color getGridColor() {\r\n            return gridColor;\r\n        }\r\n\r\n        public void setGridColor(Color gridColor) {\r\n            this.gridColor = gridColor;\r\n            repaint();\r\n        }\r\n\r\n        public void draw(Graphics g) {\r\n            for (Cell[] row : array) {\r\n                for (Cell cell : row) {\r\n                    cell.paint(g, getGridColor());\r\n                }\r\n            }\r\n        }\r\n\r\n        public Cell getCell(int r, int c) {\r\n            return array[r][c];\r\n        }\r\n\r\n        public void paint(Graphics g) {\r\n            super.paint(g);\r\n            draw(g);\r\n        }\r\n    }\r\n\r\n\r\n    public class Cell {\r\n        private final int x;\r\n        private final int y;\r\n        private final int size;\r\n\r\n        public Cell(int x, int y, int size) {\r\n            this.x = x;\r\n            this.y = y;\r\n            this.size = size;\r\n        }\r\n\r\n        public void paint(Graphics g, Color gridColor) {\r\n            g.setColor(gridColor);\r\n            g.drawRect(x, y, size, size);\r\n        }\r\n    }\r\n\r\n*note: `Cell` is making use of dependency injection here, as it really doesn&#39;t need to store the color AGAIN.  It&#39;s also possible that the `size` could be passed this way, but, it might be useful for determine if a user clicked this cell or not*\r\n\r\nThen `GUI` needs to implement `BoardConfigurable`...\r\n    \r\n    public class GUI extends Container implements BoardConfigurable {\r\n        private Board board;\r\n        \r\n        public GUI() {\r\n            setLayout(new BorderLayout());\r\n            board = new Board(3, 3, 50);\r\n            \r\n            add(board);\r\n        }\r\n\r\n        @Override\r\n        public void setBoardGridColor(Color color) {\r\n            board.setGridColor(color);\r\n        }\r\n    }\r\n\r\nAnd we can update build and run the UI... \r\n\r\n    GUI gui = new GUI();\r\n    MyMenu menu = new MyMenu(gui);\r\n\r\n    Frame frame = new Frame();\r\n    frame.add(gui);\r\n    frame.setMenuBar(menu);\r\n    frame.pack();\r\n    frame.setLocationRelativeTo(null);\r\n    frame.setVisible(true);\r\n\r\nAn important skill to build is always questioning, &quot;does this really need access to everything I&#39;m passing?&quot;, &quot;what will happen if I want to change the underlying implementation? How much will I need to change to achieve it?&quot;\r\n\r\nThese will help you drive your designs and help build more flexible and decoupled code.\r\n\r\nYou might also want to become fairmular with the [model-view-controller](https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller) concept\r\n\r\n# Runnable example...\r\n\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Canvas;\r\n    import java.awt.Color;\r\n    import java.awt.Container;\r\n    import java.awt.Dimension;\r\n    import java.awt.Frame;\r\n    import java.awt.Graphics;\r\n    import java.awt.Menu;\r\n    import java.awt.MenuBar;\r\n    import java.awt.MenuItem;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            GUI gui = new GUI();\r\n            MyMenu menu = new MyMenu(gui);\r\n\r\n            Frame frame = new Frame();\r\n            frame.add(gui);\r\n            frame.setMenuBar(menu);\r\n            frame.pack();\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setVisible(true);\r\n        }\r\n\r\n        public interface BoardConfigurable {\r\n            public void setBoardGridColor(Color color);\r\n        }\r\n\r\n        public class GUI extends Container implements BoardConfigurable {\r\n            private Board board;\r\n\r\n            public GUI() {\r\n                setLayout(new BorderLayout());\r\n                board = new Board(3, 3, 50);\r\n\r\n                add(board);\r\n            }\r\n\r\n            @Override\r\n            public void setBoardGridColor(Color color) {\r\n                board.setGridColor(color);\r\n            }\r\n        }\r\n\r\n        public class MyMenu\r\n                extends MenuBar\r\n                implements ActionListener {\r\n            Menu paperMenu;\r\n            MenuItem c1, c2, c3;\r\n            BoardConfigurable boardConfig;\r\n            Cell cell;\r\n\r\n            public MyMenu(BoardConfigurable boardConfig) {\r\n                this.boardConfig = boardConfig;\r\n                this.cell = cell;\r\n                paperMenu = new Menu(&quot;Grid&quot;);\r\n                c1 = new MenuItem(&quot;Red&quot;);\r\n                c2 = new MenuItem(&quot;Green&quot;);\r\n                c3 = new MenuItem(&quot;Random&quot;);\r\n                paperMenu.add(c1);\r\n                paperMenu.add(c2);\r\n                paperMenu.add(c3);\r\n                this.add(paperMenu);\r\n\r\n                c1.addActionListener(this);\r\n                c2.addActionListener(this);\r\n                c3.addActionListener(this);\r\n            }\r\n\r\n            public void actionPerformed(ActionEvent e) {\r\n                if (e.getSource() == c1) {\r\n                    boardConfig.setBoardGridColor(Color.RED);\r\n                } else if (e.getSource() == c2) {\r\n                    boardConfig.setBoardGridColor(Color.GREEN);\r\n                } else if (e.getSource() == c3) {\r\n                    boardConfig.setBoardGridColor(Color.BLUE);\r\n                }\r\n            }\r\n        }\r\n\r\n        public class Board extends Canvas {\r\n            private Cell[][] array;\r\n\r\n            private int rows;\r\n            private int cols;\r\n            private int size;\r\n\r\n            private Color gridColor = Color.BLACK;\r\n\r\n            public Board(int rows, int cols, int size) {\r\n                this.rows = rows;\r\n                this.cols = cols;\r\n                this.size = size;\r\n                array = new Cell[rows][cols];\r\n                for (int r = 0; r &lt; rows; r++) {\r\n                    int y = r * size;\r\n                    for (int c = 0; c &lt; cols; c++) {\r\n                        int x = c * size;\r\n                        array[r][c] = new Cell(x, y, size);\r\n                    }\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(cols * size, rows * size);\r\n            }\r\n\r\n            public Color getGridColor() {\r\n                return gridColor;\r\n            }\r\n\r\n            public void setGridColor(Color gridColor) {\r\n                this.gridColor = gridColor;\r\n                repaint();\r\n            }\r\n\r\n            public void draw(Graphics g) {\r\n                for (Cell[] row : array) {\r\n                    for (Cell cell : row) {\r\n                        cell.paint(g, getGridColor());\r\n                    }\r\n                }\r\n            }\r\n\r\n            public Cell getCell(int r, int c) {\r\n                return array[r][c];\r\n            }\r\n\r\n            public void paint(Graphics g) {\r\n                super.paint(g);\r\n                draw(g);\r\n            }\r\n        }\r\n\r\n        public class Cell {\r\n            private final int x;\r\n            private final int y;\r\n            private final int size;\r\n\r\n            public Cell(int x, int y, int size) {\r\n                this.x = x;\r\n                this.y = y;\r\n                this.size = size;\r\n            }\r\n\r\n            public void paint(Graphics g, Color gridColor) {\r\n                g.setColor(gridColor);\r\n                g.drawRect(x, y, size, size);\r\n            }\r\n        }\r\n    }\r\n","title":"How to Make Button that Changes Rectangle Graphics Outline Color upon Press?","body":"<p>First, you might want to understand the difference between Swing and AWT (and why you might want to prefer the latter)</p>\n<ul>\n<li><a href=\"https://www.codingninjas.com/blog/2021/07/09/difference-between-awt-and-swing-in-java/\" rel=\"nofollow noreferrer\">Understanding the Difference Between AWT And Swing In Java</a></li>\n<li><a href=\"https://www.geeksforgeeks.org/difference-between-awt-and-swing-in-java/\" rel=\"nofollow noreferrer\">Difference between AWT and Swing in Java</a></li>\n<li><a href=\"https://stackoverflow.com/questions/408820/what-is-the-difference-between-swing-and-awt\">What is the difference between Swing and AWT?</a></li>\n<li><a href=\"https://pediaa.com/what-is-the-difference-between-awt-and-swing-in-java/\" rel=\"nofollow noreferrer\">What is the Difference Between AWT and Swing in Java</a></li>\n<li><a href=\"https://byjus.com/gate/difference-between-awt-and-swing-java/\" rel=\"nofollow noreferrer\">Difference Between AWT and Swing in Java</a></li>\n<li><a href=\"https://www.stechies.com/difference-between-awt-swing/\" rel=\"nofollow noreferrer\">Difference between AWT and Swing</a></li>\n<li><a href=\"https://www.javatpoint.com/awt-and-swing-in-java\" rel=\"nofollow noreferrer\">AWT and Swing in Java</a></li>\n</ul>\n<p>If you're just starting out, you might also consider using JavaFX instead.</p>\n<p>You will also want to investigate things like:</p>\n<ul>\n<li><a href=\"https://www.freecodecamp.org/news/a-quick-intro-to-dependency-injection-what-it-is-and-when-to-use-it-7578c84fa88f/\" rel=\"nofollow noreferrer\">Dependency Injection</a></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Composition_over_inheritance\" rel=\"nofollow noreferrer\">Composition over inheritance</a></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Liskov_substitution_principle\" rel=\"nofollow noreferrer\">Liskov substitution principle</a></li>\n<li><a href=\"https://www.oodesign.com/single-responsibility-principle.html\" rel=\"nofollow noreferrer\">Single Responsibility Principle</a></li>\n</ul>\n<p>As this will all effect the way in which you approach designing your solutions to your problems.</p>\n<p>For example, do you really need to extend from <code>MenuBar</code>?  What new functionality are you bringing to the class, which couldn't be achieved through a <a href=\"https://www.oodesign.com/builder-pattern.html\" rel=\"nofollow noreferrer\">builder</a> or <a href=\"https://www.oodesign.com/factory-pattern.html\" rel=\"nofollow noreferrer\">factory</a> pattern?</p>\n<p>Each individual menu item could also have it's action handling isolating, so that you're dealing with single response for each action, rather then, what will become, a messy <code>if-else</code> statement in the future (ie <a href=\"https://www.oodesign.com/single-responsibility-principle.html\" rel=\"nofollow noreferrer\">Single Responsibility Principle</a>)</p>\n<p>Having said all that, your basic problem comes down to, providing some way to notify the <code>Board</code> that it needs to update the <code>gridColor</code> when a menu item is selected.</p>\n<p>This can be solved through the use a <a href=\"https://www.oodesign.com/observer-pattern.html\" rel=\"nofollow noreferrer\">Observer Pattern</a>.  You've already used this, <code>ActionListener</code> is a implementation of the observer pattern.</p>\n<p>Now, there is no reason for <code>MyMenu</code> to have full control over <code>GUI</code> (which I'm assuming is some kind <code>Frame</code>), it would be better to make some kind of delegate which is responsible for coordinating messaging between the menu bar and the interested party (this can some times be referred to as a controller,  but I'm not going that far).</p>\n<p>The first thing we need is to define the functionality we're willing to expose, for example...</p>\n<pre><code>public interface BoardConfigurable {\n    public void setBoardGridColor(Color color);\n}\n</code></pre>\n<p>This is a simple contract for telling the interested party that the board grid color should be changed.</p>\n<p><em>(Before some jumps down my throat, we could have a interface called, I don't, <code>MyMenuListener</code>, which then implements <code>BoardConfigurable</code> and possibly a bunch of other <code>interfaces</code>, which further allows for decoupling of the basic code, but this is what I would consider separating the action handling into isolated units of work - but this is going way beyond what is required right now)</em></p>\n<p>We then update <code>MyMenu</code> to accept an instance of this delegate/observer and update the <code>actionPerformed</code> method to call it when ever an appropriate action is triggered.</p>\n<pre><code>public class MyMenu\n        extends MenuBar\n        implements ActionListener {\n    Menu paperMenu;\n    MenuItem c1, c2, c3;\n    BoardConfigurable boardConfig;\n    Cell cell;\n\n    public MyMenu(BoardConfigurable boardConfig) {\n        this.boardConfig = boardConfig;\n        this.cell = cell;\n        paperMenu = new Menu(&quot;Grid&quot;);\n        c1 = new MenuItem(&quot;Red&quot;);\n        c2 = new MenuItem(&quot;Green&quot;);\n        c3 = new MenuItem(&quot;Random&quot;);\n        paperMenu.add(c1);\n        paperMenu.add(c2);\n        paperMenu.add(c3);\n        this.add(paperMenu);\n\n        c1.addActionListener(this);\n        c2.addActionListener(this);\n        c3.addActionListener(this);\n    }\n\n    public void actionPerformed(ActionEvent e) {\n        if (e.getSource() == c1) {\n            boardConfig.setBoardGridColor(Color.RED);\n        } else if (e.getSource() == c2) {\n            boardConfig.setBoardGridColor(Color.GREEN);\n        } else if (e.getSource() == c3) {\n            boardConfig.setBoardGridColor(Color.BLUE);\n        }\n    }\n}\n</code></pre>\n<p>We then need to update the <code>Board</code> (and <code>Cell</code>) to accept this change</p>\n<pre><code>public class Board extends Canvas {\n    private Cell[][] array;\n    \n    private int rows;\n    private int cols;\n    private int size;\n    \n    private Color gridColor = Color.BLACK;\n\n    public Board(int rows, int cols, int size) {\n        this.rows = rows;\n        this.cols = cols;\n        this.size = size;\n        array = new Cell[rows][cols];\n        for (int r = 0; r &lt; rows; r++) {\n            int y = r * size;\n            for (int c = 0; c &lt; cols; c++) {\n                int x = c * size;\n                array[r][c] = new Cell(x, y, size);\n            }\n        }\n    }\n\n    @Override\n    public Dimension getPreferredSize() {\n        return new Dimension(cols * size, rows * size);\n    }\n\n    public Color getGridColor() {\n        return gridColor;\n    }\n\n    public void setGridColor(Color gridColor) {\n        this.gridColor = gridColor;\n        repaint();\n    }\n\n    public void draw(Graphics g) {\n        for (Cell[] row : array) {\n            for (Cell cell : row) {\n                cell.paint(g, getGridColor());\n            }\n        }\n    }\n\n    public Cell getCell(int r, int c) {\n        return array[r][c];\n    }\n\n    public void paint(Graphics g) {\n        super.paint(g);\n        draw(g);\n    }\n}\n\n\npublic class Cell {\n    private final int x;\n    private final int y;\n    private final int size;\n\n    public Cell(int x, int y, int size) {\n        this.x = x;\n        this.y = y;\n        this.size = size;\n    }\n\n    public void paint(Graphics g, Color gridColor) {\n        g.setColor(gridColor);\n        g.drawRect(x, y, size, size);\n    }\n}\n</code></pre>\n<p><em>note: <code>Cell</code> is making use of dependency injection here, as it really doesn't need to store the color AGAIN.  It's also possible that the <code>size</code> could be passed this way, but, it might be useful for determine if a user clicked this cell or not</em></p>\n<p>Then <code>GUI</code> needs to implement <code>BoardConfigurable</code>...</p>\n<pre><code>public class GUI extends Container implements BoardConfigurable {\n    private Board board;\n    \n    public GUI() {\n        setLayout(new BorderLayout());\n        board = new Board(3, 3, 50);\n        \n        add(board);\n    }\n\n    @Override\n    public void setBoardGridColor(Color color) {\n        board.setGridColor(color);\n    }\n}\n</code></pre>\n<p>And we can update build and run the UI...</p>\n<pre><code>GUI gui = new GUI();\nMyMenu menu = new MyMenu(gui);\n\nFrame frame = new Frame();\nframe.add(gui);\nframe.setMenuBar(menu);\nframe.pack();\nframe.setLocationRelativeTo(null);\nframe.setVisible(true);\n</code></pre>\n<p>An important skill to build is always questioning, &quot;does this really need access to everything I'm passing?&quot;, &quot;what will happen if I want to change the underlying implementation? How much will I need to change to achieve it?&quot;</p>\n<p>These will help you drive your designs and help build more flexible and decoupled code.</p>\n<p>You might also want to become fairmular with the <a href=\"https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\" rel=\"nofollow noreferrer\">model-view-controller</a> concept</p>\n<h1>Runnable example...</h1>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Canvas;\nimport java.awt.Color;\nimport java.awt.Container;\nimport java.awt.Dimension;\nimport java.awt.Frame;\nimport java.awt.Graphics;\nimport java.awt.Menu;\nimport java.awt.MenuBar;\nimport java.awt.MenuItem;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        GUI gui = new GUI();\n        MyMenu menu = new MyMenu(gui);\n\n        Frame frame = new Frame();\n        frame.add(gui);\n        frame.setMenuBar(menu);\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n\n    public interface BoardConfigurable {\n        public void setBoardGridColor(Color color);\n    }\n\n    public class GUI extends Container implements BoardConfigurable {\n        private Board board;\n\n        public GUI() {\n            setLayout(new BorderLayout());\n            board = new Board(3, 3, 50);\n\n            add(board);\n        }\n\n        @Override\n        public void setBoardGridColor(Color color) {\n            board.setGridColor(color);\n        }\n    }\n\n    public class MyMenu\n            extends MenuBar\n            implements ActionListener {\n        Menu paperMenu;\n        MenuItem c1, c2, c3;\n        BoardConfigurable boardConfig;\n        Cell cell;\n\n        public MyMenu(BoardConfigurable boardConfig) {\n            this.boardConfig = boardConfig;\n            this.cell = cell;\n            paperMenu = new Menu(&quot;Grid&quot;);\n            c1 = new MenuItem(&quot;Red&quot;);\n            c2 = new MenuItem(&quot;Green&quot;);\n            c3 = new MenuItem(&quot;Random&quot;);\n            paperMenu.add(c1);\n            paperMenu.add(c2);\n            paperMenu.add(c3);\n            this.add(paperMenu);\n\n            c1.addActionListener(this);\n            c2.addActionListener(this);\n            c3.addActionListener(this);\n        }\n\n        public void actionPerformed(ActionEvent e) {\n            if (e.getSource() == c1) {\n                boardConfig.setBoardGridColor(Color.RED);\n            } else if (e.getSource() == c2) {\n                boardConfig.setBoardGridColor(Color.GREEN);\n            } else if (e.getSource() == c3) {\n                boardConfig.setBoardGridColor(Color.BLUE);\n            }\n        }\n    }\n\n    public class Board extends Canvas {\n        private Cell[][] array;\n\n        private int rows;\n        private int cols;\n        private int size;\n\n        private Color gridColor = Color.BLACK;\n\n        public Board(int rows, int cols, int size) {\n            this.rows = rows;\n            this.cols = cols;\n            this.size = size;\n            array = new Cell[rows][cols];\n            for (int r = 0; r &lt; rows; r++) {\n                int y = r * size;\n                for (int c = 0; c &lt; cols; c++) {\n                    int x = c * size;\n                    array[r][c] = new Cell(x, y, size);\n                }\n            }\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(cols * size, rows * size);\n        }\n\n        public Color getGridColor() {\n            return gridColor;\n        }\n\n        public void setGridColor(Color gridColor) {\n            this.gridColor = gridColor;\n            repaint();\n        }\n\n        public void draw(Graphics g) {\n            for (Cell[] row : array) {\n                for (Cell cell : row) {\n                    cell.paint(g, getGridColor());\n                }\n            }\n        }\n\n        public Cell getCell(int r, int c) {\n            return array[r][c];\n        }\n\n        public void paint(Graphics g) {\n            super.paint(g);\n            draw(g);\n        }\n    }\n\n    public class Cell {\n        private final int x;\n        private final int y;\n        private final int size;\n\n        public Cell(int x, int y, int size) {\n            this.x = x;\n            this.y = y;\n            this.size = size;\n        }\n\n        public void paint(Graphics g, Color gridColor) {\n            g.setColor(gridColor);\n            g.drawRect(x, y, size, size);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user16879601"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1649725999,"creation_date":1649722677,"question_id":71835629,"body_markdown":"I am trying to make a button, that upon clicked, changes the grid color of the rectangles I have drawn. \r\n\r\nHere is my drawn grid. I would like the menu items I have under grid, when pressed, change the rectangle outline colors of the drawn grid. I have tried a couple methods, but seem to have trouble implementing it. \r\n[![][1]][1]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FF8ya.jpg\r\n\r\nHere is my Menu Class\r\n ```\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport javax.swing.*;\r\npublic class MyMenu\r\nextends MenuBar\r\nimplements ActionListener {\r\n    Menu paperMenu;\r\n    MenuItem c1, c2, c3;\r\n    GUI gui;\r\n    Cell cell;\r\n    \r\n    public MyMenu(GUI gui) {\r\n       this.gui = gui;\r\n       this.cell = cell;\r\n       paperMenu = new Menu(&quot;Grid&quot;);\r\n       c1 = new MenuItem(&quot;Red&quot;);\r\n       c2 = new MenuItem(&quot;Green&quot;);\r\n       c3 = new MenuItem(&quot;Random&quot;);\r\n       paperMenu.add(c1);\r\n       paperMenu.add(c2); \r\n       paperMenu.add(c3);\r\n       this.add(paperMenu);\r\n       \r\n       c1.addActionListener(this);\r\n       c2.addActionListener(this);\r\n       c3.addActionListener(this);\r\n    }\r\n    \r\n    \r\n    public void actionPerformed(ActionEvent e) {\r\n        \r\n        if (e.getSource()==c1) {\r\n            \r\n        }\r\n    } \r\n}\r\n ```\r\nHere is my Board class\r\n```\r\nimport java.awt.Canvas;\r\nimport java.awt.Graphics;\r\nimport java.awt.Color;\r\nimport java.awt.*;\r\n\r\n\r\npublic class Board\r\nextends Canvas {\r\n    private Cell[][] array;\r\n\r\n    public Board(int rows, int cols, int size) {\r\n        array = new Cell[rows][cols];\r\n        for (int r = 0; r &lt; rows; r++) {\r\n            int y = r * size;\r\n            for (int c = 0; c &lt; cols; c++) {\r\n                int x = c * size;\r\n                array[r][c] = new Cell(x, y, size);\r\n            }   \r\n        }\r\n        setSize(cols*size,rows*size);\r\n\r\n    }\r\n    \r\n    public void draw(Graphics g) {\r\n        for (Cell[] row : array) {\r\n            for (Cell cell : row) {\r\n                cell.paint(g);\r\n            }\r\n        }\r\n    }\r\n    \r\n    public Cell getCell(int r, int c) {\r\n        return array[r][c];\r\n    }\r\n    \r\n    public void paint(Graphics g) {\r\n        draw(g);\r\n    }\r\n}\r\n```\r\n\r\nAnd Finally, here is my Cell Class\r\n ```\r\nimport java.awt.Color;\r\nimport java.awt.Graphics;\r\nimport java.awt.*;\r\n\r\npublic class Cell\r\n{\r\n    private final int x;\r\n    private final int y;\r\n    private final int size;\r\n    int rows;\r\n    int cols;\r\n    Cell[][] array = new Cell[rows][cols];\r\n    public Color currentcolor = Color.BLACK;\r\n    public Cell(int x, int y, int size) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.size = size;\r\n    }\r\n    \r\n    public void fillArray() {\r\n        for (int r = 0; r &lt; rows; r++) {\r\n            int y = r * size;\r\n            for (int c = 0; c &lt; cols; c++) {\r\n                int x = c * size;\r\n                array[r][c] = new Cell(x, y, size);\r\n            }\r\n        }\r\n    }\r\n    \r\n    \r\n    public void paint(Graphics g) {\r\n        g.setColor(Color.BLACK);\r\n        g.drawRect(x, y, size, size);\r\n    }\r\n}\r\n ```\r\nI obviously need to make it, so when the button is pressed, the g.setColor under the Cell class and paint method is changed and then repainted, but I am unsure on how to do this?\r\n","title":"How to Make Button that Changes Rectangle Graphics Outline Color upon Press?","body":"<p>I am trying to make a button, that upon clicked, changes the grid color of the rectangles I have drawn.</p>\n<p>Here is my drawn grid. I would like the menu items I have under grid, when pressed, change the rectangle outline colors of the drawn grid. I have tried a couple methods, but seem to have trouble implementing it.\n<a href=\"https://i.stack.imgur.com/FF8ya.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FF8ya.jpg\" alt=\"\" /></a></p>\n<p>Here is my Menu Class</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\npublic class MyMenu\nextends MenuBar\nimplements ActionListener {\n   Menu paperMenu;\n   MenuItem c1, c2, c3;\n   GUI gui;\n   Cell cell;\n   \n   public MyMenu(GUI gui) {\n      this.gui = gui;\n      this.cell = cell;\n      paperMenu = new Menu(&quot;Grid&quot;);\n      c1 = new MenuItem(&quot;Red&quot;);\n      c2 = new MenuItem(&quot;Green&quot;);\n      c3 = new MenuItem(&quot;Random&quot;);\n      paperMenu.add(c1);\n      paperMenu.add(c2); \n      paperMenu.add(c3);\n      this.add(paperMenu);\n      \n      c1.addActionListener(this);\n      c2.addActionListener(this);\n      c3.addActionListener(this);\n   }\n   \n   \n   public void actionPerformed(ActionEvent e) {\n       \n       if (e.getSource()==c1) {\n           \n       }\n   } \n}\n</code></pre>\n<p>Here is my Board class</p>\n<pre><code>import java.awt.Canvas;\nimport java.awt.Graphics;\nimport java.awt.Color;\nimport java.awt.*;\n\n\npublic class Board\nextends Canvas {\n    private Cell[][] array;\n\n    public Board(int rows, int cols, int size) {\n        array = new Cell[rows][cols];\n        for (int r = 0; r &lt; rows; r++) {\n            int y = r * size;\n            for (int c = 0; c &lt; cols; c++) {\n                int x = c * size;\n                array[r][c] = new Cell(x, y, size);\n            }   \n        }\n        setSize(cols*size,rows*size);\n\n    }\n    \n    public void draw(Graphics g) {\n        for (Cell[] row : array) {\n            for (Cell cell : row) {\n                cell.paint(g);\n            }\n        }\n    }\n    \n    public Cell getCell(int r, int c) {\n        return array[r][c];\n    }\n    \n    public void paint(Graphics g) {\n        draw(g);\n    }\n}\n</code></pre>\n<p>And Finally, here is my Cell Class</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Graphics;\nimport java.awt.*;\n\npublic class Cell\n{\n   private final int x;\n   private final int y;\n   private final int size;\n   int rows;\n   int cols;\n   Cell[][] array = new Cell[rows][cols];\n   public Color currentcolor = Color.BLACK;\n   public Cell(int x, int y, int size) {\n       this.x = x;\n       this.y = y;\n       this.size = size;\n   }\n   \n   public void fillArray() {\n       for (int r = 0; r &lt; rows; r++) {\n           int y = r * size;\n           for (int c = 0; c &lt; cols; c++) {\n               int x = c * size;\n               array[r][c] = new Cell(x, y, size);\n           }\n       }\n   }\n   \n   \n   public void paint(Graphics g) {\n       g.setColor(Color.BLACK);\n       g.drawRect(x, y, size, size);\n   }\n}\n</code></pre>\n<p>I obviously need to make it, so when the button is pressed, the g.setColor under the Cell class and paint method is changed and then repainted, but I am unsure on how to do this?</p>\n"},{"tags":["java","javafx","media-player"],"comments":[{"owner":{"account_id":1193459,"reputation":3979,"user_id":1165724,"display_name":"swpalmer"},"score":1,"creation_date":1649627057,"post_id":71820204,"comment_id":126917543,"body_markdown":"It is worth trying with JavaFX 18.  Perhaps this  particular problem may have been fixed (indirectly) by https://bugs.openjdk.java.net/browse/JDK-8253351","body":"It is worth trying with JavaFX 18.  Perhaps this  particular problem may have been fixed (indirectly) by <a href=\"https://bugs.openjdk.java.net/browse/JDK-8253351\" rel=\"nofollow noreferrer\">bugs.openjdk.java.net/browse/JDK-8253351</a>"},{"owner":{"account_id":23844139,"reputation":63,"user_id":17848840,"display_name":"harharprogrammer"},"score":0,"creation_date":1649627704,"post_id":71820204,"comment_id":126917647,"body_markdown":"@swpalmer Hi, I went ahead and tested the program with Javafx 18 and Javafx 19-ea+4. The problem was not fixed, the error remains the same. Thanks for your suggestion tho!","body":"@swpalmer Hi, I went ahead and tested the program with Javafx 18 and Javafx 19-ea+4. The problem was not fixed, the error remains the same. Thanks for your suggestion tho!"},{"owner":{"account_id":1193459,"reputation":3979,"user_id":1165724,"display_name":"swpalmer"},"score":2,"creation_date":1649633949,"post_id":71820204,"comment_id":126918621,"body_markdown":"Time to file a bug against JavaFX then. I assume other media players don&#39;t stop when you disconnect the bluetooth headphones?","body":"Time to file a bug against JavaFX then. I assume other media players don&#39;t stop when you disconnect the bluetooth headphones?"},{"owner":{"account_id":23844139,"reputation":63,"user_id":17848840,"display_name":"harharprogrammer"},"score":0,"creation_date":1649634242,"post_id":71820204,"comment_id":126918666,"body_markdown":"@swpalmer I think they do stop, the sound stops playing and the status of the MediaPlayer is set to &quot;Halted&quot;.","body":"@swpalmer I think they do stop, the sound stops playing and the status of the MediaPlayer is set to &quot;Halted&quot;."},{"owner":{"account_id":1193459,"reputation":3979,"user_id":1165724,"display_name":"swpalmer"},"score":2,"creation_date":1649635252,"post_id":71820204,"comment_id":126918803,"body_markdown":"Then perhaps it isn&#39;t a bug exactly and you will have to work around it by manually restarting when you detect it is halted.","body":"Then perhaps it isn&#39;t a bug exactly and you will have to work around it by manually restarting when you detect it is halted."},{"owner":{"account_id":23844139,"reputation":63,"user_id":17848840,"display_name":"harharprogrammer"},"score":0,"creation_date":1649661530,"post_id":71820204,"comment_id":126923191,"body_markdown":"@swpalmer Okay, I&#39;ve attempted to fix the problem by creating a backup of the Duration before the musicPlayer crashes. For whatever reason, when I create the new MusicPlayer and then try to seek to the durationBackup, the MusicPlayer which I create still starts from the beginning! I cannot find out why. I have added my new code above in the section &quot;New JavaFxMediaPlayer Fix Attempt (Seek not working)&quot;.","body":"@swpalmer Okay, I&#39;ve attempted to fix the problem by creating a backup of the Duration before the musicPlayer crashes. For whatever reason, when I create the new MusicPlayer and then try to seek to the durationBackup, the MusicPlayer which I create still starts from the beginning! I cannot find out why. I have added my new code above in the section &quot;New JavaFxMediaPlayer Fix Attempt (Seek not working)&quot;."},{"owner":{"account_id":1193459,"reputation":3979,"user_id":1165724,"display_name":"swpalmer"},"score":1,"creation_date":1649688384,"post_id":71820204,"comment_id":126933433,"body_markdown":"Perhaps try mediaPlayer.setStartTime(Duration) instead?","body":"Perhaps try mediaPlayer.setStartTime(Duration) instead?"},{"owner":{"account_id":23844139,"reputation":63,"user_id":17848840,"display_name":"harharprogrammer"},"score":0,"creation_date":1649720351,"post_id":71820204,"comment_id":126943027,"body_markdown":"@swpalmer Hi, I went ahead and tried that. It worked great until I realized that by setting the StartTime of the mediaPlayer you also change the total duration. For example, if you have a 2 hour song, and you set the StartTime to 1 hr, if you were to use the .getTotalDuration() on the MediaPlayer object it would return 1hr rather than 2hrs. This in return also prevents me from going back to the beginning of the song too which won&#39;t work for me. Any ideas on how to solve this?","body":"@swpalmer Hi, I went ahead and tried that. It worked great until I realized that by setting the StartTime of the mediaPlayer you also change the total duration. For example, if you have a 2 hour song, and you set the StartTime to 1 hr, if you were to use the .getTotalDuration() on the MediaPlayer object it would return 1hr rather than 2hrs. This in return also prevents me from going back to the beginning of the song too which won&#39;t work for me. Any ideas on how to solve this?"},{"owner":{"account_id":23844139,"reputation":63,"user_id":17848840,"display_name":"harharprogrammer"},"score":0,"creation_date":1649720430,"post_id":71820204,"comment_id":126943037,"body_markdown":"@swpalmer I tried using the .setOnReady() method to seek to my durationBackup, but it still just played the song from the beginning instead.","body":"@swpalmer I tried using the .setOnReady() method to seek to my durationBackup, but it still just played the song from the beginning instead."},{"owner":{"account_id":1193459,"reputation":3979,"user_id":1165724,"display_name":"swpalmer"},"score":1,"creation_date":1649722120,"post_id":71820204,"comment_id":126943283,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/243802/discussion-between-swpalmer-and-harharprogrammer).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/243802/discussion-between-swpalmer-and-harharprogrammer\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":1193459,"reputation":3979,"user_id":1165724,"display_name":"swpalmer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1649725977,"creation_date":1649725977,"answer_id":71835910,"question_id":71820204,"body_markdown":"The problem with your recovery is that you are seeking too soon. The docs for seek state that it does nothing while the media player is stopped, but you aren&#39;t waiting for the state to change after calling play().\r\n\r\nTry this:\r\n\r\n        mediaPlayer.setOnError( () -&gt; {\r\n                mediaPlayer = new MediaPlayer(media);\r\n                System.out.println(durationBackup.toMillis());\r\n                mediaPlayer.setOnPlaying(() -&gt;{\r\n                    mediaPlayer.seek(durationBackup);\r\n                    mediaPlayer.setOnPlaying(null);\r\n                });\r\n                mediaPlayer.play();\r\n        });","title":"Javafx MediaPlayer runs into error whenever you disconnect bluetooth headphones","body":"<p>The problem with your recovery is that you are seeking too soon. The docs for seek state that it does nothing while the media player is stopped, but you aren't waiting for the state to change after calling play().</p>\n<p>Try this:</p>\n<pre><code>    mediaPlayer.setOnError( () -&gt; {\n            mediaPlayer = new MediaPlayer(media);\n            System.out.println(durationBackup.toMillis());\n            mediaPlayer.setOnPlaying(() -&gt;{\n                mediaPlayer.seek(durationBackup);\n                mediaPlayer.setOnPlaying(null);\n            });\n            mediaPlayer.play();\n    });\n</code></pre>\n"}],"owner":{"account_id":23844139,"reputation":63,"user_id":17848840,"display_name":"harharprogrammer"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71835910,"answer_count":1,"score":0,"last_activity_date":1649725977,"creation_date":1649621541,"question_id":71820204,"body_markdown":"I have a highschool capstone where I must create a music player which plays music. However, whenever I connect my bluetooth headphones(airpods or musicozy) and then disconnect them, the MediaPlayer halts and an error is produced. I&#39;ve searched on the internet for an answer but am unable to find one. If someone could help me that would be great! I&#39;m using Javafx 17.0.2 and JDK 11.\r\n\r\nHere&#39;s a mini reproducible example below.\r\n\r\n# JavaFxMediaPlayer #\r\n```\r\npackage apprunner;\r\n\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.net.MalformedURLException;\r\nimport javafx.application.Application;\r\nimport static javafx.application.Application.launch;\r\nimport javafx.event.Event;\r\nimport javafx.event.EventHandler;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.media.Media;\r\nimport javafx.scene.media.MediaPlayer;\r\nimport javafx.stage.Stage;\r\n\r\npublic class JavaFxMediaPlayer extends Application {\r\n\r\n    public static void main(String[] args) throws MalformedURLException, IOException {\r\n        launch(args);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage stage) throws Exception {\r\n        stage.setTitle(&quot;My&quot;);\r\n        Button button = new Button(&quot;Play Song&quot;);\r\n        Scene scene = new Scene(button, 200, 100);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n        File file = new File(&quot;C:\\\\Users\\\\John Doe\\\\OneDrive\\\\Desktop\\\\YourLieInAprilTest\\\\Mp3Test.mp3&quot;);\r\n        String path = file.toURI().toASCIIString();\r\n        Media media = new Media(path);\r\n        MediaPlayer mediaPlayer = new MediaPlayer(media);\r\n        button.setOnAction(new EventHandler() {\r\n            @Override\r\n            public void handle(Event arg0) {\r\n                mediaPlayer.stop();\r\n                mediaPlayer.play();\r\n            }\r\n        });\r\n        Runnable printStackTrace = new Runnable() {\r\n            public void run() {\r\n                mediaPlayer.getError().getMessage();\r\n                mediaPlayer.getError().printStackTrace();\r\n            }\r\n        };\r\n        mediaPlayer.setOnError(printStackTrace);\r\n\r\n    }\r\n}\r\n```\r\n# module-info #\r\n```\r\nmodule MotisHarmony {\r\n    requires javafx.swt;\r\n    requires javafx.base;\r\n    requires javafx.controls;\r\n    requires javafx.fxml;\r\n    requires javafx.graphics;\r\n    requires javafx.media;\r\n    requires javafx.swing;\r\n    requires javafx.web;\r\n    exports mediaplayerjavafx;\r\n    opens mediaplayerjavafx to javafx.graphics;\r\n}\r\n```\r\n# Error Produced #\r\n```\r\nMediaException: PLAYBACK_HALTED : IDirectSoundBuffer_GetStatus The operation completed successfully.\r\n, IDirectSoundBuffer_GetCurrentPosition: The operation completed successfully.\r\n, dwStatus: 0\r\n\tat javafx.media/javafx.scene.media.MediaException.haltException(MediaException.java:150)\r\n\tat javafx.media/javafx.scene.media.MediaPlayer$_PlayerStateListener.lambda$onHalt$7(MediaPlayer.java:2566)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\r\n\tat javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n```\r\n\r\n# New JavaFxMediaPlayer Fix Attempt (Seek not working) #\r\n```\r\npackage apprunner;\r\n\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.net.MalformedURLException;\r\nimport javafx.application.Application;\r\nimport static javafx.application.Application.launch;\r\nimport javafx.beans.InvalidationListener;\r\nimport javafx.beans.Observable;\r\nimport javafx.event.Event;\r\nimport javafx.event.EventHandler;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.media.Media;\r\nimport javafx.scene.media.MediaPlayer;\r\nimport javafx.stage.Stage;\r\nimport javafx.util.Duration;\r\n\r\npublic class AppRunner extends Application {\r\n\r\n    public Duration durationBackup = null;\r\n\r\n    MediaPlayer mediaPlayer;\r\n\r\n    public static void main(String[] args) throws MalformedURLException, IOException {\r\n        launch(args);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage stage) throws Exception {\r\n        stage.setTitle(&quot;My&quot;);\r\n        Button button = new Button(&quot;Play Song&quot;);\r\n        Scene scene = new Scene(button, 200, 100);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n        File file = new File(&quot;C:\\\\Users\\\\John Doe\\\\OneDrive\\\\Desktop\\\\YourLieInAprilTest\\\\Mp3Test.mp3&quot;);\r\n        String path = file.toURI().toASCIIString();\r\n        Media media = new Media(path);\r\n        mediaPlayer = new MediaPlayer(media);\r\n        button.setOnAction(new EventHandler() {\r\n            @Override\r\n            public void handle(Event arg0) {\r\n                mediaPlayer.stop();\r\n                mediaPlayer.play();\r\n            }\r\n        });\r\n        mediaPlayer.currentTimeProperty().addListener(new InvalidationListener() {\r\n            public void invalidated(Observable ov) {\r\n                //Here we keep a backup of the current duration of the song just incase the mediaPlayer crashes, which it does everytime you disconnect a bluetooth headset for some reason\r\n                durationBackup = mediaPlayer.getCurrentTime();\r\n            }\r\n        });\r\n        //Here I try to create a new MediaPlayer and go to the last position we were at before the mediaPlayer halted\r\n        Runnable attemptToResetMediaPlayer = new Runnable() {\r\n            public void run() {\r\n                mediaPlayer = new MediaPlayer(media);\r\n                mediaPlayer.play();\r\n                System.out.println(durationBackup.toMillis());\r\n                mediaPlayer.seek(durationBackup);\r\n            }\r\n        };\r\n        mediaPlayer.setOnError(attemptToResetMediaPlayer);\r\n    }\r\n}\r\n```\r\n\r\n## How to recreate bug ##\r\n- First you must connect your bluetooth headphones to your laptop/computer\r\n- Then you must run the mini reproducible example above\r\n- Then you must click on the &quot;Play Song&quot; button which appears\r\n- Then when the song is playing, disconnect your bluetooth headphones\r\n- The mediaPlayer will halt and the error message and its stack trace will be printed\r\n# Extra Information #\r\n\r\n&gt; Link to the Mp3 file I used to test. https://drive.google.com/file/d/1CvAafbMviQ7nvKyojnem9GK73LJsD6MJ/view?usp=sharing\r\n\r\n&gt; I am using JDK 11 and Javafx 17.0.2\r\n\r\n&gt; System Type: 64-bit operating system, x64-based processor\r\n\r\n&gt; Processor: Intel(R) Core(TM) i7-7700HQ CPU @ 2.80GHz 2.81 GHz\r\n\r\n&gt; Windows Edition: Windows 10 Home","title":"Javafx MediaPlayer runs into error whenever you disconnect bluetooth headphones","body":"<p>I have a highschool capstone where I must create a music player which plays music. However, whenever I connect my bluetooth headphones(airpods or musicozy) and then disconnect them, the MediaPlayer halts and an error is produced. I've searched on the internet for an answer but am unable to find one. If someone could help me that would be great! I'm using Javafx 17.0.2 and JDK 11.</p>\n<p>Here's a mini reproducible example below.</p>\n<h1>JavaFxMediaPlayer</h1>\n<pre><code>package apprunner;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.net.MalformedURLException;\nimport javafx.application.Application;\nimport static javafx.application.Application.launch;\nimport javafx.event.Event;\nimport javafx.event.EventHandler;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.media.Media;\nimport javafx.scene.media.MediaPlayer;\nimport javafx.stage.Stage;\n\npublic class JavaFxMediaPlayer extends Application {\n\n    public static void main(String[] args) throws MalformedURLException, IOException {\n        launch(args);\n\n    }\n\n    @Override\n    public void start(Stage stage) throws Exception {\n        stage.setTitle(&quot;My&quot;);\n        Button button = new Button(&quot;Play Song&quot;);\n        Scene scene = new Scene(button, 200, 100);\n        stage.setScene(scene);\n        stage.show();\n        File file = new File(&quot;C:\\\\Users\\\\John Doe\\\\OneDrive\\\\Desktop\\\\YourLieInAprilTest\\\\Mp3Test.mp3&quot;);\n        String path = file.toURI().toASCIIString();\n        Media media = new Media(path);\n        MediaPlayer mediaPlayer = new MediaPlayer(media);\n        button.setOnAction(new EventHandler() {\n            @Override\n            public void handle(Event arg0) {\n                mediaPlayer.stop();\n                mediaPlayer.play();\n            }\n        });\n        Runnable printStackTrace = new Runnable() {\n            public void run() {\n                mediaPlayer.getError().getMessage();\n                mediaPlayer.getError().printStackTrace();\n            }\n        };\n        mediaPlayer.setOnError(printStackTrace);\n\n    }\n}\n</code></pre>\n<h1>module-info</h1>\n<pre><code>module MotisHarmony {\n    requires javafx.swt;\n    requires javafx.base;\n    requires javafx.controls;\n    requires javafx.fxml;\n    requires javafx.graphics;\n    requires javafx.media;\n    requires javafx.swing;\n    requires javafx.web;\n    exports mediaplayerjavafx;\n    opens mediaplayerjavafx to javafx.graphics;\n}\n</code></pre>\n<h1>Error Produced</h1>\n<pre><code>MediaException: PLAYBACK_HALTED : IDirectSoundBuffer_GetStatus The operation completed successfully.\n, IDirectSoundBuffer_GetCurrentPosition: The operation completed successfully.\n, dwStatus: 0\n    at javafx.media/javafx.scene.media.MediaException.haltException(MediaException.java:150)\n    at javafx.media/javafx.scene.media.MediaPlayer$_PlayerStateListener.lambda$onHalt$7(MediaPlayer.java:2566)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\n    at javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n<h1>New JavaFxMediaPlayer Fix Attempt (Seek not working)</h1>\n<pre><code>package apprunner;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.net.MalformedURLException;\nimport javafx.application.Application;\nimport static javafx.application.Application.launch;\nimport javafx.beans.InvalidationListener;\nimport javafx.beans.Observable;\nimport javafx.event.Event;\nimport javafx.event.EventHandler;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.media.Media;\nimport javafx.scene.media.MediaPlayer;\nimport javafx.stage.Stage;\nimport javafx.util.Duration;\n\npublic class AppRunner extends Application {\n\n    public Duration durationBackup = null;\n\n    MediaPlayer mediaPlayer;\n\n    public static void main(String[] args) throws MalformedURLException, IOException {\n        launch(args);\n\n    }\n\n    @Override\n    public void start(Stage stage) throws Exception {\n        stage.setTitle(&quot;My&quot;);\n        Button button = new Button(&quot;Play Song&quot;);\n        Scene scene = new Scene(button, 200, 100);\n        stage.setScene(scene);\n        stage.show();\n        File file = new File(&quot;C:\\\\Users\\\\John Doe\\\\OneDrive\\\\Desktop\\\\YourLieInAprilTest\\\\Mp3Test.mp3&quot;);\n        String path = file.toURI().toASCIIString();\n        Media media = new Media(path);\n        mediaPlayer = new MediaPlayer(media);\n        button.setOnAction(new EventHandler() {\n            @Override\n            public void handle(Event arg0) {\n                mediaPlayer.stop();\n                mediaPlayer.play();\n            }\n        });\n        mediaPlayer.currentTimeProperty().addListener(new InvalidationListener() {\n            public void invalidated(Observable ov) {\n                //Here we keep a backup of the current duration of the song just incase the mediaPlayer crashes, which it does everytime you disconnect a bluetooth headset for some reason\n                durationBackup = mediaPlayer.getCurrentTime();\n            }\n        });\n        //Here I try to create a new MediaPlayer and go to the last position we were at before the mediaPlayer halted\n        Runnable attemptToResetMediaPlayer = new Runnable() {\n            public void run() {\n                mediaPlayer = new MediaPlayer(media);\n                mediaPlayer.play();\n                System.out.println(durationBackup.toMillis());\n                mediaPlayer.seek(durationBackup);\n            }\n        };\n        mediaPlayer.setOnError(attemptToResetMediaPlayer);\n    }\n}\n</code></pre>\n<h2>How to recreate bug</h2>\n<ul>\n<li>First you must connect your bluetooth headphones to your laptop/computer</li>\n<li>Then you must run the mini reproducible example above</li>\n<li>Then you must click on the &quot;Play Song&quot; button which appears</li>\n<li>Then when the song is playing, disconnect your bluetooth headphones</li>\n<li>The mediaPlayer will halt and the error message and its stack trace will be printed</li>\n</ul>\n<h1>Extra Information</h1>\n<blockquote>\n<p>Link to the Mp3 file I used to test. <a href=\"https://drive.google.com/file/d/1CvAafbMviQ7nvKyojnem9GK73LJsD6MJ/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1CvAafbMviQ7nvKyojnem9GK73LJsD6MJ/view?usp=sharing</a></p>\n</blockquote>\n<blockquote>\n<p>I am using JDK 11 and Javafx 17.0.2</p>\n</blockquote>\n<blockquote>\n<p>System Type: 64-bit operating system, x64-based processor</p>\n</blockquote>\n<blockquote>\n<p>Processor: Intel(R) Core(TM) i7-7700HQ CPU @ 2.80GHz 2.81 GHz</p>\n</blockquote>\n<blockquote>\n<p>Windows Edition: Windows 10 Home</p>\n</blockquote>\n"},{"tags":["java","swing","jlist"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1649697522,"post_id":71831375,"comment_id":126936797,"body_markdown":"Yes, you can use different components. You should let your getListCellRendererComponent return the exact component you want instead of the one you currently return (this, which is a JLabel). To speed things up, you only need one instance of each component, i.e. you can reuse the component to return.","body":"Yes, you can use different components. You should let your getListCellRendererComponent return the exact component you want instead of the one you currently return (this, which is a JLabel). To speed things up, you only need one instance of each component, i.e. you can reuse the component to return."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":4,"creation_date":1649697965,"post_id":71831375,"comment_id":126936936,"body_markdown":"A JList is not designed to display components that you can interact with. Try using a single column JTable. You can use an editor to interact with the check box. Check out: https://stackoverflow.com/questions/33216409/class-specific-renderer-component-not-called/33218124#33218124 for an example to get you started.","body":"A JList is not designed to display components that you can interact with. Try using a single column JTable. You can use an editor to interact with the check box. Check out: <a href=\"https://stackoverflow.com/questions/33216409/class-specific-renderer-component-not-called/33218124#33218124\" title=\"class specific renderer component not called\">stackoverflow.com/questions/33216409/&hellip;</a> for an example to get you started."},{"owner":{"account_id":24903735,"reputation":11,"user_id":18774109,"display_name":"ily"},"score":0,"creation_date":1649764445,"post_id":71831375,"comment_id":126953960,"body_markdown":"@Just another Java programmer thank you very much for your answer, now i want to know how can i create that component which contains a image, checkbox und text??? can you give me please an example","body":"@Just another Java programmer thank you very much for your answer, now i want to know how can i create that component which contains a image, checkbox und text??? can you give me please an example"},{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1649765212,"post_id":71831375,"comment_id":126954284,"body_markdown":"@ily No, I don&#39;t have an example. But try to follow my directions: create one instance of each component in the renderer and make sure you return for example a checkbox for row 2 etc. Once you have that upp and running, read the link provided by camickr.","body":"@ily No, I don&#39;t have an example. But try to follow my directions: create one instance of each component in the renderer and make sure you return for example a checkbox for row 2 etc. Once you have that upp and running, read the link provided by camickr."},{"owner":{"account_id":24903735,"reputation":11,"user_id":18774109,"display_name":"ily"},"score":0,"creation_date":1649769718,"post_id":71831375,"comment_id":126956067,"body_markdown":"@Just another Java programmer\n thank you very much my code works now\n public Component getListCellRendererComponent(JList list, Object value, int index, boolean isSelected, boolean cellHasFocus)\n\t{\n      \n        cbSelect.setSelected(isSelected);\n        \n         ProfItems item = (ProfItems) value;\n        lbPerson.setIcon(item.getBild());\n        \n\tlbPerson.setText(item.getName()); return jPanel1;\n\t}","body":"@Just another Java programmer  thank you very much my code works now  public Component getListCellRendererComponent(JList list, Object value, int index, boolean isSelected, boolean cellHasFocus) \t{                cbSelect.setSelected(isSelected);                   ProfItems item = (ProfItems) value;         lbPerson.setIcon(item.getBild());          \tlbPerson.setText(item.getName()); return jPanel1; \t}"}],"owner":{"account_id":24903735,"reputation":11,"user_id":18774109,"display_name":"ily"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649725463,"creation_date":1649695118,"question_id":71831375,"body_markdown":"I have added an image and text into a `JList`. Now I want to add a checkbox but I don&#39;t know how to make it. Can I, for example, create a new class with the 3 items: Checkbox, Image and Text?\r\n\r\n\tpublic Component getListCellRendererComponent(JList list, Object value,int index,boolean isSelected,\tboolean cellHasFocus) \r\n\t{\r\n\t\tProfItems item = (ProfItems) value;\r\n\t\tthis.setText(item.getName());\r\n\t\tthis.setIcon(item.getBild());\t\t\r\n\t\t\r\n\t\t//Sample 08: Draw Background for Selected Item\r\n\t\tif (isSelected)\r\n\t\t{\r\n\t\t\tsetBackground(Color.YELLOW);\r\n\t\t\tsetForeground(Color.BLACK);\r\n\t\t}\r\n\t\t\r\n\t\t//Sample 09: Reset the Background for Un-Selected Item\r\n\t\tif (!isSelected)\r\n\t\t{\r\n\t\t\tsetBackground(Color.WHITE);\r\n\t\t\tsetForeground(Color.BLACK);\r\n\t\t}\r\n\t\t\r\n\t\t//Sample 10: Draw a Border to Show Focussed Item\r\n\t\tif (cellHasFocus)\r\n\t\t{\r\n\t\t\tsetBorder(BorderFactory.createLineBorder(Color.ORANGE));\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tsetBorder(BorderFactory.createEmptyBorder());\r\n\t\t}\r\n\t\treturn this;\r\n\t}","title":"Create JList with 3 Items: Checkbox, Image and Text","body":"<p>I have added an image and text into a <code>JList</code>. Now I want to add a checkbox but I don't know how to make it. Can I, for example, create a new class with the 3 items: Checkbox, Image and Text?</p>\n<pre><code>public Component getListCellRendererComponent(JList list, Object value,int index,boolean isSelected,    boolean cellHasFocus) \n{\n    ProfItems item = (ProfItems) value;\n    this.setText(item.getName());\n    this.setIcon(item.getBild());       \n    \n    //Sample 08: Draw Background for Selected Item\n    if (isSelected)\n    {\n        setBackground(Color.YELLOW);\n        setForeground(Color.BLACK);\n    }\n    \n    //Sample 09: Reset the Background for Un-Selected Item\n    if (!isSelected)\n    {\n        setBackground(Color.WHITE);\n        setForeground(Color.BLACK);\n    }\n    \n    //Sample 10: Draw a Border to Show Focussed Item\n    if (cellHasFocus)\n    {\n        setBorder(BorderFactory.createLineBorder(Color.ORANGE));\n    }\n    else\n    {\n        setBorder(BorderFactory.createEmptyBorder());\n    }\n    return this;\n}\n</code></pre>\n"},{"tags":["java","intellij-idea","traccar"],"comments":[{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":0,"creation_date":1649670167,"post_id":71825449,"comment_id":126926300,"body_markdown":"Isn&#39;t IntelliJ IDEA dumping the `java` command and its arguments to the Output Window as the very first line of the output before the app starts?","body":"Isn&#39;t IntelliJ IDEA dumping the <code>java</code> command and its arguments to the Output Window as the very first line of the output before the app starts?"},{"owner":{"account_id":24744914,"reputation":23,"user_id":18631223,"display_name":"raffaeledp98"},"score":0,"creation_date":1649670396,"post_id":71825449,"comment_id":126926386,"body_markdown":"no, it isn&#39;t unfortunately","body":"no, it isn&#39;t unfortunately"},{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":0,"creation_date":1649670488,"post_id":71825449,"comment_id":126926430,"body_markdown":"Can you post a screenshot of the Output Window?","body":"Can you post a screenshot of the Output Window?"}],"answers":[{"tags":[],"owner":{"account_id":3003583,"reputation":2478,"user_id":2548565,"accept_rate":75,"display_name":"Anton Tananaev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649724439,"creation_date":1649724439,"answer_id":71835765,"question_id":71825449,"body_markdown":"You should compile the JAR file first and then run it using something like this:\r\n\r\n    java -jar tracker-server.jar conf/traccar.xml","title":"How to manage Intellij IDEA configuration?","body":"<p>You should compile the JAR file first and then run it using something like this:</p>\n<pre><code>java -jar tracker-server.jar conf/traccar.xml\n</code></pre>\n"}],"owner":{"account_id":24744914,"reputation":23,"user_id":18631223,"display_name":"raffaeledp98"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71835765,"answer_count":1,"score":0,"last_activity_date":1649724439,"creation_date":1649669068,"question_id":71825449,"body_markdown":"I&#39;ve a Java backend application (Traccar). I compile and start the application selecting the following configuration:\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mNfPt.png\r\n\r\nThe I click on run to execute the program, and everything works. My question is: how can I do the same from command line? All the settings in this image, how are they translatable to some commands? \r\nIf I have to do run the program from command line, how can I select the main class (org.traccar.Main), the module (-cp tracker-server.main) and so on?\r\nThank you everybody.","title":"How to manage Intellij IDEA configuration?","body":"<p>I've a Java backend application (Traccar). I compile and start the application selecting the following configuration:</p>\n<p><a href=\"https://i.stack.imgur.com/mNfPt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mNfPt.png\" alt=\"enter image description here\" /></a></p>\n<p>The I click on run to execute the program, and everything works. My question is: how can I do the same from command line? All the settings in this image, how are they translatable to some commands?\nIf I have to do run the program from command line, how can I select the main class (org.traccar.Main), the module (-cp tracker-server.main) and so on?\nThank you everybody.</p>\n"},{"tags":["java","sorting","discord","hashmap"],"comments":[{"owner":{"account_id":24878699,"reputation":1,"user_id":18752177,"display_name":"Luci McAuley"},"score":0,"creation_date":1649613098,"post_id":71817883,"comment_id":126914549,"body_markdown":"Rewrote the leaderboard system and implemented the pagination and it still displays all users on a single page. The library I&#39;m using for pagination is https://github.com/ygimenez/Pagination-Utils\nAny help is appreciated, thank you.","body":"Rewrote the leaderboard system and implemented the pagination and it still displays all users on a single page. The library I&#39;m using for pagination is <a href=\"https://github.com/ygimenez/Pagination-Utils\" rel=\"nofollow noreferrer\">github.com/ygimenez/Pagination-Utils</a> Any help is appreciated, thank you."}],"answers":[{"tags":[],"owner":{"account_id":24878699,"reputation":1,"user_id":18752177,"display_name":"Luci McAuley"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649724334,"creation_date":1649616424,"answer_id":71819588,"question_id":71817883,"body_markdown":"Partition the for loop into smaller parts using the for loop. Initialize the int outside of the loop and then increment the int for every entry and then divide the int by how many items you want displayed on the list. Ex: \r\n\r\n    int i = 0;\r\n    for (Map.Entry&lt;String, Integer&gt; entry : sortedMap.entrySet()) {\r\n            i++;\r\n            if (i % 6 == 0) {\r\n    //add page here \r\n\r\n","title":"Leaderboard displaying entire list instead of pagination","body":"<p>Partition the for loop into smaller parts using the for loop. Initialize the int outside of the loop and then increment the int for every entry and then divide the int by how many items you want displayed on the list. Ex:</p>\n<pre><code>int i = 0;\nfor (Map.Entry&lt;String, Integer&gt; entry : sortedMap.entrySet()) {\n        i++;\n        if (i % 6 == 0) {\n//add page here \n</code></pre>\n"}],"owner":{"account_id":24878699,"reputation":1,"user_id":18752177,"display_name":"Luci McAuley"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649724334,"creation_date":1649603508,"question_id":71817883,"body_markdown":"I have a list of users (stored in a properties file) that have a level. I sort the users by their level and then send the sorted list back to the guild. I paginate the list, but its still showing all of the users instead of just 10 per page. \r\n\r\n```java\r\nMap&lt;String, Integer&gt; unsortedMap = new HashMap&lt;String, Integer&gt;();\r\n\r\n        for (String key : prop.stringPropertyNames()) {\r\n            String value = prop.getProperty(key);\r\n            unsortedMap.put(key, Integer.valueOf(value));\r\n        }\r\n\r\n        Map&lt;String, Integer&gt; sortedMap = sortByValue(unsortedMap);\r\n\r\n        EmbedBuilder eb = new EmbedBuilder();\r\n\r\n        eb.setTitle(&quot;aaaaaaaaaaaa&quot;);\r\n\r\n        ArrayList&lt;Page&gt; pages = new ArrayList&lt;&gt;();\r\n\r\n        for (Map.Entry&lt;String, Integer&gt; entry : sortedMap.entrySet()) {\r\n            String key = entry.getKey();\r\n            int value = entry.getValue();\r\n            if (key.contains(&quot;.level&quot;)) {\r\n                User users = ctx.getJDA().retrieveUserById(key.replace(&quot;.level&quot;, &quot;&quot;), true).complete();\r\n                eb.addField(users.getName(), String.valueOf(value), false);\r\n            }\r\n\r\n\r\n        }\r\n\r\n        for (int i = 0; i &lt; sortedMap.size(); i++){\r\n            pages.add(new InteractPage(eb.build()));\r\n    }\r\n\r\n        channel.sendMessageEmbeds((MessageEmbed) pages.get(0).getContent()).queue(success -&gt; {\r\n            Pages.paginate(success, pages, true);\r\n                });\r\n\r\n\r\n    }\r\n\r\n    private static Map&lt;String, Integer&gt; sortByValue(Map&lt;String, Integer&gt; unsortedMap) {\r\n        List&lt;Map.Entry&lt;String, Integer&gt;&gt; list = new LinkedList&lt;Map.Entry&lt;String, Integer&gt;&gt;(unsortedMap.entrySet());\r\n\r\n        Collections.sort(list, new Comparator&lt;Map.Entry&lt;String, Integer&gt;&gt;() {\r\n            @Override\r\n            public int compare(Map.Entry&lt;String, Integer&gt; o1, Map.Entry&lt;String, Integer&gt; o2) {\r\n                return (o2.getValue().compareTo(o1.getValue()));\r\n            }\r\n        });\r\n\r\n        Map&lt;String, Integer&gt; sortedMap = new LinkedHashMap&lt;String, Integer&gt;();\r\n        for (Map.Entry&lt;String, Integer&gt; entry : list) {\r\n            sortedMap.put(entry.getKey(), entry.getValue());\r\n        }\r\n        return sortedMap;\r\n```\r\n\r\n","title":"Leaderboard displaying entire list instead of pagination","body":"<p>I have a list of users (stored in a properties file) that have a level. I sort the users by their level and then send the sorted list back to the guild. I paginate the list, but its still showing all of the users instead of just 10 per page.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Integer&gt; unsortedMap = new HashMap&lt;String, Integer&gt;();\n\n        for (String key : prop.stringPropertyNames()) {\n            String value = prop.getProperty(key);\n            unsortedMap.put(key, Integer.valueOf(value));\n        }\n\n        Map&lt;String, Integer&gt; sortedMap = sortByValue(unsortedMap);\n\n        EmbedBuilder eb = new EmbedBuilder();\n\n        eb.setTitle(&quot;aaaaaaaaaaaa&quot;);\n\n        ArrayList&lt;Page&gt; pages = new ArrayList&lt;&gt;();\n\n        for (Map.Entry&lt;String, Integer&gt; entry : sortedMap.entrySet()) {\n            String key = entry.getKey();\n            int value = entry.getValue();\n            if (key.contains(&quot;.level&quot;)) {\n                User users = ctx.getJDA().retrieveUserById(key.replace(&quot;.level&quot;, &quot;&quot;), true).complete();\n                eb.addField(users.getName(), String.valueOf(value), false);\n            }\n\n\n        }\n\n        for (int i = 0; i &lt; sortedMap.size(); i++){\n            pages.add(new InteractPage(eb.build()));\n    }\n\n        channel.sendMessageEmbeds((MessageEmbed) pages.get(0).getContent()).queue(success -&gt; {\n            Pages.paginate(success, pages, true);\n                });\n\n\n    }\n\n    private static Map&lt;String, Integer&gt; sortByValue(Map&lt;String, Integer&gt; unsortedMap) {\n        List&lt;Map.Entry&lt;String, Integer&gt;&gt; list = new LinkedList&lt;Map.Entry&lt;String, Integer&gt;&gt;(unsortedMap.entrySet());\n\n        Collections.sort(list, new Comparator&lt;Map.Entry&lt;String, Integer&gt;&gt;() {\n            @Override\n            public int compare(Map.Entry&lt;String, Integer&gt; o1, Map.Entry&lt;String, Integer&gt; o2) {\n                return (o2.getValue().compareTo(o1.getValue()));\n            }\n        });\n\n        Map&lt;String, Integer&gt; sortedMap = new LinkedHashMap&lt;String, Integer&gt;();\n        for (Map.Entry&lt;String, Integer&gt; entry : list) {\n            sortedMap.put(entry.getKey(), entry.getValue());\n        }\n        return sortedMap;\n</code></pre>\n"},{"tags":["java","json","regex","masking","data-masking"],"comments":[{"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":2,"creation_date":1642591340,"post_id":70769668,"comment_id":125109693,"body_markdown":"The easiest thing to do here is to parse your raw JSON string using something like GSON, mask what you want, then convert back to a string.","body":"The easiest thing to do here is to parse your raw JSON string using something like GSON, mask what you want, then convert back to a string."}],"answers":[{"tags":[],"owner":{"account_id":22984218,"reputation":398,"user_id":17110656,"display_name":"Yubo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649721820,"creation_date":1649721820,"answer_id":71835557,"question_id":70769668,"body_markdown":"You may look at this regex. https://regex101.com/r/WdWpgx/3\r\n\r\nNotice that this solution only works when json file is smaller than 10000. Since java lookbehind does not support full regex, it only allow limited size.\r\n\r\n    (?&lt;=OtherSecretList\\&quot;:\\[.{0,10000}?\\&quot;) # Match the secret list position. And assume that they are in the same line. Then match their own quote position.\r\n    (\\w*(?=\\w{4}\\&quot;)|[A-Z]*(?=\\w*\\&quot;)) # If character longer than 4, then match as much as possible until only four left; otherwise, mask all to the another double quotation.","title":"Java regex mask all elements in a specific list in string","body":"<p>You may look at this regex. <a href=\"https://regex101.com/r/WdWpgx/3\" rel=\"nofollow noreferrer\">https://regex101.com/r/WdWpgx/3</a></p>\n<p>Notice that this solution only works when json file is smaller than 10000. Since java lookbehind does not support full regex, it only allow limited size.</p>\n<pre><code>(?&lt;=OtherSecretList\\&quot;:\\[.{0,10000}?\\&quot;) # Match the secret list position. And assume that they are in the same line. Then match their own quote position.\n(\\w*(?=\\w{4}\\&quot;)|[A-Z]*(?=\\w*\\&quot;)) # If character longer than 4, then match as much as possible until only four left; otherwise, mask all to the another double quotation.\n</code></pre>\n"}],"owner":{"account_id":393450,"reputation":25,"user_id":4151342,"display_name":"SmokingTurtle"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1072,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649721820,"creation_date":1642591222,"question_id":70769668,"body_markdown":"I have a string converted from JSON object.\r\n\r\n      String myString =   { \r\n          \\&quot;name\\&quot;:\\&quot;Dennis&quot;, \r\n          \\&quot;password\\&quot;:\\&quot;12345\\&quot;,\r\n          \\&quot;secretValue\\&quot;:\\&quot;12345\\&quot;,\r\n          \\&quot;OtherSecretList\\&quot;:[\\&quot;ADD\\&quot;,\\&quot;BND\\&quot;],\r\n          \\&quot;TypeList\\&quot;:[\\&quot;M\\&quot;,\\&quot;F\\&quot;] \r\n        }\r\n\r\nI want to mask some values before logging. \r\n\r\n    String result = myString.replaceAll(&quot;(?&lt;=secretValue\\&quot;:\\&quot;)(.*?)(?=\\&quot;)&quot;, &quot;*****&quot;)\r\n                            .replaceAll(&quot;(?&lt;=password\\&quot;:\\&quot;)(.*?)(?=\\&quot;)&quot;, &quot;*****&quot;);\r\n\r\nThis works for non-array values. But I want to mask OtherSecretList elements, too.\r\n\r\nI tried this answer \r\n\r\nhttps://stackoverflow.com/questions/64751285/java-regex-mask-all-elements-in-a-list-with-last-4-characters-visible \r\n\r\nI want to see value like \r\n\r\n    OtherSecretList:[&quot;****&quot;,&quot;****&quot;]\r\n\r\n\r\nBut failed. Any help appreciated. \r\n\r\n","title":"Java regex mask all elements in a specific list in string","body":"<p>I have a string converted from JSON object.</p>\n<pre><code>  String myString =   { \n      \\&quot;name\\&quot;:\\&quot;Dennis&quot;, \n      \\&quot;password\\&quot;:\\&quot;12345\\&quot;,\n      \\&quot;secretValue\\&quot;:\\&quot;12345\\&quot;,\n      \\&quot;OtherSecretList\\&quot;:[\\&quot;ADD\\&quot;,\\&quot;BND\\&quot;],\n      \\&quot;TypeList\\&quot;:[\\&quot;M\\&quot;,\\&quot;F\\&quot;] \n    }\n</code></pre>\n<p>I want to mask some values before logging.</p>\n<pre><code>String result = myString.replaceAll(&quot;(?&lt;=secretValue\\&quot;:\\&quot;)(.*?)(?=\\&quot;)&quot;, &quot;*****&quot;)\n                        .replaceAll(&quot;(?&lt;=password\\&quot;:\\&quot;)(.*?)(?=\\&quot;)&quot;, &quot;*****&quot;);\n</code></pre>\n<p>This works for non-array values. But I want to mask OtherSecretList elements, too.</p>\n<p>I tried this answer</p>\n<p><a href=\"https://stackoverflow.com/questions/64751285/java-regex-mask-all-elements-in-a-list-with-last-4-characters-visible\">java regex mask all elements in a list with last 4 characters visible</a></p>\n<p>I want to see value like</p>\n<pre><code>OtherSecretList:[&quot;****&quot;,&quot;****&quot;]\n</code></pre>\n<p>But failed. Any help appreciated.</p>\n"},{"tags":["java","enums","interface"],"comments":[{"owner":{"account_id":14194880,"reputation":1483,"user_id":10254476,"display_name":"GJohannes"},"score":0,"creation_date":1649715554,"post_id":71834905,"comment_id":126942198,"body_markdown":"Does this answer your question? [Why Java does not allow overriding equals(Object) in an Enum?](https://stackoverflow.com/questions/2964704/why-java-does-not-allow-overriding-equalsobject-in-an-enum)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2964704/why-java-does-not-allow-overriding-equalsobject-in-an-enum\">Why Java does not allow overriding equals(Object) in an Enum?</a>"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1649775199,"post_id":71834905,"comment_id":126958524,"body_markdown":"What would be the point of having two contradicting implementations claiming to be equal?","body":"What would be the point of having two contradicting implementations claiming to be equal?"}],"answers":[{"tags":[],"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649720906,"creation_date":1649720453,"answer_id":71835440,"question_id":71834905,"body_markdown":"The line `Arrays.asList(new DefaultState(&quot;STATE1&quot;)).contains(EnumState.STATE_1)` use contains method, the implementation of this method use the equals method of the parameter (Enum here) for the comparaison, so it will return false because it will compare if this is the same Enum instance or not.\r\n\r\n \r\nYou cannot override equals on Enums , so a possible solution is to stream and find any element that match your condition using the equals overriden in the DefaultState class :\r\n\r\n    assertTrue(Arrays.asList(new DefaultState(&quot;STATE1&quot;))\r\n                                  .stream()\r\n                                        .anyMatch(state -&gt; state.equals(EnumState.STATE_1)));","title":"Common equals method for interface implementations","body":"<p>The line <code>Arrays.asList(new DefaultState(&quot;STATE1&quot;)).contains(EnumState.STATE_1)</code> use contains method, the implementation of this method use the equals method of the parameter (Enum here) for the comparaison, so it will return false because it will compare if this is the same Enum instance or not.</p>\n<p>You cannot override equals on Enums , so a possible solution is to stream and find any element that match your condition using the equals overriden in the DefaultState class :</p>\n<pre><code>assertTrue(Arrays.asList(new DefaultState(&quot;STATE1&quot;))\n                              .stream()\n                                    .anyMatch(state -&gt; state.equals(EnumState.STATE_1)));\n</code></pre>\n"}],"owner":{"account_id":1886834,"reputation":528,"user_id":1705880,"accept_rate":50,"display_name":"Sparm"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1649720906,"creation_date":1649715321,"question_id":71834905,"body_markdown":"This is possibly a code smell but I was wondering if this might be possible in Java. Given that I have my interface:\r\n```\r\npublic interface State {\r\n    String getStateName();\r\n}\r\n```\r\n\r\nand I have one implementation like this:\r\n\r\n```\r\npublic class DefaultState implements State {\r\n    final String stateName;\r\n\r\n    public DefaultState(String stateName) {\r\n        this.stateName = stateName;\r\n    }\r\n\r\n    @Override\r\n    public String getStateName() {return stateName; }\r\n\r\n    @Override\r\n    public boolean equals(Object other) {\r\n        return ((State)other).getStateName().equals(this.stateName);\r\n    }\r\n}\r\n```\r\n\r\nand another like this:\r\n\r\n```\r\npublic enum EnumState implements State {\r\n    STATE_1(&quot;STATE1&quot;),STATE_2(&quot;STATE_2&quot;);\r\n\r\n    final String stateName;\r\n    \r\n    EnumState (String stateName) {\r\n        this.stateName = stateName;\r\n    }\r\n\r\n    @Override\r\n    public String getStateName() {return stateName; }\r\n}\r\n```\r\n\r\nWhen I do the following it fails because I cant override how ```equals``` is implemented in the enumeration:\r\n\r\n```\r\nassertTrue(Arrays.asList(new DefaultState(&quot;STATE1&quot;)).contains(EnumState.STATE_1)); // fails\r\n```\r\n\r\nIs there a way of making this work or is the ultimate answer you shouldn&#39;t be mixing implementations like that?\r\n","title":"Common equals method for interface implementations","body":"<p>This is possibly a code smell but I was wondering if this might be possible in Java. Given that I have my interface:</p>\n<pre><code>public interface State {\n    String getStateName();\n}\n</code></pre>\n<p>and I have one implementation like this:</p>\n<pre><code>public class DefaultState implements State {\n    final String stateName;\n\n    public DefaultState(String stateName) {\n        this.stateName = stateName;\n    }\n\n    @Override\n    public String getStateName() {return stateName; }\n\n    @Override\n    public boolean equals(Object other) {\n        return ((State)other).getStateName().equals(this.stateName);\n    }\n}\n</code></pre>\n<p>and another like this:</p>\n<pre><code>public enum EnumState implements State {\n    STATE_1(&quot;STATE1&quot;),STATE_2(&quot;STATE_2&quot;);\n\n    final String stateName;\n    \n    EnumState (String stateName) {\n        this.stateName = stateName;\n    }\n\n    @Override\n    public String getStateName() {return stateName; }\n}\n</code></pre>\n<p>When I do the following it fails because I cant override how <code>equals</code> is implemented in the enumeration:</p>\n<pre><code>assertTrue(Arrays.asList(new DefaultState(&quot;STATE1&quot;)).contains(EnumState.STATE_1)); // fails\n</code></pre>\n<p>Is there a way of making this work or is the ultimate answer you shouldn't be mixing implementations like that?</p>\n"},{"tags":["java","iso8583","jpos"],"answers":[{"tags":[],"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649720457,"creation_date":1649720457,"answer_id":71835441,"question_id":71834789,"body_markdown":"The other end is probably not liking the `keep alive` sent by your channel, just disable that by commenting out that line.\r\n\r\nIf you`re using that keep alive to keep the channel connected without ending because of timeout, you should send `0800` network messages at regular intervals. \r\n\r\nWhile developing, you can disable that timeout from your side by setting the `timeout` property to zero (the default is, 30000 seconds = 5 minutes):\r\n\r\n```xml\r\n&lt;property name=&quot;timeout&quot; value=&quot;0&quot;/&gt;\r\n```\r\n\r\nBut you don&#39;t want that in a production environment.","title":"TCP reset recorded on JPOS server","body":"<p>The other end is probably not liking the <code>keep alive</code> sent by your channel, just disable that by commenting out that line.</p>\n<p>If you<code>re using that keep alive to keep the channel connected without ending because of timeout, you should send </code>0800` network messages at regular intervals.</p>\n<p>While developing, you can disable that timeout from your side by setting the <code>timeout</code> property to zero (the default is, 30000 seconds = 5 minutes):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;property name=&quot;timeout&quot; value=&quot;0&quot;/&gt;\n</code></pre>\n<p>But you don't want that in a production environment.</p>\n"}],"owner":{"account_id":4489871,"reputation":3290,"user_id":3651221,"accept_rate":50,"display_name":"cross19xx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649720457,"creation_date":1649714670,"question_id":71834789,"body_markdown":"I have set up a JPOS server to receive messages. I noticed recently that after a brief period of inactivity, we start realizing `TCP RESET FROM SERVER` errors \r\n\r\nSee below my configuration for the channel\r\n\r\n```xml\r\n&lt;channel name=&quot;post-channel&quot; class=&quot;org.jpos.iso.channel.PostChannel&quot;&gt;\r\n    &lt;property name=&quot;packager-realm&quot; value=&quot;postpack-debug&quot; /&gt;\r\n    &lt;property name=&quot;keep-alive&quot; value=&quot;true&quot; /&gt;\r\n&lt;/channel&gt;\r\n```","title":"TCP reset recorded on JPOS server","body":"<p>I have set up a JPOS server to receive messages. I noticed recently that after a brief period of inactivity, we start realizing <code>TCP RESET FROM SERVER</code> errors</p>\n<p>See below my configuration for the channel</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;channel name=&quot;post-channel&quot; class=&quot;org.jpos.iso.channel.PostChannel&quot;&gt;\n    &lt;property name=&quot;packager-realm&quot; value=&quot;postpack-debug&quot; /&gt;\n    &lt;property name=&quot;keep-alive&quot; value=&quot;true&quot; /&gt;\n&lt;/channel&gt;\n</code></pre>\n"},{"tags":["java","nlp","artificial-intelligence","opennlp"],"answers":[{"tags":[],"owner":{"account_id":2368861,"reputation":1591,"user_id":2073963,"display_name":"wonhee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1551945841,"creation_date":1551945841,"answer_id":55038818,"question_id":55038634,"body_markdown":"Yes I&#39;d say those two NLP libraries are widely used for Java. However, if you are going to make small project that doesn&#39;t really need to scale out or have to deal with big data, then NLTK or spaCy ( and probably with scikit-learn) can be a good alternative. Those are all Python based but it&#39;s not that difficult to use. ","title":"NLP for Text Mining or Chatbot","body":"<p>Yes I'd say those two NLP libraries are widely used for Java. However, if you are going to make small project that doesn't really need to scale out or have to deal with big data, then NLTK or spaCy ( and probably with scikit-learn) can be a good alternative. Those are all Python based but it's not that difficult to use. </p>\n"}],"owner":{"account_id":325224,"reputation":34820,"user_id":646276,"accept_rate":61,"display_name":"Lolly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":55038818,"answer_count":1,"score":0,"last_activity_date":1649720295,"creation_date":1551945153,"question_id":55038634,"body_markdown":"I am planning to build a chatbot which can get the user input and analyze and call different web service in Java. For example, \r\n\r\n    Get customers who bought books between 01/MAR/2019 and 10/MAR/2019. \r\n    Get books published by ABC Publications. \r\n    Create customer with name ABC and address 12, Hill View Street, London.\r\n\r\nFor the first one, it has to identify it is a retrieve request as it is &quot;Get&quot; call and it is about the book and also date. In second text need to extract keywords &quot;books&quot; and publication name &quot;ABC&quot;. The third one is different, it&#39;s a create customer request call with name and address.\r\n\r\nAs I am more comfortable with Java, I am looking for NLP which can achieve above. On the internet, I find more on OpenNLP and CoreNLP. Examples and samples are available widely for OpenNLP. \r\n\r\nSo I want to check whether am I in the right direction? I see a lot of other things like Apache Ruta UIMA but not sure it is applicable for my use case, as I don&#39;t find much information in net.\r\n","title":"NLP for Text Mining or Chatbot","body":"<p>I am planning to build a chatbot which can get the user input and analyze and call different web service in Java. For example,</p>\n<pre><code>Get customers who bought books between 01/MAR/2019 and 10/MAR/2019. \nGet books published by ABC Publications. \nCreate customer with name ABC and address 12, Hill View Street, London.\n</code></pre>\n<p>For the first one, it has to identify it is a retrieve request as it is &quot;Get&quot; call and it is about the book and also date. In second text need to extract keywords &quot;books&quot; and publication name &quot;ABC&quot;. The third one is different, it's a create customer request call with name and address.</p>\n<p>As I am more comfortable with Java, I am looking for NLP which can achieve above. On the internet, I find more on OpenNLP and CoreNLP. Examples and samples are available widely for OpenNLP.</p>\n<p>So I want to check whether am I in the right direction? I see a lot of other things like Apache Ruta UIMA but not sure it is applicable for my use case, as I don't find much information in net.</p>\n"},{"tags":["java","quarkus"],"answers":[{"tags":[],"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1578156208,"creation_date":1578156208,"answer_id":59592765,"question_id":59592676,"body_markdown":"As the [homepage][QuarkusHome] says:\r\n\r\n&gt; A Kubernetes Native **Java stack** tailored for OpenJDK HotSpot and GraalVM, crafted from the best of breed Java libraries and standards.\r\n\r\nThis does not yet really provide as to if quarkus is (amongst other things) an application server. I know that [it uses undertow][QuarkusUndertow]. A [post on the thorntail community wiki][ThorntailPost] suggests that quarkus is the spirital successor of thorntail and thus, in fact, an embedded application server.\r\n\r\n[QuarkusHome]: https://quarkus.io/\r\n[QuarkusUndertow]: https://quarkus.io/guides/http-reference#undertow-handlers-conf\r\n[ThorntailPost]: https://thorntail.io/posts/thorntail-community-announcement-on-quarkus/","title":"What application server does quarkus use?","body":"<p>As the <a href=\"https://quarkus.io/\" rel=\"nofollow noreferrer\">homepage</a> says:</p>\n\n<blockquote>\n  <p>A Kubernetes Native <strong>Java stack</strong> tailored for OpenJDK HotSpot and GraalVM, crafted from the best of breed Java libraries and standards.</p>\n</blockquote>\n\n<p>This does not yet really provide as to if quarkus is (amongst other things) an application server. I know that <a href=\"https://quarkus.io/guides/http-reference#undertow-handlers-conf\" rel=\"nofollow noreferrer\">it uses undertow</a>. A <a href=\"https://thorntail.io/posts/thorntail-community-announcement-on-quarkus/\" rel=\"nofollow noreferrer\">post on the thorntail community wiki</a> suggests that quarkus is the spirital successor of thorntail and thus, in fact, an embedded application server.</p>\n"},{"tags":[],"owner":{"account_id":1023013,"reputation":16655,"user_id":1032890,"accept_rate":100,"display_name":"GeertPt"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1578156527,"creation_date":1578156219,"answer_id":59592768,"question_id":59592676,"body_markdown":"It&#39;s a microservice framework, not an application server.\r\nYou can&#39;t &#39;deploy&#39; multiple applications on a Quarkus server, Quarkus is just part of the startup sequence that starts a TCP Socket to serve one application.\r\n\r\nApplication servers in the past were meant to deploy/start/stop multiple applications on a single machine with a single JVM runtime without stopping the JVM. Quarkus and other microservice framework are targeted to Docker runtimes, and don&#39;t really care anymore about starting and stopping multiple JVM&#39;s for multiple applications. They also don&#39;t care that the JVM needs to be stopped and started for an application upgrade, where older application servers tried to avoid that.","title":"What application server does quarkus use?","body":"<p>It's a microservice framework, not an application server.\nYou can't 'deploy' multiple applications on a Quarkus server, Quarkus is just part of the startup sequence that starts a TCP Socket to serve one application.</p>\n\n<p>Application servers in the past were meant to deploy/start/stop multiple applications on a single machine with a single JVM runtime without stopping the JVM. Quarkus and other microservice framework are targeted to Docker runtimes, and don't really care anymore about starting and stopping multiple JVM's for multiple applications. They also don't care that the JVM needs to be stopped and started for an application upgrade, where older application servers tried to avoid that.</p>\n"},{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1578156595,"creation_date":1578156595,"answer_id":59592826,"question_id":59592676,"body_markdown":"&gt; , I don&#39;t see any server starting up, \r\n\r\n\r\nI see `NettyRecorder` in your logs, and it&#39;s listening on port 8080. That&#39;s effectively starting &quot;the server&quot; \r\n\r\n\r\n\r\nFrom https://code.quarkus.io/ you can see it can use Undertow for servlets, or Vertx as an embedded server, with RESTEasy / JAX-RS as the REST API library implementations\r\n\r\nCamel&#39;s HTTP endpoint is another possible server ","title":"What application server does quarkus use?","body":"<blockquote>\n  <p>, I don't see any server starting up, </p>\n</blockquote>\n\n<p>I see <code>NettyRecorder</code> in your logs, and it's listening on port 8080. That's effectively starting \"the server\" </p>\n\n<p>From <a href=\"https://code.quarkus.io/\" rel=\"nofollow noreferrer\">https://code.quarkus.io/</a> you can see it can use Undertow for servlets, or Vertx as an embedded server, with RESTEasy / JAX-RS as the REST API library implementations</p>\n\n<p>Camel's HTTP endpoint is another possible server </p>\n"},{"tags":[],"owner":{"account_id":8310021,"reputation":7568,"user_id":6245535,"display_name":"Loris Securo"},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1578157622,"creation_date":1578157622,"answer_id":59592968,"question_id":59592676,"body_markdown":"Quarkus uses Vert.x/Netty.\r\n\r\nFrom https://developers.redhat.com/blog/2019/11/18/how-quarkus-brings-imperative-and-reactive-programming-together/:\r\n\r\n&gt; Quarkus uses Vert.x and Netty at its core. And, it uses a bunch of\r\n&gt; reactive frameworks and extensions on top to help developers. Quarkus\r\n&gt; is not just for HTTP microservices, but also for event-driven\r\n&gt; architecture. Its reactive nature makes it very efficient when dealing\r\n&gt; with messages (e.g., Apache Kafka or AMQP).\r\n&gt; \r\n&gt; The secret behind this is to use a single reactive engine for both\r\n&gt; imperative and reactive code.\r\n&gt; \r\n&gt; Quarkus does this quite brilliantly. Between imperative and reactive,\r\n&gt; the obvious choice is to have a reactive core. What that helps with is\r\n&gt; a fast non-blocking code that handles almost everything going via the\r\n&gt; event-loop thread (IO thread). But, if you were creating a typical\r\n&gt; REST application or a client-side application, Quarkus also gives you\r\n&gt; the imperative programming model. For example, Quarkus HTTP support is\r\n&gt; based on a non-blocking and reactive engine (Eclipse Vert.x and\r\n&gt; Netty). All the HTTP requests your application receive are handled by\r\n&gt; event loops (IO Thread) and then are routed towards the code that\r\n&gt; manages the request. Depending on the destination, it can invoke the\r\n&gt; code managing the request on a worker thread (servlet, Jax-RS) or use\r\n&gt; the IO was thread (reactive route).","title":"What application server does quarkus use?","body":"<p>Quarkus uses Vert.x/Netty.</p>\n\n<p>From <a href=\"https://developers.redhat.com/blog/2019/11/18/how-quarkus-brings-imperative-and-reactive-programming-together/\" rel=\"noreferrer\">https://developers.redhat.com/blog/2019/11/18/how-quarkus-brings-imperative-and-reactive-programming-together/</a>:</p>\n\n<blockquote>\n  <p>Quarkus uses Vert.x and Netty at its core. And, it uses a bunch of\n  reactive frameworks and extensions on top to help developers. Quarkus\n  is not just for HTTP microservices, but also for event-driven\n  architecture. Its reactive nature makes it very efficient when dealing\n  with messages (e.g., Apache Kafka or AMQP).</p>\n  \n  <p>The secret behind this is to use a single reactive engine for both\n  imperative and reactive code.</p>\n  \n  <p>Quarkus does this quite brilliantly. Between imperative and reactive,\n  the obvious choice is to have a reactive core. What that helps with is\n  a fast non-blocking code that handles almost everything going via the\n  event-loop thread (IO thread). But, if you were creating a typical\n  REST application or a client-side application, Quarkus also gives you\n  the imperative programming model. For example, Quarkus HTTP support is\n  based on a non-blocking and reactive engine (Eclipse Vert.x and\n  Netty). All the HTTP requests your application receive are handled by\n  event loops (IO Thread) and then are routed towards the code that\n  manages the request. Depending on the destination, it can invoke the\n  code managing the request on a worker thread (servlet, Jax-RS) or use\n  the IO was thread (reactive route).</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":22081947,"reputation":21,"user_id":16341397,"display_name":"Swe77"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649720127,"creation_date":1649720127,"answer_id":71835418,"question_id":59592676,"body_markdown":"It uses vertx, that is a reactive toolkit.","title":"What application server does quarkus use?","body":"<p>It uses vertx, that is a reactive toolkit.</p>\n"}],"owner":{"account_id":8384414,"reputation":1048,"user_id":6295272,"display_name":"D.Tomov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10618,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":59592968,"answer_count":5,"score":12,"last_activity_date":1649720127,"creation_date":1578155560,"question_id":59592676,"body_markdown":"When starting a quarkus jar, I don&#39;t see any server starting up, all I see is:\r\n\r\n    C:\\Java Projects\\quarkus-demo\\target&gt;java -jar quarkus-demo-1.0-SNAPSHOT-runner.jar\r\n    2020-01-04 18:25:54,199 WARN  [io.qua.net.run.NettyRecorder] (Thread-1) Localhost lookup took more than one second, you ne\r\n    ed to add a /etc/hosts entry to improve Quarkus startup time. See https://thoeni.io/post/macos-sierra-java/ for details.\r\n    2020-01-04 18:25:54,521 INFO  [io.quarkus] (main) quarkus-demo 1.0-SNAPSHOT (running on Quarkus 1.1.0.Final) started in 3.\r\n    231s. Listening on: http://0.0.0.0:8080\r\n    2020-01-04 18:25:54,522 INFO  [io.quarkus] (main) Profile prod activated.\r\n    2020-01-04 18:25:54,522 INFO  [io.quarkus] (main) Installed features: [cdi, resteasy, resteasy-jackson]\r\n\r\nWhat does that mean? Is it not using an application server? Is Quarkus an application server or something similar?\r\nI can&#39;t seem to find any information online about this.","title":"What application server does quarkus use?","body":"<p>When starting a quarkus jar, I don't see any server starting up, all I see is:</p>\n\n<pre><code>C:\\Java Projects\\quarkus-demo\\target&gt;java -jar quarkus-demo-1.0-SNAPSHOT-runner.jar\n2020-01-04 18:25:54,199 WARN  [io.qua.net.run.NettyRecorder] (Thread-1) Localhost lookup took more than one second, you ne\ned to add a /etc/hosts entry to improve Quarkus startup time. See https://thoeni.io/post/macos-sierra-java/ for details.\n2020-01-04 18:25:54,521 INFO  [io.quarkus] (main) quarkus-demo 1.0-SNAPSHOT (running on Quarkus 1.1.0.Final) started in 3.\n231s. Listening on: http://0.0.0.0:8080\n2020-01-04 18:25:54,522 INFO  [io.quarkus] (main) Profile prod activated.\n2020-01-04 18:25:54,522 INFO  [io.quarkus] (main) Installed features: [cdi, resteasy, resteasy-jackson]\n</code></pre>\n\n<p>What does that mean? Is it not using an application server? Is Quarkus an application server or something similar?\nI can't seem to find any information online about this.</p>\n"},{"tags":["java","dns"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1649247377,"post_id":71766133,"comment_id":126826598,"body_markdown":"&quot;128 byte long&quot; did you mean *bit*?","body":"&quot;128 byte long&quot; did you mean <i>bit</i>?"},{"owner":{"account_id":6022681,"reputation":3444,"user_id":4729332,"accept_rate":68,"display_name":"Andrei"},"score":0,"creation_date":1649247486,"post_id":71766133,"comment_id":126826640,"body_markdown":"Yes, sorry about that, I&#39;ve corrected it.","body":"Yes, sorry about that, I&#39;ve corrected it."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1649248160,"post_id":71766133,"comment_id":126826890,"body_markdown":"So the only difference is that you&#39;re getting  7 instead of 10?","body":"So the only difference is that you&#39;re getting  7 instead of 10?"},{"owner":{"account_id":6022681,"reputation":3444,"user_id":4729332,"accept_rate":68,"display_name":"Andrei"},"score":0,"creation_date":1649248407,"post_id":71766133,"comment_id":126826982,"body_markdown":"Hmm...you lost me a bit there. Could you explain what you mean please?","body":"Hmm...you lost me a bit there. Could you explain what you mean please?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1649248917,"post_id":71766133,"comment_id":126827183,"body_markdown":"Where does the sample data in `byteArray` come from? Do you expect it to decode to `2a00:1450:400d:80a::200e`?","body":"Where does the sample data in <code>byteArray</code> come from? Do you expect it to decode to <code>2a00:1450:400d:80a::200e</code>?"},{"owner":{"account_id":6022681,"reputation":3444,"user_id":4729332,"accept_rate":68,"display_name":"Andrei"},"score":0,"creation_date":1649249094,"post_id":71766133,"comment_id":126827253,"body_markdown":"The data in `byteArray` comes from a DNS(cloudflare in this case) datagram response which I&#39;m parsing. Yes, I expect it to decode to a IPV6 address. The problem is I don&#39;t know what rules to follow in order to decode it(properly).","body":"The data in <code>byteArray</code> comes from a DNS(cloudflare in this case) datagram response which I&#39;m parsing. Yes, I expect it to decode to a IPV6 address. The problem is I don&#39;t know what rules to follow in order to decode it(properly)."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1649249306,"post_id":71766133,"comment_id":126827344,"body_markdown":"I don&#39;t see how the output can be `...0804...` when the data is `8, 7`","body":"I don&#39;t see how the output can be <code>...0804...</code> when the data is <code>8, 7</code>"},{"owner":{"account_id":6022681,"reputation":3444,"user_id":4729332,"accept_rate":68,"display_name":"Andrei"},"score":0,"creation_date":1649249605,"post_id":71766133,"comment_id":126827467,"body_markdown":"Correct, I think I copied the wrong value somehow. I&#39;ve edited my question with an image and the correct sequence of the bytes.","body":"Correct, I think I copied the wrong value somehow. I&#39;ve edited my question with an image and the correct sequence of the bytes."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1649253870,"post_id":71766133,"comment_id":126829411,"body_markdown":"That looks OK then, I&#39;m not sure what your question is?","body":"That looks OK then, I&#39;m not sure what your question is?"},{"owner":{"account_id":6022681,"reputation":3444,"user_id":4729332,"accept_rate":68,"display_name":"Andrei"},"score":0,"creation_date":1649255535,"post_id":71766133,"comment_id":126830201,"body_markdown":"I think I just copied some stuff wrong, not sure. Works fine tbh. Why don&#39;t you put that comment as an answer so that I can properly accept it.","body":"I think I just copied some stuff wrong, not sure. Works fine tbh. Why don&#39;t you put that comment as an answer so that I can properly accept it."},{"owner":{"account_id":8493198,"reputation":11341,"user_id":6368697,"display_name":"Patrick Mevzek"},"score":0,"creation_date":1649256386,"post_id":71766133,"comment_id":126830607,"body_markdown":"A tip: in similar cases, you can study code of any DNS library and see how they cope with it.","body":"A tip: in similar cases, you can study code of any DNS library and see how they cope with it."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1649280299,"post_id":71766133,"comment_id":126839132,"body_markdown":"&quot;Looks OK&quot; wouldn&#39;t be a very valuable answer :-)","body":"&quot;Looks OK&quot; wouldn&#39;t be a very valuable answer :-)"}],"owner":{"account_id":6022681,"reputation":3444,"user_id":4729332,"accept_rate":68,"display_name":"Andrei"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649720067,"creation_date":1649245312,"question_id":71766133,"body_markdown":"I want to parse the RDATA of a AAAA record response. As a quick 101 intro to DNS responses this is what an `Answer` section from a response looks like(according to [RFC-1035](https://www.ietf.org/rfc/rfc1035.txt) - mind you the format hasn&#39;t changed since it&#39;s inception, and most likely won&#39;t change any time soon):\r\n\r\n    +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+\r\n    |                                               |\r\n    /                                               /\r\n    /                      NAME                     /\r\n    |                                               |\r\n    +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+\r\n    |                      TYPE                     |\r\n    +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+\r\n    |                     CLASS                     |\r\n    +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+\r\n    |                      TTL                      |\r\n    |                                               |\r\n    +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+\r\n    |                   RDLENGTH                    |\r\n    +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--|\r\n    /                     RDATA                     /\r\n    /                                               /\r\n    +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+\r\n\r\n\r\nThe last section `RDATA` is resource record type specific. So for example a `CNAME` record will have a different format.\r\n\r\nAccording to [RFC-3596](https://datatracker.ietf.org/doc/html/rfc3596) a AAAA data format is\r\n\r\n    A 128 bit IPv6 address is encoded in the data portion of an AAAA\r\n    resource record in network byte order (high-order byte first).\r\n\r\nI haven&#39;t been able to find other RFCs pertaining specifically to AAAA record RDATA format.\r\n\r\nSection 2.5 of [RFC-3596](https://datatracker.ietf.org/doc/html/rfc3596) seems to better define how to parse the RDATA:\r\n\r\n       An IPv6 address is represented as a name in the IP6.ARPA domain by a\r\n       sequence of nibbles separated by dots with the suffix &quot;.IP6.ARPA&quot;.\r\n       The sequence of nibbles is encoded in reverse order, i.e., the\r\n       low-order nibble is encoded first, followed by the next low-order\r\n       nibble and so on.  Each nibble is represented by a hexadecimal digit.\r\n       For example, the reverse lookup domain name corresponding to the\r\n       address\r\n    \r\n           4321:0:1:2:3:4:567:89ab\r\n    \r\n       would be\r\n    \r\n       b.a.9.8.7.6.5.0.4.0.0.0.3.0.0.0.2.0.0.0.1.0.0.0.0.0.0.0.1.2.3.4.IP6.ARPA.\r\n\r\nPutting 2 and 2 together it seems that the `RDATA` is 128 bit long little endian. With that said, I can&#39;t figure out HOW exactly to parse this correctly.\r\n\r\nHere&#39;s my code\r\n\r\n    private AAAARecordData parseRDataForAAAARecord(DataInputStream dataInputStream, int rdLength) throws IOException {\r\n        byte[] byteArray = new byte[rdLength];\r\n        for (int i = 0; i &lt; rdLength; i++) {\r\n            byteArray[i] = (byte)(dataInputStream.readByte() &amp; 0xFF);\r\n        }\r\n\r\n        String result = HexFormat.of().formatHex(byteArray); // 2a001450400d0807000000000000200e\r\n\r\n        // do some more processing here maybe? not sure\r\n\r\n        return new AAAARecordData(result);\r\n    }\r\n\r\nAnd some sample data for `byteArray` \r\n\r\n&lt;strike&gt;[42, 0, 20, 80, 64, 13, 8, 7, 0, 0, 0, 0, 0, 0, 32, 14]&lt;/strike&gt; \r\n\r\n    [42, 0, 20, 80, 64, 13, 8, 10, 0, 0, 0, 0, 0, 0, 32, 14]\r\n\r\nThe output of `parseRDataForAAAARecord` is `2a001450400d0804000000000000200e`\r\n\r\nUsing wireshark to intercept the request I get \r\n\r\n    // other stuff\r\n    Answers\r\n        google.com: type AAAA, class IN, addr 2a00:1450:400d:80a::200e\r\n            Name: google.com\r\n            Type: AAAA (IPv6 Address) (28)\r\n            Class: IN (0x0001)\r\n            Time to live: 270 (4 minutes, 30 seconds)\r\n            Data length: 16\r\n            AAAA Address: 2a00:1450:400d:80a::200e\r\n    [Request In: 1]\r\n    [Time: 0.019593000 seconds]\r\n\r\nAs you may have guess by now, my result and the wireshark AAAA address are pretty similar. So clearly I&#39;m not doing something correctly somewhere.\r\n\r\nI&#39;m fairly certain anything before the processing is correct as it works fine for `A` records and a few other record types.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KW3el.png","title":"How to parse AAAA record RDATA using java","body":"<p>I want to parse the RDATA of a AAAA record response. As a quick 101 intro to DNS responses this is what an <code>Answer</code> section from a response looks like(according to <a href=\"https://www.ietf.org/rfc/rfc1035.txt\" rel=\"nofollow noreferrer\">RFC-1035</a> - mind you the format hasn't changed since it's inception, and most likely won't change any time soon):</p>\n<pre><code>+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+\n|                                               |\n/                                               /\n/                      NAME                     /\n|                                               |\n+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+\n|                      TYPE                     |\n+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+\n|                     CLASS                     |\n+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+\n|                      TTL                      |\n|                                               |\n+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+\n|                   RDLENGTH                    |\n+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--|\n/                     RDATA                     /\n/                                               /\n+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+\n</code></pre>\n<p>The last section <code>RDATA</code> is resource record type specific. So for example a <code>CNAME</code> record will have a different format.</p>\n<p>According to <a href=\"https://datatracker.ietf.org/doc/html/rfc3596\" rel=\"nofollow noreferrer\">RFC-3596</a> a AAAA data format is</p>\n<pre><code>A 128 bit IPv6 address is encoded in the data portion of an AAAA\nresource record in network byte order (high-order byte first).\n</code></pre>\n<p>I haven't been able to find other RFCs pertaining specifically to AAAA record RDATA format.</p>\n<p>Section 2.5 of <a href=\"https://datatracker.ietf.org/doc/html/rfc3596\" rel=\"nofollow noreferrer\">RFC-3596</a> seems to better define how to parse the RDATA:</p>\n<pre><code>   An IPv6 address is represented as a name in the IP6.ARPA domain by a\n   sequence of nibbles separated by dots with the suffix &quot;.IP6.ARPA&quot;.\n   The sequence of nibbles is encoded in reverse order, i.e., the\n   low-order nibble is encoded first, followed by the next low-order\n   nibble and so on.  Each nibble is represented by a hexadecimal digit.\n   For example, the reverse lookup domain name corresponding to the\n   address\n\n       4321:0:1:2:3:4:567:89ab\n\n   would be\n\n   b.a.9.8.7.6.5.0.4.0.0.0.3.0.0.0.2.0.0.0.1.0.0.0.0.0.0.0.1.2.3.4.IP6.ARPA.\n</code></pre>\n<p>Putting 2 and 2 together it seems that the <code>RDATA</code> is 128 bit long little endian. With that said, I can't figure out HOW exactly to parse this correctly.</p>\n<p>Here's my code</p>\n<pre><code>private AAAARecordData parseRDataForAAAARecord(DataInputStream dataInputStream, int rdLength) throws IOException {\n    byte[] byteArray = new byte[rdLength];\n    for (int i = 0; i &lt; rdLength; i++) {\n        byteArray[i] = (byte)(dataInputStream.readByte() &amp; 0xFF);\n    }\n\n    String result = HexFormat.of().formatHex(byteArray); // 2a001450400d0807000000000000200e\n\n    // do some more processing here maybe? not sure\n\n    return new AAAARecordData(result);\n}\n</code></pre>\n<p>And some sample data for <code>byteArray</code></p>\n<p><strike>[42, 0, 20, 80, 64, 13, 8, 7, 0, 0, 0, 0, 0, 0, 32, 14]</strike></p>\n<pre><code>[42, 0, 20, 80, 64, 13, 8, 10, 0, 0, 0, 0, 0, 0, 32, 14]\n</code></pre>\n<p>The output of <code>parseRDataForAAAARecord</code> is <code>2a001450400d0804000000000000200e</code></p>\n<p>Using wireshark to intercept the request I get</p>\n<pre><code>// other stuff\nAnswers\n    google.com: type AAAA, class IN, addr 2a00:1450:400d:80a::200e\n        Name: google.com\n        Type: AAAA (IPv6 Address) (28)\n        Class: IN (0x0001)\n        Time to live: 270 (4 minutes, 30 seconds)\n        Data length: 16\n        AAAA Address: 2a00:1450:400d:80a::200e\n[Request In: 1]\n[Time: 0.019593000 seconds]\n</code></pre>\n<p>As you may have guess by now, my result and the wireshark AAAA address are pretty similar. So clearly I'm not doing something correctly somewhere.</p>\n<p>I'm fairly certain anything before the processing is correct as it works fine for <code>A</code> records and a few other record types.</p>\n<p><a href=\"https://i.stack.imgur.com/KW3el.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KW3el.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","algorithm","recursion","linked-list"],"comments":[{"owner":{"account_id":3022791,"reputation":1815,"user_id":2563422,"display_name":"clwhisk"},"score":0,"creation_date":1646173360,"post_id":71315227,"comment_id":126057223,"body_markdown":"What&#39;s a `Node`? More of a hint, what is `i`?","body":"What&#39;s a <code>Node</code>? More of a hint, what is <code>i</code>?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1646176716,"post_id":71315227,"comment_id":126057993,"body_markdown":"Why? It&#39;s an iterative problem. Don&#39;t use recursion just to iterate.","body":"Why? It&#39;s an iterative problem. Don&#39;t use recursion just to iterate."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1646177527,"post_id":71315227,"comment_id":126058142,"body_markdown":"@clwhisk The answer to the question of what is a node lies in classic terms of the computer science, take a look at this article https://en.wikipedia.org/wiki/Linked_list","body":"@clwhisk The answer to the question of what is a node lies in classic terms of the computer science, take a look at this article <a href=\"https://en.wikipedia.org/wiki/Linked_list\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Linked_list</a>"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646173616,"creation_date":1646173616,"answer_id":71315317,"question_id":71315227,"body_markdown":"In a linked list, you should have one element and from that you get the value and the next element. So your item could look like (I am omitting getters, setters and exception handling):\r\n\r\n    class Item {\r\n        Object value;\r\n        Item next;\r\n    }\r\n\r\nThen your counter for a specific value could look like\r\n\r\n    int count(Object valueToCount, Item list) {\r\n\r\n        int result = 0;\r\n\r\n        if (valueToCount.equals(list.value)) {\r\n            result++; // count this value\r\n        }\r\n\r\n        if (value.next != null) {\r\n            result += count(valueToCount, value.next) // add the count from remainder of the list\r\n        }\r\n\r\n        return result;\r\n    }\r\n","title":"Recursive function that returns a count of elements with the specified value in a linked list","body":"<p>In a linked list, you should have one element and from that you get the value and the next element. So your item could look like (I am omitting getters, setters and exception handling):</p>\n<pre><code>class Item {\n    Object value;\n    Item next;\n}\n</code></pre>\n<p>Then your counter for a specific value could look like</p>\n<pre><code>int count(Object valueToCount, Item list) {\n\n    int result = 0;\n\n    if (valueToCount.equals(list.value)) {\n        result++; // count this value\n    }\n\n    if (value.next != null) {\n        result += count(valueToCount, value.next) // add the count from remainder of the list\n    }\n\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649719417,"creation_date":1646173707,"answer_id":71315328,"question_id":71315227,"body_markdown":"Every recursive implementation consists of **two parts**:\r\n* **base case** - that represents a simple edge-case for which the outcome is known in advance. For this task, the *base case* is a situation the given `Node` is `null`. Think about it this way: if a head-node is not initialed it will be `null` and that is the simplest edge-case that your method must be able to handle. And return value for the base case is `0`.\r\n* **recursive case** - a part of a solution where recursive calls a made and where the main logic resides. In the *recursive case*, you need to check the value of a current node. If it matches the target value, then the result returned by the method will be `1 + countH(cur.next, i)`, otherwise it will be a result of the subsequent recursive call `countH(cur.next, i)`.\r\n\r\n**Base case** is always placed at the beginning of the method, followed by a **recursive case**. \r\n\r\nAnd when you are writing a *recursive part*, one of the most important things that you have to keep in mind is which **parameters** change from one recursive call to another, and which remains the same. In this case, changes only a `Node`, the target value `i` remains the same.\r\n```\r\n    public int count(int i) {\r\n        return countH(first, i);\r\n    }\r\n```\r\n```\r\n    private int countH(Node cur, int i) { // `front` replaced by `cur`\r\n        if (cur == null) { // not cur.next == null (it&#39;ll fail with exception if the head-node is null)\r\n            return 0;\r\n        }\r\n//        int cter = 0; // this intermediate variable isn&#39;t needed, it could be incremted by 1 at most during the method execution\r\n//        if(cur.item == i) \r\n//            cter++;\r\n//        return countH(cur, cter); // this line contains a mistake - variable `i` has to be passed as a parameter and `cter` must be added to the result returned by a recursive call\r\n\r\n        return cur.item == i ? 1 + countH(cur.next, i) : countH(cur.next, i);\r\n    }\r\n```\r\n**Suggestion**\r\n\r\nFollow the comments in the code. I&#39;ve left your original lines in place so that will be easier to compare solutions. Also, always try to come up will *reasonable self-explanatory names* for *variables* (as well as *methods*, *classes*, etc). For that reason, I renamed the parameter `front` to `cur` (*short for current*), because it&#39;s meant to represent *any node*, not first or any other particular node.\r\n\r\n**Side note**\r\n\r\nThis statement is called a **ternary operator** or [**inline if statement**](https://docs.oracle.com/cd/E57185_01/IRWUG/ch21s03s01s02.html)\r\n```\r\ncur.item == i ? 1 + countH(cur.next, i) : countH(cur.next, i);\r\n```\r\nAnd it&#39;s just a shorter syntax for the code below:\r\n```\r\nif (cur.item == i) {\r\n    return 1 + countH(cur.next, i);\r\n} else {\r\n    return countH(cur.next, i);\r\n}\r\n```\r\nYou could use either of these constructs in your code. The difference is only in syntax, both will get executed in precisely the same way.","title":"Recursive function that returns a count of elements with the specified value in a linked list","body":"<p>Every recursive implementation consists of <strong>two parts</strong>:</p>\n<ul>\n<li><strong>base case</strong> - that represents a simple edge-case for which the outcome is known in advance. For this task, the <em>base case</em> is a situation the given <code>Node</code> is <code>null</code>. Think about it this way: if a head-node is not initialed it will be <code>null</code> and that is the simplest edge-case that your method must be able to handle. And return value for the base case is <code>0</code>.</li>\n<li><strong>recursive case</strong> - a part of a solution where recursive calls a made and where the main logic resides. In the <em>recursive case</em>, you need to check the value of a current node. If it matches the target value, then the result returned by the method will be <code>1 + countH(cur.next, i)</code>, otherwise it will be a result of the subsequent recursive call <code>countH(cur.next, i)</code>.</li>\n</ul>\n<p><strong>Base case</strong> is always placed at the beginning of the method, followed by a <strong>recursive case</strong>.</p>\n<p>And when you are writing a <em>recursive part</em>, one of the most important things that you have to keep in mind is which <strong>parameters</strong> change from one recursive call to another, and which remains the same. In this case, changes only a <code>Node</code>, the target value <code>i</code> remains the same.</p>\n<pre><code>    public int count(int i) {\n        return countH(first, i);\n    }\n</code></pre>\n<pre><code>    private int countH(Node cur, int i) { // `front` replaced by `cur`\n        if (cur == null) { // not cur.next == null (it'll fail with exception if the head-node is null)\n            return 0;\n        }\n//        int cter = 0; // this intermediate variable isn't needed, it could be incremted by 1 at most during the method execution\n//        if(cur.item == i) \n//            cter++;\n//        return countH(cur, cter); // this line contains a mistake - variable `i` has to be passed as a parameter and `cter` must be added to the result returned by a recursive call\n\n        return cur.item == i ? 1 + countH(cur.next, i) : countH(cur.next, i);\n    }\n</code></pre>\n<p><strong>Suggestion</strong></p>\n<p>Follow the comments in the code. I've left your original lines in place so that will be easier to compare solutions. Also, always try to come up will <em>reasonable self-explanatory names</em> for <em>variables</em> (as well as <em>methods</em>, <em>classes</em>, etc). For that reason, I renamed the parameter <code>front</code> to <code>cur</code> (<em>short for current</em>), because it's meant to represent <em>any node</em>, not first or any other particular node.</p>\n<p><strong>Side note</strong></p>\n<p>This statement is called a <strong>ternary operator</strong> or <a href=\"https://docs.oracle.com/cd/E57185_01/IRWUG/ch21s03s01s02.html\" rel=\"nofollow noreferrer\"><strong>inline if statement</strong></a></p>\n<pre><code>cur.item == i ? 1 + countH(cur.next, i) : countH(cur.next, i);\n</code></pre>\n<p>And it's just a shorter syntax for the code below:</p>\n<pre><code>if (cur.item == i) {\n    return 1 + countH(cur.next, i);\n} else {\n    return countH(cur.next, i);\n}\n</code></pre>\n<p>You could use either of these constructs in your code. The difference is only in syntax, both will get executed in precisely the same way.</p>\n"},{"tags":[],"owner":{"account_id":23034231,"reputation":21,"user_id":17153229,"display_name":"moss icon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646860591,"creation_date":1646860591,"answer_id":71416063,"question_id":71315227,"body_markdown":"```\r\n\tpublic int count(int i) {\r\n\t\treturn countH(first, i);\r\n\t}\r\n\t\r\n\tprivate int countH(Node front, int i) {  // TODO\r\n\t\tif(front==null) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\tif (front.item == i) {\r\n\t\t    return 1 + countH(front.next, i);\r\n\t\t} else {\r\n\t\t    return countH(front.next, i);\r\n\t\t}\r\n\t}\r\n```","title":"Recursive function that returns a count of elements with the specified value in a linked list","body":"<pre><code>    public int count(int i) {\n        return countH(first, i);\n    }\n    \n    private int countH(Node front, int i) {  // TODO\n        if(front==null) {\n            return 0;\n        }\n        if (front.item == i) {\n            return 1 + countH(front.next, i);\n        } else {\n            return countH(front.next, i);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":23034231,"reputation":21,"user_id":17153229,"display_name":"moss icon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":870,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1649719417,"creation_date":1646172859,"question_id":71315227,"body_markdown":"I am working on a function, countH(), that is supposed to count the amount of times a given number appears in a linked list. For some reason, I cannot get this to work recursively. I have tried a number of different solutions but I guess I can&#39;t get something in the correct place. Sorry if I am asking the question poorly, I struggle to understand recursion formatting sometimes.\r\n\r\nHere is the function:\r\n\r\n```]\r\n\tpublic int count(int i) {\r\n\t\treturn countH(first, i);\r\n\t}\r\n\t\r\n\tprivate int countH(Node front, int i) {  // TODO\r\n\t\tint cter = 0;\r\n\t\tif (front.next==null) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\tif(front.item == i)\r\n\t\t\tcter++;\r\n\t\treturn countH(front, cter);\r\n\t\t\r\n\t}\r\n```\r\n\r\nThis is a late version of my code, I&#39;m sure it was a bit better before I messed with it a bunch to try to get it to work\r\n\r\nThanks!","title":"Recursive function that returns a count of elements with the specified value in a linked list","body":"<p>I am working on a function, countH(), that is supposed to count the amount of times a given number appears in a linked list. For some reason, I cannot get this to work recursively. I have tried a number of different solutions but I guess I can't get something in the correct place. Sorry if I am asking the question poorly, I struggle to understand recursion formatting sometimes.</p>\n<p>Here is the function:</p>\n<pre><code>    public int count(int i) {\n        return countH(first, i);\n    }\n    \n    private int countH(Node front, int i) {  // TODO\n        int cter = 0;\n        if (front.next==null) {\n            return 0;\n        }\n        if(front.item == i)\n            cter++;\n        return countH(front, cter);\n        \n    }\n</code></pre>\n<p>This is a late version of my code, I'm sure it was a bit better before I messed with it a bunch to try to get it to work</p>\n<p>Thanks!</p>\n"},{"tags":["java","camunda","business-process-management"],"answers":[{"tags":[],"owner":{"account_id":109649,"reputation":11808,"user_id":290425,"accept_rate":68,"display_name":"Jan Galinski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649718491,"creation_date":1649718491,"answer_id":71835273,"question_id":71828643,"body_markdown":"I guess you are using &quot;straight through&quot; processes, so they just run and finish without wait states (like timers, messages, user tasks). In the camunda community edition, you won&#39;t be able to see those, as the CE cockpit has no history view. \r\nThat differs if you use the enterprise cockpit, then you can switch from runtime view to history view.\r\n\r\nAs you already mentioned, you can still access historic instances via the REST or java API, so you could build a custom view if you are not going enterprise.\r\n","title":"Camunda workflow with Java delegate expressions not showing in Cockpit","body":"<p>I guess you are using &quot;straight through&quot; processes, so they just run and finish without wait states (like timers, messages, user tasks). In the camunda community edition, you won't be able to see those, as the CE cockpit has no history view.\nThat differs if you use the enterprise cockpit, then you can switch from runtime view to history view.</p>\n<p>As you already mentioned, you can still access historic instances via the REST or java API, so you could build a custom view if you are not going enterprise.</p>\n"}],"owner":{"account_id":806553,"reputation":421,"user_id":896020,"accept_rate":10,"display_name":"era"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":707,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649718491,"creation_date":1649683418,"question_id":71828643,"body_markdown":"I have a workflow developed using Java delegate expressions. I have started multiple instance of this workflow using Caamunda engine rest API. The workflow runtime execution details are not showing in the Cockfit. I can see all workflow instances are completed successfully &amp; history recorded correctly. \r\n\r\nHow I can see the runtime details like the currently executing  service task, delay details, number of concurrently executing instances in the engine ...etc.","title":"Camunda workflow with Java delegate expressions not showing in Cockpit","body":"<p>I have a workflow developed using Java delegate expressions. I have started multiple instance of this workflow using Caamunda engine rest API. The workflow runtime execution details are not showing in the Cockfit. I can see all workflow instances are completed successfully &amp; history recorded correctly.</p>\n<p>How I can see the runtime details like the currently executing  service task, delay details, number of concurrently executing instances in the engine ...etc.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1649704886,"post_id":71833169,"comment_id":126939211,"body_markdown":"Change the endpoint after every request.","body":"Change the endpoint after every request."},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1649705102,"post_id":71833169,"comment_id":126939299,"body_markdown":"@TheJet 1 share the code that you have the issues with","body":"@TheJet 1 share the code that you have the issues with"},{"owner":{"account_id":12805747,"reputation":123,"user_id":9367249,"display_name":"TheJet 1"},"score":0,"creation_date":1649705194,"post_id":71833169,"comment_id":126939325,"body_markdown":"@PanagiotisBougioukos I am just discussing at a high level. There is no need to share any code for this scenario as I am not asking for any code in response. I am just looking for a high level approach.","body":"@PanagiotisBougioukos I am just discussing at a high level. There is no need to share any code for this scenario as I am not asking for any code in response. I am just looking for a high level approach."},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1649705278,"post_id":71833169,"comment_id":126939349,"body_markdown":"There is not a high level approach when you have a very specific issue that you wish to solve. You already have used some libraries for your project. So we can&#39;t propose any solutions if we don&#39;t know which library works under the hood and how the structure is","body":"There is not a high level approach when you have a very specific issue that you wish to solve. You already have used some libraries for your project. So we can&#39;t propose any solutions if we don&#39;t know which library works under the hood and how the structure is"},{"owner":{"account_id":12805747,"reputation":123,"user_id":9367249,"display_name":"TheJet 1"},"score":0,"creation_date":1649705703,"post_id":71833169,"comment_id":126939496,"body_markdown":"Well the company that my API is requesting from should be implementing a rate limiter and I shouldnt have to be throttling my requests but they wont do that. So I guess I am trying to implement a reverse rate limiter / request rate limiter. NPM has one https://www.npmjs.com/package/request-rate-limiter and I am wondering if Java Spring has something of the same sorts","body":"Well the company that my API is requesting from should be implementing a rate limiter and I shouldnt have to be throttling my requests but they wont do that. So I guess I am trying to implement a reverse rate limiter / request rate limiter. NPM has one <a href=\"https://www.npmjs.com/package/request-rate-limiter\" rel=\"nofollow noreferrer\">npmjs.com/package/request-rate-limiter</a> and I am wondering if Java Spring has something of the same sorts"},{"owner":{"account_id":1179237,"reputation":887,"user_id":1154544,"accept_rate":50,"display_name":"slambeth"},"score":1,"creation_date":1649705754,"post_id":71833169,"comment_id":126939519,"body_markdown":"Can you not simply add a Thread.sleep() to the call?","body":"Can you not simply add a Thread.sleep() to the call?"}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649707010,"creation_date":1649707010,"answer_id":71833604,"question_id":71833169,"body_markdown":"Add a queue to your API and every time you receive a request don&#39;t send it to 3d party API but write it to your queue. Run your consumer for that queue from [ScheduledThreadPoolExecutor][1] with time intervals that you need.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ScheduledThreadPoolExecutor.html","title":"Slowing down the interval of requests sent to a third party in Java Springboot?","body":"<p>Add a queue to your API and every time you receive a request don't send it to 3d party API but write it to your queue. Run your consumer for that queue from <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ScheduledThreadPoolExecutor.html\" rel=\"nofollow noreferrer\">ScheduledThreadPoolExecutor</a> with time intervals that you need.</p>\n"},{"tags":[],"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649707642,"creation_date":1649707642,"answer_id":71833718,"question_id":71833169,"body_markdown":"Please check out the [Resilience4j][1] library.  This library is built to help do what you&#39;re looking to do.\r\n\r\nDescription from their website, the emphasis is mine.\r\n\r\n&gt; Resilience4j is a lightweight fault tolerance library inspired by Netflix Hystrix, but designed for functional programming.\r\nResilience4j provides higher-order functions (decorators) to enhance any functional interface, lambda expression or method reference with a Circuit Breaker, **Rate Limiter**, Retry or Bulkhead. You can stack more than one decorator on any functional interface, lambda expression or method reference. The advantage is that you have the choice to select the decorators you need and nothing else.\r\n\r\n[Guide to Resilience4j][2], a tutorial from Baeldung.\r\n\r\n\r\n  [1]: https://resilience4j.readme.io/\r\n  [2]: https://www.baeldung.com/resilience4j","title":"Slowing down the interval of requests sent to a third party in Java Springboot?","body":"<p>Please check out the <a href=\"https://resilience4j.readme.io/\" rel=\"nofollow noreferrer\">Resilience4j</a> library.  This library is built to help do what you're looking to do.</p>\n<p>Description from their website, the emphasis is mine.</p>\n<blockquote>\n<p>Resilience4j is a lightweight fault tolerance library inspired by Netflix Hystrix, but designed for functional programming.\nResilience4j provides higher-order functions (decorators) to enhance any functional interface, lambda expression or method reference with a Circuit Breaker, <strong>Rate Limiter</strong>, Retry or Bulkhead. You can stack more than one decorator on any functional interface, lambda expression or method reference. The advantage is that you have the choice to select the decorators you need and nothing else.</p>\n</blockquote>\n<p><a href=\"https://www.baeldung.com/resilience4j\" rel=\"nofollow noreferrer\">Guide to Resilience4j</a>, a tutorial from Baeldung.</p>\n"},{"tags":[],"owner":{"account_id":3508628,"reputation":501,"user_id":2933553,"accept_rate":50,"display_name":"SaleemKhair"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649717885,"creation_date":1649717885,"answer_id":71835215,"question_id":71833169,"body_markdown":"The technical term for what you are looking for is **Throttle**.","title":"Slowing down the interval of requests sent to a third party in Java Springboot?","body":"<p>The technical term for what you are looking for is <strong>Throttle</strong>.</p>\n"}],"owner":{"account_id":12805747,"reputation":123,"user_id":9367249,"display_name":"TheJet 1"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":360,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71833718,"answer_count":3,"score":2,"last_activity_date":1649717885,"creation_date":1649704557,"question_id":71833169,"body_markdown":"I have an API that I have built in Java Springboot. I need to slow down the interval of requests sent to a third party from my API. What would be a good strategy to delay multiple requests sent from a Java Springboot API so that it is sent in intervals of ms?","title":"Slowing down the interval of requests sent to a third party in Java Springboot?","body":"<p>I have an API that I have built in Java Springboot. I need to slow down the interval of requests sent to a third party from my API. What would be a good strategy to delay multiple requests sent from a Java Springboot API so that it is sent in intervals of ms?</p>\n"},{"tags":["java","eclipse","code-formatting","eclipse-formatter"],"comments":[{"owner":{"account_id":4500391,"reputation":2003,"user_id":3659052,"accept_rate":55,"display_name":"logger"},"score":0,"creation_date":1452797588,"post_id":34796830,"comment_id":57338041,"body_markdown":"In eclipse go to `windows -&gt; preferences` on the left side open `Java -&gt; expend code style -&gt; Formatter`\n\nGo to New... add your own format. test with annotation in preview see if it match with the one you wanted.","body":"In eclipse go to <code>windows -&gt; preferences</code> on the left side open <code>Java -&gt; expend code style -&gt; Formatter</code>  Go to New... add your own format. test with annotation in preview see if it match with the one you wanted."},{"owner":{"account_id":2934440,"reputation":841,"user_id":2513761,"accept_rate":73,"display_name":"Zout"},"score":0,"creation_date":1452798948,"post_id":34796830,"comment_id":57338802,"body_markdown":"I have already done that, as indicated by what I showed after &quot;The best I&#39;ve been able to get&quot;. I was hoping there would be some trick that I haven&#39;t found, but to be honest my hopes are not too high","body":"I have already done that, as indicated by what I showed after &quot;The best I&#39;ve been able to get&quot;. I was hoping there would be some trick that I haven&#39;t found, but to be honest my hopes are not too high"},{"owner":{"account_id":990097,"reputation":555,"user_id":1007661,"display_name":"radicaledward101"},"score":0,"creation_date":1465925398,"post_id":34796830,"comment_id":63101289,"body_markdown":"I&#39;m also looking for something similar to this. What I&#39;m looking for would place the closing parentheses on the same line as the opening bracket if followed by a block and on its own line otherwise.","body":"I&#39;m also looking for something similar to this. What I&#39;m looking for would place the closing parentheses on the same line as the opening bracket if followed by a block and on its own line otherwise."}],"answers":[{"tags":[],"owner":{"account_id":7648377,"reputation":471,"user_id":5798141,"display_name":"flags"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649717478,"creation_date":1649717478,"answer_id":71835159,"question_id":34796830,"body_markdown":"Have you recently tried the options again? I found these:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uuUlj.png\r\n  [2]: https://i.stack.imgur.com/krjpI.png","title":"Eclipse Formatter - Wrapped parenthesis each on new line","body":"<p>Have you recently tried the options again? I found these:</p>\n<p><a href=\"https://i.stack.imgur.com/uuUlj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uuUlj.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/krjpI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/krjpI.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":2934440,"reputation":841,"user_id":2513761,"accept_rate":73,"display_name":"Zout"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1092,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1649717478,"creation_date":1452795357,"question_id":34796830,"body_markdown":"I would like to be able to customize Eclipse&#39;s formatter so that (where necessary) blocks wrapped by parenthesis can be formatted such that both the opening and closing parenthesis are on their own lines. (Like Allman style but for parenthesis instead of braces)\r\n\r\n    @Annotation\r\n    (\r\n      value1 = true,\r\n      value2 = &quot;this one is a string&quot;\r\n    )\r\n    public void MyMethod\r\n    (\r\n      int param1,\r\n      String param2,\r\n      double param3\r\n    )\r\n    {\r\n      //do something\r\n    }\r\n\r\nThe best I&#39;ve been able to get:\r\n\r\n    @Annotation(\r\n      value1 = true,\r\n      value2 = &quot;this one is a string&quot;)\r\n    public void MyMethod(\r\n      int param1,\r\n      String param2,\r\n      double param3)\r\n    {\r\n      //do something\r\n    }\r\n\r\n        ","title":"Eclipse Formatter - Wrapped parenthesis each on new line","body":"<p>I would like to be able to customize Eclipse's formatter so that (where necessary) blocks wrapped by parenthesis can be formatted such that both the opening and closing parenthesis are on their own lines. (Like Allman style but for parenthesis instead of braces)</p>\n\n<pre><code>@Annotation\n(\n  value1 = true,\n  value2 = \"this one is a string\"\n)\npublic void MyMethod\n(\n  int param1,\n  String param2,\n  double param3\n)\n{\n  //do something\n}\n</code></pre>\n\n<p>The best I've been able to get:</p>\n\n<pre><code>@Annotation(\n  value1 = true,\n  value2 = \"this one is a string\")\npublic void MyMethod(\n  int param1,\n  String param2,\n  double param3)\n{\n  //do something\n}\n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing","mockito"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1649663087,"post_id":71824241,"comment_id":126923716,"body_markdown":"apparently, that method wasn&#39;t called, or it wasn&#39;t called with that parameter.","body":"apparently, that method wasn&#39;t called, or it wasn&#39;t called with that parameter."}],"answers":[{"tags":[],"owner":{"account_id":14194880,"reputation":1483,"user_id":10254476,"display_name":"GJohannes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649717004,"creation_date":1649717004,"answer_id":71835103,"question_id":71824241,"body_markdown":"My guess is that you are missing      \r\n    \r\n    ....\r\n    @ExtendWith(SpringExtension.class)\r\n    @SpringBootTest\r\n    @ContextConfiguration\r\n    @AutoConfigureMockMvc\r\n    class ControllerTests  {\r\n    .....\r\n    \r\nabove your ControllerTest class. Also i would suggest to use @Autowired instead of @Spy and @InjectMocks, and Annotate your mocked Service,Mapper and repository with @MockBean \r\n\r\nOR (depending on your use case)\r\n\r\nUse the annotation \r\n    \r\n    @ExtendWith(MockitoExtension.class)\r\n\r\nthen you have a Mockito test which does not start the spring context. You could remove @SpringBootTest @ContextConfiguration @AutoConfigureMockMvc then. You don&#180;t need @AutoConfigureMockMvc anyways since you do not execute a http call, but call the RestControllers method directly. I dont see why you would need the spring context in your test, so I would prefer to use the Mockito Test. It is much faster since the applicationContext does not start.\r\n\r\nMixing Spring and Mockito testing environment works, but can make for weird circumstances. I generally try to stay in one. Either test a class and mock everything with Mockito or write an integration Test and use the Spring utilities. \r\n","title":"Mockito Controller Test I&#39;m getting error","body":"<p>My guess is that you are missing</p>\n<pre><code>....\n@ExtendWith(SpringExtension.class)\n@SpringBootTest\n@ContextConfiguration\n@AutoConfigureMockMvc\nclass ControllerTests  {\n.....\n</code></pre>\n<p>above your ControllerTest class. Also i would suggest to use @Autowired instead of @Spy and @InjectMocks, and Annotate your mocked Service,Mapper and repository with @MockBean</p>\n<p>OR (depending on your use case)</p>\n<p>Use the annotation</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\n</code></pre>\n<p>then you have a Mockito test which does not start the spring context. You could remove @SpringBootTest @ContextConfiguration @AutoConfigureMockMvc then. You don´t need @AutoConfigureMockMvc anyways since you do not execute a http call, but call the RestControllers method directly. I dont see why you would need the spring context in your test, so I would prefer to use the Mockito Test. It is much faster since the applicationContext does not start.</p>\n<p>Mixing Spring and Mockito testing environment works, but can make for weird circumstances. I generally try to stay in one. Either test a class and mock everything with Mockito or write an integration Test and use the Spring utilities.</p>\n"}],"owner":{"account_id":24887749,"reputation":1,"user_id":18760129,"display_name":"darkies"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1649717004,"creation_date":1649662998,"question_id":71824241,"body_markdown":"all I&#39;m trying to test my controller. But I&#39;m getting error.\r\n\r\n&gt; Wanted but not invoked: accountService.findAccount(&quot;9090&quot;);\r\n&gt; -&gt; at com.ontavio.bank.ControllerTests.givenId_Cash_thenReturnJson(ControllerTests.java:67)\r\n&gt; \r\n&gt; However, there was exactly 1 interaction with this mock:\r\n&gt; accountService.cash(\r\n&gt;     &quot;9090&quot;,\r\n&gt;     com.ontavio.bank.model.CashTransaction@2f408960 );\r\n    \r\n        @PostMapping(&quot;/cash/{accountNumber}&quot;)\r\n        public ResponseEntity&lt;TransactionStatus&gt; cash(@PathVariable String accountNumber, @RequestBody CashTransaction cashTransactionRequest) {\r\n            return ResponseEntity.ok(accountService.cash(accountNumber, cashTransactionRequest));\r\n        }\r\n    \r\n    ---\r\n        public TransactionStatus cash(String accountNumber, CashTransaction cashTransaction) {\r\n                Account account = this.findAccount(accountNumber);\r\n                cashTransaction.setType(TransactionTypes.CASH_TRANSACTION.getRelation());\r\n                account.post(cashTransaction);\r\n                accountRepository.save(accountMapper.AccountToAccountEntity(account));\r\n        \r\n                return TransactionStatus.createTransactionStatus(HttpStatus.OK, &quot;&quot;);\r\n        }\r\n    ----\r\n    @SpringBootTest\r\n    @ContextConfiguration\r\n    @AutoConfigureMockMvc\r\n    class ControllerTests  {\r\n    \r\n        @Spy\r\n        @InjectMocks\r\n        private AccountController accountController;\r\n    \r\n        @Mock\r\n        private AccountService accountService;\r\n    \r\n        @Mock\r\n        private AccountMapper accountMapper;\r\n    \r\n        @Mock\r\n        private AccountRepository accountRepository;\r\n    \r\n    \r\n        @Test\r\n        public void givenId_Cash_thenReturnJson()\r\n        throws Exception {\r\n            \r\n            Account account = new Account(&quot;James Harden&quot;, &quot;9090&quot;);\r\n    \r\n            CashTransaction cashTransaction = new CashTransaction(100.0);\r\n    \r\n            AccountEntity accountEntity = new AccountEntity();\r\n            accountEntity.setOwner(account.getOwner());\r\n            accountEntity.setAccountNumber(account.getAccountNumber());\r\n    \r\n            TransactionStatus transactionStatus = new TransactionStatus();\r\n            transactionStatus.setStatus(HttpStatus.OK.name());\r\n    \r\n    \r\n            doReturn(account).when(accountService).findAccount( &quot;9090&quot;);\r\n            doReturn(transactionStatus).when(accountService).cash(&quot;9090&quot;, depositTransaction);\r\n            doReturn(accountEntity).when(accountRepository).save(accountEntity);\r\n    \r\n            ResponseEntity&lt;TransactionStatus&gt; result = accountController.cash( &quot;9090&quot;, cashTransaction);\r\n            verify(accountService, times(1)).findAccount(&quot;9090&quot;);\r\n            assertEquals(&quot;OK&quot;, result.getBody().getStatus());\r\n        }\r\n\r\n\r\n","title":"Mockito Controller Test I&#39;m getting error","body":"<p>all I'm trying to test my controller. But I'm getting error.</p>\n<blockquote>\n<p>Wanted but not invoked: accountService.findAccount(&quot;9090&quot;);\n-&gt; at com.ontavio.bank.ControllerTests.givenId_Cash_thenReturnJson(ControllerTests.java:67)</p>\n<p>However, there was exactly 1 interaction with this mock:\naccountService.cash(\n&quot;9090&quot;,\ncom.ontavio.bank.model.CashTransaction@2f408960 );</p>\n</blockquote>\n<pre><code>    @PostMapping(&quot;/cash/{accountNumber}&quot;)\n    public ResponseEntity&lt;TransactionStatus&gt; cash(@PathVariable String accountNumber, @RequestBody CashTransaction cashTransactionRequest) {\n        return ResponseEntity.ok(accountService.cash(accountNumber, cashTransactionRequest));\n    }\n\n---\n    public TransactionStatus cash(String accountNumber, CashTransaction cashTransaction) {\n            Account account = this.findAccount(accountNumber);\n            cashTransaction.setType(TransactionTypes.CASH_TRANSACTION.getRelation());\n            account.post(cashTransaction);\n            accountRepository.save(accountMapper.AccountToAccountEntity(account));\n    \n            return TransactionStatus.createTransactionStatus(HttpStatus.OK, &quot;&quot;);\n    }\n----\n@SpringBootTest\n@ContextConfiguration\n@AutoConfigureMockMvc\nclass ControllerTests  {\n\n    @Spy\n    @InjectMocks\n    private AccountController accountController;\n\n    @Mock\n    private AccountService accountService;\n\n    @Mock\n    private AccountMapper accountMapper;\n\n    @Mock\n    private AccountRepository accountRepository;\n\n\n    @Test\n    public void givenId_Cash_thenReturnJson()\n    throws Exception {\n        \n        Account account = new Account(&quot;James Harden&quot;, &quot;9090&quot;);\n\n        CashTransaction cashTransaction = new CashTransaction(100.0);\n\n        AccountEntity accountEntity = new AccountEntity();\n        accountEntity.setOwner(account.getOwner());\n        accountEntity.setAccountNumber(account.getAccountNumber());\n\n        TransactionStatus transactionStatus = new TransactionStatus();\n        transactionStatus.setStatus(HttpStatus.OK.name());\n\n\n        doReturn(account).when(accountService).findAccount( &quot;9090&quot;);\n        doReturn(transactionStatus).when(accountService).cash(&quot;9090&quot;, depositTransaction);\n        doReturn(accountEntity).when(accountRepository).save(accountEntity);\n\n        ResponseEntity&lt;TransactionStatus&gt; result = accountController.cash( &quot;9090&quot;, cashTransaction);\n        verify(accountService, times(1)).findAccount(&quot;9090&quot;);\n        assertEquals(&quot;OK&quot;, result.getBody().getStatus());\n    }\n</code></pre>\n"},{"tags":["java","xml","spring","spring-boot","gradle"],"comments":[{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":0,"creation_date":1649708371,"post_id":71833721,"comment_id":126940345,"body_markdown":"Please explain what you mean by &quot;doesn&#39;t work&quot;. What does your application do when run on Linux? Is it returning the wrong output? If so, please include details of what it should return and what it actually does. Is it reporting an error? If so, please edit your question to include the full details of the error. If it is something else, please explain clearly why you consider that it isn&#39;t working.","body":"Please explain what you mean by &quot;doesn&#39;t work&quot;. What does your application do when run on Linux? Is it returning the wrong output? If so, please include details of what it should return and what it actually does. Is it reporting an error? If so, please edit your question to include the full details of the error. If it is something else, please explain clearly why you consider that it isn&#39;t working."},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1649712934,"post_id":71833721,"comment_id":126941606,"body_markdown":"_It works on my machine_ - _Then we&#39;ll ship your machine_ - And that&#39;s how Docker was born.","body":"<i>It works on my machine</i> - <i>Then we&#39;ll ship your machine</i> - And that&#39;s how Docker was born."}],"owner":{"account_id":18577796,"reputation":11,"user_id":13538009,"display_name":"Mistborn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649715694,"creation_date":1649707647,"question_id":71833721,"body_markdown":"I&#39;m a project than I generate a wsdl client with apache cfx.\r\nWhen I run my project in mi local machine with Windows it works perfectlly, but when I was to try in machine with SO Linux (Red hat) it didn&#39;t work.\r\nMy xml since Windows is:\r\n\r\n    &lt;env:Envelope xmlns:env=&#39;http://schemas.xmlsoap.org/soap/envelope/&#39;&gt;\r\n    \t&lt;env:Header&gt;\r\n    \t\t&lt;wsse:Security xmlns:wsse=&#39;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&#39; xmlns:wsu=&#39;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&#39;&gt;\r\n    \t\t\t&lt;wsse:UsernameToken wsu:Id=&#39;UsernameToken-3e963a94-b8fc-4876-ace8-b675f270d3a0&#39;&gt;\r\n    \t\t\t\t&lt;wsse:Username&gt;myusername&lt;/wsse:Username&gt;\r\n    \t\t\t\t&lt;wsse:Password Type=&#39;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText&#39;&gt;mypass&lt;/wsse:Password&gt;\r\n    \t\t\t&lt;/wsse:UsernameToken&gt;\r\n    \t\t&lt;/wsse:Security&gt;\r\n    \t\t&lt;ns4:HeaderReq xmlns:ns4=&#39;http://www.something.com/ws/nss/general/Headers&#39; xmlns:ns3=&#39;http://www.something.com/ws/nss/common/ExcepcionGeneral&#39; xmlns:ns2=&#39;http://www.something.com/ws/iss/nameWebConsume&#39; locale=&#39;es_MX&#39; codIdioma=&#39;UTF-8&#39;&gt;\r\n    \t\t\t&lt;Deploy&gt;\r\n    \t\t\t\t***\r\n    \t\t\t&lt;/Deploy&gt;\r\n    \t\t\t&lt;Access&gt;\r\n    \t\t\t\t***\r\n    \t\t\t&lt;/Access&gt;\r\n    \t\t\t&lt;Consumer&gt;\r\n    \t\t\t\t***\r\n    \t\t\t&lt;/Consumer&gt;\r\n    \t\t\t&lt;RequestData&gt;\r\n    \t\t\t\t***\r\n    \t\t\t&lt;/RequestData&gt;\r\n    \t\t&lt;/ns4:HeaderReq&gt;\r\n    \t&lt;/env:Header&gt;\r\n    \t&lt;env:Body&gt;\r\n    \t\t&lt;CheckSomething xmlns=&#39;http://www.something.com/ws/nss/nameWebConsume&#39; xmlns:ns4=&#39;http://www.something.com/ws/nss/general/Headers&#39; xmlns:ns3=&#39;http://www.something.com/ws/nss/common/ExcepcionGeneral&#39; xmlns:ns2=&#39;http://www.something.com/ws/iss/nameWebConsume&#39;&gt;\r\n    \t\t\t&lt;Folio&gt;123456789&lt;/Folio&gt;\r\n    \t\t&lt;/CheckSomething&gt;\r\n    \t&lt;/env:Body&gt;\r\n    &lt;/env:Envelope&gt;\r\n\r\nMy xml since linux is:\r\n\r\n    &lt;soap:Envelope xmlns:soap=&#39;http://schemas.xmlsoap.org/soap/envelope/&#39;&gt;\r\n    \t&lt;soap:Header&gt;\r\n    \t\t&lt;wsse:Security xmlns:wsse=&#39;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&#39; xmlns:wsu=&#39;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&#39;&gt;\r\n    \t\t\t&lt;wsse:UsernameToken wsu:Id=&#39;UsernameToken-9d835b01-63d0-4d88-9d15-6c06b73531a2&#39;&gt;\r\n    \t\t\t\t&lt;wsse:Username&gt;myusername&lt;/wsse:Username&gt;\r\n    \t\t\t\t&lt;wsse:Password Type=&#39;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText&#39;&gt;mypass&lt;/wsse:Password&gt;\r\n    \t\t\t&lt;/wsse:UsernameToken&gt;\r\n    \t\t&lt;/wsse:Security&gt;\r\n    \t\t&lt;ns2:HeaderReq xmlns:ns2=&#39;http://www.something.com/ws/nss/general/Headers&#39; xmlns:ns3=&#39;http://www.something.com/ws/nss/common/ExcepcionGeneral&#39; xmlns:ns4=&#39;http://www.something.com/ws/iss/nameWebConsume&#39; codIdioma=&#39;UTF-8&#39; locale=&#39;es_MX&#39;&gt;\r\n    \t\t\t&lt;Deploy&gt;\r\n    \t\t\t\t***\r\n    \t\t\t&lt;/Deploy&gt;\r\n    \t\t\t&lt;Access&gt;\r\n    \t\t\t\t***\r\n    \t\t\t&lt;/Access&gt;\r\n    \t\t\t&lt;Consumer&gt;\r\n    \t\t\t\t***\r\n    \t\t\t&lt;/Consumer&gt;\r\n    \t\t\t&lt;RequestData&gt;\r\n    \t\t\t\t***\r\n    \t\t\t&lt;/RequestData&gt;\r\n    \t\t&lt;/ns2:HeaderReq&gt;\r\n    \t&lt;/soap:Header&gt;\r\n    \t&lt;soap:Body&gt;\r\n    \t\t&lt;ns4:CheckSomething xmlns:ns2=&#39;http://www.something.com/ws/nss/general/Headers&#39; xmlns:ns3=&#39;http://www.something.com/ws/nss/common/ExcepcionGeneral&#39; xmlns:ns4=&#39;http://www.something.com/ws/iss/nameWebConsume&#39;&gt;\r\n    \t\t\t&lt;Folio&gt;123456789&lt;/Folio&gt;\r\n    \t\t&lt;/ns4:CheckSomething&gt;\r\n    \t&lt;/soap:Body&gt;\r\n    &lt;/soap:Envelope&gt;\r\n\r\nAs you can see there are different tags from both SO, my question is: How I can create the same xml request to consume wsdl service?\r\n\r\nMy code configuration in classes, every header looks like I post \r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(name = &quot;HeaderRequestType&quot;, propOrder = {\r\n        &quot;deploy&quot;,\r\n        &quot;access&quot;,\r\n        &quot;consumer&quot;,\r\n        &quot;requestData&quot;\r\n    })\r\n    public class HeaderRequestType {...}\r\n    \r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(name = &quot;CheckSomething&quot;, namespace = &quot;http://www.something.com/ws/iss/nameWebConsume&quot;, propOrder = {\r\n        &quot;folio&quot;\r\n    })\r\n    public class CheckSomething {...}\r\n    \r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(name = &quot;Deploy&quot;, propOrder = {\r\n        ...\r\n    })\r\n    public class Deploy {...}\r\n\r\nMy interface where I consume SOAP\r\n\r\n    @WebService(targetNamespace = &quot;http://www.something.com/ws/iss/nameWebConsume&quot;, name = &quot;nameWebConsume&quot;)\r\n    @XmlSeeAlso({ObjectFactory.class})\r\n    @SOAPBinding(parameterStyle = SOAPBinding.ParameterStyle.BARE)\r\n    public interface CheckSomething {\r\n    \r\n        @WebMethod\r\n        public void CheckSomething(\r\n            @WebParam(partName = &quot;request&quot;, name = &quot;CheckSomethingIn&quot;, targetNamespace = &quot;http://www.something.com/ws/iss/nameWebConsume&quot;) CheckSomethingInType request,\r\n            @WebParam(partName = &quot;headerRequest&quot;, name = &quot;HeaderReq&quot;, targetNamespace = &quot;http://www.something.com/ws/nss/general/Headers&quot;, header = true) HeaderRequestType headerRequest,\r\n            @WebParam(partName = &quot;response&quot;, mode = WebParam.Mode.OUT, name = &quot;CheckSomethingOut&quot;, targetNamespace = &quot;http://www.something.com/ws/iss/nameWebConsume&quot;) javax.xml.ws.Holder&lt;CheckSomethingOutType&gt; response,\r\n            @WebParam(partName = &quot;headerResponse&quot;, mode = WebParam.Mode.OUT, name = &quot;HeaderRes&quot;, targetNamespace = &quot;http://www.something.com/ws/nss/general/Headers&quot;, header = true) javax.xml.ws.Holder&lt;HeaderResponseType&gt; headerResponse\r\n        ) throws CheckSomethingFault;\r\n    \t\r\n    }\r\n\r\nThat&#39;s it.\r\nI you need more files where I have configuration I will update my post.\r\nUpdate 1\r\nI have a response in windows good (with data) and when I try in linux I have an error says: Error in data integration cvc-complex-type 2.4: in element ","title":"Wsdl client works in windows but not in linux environment","body":"<p>I'm a project than I generate a wsdl client with apache cfx.\nWhen I run my project in mi local machine with Windows it works perfectlly, but when I was to try in machine with SO Linux (Red hat) it didn't work.\nMy xml since Windows is:</p>\n<pre><code>&lt;env:Envelope xmlns:env='http://schemas.xmlsoap.org/soap/envelope/'&gt;\n    &lt;env:Header&gt;\n        &lt;wsse:Security xmlns:wsse='http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd' xmlns:wsu='http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd'&gt;\n            &lt;wsse:UsernameToken wsu:Id='UsernameToken-3e963a94-b8fc-4876-ace8-b675f270d3a0'&gt;\n                &lt;wsse:Username&gt;myusername&lt;/wsse:Username&gt;\n                &lt;wsse:Password Type='http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText'&gt;mypass&lt;/wsse:Password&gt;\n            &lt;/wsse:UsernameToken&gt;\n        &lt;/wsse:Security&gt;\n        &lt;ns4:HeaderReq xmlns:ns4='http://www.something.com/ws/nss/general/Headers' xmlns:ns3='http://www.something.com/ws/nss/common/ExcepcionGeneral' xmlns:ns2='http://www.something.com/ws/iss/nameWebConsume' locale='es_MX' codIdioma='UTF-8'&gt;\n            &lt;Deploy&gt;\n                ***\n            &lt;/Deploy&gt;\n            &lt;Access&gt;\n                ***\n            &lt;/Access&gt;\n            &lt;Consumer&gt;\n                ***\n            &lt;/Consumer&gt;\n            &lt;RequestData&gt;\n                ***\n            &lt;/RequestData&gt;\n        &lt;/ns4:HeaderReq&gt;\n    &lt;/env:Header&gt;\n    &lt;env:Body&gt;\n        &lt;CheckSomething xmlns='http://www.something.com/ws/nss/nameWebConsume' xmlns:ns4='http://www.something.com/ws/nss/general/Headers' xmlns:ns3='http://www.something.com/ws/nss/common/ExcepcionGeneral' xmlns:ns2='http://www.something.com/ws/iss/nameWebConsume'&gt;\n            &lt;Folio&gt;123456789&lt;/Folio&gt;\n        &lt;/CheckSomething&gt;\n    &lt;/env:Body&gt;\n&lt;/env:Envelope&gt;\n</code></pre>\n<p>My xml since linux is:</p>\n<pre><code>&lt;soap:Envelope xmlns:soap='http://schemas.xmlsoap.org/soap/envelope/'&gt;\n    &lt;soap:Header&gt;\n        &lt;wsse:Security xmlns:wsse='http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd' xmlns:wsu='http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd'&gt;\n            &lt;wsse:UsernameToken wsu:Id='UsernameToken-9d835b01-63d0-4d88-9d15-6c06b73531a2'&gt;\n                &lt;wsse:Username&gt;myusername&lt;/wsse:Username&gt;\n                &lt;wsse:Password Type='http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText'&gt;mypass&lt;/wsse:Password&gt;\n            &lt;/wsse:UsernameToken&gt;\n        &lt;/wsse:Security&gt;\n        &lt;ns2:HeaderReq xmlns:ns2='http://www.something.com/ws/nss/general/Headers' xmlns:ns3='http://www.something.com/ws/nss/common/ExcepcionGeneral' xmlns:ns4='http://www.something.com/ws/iss/nameWebConsume' codIdioma='UTF-8' locale='es_MX'&gt;\n            &lt;Deploy&gt;\n                ***\n            &lt;/Deploy&gt;\n            &lt;Access&gt;\n                ***\n            &lt;/Access&gt;\n            &lt;Consumer&gt;\n                ***\n            &lt;/Consumer&gt;\n            &lt;RequestData&gt;\n                ***\n            &lt;/RequestData&gt;\n        &lt;/ns2:HeaderReq&gt;\n    &lt;/soap:Header&gt;\n    &lt;soap:Body&gt;\n        &lt;ns4:CheckSomething xmlns:ns2='http://www.something.com/ws/nss/general/Headers' xmlns:ns3='http://www.something.com/ws/nss/common/ExcepcionGeneral' xmlns:ns4='http://www.something.com/ws/iss/nameWebConsume'&gt;\n            &lt;Folio&gt;123456789&lt;/Folio&gt;\n        &lt;/ns4:CheckSomething&gt;\n    &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>\n<p>As you can see there are different tags from both SO, my question is: How I can create the same xml request to consume wsdl service?</p>\n<p>My code configuration in classes, every header looks like I post</p>\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;HeaderRequestType&quot;, propOrder = {\n    &quot;deploy&quot;,\n    &quot;access&quot;,\n    &quot;consumer&quot;,\n    &quot;requestData&quot;\n})\npublic class HeaderRequestType {...}\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;CheckSomething&quot;, namespace = &quot;http://www.something.com/ws/iss/nameWebConsume&quot;, propOrder = {\n    &quot;folio&quot;\n})\npublic class CheckSomething {...}\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;Deploy&quot;, propOrder = {\n    ...\n})\npublic class Deploy {...}\n</code></pre>\n<p>My interface where I consume SOAP</p>\n<pre><code>@WebService(targetNamespace = &quot;http://www.something.com/ws/iss/nameWebConsume&quot;, name = &quot;nameWebConsume&quot;)\n@XmlSeeAlso({ObjectFactory.class})\n@SOAPBinding(parameterStyle = SOAPBinding.ParameterStyle.BARE)\npublic interface CheckSomething {\n\n    @WebMethod\n    public void CheckSomething(\n        @WebParam(partName = &quot;request&quot;, name = &quot;CheckSomethingIn&quot;, targetNamespace = &quot;http://www.something.com/ws/iss/nameWebConsume&quot;) CheckSomethingInType request,\n        @WebParam(partName = &quot;headerRequest&quot;, name = &quot;HeaderReq&quot;, targetNamespace = &quot;http://www.something.com/ws/nss/general/Headers&quot;, header = true) HeaderRequestType headerRequest,\n        @WebParam(partName = &quot;response&quot;, mode = WebParam.Mode.OUT, name = &quot;CheckSomethingOut&quot;, targetNamespace = &quot;http://www.something.com/ws/iss/nameWebConsume&quot;) javax.xml.ws.Holder&lt;CheckSomethingOutType&gt; response,\n        @WebParam(partName = &quot;headerResponse&quot;, mode = WebParam.Mode.OUT, name = &quot;HeaderRes&quot;, targetNamespace = &quot;http://www.something.com/ws/nss/general/Headers&quot;, header = true) javax.xml.ws.Holder&lt;HeaderResponseType&gt; headerResponse\n    ) throws CheckSomethingFault;\n    \n}\n</code></pre>\n<p>That's it.\nI you need more files where I have configuration I will update my post.\nUpdate 1\nI have a response in windows good (with data) and when I try in linux I have an error says: Error in data integration cvc-complex-type 2.4: in element</p>\n"},{"tags":["java","android","android-studio","task","android-workmanager"],"answers":[{"tags":[],"owner":{"account_id":13470693,"reputation":46,"user_id":9719300,"display_name":"belgacem abibakr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649715559,"creation_date":1649652480,"answer_id":71822808,"question_id":71822681,"body_markdown":"You should call getText and build your variable DATa inside the setOnClickListener.\r\n\r\nYour code will be : \r\n\r\n        public class MainAvtivity extends AppCompatActivity {\r\n          Button btNn;\r\n          EditText value1, value2;\r\n    \r\n          public static final String VALUE1 = &quot;value1&quot;;\r\n          public static final String VALUE2 = &quot;value2&quot;;\r\n    \r\n          @SuppressLint(&quot;WrongViewCast&quot;)\r\n          @Override\r\n          protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            value1 = (EditText) findViewById(R.id.Firstvalue);\r\n            value2 = (EditText) findViewById(R.id.Secondvalue);\r\n            btNn = (Button) findViewById(R.id.calculate);\r\n    \r\n            btNn.setOnClickListener(new View.OnClickListener() {\r\n              @Override\r\n              public void onClick(View view) {\r\n                String Value1 = value1.getText().toString().trim();\r\n                String Value2 = value2.getText().toString().trim();\r\n    \r\n                Data DATa = new Data.Builder()\r\n                  .putString(VALUE1, Value1)\r\n                  .putString(VALUE2, Value2)\r\n                  .build();\r\n    \r\n                final OneTimeWorkRequest workRequest = new OneTimeWorkRequest.Builder(smabullsetwork.class)\r\n                  .setInputData(DATa)\r\n                  .build();\r\n                WorkManager.getInstance().enqueue(workRequest);\r\n              }\r\n            });\r\n          }","title":"why my textinputs doesn&#39;t take any data and appear empty in android studio?","body":"<p>You should call getText and build your variable DATa inside the setOnClickListener.</p>\n<p>Your code will be :</p>\n<pre><code>    public class MainAvtivity extends AppCompatActivity {\n      Button btNn;\n      EditText value1, value2;\n\n      public static final String VALUE1 = &quot;value1&quot;;\n      public static final String VALUE2 = &quot;value2&quot;;\n\n      @SuppressLint(&quot;WrongViewCast&quot;)\n      @Override\n      protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        value1 = (EditText) findViewById(R.id.Firstvalue);\n        value2 = (EditText) findViewById(R.id.Secondvalue);\n        btNn = (Button) findViewById(R.id.calculate);\n\n        btNn.setOnClickListener(new View.OnClickListener() {\n          @Override\n          public void onClick(View view) {\n            String Value1 = value1.getText().toString().trim();\n            String Value2 = value2.getText().toString().trim();\n\n            Data DATa = new Data.Builder()\n              .putString(VALUE1, Value1)\n              .putString(VALUE2, Value2)\n              .build();\n\n            final OneTimeWorkRequest workRequest = new OneTimeWorkRequest.Builder(smabullsetwork.class)\n              .setInputData(DATa)\n              .build();\n            WorkManager.getInstance().enqueue(workRequest);\n          }\n        });\n      }\n</code></pre>\n"}],"owner":{"account_id":24596748,"reputation":11,"user_id":18500039,"display_name":"Thejudg 47"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71822808,"answer_count":1,"score":-1,"last_activity_date":1649715559,"creation_date":1649650790,"question_id":71822681,"body_markdown":"When I try to use the input data with workmanager, it throws an exception: java.lang.NumberFormatException:Input&quot;&quot;, it means that the variables used are empty but they are filled in the gui. Also tried by converting the variable to int but is the same, the problem is that it doesn&#39;t have the input\r\n\r\nmainactivity.java\r\n\r\n    public class MainAvtivity extends AppCompatActivity {\r\n    Button btNn;\r\n    EditText value1, value2;\r\n\r\n    public static final String VALUE1 = &quot;value1&quot;;\r\n    public static final String VALUE2 = &quot;value2&quot;;\r\n\r\n    @SuppressLint(&quot;WrongViewCast&quot;)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        value1 = (EditText)findViewById(R.id.Firstvalue);\r\n        value2 = (EditText) findViewById(R.id.Secondvalue);\r\n        btNn = (Button)findViewById(R.id.calculate);\r\n\r\n        String Value1 = value1.getText().toString().trim();\r\n        String Value2 = value2.getText().toString().trim();\r\n\r\n        Data DATa = new Data.Builder()\r\n                .putString(VALUE1, Value1)\r\n                .putString(VALUE2, Value2)\r\n                .build();\r\n\r\n        final OneTimeWorkRequest workRequest = new OneTimeWorkRequest.Builder(smabullsetwork.class)\r\n                .setInputData(DATa)\r\n                .build();\r\n\r\n        btNn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                WorkManager.getInstance().enqueue(workRequest);\r\n            }\r\n        });\r\n    }\r\nworkmanager file\r\n\r\n    public class calculator extends Worker {\r\n\r\n    public claculator(@NonNull Context context, @NonNull WorkerParameters workerParams) {\r\n        super(context, workerParams);\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public Result doWork() {\r\n\r\n        Data data = getInputData();\r\n        String valuee1 = data.getString(MainActivity.VALUE1);\r\n        String valuee2 = data.getString(MainActivity.VALUE2);\r\n\r\n        int Value1 = Integer.parseInt(valuee1);\r\n        int value2 = Integer.parseInt(valuee2);\r\n        int result = value1*value2;\r\n        DisplayNotiFication(&quot;Result is...&quot;, result);\r\n\r\n        return Result.success();\r\n    }\r\n\r\n","title":"why my textinputs doesn&#39;t take any data and appear empty in android studio?","body":"<p>When I try to use the input data with workmanager, it throws an exception: java.lang.NumberFormatException:Input&quot;&quot;, it means that the variables used are empty but they are filled in the gui. Also tried by converting the variable to int but is the same, the problem is that it doesn't have the input</p>\n<p>mainactivity.java</p>\n<pre><code>public class MainAvtivity extends AppCompatActivity {\nButton btNn;\nEditText value1, value2;\n\npublic static final String VALUE1 = &quot;value1&quot;;\npublic static final String VALUE2 = &quot;value2&quot;;\n\n@SuppressLint(&quot;WrongViewCast&quot;)\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    value1 = (EditText)findViewById(R.id.Firstvalue);\n    value2 = (EditText) findViewById(R.id.Secondvalue);\n    btNn = (Button)findViewById(R.id.calculate);\n\n    String Value1 = value1.getText().toString().trim();\n    String Value2 = value2.getText().toString().trim();\n\n    Data DATa = new Data.Builder()\n            .putString(VALUE1, Value1)\n            .putString(VALUE2, Value2)\n            .build();\n\n    final OneTimeWorkRequest workRequest = new OneTimeWorkRequest.Builder(smabullsetwork.class)\n            .setInputData(DATa)\n            .build();\n\n    btNn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            WorkManager.getInstance().enqueue(workRequest);\n        }\n    });\n}\n</code></pre>\n<p>workmanager file</p>\n<pre><code>public class calculator extends Worker {\n\npublic claculator(@NonNull Context context, @NonNull WorkerParameters workerParams) {\n    super(context, workerParams);\n}\n\n@NonNull\n@Override\npublic Result doWork() {\n\n    Data data = getInputData();\n    String valuee1 = data.getString(MainActivity.VALUE1);\n    String valuee2 = data.getString(MainActivity.VALUE2);\n\n    int Value1 = Integer.parseInt(valuee1);\n    int value2 = Integer.parseInt(valuee2);\n    int result = value1*value2;\n    DisplayNotiFication(&quot;Result is...&quot;, result);\n\n    return Result.success();\n}\n</code></pre>\n"},{"tags":["java","algorithm","text","user-input"],"owner":{"account_id":24861747,"reputation":11,"user_id":18737425,"display_name":"Sophie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649714851,"creation_date":1649714851,"question_id":71834824,"body_markdown":"I am trying to compare this code to a text file to get the output:\r\n\r\n&quot;This is english&quot;. I have a couple of textfiles that has english and other languages text in it, but how do I compare my input code (Scanner input) to the textfile to see if its english or not? I have this code &quot;LangLabel curLabel = LangLabel.EN;&quot; that basicly specifices that its english but I would like it to check all the files and then compare and see which one it is.\r\n```\r\nimport java.util.HashMap;\r\nimport java.util.Scanner;\r\nimport java.util.stream.IntStream;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Scanner scan = new Scanner(System.in);\r\n        System.out.println(&quot;Type in a language&quot;);\r\n        String thetext = scan.nextLine();\r\n\r\n        Main lf = new Main();\r\n        String sentence = thetext;\r\n        sentence = sentence.replace(&quot;.&quot;, &quot;&quot;);\r\n        List&lt;LetterCount&gt; letterCounts = lf.calculateLetterCounts(sentence);\r\n\r\n        for (LetterCount letterCount : letterCounts) {\r\n            System.out.print(letterCount.getLetter() + &quot; &quot;);\r\n            System.out.print(letterCount.getCount() + &quot;/&quot;);\r\n            System.out.print(sentence.length() + &quot; - &quot;);\r\n            double percentage = 100.0 * letterCount.getCount() / sentence.length();\r\n            System.out.println(String.format(&quot;%,.2f&quot;, percentage) + &quot;%&quot;);\r\n        }\r\n        String text = &quot;Grace Hopper (f&#246;dd Murray), f&#246;dd den 9 december 1906 i New York, d&#246;d den 1 januari 1992 i Arlington, Virginia, var en amerikansk dator-pionj&#228;r och sj&#246;officer (flottiljamiral).&quot;;\r\n\r\n\r\n        text = text.replaceAll(&quot;[^\\\\p{L}\\\\s]&quot;, &quot;&quot;);\r\n\r\n        text = text.replaceAll(&quot;\\\\s+&quot;, &quot; &quot;);\r\n\r\n        String[] words = text.split(&quot; &quot;);\r\n\r\n        for (String word : words) {\r\n            System.out.print(&quot;&#39;&quot; + word + &quot;&#39; &quot;);\r\n        }\r\n\r\n        HashMap&lt;LangLabel, Language&gt; languages = new HashMap&lt;&gt;();\r\n\r\n\r\n\r\n        System.out.println(&quot;\\n ---- Loop enum:&quot;);\r\n        for (LangLabel label : LangLabel.values()) {\r\n\r\n            String content = Utils.readTextFile(&quot;assets/lang-samples/&quot; + label + &quot;.txt&quot;);\r\n\r\n            languages.put(label, new Language(content, label));\r\n            LangLabel curLabel = LangLabel.EN;\r\n            System.out.println(curLabel.getName());\r\n        }\r\n\r\n        //System.out.println(content);\r\n    }\r\n\r\n\r\n    public List&lt;LetterCount&gt; calculateLetterCounts(String sentence) {\r\n        List&lt;LetterCount&gt; letterCounts = new ArrayList&lt;&gt;();\r\n        char[] letters = sentence.toCharArray();\r\n        for (char c : letters) {\r\n            if (c != &#39; &#39;) {\r\n                addCount(letterCounts, c);\r\n            }\r\n        }\r\n\r\n        return letterCounts;\r\n    }\r\n\r\n    private void addCount(List&lt;LetterCount&gt; letterCounts, char c) {\r\n        for (LetterCount letterCount : letterCounts) {\r\n            if (letterCount.getLetter() == c) {\r\n                letterCount.incrementCount();\r\n                return;\r\n            }\r\n        }\r\n```","title":"Java, trying to compare userinput to a textfile algorithm","body":"<p>I am trying to compare this code to a text file to get the output:</p>\n<p>&quot;This is english&quot;. I have a couple of textfiles that has english and other languages text in it, but how do I compare my input code (Scanner input) to the textfile to see if its english or not? I have this code &quot;LangLabel curLabel = LangLabel.EN;&quot; that basicly specifices that its english but I would like it to check all the files and then compare and see which one it is.</p>\n<pre><code>import java.util.HashMap;\nimport java.util.Scanner;\nimport java.util.stream.IntStream;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Main {\n\n    public static void main(String[] args) {\n\n        Scanner scan = new Scanner(System.in);\n        System.out.println(&quot;Type in a language&quot;);\n        String thetext = scan.nextLine();\n\n        Main lf = new Main();\n        String sentence = thetext;\n        sentence = sentence.replace(&quot;.&quot;, &quot;&quot;);\n        List&lt;LetterCount&gt; letterCounts = lf.calculateLetterCounts(sentence);\n\n        for (LetterCount letterCount : letterCounts) {\n            System.out.print(letterCount.getLetter() + &quot; &quot;);\n            System.out.print(letterCount.getCount() + &quot;/&quot;);\n            System.out.print(sentence.length() + &quot; - &quot;);\n            double percentage = 100.0 * letterCount.getCount() / sentence.length();\n            System.out.println(String.format(&quot;%,.2f&quot;, percentage) + &quot;%&quot;);\n        }\n        String text = &quot;Grace Hopper (född Murray), född den 9 december 1906 i New York, död den 1 januari 1992 i Arlington, Virginia, var en amerikansk dator-pionjär och sjöofficer (flottiljamiral).&quot;;\n\n\n        text = text.replaceAll(&quot;[^\\\\p{L}\\\\s]&quot;, &quot;&quot;);\n\n        text = text.replaceAll(&quot;\\\\s+&quot;, &quot; &quot;);\n\n        String[] words = text.split(&quot; &quot;);\n\n        for (String word : words) {\n            System.out.print(&quot;'&quot; + word + &quot;' &quot;);\n        }\n\n        HashMap&lt;LangLabel, Language&gt; languages = new HashMap&lt;&gt;();\n\n\n\n        System.out.println(&quot;\\n ---- Loop enum:&quot;);\n        for (LangLabel label : LangLabel.values()) {\n\n            String content = Utils.readTextFile(&quot;assets/lang-samples/&quot; + label + &quot;.txt&quot;);\n\n            languages.put(label, new Language(content, label));\n            LangLabel curLabel = LangLabel.EN;\n            System.out.println(curLabel.getName());\n        }\n\n        //System.out.println(content);\n    }\n\n\n    public List&lt;LetterCount&gt; calculateLetterCounts(String sentence) {\n        List&lt;LetterCount&gt; letterCounts = new ArrayList&lt;&gt;();\n        char[] letters = sentence.toCharArray();\n        for (char c : letters) {\n            if (c != ' ') {\n                addCount(letterCounts, c);\n            }\n        }\n\n        return letterCounts;\n    }\n\n    private void addCount(List&lt;LetterCount&gt; letterCounts, char c) {\n        for (LetterCount letterCount : letterCounts) {\n            if (letterCount.getLetter() == c) {\n                letterCount.incrementCount();\n                return;\n            }\n        }\n</code></pre>\n"},{"tags":["java","swing","button","size"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1618579232,"post_id":67125435,"comment_id":118651231,"body_markdown":"The problem is that the code is trying to put two components, in a place only one can go. Provide ASCII art or a simple drawing of the *intended* layout of the GUI at minimum size, and if resizable, with more width and height - to show how the extra space should be used.","body":"The problem is that the code is trying to put two components, in a place only one can go. Provide ASCII art or a simple drawing of the <i>intended</i> layout of the GUI at minimum size, and if resizable, with more width and height - to show how the extra space should be used."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":3,"creation_date":1618579576,"post_id":67125435,"comment_id":118651399,"body_markdown":"Other notes: 1) `frame.setVisible(true);` should be last. Immediately after `frame.pack();` 2) All Swing/AWT GUIs should be made and launched on the Event Dispatch Thread. 3) See [Should I avoid the use of set(Preferred|Maximum|Minimum)Size methods in Java Swing?](http://stackoverflow.com/q/7229226/418556)  (Yes.) 4) See [my answer](https://stackoverflow.com/a/13881481/418556) to *&quot;Only one component shows up in JFrame&quot;* for more details re the 1st comment. 5) Please learn common Java nomenclature (naming conventions - e.g. ..","body":"Other notes: 1) <code>frame.setVisible(true);</code> should be last. Immediately after <code>frame.pack();</code> 2) All Swing/AWT GUIs should be made and launched on the Event Dispatch Thread. 3) See <a href=\"http://stackoverflow.com/q/7229226/418556\">Should I avoid the use of set(Preferred|Maximum|Minimum)Size methods in Java Swing?</a>  (Yes.) 4) See <a href=\"https://stackoverflow.com/a/13881481/418556\">my answer</a> to <i>&quot;Only one component shows up in JFrame&quot;</i> for more details re the 1st comment. 5) Please learn common Java nomenclature (naming conventions - e.g. .."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1618579704,"post_id":67125435,"comment_id":118651459,"body_markdown":".. `EachWordUpperCaseClass`, `firstWordLowerCaseMethod()`, `firstWordLowerCaseAttribute` unless it is an `UPPER_CASE_CONSTANT`) and use it consistently. 5) The button and frame can accept text in the constructor. It is used as the title of the frame or text of the button. You might instead pass an `ImageIcon` to the button constructor.","body":".. <code>EachWordUpperCaseClass</code>, <code>firstWordLowerCaseMethod()</code>, <code>firstWordLowerCaseAttribute</code> unless it is an <code>UPPER_CASE_CONSTANT</code>) and use it consistently. 5) The button and frame can accept text in the constructor. It is used as the title of the frame or text of the button. You might instead pass an <code>ImageIcon</code> to the button constructor."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1618583074,"post_id":67125435,"comment_id":118653112,"body_markdown":"Also, don&#39;t use static variables.","body":"Also, don&#39;t use static variables."},{"owner":{"account_id":20583112,"reputation":65,"user_id":15108682,"display_name":"lockks"},"score":0,"creation_date":1618632283,"post_id":67125435,"comment_id":118666772,"body_markdown":"@AndrewThompson can you please simplify what you said pls?","body":"@AndrewThompson can you please simplify what you said pls?"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1618633048,"post_id":67125435,"comment_id":118666883,"body_markdown":"What don&#39;t you understand? Be specific.","body":"What don&#39;t you understand? Be specific."},{"owner":{"account_id":20583112,"reputation":65,"user_id":15108682,"display_name":"lockks"},"score":0,"creation_date":1618633512,"post_id":67125435,"comment_id":118666955,"body_markdown":"since im a beginner, i would say, everything? except for the ```frame.setVisible(true)``` after ```frame.pack()```","body":"since im a beginner, i would say, everything? except for the <code>frame.setVisible(true)</code> after <code>frame.pack()</code>"}],"answers":[{"tags":[],"owner":{"account_id":21044939,"reputation":36,"user_id":15466451,"display_name":"Priyanshu Nautiyal"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1618660184,"creation_date":1618660184,"answer_id":67137821,"question_id":67125435,"body_markdown":"You have to create the label first or add the label first\r\nand add the label in frame\r\nand add the button in label \r\nand set the button properties to these\r\nHere as you can notice, I have changed all the components properties\r\nBut first you must learn the swing components properties\r\nBest of luck\r\n\r\n\r\n    public static void main(String[] args) {\r\n            \r\n            frame = new JFrame();\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.setSize(400,400);\r\n            frame.setVisible(true);\r\n            \r\n            label = new JLabel(&quot;Hello Window!&quot;);\r\n            label.setSize(300,300);\r\n            label.setLocation(50,50);\r\n            label.setVisible(true);\r\n            frame.add(label);\r\n    \r\n            \r\n            button = new JButton();\r\n            button.setSize(50,50);\r\n            button.setVisible(true);\r\n            button.setLocation(100,100);\r\n            label.add(button);\r\n       \r\n        }\r\n    \r\n    }","title":"Button covering window","body":"<p>You have to create the label first or add the label first\nand add the label in frame\nand add the button in label\nand set the button properties to these\nHere as you can notice, I have changed all the components properties\nBut first you must learn the swing components properties\nBest of luck</p>\n<pre><code>public static void main(String[] args) {\n        \n        frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setSize(400,400);\n        frame.setVisible(true);\n        \n        label = new JLabel(&quot;Hello Window!&quot;);\n        label.setSize(300,300);\n        label.setLocation(50,50);\n        label.setVisible(true);\n        frame.add(label);\n\n        \n        button = new JButton();\n        button.setSize(50,50);\n        button.setVisible(true);\n        button.setLocation(100,100);\n        label.add(button);\n   \n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20583112,"reputation":65,"user_id":15108682,"display_name":"lockks"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622829856,"creation_date":1622829856,"answer_id":67842044,"question_id":67125435,"body_markdown":"I realized I forgot to add a GridLayout.","title":"Button covering window","body":"<p>I realized I forgot to add a GridLayout.</p>\n"}],"owner":{"account_id":20583112,"reputation":65,"user_id":15108682,"display_name":"lockks"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1622865448,"answer_count":2,"score":-1,"last_activity_date":1649714619,"creation_date":1618576959,"question_id":67125435,"body_markdown":"I&#39;m very new to java and I now know how to make an empty window but there&#39;s a button and a label and the button keeps on covering the window. How do I size the button?\r\n\r\n```\r\nimport java.awt.Dimension;\r\n\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.SwingConstants;\r\n\r\n\r\npublic class swingProgram {\r\n\t\r\n\tprivate static JFrame frame;\r\n\tprivate static JLabel label;\r\n\tprivate static JButton button;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tframe = new JFrame();\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe.setVisible(true);\r\n\t\t\r\n\t\t\r\n\t\tbutton = new JButton();\r\n\t\tbutton.setPreferredSize(new Dimension(40, 40));\r\n\t\t\r\n\t\t\r\n\t\tlabel = new JLabel(&quot;Hello Window!&quot;, SwingConstants.CENTER);\r\n\t\tframe.add(label);\r\n\t\tframe.add(button);\r\n\r\n\t}\r\n\r\n}\r\n","title":"Button covering window","body":"<p>I'm very new to java and I now know how to make an empty window but there's a button and a label and the button keeps on covering the window. How do I size the button?</p>\n<pre><code>import java.awt.Dimension;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.SwingConstants;\n\n\npublic class swingProgram {\n    \n    private static JFrame frame;\n    private static JLabel label;\n    private static JButton button;\n\n    public static void main(String[] args) {\n        \n        frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setVisible(true);\n        \n        \n        button = new JButton();\n        button.setPreferredSize(new Dimension(40, 40));\n        \n        \n        label = new JLabel(&quot;Hello Window!&quot;, SwingConstants.CENTER);\n        frame.add(label);\n        frame.add(button);\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"score":0,"creation_date":1649735210,"post_id":71834687,"comment_id":126945364,"body_markdown":"please share complete stacktrace that you see in console.","body":"please share complete stacktrace that you see in console."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1649744630,"post_id":71834687,"comment_id":126947056,"body_markdown":"It fails to load the context, the stacktrace will give you the reason. I suggest to read it.","body":"It fails to load the context, the stacktrace will give you the reason. I suggest to read it."}],"owner":{"account_id":19103228,"reputation":75,"user_id":13956589,"display_name":"HamsterofDeath"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":908,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649713947,"creation_date":1649713947,"question_id":71834687,"body_markdown":"I followed a standard spring boot tutorial for restful web services and wanted to add a test\r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @SpringBootTest()\r\n    @AutoConfigureMockMvc\r\n    class DQApplicationTests {\r\n        @Autowired\r\n        DQService service;\r\n    \r\n        @Test\r\n        void contextLoads() {\r\n            Assertions.assertThat(service).isNotNull();\r\n        }\r\n    \r\n    }\r\n\r\nbut I&#39;m getting the error &quot;java.lang.IllegalStateException: Failed to load ApplicationContext&quot;\r\n\r\nThe application itself runs just fine with zero configuration (no xml files, just an app class annotated with @SpringBootApplication. IntelliJ IDEA warns me about @Autowired being &quot;not defined in a valid bean&quot; but suggests no fix\r\n\r\nhow do i fix the test?\r\n","title":"Spring boot test does not initialize application context","body":"<p>I followed a standard spring boot tutorial for restful web services and wanted to add a test</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@SpringBootTest()\n@AutoConfigureMockMvc\nclass DQApplicationTests {\n    @Autowired\n    DQService service;\n\n    @Test\n    void contextLoads() {\n        Assertions.assertThat(service).isNotNull();\n    }\n\n}\n</code></pre>\n<p>but I'm getting the error &quot;java.lang.IllegalStateException: Failed to load ApplicationContext&quot;</p>\n<p>The application itself runs just fine with zero configuration (no xml files, just an app class annotated with @SpringBootApplication. IntelliJ IDEA warns me about @Autowired being &quot;not defined in a valid bean&quot; but suggests no fix</p>\n<p>how do i fix the test?</p>\n"},{"tags":["java","spring","spring-security","spring-rest"],"comments":[{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"score":1,"creation_date":1648489674,"post_id":71651484,"comment_id":126631736,"body_markdown":"You are securing your endpoint and you are getting forbidden. If you send jwt token in requests most probably you have a problem with filter","body":"You are securing your endpoint and you are getting forbidden. If you send jwt token in requests most probably you have a problem with filter"},{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"score":0,"creation_date":1648490822,"post_id":71651484,"comment_id":126632103,"body_markdown":"If you are throwing exception in filter, and does not catch it how can you send valid response to user? It is not controller so controller advice can not catch it","body":"If you are throwing exception in filter, and does not catch it how can you send valid response to user? It is not controller so controller advice can not catch it"},{"owner":{"account_id":20961136,"reputation":1,"user_id":15400552,"display_name":"gotped17"},"score":0,"creation_date":1648491368,"post_id":71651484,"comment_id":126632271,"body_markdown":"The application never enters the AuthenticationEntryPoint during the get request on the endpoint in the code above. My Signin endpoint works fine and I get a valid token back and if I don&#39;t use that token, I get a 401 - Unauthorized(which should be the case). Also, my spring application is not throwing  any exceptions to console, and the 403 - forbidden error page also does not contain any further information.","body":"The application never enters the AuthenticationEntryPoint during the get request on the endpoint in the code above. My Signin endpoint works fine and I get a valid token back and if I don&#39;t use that token, I get a 401 - Unauthorized(which should be the case). Also, my spring application is not throwing  any exceptions to console, and the 403 - forbidden error page also does not contain any further information."},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1650359456,"post_id":71651484,"comment_id":127090251,"body_markdown":"@gotped17 What is the value of `userDetails.getAuthorities()`?","body":"@gotped17 What is the value of <code>userDetails.getAuthorities()</code>?"}],"owner":{"account_id":20961136,"reputation":1,"user_id":15400552,"display_name":"gotped17"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":411,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649713720,"creation_date":1648489267,"question_id":71651484,"body_markdown":"I am currently working on an application with spring, and I currently face the problem that all requests I do return the error 403 - Forbidden. It is not only [post,put,patch,delete], but also get. Also, I have csrf already disabled.\r\nHere my SecurityConfig:\r\n```java\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n                .anonymous().and()\r\n                .authorizeRequests()\r\n                    .antMatchers(&quot;/signin&quot;).permitAll()\r\n                    .antMatchers(&quot;/signup&quot;).permitAll()\r\n                    .antMatchers(&quot;/rss/feed&quot;).permitAll()\r\n                    .antMatchers(&quot;/article/{guid}&quot;).permitAll()\r\n                    .anyRequest().authenticated()\r\n                .and()\r\n                .exceptionHandling()\r\n                .authenticationEntryPoint(authenticationEntryPoint).and()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\r\n                .addFilterBefore(jwtAuthenticationFilter, UsernamePasswordAuthenticationFilter.class)\r\n                .csrf().disable().cors();\r\n\r\n    }\r\n```\r\n\r\nAnd here one of the endpoints which is not working properly:\r\n```java\r\n    @PreAuthorize(&quot;hasAnyRole(&#39;ADMIN&#39;, &#39;PUBLISHER&#39;, &#39;USER&#39;)&quot;)\r\n    @GetMapping(&quot;/users/current&quot;)\r\n    public User getCurrent(@RequestHeader Map&lt;String, String&gt; headers){\r\n        String token = headers.get(&quot;Authorization&quot;);\r\n        System.out.println(&quot;Current user request&quot;);\r\n        return userAuthService.getUserByUsername(jwtUtil.getUser(token).getUsername());\r\n    }\r\n```\r\nAnd yes, I know that ```csrf().disable()``` is dangerous, I disabled it for now to see if it is some problem with csrf. \r\n\r\nHere my JwtAuthenticationFilter:\r\n```java\r\n@Component\r\npublic class JwtAuthenticationFilter extends OncePerRequestFilter {\r\n\r\n    @Autowired\r\n    private JwtUtil jwtUtil;\r\n    @Autowired\r\n    private UserAuthService userAuthService;\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\r\n            throws ServletException, IOException {\r\n        String header = request.getHeader(&quot;Authorization&quot;);\r\n        if(header == null){\r\n            throw new NullPointerException(&quot;No headers&quot;);\r\n        }\r\n        if (!header.startsWith(&quot;Bearer&quot;)) {\r\n            throw new JwtTokenMissingException(&quot;No JWT token found in the request headers&quot;);\r\n        }\r\n        String token = header.substring(7);\r\n        // Optional - verification\r\n        jwtUtil.validateToken(token);\r\n        UserVo userVo = jwtUtil.getUser(token);\r\n        UserDetails userDetails = userAuthService.loadUserByUsername(userVo.getUsername());\r\n\r\n        UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken = new UsernamePasswordAuthenticationToken(\r\n                userDetails, null, userDetails.getAuthorities());\r\n        usernamePasswordAuthenticationToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n        if (SecurityContextHolder.getContext().getAuthentication() == null) {\r\n            SecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthenticationToken);\r\n        }\r\n        filterChain.doFilter(request, response);\r\n    }\r\n}\r\n```\r\n\r\nEdit: I enabled Security logging and got the following error on Spring console:\r\n```\r\n2022-04-04 18:22:26.611 DEBUG 9804 --- [nio-8080-exec-2] o.s.s.a.i.a.MethodSecurityInterceptor    : Failed to authorize ReflectiveMethodInvocation: public at.brigot.kainblog.pojos.User at.brigot.kainblog.controller.AuthController.getCurrent(java.util.Map); target is of class [at.brigot.kainblog.controller.AuthController] with attributes [[authorize: &#39;hasAnyRole(&#39;ADMIN&#39;, &#39;PUBLISHER&#39;, &#39;USER&#39;)&#39;, filter: &#39;null&#39;, filterTarget: &#39;null&#39;]]\r\n```\r\nAlso if needed, here the full request info I got from spring:\r\n```\r\n************************************************************\r\nRequest received for GET &#39;/users/current&#39;:\r\n\r\norg.apache.catalina.connector.RequestFacade@1d49a6ca\r\n\r\nservletPath:/users/current\r\npathInfo:null\r\nheaders: \r\nhost: localhost:8080\r\nconnection: keep-alive\r\nsec-ch-ua: &quot; Not A;Brand&quot;;v=&quot;99&quot;, &quot;Chromium&quot;;v=&quot;98&quot;, &quot;Opera GX&quot;;v=&quot;84&quot;\r\naccept: application/json, text/plain, */*\r\nauthorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJnb3RwZWQxNyIsInJvbGVzIjpbIkFETUlOIiwiVVNFUiJdLCJpYXQiOjE2NDkwODkyMDcsImV4cCI6MTY0OTA4OTM4N30.b5vg-azO433Ozk8GoiakQC-T2ULdFVsde6MrJhW8XpIhA5k5AtA_Q6i0vuCGATQV8RwteMzBc86CzKmuQ7kuYA\r\nsec-ch-ua-mobile: ?0\r\nuser-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.109 Safari/537.36 OPR/84.0.4316.52\r\nsec-ch-ua-platform: &quot;Windows&quot;\r\norigin: http://localhost:3000\r\nsec-fetch-site: same-site\r\nsec-fetch-mode: cors\r\nsec-fetch-dest: empty\r\nreferer: http://localhost:3000/\r\naccept-encoding: gzip, deflate, br\r\naccept-language: de-DE,de;q=0.9,en-US;q=0.8,en;q=0.7\r\n\r\n\r\nSecurity filter chain: [\r\n  WebAsyncManagerIntegrationFilter\r\n  SecurityContextPersistenceFilter\r\n  HeaderWriterFilter\r\n  CorsFilter\r\n  LogoutFilter\r\n  JwtAuthenticationFilter\r\n  RequestCacheAwareFilter\r\n  SecurityContextHolderAwareRequestFilter\r\n  AnonymousAuthenticationFilter\r\n  SessionManagementFilter\r\n  ExceptionTranslationFilter\r\n  FilterSecurityInterceptor\r\n]\r\n\r\n\r\n************************************************************\r\n```","title":"Spring Security Requests are 403","body":"<p>I am currently working on an application with spring, and I currently face the problem that all requests I do return the error 403 - Forbidden. It is not only [post,put,patch,delete], but also get. Also, I have csrf already disabled.\nHere my SecurityConfig:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .anonymous().and()\n                .authorizeRequests()\n                    .antMatchers(&quot;/signin&quot;).permitAll()\n                    .antMatchers(&quot;/signup&quot;).permitAll()\n                    .antMatchers(&quot;/rss/feed&quot;).permitAll()\n                    .antMatchers(&quot;/article/{guid}&quot;).permitAll()\n                    .anyRequest().authenticated()\n                .and()\n                .exceptionHandling()\n                .authenticationEntryPoint(authenticationEntryPoint).and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n                .addFilterBefore(jwtAuthenticationFilter, UsernamePasswordAuthenticationFilter.class)\n                .csrf().disable().cors();\n\n    }\n</code></pre>\n<p>And here one of the endpoints which is not working properly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @PreAuthorize(&quot;hasAnyRole('ADMIN', 'PUBLISHER', 'USER')&quot;)\n    @GetMapping(&quot;/users/current&quot;)\n    public User getCurrent(@RequestHeader Map&lt;String, String&gt; headers){\n        String token = headers.get(&quot;Authorization&quot;);\n        System.out.println(&quot;Current user request&quot;);\n        return userAuthService.getUserByUsername(jwtUtil.getUser(token).getUsername());\n    }\n</code></pre>\n<p>And yes, I know that <code>csrf().disable()</code> is dangerous, I disabled it for now to see if it is some problem with csrf.</p>\n<p>Here my JwtAuthenticationFilter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class JwtAuthenticationFilter extends OncePerRequestFilter {\n\n    @Autowired\n    private JwtUtil jwtUtil;\n    @Autowired\n    private UserAuthService userAuthService;\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\n            throws ServletException, IOException {\n        String header = request.getHeader(&quot;Authorization&quot;);\n        if(header == null){\n            throw new NullPointerException(&quot;No headers&quot;);\n        }\n        if (!header.startsWith(&quot;Bearer&quot;)) {\n            throw new JwtTokenMissingException(&quot;No JWT token found in the request headers&quot;);\n        }\n        String token = header.substring(7);\n        // Optional - verification\n        jwtUtil.validateToken(token);\n        UserVo userVo = jwtUtil.getUser(token);\n        UserDetails userDetails = userAuthService.loadUserByUsername(userVo.getUsername());\n\n        UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken = new UsernamePasswordAuthenticationToken(\n                userDetails, null, userDetails.getAuthorities());\n        usernamePasswordAuthenticationToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n        if (SecurityContextHolder.getContext().getAuthentication() == null) {\n            SecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthenticationToken);\n        }\n        filterChain.doFilter(request, response);\n    }\n}\n</code></pre>\n<p>Edit: I enabled Security logging and got the following error on Spring console:</p>\n<pre><code>2022-04-04 18:22:26.611 DEBUG 9804 --- [nio-8080-exec-2] o.s.s.a.i.a.MethodSecurityInterceptor    : Failed to authorize ReflectiveMethodInvocation: public at.brigot.kainblog.pojos.User at.brigot.kainblog.controller.AuthController.getCurrent(java.util.Map); target is of class [at.brigot.kainblog.controller.AuthController] with attributes [[authorize: 'hasAnyRole('ADMIN', 'PUBLISHER', 'USER')', filter: 'null', filterTarget: 'null']]\n</code></pre>\n<p>Also if needed, here the full request info I got from spring:</p>\n<pre><code>************************************************************\nRequest received for GET '/users/current':\n\norg.apache.catalina.connector.RequestFacade@1d49a6ca\n\nservletPath:/users/current\npathInfo:null\nheaders: \nhost: localhost:8080\nconnection: keep-alive\nsec-ch-ua: &quot; Not A;Brand&quot;;v=&quot;99&quot;, &quot;Chromium&quot;;v=&quot;98&quot;, &quot;Opera GX&quot;;v=&quot;84&quot;\naccept: application/json, text/plain, */*\nauthorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJnb3RwZWQxNyIsInJvbGVzIjpbIkFETUlOIiwiVVNFUiJdLCJpYXQiOjE2NDkwODkyMDcsImV4cCI6MTY0OTA4OTM4N30.b5vg-azO433Ozk8GoiakQC-T2ULdFVsde6MrJhW8XpIhA5k5AtA_Q6i0vuCGATQV8RwteMzBc86CzKmuQ7kuYA\nsec-ch-ua-mobile: ?0\nuser-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.109 Safari/537.36 OPR/84.0.4316.52\nsec-ch-ua-platform: &quot;Windows&quot;\norigin: http://localhost:3000\nsec-fetch-site: same-site\nsec-fetch-mode: cors\nsec-fetch-dest: empty\nreferer: http://localhost:3000/\naccept-encoding: gzip, deflate, br\naccept-language: de-DE,de;q=0.9,en-US;q=0.8,en;q=0.7\n\n\nSecurity filter chain: [\n  WebAsyncManagerIntegrationFilter\n  SecurityContextPersistenceFilter\n  HeaderWriterFilter\n  CorsFilter\n  LogoutFilter\n  JwtAuthenticationFilter\n  RequestCacheAwareFilter\n  SecurityContextHolderAwareRequestFilter\n  AnonymousAuthenticationFilter\n  SessionManagementFilter\n  ExceptionTranslationFilter\n  FilterSecurityInterceptor\n]\n\n\n************************************************************\n</code></pre>\n"},{"tags":["java","sorting","comparable"],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649713026,"creation_date":1649694651,"answer_id":71831278,"question_id":71831164,"body_markdown":"You have an array `...[]` hence you need [`Arrays.sort`][1], not `Collections.sort` which is for any Collection like List.\r\n\r\n    Arrays.sort(points,\r\n        Comparator.comparingDouble(Point2D::getX)\r\n                  .thenComparingDouble(Point2D::getY));\r\n\r\nFurthermore [`Comparator`][2] has nice methods for (several) comparing fields.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/util/Arrays.html\r\n  [2]: https://docs.oracle.com/javase/10/docs/api/java/util/Comparator.html","title":"Comparator for Java Point2D does not work","body":"<p>You have an array <code>...[]</code> hence you need <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Arrays.html\" rel=\"nofollow noreferrer\"><code>Arrays.sort</code></a>, not <code>Collections.sort</code> which is for any Collection like List.</p>\n<pre><code>Arrays.sort(points,\n    Comparator.comparingDouble(Point2D::getX)\n              .thenComparingDouble(Point2D::getY));\n</code></pre>\n<p>Furthermore <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Comparator.html\" rel=\"nofollow noreferrer\"><code>Comparator</code></a> has nice methods for (several) comparing fields.</p>\n"}],"owner":{"account_id":5476976,"reputation":782,"user_id":6346482,"accept_rate":50,"display_name":"Hemmelig"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649713026,"creation_date":1649694155,"question_id":71831164,"body_markdown":"I have an array of 2D points in Java and want to sort it. I have used comparators from different websites, like for example from https://stackoverflow.com/questions/29030348/collections-sort-doesnt-work-on-listpoint2d-double but none of them work for me.\r\n\r\nIf I for example use the following code:\r\n\r\n    Point2D[] points = new Point2D[numPoints];\r\n    // add some points\r\n    \r\n    Collections.sort(points, new Comparator&lt;Point2D.Double&gt;() {\r\n    \t\t\t\tpublic int compare(Point2D.Double p1, Point2D.Double p2) {\r\n    \t\t\t\t\treturn (int)(p1.getX() - p2.getX());\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n\r\nI always get the following error message:\r\n\r\n    error: no suitable method found for sort(Point2D[],&lt;anonymous Comparator&lt;Double&gt;&gt;)\r\n                            Collections.sort(points, new Comparator&lt;Point2D.Double&gt;() {\r\n                                       ^\r\n        method Collections.&lt;T#1&gt;sort(List&lt;T#1&gt;) is not applicable\r\n          (cannot infer type-variable(s) T#1\r\n            (actual and formal argument lists differ in length))\r\n        method Collections.&lt;T#2&gt;sort(List&lt;T#2&gt;,Comparator&lt;? super T#2&gt;) is not applicable\r\n          (cannot infer type-variable(s) T#2\r\n            (argument mismatch; Point2D[] cannot be converted to List&lt;T#2&gt;))\r\n      where T#1,T#2 are type-variables:\r\n        T#1 extends Comparable&lt;? super T#1&gt; declared in method &lt;T#1&gt;sort(List&lt;T#1&gt;)\r\n        T#2 extends Object declared in method &lt;T#2&gt;sort(List&lt;T#2&gt;,Comparator&lt;? super T#2&gt;)\r\n    1 error\r\n\r\nIs there any obvious reason for that?","title":"Comparator for Java Point2D does not work","body":"<p>I have an array of 2D points in Java and want to sort it. I have used comparators from different websites, like for example from <a href=\"https://stackoverflow.com/questions/29030348/collections-sort-doesnt-work-on-listpoint2d-double\">Collections.sort doesn&#39;t work on List&lt;Point2D.Double&gt;</a> but none of them work for me.</p>\n<p>If I for example use the following code:</p>\n<pre><code>Point2D[] points = new Point2D[numPoints];\n// add some points\n\nCollections.sort(points, new Comparator&lt;Point2D.Double&gt;() {\n                public int compare(Point2D.Double p1, Point2D.Double p2) {\n                    return (int)(p1.getX() - p2.getX());\n                }\n            });\n</code></pre>\n<p>I always get the following error message:</p>\n<pre><code>error: no suitable method found for sort(Point2D[],&lt;anonymous Comparator&lt;Double&gt;&gt;)\n                        Collections.sort(points, new Comparator&lt;Point2D.Double&gt;() {\n                                   ^\n    method Collections.&lt;T#1&gt;sort(List&lt;T#1&gt;) is not applicable\n      (cannot infer type-variable(s) T#1\n        (actual and formal argument lists differ in length))\n    method Collections.&lt;T#2&gt;sort(List&lt;T#2&gt;,Comparator&lt;? super T#2&gt;) is not applicable\n      (cannot infer type-variable(s) T#2\n        (argument mismatch; Point2D[] cannot be converted to List&lt;T#2&gt;))\n  where T#1,T#2 are type-variables:\n    T#1 extends Comparable&lt;? super T#1&gt; declared in method &lt;T#1&gt;sort(List&lt;T#1&gt;)\n    T#2 extends Object declared in method &lt;T#2&gt;sort(List&lt;T#2&gt;,Comparator&lt;? super T#2&gt;)\n1 error\n</code></pre>\n<p>Is there any obvious reason for that?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":1,"creation_date":1649712902,"post_id":71834524,"comment_id":126941597,"body_markdown":"https://www.baeldung.com/java-printstream-printf","body":"<a href=\"https://www.baeldung.com/java-printstream-printf\" rel=\"nofollow noreferrer\">baeldung.com/java-printstream-printf</a>"}],"answers":[{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1649712881,"creation_date":1649712881,"answer_id":71834551,"question_id":71834524,"body_markdown":"The whole point of `printf` is that the arguments that it formats are provided separately, rather than added explicitly to the `String`.  What you wanted to write was this.  \r\n\r\n    System.out.printf(\r\n        &quot;Spacecraft speed is %.2f of speed of light, or %.2f Miles/sec.&quot;, \r\n        spacecraftSpeed, \r\n        spacecraftSpeed * 186282);\r\n\r\nYou usually need to provide one additional argument for every format specifier (i.e., the `%.2f` part) in the format string - although there is a way to reuse the arguments.\r\n\r\nNote that I&#39;ve also changed your `/` to a `*` - you convert a fraction of the speed of light into miles per second by multiplying by `186282`, not dividing.  But that&#39;s a whole other topic.","title":"Im trying to format decimal point (x.xx) in Java. I dont understand why an java.util.MissingFormatArgumentException: Format specifier &#39;%.2f&#39;","body":"<p>The whole point of <code>printf</code> is that the arguments that it formats are provided separately, rather than added explicitly to the <code>String</code>.  What you wanted to write was this.</p>\n<pre><code>System.out.printf(\n    &quot;Spacecraft speed is %.2f of speed of light, or %.2f Miles/sec.&quot;, \n    spacecraftSpeed, \n    spacecraftSpeed * 186282);\n</code></pre>\n<p>You usually need to provide one additional argument for every format specifier (i.e., the <code>%.2f</code> part) in the format string - although there is a way to reuse the arguments.</p>\n<p>Note that I've also changed your <code>/</code> to a <code>*</code> - you convert a fraction of the speed of light into miles per second by multiplying by <code>186282</code>, not dividing.  But that's a whole other topic.</p>\n"}],"owner":{"account_id":24906210,"reputation":1,"user_id":18776246,"display_name":"gawdess"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1649713364,"answer_count":1,"score":-2,"last_activity_date":1649712881,"creation_date":1649712719,"question_id":71834524,"body_markdown":"    System.out.printf(&quot;Spacecraft speed is %.2f&quot; + spacecraftSpeed + &quot;of speed of light, or %.2f&quot; + (spacecraftSpeed/186282) + &quot; Miles/sec.&quot;);\r\n\r\n","title":"Im trying to format decimal point (x.xx) in Java. I dont understand why an java.util.MissingFormatArgumentException: Format specifier &#39;%.2f&#39;","body":"<pre><code>System.out.printf(&quot;Spacecraft speed is %.2f&quot; + spacecraftSpeed + &quot;of speed of light, or %.2f&quot; + (spacecraftSpeed/186282) + &quot; Miles/sec.&quot;);\n</code></pre>\n"},{"tags":["java","maven","resteasy","jbpm","jboss-eap-7"],"answers":[{"tags":[],"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649712594,"creation_date":1649712594,"answer_id":71834506,"question_id":71834398,"body_markdown":"You&#39;ve got a dependency on two different versions of RESTEasy. You don&#39;t want to use 6.0.0.Final as that is Jakarta REST 3.0 which is Jakarta EE 9.1. You want to use the latest 3.15.x version as that is what JBoss EAP 7.4 uses. You also want to make sure you mark those dependencies as `&lt;scope&gt;provided&lt;/scope&gt;` as they are provided by JBoss EAP 7.4.\r\n\r\nI don&#39;t think you need the `org.jboss.resteasy:resteasy-servlet-initializer` at either.","title":"Transitive dependency problem with JBPM, JBoss and RestEasy?","body":"<p>You've got a dependency on two different versions of RESTEasy. You don't want to use 6.0.0.Final as that is Jakarta REST 3.0 which is Jakarta EE 9.1. You want to use the latest 3.15.x version as that is what JBoss EAP 7.4 uses. You also want to make sure you mark those dependencies as <code>&lt;scope&gt;provided&lt;/scope&gt;</code> as they are provided by JBoss EAP 7.4.</p>\n<p>I don't think you need the <code>org.jboss.resteasy:resteasy-servlet-initializer</code> at either.</p>\n"}],"owner":{"account_id":7897306,"reputation":570,"user_id":5965533,"display_name":"Dr Dave"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":511,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649712594,"creation_date":1649711781,"question_id":71834398,"body_markdown":"My code seems to be breaking on a transitive dependency issue that I cannot find.  I am trying to migrate from JBoss EAP 7.3 with RedHat&#39;s PAM 7.9 product (which is JBPM 7.48) to JBoss EAP 7.4 with PAM 7.12 (ie JBPM 7.59) and am experiencing the issue in a servlet of mine that calls the kie-server via a kie-client API.  I have read about and encountered RESTEasy issues before with JBoss, so based upon my error have removed the &lt;provided&gt; tags to hopefully avoid any inconsistencies - but still have an odd error.\r\n\r\nThis is the stack trace that I get which has been edited for brevity:\r\n```\r\n5:37:57,975 ERROR [io.undertow.request] (default task-4) UT005023: Exception handling request to /PamHelper/pam/helper/pamQuery: org.jboss.resteasy.spi.UnhandledException: java.lang.NoSuchFieldError: _typeCache\r\n        at org.jboss.resteasy.core.ExceptionHandler.handleApplicationException(ExceptionHandler.java:82)\r\n        at org.jboss.resteasy.core.ExceptionHandler.handleException(ExceptionHandler.java:346)\r\n        at org.jboss.resteasy.core.SynchronousDispatcher.writeException(SynchronousDispatcher.java:193)\r\n ...\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)\r\n ...\r\n        at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n        at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)\r\n...\r\n        at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)\r\n        at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n        at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n        at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)\r\n        at java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.lang.NoSuchFieldError: _typeCache\r\n        at org.kie.server.api.marshalling.json.FallbackableTypeFactory.withFallbackClassLoader(FallbackableTypeFactory.java:62)\r\n        at org.kie.server.api.marshalling.json.JSONMarshaller.configureMarshaller(JSONMarshaller.java:284)\r\n        at org.kie.server.api.marshalling.json.JSONMarshaller.&lt;init&gt;(JSONMarshaller.java:180)\r\n        at org.kie.server.api.marshalling.BaseMarshallerBuilder.build(BaseMarshallerBuilder.java:45)\r\n        at org.kie.server.api.marshalling.MarshallerFactory.getMarshaller(MarshallerFactory.java:50)\r\n        at org.kie.server.client.impl.AbstractKieServicesClientImpl.&lt;init&gt;(AbstractKieServicesClientImpl.java:84)\r\n        at org.kie.server.client.impl.KieServicesClientImpl.&lt;init&gt;(KieServicesClientImpl.java:74)\r\n        at org.kie.server.client.KieServicesFactory.newKieServicesClient(KieServicesFactory.java:101)\r\n```\r\nThis is my dependency tree.  I have guessing there is a conflict either in a RestEasy dependency or (from the error message) some odd problem initializing marshalling; there is no typeCache field either in my code or the JBPM source code.\r\n```\r\n[INFO] --- maven-dependency-plugin:2.8:tree (default-cli) @ PamServer ---\r\n[INFO] com.gok.ams:PamServer:war:1.0-SNAPSHOT\r\n[INFO] +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.12.3:compile\r\n[INFO] |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.12.3:compile\r\n[INFO] |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.12.3:compile\r\n[INFO] +- com.fasterxml.jackson.core:jackson-databind:jar:2.12.3:compile\r\n[INFO] +- jakarta.persistence:jakarta.persistence-api:jar:2.2.3:compile\r\n[INFO] +- com.gok.ams:ams-pam-util:jar:0.0.12-SNAPSHOT:compile\r\n[INFO] |  +- org.hibernate:hibernate-core:jar:5.5.8.Final-redhat-00001:compile\r\n[INFO] |  |  +- javax.persistence:javax.persistence-api:jar:2.2:compile\r\n[INFO] |  |  +- org.javassist:javassist:jar:3.27.0.GA-redhat-00001:compile\r\n[INFO] |  |  +- net.bytebuddy:byte-buddy:jar:1.11.12.redhat-00002:compile\r\n[INFO] |  |  +- antlr:antlr:jar:2.7.7.redhat-7:compile\r\n[INFO] |  |  +- org.jboss.spec.javax.transaction:jboss-transaction-api_1.2_spec:jar:1.1.1.Final:compile\r\n[INFO] |  |  +- org.jboss:jandex:jar:2.2.3.Final-redhat-00001:compile\r\n[INFO] |  |  +- com.fasterxml:classmate:jar:1.5.1.redhat-00001:compile\r\n[INFO] |  |  +- javax.activation:javax.activation-api:jar:1.2.0:compile\r\n[INFO] |  |  +- org.hibernate.common:hibernate-commons-annotations:jar:5.1.2.Final-redhat-00003:compile\r\n[INFO] |  |  +- javax.xml.bind:jaxb-api:jar:2.3.1.redhat-00001:compile\r\n[INFO] |  |  \\- org.glassfish.jaxb:jaxb-runtime:jar:2.3.1.redhat-00002:compile\r\n[INFO] |  |     +- org.glassfish.jaxb:txw2:jar:2.3.1.redhat-00002:compile\r\n[INFO] |  |     +- com.sun.istack:istack-commons-runtime:jar:3.0.7.redhat-00001:compile\r\n[INFO] |  |     +- org.jvnet.staxex:stax-ex:jar:1.8:compile\r\n[INFO] |  |     \\- com.sun.xml.fastinfoset:FastInfoset:jar:1.2.15:compile\r\n[INFO] |  \\- org.apache.commons:commons-lang3:jar:3.12.0:compile\r\n[INFO] +- com.gok.ams:ams-pam-workitemhandlers:jar:2.0.6.41-SNAPSHOT:compile\r\n[INFO] |  \\- com.gok.ams:amsObjectModel:jar:0.0.65-SNAPSHOT:compile\r\n[INFO] +- org.jbpm:jbpm-workitems-core:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  +- org.drools:drools-core:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  |  +- org.kie.soup:kie-soup-xstream:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  |  +- org.drools:drools-core-reflective:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  |  |  \\- org.kie:kie-memory-compiler:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  |  \\- org.drools:drools-core-dynamic:jar:7.59.0.Final-redhat-00006:runtime\r\n[INFO] |  +- org.jbpm:jbpm-flow:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  |  +- org.drools:drools-mvel:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  |  +- org.drools:drools-serialization-protobuf:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  |  +- org.kie.soup:kie-soup-commons:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  |  +- org.kie.soup:kie-soup-project-datamodel-commons:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  |  |  \\- org.kie.soup:kie-soup-project-datamodel-api:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  |  +- org.kie:kie-dmn-feel:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  |  |  +- org.antlr:antlr4-runtime:jar:4.8.0.redhat-00002:compile\r\n[INFO] |  |  |  +- com.github.javaparser:javaparser-core:jar:3.13.10:compile\r\n[INFO] |  |  |  +- org.drools:drools-mvel-parser:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  |  |  \\- ch.obermuhlner:big-math:jar:2.0.1:compile\r\n[INFO] |  |  +- org.kie:kie-dmn-core:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  |  |  +- org.kie:kie-dmn-backend:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  |  |  +- org.drools:drools-ruleunit:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  |  |  +- org.drools:drools-alphanetwork-compiler:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  |  |  \\- org.jpmml:pmml-model:jar:1.5.1:compile\r\n[INFO] |  |  |     \\- org.jpmml:pmml-agent:jar:1.5.1:compile\r\n[INFO] |  |  +- com.google.protobuf:protobuf-java:jar:3.6.1:compile\r\n[INFO] |  |  \\- org.mvel:mvel2:jar:2.4.12.Final-redhat-00001:compile\r\n[INFO] |  +- org.jbpm:jbpm-bpmn2:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  |  +- org.drools:drools-compiler:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  |  +- org.drools:drools-ecj:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  |  \\- org.jbpm:jbpm-flow-builder:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  +- org.kie:kie-internal:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  +- org.kie:kie-dmn-api:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  |  \\- org.kie:kie-dmn-model:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  +- commons-io:commons-io:jar:2.7.0.redhat-00003:compile\r\n[INFO] |  +- org.apache.commons:commons-exec:jar:1.3:compile\r\n[INFO] |  \\- org.antlr:ST4:jar:4.0.7:compile\r\n[INFO] |     \\- org.antlr:antlr-runtime:jar:3.5:compile\r\n[INFO] |        \\- org.antlr:stringtemplate:jar:3.2.1:compile\r\n[INFO] +- org.jbpm:jbpm-services-api:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] +- org.kie:kie-api:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  \\- org.kie.soup:kie-soup-maven-support:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] +- org.kie.server:kie-server-client:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  +- org.optaplanner:optaplanner-core:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  |  +- org.drools:drools-canonical-model:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  |  +- org.drools:drools-model-compiler:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  |  |  \\- org.drools:drools-mvel-compiler:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  |  +- org.apache.commons:commons-math3:jar:3.4.1.redhat-3:compile\r\n[INFO] |  |  +- org.reflections:reflections:jar:0.9.11.redhat-00004:compile\r\n[INFO] |  |  |  \\- com.google.guava:guava:jar:25.0.0.redhat-1:compile\r\n[INFO] |  |  |     +- com.google.code.findbugs:jsr305:jar:1.3.9:compile\r\n[INFO] |  |  |     +- org.checkerframework:checker-compat-qual:jar:2.0.0:compile\r\n[INFO] |  |  |     +- com.google.errorprone:error_prone_annotations:jar:2.1.3:compile\r\n[INFO] |  |  |     +- com.google.j2objc:j2objc-annotations:jar:1.1:compile\r\n[INFO] |  |  |     \\- org.codehaus.mojo:animal-sniffer-annotations:jar:1.14:compile\r\n[INFO] |  |  \\- com.thoughtworks.xstream:xstream:jar:1.4.18.redhat-00001:compile\r\n[INFO] |  |     \\- io.github.x-stream:mxparser:jar:1.2.2:compile\r\n[INFO] |  |        \\- xmlpull:xmlpull:jar:1.1.3.1:compile\r\n[INFO] |  +- org.kie.server:kie-server-api:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  |  +- org.optaplanner:optaplanner-persistence-xstream:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  |  |  \\- org.optaplanner:optaplanner-persistence-common:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  |  +- org.optaplanner:optaplanner-persistence-jaxb:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  |  +- com.fasterxml.jackson.module:jackson-module-jaxb-annotations:jar:2.12.1.redhat-00002:compile\r\n[INFO] |  |  +- org.kie:kie-pmml-dependencies:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  |  |  +- org.kie:kie-pmml-api:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  |  |  +- org.kie:kie-pmml-commons:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  |  |  |  \\- org.apache.commons:commons-text:jar:1.9:compile\r\n[INFO] |  |  |  +- org.kie:kie-pmml-compiler-api:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  |  |  +- org.kie:kie-pmml-compiler-core:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  |  |  +- org.kie:kie-pmml-compiler-commons:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  |  |  +- org.kie:kie-pmml-evaluator-api:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  |  |  +- org.kie:kie-pmml-evaluator-core:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  |  |  +- org.kie:kie-pmml-evaluator-assembler:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  |  |  +- org.kie:kie-pmml-kie-internal:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  |  |  +- org.kie:kie-pmml-models-drools-common:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  |  |  +- org.kie:kie-pmml-models-regression-model:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  |  |  +- org.kie:kie-pmml-models-regression-compiler:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  |  |  +- org.kie:kie-pmml-models-regression-evaluator:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  |  |  +- org.kie:kie-pmml-models-drools-tree-model:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  |  |  +- org.kie:kie-pmml-models-drools-tree-compiler:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  |  |  +- org.kie:kie-pmml-models-drools-tree-evaluator:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  |  |  |  \\- org.kie:kie-pmml-compiler-api:jar:tests:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  |  |  +- org.kie:kie-pmml-models-drools-scorecard-model:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  |  |  +- org.kie:kie-pmml-models-drools-scorecard-compiler:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  |  |  +- org.kie:kie-pmml-models-drools-scorecard-evaluator:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  |  |  +- org.kie:kie-pmml-models-mining-model:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  |  |  +- org.kie:kie-pmml-models-mining-compiler:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  |  |  +- org.kie:kie-pmml-models-mining-evaluator:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  |  |  +- org.kie:kie-pmml-models-clustering-model:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  |  |  +- org.kie:kie-pmml-models-clustering-compiler:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  |  |  \\- org.kie:kie-pmml-models-clustering-evaluator:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  |  \\- org.drools:kie-pmml:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  +- jakarta.ws.rs:jakarta.ws.rs-api:jar:2.1.6.redhat-00001:compile\r\n[INFO] |  +- org.kie.server:kie-server-common:jar:7.59.0.Final-redhat-00006:compile\r\n[INFO] |  |  \\- jakarta.servlet:jakarta.servlet-api:jar:4.0.3.redhat-00002:compile\r\n[INFO] |  +- jakarta.jms:jakarta.jms-api:jar:2.0.3.redhat-00001:compile\r\n[INFO] |  +- com.sun.xml.bind:jaxb-core:jar:2.3.0.redhat-1:compile\r\n[INFO] |  +- com.sun.xml.bind:jaxb-impl:jar:2.3.0.redhat-1:compile\r\n[INFO] |  \\- org.slf4j:jcl-over-slf4j:jar:1.7.30.redhat-00001:runtime\r\n[INFO] +- org.slf4j:slf4j-api:jar:1.7.26:compile\r\n[INFO] +- org.jboss.resteasy:resteasy-jaxrs:jar:3.0.14.Final:compile\r\n[INFO] |  +- org.jboss.spec.javax.ws.rs:jboss-jaxrs-api_2.0_spec:jar:1.0.0.Final:compile\r\n[INFO] |  +- org.jboss.spec.javax.annotation:jboss-annotations-api_1.2_spec:jar:1.0.0.Final:compile\r\n[INFO] |  +- javax.activation:activation:jar:1.1.1:compile\r\n[INFO] |  +- org.apache.httpcomponents:httpclient:jar:4.3.6:compile\r\n[INFO] |  |  +- org.apache.httpcomponents:httpcore:jar:4.3.3:compile\r\n[INFO] |  |  \\- commons-logging:commons-logging:jar:1.1.3:compile\r\n[INFO] |  +- net.jcip:jcip-annotations:jar:1.0:compile\r\n[INFO] |  \\- org.jboss.logging:jboss-logging:jar:3.1.4.GA:compile\r\n[INFO] +- org.jboss.resteasy:resteasy-servlet-initializer:jar:6.0.0.Final:compile\r\n[INFO] |  +- org.jboss.resteasy:resteasy-core:jar:6.0.0.Final:compile\r\n[INFO] |  |  +- jakarta.annotation:jakarta.annotation-api:jar:2.0.0:compile\r\n[INFO] |  |  +- jakarta.xml.bind:jakarta.xml.bind-api:jar:3.0.1:compile\r\n[INFO] |  |  +- jakarta.activation:jakarta.activation-api:jar:2.0.0:compile\r\n[INFO] |  |  +- jakarta.validation:jakarta.validation-api:jar:3.0.0:compile\r\n[INFO] |  |  \\- com.ibm.async:asyncutil:jar:0.1.0:compile\r\n[INFO] |  \\- org.jboss.spec.javax.ws.rs:jboss-jaxrs-api_3.0_spec:jar:1.0.0.Final:compile\r\n[INFO] +- org.jboss.resteasy:resteasy-client:jar:6.0.0.Final:compile\r\n[INFO] |  +- org.jboss.resteasy:resteasy-client-api:jar:6.0.0.Final:compile\r\n[INFO] |  +- org.jboss.resteasy:resteasy-core-spi:jar:6.0.0.Final:compile\r\n[INFO] |  +- commons-codec:commons-codec:jar:1.15:compile\r\n[INFO] |  \\- org.reactivestreams:reactive-streams:jar:1.0.3:compile\r\n[INFO] +- junit:junit:jar:4.13.2:test\r\n[INFO] |  \\- org.hamcrest:hamcrest-core:jar:1.3:test\r\n[INFO] \\- org.mockito:mockito-all:jar:1.10.16:test\r\n```\r\nAnd this is the dependency part of my pom.xml not related to testing.\r\n```\r\n\t&lt;properties&gt;\r\n        &lt;version.org.kie&gt;7.59.0.Final-redhat-00006&lt;/version.org.kie&gt;\r\n\t\t&lt;!--version.org.kie&gt;7.48.0.Final-redhat-00004&lt;/version.org.kie--&gt;\r\n\t\t&lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\r\n    \t&lt;version.org.slf4j&gt;1.7.26&lt;/version.org.slf4j&gt;\r\n\t\t&lt;jax-rs-version&gt;3.0.14.Final&lt;/jax-rs-version&gt;\r\n\t \t&lt;version.object.model&gt;0.0.65-SNAPSHOT&lt;/version.object.model&gt;\r\n\t\t&lt;version.utils&gt;0.0.12-SNAPSHOT&lt;/version.utils&gt;\r\n\t\t&lt;version.workItemHandlers&gt;2.0.6.41-SNAPSHOT&lt;/version.workItemHandlers&gt;\r\n        &lt;version.jakarta.persistence-api&gt;2.2.3&lt;/version.jakarta.persistence-api&gt;\r\n        &lt;version.resteasy&gt;6.0.0.Final&lt;/version.resteasy&gt;\r\n        &lt;!--version.jackson&gt;2.12.4.redhat-00001&lt;/version.jackson--&gt;\r\n        &lt;version.jackson&gt;2.12.3&lt;/version.jackson&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\t\r\n     &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n        &lt;version&gt;${version.jackson}&lt;/version&gt; \r\n      &lt;/dependency&gt;\r\n\t  &lt;dependency&gt;\r\n\t\t &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;version&gt;${version.jackson}&lt;/version&gt; \r\n\t     &lt;!--scope&gt;provided&lt;/scope--&gt;\r\n\t   &lt;/dependency&gt;\t\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\r\n         &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\r\n         &lt;version&gt;${version.jakarta.persistence-api}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n   \t  &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.gok.ams&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;ams-pam-util&lt;/artifactId&gt;\r\n\t    &lt;version&gt;${version.utils}&lt;/version&gt;\r\n  \t  &lt;/dependency&gt;\r\n  \t  &lt;dependency&gt;\r\n  \t    &lt;artifactId&gt;ams-pam-workitemhandlers&lt;/artifactId&gt;\r\n  \t\t&lt;version&gt;${version.workItemHandlers}&lt;/version&gt;\r\n\t\t&lt;groupId&gt;com.gok.ams&lt;/groupId&gt;\r\n  \t  &lt;/dependency&gt;   \t  \r\n\t  &lt;dependency&gt;  \r\n\t      &lt;groupId&gt;org.jbpm&lt;/groupId&gt;\r\n\t      &lt;artifactId&gt;jbpm-workitems-core&lt;/artifactId&gt;\r\n\t      &lt;version&gt;${version.org.kie}&lt;/version&gt;\r\n\t  &lt;/dependency&gt;\r\n\t  &lt;dependency&gt;\r\n\t\t &lt;groupId&gt;org.jbpm&lt;/groupId&gt;\r\n\t\t &lt;artifactId&gt;jbpm-services-api&lt;/artifactId&gt;\r\n\t\t &lt;version&gt;${version.org.kie}&lt;/version&gt;\r\n\t  &lt;/dependency&gt; \r\n\t  &lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.kie&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;kie-api&lt;/artifactId&gt;\r\n\t    &lt;version&gt;${version.org.kie}&lt;/version&gt;\r\n\t  &lt;/dependency&gt;\r\n  \t  &lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.kie.server&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;kie-server-client&lt;/artifactId&gt;\r\n\t        &lt;version&gt;${version.org.kie}&lt;/version&gt;\r\n\t  &lt;/dependency&gt;\t    \t        \t\r\n\t\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n         &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n         &lt;version&gt;${version.org.slf4j}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\t  &lt;dependency&gt;\r\n\t\t  &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;resteasy-jaxrs&lt;/artifactId&gt;\r\n\t\t  &lt;version&gt;3.0.14.Final&lt;/version&gt; \r\n\t  &lt;/dependency&gt;\t\r\n \t  &lt;dependency&gt;\r\n\t\t  &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;resteasy-servlet-initializer&lt;/artifactId&gt;\r\n\t      &lt;version&gt;${version.resteasy}&lt;/version&gt; \r\n\t      &lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;resteasy-jaxrs&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t  &lt;/exclusions&gt;\r\n\t  &lt;/dependency&gt;\r\n\t  &lt;dependency&gt;\r\n\t      &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n\t      &lt;artifactId&gt;resteasy-client&lt;/artifactId&gt;\r\n          &lt;version&gt;${version.resteasy}&lt;/version&gt; \r\n      &lt;/dependency&gt;\r\n        \r\n```\r\nThe other possibility that I can think of is that this is related to [this issue which may not have been fixed in PAM][1] ; I have downgraded from Java 11 to Java 8 to have my the code running on my laptop look more like my company&#39;s integration environment.\r\n\r\n\r\n  [1]: https://github.com/kiegroup/kie-wb-common/pull/3685","title":"Transitive dependency problem with JBPM, JBoss and RestEasy?","body":"<p>My code seems to be breaking on a transitive dependency issue that I cannot find.  I am trying to migrate from JBoss EAP 7.3 with RedHat's PAM 7.9 product (which is JBPM 7.48) to JBoss EAP 7.4 with PAM 7.12 (ie JBPM 7.59) and am experiencing the issue in a servlet of mine that calls the kie-server via a kie-client API.  I have read about and encountered RESTEasy issues before with JBoss, so based upon my error have removed the  tags to hopefully avoid any inconsistencies - but still have an odd error.</p>\n<p>This is the stack trace that I get which has been edited for brevity:</p>\n<pre><code>5:37:57,975 ERROR [io.undertow.request] (default task-4) UT005023: Exception handling request to /PamHelper/pam/helper/pamQuery: org.jboss.resteasy.spi.UnhandledException: java.lang.NoSuchFieldError: _typeCache\n        at org.jboss.resteasy.core.ExceptionHandler.handleApplicationException(ExceptionHandler.java:82)\n        at org.jboss.resteasy.core.ExceptionHandler.handleException(ExceptionHandler.java:346)\n        at org.jboss.resteasy.core.SynchronousDispatcher.writeException(SynchronousDispatcher.java:193)\n ...\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)\n ...\n        at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n        at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)\n...\n        at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)\n        at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n        at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\n        at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)\n        at java.lang.Thread.run(Thread.java:748)\nCaused by: java.lang.NoSuchFieldError: _typeCache\n        at org.kie.server.api.marshalling.json.FallbackableTypeFactory.withFallbackClassLoader(FallbackableTypeFactory.java:62)\n        at org.kie.server.api.marshalling.json.JSONMarshaller.configureMarshaller(JSONMarshaller.java:284)\n        at org.kie.server.api.marshalling.json.JSONMarshaller.&lt;init&gt;(JSONMarshaller.java:180)\n        at org.kie.server.api.marshalling.BaseMarshallerBuilder.build(BaseMarshallerBuilder.java:45)\n        at org.kie.server.api.marshalling.MarshallerFactory.getMarshaller(MarshallerFactory.java:50)\n        at org.kie.server.client.impl.AbstractKieServicesClientImpl.&lt;init&gt;(AbstractKieServicesClientImpl.java:84)\n        at org.kie.server.client.impl.KieServicesClientImpl.&lt;init&gt;(KieServicesClientImpl.java:74)\n        at org.kie.server.client.KieServicesFactory.newKieServicesClient(KieServicesFactory.java:101)\n</code></pre>\n<p>This is my dependency tree.  I have guessing there is a conflict either in a RestEasy dependency or (from the error message) some odd problem initializing marshalling; there is no typeCache field either in my code or the JBPM source code.</p>\n<pre><code>[INFO] --- maven-dependency-plugin:2.8:tree (default-cli) @ PamServer ---\n[INFO] com.gok.ams:PamServer:war:1.0-SNAPSHOT\n[INFO] +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.12.3:compile\n[INFO] |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.12.3:compile\n[INFO] |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.12.3:compile\n[INFO] +- com.fasterxml.jackson.core:jackson-databind:jar:2.12.3:compile\n[INFO] +- jakarta.persistence:jakarta.persistence-api:jar:2.2.3:compile\n[INFO] +- com.gok.ams:ams-pam-util:jar:0.0.12-SNAPSHOT:compile\n[INFO] |  +- org.hibernate:hibernate-core:jar:5.5.8.Final-redhat-00001:compile\n[INFO] |  |  +- javax.persistence:javax.persistence-api:jar:2.2:compile\n[INFO] |  |  +- org.javassist:javassist:jar:3.27.0.GA-redhat-00001:compile\n[INFO] |  |  +- net.bytebuddy:byte-buddy:jar:1.11.12.redhat-00002:compile\n[INFO] |  |  +- antlr:antlr:jar:2.7.7.redhat-7:compile\n[INFO] |  |  +- org.jboss.spec.javax.transaction:jboss-transaction-api_1.2_spec:jar:1.1.1.Final:compile\n[INFO] |  |  +- org.jboss:jandex:jar:2.2.3.Final-redhat-00001:compile\n[INFO] |  |  +- com.fasterxml:classmate:jar:1.5.1.redhat-00001:compile\n[INFO] |  |  +- javax.activation:javax.activation-api:jar:1.2.0:compile\n[INFO] |  |  +- org.hibernate.common:hibernate-commons-annotations:jar:5.1.2.Final-redhat-00003:compile\n[INFO] |  |  +- javax.xml.bind:jaxb-api:jar:2.3.1.redhat-00001:compile\n[INFO] |  |  \\- org.glassfish.jaxb:jaxb-runtime:jar:2.3.1.redhat-00002:compile\n[INFO] |  |     +- org.glassfish.jaxb:txw2:jar:2.3.1.redhat-00002:compile\n[INFO] |  |     +- com.sun.istack:istack-commons-runtime:jar:3.0.7.redhat-00001:compile\n[INFO] |  |     +- org.jvnet.staxex:stax-ex:jar:1.8:compile\n[INFO] |  |     \\- com.sun.xml.fastinfoset:FastInfoset:jar:1.2.15:compile\n[INFO] |  \\- org.apache.commons:commons-lang3:jar:3.12.0:compile\n[INFO] +- com.gok.ams:ams-pam-workitemhandlers:jar:2.0.6.41-SNAPSHOT:compile\n[INFO] |  \\- com.gok.ams:amsObjectModel:jar:0.0.65-SNAPSHOT:compile\n[INFO] +- org.jbpm:jbpm-workitems-core:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  +- org.drools:drools-core:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  |  +- org.kie.soup:kie-soup-xstream:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  |  +- org.drools:drools-core-reflective:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  |  |  \\- org.kie:kie-memory-compiler:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  |  \\- org.drools:drools-core-dynamic:jar:7.59.0.Final-redhat-00006:runtime\n[INFO] |  +- org.jbpm:jbpm-flow:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  |  +- org.drools:drools-mvel:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  |  +- org.drools:drools-serialization-protobuf:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  |  +- org.kie.soup:kie-soup-commons:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  |  +- org.kie.soup:kie-soup-project-datamodel-commons:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  |  |  \\- org.kie.soup:kie-soup-project-datamodel-api:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  |  +- org.kie:kie-dmn-feel:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  |  |  +- org.antlr:antlr4-runtime:jar:4.8.0.redhat-00002:compile\n[INFO] |  |  |  +- com.github.javaparser:javaparser-core:jar:3.13.10:compile\n[INFO] |  |  |  +- org.drools:drools-mvel-parser:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  |  |  \\- ch.obermuhlner:big-math:jar:2.0.1:compile\n[INFO] |  |  +- org.kie:kie-dmn-core:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  |  |  +- org.kie:kie-dmn-backend:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  |  |  +- org.drools:drools-ruleunit:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  |  |  +- org.drools:drools-alphanetwork-compiler:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  |  |  \\- org.jpmml:pmml-model:jar:1.5.1:compile\n[INFO] |  |  |     \\- org.jpmml:pmml-agent:jar:1.5.1:compile\n[INFO] |  |  +- com.google.protobuf:protobuf-java:jar:3.6.1:compile\n[INFO] |  |  \\- org.mvel:mvel2:jar:2.4.12.Final-redhat-00001:compile\n[INFO] |  +- org.jbpm:jbpm-bpmn2:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  |  +- org.drools:drools-compiler:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  |  +- org.drools:drools-ecj:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  |  \\- org.jbpm:jbpm-flow-builder:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  +- org.kie:kie-internal:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  +- org.kie:kie-dmn-api:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  |  \\- org.kie:kie-dmn-model:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  +- commons-io:commons-io:jar:2.7.0.redhat-00003:compile\n[INFO] |  +- org.apache.commons:commons-exec:jar:1.3:compile\n[INFO] |  \\- org.antlr:ST4:jar:4.0.7:compile\n[INFO] |     \\- org.antlr:antlr-runtime:jar:3.5:compile\n[INFO] |        \\- org.antlr:stringtemplate:jar:3.2.1:compile\n[INFO] +- org.jbpm:jbpm-services-api:jar:7.59.0.Final-redhat-00006:compile\n[INFO] +- org.kie:kie-api:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  \\- org.kie.soup:kie-soup-maven-support:jar:7.59.0.Final-redhat-00006:compile\n[INFO] +- org.kie.server:kie-server-client:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  +- org.optaplanner:optaplanner-core:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  |  +- org.drools:drools-canonical-model:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  |  +- org.drools:drools-model-compiler:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  |  |  \\- org.drools:drools-mvel-compiler:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  |  +- org.apache.commons:commons-math3:jar:3.4.1.redhat-3:compile\n[INFO] |  |  +- org.reflections:reflections:jar:0.9.11.redhat-00004:compile\n[INFO] |  |  |  \\- com.google.guava:guava:jar:25.0.0.redhat-1:compile\n[INFO] |  |  |     +- com.google.code.findbugs:jsr305:jar:1.3.9:compile\n[INFO] |  |  |     +- org.checkerframework:checker-compat-qual:jar:2.0.0:compile\n[INFO] |  |  |     +- com.google.errorprone:error_prone_annotations:jar:2.1.3:compile\n[INFO] |  |  |     +- com.google.j2objc:j2objc-annotations:jar:1.1:compile\n[INFO] |  |  |     \\- org.codehaus.mojo:animal-sniffer-annotations:jar:1.14:compile\n[INFO] |  |  \\- com.thoughtworks.xstream:xstream:jar:1.4.18.redhat-00001:compile\n[INFO] |  |     \\- io.github.x-stream:mxparser:jar:1.2.2:compile\n[INFO] |  |        \\- xmlpull:xmlpull:jar:1.1.3.1:compile\n[INFO] |  +- org.kie.server:kie-server-api:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  |  +- org.optaplanner:optaplanner-persistence-xstream:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  |  |  \\- org.optaplanner:optaplanner-persistence-common:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  |  +- org.optaplanner:optaplanner-persistence-jaxb:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  |  +- com.fasterxml.jackson.module:jackson-module-jaxb-annotations:jar:2.12.1.redhat-00002:compile\n[INFO] |  |  +- org.kie:kie-pmml-dependencies:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  |  |  +- org.kie:kie-pmml-api:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  |  |  +- org.kie:kie-pmml-commons:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  |  |  |  \\- org.apache.commons:commons-text:jar:1.9:compile\n[INFO] |  |  |  +- org.kie:kie-pmml-compiler-api:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  |  |  +- org.kie:kie-pmml-compiler-core:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  |  |  +- org.kie:kie-pmml-compiler-commons:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  |  |  +- org.kie:kie-pmml-evaluator-api:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  |  |  +- org.kie:kie-pmml-evaluator-core:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  |  |  +- org.kie:kie-pmml-evaluator-assembler:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  |  |  +- org.kie:kie-pmml-kie-internal:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  |  |  +- org.kie:kie-pmml-models-drools-common:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  |  |  +- org.kie:kie-pmml-models-regression-model:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  |  |  +- org.kie:kie-pmml-models-regression-compiler:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  |  |  +- org.kie:kie-pmml-models-regression-evaluator:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  |  |  +- org.kie:kie-pmml-models-drools-tree-model:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  |  |  +- org.kie:kie-pmml-models-drools-tree-compiler:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  |  |  +- org.kie:kie-pmml-models-drools-tree-evaluator:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  |  |  |  \\- org.kie:kie-pmml-compiler-api:jar:tests:7.59.0.Final-redhat-00006:compile\n[INFO] |  |  |  +- org.kie:kie-pmml-models-drools-scorecard-model:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  |  |  +- org.kie:kie-pmml-models-drools-scorecard-compiler:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  |  |  +- org.kie:kie-pmml-models-drools-scorecard-evaluator:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  |  |  +- org.kie:kie-pmml-models-mining-model:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  |  |  +- org.kie:kie-pmml-models-mining-compiler:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  |  |  +- org.kie:kie-pmml-models-mining-evaluator:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  |  |  +- org.kie:kie-pmml-models-clustering-model:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  |  |  +- org.kie:kie-pmml-models-clustering-compiler:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  |  |  \\- org.kie:kie-pmml-models-clustering-evaluator:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  |  \\- org.drools:kie-pmml:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  +- jakarta.ws.rs:jakarta.ws.rs-api:jar:2.1.6.redhat-00001:compile\n[INFO] |  +- org.kie.server:kie-server-common:jar:7.59.0.Final-redhat-00006:compile\n[INFO] |  |  \\- jakarta.servlet:jakarta.servlet-api:jar:4.0.3.redhat-00002:compile\n[INFO] |  +- jakarta.jms:jakarta.jms-api:jar:2.0.3.redhat-00001:compile\n[INFO] |  +- com.sun.xml.bind:jaxb-core:jar:2.3.0.redhat-1:compile\n[INFO] |  +- com.sun.xml.bind:jaxb-impl:jar:2.3.0.redhat-1:compile\n[INFO] |  \\- org.slf4j:jcl-over-slf4j:jar:1.7.30.redhat-00001:runtime\n[INFO] +- org.slf4j:slf4j-api:jar:1.7.26:compile\n[INFO] +- org.jboss.resteasy:resteasy-jaxrs:jar:3.0.14.Final:compile\n[INFO] |  +- org.jboss.spec.javax.ws.rs:jboss-jaxrs-api_2.0_spec:jar:1.0.0.Final:compile\n[INFO] |  +- org.jboss.spec.javax.annotation:jboss-annotations-api_1.2_spec:jar:1.0.0.Final:compile\n[INFO] |  +- javax.activation:activation:jar:1.1.1:compile\n[INFO] |  +- org.apache.httpcomponents:httpclient:jar:4.3.6:compile\n[INFO] |  |  +- org.apache.httpcomponents:httpcore:jar:4.3.3:compile\n[INFO] |  |  \\- commons-logging:commons-logging:jar:1.1.3:compile\n[INFO] |  +- net.jcip:jcip-annotations:jar:1.0:compile\n[INFO] |  \\- org.jboss.logging:jboss-logging:jar:3.1.4.GA:compile\n[INFO] +- org.jboss.resteasy:resteasy-servlet-initializer:jar:6.0.0.Final:compile\n[INFO] |  +- org.jboss.resteasy:resteasy-core:jar:6.0.0.Final:compile\n[INFO] |  |  +- jakarta.annotation:jakarta.annotation-api:jar:2.0.0:compile\n[INFO] |  |  +- jakarta.xml.bind:jakarta.xml.bind-api:jar:3.0.1:compile\n[INFO] |  |  +- jakarta.activation:jakarta.activation-api:jar:2.0.0:compile\n[INFO] |  |  +- jakarta.validation:jakarta.validation-api:jar:3.0.0:compile\n[INFO] |  |  \\- com.ibm.async:asyncutil:jar:0.1.0:compile\n[INFO] |  \\- org.jboss.spec.javax.ws.rs:jboss-jaxrs-api_3.0_spec:jar:1.0.0.Final:compile\n[INFO] +- org.jboss.resteasy:resteasy-client:jar:6.0.0.Final:compile\n[INFO] |  +- org.jboss.resteasy:resteasy-client-api:jar:6.0.0.Final:compile\n[INFO] |  +- org.jboss.resteasy:resteasy-core-spi:jar:6.0.0.Final:compile\n[INFO] |  +- commons-codec:commons-codec:jar:1.15:compile\n[INFO] |  \\- org.reactivestreams:reactive-streams:jar:1.0.3:compile\n[INFO] +- junit:junit:jar:4.13.2:test\n[INFO] |  \\- org.hamcrest:hamcrest-core:jar:1.3:test\n[INFO] \\- org.mockito:mockito-all:jar:1.10.16:test\n</code></pre>\n<p>And this is the dependency part of my pom.xml not related to testing.</p>\n<pre><code>    &lt;properties&gt;\n        &lt;version.org.kie&gt;7.59.0.Final-redhat-00006&lt;/version.org.kie&gt;\n        &lt;!--version.org.kie&gt;7.48.0.Final-redhat-00004&lt;/version.org.kie--&gt;\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\n        &lt;version.org.slf4j&gt;1.7.26&lt;/version.org.slf4j&gt;\n        &lt;jax-rs-version&gt;3.0.14.Final&lt;/jax-rs-version&gt;\n        &lt;version.object.model&gt;0.0.65-SNAPSHOT&lt;/version.object.model&gt;\n        &lt;version.utils&gt;0.0.12-SNAPSHOT&lt;/version.utils&gt;\n        &lt;version.workItemHandlers&gt;2.0.6.41-SNAPSHOT&lt;/version.workItemHandlers&gt;\n        &lt;version.jakarta.persistence-api&gt;2.2.3&lt;/version.jakarta.persistence-api&gt;\n        &lt;version.resteasy&gt;6.0.0.Final&lt;/version.resteasy&gt;\n        &lt;!--version.jackson&gt;2.12.4.redhat-00001&lt;/version.jackson--&gt;\n        &lt;version.jackson&gt;2.12.3&lt;/version.jackson&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;  \n     &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n        &lt;version&gt;${version.jackson}&lt;/version&gt; \n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n         &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;version&gt;${version.jackson}&lt;/version&gt; \n         &lt;!--scope&gt;provided&lt;/scope--&gt;\n       &lt;/dependency&gt;    \n      &lt;dependency&gt;\n         &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\n         &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\n         &lt;version&gt;${version.jakarta.persistence-api}&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;com.gok.ams&lt;/groupId&gt;\n        &lt;artifactId&gt;ams-pam-util&lt;/artifactId&gt;\n        &lt;version&gt;${version.utils}&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;artifactId&gt;ams-pam-workitemhandlers&lt;/artifactId&gt;\n        &lt;version&gt;${version.workItemHandlers}&lt;/version&gt;\n        &lt;groupId&gt;com.gok.ams&lt;/groupId&gt;\n      &lt;/dependency&gt;       \n      &lt;dependency&gt;  \n          &lt;groupId&gt;org.jbpm&lt;/groupId&gt;\n          &lt;artifactId&gt;jbpm-workitems-core&lt;/artifactId&gt;\n          &lt;version&gt;${version.org.kie}&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.jbpm&lt;/groupId&gt;\n         &lt;artifactId&gt;jbpm-services-api&lt;/artifactId&gt;\n         &lt;version&gt;${version.org.kie}&lt;/version&gt;\n      &lt;/dependency&gt; \n      &lt;dependency&gt;\n        &lt;groupId&gt;org.kie&lt;/groupId&gt;\n        &lt;artifactId&gt;kie-api&lt;/artifactId&gt;\n        &lt;version&gt;${version.org.kie}&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n            &lt;groupId&gt;org.kie.server&lt;/groupId&gt;\n            &lt;artifactId&gt;kie-server-client&lt;/artifactId&gt;\n            &lt;version&gt;${version.org.kie}&lt;/version&gt;\n      &lt;/dependency&gt;                     \n    \n      &lt;dependency&gt;\n         &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n         &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n         &lt;version&gt;${version.org.slf4j}&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n          &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n          &lt;artifactId&gt;resteasy-jaxrs&lt;/artifactId&gt;\n          &lt;version&gt;3.0.14.Final&lt;/version&gt; \n      &lt;/dependency&gt; \n      &lt;dependency&gt;\n          &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n          &lt;artifactId&gt;resteasy-servlet-initializer&lt;/artifactId&gt;\n          &lt;version&gt;${version.resteasy}&lt;/version&gt; \n          &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                        &lt;artifactId&gt;resteasy-jaxrs&lt;/artifactId&gt;\n                        &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n          &lt;/exclusions&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n          &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n          &lt;artifactId&gt;resteasy-client&lt;/artifactId&gt;\n          &lt;version&gt;${version.resteasy}&lt;/version&gt; \n      &lt;/dependency&gt;\n        \n</code></pre>\n<p>The other possibility that I can think of is that this is related to <a href=\"https://github.com/kiegroup/kie-wb-common/pull/3685\" rel=\"nofollow noreferrer\">this issue which may not have been fixed in PAM</a> ; I have downgraded from Java 11 to Java 8 to have my the code running on my laptop look more like my company's integration environment.</p>\n"},{"tags":["java","hashmap","race-condition","concurrentmodificationexception","wildfly-26"],"owner":{"account_id":5887273,"reputation":69,"user_id":4634860,"display_name":"Mike Degteariov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649712378,"creation_date":1649712378,"question_id":71834483,"body_markdown":"We are in the process of upgrade of our platform to Wildfly 26.0.1 and Java 17. During recent load test we noticed that about 0.1% of calls failed due to exception thrown from elytron (see below).  This same instance of WF26 worked fine with Java 8 - I understand this is due to change made in the implementation of HashMap#computeIfAbsent some time around Java9.\r\n\r\nHas anyone came across same problem and knows whether workaround exists?\r\nThe exception is below, thank you guys in advance!\r\n\r\n    2022-04-08 15:45:56,562 ERROR [io.undertow.request] (default task-38) UT005023: Exception handling request to /api/rest/service/v2/recentServiceChange: java.util.ConcurrentModificationException\r\n    \tat java.base/java.util.HashMap.computeIfAbsent(HashMap.java:1221)\r\n    \tat org.wildfly.security.elytron-base@1.18.3.Final//org.wildfly.security.authz.MapAttributes.get(MapAttributes.java:322)\r\n    \tat org.wildfly.security.elytron-base@1.18.3.Final//org.wildfly.security.authz.RoleDecoder.lambda$simple$1(RoleDecoder.java:70)\r\n    \tat org.wildfly.security.elytron-base@1.18.3.Final//org.wildfly.security.auth.server.SecurityDomain.mapRoles(SecurityDomain.java:709)\r\n    \tat org.wildfly.security.elytron-base@1.18.3.Final//org.wildfly.security.auth.server.SecurityIdentity.getRoles(SecurityIdentity.java:559)\r\n    \tat org.wildfly.security.elytron-base@1.18.3.Final//org.wildfly.security.auth.server.SecurityDomain.mapPermissions(SecurityDomain.java:731)\r\n    \tat org.wildfly.security.elytron-base@1.18.3.Final//org.wildfly.security.auth.server.SecurityIdentity.&lt;init&gt;(SecurityIdentity.java:98)\r\n    \tat org.wildfly.security.elytron-base@1.18.3.Final//org.wildfly.security.auth.server.ServerAuthenticationContext$NameAssignedState.doAuthorization(ServerAuthenticationContext.java:2024)\r\n    \tat org.wildfly.security.elytron-base@1.18.3.Final//org.wildfly.security.auth.server.ServerAuthenticationContext$NameAssignedState.authorize(ServerAuthenticationContext.java:2053)\r\n    \tat org.wildfly.security.elytron-base@1.18.3.Final//org.wildfly.security.auth.server.ServerAuthenticationContext.authorize(ServerAuthenticationContext.java:517)\r\n    \tat org.wildfly.security.elytron-base@1.18.3.Final//org.wildfly.security.auth.server.ServerAuthenticationContext.authorize(ServerAuthenticationContext.java:497)\r\n    \tat org.wildfly.security.elytron-base@1.18.3.Final//org.wildfly.security.auth.server.ServerAuthenticationContext$1.handleOne(ServerAuthenticationContext.java:901)\r\n    \tat org.wildfly.security.elytron-base@1.18.3.Final//org.wildfly.security.auth.server.ServerAuthenticationContext$1.handle(ServerAuthenticationContext.java:868)\r\n    \tat org.wildfly.security.elytron-base@1.18.3.Final//org.wildfly.security.auth.server.SecurityIdentityServerMechanismFactory$SecurityIdentityCallbackHandler.handle(SecurityIdentityServerMechanismFactory.java:126)\r\n    \tat org.wildfly.security.elytron-base@1.18.3.Final//org.wildfly.security.mechanism.http.UsernamePasswordAuthenticationMechanism.authorize(UsernamePasswordAuthenticationMechanism.java:104)\r\n    \tat org.wildfly.security.elytron-base@1.18.3.Final//org.wildfly.security.http.basic.BasicAuthenticationMechanism.evaluateRequest(BasicAuthenticationMechanism.java:163)\r\n    \tat org.wildfly.security.elytron-base@1.18.3.Final//org.wildfly.security.http.util.SetMechanismInformationMechanismFactory$1.evaluateRequest(SetMechanismInformationMechanismFactory.java:119)\r\n    \tat org.wildfly.security.elytron-base@1.18.3.Final//org.wildfly.security.http.util.SocketAddressCallbackServerMechanismFactory$1.evaluateRequest(SocketAddressCallbackServerMechanismFactory.java:82)\r\n    \tat org.wildfly.security.elytron-base@1.18.3.Final//org.wildfly.security.auth.server.SecurityIdentityServerMechanismFactory$1.evaluateRequest(SecurityIdentityServerMechanismFactory.java:85)\r\n    \tat org.wildfly.security.elytron-base@1.18.3.Final//org.wildfly.security.http.HttpAuthenticator$AuthenticationExchange.authenticate(HttpAuthenticator.java:325)\r\n    \tat org.wildfly.security.elytron-base@1.18.3.Final//org.wildfly.security.http.HttpAuthenticator$AuthenticationExchange.access$800(HttpAuthenticator.java:300)\r\n    \tat org.wildfly.security.elytron-base@1.18.3.Final//org.wildfly.security.http.HttpAuthenticator.authenticate(HttpAuthenticator.java:94)\r\n    \tat org.wildfly.security.elytron-web.undertow-server@1.10.1.Final//org.wildfly.elytron.web.undertow.server.SecurityContextImpl.authenticate(SecurityContextImpl.java:107)","title":"ConcurrentModificationException in WildFly 26.0.1 and Java 17","body":"<p>We are in the process of upgrade of our platform to Wildfly 26.0.1 and Java 17. During recent load test we noticed that about 0.1% of calls failed due to exception thrown from elytron (see below).  This same instance of WF26 worked fine with Java 8 - I understand this is due to change made in the implementation of HashMap#computeIfAbsent some time around Java9.</p>\n<p>Has anyone came across same problem and knows whether workaround exists?\nThe exception is below, thank you guys in advance!</p>\n<pre><code>2022-04-08 15:45:56,562 ERROR [io.undertow.request] (default task-38) UT005023: Exception handling request to /api/rest/service/v2/recentServiceChange: java.util.ConcurrentModificationException\n    at java.base/java.util.HashMap.computeIfAbsent(HashMap.java:1221)\n    at org.wildfly.security.elytron-base@1.18.3.Final//org.wildfly.security.authz.MapAttributes.get(MapAttributes.java:322)\n    at org.wildfly.security.elytron-base@1.18.3.Final//org.wildfly.security.authz.RoleDecoder.lambda$simple$1(RoleDecoder.java:70)\n    at org.wildfly.security.elytron-base@1.18.3.Final//org.wildfly.security.auth.server.SecurityDomain.mapRoles(SecurityDomain.java:709)\n    at org.wildfly.security.elytron-base@1.18.3.Final//org.wildfly.security.auth.server.SecurityIdentity.getRoles(SecurityIdentity.java:559)\n    at org.wildfly.security.elytron-base@1.18.3.Final//org.wildfly.security.auth.server.SecurityDomain.mapPermissions(SecurityDomain.java:731)\n    at org.wildfly.security.elytron-base@1.18.3.Final//org.wildfly.security.auth.server.SecurityIdentity.&lt;init&gt;(SecurityIdentity.java:98)\n    at org.wildfly.security.elytron-base@1.18.3.Final//org.wildfly.security.auth.server.ServerAuthenticationContext$NameAssignedState.doAuthorization(ServerAuthenticationContext.java:2024)\n    at org.wildfly.security.elytron-base@1.18.3.Final//org.wildfly.security.auth.server.ServerAuthenticationContext$NameAssignedState.authorize(ServerAuthenticationContext.java:2053)\n    at org.wildfly.security.elytron-base@1.18.3.Final//org.wildfly.security.auth.server.ServerAuthenticationContext.authorize(ServerAuthenticationContext.java:517)\n    at org.wildfly.security.elytron-base@1.18.3.Final//org.wildfly.security.auth.server.ServerAuthenticationContext.authorize(ServerAuthenticationContext.java:497)\n    at org.wildfly.security.elytron-base@1.18.3.Final//org.wildfly.security.auth.server.ServerAuthenticationContext$1.handleOne(ServerAuthenticationContext.java:901)\n    at org.wildfly.security.elytron-base@1.18.3.Final//org.wildfly.security.auth.server.ServerAuthenticationContext$1.handle(ServerAuthenticationContext.java:868)\n    at org.wildfly.security.elytron-base@1.18.3.Final//org.wildfly.security.auth.server.SecurityIdentityServerMechanismFactory$SecurityIdentityCallbackHandler.handle(SecurityIdentityServerMechanismFactory.java:126)\n    at org.wildfly.security.elytron-base@1.18.3.Final//org.wildfly.security.mechanism.http.UsernamePasswordAuthenticationMechanism.authorize(UsernamePasswordAuthenticationMechanism.java:104)\n    at org.wildfly.security.elytron-base@1.18.3.Final//org.wildfly.security.http.basic.BasicAuthenticationMechanism.evaluateRequest(BasicAuthenticationMechanism.java:163)\n    at org.wildfly.security.elytron-base@1.18.3.Final//org.wildfly.security.http.util.SetMechanismInformationMechanismFactory$1.evaluateRequest(SetMechanismInformationMechanismFactory.java:119)\n    at org.wildfly.security.elytron-base@1.18.3.Final//org.wildfly.security.http.util.SocketAddressCallbackServerMechanismFactory$1.evaluateRequest(SocketAddressCallbackServerMechanismFactory.java:82)\n    at org.wildfly.security.elytron-base@1.18.3.Final//org.wildfly.security.auth.server.SecurityIdentityServerMechanismFactory$1.evaluateRequest(SecurityIdentityServerMechanismFactory.java:85)\n    at org.wildfly.security.elytron-base@1.18.3.Final//org.wildfly.security.http.HttpAuthenticator$AuthenticationExchange.authenticate(HttpAuthenticator.java:325)\n    at org.wildfly.security.elytron-base@1.18.3.Final//org.wildfly.security.http.HttpAuthenticator$AuthenticationExchange.access$800(HttpAuthenticator.java:300)\n    at org.wildfly.security.elytron-base@1.18.3.Final//org.wildfly.security.http.HttpAuthenticator.authenticate(HttpAuthenticator.java:94)\n    at org.wildfly.security.elytron-web.undertow-server@1.10.1.Final//org.wildfly.elytron.web.undertow.server.SecurityContextImpl.authenticate(SecurityContextImpl.java:107)\n</code></pre>\n"},{"tags":["java","spring","validation","aop","spring-aop"],"answers":[{"tags":[],"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649711725,"creation_date":1649711725,"answer_id":71834389,"question_id":71834008,"body_markdown":"Annotations can be processed in two phases:\r\n\r\n - At compile time (in this case through an [Annotation Processor][1])\r\n - At runtime (in this case through reflection)\r\n\r\nIt depends on when you want to perform the check. Considering that it seems you want to check this at runtime (i.e. when you receive the object), then you could create a sample method that takes an object, scans all the fields of the object for the annotation `@OneOfFields` and if more than one is not `null`, then it throws an exception: \r\n\r\n    public static &lt;T&gt; T validate(T input) {\r\n        try {\r\n            int numberOfAnnotatedNonNull = 0;\r\n            for (Field field : input.getClass().getDeclaredFields()) {\r\n                if (field.isAnnotationPresent(OneOfFields.class) &amp;&amp; (field.get(input) != null)) {\r\n                    numberOfAnnotatedNonNull++;\r\n                    if (numberOfAnnotatedNonNull &gt; 1) {\r\n                        throw new IllegalStateException(&quot;More than one field annotated by @OneOfFields has been set for this object&quot;);\r\n                    }\r\n                }\r\n            }\r\n            return input;\r\n        } catch (IllegalAccessException e) {\r\n            throw new IllegalStateException(&quot;Could not validate input object&quot;, e);\r\n        }\r\n    }\r\n\r\nSample usage:\r\n\r\n    MyClassRq myClassRq = validate(yourInput);\r\n\r\nIf the above `yourInput` of type `MyClassRq` is valid, then it will simply return the same object. Else, it will throw an exception. \r\n\r\nSome notes:\r\n\r\n - Here I&#39;m throwing as soon as I find more than one field which is non `null`. You may of course create a cleaner error message (for example by collecting all the fields which are illegally set and returning their names)\r\n - Here I&#39;m throwing a standard `IllegalStateException` but you can (you should probably) create your own custom exception\r\n - Don&#39;t forget to check that `T input` is not `null` (if it is, my code will crash). \r\n - This is a sample usage of the standard Java Reflect API, there are several ways of reaching the same purpose (I&#39;ve just shown you the most &quot;readable&quot;)\r\n\r\n \r\n\r\n  [1]: https://www.baeldung.com/java-annotation-processing-builder","title":"How to write class for processing an annotation for fields?","body":"<p>Annotations can be processed in two phases:</p>\n<ul>\n<li>At compile time (in this case through an <a href=\"https://www.baeldung.com/java-annotation-processing-builder\" rel=\"nofollow noreferrer\">Annotation Processor</a>)</li>\n<li>At runtime (in this case through reflection)</li>\n</ul>\n<p>It depends on when you want to perform the check. Considering that it seems you want to check this at runtime (i.e. when you receive the object), then you could create a sample method that takes an object, scans all the fields of the object for the annotation <code>@OneOfFields</code> and if more than one is not <code>null</code>, then it throws an exception:</p>\n<pre><code>public static &lt;T&gt; T validate(T input) {\n    try {\n        int numberOfAnnotatedNonNull = 0;\n        for (Field field : input.getClass().getDeclaredFields()) {\n            if (field.isAnnotationPresent(OneOfFields.class) &amp;&amp; (field.get(input) != null)) {\n                numberOfAnnotatedNonNull++;\n                if (numberOfAnnotatedNonNull &gt; 1) {\n                    throw new IllegalStateException(&quot;More than one field annotated by @OneOfFields has been set for this object&quot;);\n                }\n            }\n        }\n        return input;\n    } catch (IllegalAccessException e) {\n        throw new IllegalStateException(&quot;Could not validate input object&quot;, e);\n    }\n}\n</code></pre>\n<p>Sample usage:</p>\n<pre><code>MyClassRq myClassRq = validate(yourInput);\n</code></pre>\n<p>If the above <code>yourInput</code> of type <code>MyClassRq</code> is valid, then it will simply return the same object. Else, it will throw an exception.</p>\n<p>Some notes:</p>\n<ul>\n<li>Here I'm throwing as soon as I find more than one field which is non <code>null</code>. You may of course create a cleaner error message (for example by collecting all the fields which are illegally set and returning their names)</li>\n<li>Here I'm throwing a standard <code>IllegalStateException</code> but you can (you should probably) create your own custom exception</li>\n<li>Don't forget to check that <code>T input</code> is not <code>null</code> (if it is, my code will crash).</li>\n<li>This is a sample usage of the standard Java Reflect API, there are several ways of reaching the same purpose (I've just shown you the most &quot;readable&quot;)</li>\n</ul>\n"}],"owner":{"account_id":16149079,"reputation":493,"user_id":12898912,"display_name":"Maksym Rybalkin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":362,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649711725,"creation_date":1649709406,"question_id":71834008,"body_markdown":"I&#39;ve created the annotation I want to put on some fields of a class.\r\nI want the annotation to check one of two or more fields:\r\n\r\n    @Documented\r\n    @Target({ElementType.FIELD})\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface OneOfFields {\r\n    }\r\n\r\nFor example - the class:\r\n\r\n    public class MyClassRq {\r\n        @OneOfFields\r\n        private String stringOne;\r\n    \r\n        @OneOfFields\r\n        private String stringTwo;\r\n    }\r\n\r\nIf I create an HttpRequest with the body and set both fields, I want to get an exception, javax.validation exception is also possible.\r\n\r\nWhat is the best way to write the validator?","title":"How to write class for processing an annotation for fields?","body":"<p>I've created the annotation I want to put on some fields of a class.\nI want the annotation to check one of two or more fields:</p>\n<pre><code>@Documented\n@Target({ElementType.FIELD})\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface OneOfFields {\n}\n</code></pre>\n<p>For example - the class:</p>\n<pre><code>public class MyClassRq {\n    @OneOfFields\n    private String stringOne;\n\n    @OneOfFields\n    private String stringTwo;\n}\n</code></pre>\n<p>If I create an HttpRequest with the body and set both fields, I want to get an exception, javax.validation exception is also possible.</p>\n<p>What is the best way to write the validator?</p>\n"},{"tags":["java","try-catch","java.util.scanner","try-catch-finally"],"answers":[{"tags":[],"owner":{"account_id":24112158,"reputation":433,"user_id":18082610,"display_name":"Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649710304,"creation_date":1649710304,"answer_id":71834169,"question_id":71833975,"body_markdown":"You have to define scanner before &quot;try&quot;, so it&#39;s ok, now this is your code:\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class userInput { \r\n\r\n\t\tpublic static void main(String[]args) {\r\n   \t\t    Scanner scanner = new Scanner(System.in);\r\n            try {\r\n                 String name = scanner.nextLine();\r\n                 int age = scanner.nextInt(); \r\n                 scanner.nextLine();\r\n                 String text = scanner.nextLine();\r\n    \r\n                 System.out.println(name + &quot;\\n&quot; + age + &quot;\\n&quot; + text);\r\n            } \r\n\r\n            finally {\r\n                 scanner.close();\r\n            }\r\n        }\r\n    }","title":"scanner.close() Does not work when I use try/finally","body":"<p>You have to define scanner before &quot;try&quot;, so it's ok, now this is your code:</p>\n<pre><code>import java.util.Scanner;\n\npublic class userInput { \n\n    public static void main(String[]args) {\n        Scanner scanner = new Scanner(System.in);\n        try {\n             String name = scanner.nextLine();\n             int age = scanner.nextInt(); \n             scanner.nextLine();\n             String text = scanner.nextLine();\n\n             System.out.println(name + &quot;\\n&quot; + age + &quot;\\n&quot; + text);\n        } \n\n        finally {\n             scanner.close();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24905730,"reputation":3,"user_id":18775813,"display_name":"Ilias Matrane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71834169,"answer_count":1,"score":0,"last_activity_date":1649710784,"creation_date":1649709223,"question_id":71833975,"body_markdown":"    import java.util.Scanner;\r\n    public class userInput\r\n    {\r\n        public static void main(String[]args){\r\n    \r\n            try{\r\n                Scanner scanner = new Scanner(System.in);\r\n            \r\n            \r\n                String name = scanner.nextLine();\r\n                int age = scanner.nextInt(); \r\n                scanner.nextLine();\r\n                String text = scanner.nextLine();\r\n            \r\n                System.out.println(name + &quot;\\n&quot; + age + &quot;\\n&quot; + text);\r\n                //scanner.close(); //it works here\r\n            } \r\n        \r\n            finally{\r\n                scanner.close(); // does not work here&quot;scanner cannot be resolvedJava(570425394)&quot;\r\n            }\r\n        }\r\n    }","title":"scanner.close() Does not work when I use try/finally","body":"<pre><code>import java.util.Scanner;\npublic class userInput\n{\n    public static void main(String[]args){\n\n        try{\n            Scanner scanner = new Scanner(System.in);\n        \n        \n            String name = scanner.nextLine();\n            int age = scanner.nextInt(); \n            scanner.nextLine();\n            String text = scanner.nextLine();\n        \n            System.out.println(name + &quot;\\n&quot; + age + &quot;\\n&quot; + text);\n            //scanner.close(); //it works here\n        } \n    \n        finally{\n            scanner.close(); // does not work here&quot;scanner cannot be resolvedJava(570425394)&quot;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","google-maps","retrofit"],"answers":[{"tags":[],"owner":{"account_id":13812187,"reputation":688,"user_id":9969672,"display_name":"Janik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649624738,"creation_date":1649624738,"answer_id":71820560,"question_id":71820406,"body_markdown":"The error actually is that you can’t invoke `body()` on a NULL object, meaning your `responses` variable itself is NULL. Which is because you have a typo in there, your parameter is called `response`, while you are trying to access `responses` (mind the plural &#39;s&#39; at the end).","title":"JSONObject is returning NULL Object","body":"<p>The error actually is that you can’t invoke <code>body()</code> on a NULL object, meaning your <code>responses</code> variable itself is NULL. Which is because you have a typo in there, your parameter is called <code>response</code>, while you are trying to access <code>responses</code> (mind the plural 's' at the end).</p>\n"},{"tags":[],"owner":{"account_id":13188604,"reputation":1604,"user_id":9525657,"display_name":"Ilan P"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649633029,"creation_date":1649633029,"answer_id":71821280,"question_id":71820406,"body_markdown":"Janik is correct, the error stems from you trying to access a property on an object that doesn&#39;t exist (NULL); I recommend play process of elimination by first debugging your API call, log the response (toString) to make sure first you are getting data, and that data does contain a body; follow up with the next part and so forth; sounds like the issue isn&#39;t with the JSONObject method but that the data you&#39;re consuming returns nothing (either nothing, or a different response than what you expect); debug it top to bottom you&#39;ll find the reason.","title":"JSONObject is returning NULL Object","body":"<p>Janik is correct, the error stems from you trying to access a property on an object that doesn't exist (NULL); I recommend play process of elimination by first debugging your API call, log the response (toString) to make sure first you are getting data, and that data does contain a body; follow up with the next part and so forth; sounds like the issue isn't with the JSONObject method but that the data you're consuming returns nothing (either nothing, or a different response than what you expect); debug it top to bottom you'll find the reason.</p>\n"}],"owner":{"account_id":22894137,"reputation":285,"user_id":17033887,"display_name":"saad tabban"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":585,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1649710758,"creation_date":1649623414,"question_id":71820406,"body_markdown":"I&#39;m trying to draw a Route Between A Box Image and the current Location on the Google map\r\nI could diplay the Box image and the Current Location Icon [![Like this Picture][1]][1] but when I need to draw A route between them the App crash.\r\n\r\nMy Code:\r\n\r\n            private void drawRoute(LatLng yourLocation, String address) {\r\n    \r\n            mService.getGeoCode(address).enqueue(new Callback&lt;String&gt;() {\r\n                @Override\r\n                public void onResponse(Call&lt;String&gt; call, Response&lt;String&gt; response) {\r\n                    try {\r\n                            JSONObject jsonObject = new JSONObject(response.body().toString());\r\n                            \r\n                            String lat = ((JSONArray) jsonObject.get(&quot;results&quot;))\r\n                                    .getJSONObject(0)\r\n                                    .getJSONObject(&quot;geometry&quot;)\r\n                                    .getJSONObject(&quot;location&quot;)\r\n                                    .get(&quot;lat&quot;).toString();\r\n                            String lng = ((JSONArray) jsonObject.get(&quot;results&quot;))\r\n                                    .getJSONObject(0)\r\n                                    .getJSONObject(&quot;geometry&quot;)\r\n                                    .getJSONObject(&quot;location&quot;)\r\n                                    .get(&quot;lng&quot;).toString();\r\n                            LatLng orderLocation = new LatLng(Double.parseDouble(lat), Double.parseDouble(lng));\r\n    \r\n                            Bitmap bitmap = BitmapFactory.decodeResource(getResources(), R.drawable.box);\r\n                            bitmap = Common.scaleBitmap(bitmap, 70, 70);\r\n    \r\n                            MarkerOptions marker = new MarkerOptions().icon(BitmapDescriptorFactory.fromBitmap(bitmap))\r\n                                    .title(&quot;Order of&quot; + Common.currentRequest.getPhone())\r\n                                    .position(orderLocation);\r\n                            mMap.addMarker(marker);\r\n    \r\n                            //draw route\r\n                            mService.getDirections(yourLocation.latitude + &quot;,&quot; + yourLocation.longitude,\r\n                                    orderLocation.latitude + &quot;,&quot; + orderLocation.longitude)\r\n                                    .enqueue(new Callback&lt;String&gt;() {\r\n                                        @Override\r\n                                        public void onResponse(Call&lt;String&gt; call, Response&lt;String&gt; response) {\r\n                                            new ParserTask().execute(response.body().toString());\r\n                                        }\r\n    \r\n                                        @Override\r\n                                        public void onFailure(Call&lt;String&gt; call, Throwable t) {\r\n    \r\n                                        }\r\n                                    });\r\n                        \r\n                    }\r\n                    catch (JSONException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void onFailure(Call&lt;String&gt; call, Throwable t) {\r\n    \r\n                }\r\n            });\r\n        }\r\n\r\nIt Crash I think because it says that responses.body().toString() returns NULL.I Search A lot for A solution but didn&#39;t know how to solve this issue.\r\n\r\nThe ERROR:\r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: com.example.ymmyserver, PID: 32071\r\n        java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.Object retrofit2.Response.body()&#39; on a null object reference\r\n            at com.example.ymmyserver.TrackingOrder$1.onResponse(TrackingOrder.java:139)\r\n\r\nThe whole code on Github TrackingOrder Class:\r\n\r\nhttps://github.com/zieadshabkalieh/YmmyApp/blob/main/TrackingOrder.java\r\n\r\n  [1]: https://i.stack.imgur.com/r3iB1.png\r\n\r\nI&#39;m using this api:\r\n\r\npackage com.example.ymmyserver.Remote;\r\n\r\n    import retrofit2.Call;\r\n    import retrofit2.http.GET;\r\n    import retrofit2.http.Query;\r\n    \r\n    public interface IGeoCoordinates {\r\n        @GET(&quot;maps/api/geocode/json&quot;)\r\n        Call&lt;String&gt; getGeoCode(@Query(&quot;address&quot;) String address);\r\n    \r\n        @GET(&quot;maps/api/directions/json&quot;)\r\n        Call&lt;String&gt; getDirections(@Query(&quot;origin&quot;) String origin, @Query(&quot;destination&quot;) String destination);\r\n    }\r\nI think maybe the problem is that I&#39;m using http not https maybe what&#39;s the solutuon?\r\n\r\n","title":"JSONObject is returning NULL Object","body":"<p>I'm trying to draw a Route Between A Box Image and the current Location on the Google map\nI could diplay the Box image and the Current Location Icon <a href=\"https://i.stack.imgur.com/r3iB1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r3iB1.png\" alt=\"Like this Picture\" /></a> but when I need to draw A route between them the App crash.</p>\n<p>My Code:</p>\n<pre><code>        private void drawRoute(LatLng yourLocation, String address) {\n\n        mService.getGeoCode(address).enqueue(new Callback&lt;String&gt;() {\n            @Override\n            public void onResponse(Call&lt;String&gt; call, Response&lt;String&gt; response) {\n                try {\n                        JSONObject jsonObject = new JSONObject(response.body().toString());\n                        \n                        String lat = ((JSONArray) jsonObject.get(&quot;results&quot;))\n                                .getJSONObject(0)\n                                .getJSONObject(&quot;geometry&quot;)\n                                .getJSONObject(&quot;location&quot;)\n                                .get(&quot;lat&quot;).toString();\n                        String lng = ((JSONArray) jsonObject.get(&quot;results&quot;))\n                                .getJSONObject(0)\n                                .getJSONObject(&quot;geometry&quot;)\n                                .getJSONObject(&quot;location&quot;)\n                                .get(&quot;lng&quot;).toString();\n                        LatLng orderLocation = new LatLng(Double.parseDouble(lat), Double.parseDouble(lng));\n\n                        Bitmap bitmap = BitmapFactory.decodeResource(getResources(), R.drawable.box);\n                        bitmap = Common.scaleBitmap(bitmap, 70, 70);\n\n                        MarkerOptions marker = new MarkerOptions().icon(BitmapDescriptorFactory.fromBitmap(bitmap))\n                                .title(&quot;Order of&quot; + Common.currentRequest.getPhone())\n                                .position(orderLocation);\n                        mMap.addMarker(marker);\n\n                        //draw route\n                        mService.getDirections(yourLocation.latitude + &quot;,&quot; + yourLocation.longitude,\n                                orderLocation.latitude + &quot;,&quot; + orderLocation.longitude)\n                                .enqueue(new Callback&lt;String&gt;() {\n                                    @Override\n                                    public void onResponse(Call&lt;String&gt; call, Response&lt;String&gt; response) {\n                                        new ParserTask().execute(response.body().toString());\n                                    }\n\n                                    @Override\n                                    public void onFailure(Call&lt;String&gt; call, Throwable t) {\n\n                                    }\n                                });\n                    \n                }\n                catch (JSONException e) {\n                    e.printStackTrace();\n                }\n            }\n\n            @Override\n            public void onFailure(Call&lt;String&gt; call, Throwable t) {\n\n            }\n        });\n    }\n</code></pre>\n<p>It Crash I think because it says that responses.body().toString() returns NULL.I Search A lot for A solution but didn't know how to solve this issue.</p>\n<p>The ERROR:</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.ymmyserver, PID: 32071\n    java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.Object retrofit2.Response.body()' on a null object reference\n        at com.example.ymmyserver.TrackingOrder$1.onResponse(TrackingOrder.java:139)\n</code></pre>\n<p>The whole code on Github TrackingOrder Class:</p>\n<p><a href=\"https://github.com/zieadshabkalieh/YmmyApp/blob/main/TrackingOrder.java\" rel=\"nofollow noreferrer\">https://github.com/zieadshabkalieh/YmmyApp/blob/main/TrackingOrder.java</a></p>\n<p>I'm using this api:</p>\n<p>package com.example.ymmyserver.Remote;</p>\n<pre><code>import retrofit2.Call;\nimport retrofit2.http.GET;\nimport retrofit2.http.Query;\n\npublic interface IGeoCoordinates {\n    @GET(&quot;maps/api/geocode/json&quot;)\n    Call&lt;String&gt; getGeoCode(@Query(&quot;address&quot;) String address);\n\n    @GET(&quot;maps/api/directions/json&quot;)\n    Call&lt;String&gt; getDirections(@Query(&quot;origin&quot;) String origin, @Query(&quot;destination&quot;) String destination);\n}\n</code></pre>\n<p>I think maybe the problem is that I'm using http not https maybe what's the solutuon?</p>\n"},{"tags":["java","postgresql","jpa-2.0","unique-constraint"],"comments":[{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1649710938,"post_id":71834247,"comment_id":126941068,"body_markdown":"Maybe yes, it would depend on how the JDBC Driver being used interacts with the new version of the database.","body":"Maybe yes, it would depend on how the JDBC Driver being used interacts with the new version of the database."}],"owner":{"account_id":4162947,"reputation":755,"user_id":3412607,"accept_rate":36,"display_name":"daniel9x"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1649710748,"creation_date":1649710748,"question_id":71834247,"body_markdown":"In my code, I was persisting a row of data and had a catch block to throw a (custom) error when a constraint violation was thrown at the DB level. It was a bit messy how I had to get there but it worked.\r\n\r\n    catch (RollbackException ex){\r\n          if(ex.getCause() instanceof PersistenceException) {\r\n            PersistenceException pe = (PersistenceException) ex.getCause();\r\n            if (pe.getCause() instanceof ConstraintViolationException) {\r\n              ex.printStackTrace();\r\n              throw new ApolloDBSaveException(&quot;ConstraintViolationException while saving Itinerary, could be concurrency issue&quot;, ex);\r\n            }\r\n          }\r\n        } \r\n\r\nNow for mysterious reasons, it seems the error getting thrown is no longer an instance of RollbackException so I had to just catch it at the PersistenceException level.\r\n\r\n    catch (PersistenceException ex) {\r\n          if (ex.getCause() instanceof ConstraintViolationException) {\r\n            ex.printStackTrace();\r\n            throw new ApolloDBSaveException(&quot;ConstraintViolationException while saving Itinerary, could be concurrency issue&quot;, ex);\r\n          }\r\n        } \r\n\r\nWhat has me so perplexed is I haven&#39;t made any changes to the JPA Implementation Layer ( Hibernate 5.4.2.Final) or anything specific about the constraint I put on the table. The only thing I can think of is at some point we upgrade postgres from version 10 to version 11 but from an app standpoint that switch was invisible. Would that change the error getting thrown? I&#39;m having trouble finding anything online to support the closest working theory.","title":"Would upgrading Database Versions change the Exception Call Stack Potentially?","body":"<p>In my code, I was persisting a row of data and had a catch block to throw a (custom) error when a constraint violation was thrown at the DB level. It was a bit messy how I had to get there but it worked.</p>\n<pre><code>catch (RollbackException ex){\n      if(ex.getCause() instanceof PersistenceException) {\n        PersistenceException pe = (PersistenceException) ex.getCause();\n        if (pe.getCause() instanceof ConstraintViolationException) {\n          ex.printStackTrace();\n          throw new ApolloDBSaveException(&quot;ConstraintViolationException while saving Itinerary, could be concurrency issue&quot;, ex);\n        }\n      }\n    } \n</code></pre>\n<p>Now for mysterious reasons, it seems the error getting thrown is no longer an instance of RollbackException so I had to just catch it at the PersistenceException level.</p>\n<pre><code>catch (PersistenceException ex) {\n      if (ex.getCause() instanceof ConstraintViolationException) {\n        ex.printStackTrace();\n        throw new ApolloDBSaveException(&quot;ConstraintViolationException while saving Itinerary, could be concurrency issue&quot;, ex);\n      }\n    } \n</code></pre>\n<p>What has me so perplexed is I haven't made any changes to the JPA Implementation Layer ( Hibernate 5.4.2.Final) or anything specific about the constraint I put on the table. The only thing I can think of is at some point we upgrade postgres from version 10 to version 11 but from an app standpoint that switch was invisible. Would that change the error getting thrown? I'm having trouble finding anything online to support the closest working theory.</p>\n"},{"tags":["java","arrays","loops"],"answers":[{"tags":[],"owner":{"account_id":4400377,"reputation":178,"user_id":3586257,"display_name":"jese_moriarty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649710476,"creation_date":1649710476,"answer_id":71834200,"question_id":71834056,"body_markdown":"See this code snippet helps you or not. Let me know.\r\n\r\n    private int[] getRandomArray(int size){\r\n        int[] arr = new int[size];\r\n        for(int i=0; i&lt;arr.length; i++){\r\n            //if you don&#39;t any bound\r\n            int rand = ThreadLocalRandom.current().nextInt();\r\n            //if you need any bound. for example following will return int value in between 10 and 100\r\n            //int rand = ThreadLocalRandom.current().nextInt(10, 100);\r\n            arr[i] = rand;\r\n        }\r\n        return arr;\r\n    }","title":"How to generate a random array for each iteration of a loop in java","body":"<p>See this code snippet helps you or not. Let me know.</p>\n<pre><code>private int[] getRandomArray(int size){\n    int[] arr = new int[size];\n    for(int i=0; i&lt;arr.length; i++){\n        //if you don't any bound\n        int rand = ThreadLocalRandom.current().nextInt();\n        //if you need any bound. for example following will return int value in between 10 and 100\n        //int rand = ThreadLocalRandom.current().nextInt(10, 100);\n        arr[i] = rand;\n    }\n    return arr;\n}\n</code></pre>\n"}],"owner":{"account_id":24905828,"reputation":1,"user_id":18775903,"display_name":"Bow Chikawowwow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649710476,"creation_date":1649709724,"question_id":71834056,"body_markdown":"I&#39;m trying to create a large number of arrays with random integers of similar size for each iteration of a loop. e.g 500 iterations.(So for each loop, a new array is created) Then sort these 500 arrays using my implemented sort methods. I&#39;m pretty new to java and I don&#39;t even know where to start. \r\nI have a random array method which inputs random variables into an array to help with inputting the variables\r\n\r\nThanks. ","title":"How to generate a random array for each iteration of a loop in java","body":"<p>I'm trying to create a large number of arrays with random integers of similar size for each iteration of a loop. e.g 500 iterations.(So for each loop, a new array is created) Then sort these 500 arrays using my implemented sort methods. I'm pretty new to java and I don't even know where to start.\nI have a random array method which inputs random variables into an array to help with inputting the variables</p>\n<p>Thanks.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1649709641,"post_id":71834036,"comment_id":126940694,"body_markdown":"You shouldn&#39;t use a for loop. Instead, best to simply have `array[place] = myParameter;` then `place++;` (don&#39;t use `new` as a parameter name since it is a reserved key-word.","body":"You shouldn&#39;t use a for loop. Instead, best to simply have <code>array[place] = myParameter;</code> then <code>place++;</code> (don&#39;t use <code>new</code> as a parameter name since it is a reserved key-word."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1649709747,"post_id":71834036,"comment_id":126940717,"body_markdown":"Better still, use an ArrayList, *not* an array.","body":"Better still, use an ArrayList, <i>not</i> an array."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1649709865,"post_id":71834036,"comment_id":126940755,"body_markdown":"The duplicate in fact has similar code to anoniossss&#39;s answer","body":"The duplicate in fact has similar code to anoniossss&#39;s answer"},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1649709899,"post_id":71834036,"comment_id":126940765,"body_markdown":"Adding to what @HovercraftFullOfEels suggested: 1) You&#39;re limiting the size of the array to 10 elements. 2) The method add, once corrected, will always append the element without letting you choose the place. 3) As soon as you try to add the 11th element you will get an OutOfBoundException. 4) I guess you meant `vals` to be `array` as for your declaration","body":"Adding to what @HovercraftFullOfEels suggested: 1) You&#39;re limiting the size of the array to 10 elements. 2) The method add, once corrected, will always append the element without letting you choose the place. 3) As soon as you try to add the 11th element you will get an OutOfBoundException. 4) I guess you meant <code>vals</code> to be <code>array</code> as for your declaration"}],"answers":[{"tags":[],"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649709776,"creation_date":1649709776,"answer_id":71834069,"question_id":71834036,"body_markdown":"Just assign to the next free slot. `new` is a reserved keyword.\r\n\r\n    public boolean add(Object newItem) {    \r\n           vals[place++]=newItem;\r\n           return true;    \r\n    } ","title":"Using public boolean add(Object new) {","body":"<p>Just assign to the next free slot. <code>new</code> is a reserved keyword.</p>\n<pre><code>public boolean add(Object newItem) {    \n       vals[place++]=newItem;\n       return true;    \n} \n</code></pre>\n"}],"owner":{"account_id":22749748,"reputation":7,"user_id":16910076,"display_name":"Teal Blue"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":537,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1649709835,"answer_count":1,"score":-1,"last_activity_date":1649709969,"creation_date":1649709561,"question_id":71834036,"body_markdown":"In my program I have two private variable\r\n```\r\nprivate Object[] array;\r\nprivate int place;\r\n\r\n```\r\n\r\nI have initialized these variables in the constructor\r\n\r\n```\r\npublic Arrays() {\r\n\t\tarray = new Object[10];\r\n\t\tplace = 0;\r\n} \r\n\r\n```\r\n\r\nI am trying to properly implement the following method, this is what I have so far\r\n\r\n```\r\n\r\npublic boolean add(Object new) {\t\r\n\r\n\t\tfor(int j = place+1; j &lt;= 0; j++){\r\n\t\t\tarray[j] = new;\r\n\t\t}\r\n\t\t\r\n\t\tplace++;\r\n\t\treturn true;\t\r\n} \r\n```\r\nI am having trouble with placing the object &#39;new&#39; into the next unoccupied cell\r\n\r\n\r\n\r\n","title":"Using public boolean add(Object new) {","body":"<p>In my program I have two private variable</p>\n<pre><code>private Object[] array;\nprivate int place;\n\n</code></pre>\n<p>I have initialized these variables in the constructor</p>\n<pre><code>public Arrays() {\n        array = new Object[10];\n        place = 0;\n} \n\n</code></pre>\n<p>I am trying to properly implement the following method, this is what I have so far</p>\n<pre><code>\npublic boolean add(Object new) {    \n\n        for(int j = place+1; j &lt;= 0; j++){\n            array[j] = new;\n        }\n        \n        place++;\n        return true;    \n} \n</code></pre>\n<p>I am having trouble with placing the object 'new' into the next unoccupied cell</p>\n"},{"tags":["java","swing","jframe"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1649697491,"post_id":71831254,"comment_id":126936789,"body_markdown":"You add the JScrollpane to the tabbed pane the same way you add a JPanel to the tabbed pane. So your second class needs access to the tabbed pane of the first class. Your second class should NOT extend JFrame only create an instance of your scroll pane and then add it to the tabbed pane. So basically you just need a method that create the component to be added to the tabbed pane.","body":"You add the JScrollpane to the tabbed pane the same way you add a JPanel to the tabbed pane. So your second class needs access to the tabbed pane of the first class. Your second class should NOT extend JFrame only create an instance of your scroll pane and then add it to the tabbed pane. So basically you just need a method that create the component to be added to the tabbed pane."}],"answers":[{"tags":[],"owner":{"account_id":14194880,"reputation":1483,"user_id":10254476,"display_name":"GJohannes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649709117,"creation_date":1649709117,"answer_id":71833960,"question_id":71831254,"body_markdown":"You could add the following to your Code.\r\n\r\n    \r\n    JPanel lbTab = new JPanel();\r\n    Leaderboard leaderboard = new Leaderboard();\r\n    lbTab.add(leaderboard);\r\n\r\nthe Leaderboard is now in your JTabbedPane. If you want to add the Leaderboard as well as the leaderboardLabel in one Tab i suggest something like https://docs.oracle.com/javase/tutorial/uiswing/components/panel.html or https://stackoverflow.com/questions/55480767/how-to-layout-jframe-jpanel-etc for your first steps :) . ","title":"Can I add a Table inside of a JTabbedPane?","body":"<p>You could add the following to your Code.</p>\n<pre><code>JPanel lbTab = new JPanel();\nLeaderboard leaderboard = new Leaderboard();\nlbTab.add(leaderboard);\n</code></pre>\n<p>the Leaderboard is now in your JTabbedPane. If you want to add the Leaderboard as well as the leaderboardLabel in one Tab i suggest something like <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/panel.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/uiswing/components/panel.html</a> or <a href=\"https://stackoverflow.com/questions/55480767/how-to-layout-jframe-jpanel-etc\">How to layout? (JFrame, JPanel, etc.)</a> for your first steps :) .</p>\n"}],"owner":{"account_id":19614171,"reputation":1,"user_id":14356059,"display_name":"Lucy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649709117,"creation_date":1649694545,"question_id":71831254,"body_markdown":"I&#39;m very new at using JPanels/Tabs and so have run into a bunch of issues with my code.\r\nI&#39;ve created a table from SQL that I want to be able to be viewed inside of a tab.\r\nSo I have a class first of all that includes a login and then takes you to a window with three tabs:\r\npublic class UserInterface\r\n{\r\n    UserInterface() {\r\n\r\n        JFrame frame = new JFrame(); //create a frame\r\n        frame.setTitle(&quot;Bet Worthiness&quot;); //sets title of frame\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); //system exit when user closes window\r\n        frame.setResizable(false); //prevents user from resizing frame\r\n        JTextField text = new JTextField(10); //creates a text box\r\n        frame.getContentPane().setBackground(new Color(255, 243, 181)); //background colour\r\n\r\n        //Create panels\r\n        JPanel accountTab = new JPanel();\r\n        JPanel bettingTab = new JPanel();\r\n        JPanel leaderboardTab = new JPanel();\r\n\r\n        JTabbedPane tabs = new JTabbedPane(); //Create the tab container\r\n        tabs.setBounds(40, 20, 1400, 700); //Set tab container position\r\n\r\n\r\n        //Account Details label\r\n        JLabel accountLabel = new JLabel();\r\n        accountLabel.setText(&quot;Account Details&quot;);\r\n        accountLabel.setFont(new Font(&quot;Helvetica&quot;, Font.BOLD, 20));\r\n        accountTab.add(accountLabel);\r\n\r\n        //Betting label\r\n        JLabel bettingLabel = new JLabel();\r\n        bettingLabel.setText(&quot;Place Bets&quot;);\r\n        bettingLabel.setFont(new Font(&quot;Helvetica&quot;, Font.BOLD, 20));\r\n        bettingTab.add(bettingLabel);\r\n\r\n        //Leaderboard label\r\n        JLabel leaderboardLabel = new JLabel();\r\n        leaderboardLabel.setText(&quot;Leaderboard&quot;);\r\n        leaderboardLabel.setFont(new Font(&quot;Helvetica&quot;, Font.BOLD, 20));\r\n        leaderboardTab.add(leaderboardLabel);\r\n\r\n        //Associate each panel with the corresponding tab\r\n        tabs.add(&quot;Account&quot;, accountTab);\r\n        tabs.add(&quot;Betting&quot;, bettingTab);\r\n        tabs.add(&quot;Leaderboard&quot;, leaderboardTab);\r\n\r\n        frame.add(tabs); //Add tabs to the frame\r\n        frame.setSize(1500, 800);\r\n        frame.setLayout(null);\r\n        frame.setVisible(true);\r\n\r\n    }\r\n\r\n}\r\n\r\nI have then created a table on SQL in a separate class that I want to be embedded in the &#39;leaderboard&#39; tab:\r\n\r\n      public class Leaderboard extends JFrame {\r\n\r\n    public void displayLeaderboard() {\r\n\r\n        try\r\n        {\r\n            String url = &quot;jdbc:mysql://localhost:3306/bettingappdb&quot;;\r\n            String user = &quot;root&quot;;\r\n            String password = &quot;lucyb&quot;;\r\n\r\n            Connection con = DriverManager.getConnection(url, user, password);\r\n\r\n            String query = &quot;SELECT * FROM users&quot;;\r\n\r\n            Statement stm = con.createStatement();\r\n            ResultSet res = stm.executeQuery(query);\r\n\r\n            String columns[] = { &quot;Username&quot;, &quot;Success Rate&quot; };\r\n            String data[][] = new String[20][3];\r\n\r\n            int i = 0;\r\n            while (res.next()) {\r\n                String nom = res.getString(&quot;Username&quot;);\r\n                int successRate = res.getInt(&quot;SuccessRate&quot;);\r\n                data[i][0] = nom;\r\n                data[i][1] = successRate + &quot;&quot;;\r\n                i++;\r\n            }\r\n\r\n            DefaultTableModel model = new DefaultTableModel(data, columns);\r\n            JTable table = new JTable(model);\r\n            table.setShowGrid(true);\r\n            table.setShowVerticalLines(true);\r\n            JScrollPane pane = new JScrollPane(table);\r\n\r\n\r\n\r\n            JFrame f = new JFrame(&quot;Leaderboard&quot;);\r\n            JPanel panel = new JPanel();\r\n            panel.add(pane);\r\n            f.add(panel);\r\n            f.setSize(500, 500);\r\n            f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            f.setVisible(true);\r\n\r\n        } catch(SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\nIs there any way to put this table within the tab? Thank you :)","title":"Can I add a Table inside of a JTabbedPane?","body":"<p>I'm very new at using JPanels/Tabs and so have run into a bunch of issues with my code.\nI've created a table from SQL that I want to be able to be viewed inside of a tab.\nSo I have a class first of all that includes a login and then takes you to a window with three tabs:\npublic class UserInterface\n{\nUserInterface() {</p>\n<pre><code>    JFrame frame = new JFrame(); //create a frame\n    frame.setTitle(&quot;Bet Worthiness&quot;); //sets title of frame\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); //system exit when user closes window\n    frame.setResizable(false); //prevents user from resizing frame\n    JTextField text = new JTextField(10); //creates a text box\n    frame.getContentPane().setBackground(new Color(255, 243, 181)); //background colour\n\n    //Create panels\n    JPanel accountTab = new JPanel();\n    JPanel bettingTab = new JPanel();\n    JPanel leaderboardTab = new JPanel();\n\n    JTabbedPane tabs = new JTabbedPane(); //Create the tab container\n    tabs.setBounds(40, 20, 1400, 700); //Set tab container position\n\n\n    //Account Details label\n    JLabel accountLabel = new JLabel();\n    accountLabel.setText(&quot;Account Details&quot;);\n    accountLabel.setFont(new Font(&quot;Helvetica&quot;, Font.BOLD, 20));\n    accountTab.add(accountLabel);\n\n    //Betting label\n    JLabel bettingLabel = new JLabel();\n    bettingLabel.setText(&quot;Place Bets&quot;);\n    bettingLabel.setFont(new Font(&quot;Helvetica&quot;, Font.BOLD, 20));\n    bettingTab.add(bettingLabel);\n\n    //Leaderboard label\n    JLabel leaderboardLabel = new JLabel();\n    leaderboardLabel.setText(&quot;Leaderboard&quot;);\n    leaderboardLabel.setFont(new Font(&quot;Helvetica&quot;, Font.BOLD, 20));\n    leaderboardTab.add(leaderboardLabel);\n\n    //Associate each panel with the corresponding tab\n    tabs.add(&quot;Account&quot;, accountTab);\n    tabs.add(&quot;Betting&quot;, bettingTab);\n    tabs.add(&quot;Leaderboard&quot;, leaderboardTab);\n\n    frame.add(tabs); //Add tabs to the frame\n    frame.setSize(1500, 800);\n    frame.setLayout(null);\n    frame.setVisible(true);\n\n}\n</code></pre>\n<p>}</p>\n<p>I have then created a table on SQL in a separate class that I want to be embedded in the 'leaderboard' tab:</p>\n<pre><code>  public class Leaderboard extends JFrame {\n\npublic void displayLeaderboard() {\n\n    try\n    {\n        String url = &quot;jdbc:mysql://localhost:3306/bettingappdb&quot;;\n        String user = &quot;root&quot;;\n        String password = &quot;lucyb&quot;;\n\n        Connection con = DriverManager.getConnection(url, user, password);\n\n        String query = &quot;SELECT * FROM users&quot;;\n\n        Statement stm = con.createStatement();\n        ResultSet res = stm.executeQuery(query);\n\n        String columns[] = { &quot;Username&quot;, &quot;Success Rate&quot; };\n        String data[][] = new String[20][3];\n\n        int i = 0;\n        while (res.next()) {\n            String nom = res.getString(&quot;Username&quot;);\n            int successRate = res.getInt(&quot;SuccessRate&quot;);\n            data[i][0] = nom;\n            data[i][1] = successRate + &quot;&quot;;\n            i++;\n        }\n\n        DefaultTableModel model = new DefaultTableModel(data, columns);\n        JTable table = new JTable(model);\n        table.setShowGrid(true);\n        table.setShowVerticalLines(true);\n        JScrollPane pane = new JScrollPane(table);\n\n\n\n        JFrame f = new JFrame(&quot;Leaderboard&quot;);\n        JPanel panel = new JPanel();\n        panel.add(pane);\n        f.add(panel);\n        f.setSize(500, 500);\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        f.setVisible(true);\n\n    } catch(SQLException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>}</p>\n<p>Is there any way to put this table within the tab? Thank you :)</p>\n"},{"tags":["java","file","increment"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":1,"creation_date":1649708327,"post_id":71833767,"comment_id":126940331,"body_markdown":"You want `++stepped`.","body":"You want <code>++stepped</code>."},{"owner":{"account_id":1998232,"reputation":79,"user_id":1789903,"accept_rate":47,"display_name":"horribly_n00bie"},"score":0,"creation_date":1649708862,"post_id":71833767,"comment_id":126940488,"body_markdown":"That was brilliantly simple. Why is it in most cases the ++ comes at the end but here it precedes?","body":"That was brilliantly simple. Why is it in most cases the ++ comes at the end but here it precedes?"}],"answers":[{"tags":[],"owner":{"account_id":6127634,"reputation":859,"user_id":4778990,"display_name":"Michel Fortes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649708811,"creation_date":1649708811,"answer_id":71833903,"question_id":71833767,"body_markdown":"Try pre increment &#39;stepped&#39;. Change this\r\n\r\n    Path filePath = Paths.get(&quot;_GAMES/&quot; + getSaveName() + &quot;_&quot; + (stepped++) + &quot;.csv&quot;);\r\n\r\nto this\r\n\r\n    Path filePath = Paths.get(&quot;_GAMES/&quot; + getSaveName() + &quot;_&quot; + (++stepped) + &quot;.csv&quot;);","title":"Java: How do you find the highest file number and increment it?","body":"<p>Try pre increment 'stepped'. Change this</p>\n<pre><code>Path filePath = Paths.get(&quot;_GAMES/&quot; + getSaveName() + &quot;_&quot; + (stepped++) + &quot;.csv&quot;);\n</code></pre>\n<p>to this</p>\n<pre><code>Path filePath = Paths.get(&quot;_GAMES/&quot; + getSaveName() + &quot;_&quot; + (++stepped) + &quot;.csv&quot;);\n</code></pre>\n"}],"owner":{"account_id":1998232,"reputation":79,"user_id":1789903,"accept_rate":47,"display_name":"horribly_n00bie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1649708998,"accepted_answer_id":71833903,"answer_count":1,"score":0,"last_activity_date":1649708811,"creation_date":1649708002,"question_id":71833767,"body_markdown":"So, I&#39;ve written a code to create a file, but first it uses an if statement to check if a file exists and if it does it should increase an integer by 1, though I have a feeling I need to run the check after the increment, but for now I should at least get file1 and file2.\r\n\r\n    public void createNewCSV() throws IOException {\r\n\r\n        int stepped = 1;\r\n        //TODO: Find the highest number in the series of files\r\n        File file = new File(&quot;_GAMES/&quot; + getSaveName() + &quot;_&quot; + stepped + &quot;.csv&quot;);\r\n\r\n        //TODO: If the filename matches create a file-[higest number + 1].csv\r\n        if (file.exists()) {\r\n            System.out.println(&quot;File exists&quot;);\r\n            Path filePath = Paths.get(&quot;_GAMES/&quot; + getSaveName() + &quot;_&quot; + (stepped++) + &quot;.csv&quot;);\r\n            Files.createDirectories(filePath.getParent());\r\n            try {\r\n                final BufferedWriter out = Files.newBufferedWriter(filePath, StandardOpenOption.CREATE, StandardOpenOption.APPEND);\r\n                out.close();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        } else {\r\n            System.out.println(&quot;File don&#39;t exists&quot;);\r\n            Path filePath = Paths.get(&quot;_GAMES/&quot; + getSaveName() + &quot;_&quot; + stepped + &quot;.csv&quot;);\r\n            Files.createDirectories(filePath.getParent());\r\n            try {\r\n                final BufferedWriter out = Files.newBufferedWriter(filePath, StandardOpenOption.CREATE, StandardOpenOption.APPEND);\r\n                out.close();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nThe prints tell me if the file does or doesn&#39;t exist properly. I have a feeling that using int stepped = 1; is where it&#39;s falling apart. Does anyone know how I can get the stepped++ to work?","title":"Java: How do you find the highest file number and increment it?","body":"<p>So, I've written a code to create a file, but first it uses an if statement to check if a file exists and if it does it should increase an integer by 1, though I have a feeling I need to run the check after the increment, but for now I should at least get file1 and file2.</p>\n<pre><code>public void createNewCSV() throws IOException {\n\n    int stepped = 1;\n    //TODO: Find the highest number in the series of files\n    File file = new File(&quot;_GAMES/&quot; + getSaveName() + &quot;_&quot; + stepped + &quot;.csv&quot;);\n\n    //TODO: If the filename matches create a file-[higest number + 1].csv\n    if (file.exists()) {\n        System.out.println(&quot;File exists&quot;);\n        Path filePath = Paths.get(&quot;_GAMES/&quot; + getSaveName() + &quot;_&quot; + (stepped++) + &quot;.csv&quot;);\n        Files.createDirectories(filePath.getParent());\n        try {\n            final BufferedWriter out = Files.newBufferedWriter(filePath, StandardOpenOption.CREATE, StandardOpenOption.APPEND);\n            out.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    } else {\n        System.out.println(&quot;File don't exists&quot;);\n        Path filePath = Paths.get(&quot;_GAMES/&quot; + getSaveName() + &quot;_&quot; + stepped + &quot;.csv&quot;);\n        Files.createDirectories(filePath.getParent());\n        try {\n            final BufferedWriter out = Files.newBufferedWriter(filePath, StandardOpenOption.CREATE, StandardOpenOption.APPEND);\n            out.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>The prints tell me if the file does or doesn't exist properly. I have a feeling that using int stepped = 1; is where it's falling apart. Does anyone know how I can get the stepped++ to work?</p>\n"},{"tags":["java","selenium","selenium-firefoxdriver","jbehave"],"comments":[{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1649686845,"post_id":71828491,"comment_id":126932766,"body_markdown":"I don&#39;t see the error within the error stacktrace","body":"I don&#39;t see the error within the error stacktrace"},{"owner":{"account_id":24525815,"reputation":31,"user_id":18438267,"display_name":"BorbelyI"},"score":0,"creation_date":1649688090,"post_id":71828491,"comment_id":126933285,"body_markdown":"@undetectedSelenium 1649681318353\tMarionette\tINFO\tStopped listening on port 52991\n\n###!!! [Parent][PImageBridgeParent] Error: RunMessage(msgname=PImageBridge::Msg_WillClose) Channel closing: too late to send/recv, messages will be lost","body":"@undetectedSelenium 1649681318353\tMarionette\tINFO\tStopped listening on port 52991  ###!!! [Parent][PImageBridgeParent] Error: RunMessage(msgname=PImageBridge::Msg_WillClose) Channel closing: too late to send/recv, messages will be lost"}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649708469,"creation_date":1649708469,"answer_id":71833842,"question_id":71828491,"body_markdown":"This error message...\r\n\r\n\tChannel closing: too late to send/recv, messages will be lost\r\n\r\n...implies that most likely there was a crash of Firefox and it can be due to various reasons. In majority of the cases version mismatch between [Selenium](https://stackoverflow.com/a/54482491/7429447), [GeckoDriver](https://stackoverflow.com/a/45331403/7429447) and [tag:firefox]\r\n\r\nHowever, as you are seeing this error at the end of the execution you don&#39;t have to worry about unless it is causing your test to fail.\r\n\r\n\r\n----------\r\n\r\n\r\nReferences\r\n----------\r\nYou can find a couple of relevant discussions in:\r\n\r\n- [Error: Channel closing: too late to send/recv, messages will be lost](https://github.com/mozilla/geckodriver/issues/1376)\r\n- [[Child][RunMessage] Error: Channel closing: too late to send/recv, messages will be lost](https://github.com/mozilla/geckodriver/issues/1732)\r\n\r\n\r\n----------\r\n\r\n\r\ntl; dr\r\n------\r\n[Intermittent TEST-UNEXPECTED-TIMEOUT | /html/semantics/embedded-content/the-img-element/image-loading-lazy-below-viewport-dynamic.html | TestRunner hit external timeout (this may indicate a hang)](https://bugzilla.mozilla.org/show_bug.cgi?id=1754557)","title":"[Parent][PImageBridgeParent] Error: RunMessage(msgname=PImageBridge::Msg_WillClose) Channel closing: too late to send/recv, messages will be lost","body":"<p>This error message...</p>\n<pre><code>Channel closing: too late to send/recv, messages will be lost\n</code></pre>\n<p>...implies that most likely there was a crash of Firefox and it can be due to various reasons. In majority of the cases version mismatch between <a href=\"https://stackoverflow.com/a/54482491/7429447\">Selenium</a>, <a href=\"https://stackoverflow.com/a/45331403/7429447\">GeckoDriver</a> and <a href=\"/questions/tagged/firefox\" class=\"post-tag\" title=\"show questions tagged &#39;firefox&#39;\" rel=\"tag\">firefox</a></p>\n<p>However, as you are seeing this error at the end of the execution you don't have to worry about unless it is causing your test to fail.</p>\n<hr />\n<h2>References</h2>\n<p>You can find a couple of relevant discussions in:</p>\n<ul>\n<li><a href=\"https://github.com/mozilla/geckodriver/issues/1376\" rel=\"nofollow noreferrer\">Error: Channel closing: too late to send/recv, messages will be lost</a></li>\n<li>[<a href=\"https://github.com/mozilla/geckodriver/issues/1732\" rel=\"nofollow noreferrer\">Child][RunMessage] Error: Channel closing: too late to send/recv, messages will be lost</a></li>\n</ul>\n<hr />\n<h2>tl; dr</h2>\n<p><a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=1754557\" rel=\"nofollow noreferrer\">Intermittent TEST-UNEXPECTED-TIMEOUT | /html/semantics/embedded-content/the-img-element/image-loading-lazy-below-viewport-dynamic.html | TestRunner hit external timeout (this may indicate a hang)</a></p>\n"}],"owner":{"account_id":24525815,"reputation":31,"user_id":18438267,"display_name":"BorbelyI"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1201,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1649708469,"creation_date":1649682746,"question_id":71828491,"body_markdown":"I have a simple java project using Slenium and JBehave for automation testing.\r\nMy simple &quot;open a page&quot; code still worked last week but today the code run fine but the end of the execution I get this error message:\r\n`[Parent][PImageBridgeParent] Error: RunMessage(msgname=PImageBridge::Msg_WillClose) Channel closing: too late to send/recv, messages will be lost`\r\nI don&#39;t find anything on web, I have no idea what to do to get green execution.\r\n\r\nFull log:\r\n\r\n    org.jbehave.core.embedder.Embedder$RunningStoriesFailed: Failures in running stories: ReportsCount[scenarios=8,scenariosFailed=3,scenariosNotAllowed=0,scenariosPending=0,stepsFailed=3,stories=9,storiesNotAllowed=0,storiesPending=0]\r\n    at org.jbehave.core.embedder.Embedder$ThrowingRunningStoriesFailed.handleFailures(Embedder.java:557)\r\n    at org.jbehave.core.embedder.Embedder.handleFailures(Embedder.java:279)\r\n    at org.jbehave.core.embedder.Embedder.generateReportsView(Embedder.java:266)\r\n    at org.jbehave.core.embedder.Embedder.generateReportsView(Embedder.java:247)\r\n    at org.jbehave.core.embedder.Embedder.runStoriesAsPaths(Embedder.java:223)\r\n    at org.jbehave.core.junit.JUnitStories.run(JUnitStories.java:20)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke(Method.java:498)\r\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\r\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\r\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n    at org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\r\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\r\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\r\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\r\n    at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n    at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\r\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54) \r\n    Process finished with exit code 255`\r\n\r\nI use geckodriver-v0.30.0-macos,Firefox version: 99.0 which is up-to-date\r\n\r\nThank you for your help!\r\n","title":"[Parent][PImageBridgeParent] Error: RunMessage(msgname=PImageBridge::Msg_WillClose) Channel closing: too late to send/recv, messages will be lost","body":"<p>I have a simple java project using Slenium and JBehave for automation testing.\nMy simple &quot;open a page&quot; code still worked last week but today the code run fine but the end of the execution I get this error message:\n<code>[Parent][PImageBridgeParent] Error: RunMessage(msgname=PImageBridge::Msg_WillClose) Channel closing: too late to send/recv, messages will be lost</code>\nI don't find anything on web, I have no idea what to do to get green execution.</p>\n<p>Full log:</p>\n<pre><code>org.jbehave.core.embedder.Embedder$RunningStoriesFailed: Failures in running stories: ReportsCount[scenarios=8,scenariosFailed=3,scenariosNotAllowed=0,scenariosPending=0,stepsFailed=3,stories=9,storiesNotAllowed=0,storiesPending=0]\nat org.jbehave.core.embedder.Embedder$ThrowingRunningStoriesFailed.handleFailures(Embedder.java:557)\nat org.jbehave.core.embedder.Embedder.handleFailures(Embedder.java:279)\nat org.jbehave.core.embedder.Embedder.generateReportsView(Embedder.java:266)\nat org.jbehave.core.embedder.Embedder.generateReportsView(Embedder.java:247)\nat org.jbehave.core.embedder.Embedder.runStoriesAsPaths(Embedder.java:223)\nat org.jbehave.core.junit.JUnitStories.run(JUnitStories.java:20)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\nat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\nat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\nat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\nat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\nat org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\nat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\nat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\nat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\nat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\nat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\nat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\nat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\nat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\nat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\nat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\nat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\nat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\nat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\nat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\nat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\nat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\nat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54) \nProcess finished with exit code 255`\n</code></pre>\n<p>I use geckodriver-v0.30.0-macos,Firefox version: 99.0 which is up-to-date</p>\n<p>Thank you for your help!</p>\n"},{"tags":["java","spring","spring-boot","spring-websocket","tomcat8.5"],"comments":[{"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"score":0,"creation_date":1546987517,"post_id":54100690,"comment_id":95034548,"body_markdown":"The error implies that your servlet container is not enabled for web sockets. Do the web sockets work without `ServletServerContainerFactoryBean` problematic bean?","body":"The error implies that your servlet container is not enabled for web sockets. Do the web sockets work without <code>ServletServerContainerFactoryBean</code> problematic bean?"},{"owner":{"account_id":106185,"reputation":1126,"user_id":282956,"accept_rate":0,"display_name":"mavriksc"},"score":0,"creation_date":1546987542,"post_id":54100690,"comment_id":95034559,"body_markdown":"[different server but may be related...](https://stackoverflow.com/questions/32074948/no-javax-websocket-server-servercontainer-servletcontext-attribute-glassfish)","body":"<a href=\"https://stackoverflow.com/questions/32074948/no-javax-websocket-server-servercontainer-servletcontext-attribute-glassfish\">different server but may be related...</a>"},{"owner":{"account_id":1348803,"reputation":1118,"user_id":1289016,"accept_rate":100,"display_name":"Phil Ninan"},"score":0,"creation_date":1546987666,"post_id":54100690,"comment_id":95034596,"body_markdown":"The web sockets work without the `ServletServerContainerFactoryBean`, but I need to set a larger max text message buffer.","body":"The web sockets work without the <code>ServletServerContainerFactoryBean</code>, but I need to set a larger max text message buffer."},{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1546987706,"post_id":54100690,"comment_id":95034605,"body_markdown":"You&#39;re trying to deploy a standalone executable jar with an embedded Tomcat, right? That&#39;s what your pom seems to be implying at least.","body":"You&#39;re trying to deploy a standalone executable jar with an embedded Tomcat, right? That&#39;s what your pom seems to be implying at least."},{"owner":{"account_id":1348803,"reputation":1118,"user_id":1289016,"accept_rate":100,"display_name":"Phil Ninan"},"score":0,"creation_date":1546987867,"post_id":54100690,"comment_id":95034667,"body_markdown":"I am deploying a war. I will update my question.","body":"I am deploying a war. I will update my question."},{"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"score":0,"creation_date":1546988512,"post_id":54100690,"comment_id":95034872,"body_markdown":"What do you mean &quot;I&#39;m able to run locally&quot;? If you take a fresh local install of Tomcat 8.5 and deploy the WAR locally will it work?","body":"What do you mean &quot;I&#39;m able to run locally&quot;? If you take a fresh local install of Tomcat 8.5 and deploy the WAR locally will it work?"},{"owner":{"account_id":1348803,"reputation":1118,"user_id":1289016,"accept_rate":100,"display_name":"Phil Ninan"},"score":0,"creation_date":1546988716,"post_id":54100690,"comment_id":95034930,"body_markdown":"When I say run locally I mean through eclipse, which is also using Tomcat 8.5.","body":"When I say run locally I mean through eclipse, which is also using Tomcat 8.5."}],"answers":[{"tags":[],"owner":{"account_id":1348803,"reputation":1118,"user_id":1289016,"accept_rate":100,"display_name":"Phil Ninan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1547060148,"creation_date":1547060148,"answer_id":54116592,"question_id":54100690,"body_markdown":"This is not the best answer, but I was able to fix this issue by using `Apache Tomcat 8.5.4` which does not seem to be stable. I am unsure on WHY this fixes these issues, but my best guess is something to do with the `Tomcat\\lib` libraries. \r\n\r\nI am using `Java 8`, which Apache says to use `Tomcat9`, but I received the same exception using that version as well. ","title":"Tomcat + Spring Boot + &#39;javax.websocket.server.ServerContainer&#39; not found","body":"<p>This is not the best answer, but I was able to fix this issue by using <code>Apache Tomcat 8.5.4</code> which does not seem to be stable. I am unsure on WHY this fixes these issues, but my best guess is something to do with the <code>Tomcat\\lib</code> libraries. </p>\n\n<p>I am using <code>Java 8</code>, which Apache says to use <code>Tomcat9</code>, but I received the same exception using that version as well. </p>\n"},{"tags":[],"owner":{"account_id":6409722,"reputation":2936,"user_id":4969870,"display_name":"Paweł Głowacz"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1561533158,"creation_date":1561533158,"answer_id":56767172,"question_id":54100690,"body_markdown":"Had same issue for `Tomcat 9.0.20` and `Tomcat 9.0.21` with `SpringBoot 2.1.1` to `SpringBoot 2.1.6`.\r\nFound some discussion here: https://github.com/spring-projects/spring-boot/issues/15746\r\n\r\nThey seems found problem with some kind `tomcat version`. Anyway.\r\n\r\nWhat helped me was to add `web.xml` to catalog `WEB-INF` and paste following snippet:\r\n\r\n\r\n    &lt;absolute-ordering&gt;\r\n        &lt;name&gt;spring_web&lt;/name&gt;\r\n    &lt;/absolute-ordering&gt;\r\n\r\nSpring documentation: [WebSocket and Spring][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/5.0.0.BUILD-SNAPSHOT/spring-framework-reference/html/websocket.html#websocket-server-deployment","title":"Tomcat + Spring Boot + &#39;javax.websocket.server.ServerContainer&#39; not found","body":"<p>Had same issue for <code>Tomcat 9.0.20</code> and <code>Tomcat 9.0.21</code> with <code>SpringBoot 2.1.1</code> to <code>SpringBoot 2.1.6</code>.\nFound some discussion here: <a href=\"https://github.com/spring-projects/spring-boot/issues/15746\" rel=\"noreferrer\">https://github.com/spring-projects/spring-boot/issues/15746</a></p>\n\n<p>They seems found problem with some kind <code>tomcat version</code>. Anyway.</p>\n\n<p>What helped me was to add <code>web.xml</code> to catalog <code>WEB-INF</code> and paste following snippet:</p>\n\n<pre><code>&lt;absolute-ordering&gt;\n    &lt;name&gt;spring_web&lt;/name&gt;\n&lt;/absolute-ordering&gt;\n</code></pre>\n\n<p>Spring documentation: <a href=\"https://docs.spring.io/spring-framework/docs/5.0.0.BUILD-SNAPSHOT/spring-framework-reference/html/websocket.html#websocket-server-deployment\" rel=\"noreferrer\">WebSocket and Spring</a></p>\n"},{"tags":[],"owner":{"account_id":10679296,"reputation":27,"user_id":7861872,"display_name":"Squinshee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586815037,"creation_date":1586815037,"answer_id":61197473,"question_id":54100690,"body_markdown":"I encountered this issue as well and inserting the following snippet into my `web.xml` file did not work for me:\r\n\r\n    &lt;absolute-ordering&gt;\r\n        &lt;name&gt;spring_web&lt;/name&gt;\r\n    &lt;/absolute-ordering&gt;\r\n\r\nHowever, I did fix it by downloading the most recent `Apache Tomcat` (went from `9.0.30` to `9.0.34`).","title":"Tomcat + Spring Boot + &#39;javax.websocket.server.ServerContainer&#39; not found","body":"<p>I encountered this issue as well and inserting the following snippet into my <code>web.xml</code> file did not work for me:</p>\n\n<pre><code>&lt;absolute-ordering&gt;\n    &lt;name&gt;spring_web&lt;/name&gt;\n&lt;/absolute-ordering&gt;\n</code></pre>\n\n<p>However, I did fix it by downloading the most recent <code>Apache Tomcat</code> (went from <code>9.0.30</code> to <code>9.0.34</code>).</p>\n"},{"tags":[],"owner":{"account_id":1348803,"reputation":1118,"user_id":1289016,"accept_rate":100,"display_name":"Phil Ninan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1649708339,"creation_date":1649708339,"answer_id":71833816,"question_id":54100690,"body_markdown":"After many years, we were finally able to resolve this issue by updating to the latest minor version of Apache Tomcat 8 (`8.5.78`).\r\n\r\nThis is an alternative option to my [previous answer][1] of downgrading to an unstable Apache Tomcat 8 version.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/54116592/1289016","title":"Tomcat + Spring Boot + &#39;javax.websocket.server.ServerContainer&#39; not found","body":"<p>After many years, we were finally able to resolve this issue by updating to the latest minor version of Apache Tomcat 8 (<code>8.5.78</code>).</p>\n<p>This is an alternative option to my <a href=\"https://stackoverflow.com/a/54116592/1289016\">previous answer</a> of downgrading to an unstable Apache Tomcat 8 version.</p>\n"}],"owner":{"account_id":1348803,"reputation":1118,"user_id":1289016,"accept_rate":100,"display_name":"Phil Ninan"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8446,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":71833816,"answer_count":4,"score":6,"last_activity_date":1649708339,"creation_date":1546986768,"question_id":54100690,"body_markdown":"I am trying to deploy a Spring Boot (2.0.5) web application (war) with web sockets to a Tomcat 8.5.37 server, it previously worked with Tomcat 7. My web socket configuration is throwing the exception and preventing the application from starting. Am I missing some type of configuration in Spring or Tomcat? Something that is no longer available since I upgraded Tomcat?\r\n\r\nI am able to run locally (through eclipse and eclipse&#39;s Tomcat v8.5), but when I try to deploy to our Tomcat server on our qa enviroment I get the following:\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;createWebSocketContainer&#39; defined in class path resource [com/soft/core/app/configuration/WebSocketConfiguration.class]: Invocation of init method failed; nested exception is java.lang.IllegalStateException: Attribute &#39;javax.websocket.server.ServerContainer&#39; not found in ServletContext\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1699)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:573)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:740)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:780)\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:333)\r\n    \tat org.springframework.boot.web.servlet.support.SpringBootServletInitializer.run(SpringBootServletInitializer.java:157)\r\n    \tat org.springframework.boot.web.servlet.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:137)\r\n    \tat org.springframework.boot.web.servlet.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:91)\r\n    \tat org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:172)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5267)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:754)\r\n    \tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:730)\r\n    \tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:734)\r\n    \tat org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:985)\r\n    \tat org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1857)\r\n    \tat java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)\r\n    \tat java.util.concurrent.FutureTask.run(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n    Caused by: java.lang.IllegalStateException: Attribute &#39;javax.websocket.server.ServerContainer&#39; not found in ServletContext\r\n\r\nI was able to isolate to cause to this bean, if I remove this bean the app starts up:\r\n\r\n    @Configuration\r\n    @EnableWebSocketMessageBroker\r\n    public class WebSocketConfiguration implements WebSocketMessageBrokerConfigurer{\r\n    ...\r\n    ...\r\n        @Bean\r\n        public ServletServerContainerFactoryBean createWebSocketContainer() {\r\n            ServletServerContainerFactoryBean container = new ServletServerContainerFactoryBean();\r\n            container.setMaxTextMessageBufferSize(1024 * 1024); // 1 MB\r\n            return container;\r\n        }\r\n    }\r\n\r\n \r\nThis is my Spring-BOM.xml\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.5.RELEASE&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-ldap&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n\t        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t        &lt;optional&gt;true&lt;/optional&gt;\r\n\t    &lt;/dependency&gt;\r\n\t    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-security-messaging&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    \r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nThis is my pom.xml\r\n     \r\n       &lt;packaging&gt;war&lt;/packaging&gt;\r\n       ...\r\n       &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.mybatis&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;mybatis&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.2.8&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.mybatis&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.2.2&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;net.sourceforge.jtds&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jtds&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.neo4j&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;neo4j-cypher-compiler-2.1&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.1.5&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;!-- jsoup HTML parser library @ https://jsoup.org/ --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.jsoup&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jsoup&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.11.2&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;commons-net&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;commons-net&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.3&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;0.6.0&lt;/version&gt;\r\n    \t&lt;/dependency&gt;              \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.8.0&lt;/version&gt;\r\n    \t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;        \r\n    &lt;/dependencies&gt;\r\n","title":"Tomcat + Spring Boot + &#39;javax.websocket.server.ServerContainer&#39; not found","body":"<p>I am trying to deploy a Spring Boot (2.0.5) web application (war) with web sockets to a Tomcat 8.5.37 server, it previously worked with Tomcat 7. My web socket configuration is throwing the exception and preventing the application from starting. Am I missing some type of configuration in Spring or Tomcat? Something that is no longer available since I upgraded Tomcat?</p>\n\n<p>I am able to run locally (through eclipse and eclipse's Tomcat v8.5), but when I try to deploy to our Tomcat server on our qa enviroment I get the following:</p>\n\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'createWebSocketContainer' defined in class path resource [com/soft/core/app/configuration/WebSocketConfiguration.class]: Invocation of init method failed; nested exception is java.lang.IllegalStateException: Attribute 'javax.websocket.server.ServerContainer' not found in ServletContext\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1699)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:573)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:740)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:780)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:333)\n    at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.run(SpringBootServletInitializer.java:157)\n    at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:137)\n    at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:91)\n    at org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:172)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5267)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:754)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:730)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:734)\n    at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:985)\n    at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1857)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)\n    at java.util.concurrent.FutureTask.run(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.lang.Thread.run(Unknown Source)\nCaused by: java.lang.IllegalStateException: Attribute 'javax.websocket.server.ServerContainer' not found in ServletContext\n</code></pre>\n\n<p>I was able to isolate to cause to this bean, if I remove this bean the app starts up:</p>\n\n<pre><code>@Configuration\n@EnableWebSocketMessageBroker\npublic class WebSocketConfiguration implements WebSocketMessageBrokerConfigurer{\n...\n...\n    @Bean\n    public ServletServerContainerFactoryBean createWebSocketContainer() {\n        ServletServerContainerFactoryBean container = new ServletServerContainerFactoryBean();\n        container.setMaxTextMessageBufferSize(1024 * 1024); // 1 MB\n        return container;\n    }\n}\n</code></pre>\n\n<p>This is my Spring-BOM.xml</p>\n\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.0.5.RELEASE&lt;/version&gt;\n&lt;/parent&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-ldap&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-messaging&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>This is my pom.xml</p>\n\n<pre><code>   &lt;packaging&gt;war&lt;/packaging&gt;\n   ...\n   &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mybatis&lt;/groupId&gt;\n        &lt;artifactId&gt;mybatis&lt;/artifactId&gt;\n        &lt;version&gt;3.2.8&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mybatis&lt;/groupId&gt;\n        &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt;\n        &lt;version&gt;1.2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.sourceforge.jtds&lt;/groupId&gt;\n        &lt;artifactId&gt;jtds&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.neo4j&lt;/groupId&gt;\n        &lt;artifactId&gt;neo4j-cypher-compiler-2.1&lt;/artifactId&gt;\n        &lt;version&gt;2.1.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- jsoup HTML parser library @ https://jsoup.org/ --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jsoup&lt;/groupId&gt;\n        &lt;artifactId&gt;jsoup&lt;/artifactId&gt;\n        &lt;version&gt;1.11.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-net&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-net&lt;/artifactId&gt;\n        &lt;version&gt;3.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n        &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n        &lt;version&gt;0.6.0&lt;/version&gt;\n    &lt;/dependency&gt;              \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n        &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n        &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;        \n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","formatting","code-formatting"],"comments":[{"owner":{"account_id":19918,"reputation":53180,"user_id":47110,"accept_rate":98,"display_name":"Abdullah Jibaly"},"score":1,"creation_date":1305580872,"post_id":6023391,"comment_id":6963783,"body_markdown":"My biggest issue is not with function calls but the definitions because then you have the ugly indenting... indenting... outdenting situation.","body":"My biggest issue is not with function calls but the definitions because then you have the ugly indenting... indenting... outdenting situation."}],"answers":[{"tags":[],"owner":{"account_id":187974,"reputation":20625,"user_id":426412,"display_name":"Vivien Barousse"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1649708219,"creation_date":1305579912,"answer_id":6023423,"question_id":6023391,"body_markdown":"According to [Sun&#39;s Java coding conventions][1], section &quot;Wrapping Lines&quot;:\r\n\r\n&gt; When an expression will not fit on a single line, break it according to these general principles:\r\n&gt;\r\n&gt; * Break after a comma.\r\n&gt; * Break before an operator.\r\n&gt; * Prefer higher-level breaks to lower-level breaks.\r\n&gt; * Align the new line with the beginning of the expression at the same level on the previous line.\r\n&gt; * If the above rules lead to confusing code or to code that’s squished up against the right margin, just indent 8 spaces instead.\r\n\r\nThe document also includes some examples for method calls:\r\n\r\n    function(longExpression1, longExpression2, longExpression3,\r\n             longExpression4, longExpression5);\r\n\r\n    var = function1(longExpression1,\r\n                    function2(longExpression2,\r\n                              longExpression3));\r\n\r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase/codeconventions-indentation.html#248","title":"Formatting multiple arguments passed to a function in Java","body":"<p>According to <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-indentation.html#248\" rel=\"noreferrer\">Sun's Java coding conventions</a>, section &quot;Wrapping Lines&quot;:</p>\n<blockquote>\n<p>When an expression will not fit on a single line, break it according to these general principles:</p>\n<ul>\n<li>Break after a comma.</li>\n<li>Break before an operator.</li>\n<li>Prefer higher-level breaks to lower-level breaks.</li>\n<li>Align the new line with the beginning of the expression at the same level on the previous line.</li>\n<li>If the above rules lead to confusing code or to code that’s squished up against the right margin, just indent 8 spaces instead.</li>\n</ul>\n</blockquote>\n<p>The document also includes some examples for method calls:</p>\n<pre><code>function(longExpression1, longExpression2, longExpression3,\n         longExpression4, longExpression5);\n\nvar = function1(longExpression1,\n                function2(longExpression2,\n                          longExpression3));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19918,"reputation":53180,"user_id":47110,"accept_rate":98,"display_name":"Abdullah Jibaly"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1305579944,"creation_date":1305579944,"answer_id":6023428,"question_id":6023391,"body_markdown":"Referring to your example, Eclipse and other IDEs format it the way you have above (1 argument per line, all left aligned) and usually that looks pretty good.","title":"Formatting multiple arguments passed to a function in Java","body":"<p>Referring to your example, Eclipse and other IDEs format it the way you have above (1 argument per line, all left aligned) and usually that looks pretty good.</p>\n"},{"tags":[],"owner":{"account_id":39812,"reputation":9161,"user_id":115018,"accept_rate":100,"display_name":"Nate W."},"down_vote_count":1,"up_vote_count":28,"is_accepted":false,"score":27,"last_activity_date":1394488007,"creation_date":1305580205,"answer_id":6023487,"question_id":6023391,"body_markdown":"When I have to call a method like this I like to put the arguments on their own line, like so:\r\n\r\n    final int result = calculate (\r\n        dataManager.getLastUpdate().getNumberOfChildren(),\r\n        dataManager.getLastUpdate().getNumberOfParents(),\r\n        dataManager.getLastUpdate().getNumberOfGrandChildren(),\r\n        milliseconds,\r\n        somethingelse\r\n    );\r\n\r\nObviously this is a personal preference, but if you&#39;re working with others on code, try to conform to the conventions already set forth. ","title":"Formatting multiple arguments passed to a function in Java","body":"<p>When I have to call a method like this I like to put the arguments on their own line, like so:</p>\n\n<pre><code>final int result = calculate (\n    dataManager.getLastUpdate().getNumberOfChildren(),\n    dataManager.getLastUpdate().getNumberOfParents(),\n    dataManager.getLastUpdate().getNumberOfGrandChildren(),\n    milliseconds,\n    somethingelse\n);\n</code></pre>\n\n<p>Obviously this is a personal preference, but if you're working with others on code, try to conform to the conventions already set forth. </p>\n"},{"tags":[],"owner":{"account_id":7670,"reputation":34993,"user_id":13379,"accept_rate":86,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1305580679,"creation_date":1305580679,"answer_id":6023564,"question_id":6023391,"body_markdown":"I might assign the return values of the getNumberOf*() methods to variables:\r\n\r\n    SomeObject lastUpdate = dataManager.getLastUpdate();\r\n    int children = lastUpdate.getNumberOfChildren();\r\n    int parents = lastUpdate.getNumberOfParents();\r\n    int grandChildren = lastUpdate.getNumberOfGrandChildren();\r\n    calculate(children, parents, grandChildren, milliseconds, somethingelse);","title":"Formatting multiple arguments passed to a function in Java","body":"<p>I might assign the return values of the getNumberOf*() methods to variables:</p>\n\n<pre><code>SomeObject lastUpdate = dataManager.getLastUpdate();\nint children = lastUpdate.getNumberOfChildren();\nint parents = lastUpdate.getNumberOfParents();\nint grandChildren = lastUpdate.getNumberOfGrandChildren();\ncalculate(children, parents, grandChildren, milliseconds, somethingelse);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1185623,"reputation":484,"user_id":1159668,"display_name":"tonio"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1393625929,"creation_date":1393625536,"answer_id":22106827,"question_id":6023391,"body_markdown":"I&#39;ll put my little sand grain here, long time ago some developer named Esteban\r\nsuggested me this kind of formatting, which I 1st thought it was ugly\r\nafter a while no other way of doing it is enough pleasent for me:\r\n\r\n    final int result = calculate (\r\n         dataManager.getLastUpdate().getNumberOfChildren()\r\n         , dataManager.getLastUpdate().getNumberOfParents()\r\n         , dataManager.getLastUpdate().getNumberOfGrandChildren()\r\n         , long milliseconds\r\n         , int somethingelse\r\n         );\r\n\r\nI find this really clear, very easy to add/delete new arguments, \r\nthe # of arguments clear, only one argument per line, method call end really clear,\r\netc...\r\n\r\nSimilar pattern for defining the method too\r\n\r\n    public int calculate(\r\n        final int numberOfChildren\r\n        , final int numberOfParents\r\n        , final int numberOfGrandChildren\r\n        , final long milliseconds\r\n        , final int somethingelse\r\n        ) throws CalucalteExceptio {\r\n          \r\n         // MyCode\r\n\r\n        }\r\n\r\nAnd finally same pattern for nested calls, StringBuilder typicall sequence\r\n\r\n       StringBuilder sb = new StringBuilder()\r\n           .append(&#39;Children #&#39;).append(numberOfChildren).append(NL)\r\n           .append(&#39;Parents #&#39;).append(numberOfParents).append(NL)\r\n           .append(&#39;GrandChildren #&#39;).append(numberOfGrandChildren).append(NL)\r\n           ;\r\n    \r\n\r\nThe only problem I found is that IDE formatters never allow this &#39;comma at the beginning&#39; approach which is really interesting, and a lot more readable than any other I&#39;ve tried.\r\n\r\nHope it adds something interesting       \r\n\r\n","title":"Formatting multiple arguments passed to a function in Java","body":"<p>I'll put my little sand grain here, long time ago some developer named Esteban\nsuggested me this kind of formatting, which I 1st thought it was ugly\nafter a while no other way of doing it is enough pleasent for me:</p>\n\n<pre><code>final int result = calculate (\n     dataManager.getLastUpdate().getNumberOfChildren()\n     , dataManager.getLastUpdate().getNumberOfParents()\n     , dataManager.getLastUpdate().getNumberOfGrandChildren()\n     , long milliseconds\n     , int somethingelse\n     );\n</code></pre>\n\n<p>I find this really clear, very easy to add/delete new arguments, \nthe # of arguments clear, only one argument per line, method call end really clear,\netc...</p>\n\n<p>Similar pattern for defining the method too</p>\n\n<pre><code>public int calculate(\n    final int numberOfChildren\n    , final int numberOfParents\n    , final int numberOfGrandChildren\n    , final long milliseconds\n    , final int somethingelse\n    ) throws CalucalteExceptio {\n\n     // MyCode\n\n    }\n</code></pre>\n\n<p>And finally same pattern for nested calls, StringBuilder typicall sequence</p>\n\n<pre><code>   StringBuilder sb = new StringBuilder()\n       .append('Children #').append(numberOfChildren).append(NL)\n       .append('Parents #').append(numberOfParents).append(NL)\n       .append('GrandChildren #').append(numberOfGrandChildren).append(NL)\n       ;\n</code></pre>\n\n<p>The only problem I found is that IDE formatters never allow this 'comma at the beginning' approach which is really interesting, and a lot more readable than any other I've tried.</p>\n\n<p>Hope it adds something interesting       </p>\n"},{"tags":[],"owner":{"account_id":107117,"reputation":480,"user_id":973085,"display_name":"Evvo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1469321084,"creation_date":1469321084,"answer_id":38547684,"question_id":6023391,"body_markdown":"I wholeheartedly agree with your example of having one argument per line, all lined up under each other.\r\n\r\nIt makes it very easy to scan down the list to see what is there or what is missing.\r\n\r\nIt also makes it easier to document null values as being &quot;// user id&quot; or something similar.\r\n\r\nI find it&#39;s particularly easy to visually parse, rather than having several long lines of densely packed values that may often look alike.","title":"Formatting multiple arguments passed to a function in Java","body":"<p>I wholeheartedly agree with your example of having one argument per line, all lined up under each other.</p>\n\n<p>It makes it very easy to scan down the list to see what is there or what is missing.</p>\n\n<p>It also makes it easier to document null values as being \"// user id\" or something similar.</p>\n\n<p>I find it's particularly easy to visually parse, rather than having several long lines of densely packed values that may often look alike.</p>\n"}],"owner":{"account_id":192998,"reputation":22700,"user_id":434460,"accept_rate":99,"display_name":"Leonid"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24971,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":6023423,"answer_count":6,"score":13,"last_activity_date":1649708219,"creation_date":1305579715,"question_id":6023391,"body_markdown":"Often the number of arguments passed to a function can be large. Consider the following case:\r\n\r\n    calculate(dataManager.getLastUpdate().getNumberOfChildren(),\r\n              dataManager.getLastUpdate().getNumberOfParents(),\r\n              dataManager.getLastUpdate().getNumberOfGrandChildren(),\r\n              long milliseconds,\r\n              int somethingelse)\r\n\r\nIs there a guideline in `Java` that offers a way to align the arguments? Fitting all arguments in a line would not look pretty. ","title":"Formatting multiple arguments passed to a function in Java","body":"<p>Often the number of arguments passed to a function can be large. Consider the following case:</p>\n\n<pre><code>calculate(dataManager.getLastUpdate().getNumberOfChildren(),\n          dataManager.getLastUpdate().getNumberOfParents(),\n          dataManager.getLastUpdate().getNumberOfGrandChildren(),\n          long milliseconds,\n          int somethingelse)\n</code></pre>\n\n<p>Is there a guideline in <code>Java</code> that offers a way to align the arguments? Fitting all arguments in a line would not look pretty. </p>\n"},{"tags":["java","web-services","apache-axis","webservice-client","wsdl2java"],"owner":{"account_id":791920,"reputation":11,"user_id":889398,"display_name":"umair"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7133,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649707982,"creation_date":1313046789,"question_id":7022135,"body_markdown":"I have generated stub for a webserivce using apache axis2 and I want to add custom soap header to the request. I want the soap header to look like this\r\n\r\n```xml\r\n&lt;soapenv:Header xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n  &lt;ns1:soapHeader xmlns:ns1=&quot;urn:oasis:names:core&quot; soapenv:mustUnderstand=&quot;0&quot;&gt;\r\n    &lt;ns1:Username&gt;myuser&lt;/ns1:Username&gt;\r\n    &lt;ns1:Password&gt;mypass&lt;/ns1:Password&gt;\r\n  &lt;/ns1:soapHeader&gt;\r\n&lt;/soapenv:Header&gt;\r\n```\r\n\r\n\r\nand I am writing this code \r\n\r\n```java\r\norg.apache.axiom.soap.SOAPEnvelope env = null;\r\norg.apache.axiom.om.OMFactory omFactory = org.apache.axiom.om.OMAbstractFactory.getOMFactory();\r\norg.apache.axiom.om.OMElement omElement = omFactory.createOMElement(new javax.xml.namespace.QName(&quot;urn:oasis:names:core&quot;, &quot;soapHeader&quot;, &quot;ns1&quot;));\r\norg.apache.axiom.om.OMElement omElement1 = omFactory.createOMElement(new javax.xml.namespace.QName(&quot;urn:oasis:names:core&quot;, &quot;Username&quot;, &quot;ns1&quot;));\r\norg.apache.axiom.om.OMElement omElement2 = omFactory.createOMElement(new javax.xml.namespace.QName(&quot;urn:oasis:names:core&quot;, &quot;Password&quot;, &quot;ns1&quot;));\r\n\r\nomElement.addChild(omElement1);\r\nomElement.addChild(omElement2);\r\n\r\nomElement1.setText(&quot;myuser&quot;);\r\nomElement2.setText(&quot;mypass&quot;);\r\n\r\naddHeader(omElement, env);\r\n```\r\n\r\nbut I am not getting the required soap header. This is what im getting\r\n\r\n   \r\n```xml\r\n&lt;soapenv:Header xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n  &lt;ns1:soapHeader xmlns:ns1=&quot;urn:oasis:names:core&quot; soapenv:mustUnderstand=&quot;0&quot;&gt;\r\n    &lt;ns1:Username&gt;myuser&lt;/ns1:Username&gt;\r\n  &lt;/ns1:soapHeader&gt;\r\n&lt;/soapenv:Header&gt;\r\n```\r\n\r\nas you can see password is missing. I want to know what I am doing wrong. ","title":"Adding custom Soap Header to Webservice Request","body":"<p>I have generated stub for a webserivce using apache axis2 and I want to add custom soap header to the request. I want the soap header to look like this</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;soapenv:Header xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\n  &lt;ns1:soapHeader xmlns:ns1=&quot;urn:oasis:names:core&quot; soapenv:mustUnderstand=&quot;0&quot;&gt;\n    &lt;ns1:Username&gt;myuser&lt;/ns1:Username&gt;\n    &lt;ns1:Password&gt;mypass&lt;/ns1:Password&gt;\n  &lt;/ns1:soapHeader&gt;\n&lt;/soapenv:Header&gt;\n</code></pre>\n<p>and I am writing this code</p>\n<pre class=\"lang-java prettyprint-override\"><code>org.apache.axiom.soap.SOAPEnvelope env = null;\norg.apache.axiom.om.OMFactory omFactory = org.apache.axiom.om.OMAbstractFactory.getOMFactory();\norg.apache.axiom.om.OMElement omElement = omFactory.createOMElement(new javax.xml.namespace.QName(&quot;urn:oasis:names:core&quot;, &quot;soapHeader&quot;, &quot;ns1&quot;));\norg.apache.axiom.om.OMElement omElement1 = omFactory.createOMElement(new javax.xml.namespace.QName(&quot;urn:oasis:names:core&quot;, &quot;Username&quot;, &quot;ns1&quot;));\norg.apache.axiom.om.OMElement omElement2 = omFactory.createOMElement(new javax.xml.namespace.QName(&quot;urn:oasis:names:core&quot;, &quot;Password&quot;, &quot;ns1&quot;));\n\nomElement.addChild(omElement1);\nomElement.addChild(omElement2);\n\nomElement1.setText(&quot;myuser&quot;);\nomElement2.setText(&quot;mypass&quot;);\n\naddHeader(omElement, env);\n</code></pre>\n<p>but I am not getting the required soap header. This is what im getting</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;soapenv:Header xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\n  &lt;ns1:soapHeader xmlns:ns1=&quot;urn:oasis:names:core&quot; soapenv:mustUnderstand=&quot;0&quot;&gt;\n    &lt;ns1:Username&gt;myuser&lt;/ns1:Username&gt;\n  &lt;/ns1:soapHeader&gt;\n&lt;/soapenv:Header&gt;\n</code></pre>\n<p>as you can see password is missing. I want to know what I am doing wrong.</p>\n"},{"tags":["java","linked-list"],"answers":[{"tags":[],"owner":{"account_id":24902818,"reputation":26,"user_id":18773281,"display_name":"mayank sinha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649707917,"creation_date":1649689458,"answer_id":71830127,"question_id":71828132,"body_markdown":"In the first implementation, initially `temp= beforeHead-&gt;next`. which is `Null`. \r\n\r\nI got the point that you are initialising `temp` variable with required values. \r\nbut where exactly those temp values are linked. For each iteration the `temp` values are changed without being linked with previous ones.\r\n\r\nso finally all the nodes are created but none of them are linked.\r\n","title":"GFG question implementation merge sorted linked list","body":"<p>In the first implementation, initially <code>temp= beforeHead-&gt;next</code>. which is <code>Null</code>.</p>\n<p>I got the point that you are initialising <code>temp</code> variable with required values.\nbut where exactly those temp values are linked. For each iteration the <code>temp</code> values are changed without being linked with previous ones.</p>\n<p>so finally all the nodes are created but none of them are linked.</p>\n"}],"owner":{"account_id":18625102,"reputation":43,"user_id":13574407,"display_name":"Himanshu Gadia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71830127,"answer_count":1,"score":0,"last_activity_date":1649707917,"creation_date":1649681301,"question_id":71828132,"body_markdown":"&lt;https://practice.geeksforgeeks.org/problems/merge-two-sorted-linked-lists&gt; I tried writing the code for this question and wrote two possible answers. One worked and one did not. I need to know the reason. Why?\r\nImplementation 1 - \r\n```\r\nclass LinkedList\r\n{\r\n    //Function to merge two sorted linked list.\r\n    Node sortedMerge(Node head1, Node head2) {\r\n        Node beforeHead = new Node(-1);\r\n        Node temp = beforeHead;\r\n        temp = temp.next;\r\n        while(head1!=null &amp;&amp; head2!=null){\r\n            if(head1.data&lt;head2.data){\r\n                temp = head1;\r\n                head1 = head1.next;\r\n            }else{\r\n                temp = head2;\r\n                head2 = head2.next;\r\n            }\r\n            //System.out.println(temp.data);\r\n            //System.out.println(temp.next);\r\n            temp = temp.next;\r\n        }\r\n        \r\n        while(head1!=null){\r\n            temp = head1;\r\n            head1 = head1.next;\r\n            temp = temp.next;\r\n        }\r\n        \r\n        while(head2!=null){\r\n            temp = head2;\r\n            head2 = head2.next;\r\n            temp = temp.next;\r\n        }\r\n       \r\n        //System.out.println(beforeHead.next);\r\n        return beforeHead.next;\r\n   } \r\n}\r\n```\r\nThere is some issue with the reference but I cannot find the reason. \r\n \r\nImplementation 2 - \r\n```\r\nclass LinkedList\r\n{\r\n    //Function to merge two sorted linked list.\r\n    Node sortedMerge(Node head1, Node head2) {\r\n        Node beforeHead = new Node(-1);\r\n        Node temp = beforeHead;\r\n        while(head1!=null &amp;&amp; head2!=null){\r\n            if(head1.data&lt;head2.data){\r\n                temp.next = head1;\r\n                head1 = head1.next;\r\n            }else{\r\n                temp.next = head2;\r\n                head2 = head2.next;\r\n            }\r\n            \r\n            temp = temp.next;\r\n        }\r\n        \r\n        while(head1!=null){\r\n            temp.next = head1;\r\n            head1 = head1.next;\r\n            temp = temp.next;\r\n        }\r\n        \r\n        while(head2!=null){\r\n            temp.next = head2;\r\n            head2 = head2.next;\r\n            temp = temp.next;\r\n        }\r\n       \r\n        //System.out.println(beforeHead.next);\r\n        return beforeHead.next;\r\n   } \r\n}\r\n```\r\n\r\nThanks in advance. ","title":"GFG question implementation merge sorted linked list","body":"<p><a href=\"https://practice.geeksforgeeks.org/problems/merge-two-sorted-linked-lists\" rel=\"nofollow noreferrer\">https://practice.geeksforgeeks.org/problems/merge-two-sorted-linked-lists</a> I tried writing the code for this question and wrote two possible answers. One worked and one did not. I need to know the reason. Why?\nImplementation 1 -</p>\n<pre><code>class LinkedList\n{\n    //Function to merge two sorted linked list.\n    Node sortedMerge(Node head1, Node head2) {\n        Node beforeHead = new Node(-1);\n        Node temp = beforeHead;\n        temp = temp.next;\n        while(head1!=null &amp;&amp; head2!=null){\n            if(head1.data&lt;head2.data){\n                temp = head1;\n                head1 = head1.next;\n            }else{\n                temp = head2;\n                head2 = head2.next;\n            }\n            //System.out.println(temp.data);\n            //System.out.println(temp.next);\n            temp = temp.next;\n        }\n        \n        while(head1!=null){\n            temp = head1;\n            head1 = head1.next;\n            temp = temp.next;\n        }\n        \n        while(head2!=null){\n            temp = head2;\n            head2 = head2.next;\n            temp = temp.next;\n        }\n       \n        //System.out.println(beforeHead.next);\n        return beforeHead.next;\n   } \n}\n</code></pre>\n<p>There is some issue with the reference but I cannot find the reason.</p>\n<p>Implementation 2 -</p>\n<pre><code>class LinkedList\n{\n    //Function to merge two sorted linked list.\n    Node sortedMerge(Node head1, Node head2) {\n        Node beforeHead = new Node(-1);\n        Node temp = beforeHead;\n        while(head1!=null &amp;&amp; head2!=null){\n            if(head1.data&lt;head2.data){\n                temp.next = head1;\n                head1 = head1.next;\n            }else{\n                temp.next = head2;\n                head2 = head2.next;\n            }\n            \n            temp = temp.next;\n        }\n        \n        while(head1!=null){\n            temp.next = head1;\n            head1 = head1.next;\n            temp = temp.next;\n        }\n        \n        while(head2!=null){\n            temp.next = head2;\n            head2 = head2.next;\n            temp = temp.next;\n        }\n       \n        //System.out.println(beforeHead.next);\n        return beforeHead.next;\n   } \n}\n</code></pre>\n<p>Thanks in advance.</p>\n"},{"tags":["java","javafx","imageview"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1649703144,"post_id":71832306,"comment_id":126938622,"body_markdown":"What happens if you change `setX` / `getX` to `setTranslateX` / `getTranslateX`?","body":"What happens if you change <code>setX</code> / <code>getX</code> to <code>setTranslateX</code> / <code>getTranslateX</code>?"},{"owner":{"account_id":17052450,"reputation":372,"user_id":12337783,"display_name":"Mohammad Hossein Dolatabadi"},"score":0,"creation_date":1649706503,"post_id":71832306,"comment_id":126939779,"body_markdown":"@Slaw Nothing changed!","body":"@Slaw Nothing changed!"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1649708004,"post_id":71832306,"comment_id":126940227,"body_markdown":"I ran your code and could not reproduce your issue.  I downloaded this [spaceship png](https://www.pngegg.com/en/png-bcpcc) and placed it in the local resource location with the file name you use, then compiled and ran your code.  Everything worked fine for me (Mac OS X 12.2.1, JavaFX 17.0.1, OpenJDK 17.0.2).","body":"I ran your code and could not reproduce your issue.  I downloaded this <a href=\"https://www.pngegg.com/en/png-bcpcc\" rel=\"nofollow noreferrer\">spaceship png</a> and placed it in the local resource location with the file name you use, then compiled and ran your code.  Everything worked fine for me (Mac OS X 12.2.1, JavaFX 17.0.1, OpenJDK 17.0.2)."}],"answers":[{"tags":[],"owner":{"account_id":14179476,"reputation":2663,"user_id":10243634,"display_name":"Oboe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649704133,"creation_date":1649704133,"answer_id":71833080,"question_id":71832306,"body_markdown":"I couldn&#39;t reproduce the issue with your code, but I could with SceneBuilder. You may get the desired result if you wrap the `Group` in a `Pane` (at least it works in SceneBuilder).\r\n\r\n    Group game = new Group(spaceShip);\r\n    \r\n    Pane pane = new Pane(game);\r\n\r\n    Scene scene = new Scene(pane, 1840, 1080);\r\n\r\n    stage.setScene(scene);\r\n\r\n    stage.show();","title":"JavaFx: ImageView disappears after moving through the scene","body":"<p>I couldn't reproduce the issue with your code, but I could with SceneBuilder. You may get the desired result if you wrap the <code>Group</code> in a <code>Pane</code> (at least it works in SceneBuilder).</p>\n<pre><code>Group game = new Group(spaceShip);\n\nPane pane = new Pane(game);\n\nScene scene = new Scene(pane, 1840, 1080);\n\nstage.setScene(scene);\n\nstage.show();\n</code></pre>\n"}],"owner":{"account_id":17052450,"reputation":372,"user_id":12337783,"display_name":"Mohammad Hossein Dolatabadi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649707482,"creation_date":1649699959,"question_id":71832306,"body_markdown":"I have a code written using javafx and java 11. As I showed in the below code snippet, when I move my ImageView to right of the scene, The ImageView disappears. &lt;br /&gt;\r\nAt first:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nand then after moving it using arrow keys with the help of scene event listener:\r\n[![enter image description here][2]][2]\r\n\r\nthen:\r\n[![enter image description here][3]][3]\r\nand finally:\r\n[![fully disappeared][4]][4]\r\n\r\nI don&#39;t use `fxml`. Here is my demo which has the problem too.\r\n```java\r\npublic class HelloApplication extends Application {\r\n    public String fetchResource(String path) {\r\n        return Objects.requireNonNull(getClass().getResource(path)).toString();\r\n    }\r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n        Rectangle r = new Rectangle(100, 100);\r\n        ImageView spaceShip = new ImageView(fetchResource(&quot;spaceShip.png&quot;));\r\n        spaceShip.setFitHeight(100);\r\n        spaceShip.setFitWidth(100);\r\n        spaceShip.setX(0);\r\n        spaceShip.setY(0);\r\n\r\n        EventHandler&lt;KeyEvent&gt; keyListener = event -&gt; {\r\n            if (event.getCode() == KeyCode.RIGHT) {\r\n                spaceShip.setX(spaceShip.getX() + 20);\r\n            }\r\n        };\r\n\r\n\r\n        Group game = new Group(spaceShip);\r\n\r\n        Scene scene = new Scene(game, 1840, 1080);\r\n        scene.setOnKeyPressed(keyListener);\r\n        stage.setTitle(&quot;Hello!&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n```\r\n\r\nI should mention that I create a rectangle and check the scenario with that, And there was not any problem. I think there is some problem with `ImageView`.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RsLVy.png\r\n  [2]: https://i.stack.imgur.com/ujlSn.png\r\n  [3]: https://i.stack.imgur.com/hP8HR.png\r\n  [4]: https://i.stack.imgur.com/gWCNm.png","title":"JavaFx: ImageView disappears after moving through the scene","body":"<p>I have a code written using javafx and java 11. As I showed in the below code snippet, when I move my ImageView to right of the scene, The ImageView disappears. <br />\nAt first:\n<a href=\"https://i.stack.imgur.com/RsLVy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RsLVy.png\" alt=\"enter image description here\" /></a></p>\n<p>and then after moving it using arrow keys with the help of scene event listener:\n<a href=\"https://i.stack.imgur.com/ujlSn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ujlSn.png\" alt=\"enter image description here\" /></a></p>\n<p>then:\n<a href=\"https://i.stack.imgur.com/hP8HR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hP8HR.png\" alt=\"enter image description here\" /></a>\nand finally:\n<a href=\"https://i.stack.imgur.com/gWCNm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gWCNm.png\" alt=\"fully disappeared\" /></a></p>\n<p>I don't use <code>fxml</code>. Here is my demo which has the problem too.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class HelloApplication extends Application {\n    public String fetchResource(String path) {\n        return Objects.requireNonNull(getClass().getResource(path)).toString();\n    }\n    @Override\n    public void start(Stage stage) throws IOException {\n        Rectangle r = new Rectangle(100, 100);\n        ImageView spaceShip = new ImageView(fetchResource(&quot;spaceShip.png&quot;));\n        spaceShip.setFitHeight(100);\n        spaceShip.setFitWidth(100);\n        spaceShip.setX(0);\n        spaceShip.setY(0);\n\n        EventHandler&lt;KeyEvent&gt; keyListener = event -&gt; {\n            if (event.getCode() == KeyCode.RIGHT) {\n                spaceShip.setX(spaceShip.getX() + 20);\n            }\n        };\n\n\n        Group game = new Group(spaceShip);\n\n        Scene scene = new Scene(game, 1840, 1080);\n        scene.setOnKeyPressed(keyListener);\n        stage.setTitle(&quot;Hello!&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>I should mention that I create a rectangle and check the scenario with that, And there was not any problem. I think there is some problem with <code>ImageView</code>.</p>\n"},{"tags":["java","eclipse","loops"],"answers":[{"tags":[],"owner":{"account_id":6269879,"reputation":168,"user_id":4874430,"display_name":"Isma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649707427,"creation_date":1649450866,"answer_id":71802987,"question_id":71801098,"body_markdown":"What you can do is add a try-catch for each line you are processing. For instance, you can rewrite your loop as follows:\r\n\r\n            FileWriter writer = new FileWriter(&quot;path&quot;);\r\n            BufferedWriter bwr = (new BufferedWriter(writer));\r\n            while((line = reader.readLine()) != null) {\r\n\t            data =&quot;http://&quot;+line;\r\n\t            System.out.println(data);\r\n\t            try {\r\n\t            \tdoActionLine(data);\t\r\n\t            \t//add test passed\t            \r\n\t\t            bwr.write(data + &quot;- Test Passed\\n&quot;);\r\n\t\t            bwr.write(&quot;\\n&quot;);\r\n\t            } catch (Exception e) {\r\n\t            \t//add test failed\t      \r\n\t\t            bwr.write(data + &quot;- Test Failed\\n&quot;);\r\n\t\t            bwr.write(&quot;\\n&quot;);\r\n\t            }\r\n\t            \r\n            }\r\n\r\n\r\nAs you can see, doActionLine funcion has encapsulated the checks:\r\n\r\n    private void doActionLine(String data) throws InterruptedException {\r\n        //open browser\r\n        driver.get(data);\r\n        driver.switchTo().frame(driver.findElement(By.name(&quot;bodyf&quot;)));\r\n        Thread.sleep(2000);\r\n        driver.findElement(By.name(&quot;username&quot;)).sendKeys(&quot;user&quot;);\r\n        Thread.sleep(2000);\r\n        driver.findElement(By.name(&quot;password&quot;)).sendKeys(&quot;pass&quot;);\r\n        driver.findElement(By.xpath(&quot;/html/body/form/span/table/tbody/tr[3]/td/p/input&quot;)).click();\r\n        //find password\r\n        driver.switchTo().frame(driver.findElement(By.name(&quot;left&quot;)));\r\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;4050000\\&quot;]/a&quot;)).click();\r\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;4050000\\&quot;]/table/tbody/tr[3]/td[2]/a&quot;)).click();\r\n        //change password\r\n        driver.switchTo().parentFrame();\r\n        driver.switchTo().frame(1);\r\n        Thread.sleep(2000);\r\n        driver.findElement(By.xpath(&quot;/html/body/form/p[1]/table/tbody/tr[2]/td[2]/input&quot;)).sendKeys(&quot;newpass&quot;);\r\n        Thread.sleep(2000);\r\n        driver.findElement(By.xpath(&quot;/html/body/form/p[1]/table/tbody/tr[3]/td[2]/input&quot;)).sendKeys(&quot;newpass&quot;);\r\n        Thread.sleep(2000);\r\n        driver.findElement(By.xpath(&quot;/html/body/form/p[2]/input[2]&quot;)).click();\r\n        //save and logout\r\n        Thread.sleep(3000);\r\n        driver.switchTo().alert().accept();\r\n        driver.switchTo().parentFrame();\r\n        driver.switchTo().frame(driver.findElement(By.name(&quot;left&quot;)));\r\n        driver.findElement(By.id(&quot;sysLogout&quot;)).click();\r\n        Thread.sleep(3000);\r\n        driver.switchTo().alert().accept();\r\n    }\r\n\r\nI hope this help you.\r\n","title":"How do you run a pass or fail test on your loop, identify failures, and continue passed failed attempt?","body":"<p>What you can do is add a try-catch for each line you are processing. For instance, you can rewrite your loop as follows:</p>\n<pre><code>        FileWriter writer = new FileWriter(&quot;path&quot;);\n        BufferedWriter bwr = (new BufferedWriter(writer));\n        while((line = reader.readLine()) != null) {\n            data =&quot;http://&quot;+line;\n            System.out.println(data);\n            try {\n                doActionLine(data); \n                //add test passed               \n                bwr.write(data + &quot;- Test Passed\\n&quot;);\n                bwr.write(&quot;\\n&quot;);\n            } catch (Exception e) {\n                //add test failed         \n                bwr.write(data + &quot;- Test Failed\\n&quot;);\n                bwr.write(&quot;\\n&quot;);\n            }\n            \n        }\n</code></pre>\n<p>As you can see, doActionLine funcion has encapsulated the checks:</p>\n<pre><code>private void doActionLine(String data) throws InterruptedException {\n    //open browser\n    driver.get(data);\n    driver.switchTo().frame(driver.findElement(By.name(&quot;bodyf&quot;)));\n    Thread.sleep(2000);\n    driver.findElement(By.name(&quot;username&quot;)).sendKeys(&quot;user&quot;);\n    Thread.sleep(2000);\n    driver.findElement(By.name(&quot;password&quot;)).sendKeys(&quot;pass&quot;);\n    driver.findElement(By.xpath(&quot;/html/body/form/span/table/tbody/tr[3]/td/p/input&quot;)).click();\n    //find password\n    driver.switchTo().frame(driver.findElement(By.name(&quot;left&quot;)));\n    driver.findElement(By.xpath(&quot;//*[@id=\\&quot;4050000\\&quot;]/a&quot;)).click();\n    driver.findElement(By.xpath(&quot;//*[@id=\\&quot;4050000\\&quot;]/table/tbody/tr[3]/td[2]/a&quot;)).click();\n    //change password\n    driver.switchTo().parentFrame();\n    driver.switchTo().frame(1);\n    Thread.sleep(2000);\n    driver.findElement(By.xpath(&quot;/html/body/form/p[1]/table/tbody/tr[2]/td[2]/input&quot;)).sendKeys(&quot;newpass&quot;);\n    Thread.sleep(2000);\n    driver.findElement(By.xpath(&quot;/html/body/form/p[1]/table/tbody/tr[3]/td[2]/input&quot;)).sendKeys(&quot;newpass&quot;);\n    Thread.sleep(2000);\n    driver.findElement(By.xpath(&quot;/html/body/form/p[2]/input[2]&quot;)).click();\n    //save and logout\n    Thread.sleep(3000);\n    driver.switchTo().alert().accept();\n    driver.switchTo().parentFrame();\n    driver.switchTo().frame(driver.findElement(By.name(&quot;left&quot;)));\n    driver.findElement(By.id(&quot;sysLogout&quot;)).click();\n    Thread.sleep(3000);\n    driver.switchTo().alert().accept();\n}\n</code></pre>\n<p>I hope this help you.</p>\n"}],"owner":{"account_id":24873750,"reputation":13,"user_id":18747936,"display_name":"bcoul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71802987,"answer_count":1,"score":1,"last_activity_date":1649707427,"creation_date":1649439072,"question_id":71801098,"body_markdown":"I have a program that loops through a file of IP addresses which serve as the URLs. It logs in, makes changes, saves, and logs out. I need to implement a pass or fail test to see which URLs do not complete the loop. In addition, I also need the loop to continue passed the failures while writing them to a file so I can see which did not pass. Right now, program will loop until it encounters a bad URL then throw a ERR_CONNECTION_TIMED_OUT. Any help would be appreciated as I am new to programming and SO.\r\n\r\n   \r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.BufferedWriter;\r\n    import java.io.FileReader;\r\n    import java.io.FileWriter;\r\n    import java.io.IOException;\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    \r\n    public class IPLog {\r\n    \r\n    \tWebDriver driver;\r\n    \tprivate BufferedWriter bwr1;\r\n    \t\t\t\t\r\n    \t//Sign In\r\n    \t public  void userLogin() throws InterruptedException {\r\n    \t    WebDriver driver;\r\n    \t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\Drivers\\\\chromedriver.exe&quot;);\r\n    \t\tdriver = new ChromeDriver();\r\n    \t\tString data = &quot;&quot;;\r\n    \t\ttry {\r\n    \r\n    \t\t\tBufferedReader reader = new BufferedReader(new FileReader(&quot;path&quot;));\r\n    \t\t\tString line;\r\n    \t\t\twhile((line = reader.readLine()) != null) {\r\n    \t\t\tdata =&quot;http://&quot;+line;\r\n    \t\t\tSystem.out.println(data);\r\n    //open browser\r\n    \t\tdriver.get(data);\r\n    \t\tdriver.switchTo().frame(driver.findElement(By.name(&quot;bodyf&quot;)));\r\n    \t\tThread.sleep(2000);\r\n    \t\tdriver.findElement(By.name(&quot;username&quot;)).sendKeys(&quot;user&quot;);\r\n    \t\tThread.sleep(2000);\r\n    \t\tdriver.findElement(By.name(&quot;password&quot;)).sendKeys(&quot;pass&quot;);\r\n    \t\tdriver.findElement(By.xpath(&quot;/html/body/form/span/table/tbody/tr[3]/td/p/input&quot;)).click();\r\n    //find password\r\n    \t\tdriver.switchTo().frame(driver.findElement(By.name(&quot;left&quot;)));\r\n    \t\tdriver.findElement(By.xpath(&quot;//*[@id=\\&quot;4050000\\&quot;]/a&quot;)).click();\r\n    \t\tdriver.findElement(By.xpath(&quot;//*[@id=\\&quot;4050000\\&quot;]/table/tbody/tr[3]/td[2]/a&quot;)).click();\r\n    //change password\r\n    \t\tdriver.switchTo().parentFrame();\r\n    \t\tdriver.switchTo().frame(1);\r\n    \t\tThread.sleep(2000);\r\n    \t\tdriver.findElement(By.xpath(&quot;/html/body/form/p[1]/table/tbody/tr[2]/td[2]/input&quot;)).sendKeys(&quot;newpass&quot;);\r\n    \t\tThread.sleep(2000);\r\n    \t\tdriver.findElement(By.xpath(&quot;/html/body/form/p[1]/table/tbody/tr[3]/td[2]/input&quot;)).sendKeys(&quot;newpass&quot;);\r\n    \t\tThread.sleep(2000);\r\n    \t\tdriver.findElement(By.xpath(&quot;/html/body/form/p[2]/input[2]&quot;)).click();\r\n    //save and logout\r\n    \t\tThread.sleep(3000);\r\n    \t\tdriver.switchTo().alert().accept();\r\n    \t\tdriver.switchTo().parentFrame();\r\n    \t\tdriver.switchTo().frame(driver.findElement(By.name(&quot;left&quot;)));\r\n    \t\tdriver.findElement(By.id(&quot;sysLogout&quot;)).click();\r\n    \t\tThread.sleep(3000);\r\n    \t\tdriver.switchTo().alert().accept();\r\n    \r\n    \t\t\r\n    \t\t//completion test\r\n    \t\tFileWriter writer = new FileWriter(&quot;path&quot;);\r\n    \t\tBufferedWriter bwr = (new BufferedWriter(writer));\r\n    \t\tbwr.write(data + &quot;- Test Passed\\n&quot;);\r\n    \t\tbwr.write(&quot;\\n&quot;);\r\n    \r\n    \t\ttry {\r\n    \t\tFileWriter writer1 = new FileWriter(&quot;path&quot;);\r\n    \t\tbwr1 = (new BufferedWriter(writer1));\r\n    \t\tbwr1.write(data + &quot;- Test Failed&quot;);\r\n    \t\tbwr1.write(&quot;\\n&quot;);\r\n    \r\n    \t\tSystem.out.println(&quot;fail&quot;);\r\n    \t\r\n    \t\t}\r\n    \t\tcatch (Exception e) {\r\n    \t\te.printStackTrace();\r\n    \t\t}\r\n    \t\t}\r\n    \t} \r\n    \t\tcatch (Exception e) {\r\n    \t\te.printStackTrace();\r\n    \t}\t\r\n        }\r\n    \r\n    \tpublic static void main(String[] args) throws InterruptedException, IOException {\r\n    \t\tIPLog obj = new IPLog();\r\n    \t\tobj.userLogin();\r\n    \t}\r\n    \r\n    }","title":"How do you run a pass or fail test on your loop, identify failures, and continue passed failed attempt?","body":"<p>I have a program that loops through a file of IP addresses which serve as the URLs. It logs in, makes changes, saves, and logs out. I need to implement a pass or fail test to see which URLs do not complete the loop. In addition, I also need the loop to continue passed the failures while writing them to a file so I can see which did not pass. Right now, program will loop until it encounters a bad URL then throw a ERR_CONNECTION_TIMED_OUT. Any help would be appreciated as I am new to programming and SO.</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.FileReader;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic class IPLog {\n\n    WebDriver driver;\n    private BufferedWriter bwr1;\n                \n    //Sign In\n     public  void userLogin() throws InterruptedException {\n        WebDriver driver;\n        System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\Drivers\\\\chromedriver.exe&quot;);\n        driver = new ChromeDriver();\n        String data = &quot;&quot;;\n        try {\n\n            BufferedReader reader = new BufferedReader(new FileReader(&quot;path&quot;));\n            String line;\n            while((line = reader.readLine()) != null) {\n            data =&quot;http://&quot;+line;\n            System.out.println(data);\n//open browser\n        driver.get(data);\n        driver.switchTo().frame(driver.findElement(By.name(&quot;bodyf&quot;)));\n        Thread.sleep(2000);\n        driver.findElement(By.name(&quot;username&quot;)).sendKeys(&quot;user&quot;);\n        Thread.sleep(2000);\n        driver.findElement(By.name(&quot;password&quot;)).sendKeys(&quot;pass&quot;);\n        driver.findElement(By.xpath(&quot;/html/body/form/span/table/tbody/tr[3]/td/p/input&quot;)).click();\n//find password\n        driver.switchTo().frame(driver.findElement(By.name(&quot;left&quot;)));\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;4050000\\&quot;]/a&quot;)).click();\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;4050000\\&quot;]/table/tbody/tr[3]/td[2]/a&quot;)).click();\n//change password\n        driver.switchTo().parentFrame();\n        driver.switchTo().frame(1);\n        Thread.sleep(2000);\n        driver.findElement(By.xpath(&quot;/html/body/form/p[1]/table/tbody/tr[2]/td[2]/input&quot;)).sendKeys(&quot;newpass&quot;);\n        Thread.sleep(2000);\n        driver.findElement(By.xpath(&quot;/html/body/form/p[1]/table/tbody/tr[3]/td[2]/input&quot;)).sendKeys(&quot;newpass&quot;);\n        Thread.sleep(2000);\n        driver.findElement(By.xpath(&quot;/html/body/form/p[2]/input[2]&quot;)).click();\n//save and logout\n        Thread.sleep(3000);\n        driver.switchTo().alert().accept();\n        driver.switchTo().parentFrame();\n        driver.switchTo().frame(driver.findElement(By.name(&quot;left&quot;)));\n        driver.findElement(By.id(&quot;sysLogout&quot;)).click();\n        Thread.sleep(3000);\n        driver.switchTo().alert().accept();\n\n        \n        //completion test\n        FileWriter writer = new FileWriter(&quot;path&quot;);\n        BufferedWriter bwr = (new BufferedWriter(writer));\n        bwr.write(data + &quot;- Test Passed\\n&quot;);\n        bwr.write(&quot;\\n&quot;);\n\n        try {\n        FileWriter writer1 = new FileWriter(&quot;path&quot;);\n        bwr1 = (new BufferedWriter(writer1));\n        bwr1.write(data + &quot;- Test Failed&quot;);\n        bwr1.write(&quot;\\n&quot;);\n\n        System.out.println(&quot;fail&quot;);\n    \n        }\n        catch (Exception e) {\n        e.printStackTrace();\n        }\n        }\n    } \n        catch (Exception e) {\n        e.printStackTrace();\n    }   \n    }\n\n    public static void main(String[] args) throws InterruptedException, IOException {\n        IPLog obj = new IPLog();\n        obj.userLogin();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","android-intent","bundle"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1649689673,"post_id":71830116,"comment_id":126933943,"body_markdown":"`Sender.putStringArrayList(&quot;list&quot;,list);` and `mybundle.getStringArrayList(&quot;Sender&quot;);` are using different keys. Use the same key.","body":"<code>Sender.putStringArrayList(&quot;list&quot;,list);</code> and <code>mybundle.getStringArrayList(&quot;Sender&quot;);</code> are using different keys. Use the same key."},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1649694444,"post_id":71830116,"comment_id":126935752,"body_markdown":"Please visit [this](https://stackoverflow.com/tour) @klego99","body":"Please visit <a href=\"https://stackoverflow.com/tour\">this</a> @klego99"}],"answers":[{"tags":[],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649694266,"creation_date":1649694266,"answer_id":71831189,"question_id":71830116,"body_markdown":"## The issue\r\n---\r\nYou are passing a key and then trying to get the value with another key. This is wrong. To clear your understanding, let me give you an example →\r\n\r\nCase: You have many tee-shirts in your shop. You ordered some tee-shirts to sale and got `red` and `green` tee-shirts only. Now, when a custom comes and he asks `yellow` tee-shirts, then you say that it is not there. That is called `null` in coding terms. This is the same case with you over here. Let&#39;s check the solution.\r\n## The solution\r\n---\r\nWhen you send a value with a key, receive it with same key. Just try this code.\r\n\r\n#### MainActivity 2\r\n```\r\nsuper.onCreate(savedInstanceState);\r\n        setContentView(R.layout.act2);\r\n        txtUrl=findViewById(R.id.url);\r\n        txtPhoneNum=findViewById(R.id.phoneNum);\r\n        button0=findViewById(R.id.goback);\r\n        Intent passedIntent= getIntent();\r\n        if(passedIntent != null){\r\n            Bundle mybundle= passedIntent.getBundleExtra(&quot;Sender&quot;);\r\n            ArrayList list= mybundle.getStringArrayList(&quot;list&quot;);\r\n            Toast.makeText(getApplicationContext(), &quot;Student info: &quot;\r\n                    +list.get(0)+list.get(1)+list.get(2),duration).show();\r\n        }\r\n        String Url=txtUrl.getText().toString();\r\n        String PhoneNum=txtPhoneNum.getText().toString();\r\n```\r\n\r\n## The not related but helpful thing\r\n---\r\n\r\nDo _not_ try to see the values in toast. I see that here:\r\n```\r\nToast.makeText(getApplicationContext(), &quot;Student info: &quot;\r\n                    +list.get(0)+list.get(1)+list.get(2),duration).show();\r\n```\r\n\r\nTry to debug or display it in log instead.","title":"What is wrong with using sending intent to another Activity?","body":"<h2>The issue</h2>\n<hr />\n<p>You are passing a key and then trying to get the value with another key. This is wrong. To clear your understanding, let me give you an example →</p>\n<p>Case: You have many tee-shirts in your shop. You ordered some tee-shirts to sale and got <code>red</code> and <code>green</code> tee-shirts only. Now, when a custom comes and he asks <code>yellow</code> tee-shirts, then you say that it is not there. That is called <code>null</code> in coding terms. This is the same case with you over here. Let's check the solution.</p>\n<h2>The solution</h2>\n<hr />\n<p>When you send a value with a key, receive it with same key. Just try this code.</p>\n<h4>MainActivity 2</h4>\n<pre><code>super.onCreate(savedInstanceState);\n        setContentView(R.layout.act2);\n        txtUrl=findViewById(R.id.url);\n        txtPhoneNum=findViewById(R.id.phoneNum);\n        button0=findViewById(R.id.goback);\n        Intent passedIntent= getIntent();\n        if(passedIntent != null){\n            Bundle mybundle= passedIntent.getBundleExtra(&quot;Sender&quot;);\n            ArrayList list= mybundle.getStringArrayList(&quot;list&quot;);\n            Toast.makeText(getApplicationContext(), &quot;Student info: &quot;\n                    +list.get(0)+list.get(1)+list.get(2),duration).show();\n        }\n        String Url=txtUrl.getText().toString();\n        String PhoneNum=txtPhoneNum.getText().toString();\n</code></pre>\n<h2>The not related but helpful thing</h2>\n<hr />\n<p>Do <em>not</em> try to see the values in toast. I see that here:</p>\n<pre><code>Toast.makeText(getApplicationContext(), &quot;Student info: &quot;\n                    +list.get(0)+list.get(1)+list.get(2),duration).show();\n</code></pre>\n<p>Try to debug or display it in log instead.</p>\n"}],"owner":{"account_id":24518921,"reputation":11,"user_id":18432283,"display_name":"klego99"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1650119682,"accepted_answer_id":71831189,"answer_count":1,"score":0,"last_activity_date":1649707406,"creation_date":1649689417,"question_id":71830116,"body_markdown":"I what to send a bundle with an `ArrayList`, but my code causes a `NullPointerException`. But I don&#39;t know why.\r\n\r\nMain Activity\r\n\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.act1);\r\n        context = getApplicationContext();\r\n        txtName = findViewById(R.id.name);\r\n        txtDepartment = findViewById(R.id.department);\r\n        txtUndergred = findViewById(R.id.undergred);\r\n        txtUrl = findViewById(R.id.url);\r\n        txtPhone = findViewById(R.id.phone);\r\n        btnphone = findViewById(R.id.btnphone);\r\n        btnlogin = findViewById(R.id.btnlogin);\r\n        btnweb = findViewById(R.id.btnweb);\r\n\r\n        btnlogin.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                String name = txtName.getText().toString();\r\n                String department = txtDepartment.getText().toString();\r\n                String undergrad = txtUndergred.getText().toString();\r\n                Bundle Sender = new Bundle();\r\n                ArrayList list = new ArrayList&lt;&gt;();\r\n                list.add(name);\r\n                list.add(department);\r\n                list.add(undergred);\r\n                Sender.putStringArrayList(&quot;list&quot;, list);\r\n                ArrayList shit = Sender.getStringArrayList(&quot;list&quot;);\r\n                Intent intent = new Intent(getApplicationContext(),MainActivity2.class);\r\n                intent.putExtra(&quot;Sender&quot;, Sender);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n    }\r\nMainActivity2(receive here)\r\n\r\n```\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.act2);\r\n        txtUrl = findViewById(R.id.url);\r\n        txtPhoneNum = findViewById(R.id.phoneNum);\r\n        button0 = findViewById(R.id.goback);\r\n        Intent passedIntent = getIntent();\r\n        if (passedIntent != null) {\r\n            Bundle mybundle = passedIntent.getBundleExtra(&quot;Sender&quot;);\r\n            ArrayList list = mybundle.getStringArrayList(&quot;Sender&quot;);\r\n            Toast.makeText(getApplicationContext(), &quot;Student info: &quot;\r\n                    +list.get(0)+list.get(1)+list.get(2),duration).show();\r\n        }\r\n        String Url = txtUrl.getText().toString();\r\n        String PhoneNum = txtPhoneNum.getText().toString();\r\n}\r\n```\r\n\r\nHere, which part is wrong? `Arraylist` is added to the bundle but every time a `NullPointerException` is thrown.\r\n","title":"What is wrong with using sending intent to another Activity?","body":"<p>I what to send a bundle with an <code>ArrayList</code>, but my code causes a <code>NullPointerException</code>. But I don't know why.</p>\n<p>Main Activity</p>\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.act1);\n    context = getApplicationContext();\n    txtName = findViewById(R.id.name);\n    txtDepartment = findViewById(R.id.department);\n    txtUndergred = findViewById(R.id.undergred);\n    txtUrl = findViewById(R.id.url);\n    txtPhone = findViewById(R.id.phone);\n    btnphone = findViewById(R.id.btnphone);\n    btnlogin = findViewById(R.id.btnlogin);\n    btnweb = findViewById(R.id.btnweb);\n\n    btnlogin.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            String name = txtName.getText().toString();\n            String department = txtDepartment.getText().toString();\n            String undergrad = txtUndergred.getText().toString();\n            Bundle Sender = new Bundle();\n            ArrayList list = new ArrayList&lt;&gt;();\n            list.add(name);\n            list.add(department);\n            list.add(undergred);\n            Sender.putStringArrayList(&quot;list&quot;, list);\n            ArrayList shit = Sender.getStringArrayList(&quot;list&quot;);\n            Intent intent = new Intent(getApplicationContext(),MainActivity2.class);\n            intent.putExtra(&quot;Sender&quot;, Sender);\n            startActivity(intent);\n        }\n    });\n}\n</code></pre>\n<p>MainActivity2(receive here)</p>\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.act2);\n        txtUrl = findViewById(R.id.url);\n        txtPhoneNum = findViewById(R.id.phoneNum);\n        button0 = findViewById(R.id.goback);\n        Intent passedIntent = getIntent();\n        if (passedIntent != null) {\n            Bundle mybundle = passedIntent.getBundleExtra(&quot;Sender&quot;);\n            ArrayList list = mybundle.getStringArrayList(&quot;Sender&quot;);\n            Toast.makeText(getApplicationContext(), &quot;Student info: &quot;\n                    +list.get(0)+list.get(1)+list.get(2),duration).show();\n        }\n        String Url = txtUrl.getText().toString();\n        String PhoneNum = txtPhoneNum.getText().toString();\n}\n</code></pre>\n<p>Here, which part is wrong? <code>Arraylist</code> is added to the bundle but every time a <code>NullPointerException</code> is thrown.</p>\n"},{"tags":["java","servlets","get"],"answers":[{"tags":[],"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649707352,"creation_date":1649706854,"answer_id":71833586,"question_id":71833476,"body_markdown":"Please check what the string value of the client id that is actually being sent to the server.  In your example you say ```clientId``` in your code you&#39;re looking for ```client_id```, while they make semantic sense to humans, those are different values to a computer.\r\n\r\nYou can also take a peek at all the parameter values in your HttpServletRequest:\r\n\r\n```\r\nhttpRequest.getParameterMap()\r\n    .entrySet()\r\n    .stream()\r\n    .forEach(System.out::println);\r\n```","title":"HttpServletRequest get query parameters from a GET call","body":"<p>Please check what the string value of the client id that is actually being sent to the server.  In your example you say <code>clientId</code> in your code you're looking for <code>client_id</code>, while they make semantic sense to humans, those are different values to a computer.</p>\n<p>You can also take a peek at all the parameter values in your HttpServletRequest:</p>\n<pre><code>httpRequest.getParameterMap()\n    .entrySet()\n    .stream()\n    .forEach(System.out::println);\n</code></pre>\n"}],"owner":{"account_id":3600664,"reputation":2545,"user_id":3004041,"accept_rate":34,"display_name":"covfefe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2303,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649707352,"creation_date":1649706206,"question_id":71833476,"body_markdown":"I&#39;m trying to get the query parameter `client_id` from a GET call with a url like this:\r\n\r\n    https://example.com?client_id=aclient-id&amp;param2=value2&amp;param3=value3\r\n\r\nI&#39;m getting a null value for `clientId` when I try to get the query parameter, any ideas why this is happening?\r\n\r\n    HttpServletRequest httpRequest = (HttpServletRequest) request;\r\n    final String clientId = httpRequest.getParameter(&quot;client_id&quot;);\r\n\r\nThe other calls like `http.getRequestURI()` and `http.getMethod` return the expected values.","title":"HttpServletRequest get query parameters from a GET call","body":"<p>I'm trying to get the query parameter <code>client_id</code> from a GET call with a url like this:</p>\n<pre><code>https://example.com?client_id=aclient-id&amp;param2=value2&amp;param3=value3\n</code></pre>\n<p>I'm getting a null value for <code>clientId</code> when I try to get the query parameter, any ideas why this is happening?</p>\n<pre><code>HttpServletRequest httpRequest = (HttpServletRequest) request;\nfinal String clientId = httpRequest.getParameter(&quot;client_id&quot;);\n</code></pre>\n<p>The other calls like <code>http.getRequestURI()</code> and <code>http.getMethod</code> return the expected values.</p>\n"},{"tags":["java","arrays","performance"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1649523169,"post_id":71809940,"comment_id":126899472,"body_markdown":"Nowhere do you check for existing Points in the set in your `add` method. What is the definition of `Point`? Does it override `equals` and `hashCode`? Why do you use a fixed-size array to keep track of the points and not a `Set` (e.g. `HashSet`)? By using existing data structures your methods become simple one-liners delegating to existing (and working) implementations.","body":"Nowhere do you check for existing Points in the set in your <code>add</code> method. What is the definition of <code>Point</code>? Does it override <code>equals</code> and <code>hashCode</code>? Why do you use a fixed-size array to keep track of the points and not a <code>Set</code> (e.g. <code>HashSet</code>)? By using existing data structures your methods become simple one-liners delegating to existing (and working) implementations."},{"owner":{"account_id":24838828,"reputation":1,"user_id":18717118,"display_name":"alright212"},"score":0,"creation_date":1649524739,"post_id":71809940,"comment_id":126899809,"body_markdown":"I have to use arrays.","body":"I have to use arrays."}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649706413,"creation_date":1649706413,"answer_id":71833518,"question_id":71809940,"body_markdown":"If you absolutely must use arrays and not a data structure which better fits your need (i.e. `Set`), then you have to make sure that &quot;equal&quot; Point instances cannot be added to your `PointSet` instance. Before adding a new item, check that none of the existing items are equal to the new item. You can do it with a simple loop. The equality comparison can either be implemented in the `Point` class or manually checked inside the loop, if `Point`s expose everything that is required to check for equality.","title":"How do i pass this pointSetKeepsTrackOfPoints() test? JAVA","body":"<p>If you absolutely must use arrays and not a data structure which better fits your need (i.e. <code>Set</code>), then you have to make sure that &quot;equal&quot; Point instances cannot be added to your <code>PointSet</code> instance. Before adding a new item, check that none of the existing items are equal to the new item. You can do it with a simple loop. The equality comparison can either be implemented in the <code>Point</code> class or manually checked inside the loop, if <code>Point</code>s expose everything that is required to check for equality.</p>\n"}],"owner":{"account_id":24838828,"reputation":1,"user_id":18717118,"display_name":"alright212"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649706413,"creation_date":1649522075,"question_id":71809940,"body_markdown":"This is the test i can not seem to pass and i am not sure what should i do now:\r\n\r\n     @Test\r\n    public void pointSetKeepsTrackOfPoints() {\r\n        PointSet set = new PointSet();\r\n\r\n        set.add(new Point(1, 1));\r\n        set.add(new Point(2, 1));\r\n        set.add(new Point(1, 2));\r\n\r\n        assertThat(set.size(), is(3));\r\n\r\n        set.add(new Point(2, 1));\r\n\r\n        assertThat(set.size(), is(3));\r\n\r\n        assertTrue(set.contains(new Point(1, 1)));\r\n        assertTrue(set.contains(new Point(1, 2)));\r\n        assertFalse(set.contains(new Point(1, 3)));\r\n\r\n        assertThat(set.toString(), is(&quot;(1, 1), (2, 1), (1, 2)&quot;));\r\n    }\r\nAnd this is my code:\r\n\r\n```java\r\nimport java.util.Arrays;\r\n\r\npublic class PointSet {\r\n\r\n    private Point[] points;\r\n    private int size;\r\n\r\n    public PointSet(int capacity) {\r\n        points = new Point[capacity];\r\n        size = 0;\r\n    }\r\n\r\n    public PointSet() {\r\n        this(10);\r\n    }\r\n\r\n    public void add(Point point) {\r\n        if (size == points.length) {\r\n            Point[] newPoints = new Point[points.length * 2];\r\n            for (int i = 0; i &lt; points.length; i++) {\r\n                newPoints[i] = points[i];\r\n            }\r\n            points = newPoints;\r\n        }\r\n        points[size] = point;\r\n        size++;\r\n    }\r\n\r\n    public int size() {\r\n        return size;\r\n    }\r\n\r\n    public boolean contains(Point point) {\r\n        for (int i = 0; i &lt; size; i++) {\r\n            if (points[i].equals(point)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public PointSet subtract(PointSet other) {\r\n        PointSet result = new PointSet();\r\n        for (int i = 0; i &lt; size; i++) {\r\n            if (!other.contains(points[i])) {\r\n                result.add(points[i]);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    public PointSet intersect(PointSet other) {\r\n        PointSet result = new PointSet();\r\n        for (int i = 0; i &lt; size; i++) {\r\n            if (other.contains(points[i])) {\r\n                result.add(points[i]);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        StringBuilder sb = new StringBuilder();\r\n        for (int i = 0; i &lt; size; i++) {\r\n            sb.append(points[i]);\r\n            if (i &lt; size - 1) {\r\n                sb.append(&quot;, &quot;);\r\n            }\r\n        }\r\n        return sb.toString();\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object obj) {\r\n        if (obj instanceof PointSet) {\r\n            PointSet other = (PointSet) obj;\r\n            if (size != other.size) {\r\n                return false;\r\n            }\r\n            for (int i = 0; i &lt; size; i++) {\r\n                if (!other.contains(points[i])) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n}\r\n```\r\n\r\nPlease help me...\r\nThere are no duplicates in the set, ie two points with the same coordinates.\r\nIf you add a point that already contains, the number does not change. The points in between should be kept in an array.","title":"How do i pass this pointSetKeepsTrackOfPoints() test? JAVA","body":"<p>This is the test i can not seem to pass and i am not sure what should i do now:</p>\n<pre><code> @Test\npublic void pointSetKeepsTrackOfPoints() {\n    PointSet set = new PointSet();\n\n    set.add(new Point(1, 1));\n    set.add(new Point(2, 1));\n    set.add(new Point(1, 2));\n\n    assertThat(set.size(), is(3));\n\n    set.add(new Point(2, 1));\n\n    assertThat(set.size(), is(3));\n\n    assertTrue(set.contains(new Point(1, 1)));\n    assertTrue(set.contains(new Point(1, 2)));\n    assertFalse(set.contains(new Point(1, 3)));\n\n    assertThat(set.toString(), is(&quot;(1, 1), (2, 1), (1, 2)&quot;));\n}\n</code></pre>\n<p>And this is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\n\npublic class PointSet {\n\n    private Point[] points;\n    private int size;\n\n    public PointSet(int capacity) {\n        points = new Point[capacity];\n        size = 0;\n    }\n\n    public PointSet() {\n        this(10);\n    }\n\n    public void add(Point point) {\n        if (size == points.length) {\n            Point[] newPoints = new Point[points.length * 2];\n            for (int i = 0; i &lt; points.length; i++) {\n                newPoints[i] = points[i];\n            }\n            points = newPoints;\n        }\n        points[size] = point;\n        size++;\n    }\n\n    public int size() {\n        return size;\n    }\n\n    public boolean contains(Point point) {\n        for (int i = 0; i &lt; size; i++) {\n            if (points[i].equals(point)) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    public PointSet subtract(PointSet other) {\n        PointSet result = new PointSet();\n        for (int i = 0; i &lt; size; i++) {\n            if (!other.contains(points[i])) {\n                result.add(points[i]);\n            }\n        }\n        return result;\n    }\n\n    public PointSet intersect(PointSet other) {\n        PointSet result = new PointSet();\n        for (int i = 0; i &lt; size; i++) {\n            if (other.contains(points[i])) {\n                result.add(points[i]);\n            }\n        }\n        return result;\n    }\n\n    @Override\n    public String toString() {\n        StringBuilder sb = new StringBuilder();\n        for (int i = 0; i &lt; size; i++) {\n            sb.append(points[i]);\n            if (i &lt; size - 1) {\n                sb.append(&quot;, &quot;);\n            }\n        }\n        return sb.toString();\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (obj instanceof PointSet) {\n            PointSet other = (PointSet) obj;\n            if (size != other.size) {\n                return false;\n            }\n            for (int i = 0; i &lt; size; i++) {\n                if (!other.contains(points[i])) {\n                    return false;\n                }\n            }\n            return true;\n        }\n        return false;\n    }\n}\n</code></pre>\n<p>Please help me...\nThere are no duplicates in the set, ie two points with the same coordinates.\nIf you add a point that already contains, the number does not change. The points in between should be kept in an array.</p>\n"},{"tags":["java","gradle","hive","protobuf-java"],"answers":[{"tags":[],"owner":{"account_id":7719031,"reputation":2254,"user_id":5845802,"display_name":"PrasadU"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649398355,"creation_date":1649398355,"answer_id":71792377,"question_id":71786888,"body_markdown":"put simply its another filter criteria to get a sub-type for a GAV artifact in maven repository. useful when there are multiple flavours for a single artifact. Ex: jar per JDK version \r\nsee more https://docs.gradle.org/current/userguide/variant_model.html#understanding-variant-selection ","title":"What does gradle classifier: &#39;core&#39;?","body":"<p>put simply its another filter criteria to get a sub-type for a GAV artifact in maven repository. useful when there are multiple flavours for a single artifact. Ex: jar per JDK version\nsee more <a href=\"https://docs.gradle.org/current/userguide/variant_model.html#understanding-variant-selection\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/variant_model.html#understanding-variant-selection</a></p>\n"}],"owner":{"account_id":2301263,"reputation":441,"user_id":2021516,"display_name":"Paulo Moreira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71792377,"answer_count":1,"score":0,"last_activity_date":1649706408,"creation_date":1649354213,"question_id":71786888,"body_markdown":"I had conflict with the protobuf dependency of hive and another package that depends on protobuf. I solved the problem with &quot;classifier: &#39;core&#39;&quot;:\r\n\r\n    implementation group: &#39;org.apache.hive&#39;, name: &#39;hive-exec&#39;, version: &#39;3.1.2&#39;, classifier: &#39;core&#39;\r\n\r\nBut what this does? where does the term &#39;core&#39; come from in this filter?","title":"What does gradle classifier: &#39;core&#39;?","body":"<p>I had conflict with the protobuf dependency of hive and another package that depends on protobuf. I solved the problem with &quot;classifier: 'core'&quot;:</p>\n<pre><code>implementation group: 'org.apache.hive', name: 'hive-exec', version: '3.1.2', classifier: 'core'\n</code></pre>\n<p>But what this does? where does the term 'core' come from in this filter?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":12241782,"reputation":188,"user_id":11587836,"display_name":"Arron Lapta"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1649701791,"creation_date":1649701791,"answer_id":71832632,"question_id":71831383,"body_markdown":" Pass the Cart_Fragment inside your adapter Constructor, then  simply call the method you&#39;re trying to reference from your onClickListener by referencing  the passed Fragment. \r\n\r\n private  Cart_Fragment cart_fragment = new Cart_Fragment();\r\n    \r\n    \r\n    \r\n        public CartAdapter(List&lt;CartModel&gt; cartArrayList, Context ct, Cart_Fragment cart_fragment) {\r\n            this.cartArrayList = cartArrayList;\r\n            this.ct = ct;\r\n            this.cart_fragment = cart_fragment;\r\n        }\r\n\r\n      @Override\r\n                public void onClick(View view) {\r\n                    getCurrentUserUid();\r\n                    count = count + 1;\r\n                \r\n    \r\n    FirebaseDatabase.getInstance().getReference(&quot;Cart&quot;).child(loggedInUserId).child(cartArrayList.get(position).getTimestamp()).child(&quot;quantity&quot;).setValue(count).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                        if(task.isSuccessful()){\r\n                            holder.middleQUanityTv.setText(count + &quot;&quot;);\r\n    \r\n                            Cart_Fragment cart_fragment = new Cart_Fragment();\r\n                            cart_fragment.callMethod();\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n                        }\r\n                    }\r\n                });\r\n    \r\n            }\r\n        });","title":"How do you call a fragment method from an adapter?","body":"<p>Pass the Cart_Fragment inside your adapter Constructor, then  simply call the method you're trying to reference from your onClickListener by referencing  the passed Fragment.</p>\n<p>private  Cart_Fragment cart_fragment = new Cart_Fragment();</p>\n<pre><code>    public CartAdapter(List&lt;CartModel&gt; cartArrayList, Context ct, Cart_Fragment cart_fragment) {\n        this.cartArrayList = cartArrayList;\n        this.ct = ct;\n        this.cart_fragment = cart_fragment;\n    }\n\n  @Override\n            public void onClick(View view) {\n                getCurrentUserUid();\n                count = count + 1;\n            \n\nFirebaseDatabase.getInstance().getReference(&quot;Cart&quot;).child(loggedInUserId).child(cartArrayList.get(position).getTimestamp()).child(&quot;quantity&quot;).setValue(count).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                    if(task.isSuccessful()){\n                        holder.middleQUanityTv.setText(count + &quot;&quot;);\n\n                        Cart_Fragment cart_fragment = new Cart_Fragment();\n                        cart_fragment.callMethod();\n\n\n\n\n\n\n\n\n\n                    }\n                }\n            });\n\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17782422,"reputation":357,"user_id":12913325,"display_name":"Jay_Panchal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649706236,"creation_date":1649704803,"answer_id":71833215,"question_id":71831383,"body_markdown":"You have heard right from the other stack overflow posts that you can use interface to call the method of the fragment from the adapter.\r\n\r\n&gt; First you have to create a interface and define the method name in the\r\n&gt; interface.\r\n\r\n\r\n    interface DownloadCart{  \r\n   \r\n        void downloadCartData();  \r\n\r\n    }  \r\n\r\n&gt; After creating this interface you need to implement this interface\r\n&gt; into the fragment where your recycler view is declared.\r\n\r\n    class Cart_Fragment implements DownloadCart{  \r\n\r\n\r\n&gt; After implementing this interface into the class it will show you red\r\n&gt; line in android studio. it will require to add the method of the\r\n&gt; interface into your fragment. add your code of the\r\n&gt; **downloadCartData**  into this interface method body in your fragment.\r\n\r\n \r\n\r\n    void downloadCartData(){\r\n     cartDb.child(&quot;Cart&quot;).child(loggedInUserId).addListenerForSingleValueEvent(new ValueEventListener() {\r\n    \t\t\t\t@Override\r\n                public void onDataChange(DataSnapshot dataSnapshot) {\r\n                    for (DataSnapshot data : dataSnapshot.getChildren()) {\r\n                        if (data.exists()) {\r\n    \r\n                            //get the item prices to add to hashmap.\r\n                            String price = data.child(&quot;itemPrice&quot;).getValue().toString();\r\n                            String quantity = data.child(&quot;quantity&quot;).getValue().toString();\r\n    \r\n                            priceArrayList.add(price);\r\n                            quantityArrayList.add(quantity);\r\n    \r\n                            cartModel = data.getValue(CartModel.class);\r\n                            cartModelArrayList.add(cartModel);\r\n                            LinearLayoutManager horizontalLayoutManager = new LinearLayoutManager(getContext(), LinearLayoutManager.VERTICAL, false);\r\n                            cartRecyleView.setLayoutManager(horizontalLayoutManager);\r\n                            cartAdapter = new CartAdapter(cartModelArrayList, getContext());\r\n                            cartRecyleView.setAdapter(cartAdapter);\r\n    \r\n                        } else {\r\n                            Log.i(&quot;error&quot;, &quot;Error Loading JSON data..&quot;);\r\n    \r\n                        }\r\n    \r\n                    }\r\n                    calculatePrice(priceArrayList, quantityArrayList);\r\n    \r\n    \r\n                    Log.i(&quot;priceArrayList&quot;, priceArrayList + &quot;&quot;);\r\n                    Log.i(&quot;quanityArrayList&quot;, quantityArrayList + &quot;&quot;);\r\n    \r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onCancelled(DatabaseError databaseError) {\r\n                    String error = databaseError.getDetails();\r\n                    Log.i(&quot;error&quot;, error);\r\n    \r\n                }\r\n            });\r\n    \r\n    }  \r\n\r\n&gt; Create on object of the interface into your adapter.\r\n\r\n    DownloadCart inf;\r\n\r\n&gt; Define your adapter constructor like this and pass your interface\r\n&gt; object into the adapter call.\r\n\r\n \r\n\r\n \r\n\r\n    public CartAdapter(List&lt;CartModel&gt; cartArrayList, Context ct, DownloadCart inf) {\r\n    \r\n            this.cartArrayList = cartArrayList;\r\n            this.ct = ct;\r\n            this.inf = inf;\r\n    \r\n        }\r\n\r\n&gt;  After that on bind view holder call your fragment method into the\r\n&gt; adapter by using the interface object. it will call the method from\r\n&gt; the fragment.\r\n\r\n\r\n      @Override\r\n        public void onBindViewHolder(@NonNull ViewHolder holder, @SuppressLint(&quot;RecyclerView&quot;) final int position) {\r\n            holder.produceName.setText(cartArrayList.get(position).getProductName());\r\n            Log.i(&quot;productname&quot;, cartArrayList.get(position).getProductName());\r\n    \r\n            holder.producePrice.setText(&quot;$&quot; + cartArrayList.get(position).getItemPrice());\r\n            holder.plusImageView.setOnClickListener(new View.OnClickListener() {\r\n    \r\n                @Override\r\n                public void onClick(View view) {\r\n                    getCurrentUserUid();\r\n                    count = count + 1;\r\n                    FirebaseDatabase.getInstance().getReference(&quot;Cart&quot;).child(loggedInUserId).child(cartArrayList.get(position).getTimestamp()).child(&quot;quantity&quot;).setValue(count).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                        @Override\r\n                        public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                            if(task.isSuccessful()){\r\n                                holder.middleQUanityTv.setText(count + &quot;&quot;);\r\n                                   inf.downloadCartData();\r\n    \r\n    \r\n    \r\n                            }\r\n                        }\r\n                    });\r\n    \r\n                }\r\n            });\r\n    \r\n    \r\n            //Log.i(&quot;IMAGES&quot;, productArrayList.get(position).getProductImage());\r\n            Glide.with(ct)\r\n                    .load(cartArrayList.get(position).getProductImage())\r\n                    .centerCrop()\r\n                    .into(holder.productImage);\r\n    \r\n    \r\n        }\r\n\r\n\r\n&gt; Tadaaa!!! and your method from fragment is called from adapter.\r\n\r\n","title":"How do you call a fragment method from an adapter?","body":"<p>You have heard right from the other stack overflow posts that you can use interface to call the method of the fragment from the adapter.</p>\n<blockquote>\n<p>First you have to create a interface and define the method name in the\ninterface.</p>\n</blockquote>\n<pre><code>interface DownloadCart{  \n\n    void downloadCartData();  \n\n}  \n</code></pre>\n<blockquote>\n<p>After creating this interface you need to implement this interface\ninto the fragment where your recycler view is declared.</p>\n</blockquote>\n<pre><code>class Cart_Fragment implements DownloadCart{  \n</code></pre>\n<blockquote>\n<p>After implementing this interface into the class it will show you red\nline in android studio. it will require to add the method of the\ninterface into your fragment. add your code of the\n<strong>downloadCartData</strong>  into this interface method body in your fragment.</p>\n</blockquote>\n<pre><code>void downloadCartData(){\n cartDb.child(&quot;Cart&quot;).child(loggedInUserId).addListenerForSingleValueEvent(new ValueEventListener() {\n                @Override\n            public void onDataChange(DataSnapshot dataSnapshot) {\n                for (DataSnapshot data : dataSnapshot.getChildren()) {\n                    if (data.exists()) {\n\n                        //get the item prices to add to hashmap.\n                        String price = data.child(&quot;itemPrice&quot;).getValue().toString();\n                        String quantity = data.child(&quot;quantity&quot;).getValue().toString();\n\n                        priceArrayList.add(price);\n                        quantityArrayList.add(quantity);\n\n                        cartModel = data.getValue(CartModel.class);\n                        cartModelArrayList.add(cartModel);\n                        LinearLayoutManager horizontalLayoutManager = new LinearLayoutManager(getContext(), LinearLayoutManager.VERTICAL, false);\n                        cartRecyleView.setLayoutManager(horizontalLayoutManager);\n                        cartAdapter = new CartAdapter(cartModelArrayList, getContext());\n                        cartRecyleView.setAdapter(cartAdapter);\n\n                    } else {\n                        Log.i(&quot;error&quot;, &quot;Error Loading JSON data..&quot;);\n\n                    }\n\n                }\n                calculatePrice(priceArrayList, quantityArrayList);\n\n\n                Log.i(&quot;priceArrayList&quot;, priceArrayList + &quot;&quot;);\n                Log.i(&quot;quanityArrayList&quot;, quantityArrayList + &quot;&quot;);\n\n\n            }\n\n            @Override\n            public void onCancelled(DatabaseError databaseError) {\n                String error = databaseError.getDetails();\n                Log.i(&quot;error&quot;, error);\n\n            }\n        });\n\n}  \n</code></pre>\n<blockquote>\n<p>Create on object of the interface into your adapter.</p>\n</blockquote>\n<pre><code>DownloadCart inf;\n</code></pre>\n<blockquote>\n<p>Define your adapter constructor like this and pass your interface\nobject into the adapter call.</p>\n</blockquote>\n<pre><code>public CartAdapter(List&lt;CartModel&gt; cartArrayList, Context ct, DownloadCart inf) {\n\n        this.cartArrayList = cartArrayList;\n        this.ct = ct;\n        this.inf = inf;\n\n    }\n</code></pre>\n<blockquote>\n<p>After that on bind view holder call your fragment method into the\nadapter by using the interface object. it will call the method from\nthe fragment.</p>\n</blockquote>\n<pre><code>  @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, @SuppressLint(&quot;RecyclerView&quot;) final int position) {\n        holder.produceName.setText(cartArrayList.get(position).getProductName());\n        Log.i(&quot;productname&quot;, cartArrayList.get(position).getProductName());\n\n        holder.producePrice.setText(&quot;$&quot; + cartArrayList.get(position).getItemPrice());\n        holder.plusImageView.setOnClickListener(new View.OnClickListener() {\n\n            @Override\n            public void onClick(View view) {\n                getCurrentUserUid();\n                count = count + 1;\n                FirebaseDatabase.getInstance().getReference(&quot;Cart&quot;).child(loggedInUserId).child(cartArrayList.get(position).getTimestamp()).child(&quot;quantity&quot;).setValue(count).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                        if(task.isSuccessful()){\n                            holder.middleQUanityTv.setText(count + &quot;&quot;);\n                               inf.downloadCartData();\n\n\n\n                        }\n                    }\n                });\n\n            }\n        });\n\n\n        //Log.i(&quot;IMAGES&quot;, productArrayList.get(position).getProductImage());\n        Glide.with(ct)\n                .load(cartArrayList.get(position).getProductImage())\n                .centerCrop()\n                .into(holder.productImage);\n\n\n    }\n</code></pre>\n<blockquote>\n<p>Tadaaa!!! and your method from fragment is called from adapter.</p>\n</blockquote>\n"}],"owner":{"account_id":23908738,"reputation":55,"user_id":17905960,"display_name":"Teerexmixdoodlejump"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71832632,"answer_count":2,"score":1,"last_activity_date":1649706236,"creation_date":1649695138,"question_id":71831383,"body_markdown":"I would like to refresh my recycle view when a user taps a button, the problem is my recycle view is inside a fragment, and my user interface is being updated from my OnBindViewHolder method. So, my question is how do you call a method that&#39;s inside a fragment, from an Adapter. I would like to call my downloadCartData() from my Cart_Fragment  when the user clicks on plusImageView from my adapter. I found some answers on stack overflow that says to use an interface, but I don&#39;t understand what&#39;s happening or how to apply it to my code.\r\n\r\n\r\n\r\n    public class CartAdapter extends RecyclerView.Adapter&lt;CartAdapter.ViewHolder&gt; {\r\n        private List&lt;CartModel&gt; cartArrayList;\r\n        private Context ct;\r\n        public int count = 1;\r\n        private String loggedInUserId;\r\n    \r\n    \r\n        public CartAdapter(List&lt;CartModel&gt; cartArrayList, Context ct) {\r\n            this.cartArrayList = cartArrayList;\r\n            this.ct = ct;\r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.cart_row, parent, false);\r\n            return new ViewHolder(view);\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(@NonNull ViewHolder holder, @SuppressLint(&quot;RecyclerView&quot;) final int position) {\r\n            holder.produceName.setText(cartArrayList.get(position).getProductName());\r\n            Log.i(&quot;productname&quot;, cartArrayList.get(position).getProductName());\r\n    \r\n            holder.producePrice.setText(&quot;$&quot; + cartArrayList.get(position).getItemPrice());\r\n            holder.plusImageView.setOnClickListener(new View.OnClickListener() {\r\n    \r\n                @Override\r\n                public void onClick(View view) {\r\n                    getCurrentUserUid();\r\n                    count = count + 1;\r\n                    FirebaseDatabase.getInstance().getReference(&quot;Cart&quot;).child(loggedInUserId).child(cartArrayList.get(position).getTimestamp()).child(&quot;quantity&quot;).setValue(count).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                        @Override\r\n                        public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                            if(task.isSuccessful()){\r\n                                holder.middleQUanityTv.setText(count + &quot;&quot;);\r\n    //                            Cart_Fragment cart_fragment = new Cart_Fragment();\r\n    //                            cart_fragment.callMethod();\r\n                                //\r\n    \r\n    \r\n    \r\n                            }\r\n                        }\r\n                    });\r\n    \r\n                }\r\n            });\r\n    \r\n    \r\n            //Log.i(&quot;IMAGES&quot;, productArrayList.get(position).getProductImage());\r\n            Glide.with(ct)\r\n                    .load(cartArrayList.get(position).getProductImage())\r\n                    .centerCrop()\r\n                    .into(holder.productImage);\r\n    \r\n    \r\n        }\r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return cartArrayList.size();\r\n        }\r\n    \r\n        public class ViewHolder extends RecyclerView.ViewHolder {\r\n            private TextView produceName, producePrice, middleQUanityTv;\r\n            private ImageView productImage, plusImageView, minusImageView;\r\n    \r\n    \r\n            public ViewHolder(@NonNull View itemView) {\r\n                super(itemView);\r\n                produceName = itemView.findViewById(R.id.itemNameTv);\r\n                producePrice = itemView.findViewById(R.id.priceTv);\r\n                productImage = itemView.findViewById(R.id.productImageView);\r\n                plusImageView = itemView.findViewById(R.id.plusImageView);\r\n                middleQUanityTv = itemView.findViewById(R.id.middleQuanaityTv);\r\n    \r\n    \r\n            }\r\n    \r\n    \r\n        }\r\n    \r\n        //hide ui elements here..\r\n        public void getCurrentUserUid() {\r\n            FirebaseUser firebaseUser = FirebaseAuth.getInstance().getCurrentUser();\r\n            if (firebaseUser != null) {\r\n                loggedInUserId = firebaseUser.getUid(); //Do what you need to do with your uid\r\n                Log.i(&quot;loggedInUserUid&quot;, loggedInUserId);\r\n    \r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n\r\n     public void downloadCartData() {\r\n            cartDb.child(&quot;Cart&quot;).child(loggedInUserId).addListenerForSingleValueEvent(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(DataSnapshot dataSnapshot) {\r\n                    for (DataSnapshot data : dataSnapshot.getChildren()) {\r\n                        if (data.exists()) {\r\n    \r\n                            //get the item prices to add to hashmap.\r\n                            String price = data.child(&quot;itemPrice&quot;).getValue().toString();\r\n                            String quantity = data.child(&quot;quantity&quot;).getValue().toString();\r\n    \r\n                            priceArrayList.add(price);\r\n                            quantityArrayList.add(quantity);\r\n    \r\n                            cartModel = data.getValue(CartModel.class);\r\n                            cartModelArrayList.add(cartModel);\r\n                            LinearLayoutManager horizontalLayoutManager = new LinearLayoutManager(getContext(), LinearLayoutManager.VERTICAL, false);\r\n                            cartRecyleView.setLayoutManager(horizontalLayoutManager);\r\n                            cartAdapter = new CartAdapter(cartModelArrayList, getContext());\r\n                            cartRecyleView.setAdapter(cartAdapter);\r\n    \r\n                        } else {\r\n                            Log.i(&quot;error&quot;, &quot;Error Loading JSON data..&quot;);\r\n    \r\n                        }\r\n    \r\n                    }\r\n                    calculatePrice(priceArrayList, quantityArrayList);\r\n    \r\n    \r\n                    Log.i(&quot;priceArrayList&quot;, priceArrayList + &quot;&quot;);\r\n                    Log.i(&quot;quanityArrayList&quot;, quantityArrayList + &quot;&quot;);\r\n    \r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onCancelled(DatabaseError databaseError) {\r\n                    String error = databaseError.getDetails();\r\n                    Log.i(&quot;error&quot;, error);\r\n    \r\n                }\r\n            });\r\n    \r\n        }\r\n\r\n","title":"How do you call a fragment method from an adapter?","body":"<p>I would like to refresh my recycle view when a user taps a button, the problem is my recycle view is inside a fragment, and my user interface is being updated from my OnBindViewHolder method. So, my question is how do you call a method that's inside a fragment, from an Adapter. I would like to call my downloadCartData() from my Cart_Fragment  when the user clicks on plusImageView from my adapter. I found some answers on stack overflow that says to use an interface, but I don't understand what's happening or how to apply it to my code.</p>\n<pre><code>public class CartAdapter extends RecyclerView.Adapter&lt;CartAdapter.ViewHolder&gt; {\n    private List&lt;CartModel&gt; cartArrayList;\n    private Context ct;\n    public int count = 1;\n    private String loggedInUserId;\n\n\n    public CartAdapter(List&lt;CartModel&gt; cartArrayList, Context ct) {\n        this.cartArrayList = cartArrayList;\n        this.ct = ct;\n    }\n\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.cart_row, parent, false);\n        return new ViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, @SuppressLint(&quot;RecyclerView&quot;) final int position) {\n        holder.produceName.setText(cartArrayList.get(position).getProductName());\n        Log.i(&quot;productname&quot;, cartArrayList.get(position).getProductName());\n\n        holder.producePrice.setText(&quot;$&quot; + cartArrayList.get(position).getItemPrice());\n        holder.plusImageView.setOnClickListener(new View.OnClickListener() {\n\n            @Override\n            public void onClick(View view) {\n                getCurrentUserUid();\n                count = count + 1;\n                FirebaseDatabase.getInstance().getReference(&quot;Cart&quot;).child(loggedInUserId).child(cartArrayList.get(position).getTimestamp()).child(&quot;quantity&quot;).setValue(count).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                        if(task.isSuccessful()){\n                            holder.middleQUanityTv.setText(count + &quot;&quot;);\n//                            Cart_Fragment cart_fragment = new Cart_Fragment();\n//                            cart_fragment.callMethod();\n                            //\n\n\n\n                        }\n                    }\n                });\n\n            }\n        });\n\n\n        //Log.i(&quot;IMAGES&quot;, productArrayList.get(position).getProductImage());\n        Glide.with(ct)\n                .load(cartArrayList.get(position).getProductImage())\n                .centerCrop()\n                .into(holder.productImage);\n\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return cartArrayList.size();\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder {\n        private TextView produceName, producePrice, middleQUanityTv;\n        private ImageView productImage, plusImageView, minusImageView;\n\n\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n            produceName = itemView.findViewById(R.id.itemNameTv);\n            producePrice = itemView.findViewById(R.id.priceTv);\n            productImage = itemView.findViewById(R.id.productImageView);\n            plusImageView = itemView.findViewById(R.id.plusImageView);\n            middleQUanityTv = itemView.findViewById(R.id.middleQuanaityTv);\n\n\n        }\n\n\n    }\n\n    //hide ui elements here..\n    public void getCurrentUserUid() {\n        FirebaseUser firebaseUser = FirebaseAuth.getInstance().getCurrentUser();\n        if (firebaseUser != null) {\n            loggedInUserId = firebaseUser.getUid(); //Do what you need to do with your uid\n            Log.i(&quot;loggedInUserUid&quot;, loggedInUserId);\n\n\n        }\n\n    }\n\n}\n\n\n public void downloadCartData() {\n        cartDb.child(&quot;Cart&quot;).child(loggedInUserId).addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(DataSnapshot dataSnapshot) {\n                for (DataSnapshot data : dataSnapshot.getChildren()) {\n                    if (data.exists()) {\n\n                        //get the item prices to add to hashmap.\n                        String price = data.child(&quot;itemPrice&quot;).getValue().toString();\n                        String quantity = data.child(&quot;quantity&quot;).getValue().toString();\n\n                        priceArrayList.add(price);\n                        quantityArrayList.add(quantity);\n\n                        cartModel = data.getValue(CartModel.class);\n                        cartModelArrayList.add(cartModel);\n                        LinearLayoutManager horizontalLayoutManager = new LinearLayoutManager(getContext(), LinearLayoutManager.VERTICAL, false);\n                        cartRecyleView.setLayoutManager(horizontalLayoutManager);\n                        cartAdapter = new CartAdapter(cartModelArrayList, getContext());\n                        cartRecyleView.setAdapter(cartAdapter);\n\n                    } else {\n                        Log.i(&quot;error&quot;, &quot;Error Loading JSON data..&quot;);\n\n                    }\n\n                }\n                calculatePrice(priceArrayList, quantityArrayList);\n\n\n                Log.i(&quot;priceArrayList&quot;, priceArrayList + &quot;&quot;);\n                Log.i(&quot;quanityArrayList&quot;, quantityArrayList + &quot;&quot;);\n\n\n            }\n\n            @Override\n            public void onCancelled(DatabaseError databaseError) {\n                String error = databaseError.getDetails();\n                Log.i(&quot;error&quot;, error);\n\n            }\n        });\n\n    }\n</code></pre>\n"},{"tags":["java","json","jackson","json-deserialization"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":1,"creation_date":1649470752,"post_id":71803335,"comment_id":126890769,"body_markdown":"You can&#39;t.  you need to create a new IntNode and replace it.","body":"You can&#39;t.  you need to create a new IntNode and replace it."},{"owner":{"account_id":9779820,"reputation":9709,"user_id":7248342,"display_name":"Thomas Fritsch"},"score":0,"creation_date":1649701493,"post_id":71803335,"comment_id":126938145,"body_markdown":"You need to give more context around this single line of code,\nso that people can better advise how to solve your issue.","body":"You need to give more context around this single line of code, so that people can better advise how to solve your issue."},{"owner":{"account_id":170035,"reputation":6390,"user_id":396483,"accept_rate":68,"display_name":"john k"},"score":0,"creation_date":1649706022,"post_id":71803335,"comment_id":126939622,"body_markdown":"@OldProgrammer that did it.  Thank you.  If you write an answer I will mark it as correct.","body":"@OldProgrammer that did it.  Thank you.  If you write an answer I will mark it as correct."}],"owner":{"account_id":170035,"reputation":6390,"user_id":396483,"accept_rate":68,"display_name":"john k"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649706154,"creation_date":1649453499,"question_id":71803335,"body_markdown":"Java Jackson question here:  \r\n\r\nI&#39;m trying to edit a JsonNode created by objectMapper.readTree,\r\n\r\n    jsonNode = objectMapper.readTree(json);\r\n\r\n, but it automatically turned some of the branches of the node into IntNodes.  If it were a string, I could easily edit the value like so:\r\n\r\n    ((ObjectNode)jsonNode).put(&quot;name&quot;,&quot;newvalue&quot;);\r\n\r\nBut if it&#39;s a number, \r\n   \r\n\r\n     ((IntNode)jsonNode).put(&quot;number&quot;,42);\r\n\r\nWill fail because &#39;put&#39; is not a method of IntNode.\r\n\r\nHow do I modify an IntNode?\r\n","title":"How do I modify an IntNode?","body":"<p>Java Jackson question here:</p>\n<p>I'm trying to edit a JsonNode created by objectMapper.readTree,</p>\n<pre><code>jsonNode = objectMapper.readTree(json);\n</code></pre>\n<p>, but it automatically turned some of the branches of the node into IntNodes.  If it were a string, I could easily edit the value like so:</p>\n<pre><code>((ObjectNode)jsonNode).put(&quot;name&quot;,&quot;newvalue&quot;);\n</code></pre>\n<p>But if it's a number,</p>\n<pre><code> ((IntNode)jsonNode).put(&quot;number&quot;,42);\n</code></pre>\n<p>Will fail because 'put' is not a method of IntNode.</p>\n<p>How do I modify an IntNode?</p>\n"},{"tags":["java","data-structures","hashmap"],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649703862,"creation_date":1649703862,"answer_id":71833024,"question_id":71832991,"body_markdown":"No, there is not.  If you do not use the `equals` and `hashCode` keying of a map, there is no more efficient way to search a map in the general case than linearly.\r\n\r\nIf you could guarantee ahead of time that the map only had lowercase keys, and you looked up `target.toLowerCase()`, that would allow you to use the map&#39;s efficient `get` function, but it&#39;s not clear if that&#39;s possible.","title":"Efficiently iterate over a map for a matching key","body":"<p>No, there is not.  If you do not use the <code>equals</code> and <code>hashCode</code> keying of a map, there is no more efficient way to search a map in the general case than linearly.</p>\n<p>If you could guarantee ahead of time that the map only had lowercase keys, and you looked up <code>target.toLowerCase()</code>, that would allow you to use the map's efficient <code>get</code> function, but it's not clear if that's possible.</p>\n"}],"owner":{"account_id":275128,"reputation":6815,"user_id":567797,"accept_rate":75,"display_name":"station"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649706145,"creation_date":1649703686,"question_id":71832991,"body_markdown":"I want to iterate over a java Map and get a case insensitive key match and get a value out.\r\n\r\n    m -&gt; m.entrySet().stream().filter(e -&gt; e.getKey().equalsIgnoreCase(target).getValue()\r\n\r\nIs there an efficient way to do the above?","title":"Efficiently iterate over a map for a matching key","body":"<p>I want to iterate over a java Map and get a case insensitive key match and get a value out.</p>\n<pre><code>m -&gt; m.entrySet().stream().filter(e -&gt; e.getKey().equalsIgnoreCase(target).getValue()\n</code></pre>\n<p>Is there an efficient way to do the above?</p>\n"},{"tags":["java","maven","gitlab"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1648556668,"post_id":71661170,"comment_id":126649626,"body_markdown":"If your company uses Maven, it probably runs a Nexus or Artifactory server. This would be the right place to define the above repository and make it available to everyone.","body":"If your company uses Maven, it probably runs a Nexus or Artifactory server. This would be the right place to define the above repository and make it available to everyone."},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1648557091,"post_id":71661170,"comment_id":126649827,"body_markdown":"No I don&#39;t, and I simply want to make 2-3 common libraries available in my gitlab, plus allow others to resolve and work with them without any access tokens.","body":"No I don&#39;t, and I simply want to make 2-3 common libraries available in my gitlab, plus allow others to resolve and work with them without any access tokens."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":1,"creation_date":1648557953,"post_id":71661170,"comment_id":126650219,"body_markdown":"If you have more than five people using Maven, you should run your own Nexus/Artifactory. This solves a lot of problems you otherwise have.","body":"If you have more than five people using Maven, you should run your own Nexus/Artifactory. This solves a lot of problems you otherwise have."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1648559589,"post_id":71661170,"comment_id":126650936,"body_markdown":"As far as I know there is no way to access the package registry in Gitlab (nor in Github) without an access token... which is one of the reasons I recommend as repository manager as well (already mentioned in another post)...","body":"As far as I know there is no way to access the package registry in Gitlab (nor in Github) without an access token... which is one of the reasons I recommend as repository manager as well (already mentioned in another post)..."}],"answers":[{"tags":[],"owner":{"account_id":2021629,"reputation":57953,"user_id":1807667,"accept_rate":60,"display_name":"Ortomala Lokni"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1649705855,"creation_date":1649705855,"answer_id":71833425,"question_id":71661170,"body_markdown":"There is an [open proposal](https://gitlab.com/gitlab-org/gitlab/-/issues/329253) to:\r\n\r\n&gt;Add feature-specific controls for the GitLab Package and Registry, so that Admin have more flexibility and control in how they can share their project&#39;s resources.\r\n\r\nbut this is not yet implemented.\r\n\r\nThe package registry visibility permissions is then derived from the project visibility as defined in the [documentation](https://docs.gitlab.com/ee/user/packages/package_registry/).\r\n\r\nIf you want to give access to the package registry without authentication, the only solution, for now, seems to have a public project with package registry enabled. ","title":"How to expose Gitlab Package Registry without access token?","body":"<p>There is an <a href=\"https://gitlab.com/gitlab-org/gitlab/-/issues/329253\" rel=\"nofollow noreferrer\">open proposal</a> to:</p>\n<blockquote>\n<p>Add feature-specific controls for the GitLab Package and Registry, so that Admin have more flexibility and control in how they can share their project's resources.</p>\n</blockquote>\n<p>but this is not yet implemented.</p>\n<p>The package registry visibility permissions is then derived from the project visibility as defined in the <a href=\"https://docs.gitlab.com/ee/user/packages/package_registry/\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n<p>If you want to give access to the package registry without authentication, the only solution, for now, seems to have a public project with package registry enabled.</p>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1792,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":71833425,"answer_count":1,"score":5,"last_activity_date":1649705855,"creation_date":1648553135,"question_id":71661170,"body_markdown":"For access to gitlabs `Package Registry`, it requires the use of an `access_token`, like a private-token that is added to `maven` `settings.xml`. Otherwise the registry is not accessible.\r\n\r\nhttps://docs.gitlab.com/ee/user/packages/package_registry/\r\n\r\n    &lt;settings&gt;\r\n      &lt;servers&gt;\r\n        &lt;server&gt;\r\n          &lt;id&gt;gitlab-maven&lt;/id&gt;\r\n          &lt;configuration&gt;\r\n            &lt;httpHeaders&gt;\r\n              &lt;property&gt;\r\n                &lt;name&gt;Private-Token&lt;/name&gt;\r\n                &lt;value&gt;PERSONAL_ACCESS_TOKEN&lt;/value&gt;\r\n              &lt;/property&gt;\r\n            &lt;/httpHeaders&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/server&gt;\r\n      &lt;/servers&gt;\r\n    &lt;/settings&gt;\r\n                   \r\n\r\nQuestion: how can I expose the libraries inside the registry without authentication? Or better to say: every user in the company that has access to gitlab should be able to simply fetch the libraries without having to add any tokens to their maven configuration.\r\n\r\nIs that possible at all?","title":"How to expose Gitlab Package Registry without access token?","body":"<p>For access to gitlabs <code>Package Registry</code>, it requires the use of an <code>access_token</code>, like a private-token that is added to <code>maven</code> <code>settings.xml</code>. Otherwise the registry is not accessible.</p>\n<p><a href=\"https://docs.gitlab.com/ee/user/packages/package_registry/\" rel=\"noreferrer\">https://docs.gitlab.com/ee/user/packages/package_registry/</a></p>\n<pre><code>&lt;settings&gt;\n  &lt;servers&gt;\n    &lt;server&gt;\n      &lt;id&gt;gitlab-maven&lt;/id&gt;\n      &lt;configuration&gt;\n        &lt;httpHeaders&gt;\n          &lt;property&gt;\n            &lt;name&gt;Private-Token&lt;/name&gt;\n            &lt;value&gt;PERSONAL_ACCESS_TOKEN&lt;/value&gt;\n          &lt;/property&gt;\n        &lt;/httpHeaders&gt;\n      &lt;/configuration&gt;\n    &lt;/server&gt;\n  &lt;/servers&gt;\n&lt;/settings&gt;\n               \n</code></pre>\n<p>Question: how can I expose the libraries inside the registry without authentication? Or better to say: every user in the company that has access to gitlab should be able to simply fetch the libraries without having to add any tokens to their maven configuration.</p>\n<p>Is that possible at all?</p>\n"},{"tags":["java","multithreading","exception","interrupt"],"answers":[{"tags":[],"owner":{"account_id":24520317,"reputation":103,"user_id":18433459,"display_name":"ilanfriedman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649705538,"creation_date":1649705538,"answer_id":71833349,"question_id":71833137,"body_markdown":"You can encase your whole thing in a try-catch block:\r\n\r\n```java\r\ntry {\r\n    //Code here\r\n} catch (InterruptedException e) {\r\n    //Reset variables here\r\n}\r\n```","title":"Reset Variables After InterruptedException?","body":"<p>You can encase your whole thing in a try-catch block:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    //Code here\n} catch (InterruptedException e) {\n    //Reset variables here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649705686,"creation_date":1649705686,"answer_id":71833387,"question_id":71833137,"body_markdown":"You can check (or handle) if a thread has been interrupted in two ways:\r\n\r\n1. You receive an InterruptedException when performing operations that might keep your thread waiting for an undefined amount of time, like a sleep or a wait invocation.\r\n\r\n```\r\npublic class MyRunnable implements Runnable {\r\n   public void run(){\r\n      try {\r\n         while(true){\r\n            someOperation();\r\n            TimeUnit.SECONDS.sleep(2);\r\n         }\r\n      } catch(InterruptedException ex) {\r\n         //reset variables\r\n      }\r\n   }\r\n}\r\n```\r\n\r\n2. If you&#39;re performing some heavy operations, you might wanna check in specific points of your code if you&#39;ve received an interruption with the methods you mentioned above.\r\n\r\n```\r\npublic class MyRunnable implements Runnable {\r\n   public void run(){\r\n      while(true){\r\n         someHeavyOperation();\r\n         if (Thread.currentThread().isInterrupted()){\r\n            //reset variables\r\n            return;\r\n         }\r\n      }\r\n   }\r\n}\r\n```\r\n\r\n&lt;br/&gt;\r\nHere&#39;s also a link to the Oracle Tutorials explaining Java&#39;s support to thread interruption\r\n\r\nhttps://docs.oracle.com/javase/tutorial/essential/concurrency/interrupt.html","title":"Reset Variables After InterruptedException?","body":"<p>You can check (or handle) if a thread has been interrupted in two ways:</p>\n<ol>\n<li>You receive an InterruptedException when performing operations that might keep your thread waiting for an undefined amount of time, like a sleep or a wait invocation.</li>\n</ol>\n<pre><code>public class MyRunnable implements Runnable {\n   public void run(){\n      try {\n         while(true){\n            someOperation();\n            TimeUnit.SECONDS.sleep(2);\n         }\n      } catch(InterruptedException ex) {\n         //reset variables\n      }\n   }\n}\n</code></pre>\n<ol start=\"2\">\n<li>If you're performing some heavy operations, you might wanna check in specific points of your code if you've received an interruption with the methods you mentioned above.</li>\n</ol>\n<pre><code>public class MyRunnable implements Runnable {\n   public void run(){\n      while(true){\n         someHeavyOperation();\n         if (Thread.currentThread().isInterrupted()){\n            //reset variables\n            return;\n         }\n      }\n   }\n}\n</code></pre>\n<br/>\nHere's also a link to the Oracle Tutorials explaining Java's support to thread interruption\n<p><a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/interrupt.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/essential/concurrency/interrupt.html</a></p>\n"}],"owner":{"account_id":22775870,"reputation":41,"user_id":16932531,"display_name":"RAINGUARD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1649705686,"creation_date":1649704400,"question_id":71833137,"body_markdown":"I have a program with multiple threads operating on a single instance of a class. Sometimes one of these threads will get interrupted. I have in the method header &quot;throws InterruptedException&quot; so it does that part correctly. The problem is that when a thread gets interrupted, the fields don&#39;t get reset, so the next thread that comes in gets all messed up. \r\n\r\nHow do I check if a thread is interrupted so that I can reset the variables for the next thread that comes in? I&#39;m not sure where to address this in my code. I have tried something like:\r\n```\r\nif(Thread.currentThread().isInterrupted()) {\r\n    //reset variables here\r\n}\r\n```\r\nor:\r\n```\r\nif(Thread.interrupted()) {\r\n    //reset variables here\r\n}\r\n```\r\nCan anyone help me out? Thank you in advance!\r\n","title":"Reset Variables After InterruptedException?","body":"<p>I have a program with multiple threads operating on a single instance of a class. Sometimes one of these threads will get interrupted. I have in the method header &quot;throws InterruptedException&quot; so it does that part correctly. The problem is that when a thread gets interrupted, the fields don't get reset, so the next thread that comes in gets all messed up.</p>\n<p>How do I check if a thread is interrupted so that I can reset the variables for the next thread that comes in? I'm not sure where to address this in my code. I have tried something like:</p>\n<pre><code>if(Thread.currentThread().isInterrupted()) {\n    //reset variables here\n}\n</code></pre>\n<p>or:</p>\n<pre><code>if(Thread.interrupted()) {\n    //reset variables here\n}\n</code></pre>\n<p>Can anyone help me out? Thank you in advance!</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1649705375,"post_id":71832847,"comment_id":126939372,"body_markdown":"You need a colon (`:`) after `tel` and before the number.","body":"You need a colon (<code>:</code>) after <code>tel</code> and before the number."}],"answers":[{"tags":[],"owner":{"account_id":17649802,"reputation":806,"user_id":12810465,"display_name":"Paulo C."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649705448,"creation_date":1649705140,"answer_id":71833277,"question_id":71832847,"body_markdown":"try add this in your manifest.xml : \r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.CALL_PHONE&quot; /&gt;\r\n\r\nBut, in the [Reference][1], this permission is classified who &quot;Protection level: dangerous&quot;, I recommend use this:\r\n\r\nKotlin:\r\n\r\n      val i = Intent(Intent.ACTION_DIAL)\r\n      i.data = Uri.parse(&quot;tel:$phone&quot;)\r\n      startActivity(i)\r\n\r\nJava: \r\n\r\n     Intent i =new Intent(Intent.ACTION_CALL);\r\n     i.setData(Uri(&quot;tel:&quot;+phone));\r\n     startActivity(i);\r\n\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/Manifest.permission#CALL_PHONE","title":"No Activity found to handle Intent { act=android.intent.action.CALL dat=tel0710000001 }","body":"<p>try add this in your manifest.xml :</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.CALL_PHONE&quot; /&gt;\n</code></pre>\n<p>But, in the <a href=\"https://developer.android.com/reference/android/Manifest.permission#CALL_PHONE\" rel=\"nofollow noreferrer\">Reference</a>, this permission is classified who &quot;Protection level: dangerous&quot;, I recommend use this:</p>\n<p>Kotlin:</p>\n<pre><code>  val i = Intent(Intent.ACTION_DIAL)\n  i.data = Uri.parse(&quot;tel:$phone&quot;)\n  startActivity(i)\n</code></pre>\n<p>Java:</p>\n<pre><code> Intent i =new Intent(Intent.ACTION_CALL);\n i.setData(Uri(&quot;tel:&quot;+phone));\n startActivity(i);\n</code></pre>\n"}],"owner":{"account_id":13544510,"reputation":9,"user_id":9771253,"display_name":"Sudarshana Atapattu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1307,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71833277,"answer_count":1,"score":0,"last_activity_date":1649705653,"creation_date":1649702904,"question_id":71832847,"body_markdown":"**When I run the app there is an Fatal exception error,**\r\n\r\n*android.content.ActivityNotFoundException: No Activity found to handle Intent { act=android.intent.action.CALL dat=tel0710000001 }* \r\n[Error message][1]     \r\n          \r\n          private static final int REQUEST_CALL = 1;\r\n          private TextView callText;\r\n          private AppCompatButton callTo;\r\n    \r\n    \r\n             callTo.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                        CallButton();[enter image description here][1]\r\n                }\r\n            });\r\n            \r\n        }\r\n    \r\n        private void CallButton() {\r\n                String number =  callText.getText().toString();\r\n                if (number.trim().length()&gt;0){\r\n                    if(ContextCompat.checkSelfPermission(MyProfileActivity.this, Manifest.permission.CALL_PHONE )!= PackageManager.PERMISSION_GRANTED){\r\n                        ActivityCompat.requestPermissions(MyProfileActivity.this,new String[]{Manifest.permission.CALL_PHONE},REQUEST_CALL);\r\n                    }\r\n                    else {\r\n                        String dial = &quot;tel&quot; + number;\r\n                        startActivity(new Intent(Intent.ACTION_CALL, Uri.parse(dial)));\r\n                    }\r\n                }\r\n            }\r\n    \r\n    @Override\r\n        public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n            super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n            if (requestCode == REQUEST_CALL) {\r\n                if (grantResults.length &gt; 0) {\r\n                    if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                        CallButton();\r\n                    }\r\n                } else {\r\n                    Toast.makeText(this, &quot;Permission Denied&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        }\r\n\r\nAndroidManifest\r\n\r\n      &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot;/&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;/&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.CALL_PHONE&quot;/&gt;\r\n\r\n  [1]: https://i.stack.imgur.com/sGoy1.png","title":"No Activity found to handle Intent { act=android.intent.action.CALL dat=tel0710000001 }","body":"<p><strong>When I run the app there is an Fatal exception error,</strong></p>\n<p><em>android.content.ActivityNotFoundException: No Activity found to handle Intent { act=android.intent.action.CALL dat=tel0710000001 }</em>\n<a href=\"https://i.stack.imgur.com/sGoy1.png\" rel=\"nofollow noreferrer\">Error message</a></p>\n<pre><code>      private static final int REQUEST_CALL = 1;\n      private TextView callText;\n      private AppCompatButton callTo;\n\n\n         callTo.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                    CallButton();[enter image description here][1]\n            }\n        });\n        \n    }\n\n    private void CallButton() {\n            String number =  callText.getText().toString();\n            if (number.trim().length()&gt;0){\n                if(ContextCompat.checkSelfPermission(MyProfileActivity.this, Manifest.permission.CALL_PHONE )!= PackageManager.PERMISSION_GRANTED){\n                    ActivityCompat.requestPermissions(MyProfileActivity.this,new String[]{Manifest.permission.CALL_PHONE},REQUEST_CALL);\n                }\n                else {\n                    String dial = &quot;tel&quot; + number;\n                    startActivity(new Intent(Intent.ACTION_CALL, Uri.parse(dial)));\n                }\n            }\n        }\n\n@Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        if (requestCode == REQUEST_CALL) {\n            if (grantResults.length &gt; 0) {\n                if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                    CallButton();\n                }\n            } else {\n                Toast.makeText(this, &quot;Permission Denied&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n    }\n</code></pre>\n<p>AndroidManifest</p>\n<pre><code>  &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.CALL_PHONE&quot;/&gt;\n</code></pre>\n"},{"tags":["java","windows","cpu","resource-monitor"],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649705360,"creation_date":1649705360,"answer_id":71833320,"question_id":71832585,"body_markdown":"One difference between the two tools seems to be what is 100%:\r\n\r\n* your tool measures 1 core full busy = 100%, 5 cores full busy = 500%\r\n* the Windows resource monitor measures 12 cores full busy = 100%, 1 core full busy = 8%, 2 cores full busy = 16%\r\n\r\nThe other difference might be sampling / averaging period:\r\n\r\n* your tool might measure peak usage: 5 cores full busy at least once during the sampling period\r\n* the Windows resource monitor measures average usage: 5 cores busy during 40% of the sample time, all cores idle during the remaining time give an average of 16% usage of the full available capacity","title":"Why is the Java CPU usage different from the Windows Resource Monitor CPU usage?","body":"<p>One difference between the two tools seems to be what is 100%:</p>\n<ul>\n<li>your tool measures 1 core full busy = 100%, 5 cores full busy = 500%</li>\n<li>the Windows resource monitor measures 12 cores full busy = 100%, 1 core full busy = 8%, 2 cores full busy = 16%</li>\n</ul>\n<p>The other difference might be sampling / averaging period:</p>\n<ul>\n<li>your tool might measure peak usage: 5 cores full busy at least once during the sampling period</li>\n<li>the Windows resource monitor measures average usage: 5 cores busy during 40% of the sample time, all cores idle during the remaining time give an average of 16% usage of the full available capacity</li>\n</ul>\n"}],"owner":{"account_id":4138645,"reputation":87,"user_id":3394645,"accept_rate":33,"display_name":"user3394645"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649705360,"creation_date":1649701511,"question_id":71832585,"body_markdown":"We are troubleshooting a performance of a Java application. And recently we have been using Application Performance Diagnostics tool for the application. Which also measures the CPU and Memory (don&#39;t know the exact method for it but contact the supplier about it).  Besides that we have seen the Windows process/resource monitor with CPU usages. Those are quite different and we don&#39;t have any clue.\r\n\r\nThe Java application (openjdk8) running on a Windows server 2012 machine.\r\nWhen we measure the CPU from the Java App we see peaks from 100% till 500% all the time.\r\nWhile our Virtual Machine/Server has 12 CPU&#39;s and Windows resource monitor indicates all the time CPU usage of below 10-15%. I have few questions regarding this unclarity;\r\n\r\n1 - Why is there a difference between the CPU measurement between the application and Windows Resource Monitor?\r\n2 - How is it possible that it can burst 500%?\r\n3 - Where can I adjust on Windows OS normally the application allocated CPU so that it has that 500% directly available as CPU resource\r\n\r\n\r\n\r\n","title":"Why is the Java CPU usage different from the Windows Resource Monitor CPU usage?","body":"<p>We are troubleshooting a performance of a Java application. And recently we have been using Application Performance Diagnostics tool for the application. Which also measures the CPU and Memory (don't know the exact method for it but contact the supplier about it).  Besides that we have seen the Windows process/resource monitor with CPU usages. Those are quite different and we don't have any clue.</p>\n<p>The Java application (openjdk8) running on a Windows server 2012 machine.\nWhen we measure the CPU from the Java App we see peaks from 100% till 500% all the time.\nWhile our Virtual Machine/Server has 12 CPU's and Windows resource monitor indicates all the time CPU usage of below 10-15%. I have few questions regarding this unclarity;</p>\n<p>1 - Why is there a difference between the CPU measurement between the application and Windows Resource Monitor?\n2 - How is it possible that it can burst 500%?\n3 - Where can I adjust on Windows OS normally the application allocated CPU so that it has that 500% directly available as CPU resource</p>\n"},{"tags":["java","filter","java-stream"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":1,"creation_date":1621919108,"post_id":67682031,"comment_id":119631248,"body_markdown":"`Comparator.comparingDouble(Employee::getSalary)` would sort ascending. You need to reverse that: `Comparator.comparingDouble(Employee::getSalary).reversed()` or something like that.","body":"<code>Comparator.comparingDouble(Employee::getSalary)</code> would sort ascending. You need to reverse that: <code>Comparator.comparingDouble(Employee::getSalary).reversed()</code> or something like that."},{"owner":{"display_name":"user15082428"},"score":0,"creation_date":1621919653,"post_id":67682031,"comment_id":119631367,"body_markdown":"@ernest_k Thank you! Finally found the result that I am looking for.","body":"@ernest_k Thank you! Finally found the result that I am looking for."}],"answers":[{"tags":[],"owner":{"display_name":"user15082428"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621920665,"creation_date":1621920252,"answer_id":67682197,"question_id":67682031,"body_markdown":"Solved:\r\n\r\nAdded the .reversed() line,\r\n\r\n    listOfTop10HighestPaidMaleEmployee = listOfTop10HighestPaidMaleEmployee\r\n                            .stream() \r\n                       .sorted(Comparator.comparingDouble(Employee::getSalary).reversed())\r\n                            .limit(10)\r\n                            .collect(Collectors.toList());\r\n\r\nThis gets the last 10 of the list sorted in descending order.\r\n\r\nHere is a complete example. Uses the new Java 16 [record][1] feature for brevity.\r\n\r\n```java\r\nrecord Employee(String name , double salary) {}\r\n\r\nList &lt; Employee &gt; employees =\r\n        List.of(\r\n                new Employee( &quot;Alice&quot; , 88 ) ,    // # 1\r\n                new Employee( &quot;Bob&quot; , 52 ) ,      // # 3\r\n                new Employee( &quot;Carol&quot; , 33 ) ,\r\n                new Employee( &quot;Dennis&quot; , 22 ) ,\r\n                new Employee( &quot;Ellen&quot; , 77 ) ,    // # 2\r\n                new Employee( &quot;Francis&quot; , 17 )\r\n        );\r\n\r\nList &lt; Employee &gt; highestPaid =\r\n        employees\r\n                .stream()\r\n                .sorted(\r\n                        Comparator.comparingDouble( Employee :: salary ).reversed()\r\n                )\r\n                .limit( 3 )\r\n                .collect( Collectors.toList() );  // Or just `.toList()` in Java 16+.\r\n\r\nSystem.out.println( &quot;highestPaid = &quot; + highestPaid );\r\n```\r\n\r\nWhen run.\r\n\r\n&gt;highestPaid = [Employee[name=Alice, salary=88.0], Employee[name=Ellen, salary=77.0], Employee[name=Bob, salary=52.0]]\r\n\r\n\r\n  [1]: https://openjdk.java.net/jeps/395","title":"Comparing double values using stream filter","body":"<p>Solved:</p>\n<p>Added the .reversed() line,</p>\n<pre><code>listOfTop10HighestPaidMaleEmployee = listOfTop10HighestPaidMaleEmployee\n                        .stream() \n                   .sorted(Comparator.comparingDouble(Employee::getSalary).reversed())\n                        .limit(10)\n                        .collect(Collectors.toList());\n</code></pre>\n<p>This gets the last 10 of the list sorted in descending order.</p>\n<p>Here is a complete example. Uses the new Java 16 <a href=\"https://openjdk.java.net/jeps/395\" rel=\"nofollow noreferrer\">record</a> feature for brevity.</p>\n<pre class=\"lang-java prettyprint-override\"><code>record Employee(String name , double salary) {}\n\nList &lt; Employee &gt; employees =\n        List.of(\n                new Employee( &quot;Alice&quot; , 88 ) ,    // # 1\n                new Employee( &quot;Bob&quot; , 52 ) ,      // # 3\n                new Employee( &quot;Carol&quot; , 33 ) ,\n                new Employee( &quot;Dennis&quot; , 22 ) ,\n                new Employee( &quot;Ellen&quot; , 77 ) ,    // # 2\n                new Employee( &quot;Francis&quot; , 17 )\n        );\n\nList &lt; Employee &gt; highestPaid =\n        employees\n                .stream()\n                .sorted(\n                        Comparator.comparingDouble( Employee :: salary ).reversed()\n                )\n                .limit( 3 )\n                .collect( Collectors.toList() );  // Or just `.toList()` in Java 16+.\n\nSystem.out.println( &quot;highestPaid = &quot; + highestPaid );\n</code></pre>\n<p>When run.</p>\n<blockquote>\n<p>highestPaid = [Employee[name=Alice, salary=88.0], Employee[name=Ellen, salary=77.0], Employee[name=Bob, salary=52.0]]</p>\n</blockquote>\n"}],"owner":{"display_name":"user15082428"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":688,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1621953696,"answer_count":1,"score":0,"last_activity_date":1649705085,"creation_date":1621918875,"question_id":67682031,"body_markdown":"I need your help in determining what is wrong with the code that I am working on right now. \r\n\r\nThe specifications for this task is to filter the list of objects obtained from a csv file and only get the top 10 employees with the highest salary. I am trying these lines:\r\n\r\n    List&lt;Employee&gt; listOfTop10HighestPaidMaleEmployee = new ArrayList&lt;&gt;(employeeList);\r\n        List&lt;Employee&gt; filterSalary;\r\n\r\n                filterSalary = listOfTop10HighestPaidMaleEmployee\r\n                        .stream()\r\n                        .sorted(\r\n                                Comparator.comparingDouble(Employee::getSalary)\r\n                        )\r\n                        .limit(10)\r\n                        .collect(Collectors.toList());\r\n\r\nWhen I test it using a for-each loop, it prints out 10 values, but doesn&#39;t properly filter out the salary part. I get this output:\r\n\r\n    Employee{id=&#39;261461&#39;, name=&#39;Lucila Isai Gray Silvestre&#39;, department=&#39;Software Development Team&#39;, \r\n    gender=M, age=34, employment status=Permanent, salary=20079.75, years of service=9}\r\n    Employee{id=&#39;368487&#39;, name=&#39;Joey Quinn Uson Solivio&#39;, department=&#39;Marketing&#39;, gender=M, age=34, \r\n    employment status=Not Permanent, salary=20200.25, years of service=3}\r\n    Employee{id=&#39;353810&#39;, name=&#39;Carter Jamie Pagsisihan Lingao&#39;, department=&#39;Marketing&#39;, gender=M, \r\n    age=24, employment status=Permanent, salary=20444.25, years of service=4}\r\n    Employee{id=&#39;330680&#39;, name=&#39;Erick Colby Magan Formalouza&#39;, department=&#39;IT Services&#39;, gender=M, \r\n    age=52, employment status=Permanent, salary=20887.0, years of service=14}\r\n    Employee{id=&#39;220888&#39;, name=&#39;Jack Cornelius Parker Guinto&#39;, department=&#39;IT Services&#39;, gender=M, \r\n    age=32, employment status=Permanent, salary=20950.0, years of service=10}\r\n    Employee{id=&#39;215350&#39;, name=&#39;Eugenio Jermaine Quiblat Bonachita&#39;, department=&#39;Marketing&#39;, gender=M, \r\n    age=45, employment status=Not Permanent, salary=21263.5, years of service=2}\r\n    Employee{id=&#39;257430&#39;, name=&#39;Malaya Kaitlyn Hakamada Gonz�lez&#39;, department=&#39;IT Services&#39;, gender=F, \r\n    age=35, employment status=Not Permanent, salary=21362.0, years of service=2}\r\n    Employee{id=&#39;212292&#39;, name=&#39;Kendra Mercedes Lomondot Fernando&#39;, department=&#39;Marketing&#39;, gender=F, a \r\n    age=41, employment status=Not Permanent, salary=21371.75, years of service=3}\r\n    Employee{id=&#39;348771&#39;, name=&#39;Kristofer Israel Dura Portugal&#39;, department=&#39;Human Resource&#39;, gender=M, \r\n    age=49, employment status=Permanent, salary=21402.5, years of service=6}\r\n    Employee{id=&#39;353227&#39;, name=&#39;Maegan Jaden Mahiya Isidro&#39;, department=&#39;Human Resource&#39;, gender=F, \r\n    age=59, employment status=Not Permanent, salary=21442.25, years of service=3}\r\n\r\nUpon cross-checking the results and the list, it prints out the list with salary of range 20000-21,000. In the original list, the salary goes up to 30,000. Any tips on how can I filter the list so that it shows the list of 10 employees with the highest salary? Any help would be deeply appreciated. Thank you in advance!\r\n\r\n","title":"Comparing double values using stream filter","body":"<p>I need your help in determining what is wrong with the code that I am working on right now.</p>\n<p>The specifications for this task is to filter the list of objects obtained from a csv file and only get the top 10 employees with the highest salary. I am trying these lines:</p>\n<pre><code>List&lt;Employee&gt; listOfTop10HighestPaidMaleEmployee = new ArrayList&lt;&gt;(employeeList);\n    List&lt;Employee&gt; filterSalary;\n\n            filterSalary = listOfTop10HighestPaidMaleEmployee\n                    .stream()\n                    .sorted(\n                            Comparator.comparingDouble(Employee::getSalary)\n                    )\n                    .limit(10)\n                    .collect(Collectors.toList());\n</code></pre>\n<p>When I test it using a for-each loop, it prints out 10 values, but doesn't properly filter out the salary part. I get this output:</p>\n<pre><code>Employee{id='261461', name='Lucila Isai Gray Silvestre', department='Software Development Team', \ngender=M, age=34, employment status=Permanent, salary=20079.75, years of service=9}\nEmployee{id='368487', name='Joey Quinn Uson Solivio', department='Marketing', gender=M, age=34, \nemployment status=Not Permanent, salary=20200.25, years of service=3}\nEmployee{id='353810', name='Carter Jamie Pagsisihan Lingao', department='Marketing', gender=M, \nage=24, employment status=Permanent, salary=20444.25, years of service=4}\nEmployee{id='330680', name='Erick Colby Magan Formalouza', department='IT Services', gender=M, \nage=52, employment status=Permanent, salary=20887.0, years of service=14}\nEmployee{id='220888', name='Jack Cornelius Parker Guinto', department='IT Services', gender=M, \nage=32, employment status=Permanent, salary=20950.0, years of service=10}\nEmployee{id='215350', name='Eugenio Jermaine Quiblat Bonachita', department='Marketing', gender=M, \nage=45, employment status=Not Permanent, salary=21263.5, years of service=2}\nEmployee{id='257430', name='Malaya Kaitlyn Hakamada Gonz�lez', department='IT Services', gender=F, \nage=35, employment status=Not Permanent, salary=21362.0, years of service=2}\nEmployee{id='212292', name='Kendra Mercedes Lomondot Fernando', department='Marketing', gender=F, a \nage=41, employment status=Not Permanent, salary=21371.75, years of service=3}\nEmployee{id='348771', name='Kristofer Israel Dura Portugal', department='Human Resource', gender=M, \nage=49, employment status=Permanent, salary=21402.5, years of service=6}\nEmployee{id='353227', name='Maegan Jaden Mahiya Isidro', department='Human Resource', gender=F, \nage=59, employment status=Not Permanent, salary=21442.25, years of service=3}\n</code></pre>\n<p>Upon cross-checking the results and the list, it prints out the list with salary of range 20000-21,000. In the original list, the salary goes up to 30,000. Any tips on how can I filter the list so that it shows the list of 10 employees with the highest salary? Any help would be deeply appreciated. Thank you in advance!</p>\n"},{"tags":["java","swing","layout-manager","grid-layout"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1645610475,"post_id":71234146,"comment_id":125915543,"body_markdown":"I&#39;m not sure you really want to do that with a `JButton` (or abuse a `JButton` that way).  A better way would be to use a `JList` wrapped in a `JScrollPane`","body":"I&#39;m not sure you really want to do that with a <code>JButton</code> (or abuse a <code>JButton</code> that way).  A better way would be to use a <code>JList</code> wrapped in a <code>JScrollPane</code>"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1645610566,"post_id":71234146,"comment_id":125915582,"body_markdown":"This [example](https://stackoverflow.com/questions/23796471/how-to-change-description-image-in-jlist-java/23797943#23797943) is probably a little more complicated then you need, but the basic idea is what you&#39;re trying to achieve (without making `JList` editable)","body":"This <a href=\"https://stackoverflow.com/questions/23796471/how-to-change-description-image-in-jlist-java/23797943#23797943\">example</a> is probably a little more complicated then you need, but the basic idea is what you&#39;re trying to achieve (without making <code>JList</code> editable)"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1645611510,"post_id":71234146,"comment_id":125916002,"body_markdown":"`public class Main {` Class (method &amp; attribute names) should be descriptive and clear (unless for e.g. it&#39;s a local variable where the meaning should be clear from the context - like a loop counter). If not for your sake a month later when you are wondering what the `Main` class does, then at least for the benefit of others who start out not having the first clue, and the name clashing with all the other unimaginatively named classes in their package dedicated to code testing.","body":"<code>public class Main {</code> Class (method &amp; attribute names) should be descriptive and clear (unless for e.g. it&#39;s a local variable where the meaning should be clear from the context - like a loop counter). If not for your sake a month later when you are wondering what the <code>Main</code> class does, then at least for the benefit of others who start out not having the first clue, and the name clashing with all the other unimaginatively named classes in their package dedicated to code testing."}],"answers":[{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645622889,"creation_date":1645611031,"answer_id":71234978,"question_id":71234146,"body_markdown":"All that&#39;s needed is a properly configured `JButton` in a `GridLayout`.\r\n\r\nE.G. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n    public static JPanel createMoviePanel() {\r\n        JPanel movieLibraryPanel = new JPanel(new GridLayout(0, 10, 3, 3));\r\n        movieLibraryPanel.setBackground(new Color(132, 132, 132));\r\n\r\n        int m = 5;\r\n        BufferedImage image = new BufferedImage(9 * m, 16 * m, BufferedImage.TYPE_INT_RGB);\r\n        for (int ii = 1; ii &lt; 21; ii++) {\r\n            JButton picButton = new JButton(&quot;Mov &quot; + ii, new ImageIcon(image));\r\n            picButton.setMargin(new Insets(0,0,0,0));\r\n            picButton.setForeground(Color.WHITE);\r\n            picButton.setContentAreaFilled(false);\r\n            picButton.setHorizontalTextPosition(JButton.CENTER);\r\n            picButton.setVerticalTextPosition(JButton.BOTTOM);\r\n            movieLibraryPanel.add(picButton);\r\n        }\r\n\r\n        return movieLibraryPanel;\r\n    }\r\n\r\n\r\nHere is a complete source for the above with a tweak to put the year on a new line. It uses HTML in the `JButton` to break the button text into two lines. \r\n\r\nThe input focus is on the first button, whereas the mouse hovers over the &#39;2009&#39; movie:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n    import java.awt.*;\r\n    import java.awt.image.*;\r\n    import javax.swing.*;\r\n    \r\n    class MovieGrid {\r\n    \r\n        MovieGrid() {\r\n            JFrame f = new JFrame(&quot;Movie Grid&quot;);\r\n            f.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n            f.setLocationByPlatform(true);\r\n            f.add(createMoviePanel());\r\n            f.pack();\r\n            f.setVisible(true);\r\n        }\r\n    \r\n        public static JPanel createMoviePanel() {\r\n            JPanel movieLibraryPanel = new JPanel(new GridLayout(0, 10, 3, 3));\r\n            movieLibraryPanel.setBackground(new Color(132, 132, 132));\r\n    \r\n            int m = 5;\r\n            BufferedImage image = new BufferedImage(\r\n                    9 * m, 16 * m, BufferedImage.TYPE_INT_RGB);\r\n            for (int ii = 2001; ii &lt; 2021; ii++) {\r\n                JButton picButton = new JButton(\r\n                        &quot;&lt;html&gt;Movie&lt;br&gt;&quot; + ii, new ImageIcon(image));\r\n                picButton.setMargin(new Insets(0,0,0,0));\r\n                picButton.setForeground(Color.WHITE);\r\n                picButton.setContentAreaFilled(false);\r\n                picButton.setHorizontalTextPosition(JButton.CENTER);\r\n                picButton.setVerticalTextPosition(JButton.BOTTOM);\r\n                movieLibraryPanel.add(picButton);\r\n            }\r\n    \r\n            return movieLibraryPanel;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Runnable r = new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    new MovieGrid();\r\n                }\r\n            };\r\n            SwingUtilities.invokeLater(r);\r\n        }\r\n    }\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HU3A9.png\r\n  [2]: https://i.stack.imgur.com/ZHBar.png","title":"Java Swing GridLayout Change Grid Sizes","body":"<p>All that's needed is a properly configured <code>JButton</code> in a <code>GridLayout</code>.</p>\n<p>E.G.</p>\n<p><a href=\"https://i.stack.imgur.com/HU3A9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HU3A9.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>public static JPanel createMoviePanel() {\n    JPanel movieLibraryPanel = new JPanel(new GridLayout(0, 10, 3, 3));\n    movieLibraryPanel.setBackground(new Color(132, 132, 132));\n\n    int m = 5;\n    BufferedImage image = new BufferedImage(9 * m, 16 * m, BufferedImage.TYPE_INT_RGB);\n    for (int ii = 1; ii &lt; 21; ii++) {\n        JButton picButton = new JButton(&quot;Mov &quot; + ii, new ImageIcon(image));\n        picButton.setMargin(new Insets(0,0,0,0));\n        picButton.setForeground(Color.WHITE);\n        picButton.setContentAreaFilled(false);\n        picButton.setHorizontalTextPosition(JButton.CENTER);\n        picButton.setVerticalTextPosition(JButton.BOTTOM);\n        movieLibraryPanel.add(picButton);\n    }\n\n    return movieLibraryPanel;\n}\n</code></pre>\n<p>Here is a complete source for the above with a tweak to put the year on a new line. It uses HTML in the <code>JButton</code> to break the button text into two lines.</p>\n<p>The input focus is on the first button, whereas the mouse hovers over the '2009' movie:</p>\n<p><a href=\"https://i.stack.imgur.com/ZHBar.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZHBar.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.*;\nimport java.awt.image.*;\nimport javax.swing.*;\n\nclass MovieGrid {\n\n    MovieGrid() {\n        JFrame f = new JFrame(&quot;Movie Grid&quot;);\n        f.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n        f.setLocationByPlatform(true);\n        f.add(createMoviePanel());\n        f.pack();\n        f.setVisible(true);\n    }\n\n    public static JPanel createMoviePanel() {\n        JPanel movieLibraryPanel = new JPanel(new GridLayout(0, 10, 3, 3));\n        movieLibraryPanel.setBackground(new Color(132, 132, 132));\n\n        int m = 5;\n        BufferedImage image = new BufferedImage(\n                9 * m, 16 * m, BufferedImage.TYPE_INT_RGB);\n        for (int ii = 2001; ii &lt; 2021; ii++) {\n            JButton picButton = new JButton(\n                    &quot;&lt;html&gt;Movie&lt;br&gt;&quot; + ii, new ImageIcon(image));\n            picButton.setMargin(new Insets(0,0,0,0));\n            picButton.setForeground(Color.WHITE);\n            picButton.setContentAreaFilled(false);\n            picButton.setHorizontalTextPosition(JButton.CENTER);\n            picButton.setVerticalTextPosition(JButton.BOTTOM);\n            movieLibraryPanel.add(picButton);\n        }\n\n        return movieLibraryPanel;\n    }\n\n    public static void main(String[] args) {\n        Runnable r = new Runnable() {\n            @Override\n            public void run() {\n                new MovieGrid();\n            }\n        };\n        SwingUtilities.invokeLater(r);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7642693,"reputation":1180,"user_id":5794313,"display_name":"Sync it"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649704661,"creation_date":1645613052,"answer_id":71235457,"question_id":71234146,"body_markdown":"Same idea&#39;s from Andrew Thompson answer but with some minor text alignment changes and hover effect\r\n\r\n    final class Testing \r\n    {\r\n     public static void main(String[] args)\r\n     {\r\n      JFrame frame=new JFrame(&quot;NEFLIX&quot;);\r\n      \r\n      frame.setContentPane(new GridDisplay()); \r\n      frame.pack();\r\n      frame.setResizable(false);\r\n      \r\n      frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n      frame.setVisible(true);\r\n     }\r\n     \r\n     private static final class GridDisplay extends JPanel implements ActionListener\r\n     {\r\n      private GridDisplay()\r\n      {\r\n       super(new GridLayout(0,5,20,20));\r\n       \r\n       setBackground(new Color(0,0,0,255));\r\n       \r\n       BufferedImage image=new BufferedImage(150,200,BufferedImage.TYPE_INT_RGB); \r\n       Graphics2D g2d=(Graphics2D)image.getGraphics();  \r\n       g2d.setColor(Color.BLUE);  \r\n       g2d.fillRect(0,0,image.getWidth(),image.getHeight());\r\n       \r\n       HoverPainter painter=new HoverPainter();  \r\n       for(int i=0;i&lt;10;i++)\r\n       {\r\n        TVShowCard card=new TVShowCard(image,&quot;Show &quot;+i,&quot;199&quot;+i);   \r\n        card.addMouseListener(painter);   \r\n        add(card);\r\n       }\r\n      }\r\n    \r\n      //highlight only on hover\r\n      private final class HoverPainter extends MouseAdapter\r\n      {\r\n       @Override\r\n       public void mouseExited(MouseEvent e) {\r\n        ((TVShowCard)e.getSource()).setBorderPainted(false);\r\n       }\r\n    \r\n       @Override\r\n       public void mouseEntered(MouseEvent e) {\r\n        ((TVShowCard)e.getSource()).setBorderPainted(true);\r\n       }  \r\n      } \r\n      \r\n      private final class TVShowCard extends JButton\r\n      {\r\n       private TVShowCard(BufferedImage preview,String name,String year)\r\n       {\r\n        super();\r\n           \r\n        setContentAreaFilled(false);\r\n        setBackground(new Color(0,0,0,0));\r\n        setFocusPainted(false);  \r\n        setBorderPainted(false);\r\n\r\n        //I didn&#39;t use image icon &amp; text horizontal alignment because the text always horizontally centered aligned but from the expected output it was left  so created 2 labels for the job            \r\n    \r\n        setLayout(new GridBagLayout());\r\n        addIcon(preview);  \r\n        addLabel(name,year);\r\n          \r\n        addActionListener(GridDisplay.this);\r\n       }\r\n       \r\n       private void addIcon(BufferedImage preview)\r\n       {\r\n        JLabel icon=new JLabel();   \r\n        icon.setIcon(new ImageIcon(preview));  \r\n        add(icon,new GridBagConstraints(0,0,1,1,1.0f,0.0f,GridBagConstraints.WEST,GridBagConstraints.NONE,new Insets(0,0,0,0),0,0));\r\n       }\r\n       \r\n       private void addLabel(String name,String year)\r\n       {\r\n        JLabel label=new JLabel(&quot;&lt;html&gt;&lt;body&gt;&quot;+name+&quot;&lt;br&gt;&quot;+year+&quot;&lt;/body&gt;&lt;/html&gt;&quot;);   \r\n        label.setForeground(Color.white);  \r\n        label.setBackground(new Color(0,0,0,0));\r\n        add(label,new GridBagConstraints(0,1,1,1,1.0f,1.0f,GridBagConstraints.SOUTHWEST,GridBagConstraints.NONE,new Insets(5,0,0,0),0,0));\r\n       }\r\n      } \r\n      \r\n      @Override\r\n      public void actionPerformed(ActionEvent e)\r\n      {\r\n       TVShowCard card=(TVShowCard)e.getSource();\r\n       \r\n       //do stuff with it\r\n      }\r\n     } \r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CDpd2.png","title":"Java Swing GridLayout Change Grid Sizes","body":"<p>Same idea's from Andrew Thompson answer but with some minor text alignment changes and hover effect</p>\n<pre><code>final class Testing \n{\n public static void main(String[] args)\n {\n  JFrame frame=new JFrame(&quot;NEFLIX&quot;);\n  \n  frame.setContentPane(new GridDisplay()); \n  frame.pack();\n  frame.setResizable(false);\n  \n  frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n  frame.setVisible(true);\n }\n \n private static final class GridDisplay extends JPanel implements ActionListener\n {\n  private GridDisplay()\n  {\n   super(new GridLayout(0,5,20,20));\n   \n   setBackground(new Color(0,0,0,255));\n   \n   BufferedImage image=new BufferedImage(150,200,BufferedImage.TYPE_INT_RGB); \n   Graphics2D g2d=(Graphics2D)image.getGraphics();  \n   g2d.setColor(Color.BLUE);  \n   g2d.fillRect(0,0,image.getWidth(),image.getHeight());\n   \n   HoverPainter painter=new HoverPainter();  \n   for(int i=0;i&lt;10;i++)\n   {\n    TVShowCard card=new TVShowCard(image,&quot;Show &quot;+i,&quot;199&quot;+i);   \n    card.addMouseListener(painter);   \n    add(card);\n   }\n  }\n\n  //highlight only on hover\n  private final class HoverPainter extends MouseAdapter\n  {\n   @Override\n   public void mouseExited(MouseEvent e) {\n    ((TVShowCard)e.getSource()).setBorderPainted(false);\n   }\n\n   @Override\n   public void mouseEntered(MouseEvent e) {\n    ((TVShowCard)e.getSource()).setBorderPainted(true);\n   }  \n  } \n  \n  private final class TVShowCard extends JButton\n  {\n   private TVShowCard(BufferedImage preview,String name,String year)\n   {\n    super();\n       \n    setContentAreaFilled(false);\n    setBackground(new Color(0,0,0,0));\n    setFocusPainted(false);  \n    setBorderPainted(false);\n\n    //I didn't use image icon &amp; text horizontal alignment because the text always horizontally centered aligned but from the expected output it was left  so created 2 labels for the job            \n\n    setLayout(new GridBagLayout());\n    addIcon(preview);  \n    addLabel(name,year);\n      \n    addActionListener(GridDisplay.this);\n   }\n   \n   private void addIcon(BufferedImage preview)\n   {\n    JLabel icon=new JLabel();   \n    icon.setIcon(new ImageIcon(preview));  \n    add(icon,new GridBagConstraints(0,0,1,1,1.0f,0.0f,GridBagConstraints.WEST,GridBagConstraints.NONE,new Insets(0,0,0,0),0,0));\n   }\n   \n   private void addLabel(String name,String year)\n   {\n    JLabel label=new JLabel(&quot;&lt;html&gt;&lt;body&gt;&quot;+name+&quot;&lt;br&gt;&quot;+year+&quot;&lt;/body&gt;&lt;/html&gt;&quot;);   \n    label.setForeground(Color.white);  \n    label.setBackground(new Color(0,0,0,0));\n    add(label,new GridBagConstraints(0,1,1,1,1.0f,1.0f,GridBagConstraints.SOUTHWEST,GridBagConstraints.NONE,new Insets(5,0,0,0),0,0));\n   }\n  } \n  \n  @Override\n  public void actionPerformed(ActionEvent e)\n  {\n   TVShowCard card=(TVShowCard)e.getSource();\n   \n   //do stuff with it\n  }\n } \n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/CDpd2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CDpd2.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"display_name":"anon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":335,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71234978,"answer_count":2,"score":1,"last_activity_date":1649704661,"creation_date":1645607522,"question_id":71234146,"body_markdown":"I&#39;m trying to create a program that lists movies in a Netflix style to learn Front-End coding.\r\n\r\nHow I want it to look in the end:\r\n\r\n[![Example Image How it should look][1]][1]\r\n\r\nMy guess is that every movie is a button component with an image a name label and a release year label.\r\n\r\nI&#39;m struggling to recreate this look. This is how it looks when I try it:\r\n\r\n[![How it looks when I try it][2]][2]\r\n\r\nThe navigationbar in my image is at the page start of a border layout. Below the navigationbar the movie container is in the center of the border layout.\r\n\r\nMy idea was creating a GridLayout and then create a button for each movie and adding it to the GridLayout.\r\n\r\nYou can recreate this with this code:\r\n\r\n    public class Main {\r\n\tprivate static JFrame frame;\r\n\t\r\n\tpublic static void main(String[] args) throws HeadlessException {\r\n\t\tframe = new JFrame();\r\n\t\tframe.setLayout(new BorderLayout());\r\n\t\tframe.setBackground(new Color(32, 32, 32));\r\n\t\t\r\n\t\tJPanel navigationPanel = createNavigationBar();\r\n\t\tframe.add(navigationPanel, BorderLayout.PAGE_START);\r\n\t\t\r\n\t\tJPanel moviePanel = createMoviePanel();\r\n\t\tframe.add(moviePanel, BorderLayout.CENTER);\r\n\t\t\r\n\t\tframe.setPreferredSize(new Dimension(1920, 1080));\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe.setTitle(&quot;Example App&quot;);\r\n\t\tframe.pack();\r\n\t\tframe.setExtendedState(JFrame.MAXIMIZED_BOTH);\r\n\t\tframe.setVisible(true);\r\n\t}\r\n\r\n\tpublic static JPanel createMoviePanel() {\r\n\t\tJPanel moviePanel = new JPanel();\r\n\t\t\r\n\t\tGridLayout layout = new GridLayout(0, 10);\r\n\t\tlayout.setHgap(3);\r\n\t\tlayout.setVgap(3);\r\n\t\tmoviePanel.setLayout(layout);\r\n\t\tmoviePanel.setBackground(new Color(32, 32, 32));\r\n\t\t\r\n\t\tArrayList&lt;String&gt; exampleList = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\t// Add stuff to the example list\r\n\t\tfor(int i = 0; i &lt; 120; i++) {\r\n\t\t\texampleList.add(Integer.toString(i));\r\n\t\t}\r\n\t\t\r\n\t\tfinal File root = new File(&quot;&quot;);\r\n\t\t\r\n\t\tfor(final String movie : exampleList) {\r\n\t\t\tJLabel picLabel = new JLabel();\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\tFile imageFile = new File(root.getAbsolutePath() + &quot;\\\\src\\\\images\\\\&quot; + &quot;imageName.jpg&quot;); // Try to find the cover image\r\n\t\t\t\t\r\n\t\t\t\tif(imageFile.exists()) {\r\n\t\t\t\t\tBufferedImage movieCover = ImageIO.read(imageFile);\r\n\t\t\t\t\tpicLabel = new JLabel(new ImageIcon(movieCover));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tBufferedImage movieCover = ImageIO.read(new File(root.getAbsolutePath() + &quot;\\\\src\\\\images\\\\temp.jpg&quot;)); // Get a temp image\r\n\t\t\t\t\tpicLabel = new JLabel(new ImageIcon(movieCover));\r\n\t\t\t\t}\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\r\n\t\t\tJLabel movieName = new JLabel(&quot;New Movie&quot;);\r\n\t\t\tmovieName.setForeground(Color.WHITE);;\r\n\t\t\t\r\n\t\t\tJButton movieButton = new JButton();\r\n\t\t\tmovieButton.setLayout(new GridLayout(0, 1));\r\n\t\t\t//movieButton.setContentAreaFilled(false);\r\n\t\t\t//movieButton.setBorderPainted(false);\r\n\t\t\t//movieButton.setFocusPainted(false);\r\n\t\t\t\r\n\t\t\tmovieButton.add(picLabel);\r\n\t\t\tmovieButton.add(movieName);\r\n\t\t\t\r\n\t\t\tmoviePanel.add(movieButton);\r\n\t\t}\r\n\t\t\r\n\t\treturn moviePanel;\r\n\t}\r\n\t\r\n\tpublic static JPanel createNavigationBar() {\r\n\t\tJPanel navBar = new JPanel();\r\n\t\tnavBar.setLayout(new FlowLayout(FlowLayout.LEFT, 30, 20));\r\n\t\tnavBar.setBackground(new Color(25, 25, 25));\r\n\t\t\r\n\t\tJButton homeButton = new JButton(&quot;Home&quot;);\r\n\t\thomeButton.setContentAreaFilled(false);\r\n\t\thomeButton.setBorderPainted(false);\r\n\t\thomeButton.setFocusPainted(false);\r\n\t\t\r\n\t\tJButton movieButton = new JButton(&quot;Movies&quot;);\r\n\t\tmovieButton.setContentAreaFilled(false);\r\n\t\tmovieButton.setBorderPainted(false);\r\n\t\tmovieButton.setFocusPainted(false);\r\n\t\t\r\n\t\t// Add all the buttons to the navbar\r\n\t\tnavBar.add(homeButton);\r\n\t\tnavBar.add(movieButton);\r\n\t\t\r\n\t\treturn navBar;\r\n\t}\r\n    }\r\n\r\nI noticed that the `GridLayout` always tries to fit everything onto the window.\r\n\r\n  [1]: https://i.stack.imgur.com/AiOgt.png\r\n  [2]: https://i.stack.imgur.com/0Wafc.png","title":"Java Swing GridLayout Change Grid Sizes","body":"<p>I'm trying to create a program that lists movies in a Netflix style to learn Front-End coding.</p>\n<p>How I want it to look in the end:</p>\n<p><a href=\"https://i.stack.imgur.com/AiOgt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AiOgt.png\" alt=\"Example Image How it should look\" /></a></p>\n<p>My guess is that every movie is a button component with an image a name label and a release year label.</p>\n<p>I'm struggling to recreate this look. This is how it looks when I try it:</p>\n<p><a href=\"https://i.stack.imgur.com/0Wafc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0Wafc.png\" alt=\"How it looks when I try it\" /></a></p>\n<p>The navigationbar in my image is at the page start of a border layout. Below the navigationbar the movie container is in the center of the border layout.</p>\n<p>My idea was creating a GridLayout and then create a button for each movie and adding it to the GridLayout.</p>\n<p>You can recreate this with this code:</p>\n<pre><code>public class Main {\nprivate static JFrame frame;\n\npublic static void main(String[] args) throws HeadlessException {\n    frame = new JFrame();\n    frame.setLayout(new BorderLayout());\n    frame.setBackground(new Color(32, 32, 32));\n    \n    JPanel navigationPanel = createNavigationBar();\n    frame.add(navigationPanel, BorderLayout.PAGE_START);\n    \n    JPanel moviePanel = createMoviePanel();\n    frame.add(moviePanel, BorderLayout.CENTER);\n    \n    frame.setPreferredSize(new Dimension(1920, 1080));\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.setTitle(&quot;Example App&quot;);\n    frame.pack();\n    frame.setExtendedState(JFrame.MAXIMIZED_BOTH);\n    frame.setVisible(true);\n}\n\npublic static JPanel createMoviePanel() {\n    JPanel moviePanel = new JPanel();\n    \n    GridLayout layout = new GridLayout(0, 10);\n    layout.setHgap(3);\n    layout.setVgap(3);\n    moviePanel.setLayout(layout);\n    moviePanel.setBackground(new Color(32, 32, 32));\n    \n    ArrayList&lt;String&gt; exampleList = new ArrayList&lt;&gt;();\n    \n    // Add stuff to the example list\n    for(int i = 0; i &lt; 120; i++) {\n        exampleList.add(Integer.toString(i));\n    }\n    \n    final File root = new File(&quot;&quot;);\n    \n    for(final String movie : exampleList) {\n        JLabel picLabel = new JLabel();\n        \n        try {\n            File imageFile = new File(root.getAbsolutePath() + &quot;\\\\src\\\\images\\\\&quot; + &quot;imageName.jpg&quot;); // Try to find the cover image\n            \n            if(imageFile.exists()) {\n                BufferedImage movieCover = ImageIO.read(imageFile);\n                picLabel = new JLabel(new ImageIcon(movieCover));\n            } else {\n                BufferedImage movieCover = ImageIO.read(new File(root.getAbsolutePath() + &quot;\\\\src\\\\images\\\\temp.jpg&quot;)); // Get a temp image\n                picLabel = new JLabel(new ImageIcon(movieCover));\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        JLabel movieName = new JLabel(&quot;New Movie&quot;);\n        movieName.setForeground(Color.WHITE);;\n        \n        JButton movieButton = new JButton();\n        movieButton.setLayout(new GridLayout(0, 1));\n        //movieButton.setContentAreaFilled(false);\n        //movieButton.setBorderPainted(false);\n        //movieButton.setFocusPainted(false);\n        \n        movieButton.add(picLabel);\n        movieButton.add(movieName);\n        \n        moviePanel.add(movieButton);\n    }\n    \n    return moviePanel;\n}\n\npublic static JPanel createNavigationBar() {\n    JPanel navBar = new JPanel();\n    navBar.setLayout(new FlowLayout(FlowLayout.LEFT, 30, 20));\n    navBar.setBackground(new Color(25, 25, 25));\n    \n    JButton homeButton = new JButton(&quot;Home&quot;);\n    homeButton.setContentAreaFilled(false);\n    homeButton.setBorderPainted(false);\n    homeButton.setFocusPainted(false);\n    \n    JButton movieButton = new JButton(&quot;Movies&quot;);\n    movieButton.setContentAreaFilled(false);\n    movieButton.setBorderPainted(false);\n    movieButton.setFocusPainted(false);\n    \n    // Add all the buttons to the navbar\n    navBar.add(homeButton);\n    navBar.add(movieButton);\n    \n    return navBar;\n}\n}\n</code></pre>\n<p>I noticed that the <code>GridLayout</code> always tries to fit everything onto the window.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":1,"creation_date":1560655447,"post_id":56615732,"comment_id":99805799,"body_markdown":"If you are worried about the object instantiation itself: Then yes, you are giving this too much consideration. The only really difference would be if there is some heavy logic in that prototype (and it would be redundant to do it over and over again). For example if you created a new database connection every time. Use Singleton where appropriate (i.e. re-usable throughout the application lifecycle), use Prototype where appropriate (i.e. contains something that is specific to each call/request/use).","body":"If you are worried about the object instantiation itself: Then yes, you are giving this too much consideration. The only really difference would be if there is some heavy logic in that prototype (and it would be redundant to do it over and over again). For example if you created a new database connection every time. Use Singleton where appropriate (i.e. re-usable throughout the application lifecycle), use Prototype where appropriate (i.e. contains something that is specific to each call/request/use)."},{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1560655572,"post_id":56615732,"comment_id":99805810,"body_markdown":"https://stackoverflow.com/questions/21969044/when-to-use-spring-prototype-scope","body":"<a href=\"https://stackoverflow.com/questions/21969044/when-to-use-spring-prototype-scope\" title=\"when to use spring prototype scope\">stackoverflow.com/questions/21969044/&hellip;</a>"},{"owner":{"account_id":2078462,"reputation":10342,"user_id":2986984,"accept_rate":80,"display_name":"tkruse"},"score":0,"creation_date":1566091387,"post_id":56615732,"comment_id":101546194,"body_markdown":"It is possible that only one bean is created and used even with the prototype scope, depending on how you wire your application. So your question is not detailed enough.","body":"It is possible that only one bean is created and used even with the prototype scope, depending on how you wire your application. So your question is not detailed enough."}],"answers":[{"tags":[],"owner":{"account_id":2021629,"reputation":57953,"user_id":1807667,"accept_rate":60,"display_name":"Ortomala Lokni"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649704568,"creation_date":1566062603,"answer_id":57538457,"question_id":56615732,"body_markdown":"Yes, you are right prototype scoped beans consumes more resources. According to the [documentation](https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#beans-factory-scopes-prototype):\r\n\r\n&gt;The non-singleton prototype scope of bean deployment results in the creation of a new bean instance every time a request for that specific bean is made.\r\n\r\nThe constructor is called at each request instead of only once for a singleton scoped bean. But there is another aspect to take into account. The [documentation](https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#beans-factory-scopes-prototype) says:\r\n\r\n&gt;Thus, although initialization lifecycle callback methods are called on all objects regardless of scope, in the case of prototypes, configured destruction lifecycle callbacks are not called. The client code must clean up prototype-scoped objects and release expensive resources that the prototype beans hold. To get the Spring container to release resources held by prototype-scoped beans, try using a custom bean post-processor, which holds a reference to beans that need to be cleaned up.\r\n&gt;\r\n&gt;In some respects, the Spring container’s role in regard to a prototype-scoped bean is a replacement for the Java new operator. All lifecycle management past that point must be handled by the client. \r\n\r\nIf you want to avoid an out of memory exception, you have to take care yourself of the release of all resources (such as database connections) hold by the prototype scoped beans.\r\n\r\nUnless it&#39;s really needed, it&#39;s better to use singleton scoped beans.","title":"In spring, is there a performance difference between prototype and singleton?","body":"<p>Yes, you are right prototype scoped beans consumes more resources. According to the <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#beans-factory-scopes-prototype\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>The non-singleton prototype scope of bean deployment results in the creation of a new bean instance every time a request for that specific bean is made.</p>\n</blockquote>\n<p>The constructor is called at each request instead of only once for a singleton scoped bean. But there is another aspect to take into account. The <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#beans-factory-scopes-prototype\" rel=\"nofollow noreferrer\">documentation</a> says:</p>\n<blockquote>\n<p>Thus, although initialization lifecycle callback methods are called on all objects regardless of scope, in the case of prototypes, configured destruction lifecycle callbacks are not called. The client code must clean up prototype-scoped objects and release expensive resources that the prototype beans hold. To get the Spring container to release resources held by prototype-scoped beans, try using a custom bean post-processor, which holds a reference to beans that need to be cleaned up.</p>\n<p>In some respects, the Spring container’s role in regard to a prototype-scoped bean is a replacement for the Java new operator. All lifecycle management past that point must be handled by the client.</p>\n</blockquote>\n<p>If you want to avoid an out of memory exception, you have to take care yourself of the release of all resources (such as database connections) hold by the prototype scoped beans.</p>\n<p>Unless it's really needed, it's better to use singleton scoped beans.</p>\n"},{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566104836,"creation_date":1566104836,"answer_id":57541801,"question_id":56615732,"body_markdown":"I don&#39;t think you&#39;ll see any noticeable performance difference between prototypes and singletons in general in the most basic sense.\r\n \r\nIt&#39;s true that there is only one singleton bean instance in the application context, and instances of beans defined with &quot;prototype&quot; scope are created for every request to that bean, however, we&#39;re talking about the performance of new object creation and its very cheap these days and optimized for non-expensive objects.\r\n\r\nHowever here are some caveats:\r\n\r\nWhat if the Constructor of the bean calls some pretty expensive code, its not spring&#39;s fault of course, because the programmer wrote the code this way, but still, actually, some pretty expensive code will be called __every time__ the bean is created and it can drain the performance.\r\n\r\nSlightly more interesting: we usually don&#39;t place code like this in consturctor, instead we use &quot;lifecyle&quot; methods like `@PostConstruct` / `@PreDestroy`.\r\n\r\nFor Singletons spring will call the post-construct method once when it creates a singleton and after that will place the bean onto the application context. \r\nWhen the application context gets closes (usually when the app shuts down) the pre-destroy method is called to free up the resources, etc.\r\n\r\nHowever, with Prototype scoped beans it&#39;s not the case:\r\nSpring creates them upon every request to the bean, then calls the post-construct method, again **for every single instance of the bean it creates**, then **doesn&#39;t store the instance in the application context**. This means that spring doesn&#39;t call at all pre-destroy methods (because it doesn&#39;t have a clue who are these objects, it doesn&#39;t really manage them after they&#39;re created).\r\nSo this can (again, not spring&#39;s fault) lead to serious performance differences between the two.\r\n\r\n\r\nIf we&#39;ll take it further, sometimes spring has to wrap the object into some sort of proxy. These proxies are usually done with `java.lang.Proxy` in case of interfaces or with `Cglib` which is based on inheritance. Now this fact alone, when we&#39;re talking about wrapping prototype-scoped beans into proxy, can become a source of the serious difference in performance because Proxies are generated in runtime and Wrapping an Object with proxy (especially with CGlib) is pretty expensive.\r\n\r\n","title":"In spring, is there a performance difference between prototype and singleton?","body":"<p>I don't think you'll see any noticeable performance difference between prototypes and singletons in general in the most basic sense.</p>\n\n<p>It's true that there is only one singleton bean instance in the application context, and instances of beans defined with \"prototype\" scope are created for every request to that bean, however, we're talking about the performance of new object creation and its very cheap these days and optimized for non-expensive objects.</p>\n\n<p>However here are some caveats:</p>\n\n<p>What if the Constructor of the bean calls some pretty expensive code, its not spring's fault of course, because the programmer wrote the code this way, but still, actually, some pretty expensive code will be called <strong>every time</strong> the bean is created and it can drain the performance.</p>\n\n<p>Slightly more interesting: we usually don't place code like this in consturctor, instead we use \"lifecyle\" methods like <code>@PostConstruct</code> / <code>@PreDestroy</code>.</p>\n\n<p>For Singletons spring will call the post-construct method once when it creates a singleton and after that will place the bean onto the application context. \nWhen the application context gets closes (usually when the app shuts down) the pre-destroy method is called to free up the resources, etc.</p>\n\n<p>However, with Prototype scoped beans it's not the case:\nSpring creates them upon every request to the bean, then calls the post-construct method, again <strong>for every single instance of the bean it creates</strong>, then <strong>doesn't store the instance in the application context</strong>. This means that spring doesn't call at all pre-destroy methods (because it doesn't have a clue who are these objects, it doesn't really manage them after they're created).\nSo this can (again, not spring's fault) lead to serious performance differences between the two.</p>\n\n<p>If we'll take it further, sometimes spring has to wrap the object into some sort of proxy. These proxies are usually done with <code>java.lang.Proxy</code> in case of interfaces or with <code>Cglib</code> which is based on inheritance. Now this fact alone, when we're talking about wrapping prototype-scoped beans into proxy, can become a source of the serious difference in performance because Proxies are generated in runtime and Wrapping an Object with proxy (especially with CGlib) is pretty expensive.</p>\n"},{"tags":[],"owner":{"account_id":294087,"reputation":6941,"user_id":597770,"display_name":"iluxa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1566105939,"creation_date":1566105939,"answer_id":57541886,"question_id":56615732,"body_markdown":"I can relate to the question, I have been researching it recently. Construction of objects is very cheap, unless they actually do some heavy lifting in the constructor. You never think twice about constructing a bunch of lambdas in one statement. That&#39;s not the problem.\r\n\r\nThe problem is Spring&#39;s inefficiency, the way it wasn&#39;t architectured right. I have recently benchmarked Spring vs Guice. Singletons are slightly faster with Spring, but Prototypes are 20 times slower.\r\n\r\nFrom code sanity point of view, you should always prefer Prototypes. Guice defaults to prototypes. `javax.inject.Inject` documentation defaults to prototypes. Spring lists some vague historical reasons and does Singletons.\r\n\r\nPrototypes are safer because they cannot accidentally store state and use it in the wrong context. They cannot store &quot;userId&quot; from one request and use it in another, since with Prototypes, a brand new instance with clean state gets created every time. That&#39;s how I learned this pattern: we cached the wrong user context accidentally when using Singletons with RequestScoped Providers. Ouch. That mistake is important to avoid. Getting CPU is a much smaller problem.\r\n\r\nTo summarize: use Prototypes for better code, and dont use Spring if performance is very important.","title":"In spring, is there a performance difference between prototype and singleton?","body":"<p>I can relate to the question, I have been researching it recently. Construction of objects is very cheap, unless they actually do some heavy lifting in the constructor. You never think twice about constructing a bunch of lambdas in one statement. That's not the problem.</p>\n\n<p>The problem is Spring's inefficiency, the way it wasn't architectured right. I have recently benchmarked Spring vs Guice. Singletons are slightly faster with Spring, but Prototypes are 20 times slower.</p>\n\n<p>From code sanity point of view, you should always prefer Prototypes. Guice defaults to prototypes. <code>javax.inject.Inject</code> documentation defaults to prototypes. Spring lists some vague historical reasons and does Singletons.</p>\n\n<p>Prototypes are safer because they cannot accidentally store state and use it in the wrong context. They cannot store \"userId\" from one request and use it in another, since with Prototypes, a brand new instance with clean state gets created every time. That's how I learned this pattern: we cached the wrong user context accidentally when using Singletons with RequestScoped Providers. Ouch. That mistake is important to avoid. Getting CPU is a much smaller problem.</p>\n\n<p>To summarize: use Prototypes for better code, and dont use Spring if performance is very important.</p>\n"}],"owner":{"account_id":9736280,"reputation":879,"user_id":7219414,"display_name":"Lauda  Wang"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3640,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"closed_date":1566118443,"answer_count":3,"score":7,"last_activity_date":1649704568,"creation_date":1560653953,"question_id":56615732,"body_markdown":"When I using spring framework to write business code, I always use the singleton scope and avoid using the prototype scope. I think there is a performance difference between prototype and singleton. Because of the prototype scope, spring creates a new instance every call. And I think it is slower than using the singleton scope. Am I right? And am I giving too many considerations to the performance?","title":"In spring, is there a performance difference between prototype and singleton?","body":"<p>When I using spring framework to write business code, I always use the singleton scope and avoid using the prototype scope. I think there is a performance difference between prototype and singleton. Because of the prototype scope, spring creates a new instance every call. And I think it is slower than using the singleton scope. Am I right? And am I giving too many considerations to the performance?</p>\n"},{"tags":["java","command-line","jar","executable-jar"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":1,"creation_date":1649694382,"post_id":71830852,"comment_id":126935731,"body_markdown":"If this is with plain Java command line tools (javac, jar, etc) then you must do this manually. Looking for all dependencies and specify the jars on `jar` command line. \nOr use a build tool like Ant, Maven, IDE, etc","body":"If this is with plain Java command line tools (javac, jar, etc) then you must do this manually. Looking for all dependencies and specify the jars on <code>jar</code> command line.  Or use a build tool like Ant, Maven, IDE, etc"},{"owner":{"account_id":24903359,"reputation":11,"user_id":18773773,"display_name":"Alan"},"score":0,"creation_date":1649694704,"post_id":71830852,"comment_id":126935844,"body_markdown":"@PeterMmm I tried adding the jars as input-files ( https://docs.oracle.com/javase/tutorial/deployment/jar/build.html) but that didnt work.Is there any other way to do so?(from plain java cl tools)","body":"@PeterMmm I tried adding the jars as input-files ( <a href=\"https://docs.oracle.com/javase/tutorial/deployment/jar/build.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/deployment/jar/build.html</a>) but that didnt work.Is there any other way to do so?(from plain java cl tools)"},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1649696111,"post_id":71830852,"comment_id":126936302,"body_markdown":"What not works ? `jar` gives an error message ? You cannot run `java -jar my.jar` ? You should edit your question and add the maximum of details, error messages, expected vs get results.","body":"What not works ? <code>jar</code> gives an error message ? You cannot run <code>java -jar my.jar</code> ? You should edit your question and add the maximum of details, error messages, expected vs get results."}],"owner":{"account_id":24903359,"reputation":11,"user_id":18773773,"display_name":"Alan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649704515,"creation_date":1649692685,"question_id":71830852,"body_markdown":"I am trying  to create a jar using the\r\n ***&quot;jar cfe ...&quot;***\r\n command.\r\nHowever Iam unable to find a way to include all the dependent jar along with my build.Something like ***&quot;Extract required libraries to generated jar&quot;*** option in eclipse jar creation.\r\nPlease help if anyone knows how to do this in command line.\r\n\r\nEdit:\r\n I tried adding the jars as input-files ( docs.oracle.com/javase/tutorial/deployment/jar/build.html) but while running the jar i got ClassNotFoundException on the depended jars.\r\nI also tried mentioning the jars in Classpath of manifest file,but that way i still have to put all the dependent jars in a file directory along with mg main jar.","title":"Pack all dependent jar along with jar creation (command line)","body":"<p>I am trying  to create a jar using the\n<em><strong>&quot;jar cfe ...&quot;</strong></em>\ncommand.\nHowever Iam unable to find a way to include all the dependent jar along with my build.Something like <em><strong>&quot;Extract required libraries to generated jar&quot;</strong></em> option in eclipse jar creation.\nPlease help if anyone knows how to do this in command line.</p>\n<p>Edit:\nI tried adding the jars as input-files ( docs.oracle.com/javase/tutorial/deployment/jar/build.html) but while running the jar i got ClassNotFoundException on the depended jars.\nI also tried mentioning the jars in Classpath of manifest file,but that way i still have to put all the dependent jars in a file directory along with mg main jar.</p>\n"},{"tags":["java","processing"],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649703902,"creation_date":1649699986,"answer_id":71832313,"question_id":71832167,"body_markdown":"The easiest way would be to use a Comparator. Assuming there is a `getDistance` method in your `Creature` class\r\n\r\n    import java.util.Arrays;\r\n    import java.util.Comparator;\r\n\r\n    //may be more of your Processing code\r\n\r\n    Creature [] creatures = //your array;\r\n\r\n    void setup() {\r\n      //sort your array here or in whatever method you want\r\n      Arrays.sort(creatures, Comparator.comparingInt(Creature::getDistance));\r\n    }\r\n    \r\n    class Creature {\r\n        // your class code\r\n    }\r\n\r\n    //may be more of your Processing code\r\n ","title":"Sorting an array of objects by the objects field. How to make a Comparator? Java/Processing","body":"<p>The easiest way would be to use a Comparator. Assuming there is a <code>getDistance</code> method in your <code>Creature</code> class</p>\n<pre><code>import java.util.Arrays;\nimport java.util.Comparator;\n\n//may be more of your Processing code\n\nCreature [] creatures = //your array;\n\nvoid setup() {\n  //sort your array here or in whatever method you want\n  Arrays.sort(creatures, Comparator.comparingInt(Creature::getDistance));\n}\n\nclass Creature {\n    // your class code\n}\n\n//may be more of your Processing code\n</code></pre>\n"}],"owner":{"account_id":24291733,"reputation":55,"user_id":18236636,"display_name":"William Chandler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":533,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1649704404,"creation_date":1649699207,"question_id":71832167,"body_markdown":"I have a class called Creature and an array of Creature objects called creatures. The class Creature has an integer field called distance. I would like to sort the array creatures by their individual distance fields. I&#39;ve tried several different ways but haven&#39;t gotten very far. Can someone explain to me how this works so I can figure out how to do it?\r\n\r\n```\r\nCreature [] creatures;\r\nint [] distancearray;                      //I made a seperate array to try and order the \r\n                                           //creatures array based on this array\r\n\r\ndistancearray = new int [numcreatures];\r\nfor (int i = 0; i &lt; numcreatures; i++) {\r\n  distancearray[i] = creatures[i].distance;\r\n}\r\ndistancearray = sort(distancearray);      //sorting this array was easy but idk how to \r\n                                          //sort creatures based on it\r\n...\r\n\r\nclass Creature /*implements Comparable*/{//First attempt at Comparable\r\n...\r\n/*\r\n  int compareTo(Object otherObject){                //First try with Comparable\r\n    Creature otherCreature = (Creature)otherObject;\r\n    if (distance &lt; otherCreature.distance) {\r\n      return -1;\r\n    }\r\n    if (distance &gt; otherCreature.distance) {\r\n      return 1;\r\n    } else {\r\n      return 0;\r\n    }\r\n  }\r\n\r\n  int compare(Creature C2){                         //Second try with Comparable\r\n    if (distance &lt; C2.distance) {\r\n      return -1;\r\n    }\r\n    if (distance &gt; C2.distance) {\r\n      return 1;\r\n    } else {\r\n      return 0;\r\n    }\r\n  }\r\n*/\r\n}\r\n```\r\nI sometimes get a static error, sometimes not. Am I setting the comparable up correctly? If so how do I then use it? I don&#39;t care how I get the array sorted but the easiest way would be nice. I am using Processing by the way.\r\n\r\nThese are some of the sources I&#39;ve tried to use so far:\r\n\r\nhttps://stackoverflow.com/questions/15189949/making-a-generic-comparator-class\r\n\r\nhttps://stackoverflow.com/questions/12449766/java-sorting-sort-an-array-of-objects-by-property-object-not-allowed-to-use-co\r\n\r\nhttps://stackoverflow.com/questions/18895915/how-to-sort-an-array-of-objects-in-java\r\n\r\nThanks!","title":"Sorting an array of objects by the objects field. How to make a Comparator? Java/Processing","body":"<p>I have a class called Creature and an array of Creature objects called creatures. The class Creature has an integer field called distance. I would like to sort the array creatures by their individual distance fields. I've tried several different ways but haven't gotten very far. Can someone explain to me how this works so I can figure out how to do it?</p>\n<pre><code>Creature [] creatures;\nint [] distancearray;                      //I made a seperate array to try and order the \n                                           //creatures array based on this array\n\ndistancearray = new int [numcreatures];\nfor (int i = 0; i &lt; numcreatures; i++) {\n  distancearray[i] = creatures[i].distance;\n}\ndistancearray = sort(distancearray);      //sorting this array was easy but idk how to \n                                          //sort creatures based on it\n...\n\nclass Creature /*implements Comparable*/{//First attempt at Comparable\n...\n/*\n  int compareTo(Object otherObject){                //First try with Comparable\n    Creature otherCreature = (Creature)otherObject;\n    if (distance &lt; otherCreature.distance) {\n      return -1;\n    }\n    if (distance &gt; otherCreature.distance) {\n      return 1;\n    } else {\n      return 0;\n    }\n  }\n\n  int compare(Creature C2){                         //Second try with Comparable\n    if (distance &lt; C2.distance) {\n      return -1;\n    }\n    if (distance &gt; C2.distance) {\n      return 1;\n    } else {\n      return 0;\n    }\n  }\n*/\n}\n</code></pre>\n<p>I sometimes get a static error, sometimes not. Am I setting the comparable up correctly? If so how do I then use it? I don't care how I get the array sorted but the easiest way would be nice. I am using Processing by the way.</p>\n<p>These are some of the sources I've tried to use so far:</p>\n<p><a href=\"https://stackoverflow.com/questions/15189949/making-a-generic-comparator-class\">Making a generic comparator class</a></p>\n<p><a href=\"https://stackoverflow.com/questions/12449766/java-sorting-sort-an-array-of-objects-by-property-object-not-allowed-to-use-co\">Java Sorting: sort an array of objects by property, object not allowed to use Comparable</a></p>\n<p><a href=\"https://stackoverflow.com/questions/18895915/how-to-sort-an-array-of-objects-in-java\">How to sort an array of objects in Java?</a></p>\n<p>Thanks!</p>\n"},{"tags":["java","hibernate","jpa-2.0"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1534252141,"post_id":51842232,"comment_id":90637490,"body_markdown":"What about [`Session.evict()`](http://docs.jboss.org/hibernate/orm/4.1/javadocs/org/hibernate/Session.html#evict%28java.lang.Object%29)?","body":"What about <a href=\"http://docs.jboss.org/hibernate/orm/4.1/javadocs/org/hibernate/Session.html#evict%28java.lang.Object%29\" rel=\"nofollow noreferrer\"><code>Session.evict()</code></a>?"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1534252174,"post_id":51842232,"comment_id":90637513,"body_markdown":"where is your transaction boundary?","body":"where is your transaction boundary?"},{"owner":{"account_id":175159,"reputation":1823,"user_id":404981,"accept_rate":85,"display_name":"AlexSC"},"score":0,"creation_date":1534252479,"post_id":51842232,"comment_id":90637741,"body_markdown":"@XtremeBaumer: I prefer to stick to JPA instead calling a Hibernate specific method, unless this is absolutely necessary","body":"@XtremeBaumer: I prefer to stick to JPA instead calling a Hibernate specific method, unless this is absolutely necessary"},{"owner":{"account_id":175159,"reputation":1823,"user_id":404981,"accept_rate":85,"display_name":"AlexSC"},"score":0,"creation_date":1534252506,"post_id":51842232,"comment_id":90637760,"body_markdown":"@SimonMartinelli: I just added my `save()` method that shows that","body":"@SimonMartinelli: I just added my <code>save()</code> method that shows that"},{"owner":{"account_id":175159,"reputation":1823,"user_id":404981,"accept_rate":85,"display_name":"AlexSC"},"score":0,"creation_date":1534253093,"post_id":51842232,"comment_id":90638157,"body_markdown":"@XtremeBaumer: I decided to give it a try on `Session.evict()`, but the behavior was precisely the same","body":"@XtremeBaumer: I decided to give it a try on <code>Session.evict()</code>, but the behavior was precisely the same"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1534253471,"post_id":51842232,"comment_id":90638436,"body_markdown":"Are you sure that it is exactly the same entity (before and after removing) that is causing you trouble?","body":"Are you sure that it is exactly the same entity (before and after removing) that is causing you trouble?"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1534254925,"post_id":51842232,"comment_id":90639372,"body_markdown":"I created a test with detach() and detach removes the object from the Persistence Context. I think @XtremeBaumer is right. You have not the same entity instance or the same entity manager.","body":"I created a test with detach() and detach removes the object from the Persistence Context. I think @XtremeBaumer is right. You have not the same entity instance or the same entity manager."},{"owner":{"account_id":175159,"reputation":1823,"user_id":404981,"accept_rate":85,"display_name":"AlexSC"},"score":0,"creation_date":1534256091,"post_id":51842232,"comment_id":90640218,"body_markdown":"@XtremeBaumer: I just added my test code so you can see it. The `mestre2` variable holds the invalid entity. This is the same variable I pass to `exclude()`, so in my understanding I am trying to detach the correct entity","body":"@XtremeBaumer: I just added my test code so you can see it. The <code>mestre2</code> variable holds the invalid entity. This is the same variable I pass to <code>exclude()</code>, so in my understanding I am trying to detach the correct entity"},{"owner":{"account_id":175159,"reputation":1823,"user_id":404981,"accept_rate":85,"display_name":"AlexSC"},"score":0,"creation_date":1534256249,"post_id":51842232,"comment_id":90640330,"body_markdown":"@SimonMartinelli: thanks for your dedication. I just posted my test code so you can evaluate it! The interesting thing is, after calling `save()` all 3 instances have received their ids.","body":"@SimonMartinelli: thanks for your dedication. I just posted my test code so you can evaluate it! The interesting thing is, after calling <code>save()</code> all 3 instances have received their ids."},{"owner":{"account_id":2386830,"reputation":7918,"user_id":2087640,"accept_rate":82,"display_name":"Gab"},"score":0,"creation_date":1534256311,"post_id":51842232,"comment_id":90640376,"body_markdown":"em.detach(entity)","body":"em.detach(entity)"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1534256722,"post_id":51842232,"comment_id":90640698,"body_markdown":"What is `allMestres.add(mestre1);` doing exactly? you havent posted the code for `add` method","body":"What is <code>allMestres.add(mestre1);</code> doing exactly? you havent posted the code for <code>add</code> method"},{"owner":{"account_id":175159,"reputation":1823,"user_id":404981,"accept_rate":85,"display_name":"AlexSC"},"score":0,"creation_date":1534257362,"post_id":51842232,"comment_id":90641179,"body_markdown":"@XtremeBaumer: I just posted the code for `add()` method. You will notice that it is really simple. When an entity is added to the repository, it goes to a list dedicated to hold the added (not yet persisted) instances. The `save()` method will run over that list and add it to the EntityManager using the `persist()` method. After doing that, `save()` will try to commit the current transaction. All this works in no-error situations.","body":"@XtremeBaumer: I just posted the code for <code>add()</code> method. You will notice that it is really simple. When an entity is added to the repository, it goes to a list dedicated to hold the added (not yet persisted) instances. The <code>save()</code> method will run over that list and add it to the EntityManager using the <code>persist()</code> method. After doing that, <code>save()</code> will try to commit the current transaction. All this works in no-error situations."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1534257640,"post_id":51842232,"comment_id":90641374,"body_markdown":"Have you already tried debugging your code properly to see the actual flow?","body":"Have you already tried debugging your code properly to see the actual flow?"},{"owner":{"account_id":175159,"reputation":1823,"user_id":404981,"accept_rate":85,"display_name":"AlexSC"},"score":0,"creation_date":1534258176,"post_id":51842232,"comment_id":90641742,"body_markdown":"@XtremeBaumer: yes, many times, that&#39;s why I have all the try-catch blocks in the test code. Let me give you another piece of information: I configured log4j to show the parameter values hibernate is using when sending SQL sentences to the data server. This log shows me that the parameter values bound to the sentences are the same in the first and the second calls for `save()`, what suggests me that the instance in `mestre2`is not being detached from the EntityManager. I asure that the call for `exclude()` is happening and that the call for `detach()` is as well.","body":"@XtremeBaumer: yes, many times, that&#39;s why I have all the try-catch blocks in the test code. Let me give you another piece of information: I configured log4j to show the parameter values hibernate is using when sending SQL sentences to the data server. This log shows me that the parameter values bound to the sentences are the same in the first and the second calls for <code>save()</code>, what suggests me that the instance in <code>mestre2</code>is not being detached from the EntityManager. I asure that the call for <code>exclude()</code> is happening and that the call for <code>detach()</code> is as well."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1534314061,"post_id":51842232,"comment_id":90660034,"body_markdown":"According to [this guide](https://www.logicbig.com/tutorials/java-ee-tutorial/jpa/detaching.html), you need to `flush()` before `detaching` the entity. Should be worth a try. Also try to close the transaction before calling `exclude`","body":"According to <a href=\"https://www.logicbig.com/tutorials/java-ee-tutorial/jpa/detaching.html\" rel=\"nofollow noreferrer\">this guide</a>, you need to <code>flush()</code> before <code>detaching</code> the entity. Should be worth a try. Also try to close the transaction before calling <code>exclude</code>"},{"owner":{"account_id":175159,"reputation":1823,"user_id":404981,"accept_rate":85,"display_name":"AlexSC"},"score":0,"creation_date":1534330007,"post_id":51842232,"comment_id":90666666,"body_markdown":"@XtremeBaumer: it&#39;s not really the same context because in all examples in that link the EntityManager was begin closed after the operations, but it gave me some hint about `flush()`. In fact, using `flush()` combined with some rewriting of my `save()` method fixed the process. Please, post your suggestion as an answer and I will accept it. Thank you so much!","body":"@XtremeBaumer: it&#39;s not really the same context because in all examples in that link the EntityManager was begin closed after the operations, but it gave me some hint about <code>flush()</code>. In fact, using <code>flush()</code> combined with some rewriting of my <code>save()</code> method fixed the process. Please, post your suggestion as an answer and I will accept it. Thank you so much!"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1534330162,"post_id":51842232,"comment_id":90666741,"body_markdown":"You should then update your question to show the changes you made to the `save()` method (as well as showing how you use `flush()` now)","body":"You should then update your question to show the changes you made to the <code>save()</code> method (as well as showing how you use <code>flush()</code> now)"},{"owner":{"account_id":175159,"reputation":1823,"user_id":404981,"accept_rate":85,"display_name":"AlexSC"},"score":0,"creation_date":1534330377,"post_id":51842232,"comment_id":90666837,"body_markdown":"@XtremeBaumer: Did it!","body":"@XtremeBaumer: Did it!"}],"answers":[{"tags":[],"owner":{"account_id":11407644,"reputation":843,"user_id":8362671,"accept_rate":60,"display_name":"Angad Bansode"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1534252338,"creation_date":1534252338,"answer_id":51842342,"question_id":51842232,"body_markdown":"Unfortunately, there&#39;s no way to disconnect one object from the entity manager in the current JPA implementation, AFAIR.\r\n\r\nEntityManager.clear() will disconnect all the JPA objects, so that might not be an appropriate solution in all the cases, if you have other objects you do plan to keep connected.\r\n\r\nSo your best bet would be to clone the objects and pass the clones to the code that changes the objects. Since primitive and immutable object fields are taken care of by the default cloning mechanism in a proper way, you won&#39;t have to write a lot of plumbing code (apart from deep cloning any aggregated structures you might have).","title":"How to detach an entity from an EntityManager","body":"<p>Unfortunately, there's no way to disconnect one object from the entity manager in the current JPA implementation, AFAIR.</p>\n\n<p>EntityManager.clear() will disconnect all the JPA objects, so that might not be an appropriate solution in all the cases, if you have other objects you do plan to keep connected.</p>\n\n<p>So your best bet would be to clone the objects and pass the clones to the code that changes the objects. Since primitive and immutable object fields are taken care of by the default cloning mechanism in a proper way, you won't have to write a lot of plumbing code (apart from deep cloning any aggregated structures you might have).</p>\n"},{"tags":[],"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1534330401,"creation_date":1534330401,"answer_id":51857373,"question_id":51842232,"body_markdown":"Converting an comment to an answer:\r\n\r\nAccording to [this guide](https://www.logicbig.com/tutorials/java-ee-tutorial/jpa/detaching.html), you need to `flush()` before detaching the entity\r\n\r\nUpdate code from OP:\r\n\r\n    public void save() throws Exception {\r\n        List&lt;T&gt; processedEntities = new ArrayList&lt;T&gt;();\r\n        EntityManager entityManager = getEntityManager();\r\n        EntityTransaction transaction = entityManager.getTransaction(); \r\n        transaction.begin();\r\n        try {\r\n            for(T entity : addedEntities) {\r\n                entityManager.persist(entity);\r\n                processedEntities.add(entity);\r\n            }\r\n            for(T entity : updatedEntities)\r\n                entityManager.merge(entity);\r\n            for(T entity : deletedEntities)\r\n                entityManager.merge(entity);\r\n            entityManager.flush();\r\n            transaction.commit();\r\n        } catch(Exception e) {\r\n            updatedEntities.addAll(processedEntities);\r\n            addedEntities.removeAll(processedEntities);\r\n    \r\n            if(transaction.isActive())\r\n                transaction.rollback();\r\n            throw e;\r\n        }\r\n        addedEntities.clear();\r\n        updatedEntities.clear();\r\n        deletedEntities.clear();\r\n    }","title":"How to detach an entity from an EntityManager","body":"<p>Converting an comment to an answer:</p>\n\n<p>According to <a href=\"https://www.logicbig.com/tutorials/java-ee-tutorial/jpa/detaching.html\" rel=\"nofollow noreferrer\">this guide</a>, you need to <code>flush()</code> before detaching the entity</p>\n\n<p>Update code from OP:</p>\n\n<pre><code>public void save() throws Exception {\n    List&lt;T&gt; processedEntities = new ArrayList&lt;T&gt;();\n    EntityManager entityManager = getEntityManager();\n    EntityTransaction transaction = entityManager.getTransaction(); \n    transaction.begin();\n    try {\n        for(T entity : addedEntities) {\n            entityManager.persist(entity);\n            processedEntities.add(entity);\n        }\n        for(T entity : updatedEntities)\n            entityManager.merge(entity);\n        for(T entity : deletedEntities)\n            entityManager.merge(entity);\n        entityManager.flush();\n        transaction.commit();\n    } catch(Exception e) {\n        updatedEntities.addAll(processedEntities);\n        addedEntities.removeAll(processedEntities);\n\n        if(transaction.isActive())\n            transaction.rollback();\n        throw e;\n    }\n    addedEntities.clear();\n    updatedEntities.clear();\n    deletedEntities.clear();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649704371,"creation_date":1649704371,"answer_id":71833129,"question_id":51842232,"body_markdown":" - **CAUTION**\r\n\r\nDefinitely the usage of `merge` as stand alone for updating is not suffice i.e.\r\n\r\n    for(T entity : updatedEntities)\r\n            entityManager.merge(entity);\r\n\r\nThe merge is going to copy the detached entity state (source) to a managed entity instance (destination) thus for updating entities from datasource you need to first bring them to managed state first then detach and mute the de attache entity as you wish then call the `merge` to bring it again to managed state to synchronization with `flush` or `commit`\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThus the proper code for updating will be like this\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n        public &lt;T&gt; BehindCacheDirector&lt;R, V&gt; update(Class&lt;?&gt; type, T t, Long v) {\r\n                entityManager.detach(entityManager.find(type, v));\r\n                entityManager.merge(t);\r\n        ...        \r\n        }\r\n\r\n\r\nAll most Same story holds for delete, you need to bring the entity that you wish to delete to managed state then change it state to remove state then calling syntonization commands, i.e.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n        public BehindCacheBuilder&lt;R, V&gt; remove(Class&lt;?&gt; type, Object object) {\r\n            entityManager.remove(entityManager.find(type, object));\r\n        ...\r\n        }\r\n\r\n\r\n \r\nFind more in [here][2].\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/do0pe.png\r\n  [2]: https://stackoverflow.com/a/60661154/15758781","title":"How to detach an entity from an EntityManager","body":"<ul>\n<li><strong>CAUTION</strong></li>\n</ul>\n<p>Definitely the usage of <code>merge</code> as stand alone for updating is not suffice i.e.</p>\n<pre><code>for(T entity : updatedEntities)\n        entityManager.merge(entity);\n</code></pre>\n<p>The merge is going to copy the detached entity state (source) to a managed entity instance (destination) thus for updating entities from datasource you need to first bring them to managed state first then detach and mute the de attache entity as you wish then call the <code>merge</code> to bring it again to managed state to synchronization with <code>flush</code> or <code>commit</code></p>\n<p><a href=\"https://i.stack.imgur.com/do0pe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/do0pe.png\" alt=\"enter image description here\" /></a></p>\n<p>Thus the proper code for updating will be like this</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>    public &lt;T&gt; BehindCacheDirector&lt;R, V&gt; update(Class&lt;?&gt; type, T t, Long v) {\n            entityManager.detach(entityManager.find(type, v));\n            entityManager.merge(t);\n    ...        \n    }\n</code></pre>\n<p>All most Same story holds for delete, you need to bring the entity that you wish to delete to managed state then change it state to remove state then calling syntonization commands, i.e.</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>    public BehindCacheBuilder&lt;R, V&gt; remove(Class&lt;?&gt; type, Object object) {\n        entityManager.remove(entityManager.find(type, object));\n    ...\n    }\n</code></pre>\n<p>Find more in <a href=\"https://stackoverflow.com/a/60661154/15758781\">here</a>.</p>\n"}],"owner":{"account_id":175159,"reputation":1823,"user_id":404981,"accept_rate":85,"display_name":"AlexSC"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3340,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":51857373,"answer_count":3,"score":1,"last_activity_date":1649704371,"creation_date":1534251987,"question_id":51842232,"body_markdown":"&lt;h1&gt;My environment&lt;/h1&gt;\r\nJava 7/JPA 2/Hibernate 5.1.\r\n\r\n&lt;h1&gt;My Scenario&lt;/h1&gt;\r\nI&#39;m building a Repository pattern implementation. All code is written and it all works fine when no error condition happens.\r\n\r\nHowever, let&#39;s say that three entity instances are added to the repository. First and third are ok, but second lacks value for a mandatory (not null) column. A DB error will be returned when the repository is saved.\r\n\r\nWhen facing this condition a batch process should just write a log message somewhere, skip the invalid object and continue to the others. In order to do that, this invalid entity should only be removed from the repository, what means to detach it from the underlying EntityManager this repository uses.\r\n\r\n&lt;h1&gt;My problem&lt;/h1&gt;\r\nThe `repository.exclude(entity)` method call (that internally detaches the entity from the EntityManager) seems to not be working and a second attempt to save the repository fails again.\r\n\r\n&lt;h1&gt;My (partial) AbstractRepository class&lt;/h1&gt;\r\n    public abstract class AbstractRepository&lt;T&gt; {\r\n    \tprivate static Map&lt;String,EntityManagerFactory&gt; entityManagerFactories = new HashMap&lt;String,EntityManagerFactory&gt;();\r\n    \tprivate static Map&lt;EntityManagerFactory,EntityManager&gt; entityManagers = new HashMap&lt;EntityManagerFactory,EntityManager&gt;();\r\n    \tprivate EntityManager entityManager;\r\n    \tprivate List&lt;T&gt; addedEntities = new ArrayList&lt;T&gt;();\r\n    \tprivate List&lt;T&gt; deletedEntities = new ArrayList&lt;T&gt;();\r\n    \tprivate List&lt;T&gt; updatedEntities = new ArrayList&lt;T&gt;();\r\n    \t\r\n    \tprotected Class&lt;T&gt; entityClass = getEntityClass();\r\n    \r\n        // Many other declarations\r\n\r\n    \tprotected EntityManager createEntityManager() throws Exception {\r\n    \t\tString persistenceUnitName = getPersistenceUnitName(); // using Reflection\r\n\t    \tEntityManagerFactory entityManagerFactory = getEntityManagerFactory(persistenceUnitName);\r\n    \t\tEntityManager entityManager = entityManagerFactory.createEntityManager();\r\n    \t\treturn entityManager;\r\n    \t}\r\n\r\n    \tpublic T add(T entity) {\r\n\t    \taddedEntities.add(entity);\r\n\t\t    return entity;\r\n    \t}\r\n\r\n    \tpublic void save() throws Exception {\r\n\t    \tEntityManager entityManager = getEntityManager();\r\n\t\t    EntityTransaction transaction = entityManager.getTransaction(); \r\n\t\t    transaction.begin();\r\n\t\t    try {\r\n\t\t\t    for(T entity : addedEntities)\r\n\t\t\t\t    entityManager.persist(entity);\r\n\t\t\t    for(T entity : updatedEntities)\r\n\t\t\t\t    entityManager.merge(entity);\r\n\t\t\t    for(T entity : deletedEntities)\r\n\t\t\t\t    entityManager.remove(entity);\r\n\t\t\t    transaction.commit();\r\n\t\t    } catch(Exception e) {\r\n\t\t\t    if(transaction.isActive())\r\n\t\t\t\t    transaction.rollback();\r\n\t\t\t    throw e;\r\n\t\t    }\r\n\t\t    addedEntities.clear();\r\n\t\t    updatedEntities.clear();\r\n\t\t    deletedEntities.clear();\r\n\t    }\r\n\r\n        public T exclude(T entity) throws Exception {\r\n        \tif(entity == null)\r\n    \t    \treturn null;\r\n    \t    addedEntities.remove(entity);\r\n    \t    deletedEntities.remove(entity);\r\n    \t    updatedEntities.remove(entity);\r\n    \t    getEntityManager().detach(entity);\r\n    \t    return entity;\r\n        }\r\n\r\n    \tpublic EntityManager getEntityManager() throws Exception {\r\n\t    \tif(entityManager == null)\r\n\t\t    \tentityManager = createEntityManager();\r\n\t\t    return entityManager;\r\n\t    }\r\n    }\r\n\r\n&lt;h1&gt;My Repository declaration&lt;/h1&gt;\r\n\r\n    @PersistenceUnit(unitName = &quot;my-ds&quot;)\r\n    public class MestreRepository extends AbstractRepository&lt;Mestre, Long&gt; {\r\n    \tpublic List&lt;Mestre&gt; all() throws Exception {\r\n    \t\tList&lt;Mestre&gt; result = getEntityManager().createQuery(&quot;from Mestre&quot;, Mestre.class).getResultList();\r\n    \t\treturn result;\r\n    \t}\r\n    }\r\n\r\n&lt;h1&gt;My test code&lt;/h1&gt;\r\n\r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tMestreRepository allMestres = new MestreRepository();\r\n    \t\t\r\n    \t\tMestre mestre1 = new Mestre();\r\n    \t\tmestre1.setNome(&quot;Mestre 1&quot;);\r\n    \t\tMestre mestre2 = new Mestre(); // This one lacks Nome and will fail to be saved\r\n    \t\tMestre mestre3 = new Mestre();\r\n    \t\tmestre3.setNome(&quot;Mestre 3&quot;);\r\n    \t\t\r\n    \t\tallMestres.add(mestre1);\r\n    \t\tallMestres.add(mestre2);\r\n    \t\tallMestres.add(mestre3);\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Saving 3 mestres&quot;);\r\n    \t\ttry {\r\n    \t\t\tallMestres.save();\r\n    \t\t\tSystem.out.println(&quot;All 3 mestres saved&quot;); // never happens!\r\n    \t\t} catch(Exception e) {\r\n    \t\t\tSystem.out.println(&quot;Error when salving 3 mestres&quot;);\r\n    \t\t\ttry {\r\n    \t\t\t\tSystem.out.println(&quot;Excluding mestre 2&quot;);\r\n    \t\t\t\tallMestres.exclude(mestre2);\r\n    \t\t\t\tSystem.out.println(&quot;Salving other 2 mestres&quot;);\r\n    \t\t\t\tallMestres.save();\r\n    \t\t\t\tSystem.out.println(&quot;All 2 mestres salved&quot;); // never happens!\r\n    \t\t\t} catch(Exception e2) {\r\n    \t\t\t\tSystem.out.println(&quot;Still having errors&quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\tallMestres.close();\r\n    \t}\r\n    }\r\n\r\n&lt;h1&gt;My persistence.xml&lt;/h1&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;persistence version=&quot;2.1&quot;\r\n    \txmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\r\n       \t&lt;persistence-unit name=&quot;my-ds&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n    \t\t&lt;class&gt;domain.Mestre&lt;/class&gt;\r\n    \t\t&lt;class&gt;domain.Detalhe&lt;/class&gt;\r\n    \t\t\r\n            &lt;exclude-unlisted-classes&gt;true&lt;/exclude-unlisted-classes&gt;\r\n    \t\t&lt;properties&gt;\r\n    \t\t\t&lt;!-- Hibernate properties --&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.connection.driver_class&quot; value=&quot;oracle.jdbc.OracleDriver&quot;/&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.connection.url&quot; value=&quot;xxx&quot;/&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.connection.username&quot; value=&quot;yyy&quot;/&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.connection.password&quot; value=&quot;***&quot;/&gt;\r\n    \t        &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.Oracle10gDialect&quot;/&gt;\r\n    \t        &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;\r\n    \t        &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot;/&gt;\r\n    \t        &lt;property name=&quot;hibernate.use_sql_comments&quot; value=&quot;true&quot;/&gt;\r\n    \t\t&lt;/properties&gt;\r\n    \t&lt;/persistence-unit&gt;\r\n     &lt;/persistence&gt;\r\n\r\n&lt;h1&gt;The save() method updated&lt;/h1&gt;\r\nHere is a new version of the `save()` method that makes things work. It was needed to call `flush()` before `commit()` and no more `persist()` for those entities that did not create any problem, but `merge()` them, since they already have an Id.\r\n\r\n\tpublic void save() throws Exception {\r\n\t\tList&lt;T&gt; processedEntities = new ArrayList&lt;T&gt;();\r\n\t\tEntityManager entityManager = getEntityManager();\r\n\t\tEntityTransaction transaction = entityManager.getTransaction(); \r\n\t\ttransaction.begin();\r\n\t\ttry {\r\n\t\t\tfor(T entity : addedEntities) {\r\n\t\t\t\tentityManager.persist(entity);\r\n\t\t\t\tprocessedEntities.add(entity);\r\n\t\t\t}\r\n\t\t\tfor(T entity : updatedEntities)\r\n\t\t\t\tentityManager.merge(entity);\r\n\t\t\tfor(T entity : deletedEntities)\r\n\t\t\t\tentityManager.merge(entity);\r\n\t\t\tentityManager.flush();\r\n\t\t\ttransaction.commit();\r\n\t\t} catch(Exception e) {\r\n\t\t\tupdatedEntities.addAll(processedEntities);\r\n\t\t\taddedEntities.removeAll(processedEntities);\r\n\t\t\t\r\n\t\t\tif(transaction.isActive())\r\n\t\t\t\ttransaction.rollback();\r\n\t\t\tthrow e;\r\n\t\t}\r\n\t\taddedEntities.clear();\r\n\t\tupdatedEntities.clear();\r\n\t\tdeletedEntities.clear();\r\n\t}\r\n","title":"How to detach an entity from an EntityManager","body":"<h1>My environment</h1>\n\n<p>Java 7/JPA 2/Hibernate 5.1.</p>\n\n<h1>My Scenario</h1>\n\n<p>I'm building a Repository pattern implementation. All code is written and it all works fine when no error condition happens.</p>\n\n<p>However, let's say that three entity instances are added to the repository. First and third are ok, but second lacks value for a mandatory (not null) column. A DB error will be returned when the repository is saved.</p>\n\n<p>When facing this condition a batch process should just write a log message somewhere, skip the invalid object and continue to the others. In order to do that, this invalid entity should only be removed from the repository, what means to detach it from the underlying EntityManager this repository uses.</p>\n\n<h1>My problem</h1>\n\n<p>The <code>repository.exclude(entity)</code> method call (that internally detaches the entity from the EntityManager) seems to not be working and a second attempt to save the repository fails again.</p>\n\n<h1>My (partial) AbstractRepository class</h1>\n\n<pre><code>public abstract class AbstractRepository&lt;T&gt; {\n    private static Map&lt;String,EntityManagerFactory&gt; entityManagerFactories = new HashMap&lt;String,EntityManagerFactory&gt;();\n    private static Map&lt;EntityManagerFactory,EntityManager&gt; entityManagers = new HashMap&lt;EntityManagerFactory,EntityManager&gt;();\n    private EntityManager entityManager;\n    private List&lt;T&gt; addedEntities = new ArrayList&lt;T&gt;();\n    private List&lt;T&gt; deletedEntities = new ArrayList&lt;T&gt;();\n    private List&lt;T&gt; updatedEntities = new ArrayList&lt;T&gt;();\n\n    protected Class&lt;T&gt; entityClass = getEntityClass();\n\n    // Many other declarations\n\n    protected EntityManager createEntityManager() throws Exception {\n        String persistenceUnitName = getPersistenceUnitName(); // using Reflection\n        EntityManagerFactory entityManagerFactory = getEntityManagerFactory(persistenceUnitName);\n        EntityManager entityManager = entityManagerFactory.createEntityManager();\n        return entityManager;\n    }\n\n    public T add(T entity) {\n        addedEntities.add(entity);\n        return entity;\n    }\n\n    public void save() throws Exception {\n        EntityManager entityManager = getEntityManager();\n        EntityTransaction transaction = entityManager.getTransaction(); \n        transaction.begin();\n        try {\n            for(T entity : addedEntities)\n                entityManager.persist(entity);\n            for(T entity : updatedEntities)\n                entityManager.merge(entity);\n            for(T entity : deletedEntities)\n                entityManager.remove(entity);\n            transaction.commit();\n        } catch(Exception e) {\n            if(transaction.isActive())\n                transaction.rollback();\n            throw e;\n        }\n        addedEntities.clear();\n        updatedEntities.clear();\n        deletedEntities.clear();\n    }\n\n    public T exclude(T entity) throws Exception {\n        if(entity == null)\n            return null;\n        addedEntities.remove(entity);\n        deletedEntities.remove(entity);\n        updatedEntities.remove(entity);\n        getEntityManager().detach(entity);\n        return entity;\n    }\n\n    public EntityManager getEntityManager() throws Exception {\n        if(entityManager == null)\n            entityManager = createEntityManager();\n        return entityManager;\n    }\n}\n</code></pre>\n\n<h1>My Repository declaration</h1>\n\n<pre><code>@PersistenceUnit(unitName = \"my-ds\")\npublic class MestreRepository extends AbstractRepository&lt;Mestre, Long&gt; {\n    public List&lt;Mestre&gt; all() throws Exception {\n        List&lt;Mestre&gt; result = getEntityManager().createQuery(\"from Mestre\", Mestre.class).getResultList();\n        return result;\n    }\n}\n</code></pre>\n\n<h1>My test code</h1>\n\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        MestreRepository allMestres = new MestreRepository();\n\n        Mestre mestre1 = new Mestre();\n        mestre1.setNome(\"Mestre 1\");\n        Mestre mestre2 = new Mestre(); // This one lacks Nome and will fail to be saved\n        Mestre mestre3 = new Mestre();\n        mestre3.setNome(\"Mestre 3\");\n\n        allMestres.add(mestre1);\n        allMestres.add(mestre2);\n        allMestres.add(mestre3);\n\n        System.out.println(\"Saving 3 mestres\");\n        try {\n            allMestres.save();\n            System.out.println(\"All 3 mestres saved\"); // never happens!\n        } catch(Exception e) {\n            System.out.println(\"Error when salving 3 mestres\");\n            try {\n                System.out.println(\"Excluding mestre 2\");\n                allMestres.exclude(mestre2);\n                System.out.println(\"Salving other 2 mestres\");\n                allMestres.save();\n                System.out.println(\"All 2 mestres salved\"); // never happens!\n            } catch(Exception e2) {\n                System.out.println(\"Still having errors\");\n            }\n        }\n\n        allMestres.close();\n    }\n}\n</code></pre>\n\n<h1>My persistence.xml</h1>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;persistence version=\"2.1\"\n    xmlns=\"http://xmlns.jcp.org/xml/ns/persistence\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd\"&gt;\n    &lt;persistence-unit name=\"my-ds\" transaction-type=\"RESOURCE_LOCAL\"&gt;\n        &lt;class&gt;domain.Mestre&lt;/class&gt;\n        &lt;class&gt;domain.Detalhe&lt;/class&gt;\n\n        &lt;exclude-unlisted-classes&gt;true&lt;/exclude-unlisted-classes&gt;\n        &lt;properties&gt;\n            &lt;!-- Hibernate properties --&gt;\n            &lt;property name=\"hibernate.connection.driver_class\" value=\"oracle.jdbc.OracleDriver\"/&gt;\n            &lt;property name=\"hibernate.connection.url\" value=\"xxx\"/&gt;\n            &lt;property name=\"hibernate.connection.username\" value=\"yyy\"/&gt;\n            &lt;property name=\"hibernate.connection.password\" value=\"***\"/&gt;\n            &lt;property name=\"hibernate.dialect\" value=\"org.hibernate.dialect.Oracle10gDialect\"/&gt;\n            &lt;property name=\"hibernate.show_sql\" value=\"true\"/&gt;\n            &lt;property name=\"hibernate.format_sql\" value=\"true\"/&gt;\n            &lt;property name=\"hibernate.use_sql_comments\" value=\"true\"/&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n &lt;/persistence&gt;\n</code></pre>\n\n<h1>The save() method updated</h1>\n\n<p>Here is a new version of the <code>save()</code> method that makes things work. It was needed to call <code>flush()</code> before <code>commit()</code> and no more <code>persist()</code> for those entities that did not create any problem, but <code>merge()</code> them, since they already have an Id.</p>\n\n<pre><code>public void save() throws Exception {\n    List&lt;T&gt; processedEntities = new ArrayList&lt;T&gt;();\n    EntityManager entityManager = getEntityManager();\n    EntityTransaction transaction = entityManager.getTransaction(); \n    transaction.begin();\n    try {\n        for(T entity : addedEntities) {\n            entityManager.persist(entity);\n            processedEntities.add(entity);\n        }\n        for(T entity : updatedEntities)\n            entityManager.merge(entity);\n        for(T entity : deletedEntities)\n            entityManager.merge(entity);\n        entityManager.flush();\n        transaction.commit();\n    } catch(Exception e) {\n        updatedEntities.addAll(processedEntities);\n        addedEntities.removeAll(processedEntities);\n\n        if(transaction.isActive())\n            transaction.rollback();\n        throw e;\n    }\n    addedEntities.clear();\n    updatedEntities.clear();\n    deletedEntities.clear();\n}\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","prototype","javabeans"],"comments":[{"owner":{"account_id":114756,"reputation":57127,"user_id":301607,"accept_rate":100,"display_name":"StanislavL"},"score":0,"creation_date":1497452430,"post_id":44548234,"comment_id":76087263,"body_markdown":"How do you create the beans? Show the relevant code.","body":"How do you create the beans? Show the relevant code."},{"owner":{"account_id":5396455,"reputation":5608,"user_id":4297539,"accept_rate":69,"display_name":"Siberia"},"score":0,"creation_date":1497453290,"post_id":44548234,"comment_id":76087884,"body_markdown":"Is it makes some difference and needed for something? For which purpose?","body":"Is it makes some difference and needed for something? For which purpose?"},{"owner":{"account_id":3708341,"reputation":4302,"user_id":3086289,"accept_rate":100,"display_name":"Sangam Belose"},"score":0,"creation_date":1497509902,"post_id":44548234,"comment_id":76110470,"body_markdown":"@KirillCh Please show the code how you are creating the prototype bean.","body":"@KirillCh Please show the code how you are creating the prototype bean."},{"owner":{"account_id":2443099,"reputation":9128,"user_id":2131074,"accept_rate":75,"display_name":"GPI"},"score":1,"creation_date":1497516365,"post_id":44548234,"comment_id":76114585,"body_markdown":"I have no authoritative source on this, but I&#39;m pretty sure the point of Spring&#39;s container is to manage the beans lifecycle. So you shouldn&#39;t have to do anything to have your prototypes cleaned. However, Spring can not know if those beans, in their implementation, spin up additionnal stuff that is not container managed (e.g. open a file, a network socket, take a lock, connect to a cache...), and the warning is there to tell you : you have to clean that stuff up. That&#39;s why spring also has clean up callbacks (destroy-methods / DisposableBean).","body":"I have no authoritative source on this, but I&#39;m pretty sure the point of Spring&#39;s container is to manage the beans lifecycle. So you shouldn&#39;t have to do anything to have your prototypes cleaned. However, Spring can not know if those beans, in their implementation, spin up additionnal stuff that is not container managed (e.g. open a file, a network socket, take a lock, connect to a cache...), and the warning is there to tell you : you have to clean that stuff up. That&#39;s why spring also has clean up callbacks (destroy-methods / DisposableBean)."},{"owner":{"account_id":1100048,"reputation":1008,"user_id":1092670,"accept_rate":93,"display_name":"AnthonyJClink"},"score":1,"creation_date":1497720617,"post_id":44548234,"comment_id":76201773,"body_markdown":"@GPI says it best when he says Container managed vs App managed","body":"@GPI says it best when he says Container managed vs App managed"}],"answers":[{"tags":[],"owner":{"account_id":1100048,"reputation":1008,"user_id":1092670,"accept_rate":93,"display_name":"AnthonyJClink"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1497720260,"creation_date":1497720260,"answer_id":44607403,"question_id":44548234,"body_markdown":"Once you create a prototype bean; you are responsible for its lifecycle.\r\n\r\nOnce you have no reference to that bean it is gone. The only real differences between a prototype bean and a scoped bean is how it is managed by the container.\r\n\r\nIn a unit test you would not rely on the container to give you these beans you would simply new them yourself.\r\n\r\nSo to really answer your question, if you allow the prototype object to be dereferenced by your application, the jvm&#39;s default behavior will eliminate these beans.\r\n\r\n     public class Example {\r\n   \r\n        @Scope(&quot;prototype&quot;)\r\n        public static class SomePrototypeBean{\r\n\r\n        }\r\n\r\n        @Singleton\r\n        public static class MySingleton{\r\n     \r\n            @Bean\r\n            private SomePrototypeBean somePrototypeBean;\r\n\r\n        }\r\n\r\n        public static void main(String[] args){\r\n           // context creation code goes here\r\n\r\n           // singleton is created, a prototype injected\r\n           context.getBean(MySingleton.class);\r\n           // NOTE: the prototype injected will last for as long as MySingleton has reference\r\n           // my singleton will exist for as long as the context has reference\r\n\r\n           doStuff(context);\r\n           //prototype bean created in the method above will be GCed\r\n        }\r\n\r\n        public static void doStuff(Context context){\r\n            context.getBean(MyPrototypeBean.class);\r\n            //since we literally are doing nothing with this bean, it will be \r\n            // marked for garbage collection\r\n        }\r\n\r\n    }  \r\n","title":"Clarify a situation with a cleaning Spring Prototype-beans from memory","body":"<p>Once you create a prototype bean; you are responsible for its lifecycle.</p>\n\n<p>Once you have no reference to that bean it is gone. The only real differences between a prototype bean and a scoped bean is how it is managed by the container.</p>\n\n<p>In a unit test you would not rely on the container to give you these beans you would simply new them yourself.</p>\n\n<p>So to really answer your question, if you allow the prototype object to be dereferenced by your application, the jvm's default behavior will eliminate these beans.</p>\n\n<pre><code> public class Example {\n\n    @Scope(\"prototype\")\n    public static class SomePrototypeBean{\n\n    }\n\n    @Singleton\n    public static class MySingleton{\n\n        @Bean\n        private SomePrototypeBean somePrototypeBean;\n\n    }\n\n    public static void main(String[] args){\n       // context creation code goes here\n\n       // singleton is created, a prototype injected\n       context.getBean(MySingleton.class);\n       // NOTE: the prototype injected will last for as long as MySingleton has reference\n       // my singleton will exist for as long as the context has reference\n\n       doStuff(context);\n       //prototype bean created in the method above will be GCed\n    }\n\n    public static void doStuff(Context context){\n        context.getBean(MyPrototypeBean.class);\n        //since we literally are doing nothing with this bean, it will be \n        // marked for garbage collection\n    }\n\n}  \n</code></pre>\n"}],"owner":{"account_id":5396455,"reputation":5608,"user_id":4297539,"accept_rate":69,"display_name":"Siberia"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2504,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":44607403,"answer_count":1,"score":7,"last_activity_date":1649704241,"creation_date":1497452146,"question_id":44548234,"body_markdown":"I would like to understand whether I should **clean prototype-beans from memory manually** by myself.\r\n\r\nIn the Spring documentation you can see:\r\n*&quot;The client code must clean up prototype-scoped objects and release expensive resources that the prototype bean(s) are holding.&quot;*\r\n\r\nSo from this it seems that you should clean prototype-beans by yourself.\r\n\r\n**However.**  \r\n\r\nI&#39;m using VisualVM **memory profiler**.\r\nI have created a number of prototype-beans. You can see **51** instances of them.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThen you can see the situation when the **garbage collector** clean the memory - **all prototype-beans were cleared**.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nSo can anyone clarify the situation? Are prototype-beans cleared successfully by garbage collector or we should clear them manually (if yes, how)?\r\n\r\n**************************\r\n**Addition.**\r\nSome guys asked to show the code of creating the prototype-beans. Actually I don&#39;t see any sense in this because in the particular example I am creating them only as a test and this don&#39;t concern the actual situation with cleaning prototype-beans from memory. Developers can create prototype-beans by different ways but the future behaviour of them doesn&#39;t or shouldn&#39;t depend on a creation method. \r\n\r\nIn our **real project** where we have more than 400 components annotated as Prototype-beans I can see the same behavior. I have made a number of requests to our system, see a number of created prototype beans through VisualVM, then after garbage collector clean the memory all prototype beans become cleared.\r\n\r\nI show the testing code just in the hope that those who asked about this will give some senseful information about the real behavior **not just empty words** about this particular test bean creation.\r\n\r\n**Test creating** of the prototype-beans for the example:\r\n\r\n    for(int i=0;i&lt;10;i++){\r\n            Prototype1 prototype1=applicationContext.getBean(Prototype1.class);\r\n            Prototype2 prototype2=applicationContext.getBean(Prototype2.class);\r\n    \r\n            prototype1.test1();\r\n            prototype2.test2();\r\n    }\r\n\r\n**Test example** of the prototype-bean:\r\n\r\n    @Service\r\n    @Scope(BeanDefinition.SCOPE_PROTOTYPE)\r\n    public class Prototype1 {\r\n    \r\n        private int number;\r\n    \r\n        public Prototype1() {\r\n            System.out.println(&quot;Prototype1 was created.&quot;);\r\n        }\r\n    \r\n        public void test1(){\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/49t5t.jpg\r\n  [2]: https://i.stack.imgur.com/rNP3Y.jpg","title":"Clarify a situation with a cleaning Spring Prototype-beans from memory","body":"<p>I would like to understand whether I should <strong>clean prototype-beans from memory manually</strong> by myself.</p>\n<p>In the Spring documentation you can see:\n<em>&quot;The client code must clean up prototype-scoped objects and release expensive resources that the prototype bean(s) are holding.&quot;</em></p>\n<p>So from this it seems that you should clean prototype-beans by yourself.</p>\n<p><strong>However.</strong></p>\n<p>I'm using VisualVM <strong>memory profiler</strong>.\nI have created a number of prototype-beans. You can see <strong>51</strong> instances of them.</p>\n<p><a href=\"https://i.stack.imgur.com/49t5t.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/49t5t.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Then you can see the situation when the <strong>garbage collector</strong> clean the memory - <strong>all prototype-beans were cleared</strong>.</p>\n<p><a href=\"https://i.stack.imgur.com/rNP3Y.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rNP3Y.jpg\" alt=\"enter image description here\" /></a></p>\n<p>So can anyone clarify the situation? Are prototype-beans cleared successfully by garbage collector or we should clear them manually (if yes, how)?</p>\n<hr />\n<p><strong>Addition.</strong>\nSome guys asked to show the code of creating the prototype-beans. Actually I don't see any sense in this because in the particular example I am creating them only as a test and this don't concern the actual situation with cleaning prototype-beans from memory. Developers can create prototype-beans by different ways but the future behaviour of them doesn't or shouldn't depend on a creation method.</p>\n<p>In our <strong>real project</strong> where we have more than 400 components annotated as Prototype-beans I can see the same behavior. I have made a number of requests to our system, see a number of created prototype beans through VisualVM, then after garbage collector clean the memory all prototype beans become cleared.</p>\n<p>I show the testing code just in the hope that those who asked about this will give some senseful information about the real behavior <strong>not just empty words</strong> about this particular test bean creation.</p>\n<p><strong>Test creating</strong> of the prototype-beans for the example:</p>\n<pre><code>for(int i=0;i&lt;10;i++){\n        Prototype1 prototype1=applicationContext.getBean(Prototype1.class);\n        Prototype2 prototype2=applicationContext.getBean(Prototype2.class);\n\n        prototype1.test1();\n        prototype2.test2();\n}\n</code></pre>\n<p><strong>Test example</strong> of the prototype-bean:</p>\n<pre><code>@Service\n@Scope(BeanDefinition.SCOPE_PROTOTYPE)\npublic class Prototype1 {\n\n    private int number;\n\n    public Prototype1() {\n        System.out.println(&quot;Prototype1 was created.&quot;);\n    }\n\n    public void test1(){\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","javafx","3d"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1649705038,"post_id":71833101,"comment_id":126939269,"body_markdown":"JavaFX 3D supports neither of those features.","body":"JavaFX 3D supports neither of those features."},{"owner":{"account_id":24117033,"reputation":41,"user_id":18086772,"display_name":"knstnce"},"score":0,"creation_date":1649705288,"post_id":71833101,"comment_id":126939351,"body_markdown":"@jewelsea sorry if that was unclear but I am not using JavaFX3D. I am using JavaFX, in 3D. I need my second picture to achieve the same effect as in the first picture, so JavaFX does have this feature since I did it in the first picture right ?","body":"@jewelsea sorry if that was unclear but I am not using JavaFX3D. I am using JavaFX, in 3D. I need my second picture to achieve the same effect as in the first picture, so JavaFX does have this feature since I did it in the first picture right ?"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1649706579,"post_id":71833101,"comment_id":126939807,"body_markdown":"Yes, I understand the library you are using, I mean the [same library](https://docs.oracle.com/javafx/8/3d_graphics/jfxpub-3d_graphics.htm).  Even if you were able to get something that appeared right once, I don&#39;t believe that correct 3D transparency and shadow support are in the feature set for 3D in JavaFX.  You can see a related open feature request for transparency support [JDK-8170852 Order-independent transparency for 3D objects](https://bugs.openjdk.java.net/browse/JDK-8170852).","body":"Yes, I understand the library you are using, I mean the <a href=\"https://docs.oracle.com/javafx/8/3d_graphics/jfxpub-3d_graphics.htm\" rel=\"nofollow noreferrer\">same library</a>.  Even if you were able to get something that appeared right once, I don&#39;t believe that correct 3D transparency and shadow support are in the feature set for 3D in JavaFX.  You can see a related open feature request for transparency support <a href=\"https://bugs.openjdk.java.net/browse/JDK-8170852\" rel=\"nofollow noreferrer\">JDK-8170852 Order-independent transparency for 3D objects</a>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1649706904,"post_id":71833101,"comment_id":126939919,"body_markdown":"For 3D shadow support, I don&#39;t know if there is a feature request. Even if created, [it would probably not be implemented in the core 3D features of the JavaFX library](https://gamedev.stackexchange.com/questions/64517/what-is-required-for-casting-shadows-in-javafx-8-3d).","body":"For 3D shadow support, I don&#39;t know if there is a feature request. Even if created, <a href=\"https://gamedev.stackexchange.com/questions/64517/what-is-required-for-casting-shadows-in-javafx-8-3d\">it would probably not be implemented in the core 3D features of the JavaFX library</a>."}],"owner":{"account_id":24117033,"reputation":41,"user_id":18086772,"display_name":"knstnce"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649704208,"creation_date":1649704208,"question_id":71833101,"body_markdown":"I am creating an app which needs to graph a plane (I am using Rectangle) and points (I used Spheres). I tested it out in a separate project (pic 1), and as you can see, there is a shadow/transparency effect on the spheres since the graph goes through them. When I try to implement the same functions with the exact same numbers in my actual application, I get the second picture. There is no &quot;shadow&quot; anymore even though I am sure the rectangle goes through the points. What would be the cause of this issue and how can I fix it ?\r\n\r\nWhat I have tried and does not work : \r\n\r\n - Add the Rectangle first, then the points and vice-versa\r\n- Change the opacity of the Rectangle (it is set to 0.5 in both)\r\n- Remove the AmbientLight\r\n\r\n[![Pic 1][2]][2]\r\n[![Pic 2][1]][1]\r\n    \r\nHere is the code that gave me the first picture : \r\n\r\n```package truc;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.collections.FXCollections;\r\nimport javafx.collections.ObservableList;\r\nimport javafx.event.EventHandler;\r\nimport javafx.geometry.Point3D;\r\nimport javafx.scene.AmbientLight;\r\nimport javafx.scene.Node;\r\nimport javafx.scene.PerspectiveCamera;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.input.KeyEvent;\r\nimport javafx.scene.input.MouseEvent;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.paint.PhongMaterial;\r\nimport javafx.scene.shape.*;\r\nimport javafx.scene.transform.Rotate;\r\nimport javafx.scene.transform.Scale;\r\nimport javafx.stage.Stage;\r\n\r\npublic class GraphFX3D extends Application {\r\n\r\n    double mousePosX;\r\n    double mousePosY;\r\n    double mouseOldX;\r\n    double mouseOldY;\r\n    double mouseDeltaX;\r\n    double mouseDeltaY;\r\n\r\n    private static final double CAMERA_INITIAL_DISTANCE = -300;\r\n    private static final double CAMERA_INITIAL_X_ANGLE = 0;\r\n    private static final double CAMERA_INITIAL_Y_ANGLE = 0;\r\n    private static final double CAMERA_NEAR_CLIP = 0.1;\r\n    private static final double CAMERA_FAR_CLIP = 1000.0;\r\n\r\n    final Xform root = new Xform();\r\n    final Xform scalable = new Xform();\r\n\r\n    final PerspectiveCamera camera = new PerspectiveCamera(true);\r\n    final Xform cameraXform = new Xform();\r\n    final Xform cameraXform2 = new Xform();\r\n    final Xform cameraXform3 = new Xform();\r\n\r\n    Box map = bigCube();\r\n\r\n    Color white = Color.web(&quot;#E7EBEE&quot;);\r\n    Color grey = Color.web(&quot;#333234&quot;);\r\n    Color red = Color.web(&quot;#DF5C58&quot;);\r\n    Color yellow = Color.web(&quot;#F2C15F&quot;);\r\n    Color blue = Color.web(&quot;#1985A1&quot;);\r\n\r\n    ObservableList&lt;Node&gt; axisList;\r\n    ObservableList&lt;Node&gt; thingsToGraphList = FXCollections.observableArrayList();\r\n    ObservableList&lt;Node&gt; labelsList = FXCollections.observableArrayList();\r\n\r\n    @Override\r\n    public void start(Stage stage) throws Exception {\r\n\r\n        axisList = getAxis();\r\n        this.update();\r\n\r\n        Point3D p1 = new Point3D(30, 0, 0);\r\n        Point3D p2 = new Point3D(0, -40, 0);\r\n        Point3D p3 = new Point3D(0, 0, -50);\r\n\r\n\r\n        this.addPoint(p1);\r\n        this.addPoint(p2);\r\n        this.addPoint(p3);\r\n        this.addPlane(p1.getX(), p2.getY(), p3.getZ());\r\n\r\n        Scale mirror = new Scale(1, -1, -1);\r\n        scalable.getTransforms().add(mirror);\r\n\r\n        root.getChildren().add(scalable);\r\n\r\n        buildCamera();\r\n\r\n        Scene scene = new Scene(root, 800, 600, true);\r\n        scene.setFill(grey);\r\n        scene.setCamera(camera);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n\r\n        scene.setOnKeyPressed(new EventHandler&lt;KeyEvent&gt;() {\r\n            @Override\r\n            public void handle(KeyEvent event) {\r\n                switch (event.getCode()) {\r\n                    case Z:\r\n                        scalable.setScale(1);\r\n                        camera.setTranslateX(0);\r\n                        camera.setTranslateY(0);\r\n                        cameraXform2.t.setX(0.0);\r\n                        cameraXform2.t.setY(0.0);\r\n                        camera.setTranslateZ(CAMERA_INITIAL_DISTANCE);\r\n                        cameraXform.ry.setAngle(CAMERA_INITIAL_Y_ANGLE);\r\n                        cameraXform.rx.setAngle(CAMERA_INITIAL_X_ANGLE);\r\n                        break;\r\n                    case V:\r\n                        scalable.setVisible(!scalable.isVisible());\r\n                        break;\r\n                    case UP:\r\n                        cameraXform.rx.setAngle(cameraXform.rx.getAngle() - 1);\r\n                        break;\r\n                    case DOWN:\r\n                        cameraXform.rx.setAngle(cameraXform.rx.getAngle() + 1);\r\n                        break;\r\n                    case LEFT:\r\n                        cameraXform.ry.setAngle(cameraXform.ry.getAngle() + 1);\r\n                        break;\r\n                    case RIGHT:\r\n                        cameraXform.ry.setAngle(cameraXform.ry.getAngle() - 1);\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n            }\r\n        });\r\n\r\n        scene.setOnScroll((e) -&gt; {\r\n\r\n            double zoomRatio = 1;\r\n            if(e.getDeltaY() &gt; 0) {\r\n                zoomRatio = 1.05;\r\n            } else {\r\n                zoomRatio = 0.95;\r\n            }\r\n\r\n            double scale = scalable.getScale() * zoomRatio;\r\n            scalable.setScale(scale);\r\n        });\r\n\r\n        scene.setOnMousePressed(new EventHandler&lt;MouseEvent&gt;() {\r\n            @Override public void handle(MouseEvent me) {\r\n                mousePosX = me.getSceneX();\r\n                mousePosY = me.getSceneY();\r\n                mouseOldX = me.getSceneX();\r\n                mouseOldY = me.getSceneY();\r\n            }\r\n        });\r\n\r\n        scene.setOnMouseDragged(new EventHandler&lt;MouseEvent&gt;() {\r\n            @Override public void handle(MouseEvent me) {\r\n                mouseOldX = mousePosX;\r\n                mouseOldY = mousePosY;\r\n                mousePosX = me.getSceneX();\r\n                mousePosY = me.getSceneY();\r\n                mouseDeltaX = (mousePosX - mouseOldX);\r\n                mouseDeltaY = (mousePosY - mouseOldY);\r\n\r\n                if (me.isControlDown()) {}\r\n                if (me.isShiftDown()) {}\r\n\r\n                if (me.isPrimaryButtonDown() &amp;&amp; me.isSecondaryButtonDown()) {\r\n                    camera.setTranslateX(camera.getTranslateX() + mouseDeltaX);\r\n                    camera.setTranslateY(camera.getTranslateY() + mouseDeltaY);\r\n                }\r\n                else if (me.isPrimaryButtonDown()) {\r\n                    cameraXform.ry.setAngle(cameraXform.ry.getAngle() + mouseDeltaX);\r\n                    cameraXform.rx.setAngle(cameraXform.rx.getAngle() - mouseDeltaY);\r\n                }\r\n                else if (me.isSecondaryButtonDown()) {\r\n                    double z = camera.getTranslateZ();\r\n                    double newZ = z + mouseDeltaX;\r\n                    camera.setTranslateZ(newZ);\r\n                }\r\n                else if (me.isMiddleButtonDown()) {\r\n                    cameraXform2.t.setX(cameraXform2.t.getX() + mouseDeltaX);\r\n                    cameraXform2.t.setY(cameraXform2.t.getY() + mouseDeltaY);\r\n                }\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    public Box bigCube() {\r\n        map = new Box(400, 400, 400);\r\n        map.setMaterial(new PhongMaterial(Color.TRANSPARENT));\r\n        return map;\r\n    }\r\n\r\n    private ObservableList&lt;Node&gt; getAxis() {\r\n\r\n        ObservableList&lt;Node&gt; axisList = FXCollections.observableArrayList();\r\n\r\n        Cylinder xAxis = new Cylinder(1.5, 3000);\r\n        xAxis.setMaterial(new PhongMaterial(Color.RED));\r\n        xAxis.getTransforms().add(new Rotate(90, 0, 0, 0, new Point3D(0, 0, 1)));\r\n        Cylinder yAxis = new Cylinder(1.5, 3000);\r\n        yAxis.setMaterial(new PhongMaterial(Color.GREEN));\r\n        yAxis.getTransforms().add(new Rotate(90, 0, 0, 0, new Point3D(0, 1, 0)));\r\n        Cylinder zAxis = new Cylinder(1.5, 3000);\r\n        zAxis.setMaterial(new PhongMaterial(Color.BLUE));\r\n        zAxis.getTransforms().add(new Rotate(90, 0, 0, 0, new Point3D(1, 0, 0)));\r\n\r\n\r\n        Xform axes = new Xform();\r\n        axes.getChildren().addAll(xAxis, yAxis, zAxis);\r\n        axisList.add(axes);\r\n\r\n        return axisList;\r\n    }\r\n\r\n    public void addPoint(Point3D point) {\r\n        Sphere sphere = new Sphere(3);\r\n        sphere.setTranslateX(point.getX());\r\n        sphere.setTranslateY(point.getY());\r\n        sphere.setTranslateZ(point.getZ());\r\n        addPointToList(sphere);\r\n    }\r\n\r\n    public void addPlane(double x, double y, double z) {\r\n        Rectangle plane = new Rectangle(-500, -500, 1000, 1000);\r\n\r\n        Point3D m = new Point3D(x/2, y/2, 0); // Midpoint between x and y\r\n        double d = Math.sqrt(Math.pow(m.getX(), 2) + Math.pow(m.getY(), 2) + Math.pow(z, 2)); // Distance between m and z\r\n        double angle = Math.toDegrees(Math.asin(z / d)); // Angle it needs to rotate\r\n        Point3D vector = new Point3D(-x, y, 0); // &quot;Axis&quot; of rotation, aka vector from x to y\r\n\r\n        if (x * y &lt; 0) { // If the coordinates are a bit weird we need to do this\r\n            angle = 360 - angle;\r\n        }\r\n\r\n        Rotate rotate = new Rotate(angle, m.getX(), m.getY(), 0, vector);\r\n        plane.getTransforms().addAll(rotate);\r\n\r\n        addPlaneToList(plane);\r\n    }\r\n\r\n    public void addPointToList(Sphere sphere) {\r\n        thingsToGraphList.add(sphere);\r\n        switch (thingsToGraphList.size()) {\r\n            case 1:\r\n                sphere.setMaterial(new PhongMaterial(red));\r\n                break;\r\n            case 2:\r\n                sphere.setMaterial(new PhongMaterial(yellow));\r\n                break;\r\n            case 3:\r\n                sphere.setMaterial(new PhongMaterial(blue));\r\n                break;\r\n            default:\r\n                sphere.setMaterial(new PhongMaterial(yellow));\r\n                break;\r\n        }\r\n        this.update();\r\n    }\r\n\r\n    public void addPlaneToList(Rectangle rectangle) {\r\n        rectangle.setOpacity(0.5);\r\n        thingsToGraphList.add(rectangle);\r\n        switch (thingsToGraphList.size()) {\r\n            case 1:\r\n                rectangle.setFill(red);\r\n                break;\r\n            case 2:\r\n                rectangle.setFill(yellow);\r\n                break;\r\n            case 3:\r\n                rectangle.setFill(blue);\r\n                break;\r\n            default:\r\n                rectangle.setFill(white);\r\n                break;\r\n        }\r\n        this.update();\r\n    }\r\n\r\n    private void setCameraFromViewPoint(double x, double y, double z) {\r\n        double zTranslate\r\n                = Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2) + Math.pow(z, 2));\r\n\r\n        double ryAngle, rxAngle;\r\n\r\n        if (zTranslate &gt; 0) {\r\n            ryAngle = -Math.toDegrees(Math.atan2(x, z));\r\n            rxAngle\r\n                    = -Math.toDegrees(Math.asin(y / zTranslate));\r\n        } else {\r\n            ryAngle = 0;\r\n            rxAngle = 0;\r\n        }\r\n\r\n        camera.setTranslateZ(-zTranslate);\r\n        cameraXform.ry.setAngle(ryAngle);\r\n        cameraXform.rx.setAngle(rxAngle);\r\n    }\r\n\r\n    private void buildCamera() {\r\n        root.getChildren().add(cameraXform);\r\n        cameraXform.getChildren().add(cameraXform2);\r\n        cameraXform2.getChildren().add(cameraXform3);\r\n        cameraXform3.getChildren().add(camera);\r\n\r\n        camera.setFieldOfView(90);\r\n\r\n        camera.setNearClip(CAMERA_NEAR_CLIP);\r\n        camera.setFarClip(CAMERA_FAR_CLIP);\r\n        setCameraFromViewPoint(100, 100, 300);\r\n    }\r\n\r\n    public void update() {\r\n        scalable.getChildren().clear();\r\n        scalable.getChildren().add(new AmbientLight());\r\n        scalable.getChildren().addAll(axisList);\r\n        scalable.getChildren().add(map);\r\n        scalable.getChildren().addAll(thingsToGraphList);\r\n        scalable.getChildren().addAll(labelsList);\r\n    }\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n}\r\n```\r\n\r\nHere is the code that gave me the second picture (the graph is stored in Pane and then added to a scene) : \r\n\r\n```package pack.View.GraphView;\r\n\r\nimport javafx.collections.FXCollections;\r\nimport javafx.collections.ObservableList;\r\nimport javafx.event.EventHandler;\r\nimport javafx.geometry.Point3D;\r\nimport javafx.scene.*;\r\nimport javafx.scene.input.MouseEvent;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.paint.PhongMaterial;\r\nimport javafx.scene.shape.*;\r\nimport javafx.scene.text.Text;\r\nimport javafx.scene.transform.Rotate;\r\nimport javafx.scene.transform.Scale;\r\nimport javafx.scene.transform.Translate;\r\nimport pack.View.Customs.CustomText;\r\n\r\npublic class Graph extends Group {\r\n\r\n    double mousePosX, mousePosY;\r\n    double mouseOldX, mouseOldY;\r\n    double mouseDeltaX, mouseDeltaY;\r\n\r\n    private static final double CAMERA_NEAR_CLIP = 0.1;\r\n    private static final double CAMERA_FAR_CLIP = 1000.0;\r\n\r\n    final Xform root = new Xform();\r\n    final Xform scalable = new Xform();\r\n\r\n    final PerspectiveCamera camera = new PerspectiveCamera(true);\r\n    final Xform cameraXform = new Xform();\r\n    final Xform cameraXform2 = new Xform();\r\n    final Xform cameraXform3 = new Xform();\r\n\r\n    Box map = bigCube();\r\n\r\n    Color white = Color.web(&quot;#E7EBEE&quot;);\r\n    Color grey = Color.web(&quot;#333234&quot;);\r\n    Color red = Color.web(&quot;#DF5C58&quot;);\r\n    Color yellow = Color.web(&quot;#F2C15F&quot;);\r\n    Color blue = Color.web(&quot;#1985A1&quot;);\r\n\r\n    private int a = 0; // Serves as a counter to know which color should the added element be\r\n\r\n    ObservableList&lt;Node&gt; axisList;\r\n    ObservableList&lt;Node&gt; thingsToGraphList = FXCollections.observableArrayList();\r\n    ObservableList&lt;Node&gt; labelsList = FXCollections.observableArrayList();\r\n\r\n    public Graph() {\r\n        axisList = getAxis();\r\n        this.update();\r\n\r\n        Point3D p1 = new Point3D(30, 0, 0);\r\n        Point3D p2 = new Point3D(0, -40, 0);\r\n        Point3D p3 = new Point3D(0, 0, -50);\r\n\r\n        this.addPlane(p1.getX(), p2.getY(), p3.getZ(), &quot;fygu&quot;);\r\n\r\n        this.addPoint(p1);\r\n        this.addPoint(p2);\r\n        this.addPoint(p3);\r\n\r\n        Scale mirror = new Scale(1, -1, -1);\r\n        scalable.getTransforms().add(mirror);\r\n        root.getChildren().add(scalable);\r\n        buildCamera();\r\n\r\n        SubScene scene = new SubScene(root, 500, 525);\r\n        scene.setCamera(camera);\r\n        this.getChildren().add(scene);\r\n\r\n        scene.setOnScroll((e) -&gt; {\r\n            double zoomRatio = 1;\r\n            if (e.getDeltaY() &gt; 0 &amp;&amp; scalable.getScale() &lt; 5) {\r\n                zoomRatio = 1.05;\r\n            } else if (e.getDeltaY() &lt; 0 &amp;&amp; scalable.getScale() &gt; 0.5) {\r\n                zoomRatio = 0.95;\r\n            }\r\n            map.setScaleX(map.getScaleX() / zoomRatio);\r\n            map.setScaleY(map.getScaleY() / zoomRatio);\r\n            map.setScaleZ(map.getScaleZ() / zoomRatio);\r\n            double scale = scalable.getScale() * zoomRatio;\r\n            scalable.setScale(scale);\r\n        });\r\n\r\n        scene.setOnMousePressed(new EventHandler&lt;MouseEvent&gt;() {\r\n            @Override\r\n            public void handle(MouseEvent me) {\r\n                mousePosX = me.getSceneX();\r\n                mousePosY = me.getSceneY();\r\n                mouseOldX = me.getSceneX();\r\n                mouseOldY = me.getSceneY();\r\n            }\r\n        });\r\n\r\n        scene.setOnMouseDragged(new EventHandler&lt;MouseEvent&gt;() {\r\n            @Override\r\n            public void handle(MouseEvent me) {\r\n                mouseOldX = mousePosX;\r\n                mouseOldY = mousePosY;\r\n                mousePosX = me.getSceneX();\r\n                mousePosY = me.getSceneY();\r\n                mouseDeltaX = (mousePosX - mouseOldX);\r\n                mouseDeltaY = (mousePosY - mouseOldY);\r\n                if (me.isPrimaryButtonDown() &amp;&amp; me.isSecondaryButtonDown()) {\r\n                    camera.setTranslateX(camera.getTranslateX() + mouseDeltaX);\r\n                    camera.setTranslateY(camera.getTranslateY() + mouseDeltaY);\r\n                } else if (me.isPrimaryButtonDown()) {\r\n                    cameraXform.ry.setAngle(cameraXform.ry.getAngle() + mouseDeltaX);\r\n                    cameraXform.rx.setAngle(cameraXform.rx.getAngle() - mouseDeltaY);\r\n                } else if (me.isSecondaryButtonDown()) {\r\n                    double z = camera.getTranslateZ();\r\n                    double newZ = z + mouseDeltaX;\r\n                    camera.setTranslateZ(newZ);\r\n                } else if (me.isMiddleButtonDown()) {\r\n                    cameraXform2.t.setX(cameraXform2.t.getX() + mouseDeltaX);\r\n                    cameraXform2.t.setY(cameraXform2.t.getY() + mouseDeltaY);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    public Box bigCube() {\r\n        map = new Box(400, 400, 400);\r\n        map.setMaterial(new PhongMaterial(Color.TRANSPARENT));\r\n        return map;\r\n    }\r\n\r\n    private ObservableList&lt;Node&gt; getAxis() {\r\n\r\n        ObservableList&lt;Node&gt; axisList = FXCollections.observableArrayList();\r\n\r\n        Cylinder xAxis = new Cylinder(1.5, 3000);\r\n        xAxis.setMaterial(new PhongMaterial(Color.RED));\r\n        xAxis.getTransforms().add(new Rotate(90, 0, 0, 0, new Point3D(0, 0, 1)));\r\n        Cylinder yAxis = new Cylinder(1.5, 3000);\r\n        yAxis.setMaterial(new PhongMaterial(Color.GREEN));\r\n        yAxis.getTransforms().add(new Rotate(90, 0, 0, 0, new Point3D(0, 1, 0)));\r\n        Cylinder zAxis = new Cylinder(1.5, 3000);\r\n        zAxis.setMaterial(new PhongMaterial(Color.BLUE));\r\n        zAxis.getTransforms().add(new Rotate(90, 0, 0, 0, new Point3D(1, 0, 0)));\r\n\r\n        Xform axes = new Xform();\r\n        axes.getChildren().addAll(xAxis, yAxis, zAxis);\r\n        axisList.add(axes);\r\n\r\n        return axisList;\r\n    }\r\n\r\n    public void addPoint(Point3D point) {\r\n        Sphere sphere = new Sphere(3);\r\n        sphere.setTranslateX(point.getX());\r\n        sphere.setTranslateY(point.getY());\r\n        sphere.setTranslateZ(point.getZ());\r\n        //createPointLabel(point);\r\n        addPointToList(sphere);\r\n    }\r\n\r\n    public void addPlane(double x, double y, double z, String equation) {\r\n        Rectangle plane = new Rectangle(-500, -500, 1000, 1000);\r\n\r\n        Point3D m = new Point3D(x/2, y/2, 0); // Midpoint between x and y\r\n        double d = Math.sqrt(Math.pow(m.getX(), 2) + Math.pow(m.getY(), 2) + Math.pow(z, 2)); // Distance between m and z\r\n        double angle = Math.toDegrees(Math.asin(z / d)); // Angle it needs to rotate\r\n        Point3D vector = new Point3D(-x, y, 0); // &quot;Axis&quot; of rotation, aka vector from x to y\r\n\r\n        if (x * y &lt; 0) { // If the coordinates are a bit weird we need to do this\r\n            angle = 360 - angle;\r\n        }\r\n\r\n        Rotate rotate = new Rotate(angle, m.getX(), m.getY(), 0, vector);\r\n        plane.getTransforms().addAll(rotate);\r\n\r\n        createPlaneLabel(equation);\r\n        addPlaneToList(plane);\r\n    }\r\n\r\n    public void addPointToList(Sphere sphere) {\r\n        thingsToGraphList.add(sphere);\r\n        switch (thingsToGraphList.size()) {\r\n            case 1:\r\n                sphere.setMaterial(new PhongMaterial(red));\r\n                break;\r\n            case 2:\r\n                sphere.setMaterial(new PhongMaterial(yellow));\r\n                break;\r\n            case 3:\r\n                sphere.setMaterial(new PhongMaterial(blue));\r\n                break;\r\n            default:\r\n                sphere.setMaterial(new PhongMaterial(yellow));\r\n                break;\r\n        }\r\n        this.update();\r\n    }\r\n\r\n    public void addPlaneToList(Rectangle rectangle) {\r\n        a++;\r\n        rectangle.setOpacity(0.5);\r\n        thingsToGraphList.add(rectangle);\r\n        switch (a) {\r\n            case 1:\r\n                rectangle.setFill(red);\r\n                break;\r\n            case 2:\r\n                rectangle.setFill(yellow);\r\n                break;\r\n            case 3:\r\n                rectangle.setFill(blue);\r\n                break;\r\n            default:\r\n                rectangle.setFill(white);\r\n                break;\r\n        }\r\n        this.update();\r\n    }\r\n\r\n    private void createPointLabel(Point3D point) {\r\n        Text label = new CustomText(&quot;(&quot; + point.getX() + &quot;, &quot; + point.getY() + &quot;, &quot; + point.getZ() + &quot;)&quot;);\r\n        label.setScaleY(-1);\r\n        label.setTranslateX(point.getX());\r\n        label.setTranslateY(point.getY());\r\n        label.setTranslateZ(point.getZ());\r\n        labelsList.add(label);\r\n    }\r\n\r\n    private void createLineLabel(Point3D point1, Point3D point2) {\r\n        Text label = new CustomText(&quot;l(t) = (&quot; + (int) point1.getX() + &quot;, &quot; + (int) point1.getY() + &quot;, &quot; + (int) point1.getZ() + &quot;) +\\nt &lt;&quot; + (int) point2.getX() + &quot;, &quot; + (int) point2.getY() + &quot;, &quot; + (int) point2.getZ() + &quot;&gt;&quot;);\r\n        label.setScaleY(-1);\r\n        label.setTranslateX(point1.getX());\r\n        label.setTranslateY(point1.getY());\r\n        label.setTranslateZ(point1.getZ());\r\n        labelsList.add(label);\r\n    }\r\n\r\n    private void createPlaneLabel(String equation) {\r\n        Text label = new Text(equation);\r\n        label.setScaleY(-1);\r\n        labelsList.add(label);\r\n    }\r\n\r\n    private void setCameraFromViewPoint(double x, double y, double z) {\r\n        double zTranslate\r\n                = Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2) + Math.pow(z, 2));\r\n\r\n        double ryAngle, rxAngle;\r\n\r\n        if (zTranslate &gt; 0) {\r\n            ryAngle = -Math.toDegrees(Math.atan2(x, z));\r\n            rxAngle\r\n                    = -Math.toDegrees(Math.asin(y / zTranslate));\r\n        } else {\r\n            ryAngle = 0;\r\n            rxAngle = 0;\r\n        }\r\n\r\n        camera.setTranslateZ(-zTranslate);\r\n        cameraXform.ry.setAngle(ryAngle);\r\n        cameraXform.rx.setAngle(rxAngle);\r\n    }\r\n\r\n    private void buildCamera() {\r\n        root.getChildren().add(cameraXform);\r\n        cameraXform.getChildren().add(cameraXform2);\r\n        cameraXform2.getChildren().add(cameraXform3);\r\n        cameraXform3.getChildren().add(camera);\r\n\r\n        camera.setFieldOfView(90);\r\n\r\n        camera.setNearClip(CAMERA_NEAR_CLIP);\r\n        camera.setFarClip(CAMERA_FAR_CLIP);\r\n        setCameraFromViewPoint(100, 100, 300);\r\n    }\r\n\r\n    public void update() {\r\n        scalable.getChildren().clear();\r\n        scalable.getChildren().add(new AmbientLight());\r\n        scalable.getChildren().addAll(axisList);\r\n        scalable.getChildren().add(map);\r\n        scalable.getChildren().addAll(thingsToGraphList);\r\n        scalable.getChildren().addAll(labelsList);\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/QNjxP.png\r\n  [2]: https://i.stack.imgur.com/4IDVp.png","title":"Shadows/Transparency in 3D JavaFX","body":"<p>I am creating an app which needs to graph a plane (I am using Rectangle) and points (I used Spheres). I tested it out in a separate project (pic 1), and as you can see, there is a shadow/transparency effect on the spheres since the graph goes through them. When I try to implement the same functions with the exact same numbers in my actual application, I get the second picture. There is no &quot;shadow&quot; anymore even though I am sure the rectangle goes through the points. What would be the cause of this issue and how can I fix it ?</p>\n<p>What I have tried and does not work :</p>\n<ul>\n<li>Add the Rectangle first, then the points and vice-versa</li>\n<li>Change the opacity of the Rectangle (it is set to 0.5 in both)</li>\n<li>Remove the AmbientLight</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/4IDVp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4IDVp.png\" alt=\"Pic 1\" /></a>\n<a href=\"https://i.stack.imgur.com/QNjxP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QNjxP.png\" alt=\"Pic 2\" /></a></p>\n<p>Here is the code that gave me the first picture :</p>\n<pre><code>\nimport javafx.application.Application;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.event.EventHandler;\nimport javafx.geometry.Point3D;\nimport javafx.scene.AmbientLight;\nimport javafx.scene.Node;\nimport javafx.scene.PerspectiveCamera;\nimport javafx.scene.Scene;\nimport javafx.scene.input.KeyEvent;\nimport javafx.scene.input.MouseEvent;\nimport javafx.scene.paint.Color;\nimport javafx.scene.paint.PhongMaterial;\nimport javafx.scene.shape.*;\nimport javafx.scene.transform.Rotate;\nimport javafx.scene.transform.Scale;\nimport javafx.stage.Stage;\n\npublic class GraphFX3D extends Application {\n\n    double mousePosX;\n    double mousePosY;\n    double mouseOldX;\n    double mouseOldY;\n    double mouseDeltaX;\n    double mouseDeltaY;\n\n    private static final double CAMERA_INITIAL_DISTANCE = -300;\n    private static final double CAMERA_INITIAL_X_ANGLE = 0;\n    private static final double CAMERA_INITIAL_Y_ANGLE = 0;\n    private static final double CAMERA_NEAR_CLIP = 0.1;\n    private static final double CAMERA_FAR_CLIP = 1000.0;\n\n    final Xform root = new Xform();\n    final Xform scalable = new Xform();\n\n    final PerspectiveCamera camera = new PerspectiveCamera(true);\n    final Xform cameraXform = new Xform();\n    final Xform cameraXform2 = new Xform();\n    final Xform cameraXform3 = new Xform();\n\n    Box map = bigCube();\n\n    Color white = Color.web(&quot;#E7EBEE&quot;);\n    Color grey = Color.web(&quot;#333234&quot;);\n    Color red = Color.web(&quot;#DF5C58&quot;);\n    Color yellow = Color.web(&quot;#F2C15F&quot;);\n    Color blue = Color.web(&quot;#1985A1&quot;);\n\n    ObservableList&lt;Node&gt; axisList;\n    ObservableList&lt;Node&gt; thingsToGraphList = FXCollections.observableArrayList();\n    ObservableList&lt;Node&gt; labelsList = FXCollections.observableArrayList();\n\n    @Override\n    public void start(Stage stage) throws Exception {\n\n        axisList = getAxis();\n        this.update();\n\n        Point3D p1 = new Point3D(30, 0, 0);\n        Point3D p2 = new Point3D(0, -40, 0);\n        Point3D p3 = new Point3D(0, 0, -50);\n\n\n        this.addPoint(p1);\n        this.addPoint(p2);\n        this.addPoint(p3);\n        this.addPlane(p1.getX(), p2.getY(), p3.getZ());\n\n        Scale mirror = new Scale(1, -1, -1);\n        scalable.getTransforms().add(mirror);\n\n        root.getChildren().add(scalable);\n\n        buildCamera();\n\n        Scene scene = new Scene(root, 800, 600, true);\n        scene.setFill(grey);\n        scene.setCamera(camera);\n        stage.setScene(scene);\n        stage.show();\n\n        scene.setOnKeyPressed(new EventHandler&lt;KeyEvent&gt;() {\n            @Override\n            public void handle(KeyEvent event) {\n                switch (event.getCode()) {\n                    case Z:\n                        scalable.setScale(1);\n                        camera.setTranslateX(0);\n                        camera.setTranslateY(0);\n                        cameraXform2.t.setX(0.0);\n                        cameraXform2.t.setY(0.0);\n                        camera.setTranslateZ(CAMERA_INITIAL_DISTANCE);\n                        cameraXform.ry.setAngle(CAMERA_INITIAL_Y_ANGLE);\n                        cameraXform.rx.setAngle(CAMERA_INITIAL_X_ANGLE);\n                        break;\n                    case V:\n                        scalable.setVisible(!scalable.isVisible());\n                        break;\n                    case UP:\n                        cameraXform.rx.setAngle(cameraXform.rx.getAngle() - 1);\n                        break;\n                    case DOWN:\n                        cameraXform.rx.setAngle(cameraXform.rx.getAngle() + 1);\n                        break;\n                    case LEFT:\n                        cameraXform.ry.setAngle(cameraXform.ry.getAngle() + 1);\n                        break;\n                    case RIGHT:\n                        cameraXform.ry.setAngle(cameraXform.ry.getAngle() - 1);\n                        break;\n                    default:\n                        break;\n                }\n            }\n        });\n\n        scene.setOnScroll((e) -&gt; {\n\n            double zoomRatio = 1;\n            if(e.getDeltaY() &gt; 0) {\n                zoomRatio = 1.05;\n            } else {\n                zoomRatio = 0.95;\n            }\n\n            double scale = scalable.getScale() * zoomRatio;\n            scalable.setScale(scale);\n        });\n\n        scene.setOnMousePressed(new EventHandler&lt;MouseEvent&gt;() {\n            @Override public void handle(MouseEvent me) {\n                mousePosX = me.getSceneX();\n                mousePosY = me.getSceneY();\n                mouseOldX = me.getSceneX();\n                mouseOldY = me.getSceneY();\n            }\n        });\n\n        scene.setOnMouseDragged(new EventHandler&lt;MouseEvent&gt;() {\n            @Override public void handle(MouseEvent me) {\n                mouseOldX = mousePosX;\n                mouseOldY = mousePosY;\n                mousePosX = me.getSceneX();\n                mousePosY = me.getSceneY();\n                mouseDeltaX = (mousePosX - mouseOldX);\n                mouseDeltaY = (mousePosY - mouseOldY);\n\n                if (me.isControlDown()) {}\n                if (me.isShiftDown()) {}\n\n                if (me.isPrimaryButtonDown() &amp;&amp; me.isSecondaryButtonDown()) {\n                    camera.setTranslateX(camera.getTranslateX() + mouseDeltaX);\n                    camera.setTranslateY(camera.getTranslateY() + mouseDeltaY);\n                }\n                else if (me.isPrimaryButtonDown()) {\n                    cameraXform.ry.setAngle(cameraXform.ry.getAngle() + mouseDeltaX);\n                    cameraXform.rx.setAngle(cameraXform.rx.getAngle() - mouseDeltaY);\n                }\n                else if (me.isSecondaryButtonDown()) {\n                    double z = camera.getTranslateZ();\n                    double newZ = z + mouseDeltaX;\n                    camera.setTranslateZ(newZ);\n                }\n                else if (me.isMiddleButtonDown()) {\n                    cameraXform2.t.setX(cameraXform2.t.getX() + mouseDeltaX);\n                    cameraXform2.t.setY(cameraXform2.t.getY() + mouseDeltaY);\n                }\n            }\n        });\n\n    }\n\n    public Box bigCube() {\n        map = new Box(400, 400, 400);\n        map.setMaterial(new PhongMaterial(Color.TRANSPARENT));\n        return map;\n    }\n\n    private ObservableList&lt;Node&gt; getAxis() {\n\n        ObservableList&lt;Node&gt; axisList = FXCollections.observableArrayList();\n\n        Cylinder xAxis = new Cylinder(1.5, 3000);\n        xAxis.setMaterial(new PhongMaterial(Color.RED));\n        xAxis.getTransforms().add(new Rotate(90, 0, 0, 0, new Point3D(0, 0, 1)));\n        Cylinder yAxis = new Cylinder(1.5, 3000);\n        yAxis.setMaterial(new PhongMaterial(Color.GREEN));\n        yAxis.getTransforms().add(new Rotate(90, 0, 0, 0, new Point3D(0, 1, 0)));\n        Cylinder zAxis = new Cylinder(1.5, 3000);\n        zAxis.setMaterial(new PhongMaterial(Color.BLUE));\n        zAxis.getTransforms().add(new Rotate(90, 0, 0, 0, new Point3D(1, 0, 0)));\n\n\n        Xform axes = new Xform();\n        axes.getChildren().addAll(xAxis, yAxis, zAxis);\n        axisList.add(axes);\n\n        return axisList;\n    }\n\n    public void addPoint(Point3D point) {\n        Sphere sphere = new Sphere(3);\n        sphere.setTranslateX(point.getX());\n        sphere.setTranslateY(point.getY());\n        sphere.setTranslateZ(point.getZ());\n        addPointToList(sphere);\n    }\n\n    public void addPlane(double x, double y, double z) {\n        Rectangle plane = new Rectangle(-500, -500, 1000, 1000);\n\n        Point3D m = new Point3D(x/2, y/2, 0); // Midpoint between x and y\n        double d = Math.sqrt(Math.pow(m.getX(), 2) + Math.pow(m.getY(), 2) + Math.pow(z, 2)); // Distance between m and z\n        double angle = Math.toDegrees(Math.asin(z / d)); // Angle it needs to rotate\n        Point3D vector = new Point3D(-x, y, 0); // &quot;Axis&quot; of rotation, aka vector from x to y\n\n        if (x * y &lt; 0) { // If the coordinates are a bit weird we need to do this\n            angle = 360 - angle;\n        }\n\n        Rotate rotate = new Rotate(angle, m.getX(), m.getY(), 0, vector);\n        plane.getTransforms().addAll(rotate);\n\n        addPlaneToList(plane);\n    }\n\n    public void addPointToList(Sphere sphere) {\n        thingsToGraphList.add(sphere);\n        switch (thingsToGraphList.size()) {\n            case 1:\n                sphere.setMaterial(new PhongMaterial(red));\n                break;\n            case 2:\n                sphere.setMaterial(new PhongMaterial(yellow));\n                break;\n            case 3:\n                sphere.setMaterial(new PhongMaterial(blue));\n                break;\n            default:\n                sphere.setMaterial(new PhongMaterial(yellow));\n                break;\n        }\n        this.update();\n    }\n\n    public void addPlaneToList(Rectangle rectangle) {\n        rectangle.setOpacity(0.5);\n        thingsToGraphList.add(rectangle);\n        switch (thingsToGraphList.size()) {\n            case 1:\n                rectangle.setFill(red);\n                break;\n            case 2:\n                rectangle.setFill(yellow);\n                break;\n            case 3:\n                rectangle.setFill(blue);\n                break;\n            default:\n                rectangle.setFill(white);\n                break;\n        }\n        this.update();\n    }\n\n    private void setCameraFromViewPoint(double x, double y, double z) {\n        double zTranslate\n                = Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2) + Math.pow(z, 2));\n\n        double ryAngle, rxAngle;\n\n        if (zTranslate &gt; 0) {\n            ryAngle = -Math.toDegrees(Math.atan2(x, z));\n            rxAngle\n                    = -Math.toDegrees(Math.asin(y / zTranslate));\n        } else {\n            ryAngle = 0;\n            rxAngle = 0;\n        }\n\n        camera.setTranslateZ(-zTranslate);\n        cameraXform.ry.setAngle(ryAngle);\n        cameraXform.rx.setAngle(rxAngle);\n    }\n\n    private void buildCamera() {\n        root.getChildren().add(cameraXform);\n        cameraXform.getChildren().add(cameraXform2);\n        cameraXform2.getChildren().add(cameraXform3);\n        cameraXform3.getChildren().add(camera);\n\n        camera.setFieldOfView(90);\n\n        camera.setNearClip(CAMERA_NEAR_CLIP);\n        camera.setFarClip(CAMERA_FAR_CLIP);\n        setCameraFromViewPoint(100, 100, 300);\n    }\n\n    public void update() {\n        scalable.getChildren().clear();\n        scalable.getChildren().add(new AmbientLight());\n        scalable.getChildren().addAll(axisList);\n        scalable.getChildren().add(map);\n        scalable.getChildren().addAll(thingsToGraphList);\n        scalable.getChildren().addAll(labelsList);\n    }\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>Here is the code that gave me the second picture (the graph is stored in Pane and then added to a scene) :</p>\n<pre><code>\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.event.EventHandler;\nimport javafx.geometry.Point3D;\nimport javafx.scene.*;\nimport javafx.scene.input.MouseEvent;\nimport javafx.scene.paint.Color;\nimport javafx.scene.paint.PhongMaterial;\nimport javafx.scene.shape.*;\nimport javafx.scene.text.Text;\nimport javafx.scene.transform.Rotate;\nimport javafx.scene.transform.Scale;\nimport javafx.scene.transform.Translate;\nimport pack.View.Customs.CustomText;\n\npublic class Graph extends Group {\n\n    double mousePosX, mousePosY;\n    double mouseOldX, mouseOldY;\n    double mouseDeltaX, mouseDeltaY;\n\n    private static final double CAMERA_NEAR_CLIP = 0.1;\n    private static final double CAMERA_FAR_CLIP = 1000.0;\n\n    final Xform root = new Xform();\n    final Xform scalable = new Xform();\n\n    final PerspectiveCamera camera = new PerspectiveCamera(true);\n    final Xform cameraXform = new Xform();\n    final Xform cameraXform2 = new Xform();\n    final Xform cameraXform3 = new Xform();\n\n    Box map = bigCube();\n\n    Color white = Color.web(&quot;#E7EBEE&quot;);\n    Color grey = Color.web(&quot;#333234&quot;);\n    Color red = Color.web(&quot;#DF5C58&quot;);\n    Color yellow = Color.web(&quot;#F2C15F&quot;);\n    Color blue = Color.web(&quot;#1985A1&quot;);\n\n    private int a = 0; // Serves as a counter to know which color should the added element be\n\n    ObservableList&lt;Node&gt; axisList;\n    ObservableList&lt;Node&gt; thingsToGraphList = FXCollections.observableArrayList();\n    ObservableList&lt;Node&gt; labelsList = FXCollections.observableArrayList();\n\n    public Graph() {\n        axisList = getAxis();\n        this.update();\n\n        Point3D p1 = new Point3D(30, 0, 0);\n        Point3D p2 = new Point3D(0, -40, 0);\n        Point3D p3 = new Point3D(0, 0, -50);\n\n        this.addPlane(p1.getX(), p2.getY(), p3.getZ(), &quot;fygu&quot;);\n\n        this.addPoint(p1);\n        this.addPoint(p2);\n        this.addPoint(p3);\n\n        Scale mirror = new Scale(1, -1, -1);\n        scalable.getTransforms().add(mirror);\n        root.getChildren().add(scalable);\n        buildCamera();\n\n        SubScene scene = new SubScene(root, 500, 525);\n        scene.setCamera(camera);\n        this.getChildren().add(scene);\n\n        scene.setOnScroll((e) -&gt; {\n            double zoomRatio = 1;\n            if (e.getDeltaY() &gt; 0 &amp;&amp; scalable.getScale() &lt; 5) {\n                zoomRatio = 1.05;\n            } else if (e.getDeltaY() &lt; 0 &amp;&amp; scalable.getScale() &gt; 0.5) {\n                zoomRatio = 0.95;\n            }\n            map.setScaleX(map.getScaleX() / zoomRatio);\n            map.setScaleY(map.getScaleY() / zoomRatio);\n            map.setScaleZ(map.getScaleZ() / zoomRatio);\n            double scale = scalable.getScale() * zoomRatio;\n            scalable.setScale(scale);\n        });\n\n        scene.setOnMousePressed(new EventHandler&lt;MouseEvent&gt;() {\n            @Override\n            public void handle(MouseEvent me) {\n                mousePosX = me.getSceneX();\n                mousePosY = me.getSceneY();\n                mouseOldX = me.getSceneX();\n                mouseOldY = me.getSceneY();\n            }\n        });\n\n        scene.setOnMouseDragged(new EventHandler&lt;MouseEvent&gt;() {\n            @Override\n            public void handle(MouseEvent me) {\n                mouseOldX = mousePosX;\n                mouseOldY = mousePosY;\n                mousePosX = me.getSceneX();\n                mousePosY = me.getSceneY();\n                mouseDeltaX = (mousePosX - mouseOldX);\n                mouseDeltaY = (mousePosY - mouseOldY);\n                if (me.isPrimaryButtonDown() &amp;&amp; me.isSecondaryButtonDown()) {\n                    camera.setTranslateX(camera.getTranslateX() + mouseDeltaX);\n                    camera.setTranslateY(camera.getTranslateY() + mouseDeltaY);\n                } else if (me.isPrimaryButtonDown()) {\n                    cameraXform.ry.setAngle(cameraXform.ry.getAngle() + mouseDeltaX);\n                    cameraXform.rx.setAngle(cameraXform.rx.getAngle() - mouseDeltaY);\n                } else if (me.isSecondaryButtonDown()) {\n                    double z = camera.getTranslateZ();\n                    double newZ = z + mouseDeltaX;\n                    camera.setTranslateZ(newZ);\n                } else if (me.isMiddleButtonDown()) {\n                    cameraXform2.t.setX(cameraXform2.t.getX() + mouseDeltaX);\n                    cameraXform2.t.setY(cameraXform2.t.getY() + mouseDeltaY);\n                }\n            }\n        });\n    }\n\n    public Box bigCube() {\n        map = new Box(400, 400, 400);\n        map.setMaterial(new PhongMaterial(Color.TRANSPARENT));\n        return map;\n    }\n\n    private ObservableList&lt;Node&gt; getAxis() {\n\n        ObservableList&lt;Node&gt; axisList = FXCollections.observableArrayList();\n\n        Cylinder xAxis = new Cylinder(1.5, 3000);\n        xAxis.setMaterial(new PhongMaterial(Color.RED));\n        xAxis.getTransforms().add(new Rotate(90, 0, 0, 0, new Point3D(0, 0, 1)));\n        Cylinder yAxis = new Cylinder(1.5, 3000);\n        yAxis.setMaterial(new PhongMaterial(Color.GREEN));\n        yAxis.getTransforms().add(new Rotate(90, 0, 0, 0, new Point3D(0, 1, 0)));\n        Cylinder zAxis = new Cylinder(1.5, 3000);\n        zAxis.setMaterial(new PhongMaterial(Color.BLUE));\n        zAxis.getTransforms().add(new Rotate(90, 0, 0, 0, new Point3D(1, 0, 0)));\n\n        Xform axes = new Xform();\n        axes.getChildren().addAll(xAxis, yAxis, zAxis);\n        axisList.add(axes);\n\n        return axisList;\n    }\n\n    public void addPoint(Point3D point) {\n        Sphere sphere = new Sphere(3);\n        sphere.setTranslateX(point.getX());\n        sphere.setTranslateY(point.getY());\n        sphere.setTranslateZ(point.getZ());\n        //createPointLabel(point);\n        addPointToList(sphere);\n    }\n\n    public void addPlane(double x, double y, double z, String equation) {\n        Rectangle plane = new Rectangle(-500, -500, 1000, 1000);\n\n        Point3D m = new Point3D(x/2, y/2, 0); // Midpoint between x and y\n        double d = Math.sqrt(Math.pow(m.getX(), 2) + Math.pow(m.getY(), 2) + Math.pow(z, 2)); // Distance between m and z\n        double angle = Math.toDegrees(Math.asin(z / d)); // Angle it needs to rotate\n        Point3D vector = new Point3D(-x, y, 0); // &quot;Axis&quot; of rotation, aka vector from x to y\n\n        if (x * y &lt; 0) { // If the coordinates are a bit weird we need to do this\n            angle = 360 - angle;\n        }\n\n        Rotate rotate = new Rotate(angle, m.getX(), m.getY(), 0, vector);\n        plane.getTransforms().addAll(rotate);\n\n        createPlaneLabel(equation);\n        addPlaneToList(plane);\n    }\n\n    public void addPointToList(Sphere sphere) {\n        thingsToGraphList.add(sphere);\n        switch (thingsToGraphList.size()) {\n            case 1:\n                sphere.setMaterial(new PhongMaterial(red));\n                break;\n            case 2:\n                sphere.setMaterial(new PhongMaterial(yellow));\n                break;\n            case 3:\n                sphere.setMaterial(new PhongMaterial(blue));\n                break;\n            default:\n                sphere.setMaterial(new PhongMaterial(yellow));\n                break;\n        }\n        this.update();\n    }\n\n    public void addPlaneToList(Rectangle rectangle) {\n        a++;\n        rectangle.setOpacity(0.5);\n        thingsToGraphList.add(rectangle);\n        switch (a) {\n            case 1:\n                rectangle.setFill(red);\n                break;\n            case 2:\n                rectangle.setFill(yellow);\n                break;\n            case 3:\n                rectangle.setFill(blue);\n                break;\n            default:\n                rectangle.setFill(white);\n                break;\n        }\n        this.update();\n    }\n\n    private void createPointLabel(Point3D point) {\n        Text label = new CustomText(&quot;(&quot; + point.getX() + &quot;, &quot; + point.getY() + &quot;, &quot; + point.getZ() + &quot;)&quot;);\n        label.setScaleY(-1);\n        label.setTranslateX(point.getX());\n        label.setTranslateY(point.getY());\n        label.setTranslateZ(point.getZ());\n        labelsList.add(label);\n    }\n\n    private void createLineLabel(Point3D point1, Point3D point2) {\n        Text label = new CustomText(&quot;l(t) = (&quot; + (int) point1.getX() + &quot;, &quot; + (int) point1.getY() + &quot;, &quot; + (int) point1.getZ() + &quot;) +\\nt &lt;&quot; + (int) point2.getX() + &quot;, &quot; + (int) point2.getY() + &quot;, &quot; + (int) point2.getZ() + &quot;&gt;&quot;);\n        label.setScaleY(-1);\n        label.setTranslateX(point1.getX());\n        label.setTranslateY(point1.getY());\n        label.setTranslateZ(point1.getZ());\n        labelsList.add(label);\n    }\n\n    private void createPlaneLabel(String equation) {\n        Text label = new Text(equation);\n        label.setScaleY(-1);\n        labelsList.add(label);\n    }\n\n    private void setCameraFromViewPoint(double x, double y, double z) {\n        double zTranslate\n                = Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2) + Math.pow(z, 2));\n\n        double ryAngle, rxAngle;\n\n        if (zTranslate &gt; 0) {\n            ryAngle = -Math.toDegrees(Math.atan2(x, z));\n            rxAngle\n                    = -Math.toDegrees(Math.asin(y / zTranslate));\n        } else {\n            ryAngle = 0;\n            rxAngle = 0;\n        }\n\n        camera.setTranslateZ(-zTranslate);\n        cameraXform.ry.setAngle(ryAngle);\n        cameraXform.rx.setAngle(rxAngle);\n    }\n\n    private void buildCamera() {\n        root.getChildren().add(cameraXform);\n        cameraXform.getChildren().add(cameraXform2);\n        cameraXform2.getChildren().add(cameraXform3);\n        cameraXform3.getChildren().add(camera);\n\n        camera.setFieldOfView(90);\n\n        camera.setNearClip(CAMERA_NEAR_CLIP);\n        camera.setFarClip(CAMERA_FAR_CLIP);\n        setCameraFromViewPoint(100, 100, 300);\n    }\n\n    public void update() {\n        scalable.getChildren().clear();\n        scalable.getChildren().add(new AmbientLight());\n        scalable.getChildren().addAll(axisList);\n        scalable.getChildren().add(map);\n        scalable.getChildren().addAll(thingsToGraphList);\n        scalable.getChildren().addAll(labelsList);\n    }\n}\n</code></pre>\n"},{"tags":["java","ubuntu","tomcat","jersey-client"],"answers":[{"tags":[],"owner":{"account_id":1671271,"reputation":1283,"user_id":1537706,"accept_rate":59,"display_name":"CrazySabbath"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1631172703,"creation_date":1631172703,"answer_id":69114031,"question_id":69083272,"body_markdown":"gwt-rest-dispatch was including jsr311-api.jar, which was causing the issues.\r\nRemoving this dependency (since my project does not use it) solved this.","title":"Class not found com.sun.ws.rs.ext.RuntimeDelegateImpl on ubuntu tomcat","body":"<p>gwt-rest-dispatch was including jsr311-api.jar, which was causing the issues.\nRemoving this dependency (since my project does not use it) solved this.</p>\n"},{"tags":[],"owner":{"account_id":24905146,"reputation":1,"user_id":18775310,"display_name":"Pedro Henrique R. C. Veiga"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1649704098,"creation_date":1649704098,"answer_id":71833074,"question_id":69083272,"body_markdown":"I had a problem similar to yours, I forced the deletion of the jsr311-api dependency from the pom.xml, so I rebuilt it and it worked.\r\n\r\nI believe the dependency UriBuilder conflicts with AWS dependencies,\r\nWhen I used it, Spring itself downloaded 2.0.11 and the dependency I used was 0.0.11, that&#39;s when I deleted both.","title":"Class not found com.sun.ws.rs.ext.RuntimeDelegateImpl on ubuntu tomcat","body":"<p>I had a problem similar to yours, I forced the deletion of the jsr311-api dependency from the pom.xml, so I rebuilt it and it worked.</p>\n<p>I believe the dependency UriBuilder conflicts with AWS dependencies,\nWhen I used it, Spring itself downloaded 2.0.11 and the dependency I used was 0.0.11, that's when I deleted both.</p>\n"}],"owner":{"account_id":1671271,"reputation":1283,"user_id":1537706,"accept_rate":59,"display_name":"CrazySabbath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1473,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69114031,"answer_count":2,"score":0,"last_activity_date":1649704098,"creation_date":1630995912,"question_id":69083272,"body_markdown":"I&#39;m using GWT/P to build a webapp which uses javax.ws.rs.client to communicate with rest services. \r\n\r\nJersey client is used:\r\n\r\n    &lt;jersey.version&gt;2.22.2&lt;/jersey.version&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.glassfish.jersey&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jersey-bom&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${jersey.version}&lt;/version&gt;\r\n    \t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jersey-media-moxy&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIt&#39;s deployed on tomcat (7 and 9 versions, both work as expected). However, **on one ubuntu server**, using tomcat 9 I get following exception:\r\n\r\n    Caused by: java.lang.RuntimeException: java.lang.ClassNotFoundException: com.sun.ws.rs.ext.RuntimeDelegateImpl\r\n    \tat javax.ws.rs.ext.RuntimeDelegate.findDelegate(RuntimeDelegate.java:122)\r\n    \tat javax.ws.rs.ext.RuntimeDelegate.getInstance(RuntimeDelegate.java:91)\r\n    \tat javax.ws.rs.core.UriBuilder.newInstance(UriBuilder.java:69)\r\n    \tat javax.ws.rs.core.UriBuilder.fromUri(UriBuilder.java:80)\r\n    \tat javax.ws.rs.core.UriBuilder.fromUri(UriBuilder.java:99)\r\n    \tat org.glassfish.jersey.client.JerseyWebTarget.&lt;init&gt;(JerseyWebTarget.java:71)\r\n    \tat org.glassfish.jersey.client.JerseyClient.target(JerseyClient.java:290)\r\n    \tat org.glassfish.jersey.client.JerseyClient.target(JerseyClient.java:76)\r\n\r\nI don&#39;t know why is it looking for `com.sun.ws.rs.ext.RuntimeDelegateImpl` instead of `org.glassfish.jersey.internal.RuntimeDelegateImpl`, and that it happens only on that particular server (windows, amazon AWS linux, docker linux works fine).\r\n\r\nI have tried increasing jersey version to 2.27 (can&#39;t increase it more, since newer versions conflict with GWT jetty 9.2.14).\r\n\r\nI have tried adding  `META-INF/services/javax.ws.rs.ext.RuntimeDelegate` with first line as `org.glassfish.jersey.internal.RuntimeDelegateImpl`. \r\n\r\nNothing seems to work. What am I missing here? Any ideas?","title":"Class not found com.sun.ws.rs.ext.RuntimeDelegateImpl on ubuntu tomcat","body":"<p>I'm using GWT/P to build a webapp which uses javax.ws.rs.client to communicate with rest services.</p>\n<p>Jersey client is used:</p>\n<pre><code>&lt;jersey.version&gt;2.22.2&lt;/jersey.version&gt;\n\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-bom&lt;/artifactId&gt;\n            &lt;version&gt;${jersey.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-media-moxy&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>It's deployed on tomcat (7 and 9 versions, both work as expected). However, <strong>on one ubuntu server</strong>, using tomcat 9 I get following exception:</p>\n<pre><code>Caused by: java.lang.RuntimeException: java.lang.ClassNotFoundException: com.sun.ws.rs.ext.RuntimeDelegateImpl\n    at javax.ws.rs.ext.RuntimeDelegate.findDelegate(RuntimeDelegate.java:122)\n    at javax.ws.rs.ext.RuntimeDelegate.getInstance(RuntimeDelegate.java:91)\n    at javax.ws.rs.core.UriBuilder.newInstance(UriBuilder.java:69)\n    at javax.ws.rs.core.UriBuilder.fromUri(UriBuilder.java:80)\n    at javax.ws.rs.core.UriBuilder.fromUri(UriBuilder.java:99)\n    at org.glassfish.jersey.client.JerseyWebTarget.&lt;init&gt;(JerseyWebTarget.java:71)\n    at org.glassfish.jersey.client.JerseyClient.target(JerseyClient.java:290)\n    at org.glassfish.jersey.client.JerseyClient.target(JerseyClient.java:76)\n</code></pre>\n<p>I don't know why is it looking for <code>com.sun.ws.rs.ext.RuntimeDelegateImpl</code> instead of <code>org.glassfish.jersey.internal.RuntimeDelegateImpl</code>, and that it happens only on that particular server (windows, amazon AWS linux, docker linux works fine).</p>\n<p>I have tried increasing jersey version to 2.27 (can't increase it more, since newer versions conflict with GWT jetty 9.2.14).</p>\n<p>I have tried adding  <code>META-INF/services/javax.ws.rs.ext.RuntimeDelegate</code> with first line as <code>org.glassfish.jersey.internal.RuntimeDelegateImpl</code>.</p>\n<p>Nothing seems to work. What am I missing here? Any ideas?</p>\n"},{"tags":["java","jakarta-ee","architecture"],"answers":[{"tags":[],"owner":{"account_id":1561716,"reputation":4947,"user_id":1451449,"accept_rate":33,"display_name":"LuGo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1350233072,"creation_date":1350233072,"answer_id":12884333,"question_id":12884294,"body_markdown":"You may want to try out the TPTP profiler in eclipse. If you start your app in the profiling mode and use it for a while, the profiler plugin will draw for you the interactions between classes which have taken place while you were using the app.","title":"Flow of the project","body":"<p>You may want to try out the TPTP profiler in eclipse. If you start your app in the profiling mode and use it for a while, the profiler plugin will draw for you the interactions between classes which have taken place while you were using the app.</p>\n"}],"owner":{"account_id":898067,"reputation":2562,"user_id":934913,"accept_rate":70,"display_name":"Arun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2040,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1350299366,"accepted_answer_id":12884333,"answer_count":1,"score":2,"last_activity_date":1649703412,"creation_date":1350232844,"question_id":12884294,"body_markdown":"I am currently working in java projects. And I am handling many projects at a time. I use `eclipse IDE` for programming these applications which involves spring, hibernate, flex technologies. Every time i work in a new project i would have to take some time analyzing the code flow(which is a tedious and time consuming task). Is there a tool which just creates a doc or flow diagram stating its cohesion and coupling(simply its architecture) when we check out and configure the code base from a `repo` to our local system?\r\n\r\nYour thoughts will be helpful.","title":"Flow of the project","body":"<p>I am currently working in java projects. And I am handling many projects at a time. I use <code>eclipse IDE</code> for programming these applications which involves spring, hibernate, flex technologies. Every time i work in a new project i would have to take some time analyzing the code flow(which is a tedious and time consuming task). Is there a tool which just creates a doc or flow diagram stating its cohesion and coupling(simply its architecture) when we check out and configure the code base from a <code>repo</code> to our local system?</p>\n\n<p>Your thoughts will be helpful.</p>\n"},{"tags":["java","uml","sequence","dataflow-diagram"],"answers":[{"tags":[],"owner":{"account_id":2740762,"reputation":3924,"user_id":2362356,"display_name":"nakosspy"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1368134826,"creation_date":1368134826,"answer_id":16471418,"question_id":16471039,"body_markdown":"UML does not provide something specific to model exceptions. Look at http://www.uml-diagrams.org/sequence-diagrams-questions-answers.html\r\n\r\nHowever there are ways to model it in a sequence diagram. You can read more about sequence diagrams at http://www.ibm.com/developerworks/rational/library/3101.html\r\n\r\nI prefer to ignore exceptions from sequence diagrams. In your case, I would include all validations in one method that only makes that. So the sequence diagram of this method would show the validation steps only.","title":"UML Squence Diagram - visualize validation of data","body":"<p>UML does not provide something specific to model exceptions. Look at <a href=\"http://www.uml-diagrams.org/sequence-diagrams-questions-answers.html\" rel=\"noreferrer\">http://www.uml-diagrams.org/sequence-diagrams-questions-answers.html</a></p>\n\n<p>However there are ways to model it in a sequence diagram. You can read more about sequence diagrams at <a href=\"http://www.ibm.com/developerworks/rational/library/3101.html\" rel=\"noreferrer\">http://www.ibm.com/developerworks/rational/library/3101.html</a></p>\n\n<p>I prefer to ignore exceptions from sequence diagrams. In your case, I would include all validations in one method that only makes that. So the sequence diagram of this method would show the validation steps only.</p>\n"}],"owner":{"account_id":1053670,"reputation":921,"user_id":1056903,"accept_rate":56,"display_name":"user1056903"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7251,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":16471418,"answer_count":1,"score":3,"last_activity_date":1649703029,"creation_date":1368133248,"question_id":16471039,"body_markdown":"A method performs successively validation checks with some passed data. \r\nIf a validation check fails, a exception will be immediately thrown and the method aborted. \r\n\r\nHow can visualize this flow with UML sequence diagrams? Is it possible / allowed to show exceptions in sequence diagrams?\r\n\r\nA possible solution perhaps is to use nested alternatives.","title":"UML Squence Diagram - visualize validation of data","body":"<p>A method performs successively validation checks with some passed data. \nIf a validation check fails, a exception will be immediately thrown and the method aborted. </p>\n\n<p>How can visualize this flow with UML sequence diagrams? Is it possible / allowed to show exceptions in sequence diagrams?</p>\n\n<p>A possible solution perhaps is to use nested alternatives.</p>\n"},{"tags":["java","executorservice"],"answers":[{"tags":[],"owner":{"account_id":212445,"reputation":4911,"user_id":2005490,"accept_rate":59,"display_name":"Atihska"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649702801,"creation_date":1649702801,"answer_id":71832819,"question_id":71417924,"body_markdown":"I was able to do so with unit tests and adding a mockito verify on how many times a method is called. If it&#39;s running in parallel after chunkifying, then the method will be called more than once equal to number of chunks it&#39;s going to process.","title":"In Java, how to test a private code running in parallel with executor service wrapped in public method","body":"<p>I was able to do so with unit tests and adding a mockito verify on how many times a method is called. If it's running in parallel after chunkifying, then the method will be called more than once equal to number of chunks it's going to process.</p>\n"}],"owner":{"account_id":212445,"reputation":4911,"user_id":2005490,"accept_rate":59,"display_name":"Atihska"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71832819,"answer_count":1,"score":0,"last_activity_date":1649702801,"creation_date":1646876732,"question_id":71417924,"body_markdown":"I had an existing non-parallel code that we recently made concurrent by using executor service. Adding concurrency ensured limit the number of requests sent to another API in our scenario. So we are calling an external service and limiting requests, waiting for all requests to complete so as merge the responses later before sending the final response.\r\n\r\nI am stuck on how to add a unit test/mock test to such a code, considering the private method is parallelized. I have added below my code structure to explain my situation.\r\n\r\nI am trying to test here \r\n```\r\n@Test\r\npublic void processRequest() {\r\n  ...\r\n}\r\n```\r\n\r\nCode \r\n```\r\nint MAX_BULK_SUBREQUEST_SIZE = 10;\r\npublic void processRequest() {\r\n    ...\r\n    // call to private method\r\n    ResponseList responseList = sendRequest(requestList);\r\n}\r\n\r\nprivate void sendRequest(List&lt;..&gt; requestList) {\r\n   List&lt;Response&gt; responseList = new ArrayList&lt;&gt;();\r\n   ExecutorService executorService = Executors.newFixedThreadPool(10);\r\n   \r\n   int numOfSubRequests = requestList.size();\r\n   for (int i = 0; i &lt; numOfSubRequests; i += MAX_BULK_SUBREQUEST_SIZE) {\r\n                List&lt;Request&gt; requestChunk;\r\n                if (i + MAX_BULK_SUBREQUEST_SIZE &gt;= numOfSubRequests) {\r\n                    requestChunk = requestList.subList(i, numOfSubRequests);\r\n                } else {\r\n                    requestChunk = requestList.subList(i, i + MAX_BULK_SUBREQUEST_SIZE);\r\n                }\r\n                \r\n                // parallelization\r\n                executorService.submit(() -&gt; {\r\n                    Response responseChunk = null;\r\n                    try {\r\n                        responseChunk = callService(requestChunk); // private method\r\n                    } catch (XYZException e) {\r\n                        ...\r\n                        try {\r\n                            throw new Exception(&quot;Internal Server Error&quot;);\r\n                        } catch (Exception ex) {\r\n                            ...\r\n                        }\r\n                    }\r\n                    responseList.add(responseChunk);\r\n                });\r\n            }\r\n            executorService.shutdown();\r\n            try {\r\n                executorService.awaitTermination(Long.MAX_VALUE, TimeUnit.DAYS);\r\n            } catch (InterruptedException e) {..}\r\n        }\r\n        return responseList;\r\n\r\n}\r\n\r\nprivate Response callService(..) {\r\n\r\n  // call to public method1\r\n  method1(..);\r\n\r\n  // call to public method2\r\n  method2(..);\r\n}\r\n```","title":"In Java, how to test a private code running in parallel with executor service wrapped in public method","body":"<p>I had an existing non-parallel code that we recently made concurrent by using executor service. Adding concurrency ensured limit the number of requests sent to another API in our scenario. So we are calling an external service and limiting requests, waiting for all requests to complete so as merge the responses later before sending the final response.</p>\n<p>I am stuck on how to add a unit test/mock test to such a code, considering the private method is parallelized. I have added below my code structure to explain my situation.</p>\n<p>I am trying to test here</p>\n<pre><code>@Test\npublic void processRequest() {\n  ...\n}\n</code></pre>\n<p>Code</p>\n<pre><code>int MAX_BULK_SUBREQUEST_SIZE = 10;\npublic void processRequest() {\n    ...\n    // call to private method\n    ResponseList responseList = sendRequest(requestList);\n}\n\nprivate void sendRequest(List&lt;..&gt; requestList) {\n   List&lt;Response&gt; responseList = new ArrayList&lt;&gt;();\n   ExecutorService executorService = Executors.newFixedThreadPool(10);\n   \n   int numOfSubRequests = requestList.size();\n   for (int i = 0; i &lt; numOfSubRequests; i += MAX_BULK_SUBREQUEST_SIZE) {\n                List&lt;Request&gt; requestChunk;\n                if (i + MAX_BULK_SUBREQUEST_SIZE &gt;= numOfSubRequests) {\n                    requestChunk = requestList.subList(i, numOfSubRequests);\n                } else {\n                    requestChunk = requestList.subList(i, i + MAX_BULK_SUBREQUEST_SIZE);\n                }\n                \n                // parallelization\n                executorService.submit(() -&gt; {\n                    Response responseChunk = null;\n                    try {\n                        responseChunk = callService(requestChunk); // private method\n                    } catch (XYZException e) {\n                        ...\n                        try {\n                            throw new Exception(&quot;Internal Server Error&quot;);\n                        } catch (Exception ex) {\n                            ...\n                        }\n                    }\n                    responseList.add(responseChunk);\n                });\n            }\n            executorService.shutdown();\n            try {\n                executorService.awaitTermination(Long.MAX_VALUE, TimeUnit.DAYS);\n            } catch (InterruptedException e) {..}\n        }\n        return responseList;\n\n}\n\nprivate Response callService(..) {\n\n  // call to public method1\n  method1(..);\n\n  // call to public method2\n  method2(..);\n}\n</code></pre>\n"},{"tags":["java","text","hashmap","analysis","counting"],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649701761,"creation_date":1649701761,"answer_id":71832624,"question_id":71831880,"body_markdown":"I wrote some code and got the following result.\r\n\r\n    T 1/19 - 5.26%\r\n    h 1/19 - 5.26%\r\n    e 1/19 - 5.26%\r\n    r 2/19 - 10.53%\r\n    o 3/19 - 15.79%\r\n    u 1/19 - 5.26%\r\n    n 2/19 - 10.53%\r\n    d 1/19 - 5.26%\r\n    b 1/19 - 5.26%\r\n    w 1/19 - 5.26%\r\n    f 1/19 - 5.26%\r\n    x 1/19 - 5.26%\r\n\r\nI used a `List` to maintain the order of the characters.  If the order is not important, you can use a `Map`.\r\n\r\nHere&#39;s the complete runnable code.  I made the additional class an inner class so I could post this code as one block.\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class LetterFrequency {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tLetterFrequency lf = new LetterFrequency();\r\n    \t\tString sentence = &quot;The round brown fox.&quot;;\r\n    \t\tsentence = sentence.replace(&quot;.&quot;, &quot;&quot;);\r\n    \t\tList&lt;LetterCount&gt; letterCounts = lf.calculateLetterCounts(sentence);\r\n    \t\t\r\n    \t\tfor (LetterCount letterCount : letterCounts) {\r\n    \t\t\tSystem.out.print(letterCount.getLetter() + &quot; &quot;);\r\n    \t\t\tSystem.out.print(letterCount.getCount() + &quot;/&quot;);\r\n    \t\t\tSystem.out.print(sentence.length() + &quot; - &quot;);\r\n    \t\t\tdouble percentage = 100.0 * letterCount.getCount() / sentence.length();\r\n    \t\t\tSystem.out.println(String.format(&quot;%,.2f&quot;, percentage) + &quot;%&quot;);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic List&lt;LetterCount&gt; calculateLetterCounts(String sentence) {\r\n    \t\tList&lt;LetterCount&gt; letterCounts = new ArrayList&lt;&gt;();\r\n    \t\tchar[] letters = sentence.toCharArray();\r\n    \t\tfor (char c : letters) {\r\n    \t\t\tif (c != &#39; &#39;) {\r\n    \t\t\t\taddCount(letterCounts, c);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn letterCounts;\r\n    \t}\r\n    \t\r\n    \tprivate void addCount(List&lt;LetterCount&gt; letterCounts, char c) {\r\n    \t\tfor (LetterCount letterCount: letterCounts) {\r\n    \t\t\tif (letterCount.getLetter() == c) {\r\n    \t\t\t\tletterCount.incrementCount();\r\n    \t\t\t\treturn;\r\n    \t\t\t} \r\n    \t\t}\r\n    \t\t\r\n    \t\tletterCounts.add(new LetterCount(c));\r\n    \t}\r\n    \t\r\n    \tpublic class LetterCount {\r\n    \t\t\r\n    \t\tprivate final char letter;\r\n    \t\t\r\n    \t\tprivate int count;\r\n    \r\n    \t\tpublic LetterCount(char letter) {\r\n    \t\t\tthis.letter = letter;\r\n    \t\t\tthis.count = 1;\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic void incrementCount() {\r\n    \t\t\tthis.count++;\r\n    \t\t}\r\n    \r\n    \t\tpublic char getLetter() {\r\n    \t\t\treturn letter;\r\n    \t\t}\r\n    \r\n    \t\tpublic int getCount() {\r\n    \t\t\treturn count;\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n","title":"JAVA, How to count the percentage of letters used in a sentence and guess the language","body":"<p>I wrote some code and got the following result.</p>\n<pre><code>T 1/19 - 5.26%\nh 1/19 - 5.26%\ne 1/19 - 5.26%\nr 2/19 - 10.53%\no 3/19 - 15.79%\nu 1/19 - 5.26%\nn 2/19 - 10.53%\nd 1/19 - 5.26%\nb 1/19 - 5.26%\nw 1/19 - 5.26%\nf 1/19 - 5.26%\nx 1/19 - 5.26%\n</code></pre>\n<p>I used a <code>List</code> to maintain the order of the characters.  If the order is not important, you can use a <code>Map</code>.</p>\n<p>Here's the complete runnable code.  I made the additional class an inner class so I could post this code as one block.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class LetterFrequency {\n\n    public static void main(String[] args) {\n        LetterFrequency lf = new LetterFrequency();\n        String sentence = &quot;The round brown fox.&quot;;\n        sentence = sentence.replace(&quot;.&quot;, &quot;&quot;);\n        List&lt;LetterCount&gt; letterCounts = lf.calculateLetterCounts(sentence);\n        \n        for (LetterCount letterCount : letterCounts) {\n            System.out.print(letterCount.getLetter() + &quot; &quot;);\n            System.out.print(letterCount.getCount() + &quot;/&quot;);\n            System.out.print(sentence.length() + &quot; - &quot;);\n            double percentage = 100.0 * letterCount.getCount() / sentence.length();\n            System.out.println(String.format(&quot;%,.2f&quot;, percentage) + &quot;%&quot;);\n        }\n    }\n    \n    public List&lt;LetterCount&gt; calculateLetterCounts(String sentence) {\n        List&lt;LetterCount&gt; letterCounts = new ArrayList&lt;&gt;();\n        char[] letters = sentence.toCharArray();\n        for (char c : letters) {\n            if (c != ' ') {\n                addCount(letterCounts, c);\n            }\n        }\n        \n        return letterCounts;\n    }\n    \n    private void addCount(List&lt;LetterCount&gt; letterCounts, char c) {\n        for (LetterCount letterCount: letterCounts) {\n            if (letterCount.getLetter() == c) {\n                letterCount.incrementCount();\n                return;\n            } \n        }\n        \n        letterCounts.add(new LetterCount(c));\n    }\n    \n    public class LetterCount {\n        \n        private final char letter;\n        \n        private int count;\n\n        public LetterCount(char letter) {\n            this.letter = letter;\n            this.count = 1;\n        }\n        \n        public void incrementCount() {\n            this.count++;\n        }\n\n        public char getLetter() {\n            return letter;\n        }\n\n        public int getCount() {\n            return count;\n        }\n        \n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24904673,"reputation":1,"user_id":18774908,"display_name":"jereCorb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649702767,"creation_date":1649702767,"answer_id":71832812,"question_id":71831880,"body_markdown":"Change the code when you count each letter in Main for this:\r\n\r\n    // Display the count of each letter that was found\r\n            int sumOfLetters = IntStream.of(letterCount).sum();\r\n            System.out.println(sumOfLetters);\r\n            for (int i = 0; i &lt; letterCount.length; i++) {\r\n                int count = letterCount[i];\r\n                if (count &gt; 0) {\r\n                \tint percentage = count * 100 / 35;\r\n                    System.out.println((char)(i + &#39;a&#39;) + &quot; &quot; + count + &quot;/&quot; + sumOfLetters + &quot; - &quot; + percentage + &quot;%&quot;);\r\n                }\r\n            }\r\nIt count the amount of letter before the loop and also change the the println().","title":"JAVA, How to count the percentage of letters used in a sentence and guess the language","body":"<p>Change the code when you count each letter in Main for this:</p>\n<pre><code>// Display the count of each letter that was found\n        int sumOfLetters = IntStream.of(letterCount).sum();\n        System.out.println(sumOfLetters);\n        for (int i = 0; i &lt; letterCount.length; i++) {\n            int count = letterCount[i];\n            if (count &gt; 0) {\n                int percentage = count * 100 / 35;\n                System.out.println((char)(i + 'a') + &quot; &quot; + count + &quot;/&quot; + sumOfLetters + &quot; - &quot; + percentage + &quot;%&quot;);\n            }\n        }\n</code></pre>\n<p>It count the amount of letter before the loop and also change the the println().</p>\n"}],"owner":{"account_id":24861747,"reputation":11,"user_id":18737425,"display_name":"Sophie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":338,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1649702767,"creation_date":1649697679,"question_id":71831880,"body_markdown":"Im trying to get the percentage out of the letters in a sentence and then use language analysis to figure out what language it is. \r\n\r\nI am able to count the letters but its not spitting out the exact thing I wish to have. As well as how to use the language analysis thing. \r\n\r\nI found some code on another stack page that has helped a bit, but how do I get it to print out the letters as follows: \r\n\r\n```\r\nT 1/19 - 5%\r\nh 1/19 - 5%\r\ne 1/19 - 5%\r\nr 2/19 - 10%\r\no 3/19 - 15%\r\nu 1/19 - 5%\r\nn 2/19 - 10%\r\nd 1/19 - 5%\r\nb 1/19 - 5%\r\nw 1/19 - 5%\r\nf 1/19 - 5%\r\nx 1/19 - 5%\r\n```\r\nOutput right now is this:\r\n\r\n```\r\nb occurs 1 times\r\nd occurs 1 times\r\ne occurs 1 times\r\nf occurs 1 times\r\nh occurs 1 times\r\nn occurs 2 times\r\no occurs 3 times\r\nr occurs 2 times\r\nt occurs 1 times\r\nu occurs 1 times\r\nw occurs 1 times\r\nx occurs 1 times\r\nTotal number of letters is 16\r\n\r\n&#39;Grace&#39; &#39;Hopper&#39; &#39;f�dd&#39; &#39;Murray&#39; &#39;f�dd&#39; &#39;den&#39; &#39;december&#39; &#39;i&#39; &#39;New&#39; &#39;York&#39; &#39;d�d&#39; &#39;den&#39; &#39;januari&#39; &#39;i&#39; &#39;Arlington&#39; &#39;Virginia&#39; &#39;var&#39; &#39;en&#39; &#39;amerikansk&#39; &#39;datorpionj�r&#39; &#39;och&#39; &#39;sj�officer&#39; &#39;flottiljamiral&#39; \r\n ---- Loop enum:\r\nEN\r\nReading file assets/lang-samples/EN.txt\r\nSV\r\nReading file assets/lang-samples/SV.txt\r\nFI\r\nReading file assets/lang-samples/FI.txt\r\n```\r\nThis is my code and the code is from another stack page that works in a sense...\r\n\r\n```\r\nimport java.util.HashMap;\r\n\r\npublic class Main {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tString sentence = &quot;\\&quot;The round brown fox.&quot;;\r\n\t\tint[] letterCount = new int[2100];\r\n\t\tif (sentence.contains(&quot;.&quot;)) {\r\n\t\t\t// toLowerCase() the sentence since we count upper and lowercase as the same\r\n\t\t\tfor (char letter : sentence.toLowerCase().toCharArray()) {\r\n\t\t\t\tif (Character.isLetter(letter)) {\r\n\t\t\t\t\tletterCount[letter - &#39;a&#39;]++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Display the count of each letter that was found\r\n\t\t\tint sumOfLetters = 0;\r\n\t\t\tfor (int i = 0; i &lt; letterCount.length; i++) {\r\n\t\t\t\tint count = letterCount[i];\r\n\t\t\t\tif (count &gt; 0) {\r\n\t\t\t\t\tSystem.out.println((char)(i + &#39;a&#39;) + &quot; occurs &quot; + count + &quot; times&quot;);\r\n\t\t\t\t\tsumOfLetters += count;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tSystem.out.println(&quot;Total number of letters is &quot; + sumOfLetters);\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;You forgot a period.  Try again.&quot;);\r\n\t\t}\r\n\r\n\t\tString text = &quot;Grace Hopper (f&#246;dd Murray), f&#246;dd den 9 december 1906 i New York, d&#246;d den 1 januari 1992 i Arlington, Virginia, var en amerikansk dator-pionj&#228;r och sj&#246;officer (flottiljamiral).&quot;;\r\n\r\n\r\n\t\ttext = text.replaceAll(&quot;[^\\\\p{L}\\\\s]&quot;, &quot;&quot;);\r\n\r\n\t\ttext = text.replaceAll(&quot;\\\\s+&quot;, &quot; &quot;);\r\n\r\n\t\tString[] words = text.split(&quot; &quot;);\r\n\r\n\t\tfor (String word: words) {\r\n\t\t\tSystem.out.print(&quot;&#39;&quot; + word + &quot;&#39; &quot;);\r\n\t\t}\r\n\r\n\t\tHashMap&lt;LangLabel,Language&gt; languages = new HashMap&lt;&gt;();\r\n\t\tSystem.out.println(&quot;\\n ---- Loop enum:&quot;);\r\n\t\tfor (LangLabel label: LangLabel.values()) {\r\n\t\t\tSystem.out.println(label);\r\n\r\n\t\t\tString content = Utils.readTextFile(&quot;assets/lang-samples/&quot; + label + &quot;.txt&quot;);\r\n\r\n\t\t\tlanguages.put(label, new Language(content, label));\r\n\t\t}\r\n\r\n\t}\r\n}\r\n\r\n```\r\n```\r\npublic enum LangLabel {\r\n\r\n    DE(&quot;tyska&quot;),\r\n    EN(&quot;engelska&quot;),\r\n    ES(&quot;spanska&quot;),\r\n    FI(&quot;finska&quot;),\r\n    FR(&quot;franska&quot;),\r\n    IT(&quot;italienska&quot;),\r\n    NO(&quot;norska&quot;),\r\n    SV(&quot;svenska&quot;);\r\n\r\n    private String name;\r\n\r\n    // Specialkonstruktor som k&#246;rs av sj&#228;lva enum-konstanten\r\n    LangLabel(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    // Getter f&#246;r namnet som initialiserats i konstruktorn. T.ex:\r\n    // LangLabel.SV.getName(); returnerar &quot;svenska&quot;\r\n    public String getName() {\r\n        return name;\r\n    }\r\n}\r\n```\r\n```\r\nimport java.util.HashMap;\r\n\r\npublic class Language {\r\n    String content;\r\n    LangLabel label;\r\n\r\n    HashMap&lt;String, Integer&gt; charCount = new HashMap&lt;String,Integer&gt;();\r\n    HashMap&lt;String, Double&gt; charDistribution = new HashMap&lt;String,Double&gt;();\r\n\r\n    public Language(String content, LangLabel label) {\r\n        this.content = content;\r\n        this.label = label;\r\n\r\n        this.content = this.content.replaceAll(&quot;[^\\\\p{L}]&quot;, &quot;&quot;).toLowerCase();\r\n\r\n        calcCharDistribution();\r\n    }\r\n\r\n    private void calcCharDistribution() {\r\n\r\n        for (int i = 0; i &lt; content.length(); i++) {\r\n            //System.out.println(content.charAt(i));\r\n            // Konvertera char till String:\r\n            String letter = Character.toString(content.charAt(i));\r\n\r\n            if (!charCount.containsKey(letter)) {\r\n                charCount.put(letter, 0);\r\n            }\r\n\r\n            charCount.put(letter, charCount.get(letter)+1);\r\n\r\n        }\r\n\r\n        for (String letter: charCount.keySet()) {\r\n\r\n            // Hur stor andel av hela texten &#228;r innevarande bokstav (*100 om vi vill ha det i procent)\r\n            Double distr = (double) charCount.getOrDefault(letter, 0) / content.length() * 100;\r\n\r\n            charDistribution.put(letter, distr);\r\n\r\n            System.out.println(letter + &quot; count: &quot; + charCount.get(letter) + &quot; distribution: &quot; + distr);\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n\r\n```\r\nimport java.io.*;\r\nimport java.nio.charset.StandardCharsets;\r\n\r\npublic class Utils {\r\n    static Object loadObject(String fileName) {\r\n        Object retObj = null;\r\n\r\n        try {\r\n            ObjectInputStream objIn = new ObjectInputStream(new FileInputStream(fileName));\r\n\r\n            retObj = objIn.readObject();\r\n\r\n            objIn.close();\r\n\r\n        } catch (FileNotFoundException e) {\r\n            System.out.println(&quot;Ingen savefile hittades!&quot;);\r\n        } catch (InvalidClassException e) {\r\n            System.out.println(&quot;Savefilen &#228;r f&#246;r&#229;ldrad, skapar nytt objekt.&quot;);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } catch (ClassNotFoundException e) {\r\n            System.out.println(&quot;Class not found!&quot;);\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return retObj;\r\n    }\r\n\r\n    static void saveObject(String fileName, Object objectToSave) {\r\n        System.out.println(&quot;Saving object to file &quot; + fileName);\r\n        try {\r\n            FileOutputStream outStream = new FileOutputStream(fileName);\r\n            ObjectOutputStream objOutStream = new ObjectOutputStream(outStream);\r\n\r\n            objOutStream.writeObject(objectToSave);\r\n\r\n            objOutStream.close();\r\n\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n\r\n    static String readTextFile(String fileName) {\r\n        System.out.println(&quot;Reading file &quot; + fileName);\r\n        StringBuilder retStr = new StringBuilder();\r\n\r\n        try {\r\n            FileInputStream inStream = new FileInputStream(fileName);\r\n            InputStreamReader reader = new InputStreamReader(inStream, StandardCharsets.UTF_8);\r\n            BufferedReader bufferedReader = new BufferedReader(reader);\r\n\r\n            String line;\r\n\r\n            while ((line = bufferedReader.readLine()) != null) {\r\n                retStr.append(line);\r\n            }\r\n\r\n            bufferedReader.close();\r\n\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return retStr.toString();\r\n\r\n    }\r\n\r\n    static void writeTextFile(String fileName, String fileContents) {\r\n        System.out.println(&quot;Writing file &quot; + fileName);\r\n\r\n        try {\r\n            FileOutputStream outStream = new FileOutputStream(fileName);\r\n            OutputStreamWriter writer = new OutputStreamWriter(outStream, StandardCharsets.UTF_8);\r\n            BufferedWriter bufferedWriter = new BufferedWriter(writer);\r\n\r\n            bufferedWriter.write(fileContents);\r\n            bufferedWriter.close();\r\n\r\n            /* for (int i = 0; i &lt; fileContents.length(); i++) {\r\n                writer.write(fileContents.charAt(i));\r\n            }\r\n            writer.close(); */\r\n\r\n        } catch (FileNotFoundException e) {\r\n            System.out.println(&quot;File not found&quot;);\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```","title":"JAVA, How to count the percentage of letters used in a sentence and guess the language","body":"<p>Im trying to get the percentage out of the letters in a sentence and then use language analysis to figure out what language it is.</p>\n<p>I am able to count the letters but its not spitting out the exact thing I wish to have. As well as how to use the language analysis thing.</p>\n<p>I found some code on another stack page that has helped a bit, but how do I get it to print out the letters as follows:</p>\n<pre><code>T 1/19 - 5%\nh 1/19 - 5%\ne 1/19 - 5%\nr 2/19 - 10%\no 3/19 - 15%\nu 1/19 - 5%\nn 2/19 - 10%\nd 1/19 - 5%\nb 1/19 - 5%\nw 1/19 - 5%\nf 1/19 - 5%\nx 1/19 - 5%\n</code></pre>\n<p>Output right now is this:</p>\n<pre><code>b occurs 1 times\nd occurs 1 times\ne occurs 1 times\nf occurs 1 times\nh occurs 1 times\nn occurs 2 times\no occurs 3 times\nr occurs 2 times\nt occurs 1 times\nu occurs 1 times\nw occurs 1 times\nx occurs 1 times\nTotal number of letters is 16\n\n'Grace' 'Hopper' 'f�dd' 'Murray' 'f�dd' 'den' 'december' 'i' 'New' 'York' 'd�d' 'den' 'januari' 'i' 'Arlington' 'Virginia' 'var' 'en' 'amerikansk' 'datorpionj�r' 'och' 'sj�officer' 'flottiljamiral' \n ---- Loop enum:\nEN\nReading file assets/lang-samples/EN.txt\nSV\nReading file assets/lang-samples/SV.txt\nFI\nReading file assets/lang-samples/FI.txt\n</code></pre>\n<p>This is my code and the code is from another stack page that works in a sense...</p>\n<pre><code>import java.util.HashMap;\n\npublic class Main {\n\n    public static void main(String[] args) {\n\n        String sentence = &quot;\\&quot;The round brown fox.&quot;;\n        int[] letterCount = new int[2100];\n        if (sentence.contains(&quot;.&quot;)) {\n            // toLowerCase() the sentence since we count upper and lowercase as the same\n            for (char letter : sentence.toLowerCase().toCharArray()) {\n                if (Character.isLetter(letter)) {\n                    letterCount[letter - 'a']++;\n                }\n            }\n\n            // Display the count of each letter that was found\n            int sumOfLetters = 0;\n            for (int i = 0; i &lt; letterCount.length; i++) {\n                int count = letterCount[i];\n                if (count &gt; 0) {\n                    System.out.println((char)(i + 'a') + &quot; occurs &quot; + count + &quot; times&quot;);\n                    sumOfLetters += count;\n                }\n            }\n\n            System.out.println(&quot;Total number of letters is &quot; + sumOfLetters);\n        } else {\n            System.out.println(&quot;You forgot a period.  Try again.&quot;);\n        }\n\n        String text = &quot;Grace Hopper (född Murray), född den 9 december 1906 i New York, död den 1 januari 1992 i Arlington, Virginia, var en amerikansk dator-pionjär och sjöofficer (flottiljamiral).&quot;;\n\n\n        text = text.replaceAll(&quot;[^\\\\p{L}\\\\s]&quot;, &quot;&quot;);\n\n        text = text.replaceAll(&quot;\\\\s+&quot;, &quot; &quot;);\n\n        String[] words = text.split(&quot; &quot;);\n\n        for (String word: words) {\n            System.out.print(&quot;'&quot; + word + &quot;' &quot;);\n        }\n\n        HashMap&lt;LangLabel,Language&gt; languages = new HashMap&lt;&gt;();\n        System.out.println(&quot;\\n ---- Loop enum:&quot;);\n        for (LangLabel label: LangLabel.values()) {\n            System.out.println(label);\n\n            String content = Utils.readTextFile(&quot;assets/lang-samples/&quot; + label + &quot;.txt&quot;);\n\n            languages.put(label, new Language(content, label));\n        }\n\n    }\n}\n\n</code></pre>\n<pre><code>public enum LangLabel {\n\n    DE(&quot;tyska&quot;),\n    EN(&quot;engelska&quot;),\n    ES(&quot;spanska&quot;),\n    FI(&quot;finska&quot;),\n    FR(&quot;franska&quot;),\n    IT(&quot;italienska&quot;),\n    NO(&quot;norska&quot;),\n    SV(&quot;svenska&quot;);\n\n    private String name;\n\n    // Specialkonstruktor som körs av själva enum-konstanten\n    LangLabel(String name) {\n        this.name = name;\n    }\n\n    // Getter för namnet som initialiserats i konstruktorn. T.ex:\n    // LangLabel.SV.getName(); returnerar &quot;svenska&quot;\n    public String getName() {\n        return name;\n    }\n}\n</code></pre>\n<pre><code>import java.util.HashMap;\n\npublic class Language {\n    String content;\n    LangLabel label;\n\n    HashMap&lt;String, Integer&gt; charCount = new HashMap&lt;String,Integer&gt;();\n    HashMap&lt;String, Double&gt; charDistribution = new HashMap&lt;String,Double&gt;();\n\n    public Language(String content, LangLabel label) {\n        this.content = content;\n        this.label = label;\n\n        this.content = this.content.replaceAll(&quot;[^\\\\p{L}]&quot;, &quot;&quot;).toLowerCase();\n\n        calcCharDistribution();\n    }\n\n    private void calcCharDistribution() {\n\n        for (int i = 0; i &lt; content.length(); i++) {\n            //System.out.println(content.charAt(i));\n            // Konvertera char till String:\n            String letter = Character.toString(content.charAt(i));\n\n            if (!charCount.containsKey(letter)) {\n                charCount.put(letter, 0);\n            }\n\n            charCount.put(letter, charCount.get(letter)+1);\n\n        }\n\n        for (String letter: charCount.keySet()) {\n\n            // Hur stor andel av hela texten är innevarande bokstav (*100 om vi vill ha det i procent)\n            Double distr = (double) charCount.getOrDefault(letter, 0) / content.length() * 100;\n\n            charDistribution.put(letter, distr);\n\n            System.out.println(letter + &quot; count: &quot; + charCount.get(letter) + &quot; distribution: &quot; + distr);\n\n        }\n\n    }\n\n\n}\n</code></pre>\n<pre><code>import java.io.*;\nimport java.nio.charset.StandardCharsets;\n\npublic class Utils {\n    static Object loadObject(String fileName) {\n        Object retObj = null;\n\n        try {\n            ObjectInputStream objIn = new ObjectInputStream(new FileInputStream(fileName));\n\n            retObj = objIn.readObject();\n\n            objIn.close();\n\n        } catch (FileNotFoundException e) {\n            System.out.println(&quot;Ingen savefile hittades!&quot;);\n        } catch (InvalidClassException e) {\n            System.out.println(&quot;Savefilen är föråldrad, skapar nytt objekt.&quot;);\n        } catch (IOException e) {\n            e.printStackTrace();\n        } catch (ClassNotFoundException e) {\n            System.out.println(&quot;Class not found!&quot;);\n            e.printStackTrace();\n        }\n\n        return retObj;\n    }\n\n    static void saveObject(String fileName, Object objectToSave) {\n        System.out.println(&quot;Saving object to file &quot; + fileName);\n        try {\n            FileOutputStream outStream = new FileOutputStream(fileName);\n            ObjectOutputStream objOutStream = new ObjectOutputStream(outStream);\n\n            objOutStream.writeObject(objectToSave);\n\n            objOutStream.close();\n\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n\n    static String readTextFile(String fileName) {\n        System.out.println(&quot;Reading file &quot; + fileName);\n        StringBuilder retStr = new StringBuilder();\n\n        try {\n            FileInputStream inStream = new FileInputStream(fileName);\n            InputStreamReader reader = new InputStreamReader(inStream, StandardCharsets.UTF_8);\n            BufferedReader bufferedReader = new BufferedReader(reader);\n\n            String line;\n\n            while ((line = bufferedReader.readLine()) != null) {\n                retStr.append(line);\n            }\n\n            bufferedReader.close();\n\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        return retStr.toString();\n\n    }\n\n    static void writeTextFile(String fileName, String fileContents) {\n        System.out.println(&quot;Writing file &quot; + fileName);\n\n        try {\n            FileOutputStream outStream = new FileOutputStream(fileName);\n            OutputStreamWriter writer = new OutputStreamWriter(outStream, StandardCharsets.UTF_8);\n            BufferedWriter bufferedWriter = new BufferedWriter(writer);\n\n            bufferedWriter.write(fileContents);\n            bufferedWriter.close();\n\n            /* for (int i = 0; i &lt; fileContents.length(); i++) {\n                writer.write(fileContents.charAt(i));\n            }\n            writer.close(); */\n\n        } catch (FileNotFoundException e) {\n            System.out.println(&quot;File not found&quot;);\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","database","postgresql"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":2,"creation_date":1319982574,"post_id":7945235,"comment_id":9709873,"body_markdown":"FWIW, I wouldn&#39;t do that part in Java. [The tutorial](http://www.postgresql.org/docs/9.1/interactive/tutorial.html) discusses creating a DB, tables, etc.","body":"FWIW, I wouldn&#39;t do that part in Java. <a href=\"http://www.postgresql.org/docs/9.1/interactive/tutorial.html\" rel=\"nofollow noreferrer\">The tutorial</a> discusses creating a DB, tables, etc."},{"owner":{"account_id":911998,"reputation":64385,"user_id":947357,"accept_rate":75,"display_name":"A.H."},"score":1,"creation_date":1319984449,"post_id":7945235,"comment_id":9710127,"body_markdown":"And after setting up the database I&#39;m sure you want to know how to connect to that database inn Java. The [PostgreSQL JDBC Docs](http://jdbc.postgresql.org/documentation/head/index.html) will tell you.","body":"And after setting up the database I&#39;m sure you want to know how to connect to that database inn Java. The <a href=\"http://jdbc.postgresql.org/documentation/head/index.html\" rel=\"nofollow noreferrer\">PostgreSQL JDBC Docs</a> will tell you."}],"answers":[{"tags":[],"owner":{"account_id":904738,"reputation":617065,"user_id":939860,"accept_rate":100,"display_name":"Erwin Brandstetter"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1649702760,"creation_date":1319984666,"answer_id":7945442,"question_id":7945235,"body_markdown":"Creating a database is simple enough once your database cluster is in place.  \r\nConnect to the maintenance database `postgres` (installed by default) and issue\r\n\r\n    CREATE DATABASE testdb;\r\n\r\nThe database will be created and you can connect to it now. Of course you need to have the necessary [privileges to create a database][1].\r\n\r\n\r\n  [1]: https://www.postgresql.org/docs/current/sql-createrole.html","title":"How can I create a PostgreSQL database in Java?","body":"<p>Creating a database is simple enough once your database cluster is in place.<br />\nConnect to the maintenance database <code>postgres</code> (installed by default) and issue</p>\n<pre><code>CREATE DATABASE testdb;\n</code></pre>\n<p>The database will be created and you can connect to it now. Of course you need to have the necessary <a href=\"https://www.postgresql.org/docs/current/sql-createrole.html\" rel=\"nofollow noreferrer\">privileges to create a database</a>.</p>\n"},{"tags":[],"owner":{"account_id":3207344,"reputation":133,"user_id":2708137,"accept_rate":40,"display_name":"Kanwar_Singh"},"down_vote_count":10,"up_vote_count":0,"is_accepted":false,"score":-10,"last_activity_date":1392055297,"creation_date":1392055297,"answer_id":21684614,"question_id":7945235,"body_markdown":"Your question is little bit wrong,with Java code you cannot create a database,you can just connect to a database.\r\n\r\n\r\nFirst of all you need to create a database in PgAdminIII. \r\n\r\nHere is the code which will help you to create table in postgresql database through JAVA\r\n\r\n        package database;\r\n\r\n          import java.sql.Connection;\r\n          import java.sql.DriverManager;\r\n          import java.sql.SQLException;\r\n          import java.sql.Statement;\r\n          import java.util.logging.Level;\r\n          import java.util.logging.Logger;\r\n          public class Database {\r\n\r\n\r\n          public static void main(String args[]) {\r\n         try {\r\n            Connection c = null;\r\n            Statement stmt = null;\r\n           \r\n            try {\r\n               Class.forName(&quot;org.postgresql.Driver&quot;); \r\n               c = DriverManager.getConnection(&quot;jdbc:postgresql://localhost:5432/kanwar&quot;,&quot;postgres&quot;, &quot;osm&quot;); \r\n            } catch (Exception e) {\r\n               e.printStackTrace();\r\n               System.err.println(e.getClass().getName()+&quot;: &quot;+e.getMessage());\r\n               System.exit(0);\r\n            }\r\n            System.out.println(&quot;Opened database successfully&quot;);\r\n              try {\r\n                  stmt = c.createStatement();\r\n              } catch (SQLException ex) {\r\n                  Logger.getLogger(Database.class.getName()).log(Level.SEVERE, null, ex);\r\n              }\r\n         String sql = &quot;CREATE TABLE MY_TABLE &quot;+ \r\n                 &quot;(ID INT NOT NULL,&quot;\r\n                 + &quot;NAME TEXT       NOT NULL,&quot;\r\n                 +     &quot;AGE             INT                  NOT NULL)&quot;;\r\n         \r\n         \r\n         \r\n         \r\n         stmt.executeUpdate(sql);\r\n         stmt.close();\r\n         c.close();\r\n        } catch (SQLException ex) {\r\n            Logger.getLogger(Database.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n        catch(Exception e)\r\n        {\r\n         System.err.println( e.getClass().getName()+&quot;: &quot;+ e.getMessage() ); \r\n         System.exit(0);\r\n        }\r\n        System.out.println(&quot;Table Created Successfully&quot;);\r\n        }\r\n        }\r\n\r\n\r\n\r\n\r\n   \r\n\r\n\r\n\r\n\r\n\r\n\r\nFor complete reference:http://kodingpoint.blogspot.in/2014/01/java-postgresql-connectivity-example.html","title":"How can I create a PostgreSQL database in Java?","body":"<p>Your question is little bit wrong,with Java code you cannot create a database,you can just connect to a database.</p>\n\n<p>First of all you need to create a database in PgAdminIII. </p>\n\n<p>Here is the code which will help you to create table in postgresql database through JAVA</p>\n\n<pre><code>    package database;\n\n      import java.sql.Connection;\n      import java.sql.DriverManager;\n      import java.sql.SQLException;\n      import java.sql.Statement;\n      import java.util.logging.Level;\n      import java.util.logging.Logger;\n      public class Database {\n\n\n      public static void main(String args[]) {\n     try {\n        Connection c = null;\n        Statement stmt = null;\n\n        try {\n           Class.forName(\"org.postgresql.Driver\"); \n           c = DriverManager.getConnection(\"jdbc:postgresql://localhost:5432/kanwar\",\"postgres\", \"osm\"); \n        } catch (Exception e) {\n           e.printStackTrace();\n           System.err.println(e.getClass().getName()+\": \"+e.getMessage());\n           System.exit(0);\n        }\n        System.out.println(\"Opened database successfully\");\n          try {\n              stmt = c.createStatement();\n          } catch (SQLException ex) {\n              Logger.getLogger(Database.class.getName()).log(Level.SEVERE, null, ex);\n          }\n     String sql = \"CREATE TABLE MY_TABLE \"+ \n             \"(ID INT NOT NULL,\"\n             + \"NAME TEXT       NOT NULL,\"\n             +     \"AGE             INT                  NOT NULL)\";\n\n\n\n\n     stmt.executeUpdate(sql);\n     stmt.close();\n     c.close();\n    } catch (SQLException ex) {\n        Logger.getLogger(Database.class.getName()).log(Level.SEVERE, null, ex);\n    }\n    catch(Exception e)\n    {\n     System.err.println( e.getClass().getName()+\": \"+ e.getMessage() ); \n     System.exit(0);\n    }\n    System.out.println(\"Table Created Successfully\");\n    }\n    }\n</code></pre>\n\n<p>For complete reference:<a href=\"http://kodingpoint.blogspot.in/2014/01/java-postgresql-connectivity-example.html\" rel=\"nofollow\">http://kodingpoint.blogspot.in/2014/01/java-postgresql-connectivity-example.html</a></p>\n"},{"tags":[],"owner":{"account_id":100142,"reputation":559,"user_id":270093,"accept_rate":100,"display_name":"bosvos"},"down_vote_count":2,"up_vote_count":20,"is_accepted":false,"score":18,"last_activity_date":1604324599,"creation_date":1395659906,"answer_id":22607903,"question_id":7945235,"body_markdown":"You CAN create and drop PostgreSQL db&#39;s via Java using the Statement object.\r\n\r\nExample:\r\n\r\n    Connection c = DriverManager.getConnection(&quot;jdbc:postgresql://localhost:5432/&quot;, &quot;username&quot;, &quot;password&quot;);\r\n    Statement statement = c.createStatement();\r\n    statement.executeUpdate(&quot;DROP DATABASE mydb&quot;);\r\n\r\nSee the following link for a good starting point:\r\n\r\nhttp://www.jvmhost.com/articles/create-drop-databases-dynamically-java-jsp-code\r\n","title":"How can I create a PostgreSQL database in Java?","body":"<p>You CAN create and drop PostgreSQL db's via Java using the Statement object.</p>\n<p>Example:</p>\n<pre><code>Connection c = DriverManager.getConnection(&quot;jdbc:postgresql://localhost:5432/&quot;, &quot;username&quot;, &quot;password&quot;);\nStatement statement = c.createStatement();\nstatement.executeUpdate(&quot;DROP DATABASE mydb&quot;);\n</code></pre>\n<p>See the following link for a good starting point:</p>\n<p><a href=\"http://www.jvmhost.com/articles/create-drop-databases-dynamically-java-jsp-code\" rel=\"nofollow noreferrer\">http://www.jvmhost.com/articles/create-drop-databases-dynamically-java-jsp-code</a></p>\n"},{"tags":[],"owner":{"account_id":5889011,"reputation":11,"user_id":4636197,"display_name":"Albert"},"down_vote_count":6,"up_vote_count":1,"is_accepted":false,"score":-5,"last_activity_date":1425555201,"creation_date":1425549974,"answer_id":28875095,"question_id":7945235,"body_markdown":"You can see her how to create database Hope this help\r\n\r\n1. What you do is connect to localhost\r\n2. create an sql &quot;create database your_db&quot;\r\n3. execute\r\n\r\nhttp://www.tutorialspoint.com/jdbc/jdbc-create-database.htm\r\n\r\nYou must connect first to the localhost\r\n\r\n    //STEP 1. Import required packages\r\n    import java.sql.*;\r\n\r\n    public class JDBCExample {\r\n       // JDBC driver name and database URL\r\n       static final String JDBC_DRIVER = &quot;com.mysql.jdbc.Driver&quot;;  \r\n       static final String DB_URL = &quot;jdbc:mysql://localhost/&quot;;\r\n    \r\n       //  Database credentials\r\n       static final String USER = &quot;username&quot;;\r\n       static final String PASS = &quot;password&quot;;\r\n       \r\n       public static void main(String[] args) {\r\n       Connection conn = null;\r\n       Statement stmt = null;\r\n       try{\r\n          //STEP 2: Register JDBC driver\r\n          Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n    \r\n          //STEP 3: Open a connection\r\n          System.out.println(&quot;Connecting to database...&quot;);\r\n          conn = DriverManager.getConnection(DB_URL, USER, PASS);\r\n    \r\n          //STEP 4: Execute a query\r\n          System.out.println(&quot;Creating database...&quot;);\r\n          stmt = conn.createStatement();\r\n          \r\n          String sql = &quot;CREATE DATABASE STUDENTS&quot;;\r\n          stmt.executeUpdate(sql);\r\n          System.out.println(&quot;Database created successfully...&quot;);\r\n       }catch(SQLException se){\r\n          //Handle errors for JDBC\r\n          se.printStackTrace();\r\n       }catch(Exception e){\r\n          //Handle errors for Class.forName\r\n          e.printStackTrace();\r\n       }finally{\r\n          //finally block used to close resources\r\n          try{\r\n             if(stmt!=null)\r\n                stmt.close();\r\n          }catch(SQLException se2){\r\n          }// nothing we can do\r\n      try{\r\n         if(conn!=null)\r\n            conn.close();\r\n      }catch(SQLException se){\r\n         se.printStackTrace();\r\n          }//end finally try\r\n       }//end try\r\n      System.out.println(&quot;Goodbye!&quot;);\r\n    }//end main\r\n    }//end JDBCExample\r\n\r\n","title":"How can I create a PostgreSQL database in Java?","body":"<p>You can see her how to create database Hope this help</p>\n\n<ol>\n<li>What you do is connect to localhost</li>\n<li>create an sql \"create database your_db\"</li>\n<li>execute</li>\n</ol>\n\n<p><a href=\"http://www.tutorialspoint.com/jdbc/jdbc-create-database.htm\" rel=\"nofollow\">http://www.tutorialspoint.com/jdbc/jdbc-create-database.htm</a></p>\n\n<p>You must connect first to the localhost</p>\n\n<pre><code>//STEP 1. Import required packages\nimport java.sql.*;\n\npublic class JDBCExample {\n   // JDBC driver name and database URL\n   static final String JDBC_DRIVER = \"com.mysql.jdbc.Driver\";  \n   static final String DB_URL = \"jdbc:mysql://localhost/\";\n\n   //  Database credentials\n   static final String USER = \"username\";\n   static final String PASS = \"password\";\n\n   public static void main(String[] args) {\n   Connection conn = null;\n   Statement stmt = null;\n   try{\n      //STEP 2: Register JDBC driver\n      Class.forName(\"com.mysql.jdbc.Driver\");\n\n      //STEP 3: Open a connection\n      System.out.println(\"Connecting to database...\");\n      conn = DriverManager.getConnection(DB_URL, USER, PASS);\n\n      //STEP 4: Execute a query\n      System.out.println(\"Creating database...\");\n      stmt = conn.createStatement();\n\n      String sql = \"CREATE DATABASE STUDENTS\";\n      stmt.executeUpdate(sql);\n      System.out.println(\"Database created successfully...\");\n   }catch(SQLException se){\n      //Handle errors for JDBC\n      se.printStackTrace();\n   }catch(Exception e){\n      //Handle errors for Class.forName\n      e.printStackTrace();\n   }finally{\n      //finally block used to close resources\n      try{\n         if(stmt!=null)\n            stmt.close();\n      }catch(SQLException se2){\n      }// nothing we can do\n  try{\n     if(conn!=null)\n        conn.close();\n  }catch(SQLException se){\n     se.printStackTrace();\n      }//end finally try\n   }//end try\n  System.out.println(\"Goodbye!\");\n}//end main\n}//end JDBCExample\n</code></pre>\n"}],"owner":{"account_id":465597,"reputation":243,"user_id":869778,"accept_rate":29,"display_name":"user869778"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24815,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":4,"score":17,"last_activity_date":1649702760,"creation_date":1319982004,"question_id":7945235,"body_markdown":"I have created a set of SQL queries that modify a database, and now I want to test them.\r\n\r\nHow can I create a local and temporary PostgreSQL database to test my queries. I&#39;m working in Java.","title":"How can I create a PostgreSQL database in Java?","body":"<p>I have created a set of SQL queries that modify a database, and now I want to test them.</p>\n\n<p>How can I create a local and temporary PostgreSQL database to test my queries. I'm working in Java.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1649701528,"post_id":71832578,"comment_id":126938153,"body_markdown":"Please read: [Why not upload images of code/errors when asking a question?](https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question)","body":"Please read: <a href=\"https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question\">Why not upload images of code/errors when asking a question?</a>"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1649701637,"post_id":71832578,"comment_id":126938178,"body_markdown":"In Java, we cannot access the characters of a `String` with array-brackets. We would use [`String::charAt`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#charAt(int)) instead.","body":"In Java, we cannot access the characters of a <code>String</code> with array-brackets. We would use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#charAt(int)\" rel=\"nofollow noreferrer\"><code>String::charAt</code></a> instead."},{"owner":{"account_id":10434077,"reputation":187,"user_id":7692977,"display_name":"Mashwishi"},"score":0,"creation_date":1649701875,"post_id":71832578,"comment_id":126938256,"body_markdown":"I did the if(str.charAt(pointer1) == str.charAt(pointer2)) { it worked on pointer1 however pointer2 giving me error of incompatible types: possible lossy conversion from double to int","body":"I did the if(str.charAt(pointer1) == str.charAt(pointer2)) { it worked on pointer1 however pointer2 giving me error of incompatible types: possible lossy conversion from double to int"},{"owner":{"account_id":10434077,"reputation":187,"user_id":7692977,"display_name":"Mashwishi"},"score":0,"creation_date":1649701901,"post_id":71832578,"comment_id":126938263,"body_markdown":"gonna try str.charAt((int)pointer2))","body":"gonna try str.charAt((int)pointer2))"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1649701938,"post_id":71832578,"comment_id":126938271,"body_markdown":"`pointer2` is a `double`. We can use only `int`s for `charAt(...)` (as well was array access).","body":"<code>pointer2</code> is a <code>double</code>. We can use only <code>int</code>s for <code>charAt(...)</code> (as well was array access)."},{"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"score":1,"creation_date":1649702206,"post_id":71832578,"comment_id":126938347,"body_markdown":"@Mashwishi consider using a proper data type instead of var when declaring a variable. It&#39;ll definitely help you more in ensuring the expected data type.","body":"@Mashwishi consider using a proper data type instead of var when declaring a variable. It&#39;ll definitely help you more in ensuring the expected data type."}],"answers":[{"tags":[],"owner":{"account_id":10434077,"reputation":187,"user_id":7692977,"display_name":"Mashwishi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649702637,"creation_date":1649702637,"answer_id":71832790,"question_id":71832578,"body_markdown":"Thanks to for sharing the [`String::charAt`][1] this is very helpful \r\n\r\nI used charAt and convert double to int.\r\n\r\n```java\r\nimport java.util.Scanner;\r\n    class check\r\n    {\r\n    public static void main(String args[])\r\n    {\r\n        String str, rev = &quot;&quot;;\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.println(&quot;Enter a string:&quot;);\r\n        str = sc.nextLine();\r\n        int length = str.length();\r\n\r\n        for ( int i = length - 1; i &gt;= 0; i-- )\r\n            rev = rev + str.charAt(i);\r\n        //Check if Symmetrical\r\n        if (isSymmetrical(str)) {\r\n            System.out.println(str +&quot; is a symmetrical&quot;);\r\n        } else {\r\n            System.out.println(str +&quot; is not a symmetrical&quot;);\r\n        }\r\n        //Check if palindrome\r\n        if (str.equals(rev))\r\n            System.out.println(str +&quot; is a palindrome&quot;);\r\n        else\r\n            System.out.println(str +&quot; is not a palindrome&quot;);\r\n    }\r\n    public static boolean isSymmetrical(String str){\r\n        double midIndex;\r\n        int length = str.length();\r\n        \r\n        if (length % 2 == 0) {\r\n            midIndex = Math.floor(length/2);\r\n        }\r\n        else {\r\n            midIndex = Math.floor(length/2) + 1;\r\n        }\r\n            int pointer1 = 0;\r\n            double pointer2 = midIndex;\r\n            while(pointer1 &lt; midIndex &amp;&amp; pointer2 &lt; length) {\r\n                if(str.charAt(pointer1) == str.charAt((int)pointer2)) {\r\n                    pointer1 += 1;\r\n                    pointer2 += 1;\r\n                }\r\n                else {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n    }\r\n}\r\n```\r\n\r\n**Output:**\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#charAt(int)\r\n  [2]: https://i.stack.imgur.com/2M1RS.png","title":"Check string if Symmetrical and palindrome","body":"<p>Thanks to for sharing the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#charAt(int)\" rel=\"nofollow noreferrer\"><code>String::charAt</code></a> this is very helpful</p>\n<p>I used charAt and convert double to int.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n    class check\n    {\n    public static void main(String args[])\n    {\n        String str, rev = &quot;&quot;;\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Enter a string:&quot;);\n        str = sc.nextLine();\n        int length = str.length();\n\n        for ( int i = length - 1; i &gt;= 0; i-- )\n            rev = rev + str.charAt(i);\n        //Check if Symmetrical\n        if (isSymmetrical(str)) {\n            System.out.println(str +&quot; is a symmetrical&quot;);\n        } else {\n            System.out.println(str +&quot; is not a symmetrical&quot;);\n        }\n        //Check if palindrome\n        if (str.equals(rev))\n            System.out.println(str +&quot; is a palindrome&quot;);\n        else\n            System.out.println(str +&quot; is not a palindrome&quot;);\n    }\n    public static boolean isSymmetrical(String str){\n        double midIndex;\n        int length = str.length();\n        \n        if (length % 2 == 0) {\n            midIndex = Math.floor(length/2);\n        }\n        else {\n            midIndex = Math.floor(length/2) + 1;\n        }\n            int pointer1 = 0;\n            double pointer2 = midIndex;\n            while(pointer1 &lt; midIndex &amp;&amp; pointer2 &lt; length) {\n                if(str.charAt(pointer1) == str.charAt((int)pointer2)) {\n                    pointer1 += 1;\n                    pointer2 += 1;\n                }\n                else {\n                    return false;\n                }\n            }\n            return true;\n    }\n}\n</code></pre>\n<p><strong>Output:</strong>\n<a href=\"https://i.stack.imgur.com/2M1RS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2M1RS.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":10434077,"reputation":187,"user_id":7692977,"display_name":"Mashwishi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71832790,"answer_count":1,"score":0,"last_activity_date":1649702637,"creation_date":1649701469,"question_id":71832578,"body_markdown":"I just go the Symmetrical  at [makeuseof][1] and it&#39;s currently in javascript and i converted it to Java, However there&#39;s an error on the line 38 which is the array. Please check the code below, Thank you. \r\n\r\n```java\r\nimport java.util.Scanner;\r\n    class check\r\n    {\r\n    public static void main(String args[])\r\n    {\r\n        String str, rev = &quot;&quot;;\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.println(&quot;Enter a string:&quot;);\r\n        str = sc.nextLine();\r\n        int length = str.length();\r\n        for ( int i = length - 1; i &gt;= 0; i-- )\r\n            rev = rev + str.charAt(i);\r\n        //Check if Symmetrical\r\n        if (isSymmetrical(str)) {\r\n            System.out.println(str +&quot; is a symmetrical&quot;);\r\n        } else {\r\n            System.out.println(str +&quot; is not a symmetrical&quot;);\r\n        }\r\n        //Check if palindrome\r\n        if (str.equals(rev))\r\n            System.out.println(str +&quot; is a palindrome&quot;);\r\n        else\r\n            System.out.println(str +&quot; is not a palindrome&quot;);\r\n    }\r\n    public static boolean isSymmetrical(String str){\r\n        double midIndex;\r\n        var length = str.length();\r\n\r\n        if (length % 2 == 0) {\r\n            midIndex = Math.floor(length/2);\r\n        }\r\n        else {\r\n            midIndex = Math.floor(length/2) + 1;\r\n        }\r\n            var pointer1 = 0;\r\n            var pointer2 = midIndex;\r\n            while(pointer1 &lt; midIndex &amp;&amp; pointer2 &lt; length) {\r\n                if(str[pointer1] == str[pointer2]) {\r\n                    pointer1 += 1;\r\n                    pointer2 += 1;\r\n                }\r\n                else {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n    }\r\n}\r\n\r\n```\r\n\r\nError:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://www.makeuseof.com/check-if-a-string-is-symmetrical/\r\n  [2]: https://i.stack.imgur.com/tBNfQ.png","title":"Check string if Symmetrical and palindrome","body":"<p>I just go the Symmetrical  at <a href=\"https://www.makeuseof.com/check-if-a-string-is-symmetrical/\" rel=\"nofollow noreferrer\">makeuseof</a> and it's currently in javascript and i converted it to Java, However there's an error on the line 38 which is the array. Please check the code below, Thank you.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n    class check\n    {\n    public static void main(String args[])\n    {\n        String str, rev = &quot;&quot;;\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Enter a string:&quot;);\n        str = sc.nextLine();\n        int length = str.length();\n        for ( int i = length - 1; i &gt;= 0; i-- )\n            rev = rev + str.charAt(i);\n        //Check if Symmetrical\n        if (isSymmetrical(str)) {\n            System.out.println(str +&quot; is a symmetrical&quot;);\n        } else {\n            System.out.println(str +&quot; is not a symmetrical&quot;);\n        }\n        //Check if palindrome\n        if (str.equals(rev))\n            System.out.println(str +&quot; is a palindrome&quot;);\n        else\n            System.out.println(str +&quot; is not a palindrome&quot;);\n    }\n    public static boolean isSymmetrical(String str){\n        double midIndex;\n        var length = str.length();\n\n        if (length % 2 == 0) {\n            midIndex = Math.floor(length/2);\n        }\n        else {\n            midIndex = Math.floor(length/2) + 1;\n        }\n            var pointer1 = 0;\n            var pointer2 = midIndex;\n            while(pointer1 &lt; midIndex &amp;&amp; pointer2 &lt; length) {\n                if(str[pointer1] == str[pointer2]) {\n                    pointer1 += 1;\n                    pointer2 += 1;\n                }\n                else {\n                    return false;\n                }\n            }\n            return true;\n    }\n}\n\n</code></pre>\n<p>Error:\n<a href=\"https://i.stack.imgur.com/tBNfQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tBNfQ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","validation","commandinjection"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":2,"creation_date":1649702115,"post_id":71832644,"comment_id":126938316,"body_markdown":"If you allow a remote user to execute an OS command, you open yourself to all sorts of mischief.  The only safe way to do this is to NOT do it.  It is not clear what you are asking.","body":"If you allow a remote user to execute an OS command, you open yourself to all sorts of mischief.  The only safe way to do this is to NOT do it.  It is not clear what you are asking."},{"owner":{"account_id":3619169,"reputation":9458,"user_id":3018377,"accept_rate":64,"display_name":"LHA"},"score":0,"creation_date":1649702169,"post_id":71832644,"comment_id":126938337,"body_markdown":"You need to narrow your command types ...","body":"You need to narrow your command types ..."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1649702235,"post_id":71832644,"comment_id":126938358,"body_markdown":"TL;DR: You probably can&#39;t. The *best* solution is to provide a limited shell or a sandboxed VM. Naive approaches (e.g., checking for specific commands) is prone to all sorts of shell shenanigans.","body":"TL;DR: You probably can&#39;t. The <i>best</i> solution is to provide a limited shell or a sandboxed VM. Naive approaches (e.g., checking for specific commands) is prone to all sorts of shell shenanigans."},{"owner":{"account_id":9071789,"reputation":4069,"user_id":6754706,"accept_rate":38,"display_name":"RAZ_Muh_Taz"},"score":0,"creation_date":1649702262,"post_id":71832644,"comment_id":126938363,"body_markdown":"have a known list of commands you will allow and disallow all others. Right now you are allowing anything and everything.","body":"have a known list of commands you will allow and disallow all others. Right now you are allowing anything and everything."},{"owner":{"account_id":2141010,"reputation":118229,"user_id":1899640,"display_name":"that other guy"},"score":0,"creation_date":1649702458,"post_id":71832644,"comment_id":126938415,"body_markdown":"This code is not vulnerable to command injection because nothing&#39;s being injected anywhere. Any such vulnerability would be in the methods *callling* `invokeCommand`.","body":"This code is not vulnerable to command injection because nothing&#39;s being injected anywhere. Any such vulnerability would be in the methods <i>callling</i> <code>invokeCommand</code>."},{"owner":{"account_id":20167704,"reputation":3,"user_id":14791230,"display_name":"JavaBeginner"},"score":0,"creation_date":1649705217,"post_id":71832644,"comment_id":126939332,"body_markdown":"Let&#39;s say I need to sanitize the String &quot;command&quot; provided by the user before it is executed in the command OS, can I just sanitize it as a regular String or should I take care of the fact that it has to be executed in process.Runtime.getRuntime().exec(command);","body":"Let&#39;s say I need to sanitize the String &quot;command&quot; provided by the user before it is executed in the command OS, can I just sanitize it as a regular String or should I take care of the fact that it has to be executed in process.Runtime.getRuntime().exec(command);"}],"answers":[{"tags":[],"owner":{"account_id":329138,"reputation":8059,"user_id":652497,"accept_rate":91,"display_name":"Jonathan S. Fisher"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649702436,"creation_date":1649702436,"answer_id":71832741,"question_id":71832644,"body_markdown":"The correct answer is to read the documentation as your current code is not safe.\r\n\r\nhttps://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Runtime.html#exec(java.lang.String%5B%5D)\r\n\r\nThe &quot;command to execute&quot; should be a constant. ","title":"Command Injection In Java","body":"<p>The correct answer is to read the documentation as your current code is not safe.</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Runtime.html#exec(java.lang.String%5B%5D)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Runtime.html#exec(java.lang.String%5B%5D)</a></p>\n<p>The &quot;command to execute&quot; should be a constant.</p>\n"}],"owner":{"account_id":20167704,"reputation":3,"user_id":14791230,"display_name":"JavaBeginner"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":859,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71832741,"answer_count":1,"score":0,"last_activity_date":1649702436,"creation_date":1649701859,"question_id":71832644,"body_markdown":"I am new in java, a self learner. I came accross the following issue and was stuck. In fact I am trying to sanitize this code against command injection but failed to understand how. I know how to sanitize user input but this specific has to do with command executed in the OS and I am not sure how anyone help please. here is the code:\r\n\r\n    public class CommandProcessor {\r\n    \r\n    \tpublic CommandProcessor() {\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \t\r\n    \tpublic int invokeCommand(String command) throws  IOException{\r\n    \t\tint exitCode =0;\r\n    \t\t\r\n    \t\tif(command !=null &amp;&amp; !command.isEmpty()) {\r\n    \t\t\tProcess process = null;\r\n    \t\t\ttry {\r\n    \t\t\t\tprocess = Runtime.getRuntime().exec(command);\r\n    \t\t\t\tprocess.waitFor();\r\n    \t\t\t\texitCode = process.exitValue();\r\n    \t\t\t\t\r\n    \t\t\t}catch(InterruptedException e) {\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn exitCode;\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\n","title":"Command Injection In Java","body":"<p>I am new in java, a self learner. I came accross the following issue and was stuck. In fact I am trying to sanitize this code against command injection but failed to understand how. I know how to sanitize user input but this specific has to do with command executed in the OS and I am not sure how anyone help please. here is the code:</p>\n<pre><code>public class CommandProcessor {\n\n    public CommandProcessor() {\n        // TODO Auto-generated constructor stub\n    }\n    \n    public int invokeCommand(String command) throws  IOException{\n        int exitCode =0;\n        \n        if(command !=null &amp;&amp; !command.isEmpty()) {\n            Process process = null;\n            try {\n                process = Runtime.getRuntime().exec(command);\n                process.waitFor();\n                exitCode = process.exitValue();\n                \n            }catch(InterruptedException e) {\n                \n            }\n        }\n        return exitCode;\n        \n    }\n}\n</code></pre>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":17260375,"reputation":460,"user_id":12642499,"display_name":"Esther"},"score":0,"creation_date":1649698830,"post_id":71831965,"comment_id":126937248,"body_markdown":"you can just change the class name to match your file name?","body":"you can just change the class name to match your file name?"}],"answers":[{"tags":[],"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649702373,"creation_date":1649702373,"answer_id":71832733,"question_id":71831965,"body_markdown":"You can use a Scrapbook page. https://help.eclipse.org/latest/topic/org.eclipse.jdt.doc.user/concepts/cscrapbook.htm?cp=1_3_7","title":"How to practise coding in java with eclipse without creating a new class each time","body":"<p>You can use a Scrapbook page. <a href=\"https://help.eclipse.org/latest/topic/org.eclipse.jdt.doc.user/concepts/cscrapbook.htm?cp=1_3_7\" rel=\"nofollow noreferrer\">https://help.eclipse.org/latest/topic/org.eclipse.jdt.doc.user/concepts/cscrapbook.htm?cp=1_3_7</a></p>\n"}],"owner":{"account_id":9913495,"reputation":3,"user_id":17946790,"display_name":"rahul_bhise"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71832733,"answer_count":1,"score":0,"last_activity_date":1649702373,"creation_date":1649698167,"question_id":71831965,"body_markdown":"I am learning java.  \r\nwhile i was learning C++ i used to copy codes from tutorial to code::block and play with it.  \r\nbut in java with eclipse i have to create a new class each time, so that it matches the code.  \r\nis there a way so that i could copy past the code in eclipse and run it without changing the file name.  \r\nor any other tip to go around the problem.  \r\nwhat do others do, who are also learning java and  trying different codes in eclipse.","title":"How to practise coding in java with eclipse without creating a new class each time","body":"<p>I am learning java.<br />\nwhile i was learning C++ i used to copy codes from tutorial to code::block and play with it.<br />\nbut in java with eclipse i have to create a new class each time, so that it matches the code.<br />\nis there a way so that i could copy past the code in eclipse and run it without changing the file name.<br />\nor any other tip to go around the problem.<br />\nwhat do others do, who are also learning java and  trying different codes in eclipse.</p>\n"},{"tags":["java","spring","mockito","mockmvc"],"comments":[{"owner":{"account_id":15956467,"reputation":4079,"user_id":11514534,"display_name":"second"},"score":0,"creation_date":1574191614,"post_id":58941108,"comment_id":104141382,"body_markdown":"Try adding more context to your question. What do you use `@MockBean` for exaclty? Using `@Mock` instead might solve your problem.","body":"Try adding more context to your question. What do you use <code>@MockBean</code> for exaclty? Using <code>@Mock</code> instead might solve your problem."},{"owner":{"account_id":13433150,"reputation":31,"user_id":9692385,"display_name":"Nikita Piskaryov"},"score":0,"creation_date":1574237987,"post_id":58941108,"comment_id":104155839,"body_markdown":"I need to setup ApplicationContext hence @Mock isn’t applicable here","body":"I need to setup ApplicationContext hence @Mock isn’t applicable here"}],"answers":[{"tags":[],"owner":{"account_id":9011858,"reputation":51,"user_id":6716111,"display_name":"Ot&#225;vio Augusto Junior"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574252468,"creation_date":1574223261,"answer_id":58946574,"question_id":58941108,"body_markdown":"I&#39;m pretty sure that @MockBean already does that. Have you tried for sure using @MockBean? \r\n\r\nTake a look at the documentation [MockBean][1], you can set the &#39;reset&#39; mode MockitoReset.BEFORE\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/mock/mockito/MockBean.html","title":"Make @MockBean return new object for each test case","body":"<p>I'm pretty sure that @MockBean already does that. Have you tried for sure using @MockBean? </p>\n\n<p>Take a look at the documentation <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/mock/mockito/MockBean.html\" rel=\"nofollow noreferrer\">MockBean</a>, you can set the 'reset' mode MockitoReset.BEFORE</p>\n"}],"owner":{"account_id":13433150,"reputation":31,"user_id":9692385,"display_name":"Nikita Piskaryov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":938,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649702177,"creation_date":1574190002,"question_id":58941108,"body_markdown":"**Description**:\r\nI am writing integration tests where ApplicationContext is used. To simulate database failure I am using @MockBean for DAO layer.\r\nEvery test case using @MockBean reference, and referencing the same object in memory(double-checked with debug).\r\n\r\nI need different behavior of mockbean for each test case in test suite.\r\n\r\n**Problem**:\r\nI found strange situation when first test case ran with mock stubbed in second test case, hence the @MockBean returns incorrect result.\r\n\r\nI want every test case to use newly created bean, to avoid modification of shared resource.    \r\n\r\n**Question**:\r\n\r\nIs it possible to make @MockBean a prototype?\r\nSo every test case will use its own @MockBean and its stubbing won&#39;t affect other test cases.","title":"Make @MockBean return new object for each test case","body":"<p><strong>Description</strong>:\nI am writing integration tests where ApplicationContext is used. To simulate database failure I am using @MockBean for DAO layer.\nEvery test case using @MockBean reference, and referencing the same object in memory(double-checked with debug).</p>\n<p>I need different behavior of mockbean for each test case in test suite.</p>\n<p><strong>Problem</strong>:\nI found strange situation when first test case ran with mock stubbed in second test case, hence the @MockBean returns incorrect result.</p>\n<p>I want every test case to use newly created bean, to avoid modification of shared resource.</p>\n<p><strong>Question</strong>:</p>\n<p>Is it possible to make @MockBean a prototype?\nSo every test case will use its own @MockBean and its stubbing won't affect other test cases.</p>\n"},{"tags":["java","jgrapht"],"comments":[{"owner":{"account_id":2146298,"reputation":2282,"user_id":1903852,"accept_rate":77,"display_name":"Joris Kinable"},"score":0,"creation_date":1649443290,"post_id":71794987,"comment_id":126885758,"body_markdown":"I&#39;m not quite sure I understand the problem. Could you more explicitly define what is a vertex, what is an edge, and draw a simple example graph? In your description, the edge which is associated with object &#39;a&#39; is connected to node 1. But every edge in a graph is connected to 2 nodes, so that&#39;s on the other side of this edge? Explicitly define the vertices, edges, edge labels, and what the resulting (compressed) graph should look like.","body":"I&#39;m not quite sure I understand the problem. Could you more explicitly define what is a vertex, what is an edge, and draw a simple example graph? In your description, the edge which is associated with object &#39;a&#39; is connected to node 1. But every edge in a graph is connected to 2 nodes, so that&#39;s on the other side of this edge? Explicitly define the vertices, edges, edge labels, and what the resulting (compressed) graph should look like."}],"answers":[{"tags":[],"owner":{"account_id":2146298,"reputation":2282,"user_id":1903852,"accept_rate":77,"display_name":"Joris Kinable"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649701450,"creation_date":1649701450,"answer_id":71832569,"question_id":71794987,"body_markdown":"It seems you intend to delete an edge by removing it and *merging* the nodes touched by the edges. You could do this by:\r\n\r\n1. Finding the edge e1 and its both endpoints, say u and v, in the graph.\r\n\r\n2a. If there are multiple edges between u an v, then just remove the edge and there&#39;s nothing else to do.\r\n\r\n2b. If there&#39;s only one edge between u and v, we proceed as follows. Create a new vertex w. Vertex w will be the new &#39;merged&#39; node. Remove edge e1. Connect all edges from u to its neighbors to w. Do the same for v. Remove nodes u and v.\r\n\r\nIn code, this translates to:\r\n```\r\npublic static void main(String[] args){\r\n    //Create a graph\r\n    Graph&lt;Integer, String&gt; g =\r\n            new Pseudograph&lt;&gt;(SupplierUtil.createIntegerSupplier(1), null, false);\r\n    for(int i=0; i&lt;5; i++)\r\n        g.addVertex();\r\n    g.addEdge(1,2,&quot;a1&quot;);\r\n    g.addEdge(2,3,&quot;b1&quot;);\r\n    g.addEdge(3,4,&quot;b2&quot;);\r\n    g.addEdge(4,5,&quot;b3&quot;);\r\n    g.addEdge(5,1,&quot;a2&quot;);\r\n\r\n    removeEdge(g,&quot;b1&quot;);\r\n    removeEdge(g,&quot;b2&quot;);\r\n    removeEdge(g,&quot;b3&quot;);\r\n    System.out.println(g);\r\n}\r\nprivate static void removeEdge(Graph&lt;Integer, String&gt; g, String edge){\r\n    if(!g.containsEdge(edge))\r\n        throw new RuntimeException(String.format(&quot;Cannot delete edge %s because this edge does not exist in the graph!&quot;, edge));\r\n\r\n    Integer u=g.getEdgeSource(edge);\r\n    Integer v=g.getEdgeTarget(edge);\r\n\r\n    //Case 2a: there are multiple edges between vertex u and v\r\n    if(g.getAllEdges(u,v).size()&gt;1){\r\n        g.removeEdge(edge);\r\n        return;\r\n    }\r\n    //Case 2b: there is only 1 edge between u and v. Delete the edge, and merge nodes u and v into new node w.\r\n    g.removeEdge(edge);\r\n    Integer w=g.addVertex();\r\n    Set&lt;String&gt; edgesOfU = new HashSet&lt;&gt;(g.edgesOf(u));\r\n    Set&lt;String&gt; edgesOfV = new HashSet&lt;&gt;(g.edgesOf(v));\r\n    //Remove all edges between u and its neighbors and re-add those edges for node w\r\n    for(String e : edgesOfU){\r\n        Integer neighbor = Graphs.getOppositeVertex(g,e,u);\r\n        g.removeEdge(e);\r\n        g.addEdge(w,neighbor,e);\r\n    }\r\n    //Remove all edges between v and its neighbors and re-add those edges for node w\r\n    for(String e : edgesOfV){\r\n        Integer neighbor = Graphs.getOppositeVertex(g,e,v);\r\n        g.removeEdge(e);\r\n        g.addEdge(w,neighbor,e);\r\n    }\r\n    //Nodes u and v have been replaced by w, so we can safely remove u and v\r\n    g.removeVertex(u);\r\n    g.removeVertex(v);\r\n}\r\n```\r\nWhen executing this code we get the desired graph:\r\n```\r\n([1, 8], [a1={8,1}, a2={8,1}])\r\n```\r\nNote that, the delete-and-merge operation could produce graphs with multiple edges between the same node, or self-loops, so we need to use a Pseudograph as underlying graph type.","title":"Algorithm to compress my Graph (JGraphT) by delete certain edges and vertexes","body":"<p>It seems you intend to delete an edge by removing it and <em>merging</em> the nodes touched by the edges. You could do this by:</p>\n<ol>\n<li>Finding the edge e1 and its both endpoints, say u and v, in the graph.</li>\n</ol>\n<p>2a. If there are multiple edges between u an v, then just remove the edge and there's nothing else to do.</p>\n<p>2b. If there's only one edge between u and v, we proceed as follows. Create a new vertex w. Vertex w will be the new 'merged' node. Remove edge e1. Connect all edges from u to its neighbors to w. Do the same for v. Remove nodes u and v.</p>\n<p>In code, this translates to:</p>\n<pre><code>public static void main(String[] args){\n    //Create a graph\n    Graph&lt;Integer, String&gt; g =\n            new Pseudograph&lt;&gt;(SupplierUtil.createIntegerSupplier(1), null, false);\n    for(int i=0; i&lt;5; i++)\n        g.addVertex();\n    g.addEdge(1,2,&quot;a1&quot;);\n    g.addEdge(2,3,&quot;b1&quot;);\n    g.addEdge(3,4,&quot;b2&quot;);\n    g.addEdge(4,5,&quot;b3&quot;);\n    g.addEdge(5,1,&quot;a2&quot;);\n\n    removeEdge(g,&quot;b1&quot;);\n    removeEdge(g,&quot;b2&quot;);\n    removeEdge(g,&quot;b3&quot;);\n    System.out.println(g);\n}\nprivate static void removeEdge(Graph&lt;Integer, String&gt; g, String edge){\n    if(!g.containsEdge(edge))\n        throw new RuntimeException(String.format(&quot;Cannot delete edge %s because this edge does not exist in the graph!&quot;, edge));\n\n    Integer u=g.getEdgeSource(edge);\n    Integer v=g.getEdgeTarget(edge);\n\n    //Case 2a: there are multiple edges between vertex u and v\n    if(g.getAllEdges(u,v).size()&gt;1){\n        g.removeEdge(edge);\n        return;\n    }\n    //Case 2b: there is only 1 edge between u and v. Delete the edge, and merge nodes u and v into new node w.\n    g.removeEdge(edge);\n    Integer w=g.addVertex();\n    Set&lt;String&gt; edgesOfU = new HashSet&lt;&gt;(g.edgesOf(u));\n    Set&lt;String&gt; edgesOfV = new HashSet&lt;&gt;(g.edgesOf(v));\n    //Remove all edges between u and its neighbors and re-add those edges for node w\n    for(String e : edgesOfU){\n        Integer neighbor = Graphs.getOppositeVertex(g,e,u);\n        g.removeEdge(e);\n        g.addEdge(w,neighbor,e);\n    }\n    //Remove all edges between v and its neighbors and re-add those edges for node w\n    for(String e : edgesOfV){\n        Integer neighbor = Graphs.getOppositeVertex(g,e,v);\n        g.removeEdge(e);\n        g.addEdge(w,neighbor,e);\n    }\n    //Nodes u and v have been replaced by w, so we can safely remove u and v\n    g.removeVertex(u);\n    g.removeVertex(v);\n}\n</code></pre>\n<p>When executing this code we get the desired graph:</p>\n<pre><code>([1, 8], [a1={8,1}, a2={8,1}])\n</code></pre>\n<p>Note that, the delete-and-merge operation could produce graphs with multiple edges between the same node, or self-loops, so we need to use a Pseudograph as underlying graph type.</p>\n"}],"owner":{"account_id":13372240,"reputation":51,"user_id":9650262,"display_name":"INFORMATIKER IM ALL"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71832569,"answer_count":1,"score":1,"last_activity_date":1649701450,"creation_date":1649411590,"question_id":71794987,"body_markdown":"I have a graph that i want to compress by creating a new graph. So the vertexes are &quot;Topological Nodes&quot; and the edges are different objects but they have the same parent class. Now in the example i want to delete all edges with type b.\r\n\r\nThe vertices &quot;Topological Nodes&quot; have a Number (1,2,3). Nothing more so very simple.\r\nThe edges have a reference to these nodes.\r\n\r\nExample: \r\n\r\n  \r\n\r\n      Graph {\r\n        //uncompressed Graph\r\n        1 -- 2 [label=&quot;a1&quot;];\r\n        2 -- 3 [label=&quot;b1&quot;];\r\n        3 -- 4 [label=&quot;b2&quot;];\r\n        4 -- 5 [label=&quot;b3&quot;];\r\n        5 -- 1 [label=&quot;a2&quot;];\r\n      }\r\n\r\n[![uncompressed][1]][1]\r\n\r\n\r\n    Graph {\r\n        //compressed Graph\r\n        5 -- 1 [label=&quot;a2&quot;];\r\n        5 -- 1 [label=&quot;a1&quot;];\r\n    }\r\n\r\n[![compressed][2]][2]\r\n\r\nWhat i have so far is this:\r\n\r\n    public void compression(Graph&lt;TopologicalNode, IdentifiedObject&gt; unCompressedGraph){\r\n\r\n\r\n        Set&lt;SubGeographicalRegion&gt; networks = datamodel.equipmentProfile.keySet();\r\n        for (SubGeographicalRegion subGeographicalRegion : networks) {\r\n            Graph&lt;TopologicalNode, IdentifiedObject&gt; compressedGraph = GraphTypeBuilder\r\n                    .&lt;TopologicalNode, IdentifiedObject&gt;undirected().allowingSelfLoops(true)\r\n                    .edgeClass(IdentifiedObject.class).buildGraph();\r\n\r\n            ArrayList&lt;PowerTransformer&gt; powerTransformers = getPTsFromSubnet(subGeographicalRegion);\r\n\r\n            for(PowerTransformer powerTransformer :powerTransformers) {\r\n                for (PowerTransformerEnd powerTransformerEnd : powerTransformer.getEnds()) {\r\n                    if (unCompressedGraph.vertexSet().stream().filter(r -&gt; r.equals(powerTransformerEnd.getTerminal().getTopologicalNode())).findAny().isPresent()) {\r\n                        TopologicalNode start = unCompressedGraph.vertexSet().stream().filter(r -&gt; r.equals(powerTransformerEnd.getTerminal().getTopologicalNode())).findAny().get();\r\n                        compressedGraph.addVertex(start);\r\n                        ArrayList&lt;TopologicalNode&gt; nodesToBeCompressed = new ArrayList&lt;&gt;();\r\n                        Iterator&lt;TopologicalNode&gt; iterator = new DepthFirstIterator&lt;&gt;(unCompressedGraph, start);\r\n                        while (iterator.hasNext()) {\r\n                            TopologicalNode nextNode = iterator.next();\r\n                         \r\n                            Set&lt;IdentifiedObject&gt; eqs = unCompressedGraph.edgesOf(nextNode);\r\n                            //TODO: How to go on?\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nSo i dont really know how to go on and i am new to JGraphT. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aX2SS.png\r\n  [2]: https://i.stack.imgur.com/WLsLZ.png","title":"Algorithm to compress my Graph (JGraphT) by delete certain edges and vertexes","body":"<p>I have a graph that i want to compress by creating a new graph. So the vertexes are &quot;Topological Nodes&quot; and the edges are different objects but they have the same parent class. Now in the example i want to delete all edges with type b.</p>\n<p>The vertices &quot;Topological Nodes&quot; have a Number (1,2,3). Nothing more so very simple.\nThe edges have a reference to these nodes.</p>\n<p>Example:</p>\n<pre><code>  Graph {\n    //uncompressed Graph\n    1 -- 2 [label=&quot;a1&quot;];\n    2 -- 3 [label=&quot;b1&quot;];\n    3 -- 4 [label=&quot;b2&quot;];\n    4 -- 5 [label=&quot;b3&quot;];\n    5 -- 1 [label=&quot;a2&quot;];\n  }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/aX2SS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aX2SS.png\" alt=\"uncompressed\" /></a></p>\n<pre><code>Graph {\n    //compressed Graph\n    5 -- 1 [label=&quot;a2&quot;];\n    5 -- 1 [label=&quot;a1&quot;];\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/WLsLZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WLsLZ.png\" alt=\"compressed\" /></a></p>\n<p>What i have so far is this:</p>\n<pre><code>public void compression(Graph&lt;TopologicalNode, IdentifiedObject&gt; unCompressedGraph){\n\n\n    Set&lt;SubGeographicalRegion&gt; networks = datamodel.equipmentProfile.keySet();\n    for (SubGeographicalRegion subGeographicalRegion : networks) {\n        Graph&lt;TopologicalNode, IdentifiedObject&gt; compressedGraph = GraphTypeBuilder\n                .&lt;TopologicalNode, IdentifiedObject&gt;undirected().allowingSelfLoops(true)\n                .edgeClass(IdentifiedObject.class).buildGraph();\n\n        ArrayList&lt;PowerTransformer&gt; powerTransformers = getPTsFromSubnet(subGeographicalRegion);\n\n        for(PowerTransformer powerTransformer :powerTransformers) {\n            for (PowerTransformerEnd powerTransformerEnd : powerTransformer.getEnds()) {\n                if (unCompressedGraph.vertexSet().stream().filter(r -&gt; r.equals(powerTransformerEnd.getTerminal().getTopologicalNode())).findAny().isPresent()) {\n                    TopologicalNode start = unCompressedGraph.vertexSet().stream().filter(r -&gt; r.equals(powerTransformerEnd.getTerminal().getTopologicalNode())).findAny().get();\n                    compressedGraph.addVertex(start);\n                    ArrayList&lt;TopologicalNode&gt; nodesToBeCompressed = new ArrayList&lt;&gt;();\n                    Iterator&lt;TopologicalNode&gt; iterator = new DepthFirstIterator&lt;&gt;(unCompressedGraph, start);\n                    while (iterator.hasNext()) {\n                        TopologicalNode nextNode = iterator.next();\n                     \n                        Set&lt;IdentifiedObject&gt; eqs = unCompressedGraph.edgesOf(nextNode);\n                        //TODO: How to go on?\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>So i dont really know how to go on and i am new to JGraphT.</p>\n"},{"tags":["java","generics","enums","generic-method"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1649691779,"post_id":71830614,"comment_id":126934811,"body_markdown":"Not every Enum has the method `getValue` so if you define your method as taking any enum you&#39;ll not be able to use that method. Is introducing an Interface that contains the `getValue` method and that all your enums implement an option?","body":"Not every Enum has the method <code>getValue</code> so if you define your method as taking any enum you&#39;ll not be able to use that method. Is introducing an Interface that contains the <code>getValue</code> method and that all your enums implement an option?"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1649701401,"creation_date":1649693717,"answer_id":71831076,"question_id":71830614,"body_markdown":"Since you need all the `enum` elements to generate a list of `RangeOption` objects, your method should expect as a parameter a `Class&lt;T&gt;` of the enum, not a single element.\r\n\r\nIn order to access the *enum constants*, you can make use of the static method [`EnumSet.allOf()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/EnumSet.html#allOf(java.lang.Class)) of the `EnumSet`. Which expects the enums `Class&lt;T&gt;` as parameter.\r\n\r\nIn order to be able to invoke your custom method `getValue()` you need to introduce an *interface*, let&#39;s say `ModelType`, that will declare that method. In turn, `DeploymentModelType` and other *enums* should implement this *interface*.\r\n\r\nAnd you need to add a ***generic type parameter*** to the declaration of your method. It needs to be placed after *modifiers* (*if any*) and before the *return type* of the method.\r\n\r\nIn this case, *generic type parameter* has to be `&lt;T extends Enum&lt;T&gt; &amp; ModelType&gt;`. I.e. `T` is a subtype of both `java.lang.Enum` class and `ModelType` interface.\r\n\r\n[*for information on the syntax of generic methods, take a look at this tutorial*](https://docs.oracle.com/javase/tutorial/java/generics/methods.html)\r\n\r\nThe code might look like that:\r\n\r\n    private static &lt;T extends Enum&lt;T&gt; &amp; ModelType&gt;\r\n                   ProductSearchColumnRange \r\n                   extractAllColumnRangeFromEnum(ProductSearchColumn column,\r\n                                                 Class&lt;T&gt; enumClass) {\r\n        \r\n        return ProductSearchColumnRange.builder()\r\n            .column(column)\r\n            .range(EnumSet.allOf(enumClass).stream()\r\n                .map(element  -&gt; new RangeOption(element.getValue(), element.name()))\r\n                .collect(Collectors.toList()))\r\n            .build();\r\n    }\r\n    \r\n    public enum DeploymentModelType implements ModelType {\r\n        // your code\r\n    }\r\n    \r\n    public interface ModelType {\r\n        String getValue();\r\n    }","title":"Cannot resolve method `values()` for Enum inside the Generic method","body":"<p>Since you need all the <code>enum</code> elements to generate a list of <code>RangeOption</code> objects, your method should expect as a parameter a <code>Class&lt;T&gt;</code> of the enum, not a single element.</p>\n<p>In order to access the <em>enum constants</em>, you can make use of the static method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/EnumSet.html#allOf(java.lang.Class)\" rel=\"nofollow noreferrer\"><code>EnumSet.allOf()</code></a> of the <code>EnumSet</code>. Which expects the enums <code>Class&lt;T&gt;</code> as parameter.</p>\n<p>In order to be able to invoke your custom method <code>getValue()</code> you need to introduce an <em>interface</em>, let's say <code>ModelType</code>, that will declare that method. In turn, <code>DeploymentModelType</code> and other <em>enums</em> should implement this <em>interface</em>.</p>\n<p>And you need to add a <em><strong>generic type parameter</strong></em> to the declaration of your method. It needs to be placed after <em>modifiers</em> (<em>if any</em>) and before the <em>return type</em> of the method.</p>\n<p>In this case, <em>generic type parameter</em> has to be <code>&lt;T extends Enum&lt;T&gt; &amp; ModelType&gt;</code>. I.e. <code>T</code> is a subtype of both <code>java.lang.Enum</code> class and <code>ModelType</code> interface.</p>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/java/generics/methods.html\" rel=\"nofollow noreferrer\"><em>for information on the syntax of generic methods, take a look at this tutorial</em></a></p>\n<p>The code might look like that:</p>\n<pre><code>private static &lt;T extends Enum&lt;T&gt; &amp; ModelType&gt;\n               ProductSearchColumnRange \n               extractAllColumnRangeFromEnum(ProductSearchColumn column,\n                                             Class&lt;T&gt; enumClass) {\n    \n    return ProductSearchColumnRange.builder()\n        .column(column)\n        .range(EnumSet.allOf(enumClass).stream()\n            .map(element  -&gt; new RangeOption(element.getValue(), element.name()))\n            .collect(Collectors.toList()))\n        .build();\n}\n\npublic enum DeploymentModelType implements ModelType {\n    // your code\n}\n\npublic interface ModelType {\n    String getValue();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16095050,"reputation":11,"user_id":11617437,"display_name":"cncsl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649694347,"creation_date":1649694347,"answer_id":71831210,"question_id":71830614,"body_markdown":"the `java.lang.Enum` don&#39;t have `values()` method, this method is implicitly declared by compiler. It&#39;s mean that `values()` method only exist in `MyEnum.class`, can&#39;t found in `MyEnum.java`.\r\n\r\nMore info about implicitly declared method and enum specifications can be found in https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.9\r\n\r\n","title":"Cannot resolve method `values()` for Enum inside the Generic method","body":"<p>the <code>java.lang.Enum</code> don't have <code>values()</code> method, this method is implicitly declared by compiler. It's mean that <code>values()</code> method only exist in <code>MyEnum.class</code>, can't found in <code>MyEnum.java</code>.</p>\n<p>More info about implicitly declared method and enum specifications can be found in <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.9\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.9</a></p>\n"}],"owner":{"account_id":19459417,"reputation":83,"user_id":14234009,"display_name":"tbastue"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1024,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1649701401,"creation_date":1649691631,"question_id":71830614,"body_markdown":"I am trying to build a *generic method* which gets an `enum` as an argument and processes some information. \r\n\r\nBut unfortunately, it doesn&#39;t work as I would like. Maybe you have some suggestions to improve my code and prevent the errors.\r\n\r\n\r\n    private static ProductSearchColumnRange extractAllColumnRangeFromEnum(ProductSearchColumn column,\r\n                                                                          Enum someEnum) {\r\n        return ProductSearchColumnRange.builder()\r\n                .column(column)\r\n                .range(Arrays.stream(someEnum.values())\r\n                        .map(element  -&gt; new RangeOption(element.getValue(), element.name()))\r\n                        .collect(Collectors.toList()))\r\n                .build();\r\n    }\r\n\r\nI get the following error on the `someEnum.values()` call:\r\n\r\n&gt; Cannot resolve method `values()` in `Enum`\r\n\r\nI get the following errors on the `element.getValue()` and `element.name()` calls:\r\n\r\n&gt; Cannot resolve method `getValue()` \r\n\r\n&gt; Cannot resolve method `name()`\r\n\r\nThe *enums* I need to use in the method `extractAllColumnRangeFromEnum()` above all have the same structure.\r\n\r\nFor example, one of them look like this:\r\n\r\n    public enum DeploymentModelType {\r\n       PRIVATE(&quot;Private&quot;),\r\n       HYBRID(&quot;Hybrid&quot;),\r\n       PUBLIC(&quot;Public&quot;);\r\n\r\n       String value;\r\n\r\n       DeploymentModelType(String value) {\r\n           this.value = value;\r\n       }\r\n\r\n       public String getValue() {\r\n           return value;\r\n       }\r\n    }\r\n\r\nI know that I can prevent the error by using\r\n\r\n    private static ProductSearchColumnRange extractAllColumnRangeFromEnum(ProductSearchColumn column,\r\n                                                                          DeploymentModelType someEnum) { \r\n    ... \r\n    }\r\n\r\nBut then my method would not be generic. I want to use this method for *any of my enums*.","title":"Cannot resolve method `values()` for Enum inside the Generic method","body":"<p>I am trying to build a <em>generic method</em> which gets an <code>enum</code> as an argument and processes some information.</p>\n<p>But unfortunately, it doesn't work as I would like. Maybe you have some suggestions to improve my code and prevent the errors.</p>\n<pre><code>private static ProductSearchColumnRange extractAllColumnRangeFromEnum(ProductSearchColumn column,\n                                                                      Enum someEnum) {\n    return ProductSearchColumnRange.builder()\n            .column(column)\n            .range(Arrays.stream(someEnum.values())\n                    .map(element  -&gt; new RangeOption(element.getValue(), element.name()))\n                    .collect(Collectors.toList()))\n            .build();\n}\n</code></pre>\n<p>I get the following error on the <code>someEnum.values()</code> call:</p>\n<blockquote>\n<p>Cannot resolve method <code>values()</code> in <code>Enum</code></p>\n</blockquote>\n<p>I get the following errors on the <code>element.getValue()</code> and <code>element.name()</code> calls:</p>\n<blockquote>\n<p>Cannot resolve method <code>getValue()</code></p>\n</blockquote>\n<blockquote>\n<p>Cannot resolve method <code>name()</code></p>\n</blockquote>\n<p>The <em>enums</em> I need to use in the method <code>extractAllColumnRangeFromEnum()</code> above all have the same structure.</p>\n<p>For example, one of them look like this:</p>\n<pre><code>public enum DeploymentModelType {\n   PRIVATE(&quot;Private&quot;),\n   HYBRID(&quot;Hybrid&quot;),\n   PUBLIC(&quot;Public&quot;);\n\n   String value;\n\n   DeploymentModelType(String value) {\n       this.value = value;\n   }\n\n   public String getValue() {\n       return value;\n   }\n}\n</code></pre>\n<p>I know that I can prevent the error by using</p>\n<pre><code>private static ProductSearchColumnRange extractAllColumnRangeFromEnum(ProductSearchColumn column,\n                                                                      DeploymentModelType someEnum) { \n... \n}\n</code></pre>\n<p>But then my method would not be generic. I want to use this method for <em>any of my enums</em>.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":1,"creation_date":1649701645,"post_id":71832504,"comment_id":126938181,"body_markdown":"Just through a quick read-through, `leftQueue` is read &amp; modified across threads without any synchronization, so you have a data race. This may cause your bug, if one thread is writing `leftQueue = 1` but the other thread doesn&#39;t see that write. One way to solve that would be to make `leftQueue` a `volatile` field. Another would be to check it _after_ you acquire the semaphore (since acquiring it establishes a happens-before between the last release).","body":"Just through a quick read-through, <code>leftQueue</code> is read &amp; modified across threads without any synchronization, so you have a data race. This may cause your bug, if one thread is writing <code>leftQueue = 1</code> but the other thread doesn&#39;t see that write. One way to solve that would be to make <code>leftQueue</code> a <code>volatile</code> field. Another would be to check it <i>after</i> you acquire the semaphore (since acquiring it establishes a happens-before between the last release)."},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":1,"creation_date":1649701761,"post_id":71832504,"comment_id":126938218,"body_markdown":"Now that I&#39;m reading it a bit more carefully, you&#39;re reading and writing `leftQueue` from outside the semaphore&#39;s acquire-release (in the get/set methods), so it&#39;s just a full-on data race. You should use an `AtomicInteger` or `synchronized` (`volatile` isn&#39;t enough, because it doesn&#39;t solve the `+=` race.)","body":"Now that I&#39;m reading it a bit more carefully, you&#39;re reading and writing <code>leftQueue</code> from outside the semaphore&#39;s acquire-release (in the get/set methods), so it&#39;s just a full-on data race. You should use an <code>AtomicInteger</code> or <code>synchronized</code> (<code>volatile</code> isn&#39;t enough, because it doesn&#39;t solve the <code>+=</code> race.)"},{"owner":{"account_id":23047294,"reputation":1,"user_id":17164677,"display_name":"burnershuff"},"score":0,"creation_date":1649701886,"post_id":71832504,"comment_id":126938259,"body_markdown":"My good friend yshavit, that appears to have made some sort of progress. I have no idea what a volatile field is but that made some progress with it. Not sure if that is the complete fix but it is definitely a step forward. I wish you all the best. Will update if that fixes it!","body":"My good friend yshavit, that appears to have made some sort of progress. I have no idea what a volatile field is but that made some progress with it. Not sure if that is the complete fix but it is definitely a step forward. I wish you all the best. Will update if that fixes it!"},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":0,"creation_date":1649702727,"post_id":71832504,"comment_id":126938489,"body_markdown":"Multithreading code is _really_ hard to figure out by experimentation, because it plays out probabilisticly/randomly almost by definition. I would highly suggest a more comprehensive approach to learning it. I read Java Concurrency In Practice, which I highly recommend (it&#39;s a bit dated now in terms of the high-level constructs it talks about, but the main thing it teaches is about how to think about concurrency), though I&#39;m sure there are other good resources out there.","body":"Multithreading code is <i>really</i> hard to figure out by experimentation, because it plays out probabilisticly/randomly almost by definition. I would highly suggest a more comprehensive approach to learning it. I read Java Concurrency In Practice, which I highly recommend (it&#39;s a bit dated now in terms of the high-level constructs it talks about, but the main thing it teaches is about how to think about concurrency), though I&#39;m sure there are other good resources out there."}],"owner":{"account_id":23047294,"reputation":1,"user_id":17164677,"display_name":"burnershuff"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649701071,"creation_date":1649701071,"question_id":71832504,"body_markdown":"I have a Java program that is simulating one way tunnel. A semaphore represents the tunnel, and there are two threads that represent the queues of traffic waiting on either side to pass through. In main, both threads are started as well as a thread to generate cars on either side every second. When a thread realizes its queue has cars in it, it attempts to acquire the semaphore. Once it has it, it allows each car to pass through, and releases the semaphore for the other side to use.\r\n\r\nMy problem is that it only is able to pass cars on the first try. After one side has claimed and released the semaphore, it seems that it will not be able to send cars through again. It seems to be that the if statement that is checking for cars in the queue is not executing.\r\n\r\n    class leftManager extends Thread {\r\n\tprivate int leftQueue = 0;\r\n\tprivate int total = 0;\r\n\tstatic Semaphore semaphore;\r\n\t\r\n\tpublic leftManager(Semaphore semaphore) {\r\n\t\tthis.semaphore = semaphore;\r\n\t\tthis.leftQueue = leftQueue;\r\n\t}\r\n\tpublic int getQueue() {\r\n\t\treturn leftQueue;\r\n\t}\r\n\tpublic void setQueue(int x) {\r\n\t\tleftQueue += x;\r\n\t}\r\n\t@Override\r\n\tpublic void run() {\r\n\t\ttry {\r\n\t\t\twhile (true) {\r\n\t\t\t\tif (leftQueue &gt; 0) {\r\n\t\t\t\t\tSystem.out.println(&quot;Catch&quot;);\r\n\t\t\t\t\tsemaphore.acquire();\r\n\t\t\t\t\tfor (int i = 1; i &lt;= leftQueue; i++) {\r\n\t\t\t\t\t\tint temp = (leftQueue - (leftQueue - (i - 1)));\r\n\t\t\t\t\t\tleftBoundPass pass = new leftBoundPass((temp * 2) + total);\r\n\t\t\t\t\t\tpass.start();\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tleftManager.sleep(1000);\r\n\t\t\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttotal += leftQueue;\r\n\t\t\t\t\tleftQueue = 0;\r\n\t\t\t\t\tsemaphore.release();\r\n\t\t\t\t\tSystem.out.println(&quot;release&quot;);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch (InterruptedException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n    }\r\n\r\nThe rightManager is identical, other than different variable names and a different &quot;boundPass&quot; thread for the cars.\r\n\r\n    class leftBoundPass extends Thread {\r\n\tprivate int car;\r\n    public leftBoundPass(int car) {\r\n    \tthis.car = car;\r\n    }\r\n    \r\n    @Override\r\n    public void run() {\r\n\t    System.out.println(&quot;Left-bound car &quot; + car + &quot; is in the tunnel.&quot;);\r\n\t    //This is one second of sleep\r\n\t    try {\r\n\t\t\tleftBoundPass.sleep(1000);\r\n\t\t} catch (InterruptedException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t    System.out.println(&quot;Left-bound car &quot; + car + &quot; is exiting the tunnel.&quot;);\r\n    }\r\n    }\r\n\r\nThe car generator is as follows:class trafficGenerator extends Thread {\t\r\n\r\n\tleftManager left;\r\n\trightManager right;\r\n\t\r\n\tpublic trafficGenerator(leftManager left, rightManager right) {\r\n\t\tthis.left = left;\r\n\t\tthis.right = right;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void run() {\r\n\t\tint random;\r\n\t\t\r\n\t\twhile (true) {\r\n\t\t\trandom = (int)(Math.random() * 2);\r\n\t\t\t\r\n\t\t\tif (random == 0) {\r\n\t\t\t\tSystem.out.println(&quot;Left-bound car wants to enter the tunnel&quot;);\r\n\t\t\t\tleft.setQueue(1);\r\n\t\t\t\t//System.out.println(left.getQueue());\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tSystem.out.println(&quot;Right-bound car wants to enter the tunnel&quot;);\r\n\t\t\t\tright.setQueue(1);\r\n\t\t\t}\r\n            try\r\n            {\r\n                Thread.sleep(2000);\r\n            }\r\n            catch(Exception e)\r\n            {\r\n                System.err.println(e);\r\n            }\t\t\r\n\t\t}\t\r\n\t}\r\n    }\r\n\r\nOutput:\r\n\r\n    Left-bound car wants to enter the tunnel\r\n    Catch\r\n    Left-bound car 0 is in the tunnel.\r\n    Left-bound car 0 is exiting the tunnel.\r\n    release\r\n    Left-bound car wants to enter the tunnel\r\n    Right-bound car wants to enter the tunnel\r\n    Right-bound car wants to enter the tunnel\r\n","title":"Thread will not execute run() when condition is met","body":"<p>I have a Java program that is simulating one way tunnel. A semaphore represents the tunnel, and there are two threads that represent the queues of traffic waiting on either side to pass through. In main, both threads are started as well as a thread to generate cars on either side every second. When a thread realizes its queue has cars in it, it attempts to acquire the semaphore. Once it has it, it allows each car to pass through, and releases the semaphore for the other side to use.</p>\n<p>My problem is that it only is able to pass cars on the first try. After one side has claimed and released the semaphore, it seems that it will not be able to send cars through again. It seems to be that the if statement that is checking for cars in the queue is not executing.</p>\n<pre><code>class leftManager extends Thread {\nprivate int leftQueue = 0;\nprivate int total = 0;\nstatic Semaphore semaphore;\n\npublic leftManager(Semaphore semaphore) {\n    this.semaphore = semaphore;\n    this.leftQueue = leftQueue;\n}\npublic int getQueue() {\n    return leftQueue;\n}\npublic void setQueue(int x) {\n    leftQueue += x;\n}\n@Override\npublic void run() {\n    try {\n        while (true) {\n            if (leftQueue &gt; 0) {\n                System.out.println(&quot;Catch&quot;);\n                semaphore.acquire();\n                for (int i = 1; i &lt;= leftQueue; i++) {\n                    int temp = (leftQueue - (leftQueue - (i - 1)));\n                    leftBoundPass pass = new leftBoundPass((temp * 2) + total);\n                    pass.start();\n                    try {\n                        leftManager.sleep(1000);\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                }\n                total += leftQueue;\n                leftQueue = 0;\n                semaphore.release();\n                System.out.println(&quot;release&quot;);\n            }\n            else {\n                continue;\n            }\n        }\n    }\n    catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n}\n}\n</code></pre>\n<p>The rightManager is identical, other than different variable names and a different &quot;boundPass&quot; thread for the cars.</p>\n<pre><code>class leftBoundPass extends Thread {\nprivate int car;\npublic leftBoundPass(int car) {\n    this.car = car;\n}\n\n@Override\npublic void run() {\n    System.out.println(&quot;Left-bound car &quot; + car + &quot; is in the tunnel.&quot;);\n    //This is one second of sleep\n    try {\n        leftBoundPass.sleep(1000);\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n    System.out.println(&quot;Left-bound car &quot; + car + &quot; is exiting the tunnel.&quot;);\n}\n}\n</code></pre>\n<p>The car generator is as follows:class trafficGenerator extends Thread {</p>\n<pre><code>leftManager left;\nrightManager right;\n\npublic trafficGenerator(leftManager left, rightManager right) {\n    this.left = left;\n    this.right = right;\n}\n\n@Override\npublic void run() {\n    int random;\n    \n    while (true) {\n        random = (int)(Math.random() * 2);\n        \n        if (random == 0) {\n            System.out.println(&quot;Left-bound car wants to enter the tunnel&quot;);\n            left.setQueue(1);\n            //System.out.println(left.getQueue());\n        }\n        else {\n            System.out.println(&quot;Right-bound car wants to enter the tunnel&quot;);\n            right.setQueue(1);\n        }\n        try\n        {\n            Thread.sleep(2000);\n        }\n        catch(Exception e)\n        {\n            System.err.println(e);\n        }       \n    }   \n}\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Left-bound car wants to enter the tunnel\nCatch\nLeft-bound car 0 is in the tunnel.\nLeft-bound car 0 is exiting the tunnel.\nrelease\nLeft-bound car wants to enter the tunnel\nRight-bound car wants to enter the tunnel\nRight-bound car wants to enter the tunnel\n</code></pre>\n"},{"tags":["java","android","system-shutdown"],"comments":[{"owner":{"account_id":1395849,"reputation":519,"user_id":1325615,"accept_rate":60,"display_name":"Hasan"},"score":0,"creation_date":1649454064,"post_id":71803169,"comment_id":126888503,"body_markdown":"I am not 100% sure. But this can be in help https://developer.android.com/reference/android/app/admin/SecurityLog","body":"I am not 100% sure. But this can be in help <a href=\"https://developer.android.com/reference/android/app/admin/SecurityLog\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/app/admin/SecurityLo&zwnj;&#8203;g</a>"},{"owner":{"account_id":1202427,"reputation":1281,"user_id":3085617,"display_name":"SoftwareGuy"},"score":0,"creation_date":1649454740,"post_id":71803169,"comment_id":126888628,"body_markdown":"how about writing a background service which always runs, it can store last power off. then your App can query that data , when ever you want.","body":"how about writing a background service which always runs, it can store last power off. then your App can query that data , when ever you want."},{"owner":{"account_id":404833,"reputation":1416,"user_id":773371,"accept_rate":82,"display_name":"gcdev"},"score":0,"creation_date":1649456336,"post_id":71803169,"comment_id":126888892,"body_markdown":"@SoftwareGuy wouldn&#39;t the background service stop if the user forces my app to stop? I need something that will reliably tell me the last shutdown datetime even if my app wasn&#39;t running at all.","body":"@SoftwareGuy wouldn&#39;t the background service stop if the user forces my app to stop? I need something that will reliably tell me the last shutdown datetime even if my app wasn&#39;t running at all."},{"owner":{"account_id":1202427,"reputation":1281,"user_id":3085617,"display_name":"SoftwareGuy"},"score":0,"creation_date":1649456693,"post_id":71803169,"comment_id":126888954,"body_markdown":"No, you can keep the service running always. Even you can run it in separate process. https://stackoverflow.com/questions/15758980/android-service-needs-to-run-always-never-pause-or-stop","body":"No, you can keep the service running always. Even you can run it in separate process. <a href=\"https://stackoverflow.com/questions/15758980/android-service-needs-to-run-always-never-pause-or-stop\" title=\"android service needs to run always never pause or stop\">stackoverflow.com/questions/15758980/&hellip;</a>"},{"owner":{"account_id":485226,"reputation":1434,"user_id":901410,"display_name":"zen_of_kermit"},"score":1,"creation_date":1649462598,"post_id":71803169,"comment_id":126889843,"body_markdown":"You absolutely can NOT programmatically force a process to continue running indefinitely. Imagine if that were true. It would be a malware developer&#39;s dream come true.","body":"You absolutely can NOT programmatically force a process to continue running indefinitely. Imagine if that were true. It would be a malware developer&#39;s dream come true."},{"owner":{"account_id":404833,"reputation":1416,"user_id":773371,"accept_rate":82,"display_name":"gcdev"},"score":0,"creation_date":1649700683,"post_id":71803169,"comment_id":126937881,"body_markdown":"Just FYI, background services (even sticky ones) do stop when the user forces the app to stop. At least, that&#39;s what my own tests have shown.","body":"Just FYI, background services (even sticky ones) do stop when the user forces the app to stop. At least, that&#39;s what my own tests have shown."}],"owner":{"account_id":404833,"reputation":1416,"user_id":773371,"accept_rate":82,"display_name":"gcdev"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":434,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649700722,"creation_date":1649452277,"question_id":71803169,"body_markdown":"Does Android provide a simple way to find out programmatically in my Java app when the last datetime the system was turned off was? I&#39;m not looking for when it was last turned on, but last turned off.\r\n\r\nI&#39;ve found lots of information for when it was last turned on. But nothing useful to me for when it was last turned off.\r\n\r\n**NOTE:** Setting up a broadcast listener for system shutdowns is not going to work for my particular use-case. This is because when my app starts up I need to know when the device was last shut down, even if my app (at the time) had been forced-off by the user. It won&#39;t receive broadcasts if it has been forced off.\r\n\r\n-----\r\n\r\n**EDIT:** I tried getting logcat records, since [a comment in another thread][1] indicated that even without rooting the device or running a system app, some (not many) system logs would be available in addition to app logs. However, the logs that I was able to see based on [this code][2] only start when the device itself starts. So that was no help.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/48026303/access-system-logs-on-android-7-and-later\r\n  [2]: https://stackoverflow.com/questions/12692103/read-logcat-programmatically-within-application","title":"How to programmatically find Android&#39;s last shutdown datetime?","body":"<p>Does Android provide a simple way to find out programmatically in my Java app when the last datetime the system was turned off was? I'm not looking for when it was last turned on, but last turned off.</p>\n<p>I've found lots of information for when it was last turned on. But nothing useful to me for when it was last turned off.</p>\n<p><strong>NOTE:</strong> Setting up a broadcast listener for system shutdowns is not going to work for my particular use-case. This is because when my app starts up I need to know when the device was last shut down, even if my app (at the time) had been forced-off by the user. It won't receive broadcasts if it has been forced off.</p>\n<hr />\n<p><strong>EDIT:</strong> I tried getting logcat records, since <a href=\"https://stackoverflow.com/questions/48026303/access-system-logs-on-android-7-and-later\">a comment in another thread</a> indicated that even without rooting the device or running a system app, some (not many) system logs would be available in addition to app logs. However, the logs that I was able to see based on <a href=\"https://stackoverflow.com/questions/12692103/read-logcat-programmatically-within-application\">this code</a> only start when the device itself starts. So that was no help.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8554,"page":1438,"page_size":100}
