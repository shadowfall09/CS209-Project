{"items":[{"tags":["java","tomcat","log4j2","filehandle","server-farm"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1652515912,"post_id":72215831,"comment_id":127628926,"body_markdown":"Can you copy/paste the exact error from the logs? Is it really &quot;Obsolete file handle&quot; or rather &quot;Stale file handle&quot;? You might have multiple instances of your application that try to rotate the same file at the same time.","body":"Can you copy/paste the exact error from the logs? Is it really &quot;Obsolete file handle&quot; or rather &quot;Stale file handle&quot;? You might have multiple instances of your application that try to rotate the same file at the same time."},{"owner":{"account_id":593875,"reputation":20383,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"score":1,"creation_date":1652534299,"post_id":72215831,"comment_id":127631972,"body_markdown":"Do you really have every server in the farm writing to the same single file hosted on NFS storage? That sounds like it could never work properly.","body":"Do you really have every server in the farm writing to the same single file hosted on NFS storage? That sounds like it could never work properly."}],"owner":{"account_id":20630168,"reputation":1,"user_id":15145178,"display_name":"rafablanco"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652686700,"creation_date":1652359545,"question_id":72215831,"body_markdown":"We have a Java Spring web application with Log4j2 configured with RollingFile active running on a Tomcat server farm with NFS storage configured.\r\n\r\nCatalina out log is writing a lot of execptions **java.io.IOException: Obsolete file handle** apparently when Log4j is rolling the file (compressing the log file an generating a new log)\r\n\r\nLet&#180;s say we have app.log with descriptor 521 and this is the file descriptor all the servers of the farm has. webserver1.com is writing in app.log and detects it has to do a file rolling, compress the log and generates a new app.log and this time its file descriptor is 853. All the other webserver&lt;x&gt;.com has during a time the file descriptor 521 and fails to write to the log file and produces the exception.\r\n\r\nIs there any option in log4j2 that empty the app.log file instead of creating a new one so the app.log mantains always the same file descriptor? Or any other suggestions?\r\n\r\nThanks.\r\n\r\nEdited: The exact error from catalina logs is this\r\n\r\n    2022-04-27 08:27:23,533 ajp-nio-127.0.0.1-8009-exec-4 ERROR An exception occurred processing Appender RollingFileAppender org.apache.logging.log4j.core.appender.AppenderLoggingException: Error writing to stream /webges/app&lt;xxxx&gt;2021/logs/app&lt;xxxx&gt;2021.log\r\n            at org.apache.logging.log4j.core.appender.OutputStreamManager.writeToDestination(OutputStreamManager.java:252)\r\n            at org.apache.logging.log4j.core.appender.FileManager.writeToDestination(FileManager.java:277)\r\n            at org.apache.logging.log4j.core.appender.rolling.RollingFileManager.writeToDestination(RollingFileManager.java:275)\r\n            at org.apache.logging.log4j.core.appender.OutputStreamManager.flushBuffer(OutputStreamManager.java:283)\r\n            at org.apache.logging.log4j.core.appender.OutputStreamManager.flush(OutputStreamManager.java:294)\r\n            at org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender.directEncodeEvent(AbstractOutputStreamAppender.java:199)\r\n            at org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender.tryAppend(AbstractOutputStreamAppender.java:190)\r\n            at org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender.append(AbstractOutputStreamAppender.java:181)\r\n            at org.apache.logging.log4j.core.appender.RollingFileAppender.append(RollingFileAppender.java:312)\r\n            at org.apache.logging.log4j.core.config.AppenderControl.tryCallAppender(AppenderControl.java:161)\r\n            at org.apache.logging.log4j.core.config.AppenderControl.callAppender0(AppenderControl.java:134)\r\n            at org.apache.logging.log4j.core.config.AppenderControl.callAppenderPreventRecursion(AppenderControl.java:125)\r\n            at org.apache.logging.log4j.core.config.AppenderControl.callAppender(AppenderControl.java:89)\r\n            at org.apache.logging.log4j.core.config.LoggerConfig.callAppenders(LoggerConfig.java:542)\r\n            at org.apache.logging.log4j.core.config.LoggerConfig.processLogEvent(LoggerConfig.java:500)\r\n            at org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:483)\r\n            at org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:417)\r\n            at org.apache.logging.log4j.core.config.AwaitCompletionReliabilityStrategy.log(AwaitCompletionReliabilityStrategy.java:82)\r\n            at org.apache.logging.log4j.core.Logger.log(Logger.java:161)\r\n            at org.apache.logging.log4j.spi.AbstractLogger.tryLogMessage(AbstractLogger.java:2205)\r\n            at org.apache.logging.log4j.spi.AbstractLogger.logMessageTrackRecursion(AbstractLogger.java:2159)\r\n            at org.apache.logging.log4j.spi.AbstractLogger.logMessageSafely(AbstractLogger.java:2142)\r\n            at org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:1994)\r\n            at org.apache.logging.log4j.spi.AbstractLogger.logIfEnabled(AbstractLogger.java:1852)\r\n            at org.apache.logging.log4j.jcl.Log4jLog.debug(Log4jLog.java:81)\r\n            at org.springframework.core.log.LogFormatUtils.traceDebug(LogFormatUtils.java:91)\r\n            at org.springframework.web.servlet.DispatcherServlet.logRequest(DispatcherServlet.java:979)\r\n            at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925)\r\n            at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n            at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n            at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\r\n            at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n            at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n            at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n            at org.apache.logging.log4j.web.Log4jServletFilter.doFilter(Log4jServletFilter.java:71)\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n            at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:196)\r\n            at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n            at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\r\n            at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:698)\r\n            at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n            at psiprobe.Tomcat85AgentValve.invoke(Tomcat85AgentValve.java:35)\r\n            at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\r\n            at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:698)\r\n            at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n            at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:366)\r\n            at org.apache.coyote.ajp.AjpProcessor.service(AjpProcessor.java:526)\r\n            at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n            at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:847)\r\n            at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1680)\r\n            at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n            at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n            at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n            at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n            at java.lang.Thread.run(Thread.java:750)\r\n    Caused by: java.io.IOException: Identificador de archivos obsoletos\r\n            at java.io.FileOutputStream.writeBytes(Native Method)\r\n            at java.io.FileOutputStream.write(FileOutputStream.java:326)\r\n            at org.apache.logging.log4j.core.appender.OutputStreamManager.writeToDestination(OutputStreamManager.java:250)\r\n            ... 59 more ","title":"Problem with Obsolete file handle running Java Webapp with Log4j2 in Tomcat server farm","body":"<p>We have a Java Spring web application with Log4j2 configured with RollingFile active running on a Tomcat server farm with NFS storage configured.</p>\n<p>Catalina out log is writing a lot of execptions <strong>java.io.IOException: Obsolete file handle</strong> apparently when Log4j is rolling the file (compressing the log file an generating a new log)</p>\n<p>Let´s say we have app.log with descriptor 521 and this is the file descriptor all the servers of the farm has. webserver1.com is writing in app.log and detects it has to do a file rolling, compress the log and generates a new app.log and this time its file descriptor is 853. All the other webserver.com has during a time the file descriptor 521 and fails to write to the log file and produces the exception.</p>\n<p>Is there any option in log4j2 that empty the app.log file instead of creating a new one so the app.log mantains always the same file descriptor? Or any other suggestions?</p>\n<p>Thanks.</p>\n<p>Edited: The exact error from catalina logs is this</p>\n<pre><code>2022-04-27 08:27:23,533 ajp-nio-127.0.0.1-8009-exec-4 ERROR An exception occurred processing Appender RollingFileAppender org.apache.logging.log4j.core.appender.AppenderLoggingException: Error writing to stream /webges/app&lt;xxxx&gt;2021/logs/app&lt;xxxx&gt;2021.log\n        at org.apache.logging.log4j.core.appender.OutputStreamManager.writeToDestination(OutputStreamManager.java:252)\n        at org.apache.logging.log4j.core.appender.FileManager.writeToDestination(FileManager.java:277)\n        at org.apache.logging.log4j.core.appender.rolling.RollingFileManager.writeToDestination(RollingFileManager.java:275)\n        at org.apache.logging.log4j.core.appender.OutputStreamManager.flushBuffer(OutputStreamManager.java:283)\n        at org.apache.logging.log4j.core.appender.OutputStreamManager.flush(OutputStreamManager.java:294)\n        at org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender.directEncodeEvent(AbstractOutputStreamAppender.java:199)\n        at org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender.tryAppend(AbstractOutputStreamAppender.java:190)\n        at org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender.append(AbstractOutputStreamAppender.java:181)\n        at org.apache.logging.log4j.core.appender.RollingFileAppender.append(RollingFileAppender.java:312)\n        at org.apache.logging.log4j.core.config.AppenderControl.tryCallAppender(AppenderControl.java:161)\n        at org.apache.logging.log4j.core.config.AppenderControl.callAppender0(AppenderControl.java:134)\n        at org.apache.logging.log4j.core.config.AppenderControl.callAppenderPreventRecursion(AppenderControl.java:125)\n        at org.apache.logging.log4j.core.config.AppenderControl.callAppender(AppenderControl.java:89)\n        at org.apache.logging.log4j.core.config.LoggerConfig.callAppenders(LoggerConfig.java:542)\n        at org.apache.logging.log4j.core.config.LoggerConfig.processLogEvent(LoggerConfig.java:500)\n        at org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:483)\n        at org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:417)\n        at org.apache.logging.log4j.core.config.AwaitCompletionReliabilityStrategy.log(AwaitCompletionReliabilityStrategy.java:82)\n        at org.apache.logging.log4j.core.Logger.log(Logger.java:161)\n        at org.apache.logging.log4j.spi.AbstractLogger.tryLogMessage(AbstractLogger.java:2205)\n        at org.apache.logging.log4j.spi.AbstractLogger.logMessageTrackRecursion(AbstractLogger.java:2159)\n        at org.apache.logging.log4j.spi.AbstractLogger.logMessageSafely(AbstractLogger.java:2142)\n        at org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:1994)\n        at org.apache.logging.log4j.spi.AbstractLogger.logIfEnabled(AbstractLogger.java:1852)\n        at org.apache.logging.log4j.jcl.Log4jLog.debug(Log4jLog.java:81)\n        at org.springframework.core.log.LogFormatUtils.traceDebug(LogFormatUtils.java:91)\n        at org.springframework.web.servlet.DispatcherServlet.logRequest(DispatcherServlet.java:979)\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925)\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n        at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.apache.logging.log4j.web.Log4jServletFilter.doFilter(Log4jServletFilter.java:71)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:196)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:698)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n        at psiprobe.Tomcat85AgentValve.invoke(Tomcat85AgentValve.java:35)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:698)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:366)\n        at org.apache.coyote.ajp.AjpProcessor.service(AjpProcessor.java:526)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:847)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1680)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.lang.Thread.run(Thread.java:750)\nCaused by: java.io.IOException: Identificador de archivos obsoletos\n        at java.io.FileOutputStream.writeBytes(Native Method)\n        at java.io.FileOutputStream.write(FileOutputStream.java:326)\n        at org.apache.logging.log4j.core.appender.OutputStreamManager.writeToDestination(OutputStreamManager.java:250)\n        ... 59 more \n</code></pre>\n"},{"tags":["java","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1652695593,"post_id":72254488,"comment_id":127659838,"body_markdown":"This is a known issue: https://github.com/spring-projects/spring-batch/issues/1826. But I&#39;m curious to understand your case better in case it helps in solving the issue. Is the service `withdrawService.performMerchantAutoWithdraw` you use in your item processor transactional? ie is it running in a nested transaction or within the scope of the same transaction driven by the step? I&#39;m asking because you said the issue does not happen with a `NoOpItemProcessor`.","body":"This is a known issue: <a href=\"https://github.com/spring-projects/spring-batch/issues/1826\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-batch/issues/1826</a>. But I&#39;m curious to understand your case better in case it helps in solving the issue. Is the service <code>withdrawService.performMerchantAutoWithdraw</code> you use in your item processor transactional? ie is it running in a nested transaction or within the scope of the same transaction driven by the step? I&#39;m asking because you said the issue does not happen with a <code>NoOpItemProcessor</code>."},{"owner":{"account_id":7611743,"reputation":171,"user_id":5772378,"accept_rate":0,"display_name":"Mohendra"},"score":0,"creation_date":1652698022,"post_id":72254488,"comment_id":127660605,"body_markdown":"No, the method performMerchantAutoWithdraw is not Transactional. But some of the queries inside it are (short queries) and many REST API calls are present. Can it be due to the transaction manager in the configuration?","body":"No, the method performMerchantAutoWithdraw is not Transactional. But some of the queries inside it are (short queries) and many REST API calls are present. Can it be due to the transaction manager in the configuration?"},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1652718292,"post_id":72254488,"comment_id":127668206,"body_markdown":"Yes, this is definitely related to transactions. `No, the method performMerchantAutoWithdraw is not Transactional. But some of the queries inside it are (short queries)`: this means there are ongoing transactions behind this method, and this is what I was referring to in my previous comment. Can you share which transaction propagation these transactions are using (`REQUIRES_NEW`, `NESTED`, etc)? This is key to answer your question.","body":"Yes, this is definitely related to transactions. <code>No, the method performMerchantAutoWithdraw is not Transactional. But some of the queries inside it are (short queries)</code>: this means there are ongoing transactions behind this method, and this is what I was referring to in my previous comment. Can you share which transaction propagation these transactions are using (<code>REQUIRES_NEW</code>, <code>NESTED</code>, etc)? This is key to answer your question."},{"owner":{"account_id":7611743,"reputation":171,"user_id":5772378,"accept_rate":0,"display_name":"Mohendra"},"score":0,"creation_date":1652719334,"post_id":72254488,"comment_id":127668547,"body_markdown":"`REQUIRES_NEW` is the one that&#39;s used, deep inside the method.","body":"<code>REQUIRES_NEW</code> is the one that&#39;s used, deep inside the method."},{"owner":{"account_id":7611743,"reputation":171,"user_id":5772378,"accept_rate":0,"display_name":"Mohendra"},"score":0,"creation_date":1652776881,"post_id":72254488,"comment_id":127681907,"body_markdown":"I removed the `REQUIRES_NEW` from my code, it started working. But is there a specific reason why the Spring batch behaves this way? Because I believe, even though a new transaction has started, the Spring Batch&#39;s transaction will be suspended for a certain time. But, later the application uses the same transaction of Spring Batch. Could you please elaborate.","body":"I removed the <code>REQUIRES_NEW</code> from my code, it started working. But is there a specific reason why the Spring batch behaves this way? Because I believe, even though a new transaction has started, the Spring Batch&#39;s transaction will be suspended for a certain time. But, later the application uses the same transaction of Spring Batch. Could you please elaborate."},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1652945307,"post_id":72254488,"comment_id":127731643,"body_markdown":"`is there a specific reason why the Spring batch behaves this way`: The transaction management itself is out of control of Spring Batch, it is rather handled by Spring Framework. What Spring Batch does is run your tasklet step in a transaction and allows you to customize the attributes of that transaction.","body":"<code>is there a specific reason why the Spring batch behaves this way</code>: The transaction management itself is out of control of Spring Batch, it is rather handled by Spring Framework. What Spring Batch does is run your tasklet step in a transaction and allows you to customize the attributes of that transaction."},{"owner":{"account_id":7611743,"reputation":171,"user_id":5772378,"accept_rate":0,"display_name":"Mohendra"},"score":2,"creation_date":1652950185,"post_id":72254488,"comment_id":127733375,"body_markdown":"I am still unable to understand the cause of the exception. I know that Sprint Batch uses a transaction for each chunk. And any exception thrown from the item processor or the item writer triggers a rollback. But I have caught all the exceptions in the processor. In the Spring batch in Action (Manning), It&#39;s written that REQUIRES_NEW causes problem as it interferes with Spring Batch&#39;s transaction. But I am unable to get how the optimistic locking occurs due to this.","body":"I am still unable to understand the cause of the exception. I know that Sprint Batch uses a transaction for each chunk. And any exception thrown from the item processor or the item writer triggers a rollback. But I have caught all the exceptions in the processor. In the Spring batch in Action (Manning), It&#39;s written that REQUIRES_NEW causes problem as it interferes with Spring Batch&#39;s transaction. But I am unable to get how the optimistic locking occurs due to this."}],"owner":{"account_id":7611743,"reputation":171,"user_id":5772378,"accept_rate":0,"display_name":"Mohendra"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1052,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":0,"score":5,"last_activity_date":1652686636,"creation_date":1652678754,"question_id":72254488,"body_markdown":"I have a Spring Batch configuration as such. \r\n\r\n\r\n    @Bean(BatchJobConstant.WITHDRAW_BATCH_JOB)\r\n        public Job importJob(@Qualifier(BatchJobConstant.CUSTOM_READER) CustomListItemReader&lt;WithdrawDetails&gt; reader,\r\n                             @Qualifier(BatchJobConstant.CUSTOM_WRITER) ItemWriter&lt;WithdrawDetails&gt; writer,\r\n                             @Qualifier(BatchJobConstant.CUSTOM_PROCESSOR) ItemProcessor&lt;WithdrawDetails,\r\n                                     WithdrawDetails&gt; processor,\r\n                             @Qualifier(BatchJobConstant.POOL_TASK_EXECUTOR) TaskExecutor taskExecutor) {\r\n            final Step writeToDatabase = stepBuilderFactory.get(BatchJobConstant.WITHDRAW_BATCH_STEP)\r\n                    .&lt;WithdrawDetails, WithdrawDetails&gt;chunk(chunkSize)\r\n                    .reader(reader)\r\n                    .processor(processor)\r\n                    .writer(writer)\r\n                    .transactionManager(transactionManager)\r\n                    .taskExecutor(taskExecutor)\r\n                    .throttleLimit(throttleLimit)\r\n                    .build();\r\n    \r\n            return jobBuilderFactory.get(BatchJobConstant.WITHDRAW_JOB_BUILDER_FACTORY)\r\n                    .incrementer(new RunIdIncrementer())\r\n                    .start(writeToDatabase)\r\n                    .build();\r\n        }\r\n\r\nThe custom reader is as:\r\n\r\n\r\n    public class CustomListItemReader&lt;T&gt; implements ItemReader&lt;T&gt; {\r\n        private List&lt;T&gt; list;\r\n\r\n        public List&lt;T&gt; getList() {\r\n            return list;\r\n        }\r\n\r\n        public void setList(List&lt;T&gt; list) {\r\n            log.debug(&quot;Set list of size {}&quot;, list.size());\r\n            if (AopUtils.isAopProxy(list)) {\r\n                this.list = list;\r\n            } else {\r\n                this.list = new ArrayList&lt;T&gt;(list);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public synchronized T read() {\r\n            log.debug(&quot;Inside custom list item reader&quot;);\r\n            if (list != null &amp;&amp; !list.isEmpty()) {\r\n                log.debug(&quot;Inside read not empty&quot;);\r\n                T remove = list.remove(0);\r\n                while (remove == null &amp;&amp; !list.isEmpty()) {\r\n                    remove = list.remove(0);\r\n                }\r\n                return remove;\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n\r\nThe problem I&#39;m having is that when there is a huge number of data. The \r\n\r\n&gt; org.springframework.dao.OptimisticLockingFailureException: Attempt to update step execution id=XXX with wrong version (X), where current version is Y\r\n\r\nexception occurs. I have tried debugging by using various methods:\r\n\r\n1. I checked whether multiple batch jobs were running concurrently on the same database. This was not the case, only a single batch job was running.\r\n2. I constructed a NoOpProcessor and a NoOpWriter. I adjusted the job and it worked well.\r\nFrom this, I found that the problem was in the processor as the NoOpProcessor was working really well. \r\nBut, the question I have is, my original processor is as such:\r\n\r\n        @Override\r\n        public WithdrawDetails process(WithdrawDetails details) throws Exception {\r\n            try {\r\n                  return withdrawService.performMerchantAutoWithdraw(details);\r\n            } catch (Exception e) {\r\n                log.error(&quot;Error occurred. Error: {}&quot;, e.getMessage());\r\n                details.setWithdrawStatus(WithdrawStatus.FAILED);\r\n                details.setFailedReason(e.getMessage());\r\n            }\r\n            log.info(&quot;INSIDE PROCESSOR :{}&quot;, details.getId());\r\n            return details;\r\n        }\r\n\r\n   \r\n\r\nI am catching a generic Exception, and when I checked my logs. I found the **INSIDE PROCESSOR** log printed every time. So, how is it that when the Spring batch tries to save after the commit interval the Locking Exception occurs? Is it due to the parallel processing?\r\n\r\nI tried printing every **TRACE** log from spring batch. But I only got these\r\n\r\n    &quot;org.springframework.batch.core.step.FatalStepExecutionException: JobRepository failure forcing rollback\r\n    \tat org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:464)\r\n    \tat org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:331)\r\n    \tat org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)\r\n    \tat org.springframework.batch.core.step.tasklet.TaskletStep$2.doInChunkContext(TaskletStep.java:273)\r\n    \tat org.springframework.batch.core.scope.context.StepContextRepeatCallback.doInIteration(StepContextRepeatCallback.java:82)\r\n    \tat org.springframework.batch.repeat.support.TaskExecutorRepeatTemplate$ExecutingRunnable.run(TaskExecutorRepeatTemplate.java:262)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Caused by: org.springframework.transaction.UnexpectedRollbackException: Transaction rolled back because it has been marked as rollback-only\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processRollback(AbstractPlatformTransactionManager.java:871)\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:708)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:631)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:99)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n    \tat com.sun.proxy.$Proxy297.updateExecutionContext(Unknown Source)\r\n    \tat sun.reflect.GeneratedMethodAccessor403.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:19&quot;\r\n\r\nAND\r\n\r\n    10:40:19.339 [async-task-exec-11] INFO  com.test.batchJob - INSIDE PROCESSOR :3064\r\n    10:40:19.671 [async-task-exec-11] INFO  com.test.batchJob - INSIDE PROCESSOR :3065\r\n    10:40:19.871 [async-task-exec-11] INFO  com.test.batchJob - INSIDE PROCESSOR :3066\r\n    10:40:20.067 [async-task-exec-11] INFO  com.test.batchJob - INSIDE PROCESSOR :3067\r\n    10:40:20.232 [async-task-exec-11] INFO  com.test.batchJob - INSIDE PROCESSOR :3068\r\n    10:40:20.325 [async-task-exec-11] INFO  com.test.batchJob - INSIDE PROCESSOR :3070\r\n    10:40:20.563 [async-task-exec-11] INFO  com.test.batchJob - INSIDE PROCESSOR :3072\r\n    10:40:20.800 [async-task-exec-11] INFO  com.test.batchJob - INSIDE PROCESSOR :3073\r\n    10:40:21.100 [async-task-exec-11] INFO  com.test.batchJob - INSIDE PROCESSOR :3074\r\n    10:40:21.138 [async-task-exec-11] INFO  com.test.batchJob - INSIDE PROCESSOR :3076\r\n    10:40:21.138 [async-task-exec-11] INFO  com.test.batchJob - Updating merchant auto withdraw details.\r\n    10:40:21.138 [async-task-exec-11] INFO  com.test.batchJob - IDS FOR WRITER :[3064, 3065, 3066, 3067, 3068, 3070, 3072, 3073, 3074, 3076] \r\n    10:40:21.138 [async-task-exec-11] DEBUG org.springframework.batch.core.step.item.ChunkOrientedTasklet - Inputs not busy, ended: false\r\n    10:40:21.187 [async-task-exec-11] DEBUG org.springframework.batch.core.step.tasklet.TaskletStep - Applying contribution: [StepContribution: read=10, written=10, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING]\r\n    10:40:21.193 [async-task-exec-11] DEBUG org.springframework.batch.core.step.tasklet.TaskletStep - Saving step execution before commit: StepExecution: id=4615, version=1, name=merchantAutoWithdraw, status=STARTED, exitStatus=EXECUTING, readCount=70, filterCount=0, writeCount=10 readSkipCount=0, writeSkipCount=0, processSkipCount=0, commitCount=1, rollbackCount=1, exitDescription=\r\n    10:40:21.198 [async-task-exec-11] ERROR org.springframework.batch.core.step.tasklet.TaskletStep - JobRepository failure forcing rollback\r\n    org.springframework.dao.OptimisticLockingFailureException: Attempt to update step execution id=4615 with wrong version (1), where current version is 6\r\n    \tat org.springframework.batch.core.repository.dao.JdbcStepExecutionDao.updateStepExecution(JdbcStepExecutionDao.java:279)\r\n    \tat org.springframework.batch.core.repository.support.SimpleJobRepository.update(SimpleJobRepository.java:196)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:366)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:99)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n    \tat com.sun.proxy.$Proxy294.update(Unknown Source)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n    \tat org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:127)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n    \tat com.sun.proxy.$Proxy294.update(Unknown Source)\r\n    \tat org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:457)\r\n    \tat org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:331)\r\n    \tat org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)\r\n    \tat org.springframework.batch.core.step.tasklet.TaskletStep$2.doInChunkContext(TaskletStep.java:273)\r\n    \tat org.springframework.batch.core.scope.context.StepContextRepeatCallback.doInIteration(StepContextRepeatCallback.java:82)\r\n    \tat org.springframework.batch.repeat.support.TaskExecutorRepeatTemplate$ExecutingRunnable.run(TaskExecutorRepeatTemplate.java:262)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    10:40:21.199 [async-task-exec-11] DEBUG org.springframework.batch.core.step.tasklet.TaskletStep - Rollback for RuntimeException: org.springframework.batch.core.step.FatalStepExecutionException: JobRepository failure forcing rollback\r\n    10:40:21.200 [async-task-exec-11] INFO  org.springframework.batch.core.step.tasklet.TaskletStep - Commit failed while step execution data was already updated. Reverting to old version.","title":"Is there a way to resolve OptimisticLockingFailureException in Spring Batch?","body":"<p>I have a Spring Batch configuration as such.</p>\n<pre><code>@Bean(BatchJobConstant.WITHDRAW_BATCH_JOB)\n    public Job importJob(@Qualifier(BatchJobConstant.CUSTOM_READER) CustomListItemReader&lt;WithdrawDetails&gt; reader,\n                         @Qualifier(BatchJobConstant.CUSTOM_WRITER) ItemWriter&lt;WithdrawDetails&gt; writer,\n                         @Qualifier(BatchJobConstant.CUSTOM_PROCESSOR) ItemProcessor&lt;WithdrawDetails,\n                                 WithdrawDetails&gt; processor,\n                         @Qualifier(BatchJobConstant.POOL_TASK_EXECUTOR) TaskExecutor taskExecutor) {\n        final Step writeToDatabase = stepBuilderFactory.get(BatchJobConstant.WITHDRAW_BATCH_STEP)\n                .&lt;WithdrawDetails, WithdrawDetails&gt;chunk(chunkSize)\n                .reader(reader)\n                .processor(processor)\n                .writer(writer)\n                .transactionManager(transactionManager)\n                .taskExecutor(taskExecutor)\n                .throttleLimit(throttleLimit)\n                .build();\n\n        return jobBuilderFactory.get(BatchJobConstant.WITHDRAW_JOB_BUILDER_FACTORY)\n                .incrementer(new RunIdIncrementer())\n                .start(writeToDatabase)\n                .build();\n    }\n</code></pre>\n<p>The custom reader is as:</p>\n<pre><code>public class CustomListItemReader&lt;T&gt; implements ItemReader&lt;T&gt; {\n    private List&lt;T&gt; list;\n\n    public List&lt;T&gt; getList() {\n        return list;\n    }\n\n    public void setList(List&lt;T&gt; list) {\n        log.debug(&quot;Set list of size {}&quot;, list.size());\n        if (AopUtils.isAopProxy(list)) {\n            this.list = list;\n        } else {\n            this.list = new ArrayList&lt;T&gt;(list);\n        }\n    }\n\n    @Override\n    public synchronized T read() {\n        log.debug(&quot;Inside custom list item reader&quot;);\n        if (list != null &amp;&amp; !list.isEmpty()) {\n            log.debug(&quot;Inside read not empty&quot;);\n            T remove = list.remove(0);\n            while (remove == null &amp;&amp; !list.isEmpty()) {\n                remove = list.remove(0);\n            }\n            return remove;\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>The problem I'm having is that when there is a huge number of data. The</p>\n<blockquote>\n<p>org.springframework.dao.OptimisticLockingFailureException: Attempt to update step execution id=XXX with wrong version (X), where current version is Y</p>\n</blockquote>\n<p>exception occurs. I have tried debugging by using various methods:</p>\n<ol>\n<li><p>I checked whether multiple batch jobs were running concurrently on the same database. This was not the case, only a single batch job was running.</p>\n</li>\n<li><p>I constructed a NoOpProcessor and a NoOpWriter. I adjusted the job and it worked well.\nFrom this, I found that the problem was in the processor as the NoOpProcessor was working really well.\nBut, the question I have is, my original processor is as such:</p>\n<pre><code> @Override\n public WithdrawDetails process(WithdrawDetails details) throws Exception {\n     try {\n           return withdrawService.performMerchantAutoWithdraw(details);\n     } catch (Exception e) {\n         log.error(&quot;Error occurred. Error: {}&quot;, e.getMessage());\n         details.setWithdrawStatus(WithdrawStatus.FAILED);\n         details.setFailedReason(e.getMessage());\n     }\n     log.info(&quot;INSIDE PROCESSOR :{}&quot;, details.getId());\n     return details;\n }\n</code></pre>\n</li>\n</ol>\n<p>I am catching a generic Exception, and when I checked my logs. I found the <strong>INSIDE PROCESSOR</strong> log printed every time. So, how is it that when the Spring batch tries to save after the commit interval the Locking Exception occurs? Is it due to the parallel processing?</p>\n<p>I tried printing every <strong>TRACE</strong> log from spring batch. But I only got these</p>\n<pre><code>&quot;org.springframework.batch.core.step.FatalStepExecutionException: JobRepository failure forcing rollback\n    at org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:464)\n    at org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:331)\n    at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)\n    at org.springframework.batch.core.step.tasklet.TaskletStep$2.doInChunkContext(TaskletStep.java:273)\n    at org.springframework.batch.core.scope.context.StepContextRepeatCallback.doInIteration(StepContextRepeatCallback.java:82)\n    at org.springframework.batch.repeat.support.TaskExecutorRepeatTemplate$ExecutingRunnable.run(TaskExecutorRepeatTemplate.java:262)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: org.springframework.transaction.UnexpectedRollbackException: Transaction rolled back because it has been marked as rollback-only\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.processRollback(AbstractPlatformTransactionManager.java:871)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:708)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:631)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:99)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\n    at com.sun.proxy.$Proxy297.updateExecutionContext(Unknown Source)\n    at sun.reflect.GeneratedMethodAccessor403.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:19&quot;\n</code></pre>\n<p>AND</p>\n<pre><code>10:40:19.339 [async-task-exec-11] INFO  com.test.batchJob - INSIDE PROCESSOR :3064\n10:40:19.671 [async-task-exec-11] INFO  com.test.batchJob - INSIDE PROCESSOR :3065\n10:40:19.871 [async-task-exec-11] INFO  com.test.batchJob - INSIDE PROCESSOR :3066\n10:40:20.067 [async-task-exec-11] INFO  com.test.batchJob - INSIDE PROCESSOR :3067\n10:40:20.232 [async-task-exec-11] INFO  com.test.batchJob - INSIDE PROCESSOR :3068\n10:40:20.325 [async-task-exec-11] INFO  com.test.batchJob - INSIDE PROCESSOR :3070\n10:40:20.563 [async-task-exec-11] INFO  com.test.batchJob - INSIDE PROCESSOR :3072\n10:40:20.800 [async-task-exec-11] INFO  com.test.batchJob - INSIDE PROCESSOR :3073\n10:40:21.100 [async-task-exec-11] INFO  com.test.batchJob - INSIDE PROCESSOR :3074\n10:40:21.138 [async-task-exec-11] INFO  com.test.batchJob - INSIDE PROCESSOR :3076\n10:40:21.138 [async-task-exec-11] INFO  com.test.batchJob - Updating merchant auto withdraw details.\n10:40:21.138 [async-task-exec-11] INFO  com.test.batchJob - IDS FOR WRITER :[3064, 3065, 3066, 3067, 3068, 3070, 3072, 3073, 3074, 3076] \n10:40:21.138 [async-task-exec-11] DEBUG org.springframework.batch.core.step.item.ChunkOrientedTasklet - Inputs not busy, ended: false\n10:40:21.187 [async-task-exec-11] DEBUG org.springframework.batch.core.step.tasklet.TaskletStep - Applying contribution: [StepContribution: read=10, written=10, filtered=0, readSkips=0, writeSkips=0, processSkips=0, exitStatus=EXECUTING]\n10:40:21.193 [async-task-exec-11] DEBUG org.springframework.batch.core.step.tasklet.TaskletStep - Saving step execution before commit: StepExecution: id=4615, version=1, name=merchantAutoWithdraw, status=STARTED, exitStatus=EXECUTING, readCount=70, filterCount=0, writeCount=10 readSkipCount=0, writeSkipCount=0, processSkipCount=0, commitCount=1, rollbackCount=1, exitDescription=\n10:40:21.198 [async-task-exec-11] ERROR org.springframework.batch.core.step.tasklet.TaskletStep - JobRepository failure forcing rollback\norg.springframework.dao.OptimisticLockingFailureException: Attempt to update step execution id=4615 with wrong version (1), where current version is 6\n    at org.springframework.batch.core.repository.dao.JdbcStepExecutionDao.updateStepExecution(JdbcStepExecutionDao.java:279)\n    at org.springframework.batch.core.repository.support.SimpleJobRepository.update(SimpleJobRepository.java:196)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:366)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:99)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\n    at com.sun.proxy.$Proxy294.update(Unknown Source)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:127)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\n    at com.sun.proxy.$Proxy294.update(Unknown Source)\n    at org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:457)\n    at org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:331)\n    at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)\n    at org.springframework.batch.core.step.tasklet.TaskletStep$2.doInChunkContext(TaskletStep.java:273)\n    at org.springframework.batch.core.scope.context.StepContextRepeatCallback.doInIteration(StepContextRepeatCallback.java:82)\n    at org.springframework.batch.repeat.support.TaskExecutorRepeatTemplate$ExecutingRunnable.run(TaskExecutorRepeatTemplate.java:262)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\n10:40:21.199 [async-task-exec-11] DEBUG org.springframework.batch.core.step.tasklet.TaskletStep - Rollback for RuntimeException: org.springframework.batch.core.step.FatalStepExecutionException: JobRepository failure forcing rollback\n10:40:21.200 [async-task-exec-11] INFO  org.springframework.batch.core.step.tasklet.TaskletStep - Commit failed while step execution data was already updated. Reverting to old version.\n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing","jdbc","mocking"],"answers":[{"tags":[],"owner":{"account_id":25264054,"reputation":16,"user_id":19094528,"display_name":"Chris Olive"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652345641,"creation_date":1652345641,"answer_id":72212652,"question_id":72212030,"body_markdown":"Your test classes have `@SpringBootTest` annotation which will start a Spring application context - as your application uses a database the tests will also try to setup and use a database connection.\r\n\r\nThe simplest solution is to remove the annotation so the tests no longer try to connect to a database. You&#39;ll probably need to mock some more dependencies as a result as Spring is no longer creating these for you. You could also have a look at https://www.baeldung.com/spring-boot-testing for some other ideas how you could alter your tests.\r\n\r\nAlternatively if you do want / need the application context to run you can add a `application.yaml` for the tests that defines and uses a in memory DB so the tests have something to connect to - see https://www.baeldung.com/spring-boot-h2-database for details how to do this.","title":"how to prevent jdbc from trying to connect to a mysql database during unit testing","body":"<p>Your test classes have <code>@SpringBootTest</code> annotation which will start a Spring application context - as your application uses a database the tests will also try to setup and use a database connection.</p>\n<p>The simplest solution is to remove the annotation so the tests no longer try to connect to a database. You'll probably need to mock some more dependencies as a result as Spring is no longer creating these for you. You could also have a look at <a href=\"https://www.baeldung.com/spring-boot-testing\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-testing</a> for some other ideas how you could alter your tests.</p>\n<p>Alternatively if you do want / need the application context to run you can add a <code>application.yaml</code> for the tests that defines and uses a in memory DB so the tests have something to connect to - see <a href=\"https://www.baeldung.com/spring-boot-h2-database\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-h2-database</a> for details how to do this.</p>\n"},{"tags":[],"owner":{"account_id":16117709,"reputation":1646,"user_id":11634381,"display_name":"paranaaan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652347310,"creation_date":1652347310,"answer_id":72213049,"question_id":72212030,"body_markdown":"\r\nJust change value under `spring.datasource` to `H2 database` to prevent\r\nThe application connect the real database.\r\n\r\n[Test application.yml][1]\r\n\r\nFYI, You no need to copy all config from original application.yml, just only some config that you need to override.\r\n\r\n\r\n  [1]: https://gitlab.com/kwetter_jack/Kwetter_posts/-/blob/ci_cd_setup/src/test/resources/application.yaml","title":"how to prevent jdbc from trying to connect to a mysql database during unit testing","body":"<p>Just change value under <code>spring.datasource</code> to <code>H2 database</code> to prevent\nThe application connect the real database.</p>\n<p><a href=\"https://gitlab.com/kwetter_jack/Kwetter_posts/-/blob/ci_cd_setup/src/test/resources/application.yaml\" rel=\"nofollow noreferrer\">Test application.yml</a></p>\n<p>FYI, You no need to copy all config from original application.yml, just only some config that you need to override.</p>\n"},{"tags":[],"owner":{"account_id":13245660,"reputation":5,"user_id":9564887,"display_name":"Jack Mutsers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652686486,"creation_date":1652357145,"answer_id":72215262,"question_id":72212030,"body_markdown":"while I was investigating the spring boot H2 in-memory database (as suggested by Chris Olive and Paranaaan) I also came across the option of using a test container. after looking into this I saw that this enables the project to create a temp docker container with a MySQL image that I can use during the testing of my project, considering I was planning on using docker anyway for the integration testing of my microservices project I attempted this and it worked as I had hoped it would. \r\n\r\nif anyone is interested in the test container solution that I used, the information can be found here:\r\n\r\nhttps://www.testcontainers.org/modules/databases/mysql/","title":"how to prevent jdbc from trying to connect to a mysql database during unit testing","body":"<p>while I was investigating the spring boot H2 in-memory database (as suggested by Chris Olive and Paranaaan) I also came across the option of using a test container. after looking into this I saw that this enables the project to create a temp docker container with a MySQL image that I can use during the testing of my project, considering I was planning on using docker anyway for the integration testing of my microservices project I attempted this and it worked as I had hoped it would.</p>\n<p>if anyone is interested in the test container solution that I used, the information can be found here:</p>\n<p><a href=\"https://www.testcontainers.org/modules/databases/mysql/\" rel=\"nofollow noreferrer\">https://www.testcontainers.org/modules/databases/mysql/</a></p>\n"}],"owner":{"account_id":13245660,"reputation":5,"user_id":9564887,"display_name":"Jack Mutsers"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":659,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72215262,"answer_count":3,"score":0,"last_activity_date":1652686486,"creation_date":1652342632,"question_id":72212030,"body_markdown":"I&#39;m making an application for a school project, but I&#39;m running into the issue that when I try to run the unit tests that it tries to connect to the database while starting up the application, which isn&#39;t required for the tests (because it will be mocked), and is not available in the CI/CD pipeline. \r\n\r\n[jdbc connection error][1]\r\n\r\nI&#39;m building my project in Java Maven Springboot and would like to know how I can prevent it from trying to connect to the database when running my test.\r\n\r\nhere is a link to my repository: https://gitlab.com/kwetter_jack/Kwetter_posts/-/tree/ci_cd_setup\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lpQ4t.png","title":"how to prevent jdbc from trying to connect to a mysql database during unit testing","body":"<p>I'm making an application for a school project, but I'm running into the issue that when I try to run the unit tests that it tries to connect to the database while starting up the application, which isn't required for the tests (because it will be mocked), and is not available in the CI/CD pipeline.</p>\n<p><a href=\"https://i.stack.imgur.com/lpQ4t.png\" rel=\"nofollow noreferrer\">jdbc connection error</a></p>\n<p>I'm building my project in Java Maven Springboot and would like to know how I can prevent it from trying to connect to the database when running my test.</p>\n<p>here is a link to my repository: <a href=\"https://gitlab.com/kwetter_jack/Kwetter_posts/-/tree/ci_cd_setup\" rel=\"nofollow noreferrer\">https://gitlab.com/kwetter_jack/Kwetter_posts/-/tree/ci_cd_setup</a></p>\n"},{"tags":["java","memory","floating-point","jna"],"comments":[{"owner":{"account_id":9322,"reputation":9911,"user_id":17175,"accept_rate":89,"display_name":"technomage"},"score":0,"creation_date":1451149235,"post_id":34426304,"comment_id":56688098,"body_markdown":"The `size` argument to `WriteProcessMemory` is the number of bytes to write, not the number of float elements.","body":"The <code>size</code> argument to <code>WriteProcessMemory</code> is the number of bytes to write, not the number of float elements."},{"owner":{"account_id":7060934,"reputation":51,"user_id":5406214,"display_name":"Darky00"},"score":0,"creation_date":1451153329,"post_id":34426304,"comment_id":56689251,"body_markdown":"explain? It worked just fine for writing bytes.","body":"explain? It worked just fine for writing bytes."},{"owner":{"account_id":9322,"reputation":9911,"user_id":17175,"accept_rate":89,"display_name":"technomage"},"score":0,"creation_date":1451164704,"post_id":34426304,"comment_id":56692236,"body_markdown":"One float requires a buffer of size 4 bytes.  If you indicate the buffer is size &quot;1&quot;, then only the first byte of the float will be read.  The `size` argument needs to be four times the number of float elements to be written.","body":"One float requires a buffer of size 4 bytes.  If you indicate the buffer is size &quot;1&quot;, then only the first byte of the float will be read.  The <code>size</code> argument needs to be four times the number of float elements to be written."},{"owner":{"account_id":7060934,"reputation":51,"user_id":5406214,"display_name":"Darky00"},"score":0,"creation_date":1451165587,"post_id":34426304,"comment_id":56692458,"body_markdown":"so size = data.length * 4?","body":"so size = data.length * 4?"},{"owner":{"account_id":7060934,"reputation":51,"user_id":5406214,"display_name":"Darky00"},"score":0,"creation_date":1451280298,"post_id":34426304,"comment_id":56718149,"body_markdown":"didnt work, same error","body":"didnt work, same error"},{"owner":{"account_id":9322,"reputation":9911,"user_id":17175,"accept_rate":89,"display_name":"technomage"},"score":0,"creation_date":1451281276,"post_id":34426304,"comment_id":56718450,"body_markdown":"What do you expect, and what are you seeing?","body":"What do you expect, and what are you seeing?"},{"owner":{"account_id":7060934,"reputation":51,"user_id":5406214,"display_name":"Darky00"},"score":0,"creation_date":1451356409,"post_id":34426304,"comment_id":56749231,"body_markdown":"I&#39;m seeing the same size=1 offset = 4 or something like that","body":"I&#39;m seeing the same size=1 offset = 4 or something like that"}],"answers":[{"tags":[],"owner":{"account_id":9322,"reputation":9911,"user_id":17175,"accept_rate":89,"display_name":"technomage"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1450885138,"creation_date":1450874540,"answer_id":34435980,"question_id":34426304,"body_markdown":"It&#39;s easier if you make your own method signature that takes the `float[]` directly.\r\n\r\n    public interface MyKernel32 extends Kernel32 {\r\n        MyKernel32 INSTANCE = Native.loadLibrary(&quot;kernel32&quot;, W32APIOptions.DEFAULT_OPTIONS);\r\n        void WriteProcessMemory(HANDLE hProcess, Pointer address, float[] data, int size, Pointer blah);\r\n    }\r\n\r\n\r\n**EDIT**\r\n\r\nYou&#39;re writing float values at 1-byte increments.  A float is typically at least 4 bytes (`Float.SIZE / 8` bytes in Java), so you&#39;d need to adjust your offset.  I _really_ recommend using the function mapping, but if you insist in the extra overhead of copying the array to memory and then copying the memory buffer to process memory, you need to do this:\r\n\r\n    Memory m = ...;\r\n    float[] data = ...;\r\n    for(int i=0;i &lt; data.length;i ++) {\r\n        m.setFloat(i * Float.SIZE/8, data[i]);\r\n    }","title":"Java JNA can&#39;t write float to memory","body":"<p>It's easier if you make your own method signature that takes the <code>float[]</code> directly.</p>\n\n<pre><code>public interface MyKernel32 extends Kernel32 {\n    MyKernel32 INSTANCE = Native.loadLibrary(\"kernel32\", W32APIOptions.DEFAULT_OPTIONS);\n    void WriteProcessMemory(HANDLE hProcess, Pointer address, float[] data, int size, Pointer blah);\n}\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>You're writing float values at 1-byte increments.  A float is typically at least 4 bytes (<code>Float.SIZE / 8</code> bytes in Java), so you'd need to adjust your offset.  I <em>really</em> recommend using the function mapping, but if you insist in the extra overhead of copying the array to memory and then copying the memory buffer to process memory, you need to do this:</p>\n\n<pre><code>Memory m = ...;\nfloat[] data = ...;\nfor(int i=0;i &lt; data.length;i ++) {\n    m.setFloat(i * Float.SIZE/8, data[i]);\n}\n</code></pre>\n"}],"owner":{"account_id":7060934,"reputation":51,"user_id":5406214,"display_name":"Darky00"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":397,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1652686238,"creation_date":1450827570,"question_id":34426304,"body_markdown":"I&#39;m trying to write a float to memory but It&#39;s not working.\r\n\r\n**Kernel32.java**\r\n\r\n    public abstract boolean WriteProcessMemory(Pointer paramPointer1, long paramLong, Pointer paramPointer2, int paramInt, IntByReference paramIntByReference);\r\n\r\n**MemoryWriting.java**\r\n\r\n\tpublic void writeMemory(int address, float[] data) {\r\n\t\tint size = data.length;\r\n\r\n\t\tMemory toWrite = new Memory(size);\r\n\r\n\t\tfor (int i = 0; i &lt; size; i++) {\r\n\t\t\ttoWrite.setFloat(i, data[i]);\r\n\t\t}\r\n\r\n\t\tkernel32.WriteProcessMemory(process, address, toWrite, size, null);\r\n\t}\r\n\r\nEDIT:\r\n\r\nstill same issue\r\n\r\n\tpublic void writeMemory(int address, float[] data) {\r\n\t\tint size = data.length;\r\n\r\n\t\tMemory toWrite = new Memory(size);\r\n\r\n\t\tfor (int i = 0; i &lt; size; i++) {\r\n\t\t\ttoWrite.setFloat(i * Float.SIZE / 8, data[i]);\r\n\t\t}\r\n\r\n\t\tkernel32.WriteProcessMemory(process, address, toWrite, size, null);\r\n\t}\r\n","title":"Java JNA can&#39;t write float to memory","body":"<p>I'm trying to write a float to memory but It's not working.</p>\n\n<p><strong>Kernel32.java</strong></p>\n\n<pre><code>public abstract boolean WriteProcessMemory(Pointer paramPointer1, long paramLong, Pointer paramPointer2, int paramInt, IntByReference paramIntByReference);\n</code></pre>\n\n<p><strong>MemoryWriting.java</strong></p>\n\n<pre><code>public void writeMemory(int address, float[] data) {\n    int size = data.length;\n\n    Memory toWrite = new Memory(size);\n\n    for (int i = 0; i &lt; size; i++) {\n        toWrite.setFloat(i, data[i]);\n    }\n\n    kernel32.WriteProcessMemory(process, address, toWrite, size, null);\n}\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>still same issue</p>\n\n<pre><code>public void writeMemory(int address, float[] data) {\n    int size = data.length;\n\n    Memory toWrite = new Memory(size);\n\n    for (int i = 0; i &lt; size; i++) {\n        toWrite.setFloat(i * Float.SIZE / 8, data[i]);\n    }\n\n    kernel32.WriteProcessMemory(process, address, toWrite, size, null);\n}\n</code></pre>\n"},{"tags":["java","sql","spring","spring-boot"],"comments":[{"owner":{"account_id":4564696,"reputation":43122,"user_id":3706016,"display_name":"jarlh"},"score":2,"creation_date":1652685692,"post_id":72255456,"comment_id":127656649,"body_markdown":"Can&#39;t you create an index?","body":"Can&#39;t you create an index?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1652685818,"post_id":72255456,"comment_id":127656681,"body_markdown":"How many distinct values are there?","body":"How many distinct values are there?"},{"owner":{"account_id":25301058,"reputation":11,"user_id":19125285,"display_name":"Rakesh"},"score":0,"creation_date":1652685915,"post_id":72255456,"comment_id":127656702,"body_markdown":"the scenario is like I need to get unique values from almost all the columns. so its not possible to create index for all the columns i guess.","body":"the scenario is like I need to get unique values from almost all the columns. so its not possible to create index for all the columns i guess."},{"owner":{"account_id":25301058,"reputation":11,"user_id":19125285,"display_name":"Rakesh"},"score":0,"creation_date":1652685963,"post_id":72255456,"comment_id":127656716,"body_markdown":"around 1 million distinct values","body":"around 1 million distinct values"},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1652686894,"post_id":72255456,"comment_id":127656977,"body_markdown":"Most Big-data based solutions are good fit for these kind of requirement -- e.g. apache spark. I think without index in underlying table, you might face issues","body":"Most Big-data based solutions are good fit for these kind of requirement -- e.g. apache spark. I think without index in underlying table, you might face issues"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1652742683,"post_id":72255456,"comment_id":127675141,"body_markdown":"Why can&#39;t you put an index on each column?","body":"Why can&#39;t you put an index on each column?"},{"owner":{"account_id":25301058,"reputation":11,"user_id":19125285,"display_name":"Rakesh"},"score":0,"creation_date":1652773242,"post_id":72255456,"comment_id":127680610,"body_markdown":"not sure if we can create index for each column. If we can thats good to know.\nBut the problem is we dont own or manage those databases.","body":"not sure if we can create index for each column. If we can thats good to know. But the problem is we dont own or manage those databases."}],"answers":[{"tags":[],"owner":{"account_id":25084421,"reputation":141,"user_id":18936800,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652686158,"creation_date":1652686158,"answer_id":72255555,"question_id":72255456,"body_markdown":"It is not a good idea to take all rows (especially if there are billions of them), because it is not memory efficient, or you&quot;ll get **OutOfMemoryError**.\r\n\r\nThe best of course is to rearrange unstructured data.\r\nAlso, for big sets of data common practice is to use a **paging (pagination)** mechanism, that allows you to take the data in small chunks, so you&#39;ll bypass this timeout issue.\r\n\r\n","title":"SELECT DISTINCT vs Java Set/List","body":"<p>It is not a good idea to take all rows (especially if there are billions of them), because it is not memory efficient, or you&quot;ll get <strong>OutOfMemoryError</strong>.</p>\n<p>The best of course is to rearrange unstructured data.\nAlso, for big sets of data common practice is to use a <strong>paging (pagination)</strong> mechanism, that allows you to take the data in small chunks, so you'll bypass this timeout issue.</p>\n"}],"owner":{"account_id":25301058,"reputation":11,"user_id":19125285,"display_name":"Rakesh"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652686158,"creation_date":1652685638,"question_id":72255456,"body_markdown":"I need to get the distinct values from a  column (which is not indexed) and the table contains billions of rows.\r\n\r\nSo when I use distinct in the select query, the query gets time out as the timeout is set to 3 minutes.\r\n\r\nWill be it a good approach to get all the data from the table and then using set we can get the unique values?\r\n\r\nplease suggest the best approach here.\r\n\r\nThanks in advance !! :)","title":"SELECT DISTINCT vs Java Set/List","body":"<p>I need to get the distinct values from a  column (which is not indexed) and the table contains billions of rows.</p>\n<p>So when I use distinct in the select query, the query gets time out as the timeout is set to 3 minutes.</p>\n<p>Will be it a good approach to get all the data from the table and then using set we can get the unique values?</p>\n<p>please suggest the best approach here.</p>\n<p>Thanks in advance !! :)</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":1799577,"reputation":5303,"user_id":1638237,"accept_rate":59,"display_name":"nafas"},"score":0,"creation_date":1502958190,"post_id":45729951,"comment_id":78417547,"body_markdown":"hmm java is case sensitive, `MAC` is different from `mac`... not sure what the question is...","body":"hmm java is case sensitive, <code>MAC</code> is different from <code>mac</code>... not sure what the question is..."},{"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"score":0,"creation_date":1502958217,"post_id":45729951,"comment_id":78417562,"body_markdown":"https://stackoverflow.com/a/37686018/1927832","body":"<a href=\"https://stackoverflow.com/a/37686018/1927832\">stackoverflow.com/a/37686018/1927832</a>"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1502959480,"post_id":45729951,"comment_id":78418346,"body_markdown":"Post a complete minimal example reproducing the problem. We cant see your code if you don&#39;t post it. And the few lines you posted isn&#39;t even valid Java code.","body":"Post a complete minimal example reproducing the problem. We cant see your code if you don&#39;t post it. And the few lines you posted isn&#39;t even valid Java code."},{"owner":{"account_id":3919546,"reputation":9,"user_id":3242367,"display_name":"okduman"},"score":0,"creation_date":1502960641,"post_id":45729951,"comment_id":78419146,"body_markdown":"I&#39;m not allowed to post confidential code so that I put an example code. I think my question is clear to understand and doesn&#39;t matter wheter it is valid or not because it&#39;s so simple but i fixed it.","body":"I&#39;m not allowed to post confidential code so that I put an example code. I think my question is clear to understand and doesn&#39;t matter wheter it is valid or not because it&#39;s so simple but i fixed it."}],"answers":[{"tags":[],"owner":{"account_id":5984666,"reputation":7885,"user_id":4702544,"accept_rate":50,"display_name":"Sachin Gupta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1502961942,"creation_date":1502961230,"answer_id":45731042,"question_id":45729951,"body_markdown":"This problem occurs due to upper case letters used in field property names.\r\nJust use `@JsonProperty` annotation in each field of Request class then it will de-serialize to given name only.\r\n\r\nE.g.:\r\n\r\n    class Request{\r\n        @JsonProperty(&quot;MAC&quot;)\r\n        private String mac;\r\n    \r\n    }","title":"Java JSON writes double","body":"<p>This problem occurs due to upper case letters used in field property names.\nJust use <code>@JsonProperty</code> annotation in each field of Request class then it will de-serialize to given name only.</p>\n\n<p>E.g.:</p>\n\n<pre><code>class Request{\n    @JsonProperty(\"MAC\")\n    private String mac;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1331444,"reputation":1089,"user_id":1275277,"display_name":"xiaoming"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1502962438,"creation_date":1502962438,"answer_id":45731469,"question_id":45729951,"body_markdown":"Do you have getter &amp; setter in your class Request, but those getter does not follow java bean rules, \r\nThe field &quot;MAC&quot; whith getMAC and setMAC whill be correct , but &quot;getMac&quot; will generate mac twice in the result.","title":"Java JSON writes double","body":"<p>Do you have getter &amp; setter in your class Request, but those getter does not follow java bean rules, \nThe field \"MAC\" whith getMAC and setMAC whill be correct , but \"getMac\" will generate mac twice in the result.</p>\n"}],"owner":{"account_id":3919546,"reputation":9,"user_id":3242367,"display_name":"okduman"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":568,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1652686158,"creation_date":1502957991,"question_id":45729951,"body_markdown":"I&#39;m trying to deserialize a java object to JSON object with the code below and I recognized that the parameters which start with upper case has been written double. For example;\r\n\r\n    Request req = new Request();\r\n    req.setMAC(&quot;abcdef&quot;);\r\n    req.setMACParams(&quot;term:id:orderno&quot;);\r\n    req.setOrderNo(&quot;999xdef123&quot;);\r\n        \r\n    final ObjectMapper mapper = new ObjectMapper(); \r\n    \r\n    String json = mapper.writeValueAsString(req);\r\n\r\nInside of json string:\r\n\r\n    { &quot;MAC&quot;:&quot;abcdef&quot;,&quot;MACParams&quot;:&quot;term:id:orderno&quot;,&quot;OrderNo&quot;:&quot;999xdef123&quot;,&quot;mac&quot;:&quot;abcdef&quot;,&quot;macparams&quot;:&quot;term:id:orderno&quot;,&quot;orderno&quot;:&quot;999xdef123&quot; }\r\n\r\nSo what should i do to prevent this double code?\r\n\r\n\r\n","title":"Java JSON writes double","body":"<p>I'm trying to deserialize a java object to JSON object with the code below and I recognized that the parameters which start with upper case has been written double. For example;</p>\n\n<pre><code>Request req = new Request();\nreq.setMAC(\"abcdef\");\nreq.setMACParams(\"term:id:orderno\");\nreq.setOrderNo(\"999xdef123\");\n\nfinal ObjectMapper mapper = new ObjectMapper(); \n\nString json = mapper.writeValueAsString(req);\n</code></pre>\n\n<p>Inside of json string:</p>\n\n<pre><code>{ \"MAC\":\"abcdef\",\"MACParams\":\"term:id:orderno\",\"OrderNo\":\"999xdef123\",\"mac\":\"abcdef\",\"macparams\":\"term:id:orderno\",\"orderno\":\"999xdef123\" }\n</code></pre>\n\n<p>So what should i do to prevent this double code?</p>\n"},{"tags":["java","list","grouping","bin-packing"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1652705911,"post_id":72229896,"comment_id":127663245,"body_markdown":"How should duplicates be handled? `values.add(new Foo(1, 24)); values.add(new Foo(1, 18)); values.add(new Foo(1, 7)); values.add(new Foo(1, 24)); values.add(new Foo(1, 18)); values.add(new Foo(1, 7));` could result in 2 valid result list, or just 1, if duplicates should be discarded","body":"How should duplicates be handled? <code>values.add(new Foo(1, 24)); values.add(new Foo(1, 18)); values.add(new Foo(1, 7)); values.add(new Foo(1, 24)); values.add(new Foo(1, 18)); values.add(new Foo(1, 7));</code> could result in 2 valid result list, or just 1, if duplicates should be discarded"},{"owner":{"account_id":14869876,"reputation":31,"user_id":10737675,"display_name":"domi1294"},"score":0,"creation_date":1652873361,"post_id":72229896,"comment_id":127710782,"body_markdown":"@XtremeBaumer duplicates shouldn&#39;t be kept but also shouldn&#39;t occur since the live code has more complicated objects than just &quot;Foo&quot; objects that are never equal (unless one object was added to the list twice)","body":"@XtremeBaumer duplicates shouldn&#39;t be kept but also shouldn&#39;t occur since the live code has more complicated objects than just &quot;Foo&quot; objects that are never equal (unless one object was added to the list twice)"}],"answers":[{"tags":[],"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652686082,"creation_date":1652686082,"answer_id":72255543,"question_id":72229896,"body_markdown":"Alright. So how I went about it, was to generate all possible combinations for each group. The algorithm was taken from [this answer](https://stackoverflow.com/a/37836750/7109162). I then applied the max value filter to it. After that, I created a sorted map with the difference between `maximumValue`\r\n and the summed total of a list and only added it it the result, if none of the elements already existed in the result. It&#39;s probably not the sexiest solution, but it gets the expected results. \r\n\r\n\r\n\r\n\r\n    public class Test {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tint maximumValue = 50;\r\n    \t\tList&lt;Foo&gt; values = new ArrayList&lt;&gt;();\r\n    \t\tvalues.add(new Foo(1, 27));\r\n    \t\tvalues.add(new Foo(1, 24));\r\n    \t\tvalues.add(new Foo(1, 18));\r\n    \t\tvalues.add(new Foo(1, 13));\r\n    \t\tvalues.add(new Foo(1, 10));\r\n    \t\tvalues.add(new Foo(1, 7));\r\n    \t\t// ideal groups: [27, 13, 10], [24, 18, 7]\r\n    \t\tvalues.add(new Foo(2, 39));\r\n    \t\tvalues.add(new Foo(2, 34));\r\n    \t\tvalues.add(new Foo(2, 15));\r\n    \t\tvalues.add(new Foo(2, 5));\r\n    \r\n    \t\tList&lt;List&lt;Foo&gt;&gt; allResult = group(values, maximumValue);\r\n    \r\n    \t\tfor (List&lt;Foo&gt; list : allResult) {\r\n    \t\t\tlist.forEach(System.out::println);\r\n    \t\t\t// check if all objects are of the same group\r\n    \t\t\tassert list.stream().map(Foo::getType).distinct().count() == 1;\r\n    \t\t\t// check if sum of values does not exceed maximum value\r\n    \t\t\tint sum = list.stream().mapToInt(Foo::getValue).sum();\r\n    \t\t\tSystem.out.println(&quot;sum=&quot; + sum);\r\n    \t\t\tassert sum &lt;= maximumValue;\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \t/**\r\n    \t * @param maximumValue\r\n    \t * @return\r\n    \t * \r\n    \t */\r\n    \tprivate static List&lt;List&lt;Foo&gt;&gt; group(List&lt;Foo&gt; values, int maximumValue) {\r\n    \t\tList&lt;List&lt;Foo&gt;&gt; allResult = new ArrayList&lt;&gt;();\r\n    \t\tMap&lt;?, List&lt;Foo&gt;&gt; typeGroups = values.stream().collect(Collectors.groupingBy(Foo::getType));\r\n    \t\tfor (List&lt;Foo&gt; input : typeGroups.values()) {\r\n    \t\t\tList&lt;List&lt;Foo&gt;&gt; collect = combinations(input.toArray(new Foo[] {}), maximumValue)\r\n    \t\t\t\t\t.collect(Collectors.toList());\r\n    \r\n    \t\t\t// collect.forEach(e -&gt; System.out.println(e));\r\n    \r\n    \t\t\tMap&lt;List&lt;Foo&gt;, Integer&gt; diffMap = new HashMap&lt;&gt;();\r\n    \r\n    \t\t\tfor (List&lt;Foo&gt; data : collect) {\r\n    \t\t\t\tint sum = data.stream().mapToInt(e -&gt; e.value).sum();\r\n    \t\t\t\tdiffMap.put(data, maximumValue - sum);\r\n    \t\t\t}\r\n    \r\n    \t\t\tallResult.addAll(sortByValueAndFilter(diffMap));\r\n    \r\n    \t\t}\r\n    \t\treturn allResult;\r\n    \t}\r\n    \r\n    \tprivate static List&lt;List&lt;Foo&gt;&gt; sortByValueAndFilter(Map&lt;List&lt;Foo&gt;, Integer&gt; diffMap) {\r\n    \t\tList&lt;Entry&lt;List&lt;Foo&gt;, Integer&gt;&gt; list = new ArrayList&lt;&gt;(diffMap.entrySet());\r\n    \t\tlist.sort(Entry.comparingByValue());\r\n    \r\n    \t\tMap&lt;List&lt;Foo&gt;, Integer&gt; result = new LinkedHashMap&lt;&gt;();\r\n    \t\tfor (Entry&lt;List&lt;Foo&gt;, Integer&gt; entry : list) {\r\n    \t\t\tresult.put(entry.getKey(), entry.getValue());\r\n    \t\t}\r\n    \t\tList&lt;List&lt;Foo&gt;&gt; resultList = new ArrayList&lt;&gt;();\r\n    \t\tfor (Entry&lt;List&lt;Foo&gt;, Integer&gt; entry2 : result.entrySet()) {\r\n    \t\t\tif (!checkResultContainsElement(resultList, entry2.getKey()))\r\n    \t\t\t\tresultList.add(entry2.getKey());\r\n    \t\t}\r\n    \t\treturn resultList;\r\n    \t}\r\n    \r\n    \tprivate static boolean checkResultContainsElement(List&lt;List&lt;Foo&gt;&gt; resultList, List&lt;Foo&gt; key) {\r\n    \t\tboolean res = false;\r\n    \t\tfor (Foo integer : key) {\r\n    \t\t\tfor (Foo i : resultList.stream().flatMap(e -&gt; e.stream()).collect(Collectors.toList())) {\r\n    \t\t\t\tif (i.value == integer.value) {\r\n    \t\t\t\t\tres = true;\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tif (res)\r\n    \t\t\t\tbreak;\r\n    \t\t}\r\n    \t\treturn res;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * \r\n    \t * Property of https://stackoverflow.com/a/37836750/7109162\r\n    \t * \r\n    \t * @param arr\r\n    \t * @param maximumValue\r\n    \t * @return\r\n    \t */\r\n    \tpublic static Stream&lt;List&lt;Foo&gt;&gt; combinations(Foo[] arr, int maximumValue) {\r\n    \t\tfinal long N = (long) Math.pow(2, arr.length);\r\n    \t\treturn StreamSupport.stream(new AbstractSpliterator&lt;List&lt;Foo&gt;&gt;(N, Spliterator.SIZED) {\r\n    \t\t\tlong i = 1;\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic boolean tryAdvance(Consumer&lt;? super List&lt;Foo&gt;&gt; action) {\r\n    \t\t\t\tif (i &lt; N) {\r\n    \t\t\t\t\tList&lt;Foo&gt; out = new ArrayList&lt;Foo&gt;(Long.bitCount(i));\r\n    \t\t\t\t\tfor (int bit = 0; bit &lt; arr.length; bit++) {\r\n    \t\t\t\t\t\tif ((i &amp; (1 &lt;&lt; bit)) != 0) {\r\n    \t\t\t\t\t\t\tout.add(arr[bit]);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tif (out.stream().mapToInt(e -&gt; e.value).sum() &lt;= maximumValue)\r\n    \t\t\t\t\t\taction.accept(out);\r\n    \t\t\t\t\t++i;\r\n    \t\t\t\t\treturn true;\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\treturn false;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}, false);\r\n    \t}\r\n    \r\n    \tpublic static class Foo {\r\n    \r\n    \t\tprivate int type;\r\n    \t\tprivate int value;\r\n    \r\n    \t\tpublic Foo(int type, int value) {\r\n    \t\t\tthis.type = type;\r\n    \t\t\tthis.value = value;\r\n    \t\t}\r\n    \r\n    \t\tpublic int getType() {\r\n    \t\t\treturn type;\r\n    \t\t}\r\n    \r\n    \t\tpublic int getValue() {\r\n    \t\t\treturn value;\r\n    \t\t}\r\n    \r\n    \t\tpublic void setType(int type) {\r\n    \t\t\tthis.type = type;\r\n    \t\t}\r\n    \r\n    \t\tpublic void setValue(int value) {\r\n    \t\t\tthis.value = value;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic String toString() {\r\n    \t\t\treturn &quot;Foo [type=&quot; + type + &quot;, value=&quot; + value + &quot;]&quot;;\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\nResult:\r\n\r\n    Foo [type=1, value=27]\r\n    Foo [type=1, value=13]\r\n    Foo [type=1, value=10]\r\n    sum=50\r\n    Foo [type=1, value=24]\r\n    Foo [type=1, value=18]\r\n    Foo [type=1, value=7]\r\n    sum=49\r\n    Foo [type=2, value=34]\r\n    Foo [type=2, value=15]\r\n    sum=49\r\n    Foo [type=2, value=39]\r\n    Foo [type=2, value=5]\r\n    sum=44\r\n\r\nThe only issue I see with this solution is, if you have duplicate value sets, then only result set is created. E.g.:\r\n\r\n\tList&lt;Foo&gt; values = new ArrayList&lt;&gt;();\r\n\tvalues.add(new Foo(1, 27));\r\n\tvalues.add(new Foo(1, 13));\r\n\tvalues.add(new Foo(1, 10));\r\n\t\r\n\tvalues.add(new Foo(1, 27));\r\n\tvalues.add(new Foo(1, 13));\r\n\tvalues.add(new Foo(1, 10));\r\n\t\r\n\tvalues.add(new Foo(1, 24));\r\n\tvalues.add(new Foo(1, 18));\r\n\tvalues.add(new Foo(1, 7));\r\n\t// ideal groups: [27, 13, 10], [24, 18, 7]\r\n\tvalues.add(new Foo(2, 39));\r\n\tvalues.add(new Foo(2, 5));\r\n\r\n\tvalues.add(new Foo(2, 34));\r\n\tvalues.add(new Foo(2, 15));\r\n\r\nresults in:\r\n\r\n    Foo [type=1, value=27]\r\n    Foo [type=1, value=13]\r\n    Foo [type=1, value=10]\r\n    sum=50\r\n    Foo [type=1, value=24]\r\n    Foo [type=1, value=18]\r\n    Foo [type=1, value=7]\r\n    sum=49\r\n    Foo [type=2, value=34]\r\n    Foo [type=2, value=15]\r\n    sum=49\r\n    Foo [type=2, value=39]\r\n    Foo [type=2, value=5]\r\n    sum=44\r\n\r\n","title":"Group list of objects into smallest possible number of sublists without exceeding maximum sum","body":"<p>Alright. So how I went about it, was to generate all possible combinations for each group. The algorithm was taken from <a href=\"https://stackoverflow.com/a/37836750/7109162\">this answer</a>. I then applied the max value filter to it. After that, I created a sorted map with the difference between <code>maximumValue</code>\nand the summed total of a list and only added it it the result, if none of the elements already existed in the result. It's probably not the sexiest solution, but it gets the expected results.</p>\n<pre><code>public class Test {\n\n    public static void main(String[] args) {\n        int maximumValue = 50;\n        List&lt;Foo&gt; values = new ArrayList&lt;&gt;();\n        values.add(new Foo(1, 27));\n        values.add(new Foo(1, 24));\n        values.add(new Foo(1, 18));\n        values.add(new Foo(1, 13));\n        values.add(new Foo(1, 10));\n        values.add(new Foo(1, 7));\n        // ideal groups: [27, 13, 10], [24, 18, 7]\n        values.add(new Foo(2, 39));\n        values.add(new Foo(2, 34));\n        values.add(new Foo(2, 15));\n        values.add(new Foo(2, 5));\n\n        List&lt;List&lt;Foo&gt;&gt; allResult = group(values, maximumValue);\n\n        for (List&lt;Foo&gt; list : allResult) {\n            list.forEach(System.out::println);\n            // check if all objects are of the same group\n            assert list.stream().map(Foo::getType).distinct().count() == 1;\n            // check if sum of values does not exceed maximum value\n            int sum = list.stream().mapToInt(Foo::getValue).sum();\n            System.out.println(&quot;sum=&quot; + sum);\n            assert sum &lt;= maximumValue;\n        }\n\n    }\n\n    /**\n     * @param maximumValue\n     * @return\n     * \n     */\n    private static List&lt;List&lt;Foo&gt;&gt; group(List&lt;Foo&gt; values, int maximumValue) {\n        List&lt;List&lt;Foo&gt;&gt; allResult = new ArrayList&lt;&gt;();\n        Map&lt;?, List&lt;Foo&gt;&gt; typeGroups = values.stream().collect(Collectors.groupingBy(Foo::getType));\n        for (List&lt;Foo&gt; input : typeGroups.values()) {\n            List&lt;List&lt;Foo&gt;&gt; collect = combinations(input.toArray(new Foo[] {}), maximumValue)\n                    .collect(Collectors.toList());\n\n            // collect.forEach(e -&gt; System.out.println(e));\n\n            Map&lt;List&lt;Foo&gt;, Integer&gt; diffMap = new HashMap&lt;&gt;();\n\n            for (List&lt;Foo&gt; data : collect) {\n                int sum = data.stream().mapToInt(e -&gt; e.value).sum();\n                diffMap.put(data, maximumValue - sum);\n            }\n\n            allResult.addAll(sortByValueAndFilter(diffMap));\n\n        }\n        return allResult;\n    }\n\n    private static List&lt;List&lt;Foo&gt;&gt; sortByValueAndFilter(Map&lt;List&lt;Foo&gt;, Integer&gt; diffMap) {\n        List&lt;Entry&lt;List&lt;Foo&gt;, Integer&gt;&gt; list = new ArrayList&lt;&gt;(diffMap.entrySet());\n        list.sort(Entry.comparingByValue());\n\n        Map&lt;List&lt;Foo&gt;, Integer&gt; result = new LinkedHashMap&lt;&gt;();\n        for (Entry&lt;List&lt;Foo&gt;, Integer&gt; entry : list) {\n            result.put(entry.getKey(), entry.getValue());\n        }\n        List&lt;List&lt;Foo&gt;&gt; resultList = new ArrayList&lt;&gt;();\n        for (Entry&lt;List&lt;Foo&gt;, Integer&gt; entry2 : result.entrySet()) {\n            if (!checkResultContainsElement(resultList, entry2.getKey()))\n                resultList.add(entry2.getKey());\n        }\n        return resultList;\n    }\n\n    private static boolean checkResultContainsElement(List&lt;List&lt;Foo&gt;&gt; resultList, List&lt;Foo&gt; key) {\n        boolean res = false;\n        for (Foo integer : key) {\n            for (Foo i : resultList.stream().flatMap(e -&gt; e.stream()).collect(Collectors.toList())) {\n                if (i.value == integer.value) {\n                    res = true;\n                    break;\n                }\n            }\n            if (res)\n                break;\n        }\n        return res;\n    }\n\n    /**\n     * \n     * Property of https://stackoverflow.com/a/37836750/7109162\n     * \n     * @param arr\n     * @param maximumValue\n     * @return\n     */\n    public static Stream&lt;List&lt;Foo&gt;&gt; combinations(Foo[] arr, int maximumValue) {\n        final long N = (long) Math.pow(2, arr.length);\n        return StreamSupport.stream(new AbstractSpliterator&lt;List&lt;Foo&gt;&gt;(N, Spliterator.SIZED) {\n            long i = 1;\n\n            @Override\n            public boolean tryAdvance(Consumer&lt;? super List&lt;Foo&gt;&gt; action) {\n                if (i &lt; N) {\n                    List&lt;Foo&gt; out = new ArrayList&lt;Foo&gt;(Long.bitCount(i));\n                    for (int bit = 0; bit &lt; arr.length; bit++) {\n                        if ((i &amp; (1 &lt;&lt; bit)) != 0) {\n                            out.add(arr[bit]);\n                        }\n                    }\n                    if (out.stream().mapToInt(e -&gt; e.value).sum() &lt;= maximumValue)\n                        action.accept(out);\n                    ++i;\n                    return true;\n                } else {\n                    return false;\n                }\n            }\n        }, false);\n    }\n\n    public static class Foo {\n\n        private int type;\n        private int value;\n\n        public Foo(int type, int value) {\n            this.type = type;\n            this.value = value;\n        }\n\n        public int getType() {\n            return type;\n        }\n\n        public int getValue() {\n            return value;\n        }\n\n        public void setType(int type) {\n            this.type = type;\n        }\n\n        public void setValue(int value) {\n            this.value = value;\n        }\n\n        @Override\n        public String toString() {\n            return &quot;Foo [type=&quot; + type + &quot;, value=&quot; + value + &quot;]&quot;;\n        }\n    }\n\n}\n</code></pre>\n<p>Result:</p>\n<pre><code>Foo [type=1, value=27]\nFoo [type=1, value=13]\nFoo [type=1, value=10]\nsum=50\nFoo [type=1, value=24]\nFoo [type=1, value=18]\nFoo [type=1, value=7]\nsum=49\nFoo [type=2, value=34]\nFoo [type=2, value=15]\nsum=49\nFoo [type=2, value=39]\nFoo [type=2, value=5]\nsum=44\n</code></pre>\n<p>The only issue I see with this solution is, if you have duplicate value sets, then only result set is created. E.g.:</p>\n<pre><code>List&lt;Foo&gt; values = new ArrayList&lt;&gt;();\nvalues.add(new Foo(1, 27));\nvalues.add(new Foo(1, 13));\nvalues.add(new Foo(1, 10));\n\nvalues.add(new Foo(1, 27));\nvalues.add(new Foo(1, 13));\nvalues.add(new Foo(1, 10));\n\nvalues.add(new Foo(1, 24));\nvalues.add(new Foo(1, 18));\nvalues.add(new Foo(1, 7));\n// ideal groups: [27, 13, 10], [24, 18, 7]\nvalues.add(new Foo(2, 39));\nvalues.add(new Foo(2, 5));\n\nvalues.add(new Foo(2, 34));\nvalues.add(new Foo(2, 15));\n</code></pre>\n<p>results in:</p>\n<pre><code>Foo [type=1, value=27]\nFoo [type=1, value=13]\nFoo [type=1, value=10]\nsum=50\nFoo [type=1, value=24]\nFoo [type=1, value=18]\nFoo [type=1, value=7]\nsum=49\nFoo [type=2, value=34]\nFoo [type=2, value=15]\nsum=49\nFoo [type=2, value=39]\nFoo [type=2, value=5]\nsum=44\n</code></pre>\n"}],"owner":{"account_id":14869876,"reputation":31,"user_id":10737675,"display_name":"domi1294"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":327,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1652686082,"creation_date":1652446217,"question_id":72229896,"body_markdown":"I&#39;m trying to write a method that groups objects into the minimum amount of sublists without mixing types (int field on object) or the sum of their values exceeding a defined maximum value. It should look something like this:\r\n```\r\nList&lt;List&lt;Foo&gt;&gt; group(List&lt;Foo&gt; values, int maximumValue);\r\n```\r\n\r\nThis is my pojo class (actual sample code at the bottom includes constructor and accessors):\r\n```\r\npublic class Foo {\r\n    int type;\r\n    int value;\r\n}\r\n```\r\n\r\nHere is a sample input and the expected output:\r\n\r\nInput:\r\n```\r\nmaximumValue=50\r\nFoo [type=1, value=27]\r\nFoo [type=1, value=24]\r\nFoo [type=1, value=18]\r\nFoo [type=1, value=13]\r\nFoo [type=1, value=10]\r\nFoo [type=1, value=7]\r\nFoo [type=2, value=39]\r\nFoo [type=2, value=34]\r\nFoo [type=2, value=15]\r\nFoo [type=2, value=5]\r\n```\r\nExpected output:\r\n```\r\nFoo [type=1, value=27]\r\nFoo [type=1, value=13]\r\nFoo [type=1, value=10]\r\nsum=50\r\nFoo [type=1, value=24]\r\nFoo [type=1, value=18]\r\nFoo [type=1, value=7]\r\nsum=49\r\nFoo [type=2, value=39]\r\nFoo [type=2, value=5]\r\nsum=44\r\nFoo [type=2, value=34]\r\nFoo [type=2, value=15]\r\nsum=49\r\n```\r\n\r\nWhen trying to implement my grouping method I found this answer which already seemed very close to what I need: https://stackoverflow.com/questions/13662829/rearrange-int-array-sort-into-groups-with-a-sum-maximum-in-java/13664211#13664211\r\n\r\nMy current implementation is essentially the same, just adjusted for using an object instead of directly grouping integers plus separation by type:\r\n```\r\npublic List&lt;List&lt;Foo&gt;&gt; group(List&lt;Foo&gt; values, int maximumValue) {                     \r\n  List&lt;List&lt;Foo&gt;&gt; sublists = new ArrayList&lt;&gt;();                                               \r\n  // at first group by type                                                                   \r\n  Map&lt;?, List&lt;Foo&gt;&gt; typeGroups = values.stream().collect(Collectors.groupingBy(Foo::getType));\r\n  for (List&lt;Foo&gt; input : typeGroups.values()) {                                               \r\n    input.sort(Comparator.comparingInt(Foo::getValue));                                       \r\n    List&lt;List&lt;Foo&gt;&gt; result = new ArrayList&lt;&gt;();                                               \r\n    result.add(new ArrayList&lt;Foo&gt;());                                                         \r\n    // Initialize the sums of the groups, to increase performance (I guess).                  \r\n    ArrayList&lt;Integer&gt; sums = new ArrayList&lt;&gt;();                                              \r\n    sums.add(0);                                                                              \r\n    while (!input.isEmpty()) {                                                                \r\n      Foo foo = input.get(0);                                                                 \r\n      int value = foo.getValue();                                                             \r\n      boolean match = false;                                                                  \r\n      // Search the next groups and check if our current                                      \r\n      // number (&#39;n&#39;) fits.                                                                   \r\n      for (int i = 0; i &lt; sums.size(); i++) {                                                 \r\n        if (sums.get(i) + value &lt;= maximumValue) {                                            \r\n          // If it fits, then add the number to the group.                                    \r\n          sums.set(i, sums.get(i) + value);                                                   \r\n          result.get(i).add(foo);                                                             \r\n          match = true;                                                                       \r\n          break;                                                                              \r\n        }                                                                                     \r\n      }                                                                                       \r\n      // If &#39;n&#39; doesn&#39;t fit in any group, create a new one.                                   \r\n      if (!match) {                                                                           \r\n        List&lt;Foo&gt; newGroup = new ArrayList&lt;&gt;();                                               \r\n        newGroup.add(foo);                                                                    \r\n        result.add(newGroup);                                                                 \r\n        sums.add(value);                                                                      \r\n      }                                                                                       \r\n      // Remove our number.                                                                   \r\n      input.remove(0);                                                                        \r\n    }                                                                                         \r\n    sublists.addAll(result);                                                                  \r\n  }                                                                                           \r\n  return sublists;                                                                            \r\n}\r\n```\r\n\r\nCalling this function with the sample input from earlier gives me the following output:\r\n```\r\nFoo [type=1, value=7]\r\nFoo [type=1, value=10]\r\nFoo [type=1, value=13]\r\nFoo [type=1, value=18]\r\nsum=48\r\nFoo [type=1, value=24]\r\nsum=24\r\nFoo [type=1, value=27]\r\nsum=27\r\nFoo [type=2, value=5]\r\nFoo [type=2, value=15]\r\nsum=20\r\nFoo [type=2, value=34]\r\nsum=34\r\nFoo [type=2, value=39]\r\nsum=39\r\n```\r\nThose are 6 groups but it is possible (as seen in the example earlier) to group the input into only 4 groups. I tried reversing the sort order from ascending to descending which improves the result to 5 groups but doesn&#39;t fix the underlying issue whatsoever and still isn&#39;t even the smallest possible number of groups.\r\n\r\nHere is small self-contained class I wrote for testing &amp; adjusting:\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.Comparator;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class ObjectGrouping {\r\n\r\n  public static void main(String[] args) {\r\n    int maximumValue = 50;\r\n    List&lt;Foo&gt; values = new ArrayList&lt;&gt;();\r\n    values.add(new Foo(1, 27));\r\n    values.add(new Foo(1, 24));\r\n    values.add(new Foo(1, 18));\r\n    values.add(new Foo(1, 13));\r\n    values.add(new Foo(1, 10));\r\n    values.add(new Foo(1, 7));\r\n    // ideal groups: [27, 13, 10], [24, 18, 7]\r\n    values.add(new Foo(2, 39));\r\n    values.add(new Foo(2, 34));\r\n    values.add(new Foo(2, 15));\r\n    values.add(new Foo(2, 5));\r\n    // ideal groups: [39, 15], [34, 5] (which way exactly doesn&#39;t matter as long as it&#39;s 2 groups)\r\n    System.out.println(&quot;input:&quot;);\r\n    values.forEach(System.out::println);\r\n    System.out.println();\r\n    System.out.println();\r\n    List&lt;List&lt;Foo&gt;&gt; result = group(values, maximumValue);\r\n    System.out.println(&quot;result:&quot;);\r\n    for (List&lt;Foo&gt; list : result) {\r\n      list.forEach(System.out::println);\r\n      // check if all objects are of the same group\r\n      assert list.stream().map(Foo::getType).distinct().count() == 1;\r\n      // check if sum of values does not exceed maximum value\r\n      int sum = list.stream().mapToInt(Foo::getValue).sum();\r\n      System.out.println(&quot;sum=&quot; + sum);\r\n      assert sum &lt;= maximumValue;\r\n    }\r\n  }\r\n\r\n  public static List&lt;List&lt;Foo&gt;&gt; group(List&lt;Foo&gt; values, int maximumValue) {\r\n    List&lt;List&lt;Foo&gt;&gt; sublists = new ArrayList&lt;&gt;();\r\n    // at first group by type\r\n    Map&lt;?, List&lt;Foo&gt;&gt; typeGroups = values.stream().collect(Collectors.groupingBy(Foo::getType));\r\n    for (List&lt;Foo&gt; input : typeGroups.values()) {\r\n      input.sort(Comparator.comparingInt(Foo::getValue));\r\n      List&lt;List&lt;Foo&gt;&gt; result = new ArrayList&lt;&gt;();\r\n      result.add(new ArrayList&lt;Foo&gt;());\r\n      // Initialize the sums of the groups, to increase performance (I guess).\r\n      ArrayList&lt;Integer&gt; sums = new ArrayList&lt;&gt;();\r\n      sums.add(0);\r\n      while (!input.isEmpty()) {\r\n        Foo foo = input.get(0);\r\n        int value = foo.getValue();\r\n        boolean match = false;\r\n        // Search the next groups and check if our current\r\n        // number (&#39;n&#39;) fits.\r\n        for (int i = 0; i &lt; sums.size(); i++) {\r\n          if (sums.get(i) + value &lt;= maximumValue) {\r\n            // If it fits, then add the number to the group.\r\n            sums.set(i, sums.get(i) + value);\r\n            result.get(i).add(foo);\r\n            match = true;\r\n            break;\r\n          }\r\n        }\r\n        // If &#39;n&#39; doesn&#39;t fit in any group, create a new one.\r\n        if (!match) {\r\n          List&lt;Foo&gt; newGroup = new ArrayList&lt;&gt;();\r\n          newGroup.add(foo);\r\n          result.add(newGroup);\r\n          sums.add(value);\r\n        }\r\n        // Remove our number.\r\n        input.remove(0);\r\n      }\r\n      sublists.addAll(result);\r\n    }\r\n    return sublists;\r\n  }\r\n\r\n  public static class Foo {\r\n\r\n    private int type;\r\n    private int value;\r\n\r\n    public Foo(int type, int value) {\r\n      this.type = type;\r\n      this.value = value;\r\n    }\r\n\r\n    public int getType() {\r\n      return type;\r\n    }\r\n\r\n    public int getValue() {\r\n      return value;\r\n    }\r\n\r\n    public void setType(int type) {\r\n      this.type = type;\r\n    }\r\n\r\n    public void setValue(int value) {\r\n      this.value = value;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n      return &quot;Foo [type=&quot; + type + &quot;, value=&quot; + value + &quot;]&quot;;\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nI would be fine with either fixing the existing algorithm or using a completely new one, I was thinking that it might be possible to use the Streams API and implement a custom Collector but not sure. Any help is greatly appreciated, thanks.","title":"Group list of objects into smallest possible number of sublists without exceeding maximum sum","body":"<p>I'm trying to write a method that groups objects into the minimum amount of sublists without mixing types (int field on object) or the sum of their values exceeding a defined maximum value. It should look something like this:</p>\n<pre><code>List&lt;List&lt;Foo&gt;&gt; group(List&lt;Foo&gt; values, int maximumValue);\n</code></pre>\n<p>This is my pojo class (actual sample code at the bottom includes constructor and accessors):</p>\n<pre><code>public class Foo {\n    int type;\n    int value;\n}\n</code></pre>\n<p>Here is a sample input and the expected output:</p>\n<p>Input:</p>\n<pre><code>maximumValue=50\nFoo [type=1, value=27]\nFoo [type=1, value=24]\nFoo [type=1, value=18]\nFoo [type=1, value=13]\nFoo [type=1, value=10]\nFoo [type=1, value=7]\nFoo [type=2, value=39]\nFoo [type=2, value=34]\nFoo [type=2, value=15]\nFoo [type=2, value=5]\n</code></pre>\n<p>Expected output:</p>\n<pre><code>Foo [type=1, value=27]\nFoo [type=1, value=13]\nFoo [type=1, value=10]\nsum=50\nFoo [type=1, value=24]\nFoo [type=1, value=18]\nFoo [type=1, value=7]\nsum=49\nFoo [type=2, value=39]\nFoo [type=2, value=5]\nsum=44\nFoo [type=2, value=34]\nFoo [type=2, value=15]\nsum=49\n</code></pre>\n<p>When trying to implement my grouping method I found this answer which already seemed very close to what I need: <a href=\"https://stackoverflow.com/questions/13662829/rearrange-int-array-sort-into-groups-with-a-sum-maximum-in-java/13664211#13664211\">Rearrange int array, sort into groups with a sum maximum in Java</a></p>\n<p>My current implementation is essentially the same, just adjusted for using an object instead of directly grouping integers plus separation by type:</p>\n<pre><code>public List&lt;List&lt;Foo&gt;&gt; group(List&lt;Foo&gt; values, int maximumValue) {                     \n  List&lt;List&lt;Foo&gt;&gt; sublists = new ArrayList&lt;&gt;();                                               \n  // at first group by type                                                                   \n  Map&lt;?, List&lt;Foo&gt;&gt; typeGroups = values.stream().collect(Collectors.groupingBy(Foo::getType));\n  for (List&lt;Foo&gt; input : typeGroups.values()) {                                               \n    input.sort(Comparator.comparingInt(Foo::getValue));                                       \n    List&lt;List&lt;Foo&gt;&gt; result = new ArrayList&lt;&gt;();                                               \n    result.add(new ArrayList&lt;Foo&gt;());                                                         \n    // Initialize the sums of the groups, to increase performance (I guess).                  \n    ArrayList&lt;Integer&gt; sums = new ArrayList&lt;&gt;();                                              \n    sums.add(0);                                                                              \n    while (!input.isEmpty()) {                                                                \n      Foo foo = input.get(0);                                                                 \n      int value = foo.getValue();                                                             \n      boolean match = false;                                                                  \n      // Search the next groups and check if our current                                      \n      // number ('n') fits.                                                                   \n      for (int i = 0; i &lt; sums.size(); i++) {                                                 \n        if (sums.get(i) + value &lt;= maximumValue) {                                            \n          // If it fits, then add the number to the group.                                    \n          sums.set(i, sums.get(i) + value);                                                   \n          result.get(i).add(foo);                                                             \n          match = true;                                                                       \n          break;                                                                              \n        }                                                                                     \n      }                                                                                       \n      // If 'n' doesn't fit in any group, create a new one.                                   \n      if (!match) {                                                                           \n        List&lt;Foo&gt; newGroup = new ArrayList&lt;&gt;();                                               \n        newGroup.add(foo);                                                                    \n        result.add(newGroup);                                                                 \n        sums.add(value);                                                                      \n      }                                                                                       \n      // Remove our number.                                                                   \n      input.remove(0);                                                                        \n    }                                                                                         \n    sublists.addAll(result);                                                                  \n  }                                                                                           \n  return sublists;                                                                            \n}\n</code></pre>\n<p>Calling this function with the sample input from earlier gives me the following output:</p>\n<pre><code>Foo [type=1, value=7]\nFoo [type=1, value=10]\nFoo [type=1, value=13]\nFoo [type=1, value=18]\nsum=48\nFoo [type=1, value=24]\nsum=24\nFoo [type=1, value=27]\nsum=27\nFoo [type=2, value=5]\nFoo [type=2, value=15]\nsum=20\nFoo [type=2, value=34]\nsum=34\nFoo [type=2, value=39]\nsum=39\n</code></pre>\n<p>Those are 6 groups but it is possible (as seen in the example earlier) to group the input into only 4 groups. I tried reversing the sort order from ascending to descending which improves the result to 5 groups but doesn't fix the underlying issue whatsoever and still isn't even the smallest possible number of groups.</p>\n<p>Here is small self-contained class I wrote for testing &amp; adjusting:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Comparator;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.stream.Collectors;\n\npublic class ObjectGrouping {\n\n  public static void main(String[] args) {\n    int maximumValue = 50;\n    List&lt;Foo&gt; values = new ArrayList&lt;&gt;();\n    values.add(new Foo(1, 27));\n    values.add(new Foo(1, 24));\n    values.add(new Foo(1, 18));\n    values.add(new Foo(1, 13));\n    values.add(new Foo(1, 10));\n    values.add(new Foo(1, 7));\n    // ideal groups: [27, 13, 10], [24, 18, 7]\n    values.add(new Foo(2, 39));\n    values.add(new Foo(2, 34));\n    values.add(new Foo(2, 15));\n    values.add(new Foo(2, 5));\n    // ideal groups: [39, 15], [34, 5] (which way exactly doesn't matter as long as it's 2 groups)\n    System.out.println(&quot;input:&quot;);\n    values.forEach(System.out::println);\n    System.out.println();\n    System.out.println();\n    List&lt;List&lt;Foo&gt;&gt; result = group(values, maximumValue);\n    System.out.println(&quot;result:&quot;);\n    for (List&lt;Foo&gt; list : result) {\n      list.forEach(System.out::println);\n      // check if all objects are of the same group\n      assert list.stream().map(Foo::getType).distinct().count() == 1;\n      // check if sum of values does not exceed maximum value\n      int sum = list.stream().mapToInt(Foo::getValue).sum();\n      System.out.println(&quot;sum=&quot; + sum);\n      assert sum &lt;= maximumValue;\n    }\n  }\n\n  public static List&lt;List&lt;Foo&gt;&gt; group(List&lt;Foo&gt; values, int maximumValue) {\n    List&lt;List&lt;Foo&gt;&gt; sublists = new ArrayList&lt;&gt;();\n    // at first group by type\n    Map&lt;?, List&lt;Foo&gt;&gt; typeGroups = values.stream().collect(Collectors.groupingBy(Foo::getType));\n    for (List&lt;Foo&gt; input : typeGroups.values()) {\n      input.sort(Comparator.comparingInt(Foo::getValue));\n      List&lt;List&lt;Foo&gt;&gt; result = new ArrayList&lt;&gt;();\n      result.add(new ArrayList&lt;Foo&gt;());\n      // Initialize the sums of the groups, to increase performance (I guess).\n      ArrayList&lt;Integer&gt; sums = new ArrayList&lt;&gt;();\n      sums.add(0);\n      while (!input.isEmpty()) {\n        Foo foo = input.get(0);\n        int value = foo.getValue();\n        boolean match = false;\n        // Search the next groups and check if our current\n        // number ('n') fits.\n        for (int i = 0; i &lt; sums.size(); i++) {\n          if (sums.get(i) + value &lt;= maximumValue) {\n            // If it fits, then add the number to the group.\n            sums.set(i, sums.get(i) + value);\n            result.get(i).add(foo);\n            match = true;\n            break;\n          }\n        }\n        // If 'n' doesn't fit in any group, create a new one.\n        if (!match) {\n          List&lt;Foo&gt; newGroup = new ArrayList&lt;&gt;();\n          newGroup.add(foo);\n          result.add(newGroup);\n          sums.add(value);\n        }\n        // Remove our number.\n        input.remove(0);\n      }\n      sublists.addAll(result);\n    }\n    return sublists;\n  }\n\n  public static class Foo {\n\n    private int type;\n    private int value;\n\n    public Foo(int type, int value) {\n      this.type = type;\n      this.value = value;\n    }\n\n    public int getType() {\n      return type;\n    }\n\n    public int getValue() {\n      return value;\n    }\n\n    public void setType(int type) {\n      this.type = type;\n    }\n\n    public void setValue(int value) {\n      this.value = value;\n    }\n\n    @Override\n    public String toString() {\n      return &quot;Foo [type=&quot; + type + &quot;, value=&quot; + value + &quot;]&quot;;\n    }\n  }\n}\n</code></pre>\n<p>I would be fine with either fixing the existing algorithm or using a completely new one, I was thinking that it might be possible to use the Streams API and implement a custom Collector but not sure. Any help is greatly appreciated, thanks.</p>\n"},{"tags":["java","docker","dockerfile"],"answers":[{"tags":[],"owner":{"account_id":17813818,"reputation":1473,"user_id":12937828,"display_name":"Aman Singh Rajpoot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652684688,"creation_date":1652684235,"answer_id":72255190,"question_id":72254987,"body_markdown":"You have already mapped volumes to your docker container.\r\nTry to use these paths inside your code instead of reading it from the console.\r\n\r\n```Paths.get(&quot;your path&quot;)```\r\n\r\nIf you want to read from the console then you have to keep STDIN open which can be done by running your container in interactive mode.\r\n\r\n","title":"NosuchElementException while giving input to a docker run -v command","body":"<p>You have already mapped volumes to your docker container.\nTry to use these paths inside your code instead of reading it from the console.</p>\n<p><code>Paths.get(&quot;your path&quot;)</code></p>\n<p>If you want to read from the console then you have to keep STDIN open which can be done by running your container in interactive mode.</p>\n"},{"tags":[],"owner":{"account_id":18757259,"reputation":1751,"user_id":13676960,"display_name":"Hopey One"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652686028,"creation_date":1652686028,"answer_id":72255533,"question_id":72254987,"body_markdown":"The arguments at the end of your docker command are passed as arguments to your java main method.\r\n\r\nIf you want to provide input on STDIN to your java application inside your container you need to do something like this:\r\n\r\n    docker run -v C:\\Projects\\Java\\dockerJTest:/app openjdk /bin/bash -c &#39;echo stdin1 stdin2  | java -cp /app/ DockerJ arg1 arg2 arg3&#39;\r\n    arg1\r\n    arg2\r\n    arg3\r\n    Give paths to input and output files:\r\n    stdin1 stdin2\r\n    \r\n    public class DockerJ {\r\n        public static void main (String[] args) {\r\n    \r\n            try {\r\n                for (String arg : args) {\r\n                    System.out.println(arg);\r\n                }\r\n                BufferedReader br=new BufferedReader(new InputStreamReader(System.in));\r\n                System.out.println(&quot;Give paths to input and output files:&quot;);\r\n                String names=br.readLine();\r\n                System.out.println(names);\r\n    \r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }","title":"NosuchElementException while giving input to a docker run -v command","body":"<p>The arguments at the end of your docker command are passed as arguments to your java main method.</p>\n<p>If you want to provide input on STDIN to your java application inside your container you need to do something like this:</p>\n<pre><code>docker run -v C:\\Projects\\Java\\dockerJTest:/app openjdk /bin/bash -c 'echo stdin1 stdin2  | java -cp /app/ DockerJ arg1 arg2 arg3'\narg1\narg2\narg3\nGive paths to input and output files:\nstdin1 stdin2\n\npublic class DockerJ {\n    public static void main (String[] args) {\n\n        try {\n            for (String arg : args) {\n                System.out.println(arg);\n            }\n            BufferedReader br=new BufferedReader(new InputStreamReader(System.in));\n            System.out.println(&quot;Give paths to input and output files:&quot;);\n            String names=br.readLine();\n            System.out.println(names);\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14498670,"reputation":394,"user_id":10472512,"display_name":"megh_sat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1652686028,"creation_date":1652683046,"question_id":72254987,"body_markdown":"Trying to run my docker image using the below command:\r\n```\r\ndocker run -v c:/users/dmsss/downloads/green2/test_data:/src/java/data/ solution/me_javasolu java green.java data/test1.csv data/result.csv\r\n```\r\nI&#39;m getting the following error:\r\n```\r\nException in thread &quot;main&quot; Give paths to input and output files:\r\nnull\r\njava.lang.NullPointerException\r\n        at green.main(green.java:39)\r\n```\r\nMy green.main code snippet:\r\n```\r\n BufferedReader br=new BufferedReader(new InputStreamReader(System.in));\r\n System.out.println(&quot;Give paths to input and output files:&quot;);\r\n String names=br.readLine();\r\nSystem.out.println(names);\r\n```\r\nAs you can see in the place of &quot;names&quot; i&#39;m getting null, instead of &quot;data/test1.csv data/result.csv&quot;. \r\nI know that using: docker run -it, will give the desired outcome, but I want the inputs to be given in the same line as run\r\n```\r\ndocker run -it solution/me_javasolu\r\nGive paths to input and output files:\r\ntest_data/test3.csv test_data/result.csv\r\ntest_data/test3.csv test_data/result.csv\r\nProfit: $99\r\n```\r\nHope I get a solution to the problem, thanks in advance.","title":"NosuchElementException while giving input to a docker run -v command","body":"<p>Trying to run my docker image using the below command:</p>\n<pre><code>docker run -v c:/users/dmsss/downloads/green2/test_data:/src/java/data/ solution/me_javasolu java green.java data/test1.csv data/result.csv\n</code></pre>\n<p>I'm getting the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; Give paths to input and output files:\nnull\njava.lang.NullPointerException\n        at green.main(green.java:39)\n</code></pre>\n<p>My green.main code snippet:</p>\n<pre><code> BufferedReader br=new BufferedReader(new InputStreamReader(System.in));\n System.out.println(&quot;Give paths to input and output files:&quot;);\n String names=br.readLine();\nSystem.out.println(names);\n</code></pre>\n<p>As you can see in the place of &quot;names&quot; i'm getting null, instead of &quot;data/test1.csv data/result.csv&quot;.\nI know that using: docker run -it, will give the desired outcome, but I want the inputs to be given in the same line as run</p>\n<pre><code>docker run -it solution/me_javasolu\nGive paths to input and output files:\ntest_data/test3.csv test_data/result.csv\ntest_data/test3.csv test_data/result.csv\nProfit: $99\n</code></pre>\n<p>Hope I get a solution to the problem, thanks in advance.</p>\n"},{"tags":["java","spring","hibernate","jpa","java-8"],"comments":[{"owner":{"account_id":160350,"reputation":11421,"user_id":380338,"display_name":"Neil Stockton"},"score":1,"creation_date":1439919852,"post_id":32079084,"comment_id":52054569,"body_markdown":"&quot;its not working&quot;. Can&#39;t get clearer than that ... apart from what is happening, what error, what log, what Entity, etc","body":"&quot;its not working&quot;. Can&#39;t get clearer than that ... apart from what is happening, what error, what log, what Entity, etc"},{"owner":{"account_id":1778746,"reputation":10897,"user_id":1621981,"accept_rate":71,"display_name":"Paul Fournel"},"score":0,"creation_date":1439920184,"post_id":32079084,"comment_id":52054765,"body_markdown":"I will update the question with the error I have.","body":"I will update the question with the error I have."},{"owner":{"account_id":1393384,"reputation":6371,"user_id":1770601,"accept_rate":59,"display_name":"ha9u63a7"},"score":0,"creation_date":1439920295,"post_id":32079084,"comment_id":52054829,"body_markdown":"shouldn&#39;t you &quot;colon&quot;ise the `1` bit ?","body":"shouldn&#39;t you &quot;colon&quot;ise the <code>1</code> bit ?"},{"owner":{"account_id":160350,"reputation":11421,"user_id":380338,"display_name":"Neil Stockton"},"score":1,"creation_date":1439920672,"post_id":32079084,"comment_id":52055041,"body_markdown":"what is entity &quot;people&quot; ? Should have a capital &quot;P&quot; ?","body":"what is entity &quot;people&quot; ? Should have a capital &quot;P&quot; ?"},{"owner":{"account_id":2158921,"reputation":18762,"user_id":1913537,"accept_rate":73,"display_name":"Ori Dar"},"score":0,"creation_date":1439920905,"post_id":32079084,"comment_id":52055195,"body_markdown":"It&#39;s a native query. You should add `nativeQuery = true` as a parameter to `@Query`","body":"It&#39;s a native query. You should add <code>nativeQuery = true</code> as a parameter to <code>@Query</code>"},{"owner":{"account_id":2200862,"reputation":489,"user_id":1945298,"display_name":"Alex Vazquez Fente"},"score":0,"creation_date":1527516280,"post_id":32079084,"comment_id":88146251,"body_markdown":"@NeilStockton is right. Query annotation uses JPQL, not SQL.","body":"@NeilStockton is right. Query annotation uses JPQL, not SQL."}],"answers":[{"tags":[],"owner":{"account_id":1393384,"reputation":6371,"user_id":1770601,"accept_rate":59,"display_name":"ha9u63a7"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1439920707,"creation_date":1439920571,"answer_id":32079445,"question_id":32079084,"body_markdown":"Can you not use like this?\r\n\r\n    @Query(&quot;SELECT DISTINCT name FROM people p (nolock) WHERE p.name NOT IN (:myparam)&quot;)\r\n    List&lt;String&gt; findNonReferencedNames(@Param(&quot;myparam&quot;)List&lt;String&gt; names);\r\n\r\n\r\nP.S. I write queries in SQL Server 2012 a lot and using `nolock` in server is a good practice, you can ignore `nolock` if a local db is used.\r\n\r\nSeems like your db name is not being mapped correctly (after you&#39;ve updated your question)","title":"How to find distinct rows with field in list using JPA and Spring?","body":"<p>Can you not use like this?</p>\n\n<pre><code>@Query(\"SELECT DISTINCT name FROM people p (nolock) WHERE p.name NOT IN (:myparam)\")\nList&lt;String&gt; findNonReferencedNames(@Param(\"myparam\")List&lt;String&gt; names);\n</code></pre>\n\n<p>P.S. I write queries in SQL Server 2012 a lot and using <code>nolock</code> in server is a good practice, you can ignore <code>nolock</code> if a local db is used.</p>\n\n<p>Seems like your db name is not being mapped correctly (after you've updated your question)</p>\n"},{"tags":[],"owner":{"account_id":50874,"reputation":2522,"user_id":151845,"accept_rate":75,"display_name":"pioto"},"down_vote_count":1,"up_vote_count":30,"is_accepted":false,"score":29,"last_activity_date":1439922934,"creation_date":1439922934,"answer_id":32080194,"question_id":32079084,"body_markdown":"Have you tried rewording your query like this?\r\n\r\n    @Query(&quot;SELECT DISTINCT p.name FROM People p WHERE p.name NOT IN ?1&quot;)\r\n    List&lt;String&gt; findNonReferencedNames(List&lt;String&gt; names);\r\n\r\nNote, I&#39;m assuming your entity class is named `People`, and not `people`.","title":"How to find distinct rows with field in list using JPA and Spring?","body":"<p>Have you tried rewording your query like this?</p>\n\n<pre><code>@Query(\"SELECT DISTINCT p.name FROM People p WHERE p.name NOT IN ?1\")\nList&lt;String&gt; findNonReferencedNames(List&lt;String&gt; names);\n</code></pre>\n\n<p>Note, I'm assuming your entity class is named <code>People</code>, and not <code>people</code>.</p>\n"},{"tags":[],"owner":{"account_id":1778746,"reputation":10897,"user_id":1621981,"accept_rate":71,"display_name":"Paul Fournel"},"down_vote_count":2,"up_vote_count":96,"is_accepted":true,"score":94,"last_activity_date":1439997365,"creation_date":1439997365,"answer_id":32099527,"question_id":32079084,"body_markdown":"I finally was able to figure out a simple solution without the `@Query` annotation.\r\n\r\n    List&lt;People&gt; findDistinctByNameNotIn(List&lt;String&gt; names);\r\n\r\nOf course, I got the people object instead of only Strings. I can then do the change in java.","title":"How to find distinct rows with field in list using JPA and Spring?","body":"<p>I finally was able to figure out a simple solution without the <code>@Query</code> annotation.</p>\n\n<pre><code>List&lt;People&gt; findDistinctByNameNotIn(List&lt;String&gt; names);\n</code></pre>\n\n<p>Of course, I got the people object instead of only Strings. I can then do the change in java.</p>\n"},{"tags":[],"owner":{"account_id":6449089,"reputation":111,"user_id":4996651,"display_name":"aviv zvi"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1528803469,"creation_date":1528803063,"answer_id":50816085,"question_id":32079084,"body_markdown":"    @Query(&quot;SELECT DISTINCT name FROM people WHERE name NOT IN (:names)&quot;)\r\n    List&lt;String&gt; findNonReferencedNames(@Param(&quot;names&quot;) List&lt;String&gt; names);","title":"How to find distinct rows with field in list using JPA and Spring?","body":"<pre><code>@Query(\"SELECT DISTINCT name FROM people WHERE name NOT IN (:names)\")\nList&lt;String&gt; findNonReferencedNames(@Param(\"names\") List&lt;String&gt; names);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16538715,"reputation":141,"user_id":11949964,"display_name":"user11949964"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1566284695,"creation_date":1566282922,"answer_id":57567880,"question_id":32079084,"body_markdown":"    @Query(&quot;SELECT distinct new com.model.referential.Asset(firefCode,firefDescription) FROM AssetClass &quot;)\r\n    List&lt;AssetClass&gt; findDistinctAsset();\r\n\r\n","title":"How to find distinct rows with field in list using JPA and Spring?","body":"<pre><code>@Query(\"SELECT distinct new com.model.referential.Asset(firefCode,firefDescription) FROM AssetClass \")\nList&lt;AssetClass&gt; findDistinctAsset();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12695732,"reputation":3368,"user_id":9224219,"display_name":"Datz"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1652686013,"creation_date":1632944996,"answer_id":69382577,"question_id":32079084,"body_markdown":"I think this should work without using a native query:\r\n\r\n```\r\nList&lt;Name&gt; findDistinctByNameNotIn(List&lt;String&gt; names);\r\n\r\ninterface Name{\r\n    String getName();\r\n}\r\n```\r\nand to get the Strings use:\r\n```\r\npeopleRepository.findDistinctByNameNotIn().stream().filter(Objects::nonNu\r\nll).map(PeopleRepository.Name::getName).collect(Collectors.toList())\r\n```","title":"How to find distinct rows with field in list using JPA and Spring?","body":"<p>I think this should work without using a native query:</p>\n<pre><code>List&lt;Name&gt; findDistinctByNameNotIn(List&lt;String&gt; names);\n\ninterface Name{\n    String getName();\n}\n</code></pre>\n<p>and to get the Strings use:</p>\n<pre><code>peopleRepository.findDistinctByNameNotIn().stream().filter(Objects::nonNu\nll).map(PeopleRepository.Name::getName).collect(Collectors.toList())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17330117,"reputation":3251,"user_id":12553450,"display_name":"Mafei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643578730,"creation_date":1643578730,"answer_id":70919167,"question_id":32079084,"body_markdown":"you can create another bean for getting the data by creating variables for each column like below. \r\n```java\r\n@Getter\r\n@Setter\r\n@Builder\r\n@ToString\r\npublic static class NameOnlyBean {\r\n    //you have to follow camelCase here when creating variables.\r\n    private String name;\r\n}\r\n```\r\nand get a list of data by using created bean like this by using your JPA query.\r\n```java\r\nList&lt;NameOnlyBean&gt; yourJPAQuery(List&lt;String&gt; names);\r\n```","title":"How to find distinct rows with field in list using JPA and Spring?","body":"<p>you can create another bean for getting the data by creating variables for each column like below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@Builder\n@ToString\npublic static class NameOnlyBean {\n    //you have to follow camelCase here when creating variables.\n    private String name;\n}\n</code></pre>\n<p>and get a list of data by using created bean like this by using your JPA query.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;NameOnlyBean&gt; yourJPAQuery(List&lt;String&gt; names);\n</code></pre>\n"}],"owner":{"account_id":1778746,"reputation":10897,"user_id":1621981,"accept_rate":71,"display_name":"Paul Fournel"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":217020,"favorite_count":0,"down_vote_count":0,"up_vote_count":58,"accepted_answer_id":32099527,"answer_count":7,"score":58,"last_activity_date":1652686013,"creation_date":1439919391,"question_id":32079084,"body_markdown":"I am using Spring to connect to the db. I have an interface extending `CrudRepository&lt;People, Long&gt;` Here is the query I want execute on the db: `SELECT DISTINCT name FROM people WHERE name NOT IN UserInputSet`. I would prefer to do it without any sql annotation, so if it is possible without the `NOT` that&#39;s fine.\r\n\r\nIs there a way to do it? I looked at the spring doc, but I cannot find anything (http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.query-creation)\r\n\r\n------\r\n\r\nThis is what I tired but it is not working.\r\n\r\n    @Query(&quot;SELECT DISTINCT name FROM people WHERE name NOT IN (?1)&quot;)\r\n    List&lt;String&gt; findNonReferencedNames(List&lt;String&gt; names);\r\n\r\nthis is the exception I get:\r\n\r\n    Error creating bean with name &#39;peopleRepository&#39;: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List de.test.tasks.persistence.PeopleRepository.findNonReferencedNames(java.util.List)!\r\n\r\nand \r\n\r\n    Caused by: java.lang.IllegalArgumentException: org.hibernate.hql.internal.ast.QuerySyntaxException: people is not mapped [SELECT name FROM people WHERE name NOT IN (?1)]","title":"How to find distinct rows with field in list using JPA and Spring?","body":"<p>I am using Spring to connect to the db. I have an interface extending <code>CrudRepository&lt;People, Long&gt;</code> Here is the query I want execute on the db: <code>SELECT DISTINCT name FROM people WHERE name NOT IN UserInputSet</code>. I would prefer to do it without any sql annotation, so if it is possible without the <code>NOT</code> that's fine.</p>\n\n<p>Is there a way to do it? I looked at the spring doc, but I cannot find anything (<a href=\"http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.query-creation\" rel=\"noreferrer\">http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.query-creation</a>)</p>\n\n<hr>\n\n<p>This is what I tired but it is not working.</p>\n\n<pre><code>@Query(\"SELECT DISTINCT name FROM people WHERE name NOT IN (?1)\")\nList&lt;String&gt; findNonReferencedNames(List&lt;String&gt; names);\n</code></pre>\n\n<p>this is the exception I get:</p>\n\n<pre><code>Error creating bean with name 'peopleRepository': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List de.test.tasks.persistence.PeopleRepository.findNonReferencedNames(java.util.List)!\n</code></pre>\n\n<p>and </p>\n\n<pre><code>Caused by: java.lang.IllegalArgumentException: org.hibernate.hql.internal.ast.QuerySyntaxException: people is not mapped [SELECT name FROM people WHERE name NOT IN (?1)]\n</code></pre>\n"},{"tags":["java","spring-webflux","spring-cloud-gateway","spring-webclient","spring-mono"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1652455754,"post_id":72229341,"comment_id":127618328,"body_markdown":"Dont `subscribe` the calling client is the subscriber. `return Mono.zip( …, …).flatMap(v -&gt; { …. });` the only reason you should subscribe is if your server is the one initating a call and subscribing to someone elses api.","body":"Dont <code>subscribe</code> the calling client is the subscriber. <code>return Mono.zip( …, …).flatMap(v -&gt; { …. });</code> the only reason you should subscribe is if your server is the one initating a call and subscribing to someone elses api."},{"owner":{"account_id":25001750,"reputation":113,"user_id":18862100,"display_name":"Hristo Naydenov"},"score":0,"creation_date":1652685673,"post_id":72229341,"comment_id":127656642,"body_markdown":"Thank you, this resolved my issue! I will post an updated answer.","body":"Thank you, this resolved my issue! I will post an updated answer."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1652694479,"post_id":72229341,"comment_id":127659439,"body_markdown":"Next time i’d prefer to write the answer so i get cred for sharing my knowledge and not you taking cred for it.","body":"Next time i’d prefer to write the answer so i get cred for sharing my knowledge and not you taking cred for it."},{"owner":{"account_id":25001750,"reputation":113,"user_id":18862100,"display_name":"Hristo Naydenov"},"score":0,"creation_date":1652694604,"post_id":72229341,"comment_id":127659488,"body_markdown":"That is perfectly understandable, go ahead and post your answer and I&#39;ll flag it as the solution. I didn&#39;t ask because I noticed most people on here don&#39;t really care that much.","body":"That is perfectly understandable, go ahead and post your answer and I&#39;ll flag it as the solution. I didn&#39;t ask because I noticed most people on here don&#39;t really care that much."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1652698665,"post_id":72229341,"comment_id":127660815,"body_markdown":"`I didn&#39;t ask because I noticed most people on here don&#39;t really care that much.` that is highly your personal opinion and in no way a fact. Please dont assume things.","body":"<code>I didn&#39;t ask because I noticed most people on here don&#39;t really care that much.</code> that is highly your personal opinion and in no way a fact. Please dont assume things."},{"owner":{"account_id":25001750,"reputation":113,"user_id":18862100,"display_name":"Hristo Naydenov"},"score":0,"creation_date":1652702638,"post_id":72229341,"comment_id":127662115,"body_markdown":"When you are sure about your answer, why not post it as an answer instead of as a comment? Would make it easier to select it as the right answer.","body":"When you are sure about your answer, why not post it as an answer instead of as a comment? Would make it easier to select it as the right answer."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1652712827,"post_id":72229341,"comment_id":127666062,"body_markdown":"Because when i am not sure i post it as a comment, there could easy be more factors into why your code wasn&#39;t working. Posting an answer that is faulty is very frowned upon. Posting a comment that then turns out to be correct can then be later converted to an answer.","body":"Because when i am not sure i post it as a comment, there could easy be more factors into why your code wasn&#39;t working. Posting an answer that is faulty is very frowned upon. Posting a comment that then turns out to be correct can then be later converted to an answer."},{"owner":{"account_id":25001750,"reputation":113,"user_id":18862100,"display_name":"Hristo Naydenov"},"score":0,"creation_date":1652725467,"post_id":72229341,"comment_id":127670691,"body_markdown":"Ok that makes sense. I&#39;m very new to SO and not aware of all those specifics. Please transfer your comment to an answer and I&#39;d be happy to flag it as the answer, because it really helped me.","body":"Ok that makes sense. I&#39;m very new to SO and not aware of all those specifics. Please transfer your comment to an answer and I&#39;d be happy to flag it as the answer, because it really helped me."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1652729729,"post_id":72229341,"comment_id":127671944,"body_markdown":"its fine, now you know, have a nice day.","body":"its fine, now you know, have a nice day."}],"answers":[{"tags":[],"owner":{"account_id":25001750,"reputation":113,"user_id":18862100,"display_name":"Hristo Naydenov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652685789,"creation_date":1652685789,"answer_id":72255481,"question_id":72229341,"body_markdown":"Thanks to the advice of [Toerktumlare][1], I was able to make it work properly. Here&#39;s the entire filter for reference:\r\n```lang-java\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.cloud.gateway.filter.GatewayFilter;\r\nimport org.springframework.cloud.gateway.filter.factory.AbstractGatewayFilterFactory;\r\nimport org.springframework.cloud.gateway.filter.factory.rewrite.ModifyResponseBodyGatewayFilterFactory;\r\nimport org.springframework.core.ParameterizedTypeReference;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.web.reactive.function.client.WebClient;\r\nimport reactor.core.publisher.Mono;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\n@Component\r\npublic class CompositeApiCallFilter extends AbstractGatewayFilterFactory&lt;CompositeApiCallFilter.Config&gt; {\r\n    public static final String COMPOSITE_TEST_URL = &quot;http://localhost:9000/composite/test/&quot;;\r\n    private final ModifyResponseBodyGatewayFilterFactory modifyResponseBodyFilterFactory;\r\n    private final ParameterizedTypeReference&lt;Map&lt;String, Object&gt;&gt; json = new ParameterizedTypeReference&lt;&gt;() {\r\n    };\r\n\r\n    @Autowired\r\n    public CompositeApiCallFilter(ModifyResponseBodyGatewayFilterFactory factory) {\r\n        super(Config.class);\r\n        this.modifyResponseBodyFilterFactory = factory;\r\n    }\r\n\r\n    @Override\r\n    public GatewayFilter apply(final Config config) {\r\n        final ModifyResponseBodyGatewayFilterFactory.Config modifyResponseBodyFilterFactoryConfig = new ModifyResponseBodyGatewayFilterFactory.Config();\r\n        modifyResponseBodyFilterFactoryConfig.setRewriteFunction(Map.class, Map.class, (exchange, body) -&gt; {\r\n            WebClient client = WebClient.create();\r\n\r\n            Mono&lt;Map&lt;String, Object&gt;&gt; firstCallMono = client.get()\r\n                    .uri(COMPOSITE_TEST_URL + &quot;one&quot;)\r\n                    .retrieve()\r\n                    .bodyToMono(json);\r\n\r\n            Mono&lt;Map&lt;String, Object&gt;&gt; secondCallMono = client.get()\r\n                    .uri(COMPOSITE_TEST_URL + &quot;two&quot;)\r\n                    .retrieve()\r\n                    .bodyToMono(json);\r\n\r\n            Map&lt;String, Object&gt; output = new HashMap&lt;&gt;();\r\n\r\n            return Mono.zip(firstCallMono, secondCallMono)\r\n                    .flatMap(v -&gt; {\r\n                        output.put(&quot;1&quot;, v.getT1());\r\n                        output.put(&quot;2&quot;, v.getT2());\r\n                        return Mono.just(output);\r\n                    });\r\n        });\r\n\r\n        return modifyResponseBodyFilterFactory.apply(modifyResponseBodyFilterFactoryConfig);\r\n    }\r\n\r\n    public static class Config {\r\n    }\r\n}\r\n```\r\nAnd the respective output in Postman:\r\n```lang-json\r\n{\r\n    &quot;1&quot;: {\r\n        &quot;response-1-2&quot;: &quot;FIRST 2&quot;,\r\n        &quot;response-1-3&quot;: &quot;FIRST 3&quot;,\r\n        &quot;response-1-1&quot;: &quot;FIRST 1&quot;\r\n    },\r\n    &quot;2&quot;: {\r\n        &quot;response-2-3&quot;: &quot;SECOND 3&quot;,\r\n        &quot;response-2-1&quot;: &quot;SECOND 1&quot;,\r\n        &quot;response-2-2&quot;: &quot;SECOND 2&quot;\r\n    }\r\n}\r\n```\r\n\r\nSeems like subscribing wasn&#39;t necessary at all, just zipping the monos and extracting their values with `flatMap` worked well.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/1840146/toerktumlare","title":"Extract WebClient GET response values within a Spring Cloud Gateway filter","body":"<p>Thanks to the advice of <a href=\"https://stackoverflow.com/users/1840146/toerktumlare\">Toerktumlare</a>, I was able to make it work properly. Here's the entire filter for reference:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.cloud.gateway.filter.GatewayFilter;\nimport org.springframework.cloud.gateway.filter.factory.AbstractGatewayFilterFactory;\nimport org.springframework.cloud.gateway.filter.factory.rewrite.ModifyResponseBodyGatewayFilterFactory;\nimport org.springframework.core.ParameterizedTypeReference;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.reactive.function.client.WebClient;\nimport reactor.core.publisher.Mono;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\n@Component\npublic class CompositeApiCallFilter extends AbstractGatewayFilterFactory&lt;CompositeApiCallFilter.Config&gt; {\n    public static final String COMPOSITE_TEST_URL = &quot;http://localhost:9000/composite/test/&quot;;\n    private final ModifyResponseBodyGatewayFilterFactory modifyResponseBodyFilterFactory;\n    private final ParameterizedTypeReference&lt;Map&lt;String, Object&gt;&gt; json = new ParameterizedTypeReference&lt;&gt;() {\n    };\n\n    @Autowired\n    public CompositeApiCallFilter(ModifyResponseBodyGatewayFilterFactory factory) {\n        super(Config.class);\n        this.modifyResponseBodyFilterFactory = factory;\n    }\n\n    @Override\n    public GatewayFilter apply(final Config config) {\n        final ModifyResponseBodyGatewayFilterFactory.Config modifyResponseBodyFilterFactoryConfig = new ModifyResponseBodyGatewayFilterFactory.Config();\n        modifyResponseBodyFilterFactoryConfig.setRewriteFunction(Map.class, Map.class, (exchange, body) -&gt; {\n            WebClient client = WebClient.create();\n\n            Mono&lt;Map&lt;String, Object&gt;&gt; firstCallMono = client.get()\n                    .uri(COMPOSITE_TEST_URL + &quot;one&quot;)\n                    .retrieve()\n                    .bodyToMono(json);\n\n            Mono&lt;Map&lt;String, Object&gt;&gt; secondCallMono = client.get()\n                    .uri(COMPOSITE_TEST_URL + &quot;two&quot;)\n                    .retrieve()\n                    .bodyToMono(json);\n\n            Map&lt;String, Object&gt; output = new HashMap&lt;&gt;();\n\n            return Mono.zip(firstCallMono, secondCallMono)\n                    .flatMap(v -&gt; {\n                        output.put(&quot;1&quot;, v.getT1());\n                        output.put(&quot;2&quot;, v.getT2());\n                        return Mono.just(output);\n                    });\n        });\n\n        return modifyResponseBodyFilterFactory.apply(modifyResponseBodyFilterFactoryConfig);\n    }\n\n    public static class Config {\n    }\n}\n</code></pre>\n<p>And the respective output in Postman:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;1&quot;: {\n        &quot;response-1-2&quot;: &quot;FIRST 2&quot;,\n        &quot;response-1-3&quot;: &quot;FIRST 3&quot;,\n        &quot;response-1-1&quot;: &quot;FIRST 1&quot;\n    },\n    &quot;2&quot;: {\n        &quot;response-2-3&quot;: &quot;SECOND 3&quot;,\n        &quot;response-2-1&quot;: &quot;SECOND 1&quot;,\n        &quot;response-2-2&quot;: &quot;SECOND 2&quot;\n    }\n}\n</code></pre>\n<p>Seems like subscribing wasn't necessary at all, just zipping the monos and extracting their values with <code>flatMap</code> worked well.</p>\n"}],"owner":{"account_id":25001750,"reputation":113,"user_id":18862100,"display_name":"Hristo Naydenov"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2397,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72255481,"answer_count":1,"score":0,"last_activity_date":1652685789,"creation_date":1652443566,"question_id":72229341,"body_markdown":"My end goal with this is to implement a way to make composite API calls within the body of a gateway route filter. I have a very basic demo application running on port `9000` and exposing a few endpoints. Here is the REST controller:\r\n```lang-java\r\n@RestController\r\n@RequestMapping(&quot;/composite&quot;)\r\npublic class CompositeCallController {\r\n\r\n    @GetMapping(&quot;/test/one&quot;)\r\n    public Map&lt;String, Object&gt; first() {\r\n        Map&lt;String, Object&gt; output = new HashMap&lt;&gt;();\r\n        output.put(&quot;response-1-1&quot;, &quot;FIRST 1&quot;);\r\n        output.put(&quot;response-1-2&quot;, &quot;FIRST 2&quot;);\r\n        output.put(&quot;response-1-3&quot;, &quot;FIRST 3&quot;);\r\n        return output;\r\n    }\r\n\r\n    @GetMapping(&quot;/test/two&quot;)\r\n    public Map&lt;String, Object&gt; second() {\r\n        Map&lt;String, Object&gt; output = new HashMap&lt;&gt;();\r\n        output.put(&quot;response-2-1&quot;, &quot;SECOND 1&quot;);\r\n        output.put(&quot;response-2-2&quot;, &quot;SECOND 2&quot;);\r\n        output.put(&quot;response-2-3&quot;, &quot;SECOND 3&quot;);\r\n        return output;\r\n    }\r\n\r\n    @GetMapping\r\n    public Map&lt;String, Object&gt; init() {\r\n        return new HashMap&lt;&gt;();\r\n    }\r\n}\r\n```\r\nBoth controllers return just a plain Map with a few entries inside. I have a Spring Cloud Gateway application running on a separate port, and I have configured via YML a route that leads to the `localhost:9000/composite` endpoint, which returns a blank map. Then I have a `ModifyResponseBodyGatewayFilterFactory` filter that kicks in and creates two brand new requests towards the two other endpoints in my demo application.\r\n\r\nI want to aggregate those two responses into one by transferring them into a new map that I return to the filter chain. Here&#39;s how my filter looks:\r\n```lang-java\r\n    public GatewayFilter apply(final Config config) {\r\n        final ModifyResponseBodyGatewayFilterFactory.Config modifyResponseBodyFilterFactoryConfig = new ModifyResponseBodyGatewayFilterFactory.Config();\r\n        modifyResponseBodyFilterFactoryConfig.setRewriteFunction(Map.class, Map.class, (exchange, body) -&gt; {\r\n            WebClient client = WebClient.create();\r\n\r\n            Mono&lt;Map&lt;String, Object&gt;&gt; firstCallMono = client.get()\r\n                    .uri(FIRST_SERVICE_URL)\r\n                    .retrieve()\r\n                    .bodyToMono(json);\r\n\r\n            Mono&lt;Map&lt;String, Object&gt;&gt; secondCallMono = client.get()\r\n                    .uri(SECOND_SERVICE_URL)\r\n                    .retrieve()\r\n                    .bodyToMono(json);\r\n\r\n            Map&lt;String, Object&gt; output = new HashMap&lt;&gt;();\r\n            Mono.zip(firstCallMono, secondCallMono)\r\n                    .log()\r\n                    .subscribe(v -&gt; {\r\n                        System.out.println(&quot;FIRST VALUE = &quot; + v.getT1());\r\n                        System.out.println(&quot;SECOND VALUE = &quot; + v.getT2());\r\n                        output.put(&quot;1&quot;, v.getT1());\r\n                        output.put(&quot;2&quot;, v.getT2());\r\n                    });\r\n\r\n            System.out.println(&quot;OUTPUT VALUE 1 = &quot; + output.get(&quot;1&quot;));\r\n            System.out.println(&quot;OUTPUT VALUE 2 = &quot; + output.get(&quot;2&quot;));\r\n\r\n            return Mono.just(output);\r\n        });\r\n        return modifyResponseBodyFilterFactory.apply(modifyResponseBodyFilterFactoryConfig);\r\n    }\r\n```\r\nThe `json` type is defined as `private final ParameterizedTypeReference&lt;Map&lt;String, Object&gt;&gt; json = new ParameterizedTypeReference&lt;&gt;() {};`\r\n\r\nThe URIs are as follows:\r\n```lang-java\r\npublic static final String FIRST_SERVICE_URL = &quot;http://localhost:9000/composite/test/one&quot;;\r\npublic static final String SECOND_SERVICE_URL = &quot;http://localhost:9000/composite/test/two&quot;;\r\n```\r\nAnd here&#39;s my gateway config for reference:\r\n```lang-yml\r\nlogging:\r\n  level:\r\n    reactor:\r\n      netty: INFO\r\n    org:\r\n      springframework:\r\n        cloud:\r\n          gateway: TRACE\r\n\r\nspring:\r\n  codec:\r\n    max-in-memory-size: 20MB\r\n  cloud:\r\n    gateway:\r\n      httpclient:\r\n        wiretap: true\r\n      httpserver:\r\n        wiretap: true\r\n      routes:\r\n        - id: composite-call-test\r\n          uri: http://localhost:9000\r\n          predicates:\r\n            - Path=/composite/**\r\n          filters:\r\n            - CompositeApiCallFilter\r\n```\r\nTo merge the Monos, I use `Mono.zip()` as it seems to serve just that goal. I&#39;ve purposefully put two `System.out.println()`s within the `zip()` body to make sure the responses from the above two WebClient requests are actually correct, and it definitely seems so:\r\n```lang-none\r\nFIRST VALUE = {response-1-2=FIRST 2, response-1-3=FIRST 3, response-1-1=FIRST 1}\r\nSECOND VALUE = {response-2-3=SECOND 3, response-2-1=SECOND 1, response-2-2=SECOND 2}\r\n```\r\nHowever, I&#39;ve also put two console prints after the `zip()` to check if something is populated in the map, and it&#39;s completely empty for some reason:\r\n```lang-none\r\nOUTPUT VALUE 1 = null\r\nOUTPUT VALUE 2 = null\r\n```\r\n\r\nHere&#39;s the full console output from the request for reference:\r\n```lang-none\r\n2022-05-13 14:53:22.087  INFO 72992 --- [ctor-http-nio-3] reactor.Mono.Zip.1                       : onSubscribe([Fuseable] MonoZip.ZipCoordinator)\r\n2022-05-13 14:53:22.090  INFO 72992 --- [ctor-http-nio-3] reactor.Mono.Zip.1                       : request(unbounded)\r\nOUTPUT VALUE 1 = null\r\nOUTPUT VALUE 2 = null\r\n2022-05-13 14:53:22.139  INFO 72992 --- [ctor-http-nio-3] reactor.Mono.Zip.1                       : onNext([{response-1-2=FIRST 2, response-1-3=FIRST 3, response-1-1=FIRST 1},{response-2-3=SECOND 3, response-2-1=SECOND 1, response-2-2=SECOND 2}])\r\nFIRST VALUE = {response-1-2=FIRST 2, response-1-3=FIRST 3, response-1-1=FIRST 1}\r\nSECOND VALUE = {response-2-3=SECOND 3, response-2-1=SECOND 1, response-2-2=SECOND 2}\r\n2022-05-13 14:53:22.140  INFO 72992 --- [ctor-http-nio-3] reactor.Mono.Zip.1                       : onComplete()\r\n```\r\n\r\nI tried a bunch of other ways of doing the above, for example merging the two `Mono`s into a `Flux` by using `firstCallMono.mergeWith(secondCallMono)` and then subscribing to the resulting `Flux` object and populating the map, but the result is identical. \r\n\r\nI also tried putting the two `Mono`s into a `Pair` object and extracting the values like so:\r\n```lang-java\r\nPair&lt;Mono&lt;Map&lt;String, Object&gt;&gt;, Mono&lt;Map&lt;String, Object&gt;&gt;&gt; pair = new Pair(firstCall, secondCallDTOMono);\r\npair.getValue0().log().subscribe(v -&gt; output.put(&quot;1&quot;, v));\r\npair.getValue1().log().subscribe(v -&gt; output.put(&quot;2&quot;, v));\r\n```\r\n\r\nBut again, the `output` map is empty at the end, and I don&#39;t understand why. It seems like whatever comes back from the WebClient `.get()` call is of type `MonoFlapMap.FlatMapMain` and I suspect the issue comes from unpacking the values from this type into my regular HashMap, but I don&#39;t know how to resolve that issue. I tried using `.map()` and `.flatMap()` but neither worked.\r\n\r\nCould someone please let me know how to extract those values?","title":"Extract WebClient GET response values within a Spring Cloud Gateway filter","body":"<p>My end goal with this is to implement a way to make composite API calls within the body of a gateway route filter. I have a very basic demo application running on port <code>9000</code> and exposing a few endpoints. Here is the REST controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/composite&quot;)\npublic class CompositeCallController {\n\n    @GetMapping(&quot;/test/one&quot;)\n    public Map&lt;String, Object&gt; first() {\n        Map&lt;String, Object&gt; output = new HashMap&lt;&gt;();\n        output.put(&quot;response-1-1&quot;, &quot;FIRST 1&quot;);\n        output.put(&quot;response-1-2&quot;, &quot;FIRST 2&quot;);\n        output.put(&quot;response-1-3&quot;, &quot;FIRST 3&quot;);\n        return output;\n    }\n\n    @GetMapping(&quot;/test/two&quot;)\n    public Map&lt;String, Object&gt; second() {\n        Map&lt;String, Object&gt; output = new HashMap&lt;&gt;();\n        output.put(&quot;response-2-1&quot;, &quot;SECOND 1&quot;);\n        output.put(&quot;response-2-2&quot;, &quot;SECOND 2&quot;);\n        output.put(&quot;response-2-3&quot;, &quot;SECOND 3&quot;);\n        return output;\n    }\n\n    @GetMapping\n    public Map&lt;String, Object&gt; init() {\n        return new HashMap&lt;&gt;();\n    }\n}\n</code></pre>\n<p>Both controllers return just a plain Map with a few entries inside. I have a Spring Cloud Gateway application running on a separate port, and I have configured via YML a route that leads to the <code>localhost:9000/composite</code> endpoint, which returns a blank map. Then I have a <code>ModifyResponseBodyGatewayFilterFactory</code> filter that kicks in and creates two brand new requests towards the two other endpoints in my demo application.</p>\n<p>I want to aggregate those two responses into one by transferring them into a new map that I return to the filter chain. Here's how my filter looks:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public GatewayFilter apply(final Config config) {\n        final ModifyResponseBodyGatewayFilterFactory.Config modifyResponseBodyFilterFactoryConfig = new ModifyResponseBodyGatewayFilterFactory.Config();\n        modifyResponseBodyFilterFactoryConfig.setRewriteFunction(Map.class, Map.class, (exchange, body) -&gt; {\n            WebClient client = WebClient.create();\n\n            Mono&lt;Map&lt;String, Object&gt;&gt; firstCallMono = client.get()\n                    .uri(FIRST_SERVICE_URL)\n                    .retrieve()\n                    .bodyToMono(json);\n\n            Mono&lt;Map&lt;String, Object&gt;&gt; secondCallMono = client.get()\n                    .uri(SECOND_SERVICE_URL)\n                    .retrieve()\n                    .bodyToMono(json);\n\n            Map&lt;String, Object&gt; output = new HashMap&lt;&gt;();\n            Mono.zip(firstCallMono, secondCallMono)\n                    .log()\n                    .subscribe(v -&gt; {\n                        System.out.println(&quot;FIRST VALUE = &quot; + v.getT1());\n                        System.out.println(&quot;SECOND VALUE = &quot; + v.getT2());\n                        output.put(&quot;1&quot;, v.getT1());\n                        output.put(&quot;2&quot;, v.getT2());\n                    });\n\n            System.out.println(&quot;OUTPUT VALUE 1 = &quot; + output.get(&quot;1&quot;));\n            System.out.println(&quot;OUTPUT VALUE 2 = &quot; + output.get(&quot;2&quot;));\n\n            return Mono.just(output);\n        });\n        return modifyResponseBodyFilterFactory.apply(modifyResponseBodyFilterFactoryConfig);\n    }\n</code></pre>\n<p>The <code>json</code> type is defined as <code>private final ParameterizedTypeReference&lt;Map&lt;String, Object&gt;&gt; json = new ParameterizedTypeReference&lt;&gt;() {};</code></p>\n<p>The URIs are as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static final String FIRST_SERVICE_URL = &quot;http://localhost:9000/composite/test/one&quot;;\npublic static final String SECOND_SERVICE_URL = &quot;http://localhost:9000/composite/test/two&quot;;\n</code></pre>\n<p>And here's my gateway config for reference:</p>\n<pre class=\"lang-yml prettyprint-override\"><code>logging:\n  level:\n    reactor:\n      netty: INFO\n    org:\n      springframework:\n        cloud:\n          gateway: TRACE\n\nspring:\n  codec:\n    max-in-memory-size: 20MB\n  cloud:\n    gateway:\n      httpclient:\n        wiretap: true\n      httpserver:\n        wiretap: true\n      routes:\n        - id: composite-call-test\n          uri: http://localhost:9000\n          predicates:\n            - Path=/composite/**\n          filters:\n            - CompositeApiCallFilter\n</code></pre>\n<p>To merge the Monos, I use <code>Mono.zip()</code> as it seems to serve just that goal. I've purposefully put two <code>System.out.println()</code>s within the <code>zip()</code> body to make sure the responses from the above two WebClient requests are actually correct, and it definitely seems so:</p>\n<pre class=\"lang-none prettyprint-override\"><code>FIRST VALUE = {response-1-2=FIRST 2, response-1-3=FIRST 3, response-1-1=FIRST 1}\nSECOND VALUE = {response-2-3=SECOND 3, response-2-1=SECOND 1, response-2-2=SECOND 2}\n</code></pre>\n<p>However, I've also put two console prints after the <code>zip()</code> to check if something is populated in the map, and it's completely empty for some reason:</p>\n<pre class=\"lang-none prettyprint-override\"><code>OUTPUT VALUE 1 = null\nOUTPUT VALUE 2 = null\n</code></pre>\n<p>Here's the full console output from the request for reference:</p>\n<pre class=\"lang-none prettyprint-override\"><code>2022-05-13 14:53:22.087  INFO 72992 --- [ctor-http-nio-3] reactor.Mono.Zip.1                       : onSubscribe([Fuseable] MonoZip.ZipCoordinator)\n2022-05-13 14:53:22.090  INFO 72992 --- [ctor-http-nio-3] reactor.Mono.Zip.1                       : request(unbounded)\nOUTPUT VALUE 1 = null\nOUTPUT VALUE 2 = null\n2022-05-13 14:53:22.139  INFO 72992 --- [ctor-http-nio-3] reactor.Mono.Zip.1                       : onNext([{response-1-2=FIRST 2, response-1-3=FIRST 3, response-1-1=FIRST 1},{response-2-3=SECOND 3, response-2-1=SECOND 1, response-2-2=SECOND 2}])\nFIRST VALUE = {response-1-2=FIRST 2, response-1-3=FIRST 3, response-1-1=FIRST 1}\nSECOND VALUE = {response-2-3=SECOND 3, response-2-1=SECOND 1, response-2-2=SECOND 2}\n2022-05-13 14:53:22.140  INFO 72992 --- [ctor-http-nio-3] reactor.Mono.Zip.1                       : onComplete()\n</code></pre>\n<p>I tried a bunch of other ways of doing the above, for example merging the two <code>Mono</code>s into a <code>Flux</code> by using <code>firstCallMono.mergeWith(secondCallMono)</code> and then subscribing to the resulting <code>Flux</code> object and populating the map, but the result is identical.</p>\n<p>I also tried putting the two <code>Mono</code>s into a <code>Pair</code> object and extracting the values like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Pair&lt;Mono&lt;Map&lt;String, Object&gt;&gt;, Mono&lt;Map&lt;String, Object&gt;&gt;&gt; pair = new Pair(firstCall, secondCallDTOMono);\npair.getValue0().log().subscribe(v -&gt; output.put(&quot;1&quot;, v));\npair.getValue1().log().subscribe(v -&gt; output.put(&quot;2&quot;, v));\n</code></pre>\n<p>But again, the <code>output</code> map is empty at the end, and I don't understand why. It seems like whatever comes back from the WebClient <code>.get()</code> call is of type <code>MonoFlapMap.FlatMapMain</code> and I suspect the issue comes from unpacking the values from this type into my regular HashMap, but I don't know how to resolve that issue. I tried using <code>.map()</code> and <code>.flatMap()</code> but neither worked.</p>\n<p>Could someone please let me know how to extract those values?</p>\n"},{"tags":["java","file"],"comments":[{"owner":{"account_id":2399479,"reputation":6729,"user_id":2097529,"accept_rate":76,"display_name":"Kick Buttowski"},"score":0,"creation_date":1422330836,"post_id":28162919,"comment_id":44696897,"body_markdown":"Could you be kind and post your expected result and what you get so we can understand your question better? it seems very nuclear what is troubling you","body":"Could you be kind and post your expected result and what you get so we can understand your question better? it seems very nuclear what is troubling you"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1422331426,"post_id":28162919,"comment_id":44697057,"body_markdown":"Checking `File.exists()` and calling `File.createNewFile()` before `new FileOutputStream(...)` is wasteful. Calling it *afterwards* is merely pointless. The file cannot possibly *not* exist at the point you are checking it. Otherwise an exception would have been thrown and you wouldn&#39;t have reached the checking/creating code. `new FileOutputStream(...)` *already does* all this. Don&#39;t write pointess code. And why is a parameter that only holds a single byte called `bytes`?","body":"Checking <code>File.exists()</code> and calling <code>File.createNewFile()</code> before <code>new FileOutputStream(...)</code> is wasteful. Calling it <i>afterwards</i> is merely pointless. The file cannot possibly <i>not</i> exist at the point you are checking it. Otherwise an exception would have been thrown and you wouldn&#39;t have reached the checking/creating code. <code>new FileOutputStream(...)</code> <i>already does</i> all this. Don&#39;t write pointess code. And why is a parameter that only holds a single byte called <code>bytes</code>?"},{"owner":{"account_id":2166923,"reputation":21,"user_id":1919855,"display_name":"user1919855"},"score":0,"creation_date":1422334743,"post_id":28162919,"comment_id":44697933,"body_markdown":"my input data looks like 8d bb a1 8d bb a5 ........... I am receiving this data via serial port. In the file that I am tyring to write c:/dar.txt. It looks like  a5 nothing else.","body":"my input data looks like 8d bb a1 8d bb a5 ........... I am receiving this data via serial port. In the file that I am tyring to write c:/dar.txt. It looks like  a5 nothing else."}],"answers":[{"tags":[],"owner":{"account_id":3203503,"reputation":1025,"user_id":2705084,"display_name":"camerondm9"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1422331068,"creation_date":1422331068,"answer_id":28162992,"question_id":28162919,"body_markdown":"As [stated previously][1], FileOutputStream has multiple constructors. Use the constructor that takes both a `File` and a `boolean`, and set the boolean to `true`.\r\n\r\n`FileOutputStream(File file, boolean append)`\r\n\r\nThis will cause it to append to the file, rather than overwriting...\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/8544771/how-to-write-data-with-fileoutputstream-without-losing-old-data","title":"Writing to the file","body":"<p>As <a href=\"https://stackoverflow.com/questions/8544771/how-to-write-data-with-fileoutputstream-without-losing-old-data\">stated previously</a>, FileOutputStream has multiple constructors. Use the constructor that takes both a <code>File</code> and a <code>boolean</code>, and set the boolean to <code>true</code>.</p>\n\n<p><code>FileOutputStream(File file, boolean append)</code></p>\n\n<p>This will cause it to append to the file, rather than overwriting...</p>\n"}],"owner":{"account_id":2166923,"reputation":21,"user_id":1919855,"display_name":"user1919855"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1652685548,"answer_count":1,"score":0,"last_activity_date":1652685575,"creation_date":1422330622,"question_id":28162919,"body_markdown":"I am receiving data from the serial port and I want to write the data to a file. The problem is that the program is overwriting the data at the same place in the file. For example it writes 0xAA and then 0xBD at the same place and when I open the file to read it in text edit then I find only one number in the file. How can I write the numbers one after another? jess\r\n\r\n\r\n    public class Loading {\r\n        \r\n        public static void writeFile(String fileName,int bytes) {\r\n            \r\n        \tFileOutputStream fo = null;\r\n            File file;\r\n            \r\n            \r\n            try {\r\n            \r\n            \tfile = new File(&quot;C:/dar.txt&quot;);\r\n            \t\r\n            \t\r\n            \tfo = new FileOutputStream(file);\r\n            \t\r\n            \tif (!file.exists())\r\n            \t{ \r\n            \t\tfile.createNewFile();\r\n            \t}\r\n         \t\r\n            \t//StringUtils.getHexString((byte) bytes);\r\n               fo.write((byte) bytes);\r\n         \r\n                System.out.println(getHexString (bytes));\r\n            }\r\n            \r\n            catch (Exception e) {\r\n                System.out.println(&quot;writeFile exception: &quot; + e.getClass().getName()             + &quot; &quot; + e.getMessage());\r\n            }   \r\n            finally {\r\n                if (fo != null) {try {fo.close();} catch (Exception ex) {}}\r\n            }\r\n        } ","title":"Writing to the file","body":"<p>I am receiving data from the serial port and I want to write the data to a file. The problem is that the program is overwriting the data at the same place in the file. For example it writes 0xAA and then 0xBD at the same place and when I open the file to read it in text edit then I find only one number in the file. How can I write the numbers one after another? jess</p>\n\n<pre><code>public class Loading {\n\n    public static void writeFile(String fileName,int bytes) {\n\n        FileOutputStream fo = null;\n        File file;\n\n\n        try {\n\n            file = new File(\"C:/dar.txt\");\n\n\n            fo = new FileOutputStream(file);\n\n            if (!file.exists())\n            { \n                file.createNewFile();\n            }\n\n            //StringUtils.getHexString((byte) bytes);\n           fo.write((byte) bytes);\n\n            System.out.println(getHexString (bytes));\n        }\n\n        catch (Exception e) {\n            System.out.println(\"writeFile exception: \" + e.getClass().getName()             + \" \" + e.getMessage());\n        }   \n        finally {\n            if (fo != null) {try {fo.close();} catch (Exception ex) {}}\n        }\n    } \n</code></pre>\n"},{"tags":["java","locks","blockingqueue","reentrantlock"],"comments":[{"owner":{"account_id":1174195,"reputation":7926,"user_id":1150606,"accept_rate":20,"display_name":"farmer1992"},"score":1,"creation_date":1358584477,"post_id":14412411,"comment_id":20057155,"body_markdown":"I think the best way is reading jdk source. do you code really work ? i see many newCondition() and then await. the ptr of condition is not saved, thus, no way to awake them.","body":"I think the best way is reading jdk source. do you code really work ? i see many newCondition() and then await. the ptr of condition is not saved, thus, no way to awake them."},{"owner":{"account_id":1113318,"reputation":83,"user_id":1103310,"display_name":"Hir"},"score":0,"creation_date":1358584790,"post_id":14412411,"comment_id":20057219,"body_markdown":"I see your point. Sure I need to save the condition first and then call await() and signal() on it.","body":"I see your point. Sure I need to save the condition first and then call await() and signal() on it."},{"owner":{"account_id":1903805,"reputation":41397,"user_id":1719067,"accept_rate":73,"display_name":"Narendra Pathai"},"score":0,"creation_date":1358585187,"post_id":14412411,"comment_id":20057298,"body_markdown":"you should first check whether code works correctly according to the promise. Check all concurrent flows. And then if you find it is not performing you can change the code.","body":"you should first check whether code works correctly according to the promise. Check all concurrent flows. And then if you find it is not performing you can change the code."},{"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"score":1,"creation_date":1358587489,"post_id":14412411,"comment_id":20057707,"body_markdown":"You question, as it stands, is more suitable for http://codereview.stackexchange.com/","body":"You question, as it stands, is more suitable for <a href=\"http://codereview.stackexchange.com/\">codereview.stackexchange.com</a>"},{"owner":{"account_id":1244574,"reputation":13277,"user_id":1206301,"accept_rate":10,"display_name":"Alexei Kaigorodov"},"score":0,"creation_date":1358587532,"post_id":14412411,"comment_id":20057713,"body_markdown":"`put` and `take` use different locks and condition. As a result, they cannot interact. Meanawile, they should.","body":"<code>put</code> and <code>take</code> use different locks and condition. As a result, they cannot interact. Meanawile, they should."}],"answers":[{"tags":[],"owner":{"account_id":1923293,"reputation":10359,"user_id":1734279,"accept_rate":75,"display_name":"rai.skumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1358588240,"creation_date":1358588240,"answer_id":14412995,"question_id":14412411,"body_markdown":"You can compare your logic with open jdk implementation of Blocking queue.\r\n \r\n[ArrayBlockingQueue][1]\r\n\r\n\r\n  [1]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/7-b147/java/util/concurrent/ArrayBlockingQueue.java#ArrayBlockingQueue\r\n\r\nBtw..ArrayBlockingQueue also uses **ReentrantLock**","title":"BlockingQueue Implemetation using ReentrantLock","body":"<p>You can compare your logic with open jdk implementation of Blocking queue.</p>\n\n<p><a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/7-b147/java/util/concurrent/ArrayBlockingQueue.java#ArrayBlockingQueue\" rel=\"nofollow\">ArrayBlockingQueue</a></p>\n\n<p>Btw..ArrayBlockingQueue also uses <strong>ReentrantLock</strong></p>\n"},{"tags":[],"owner":{"account_id":12112784,"reputation":813,"user_id":9334721,"display_name":"Nishant Ingle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652685567,"creation_date":1652685567,"answer_id":72255438,"question_id":14412411,"body_markdown":"Here is the sample implementation of a Blocking Queue using producer-consumer problem analogy.\r\n\r\n```\r\nimport java.util.*;\r\nimport java.util.concurrent.*;\r\nimport java.util.concurrent.locks.*;\r\n\r\npublic class MyBlockingQueue {\r\n    Queue&lt;Integer&gt; myBlockingQueue = new LinkedList&lt;&gt;();\r\n    ReentrantLock lock = new ReentrantLock();\r\n    Condition added = lock.newCondition();\r\n    Condition removed = lock.newCondition();\r\n    private static final int INITIAL_COUNT = 0;\r\n    private static final int MAX_COUNT = 5;\r\n    int count = INITIAL_COUNT;\r\n    public int produce(int num) throws InterruptedException {\r\n        lock.lock();\r\n        try {\r\n           while (count == MAX_COUNT) {\r\n               System.out.println(&quot;produce: await adding, count is max&quot;);\r\n               added.await();\r\n           }\r\n           addData(num);\r\n           added.signal();\r\n        } finally {\r\n            lock.unlock();\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    private void addData(int num) {\r\n        try {\r\n            Thread.sleep(500);\r\n        } catch (InterruptedException e) {\r\n        }\r\n        System.out.println(&quot;added data ! &quot; + myBlockingQueue.offer(num));\r\n        count += 1;\r\n    }\r\n\r\n    private void removeData() {\r\n        System.out.println(&quot;removed data ! &quot; + myBlockingQueue.poll());\r\n        count -= 1;\r\n    }\r\n\r\n    public int consume() throws InterruptedException {\r\n        lock.lock();\r\n        try {\r\n            while (count == 0) {\r\n                System.out.println(&quot;consume: await removing, count is 0&quot;);\r\n                removed.await();\r\n            }\r\n            removeData();\r\n            removed.signal();\r\n        } finally {\r\n            lock.unlock();\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        final MyBlockingQueue instance = new MyBlockingQueue();\r\n        List&lt;Callable&lt;Integer&gt;&gt; callableList = new ArrayList&lt;&gt;();\r\n        int n = 10;\r\n        for (int i = 0; i &lt; n; i += 1) {\r\n            if (i % 2 == 0) {\r\n                callableList.add(() -&gt; instance.produce(new Random().nextInt(n * n)));\r\n            } else {\r\n                callableList.add(() -&gt; instance.consume());\r\n            }\r\n        }\r\n        ExecutorService executorService = Executors.newFixedThreadPool(4);\r\n        List&lt;Future&lt;Integer&gt;&gt; futures = executorService.invokeAll(callableList);\r\n        System.out.println(instance.count);\r\n        System.out.println(instance.myBlockingQueue);\r\n        executorService.shutdown();\r\n        executorService.awaitTermination(2, TimeUnit.SECONDS);\r\n    }\r\n}\r\n```","title":"BlockingQueue Implemetation using ReentrantLock","body":"<p>Here is the sample implementation of a Blocking Queue using producer-consumer problem analogy.</p>\n<pre><code>import java.util.*;\nimport java.util.concurrent.*;\nimport java.util.concurrent.locks.*;\n\npublic class MyBlockingQueue {\n    Queue&lt;Integer&gt; myBlockingQueue = new LinkedList&lt;&gt;();\n    ReentrantLock lock = new ReentrantLock();\n    Condition added = lock.newCondition();\n    Condition removed = lock.newCondition();\n    private static final int INITIAL_COUNT = 0;\n    private static final int MAX_COUNT = 5;\n    int count = INITIAL_COUNT;\n    public int produce(int num) throws InterruptedException {\n        lock.lock();\n        try {\n           while (count == MAX_COUNT) {\n               System.out.println(&quot;produce: await adding, count is max&quot;);\n               added.await();\n           }\n           addData(num);\n           added.signal();\n        } finally {\n            lock.unlock();\n        }\n        return 0;\n    }\n\n    private void addData(int num) {\n        try {\n            Thread.sleep(500);\n        } catch (InterruptedException e) {\n        }\n        System.out.println(&quot;added data ! &quot; + myBlockingQueue.offer(num));\n        count += 1;\n    }\n\n    private void removeData() {\n        System.out.println(&quot;removed data ! &quot; + myBlockingQueue.poll());\n        count -= 1;\n    }\n\n    public int consume() throws InterruptedException {\n        lock.lock();\n        try {\n            while (count == 0) {\n                System.out.println(&quot;consume: await removing, count is 0&quot;);\n                removed.await();\n            }\n            removeData();\n            removed.signal();\n        } finally {\n            lock.unlock();\n        }\n        return 0;\n    }\n\n    public static void main(String[] args) throws InterruptedException {\n        final MyBlockingQueue instance = new MyBlockingQueue();\n        List&lt;Callable&lt;Integer&gt;&gt; callableList = new ArrayList&lt;&gt;();\n        int n = 10;\n        for (int i = 0; i &lt; n; i += 1) {\n            if (i % 2 == 0) {\n                callableList.add(() -&gt; instance.produce(new Random().nextInt(n * n)));\n            } else {\n                callableList.add(() -&gt; instance.consume());\n            }\n        }\n        ExecutorService executorService = Executors.newFixedThreadPool(4);\n        List&lt;Future&lt;Integer&gt;&gt; futures = executorService.invokeAll(callableList);\n        System.out.println(instance.count);\n        System.out.println(instance.myBlockingQueue);\n        executorService.shutdown();\n        executorService.awaitTermination(2, TimeUnit.SECONDS);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1113318,"reputation":83,"user_id":1103310,"display_name":"Hir"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3079,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":14412995,"answer_count":2,"score":3,"last_activity_date":1652685567,"creation_date":1358582968,"question_id":14412411,"body_markdown":"I was writing my own implementation of BlockingQueue for practice. I am trying to avoid using the synchronized keyword for the methods. I would instead like to use ReentrantLock.\r\n\r\nWhat is the best way to write this implementation?  I am not a Java ninja and would greatly appreciate if someone could pinpoint the errors in my code here and suggest better ways of implementing it.\r\n\r\n    public class MyBlockingQueue&lt;T&gt; {\r\n    \r\n    private Queue&lt;T&gt; queue;\r\n    private AtomicInteger limit = new AtomicInteger(10);\r\n    private Lock put_lock = new ReentrantLock();\r\n    private Lock take_lock = new ReentrantLock();\r\n    private Condition put_condition = put_lock.newCondition();\r\n    private Condition take_condition = take_lock.newCondition();\r\n    \r\n    public MyBlockingQueue(AtomicInteger limit){\r\n        queue = new LinkedList&lt;T&gt;();\r\n        this.limit = limit;\r\n    }\r\n    \r\n    public boolean put(T item) throws InterruptedException{\r\n        put_lock.lockInterruptibly();\r\n        try {\r\n            while(queue.size() == limit.get()) {\r\n                put_condition.await();\r\n            }\r\n            put_condition.signal();\r\n            queue.add(item);\r\n        } finally{\r\n            put_lock.unlock();\r\n        }\r\n        \r\n        return true;\r\n    }\r\n    \r\n    public T take() throws InterruptedException{\r\n        take_lock.lockInterruptibly();\r\n        try {\r\n            while (queue.size() == 0) {\r\n                take_condition.await();\r\n            }\r\n            take_condition.signal();\r\n            return queue.poll();\r\n        } finally {\r\n            take_lock.unlock();\r\n        }\r\n    }\r\n\r\nThanks for your time!","title":"BlockingQueue Implemetation using ReentrantLock","body":"<p>I was writing my own implementation of BlockingQueue for practice. I am trying to avoid using the synchronized keyword for the methods. I would instead like to use ReentrantLock.</p>\n\n<p>What is the best way to write this implementation?  I am not a Java ninja and would greatly appreciate if someone could pinpoint the errors in my code here and suggest better ways of implementing it.</p>\n\n<pre><code>public class MyBlockingQueue&lt;T&gt; {\n\nprivate Queue&lt;T&gt; queue;\nprivate AtomicInteger limit = new AtomicInteger(10);\nprivate Lock put_lock = new ReentrantLock();\nprivate Lock take_lock = new ReentrantLock();\nprivate Condition put_condition = put_lock.newCondition();\nprivate Condition take_condition = take_lock.newCondition();\n\npublic MyBlockingQueue(AtomicInteger limit){\n    queue = new LinkedList&lt;T&gt;();\n    this.limit = limit;\n}\n\npublic boolean put(T item) throws InterruptedException{\n    put_lock.lockInterruptibly();\n    try {\n        while(queue.size() == limit.get()) {\n            put_condition.await();\n        }\n        put_condition.signal();\n        queue.add(item);\n    } finally{\n        put_lock.unlock();\n    }\n\n    return true;\n}\n\npublic T take() throws InterruptedException{\n    take_lock.lockInterruptibly();\n    try {\n        while (queue.size() == 0) {\n            take_condition.await();\n        }\n        take_condition.signal();\n        return queue.poll();\n    } finally {\n        take_lock.unlock();\n    }\n}\n</code></pre>\n\n<p>Thanks for your time!</p>\n"},{"tags":["java","scala","apache-flink"],"comments":[{"owner":{"account_id":18229672,"reputation":18798,"user_id":13268855,"display_name":"Peter Csala"},"score":1,"creation_date":1652813188,"post_id":72253228,"comment_id":127695818,"body_markdown":"Checkpoints are done automatically and periodically. Savepoint on the other hand is done manually usually before stopping the app. During the app launch you can specify which savepoint to load in.","body":"Checkpoints are done automatically and periodically. Savepoint on the other hand is done manually usually before stopping the app. During the app launch you can specify which savepoint to load in."},{"owner":{"account_id":18229672,"reputation":18798,"user_id":13268855,"display_name":"Peter Csala"},"score":0,"creation_date":1652813263,"post_id":72253228,"comment_id":127695848,"body_markdown":"[Related docs](https://nightlies.apache.org/flink/flink-docs-master/docs/ops/state/savepoints/)","body":"<a href=\"https://nightlies.apache.org/flink/flink-docs-master/docs/ops/state/savepoints/\" rel=\"nofollow noreferrer\">Related docs</a>"}],"answers":[{"tags":[],"owner":{"account_id":25223850,"reputation":1664,"user_id":19059974,"display_name":"Gerard Garcia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652685396,"creation_date":1652685396,"answer_id":72255410,"question_id":72253228,"body_markdown":"As long as the offsets are being committed in each checkpoint/savepoint (which is done by default if checkpointing is enabled), the source should start from `OffsetsInitializer.committedOffsets()`\r\n\r\n","title":"Restarting flink streaming application","body":"<p>As long as the offsets are being committed in each checkpoint/savepoint (which is done by default if checkpointing is enabled), the source should start from <code>OffsetsInitializer.committedOffsets()</code></p>\n"}],"owner":{"account_id":12541029,"reputation":427,"user_id":9125940,"display_name":"Sucheth Shivakumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652685396,"creation_date":1652662571,"question_id":72253228,"body_markdown":"\r\nHow do I can restart flink streaming application gracefully so that it starts reading(in case of kafka)from where it has left before stop ?\r\n\r\nI read checkpoints work only in case of application failure and not while restarting application. \r\n```\r\n\r\nKafkaSource&lt;Event&gt; source = KafkaSource.&lt;Event&gt;builder()\r\n                    .setBootstrapServers(&quot;localhost:9092&quot;)\r\n                    //.setTopics(&quot;events&quot;, &quot;event1&quot;)\r\n                    .setTopics(&quot;events&quot;)\r\n                    .setGroupId(&quot;my-group&quot;)\r\n                    .setStartingOffsets(???)\r\n```\r\nLet me know what should be the starting offsets set to If application has to start from the checkpoint saved.","title":"Restarting flink streaming application","body":"<p>How do I can restart flink streaming application gracefully so that it starts reading(in case of kafka)from where it has left before stop ?</p>\n<p>I read checkpoints work only in case of application failure and not while restarting application.</p>\n<pre><code>\nKafkaSource&lt;Event&gt; source = KafkaSource.&lt;Event&gt;builder()\n                    .setBootstrapServers(&quot;localhost:9092&quot;)\n                    //.setTopics(&quot;events&quot;, &quot;event1&quot;)\n                    .setTopics(&quot;events&quot;)\n                    .setGroupId(&quot;my-group&quot;)\n                    .setStartingOffsets(???)\n</code></pre>\n<p>Let me know what should be the starting offsets set to If application has to start from the checkpoint saved.</p>\n"},{"tags":["java","csv","rest-assured","serenity-bdd","path-parameter"],"comments":[{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1652666744,"post_id":72248332,"comment_id":127653659,"body_markdown":"which serenity&#39;s version you are working on?","body":"which serenity&#39;s version you are working on?"},{"owner":{"account_id":25295530,"reputation":41,"user_id":19120754,"display_name":"Charlotte Ryerr"},"score":0,"creation_date":1652670245,"post_id":72248332,"comment_id":127654070,"body_markdown":"&lt;serenity.version&gt;2.4.51","body":"&lt;serenity.version&gt;2.4.51"},{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1652672912,"post_id":72248332,"comment_id":127654379,"body_markdown":"This serenity version uses JUnit4, then you can follow this tutorial to do data-driven testing https://serenity-bdd.github.io/theserenitybook/latest/junit-data-driven.html","body":"This serenity version uses JUnit4, then you can follow this tutorial to do data-driven testing <a href=\"https://serenity-bdd.github.io/theserenitybook/latest/junit-data-driven.html\" rel=\"nofollow noreferrer\">serenity-bdd.github.io/theserenitybook/latest/&hellip;</a>"},{"owner":{"account_id":25295530,"reputation":41,"user_id":19120754,"display_name":"Charlotte Ryerr"},"score":0,"creation_date":1652674206,"post_id":72248332,"comment_id":127654550,"body_markdown":"Hi,\nI followed your code and used it.\n\nMy CSV has 3 different Customer ID&#39;s.\nI used your code and see that it ran for 3 times because I have 3 different Customer ID&#39;s.\n\nBut I see that that my customer ID&#39;s are not getting populated in this code of line -\n\nSerenityRest.given().log().all().when().get(&quot;/employees/employeeID&quot;).then().log().all().statusCode(200);\n\nI am writing my code like this -","body":"Hi, I followed your code and used it.  My CSV has 3 different Customer ID&#39;s. I used your code and see that it ran for 3 times because I have 3 different Customer ID&#39;s.  But I see that that my customer ID&#39;s are not getting populated in this code of line -  SerenityRest.given().log().all().when().get(&quot;/employees/empl&zwnj;&#8203;oyeeID&quot;).then().log(&zwnj;&#8203;).all().statusCode(2&zwnj;&#8203;00);  I am writing my code like this -"},{"owner":{"account_id":25295530,"reputation":41,"user_id":19120754,"display_name":"Charlotte Ryerr"},"score":0,"creation_date":1652674224,"post_id":72248332,"comment_id":127654554,"body_markdown":"is this correct ?\t\n\n@Test\n\tpublic void getAllRequests() {\n\t\tArrayList&lt;String&gt; employeeIDs = new ArrayList&lt;&gt;();\n\t\temployeeIDs.add(employeeID);\n\t\t\n\t\tSerenityRest.given().log().all().when().get(&quot;/employees/15&quot;).then().log().all().statusCode(200);\n\t\tSystem.out.println(employeeID);\n\t}","body":"is this correct ?\t  @Test \tpublic void getAllRequests() { \t\tArrayList&lt;String&gt; employeeIDs = new ArrayList&lt;&gt;(); \t\temployeeIDs.add(employeeID); \t\t \t\tSerenityRest.given().log().all().when().get(&quot;/employees/15&zwnj;&#8203;&quot;).then().log().all(&zwnj;&#8203;).statusCode(200); \t\tSystem.out.println(employeeID); \t}"}],"answers":[{"tags":[],"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652685074,"creation_date":1652685074,"answer_id":72255365,"question_id":72248332,"body_markdown":"This code would work for you\r\n\r\n```\r\nimport io.restassured.RestAssured;\r\nimport net.serenitybdd.junit.runners.SerenityParameterizedRunner;\r\nimport net.serenitybdd.rest.SerenityRest;\r\nimport net.thucydides.junit.annotations.UseTestDataFrom;\r\nimport org.junit.BeforeClass;\r\nimport org.junit.Test;\r\nimport org.junit.runner.RunWith;\r\n\r\n@RunWith(SerenityParameterizedRunner.class)\r\n@UseTestDataFrom(value = &quot;EmployeeID.csv&quot;)\r\npublic class DemoTest {\r\n\r\n    private int EmployeeID;\r\n\r\n    public void setEmployeeID(int EmployeeID) {\r\n        this.EmployeeID = EmployeeID;\r\n    }\r\n\r\n    @BeforeClass\r\n    public static void init() {\r\n        RestAssured.baseURI = &quot;https://dummy.restapiexample.com/api/v1&quot;;\r\n    }\r\n\r\n    @Test\r\n    public void getAllRequests() {\r\n        SerenityRest.given().log().all().when()\r\n                .get(&quot;/employees/&quot; + EmployeeID)\r\n                .then().log().all()\r\n                .statusCode(200);\r\n    }\r\n}\r\n```\r\n\r\nFile csv at: `src/test/resources/EmployeeID.csv`","title":"How to send Multiple values in GET request using CSV in Serenity BDD framework","body":"<p>This code would work for you</p>\n<pre><code>import io.restassured.RestAssured;\nimport net.serenitybdd.junit.runners.SerenityParameterizedRunner;\nimport net.serenitybdd.rest.SerenityRest;\nimport net.thucydides.junit.annotations.UseTestDataFrom;\nimport org.junit.BeforeClass;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\n\n@RunWith(SerenityParameterizedRunner.class)\n@UseTestDataFrom(value = &quot;EmployeeID.csv&quot;)\npublic class DemoTest {\n\n    private int EmployeeID;\n\n    public void setEmployeeID(int EmployeeID) {\n        this.EmployeeID = EmployeeID;\n    }\n\n    @BeforeClass\n    public static void init() {\n        RestAssured.baseURI = &quot;https://dummy.restapiexample.com/api/v1&quot;;\n    }\n\n    @Test\n    public void getAllRequests() {\n        SerenityRest.given().log().all().when()\n                .get(&quot;/employees/&quot; + EmployeeID)\n                .then().log().all()\n                .statusCode(200);\n    }\n}\n</code></pre>\n<p>File csv at: <code>src/test/resources/EmployeeID.csv</code></p>\n"}],"owner":{"account_id":25295530,"reputation":41,"user_id":19120754,"display_name":"Charlotte Ryerr"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72255365,"answer_count":1,"score":1,"last_activity_date":1652685074,"creation_date":1652618276,"question_id":72248332,"body_markdown":"How to pass CSV with multiple values in GET Request.\r\nWhen I am tried to pass the values as below its not giving the response properly.please help here to get the response.\r\n\r\nFor Eg: My CSV file contains ID&#39;s: 15,16,20\r\n\r\nHow can I pass this ID&#39;s in GET request.\r\n\r\n**EmployeeID.csv**\r\n```\r\nEmployeeID\r\n15\r\n16\r\n20\r\n```\r\n\r\n```\r\n@BeforeClass\r\n\tpublic static void init() {\r\n\r\n\t\tRestAssured.baseURI = &quot;https://dummy.restapiexample.com/api/v1&quot;;\r\n\t}\r\n\t@Test\r\n\tpublic void getAllRequests() {\r\n\t\tArrayList&lt;String&gt; employeeIDs = new ArrayList&lt;&gt;();\r\n\t\temployeeIDs.add(employeeID);\r\n\t\tSerenityRest.given().log().all().when().get(&quot;/employees/employeeID&quot;).then().log().all().statusCode(200);\r\n\t\tSystem.out.println(employeeID);\r\n\t}\r\n}\r\n```","title":"How to send Multiple values in GET request using CSV in Serenity BDD framework","body":"<p>How to pass CSV with multiple values in GET Request.\nWhen I am tried to pass the values as below its not giving the response properly.please help here to get the response.</p>\n<p>For Eg: My CSV file contains ID's: 15,16,20</p>\n<p>How can I pass this ID's in GET request.</p>\n<p><strong>EmployeeID.csv</strong></p>\n<pre><code>EmployeeID\n15\n16\n20\n</code></pre>\n<pre><code>@BeforeClass\n    public static void init() {\n\n        RestAssured.baseURI = &quot;https://dummy.restapiexample.com/api/v1&quot;;\n    }\n    @Test\n    public void getAllRequests() {\n        ArrayList&lt;String&gt; employeeIDs = new ArrayList&lt;&gt;();\n        employeeIDs.add(employeeID);\n        SerenityRest.given().log().all().when().get(&quot;/employees/employeeID&quot;).then().log().all().statusCode(200);\n        System.out.println(employeeID);\n    }\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1299787238,"creation_date":1299787238,"answer_id":5265203,"question_id":5265151,"body_markdown":"I&#39;ve found that a link to the documentation for String&#39;s [`equals`][1] method removes the ambiguity.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html#equals%28java.lang.Object%29","title":"What is the correct way to refer to Java members in text?","body":"<p>I've found that a link to the documentation for String's <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html#equals%28java.lang.Object%29\" rel=\"nofollow\"><code>equals</code></a> method removes the ambiguity.</p>\n"},{"tags":[],"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1299787252,"creation_date":1299787252,"answer_id":5265208,"question_id":5265151,"body_markdown":"I generally reference the class and method name, with the expectation that the reader can use that to track down the documentation. Perhaps that&#39;s a little arrogant. I don&#39;t know.\r\n\r\nIf I&#39;m trying to make a point about which _signature_ of a method to use, I&#39;ll usually provide sample code. This is mainly because I find it easier than writing out the description long-hand.","title":"What is the correct way to refer to Java members in text?","body":"<p>I generally reference the class and method name, with the expectation that the reader can use that to track down the documentation. Perhaps that's a little arrogant. I don't know.</p>\n\n<p>If I'm trying to make a point about which <em>signature</em> of a method to use, I'll usually provide sample code. This is mainly because I find it easier than writing out the description long-hand.</p>\n"},{"tags":[],"owner":{"account_id":109649,"reputation":11808,"user_id":290425,"accept_rate":68,"display_name":"Jan Galinski"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1299787260,"creation_date":1299787260,"answer_id":5265211,"question_id":5265151,"body_markdown":"Using myString.equals() makes no sense unless you state very clear, that myString is an instance of String. \r\njavadoc uses String#equals() so that should be readable and understandable by most developers. This would be my choice.\r\n","title":"What is the correct way to refer to Java members in text?","body":"<p>Using myString.equals() makes no sense unless you state very clear, that myString is an instance of String. \njavadoc uses String#equals() so that should be readable and understandable by most developers. This would be my choice.</p>\n"},{"tags":[],"owner":{"account_id":307351,"reputation":23310,"user_id":618598,"accept_rate":76,"display_name":"Bernd Elkemann"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1299787398,"creation_date":1299787398,"answer_id":5265240,"question_id":5265151,"body_markdown":"`myString.equals()` is perfect. It **implies** the type and makes it clear that we are talking about an instance.\r\n\r\nYou could even add:\r\n\r\n`myString.equals(aString)`","title":"What is the correct way to refer to Java members in text?","body":"<p><code>myString.equals()</code> is perfect. It <strong>implies</strong> the type and makes it clear that we are talking about an instance.</p>\n\n<p>You could even add:</p>\n\n<p><code>myString.equals(aString)</code></p>\n"},{"tags":[],"owner":{"account_id":47176,"reputation":33749,"user_id":139595,"accept_rate":88,"display_name":"J&#246;rn Horstmann"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1299791370,"creation_date":1299787741,"answer_id":5265315,"question_id":5265151,"body_markdown":"If you want to be really be exact you could use\r\n\r\n    java.lang.String#equals(java.lang.Object)\r\n\r\nor the shorter form\r\n\r\n    String#equals(Object)\r\n\r\nThis is similar to the notation used in javadoc and interestingly also looks similar to the link to the documentation which ends with:\r\n\r\n    String.html#equals(java.lang.Object)\r\n\r\n**Edit:** Here is a link to the [javadoc documentation][1] describing how to use references.\r\n\r\n [1]: http://download.oracle.com/javase/1.5.0/docs/tooldocs/windows/javadoc.html#specifyingname","title":"What is the correct way to refer to Java members in text?","body":"<p>If you want to be really be exact you could use</p>\n\n<pre><code>java.lang.String#equals(java.lang.Object)\n</code></pre>\n\n<p>or the shorter form</p>\n\n<pre><code>String#equals(Object)\n</code></pre>\n\n<p>This is similar to the notation used in javadoc and interestingly also looks similar to the link to the documentation which ends with:</p>\n\n<pre><code>String.html#equals(java.lang.Object)\n</code></pre>\n\n<p><strong>Edit:</strong> Here is a link to the <a href=\"http://download.oracle.com/javase/1.5.0/docs/tooldocs/windows/javadoc.html#specifyingname\" rel=\"nofollow\">javadoc documentation</a> describing how to use references.</p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1299788812,"creation_date":1299788508,"answer_id":5265464,"question_id":5265151,"body_markdown":"`String.equals`.\r\n\r\nIf you wanted to give argument types `String.equals(Object)`.\r\n\r\nAdding the parentheses (`equals()`) is a C thing. In particularly an ANSI C thing, in which a no-args function would be written as `tostring(void)` (I&#39;m actually too young(!) to remember K&amp;R/PCC C). C++ fixed that - so the `()` are really quite old school. ","title":"What is the correct way to refer to Java members in text?","body":"<p><code>String.equals</code>.</p>\n\n<p>If you wanted to give argument types <code>String.equals(Object)</code>.</p>\n\n<p>Adding the parentheses (<code>equals()</code>) is a C thing. In particularly an ANSI C thing, in which a no-args function would be written as <code>tostring(void)</code> (I'm actually too young(!) to remember K&amp;R/PCC C). C++ fixed that - so the <code>()</code> are really quite old school. </p>\n"},{"tags":[],"owner":{"account_id":76511,"reputation":44893,"user_id":218978,"accept_rate":100,"display_name":"irreputable"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1299791480,"creation_date":1299791480,"answer_id":5265956,"question_id":5265151,"body_markdown":"When referring to a method, I use *&quot;String.equals()&quot;*. This is for human readers, and they likely to know what you are talking about from the context. In case it could become confusing, just say *&quot;method String.equals()&quot;*\r\n\r\n    One should use String.equals() for comparing two strings for equality.\r\n\r\nSeriously, who would ever be confused by this sentence? So don&#39;t worry. It&#39;s just English language, there is no compiler yelling at you.","title":"What is the correct way to refer to Java members in text?","body":"<p>When referring to a method, I use <em>\"String.equals()\"</em>. This is for human readers, and they likely to know what you are talking about from the context. In case it could become confusing, just say <em>\"method String.equals()\"</em></p>\n\n<pre><code>One should use String.equals() for comparing two strings for equality.\n</code></pre>\n\n<p>Seriously, who would ever be confused by this sentence? So don't worry. It's just English language, there is no compiler yelling at you.</p>\n"}],"owner":{"account_id":129700,"reputation":44876,"user_id":328445,"accept_rate":100,"display_name":"Matthew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"closed_date":1652684627,"accepted_answer_id":5265315,"answer_count":7,"score":8,"last_activity_date":1652684624,"creation_date":1299787022,"question_id":5265151,"body_markdown":"In answering questions I find myself referring to method names and online documentation often. I&#39;m confused about how method names should be referenced in text.\r\n\r\nFor example I often type:\r\n\r\n&gt; One should use `String.equals()` for\r\n&gt; comparing two strings for equality.\r\n\r\nHowever, this is a little misleading:\r\n\r\n1. It makes `equals()` appear to be a static member.\r\n2. It makes `equals()` appear to not take any arguments.\r\n\r\nIn the interest of compleness, I would like to know:\r\n\r\n**What is the correct way to refer to both static members and instance members?**\r\n\r\nI&#39;ve seen things like:\r\n\r\n- String.equals()\r\n- String#equals()\r\n- myString.equals()\r\n\r\n**Is there a way to refer to methods in an argument-agnostic manner?**\r\n\r\nFor example, in C `foo(void)` is explicitly a zero-argument function and `foo()` can be redefined later to have a different set of arguments. (?)","title":"What is the correct way to refer to Java members in text?","body":"<p>In answering questions I find myself referring to method names and online documentation often. I'm confused about how method names should be referenced in text.</p>\n\n<p>For example I often type:</p>\n\n<blockquote>\n  <p>One should use <code>String.equals()</code> for\n  comparing two strings for equality.</p>\n</blockquote>\n\n<p>However, this is a little misleading:</p>\n\n<ol>\n<li>It makes <code>equals()</code> appear to be a static member.</li>\n<li>It makes <code>equals()</code> appear to not take any arguments.</li>\n</ol>\n\n<p>In the interest of compleness, I would like to know:</p>\n\n<p><strong>What is the correct way to refer to both static members and instance members?</strong></p>\n\n<p>I've seen things like:</p>\n\n<ul>\n<li>String.equals()</li>\n<li>String#equals()</li>\n<li>myString.equals()</li>\n</ul>\n\n<p><strong>Is there a way to refer to methods in an argument-agnostic manner?</strong></p>\n\n<p>For example, in C <code>foo(void)</code> is explicitly a zero-argument function and <code>foo()</code> can be redefined later to have a different set of arguments. (?)</p>\n"},{"tags":["java","protocol-buffers","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":16773930,"reputation":1518,"user_id":12125755,"display_name":"NeverSleeps"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652684454,"creation_date":1652684454,"answer_id":72255238,"question_id":72253599,"body_markdown":"The solution turned out to be very simple. Even too much :)\r\nYou just need to write your own implementation.\r\n```\r\n@Mapper(\r\n    config = MapstructConfig.class,\r\n    unmappedTargetPolicy = ReportingPolicy.ERROR\r\n)\r\npublic interface AddressProtoMapper {\r\n  default Address mapToAddress(AddressProto address){\r\n    return new Address(\r\n        ...\r\n    );\r\n  }\r\n\r\n  default AddressProto mapAddressToProto(Address address) {\r\n    return new AddressProto(\r\n        ...\r\n    );\r\n  }\r\n}\r\n```","title":"mapping from flat protobuf message to class with inner classes using mapStruct","body":"<p>The solution turned out to be very simple. Even too much :)\nYou just need to write your own implementation.</p>\n<pre><code>@Mapper(\n    config = MapstructConfig.class,\n    unmappedTargetPolicy = ReportingPolicy.ERROR\n)\npublic interface AddressProtoMapper {\n  default Address mapToAddress(AddressProto address){\n    return new Address(\n        ...\n    );\n  }\n\n  default AddressProto mapAddressToProto(Address address) {\n    return new AddressProto(\n        ...\n    );\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":16773930,"reputation":1518,"user_id":12125755,"display_name":"NeverSleeps"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":690,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72255238,"answer_count":1,"score":1,"last_activity_date":1652684454,"creation_date":1652667565,"question_id":72253599,"body_markdown":"I need to use `mapStruct` to write a mapping from message `AddressProto` to the `class` Address. But message `AddressProto` consists only of string fields while `Address` class has inner classes.\r\n\r\n\r\nI have written such a mapper so far, but due to the difference between the message structure and the class, I don’t know how to correctly map fields from message `AddressProto` to class `Address` and back.\r\n```\r\n@Mapper(config = MapstructConfig.class, unmappedTargetPolicy = ReportingPolicy.ERROR)\r\npublic abstract class AddressProtoMapper {\r\n\r\n  // from proto to object\r\n  public abstract Address mapToAddress(AddressProto address);\r\n\r\n  // from object to proto\r\n  public abstract AddressProto mapAddressToProto(Address address);\r\n}\r\n```\r\n\r\nproto message `AddressProto` (after the slash for each field, I wrote in which class field it needs to be mapped):\r\n```\r\nmessage AddressProto {\r\n    string value = 1; \t\t\t\t// Address.AddressValue.value\r\n    string unrestricted_value = 2; \t// Address.AddressValue.unrestrictedValue\r\n    string country = 3;\t\t\t\t// Address.Structure.Country.name\r\n    string country_iso_code = 4;\t// Address.Structure.Country.isoCode\r\n    string region = 5;\t\t\t\t// Address.Structure.Region.name\r\n}\r\n```\r\n\r\njava class `Address`:\r\n```java\r\npublic class Address {\r\n\tpublic final AddressValue value;\r\n\tpublic final Structure structure;\r\n\r\n\r\n\tpublic static class AddressValue {\r\n    \tpublic final String value;\r\n    \tpublic final String unrestrictedValue;\r\n    }\r\n\r\n\r\n\tpublic static class Structure {\r\n\t\tpublic final Country country;\r\n\t\tpublic final Region region;\r\n\r\n\t\tpublic static class Country {\r\n      \t\tpublic final String name;\r\n      \t\tpublic final String isoCode;\r\n      \t}\r\n\r\n\t\tpublic static class Region {\r\n      \t\tpublic final String name;\r\n      \t}\r\n\r\n\t}\r\n}\r\n```\r\n","title":"mapping from flat protobuf message to class with inner classes using mapStruct","body":"<p>I need to use <code>mapStruct</code> to write a mapping from message <code>AddressProto</code> to the <code>class</code> Address. But message <code>AddressProto</code> consists only of string fields while <code>Address</code> class has inner classes.</p>\n<p>I have written such a mapper so far, but due to the difference between the message structure and the class, I don’t know how to correctly map fields from message <code>AddressProto</code> to class <code>Address</code> and back.</p>\n<pre><code>@Mapper(config = MapstructConfig.class, unmappedTargetPolicy = ReportingPolicy.ERROR)\npublic abstract class AddressProtoMapper {\n\n  // from proto to object\n  public abstract Address mapToAddress(AddressProto address);\n\n  // from object to proto\n  public abstract AddressProto mapAddressToProto(Address address);\n}\n</code></pre>\n<p>proto message <code>AddressProto</code> (after the slash for each field, I wrote in which class field it needs to be mapped):</p>\n<pre><code>message AddressProto {\n    string value = 1;               // Address.AddressValue.value\n    string unrestricted_value = 2;  // Address.AddressValue.unrestrictedValue\n    string country = 3;             // Address.Structure.Country.name\n    string country_iso_code = 4;    // Address.Structure.Country.isoCode\n    string region = 5;              // Address.Structure.Region.name\n}\n</code></pre>\n<p>java class <code>Address</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Address {\n    public final AddressValue value;\n    public final Structure structure;\n\n\n    public static class AddressValue {\n        public final String value;\n        public final String unrestrictedValue;\n    }\n\n\n    public static class Structure {\n        public final Country country;\n        public final Region region;\n\n        public static class Country {\n            public final String name;\n            public final String isoCode;\n        }\n\n        public static class Region {\n            public final String name;\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","jdbc"],"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":4,"creation_date":1351363433,"post_id":13103067,"comment_id":17809568,"body_markdown":"You should execute a `COUNT` statement: `String query = &quot;SELECT COUNT(*) FROM customer WHERE username =?&quot;; stmt.setString(1, username); rs = stmt.executeQuery(query);`","body":"You should execute a <code>COUNT</code> statement: <code>String query = &quot;SELECT COUNT(*) FROM customer WHERE username =?&quot;; stmt.setString(1, username); rs = stmt.executeQuery(query);</code>"},{"owner":{"account_id":50598,"reputation":32356,"user_id":151019,"accept_rate":83,"display_name":"mmmmmm"},"score":4,"creation_date":1351363588,"post_id":13103067,"comment_id":17809600,"body_markdown":"Method 1 gets the number of columns - why do you think that might work?","body":"Method 1 gets the number of columns - why do you think that might work?"},{"owner":{"account_id":709632,"reputation":1021,"user_id":620054,"accept_rate":70,"display_name":"Michael K"},"score":0,"creation_date":1523398081,"post_id":13103067,"comment_id":86542754,"body_markdown":"Side question - if you are going to use the data from the original non-aggregated query, is it better to do a second query to get the count, or is it better to either loop through and count, or jump to the last row and check getRow()?  Seems like a second query to get count is better, per - https://stackoverflow.com/a/192104/620054","body":"Side question - if you are going to use the data from the original non-aggregated query, is it better to do a second query to get the count, or is it better to either loop through and count, or jump to the last row and check getRow()?  Seems like a second query to get count is better, per - <a href=\"https://stackoverflow.com/a/192104/620054\">stackoverflow.com/a/192104/620054</a>"}],"answers":[{"tags":[],"owner":{"account_id":1355206,"reputation":33312,"user_id":1293744,"accept_rate":44,"display_name":"Kumar Vivek Mitra"},"down_vote_count":3,"up_vote_count":17,"is_accepted":true,"score":14,"last_activity_date":1485729593,"creation_date":1351363522,"answer_id":13103087,"question_id":13103067,"body_markdown":"**See this snippet of code:**\r\n\r\n\r\n    import java.io.*;\r\n    import java.sql.*;\r\n\r\n    public class CountRows{\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Count number of rows in a specific table!&quot;);\r\n            Connection con = null;\r\n            int count = 0;\r\n            try {\r\n                Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n                con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/jdbctutorial&quot;,&quot;root&quot;,&quot;root&quot;);\r\n                try {\r\n                    Statement st = con.createStatement();\r\n                    BufferedReader bf = new BufferedReader(new InputStreamReader(System.in));\r\n                    System.out.println(&quot;Enter table name:&quot;);\r\n                    String table = bf.readLine();\r\n                    ResultSet res = st.executeQuery(&quot;SELECT COUNT(*) FROM &quot;+table);\r\n                    while (res.next()){\r\n                        count = res.getInt(1);\r\n                    }\r\n                    System.out.println(&quot;Number of row:&quot;+count);\r\n                }\r\n                catch (SQLException s){\r\n                    System.out.println(&quot;SQL statement is not executed!&quot;);\r\n                }\r\n            }\r\n            catch (Exception e){\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }","title":"Correct way to find rowcount in Java JDBC","body":"<p><strong>See this snippet of code:</strong></p>\n\n<pre><code>import java.io.*;\nimport java.sql.*;\n\npublic class CountRows{\n    public static void main(String[] args) {\n        System.out.println(\"Count number of rows in a specific table!\");\n        Connection con = null;\n        int count = 0;\n        try {\n            Class.forName(\"com.mysql.jdbc.Driver\");\n            con = DriverManager.getConnection(\"jdbc:mysql://localhost:3306/jdbctutorial\",\"root\",\"root\");\n            try {\n                Statement st = con.createStatement();\n                BufferedReader bf = new BufferedReader(new InputStreamReader(System.in));\n                System.out.println(\"Enter table name:\");\n                String table = bf.readLine();\n                ResultSet res = st.executeQuery(\"SELECT COUNT(*) FROM \"+table);\n                while (res.next()){\n                    count = res.getInt(1);\n                }\n                System.out.println(\"Number of row:\"+count);\n            }\n            catch (SQLException s){\n                System.out.println(\"SQL statement is not executed!\");\n            }\n        }\n        catch (Exception e){\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3226549,"reputation":1852,"user_id":2722799,"accept_rate":64,"display_name":"Java Man"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1390972716,"creation_date":1390972716,"answer_id":21422721,"question_id":13103067,"body_markdown":"When you working with JDBC that does not support `TYPE_FORWARD_ONLY` use this method to get rowcount.\r\n\r\n\r\n    Statement s = cd.createStatement();\r\n    ResultSet r = s.executeQuery(&quot;SELECT COUNT(*) AS rowcount FROM TableName&quot;);\r\n    r.next();\r\n    int count = r.getInt(&quot;rowcount&quot;);\r\n    r.close();\r\n    System.out.println(&quot;MyTable has &quot; + count + &quot; row(s).&quot;);\r\n\r\nYou can Get Row count using above method.\r\n\r\nThanks..\r\n\r\n","title":"Correct way to find rowcount in Java JDBC","body":"<p>When you working with JDBC that does not support <code>TYPE_FORWARD_ONLY</code> use this method to get rowcount.</p>\n\n<pre><code>Statement s = cd.createStatement();\nResultSet r = s.executeQuery(\"SELECT COUNT(*) AS rowcount FROM TableName\");\nr.next();\nint count = r.getInt(\"rowcount\");\nr.close();\nSystem.out.println(\"MyTable has \" + count + \" row(s).\");\n</code></pre>\n\n<p>You can Get Row count using above method.</p>\n\n<p>Thanks..</p>\n"},{"tags":[],"owner":{"account_id":7045556,"reputation":1,"user_id":5396478,"display_name":"Krishnamraju Pernedi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1443689130,"creation_date":1443686923,"answer_id":32882532,"question_id":13103067,"body_markdown":"As method name specifies `metaData.getColumnCount()` will return total number of columns in result set but not total no of rows (count).","title":"Correct way to find rowcount in Java JDBC","body":"<p>As method name specifies <code>metaData.getColumnCount()</code> will return total number of columns in result set but not total no of rows (count).</p>\n"},{"tags":[],"owner":{"account_id":7295744,"reputation":49,"user_id":5560663,"display_name":"Isaac Amezcua"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1652684225,"creation_date":1468451506,"answer_id":38363174,"question_id":13103067,"body_markdown":"This the way I use to get the row count in Java:\r\n\r\n    String query = &quot;SELECT * FROM yourtable&quot;;\r\n\r\n    Statement st = sql.createStatement( ResultSet.TYPE_SCROLL_INSENSITIVE, ResultSet.CONCUR_READ_ONLY );\r\n    ResultSet rs = st.executeQuery(query);\r\n\r\n    int rows = 0;\r\n    rs.last();\r\n    rows = rs.getRow();\r\n    rs.beforeFirst();\r\n\t\r\n    System.out.println(&quot;Your query have &quot; + rows + &quot; rows.&quot;);\r\n","title":"Correct way to find rowcount in Java JDBC","body":"<p>This the way I use to get the row count in Java:</p>\n<pre><code>String query = &quot;SELECT * FROM yourtable&quot;;\n\nStatement st = sql.createStatement( ResultSet.TYPE_SCROLL_INSENSITIVE, ResultSet.CONCUR_READ_ONLY );\nResultSet rs = st.executeQuery(query);\n\nint rows = 0;\nrs.last();\nrows = rs.getRow();\nrs.beforeFirst();\n\nSystem.out.println(&quot;Your query have &quot; + rows + &quot; rows.&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13532593,"reputation":11,"user_id":9762609,"display_name":"Anupam Rajanish"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1526805502,"creation_date":1526805502,"answer_id":50433065,"question_id":13103067,"body_markdown":"In Android, having no results returns an error. So check this case before incrementing count in *while(resultset.next())* \r\n\r\n    if(resultset!=null)\r\n    {\r\n    //proceed with incrementing row count function\r\n    }\r\n    else\r\n    {\r\n    // No resultset found\r\n    }\r\n           \r\n\r\n                  ","title":"Correct way to find rowcount in Java JDBC","body":"<p>In Android, having no results returns an error. So check this case before incrementing count in <em>while(resultset.next())</em> </p>\n\n<pre><code>if(resultset!=null)\n{\n//proceed with incrementing row count function\n}\nelse\n{\n// No resultset found\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10986271,"reputation":1688,"user_id":8071889,"display_name":"suvojit_007"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1540192499,"creation_date":1540192499,"answer_id":52924067,"question_id":13103067,"body_markdown":"&gt; Just iterate and count\r\n\r\n\r\n    ResultSet result = sta.executeQuery(&quot;SELECT * from A3&quot;);\r\n    \t\t\tint k=0;\r\n    \t\t\twhile(result.next())\r\n    \t\t\t\tk++;\r\n    \t\t\t\r\n    \t\t\tSystem.out.print(k); //k is the no of row","title":"Correct way to find rowcount in Java JDBC","body":"<blockquote>\n  <p>Just iterate and count</p>\n</blockquote>\n\n<pre><code>ResultSet result = sta.executeQuery(\"SELECT * from A3\");\n            int k=0;\n            while(result.next())\n                k++;\n\n            System.out.print(k); //k is the no of row\n</code></pre>\n"}],"owner":{"account_id":357611,"reputation":4473,"user_id":697886,"accept_rate":68,"display_name":"Student"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56999,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":13103087,"answer_count":6,"score":9,"last_activity_date":1652684225,"creation_date":1351363319,"question_id":13103067,"body_markdown":"I have tried different ways to get the row count in java JDBC, nut none seemed to be giving the correct result. Is there anything wrong that I am doing ?\r\n\r\nEven though the customer table is empty and I should be getting the rowcount as 0, I don&#39;t understand why I get a non zero rowcount value.\r\n\r\nMethod 1 - \r\n\r\n\r\n    query = &quot;SELECT * FROM customer WHERE username =&#39;&quot;+username+&quot;&#39;&quot;;\r\n    rs = stmt.executeQuery(query);\r\n    ResultSetMetaData metaData = rs.getMetaData();\r\n    rowcount = metaData.getColumnCount();\r\n\r\nMethod 2 -\r\n\r\n    query = &quot;SELECT * FROM customer WHERE username =&#39;&quot;+username+&quot;&#39;&quot;;\r\n    rs = stmt.executeQuery(query);\r\n    rowcount = rs.last() ? rs.getRow() : 0;\r\n\r\n","title":"Correct way to find rowcount in Java JDBC","body":"<p>I have tried different ways to get the row count in java JDBC, nut none seemed to be giving the correct result. Is there anything wrong that I am doing ?</p>\n\n<p>Even though the customer table is empty and I should be getting the rowcount as 0, I don't understand why I get a non zero rowcount value.</p>\n\n<p>Method 1 - </p>\n\n<pre><code>query = \"SELECT * FROM customer WHERE username ='\"+username+\"'\";\nrs = stmt.executeQuery(query);\nResultSetMetaData metaData = rs.getMetaData();\nrowcount = metaData.getColumnCount();\n</code></pre>\n\n<p>Method 2 -</p>\n\n<pre><code>query = \"SELECT * FROM customer WHERE username ='\"+username+\"'\";\nrs = stmt.executeQuery(query);\nrowcount = rs.last() ? rs.getRow() : 0;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven","spring-mvc"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1652684349,"post_id":72255114,"comment_id":127656264,"body_markdown":"I think CanalRepo needs an @Repository annotation. Please use the standard Java naming conventions too!","body":"I think CanalRepo needs an @Repository annotation. Please use the standard Java naming conventions too!"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1652686107,"post_id":72255114,"comment_id":127656765,"body_markdown":"Is there a special reason why using an old version of spring boot 2.5.13 ? Current version 2.6.7 (2.7.0 is around the corner)...","body":"Is there a special reason why using an old version of spring boot 2.5.13 ? Current version 2.6.7 (2.7.0 is around the corner)..."}],"owner":{"account_id":25300723,"reputation":23,"user_id":19124997,"display_name":"zerfer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":543,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652683787,"creation_date":1652683787,"question_id":72255114,"body_markdown":"When i run my java app this error occurs  : &quot; Error creating bean with name &#39;canalRessource&#39; defined in file [C:\\project\\bo\\target\\classes\\fcb\\inetum\\bo\\CanalRessource.class]: Unsatisfied dependency expressed through constructor parameter 0;&quot;\r\n\r\nthis my **pom.xml** :\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.5.13&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;fcb.inetum&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;bo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;backoffice&lt;/name&gt;\r\n\t&lt;description&gt;backoffice app&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\nthis is my main app code: \r\n```\r\npackage fcb.inetum.bo;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class BackofficeApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(BackofficeApplication.class, args);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nthis my **canalressource.java** : \r\n```\r\npackage fcb.inetum.bo;\r\n\r\nimport java.util.List;\r\n\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.DeleteMapping;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.PutMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport fcb.inetum.bo.model.canal;\r\nimport fcb.inetum.bo.service.canalService;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/canal&quot;)\r\npublic class CanalRessource {\r\n\tprivate final canalService canalService;\r\n\r\n\tpublic CanalRessource(canalService canalService) {\r\n\r\n\t\tthis.canalService = canalService;\r\n\t}\r\n\r\n\t@GetMapping(&quot;/all&quot;)\r\n\tpublic ResponseEntity&lt;List&lt;canal&gt;&gt; getAllCanal() {\r\n\t\tList&lt;canal&gt; canals = canalService.FindAllCanal();\r\n\t\treturn new ResponseEntity&lt;&gt;(canals, HttpStatus.OK);\r\n\t}\r\n\r\n\t@GetMapping(&quot;/find/{canal_codi}&quot;)\r\n\tpublic ResponseEntity&lt;canal&gt; getCanalById(@PathVariable(&quot;canal_codi&quot;) String canal_codi) {\r\n\t\tcanal canal = canalService.findCanalBycanal_codi(canal_codi);\r\n\t\treturn new ResponseEntity&lt;&gt;(canal, HttpStatus.OK);\r\n\t}\r\n\r\n@PostMapping(&quot;/add&quot;)\r\npublic ResponseEntity&lt;canal&gt;   AddCanal(@RequestBody canal canal)   {\r\n\tcanal newcanal =canalService.AddCanal(canal);\r\n\treturn new ResponseEntity&lt;&gt;(canal, HttpStatus.CREATED);\r\n}\r\n\r\n\r\n@PutMapping(&quot;/update&quot;)\r\npublic ResponseEntity&lt;canal&gt;   UpdateCanal(@RequestBody canal canal)   {\r\n\tcanal newcanal =canalService.UpdateCanal(canal);\r\n\treturn new ResponseEntity&lt;&gt;(canal, HttpStatus.OK);\r\n}\r\n\r\n\r\n@DeleteMapping(&quot;/delete/{canal_codi}&quot;)\r\npublic ResponseEntity&lt;?&gt; DeleteCanal(@PathVariable(&quot;canal_codi&quot;) String canal_codi) {\r\ncanalService.DeleteCanal(canal_codi);\r\n\treturn new ResponseEntity&lt;&gt;( HttpStatus.OK);\r\n}\r\n}\r\n\r\n```\r\nthis is my **canal.java**\r\n\r\n```\r\npackage fcb.inetum.bo.model;\r\n\r\nimport javax.persistence.*;\r\nimport java.io.Serializable;\r\nimport java.util.*;\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.*;\r\n\r\n@Entity\r\n@Table(name=&quot;canal&quot;)\r\npublic class canal implements Serializable {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\tprivate String codi_canal;\r\n\tprivate String nom;\r\n\tprivate int id_banc;\r\n\tprivate String auto_revisio;\r\n\tprivate Date data_alta;\r\n\tprivate Date data_modificacio;\r\n\tprivate Date data_baixa;\r\n\tprivate String id_extern;\r\n\tprivate String actiu;\r\n\tprivate String email_responsable;\r\n\tprivate String usr_alta;\r\n\tprivate String usr_modificacio;\r\n\tprivate String usr_baixa;\r\n\tprivate String canal_pci;\r\n\tprivate String password;\r\n\tprivate String url_retorn;\r\n\tprivate int timeout_3d;\r\n\tprivate String reintent_3d_error;\r\n\tprivate String url_notificacio;\r\n\r\n\tpublic canal() {\r\n\t}\r\n\r\n\tpublic canal(String codi_canal, String nom, int id_banc, String auto_revisio, Date data_alta, Date data_modificacio,\r\n\t\t\tDate data_baixa, String id_extern, String actiu, String email_responsable, String usr_alta,\r\n\t\t\tString usr_modificacio, String usr_baixa, String canal_pci, String password, String url_retorn,\r\n\t\t\tint timeout_3d, String reintent_3d_error, String url_notificacio) {\r\n\r\n\t\tthis.codi_canal = codi_canal;\r\n\t\tthis.nom = nom;\r\n\t\tthis.id_banc = id_banc;\r\n\t\tthis.auto_revisio = auto_revisio;\r\n\t\tthis.data_alta = data_alta;\r\n\t\tthis.data_modificacio = data_modificacio;\r\n\t\tthis.data_baixa = data_baixa;\r\n\t\tthis.id_extern = id_extern;\r\n\t\tthis.actiu = actiu;\r\n\t\tthis.email_responsable = email_responsable;\r\n\t\tthis.usr_alta = usr_alta;\r\n\t\tthis.usr_modificacio = usr_modificacio;\r\n\t\tthis.usr_baixa = usr_baixa;\r\n\t\tthis.canal_pci = canal_pci;\r\n\t\tthis.password = password;\r\n\t\tthis.url_retorn = url_retorn;\r\n\t\tthis.timeout_3d = timeout_3d;\r\n\t\tthis.reintent_3d_error = reintent_3d_error;\r\n\t\tthis.url_notificacio = url_notificacio;\r\n\t}\r\n\r\n\tpublic String getCodi_canal() {\r\n\t\treturn codi_canal;\r\n\t}\r\n\r\n\tpublic void setCodi_canal(String codi_canal) {\r\n\t\tthis.codi_canal = codi_canal;\r\n\t}\r\n\r\n\tpublic String getNom() {\r\n\t\treturn nom;\r\n\t}\r\n\r\n\tpublic void setNom(String nom) {\r\n\t\tthis.nom = nom;\r\n\t}\r\n\r\n\tpublic int getId_banc() {\r\n\t\treturn id_banc;\r\n\t}\r\n\r\n\tpublic void setId_banc(int id_banc) {\r\n\t\tthis.id_banc = id_banc;\r\n\t}\r\n\r\n\tpublic String getAuto_revisio() {\r\n\t\treturn auto_revisio;\r\n\t}\r\n\r\n\tpublic void setAuto_revisio(String auto_revisio) {\r\n\t\tthis.auto_revisio = auto_revisio;\r\n\t}\r\n\r\n\tpublic Date getData_alta() {\r\n\t\treturn data_alta;\r\n\t}\r\n\r\n\tpublic void setData_alta(Date data_alta) {\r\n\t\tthis.data_alta = data_alta;\r\n\t}\r\n\r\n\tpublic Date getData_modificacio() {\r\n\t\treturn data_modificacio;\r\n\t}\r\n\r\n\tpublic void setData_modificacio(Date data_modificacio) {\r\n\t\tthis.data_modificacio = data_modificacio;\r\n\t}\r\n\r\n\tpublic Date getData_baixa() {\r\n\t\treturn data_baixa;\r\n\t}\r\n\r\n\tpublic void setData_baixa(Date data_baixa) {\r\n\t\tthis.data_baixa = data_baixa;\r\n\t}\r\n\r\n\tpublic String getId_extern() {\r\n\t\treturn id_extern;\r\n\t}\r\n\r\n\tpublic void setId_extern(String id_extern) {\r\n\t\tthis.id_extern = id_extern;\r\n\t}\r\n\r\n\tpublic String getActiu() {\r\n\t\treturn actiu;\r\n\t}\r\n\r\n\tpublic void setActiu(String actiu) {\r\n\t\tthis.actiu = actiu;\r\n\t}\r\n\r\n\tpublic String getEmail_responsable() {\r\n\t\treturn email_responsable;\r\n\t}\r\n\r\n\tpublic void setEmail_responsable(String email_responsable) {\r\n\t\tthis.email_responsable = email_responsable;\r\n\t}\r\n\r\n\tpublic String getUsr_alta() {\r\n\t\treturn usr_alta;\r\n\t}\r\n\r\n\tpublic void setUsr_alta(String usr_alta) {\r\n\t\tthis.usr_alta = usr_alta;\r\n\t}\r\n\r\n\tpublic String getUsr_modificacio() {\r\n\t\treturn usr_modificacio;\r\n\t}\r\n\r\n\tpublic void setUsr_modificacio(String usr_modificacio) {\r\n\t\tthis.usr_modificacio = usr_modificacio;\r\n\t}\r\n\r\n\tpublic String getUsr_baixa() {\r\n\t\treturn usr_baixa;\r\n\t}\r\n\r\n\tpublic void setUsr_baixa(String usr_baixa) {\r\n\t\tthis.usr_baixa = usr_baixa;\r\n\t}\r\n\r\n\tpublic String getCanal_pci() {\r\n\t\treturn canal_pci;\r\n\t}\r\n\r\n\tpublic void setCanal_pci(String canal_pci) {\r\n\t\tthis.canal_pci = canal_pci;\r\n\t}\r\n\r\n\tpublic String getPassword() {\r\n\t\treturn password;\r\n\t}\r\n\r\n\tpublic void setPassword(String password) {\r\n\t\tthis.password = password;\r\n\t}\r\n\r\n\tpublic String getUrl_retorn() {\r\n\t\treturn url_retorn;\r\n\t}\r\n\r\n\tpublic void setUrl_retorn(String url_retorn) {\r\n\t\tthis.url_retorn = url_retorn;\r\n\t}\r\n\r\n\tpublic int getTimeout_3d() {\r\n\t\treturn timeout_3d;\r\n\t}\r\n\r\n\tpublic void setTimeout_3d(int timeout_3d) {\r\n\t\tthis.timeout_3d = timeout_3d;\r\n\t}\r\n\r\n\tpublic String getReintent_3d_error() {\r\n\t\treturn reintent_3d_error;\r\n\t}\r\n\r\n\tpublic void setReintent_3d_error(String reintent_3d_error) {\r\n\t\tthis.reintent_3d_error = reintent_3d_error;\r\n\t}\r\n\r\n\tpublic String getUrl_notificacio() {\r\n\t\treturn url_notificacio;\r\n\t}\r\n\r\n\tpublic void setUrl_notificacio(String url_notificacio) {\r\n\t\tthis.url_notificacio = url_notificacio;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;canal {codi_canal=&quot; + codi_canal + &quot;, nom=&quot; + nom + &quot;, id_banc=&quot; + id_banc + &quot;, auto_revisio=&quot;\r\n\t\t\t\t+ auto_revisio + &quot;, data_alta=&quot; + data_alta + &quot;, data_modificacio=&quot; + data_modificacio + &quot;, data_baixa=&quot;\r\n\t\t\t\t+ data_baixa + &quot;, id_extern=&quot; + id_extern + &quot;, actiu=&quot; + actiu + &quot;, email_responsable=&quot;\r\n\t\t\t\t+ email_responsable + &quot;, usr_alta=&quot; + usr_alta + &quot;, usr_modificacio=&quot; + usr_modificacio + &quot;, usr_baixa=&quot;\r\n\t\t\t\t+ usr_baixa + &quot;, canal_pci=&quot; + canal_pci + &quot;, password=&quot; + password + &quot;, url_retorn=&quot; + url_retorn\r\n\t\t\t\t+ &quot;, timeout_3d=&quot; + timeout_3d + &quot;, reintent_3d_error=&quot; + reintent_3d_error + &quot;, url_notificacio=&quot;\r\n\t\t\t\t+ url_notificacio + &quot;}&quot;;\r\n\t}\r\n\r\n\r\n\r\n}\r\n\r\n```\r\nthis is my **canalrepo.java**\r\n\r\n```\r\npackage fcb.inetum.bo.repo;\r\n\r\nimport java.util.*;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\nimport fcb.inetum.bo.model.canal;\r\n\r\npublic interface canalrepo extends JpaRepository&lt;canal,String&gt; {\r\n\r\n\tvoid deleteCanalBycanal_codi(String canal_codi);\r\n\r\n\tOptional&lt;canal&gt; findCanalBycanal_codi(String canal_codi);\r\n\r\n}\r\n\r\n```\r\n**canalservice.java**\r\n```\r\npackage fcb.inetum.bo.service;\r\n\r\nimport java.util.List;\r\nimport java.util.UUID;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport fcb.inetum.bo.exceptions.CanalNotFoundException;\r\nimport fcb.inetum.bo.model.canal;\r\nimport fcb.inetum.bo.repo.canalrepo;\r\n\r\n@Service\r\npublic class canalService {\r\n\tprivate final canalrepo canalrepo;\r\n\r\n\t@Autowired\r\n\tpublic canalService(canalrepo canalrepo) {\r\n\t\tthis.canalrepo = canalrepo;\r\n\r\n\t}\r\n\r\n\tpublic canal AddCanal(canal canal) {\r\n\t\tcanal.setCodi_canal(UUID.randomUUID().toString());\r\n\t\treturn canalrepo.save(canal);\r\n\t}\r\n\r\n\tpublic List&lt;canal&gt; FindAllCanal() {\r\n\t\treturn canalrepo.findAll();\r\n\t}\r\n\r\n\tpublic canal UpdateCanal(canal canal) {\r\n\t\treturn canalrepo.save(canal);\r\n\t}\r\n\r\n\tpublic canal findCanalBycanal_codi(String canal_codi) {\r\n\t\treturn canalrepo.findCanalBycanal_codi(canal_codi)\r\n\t\t\t\t.orElseThrow(() -&gt; new CanalNotFoundException(&quot;Canal Con codi &quot;+canal_codi+&quot; not found&quot;));\r\n\t}\r\n\tpublic void DeleteCanal(String canal_codi) {\r\n\tcanalrepo.deleteCanalBycanal_codi(canal_codi);\r\n\t\r\n\t}\r\n\r\n}\r\n\r\n```\r\n**canalnotfound.java**\r\n```\r\npackage fcb.inetum.bo.exceptions;\r\n\r\npublic class CanalNotFoundException extends RuntimeException {\r\n\tpublic CanalNotFoundException(String message) {\r\n\r\n\t\tsuper(message);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n","title":"Spring boot Error creating bean with name &#39;canalRessource&#39; defined in file Unsatisfied dependency expressed through constructor parameter 0","body":"<p>When i run my java app this error occurs  : &quot; Error creating bean with name 'canalRessource' defined in file [C:\\project\\bo\\target\\classes\\fcb\\inetum\\bo\\CanalRessource.class]: Unsatisfied dependency expressed through constructor parameter 0;&quot;</p>\n<p>this my <strong>pom.xml</strong> :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.13&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;fcb.inetum&lt;/groupId&gt;\n    &lt;artifactId&gt;bo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;backoffice&lt;/name&gt;\n    &lt;description&gt;backoffice app&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\n            &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>this is my main app code:</p>\n<pre><code>package fcb.inetum.bo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class BackofficeApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(BackofficeApplication.class, args);\n    }\n\n}\n\n</code></pre>\n<p>this my <strong>canalressource.java</strong> :</p>\n<pre><code>package fcb.inetum.bo;\n\nimport java.util.List;\n\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.DeleteMapping;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.PutMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport fcb.inetum.bo.model.canal;\nimport fcb.inetum.bo.service.canalService;\n\n@RestController\n@RequestMapping(&quot;/canal&quot;)\npublic class CanalRessource {\n    private final canalService canalService;\n\n    public CanalRessource(canalService canalService) {\n\n        this.canalService = canalService;\n    }\n\n    @GetMapping(&quot;/all&quot;)\n    public ResponseEntity&lt;List&lt;canal&gt;&gt; getAllCanal() {\n        List&lt;canal&gt; canals = canalService.FindAllCanal();\n        return new ResponseEntity&lt;&gt;(canals, HttpStatus.OK);\n    }\n\n    @GetMapping(&quot;/find/{canal_codi}&quot;)\n    public ResponseEntity&lt;canal&gt; getCanalById(@PathVariable(&quot;canal_codi&quot;) String canal_codi) {\n        canal canal = canalService.findCanalBycanal_codi(canal_codi);\n        return new ResponseEntity&lt;&gt;(canal, HttpStatus.OK);\n    }\n\n@PostMapping(&quot;/add&quot;)\npublic ResponseEntity&lt;canal&gt;   AddCanal(@RequestBody canal canal)   {\n    canal newcanal =canalService.AddCanal(canal);\n    return new ResponseEntity&lt;&gt;(canal, HttpStatus.CREATED);\n}\n\n\n@PutMapping(&quot;/update&quot;)\npublic ResponseEntity&lt;canal&gt;   UpdateCanal(@RequestBody canal canal)   {\n    canal newcanal =canalService.UpdateCanal(canal);\n    return new ResponseEntity&lt;&gt;(canal, HttpStatus.OK);\n}\n\n\n@DeleteMapping(&quot;/delete/{canal_codi}&quot;)\npublic ResponseEntity&lt;?&gt; DeleteCanal(@PathVariable(&quot;canal_codi&quot;) String canal_codi) {\ncanalService.DeleteCanal(canal_codi);\n    return new ResponseEntity&lt;&gt;( HttpStatus.OK);\n}\n}\n\n</code></pre>\n<p>this is my <strong>canal.java</strong></p>\n<pre><code>package fcb.inetum.bo.model;\n\nimport javax.persistence.*;\nimport java.io.Serializable;\nimport java.util.*;\n\nimport javax.persistence.Entity;\nimport javax.persistence.*;\n\n@Entity\n@Table(name=&quot;canal&quot;)\npublic class canal implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private String codi_canal;\n    private String nom;\n    private int id_banc;\n    private String auto_revisio;\n    private Date data_alta;\n    private Date data_modificacio;\n    private Date data_baixa;\n    private String id_extern;\n    private String actiu;\n    private String email_responsable;\n    private String usr_alta;\n    private String usr_modificacio;\n    private String usr_baixa;\n    private String canal_pci;\n    private String password;\n    private String url_retorn;\n    private int timeout_3d;\n    private String reintent_3d_error;\n    private String url_notificacio;\n\n    public canal() {\n    }\n\n    public canal(String codi_canal, String nom, int id_banc, String auto_revisio, Date data_alta, Date data_modificacio,\n            Date data_baixa, String id_extern, String actiu, String email_responsable, String usr_alta,\n            String usr_modificacio, String usr_baixa, String canal_pci, String password, String url_retorn,\n            int timeout_3d, String reintent_3d_error, String url_notificacio) {\n\n        this.codi_canal = codi_canal;\n        this.nom = nom;\n        this.id_banc = id_banc;\n        this.auto_revisio = auto_revisio;\n        this.data_alta = data_alta;\n        this.data_modificacio = data_modificacio;\n        this.data_baixa = data_baixa;\n        this.id_extern = id_extern;\n        this.actiu = actiu;\n        this.email_responsable = email_responsable;\n        this.usr_alta = usr_alta;\n        this.usr_modificacio = usr_modificacio;\n        this.usr_baixa = usr_baixa;\n        this.canal_pci = canal_pci;\n        this.password = password;\n        this.url_retorn = url_retorn;\n        this.timeout_3d = timeout_3d;\n        this.reintent_3d_error = reintent_3d_error;\n        this.url_notificacio = url_notificacio;\n    }\n\n    public String getCodi_canal() {\n        return codi_canal;\n    }\n\n    public void setCodi_canal(String codi_canal) {\n        this.codi_canal = codi_canal;\n    }\n\n    public String getNom() {\n        return nom;\n    }\n\n    public void setNom(String nom) {\n        this.nom = nom;\n    }\n\n    public int getId_banc() {\n        return id_banc;\n    }\n\n    public void setId_banc(int id_banc) {\n        this.id_banc = id_banc;\n    }\n\n    public String getAuto_revisio() {\n        return auto_revisio;\n    }\n\n    public void setAuto_revisio(String auto_revisio) {\n        this.auto_revisio = auto_revisio;\n    }\n\n    public Date getData_alta() {\n        return data_alta;\n    }\n\n    public void setData_alta(Date data_alta) {\n        this.data_alta = data_alta;\n    }\n\n    public Date getData_modificacio() {\n        return data_modificacio;\n    }\n\n    public void setData_modificacio(Date data_modificacio) {\n        this.data_modificacio = data_modificacio;\n    }\n\n    public Date getData_baixa() {\n        return data_baixa;\n    }\n\n    public void setData_baixa(Date data_baixa) {\n        this.data_baixa = data_baixa;\n    }\n\n    public String getId_extern() {\n        return id_extern;\n    }\n\n    public void setId_extern(String id_extern) {\n        this.id_extern = id_extern;\n    }\n\n    public String getActiu() {\n        return actiu;\n    }\n\n    public void setActiu(String actiu) {\n        this.actiu = actiu;\n    }\n\n    public String getEmail_responsable() {\n        return email_responsable;\n    }\n\n    public void setEmail_responsable(String email_responsable) {\n        this.email_responsable = email_responsable;\n    }\n\n    public String getUsr_alta() {\n        return usr_alta;\n    }\n\n    public void setUsr_alta(String usr_alta) {\n        this.usr_alta = usr_alta;\n    }\n\n    public String getUsr_modificacio() {\n        return usr_modificacio;\n    }\n\n    public void setUsr_modificacio(String usr_modificacio) {\n        this.usr_modificacio = usr_modificacio;\n    }\n\n    public String getUsr_baixa() {\n        return usr_baixa;\n    }\n\n    public void setUsr_baixa(String usr_baixa) {\n        this.usr_baixa = usr_baixa;\n    }\n\n    public String getCanal_pci() {\n        return canal_pci;\n    }\n\n    public void setCanal_pci(String canal_pci) {\n        this.canal_pci = canal_pci;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public String getUrl_retorn() {\n        return url_retorn;\n    }\n\n    public void setUrl_retorn(String url_retorn) {\n        this.url_retorn = url_retorn;\n    }\n\n    public int getTimeout_3d() {\n        return timeout_3d;\n    }\n\n    public void setTimeout_3d(int timeout_3d) {\n        this.timeout_3d = timeout_3d;\n    }\n\n    public String getReintent_3d_error() {\n        return reintent_3d_error;\n    }\n\n    public void setReintent_3d_error(String reintent_3d_error) {\n        this.reintent_3d_error = reintent_3d_error;\n    }\n\n    public String getUrl_notificacio() {\n        return url_notificacio;\n    }\n\n    public void setUrl_notificacio(String url_notificacio) {\n        this.url_notificacio = url_notificacio;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;canal {codi_canal=&quot; + codi_canal + &quot;, nom=&quot; + nom + &quot;, id_banc=&quot; + id_banc + &quot;, auto_revisio=&quot;\n                + auto_revisio + &quot;, data_alta=&quot; + data_alta + &quot;, data_modificacio=&quot; + data_modificacio + &quot;, data_baixa=&quot;\n                + data_baixa + &quot;, id_extern=&quot; + id_extern + &quot;, actiu=&quot; + actiu + &quot;, email_responsable=&quot;\n                + email_responsable + &quot;, usr_alta=&quot; + usr_alta + &quot;, usr_modificacio=&quot; + usr_modificacio + &quot;, usr_baixa=&quot;\n                + usr_baixa + &quot;, canal_pci=&quot; + canal_pci + &quot;, password=&quot; + password + &quot;, url_retorn=&quot; + url_retorn\n                + &quot;, timeout_3d=&quot; + timeout_3d + &quot;, reintent_3d_error=&quot; + reintent_3d_error + &quot;, url_notificacio=&quot;\n                + url_notificacio + &quot;}&quot;;\n    }\n\n\n\n}\n\n</code></pre>\n<p>this is my <strong>canalrepo.java</strong></p>\n<pre><code>package fcb.inetum.bo.repo;\n\nimport java.util.*;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\n\nimport fcb.inetum.bo.model.canal;\n\npublic interface canalrepo extends JpaRepository&lt;canal,String&gt; {\n\n    void deleteCanalBycanal_codi(String canal_codi);\n\n    Optional&lt;canal&gt; findCanalBycanal_codi(String canal_codi);\n\n}\n\n</code></pre>\n<p><strong>canalservice.java</strong></p>\n<pre><code>package fcb.inetum.bo.service;\n\nimport java.util.List;\nimport java.util.UUID;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport fcb.inetum.bo.exceptions.CanalNotFoundException;\nimport fcb.inetum.bo.model.canal;\nimport fcb.inetum.bo.repo.canalrepo;\n\n@Service\npublic class canalService {\n    private final canalrepo canalrepo;\n\n    @Autowired\n    public canalService(canalrepo canalrepo) {\n        this.canalrepo = canalrepo;\n\n    }\n\n    public canal AddCanal(canal canal) {\n        canal.setCodi_canal(UUID.randomUUID().toString());\n        return canalrepo.save(canal);\n    }\n\n    public List&lt;canal&gt; FindAllCanal() {\n        return canalrepo.findAll();\n    }\n\n    public canal UpdateCanal(canal canal) {\n        return canalrepo.save(canal);\n    }\n\n    public canal findCanalBycanal_codi(String canal_codi) {\n        return canalrepo.findCanalBycanal_codi(canal_codi)\n                .orElseThrow(() -&gt; new CanalNotFoundException(&quot;Canal Con codi &quot;+canal_codi+&quot; not found&quot;));\n    }\n    public void DeleteCanal(String canal_codi) {\n    canalrepo.deleteCanalBycanal_codi(canal_codi);\n    \n    }\n\n}\n\n</code></pre>\n<p><strong>canalnotfound.java</strong></p>\n<pre><code>package fcb.inetum.bo.exceptions;\n\npublic class CanalNotFoundException extends RuntimeException {\n    public CanalNotFoundException(String message) {\n\n        super(message);\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java"],"owner":{"account_id":18709295,"reputation":41,"user_id":13639703,"display_name":"FirePizza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652683710,"creation_date":1652683710,"question_id":72255093,"body_markdown":"my stored procedure returns a table like below\r\n\r\n```\r\nno  |  name\r\n------------\r\n1   |  &#39;tom&#39;\r\n2   |  &#39;clark&#39;\r\n...\r\nmore rows....\r\n```\r\n\r\n\r\nand this colums has type like\r\n\r\n```\r\nno = int\r\nname = varchar\r\n```\r\n\r\nit always map **no** column into int.&lt;br/&gt;\r\nbut, I want to get **no** with long not int\r\n\r\n```\r\nclass Result {\r\n  long no;\r\n  String name;\r\n}\r\n```\r\nlike this pojo\r\n\r\n\r\n\r\nhow can I do this ?","title":"jpa stored procedure resultset type mapping","body":"<p>my stored procedure returns a table like below</p>\n<pre><code>no  |  name\n------------\n1   |  'tom'\n2   |  'clark'\n...\nmore rows....\n</code></pre>\n<p>and this colums has type like</p>\n<pre><code>no = int\nname = varchar\n</code></pre>\n<p>it always map <strong>no</strong> column into int.<br/>\nbut, I want to get <strong>no</strong> with long not int</p>\n<pre><code>class Result {\n  long no;\n  String name;\n}\n</code></pre>\n<p>like this pojo</p>\n<p>how can I do this ?</p>\n"},{"tags":["java","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":25289872,"reputation":11,"user_id":19116181,"display_name":"icurtis16"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652683536,"creation_date":1652641521,"answer_id":72251395,"question_id":72240878,"body_markdown":"Solved,\r\n\r\nI did mapping\r\n\r\n    @OneToMany(fetch = FetchType.EAGER)\r\n    @JoinColumns({\r\n        @JoinColumn(name=&quot;A_id&quot;, referencedColumnName=&quot;id&quot;)\r\n    })\r\n    List&lt;AB&gt; listAB;\r\n\r\nand it works like it should.\r\n","title":"Proper mapping ( JPA ) composite key","body":"<p>Solved,</p>\n<p>I did mapping</p>\n<pre><code>@OneToMany(fetch = FetchType.EAGER)\n@JoinColumns({\n    @JoinColumn(name=&quot;A_id&quot;, referencedColumnName=&quot;id&quot;)\n})\nList&lt;AB&gt; listAB;\n</code></pre>\n<p>and it works like it should.</p>\n"}],"owner":{"account_id":25289872,"reputation":11,"user_id":19116181,"display_name":"icurtis16"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652683536,"creation_date":1652536457,"question_id":72240878,"body_markdown":"For example i have \r\nentities \r\n\r\n    @Entity\r\n    public class A{\r\n    @Id\r\n    Long Id;\r\n    ...\r\n    }\r\n    @Entity\r\n    public class B{\r\n    @Id\r\n    Long Id;\r\n    ...\r\n    }\r\n    @Entity\r\n    @IdClass(ABId.class).\r\n    public class AB{\r\n    @Id\r\n    @ManyToOne\r\n    private A a;\r\n    @Id\r\n    @ManyToOne\r\n    private B b;\r\n    private boolean state;\r\n    \r\n    }\r\n    Class for composite primary key:\r\n    public ABId implements Serializable{\r\n    Long a;\r\n    Long b;\r\n    .........\r\n    }\r\n\r\n\r\n\r\nand i want to get from class A something like this select * from AB ab where ab.a_id=1; ( id from  A object)\r\n\r\ni did such mapping in class A\r\n\r\n    \t@OneToMany(fetch = FetchType.EAGER)\r\n    \t@JoinColumns({\r\n    \t    @JoinColumn(name=&quot;A_id&quot;, referencedColumnName=&quot;id&quot;),\r\n    \t    @JoinColumn(name=&quot;B_id&quot;, referencedColumnName=&quot;id&quot;)\r\n    \t})\r\n    List&lt;AB&gt; listAB;\r\n\r\nbut it does nothing i alawys get empty list.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Proper mapping ( JPA ) composite key","body":"<p>For example i have\nentities</p>\n<pre><code>@Entity\npublic class A{\n@Id\nLong Id;\n...\n}\n@Entity\npublic class B{\n@Id\nLong Id;\n...\n}\n@Entity\n@IdClass(ABId.class).\npublic class AB{\n@Id\n@ManyToOne\nprivate A a;\n@Id\n@ManyToOne\nprivate B b;\nprivate boolean state;\n\n}\nClass for composite primary key:\npublic ABId implements Serializable{\nLong a;\nLong b;\n.........\n}\n</code></pre>\n<p>and i want to get from class A something like this select * from AB ab where ab.a_id=1; ( id from  A object)</p>\n<p>i did such mapping in class A</p>\n<pre><code>    @OneToMany(fetch = FetchType.EAGER)\n    @JoinColumns({\n        @JoinColumn(name=&quot;A_id&quot;, referencedColumnName=&quot;id&quot;),\n        @JoinColumn(name=&quot;B_id&quot;, referencedColumnName=&quot;id&quot;)\n    })\nList&lt;AB&gt; listAB;\n</code></pre>\n<p>but it does nothing i alawys get empty list.</p>\n"},{"tags":["java","rest","jwt","okhttp","objectmapper"],"answers":[{"tags":[],"owner":{"account_id":9296154,"reputation":106,"user_id":6902993,"display_name":"sansay61"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652681352,"creation_date":1652679212,"answer_id":72254539,"question_id":72254399,"body_markdown":"Usually response.getBody is a representation of the response itself. You need get a string representation of it and to deserialize it to an appropriate model with Jackson or gson. The next step is to extract a token from the model and pass it as an Authorization header.","title":"How to set JWT to Bearer authorization","body":"<p>Usually response.getBody is a representation of the response itself. You need get a string representation of it and to deserialize it to an appropriate model with Jackson or gson. The next step is to extract a token from the model and pass it as an Authorization header.</p>\n"}],"owner":{"account_id":11321777,"reputation":3,"user_id":8301938,"display_name":"DasGuin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1090,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652683107,"creation_date":1652677872,"question_id":72254399,"body_markdown":"I have to call an api endpoint that requires Bearer authentication. For the authentication token, I called another endpoint that will return a jwt in the request body. I&#39;m new to api and have an issue how to get this jwt available in request body and map to Bearer\r\n\r\nFollowing is my authentication call request for jwt token,\r\n\r\n    public String getAuthToken() {\r\n\t   OkHttpClient authClient = new OkHttpClient().newBuilder()\r\n\t\t   .build();\r\n\t\t MediaType mediaType = MediaType.parse(&quot;application/json&quot;);\r\n\t\t RequestBody body = RequestBody.create(mediaType, &quot;{\\r\\n\\&quot;grant_type\\&quot;: \\&quot;password\\&quot;,\\r\\n\\&quot;username\\&quot;: \\&quot;vmnadmin|rvbsu\\&quot;,\\r\\n\\&quot;connection\\&quot;: \\&quot;local_account\\&quot;,\\r\\n\\&quot;password\\&quot;: \\&quot;Pqltuv\\&quot;,\\r\\n\\&quot;domain\\&quot;: \\&quot;\\&quot;,\\r\\n\\&quot;auth_domain\\&quot;: \\&quot;\\&quot;,\\r\\n\\&quot;refresh_token_revoke_unused_in\\&quot;: 60\\r\\n  \\r\\n}&quot;);\r\n\t\t Request request = new Request.Builder()\r\n\t\t   .url(&quot;https://smqp.vpsis.app/api/smv/auth/tokens/&quot;)\r\n\t\t   .method(&quot;POST&quot;, body)\r\n\t\t   .addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n\t\t   .build();\r\n\t\t Response response = null;\r\n\t\ttry {\r\n\t\t\tresponse = authClient.newCall(request).execute();\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\nFollowing is my Patch method which will change the assureId\r\n\r\n    \t\t   OkHttpClient client = new OkHttpClient().newBuilder()\r\n\t\t\t\t   .build();\r\n\t\t\t\t MediaType mediaType = MediaType.parse(&quot;application/json&quot;);\r\n\t\t\t\t RequestBody body = RequestBody.create(mediaType, &quot;{\\r\\n  \\r\\n\\&quot;meta\\&quot;: {\\r\\n    \\&quot;assureId\\&quot;: \\&quot;rmsuv|srv.emsdv\\&quot;\\r\\n  }\\r\\n\\r\\n  \\r\\n}&quot;);\r\n\t\t\t\t Request request = new Request.Builder()\r\n\t\t\t\t   .url(&quot;https://smqp.vpsis.app/api/smv/file/secure2/newsecure.rvmct&quot;)\r\n\t\t\t\t   .method(&quot;PATCH&quot;, body)\r\n\t\t\t\t   .addHeader(&quot;Authorization&quot;, &quot;Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiIwM2ExMjU5NC0zYzFiLTQwOGItYjY5NC01NGE0MzM1ZTEwZTIiLCJzdWIiOiJla21hZG1pbnN8YWRhc2lkYSIsImlzcyI6Imt5bG8iLCJhY2MiOiJreWxvIiwicHJlZmVycmVkX3VzZXJuYW1lIjo&quot;)\r\n\t\t\t\t   .addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n\t\t\t\t   .build();\r\n\t\t\t\t try {\r\n\t\t\t\t\tResponse response = client.newCall(request).execute();\r\n\t\t\t\t\t  System.out.println(response);\r\n\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t} \r\n\r\nAfter getting JWT from 1st method, I need to apply that JWT to Bearer. I have an issue with  how to get this jwt available in request body and map to Bearer. Please let me know if there any efficient way to invoke this request.","title":"How to set JWT to Bearer authorization","body":"<p>I have to call an api endpoint that requires Bearer authentication. For the authentication token, I called another endpoint that will return a jwt in the request body. I'm new to api and have an issue how to get this jwt available in request body and map to Bearer</p>\n<p>Following is my authentication call request for jwt token,</p>\n<pre><code>public String getAuthToken() {\n   OkHttpClient authClient = new OkHttpClient().newBuilder()\n       .build();\n     MediaType mediaType = MediaType.parse(&quot;application/json&quot;);\n     RequestBody body = RequestBody.create(mediaType, &quot;{\\r\\n\\&quot;grant_type\\&quot;: \\&quot;password\\&quot;,\\r\\n\\&quot;username\\&quot;: \\&quot;vmnadmin|rvbsu\\&quot;,\\r\\n\\&quot;connection\\&quot;: \\&quot;local_account\\&quot;,\\r\\n\\&quot;password\\&quot;: \\&quot;Pqltuv\\&quot;,\\r\\n\\&quot;domain\\&quot;: \\&quot;\\&quot;,\\r\\n\\&quot;auth_domain\\&quot;: \\&quot;\\&quot;,\\r\\n\\&quot;refresh_token_revoke_unused_in\\&quot;: 60\\r\\n  \\r\\n}&quot;);\n     Request request = new Request.Builder()\n       .url(&quot;https://smqp.vpsis.app/api/smv/auth/tokens/&quot;)\n       .method(&quot;POST&quot;, body)\n       .addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\n       .build();\n     Response response = null;\n    try {\n        response = authClient.newCall(request).execute();\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n</code></pre>\n<p>Following is my Patch method which will change the assureId</p>\n<pre><code>           OkHttpClient client = new OkHttpClient().newBuilder()\n               .build();\n             MediaType mediaType = MediaType.parse(&quot;application/json&quot;);\n             RequestBody body = RequestBody.create(mediaType, &quot;{\\r\\n  \\r\\n\\&quot;meta\\&quot;: {\\r\\n    \\&quot;assureId\\&quot;: \\&quot;rmsuv|srv.emsdv\\&quot;\\r\\n  }\\r\\n\\r\\n  \\r\\n}&quot;);\n             Request request = new Request.Builder()\n               .url(&quot;https://smqp.vpsis.app/api/smv/file/secure2/newsecure.rvmct&quot;)\n               .method(&quot;PATCH&quot;, body)\n               .addHeader(&quot;Authorization&quot;, &quot;Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiIwM2ExMjU5NC0zYzFiLTQwOGItYjY5NC01NGE0MzM1ZTEwZTIiLCJzdWIiOiJla21hZG1pbnN8YWRhc2lkYSIsImlzcyI6Imt5bG8iLCJhY2MiOiJreWxvIiwicHJlZmVycmVkX3VzZXJuYW1lIjo&quot;)\n               .addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\n               .build();\n             try {\n                Response response = client.newCall(request).execute();\n                  System.out.println(response);\n            } catch (IOException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            } \n</code></pre>\n<p>After getting JWT from 1st method, I need to apply that JWT to Bearer. I have an issue with  how to get this jwt available in request body and map to Bearer. Please let me know if there any efficient way to invoke this request.</p>\n"},{"tags":["java","fortify"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1652682940,"post_id":72254908,"comment_id":127655898,"body_markdown":"What you describe those fields to contain is what they are thought for. However, since both locale and x-forwarded-for are basically text values a client could write almost anything into them. So if there is no validation you&#39;d basically get those texts sent by the client and put them into your logs. You could test this with a simple endpoint that does some logging, calling it via Postman etc. and setting values for those headers yourself.","body":"What you describe those fields to contain is what they are thought for. However, since both locale and x-forwarded-for are basically text values a client could write almost anything into them. So if there is no validation you&#39;d basically get those texts sent by the client and put them into your logs. You could test this with a simple endpoint that does some logging, calling it via Postman etc. and setting values for those headers yourself."},{"owner":{"account_id":5907283,"reputation":1464,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":0,"creation_date":1652685304,"post_id":72254908,"comment_id":127656538,"body_markdown":"you can test the header by using curl, something like `curl -X GET &quot;http://your-website.com/&quot; -H &quot;X-forward-for: lorem-ipsum-test&quot;`.","body":"you can test the header by using curl, something like <code>curl -X GET &quot;http:&#47;&#47;your-website.com&#47;&quot; -H &quot;X-forward-for: lorem-ipsum-test&quot;</code>."},{"owner":{"account_id":1662902,"reputation":455,"user_id":1530836,"accept_rate":93,"display_name":"Kaninchen"},"score":0,"creation_date":1652689663,"post_id":72254908,"comment_id":127657859,"body_markdown":"@Thomas but getLocale() function should be able to limit it as locale only, isn&#39;t it? since java have limited its input, or it doesn&#39;t?","body":"@Thomas but getLocale() function should be able to limit it as locale only, isn&#39;t it? since java have limited its input, or it doesn&#39;t?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1652701338,"post_id":72254908,"comment_id":127661656,"body_markdown":"No, Java itself allows for arbitrary locale strings, try `System.out.println(new Locale(&quot;forged log&quot;));`. Parsing from requests might apply _some_ logic so you can&#39;t put everything but you should still be able to get non-locale identifiers into a `Locale` instance.","body":"No, Java itself allows for arbitrary locale strings, try <code>System.out.println(new Locale(&quot;forged log&quot;));</code>. Parsing from requests might apply <i>some</i> logic so you can&#39;t put everything but you should still be able to get non-locale identifiers into a <code>Locale</code> instance."}],"owner":{"account_id":1662902,"reputation":455,"user_id":1530836,"accept_rate":93,"display_name":"Kaninchen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652682381,"creation_date":1652682381,"question_id":72254908,"body_markdown":"I have my JavaEE code scanned by Fortify SCA, it have reported that my httpServletRequest .getLocale() and httpservletRequest.getHeader(&quot;X-forward-for&quot;) could cause log forging. Based on my knowledge, getLocale() would limit its data to locale type only, and X-forward-for field could only put IP. So there is NO WAY they could cause any &quot;Log forging&quot;.\r\n\r\nSo I&#39;d like to ask will they actually could be used for log forging? or this is just another Fortify&#39;s low-end programmer &quot;think&quot; it would?","title":"Will X-Forward-for and Accept-Language fields could be used for log forging?","body":"<p>I have my JavaEE code scanned by Fortify SCA, it have reported that my httpServletRequest .getLocale() and httpservletRequest.getHeader(&quot;X-forward-for&quot;) could cause log forging. Based on my knowledge, getLocale() would limit its data to locale type only, and X-forward-for field could only put IP. So there is NO WAY they could cause any &quot;Log forging&quot;.</p>\n<p>So I'd like to ask will they actually could be used for log forging? or this is just another Fortify's low-end programmer &quot;think&quot; it would?</p>\n"},{"tags":["java","android","multithreading"],"comments":[{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":1,"creation_date":1652547195,"post_id":72241859,"comment_id":127634763,"body_markdown":"So please show us you code of your so-called &#39;bitmap work&#39;. There&#39;s probably some resource conflict / race conditions involved. Create a minimal runnable example for us.","body":"So please show us you code of your so-called &#39;bitmap work&#39;. There&#39;s probably some resource conflict / race conditions involved. Create a minimal runnable example for us."},{"owner":{"account_id":21705586,"reputation":73,"user_id":16018097,"display_name":"Akash Kumar"},"score":0,"creation_date":1652624894,"post_id":72241859,"comment_id":127645948,"body_markdown":"@JayC667 updated the question with actual code","body":"@JayC667 updated the question with actual code"}],"answers":[{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652643401,"creation_date":1652643401,"answer_id":72251619,"question_id":72241859,"body_markdown":"I am truly sorry I cannot directly help you. I do not know the inner workings of the PdfRenderer. I assume three things might pose the problem:\r\n\r\n1) PdfRenderer has a deadlock somewhere inside its library. Unlikely.\r\n\r\n2) Your file I/O is so complex, that writing multiple files in parallel simply takes 100 times longer. Remember the old Compact Disk (CD)? When reading one source you had full speed, as soon as 2+ processes read, it became exponentially slow (not HALF as fast, but rather 20 times slower for 2 processes). I think this is the most likely reason.\r\n\r\n3) There&#39;s an I/O error happening somewhere deep inside the PdfRenderer. Maybe it&#39;s opening too many file handles or whatever, leading to an unexpected crash that simply stalls execution right where it is.\r\n\r\nSo the only thing I can give you is this: analyse if any of the processes work (at least slowly). There are probably some frameworks for that, but I don&#39;t know them. There&#39;s also a lot of tools that can analyze JVMs at runtime. Here is a simpler solution to it:\r\n\r\nCheck in what state each of the Threads is, and if they change methods at all. This is purely visual right now:\r\n- check out/use the code below. run it as-is\r\n- you will see that each thread changes task/state from time to time\r\n- if you like it, add my file to your project.\r\n- adjust your code (see my main() method)\r\n- reduce/limit the pool size to 3 or 4\r\n- The console output will visually show you if there are any changes in any of the thread.\r\n- if there are no changes at all, then the pdf lib is stuck\r\n- if there are repeating changes, but nothing progresses longterm, the lib is caught in a loop of death\r\n\r\nThe Code:\r\n\r\n    package stackoverflow;\r\n    \r\n    import java.util.Collections;\r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    import java.util.concurrent.ExecutorService;\r\n    import java.util.concurrent.Executors;\r\n    import java.util.concurrent.Future;\r\n    \r\n    public class SimpleThreadpoolAnalysis {\r\n    \r\n    \tstatic private final long sStartMS = System.currentTimeMillis();\r\n    \r\n    \tstatic public long now() {\r\n    \t\treturn System.currentTimeMillis() - sStartMS;\r\n    \t}\r\n    \r\n    \tstatic public void sleep(final long pMS) {\r\n    \t\ttry {\r\n    \t\t\tThread.sleep(pMS);\r\n    \t\t} catch (final InterruptedException e) { /* */ }\r\n    \t}\r\n    \r\n    \r\n    \r\n    \tprivate final Set&lt;Thread&gt; mWorkingThreads = Collections.synchronizedSet(new HashSet&lt;&gt;());\r\n    \r\n    \tprivate int mPrintStackDepth = 5;\r\n    \r\n    \tpublic void setPrintStackDepth(final int pPrintStackDepth) {\r\n    \t\tmPrintStackDepth = pPrintStackDepth;\r\n    \t}\r\n    \r\n    \tpublic void runChecked(final Runnable pLambda) {\r\n    \t\tif (pLambda == null) return;\r\n    \r\n    \t\tfinal Thread currentThread = Thread.currentThread();\r\n    \t\ttry {\r\n    \t\t\tSystem.out.println(&quot;SimpleThreadpoolAnalysis.runChecked() adding thread &quot; + currentThread.getName());\r\n    \t\t\tmWorkingThreads.add(currentThread);\r\n    \t\t\tpLambda.run();\r\n    \t\t} finally {\r\n    \t\t\tSystem.out.println(&quot;SimpleThreadpoolAnalysis.runChecked() removing thread &quot; + currentThread.getName());\r\n    \t\t\tmWorkingThreads.remove(currentThread);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void printMiniStackTraces() {\r\n    \t\tSystem.out.println(&quot;Working Threads at &quot; + now());\r\n    \r\n    \t\tfor (final Thread t : mWorkingThreads) {\r\n    \t\t\tSystem.out.println(&quot;\\tThread &quot; + t.getId() + &quot;: &quot; + t.getName());\r\n    \t\t\tfinal StackTraceElement[] st = t.getStackTrace();\r\n    \t\t\tfor (int i = 0; i &lt; Math.min(st.length, mPrintStackDepth); i++) {\r\n    \t\t\t\tSystem.out.println(&quot;\\t\\t&quot; + st[i]);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic Thread runSupervisorThread(final int pUpdateEveryXMs, final long pDurationMS) {\r\n    \t\tSystem.out.println(&quot;Supervisor Thread starting...&quot;);\r\n    \t\tfinal Thread t = new Thread(() -&gt; runSupervisorThread_(pUpdateEveryXMs, pDurationMS), &quot;Pool Supervisor Thread&quot;);\r\n    \t\tt.setDaemon(true);\r\n    \t\tt.start();\r\n    \t\treturn t;\r\n    \t}\r\n    \tprivate void runSupervisorThread_(final int pUpdateEveryXMs, final long pDurationMS) {\r\n    \t\tSystem.out.println(&quot;Supervisor Thread starting...&quot;);\r\n    \t\tfinal int NUMBER_OF_RUNS = (int) (pDurationMS / pUpdateEveryXMs);\r\n    \t\tfor (int i = 0; i &lt; NUMBER_OF_RUNS; i++) {\r\n    \t\t\tSystem.out.flush();\r\n    \t\t\tsleep(pUpdateEveryXMs);\r\n    \t\t\tprintMiniStackTraces();\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;Supervisor Thread ending...&quot;);\r\n    \t}\r\n    \r\n    \r\n    \r\n    \t// this is my dummy class. you can remove this once you use it on your code\r\n    \tstatic public class TestWorker implements Runnable {\r\n    \t\t@Override public void run() {\r\n    \t\t\twhile (true) {\r\n    \t\t\t\t//\t\t\t\tfinal int no =\r\n    \t\t\t\tsubDelegator();\r\n    \t\t\t\t//\t\t\t\tSystem.out.println(&quot;Got  &quot; + no);\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tprivate int subDelegator() {\r\n    \t\t\tSimpleThreadpoolAnalysis.sleep((long) (Math.random() * 1000));\r\n    \r\n    \t\t\tfinal int randomIndex = (int) (Math.random() * 10);\r\n    \t\t\tswitch (randomIndex) {\r\n    \t\t\t\tcase 0:\r\n    \t\t\t\t\treturn run_0();\r\n    \t\t\t\tcase 1:\r\n    \t\t\t\t\treturn run_1();\r\n    \t\t\t\tcase 2:\r\n    \t\t\t\t\treturn run_2();\r\n    \t\t\t\tcase 3:\r\n    \t\t\t\t\treturn run_3();\r\n    \t\t\t\tcase 4:\r\n    \t\t\t\t\treturn run_4();\r\n    \t\t\t\tcase 5:\r\n    \t\t\t\t\treturn run_5();\r\n    \t\t\t\tdefault:\r\n    \t\t\t\t\treturn -1;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tprivate int run_0() {\r\n    \t\t\tSimpleThreadpoolAnalysis.sleep(500);\r\n    \t\t\treturn 0;\r\n    \t\t}\r\n    \t\tprivate int run_1() {\r\n    \t\t\tSimpleThreadpoolAnalysis.sleep(1000);\r\n    \t\t\treturn 1;\r\n    \t\t}\r\n    \t\tprivate int run_2() {\r\n    \t\t\tSimpleThreadpoolAnalysis.sleep(2000);\r\n    \t\t\treturn 2;\r\n    \t\t}\r\n    \t\tprivate int run_3() {\r\n    \t\t\tSimpleThreadpoolAnalysis.sleep(3000);\r\n    \t\t\treturn 3;\r\n    \t\t}\r\n    \t\tprivate int run_4() {\r\n    \t\t\tSimpleThreadpoolAnalysis.sleep(4000);\r\n    \t\t\treturn 4;\r\n    \t\t}\r\n    \t\tprivate int run_5() {\r\n    \t\t\tSimpleThreadpoolAnalysis.sleep(5000);\r\n    \t\t\treturn 5;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \r\n    \r\n    \tpublic static void main(final String[] args) {\r\n    \t\tfinal SimpleThreadpoolAnalysis sta = new SimpleThreadpoolAnalysis();\r\n    \t\tsta.runSupervisorThread(100, 60000); // will run for a minute, updating every 100ms\r\n    \t\t// this will run a in background thread, so if other threads are done, this will end automatically, too\r\n    \r\n    \t\tfinal int cores = Runtime.getRuntime().availableProcessors();\r\n    \t\tfinal ExecutorService executor = Executors.newFixedThreadPool(cores + 1);\r\n    \t\tfinal int totalPages = 10;\r\n    \t\tfor (int i = 0; i &lt; totalPages; i++) {\r\n    \t\t\t// my code:\r\n    \t\t\t//\t\t\tfinal Runnable runnable = new TestWorker(); // this would be the normal call\r\n    \t\t\tfinal Runnable runnable = new TestWorker(); // this is the checked version\r\n    \r\n    \t\t\t// your code: enable this, comment out my line above\r\n    \t\t\t//final Runnable runnable = () -&gt; { /* your bitmap work */ }; // use this, just like in your code\r\n    \r\n    \t\t\tfinal Runnable checkedRunnable = () -&gt; sta.runChecked(runnable); // this is the checked version\r\n    \t\t\tfinal Future&lt;?&gt; future = executor.submit(checkedRunnable);\r\n    \t\t\t// ... some more of your code ...\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \r\n    \r\n    }\r\n\r\n\r\n\r\nI hope this helps you a bit.","title":"Executor pauses and doesn&#39;t process pending queues","body":"<p>I am truly sorry I cannot directly help you. I do not know the inner workings of the PdfRenderer. I assume three things might pose the problem:</p>\n<ol>\n<li><p>PdfRenderer has a deadlock somewhere inside its library. Unlikely.</p>\n</li>\n<li><p>Your file I/O is so complex, that writing multiple files in parallel simply takes 100 times longer. Remember the old Compact Disk (CD)? When reading one source you had full speed, as soon as 2+ processes read, it became exponentially slow (not HALF as fast, but rather 20 times slower for 2 processes). I think this is the most likely reason.</p>\n</li>\n<li><p>There's an I/O error happening somewhere deep inside the PdfRenderer. Maybe it's opening too many file handles or whatever, leading to an unexpected crash that simply stalls execution right where it is.</p>\n</li>\n</ol>\n<p>So the only thing I can give you is this: analyse if any of the processes work (at least slowly). There are probably some frameworks for that, but I don't know them. There's also a lot of tools that can analyze JVMs at runtime. Here is a simpler solution to it:</p>\n<p>Check in what state each of the Threads is, and if they change methods at all. This is purely visual right now:</p>\n<ul>\n<li>check out/use the code below. run it as-is</li>\n<li>you will see that each thread changes task/state from time to time</li>\n<li>if you like it, add my file to your project.</li>\n<li>adjust your code (see my main() method)</li>\n<li>reduce/limit the pool size to 3 or 4</li>\n<li>The console output will visually show you if there are any changes in any of the thread.</li>\n<li>if there are no changes at all, then the pdf lib is stuck</li>\n<li>if there are repeating changes, but nothing progresses longterm, the lib is caught in a loop of death</li>\n</ul>\n<p>The Code:</p>\n<pre><code>package stackoverflow;\n\nimport java.util.Collections;\nimport java.util.HashSet;\nimport java.util.Set;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.Future;\n\npublic class SimpleThreadpoolAnalysis {\n\n    static private final long sStartMS = System.currentTimeMillis();\n\n    static public long now() {\n        return System.currentTimeMillis() - sStartMS;\n    }\n\n    static public void sleep(final long pMS) {\n        try {\n            Thread.sleep(pMS);\n        } catch (final InterruptedException e) { /* */ }\n    }\n\n\n\n    private final Set&lt;Thread&gt; mWorkingThreads = Collections.synchronizedSet(new HashSet&lt;&gt;());\n\n    private int mPrintStackDepth = 5;\n\n    public void setPrintStackDepth(final int pPrintStackDepth) {\n        mPrintStackDepth = pPrintStackDepth;\n    }\n\n    public void runChecked(final Runnable pLambda) {\n        if (pLambda == null) return;\n\n        final Thread currentThread = Thread.currentThread();\n        try {\n            System.out.println(&quot;SimpleThreadpoolAnalysis.runChecked() adding thread &quot; + currentThread.getName());\n            mWorkingThreads.add(currentThread);\n            pLambda.run();\n        } finally {\n            System.out.println(&quot;SimpleThreadpoolAnalysis.runChecked() removing thread &quot; + currentThread.getName());\n            mWorkingThreads.remove(currentThread);\n        }\n    }\n\n    public void printMiniStackTraces() {\n        System.out.println(&quot;Working Threads at &quot; + now());\n\n        for (final Thread t : mWorkingThreads) {\n            System.out.println(&quot;\\tThread &quot; + t.getId() + &quot;: &quot; + t.getName());\n            final StackTraceElement[] st = t.getStackTrace();\n            for (int i = 0; i &lt; Math.min(st.length, mPrintStackDepth); i++) {\n                System.out.println(&quot;\\t\\t&quot; + st[i]);\n            }\n        }\n    }\n\n    public Thread runSupervisorThread(final int pUpdateEveryXMs, final long pDurationMS) {\n        System.out.println(&quot;Supervisor Thread starting...&quot;);\n        final Thread t = new Thread(() -&gt; runSupervisorThread_(pUpdateEveryXMs, pDurationMS), &quot;Pool Supervisor Thread&quot;);\n        t.setDaemon(true);\n        t.start();\n        return t;\n    }\n    private void runSupervisorThread_(final int pUpdateEveryXMs, final long pDurationMS) {\n        System.out.println(&quot;Supervisor Thread starting...&quot;);\n        final int NUMBER_OF_RUNS = (int) (pDurationMS / pUpdateEveryXMs);\n        for (int i = 0; i &lt; NUMBER_OF_RUNS; i++) {\n            System.out.flush();\n            sleep(pUpdateEveryXMs);\n            printMiniStackTraces();\n        }\n        System.out.println(&quot;Supervisor Thread ending...&quot;);\n    }\n\n\n\n    // this is my dummy class. you can remove this once you use it on your code\n    static public class TestWorker implements Runnable {\n        @Override public void run() {\n            while (true) {\n                //              final int no =\n                subDelegator();\n                //              System.out.println(&quot;Got  &quot; + no);\n            }\n        }\n\n        private int subDelegator() {\n            SimpleThreadpoolAnalysis.sleep((long) (Math.random() * 1000));\n\n            final int randomIndex = (int) (Math.random() * 10);\n            switch (randomIndex) {\n                case 0:\n                    return run_0();\n                case 1:\n                    return run_1();\n                case 2:\n                    return run_2();\n                case 3:\n                    return run_3();\n                case 4:\n                    return run_4();\n                case 5:\n                    return run_5();\n                default:\n                    return -1;\n            }\n        }\n        private int run_0() {\n            SimpleThreadpoolAnalysis.sleep(500);\n            return 0;\n        }\n        private int run_1() {\n            SimpleThreadpoolAnalysis.sleep(1000);\n            return 1;\n        }\n        private int run_2() {\n            SimpleThreadpoolAnalysis.sleep(2000);\n            return 2;\n        }\n        private int run_3() {\n            SimpleThreadpoolAnalysis.sleep(3000);\n            return 3;\n        }\n        private int run_4() {\n            SimpleThreadpoolAnalysis.sleep(4000);\n            return 4;\n        }\n        private int run_5() {\n            SimpleThreadpoolAnalysis.sleep(5000);\n            return 5;\n        }\n    }\n\n\n\n    public static void main(final String[] args) {\n        final SimpleThreadpoolAnalysis sta = new SimpleThreadpoolAnalysis();\n        sta.runSupervisorThread(100, 60000); // will run for a minute, updating every 100ms\n        // this will run a in background thread, so if other threads are done, this will end automatically, too\n\n        final int cores = Runtime.getRuntime().availableProcessors();\n        final ExecutorService executor = Executors.newFixedThreadPool(cores + 1);\n        final int totalPages = 10;\n        for (int i = 0; i &lt; totalPages; i++) {\n            // my code:\n            //          final Runnable runnable = new TestWorker(); // this would be the normal call\n            final Runnable runnable = new TestWorker(); // this is the checked version\n\n            // your code: enable this, comment out my line above\n            //final Runnable runnable = () -&gt; { /* your bitmap work */ }; // use this, just like in your code\n\n            final Runnable checkedRunnable = () -&gt; sta.runChecked(runnable); // this is the checked version\n            final Future&lt;?&gt; future = executor.submit(checkedRunnable);\n            // ... some more of your code ...\n        }\n\n    }\n\n\n\n}\n</code></pre>\n<p>I hope this helps you a bit.</p>\n"},{"tags":[],"owner":{"account_id":21705586,"reputation":73,"user_id":16018097,"display_name":"Akash Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652682358,"creation_date":1652682358,"answer_id":72254904,"question_id":72241859,"body_markdown":"Turns out the issue was I was closing the pdf page before recycling the bitmap.\r\n\r\n    page.close();\r\n    .....\r\n    pageBitmap.recycle();\r\n\r\nI moved the `page.close()` after recycling bitmap and the thread is no longer hanging up\r\n\r\n    pageBitmap.recycle();\r\n    page.close();\r\n\r\n\r\n","title":"Executor pauses and doesn&#39;t process pending queues","body":"<p>Turns out the issue was I was closing the pdf page before recycling the bitmap.</p>\n<pre><code>page.close();\n.....\npageBitmap.recycle();\n</code></pre>\n<p>I moved the <code>page.close()</code> after recycling bitmap and the thread is no longer hanging up</p>\n<pre><code>pageBitmap.recycle();\npage.close();\n</code></pre>\n"}],"owner":{"account_id":21705586,"reputation":73,"user_id":16018097,"display_name":"Akash Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72254904,"answer_count":2,"score":2,"last_activity_date":1652682358,"creation_date":1652543647,"question_id":72241859,"body_markdown":"I have a long-running task of creating a bitmap saving it and recreating more bitmaps which I was doing on a single background thread\r\n\r\n    ExecutorService executor = Executors.newSingleThreadExecutor();\r\n    Handler handler = new Handler(Looper.getMainLooper());\r\n    executor.execute(() -&gt; {...bitmap work ...}\r\n\r\nBut it&#39;s taking really long time to process all the bitmaps so I created a thread pool to use multithreading to speed up the task.\r\n\r\n    private final int cores = Runtime.getRuntime().availableProcessors();\r\n    private final ExecutorService executor = Executors.newFixedThreadPool(cores + 1);\r\n    for (int i = 0; i &lt; totalPage; i++) {    \r\n        Runnable runnable = () -&gt; {...bitmap work ...}\r\n        executor.submit(runnable);\r\n    }\r\n\r\n\r\nBut whenever I am using more than 1 thread it gets stuck randomly on some task(say 7 out of 127) there is no error or anything it just doesn&#39;t process any more tasks. I can view the pending task in the executor queue. But If I changed the thread pool to use 1 thread, it works without any problem and processes all tasks.\r\n\r\nHere is the full actual code\r\n\r\n    ExecutorService executor = Executors.newFixedThreadPool(cores + 1);\r\n            List&lt;Future&lt;?&gt;&gt; futureList = new ArrayList&lt;&gt;();\r\n            boolean allDone = false;\r\n    \r\n            try {\r\n                //Convert pdf to Bitmap\r\n                ParcelFileDescriptor parcelFileDescriptor = ParcelFileDescriptor.open(new File(pdfFileName), ParcelFileDescriptor.MODE_READ_ONLY);\r\n                PdfRenderer pdfRenderer = new PdfRenderer(parcelFileDescriptor);\r\n                int totalPage = pdfRenderer.getPageCount();\r\n    \r\n                final int[] counter = {1};\r\n                for (int i = 0; i &lt; totalPage; i++) {\r\n                    int finalI = i;\r\n                    String finalOriginalPdfName = originalPdfName;\r\n                    String finalGeneratedPdfName = generatedPdfName;\r\n                    Runnable runnable = () -&gt; {\r\n                        //pd.setMessage(&quot;Processing page &quot; + (finalI + 1) + &quot; of &quot; + totalPage);\r\n                        PdfRenderer.Page page = pdfRenderer.openPage(finalI);\r\n    \r\n                        Bitmap pageBitmap = Bitmap.createBitmap((300 * page.getWidth()) / 72, (300 * page.getHeight()) / 72, Bitmap.Config.ARGB_8888);\r\n                        Canvas canvas = new Canvas(pageBitmap);\r\n                        canvas.drawColor(Color.WHITE);\r\n                        canvas.drawBitmap(pageBitmap, 0, 0, null);\r\n                        page.render(pageBitmap, null, null, PdfRenderer.Page.RENDER_MODE_FOR_PRINT);\r\n                        page.close();\r\n    \r\n    \r\n                        //Crop bitmaps and temporarily store on app data directory\r\n    \r\n                        for (int k = 0; k &lt; SlipBoundingBox.Y.length; k++) {\r\n                            for (int j = 0; j &lt; SlipBoundingBox.X.length; j++) {\r\n                                Bitmap slipBitmap = Bitmap.createBitmap(pageBitmap, SlipBoundingBox.X[j], SlipBoundingBox.Y[k], SlipBoundingBox.WIDTH, SlipBoundingBox.HEIGHT);\r\n                                //Filename formation originalPdfName_generatePdfName_pdfPageIndex_x_y.extension\r\n                                File slip = new File(\r\n                                        getExternalFilesDir(&quot;slips&quot;)\r\n                                                + &quot;/&quot;\r\n                                                + finalOriginalPdfName\r\n                                                + &quot;_&quot;\r\n                                                + finalGeneratedPdfName\r\n                                                + &quot;_&quot;\r\n                                                + finalI +\r\n                                                &quot;_&quot;\r\n                                                + SlipBoundingBox.X[j]\r\n                                                + &quot;_&quot;\r\n                                                + SlipBoundingBox.Y[k]\r\n                                                + &quot;_.jpg&quot;);\r\n                                try (FileOutputStream out1 = new FileOutputStream(slip)) {\r\n                                    slipBitmap.compress(Bitmap.CompressFormat.JPEG, 100, out1);\r\n                                } catch (IOException e) {\r\n                                    e.printStackTrace();\r\n                                }\r\n                                slipBitmap.recycle();\r\n                            }\r\n                        }\r\n                        pageBitmap.recycle();\r\n                        pd.setMessage(&quot;Processed &quot; + counter[0] + &quot; of &quot; + totalPage + &quot; pages&quot;);\r\n                        counter[0]++;\r\n                    };\r\n                    Future&lt;?&gt; future = executor.submit(runnable);\r\n                    Log.d(TAG, &quot;processPdf: &quot; + future.isDone());\r\n                    futureList.add(future);\r\n    \r\n                }\r\n                //Todo close pdfrender on all page processed\r\n                //pdfRenderer.close();\r\n    \r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n","title":"Executor pauses and doesn&#39;t process pending queues","body":"<p>I have a long-running task of creating a bitmap saving it and recreating more bitmaps which I was doing on a single background thread</p>\n<pre><code>ExecutorService executor = Executors.newSingleThreadExecutor();\nHandler handler = new Handler(Looper.getMainLooper());\nexecutor.execute(() -&gt; {...bitmap work ...}\n</code></pre>\n<p>But it's taking really long time to process all the bitmaps so I created a thread pool to use multithreading to speed up the task.</p>\n<pre><code>private final int cores = Runtime.getRuntime().availableProcessors();\nprivate final ExecutorService executor = Executors.newFixedThreadPool(cores + 1);\nfor (int i = 0; i &lt; totalPage; i++) {    \n    Runnable runnable = () -&gt; {...bitmap work ...}\n    executor.submit(runnable);\n}\n</code></pre>\n<p>But whenever I am using more than 1 thread it gets stuck randomly on some task(say 7 out of 127) there is no error or anything it just doesn't process any more tasks. I can view the pending task in the executor queue. But If I changed the thread pool to use 1 thread, it works without any problem and processes all tasks.</p>\n<p>Here is the full actual code</p>\n<pre><code>ExecutorService executor = Executors.newFixedThreadPool(cores + 1);\n        List&lt;Future&lt;?&gt;&gt; futureList = new ArrayList&lt;&gt;();\n        boolean allDone = false;\n\n        try {\n            //Convert pdf to Bitmap\n            ParcelFileDescriptor parcelFileDescriptor = ParcelFileDescriptor.open(new File(pdfFileName), ParcelFileDescriptor.MODE_READ_ONLY);\n            PdfRenderer pdfRenderer = new PdfRenderer(parcelFileDescriptor);\n            int totalPage = pdfRenderer.getPageCount();\n\n            final int[] counter = {1};\n            for (int i = 0; i &lt; totalPage; i++) {\n                int finalI = i;\n                String finalOriginalPdfName = originalPdfName;\n                String finalGeneratedPdfName = generatedPdfName;\n                Runnable runnable = () -&gt; {\n                    //pd.setMessage(&quot;Processing page &quot; + (finalI + 1) + &quot; of &quot; + totalPage);\n                    PdfRenderer.Page page = pdfRenderer.openPage(finalI);\n\n                    Bitmap pageBitmap = Bitmap.createBitmap((300 * page.getWidth()) / 72, (300 * page.getHeight()) / 72, Bitmap.Config.ARGB_8888);\n                    Canvas canvas = new Canvas(pageBitmap);\n                    canvas.drawColor(Color.WHITE);\n                    canvas.drawBitmap(pageBitmap, 0, 0, null);\n                    page.render(pageBitmap, null, null, PdfRenderer.Page.RENDER_MODE_FOR_PRINT);\n                    page.close();\n\n\n                    //Crop bitmaps and temporarily store on app data directory\n\n                    for (int k = 0; k &lt; SlipBoundingBox.Y.length; k++) {\n                        for (int j = 0; j &lt; SlipBoundingBox.X.length; j++) {\n                            Bitmap slipBitmap = Bitmap.createBitmap(pageBitmap, SlipBoundingBox.X[j], SlipBoundingBox.Y[k], SlipBoundingBox.WIDTH, SlipBoundingBox.HEIGHT);\n                            //Filename formation originalPdfName_generatePdfName_pdfPageIndex_x_y.extension\n                            File slip = new File(\n                                    getExternalFilesDir(&quot;slips&quot;)\n                                            + &quot;/&quot;\n                                            + finalOriginalPdfName\n                                            + &quot;_&quot;\n                                            + finalGeneratedPdfName\n                                            + &quot;_&quot;\n                                            + finalI +\n                                            &quot;_&quot;\n                                            + SlipBoundingBox.X[j]\n                                            + &quot;_&quot;\n                                            + SlipBoundingBox.Y[k]\n                                            + &quot;_.jpg&quot;);\n                            try (FileOutputStream out1 = new FileOutputStream(slip)) {\n                                slipBitmap.compress(Bitmap.CompressFormat.JPEG, 100, out1);\n                            } catch (IOException e) {\n                                e.printStackTrace();\n                            }\n                            slipBitmap.recycle();\n                        }\n                    }\n                    pageBitmap.recycle();\n                    pd.setMessage(&quot;Processed &quot; + counter[0] + &quot; of &quot; + totalPage + &quot; pages&quot;);\n                    counter[0]++;\n                };\n                Future&lt;?&gt; future = executor.submit(runnable);\n                Log.d(TAG, &quot;processPdf: &quot; + future.isDone());\n                futureList.add(future);\n\n            }\n            //Todo close pdfrender on all page processed\n            //pdfRenderer.close();\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n</code></pre>\n"},{"tags":["java","eclipse","visual-studio-code","jar","export"],"answers":[{"tags":[],"owner":{"account_id":23243918,"reputation":56,"user_id":17332762,"display_name":"Shi Chen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652682338,"creation_date":1652682338,"answer_id":72254901,"question_id":72235492,"body_markdown":"There is an advanced way to export Jar in VS Code. See: https://github.com/microsoft/vscode-java-dependency/wiki/Export-Your-Project-to-a-Jar#advanced-custom-export-task\r\n\r\nYou can use the glob pattern here to customize the exclude list. e.g., a new rule like `!${compileOutput}/referenced.jar`.","title":"How to exclude referenced libraries from being exported when you export jar in VS Code for Java project (no build tool)","body":"<p>There is an advanced way to export Jar in VS Code. See: <a href=\"https://github.com/microsoft/vscode-java-dependency/wiki/Export-Your-Project-to-a-Jar#advanced-custom-export-task\" rel=\"nofollow noreferrer\">https://github.com/microsoft/vscode-java-dependency/wiki/Export-Your-Project-to-a-Jar#advanced-custom-export-task</a></p>\n<p>You can use the glob pattern here to customize the exclude list. e.g., a new rule like <code>!${compileOutput}/referenced.jar</code>.</p>\n"}],"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":366,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652682338,"creation_date":1652476486,"question_id":72235492,"body_markdown":"I have a Java Project for a JavaBean (multiple classes in a single project) with no build tools. In eclipse, I can export this project as JAR and I can select to export only the compiled classes without the referenced libraries.\r\n\r\nIn VS Code, when I select &quot;Export JAR&quot; from the JAVA Project tab, I am unable to remove the selection of the referenced libraries which is always copied to the output according to this config `{&quot;java.project.outputPath&quot;:&quot;bin&quot;}`. Note that the referenced libraries are referenced using the `.classpath` file, not using the `.vscode` settings file with the section `&quot;java.project.referencedLibraries&quot;`.\r\n\r\nIs it possible to export JAR in vscode the same way we export jar in eclipse?\r\n\r\nWhat is the command line to export the needed jar? \r\n\r\nI appreciate your help.\r\n\r\nTarek\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jMNmI.png\r\n  [2]: https://i.stack.imgur.com/La9eR.png","title":"How to exclude referenced libraries from being exported when you export jar in VS Code for Java project (no build tool)","body":"<p>I have a Java Project for a JavaBean (multiple classes in a single project) with no build tools. In eclipse, I can export this project as JAR and I can select to export only the compiled classes without the referenced libraries.</p>\n<p>In VS Code, when I select &quot;Export JAR&quot; from the JAVA Project tab, I am unable to remove the selection of the referenced libraries which is always copied to the output according to this config <code>{&quot;java.project.outputPath&quot;:&quot;bin&quot;}</code>. Note that the referenced libraries are referenced using the <code>.classpath</code> file, not using the <code>.vscode</code> settings file with the section <code>&quot;java.project.referencedLibraries&quot;</code>.</p>\n<p>Is it possible to export JAR in vscode the same way we export jar in eclipse?</p>\n<p>What is the command line to export the needed jar?</p>\n<p>I appreciate your help.</p>\n<p>Tarek</p>\n<p><a href=\"https://i.stack.imgur.com/jMNmI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jMNmI.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/La9eR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/La9eR.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","asynchronous","io"],"comments":[{"owner":{"account_id":1197724,"reputation":4404,"user_id":1169091,"accept_rate":9,"display_name":"nicomp"},"score":0,"creation_date":1587916726,"post_id":61443763,"comment_id":108691982,"body_markdown":"This question needs more detail. What have you tried? What didn&#39;t work?","body":"This question needs more detail. What have you tried? What didn&#39;t work?"},{"owner":{"account_id":323466,"reputation":14771,"user_id":643500,"display_name":"Sully"},"score":1,"creation_date":1587916745,"post_id":61443763,"comment_id":108691992,"body_markdown":"There is also WebFlux https://docs.spring.io/spring-framework/docs/5.0.0.BUILD-SNAPSHOT/spring-framework-reference/html/web-reactive.html","body":"There is also WebFlux <a href=\"https://docs.spring.io/spring-framework/docs/5.0.0.BUILD-SNAPSHOT/spring-framework-reference/html/web-reactive.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/5.0.0.BUILD-SNAPSHOT/&hellip;</a>"},{"owner":{"account_id":2695255,"reputation":118,"user_id":2327498,"display_name":"A0A"},"score":0,"creation_date":1587916952,"post_id":61443763,"comment_id":108692075,"body_markdown":"@HithamS.AlQadheeb thanks for the link! I&#39;m also aware of the EA async-await library. I&#39;m hoping to find out if there is a way to achieve this from the standard library, but will check those out if I need to.","body":"@HithamS.AlQadheeb thanks for the link! I&#39;m also aware of the EA async-await library. I&#39;m hoping to find out if there is a way to achieve this from the standard library, but will check those out if I need to."},{"owner":{"account_id":323466,"reputation":14771,"user_id":643500,"display_name":"Sully"},"score":0,"creation_date":1587919805,"post_id":61443763,"comment_id":108693195,"body_markdown":"You can also check ThreadPoolExecutor https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ThreadPoolExecutor.html","body":"You can also check ThreadPoolExecutor <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ThreadPoolExecutor.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/concurrent/&hellip;</a>"},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":1,"creation_date":1652617853,"post_id":61443763,"comment_id":127644446,"body_markdown":"There is no true way for Java to provide asynchronous I/O. There is also no way for Java use Direct I/O instead of buffered I/O. The Netty project does have an iouring binding that makes both Direct I/O and asynchronous I/O possible in Java. I&#39;m currently using the API directly in a prototype.","body":"There is no true way for Java to provide asynchronous I/O. There is also no way for Java use Direct I/O instead of buffered I/O. The Netty project does have an iouring binding that makes both Direct I/O and asynchronous I/O possible in Java. I&#39;m currently using the API directly in a prototype."}],"answers":[{"tags":[],"owner":{"account_id":1161310,"reputation":8921,"user_id":1140754,"accept_rate":70,"display_name":"Miguel Gamboa"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1588942255,"creation_date":1588942255,"answer_id":61679565,"question_id":61443763,"body_markdown":"The `AsynchronousFileChannel.open()` returns instances of different implementations according to the running environment. On Windows it should return an instance of `WindowsAsynchronousFileChannelImpl` which uses I/O completion port and avoids blocking threads on IO operations. Threads of thread pool are only used to dispatch results and do not block, unless the end user programmer blocks that thread.\r\n\r\nThe [RxIo](https://github.com/javasync/RxIo) is built on top of AFC and provides the [`AsyncFiles`](https://github.com/javasync/RxIo) equivalent to the synchronous `Files` class but with an asynchronous API. Taking advantage of the continuation-passing style of `CompletableFuture` (equivalent to .net `Task`) you may read a file content without blocking:\r\n\r\n    AsyncFiles\r\n      .readAll(path)\r\n      .thenAccept(body -&gt;     /* invoked on completion */)\r\n      .exceptionally(excep -&gt; /* invoked on error*/\r\n\r\nYou may run the unit tests of [RxIo](https://github.com/javasync/RxIo) and place a breakpoint at [open()](https://github.com/javasync/RxIo/blob/master/src/main/java/org/javaync/io/AsyncFiles.java#L94]) and inspect the implementation of `WindowsAsynchronousFileChannelImpl`.","title":"Non-blocking Async IO in Java","body":"<p>The <code>AsynchronousFileChannel.open()</code> returns instances of different implementations according to the running environment. On Windows it should return an instance of <code>WindowsAsynchronousFileChannelImpl</code> which uses I/O completion port and avoids blocking threads on IO operations. Threads of thread pool are only used to dispatch results and do not block, unless the end user programmer blocks that thread.</p>\n\n<p>The <a href=\"https://github.com/javasync/RxIo\" rel=\"nofollow noreferrer\">RxIo</a> is built on top of AFC and provides the <a href=\"https://github.com/javasync/RxIo\" rel=\"nofollow noreferrer\"><code>AsyncFiles</code></a> equivalent to the synchronous <code>Files</code> class but with an asynchronous API. Taking advantage of the continuation-passing style of <code>CompletableFuture</code> (equivalent to .net <code>Task</code>) you may read a file content without blocking:</p>\n\n<pre><code>AsyncFiles\n  .readAll(path)\n  .thenAccept(body -&gt;     /* invoked on completion */)\n  .exceptionally(excep -&gt; /* invoked on error*/\n</code></pre>\n\n<p>You may run the unit tests of <a href=\"https://github.com/javasync/RxIo\" rel=\"nofollow noreferrer\">RxIo</a> and place a breakpoint at <a href=\"https://github.com/javasync/RxIo/blob/master/src/main/java/org/javaync/io/AsyncFiles.java#L94]\" rel=\"nofollow noreferrer\">open()</a> and inspect the implementation of <code>WindowsAsynchronousFileChannelImpl</code>.</p>\n"},{"tags":[],"owner":{"account_id":14383650,"reputation":220,"user_id":10390204,"display_name":"ikorennoy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652681294,"creation_date":1652522606,"answer_id":72239166,"question_id":61443763,"body_markdown":"Until some time ago there were problems with asynchronous file I/O on Linux. There was an aio interface, but it was only asynchronous for O_DIRECT, which is quite inconvenient for standard use cases. So the standard JDK implementation of `AsynchronousFileChannel` for Linux internally uses thread pooling and simple blocking I/O which is not really asynchronous I/O.\r\n\r\nThings have changed a bit since Linux introduced the `io_uring` interface. It is now possible to use real non-blocking file I/O not just for O_DIRECT but for buffered I/O too. And a lot more, to reduce overhead of syscall and increase performance. Read more about [io_uring][1].\r\n\r\nAt the moment there is no built-in support for `io_uring` in Java. There have been rumors that support may appear for better project Loom support, but that&#39;s just a rumors.\r\n\r\nThere are third party libraries that add asynchronous file I/O support via `io_uring` for Java - [jasyncfio][2].\r\n\r\n\r\n  [1]: https://kernel.dk/io_uring.pdf\r\n  [2]: https://github.com/ikorennoy/jasyncfio","title":"Non-blocking Async IO in Java","body":"<p>Until some time ago there were problems with asynchronous file I/O on Linux. There was an aio interface, but it was only asynchronous for O_DIRECT, which is quite inconvenient for standard use cases. So the standard JDK implementation of <code>AsynchronousFileChannel</code> for Linux internally uses thread pooling and simple blocking I/O which is not really asynchronous I/O.</p>\n<p>Things have changed a bit since Linux introduced the <code>io_uring</code> interface. It is now possible to use real non-blocking file I/O not just for O_DIRECT but for buffered I/O too. And a lot more, to reduce overhead of syscall and increase performance. Read more about <a href=\"https://kernel.dk/io_uring.pdf\" rel=\"nofollow noreferrer\">io_uring</a>.</p>\n<p>At the moment there is no built-in support for <code>io_uring</code> in Java. There have been rumors that support may appear for better project Loom support, but that's just a rumors.</p>\n<p>There are third party libraries that add asynchronous file I/O support via <code>io_uring</code> for Java - <a href=\"https://github.com/ikorennoy/jasyncfio\" rel=\"nofollow noreferrer\">jasyncfio</a>.</p>\n"}],"owner":{"account_id":2695255,"reputation":118,"user_id":2327498,"display_name":"A0A"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1446,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61679565,"answer_count":2,"score":1,"last_activity_date":1652681294,"creation_date":1587916502,"question_id":61443763,"body_markdown":"Is there any way to do asynchronous IO in Java without blocking any threads (including background threads)? Coming from C#, my understanding of async IO is that it when you call \r\n\r\n`await ReadAsync()`\r\n\r\nThe calling thread (part of a threadpool) steps into the `ReadAsync` function, at some point calls an asynchronous read function from the OS kernel, and then adds itself back to the threadpool to pick up other `Tasks`. Once the read is completed, the threadpool is notified and another thread picks up the rest of the `Task`.\r\n\r\nIn Java, on the other hand, the [documentation][1] and [this][2] answer seem to suggest that asynchronous IO functions are simply called by a background thread that then blocks. This seems less performant. Is there any way to achieve true, non-blocking IO in Java?\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/nio/channels/AsynchronousFileChannel.html\r\n  [2]: https://stackoverflow.com/questions/39501924/java-asynchronousfilechannel-thread-usage","title":"Non-blocking Async IO in Java","body":"<p>Is there any way to do asynchronous IO in Java without blocking any threads (including background threads)? Coming from C#, my understanding of async IO is that it when you call </p>\n\n<p><code>await ReadAsync()</code></p>\n\n<p>The calling thread (part of a threadpool) steps into the <code>ReadAsync</code> function, at some point calls an asynchronous read function from the OS kernel, and then adds itself back to the threadpool to pick up other <code>Tasks</code>. Once the read is completed, the threadpool is notified and another thread picks up the rest of the <code>Task</code>.</p>\n\n<p>In Java, on the other hand, the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/channels/AsynchronousFileChannel.html\" rel=\"nofollow noreferrer\">documentation</a> and <a href=\"https://stackoverflow.com/questions/39501924/java-asynchronousfilechannel-thread-usage\">this</a> answer seem to suggest that asynchronous IO functions are simply called by a background thread that then blocks. This seems less performant. Is there any way to achieve true, non-blocking IO in Java?</p>\n"},{"tags":["java","spring-boot","caching","guava","in-memory"],"answers":[{"tags":[],"owner":{"account_id":9296154,"reputation":106,"user_id":6902993,"display_name":"sansay61"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652680636,"creation_date":1652680636,"answer_id":72254685,"question_id":72254452,"body_markdown":"I believe you could try to use spring cache with a custom cache manager annotated with scope request_scope and sync=true. This should cover all your requirements.","title":"How to build a thread safe in-memory cache per request scope with Spring Boot","body":"<p>I believe you could try to use spring cache with a custom cache manager annotated with scope request_scope and sync=true. This should cover all your requirements.</p>\n"}],"owner":{"account_id":6381461,"reputation":3501,"user_id":6524600,"display_name":"Drex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2233,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72254685,"answer_count":1,"score":1,"last_activity_date":1652680636,"creation_date":1652678500,"question_id":72254452,"body_markdown":"I&#39;d like to implement a thread-safe in-memory cache inside a Spring Boot Application. Basically, each time a request comes in, I need to request info from a remote client while saving the response in memory so it could be re-used through my current request in multiple stages of the process. I have been browsing different ways and would like to get an idea which best suits my case\r\n\r\n1. Using a ThreadLocal to hold my context as ThreadLocal keeps the context per request/thread. However, I [researched][1] and felt this approach might be outdated (discussed mostly before 2018 as well as may cause GC leak issues (e.g: if an exception happened during the current request while ThreadLocal content didn&#39;t get a chance to clear/evict)\r\n\r\n2. Using a Google Guava Cache, this is my current approach and it seems working fine, but I feel like it may be overused per my requirement as my cache is mostly request scoped. In addition, I have to set a large capacity in case my request threads would be more than cache capacity, which may cause cache content to be invalidated incorrectly (e.g: if cache capacity is 10 and I have 15 requests, however, the first 10 served and stored into the cache but didn&#39;t complete, the rest of 5 requests may replace some of the cached content causing first few cached contents invalidated)\r\n\r\n3. Define a component class with a concurrent hashmap - unfortunately, this one might not work in multiple thread requests and hard to manage the capacity. (e.g, I have 3 requests A, B and C with same identity key coming at the same time, ideally, I would only expect request A made an internal call, and request B and C will fetch from the cache. However, if my internal call triggered by A would take time while B and C already arrived at the cache location, I saw 2 additional internal calls made by B and C as well)\r\n\r\nPlease feel free to provide any suggestions if you have experience as well, thank you very much!\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/14294796/threadlocal-hashmap-vs-concurrenthashmap-for-thread-safe-unbound-caches","title":"How to build a thread safe in-memory cache per request scope with Spring Boot","body":"<p>I'd like to implement a thread-safe in-memory cache inside a Spring Boot Application. Basically, each time a request comes in, I need to request info from a remote client while saving the response in memory so it could be re-used through my current request in multiple stages of the process. I have been browsing different ways and would like to get an idea which best suits my case</p>\n<ol>\n<li><p>Using a ThreadLocal to hold my context as ThreadLocal keeps the context per request/thread. However, I <a href=\"https://stackoverflow.com/questions/14294796/threadlocal-hashmap-vs-concurrenthashmap-for-thread-safe-unbound-caches\">researched</a> and felt this approach might be outdated (discussed mostly before 2018 as well as may cause GC leak issues (e.g: if an exception happened during the current request while ThreadLocal content didn't get a chance to clear/evict)</p>\n</li>\n<li><p>Using a Google Guava Cache, this is my current approach and it seems working fine, but I feel like it may be overused per my requirement as my cache is mostly request scoped. In addition, I have to set a large capacity in case my request threads would be more than cache capacity, which may cause cache content to be invalidated incorrectly (e.g: if cache capacity is 10 and I have 15 requests, however, the first 10 served and stored into the cache but didn't complete, the rest of 5 requests may replace some of the cached content causing first few cached contents invalidated)</p>\n</li>\n<li><p>Define a component class with a concurrent hashmap - unfortunately, this one might not work in multiple thread requests and hard to manage the capacity. (e.g, I have 3 requests A, B and C with same identity key coming at the same time, ideally, I would only expect request A made an internal call, and request B and C will fetch from the cache. However, if my internal call triggered by A would take time while B and C already arrived at the cache location, I saw 2 additional internal calls made by B and C as well)</p>\n</li>\n</ol>\n<p>Please feel free to provide any suggestions if you have experience as well, thank you very much!</p>\n"},{"tags":["java","loops","dictionary","iterator","put"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652619961,"creation_date":1652619142,"answer_id":72248434,"question_id":72248273,"body_markdown":"Since are getting `UnsupportedOperationException` maps in a list are **unmodifiable**.\r\n\r\nYou can fix the piece of code that creates these maps. If you are not in control of it, you can wrap each map in a list with map of required type (I mean `HashMap`, `LinkedHashMap`, `TreeMap`, etc.).\r\n```\r\nList&lt;Map&lt;String, String&gt;&gt; maps = new ArrayList&lt;&gt;();\r\nfor (Map&lt;String, String&gt; map : streams) \r\n    maps.add(new HashMap&lt;&gt;(map));\r\n}\r\n```\r\nThe attempt to use iterator is syntactically incorrect. Enhanced `for` loop (so-called &quot;for-each&quot; loop) can be used with objects that implement `Iterable` interface (not `Iterator`), like collections or `Path`. And enhanced `for` loop utilizes iterator under the hood, you don&#39;t need to create an iterator manually.\r\n\r\nAnyway, the problem is rooted in the nature of your collections and not in the way how are iterating over the list.","title":"How to add an entry into each Map stored in a List in a loop","body":"<p>Since are getting <code>UnsupportedOperationException</code> maps in a list are <strong>unmodifiable</strong>.</p>\n<p>You can fix the piece of code that creates these maps. If you are not in control of it, you can wrap each map in a list with map of required type (I mean <code>HashMap</code>, <code>LinkedHashMap</code>, <code>TreeMap</code>, etc.).</p>\n<pre><code>List&lt;Map&lt;String, String&gt;&gt; maps = new ArrayList&lt;&gt;();\nfor (Map&lt;String, String&gt; map : streams) \n    maps.add(new HashMap&lt;&gt;(map));\n}\n</code></pre>\n<p>The attempt to use iterator is syntactically incorrect. Enhanced <code>for</code> loop (so-called &quot;for-each&quot; loop) can be used with objects that implement <code>Iterable</code> interface (not <code>Iterator</code>), like collections or <code>Path</code>. And enhanced <code>for</code> loop utilizes iterator under the hood, you don't need to create an iterator manually.</p>\n<p>Anyway, the problem is rooted in the nature of your collections and not in the way how are iterating over the list.</p>\n"}],"owner":{"account_id":19787192,"reputation":45,"user_id":14490920,"display_name":"user14490920"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2321,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72248434,"answer_count":1,"score":2,"last_activity_date":1652680612,"creation_date":1652617801,"question_id":72248273,"body_markdown":"I have a *list* of *maps* `List&lt;Map&lt;String,String&gt;&gt;` with a name `streams`.\r\n\r\nAnd it looks like this: \r\n\r\n    {\r\n\t    &quot;key1&quot; : &quot;value1&quot;,\r\n\t    &quot;key2&quot; : &quot;value2&quot;\r\n    },\r\n    {\r\n    \t&quot;key1&quot; : &quot;value1&quot;,\r\n    \t&quot;key2&quot; : &quot;value2&quot;,\r\n        &quot;key3&quot; : &quot;value3&quot;\r\n    },\r\n    {\r\n    \t&quot;key1&quot; : &quot;value1&quot;,\r\n    \t&quot;key2&quot; : &quot;value2&quot;\r\n    }\r\n\r\nI do a loop on the map and want to add entry in specific condition\r\nthis is my code:\r\n\r\n    public void addValue(String name, String value)\r\n\t{\r\n\t\tfor (Map&lt;String,String&gt; map :streams)\r\n\t\t{\r\n\t\t\tif (map.get(&quot;name&quot;).equals(name))\r\n\t\t\t\tmap.put(&quot;newValue&quot;, value);\r\n\t\t}\r\n\t}\r\nI&#39;m getting an exception: \r\n```\r\njava.lang.UnsupportedOperationException\r\n\tat java.base/java.util.ImmutableCollections.uoe(ImmutableCollections.java:71)\r\n\tat java.base/java.util.ImmutableCollections$AbstractImmutableMap.put(ImmutableCollections.java:714)\r\n```\r\nI tried to write this:\r\n\r\n    public void addValue(String name, String value)\r\n\t{\r\n\t\tfor (Iterator&lt;Map&lt;String,String&gt;&gt; map :streams.iterator())\r\n\t\t{\r\n\t\t\tif (map.get(&quot;name&quot;).equals(name))\r\n\t\t\t\tmap.put(&quot;newValue&quot;, value);\r\n\t\t}\r\n\t}\r\nBut the compiler indicates an error on the row : `streams.iterator()` with the error: \r\n```\r\nCan only iterate over an array or an instance of java.lang.Iterable\r\n```\r\nHow can I fix this?","title":"How to add an entry into each Map stored in a List in a loop","body":"<p>I have a <em>list</em> of <em>maps</em> <code>List&lt;Map&lt;String,String&gt;&gt;</code> with a name <code>streams</code>.</p>\n<p>And it looks like this:</p>\n<pre><code>{\n    &quot;key1&quot; : &quot;value1&quot;,\n    &quot;key2&quot; : &quot;value2&quot;\n},\n{\n    &quot;key1&quot; : &quot;value1&quot;,\n    &quot;key2&quot; : &quot;value2&quot;,\n    &quot;key3&quot; : &quot;value3&quot;\n},\n{\n    &quot;key1&quot; : &quot;value1&quot;,\n    &quot;key2&quot; : &quot;value2&quot;\n}\n</code></pre>\n<p>I do a loop on the map and want to add entry in specific condition\nthis is my code:</p>\n<pre><code>public void addValue(String name, String value)\n{\n    for (Map&lt;String,String&gt; map :streams)\n    {\n        if (map.get(&quot;name&quot;).equals(name))\n            map.put(&quot;newValue&quot;, value);\n    }\n}\n</code></pre>\n<p>I'm getting an exception:</p>\n<pre><code>java.lang.UnsupportedOperationException\n    at java.base/java.util.ImmutableCollections.uoe(ImmutableCollections.java:71)\n    at java.base/java.util.ImmutableCollections$AbstractImmutableMap.put(ImmutableCollections.java:714)\n</code></pre>\n<p>I tried to write this:</p>\n<pre><code>public void addValue(String name, String value)\n{\n    for (Iterator&lt;Map&lt;String,String&gt;&gt; map :streams.iterator())\n    {\n        if (map.get(&quot;name&quot;).equals(name))\n            map.put(&quot;newValue&quot;, value);\n    }\n}\n</code></pre>\n<p>But the compiler indicates an error on the row : <code>streams.iterator()</code> with the error:</p>\n<pre><code>Can only iterate over an array or an instance of java.lang.Iterable\n</code></pre>\n<p>How can I fix this?</p>\n"},{"tags":["java","hibernate","unit-testing","data-jpa-test"],"comments":[{"owner":{"account_id":3788650,"reputation":176,"user_id":3145830,"display_name":"vince"},"score":0,"creation_date":1652680721,"post_id":72254658,"comment_id":127655463,"body_markdown":"Stack would never lie to you, set &#39;spring.jpa.show-sql=true&#39; and logging level to debug to see the generated sql","body":"Stack would never lie to you, set &#39;spring.jpa.show-sql=true&#39; and logging level to debug to see the generated sql"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1652681395,"post_id":72254658,"comment_id":127655585,"body_markdown":"The error doesn&#39;t lie. SO you **think** you pass something where you aren&#39;t actually passing. Please add the full test, code etc. instead of snippets.","body":"The error doesn&#39;t lie. SO you <b>think</b> you pass something where you aren&#39;t actually passing. Please add the full test, code etc. instead of snippets."}],"owner":{"account_id":13325221,"reputation":2563,"user_id":9618378,"display_name":"Drashti Dobariya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652680456,"creation_date":1652680456,"question_id":72254658,"body_markdown":"I am writing some unit testcases for repository using DataJpaTest.\r\n\r\nWhen I am testing the .save() method. I am getting this error:\r\n\r\n```\r\norg.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [account_name]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement\r\n\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:296)\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:253)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:527)\r\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:153)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n\tat com.sun.proxy.$Proxy165.save(Unknown Source)\r\n\tat com.kredx.collect.core.repositories.IAccountRepositoryTest.findByAccountNumberAndDeletedFalsePositiveTestCases(IAccountRepositoryTest.java:80)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:210)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:206)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:65)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\tat java.util.ArrayList.forEach(ArrayList.java:1257)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\tat java.util.ArrayList.forEach(ArrayList.java:1257)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n\tSuppressed: org.hibernate.AssertionFailure: null id in com.kredx.collect.core.entities.Account entry (don&#39;t flush the Session after an exception occurs)\r\n\t\tat org.hibernate.event.internal.DefaultFlushEntityEventListener.checkId(DefaultFlushEntityEventListener.java:71)\r\n\t\tat org.hibernate.event.internal.DefaultFlushEntityEventListener.getValues(DefaultFlushEntityEventListener.java:186)\r\n\t\tat org.hibernate.event.internal.DefaultFlushEntityEventListener.onFlushEntity(DefaultFlushEntityEventListener.java:146)\r\n\t\tat org.hibernate.event.internal.AbstractFlushingEventListener.flushEntities(AbstractFlushingEventListener.java:235)\r\n\t\tat org.hibernate.event.internal.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:94)\r\n\t\tat org.hibernate.event.internal.DefaultAutoFlushEventListener.onAutoFlush(DefaultAutoFlushEventListener.java:44)\r\n\t\tat org.hibernate.internal.SessionImpl.autoFlushIfRequired(SessionImpl.java:1415)\r\n\t\tat org.hibernate.internal.SessionImpl.list(SessionImpl.java:1501)\r\n\t\tat org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1537)\r\n\t\tat org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1505)\r\n\t\tat org.hibernate.query.Query.getResultList(Query.java:135)\r\n\t\tat org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getResultList(CriteriaQueryTypeQueryAdapter.java:74)\r\n\t\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:306)\r\n\t\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll(SimpleJpaRepository.java:202)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\t\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\t\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:359)\r\n\t\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:200)\r\n\t\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:644)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\t\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:608)\r\n\t\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lambda$invoke$3(RepositoryFactorySupport.java:595)\r\n\t\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:595)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\t\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:59)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\t\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)\r\n\t\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\t\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\t\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\t\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\t\tat org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\t\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n\t\tat com.sun.proxy.$Proxy165.deleteAll(Unknown Source)\r\n\t\tat com.kredx.collect.core.repositories.IAccountRepositoryTest.tearDown(IAccountRepositoryTest.java:74)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\t\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\t\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\r\n\t\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\t\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\t\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:126)\r\n\t\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptAfterEachMethod(TimeoutExtension.java:108)\r\n\t\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\t\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\t\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\t\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\t\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeMethodInExtensionContext(ClassBasedTestDescriptor.java:490)\r\n\t\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$synthesizeAfterEachMethodAdapter$20(ClassBasedTestDescriptor.java:480)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAfterEachMethods$9(TestMethodTestDescriptor.java:236)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$12(TestMethodTestDescriptor.java:269)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$13(TestMethodTestDescriptor.java:269)\r\n\t\tat java.util.ArrayList.forEach(ArrayList.java:1257)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeAllAfterMethodsOrCallbacks(TestMethodTestDescriptor.java:268)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeAfterEachMethods(TestMethodTestDescriptor.java:234)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\r\n\t\t... 43 more\r\nCaused by: org.hibernate.exception.ConstraintViolationException: could not execute statement\r\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:112)\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:178)\r\n\tat org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:57)\r\n\tat org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:42)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3072)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3663)\r\n\tat org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:81)\r\n\tat org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645)\r\n\tat org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282)\r\n\tat org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263)\r\n\tat org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:359)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:292)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:200)\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:131)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:192)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:135)\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:62)\r\n\tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:800)\r\n\tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:785)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:308)\r\n\tat com.sun.proxy.$Proxy160.persist(Unknown Source)\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:489)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:359)\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:200)\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:644)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:608)\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lambda$invoke$3(RepositoryFactorySupport.java:595)\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:595)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:59)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\r\n\t... 75 more\r\nCaused by: org.postgresql.util.PSQLException: ERROR: null value in column &quot;account_name&quot; violates not-null constraint\r\n  Detail: Failing row contains (1, 2022-05-16 11:13:45.967, f, t, 2022-05-16 11:13:45.967, 0, null, null, 100.00, 2022-05-16 11:13:36.455, null, 12345, ACTIVE, SETTLEMENT, ICICI, null, null, null, t, 0.00, null, KREDX, null).\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2440)\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2183)\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:308)\r\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:441)\r\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:365)\r\n\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:143)\r\n\tat org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:120)\r\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)\r\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:175)\r\n\t... 118 more\r\n\r\n```\r\n\r\nHowever, when I debugged the method, I found that I am passing the account_name field.\r\n\r\n```\r\nAccount(accountName=Test Name, ....)\r\n```\r\n\r\nThis is my entity\r\n\r\n```\r\n@Table(name = &quot;account&quot;, schema = &quot;****&quot;)\r\n@Data\r\n@NoArgsConstructor\r\npublic class Account {\r\n\r\n  @Basic\r\n  @Column(name = &quot;account_name&quot;, nullable = false)\r\n  private String accountName;\r\n\r\n  ....\r\n\r\n}\r\n```\r\n\r\nPlease help me in understanding what is wrong with the test file.\r\nAny help is appreciated.","title":"Hibarnate - Picking a fields as null even when object has that field value","body":"<p>I am writing some unit testcases for repository using DataJpaTest.</p>\n<p>When I am testing the .save() method. I am getting this error:</p>\n<pre><code>org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [account_name]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement\n\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:296)\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:253)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:527)\n    at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n    at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:153)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\n    at com.sun.proxy.$Proxy165.save(Unknown Source)\n    at com.kredx.collect.core.repositories.IAccountRepositoryTest.findByAccountNumberAndDeletedFalsePositiveTestCases(IAccountRepositoryTest.java:80)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:210)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:206)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:65)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at java.util.ArrayList.forEach(ArrayList.java:1257)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at java.util.ArrayList.forEach(ArrayList.java:1257)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n    Suppressed: org.hibernate.AssertionFailure: null id in com.kredx.collect.core.entities.Account entry (don't flush the Session after an exception occurs)\n        at org.hibernate.event.internal.DefaultFlushEntityEventListener.checkId(DefaultFlushEntityEventListener.java:71)\n        at org.hibernate.event.internal.DefaultFlushEntityEventListener.getValues(DefaultFlushEntityEventListener.java:186)\n        at org.hibernate.event.internal.DefaultFlushEntityEventListener.onFlushEntity(DefaultFlushEntityEventListener.java:146)\n        at org.hibernate.event.internal.AbstractFlushingEventListener.flushEntities(AbstractFlushingEventListener.java:235)\n        at org.hibernate.event.internal.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:94)\n        at org.hibernate.event.internal.DefaultAutoFlushEventListener.onAutoFlush(DefaultAutoFlushEventListener.java:44)\n        at org.hibernate.internal.SessionImpl.autoFlushIfRequired(SessionImpl.java:1415)\n        at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1501)\n        at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1537)\n        at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1505)\n        at org.hibernate.query.Query.getResultList(Query.java:135)\n        at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getResultList(CriteriaQueryTypeQueryAdapter.java:74)\n        at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:306)\n        at org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAll(SimpleJpaRepository.java:202)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:359)\n        at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:200)\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:644)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:608)\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lambda$invoke$3(RepositoryFactorySupport.java:595)\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:595)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:59)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\n        at com.sun.proxy.$Proxy165.deleteAll(Unknown Source)\n        at com.kredx.collect.core.repositories.IAccountRepositoryTest.tearDown(IAccountRepositoryTest.java:74)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\n        at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n        at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n        at org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:126)\n        at org.junit.jupiter.engine.extension.TimeoutExtension.interceptAfterEachMethod(TimeoutExtension.java:108)\n        at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n        at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n        at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n        at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeMethodInExtensionContext(ClassBasedTestDescriptor.java:490)\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$synthesizeAfterEachMethodAdapter$20(ClassBasedTestDescriptor.java:480)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAfterEachMethods$9(TestMethodTestDescriptor.java:236)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$12(TestMethodTestDescriptor.java:269)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$13(TestMethodTestDescriptor.java:269)\n        at java.util.ArrayList.forEach(ArrayList.java:1257)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeAllAfterMethodsOrCallbacks(TestMethodTestDescriptor.java:268)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeAfterEachMethods(TestMethodTestDescriptor.java:234)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\n        ... 43 more\nCaused by: org.hibernate.exception.ConstraintViolationException: could not execute statement\n    at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:112)\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:178)\n    at org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:57)\n    at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:42)\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3072)\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3663)\n    at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:81)\n    at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645)\n    at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282)\n    at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263)\n    at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317)\n    at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:359)\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:292)\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:200)\n    at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:131)\n    at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:192)\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:135)\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:62)\n    at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:800)\n    at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:785)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:308)\n    at com.sun.proxy.$Proxy160.persist(Unknown Source)\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:489)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:359)\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:200)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:644)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:608)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lambda$invoke$3(RepositoryFactorySupport.java:595)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:595)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:59)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n    ... 75 more\nCaused by: org.postgresql.util.PSQLException: ERROR: null value in column &quot;account_name&quot; violates not-null constraint\n  Detail: Failing row contains (1, 2022-05-16 11:13:45.967, f, t, 2022-05-16 11:13:45.967, 0, null, null, 100.00, 2022-05-16 11:13:36.455, null, 12345, ACTIVE, SETTLEMENT, ICICI, null, null, null, t, 0.00, null, KREDX, null).\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2440)\n    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2183)\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:308)\n    at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:441)\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:365)\n    at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:143)\n    at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:120)\n    at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:175)\n    ... 118 more\n\n</code></pre>\n<p>However, when I debugged the method, I found that I am passing the account_name field.</p>\n<pre><code>Account(accountName=Test Name, ....)\n</code></pre>\n<p>This is my entity</p>\n<pre><code>@Table(name = &quot;account&quot;, schema = &quot;****&quot;)\n@Data\n@NoArgsConstructor\npublic class Account {\n\n  @Basic\n  @Column(name = &quot;account_name&quot;, nullable = false)\n  private String accountName;\n\n  ....\n\n}\n</code></pre>\n<p>Please help me in understanding what is wrong with the test file.\nAny help is appreciated.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1652603686,"post_id":72246604,"comment_id":127641955,"body_markdown":"Welcome to Stack Overflow.\nPlease take the [tour] to learn how Stack Overflow works and read [ask] on how to improve the quality of your question.\nThen [edit] your question to include your source code as a working [mcve], which can be compiled and tested by others.","body":"Welcome to Stack Overflow. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> on how to improve the quality of your question. Then <a href=\"https://stackoverflow.com/posts/72246604/edit\">edit</a> your question to include your source code as a working <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which can be compiled and tested by others."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1652603749,"post_id":72246604,"comment_id":127641965,"body_markdown":"If you don&#39;t want to create a new duplicate window, why do you create a duplicate window?","body":"If you don&#39;t want to create a new duplicate window, why do you create a duplicate window?"},{"owner":{"account_id":9514924,"reputation":179,"user_id":7265147,"display_name":"RiseHit"},"score":0,"creation_date":1652604103,"post_id":72246604,"comment_id":127642017,"body_markdown":"@Progman I added little since in netbeans many lines of code are created with the interfaces, and since I&#39;m just trying to find a different solution or path with respect to the code I put, I didn&#39;t see it as necessary, but I&#39;ll do it, basically it&#39;s a main window with a button display a jdialog and pass that variable to the main window. there lies more or less the problem, I have looked for solutions but I don&#39;t know how I could do it without creating a new window","body":"@Progman I added little since in netbeans many lines of code are created with the interfaces, and since I&#39;m just trying to find a different solution or path with respect to the code I put, I didn&#39;t see it as necessary, but I&#39;ll do it, basically it&#39;s a main window with a button display a jdialog and pass that variable to the main window. there lies more or less the problem, I have looked for solutions but I don&#39;t know how I could do it without creating a new window"}],"answers":[{"tags":[],"owner":{"account_id":18827263,"reputation":405,"user_id":14499516,"display_name":"hokwanhung"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652667485,"creation_date":1652604460,"answer_id":72246802,"question_id":72246604,"body_markdown":"Thanks for the update, and I found another solution without using an `OptionPane` from this question: [programmatically close a JPanel which is displayed in JDialog][1].\r\n\r\nI cannot replicate your codings\r\n\r\nStart with the `MainFrame`, assuming you opened the `JDialog` by clicking on a button and wants to `setText()` to label `lbSomething`:\r\n\r\n    private void btInputActionPerformed(java.awt.event.ActionEvent evt) {\r\n        // Open new JDialog when button is clicked\r\n        NewJDialog dialog = new NewJDialog(new javax.swing.JFrame, true);\r\n        dialog.setVisible(true);\r\n        // Get user input from JDialog\r\n        String temp = dialog.getInput();\r\n        if (temp != null) {\r\n            /*\r\n             * Perform jButton1ActionPerformed() content here\r\n             * Including timeUserConfig, timeDefault and setUpdateTime() here\r\n             * so that you don&#39;t have to access mainFrame in the JDialog.\r\n            */\r\n            lbSomething.setText(temp);\r\n        }\r\n    }\r\n\r\nThen about the `JDialog` (with simple input detection):\r\n\r\n    public class NewJDialog extends javax.swing.JDialog {\r\n    \r\n        // Set the variable as class variable\r\n        private String textTOFieldTimer;\r\n\r\n        public NewJDialog(java.awt.Frame parent, boolean modal) {\r\n            // default contents\r\n        }\r\n\r\n        @SupressWarinings(&quot;unchecked&quot;)\r\n        private void initComponents() {\r\n            // default contents\r\n        }\r\n\r\n        private void btSaveAction Performed(java.awt.event.ActionEvent evt) {\r\n            // Check if input correct and whether to disable JDialog\r\n            if (tfInput.getText.length() != 0) {\r\n                input = tfInput.getText();\r\n                // Connect to the whole JDialog by getWindowAncestor()\r\n                Window window = SwingUtilities.getWindowAncestor(NewJDialog.this);\r\n                // Just setVisible(false) instead of dispose()\r\n                window.setVisible(false);\r\n            } else {\r\n                JOptionPane.showMessageDialog(this, &quot;Wrong Input&quot;);\r\n            }\r\n        }\r\n    \r\n        public String getInput() {\r\n            return textToFieldTimer;\r\n        }\r\n\r\n        // default variables declarations\r\n    }\r\n\r\nHope this answer helps you well.\r\n\r\n-------------------\r\n\r\nWould be better if you displayed the source code, but a simple solution to update values to an existing JFrame is by using `setText()` and `getText()`.\r\n\r\nFor example:\r\n\r\n    String input = JOptionPane.showInputDialog(this, &quot;Nuevo valor&quot;);\r\n\tlbPresionActual.setText(input);\r\n\r\nIf you created a self-defined `JDialog`, it is about to transfer the `input` value when closing the `JDialog`, and that could be a different question.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/10936306/programmatically-close-a-jpanel-which-is-displayed-in-jdialog","title":"How to update values of a JFrame main after using a JDialog of Java Swing?","body":"<p>Thanks for the update, and I found another solution without using an <code>OptionPane</code> from this question: <a href=\"https://stackoverflow.com/questions/10936306/programmatically-close-a-jpanel-which-is-displayed-in-jdialog\">programmatically close a JPanel which is displayed in JDialog</a>.</p>\n<p>I cannot replicate your codings</p>\n<p>Start with the <code>MainFrame</code>, assuming you opened the <code>JDialog</code> by clicking on a button and wants to <code>setText()</code> to label <code>lbSomething</code>:</p>\n<pre><code>private void btInputActionPerformed(java.awt.event.ActionEvent evt) {\n    // Open new JDialog when button is clicked\n    NewJDialog dialog = new NewJDialog(new javax.swing.JFrame, true);\n    dialog.setVisible(true);\n    // Get user input from JDialog\n    String temp = dialog.getInput();\n    if (temp != null) {\n        /*\n         * Perform jButton1ActionPerformed() content here\n         * Including timeUserConfig, timeDefault and setUpdateTime() here\n         * so that you don't have to access mainFrame in the JDialog.\n        */\n        lbSomething.setText(temp);\n    }\n}\n</code></pre>\n<p>Then about the <code>JDialog</code> (with simple input detection):</p>\n<pre><code>public class NewJDialog extends javax.swing.JDialog {\n\n    // Set the variable as class variable\n    private String textTOFieldTimer;\n\n    public NewJDialog(java.awt.Frame parent, boolean modal) {\n        // default contents\n    }\n\n    @SupressWarinings(&quot;unchecked&quot;)\n    private void initComponents() {\n        // default contents\n    }\n\n    private void btSaveAction Performed(java.awt.event.ActionEvent evt) {\n        // Check if input correct and whether to disable JDialog\n        if (tfInput.getText.length() != 0) {\n            input = tfInput.getText();\n            // Connect to the whole JDialog by getWindowAncestor()\n            Window window = SwingUtilities.getWindowAncestor(NewJDialog.this);\n            // Just setVisible(false) instead of dispose()\n            window.setVisible(false);\n        } else {\n            JOptionPane.showMessageDialog(this, &quot;Wrong Input&quot;);\n        }\n    }\n\n    public String getInput() {\n        return textToFieldTimer;\n    }\n\n    // default variables declarations\n}\n</code></pre>\n<p>Hope this answer helps you well.</p>\n<hr />\n<p>Would be better if you displayed the source code, but a simple solution to update values to an existing JFrame is by using <code>setText()</code> and <code>getText()</code>.</p>\n<p>For example:</p>\n<pre><code>String input = JOptionPane.showInputDialog(this, &quot;Nuevo valor&quot;);\nlbPresionActual.setText(input);\n</code></pre>\n<p>If you created a self-defined <code>JDialog</code>, it is about to transfer the <code>input</code> value when closing the <code>JDialog</code>, and that could be a different question.</p>\n"}],"owner":{"account_id":9514924,"reputation":179,"user_id":7265147,"display_name":"RiseHit"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72246802,"answer_count":1,"score":1,"last_activity_date":1652680305,"creation_date":1652602518,"question_id":72246604,"body_markdown":"I have a main window called MainFrame which is a jForm to which I update the data depending on a timer, but the problem is that I cannot update the data in the same MainFrame after using the jdialog, since I end up creating another duplicate window, but with the data changed, one with the original timer and the other with the new timer, I know that I can close the first window with dispose() and then keep the second, but I would like to avoid changing windows so much\r\n\r\nthe code with which I create another window when pressing the jDialog button is the following\r\n\r\n    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton1ActionPerformed\r\n            // TODO add your handling code here:\r\n    \r\n            String textoFieldTimer = jTextField1.getText();\r\n\r\n            int timeUserConfig = Integer.parseInt(textoFieldTimer);\r\n            \r\n            Timer timeDefault = new Timer(timeUserConfig, null);\r\n            \r\n            TokenAccess token = new TokenAccess();\r\n            token.access_code = code;\r\n    \r\n            MainFrame mainFrame = new MainFrame(token);\r\n            mainFrame.setVisible(true);\r\n    \r\n            mainFrame.timeDefault.stop();\r\n            mainFrame.timeDefault = timeDefault;\r\n            \r\n            mainFrame.setUpdateTime(timeUserConfig);\r\n            this.dispose();\r\n    \r\n        }//GEN-LAST:event_jButton1ActionPerformed\r\n\r\nIs there any alternative to update the window? something like `mainFrame.update();` or maybe send the value of the jTextField from the jDialog to mainFrame? since the previous code creates another MainFrame for me.\r\n\r\nMethod main setLabel and Timer.start/stop\r\n\r\n    public void setUpdateTime(int timeUserConfig) {\r\n            this.timeUserConfig = timeUserConfig;\r\n            if (timeUserConfig == 0) {\r\n                timeDefault.start();\r\n                timeDefault.addActionListener(new java.awt.event.ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                        setLabelText();\r\n                        String timeUserConfigStr = Integer.toString(timeDefaultInt);\r\n                        tiempoActualizado.setText(&quot;Tiempo de Actualizado: &quot; + timeUserConfigStr+&quot;ms&quot;);\r\n                    }\r\n                });\r\n            } else {          \r\n                timeDefault.stop();\r\n                timeDefault = new Timer(timeUserConfig, null);\r\n                timeDefault.start();\r\n                timeDefault.addActionListener(new java.awt.event.ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                        setLabelText();\r\n                        String timeUserConfigStr = Integer.toString(timeUserConfig);\r\n                        tiempoActualizado.setText(&quot;Tiempo de Actualizado: &quot; + timeUserConfigStr+&quot;ms&quot;);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\nsetLabelText is a method set of label\r\n\r\n    public void setLabelText() {\r\n    \r\n            String humedadStr = String.valueOf(humedad);\r\n            String temperaturaStr = String.valueOf(temperatura);\r\n            String presionStr = String.valueOf(co2);\r\n    \r\n            temporalHum.setText(humedadStr);\r\n            temporalTemperatura.setText(temperaturaStr);\r\n            temporalPresion.setText(presionStr);\r\n        }\r\n\r\n\r\n\r\nAny help would be appreciated.","title":"How to update values of a JFrame main after using a JDialog of Java Swing?","body":"<p>I have a main window called MainFrame which is a jForm to which I update the data depending on a timer, but the problem is that I cannot update the data in the same MainFrame after using the jdialog, since I end up creating another duplicate window, but with the data changed, one with the original timer and the other with the new timer, I know that I can close the first window with dispose() and then keep the second, but I would like to avoid changing windows so much</p>\n<p>the code with which I create another window when pressing the jDialog button is the following</p>\n<pre><code>private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton1ActionPerformed\n        // TODO add your handling code here:\n\n        String textoFieldTimer = jTextField1.getText();\n\n        int timeUserConfig = Integer.parseInt(textoFieldTimer);\n        \n        Timer timeDefault = new Timer(timeUserConfig, null);\n        \n        TokenAccess token = new TokenAccess();\n        token.access_code = code;\n\n        MainFrame mainFrame = new MainFrame(token);\n        mainFrame.setVisible(true);\n\n        mainFrame.timeDefault.stop();\n        mainFrame.timeDefault = timeDefault;\n        \n        mainFrame.setUpdateTime(timeUserConfig);\n        this.dispose();\n\n    }//GEN-LAST:event_jButton1ActionPerformed\n</code></pre>\n<p>Is there any alternative to update the window? something like <code>mainFrame.update();</code> or maybe send the value of the jTextField from the jDialog to mainFrame? since the previous code creates another MainFrame for me.</p>\n<p>Method main setLabel and Timer.start/stop</p>\n<pre><code>public void setUpdateTime(int timeUserConfig) {\n        this.timeUserConfig = timeUserConfig;\n        if (timeUserConfig == 0) {\n            timeDefault.start();\n            timeDefault.addActionListener(new java.awt.event.ActionListener() {\n                @Override\n                public void actionPerformed(java.awt.event.ActionEvent evt) {\n                    setLabelText();\n                    String timeUserConfigStr = Integer.toString(timeDefaultInt);\n                    tiempoActualizado.setText(&quot;Tiempo de Actualizado: &quot; + timeUserConfigStr+&quot;ms&quot;);\n                }\n            });\n        } else {          \n            timeDefault.stop();\n            timeDefault = new Timer(timeUserConfig, null);\n            timeDefault.start();\n            timeDefault.addActionListener(new java.awt.event.ActionListener() {\n                @Override\n                public void actionPerformed(java.awt.event.ActionEvent evt) {\n                    setLabelText();\n                    String timeUserConfigStr = Integer.toString(timeUserConfig);\n                    tiempoActualizado.setText(&quot;Tiempo de Actualizado: &quot; + timeUserConfigStr+&quot;ms&quot;);\n                }\n            });\n        }\n    }\n</code></pre>\n<p>setLabelText is a method set of label</p>\n<pre><code>public void setLabelText() {\n\n        String humedadStr = String.valueOf(humedad);\n        String temperaturaStr = String.valueOf(temperatura);\n        String presionStr = String.valueOf(co2);\n\n        temporalHum.setText(humedadStr);\n        temporalTemperatura.setText(temperaturaStr);\n        temporalPresion.setText(presionStr);\n    }\n</code></pre>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","multithreading","concurrency","yield"],"comments":[{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1406549709,"post_id":6979796,"comment_id":38860690,"body_markdown":"This qustion should be closed for being *too broad*.","body":"This qustion should be closed for being <i>too broad</i>."},{"owner":{"account_id":425670,"reputation":2681,"user_id":806407,"accept_rate":78,"display_name":"lakshman"},"score":0,"creation_date":1407049068,"post_id":6979796,"comment_id":39062700,"body_markdown":"No. it does not return the same result when you have `yield()` and not. when you have large i rather than 5, you can see the effect of `yield()` method.","body":"No. it does not return the same result when you have <code>yield()</code> and not. when you have large i rather than 5, you can see the effect of <code>yield()</code> method."}],"answers":[{"tags":[],"owner":{"account_id":212263,"reputation":136294,"user_id":464988,"accept_rate":94,"display_name":"MByD"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1334278264,"creation_date":1312794359,"answer_id":6979847,"question_id":6979796,"body_markdown":"First, the actual description is\r\n\r\n&gt; Causes the currently executing thread object to temporarily pause and\r\n&gt; allow other threads to execute.\r\n\r\nNow, it is very likely that your main thread will execute the loop five times before the `run` method of the new thread is being executed, so all the calls to `yield` will happen only after  the loop in the main thread is executed.\r\n\r\n`join` will stop the current thread until the thread being called with `join()` is done executing.\r\n\r\n`interrupt` will interrupt the thread it is being called on, causing [InterruptedException][1].\r\n\r\n`yield` allows a context switch to other threads, so this thread will not consume the entire CPU usage of the process.\r\n\r\n  [1]: http://download.oracle.com/javase/1.4.2/docs/api/java/lang/InterruptedException.html","title":"What are the main uses of yield(), and how does it differ from join() and interrupt()?","body":"<p>First, the actual description is</p>\n\n<blockquote>\n  <p>Causes the currently executing thread object to temporarily pause and\n  allow other threads to execute.</p>\n</blockquote>\n\n<p>Now, it is very likely that your main thread will execute the loop five times before the <code>run</code> method of the new thread is being executed, so all the calls to <code>yield</code> will happen only after  the loop in the main thread is executed.</p>\n\n<p><code>join</code> will stop the current thread until the thread being called with <code>join()</code> is done executing.</p>\n\n<p><code>interrupt</code> will interrupt the thread it is being called on, causing <a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/lang/InterruptedException.html\" rel=\"noreferrer\">InterruptedException</a>.</p>\n\n<p><code>yield</code> allows a context switch to other threads, so this thread will not consume the entire CPU usage of the process.</p>\n"},{"tags":[],"owner":{"account_id":312252,"reputation":1321,"user_id":2032761,"display_name":"Sathwick"},"down_vote_count":0,"up_vote_count":101,"is_accepted":true,"score":101,"last_activity_date":1478084334,"creation_date":1312794429,"answer_id":6979859,"question_id":6979796,"body_markdown":"**Source: http://www.javamex.com/tutorials/threads/yield.shtml**\r\n\r\n&gt; ###Windows\r\n&gt; \r\n&gt; In the Hotspot implementation, the way that `Thread.yield()` works has\r\n&gt; changed between Java 5 and Java 6.\r\n&gt; \r\n&gt; In Java 5, `Thread.yield()` calls the Windows API call `Sleep(0)`. This\r\n&gt; has the special effect of **clearing the current thread&#39;s quantum** and\r\n&gt; putting it to the **end of the queue for its _priority level_**. In other\r\n&gt; words, all runnable threads of the same priority (and those of greater\r\n&gt; priority) will get a chance to run before the yielded thread is next\r\n&gt; given CPU time. When it is eventually re-scheduled, it will come back\r\n&gt; with a full [full quantum][1], but doesn&#39;t &quot;carry over&quot; any of the\r\n&gt; remaining quantum from the time of yielding. This behaviour is a\r\n&gt; little different from a non-zero sleep where the sleeping thread\r\n&gt; generally loses 1 quantum value (in effect, 1/3 of a 10 or 15ms tick).\r\n&gt; \r\n&gt; In Java 6, this behaviour was changed. The Hotspot VM now implements\r\n&gt; `Thread.yield()` using the Windows `SwitchToThread()` API call. This call\r\n&gt; makes the current thread **give up its _current timeslice_**, but not its\r\n&gt; entire quantum. This means that depending on the priorities of other\r\n&gt; threads, the yielding thread can be **scheduled back in one interrupt\r\n&gt; period later**. (See the section on [thread scheduling][2] for more\r\n&gt; information on timeslices.)\r\n&gt; \r\n&gt; \r\n&gt; ###Linux\r\n&gt; \r\n&gt; Under Linux, Hotspot simply calls `sched_yield()`. The consequences of\r\n&gt; this call are a little different, and possibly more severe than under\r\n&gt; Windows:\r\n&gt; \r\n&gt;    * a yielded thread will not get another slice of CPU **until _all_ other threads have had a slice of CPU**;\r\n&gt;    * (at least in kernel 2.6.8 onwards), the fact that the thread has yielded is implicitly taken into account by the scheduler&#39;s heuristics\r\n&gt; on its recent CPU allocation— thus, implicitly, a thread that has\r\n&gt; yielded could be given more CPU when scheduled in the future. \r\n&gt; \r\n&gt; (See the section on [thread scheduling][2] for more details on priorities\r\n&gt; and scheduling algorithms.) \r\n&gt;\r\n&gt; ###When to use `yield()`?\r\n&gt; \r\n&gt; I would say **practically never**. Its behaviour isn&#39;t standardly defined\r\n&gt; and there are generally better ways to perform the tasks that you\r\n&gt; might want to perform with yield():\r\n&gt; \r\n&gt;    * if you&#39;re trying to **use only a portion of the CPU**, you can do this in a more controllable way by estimating how much CPU the thread\r\n&gt; has used in its last chunk of processing, then **sleeping** for some\r\n&gt; amount of time to compensate: see the [sleep()][3] method;\r\n&gt;    * if you&#39;re **waiting for a process or resource** to complete or become available, there are more efficient ways to accomplish this,\r\n&gt; such as by using [join()][4] to wait for another thread to complete, using\r\n&gt; the [wait/notify][5] mechanism to allow one thread to signal to another\r\n&gt; that a task is complete, or ideally by using one of the Java 5\r\n&gt; concurrency constructs such as a [Semaphore][6] or [blocking queue][7].\r\n\r\n\r\n  [1]: http://www.javamex.com/tutorials/threads/thread_scheduling.shtml#quantum\r\n  [2]: http://www.javamex.com/tutorials/threads/thread_scheduling.shtml\r\n  [3]: http://www.javamex.com/tutorials/threads/sleep.shtml\r\n  [4]: http://www.javamex.com/tutorials/threads/yield.shtml#join\r\n  [5]: http://www.javamex.com/tutorials/synchronization_wait_notify.shtml\r\n  [6]: http://www.javamex.com/tutorials/synchronization_concurrency_semaphore.shtml\r\n  [7]: http://www.javamex.com/tutorials/synchronization_concurrency_8_queues.shtml","title":"What are the main uses of yield(), and how does it differ from join() and interrupt()?","body":"<p><strong>Source: <a href=\"http://www.javamex.com/tutorials/threads/yield.shtml\" rel=\"noreferrer\">http://www.javamex.com/tutorials/threads/yield.shtml</a></strong></p>\n\n<blockquote>\n  <h3>Windows</h3>\n  \n  <p>In the Hotspot implementation, the way that <code>Thread.yield()</code> works has\n  changed between Java 5 and Java 6.</p>\n  \n  <p>In Java 5, <code>Thread.yield()</code> calls the Windows API call <code>Sleep(0)</code>. This\n  has the special effect of <strong>clearing the current thread's quantum</strong> and\n  putting it to the <strong>end of the queue for its <em>priority level</em></strong>. In other\n  words, all runnable threads of the same priority (and those of greater\n  priority) will get a chance to run before the yielded thread is next\n  given CPU time. When it is eventually re-scheduled, it will come back\n  with a full <a href=\"http://www.javamex.com/tutorials/threads/thread_scheduling.shtml#quantum\" rel=\"noreferrer\">full quantum</a>, but doesn't \"carry over\" any of the\n  remaining quantum from the time of yielding. This behaviour is a\n  little different from a non-zero sleep where the sleeping thread\n  generally loses 1 quantum value (in effect, 1/3 of a 10 or 15ms tick).</p>\n  \n  <p>In Java 6, this behaviour was changed. The Hotspot VM now implements\n  <code>Thread.yield()</code> using the Windows <code>SwitchToThread()</code> API call. This call\n  makes the current thread <strong>give up its <em>current timeslice</em></strong>, but not its\n  entire quantum. This means that depending on the priorities of other\n  threads, the yielding thread can be <strong>scheduled back in one interrupt\n  period later</strong>. (See the section on <a href=\"http://www.javamex.com/tutorials/threads/thread_scheduling.shtml\" rel=\"noreferrer\">thread scheduling</a> for more\n  information on timeslices.)</p>\n  \n  <h3>Linux</h3>\n  \n  <p>Under Linux, Hotspot simply calls <code>sched_yield()</code>. The consequences of\n  this call are a little different, and possibly more severe than under\n  Windows:</p>\n  \n  <ul>\n  <li>a yielded thread will not get another slice of CPU <strong>until <em>all</em> other threads have had a slice of CPU</strong>;</li>\n  <li>(at least in kernel 2.6.8 onwards), the fact that the thread has yielded is implicitly taken into account by the scheduler's heuristics\n  on its recent CPU allocation— thus, implicitly, a thread that has\n  yielded could be given more CPU when scheduled in the future. </li>\n  </ul>\n  \n  <p>(See the section on <a href=\"http://www.javamex.com/tutorials/threads/thread_scheduling.shtml\" rel=\"noreferrer\">thread scheduling</a> for more details on priorities\n  and scheduling algorithms.) </p>\n  \n  <h3>When to use <code>yield()</code>?</h3>\n  \n  <p>I would say <strong>practically never</strong>. Its behaviour isn't standardly defined\n  and there are generally better ways to perform the tasks that you\n  might want to perform with yield():</p>\n  \n  <ul>\n  <li>if you're trying to <strong>use only a portion of the CPU</strong>, you can do this in a more controllable way by estimating how much CPU the thread\n  has used in its last chunk of processing, then <strong>sleeping</strong> for some\n  amount of time to compensate: see the <a href=\"http://www.javamex.com/tutorials/threads/sleep.shtml\" rel=\"noreferrer\">sleep()</a> method;</li>\n  <li>if you're <strong>waiting for a process or resource</strong> to complete or become available, there are more efficient ways to accomplish this,\n  such as by using <a href=\"http://www.javamex.com/tutorials/threads/yield.shtml#join\" rel=\"noreferrer\">join()</a> to wait for another thread to complete, using\n  the <a href=\"http://www.javamex.com/tutorials/synchronization_wait_notify.shtml\" rel=\"noreferrer\">wait/notify</a> mechanism to allow one thread to signal to another\n  that a task is complete, or ideally by using one of the Java 5\n  concurrency constructs such as a <a href=\"http://www.javamex.com/tutorials/synchronization_concurrency_semaphore.shtml\" rel=\"noreferrer\">Semaphore</a> or <a href=\"http://www.javamex.com/tutorials/synchronization_concurrency_8_queues.shtml\" rel=\"noreferrer\">blocking queue</a>.</li>\n  </ul>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":514136,"reputation":120958,"user_id":1593077,"accept_rate":49,"display_name":"einpoklum"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1389046643,"creation_date":1365103498,"answer_id":15819966,"question_id":6979796,"body_markdown":"About the differences between `yield()`, `interrupt()` and `join()` - in general, not just in Java:\r\n\r\n1. **yielding**: Literally, to &#39;yield&#39; means to let go, to give up, to surrender. A yielding thread tells the operating system (or the virtual machine, or what not) it&#39;s willing to let other threads be scheduled in its stead. This indicates it&#39;s not doing something too critical. It&#39;s only a hint, though, and not guaranteed to have any effect.\r\n2. **joining**: When multiple threads &#39;join&#39; on some handle, or token, or entity, all of them wait until all other relevant threads have completed execution (entirely or upto their own corresponding join). That means a bunch of threads have all completed their tasks. Then each one of these threads can be scheduled to continue other work, being able to assume all those tasks are indeed complete. (Not to be confused with SQL Joins!)\r\n3. **interruption**: Used by one thread to &#39;poke&#39; another thread which is sleeping, or waiting, or joining - so that it is scheduled to continue running again, perhaps with an indication it has been interrupted. (Not to be confused with hardware interrupts!)\r\n\r\nFor Java specifically, see \r\n\r\n1. Joining:\r\n\r\n  [How to use Thread.join?](https://stackoverflow.com/questions/1908515/java-how-to-use-thread-join) (here on StackOverflow)\r\n\r\n  [When to join threads?](http://javahowto.blogspot.co.il/2007/05/when-to-join-threads.html)\r\n\r\n2. Yielding:\r\n\r\n3. Interrupting:\r\n\r\n   [Is Thread.interrupt() evil?](https://stackoverflow.com/q/2020992/1593077) (here on StackOverflow)\r\n","title":"What are the main uses of yield(), and how does it differ from join() and interrupt()?","body":"<p>About the differences between <code>yield()</code>, <code>interrupt()</code> and <code>join()</code> - in general, not just in Java:</p>\n\n<ol>\n<li><strong>yielding</strong>: Literally, to 'yield' means to let go, to give up, to surrender. A yielding thread tells the operating system (or the virtual machine, or what not) it's willing to let other threads be scheduled in its stead. This indicates it's not doing something too critical. It's only a hint, though, and not guaranteed to have any effect.</li>\n<li><strong>joining</strong>: When multiple threads 'join' on some handle, or token, or entity, all of them wait until all other relevant threads have completed execution (entirely or upto their own corresponding join). That means a bunch of threads have all completed their tasks. Then each one of these threads can be scheduled to continue other work, being able to assume all those tasks are indeed complete. (Not to be confused with SQL Joins!)</li>\n<li><strong>interruption</strong>: Used by one thread to 'poke' another thread which is sleeping, or waiting, or joining - so that it is scheduled to continue running again, perhaps with an indication it has been interrupted. (Not to be confused with hardware interrupts!)</li>\n</ol>\n\n<p>For Java specifically, see </p>\n\n<ol>\n<li><p>Joining:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/1908515/java-how-to-use-thread-join\">How to use Thread.join?</a> (here on StackOverflow)</p>\n\n<p><a href=\"http://javahowto.blogspot.co.il/2007/05/when-to-join-threads.html\" rel=\"noreferrer\">When to join threads?</a></p></li>\n<li><p>Yielding:</p></li>\n<li><p>Interrupting:</p>\n\n<p><a href=\"https://stackoverflow.com/q/2020992/1593077\">Is Thread.interrupt() evil?</a> (here on StackOverflow)</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3346243,"reputation":69,"user_id":2811354,"display_name":"Prashant Kumar"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1399889683,"creation_date":1399889683,"answer_id":23606366,"question_id":6979796,"body_markdown":"Thread.yield()\r\n&gt; When we invoke Thread.yield() method, the thread scheduler keep the currently running thread to Runnable state and picks another thread of equal priority or higher priority. If there is no equal and higher priority thread then it reschedule the calling yield() thread. Remember yield method does not make the thread to go to Wait or Blocked state. It can only make a thread from Running State to Runnable State.\r\n\r\njoin()\r\n&gt; When join is invoked by a thread instance, this thread will tell currently executing thread to wait till the Joining thread completes. Join is used in the situations when a task which should be completed before the current task is going to finish.\r\n","title":"What are the main uses of yield(), and how does it differ from join() and interrupt()?","body":"<p>Thread.yield()</p>\n\n<blockquote>\n  <p>When we invoke Thread.yield() method, the thread scheduler keep the currently running thread to Runnable state and picks another thread of equal priority or higher priority. If there is no equal and higher priority thread then it reschedule the calling yield() thread. Remember yield method does not make the thread to go to Wait or Blocked state. It can only make a thread from Running State to Runnable State.</p>\n</blockquote>\n\n<p>join()</p>\n\n<blockquote>\n  <p>When join is invoked by a thread instance, this thread will tell currently executing thread to wait till the Joining thread completes. Join is used in the situations when a task which should be completed before the current task is going to finish.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":426969,"reputation":61751,"user_id":808486,"accept_rate":100,"display_name":"Tudor"},"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1452155712,"creation_date":1406563890,"answer_id":24999481,"question_id":6979796,"body_markdown":"I see the question has been reactivated with a bounty, now asking what the practical uses for `yield` are. I&#39;ll give an example from my experience.\r\n\r\nAs we know, `yield` forces the calling thread to give up the processor that it&#39;s running on so that another thread can be scheduled to run. This is useful when the current thread has finished its work for now but wants to quickly return to the front of the queue and check whether some condition has changed. How is this different from a condition variable? `yield` enables the thread to return much quicker to a running state. When waiting on a condition variable the thread is suspended and needs to wait for a different thread to signal that it should continue. `yield` basically says &quot;allow a different thread to run, but allow me to get back to work very soon as I expect something to change in my state very very quickly&quot;. This hints towards busy spinning, where a condition can change rapidly but suspending the thread would incur a large performance hit.\r\n\r\nBut enough babbling, here&#39;s a concrete example: the wavefront parallel pattern. A basic instance of this problem is computing the individual &quot;islands&quot; of 1s in a bidimensional array filled with 0s and 1s. An &quot;island&quot; is a group of cells that are adjacent to eachother either vertically or horizontally:\r\n\r\n    1 0 0 0\r\n    1 1 0 0\r\n    0 0 0 1\r\n    0 0 1 1\r\n    0 0 1 1\r\n\r\nHere we have two islands of 1s: top-left and bottom-right.\r\n\r\nA simple solution is to make a first pass over the entire array and replace the 1 values with an incrementing counter such that by the end each 1 was replaced with its sequence number in row major order:\r\n\r\n    1 0 0 0\r\n    2 3 0 0\r\n    0 0 0 4\r\n    0 0 5 6\r\n    0 0 7 8\r\n\r\nIn the next step, each value is replaced by the minimum between itself and its neighbours&#39; values:\r\n\r\n    1 0 0 0\r\n    1 1 0 0\r\n    0 0 0 4\r\n    0 0 4 4\r\n    0 0 4 4\r\n\r\nWe can now easily determine that we have two islands.\r\n\r\nThe part we want to run in parallel is the the step where we compute the minimums. Without going into too much detail, each thread gets rows in an interleaved manner and relies on the values computed by the thread processing the row above. Thus, each thread needs to slightly lag behind the thread processing the previous line, but must also keep up within reasonable time. More details and an implementation are presented by myself in [this document][1]. Note the usage of `sleep(0)` which is more or less the C equivalent of `yield`.\r\n\r\nIn this case `yield` was used in order to force each thread in turn to pause, but since the thread processing the adjacent row would advance very quickly in the meantime, a condition variable would prove a disastrous choice.\r\n\r\nAs you can see, `yield` is quite a fine-grain optimization. Using it in the wrong place e.g. waiting on a condition that changes seldomly, will cause excessive use of the CPU.\r\n\r\nSorry for the long babble, hope I made myself clear.\r\n\r\n\r\n  [1]: https://drive.google.com/file/d/0BwHrufT_K__FNWYzMDIzOTctZDQyNC00NTEwLWI1YzMtNTdhMTc4NmNkYTdk/edit?usp=sharing","title":"What are the main uses of yield(), and how does it differ from join() and interrupt()?","body":"<p>I see the question has been reactivated with a bounty, now asking what the practical uses for <code>yield</code> are. I'll give an example from my experience.</p>\n\n<p>As we know, <code>yield</code> forces the calling thread to give up the processor that it's running on so that another thread can be scheduled to run. This is useful when the current thread has finished its work for now but wants to quickly return to the front of the queue and check whether some condition has changed. How is this different from a condition variable? <code>yield</code> enables the thread to return much quicker to a running state. When waiting on a condition variable the thread is suspended and needs to wait for a different thread to signal that it should continue. <code>yield</code> basically says \"allow a different thread to run, but allow me to get back to work very soon as I expect something to change in my state very very quickly\". This hints towards busy spinning, where a condition can change rapidly but suspending the thread would incur a large performance hit.</p>\n\n<p>But enough babbling, here's a concrete example: the wavefront parallel pattern. A basic instance of this problem is computing the individual \"islands\" of 1s in a bidimensional array filled with 0s and 1s. An \"island\" is a group of cells that are adjacent to eachother either vertically or horizontally:</p>\n\n<pre><code>1 0 0 0\n1 1 0 0\n0 0 0 1\n0 0 1 1\n0 0 1 1\n</code></pre>\n\n<p>Here we have two islands of 1s: top-left and bottom-right.</p>\n\n<p>A simple solution is to make a first pass over the entire array and replace the 1 values with an incrementing counter such that by the end each 1 was replaced with its sequence number in row major order:</p>\n\n<pre><code>1 0 0 0\n2 3 0 0\n0 0 0 4\n0 0 5 6\n0 0 7 8\n</code></pre>\n\n<p>In the next step, each value is replaced by the minimum between itself and its neighbours' values:</p>\n\n<pre><code>1 0 0 0\n1 1 0 0\n0 0 0 4\n0 0 4 4\n0 0 4 4\n</code></pre>\n\n<p>We can now easily determine that we have two islands.</p>\n\n<p>The part we want to run in parallel is the the step where we compute the minimums. Without going into too much detail, each thread gets rows in an interleaved manner and relies on the values computed by the thread processing the row above. Thus, each thread needs to slightly lag behind the thread processing the previous line, but must also keep up within reasonable time. More details and an implementation are presented by myself in <a href=\"https://drive.google.com/file/d/0BwHrufT_K__FNWYzMDIzOTctZDQyNC00NTEwLWI1YzMtNTdhMTc4NmNkYTdk/edit?usp=sharing\">this document</a>. Note the usage of <code>sleep(0)</code> which is more or less the C equivalent of <code>yield</code>.</p>\n\n<p>In this case <code>yield</code> was used in order to force each thread in turn to pause, but since the thread processing the adjacent row would advance very quickly in the meantime, a condition variable would prove a disastrous choice.</p>\n\n<p>As you can see, <code>yield</code> is quite a fine-grain optimization. Using it in the wrong place e.g. waiting on a condition that changes seldomly, will cause excessive use of the CPU.</p>\n\n<p>Sorry for the long babble, hope I made myself clear.</p>\n"},{"tags":[],"owner":{"account_id":4831995,"reputation":1,"user_id":3899970,"display_name":"K.Hughley"},"down_vote_count":5,"up_vote_count":1,"is_accepted":false,"score":-4,"last_activity_date":1406925791,"creation_date":1406925791,"answer_id":25088363,"question_id":6979796,"body_markdown":"yield() main use is for putting a multi-threading application on hold. \r\n\r\nall these methods differences are yield() puts thread on hold while executing another thread and returning back after the completion of that thread, join() will bring the beginning of threads together executing until the end and of another thread to run after that thread has ended, interrupt() will stop the execution of a thread for a while. ","title":"What are the main uses of yield(), and how does it differ from join() and interrupt()?","body":"<p>yield() main use is for putting a multi-threading application on hold. </p>\n\n<p>all these methods differences are yield() puts thread on hold while executing another thread and returning back after the completion of that thread, join() will bring the beginning of threads together executing until the end and of another thread to run after that thread has ended, interrupt() will stop the execution of a thread for a while. </p>\n"},{"tags":[],"owner":{"account_id":2109967,"reputation":6673,"user_id":1875434,"accept_rate":67,"display_name":"abbas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1407156982,"creation_date":1407060066,"answer_id":25103577,"question_id":6979796,"body_markdown":"&gt; What are, in fact, the main uses of yield()?\r\n\r\nYield suggests to the CPU that you may stop the current thread and start executing threads with higher priority. In other words, assigning a low priority value to the current thread to leave room for more critical threads.\r\n\r\n&gt; I believe the code below result in the same output both when using yield() and when not using it. Is this correct?\r\n\r\nNO, the two will produce different results. Without a yield(), once the thread gets control it will execute the &#39;Inside run&#39; loop in one go. However, with a yield(), once the thread gets control it will print the &#39;Inside run&#39; once and then will hand over control to other thread if any. If no thread in pending, this thread will be resumed again. So every time &quot;Inside run&#39; is executed it will look for other threads to execute and if no thread is available, the current thread will keep on executing.\r\n\r\n&gt; In what ways is yield() different from the join() and interrupt() methods?\r\n\r\nyield() is for giving room to other important threads, join() is for waiting for another thread to complete its execution, and interrupt() is for interrupting a currently executing thread to do something else.  ","title":"What are the main uses of yield(), and how does it differ from join() and interrupt()?","body":"<blockquote>\n  <p>What are, in fact, the main uses of yield()?</p>\n</blockquote>\n\n<p>Yield suggests to the CPU that you may stop the current thread and start executing threads with higher priority. In other words, assigning a low priority value to the current thread to leave room for more critical threads.</p>\n\n<blockquote>\n  <p>I believe the code below result in the same output both when using yield() and when not using it. Is this correct?</p>\n</blockquote>\n\n<p>NO, the two will produce different results. Without a yield(), once the thread gets control it will execute the 'Inside run' loop in one go. However, with a yield(), once the thread gets control it will print the 'Inside run' once and then will hand over control to other thread if any. If no thread in pending, this thread will be resumed again. So every time \"Inside run' is executed it will look for other threads to execute and if no thread is available, the current thread will keep on executing.</p>\n\n<blockquote>\n  <p>In what ways is yield() different from the join() and interrupt() methods?</p>\n</blockquote>\n\n<p>yield() is for giving room to other important threads, join() is for waiting for another thread to complete its execution, and interrupt() is for interrupting a currently executing thread to do something else.  </p>\n"},{"tags":[],"owner":{"account_id":10837956,"reputation":9,"user_id":7970284,"display_name":"Prashant Gunjal"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1494008163,"creation_date":1494006945,"answer_id":43811129,"question_id":6979796,"body_markdown":"`Thread.yield()` causes thread to go from &quot;Running&quot; state to &quot;Runnable&quot; state.\r\nNote: It doesn&#39;t cause thread to go &quot;Waiting&quot; state.\r\n","title":"What are the main uses of yield(), and how does it differ from join() and interrupt()?","body":"<p><code>Thread.yield()</code> causes thread to go from \"Running\" state to \"Runnable\" state.\nNote: It doesn't cause thread to go \"Waiting\" state.</p>\n"},{"tags":[],"owner":{"account_id":3710518,"reputation":1337,"user_id":3087974,"display_name":"Gregory.K"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1515854549,"creation_date":1515854549,"answer_id":48240914,"question_id":6979796,"body_markdown":"&gt; The current answer(s) are out-of-date and require revision given recent changes.\r\n\r\nThere is no *practical* difference of `Thread.yield()` between Java versions since 6 to 9.\r\n\r\n**TL;DR;**\r\n\r\nConclusions based on OpenJDK source code (http://hg.openjdk.java.net/).\r\n\r\nIf not to take into account HotSpot support of USDT probes (system tracing information is described in [dtrace guide][1]) and JVM property `ConvertYieldToSleep` then source code of `yield()` is almost the same. See explanation below.\r\n\r\n**Java 9**:\r\n\r\n`Thread.yield()` calls OS-specific method `os::naked_yield()`:  \r\nOn Linux:\r\n\r\n    void os::naked_yield() {\r\n        sched_yield();\r\n    }\r\n\r\nOn Windows:\r\n\r\n    void os::naked_yield() {\r\n        SwitchToThread();\r\n    }\r\n\r\n**Java 8 and earlier:**\r\n\r\n`Thread.yield()` calls OS-specific method `os::yield()`:  \r\nOn Linux:\r\n\r\n    void os::yield() {\r\n        sched_yield();\r\n    }\r\n\r\nOn Windows:\r\n\r\n    void os::yield() {  os::NakedYield(); }\r\n\r\nAs you can see, `Thread.yeald()` on Linux is identical for all Java versions.  \r\nLet&#39;s see Windows&#39;s `os::NakedYield()` from JDK 8:\r\n\r\n    os::YieldResult os::NakedYield() {\r\n        // Use either SwitchToThread() or Sleep(0)\r\n        // Consider passing back the return value from SwitchToThread().\r\n        if (os::Kernel32Dll::SwitchToThreadAvailable()) {\r\n            return SwitchToThread() ? os::YIELD_SWITCHED : os::YIELD_NONEREADY ;\r\n        } else {\r\n            Sleep(0);\r\n        }\r\n        return os::YIELD_UNKNOWN ;\r\n    }\r\n\r\nThe difference between Java 9 and Java 8 in the additional check of the existence of the Win32 API&#39;s `SwitchToThread()` method. The same code is present for Java 6.  \r\nSource code of `os::NakedYield()` in JDK 7 is slightly different but it has the same behavior: \r\n\r\n        os::YieldResult os::NakedYield() {\r\n        // Use either SwitchToThread() or Sleep(0)\r\n        // Consider passing back the return value from SwitchToThread().\r\n        // We use GetProcAddress() as ancient Win9X versions of windows doen&#39;t support SwitchToThread.\r\n        // In that case we revert to Sleep(0).\r\n        static volatile STTSignature stt = (STTSignature) 1 ;\r\n        \r\n        if (stt == ((STTSignature) 1)) {\r\n            stt = (STTSignature) ::GetProcAddress (LoadLibrary (&quot;Kernel32.dll&quot;), &quot;SwitchToThread&quot;) ;\r\n            // It&#39;s OK if threads race during initialization as the operation above is idempotent.\r\n        }\r\n        if (stt != NULL) {\r\n            return (*stt)() ? os::YIELD_SWITCHED : os::YIELD_NONEREADY ;\r\n        } else {\r\n            Sleep (0) ;\r\n        }\r\n        return os::YIELD_UNKNOWN ;\r\n    }\r\n\r\nThe additional check has been dropped due to `SwitchToThread()` method are available since Windows XP and Windows Server 2003 (see [msdn notes][2]).\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/guides/vm/dtrace.html\r\n  [2]: https://msdn.microsoft.com/ru-ru/en-en/library/windows/desktop/ms686352(v=vs.85).aspx","title":"What are the main uses of yield(), and how does it differ from join() and interrupt()?","body":"<blockquote>\n  <p>The current answer(s) are out-of-date and require revision given recent changes.</p>\n</blockquote>\n\n<p>There is no <em>practical</em> difference of <code>Thread.yield()</code> between Java versions since 6 to 9.</p>\n\n<p><strong>TL;DR;</strong></p>\n\n<p>Conclusions based on OpenJDK source code (<a href=\"http://hg.openjdk.java.net/\" rel=\"nofollow noreferrer\">http://hg.openjdk.java.net/</a>).</p>\n\n<p>If not to take into account HotSpot support of USDT probes (system tracing information is described in <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/vm/dtrace.html\" rel=\"nofollow noreferrer\">dtrace guide</a>) and JVM property <code>ConvertYieldToSleep</code> then source code of <code>yield()</code> is almost the same. See explanation below.</p>\n\n<p><strong>Java 9</strong>:</p>\n\n<p><code>Thread.yield()</code> calls OS-specific method <code>os::naked_yield()</code>:<br>\nOn Linux:</p>\n\n<pre><code>void os::naked_yield() {\n    sched_yield();\n}\n</code></pre>\n\n<p>On Windows:</p>\n\n<pre><code>void os::naked_yield() {\n    SwitchToThread();\n}\n</code></pre>\n\n<p><strong>Java 8 and earlier:</strong></p>\n\n<p><code>Thread.yield()</code> calls OS-specific method <code>os::yield()</code>:<br>\nOn Linux:</p>\n\n<pre><code>void os::yield() {\n    sched_yield();\n}\n</code></pre>\n\n<p>On Windows:</p>\n\n<pre><code>void os::yield() {  os::NakedYield(); }\n</code></pre>\n\n<p>As you can see, <code>Thread.yeald()</code> on Linux is identical for all Java versions.<br>\nLet's see Windows's <code>os::NakedYield()</code> from JDK 8:</p>\n\n<pre><code>os::YieldResult os::NakedYield() {\n    // Use either SwitchToThread() or Sleep(0)\n    // Consider passing back the return value from SwitchToThread().\n    if (os::Kernel32Dll::SwitchToThreadAvailable()) {\n        return SwitchToThread() ? os::YIELD_SWITCHED : os::YIELD_NONEREADY ;\n    } else {\n        Sleep(0);\n    }\n    return os::YIELD_UNKNOWN ;\n}\n</code></pre>\n\n<p>The difference between Java 9 and Java 8 in the additional check of the existence of the Win32 API's <code>SwitchToThread()</code> method. The same code is present for Java 6.<br>\nSource code of <code>os::NakedYield()</code> in JDK 7 is slightly different but it has the same behavior: </p>\n\n<pre><code>    os::YieldResult os::NakedYield() {\n    // Use either SwitchToThread() or Sleep(0)\n    // Consider passing back the return value from SwitchToThread().\n    // We use GetProcAddress() as ancient Win9X versions of windows doen't support SwitchToThread.\n    // In that case we revert to Sleep(0).\n    static volatile STTSignature stt = (STTSignature) 1 ;\n\n    if (stt == ((STTSignature) 1)) {\n        stt = (STTSignature) ::GetProcAddress (LoadLibrary (\"Kernel32.dll\"), \"SwitchToThread\") ;\n        // It's OK if threads race during initialization as the operation above is idempotent.\n    }\n    if (stt != NULL) {\n        return (*stt)() ? os::YIELD_SWITCHED : os::YIELD_NONEREADY ;\n    } else {\n        Sleep (0) ;\n    }\n    return os::YIELD_UNKNOWN ;\n}\n</code></pre>\n\n<p>The additional check has been dropped due to <code>SwitchToThread()</code> method are available since Windows XP and Windows Server 2003 (see <a href=\"https://msdn.microsoft.com/ru-ru/en-en/library/windows/desktop/ms686352(v=vs.85).aspx\" rel=\"nofollow noreferrer\">msdn notes</a>).</p>\n"},{"tags":[],"owner":{"account_id":25299190,"reputation":23,"user_id":19123732,"display_name":"Worldwidebrine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652680234,"creation_date":1652663160,"answer_id":72253270,"question_id":6979796,"body_markdown":"`Thread.yield();` frees the bottom thread.\r\n\r\n`Thread` is using OS threads, so `Thread.yield();` might free the hardware thread.\r\n\r\nBad implementation for `sleep(millis)`\r\n\r\n    public class MySleep {\r\n\t\tpublic static void sleep(long millis) throws InterruptedException {\r\n\t\t\tlong start = System.currentTimeMillis();\r\n\t\t\tdo {\r\n\t\t\t\tThread.yield();\r\n\t\t\t\tif (Thread.interrupted()) {\r\n\t\t\t\t\tthrow new InterruptedException();\r\n\t\t\t\t}\r\n\t\t\t} while (System.currentTimeMillis() - start &lt; millis);\r\n\t\t}\r\n\t}\r\n\r\nand `join()`\r\n\r\n\tpublic class MyJoin {\r\n\t\tpublic static void join(Thread t) throws InterruptedException {\r\n\t\t\twhile (t.getState() != Thread.State.TERMINATED) {\r\n\t\t\t\tThread.yield();\r\n\t\t\t\tif (Thread.interrupted()) {\r\n\t\t\t\t\tthrow new InterruptedException();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tThread thread = new Thread(()-&gt; {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tThread.sleep(2000);\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tthread.start();\r\n\t\t\tSystem.out.println(&quot;before&quot;);\r\n\t\t\ttry {\r\n\t\t\t\tjoin(thread);\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;after&quot;);\r\n\t\t}\r\n\t}\r\n\r\nThis should work even if there is only one hardware thread, unless `Thread.yield();` is removed.","title":"What are the main uses of yield(), and how does it differ from join() and interrupt()?","body":"<p><code>Thread.yield();</code> frees the bottom thread.</p>\n<p><code>Thread</code> is using OS threads, so <code>Thread.yield();</code> might free the hardware thread.</p>\n<p>Bad implementation for <code>sleep(millis)</code></p>\n<pre><code>public class MySleep {\n    public static void sleep(long millis) throws InterruptedException {\n        long start = System.currentTimeMillis();\n        do {\n            Thread.yield();\n            if (Thread.interrupted()) {\n                throw new InterruptedException();\n            }\n        } while (System.currentTimeMillis() - start &lt; millis);\n    }\n}\n</code></pre>\n<p>and <code>join()</code></p>\n<pre><code>public class MyJoin {\n    public static void join(Thread t) throws InterruptedException {\n        while (t.getState() != Thread.State.TERMINATED) {\n            Thread.yield();\n            if (Thread.interrupted()) {\n                throw new InterruptedException();\n            }\n        }\n    }\n    public static void main(String[] args) {\n        Thread thread = new Thread(()-&gt; {\n            try {\n                Thread.sleep(2000);\n            } catch (Exception e) {\n            }\n        });\n        thread.start();\n        System.out.println(&quot;before&quot;);\n        try {\n            join(thread);\n        } catch (Exception e) {\n        }\n        System.out.println(&quot;after&quot;);\n    }\n}\n</code></pre>\n<p>This should work even if there is only one hardware thread, unless <code>Thread.yield();</code> is removed.</p>\n"}],"owner":{"account_id":438971,"reputation":7877,"user_id":827583,"accept_rate":79,"display_name":"divz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105750,"favorite_count":0,"down_vote_count":0,"up_vote_count":112,"accepted_answer_id":6979859,"answer_count":10,"score":112,"last_activity_date":1652680234,"creation_date":1312794118,"question_id":6979796,"body_markdown":"I am a little bit confused about the use of [`Thread.yield()`][1] method in Java, specifically in the example code below. I&#39;ve also read that yield() is &#39;used to prevent execution of a thread&#39;.\r\n\r\nMy questions are:\r\n\r\n1. I believe the code below result in the same output both when using `yield()` and when not using it. Is this correct?\r\n\r\n2. What are, in fact, the main uses of `yield()`?\r\n\r\n3. In what ways is `yield()` different from the `join()` and `interrupt()` methods?\r\n\r\nThe code example:  \r\n\r\n    public class MyRunnable implements Runnable {\r\n    \r\n       public static void main(String[] args) {\r\n          Thread t = new Thread(new MyRunnable());\r\n          t.start();\r\n    \r\n          for(int i=0; i&lt;5; i++) {\r\n              System.out.println(&quot;Inside main&quot;);\r\n          }\r\n       }\r\n    \r\n       public void run() {\r\n          for(int i=0; i&lt;5; i++) {\r\n              System.out.println(&quot;Inside run&quot;);\r\n              Thread.yield();\r\n          }\r\n       }\r\n    }\r\n    \r\n    \r\nI obtain the same output using the code above both with and without using `yield()`:\r\n    \r\n    Inside main\r\n    Inside main\r\n    Inside main\r\n    Inside main\r\n    Inside main\r\n    Inside run\r\n    Inside run\r\n    Inside run\r\n    Inside run\r\n    Inside run\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html#yield()","title":"What are the main uses of yield(), and how does it differ from join() and interrupt()?","body":"<p>I am a little bit confused about the use of <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html#yield()\" rel=\"noreferrer\"><code>Thread.yield()</code></a> method in Java, specifically in the example code below. I've also read that yield() is 'used to prevent execution of a thread'.</p>\n<p>My questions are:</p>\n<ol>\n<li><p>I believe the code below result in the same output both when using <code>yield()</code> and when not using it. Is this correct?</p>\n</li>\n<li><p>What are, in fact, the main uses of <code>yield()</code>?</p>\n</li>\n<li><p>In what ways is <code>yield()</code> different from the <code>join()</code> and <code>interrupt()</code> methods?</p>\n</li>\n</ol>\n<p>The code example:</p>\n<pre><code>public class MyRunnable implements Runnable {\n\n   public static void main(String[] args) {\n      Thread t = new Thread(new MyRunnable());\n      t.start();\n\n      for(int i=0; i&lt;5; i++) {\n          System.out.println(&quot;Inside main&quot;);\n      }\n   }\n\n   public void run() {\n      for(int i=0; i&lt;5; i++) {\n          System.out.println(&quot;Inside run&quot;);\n          Thread.yield();\n      }\n   }\n}\n</code></pre>\n<p>I obtain the same output using the code above both with and without using <code>yield()</code>:</p>\n<pre><code>Inside main\nInside main\nInside main\nInside main\nInside main\nInside run\nInside run\nInside run\nInside run\nInside run\n</code></pre>\n"},{"tags":["java","xml","soap"],"comments":[{"owner":{"display_name":"user437212"},"score":0,"creation_date":1652811642,"post_id":72254442,"comment_id":127695340,"body_markdown":"Are you using a SOAP framework or rolling your own? It looks like you are asking for an entire SOAP solution, which no one here really wants to write for you.","body":"Are you using a SOAP framework or rolling your own? It looks like you are asking for an entire SOAP solution, which no one here really wants to write for you."}],"answers":[{"tags":[],"owner":{"account_id":9296154,"reputation":106,"user_id":6902993,"display_name":"sansay61"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652679971,"creation_date":1652679670,"answer_id":72254576,"question_id":72254442,"body_markdown":"Oh .. I see xroad :). use maven-jaxb2-plugin to generate pojo models from xsd.  Grab data from database, map it to pojo generated previously and pass it to the ws client\r\n\r\nBeware that some xsd schemas of xroad are insufficient.\r\n\r\nYou&#39;d better to hide authentication details from your question.","title":"How work with soap in Spring boot like an object?","body":"<p>Oh .. I see xroad :). use maven-jaxb2-plugin to generate pojo models from xsd.  Grab data from database, map it to pojo generated previously and pass it to the ws client</p>\n<p>Beware that some xsd schemas of xroad are insufficient.</p>\n<p>You'd better to hide authentication details from your question.</p>\n"}],"owner":{"account_id":15017872,"reputation":17,"user_id":12029381,"display_name":"omur turdubekov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1652898582,"accepted_answer_id":72254576,"answer_count":1,"score":0,"last_activity_date":1652679971,"creation_date":1652678433,"question_id":72254442,"body_markdown":"I got soap project, thats works with xsd file. But I no idea how to work with soap.\r\nHow i can work with xsd file like an object?\r\nWhat I need, get some data from database, set values to object, map to xsd file and sent to request with xsd file body\r\n XSD:\r\n\r\n    &lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;\r\n                  xmlns:xro=&quot;http://x-road.eu/xsd/xroad.xsd&quot;\r\n                  xmlns:iden=&quot;http://xroad.eu/xsd/identifiers&quot;\r\n                  xmlns:erec=&quot;http://testrecord_service.x-road.ee/testrecord&quot;&gt;\r\n\r\n    &lt;soapenv:Header&gt;\r\n        &lt;xro:protocolVersion&gt;4.0&lt;/xro:protocolVersion&gt;\r\n        &lt;xro:issue&gt;123&lt;/xro:issue&gt;\r\n        &lt;xro:id&gt;123&lt;/xro:id&gt;\r\n        &lt;xro:userId&gt;123&lt;/xro:userId&gt;\r\n\r\n        &lt;xro:service iden:objectType=&quot;SERVICE&quot;&gt;\r\n            &lt;iden:xRoadInstance&gt;central-server&lt;/iden:xRoadInstance&gt;\r\n            &lt;iden:memberClass&gt;test&lt;/iden:memberClass&gt;\r\n            &lt;iden:memberCode&gt;test coed&lt;/iden:memberCode&gt;\r\n            &lt;!--Optional:--&gt;\r\n            &lt;iden:subsystemCode&gt;test-service&lt;/iden:subsystemCode&gt;\r\n            &lt;iden:serviceCode&gt;testrecord&lt;/iden:serviceCode&gt;\r\n            &lt;!--Optional:--&gt;\r\n            &lt;iden:serviceVersion&gt;v1&lt;/iden:serviceVersion&gt;\r\n        &lt;/xro:service&gt;\r\n\r\n        &lt;xro:client iden:objectType=&quot;SUBSYSTEM&quot;&gt;\r\n            &lt;iden:xRoadInstance&gt;test-server&lt;/iden:xRoadInstance&gt;\r\n            &lt;iden:memberClass&gt;test&lt;/iden:memberClass&gt;\r\n            &lt;iden:memberCode&gt;testcode&lt;/iden:memberCode&gt;\r\n            &lt;!--Optional:--&gt;\r\n            &lt;iden:subsystemCode&gt;test-service&lt;/iden:subsystemCode&gt;\r\n        &lt;/xro:client&gt;\r\n\r\n    &lt;/soapenv:Header&gt;\r\n\r\n    &lt;soapenv:Body&gt;\r\n        &lt;erec:Authentication&gt;\r\n            &lt;erec:companyIdentifier&gt;cc93a8c3-465d-4813-a442-\r\n                69539692e0a1&lt;/erec:companyIdentifier&gt;\r\n            &lt;erec:pin&gt;12345&lt;/erec:pin&gt;\r\n        &lt;/erec:Authentication&gt;\r\n    &lt;/soapenv:Body&gt;\r\n    &lt;/soapenv:Envelope&gt;","title":"How work with soap in Spring boot like an object?","body":"<p>I got soap project, thats works with xsd file. But I no idea how to work with soap.\nHow i can work with xsd file like an object?\nWhat I need, get some data from database, set values to object, map to xsd file and sent to request with xsd file body\nXSD:</p>\n<pre><code>&lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;\n              xmlns:xro=&quot;http://x-road.eu/xsd/xroad.xsd&quot;\n              xmlns:iden=&quot;http://xroad.eu/xsd/identifiers&quot;\n              xmlns:erec=&quot;http://testrecord_service.x-road.ee/testrecord&quot;&gt;\n\n&lt;soapenv:Header&gt;\n    &lt;xro:protocolVersion&gt;4.0&lt;/xro:protocolVersion&gt;\n    &lt;xro:issue&gt;123&lt;/xro:issue&gt;\n    &lt;xro:id&gt;123&lt;/xro:id&gt;\n    &lt;xro:userId&gt;123&lt;/xro:userId&gt;\n\n    &lt;xro:service iden:objectType=&quot;SERVICE&quot;&gt;\n        &lt;iden:xRoadInstance&gt;central-server&lt;/iden:xRoadInstance&gt;\n        &lt;iden:memberClass&gt;test&lt;/iden:memberClass&gt;\n        &lt;iden:memberCode&gt;test coed&lt;/iden:memberCode&gt;\n        &lt;!--Optional:--&gt;\n        &lt;iden:subsystemCode&gt;test-service&lt;/iden:subsystemCode&gt;\n        &lt;iden:serviceCode&gt;testrecord&lt;/iden:serviceCode&gt;\n        &lt;!--Optional:--&gt;\n        &lt;iden:serviceVersion&gt;v1&lt;/iden:serviceVersion&gt;\n    &lt;/xro:service&gt;\n\n    &lt;xro:client iden:objectType=&quot;SUBSYSTEM&quot;&gt;\n        &lt;iden:xRoadInstance&gt;test-server&lt;/iden:xRoadInstance&gt;\n        &lt;iden:memberClass&gt;test&lt;/iden:memberClass&gt;\n        &lt;iden:memberCode&gt;testcode&lt;/iden:memberCode&gt;\n        &lt;!--Optional:--&gt;\n        &lt;iden:subsystemCode&gt;test-service&lt;/iden:subsystemCode&gt;\n    &lt;/xro:client&gt;\n\n&lt;/soapenv:Header&gt;\n\n&lt;soapenv:Body&gt;\n    &lt;erec:Authentication&gt;\n        &lt;erec:companyIdentifier&gt;cc93a8c3-465d-4813-a442-\n            69539692e0a1&lt;/erec:companyIdentifier&gt;\n        &lt;erec:pin&gt;12345&lt;/erec:pin&gt;\n    &lt;/erec:Authentication&gt;\n&lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n</code></pre>\n"},{"tags":["java","sorting","java-stream","priority-queue"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":3,"creation_date":1652663485,"post_id":72253264,"comment_id":127653294,"body_markdown":"It sounds as though you are expecting the PriorityQueue to reorder its contents as you mutate them. I don&#39;t think standard implementations will do that. Or is it the case that if the first element of a stream is smaller than the first element of another stream, *all* the elements of the first stream will be smaller than all elements of the second stream?","body":"It sounds as though you are expecting the PriorityQueue to reorder its contents as you mutate them. I don&#39;t think standard implementations will do that. Or is it the case that if the first element of a stream is smaller than the first element of another stream, <i>all</i> the elements of the first stream will be smaller than all elements of the second stream?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1652663881,"post_id":72253264,"comment_id":127653336,"body_markdown":"The short answer is: No.  It is not possible to do that.","body":"The short answer is: No.  It is not possible to do that."},{"owner":{"account_id":18762917,"reputation":15,"user_id":13681480,"display_name":"Sammy"},"score":0,"creation_date":1652664773,"post_id":72253264,"comment_id":127653438,"body_markdown":"updated the question to be more exact. thanks!","body":"updated the question to be more exact. thanks!"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1652665006,"post_id":72253264,"comment_id":127653461,"body_markdown":"`it returns the next smallest integer` - without executing any of these streams. It&#39;s impossible. You need a custom `Iterator` not a queue of streams.","body":"<code>it returns the next smallest integer</code> - without executing any of these streams. It&#39;s impossible. You need a custom <code>Iterator</code> not a queue of streams."},{"owner":{"account_id":18762917,"reputation":15,"user_id":13681480,"display_name":"Sammy"},"score":0,"creation_date":1652665283,"post_id":72253264,"comment_id":127653509,"body_markdown":"I see. how would a custom ```Iterator``` look like to handle multiple streams?","body":"I see. how would a custom <code>Iterator</code> look like to handle multiple streams?"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652679888,"creation_date":1652663486,"answer_id":72253295,"question_id":72253264,"body_markdown":"Stream is a mean of iteration over the source of data, it&#39;s meant to process the data, not to store it. \r\n\r\nTherefore, your question is inherently incorrect. The short answer is no.\r\n\r\nIt&#39;s not a data structure, you can&#39;t access elements in a *stream* in the same way as elements in a `List` or in a `Queue`.\r\n\r\nHave a look at the [documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html):\r\n\r\n&gt; Collections and streams, while bearing some superficial similarities,\r\n&gt; have different goals. Collections are primarily concerned with the\r\n&gt; efficient management of, and access to, their elements. By contrast,\r\n&gt; **streams do not provide** a means to directly **access** or **manipulate** their\r\n&gt; **elements**, and are instead concerned with declaratively describing\r\n&gt; their source and the computational operations which will be performed\r\n&gt; in aggregate on that source. \r\n\r\nAs I said, *stream* is a mean of iteration, but stream pipeline also differs from the `Iterator`. An `Iterator` allows retrieving elements one by one. Conversely, a *stream pipeline* will be either executed and produce a result (as a single value or a collection of values) and will be closed, or will not be executed. It will depend on whether stream has a terminal operation or not.\r\n\r\nFor instance, this *stream* is valid, it will compile fine, but it will not get executed:\r\n```\r\nStream.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;).map(String::toUpperCase);\r\n```\r\nBecause it lacks a terminal operation.\r\n\r\nEvery *stream* should have a *source* and a single *terminal operation* which triggers the execution of the pipeline and produces the result. Intermediate operations like `map()` and `filter()`, which are meant to transform the stream, are optional.\r\n\r\nYou can&#39;t obtain the data from the *stream* without processing it. And once it&#39;s processed, it can no longer be used.\r\n\r\nAs a possible remedy for this problem, you might consider wrapping the stream with an object that will maintain separately the first element from the stream source and the stream itself.\r\n```\r\npublic record StreamWrapper(int first, IntStream stream) {}\r\n```\r\nThat approach can be used, it will be sufficient to compare streams by a single value, which should be extracted from the stream source (*if the stream source allows that*) at the same time when the stream gets generated.\r\n____________________________________________\r\n\r\n&lt;h3&gt;Update&lt;/h3&gt;\r\n\r\n&gt; I want to write a function getNextInteger(), that handles a list of\r\n&gt; **sorted streams**.\r\n&gt; \r\n&gt; Every time I call the method, it returns the next smallest integer, so\r\n&gt; the result might be `[0,1,2,2]` if I call the method `4` times.\r\n\r\nThat task in not suitable for streams. Unless you can blind on the fact that the data in every stream is already sorted.\r\n\r\nIf we combine all the streams in one and apply sorting, it will not cause a gigantic performance hit as it might seem at the beginning. In order to sort the data stream dumps all the elements into an array which in this case will be comprised of sorted subarrays. Because an array of a reference type will be sorted using [Timsort](https://en.wikipedia.org/wiki/Timsort), the algorithm implementation will spot all these sorted chunks. I.e. sorting the array composed of partially sorted subarrays isn&#39;t the same as sorting all these data from scratch. Hence, we can consider it as a possible option:\r\n```\r\nList&lt;Stream&lt;Integer&gt;&gt; streams =\r\nList.of(Stream.of(1, 3), Stream.of(5), Stream.of(2, 6, 7),\r\n        Stream.of(4, 9, 10), Stream.of(8));\r\n        \r\nstreams.stream()\r\n    .flatMap(Function.identity())\r\n    .sorted()\r\n    .forEach(num -&gt; System.out.print(num + &quot; &quot;));\r\n```\r\nWill produce an output:\r\n```\r\n1 2 3 4 5 6 7 8 9 10 \r\n```\r\nIf printing (*or storing into a collection*) the overall data sorted in ascending order doesn&#39;t seem satisfactory, and you insist on retrieving only a single value as a result of method invocation, I&#39;ll reiterate that it&#39;s impossible to fetch values one by one continuously from a stream. \r\n\r\nFor that you need an `Iterator` as the [documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html) suggests:\r\n\r\n&gt; However, if the provided stream operations do not offer the desired functionality, the `BaseStream.iterator()` and `BaseStream.spliterator()` operations can be used to perform a controlled traversal. \r\n\r\nYou can implement a `custom iterator` that will utilize a `PriorityQueue` under the hood.\r\n\r\nI assume that streams are of type that implements `Comparable` and streams are sorted (*like in the example you&#39;ve provided*).\r\n\r\n*Iterator:*\r\n```\r\npublic class QueueBasedIterator&lt;T extends Comparable&lt;T&gt;&gt; implements Iterator&lt;T&gt; {\r\n    private Queue&lt;IteratorWrapper&lt;T&gt;&gt; nextValues = new PriorityQueue&lt;&gt;();\r\n    private List&lt;Iterator&gt; iterators = new ArrayList&lt;&gt;();\r\n    \r\n    @SafeVarargs\r\n    public StreamBasedIterator(Stream&lt;T&gt;... streams) {\r\n        this.iterators = Stream.of(streams).map(Stream::iterator)\r\n            .collect(Collectors.toList());\r\n        \r\n        for (int i = 0; i &lt; iterators.size(); i++) {\r\n            Iterator&lt;T&gt; iterator = iterators.get(i);\r\n            if (iterator.hasNext()) \r\n                nextValues.add(new IteratorWrapper&lt;T&gt;(i, iterator.next()));\r\n        }\r\n    }\r\n    \r\n    @Override\r\n    public boolean hasNext() {\r\n        return !nextValues.isEmpty();\r\n    }\r\n    \r\n    @Override\r\n    public T next() {\r\n        if (nextValues.isEmpty()) {\r\n            throw new NoSuchElementException();\r\n        }\r\n        \r\n        IteratorWrapper&lt;T&gt; next = nextValues.remove();\r\n        Iterator&lt;T&gt; iterator = iterators.get(next.getPosition());\r\n        if (iterator.hasNext())\r\n            nextValues.add(new IteratorWrapper&lt;T&gt;(next.getPosition(), iterator.next()));\r\n        \r\n        return next.getValue();\r\n    }\r\n}\r\n```\r\n*IteratorWrapper:*\r\n```\r\nclass IteratorWrapper&lt;T extends Comparable&lt;T&gt;&gt; implements Comparable&lt;IteratorWrapper&lt;T&gt;&gt; {\r\n    private T value;\r\n    private int position;\r\n    \r\n    public IteratorWrapper(int position, T value) {\r\n        this.value = value;\r\n        this.position = position;\r\n    }\r\n    \r\n    public T getValue() {\r\n        return value;\r\n    }\r\n    \r\n    public int getPosition() {\r\n        return position;\r\n    }\r\n    \r\n    @Override\r\n    public int compareTo(IteratorWrapper&lt;T&gt; o) {\r\n        return this.value.compareTo(o.value);\r\n    }\r\n}\r\n```\r\n`main()` - demo\r\n\r\n    public static void main(String[] args) {\r\n        QueueBasedIterator&lt;Integer&gt; iterator =\r\n            new QueueBasedIterator&lt;&gt;(Stream.of(1, 3), Stream.of(5), Stream.of(2, 6, 7),\r\n                                     Stream.of(4, 9, 10), Stream.of(8));\r\n        \r\n        while (iterator.hasNext()) {\r\n            System.out.print(iterator.next() + &quot; &quot;);\r\n        }\r\n    }\r\n\r\n*Output*\r\n```\r\n1 2 3 4 5 6 7 8 9 10\r\n```","title":"How to Peek the Lowest elements from a List of sorted Streams continously","body":"<p>Stream is a mean of iteration over the source of data, it's meant to process the data, not to store it.</p>\n<p>Therefore, your question is inherently incorrect. The short answer is no.</p>\n<p>It's not a data structure, you can't access elements in a <em>stream</em> in the same way as elements in a <code>List</code> or in a <code>Queue</code>.</p>\n<p>Have a look at the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>Collections and streams, while bearing some superficial similarities,\nhave different goals. Collections are primarily concerned with the\nefficient management of, and access to, their elements. By contrast,\n<strong>streams do not provide</strong> a means to directly <strong>access</strong> or <strong>manipulate</strong> their\n<strong>elements</strong>, and are instead concerned with declaratively describing\ntheir source and the computational operations which will be performed\nin aggregate on that source.</p>\n</blockquote>\n<p>As I said, <em>stream</em> is a mean of iteration, but stream pipeline also differs from the <code>Iterator</code>. An <code>Iterator</code> allows retrieving elements one by one. Conversely, a <em>stream pipeline</em> will be either executed and produce a result (as a single value or a collection of values) and will be closed, or will not be executed. It will depend on whether stream has a terminal operation or not.</p>\n<p>For instance, this <em>stream</em> is valid, it will compile fine, but it will not get executed:</p>\n<pre><code>Stream.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;).map(String::toUpperCase);\n</code></pre>\n<p>Because it lacks a terminal operation.</p>\n<p>Every <em>stream</em> should have a <em>source</em> and a single <em>terminal operation</em> which triggers the execution of the pipeline and produces the result. Intermediate operations like <code>map()</code> and <code>filter()</code>, which are meant to transform the stream, are optional.</p>\n<p>You can't obtain the data from the <em>stream</em> without processing it. And once it's processed, it can no longer be used.</p>\n<p>As a possible remedy for this problem, you might consider wrapping the stream with an object that will maintain separately the first element from the stream source and the stream itself.</p>\n<pre><code>public record StreamWrapper(int first, IntStream stream) {}\n</code></pre>\n<p>That approach can be used, it will be sufficient to compare streams by a single value, which should be extracted from the stream source (<em>if the stream source allows that</em>) at the same time when the stream gets generated.</p>\n<hr />\n<h3>Update</h3>\n<blockquote>\n<p>I want to write a function getNextInteger(), that handles a list of\n<strong>sorted streams</strong>.</p>\n<p>Every time I call the method, it returns the next smallest integer, so\nthe result might be <code>[0,1,2,2]</code> if I call the method <code>4</code> times.</p>\n</blockquote>\n<p>That task in not suitable for streams. Unless you can blind on the fact that the data in every stream is already sorted.</p>\n<p>If we combine all the streams in one and apply sorting, it will not cause a gigantic performance hit as it might seem at the beginning. In order to sort the data stream dumps all the elements into an array which in this case will be comprised of sorted subarrays. Because an array of a reference type will be sorted using <a href=\"https://en.wikipedia.org/wiki/Timsort\" rel=\"nofollow noreferrer\">Timsort</a>, the algorithm implementation will spot all these sorted chunks. I.e. sorting the array composed of partially sorted subarrays isn't the same as sorting all these data from scratch. Hence, we can consider it as a possible option:</p>\n<pre><code>List&lt;Stream&lt;Integer&gt;&gt; streams =\nList.of(Stream.of(1, 3), Stream.of(5), Stream.of(2, 6, 7),\n        Stream.of(4, 9, 10), Stream.of(8));\n        \nstreams.stream()\n    .flatMap(Function.identity())\n    .sorted()\n    .forEach(num -&gt; System.out.print(num + &quot; &quot;));\n</code></pre>\n<p>Will produce an output:</p>\n<pre><code>1 2 3 4 5 6 7 8 9 10 \n</code></pre>\n<p>If printing (<em>or storing into a collection</em>) the overall data sorted in ascending order doesn't seem satisfactory, and you insist on retrieving only a single value as a result of method invocation, I'll reiterate that it's impossible to fetch values one by one continuously from a stream.</p>\n<p>For that you need an <code>Iterator</code> as the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html\" rel=\"nofollow noreferrer\">documentation</a> suggests:</p>\n<blockquote>\n<p>However, if the provided stream operations do not offer the desired functionality, the <code>BaseStream.iterator()</code> and <code>BaseStream.spliterator()</code> operations can be used to perform a controlled traversal.</p>\n</blockquote>\n<p>You can implement a <code>custom iterator</code> that will utilize a <code>PriorityQueue</code> under the hood.</p>\n<p>I assume that streams are of type that implements <code>Comparable</code> and streams are sorted (<em>like in the example you've provided</em>).</p>\n<p><em>Iterator:</em></p>\n<pre><code>public class QueueBasedIterator&lt;T extends Comparable&lt;T&gt;&gt; implements Iterator&lt;T&gt; {\n    private Queue&lt;IteratorWrapper&lt;T&gt;&gt; nextValues = new PriorityQueue&lt;&gt;();\n    private List&lt;Iterator&gt; iterators = new ArrayList&lt;&gt;();\n    \n    @SafeVarargs\n    public StreamBasedIterator(Stream&lt;T&gt;... streams) {\n        this.iterators = Stream.of(streams).map(Stream::iterator)\n            .collect(Collectors.toList());\n        \n        for (int i = 0; i &lt; iterators.size(); i++) {\n            Iterator&lt;T&gt; iterator = iterators.get(i);\n            if (iterator.hasNext()) \n                nextValues.add(new IteratorWrapper&lt;T&gt;(i, iterator.next()));\n        }\n    }\n    \n    @Override\n    public boolean hasNext() {\n        return !nextValues.isEmpty();\n    }\n    \n    @Override\n    public T next() {\n        if (nextValues.isEmpty()) {\n            throw new NoSuchElementException();\n        }\n        \n        IteratorWrapper&lt;T&gt; next = nextValues.remove();\n        Iterator&lt;T&gt; iterator = iterators.get(next.getPosition());\n        if (iterator.hasNext())\n            nextValues.add(new IteratorWrapper&lt;T&gt;(next.getPosition(), iterator.next()));\n        \n        return next.getValue();\n    }\n}\n</code></pre>\n<p><em>IteratorWrapper:</em></p>\n<pre><code>class IteratorWrapper&lt;T extends Comparable&lt;T&gt;&gt; implements Comparable&lt;IteratorWrapper&lt;T&gt;&gt; {\n    private T value;\n    private int position;\n    \n    public IteratorWrapper(int position, T value) {\n        this.value = value;\n        this.position = position;\n    }\n    \n    public T getValue() {\n        return value;\n    }\n    \n    public int getPosition() {\n        return position;\n    }\n    \n    @Override\n    public int compareTo(IteratorWrapper&lt;T&gt; o) {\n        return this.value.compareTo(o.value);\n    }\n}\n</code></pre>\n<p><code>main()</code> - demo</p>\n<pre><code>public static void main(String[] args) {\n    QueueBasedIterator&lt;Integer&gt; iterator =\n        new QueueBasedIterator&lt;&gt;(Stream.of(1, 3), Stream.of(5), Stream.of(2, 6, 7),\n                                 Stream.of(4, 9, 10), Stream.of(8));\n    \n    while (iterator.hasNext()) {\n        System.out.print(iterator.next() + &quot; &quot;);\n    }\n}\n</code></pre>\n<p><em>Output</em></p>\n<pre><code>1 2 3 4 5 6 7 8 9 10\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652665096,"creation_date":1652665096,"answer_id":72253407,"question_id":72253264,"body_markdown":"&gt; I am wondering is it possible to only peek the first element of the stream without retrieving it.\r\n\r\nNo.  `Peek` is an `intermediate operation`, like `map, sort`, etc. They do not cause the stream to start delivering data. To do that requires a `terminal operation` such as `reduce, forEach, or collector`, etc to start the streaming process.\r\n\r\nThis also allows one to do things like the following with out storing any data.  If it did, the first statement (`series`) would never finish as it would require infinite storage since there is no limiting method.\r\n```\r\nIntStream series = IntStream.iterate(0, i-&gt;i+1);\r\nIntStream first10 = series.limit(10);\r\nint[] toArray = first10.toArray();\r\n\r\nSystem.out.println(Arrays.toString(toArray));\r\n```\r\nPrints\r\n```\r\n[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\r\n```\r\nIn the above example, `toArray()` is the terminal operation that starts the stream.  Once finished, the stream is exhausted and none of the aforementioned assignments (e.g. `series, first10`) may be used again. \r\n","title":"How to Peek the Lowest elements from a List of sorted Streams continously","body":"<blockquote>\n<p>I am wondering is it possible to only peek the first element of the stream without retrieving it.</p>\n</blockquote>\n<p>No.  <code>Peek</code> is an <code>intermediate operation</code>, like <code>map, sort</code>, etc. They do not cause the stream to start delivering data. To do that requires a <code>terminal operation</code> such as <code>reduce, forEach, or collector</code>, etc to start the streaming process.</p>\n<p>This also allows one to do things like the following with out storing any data.  If it did, the first statement (<code>series</code>) would never finish as it would require infinite storage since there is no limiting method.</p>\n<pre><code>IntStream series = IntStream.iterate(0, i-&gt;i+1);\nIntStream first10 = series.limit(10);\nint[] toArray = first10.toArray();\n\nSystem.out.println(Arrays.toString(toArray));\n</code></pre>\n<p>Prints</p>\n<pre><code>[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\n</code></pre>\n<p>In the above example, <code>toArray()</code> is the terminal operation that starts the stream.  Once finished, the stream is exhausted and none of the aforementioned assignments (e.g. <code>series, first10</code>) may be used again.</p>\n"}],"owner":{"account_id":18762917,"reputation":15,"user_id":13681480,"display_name":"Sammy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":339,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72253295,"answer_count":2,"score":1,"last_activity_date":1652679888,"creation_date":1652663082,"question_id":72253264,"body_markdown":"I started learning about Java Stream, and I am wondering is it possible to only peek the first element of the stream without retrieving it.\r\n\r\nFor example, I have multiple streams, and each of them have integers that are sorted in non-decreasing order, and I want to get a sorted list of all integers, so I&#39;m thinking about using a `PrioirtyQueue&lt;Stream&gt;` sorted in non-decreasing order as well. \r\n\r\nHowever, in order to get the `PrioirtyQueue&lt;Stream&gt;` to sort the streams, I need to pass in a comparator for stream to compare streams by their first element, and I am not sure how to peek the first element in each stream.\r\n\r\nFor example, I have the following streams.\r\n```\r\n[1, 2, 3, 5],\r\n[0, 2, 4, 6]\r\n```\r\n\r\nI want to write a function `getNextInteger()`, that handles a list of **sorted streams**.\r\n\r\nEvery time I call the method, it returns the next smallest integer, so the result might be `[0,1,2,2]` if I call the method `4` times.\r\n\r\nI want to use `PriorityQueue` to sort the streams by their first value, and retrieve the smallest one and requeue the stream if it is not empty. ","title":"How to Peek the Lowest elements from a List of sorted Streams continously","body":"<p>I started learning about Java Stream, and I am wondering is it possible to only peek the first element of the stream without retrieving it.</p>\n<p>For example, I have multiple streams, and each of them have integers that are sorted in non-decreasing order, and I want to get a sorted list of all integers, so I'm thinking about using a <code>PrioirtyQueue&lt;Stream&gt;</code> sorted in non-decreasing order as well.</p>\n<p>However, in order to get the <code>PrioirtyQueue&lt;Stream&gt;</code> to sort the streams, I need to pass in a comparator for stream to compare streams by their first element, and I am not sure how to peek the first element in each stream.</p>\n<p>For example, I have the following streams.</p>\n<pre><code>[1, 2, 3, 5],\n[0, 2, 4, 6]\n</code></pre>\n<p>I want to write a function <code>getNextInteger()</code>, that handles a list of <strong>sorted streams</strong>.</p>\n<p>Every time I call the method, it returns the next smallest integer, so the result might be <code>[0,1,2,2]</code> if I call the method <code>4</code> times.</p>\n<p>I want to use <code>PriorityQueue</code> to sort the streams by their first value, and retrieve the smallest one and requeue the stream if it is not empty.</p>\n"},{"tags":["java","ubuntu"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1652613586,"post_id":72247768,"comment_id":127643596,"body_markdown":"this is not a MySQL connection error. The driver just isn&#39;t on your classpath","body":"this is not a MySQL connection error. The driver just isn&#39;t on your classpath"},{"owner":{"account_id":22628154,"reputation":121,"user_id":18776287,"display_name":"Paul Corcoran"},"score":0,"creation_date":1652613755,"post_id":72247768,"comment_id":127643632,"body_markdown":"Hi Stultuske, my mysql-connector is present in /usr/share/java/mysql-connector-java-8.0.29.jar and i have called it in the spark query.","body":"Hi Stultuske, my mysql-connector is present in /usr/share/java/mysql-connector-java-8.0.29.jar and i have called it in the spark query."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1652613810,"post_id":72247768,"comment_id":127643649,"body_markdown":"what do you think &quot;ClassNotFoundException signifies&quot;?","body":"what do you think &quot;ClassNotFoundException signifies&quot;?"},{"owner":{"account_id":22628154,"reputation":121,"user_id":18776287,"display_name":"Paul Corcoran"},"score":0,"creation_date":1652613984,"post_id":72247768,"comment_id":127643684,"body_markdown":"I am not using classes, I have attached a picture to my original post to illustrate the way im attempting.","body":"I am not using classes, I have attached a picture to my original post to illustrate the way im attempting."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1652614071,"post_id":72247768,"comment_id":127643706,"body_markdown":"The fact the driver is in /usr/share/java/mysql-connector-java-8.0.29.jar does not mean it is on the classpath of your application. And you definitely are using classes. What do you think `com.mysql.jdbc.Driver` is?","body":"The fact the driver is in /usr/share/java/mysql-connector-java-8.0.29.jar does not mean it is on the classpath of your application. And you definitely are using classes. What do you think <code>com.mysql.jdbc.Driver</code> is?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1652614117,"post_id":72247768,"comment_id":127643713,"body_markdown":"@PaulCorcoran you are &quot;not using classes&quot;? Are you being serious?","body":"@PaulCorcoran you are &quot;not using classes&quot;? Are you being serious?"},{"owner":{"account_id":22628154,"reputation":121,"user_id":18776287,"display_name":"Paul Corcoran"},"score":0,"creation_date":1652614274,"post_id":72247768,"comment_id":127643742,"body_markdown":"apologies, I meant explicitly using class: to create this. I understand that under the hood it is using classes. I have called the driver in the spark.read.format in the query so I am at a loss to what is going wrong and where. It is a bit out of the comfort zone.","body":"apologies, I meant explicitly using class: to create this. I understand that under the hood it is using classes. I have called the driver in the spark.read.format in the query so I am at a loss to what is going wrong and where. It is a bit out of the comfort zone."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1652615198,"post_id":72247768,"comment_id":127643901,"body_markdown":"@PaulCorcoran the problem is, you are trying to use that class, and it&#39;s not on the classpath","body":"@PaulCorcoran the problem is, you are trying to use that class, and it&#39;s not on the classpath"}],"answers":[{"tags":[],"owner":{"account_id":8243275,"reputation":335,"user_id":6200260,"display_name":"Prasad Tamgale"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652613758,"creation_date":1652613758,"answer_id":72247792,"question_id":72247768,"body_markdown":"Place mysql-connector jar in your classpath.","title":"Encountering a Mysql Connection problem java","body":"<p>Place mysql-connector jar in your classpath.</p>\n"},{"tags":[],"owner":{"account_id":16422586,"reputation":1841,"user_id":11863448,"display_name":"Akzy"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1652614255,"creation_date":1652614255,"answer_id":72247850,"question_id":72247768,"body_markdown":"\r\nIt seems the `mysql` connectivity library is not included in the project. Solve the problem following one of the proposed solutions:\r\n\r\nMAVEN PROJECTS SOLUTION\r\nAdd the `mysql-connector` `dependency` to the `pom.xml` project file:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        &lt;version&gt;5.1.39&lt;/version&gt; // your desired version\r\n    &lt;/dependency&gt;\r\n\r\n***Here you are all the versions:*** https://mvnrepository.com/artifact/mysql/mysql-connector-java\r\n\r\nALL PROJECTS SOLUTION\r\nAdd the jar library manually to the project.\r\n\r\n    Right Click the project -- &gt; build path -- &gt; configure build path\r\n\r\nIn **Libraries** Tab press Add **`External Jar`** `and Select your jar`.\r\n\r\nYou can find zip for mysql-connector [here][1]\r\n\r\n**Explanation**:\r\nWhen building the project, java throws you an exception because a file (the `com.mysql.jdbc.Driver class`) from the `mysql` connectivity library is not found. The solution is adding the library to the project, and java will find the `com.mysql.jdbc.Driver`\r\n\r\n\r\n  [1]: https://dev.mysql.com/downloads/connector/j/5.0.html","title":"Encountering a Mysql Connection problem java","body":"<p>It seems the <code>mysql</code> connectivity library is not included in the project. Solve the problem following one of the proposed solutions:</p>\n<p>MAVEN PROJECTS SOLUTION\nAdd the <code>mysql-connector</code> <code>dependency</code> to the <code>pom.xml</code> project file:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;version&gt;5.1.39&lt;/version&gt; // your desired version\n&lt;/dependency&gt;\n</code></pre>\n<p><em><strong>Here you are all the versions:</strong></em> <a href=\"https://mvnrepository.com/artifact/mysql/mysql-connector-java\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/mysql/mysql-connector-java</a></p>\n<p>ALL PROJECTS SOLUTION\nAdd the jar library manually to the project.</p>\n<pre><code>Right Click the project -- &gt; build path -- &gt; configure build path\n</code></pre>\n<p>In <strong>Libraries</strong> Tab press Add <strong><code>External Jar</code></strong> <code>and Select your jar</code>.</p>\n<p>You can find zip for mysql-connector <a href=\"https://dev.mysql.com/downloads/connector/j/5.0.html\" rel=\"nofollow noreferrer\">here</a></p>\n<p><strong>Explanation</strong>:\nWhen building the project, java throws you an exception because a file (the <code>com.mysql.jdbc.Driver class</code>) from the <code>mysql</code> connectivity library is not found. The solution is adding the library to the project, and java will find the <code>com.mysql.jdbc.Driver</code></p>\n"},{"tags":[],"owner":{"account_id":21706289,"reputation":473,"user_id":16018684,"display_name":"Amos Machora"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652679850,"creation_date":1652679850,"answer_id":72254597,"question_id":72247768,"body_markdown":"That **occurs when you don&#39;t have a MySQL connector** in your classpath. If you are using a maven project you can try adding the dependency to your pom.xml\r\n    \r\n        &lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n\r\nIf you are not using a dependency management tool like Maven or Gradle you can download the jar online and then add it to your classpath. Here is the link.\r\n[https://dev.mysql.com/downloads/connector/j/][1]\r\n\r\nRemember to do a bit of research for the correct versions before you download.\r\nEither of the two options will definitely work. \r\n\r\n\r\n  [1]: https://dev.mysql.com/downloads/connector/j/","title":"Encountering a Mysql Connection problem java","body":"<p>That <strong>occurs when you don't have a MySQL connector</strong> in your classpath. If you are using a maven project you can try adding the dependency to your pom.xml</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>If you are not using a dependency management tool like Maven or Gradle you can download the jar online and then add it to your classpath. Here is the link.\n<a href=\"https://dev.mysql.com/downloads/connector/j/\" rel=\"nofollow noreferrer\">https://dev.mysql.com/downloads/connector/j/</a></p>\n<p>Remember to do a bit of research for the correct versions before you download.\nEither of the two options will definitely work.</p>\n"}],"owner":{"account_id":22628154,"reputation":121,"user_id":18776287,"display_name":"Paul Corcoran"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":949,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1652679850,"creation_date":1652613559,"question_id":72247768,"body_markdown":"The error I am getting is PY4JAVAERROR : \r\n\r\n```\r\nan error occurred while calling o313.load: Java.lang.classnotfoundexception: com.mysql.jdbc.Driver\r\n```\r\n\r\nhas anyone encountered this before?\r\n\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wwBNO.png","title":"Encountering a Mysql Connection problem java","body":"<p>The error I am getting is PY4JAVAERROR :</p>\n<pre><code>an error occurred while calling o313.load: Java.lang.classnotfoundexception: com.mysql.jdbc.Driver\n</code></pre>\n<p>has anyone encountered this before?</p>\n<p><img src=\"https://i.stack.imgur.com/wwBNO.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","vaadin","vaadin-flow"],"comments":[{"owner":{"account_id":295383,"reputation":4686,"user_id":599765,"accept_rate":22,"display_name":"Andr&#233; Schild"},"score":1,"creation_date":1652634200,"post_id":72250254,"comment_id":127648083,"body_markdown":"Are you referencing to it in the contructor?\nThen it&#39;s too erlay, do it in the attach handler","body":"Are you referencing to it in the contructor? Then it&#39;s too erlay, do it in the attach handler"},{"owner":{"account_id":7510409,"reputation":1883,"user_id":5705554,"display_name":"Marcus Hellberg"},"score":1,"creation_date":1652634254,"post_id":72250254,"comment_id":127648097,"body_markdown":"Ideally, your view should not depend on what layout wraps it. Strong coupling makes refactoring things more difficult. Could you instead fire an event (Spring Event, for example) from the view and then subscribe to it in the main layout?","body":"Ideally, your view should not depend on what layout wraps it. Strong coupling makes refactoring things more difficult. Could you instead fire an event (Spring Event, for example) from the view and then subscribe to it in the main layout?"},{"owner":{"account_id":6984241,"reputation":494,"user_id":5355867,"display_name":"BenjaminD"},"score":0,"creation_date":1652634548,"post_id":72250254,"comment_id":127648164,"body_markdown":"In Vaadin 14, I had to create a MainLayoutBus to handle things like closing the drawer on page loading or after clicking on a menu. In 23, the bus does not work anymore. So, I&#39;m looking for another way as the documentation is empty on this subject","body":"In Vaadin 14, I had to create a MainLayoutBus to handle things like closing the drawer on page loading or after clicking on a menu. In 23, the bus does not work anymore. So, I&#39;m looking for another way as the documentation is empty on this subject"},{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":0,"creation_date":1652701719,"post_id":72250254,"comment_id":127661785,"body_markdown":"This question has been asked here multiple times, here is one version. Please research existing questions before creating new ones: https://stackoverflow.com/questions/67783918/vaadin-refer-to-mainlayout-from-routerlayout","body":"This question has been asked here multiple times, here is one version. Please research existing questions before creating new ones: <a href=\"https://stackoverflow.com/questions/67783918/vaadin-refer-to-mainlayout-from-routerlayout\" title=\"vaadin refer to mainlayout from routerlayout\">stackoverflow.com/questions/67783918/&hellip;</a>"},{"owner":{"account_id":6984241,"reputation":494,"user_id":5355867,"display_name":"BenjaminD"},"score":0,"creation_date":1652705414,"post_id":72250254,"comment_id":127663059,"body_markdown":"Dear Tatu. I saw this answer but as I said, the getParent is empty. Luckily someone told me it had to be done somewhere else than the constructor. Thanks for your time","body":"Dear Tatu. I saw this answer but as I said, the getParent is empty. Luckily someone told me it had to be done somewhere else than the constructor. Thanks for your time"}],"answers":[{"tags":[],"owner":{"account_id":1831742,"reputation":1989,"user_id":1662997,"display_name":"Knoobie"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1652678763,"creation_date":1652637340,"answer_id":72250855,"question_id":72250254,"body_markdown":"# `UI` event bus\r\n\r\nInstead of creating strong coupling between your views and main layout, you can use the Eventbus with custom events thrown by your view and your layout listening on them.\r\n\r\nYou can find a official example in the cookbook of Vaadin, [*Communicate between components attached to one UI*](https://cookbook.vaadin.com/ui-eventbus).","title":"Accessing layout from inside Vaadin 23 view","body":"<h1><code>UI</code> event bus</h1>\n<p>Instead of creating strong coupling between your views and main layout, you can use the Eventbus with custom events thrown by your view and your layout listening on them.</p>\n<p>You can find a official example in the cookbook of Vaadin, <a href=\"https://cookbook.vaadin.com/ui-eventbus\" rel=\"nofollow noreferrer\"><em>Communicate between components attached to one UI</em></a>.</p>\n"},{"tags":[],"owner":{"account_id":22837617,"reputation":11,"user_id":16985163,"display_name":"Kruntz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652640503,"creation_date":1652640482,"answer_id":72251261,"question_id":72250254,"body_markdown":"I&#39;d try with:\r\n\r\n    UI.getCurrent().getChildren()\r\n","title":"Accessing layout from inside Vaadin 23 view","body":"<p>I'd try with:</p>\n<pre><code>UI.getCurrent().getChildren()\n</code></pre>\n"}],"owner":{"account_id":6984241,"reputation":494,"user_id":5355867,"display_name":"BenjaminD"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":415,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1652678763,"creation_date":1652632783,"question_id":72250254,"body_markdown":"I&#39;m using Vaadin 23.\r\n\r\nI defined a &quot;MainLayout&quot; class to carry the drawer among other things.\r\n\r\nIn my view declaration, i have the annotation :\r\n\r\n    @Route(value = &quot;&quot;, layout = MainLayout.class)\r\n\r\nIn the view, if I try \r\n\r\n    this.getParent();\r\n\r\nthe returned optional is empty.\r\n\r\nSo, how can I call a method in my MainLayout class from my view instance ?","title":"Accessing layout from inside Vaadin 23 view","body":"<p>I'm using Vaadin 23.</p>\n<p>I defined a &quot;MainLayout&quot; class to carry the drawer among other things.</p>\n<p>In my view declaration, i have the annotation :</p>\n<pre><code>@Route(value = &quot;&quot;, layout = MainLayout.class)\n</code></pre>\n<p>In the view, if I try</p>\n<pre><code>this.getParent();\n</code></pre>\n<p>the returned optional is empty.</p>\n<p>So, how can I call a method in my MainLayout class from my view instance ?</p>\n"},{"tags":["java","mysql","spring-boot","jdbc"],"comments":[{"owner":{"account_id":8172423,"reputation":17307,"user_id":6152400,"display_name":"P.Salmon"},"score":0,"creation_date":1652680781,"post_id":72254375,"comment_id":127655472,"body_markdown":"Is id a primary key or the first node of a compound key or referenced in a foreign key anywhere in your db? Are there any triggers in the table which may push id into another table? Do you have reports or web pages which may need resizing?","body":"Is id a primary key or the first node of a compound key or referenced in a foreign key anywhere in your db? Are there any triggers in the table which may push id into another table? Do you have reports or web pages which may need resizing?"}],"answers":[{"tags":[],"owner":{"account_id":6960601,"reputation":432,"user_id":12180140,"display_name":"Marek Knappe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652678325,"creation_date":1652678157,"answer_id":72254422,"question_id":72254375,"body_markdown":"Proper SQL code for MySQL would be:\r\n\r\n```ALTER TABLE the_table MODIFY COLUMN the_column BIGINT;```\r\n\r\nIt will take some time for big tables (as it needs to copy data); if you want to make it without an outage on the table, you can try to use `pt-online-schema-change` command from percona tools (https://www.percona.com/doc/percona-toolkit/3.0/pt-online-schema-change.html) or if you want to do it more safely (but with an outage on data)\r\n\r\n```\r\nRENAME TABLE the_table TO the_table_old\r\nCREATE TABLE the_table LIKE the_table_old\r\nREPLACE INTO the_table select * from the_table_old limit 0,1000\r\nREPLACE INTO the_table select * from the_table_old limit 1000,1000\r\nREPLACE INTO the_table select * from the_table_old limit 2000,1000\r\nDROP TABLE the_table_old\r\n```\r\n\r\nBut answering your question - It&#39;s a safe way to do alter on the table; it just can take some time and that table will be locked to updates/inserts if you just run alter table ","title":"How to change id column type already registered in the database","body":"<p>Proper SQL code for MySQL would be:</p>\n<p><code>ALTER TABLE the_table MODIFY COLUMN the_column BIGINT;</code></p>\n<p>It will take some time for big tables (as it needs to copy data); if you want to make it without an outage on the table, you can try to use <code>pt-online-schema-change</code> command from percona tools (<a href=\"https://www.percona.com/doc/percona-toolkit/3.0/pt-online-schema-change.html\" rel=\"nofollow noreferrer\">https://www.percona.com/doc/percona-toolkit/3.0/pt-online-schema-change.html</a>) or if you want to do it more safely (but with an outage on data)</p>\n<pre><code>RENAME TABLE the_table TO the_table_old\nCREATE TABLE the_table LIKE the_table_old\nREPLACE INTO the_table select * from the_table_old limit 0,1000\nREPLACE INTO the_table select * from the_table_old limit 1000,1000\nREPLACE INTO the_table select * from the_table_old limit 2000,1000\nDROP TABLE the_table_old\n</code></pre>\n<p>But answering your question - It's a safe way to do alter on the table; it just can take some time and that table will be locked to updates/inserts if you just run alter table</p>\n"},{"tags":[],"owner":{"account_id":23967626,"reputation":384,"user_id":17956869,"display_name":"Shawon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652678436,"creation_date":1652678436,"answer_id":72254444,"question_id":72254375,"body_markdown":"Why can&#39;t you just do this?\r\n\r\n    ALTER TABLE tableName ALTER COLUMN ID bigint\r\n\r\nI guess try it in a test environment first but this always works for me","title":"How to change id column type already registered in the database","body":"<p>Why can't you just do this?</p>\n<pre><code>ALTER TABLE tableName ALTER COLUMN ID bigint\n</code></pre>\n<p>I guess try it in a test environment first but this always works for me</p>\n"}],"owner":{"account_id":23269246,"reputation":81,"user_id":17354320,"display_name":"Jsef bch"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":370,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72254444,"answer_count":2,"score":2,"last_activity_date":1652678436,"creation_date":1652677609,"question_id":72254375,"body_markdown":"I&#39;m trying to change my Id column type from int to bigInt because the records are too big and I&#39;m getting an error if I try to store more records but I&#39;m not sure if it&#39;s safe to just alter the table like this:\r\n\r\n     alter table the_table\r\n         alter the_column type bigint;\r\n\r\nI&#39;m using Java Springboot to create the entities and Hibernate for persistence. What&#39;s the best way to solve this issue in a safe way since there are very important records inside the DB?","title":"How to change id column type already registered in the database","body":"<p>I'm trying to change my Id column type from int to bigInt because the records are too big and I'm getting an error if I try to store more records but I'm not sure if it's safe to just alter the table like this:</p>\n<pre><code> alter table the_table\n     alter the_column type bigint;\n</code></pre>\n<p>I'm using Java Springboot to create the entities and Hibernate for persistence. What's the best way to solve this issue in a safe way since there are very important records inside the DB?</p>\n"},{"tags":["java","android-studio","file","path","uri"],"answers":[{"tags":[],"owner":{"account_id":21203888,"reputation":11,"user_id":15593945,"display_name":"Carbon Anik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652678405,"creation_date":1652678405,"answer_id":72254439,"question_id":68852933,"body_markdown":"Anyone Faces this problem use this function its work for me.\r\n\r\n    private fun getRealPathFromURI(contentUri: Uri, context: Context): String? {\r\n        val proj = arrayOf(MediaStore.Images.Media.DATA)\r\n        val loader = CursorLoader(context, contentUri, proj, null, null, null)\r\n        val cursor: Cursor? = loader.loadInBackground()\r\n        val columnIndex: Int = cursor\r\n            ?.getColumnIndexOrThrow(MediaStore.Images.Media.DATA) \r\n            ?: return null\r\n        cursor.moveToFirst()\r\n        val result: String? = cursor.getString(columnIndex)\r\n        cursor.close()\r\n        return result\r\n    }","title":"how to get absolute path file from an Uri content? Java Android Studio","body":"<p>Anyone Faces this problem use this function its work for me.</p>\n<pre><code>private fun getRealPathFromURI(contentUri: Uri, context: Context): String? {\n    val proj = arrayOf(MediaStore.Images.Media.DATA)\n    val loader = CursorLoader(context, contentUri, proj, null, null, null)\n    val cursor: Cursor? = loader.loadInBackground()\n    val columnIndex: Int = cursor\n        ?.getColumnIndexOrThrow(MediaStore.Images.Media.DATA) \n        ?: return null\n    cursor.moveToFirst()\n    val result: String? = cursor.getString(columnIndex)\n    cursor.close()\n    return result\n}\n</code></pre>\n"}],"owner":{"account_id":22512134,"reputation":31,"user_id":16707241,"display_name":"Jairo Daniel Salas Mosquera"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":797,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1652678405,"creation_date":1629397619,"question_id":68852933,"body_markdown":"2 examples of this type of Uris are:\r\n\r\n&quot;content://com.android.providers.downloads.documents/document/msf%3A33346&quot; and &quot;content://com.android.providers.downloads.documents/document/raw%3A%2Fstorage%2Femulated%2F0%2FDownload%2F2021-06-18Format%204.xls&quot; \r\n\r\nthese Uris change with respect to the type of cell phone. I need to transform the uri to path file like &quot;storage/emulated/0/document/...&quot;\r\n\r\nThe last way I used that seemed the most complete but didn&#39;t work was a class I saw on the page https://www.semicolonworld.com/question/45962/how-to-get-the-full-file-path-from-uri which is the following:\r\n\r\n\r\n    public class FileUtils {\r\n\r\n    /* Get uri related content real local file path. */\r\n    public static String getPath(Context ctx, Uri uri) {\r\n        String ret;\r\n        try {\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT) {\r\n                // Android OS above sdk version 19.\r\n                ret = getUriRealPathAboveKitkat(ctx, uri);\r\n            } else {\r\n                // Android OS below sdk version 19\r\n                ret = getRealPath(ctx.getContentResolver(), uri, null);\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            Log.d(&quot;DREG&quot;, &quot;FilePath Catch: &quot; + e);\r\n            ret = getFilePathFromURI(ctx, uri);\r\n        }\r\n        return ret;\r\n    }\r\n\r\n    private static String getFilePathFromURI(Context context, Uri contentUri) {\r\n        //copy file and send new file path\r\n        String fileName = getFileName(contentUri);\r\n        if (!TextUtils.isEmpty(fileName)) {\r\n            String TEMP_DIR_PATH = Environment.getExternalStorageDirectory().getPath();\r\n            File copyFile = new File(TEMP_DIR_PATH + File.separator + fileName);\r\n            Log.d(&quot;DREG&quot;, &quot;FilePath copyFile: &quot; + copyFile);\r\n            copy(context, contentUri, copyFile);\r\n            return copyFile.getAbsolutePath();\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public static String getFileName(Uri uri) {\r\n        if (uri == null) return null;\r\n        String fileName = null;\r\n        String path = uri.getPath();\r\n        int cut = path.lastIndexOf(&#39;/&#39;);\r\n        if (cut != -1) {\r\n            fileName = path.substring(cut + 1);\r\n        }\r\n        return fileName;\r\n    }\r\n\r\n    public static void copy(Context context, Uri srcUri, File dstFile) {\r\n        try {\r\n            InputStream inputStream = context.getContentResolver().openInputStream(srcUri);\r\n            if (inputStream == null) return;\r\n            OutputStream outputStream = new FileOutputStream(dstFile);\r\n            IOUtils.copy(inputStream, outputStream); // org.apache.commons.io\r\n            inputStream.close();\r\n            outputStream.close();\r\n        } catch (Exception e) { // IOException\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.KITKAT)\r\n    private static String getUriRealPathAboveKitkat(Context ctx, Uri uri) {\r\n        String ret = &quot;&quot;;\r\n\r\n        if (ctx != null &amp;&amp; uri != null) {\r\n\r\n            if (isContentUri(uri)) {\r\n                if (isGooglePhotoDoc(uri.getAuthority())) {\r\n                    ret = uri.getLastPathSegment();\r\n                } else {\r\n                    ret = getRealPath(ctx.getContentResolver(), uri, null);\r\n                }\r\n            } else if (isFileUri(uri)) {\r\n                ret = uri.getPath();\r\n            } else if (isDocumentUri(ctx, uri)) {\r\n\r\n                // Get uri related document id.\r\n                String documentId = DocumentsContract.getDocumentId(uri);\r\n\r\n                // Get uri authority.\r\n                String uriAuthority = uri.getAuthority();\r\n\r\n                if (isMediaDoc(uriAuthority)) {\r\n                    String idArr[] = documentId.split(&quot;:&quot;);\r\n                    if (idArr.length == 2) {\r\n                        // First item is document type.\r\n                        String docType = idArr[0];\r\n\r\n                        // Second item is document real id.\r\n                        String realDocId = idArr[1];\r\n\r\n                        // Get content uri by document type.\r\n                        Uri mediaContentUri = MediaStore.Images.Media.EXTERNAL_CONTENT_URI;\r\n                        if (&quot;image&quot;.equals(docType)) {\r\n                            mediaContentUri = MediaStore.Images.Media.EXTERNAL_CONTENT_URI;\r\n                        } else if (&quot;video&quot;.equals(docType)) {\r\n                            mediaContentUri = MediaStore.Video.Media.EXTERNAL_CONTENT_URI;\r\n                        } else if (&quot;audio&quot;.equals(docType)) {\r\n                            mediaContentUri = MediaStore.Audio.Media.EXTERNAL_CONTENT_URI;\r\n                        }\r\n\r\n                        // Get where clause with real document id.\r\n                        String whereClause = MediaStore.Images.Media._ID + &quot; = &quot; + realDocId;\r\n\r\n                        ret = getRealPath(ctx.getContentResolver(), mediaContentUri, whereClause);\r\n                    }\r\n\r\n                } else if (isDownloadDoc(uriAuthority)) {\r\n                    // Build download uri.\r\n                    Uri downloadUri = Uri.parse(&quot;content://downloads/public_downloads&quot;);\r\n\r\n                    // Append download document id at uri end.\r\n                    Uri downloadUriAppendId = ContentUris.withAppendedId(downloadUri, Long.valueOf(documentId));\r\n\r\n                    ret = getRealPath(ctx.getContentResolver(), downloadUriAppendId, null);\r\n\r\n                } else if (isExternalStoreDoc(uriAuthority)) {\r\n                    String idArr[] = documentId.split(&quot;:&quot;);\r\n                    if (idArr.length == 2) {\r\n                        String type = idArr[0];\r\n                        String realDocId = idArr[1];\r\n\r\n                        if (&quot;primary&quot;.equalsIgnoreCase(type)) {\r\n                            ret = Environment.getExternalStorageDirectory() + &quot;/&quot; + realDocId;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return ret;\r\n    }\r\n\r\n    /* Check whether this uri represent a document or not. */\r\n    @RequiresApi(api = Build.VERSION_CODES.KITKAT)\r\n    private static boolean isDocumentUri(Context ctx, Uri uri) {\r\n        boolean ret = false;\r\n        if (ctx != null &amp;&amp; uri != null) {\r\n            ret = DocumentsContract.isDocumentUri(ctx, uri);\r\n        }\r\n        return ret;\r\n    }\r\n\r\n    /* Check whether this uri is a content uri or not.\r\n     *  content uri like content://media/external/images/media/1302716\r\n     *  */\r\n    private static boolean isContentUri(Uri uri) {\r\n        boolean ret = false;\r\n        if (uri != null) {\r\n            String uriSchema = uri.getScheme();\r\n            if (&quot;content&quot;.equalsIgnoreCase(uriSchema)) {\r\n                ret = true;\r\n            }\r\n        }\r\n        return ret;\r\n    }\r\n\r\n    /* Check whether this uri is a file uri or not.\r\n     *  file uri like file:///storage/41B7-12F1/DCIM/Camera/IMG_20180211_095139.jpg\r\n     * */\r\n    private static boolean isFileUri(Uri uri) {\r\n        boolean ret = false;\r\n        if (uri != null) {\r\n            String uriSchema = uri.getScheme();\r\n            if (&quot;file&quot;.equalsIgnoreCase(uriSchema)) {\r\n                ret = true;\r\n            }\r\n        }\r\n        return ret;\r\n    }\r\n\r\n    /* Check whether this document is provided by ExternalStorageProvider. */\r\n    private static boolean isExternalStoreDoc(String uriAuthority) {\r\n        boolean ret = false;\r\n\r\n        if (&quot;com.android.externalstorage.documents&quot;.equals(uriAuthority)) {\r\n            ret = true;\r\n        }\r\n\r\n        return ret;\r\n    }\r\n\r\n    /* Check whether this document is provided by DownloadsProvider. */\r\n    private static boolean isDownloadDoc(String uriAuthority) {\r\n        boolean ret = false;\r\n\r\n        if (&quot;com.android.providers.downloads.documents&quot;.equals(uriAuthority)) {\r\n            ret = true;\r\n        }\r\n\r\n        return ret;\r\n    }\r\n\r\n    /* Check whether this document is provided by MediaProvider. */\r\n    private static boolean isMediaDoc(String uriAuthority) {\r\n        boolean ret = false;\r\n\r\n        if (&quot;com.android.providers.media.documents&quot;.equals(uriAuthority)) {\r\n            ret = true;\r\n        }\r\n\r\n        return ret;\r\n    }\r\n\r\n    /* Check whether this document is provided by google photos. */\r\n    private static boolean isGooglePhotoDoc(String uriAuthority) {\r\n        boolean ret = false;\r\n\r\n        if (&quot;com.google.android.apps.photos.content&quot;.equals(uriAuthority)) {\r\n            ret = true;\r\n        }\r\n\r\n        return ret;\r\n    }\r\n\r\n    /* Return uri represented document file real local path.*/\r\n    @SuppressLint(&quot;Recycle&quot;)\r\n    private static String getRealPath(ContentResolver contentResolver, Uri uri, String whereClause) {\r\n        String ret = &quot;&quot;;\r\n\r\n        // Query the uri with condition.\r\n        Cursor cursor = contentResolver.query(uri, null, whereClause, null, null);\r\n\r\n        if (cursor != null) {\r\n            boolean moveToFirst = cursor.moveToFirst();\r\n            if (moveToFirst) {\r\n\r\n                // Get columns name by uri type.\r\n                String columnName = MediaStore.Images.Media.DATA;\r\n\r\n                if (uri == MediaStore.Images.Media.EXTERNAL_CONTENT_URI) {\r\n                    columnName = MediaStore.Images.Media.DATA;\r\n                } else if (uri == MediaStore.Audio.Media.EXTERNAL_CONTENT_URI) {\r\n                    columnName = MediaStore.Audio.Media.DATA;\r\n                } else if (uri == MediaStore.Video.Media.EXTERNAL_CONTENT_URI) {\r\n                    columnName = MediaStore.Video.Media.DATA;\r\n                }\r\n\r\n                // Get column index.\r\n                int columnIndex = cursor.getColumnIndex(columnName);\r\n\r\n                // Get column value which is the uri related file local path.\r\n                ret = cursor.getString(columnIndex);\r\n            }\r\n        }\r\n\r\n        return ret;\r\n    }\r\n    }","title":"how to get absolute path file from an Uri content? Java Android Studio","body":"<p>2 examples of this type of Uris are:</p>\n<p>&quot;content://com.android.providers.downloads.documents/document/msf%3A33346&quot; and &quot;content://com.android.providers.downloads.documents/document/raw%3A%2Fstorage%2Femulated%2F0%2FDownload%2F2021-06-18Format%204.xls&quot;</p>\n<p>these Uris change with respect to the type of cell phone. I need to transform the uri to path file like &quot;storage/emulated/0/document/...&quot;</p>\n<p>The last way I used that seemed the most complete but didn't work was a class I saw on the page <a href=\"https://www.semicolonworld.com/question/45962/how-to-get-the-full-file-path-from-uri\" rel=\"nofollow noreferrer\">https://www.semicolonworld.com/question/45962/how-to-get-the-full-file-path-from-uri</a> which is the following:</p>\n<pre><code>public class FileUtils {\n\n/* Get uri related content real local file path. */\npublic static String getPath(Context ctx, Uri uri) {\n    String ret;\n    try {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT) {\n            // Android OS above sdk version 19.\n            ret = getUriRealPathAboveKitkat(ctx, uri);\n        } else {\n            // Android OS below sdk version 19\n            ret = getRealPath(ctx.getContentResolver(), uri, null);\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n        Log.d(&quot;DREG&quot;, &quot;FilePath Catch: &quot; + e);\n        ret = getFilePathFromURI(ctx, uri);\n    }\n    return ret;\n}\n\nprivate static String getFilePathFromURI(Context context, Uri contentUri) {\n    //copy file and send new file path\n    String fileName = getFileName(contentUri);\n    if (!TextUtils.isEmpty(fileName)) {\n        String TEMP_DIR_PATH = Environment.getExternalStorageDirectory().getPath();\n        File copyFile = new File(TEMP_DIR_PATH + File.separator + fileName);\n        Log.d(&quot;DREG&quot;, &quot;FilePath copyFile: &quot; + copyFile);\n        copy(context, contentUri, copyFile);\n        return copyFile.getAbsolutePath();\n    }\n    return null;\n}\n\npublic static String getFileName(Uri uri) {\n    if (uri == null) return null;\n    String fileName = null;\n    String path = uri.getPath();\n    int cut = path.lastIndexOf('/');\n    if (cut != -1) {\n        fileName = path.substring(cut + 1);\n    }\n    return fileName;\n}\n\npublic static void copy(Context context, Uri srcUri, File dstFile) {\n    try {\n        InputStream inputStream = context.getContentResolver().openInputStream(srcUri);\n        if (inputStream == null) return;\n        OutputStream outputStream = new FileOutputStream(dstFile);\n        IOUtils.copy(inputStream, outputStream); // org.apache.commons.io\n        inputStream.close();\n        outputStream.close();\n    } catch (Exception e) { // IOException\n        e.printStackTrace();\n    }\n}\n\n@RequiresApi(api = Build.VERSION_CODES.KITKAT)\nprivate static String getUriRealPathAboveKitkat(Context ctx, Uri uri) {\n    String ret = &quot;&quot;;\n\n    if (ctx != null &amp;&amp; uri != null) {\n\n        if (isContentUri(uri)) {\n            if (isGooglePhotoDoc(uri.getAuthority())) {\n                ret = uri.getLastPathSegment();\n            } else {\n                ret = getRealPath(ctx.getContentResolver(), uri, null);\n            }\n        } else if (isFileUri(uri)) {\n            ret = uri.getPath();\n        } else if (isDocumentUri(ctx, uri)) {\n\n            // Get uri related document id.\n            String documentId = DocumentsContract.getDocumentId(uri);\n\n            // Get uri authority.\n            String uriAuthority = uri.getAuthority();\n\n            if (isMediaDoc(uriAuthority)) {\n                String idArr[] = documentId.split(&quot;:&quot;);\n                if (idArr.length == 2) {\n                    // First item is document type.\n                    String docType = idArr[0];\n\n                    // Second item is document real id.\n                    String realDocId = idArr[1];\n\n                    // Get content uri by document type.\n                    Uri mediaContentUri = MediaStore.Images.Media.EXTERNAL_CONTENT_URI;\n                    if (&quot;image&quot;.equals(docType)) {\n                        mediaContentUri = MediaStore.Images.Media.EXTERNAL_CONTENT_URI;\n                    } else if (&quot;video&quot;.equals(docType)) {\n                        mediaContentUri = MediaStore.Video.Media.EXTERNAL_CONTENT_URI;\n                    } else if (&quot;audio&quot;.equals(docType)) {\n                        mediaContentUri = MediaStore.Audio.Media.EXTERNAL_CONTENT_URI;\n                    }\n\n                    // Get where clause with real document id.\n                    String whereClause = MediaStore.Images.Media._ID + &quot; = &quot; + realDocId;\n\n                    ret = getRealPath(ctx.getContentResolver(), mediaContentUri, whereClause);\n                }\n\n            } else if (isDownloadDoc(uriAuthority)) {\n                // Build download uri.\n                Uri downloadUri = Uri.parse(&quot;content://downloads/public_downloads&quot;);\n\n                // Append download document id at uri end.\n                Uri downloadUriAppendId = ContentUris.withAppendedId(downloadUri, Long.valueOf(documentId));\n\n                ret = getRealPath(ctx.getContentResolver(), downloadUriAppendId, null);\n\n            } else if (isExternalStoreDoc(uriAuthority)) {\n                String idArr[] = documentId.split(&quot;:&quot;);\n                if (idArr.length == 2) {\n                    String type = idArr[0];\n                    String realDocId = idArr[1];\n\n                    if (&quot;primary&quot;.equalsIgnoreCase(type)) {\n                        ret = Environment.getExternalStorageDirectory() + &quot;/&quot; + realDocId;\n                    }\n                }\n            }\n        }\n    }\n\n    return ret;\n}\n\n/* Check whether this uri represent a document or not. */\n@RequiresApi(api = Build.VERSION_CODES.KITKAT)\nprivate static boolean isDocumentUri(Context ctx, Uri uri) {\n    boolean ret = false;\n    if (ctx != null &amp;&amp; uri != null) {\n        ret = DocumentsContract.isDocumentUri(ctx, uri);\n    }\n    return ret;\n}\n\n/* Check whether this uri is a content uri or not.\n *  content uri like content://media/external/images/media/1302716\n *  */\nprivate static boolean isContentUri(Uri uri) {\n    boolean ret = false;\n    if (uri != null) {\n        String uriSchema = uri.getScheme();\n        if (&quot;content&quot;.equalsIgnoreCase(uriSchema)) {\n            ret = true;\n        }\n    }\n    return ret;\n}\n\n/* Check whether this uri is a file uri or not.\n *  file uri like file:///storage/41B7-12F1/DCIM/Camera/IMG_20180211_095139.jpg\n * */\nprivate static boolean isFileUri(Uri uri) {\n    boolean ret = false;\n    if (uri != null) {\n        String uriSchema = uri.getScheme();\n        if (&quot;file&quot;.equalsIgnoreCase(uriSchema)) {\n            ret = true;\n        }\n    }\n    return ret;\n}\n\n/* Check whether this document is provided by ExternalStorageProvider. */\nprivate static boolean isExternalStoreDoc(String uriAuthority) {\n    boolean ret = false;\n\n    if (&quot;com.android.externalstorage.documents&quot;.equals(uriAuthority)) {\n        ret = true;\n    }\n\n    return ret;\n}\n\n/* Check whether this document is provided by DownloadsProvider. */\nprivate static boolean isDownloadDoc(String uriAuthority) {\n    boolean ret = false;\n\n    if (&quot;com.android.providers.downloads.documents&quot;.equals(uriAuthority)) {\n        ret = true;\n    }\n\n    return ret;\n}\n\n/* Check whether this document is provided by MediaProvider. */\nprivate static boolean isMediaDoc(String uriAuthority) {\n    boolean ret = false;\n\n    if (&quot;com.android.providers.media.documents&quot;.equals(uriAuthority)) {\n        ret = true;\n    }\n\n    return ret;\n}\n\n/* Check whether this document is provided by google photos. */\nprivate static boolean isGooglePhotoDoc(String uriAuthority) {\n    boolean ret = false;\n\n    if (&quot;com.google.android.apps.photos.content&quot;.equals(uriAuthority)) {\n        ret = true;\n    }\n\n    return ret;\n}\n\n/* Return uri represented document file real local path.*/\n@SuppressLint(&quot;Recycle&quot;)\nprivate static String getRealPath(ContentResolver contentResolver, Uri uri, String whereClause) {\n    String ret = &quot;&quot;;\n\n    // Query the uri with condition.\n    Cursor cursor = contentResolver.query(uri, null, whereClause, null, null);\n\n    if (cursor != null) {\n        boolean moveToFirst = cursor.moveToFirst();\n        if (moveToFirst) {\n\n            // Get columns name by uri type.\n            String columnName = MediaStore.Images.Media.DATA;\n\n            if (uri == MediaStore.Images.Media.EXTERNAL_CONTENT_URI) {\n                columnName = MediaStore.Images.Media.DATA;\n            } else if (uri == MediaStore.Audio.Media.EXTERNAL_CONTENT_URI) {\n                columnName = MediaStore.Audio.Media.DATA;\n            } else if (uri == MediaStore.Video.Media.EXTERNAL_CONTENT_URI) {\n                columnName = MediaStore.Video.Media.DATA;\n            }\n\n            // Get column index.\n            int columnIndex = cursor.getColumnIndex(columnName);\n\n            // Get column value which is the uri related file local path.\n            ret = cursor.getString(columnIndex);\n        }\n    }\n\n    return ret;\n}\n}\n</code></pre>\n"},{"tags":["java","continuous-integration","micronaut"],"comments":[{"owner":{"account_id":2524916,"reputation":40766,"user_id":2194470,"accept_rate":100,"display_name":"Szymon Stepniak"},"score":0,"creation_date":1635513736,"post_id":69764838,"comment_id":123325707,"body_markdown":"I tried to reproduce your issue (Micronaut 2.5.13), and I failed. I created a similar bean with the `@Requires(property = &quot;broker.subscribe.exchanges&quot;, notEnv = {&quot;ci&quot;})` annotation, so it was initialized when I run the test inside IntelliJ (or by `./gradlew test`). Then I run the test with the `MICRONAUT_ENVIRONMENTS=ci ./gradlew test` and the bean was not initialized as expected. Could you provide a small example project that reproduces the issue? I suspect two things: either the env variable you set is not read in the pipeline, or something else overrides the envs.","body":"I tried to reproduce your issue (Micronaut 2.5.13), and I failed. I created a similar bean with the <code>@Requires(property = &quot;broker.subscribe.exchanges&quot;, notEnv = {&quot;ci&quot;})</code> annotation, so it was initialized when I run the test inside IntelliJ (or by <code>.&#47;gradlew test</code>). Then I run the test with the <code>MICRONAUT_ENVIRONMENTS=ci .&#47;gradlew test</code> and the bean was not initialized as expected. Could you provide a small example project that reproduces the issue? I suspect two things: either the env variable you set is not read in the pipeline, or something else overrides the envs."},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1635518341,"post_id":69764838,"comment_id":123327880,"body_markdown":"&quot;however it does start an ApplicationContext&quot; - Are you saying that `ApplicationContext.builder().packages(BrokerConfigurationTest.class.getPackageName()).properties(items).start()` does not start the context?","body":"&quot;however it does start an ApplicationContext&quot; - Are you saying that <code>ApplicationContext.builder().packages(BrokerConfigurationTes&zwnj;&#8203;t.class.getPackageNa&zwnj;&#8203;me()).properties(ite&zwnj;&#8203;ms).start()</code> does not start the context?"},{"owner":{"account_id":1864817,"reputation":1943,"user_id":1688639,"accept_rate":64,"display_name":"jokarl"},"score":0,"creation_date":1635755018,"post_id":69764838,"comment_id":123369442,"body_markdown":"@SzymonStepniak Sorry, should have been clearer. Everything works locally, I don&#39;t even need the `notEnv` property of the annotation. I only used `k8s` and `local` in the `env` property, and since none of those are fulfilled when running `./gradlew test`, it works as it should. This issue is only present when running in Bitbucket. This is why I thought disabling `deduceEnv` would fix it, since but unfortunatley it did not.","body":"@SzymonStepniak Sorry, should have been clearer. Everything works locally, I don&#39;t even need the <code>notEnv</code> property of the annotation. I only used <code>k8s</code> and <code>local</code> in the <code>env</code> property, and since none of those are fulfilled when running <code>.&#47;gradlew test</code>, it works as it should. This issue is only present when running in Bitbucket. This is why I thought disabling <code>deduceEnv</code> would fix it, since but unfortunatley it did not."},{"owner":{"account_id":1864817,"reputation":1943,"user_id":1688639,"accept_rate":64,"display_name":"jokarl"},"score":0,"creation_date":1635755083,"post_id":69764838,"comment_id":123369460,"body_markdown":"@JeffScottBrown it does start a context, otherwise the tests would fail. i&#39;m just pointing out that the `@MicronautTest` annotation is missing here (with all the effects that this annotation entails)","body":"@JeffScottBrown it does start a context, otherwise the tests would fail. i&#39;m just pointing out that the <code>@MicronautTest</code> annotation is missing here (with all the effects that this annotation entails)"},{"owner":{"account_id":2524916,"reputation":40766,"user_id":2194470,"accept_rate":100,"display_name":"Szymon Stepniak"},"score":0,"creation_date":1635757149,"post_id":69764838,"comment_id":123369977,"body_markdown":"@jokarl, you have to investigate your Bitbucket&#39;s pipeline test runtime environment. Keep in mind that the `@Requires` annotation gets satisfied when any of `property` or `env` options are true. If running `./gradlew test` with the same code does not fail the test in the local env, but it only fails in the pipeline, it would suggest that the `broker.subscribe.exchanges` is provided in your CI environment. You need to figure out what sets this property.","body":"@jokarl, you have to investigate your Bitbucket&#39;s pipeline test runtime environment. Keep in mind that the <code>@Requires</code> annotation gets satisfied when any of <code>property</code> or <code>env</code> options are true. If running <code>.&#47;gradlew test</code> with the same code does not fail the test in the local env, but it only fails in the pipeline, it would suggest that the <code>broker.subscribe.exchanges</code> is provided in your CI environment. You need to figure out what sets this property."},{"owner":{"account_id":1864817,"reputation":1943,"user_id":1688639,"accept_rate":64,"display_name":"jokarl"},"score":0,"creation_date":1635757749,"post_id":69764838,"comment_id":123370144,"body_markdown":"The property does get set in the tests: `items.put(getKey(&quot;subscribe.exchanges&quot;), Set.of(EXCHANGE));`. I want to start this class when _both_ this and any of the environments are a match. I expected `deduceEnv` to disable any automatically detected envs, hence nothing should match `env` in the annotation. Since that didn&#39;t work, I tried explicitly adding another environment that I called `ci` that I set as an environment variable only in pipelines, but that didn&#39;t work either. I will try to get some more logging in place when running the pipeline, I feel like it shouldn&#39;t be this difficult.","body":"The property does get set in the tests: <code>items.put(getKey(&quot;subscribe.exchanges&quot;), Set.of(EXCHANGE));</code>. I want to start this class when <i>both</i> this and any of the environments are a match. I expected <code>deduceEnv</code> to disable any automatically detected envs, hence nothing should match <code>env</code> in the annotation. Since that didn&#39;t work, I tried explicitly adding another environment that I called <code>ci</code> that I set as an environment variable only in pipelines, but that didn&#39;t work either. I will try to get some more logging in place when running the pipeline, I feel like it shouldn&#39;t be this difficult."}],"owner":{"account_id":1864817,"reputation":1943,"user_id":1688639,"accept_rate":64,"display_name":"jokarl"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":695,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652678095,"creation_date":1635490906,"question_id":69764838,"body_markdown":"I have built a Micronaut application which so far has not had any CI pipeline. All builds work flawlessly on all developer computers, but I can&#39;t for the life of me get it to run in a pipeline.\r\n\r\nThe issue is that I have a service annotated with `@Context`, meaning I want it to start at application startup:\r\n\r\n```java\r\n@Context\r\n@Requires(property = &quot;broker.subscribe.exchanges&quot;, env = { &quot;k8s&quot;, &quot;local&quot; })\r\n@ExecuteOn(TaskExecutors.MESSAGE_CONSUMER)\r\npublic class SubscriberService {\r\n\r\n    private final BrokerSubscriber subscriber;\r\n\r\n    public SubscriberService(final BrokerSubscriber subscriber) {\r\n        this.subscriber = subscriber;\r\n    }\r\n}\r\n```\r\n\r\nThis just starts subscribing to a number of exchanges. I&#39;ve added `env` to the annotation to ensure these do not start when running tests. If I remove the `env` property from the annotation, I get one failing test.\r\n\r\nThe code running in the pipeline has the `env` property set on the annotation, but it is not respected. When I run `./gradlew clean test` in the pipeline, the exact same test that fail without the `env` property set locally fail.\r\n\r\nThe test in question tests a configuration object, and is not annotated with `@MicronautTest`, however it does start an `ApplicationContext`:\r\n\r\n```java\r\nclass BrokerConfigurationTest {\r\n\r\n    private ApplicationContext ctx;\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        final Map&lt;String, Object&gt; items = new HashMap&lt;&gt;();\r\n        items.put(getKey(&quot;server.host&quot;), HOST);\r\n        items.put(getKey(&quot;server.port&quot;), PORT);\r\n        items.put(getKey(&quot;server.password&quot;), PASSWORD);\r\n        items.put(getKey(&quot;server.user&quot;), USER);\r\n        items.put(getKey(&quot;subscribe.exchanges&quot;), Set.of(EXCHANGE));\r\n\r\n        // Explicitly not loading anything else.\r\n        ctx = ApplicationContext.builder().packages(BrokerConfigurationTest.class.getPackageName()).properties(items).start();\r\n        // Same result:\r\n        // ctx = ApplicationContext.builder().environments(&quot;asdf&quot;).properties(items).start();\r\n        // Same result:\r\n        // ctx = ApplicationContext.run(items);\r\n    }\r\n}\r\n```\r\n\r\nWhat actually does work is removing the following line:\r\n```java\r\nitems.put(getKey(&quot;subscribe.exchanges&quot;), Set.of(EXCHANGE));\r\n```\r\n\r\nMeaning that the `@Requires` annotation is not fulfilled in regards to its `property`:\r\n```java\r\n@Requires(property = &quot;broker.subscribe.exchanges&quot;, env = { &quot;k8s&quot;, &quot;local&quot; })\r\n```\r\n\r\nWith this setup, I can even remove the `env` property in the annotation and it works. But I _need_ to test the behavior of this property, so this is not solution.\r\n\r\nWhat I&#39;ve tried that does not work:\r\n\r\n 1. Disable environment deduction with `./gradlew -Dmicronaut.env.deduction=false clean test`\r\n 2. Adding env variable `MICRONAUT_ENVIRONMENTS` set to `ci` in the pipeline build, and adding `notEnv = { &quot;ci&quot; }` in the `Requires`-annotation.\r\n 3. Both of the above at the same time\r\n 4. Explicitly telling the failing tests not to scan for anything outside of their own packages\r\n 5. Explicitly setting the environment to something other than `k8s` or `local` in the setup of the test.\r\n\r\nSuper smooth experience with the framework so far, but this has me scratching my head. Any input on what might be off here would be greatly appreciated.","title":"Micronaut @Requires annotation not respected in pipeline","body":"<p>I have built a Micronaut application which so far has not had any CI pipeline. All builds work flawlessly on all developer computers, but I can't for the life of me get it to run in a pipeline.</p>\n<p>The issue is that I have a service annotated with <code>@Context</code>, meaning I want it to start at application startup:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Context\n@Requires(property = &quot;broker.subscribe.exchanges&quot;, env = { &quot;k8s&quot;, &quot;local&quot; })\n@ExecuteOn(TaskExecutors.MESSAGE_CONSUMER)\npublic class SubscriberService {\n\n    private final BrokerSubscriber subscriber;\n\n    public SubscriberService(final BrokerSubscriber subscriber) {\n        this.subscriber = subscriber;\n    }\n}\n</code></pre>\n<p>This just starts subscribing to a number of exchanges. I've added <code>env</code> to the annotation to ensure these do not start when running tests. If I remove the <code>env</code> property from the annotation, I get one failing test.</p>\n<p>The code running in the pipeline has the <code>env</code> property set on the annotation, but it is not respected. When I run <code>./gradlew clean test</code> in the pipeline, the exact same test that fail without the <code>env</code> property set locally fail.</p>\n<p>The test in question tests a configuration object, and is not annotated with <code>@MicronautTest</code>, however it does start an <code>ApplicationContext</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class BrokerConfigurationTest {\n\n    private ApplicationContext ctx;\n\n    @BeforeEach\n    void setUp() {\n        final Map&lt;String, Object&gt; items = new HashMap&lt;&gt;();\n        items.put(getKey(&quot;server.host&quot;), HOST);\n        items.put(getKey(&quot;server.port&quot;), PORT);\n        items.put(getKey(&quot;server.password&quot;), PASSWORD);\n        items.put(getKey(&quot;server.user&quot;), USER);\n        items.put(getKey(&quot;subscribe.exchanges&quot;), Set.of(EXCHANGE));\n\n        // Explicitly not loading anything else.\n        ctx = ApplicationContext.builder().packages(BrokerConfigurationTest.class.getPackageName()).properties(items).start();\n        // Same result:\n        // ctx = ApplicationContext.builder().environments(&quot;asdf&quot;).properties(items).start();\n        // Same result:\n        // ctx = ApplicationContext.run(items);\n    }\n}\n</code></pre>\n<p>What actually does work is removing the following line:</p>\n<pre class=\"lang-java prettyprint-override\"><code>items.put(getKey(&quot;subscribe.exchanges&quot;), Set.of(EXCHANGE));\n</code></pre>\n<p>Meaning that the <code>@Requires</code> annotation is not fulfilled in regards to its <code>property</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Requires(property = &quot;broker.subscribe.exchanges&quot;, env = { &quot;k8s&quot;, &quot;local&quot; })\n</code></pre>\n<p>With this setup, I can even remove the <code>env</code> property in the annotation and it works. But I <em>need</em> to test the behavior of this property, so this is not solution.</p>\n<p>What I've tried that does not work:</p>\n<ol>\n<li>Disable environment deduction with <code>./gradlew -Dmicronaut.env.deduction=false clean test</code></li>\n<li>Adding env variable <code>MICRONAUT_ENVIRONMENTS</code> set to <code>ci</code> in the pipeline build, and adding <code>notEnv = { &quot;ci&quot; }</code> in the <code>Requires</code>-annotation.</li>\n<li>Both of the above at the same time</li>\n<li>Explicitly telling the failing tests not to scan for anything outside of their own packages</li>\n<li>Explicitly setting the environment to something other than <code>k8s</code> or <code>local</code> in the setup of the test.</li>\n</ol>\n<p>Super smooth experience with the framework so far, but this has me scratching my head. Any input on what might be off here would be greatly appreciated.</p>\n"},{"tags":["java","android","android-recyclerview","adapter"],"comments":[{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1652644742,"post_id":72251700,"comment_id":127650486,"body_markdown":"That single method of the adapter doesn&#39;t suffice to understand the cause of the problem; however, `noticeList` obviously isn&#39;t the same as `noticeset` and you might not be setting it in the adapter&#39;s constructor.","body":"That single method of the adapter doesn&#39;t suffice to understand the cause of the problem; however, <code>noticeList</code> obviously isn&#39;t the same as <code>noticeset</code> and you might not be setting it in the adapter&#39;s constructor."},{"owner":{"account_id":25297983,"reputation":1,"user_id":19122784,"display_name":"이소다"},"score":0,"creation_date":1652677706,"post_id":72251700,"comment_id":127654961,"body_markdown":"@MartinZeitler I added more codes!","body":"@MartinZeitler I added more codes!"}],"owner":{"account_id":25297983,"reputation":1,"user_id":19122784,"display_name":"이소다"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1652644698,"answer_count":0,"score":0,"last_activity_date":1652677651,"creation_date":1652644039,"question_id":72251700,"body_markdown":"    RecyclerView recyclerView = findViewById(R.id.recyclerView);\r\n                    recyclerView.setHasFixedSize(true);\r\n                    recyclerView.setLayoutManager(new LinearLayoutManager(NoticeMngActivity.this));\r\n                    RecyclerView.Adapter mAdapter = new noticeListAdapter(NoticeMngActivity.this, noticeList);\r\n                    recyclerView.setAdapter(mAdapter);\r\nI did this code in the main activity and there was error\r\njava.lang.NullPointerException: Attempt to invoke virtual method &#39;int java.util.ArrayList.size()&#39; on a null object reference\r\nThis error pointed to\r\n\r\n        public int getItemCount() {\r\n        return noticeset.size();\r\n    }\r\n\r\nBut I checked noticeList size is 4 by log.d()...before passing to Adapter. why doesn&#39;t it work....\r\nAnd there was more error above this error\r\nE/RecyclerView: No adapter attached; skipping layout\r\nI&#39;m stuck with this problem a day....\r\n\r\nThis Adapter.java\r\n\r\n    public class noticeListAdapter extends RecyclerView.Adapter&lt;noticeListAdapter.NoticeViewHolder&gt; {\r\n    private Activity activity;\r\n    private ArrayList&lt;notice&gt; noticeset = null;\r\n\r\n    public static class NoticeViewHolder extends RecyclerView.ViewHolder{\r\n        public CardView cardView;\r\n        public NoticeViewHolder(CardView v){\r\n            super(v);\r\n            cardView = v;\r\n        }\r\n    }\r\n\r\n\r\n    public noticeListAdapter(Activity activity, ArrayList&lt;notice&gt; noticeset){\r\n        this.activity = activity;\r\n        noticeset = noticeset;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public NoticeViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        CardView cardView = (CardView) LayoutInflater.from(parent.getContext()).inflate(R.layout.item_notice, parent, false);\r\n        final NoticeViewHolder noticeViewHolder = new NoticeViewHolder(cardView);\r\n        cardView.setOnClickListener(view -&gt; {\r\n            Intent resultIntent = new Intent();\r\n            resultIntent.putExtra(&quot;ProfilePath&quot;, (CharSequence) noticeset.get(noticeViewHolder.getAdapterPosition()));\r\n            activity.setResult(Activity.RESULT_OK, resultIntent);\r\n            activity.finish();\r\n        });\r\n        return noticeViewHolder;\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull NoticeViewHolder holder, int position) {\r\n        CardView cardView = holder.cardView;\r\n        TextView titletextView = cardView.findViewById(R.id.titletextView);\r\n        TextView datetextView = cardView.findViewById(R.id.datetextView);\r\n        titletextView.setText(noticeset.get(position).gettitle());\r\n        datetextView.setText(noticeset.get(position).getdate());\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return noticeset.size();\r\n    }\r\n\r\nAnd this is main\r\n\r\n    public class NoticeMngActivity extends AppCompatActivity {\r\n    private ListView listView;\r\n    private noticeListAdapter adapter;\r\n    private List&lt;notice&gt; noticeList = null;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_notice_mng);\r\n        Intent intent = getIntent();\r\n        Button writeBtn = findViewById(R.id.writeButton);\r\n        writeBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {//Write버튼 누르면 writeactivity로 이동\r\n                Intent intent = new Intent(getApplicationContext(), NoticeWriteActivity.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n        createNoticeGroups();\r\n    }\r\n\r\n    private void createNoticeGroups()\r\n    {\r\n        FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n        db.collection(&quot;notice&quot;).get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n                if(task.isSuccessful()){\r\n                    final ArrayList&lt;notice&gt; noticeList = new ArrayList&lt;&gt;();\r\n                    for(QueryDocumentSnapshot document : task.getResult()){\r\n                        noticeList.add(new notice(document.getData().get(&quot;title&quot;).toString(),\r\n                                (ArrayList&lt;String&gt;)document.getData().get(&quot;content&quot;),\r\n                                document.getData().get(&quot;date&quot;).toString()));\r\n                        //Log.d(&quot;로그:&quot;, &quot;데이터 : &quot;+document.getData().get(&quot;title&quot;).toString());\r\n                    }\r\n\r\n                    RecyclerView recyclerView = findViewById(R.id.recyclerView);\r\n                    recyclerView.setHasFixedSize(true);\r\n                    recyclerView.setLayoutManager(new LinearLayoutManager(NoticeMngActivity.this));\r\n                    RecyclerView.Adapter mAdapter = new noticeListAdapter(NoticeMngActivity.this, noticeList);\r\n                    recyclerView.setAdapter(mAdapter);\r\n                } else{\r\n                    Log.d(TAG, &quot;Error getting documents: &quot;, task.getException());\r\n                }\r\n            }\r\n        });\r\n\r\n","title":"recyclerView on android Studio","body":"<pre><code>RecyclerView recyclerView = findViewById(R.id.recyclerView);\n                recyclerView.setHasFixedSize(true);\n                recyclerView.setLayoutManager(new LinearLayoutManager(NoticeMngActivity.this));\n                RecyclerView.Adapter mAdapter = new noticeListAdapter(NoticeMngActivity.this, noticeList);\n                recyclerView.setAdapter(mAdapter);\n</code></pre>\n<p>I did this code in the main activity and there was error\njava.lang.NullPointerException: Attempt to invoke virtual method 'int java.util.ArrayList.size()' on a null object reference\nThis error pointed to</p>\n<pre><code>    public int getItemCount() {\n    return noticeset.size();\n}\n</code></pre>\n<p>But I checked noticeList size is 4 by log.d()...before passing to Adapter. why doesn't it work....\nAnd there was more error above this error\nE/RecyclerView: No adapter attached; skipping layout\nI'm stuck with this problem a day....</p>\n<p>This Adapter.java</p>\n<pre><code>public class noticeListAdapter extends RecyclerView.Adapter&lt;noticeListAdapter.NoticeViewHolder&gt; {\nprivate Activity activity;\nprivate ArrayList&lt;notice&gt; noticeset = null;\n\npublic static class NoticeViewHolder extends RecyclerView.ViewHolder{\n    public CardView cardView;\n    public NoticeViewHolder(CardView v){\n        super(v);\n        cardView = v;\n    }\n}\n\n\npublic noticeListAdapter(Activity activity, ArrayList&lt;notice&gt; noticeset){\n    this.activity = activity;\n    noticeset = noticeset;\n}\n\n@NonNull\n@Override\npublic NoticeViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    CardView cardView = (CardView) LayoutInflater.from(parent.getContext()).inflate(R.layout.item_notice, parent, false);\n    final NoticeViewHolder noticeViewHolder = new NoticeViewHolder(cardView);\n    cardView.setOnClickListener(view -&gt; {\n        Intent resultIntent = new Intent();\n        resultIntent.putExtra(&quot;ProfilePath&quot;, (CharSequence) noticeset.get(noticeViewHolder.getAdapterPosition()));\n        activity.setResult(Activity.RESULT_OK, resultIntent);\n        activity.finish();\n    });\n    return noticeViewHolder;\n}\n\n@Override\npublic void onBindViewHolder(@NonNull NoticeViewHolder holder, int position) {\n    CardView cardView = holder.cardView;\n    TextView titletextView = cardView.findViewById(R.id.titletextView);\n    TextView datetextView = cardView.findViewById(R.id.datetextView);\n    titletextView.setText(noticeset.get(position).gettitle());\n    datetextView.setText(noticeset.get(position).getdate());\n}\n\n@Override\npublic int getItemCount() {\n    return noticeset.size();\n}\n</code></pre>\n<p>And this is main</p>\n<pre><code>public class NoticeMngActivity extends AppCompatActivity {\nprivate ListView listView;\nprivate noticeListAdapter adapter;\nprivate List&lt;notice&gt; noticeList = null;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_notice_mng);\n    Intent intent = getIntent();\n    Button writeBtn = findViewById(R.id.writeButton);\n    writeBtn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {//Write버튼 누르면 writeactivity로 이동\n            Intent intent = new Intent(getApplicationContext(), NoticeWriteActivity.class);\n            startActivity(intent);\n        }\n    });\n    createNoticeGroups();\n}\n\nprivate void createNoticeGroups()\n{\n    FirebaseFirestore db = FirebaseFirestore.getInstance();\n    db.collection(&quot;notice&quot;).get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n        @Override\n        public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n            if(task.isSuccessful()){\n                final ArrayList&lt;notice&gt; noticeList = new ArrayList&lt;&gt;();\n                for(QueryDocumentSnapshot document : task.getResult()){\n                    noticeList.add(new notice(document.getData().get(&quot;title&quot;).toString(),\n                            (ArrayList&lt;String&gt;)document.getData().get(&quot;content&quot;),\n                            document.getData().get(&quot;date&quot;).toString()));\n                    //Log.d(&quot;로그:&quot;, &quot;데이터 : &quot;+document.getData().get(&quot;title&quot;).toString());\n                }\n\n                RecyclerView recyclerView = findViewById(R.id.recyclerView);\n                recyclerView.setHasFixedSize(true);\n                recyclerView.setLayoutManager(new LinearLayoutManager(NoticeMngActivity.this));\n                RecyclerView.Adapter mAdapter = new noticeListAdapter(NoticeMngActivity.this, noticeList);\n                recyclerView.setAdapter(mAdapter);\n            } else{\n                Log.d(TAG, &quot;Error getting documents: &quot;, task.getException());\n            }\n        }\n    });\n</code></pre>\n"},{"tags":["javascript","java","selenium","selenium-webdriver","fetch-api"],"answers":[{"tags":[],"owner":{"account_id":25296580,"reputation":2100,"user_id":19121623,"display_name":"Eskandar Abedini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652675717,"creation_date":1652632313,"answer_id":72250193,"question_id":72248987,"body_markdown":"Use `setTimeout()`\r\n\r\n    function resolveAfter2Seconds() {\r\n      return new Promise(resolve =&gt; {\r\n        setTimeout(() =&gt; {\r\n          resolve(&#39;resolved&#39;);\r\n        }, 2000);\r\n      });\r\n    }\r\n    \r\n    async function asyncCall() {\r\n      console.log(&#39;calling&#39;);\r\n      const result = await resolveAfter2Seconds();\r\n      console.log(result);\r\n      // expected output: &quot;resolved&quot;\r\n    }\r\n    \r\n[async function][1]\r\n\r\n\r\n[How to useexecuteAsyncScriptmethodinorg.openqa.selenium.JavascriptExecutor][2]\r\n\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function\r\n  [2]: https://www.tabnine.com/code/java/methods/org.openqa.selenium.JavascriptExecutor/executeAsyncScript","title":"how to handle script time out for javascript executer for fetch call","body":"<p>Use <code>setTimeout()</code></p>\n<pre><code>function resolveAfter2Seconds() {\n  return new Promise(resolve =&gt; {\n    setTimeout(() =&gt; {\n      resolve('resolved');\n    }, 2000);\n  });\n}\n\nasync function asyncCall() {\n  console.log('calling');\n  const result = await resolveAfter2Seconds();\n  console.log(result);\n  // expected output: &quot;resolved&quot;\n}\n</code></pre>\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function\" rel=\"nofollow noreferrer\">async function</a></p>\n<p><a href=\"https://www.tabnine.com/code/java/methods/org.openqa.selenium.JavascriptExecutor/executeAsyncScript\" rel=\"nofollow noreferrer\">How to useexecuteAsyncScriptmethodinorg.openqa.selenium.JavascriptExecutor</a></p>\n"},{"tags":[],"owner":{"account_id":937336,"reputation":54163,"user_id":966023,"accept_rate":65,"display_name":"pguardiario"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652676394,"creation_date":1652676394,"answer_id":72254248,"question_id":72248987,"body_markdown":"I&#39;m not how to escape the quotes but the javascript should be:\r\n\r\n    let url = &quot;https://...&quot;\r\n    fetch(url).then(r =&gt; r.blob()).then(arguments[0])\r\n\r\narguments[0] is the callback, it needs to call that within 30 seconds or the timeout happens\r\n","title":"how to handle script time out for javascript executer for fetch call","body":"<p>I'm not how to escape the quotes but the javascript should be:</p>\n<pre><code>let url = &quot;https://...&quot;\nfetch(url).then(r =&gt; r.blob()).then(arguments[0])\n</code></pre>\n<p>arguments[0] is the callback, it needs to call that within 30 seconds or the timeout happens</p>\n"}],"owner":{"account_id":25262716,"reputation":31,"user_id":19093394,"display_name":"dazzyCrazzy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72254248,"answer_count":2,"score":0,"last_activity_date":1652676394,"creation_date":1652623545,"question_id":72248987,"body_markdown":" I am executing the below javascript using selenium java script exceuter, I want to return the response fromt the fetch call and want to store it in java variable in code.\r\nBut below code is showing script time out, any suggestions how can I achive above requirements ???\r\n\r\n```\r\n String location = &quot;!async function(){\\n&quot; +\r\n                &quot;let data = await fetch(\\&quot;https://raw.githubusercontent.com/IbrahimTanyalcin/LEXICON/master/lexiconLogo.png\\&quot;)\\n&quot; +\r\n                &quot;    .then((response) =&gt; response.blob())\\n&quot; +\r\n                &quot;    .then(data =&gt; {\\n&quot; +\r\n                &quot;        return data;\\n&quot; +\r\n                &quot;    })\\n&quot; +\r\n                &quot;    .catch(error =&gt; {\\n&quot; +\r\n                &quot;        console.error(error);\\n&quot; +\r\n                &quot;    });\\n&quot; +\r\n                &quot;\\n&quot; +\r\n                &quot;console.log(data);\\n&quot; +\r\n                &quot;return data;\\n&quot; +\r\n                &quot;}();\\n&quot;;\r\n\r\n\r\n        Object str = js.executeAsyncScript(location);\r\n```","title":"how to handle script time out for javascript executer for fetch call","body":"<p>I am executing the below javascript using selenium java script exceuter, I want to return the response fromt the fetch call and want to store it in java variable in code.\nBut below code is showing script time out, any suggestions how can I achive above requirements ???</p>\n<pre><code> String location = &quot;!async function(){\\n&quot; +\n                &quot;let data = await fetch(\\&quot;https://raw.githubusercontent.com/IbrahimTanyalcin/LEXICON/master/lexiconLogo.png\\&quot;)\\n&quot; +\n                &quot;    .then((response) =&gt; response.blob())\\n&quot; +\n                &quot;    .then(data =&gt; {\\n&quot; +\n                &quot;        return data;\\n&quot; +\n                &quot;    })\\n&quot; +\n                &quot;    .catch(error =&gt; {\\n&quot; +\n                &quot;        console.error(error);\\n&quot; +\n                &quot;    });\\n&quot; +\n                &quot;\\n&quot; +\n                &quot;console.log(data);\\n&quot; +\n                &quot;return data;\\n&quot; +\n                &quot;}();\\n&quot;;\n\n\n        Object str = js.executeAsyncScript(location);\n</code></pre>\n"},{"tags":["java","qt"],"comments":[{"owner":{"account_id":2123624,"reputation":7301,"user_id":1886357,"accept_rate":79,"display_name":"eric"},"score":12,"creation_date":1434725715,"post_id":4577313,"comment_id":49917457,"body_markdown":"Hey youngsters, back in the day they allowed questions like this at SO.","body":"Hey youngsters, back in the day they allowed questions like this at SO."}],"answers":[{"tags":[],"owner":{"account_id":92864,"reputation":27045,"user_id":254306,"accept_rate":84,"display_name":"Travis Gockel"},"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1611080008,"creation_date":1293947061,"answer_id":4577316,"question_id":4577313,"body_markdown":"The current best option appears to be the [Bytedeco bindings](https://github.com/bytedeco/javacpp-presets/tree/master/qt), which are JNI bindings to native C++ Qt libraries. They are not officially supported by the Qt Project, so your mileage may vary.","title":"Using Qt in Java?","body":"<p>The current best option appears to be the <a href=\"https://github.com/bytedeco/javacpp-presets/tree/master/qt\" rel=\"nofollow noreferrer\">Bytedeco bindings</a>, which are JNI bindings to native C++ Qt libraries. They are not officially supported by the Qt Project, so your mileage may vary.</p>\n"},{"tags":[],"owner":{"account_id":5015,"reputation":1685,"user_id":7855,"accept_rate":100,"display_name":"Nerdfest"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1293947065,"creation_date":1293947065,"answer_id":4577318,"question_id":4577313,"body_markdown":"I believe it can be done using JNI (Java Native Interface) calls. There is also [Jambi][1]\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Qt_Jambi","title":"Using Qt in Java?","body":"<p>I believe it can be done using JNI (Java Native Interface) calls. There is also <a href=\"http://en.wikipedia.org/wiki/Qt_Jambi\" rel=\"nofollow\">Jambi</a></p>\n"},{"tags":[],"owner":{"account_id":50060,"reputation":41687,"user_id":149206,"accept_rate":100,"display_name":"Naveed"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1652613965,"creation_date":1293947270,"answer_id":4577325,"question_id":4577313,"body_markdown":"Here are some useful tutorial for you:\r\n\r\n- [Java desktop development with Qt Jambi][1]\r\n- [Working with Qt Applications - NetBeans IDE 6.9 Tutorial][2]\r\n\r\n\r\n  [1]: http://web.archive.org/web/20170531121041/http://www.javaworld.com/article/2077750/core-java/java-desktop-development-with-qt-jambi.html\r\n  [2]: http://web.archive.org/web/20120422034217/http://netbeans2.org/kb/docs/cnd/qt-applications.html","title":"Using Qt in Java?","body":"<p>Here are some useful tutorial for you:</p>\n<ul>\n<li><a href=\"http://web.archive.org/web/20170531121041/http://www.javaworld.com/article/2077750/core-java/java-desktop-development-with-qt-jambi.html\" rel=\"nofollow noreferrer\">Java desktop development with Qt Jambi</a></li>\n<li><a href=\"http://web.archive.org/web/20120422034217/http://netbeans2.org/kb/docs/cnd/qt-applications.html\" rel=\"nofollow noreferrer\">Working with Qt Applications - NetBeans IDE 6.9 Tutorial</a></li>\n</ul>\n"},{"tags":[],"owner":{"display_name":"user467871"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1652675831,"creation_date":1293947607,"answer_id":4577337,"question_id":4577313,"body_markdown":"[QT Jambi][1] and a good article about it in javaworld [Java desktop development with Qt Jambi][2]\r\n\r\n\r\nand here is [QT Jambi documentation][3]\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Qt_Jambi\r\n  [2]: http://web.archive.org/web/20170531121041/http://www.javaworld.com/article/2077750/core-java/java-desktop-development-with-qt-jambi.html\r\n  [3]: http://web.archive.org/web/20140809054302/http://doc.qt.digia.com/qtjambi-4.5.2_01/com/trolltech/qt/qtjambi-index.html","title":"Using Qt in Java?","body":"<p><a href=\"http://en.wikipedia.org/wiki/Qt_Jambi\" rel=\"nofollow noreferrer\">QT Jambi</a> and a good article about it in javaworld <a href=\"http://web.archive.org/web/20170531121041/http://www.javaworld.com/article/2077750/core-java/java-desktop-development-with-qt-jambi.html\" rel=\"nofollow noreferrer\">Java desktop development with Qt Jambi</a></p>\n<p>and here is <a href=\"http://web.archive.org/web/20140809054302/http://doc.qt.digia.com/qtjambi-4.5.2_01/com/trolltech/qt/qtjambi-index.html\" rel=\"nofollow noreferrer\">QT Jambi documentation</a></p>\n"}],"owner":{"account_id":193714,"reputation":4215,"user_id":435615,"accept_rate":81,"display_name":"Rendicahya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40057,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":4577316,"answer_count":4,"score":22,"last_activity_date":1652675831,"creation_date":1293946890,"question_id":4577313,"body_markdown":"Is it possible to use Qt in Java SE?","title":"Using Qt in Java?","body":"<p>Is it possible to use Qt in Java SE?</p>\n"},{"tags":["java","synchronization"],"answers":[{"tags":[],"owner":{"account_id":938015,"reputation":21321,"user_id":966590,"accept_rate":100,"display_name":"Andrew Logvinov"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1359011695,"creation_date":1359011695,"answer_id":14495825,"question_id":14495776,"body_markdown":"The first example (acquiring lock on `this`) is meant to be used in instance methods, the second one (acquiring lock on `class` object) -- in `static` methods.\r\n\r\nIf one thread acquires lock on `MyClass.class`, other threads will have to wait to enter the synchronized block of a `static` method that this block is located in. Meanwhile, all of the threads will be able to acquire lock for a particular instance of this class and execute instance methods.","title":"synchronized(this) vs synchronized(MyClass.class)","body":"<p>The first example (acquiring lock on <code>this</code>) is meant to be used in instance methods, the second one (acquiring lock on <code>class</code> object) -- in <code>static</code> methods.</p>\n\n<p>If one thread acquires lock on <code>MyClass.class</code>, other threads will have to wait to enter the synchronized block of a <code>static</code> method that this block is located in. Meanwhile, all of the threads will be able to acquire lock for a particular instance of this class and execute instance methods.</p>\n"},{"tags":[],"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1596642284,"creation_date":1359011703,"answer_id":14495828,"question_id":14495776,"body_markdown":"`MyClass.class` and `this` are different things, they are different references to different objects.\r\n\r\n`this` - is a reference to this particular instance of the class, and\r\n\r\n`MyClass.class` - is a reference to the `MyClass` description object.\r\n\r\nThese synchronization blocks differ in that the first will synchronize all threads that deal concretely with **this** instance of `MyClass`, and the second one will synchronize **all** threads independently of which object on which method was called.","title":"synchronized(this) vs synchronized(MyClass.class)","body":"<p><code>MyClass.class</code> and <code>this</code> are different things, they are different references to different objects.</p>\n<p><code>this</code> - is a reference to this particular instance of the class, and</p>\n<p><code>MyClass.class</code> - is a reference to the <code>MyClass</code> description object.</p>\n<p>These synchronization blocks differ in that the first will synchronize all threads that deal concretely with <strong>this</strong> instance of <code>MyClass</code>, and the second one will synchronize <strong>all</strong> threads independently of which object on which method was called.</p>\n"}],"owner":{"account_id":98618,"reputation":13889,"user_id":266827,"accept_rate":78,"display_name":"Sandy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30645,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"closed_date":1359020159,"accepted_answer_id":14495828,"answer_count":2,"score":32,"last_activity_date":1652675157,"creation_date":1359011512,"question_id":14495776,"body_markdown":"&gt; **Possible Duplicate:**  \r\n&gt; [Java Synchronized Block for .class](https://stackoverflow.com/questions/2056243/java-synchronized-block-for-class)  \r\n\r\n&lt;!-- End of automatically inserted text --&gt;\r\n\r\nI was reading through an [article][1] on synchronization. I am confused on below points and need more clarification\r\n\r\n1) For synchronization block. How&lt;br/&gt;\r\n   \r\n\r\n       synchronized (this) {\r\n           // code\r\n       }\r\n\r\n   differs from \r\n   \r\n\r\n       synchronized (MyClass.class) {\r\n           // code\r\n       }\r\n\r\n2) Synchronizing instance method means threads will have to get exclusive lock on the instance, while synchronizing static method means thread will have to acquire a lock on whole class(correct me if I am wrong). So if a class has three methods and one of them is static synchronized then if a thread acquires lock on that method then that means it will acquire lock on the whole class. So does that mean the other two will also get locked and no other method will be able to access those two methods as the whole class is having lock?\r\n\r\n  [1]: http://javarevisited.blogspot.in/2011/04/synchronization-in-java-synchronized.html","title":"synchronized(this) vs synchronized(MyClass.class)","body":"<blockquote>\n<p><strong>Possible Duplicate:</strong><br />\n<a href=\"https://stackoverflow.com/questions/2056243/java-synchronized-block-for-class\">Java Synchronized Block for .class</a></p>\n</blockquote>\n\n<p>I was reading through an <a href=\"http://javarevisited.blogspot.in/2011/04/synchronization-in-java-synchronized.html\" rel=\"nofollow noreferrer\">article</a> on synchronization. I am confused on below points and need more clarification</p>\n<ol>\n<li><p>For synchronization block. How<br/></p>\n<pre><code>synchronized (this) {\n    // code\n}\n</code></pre>\n<p>differs from</p>\n<pre><code>synchronized (MyClass.class) {\n    // code\n}\n</code></pre>\n</li>\n<li><p>Synchronizing instance method means threads will have to get exclusive lock on the instance, while synchronizing static method means thread will have to acquire a lock on whole class(correct me if I am wrong). So if a class has three methods and one of them is static synchronized then if a thread acquires lock on that method then that means it will acquire lock on the whole class. So does that mean the other two will also get locked and no other method will be able to access those two methods as the whole class is having lock?</p>\n</li>\n</ol>\n"},{"tags":["java","jsf","wildfly","h2"],"comments":[{"owner":{"account_id":16247179,"reputation":7205,"user_id":11731987,"display_name":"Evgenij Ryazanov"},"score":0,"creation_date":1652675543,"post_id":72254058,"comment_id":127654691,"body_markdown":"`org.h2.server.web.JakartaWebServlet` should be used for Jakarta-based web servers (`org.h2.server.web.WebServlet` is for old `javax.servlet`-based servers) and you need to figure out why H2 1.4.197 is loaded instead of 2.1.212. But it looks like WildFly intentionally doesn&#39;t support usage of H2 Console servlet (https://issues.redhat.com/browse/WFLY-14814) for a some reason.","body":"<code>org.h2.server.web.JakartaWebServlet</code> should be used for Jakarta-based web servers (<code>org.h2.server.web.WebServlet</code> is for old <code>javax.servlet</code>-based servers) and you need to figure out why H2 1.4.197 is loaded instead of 2.1.212. But it looks like WildFly intentionally doesn&#39;t support usage of H2 Console servlet (<a href=\"https://issues.redhat.com/browse/WFLY-14814\" rel=\"nofollow noreferrer\">issues.redhat.com/browse/WFLY-14814</a>) for a some reason."},{"owner":{"account_id":7402185,"reputation":1651,"user_id":5632255,"accept_rate":88,"display_name":"Mehdi Rahimi"},"score":0,"creation_date":1652675658,"post_id":72254058,"comment_id":127654706,"body_markdown":"*H2 1.4.197* is loaded because I used `MODE=LEGACY`. And I&#39;m using *Java EE 8* not *Jakarta EE* @EvgenijRyazanov","body":"<i>H2 1.4.197</i> is loaded because I used <code>MODE=LEGACY</code>. And I&#39;m using <i>Java EE 8</i> not <i>Jakarta EE</i> @EvgenijRyazanov"},{"owner":{"account_id":16247179,"reputation":7205,"user_id":11731987,"display_name":"Evgenij Ryazanov"},"score":1,"creation_date":1652679152,"post_id":72254058,"comment_id":127655182,"body_markdown":"H2 1.4.197 doesn&#39;t have that compatibility mode, it was introduced in H2 2.0.204 and it cannot load other versions of H2, it only allows usage of some invalid SQL commands.","body":"H2 1.4.197 doesn&#39;t have that compatibility mode, it was introduced in H2 2.0.204 and it cannot load other versions of H2, it only allows usage of some invalid SQL commands."}],"owner":{"account_id":7402185,"reputation":1651,"user_id":5632255,"accept_rate":88,"display_name":"Mehdi Rahimi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":366,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652674529,"creation_date":1652674020,"question_id":72254058,"body_markdown":"In order to using **H2 Console** in my (*JSF-2.3 / WildFly 26*) project, I added this *Servlet* to project *web.xml* file:\r\n\r\n    &lt;servlet&gt;\r\n    \t&lt;servlet-name&gt;H2Console&lt;/servlet-name&gt;\r\n    \t&lt;servlet-class&gt;org.h2.server.web.WebServlet&lt;/servlet-class&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n    \t&lt;servlet-name&gt;H2Console&lt;/servlet-name&gt;\r\n    \t&lt;url-pattern&gt;/console/*&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n\r\nThe project *pom.xml* file dependency:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.1.212&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nH2 `&lt;data-source&gt;` in *web.xml* \r\n\r\n    &lt;data-source&gt;\r\n    \t&lt;name&gt;java:global/DataSourceName&lt;/name&gt;\r\n    \t&lt;class-name&gt;org.h2.jdbcx.JdbcDataSource&lt;/class-name&gt;\r\n    \t&lt;url&gt;jdbc:h2:mem:test;DB_CLOSE_DELAY=-1;MODE=LEGACY&lt;/url&gt;\r\n    &lt;/data-source&gt;\r\n\r\nI&#39;ve got this error:\r\n\r\n&gt; Failed to define class org.h2.server.web.WebServlet in Module\r\n&gt; &quot;com.h2database.h2&quot; version 1.4.197 from local module loader @3d3ba765\r\n&gt; (finder: local module finder @25bc0606 (roots:\r\n&gt; F:\\wildfly-26.1.0.Final\\modules,F:\\wildfly-26.1.0.Final\\modules\\system\\layers\\base)):\r\n&gt; java.lang.NoClassDefFoundError: Failed to link\r\n&gt; org/h2/server/web/WebServlet (Module &quot;com.h2database.h2&quot; version\r\n&gt; 1.4.197 from local module loader @3d3ba765 (finder: local module finder @25bc0606 (roots:\r\n&gt; F:\\wildfly-26.1.0.Final\\modules,F:\\wildfly-26.1.0.Final\\modules\\system\\layers\\base))): javax/servlet/http/HttpServlet\r\n\r\nDoes anybody know how can I fix this compile time error?","title":"Failed to define class org.h2.server.web.WebServlet","body":"<p>In order to using <strong>H2 Console</strong> in my (<em>JSF-2.3 / WildFly 26</em>) project, I added this <em>Servlet</em> to project <em>web.xml</em> file:</p>\n<pre><code>&lt;servlet&gt;\n    &lt;servlet-name&gt;H2Console&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.h2.server.web.WebServlet&lt;/servlet-class&gt;\n&lt;/servlet&gt;\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;H2Console&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/console/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n<p>The project <em>pom.xml</em> file dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n    &lt;artifactId&gt;h2&lt;/artifactId&gt;\n    &lt;version&gt;2.1.212&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>H2 <code>&lt;data-source&gt;</code> in <em>web.xml</em></p>\n<pre><code>&lt;data-source&gt;\n    &lt;name&gt;java:global/DataSourceName&lt;/name&gt;\n    &lt;class-name&gt;org.h2.jdbcx.JdbcDataSource&lt;/class-name&gt;\n    &lt;url&gt;jdbc:h2:mem:test;DB_CLOSE_DELAY=-1;MODE=LEGACY&lt;/url&gt;\n&lt;/data-source&gt;\n</code></pre>\n<p>I've got this error:</p>\n<blockquote>\n<p>Failed to define class org.h2.server.web.WebServlet in Module\n&quot;com.h2database.h2&quot; version 1.4.197 from local module loader @3d3ba765\n(finder: local module finder @25bc0606 (roots:\nF:\\wildfly-26.1.0.Final\\modules,F:\\wildfly-26.1.0.Final\\modules\\system\\layers\\base)):\njava.lang.NoClassDefFoundError: Failed to link\norg/h2/server/web/WebServlet (Module &quot;com.h2database.h2&quot; version\n1.4.197 from local module loader @3d3ba765 (finder: local module finder @25bc0606 (roots:\nF:\\wildfly-26.1.0.Final\\modules,F:\\wildfly-26.1.0.Final\\modules\\system\\layers\\base))): javax/servlet/http/HttpServlet</p>\n</blockquote>\n<p>Does anybody know how can I fix this compile time error?</p>\n"},{"tags":["java","logging","log4j","log4j2"],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652674118,"creation_date":1652674118,"answer_id":72254068,"question_id":72248635,"body_markdown":"You configuration of the `com.dite.filter.ax` logger is correct, but you didn&#39;t configure the root logger.\r\n\r\nIf you want to ignore all log messages that do not come from `com.dite.filter.ax` and its descendants use:\r\n\r\n```\r\nrootLogger.level = OFF\r\n```","title":"How to configure log4j2.properties file to create logs for specific package","body":"<p>You configuration of the <code>com.dite.filter.ax</code> logger is correct, but you didn't configure the root logger.</p>\n<p>If you want to ignore all log messages that do not come from <code>com.dite.filter.ax</code> and its descendants use:</p>\n<pre><code>rootLogger.level = OFF\n</code></pre>\n"}],"owner":{"account_id":18525117,"reputation":1,"user_id":13497183,"display_name":"aswanthtumati"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":661,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652674118,"creation_date":1652620780,"question_id":72248635,"body_markdown":"\r\n**Below is my project structure:**\r\n\r\nsrc-&gt;main-&gt;java-&gt;com-&gt;dot-&gt;filter-&gt;here are many folders (ax,by,cz) which contain the classes\r\n\r\nsrc-&gt;main-&gt;java-&gt;resources-&gt;log4j2.properties\r\n\r\n\r\n\r\n**Below is my log4j2.properties file:**\r\n```\r\nstatus = error\r\nname = PropertiesConfig\r\n \r\nproperty.filename = C:\\\\logs\\\\debug.log\r\n \r\nfilters = threshold\r\nfilter.threshold.type = ThresholdFilter\r\nfilter.threshold.level = debug\r\n \r\nappenders = rolling\r\nappender.rolling.type = RollingFile\r\nappender.rolling.name = RollingFile\r\nappender.rolling.fileName = ${filename}\r\nappender.rolling.filePattern = C:\\\\logs\\\\PreviousLogs\\\\-%d{MM-dd-yy-HH-mm-ss}-%i.log.gz\r\nappender.rolling.layout.type = PatternLayout\r\nappender.rolling.layout.pattern = %d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\r\n\r\nappender.rolling.policies.type = Policies\r\nappender.rolling.policies.time.type = TimeBasedTriggeringPolicy\r\nappender.rolling.policies.time.interval = 1\r\nappender.rolling.policies.time.modulate = true\r\nappender.rolling.policies.size.type = SizeBasedTriggeringPolicy\r\nappender.rolling.policies.size.size=10MB\r\nappender.rolling.strategy.type = DefaultRolloverStrategy\r\nappender.rolling.strategy.max = 20\r\n \r\nloggers = rolling\r\n  \r\nlogger.rolling.name = com.dite.filter.ax\r\n\r\nlogger.rolling.level = debug\r\nlogger.rolling.additivity = true\r\nlogger.rolling.appenderRef.rolling.ref = RollingFile\r\n```\r\n\r\nfor the above configuration I couldn&#39;t generate the logs\r\n\r\nis there anything wrong in this line `logger.rolling.name = com.dite.filter.ax`?\r\n\r\ncould any one please tell me what mistake I have done in this configuration?\r\n\r\nor\r\n\r\nsuggest me other way to generate logs for above specified package structure\r\n","title":"How to configure log4j2.properties file to create logs for specific package","body":"<p><strong>Below is my project structure:</strong></p>\n<p>src-&gt;main-&gt;java-&gt;com-&gt;dot-&gt;filter-&gt;here are many folders (ax,by,cz) which contain the classes</p>\n<p>src-&gt;main-&gt;java-&gt;resources-&gt;log4j2.properties</p>\n<p><strong>Below is my log4j2.properties file:</strong></p>\n<pre><code>status = error\nname = PropertiesConfig\n \nproperty.filename = C:\\\\logs\\\\debug.log\n \nfilters = threshold\nfilter.threshold.type = ThresholdFilter\nfilter.threshold.level = debug\n \nappenders = rolling\nappender.rolling.type = RollingFile\nappender.rolling.name = RollingFile\nappender.rolling.fileName = ${filename}\nappender.rolling.filePattern = C:\\\\logs\\\\PreviousLogs\\\\-%d{MM-dd-yy-HH-mm-ss}-%i.log.gz\nappender.rolling.layout.type = PatternLayout\nappender.rolling.layout.pattern = %d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\n\nappender.rolling.policies.type = Policies\nappender.rolling.policies.time.type = TimeBasedTriggeringPolicy\nappender.rolling.policies.time.interval = 1\nappender.rolling.policies.time.modulate = true\nappender.rolling.policies.size.type = SizeBasedTriggeringPolicy\nappender.rolling.policies.size.size=10MB\nappender.rolling.strategy.type = DefaultRolloverStrategy\nappender.rolling.strategy.max = 20\n \nloggers = rolling\n  \nlogger.rolling.name = com.dite.filter.ax\n\nlogger.rolling.level = debug\nlogger.rolling.additivity = true\nlogger.rolling.appenderRef.rolling.ref = RollingFile\n</code></pre>\n<p>for the above configuration I couldn't generate the logs</p>\n<p>is there anything wrong in this line <code>logger.rolling.name = com.dite.filter.ax</code>?</p>\n<p>could any one please tell me what mistake I have done in this configuration?</p>\n<p>or</p>\n<p>suggest me other way to generate logs for above specified package structure</p>\n"},{"tags":["java","android","react-native"],"answers":[{"tags":[],"owner":{"account_id":23787141,"reputation":559,"user_id":17799032,"display_name":"Daniel Knauf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652600196,"creation_date":1652600196,"answer_id":72246365,"question_id":72246275,"body_markdown":"Hej Pro,\r\n\r\na [PendingIntent][1] cannot target a `DialogFragment` directly - only Activity, Service or Broadcast.\r\n\r\nYou have to set an action on your Intent to identify the click on the view with id (*R.id.appwidget_text*). When your app is opened and check the received Intent if it is the action for displaying your `DialogFragment` and navigate to it.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/app/PendingIntent","title":"How to open a dialog box on the click of a widget button in android","body":"<p>Hej Pro,</p>\n<p>a <a href=\"https://developer.android.com/reference/android/app/PendingIntent\" rel=\"nofollow noreferrer\">PendingIntent</a> cannot target a <code>DialogFragment</code> directly - only Activity, Service or Broadcast.</p>\n<p>You have to set an action on your Intent to identify the click on the view with id (<em>R.id.appwidget_text</em>). When your app is opened and check the received Intent if it is the action for displaying your <code>DialogFragment</code> and navigate to it.</p>\n"}],"owner":{"account_id":12986267,"reputation":455,"user_id":14310836,"display_name":"Pro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":573,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1652673906,"creation_date":1652599184,"question_id":72246275,"body_markdown":"I am trying to create a button in my app&#39;s widget. I expect it to open a dialog box when clicked. I am unsure of how to implement this.\r\nHere is the widget&#39;s code:\r\n\r\n    public class IncompleteTodosWidget extends AppWidgetProvider {\r\n    \r\n        static void updateAppWidget(Context context, AppWidgetManager appWidgetManager,\r\n                                    int appWidgetId) {\r\n    \r\n            Intent intent = new Intent(context, timeTypeSelector.class);\r\n            PendingIntent pendingIntent = PendingIntent.getActivity(\r\n                    /* context = */ context,\r\n                    /* requestCode = */ 0,\r\n                    /* intent = */ intent,\r\n                    /* flags = */ PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_IMMUTABLE\r\n            );\r\n    \r\n            RemoteViews views = new RemoteViews(context.getPackageName(), R.layout.incomplete_todos_widget);\r\n            views.setOnClickPendingIntent(R.id.appwidget_text, pendingIntent);\r\n    \r\n    \r\n            appWidgetManager.updateAppWidget(appWidgetId, views);\r\n        }\r\n    \r\n        @Override\r\n        public void onUpdate(Context context, AppWidgetManager appWidgetManager, int[] appWidgetIds) {\r\n            // There may be multiple widgets active, so update all of them\r\n            for (int appWidgetId : appWidgetIds) {\r\n                updateAppWidget(context, appWidgetManager, appWidgetId);\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nHere is the code of the dialog box:\r\n\r\n    public class timeTypeSelector extends DialogFragment {\r\n    \r\n        @Override\r\n        public Dialog onCreateDialog(Bundle savedInstanceState) {\r\n            AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\r\n            builder.setMessage(&quot;Demo message&quot;)\r\n                    .setPositiveButton(&quot;Perform miracles&quot;, new DialogInterface.OnClickListener() {\r\n                        public void onClick(DialogInterface dialog, int id) {\r\n                            Log.d(&quot;Bitcoin has reached 69,42,000&quot;);\r\n                        }\r\n                    })\r\n                    .setNegativeButton(&quot;Close&quot;, new DialogInterface.OnClickListener() {\r\n                        public void onClick(DialogInterface dialog, int id) {\r\n                            Log.d(&quot;Bitcoin would have reached 69,42,000 if you had clicked the other button&quot;);\r\n                        }\r\n                    });\r\n            // Create the AlertDialog object and return it\r\n            return builder.create();\r\n        }\r\n    }\r\nWhen I try clicking the view with id appwidget_text, my app gets opened instead of the dialog box. Where am I going wrong?\r\n","title":"How to open a dialog box on the click of a widget button in android","body":"<p>I am trying to create a button in my app's widget. I expect it to open a dialog box when clicked. I am unsure of how to implement this.\nHere is the widget's code:</p>\n<pre><code>public class IncompleteTodosWidget extends AppWidgetProvider {\n\n    static void updateAppWidget(Context context, AppWidgetManager appWidgetManager,\n                                int appWidgetId) {\n\n        Intent intent = new Intent(context, timeTypeSelector.class);\n        PendingIntent pendingIntent = PendingIntent.getActivity(\n                /* context = */ context,\n                /* requestCode = */ 0,\n                /* intent = */ intent,\n                /* flags = */ PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_IMMUTABLE\n        );\n\n        RemoteViews views = new RemoteViews(context.getPackageName(), R.layout.incomplete_todos_widget);\n        views.setOnClickPendingIntent(R.id.appwidget_text, pendingIntent);\n\n\n        appWidgetManager.updateAppWidget(appWidgetId, views);\n    }\n\n    @Override\n    public void onUpdate(Context context, AppWidgetManager appWidgetManager, int[] appWidgetIds) {\n        // There may be multiple widgets active, so update all of them\n        for (int appWidgetId : appWidgetIds) {\n            updateAppWidget(context, appWidgetManager, appWidgetId);\n        }\n    }\n\n}\n</code></pre>\n<p>Here is the code of the dialog box:</p>\n<pre><code>public class timeTypeSelector extends DialogFragment {\n\n    @Override\n    public Dialog onCreateDialog(Bundle savedInstanceState) {\n        AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\n        builder.setMessage(&quot;Demo message&quot;)\n                .setPositiveButton(&quot;Perform miracles&quot;, new DialogInterface.OnClickListener() {\n                    public void onClick(DialogInterface dialog, int id) {\n                        Log.d(&quot;Bitcoin has reached 69,42,000&quot;);\n                    }\n                })\n                .setNegativeButton(&quot;Close&quot;, new DialogInterface.OnClickListener() {\n                    public void onClick(DialogInterface dialog, int id) {\n                        Log.d(&quot;Bitcoin would have reached 69,42,000 if you had clicked the other button&quot;);\n                    }\n                });\n        // Create the AlertDialog object and return it\n        return builder.create();\n    }\n}\n</code></pre>\n<p>When I try clicking the view with id appwidget_text, my app gets opened instead of the dialog box. Where am I going wrong?</p>\n"},{"tags":["java","android-databinding"],"owner":{"account_id":16863493,"reputation":57,"user_id":16555594,"display_name":"Ritik Raj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":385,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"closed_date":1682330836,"answer_count":0,"score":3,"last_activity_date":1652673379,"creation_date":1652672129,"question_id":72253930,"body_markdown":"When i Try to build then this error will come. Actually i have integrated another app source code in my existing app source code. Error: class ActivitySigUupBinding is public, should be declared in a file named ActivitySignUpBinding.java public final class ActivitySigUupBinding implements ViewBinding\r\n\r\nActivitySignUpBinding.java ⬇️\r\n\r\n    public final class ActivitySignUpBinding implements ViewBinding {\r\n    @NonNull\r\n    private final ConstraintLayout rootView;\r\n\r\n    @NonNull\r\n    public final EditText editText;\r\n\r\n    @NonNull\r\n    public final ImageView imageView;\r\n\r\n    @NonNull\r\n    public final EditText password;\r\n\r\n    @NonNull\r\n    public final ProgressBar pb;\r\n\r\n    @NonNull\r\n    public final TextView privacy;\r\n\r\n    @NonNull\r\n    public final Button signUp;\r\n\r\n    @NonNull\r\n    public final TextView terms;\r\n\r\n    @NonNull\r\n    public final TextView textView;\r\n\r\n    @NonNull\r\n    public final TextView textView2;\r\n\r\n    @NonNull\r\n    public final EditText username;\r\n\r\n    private ActivitySignUpBinding(@NonNull ConstraintLayout rootView, @NonNull EditText\r\n    editText,\r\n      @NonNull ImageView imageView, @NonNull EditText password, @NonNull ProgressBar pb,\r\n      @NonNull TextView privacy, @NonNull Button signUp, @NonNull TextView terms,\r\n      @NonNull TextView textView, @NonNull TextView textView2, @NonNull EditText username) {\r\n    this.rootView = rootView;\r\n    this.editText = editText;\r\n    this.imageView = imageView;\r\n    this.password = password;\r\n    this.pb = pb;\r\n    this.privacy = privacy;\r\n    this.signUp = signUp;\r\n    this.terms = terms;\r\n    this.textView = textView;\r\n    this.textView2 = textView2;\r\n    this.username = username;\r\n    }\r\n\r\n    @Override\r\n    @NonNull\r\n    public ConstraintLayout getRoot() {\r\n    return rootView;\r\n    }\r\n\r\n    @NonNull\r\n    public static ActivitySignUpBinding inflate(@NonNull LayoutInflater inflater) {\r\n    return inflate(inflater, null, false);\r\n    }\r\n\r\n    @NonNull\r\n    public static ActivitySignUpBinding inflate(@NonNull LayoutInflater inflater,\r\n      @Nullable ViewGroup parent, boolean attachToParent) {\r\n    View root = inflater.inflate(R.layout.activity_sign_up, parent, false);\r\n    if (attachToParent) {\r\n      parent.addView(root);\r\n    }\r\n    return bind(root);\r\n    }\r\n\r\n    @NonNull\r\n    public static ActivitySignUpBinding bind(@NonNull View rootView) {\r\n    // The body of this method is generated in a way you would not otherwise write.\r\n    // This is done to optimize the compiled bytecode for size and performance.\r\n    int id;\r\n    missingId: {\r\n      id = R.id.editText;\r\n      EditText editText = rootView.findViewById(id);\r\n      if (editText == null) {\r\n        break missingId;\r\n      }\r\n\r\n      id = R.id.imageView;\r\n      ImageView imageView = rootView.findViewById(id);\r\n      if (imageView == null) {\r\n        break missingId;\r\n      }\r\n\r\n      id = R.id.password;\r\n      EditText password = rootView.findViewById(id);\r\n      if (password == null) {\r\n        break missingId;\r\n      }\r\n\r\n      id = R.id.pb;\r\n      ProgressBar pb = rootView.findViewById(id);\r\n      if (pb == null) {\r\n        break missingId;\r\n      }\r\n\r\n      id = R.id.privacy;\r\n      TextView privacy = rootView.findViewById(id);\r\n      if (privacy == null) {\r\n        break missingId;\r\n      }\r\n\r\n      id = R.id.signUp;\r\n      Button signUp = rootView.findViewById(id);\r\n      if (signUp == null) {\r\n        break missingId;\r\n      }\r\n\r\n      id = R.id.terms;\r\n      TextView terms = rootView.findViewById(id);\r\n      if (terms == null) {\r\n        break missingId;\r\n      }\r\n\r\n      id = R.id.textView;\r\n      TextView textView = rootView.findViewById(id);\r\n      if (textView == null) {\r\n        break missingId;\r\n      }\r\n\r\n      id = R.id.textView2;\r\n      TextView textView2 = rootView.findViewById(id);\r\n      if (textView2 == null) {\r\n        break missingId;\r\n      }\r\n\r\n      id = R.id.username;\r\n      EditText username = rootView.findViewById(id);\r\n      if (username == null) {\r\n        break missingId;\r\n      }\r\n\r\n      return new ActivitySignUpBinding((ConstraintLayout) rootView, editText, imageView,\r\n      password,\r\n          pb, privacy, signUp, terms, textView, textView2, username);\r\n      }\r\n      String missingId = rootView.getResources().getResourceName(id);\r\n      throw new NullPointerException(&quot;Missing required view with ID: &quot;.concat(missingId));\r\n    }\r\n    }\r\n\r\n\r\nFrontSignup.java ⬇️\r\n\r\n\r\n    public class FrontSignup extends AppCompatActivity {\r\n    ActivitySignupBinding binding;\r\n    Activity activity;\r\n    String emailPattern = &quot;[a-zA-Z0-9._-]+@[a-z]+\\\\.+[a-z]+&quot;;\r\n    AlertDialog loadingDialog,alert;\r\n    Session session;\r\n    boolean check=false;\r\n    boolean email_=false;\r\n    boolean emailactive= false;\r\n    private static final int SELECT_PICTURE = 0;\r\n    private Bitmap bitmap;\r\n    String filepath,encodedimage;\r\n    int type;\r\n    Uri image;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        if (Build.VERSION.SDK_INT &gt;= 21) {\r\n            getWindow().setStatusBarColor(Color.TRANSPARENT);\r\n            getWindow().setFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS,\r\n                    WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS);\r\n        }\r\n        binding=ActivitySignupBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n        activity=FrontSignup.this;\r\n        session= new Session(activity);\r\n        loadingDialog=Method.loading(activity);\r\n        alert=Method.Alerts(activity);\r\n\r\n        if(Constant.EMAIL_VERIFICATION){\r\n            type=2;\r\n        }else {\r\n            type=5;\r\n        }\r\n\r\n        binding.layoutImg.setOnClickListener(v -&gt; Dexter.withActivity(FrontSignup\r\n                .this)\r\n                .withPermission(Manifest.permission.READ_EXTERNAL_STORAGE)\r\n                .withListener(new PermissionListener() {\r\n                    @Override\r\n                    public void onPermissionGranted(PermissionGrantedResponse response) {\r\n                        Intent i = new Intent(Intent.ACTION_PICK);\r\n                        i.setType(&quot;image/*&quot;);\r\n                        startActivityForResult(Intent.createChooser(i, &quot;Select Picture&quot;), SELECT_PICTURE);\r\n                    }\r\n\r\n                    @Override\r\n                    public void onPermissionDenied(PermissionDeniedResponse response) {}\r\n                    @Override\r\n                    public void onPermissionRationaleShouldBeShown(com.karumi.dexter.listener.PermissionRequest permission, PermissionToken token) {\r\n                        token.continuePermissionRequest();\r\n                    }\r\n                }).check());\r\n\r\n        binding.sendAgain.setOnClickListener(v -&gt; {\r\n            funVerifyEmail(binding.email.getText().toString().trim());\r\n        });\r\n\r\n        binding.terms.setOnClickListener(v -&gt; {\r\n            Method.launchCustomTabs(activity, Constant.PRIVACY_POLICY_URL);\r\n        });\r\n    }\r\n\r\n    void showLoading(){\r\n        loadingDialog.show();\r\n    }\r\n\r\n    void dismisLoading(){\r\n        if(loadingDialog.isShowing())\r\n            loadingDialog.dismiss();\r\n    }\r\n\r\n    private boolean validateData() {\r\n        boolean valid= true;\r\n\r\n        if(TextUtils.isEmpty(binding.username.getText().toString().trim())){\r\n            binding.username.setError(getResources().getString(R.string.error_field_required));\r\n            valid=false;\r\n        }\r\n        if(TextUtils.isEmpty(binding.email.getText().toString().trim())){\r\n            binding.email.setError(getResources().getString(R.string.error_field_required));\r\n            valid=false;\r\n        }\r\n        else if(!binding.email.getText().toString().trim().matches(emailPattern)){\r\n            binding.email.setError(getResources().getString(R.string.error_invalid_email));\r\n            valid=false;\r\n        }\r\n\r\n        if(TextUtils.isEmpty(binding.password.getText().toString().trim())){\r\n            binding.password.setError(getResources().getString(R.string.error_invalid_password));\r\n            valid=false;\r\n        }\r\n\r\n        if(image==null){\r\n            showAlert(getString(R.string.please_select_profile_image));\r\n            valid=false;\r\n        }\r\n        return valid;\r\n    }\r\n\r\n    public void Signup(View view) {\r\n        if(!Method.isConnected(activity)){\r\n            Method.ToastWarning(activity,getString(R.string.no_internet));\r\n        }\r\n        if(!validateData()){\r\n            return;\r\n        }else {\r\n            if(check){\r\n                if(email_){\r\n                    funOtpVerify(binding.email.getText().toString().trim(),binding.otp.getText().toString().trim());\r\n                }else{\r\n                    reqSignup(binding.username.getText().toString().trim(),binding.email.getText().toString().trim(),binding.password.getText().toString().trim(),5);\r\n                }\r\n            }else {\r\n                reqSignup(binding.username.getText().toString().trim(),binding.email.getText().toString().trim(),binding.password.getText().toString().trim(),type);\r\n            }\r\n        }\r\n    }\r\n\r\n    private void reqSignup(String name, String email, String password, int types) {\r\n        File file = new File(filepath);\r\n        RequestBody requestBody = RequestBody.create(MediaType.parse(&quot;image/*&quot;), file);\r\n        MultipartBody.Part parts = MultipartBody.Part.createFormData(&quot;newimage&quot;, file.getName(), requestBody);\r\n        OSDeviceState device = OneSignal.getDeviceState();\r\n        Constant.API_TYPE = &quot;signup&quot;;\r\n        Constant.P1 = name;\r\n        Constant.P2 = email;\r\n        Constant.P3 = password;\r\n        Constant.P4 = Method.deviceId(activity);\r\n        Constant.P5 = device.getUserId();\r\n        Constant.P6 = String.valueOf(types);\r\n        showLoading();\r\n        Call&lt;BonusResponse&gt; call = ApiClient.getClient(activity).create(ApiInterface.class).Signup(parts);\r\n        call.enqueue(new Callback&lt;BonusResponse&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;BonusResponse&gt; call, Response&lt;BonusResponse&gt; response) {\r\n               dismisLoading();\r\n                if(response.isSuccessful() &amp;&amp; response.body().getStatus()==201){\r\n                    check=true;\r\n                    if(types==5){\r\n                        session.saveUserData(&quot;&quot;,email,&quot;&quot;,&quot;&quot;,password,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;);\r\n                        session.setBoolean(session.LOGIN,true);\r\n                        Method.ToastSuccess(activity,&quot;Account Created!&quot;);\r\n                        Intent intent = new Intent(activity, FrontLogin.class);\r\n                        overridePendingTransition(R.anim.enter,R.anim.exit);\r\n                        startActivity(intent);\r\n                    }else{\r\n                        binding.loginLayout.setVisibility(View.GONE);\r\n                        binding.layoutOtp.setVisibility(View.VISIBLE);\r\n                        funVerifyEmail(email);\r\n                    }\r\n                }else{\r\n                    Method.ToastError(activity,response.body().getData());\r\n                }\r\n\r\n            }\r\n            @Override\r\n            public void onFailure(Call&lt;BonusResponse&gt; call, Throwable t) {\r\n                dismisLoading();\r\n            }\r\n        });\r\n    }\r\n\r\n    public void login(View view) {\r\n        overridePendingTransition(R.anim.exit,R.anim.enter);\r\n        startActivity(new Intent(activity,FrontLogin.class));\r\n    }\r\n\r\n    private void funOtpVerify(String email , String otp) {\r\n        if(otp.isEmpty()){\r\n            Method.ToastWarning(activity,&quot;Enter Valid Otp&quot;);\r\n        }else {\r\n            showLoading();\r\n            Call&lt;BonusResponse&gt; call = ApiClient.getClient(activity).create(ApiInterface.class).Verify_OTP(otp, email);\r\n            call.enqueue(new Callback&lt;BonusResponse&gt;() {\r\n                @Override\r\n                public void onResponse(Call&lt;BonusResponse&gt; call, Response&lt;BonusResponse&gt; response) {\r\n                    dismisLoading();\r\n                    if (response.isSuccessful() &amp;&amp; response.body().getStatus() == 201) {\r\n                        reqSignup(binding.username.getText().toString().trim(), binding.email.getText().toString().trim(), binding.password.getText().toString().trim(), 5);\r\n                    } else {\r\n                        binding.otp.setText(null);\r\n                        Method.ToastError(activity, response.body().getData());\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public void onFailure(Call&lt;BonusResponse&gt; call, Throwable t) {\r\n                    dismisLoading();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    private void funVerifyEmail(String email) {\r\n        emailactive=true;\r\n        showLoading();\r\n        Call&lt;BonusResponse&gt; call = ApiClient.getClient(activity).create(ApiInterface.class).VerifyEmail(email);\r\n        call.enqueue(new Callback&lt;BonusResponse&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;BonusResponse&gt; call, Response&lt;BonusResponse&gt; response) {\r\n                dismisLoading();\r\n                if(response.isSuccessful() &amp;&amp; response.body().getStatus()==201) {\r\n                    email_=true;\r\n                    Method.ToastSuccess(activity,&quot;OTP has been sended To Email&quot;);\r\n                    binding.procced.setText(getString(R.string.verify_otp));\r\n                } else {\r\n                    Method.ToastWarning(activity,response.body().getData());\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call&lt;BonusResponse&gt; call, Throwable t) {\r\n                dismisLoading();\r\n                Method.ToastWarning(activity,getString(R.string.try_again_later));\r\n            }\r\n        });\r\n    }\r\n\r\n    public String getRealPathFromURI(Uri uri) {\r\n        String[] projection = { MediaStore.Images.Media.DATA };\r\n        @SuppressWarnings(&quot;deprecation&quot;)\r\n        Cursor cursor = managedQuery(uri, projection, null, null, null);\r\n        int column_index = cursor\r\n                .getColumnIndexOrThrow(MediaStore.Images.Media.DATA);\r\n        cursor.moveToFirst();\r\n        return cursor.getString(column_index);\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        if (requestCode == SELECT_PICTURE &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null) {\r\n            image = data.getData();\r\n            try {\r\n                InputStream inputStream = getContentResolver().openInputStream(image);\r\n                bitmap = BitmapFactory.decodeStream(inputStream);\r\n                Bitmap.createScaledBitmap(bitmap, 120, 120, false);\r\n\r\n                binding.image.setImageBitmap(bitmap);\r\n                filepath=getRealPathFromURI(image);\r\n\r\n            } catch (FileNotFoundException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n    }\r\n\r\n    void showAlert(String msg){\r\n        alert.show();\r\n        TextView tv =alert.findViewById(R.id.txt);\r\n        tv.setText(msg);\r\n        alert.findViewById(R.id.close).setOnClickListener(v -&gt; {\r\n            alert.dismiss();\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        if(emailactive){\r\n            AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n            builder.setTitle(getString(R.string.txt_exit));\r\n            builder.setMessage(getString(R.string.txt_confirm_exit));\r\n\r\n            builder.setPositiveButton(getString(R.string.txt_yes), (dialog, which) -&gt; {\r\n                overridePendingTransition(R.anim.exit,R.anim.enter);\r\n                finish();\r\n            });\r\n\r\n            builder.setNegativeButton(getString(R.string.txt_no), (dialog, which) -&gt; {\r\n                dialog.dismiss();\r\n            });\r\n\r\n            AlertDialog alert = builder.create();\r\n            alert.show();\r\n        }\r\n        super.onBackPressed();\r\n    }\r\n    }\r\n\r\n\r\nError ⬇️\r\n[![Error Coming while building App][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zY33K.png","title":"How to solve error: class x Binding is public, should be declared in a file named x .java public final class x Binding implements ViewBinding {","body":"<p>When i Try to build then this error will come. Actually i have integrated another app source code in my existing app source code. Error: class ActivitySigUupBinding is public, should be declared in a file named ActivitySignUpBinding.java public final class ActivitySigUupBinding implements ViewBinding</p>\n<p>ActivitySignUpBinding.java ⬇️</p>\n<pre><code>public final class ActivitySignUpBinding implements ViewBinding {\n@NonNull\nprivate final ConstraintLayout rootView;\n\n@NonNull\npublic final EditText editText;\n\n@NonNull\npublic final ImageView imageView;\n\n@NonNull\npublic final EditText password;\n\n@NonNull\npublic final ProgressBar pb;\n\n@NonNull\npublic final TextView privacy;\n\n@NonNull\npublic final Button signUp;\n\n@NonNull\npublic final TextView terms;\n\n@NonNull\npublic final TextView textView;\n\n@NonNull\npublic final TextView textView2;\n\n@NonNull\npublic final EditText username;\n\nprivate ActivitySignUpBinding(@NonNull ConstraintLayout rootView, @NonNull EditText\neditText,\n  @NonNull ImageView imageView, @NonNull EditText password, @NonNull ProgressBar pb,\n  @NonNull TextView privacy, @NonNull Button signUp, @NonNull TextView terms,\n  @NonNull TextView textView, @NonNull TextView textView2, @NonNull EditText username) {\nthis.rootView = rootView;\nthis.editText = editText;\nthis.imageView = imageView;\nthis.password = password;\nthis.pb = pb;\nthis.privacy = privacy;\nthis.signUp = signUp;\nthis.terms = terms;\nthis.textView = textView;\nthis.textView2 = textView2;\nthis.username = username;\n}\n\n@Override\n@NonNull\npublic ConstraintLayout getRoot() {\nreturn rootView;\n}\n\n@NonNull\npublic static ActivitySignUpBinding inflate(@NonNull LayoutInflater inflater) {\nreturn inflate(inflater, null, false);\n}\n\n@NonNull\npublic static ActivitySignUpBinding inflate(@NonNull LayoutInflater inflater,\n  @Nullable ViewGroup parent, boolean attachToParent) {\nView root = inflater.inflate(R.layout.activity_sign_up, parent, false);\nif (attachToParent) {\n  parent.addView(root);\n}\nreturn bind(root);\n}\n\n@NonNull\npublic static ActivitySignUpBinding bind(@NonNull View rootView) {\n// The body of this method is generated in a way you would not otherwise write.\n// This is done to optimize the compiled bytecode for size and performance.\nint id;\nmissingId: {\n  id = R.id.editText;\n  EditText editText = rootView.findViewById(id);\n  if (editText == null) {\n    break missingId;\n  }\n\n  id = R.id.imageView;\n  ImageView imageView = rootView.findViewById(id);\n  if (imageView == null) {\n    break missingId;\n  }\n\n  id = R.id.password;\n  EditText password = rootView.findViewById(id);\n  if (password == null) {\n    break missingId;\n  }\n\n  id = R.id.pb;\n  ProgressBar pb = rootView.findViewById(id);\n  if (pb == null) {\n    break missingId;\n  }\n\n  id = R.id.privacy;\n  TextView privacy = rootView.findViewById(id);\n  if (privacy == null) {\n    break missingId;\n  }\n\n  id = R.id.signUp;\n  Button signUp = rootView.findViewById(id);\n  if (signUp == null) {\n    break missingId;\n  }\n\n  id = R.id.terms;\n  TextView terms = rootView.findViewById(id);\n  if (terms == null) {\n    break missingId;\n  }\n\n  id = R.id.textView;\n  TextView textView = rootView.findViewById(id);\n  if (textView == null) {\n    break missingId;\n  }\n\n  id = R.id.textView2;\n  TextView textView2 = rootView.findViewById(id);\n  if (textView2 == null) {\n    break missingId;\n  }\n\n  id = R.id.username;\n  EditText username = rootView.findViewById(id);\n  if (username == null) {\n    break missingId;\n  }\n\n  return new ActivitySignUpBinding((ConstraintLayout) rootView, editText, imageView,\n  password,\n      pb, privacy, signUp, terms, textView, textView2, username);\n  }\n  String missingId = rootView.getResources().getResourceName(id);\n  throw new NullPointerException(&quot;Missing required view with ID: &quot;.concat(missingId));\n}\n}\n</code></pre>\n<p>FrontSignup.java ⬇️</p>\n<pre><code>public class FrontSignup extends AppCompatActivity {\nActivitySignupBinding binding;\nActivity activity;\nString emailPattern = &quot;[a-zA-Z0-9._-]+@[a-z]+\\\\.+[a-z]+&quot;;\nAlertDialog loadingDialog,alert;\nSession session;\nboolean check=false;\nboolean email_=false;\nboolean emailactive= false;\nprivate static final int SELECT_PICTURE = 0;\nprivate Bitmap bitmap;\nString filepath,encodedimage;\nint type;\nUri image;\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    if (Build.VERSION.SDK_INT &gt;= 21) {\n        getWindow().setStatusBarColor(Color.TRANSPARENT);\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS,\n                WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS);\n    }\n    binding=ActivitySignupBinding.inflate(getLayoutInflater());\n    setContentView(binding.getRoot());\n    activity=FrontSignup.this;\n    session= new Session(activity);\n    loadingDialog=Method.loading(activity);\n    alert=Method.Alerts(activity);\n\n    if(Constant.EMAIL_VERIFICATION){\n        type=2;\n    }else {\n        type=5;\n    }\n\n    binding.layoutImg.setOnClickListener(v -&gt; Dexter.withActivity(FrontSignup\n            .this)\n            .withPermission(Manifest.permission.READ_EXTERNAL_STORAGE)\n            .withListener(new PermissionListener() {\n                @Override\n                public void onPermissionGranted(PermissionGrantedResponse response) {\n                    Intent i = new Intent(Intent.ACTION_PICK);\n                    i.setType(&quot;image/*&quot;);\n                    startActivityForResult(Intent.createChooser(i, &quot;Select Picture&quot;), SELECT_PICTURE);\n                }\n\n                @Override\n                public void onPermissionDenied(PermissionDeniedResponse response) {}\n                @Override\n                public void onPermissionRationaleShouldBeShown(com.karumi.dexter.listener.PermissionRequest permission, PermissionToken token) {\n                    token.continuePermissionRequest();\n                }\n            }).check());\n\n    binding.sendAgain.setOnClickListener(v -&gt; {\n        funVerifyEmail(binding.email.getText().toString().trim());\n    });\n\n    binding.terms.setOnClickListener(v -&gt; {\n        Method.launchCustomTabs(activity, Constant.PRIVACY_POLICY_URL);\n    });\n}\n\nvoid showLoading(){\n    loadingDialog.show();\n}\n\nvoid dismisLoading(){\n    if(loadingDialog.isShowing())\n        loadingDialog.dismiss();\n}\n\nprivate boolean validateData() {\n    boolean valid= true;\n\n    if(TextUtils.isEmpty(binding.username.getText().toString().trim())){\n        binding.username.setError(getResources().getString(R.string.error_field_required));\n        valid=false;\n    }\n    if(TextUtils.isEmpty(binding.email.getText().toString().trim())){\n        binding.email.setError(getResources().getString(R.string.error_field_required));\n        valid=false;\n    }\n    else if(!binding.email.getText().toString().trim().matches(emailPattern)){\n        binding.email.setError(getResources().getString(R.string.error_invalid_email));\n        valid=false;\n    }\n\n    if(TextUtils.isEmpty(binding.password.getText().toString().trim())){\n        binding.password.setError(getResources().getString(R.string.error_invalid_password));\n        valid=false;\n    }\n\n    if(image==null){\n        showAlert(getString(R.string.please_select_profile_image));\n        valid=false;\n    }\n    return valid;\n}\n\npublic void Signup(View view) {\n    if(!Method.isConnected(activity)){\n        Method.ToastWarning(activity,getString(R.string.no_internet));\n    }\n    if(!validateData()){\n        return;\n    }else {\n        if(check){\n            if(email_){\n                funOtpVerify(binding.email.getText().toString().trim(),binding.otp.getText().toString().trim());\n            }else{\n                reqSignup(binding.username.getText().toString().trim(),binding.email.getText().toString().trim(),binding.password.getText().toString().trim(),5);\n            }\n        }else {\n            reqSignup(binding.username.getText().toString().trim(),binding.email.getText().toString().trim(),binding.password.getText().toString().trim(),type);\n        }\n    }\n}\n\nprivate void reqSignup(String name, String email, String password, int types) {\n    File file = new File(filepath);\n    RequestBody requestBody = RequestBody.create(MediaType.parse(&quot;image/*&quot;), file);\n    MultipartBody.Part parts = MultipartBody.Part.createFormData(&quot;newimage&quot;, file.getName(), requestBody);\n    OSDeviceState device = OneSignal.getDeviceState();\n    Constant.API_TYPE = &quot;signup&quot;;\n    Constant.P1 = name;\n    Constant.P2 = email;\n    Constant.P3 = password;\n    Constant.P4 = Method.deviceId(activity);\n    Constant.P5 = device.getUserId();\n    Constant.P6 = String.valueOf(types);\n    showLoading();\n    Call&lt;BonusResponse&gt; call = ApiClient.getClient(activity).create(ApiInterface.class).Signup(parts);\n    call.enqueue(new Callback&lt;BonusResponse&gt;() {\n        @Override\n        public void onResponse(Call&lt;BonusResponse&gt; call, Response&lt;BonusResponse&gt; response) {\n           dismisLoading();\n            if(response.isSuccessful() &amp;&amp; response.body().getStatus()==201){\n                check=true;\n                if(types==5){\n                    session.saveUserData(&quot;&quot;,email,&quot;&quot;,&quot;&quot;,password,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;);\n                    session.setBoolean(session.LOGIN,true);\n                    Method.ToastSuccess(activity,&quot;Account Created!&quot;);\n                    Intent intent = new Intent(activity, FrontLogin.class);\n                    overridePendingTransition(R.anim.enter,R.anim.exit);\n                    startActivity(intent);\n                }else{\n                    binding.loginLayout.setVisibility(View.GONE);\n                    binding.layoutOtp.setVisibility(View.VISIBLE);\n                    funVerifyEmail(email);\n                }\n            }else{\n                Method.ToastError(activity,response.body().getData());\n            }\n\n        }\n        @Override\n        public void onFailure(Call&lt;BonusResponse&gt; call, Throwable t) {\n            dismisLoading();\n        }\n    });\n}\n\npublic void login(View view) {\n    overridePendingTransition(R.anim.exit,R.anim.enter);\n    startActivity(new Intent(activity,FrontLogin.class));\n}\n\nprivate void funOtpVerify(String email , String otp) {\n    if(otp.isEmpty()){\n        Method.ToastWarning(activity,&quot;Enter Valid Otp&quot;);\n    }else {\n        showLoading();\n        Call&lt;BonusResponse&gt; call = ApiClient.getClient(activity).create(ApiInterface.class).Verify_OTP(otp, email);\n        call.enqueue(new Callback&lt;BonusResponse&gt;() {\n            @Override\n            public void onResponse(Call&lt;BonusResponse&gt; call, Response&lt;BonusResponse&gt; response) {\n                dismisLoading();\n                if (response.isSuccessful() &amp;&amp; response.body().getStatus() == 201) {\n                    reqSignup(binding.username.getText().toString().trim(), binding.email.getText().toString().trim(), binding.password.getText().toString().trim(), 5);\n                } else {\n                    binding.otp.setText(null);\n                    Method.ToastError(activity, response.body().getData());\n                }\n            }\n\n            @Override\n            public void onFailure(Call&lt;BonusResponse&gt; call, Throwable t) {\n                dismisLoading();\n            }\n        });\n    }\n}\n\nprivate void funVerifyEmail(String email) {\n    emailactive=true;\n    showLoading();\n    Call&lt;BonusResponse&gt; call = ApiClient.getClient(activity).create(ApiInterface.class).VerifyEmail(email);\n    call.enqueue(new Callback&lt;BonusResponse&gt;() {\n        @Override\n        public void onResponse(Call&lt;BonusResponse&gt; call, Response&lt;BonusResponse&gt; response) {\n            dismisLoading();\n            if(response.isSuccessful() &amp;&amp; response.body().getStatus()==201) {\n                email_=true;\n                Method.ToastSuccess(activity,&quot;OTP has been sended To Email&quot;);\n                binding.procced.setText(getString(R.string.verify_otp));\n            } else {\n                Method.ToastWarning(activity,response.body().getData());\n            }\n        }\n\n        @Override\n        public void onFailure(Call&lt;BonusResponse&gt; call, Throwable t) {\n            dismisLoading();\n            Method.ToastWarning(activity,getString(R.string.try_again_later));\n        }\n    });\n}\n\npublic String getRealPathFromURI(Uri uri) {\n    String[] projection = { MediaStore.Images.Media.DATA };\n    @SuppressWarnings(&quot;deprecation&quot;)\n    Cursor cursor = managedQuery(uri, projection, null, null, null);\n    int column_index = cursor\n            .getColumnIndexOrThrow(MediaStore.Images.Media.DATA);\n    cursor.moveToFirst();\n    return cursor.getString(column_index);\n}\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n    if (requestCode == SELECT_PICTURE &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null) {\n        image = data.getData();\n        try {\n            InputStream inputStream = getContentResolver().openInputStream(image);\n            bitmap = BitmapFactory.decodeStream(inputStream);\n            Bitmap.createScaledBitmap(bitmap, 120, 120, false);\n\n            binding.image.setImageBitmap(bitmap);\n            filepath=getRealPathFromURI(image);\n\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n    }\n    super.onActivityResult(requestCode, resultCode, data);\n\n}\n\nvoid showAlert(String msg){\n    alert.show();\n    TextView tv =alert.findViewById(R.id.txt);\n    tv.setText(msg);\n    alert.findViewById(R.id.close).setOnClickListener(v -&gt; {\n        alert.dismiss();\n    });\n}\n\n@Override\npublic void onBackPressed() {\n    if(emailactive){\n        AlertDialog.Builder builder = new AlertDialog.Builder(this);\n        builder.setTitle(getString(R.string.txt_exit));\n        builder.setMessage(getString(R.string.txt_confirm_exit));\n\n        builder.setPositiveButton(getString(R.string.txt_yes), (dialog, which) -&gt; {\n            overridePendingTransition(R.anim.exit,R.anim.enter);\n            finish();\n        });\n\n        builder.setNegativeButton(getString(R.string.txt_no), (dialog, which) -&gt; {\n            dialog.dismiss();\n        });\n\n        AlertDialog alert = builder.create();\n        alert.show();\n    }\n    super.onBackPressed();\n}\n}\n</code></pre>\n<p>Error ⬇️\n<a href=\"https://i.stack.imgur.com/zY33K.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zY33K.png\" alt=\"Error Coming while building App\" /></a></p>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1652657029,"creation_date":1652657029,"answer_id":72252861,"question_id":72252839,"body_markdown":"You don&#39;t do it that way.  You mark the timestamp where either they were banned, or the timestamp the ban ends (the 2nd is a bit easier and makes multiple ban lengths easier).  Then when they try to do something where they may be blocked, you check if the timestamp is expired or not.","title":"How do I add a timer inside a firestore document?","body":"<p>You don't do it that way.  You mark the timestamp where either they were banned, or the timestamp the ban ends (the 2nd is a bit easier and makes multiple ban lengths easier).  Then when they try to do something where they may be blocked, you check if the timestamp is expired or not.</p>\n"},{"tags":[],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652673233,"creation_date":1652673233,"answer_id":72253998,"question_id":72252839,"body_markdown":"No. You **can&#39;t** add a Timer inside a Firestore document. The only types supported are given below:\r\n1. String\r\n2. Number\r\n3. Boolean\r\n4. Date\r\n5. Geo point\r\n6. Map\r\n7. Array\r\n8. null\r\n9. Reference\r\n\r\nNow, the alternative for what you want is already answered by Gabe Sechan\r\n","title":"How do I add a timer inside a firestore document?","body":"<p>No. You <strong>can't</strong> add a Timer inside a Firestore document. The only types supported are given below:</p>\n<ol>\n<li>String</li>\n<li>Number</li>\n<li>Boolean</li>\n<li>Date</li>\n<li>Geo point</li>\n<li>Map</li>\n<li>Array</li>\n<li>null</li>\n<li>Reference</li>\n</ol>\n<p>Now, the alternative for what you want is already answered by Gabe Sechan</p>\n"}],"owner":{"account_id":20270978,"reputation":55,"user_id":18471564,"display_name":"Yassine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1652673233,"creation_date":1652656814,"question_id":72252839,"body_markdown":"So I&#39;m trying to create a post block feature for my android app where I want to post block users for x days, is there a way to add a countdown timer as a field inside the firestore document of each user? \r\n","title":"How do I add a timer inside a firestore document?","body":"<p>So I'm trying to create a post block feature for my android app where I want to post block users for x days, is there a way to add a countdown timer as a field inside the firestore document of each user?</p>\n"},{"tags":["java","stringbuilder"],"comments":[{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1652551016,"post_id":72242703,"comment_id":127635516,"body_markdown":"What input parameters did you use?","body":"What input parameters did you use?"},{"owner":{"account_id":23620630,"reputation":9,"user_id":17653984,"display_name":"AgonLat"},"score":0,"creation_date":1652551145,"post_id":72242703,"comment_id":127635541,"body_markdown":"CaesarCipher.rotateCipher(&quot;abcdefghijklmnopqrstuvwxyz&quot;, 13);","body":"CaesarCipher.rotateCipher(&quot;abcdefghijklmnopqrstuvwxyz&quot;, 13);"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":2,"creation_date":1652551287,"post_id":72242703,"comment_id":127635575,"body_markdown":"This is really a horribly inefficient implementation.  If you want to rotate a string, its simple  builder.append(plain.substring(key); builder.append (plain.substring(0, key).  No loops needed.  I&#39;m not sure I understand what you&#39;re going for with that.","body":"This is really a horribly inefficient implementation.  If you want to rotate a string, its simple  builder.append(plain.substring(key); builder.append (plain.substring(0, key).  No loops needed.  I&#39;m not sure I understand what you&#39;re going for with that."},{"owner":{"account_id":23620630,"reputation":9,"user_id":17653984,"display_name":"AgonLat"},"score":0,"creation_date":1652551431,"post_id":72242703,"comment_id":127635603,"body_markdown":"i wanted to make this https://en.wikipedia.org/wiki/Caesar_cipher","body":"i wanted to make this <a href=\"https://en.wikipedia.org/wiki/Caesar_cipher\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Caesar_cipher</a>"},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":2,"creation_date":1652551485,"post_id":72242703,"comment_id":127635611,"body_markdown":"The 2nd half of your `rotatedChar` array is never populated, so those entries have the default value: 0 as an ASCII character, which is non-printable.","body":"The 2nd half of your <code>rotatedChar</code> array is never populated, so those entries have the default value: 0 as an ASCII character, which is non-printable."},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1652551646,"post_id":72242703,"comment_id":127635643,"body_markdown":"A ceasar cipher rotates each letter. (&quot;cat&quot;, 1) becomes &quot;dbu&quot;. Your current solution is trying to produce something like &quot;tca&quot;; i.e. you are rotating the positions of letters.","body":"A ceasar cipher rotates each letter. (&quot;cat&quot;, 1) becomes &quot;dbu&quot;. Your current solution is trying to produce something like &quot;tca&quot;; i.e. you are rotating the positions of letters."},{"owner":{"account_id":16801428,"reputation":910,"user_id":12146581,"display_name":"Mohamad Ghaith Alzin"},"score":0,"creation_date":1652673411,"post_id":72242703,"comment_id":127654441,"body_markdown":"Are you implementing the `Caesar Cipher in Cryptography`?\nhttps://www.geeksforgeeks.org/caesar-cipher-in-cryptography/","body":"Are you implementing the <code>Caesar Cipher in Cryptography</code>? <a href=\"https://www.geeksforgeeks.org/caesar-cipher-in-cryptography/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/caesar-cipher-in-cryptography</a>"}],"answers":[{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1652551769,"creation_date":1652551491,"answer_id":72242778,"question_id":72242703,"body_markdown":"The reason for the whitespace is that the array `rotatedChar` does not have all it&#39;s elements filled. By default, a `char[]` contains only `(char)0` elements.\r\n\r\nWhen you call this method with the parameters `&quot;abcdefghijklmnopqrstuvwxyz&quot;, 13` then only the first 13 elements of `rotatedChar` get filled, then you hit the if-condition and `break` out of the loop. That means you have the remaining 13 elements left as `0`s, which is a nonprintable character, so it appears as whitespace.\r\n\r\nIt&#39;s a bit hard to suggest which part to change here because as Gabe pointed out in the comments, the solution only requires 2 calls to `substring`.\r\n\r\nIf you really want to use loops, maybe this can be an approach:\r\n\r\n\r\n    for (int i = 0; i &lt; plain.length(); i++) {\r\n        rotatedChar[i] = plain.charAt(key);\r\n        key++;\r\n        if (key == plain.length()) {\r\n            //this &quot;restarts&quot; taking chars from the beginning of the string\r\n            key = 0;\r\n        }\r\n    }\r\n    return String.valueOf(rotatedChar);\r\n","title":"Why am I getting whitespaces in StringBuilder in Java?","body":"<p>The reason for the whitespace is that the array <code>rotatedChar</code> does not have all it's elements filled. By default, a <code>char[]</code> contains only <code>(char)0</code> elements.</p>\n<p>When you call this method with the parameters <code>&quot;abcdefghijklmnopqrstuvwxyz&quot;, 13</code> then only the first 13 elements of <code>rotatedChar</code> get filled, then you hit the if-condition and <code>break</code> out of the loop. That means you have the remaining 13 elements left as <code>0</code>s, which is a nonprintable character, so it appears as whitespace.</p>\n<p>It's a bit hard to suggest which part to change here because as Gabe pointed out in the comments, the solution only requires 2 calls to <code>substring</code>.</p>\n<p>If you really want to use loops, maybe this can be an approach:</p>\n<pre><code>for (int i = 0; i &lt; plain.length(); i++) {\n    rotatedChar[i] = plain.charAt(key);\n    key++;\n    if (key == plain.length()) {\n        //this &quot;restarts&quot; taking chars from the beginning of the string\n        key = 0;\n    }\n}\nreturn String.valueOf(rotatedChar);\n</code></pre>\n"}],"owner":{"account_id":23620630,"reputation":9,"user_id":17653984,"display_name":"AgonLat"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1652672532,"creation_date":1652550903,"question_id":72242703,"body_markdown":"I wrote a method that returns a rotated `StringBuilder` with a given key. However, although it is working fine, it&#39;s adding white spaces within the `StringBuilder`. \r\n\r\n```\r\npublic static StringBuilder rotateCipher(String plain, int key) {\r\n    int keyTemp = key;\r\n    char[] rotatedChar = new char[plain.length()];\r\n    StringBuilder builder = new StringBuilder();\r\n    \r\n    for (int i = 0; i &lt; plain.length(); i++) {\r\n        rotatedChar[i] = plain.charAt(key);\r\n        key++;\r\n        if (key == plain.length()) {\r\n            builder.append(String.valueOf(rotatedChar));\r\n            builder.append(plain.substring(0, keyTemp + 1));\r\n            break;\r\n        }\r\n    }\r\n    \r\n    return builder;\r\n}\r\n```\t\r\n\r\n```\r\nOutput: nopqrstuvwxyz            abcdefghijklmn\r\n```","title":"Why am I getting whitespaces in StringBuilder in Java?","body":"<p>I wrote a method that returns a rotated <code>StringBuilder</code> with a given key. However, although it is working fine, it's adding white spaces within the <code>StringBuilder</code>.</p>\n<pre><code>public static StringBuilder rotateCipher(String plain, int key) {\n    int keyTemp = key;\n    char[] rotatedChar = new char[plain.length()];\n    StringBuilder builder = new StringBuilder();\n    \n    for (int i = 0; i &lt; plain.length(); i++) {\n        rotatedChar[i] = plain.charAt(key);\n        key++;\n        if (key == plain.length()) {\n            builder.append(String.valueOf(rotatedChar));\n            builder.append(plain.substring(0, keyTemp + 1));\n            break;\n        }\n    }\n    \n    return builder;\n}\n</code></pre>\n<pre><code>Output: nopqrstuvwxyz            abcdefghijklmn\n</code></pre>\n"},{"tags":["java","queue","quicksort","adt"],"comments":[{"owner":{"account_id":3979878,"reputation":27592,"user_id":3282056,"accept_rate":80,"display_name":"rcgldr"},"score":0,"creation_date":1652676032,"post_id":72245863,"comment_id":127654750,"body_markdown":"Technically this would be a quicksort of an array. If the container interface is restricted to a true queue interface (first in, first out), then a traditional quicksort could not be used. With a second queue, a merge sort could be used.","body":"Technically this would be a quicksort of an array. If the container interface is restricted to a true queue interface (first in, first out), then a traditional quicksort could not be used. With a second queue, a merge sort could be used."}],"answers":[{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652607520,"creation_date":1652607053,"answer_id":72247057,"question_id":72245863,"body_markdown":"You forgot to implement the `Comparable` interface in your `Person` class.\r\n\r\nYour `quickSort` method is asking for a type parameter T bounded to `Comparable`, which is not implemented by `Person`; hence the compiling error.\r\n\r\n```\r\npublic static &lt;T extends Comparable&lt;? super T&gt;&gt; void quickSort(T[] a , int first, int last)\r\n```\r\n\r\nAssuming you want to sort your `Person` instances by last name first, then first name and lastly age, your class `Person` should look like this:\r\n\r\n```\r\nclass Person implements Comparable&lt;Person&gt; {\r\n    \r\n    /* ... your implementation ... */\r\n\r\n    @Override\r\n    public int compareTo(Person o) {\r\n        return Comparator.comparing(Person::getLastName)\r\n            .thenComparing(Person::getFirstName)\r\n            .thenComparingInt(Person::getAge)\r\n            .compare(this, o);\r\n    }\r\n}\r\n```","title":"Sorting an ADT Queue","body":"<p>You forgot to implement the <code>Comparable</code> interface in your <code>Person</code> class.</p>\n<p>Your <code>quickSort</code> method is asking for a type parameter T bounded to <code>Comparable</code>, which is not implemented by <code>Person</code>; hence the compiling error.</p>\n<pre><code>public static &lt;T extends Comparable&lt;? super T&gt;&gt; void quickSort(T[] a , int first, int last)\n</code></pre>\n<p>Assuming you want to sort your <code>Person</code> instances by last name first, then first name and lastly age, your class <code>Person</code> should look like this:</p>\n<pre><code>class Person implements Comparable&lt;Person&gt; {\n    \n    /* ... your implementation ... */\n\n    @Override\n    public int compareTo(Person o) {\n        return Comparator.comparing(Person::getLastName)\n            .thenComparing(Person::getFirstName)\n            .thenComparingInt(Person::getAge)\n            .compare(this, o);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25293710,"reputation":11,"user_id":19119245,"display_name":"Jonathan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1652672508,"creation_date":1652594298,"question_id":72245863,"body_markdown":"I&#39;m tasked to create a `Person` class that holds their name and age, create a Queue class that can hold an array of objects and then sort them alphabetically and by age using the `quicksort` algorithm. \r\n\r\nWhen I try to call `Sort.quickSort` in the Driver class, I get a compiler error. I&#39;m not sure what to change, any help is appreciated.\r\n\r\n```\r\nimport java.util.EmptyStackException;\r\n\r\npublic class Queue&lt;T&gt; {\r\n    private T[] queue;\r\n    private int frontIndex;\r\n    private int backIndex;\r\n    private static final int DEFAULT_INTIIAL_CAPACITY = 50;\r\n\r\n    public Queue() {\r\n        this(DEFAULT_INTIIAL_CAPACITY);\r\n    }\r\n\r\n    public Queue(int initialCapacity) {\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        T[] tempQueue = (T[]) new Object[initialCapacity + 1];\r\n        queue = tempQueue;\r\n        backIndex = initialCapacity;\r\n        frontIndex = 0;\r\n    }\r\n\r\n    public int getLength() {\r\n        return queue.length;\r\n    }\r\n\r\n    public T[] getQueue() {\r\n        return queue;\r\n    }\r\n\r\n    Boolean isEmpty() {\r\n        return frontIndex == ((backIndex + 1) % queue.length);\r\n    }\r\n\r\n    void enqueue(T newEntry) {\r\n        ensureCapacity();\r\n        backIndex = (backIndex + 1) % queue.length;\r\n        queue[backIndex] = newEntry;\r\n    }\r\n\r\n    private void ensureCapacity() {\r\n        if (frontIndex == ((backIndex + 2) % queue.length)) {\r\n            T[] oldQueue = queue;\r\n            int oldSize = oldQueue.length;\r\n\r\n            @SuppressWarnings(&quot;unchecked&quot;)\r\n            T[] tempQueue = (T[]) new Object[2 * oldSize];\r\n            queue = tempQueue;\r\n\r\n            for (int index = 0; index &lt; oldSize - 1; index++) {\r\n                queue[index] = oldQueue[frontIndex];\r\n                frontIndex = (frontIndex + 1) % oldSize;\r\n            }\r\n            frontIndex = 0;\r\n            backIndex = oldSize % 2;\r\n        }\r\n\r\n    }\r\n\r\n    T dequeue() {\r\n        T front = null;\r\n        if (!isEmpty()) {\r\n            front = queue[frontIndex];\r\n            queue[frontIndex] = null;\r\n            frontIndex = (frontIndex + 1) % queue.length;\r\n        }\r\n        return front;\r\n    }\r\n\r\n    T getFront() {\r\n        if (isEmpty())\r\n            throw new EmptyStackException();\r\n        else\r\n            return queue[frontIndex];\r\n\r\n\r\n    }\r\n\r\n    public T[] toArray() {\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        T[] result = (T[]) new Object[DEFAULT_INTIIAL_CAPACITY];\r\n\r\n        for (int i = 0; i &lt; queue.length; i++) {\r\n            result[i] = queue[i];\r\n        }\r\n        return result;\r\n    }\r\n\r\n}\r\n\r\n\r\npublic class Person {\r\n    private String lastName, firstName;\r\n    private int age;\r\n\r\n    Person(String firstName, String lastName, int age) {\r\n        this.setFirstName(firstName);\r\n        this.setLastName(lastName);\r\n        this.setAge(age);\r\n    }\r\n\r\n    public String getLastName() {\r\n        return lastName;\r\n    }\r\n\r\n    public void setLastName(String lastName) {\r\n        this.lastName = lastName;\r\n    }\r\n\r\n    public String getFirstName() {\r\n        return firstName;\r\n    }\r\n\r\n    public void setFirstName(String firstName) {\r\n        this.firstName = firstName;\r\n    }\r\n\r\n    public int getAge() {\r\n        return age;\r\n    }\r\n\r\n    public void setAge(int age) {\r\n        this.age = age;\r\n    }\r\n\r\n    public String toString() {\r\n        return getLastName() + &quot;, &quot; + getFirstName() + &quot; - &quot; + getAge();\r\n    }\r\n\r\n}\r\n\r\n\r\npublic class Sort {\r\n    private static final int MIN_SIZE = 4;\r\n\r\n\r\n    private static &lt;T extends Comparable&lt;? super T&gt;&gt; void sortFirstMiddleLast(T[] a, int first, int mid, int last) {\r\n        if (a[first].compareTo(a[mid]) &gt; 0)\r\n            swap(a, first, mid);\r\n        if (a[mid].compareTo(a[last]) &gt; 0) {\r\n            swap(a, mid, last);\r\n\r\n            if (a[first].compareTo(a[mid]) &gt; 0) {\r\n                swap(a, first, mid);\r\n            }\r\n        }\r\n    }\r\n\r\n    private static void swap(Object[] array, int i, int j) {\r\n        Object temp = array[i];\r\n        array[i] = array[j];\r\n        array[j] = temp;\r\n    }\r\n\r\n    private static &lt;T extends Comparable&lt;? super T&gt;&gt; int partition(T[] a, int first, int last) {\r\n        int mid = (first + last) / 2;\r\n        sortFirstMiddleLast(a, first, mid, last);\r\n        swap(a, mid, last - 1);\r\n        int pivotIndex = last - 1;\r\n        T pivot = a[pivotIndex];\r\n\r\n        int indexFromLeft = first + 1;\r\n        int indexFromRight = last - 2;\r\n        boolean done = false;\r\n        while (!done) {\r\n            while (a[indexFromLeft].compareTo(pivot) &lt; 0)\r\n                indexFromLeft++;\r\n\r\n            while (a[indexFromRight].compareTo(pivot) &gt; 0)\r\n                indexFromRight--;\r\n\r\n            if (indexFromLeft &lt; indexFromRight) {\r\n                swap(a, indexFromLeft, indexFromRight);\r\n                indexFromLeft++;\r\n                indexFromRight--;\r\n            } else\r\n                done = true;\r\n        }\r\n        swap(a, pivotIndex, indexFromLeft);\r\n        return pivotIndex;\r\n    }\r\n\r\n    public static &lt;T extends Comparable&lt;? super T&gt;&gt; void quickSort(T[] a, int first, int last) {\r\n        if (last - first + 1 &lt; MIN_SIZE)\r\n            selectionSort(a);\r\n        else {\r\n            int pivotIndex = partition(a, first, last);\r\n            quickSort(a, first, pivotIndex - 1);\r\n            quickSort(a, pivotIndex + 1, last);\r\n        }\r\n    }\r\n\r\n    public static &lt;T extends Comparable&lt;? super T&gt;&gt; void selectionSort(T[] a) {\r\n        int last = a.length - 1;\r\n        for (int index = 0; index &lt; last; index++) {\r\n            int indexNextSmallest = getIndexOfSmallest(a, index, last);\r\n            swap(a, index, indexNextSmallest);\r\n        }\r\n\r\n    }\r\n\r\n    public static &lt;T extends Comparable&lt;? super T&gt;&gt; int getIndexOfSmallest(T[] a, int first, int last) {\r\n        T min = a[first];\r\n        int indexOfMin = first;\r\n        for (int index = first + 1; index &lt;= last; index++) {\r\n            if (a[index].compareTo(min) &lt; 0) {\r\n                min = a[index];\r\n                indexOfMin = index;\r\n            }\r\n        }\r\n        return indexOfMin;\r\n    }\r\n}\r\n\r\n\r\npublic class driver {\r\n\r\n    public static &lt;T&gt; void main(String[] args) {\r\n        Person one = new Person(&quot;Tyler&quot;, &quot;Well&quot;, 19);\r\n        Person two = new Person(&quot;Roy&quot;, &quot;Ted&quot;, 19);\r\n        Person three = new Person(&quot;Jerry&quot;, &quot;Dots&quot;, 19);\r\n        Person four = new Person(&quot;Something&quot;, &quot;Test&quot;, 19);\r\n        Person five = new Person(&quot;PlaceHolder&quot;, &quot;Matt&quot;, 19);\r\n\r\n        Queue&lt;Person&gt; persons = new Queue&lt;Person&gt;(5);\r\n\r\n        persons.enqueue(one);\r\n        persons.enqueue(two);\r\n        persons.enqueue(three);\r\n        persons.enqueue(four);\r\n        persons.enqueue(five);\r\n\r\n        Sort.quickSort(persons.getQueue(), 0, persons.getLength()); //error here\r\n    }\r\n}\r\n```","title":"Sorting an ADT Queue","body":"<p>I'm tasked to create a <code>Person</code> class that holds their name and age, create a Queue class that can hold an array of objects and then sort them alphabetically and by age using the <code>quicksort</code> algorithm.</p>\n<p>When I try to call <code>Sort.quickSort</code> in the Driver class, I get a compiler error. I'm not sure what to change, any help is appreciated.</p>\n<pre><code>import java.util.EmptyStackException;\n\npublic class Queue&lt;T&gt; {\n    private T[] queue;\n    private int frontIndex;\n    private int backIndex;\n    private static final int DEFAULT_INTIIAL_CAPACITY = 50;\n\n    public Queue() {\n        this(DEFAULT_INTIIAL_CAPACITY);\n    }\n\n    public Queue(int initialCapacity) {\n        @SuppressWarnings(&quot;unchecked&quot;)\n        T[] tempQueue = (T[]) new Object[initialCapacity + 1];\n        queue = tempQueue;\n        backIndex = initialCapacity;\n        frontIndex = 0;\n    }\n\n    public int getLength() {\n        return queue.length;\n    }\n\n    public T[] getQueue() {\n        return queue;\n    }\n\n    Boolean isEmpty() {\n        return frontIndex == ((backIndex + 1) % queue.length);\n    }\n\n    void enqueue(T newEntry) {\n        ensureCapacity();\n        backIndex = (backIndex + 1) % queue.length;\n        queue[backIndex] = newEntry;\n    }\n\n    private void ensureCapacity() {\n        if (frontIndex == ((backIndex + 2) % queue.length)) {\n            T[] oldQueue = queue;\n            int oldSize = oldQueue.length;\n\n            @SuppressWarnings(&quot;unchecked&quot;)\n            T[] tempQueue = (T[]) new Object[2 * oldSize];\n            queue = tempQueue;\n\n            for (int index = 0; index &lt; oldSize - 1; index++) {\n                queue[index] = oldQueue[frontIndex];\n                frontIndex = (frontIndex + 1) % oldSize;\n            }\n            frontIndex = 0;\n            backIndex = oldSize % 2;\n        }\n\n    }\n\n    T dequeue() {\n        T front = null;\n        if (!isEmpty()) {\n            front = queue[frontIndex];\n            queue[frontIndex] = null;\n            frontIndex = (frontIndex + 1) % queue.length;\n        }\n        return front;\n    }\n\n    T getFront() {\n        if (isEmpty())\n            throw new EmptyStackException();\n        else\n            return queue[frontIndex];\n\n\n    }\n\n    public T[] toArray() {\n        @SuppressWarnings(&quot;unchecked&quot;)\n        T[] result = (T[]) new Object[DEFAULT_INTIIAL_CAPACITY];\n\n        for (int i = 0; i &lt; queue.length; i++) {\n            result[i] = queue[i];\n        }\n        return result;\n    }\n\n}\n\n\npublic class Person {\n    private String lastName, firstName;\n    private int age;\n\n    Person(String firstName, String lastName, int age) {\n        this.setFirstName(firstName);\n        this.setLastName(lastName);\n        this.setAge(age);\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    public void setAge(int age) {\n        this.age = age;\n    }\n\n    public String toString() {\n        return getLastName() + &quot;, &quot; + getFirstName() + &quot; - &quot; + getAge();\n    }\n\n}\n\n\npublic class Sort {\n    private static final int MIN_SIZE = 4;\n\n\n    private static &lt;T extends Comparable&lt;? super T&gt;&gt; void sortFirstMiddleLast(T[] a, int first, int mid, int last) {\n        if (a[first].compareTo(a[mid]) &gt; 0)\n            swap(a, first, mid);\n        if (a[mid].compareTo(a[last]) &gt; 0) {\n            swap(a, mid, last);\n\n            if (a[first].compareTo(a[mid]) &gt; 0) {\n                swap(a, first, mid);\n            }\n        }\n    }\n\n    private static void swap(Object[] array, int i, int j) {\n        Object temp = array[i];\n        array[i] = array[j];\n        array[j] = temp;\n    }\n\n    private static &lt;T extends Comparable&lt;? super T&gt;&gt; int partition(T[] a, int first, int last) {\n        int mid = (first + last) / 2;\n        sortFirstMiddleLast(a, first, mid, last);\n        swap(a, mid, last - 1);\n        int pivotIndex = last - 1;\n        T pivot = a[pivotIndex];\n\n        int indexFromLeft = first + 1;\n        int indexFromRight = last - 2;\n        boolean done = false;\n        while (!done) {\n            while (a[indexFromLeft].compareTo(pivot) &lt; 0)\n                indexFromLeft++;\n\n            while (a[indexFromRight].compareTo(pivot) &gt; 0)\n                indexFromRight--;\n\n            if (indexFromLeft &lt; indexFromRight) {\n                swap(a, indexFromLeft, indexFromRight);\n                indexFromLeft++;\n                indexFromRight--;\n            } else\n                done = true;\n        }\n        swap(a, pivotIndex, indexFromLeft);\n        return pivotIndex;\n    }\n\n    public static &lt;T extends Comparable&lt;? super T&gt;&gt; void quickSort(T[] a, int first, int last) {\n        if (last - first + 1 &lt; MIN_SIZE)\n            selectionSort(a);\n        else {\n            int pivotIndex = partition(a, first, last);\n            quickSort(a, first, pivotIndex - 1);\n            quickSort(a, pivotIndex + 1, last);\n        }\n    }\n\n    public static &lt;T extends Comparable&lt;? super T&gt;&gt; void selectionSort(T[] a) {\n        int last = a.length - 1;\n        for (int index = 0; index &lt; last; index++) {\n            int indexNextSmallest = getIndexOfSmallest(a, index, last);\n            swap(a, index, indexNextSmallest);\n        }\n\n    }\n\n    public static &lt;T extends Comparable&lt;? super T&gt;&gt; int getIndexOfSmallest(T[] a, int first, int last) {\n        T min = a[first];\n        int indexOfMin = first;\n        for (int index = first + 1; index &lt;= last; index++) {\n            if (a[index].compareTo(min) &lt; 0) {\n                min = a[index];\n                indexOfMin = index;\n            }\n        }\n        return indexOfMin;\n    }\n}\n\n\npublic class driver {\n\n    public static &lt;T&gt; void main(String[] args) {\n        Person one = new Person(&quot;Tyler&quot;, &quot;Well&quot;, 19);\n        Person two = new Person(&quot;Roy&quot;, &quot;Ted&quot;, 19);\n        Person three = new Person(&quot;Jerry&quot;, &quot;Dots&quot;, 19);\n        Person four = new Person(&quot;Something&quot;, &quot;Test&quot;, 19);\n        Person five = new Person(&quot;PlaceHolder&quot;, &quot;Matt&quot;, 19);\n\n        Queue&lt;Person&gt; persons = new Queue&lt;Person&gt;(5);\n\n        persons.enqueue(one);\n        persons.enqueue(two);\n        persons.enqueue(three);\n        persons.enqueue(four);\n        persons.enqueue(five);\n\n        Sort.quickSort(persons.getQueue(), 0, persons.getLength()); //error here\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa","enums"],"answers":[{"tags":[],"owner":{"account_id":1979618,"reputation":2791,"user_id":1776540,"accept_rate":62,"display_name":"Robin Jonsson"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1479911799,"creation_date":1433762388,"answer_id":30707791,"question_id":30707621,"body_markdown":"Simply initialize the Entity field. Hibernate will instantiate the entity class with the value already set. When it flushes, the field will be inserted with the value specified.\r\n\r\n    private CommunicationStatus emailCommunicationStatus = CommunicationStatus.UNKNOWN;\r\n\r\nRegards","title":"Spring JPA - default value for enum field in enum","body":"<p>Simply initialize the Entity field. Hibernate will instantiate the entity class with the value already set. When it flushes, the field will be inserted with the value specified.</p>\n\n<pre><code>private CommunicationStatus emailCommunicationStatus = CommunicationStatus.UNKNOWN;\n</code></pre>\n\n<p>Regards</p>\n"},{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1433762875,"creation_date":1433762486,"answer_id":30707816,"question_id":30707621,"body_markdown":"What you did is useful whe some SQL code inserts a row without specifying any value for the emailCommunicationStatus column. In that case, the row will have &#39;UNKNOWN&#39; as value for this column:\r\n\r\n    insert into account (id, isLocked) values(1, false)\r\n\r\nBut Hibernate will never do such an insert. It will always pass the actual value of the `emailCommunicationStatus` field of this entity. So, if you leave it to null, it will explicitely set it to null in the database:\r\n\r\n    insert into account (id, isLocked, emailCommunicationStatus) values(1, false, null)\r\n\r\nWhat you want is to set the default value of this field:\r\n\r\n    @Column(length = 32, columnDefinition = &quot;varchar(32) default &#39;UNKNOWN&#39;&quot;)\r\n    @Enumerated(value = EnumType.STRING)\r\n    private CommunicationStatus emailCommunicationStatus = CommunicationStatus.UNKNOWN;\r\n\r\nIt works fine with `isLocked` because the default value of a boolean field is false.","title":"Spring JPA - default value for enum field in enum","body":"<p>What you did is useful whe some SQL code inserts a row without specifying any value for the emailCommunicationStatus column. In that case, the row will have 'UNKNOWN' as value for this column:</p>\n\n<pre><code>insert into account (id, isLocked) values(1, false)\n</code></pre>\n\n<p>But Hibernate will never do such an insert. It will always pass the actual value of the <code>emailCommunicationStatus</code> field of this entity. So, if you leave it to null, it will explicitely set it to null in the database:</p>\n\n<pre><code>insert into account (id, isLocked, emailCommunicationStatus) values(1, false, null)\n</code></pre>\n\n<p>What you want is to set the default value of this field:</p>\n\n<pre><code>@Column(length = 32, columnDefinition = \"varchar(32) default 'UNKNOWN'\")\n@Enumerated(value = EnumType.STRING)\nprivate CommunicationStatus emailCommunicationStatus = CommunicationStatus.UNKNOWN;\n</code></pre>\n\n<p>It works fine with <code>isLocked</code> because the default value of a boolean field is false.</p>\n"},{"tags":[],"owner":{"account_id":981284,"reputation":27959,"user_id":1000933,"display_name":"Master Slave"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652672420,"creation_date":1433762523,"answer_id":30707833,"question_id":30707621,"body_markdown":"Along with adding a column definition, you can set dynamic queries. But do check the comments below as well, as the approach seems to be discouraged in the Hibernate documentations. \r\n\r\nIf you&#39;re using hibernate version &lt; 4 you should annotate your entity with \r\n\r\n    @org.hibernate.annotations.Entity(dynamicInsert = true, dynamicUpdate = true)\r\n\r\n&gt; When the dynamic-insert  property is set to  true , Hibernate does \r\n&gt; not include null values for properties (for properties that aren’t set\r\n&gt; by the application) during an  INSERT operation. With the \r\n&gt; dynamic-update property set to true, Hibernate does not include\r\n&gt; unmodified  properties in the  UPDATE operation.\r\n\r\nFor hibernate version &gt; 4 you should use [`@DynamicUpdate`][1] instead. Also initializing in java code as well is a good advice.\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/4.1/javadocs/org/hibernate/annotations/DynamicUpdate.html","title":"Spring JPA - default value for enum field in enum","body":"<p>Along with adding a column definition, you can set dynamic queries. But do check the comments below as well, as the approach seems to be discouraged in the Hibernate documentations.</p>\n<p>If you're using hibernate version &lt; 4 you should annotate your entity with</p>\n<pre><code>@org.hibernate.annotations.Entity(dynamicInsert = true, dynamicUpdate = true)\n</code></pre>\n<blockquote>\n<p>When the dynamic-insert  property is set to  true , Hibernate does\nnot include null values for properties (for properties that aren’t set\nby the application) during an  INSERT operation. With the\ndynamic-update property set to true, Hibernate does not include\nunmodified  properties in the  UPDATE operation.</p>\n</blockquote>\n<p>For hibernate version &gt; 4 you should use <a href=\"https://docs.jboss.org/hibernate/orm/4.1/javadocs/org/hibernate/annotations/DynamicUpdate.html\" rel=\"nofollow noreferrer\"><code>@DynamicUpdate</code></a> instead. Also initializing in java code as well is a good advice.</p>\n"}],"owner":{"account_id":3605469,"reputation":1723,"user_id":3007732,"accept_rate":64,"display_name":"Ayelet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37757,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":30707816,"answer_count":3,"score":16,"last_activity_date":1652672420,"creation_date":1433761893,"question_id":30707621,"body_markdown":"We have an entity with an enum field - `emailCommunicationStatus`, and we want to set a default value for it using JPA annotations - `&#39;UNKNOWN&#39;`.\r\n\r\nHowever, when we save the entity to the DB, the value of this field is `null` and not . For the boolean field - `isLocked` the correct default value (`false`) is saved.\r\n\r\n    @Entity\r\n    public class Account {\r\n\r\n        @Id\r\n        @GeneratedValue\r\n        @Column(name = &quot;id&quot;)\r\n        protected Long id;\r\n\r\n        @Column(columnDefinition = &quot;boolean default false&quot;)\r\n        private boolean isLocked;\r\n\r\n        @Column(length = 32, columnDefinition = &quot;varchar(32) default &#39;UNKNOWN&#39;&quot;)\r\n        @Enumerated(value = EnumType.STRING)\r\n        private CommunicationStatus emailCommunicationStatus;\r\n\r\n        PlayerAccount() {\r\n\t        super();\r\n        }\r\n    }\r\n\r\n    public enum CommunicationStatus {\r\n        VALID,\r\n        INVALID,\r\n        DONT_CONTACT,\r\n        UNKNOWN;\r\n    }\r\n\r\n\r\nIf we instead use: `@Column(length = 32, columnDefinition = &quot;varchar(32) default &#39;UNKNOWN&#39;&quot;)` for `emailCommunicationStatus` we get the following exception on save:\r\n\r\n    com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Column &#39;emailCommunicationStatus&#39; cannot be null\r\n\r\nWhat are we doing wrong? Why does it only work booleans?","title":"Spring JPA - default value for enum field in enum","body":"<p>We have an entity with an enum field - <code>emailCommunicationStatus</code>, and we want to set a default value for it using JPA annotations - <code>'UNKNOWN'</code>.</p>\n\n<p>However, when we save the entity to the DB, the value of this field is <code>null</code> and not . For the boolean field - <code>isLocked</code> the correct default value (<code>false</code>) is saved.</p>\n\n<pre><code>@Entity\npublic class Account {\n\n    @Id\n    @GeneratedValue\n    @Column(name = \"id\")\n    protected Long id;\n\n    @Column(columnDefinition = \"boolean default false\")\n    private boolean isLocked;\n\n    @Column(length = 32, columnDefinition = \"varchar(32) default 'UNKNOWN'\")\n    @Enumerated(value = EnumType.STRING)\n    private CommunicationStatus emailCommunicationStatus;\n\n    PlayerAccount() {\n        super();\n    }\n}\n\npublic enum CommunicationStatus {\n    VALID,\n    INVALID,\n    DONT_CONTACT,\n    UNKNOWN;\n}\n</code></pre>\n\n<p>If we instead use: <code>@Column(length = 32, columnDefinition = \"varchar(32) default 'UNKNOWN'\")</code> for <code>emailCommunicationStatus</code> we get the following exception on save:</p>\n\n<pre><code>com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Column 'emailCommunicationStatus' cannot be null\n</code></pre>\n\n<p>What are we doing wrong? Why does it only work booleans?</p>\n"},{"tags":["java","intellij-idea","ide"],"comments":[{"owner":{"account_id":53765,"reputation":1307,"user_id":160799,"accept_rate":75,"display_name":"Gregor"},"score":0,"creation_date":1478168479,"post_id":38734111,"comment_id":68047991,"body_markdown":"Possible duplicate of [IntelliJ IDEA hint parameters of method](http://stackoverflow.com/questions/1783180/intellij-idea-hint-parameters-of-method)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/1783180/intellij-idea-hint-parameters-of-method\">IntelliJ IDEA hint parameters of method</a>"}],"answers":[{"tags":[],"owner":{"account_id":279921,"reputation":7224,"user_id":575350,"accept_rate":91,"display_name":"qwazer"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1470202442,"creation_date":1470202442,"answer_id":38735160,"question_id":38734111,"body_markdown":"This tooltip appears on mouse over events.\r\n\r\nWorkaround with keyboard:\r\nTry to use quick documentation pop-up CTRL+Q .","title":"How to show method parameters hint in Intellij IDEA?","body":"<p>This tooltip appears on mouse over events.</p>\n\n<p>Workaround with keyboard:\nTry to use quick documentation pop-up CTRL+Q .</p>\n"},{"tags":[],"owner":{"account_id":7704646,"reputation":9814,"user_id":5835947,"accept_rate":35,"display_name":"guo"},"down_vote_count":1,"up_vote_count":245,"is_accepted":true,"score":244,"last_activity_date":1652672364,"creation_date":1470202934,"answer_id":38735285,"question_id":38734111,"body_markdown":"Got the final answer.\r\n\r\nJust &lt;kbd&gt;Ctrl&lt;/kbd&gt; +&lt;kbd&gt;P&lt;/kbd&gt; in Windows/Linux\r\n\r\nor &lt;kbd&gt;⌘&lt;/kbd&gt; +&lt;kbd&gt;P&lt;/kbd&gt; in macOS.\r\n\r\n[JetBrains reference: Parameter Info][1]\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/viewing-reference-information.html#view-parameter-info","title":"How to show method parameters hint in Intellij IDEA?","body":"<p>Got the final answer.</p>\n<p>Just <kbd>Ctrl</kbd> +<kbd>P</kbd> in Windows/Linux</p>\n<p>or <kbd>⌘</kbd> +<kbd>P</kbd> in macOS.</p>\n<p><a href=\"https://www.jetbrains.com/help/idea/viewing-reference-information.html#view-parameter-info\" rel=\"noreferrer\">JetBrains reference: Parameter Info</a></p>\n"},{"tags":[],"owner":{"account_id":5808889,"reputation":318,"user_id":4580663,"accept_rate":75,"display_name":"Pavel"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1499842386,"creation_date":1470204460,"answer_id":38735667,"question_id":38734111,"body_markdown":"Default shortcut to show parameter info in IDEA is &lt;kbd&gt;ctrl&lt;/kbd&gt;+&lt;kbd&gt;P&lt;/kbd&gt;.\r\n\r\nHere is a sheet from JetBrains with this and other useful keyboard shortcuts: https://resources.jetbrains.com/storage/products/intellij-idea/docs/IntelliJIDEA_ReferenceCard.pdf","title":"How to show method parameters hint in Intellij IDEA?","body":"<p>Default shortcut to show parameter info in IDEA is <kbd>ctrl</kbd>+<kbd>P</kbd>.</p>\n\n<p>Here is a sheet from JetBrains with this and other useful keyboard shortcuts: <a href=\"https://resources.jetbrains.com/storage/products/intellij-idea/docs/IntelliJIDEA_ReferenceCard.pdf\" rel=\"noreferrer\">https://resources.jetbrains.com/storage/products/intellij-idea/docs/IntelliJIDEA_ReferenceCard.pdf</a></p>\n"},{"tags":[],"owner":{"account_id":8937348,"reputation":361,"user_id":6667731,"display_name":"Anju Prasad"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1487411666,"creation_date":1470205446,"answer_id":38735883,"question_id":38734111,"body_markdown":"To view the method parameters\r\n\r\n1. Place the caret anywhere within the call of the desired method or function.\r\n2. Choose View | Parameter Info on the main menu or press &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;P&lt;/kbd&gt;.\r\n\r\n\r\nTo configure the behavior of the view parameter information functionality\r\n\r\n1. Open the IDE Settings and click Code Completion below the Editor node.\r\n2. In the Parameter info section, define the following options:\r\n\r\n      - To have a complete method or function signature shown rather than a list              of required types, select the Show full signatures check box.\r\n       Make sure to include the required third-party libraries in the project   source path. Otherwise, names of the parameters will not be displayed.\r\n\r\n      - To have the list of parameter types for the called method or function shown automatically after a certain delay, select the Auto pop-up (in ms) check box and specify the time period in milliseconds.","title":"How to show method parameters hint in Intellij IDEA?","body":"<p>To view the method parameters</p>\n\n<ol>\n<li>Place the caret anywhere within the call of the desired method or function.</li>\n<li>Choose View | Parameter Info on the main menu or press <kbd>Ctrl</kbd>+<kbd>P</kbd>.</li>\n</ol>\n\n<p>To configure the behavior of the view parameter information functionality</p>\n\n<ol>\n<li>Open the IDE Settings and click Code Completion below the Editor node.</li>\n<li><p>In the Parameter info section, define the following options:</p>\n\n<ul>\n<li><p>To have a complete method or function signature shown rather than a list              of required types, select the Show full signatures check box.\nMake sure to include the required third-party libraries in the project   source path. Otherwise, names of the parameters will not be displayed.</p></li>\n<li><p>To have the list of parameter types for the called method or function shown automatically after a certain delay, select the Auto pop-up (in ms) check box and specify the time period in milliseconds.</p></li>\n</ul></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1843009,"reputation":7936,"user_id":1672027,"accept_rate":94,"display_name":"Matt Klein"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1497808593,"creation_date":1497808593,"answer_id":44617927,"question_id":38734111,"body_markdown":"If you have non-standard bindings (or want to change what this is bound to), then look here:\r\n\r\n`Settings &gt; Keymap &gt; Main menu &gt; View &gt; Tool Windows &gt; Parameter Info`\r\n\r\nAnd see what the binding is and/or change it to what you want.","title":"How to show method parameters hint in Intellij IDEA?","body":"<p>If you have non-standard bindings (or want to change what this is bound to), then look here:</p>\n\n<p><code>Settings &gt; Keymap &gt; Main menu &gt; View &gt; Tool Windows &gt; Parameter Info</code></p>\n\n<p>And see what the binding is and/or change it to what you want.</p>\n"}],"owner":{"account_id":7704646,"reputation":9814,"user_id":5835947,"accept_rate":35,"display_name":"guo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46212,"favorite_count":0,"down_vote_count":0,"up_vote_count":154,"accepted_answer_id":38735285,"answer_count":5,"score":154,"last_activity_date":1652672364,"creation_date":1470196402,"question_id":38734111,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n&gt; int beginIndex, int endIndex\r\n\r\nis important when we invoke methods.\r\n\r\nHow to show this when the cursor is in the brackets?\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/64ZyW.png\r\n  [2]: http://i.stack.imgur.com/XIcxf.png","title":"How to show method parameters hint in Intellij IDEA?","body":"<p><a href=\"https://i.stack.imgur.com/64ZyW.png\"><img src=\"https://i.stack.imgur.com/64ZyW.png\" alt=\"enter image description here\"></a></p>\n\n<blockquote>\n  <p>int beginIndex, int endIndex</p>\n</blockquote>\n\n<p>is important when we invoke methods.</p>\n\n<p>How to show this when the cursor is in the brackets?\n<a href=\"https://i.stack.imgur.com/XIcxf.png\"><img src=\"https://i.stack.imgur.com/XIcxf.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","amazon-web-services","aws-lambda","opencsv"],"answers":[{"tags":[],"owner":{"account_id":8243275,"reputation":335,"user_id":6200260,"display_name":"Prasad Tamgale"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652559385,"creation_date":1652558872,"answer_id":72243533,"question_id":72243510,"body_markdown":"Upload a FAT jar or jar-with-dependencies jar to AWS &amp; then run the lambda.&lt;br&gt;\r\n&lt;br&gt;\r\nUse maven assembly or shade plugins.&lt;br&gt;\r\nShade Plugin:\r\n\r\n    &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.1.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;shade&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n\r\nGenerate a FAT jar with mvn package and deploy.","title":"AWS Lambda java.lang.ClassNotFoundException: com.opencsv.exceptions.CsvException","body":"<p>Upload a FAT jar or jar-with-dependencies jar to AWS &amp; then run the lambda.<br>\n<br>\nUse maven assembly or shade plugins.<br>\nShade Plugin:</p>\n<pre><code>&lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n</code></pre>\n<p>Generate a FAT jar with mvn package and deploy.</p>\n"}],"owner":{"account_id":25291875,"reputation":7,"user_id":19117788,"display_name":"lostSoul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":648,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72243533,"answer_count":1,"score":0,"last_activity_date":1652672347,"creation_date":1652558669,"question_id":72243510,"body_markdown":"I am getting the following error while running code on AWS lambda:\r\n\r\n        START RequestId: cd42e5ab-fbc8-4f50-8c4f-e8257525bd78 Version: $LATEST\r\n    Error loading method handler on class com.test.myapp: java.lang.NoClassDefFoundError\r\n    java.lang.NoClassDefFoundError: com/opencsv/exceptions/CsvException\r\n    \tat java.base/java.lang.Class.getDeclaredMethods0(Native Method)\r\n    \tat java.base/java.lang.Class.privateGetDeclaredMethods(Unknown Source)\r\n    \tat java.base/java.lang.Class.privateGetPublicMethods(Unknown Source)\r\n    \tat java.base/java.lang.Class.getMethods(Unknown Source)\r\n    Caused by: java.lang.ClassNotFoundException: com.opencsv.exceptions.CsvException. Current classpath: file:/var/task/\r\n\r\nI am working on IntelliJ created a JAR and have uploaded it to AWS Lambda using console.\r\n\r\nThis is pom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;testerLambda2&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/com.amazonaws/aws-java-sdk-s3 --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n                &lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\r\n                &lt;version&gt;1.12.204&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\r\n                &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\r\n                &lt;version&gt;5.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n        &lt;/dependencies&gt;\r\n    \r\n    \r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nNot sure what I should do. This error only occurs when I am adding `openCSV`, my lambda works fine otherwise.","title":"AWS Lambda java.lang.ClassNotFoundException: com.opencsv.exceptions.CsvException","body":"<p>I am getting the following error while running code on AWS lambda:</p>\n<pre><code>    START RequestId: cd42e5ab-fbc8-4f50-8c4f-e8257525bd78 Version: $LATEST\nError loading method handler on class com.test.myapp: java.lang.NoClassDefFoundError\njava.lang.NoClassDefFoundError: com/opencsv/exceptions/CsvException\n    at java.base/java.lang.Class.getDeclaredMethods0(Native Method)\n    at java.base/java.lang.Class.privateGetDeclaredMethods(Unknown Source)\n    at java.base/java.lang.Class.privateGetPublicMethods(Unknown Source)\n    at java.base/java.lang.Class.getMethods(Unknown Source)\nCaused by: java.lang.ClassNotFoundException: com.opencsv.exceptions.CsvException. Current classpath: file:/var/task/\n</code></pre>\n<p>I am working on IntelliJ created a JAR and have uploaded it to AWS Lambda using console.</p>\n<p>This is pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;testerLambda2&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.amazonaws/aws-java-sdk-s3 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\n            &lt;version&gt;1.12.204&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\n            &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\n            &lt;version&gt;5.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Not sure what I should do. This error only occurs when I am adding <code>openCSV</code>, my lambda works fine otherwise.</p>\n"},{"tags":["java",".net","logging","log4net","log4j"],"answers":[{"tags":[],"owner":{"account_id":10652,"reputation":1293,"user_id":20225,"display_name":"gedevan"},"down_vote_count":2,"up_vote_count":58,"is_accepted":true,"score":56,"last_activity_date":1223663089,"creation_date":1223663089,"answer_id":192548,"question_id":192456,"body_markdown":"DailyRollingFileAppender is what you exactly searching for.\r\n\r\n    &lt;appender name=&quot;roll&quot; class=&quot;org.apache.log4j.DailyRollingFileAppender&quot;&gt;\r\n        &lt;param name=&quot;File&quot; value=&quot;application.log&quot; /&gt;\r\n        &lt;param name=&quot;DatePattern&quot; value=&quot;.yyyy-MM-dd&quot; /&gt;\r\n        &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt; \r\n          &lt;param name=&quot;ConversionPattern&quot; \r\n              value=&quot;%d{yyyy-MMM-dd HH:mm:ss,SSS} [%t] %c %x%n  %-5p %m%n&quot;/&gt;\r\n        &lt;/layout&gt;\r\n      &lt;/appender&gt;\r\n\r\n","title":"Setting a log file name to include current date in Log4j","body":"<p>DailyRollingFileAppender is what you exactly searching for.</p>\n\n<pre><code>&lt;appender name=\"roll\" class=\"org.apache.log4j.DailyRollingFileAppender\"&gt;\n    &lt;param name=\"File\" value=\"application.log\" /&gt;\n    &lt;param name=\"DatePattern\" value=\".yyyy-MM-dd\" /&gt;\n    &lt;layout class=\"org.apache.log4j.PatternLayout\"&gt; \n      &lt;param name=\"ConversionPattern\" \n          value=\"%d{yyyy-MMM-dd HH:mm:ss,SSS} [%t] %c %x%n  %-5p %m%n\"/&gt;\n    &lt;/layout&gt;\n  &lt;/appender&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1223664695,"creation_date":1223664695,"answer_id":192632,"question_id":192456,"body_markdown":"I&#39;m 99% sure that RollingFileAppender/DailyRollingFileAppender, while it gives you the date-rolling functionality you want, doesn&#39;t have any way to specify that the current log file should use the `DatePattern` as well.\r\n\r\nYou might just be able to simply subclass RollingFileAppender (or DailyRollingFileAppender, I forget which is which in log4net) and modify the naming logic.","title":"Setting a log file name to include current date in Log4j","body":"<p>I'm 99% sure that RollingFileAppender/DailyRollingFileAppender, while it gives you the date-rolling functionality you want, doesn't have any way to specify that the current log file should use the <code>DatePattern</code> as well.</p>\n\n<p>You might just be able to simply subclass RollingFileAppender (or DailyRollingFileAppender, I forget which is which in log4net) and modify the naming logic.</p>\n"},{"tags":[],"owner":{"account_id":4487,"reputation":2649,"user_id":6770,"accept_rate":26,"display_name":"James A. N. Stauffer"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1259791206,"creation_date":1223666984,"answer_id":192744,"question_id":192456,"body_markdown":"I have created an appender that will do that.  [http://stauffer.james.googlepages.com/DateFormatFileAppender.java][1]\r\n\r\n\r\n  [1]: http://stauffer.james.googlepages.com/DateFormatFileAppender.java\r\n\r\n    /*\r\n     * Copyright (C) The Apache Software Foundation. All rights reserved.\r\n     *\r\n     * This software is published under the terms of the Apache Software\r\n     * License version 1.1, a copy of which has been included with this\r\n     * distribution in the LICENSE.txt file.  */\r\n    \r\n    package sps.log.log4j;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.File;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    \r\n    import org.apache.log4j.*;\r\n    import org.apache.log4j.helpers.LogLog;\r\n    import org.apache.log4j.spi.LoggingEvent;\r\n    \r\n    /**\r\n     * DateFormatFileAppender is a log4j Appender and extends \r\n     * {@link FileAppender} so each log is \r\n     * named based on a date format defined in the File property.\r\n     *\r\n     * Sample File: &#39;logs/&#39;yyyy/MM-MMM/dd-EEE/HH-mm-ss-S&#39;.log&#39;\r\n     * Makes a file like: logs/2004/04-Apr/13-Tue/09-45-15-937.log\r\n     * @author James Stauffer\r\n     */\r\n    public class DateFormatFileAppender extends FileAppender {\r\n    \r\n      /**\r\n       * The default constructor does nothing.\r\n       */\r\n      public DateFormatFileAppender() {\r\n      }\r\n    \r\n      /**\r\n       * Instantiate a &lt;code&gt;DailyRollingFileAppender&lt;/code&gt; and open the\r\n       * file designated by &lt;code&gt;filename&lt;/code&gt;. The opened filename will\r\n       * become the ouput destination for this appender.\r\n       */\r\n      public DateFormatFileAppender (Layout layout, String filename) throws IOException {\r\n        super(layout, filename, true);\r\n      }\r\n    \r\n      private String fileBackup;//Saves the file pattern\r\n      private boolean separate = false;\r\n    \r\n      public void setFile(String file) {\r\n        super.setFile(file);\r\n        this.fileBackup = getFile();\r\n      }\r\n    \r\n      /**\r\n       * If true each LoggingEvent causes that file to close and open.\r\n       * This is useful when the file is a pattern that would often\r\n       * produce a different filename.\r\n       */\r\n      public void setSeparate(boolean separate) {\r\n        this.separate = separate;\r\n      }\r\n    \r\n      protected void subAppend(LoggingEvent event) {\r\n        if(separate) {\r\n            try {//First reset the file so each new log gets a new file.\r\n                setFile(getFile(), getAppend(), getBufferedIO(), getBufferSize());\r\n            } catch(IOException e) {\r\n                LogLog.error(&quot;Unable to reset fileName.&quot;);\r\n            }\r\n        }\r\n        super.subAppend(event);\r\n      }\r\n    \r\n    \r\n      public\r\n      synchronized\r\n      void setFile(String fileName, boolean append, boolean bufferedIO, int bufferSize)\r\n                                                                throws IOException {\r\n        SimpleDateFormat sdf = new SimpleDateFormat(fileBackup);\r\n        String actualFileName = sdf.format(new Date());\r\n        makeDirs(actualFileName);\r\n        super.setFile(actualFileName, append, bufferedIO, bufferSize);\r\n      }\r\n    \r\n      /**\r\n       * Ensures that all of the directories for the given path exist.\r\n       * Anything after the last / or \\ is assumed to be a filename.\r\n       */\r\n      private void makeDirs (String path) {\r\n        int indexSlash = path.lastIndexOf(&quot;/&quot;);\r\n        int indexBackSlash = path.lastIndexOf(&quot;\\\\&quot;);\r\n        int index = Math.max(indexSlash, indexBackSlash);\r\n        if(index &gt; 0) {\r\n            String dirs = path.substring(0, index);\r\n    //        LogLog.debug(&quot;Making &quot; + dirs);\r\n            File dir = new File(dirs);\r\n            if(!dir.exists()) {\r\n                boolean success = dir.mkdirs();\r\n                if(!success) {\r\n                    LogLog.error(&quot;Unable to create directories for &quot; + dirs);\r\n                }\r\n            }\r\n        }\r\n      }\r\n    \r\n    }\r\n    \r\n","title":"Setting a log file name to include current date in Log4j","body":"<p>I have created an appender that will do that.  <a href=\"http://stauffer.james.googlepages.com/DateFormatFileAppender.java\" rel=\"noreferrer\">http://stauffer.james.googlepages.com/DateFormatFileAppender.java</a></p>\n\n<pre><code>/*\n * Copyright (C) The Apache Software Foundation. All rights reserved.\n *\n * This software is published under the terms of the Apache Software\n * License version 1.1, a copy of which has been included with this\n * distribution in the LICENSE.txt file.  */\n\npackage sps.log.log4j;\n\nimport java.io.IOException;\nimport java.io.File;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\nimport org.apache.log4j.*;\nimport org.apache.log4j.helpers.LogLog;\nimport org.apache.log4j.spi.LoggingEvent;\n\n/**\n * DateFormatFileAppender is a log4j Appender and extends \n * {@link FileAppender} so each log is \n * named based on a date format defined in the File property.\n *\n * Sample File: 'logs/'yyyy/MM-MMM/dd-EEE/HH-mm-ss-S'.log'\n * Makes a file like: logs/2004/04-Apr/13-Tue/09-45-15-937.log\n * @author James Stauffer\n */\npublic class DateFormatFileAppender extends FileAppender {\n\n  /**\n   * The default constructor does nothing.\n   */\n  public DateFormatFileAppender() {\n  }\n\n  /**\n   * Instantiate a &lt;code&gt;DailyRollingFileAppender&lt;/code&gt; and open the\n   * file designated by &lt;code&gt;filename&lt;/code&gt;. The opened filename will\n   * become the ouput destination for this appender.\n   */\n  public DateFormatFileAppender (Layout layout, String filename) throws IOException {\n    super(layout, filename, true);\n  }\n\n  private String fileBackup;//Saves the file pattern\n  private boolean separate = false;\n\n  public void setFile(String file) {\n    super.setFile(file);\n    this.fileBackup = getFile();\n  }\n\n  /**\n   * If true each LoggingEvent causes that file to close and open.\n   * This is useful when the file is a pattern that would often\n   * produce a different filename.\n   */\n  public void setSeparate(boolean separate) {\n    this.separate = separate;\n  }\n\n  protected void subAppend(LoggingEvent event) {\n    if(separate) {\n        try {//First reset the file so each new log gets a new file.\n            setFile(getFile(), getAppend(), getBufferedIO(), getBufferSize());\n        } catch(IOException e) {\n            LogLog.error(\"Unable to reset fileName.\");\n        }\n    }\n    super.subAppend(event);\n  }\n\n\n  public\n  synchronized\n  void setFile(String fileName, boolean append, boolean bufferedIO, int bufferSize)\n                                                            throws IOException {\n    SimpleDateFormat sdf = new SimpleDateFormat(fileBackup);\n    String actualFileName = sdf.format(new Date());\n    makeDirs(actualFileName);\n    super.setFile(actualFileName, append, bufferedIO, bufferSize);\n  }\n\n  /**\n   * Ensures that all of the directories for the given path exist.\n   * Anything after the last / or \\ is assumed to be a filename.\n   */\n  private void makeDirs (String path) {\n    int indexSlash = path.lastIndexOf(\"/\");\n    int indexBackSlash = path.lastIndexOf(\"\\\\\");\n    int index = Math.max(indexSlash, indexBackSlash);\n    if(index &gt; 0) {\n        String dirs = path.substring(0, index);\n//        LogLog.debug(\"Making \" + dirs);\n        File dir = new File(dirs);\n        if(!dir.exists()) {\n            boolean success = dir.mkdirs();\n            if(!success) {\n                LogLog.error(\"Unable to create directories for \" + dirs);\n            }\n        }\n    }\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6805,"reputation":2523,"user_id":11562,"accept_rate":77,"display_name":"Lars Corneliussen"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1447283202,"creation_date":1240337565,"answer_id":773871,"question_id":192456,"body_markdown":"I don&#39;t know if it is possible in Java, but in .NET the property StaticLogFileName on RollingFileAppender gives you what you want. The default is true.\r\n\r\n    &lt;staticLogFileName value=&quot;false&quot;/&gt;\r\n\r\nFull config: \r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;appender name=&quot;DefaultFileAppender&quot; type=&quot;log4net.Appender.RollingFileAppender&quot;&gt;\r\n      &lt;file value=&quot;application&quot;/&gt;\r\n      &lt;staticLogFileName value=&quot;false&quot;/&gt;\r\n      &lt;appendToFile value=&quot;true&quot; /&gt;\r\n      &lt;rollingStyle value=&quot;Date&quot; /&gt;\r\n      &lt;datePattern value=&quot;yyyy-MM-dd&amp;quot;.log&amp;quot;&quot; /&gt;\r\n      &lt;layout type=&quot;log4net.Layout.PatternLayout&quot;&gt;\r\n        &lt;conversionPattern value=&quot;%date [%thread] %-5level %logger [%property{NDC}] - %message%newline&quot; /&gt;\r\n      &lt;/layout&gt;\r\n    &lt;/appender&gt;\r\n\r\n`&amp;quot;.log&amp;quot;` is for not letting the dateformat recognice the global date pattern &#39;g&#39; in log.","title":"Setting a log file name to include current date in Log4j","body":"<p>I don't know if it is possible in Java, but in .NET the property StaticLogFileName on RollingFileAppender gives you what you want. The default is true.</p>\n\n<pre><code>&lt;staticLogFileName value=\"false\"/&gt;\n</code></pre>\n\n<p>Full config: </p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;appender name=\"DefaultFileAppender\" type=\"log4net.Appender.RollingFileAppender\"&gt;\n  &lt;file value=\"application\"/&gt;\n  &lt;staticLogFileName value=\"false\"/&gt;\n  &lt;appendToFile value=\"true\" /&gt;\n  &lt;rollingStyle value=\"Date\" /&gt;\n  &lt;datePattern value=\"yyyy-MM-dd&amp;quot;.log&amp;quot;\" /&gt;\n  &lt;layout type=\"log4net.Layout.PatternLayout\"&gt;\n    &lt;conversionPattern value=\"%date [%thread] %-5level %logger [%property{NDC}] - %message%newline\" /&gt;\n  &lt;/layout&gt;\n&lt;/appender&gt;\n</code></pre>\n\n<p><code>&amp;quot;.log&amp;quot;</code> is for not letting the dateformat recognice the global date pattern 'g' in log.</p>\n"},{"tags":[],"owner":{"account_id":966936,"reputation":756,"user_id":990216,"accept_rate":83,"display_name":"shinds"},"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1399449626,"creation_date":1326766318,"answer_id":8888867,"question_id":192456,"body_markdown":"Using log4j.properties file, and including [apache-log4j-extras][1] 1.1 in my POM with log4j 1.2.16\r\n\r\n    log4j.appender.LOGFILE=org.apache.log4j.rolling.RollingFileAppender\r\n    log4j.appender.LOGFILE.RollingPolicy=org.apache.log4j.rolling.TimeBasedRollingPolicy\r\n    log4j.appender.LOGFILE.RollingPolicy.FileNamePattern=/logs/application_%d{yyyy-MM-dd}.log\r\n\r\n\r\n  [1]: http://logging.apache.org/log4j/extras/","title":"Setting a log file name to include current date in Log4j","body":"<p>Using log4j.properties file, and including <a href=\"http://logging.apache.org/log4j/extras/\" rel=\"noreferrer\">apache-log4j-extras</a> 1.1 in my POM with log4j 1.2.16</p>\n\n<pre><code>log4j.appender.LOGFILE=org.apache.log4j.rolling.RollingFileAppender\nlog4j.appender.LOGFILE.RollingPolicy=org.apache.log4j.rolling.TimeBasedRollingPolicy\nlog4j.appender.LOGFILE.RollingPolicy.FileNamePattern=/logs/application_%d{yyyy-MM-dd}.log\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1605465,"reputation":21,"user_id":1485653,"display_name":"codder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1350768040,"creation_date":1340801787,"answer_id":11226717,"question_id":192456,"body_markdown":"this example will be creating logger for each minute, if you want to change for each day change the `DatePattern` value.\r\n\r\n    &lt;appender name=&quot;ASYNC&quot; class=&quot;org.apache.log4j.DailyRollingFileAppender&quot;&gt;\r\n       &lt;param name=&quot;File&quot; value=&quot;./applogs/logger.log&quot; /&gt;\r\n       &lt;param name=&quot;Append&quot; value=&quot;true&quot; /&gt;\r\n       &lt;param name=&quot;Threshold&quot; value=&quot;debug&quot; /&gt;\r\n       &lt;appendToFile value=&quot;true&quot; /&gt;\r\n       &lt;param name=&quot;DatePattern&quot; value=&quot;&#39;.&#39;yyyy_MM_dd_HH_mm&quot;/&gt;\r\n       &lt;rollingPolicy class=&quot;org.apache.log4j.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n          &lt;param name=&quot;fileNamePattern&quot; value=&quot;./applogs/logger_%d{ddMMMyyyy HH:mm:ss}.log&quot;/&gt;\r\n          &lt;param name=&quot;rollOver&quot; value=&quot;TRUE&quot;/&gt;\r\n       &lt;/rollingPolicy&gt;\r\n       &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n          &lt;param name=&quot;ConversionPattern&quot; value=&quot;%d{ddMMMyyyy HH:mm:ss,SSS}^[%X{l4j_mdc_key}]^[%c{1}]^ %-5p %m%n&quot; /&gt;\r\n       &lt;/layout&gt;\r\n    &lt;/appender&gt;\r\n    &lt;root&gt;\r\n       &lt;level value=&quot;info&quot; /&gt;\r\n       &lt;appender-ref ref=&quot;ASYNC&quot; /&gt;\r\n    &lt;/root&gt;","title":"Setting a log file name to include current date in Log4j","body":"<p>this example will be creating logger for each minute, if you want to change for each day change the <code>DatePattern</code> value.</p>\n\n<pre><code>&lt;appender name=\"ASYNC\" class=\"org.apache.log4j.DailyRollingFileAppender\"&gt;\n   &lt;param name=\"File\" value=\"./applogs/logger.log\" /&gt;\n   &lt;param name=\"Append\" value=\"true\" /&gt;\n   &lt;param name=\"Threshold\" value=\"debug\" /&gt;\n   &lt;appendToFile value=\"true\" /&gt;\n   &lt;param name=\"DatePattern\" value=\"'.'yyyy_MM_dd_HH_mm\"/&gt;\n   &lt;rollingPolicy class=\"org.apache.log4j.rolling.TimeBasedRollingPolicy\"&gt;\n      &lt;param name=\"fileNamePattern\" value=\"./applogs/logger_%d{ddMMMyyyy HH:mm:ss}.log\"/&gt;\n      &lt;param name=\"rollOver\" value=\"TRUE\"/&gt;\n   &lt;/rollingPolicy&gt;\n   &lt;layout class=\"org.apache.log4j.PatternLayout\"&gt;\n      &lt;param name=\"ConversionPattern\" value=\"%d{ddMMMyyyy HH:mm:ss,SSS}^[%X{l4j_mdc_key}]^[%c{1}]^ %-5p %m%n\" /&gt;\n   &lt;/layout&gt;\n&lt;/appender&gt;\n&lt;root&gt;\n   &lt;level value=\"info\" /&gt;\n   &lt;appender-ref ref=\"ASYNC\" /&gt;\n&lt;/root&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1146322,"reputation":1446,"user_id":1128981,"display_name":"romeara"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1361469146,"creation_date":1361469146,"answer_id":15009009,"question_id":192456,"body_markdown":"As a response to the two answers which mention DailyRollingFileAppender (sorry, I don&#39;t have enough rep to comment on them directly, and I think this needs to be mentioned), I would warn that unfortunately the developers of that class have documented that it exhibits synchronization and data loss, and recommend that alternatives should be pursued for new deployments.\r\n\r\n[DailyRollingFileAppender JavaDoc][1]\r\n\r\n\r\n  [1]: http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/DailyRollingFileAppender.html","title":"Setting a log file name to include current date in Log4j","body":"<p>As a response to the two answers which mention DailyRollingFileAppender (sorry, I don't have enough rep to comment on them directly, and I think this needs to be mentioned), I would warn that unfortunately the developers of that class have documented that it exhibits synchronization and data loss, and recommend that alternatives should be pursued for new deployments.</p>\n\n<p><a href=\"http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/DailyRollingFileAppender.html\" rel=\"nofollow\">DailyRollingFileAppender JavaDoc</a></p>\n"},{"tags":[],"owner":{"account_id":1202593,"reputation":9569,"user_id":1173495,"accept_rate":46,"display_name":"SANN3"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1394789857,"creation_date":1390284069,"answer_id":21250314,"question_id":192456,"body_markdown":"You can set [FileAppender][1] dynamically\r\n\r\n    SimpleLayout layout = new SimpleLayout();           \r\n    FileAppender appender = new FileAppender(layout,&quot;logname.&quot;+new Date().toLocaleString(),false);\r\n    logger.addAppender(appender); \r\n\r\n  [1]: http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/FileAppender.html\r\n","title":"Setting a log file name to include current date in Log4j","body":"<p>You can set <a href=\"http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/FileAppender.html\" rel=\"nofollow\">FileAppender</a> dynamically</p>\n\n<pre><code>SimpleLayout layout = new SimpleLayout();           \nFileAppender appender = new FileAppender(layout,\"logname.\"+new Date().toLocaleString(),false);\nlogger.addAppender(appender); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":4497597,"reputation":181,"user_id":3657024,"display_name":"rpajaziti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648549424,"creation_date":1532693598,"answer_id":51557735,"question_id":192456,"body_markdown":"Even if you use `DailyRollingFileAppender` like @gedevan suggested, you will still get `logname.log.2008-10-10` (After a day, because the previous day log will get archived and the date will be concatenated to it&#39;s filename).\r\n\r\nSo if you want *.log* at the end, you&#39;ll have to do it like this on the `DatePattern`:\r\n\r\n`log4j.appender.file.DatePattern=&#39;.&#39;yyyy-MM-dd-HH-mm&#39;.log&#39;`","title":"Setting a log file name to include current date in Log4j","body":"<p>Even if you use <code>DailyRollingFileAppender</code> like @gedevan suggested, you will still get <code>logname.log.2008-10-10</code> (After a day, because the previous day log will get archived and the date will be concatenated to it's filename).</p>\n<p>So if you want <em>.log</em> at the end, you'll have to do it like this on the <code>DatePattern</code>:</p>\n<p><code>log4j.appender.file.DatePattern='.'yyyy-MM-dd-HH-mm'.log'</code></p>\n"},{"tags":[],"owner":{"account_id":170035,"reputation":6390,"user_id":396483,"accept_rate":68,"display_name":"john k"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621975285,"creation_date":1621975285,"answer_id":67695369,"question_id":192456,"body_markdown":"You can do it programmatically like so:\r\n\r\n            String dateFile = LocalDate.now().toString() + &quot;.log&quot;;\r\n\t\t\tEnumeration enm = Logger.getRootLogger().getAllAppenders();\r\n\t\t\tAppender appender = null;\r\n\t\t\twhile(enm.hasMoreElements()){\r\n\t\t\t\tappender = (Appender)enm.nextElement();\r\n\t\t\t\tString c = appender.getClass().toString();\r\n\t\t\t\tif(c.contains(&quot;FileAppender&quot;)){\r\n\t\t\t\t\tString f = ((FileAppender)appender).getFile();\r\n\t\t\t\t\t((FileAppender)appender).setFile(f+dateFile);\r\n\t\t\t\t\tSystem.out.println(&quot;From:&quot;+f+&quot; to:&quot;+dateFile);\r\n\t\t\t\t}\r\n\t\t\t}","title":"Setting a log file name to include current date in Log4j","body":"<p>You can do it programmatically like so:</p>\n<pre><code>        String dateFile = LocalDate.now().toString() + &quot;.log&quot;;\n        Enumeration enm = Logger.getRootLogger().getAllAppenders();\n        Appender appender = null;\n        while(enm.hasMoreElements()){\n            appender = (Appender)enm.nextElement();\n            String c = appender.getClass().toString();\n            if(c.contains(&quot;FileAppender&quot;)){\n                String f = ((FileAppender)appender).getFile();\n                ((FileAppender)appender).setFile(f+dateFile);\n                System.out.println(&quot;From:&quot;+f+&quot; to:&quot;+dateFile);\n            }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25299846,"reputation":11,"user_id":19124264,"display_name":"jimmybow"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652672340,"creation_date":1652672113,"answer_id":72253926,"question_id":192456,"body_markdown":"just use TimeBasedRollingPolicy and don&#39;t use param name=&quot;File&quot;\r\n\r\n      &lt;appender name=&quot;pdi-execution-appender&quot; class=&quot;org.apache.log4j.rolling.RollingFileAppender&quot;&gt;   \r\n    \t    &lt;!-- The active file to log to; this example is for Pentaho Server.--&gt;\r\n    \t    &lt;param name=&quot;Append&quot; value=&quot;true&quot; /&gt;\r\n            &lt;param name=&quot;Threshold&quot; value=&quot;INFO&quot;/&gt;\r\n    \t    &lt;rollingPolicy class=&quot;org.apache.log4j.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n    \t        &lt;!-- See javadoc for TimeBasedRollingPolicy --&gt;\r\n    \t        &lt;param name=&quot;FileNamePattern&quot; value=&quot;logs/ETL-LogFile.%d{yyyyMMdd}.log&quot; /&gt;\r\n    \t    &lt;/rollingPolicy&gt;\r\n    \t    &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n    \t        &lt;param name=&quot;ConversionPattern&quot; value=&#39;%d{yyyy-MM-dd HH:mm:ss.SSS} %-5p [%t] %m&#39;/&gt;\r\n    \t    &lt;/layout&gt;\r\n      &lt;/appender&gt;","title":"Setting a log file name to include current date in Log4j","body":"<p>just use TimeBasedRollingPolicy and don't use param name=&quot;File&quot;</p>\n<pre><code>  &lt;appender name=&quot;pdi-execution-appender&quot; class=&quot;org.apache.log4j.rolling.RollingFileAppender&quot;&gt;   \n        &lt;!-- The active file to log to; this example is for Pentaho Server.--&gt;\n        &lt;param name=&quot;Append&quot; value=&quot;true&quot; /&gt;\n        &lt;param name=&quot;Threshold&quot; value=&quot;INFO&quot;/&gt;\n        &lt;rollingPolicy class=&quot;org.apache.log4j.rolling.TimeBasedRollingPolicy&quot;&gt;\n            &lt;!-- See javadoc for TimeBasedRollingPolicy --&gt;\n            &lt;param name=&quot;FileNamePattern&quot; value=&quot;logs/ETL-LogFile.%d{yyyyMMdd}.log&quot; /&gt;\n        &lt;/rollingPolicy&gt;\n        &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\n            &lt;param name=&quot;ConversionPattern&quot; value='%d{yyyy-MM-dd HH:mm:ss.SSS} %-5p [%t] %m'/&gt;\n        &lt;/layout&gt;\n  &lt;/appender&gt;\n</code></pre>\n"}],"owner":{"account_id":164541,"reputation":1478,"user_id":387361,"accept_rate":83,"display_name":"Tim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204519,"favorite_count":0,"down_vote_count":0,"up_vote_count":73,"accepted_answer_id":192548,"answer_count":11,"score":73,"last_activity_date":1652672340,"creation_date":1223661406,"question_id":192456,"body_markdown":"I would like to set the log file name for a log4j and log4net appender to have the current date.  We are doing Daily rollovers but the current log file does not have a date.  The log file name format would be \r\n\r\n    logname.2008-10-10.log\r\n\r\nAnyone know the best way for me to do this?\r\n\r\nedit:  I forgot to mention that we would want to do this in log4net as well.  Plus any solution would need to be usable in JBoss.","title":"Setting a log file name to include current date in Log4j","body":"<p>I would like to set the log file name for a log4j and log4net appender to have the current date.  We are doing Daily rollovers but the current log file does not have a date.  The log file name format would be </p>\n\n<pre><code>logname.2008-10-10.log\n</code></pre>\n\n<p>Anyone know the best way for me to do this?</p>\n\n<p>edit:  I forgot to mention that we would want to do this in log4net as well.  Plus any solution would need to be usable in JBoss.</p>\n"},{"tags":["java","spring","mongodb","indexing","groovy"],"owner":{"account_id":25289063,"reputation":21,"user_id":19115497,"display_name":"Yurii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":571,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1652672302,"creation_date":1652528098,"question_id":72239803,"body_markdown":"Does someone know what Spring application properties need to be specified so that the index is overwritten (if already been created) with new parameters.\r\n\r\nFor example, if I want to change the time of deleting an entry from 1 day to 3 days, Spring cannot compile the project because an index with that name has already been created by a previous run (automatic indexing is enabled).\r\n\r\n```java\r\n@Document(collection = &#39;Item&#39;)\r\nclass Item {\r\n    @Id\r\n    String id\r\n    @LastModifiedDate\r\n    @Indexed(name=&#39;lastModifiedDate&#39;, expireAfter = &#39;1d&#39;)\r\n    Date lastModifiedDate\r\n    String itemName\r\n}\r\n```\r\n\r\nSpring falls with such an error\r\n\r\n```\r\nCaused by: org.springframework.beans.factory.BeanCreationException:\r\nError creating bean with name &#39;mongoTemplate&#39; defined in class path resource [org/springframework/boot/autoconfigure/data/mongo/MongoDatabaseFactoryDependentConfiguration.class]:\r\nBean instantiation via factory method failed; \r\n\r\nnested exception is org.springframework.beans.BeanInstantiationException:\r\nFailed to instantiate [org.springframework.data.mongodb.core.MongoTemplate]: Factory method &#39;mongoTemplate&#39; threw exception; nested exception is org.springframework.dao.DataIntegrityViolationException:\r\nCannot create index for &#39;lastModifiedDate&#39; in collection &#39;Item&#39; with keys &#39;Document{{lastModifiedDate=1}}&#39; and options &#39;Document{{name=lastModifiedDate, expireAfterSeconds=259200}}&#39;. Index already defined as &#39;IndexInfo [indexFields=[IndexField [ key: lastModifiedDate, direction: ASC, type: DEFAULT, weight: NaN]], name=lastModifiedDate, unique=false, sparse=false, language=, partialFilterExpression=null, collation=null, expireAfterSeconds=PT24H]&#39;.; \r\n\r\nnested exception is com.mongodb.MongoCommandException:\r\nCommand failed with error 85 (IndexOptionsConflict):\r\n&#39;An equivalent index already exists with the same name but different options.\r\nRequested index: { v: 2, key: { lastModifiedDate: 1 }, name: &quot;lastModifiedDate&quot;, expireAfterSeconds: 259200 }, existing index: { v: 2, key: { lastModifiedDate: 1 }, name: &quot;lastModifiedDate&quot;, expireAfterSeconds: 86400 }&#39; on server localhost:27017. The full response is {&quot;ok&quot;: 0.0, &quot;errmsg&quot;: &quot;An equivalent index already exists with the same name but different options. Requested index: { v: 2, key: { lastModifiedDate: 1 }, name: \\&quot;lastModifiedDate\\&quot;, expireAfterSeconds: 259200 },\r\nexisting index: { v: 2, key: { lastModifiedDate: 1 }, name: \\&quot;lastModifiedDate\\&quot;, expireAfterSeconds: 86400 }&quot;, &quot;code&quot;: 85, &quot;codeName&quot;: &quot;IndexOptionsConflict&quot;}\r\n```\r\n\r\nIf you manually remove this index from the database (from the shell), then everything works fine. But every time the parameters change you have to do it manually and you can forget about it. Is there any way to automate this process?\r\n","title":"Update indexes mongodb using Spring","body":"<p>Does someone know what Spring application properties need to be specified so that the index is overwritten (if already been created) with new parameters.</p>\n<p>For example, if I want to change the time of deleting an entry from 1 day to 3 days, Spring cannot compile the project because an index with that name has already been created by a previous run (automatic indexing is enabled).</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Document(collection = 'Item')\nclass Item {\n    @Id\n    String id\n    @LastModifiedDate\n    @Indexed(name='lastModifiedDate', expireAfter = '1d')\n    Date lastModifiedDate\n    String itemName\n}\n</code></pre>\n<p>Spring falls with such an error</p>\n<pre><code>Caused by: org.springframework.beans.factory.BeanCreationException:\nError creating bean with name 'mongoTemplate' defined in class path resource [org/springframework/boot/autoconfigure/data/mongo/MongoDatabaseFactoryDependentConfiguration.class]:\nBean instantiation via factory method failed; \n\nnested exception is org.springframework.beans.BeanInstantiationException:\nFailed to instantiate [org.springframework.data.mongodb.core.MongoTemplate]: Factory method 'mongoTemplate' threw exception; nested exception is org.springframework.dao.DataIntegrityViolationException:\nCannot create index for 'lastModifiedDate' in collection 'Item' with keys 'Document{{lastModifiedDate=1}}' and options 'Document{{name=lastModifiedDate, expireAfterSeconds=259200}}'. Index already defined as 'IndexInfo [indexFields=[IndexField [ key: lastModifiedDate, direction: ASC, type: DEFAULT, weight: NaN]], name=lastModifiedDate, unique=false, sparse=false, language=, partialFilterExpression=null, collation=null, expireAfterSeconds=PT24H]'.; \n\nnested exception is com.mongodb.MongoCommandException:\nCommand failed with error 85 (IndexOptionsConflict):\n'An equivalent index already exists with the same name but different options.\nRequested index: { v: 2, key: { lastModifiedDate: 1 }, name: &quot;lastModifiedDate&quot;, expireAfterSeconds: 259200 }, existing index: { v: 2, key: { lastModifiedDate: 1 }, name: &quot;lastModifiedDate&quot;, expireAfterSeconds: 86400 }' on server localhost:27017. The full response is {&quot;ok&quot;: 0.0, &quot;errmsg&quot;: &quot;An equivalent index already exists with the same name but different options. Requested index: { v: 2, key: { lastModifiedDate: 1 }, name: \\&quot;lastModifiedDate\\&quot;, expireAfterSeconds: 259200 },\nexisting index: { v: 2, key: { lastModifiedDate: 1 }, name: \\&quot;lastModifiedDate\\&quot;, expireAfterSeconds: 86400 }&quot;, &quot;code&quot;: 85, &quot;codeName&quot;: &quot;IndexOptionsConflict&quot;}\n</code></pre>\n<p>If you manually remove this index from the database (from the shell), then everything works fine. But every time the parameters change you have to do it manually and you can forget about it. Is there any way to automate this process?</p>\n"},{"tags":["java","yaml","jackson-dataformat-yaml"],"owner":{"account_id":3670858,"reputation":675,"user_id":3488580,"accept_rate":36,"display_name":"jtkSource"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":474,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1652672168,"creation_date":1652671423,"question_id":72253882,"body_markdown":"On using jackson version 2.13.2 \r\n\r\n```\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-dataformat-yaml&lt;/artifactId&gt;\r\n            &lt;version&gt;2.13.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nI get the following exception when parsing the `yaml` \r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.NoSuchMethodError: &#39;com.fasterxml.jackson.core.io.ContentReference com.fasterxml.jackson.dataformat.yaml.YAMLFactory._createContentReference(java.lang.Object)&#39;\r\n\tat com.fasterxml.jackson.dataformat.yaml.YAMLFactory.createParser(YAMLFactory.java:374)\r\n\tat com.fasterxml.jackson.dataformat.yaml.YAMLFactory.createParser(YAMLFactory.java:348)\r\n\tat com.fasterxml.jackson.dataformat.yaml.YAMLFactory.createParser(YAMLFactory.java:15)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3468)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3436)\r\n\tat Scratch.main(scratch.java:13)\r\n```\r\n\r\nbut this doesnt seem to be a problem for the older version of the library `2.12.x`\r\n\r\n```\r\n        String content = new String(Files.readAllBytes(Paths.get(commonYaml)));\r\n        ObjectMapper yamlReader = new ObjectMapper(YAMLFactory.builder().build());\r\n        Object obj = yamlReader.readValue(content, Object.class);\r\n        ObjectMapper jsonWriter = new ObjectMapper();\r\n        String json = jsonWriter.writeValueAsString(obj);\r\n```\r\n\r\nIs there a change in the API or is this a bug in the version","title":"jackson-dataformat-yaml cant parse to json on version 2.13.x","body":"<p>On using jackson version 2.13.2</p>\n<pre><code>       &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-dataformat-yaml&lt;/artifactId&gt;\n            &lt;version&gt;2.13.2&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I get the following exception when parsing the <code>yaml</code></p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: 'com.fasterxml.jackson.core.io.ContentReference com.fasterxml.jackson.dataformat.yaml.YAMLFactory._createContentReference(java.lang.Object)'\n    at com.fasterxml.jackson.dataformat.yaml.YAMLFactory.createParser(YAMLFactory.java:374)\n    at com.fasterxml.jackson.dataformat.yaml.YAMLFactory.createParser(YAMLFactory.java:348)\n    at com.fasterxml.jackson.dataformat.yaml.YAMLFactory.createParser(YAMLFactory.java:15)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3468)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3436)\n    at Scratch.main(scratch.java:13)\n</code></pre>\n<p>but this doesnt seem to be a problem for the older version of the library <code>2.12.x</code></p>\n<pre><code>        String content = new String(Files.readAllBytes(Paths.get(commonYaml)));\n        ObjectMapper yamlReader = new ObjectMapper(YAMLFactory.builder().build());\n        Object obj = yamlReader.readValue(content, Object.class);\n        ObjectMapper jsonWriter = new ObjectMapper();\n        String json = jsonWriter.writeValueAsString(obj);\n</code></pre>\n<p>Is there a change in the API or is this a bug in the version</p>\n"},{"tags":["java","eclipse"],"answers":[{"tags":[],"owner":{"account_id":22649518,"reputation":13,"user_id":16824403,"display_name":"Ubuntu Learner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652671829,"creation_date":1652671829,"answer_id":72253906,"question_id":72253698,"body_markdown":"I found a solution. If I set cdoObjectQuery to false I got the above mentioned error. I just left it in its default state which is true.","title":"How to get a column from a table using CDO","body":"<p>I found a solution. If I set cdoObjectQuery to false I got the above mentioned error. I just left it in its default state which is true.</p>\n"}],"owner":{"account_id":22649518,"reputation":13,"user_id":16824403,"display_name":"Ubuntu Learner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1652671829,"creation_date":1652668822,"question_id":72253698,"body_markdown":"I need to get a column from a table using CDO. I found a solution in https://wiki.eclipse.org/Query_DB_Store_by_using_SQL\r\n```\r\n CDOQuery query = view.createQuery(&quot;sql&quot;, &quot;SELECT city FROM Customer&quot;);\r\n query.setParameter(&quot;cdoObjectQuery&quot;, false);\r\n List&lt;String&gt; cities = query.getResult();\r\n```\r\nBut it&#39;s not working because I need to pass class as a parameter to getResult() like this:\r\n```\r\nList&lt;String&gt; cities = query.getResult(String.class);\r\n```\r\nBut I get ClassNotFoundException in runtime. How can I get the column?","title":"How to get a column from a table using CDO","body":"<p>I need to get a column from a table using CDO. I found a solution in <a href=\"https://wiki.eclipse.org/Query_DB_Store_by_using_SQL\" rel=\"nofollow noreferrer\">https://wiki.eclipse.org/Query_DB_Store_by_using_SQL</a></p>\n<pre><code> CDOQuery query = view.createQuery(&quot;sql&quot;, &quot;SELECT city FROM Customer&quot;);\n query.setParameter(&quot;cdoObjectQuery&quot;, false);\n List&lt;String&gt; cities = query.getResult();\n</code></pre>\n<p>But it's not working because I need to pass class as a parameter to getResult() like this:</p>\n<pre><code>List&lt;String&gt; cities = query.getResult(String.class);\n</code></pre>\n<p>But I get ClassNotFoundException in runtime. How can I get the column?</p>\n"},{"tags":["java","hash","overflow","hashcode"],"comments":[{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":1,"creation_date":1652664626,"post_id":72253348,"comment_id":127653419,"body_markdown":"&quot;The two hash functions should be the same.&quot; How do you figure that?","body":"&quot;The two hash functions should be the same.&quot; How do you figure that?"},{"owner":{"account_id":17691477,"reputation":13,"user_id":12946468,"display_name":"jettae schroff"},"score":1,"creation_date":1652668063,"post_id":72253348,"comment_id":127653817,"body_markdown":"Well, the original hash function was h = u_0 g^(n - 1) + u_1 g^(n - 2) + … + u_(n - 2) g + u_(n - 1), and both of these should do the same thing, one gets the terms one by one, which was my original one, and the new one does it a little differently. I worked through both of them and it looks like they should be the same, u_k * g^(n-k) is a term in both of the hash functions.","body":"Well, the original hash function was h = u_0 g^(n - 1) + u_1 g^(n - 2) + … + u_(n - 2) g + u_(n - 1), and both of these should do the same thing, one gets the terms one by one, which was my original one, and the new one does it a little differently. I worked through both of them and it looks like they should be the same, u_k * g^(n-k) is a term in both of the hash functions."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652670990,"creation_date":1652670990,"answer_id":72253848,"question_id":72253348,"body_markdown":"The problem is this:\r\n\r\n    h += bothNames.charAt(i)*Math.pow(g, bothNames.length() - i-1)\r\n\r\nThe `pow` method is returning a large `double` value.  Which you multiply by an integer to give you a larger `double` value.  Then the `h += ...` does a *primitive narrowing* conversion from `double` to `int`.\r\n\r\nThe `double` to `int` conversion is *defined* to convert any floating point value value greater than `Integer.MAX_VALUE` to `Integer.MAX_VALUE` (!).\r\n\r\nThe solution will be to compute the g&lt;sup&gt;k&lt;/sup&gt; using integer arithmetic; e.g. using the recurrence:\r\n\r\n&gt; g&lt;sup&gt;0&lt;/sup&gt; = 1\r\n&gt;\r\n&gt; g&lt;sup&gt;k&lt;/sup&gt; = g * g&lt;sup&gt;k - 1&lt;/sup&gt; (for k &gt; 0).\r\n\r\n\r\n\r\n","title":"Java - int WON&#39;T overflow with hashing","body":"<p>The problem is this:</p>\n<pre><code>h += bothNames.charAt(i)*Math.pow(g, bothNames.length() - i-1)\n</code></pre>\n<p>The <code>pow</code> method is returning a large <code>double</code> value.  Which you multiply by an integer to give you a larger <code>double</code> value.  Then the <code>h += ...</code> does a <em>primitive narrowing</em> conversion from <code>double</code> to <code>int</code>.</p>\n<p>The <code>double</code> to <code>int</code> conversion is <em>defined</em> to convert any floating point value value greater than <code>Integer.MAX_VALUE</code> to <code>Integer.MAX_VALUE</code> (!).</p>\n<p>The solution will be to compute the g<sup>k</sup> using integer arithmetic; e.g. using the recurrence:</p>\n<blockquote>\n<p>g<sup>0</sup> = 1</p>\n<p>g<sup>k</sup> = g * g<sup>k - 1</sup> (for k &gt; 0).</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652671175,"creation_date":1652671175,"answer_id":72253863,"question_id":72253348,"body_markdown":"Let&#39;s look at the following line:\r\n\r\n    h += bothNames.charAt(i) * Math.pow(g, bothNames.length() - i - 1);\r\n\r\nConsidering the nature of [compound assignment operators](https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.26.2), this is equivalent to:\r\n\r\n    h = (int)(h + (bothNames.charAt(i) * Math.pow(g, bothNames.length() - i - 1)));\r\n\r\nThis would be fine, if it were not for the fact that [`Math.pow`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Math.html#pow(double,double)) returns a `double`. Taking regular widening rules into account:\r\n\r\n    h = (int)(intValue + (intValue * doubleValue))\r\n    h = (int)(intValue + doubleValue)\r\n    h = (int)(doubleValue)\r\n\r\nThe last `doubleValue` gets narrowed to an `int`. If the string is long enough, the `doubleValue` will exceed `Integer.MAX_VALUE` from the first iteration.\r\n\r\n","title":"Java - int WON&#39;T overflow with hashing","body":"<p>Let's look at the following line:</p>\n<pre><code>h += bothNames.charAt(i) * Math.pow(g, bothNames.length() - i - 1);\n</code></pre>\n<p>Considering the nature of <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.26.2\" rel=\"nofollow noreferrer\">compound assignment operators</a>, this is equivalent to:</p>\n<pre><code>h = (int)(h + (bothNames.charAt(i) * Math.pow(g, bothNames.length() - i - 1)));\n</code></pre>\n<p>This would be fine, if it were not for the fact that <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Math.html#pow(double,double)\" rel=\"nofollow noreferrer\"><code>Math.pow</code></a> returns a <code>double</code>. Taking regular widening rules into account:</p>\n<pre><code>h = (int)(intValue + (intValue * doubleValue))\nh = (int)(intValue + doubleValue)\nh = (int)(doubleValue)\n</code></pre>\n<p>The last <code>doubleValue</code> gets narrowed to an <code>int</code>. If the string is long enough, the <code>doubleValue</code> will exceed <code>Integer.MAX_VALUE</code> from the first iteration.</p>\n"}],"owner":{"account_id":17691477,"reputation":13,"user_id":12946468,"display_name":"jettae schroff"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72253848,"answer_count":2,"score":1,"last_activity_date":1652671175,"creation_date":1652664186,"question_id":72253348,"body_markdown":"So I&#39;m just getting into Object-Oriented Programming in Java, and I have to make this hashed dictionary. I&#39;m supposed to hash a name with a algorithm and return the hashed value. The lab said to do \r\n```int hash = 0;\r\nint n = s.length();\r\nfor (int i = 0; i &lt; n; i++)\r\nhash = g * hash + s.charAt(i);\r\n```\r\nwhere g = 31, s = firstName + lastName;\r\n\r\nand I looked at this and put it into code. What I wrote was \r\n```\r\npublic int hashCode()     // part of the Name class\r\n{\r\n\tint h = 0;\r\n\tString bothNames = first + last;\r\n\tfor (int i = 0; i &lt; bothNames.length(); i++) {\r\n\t\th += bothNames.charAt(i)*Math.pow(g, bothNames.length() - i-1);\r\n\t}\r\n\treturn h;\r\n}\r\n```\r\n\r\nNow, when I ran this code on something like Name testName = new Name(&quot;Wayne&quot;, &quot;Gretzky&quot;);\r\nand printed out testName.hashCode(), I almost always got the 32 bit integer limit back, which meant that it wasn&#39;t overflowing. However, when I changed the for loop to \r\n```\r\nfor (int i = 0; i &lt; bothNames.length(); i++) {\r\n\th = g*h + bothNames.charAt(i);\r\n}\r\n```\r\n\r\nall of a sudden, it was overflowing again. I don&#39;t really understand why this would happen. The two hash functions should be the same. Why wouldn&#39;t h overflow in the first case? Thanks in advance.","title":"Java - int WON&#39;T overflow with hashing","body":"<p>So I'm just getting into Object-Oriented Programming in Java, and I have to make this hashed dictionary. I'm supposed to hash a name with a algorithm and return the hashed value. The lab said to do</p>\n<pre><code>int n = s.length();\nfor (int i = 0; i &lt; n; i++)\nhash = g * hash + s.charAt(i);\n</code></pre>\n<p>where g = 31, s = firstName + lastName;</p>\n<p>and I looked at this and put it into code. What I wrote was</p>\n<pre><code>public int hashCode()     // part of the Name class\n{\n    int h = 0;\n    String bothNames = first + last;\n    for (int i = 0; i &lt; bothNames.length(); i++) {\n        h += bothNames.charAt(i)*Math.pow(g, bothNames.length() - i-1);\n    }\n    return h;\n}\n</code></pre>\n<p>Now, when I ran this code on something like Name testName = new Name(&quot;Wayne&quot;, &quot;Gretzky&quot;);\nand printed out testName.hashCode(), I almost always got the 32 bit integer limit back, which meant that it wasn't overflowing. However, when I changed the for loop to</p>\n<pre><code>for (int i = 0; i &lt; bothNames.length(); i++) {\n    h = g*h + bothNames.charAt(i);\n}\n</code></pre>\n<p>all of a sudden, it was overflowing again. I don't really understand why this would happen. The two hash functions should be the same. Why wouldn't h overflow in the first case? Thanks in advance.</p>\n"},{"tags":["java","zip","unzip","zip4j"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1652601005,"post_id":72246300,"comment_id":127641507,"body_markdown":"Use `getFileHeaders` and call `getFileName` on each `FileHeader` object.  (And no, I won&#39;t write you an example.  You should be able to figure it out from reading the [javadocs](https://javadoc.io/doc/net.lingala.zip4j/zip4j/1.3.2/index.html)!!)","body":"Use <code>getFileHeaders</code> and call <code>getFileName</code> on each <code>FileHeader</code> object.  (And no, I won&#39;t write you an example.  You should be able to figure it out from reading the <a href=\"https://javadoc.io/doc/net.lingala.zip4j/zip4j/1.3.2/index.html\" rel=\"nofollow noreferrer\">javadocs</a>!!)"}],"answers":[{"tags":[],"owner":{"account_id":24692814,"reputation":116,"user_id":18585122,"display_name":"quangdang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652671001,"creation_date":1652671001,"answer_id":72253849,"question_id":72246300,"body_markdown":"In `javafx` using `zip4j` version 1.3.2\r\n\r\nYou can create a list to save your headers. In list items you can call .getFileName()\r\n```\r\n        ZipFile zipFile = new ZipFile(fileZip);\r\n        if (zipFile.isEncrypted()) {\r\n            zipFile.setPassword(password);\r\n        }\r\n        List&lt;FileHeader&gt; fileHeaders = zipFile.getFileHeaders();\r\n        for(FileHeader fileHeader : fileHeaders) {\r\n            System.out.println(fileHeader.getFileName()); // getFileName is ok\r\n            zipFile.extractFile(fileHeader, outputFolder);\r\n        }\r\n```","title":"using zip4j library version 1.3.2","body":"<p>In <code>javafx</code> using <code>zip4j</code> version 1.3.2</p>\n<p>You can create a list to save your headers. In list items you can call .getFileName()</p>\n<pre><code>        ZipFile zipFile = new ZipFile(fileZip);\n        if (zipFile.isEncrypted()) {\n            zipFile.setPassword(password);\n        }\n        List&lt;FileHeader&gt; fileHeaders = zipFile.getFileHeaders();\n        for(FileHeader fileHeader : fileHeaders) {\n            System.out.println(fileHeader.getFileName()); // getFileName is ok\n            zipFile.extractFile(fileHeader, outputFolder);\n        }\n</code></pre>\n"}],"owner":{"account_id":25113934,"reputation":38,"user_id":18963222,"display_name":"Ph&#244;n Trương Văn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":693,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72253849,"answer_count":1,"score":1,"last_activity_date":1652671001,"creation_date":1652599508,"question_id":72246300,"body_markdown":"I want to get the name of the list of files contained in a .zip file with password using zip4j library version 1.3.2.\r\n\r\n    package com.gpcoder.compress;\r\n     \r\n    import net.lingala.zip4j.core.ZipFile;\r\n    import net.lingala.zip4j.exception.ZipException;\r\n     \r\n    public class UnZip4jExample {\r\n     \r\n        public static final String ZIP_FILE = &quot;C:/demo/zip4jFolderExample.zip&quot;;\r\n        public static final String DESTINATION_FOLDER = &quot;C:/demo/outputZip4j&quot;;\r\n        public static final String PASSWORD = &quot;yourPassword&quot;;\r\n         \r\n        public static void main(String[] args) throws ZipException {\r\n            ZipFile zipFile = new ZipFile(ZIP_FILE);\r\n            if (zipFile.isEncrypted()) {\r\n                zipFile.setPassword(PASSWORD);\r\n            }\r\n            zipFile.extractAll(DESTINATION_FOLDER);\r\n            System.out.println(&quot;Done!!!&quot;);\r\n        }\r\n    }","title":"using zip4j library version 1.3.2","body":"<p>I want to get the name of the list of files contained in a .zip file with password using zip4j library version 1.3.2.</p>\n<pre><code>package com.gpcoder.compress;\n \nimport net.lingala.zip4j.core.ZipFile;\nimport net.lingala.zip4j.exception.ZipException;\n \npublic class UnZip4jExample {\n \n    public static final String ZIP_FILE = &quot;C:/demo/zip4jFolderExample.zip&quot;;\n    public static final String DESTINATION_FOLDER = &quot;C:/demo/outputZip4j&quot;;\n    public static final String PASSWORD = &quot;yourPassword&quot;;\n     \n    public static void main(String[] args) throws ZipException {\n        ZipFile zipFile = new ZipFile(ZIP_FILE);\n        if (zipFile.isEncrypted()) {\n            zipFile.setPassword(PASSWORD);\n        }\n        zipFile.extractAll(DESTINATION_FOLDER);\n        System.out.println(&quot;Done!!!&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","switch-statement","java.util.scanner"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1652671284,"post_id":72253844,"comment_id":127654183,"body_markdown":"Read the dangling new line left over from `int a = sc.nextInt();` before trying to use `sc.nextLine();` to get more input","body":"Read the dangling new line left over from <code>int a = sc.nextInt();</code> before trying to use <code>sc.nextLine();</code> to get more input"}],"owner":{"account_id":25299720,"reputation":11,"user_id":19124156,"display_name":"VaibhavMoney"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1652673258,"answer_count":0,"score":1,"last_activity_date":1652670972,"creation_date":1652670972,"question_id":72253844,"body_markdown":"I want to switch-case using the condition which is of type String given by user input. But it&#39;s not working. It goes to default statement automatically. Please can someone confirm the issue?\r\nBelow is the code :\r\n\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class Calculator {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n        \r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\t\r\n\t\t\r\n\t\tSystem.out.println(&quot;Please input number a: &quot;);\r\n\t\t  int a = sc.nextInt();\r\n\t\t  \r\n\t\tSystem.out.println(&quot;Please input number b: &quot;); \r\n\t\t  int b= sc.nextInt();\r\n\t\r\n\t\t  System.out.println(&quot;Please enter the operation: &quot;);\r\n\t\t\tString operation =sc.nextLine();\r\n\t\t\r\n\t\tswitch(operation) {\r\n\t\t  \r\n\t\tcase &quot;Addition&quot; : System.out.println(&quot;Addtion of a &amp; b = &quot;+(a+b) );\r\n\t\tbreak;\r\n        \r\n\t\tcase &quot;Subtraction&quot;: System.out.println(&quot;Subtraction of a &amp; b = &quot;+(a-b) );\r\n\t\tbreak;\r\n        \r\n\t\tcase &quot;Multiply&quot; : System.out.println(&quot;Subtraction of a &amp; b = &quot;+(a*b) );\r\n\t\tbreak;\r\n        \r\n\t\tcase &quot;Divide&quot;: System.out.println(&quot;Subtraction of a &amp; b = &quot;+(a/b) );\r\n        break;\r\n\t\t\r\n\t\tcase &quot;Modulo&quot; : System.out.println(&quot;Subtraction of a &amp; b = &quot;+(a%b) );\r\n        break;\r\n        \r\n        default : System.out.println(&quot;Exit&quot;);\r\n\t\t}\r\n\t}\r\n}","title":"Scanner class not working with Switch if used to enter String","body":"<p>I want to switch-case using the condition which is of type String given by user input. But it's not working. It goes to default statement automatically. Please can someone confirm the issue?\nBelow is the code :</p>\n<p>import java.util.Scanner;</p>\n<p>public class Calculator {</p>\n<pre><code>public static void main(String[] args) {\n    // TODO Auto-generated method stub\n    \n    Scanner sc = new Scanner(System.in);\n    \n    \n    System.out.println(&quot;Please input number a: &quot;);\n      int a = sc.nextInt();\n      \n    System.out.println(&quot;Please input number b: &quot;); \n      int b= sc.nextInt();\n\n      System.out.println(&quot;Please enter the operation: &quot;);\n        String operation =sc.nextLine();\n    \n    switch(operation) {\n      \n    case &quot;Addition&quot; : System.out.println(&quot;Addtion of a &amp; b = &quot;+(a+b) );\n    break;\n    \n    case &quot;Subtraction&quot;: System.out.println(&quot;Subtraction of a &amp; b = &quot;+(a-b) );\n    break;\n    \n    case &quot;Multiply&quot; : System.out.println(&quot;Subtraction of a &amp; b = &quot;+(a*b) );\n    break;\n    \n    case &quot;Divide&quot;: System.out.println(&quot;Subtraction of a &amp; b = &quot;+(a/b) );\n    break;\n    \n    case &quot;Modulo&quot; : System.out.println(&quot;Subtraction of a &amp; b = &quot;+(a%b) );\n    break;\n    \n    default : System.out.println(&quot;Exit&quot;);\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1652609442,"post_id":72246192,"comment_id":127642887,"body_markdown":"You want us to somehow *guess* what the code of `insertMyTable` is??","body":"You want us to somehow <i>guess</i> what the code of <code>insertMyTable</code> is??"},{"owner":{"account_id":23462084,"reputation":31,"user_id":17516799,"display_name":"pilog"},"score":0,"creation_date":1652611327,"post_id":72246192,"comment_id":127643200,"body_markdown":"My bad, i&#39;ve updated the insertMyTable(model) function.","body":"My bad, i&#39;ve updated the insertMyTable(model) function."},{"owner":{"account_id":2847999,"reputation":15490,"user_id":2445864,"accept_rate":79,"display_name":"Hubert Grzeskowiak"},"score":0,"creation_date":1652611570,"post_id":72246192,"comment_id":127643235,"body_markdown":"`I want to put the strArr value into my Model with col2.setCol2(strArr(i)) that equals to compareArr(j).` I do not understand this sentence. Do you mean you want to save the strings from the first array if they are contained in the second array too? If so, I would suggest you split the calculation of the difference, and the saving logic.","body":"<code>I want to put the strArr value into my Model with col2.setCol2(strArr(i)) that equals to compareArr(j).</code> I do not understand this sentence. Do you mean you want to save the strings from the first array if they are contained in the second array too? If so, I would suggest you split the calculation of the difference, and the saving logic."},{"owner":{"account_id":23462084,"reputation":31,"user_id":17516799,"display_name":"pilog"},"score":0,"creation_date":1652615222,"post_id":72246192,"comment_id":127643910,"body_markdown":"Yep, i really mean that. Do you have example for splitting calculation of the different and the saving logic? I don&#39;t understand this.","body":"Yep, i really mean that. Do you have example for splitting calculation of the different and the saving logic? I don&#39;t understand this."}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652622604,"creation_date":1652615308,"answer_id":72247973,"question_id":72246192,"body_markdown":"Your db code seems OK but I would use try-with-resources blocks.\r\nRun this and please confirm if this is what you intend:\r\n\r\n    import java.util.List;\r\n    import java.util.ArrayList;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class Model {\r\n        private int col1;\r\n        private String col2;\r\n    \r\n        public Model() {\r\n        }\r\n    \r\n        public Model(int col1, String col2) {\r\n            this.col1 = col1;\r\n            this.col2 = col2;\r\n        }\r\n    \r\n        public int getCol1() {\r\n            return this.col1;\r\n        }\r\n    \r\n        public String getCol2() {\r\n            return this.col2;\r\n        }\r\n    \r\n        public void setCol1(int col1) {\r\n            this.col1 = col1;\r\n        }\r\n    \r\n        public void setCol2(String col2) {\r\n            this.col2 = col2;\r\n        }\r\n    \r\n        public String toString() {\r\n            return String.format(&quot;%s=%d,%s=%s&quot;, &quot;col1&quot;, col1, &quot;col2&quot;, col2);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            String[] strArr = { &quot;One&quot;, &quot;Two&quot;, &quot;Five&quot; };\r\n            String[] compareArr = { &quot;One&quot;, &quot;Two&quot;, &quot;Three&quot;, &quot;Four&quot;, &quot;Five&quot; };\r\n            List&lt;String&gt; common = new ArrayList&lt;&gt;(List.of(strArr));\r\n            common.retainAll(new ArrayList&lt;&gt;(List.of(compareArr)));\r\n            List&lt;Model&gt; models = new ArrayList&lt;&gt;();\r\n            for (String col2 : common) {\r\n                Model m = new Model();\r\n                m.setCol1(10);\r\n                m.setCol2(col2);\r\n                models.add(m);\r\n            }\r\n            System.out.println(models);\r\n        }\r\n    }\r\n\r\n","title":"How do I insert into database from model that get value from an array","body":"<p>Your db code seems OK but I would use try-with-resources blocks.\nRun this and please confirm if this is what you intend:</p>\n<pre><code>import java.util.List;\nimport java.util.ArrayList;\nimport java.util.stream.Collectors;\n\npublic class Model {\n    private int col1;\n    private String col2;\n\n    public Model() {\n    }\n\n    public Model(int col1, String col2) {\n        this.col1 = col1;\n        this.col2 = col2;\n    }\n\n    public int getCol1() {\n        return this.col1;\n    }\n\n    public String getCol2() {\n        return this.col2;\n    }\n\n    public void setCol1(int col1) {\n        this.col1 = col1;\n    }\n\n    public void setCol2(String col2) {\n        this.col2 = col2;\n    }\n\n    public String toString() {\n        return String.format(&quot;%s=%d,%s=%s&quot;, &quot;col1&quot;, col1, &quot;col2&quot;, col2);\n    }\n\n    public static void main(String[] args) {\n        String[] strArr = { &quot;One&quot;, &quot;Two&quot;, &quot;Five&quot; };\n        String[] compareArr = { &quot;One&quot;, &quot;Two&quot;, &quot;Three&quot;, &quot;Four&quot;, &quot;Five&quot; };\n        List&lt;String&gt; common = new ArrayList&lt;&gt;(List.of(strArr));\n        common.retainAll(new ArrayList&lt;&gt;(List.of(compareArr)));\n        List&lt;Model&gt; models = new ArrayList&lt;&gt;();\n        for (String col2 : common) {\n            Model m = new Model();\n            m.setCol1(10);\n            m.setCol2(col2);\n            models.add(m);\n        }\n        System.out.println(models);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23462084,"reputation":31,"user_id":17516799,"display_name":"pilog"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72247973,"answer_count":1,"score":0,"last_activity_date":1652670869,"creation_date":1652598346,"question_id":72246192,"body_markdown":"I have a table in a database with 2 columns:\r\n\r\n`MyTable`\r\n\r\n| Column1 | Column2|\r\n|---------|--------|\r\n\r\n\r\nIn my code, I have 2 String arrays (`strArr`, `compareArr`) and a model with 2 attribute reference `MyTable` to keep values.\r\n\r\n```\r\n    class Model()\r\n         int col1;\r\n         String col2;\r\n         constructors; getter; setter;\r\n```\r\n\r\nThen, my `strArr` and `compareArr` have some values:\r\n\r\n```\r\n    strArr = {&quot;One&quot;, &quot;Two&quot;, &quot;Five&quot;};\r\n    compareArr = {&quot;One&quot;, &quot;Two&quot;, &quot;Three&quot;, &quot;Four&quot;, &quot;Five&quot;};\r\n```\r\n\r\nI want to put the `strArr` value into my `Model` with `col2.setCol2(strArr(i))` that equals to `compareArr(j)`. The `col1`&#39;s value is unchangeable during the loop.\r\n\r\nThis is the code I&#39;ve tried:\r\n\r\n```\r\n    Model model = new Model();\r\n    model.setCol1(1);\r\n    for(String value : strArr)\r\n    {\r\n        for(String cmpVal : compareArr)\r\n        {\r\n            if(value.equalsIgnoreCase(cmpVal))\r\n            {\r\n                model.setCol2(cmpVal);\r\n                break;\r\n            }\r\n        }\r\n        myTableController.insertMyTable(model); // Insert function into MyTable\r\n    }\r\n```\r\n\r\n`insertMyTable(model)`:\r\n\r\n```\r\n    public void insertMyTable(Model model){\r\n    \ttry{\r\n    \t\tString url = &quot;jdbc:msql://localhost/TestDB&quot;;\r\n    \t\tConnection conn = DriverManager.getConnection(url,&quot;sa&quot;,&quot;123&quot;);\r\n            String sql = &quot;INSERT INTO MyTable VALUES (?, ?)&quot;\r\n    \t\tPreparedStatement ps = conn.prepareStatement(); \r\n            ps.setInt(1, model.getCol1);\r\n            ps.setString(2, model.getCol2);\r\n            ps.executeUpdate();\r\n    \t\tconn.close();\r\n    \t}catch(Exception ex){\r\n    \t\tex.printStackTrace();\r\n    \t}\r\n    }\r\n```\r\n\r\nThe problem is that I can only insert the first model into the db while the rest fails.","title":"How do I insert into database from model that get value from an array","body":"<p>I have a table in a database with 2 columns:</p>\n<p><code>MyTable</code></p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Column1</th>\n<th>Column2</th>\n</tr>\n</thead>\n</table>\n</div>\n<p>In my code, I have 2 String arrays (<code>strArr</code>, <code>compareArr</code>) and a model with 2 attribute reference <code>MyTable</code> to keep values.</p>\n<pre><code>    class Model()\n         int col1;\n         String col2;\n         constructors; getter; setter;\n</code></pre>\n<p>Then, my <code>strArr</code> and <code>compareArr</code> have some values:</p>\n<pre><code>    strArr = {&quot;One&quot;, &quot;Two&quot;, &quot;Five&quot;};\n    compareArr = {&quot;One&quot;, &quot;Two&quot;, &quot;Three&quot;, &quot;Four&quot;, &quot;Five&quot;};\n</code></pre>\n<p>I want to put the <code>strArr</code> value into my <code>Model</code> with <code>col2.setCol2(strArr(i))</code> that equals to <code>compareArr(j)</code>. The <code>col1</code>'s value is unchangeable during the loop.</p>\n<p>This is the code I've tried:</p>\n<pre><code>    Model model = new Model();\n    model.setCol1(1);\n    for(String value : strArr)\n    {\n        for(String cmpVal : compareArr)\n        {\n            if(value.equalsIgnoreCase(cmpVal))\n            {\n                model.setCol2(cmpVal);\n                break;\n            }\n        }\n        myTableController.insertMyTable(model); // Insert function into MyTable\n    }\n</code></pre>\n<p><code>insertMyTable(model)</code>:</p>\n<pre><code>    public void insertMyTable(Model model){\n        try{\n            String url = &quot;jdbc:msql://localhost/TestDB&quot;;\n            Connection conn = DriverManager.getConnection(url,&quot;sa&quot;,&quot;123&quot;);\n            String sql = &quot;INSERT INTO MyTable VALUES (?, ?)&quot;\n            PreparedStatement ps = conn.prepareStatement(); \n            ps.setInt(1, model.getCol1);\n            ps.setString(2, model.getCol2);\n            ps.executeUpdate();\n            conn.close();\n        }catch(Exception ex){\n            ex.printStackTrace();\n        }\n    }\n</code></pre>\n<p>The problem is that I can only insert the first model into the db while the rest fails.</p>\n"},{"tags":["java","gradle","gradle-multi-project-build","java-test-fixtures"],"answers":[{"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652670666,"creation_date":1652670666,"answer_id":72253819,"question_id":72253787,"body_markdown":"You&#39;d have to add a third module, which then can be referenced as `testImplementation project()`.","title":"Can&#39;t get test fixtures to work in gradle","body":"<p>You'd have to add a third module, which then can be referenced as <code>testImplementation project()</code>.</p>\n"}],"owner":{"account_id":1325052,"reputation":324,"user_id":1270076,"display_name":"JuanKB1024"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":681,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652670666,"creation_date":1652670241,"question_id":72253787,"body_markdown":"I&#39;ve been using these answers to try to get a test class to be visible from subproject &quot;:A:B&quot; to &quot;:A:C&quot;:\r\n\r\n(https://discuss.gradle.org/t/gradle-test-classes-needed-in-another-sub-project/13365/2)\r\n\r\n(https://stackoverflow.com/questions/5644011/multi-project-test-dependencies-with-gradle)\r\n\r\n[using plugin](https://stackoverflow.com/questions/5644011/multi-project-test-dependencies-with-gradle/60138176#60138176)\r\n\r\nUsing any of these methods still gives me a java.lang.NoClassDefFoundError on Project B. I&#39;m using gradle 7.2.\r\n\r\nIs there another way to expose test fixtures in gradle?\r\n\r\n","title":"Can&#39;t get test fixtures to work in gradle","body":"<p>I've been using these answers to try to get a test class to be visible from subproject &quot;:A:B&quot; to &quot;:A:C&quot;:</p>\n<p>(<a href=\"https://discuss.gradle.org/t/gradle-test-classes-needed-in-another-sub-project/13365/2\" rel=\"nofollow noreferrer\">https://discuss.gradle.org/t/gradle-test-classes-needed-in-another-sub-project/13365/2</a>)</p>\n<p>(<a href=\"https://stackoverflow.com/questions/5644011/multi-project-test-dependencies-with-gradle\">Multi-project test dependencies with gradle</a>)</p>\n<p><a href=\"https://stackoverflow.com/questions/5644011/multi-project-test-dependencies-with-gradle/60138176#60138176\">using plugin</a></p>\n<p>Using any of these methods still gives me a java.lang.NoClassDefFoundError on Project B. I'm using gradle 7.2.</p>\n<p>Is there another way to expose test fixtures in gradle?</p>\n"},{"tags":["java","scala","apache-arrow"],"answers":[{"tags":[],"owner":{"account_id":1470388,"reputation":808,"user_id":1382108,"display_name":"Matthias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643485147,"creation_date":1643485147,"answer_id":70909106,"question_id":70409459,"body_markdown":"Not sure I can help, but your example code helped me a lot for my own purpose; didn&#39;t know about the ColumnarBatch before. Interesting to go back to rows and a DataFrame from there (I get an arrow buffer from somewhere).\r\n\r\nWe use something like:\r\n\r\n        while (reader.loadNextBatch()) {\r\n          reader.getRecordBlocks.asScala.map { row =&gt;\r\n            val fieldVectorItr = root.getFieldVectors.iterator()\r\n            val sparkVectors = fieldVectorItr.asScala\r\n              .map[ColumnVector] { fieldVector =&gt;\r\n                new ArrowColumnVector(fieldVector)\r\n              }\r\n              .toArray\r\n            val cBatch = new ColumnarBatch(sparkVectors, root.getRowCount)\r\n            ...\r\nStill on spark 3.1.2 and arrow 5 here. As arrow libraries in our project we have arrow-vector and arrow-memory-netty.","title":"Apache Arrow in Scala: AbstractMethodError on loadBatch","body":"<p>Not sure I can help, but your example code helped me a lot for my own purpose; didn't know about the ColumnarBatch before. Interesting to go back to rows and a DataFrame from there (I get an arrow buffer from somewhere).</p>\n<p>We use something like:</p>\n<pre><code>    while (reader.loadNextBatch()) {\n      reader.getRecordBlocks.asScala.map { row =&gt;\n        val fieldVectorItr = root.getFieldVectors.iterator()\n        val sparkVectors = fieldVectorItr.asScala\n          .map[ColumnVector] { fieldVector =&gt;\n            new ArrowColumnVector(fieldVector)\n          }\n          .toArray\n        val cBatch = new ColumnarBatch(sparkVectors, root.getRowCount)\n        ...\n</code></pre>\n<p>Still on spark 3.1.2 and arrow 5 here. As arrow libraries in our project we have arrow-vector and arrow-memory-netty.</p>\n"},{"tags":[],"owner":{"account_id":6923449,"reputation":181,"user_id":5781597,"display_name":"Nicol&#225;s Suesc&#250;n"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652670512,"creation_date":1652670512,"answer_id":72253806,"question_id":70409459,"body_markdown":"I was having the same error, then I realized that there is some issue with the spark implementation of arrow. If you remove from your sbt the calls to spark it should solve your problem. Also acording to https://arrow.apache.org/docs/java/install.html you should use arrow-memory-netty: \r\n\r\nhttps://mvnrepository.com/artifact/org.apache.arrow/arrow-memory-netty\r\n\r\nlibraryDependencies += &quot;org.apache.arrow&quot; % &quot;arrow-memory-netty&quot; % arrow_version","title":"Apache Arrow in Scala: AbstractMethodError on loadBatch","body":"<p>I was having the same error, then I realized that there is some issue with the spark implementation of arrow. If you remove from your sbt the calls to spark it should solve your problem. Also acording to <a href=\"https://arrow.apache.org/docs/java/install.html\" rel=\"nofollow noreferrer\">https://arrow.apache.org/docs/java/install.html</a> you should use arrow-memory-netty:</p>\n<p><a href=\"https://mvnrepository.com/artifact/org.apache.arrow/arrow-memory-netty\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.apache.arrow/arrow-memory-netty</a></p>\n<p>libraryDependencies += &quot;org.apache.arrow&quot; % &quot;arrow-memory-netty&quot; % arrow_version</p>\n"}],"owner":{"account_id":18863847,"reputation":59,"user_id":13760009,"display_name":"charmer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":792,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1652670512,"creation_date":1639896668,"question_id":70409459,"body_markdown":"I&#39;m trying to load Arrow file into scala. But every time I call ethier `arrowStreamReader.loadNextBatch()` nor `arrowFileReader.loadRecordBatch(arrowBlock)`, the JVM print the error below:\r\n\r\n```bash\r\nAn exception or error caused a run to abort: org.apache.arrow.memory.NettyAllocationManager$1.create(Lorg/apache/arrow/memory/BufferAllocator;J)Lorg/apache/arrow/memory/AllocationManager; \r\njava.lang.AbstractMethodError: org.apache.arrow.memory.NettyAllocationManager$1.create(Lorg/apache/arrow/memory/BufferAllocator;J)Lorg/apache/arrow/memory/AllocationManager;\r\n```\r\n\r\nI cannot find out what&#39;s going on, so need your help, thanks!\r\n\r\nHere is my repo: https://github.com/oliverdding/hpient\r\n\r\nIt&#39;s the test from src/test/scala/ArrowStreamTest.scala\r\n\r\nBelow is the test code:\r\n\r\n```scala\r\n  test(&quot;arrow from file&quot;) {\r\n    Using(getClass.getResourceAsStream(&quot;/table_engines.arrow&quot;)) {\r\n      arrowFileStream =&gt;\r\n        Using(\r\n          new SeekableInMemoryByteChannel(IOUtils.toByteArray(arrowFileStream))\r\n        ) { channel =&gt;\r\n          val seekableReadChannel = new SeekableReadChannel(channel)\r\n          Using(\r\n            new ArrowFileReader(\r\n              seekableReadChannel,\r\n              new RootAllocator(Integer.MAX_VALUE)\r\n            )\r\n          ) { arrowFileReader =&gt;\r\n            val root = arrowFileReader.getVectorSchemaRoot\r\n            println(s&quot;schema is ${root.getSchema}&quot;)\r\n\r\n            val arrowBlocks = arrowFileReader.getRecordBlocks\r\n            println(s&quot;num of arrow blocks is ${arrowBlocks.size()}&quot;)\r\n\r\n            arrowBlocks.asScala.foreach { arrowBlock =&gt;\r\n              if(!arrowFileReader.loadRecordBatch(arrowBlock)) {\r\n                throw new IOException(&quot;Expected to read record batch&quot;)\r\n              }\r\n              val fieldVectorItr = root.getFieldVectors.iterator()\r\n              val sparkVectors = fieldVectorItr.asScala\r\n                .map[ColumnVector] { fieldVector =&gt;\r\n                  println(s&quot;parsing the vector $fieldVector&quot;)\r\n                  new ArrowColumnVector(fieldVector)\r\n                }\r\n                .toArray\r\n              Using(new ColumnarBatch(sparkVectors, root.getRowCount)) {\r\n                columnarBatch =&gt;\r\n                  println(&quot;Got it ---&gt;&quot;)\r\n                  println(\r\n                    s&quot;rows: ${columnarBatch.numRows()}; cols: ${columnarBatch.numCols()}&quot;\r\n                  )\r\n              }\r\n            }\r\n          }\r\n        }\r\n    }\r\n  }\r\n```\r\n\r\nAnd my sbt file:\r\n\r\n```scala\r\nThisBuild / version := &quot;0.1.0-SNAPSHOT&quot;\r\nThisBuild / scalaVersion := &quot;2.13.7&quot;\r\nThisBuild / organization := &quot;com.github&quot;\r\n\r\nval arrowVersion = &quot;6.0.1&quot;\r\n\r\nlazy val root = (project in file(&quot;.&quot;))\r\n  .settings(\r\n    name := &quot;hpient&quot;,\r\n    idePackagePrefix := Some(&quot;com.github.oliverdding.hpient&quot;),\r\n    libraryDependencies ++= Seq(\r\n      // Apache Spark\r\n      &quot;org.apache.spark&quot; %% &quot;spark-core&quot; % &quot;3.2.0&quot;,\r\n      &quot;org.apache.spark&quot; %% &quot;spark-sql&quot; % &quot;3.2.0&quot; % &quot;provided&quot;,\r\n      // Apache Arrow\r\n      &quot;org.apache.arrow&quot; % &quot;arrow-compression&quot; % arrowVersion,\r\n      &quot;org.apache.arrow&quot; % &quot;arrow-format&quot; % arrowVersion,\r\n      &quot;org.apache.arrow&quot; % &quot;arrow-vector&quot; % arrowVersion,\r\n      &quot;org.apache.arrow&quot; % &quot;arrow-memory&quot; % arrowVersion pomOnly(),\r\n      // STTP\r\n      &quot;com.softwaremill.sttp.client3&quot; %% &quot;core&quot; % &quot;3.3.18&quot;,\r\n      // Scala Test\r\n      &quot;org.scalatest&quot; %% &quot;scalatest&quot; % &quot;3.2.10&quot; % Test\r\n    )\r\n  )\r\n```","title":"Apache Arrow in Scala: AbstractMethodError on loadBatch","body":"<p>I'm trying to load Arrow file into scala. But every time I call ethier <code>arrowStreamReader.loadNextBatch()</code> nor <code>arrowFileReader.loadRecordBatch(arrowBlock)</code>, the JVM print the error below:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>An exception or error caused a run to abort: org.apache.arrow.memory.NettyAllocationManager$1.create(Lorg/apache/arrow/memory/BufferAllocator;J)Lorg/apache/arrow/memory/AllocationManager; \njava.lang.AbstractMethodError: org.apache.arrow.memory.NettyAllocationManager$1.create(Lorg/apache/arrow/memory/BufferAllocator;J)Lorg/apache/arrow/memory/AllocationManager;\n</code></pre>\n<p>I cannot find out what's going on, so need your help, thanks!</p>\n<p>Here is my repo: <a href=\"https://github.com/oliverdding/hpient\" rel=\"nofollow noreferrer\">https://github.com/oliverdding/hpient</a></p>\n<p>It's the test from src/test/scala/ArrowStreamTest.scala</p>\n<p>Below is the test code:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>  test(&quot;arrow from file&quot;) {\n    Using(getClass.getResourceAsStream(&quot;/table_engines.arrow&quot;)) {\n      arrowFileStream =&gt;\n        Using(\n          new SeekableInMemoryByteChannel(IOUtils.toByteArray(arrowFileStream))\n        ) { channel =&gt;\n          val seekableReadChannel = new SeekableReadChannel(channel)\n          Using(\n            new ArrowFileReader(\n              seekableReadChannel,\n              new RootAllocator(Integer.MAX_VALUE)\n            )\n          ) { arrowFileReader =&gt;\n            val root = arrowFileReader.getVectorSchemaRoot\n            println(s&quot;schema is ${root.getSchema}&quot;)\n\n            val arrowBlocks = arrowFileReader.getRecordBlocks\n            println(s&quot;num of arrow blocks is ${arrowBlocks.size()}&quot;)\n\n            arrowBlocks.asScala.foreach { arrowBlock =&gt;\n              if(!arrowFileReader.loadRecordBatch(arrowBlock)) {\n                throw new IOException(&quot;Expected to read record batch&quot;)\n              }\n              val fieldVectorItr = root.getFieldVectors.iterator()\n              val sparkVectors = fieldVectorItr.asScala\n                .map[ColumnVector] { fieldVector =&gt;\n                  println(s&quot;parsing the vector $fieldVector&quot;)\n                  new ArrowColumnVector(fieldVector)\n                }\n                .toArray\n              Using(new ColumnarBatch(sparkVectors, root.getRowCount)) {\n                columnarBatch =&gt;\n                  println(&quot;Got it ---&gt;&quot;)\n                  println(\n                    s&quot;rows: ${columnarBatch.numRows()}; cols: ${columnarBatch.numCols()}&quot;\n                  )\n              }\n            }\n          }\n        }\n    }\n  }\n</code></pre>\n<p>And my sbt file:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>ThisBuild / version := &quot;0.1.0-SNAPSHOT&quot;\nThisBuild / scalaVersion := &quot;2.13.7&quot;\nThisBuild / organization := &quot;com.github&quot;\n\nval arrowVersion = &quot;6.0.1&quot;\n\nlazy val root = (project in file(&quot;.&quot;))\n  .settings(\n    name := &quot;hpient&quot;,\n    idePackagePrefix := Some(&quot;com.github.oliverdding.hpient&quot;),\n    libraryDependencies ++= Seq(\n      // Apache Spark\n      &quot;org.apache.spark&quot; %% &quot;spark-core&quot; % &quot;3.2.0&quot;,\n      &quot;org.apache.spark&quot; %% &quot;spark-sql&quot; % &quot;3.2.0&quot; % &quot;provided&quot;,\n      // Apache Arrow\n      &quot;org.apache.arrow&quot; % &quot;arrow-compression&quot; % arrowVersion,\n      &quot;org.apache.arrow&quot; % &quot;arrow-format&quot; % arrowVersion,\n      &quot;org.apache.arrow&quot; % &quot;arrow-vector&quot; % arrowVersion,\n      &quot;org.apache.arrow&quot; % &quot;arrow-memory&quot; % arrowVersion pomOnly(),\n      // STTP\n      &quot;com.softwaremill.sttp.client3&quot; %% &quot;core&quot; % &quot;3.3.18&quot;,\n      // Scala Test\n      &quot;org.scalatest&quot; %% &quot;scalatest&quot; % &quot;3.2.10&quot; % Test\n    )\n  )\n</code></pre>\n"},{"tags":["java","spring","multithreading","grails","memory-leaks"],"comments":[{"owner":{"account_id":5289696,"reputation":1172,"user_id":4222629,"display_name":"sagarr"},"score":0,"creation_date":1486369020,"post_id":42063002,"comment_id":71297790,"body_markdown":"There is similar question asked on SO, try googling the error message","body":"There is similar question asked on SO, try googling the error message"},{"owner":{"account_id":7505,"reputation":7034,"user_id":13075,"accept_rate":83,"display_name":"Henrik Aasted S&#248;rensen"},"score":1,"creation_date":1486369415,"post_id":42063002,"comment_id":71297958,"body_markdown":"http://stackoverflow.com/q/9992526/13075 ?","body":"<a href=\"http://stackoverflow.com/q/9992526/13075\">stackoverflow.com/q/9992526/13075</a> ?"},{"owner":{"display_name":"user2809386"},"score":0,"creation_date":1486369426,"post_id":42063002,"comment_id":71297964,"body_markdown":"@SagarRohankar i tried to read other article &amp; question, like this http://stackoverflow.com/questions/28105803/tomcat8-memory-leak#answer-28106807 ... he said &quot;There is nothing to worry about&quot;, but sometimes my tomcat suddenly shutdown.","body":"@SagarRohankar i tried to read other article &amp; question, like this <a href=\"http://stackoverflow.com/questions/28105803/tomcat8-memory-leak#answer-28106807\" title=\"tomcat8 memory leak%23answer 28106807\">stackoverflow.com/questions/28105803/&hellip;</a> ... he said &quot;There is nothing to worry about&quot;, but sometimes my tomcat suddenly shutdown."},{"owner":{"account_id":341185,"reputation":16364,"user_id":671639,"accept_rate":69,"display_name":"BetaRide"},"score":2,"creation_date":1487056355,"post_id":42063002,"comment_id":71600239,"body_markdown":"Possible duplicate of [Memory leak when redeploying application in Tomcat](http://stackoverflow.com/questions/7788280/memory-leak-when-redeploying-application-in-tomcat)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/7788280/memory-leak-when-redeploying-application-in-tomcat\">Memory leak when redeploying application in Tomcat</a>"}],"answers":[{"tags":[],"owner":{"account_id":7817895,"reputation":11,"user_id":5911930,"display_name":"Paran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1579604682,"creation_date":1579604682,"answer_id":59839749,"question_id":42063002,"body_markdown":"I have already faced the same problem, also got solution from [Here][1]. This problem occurred in the Application server. However, application server also communicated with memcached server. After observation, got memcached server memory was full. After restart memcached then everything is fine.\r\n\r\nIf you are using Redis, also can check.\r\n\r\n\r\n  [1]: https://github.com/redisson/redisson/issues/599","title":"Threads are going to be renewed over time to try and avoid a probable memory leak","body":"<p>I have already faced the same problem, also got solution from <a href=\"https://github.com/redisson/redisson/issues/599\" rel=\"nofollow noreferrer\">Here</a>. This problem occurred in the Application server. However, application server also communicated with memcached server. After observation, got memcached server memory was full. After restart memcached then everything is fine.</p>\n\n<p>If you are using Redis, also can check.</p>\n"}],"owner":{"display_name":"user2809386"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19172,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"answer_count":1,"score":6,"last_activity_date":1652670375,"creation_date":1486368556,"question_id":42063002,"body_markdown":"I try to deploy my war file.\r\n\r\nBut after success deployment.\r\n\r\nI get this log:\r\n\r\n    [root@dfdfdf bin]# export JAVA_HOME=&quot;/usr/java/jdk1.8.0_112/&quot;\r\n    [root@dfdfdfdbin]# ./startup.sh\r\n    Using CATALINA_BASE:   /root/apache-tomcat-8.5.8\r\n    Using CATALINA_HOME:   /root/apache-tomcat-8.5.8\r\n    Using CATALINA_TMPDIR: /root/apache-tomcat-8.5.8/temp\r\n    Using JRE_HOME:        /usr/java/jdk1.8.0_112/\r\n    Using CLASSPATH:       /root/apache-tomcat-8.5.8/bin/bootstrap.jar:/root/apache-tomcat-8.5.8/bin/tomcat-juli.jar\r\n    Tomcat started.\r\n    [root@satubangau bin]# tail -f ../logs/catalina.out\r\n    06-Feb-2017 07:21:27.881 SEVERE [localhost-startStop-2] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [ROOT] created a ThreadLocal with key of type [org.springframework.core.NamedThreadLocal] (value [Request attributes]) and a value of type [org.grails.web.servlet.mvc.GrailsWebRequest] (value [ServletWebRequest: uri=/error]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\r\n    06-Feb-2017 07:21:27.986 INFO [Thread-17] org.apache.coyote.AbstractProtocol.stop Stopping ProtocolHandler [&quot;http-nio-80&quot;]\r\n    06-Feb-2017 07:21:27.988 INFO [Thread-17] org.apache.coyote.AbstractProtocol.stop Stopping ProtocolHandler [&quot;https-jsse-nio-443&quot;]\r\n    06-Feb-2017 07:21:27.994 INFO [Thread-17] org.apache.coyote.AbstractProtocol.stop Stopping ProtocolHandler [&quot;ajp-nio-8009&quot;]\r\n    06-Feb-2017 07:21:27.995 INFO [Thread-17] org.apache.coyote.AbstractProtocol.destroy Destroying ProtocolHandler [&quot;http-nio-80&quot;]\r\n    06-Feb-2017 07:21:27.996 INFO [Thread-17] org.apache.coyote.AbstractProtocol.destroy Destroying ProtocolHandler [&quot;https-jsse-nio-443&quot;]\r\n    06-Feb-2017 07:21:27.997 INFO [Thread-17] org.apache.coyote.AbstractProtocol.destroy Destroying ProtocolHandler [&quot;ajp-nio-8009&quot;]\r\n    /root/apache-tomcat-8.5.8/bin/catalina.sh: line 434: /usr/java/jdk1.8.0_111/bin/java: No such file or directory\r\n    Java HotSpot(TM) 64-Bit Server VM warning: ignoring option PermSize=256m; support was removed in 8.0\r\n    Java HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=256m; support was removed in 8.0\r\n    06-Feb-2017 07:54:26.688 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version:        Apache Tomcat/8.5.8\r\n    06-Feb-2017 07:54:26.691 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server built:          Nov 3 2016 21:14:13 UTC\r\n    06-Feb-2017 07:54:26.692 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server number:         8.5.8.0\r\n    06-Feb-2017 07:54:26.692 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Name:               Linux\r\n    06-Feb-2017 07:54:26.694 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Version:            4.0.4-042stab120.16\r\n    06-Feb-2017 07:54:26.694 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Architecture:          amd64\r\n    06-Feb-2017 07:54:26.694 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Java Home:             /usr/java/jdk1.8.0_112/jre\r\n    06-Feb-2017 07:54:26.695 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Version:           1.8.0_112-b15\r\n    06-Feb-2017 07:54:26.695 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Vendor:            Oracle Corporation\r\n    06-Feb-2017 07:54:26.695 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_BASE:         /root/apache-tomcat-8.5.8\r\n    06-Feb-2017 07:54:26.696 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_HOME:         /root/apache-tomcat-8.5.8\r\n    06-Feb-2017 07:54:26.697 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.config.file=/root/apache-tomcat-8.5.8/conf/logging.properties\r\n    06-Feb-2017 07:54:26.697 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager\r\n    06-Feb-2017 07:54:26.698 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djdk.tls.ephemeralDHKeySize=2048\r\n    06-Feb-2017 07:54:26.699 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.protocol.handler.pkgs=org.apache.catalina.webresources\r\n    06-Feb-2017 07:54:26.700 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Xms256m\r\n    06-Feb-2017 07:54:26.700 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Xmx512M\r\n    06-Feb-2017 07:54:26.700 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -XX:PermSize=256m\r\n    06-Feb-2017 07:54:26.701 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -XX:MaxPermSize=256m\r\n    06-Feb-2017 07:54:26.701 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -XX:-UseGCOverheadLimit\r\n    06-Feb-2017 07:54:26.703 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -XX:-PrintGCDetails\r\n    06-Feb-2017 07:54:26.703 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.awt.headless=true\r\n    06-Feb-2017 07:54:26.703 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dfile.encoding=UTF-8\r\n    06-Feb-2017 07:54:26.703 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.base=/root/apache-tomcat-8.5.8\r\n    06-Feb-2017 07:54:26.777 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.home=/root/apache-tomcat-8.5.8\r\n    06-Feb-2017 07:54:26.777 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.io.tmpdir=/root/apache-tomcat-8.5.8/temp\r\n    06-Feb-2017 07:54:26.777 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: /usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib\r\n    06-Feb-2017 07:54:27.777 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;http-nio-80&quot;]\r\n    06-Feb-2017 07:54:27.882 INFO [main] org.apache.tomcat.util.net.NioSelectorPool.getSharedSelector Using a shared selector for servlet write/read\r\n    06-Feb-2017 07:54:27.887 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;https-jsse-nio-443&quot;]\r\n    06-Feb-2017 07:54:29.784 INFO [main] org.apache.tomcat.util.net.NioSelectorPool.getSharedSelector Using a shared selector for servlet write/read\r\n    06-Feb-2017 07:54:29.790 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;ajp-nio-8009&quot;]\r\n    06-Feb-2017 07:54:29.792 INFO [main] org.apache.tomcat.util.net.NioSelectorPool.getSharedSelector Using a shared selector for servlet write/read\r\n    06-Feb-2017 07:54:29.795 INFO [main] org.apache.catalina.startup.Catalina.load Initialization processed in 6017 ms\r\n    06-Feb-2017 07:54:29.986 INFO [main] org.apache.catalina.core.StandardService.startInternal Starting service Catalina\r\n    06-Feb-2017 07:54:29.987 INFO [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet Engine: Apache Tomcat/8.5.8\r\n    06-Feb-2017 07:54:30.098 INFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployWAR Deploying web application archive /root/apache-tomcat-8.5.8/webapps/ROOT.war\r\n    06-Feb-2017 07:55:07.702 INFO [localhost-startStop-1] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n    \r\n    Configuring Spring Security Core ...\r\n    ... finished configuring Spring Security Core\r\n\r\nsee this line\r\n\r\n`06-Feb-2017 07:21:27.881 SEVERE [localhost-startStop-2] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [ROOT] created a ThreadLocal with key of type [org.springframework.core.NamedThreadLocal] (value [Request attributes]) and a value of type [org.grails.web.servlet.mvc.GrailsWebRequest] (value [ServletWebRequest: uri=/error]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.`\r\n\r\n\r\nI don&#39;t know why I get this log, but I am using grails 3.1.1 .\r\n\r\nI wonder, this message is talking about my `Application` or `server`&#39;s condition.","title":"Threads are going to be renewed over time to try and avoid a probable memory leak","body":"<p>I try to deploy my war file.</p>\n\n<p>But after success deployment.</p>\n\n<p>I get this log:</p>\n\n<pre><code>[root@dfdfdf bin]# export JAVA_HOME=\"/usr/java/jdk1.8.0_112/\"\n[root@dfdfdfdbin]# ./startup.sh\nUsing CATALINA_BASE:   /root/apache-tomcat-8.5.8\nUsing CATALINA_HOME:   /root/apache-tomcat-8.5.8\nUsing CATALINA_TMPDIR: /root/apache-tomcat-8.5.8/temp\nUsing JRE_HOME:        /usr/java/jdk1.8.0_112/\nUsing CLASSPATH:       /root/apache-tomcat-8.5.8/bin/bootstrap.jar:/root/apache-tomcat-8.5.8/bin/tomcat-juli.jar\nTomcat started.\n[root@satubangau bin]# tail -f ../logs/catalina.out\n06-Feb-2017 07:21:27.881 SEVERE [localhost-startStop-2] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [ROOT] created a ThreadLocal with key of type [org.springframework.core.NamedThreadLocal] (value [Request attributes]) and a value of type [org.grails.web.servlet.mvc.GrailsWebRequest] (value [ServletWebRequest: uri=/error]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.\n06-Feb-2017 07:21:27.986 INFO [Thread-17] org.apache.coyote.AbstractProtocol.stop Stopping ProtocolHandler [\"http-nio-80\"]\n06-Feb-2017 07:21:27.988 INFO [Thread-17] org.apache.coyote.AbstractProtocol.stop Stopping ProtocolHandler [\"https-jsse-nio-443\"]\n06-Feb-2017 07:21:27.994 INFO [Thread-17] org.apache.coyote.AbstractProtocol.stop Stopping ProtocolHandler [\"ajp-nio-8009\"]\n06-Feb-2017 07:21:27.995 INFO [Thread-17] org.apache.coyote.AbstractProtocol.destroy Destroying ProtocolHandler [\"http-nio-80\"]\n06-Feb-2017 07:21:27.996 INFO [Thread-17] org.apache.coyote.AbstractProtocol.destroy Destroying ProtocolHandler [\"https-jsse-nio-443\"]\n06-Feb-2017 07:21:27.997 INFO [Thread-17] org.apache.coyote.AbstractProtocol.destroy Destroying ProtocolHandler [\"ajp-nio-8009\"]\n/root/apache-tomcat-8.5.8/bin/catalina.sh: line 434: /usr/java/jdk1.8.0_111/bin/java: No such file or directory\nJava HotSpot(TM) 64-Bit Server VM warning: ignoring option PermSize=256m; support was removed in 8.0\nJava HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=256m; support was removed in 8.0\n06-Feb-2017 07:54:26.688 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version:        Apache Tomcat/8.5.8\n06-Feb-2017 07:54:26.691 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server built:          Nov 3 2016 21:14:13 UTC\n06-Feb-2017 07:54:26.692 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server number:         8.5.8.0\n06-Feb-2017 07:54:26.692 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Name:               Linux\n06-Feb-2017 07:54:26.694 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Version:            4.0.4-042stab120.16\n06-Feb-2017 07:54:26.694 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Architecture:          amd64\n06-Feb-2017 07:54:26.694 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Java Home:             /usr/java/jdk1.8.0_112/jre\n06-Feb-2017 07:54:26.695 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Version:           1.8.0_112-b15\n06-Feb-2017 07:54:26.695 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Vendor:            Oracle Corporation\n06-Feb-2017 07:54:26.695 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_BASE:         /root/apache-tomcat-8.5.8\n06-Feb-2017 07:54:26.696 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_HOME:         /root/apache-tomcat-8.5.8\n06-Feb-2017 07:54:26.697 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.config.file=/root/apache-tomcat-8.5.8/conf/logging.properties\n06-Feb-2017 07:54:26.697 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager\n06-Feb-2017 07:54:26.698 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djdk.tls.ephemeralDHKeySize=2048\n06-Feb-2017 07:54:26.699 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.protocol.handler.pkgs=org.apache.catalina.webresources\n06-Feb-2017 07:54:26.700 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Xms256m\n06-Feb-2017 07:54:26.700 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Xmx512M\n06-Feb-2017 07:54:26.700 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -XX:PermSize=256m\n06-Feb-2017 07:54:26.701 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -XX:MaxPermSize=256m\n06-Feb-2017 07:54:26.701 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -XX:-UseGCOverheadLimit\n06-Feb-2017 07:54:26.703 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -XX:-PrintGCDetails\n06-Feb-2017 07:54:26.703 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.awt.headless=true\n06-Feb-2017 07:54:26.703 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dfile.encoding=UTF-8\n06-Feb-2017 07:54:26.703 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.base=/root/apache-tomcat-8.5.8\n06-Feb-2017 07:54:26.777 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.home=/root/apache-tomcat-8.5.8\n06-Feb-2017 07:54:26.777 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.io.tmpdir=/root/apache-tomcat-8.5.8/temp\n06-Feb-2017 07:54:26.777 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: /usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib\n06-Feb-2017 07:54:27.777 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [\"http-nio-80\"]\n06-Feb-2017 07:54:27.882 INFO [main] org.apache.tomcat.util.net.NioSelectorPool.getSharedSelector Using a shared selector for servlet write/read\n06-Feb-2017 07:54:27.887 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [\"https-jsse-nio-443\"]\n06-Feb-2017 07:54:29.784 INFO [main] org.apache.tomcat.util.net.NioSelectorPool.getSharedSelector Using a shared selector for servlet write/read\n06-Feb-2017 07:54:29.790 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [\"ajp-nio-8009\"]\n06-Feb-2017 07:54:29.792 INFO [main] org.apache.tomcat.util.net.NioSelectorPool.getSharedSelector Using a shared selector for servlet write/read\n06-Feb-2017 07:54:29.795 INFO [main] org.apache.catalina.startup.Catalina.load Initialization processed in 6017 ms\n06-Feb-2017 07:54:29.986 INFO [main] org.apache.catalina.core.StandardService.startInternal Starting service Catalina\n06-Feb-2017 07:54:29.987 INFO [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet Engine: Apache Tomcat/8.5.8\n06-Feb-2017 07:54:30.098 INFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployWAR Deploying web application archive /root/apache-tomcat-8.5.8/webapps/ROOT.war\n06-Feb-2017 07:55:07.702 INFO [localhost-startStop-1] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\n\nConfiguring Spring Security Core ...\n... finished configuring Spring Security Core\n</code></pre>\n\n<p>see this line</p>\n\n<p><code>06-Feb-2017 07:21:27.881 SEVERE [localhost-startStop-2] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [ROOT] created a ThreadLocal with key of type [org.springframework.core.NamedThreadLocal] (value [Request attributes]) and a value of type [org.grails.web.servlet.mvc.GrailsWebRequest] (value [ServletWebRequest: uri=/error]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak.</code></p>\n\n<p>I don't know why I get this log, but I am using grails 3.1.1 .</p>\n\n<p>I wonder, this message is talking about my <code>Application</code> or <code>server</code>'s condition.</p>\n"},{"tags":["java","visual-studio","visual-studio-code","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1652656691,"post_id":72251346,"comment_id":127652419,"body_markdown":"What is `RecursiveGUI`?  That could be your problem. The very name seems suspicious that it could hang the JavaFX thread if coded incorrectly?","body":"What is <code>RecursiveGUI</code>?  That could be your problem. The very name seems suspicious that it could hang the JavaFX thread if coded incorrectly?"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1652656792,"post_id":72251346,"comment_id":127652432,"body_markdown":"Please provide a [mcve] and full text of all errors and the execution command, formatted as code.","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and full text of all errors and the execution command, formatted as code."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1652656869,"post_id":72251346,"comment_id":127652438,"body_markdown":"Execution instructions for JavaFX apps in vscode are in the getting started instructions at openjfx.io.","body":"Execution instructions for JavaFX apps in vscode are in the getting started instructions at openjfx.io."}],"answers":[{"tags":[],"owner":{"account_id":24435058,"reputation":6292,"user_id":18359438,"display_name":"MingJie-MSFT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652670330,"creation_date":1652670330,"answer_id":72253794,"question_id":72251346,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI suggest you create a JavaFX project. You can refer to the [document][3] for more details.\r\n\r\nAnd make sure you read the [introduction][4] to JavaFX.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GFmo9.png\r\n  [2]: https://i.stack.imgur.com/unqEI.png\r\n  [3]: https://code.visualstudio.com/docs/java/java-gui\r\n  [4]: https://openjfx.io/openjfx-docs/","title":"Javafx &amp; running in Vs code","body":"<p><a href=\"https://i.stack.imgur.com/GFmo9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GFmo9.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/unqEI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/unqEI.png\" alt=\"enter image description here\" /></a></p>\n<p>I suggest you create a JavaFX project. You can refer to the <a href=\"https://code.visualstudio.com/docs/java/java-gui\" rel=\"nofollow noreferrer\">document</a> for more details.</p>\n<p>And make sure you read the <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">introduction</a> to JavaFX.</p>\n"}],"owner":{"account_id":23351241,"reputation":19,"user_id":17424769,"display_name":"Ali Afshar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":546,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652670330,"creation_date":1652641117,"question_id":72251346,"body_markdown":"I just installed javafx and used its jar libraries in my reference libraries of my projects. I have trouble running my javafx programs even simple ones. for example :\r\n\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.layout.Pane;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.stage.Stage;\r\nimport javafx.stage.StageStyle;\r\n\r\npublic class JavaFxApplication extends Application {\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n\r\n    public void start(Stage stage) throws Exception {\r\n        Pane root = new Pane();\r\n        root.setStyle(&quot;-fx-border-width: 0 0 5 0; -fx-border-style: dotted;&quot;);\r\n        Scene scene = new Scene(root, 1000, 800, Color.RED);\r\n\r\n        //TODO your code goes here\r\n        // try to separate logic from GUI\r\n\r\n        RecursiveGUI recursiveGUI = new RecursiveGUI();\r\n        // Setting stage properties\r\n        stage.initStyle(StageStyle.UTILITY);\r\n        stage.setTitle(&quot;Recursion in JavaFX!&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n}\r\n```\r\nit&#39;s my JavaFxApplication and I also wrote its launch.json like this :\r\n\r\n```\r\n{\r\n    // Use IntelliSense to learn about possible attributes.\r\n    // Hover to view descriptions of existing attributes.\r\n    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387\r\n    &quot;version&quot;: &quot;0.2.0&quot;,\r\n    &quot;configurations&quot;: [\r\n        {\r\n            &quot;type&quot;: &quot;java&quot;,\r\n            &quot;name&quot;: &quot;Launch Current File&quot;,\r\n            &quot;request&quot;: &quot;launch&quot;,\r\n            &quot;mainClass&quot;: &quot;${file}&quot;\r\n        },\r\n        {\r\n            &quot;type&quot;: &quot;java&quot;,\r\n            &quot;name&quot;: &quot;Launch JavaFxApplication&quot;,\r\n            &quot;request&quot;: &quot;launch&quot;,\r\n            &quot;mainClass&quot;: &quot;ir.ac.kntu.JavaFxApplication&quot;,\r\n            &quot;projectName&quot;: &quot;tahw11-recursion-gui-starter&quot;,\r\n            &quot;vmArgs&quot;: &quot; --module-path D:/javafx-sdk-18.0.1/lib --add-modules=javafx.controls,javafx.fxml&quot;\r\n        }\r\n    ]\r\n}\r\n```\r\nand correctly referenced my javafx/lib folder.\r\nI have no idea what the problem is, it looks like sth lacks because when I run this, nothing happens and program looks like it&#39;s waiting.\r\nI know this is not an exact problem but I&#39;d appreciate any help to know any case that may cause such a problem and all the possible cases that should be noticed. thank you!\r\nAlso it&#39;s good to know this happens when I run &amp; Debug, but when I run without debug it gives me can not find symbol error and says that imported libs doesn&#39;t exist!","title":"Javafx &amp; running in Vs code","body":"<p>I just installed javafx and used its jar libraries in my reference libraries of my projects. I have trouble running my javafx programs even simple ones. for example :</p>\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.paint.Color;\nimport javafx.stage.Stage;\nimport javafx.stage.StageStyle;\n\npublic class JavaFxApplication extends Application {\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    public void start(Stage stage) throws Exception {\n        Pane root = new Pane();\n        root.setStyle(&quot;-fx-border-width: 0 0 5 0; -fx-border-style: dotted;&quot;);\n        Scene scene = new Scene(root, 1000, 800, Color.RED);\n\n        //TODO your code goes here\n        // try to separate logic from GUI\n\n        RecursiveGUI recursiveGUI = new RecursiveGUI();\n        // Setting stage properties\n        stage.initStyle(StageStyle.UTILITY);\n        stage.setTitle(&quot;Recursion in JavaFX!&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n}\n</code></pre>\n<p>it's my JavaFxApplication and I also wrote its launch.json like this :</p>\n<pre><code>{\n    // Use IntelliSense to learn about possible attributes.\n    // Hover to view descriptions of existing attributes.\n    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387\n    &quot;version&quot;: &quot;0.2.0&quot;,\n    &quot;configurations&quot;: [\n        {\n            &quot;type&quot;: &quot;java&quot;,\n            &quot;name&quot;: &quot;Launch Current File&quot;,\n            &quot;request&quot;: &quot;launch&quot;,\n            &quot;mainClass&quot;: &quot;${file}&quot;\n        },\n        {\n            &quot;type&quot;: &quot;java&quot;,\n            &quot;name&quot;: &quot;Launch JavaFxApplication&quot;,\n            &quot;request&quot;: &quot;launch&quot;,\n            &quot;mainClass&quot;: &quot;ir.ac.kntu.JavaFxApplication&quot;,\n            &quot;projectName&quot;: &quot;tahw11-recursion-gui-starter&quot;,\n            &quot;vmArgs&quot;: &quot; --module-path D:/javafx-sdk-18.0.1/lib --add-modules=javafx.controls,javafx.fxml&quot;\n        }\n    ]\n}\n</code></pre>\n<p>and correctly referenced my javafx/lib folder.\nI have no idea what the problem is, it looks like sth lacks because when I run this, nothing happens and program looks like it's waiting.\nI know this is not an exact problem but I'd appreciate any help to know any case that may cause such a problem and all the possible cases that should be noticed. thank you!\nAlso it's good to know this happens when I run &amp; Debug, but when I run without debug it gives me can not find symbol error and says that imported libs doesn't exist!</p>\n"},{"tags":["java","telegram-bot"],"answers":[{"tags":[],"owner":{"account_id":9944075,"reputation":11,"user_id":7359563,"display_name":"pongy20"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652371620,"creation_date":1652371620,"answer_id":72218871,"question_id":72218604,"body_markdown":"I suggest you to do an event based architecture. You can create a abstract class Method including a method which will be called if the method as itself gets called. \r\nAfter you did this, register all methods you need (eq. Convert, Celsius ...) and execute the code you want to. \r\nThis will reduce the amount of code you need and makes your application much more expandable.","title":"Java Telegram Bot to Convert Celsius to Fahrenheit?","body":"<p>I suggest you to do an event based architecture. You can create a abstract class Method including a method which will be called if the method as itself gets called.\nAfter you did this, register all methods you need (eq. Convert, Celsius ...) and execute the code you want to.\nThis will reduce the amount of code you need and makes your application much more expandable.</p>\n"},{"tags":[],"owner":{"account_id":3200690,"reputation":8836,"user_id":2702781,"accept_rate":89,"display_name":"Nyavro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652669897,"creation_date":1652669897,"answer_id":72253767,"question_id":72218604,"body_markdown":"Once you get both commands `Convert` and `Celcius` you obviously end up in `example == false` state:\r\n\r\n        if (command.contains(&quot;Convert&quot;)) {\r\n            example = true;\r\n            ...\r\n        }\r\n\r\n        if (example == true &amp;&amp; command.contains(&quot;Celsius&quot;)) {\r\n            example = false;\r\n            ...\r\n        } \r\n\r\nThe problem here is not only in incomplete state - it is not possible to hold the state in boolean, you need a data type holding at least 3 states: requesting &quot;convert&quot;, requesting &quot;celcius/fahhrenheit&quot;, requesting value.\r\n\r\nAnother problem here is that you have to map current state to current user - your bot will respond with irrelevant messages if two or more users will use your bot in the same time","title":"Java Telegram Bot to Convert Celsius to Fahrenheit?","body":"<p>Once you get both commands <code>Convert</code> and <code>Celcius</code> you obviously end up in <code>example == false</code> state:</p>\n<pre><code>    if (command.contains(&quot;Convert&quot;)) {\n        example = true;\n        ...\n    }\n\n    if (example == true &amp;&amp; command.contains(&quot;Celsius&quot;)) {\n        example = false;\n        ...\n    } \n</code></pre>\n<p>The problem here is not only in incomplete state - it is not possible to hold the state in boolean, you need a data type holding at least 3 states: requesting &quot;convert&quot;, requesting &quot;celcius/fahhrenheit&quot;, requesting value.</p>\n<p>Another problem here is that you have to map current state to current user - your bot will respond with irrelevant messages if two or more users will use your bot in the same time</p>\n"}],"owner":{"account_id":18627348,"reputation":198,"user_id":13576164,"display_name":"spal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1652669897,"creation_date":1652370454,"question_id":72218604,"body_markdown":"I am trying to have a Telegram Bot respond to a user&#39;s input and convert C to F (and vice versa). At the simplest level this is a breakdown of what I would like to achieve: \r\n\r\n1. User says &quot;Convert&quot;\r\n2. Bot says &quot;What would you like to convert?&quot;\r\n3. User says either &quot;Celsius&quot; or &quot;Fahrenheit&quot;\r\n4. If &quot;Celsius&quot;, the bot responds, &quot;Please enter value to convert.&quot;\r\n\r\nI have tried an approach using a boolean that toggles from &#39;false&#39; to &#39;true&#39; whenever a command of interest was captured (in this case &#39;Convert&#39;). Once the bot responds, it toggles back to &#39;false&#39;. This is pretty limiting however and I&#39;m not sure is accurate all:\r\n\r\n    public class Bot extends TelegramLongPollingBot {\r\n    \r\n    \tprivate static Boolean example = false;\r\n    \r\n    \tpublic void onUpdateReceived(Update update) {\r\n    \r\n    \t\tSystem.out.println(update.getMessage().getText());\r\n    \t\tString command = update.getMessage().getText();\r\n    \t\tSendMessage message = new SendMessage();\r\n    \r\n    \t\t// Conversation example\r\n    \r\n    \t\tif (command.contains(&quot;Convert&quot;)) {\r\n    \t\t\texample = true;\r\n    \t\t\tString ask = &quot;What would you like to convert?&quot;;\r\n    \t\t\tmessage.setText(String.valueOf(ask));\r\n    \t\t}\r\n    \r\n    \t\tif (example == true &amp;&amp; command.contains(&quot;Celsius&quot;)) {\r\n    \t\t\texample = false;\r\n    \t\t\tString answer = &quot;Please enter value to convert.&quot;;\r\n    \t\t\tmessage.setText(String.valueOf(answer));\r\n            }\r\n    }\r\n\r\nThis is where I am stuck... I am not sure if this method is efficient, and also I am not sure how to capture a Double entered by the user and perform a calculation with it. ","title":"Java Telegram Bot to Convert Celsius to Fahrenheit?","body":"<p>I am trying to have a Telegram Bot respond to a user's input and convert C to F (and vice versa). At the simplest level this is a breakdown of what I would like to achieve:</p>\n<ol>\n<li>User says &quot;Convert&quot;</li>\n<li>Bot says &quot;What would you like to convert?&quot;</li>\n<li>User says either &quot;Celsius&quot; or &quot;Fahrenheit&quot;</li>\n<li>If &quot;Celsius&quot;, the bot responds, &quot;Please enter value to convert.&quot;</li>\n</ol>\n<p>I have tried an approach using a boolean that toggles from 'false' to 'true' whenever a command of interest was captured (in this case 'Convert'). Once the bot responds, it toggles back to 'false'. This is pretty limiting however and I'm not sure is accurate all:</p>\n<pre><code>public class Bot extends TelegramLongPollingBot {\n\n    private static Boolean example = false;\n\n    public void onUpdateReceived(Update update) {\n\n        System.out.println(update.getMessage().getText());\n        String command = update.getMessage().getText();\n        SendMessage message = new SendMessage();\n\n        // Conversation example\n\n        if (command.contains(&quot;Convert&quot;)) {\n            example = true;\n            String ask = &quot;What would you like to convert?&quot;;\n            message.setText(String.valueOf(ask));\n        }\n\n        if (example == true &amp;&amp; command.contains(&quot;Celsius&quot;)) {\n            example = false;\n            String answer = &quot;Please enter value to convert.&quot;;\n            message.setText(String.valueOf(answer));\n        }\n}\n</code></pre>\n<p>This is where I am stuck... I am not sure if this method is efficient, and also I am not sure how to capture a Double entered by the user and perform a calculation with it.</p>\n"},{"tags":["java","spring-boot","hibernate","postman"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1652529988,"post_id":72239811,"comment_id":127631122,"body_markdown":"Please don&#39;t use screenshots of textual data. Include the code and exception stacktraces as code-formatted text in your question. Also, using all capitals is the internet equivalent of shouting, which is pretty rude to do to people you want to ask for help.","body":"Please don&#39;t use screenshots of textual data. Include the code and exception stacktraces as code-formatted text in your question. Also, using all capitals is the internet equivalent of shouting, which is pretty rude to do to people you want to ask for help."}],"answers":[{"tags":[],"owner":{"account_id":25235500,"reputation":181,"user_id":19115786,"display_name":"Roman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652658200,"creation_date":1652533148,"answer_id":72240433,"question_id":72239811,"body_markdown":"Your Controller path in the image is `subscription/{id}` and you&#39;re trying to request `user/{id}`. As far as I understand, you&#39;re requesting the wrong URL.\r\n\r\n\r\nBy the way, when you&#39;re performing multiple interactions with the Database, use `@Transactional` annotation.","title":"Update foreign key in Spring Boot with a POST request","body":"<p>Your Controller path in the image is <code>subscription/{id}</code> and you're trying to request <code>user/{id}</code>. As far as I understand, you're requesting the wrong URL.</p>\n<p>By the way, when you're performing multiple interactions with the Database, use <code>@Transactional</code> annotation.</p>\n"},{"tags":[],"owner":{"account_id":25234421,"reputation":49,"user_id":19069159,"display_name":"SpicySandwich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652669860,"creation_date":1652669579,"answer_id":72253747,"question_id":72239811,"body_markdown":"When i read your code, what you trying to is getting the data from client Entity then save toSubscription Entity if Exist using PUT as update . How about make validation of Client for Post mapping if meet the requirement then save it also to Subscription. ","title":"Update foreign key in Spring Boot with a POST request","body":"<p>When i read your code, what you trying to is getting the data from client Entity then save toSubscription Entity if Exist using PUT as update . How about make validation of Client for Post mapping if meet the requirement then save it also to Subscription.</p>\n"}],"owner":{"account_id":25284698,"reputation":21,"user_id":19111944,"display_name":"Youssef Laamarti"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":380,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1652669860,"creation_date":1652528196,"question_id":72239811,"body_markdown":"I am trying to make a put request using Postman with Spring Boot. The idea is to give the subscription object a foreign key value with a put request or post.\r\n\r\nI get this error[error][1]\r\n\r\n\r\nPostman input : [INPUT][2]\r\n\r\nThe user class : [User ][3]\r\n\r\nThe subscription class : [Subscription][4]\r\n\r\nUpdate method : [Update ][5]\r\n\r\nI&#39;ve already searched the internet and  I didn&#39;t find anything useful. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ifAqQ.png\r\n  [2]: https://i.stack.imgur.com/LO9Ku.png\r\n  [3]: https://i.stack.imgur.com/GA3t1.png\r\n  [4]: https://i.stack.imgur.com/1oYO9.png\r\n  [5]: https://i.stack.imgur.com/l4Byg.png","title":"Update foreign key in Spring Boot with a POST request","body":"<p>I am trying to make a put request using Postman with Spring Boot. The idea is to give the subscription object a foreign key value with a put request or post.</p>\n<p>I get this error<a href=\"https://i.stack.imgur.com/ifAqQ.png\" rel=\"nofollow noreferrer\">error</a></p>\n<p>Postman input : <a href=\"https://i.stack.imgur.com/LO9Ku.png\" rel=\"nofollow noreferrer\">INPUT</a></p>\n<p>The user class : <a href=\"https://i.stack.imgur.com/GA3t1.png\" rel=\"nofollow noreferrer\">User </a></p>\n<p>The subscription class : <a href=\"https://i.stack.imgur.com/1oYO9.png\" rel=\"nofollow noreferrer\">Subscription</a></p>\n<p>Update method : <a href=\"https://i.stack.imgur.com/l4Byg.png\" rel=\"nofollow noreferrer\">Update </a></p>\n<p>I've already searched the internet and  I didn't find anything useful.</p>\n"},{"tags":["java","quarkus"],"answers":[{"tags":[],"owner":{"account_id":10999814,"reputation":597,"user_id":8498513,"display_name":"donquih0te"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652635138,"creation_date":1652635138,"answer_id":72250542,"question_id":71007666,"body_markdown":"```\r\n@Singleton\r\npublic class TestConfig {\r\n\r\n  @javax.enterprise.inject.Produces\r\n  public TestClass testClass() {\r\n    return new TestClass();\r\n  }\r\n}\r\n```\r\n\r\nanother class annotated with the `@ApplicationsScoped` or `@Singleton`:\r\n```\r\n@Inject\r\npublic void method(TestClass testClass) {\r\n  Flyway.configure().collbacks(testClass).load();\r\n  // your code\r\n}\r\n```\r\n\r\nIf you create an object by yourself calling a constructor (`new TestClass()`) then quarkus doesn&#39;t manipulate that object, and doesn&#39;t inject a repository.","title":"Dependency injection from Quarkus (java)","body":"<pre><code>@Singleton\npublic class TestConfig {\n\n  @javax.enterprise.inject.Produces\n  public TestClass testClass() {\n    return new TestClass();\n  }\n}\n</code></pre>\n<p>another class annotated with the <code>@ApplicationsScoped</code> or <code>@Singleton</code>:</p>\n<pre><code>@Inject\npublic void method(TestClass testClass) {\n  Flyway.configure().collbacks(testClass).load();\n  // your code\n}\n</code></pre>\n<p>If you create an object by yourself calling a constructor (<code>new TestClass()</code>) then quarkus doesn't manipulate that object, and doesn't inject a repository.</p>\n"},{"tags":[],"owner":{"account_id":11332809,"reputation":45,"user_id":8309805,"display_name":"Totog1nger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652669450,"creation_date":1652646869,"answer_id":72251989,"question_id":71007666,"body_markdown":"No you cannot inject beans inside a class that is instanciate with the new keyword.\r\nBut you can still find a way around like so :\r\n\r\n```java\r\n@Dependent\r\npublic class BeanFactory {\r\n\r\n  @Inject\r\n  TestClassRepository repository\r\n\r\n  @Produces\r\n  public TestClass createTestClass() {\r\n    return new TestClass(this.repository);\r\n  }\r\n```\r\n\r\nYou can find more details here : [Quarkus Contexts and dependency Injection][1]\r\n\r\nAlso you can define multiple beans for different profiles as mentionned few lines bellow [Here][2]\r\n\r\nThis means you can create a repository for your tests and one for prod or whatever is best for your case.\r\n\r\nAlso I do not think the annotation &quot;@Startup&quot; would add anything to your TestClassRepository bean.\r\n\r\n\r\n  [1]: https://quarkus.io/guides/cdi-reference#default_beans\r\n  [2]: https://quarkus.io/guides/cdi-reference#enable_build_profile","title":"Dependency injection from Quarkus (java)","body":"<p>No you cannot inject beans inside a class that is instanciate with the new keyword.\nBut you can still find a way around like so :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Dependent\npublic class BeanFactory {\n\n  @Inject\n  TestClassRepository repository\n\n  @Produces\n  public TestClass createTestClass() {\n    return new TestClass(this.repository);\n  }\n</code></pre>\n<p>You can find more details here : <a href=\"https://quarkus.io/guides/cdi-reference#default_beans\" rel=\"nofollow noreferrer\">Quarkus Contexts and dependency Injection</a></p>\n<p>Also you can define multiple beans for different profiles as mentionned few lines bellow <a href=\"https://quarkus.io/guides/cdi-reference#enable_build_profile\" rel=\"nofollow noreferrer\">Here</a></p>\n<p>This means you can create a repository for your tests and one for prod or whatever is best for your case.</p>\n<p>Also I do not think the annotation &quot;@Startup&quot; would add anything to your TestClassRepository bean.</p>\n"}],"owner":{"account_id":19254369,"reputation":59,"user_id":16262239,"display_name":"Disteonne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4598,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1652669450,"creation_date":1644154236,"question_id":71007666,"body_markdown":"Colleagues, hello! Is is possible to inject beans inside of class which is created via &#39;new&#39; operator? \r\nFor example:\r\n\r\n    public class TestClass implements Callback {\r\n     \r\n    @Inject\r\n    TestClassRepository repository;\r\n\r\n    //just only methods...\r\n    }\r\n\r\nAnd &#39;TestClass&#39; is created from another class:\r\n\r\n    Flyway.configure().collbacks(new TestClass()).load();\r\n\r\nI have an issue with this,because &#39;repository.anyMethods()&#39; inside of TestClass creates &#39;NullPointer&#39; exception.\r\n&#39;TestClassRepository&#39; is marked with the &#39;@ApplicationScoped&#39; and &#39;@Startup&#39; annotations.","title":"Dependency injection from Quarkus (java)","body":"<p>Colleagues, hello! Is is possible to inject beans inside of class which is created via 'new' operator?\nFor example:</p>\n<pre><code>public class TestClass implements Callback {\n \n@Inject\nTestClassRepository repository;\n\n//just only methods...\n}\n</code></pre>\n<p>And 'TestClass' is created from another class:</p>\n<pre><code>Flyway.configure().collbacks(new TestClass()).load();\n</code></pre>\n<p>I have an issue with this,because 'repository.anyMethods()' inside of TestClass creates 'NullPointer' exception.\n'TestClassRepository' is marked with the '@ApplicationScoped' and '@Startup' annotations.</p>\n"},{"tags":["java","apache-kafka","kafka-producer-api"],"comments":[{"owner":{"account_id":5168089,"reputation":26671,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":1,"creation_date":1652171144,"post_id":72182660,"comment_id":127535182,"body_markdown":"No, they are not guaranteed to be in the same order.","body":"No, they are not guaranteed to be in the same order."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1652199319,"post_id":72182660,"comment_id":127546826,"body_markdown":"By default, no, but please share your Kafka producer settings so we can see what settings you might have set that can allow for this.","body":"By default, no, but please share your Kafka producer settings so we can see what settings you might have set that can allow for this."},{"owner":{"account_id":8728958,"reputation":873,"user_id":6529706,"accept_rate":27,"display_name":"Zizou"},"score":0,"creation_date":1652264468,"post_id":72182660,"comment_id":127562640,"body_markdown":"Thanks @OneCricketeer,\nI haven&#39;t yet started code ready, the question was to identify which approach I can use and if I can rely on kafka producer callbacks for commiting JMS messages correctly.\nIf there is  a required producer configuration to ensure this, can you please share it?","body":"Thanks @OneCricketeer, I haven&#39;t yet started code ready, the question was to identify which approach I can use and if I can rely on kafka producer callbacks for commiting JMS messages correctly. If there is  a required producer configuration to ensure this, can you please share it?"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652276212,"creation_date":1652275902,"answer_id":72201990,"question_id":72182660,"body_markdown":"These are the producer configs you want for ordered Kafka producer messages \r\n```\r\nenable.idempotence=true\r\nacks=all\r\nmax.in.flight.requests.per.connection=5\r\nretries=2147483647\r\n```\r\n\r\nThe last two are defaults, so you don&#39;t explicitly need to set them.\r\n\r\nDetails - https://developer.confluent.io/tutorials/message-ordering/kafka.html\r\n\r\nHowever, there will be no guaranteed order of Kafka producer _callbacks_ unless you use a synchronous producer\r\n\r\n&gt; collect data from IBM MQ and process it to a kafka topic\r\n\r\nYou can use Kafka Connect for this rather than writing your own producer ","title":"Are kafka acks received in the same order of produced messages","body":"<p>These are the producer configs you want for ordered Kafka producer messages</p>\n<pre><code>enable.idempotence=true\nacks=all\nmax.in.flight.requests.per.connection=5\nretries=2147483647\n</code></pre>\n<p>The last two are defaults, so you don't explicitly need to set them.</p>\n<p>Details - <a href=\"https://developer.confluent.io/tutorials/message-ordering/kafka.html\" rel=\"nofollow noreferrer\">https://developer.confluent.io/tutorials/message-ordering/kafka.html</a></p>\n<p>However, there will be no guaranteed order of Kafka producer <em>callbacks</em> unless you use a synchronous producer</p>\n<blockquote>\n<p>collect data from IBM MQ and process it to a kafka topic</p>\n</blockquote>\n<p>You can use Kafka Connect for this rather than writing your own producer</p>\n"},{"tags":[],"owner":{"account_id":14655333,"reputation":600,"user_id":10584061,"display_name":"ChristDist"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652669002,"creation_date":1652669002,"answer_id":72253711,"question_id":72182660,"body_markdown":"We need to talk little about the messages processing guarantee here. \r\n\r\nIf we are after the exactly-once processing semantics and messaging order, then the consumers must be configured with isolation.level=&quot;read_committed&quot; and producers have to be configured with retries=Integer.MAX_VALUE, enable.idempotence=true, and max.in.flight.requests.per.connection=1 per default.\r\n\r\nAlso, setting max.in.flight.requests.per.connection=1, will guarantee that messages will be written to the broker in the order in which they were sent, even when retries occur.","title":"Are kafka acks received in the same order of produced messages","body":"<p>We need to talk little about the messages processing guarantee here.</p>\n<p>If we are after the exactly-once processing semantics and messaging order, then the consumers must be configured with isolation.level=&quot;read_committed&quot; and producers have to be configured with retries=Integer.MAX_VALUE, enable.idempotence=true, and max.in.flight.requests.per.connection=1 per default.</p>\n<p>Also, setting max.in.flight.requests.per.connection=1, will guarantee that messages will be written to the broker in the order in which they were sent, even when retries occur.</p>\n"}],"owner":{"account_id":8728958,"reputation":873,"user_id":6529706,"accept_rate":27,"display_name":"Zizou"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":448,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1652669002,"creation_date":1652169656,"question_id":72182660,"body_markdown":"I&#39;m working on a process that collect data from IBM MQ and process it to a kafka topic.\r\nTo make sure not loosing any message,I need to commit my JMS message only after making sure my message is being sent and received by kafka broker.\r\nI don&#39;t want to use synchronous kafka producer (waiting on future.get()) because of the performance impact it may have,instead I want to commit my JMS message inside the callback I&#39;m providing my kafka producer.\r\nFor this to work correctly, I need the garantee that ack will be received in the same order of my produced messages (first ack corresponds to the first message being sent..).\r\n\r\nIs my assumption correct?","title":"Are kafka acks received in the same order of produced messages","body":"<p>I'm working on a process that collect data from IBM MQ and process it to a kafka topic.\nTo make sure not loosing any message,I need to commit my JMS message only after making sure my message is being sent and received by kafka broker.\nI don't want to use synchronous kafka producer (waiting on future.get()) because of the performance impact it may have,instead I want to commit my JMS message inside the callback I'm providing my kafka producer.\nFor this to work correctly, I need the garantee that ack will be received in the same order of my produced messages (first ack corresponds to the first message being sent..).</p>\n<p>Is my assumption correct?</p>\n"},{"tags":["java","arrays","string","methods"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1652665965,"post_id":72253477,"comment_id":127653573,"body_markdown":"Are you sure it&#39;s not an ArrayIndexOutOfBoundsException?","body":"Are you sure it&#39;s not an ArrayIndexOutOfBoundsException?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":3,"creation_date":1652666107,"post_id":72253477,"comment_id":127653589,"body_markdown":"Why do you have looping code? Don&#39;t you only need to test the first character to see if it is a number or capital letter? There is no way we can solve a NullPointerException for you. We have no idea what data you pass to the method.","body":"Why do you have looping code? Don&#39;t you only need to test the first character to see if it is a number or capital letter? There is no way we can solve a NullPointerException for you. We have no idea what data you pass to the method."},{"owner":{"account_id":261035,"reputation":6348,"user_id":544963,"accept_rate":100,"display_name":"fireshadow52"},"score":0,"creation_date":1652666201,"post_id":72253477,"comment_id":127653600,"body_markdown":"@camickr The loop is looping through an array of `Strings`.","body":"@camickr The loop is looping through an array of <code>Strings</code>."},{"owner":{"account_id":10481421,"reputation":1559,"user_id":7726319,"accept_rate":0,"display_name":"Prog_G"},"score":2,"creation_date":1652666328,"post_id":72253477,"comment_id":127653618,"body_markdown":"can you add the sample input ?","body":"can you add the sample input ?"},{"owner":{"account_id":25299318,"reputation":1,"user_id":19123835,"display_name":"pureRose"},"score":0,"creation_date":1652667769,"post_id":72253477,"comment_id":127653794,"body_markdown":"there are elements, 10 elements of a string array. I&#39;m reading it from a file.","body":"there are elements, 10 elements of a string array. I&#39;m reading it from a file."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1652706203,"post_id":72253477,"comment_id":127663357,"body_markdown":"The question from @camickr is valid. The question header implies there is one string. But, the loop appears to be an attempt to ask &quot;Is there at least one string that begins with an uppercase letter or a digit.&quot;","body":"The question from @camickr is valid. The question header implies there is one string. But, the loop appears to be an attempt to ask &quot;Is there at least one string that begins with an uppercase letter or a digit.&quot;"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1652832684,"post_id":72253477,"comment_id":127700451,"body_markdown":"My mistake.  If `arr` is empty, that code doesn&#39;t throw a `NullPointerException` (NPE).  If `arr` is empty, the `for` loop exits right away, and `isCapOrDigit` returns `false`.  There are two ways that code can throw a NPE: 1) `arr` is null. 2) At least one of the elements of `arr` is null.","body":"My mistake.  If <code>arr</code> is empty, that code doesn&#39;t throw a <code>NullPointerException</code> (NPE).  If <code>arr</code> is empty, the <code>for</code> loop exits right away, and <code>isCapOrDigit</code> returns <code>false</code>.  There are two ways that code can throw a NPE: 1) <code>arr</code> is null. 2) At least one of the elements of <code>arr</code> is null."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1652668125,"creation_date":1652666777,"answer_id":72253539,"question_id":72253477,"body_markdown":"Your bug is subtle.\r\n\r\n       for (int i = 0; i &lt; arr[i].length(); i++) {\r\n\r\nis apparently supposed to iterate over the strings in `arr`.  But it won&#39;t necessarily stop at the end ... because the stop condition for the `for` loop is incorrect.\r\n\r\nThe expression `arr[i].length()` gives you the number of characters in the i&#39;th string, not the number of strings in an array.  You need this:\r\n\r\n       for (int i = 0; i &lt; arr.length; i++) {\r\n\r\n------------\r\n\r\nThere could be a second problem as well.  The above bug will give you an `ArrayIndexOutOfBoundsException`.  But if you are getting a `NullPointerException`, that implies that your method is being called with an array that contains `null` values.  To my mind, that is really an error in the code that calls `isCapOrDigit`.\r\n\r\nAnd I suspect that the *entire* method is flawed.  Is this method supposed to test one string, or multiple strings?  \r\n  \r\n  - In the former case, why are you passing it an array of strings?  \r\n  - In the latter case, what are you supposed to return if some of the strings match the criteria and others don&#39;t?\r\n\r\n------------\r\n\r\n&gt;  There are elements, 10 elements of a string array. I&#39;m reading it from a file. \r\n\r\nWell it appears that you are not actually reading exactly 10 elements and putting them all into the array correctly.  Some of the array elements appear to be `null`.\r\n\r\n------------\r\n\r\nFinally, this is incorrect:\r\n\r\n      if (Character.isUpperCase(arr[i].charAt(0)) \r\n          &amp;&amp; Character.isDigit(arr[i].charAt(0))) {\r\n                return true;\r\n      }\r\n\r\nYou are testing to see if the character is an uppercase character AND a digit ... at the same time.  That&#39;s not possible.  Digits aren&#39;t upper-case.  Surely you should be using an OR; i.e.\r\n\r\n      if (Character.isUpperCase(arr[i].charAt(0)) \r\n          || Character.isDigit(arr[i].charAt(0))) {\r\n                return true;\r\n      }","title":"How do you find if the string begins with a capital letter or a digit in java?","body":"<p>Your bug is subtle.</p>\n<pre><code>   for (int i = 0; i &lt; arr[i].length(); i++) {\n</code></pre>\n<p>is apparently supposed to iterate over the strings in <code>arr</code>.  But it won't necessarily stop at the end ... because the stop condition for the <code>for</code> loop is incorrect.</p>\n<p>The expression <code>arr[i].length()</code> gives you the number of characters in the i'th string, not the number of strings in an array.  You need this:</p>\n<pre><code>   for (int i = 0; i &lt; arr.length; i++) {\n</code></pre>\n<hr />\n<p>There could be a second problem as well.  The above bug will give you an <code>ArrayIndexOutOfBoundsException</code>.  But if you are getting a <code>NullPointerException</code>, that implies that your method is being called with an array that contains <code>null</code> values.  To my mind, that is really an error in the code that calls <code>isCapOrDigit</code>.</p>\n<p>And I suspect that the <em>entire</em> method is flawed.  Is this method supposed to test one string, or multiple strings?</p>\n<ul>\n<li>In the former case, why are you passing it an array of strings?</li>\n<li>In the latter case, what are you supposed to return if some of the strings match the criteria and others don't?</li>\n</ul>\n<hr />\n<blockquote>\n<p>There are elements, 10 elements of a string array. I'm reading it from a file.</p>\n</blockquote>\n<p>Well it appears that you are not actually reading exactly 10 elements and putting them all into the array correctly.  Some of the array elements appear to be <code>null</code>.</p>\n<hr />\n<p>Finally, this is incorrect:</p>\n<pre><code>  if (Character.isUpperCase(arr[i].charAt(0)) \n      &amp;&amp; Character.isDigit(arr[i].charAt(0))) {\n            return true;\n  }\n</code></pre>\n<p>You are testing to see if the character is an uppercase character AND a digit ... at the same time.  That's not possible.  Digits aren't upper-case.  Surely you should be using an OR; i.e.</p>\n<pre><code>  if (Character.isUpperCase(arr[i].charAt(0)) \n      || Character.isDigit(arr[i].charAt(0))) {\n            return true;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7755867,"reputation":99,"user_id":5870209,"display_name":"Ahmed Hafez"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1652666879,"creation_date":1652666879,"answer_id":72253550,"question_id":72253477,"body_markdown":"Using regex makes it so easy\r\n\r\nyou can use regex: `^(\\\\d|[A-Z]).*`\r\nwhich means exactly what you need, matches a string starts with a digit `\\\\d` or `|` an uppercase letter `[A-Z]` with optional `*` anything `.` after that\r\n\r\n```java\r\nimport java.util.regex.*; \r\n\r\npublic class Main\r\n{\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(Pattern.matches(&quot;^(\\\\d|[A-Z]).*&quot;, &quot;5abc&quot;));  // true\r\n\t\tSystem.out.println(Pattern.matches(&quot;^(\\\\d|[A-Z]).*&quot;, &quot;Abc&quot;));   // true\r\n\t\tSystem.out.println(Pattern.matches(&quot;^(\\\\d|[A-Z]).*&quot;, &quot;5&quot;));     // true\r\n\t\tSystem.out.println(Pattern.matches(&quot;^(\\\\d|[A-Z]).*&quot;, &quot;abc5&quot;));  // false\r\n\t\tSystem.out.println(Pattern.matches(&quot;^(\\\\d|[A-Z]).*&quot;, &quot;aBc&quot;));   // false\r\n\t\tSystem.out.println(Pattern.matches(&quot;^(\\\\d|[A-Z]).*&quot;, &quot;a5c&quot;));   // false\r\n\t}\r\n}\r\n```\r\n\r\nYou can use this regex as well `^[1-9A-Z].*` produces the same results","title":"How do you find if the string begins with a capital letter or a digit in java?","body":"<p>Using regex makes it so easy</p>\n<p>you can use regex: <code>^(\\\\d|[A-Z]).*</code>\nwhich means exactly what you need, matches a string starts with a digit <code>\\\\d</code> or <code>|</code> an uppercase letter <code>[A-Z]</code> with optional <code>*</code> anything <code>.</code> after that</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.regex.*; \n\npublic class Main\n{\n    public static void main(String[] args) {\n        System.out.println(Pattern.matches(&quot;^(\\\\d|[A-Z]).*&quot;, &quot;5abc&quot;));  // true\n        System.out.println(Pattern.matches(&quot;^(\\\\d|[A-Z]).*&quot;, &quot;Abc&quot;));   // true\n        System.out.println(Pattern.matches(&quot;^(\\\\d|[A-Z]).*&quot;, &quot;5&quot;));     // true\n        System.out.println(Pattern.matches(&quot;^(\\\\d|[A-Z]).*&quot;, &quot;abc5&quot;));  // false\n        System.out.println(Pattern.matches(&quot;^(\\\\d|[A-Z]).*&quot;, &quot;aBc&quot;));   // false\n        System.out.println(Pattern.matches(&quot;^(\\\\d|[A-Z]).*&quot;, &quot;a5c&quot;));   // false\n    }\n}\n</code></pre>\n<p>You can use this regex as well <code>^[1-9A-Z].*</code> produces the same results</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652668710,"creation_date":1652667948,"answer_id":72253632,"question_id":72253477,"body_markdown":"The [Answer by Stephen C][1] is correct, and should be accepted. I’ll suggest some improvements to your code.\r\n\r\n# For-each loop\r\n\r\nYou could use simpler code, the for-each syntax.\r\n\r\n```java\r\nfor ( String s : arr ) {\r\n    …\r\n}\r\n```\r\n\r\n# Code point, not `char`\r\n\r\nThe `char` type in Java is legacy, essentially broken. As a 16-bit type, `char` is physically incapable of representing most characters. \r\n\r\nInstead, use [code point][2] integer numbers.\r\n\r\n```java\r\nfor ( String s : arr ) {\r\n    OptionalInt codePoint = s.codePoints().findFirst() ; // If the string is empty, the `OptionalInt` will be empty. \r\n    if( codePoint.isPresent() ) {\r\n        boolean beginsUppercaseOrDigit = Character.isUpperCase( codePoint.get() ) || Chracter.isDigit( codePoint.get() ) ;\r\n        …\r\n    } else {  // Else string is empty.\r\n        … \r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/72253539/642706\r\n  [2]: https://en.wikipedia.org/wiki/Code_point","title":"How do you find if the string begins with a capital letter or a digit in java?","body":"<p>The <a href=\"https://stackoverflow.com/a/72253539/642706\">Answer by Stephen C</a> is correct, and should be accepted. I’ll suggest some improvements to your code.</p>\n<h1>For-each loop</h1>\n<p>You could use simpler code, the for-each syntax.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for ( String s : arr ) {\n    …\n}\n</code></pre>\n<h1>Code point, not <code>char</code></h1>\n<p>The <code>char</code> type in Java is legacy, essentially broken. As a 16-bit type, <code>char</code> is physically incapable of representing most characters.</p>\n<p>Instead, use <a href=\"https://en.wikipedia.org/wiki/Code_point\" rel=\"nofollow noreferrer\">code point</a> integer numbers.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for ( String s : arr ) {\n    OptionalInt codePoint = s.codePoints().findFirst() ; // If the string is empty, the `OptionalInt` will be empty. \n    if( codePoint.isPresent() ) {\n        boolean beginsUppercaseOrDigit = Character.isUpperCase( codePoint.get() ) || Chracter.isDigit( codePoint.get() ) ;\n        …\n    } else {  // Else string is empty.\n        … \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25299318,"reputation":1,"user_id":19123835,"display_name":"pureRose"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1652700371,"answer_count":3,"score":-1,"last_activity_date":1652668710,"creation_date":1652665881,"question_id":72253477,"body_markdown":"it involves methods, strings, arrays, and files. \r\n\r\nThis is part of my code: There is a nullpointer exception when I try to call in main. pls, help.\r\n\r\n    public static boolean isCapOrDigit(String[] arr){\r\n            for(int i=0;i&lt;arr[i].length();i++){\r\n                if(Character.isUpperCase(arr[i].charAt(0)) &amp;&amp; Character.isDigit(arr[i].charAt(0))){\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        }","title":"How do you find if the string begins with a capital letter or a digit in java?","body":"<p>it involves methods, strings, arrays, and files.</p>\n<p>This is part of my code: There is a nullpointer exception when I try to call in main. pls, help.</p>\n<pre><code>public static boolean isCapOrDigit(String[] arr){\n        for(int i=0;i&lt;arr[i].length();i++){\n            if(Character.isUpperCase(arr[i].charAt(0)) &amp;&amp; Character.isDigit(arr[i].charAt(0))){\n                return true;\n            }\n        }\n        return false;\n    }\n</code></pre>\n"},{"tags":["java","swing","events","listener","mouse"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1652666484,"post_id":72253510,"comment_id":127653634,"body_markdown":"Why do you need the loop?  `mouseEntered` and `mouseExited` should tell you everything you need","body":"Why do you need the loop?  <code>mouseEntered</code> and <code>mouseExited</code> should tell you everything you need"},{"owner":{"account_id":21715571,"reputation":59,"user_id":16026662,"display_name":"roditu"},"score":0,"creation_date":1652666507,"post_id":72253510,"comment_id":127653635,"body_markdown":"I want to infinitely do something while mouse is on a specific tile, then stop when it isnt, or when i move to another tile then the effect switches just for that one.","body":"I want to infinitely do something while mouse is on a specific tile, then stop when it isnt, or when i move to another tile then the effect switches just for that one."},{"owner":{"account_id":21715571,"reputation":59,"user_id":16026662,"display_name":"roditu"},"score":0,"creation_date":1652666645,"post_id":72253510,"comment_id":127653650,"body_markdown":"If this can be achieved without loops then i&#39;m opened for suggestions","body":"If this can be achieved without loops then i&#39;m opened for suggestions"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1652666746,"post_id":72253510,"comment_id":127653660,"body_markdown":"You use a SwingTimer, which repeatedly calls its actionPerformed method, start it when the mouse enters the region and stop it when it leaves. No loops directly needed.","body":"You use a SwingTimer, which repeatedly calls its actionPerformed method, start it when the mouse enters the region and stop it when it leaves. No loops directly needed."},{"owner":{"account_id":21715571,"reputation":59,"user_id":16026662,"display_name":"roditu"},"score":0,"creation_date":1652667352,"post_id":72253510,"comment_id":127653743,"body_markdown":"Thank you it works, i declared timer, setrepeats on true start in entered and stop in exited","body":"Thank you it works, i declared timer, setrepeats on true start in entered and stop in exited"}],"owner":{"account_id":21715571,"reputation":59,"user_id":16026662,"display_name":"roditu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1652666830,"answer_count":0,"score":0,"last_activity_date":1652666344,"creation_date":1652666344,"question_id":72253510,"body_markdown":"I have bunch of JLabel tiles with mouseListeners set to them like this:\r\n\r\n```\r\ntile.addMouseListener(new MouseListener(){\r\n\r\n   Boolean isOnTile = false;\r\n\r\n   public void mouseClicked(MouseEvent e) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void mousePressed(MouseEvent e) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void mouseReleased(MouseEvent e) {\r\n\t\t\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void mouseEntered(MouseEvent e) {\r\n\t\t\t\t\t\tisOnTile = true;\r\n\t\t\t\t\t\twhile(true &amp;&amp; isOnTile) {\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tTimeUnit.SECONDS.sleep(1);\r\n\t\t\t\t\t\t\t} catch (InterruptedException e1) {\r\n\t\t\t\t\t\t\t\te1.printStackTrace();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;a&quot;);\r\n\t\t\t\t\t\t}\t\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void mouseExited(MouseEvent e) {\r\n\t\t\t\t\t\tisOnTile = false;\r\n\t\t\t\t\t}\r\n\r\n});\r\n```\r\n\r\nCan i achieve the effect that this code (which isn&#39;t working) suggests? I want to exit the loop after the mouse is being taken off a JLabel. This doesn&#39;t work - after i take off the mouse the loop continues infinitely anyway. Is there a way to detect in which event, function i&#39;m inside in the event function? I looked at e. functions but looks like there isn&#39;t one that has this functionality.","title":"Java Mouse Listener - Can event type be detected inside of an event?","body":"<p>I have bunch of JLabel tiles with mouseListeners set to them like this:</p>\n<pre><code>tile.addMouseListener(new MouseListener(){\n\n   Boolean isOnTile = false;\n\n   public void mouseClicked(MouseEvent e) {\n                        \n                    }\n\n                    @Override\n                    public void mousePressed(MouseEvent e) {\n                        \n                    }\n\n                    @Override\n                    public void mouseReleased(MouseEvent e) {\n                        // TODO Auto-generated method stub\n                        \n                    }\n\n                    @Override\n                    public void mouseEntered(MouseEvent e) {\n                        isOnTile = true;\n                        while(true &amp;&amp; isOnTile) {\n                            try {\n                                TimeUnit.SECONDS.sleep(1);\n                            } catch (InterruptedException e1) {\n                                e1.printStackTrace();\n                            }\n                            \n                            System.out.println(&quot;a&quot;);\n                        }   \n                    }\n\n                    @Override\n                    public void mouseExited(MouseEvent e) {\n                        isOnTile = false;\n                    }\n\n});\n</code></pre>\n<p>Can i achieve the effect that this code (which isn't working) suggests? I want to exit the loop after the mouse is being taken off a JLabel. This doesn't work - after i take off the mouse the loop continues infinitely anyway. Is there a way to detect in which event, function i'm inside in the event function? I looked at e. functions but looks like there isn't one that has this functionality.</p>\n"},{"tags":["java","visual-studio-code","compiler-errors"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1652640754,"post_id":72251295,"comment_id":127649617,"body_markdown":"if the error is while &quot;running the code&quot;, it&#39;s quite obviously not a compiler-error. You don&#39;t show any code, nor do you show an error","body":"if the error is while &quot;running the code&quot;, it&#39;s quite obviously not a compiler-error. You don&#39;t show any code, nor do you show an error"},{"owner":{"account_id":92241,"reputation":3464,"user_id":252858,"accept_rate":44,"display_name":"David P. Caldwell"},"score":0,"creation_date":1652640772,"post_id":72251295,"comment_id":127649630,"body_markdown":"Hi Zinan, you didn&#39;t actually include the error you&#39;re getting. We&#39;ll need that!","body":"Hi Zinan, you didn&#39;t actually include the error you&#39;re getting. We&#39;ll need that!"},{"owner":{"account_id":15264678,"reputation":21,"user_id":11013696,"display_name":"Zinan"},"score":0,"creation_date":1652640845,"post_id":72251295,"comment_id":127649646,"body_markdown":"I updated the question, please recheck!","body":"I updated the question, please recheck!"},{"owner":{"account_id":92241,"reputation":3464,"user_id":252858,"accept_rate":44,"display_name":"David P. Caldwell"},"score":0,"creation_date":1652640864,"post_id":72251295,"comment_id":127649653,"body_markdown":"It looks like the Java tools are not installed or not in your `PATH`.","body":"It looks like the Java tools are not installed or not in your <code>PATH</code>."},{"owner":{"account_id":304046,"reputation":4566,"user_id":613339,"accept_rate":81,"display_name":"bsautner"},"score":0,"creation_date":1652641321,"post_id":72251295,"comment_id":127649775,"body_markdown":"instead of trying to run code,. try typing: java -version in powershell.  You&#39;ll get the same error until you download and install java and it&#39;s in your PATH.   Once you get java to print the version, you&#39;ll be able to move to code.","body":"instead of trying to run code,. try typing: java -version in powershell.  You&#39;ll get the same error until you download and install java and it&#39;s in your PATH.   Once you get java to print the version, you&#39;ll be able to move to code."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1652650867,"post_id":72251295,"comment_id":127651606,"body_markdown":"Please don&#39;t provide either of these: terminal commands, code, error messages as images. Always include them as a **text** formatted appropriately.","body":"Please don&#39;t provide either of these: terminal commands, code, error messages as images. Always include them as a <b>text</b> formatted appropriately."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1652666461,"post_id":72251295,"comment_id":127653631,"body_markdown":"[Please do not upload images of code/data/errors when asking a question.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors when asking a question.</a>"}],"answers":[{"tags":[],"owner":{"account_id":24927306,"reputation":11,"user_id":18794876,"display_name":"Callum Crichton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652640926,"creation_date":1652640926,"answer_id":72251326,"question_id":72251295,"body_markdown":"Add the jdk path to your windows system environment.\r\n\r\nThen in your VS code workspace settings add the path too.","title":"Why this error occurs while trying to run java in vs code?","body":"<p>Add the jdk path to your windows system environment.</p>\n<p>Then in your VS code workspace settings add the path too.</p>\n"}],"owner":{"account_id":15264678,"reputation":21,"user_id":11013696,"display_name":"Zinan"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":736,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1652666270,"creation_date":1652640704,"question_id":72251295,"body_markdown":"I&#39;m trying to use vs code for java. but get this error while running the code I tried to find the solution but I couldn&#39;t find, If any solution available please refer: ![error][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BCzGH.png","title":"Why this error occurs while trying to run java in vs code?","body":"<p>I'm trying to use vs code for java. but get this error while running the code I tried to find the solution but I couldn't find, If any solution available please refer: <img src=\"https://i.stack.imgur.com/BCzGH.png\" alt=\"error\" /></p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":10481421,"reputation":1559,"user_id":7726319,"accept_rate":0,"display_name":"Prog_G"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652666264,"creation_date":1652666264,"answer_id":72253506,"question_id":72253437,"body_markdown":"Replace the `printLinkedList` function with below code:\r\n\r\n    public static void printLinkedList(IntNode headNode) {\r\n        //check if the node is null or not\r\n        if (headNode != null) {\r\n            headNode.printData();\r\n            printLinkedList(headNode.getNext()); // recursively call the method with next node as value\r\n        }\r\n    }\r\n\r\nOnly change that is required to be done is to call the `printLinkedList` method with the next node. Read more about recursion [here][1] and linked list [here][2]\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/recursion-in-java/\r\n  [2]: https://www.geeksforgeeks.org/linked-list-set-1-introduction/","title":"Outputting a Linked List","body":"<p>Replace the <code>printLinkedList</code> function with below code:</p>\n<pre><code>public static void printLinkedList(IntNode headNode) {\n    //check if the node is null or not\n    if (headNode != null) {\n        headNode.printData();\n        printLinkedList(headNode.getNext()); // recursively call the method with next node as value\n    }\n}\n</code></pre>\n<p>Only change that is required to be done is to call the <code>printLinkedList</code> method with the next node. Read more about recursion <a href=\"https://www.geeksforgeeks.org/recursion-in-java/\" rel=\"nofollow noreferrer\">here</a> and linked list <a href=\"https://www.geeksforgeeks.org/linked-list-set-1-introduction/\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":25190589,"reputation":13,"user_id":19030825,"display_name":"FlamingOrange9243"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":642,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72253506,"answer_count":1,"score":0,"last_activity_date":1652666264,"creation_date":1652665404,"question_id":72253437,"body_markdown":"I can&#39;t quite figure out how I&#39;m supposed to get to the next value. Sofar I figured out how to get the first given value but not the remaining. Overall this is meant to be done using recursion. I mainly am trying to get a better understanding of how to go through the values given to IntNode class which is given to printLinkedList as headNode.\r\n\r\nExample:\r\n\r\nInput: 4 9 8 7 6\r\n\r\nOutput: 9, 8, 7, 6,\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class LabProgram {\r\n\r\n    /* TODO: Write recursive printLinkedList() method */\r\n    public static void printLinkedList(IntNode headNode){\r\n\r\n        //This just prints the current value\r\n        headNode.printData();\r\n        headNode.insertAfter(headNode.getNext());\r\n        headNode.printData();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scnr = new Scanner(System.in);\r\n        int size;\r\n        int value;\r\n\r\n        size = scnr.nextInt();\r\n        value = scnr.nextInt();\r\n        IntNode headNode = new IntNode(value); // Make head node as the first node\r\n        IntNode lastNode = headNode;      // Node to add after\r\n        IntNode newNode = null;           // Node to create\r\n\r\n        // Insert the second and the rest of the nodes\r\n        for (int n = 0; n &lt; size - 1; ++n) {\r\n            value = scnr.nextInt();\r\n            newNode = new IntNode(value);\r\n            lastNode.insertAfter(newNode);\r\n            lastNode = newNode;\r\n        }\r\n\r\n        // Call printLinkedList() with the head node\r\n        printLinkedList(headNode);\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class IntNode {\r\n    int dataVal;\r\n    private IntNode nextNodeRef; // Reference to the next node\r\n\r\n    // Constructor\r\n    public IntNode(int value) {\r\n        this.dataVal = value;\r\n        this.nextNodeRef = null;\r\n    }\r\n\r\n    // Insert a new node after the current node\r\n    public void insertAfter(IntNode nodeLoc) {\r\n        IntNode tmpNext;\r\n\r\n        tmpNext = this.nextNodeRef;\r\n        this.nextNodeRef = nodeLoc;\r\n        nodeLoc.nextNodeRef = tmpNext;\r\n    }\r\n\r\n    // Get location pointed by nextNodeRef\r\n    public IntNode getNext() {\r\n        return this.nextNodeRef;\r\n    }\r\n\r\n    // Print the node&#39;s data\r\n    public void printData() {\r\n        System.out.printf(&quot;%d, &quot;, this.dataVal);\r\n    }\r\n}\r\n```","title":"Outputting a Linked List","body":"<p>I can't quite figure out how I'm supposed to get to the next value. Sofar I figured out how to get the first given value but not the remaining. Overall this is meant to be done using recursion. I mainly am trying to get a better understanding of how to go through the values given to IntNode class which is given to printLinkedList as headNode.</p>\n<p>Example:</p>\n<p>Input: 4 9 8 7 6</p>\n<p>Output: 9, 8, 7, 6,</p>\n<pre><code>import java.util.Scanner;\n\npublic class LabProgram {\n\n    /* TODO: Write recursive printLinkedList() method */\n    public static void printLinkedList(IntNode headNode){\n\n        //This just prints the current value\n        headNode.printData();\n        headNode.insertAfter(headNode.getNext());\n        headNode.printData();\n    }\n\n    public static void main(String[] args) {\n        Scanner scnr = new Scanner(System.in);\n        int size;\n        int value;\n\n        size = scnr.nextInt();\n        value = scnr.nextInt();\n        IntNode headNode = new IntNode(value); // Make head node as the first node\n        IntNode lastNode = headNode;      // Node to add after\n        IntNode newNode = null;           // Node to create\n\n        // Insert the second and the rest of the nodes\n        for (int n = 0; n &lt; size - 1; ++n) {\n            value = scnr.nextInt();\n            newNode = new IntNode(value);\n            lastNode.insertAfter(newNode);\n            lastNode = newNode;\n        }\n\n        // Call printLinkedList() with the head node\n        printLinkedList(headNode);\n    }\n}\n</code></pre>\n<pre><code>public class IntNode {\n    int dataVal;\n    private IntNode nextNodeRef; // Reference to the next node\n\n    // Constructor\n    public IntNode(int value) {\n        this.dataVal = value;\n        this.nextNodeRef = null;\n    }\n\n    // Insert a new node after the current node\n    public void insertAfter(IntNode nodeLoc) {\n        IntNode tmpNext;\n\n        tmpNext = this.nextNodeRef;\n        this.nextNodeRef = nodeLoc;\n        nodeLoc.nextNodeRef = tmpNext;\n    }\n\n    // Get location pointed by nextNodeRef\n    public IntNode getNext() {\n        return this.nextNodeRef;\n    }\n\n    // Print the node's data\n    public void printData() {\n        System.out.printf(&quot;%d, &quot;, this.dataVal);\n    }\n}\n</code></pre>\n"},{"tags":["java","if-statement","compiler-warnings","simplify"],"answers":[{"tags":[],"owner":{"account_id":51914,"reputation":67901,"user_id":155137,"accept_rate":91,"display_name":"Martijn Courteaux"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1382033817,"creation_date":1382033817,"answer_id":19434228,"question_id":19434202,"body_markdown":"I don&#39;t see any possible simplification. I would just ignore the warning.\r\n\r\n---\r\n\r\n**Update:** However, if you method look like this:\r\n\r\n    if(point.x &lt; minX || point.x &gt; maxX || point.y &lt; minY || point.y &gt; maxY)\r\n        return false;\r\n    return true;\r\n\r\nYou might change it to this:\r\n\r\n    return !(point.x &lt; minX || point.x &gt; maxX || point.y &lt; minY || point.y &gt; maxY);\r\n\r\nOr even: \r\n\r\n    return point.x &gt;= minX &amp;&amp; point.x &lt;= maxX &amp;&amp; point.y &gt;= minY &amp;&amp; point.y &lt;= maxY;\r\n\r\nI don&#39;t know if this is &quot;simplified&quot; for humans.","title":"Java: if statement can be simplified (box contains point)","body":"<p>I don't see any possible simplification. I would just ignore the warning.</p>\n\n<hr>\n\n<p><strong>Update:</strong> However, if you method look like this:</p>\n\n<pre><code>if(point.x &lt; minX || point.x &gt; maxX || point.y &lt; minY || point.y &gt; maxY)\n    return false;\nreturn true;\n</code></pre>\n\n<p>You might change it to this:</p>\n\n<pre><code>return !(point.x &lt; minX || point.x &gt; maxX || point.y &lt; minY || point.y &gt; maxY);\n</code></pre>\n\n<p>Or even: </p>\n\n<pre><code>return point.x &gt;= minX &amp;&amp; point.x &lt;= maxX &amp;&amp; point.y &gt;= minY &amp;&amp; point.y &lt;= maxY;\n</code></pre>\n\n<p>I don't know if this is \"simplified\" for humans.</p>\n"},{"tags":[],"owner":{"account_id":2075022,"reputation":1754,"user_id":1848640,"display_name":"Stanislav Mamontov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1382034364,"creation_date":1382034364,"answer_id":19434399,"question_id":19434202,"body_markdown":"Try separating it into two if statements: one for &quot;x&quot; coordinates, one for &quot;y&quot;.\r\n\r\n    if(point.x &lt; minX || maxX &lt; point.x)\r\n        return false;\r\n    else if(point.y &lt; minY || maxY &lt; point.y)\r\n        return false;","title":"Java: if statement can be simplified (box contains point)","body":"<p>Try separating it into two if statements: one for \"x\" coordinates, one for \"y\".</p>\n\n<pre><code>if(point.x &lt; minX || maxX &lt; point.x)\n    return false;\nelse if(point.y &lt; minY || maxY &lt; point.y)\n    return false;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3319798,"reputation":627,"user_id":2791256,"display_name":"MrBackend"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1382034368,"creation_date":1382034368,"answer_id":19434402,"question_id":19434202,"body_markdown":"Whenever IntelliJ warns of a possible simplification, it often offers to perform the simplification (by clicking the yellow light bulb). What happens if you do that?","title":"Java: if statement can be simplified (box contains point)","body":"<p>Whenever IntelliJ warns of a possible simplification, it often offers to perform the simplification (by clicking the yellow light bulb). What happens if you do that?</p>\n"},{"tags":[],"owner":{"account_id":1306954,"reputation":11661,"user_id":1255746,"accept_rate":78,"display_name":"Josh M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1382034379,"creation_date":1382034379,"answer_id":19434408,"question_id":19434202,"body_markdown":"Maybe you could try something like this:\r\n\r\n    return new Rectangle(minX, maxX, minY, maxY).contains(point);\r\n\r\nAs far as simplifying from a boolean algebra perspective, you must be looking for Martin&#39;s answer. In fact, you don&#39;t even need to simplify it because the compiler will automatically do it for you. For example, `!(a &amp;&amp; b)` will simplify to `!a || !b` because it is quicker to check each variable separately as opposed to creating a temp variable and check the value of that.","title":"Java: if statement can be simplified (box contains point)","body":"<p>Maybe you could try something like this:</p>\n\n<pre><code>return new Rectangle(minX, maxX, minY, maxY).contains(point);\n</code></pre>\n\n<p>As far as simplifying from a boolean algebra perspective, you must be looking for Martin's answer. In fact, you don't even need to simplify it because the compiler will automatically do it for you. For example, <code>!(a &amp;&amp; b)</code> will simplify to <code>!a || !b</code> because it is quicker to check each variable separately as opposed to creating a temp variable and check the value of that.</p>\n"},{"tags":[],"owner":{"account_id":6827880,"reputation":314,"user_id":5253009,"display_name":"Neha Agarwal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652666190,"creation_date":1652666190,"answer_id":72253501,"question_id":19434202,"body_markdown":"I would just do this.\r\n\r\nreturn !(point.x &lt; minX || point.x &gt; maxX || point.y &lt; minY || point.y &gt; maxY);\r\n\r\nand it would remove the warning.","title":"Java: if statement can be simplified (box contains point)","body":"<p>I would just do this.</p>\n<p>return !(point.x &lt; minX || point.x &gt; maxX || point.y &lt; minY || point.y &gt; maxY);</p>\n<p>and it would remove the warning.</p>\n"}],"owner":{"account_id":3452306,"reputation":106,"user_id":2891683,"display_name":"kiel814"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15074,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":19434228,"answer_count":5,"score":6,"last_activity_date":1652666190,"creation_date":1382033728,"question_id":19434202,"body_markdown":"I have the following statement to check if a Vector2D is within a box, and IntelliJ gives me a warning: &quot;if statement can be simplified&quot;.\r\n\r\n    if(point.x &lt; minX || point.x &gt; maxX || point.y &lt; minY || point.y &gt; maxY)\r\n        return false;\r\n\r\nHow can I simplify this?","title":"Java: if statement can be simplified (box contains point)","body":"<p>I have the following statement to check if a Vector2D is within a box, and IntelliJ gives me a warning: \"if statement can be simplified\".</p>\n\n<pre><code>if(point.x &lt; minX || point.x &gt; maxX || point.y &lt; minY || point.y &gt; maxY)\n    return false;\n</code></pre>\n\n<p>How can I simplify this?</p>\n"},{"tags":["java","android","android-recyclerview","applovin"],"answers":[{"tags":[],"owner":{"account_id":5514270,"reputation":41,"user_id":4379605,"display_name":"juansanchez1993"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652665318,"creation_date":1652664713,"answer_id":72253385,"question_id":71697130,"body_markdown":"After the last Applovin update to 11.4.0, the implementation of the recyclerview is done.\r\n\r\nThis is the link to the official document: https://dash.applovin.com/documentation/mediation/android/getting-started/native-ad-placer\r\n\r\nI enclose the code that I have used and it has worked for the small and medium template, I have not been able to implement the manual template since the ads are not published. Hope this can help you.\r\n\r\n    MaxAdPlacerSettings settings = new MaxAdPlacerSettings(&quot;Ad Unit ID&quot;);\r\n    settings.setRepeatingInterval(2);\r\n    MaxRecyclerAdapter adAdapter = new MaxRecyclerAdapter(settings, yourcurrentadapter, this);\r\n    listview.setAdapter(adAdapter);\r\n    adAdapter.loadAds();","title":"Applovin Template native ad in recycler view adapter","body":"<p>After the last Applovin update to 11.4.0, the implementation of the recyclerview is done.</p>\n<p>This is the link to the official document: <a href=\"https://dash.applovin.com/documentation/mediation/android/getting-started/native-ad-placer\" rel=\"nofollow noreferrer\">https://dash.applovin.com/documentation/mediation/android/getting-started/native-ad-placer</a></p>\n<p>I enclose the code that I have used and it has worked for the small and medium template, I have not been able to implement the manual template since the ads are not published. Hope this can help you.</p>\n<pre><code>MaxAdPlacerSettings settings = new MaxAdPlacerSettings(&quot;Ad Unit ID&quot;);\nsettings.setRepeatingInterval(2);\nMaxRecyclerAdapter adAdapter = new MaxRecyclerAdapter(settings, yourcurrentadapter, this);\nlistview.setAdapter(adAdapter);\nadAdapter.loadAds();\n</code></pre>\n"}],"owner":{"account_id":13897743,"reputation":307,"user_id":10525694,"display_name":"Dhruvbhati"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1438,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1652665318,"creation_date":1648749280,"question_id":71697130,"body_markdown":"I need help implementing Applovin native ads in recycler view. I cannot find any references on how to implement app lovin native template ads in recycler view adapter. \r\n\r\nThe Code to implement native ads in activity is : \r\n\r\n   \r\n\r\n     public class ExampleActivity extends Activity\r\n    {\r\n        private MaxNativeAdLoader nativeAdLoader;\r\n        private MaxAd             nativeAd;\r\n    \r\n        void createNativeAd()\r\n        {\r\n            FrameLayout nativeAdContainer = findViewById( R.id.native_ad_layout );\r\n    \r\n            nativeAdLoader = new MaxNativeAdLoader( &quot;YOUR_AD_UNIT_ID&quot;, this );\r\n            nativeAdLoader.setNativeAdListener( new MaxNativeAdListener()\r\n            {\r\n                @Override\r\n                public void onNativeAdLoaded(final MaxNativeAdView nativeAdView, final MaxAd ad)\r\n                {\r\n                    // Clean up any pre-existing native ad to prevent memory leaks.\r\n                    if ( nativeAd != null )\r\n                    {\r\n                        nativeAdLoader.destroy( nativeAd );\r\n                    }\r\n    \r\n                    // Save ad for cleanup.\r\n                    nativeAd = ad;\r\n    \r\n                    // Add ad view to view.\r\n                    nativeAdContainer.removeAllViews();\r\n                    nativeAdContainer.addView( nativeAdView );\r\n                }\r\n    \r\n                @Override\r\n                public void onNativeAdLoadFailed(final String adUnitId, final MaxError error)\r\n                {\r\n                    // We recommend retrying with exponentially higher delays up to a maximum delay\r\n                }\r\n    \r\n                @Override\r\n                public void onNativeAdClicked(final MaxAd ad)\r\n                {\r\n                    // Optional click callback\r\n                }\r\n            } );\r\n    \r\n            nativeAdLoader.loadAd();\r\n        }\r\n    }\r\n\r\n\r\nHow can I add this in my recycler view adapter and show ads?\r\nI have searched everywhere on internet but could not find any references how to do that.","title":"Applovin Template native ad in recycler view adapter","body":"<p>I need help implementing Applovin native ads in recycler view. I cannot find any references on how to implement app lovin native template ads in recycler view adapter.</p>\n<p>The Code to implement native ads in activity is :</p>\n<pre><code> public class ExampleActivity extends Activity\n{\n    private MaxNativeAdLoader nativeAdLoader;\n    private MaxAd             nativeAd;\n\n    void createNativeAd()\n    {\n        FrameLayout nativeAdContainer = findViewById( R.id.native_ad_layout );\n\n        nativeAdLoader = new MaxNativeAdLoader( &quot;YOUR_AD_UNIT_ID&quot;, this );\n        nativeAdLoader.setNativeAdListener( new MaxNativeAdListener()\n        {\n            @Override\n            public void onNativeAdLoaded(final MaxNativeAdView nativeAdView, final MaxAd ad)\n            {\n                // Clean up any pre-existing native ad to prevent memory leaks.\n                if ( nativeAd != null )\n                {\n                    nativeAdLoader.destroy( nativeAd );\n                }\n\n                // Save ad for cleanup.\n                nativeAd = ad;\n\n                // Add ad view to view.\n                nativeAdContainer.removeAllViews();\n                nativeAdContainer.addView( nativeAdView );\n            }\n\n            @Override\n            public void onNativeAdLoadFailed(final String adUnitId, final MaxError error)\n            {\n                // We recommend retrying with exponentially higher delays up to a maximum delay\n            }\n\n            @Override\n            public void onNativeAdClicked(final MaxAd ad)\n            {\n                // Optional click callback\n            }\n        } );\n\n        nativeAdLoader.loadAd();\n    }\n}\n</code></pre>\n<p>How can I add this in my recycler view adapter and show ads?\nI have searched everywhere on internet but could not find any references how to do that.</p>\n"},{"tags":["java","anylogic"],"comments":[{"owner":{"account_id":24604535,"reputation":276,"user_id":18506922,"display_name":"Kemper Lee"},"score":0,"creation_date":1652665264,"post_id":72253379,"comment_id":127653503,"body_markdown":"You say here that &quot;([you] don&#39;t know how to do [a Poisson distribution])&quot; so here is a brief explanation and link in case that is a big part of the problem: &quot;...can be used to estimate how many times an event is likely to occur within &quot;X&quot; periods of time.&quot; https://www.investopedia.com/terms/p/poisson-distribution.asp","body":"You say here that &quot;([you] don&#39;t know how to do [a Poisson distribution])&quot; so here is a brief explanation and link in case that is a big part of the problem: &quot;...can be used to estimate how many times an event is likely to occur within &quot;X&quot; periods of time.&quot; <a href=\"https://www.investopedia.com/terms/p/poisson-distribution.asp\" rel=\"nofollow noreferrer\">investopedia.com/terms/p/poisson-distribution.asp</a>"},{"owner":{"account_id":22418582,"reputation":7,"user_id":16626255,"display_name":"Mnasri Souhail"},"score":0,"creation_date":1652665578,"post_id":72253379,"comment_id":127653539,"body_markdown":"I know the formula, but I mean how to use it in Anylogic, I use this code `Orderwholesaler orderwholesaler = new Orderwholesaler(poisson(5.3), this);\nFactorytrcuks truck = getNearestAgent(filter(main.factorytrcukses,\n                   v -&gt; v.inState(Factorytrcuks.AtFactory)));\n                   \nsend (orderwholesaler, truck);` but I got this error &quot;Description: The constructor Orderwholesaler(int, Wholesaler1) is undefined. Location: m&#233;moire/Wholesaler1/request1 - Event&quot;","body":"I know the formula, but I mean how to use it in Anylogic, I use this code <code>Orderwholesaler orderwholesaler = new Orderwholesaler(poisson(5.3), this); Factorytrcuks truck = getNearestAgent(filter(main.factorytrcukses,                    v -&gt; v.inState(Factorytrcuks.AtFactory)));                     send (orderwholesaler, truck);</code> but I got this error &quot;Description: The constructor Orderwholesaler(int, Wholesaler1) is undefined. Location: m&#233;moire/Wholesaler1/request1 - Event&quot;"},{"owner":{"account_id":24604535,"reputation":276,"user_id":18506922,"display_name":"Kemper Lee"},"score":0,"creation_date":1652665869,"post_id":72253379,"comment_id":127653564,"body_markdown":"Ha, shoulda figured that by the tag! Unfortunately, I am not well-versed in that area so the best I can do for you is provide this starting link: https://anylogic.help/advanced/code/index.html. Is it just a workspace or does it have different code functionality?","body":"Ha, shoulda figured that by the tag! Unfortunately, I am not well-versed in that area so the best I can do for you is provide this starting link: <a href=\"https://anylogic.help/advanced/code/index.html\" rel=\"nofollow noreferrer\">anylogic.help/advanced/code/index.html</a>. Is it just a workspace or does it have different code functionality?"},{"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"score":1,"creation_date":1652703857,"post_id":72253379,"comment_id":127662530,"body_markdown":"Hey, welcome to SOF and AnyLogic. To get the best help here, avoid asking &quot;can you tell me how to do X&quot;. This will not work. Instead, ask &quot;how can I fix Y&quot;, showing your trials already. Here is a summary on how to make SOF work for you as an AnyLogic user: https://www.benjamin-schumann.com/blog/2021/4/1/how-to-win-at-anylogic-on-stackoverflow","body":"Hey, welcome to SOF and AnyLogic. To get the best help here, avoid asking &quot;can you tell me how to do X&quot;. This will not work. Instead, ask &quot;how can I fix Y&quot;, showing your trials already. Here is a summary on how to make SOF work for you as an AnyLogic user: <a href=\"https://www.benjamin-schumann.com/blog/2021/4/1/how-to-win-at-anylogic-on-stackoverflow\" rel=\"nofollow noreferrer\">benjamin-schumann.com/blog/2021/4/1/&hellip;</a>"}],"owner":{"account_id":22418582,"reputation":7,"user_id":16626255,"display_name":"Mnasri Souhail"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652664601,"creation_date":1652664601,"question_id":72253379,"body_markdown":"I would like to add products to my supply chain simulation (Manufacturer, Wholesaler, and Retailers)\r\nTo explain more: I created now a simulation of Manufacturer, 2 wholesalers and 10 retailers and I would like to create\r\n- a population of client that orders from retailers by ***Poisson distribution*** **(I don&#39;t know how to do it)**\r\n- if the retailer received the order he will check on current stock, if the order available he will fulfil the retailer, if not he&#39;ll send an order to the manufacturer.\r\n- the manufacturer has full capacity.\r\n\r\nDoes anyone tell me how to create this ?\r\nI just made the simulation of moving truck from manufacturer to the wholesalers but without any order.\r\nI know about the tutorial on Anylogic and I&#39;m applying it, but it&#39;s not what I&#39;m thinking about \r\nI would like the demand from clients by Poisson distribution\r\n","title":"Add products to my supply chain simulation and some problems","body":"<p>I would like to add products to my supply chain simulation (Manufacturer, Wholesaler, and Retailers)\nTo explain more: I created now a simulation of Manufacturer, 2 wholesalers and 10 retailers and I would like to create</p>\n<ul>\n<li>a population of client that orders from retailers by <em><strong>Poisson distribution</strong></em> <strong>(I don't know how to do it)</strong></li>\n<li>if the retailer received the order he will check on current stock, if the order available he will fulfil the retailer, if not he'll send an order to the manufacturer.</li>\n<li>the manufacturer has full capacity.</li>\n</ul>\n<p>Does anyone tell me how to create this ?\nI just made the simulation of moving truck from manufacturer to the wholesalers but without any order.\nI know about the tutorial on Anylogic and I'm applying it, but it's not what I'm thinking about\nI would like the demand from clients by Poisson distribution</p>\n"},{"tags":["java","event-handling","keyevent"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1652663474,"post_id":72253248,"comment_id":127653291,"body_markdown":"`KeyListener` is notorious well known for not responding to key events - to some research, you&#39;ll find it gets asked a lot.  The problem is, in order for a component to generate a `KeyEvent` (via `KeyListener`), the component must be both focusable AND have keyboard focus.  A `JFrame` is very unlikely to ever meet these two requirements, add in the issues that you have other components which will &quot;steal&quot; focus you&#39;re in a never ending conflict.","body":"<code>KeyListener</code> is notorious well known for not responding to key events - to some research, you&#39;ll find it gets asked a lot.  The problem is, in order for a component to generate a <code>KeyEvent</code> (via <code>KeyListener</code>), the component must be both focusable AND have keyboard focus.  A <code>JFrame</code> is very unlikely to ever meet these two requirements, add in the issues that you have other components which will &quot;steal&quot; focus you&#39;re in a never ending conflict."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1652663479,"post_id":72253248,"comment_id":127653292,"body_markdown":"The solution is dependent on the problem you are trying to solve.  Preference is generally given to using [key bindings](https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html)","body":"The solution is dependent on the problem you are trying to solve.  Preference is generally given to using <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">key bindings</a>"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1652670363,"post_id":72253248,"comment_id":127654086,"body_markdown":"It&#39;s not that it &quot;won&#39;t work&quot;, it&#39;s the fact that component it is registered to MUST be focusable AND have focus, so once you click on your checkboxes/buttons/list, you panel will lose focus and the `KeyListener` will stop responding - this is a well known limitation of `KeyListener`s","body":"It&#39;s not that it &quot;won&#39;t work&quot;, it&#39;s the fact that component it is registered to MUST be focusable AND have focus, so once you click on your checkboxes/buttons/list, you panel will lose focus and the <code>KeyListener</code> will stop responding - this is a well known limitation of <code>KeyListener</code>s"},{"owner":{"account_id":7123850,"reputation":1,"user_id":5447466,"display_name":"stupidmoron"},"score":0,"creation_date":1652671718,"post_id":72253248,"comment_id":127654230,"body_markdown":"@MadProgrammer YAY, it works!!!  Thank you so much for your help!  All I had to do was put requestFocusInWindow(); in my mouseClicked method!","body":"@MadProgrammer YAY, it works!!!  Thank you so much for your help!  All I had to do was put requestFocusInWindow(); in my mouseClicked method!"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1652672064,"post_id":72253248,"comment_id":127654273,"body_markdown":"Now click a button and see what happens","body":"Now click a button and see what happens"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652664142,"creation_date":1652664142,"answer_id":72253346,"question_id":72253248,"body_markdown":"`KeyListener` is notorious well known for not responding to key events - to some research, you&#39;ll find it gets asked a lot.  The problem is, in order for a component to generate a `KeyEvent` (via `KeyListener`), the component must be both focusable AND have keyboard focus.  A `JFrame` is very unlikely to ever meet these two requirements, add in the issues that you have other components which will &quot;steal&quot; focus you&#39;re in a never ending conflict.\r\n\r\nThe solution is dependent on the problem you are trying to solve.  Preference is generally given to using [key bindings](https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html)\r\n\r\nFor a simple example, you could create a component which was focusable and the monitor for `KeyEvents`, for example...\r\n\r\n\r\n    public class KeyInputPane extends JPanel {\r\n\r\n        private JLabel instructionsLabel;\r\n        private JLabel keyLabel;\r\n\r\n        public KeyInputPane() {\r\n            setBorder(new CompoundBorder(new LineBorder(Color.GRAY, 1), new EmptyBorder(3, 3, 3, 3)));\r\n            setFocusable(true);\r\n\r\n            instructionsLabel = new JLabel(&quot;Waiting for focus...&quot;);\r\n            keyLabel = new JLabel(&quot; &quot;);\r\n\r\n            setLayout(new GridBagLayout());\r\n            GridBagConstraints gbc = new GridBagConstraints();\r\n            gbc.gridwidth = gbc.REMAINDER;\r\n\r\n            add(instructionsLabel, gbc);\r\n            add(keyLabel, gbc);\r\n\r\n            addFocusListener(new FocusAdapter() {\r\n                @Override\r\n                public void focusGained(FocusEvent e) {\r\n                    setBorder(new CompoundBorder(new LineBorder(Color.BLUE, 1), new EmptyBorder(3, 3, 3, 3)));\r\n                    instructionsLabel.setText(&quot;Type something&quot;);\r\n                    keyLabel.setText(&quot;...&quot;);\r\n                }\r\n\r\n                @Override\r\n                public void focusLost(FocusEvent e) {\r\n                    setBorder(new CompoundBorder(new LineBorder(Color.GRAY, 1), new EmptyBorder(3, 3, 3, 3)));\r\n                    instructionsLabel.setText(&quot;Waiting for focus...&quot;);\r\n                    keyLabel.setText(&quot; &quot;);\r\n                }\r\n            });\r\n            addMouseListener(new MouseAdapter() {\r\n                @Override\r\n                public void mouseClicked(MouseEvent e) {\r\n                    requestFocusInWindow();\r\n                }\r\n            });\r\n            addKeyListener(new KeyAdapter() {\r\n                @Override\r\n                public void keyTyped(KeyEvent e) {\r\n                    keyLabel.setText(Character.toString(e.getKeyChar()));\r\n                }\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n# Runnable example...\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.EventQueue;\r\n    import java.awt.FlowLayout;\r\n    import java.awt.Font;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import javax.swing.JFrame;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.FocusAdapter;\r\n    import java.awt.event.FocusEvent;\r\n    import java.awt.event.ItemEvent;\r\n    import java.awt.event.ItemListener;\r\n    import java.awt.event.KeyAdapter;\r\n    import java.awt.event.KeyEvent;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.event.MouseMotionAdapter;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JCheckBox;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JList;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.ListSelectionModel;\r\n    import javax.swing.border.CompoundBorder;\r\n    import javax.swing.border.EmptyBorder;\r\n    import javax.swing.border.LineBorder;\r\n    import javax.swing.event.ListSelectionEvent;\r\n    import javax.swing.event.ListSelectionListener;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new EventsPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class KeyInputPane extends JPanel {\r\n\r\n            private JLabel instructionsLabel;\r\n            private JLabel keyLabel;\r\n\r\n            public KeyInputPane() {\r\n                setBorder(new CompoundBorder(new LineBorder(Color.GRAY, 1), new EmptyBorder(3, 3, 3, 3)));\r\n                setFocusable(true);\r\n\r\n                instructionsLabel = new JLabel(&quot;Waiting for focus...&quot;);\r\n                keyLabel = new JLabel(&quot; &quot;);\r\n\r\n                setLayout(new GridBagLayout());\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridwidth = gbc.REMAINDER;\r\n\r\n                add(instructionsLabel, gbc);\r\n                add(keyLabel, gbc);\r\n\r\n                addFocusListener(new FocusAdapter() {\r\n                    @Override\r\n                    public void focusGained(FocusEvent e) {\r\n                        setBorder(new CompoundBorder(new LineBorder(Color.BLUE, 1), new EmptyBorder(3, 3, 3, 3)));\r\n                        instructionsLabel.setText(&quot;Type something&quot;);\r\n                        keyLabel.setText(&quot;...&quot;);\r\n                    }\r\n\r\n                    @Override\r\n                    public void focusLost(FocusEvent e) {\r\n                        setBorder(new CompoundBorder(new LineBorder(Color.GRAY, 1), new EmptyBorder(3, 3, 3, 3)));\r\n                        instructionsLabel.setText(&quot;Waiting for focus...&quot;);\r\n                        keyLabel.setText(&quot; &quot;);\r\n                    }\r\n                });\r\n                addMouseListener(new MouseAdapter() {\r\n                    @Override\r\n                    public void mouseClicked(MouseEvent e) {\r\n                        requestFocusInWindow();\r\n                    }\r\n                });\r\n                addKeyListener(new KeyAdapter() {\r\n                    @Override\r\n                    public void keyTyped(KeyEvent e) {\r\n                        keyLabel.setText(Character.toString(e.getKeyChar()));\r\n                    }\r\n                });\r\n            }\r\n\r\n        }\r\n\r\n        public class EventsPane extends JPanel {\r\n            private JLabel insLabel;\r\n            private JLabel fontLabel;\r\n            private JLabel mouseLabel;\r\n            private JLabel resultLabel;\r\n            private JList fontList;\r\n            private static final String[] fontNames = {&quot;Serif&quot;, &quot;SansSerif&quot;, &quot;Monospaced&quot;};\r\n            private JCheckBox boldCb;\r\n            private JCheckBox italicCb;\r\n            private JButton submitButton;\r\n            private JPanel middlePanel;\r\n            private JPanel bottomPanel;\r\n            private String fontName;\r\n            private String fontStyle;\r\n\r\n            public EventsPane() {\r\n                setLayout(new BorderLayout());\r\n                insLabel = new JLabel(&quot;Please feel free to click anywhere or press any key.&quot;);\r\n                fontLabel = new JLabel(&quot;Choose a font:&quot;);\r\n                fontList = new JList(fontNames);\r\n                fontList.setVisibleRowCount(3);\r\n                fontList.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);\r\n                add(new JScrollPane(fontList));\r\n                boldCb = new JCheckBox(&quot;Bold&quot;);\r\n                italicCb = new JCheckBox(&quot;Italic&quot;);\r\n                submitButton = new JButton(&quot;Submit&quot;);\r\n                mouseLabel = new JLabel(&quot;&quot;);\r\n                resultLabel = new JLabel(&quot;&quot;);\r\n                middlePanel = new JPanel();\r\n                middlePanel.setLayout(new FlowLayout());\r\n                bottomPanel = new JPanel();\r\n                bottomPanel.setLayout(new FlowLayout());\r\n                add(insLabel, BorderLayout.NORTH);\r\n                middlePanel.add(fontLabel);\r\n                middlePanel.add(fontList);\r\n                middlePanel.add(boldCb);\r\n                middlePanel.add(italicCb);\r\n                middlePanel.add(submitButton);\r\n                middlePanel.add(new KeyInputPane());\r\n                add(middlePanel, BorderLayout.CENTER);\r\n                bottomPanel.add(mouseLabel);\r\n                bottomPanel.add(resultLabel);\r\n                add(bottomPanel, BorderLayout.SOUTH);\r\n\r\n                // set up event handling\r\n                fontList.addListSelectionListener(new ListSelectionListener() {\r\n                    public void valueChanged(ListSelectionEvent e) {\r\n                        fontName = fontNames[fontList.getSelectedIndex()];\r\n                    }\r\n                });\r\n\r\n                CheckBoxHandler handler = new CheckBoxHandler();\r\n                boldCb.addItemListener(handler);\r\n                italicCb.addItemListener(handler);\r\n\r\n                submitButton.addActionListener(new ActionListener() {\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        if (fontStyle == &quot;both&quot;) {\r\n                            resultLabel.setFont(new Font(fontName, Font.BOLD + Font.ITALIC, 18));\r\n                            resultLabel.setText(&quot;You chose &quot; + fontName + &quot; bold and italic&quot;);\r\n                        } else if (fontStyle == &quot;bold&quot;) {\r\n                            resultLabel.setFont(new Font(fontName, Font.BOLD, 18));\r\n                            resultLabel.setText(&quot;You chose &quot; + fontName + &quot; bold&quot;);\r\n                        } else if (fontStyle == &quot;italic&quot;) {\r\n                            resultLabel.setFont(new Font(fontName, Font.ITALIC, 18));\r\n                            resultLabel.setText(&quot;You chose &quot; + fontName + &quot; italic&quot;);\r\n                        } else {\r\n                            resultLabel.setFont(new Font(fontName, Font.PLAIN, 18));\r\n                            resultLabel.setText(&quot;You chose &quot; + fontName + &quot; plain&quot;);\r\n                        }\r\n                    }\r\n                });\r\n\r\n                addMouseListener(new MouseClickHandler());\r\n                addMouseMotionListener(new MouseMotionHandler());\r\n                addKeyListener(new KeyHandler());\r\n            } // end constructor\r\n\r\n            private class CheckBoxHandler implements ItemListener {\r\n                public void itemStateChanged(ItemEvent e) {\r\n                    if (boldCb.isSelected() &amp;&amp; italicCb.isSelected()) {\r\n                        fontStyle = &quot;both&quot;;\r\n                    } else if (boldCb.isSelected()) {\r\n                        fontStyle = &quot;bold&quot;;\r\n                    } else if (italicCb.isSelected()) {\r\n                        fontStyle = &quot;italic&quot;;\r\n                    } else {\r\n                        fontStyle = &quot;plain&quot;;\r\n                    }\r\n                }\r\n            }\r\n\r\n            private class MouseClickHandler extends MouseAdapter {\r\n                public void mouseClicked(MouseEvent e) {\r\n                    int xPos = e.getX();\r\n                    int yPos = e.getY();\r\n                    mouseLabel.setText(&quot;Mouse clicked at (&quot; + xPos + &quot;, &quot; + yPos + &quot;)&quot;);\r\n                }\r\n            }\r\n\r\n            private class MouseMotionHandler extends MouseMotionAdapter {\r\n                public void mouseMoved(MouseEvent e) {\r\n                    int xPos = e.getX();\r\n                    int yPos = e.getY();\r\n                    mouseLabel.setText(&quot;Mouse moved at (&quot; + xPos + &quot;, &quot; + yPos + &quot;)&quot;);\r\n                }\r\n            }\r\n\r\n            private class KeyHandler extends KeyAdapter {\r\n                public void keyPressed(KeyEvent e) {\r\n                    resultLabel.setText(&quot;You pressed &quot; + KeyEvent.getKeyText(e.getKeyCode()));\r\n                }\r\n            }\r\n        }\r\n    }\r\n","title":"Key event handling - key pressed doesn&#39;t show up on JLabel","body":"<p><code>KeyListener</code> is notorious well known for not responding to key events - to some research, you'll find it gets asked a lot.  The problem is, in order for a component to generate a <code>KeyEvent</code> (via <code>KeyListener</code>), the component must be both focusable AND have keyboard focus.  A <code>JFrame</code> is very unlikely to ever meet these two requirements, add in the issues that you have other components which will &quot;steal&quot; focus you're in a never ending conflict.</p>\n<p>The solution is dependent on the problem you are trying to solve.  Preference is generally given to using <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">key bindings</a></p>\n<p>For a simple example, you could create a component which was focusable and the monitor for <code>KeyEvents</code>, for example...</p>\n<pre><code>public class KeyInputPane extends JPanel {\n\n    private JLabel instructionsLabel;\n    private JLabel keyLabel;\n\n    public KeyInputPane() {\n        setBorder(new CompoundBorder(new LineBorder(Color.GRAY, 1), new EmptyBorder(3, 3, 3, 3)));\n        setFocusable(true);\n\n        instructionsLabel = new JLabel(&quot;Waiting for focus...&quot;);\n        keyLabel = new JLabel(&quot; &quot;);\n\n        setLayout(new GridBagLayout());\n        GridBagConstraints gbc = new GridBagConstraints();\n        gbc.gridwidth = gbc.REMAINDER;\n\n        add(instructionsLabel, gbc);\n        add(keyLabel, gbc);\n\n        addFocusListener(new FocusAdapter() {\n            @Override\n            public void focusGained(FocusEvent e) {\n                setBorder(new CompoundBorder(new LineBorder(Color.BLUE, 1), new EmptyBorder(3, 3, 3, 3)));\n                instructionsLabel.setText(&quot;Type something&quot;);\n                keyLabel.setText(&quot;...&quot;);\n            }\n\n            @Override\n            public void focusLost(FocusEvent e) {\n                setBorder(new CompoundBorder(new LineBorder(Color.GRAY, 1), new EmptyBorder(3, 3, 3, 3)));\n                instructionsLabel.setText(&quot;Waiting for focus...&quot;);\n                keyLabel.setText(&quot; &quot;);\n            }\n        });\n        addMouseListener(new MouseAdapter() {\n            @Override\n            public void mouseClicked(MouseEvent e) {\n                requestFocusInWindow();\n            }\n        });\n        addKeyListener(new KeyAdapter() {\n            @Override\n            public void keyTyped(KeyEvent e) {\n                keyLabel.setText(Character.toString(e.getKeyChar()));\n            }\n        });\n    }\n\n}\n</code></pre>\n<h1>Runnable example...</h1>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.EventQueue;\nimport java.awt.FlowLayout;\nimport java.awt.Font;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport javax.swing.JFrame;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.FocusAdapter;\nimport java.awt.event.FocusEvent;\nimport java.awt.event.ItemEvent;\nimport java.awt.event.ItemListener;\nimport java.awt.event.KeyAdapter;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseMotionAdapter;\nimport javax.swing.JButton;\nimport javax.swing.JCheckBox;\nimport javax.swing.JLabel;\nimport javax.swing.JList;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.ListSelectionModel;\nimport javax.swing.border.CompoundBorder;\nimport javax.swing.border.EmptyBorder;\nimport javax.swing.border.LineBorder;\nimport javax.swing.event.ListSelectionEvent;\nimport javax.swing.event.ListSelectionListener;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new EventsPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class KeyInputPane extends JPanel {\n\n        private JLabel instructionsLabel;\n        private JLabel keyLabel;\n\n        public KeyInputPane() {\n            setBorder(new CompoundBorder(new LineBorder(Color.GRAY, 1), new EmptyBorder(3, 3, 3, 3)));\n            setFocusable(true);\n\n            instructionsLabel = new JLabel(&quot;Waiting for focus...&quot;);\n            keyLabel = new JLabel(&quot; &quot;);\n\n            setLayout(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridwidth = gbc.REMAINDER;\n\n            add(instructionsLabel, gbc);\n            add(keyLabel, gbc);\n\n            addFocusListener(new FocusAdapter() {\n                @Override\n                public void focusGained(FocusEvent e) {\n                    setBorder(new CompoundBorder(new LineBorder(Color.BLUE, 1), new EmptyBorder(3, 3, 3, 3)));\n                    instructionsLabel.setText(&quot;Type something&quot;);\n                    keyLabel.setText(&quot;...&quot;);\n                }\n\n                @Override\n                public void focusLost(FocusEvent e) {\n                    setBorder(new CompoundBorder(new LineBorder(Color.GRAY, 1), new EmptyBorder(3, 3, 3, 3)));\n                    instructionsLabel.setText(&quot;Waiting for focus...&quot;);\n                    keyLabel.setText(&quot; &quot;);\n                }\n            });\n            addMouseListener(new MouseAdapter() {\n                @Override\n                public void mouseClicked(MouseEvent e) {\n                    requestFocusInWindow();\n                }\n            });\n            addKeyListener(new KeyAdapter() {\n                @Override\n                public void keyTyped(KeyEvent e) {\n                    keyLabel.setText(Character.toString(e.getKeyChar()));\n                }\n            });\n        }\n\n    }\n\n    public class EventsPane extends JPanel {\n        private JLabel insLabel;\n        private JLabel fontLabel;\n        private JLabel mouseLabel;\n        private JLabel resultLabel;\n        private JList fontList;\n        private static final String[] fontNames = {&quot;Serif&quot;, &quot;SansSerif&quot;, &quot;Monospaced&quot;};\n        private JCheckBox boldCb;\n        private JCheckBox italicCb;\n        private JButton submitButton;\n        private JPanel middlePanel;\n        private JPanel bottomPanel;\n        private String fontName;\n        private String fontStyle;\n\n        public EventsPane() {\n            setLayout(new BorderLayout());\n            insLabel = new JLabel(&quot;Please feel free to click anywhere or press any key.&quot;);\n            fontLabel = new JLabel(&quot;Choose a font:&quot;);\n            fontList = new JList(fontNames);\n            fontList.setVisibleRowCount(3);\n            fontList.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);\n            add(new JScrollPane(fontList));\n            boldCb = new JCheckBox(&quot;Bold&quot;);\n            italicCb = new JCheckBox(&quot;Italic&quot;);\n            submitButton = new JButton(&quot;Submit&quot;);\n            mouseLabel = new JLabel(&quot;&quot;);\n            resultLabel = new JLabel(&quot;&quot;);\n            middlePanel = new JPanel();\n            middlePanel.setLayout(new FlowLayout());\n            bottomPanel = new JPanel();\n            bottomPanel.setLayout(new FlowLayout());\n            add(insLabel, BorderLayout.NORTH);\n            middlePanel.add(fontLabel);\n            middlePanel.add(fontList);\n            middlePanel.add(boldCb);\n            middlePanel.add(italicCb);\n            middlePanel.add(submitButton);\n            middlePanel.add(new KeyInputPane());\n            add(middlePanel, BorderLayout.CENTER);\n            bottomPanel.add(mouseLabel);\n            bottomPanel.add(resultLabel);\n            add(bottomPanel, BorderLayout.SOUTH);\n\n            // set up event handling\n            fontList.addListSelectionListener(new ListSelectionListener() {\n                public void valueChanged(ListSelectionEvent e) {\n                    fontName = fontNames[fontList.getSelectedIndex()];\n                }\n            });\n\n            CheckBoxHandler handler = new CheckBoxHandler();\n            boldCb.addItemListener(handler);\n            italicCb.addItemListener(handler);\n\n            submitButton.addActionListener(new ActionListener() {\n                public void actionPerformed(ActionEvent e) {\n                    if (fontStyle == &quot;both&quot;) {\n                        resultLabel.setFont(new Font(fontName, Font.BOLD + Font.ITALIC, 18));\n                        resultLabel.setText(&quot;You chose &quot; + fontName + &quot; bold and italic&quot;);\n                    } else if (fontStyle == &quot;bold&quot;) {\n                        resultLabel.setFont(new Font(fontName, Font.BOLD, 18));\n                        resultLabel.setText(&quot;You chose &quot; + fontName + &quot; bold&quot;);\n                    } else if (fontStyle == &quot;italic&quot;) {\n                        resultLabel.setFont(new Font(fontName, Font.ITALIC, 18));\n                        resultLabel.setText(&quot;You chose &quot; + fontName + &quot; italic&quot;);\n                    } else {\n                        resultLabel.setFont(new Font(fontName, Font.PLAIN, 18));\n                        resultLabel.setText(&quot;You chose &quot; + fontName + &quot; plain&quot;);\n                    }\n                }\n            });\n\n            addMouseListener(new MouseClickHandler());\n            addMouseMotionListener(new MouseMotionHandler());\n            addKeyListener(new KeyHandler());\n        } // end constructor\n\n        private class CheckBoxHandler implements ItemListener {\n            public void itemStateChanged(ItemEvent e) {\n                if (boldCb.isSelected() &amp;&amp; italicCb.isSelected()) {\n                    fontStyle = &quot;both&quot;;\n                } else if (boldCb.isSelected()) {\n                    fontStyle = &quot;bold&quot;;\n                } else if (italicCb.isSelected()) {\n                    fontStyle = &quot;italic&quot;;\n                } else {\n                    fontStyle = &quot;plain&quot;;\n                }\n            }\n        }\n\n        private class MouseClickHandler extends MouseAdapter {\n            public void mouseClicked(MouseEvent e) {\n                int xPos = e.getX();\n                int yPos = e.getY();\n                mouseLabel.setText(&quot;Mouse clicked at (&quot; + xPos + &quot;, &quot; + yPos + &quot;)&quot;);\n            }\n        }\n\n        private class MouseMotionHandler extends MouseMotionAdapter {\n            public void mouseMoved(MouseEvent e) {\n                int xPos = e.getX();\n                int yPos = e.getY();\n                mouseLabel.setText(&quot;Mouse moved at (&quot; + xPos + &quot;, &quot; + yPos + &quot;)&quot;);\n            }\n        }\n\n        private class KeyHandler extends KeyAdapter {\n            public void keyPressed(KeyEvent e) {\n                resultLabel.setText(&quot;You pressed &quot; + KeyEvent.getKeyText(e.getKeyCode()));\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7123850,"reputation":1,"user_id":5447466,"display_name":"stupidmoron"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652664142,"creation_date":1652662777,"question_id":72253248,"body_markdown":"I am doing an exercise in a book where you have to test event handling, and one of them is key events.  I followed the instructions in the book on how to handle keyPressed events, but my key event handler is not displaying the keys that are pressed on a JLabel like it&#39;s supposed to do.  Here is my code:\r\n\r\n```\r\nimport java.awt.FlowLayout;\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Font;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ItemListener;\r\nimport java.awt.event.ItemEvent;\r\nimport java.awt.event.MouseAdapter;\r\nimport java.awt.event.MouseEvent;\r\nimport java.awt.event.MouseMotionAdapter;\r\nimport java.awt.event.KeyAdapter;\r\nimport java.awt.event.KeyEvent;\r\nimport java.awt.event.InputEvent;\r\nimport javax.swing.event.ListSelectionListener;\r\nimport javax.swing.event.ListSelectionEvent;\r\nimport javax.swing.ListSelectionModel;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JList;\r\nimport javax.swing.JScrollPane;\r\nimport javax.swing.JCheckBox;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JPanel;\r\n\r\npublic class Events extends JFrame {\r\n\tprivate JLabel insLabel;\r\n\tprivate JLabel fontLabel;\r\n\tprivate JLabel mouseLabel;\r\n\tprivate JLabel resultLabel;\r\n\tprivate JList fontList;\r\n\tprivate static final String[] fontNames = {&quot;Serif&quot;, &quot;SansSerif&quot;, &quot;Monospaced&quot;};\r\n\tprivate JCheckBox boldCb;\r\n\tprivate JCheckBox italicCb;\r\n\tprivate JButton submitButton;\r\n\tprivate JPanel middlePanel;\r\n\tprivate JPanel bottomPanel;\r\n\tprivate String fontName;\r\n\tprivate String fontStyle;\r\n\t\r\n\tpublic Events() {\r\n\t\tsuper(&quot;Demonstrating Events&quot;);\r\n\t\tsetLayout(new BorderLayout());\r\n\t\tinsLabel = new JLabel(&quot;Please feel free to click anywhere or press any key.&quot;);\r\n\t\tfontLabel = new JLabel(&quot;Choose a font:&quot;);\r\n\t\tfontList = new JList(fontNames);\r\n\t\tfontList.setVisibleRowCount(3);\r\n\t\tfontList.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);\r\n\t\tadd(new JScrollPane(fontList));\r\n\t\tboldCb = new JCheckBox(&quot;Bold&quot;);\r\n\t\titalicCb = new JCheckBox(&quot;Italic&quot;);\r\n\t\tsubmitButton = new JButton(&quot;Submit&quot;);\r\n\t\tmouseLabel = new JLabel(&quot;&quot;);\r\n\t\tresultLabel = new JLabel(&quot;&quot;);\r\n\t\tmiddlePanel = new JPanel();\r\n\t\tmiddlePanel.setLayout(new FlowLayout());\r\n\t\tbottomPanel = new JPanel();\r\n\t\tbottomPanel.setLayout(new FlowLayout());\r\n\t\tadd(insLabel, BorderLayout.NORTH);\r\n\t\tmiddlePanel.add(fontLabel);\r\n\t\tmiddlePanel.add(fontList);\r\n\t\tmiddlePanel.add(boldCb);\r\n\t\tmiddlePanel.add(italicCb);\r\n\t\tmiddlePanel.add(submitButton);\r\n\t\tadd(middlePanel, BorderLayout.CENTER);\r\n\t\tbottomPanel.add(mouseLabel);\r\n\t\tbottomPanel.add(resultLabel);\r\n\t\tadd(bottomPanel, BorderLayout.SOUTH);\r\n\t\t\r\n\t\t// set up event handling\r\n\t\t\r\n\t\tfontList.addListSelectionListener(new ListSelectionListener() {\r\n\t\t\tpublic void valueChanged(ListSelectionEvent e) {\r\n\t\t\t\tfontName = fontNames[fontList.getSelectedIndex()];\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tCheckBoxHandler handler = new CheckBoxHandler();\r\n\t\tboldCb.addItemListener(handler);\r\n\t\titalicCb.addItemListener(handler);\r\n\t\t\r\n\t\tsubmitButton.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\tif(fontStyle == &quot;both&quot;) {\r\n\t\t\t\t\tresultLabel.setFont(new Font(fontName, Font.BOLD + Font.ITALIC, 18));\r\n\t\t\t\t\tresultLabel.setText(&quot;You chose &quot; + fontName + &quot; bold and italic&quot;);\r\n\t\t\t\t} else if(fontStyle == &quot;bold&quot;) {\r\n\t\t\t\t\tresultLabel.setFont(new Font(fontName, Font.BOLD, 18));\r\n\t\t\t\t\tresultLabel.setText(&quot;You chose &quot; + fontName + &quot; bold&quot;);\r\n\t\t\t\t} else if(fontStyle == &quot;italic&quot;) {\r\n\t\t\t\t\tresultLabel.setFont(new Font(fontName, Font.ITALIC, 18));\r\n\t\t\t\t\tresultLabel.setText(&quot;You chose &quot; + fontName + &quot; italic&quot;);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresultLabel.setFont(new Font(fontName, Font.PLAIN, 18));\r\n\t\t\t\t\tresultLabel.setText(&quot;You chose &quot; + fontName + &quot; plain&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\taddMouseListener(new MouseClickHandler());\r\n\t\taddMouseMotionListener(new MouseMotionHandler());\r\n\t\taddKeyListener(new KeyHandler());\r\n\t} // end constructor\r\n\t\r\n\tprivate class CheckBoxHandler implements ItemListener {\r\n\t\tpublic void itemStateChanged(ItemEvent e) {\r\n\t\t\tif(boldCb.isSelected() &amp;&amp; italicCb.isSelected())\r\n\t\t\t\tfontStyle = &quot;both&quot;;\r\n\t\t\telse if(boldCb.isSelected())\r\n\t\t\t\tfontStyle = &quot;bold&quot;;\r\n\t\t\telse if (italicCb.isSelected())\r\n\t\t\t\tfontStyle = &quot;italic&quot;;\r\n\t\t\telse\r\n\t\t\t\tfontStyle = &quot;plain&quot;;\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate class MouseClickHandler extends MouseAdapter {\r\n\t\tpublic void mouseClicked(MouseEvent e) {\r\n\t\t\tint xPos = e.getX();\r\n\t\t\tint yPos = e.getY();\r\n\t\t\tmouseLabel.setText(&quot;Mouse clicked at (&quot; + xPos + &quot;, &quot; + yPos + &quot;)&quot;);\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate class MouseMotionHandler extends MouseMotionAdapter {\r\n\t\tpublic void mouseMoved(MouseEvent e) {\r\n\t\t\tint xPos = e.getX();\r\n\t\t\tint yPos = e.getY();\r\n\t\t\tmouseLabel.setText(&quot;Mouse moved at (&quot; + xPos + &quot;, &quot; + yPos + &quot;)&quot;);\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate class KeyHandler extends KeyAdapter {\r\n\t\tpublic void keyPressed(KeyEvent e) {\r\n\t\t\tresultLabel.setText(&quot;You pressed &quot; + KeyEvent.getKeyText(e.getKeyCode()));\r\n\t\t}\r\n\t}\r\n}\r\n\t\r\n\t\r\n\r\n```","title":"Key event handling - key pressed doesn&#39;t show up on JLabel","body":"<p>I am doing an exercise in a book where you have to test event handling, and one of them is key events.  I followed the instructions in the book on how to handle keyPressed events, but my key event handler is not displaying the keys that are pressed on a JLabel like it's supposed to do.  Here is my code:</p>\n<pre><code>import java.awt.FlowLayout;\nimport java.awt.BorderLayout;\nimport java.awt.Font;\nimport java.awt.event.ActionListener;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ItemListener;\nimport java.awt.event.ItemEvent;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseMotionAdapter;\nimport java.awt.event.KeyAdapter;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.InputEvent;\nimport javax.swing.event.ListSelectionListener;\nimport javax.swing.event.ListSelectionEvent;\nimport javax.swing.ListSelectionModel;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JList;\nimport javax.swing.JScrollPane;\nimport javax.swing.JCheckBox;\nimport javax.swing.JButton;\nimport javax.swing.JPanel;\n\npublic class Events extends JFrame {\n    private JLabel insLabel;\n    private JLabel fontLabel;\n    private JLabel mouseLabel;\n    private JLabel resultLabel;\n    private JList fontList;\n    private static final String[] fontNames = {&quot;Serif&quot;, &quot;SansSerif&quot;, &quot;Monospaced&quot;};\n    private JCheckBox boldCb;\n    private JCheckBox italicCb;\n    private JButton submitButton;\n    private JPanel middlePanel;\n    private JPanel bottomPanel;\n    private String fontName;\n    private String fontStyle;\n    \n    public Events() {\n        super(&quot;Demonstrating Events&quot;);\n        setLayout(new BorderLayout());\n        insLabel = new JLabel(&quot;Please feel free to click anywhere or press any key.&quot;);\n        fontLabel = new JLabel(&quot;Choose a font:&quot;);\n        fontList = new JList(fontNames);\n        fontList.setVisibleRowCount(3);\n        fontList.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);\n        add(new JScrollPane(fontList));\n        boldCb = new JCheckBox(&quot;Bold&quot;);\n        italicCb = new JCheckBox(&quot;Italic&quot;);\n        submitButton = new JButton(&quot;Submit&quot;);\n        mouseLabel = new JLabel(&quot;&quot;);\n        resultLabel = new JLabel(&quot;&quot;);\n        middlePanel = new JPanel();\n        middlePanel.setLayout(new FlowLayout());\n        bottomPanel = new JPanel();\n        bottomPanel.setLayout(new FlowLayout());\n        add(insLabel, BorderLayout.NORTH);\n        middlePanel.add(fontLabel);\n        middlePanel.add(fontList);\n        middlePanel.add(boldCb);\n        middlePanel.add(italicCb);\n        middlePanel.add(submitButton);\n        add(middlePanel, BorderLayout.CENTER);\n        bottomPanel.add(mouseLabel);\n        bottomPanel.add(resultLabel);\n        add(bottomPanel, BorderLayout.SOUTH);\n        \n        // set up event handling\n        \n        fontList.addListSelectionListener(new ListSelectionListener() {\n            public void valueChanged(ListSelectionEvent e) {\n                fontName = fontNames[fontList.getSelectedIndex()];\n            }\n        });\n        \n        CheckBoxHandler handler = new CheckBoxHandler();\n        boldCb.addItemListener(handler);\n        italicCb.addItemListener(handler);\n        \n        submitButton.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                if(fontStyle == &quot;both&quot;) {\n                    resultLabel.setFont(new Font(fontName, Font.BOLD + Font.ITALIC, 18));\n                    resultLabel.setText(&quot;You chose &quot; + fontName + &quot; bold and italic&quot;);\n                } else if(fontStyle == &quot;bold&quot;) {\n                    resultLabel.setFont(new Font(fontName, Font.BOLD, 18));\n                    resultLabel.setText(&quot;You chose &quot; + fontName + &quot; bold&quot;);\n                } else if(fontStyle == &quot;italic&quot;) {\n                    resultLabel.setFont(new Font(fontName, Font.ITALIC, 18));\n                    resultLabel.setText(&quot;You chose &quot; + fontName + &quot; italic&quot;);\n                } else {\n                    resultLabel.setFont(new Font(fontName, Font.PLAIN, 18));\n                    resultLabel.setText(&quot;You chose &quot; + fontName + &quot; plain&quot;);\n                }\n            }\n        });\n        \n        addMouseListener(new MouseClickHandler());\n        addMouseMotionListener(new MouseMotionHandler());\n        addKeyListener(new KeyHandler());\n    } // end constructor\n    \n    private class CheckBoxHandler implements ItemListener {\n        public void itemStateChanged(ItemEvent e) {\n            if(boldCb.isSelected() &amp;&amp; italicCb.isSelected())\n                fontStyle = &quot;both&quot;;\n            else if(boldCb.isSelected())\n                fontStyle = &quot;bold&quot;;\n            else if (italicCb.isSelected())\n                fontStyle = &quot;italic&quot;;\n            else\n                fontStyle = &quot;plain&quot;;\n        }\n    }\n    \n    private class MouseClickHandler extends MouseAdapter {\n        public void mouseClicked(MouseEvent e) {\n            int xPos = e.getX();\n            int yPos = e.getY();\n            mouseLabel.setText(&quot;Mouse clicked at (&quot; + xPos + &quot;, &quot; + yPos + &quot;)&quot;);\n        }\n    }\n    \n    private class MouseMotionHandler extends MouseMotionAdapter {\n        public void mouseMoved(MouseEvent e) {\n            int xPos = e.getX();\n            int yPos = e.getY();\n            mouseLabel.setText(&quot;Mouse moved at (&quot; + xPos + &quot;, &quot; + yPos + &quot;)&quot;);\n        }\n    }\n    \n    private class KeyHandler extends KeyAdapter {\n        public void keyPressed(KeyEvent e) {\n            resultLabel.setText(&quot;You pressed &quot; + KeyEvent.getKeyText(e.getKeyCode()));\n        }\n    }\n}\n    \n    \n\n</code></pre>\n"},{"tags":["java","spring","jsp","jetty","embedded-jetty"],"answers":[{"tags":[],"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652357663,"creation_date":1652357663,"answer_id":72215387,"question_id":72209659,"body_markdown":"Standard filesystem protections is the only way.\r\n\r\nJetty runs on as a specific user against it&#39;s own private temp/work directory which no other user has access to.","title":"Jetty: How do I protect unpack war file","body":"<p>Standard filesystem protections is the only way.</p>\n<p>Jetty runs on as a specific user against it's own private temp/work directory which no other user has access to.</p>\n"}],"owner":{"account_id":25063480,"reputation":13,"user_id":18918077,"display_name":"pepe_102937"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1652654216,"accepted_answer_id":72215387,"answer_count":1,"score":-1,"last_activity_date":1652663150,"creation_date":1652324355,"question_id":72209659,"body_markdown":"I developed web that deploy ROOT.war through jetty(windows10)\r\n\r\nand I will deploy that to my client\r\n\r\nbut I don&#39;t want to who modify my unpacked war file.\r\n\r\nand I want to protect my unpacked war file\r\n\r\nSomeone tell me How do I protect unpacked war file\r\n\r\nThank you in advance","title":"Jetty: How do I protect unpack war file","body":"<p>I developed web that deploy ROOT.war through jetty(windows10)</p>\n<p>and I will deploy that to my client</p>\n<p>but I don't want to who modify my unpacked war file.</p>\n<p>and I want to protect my unpacked war file</p>\n<p>Someone tell me How do I protect unpacked war file</p>\n<p>Thank you in advance</p>\n"},{"tags":["java","spring-boot","microservices","spring-cloud-netflix"],"comments":[{"owner":{"account_id":6658320,"reputation":107,"user_id":5138149,"accept_rate":14,"display_name":"Bodapati Srinu"},"score":0,"creation_date":1553266623,"post_id":55197252,"comment_id":97333193,"body_markdown":"please some body help.me.","body":"please some body help.me."},{"owner":{"account_id":1674243,"reputation":10043,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"score":0,"creation_date":1594287848,"post_id":55197252,"comment_id":111075813,"body_markdown":"That&#39;s old.. but still, when you ask such a question, it&#39;s always a must to provide some code as well. In this case, `EurekaServerAutoConfiguration` and `traceFilterRegistration` are keywords for me to pay attention on.","body":"That&#39;s old.. but still, when you ask such a question, it&#39;s always a must to provide some code as well. In this case, <code>EurekaServerAutoConfiguration</code> and <code>traceFilterRegistration</code> are keywords for me to pay attention on."}],"answers":[{"tags":[],"owner":{"account_id":6658320,"reputation":107,"user_id":5138149,"accept_rate":14,"display_name":"Bodapati Srinu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574760821,"creation_date":1574760821,"answer_id":59047770,"question_id":55197252,"body_markdown":"    &lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t*&lt;version&gt;1.5.4.RELEASE&lt;/version&gt;*\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n\t\t&lt;java.version&gt;1.7&lt;/java.version&gt;\r\n\t\t*&lt;spring-cloud.version&gt;Dalston.SR1&lt;/spring-cloud.version&gt;*\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-eureka&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\nBy using above dependencies, After many trials with different combination of spring parent and cloud dependencies,I was able resolve the error.I believe it was dependency issue.","title":"Exception encountered during context initialization","body":"<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    *&lt;version&gt;1.5.4.RELEASE&lt;/version&gt;*\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;java.version&gt;1.7&lt;/java.version&gt;\n    *&lt;spring-cloud.version&gt;Dalston.SR1&lt;/spring-cloud.version&gt;*\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-eureka&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>By using above dependencies, After many trials with different combination of spring parent and cloud dependencies,I was able resolve the error.I believe it was dependency issue.</p>\n"},{"tags":[],"owner":{"account_id":18769827,"reputation":11,"user_id":13797530,"display_name":"Tarik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594287444,"creation_date":1594287444,"answer_id":62811922,"question_id":55197252,"body_markdown":"I came across a similar issue and was getting the following error on my spring boot project run:\r\n\r\nWARN 18213 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource...\r\n\r\nWhen I **upgraded** the **Spring-boot-starter-parent version** the error disappeared and the project run smoothly.\r\n\r\nIn the POM.xml file:\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.0.4.RELEASE&lt;/version&gt;\r\n\t&lt;/parent&gt;\r\n\r\nchange to:\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.3.1.RELEASE&lt;/version&gt;\r\n\t&lt;/parent&gt;","title":"Exception encountered during context initialization","body":"<p>I came across a similar issue and was getting the following error on my spring boot project run:</p>\n<p>WARN 18213 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource...</p>\n<p>When I <strong>upgraded</strong> the <strong>Spring-boot-starter-parent version</strong> the error disappeared and the project run smoothly.</p>\n<p>In the POM.xml file:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.0.4.RELEASE&lt;/version&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>change to:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.3.1.RELEASE&lt;/version&gt;\n&lt;/parent&gt;\n</code></pre>\n"}],"owner":{"account_id":6658320,"reputation":107,"user_id":5138149,"accept_rate":14,"display_name":"Bodapati Srinu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9783,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1652659640,"creation_date":1552742234,"question_id":55197252,"body_markdown":"Please some body help me to find out the root cause of issue.\r\n\r\nWhile running Eureka Server application, i&#39;m facing problem with bellow issue.\r\n\r\nThese are maven dependencies and Spring boot 1.5.4.RELEASE,\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t\t&lt;spring-cloud.version&gt;Finchley.RELEASE&lt;/spring-cloud.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\nHere is the error log\r\n\r\n&gt; s.c.a.AnnotationConfigApplicationContext : **Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException:** Error creating bean with name &#39;traceFilterRegistration&#39; defined in class path resource [org/springframework/cloud/netflix/eureka/server/EurekaServerAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;traceFilterRegistration&#39; parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;javax.servlet.Filter&#39; available: expected at least 1 bean which qualifies as autowire candidate.","title":"Exception encountered during context initialization","body":"<p>Please some body help me to find out the root cause of issue.</p>\n\n<p>While running Eureka Server application, i'm facing problem with bellow issue.</p>\n\n<p>These are maven dependencies and Spring boot 1.5.4.RELEASE,</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;spring-cloud.version&gt;Finchley.RELEASE&lt;/spring-cloud.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p></p>\n\n<p>Here is the error log</p>\n\n<blockquote>\n  <p>s.c.a.AnnotationConfigApplicationContext : <strong>Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException:</strong> Error creating bean with name 'traceFilterRegistration' defined in class path resource [org/springframework/cloud/netflix/eureka/server/EurekaServerAutoConfiguration.class]: Unsatisfied dependency expressed through method 'traceFilterRegistration' parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'javax.servlet.Filter' available: expected at least 1 bean which qualifies as autowire candidate.</p>\n</blockquote>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1652657871,"post_id":72252908,"comment_id":127652578,"body_markdown":"Please add a complete example to your question which illustrates the problem, including whatever compiler error messages you get.","body":"Please add a complete example to your question which illustrates the problem, including whatever compiler error messages you get."},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":3,"creation_date":1652657995,"post_id":72252908,"comment_id":127652592,"body_markdown":"It&#39;s hard for me to really tell what&#39;s going on, but it sounds like you may be working with the wrong abstractions. Users of an interface [should not care what class implements that interface](https://stackoverflow.com/questions/56860). If a method exists in one class but not another, then it _usually_ shouldn&#39;t be part of the interface (there are exceptions).","body":"It&#39;s hard for me to really tell what&#39;s going on, but it sounds like you may be working with the wrong abstractions. Users of an interface <a href=\"https://stackoverflow.com/questions/56860\">should not care what class implements that interface</a>. If a method exists in one class but not another, then it <i>usually</i> shouldn&#39;t be part of the interface (there are exceptions)."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":3,"creation_date":1652658050,"post_id":72252908,"comment_id":127652601,"body_markdown":"I&#39;m with @yshavit, and your question smells of possibly being an [XY Problem](http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem) type question. Why do you need to know the type of the reference made to the interface variable? I have to wonder if there is a better overall approach to this problem. Consider using real-world types and code.","body":"I&#39;m with @yshavit, and your question smells of possibly being an <a href=\"http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY Problem</a> type question. Why do you need to know the type of the reference made to the interface variable? I have to wonder if there is a better overall approach to this problem. Consider using real-world types and code."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1652658682,"post_id":72252908,"comment_id":127652679,"body_markdown":"Whatever your desired behaviour is when you try to call a method from the wrong class - you could write it as a `default` method in the interface.  It&#39;s not clear whether that meets your requirement or not.  Your requirement sounds a little unusual to me.","body":"Whatever your desired behaviour is when you try to call a method from the wrong class - you could write it as a <code>default</code> method in the interface.  It&#39;s not clear whether that meets your requirement or not.  Your requirement sounds a little unusual to me."},{"owner":{"account_id":11003178,"reputation":479,"user_id":9378427,"display_name":"kampias"},"score":0,"creation_date":1652659582,"post_id":72252908,"comment_id":127652818,"body_markdown":"@yshavit I have updated the content to reflect my problem in more detail.","body":"@yshavit I have updated the content to reflect my problem in more detail."},{"owner":{"account_id":11003178,"reputation":479,"user_id":9378427,"display_name":"kampias"},"score":0,"creation_date":1652659638,"post_id":72252908,"comment_id":127652828,"body_markdown":"@HovercraftFullOfEels thank you for this XY Problem, was not aware of it and yes i fell into it. I have updated the content of the question which hopefully now reflects my problem with more precision","body":"@HovercraftFullOfEels thank you for this XY Problem, was not aware of it and yes i fell into it. I have updated the content of the question which hopefully now reflects my problem with more precision"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1652657953,"creation_date":1652657953,"answer_id":72252928,"question_id":72252908,"body_markdown":"There&#39;s `instanceof` which checks if any given reference is an instance of the stated class, and there&#39;s the cast operator which does many completely unrelated things - one of them is to treat a given object as some more specific type - if it is of that type, then you can treat it as that type. If it is not, you get a ClassCastException. Combining them:\r\n\r\n```\r\nif (currentInstance instanceof A) {\r\n  A a = (A) currentInstance;\r\n  a.methodThatIsOnlyInA();\r\n}\r\n```\r\n\r\nThere&#39;s also the `.getClass()` method that all classes have; but note that if there&#39;s also, say, `class AChild extends A{}`, then:\r\n\r\n```\r\nIab a = new AChild();\r\nSystem.out.println(a instanceof A); // Prints true\r\nSystem.out.println(a.getClass() == A.class); // Prints false\r\nSystem.out.println(a instanceof AChild); // Prints true\r\nSystem.out.println(a.getClass() == AChild.class); // Prints true\r\n```\r\n","title":"How to determine which class is instantiated and access it through a variable in Java","body":"<p>There's <code>instanceof</code> which checks if any given reference is an instance of the stated class, and there's the cast operator which does many completely unrelated things - one of them is to treat a given object as some more specific type - if it is of that type, then you can treat it as that type. If it is not, you get a ClassCastException. Combining them:</p>\n<pre><code>if (currentInstance instanceof A) {\n  A a = (A) currentInstance;\n  a.methodThatIsOnlyInA();\n}\n</code></pre>\n<p>There's also the <code>.getClass()</code> method that all classes have; but note that if there's also, say, <code>class AChild extends A{}</code>, then:</p>\n<pre><code>Iab a = new AChild();\nSystem.out.println(a instanceof A); // Prints true\nSystem.out.println(a.getClass() == A.class); // Prints false\nSystem.out.println(a instanceof AChild); // Prints true\nSystem.out.println(a.getClass() == AChild.class); // Prints true\n</code></pre>\n"}],"owner":{"account_id":11003178,"reputation":479,"user_id":9378427,"display_name":"kampias"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":72252928,"answer_count":1,"score":-2,"last_activity_date":1652659512,"creation_date":1652657688,"question_id":72252908,"body_markdown":"I have an Interface `IGeneralEvents` and I have implemented three classes based on it `Social`, `Sport` and `Traditional`. All three of them are using singletons to make sure they are only instantiated once.\r\n\r\nThe three classes have some additional methods in them which are unique for each one.\r\n\r\nI have also created a class to manage these events named `EventManager`. Depending on the date and time one of these three events will occur through the `EventManager`. The `EventManager` will instantiate one of them like below:\r\n\r\n```\r\npublic class EventManager {\r\n    \r\n    public EventManager() {\r\n        if (time_is_right()) {\r\n            Social social_event = Social.getInstance();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIn another class I need to know which is the current running event. So my approach of a solution was to do the following:\r\n\r\n```\r\npublic class EventManager {\r\n    public static IGeneralEvents current_event_instance = null;\r\n    \r\n    public EventManager() {\r\n        if (time_is_right()) {\r\n            Social social_event = new Social.getInstance();\r\n            current_event_instance = social_event;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI created a static variable in the `EventManager` of type `IGeneralEvents` and tried to pass the instance of the event when it was decided in the constructor. When I do that and I call the `current_event_instance` with a method that does not exist in `IGeneralEvents` (e.g `current_event_instance.chat()`) then I obviously get `java: cannot find symbol` as the method is not available in the Interface.\r\n\r\nWhat is the proper way to follow in order to be able to call something like `current_event_instance.chat()` from other classes ?","title":"How to determine which class is instantiated and access it through a variable in Java","body":"<p>I have an Interface <code>IGeneralEvents</code> and I have implemented three classes based on it <code>Social</code>, <code>Sport</code> and <code>Traditional</code>. All three of them are using singletons to make sure they are only instantiated once.</p>\n<p>The three classes have some additional methods in them which are unique for each one.</p>\n<p>I have also created a class to manage these events named <code>EventManager</code>. Depending on the date and time one of these three events will occur through the <code>EventManager</code>. The <code>EventManager</code> will instantiate one of them like below:</p>\n<pre><code>public class EventManager {\n    \n    public EventManager() {\n        if (time_is_right()) {\n            Social social_event = Social.getInstance();\n        }\n    }\n}\n</code></pre>\n<p>In another class I need to know which is the current running event. So my approach of a solution was to do the following:</p>\n<pre><code>public class EventManager {\n    public static IGeneralEvents current_event_instance = null;\n    \n    public EventManager() {\n        if (time_is_right()) {\n            Social social_event = new Social.getInstance();\n            current_event_instance = social_event;\n        }\n    }\n}\n</code></pre>\n<p>I created a static variable in the <code>EventManager</code> of type <code>IGeneralEvents</code> and tried to pass the instance of the event when it was decided in the constructor. When I do that and I call the <code>current_event_instance</code> with a method that does not exist in <code>IGeneralEvents</code> (e.g <code>current_event_instance.chat()</code>) then I obviously get <code>java: cannot find symbol</code> as the method is not available in the Interface.</p>\n<p>What is the proper way to follow in order to be able to call something like <code>current_event_instance.chat()</code> from other classes ?</p>\n"},{"tags":["java","android","android-livedata"],"comments":[{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":0,"creation_date":1652683728,"post_id":72252982,"comment_id":127656092,"body_markdown":"Because `.value` won&#39;t be done yet. That&#39;s why `observe` is a thing. However in this case, this is just a regular API request, so even just a regular callback, or a coroutine suspend fun would be more suitable than a LiveData.","body":"Because <code>.value</code> won&#39;t be done yet. That&#39;s why <code>observe</code> is a thing. However in this case, this is just a regular API request, so even just a regular callback, or a coroutine suspend fun would be more suitable than a LiveData."}],"owner":{"account_id":23625018,"reputation":31,"user_id":17657690,"display_name":"AdamArasimovic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1652658692,"creation_date":1652658692,"question_id":72252982,"body_markdown":"I am making a project in Android studio where I get a List of objects from an API.\r\nUnfortunately, I have a problem with LiveData as it passess null from the repository to a ViewModel.\r\n\r\nIn the repository class it calls the API, parses the response and sets the value of LiveData:\r\n```public class Repository {\r\n    private final Dao dao;\r\n    private static Repository instance;\r\n    private final MutableLiveData&lt;Fare&gt; searchedFare;\r\n    @Nullable\r\n    private final MutableLiveData&lt;List&lt;Arrival&gt;&gt; searchedArrivals;\r\n\r\n    private Repository(){\r\n        dao = Dao.getInstance();\r\n        searchedFare = new MutableLiveData&lt;&gt;();\r\n        searchedArrivals = new MutableLiveData&lt;&gt;() ;\r\n\r\n    }\r\n\r\n    public static Repository getInstance(){\r\n        if(instance==null){\r\n            instance = new Repository();\r\n        }\r\n        return instance;\r\n    }\r\n\r\n    public MutableLiveData&lt;List&lt;Arrival&gt;&gt; getReceivedArrivals() {return searchedArrivals;}\r\n\r\n    public void searchForArrivals(){\r\n        TaxiApiMock taxiApiMock = ServiceGenerator.getTaxiApi();\r\n        Call&lt;List&lt;Arrival&gt;&gt; call = taxiApiMock.getArrivals();\r\n        call.enqueue(new Callback&lt;List&lt;Arrival&gt;&gt;() {\r\n            @EverythingIsNonNull\r\n            @Override\r\n            public void onResponse(Call&lt;List&lt;Arrival&gt;&gt; call, Response&lt;List&lt;Arrival&gt;&gt; response) {\r\n                if(response.isSuccessful())\r\n                    searchedArrivals.setValue(response.body());\r\n                Log.d(&quot;Retrofit&quot;,&quot;Messages successfully received!&quot;);\r\n                Log.d(&quot;Retrofit&quot;, new Gson().toJson(response.body()));\r\n                Log.d(&quot;Retrofit&quot;, &quot;Message successfully parsed!&quot;);\r\n\r\n                for (Arrival arrival: Objects.requireNonNull(searchedArrivals.getValue())) {\r\n                    Log.d(&quot;Retrofit&quot;,arrival.toString());\r\n                }\r\n                Log.d(&quot;Retrofit&quot;, searchedArrivals.toString());\r\n                Log.d(&quot;Retrofit&quot;, searchedArrivals.getValue().toString());\r\n                Log.d(&quot;Retrofit&quot;, searchedArrivals.getValue().get(0).toString());\r\n\r\n            }\r\n\r\n            @EverythingIsNonNull\r\n            @Override\r\n            public void onFailure(Call&lt;List&lt;Arrival&gt;&gt; call, Throwable t) {\r\n                Log.i(&quot;Retrofit&quot;,&quot;Something went wrong! :(&quot;);\r\n            }\r\n        });\r\n    }\r\n```\r\nAnd everything goes as planned until I pass it to the ViewModel, where I get a NullPointer.\r\n\r\n```\r\npublic void searchForArrival(){\r\n        repository.searchForArrivals();\r\n        Log.d(&quot;VM&quot;, repository.getReceivedArrivals().toString());\r\n        Log.d(&quot;VM&quot;, repository.getReceivedArrivals().getValue().toString());\r\n        if(mArrival.getValue()==null)\r\n            Log.d(&quot;VM&quot;, &quot;list is null&quot;);\r\n        else{\r\n        Log.d(&quot;Retrofit&quot;, mArrival.toString());\r\n        Log.d(&quot;Retrofit&quot;, mArrival.getValue().toString());\r\n        Log.d(&quot;Retrofit&quot;, mArrival.getValue().get(0).toString());}\r\n    }\r\n```\r\nHere is how the logcat looks when printing in ViewModel class:\r\n\r\n```Process: com.example.taxiapp, PID: 9992\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.String java.lang.Object.toString()&#39; on a null object reference\r\n        at com.example.taxiapp.ui.timetable.TimetableViewModel.searchForArrival(TimetableViewModel.java:47)\r\n        at com.example.taxiapp.ui.timetable.TimetableFragment$1.onClick(TimetableFragment.java:37)...\r\n```\r\nAnd here how it looks (perfectly) in Repository class:\r\n```\r\n2022-05-16 01:47:56.901 10487-10487/com.example.taxiapp D/Retrofit: Messages successfully received!\r\n2022-05-16 01:47:56.905 10487-10487/com.example.taxiapp D/Retrofit: [{&quot;cancelled&quot;:false,&quot;date&quot;:&quot;14.05.22&quot;,&quot;messages&quot;:&quot;Lorem Ipsum&quot;,&quot;name&quot;:&quot;Bus 100&quot;,&quot;origin&quot;:&quot;CPH-Lufthavn&quot;,&quot;rtTrack&quot;:0,&quot;stop&quot;:&quot;Horsens&quot;,&quot;time&quot;:&quot;21:37&quot;,&quot;track&quot;:0,&quot;type&quot;:&quot;IC&quot;},{&quot;cancelled&quot;:false,&quot;date&quot;:&quot;14.05.22&quot;,&quot;messages&quot;:&quot;Lorem Ipsum&quot;,&quot;name&quot;:&quot;Bus 100&quot;,&quot;origin&quot;:&quot;Esbjerg&quot;,&quot;rtTrack&quot;:0,&quot;stop&quot;:&quot;Horsens&quot;,&quot;time&quot;:&quot;23:37&quot;,&quot;track&quot;:0,&quot;type&quot;:&quot;REG&quot;},{&quot;cancelled&quot;:false,&quot;date&quot;:&quot;14.05.22&quot;,&quot;messages&quot;:&quot;Lorem Ipsum&quot;,&quot;name&quot;:&quot;Bus 100&quot;,&quot;origin&quot;:&quot;Randers&quot;,&quot;rtTrack&quot;:0,&quot;stop&quot;:&quot;Horsens&quot;,&quot;time&quot;:&quot;22:37&quot;,&quot;track&quot;:0,&quot;type&quot;:&quot;IC&quot;}]\r\n2022-05-16 01:47:56.906 10487-10487/com.example.taxiapp D/Retrofit: Message successfully parsed!\r\n2022-05-16 01:47:56.906 10487-10487/com.example.taxiapp D/Retrofit: Arrival{name=&#39;Bus 100&#39;, type=&#39;IC&#39;, stop=&#39;Horsens&#39;, time=&#39;21:37&#39;, date=&#39;14.05.22&#39;, track=0, realTime=&#39;null&#39;, realDate=&#39;null&#39;, realTrack=0, origin=&#39;CPH-Lufthavn&#39;, cancelled=false, messages=&#39;Lorem Ipsum&#39;}\r\n2022-05-16 01:47:56.906 10487-10487/com.example.taxiapp D/Retrofit: Arrival{name=&#39;Bus 100&#39;, type=&#39;REG&#39;, stop=&#39;Horsens&#39;, time=&#39;23:37&#39;, date=&#39;14.05.22&#39;, track=0, realTime=&#39;null&#39;, realDate=&#39;null&#39;, realTrack=0, origin=&#39;Esbjerg&#39;, cancelled=false, messages=&#39;Lorem Ipsum&#39;}\r\n2022-05-16 01:47:56.906 10487-10487/com.example.taxiapp D/Retrofit: Arrival{name=&#39;Bus 100&#39;, type=&#39;IC&#39;, stop=&#39;Horsens&#39;, time=&#39;22:37&#39;, date=&#39;14.05.22&#39;, track=0, realTime=&#39;null&#39;, realDate=&#39;null&#39;, realTrack=0, origin=&#39;Randers&#39;, cancelled=false, messages=&#39;Lorem Ipsum&#39;}\r\n2022-05-16 01:47:56.906 10487-10487/com.example.taxiapp D/Retrofit: androidx.lifecycle.MutableLiveData@49b4d1d\r\n2022-05-16 01:47:56.907 10487-10487/com.example.taxiapp D/Retrofit: [Arrival{name=&#39;Bus 100&#39;, type=&#39;IC&#39;, stop=&#39;Horsens&#39;, time=&#39;21:37&#39;, date=&#39;14.05.22&#39;, track=0, realTime=&#39;null&#39;, realDate=&#39;null&#39;, realTrack=0, origin=&#39;CPH-Lufthavn&#39;, cancelled=false, messages=&#39;Lorem Ipsum&#39;}, Arrival{name=&#39;Bus 100&#39;, type=&#39;REG&#39;, stop=&#39;Horsens&#39;, time=&#39;23:37&#39;, date=&#39;14.05.22&#39;, track=0, realTime=&#39;null&#39;, realDate=&#39;null&#39;, realTrack=0, origin=&#39;Esbjerg&#39;, cancelled=false, messages=&#39;Lorem Ipsum&#39;}, Arrival{name=&#39;Bus 100&#39;, type=&#39;IC&#39;, stop=&#39;Horsens&#39;, time=&#39;22:37&#39;, date=&#39;14.05.22&#39;, track=0, realTime=&#39;null&#39;, realDate=&#39;null&#39;, realTrack=0, origin=&#39;Randers&#39;, cancelled=false, messages=&#39;Lorem Ipsum&#39;}]\r\n2022-05-16 01:47:56.907 10487-10487/com.example.taxiapp D/Retrofit: Arrival{name=&#39;Bus 100&#39;, type=&#39;IC&#39;, stop=&#39;Horsens&#39;, time=&#39;21:37&#39;, date=&#39;14.05.22&#39;, track=0, realTime=&#39;null&#39;, realDate=&#39;null&#39;, realTrack=0, origin=&#39;CPH-Lufthavn&#39;, cancelled=false, messages=&#39;Lorem Ipsum&#39;}\r\n```","title":"LiveData object goes null when passing it to ViewModel","body":"<p>I am making a project in Android studio where I get a List of objects from an API.\nUnfortunately, I have a problem with LiveData as it passess null from the repository to a ViewModel.</p>\n<p>In the repository class it calls the API, parses the response and sets the value of LiveData:</p>\n<pre><code>    private final Dao dao;\n    private static Repository instance;\n    private final MutableLiveData&lt;Fare&gt; searchedFare;\n    @Nullable\n    private final MutableLiveData&lt;List&lt;Arrival&gt;&gt; searchedArrivals;\n\n    private Repository(){\n        dao = Dao.getInstance();\n        searchedFare = new MutableLiveData&lt;&gt;();\n        searchedArrivals = new MutableLiveData&lt;&gt;() ;\n\n    }\n\n    public static Repository getInstance(){\n        if(instance==null){\n            instance = new Repository();\n        }\n        return instance;\n    }\n\n    public MutableLiveData&lt;List&lt;Arrival&gt;&gt; getReceivedArrivals() {return searchedArrivals;}\n\n    public void searchForArrivals(){\n        TaxiApiMock taxiApiMock = ServiceGenerator.getTaxiApi();\n        Call&lt;List&lt;Arrival&gt;&gt; call = taxiApiMock.getArrivals();\n        call.enqueue(new Callback&lt;List&lt;Arrival&gt;&gt;() {\n            @EverythingIsNonNull\n            @Override\n            public void onResponse(Call&lt;List&lt;Arrival&gt;&gt; call, Response&lt;List&lt;Arrival&gt;&gt; response) {\n                if(response.isSuccessful())\n                    searchedArrivals.setValue(response.body());\n                Log.d(&quot;Retrofit&quot;,&quot;Messages successfully received!&quot;);\n                Log.d(&quot;Retrofit&quot;, new Gson().toJson(response.body()));\n                Log.d(&quot;Retrofit&quot;, &quot;Message successfully parsed!&quot;);\n\n                for (Arrival arrival: Objects.requireNonNull(searchedArrivals.getValue())) {\n                    Log.d(&quot;Retrofit&quot;,arrival.toString());\n                }\n                Log.d(&quot;Retrofit&quot;, searchedArrivals.toString());\n                Log.d(&quot;Retrofit&quot;, searchedArrivals.getValue().toString());\n                Log.d(&quot;Retrofit&quot;, searchedArrivals.getValue().get(0).toString());\n\n            }\n\n            @EverythingIsNonNull\n            @Override\n            public void onFailure(Call&lt;List&lt;Arrival&gt;&gt; call, Throwable t) {\n                Log.i(&quot;Retrofit&quot;,&quot;Something went wrong! :(&quot;);\n            }\n        });\n    }\n</code></pre>\n<p>And everything goes as planned until I pass it to the ViewModel, where I get a NullPointer.</p>\n<pre><code>public void searchForArrival(){\n        repository.searchForArrivals();\n        Log.d(&quot;VM&quot;, repository.getReceivedArrivals().toString());\n        Log.d(&quot;VM&quot;, repository.getReceivedArrivals().getValue().toString());\n        if(mArrival.getValue()==null)\n            Log.d(&quot;VM&quot;, &quot;list is null&quot;);\n        else{\n        Log.d(&quot;Retrofit&quot;, mArrival.toString());\n        Log.d(&quot;Retrofit&quot;, mArrival.getValue().toString());\n        Log.d(&quot;Retrofit&quot;, mArrival.getValue().get(0).toString());}\n    }\n</code></pre>\n<p>Here is how the logcat looks when printing in ViewModel class:</p>\n<pre><code>    java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String java.lang.Object.toString()' on a null object reference\n        at com.example.taxiapp.ui.timetable.TimetableViewModel.searchForArrival(TimetableViewModel.java:47)\n        at com.example.taxiapp.ui.timetable.TimetableFragment$1.onClick(TimetableFragment.java:37)...\n</code></pre>\n<p>And here how it looks (perfectly) in Repository class:</p>\n<pre><code>2022-05-16 01:47:56.901 10487-10487/com.example.taxiapp D/Retrofit: Messages successfully received!\n2022-05-16 01:47:56.905 10487-10487/com.example.taxiapp D/Retrofit: [{&quot;cancelled&quot;:false,&quot;date&quot;:&quot;14.05.22&quot;,&quot;messages&quot;:&quot;Lorem Ipsum&quot;,&quot;name&quot;:&quot;Bus 100&quot;,&quot;origin&quot;:&quot;CPH-Lufthavn&quot;,&quot;rtTrack&quot;:0,&quot;stop&quot;:&quot;Horsens&quot;,&quot;time&quot;:&quot;21:37&quot;,&quot;track&quot;:0,&quot;type&quot;:&quot;IC&quot;},{&quot;cancelled&quot;:false,&quot;date&quot;:&quot;14.05.22&quot;,&quot;messages&quot;:&quot;Lorem Ipsum&quot;,&quot;name&quot;:&quot;Bus 100&quot;,&quot;origin&quot;:&quot;Esbjerg&quot;,&quot;rtTrack&quot;:0,&quot;stop&quot;:&quot;Horsens&quot;,&quot;time&quot;:&quot;23:37&quot;,&quot;track&quot;:0,&quot;type&quot;:&quot;REG&quot;},{&quot;cancelled&quot;:false,&quot;date&quot;:&quot;14.05.22&quot;,&quot;messages&quot;:&quot;Lorem Ipsum&quot;,&quot;name&quot;:&quot;Bus 100&quot;,&quot;origin&quot;:&quot;Randers&quot;,&quot;rtTrack&quot;:0,&quot;stop&quot;:&quot;Horsens&quot;,&quot;time&quot;:&quot;22:37&quot;,&quot;track&quot;:0,&quot;type&quot;:&quot;IC&quot;}]\n2022-05-16 01:47:56.906 10487-10487/com.example.taxiapp D/Retrofit: Message successfully parsed!\n2022-05-16 01:47:56.906 10487-10487/com.example.taxiapp D/Retrofit: Arrival{name='Bus 100', type='IC', stop='Horsens', time='21:37', date='14.05.22', track=0, realTime='null', realDate='null', realTrack=0, origin='CPH-Lufthavn', cancelled=false, messages='Lorem Ipsum'}\n2022-05-16 01:47:56.906 10487-10487/com.example.taxiapp D/Retrofit: Arrival{name='Bus 100', type='REG', stop='Horsens', time='23:37', date='14.05.22', track=0, realTime='null', realDate='null', realTrack=0, origin='Esbjerg', cancelled=false, messages='Lorem Ipsum'}\n2022-05-16 01:47:56.906 10487-10487/com.example.taxiapp D/Retrofit: Arrival{name='Bus 100', type='IC', stop='Horsens', time='22:37', date='14.05.22', track=0, realTime='null', realDate='null', realTrack=0, origin='Randers', cancelled=false, messages='Lorem Ipsum'}\n2022-05-16 01:47:56.906 10487-10487/com.example.taxiapp D/Retrofit: androidx.lifecycle.MutableLiveData@49b4d1d\n2022-05-16 01:47:56.907 10487-10487/com.example.taxiapp D/Retrofit: [Arrival{name='Bus 100', type='IC', stop='Horsens', time='21:37', date='14.05.22', track=0, realTime='null', realDate='null', realTrack=0, origin='CPH-Lufthavn', cancelled=false, messages='Lorem Ipsum'}, Arrival{name='Bus 100', type='REG', stop='Horsens', time='23:37', date='14.05.22', track=0, realTime='null', realDate='null', realTrack=0, origin='Esbjerg', cancelled=false, messages='Lorem Ipsum'}, Arrival{name='Bus 100', type='IC', stop='Horsens', time='22:37', date='14.05.22', track=0, realTime='null', realDate='null', realTrack=0, origin='Randers', cancelled=false, messages='Lorem Ipsum'}]\n2022-05-16 01:47:56.907 10487-10487/com.example.taxiapp D/Retrofit: Arrival{name='Bus 100', type='IC', stop='Horsens', time='21:37', date='14.05.22', track=0, realTime='null', realDate='null', realTrack=0, origin='CPH-Lufthavn', cancelled=false, messages='Lorem Ipsum'}\n</code></pre>\n"},{"tags":["java","arrays"],"answers":[{"tags":[],"owner":{"account_id":24186369,"reputation":11,"user_id":19109628,"display_name":"Blazing Twist"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652658518,"creation_date":1652581236,"answer_id":72245138,"question_id":72245076,"body_markdown":"Currently, you&#39;re skipping lines. A quote from the `Scanner::nextLine` documentation:\r\n&gt; This method returns the rest of the current line, excluding any line separator at the end. The position is set to the beginning of the next line.\r\n\r\nSo you&#39;re adding one line to your list, and writing the next one to the console.\r\n\r\nTo get the data from each line, you can use the `String::split` method, which supports *RegEx*.\r\n\r\n*Example:* \r\n```\r\n&quot;line of my file&quot;.split(&quot; &quot;)\r\n```","title":"How to read from a .txt file into an array of objects","body":"<p>Currently, you're skipping lines. A quote from the <code>Scanner::nextLine</code> documentation:</p>\n<blockquote>\n<p>This method returns the rest of the current line, excluding any line separator at the end. The position is set to the beginning of the next line.</p>\n</blockquote>\n<p>So you're adding one line to your list, and writing the next one to the console.</p>\n<p>To get the data from each line, you can use the <code>String::split</code> method, which supports <em>RegEx</em>.</p>\n<p><em>Example:</em></p>\n<pre><code>&quot;line of my file&quot;.split(&quot; &quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18827263,"reputation":405,"user_id":14499516,"display_name":"hokwanhung"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1652582224,"creation_date":1652581860,"answer_id":72245166,"question_id":72245076,"body_markdown":"Not too sure about the requirements. If you just need to know how to get the values out, then use `String.split()` combined with `Scanner.nextLine()`.\r\n\r\nCodes below:\r\n\r\n    \tprivate void loadFile() throws FileNotFoundException, IOException {\r\n\t\tFile txt = new File(&quot;Users.txt&quot;);\r\n\t\ttry (Scanner scan = new Scanner(txt)) {\r\n\t\t\tArrayList data = new ArrayList&lt;&gt;();\r\n\t\t\twhile (scan.hasNextLine()) {\r\n\t\t\t\t// split the data by &quot;, &quot; and split at most (3-1) times\r\n\t\t\t\tString[] input = scan.nextLine().split(&quot;, &quot;, 3);\r\n\t\t\t\tdata.add(input[0]);\r\n\t\t\t\tdata.add(input[1]);\r\n\t\t\t\tdata.add(input[2]);\r\n\r\n\t\t\t\tSystem.out.print(scan.nextLine());\r\n\t\t\t}\r\n\t\t\tSystem.out.print(data);\r\n\t\t}\r\n\t}\r\n\r\nThe output would be as below and you can further modify it yourself:  \r\n\r\n    [111, Sybil, 21, 112, Edith, 22, 113, Mathew, 30, 114, Mary, 25]\r\n\r\nHowever, if you need the required format as well, the closest I can get  is by using a `HaspMap` and put it into the `ArrayList`.\r\n\r\nCodes below:\r\n\r\n    \tprivate void loadFile() throws FileNotFoundException, IOException {\r\n\t\tFile txt = new File(&quot;Users.txt&quot;);\r\n\t\ttry (Scanner scan = new Scanner(txt)) {\r\n\t\t\tArrayList data = new ArrayList&lt;&gt;();\r\n\t\t\twhile (scan.hasNextLine()) {\r\n\t\t\t\t// Create a hashmap to store data in correct format,\r\n\t\t\t\tHashMap&lt;String, String&gt; info = new HashMap();\r\n\t\t\t\tString[] input = scan.nextLine().split(&quot;, &quot;, 3);\r\n\t\t\t\tinfo.put(&quot;number&quot;, input[0]);\r\n\t\t\t\tinfo.put(&quot;name&quot;, input[1]);\r\n\t\t\t\tinfo.put(&quot;age&quot;, input[2]);\r\n\t\t\t\t\r\n\t\t\t\t// Put it inside the ArrayList\r\n\t\t\t\tdata.add(info);\r\n\t\t\t}\r\n\t\t\tSystem.out.print(data);\r\n\t\t}\r\n\t}\r\n\r\nAnd the output would be:\r\n\r\n    [{number=111, name=Sybil, age=21}, {number=112, name=Edith, age=22}, {number=113, name=Mathew, age=30}, {number=114, name=Mary, age=25}]\r\n\r\nHope this answer helps you well.","title":"How to read from a .txt file into an array of objects","body":"<p>Not too sure about the requirements. If you just need to know how to get the values out, then use <code>String.split()</code> combined with <code>Scanner.nextLine()</code>.</p>\n<p>Codes below:</p>\n<pre><code>    private void loadFile() throws FileNotFoundException, IOException {\n    File txt = new File(&quot;Users.txt&quot;);\n    try (Scanner scan = new Scanner(txt)) {\n        ArrayList data = new ArrayList&lt;&gt;();\n        while (scan.hasNextLine()) {\n            // split the data by &quot;, &quot; and split at most (3-1) times\n            String[] input = scan.nextLine().split(&quot;, &quot;, 3);\n            data.add(input[0]);\n            data.add(input[1]);\n            data.add(input[2]);\n\n            System.out.print(scan.nextLine());\n        }\n        System.out.print(data);\n    }\n}\n</code></pre>\n<p>The output would be as below and you can further modify it yourself:</p>\n<pre><code>[111, Sybil, 21, 112, Edith, 22, 113, Mathew, 30, 114, Mary, 25]\n</code></pre>\n<p>However, if you need the required format as well, the closest I can get  is by using a <code>HaspMap</code> and put it into the <code>ArrayList</code>.</p>\n<p>Codes below:</p>\n<pre><code>    private void loadFile() throws FileNotFoundException, IOException {\n    File txt = new File(&quot;Users.txt&quot;);\n    try (Scanner scan = new Scanner(txt)) {\n        ArrayList data = new ArrayList&lt;&gt;();\n        while (scan.hasNextLine()) {\n            // Create a hashmap to store data in correct format,\n            HashMap&lt;String, String&gt; info = new HashMap();\n            String[] input = scan.nextLine().split(&quot;, &quot;, 3);\n            info.put(&quot;number&quot;, input[0]);\n            info.put(&quot;name&quot;, input[1]);\n            info.put(&quot;age&quot;, input[2]);\n            \n            // Put it inside the ArrayList\n            data.add(info);\n        }\n        System.out.print(data);\n    }\n}\n</code></pre>\n<p>And the output would be:</p>\n<pre><code>[{number=111, name=Sybil, age=21}, {number=112, name=Edith, age=22}, {number=113, name=Mathew, age=30}, {number=114, name=Mary, age=25}]\n</code></pre>\n<p>Hope this answer helps you well.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652590386,"creation_date":1652590047,"answer_id":72245566,"question_id":72245076,"body_markdown":"We can use streams to write some compact code.\r\n\r\nFirst we define a `record` to hold our data.\r\n\r\n`Files.lines` reads your file into memory, producing a stream of strings, one per line. \r\n\r\nWe call `Stream#map` to produce another stream, a series of string arrays. Each array has three elements, the three fields within each line.\r\n\r\nWe call `map` again, this time to produce a stream of `Person` objects. We construct each person object by parsing and passing to the constructor each of line’s three fields.\r\n\r\nWe call `Stream#toList` to collect those person objects into a list.\r\n\r\nWe call `List#toString` to generate text representing the contents of the list of person objects.\r\n\r\n\r\n    record Person ( int id , String name , int age ) {}\r\n    String output = \r\n        Files\r\n        .lines( Paths.of(&quot;/path/to/Users.txt&quot; ) )\r\n        .map( line -&gt; line.split( &quot;, &quot; ) )\r\n        .map( parts -&gt; new Person( \r\n            Integer.parseInt( parts[ 0 ] ) , \r\n            parts[ 1 ] ,\r\n            Integer.parseInt( parts[ 2 ] ) \r\n        ) )\r\n        .toList()\r\n        .toString() \r\n    ;\r\n\r\nIf the format of the default `Person#toString` method does not suit you, add an override of that method to produce your desired output. \r\n","title":"How to read from a .txt file into an array of objects","body":"<p>We can use streams to write some compact code.</p>\n<p>First we define a <code>record</code> to hold our data.</p>\n<p><code>Files.lines</code> reads your file into memory, producing a stream of strings, one per line.</p>\n<p>We call <code>Stream#map</code> to produce another stream, a series of string arrays. Each array has three elements, the three fields within each line.</p>\n<p>We call <code>map</code> again, this time to produce a stream of <code>Person</code> objects. We construct each person object by parsing and passing to the constructor each of line’s three fields.</p>\n<p>We call <code>Stream#toList</code> to collect those person objects into a list.</p>\n<p>We call <code>List#toString</code> to generate text representing the contents of the list of person objects.</p>\n<pre><code>record Person ( int id , String name , int age ) {}\nString output = \n    Files\n    .lines( Paths.of(&quot;/path/to/Users.txt&quot; ) )\n    .map( line -&gt; line.split( &quot;, &quot; ) )\n    .map( parts -&gt; new Person( \n        Integer.parseInt( parts[ 0 ] ) , \n        parts[ 1 ] ,\n        Integer.parseInt( parts[ 2 ] ) \n    ) )\n    .toList()\n    .toString() \n;\n</code></pre>\n<p>If the format of the default <code>Person#toString</code> method does not suit you, add an override of that method to produce your desired output.</p>\n"}],"owner":{"account_id":17133789,"reputation":69,"user_id":12632081,"display_name":"chigirl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":697,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72245166,"answer_count":3,"score":1,"last_activity_date":1652658518,"creation_date":1652580155,"question_id":72245076,"body_markdown":"I have the following sample data in a .txt file\r\n```\r\n111, Sybil, 21\r\n112, Edith, 22\r\n113, Mathew, 30\r\n114, Mary, 25\r\n```\r\n the required output is\r\n```\r\n[{&quot;number&quot;:&quot;111&quot;,&quot;name&quot;:&quot;Sybil&quot;,&quot;age&quot;:&quot;21&quot; },\r\n{&quot;number&quot;:&quot;112&quot;,&quot;name&quot;:&quot;Edith&quot;,&quot;age&quot;:&quot;22&quot;},\r\n{&quot;number&quot;:&quot;113&quot;,&quot;name&quot;:&quot;Mathew&quot;,&quot;age&quot;:&quot;30&quot;},\r\n&quot;number&quot;:&quot;114&quot;,&quot;name&quot;:&quot;Mary&quot;,&quot;age&quot;:&quot;25&quot;]\r\n```\r\nSadly, I have not gone far because I cant seem to get the values out of each line. instead, this is what is displayed\r\n\r\n\r\n[one, two, three]\r\n\r\n```\r\n\tprivate void loadFile() throws FileNotFoundException, IOException {\r\n\t    File txt = new File(&quot;Users.txt&quot;);\r\n\t    try (Scanner scan = new Scanner(txt)) {\r\n\t        ArrayList data = new ArrayList&lt;&gt;() ;\r\n\t        while (scan.hasNextLine()) {\r\n\t        \t\r\n\t        \tdata.add(scan.nextLine());\r\n\t        \t System.out.print(scan.nextLine()); \r\n\t        }\r\n\t    \t System.out.print(data); \r\n\t           \r\n\t        \r\n\t    }\r\n```\r\nI would appreciate any help. thank you\r\n\r\n","title":"How to read from a .txt file into an array of objects","body":"<p>I have the following sample data in a .txt file</p>\n<pre><code>111, Sybil, 21\n112, Edith, 22\n113, Mathew, 30\n114, Mary, 25\n</code></pre>\n<p>the required output is</p>\n<pre><code>[{&quot;number&quot;:&quot;111&quot;,&quot;name&quot;:&quot;Sybil&quot;,&quot;age&quot;:&quot;21&quot; },\n{&quot;number&quot;:&quot;112&quot;,&quot;name&quot;:&quot;Edith&quot;,&quot;age&quot;:&quot;22&quot;},\n{&quot;number&quot;:&quot;113&quot;,&quot;name&quot;:&quot;Mathew&quot;,&quot;age&quot;:&quot;30&quot;},\n&quot;number&quot;:&quot;114&quot;,&quot;name&quot;:&quot;Mary&quot;,&quot;age&quot;:&quot;25&quot;]\n</code></pre>\n<p>Sadly, I have not gone far because I cant seem to get the values out of each line. instead, this is what is displayed</p>\n<p>[one, two, three]</p>\n<pre><code>    private void loadFile() throws FileNotFoundException, IOException {\n        File txt = new File(&quot;Users.txt&quot;);\n        try (Scanner scan = new Scanner(txt)) {\n            ArrayList data = new ArrayList&lt;&gt;() ;\n            while (scan.hasNextLine()) {\n                \n                data.add(scan.nextLine());\n                 System.out.print(scan.nextLine()); \n            }\n             System.out.print(data); \n               \n            \n        }\n</code></pre>\n<p>I would appreciate any help. thank you</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1603884247,"post_id":64571611,"comment_id":114175672,"body_markdown":"The only [put](https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#put-K-V-) method in interface `Map` requires two arguments, not one. Isn&#39;t that what `actual and formal argument lists differ in length` means?","body":"The only <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#put-K-V-\" rel=\"nofollow noreferrer\">put</a> method in interface <code>Map</code> requires two arguments, not one. Isn&#39;t that what <code>actual and formal argument lists differ in length</code> means?"},{"owner":{"account_id":18436169,"reputation":991,"user_id":13429959,"display_name":"Fireburn"},"score":0,"creation_date":1603890157,"post_id":64571611,"comment_id":114178335,"body_markdown":"Yes correct, but as you can see this is a &quot;generated code&quot;","body":"Yes correct, but as you can see this is a &quot;generated code&quot;"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1603911027,"post_id":64571611,"comment_id":114188838,"body_markdown":"Nonetheless, the _generated_ code does not compile. You can always edit the generated code. Or raise an [issue](https://github.com/immutables/immutables/issues) with _immutables_.","body":"Nonetheless, the <i>generated</i> code does not compile. You can always edit the generated code. Or raise an <a href=\"https://github.com/immutables/immutables/issues\" rel=\"nofollow noreferrer\">issue</a> with <i>immutables</i>."}],"answers":[{"tags":[],"owner":{"account_id":20319723,"reputation":1,"user_id":14904701,"display_name":"anthonker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652657435,"creation_date":1652657435,"answer_id":72252886,"question_id":64571611,"body_markdown":"*I would have added this as a comment but I don&#39;t have &quot;50 reputation&quot;.*\r\n\r\nFor anyone that runs into this issue later -- you can use the jdkOnly implementation even if you have guava on the class path. For example\r\n\r\n```java\r\n@Value.Immutable\r\n@Value.Style(\r\n  visibility = Value.Style.ImplementationVisibility.PRIVATE,\r\n  jdkOnly = true // Add this to avoid using the guava implementation\r\n)\r\npublic interface TypedEntityQuery&lt;T&gt; {\r\n  String environment();\r\n\r\n  T entity();\r\n\r\n  Map&lt;String, PropertyCondition&gt; conditions();\r\n\r\n  Integer offset();\r\n\r\n  Integer max();\r\n\r\n  String sort();\r\n}\r\n```\r\n\r\nRef: https://immutables.github.io/style.html\r\n\r\nI don&#39;t think this resolves the issue. My next best bet is that you need to check the version of guava you are using. Maybe you need to pull in a version that has what you want?","title":"Immutable not generating correct code when using Map","body":"<p><em>I would have added this as a comment but I don't have &quot;50 reputation&quot;.</em></p>\n<p>For anyone that runs into this issue later -- you can use the jdkOnly implementation even if you have guava on the class path. For example</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Value.Immutable\n@Value.Style(\n  visibility = Value.Style.ImplementationVisibility.PRIVATE,\n  jdkOnly = true // Add this to avoid using the guava implementation\n)\npublic interface TypedEntityQuery&lt;T&gt; {\n  String environment();\n\n  T entity();\n\n  Map&lt;String, PropertyCondition&gt; conditions();\n\n  Integer offset();\n\n  Integer max();\n\n  String sort();\n}\n</code></pre>\n<p>Ref: <a href=\"https://immutables.github.io/style.html\" rel=\"nofollow noreferrer\">https://immutables.github.io/style.html</a></p>\n<p>I don't think this resolves the issue. My next best bet is that you need to check the version of guava you are using. Maybe you need to pull in a version that has what you want?</p>\n"}],"owner":{"account_id":18436169,"reputation":991,"user_id":13429959,"display_name":"Fireburn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652657435,"creation_date":1603883405,"question_id":64571611,"body_markdown":"I have this code using https://immutables.github.io/:\r\n\r\n```java\r\n@Value.Immutable\r\n@Value.Style(visibility = Value.Style.ImplementationVisibility.PRIVATE)\r\npublic interface TypedEntityQuery&lt;T&gt; {\r\n  String environment();\r\n\r\n  T entity();\r\n\r\n  Map&lt;String, PropertyCondition&gt; conditions();\r\n\r\n  Integer offset();\r\n\r\n  Integer max();\r\n\r\n  String sort();\r\n}\r\n```\r\n\r\n```java\r\npublic interface PropertyCondition {\r\n}\r\n```\r\nAnd used like this:\r\n\r\n```java\r\nTypedEntityQuery&lt;Manager&gt; query = new TypedEntityQueryBuilder&lt;Manager&gt;()\r\n   .entity(manager)\r\n   .conditions(manager.getConditions()) \r\n   .build();\r\n```\r\n\r\nThe manager class above is defined as such:\r\n\r\n```java\r\n@Builder\r\nclass Manager {\r\n   private @Getter @Setter Map&lt;String, PropertyCondition&gt; conditions;\r\n}\r\n```\r\n\r\nHowever it throws this error:\r\n\r\n```\r\n[ERROR] .../target/generated-sources/annotations/com/mycompany/backend/model/builder/TypedEntityBuilder.java:[124,20] method put in class com.google.common.collect.ImmutableMap.Builder&lt;K,V&gt; cannot be applied to given types;\r\n[ERROR]   required: java.lang.String,com.mycompany.core.PropertyCondition\r\n[ERROR]   found: java.util.Map.Entry&lt;java.lang.String,capture#2 of ? extends com.mycompany.core.PropertyCondition&gt;\r\n[ERROR]   reason: actual and formal argument lists differ in length\r\n[ERROR] -&gt; [Help 1]\r\n```\r\nThe generated code is:\r\n\r\n```java \r\n/**\r\n * Put one entry to the {@link TypedEntity#conditions() conditions} map. Nulls are not permitted\r\n * @param entry The key and value entry\r\n * @return {@code this} builder for use in a chained invocation\r\n */\r\n@CanIgnoreReturnValue \r\npublic final TypedEntityBuilder&lt;T&gt; putConditions(Map.Entry&lt;String, ? extends PropertyCondition&gt; entry) {\r\n  this.conditions.put(entry); // error here\r\n  return this;\r\n}\r\n```","title":"Immutable not generating correct code when using Map","body":"<p>I have this code using <a href=\"https://immutables.github.io/\" rel=\"nofollow noreferrer\">https://immutables.github.io/</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Value.Immutable\n@Value.Style(visibility = Value.Style.ImplementationVisibility.PRIVATE)\npublic interface TypedEntityQuery&lt;T&gt; {\n  String environment();\n\n  T entity();\n\n  Map&lt;String, PropertyCondition&gt; conditions();\n\n  Integer offset();\n\n  Integer max();\n\n  String sort();\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public interface PropertyCondition {\n}\n</code></pre>\n<p>And used like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>TypedEntityQuery&lt;Manager&gt; query = new TypedEntityQueryBuilder&lt;Manager&gt;()\n   .entity(manager)\n   .conditions(manager.getConditions()) \n   .build();\n</code></pre>\n<p>The manager class above is defined as such:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Builder\nclass Manager {\n   private @Getter @Setter Map&lt;String, PropertyCondition&gt; conditions;\n}\n</code></pre>\n<p>However it throws this error:</p>\n<pre><code>[ERROR] .../target/generated-sources/annotations/com/mycompany/backend/model/builder/TypedEntityBuilder.java:[124,20] method put in class com.google.common.collect.ImmutableMap.Builder&lt;K,V&gt; cannot be applied to given types;\n[ERROR]   required: java.lang.String,com.mycompany.core.PropertyCondition\n[ERROR]   found: java.util.Map.Entry&lt;java.lang.String,capture#2 of ? extends com.mycompany.core.PropertyCondition&gt;\n[ERROR]   reason: actual and formal argument lists differ in length\n[ERROR] -&gt; [Help 1]\n</code></pre>\n<p>The generated code is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Put one entry to the {@link TypedEntity#conditions() conditions} map. Nulls are not permitted\n * @param entry The key and value entry\n * @return {@code this} builder for use in a chained invocation\n */\n@CanIgnoreReturnValue \npublic final TypedEntityBuilder&lt;T&gt; putConditions(Map.Entry&lt;String, ? extends PropertyCondition&gt; entry) {\n  this.conditions.put(entry); // error here\n  return this;\n}\n</code></pre>\n"},{"tags":["java","special-characters"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1652645911,"post_id":72251837,"comment_id":127650708,"body_markdown":"I tried to [edit] your question and format your code properly. Please let me know if *input* and *result* match your requirements.","body":"I tried to <a href=\"https://stackoverflow.com/posts/72251837/edit\">edit</a> your question and format your code properly. Please let me know if <i>input</i> and <i>result</i> match your requirements."},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":1,"creation_date":1652646064,"post_id":72251837,"comment_id":127650742,"body_markdown":"Your given input &amp; expected result didn&#39;t match. Please refer below  answers if that fulfils your requirement.","body":"Your given input &amp; expected result didn&#39;t match. Please refer below  answers if that fulfils your requirement."},{"owner":{"account_id":24885,"reputation":30822,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":1,"creation_date":1652646329,"post_id":72251837,"comment_id":127650791,"body_markdown":"Re *&quot;I have a string, but I get these&quot;*: Can you [post](https://stackoverflow.com/posts/72251837/edit) the code? (But ***without*** &quot;Edit:&quot;, &quot;Update:&quot;, or similar - the question should appear as if it was written right now.) Thanks in advance.","body":"Re <i>&quot;I have a string, but I get these&quot;</i>: Can you <a href=\"https://stackoverflow.com/posts/72251837/edit\">post</a> the code? (But <b><i>without</i></b> &quot;Edit:&quot;, &quot;Update:&quot;, or similar - the question should appear as if it was written right now.) Thanks in advance."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":2,"creation_date":1652646406,"post_id":72251837,"comment_id":127650803,"body_markdown":"&quot;Escape&quot; depends on the context you are using the input. Please [edit] your question to include the context on where/how you need the input be &quot;escaped&quot; and why.","body":"&quot;Escape&quot; depends on the context you are using the input. Please <a href=\"https://stackoverflow.com/posts/72251837/edit\">edit</a> your question to include the context on where/how you need the input be &quot;escaped&quot; and why."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1652657453,"post_id":72251837,"comment_id":127652526,"body_markdown":"Please don&#39;t deface your question. Once you ask a question on this site, your question and its code becomes property of the site as per the terms of service that you agreed to on joining the site.","body":"Please don&#39;t deface your question. Once you ask a question on this site, your question and its code becomes property of the site as per the terms of service that you agreed to on joining the site."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1652697963,"post_id":72251837,"comment_id":127660576,"body_markdown":"@HovercraftFullOfEels It doesn&#39;t become the property of SO, but SO does get an irrevocable license.","body":"@HovercraftFullOfEels It doesn&#39;t become the property of SO, but SO does get an irrevocable license."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1652698851,"post_id":72251837,"comment_id":127660873,"body_markdown":"@MarkRotteveel: ah, thank you. I cannot lie and tell you that I know the differences ... yet","body":"@MarkRotteveel: ah, thank you. I cannot lie and tell you that I know the differences ... yet"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1652699211,"post_id":72251837,"comment_id":127660976,"body_markdown":"@HovercraftFullOfEels If you write content on Stack Overflow, you remain the owner and copyright holder of that content. Meaning you are allowed to publish it elsewhere, and even ask money for it. When posting it on Stack Overflow, you give Stack Exchange/Stack Overflow an irrevocable license under  [CC BY-SA 4.0](https://creativecommons.org/licenses/by-sa/4.0/), meaning that Stack Overflow (and by extension, its users) can do everything allowed by that license.","body":"@HovercraftFullOfEels If you write content on Stack Overflow, you remain the owner and copyright holder of that content. Meaning you are allowed to publish it elsewhere, and even ask money for it. When posting it on Stack Overflow, you give Stack Exchange/Stack Overflow an irrevocable license under  <a href=\"https://creativecommons.org/licenses/by-sa/4.0/\" rel=\"nofollow noreferrer\">CC BY-SA 4.0</a>, meaning that Stack Overflow (and by extension, its users) can do everything allowed by that license."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1652699268,"post_id":72251837,"comment_id":127660998,"body_markdown":"@MarkRotteveel: Again, thank you! It&#39;s clearer now","body":"@MarkRotteveel: Again, thank you! It&#39;s clearer now"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1652699321,"post_id":72251837,"comment_id":127661009,"body_markdown":"@HovercraftFullOfEels And the rollback after defacement is not because SO has a license, but because we don&#39;t allow defacement, and because SO (and all its users) has a license, we are free to rollback to a previous version of that content.","body":"@HovercraftFullOfEels And the rollback after defacement is not because SO has a license, but because we don&#39;t allow defacement, and because SO (and all its users) has a license, we are free to rollback to a previous version of that content."}],"answers":[{"tags":[],"owner":{"account_id":57878,"reputation":1411,"user_id":173388,"accept_rate":100,"display_name":"swmcdonnell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652645621,"creation_date":1652645621,"answer_id":72251871,"question_id":72251837,"body_markdown":"To show the escape sequence rather than the resulting character, you can escape the escape. For example:\r\n\r\n    Hsbc_$/&#39;\\\\|&lt;?\\\\u00A1!\\\\u00BF&amp;%$#.,-}{][","title":"How can I escape these characters?","body":"<p>To show the escape sequence rather than the resulting character, you can escape the escape. For example:</p>\n<pre><code>Hsbc_$/'\\\\|&lt;?\\\\u00A1!\\\\u00BF&amp;%$#.,-}{][\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652645726,"creation_date":1652645726,"answer_id":72251878,"question_id":72251837,"body_markdown":"    String a=&quot;Hsbc_$/&#39;\\\\\\\\|&lt;?\\\\u00A1!\\\\u00BF&amp;%$#.,-}{][&quot;;\r\n    System.out.println(a);\r\n\r\nOutput:\r\n\r\n    Hsbc_$/&#39;\\\\|&lt;?\\u00A1!\\u00BF&amp;%$#.,-}{][","title":"How can I escape these characters?","body":"<pre><code>String a=&quot;Hsbc_$/'\\\\\\\\|&lt;?\\\\u00A1!\\\\u00BF&amp;%$#.,-}{][&quot;;\nSystem.out.println(a);\n</code></pre>\n<p>Output:</p>\n<pre><code>Hsbc_$/'\\\\|&lt;?\\u00A1!\\u00BF&amp;%$#.,-}{][\n</code></pre>\n"}],"owner":{"account_id":25285171,"reputation":1,"user_id":19112311,"display_name":"Roberto rxt"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1652698102,"answer_count":2,"score":-2,"last_activity_date":1652657420,"creation_date":1652645284,"question_id":72251837,"body_markdown":"I have a string, but I get these:\r\n\r\n```Hsbc_$/&#39;\\|&lt;?&#161;!&#191;&amp;%$#.,-}{][```\r\n\r\nAnd how can I escape them so the result I get is the following?\r\n\r\n```Hsbc_$/&#39;\\\\|&lt;?\\u00A1!\\u00BF&amp;%$#.,-}{][```\r\n\r\n\r\n","title":"How can I escape these characters?","body":"<p>I have a string, but I get these:</p>\n<p><code>Hsbc_$/'\\|&lt;?¡!¿&amp;%$#.,-}{][</code></p>\n<p>And how can I escape them so the result I get is the following?</p>\n<p><code>Hsbc_$/'\\\\|&lt;?\\u00A1!\\u00BF&amp;%$#.,-}{][</code></p>\n"},{"tags":["java","spring","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652657352,"creation_date":1652657352,"answer_id":72252882,"question_id":72251365,"body_markdown":"Have you downloaded that plugin by any chance, Database Navigator?\r\n\r\nhttps://plugins.jetbrains.com/plugin/1800-database-navigator\r\n\r\nJust be advised that some plugins, possibly this one too, work 100% with the Ultimate edition of IntelliJ, while the Community edition has limits on which plugins you can use.","title":"intellij IDEA - Can&#39;t access DB Navigator - Operation not supported","body":"<p>Have you downloaded that plugin by any chance, Database Navigator?</p>\n<p><a href=\"https://plugins.jetbrains.com/plugin/1800-database-navigator\" rel=\"nofollow noreferrer\">https://plugins.jetbrains.com/plugin/1800-database-navigator</a></p>\n<p>Just be advised that some plugins, possibly this one too, work 100% with the Ultimate edition of IntelliJ, while the Community edition has limits on which plugins you can use.</p>\n"}],"owner":{"account_id":25292122,"reputation":1,"user_id":19117988,"display_name":"UglyStephan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":568,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652657352,"creation_date":1652641297,"question_id":72251365,"body_markdown":"When I want to add a new table in IntelliJ IDEA by right click and choose New Table..;\r\n\r\n[![IDE message][1]][1]\r\n\r\nIt says that the operation of creating a new table is not supported yet. I&#39;m using MySql for the database. \r\n\r\nWhen I was watching some YouTube tutorials, they had that feature, but I can&#39;t access it.\r\n\r\n  [1]: https://i.stack.imgur.com/0zvZq.png","title":"intellij IDEA - Can&#39;t access DB Navigator - Operation not supported","body":"<p>When I want to add a new table in IntelliJ IDEA by right click and choose New Table..;</p>\n<p><a href=\"https://i.stack.imgur.com/0zvZq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0zvZq.png\" alt=\"IDE message\" /></a></p>\n<p>It says that the operation of creating a new table is not supported yet. I'm using MySql for the database.</p>\n<p>When I was watching some YouTube tutorials, they had that feature, but I can't access it.</p>\n"},{"tags":["java","spring","spring-boot","spring-boot-test"],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646919005,"creation_date":1646919005,"answer_id":71424944,"question_id":71048829,"body_markdown":"Try to replace `@ContextConfiguration(classes=DMTestConfiguration.class)` with `@Import(DMTestConfiguration.class)`","title":"Using @TestConfiguration doesn&#39;t work as Context for @SpringBootTest","body":"<p>Try to replace <code>@ContextConfiguration(classes=DMTestConfiguration.class)</code> with <code>@Import(DMTestConfiguration.class)</code></p>\n"}],"owner":{"account_id":5457896,"reputation":3732,"user_id":4340793,"accept_rate":61,"display_name":"JeyJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1093,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1652657230,"creation_date":1644406400,"question_id":71048829,"body_markdown":"I&#39;ve written an integration test that uses `@SpringBootTest` annotation. Since my app has many beans, I want to load in the integration test only the beans that are relevant for the test. For this, I used the `@ContextConfiguration` annotation.\r\n\r\nHowever, it seems that the context loads also other beans and I&#39;m not sure why.\r\n\r\nMy beans : \r\n```\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class A {\r\n    private String name = &quot;&quot;;\r\n}\r\n\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class B {\r\n    private final  A a;\r\n\r\n    public void doSomething(){}\r\n}\r\n\r\n@Component\r\n@AllArgsConstructor\r\npublic class C {\r\n    private String cname;\r\n}\r\n```\r\n\r\nMy configuration class :\r\n\r\n    @Configuration\r\n    public class DMConfiguration {\r\n    \r\n        @Bean\r\n        public A getA(){\r\n            return new A(&quot;just-name&quot;);\r\n        }\r\n    }\r\n\r\nMy integration test consist of 2 parts : \r\n\r\nTestConfig:\r\n```\r\n@TestConfiguration\r\n@Import(DMConfiguration.class)\r\npublic class DMTestConfiguration {\r\n\r\n    @Bean\r\n    public B getB(A a){\r\n        return new B(a);\r\n    }\r\n}\r\n```\r\n\r\nNotice that I import the config from my main code and I don&#39;t want to overwrite them.\r\n\r\nMy test :\r\n```\r\n@SpringBootTest\r\n@ContextConfiguration(classes=DMTestConfiguration.class)\r\npublic class MyTest {\r\n\r\n    @Autowired\r\n    private B b;\r\n\r\n    @Test\r\n    public void testB(){\r\n        b.doSomething();\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe test fails because Spring can&#39;t initialize the bean C (missing bean of type String for the property `cname`) : \r\n```\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;c&#39; defined in file dm/C.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;java.lang.String&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n\r\n```\r\n\r\nAs you can see, Spring tries to load also beans outside of the context I configured. I tried changing the `@TestConfiguration` annotation to `@Configuration` and everything worked as expected ! I don&#39;t want to do that because then it means that other integration tests will load this configuration even if they don&#39;t need the beans inside (I prefer also not to use profiles in testing).\r\n","title":"Using @TestConfiguration doesn&#39;t work as Context for @SpringBootTest","body":"<p>I've written an integration test that uses <code>@SpringBootTest</code> annotation. Since my app has many beans, I want to load in the integration test only the beans that are relevant for the test. For this, I used the <code>@ContextConfiguration</code> annotation.</p>\n<p>However, it seems that the context loads also other beans and I'm not sure why.</p>\n<p>My beans :</p>\n<pre><code>@AllArgsConstructor\n@NoArgsConstructor\npublic class A {\n    private String name = &quot;&quot;;\n}\n\n@Component\n@RequiredArgsConstructor\npublic class B {\n    private final  A a;\n\n    public void doSomething(){}\n}\n\n@Component\n@AllArgsConstructor\npublic class C {\n    private String cname;\n}\n</code></pre>\n<p>My configuration class :</p>\n<pre><code>@Configuration\npublic class DMConfiguration {\n\n    @Bean\n    public A getA(){\n        return new A(&quot;just-name&quot;);\n    }\n}\n</code></pre>\n<p>My integration test consist of 2 parts :</p>\n<p>TestConfig:</p>\n<pre><code>@TestConfiguration\n@Import(DMConfiguration.class)\npublic class DMTestConfiguration {\n\n    @Bean\n    public B getB(A a){\n        return new B(a);\n    }\n}\n</code></pre>\n<p>Notice that I import the config from my main code and I don't want to overwrite them.</p>\n<p>My test :</p>\n<pre><code>@SpringBootTest\n@ContextConfiguration(classes=DMTestConfiguration.class)\npublic class MyTest {\n\n    @Autowired\n    private B b;\n\n    @Test\n    public void testB(){\n        b.doSomething();\n    }\n\n}\n</code></pre>\n<p>The test fails because Spring can't initialize the bean C (missing bean of type String for the property <code>cname</code>) :</p>\n<pre><code>Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'c' defined in file dm/C.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'java.lang.String' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n\n</code></pre>\n<p>As you can see, Spring tries to load also beans outside of the context I configured. I tried changing the <code>@TestConfiguration</code> annotation to <code>@Configuration</code> and everything worked as expected ! I don't want to do that because then it means that other integration tests will load this configuration even if they don't need the beans inside (I prefer also not to use profiles in testing).</p>\n"},{"tags":["java","postgresql","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"score":0,"creation_date":1651947196,"post_id":72154180,"comment_id":127488953,"body_markdown":"Maybe it makes a difference in other database products.  After all the point of this type of ORM code is to be product neutral.","body":"Maybe it makes a difference in other database products.  After all the point of this type of ORM code is to be product neutral."}],"answers":[{"tags":[],"owner":{"account_id":5795637,"reputation":7297,"user_id":4571544,"display_name":"dekkard"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652014540,"creation_date":1652014540,"answer_id":72161221,"question_id":72154180,"body_markdown":"From the looks of it, your entity generation tool just marked with `@Lob` all the columns that don&#39;t have the length specified - most likely just to make sure that whatever data you put into them it will fit.   \r\n(Say, in Oracle maximum BLOB/CLOB size is `(4 GB - 1) * DB_BLOCK_SIZE initialization parameter (8 TB to 128 TB)`)\r\n\r\nAs for the `@Lob` itself, here&#39;s what [javadoc](https://javadoc.io/doc/javax.persistence/javax.persistence-api/latest/javax/persistence/Lob.html) says:\r\n\r\n&gt; Specifies that a persistent property or field should be persisted as a large object to a database-supported large object type.\r\nPortable applications should use the Lob annotation when mapping to a database Lob type. The Lob annotation may be used in conjunction with the Basic annotation or the ElementCollection annotation when the element collection value is of basic type. A Lob may be either a binary or character type.\r\n\r\n&gt; The Lob type is inferred from the type of the persistent field or property, and except for string and character-based types defaults to Blob.\r\n\r\nThe common usecase for binary lobs (BLOBs) is storing some binary file content in the database, say an image, and for the character lobs (CLOBs) - large texts documents.\r\n\r\n","title":"What difference does it make to put an annotation @Lob or not?","body":"<p>From the looks of it, your entity generation tool just marked with <code>@Lob</code> all the columns that don't have the length specified - most likely just to make sure that whatever data you put into them it will fit.<br />\n(Say, in Oracle maximum BLOB/CLOB size is <code>(4 GB - 1) * DB_BLOCK_SIZE initialization parameter (8 TB to 128 TB)</code>)</p>\n<p>As for the <code>@Lob</code> itself, here's what <a href=\"https://javadoc.io/doc/javax.persistence/javax.persistence-api/latest/javax/persistence/Lob.html\" rel=\"nofollow noreferrer\">javadoc</a> says:</p>\n<blockquote>\n<p>Specifies that a persistent property or field should be persisted as a large object to a database-supported large object type.\nPortable applications should use the Lob annotation when mapping to a database Lob type. The Lob annotation may be used in conjunction with the Basic annotation or the ElementCollection annotation when the element collection value is of basic type. A Lob may be either a binary or character type.</p>\n</blockquote>\n<blockquote>\n<p>The Lob type is inferred from the type of the persistent field or property, and except for string and character-based types defaults to Blob.</p>\n</blockquote>\n<p>The common usecase for binary lobs (BLOBs) is storing some binary file content in the database, say an image, and for the character lobs (CLOBs) - large texts documents.</p>\n"}],"owner":{"account_id":14483402,"reputation":892,"user_id":11745788,"display_name":"WBLord"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":742,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72161221,"answer_count":1,"score":1,"last_activity_date":1652657123,"creation_date":1651939021,"question_id":72154180,"body_markdown":"There is a request table in my database.\r\nHere is its structure\r\n\r\n[![enter image description here][1]][1]\r\n\r\nUsually I created the entity with my hands, but this time I decided to generate it from the database. Here&#39;s what I got\r\n```java\r\n@Entity\r\n@Table(name = &quot;request&quot;)\r\npublic class Request\r\n{\r\n    @Id\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    private Integer id;\r\n\r\n    @Lob\r\n    @Column(name = &quot;body&quot;)\r\n    private String body;\r\n\r\n    @Column(name = &quot;description&quot;, length = 10000)\r\n    private String description;\r\n\r\n    @Lob\r\n    @Column(name = &quot;headers&quot;)\r\n    private String headers;\r\n\r\n    @Column(name = &quot;http_method&quot;, nullable = false, length = 20)\r\n    private String httpMethod;\r\n\r\n    @Column(name = &quot;name&quot;, nullable = false, length = 100)\r\n    private String name;\r\n\r\n    @Lob\r\n    @Column(name = &quot;path_variables&quot;)\r\n    private String pathVariables;\r\n\r\n    @Column(name = &quot;port&quot;)\r\n    private Integer port;\r\n\r\n    @Lob\r\n    @Column(name = &quot;query_params&quot;)\r\n    private String queryParams;\r\n\r\n    @Lob\r\n    @Column(name = &quot;url&quot;, nullable = false)\r\n    private String url;\r\n```\r\nI noticed that a strange annotation **@Lob** appeared.\r\nI&#39;ve never seen her before. I decided to Google what it means and why to put it.\r\nI found a lot of answers and they all said that this annotation is needed so that Hibernate understands that there may be a big object here.\r\n\r\nBut it seems to me that this annotation does nothing. After all, regardless of whether it is worth it or not, everything works the same?\r\n\r\n&gt; What is it for?\r\n\r\n  [1]: https://i.stack.imgur.com/sSqt9.png","title":"What difference does it make to put an annotation @Lob or not?","body":"<p>There is a request table in my database.\nHere is its structure</p>\n<p><a href=\"https://i.stack.imgur.com/sSqt9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sSqt9.png\" alt=\"enter image description here\" /></a></p>\n<p>Usually I created the entity with my hands, but this time I decided to generate it from the database. Here's what I got</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;request&quot;)\npublic class Request\n{\n    @Id\n    @Column(name = &quot;id&quot;, nullable = false)\n    private Integer id;\n\n    @Lob\n    @Column(name = &quot;body&quot;)\n    private String body;\n\n    @Column(name = &quot;description&quot;, length = 10000)\n    private String description;\n\n    @Lob\n    @Column(name = &quot;headers&quot;)\n    private String headers;\n\n    @Column(name = &quot;http_method&quot;, nullable = false, length = 20)\n    private String httpMethod;\n\n    @Column(name = &quot;name&quot;, nullable = false, length = 100)\n    private String name;\n\n    @Lob\n    @Column(name = &quot;path_variables&quot;)\n    private String pathVariables;\n\n    @Column(name = &quot;port&quot;)\n    private Integer port;\n\n    @Lob\n    @Column(name = &quot;query_params&quot;)\n    private String queryParams;\n\n    @Lob\n    @Column(name = &quot;url&quot;, nullable = false)\n    private String url;\n</code></pre>\n<p>I noticed that a strange annotation <strong>@Lob</strong> appeared.\nI've never seen her before. I decided to Google what it means and why to put it.\nI found a lot of answers and they all said that this annotation is needed so that Hibernate understands that there may be a big object here.</p>\n<p>But it seems to me that this annotation does nothing. After all, regardless of whether it is worth it or not, everything works the same?</p>\n<blockquote>\n<p>What is it for?</p>\n</blockquote>\n"},{"tags":["java","serialization","deserialization","hazelcast"],"comments":[{"owner":{"account_id":552254,"reputation":6004,"user_id":917336,"display_name":"noctarius"},"score":1,"creation_date":1426849922,"post_id":29164696,"comment_id":46549071,"body_markdown":"I guess without the serializer code there is no chance to even guess a reason :)","body":"I guess without the serializer code there is no chance to even guess a reason :)"},{"owner":{"account_id":4249916,"reputation":7303,"user_id":3477322,"accept_rate":61,"display_name":"Lakshman Diwaakar"},"score":0,"creation_date":1426858503,"post_id":29164696,"comment_id":46554055,"body_markdown":"i have updated as per your request @noctarius, moreover i think there should be some extra method/class to retrieve the serialised object. please help!!!","body":"i have updated as per your request @noctarius, moreover i think there should be some extra method/class to retrieve the serialised object. please help!!!"},{"owner":{"account_id":552254,"reputation":6004,"user_id":917336,"display_name":"noctarius"},"score":0,"creation_date":1426866326,"post_id":29164696,"comment_id":46559244,"body_markdown":"Oh haven&#39;t seen it earlier but an ISet is not serializable and therefore you can&#39;t use it as a field. See the following answer.","body":"Oh haven&#39;t seen it earlier but an ISet is not serializable and therefore you can&#39;t use it as a field. See the following answer."}],"answers":[{"tags":[],"owner":{"account_id":552254,"reputation":6004,"user_id":917336,"display_name":"noctarius"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1426866864,"creation_date":1426866864,"answer_id":29170738,"question_id":29164696,"body_markdown":"ISet is not serializable and cannot be serialized directly as a field inside of a class. See the following snippet for a possible solution.\r\n\r\n    public class MyDataObject\r\n        implements KryoSerializable, HazelcastInstanceAware {\r\n\r\n      private ISet&lt;Integer&gt; myList;\r\n      private String myListName;\r\n    \r\n      public ISet&lt;Integer&gt; getMyList() {\r\n        return myList;\r\n      }\r\n    \r\n      public void setMyList(ISet&lt;Integer&gt; myList) {\r\n        this.myList = myList;\r\n        this.myListName = myList.getName();\r\n      }\r\n\r\n      public void write (Kryo kryo, Output output) {\r\n        output.writeString(myListName);\r\n      }\r\n\r\n      public void read (Kryo kryo, Input input) {\r\n        this.myListName = input.readString();\r\n      }\r\n\r\n      public void setHazelcastInstance(HazelcastInstance hazelcastInstance) {\r\n        this.myList = hazelcastInstance.getSet(myListName);\r\n      }\r\n    }\r\n\r\nI guess that should work (at least kind of ;-)) just wrote it in the browser.","title":"How to retrieve the serialized object from Hazelcast&#39;s Imap?","body":"<p>ISet is not serializable and cannot be serialized directly as a field inside of a class. See the following snippet for a possible solution.</p>\n\n<pre><code>public class MyDataObject\n    implements KryoSerializable, HazelcastInstanceAware {\n\n  private ISet&lt;Integer&gt; myList;\n  private String myListName;\n\n  public ISet&lt;Integer&gt; getMyList() {\n    return myList;\n  }\n\n  public void setMyList(ISet&lt;Integer&gt; myList) {\n    this.myList = myList;\n    this.myListName = myList.getName();\n  }\n\n  public void write (Kryo kryo, Output output) {\n    output.writeString(myListName);\n  }\n\n  public void read (Kryo kryo, Input input) {\n    this.myListName = input.readString();\n  }\n\n  public void setHazelcastInstance(HazelcastInstance hazelcastInstance) {\n    this.myList = hazelcastInstance.getSet(myListName);\n  }\n}\n</code></pre>\n\n<p>I guess that should work (at least kind of ;-)) just wrote it in the browser.</p>\n"}],"owner":{"account_id":4249916,"reputation":7303,"user_id":3477322,"accept_rate":61,"display_name":"Lakshman Diwaakar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1708,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652656120,"creation_date":1426848337,"question_id":29164696,"body_markdown":"The below code is for putting a kryo serialised object into an Hazelcast&#39;s Imap instance followed by retrieving. On retrieving the object it throws an error named:  \r\n\r\n&gt; com.hazelcast.nio.serialization.HazelcastSerializationException: com.esotericsoftware.kryo.KryoException: java.io.EOFException: Unexpected end of ZLIB input stream\r\n\r\nMy code is given below.\r\n\r\n    package hazelcast2;\r\n\r\n    import java.util.Scanner;\r\n\r\n    import com.hazelcast.client.config.ClientConfig;\r\n    import com.hazelcast.config.Config;\r\n    import com.hazelcast.config.InMemoryFormat;\r\n    import com.hazelcast.config.MapConfig;\r\n    import com.hazelcast.config.SerializerConfig;\r\n    import com.hazelcast.core.Hazelcast;\r\n    import com.hazelcast.core.HazelcastInstance;\r\n    import com.hazelcast.core.IMap;\r\n    import com.hazelcast.core.ISet;\r\n    \r\n    \r\n    public class zlibtry {\r\n    \tpublic static Config config;\r\n    \tpublic static ClientConfig cfg;\r\n    \tpublic static HazelcastInstance hz;\r\n    \tpublic static IMap&lt;String,MyDataObject&gt; mapItemCount; \r\n    \t\r\n    \tpublic static void main(String[] args) throws Exception{\r\n    //\t\tScanner obj = new Scanner(System.in);\r\n    \t\tconfig= new Config();\r\n    \t\r\n    \t\tconfig.setProperty(&quot;hazelcast.elastic.memory.enabled&quot; , &quot;true&quot;);\r\n    \t\tconfig.setProperty(&quot;hazelcast.elastic.memory.total.size&quot;, &quot;60G&quot;);\r\n    \t\tconfig.setProperty(&quot;hazelcast.elastic.memory.chunk.size&quot;,&quot;2&quot;);\r\n    \t\tMapConfig mapConfig = new MapConfig();\r\n    \t\tmapConfig.setInMemoryFormat( InMemoryFormat.OBJECT );\r\n    \t\t//config.getNetworkConfig().setPort(5701);\r\n    \t\t//config.getNetworkConfig().setPublicAddress(&quot;127.0.0.1&quot;); \r\n    \t\tconfig.setProperty(&quot;address&quot;,&quot;127.0.0.1&quot;);\r\n    \t\t\r\n    \t\tSerializerConfig productSerializer = new SerializerConfig()\r\n    \t     .setTypeClass(MyDataObject.class).setImplementation(new ProductKryoSerializer(true));\r\n    \t\tconfig.getSerializationConfig().addSerializerConfig(productSerializer);\r\n    \r\n    \t\thz=Hazelcast.newHazelcastInstance(config);\r\n    \r\n    \t\t mapItemCount=hz.getMap(&quot;objectMap&quot;);\r\n    \t\t \r\n    \t\t MyDataObject obj = new MyDataObject();\r\n    \t\t \r\n    \t\t ISet&lt;Integer&gt; iset = hz.getSet(&quot;zlibset2&quot;);\r\n    \t\t iset.add(1);\r\n    \t\t \r\n    \t\t obj.setMyList(iset);\r\n    \t\t \r\n    \t\t mapItemCount.put(&quot;1&quot;, obj);\r\n    \t\t \r\n    \t\t System.out.println(mapItemCount.get(&quot;1&quot;).getMyList().toString());\r\n    \t\t \r\n    \t\t \r\n    \t\t \r\n    \t\t \r\n    \t\t \r\n    \t}\t\r\n    }\r\n\r\nThe below code is for productKyroSerializer:\r\n\r\n\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n    import java.util.zip.DeflaterOutputStream;\r\n    import java.util.zip.InflaterInputStream;\r\n    \r\n    import com.esotericsoftware.kryo.Kryo;\r\n    import com.esotericsoftware.kryo.io.Input;\r\n    import com.esotericsoftware.kryo.io.Output;\r\n    import com.hazelcast.nio.ObjectDataInput;\r\n    import com.hazelcast.nio.ObjectDataOutput;\r\n    import com.hazelcast.nio.serialization.StreamSerializer;\r\n    \r\n    public class ProductKryoSerializer implements StreamSerializer {\r\n        private final boolean compress;\r\n    \r\n        private static final ThreadLocal&lt;Kryo&gt; kryoThreadLocal \r\n               = new ThreadLocal&lt;Kryo&gt;() {\r\n            \r\n            @Override\r\n            protected Kryo initialValue() {\r\n                Kryo kryo = new Kryo();\r\n                kryo.register(MyDataObject.class);\r\n                return kryo;\r\n            }\r\n        };\r\n    \r\n        public ProductKryoSerializer(boolean compress) {\r\n            this.compress = compress;\r\n        }\r\n    \r\n        public int getTypeId() {\r\n            return 2;\r\n        }\r\n    \r\n        public void write(ObjectDataOutput objectDataOutput, MyDataObject product) \r\n               throws IOException {\r\n            Kryo kryo = kryoThreadLocal.get();\r\n    \r\n            if (compress) {\r\n                ByteArrayOutputStream byteArrayOutputStream = \r\n                    new ByteArrayOutputStream(16384);\r\n                DeflaterOutputStream deflaterOutputStream = \r\n                    new DeflaterOutputStream(byteArrayOutputStream);\r\n                Output output = new Output(deflaterOutputStream);\r\n                kryo.writeObject(output, product);\r\n                output.close();\r\n    \r\n                byte[] bytes = byteArrayOutputStream.toByteArray();\r\n                objectDataOutput.write(bytes);\r\n            } else {\r\n                Output output = new Output((OutputStream) objectDataOutput);\r\n                kryo.writeObject(output, product);\r\n                output.flush();\r\n            }\r\n        }\r\n    \r\n        public MyDataObject read(ObjectDataInput objectDataInput) \r\n               throws IOException {\r\n            InputStream in = (InputStream) objectDataInput;\r\n            if (compress) {\r\n                in = new InflaterInputStream(in);\r\n            }\r\n            Input input = new Input(in);\r\n            Kryo kryo = kryoThreadLocal.get();\r\n            return kryo.readObject(input, MyDataObject.class);\r\n        }\r\n    \r\n        public void destroy() {\r\n        }\r\n    \r\n    //\t@Override\r\n    //\tpublic Object read(ObjectDataInput arg0) throws IOException {\r\n    //\t\t// TODO Auto-generated method stub\r\n    //\t\treturn null;\r\n    //\t}\r\n    \r\n    \tpublic void write(ObjectDataOutput arg0, Object arg1) throws IOException {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\nAnd moreover, I think there should be some proper method to retrieve the object after deserialisation.\r\n\r\nYou can see the &quot;objectMap&quot; hazelcast&#39;s IMap instance and I have updated some code in hazelcast.xml:\r\n\r\n    &lt;map name=&quot;objectMap&quot;&gt;\r\n        &lt;in-memory-format&gt;OBJECT&lt;/in-memory-format&gt;\r\n    &lt;/map&gt;\r\n    \r\n    &lt;map name=&quot;cachedMap&quot;&gt;\r\n        &lt;in-memory-format&gt;CACHED&lt;/in-memory-format&gt;\r\n    &lt;/map&gt;\r\n    \r\n    &lt;map name=&quot;binaryMap&quot;&gt;\r\n        &lt;in-memory-format&gt;BINARY&lt;/in-memory-format&gt;\r\n    &lt;/map&gt;\r\n and the code for myDataObject is \r\n\r\n\r\n\r\n\r\n    import com.hazelcast.core.IList;\r\n    import com.hazelcast.core.ISet;\r\n    \r\n    public class MyDataObject {\r\n    ISet&lt;Integer&gt; myList;\r\n    \r\n    public ISet&lt;Integer&gt; getMyList() {\r\n    \treturn myList;\r\n    }\r\n    \r\n    public void setMyList(ISet&lt;Integer&gt; myList) {\r\n    \tthis.myList = myList;\r\n    }\r\n    \r\n    }\r\n\r\n","title":"How to retrieve the serialized object from Hazelcast&#39;s Imap?","body":"<p>The below code is for putting a kryo serialised object into an Hazelcast's Imap instance followed by retrieving. On retrieving the object it throws an error named:</p>\n<blockquote>\n<p>com.hazelcast.nio.serialization.HazelcastSerializationException: com.esotericsoftware.kryo.KryoException: java.io.EOFException: Unexpected end of ZLIB input stream</p>\n</blockquote>\n<p>My code is given below.</p>\n<pre><code>package hazelcast2;\n\nimport java.util.Scanner;\n\nimport com.hazelcast.client.config.ClientConfig;\nimport com.hazelcast.config.Config;\nimport com.hazelcast.config.InMemoryFormat;\nimport com.hazelcast.config.MapConfig;\nimport com.hazelcast.config.SerializerConfig;\nimport com.hazelcast.core.Hazelcast;\nimport com.hazelcast.core.HazelcastInstance;\nimport com.hazelcast.core.IMap;\nimport com.hazelcast.core.ISet;\n\n\npublic class zlibtry {\n    public static Config config;\n    public static ClientConfig cfg;\n    public static HazelcastInstance hz;\n    public static IMap&lt;String,MyDataObject&gt; mapItemCount; \n    \n    public static void main(String[] args) throws Exception{\n//      Scanner obj = new Scanner(System.in);\n        config= new Config();\n    \n        config.setProperty(&quot;hazelcast.elastic.memory.enabled&quot; , &quot;true&quot;);\n        config.setProperty(&quot;hazelcast.elastic.memory.total.size&quot;, &quot;60G&quot;);\n        config.setProperty(&quot;hazelcast.elastic.memory.chunk.size&quot;,&quot;2&quot;);\n        MapConfig mapConfig = new MapConfig();\n        mapConfig.setInMemoryFormat( InMemoryFormat.OBJECT );\n        //config.getNetworkConfig().setPort(5701);\n        //config.getNetworkConfig().setPublicAddress(&quot;127.0.0.1&quot;); \n        config.setProperty(&quot;address&quot;,&quot;127.0.0.1&quot;);\n        \n        SerializerConfig productSerializer = new SerializerConfig()\n         .setTypeClass(MyDataObject.class).setImplementation(new ProductKryoSerializer(true));\n        config.getSerializationConfig().addSerializerConfig(productSerializer);\n\n        hz=Hazelcast.newHazelcastInstance(config);\n\n         mapItemCount=hz.getMap(&quot;objectMap&quot;);\n         \n         MyDataObject obj = new MyDataObject();\n         \n         ISet&lt;Integer&gt; iset = hz.getSet(&quot;zlibset2&quot;);\n         iset.add(1);\n         \n         obj.setMyList(iset);\n         \n         mapItemCount.put(&quot;1&quot;, obj);\n         \n         System.out.println(mapItemCount.get(&quot;1&quot;).getMyList().toString());\n         \n         \n         \n         \n         \n    }   \n}\n</code></pre>\n<p>The below code is for productKyroSerializer:</p>\n<pre><code>import java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.util.zip.DeflaterOutputStream;\nimport java.util.zip.InflaterInputStream;\n\nimport com.esotericsoftware.kryo.Kryo;\nimport com.esotericsoftware.kryo.io.Input;\nimport com.esotericsoftware.kryo.io.Output;\nimport com.hazelcast.nio.ObjectDataInput;\nimport com.hazelcast.nio.ObjectDataOutput;\nimport com.hazelcast.nio.serialization.StreamSerializer;\n\npublic class ProductKryoSerializer implements StreamSerializer {\n    private final boolean compress;\n\n    private static final ThreadLocal&lt;Kryo&gt; kryoThreadLocal \n           = new ThreadLocal&lt;Kryo&gt;() {\n        \n        @Override\n        protected Kryo initialValue() {\n            Kryo kryo = new Kryo();\n            kryo.register(MyDataObject.class);\n            return kryo;\n        }\n    };\n\n    public ProductKryoSerializer(boolean compress) {\n        this.compress = compress;\n    }\n\n    public int getTypeId() {\n        return 2;\n    }\n\n    public void write(ObjectDataOutput objectDataOutput, MyDataObject product) \n           throws IOException {\n        Kryo kryo = kryoThreadLocal.get();\n\n        if (compress) {\n            ByteArrayOutputStream byteArrayOutputStream = \n                new ByteArrayOutputStream(16384);\n            DeflaterOutputStream deflaterOutputStream = \n                new DeflaterOutputStream(byteArrayOutputStream);\n            Output output = new Output(deflaterOutputStream);\n            kryo.writeObject(output, product);\n            output.close();\n\n            byte[] bytes = byteArrayOutputStream.toByteArray();\n            objectDataOutput.write(bytes);\n        } else {\n            Output output = new Output((OutputStream) objectDataOutput);\n            kryo.writeObject(output, product);\n            output.flush();\n        }\n    }\n\n    public MyDataObject read(ObjectDataInput objectDataInput) \n           throws IOException {\n        InputStream in = (InputStream) objectDataInput;\n        if (compress) {\n            in = new InflaterInputStream(in);\n        }\n        Input input = new Input(in);\n        Kryo kryo = kryoThreadLocal.get();\n        return kryo.readObject(input, MyDataObject.class);\n    }\n\n    public void destroy() {\n    }\n\n//  @Override\n//  public Object read(ObjectDataInput arg0) throws IOException {\n//      // TODO Auto-generated method stub\n//      return null;\n//  }\n\n    public void write(ObjectDataOutput arg0, Object arg1) throws IOException {\n        // TODO Auto-generated method stub\n        \n    }\n}\n</code></pre>\n<p>And moreover, I think there should be some proper method to retrieve the object after deserialisation.</p>\n<p>You can see the &quot;objectMap&quot; hazelcast's IMap instance and I have updated some code in hazelcast.xml:</p>\n<pre><code>&lt;map name=&quot;objectMap&quot;&gt;\n    &lt;in-memory-format&gt;OBJECT&lt;/in-memory-format&gt;\n&lt;/map&gt;\n\n&lt;map name=&quot;cachedMap&quot;&gt;\n    &lt;in-memory-format&gt;CACHED&lt;/in-memory-format&gt;\n&lt;/map&gt;\n\n&lt;map name=&quot;binaryMap&quot;&gt;\n    &lt;in-memory-format&gt;BINARY&lt;/in-memory-format&gt;\n&lt;/map&gt;\n</code></pre>\n<p>and the code for myDataObject is</p>\n<pre><code>import com.hazelcast.core.IList;\nimport com.hazelcast.core.ISet;\n\npublic class MyDataObject {\nISet&lt;Integer&gt; myList;\n\npublic ISet&lt;Integer&gt; getMyList() {\n    return myList;\n}\n\npublic void setMyList(ISet&lt;Integer&gt; myList) {\n    this.myList = myList;\n}\n\n}\n</code></pre>\n"},{"tags":["java","xml"],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652655898,"creation_date":1652655898,"answer_id":72252771,"question_id":72251914,"body_markdown":"Of course you can. I can&#39;t see what your problem is. Just write\r\n\r\n    boolean bPurchasable = getBooleanElement(ndeMissileType,  XMLDefs.PURCHASABLE, false);\r\n\r\nwhere the 3-argument method is defined as\r\n\r\n    public boolean getBooleanElement(Element parent, QName name, boolean default) {\r\n      return parent.hasChild(name) ? GetBooleanElement(parent, name) : default\r\n    }\r\n\r\n(Treat this as pseudo-code, because I don&#39;t know what API you are actually using. Note Java method names conventionally use an initial lower-case letter.)\r\n","title":"Optional tags within XML document?","body":"<p>Of course you can. I can't see what your problem is. Just write</p>\n<pre><code>boolean bPurchasable = getBooleanElement(ndeMissileType,  XMLDefs.PURCHASABLE, false);\n</code></pre>\n<p>where the 3-argument method is defined as</p>\n<pre><code>public boolean getBooleanElement(Element parent, QName name, boolean default) {\n  return parent.hasChild(name) ? GetBooleanElement(parent, name) : default\n}\n</code></pre>\n<p>(Treat this as pseudo-code, because I don't know what API you are actually using. Note Java method names conventionally use an initial lower-case letter.)</p>\n"}],"owner":{"display_name":"user19113197"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652655898,"creation_date":1652646136,"question_id":72251914,"body_markdown":"I&#39;m working on a missile-combat oriented game written in java that reads missile types with settings from an XML document. Each missile has many different parameters that can clog up the XML sometimes and make it hard to handle each missile type. What I am wondering is if it would be possible to code the XML parsing section of the code so that I can put in only the options that will be different from a default value. For example, one of the parameters is &quot;nuclear,&quot; which can be true or false to indicate a nuclear missile. Would it be possible to write the code so that if &lt;nuclear&gt; is not present, it defaults to &quot;false?&quot; \r\n\r\nHere is a missile type in the XML: \r\n\r\n    &lt;MissileType ID=&quot;1&quot; Name=&quot;Tomahawk&quot;&gt;\r\n      &lt;AssetID&gt;15&lt;/AssetID&gt;\r\n      &lt;Purchasable&gt;true&lt;/Purchasable&gt;\r\n      &lt;SpeedIndex&gt;1&lt;/SpeedIndex&gt;\r\n      &lt;MissileCost&gt;550&lt;/MissileCost&gt;\r\n      &lt;BlastRadiusIndex&gt;2&lt;/BlastRadiusIndex&gt;\r\n      &lt;RangeIndex&gt;3&lt;/RangeIndex&gt;\r\n      &lt;MaxDamageIndex&gt;3&lt;/MaxDamageIndex&gt;\r\n      &lt;Nuclear&gt;false&lt;/Nuclear&gt;\r\n      &lt;Tracking&gt;true&lt;/Tracking&gt;\r\n      &lt;ECM&gt;true&lt;/ECM&gt;\r\n    &lt;/MissileType&gt;```\r\n\r\nHere is the code that parses the missile type:\r\n\r\n    for(int i = 0; i &lt; ndeMissileTypes.getLength(); i++)\r\n            {\r\n                try\r\n                {\r\n                    Element ndeMissileType = (Element)ndeMissileTypes.item(i);\r\n                    byte cID = GetByteAttribute(ndeMissileType, XMLDefs.ID);\r\n                    String strName = GetStringAttribute(ndeMissileType, XMLDefs.NAME);\r\n                    int lAssetID = GetIntElement(ndeMissileType, XMLDefs.ASSET_ID);\r\n                    boolean bPurchasable = GetBooleanElement(ndeMissileType, XMLDefs.PURCHASABLE);\r\n                    byte cSpeedIndex = GetByteElement(ndeMissileType, XMLDefs.SPEED_INDEX);\r\n                    int cMissileCost = GetIntElement(ndeMissileType, XMLDefs.MISSILE_COST); \r\n                    byte cBlastRadiusIndex = GetByteElement(ndeMissileType, XMLDefs.BLAST_RADIUS_INDEX);\r\n                    byte cRangeIndex = GetByteElement(ndeMissileType, XMLDefs.RANGE_INDEX);\r\n                    byte cMaxDamageIndex = GetByteElement(ndeMissileType, XMLDefs.MAX_DAMAGE_INDEX);\r\n                    boolean bNuclear = GetBooleanElement(ndeMissileType, XMLDefs.NUCLEAR);\r\n                    boolean bTracking = GetBooleanElement(ndeMissileType, XMLDefs.TRACKING);\r\n                    boolean bECM = GetBooleanElement(ndeMissileType, XMLDefs.ECM);\r\n                                                                                                                                             \r\n                    config.AddMissileType(cID, new MissileType(cID, bPurchasable, strName, lAssetID, bNuclear, bTracking, bECM, cSpeedIndex, cMissileCost, cRangeIndex, cBlastRadiusIndex, cMaxDamageIndex));\r\n                }\r\n                catch(Exception ex)\r\n                {\r\n                    listener.LoadError(String.format(&quot;Error loading missile type at index %d: %s.&quot;, i, ex.getMessage()));\r\n                }\r\n            }\r\n\r\nI would like it so that I can leave out lines from `&lt;MissileType&gt;` and have it return a default value for that position. For example, have a missile type that looks like this:\r\n\r\n    &lt;MissileType ID=&quot;1&quot; Name=&quot;Tomahawk&quot;&gt;\r\n      &lt;AssetID&gt;15&lt;/AssetID&gt;\r\n      &lt;Purchasable&gt;true&lt;/Purchasable&gt;\r\n      &lt;SpeedIndex&gt;1&lt;/SpeedIndex&gt;\r\n      &lt;MissileCost&gt;550&lt;/MissileCost&gt;\r\n      &lt;BlastRadiusIndex&gt;2&lt;/BlastRadiusIndex&gt;\r\n      &lt;RangeIndex&gt;3&lt;/RangeIndex&gt;\r\n      &lt;MaxDamageIndex&gt;3&lt;/MaxDamageIndex&gt;\r\n    &lt;/MissileType&gt;\r\n\r\nWhich would return false for the missing boolean values at the end, essentially allowing me to only input the tags that are relevant to this particular missile type.  ","title":"Optional tags within XML document?","body":"<p>I'm working on a missile-combat oriented game written in java that reads missile types with settings from an XML document. Each missile has many different parameters that can clog up the XML sometimes and make it hard to handle each missile type. What I am wondering is if it would be possible to code the XML parsing section of the code so that I can put in only the options that will be different from a default value. For example, one of the parameters is &quot;nuclear,&quot; which can be true or false to indicate a nuclear missile. Would it be possible to write the code so that if  is not present, it defaults to &quot;false?&quot;</p>\n<p>Here is a missile type in the XML:</p>\n<pre><code>&lt;MissileType ID=&quot;1&quot; Name=&quot;Tomahawk&quot;&gt;\n  &lt;AssetID&gt;15&lt;/AssetID&gt;\n  &lt;Purchasable&gt;true&lt;/Purchasable&gt;\n  &lt;SpeedIndex&gt;1&lt;/SpeedIndex&gt;\n  &lt;MissileCost&gt;550&lt;/MissileCost&gt;\n  &lt;BlastRadiusIndex&gt;2&lt;/BlastRadiusIndex&gt;\n  &lt;RangeIndex&gt;3&lt;/RangeIndex&gt;\n  &lt;MaxDamageIndex&gt;3&lt;/MaxDamageIndex&gt;\n  &lt;Nuclear&gt;false&lt;/Nuclear&gt;\n  &lt;Tracking&gt;true&lt;/Tracking&gt;\n  &lt;ECM&gt;true&lt;/ECM&gt;\n&lt;/MissileType&gt;```\n</code></pre>\n<p>Here is the code that parses the missile type:</p>\n<pre><code>for(int i = 0; i &lt; ndeMissileTypes.getLength(); i++)\n        {\n            try\n            {\n                Element ndeMissileType = (Element)ndeMissileTypes.item(i);\n                byte cID = GetByteAttribute(ndeMissileType, XMLDefs.ID);\n                String strName = GetStringAttribute(ndeMissileType, XMLDefs.NAME);\n                int lAssetID = GetIntElement(ndeMissileType, XMLDefs.ASSET_ID);\n                boolean bPurchasable = GetBooleanElement(ndeMissileType, XMLDefs.PURCHASABLE);\n                byte cSpeedIndex = GetByteElement(ndeMissileType, XMLDefs.SPEED_INDEX);\n                int cMissileCost = GetIntElement(ndeMissileType, XMLDefs.MISSILE_COST); \n                byte cBlastRadiusIndex = GetByteElement(ndeMissileType, XMLDefs.BLAST_RADIUS_INDEX);\n                byte cRangeIndex = GetByteElement(ndeMissileType, XMLDefs.RANGE_INDEX);\n                byte cMaxDamageIndex = GetByteElement(ndeMissileType, XMLDefs.MAX_DAMAGE_INDEX);\n                boolean bNuclear = GetBooleanElement(ndeMissileType, XMLDefs.NUCLEAR);\n                boolean bTracking = GetBooleanElement(ndeMissileType, XMLDefs.TRACKING);\n                boolean bECM = GetBooleanElement(ndeMissileType, XMLDefs.ECM);\n                                                                                                                                         \n                config.AddMissileType(cID, new MissileType(cID, bPurchasable, strName, lAssetID, bNuclear, bTracking, bECM, cSpeedIndex, cMissileCost, cRangeIndex, cBlastRadiusIndex, cMaxDamageIndex));\n            }\n            catch(Exception ex)\n            {\n                listener.LoadError(String.format(&quot;Error loading missile type at index %d: %s.&quot;, i, ex.getMessage()));\n            }\n        }\n</code></pre>\n<p>I would like it so that I can leave out lines from <code>&lt;MissileType&gt;</code> and have it return a default value for that position. For example, have a missile type that looks like this:</p>\n<pre><code>&lt;MissileType ID=&quot;1&quot; Name=&quot;Tomahawk&quot;&gt;\n  &lt;AssetID&gt;15&lt;/AssetID&gt;\n  &lt;Purchasable&gt;true&lt;/Purchasable&gt;\n  &lt;SpeedIndex&gt;1&lt;/SpeedIndex&gt;\n  &lt;MissileCost&gt;550&lt;/MissileCost&gt;\n  &lt;BlastRadiusIndex&gt;2&lt;/BlastRadiusIndex&gt;\n  &lt;RangeIndex&gt;3&lt;/RangeIndex&gt;\n  &lt;MaxDamageIndex&gt;3&lt;/MaxDamageIndex&gt;\n&lt;/MissileType&gt;\n</code></pre>\n<p>Which would return false for the missing boolean values at the end, essentially allowing me to only input the tags that are relevant to this particular missile type.</p>\n"},{"tags":["java","maven","visual-studio-code","google-api","google-cloud-storage"],"comments":[{"owner":{"account_id":24435058,"reputation":6292,"user_id":18359438,"display_name":"MingJie-MSFT"},"score":0,"creation_date":1652667218,"post_id":72248709,"comment_id":127653722,"body_markdown":"Have you tried cleaning workspace? Is the classpath path correct.","body":"Have you tried cleaning workspace? Is the classpath path correct."}],"owner":{"account_id":23604001,"reputation":11,"user_id":17640009,"display_name":"Cardinal_no.2"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652655491,"creation_date":1652621480,"question_id":72248709,"body_markdown":"I&#39;m having an issue importing the libraries for the Google Cloud API, I opened a default maven file and included all the appropriate dependencies in my pom.xml file (provided in the CloudCode extension on VSCode) however I keep getting the same error:\r\n```\r\nThe import com.google cannot be resolved\r\n```\r\nAll I&#39;m using is the sample code provided, I&#39;m unsure what the problem is, and I can&#39;t seem to find any resources apart from Eclipse.\r\n\r\n\r\n\r\n    package com.ootd;\r\n    \r\n    import com.google.cloud.storage.Bucket;\r\n    import com.google.cloud.storage.BucketInfo;\r\n    import com.google.cloud.storage.Storage;\r\n    import com.google.cloud.storage.StorageOptions;\r\n    \r\n    public class App {\r\n      public static void createBucket(String projectId, String bucketName) {\r\n        // The ID of your GCP project\r\n        // String projectId = &quot;your-project-id&quot;;\r\n    \r\n        // The ID to give your GCS bucket\r\n        // String bucketName = &quot;your-unique-bucket-name&quot;;\r\n    \r\n        Storage storage = StorageOptions.newBuilder().setProjectId(projectId).build().getService();\r\n    \r\n        Bucket bucket = storage.create(BucketInfo.newBuilder(bucketName).build());\r\n    \r\n        System.out.println(&quot;Created bucket &quot; + bucket.getName());\r\n      }\r\n    }\r\n\r\n\r\nI&#39;m not well versed in Maven, but I&#39;ve set it up correctly, following step-by-step instructions. I can&#39;t see what the issue is.\r\n\r\nHow can I fix that?","title":"Issue with Importing Google Cloud API libraries on Maven Java Project (VSCode Mac)","body":"<p>I'm having an issue importing the libraries for the Google Cloud API, I opened a default maven file and included all the appropriate dependencies in my pom.xml file (provided in the CloudCode extension on VSCode) however I keep getting the same error:</p>\n<pre><code>The import com.google cannot be resolved\n</code></pre>\n<p>All I'm using is the sample code provided, I'm unsure what the problem is, and I can't seem to find any resources apart from Eclipse.</p>\n<pre><code>package com.ootd;\n\nimport com.google.cloud.storage.Bucket;\nimport com.google.cloud.storage.BucketInfo;\nimport com.google.cloud.storage.Storage;\nimport com.google.cloud.storage.StorageOptions;\n\npublic class App {\n  public static void createBucket(String projectId, String bucketName) {\n    // The ID of your GCP project\n    // String projectId = &quot;your-project-id&quot;;\n\n    // The ID to give your GCS bucket\n    // String bucketName = &quot;your-unique-bucket-name&quot;;\n\n    Storage storage = StorageOptions.newBuilder().setProjectId(projectId).build().getService();\n\n    Bucket bucket = storage.create(BucketInfo.newBuilder(bucketName).build());\n\n    System.out.println(&quot;Created bucket &quot; + bucket.getName());\n  }\n}\n</code></pre>\n<p>I'm not well versed in Maven, but I've set it up correctly, following step-by-step instructions. I can't see what the issue is.</p>\n<p>How can I fix that?</p>\n"},{"tags":["java","maven","kotlin","javafx","dagger-2"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1652668943,"post_id":72252681,"comment_id":127653923,"body_markdown":"I am not sure if this is important `kapt is in maintenance mode. We are keeping it up-to-date with recent Kotlin and Java releases but have no plans to implement new features. Please use the Kotlin Symbol Processing API (KSP) for annotation processing. See the list of libraries supported by KSP.`","body":"I am not sure if this is important <code>kapt is in maintenance mode. We are keeping it up-to-date with recent Kotlin and Java releases but have no plans to implement new features. Please use the Kotlin Symbol Processing API (KSP) for annotation processing. See the list of libraries supported by KSP.</code>"}],"owner":{"account_id":25298648,"reputation":11,"user_id":19123306,"display_name":"Bank"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":469,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652654402,"creation_date":1652654402,"question_id":72252681,"body_markdown":"Kapt doesnt work with maven, if we dont use kapt and just use the maven compiler for java it generates dagger code perfectly fine, but the problem is that java compiles after kotlin compiles and kotlin gives and error because it can&#39;t use dagger components before they are created, so the solution would be to use kapt.\r\nthis is the plugin configuration\r\n```&lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n                &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${kotlin.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;kapt&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;kapt&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;sourceDirs&gt;\r\n                                &lt;sourceDir&gt;${project.basedir}/src/main/kotlin&lt;/sourceDir&gt;\r\n                                &lt;sourceDir&gt;${project.basedir}/src/main/java&lt;/sourceDir&gt;\r\n                            &lt;/sourceDirs&gt;\r\n                            &lt;annotationProcessorPaths&gt;\r\n                                &lt;!-- Specify your annotation processors here. --&gt;\r\n                                &lt;annotationProcessorPath&gt;\r\n                                    &lt;groupId&gt;com.google.dagger&lt;/groupId&gt;\r\n                                    &lt;artifactId&gt;dagger-compiler&lt;/artifactId&gt;\r\n                                    &lt;version&gt;2.9&lt;/version&gt;\r\n                                &lt;/annotationProcessorPath&gt;\r\n                            &lt;/annotationProcessorPaths&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;compile&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;compile&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;sourceDirs&gt;\r\n                                &lt;sourceDir&gt;${project.basedir}/src/main/kotlin&lt;/sourceDir&gt;\r\n                                &lt;sourceDir&gt;${project.basedir}/src/main/java&lt;/sourceDir&gt;\r\n                            &lt;/sourceDirs&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;test-compile&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;test-compile&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;sourceDirs&gt;\r\n                                &lt;sourceDir&gt;${project.basedir}/src/test/kotlin&lt;/sourceDir&gt;\r\n                                &lt;sourceDir&gt;${project.basedir}/src/test/java&lt;/sourceDir&gt;\r\n                            &lt;/sourceDirs&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.10.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;annotationProcessorPaths&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                            &lt;version&gt;1.18.22&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                    &lt;/annotationProcessorPaths&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;!-- Replacing default-compile as it is treated specially by maven --&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default-compile&lt;/id&gt;\r\n                        &lt;phase&gt;none&lt;/phase&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;!-- Replacing default-testCompile as it is treated specially by maven --&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default-testCompile&lt;/id&gt;\r\n                        &lt;phase&gt;none&lt;/phase&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;java-compile&lt;/id&gt;\r\n                        &lt;phase&gt;compile&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;compile&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;java-test-compile&lt;/id&gt;\r\n                        &lt;phase&gt;test-compile&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;testCompile&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0-M6&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.8&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\r\n                        &lt;id&gt;default-cli&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;mainClass&gt;com.example.myanimelist/com.example.myanimelist.HelloApplication&lt;/mainClass&gt;\r\n                            &lt;launcher&gt;app&lt;/launcher&gt;\r\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\r\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\r\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\r\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\r\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n```\r\nand this is the error that gives \r\n```\r\n&quot;C:\\Program Files\\BellSoft\\LibericaJDK-17-Full\\bin\\java.exe&quot; -Dmaven.multiModuleProjectDirectory=C:\\Users\\Roberto\\IdeaProjects\\ProyectoFinal1DAM\\MyAnimeList -Dmaven.home=C:\\Users\\Roberto\\.m2\\wrapper\\dists\\apache-maven-3.8.4-bin\\52ccbt68d252mdldqsfsn03jlf\\apache-maven-3.8.4 -Dclassworlds.conf=C:\\Users\\Roberto\\.m2\\wrapper\\dists\\apache-maven-3.8.4-bin\\52ccbt68d252mdldqsfsn03jlf\\apache-maven-3.8.4\\bin\\m2.conf &quot;-Dmaven.ext.class.path=C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2021.3.1\\plugins\\maven\\lib\\maven-event-listener.jar&quot; &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2021.3.1\\lib\\idea_rt.jar=63596:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2021.3.1\\bin&quot; -Dfile.encoding=UTF-8 -classpath C:\\Users\\Roberto\\.m2\\wrapper\\dists\\apache-maven-3.8.4-bin\\52ccbt68d252mdldqsfsn03jlf\\apache-maven-3.8.4\\boot\\plexus-classworlds-2.6.0.jar;C:\\Users\\Roberto\\.m2\\wrapper\\dists\\apache-maven-3.8.4-bin\\52ccbt68d252mdldqsfsn03jlf\\apache-maven-3.8.4\\boot\\plexus-classworlds.license org.codehaus.classworlds.Launcher -Didea.version=2022.1 compile\r\n[INFO] Scanning for projects...\r\n[INFO] \r\n[INFO] ----------------------&lt; com.example:MyAnimeList &gt;-----------------------\r\n[INFO] Building MyAnimeList 1.0-SNAPSHOT\r\n[INFO] --------------------------------[ jar ]---------------------------------\r\n[INFO] \r\n[INFO] --- kotlin-maven-plugin:1.6.21:kapt (kapt) @ MyAnimeList ---\r\n[WARNING] &#39;tools.jar&#39; was not found, kapt may work unreliably\r\n[WARNING] C:\\Users\\Roberto\\.m2\\repository\\org\\checkerframework\\checker-compat-qual\\2.5.5\\checker-compat-qual-2.5.5.jar: (-1, -1) The root is ignored because a module with the same name &#39;org.checkerframework.checker.qual&#39; has been found earlier on the module path at: C:/Users/Roberto/.m2/repository/org/checkerframework/checker-qual/3.12.0/checker-qual-3.12.0.jar\r\n[WARNING] C:\\Users\\Roberto\\.m2\\repository\\org\\openjfx\\javafx-base\\17.0.1\\javafx-base-17.0.1-win.jar: (-1, -1) The root is ignored because a module with the same name &#39;javafx.base&#39; has been found earlier on the module path at: C:/Program Files/BellSoft/LibericaJDK-17-Full\r\n[WARNING] C:\\Users\\Roberto\\.m2\\repository\\org\\openjfx\\javafx-controls\\17.0.1\\javafx-controls-17.0.1-win.jar: (-1, -1) The root is ignored because a module with the same name &#39;javafx.controls&#39; has been found earlier on the module path at: C:/Program Files/BellSoft/LibericaJDK-17-Full\r\n[WARNING] C:\\Users\\Roberto\\.m2\\repository\\org\\openjfx\\javafx-fxml\\17.0.1\\javafx-fxml-17.0.1-win.jar: (-1, -1) The root is ignored because a module with the same name &#39;javafx.fxml&#39; has been found earlier on the module path at: C:/Program Files/BellSoft/LibericaJDK-17-Full\r\n[WARNING] C:\\Users\\Roberto\\.m2\\repository\\org\\openjfx\\javafx-graphics\\17.0.1\\javafx-graphics-17.0.1-win.jar: (-1, -1) The root is ignored because a module with the same name &#39;javafx.graphics&#39; has been found earlier on the module path at: C:/Program Files/BellSoft/LibericaJDK-17-Full\r\n[ERROR] C:\\Users\\Roberto\\IdeaProjects\\ProyectoFinal1DAM\\MyAnimeList\\src\\main\\java\\com\\example\\myanimelist\\di\\components\\ControllersComponent.java:12: error: cannot find symbol\r\n@Component(modules = {FiltersModule.class})\r\n ^\r\n  symbol: class Component\r\n[ERROR] C:\\Users\\Roberto\\IdeaProjects\\ProyectoFinal1DAM\\MyAnimeList\\src\\main\\java\\com\\example\\myanimelist\\di\\components\\ControllersComponent.java:13: error: cannot find symbol\r\n@Singleton\r\n ^\r\n  symbol: class Singleton\r\n[ERROR] C:\\Users\\Roberto\\IdeaProjects\\ProyectoFinal1DAM\\MyAnimeList\\src\\main\\java\\com\\example\\myanimelist\\di\\components\\RepositoriesComponent.java:13: error: cannot find symbol\r\n@Component(modules = {RepositoriesModule.class})\r\n ^\r\n  symbol: class Component\r\n[ERROR] C:\\Users\\Roberto\\IdeaProjects\\ProyectoFinal1DAM\\MyAnimeList\\src\\main\\java\\com\\example\\myanimelist\\di\\components\\RepositoriesComponent.java:14: error: cannot find symbol\r\n@Singleton\r\n ^\r\n  symbol: class Singleton\r\n[ERROR] C:\\Users\\Roberto\\IdeaProjects\\ProyectoFinal1DAM\\MyAnimeList\\src\\main\\java\\com\\example\\myanimelist\\dto\\AnimeDTO.java:13: error: cannot find symbol\r\n@Data\r\n ^\r\n  symbol: class Data\r\n[ERROR] C:\\Users\\Roberto\\IdeaProjects\\ProyectoFinal1DAM\\MyAnimeList\\src\\main\\java\\com\\example\\myanimelist\\dto\\BackupDTO.java:12: error: cannot find symbol\r\n@Data\r\n ^\r\n  symbol: class Data\r\n[ERROR] C:\\Users\\Roberto\\IdeaProjects\\ProyectoFinal1DAM\\MyAnimeList\\src\\main\\java\\com\\example\\myanimelist\\di\\modules\\FiltersModule.java:12: error: incompatible types: Module cannot be converted to Annotation\r\n@Module(includes = RepositoriesModule.class)\r\n ^\r\n[ERROR] C:\\Users\\Roberto\\IdeaProjects\\ProyectoFinal1DAM\\MyAnimeList\\src\\main\\java\\com\\example\\myanimelist\\di\\modules\\RepositoriesModule.java:17: error: incompatible types: Module cannot be converted to Annotation\r\n@Module\r\n ^\r\n[ERROR] C:\\Users\\Roberto\\IdeaProjects\\ProyectoFinal1DAM\\MyAnimeList\\src\\main\\kotlin\\com\\example\\myanimelist\\controllers\\inicio\\LoginController.kt: (4, 46) Unresolved reference: DaggerControllersComponent\r\n[ERROR] C:\\Users\\Roberto\\IdeaProjects\\ProyectoFinal1DAM\\MyAnimeList\\src\\main\\kotlin\\com\\example\\myanimelist\\controllers\\inicio\\RegisterController.kt: (3, 46) Unresolved reference: DaggerControllersComponent\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  9.254 s\r\n[INFO] Finished at: 2022-05-16T00:29:31+02:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.jetbrains.kotlin:kotlin-maven-plugin:1.6.21:kapt (kapt) on project MyAnimeList: Compilation failure: Compilation failure: \r\n[ERROR] C:\\Users\\Roberto\\IdeaProjects\\ProyectoFinal1DAM\\MyAnimeList\\src\\main\\java\\com\\example\\myanimelist\\di\\components\\ControllersComponent.java:12: error: cannot find symbol\r\n[ERROR] @Component(modules = {FiltersModule.class})\r\n[ERROR]  ^\r\n[ERROR]   symbol: class Component\r\n[ERROR] C:\\Users\\Roberto\\IdeaProjects\\ProyectoFinal1DAM\\MyAnimeList\\src\\main\\java\\com\\example\\myanimelist\\di\\components\\ControllersComponent.java:13: error: cannot find symbol\r\n[ERROR] @Singleton\r\n[ERROR]  ^\r\n[ERROR]   symbol: class Singleton\r\n[ERROR] C:\\Users\\Roberto\\IdeaProjects\\ProyectoFinal1DAM\\MyAnimeList\\src\\main\\java\\com\\example\\myanimelist\\di\\components\\RepositoriesComponent.java:13: error: cannot find symbol\r\n[ERROR] @Component(modules = {RepositoriesModule.class})\r\n[ERROR]  ^\r\n[ERROR]   symbol: class Component\r\n[ERROR] C:\\Users\\Roberto\\IdeaProjects\\ProyectoFinal1DAM\\MyAnimeList\\src\\main\\java\\com\\example\\myanimelist\\di\\components\\RepositoriesComponent.java:14: error: cannot find symbol\r\n[ERROR] @Singleton\r\n[ERROR]  ^\r\n[ERROR]   symbol: class Singleton\r\n[ERROR] C:\\Users\\Roberto\\IdeaProjects\\ProyectoFinal1DAM\\MyAnimeList\\src\\main\\java\\com\\example\\myanimelist\\dto\\AnimeDTO.java:13: error: cannot find symbol\r\n[ERROR] @Data\r\n[ERROR]  ^\r\n[ERROR]   symbol: class Data\r\n[ERROR] C:\\Users\\Roberto\\IdeaProjects\\ProyectoFinal1DAM\\MyAnimeList\\src\\main\\java\\com\\example\\myanimelist\\dto\\BackupDTO.java:12: error: cannot find symbol\r\n[ERROR] @Data\r\n[ERROR]  ^\r\n[ERROR]   symbol: class Data\r\n[ERROR] C:\\Users\\Roberto\\IdeaProjects\\ProyectoFinal1DAM\\MyAnimeList\\src\\main\\java\\com\\example\\myanimelist\\di\\modules\\FiltersModule.java:12: error: incompatible types: Module cannot be converted to Annotation\r\n[ERROR] @Module(includes = RepositoriesModule.class)\r\n[ERROR]  ^\r\n[ERROR] C:\\Users\\Roberto\\IdeaProjects\\ProyectoFinal1DAM\\MyAnimeList\\src\\main\\java\\com\\example\\myanimelist\\di\\modules\\RepositoriesModule.java:17: error: incompatible types: Module cannot be converted to Annotation\r\n[ERROR] @Module\r\n[ERROR]  ^\r\n[ERROR] C:\\Users\\Roberto\\IdeaProjects\\ProyectoFinal1DAM\\MyAnimeList\\src\\main\\kotlin\\com\\example\\myanimelist\\controllers\\inicio\\LoginController.kt:[4,46] Unresolved reference: DaggerControllersComponent\r\n[ERROR] C:\\Users\\Roberto\\IdeaProjects\\ProyectoFinal1DAM\\MyAnimeList\\src\\main\\kotlin\\com\\example\\myanimelist\\controllers\\inicio\\RegisterController.kt:[3,46] Unresolved reference: DaggerControllersComponent\r\n[ERROR] -&gt; [Help 1]\r\n[ERROR] \r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n\r\nProcess finished with exit code 1\r\n```\r\nI have tried using older jdks versions but nothing changed","title":"kapt not working with maven and dagger in mixed kotlin/java project","body":"<p>Kapt doesnt work with maven, if we dont use kapt and just use the maven compiler for java it generates dagger code perfectly fine, but the problem is that java compiles after kotlin compiles and kotlin gives and error because it can't use dagger components before they are created, so the solution would be to use kapt.\nthis is the plugin configuration</p>\n<pre><code>        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${kotlin.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;kapt&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;kapt&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;sourceDirs&gt;\n                                &lt;sourceDir&gt;${project.basedir}/src/main/kotlin&lt;/sourceDir&gt;\n                                &lt;sourceDir&gt;${project.basedir}/src/main/java&lt;/sourceDir&gt;\n                            &lt;/sourceDirs&gt;\n                            &lt;annotationProcessorPaths&gt;\n                                &lt;!-- Specify your annotation processors here. --&gt;\n                                &lt;annotationProcessorPath&gt;\n                                    &lt;groupId&gt;com.google.dagger&lt;/groupId&gt;\n                                    &lt;artifactId&gt;dagger-compiler&lt;/artifactId&gt;\n                                    &lt;version&gt;2.9&lt;/version&gt;\n                                &lt;/annotationProcessorPath&gt;\n                            &lt;/annotationProcessorPaths&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;compile&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;sourceDirs&gt;\n                                &lt;sourceDir&gt;${project.basedir}/src/main/kotlin&lt;/sourceDir&gt;\n                                &lt;sourceDir&gt;${project.basedir}/src/main/java&lt;/sourceDir&gt;\n                            &lt;/sourceDirs&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;test-compile&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;test-compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;sourceDirs&gt;\n                                &lt;sourceDir&gt;${project.basedir}/src/test/kotlin&lt;/sourceDir&gt;\n                                &lt;sourceDir&gt;${project.basedir}/src/test/java&lt;/sourceDir&gt;\n                            &lt;/sourceDirs&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.10.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;version&gt;1.18.22&lt;/version&gt;\n                        &lt;/path&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;!-- Replacing default-compile as it is treated specially by maven --&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-compile&lt;/id&gt;\n                        &lt;phase&gt;none&lt;/phase&gt;\n                    &lt;/execution&gt;\n                    &lt;!-- Replacing default-testCompile as it is treated specially by maven --&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-testCompile&lt;/id&gt;\n                        &lt;phase&gt;none&lt;/phase&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;java-compile&lt;/id&gt;\n                        &lt;phase&gt;compile&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;java-test-compile&lt;/id&gt;\n                        &lt;phase&gt;test-compile&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;testCompile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M6&lt;/version&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.8&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\n                        &lt;id&gt;default-cli&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;mainClass&gt;com.example.myanimelist/com.example.myanimelist.HelloApplication&lt;/mainClass&gt;\n                            &lt;launcher&gt;app&lt;/launcher&gt;\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>and this is the error that gives</p>\n<pre><code>&quot;C:\\Program Files\\BellSoft\\LibericaJDK-17-Full\\bin\\java.exe&quot; -Dmaven.multiModuleProjectDirectory=C:\\Users\\Roberto\\IdeaProjects\\ProyectoFinal1DAM\\MyAnimeList -Dmaven.home=C:\\Users\\Roberto\\.m2\\wrapper\\dists\\apache-maven-3.8.4-bin\\52ccbt68d252mdldqsfsn03jlf\\apache-maven-3.8.4 -Dclassworlds.conf=C:\\Users\\Roberto\\.m2\\wrapper\\dists\\apache-maven-3.8.4-bin\\52ccbt68d252mdldqsfsn03jlf\\apache-maven-3.8.4\\bin\\m2.conf &quot;-Dmaven.ext.class.path=C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2021.3.1\\plugins\\maven\\lib\\maven-event-listener.jar&quot; &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2021.3.1\\lib\\idea_rt.jar=63596:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2021.3.1\\bin&quot; -Dfile.encoding=UTF-8 -classpath C:\\Users\\Roberto\\.m2\\wrapper\\dists\\apache-maven-3.8.4-bin\\52ccbt68d252mdldqsfsn03jlf\\apache-maven-3.8.4\\boot\\plexus-classworlds-2.6.0.jar;C:\\Users\\Roberto\\.m2\\wrapper\\dists\\apache-maven-3.8.4-bin\\52ccbt68d252mdldqsfsn03jlf\\apache-maven-3.8.4\\boot\\plexus-classworlds.license org.codehaus.classworlds.Launcher -Didea.version=2022.1 compile\n[INFO] Scanning for projects...\n[INFO] \n[INFO] ----------------------&lt; com.example:MyAnimeList &gt;-----------------------\n[INFO] Building MyAnimeList 1.0-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- kotlin-maven-plugin:1.6.21:kapt (kapt) @ MyAnimeList ---\n[WARNING] 'tools.jar' was not found, kapt may work unreliably\n[WARNING] C:\\Users\\Roberto\\.m2\\repository\\org\\checkerframework\\checker-compat-qual\\2.5.5\\checker-compat-qual-2.5.5.jar: (-1, -1) The root is ignored because a module with the same name 'org.checkerframework.checker.qual' has been found earlier on the module path at: C:/Users/Roberto/.m2/repository/org/checkerframework/checker-qual/3.12.0/checker-qual-3.12.0.jar\n[WARNING] C:\\Users\\Roberto\\.m2\\repository\\org\\openjfx\\javafx-base\\17.0.1\\javafx-base-17.0.1-win.jar: (-1, -1) The root is ignored because a module with the same name 'javafx.base' has been found earlier on the module path at: C:/Program Files/BellSoft/LibericaJDK-17-Full\n[WARNING] C:\\Users\\Roberto\\.m2\\repository\\org\\openjfx\\javafx-controls\\17.0.1\\javafx-controls-17.0.1-win.jar: (-1, -1) The root is ignored because a module with the same name 'javafx.controls' has been found earlier on the module path at: C:/Program Files/BellSoft/LibericaJDK-17-Full\n[WARNING] C:\\Users\\Roberto\\.m2\\repository\\org\\openjfx\\javafx-fxml\\17.0.1\\javafx-fxml-17.0.1-win.jar: (-1, -1) The root is ignored because a module with the same name 'javafx.fxml' has been found earlier on the module path at: C:/Program Files/BellSoft/LibericaJDK-17-Full\n[WARNING] C:\\Users\\Roberto\\.m2\\repository\\org\\openjfx\\javafx-graphics\\17.0.1\\javafx-graphics-17.0.1-win.jar: (-1, -1) The root is ignored because a module with the same name 'javafx.graphics' has been found earlier on the module path at: C:/Program Files/BellSoft/LibericaJDK-17-Full\n[ERROR] C:\\Users\\Roberto\\IdeaProjects\\ProyectoFinal1DAM\\MyAnimeList\\src\\main\\java\\com\\example\\myanimelist\\di\\components\\ControllersComponent.java:12: error: cannot find symbol\n@Component(modules = {FiltersModule.class})\n ^\n  symbol: class Component\n[ERROR] C:\\Users\\Roberto\\IdeaProjects\\ProyectoFinal1DAM\\MyAnimeList\\src\\main\\java\\com\\example\\myanimelist\\di\\components\\ControllersComponent.java:13: error: cannot find symbol\n@Singleton\n ^\n  symbol: class Singleton\n[ERROR] C:\\Users\\Roberto\\IdeaProjects\\ProyectoFinal1DAM\\MyAnimeList\\src\\main\\java\\com\\example\\myanimelist\\di\\components\\RepositoriesComponent.java:13: error: cannot find symbol\n@Component(modules = {RepositoriesModule.class})\n ^\n  symbol: class Component\n[ERROR] C:\\Users\\Roberto\\IdeaProjects\\ProyectoFinal1DAM\\MyAnimeList\\src\\main\\java\\com\\example\\myanimelist\\di\\components\\RepositoriesComponent.java:14: error: cannot find symbol\n@Singleton\n ^\n  symbol: class Singleton\n[ERROR] C:\\Users\\Roberto\\IdeaProjects\\ProyectoFinal1DAM\\MyAnimeList\\src\\main\\java\\com\\example\\myanimelist\\dto\\AnimeDTO.java:13: error: cannot find symbol\n@Data\n ^\n  symbol: class Data\n[ERROR] C:\\Users\\Roberto\\IdeaProjects\\ProyectoFinal1DAM\\MyAnimeList\\src\\main\\java\\com\\example\\myanimelist\\dto\\BackupDTO.java:12: error: cannot find symbol\n@Data\n ^\n  symbol: class Data\n[ERROR] C:\\Users\\Roberto\\IdeaProjects\\ProyectoFinal1DAM\\MyAnimeList\\src\\main\\java\\com\\example\\myanimelist\\di\\modules\\FiltersModule.java:12: error: incompatible types: Module cannot be converted to Annotation\n@Module(includes = RepositoriesModule.class)\n ^\n[ERROR] C:\\Users\\Roberto\\IdeaProjects\\ProyectoFinal1DAM\\MyAnimeList\\src\\main\\java\\com\\example\\myanimelist\\di\\modules\\RepositoriesModule.java:17: error: incompatible types: Module cannot be converted to Annotation\n@Module\n ^\n[ERROR] C:\\Users\\Roberto\\IdeaProjects\\ProyectoFinal1DAM\\MyAnimeList\\src\\main\\kotlin\\com\\example\\myanimelist\\controllers\\inicio\\LoginController.kt: (4, 46) Unresolved reference: DaggerControllersComponent\n[ERROR] C:\\Users\\Roberto\\IdeaProjects\\ProyectoFinal1DAM\\MyAnimeList\\src\\main\\kotlin\\com\\example\\myanimelist\\controllers\\inicio\\RegisterController.kt: (3, 46) Unresolved reference: DaggerControllersComponent\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  9.254 s\n[INFO] Finished at: 2022-05-16T00:29:31+02:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.jetbrains.kotlin:kotlin-maven-plugin:1.6.21:kapt (kapt) on project MyAnimeList: Compilation failure: Compilation failure: \n[ERROR] C:\\Users\\Roberto\\IdeaProjects\\ProyectoFinal1DAM\\MyAnimeList\\src\\main\\java\\com\\example\\myanimelist\\di\\components\\ControllersComponent.java:12: error: cannot find symbol\n[ERROR] @Component(modules = {FiltersModule.class})\n[ERROR]  ^\n[ERROR]   symbol: class Component\n[ERROR] C:\\Users\\Roberto\\IdeaProjects\\ProyectoFinal1DAM\\MyAnimeList\\src\\main\\java\\com\\example\\myanimelist\\di\\components\\ControllersComponent.java:13: error: cannot find symbol\n[ERROR] @Singleton\n[ERROR]  ^\n[ERROR]   symbol: class Singleton\n[ERROR] C:\\Users\\Roberto\\IdeaProjects\\ProyectoFinal1DAM\\MyAnimeList\\src\\main\\java\\com\\example\\myanimelist\\di\\components\\RepositoriesComponent.java:13: error: cannot find symbol\n[ERROR] @Component(modules = {RepositoriesModule.class})\n[ERROR]  ^\n[ERROR]   symbol: class Component\n[ERROR] C:\\Users\\Roberto\\IdeaProjects\\ProyectoFinal1DAM\\MyAnimeList\\src\\main\\java\\com\\example\\myanimelist\\di\\components\\RepositoriesComponent.java:14: error: cannot find symbol\n[ERROR] @Singleton\n[ERROR]  ^\n[ERROR]   symbol: class Singleton\n[ERROR] C:\\Users\\Roberto\\IdeaProjects\\ProyectoFinal1DAM\\MyAnimeList\\src\\main\\java\\com\\example\\myanimelist\\dto\\AnimeDTO.java:13: error: cannot find symbol\n[ERROR] @Data\n[ERROR]  ^\n[ERROR]   symbol: class Data\n[ERROR] C:\\Users\\Roberto\\IdeaProjects\\ProyectoFinal1DAM\\MyAnimeList\\src\\main\\java\\com\\example\\myanimelist\\dto\\BackupDTO.java:12: error: cannot find symbol\n[ERROR] @Data\n[ERROR]  ^\n[ERROR]   symbol: class Data\n[ERROR] C:\\Users\\Roberto\\IdeaProjects\\ProyectoFinal1DAM\\MyAnimeList\\src\\main\\java\\com\\example\\myanimelist\\di\\modules\\FiltersModule.java:12: error: incompatible types: Module cannot be converted to Annotation\n[ERROR] @Module(includes = RepositoriesModule.class)\n[ERROR]  ^\n[ERROR] C:\\Users\\Roberto\\IdeaProjects\\ProyectoFinal1DAM\\MyAnimeList\\src\\main\\java\\com\\example\\myanimelist\\di\\modules\\RepositoriesModule.java:17: error: incompatible types: Module cannot be converted to Annotation\n[ERROR] @Module\n[ERROR]  ^\n[ERROR] C:\\Users\\Roberto\\IdeaProjects\\ProyectoFinal1DAM\\MyAnimeList\\src\\main\\kotlin\\com\\example\\myanimelist\\controllers\\inicio\\LoginController.kt:[4,46] Unresolved reference: DaggerControllersComponent\n[ERROR] C:\\Users\\Roberto\\IdeaProjects\\ProyectoFinal1DAM\\MyAnimeList\\src\\main\\kotlin\\com\\example\\myanimelist\\controllers\\inicio\\RegisterController.kt:[3,46] Unresolved reference: DaggerControllersComponent\n[ERROR] -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n\nProcess finished with exit code 1\n</code></pre>\n<p>I have tried using older jdks versions but nothing changed</p>\n"},{"tags":["java","jackson","java.util.logging","tcserver"],"comments":[{"owner":{"account_id":4181234,"reputation":3257,"user_id":3426201,"display_name":"Assafs"},"score":2,"creation_date":1502721571,"post_id":45675002,"comment_id":78311642,"body_markdown":"log4j.logger.org.springframework.web=debug could do the trick.","body":"log4j.logger.org.springframework.web=debug could do the trick."},{"owner":{"account_id":1461741,"reputation":2788,"user_id":1375882,"accept_rate":32,"display_name":"TomR"},"score":0,"creation_date":1502723096,"post_id":45675002,"comment_id":78312555,"body_markdown":"And in which config file should I write this? I guess there is separate file for log4j?","body":"And in which config file should I write this? I guess there is separate file for log4j?"},{"owner":{"account_id":4181234,"reputation":3257,"user_id":3426201,"display_name":"Assafs"},"score":0,"creation_date":1502723133,"post_id":45675002,"comment_id":78312583,"body_markdown":"There should be. I&#39;m not familiar with your setup.","body":"There should be. I&#39;m not familiar with your setup."},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1503029940,"post_id":45675002,"comment_id":78454111,"body_markdown":"@TomR could you share your `logging.properties` for better idea of how you;re configuring it currently.","body":"@TomR could you share your <code>logging.properties</code> for better idea of how you;re configuring it currently."}],"answers":[{"tags":[],"owner":{"account_id":2771781,"reputation":558,"user_id":2386246,"display_name":"gmcontessa"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1503001299,"creation_date":1503001299,"answer_id":45744329,"question_id":45675002,"body_markdown":"For what you say it seems that you&#39;re trying to change the tomcat logging.properties.\r\n\r\nThat&#39;s usually a bad idea as you may want different logging on different webApps loaded in the same Tomcat server.\r\n\r\nWhat you should do is configure the log4j in your project.\r\nUsually Java projects define a &quot;resource&quot; folder. You should add in there a file called \r\n\r\nlog4j.properties\r\n\r\nand add in there the following:\r\n\r\n\r\n    log4j.rootLogger=ERROR,stdout\r\n    # Logger for jackson lib\r\n    log4j.logger.org.codehaus=TRACE\r\n    \r\n    log4j.appender.stdout=org.apache.log4j.ConsoleAppender\r\n    log4j.appender.stdout.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.stdout.layout.ConversionPattern=%p\\t%d{ISO8601}\\t%r\\t%c\\t[%t]\\t%m%n\r\n\r\n\r\nThis is extracted from the default log4j configuration and will log in the standard output that for Tomcat is redirected to the catalina.out log file.\r\nYou may want to read the documentation at https://docs.oracle.com/cd/E29578_01/webhelp/cas_webcrawler/src/cwcg_config_log4j_file.html\r\nexplaining how to redirect the logging to a different file and how to use rolling appenders so you keep some history\r\n\r\nHopefully this will work!","title":"How to see org.codehaus.jackson log messages - using logging.properties","body":"<p>For what you say it seems that you're trying to change the tomcat logging.properties.</p>\n\n<p>That's usually a bad idea as you may want different logging on different webApps loaded in the same Tomcat server.</p>\n\n<p>What you should do is configure the log4j in your project.\nUsually Java projects define a \"resource\" folder. You should add in there a file called </p>\n\n<p>log4j.properties</p>\n\n<p>and add in there the following:</p>\n\n<pre><code>log4j.rootLogger=ERROR,stdout\n# Logger for jackson lib\nlog4j.logger.org.codehaus=TRACE\n\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\nlog4j.appender.stdout.layout.ConversionPattern=%p\\t%d{ISO8601}\\t%r\\t%c\\t[%t]\\t%m%n\n</code></pre>\n\n<p>This is extracted from the default log4j configuration and will log in the standard output that for Tomcat is redirected to the catalina.out log file.\nYou may want to read the documentation at <a href=\"https://docs.oracle.com/cd/E29578_01/webhelp/cas_webcrawler/src/cwcg_config_log4j_file.html\" rel=\"noreferrer\">https://docs.oracle.com/cd/E29578_01/webhelp/cas_webcrawler/src/cwcg_config_log4j_file.html</a>\nexplaining how to redirect the logging to a different file and how to use rolling appenders so you keep some history</p>\n\n<p>Hopefully this will work!</p>\n"},{"tags":[],"owner":{"account_id":2761390,"reputation":1159,"user_id":2378225,"accept_rate":62,"display_name":"Steve Oh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1652653532,"creation_date":1503389207,"answer_id":45812192,"question_id":45675002,"body_markdown":"&gt; The request sent by the client was syntactically incorrect\r\n\r\n^^^ This message is created by the HTTP servlet processing the client request and **not** by the jackson mapper.\r\nYou could find the related log messages under spring-mvc logger name: **org.springframework.web**.\r\n\r\n","title":"How to see org.codehaus.jackson log messages - using logging.properties","body":"<blockquote>\n<p>The request sent by the client was syntactically incorrect</p>\n</blockquote>\n<p>^^^ This message is created by the HTTP servlet processing the client request and <strong>not</strong> by the jackson mapper.\nYou could find the related log messages under spring-mvc logger name: <strong>org.springframework.web</strong>.</p>\n"}],"owner":{"account_id":1461741,"reputation":2788,"user_id":1375882,"accept_rate":32,"display_name":"TomR"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6485,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":45744329,"answer_count":2,"score":15,"last_activity_date":1652653532,"creation_date":1502715286,"question_id":45675002,"body_markdown":"I am trying to deserialize incoming *PUT* request with JSON request body using `org.codehaus.jackson` package and I am receiving error message `The request sent by the client was syntactically incorrect`. How can I get more detailed log/error messages in my Pivotal TC server logs, e.g. in `catalina.log`?\r\n\r\nI have added the following line to logging.properties:\r\n\r\n    org.codehaus.level = FINEST\r\n\r\nBut ***NO*** messages from `org.codehaus` is displayed in my log, although the error message is displayed on web page. Maybe `codehaus` does not support Java logging and I should configure J4Log or similar another logging facility?\r\n\r\nMy ***Jackson version is 1.9.13***, I am using Pivotal tc server from ***Spring Tools Suite (3.8)***.","title":"How to see org.codehaus.jackson log messages - using logging.properties","body":"<p>I am trying to deserialize incoming <em>PUT</em> request with JSON request body using <code>org.codehaus.jackson</code> package and I am receiving error message <code>The request sent by the client was syntactically incorrect</code>. How can I get more detailed log/error messages in my Pivotal TC server logs, e.g. in <code>catalina.log</code>?</p>\n\n<p>I have added the following line to logging.properties:</p>\n\n<pre><code>org.codehaus.level = FINEST\n</code></pre>\n\n<p>But <strong><em>NO</em></strong> messages from <code>org.codehaus</code> is displayed in my log, although the error message is displayed on web page. Maybe <code>codehaus</code> does not support Java logging and I should configure J4Log or similar another logging facility?</p>\n\n<p>My <strong><em>Jackson version is 1.9.13</em></strong>, I am using Pivotal tc server from <strong><em>Spring Tools Suite (3.8)</em></strong>.</p>\n"},{"tags":["java","multithreading","javafx","concurrency","listener"],"comments":[{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1652647634,"post_id":72251817,"comment_id":127651032,"body_markdown":"`synchronized(o)` only prevents multiple threads from synchronizing on the same object, `o` at the same time. Each of your `Producer` instances and each of your `Consumer` instances is a _different_ object. `this` is a different object in each thread. When the four threads each synchronize on a different object, that&#39;s the same as no synchronization at all.","body":"<code>synchronized(o)</code> only prevents multiple threads from synchronizing on the same object, <code>o</code> at the same time. Each of your <code>Producer</code> instances and each of your <code>Consumer</code> instances is a <i>different</i> object. <code>this</code> is a different object in each thread. When the four threads each synchronize on a different object, that&#39;s the same as no synchronization at all."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1652647885,"post_id":72251817,"comment_id":127651082,"body_markdown":"Also, This is bad: `while(true){synchronized(o){...}}`.See [_this answer_](https://stackoverflow.com/a/54171548/801894) for the reason why.","body":"Also, This is bad: <code>while(true){synchronized(o){...}}</code>.See <a href=\"https://stackoverflow.com/a/54171548/801894\"><i>this answer</i></a> for the reason why."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1652648211,"post_id":72251817,"comment_id":127651147,"body_markdown":"Also, in your `Producer`, you call `notify()` with a comment, &quot;notify consumer that now it can start consuming.&quot; But that&#39;s not what your `notify()` call does. It notifies `this`, and `this` refers to the Producer object, not the Consumer. Similar to your problem with `synchronized(this)`. In order for an `o.notify()` call to wake a thread that&#39;s sleeping in an `o.wait()` call, it has to be the same object, `o` in both threads.","body":"Also, in your <code>Producer</code>, you call <code>notify()</code> with a comment, &quot;notify consumer that now it can start consuming.&quot; But that&#39;s not what your <code>notify()</code> call does. It notifies <code>this</code>, and <code>this</code> refers to the Producer object, not the Consumer. Similar to your problem with <code>synchronized(this)</code>. In order for an <code>o.notify()</code> call to wake a thread that&#39;s sleeping in an <code>o.wait()</code> call, it has to be the same object, <code>o</code> in both threads."},{"owner":{"account_id":19252927,"reputation":35,"user_id":14070477,"display_name":"Hubertius"},"score":0,"creation_date":1652648535,"post_id":72251817,"comment_id":127651206,"body_markdown":"@SolomonSlow Yeah, I forgot to mention earlier that I took pattern from this article:\nhttps://www.geeksforgeeks.org/producer-consumer-solution-using-threads-java/\nIn that situation there was only one static class, which had both produce() and consume() methods for each &quot;acitivity&quot; let&#39;s just say.","body":"@SolomonSlow Yeah, I forgot to mention earlier that I took pattern from this article: <a href=\"https://www.geeksforgeeks.org/producer-consumer-solution-using-threads-java/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/producer-consumer-solution-using-threads-j&zwnj;&#8203;ava</a> In that situation there was only one static class, which had both produce() and consume() methods for each &quot;acitivity&quot; let&#39;s just say."},{"owner":{"account_id":19252927,"reputation":35,"user_id":14070477,"display_name":"Hubertius"},"score":0,"creation_date":1652649711,"post_id":72251817,"comment_id":127651385,"body_markdown":"@SolomonSlow So, for case of replacing &quot;synchronise&quot;: \n- i should implement class ReentrantLock \n\n- make lock at the start of the loop \n- after try with Thread.sleep() with unlock &quot;lock&quot; in finally block?\nWhat about wait() and notify? Do I really need to made one class for both behaviours of Producer and Consumer class? Is there no option to make Producer and Consumer &quot;seperatable&quot; let&#39;s just say?","body":"@SolomonSlow So, for case of replacing &quot;synchronise&quot;:  - i should implement class ReentrantLock   - make lock at the start of the loop  - after try with Thread.sleep() with unlock &quot;lock&quot; in finally block? What about wait() and notify? Do I really need to made one class for both behaviours of Producer and Consumer class? Is there no option to make Producer and Consumer &quot;seperatable&quot; let&#39;s just say?"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1652650359,"post_id":72251817,"comment_id":127651499,"body_markdown":"See my answer, below. In it I used `Object&#160;lock=new&#160;Object()`, and I used `synchronized(lock)`, and `lock.wait()`, and `lock.notify()`; but you could do essentially the same thing using `Lock&#160;lock=new ReentrantLock()`, and using the equivalent method calls, and the outcome would be the same.","body":"See my answer, below. In it I used <code>Object lock=new Object()</code>, and I used <code>synchronized(lock)</code>, and <code>lock.wait()</code>, and <code>lock.notify()</code>; but you could do essentially the same thing using <code>Lock lock=new ReentrantLock()</code>, and using the equivalent method calls, and the outcome would be the same."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1652657382,"post_id":72251817,"comment_id":127652516,"body_markdown":"See the javadoc for [BlockingQueue](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/BlockingQueue.html).  See [this example for using such a queue in JavaFX](https://stackoverflow.com/questions/24116858/most-efficient-way-to-log-messages-to-javafx-textarea-via-threads-with-simple-cu).  The example shows a pattern used to solve a different problem, it is not an exact solution to your problem.  There are numerous ways to implement your task. I just referenced one of those.","body":"See the javadoc for <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/BlockingQueue.html\" rel=\"nofollow noreferrer\">BlockingQueue</a>.  See <a href=\"https://stackoverflow.com/questions/24116858/most-efficient-way-to-log-messages-to-javafx-textarea-via-threads-with-simple-cu\">this example for using such a queue in JavaFX</a>.  The example shows a pattern used to solve a different problem, it is not an exact solution to your problem.  There are numerous ways to implement your task. I just referenced one of those."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1652657674,"post_id":72251817,"comment_id":127652550,"body_markdown":"Further [advice](https://stackoverflow.com/questions/18530493/complex-concurrency-in-javafx-using-observablelists-and-properties-from-multipl), and [concurrency examples](https://gist.github.com/jewelsea/5072743), again not exact solutions to your problem.","body":"Further <a href=\"https://stackoverflow.com/questions/18530493/complex-concurrency-in-javafx-using-observablelists-and-properties-from-multipl\">advice</a>, and <a href=\"https://gist.github.com/jewelsea/5072743\" rel=\"nofollow noreferrer\">concurrency examples</a>, again not exact solutions to your problem."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1652658094,"post_id":72251817,"comment_id":127652607,"body_markdown":"I don’t understand why this question has two close votes.  I don’t agree that it should be closed at this time.  I guess the thought is that it should be broken down into a couple of smaller, more manageable and specific questions. For example how to implement the producer consumer as one question and how to wire that solution into JavaFX UI in another. Perhaps that is true too.","body":"I don’t understand why this question has two close votes.  I don’t agree that it should be closed at this time.  I guess the thought is that it should be broken down into a couple of smaller, more manageable and specific questions. For example how to implement the producer consumer as one question and how to wire that solution into JavaFX UI in another. Perhaps that is true too."}],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1652649878,"creation_date":1652649878,"answer_id":72252284,"question_id":72251817,"body_markdown":"&gt; So, for case of replacing &quot;synchronise&quot;\r\n\r\nOne solution to two of the problems that I mentioned in comments above, is to create an `Object` that is used only for synchronization, and pass a reference to the object in to the constructors of classes where it is needed:\r\n\r\nI&#39;m not really sure what your overall goal is, but it looks like you are trying to create two producer/consumer _pairs_ of threads (I.e., `consumer1` interacts only with `producer1`, and `consumer2` interacts only with `producer2`.) If that&#39;s true, then you&#39;re going to need a `lock1` and a `lock2`:\r\n\r\n``` lang-java\r\n...\r\nprivate Object lock1, lock2;\r\nprivate Producer producer1, producer2;\r\nprivate Consumer consumer1, consumer2;\r\n...\r\npublic void onStartProduction(ActionEvent e) throws InterruptedException {\r\n    if(btnFirstProdAccept.isDisabled() &amp;&amp; btnSecondProdAccept.isDisabled()) {\r\n        lock1 = new Object();\r\n        producer1 = new Producer(listOfProducts, nameOfProd1, timeOfProd1, lock1);\r\n        Thread t1 = new Thread(producer1);\r\n        consumer1 = new Consumer(listOfProducts, lock1);\r\n        Thread t2 = new Thread(consumer1);\r\n        ...\r\n    }\r\n}\r\n```\r\n\r\nThen, in your `Producer` class, you can do something like this:\r\n\r\n``` lang-java\r\n...\r\nprivate final int capacity;\r\nprivate final Object lock;\r\n\r\npublic Producer(LinkedList&lt;String&gt; refToData, String nameOfProducer, int timeOfProduction, Object lock) {\r\n    ...\r\n    this.lock = lock;\r\n    }\r\n```\r\n\r\nLikewise, do the same thing in your `Consumer` class, and likewise do the same thing for `lock2` in the controller.\r\n\r\nAnd now, your `producer1` and your `consumer1` can use the same shared lock object by doing `synchronized(lock)`, and `lock.wait()` and `lock.notify()`; and your `producer2` and your `consumer2` can have their own, distinct, shared lock object.\r\n\r\n\r\n","title":"Producer-Consumer apllication on JavaFx (problem with getting correct values from tasks to &quot;update&quot; two text fields)","body":"<blockquote>\n<p>So, for case of replacing &quot;synchronise&quot;</p>\n</blockquote>\n<p>One solution to two of the problems that I mentioned in comments above, is to create an <code>Object</code> that is used only for synchronization, and pass a reference to the object in to the constructors of classes where it is needed:</p>\n<p>I'm not really sure what your overall goal is, but it looks like you are trying to create two producer/consumer <em>pairs</em> of threads (I.e., <code>consumer1</code> interacts only with <code>producer1</code>, and <code>consumer2</code> interacts only with <code>producer2</code>.) If that's true, then you're going to need a <code>lock1</code> and a <code>lock2</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\nprivate Object lock1, lock2;\nprivate Producer producer1, producer2;\nprivate Consumer consumer1, consumer2;\n...\npublic void onStartProduction(ActionEvent e) throws InterruptedException {\n    if(btnFirstProdAccept.isDisabled() &amp;&amp; btnSecondProdAccept.isDisabled()) {\n        lock1 = new Object();\n        producer1 = new Producer(listOfProducts, nameOfProd1, timeOfProd1, lock1);\n        Thread t1 = new Thread(producer1);\n        consumer1 = new Consumer(listOfProducts, lock1);\n        Thread t2 = new Thread(consumer1);\n        ...\n    }\n}\n</code></pre>\n<p>Then, in your <code>Producer</code> class, you can do something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\nprivate final int capacity;\nprivate final Object lock;\n\npublic Producer(LinkedList&lt;String&gt; refToData, String nameOfProducer, int timeOfProduction, Object lock) {\n    ...\n    this.lock = lock;\n    }\n</code></pre>\n<p>Likewise, do the same thing in your <code>Consumer</code> class, and likewise do the same thing for <code>lock2</code> in the controller.</p>\n<p>And now, your <code>producer1</code> and your <code>consumer1</code> can use the same shared lock object by doing <code>synchronized(lock)</code>, and <code>lock.wait()</code> and <code>lock.notify()</code>; and your <code>producer2</code> and your <code>consumer2</code> can have their own, distinct, shared lock object.</p>\n"}],"owner":{"account_id":19252927,"reputation":35,"user_id":14070477,"display_name":"Hubertius"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1652651321,"creation_date":1652645064,"question_id":72251817,"body_markdown":"As I said in title, I&#39;m trying to make Producer-Consumer case with the usage of JavaFx.\r\nFor the start I will show what the problem is:\r\n\r\n\r\nBasically I got TabPane with three tabs:\r\n[![enter image description here][1]][1]\r\n- &quot;Main Menu&quot; with Buttons to &quot;start production&quot;, &quot;stop production&quot; and two TextAreas each for showing results of producers-consumers work (there will be 2 for each branch)\r\n[![enter image description here][2]][2]\r\n- &quot;First Producer&quot; for typing producer name and slider for time of production (basically value for Thread.sleep(long m))\r\n- &quot;Second Producer&quot; is exactly like the first\r\nSo, now to the matter itself. After &quot;accepting&quot; data of both producers and starting production-consumption I got stuck on a problem  with settingText to both TextAreas of producers and consumers. I tried binding them to tasks, but that didn&#39;t work out (maybe I did something wrong, I don&#39;t know). \r\n\r\nHere is my code also:\r\n\r\nController.java:\r\n```\r\npackage com.example.case4javafx;\r\n\r\nimport javafx.beans.value.ChangeListener;\r\nimport javafx.beans.value.ObservableValue;\r\nimport javafx.concurrent.Task;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.Initializable;\r\nimport javafx.scene.control.*;\r\n\r\nimport java.net.URL;\r\nimport java.util.LinkedList;\r\nimport java.util.ResourceBundle;\r\n\r\npublic class Controller implements Initializable {\r\n\r\n    private LinkedList&lt;String&gt; listOfProducts = new LinkedList&lt;&gt;();\r\n\r\n    @FXML\r\n    private Slider sldFirstProd, sldSecondProd;\r\n\r\n    int mSldFirstProdValue, mSldSecondProdValue;\r\n\r\n    @FXML\r\n    private TextField txtFirstProd, txtSecondProd;\r\n\r\n    @FXML\r\n    private static TextArea txtProdInfo, txtConsInfo;\r\n\r\n    private String nameOfProd1, nameOfProd2;\r\n    private int timeOfProd1, timeOfProd2;\r\n\r\n    private Producer producer1, producer2;\r\n    private Consumer consumer1, consumer2;\r\n\r\n    @FXML\r\n    private Button btnStartProduction, btnStopProduction, btnFirstProdClear, btnFirstProdAccept, btnSecondProdClear, btnSecondProdAccept;\r\n\r\n    @FXML\r\n    private Label lblSldFirstProd, lblSldSecondProd;\r\n\r\n\r\n\r\n\r\n    @Override\r\n    public void initialize(URL url, ResourceBundle resourceBundle) {\r\n        sldFirstProd.valueProperty().addListener(new ChangeListener&lt;Number&gt;() {\r\n            @Override\r\n            public void changed(ObservableValue&lt;? extends Number&gt; observableValue, Number number, Number t1) {\r\n                mSldFirstProdValue = (int) sldFirstProd.getValue();\r\n                lblSldFirstProd.setText(mSldFirstProdValue + &quot; ms&quot;);\r\n            }\r\n        });\r\n\r\n\r\n        sldSecondProd.valueProperty().addListener(new ChangeListener&lt;Number&gt;() {\r\n            @Override\r\n            public void changed(ObservableValue&lt;? extends Number&gt; observableValue, Number number, Number t1) {\r\n                mSldSecondProdValue = (int) sldSecondProd.getValue();\r\n                lblSldSecondProd.setText(mSldSecondProdValue + &quot; ms&quot;);\r\n            }\r\n        });\r\n    }\r\n\r\n    public void onStartProduction(ActionEvent e) throws InterruptedException {\r\n        if(btnFirstProdAccept.isDisabled() &amp;&amp; btnSecondProdAccept.isDisabled()) {\r\n            producer1 = new Producer(listOfProducts, nameOfProd1, timeOfProd1);\r\n            Thread t1 = new Thread(producer1);\r\n\r\n            consumer1 = new Consumer(listOfProducts);\r\n            Thread t2 = new Thread(consumer1);\r\n\r\n\r\n            producer2 = new Producer(listOfProducts, nameOfProd1, timeOfProd1);\r\n            Thread t3 = new Thread(producer2);\r\n\r\n            consumer2 = new Consumer(listOfProducts);\r\n            Thread t4 = new Thread(consumer2);\r\n\r\n            t1.setDaemon(true);\r\n            t2.setDaemon(true);\r\n            t3.setDaemon(true);\r\n            t4.setDaemon(true);\r\n\r\n            t1.start();\r\n            t2.start();\r\n            t3.start();\r\n            t4.start();\r\n\r\n            btnStartProduction.setDisable(true);\r\n        }\r\n\r\n    }\r\n\r\n    public void onStopProduction(ActionEvent e) {\r\n        if(producer1 != null) {\r\n            producer1.cancel();\r\n        }\r\n        if(producer2 != null) {\r\n            producer2.cancel();\r\n        }\r\n        if(consumer1 != null) {\r\n            consumer1.cancel();\r\n        }\r\n        if(consumer2 != null) {\r\n            consumer2.cancel();\r\n        }\r\n        setEnableDisableProdData(txtFirstProd, sldFirstProd, true);\r\n        setEnableDisableProdData(txtSecondProd, sldSecondProd, true);\r\n        setEnableDisableProdButt(btnFirstProdClear, btnFirstProdAccept, true);\r\n        setEnableDisableProdButt(btnSecondProdClear, btnSecondProdAccept, true);\r\n        btnStartProduction.setDisable(false);\r\n    }\r\n\r\n    public void onClearFirstProducer(ActionEvent e) {\r\n        setClearProd(txtFirstProd, sldFirstProd, lblSldFirstProd);\r\n    }\r\n\r\n    public void onAcceptFirstProducer(ActionEvent e) {\r\n        nameOfProd1 = txtFirstProd.getText();\r\n        timeOfProd1 = mSldFirstProdValue;\r\n        setEnableDisableProdButt(btnFirstProdClear, btnFirstProdAccept, false);\r\n        setClearProd(txtFirstProd, sldFirstProd, lblSldFirstProd);\r\n        setEnableDisableProdData(txtFirstProd, sldFirstProd, false);\r\n    }\r\n\r\n    public void onClearSecondProducer(ActionEvent e) {\r\n        setClearProd(txtSecondProd, sldSecondProd, lblSldSecondProd);\r\n    }\r\n\r\n    public void onAcceptSecondProducer(ActionEvent e) {\r\n        nameOfProd2 = txtSecondProd.getText();\r\n        timeOfProd2 = mSldSecondProdValue;\r\n        setEnableDisableProdButt(btnSecondProdClear, btnSecondProdAccept, false);\r\n        setClearProd(txtSecondProd, sldSecondProd, lblSldSecondProd);\r\n        setEnableDisableProdData(txtSecondProd, sldSecondProd, false);\r\n    }\r\n\r\n    public void setEnableDisableProdData(TextField txtProdName, Slider sldProd, boolean toActivDeactiv) {\r\n        if(toActivDeactiv) {\r\n            txtProdName.setDisable(false);\r\n            sldProd.setDisable(false);\r\n        } else {\r\n            txtProdName.setDisable(true);\r\n            sldProd.setDisable(true);\r\n        }\r\n    }\r\n\r\n    public void setEnableDisableProdButt(Button clear, Button accept, boolean toActivDeactiv) {\r\n        if(toActivDeactiv) {\r\n            clear.setDisable(false);\r\n            accept.setDisable(false);\r\n        } else {\r\n            clear.setDisable(true);\r\n            accept.setDisable(true);\r\n        }\r\n    }\r\n\r\n    public void setClearProd(TextField txtProdName, Slider sldProd, Label sldValueInfo) {\r\n        txtProdName.setText(&quot;&quot;);\r\n        sldProd.setValue(0);\r\n        sldValueInfo.setText(&quot;500 ms&quot;);\r\n    }\r\n\r\n    public static void setTxtAreaOfProd(String input) {\r\n        txtProdInfo.setText(input);\r\n    }\r\n\r\n    public static void setTxtAreaOfCons(String input) {\r\n        txtConsInfo.setText(input);\r\n    }\r\n\r\n}\r\n```\r\nProducer.java:\r\n```\r\npackage com.example.case4javafx;\r\n\r\nimport javafx.application.Platform;\r\nimport javafx.concurrent.Task;\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.control.TextArea;\r\n\r\nimport java.util.LinkedList;\r\nimport java.util.List;\r\n\r\npublic class Producer extends Task&lt;Void&gt; {\r\n\r\n\r\n    private final LinkedList&lt;String&gt; dataOfProducts;\r\n    private final String nameOfProducer;\r\n    private final int timeOfProduction;\r\n\r\n    private final int capacity;\r\n\r\n    private Object lock;\r\n\r\n    public Producer(LinkedList&lt;String&gt; refToData, String nameOfProducer, int timeOfProduction, Object lock) {\r\n        this.dataOfProducts = refToData;\r\n        this.nameOfProducer = nameOfProducer;\r\n        this.timeOfProduction = timeOfProduction;\r\n        this.capacity = 10;\r\n        this.lock = lock;\r\n    }\r\n\r\n    @Override\r\n    protected Void call() throws InterruptedException {\r\n        int value = 0;\r\n        while (true) {\r\n            synchronized (lock) {\r\n                System.out.println(&quot;I&#39;m a producer&quot;);\r\n                if (isCancelled()) {\r\n                    updateMessage(&quot;Cancelled&quot;);\r\n                    break;\r\n                }\r\n                while (dataOfProducts.size() == capacity) {\r\n                    lock.wait();\r\n                }\r\n                updateMessage(&quot;Producer produced-&quot; + value);\r\n\r\n                // to insert the jobs in the list\r\n                String itemToAdd = nameOfProducer + &quot; &quot; + Integer.toString(value++);\r\n                dataOfProducts.add(itemToAdd);\r\n                // notifies the consumer thread that\r\n                // now it can start consuming\r\n                lock.notify();\r\n\r\n                // makes the working of program easier\r\n                // to  understand\r\n                try {\r\n                    Thread.sleep(this.timeOfProduction);\r\n                } catch (InterruptedException e) {\r\n                    if (isCancelled()) {\r\n                        updateMessage(&quot;Cancelled&quot;);\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n}\r\n\r\n```\r\nConsumer.java:\r\n\r\n```\r\npackage com.example.case4javafx;\r\n\r\nimport javafx.application.Platform;\r\nimport javafx.concurrent.Task;\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.control.TextArea;\r\n\r\nimport java.util.LinkedList;\r\nimport java.util.List;\r\nimport java.util.concurrent.locks.ReentrantLock;\r\n\r\npublic class Consumer extends Task&lt;Void&gt; {\r\n\r\n\r\n    private final Object lock;\r\n    private final LinkedList&lt;String&gt; dataOfProducts;\r\n\r\n    public Consumer(LinkedList&lt;String&gt; dataOfProducts, Object lock) {\r\n        this.dataOfProducts = dataOfProducts;\r\n        this.lock = lock;\r\n    }\r\n\r\n    @Override\r\n    protected Void call() throws InterruptedException {\r\n        int value = 0;\r\n        while (true) {\r\n            synchronized (lock) {\r\n                System.out.println(&quot;I&#39;m a consumer&quot;);\r\n                if (isCancelled()) {\r\n                    updateMessage(&quot;Cancelled&quot;);\r\n                    break;\r\n                }\r\n                while (dataOfProducts.size() == 0) {\r\n                    lock.wait();\r\n                }\r\n\r\n                // to insert the jobs in the list\r\n                String resultOfProducer = dataOfProducts.removeFirst();\r\n                // notifies the consumer thread that\r\n                // now it can start consuming\r\n                lock.notify();\r\n\r\n                // makes the working of program easier\r\n                // to  understand\r\n                try {\r\n                    Thread.sleep(1000);\r\n                } catch (InterruptedException e) {\r\n                    if (isCancelled()) {\r\n                        updateMessage(&quot;Cancelled&quot;);\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nProducer and Consumer classes are extending Task abstract class and both are implementing abstract method call().\r\n\r\nIf you know the answer to this problem (&quot;sending&quot; String data from Thread Producer / Consumer with assignment &quot;mission&quot; to both of this TextAreas accordingly) I would be very thankful.\r\n \r\n\r\n  [1]: https://i.stack.imgur.com/xVgji.png\r\n  [2]: https://i.stack.imgur.com/0pABI.png","title":"Producer-Consumer apllication on JavaFx (problem with getting correct values from tasks to &quot;update&quot; two text fields)","body":"<p>As I said in title, I'm trying to make Producer-Consumer case with the usage of JavaFx.\nFor the start I will show what the problem is:</p>\n<p>Basically I got TabPane with three tabs:\n<a href=\"https://i.stack.imgur.com/xVgji.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xVgji.png\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li>&quot;Main Menu&quot; with Buttons to &quot;start production&quot;, &quot;stop production&quot; and two TextAreas each for showing results of producers-consumers work (there will be 2 for each branch)\n<a href=\"https://i.stack.imgur.com/0pABI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0pABI.png\" alt=\"enter image description here\" /></a></li>\n<li>&quot;First Producer&quot; for typing producer name and slider for time of production (basically value for Thread.sleep(long m))</li>\n<li>&quot;Second Producer&quot; is exactly like the first\nSo, now to the matter itself. After &quot;accepting&quot; data of both producers and starting production-consumption I got stuck on a problem  with settingText to both TextAreas of producers and consumers. I tried binding them to tasks, but that didn't work out (maybe I did something wrong, I don't know).</li>\n</ul>\n<p>Here is my code also:</p>\n<p>Controller.java:</p>\n<pre><code>package com.example.case4javafx;\n\nimport javafx.beans.value.ChangeListener;\nimport javafx.beans.value.ObservableValue;\nimport javafx.concurrent.Task;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.scene.control.*;\n\nimport java.net.URL;\nimport java.util.LinkedList;\nimport java.util.ResourceBundle;\n\npublic class Controller implements Initializable {\n\n    private LinkedList&lt;String&gt; listOfProducts = new LinkedList&lt;&gt;();\n\n    @FXML\n    private Slider sldFirstProd, sldSecondProd;\n\n    int mSldFirstProdValue, mSldSecondProdValue;\n\n    @FXML\n    private TextField txtFirstProd, txtSecondProd;\n\n    @FXML\n    private static TextArea txtProdInfo, txtConsInfo;\n\n    private String nameOfProd1, nameOfProd2;\n    private int timeOfProd1, timeOfProd2;\n\n    private Producer producer1, producer2;\n    private Consumer consumer1, consumer2;\n\n    @FXML\n    private Button btnStartProduction, btnStopProduction, btnFirstProdClear, btnFirstProdAccept, btnSecondProdClear, btnSecondProdAccept;\n\n    @FXML\n    private Label lblSldFirstProd, lblSldSecondProd;\n\n\n\n\n    @Override\n    public void initialize(URL url, ResourceBundle resourceBundle) {\n        sldFirstProd.valueProperty().addListener(new ChangeListener&lt;Number&gt;() {\n            @Override\n            public void changed(ObservableValue&lt;? extends Number&gt; observableValue, Number number, Number t1) {\n                mSldFirstProdValue = (int) sldFirstProd.getValue();\n                lblSldFirstProd.setText(mSldFirstProdValue + &quot; ms&quot;);\n            }\n        });\n\n\n        sldSecondProd.valueProperty().addListener(new ChangeListener&lt;Number&gt;() {\n            @Override\n            public void changed(ObservableValue&lt;? extends Number&gt; observableValue, Number number, Number t1) {\n                mSldSecondProdValue = (int) sldSecondProd.getValue();\n                lblSldSecondProd.setText(mSldSecondProdValue + &quot; ms&quot;);\n            }\n        });\n    }\n\n    public void onStartProduction(ActionEvent e) throws InterruptedException {\n        if(btnFirstProdAccept.isDisabled() &amp;&amp; btnSecondProdAccept.isDisabled()) {\n            producer1 = new Producer(listOfProducts, nameOfProd1, timeOfProd1);\n            Thread t1 = new Thread(producer1);\n\n            consumer1 = new Consumer(listOfProducts);\n            Thread t2 = new Thread(consumer1);\n\n\n            producer2 = new Producer(listOfProducts, nameOfProd1, timeOfProd1);\n            Thread t3 = new Thread(producer2);\n\n            consumer2 = new Consumer(listOfProducts);\n            Thread t4 = new Thread(consumer2);\n\n            t1.setDaemon(true);\n            t2.setDaemon(true);\n            t3.setDaemon(true);\n            t4.setDaemon(true);\n\n            t1.start();\n            t2.start();\n            t3.start();\n            t4.start();\n\n            btnStartProduction.setDisable(true);\n        }\n\n    }\n\n    public void onStopProduction(ActionEvent e) {\n        if(producer1 != null) {\n            producer1.cancel();\n        }\n        if(producer2 != null) {\n            producer2.cancel();\n        }\n        if(consumer1 != null) {\n            consumer1.cancel();\n        }\n        if(consumer2 != null) {\n            consumer2.cancel();\n        }\n        setEnableDisableProdData(txtFirstProd, sldFirstProd, true);\n        setEnableDisableProdData(txtSecondProd, sldSecondProd, true);\n        setEnableDisableProdButt(btnFirstProdClear, btnFirstProdAccept, true);\n        setEnableDisableProdButt(btnSecondProdClear, btnSecondProdAccept, true);\n        btnStartProduction.setDisable(false);\n    }\n\n    public void onClearFirstProducer(ActionEvent e) {\n        setClearProd(txtFirstProd, sldFirstProd, lblSldFirstProd);\n    }\n\n    public void onAcceptFirstProducer(ActionEvent e) {\n        nameOfProd1 = txtFirstProd.getText();\n        timeOfProd1 = mSldFirstProdValue;\n        setEnableDisableProdButt(btnFirstProdClear, btnFirstProdAccept, false);\n        setClearProd(txtFirstProd, sldFirstProd, lblSldFirstProd);\n        setEnableDisableProdData(txtFirstProd, sldFirstProd, false);\n    }\n\n    public void onClearSecondProducer(ActionEvent e) {\n        setClearProd(txtSecondProd, sldSecondProd, lblSldSecondProd);\n    }\n\n    public void onAcceptSecondProducer(ActionEvent e) {\n        nameOfProd2 = txtSecondProd.getText();\n        timeOfProd2 = mSldSecondProdValue;\n        setEnableDisableProdButt(btnSecondProdClear, btnSecondProdAccept, false);\n        setClearProd(txtSecondProd, sldSecondProd, lblSldSecondProd);\n        setEnableDisableProdData(txtSecondProd, sldSecondProd, false);\n    }\n\n    public void setEnableDisableProdData(TextField txtProdName, Slider sldProd, boolean toActivDeactiv) {\n        if(toActivDeactiv) {\n            txtProdName.setDisable(false);\n            sldProd.setDisable(false);\n        } else {\n            txtProdName.setDisable(true);\n            sldProd.setDisable(true);\n        }\n    }\n\n    public void setEnableDisableProdButt(Button clear, Button accept, boolean toActivDeactiv) {\n        if(toActivDeactiv) {\n            clear.setDisable(false);\n            accept.setDisable(false);\n        } else {\n            clear.setDisable(true);\n            accept.setDisable(true);\n        }\n    }\n\n    public void setClearProd(TextField txtProdName, Slider sldProd, Label sldValueInfo) {\n        txtProdName.setText(&quot;&quot;);\n        sldProd.setValue(0);\n        sldValueInfo.setText(&quot;500 ms&quot;);\n    }\n\n    public static void setTxtAreaOfProd(String input) {\n        txtProdInfo.setText(input);\n    }\n\n    public static void setTxtAreaOfCons(String input) {\n        txtConsInfo.setText(input);\n    }\n\n}\n</code></pre>\n<p>Producer.java:</p>\n<pre><code>package com.example.case4javafx;\n\nimport javafx.application.Platform;\nimport javafx.concurrent.Task;\nimport javafx.fxml.FXML;\nimport javafx.scene.control.TextArea;\n\nimport java.util.LinkedList;\nimport java.util.List;\n\npublic class Producer extends Task&lt;Void&gt; {\n\n\n    private final LinkedList&lt;String&gt; dataOfProducts;\n    private final String nameOfProducer;\n    private final int timeOfProduction;\n\n    private final int capacity;\n\n    private Object lock;\n\n    public Producer(LinkedList&lt;String&gt; refToData, String nameOfProducer, int timeOfProduction, Object lock) {\n        this.dataOfProducts = refToData;\n        this.nameOfProducer = nameOfProducer;\n        this.timeOfProduction = timeOfProduction;\n        this.capacity = 10;\n        this.lock = lock;\n    }\n\n    @Override\n    protected Void call() throws InterruptedException {\n        int value = 0;\n        while (true) {\n            synchronized (lock) {\n                System.out.println(&quot;I'm a producer&quot;);\n                if (isCancelled()) {\n                    updateMessage(&quot;Cancelled&quot;);\n                    break;\n                }\n                while (dataOfProducts.size() == capacity) {\n                    lock.wait();\n                }\n                updateMessage(&quot;Producer produced-&quot; + value);\n\n                // to insert the jobs in the list\n                String itemToAdd = nameOfProducer + &quot; &quot; + Integer.toString(value++);\n                dataOfProducts.add(itemToAdd);\n                // notifies the consumer thread that\n                // now it can start consuming\n                lock.notify();\n\n                // makes the working of program easier\n                // to  understand\n                try {\n                    Thread.sleep(this.timeOfProduction);\n                } catch (InterruptedException e) {\n                    if (isCancelled()) {\n                        updateMessage(&quot;Cancelled&quot;);\n                        break;\n                    }\n                }\n            }\n        }\n        return null;\n    }\n}\n\n</code></pre>\n<p>Consumer.java:</p>\n<pre><code>package com.example.case4javafx;\n\nimport javafx.application.Platform;\nimport javafx.concurrent.Task;\nimport javafx.fxml.FXML;\nimport javafx.scene.control.TextArea;\n\nimport java.util.LinkedList;\nimport java.util.List;\nimport java.util.concurrent.locks.ReentrantLock;\n\npublic class Consumer extends Task&lt;Void&gt; {\n\n\n    private final Object lock;\n    private final LinkedList&lt;String&gt; dataOfProducts;\n\n    public Consumer(LinkedList&lt;String&gt; dataOfProducts, Object lock) {\n        this.dataOfProducts = dataOfProducts;\n        this.lock = lock;\n    }\n\n    @Override\n    protected Void call() throws InterruptedException {\n        int value = 0;\n        while (true) {\n            synchronized (lock) {\n                System.out.println(&quot;I'm a consumer&quot;);\n                if (isCancelled()) {\n                    updateMessage(&quot;Cancelled&quot;);\n                    break;\n                }\n                while (dataOfProducts.size() == 0) {\n                    lock.wait();\n                }\n\n                // to insert the jobs in the list\n                String resultOfProducer = dataOfProducts.removeFirst();\n                // notifies the consumer thread that\n                // now it can start consuming\n                lock.notify();\n\n                // makes the working of program easier\n                // to  understand\n                try {\n                    Thread.sleep(1000);\n                } catch (InterruptedException e) {\n                    if (isCancelled()) {\n                        updateMessage(&quot;Cancelled&quot;);\n                        break;\n                    }\n                }\n            }\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>Producer and Consumer classes are extending Task abstract class and both are implementing abstract method call().</p>\n<p>If you know the answer to this problem (&quot;sending&quot; String data from Thread Producer / Consumer with assignment &quot;mission&quot; to both of this TextAreas accordingly) I would be very thankful.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3620043,"reputation":2295,"user_id":3019024,"accept_rate":97,"display_name":"WildDev"},"score":3,"creation_date":1652649679,"post_id":72252208,"comment_id":127651378,"body_markdown":"It doesn&#39;t since the class provides more than a single role at time and doesn&#39;t return a new service&#39;s instance by each execution.","body":"It doesn&#39;t since the class provides more than a single role at time and doesn&#39;t return a new service&#39;s instance by each execution."},{"owner":{"account_id":21210678,"reputation":143,"user_id":19123115,"display_name":"Klaus K&#246;hler"},"score":0,"creation_date":1652687291,"post_id":72252208,"comment_id":127657099,"body_markdown":"@WildDev could you please say what could I do to make it comply to factory pattern. If I had a class filled with methods that return new objects, would it be comply?","body":"@WildDev could you please say what could I do to make it comply to factory pattern. If I had a class filled with methods that return new objects, would it be comply?"},{"owner":{"account_id":3620043,"reputation":2295,"user_id":3019024,"accept_rate":97,"display_name":"WildDev"},"score":0,"creation_date":1652695543,"post_id":72252208,"comment_id":127659824,"body_markdown":"Then it would be better but the class would still violate the `SOLID` principle. I recommend to separate them just like `UserServiceFactory`.","body":"Then it would be better but the class would still violate the <code>SOLID</code> principle. I recommend to separate them just like <code>UserServiceFactory</code>."}],"answers":[{"tags":[],"owner":{"account_id":16088344,"reputation":2160,"user_id":11612399,"display_name":"PIG208"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652650190,"creation_date":1652650190,"answer_id":72252318,"question_id":72252208,"body_markdown":"Since you are essentially accessing the same instance of a set of `xxxxService` instead of &quot;constructing&quot; new ones, it does not comply with the factory pattern.\r\n\r\nNaming it `SharedServices` makes more sense, given that you made it a singleton, and that it shares various instances of services across the application.","title":"Does this class comply to Factory method pattern?","body":"<p>Since you are essentially accessing the same instance of a set of <code>xxxxService</code> instead of &quot;constructing&quot; new ones, it does not comply with the factory pattern.</p>\n<p>Naming it <code>SharedServices</code> makes more sense, given that you made it a singleton, and that it shares various instances of services across the application.</p>\n"},{"tags":[],"owner":{"account_id":19116453,"reputation":99,"user_id":13961241,"display_name":"Shrinath Shankar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652650307,"creation_date":1652650307,"answer_id":72252324,"question_id":72252208,"body_markdown":"Factory pattern works as follows:\r\nAn interface exists\r\n\r\n    public interface Foo {\r\n      String make(String someString);\r\n    }\r\n\r\n\r\nand there are multiple implementations of that interface:\r\n\r\n    public class DishOrder implements Foo {\r\n      //constructor\r\n      String make(String someString) {-- custom implementation--}\r\n    }\r\n\r\n    public class DrinkOrder implements Foo {\r\n      //constructor\r\n      String make(String someString) {-- custom implementation--}\r\n    }\r\n\r\nAnd then the factory exists:\r\n\r\n    public class OrderFactory {\r\n     private DishOrder dishOrder;\r\n     private DrinkOrder drinkOrder;\r\n     \r\n     //constructor\r\n     public Foo getFoo(String type) {\r\n      if(type.equals(&quot;Dish&quot;))\r\n       return DishOrder;\r\n       //and every other implementation of the interface\r\n       //can use switch here as well\r\n    }\r\n    }","title":"Does this class comply to Factory method pattern?","body":"<p>Factory pattern works as follows:\nAn interface exists</p>\n<pre><code>public interface Foo {\n  String make(String someString);\n}\n</code></pre>\n<p>and there are multiple implementations of that interface:</p>\n<pre><code>public class DishOrder implements Foo {\n  //constructor\n  String make(String someString) {-- custom implementation--}\n}\n\npublic class DrinkOrder implements Foo {\n  //constructor\n  String make(String someString) {-- custom implementation--}\n}\n</code></pre>\n<p>And then the factory exists:</p>\n<pre><code>public class OrderFactory {\n private DishOrder dishOrder;\n private DrinkOrder drinkOrder;\n \n //constructor\n public Foo getFoo(String type) {\n  if(type.equals(&quot;Dish&quot;))\n   return DishOrder;\n   //and every other implementation of the interface\n   //can use switch here as well\n}\n}\n</code></pre>\n"}],"owner":{"account_id":21210678,"reputation":143,"user_id":19123115,"display_name":"Klaus K&#246;hler"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72252318,"answer_count":2,"score":0,"last_activity_date":1652650307,"creation_date":1652649023,"question_id":72252208,"body_markdown":"    public class ServiceFactory {\r\n        private static ServiceFactory instance;\r\n        private final DishService dishService = new DishService();\r\n        private final OrderService orderService = new OrderService();\r\n        private  final UserService userService = new UserService();\r\n    \r\n        private ServiceFactory() {\r\n        }\r\n    \r\n        public static synchronized ServiceFactory getInstance() {\r\n            if (instance == null) instance = new ServiceFactory();\r\n            return instance;\r\n        }\r\n    \r\n        public DishService getDishService() {\r\n            return dishService;\r\n        }\r\n    \r\n        public OrderService getOrderService() {\r\n            return orderService;\r\n        }\r\n    \r\n        public UserService getUserService() {\r\n            return userService;\r\n        }\r\n    }\r\n\r\nIt is just a simple class for getting objects, but it seems like a messed up with naming.\r\n\r\nIf not, what should be a proper name for such a class? ","title":"Does this class comply to Factory method pattern?","body":"<pre><code>public class ServiceFactory {\n    private static ServiceFactory instance;\n    private final DishService dishService = new DishService();\n    private final OrderService orderService = new OrderService();\n    private  final UserService userService = new UserService();\n\n    private ServiceFactory() {\n    }\n\n    public static synchronized ServiceFactory getInstance() {\n        if (instance == null) instance = new ServiceFactory();\n        return instance;\n    }\n\n    public DishService getDishService() {\n        return dishService;\n    }\n\n    public OrderService getOrderService() {\n        return orderService;\n    }\n\n    public UserService getUserService() {\n        return userService;\n    }\n}\n</code></pre>\n<p>It is just a simple class for getting objects, but it seems like a messed up with naming.</p>\n<p>If not, what should be a proper name for such a class?</p>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1652645520,"post_id":72251810,"comment_id":127650641,"body_markdown":"What&#39;s the problem with adding another one `try` / `catch`?","body":"What&#39;s the problem with adding another one <code>try</code> / <code>catch</code>?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1652645535,"post_id":72251810,"comment_id":127650646,"body_markdown":"Exception message should contain information about location of file which couldn&#39;t be found. Isn&#39;t that enough? OR do you want to know which *variable* was not created? What is your goal? (for now your question looks like [XY problem](https://meta.stackexchange.com/q/66377))","body":"Exception message should contain information about location of file which couldn&#39;t be found. Isn&#39;t that enough? OR do you want to know which <i>variable</i> was not created? What is your goal? (for now your question looks like <a href=\"https://meta.stackexchange.com/q/66377\">XY problem</a>)"},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":1,"creation_date":1652645691,"post_id":72251810,"comment_id":127650669,"body_markdown":"If all else fails, you can always make your own `Reader` implementation that contains a `BufferedReader` but throws a subclass of `IOException` that has the information you want. But I&#39;d be amazed if there isn&#39;t a way to figure this out from `IOException` already; I just don&#39;t readily know how.","body":"If all else fails, you can always make your own <code>Reader</code> implementation that contains a <code>BufferedReader</code> but throws a subclass of <code>IOException</code> that has the information you want. But I&#39;d be amazed if there isn&#39;t a way to figure this out from <code>IOException</code> already; I just don&#39;t readily know how."},{"owner":{"account_id":20668428,"reputation":17,"user_id":15174709,"display_name":"Lucas Larsson "},"score":0,"creation_date":1652645729,"post_id":72251810,"comment_id":127650677,"body_markdown":"Nothing wrong with another ```try / catch ```, I am just curious, it makes since to know which source caused the problem, for better error handling, or it might not, I am still a student and learning.","body":"Nothing wrong with another <code>try &#47; catch </code>, I am just curious, it makes since to know which source caused the problem, for better error handling, or it might not, I am still a student and learning."},{"owner":{"account_id":20668428,"reputation":17,"user_id":15174709,"display_name":"Lucas Larsson "},"score":0,"creation_date":1652645927,"post_id":72251810,"comment_id":127650712,"body_markdown":"Edited for a more clear goal, @Pshemo","body":"Edited for a more clear goal, @Pshemo"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1652646716,"post_id":72251810,"comment_id":127650855,"body_markdown":"&quot;I want to know which file was not found and caused the first exception to be thrown&quot; `e.getMessage()` should already generate message like `foo/bar/my_file.txt (was not found)`. What is the message you are getting instead?","body":"&quot;I want to know which file was not found and caused the first exception to be thrown&quot; <code>e.getMessage()</code> should already generate message like <code>foo&#47;bar&#47;my_file.txt (was not found)</code>. What is the message you are getting instead?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1652648899,"post_id":72251810,"comment_id":127651259,"body_markdown":"BTW if you use `e.printStackTrace()` you will also get line number of place from which exception was thrown. If your goal was to make debugging easier then this info would be very helpful. Also take a look at [What is a stack trace, and how can I use it to debug my application errors?](https://stackoverflow.com/q/3988788)","body":"BTW if you use <code>e.printStackTrace()</code> you will also get line number of place from which exception was thrown. If your goal was to make debugging easier then this info would be very helpful. Also take a look at <a href=\"https://stackoverflow.com/q/3988788\">What is a stack trace, and how can I use it to debug my application errors?</a>"}],"answers":[{"tags":[],"owner":{"account_id":3261687,"reputation":317,"user_id":4129917,"display_name":"Tony Weston"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652649664,"creation_date":1652649664,"answer_id":72252269,"question_id":72251810,"body_markdown":"Though I wouldn&#39;t recommend it (as it depends on linenumbers which might change if run through a preprocessor) You could use something like this\r\n\r\n\r\n\t\tint topLine= new Throwable().getStackTrace()[0].getLineNumber(); \r\n\t\ttry (BufferedReader input1 = new BufferedReader(new FileReader(&quot;pop&quot;));\r\n\t\t\t BufferedReader input2 = new BufferedReader(new FileReader(&quot;poo&quot;))){\r\n\r\n\t\t\t// some more code here \r\n\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\t\tStackTraceElement[] er= e.getStackTrace();\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tint exceptLine = er[er.length-1].getLineNumber() - topLine;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (exceptLine==1) {\r\n\t\t\t\t\t\t// error in first buffered reader\r\n\t\t\t\t\t} else if (exceptLine==2) {\r\n\t\t\t\t\t\t// error in second buffered reader\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// error elsewhere\r\n\t\t\t\t\t}\r\n\t\t\t}","title":"How to find out which file caused the exception?","body":"<p>Though I wouldn't recommend it (as it depends on linenumbers which might change if run through a preprocessor) You could use something like this</p>\n<pre><code>    int topLine= new Throwable().getStackTrace()[0].getLineNumber(); \n    try (BufferedReader input1 = new BufferedReader(new FileReader(&quot;pop&quot;));\n         BufferedReader input2 = new BufferedReader(new FileReader(&quot;poo&quot;))){\n\n        // some more code here \n\n        } catch (Exception e) {\n                StackTraceElement[] er= e.getStackTrace();\n                \n                \n                int exceptLine = er[er.length-1].getLineNumber() - topLine;\n                \n                if (exceptLine==1) {\n                    // error in first buffered reader\n                } else if (exceptLine==2) {\n                    // error in second buffered reader\n                } else {\n                    // error elsewhere\n                }\n        }\n</code></pre>\n"}],"owner":{"account_id":20668428,"reputation":17,"user_id":15174709,"display_name":"Lucas Larsson "},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"answer_count":1,"score":-1,"last_activity_date":1652649664,"creation_date":1652645030,"question_id":72251810,"body_markdown":"I am using **FileReader** wrapped in **BufferedReader** to read from 2 files, in case of an exception being thrown I want to know which file caused the error.   \r\n\r\nIs there a way of finding that out?\r\n\r\n```\r\ntry (BufferedReader input1 = new BufferedReader(new FileReader(pathToFile1));\r\n     BufferedReader input2 = new BufferedReader(new FileReader(pathToFile2))){\r\n\r\n// some more code here \r\n\r\n} catch (FileNotFoundException e) {\r\n            System.err.println(&quot;File Not Found&quot;);\r\n            System.err.println(e.getMessage());\r\n            System.exit(2);\r\n} catch (IOException e) {\r\n            System.err.println(e.getMessage());\r\n            System.exit(1);\r\n```\r\nBasically I want to know which file was not found and caused the first exception to be thrown.","title":"How to find out which file caused the exception?","body":"<p>I am using <strong>FileReader</strong> wrapped in <strong>BufferedReader</strong> to read from 2 files, in case of an exception being thrown I want to know which file caused the error.</p>\n<p>Is there a way of finding that out?</p>\n<pre><code>try (BufferedReader input1 = new BufferedReader(new FileReader(pathToFile1));\n     BufferedReader input2 = new BufferedReader(new FileReader(pathToFile2))){\n\n// some more code here \n\n} catch (FileNotFoundException e) {\n            System.err.println(&quot;File Not Found&quot;);\n            System.err.println(e.getMessage());\n            System.exit(2);\n} catch (IOException e) {\n            System.err.println(e.getMessage());\n            System.exit(1);\n</code></pre>\n<p>Basically I want to know which file was not found and caused the first exception to be thrown.</p>\n"},{"tags":["java","android","android-studio","android-dark-theme","android-darkmode"],"answers":[{"tags":[],"owner":{"account_id":20325154,"reputation":108,"user_id":14908811,"display_name":"Enes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642794241,"creation_date":1642794241,"answer_id":70806854,"question_id":70804416,"body_markdown":"You can put this in the first line of your launcher activity&#39;s `onCreate` method to disable night mode in your app.\r\n\r\n    AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO);\r\n\r\nIf you want to use Force Dark, you make sure that the app supports Android 10 and above. Also if you want to support it in dark mode, I recommend you to read this document. https://developer.android.com/guide/topics/ui/look-and-feel/darktheme\r\n","title":"System Dark mode setting problem (More Dark mode options)","body":"<p>You can put this in the first line of your launcher activity's <code>onCreate</code> method to disable night mode in your app.</p>\n<pre><code>AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO);\n</code></pre>\n<p>If you want to use Force Dark, you make sure that the app supports Android 10 and above. Also if you want to support it in dark mode, I recommend you to read this document. <a href=\"https://developer.android.com/guide/topics/ui/look-and-feel/darktheme\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/ui/look-and-feel/darktheme</a></p>\n"},{"tags":[],"owner":{"account_id":25230337,"reputation":176,"user_id":19065577,"display_name":"chisom emmanuel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652649063,"creation_date":1652649063,"answer_id":72252212,"question_id":70804416,"body_markdown":"**Just add this line of code to your themes-night.xml file**\r\n\r\n    &lt;item name=&quot;android:textColor&quot;&gt;@android:color/white&lt;/item&gt;","title":"System Dark mode setting problem (More Dark mode options)","body":"<p><strong>Just add this line of code to your themes-night.xml file</strong></p>\n<pre><code>&lt;item name=&quot;android:textColor&quot;&gt;@android:color/white&lt;/item&gt;\n</code></pre>\n"}],"owner":{"account_id":23635986,"reputation":37,"user_id":17667046,"display_name":"NONAME"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":812,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1652649063,"creation_date":1642782157,"question_id":70804416,"body_markdown":"Hello‚ I had a problem with the night mode in my program. Switching from the phone system to night mode did not change the black text to white. It was just black. I found a solution through stackoverflow: \r\n\r\n```\r\n&lt;item name=&quot;android:forceDarkAllowed&quot; tools:targetApi=&quot;q&quot;&gt;false&lt;/item&gt; \r\n```\r\n\r\nI added this code to Theme night and light.\r\n\r\nIt all started to work well though.\r\n\r\nNow, if you try to disable the dark mode for the application from this part of the phone settings, the application will not return! It only goes back when the full phone goes back.\r\n\r\nThis setting:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/a1KYD.jpg\r\n\r\nFrom this part I turned off my app and there is no change. It simply ignores this part. Only if I turn off the phone completely dark mode, then the app also returns to light mode.\r\n\r\nPlease help me!","title":"System Dark mode setting problem (More Dark mode options)","body":"<p>Hello‚ I had a problem with the night mode in my program. Switching from the phone system to night mode did not change the black text to white. It was just black. I found a solution through stackoverflow:</p>\n<pre><code>&lt;item name=&quot;android:forceDarkAllowed&quot; tools:targetApi=&quot;q&quot;&gt;false&lt;/item&gt; \n</code></pre>\n<p>I added this code to Theme night and light.</p>\n<p>It all started to work well though.</p>\n<p>Now, if you try to disable the dark mode for the application from this part of the phone settings, the application will not return! It only goes back when the full phone goes back.</p>\n<p>This setting:\n<a href=\"https://i.stack.imgur.com/a1KYD.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/a1KYD.jpg\" alt=\"enter image description here\" /></a></p>\n<p>From this part I turned off my app and there is no change. It simply ignores this part. Only if I turn off the phone completely dark mode, then the app also returns to light mode.</p>\n<p>Please help me!</p>\n"},{"tags":["java","casting"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1652648365,"post_id":72252129,"comment_id":127651174,"body_markdown":"What is `Pair`?  Is that a standard class?","body":"What is <code>Pair</code>?  Is that a standard class?"}],"answers":[{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652648670,"creation_date":1652648670,"answer_id":72252176,"question_id":72252129,"body_markdown":"An `int` can be cast to a `double`, but an `Integer` can&#39;t be cast to a `Double`.  \r\n\r\nWhen you instantiate your `Pair&lt;Integer, Double&gt;`, both `int` values that you&#39;re passing are getting autoboxed to `Integer`.  But what you needed was an `Integer` and a `Double`.","title":"Java ClassCastException confusion","body":"<p>An <code>int</code> can be cast to a <code>double</code>, but an <code>Integer</code> can't be cast to a <code>Double</code>.</p>\n<p>When you instantiate your <code>Pair&lt;Integer, Double&gt;</code>, both <code>int</code> values that you're passing are getting autoboxed to <code>Integer</code>.  But what you needed was an <code>Integer</code> and a <code>Double</code>.</p>\n"}],"owner":{"account_id":12533729,"reputation":489,"user_id":9121039,"display_name":"titiree"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652648670,"creation_date":1652648205,"question_id":72252129,"body_markdown":"I have the following code:\r\n\r\n```\r\nPriorityQueue&lt;Pair&lt;Integer, Double&gt;&gt; pq = \r\n      new PriorityQueue&lt;&gt;((v1, v2) -&gt; (int)Math.floor(v1.getValue() - v2.getValue()));\r\npq.add(new Pair(1, 0));\r\nPair&lt;Integer, Double&gt; node = pq.poll();\r\ndouble time = node.getValue();\r\n```\r\n\r\nThe last line raises a \r\n```\r\njava.lang.ClassCastException: class java.lang.Integer cannot be cast to class\r\njava.lang.Double (java.lang.Integer and java.lang.Double are in module \r\njava.base of loader &#39;bootstrap&#39;)\r\n```\r\n\r\nThe issue goes away if I replace the second statement with\r\n```\r\npq.add(new Pair(1, 0.0));\r\n```\r\n\r\nI&#39;d like to understand what is happening under the hood resulting in this exception.\r\n","title":"Java ClassCastException confusion","body":"<p>I have the following code:</p>\n<pre><code>PriorityQueue&lt;Pair&lt;Integer, Double&gt;&gt; pq = \n      new PriorityQueue&lt;&gt;((v1, v2) -&gt; (int)Math.floor(v1.getValue() - v2.getValue()));\npq.add(new Pair(1, 0));\nPair&lt;Integer, Double&gt; node = pq.poll();\ndouble time = node.getValue();\n</code></pre>\n<p>The last line raises a</p>\n<pre><code>java.lang.ClassCastException: class java.lang.Integer cannot be cast to class\njava.lang.Double (java.lang.Integer and java.lang.Double are in module \njava.base of loader 'bootstrap')\n</code></pre>\n<p>The issue goes away if I replace the second statement with</p>\n<pre><code>pq.add(new Pair(1, 0.0));\n</code></pre>\n<p>I'd like to understand what is happening under the hood resulting in this exception.</p>\n"},{"tags":["java","postgresql","jooq"],"answers":[{"tags":[],"owner":{"account_id":6788930,"reputation":114,"user_id":5226686,"display_name":"tqdv"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652647954,"creation_date":1652619077,"answer_id":72248426,"question_id":72235124,"body_markdown":"You&#39;re looking for Jooq&#39;s [jsonValue](https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/json-functions/json-value-function/) and [jsonExists](https://www.jooq.org/doc/latest/manual/sql-building/conditional-expressions/json-exists-predicate/), which correspond to PostgreSQL&#39;s `jsonb_path_query_first` amd `jsonb_path_exists`.\r\n\r\n_Also note that the `@?` operator is equivalent to the `jsonb_path_exists` function with the `silent` flag set. See the note after the [JSON operator table in the PostgreSQL documentation](https://www.postgresql.org/docs/current/functions-json.html#FUNCTIONS-JSON-OP-TABLE)._\r\n\r\n---\r\n\r\nFor your first example, you would use the following:\r\n\r\n```java\r\n  .join(/* */)\r\n  .where(jsonExists(CONTENT_BLOCK_DATA.DATA, &quot;$.** ? (@.blockId == 120)&quot;))\r\n  .fetch();\r\n```\r\n\r\nFor the second example, I couldn&#39;t find a Jooq DSL symbol that corresponds to the `@&gt;` jsonb containment operator, so you might have to fallback to [plain SQL in JOOQ](https://www.jooq.org/doc/latest/manual/sql-building/plain-sql/), like so:\r\n\r\n```java\r\n// Second example\r\n  .from(/* */)\r\n  .where(condition(&quot;{0} @&gt; {1}&quot;,\r\n    jsonValue(CONTENT_BLOCK_DATA.DATA, &quot;$.**.blockId&quot;),\r\n    JSONB.valueOf(120)));\r\n  .fetch();\r\n```\r\n\r\n_Based on the solution presented here: &lt;https://github.com/jOOQ/jOOQ/issues/13125&gt;._","title":"JOOQ JsonbValue in where()","body":"<p>You're looking for Jooq's <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/json-functions/json-value-function/\" rel=\"nofollow noreferrer\">jsonValue</a> and <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/conditional-expressions/json-exists-predicate/\" rel=\"nofollow noreferrer\">jsonExists</a>, which correspond to PostgreSQL's <code>jsonb_path_query_first</code> amd <code>jsonb_path_exists</code>.</p>\n<p><em>Also note that the <code>@?</code> operator is equivalent to the <code>jsonb_path_exists</code> function with the <code>silent</code> flag set. See the note after the <a href=\"https://www.postgresql.org/docs/current/functions-json.html#FUNCTIONS-JSON-OP-TABLE\" rel=\"nofollow noreferrer\">JSON operator table in the PostgreSQL documentation</a>.</em></p>\n<hr />\n<p>For your first example, you would use the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  .join(/* */)\n  .where(jsonExists(CONTENT_BLOCK_DATA.DATA, &quot;$.** ? (@.blockId == 120)&quot;))\n  .fetch();\n</code></pre>\n<p>For the second example, I couldn't find a Jooq DSL symbol that corresponds to the <code>@&gt;</code> jsonb containment operator, so you might have to fallback to <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/plain-sql/\" rel=\"nofollow noreferrer\">plain SQL in JOOQ</a>, like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Second example\n  .from(/* */)\n  .where(condition(&quot;{0} @&gt; {1}&quot;,\n    jsonValue(CONTENT_BLOCK_DATA.DATA, &quot;$.**.blockId&quot;),\n    JSONB.valueOf(120)));\n  .fetch();\n</code></pre>\n<p><em>Based on the solution presented here: <a href=\"https://github.com/jOOQ/jOOQ/issues/13125\" rel=\"nofollow noreferrer\">https://github.com/jOOQ/jOOQ/issues/13125</a>.</em></p>\n"}],"owner":{"account_id":2001714,"reputation":337,"user_id":1792595,"accept_rate":78,"display_name":"crychair"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":656,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":72248426,"answer_count":1,"score":2,"last_activity_date":1652647954,"creation_date":1652473749,"question_id":72235124,"body_markdown":"Working on trying to convert the following Postgres Query into Jooq. I would love to implement this with JOOQ&#39;s features instead of just copying the SQL in. \r\n\r\nUltimately im trying to make this query in jooq. \r\n```sql\r\nSELECT * from content_block cb \r\nJOIN content_block_data cbd on cbd.block_id  = cb.id \r\nWHERE cbd.&quot;data&quot; @? &#39;$.** ? (@.blockId == 120)&#39;;\r\n```\r\nAnother instance of a similar query\r\n```sql\r\nSELECT *\r\nFROM content_block_data\r\nWHERE jsonb_path_query_first(data, &#39;$.**.blockId&#39;) @&gt; &#39;120&#39;;\r\n```\r\nAnother instance of a similar query\r\n```sql\r\nSELECT *\r\nFROM content_block_data\r\nWHERE jsonb_path_exists(data, &#39;$.** ? (@.blockId == 120)&#39;);\r\n```\r\n\r\n\r\nWhat I have in java\r\n```java\r\n    @NotNull \r\nResult&lt;Record&gt; parentBlockRecords =\r\n        dslContext.select(asterisk()).from(CONTENT_BLOCK_DATA\r\n            .join(CONTENT_BLOCK).on(CONTENT_BLOCK.ID.eq(CONTENT_BLOCK_DATA.BLOCK_ID)))\r\n            //.where(jsonbValue(CONTENT_BLOCK_DATA.DATA,&quot;$.**.blockId&quot;).toString()\r\n             //   .contains(String.valueOf(blockId)))\r\n            .fetch();\r\n```\r\nThe where on this im having a hard time getting to work. The query can grab data from the DB, but just having a fair bit of trouble with this comparison. \r\n\r\nAnd idea of the data in CONTENT_BLOCK_DATA.DATA\r\n```json\r\n{\r\n  &quot;blocks&quot;: [\r\n    {\r\n      &quot;blockId&quot;: 120,\r\n      &quot;__source&quot;: &quot;block&quot;\r\n    },\r\n    {\r\n      &quot;blockId&quot;: 122,\r\n      &quot;__source&quot;: &quot;block&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nThanks for the help.","title":"JOOQ JsonbValue in where()","body":"<p>Working on trying to convert the following Postgres Query into Jooq. I would love to implement this with JOOQ's features instead of just copying the SQL in.</p>\n<p>Ultimately im trying to make this query in jooq.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT * from content_block cb \nJOIN content_block_data cbd on cbd.block_id  = cb.id \nWHERE cbd.&quot;data&quot; @? '$.** ? (@.blockId == 120)';\n</code></pre>\n<p>Another instance of a similar query</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT *\nFROM content_block_data\nWHERE jsonb_path_query_first(data, '$.**.blockId') @&gt; '120';\n</code></pre>\n<p>Another instance of a similar query</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT *\nFROM content_block_data\nWHERE jsonb_path_exists(data, '$.** ? (@.blockId == 120)');\n</code></pre>\n<p>What I have in java</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @NotNull \nResult&lt;Record&gt; parentBlockRecords =\n        dslContext.select(asterisk()).from(CONTENT_BLOCK_DATA\n            .join(CONTENT_BLOCK).on(CONTENT_BLOCK.ID.eq(CONTENT_BLOCK_DATA.BLOCK_ID)))\n            //.where(jsonbValue(CONTENT_BLOCK_DATA.DATA,&quot;$.**.blockId&quot;).toString()\n             //   .contains(String.valueOf(blockId)))\n            .fetch();\n</code></pre>\n<p>The where on this im having a hard time getting to work. The query can grab data from the DB, but just having a fair bit of trouble with this comparison.</p>\n<p>And idea of the data in CONTENT_BLOCK_DATA.DATA</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;blocks&quot;: [\n    {\n      &quot;blockId&quot;: 120,\n      &quot;__source&quot;: &quot;block&quot;\n    },\n    {\n      &quot;blockId&quot;: 122,\n      &quot;__source&quot;: &quot;block&quot;\n    }\n  ]\n}\n</code></pre>\n<p>Thanks for the help.</p>\n"},{"tags":["java","mysql","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652647520,"creation_date":1652647520,"answer_id":72252060,"question_id":72251997,"body_markdown":"That query returns `List&lt;Object[]&gt;` as the actual type, so use that instead of `?`. Then in your service layer (or the controller if you don&#39;t have a service layer), convert the rows to suitable DTOs with those fields (`humidity` and `datetime`).\r\n\r\nThe resulting code could look something like\r\n\r\n    List&lt;HumidityDTO&gt; list = sensorDataRepository.findHumidity().stream()\r\n                                       .map(h -&gt; new (HumidityDTO(h)))\r\n                                       .collect(Collectors.toList());\r\n\r\nIf `HumidityDTO` has a constructor taking an `Object[]` parameter.","title":"How to store and display an SQL result where the columns do not match any of my entities","body":"<p>That query returns <code>List&lt;Object[]&gt;</code> as the actual type, so use that instead of <code>?</code>. Then in your service layer (or the controller if you don't have a service layer), convert the rows to suitable DTOs with those fields (<code>humidity</code> and <code>datetime</code>).</p>\n<p>The resulting code could look something like</p>\n<pre><code>List&lt;HumidityDTO&gt; list = sensorDataRepository.findHumidity().stream()\n                                   .map(h -&gt; new (HumidityDTO(h)))\n                                   .collect(Collectors.toList());\n</code></pre>\n<p>If <code>HumidityDTO</code> has a constructor taking an <code>Object[]</code> parameter.</p>\n"}],"owner":{"account_id":2485078,"reputation":725,"user_id":2163644,"accept_rate":54,"display_name":"Arman Iqbal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652647520,"creation_date":1652646973,"question_id":72251997,"body_markdown":"I am writing a spring boot application to perform certain jobs on a MySQL database. One of the things I am having trouble with is getting the average temperature per day from the database.\r\n\r\nMy @entity looks as follows:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Entity\r\n    public class SensorData {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long sensorDataId;\r\n    \r\n        @Column(\r\n                name = &quot;timestamp&quot;\r\n        )\r\n        private LocalDateTime timestamp;\r\n    \r\n        @Column(\r\n                name = &quot;temperature&quot;\r\n        )\r\n        private Float temperature;\r\n    \r\n        @Column(\r\n                name = &quot;humidity&quot;\r\n        )\r\n        private Float humidity;\r\n    \r\n        @ManyToOne(\r\n                fetch = FetchType.LAZY,\r\n                optional = false,\r\n                cascade = CascadeType.ALL\r\n        )\r\n        @JoinColumn(\r\n                name = &quot;department_id&quot;,\r\n                nullable = false\r\n        )\r\n        private Department department;\r\n    }\r\n\r\nAnd department entity as follows. I am working with department (1)&quot;A&quot;, (2)&quot;B&quot; and (3)&quot;C&quot;.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Entity\r\n    public class Department {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long departmentId;\r\n        @Column(\r\n                name = &quot;department&quot;,\r\n                unique = true\r\n        )\r\n        private String department;\r\n    \r\n        @OneToMany(\r\n                mappedBy = &quot;department&quot;,\r\n                fetch = FetchType.LAZY\r\n        )\r\n        private List&lt;SensorData&gt; sensorData;\r\n    \r\n    }\r\n\r\nThe problem I am facing is that I need to make a query that returns average temperature per day per department. In my attempts to do this I have written the following JpaRepository function:\r\n\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Query(value = &quot;select round((dc.temperature),3) as temperature \r\n         ,dc.department_id,dc.timestamp from db_uppg.sensor_data dc group by department_id,dc.timestamp&quot;,nativeQuery = true)\r\n        List&lt;?&gt; findTemperature();\r\n\r\nAnd a controller function that returns a thymeleaf template averageTemperature.html:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Controller\r\n    public class IndexController {\r\n    \r\n    @Autowired\r\n        private SensorDataRepository sensorDataRepository;\r\n      @GetMapping(&quot;/averageHumidity&quot;)\r\n      public String avgHumidity(Model model) {\r\n    \r\n        List&lt;?&gt; list = sensorDataRepository.findHumidity();\r\n        model.addAttribute(&quot;allHumidity&quot;, list);\r\n        return &quot;averageHumidity&quot;;\r\n      }\r\n    }\r\n\r\nAnd finally my thymeleaf template:\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;table class=&quot;table table-dark table-hover&quot;&gt;\r\n        &lt;thead&gt;\r\n        &lt;tr&gt;\r\n            &lt;th scope=&quot;col&quot;&gt;#&lt;/th&gt;\r\n            &lt;th scope=&quot;col&quot;&gt;Average Temperature&lt;/th&gt;\r\n            &lt;th scope=&quot;col&quot;&gt;Date&lt;/th&gt;\r\n        &lt;/tr&gt;\r\n        &lt;/thead&gt;\r\n        &lt;tbody&gt;\r\n        &lt;tr th:each=&quot;humidityList : ${allHumidity}&quot;&gt;\r\n            &lt;th scope=&quot;row&quot;&gt;-&lt;/th&gt;\r\n            &lt;td th:text=&quot;${humidityList.humidity}&quot;&gt;&lt;/td&gt;\r\n            &lt;td th:text=&quot;${humidityList.datetime}&quot;&gt;&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n        &lt;/tbody&gt;\r\n    &lt;/table&gt;\r\n\r\nMy IDE warns me that it cannot resolve humidity and datetime in my thymeleaf template. I assume it&#39;s because I am using `List&lt;?&gt;`, and Java cannot understand the data this list contains? \r\n\r\nI am not sure what other ways I can achieve displaying a result where the columns requested do not match any of my original entities.\r\n","title":"How to store and display an SQL result where the columns do not match any of my entities","body":"<p>I am writing a spring boot application to perform certain jobs on a MySQL database. One of the things I am having trouble with is getting the average temperature per day from the database.</p>\n<p>My @entity looks as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class SensorData {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long sensorDataId;\n\n    @Column(\n            name = &quot;timestamp&quot;\n    )\n    private LocalDateTime timestamp;\n\n    @Column(\n            name = &quot;temperature&quot;\n    )\n    private Float temperature;\n\n    @Column(\n            name = &quot;humidity&quot;\n    )\n    private Float humidity;\n\n    @ManyToOne(\n            fetch = FetchType.LAZY,\n            optional = false,\n            cascade = CascadeType.ALL\n    )\n    @JoinColumn(\n            name = &quot;department_id&quot;,\n            nullable = false\n    )\n    private Department department;\n}\n</code></pre>\n<p>And department entity as follows. I am working with department (1)&quot;A&quot;, (2)&quot;B&quot; and (3)&quot;C&quot;.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Department {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long departmentId;\n    @Column(\n            name = &quot;department&quot;,\n            unique = true\n    )\n    private String department;\n\n    @OneToMany(\n            mappedBy = &quot;department&quot;,\n            fetch = FetchType.LAZY\n    )\n    private List&lt;SensorData&gt; sensorData;\n\n}\n</code></pre>\n<p>The problem I am facing is that I need to make a query that returns average temperature per day per department. In my attempts to do this I have written the following JpaRepository function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(value = &quot;select round((dc.temperature),3) as temperature \n     ,dc.department_id,dc.timestamp from db_uppg.sensor_data dc group by department_id,dc.timestamp&quot;,nativeQuery = true)\n    List&lt;?&gt; findTemperature();\n</code></pre>\n<p>And a controller function that returns a thymeleaf template averageTemperature.html:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\npublic class IndexController {\n\n@Autowired\n    private SensorDataRepository sensorDataRepository;\n  @GetMapping(&quot;/averageHumidity&quot;)\n  public String avgHumidity(Model model) {\n\n    List&lt;?&gt; list = sensorDataRepository.findHumidity();\n    model.addAttribute(&quot;allHumidity&quot;, list);\n    return &quot;averageHumidity&quot;;\n  }\n}\n</code></pre>\n<p>And finally my thymeleaf template:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;table class=&quot;table table-dark table-hover&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        &lt;th scope=&quot;col&quot;&gt;#&lt;/th&gt;\n        &lt;th scope=&quot;col&quot;&gt;Average Temperature&lt;/th&gt;\n        &lt;th scope=&quot;col&quot;&gt;Date&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n    &lt;tbody&gt;\n    &lt;tr th:each=&quot;humidityList : ${allHumidity}&quot;&gt;\n        &lt;th scope=&quot;row&quot;&gt;-&lt;/th&gt;\n        &lt;td th:text=&quot;${humidityList.humidity}&quot;&gt;&lt;/td&gt;\n        &lt;td th:text=&quot;${humidityList.datetime}&quot;&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>\n<p>My IDE warns me that it cannot resolve humidity and datetime in my thymeleaf template. I assume it's because I am using <code>List&lt;?&gt;</code>, and Java cannot understand the data this list contains?</p>\n<p>I am not sure what other ways I can achieve displaying a result where the columns requested do not match any of my original entities.</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1652646696,"post_id":72251418,"comment_id":127650854,"body_markdown":"&quot;commands&quot;? Is that a typo?","body":"&quot;commands&quot;? Is that a typo?"},{"owner":{"account_id":19210771,"reputation":35,"user_id":14036620,"display_name":"anonymous"},"score":0,"creation_date":1652654942,"post_id":72251418,"comment_id":127652197,"body_markdown":"sorry for that my english not too good. What I wanted to say is that the values in the list of paul are not in the list order. So he can&#39;t be in the list res. \nIt was &quot;order&quot; and not &quot;commands&quot; i think. @BasilBourque","body":"sorry for that my english not too good. What I wanted to say is that the values in the list of paul are not in the list order. So he can&#39;t be in the list res.  It was &quot;order&quot; and not &quot;commands&quot; i think. @BasilBourque"}],"answers":[{"tags":[],"owner":{"account_id":3231299,"reputation":506,"user_id":2726496,"accept_rate":25,"display_name":"sugeesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652643119,"creation_date":1652643119,"answer_id":72251584,"question_id":72251418,"body_markdown":"You can use another HashMap and use the order id as the key.\r\n\r\n        Map&lt;Integer, String&gt; orderNameMapping = new HashMap&lt;&gt;();\r\n        Set&lt;String&gt; keySet = hashmap.keySet();\r\n        for(String key: keySet){\r\n            List&lt;Integer&gt; orderIds = hashmap.get(key);\r\n            for(Integer orderId : orderIds) {\r\n                orderNameMapping.put(orderId, key);\r\n            }\r\n        }\r\n    \r\n        List&lt;String&gt; res = orders.stream().map(orderNameMapping::get).collect(Collectors.toList());","title":"Get the key of an hashmap when the values are list","body":"<p>You can use another HashMap and use the order id as the key.</p>\n<pre><code>    Map&lt;Integer, String&gt; orderNameMapping = new HashMap&lt;&gt;();\n    Set&lt;String&gt; keySet = hashmap.keySet();\n    for(String key: keySet){\n        List&lt;Integer&gt; orderIds = hashmap.get(key);\n        for(Integer orderId : orderIds) {\n            orderNameMapping.put(orderId, key);\n        }\n    }\n\n    List&lt;String&gt; res = orders.stream().map(orderNameMapping::get).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1652647440,"creation_date":1652643351,"answer_id":72251617,"question_id":72251418,"body_markdown":"Stream over your map entries, filter entries having values having any match with elements of your order list, map to key and collect to list:\r\n\r\n    List&lt;String&gt; res = hashmap.entrySet().stream()\r\n                              .filter(e -&gt; e.getValue().stream().anyMatch(order::contains))\r\n                              .map(Map.Entry::getKey)\r\n                              .collect(Collectors.toList());\r\n\r\nSee this [code run live at Ideone.com][1].\r\n\r\n\r\n  [1]: https://ideone.com/MxQHYm","title":"Get the key of an hashmap when the values are list","body":"<p>Stream over your map entries, filter entries having values having any match with elements of your order list, map to key and collect to list:</p>\n<pre><code>List&lt;String&gt; res = hashmap.entrySet().stream()\n                          .filter(e -&gt; e.getValue().stream().anyMatch(order::contains))\n                          .map(Map.Entry::getKey)\n                          .collect(Collectors.toList());\n</code></pre>\n<p>See this <a href=\"https://ideone.com/MxQHYm\" rel=\"nofollow noreferrer\">code run live at Ideone.com</a>.</p>\n"},{"tags":[],"owner":{"account_id":3261687,"reputation":317,"user_id":4129917,"display_name":"Tony Weston"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652644192,"creation_date":1652644192,"answer_id":72251715,"question_id":72251418,"body_markdown":"So the pseudocode would be something like.\r\n - Create a string list, to return the result.\r\n - l1: Loop though the hashmap of customer/orders\r\n - ...loop through the orders.\r\n - ......search for the order in the orderarray. If not found, continue l1\r\n - ...at this point, all orders have been found. Add customer to return list.\r\n - return the list.\r\n\r\nhope this helps.\r\n","title":"Get the key of an hashmap when the values are list","body":"<p>So the pseudocode would be something like.</p>\n<ul>\n<li>Create a string list, to return the result.</li>\n<li>l1: Loop though the hashmap of customer/orders</li>\n<li>...loop through the orders.</li>\n<li>......search for the order in the orderarray. If not found, continue l1</li>\n<li>...at this point, all orders have been found. Add customer to return list.</li>\n<li>return the list.</li>\n</ul>\n<p>hope this helps.</p>\n"}],"owner":{"account_id":19210771,"reputation":35,"user_id":14036620,"display_name":"anonymous"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72251617,"answer_count":3,"score":1,"last_activity_date":1652647440,"creation_date":1652641667,"question_id":72251418,"body_markdown":"I have a list of orders(order id) `List&lt;Integer&gt;order` with Integer values in it.\r\nI also have a Hashmap of the form `&lt;String, List&lt;Integer&gt;&gt;` which contains the customer names as keys and for each one a list of orders as values.\r\n\r\nWhat I would like to do is take the values from my first order list and see which customer it belongs to. The result will be a list of customers who have made an order.\r\n\r\nFor example : \r\n \r\n         if we have an first list of orders :  \r\n         order = [1,2,3,4,5,6,7] \r\n         and after we have  \r\n         hashmap={alice =[1,2,3], bob=[4,5,6], paul=[10,11]} \r\nthe output should be  \r\n`List&lt;String&gt; res = [alice, bob]` because &quot;paul&quot; commands are not in the first list.\r\n\r\nIf someone coud help me for this it would be nice.","title":"Get the key of an hashmap when the values are list","body":"<p>I have a list of orders(order id) <code>List&lt;Integer&gt;order</code> with Integer values in it.\nI also have a Hashmap of the form <code>&lt;String, List&lt;Integer&gt;&gt;</code> which contains the customer names as keys and for each one a list of orders as values.</p>\n<p>What I would like to do is take the values from my first order list and see which customer it belongs to. The result will be a list of customers who have made an order.</p>\n<p>For example :</p>\n<pre><code>     if we have an first list of orders :  \n     order = [1,2,3,4,5,6,7] \n     and after we have  \n     hashmap={alice =[1,2,3], bob=[4,5,6], paul=[10,11]} \n</code></pre>\n<p>the output should be<br />\n<code>List&lt;String&gt; res = [alice, bob]</code> because &quot;paul&quot; commands are not in the first list.</p>\n<p>If someone coud help me for this it would be nice.</p>\n"},{"tags":["java","maven","jar","executable-jar","maven-surefire-plugin"],"comments":[{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1652644059,"post_id":72251625,"comment_id":127650330,"body_markdown":"@DavidTejuosho (I didn&#39;t) &quot;can&quot;, but not &quot;are obligated to&quot;.","body":"@DavidTejuosho (I didn&#39;t) &quot;can&quot;, but not &quot;are obligated to&quot;."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1652644061,"post_id":72251625,"comment_id":127650332,"body_markdown":"Usually you create an ueber jar which contains everything you need within a single jar in cases where you want to create a command like tool (for example spring boot does that) or can be done with maven-shade-plugin.. But usually you only create a single jar which contains on the classes from your `src/main/java` which will be used by others (think of a library). The user of the library can create different things another librarary or create war/ear/ueber jar etc.","body":"Usually you create an ueber jar which contains everything you need within a single jar in cases where you want to create a command like tool (for example spring boot does that) or can be done with maven-shade-plugin.. But usually you only create a single jar which contains on the classes from your <code>src&#47;main&#47;java</code> which will be used by others (think of a library). The user of the library can create different things another librarary or create war/ear/ueber jar etc."},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1652644330,"post_id":72251625,"comment_id":127650389,"body_markdown":"For an *application*, you&#39;re right that most commonly in 2022 people will create an uber jar. Libraries don&#39;t though. Libraries need to provide the flexibility to override a transitive dependency version or omit it entirely, and you lose that ability (or at least, it becomes a lot more difficult) if the transitive dependencies are bundled. There are also other styles of deployment like to an application server like JBoss which provide some or all of the dependencies, where having an uber jar is undesirable.","body":"For an <i>application</i>, you&#39;re right that most commonly in 2022 people will create an uber jar. Libraries don&#39;t though. Libraries need to provide the flexibility to override a transitive dependency version or omit it entirely, and you lose that ability (or at least, it becomes a lot more difficult) if the transitive dependencies are bundled. There are also other styles of deployment like to an application server like JBoss which provide some or all of the dependencies, where having an uber jar is undesirable."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1652645831,"post_id":72251625,"comment_id":127650697,"body_markdown":"in application server there is thing like `war` or `ear` for that purpose..","body":"in application server there is thing like <code>war</code> or <code>ear</code> for that purpose.."}],"answers":[{"tags":[],"owner":{"account_id":3261687,"reputation":317,"user_id":4129917,"display_name":"Tony Weston"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652645546,"creation_date":1652645546,"answer_id":72251864,"question_id":72251625,"body_markdown":"If you have many JVM&#39;s running on a machine, each with its own uberjar, each jar would need to parsed separately. Each would take up its own chunk of memory. There would be no possibility of sharing code between JVM&#39;s, for efficiency. \r\n\r\nIf you instead do two things:\r\n * Move common classes to dependent jars.\r\n * Use Class Data Sharing (CDS) to create a system wide shared archive of those dependent jars.\r\n\r\nThis would mean a much lower memory footprint, for machines with limited memory, since common code is shared between the JVMs.\r\n\r\nHowever today in 2022, where memory is cheap, and where containerised deployment is recommended, and running more than 1 JVM per machine is discouraged, using this strategy probably does not have the advantage that it used to have.\r\n\r\nStick with Uber Jars!\r\n  \r\n","title":"What is the purpose of a JAR file without dependencies?","body":"<p>If you have many JVM's running on a machine, each with its own uberjar, each jar would need to parsed separately. Each would take up its own chunk of memory. There would be no possibility of sharing code between JVM's, for efficiency.</p>\n<p>If you instead do two things:</p>\n<ul>\n<li>Move common classes to dependent jars.</li>\n<li>Use Class Data Sharing (CDS) to create a system wide shared archive of those dependent jars.</li>\n</ul>\n<p>This would mean a much lower memory footprint, for machines with limited memory, since common code is shared between the JVMs.</p>\n<p>However today in 2022, where memory is cheap, and where containerised deployment is recommended, and running more than 1 JVM per machine is discouraged, using this strategy probably does not have the advantage that it used to have.</p>\n<p>Stick with Uber Jars!</p>\n"}],"owner":{"account_id":15176361,"reputation":387,"user_id":16975568,"display_name":"mastercooler6"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":395,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1652645546,"creation_date":1652643470,"question_id":72251625,"body_markdown":"I have always used an uber-jar, created using Maven, but I am starting to wonder why or how do you use JAR files without the dependencies?\r\n\r\nWhat can you do with the jar file that doesn’t have dependencies? Is this to be used in environments known to already have the required dependencies? Or is it possible to install all required dependencies using that jar file and then executing it?","title":"What is the purpose of a JAR file without dependencies?","body":"<p>I have always used an uber-jar, created using Maven, but I am starting to wonder why or how do you use JAR files without the dependencies?</p>\n<p>What can you do with the jar file that doesn’t have dependencies? Is this to be used in environments known to already have the required dependencies? Or is it possible to install all required dependencies using that jar file and then executing it?</p>\n"},{"tags":["java","generics"],"owner":{"account_id":16354206,"reputation":117,"user_id":12465838,"display_name":"vortex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1652652671,"answer_count":0,"score":-1,"last_activity_date":1652644997,"creation_date":1652644057,"question_id":72251702,"body_markdown":"There is class called Foo as following:\r\n```\r\npublic class Foo&lt;E&gt; {\r\n\r\n    private E val;\r\n\r\n    public Foo(E val) {\r\n        this.val = val;\r\n    }\r\n\r\n    public &lt;F&gt; Foo&lt;F&gt; map(Function&lt;? super E, ? extends F&gt; f) {\r\n        Foo&lt;F&gt; res = new Foo&lt;F&gt;(f.apply(this.val));\r\n        return res;\r\n    }\r\n}\r\n```\r\nThen, I call from main:\r\n```\r\n//Main.java\r\nFoo&lt;Integer&gt; foo1 = new Foo&lt;&gt;(2);\r\nFoo&lt;String&gt; foo2 = foo1.map(a -&gt; a.toString());\r\n```\r\nMy example in `Main.java` can also work with `Function&lt;E, F&gt;`. Could you give an example that can work only with `Function&lt;? super E, ? extends F&gt;`?","title":"java type generic: finding an example to show Function&lt;? super E, ? extends F&gt; is a better choice than Function&lt;E, F&gt;?","body":"<p>There is class called Foo as following:</p>\n<pre><code>public class Foo&lt;E&gt; {\n\n    private E val;\n\n    public Foo(E val) {\n        this.val = val;\n    }\n\n    public &lt;F&gt; Foo&lt;F&gt; map(Function&lt;? super E, ? extends F&gt; f) {\n        Foo&lt;F&gt; res = new Foo&lt;F&gt;(f.apply(this.val));\n        return res;\n    }\n}\n</code></pre>\n<p>Then, I call from main:</p>\n<pre><code>//Main.java\nFoo&lt;Integer&gt; foo1 = new Foo&lt;&gt;(2);\nFoo&lt;String&gt; foo2 = foo1.map(a -&gt; a.toString());\n</code></pre>\n<p>My example in <code>Main.java</code> can also work with <code>Function&lt;E, F&gt;</code>. Could you give an example that can work only with <code>Function&lt;? super E, ? extends F&gt;</code>?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8647,"page":1345,"page_size":100}
