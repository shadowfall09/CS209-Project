{"items":[{"tags":["java","ant","dita-ot"],"comments":[{"owner":{"account_id":1111287,"reputation":1809,"user_id":1101698,"display_name":"Radu Coravu"},"score":1,"creation_date":1656498747,"post_id":72790536,"comment_id":128585945,"body_markdown":"So you are running in the command line just &quot;dita -install&quot;, right? Did you make any changes inside the DITA OT folder after downloading it? Do you have in your environmental CLASSPATH variable a reference to an older Saxon installation?","body":"So you are running in the command line just &quot;dita -install&quot;, right? Did you make any changes inside the DITA OT folder after downloading it? Do you have in your environmental CLASSPATH variable a reference to an older Saxon installation?"},{"owner":{"account_id":1084445,"reputation":60,"user_id":1080506,"display_name":"Jason Coleman"},"score":0,"creation_date":1656525337,"post_id":72790536,"comment_id":128596855,"body_markdown":"@radu-coravu The CLASSPATH variable was the issue pointing to a different (though newer) version of Saxon HE. Saxon HE 10.6 is included in the current build of the DITA OT (v3.7.2) where as I had Saxon HE 11.3 on the CLASSPATH. \n\nI also had the Apache XML Resolver on the CLASSPATH and _did_ try removing that, but didn&#39;t think to remove the link to Saxon, which is where the problem was. Thanks!","body":"@radu-coravu The CLASSPATH variable was the issue pointing to a different (though newer) version of Saxon HE. Saxon HE 10.6 is included in the current build of the DITA OT (v3.7.2) where as I had Saxon HE 11.3 on the CLASSPATH.   I also had the Apache XML Resolver on the CLASSPATH and <i>did</i> try removing that, but didn&#39;t think to remove the link to Saxon, which is where the problem was. Thanks!"},{"owner":{"account_id":1111287,"reputation":1809,"user_id":1101698,"display_name":"Radu Coravu"},"score":2,"creation_date":1656579934,"post_id":72790536,"comment_id":128609416,"body_markdown":"With pleasure, the DITA OT Java code is very much connected to the particular Saxon libraries bundled with it. As Saxon changes its APIs quite often, usually changing the Saxon libraries even to a newer version used by the DITA OT is not an option. There is an opened issue to update the DITA OT to Saxon 11 in the future: https://github.com/dita-ot/dita-ot/issues/3868","body":"With pleasure, the DITA OT Java code is very much connected to the particular Saxon libraries bundled with it. As Saxon changes its APIs quite often, usually changing the Saxon libraries even to a newer version used by the DITA OT is not an option. There is an opened issue to update the DITA OT to Saxon 11 in the future: <a href=\"https://github.com/dita-ot/dita-ot/issues/3868\" rel=\"nofollow noreferrer\">github.com/dita-ot/dita-ot/issues/3868</a>"}],"owner":{"account_id":1084445,"reputation":60,"user_id":1080506,"display_name":"Jason Coleman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656435666,"creation_date":1656435666,"question_id":72790536,"body_markdown":"I&#39;m attempting to run a recent version of the DITA Open Toolkit on a new machine. However, I am getting the following error when using the ```dita install``` command via CL:\r\n&gt;```Error: &#39;net.sf.saxon.Configuration.setURIResolver(javax.xml.transform.URIResolver)&#39; ```\r\n\r\nThis error occurs when running HTML5 and XHTML plus CSS sample ant files as well:\r\n&gt;``` BUILD FAILED\r\n&gt; D:\\DITA\\DITA-OT_3.7.2\\docsrc\\samples\\ant_sample\\sample_xhtml_plus_css.xml:11: The following error occurred while executing this line:\r\n&gt; D:\\DITA\\DITA-OT_3.7.2\\plugins\\org.dita.base\\build.xml:29: The following error occurred while executing this line:\r\n&gt; D:\\DITA\\DITA-OT_3.7.2\\plugins\\org.dita.base\\build_init.xml:73: java.lang.NoSuchMethodError: net.sf.saxon.Configuration.setURIResolver(Ljavax/xml/transform/URIResolver;)V\r\n&gt; \tat org.dita.dost.util.XMLUtils.&lt;init&gt;(XMLUtils.java:85)\r\n&gt; \tat org.dita.dost.ant.InitializeProjectTask.execute(InitializeProjectTask.java:46)\r\n&gt; \tat org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:299)\r\n&gt; \tat sun.reflect.GeneratedMethodAccessor7.invoke(Unknown Source)\r\n&gt; \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n&gt; \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n&gt; \tat org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:99)\r\n&gt; \tat org.apache.tools.ant.Task.perform(Task.java:350)\r\n&gt; \tat org.apache.tools.ant.Target.execute(Target.java:449)\r\n&gt; \tat org.apache.tools.ant.Target.performTasks(Target.java:470)\r\n&gt; \tat org.apache.tools.ant.Project.executeSortedTargets(Project.java:1401)\r\n&gt; \tat org.apache.tools.ant.helper.SingleCheckExecutor.executeTargets(SingleCheckExecutor.java:36)\r\n&gt; \tat org.apache.tools.ant.Project.executeTargets(Project.java:1264)\r\n&gt; \tat org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:437)\r\n&gt; \tat org.apache.tools.ant.taskdefs.CallTarget.execute(CallTarget.java:106)\r\n&gt; \tat org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:299)\r\n&gt; \tat sun.reflect.GeneratedMethodAccessor7.invoke(Unknown Source)\r\n&gt; \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n&gt; \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n&gt; \tat org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:99)\r\n&gt; \tat org.apache.tools.ant.Task.perform(Task.java:350)\r\n&gt; \tat org.apache.tools.ant.Target.execute(Target.java:449)\r\n&gt; \tat org.apache.tools.ant.Target.performTasks(Target.java:470)\r\n&gt; \tat org.apache.tools.ant.Project.executeSortedTargets(Project.java:1401)\r\n&gt; \tat org.apache.tools.ant.helper.SingleCheckExecutor.executeTargets(SingleCheckExecutor.java:36)\r\n&gt; \tat org.apache.tools.ant.Project.executeTargets(Project.java:1264)\r\n&gt; \tat org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:437)\r\n&gt; \tat org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:299)\r\n&gt; \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n&gt; \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n&gt; \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n&gt; \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n&gt; \tat org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:99)\r\n&gt; \tat org.apache.tools.ant.Task.perform(Task.java:350)\r\n&gt; \tat org.apache.tools.ant.Target.execute(Target.java:449)\r\n&gt; \tat org.apache.tools.ant.Target.performTasks(Target.java:470)\r\n&gt; \tat org.apache.tools.ant.Project.executeSortedTargets(Project.java:1401)\r\n&gt; \tat org.apache.tools.ant.Project.executeTarget(Project.java:1374)\r\n&gt; \tat org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41)\r\n&gt; \tat org.apache.tools.ant.Project.executeTargets(Project.java:1264)\r\n&gt; \tat org.apache.tools.ant.Main.runBuild(Main.java:818)\r\n&gt; \tat org.apache.tools.ant.Main.startAnt(Main.java:223)\r\n&gt; \tat org.apache.tools.ant.launch.Launcher.run(Launcher.java:284)\r\n&gt; \tat org.apache.tools.ant.launch.Launcher.main(Launcher.java:101)\r\n&gt; \r\n&gt; Total time: 1 second\r\n\r\nI&#39;ve tried using JDK 18, OpenJDK 17, as well as &quot;downgrading&quot; to JDK 13 with the same results (and the same with JRE 1.8).\r\n\r\nI&#39;ve tried with DITA OT builds 3.7.2, 3.6.1, and 3.5.4 all with the same error, as well. I&#39;ve not been able to find anything so far regarding how to troubleshoot this issue nor other options to try. I will note that oXygen 24.1 HTML transformations work normally and I am was able to successfully copy and run the oXygen dita framework independently (though that&#39;s not a practical solution for using the DITA OT).\r\n\r\nSo the question is how can I get the URIResolver to work so that the DITA Open Toolkit will run? TIA.","title":"How do I fix URI Resolver error in DITA OT?","body":"<p>I'm attempting to run a recent version of the DITA Open Toolkit on a new machine. However, I am getting the following error when using the <code>dita install</code> command via CL:</p>\n<blockquote>\n<p><code>Error: 'net.sf.saxon.Configuration.setURIResolver(javax.xml.transform.URIResolver)' </code></p>\n</blockquote>\n<p>This error occurs when running HTML5 and XHTML plus CSS sample ant files as well:</p>\n<blockquote>\n<pre><code>D:\\DITA\\DITA-OT_3.7.2\\docsrc\\samples\\ant_sample\\sample_xhtml_plus_css.xml:11: The following error occurred while executing this line:\nD:\\DITA\\DITA-OT_3.7.2\\plugins\\org.dita.base\\build.xml:29: The following error occurred while executing this line:\nD:\\DITA\\DITA-OT_3.7.2\\plugins\\org.dita.base\\build_init.xml:73: java.lang.NoSuchMethodError: net.sf.saxon.Configuration.setURIResolver(Ljavax/xml/transform/URIResolver;)V\n  at org.dita.dost.util.XMLUtils.&lt;init&gt;(XMLUtils.java:85)\n  at org.dita.dost.ant.InitializeProjectTask.execute(InitializeProjectTask.java:46)\n  at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:299)\n  at sun.reflect.GeneratedMethodAccessor7.invoke(Unknown Source)\n  at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n  at java.lang.reflect.Method.invoke(Unknown Source)\n  at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:99)\n  at org.apache.tools.ant.Task.perform(Task.java:350)\n  at org.apache.tools.ant.Target.execute(Target.java:449)\n  at org.apache.tools.ant.Target.performTasks(Target.java:470)\n  at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1401)\n  at org.apache.tools.ant.helper.SingleCheckExecutor.executeTargets(SingleCheckExecutor.java:36)\n  at org.apache.tools.ant.Project.executeTargets(Project.java:1264)\n  at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:437)\n  at org.apache.tools.ant.taskdefs.CallTarget.execute(CallTarget.java:106)\n  at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:299)\n  at sun.reflect.GeneratedMethodAccessor7.invoke(Unknown Source)\n  at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n  at java.lang.reflect.Method.invoke(Unknown Source)\n  at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:99)\n  at org.apache.tools.ant.Task.perform(Task.java:350)\n  at org.apache.tools.ant.Target.execute(Target.java:449)\n  at org.apache.tools.ant.Target.performTasks(Target.java:470)\n  at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1401)\n  at org.apache.tools.ant.helper.SingleCheckExecutor.executeTargets(SingleCheckExecutor.java:36)\n  at org.apache.tools.ant.Project.executeTargets(Project.java:1264)\n  at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:437)\n  at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:299)\n  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n  at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n  at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n  at java.lang.reflect.Method.invoke(Unknown Source)\n  at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:99)\n  at org.apache.tools.ant.Task.perform(Task.java:350)\n  at org.apache.tools.ant.Target.execute(Target.java:449)\n  at org.apache.tools.ant.Target.performTasks(Target.java:470)\n  at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1401)\n  at org.apache.tools.ant.Project.executeTarget(Project.java:1374)\n  at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41)\n  at org.apache.tools.ant.Project.executeTargets(Project.java:1264)\n  at org.apache.tools.ant.Main.runBuild(Main.java:818)\n  at org.apache.tools.ant.Main.startAnt(Main.java:223)\n  at org.apache.tools.ant.launch.Launcher.run(Launcher.java:284)\n  at org.apache.tools.ant.launch.Launcher.main(Launcher.java:101)\n\nTotal time: 1 second\n</code></pre>\n</blockquote>\n<p>I've tried using JDK 18, OpenJDK 17, as well as &quot;downgrading&quot; to JDK 13 with the same results (and the same with JRE 1.8).</p>\n<p>I've tried with DITA OT builds 3.7.2, 3.6.1, and 3.5.4 all with the same error, as well. I've not been able to find anything so far regarding how to troubleshoot this issue nor other options to try. I will note that oXygen 24.1 HTML transformations work normally and I am was able to successfully copy and run the oXygen dita framework independently (though that's not a practical solution for using the DITA OT).</p>\n<p>So the question is how can I get the URIResolver to work so that the DITA Open Toolkit will run? TIA.</p>\n"},{"tags":["java","regex","split","kotlin"],"answers":[{"tags":[],"owner":{"account_id":10312640,"reputation":29929,"user_id":7607923,"accept_rate":83,"display_name":"holi-java"},"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1499890831,"creation_date":1499883379,"answer_id":45064905,"question_id":45064788,"body_markdown":"you should using `String#split(Regex)` instead, for example:\r\n\r\n    val str = &quot;12+20*/2-4&quot;;\r\n    val arr = str.split(&quot;\\\\p{Punct}&quot;.toRegex());\r\n    //  ^--- but the result is [&quot;12&quot;,&quot;20&quot;,&quot;&quot;,&quot;2&quot;,&quot;4&quot;]\r\n\r\n    val arr2 = arr.filter{ !it.isBlank() };\r\n    //  ^--- you can filter it as further, and result is: [&quot;12&quot;,&quot;20&quot;,&quot;2&quot;,&quot;4&quot;]\r\n\r\n**OR** you can split more *Punctuation*s by using `\\\\p{Punct}+` , for example:\r\n\r\n    val arr = str.split(&quot;\\\\p{Punct}+&quot;.toRegex())\r\n    //  ^--- result is: [&quot;12&quot;,&quot;20&quot;,&quot;2&quot;,&quot;4&quot;]\r\n\r\n**OR** *invert* the regex and using `Regex#findAll` instead, and you can find out the negative numbers in this way. for example:\r\n\r\n    val str =&quot;12+20*/2+(-4)&quot;;\r\n\r\n    val arr =&quot;(?&lt;!\\\\d)-?[^\\\\p{Punct}]+&quot;.toRegex().findAll(str).map{ it.value }.toList()\r\n    //  ^--- result is [&quot;12&quot;,&quot;20&quot;,&quot;2&quot;,&quot;-4&quot;]\r\n    //   negative number is found   ---^\r\n","title":"Why is Kotlin String.split with a regex string not the same as Java?","body":"<p>you should using <code>String#split(Regex)</code> instead, for example:</p>\n\n<pre><code>val str = \"12+20*/2-4\";\nval arr = str.split(\"\\\\p{Punct}\".toRegex());\n//  ^--- but the result is [\"12\",\"20\",\"\",\"2\",\"4\"]\n\nval arr2 = arr.filter{ !it.isBlank() };\n//  ^--- you can filter it as further, and result is: [\"12\",\"20\",\"2\",\"4\"]\n</code></pre>\n\n<p><strong>OR</strong> you can split more <em>Punctuation</em>s by using <code>\\\\p{Punct}+</code> , for example:</p>\n\n<pre><code>val arr = str.split(\"\\\\p{Punct}+\".toRegex())\n//  ^--- result is: [\"12\",\"20\",\"2\",\"4\"]\n</code></pre>\n\n<p><strong>OR</strong> <em>invert</em> the regex and using <code>Regex#findAll</code> instead, and you can find out the negative numbers in this way. for example:</p>\n\n<pre><code>val str =\"12+20*/2+(-4)\";\n\nval arr =\"(?&lt;!\\\\d)-?[^\\\\p{Punct}]+\".toRegex().findAll(str).map{ it.value }.toList()\n//  ^--- result is [\"12\",\"20\",\"2\",\"-4\"]\n//   negative number is found   ---^\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9485358,"reputation":464,"user_id":7051875,"display_name":"tango24"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1499883513,"creation_date":1499883513,"answer_id":45064944,"question_id":45064788,"body_markdown":"You can call \r\n\r\n    str.split(Regex(&quot;{\\\\p{Punct}&quot;))\r\n","title":"Why is Kotlin String.split with a regex string not the same as Java?","body":"<p>You can call </p>\n\n<pre><code>str.split(Regex(\"{\\\\p{Punct}\"))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4620709,"reputation":8655,"user_id":3745896,"accept_rate":93,"display_name":"River"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1541829649,"creation_date":1499883564,"answer_id":45064960,"question_id":45064788,"body_markdown":"For regex behavior, your argument **must** be of type `Regex`, not merely a `String` containing special regex characters.  \r\n\r\nMost string manipulation methods in Kotlin ([`replace`][2], [`split`][3], etc.) can take both `String` and `Regex` arguments, but you must convert your `String` to `Regex` if you want regex-specific matching.\r\n\r\nThis conversion can be done using `String.toRegex()` or `Regex(String)`:\r\n\r\n    val str = &quot;12+20*/2-4&quot;;\r\n    str.split(&quot;\\\\p{Punct}&quot;.toRegex()) //this\r\n    str.split(Regex(&quot;\\\\p{Punct}&quot;)) //or this\r\n\r\n\r\nCurrently [`split`][3] is treating that first backslash as an escape character instead of recognizing it as a special regex sequence.\r\n\r\n---\r\n\r\nas mentioned by @holi-java in [their answer][4] this will match an empty string between `*` and `/` giving `[&quot;12&quot;,&quot;20&quot;,&quot;&quot;,&quot;2&quot;,&quot;4&quot;]`. You can use `&quot;\\\\p{Punct}+&quot;` as your regex to avoid this. (Though note that Java gives the output *with* this empty string unless a `+` is included there as well.)\r\n\r\n\r\n[1]: https://stackoverflow.com/questions/37070352/how-do-i-replace-duplicate-whitespaces-in-a-string-in-kotlin\r\n[2]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/replace.html\r\n[3]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/split.html\r\n[4]: https://stackoverflow.com/a/45064905/3745896","title":"Why is Kotlin String.split with a regex string not the same as Java?","body":"<p>For regex behavior, your argument <strong>must</strong> be of type <code>Regex</code>, not merely a <code>String</code> containing special regex characters.  </p>\n\n<p>Most string manipulation methods in Kotlin (<a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/replace.html\" rel=\"noreferrer\"><code>replace</code></a>, <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/split.html\" rel=\"noreferrer\"><code>split</code></a>, etc.) can take both <code>String</code> and <code>Regex</code> arguments, but you must convert your <code>String</code> to <code>Regex</code> if you want regex-specific matching.</p>\n\n<p>This conversion can be done using <code>String.toRegex()</code> or <code>Regex(String)</code>:</p>\n\n<pre><code>val str = \"12+20*/2-4\";\nstr.split(\"\\\\p{Punct}\".toRegex()) //this\nstr.split(Regex(\"\\\\p{Punct}\")) //or this\n</code></pre>\n\n<p>Currently <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/split.html\" rel=\"noreferrer\"><code>split</code></a> is treating that first backslash as an escape character instead of recognizing it as a special regex sequence.</p>\n\n<hr>\n\n<p>as mentioned by @holi-java in <a href=\"https://stackoverflow.com/a/45064905/3745896\">their answer</a> this will match an empty string between <code>*</code> and <code>/</code> giving <code>[\"12\",\"20\",\"\",\"2\",\"4\"]</code>. You can use <code>\"\\\\p{Punct}+\"</code> as your regex to avoid this. (Though note that Java gives the output <em>with</em> this empty string unless a <code>+</code> is included there as well.)</p>\n"},{"tags":[],"owner":{"account_id":2023658,"reputation":4118,"user_id":1809268,"accept_rate":22,"display_name":"Ajith M A"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656435486,"creation_date":1656435486,"answer_id":72790504,"question_id":45064788,"body_markdown":"From Kotlin 1.6 there is a better and easier way of doing this.\r\n\r\n\r\n    fun main() {\r\n        val str = &quot;12+20*/2-4&quot;\r\n    \tval regex = &quot;\\\\p{Punct}&quot;.toRegex()\r\n    \tvar arr = str.splitToSequence(regex);\r\n        arr.forEach(){\r\n                println(it.toString())\r\n        }\r\n    }\r\n\r\n**Reference:** https://kotlinlang.org/docs/whatsnew16.html#splitting-regex-into-a-sequence","title":"Why is Kotlin String.split with a regex string not the same as Java?","body":"<p>From Kotlin 1.6 there is a better and easier way of doing this.</p>\n<pre><code>fun main() {\n    val str = &quot;12+20*/2-4&quot;\n    val regex = &quot;\\\\p{Punct}&quot;.toRegex()\n    var arr = str.splitToSequence(regex);\n    arr.forEach(){\n            println(it.toString())\n    }\n}\n</code></pre>\n<p><strong>Reference:</strong> <a href=\"https://kotlinlang.org/docs/whatsnew16.html#splitting-regex-into-a-sequence\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/whatsnew16.html#splitting-regex-into-a-sequence</a></p>\n"}],"owner":{"account_id":10079090,"reputation":287,"user_id":7450104,"accept_rate":75,"display_name":"Ilya Fedoseev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18480,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":45064905,"answer_count":4,"score":25,"last_activity_date":1656435486,"creation_date":1499882960,"question_id":45064788,"body_markdown":"I have the following Java code:\r\n\r\n    String str = &quot;12+20*/2-4&quot;;\r\n    List&lt;String&gt; arr = new ArrayList&lt;&gt;();\r\n\r\n    arr = str.split(&quot;\\\\p{Punct}&quot;);\r\n\r\n    //expected: arr = {12,20,2,4}\r\n\r\nI want the equivalent Kotlin code, but `.split(&quot;\\\\p{Punct}&quot;)` doesn&#39;t work. I don&#39;t understand the documentation here: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/split.html\r\n\r\n\r\n    ","title":"Why is Kotlin String.split with a regex string not the same as Java?","body":"<p>I have the following Java code:</p>\n\n<pre><code>String str = \"12+20*/2-4\";\nList&lt;String&gt; arr = new ArrayList&lt;&gt;();\n\narr = str.split(\"\\\\p{Punct}\");\n\n//expected: arr = {12,20,2,4}\n</code></pre>\n\n<p>I want the equivalent Kotlin code, but <code>.split(\"\\\\p{Punct}\")</code> doesn't work. I don't understand the documentation here: <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/split.html\" rel=\"noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/split.html</a></p>\n"},{"tags":["java","itext"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1654857800,"post_id":72572732,"comment_id":128197859,"body_markdown":"Instead of `RenderListener` implement `ExtRenderListener` (which extends the former). This interface also gets informed about drawn paths.","body":"Instead of <code>RenderListener</code> implement <code>ExtRenderListener</code> (which extends the former). This interface also gets informed about drawn paths."},{"owner":{"account_id":8204014,"reputation":513,"user_id":6174386,"display_name":"Herv&#233; Girod"},"score":0,"creation_date":1654872559,"post_id":72572732,"comment_id":128203404,"body_markdown":"Thanks! I am in the process of using the additional methods in this interface","body":"Thanks! I am in the process of using the additional methods in this interface"}],"answers":[{"tags":[],"owner":{"account_id":8204014,"reputation":513,"user_id":6174386,"display_name":"Herv&#233; Girod"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656435276,"creation_date":1656435276,"answer_id":72790454,"question_id":72572732,"body_markdown":"Per mkl comment, by using `ExtRenderListener` I am able to get the geometries. I used https://stackoverflow.com/questions/41728853/how-to-extract-the-color-of-a-rectangle-in-a-pdf-with-itext for reference","title":"How to use iText to parse paths (such as lines in the document)","body":"<p>Per mkl comment, by using <code>ExtRenderListener</code> I am able to get the geometries. I used <a href=\"https://stackoverflow.com/questions/41728853/how-to-extract-the-color-of-a-rectangle-in-a-pdf-with-itext\">How to extract the color of a rectangle in a PDF, with iText</a> for reference</p>\n"}],"owner":{"account_id":8204014,"reputation":513,"user_id":6174386,"display_name":"Herv&#233; Girod"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72790454,"answer_count":1,"score":0,"last_activity_date":1656435276,"creation_date":1654856656,"question_id":72572732,"body_markdown":"I am using iText to parse text in a PDF document, and i am using `PdfContentStreamProcessor` with a `RenderListener`. Such as:\r\n\r\n      PdfReader reader = new PdfReader(file.toURI().toURL());\r\n      int numberOfPages = reader.getNumberOfPages();\r\n      MyRenderListener listener = new MyRenderListener ();\r\n      PdfContentStreamProcessor processor = new PdfContentStreamProcessor(listener);\r\n      for (int pageNumber = 1; pageNumber &lt;= numberOfPages; pageNumber++) {\r\n         PdfDictionary pageDic = reader.getPageN(pageNumber);\r\n         PdfDictionary resourcesDic = pageDic.getAsDict(PdfName.RESOURCES);\r\n         Rectangle pageSize = reader.getPageSize(pageNumber);\r\n         listener.startPage(pageNumber, pageSize);\r\n         processor.processContent(ContentByteUtils.getContentBytesForPage(reader, pageNumber), resourcesDic);\r\n      }\r\n\r\nI have no problem to get the text with the `renderText(TextRenderInfo)` method, but how do I parse the graphic content appart from images? For example in my case I would like to get:\r\n\r\n - Text content which is in a box  \r\n - Horizontal lines","title":"How to use iText to parse paths (such as lines in the document)","body":"<p>I am using iText to parse text in a PDF document, and i am using <code>PdfContentStreamProcessor</code> with a <code>RenderListener</code>. Such as:</p>\n<pre><code>  PdfReader reader = new PdfReader(file.toURI().toURL());\n  int numberOfPages = reader.getNumberOfPages();\n  MyRenderListener listener = new MyRenderListener ();\n  PdfContentStreamProcessor processor = new PdfContentStreamProcessor(listener);\n  for (int pageNumber = 1; pageNumber &lt;= numberOfPages; pageNumber++) {\n     PdfDictionary pageDic = reader.getPageN(pageNumber);\n     PdfDictionary resourcesDic = pageDic.getAsDict(PdfName.RESOURCES);\n     Rectangle pageSize = reader.getPageSize(pageNumber);\n     listener.startPage(pageNumber, pageSize);\n     processor.processContent(ContentByteUtils.getContentBytesForPage(reader, pageNumber), resourcesDic);\n  }\n</code></pre>\n<p>I have no problem to get the text with the <code>renderText(TextRenderInfo)</code> method, but how do I parse the graphic content appart from images? For example in my case I would like to get:</p>\n<ul>\n<li>Text content which is in a box</li>\n<li>Horizontal lines</li>\n</ul>\n"},{"tags":["java","pdf","itext"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1656224518,"post_id":72733501,"comment_id":128516392,"body_markdown":"*&quot;But the color is always null.&quot;* - That may happen if the color in question is not defined in a *DeviceGray*, *DeviceRGB*, or *DeviceCMYK* colorspace but in some other space. Please share your test PDF for analysis.","body":"<i>&quot;But the color is always null.&quot;</i> - That may happen if the color in question is not defined in a <i>DeviceGray</i>, <i>DeviceRGB</i>, or <i>DeviceCMYK</i> colorspace but in some other space. Please share your test PDF for analysis."},{"owner":{"account_id":8204014,"reputation":513,"user_id":6174386,"display_name":"Herv&#233; Girod"},"score":0,"creation_date":1656338478,"post_id":72733501,"comment_id":128540767,"body_markdown":"You are right I think, I can&#39;t share the PDF, but what I did is printing part of the content of the  file on PDF using Acrobat Reader, and the BaseColor was not null in the resulting PDF. I think that Acrobat convert the colorspace to a &quot;default&quot; colorspace when printing the content, presumably to make sure that the colors are OK on any printers","body":"You are right I think, I can&#39;t share the PDF, but what I did is printing part of the content of the  file on PDF using Acrobat Reader, and the BaseColor was not null in the resulting PDF. I think that Acrobat convert the colorspace to a &quot;default&quot; colorspace when printing the content, presumably to make sure that the colors are OK on any printers"}],"answers":[{"tags":[],"owner":{"account_id":8204014,"reputation":513,"user_id":6174386,"display_name":"Herv&#233; Girod"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656435166,"creation_date":1656435166,"answer_id":72790431,"question_id":72733501,"body_markdown":"Per mkl remark, I saved the PDF document to another document using Acrobat Reader (print option) or Edge, and I have not null colors in the resulting document.","title":"How to get a BaseColor from a color source in iText","body":"<p>Per mkl remark, I saved the PDF document to another document using Acrobat Reader (print option) or Edge, and I have not null colors in the resulting document.</p>\n"}],"owner":{"account_id":8204014,"reputation":513,"user_id":6174386,"display_name":"Herv&#233; Girod"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72790431,"answer_count":1,"score":0,"last_activity_date":1656435166,"creation_date":1656001176,"question_id":72733501,"body_markdown":"I am parsing a PDF document with iText, and I want to know the colors for lines and rectangles in the pages. I am using this code which does the parsing:\r\n\r\n\r\n    private PdfDictionary getColorDictionary(PdfDictionary resourcesDic) {\r\n       PdfDictionary colorDict = resourcesDic.getAsDict(PdfName.COLORSPACE);\r\n       return colorDict;\r\n    }\r\n\r\n    public void decode(File file) throws IOException {\r\n       PdfReader reader = new PdfReader(file.toURI().toURL());\r\n       int numberOfPages = reader.getNumberOfPages();\r\n       ProcessorListener listener = new ProcessorListener ();\r\n       PdfContentStreamProcessor processor = new PdfContentStreamProcessor(listener);\r\n       for (int pageNumber = 1; pageNumber &lt;= numberOfPages; pageNumber++) {\r\n          PdfDictionary pageDic = reader.getPageN(pageNumber);\r\n          PdfDictionary resourcesDic = pageDic.getAsDict(PdfName.RESOURCES);\r\n          PdfDictionary colorSpaceDic = getColorDictionary(resourcesDic);\r\n          listener.setResources(colorSpaceDic);\r\n          processor.processContent(ContentByteUtils.getContentBytesForPage(reader, pageNumber), resourcesDic);\r\n       } \r\n    }\r\n\r\nMy listener has the following code, I simplified it to show only the part which gets the graphics elements in each page:\r\n\r\n    public class ProcessorListener implements ExtRenderListener {\r\n      private PdfDictionary colorSpaceDic = null;\r\n\r\n      public void setResources(PdfDictionary colorSpaceDic) {\r\n         this.colorSpaceDic = colorSpaceDic;\r\n      }\r\n\r\n       @Override\r\n       public void beginTextBlock() {\r\n       }\r\n    \r\n       @Override\r\n       public void renderText(TextRenderInfo tri) {\r\n       }\r\n    \r\n       @Override\r\n       public void renderImage(ImageRenderInfo iri) {\r\n       }\r\n    \r\n       @Override\r\n       public Path renderPath(PathPaintingRenderInfo renderInfo) {\r\n          GraphicsState graphicsState;\r\n          try {\r\n             graphicsState = getGraphicsState(renderInfo);\r\n          } catch (NoSuchFieldException | SecurityException | IllegalArgumentException | IllegalAccessException e) {\r\n             return null;\r\n          }\r\n    \r\n          if ((renderInfo.getOperation() &amp; PathPaintingRenderInfo.STROKE) != 0) {\r\n             PdfName resource = graphicsState.getColorSpaceStroke();\r\n             if (resource != null &amp;&amp; colorSpaceDic != null) {\r\n                PdfObject obj = colorSpaceDic.get(resource);\r\n                System.err.println(&quot;STROKE: &quot; + obj);\r\n             }\r\n          }\r\n          if ((renderInfo.getOperation() &amp; PathPaintingRenderInfo.FILL) != 0) {\r\n             PdfName resource = graphicsState.getColorSpaceStroke();\r\n             if (resource != null &amp;&amp; colorSpaceDic != null) {\r\n                PdfObject obj = colorSpaceDic.get(resource);\r\n                System.err.println(&quot;FILL: &quot; + obj);\r\n             }\r\n          }\r\n       }\r\n       return null;\r\n    }\r\n\r\nThis code executes correctly, but each `PDFObject` associated with afill or stroke is a `PRIndirectReference`. How to I get the `BaseColor` associated with this reference?\r\n\r\nAlso I tried to use the following code (for example for the Fill):\r\n\r\n    BaseColor fillColor = graphicsState.getFillColor();\r\n\r\nBut the color is always null. There are not only black shapes in the document (which I assume is the default), but also green or blue lines as well.\r\n\r\n","title":"How to get a BaseColor from a color source in iText","body":"<p>I am parsing a PDF document with iText, and I want to know the colors for lines and rectangles in the pages. I am using this code which does the parsing:</p>\n<pre><code>private PdfDictionary getColorDictionary(PdfDictionary resourcesDic) {\n   PdfDictionary colorDict = resourcesDic.getAsDict(PdfName.COLORSPACE);\n   return colorDict;\n}\n\npublic void decode(File file) throws IOException {\n   PdfReader reader = new PdfReader(file.toURI().toURL());\n   int numberOfPages = reader.getNumberOfPages();\n   ProcessorListener listener = new ProcessorListener ();\n   PdfContentStreamProcessor processor = new PdfContentStreamProcessor(listener);\n   for (int pageNumber = 1; pageNumber &lt;= numberOfPages; pageNumber++) {\n      PdfDictionary pageDic = reader.getPageN(pageNumber);\n      PdfDictionary resourcesDic = pageDic.getAsDict(PdfName.RESOURCES);\n      PdfDictionary colorSpaceDic = getColorDictionary(resourcesDic);\n      listener.setResources(colorSpaceDic);\n      processor.processContent(ContentByteUtils.getContentBytesForPage(reader, pageNumber), resourcesDic);\n   } \n}\n</code></pre>\n<p>My listener has the following code, I simplified it to show only the part which gets the graphics elements in each page:</p>\n<pre><code>public class ProcessorListener implements ExtRenderListener {\n  private PdfDictionary colorSpaceDic = null;\n\n  public void setResources(PdfDictionary colorSpaceDic) {\n     this.colorSpaceDic = colorSpaceDic;\n  }\n\n   @Override\n   public void beginTextBlock() {\n   }\n\n   @Override\n   public void renderText(TextRenderInfo tri) {\n   }\n\n   @Override\n   public void renderImage(ImageRenderInfo iri) {\n   }\n\n   @Override\n   public Path renderPath(PathPaintingRenderInfo renderInfo) {\n      GraphicsState graphicsState;\n      try {\n         graphicsState = getGraphicsState(renderInfo);\n      } catch (NoSuchFieldException | SecurityException | IllegalArgumentException | IllegalAccessException e) {\n         return null;\n      }\n\n      if ((renderInfo.getOperation() &amp; PathPaintingRenderInfo.STROKE) != 0) {\n         PdfName resource = graphicsState.getColorSpaceStroke();\n         if (resource != null &amp;&amp; colorSpaceDic != null) {\n            PdfObject obj = colorSpaceDic.get(resource);\n            System.err.println(&quot;STROKE: &quot; + obj);\n         }\n      }\n      if ((renderInfo.getOperation() &amp; PathPaintingRenderInfo.FILL) != 0) {\n         PdfName resource = graphicsState.getColorSpaceStroke();\n         if (resource != null &amp;&amp; colorSpaceDic != null) {\n            PdfObject obj = colorSpaceDic.get(resource);\n            System.err.println(&quot;FILL: &quot; + obj);\n         }\n      }\n   }\n   return null;\n}\n</code></pre>\n<p>This code executes correctly, but each <code>PDFObject</code> associated with afill or stroke is a <code>PRIndirectReference</code>. How to I get the <code>BaseColor</code> associated with this reference?</p>\n<p>Also I tried to use the following code (for example for the Fill):</p>\n<pre><code>BaseColor fillColor = graphicsState.getFillColor();\n</code></pre>\n<p>But the color is always null. There are not only black shapes in the document (which I assume is the default), but also green or blue lines as well.</p>\n"},{"tags":["java","swing","jpanel","jscrollpane"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1654837777,"post_id":72569208,"comment_id":128191881,"body_markdown":"In your code example, you only add the chatPanel to the scrollPane. If you also want your chat radio buttons (Not JButtons?) in a scroll panel, then you&#39;ll need to create another scrollPane to put them into?","body":"In your code example, you only add the chatPanel to the scrollPane. If you also want your chat radio buttons (Not JButtons?) in a scroll panel, then you&#39;ll need to create another scrollPane to put them into?"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1654837870,"post_id":72569208,"comment_id":128191900,"body_markdown":"[How to Use Scroll Panes](https://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html)","body":"<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html\" rel=\"nofollow noreferrer\">How to Use Scroll Panes</a>"},{"owner":{"account_id":25521613,"reputation":1,"user_id":19311376,"display_name":"M o"},"score":0,"creation_date":1655148000,"post_id":72569208,"comment_id":128258273,"body_markdown":"My problem isn&#39;t with the JButtons or RadioButtons it&#39;s just that I don&#39;t know how to add a JScrollPane to my Jpanel because whenever I try to do so, nothing shows up. (Not even the JPanel)","body":"My problem isn&#39;t with the JButtons or RadioButtons it&#39;s just that I don&#39;t know how to add a JScrollPane to my Jpanel because whenever I try to do so, nothing shows up. (Not even the JPanel)"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1656435220,"post_id":72569208,"comment_id":128569765,"body_markdown":"For better help sooner, [edit] to add a [mre]. And a tip: add @MadProgrammer (or whoever, the `@` is important) to *notify* someone of a new comment.","body":"For better help sooner, <a href=\"https://stackoverflow.com/posts/72569208/edit\">edit</a> to add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. And a tip: add @MadProgrammer (or whoever, the <code>@</code> is important) to <i>notify</i> someone of a new comment."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1656454003,"post_id":72569208,"comment_id":128575459,"body_markdown":"Don&#39;t do `scrollPane.add(chatPanel);` and make sure you add the scroll pane to something. `setPreferredSize` isn&#39;t a great idea either","body":"Don&#39;t do <code>scrollPane.add(chatPanel);</code> and make sure you add the scroll pane to something. <code>setPreferredSize</code> isn&#39;t a great idea either"}],"owner":{"account_id":25521613,"reputation":1,"user_id":19311376,"display_name":"M o"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656435125,"creation_date":1654836572,"question_id":72569208,"body_markdown":"I am making a chatbot using a Java GUI template and everything works fine it&#39;s just that I am unable to add a `JScrollPane` to a `JPanel` that was created in a customizer class. I want the panel to have a scroll bar only if the number of `JButton` controls (in the form of chats) exceeds the size of the panel. This panel is in the second screen of my GUI. \r\n\r\nDoes it have anything to do with the fact that my GUI has 2 screens? This is the code in my View Outputs and I&#39;m wondering what I can do to make it work?\r\n\r\n```\r\npublic ViewOutputs() {\r\n\r\n        chatPanel.setLayout(new BoxLayout(chatPanel, BoxLayout.PAGE_AXIS));\r\n        chatPanel.setOpaque(true);\r\n\r\n        chatPanel.setPreferredSize(new Dimension(450, 349));\r\n        chatPanel.setBackground(Color.WHITE);\r\n\r\n        chatPanel.setBorder(LineBorder.createBlackLineBorder());\r\n\r\n        JScrollPane scrollPane = new JScrollPane(chatPanel, ScrollPaneConstants.VERTICAL_SCROLLBAR_AS_NEEDED, ScrollPaneConstants.HORIZONTAL_SCROLLBAR_AS_NEEDED);\r\n\r\n        scrollPane.setPreferredSize(new Dimension(450, 349));\r\n\r\n        scrollPane.add(chatPanel);\r\n        scrollPane.setVisible(true);\r\n\r\n}\r\n```\r\n\r\nThis is what runs without adding any JScrollPane. \r\n[Screen 2 of my Java GUI Chatbot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5hMow.png","title":"How do I add a JScrollPane to this JPanel?","body":"<p>I am making a chatbot using a Java GUI template and everything works fine it's just that I am unable to add a <code>JScrollPane</code> to a <code>JPanel</code> that was created in a customizer class. I want the panel to have a scroll bar only if the number of <code>JButton</code> controls (in the form of chats) exceeds the size of the panel. This panel is in the second screen of my GUI.</p>\n<p>Does it have anything to do with the fact that my GUI has 2 screens? This is the code in my View Outputs and I'm wondering what I can do to make it work?</p>\n<pre><code>public ViewOutputs() {\n\n        chatPanel.setLayout(new BoxLayout(chatPanel, BoxLayout.PAGE_AXIS));\n        chatPanel.setOpaque(true);\n\n        chatPanel.setPreferredSize(new Dimension(450, 349));\n        chatPanel.setBackground(Color.WHITE);\n\n        chatPanel.setBorder(LineBorder.createBlackLineBorder());\n\n        JScrollPane scrollPane = new JScrollPane(chatPanel, ScrollPaneConstants.VERTICAL_SCROLLBAR_AS_NEEDED, ScrollPaneConstants.HORIZONTAL_SCROLLBAR_AS_NEEDED);\n\n        scrollPane.setPreferredSize(new Dimension(450, 349));\n\n        scrollPane.add(chatPanel);\n        scrollPane.setVisible(true);\n\n}\n</code></pre>\n<p>This is what runs without adding any JScrollPane.\n<a href=\"https://i.stack.imgur.com/5hMow.png\" rel=\"nofollow noreferrer\">Screen 2 of my Java GUI Chatbot</a></p>\n"},{"tags":["java","metrics","dropwizard","codahale-metrics"],"comments":[{"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"score":0,"creation_date":1656434264,"post_id":72789820,"comment_id":128569466,"body_markdown":"What is unclear about the getting started guide? It contains examples on how to add metrics in code, and multiple options to retrieve metrics report (console, http or jmx). Please describe the problem you’re facing and what you have tried.","body":"What is unclear about the getting started guide? It contains examples on how to add metrics in code, and multiple options to retrieve metrics report (console, http or jmx). Please describe the problem you’re facing and what you have tried."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1656434467,"post_id":72789820,"comment_id":128569528,"body_markdown":"@slindenau I have metrics in code and  I see them in console after adding ConsoleReporter. It is clear. Now I want to execute GET request and receive metrics. In guide I&#39;ve found that only dependency is required.  But where I can find metrics ? what URL should I use ?","body":"@slindenau I have metrics in code and  I see them in console after adding ConsoleReporter. It is clear. Now I want to execute GET request and receive metrics. In guide I&#39;ve found that only dependency is required.  But where I can find metrics ? what URL should I use ?"},{"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"score":0,"creation_date":1656434666,"post_id":72789820,"comment_id":128569590,"body_markdown":"Quote from the bottom of the page: `From there on, you can map the servlet to whatever path you see fit`. Looks like you need to manually map it.","body":"Quote from the bottom of the page: <code>From there on, you can map the servlet to whatever path you see fit</code>. Looks like you need to manually map it."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1656434942,"post_id":72789820,"comment_id":128569672,"body_markdown":"@slindenau\nWhich Servlet ? I AdminServlet ? MetricsServlet ?","body":"@slindenau Which Servlet ? I AdminServlet ? MetricsServlet ?"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1656435143,"post_id":72789820,"comment_id":128569731,"body_markdown":"@slindenau Thanks, it helped https://stackoverflow.com/a/72790421/2674303","body":"@slindenau Thanks, it helped <a href=\"https://stackoverflow.com/a/72790421/2674303\">stackoverflow.com/a/72790421/2674303</a>"}],"answers":[{"tags":[],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656435110,"creation_date":1656435110,"answer_id":72790421,"question_id":72789820,"body_markdown":"I was not able to register AdminServlet but this helped me:\r\n\r\n    @Bean\r\n    public ServletRegistrationBean servletRegistrationBean(MetricRegistry metricRegistry){\r\n        return new ServletRegistrationBean(new MetricsServlet(metricRegistry),&quot;/metrics/*&quot;);\r\n    }","title":"How to expose metrics to http in dropwizard?","body":"<p>I was not able to register AdminServlet but this helped me:</p>\n<pre><code>@Bean\npublic ServletRegistrationBean servletRegistrationBean(MetricRegistry metricRegistry){\n    return new ServletRegistrationBean(new MetricsServlet(metricRegistry),&quot;/metrics/*&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72790421,"answer_count":1,"score":0,"last_activity_date":1656435110,"creation_date":1656432370,"question_id":72789820,"body_markdown":"I am reading following document:   \r\nhttps://metrics.dropwizard.io/4.2.0/getting-started.html\r\n\r\n\r\nI&#39;ve added \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.dropwizard.metrics&lt;/groupId&gt;\r\n        &lt;artifactId&gt;metrics-servlets&lt;/artifactId&gt;\r\n        &lt;version&gt;${metrics.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nBut what to do next ? How to access metrics ?\r\n","title":"How to expose metrics to http in dropwizard?","body":"<p>I am reading following document:<br />\n<a href=\"https://metrics.dropwizard.io/4.2.0/getting-started.html\" rel=\"nofollow noreferrer\">https://metrics.dropwizard.io/4.2.0/getting-started.html</a></p>\n<p>I've added</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.dropwizard.metrics&lt;/groupId&gt;\n    &lt;artifactId&gt;metrics-servlets&lt;/artifactId&gt;\n    &lt;version&gt;${metrics.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>But what to do next ? How to access metrics ?</p>\n"},{"tags":["java","spring","jakarta-mail"],"answers":[{"tags":[],"owner":{"account_id":1032936,"reputation":29659,"user_id":1040885,"display_name":"Bill Shannon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1524170248,"creation_date":1524170248,"answer_id":49929840,"question_id":49917576,"body_markdown":"Try this:\r\n\r\n    attachPart.setContent(filePath.getBytes(), filePath.getContentType());\r\n    attachPart.setFileName(filePath.getOriginalFilename());\r\n    attachPart.setDisposition(Part.ATTACHMENT);\r\n                        ","title":"email sending with multiple attachments using MultipartFile","body":"<p>Try this:</p>\n\n<pre><code>attachPart.setContent(filePath.getBytes(), filePath.getContentType());\nattachPart.setFileName(filePath.getOriginalFilename());\nattachPart.setDisposition(Part.ATTACHMENT);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1682106,"reputation":3953,"user_id":1546137,"accept_rate":67,"display_name":"ihebiheb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557423892,"creation_date":1557423892,"answer_id":56064892,"question_id":49917576,"body_markdown":"In my case, the answer of @Bill Shannon give me the error `&quot;java.io.IOException: “text/plain” DataContentHandler requires String object, was given object of type class [B&quot;`\r\n\r\nI modified the code like this :\r\n\r\n            \r\n\r\n    DataSource ds = new ByteArrayDataSource(filePath.getBytes(), filePath.getContentType());\r\n    attachPart.setDataHandler(new DataHandler(ds));\r\n    attachPart.setFileName(filePath.getOriginalFilename());\r\n    attachPart.setDisposition(Part.ATTACHMENT);","title":"email sending with multiple attachments using MultipartFile","body":"<p>In my case, the answer of @Bill Shannon give me the error <code>\"java.io.IOException: “text/plain” DataContentHandler requires String object, was given object of type class [B\"</code></p>\n\n<p>I modified the code like this :</p>\n\n<pre><code>DataSource ds = new ByteArrayDataSource(filePath.getBytes(), filePath.getContentType());\nattachPart.setDataHandler(new DataHandler(ds));\nattachPart.setFileName(filePath.getOriginalFilename());\nattachPart.setDisposition(Part.ATTACHMENT);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1324115,"reputation":844,"user_id":1269333,"accept_rate":50,"display_name":"Vlad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619265612,"creation_date":1619265612,"answer_id":67242544,"question_id":49917576,"body_markdown":"If you are using Spring, then you can use `JavaMailSenderImpl` and `MimeMessageHelper`:\r\n\r\n    JavaMailSenderImpl mailSender = new JavaMailSenderImpl();\r\n    MimeMessage mailMessage = mailSender.createMimeMessage();\r\n    MimeMessageHelper helper = new MimeMessageHelper(mailMessage, true);\r\n    helper.addAttachment(&quot;fileName&quot;, filePath);\r\n    mailSender.send(mailMessage);","title":"email sending with multiple attachments using MultipartFile","body":"<p>If you are using Spring, then you can use <code>JavaMailSenderImpl</code> and <code>MimeMessageHelper</code>:</p>\n<pre><code>JavaMailSenderImpl mailSender = new JavaMailSenderImpl();\nMimeMessage mailMessage = mailSender.createMimeMessage();\nMimeMessageHelper helper = new MimeMessageHelper(mailMessage, true);\nhelper.addAttachment(&quot;fileName&quot;, filePath);\nmailSender.send(mailMessage);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8132455,"reputation":423,"user_id":6125259,"display_name":"Vinay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656435088,"creation_date":1656435088,"answer_id":72790415,"question_id":49917576,"body_markdown":"        List&lt;MultipartFile&gt; attachments = /* this will be input for multiple files */\r\n        Multipart multipart = new MimeMultipart();\r\n        MimeBodyPart mimeBodyPart = new MimeBodyPart();\r\n        mimeBodyPart.setContent(/* email content */, &quot;text/html&quot;);\r\n        multipart.addBodyPart(mimeBodyPart);\r\n        for(int i = 0 ; i &lt; attachments.size() ; i++) {\r\n            mimeBodyPart = new MimeBodyPart();\r\n            DataSource source = new ByteArrayDataSource(attachments.get(i).getBytes(), attachments.get(i).getContentType());\r\n            mimeBodyPart.setDataHandler(new DataHandler(source));\r\n            mimeBodyPart.setFileName(attachments.get(i).getOriginalFilename());\r\n            multipart.addBodyPart(mimeBodyPart);\r\n        }\r\n\r\n        email.setContent(multipart);\r\n","title":"email sending with multiple attachments using MultipartFile","body":"<pre><code>    List&lt;MultipartFile&gt; attachments = /* this will be input for multiple files */\n    Multipart multipart = new MimeMultipart();\n    MimeBodyPart mimeBodyPart = new MimeBodyPart();\n    mimeBodyPart.setContent(/* email content */, &quot;text/html&quot;);\n    multipart.addBodyPart(mimeBodyPart);\n    for(int i = 0 ; i &lt; attachments.size() ; i++) {\n        mimeBodyPart = new MimeBodyPart();\n        DataSource source = new ByteArrayDataSource(attachments.get(i).getBytes(), attachments.get(i).getContentType());\n        mimeBodyPart.setDataHandler(new DataHandler(source));\n        mimeBodyPart.setFileName(attachments.get(i).getOriginalFilename());\n        multipart.addBodyPart(mimeBodyPart);\n    }\n\n    email.setContent(multipart);\n</code></pre>\n"}],"owner":{"account_id":7506867,"reputation":31,"user_id":5703122,"display_name":"Mounika Gaja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4542,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":49929840,"answer_count":4,"score":2,"last_activity_date":1656435088,"creation_date":1524130336,"question_id":49917576,"body_markdown":"I am using MultipartFile to send an email with multiple attachments. my code is working fine but I am storing each file in my project then I am attaching. I don&#39;t want to store that file anywhere instead I want the file directly send to the recipients.\r\nMy code is,\r\n\r\nController:\r\n       \r\n    @RequestMapping(value=&quot;/sendEmailAttachment&quot;,method=RequestMethod.POST)\r\n\tpublic @ResponseBody Response sendEmail(@RequestParam(&quot;file&quot;) MultipartFile[] file,@ModelAttribute Email email) {\r\n\t\tSendEmail mail = new SendEmail();\r\n\t\treturn mail.sendEmail(email,file);\r\n\t}\r\n\r\nService:\r\n\r\n    public Response sendEmail(Email email,MultipartFile[] attachFiles) {\r\n\tusername = email.getUsername();\r\n\tpassword = email.getPassword();\r\n\tswitch (email.getDomain()) {\r\n\tcase &quot;1and1.com&quot;:\r\n\t\thost = &quot;smtp.1and1.com&quot;;\r\n\t\tbreak;\r\n\tcase &quot;gmail.com&quot;:\r\n\t\thost = &quot;smtp.gmail.com&quot;;\r\n\t\tbreak;\r\n\tcase &quot;yahoo.com&quot;:\r\n\t\thost = &quot;smtp.mail.yahoo.com&quot;;\r\n\t\tbreak;\r\n\tcase &quot;rediffmail.com&quot;:\r\n\t\thost = &quot;smtp.rediffmail.com&quot;;\r\n\t\tbreak;\r\n\tdefault:\r\n\t\thost = &quot;smtp.1and1.com&quot;;\r\n\t\tusername=&quot;support@gmail.com&quot;;\r\n\t\tpassword=&quot;************&quot;;\r\n\t\tbreak;\r\n\t}\r\n\tprops.put(&quot;mail.smtp.host&quot;, host);\r\n\t\tResponse response = new Response();\r\n\t\t\t\r\n\t         Session session = Session.getInstance(props,\r\n\t                  new javax.mail.Authenticator() {\r\n\t                    protected PasswordAuthentication getPasswordAuthentication() {\r\n\t                        return new PasswordAuthentication(username, password);\r\n\t                    }\r\n\t                  });\r\n\t         try {\r\n\t             // Create a default MimeMessage object.\r\n\t             Message message = new MimeMessage(session);\r\n\t             InternetAddress[] myToList = InternetAddress.parse(email.getTo());\r\n\t\t            InternetAddress[] myBccList = InternetAddress.parse(email.getBcc());\r\n\t\t            InternetAddress[] myCcList = InternetAddress.parse(email.getCc());\r\n\t             // Set From: header field of the header.\r\n\t             message.setFrom(new InternetAddress(email.getUsername()));\r\n\r\n\t             // Set To: header field of the header.\r\n\t             message.setRecipients(Message.RecipientType.TO,myToList);\r\n\t\t            message.setRecipients(Message.RecipientType.BCC, myBccList);\r\n\t\t            message.setRecipients(Message.RecipientType.CC, myCcList);\r\n\r\n\t             // Set Subject: header field\r\n\t             message.setSubject(email.getSubject());\r\n\r\n\t             // Create the message part\r\n\t             BodyPart messageBodyPart = new MimeBodyPart();\r\n\r\n\t             // Now set the actual message\r\n\t             messageBodyPart.setContent(email.getBody(), &quot;text/html&quot;);\r\n\r\n\t             // Create a multipar message\r\n\t             Multipart multipart = new MimeMultipart();\r\n\r\n\t             // Set text message part\r\n\t             multipart.addBodyPart(messageBodyPart);\r\n\t             \r\n\t             if(attachFiles != null &amp;&amp; attachFiles.length &gt; 0){\r\n\t            \t    for (MultipartFile filePath : attachFiles) {\r\n\t            \t        MimeBodyPart attachPart = new MimeBodyPart();\r\n\t            \t        try {\r\n\t            \t        \tfilePath.transferTo(new File(filePath.getOriginalFilename()).getAbsoluteFile());\r\n\t            \t            attachPart.attachFile(filePath.getOriginalFilename());\r\n\t            \t        } catch (IOException ex) {\r\n\t            \t            ex.printStackTrace();\r\n\t            \t        }\r\n\t            \t        multipart.addBodyPart(attachPart);\r\n\t            \t    }\r\n\t            \t}\r\n\r\n\t             // Send the complete message parts\r\n\t             message.setContent(multipart);\r\n\t        //    Transport.send(message, message.getAllRecipients());\r\n\t        \t Transport.send(message);\r\n\t             \r\n\t             response.setStatus(200);\r\n\t\t         response.setMessage(&quot;Sent Email Successfully&quot;);\r\n\t      \r\n\t          } catch (MessagingException e) {\r\n\t        \t  response.setStatus(-1);\r\n\t\t            response.setMessage(&quot;&quot;+e);\r\n\t\t            response.setObject(e);\r\n\t\t            e.printStackTrace();\r\n\t          }\r\n\r\n\t       \r\n\t        return response;\r\n\t\t\r\n\t}\r\n\r\n\r\nHere I have witten like, \r\n\r\n    filePath.transferTo(new File(filePath.getOriginalFilename()).getAbsoluteFile());\r\n\t            \t        attachPart.attachFile(filePath.getOriginalFilename()); \r\n\r\nI dont want to transfer/save file into the project and attach, I want to send the file directly. any help will appreciated. \r\n","title":"email sending with multiple attachments using MultipartFile","body":"<p>I am using MultipartFile to send an email with multiple attachments. my code is working fine but I am storing each file in my project then I am attaching. I don't want to store that file anywhere instead I want the file directly send to the recipients.\nMy code is,</p>\n\n<p>Controller:</p>\n\n<pre><code>@RequestMapping(value=\"/sendEmailAttachment\",method=RequestMethod.POST)\npublic @ResponseBody Response sendEmail(@RequestParam(\"file\") MultipartFile[] file,@ModelAttribute Email email) {\n    SendEmail mail = new SendEmail();\n    return mail.sendEmail(email,file);\n}\n</code></pre>\n\n<p>Service:</p>\n\n<pre><code>public Response sendEmail(Email email,MultipartFile[] attachFiles) {\nusername = email.getUsername();\npassword = email.getPassword();\nswitch (email.getDomain()) {\ncase \"1and1.com\":\n    host = \"smtp.1and1.com\";\n    break;\ncase \"gmail.com\":\n    host = \"smtp.gmail.com\";\n    break;\ncase \"yahoo.com\":\n    host = \"smtp.mail.yahoo.com\";\n    break;\ncase \"rediffmail.com\":\n    host = \"smtp.rediffmail.com\";\n    break;\ndefault:\n    host = \"smtp.1and1.com\";\n    username=\"support@gmail.com\";\n    password=\"************\";\n    break;\n}\nprops.put(\"mail.smtp.host\", host);\n    Response response = new Response();\n\n         Session session = Session.getInstance(props,\n                  new javax.mail.Authenticator() {\n                    protected PasswordAuthentication getPasswordAuthentication() {\n                        return new PasswordAuthentication(username, password);\n                    }\n                  });\n         try {\n             // Create a default MimeMessage object.\n             Message message = new MimeMessage(session);\n             InternetAddress[] myToList = InternetAddress.parse(email.getTo());\n                InternetAddress[] myBccList = InternetAddress.parse(email.getBcc());\n                InternetAddress[] myCcList = InternetAddress.parse(email.getCc());\n             // Set From: header field of the header.\n             message.setFrom(new InternetAddress(email.getUsername()));\n\n             // Set To: header field of the header.\n             message.setRecipients(Message.RecipientType.TO,myToList);\n                message.setRecipients(Message.RecipientType.BCC, myBccList);\n                message.setRecipients(Message.RecipientType.CC, myCcList);\n\n             // Set Subject: header field\n             message.setSubject(email.getSubject());\n\n             // Create the message part\n             BodyPart messageBodyPart = new MimeBodyPart();\n\n             // Now set the actual message\n             messageBodyPart.setContent(email.getBody(), \"text/html\");\n\n             // Create a multipar message\n             Multipart multipart = new MimeMultipart();\n\n             // Set text message part\n             multipart.addBodyPart(messageBodyPart);\n\n             if(attachFiles != null &amp;&amp; attachFiles.length &gt; 0){\n                    for (MultipartFile filePath : attachFiles) {\n                        MimeBodyPart attachPart = new MimeBodyPart();\n                        try {\n                            filePath.transferTo(new File(filePath.getOriginalFilename()).getAbsoluteFile());\n                            attachPart.attachFile(filePath.getOriginalFilename());\n                        } catch (IOException ex) {\n                            ex.printStackTrace();\n                        }\n                        multipart.addBodyPart(attachPart);\n                    }\n                }\n\n             // Send the complete message parts\n             message.setContent(multipart);\n        //    Transport.send(message, message.getAllRecipients());\n             Transport.send(message);\n\n             response.setStatus(200);\n             response.setMessage(\"Sent Email Successfully\");\n\n          } catch (MessagingException e) {\n              response.setStatus(-1);\n                response.setMessage(\"\"+e);\n                response.setObject(e);\n                e.printStackTrace();\n          }\n\n\n        return response;\n\n}\n</code></pre>\n\n<p>Here I have witten like, </p>\n\n<pre><code>filePath.transferTo(new File(filePath.getOriginalFilename()).getAbsoluteFile());\n                        attachPart.attachFile(filePath.getOriginalFilename()); \n</code></pre>\n\n<p>I dont want to transfer/save file into the project and attach, I want to send the file directly. any help will appreciated. </p>\n"},{"tags":["java","swing","jframe","jpanel","awt"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1655157904,"post_id":72607869,"comment_id":128261039,"body_markdown":"Don&#39;t use `Thread`, Swing is not thread safe.  Don&#39;t use `getGraphics`, this is not how custom painting is done. Don&#39;t use `KeyListener`, it&#39;s not worth all the random pain (use Key bindings instead)","body":"Don&#39;t use <code>Thread</code>, Swing is not thread safe.  Don&#39;t use <code>getGraphics</code>, this is not how custom painting is done. Don&#39;t use <code>KeyListener</code>, it&#39;s not worth all the random pain (use Key bindings instead)"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655161846,"creation_date":1655159424,"answer_id":72609722,"question_id":72607869,"body_markdown":"Swing is not thread safe, you shouldn&#39;t be updating the UI, or the state the UI relies on, from outside the context of the Event Dispatching Thread.  This means you shouldn&#39;t be using `Thread` as your &quot;game loop&quot;.\r\n\r\nSee [Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) for more details and [How to Use Swing Timers](https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html) for the most common solution.\r\n\r\nDon&#39;t use `JPanel#getGraphics`, this is not how painting in Swing is done.  Instead, override `paintComponent`.  See [Painting in AWT and Swing\r\n](https://www.oracle.com/java/technologies/painting.html) and [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) for more details.\r\n\r\nDon&#39;t use `KeyListener`, seriously, it&#39;s just not worth all the hacking around to make it work.  Instead, use the [key bindings API](https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html)\r\n\r\nThe following, simple, example runs at roughly 171 updates a second (it separates the &quot;timer ticks&quot; and &quot;paint ticks&quot;, as in Swing, it&#39;s not really possible to know when something is actually rendered to the screen) in both windowed and full screen\r\n\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.FontMetrics;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.GraphicsDevice;\r\n    import java.awt.GraphicsEnvironment;\r\n    import java.awt.Rectangle;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.time.Duration;\r\n    import java.time.Instant;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.Timer;\r\n\r\n    public final class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    GraphicsDevice device = GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices()[0];\r\n\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new GamePanel());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n\r\n    //                device.setFullScreenWindow(frame);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class GamePanel extends JPanel {\r\n            private Timer timer;\r\n\r\n            private int ticksPerSecond = 0;\r\n            private int paintsPerSecond = 0;\r\n\r\n            private int xDelta = 1;\r\n            private Rectangle boxy = new Rectangle(0, 0, 50, 50);\r\n\r\n            // Graphic Device (used for fullscreen)\r\n            public GamePanel() {\r\n                timer = new Timer(5, new ActionListener() {\r\n                    private Instant lastTick;\r\n                    private int ticks = 0;\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        if (lastTick == null) {\r\n                            lastTick = Instant.now();\r\n                        }\r\n                        if (Duration.between(lastTick, Instant.now()).toMillis() &gt;= 1000) {\r\n                            ticksPerSecond = ticks;\r\n                            lastTick = Instant.now();\r\n                            ticks = 0;\r\n                        }\r\n                        ticks++;\r\n\r\n                        boxy.x += xDelta;\r\n                        if (boxy.x + boxy.width &gt; getWidth()) {\r\n                            boxy.x = getWidth() - boxy.width;\r\n                            xDelta *= -1;\r\n                        } else if (boxy.x &lt; 0) {\r\n                            boxy.x = 0;\r\n                            xDelta *= -1;\r\n                        }\r\n                        boxy.y = (getHeight() - boxy.height) / 2;\r\n\r\n                        repaint();\r\n                    }\r\n                });\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(400, 400);\r\n            }\r\n\r\n            public void addNotify() {\r\n                super.addNotify();\r\n                timer.start();\r\n            }\r\n\r\n            @Override\r\n            public void removeNotify() {\r\n                timer.stop();\r\n                super.removeNotify();\r\n            }\r\n\r\n            private Instant lastPaint;\r\n            private int paints = 0;\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                if (lastPaint == null) {\r\n                    lastPaint = Instant.now();\r\n                }\r\n                if (Duration.between(lastPaint, Instant.now()).toMillis() &gt;= 1000) {\r\n                    paintsPerSecond = paints;\r\n                    lastPaint = Instant.now();\r\n                    paints = 0;\r\n                }\r\n                paints++;\r\n\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                FontMetrics fm = g2d.getFontMetrics();\r\n                g2d.drawString(&quot;Ticks p/s &quot; + ticksPerSecond, 10, 10 + fm.getAscent());\r\n                g2d.drawString(&quot;Paints p/s &quot; + paintsPerSecond, 10, 10 + fm.getAscent() + fm.getHeight());\r\n                g2d.fill(boxy);\r\n                g2d.dispose();\r\n            }\r\n        }\r\n    }\r\n\r\nIf you &quot;really&quot; need absolute control over the painting process, then you should be using a `BufferStrategy`, see [BufferStrategy and BufferCapabilities](https://docs.oracle.com/javase/tutorial/extra/fullscreen/bufferstrategy.html) and the [JavaDocs](https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/java/awt/image/BufferStrategy.html) which has an excellent example of how it should be used.\r\n\r\nLots of things might effect the performance of the paint process, [for example](https://stackoverflow.com/questions/14886232/swing-animation-running-extremely-slow/14902184#14902184)\r\n\r\n# A crazy experiment...\r\n\r\nSo, this example allows you to change the number of entities been rendered on the screen.  Each entity is moving in it&#39;s own direction and is rotating (no collision detection).\r\n\r\nI can get this to run up to roughly 20-25, 0000 entities before I start seeing a (significant) change in the number of updates per second. I rolled it to 100, 000 and it dropped to roughly 42 updates per second.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.FontMetrics;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.GraphicsDevice;\r\n    import java.awt.GraphicsEnvironment;\r\n    import java.awt.Rectangle;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.time.Duration;\r\n    import java.time.Instant;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    import java.util.Random;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JSlider;\r\n    import javax.swing.Timer;\r\n    import javax.swing.event.ChangeEvent;\r\n    import javax.swing.event.ChangeListener;\r\n\r\n    public final class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    GraphicsDevice device = GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices()[0];\r\n\r\n                    GamePanel gamePanel = new GamePanel();\r\n                    JSlider slider = new JSlider(1, 100000);\r\n                    slider.setValue(100);\r\n                    slider.addChangeListener(new ChangeListener() {\r\n                        @Override\r\n                        public void stateChanged(ChangeEvent e) {\r\n                            if (slider.getValueIsAdjusting()) {\r\n                                return;\r\n                            }\r\n                            gamePanel.setBoxCount(slider.getValue());\r\n                        }\r\n                    });\r\n\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(gamePanel);\r\n                    frame.add(slider, BorderLayout.SOUTH);\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n\r\n                    device.setFullScreenWindow(frame);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class GamePanel extends JPanel {\r\n            private Timer timer;\r\n\r\n            private int ticksPerSecond = 0;\r\n            private int paintsPerSecond = 0;\r\n\r\n            private List&lt;Box&gt; boxes = new ArrayList&lt;&gt;(100);\r\n\r\n            // Graphic Device (used for fullscreen)\r\n            public GamePanel() {\r\n                for (int index = 0; index &lt; 100; index++) {\r\n                    boxes.add(new Box());\r\n                }\r\n\r\n                timer = new Timer(5, new ActionListener() {\r\n                    private Instant lastTick;\r\n                    private int ticks = 0;\r\n\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        if (lastTick == null) {\r\n                            lastTick = Instant.now();\r\n                        }\r\n                        if (Duration.between(lastTick, Instant.now()).toMillis() &gt;= 1000) {\r\n                            ticksPerSecond = ticks;\r\n                            lastTick = Instant.now();\r\n                            ticks = 0;\r\n                        }\r\n                        ticks++;\r\n\r\n                        for (Box box : boxes) {\r\n                            box.update(getSize());\r\n                        }\r\n\r\n                        repaint();\r\n                    }\r\n                });\r\n            }\r\n\r\n            public void setBoxCount(int count) {\r\n                if (count &lt; boxes.size()) {\r\n                    boxes = boxes.subList(0, count);\r\n                    return;\r\n                }\r\n                while (boxes.size() &lt; count) {\r\n                    boxes.add(new Box());\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(400, 400);\r\n            }\r\n\r\n            public void addNotify() {\r\n                super.addNotify();\r\n                timer.start();\r\n            }\r\n\r\n            @Override\r\n            public void removeNotify() {\r\n                timer.stop();\r\n                super.removeNotify();\r\n            }\r\n\r\n            private Instant lastPaint;\r\n            private int paints = 0;\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                if (lastPaint == null) {\r\n                    lastPaint = Instant.now();\r\n                }\r\n                if (Duration.between(lastPaint, Instant.now()).toMillis() &gt;= 1000) {\r\n                    paintsPerSecond = paints;\r\n                    lastPaint = Instant.now();\r\n                    paints = 0;\r\n                }\r\n                paints++;\r\n\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                for (Box box : boxes) {\r\n                    box.paint(g2d);\r\n                }\r\n                FontMetrics fm = g2d.getFontMetrics();\r\n                int yPos = 10 + fm.getAscent();\r\n                g2d.drawString(&quot;Ticks p/s &quot; + ticksPerSecond, 10, yPos + fm.getAscent());\r\n                yPos += fm.getHeight();\r\n                g2d.drawString(&quot;Paints p/s &quot; + paintsPerSecond, 10, yPos + fm.getAscent());\r\n                yPos += fm.getHeight();\r\n                g2d.drawString(&quot;Count &quot; + boxes.size(), 10, yPos + fm.getAscent());\r\n                g2d.dispose();\r\n            }\r\n        }\r\n\r\n        private List&lt;Color&gt; colors = new ArrayList&lt;&gt;(Arrays.asList(new Color[]{\r\n            Color.BLACK, Color.BLUE, Color.CYAN, Color.DARK_GRAY, Color.GRAY, Color.GREEN,\r\n            Color.LIGHT_GRAY, Color.MAGENTA, Color.ORANGE, Color.PINK, Color.RED, Color.WHITE,\r\n            Color.YELLOW\r\n        }));\r\n\r\n        public class Box {\r\n            private Color fill;\r\n\r\n            private Rectangle shape;\r\n\r\n            private int x;\r\n            private int y;\r\n\r\n            private int xDelta;\r\n            private int yDelta;\r\n\r\n            private int rotationDelta;\r\n            private int angle = 0;\r\n\r\n            public Box() {\r\n                Random rnd = new Random();\r\n                int width = rnd.nextInt(45) + 5;\r\n                int height = rnd.nextInt(45) + 5;\r\n                x = rnd.nextInt(400) - width;\r\n                y = rnd.nextInt(400) - height;\r\n\r\n                xDelta = rnd.nextInt(2) + 1;\r\n                yDelta = rnd.nextInt(2) + 1;\r\n                if (rnd.nextBoolean()) {\r\n                    xDelta *= -1;\r\n                }\r\n                if (rnd.nextBoolean()) {\r\n                    yDelta *= -1;\r\n                }\r\n\r\n                rotationDelta = rnd.nextInt(5);\r\n                if (rnd.nextBoolean()) {\r\n                    rotationDelta *= -1;\r\n                }\r\n\r\n                shape = new Rectangle(x, y, width, height);\r\n                Collections.shuffle(colors);\r\n                fill = colors.get(0);\r\n\r\n                shape = new Rectangle(0, 0, width, height);\r\n            }\r\n\r\n            public void update(Dimension bounds) {\r\n                x += xDelta;\r\n                y += yDelta;\r\n                angle += rotationDelta;\r\n\r\n                if (x + getWidth() &gt; bounds.width) {\r\n                    x = bounds.width - getWidth();\r\n                    xDelta *= -1;\r\n                } else if (x &lt; 0) {\r\n                    x = 0;\r\n                    xDelta *= -1;\r\n                }\r\n                if (y + getWidth() &gt; bounds.height) {\r\n                    y = bounds.height - getWidth();\r\n                    yDelta *= -1;\r\n                } else if (y &lt; 0) {\r\n                    y = 0;\r\n                    yDelta *= -1;\r\n                }\r\n            }\r\n\r\n            public int getX() {\r\n                return x;\r\n            }\r\n\r\n            public int getY() {\r\n                return y;\r\n            }\r\n\r\n            public int getWidth() {\r\n                return shape.width;\r\n            }\r\n\r\n            public int getHeight() {\r\n                return shape.height;\r\n            }\r\n\r\n            public void paint(Graphics2D g2d) {\r\n                g2d = (Graphics2D) g2d.create();\r\n                g2d.translate(x, y);\r\n                g2d.rotate(Math.toRadians(angle), getWidth() / 2, getHeight() / 2);\r\n                g2d.setColor(fill);\r\n                g2d.fill(shape);\r\n                g2d.dispose();\r\n            }\r\n        }\r\n    }\r\n","title":"Java Game in Fullscreen has way less fps than in window mode","body":"<p>Swing is not thread safe, you shouldn't be updating the UI, or the state the UI relies on, from outside the context of the Event Dispatching Thread.  This means you shouldn't be using <code>Thread</code> as your &quot;game loop&quot;.</p>\n<p>See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency in Swing</a> for more details and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">How to Use Swing Timers</a> for the most common solution.</p>\n<p>Don't use <code>JPanel#getGraphics</code>, this is not how painting in Swing is done.  Instead, override <code>paintComponent</code>.  See <a href=\"https://www.oracle.com/java/technologies/painting.html\" rel=\"nofollow noreferrer\">Painting in AWT and Swing\n</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> for more details.</p>\n<p>Don't use <code>KeyListener</code>, seriously, it's just not worth all the hacking around to make it work.  Instead, use the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">key bindings API</a></p>\n<p>The following, simple, example runs at roughly 171 updates a second (it separates the &quot;timer ticks&quot; and &quot;paint ticks&quot;, as in Swing, it's not really possible to know when something is actually rendered to the screen) in both windowed and full screen</p>\n<pre><code>import java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.FontMetrics;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.GraphicsDevice;\nimport java.awt.GraphicsEnvironment;\nimport java.awt.Rectangle;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.time.Duration;\nimport java.time.Instant;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.Timer;\n\npublic final class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                GraphicsDevice device = GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices()[0];\n\n                JFrame frame = new JFrame();\n                frame.add(new GamePanel());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n\n//                device.setFullScreenWindow(frame);\n            }\n        });\n    }\n\n    public class GamePanel extends JPanel {\n        private Timer timer;\n\n        private int ticksPerSecond = 0;\n        private int paintsPerSecond = 0;\n\n        private int xDelta = 1;\n        private Rectangle boxy = new Rectangle(0, 0, 50, 50);\n\n        // Graphic Device (used for fullscreen)\n        public GamePanel() {\n            timer = new Timer(5, new ActionListener() {\n                private Instant lastTick;\n                private int ticks = 0;\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    if (lastTick == null) {\n                        lastTick = Instant.now();\n                    }\n                    if (Duration.between(lastTick, Instant.now()).toMillis() &gt;= 1000) {\n                        ticksPerSecond = ticks;\n                        lastTick = Instant.now();\n                        ticks = 0;\n                    }\n                    ticks++;\n\n                    boxy.x += xDelta;\n                    if (boxy.x + boxy.width &gt; getWidth()) {\n                        boxy.x = getWidth() - boxy.width;\n                        xDelta *= -1;\n                    } else if (boxy.x &lt; 0) {\n                        boxy.x = 0;\n                        xDelta *= -1;\n                    }\n                    boxy.y = (getHeight() - boxy.height) / 2;\n\n                    repaint();\n                }\n            });\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(400, 400);\n        }\n\n        public void addNotify() {\n            super.addNotify();\n            timer.start();\n        }\n\n        @Override\n        public void removeNotify() {\n            timer.stop();\n            super.removeNotify();\n        }\n\n        private Instant lastPaint;\n        private int paints = 0;\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            if (lastPaint == null) {\n                lastPaint = Instant.now();\n            }\n            if (Duration.between(lastPaint, Instant.now()).toMillis() &gt;= 1000) {\n                paintsPerSecond = paints;\n                lastPaint = Instant.now();\n                paints = 0;\n            }\n            paints++;\n\n            Graphics2D g2d = (Graphics2D) g.create();\n            FontMetrics fm = g2d.getFontMetrics();\n            g2d.drawString(&quot;Ticks p/s &quot; + ticksPerSecond, 10, 10 + fm.getAscent());\n            g2d.drawString(&quot;Paints p/s &quot; + paintsPerSecond, 10, 10 + fm.getAscent() + fm.getHeight());\n            g2d.fill(boxy);\n            g2d.dispose();\n        }\n    }\n}\n</code></pre>\n<p>If you &quot;really&quot; need absolute control over the painting process, then you should be using a <code>BufferStrategy</code>, see <a href=\"https://docs.oracle.com/javase/tutorial/extra/fullscreen/bufferstrategy.html\" rel=\"nofollow noreferrer\">BufferStrategy and BufferCapabilities</a> and the <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/java/awt/image/BufferStrategy.html\" rel=\"nofollow noreferrer\">JavaDocs</a> which has an excellent example of how it should be used.</p>\n<p>Lots of things might effect the performance of the paint process, <a href=\"https://stackoverflow.com/questions/14886232/swing-animation-running-extremely-slow/14902184#14902184\">for example</a></p>\n<h1>A crazy experiment...</h1>\n<p>So, this example allows you to change the number of entities been rendered on the screen.  Each entity is moving in it's own direction and is rotating (no collision detection).</p>\n<p>I can get this to run up to roughly 20-25, 0000 entities before I start seeing a (significant) change in the number of updates per second. I rolled it to 100, 000 and it dropped to roughly 42 updates per second.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.FontMetrics;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.GraphicsDevice;\nimport java.awt.GraphicsEnvironment;\nimport java.awt.Rectangle;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.time.Duration;\nimport java.time.Instant;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.Random;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JSlider;\nimport javax.swing.Timer;\nimport javax.swing.event.ChangeEvent;\nimport javax.swing.event.ChangeListener;\n\npublic final class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                GraphicsDevice device = GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices()[0];\n\n                GamePanel gamePanel = new GamePanel();\n                JSlider slider = new JSlider(1, 100000);\n                slider.setValue(100);\n                slider.addChangeListener(new ChangeListener() {\n                    @Override\n                    public void stateChanged(ChangeEvent e) {\n                        if (slider.getValueIsAdjusting()) {\n                            return;\n                        }\n                        gamePanel.setBoxCount(slider.getValue());\n                    }\n                });\n\n                JFrame frame = new JFrame();\n                frame.add(gamePanel);\n                frame.add(slider, BorderLayout.SOUTH);\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n\n                device.setFullScreenWindow(frame);\n            }\n        });\n    }\n\n    public class GamePanel extends JPanel {\n        private Timer timer;\n\n        private int ticksPerSecond = 0;\n        private int paintsPerSecond = 0;\n\n        private List&lt;Box&gt; boxes = new ArrayList&lt;&gt;(100);\n\n        // Graphic Device (used for fullscreen)\n        public GamePanel() {\n            for (int index = 0; index &lt; 100; index++) {\n                boxes.add(new Box());\n            }\n\n            timer = new Timer(5, new ActionListener() {\n                private Instant lastTick;\n                private int ticks = 0;\n\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    if (lastTick == null) {\n                        lastTick = Instant.now();\n                    }\n                    if (Duration.between(lastTick, Instant.now()).toMillis() &gt;= 1000) {\n                        ticksPerSecond = ticks;\n                        lastTick = Instant.now();\n                        ticks = 0;\n                    }\n                    ticks++;\n\n                    for (Box box : boxes) {\n                        box.update(getSize());\n                    }\n\n                    repaint();\n                }\n            });\n        }\n\n        public void setBoxCount(int count) {\n            if (count &lt; boxes.size()) {\n                boxes = boxes.subList(0, count);\n                return;\n            }\n            while (boxes.size() &lt; count) {\n                boxes.add(new Box());\n            }\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(400, 400);\n        }\n\n        public void addNotify() {\n            super.addNotify();\n            timer.start();\n        }\n\n        @Override\n        public void removeNotify() {\n            timer.stop();\n            super.removeNotify();\n        }\n\n        private Instant lastPaint;\n        private int paints = 0;\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            if (lastPaint == null) {\n                lastPaint = Instant.now();\n            }\n            if (Duration.between(lastPaint, Instant.now()).toMillis() &gt;= 1000) {\n                paintsPerSecond = paints;\n                lastPaint = Instant.now();\n                paints = 0;\n            }\n            paints++;\n\n            Graphics2D g2d = (Graphics2D) g.create();\n            for (Box box : boxes) {\n                box.paint(g2d);\n            }\n            FontMetrics fm = g2d.getFontMetrics();\n            int yPos = 10 + fm.getAscent();\n            g2d.drawString(&quot;Ticks p/s &quot; + ticksPerSecond, 10, yPos + fm.getAscent());\n            yPos += fm.getHeight();\n            g2d.drawString(&quot;Paints p/s &quot; + paintsPerSecond, 10, yPos + fm.getAscent());\n            yPos += fm.getHeight();\n            g2d.drawString(&quot;Count &quot; + boxes.size(), 10, yPos + fm.getAscent());\n            g2d.dispose();\n        }\n    }\n\n    private List&lt;Color&gt; colors = new ArrayList&lt;&gt;(Arrays.asList(new Color[]{\n        Color.BLACK, Color.BLUE, Color.CYAN, Color.DARK_GRAY, Color.GRAY, Color.GREEN,\n        Color.LIGHT_GRAY, Color.MAGENTA, Color.ORANGE, Color.PINK, Color.RED, Color.WHITE,\n        Color.YELLOW\n    }));\n\n    public class Box {\n        private Color fill;\n\n        private Rectangle shape;\n\n        private int x;\n        private int y;\n\n        private int xDelta;\n        private int yDelta;\n\n        private int rotationDelta;\n        private int angle = 0;\n\n        public Box() {\n            Random rnd = new Random();\n            int width = rnd.nextInt(45) + 5;\n            int height = rnd.nextInt(45) + 5;\n            x = rnd.nextInt(400) - width;\n            y = rnd.nextInt(400) - height;\n\n            xDelta = rnd.nextInt(2) + 1;\n            yDelta = rnd.nextInt(2) + 1;\n            if (rnd.nextBoolean()) {\n                xDelta *= -1;\n            }\n            if (rnd.nextBoolean()) {\n                yDelta *= -1;\n            }\n\n            rotationDelta = rnd.nextInt(5);\n            if (rnd.nextBoolean()) {\n                rotationDelta *= -1;\n            }\n\n            shape = new Rectangle(x, y, width, height);\n            Collections.shuffle(colors);\n            fill = colors.get(0);\n\n            shape = new Rectangle(0, 0, width, height);\n        }\n\n        public void update(Dimension bounds) {\n            x += xDelta;\n            y += yDelta;\n            angle += rotationDelta;\n\n            if (x + getWidth() &gt; bounds.width) {\n                x = bounds.width - getWidth();\n                xDelta *= -1;\n            } else if (x &lt; 0) {\n                x = 0;\n                xDelta *= -1;\n            }\n            if (y + getWidth() &gt; bounds.height) {\n                y = bounds.height - getWidth();\n                yDelta *= -1;\n            } else if (y &lt; 0) {\n                y = 0;\n                yDelta *= -1;\n            }\n        }\n\n        public int getX() {\n            return x;\n        }\n\n        public int getY() {\n            return y;\n        }\n\n        public int getWidth() {\n            return shape.width;\n        }\n\n        public int getHeight() {\n            return shape.height;\n        }\n\n        public void paint(Graphics2D g2d) {\n            g2d = (Graphics2D) g2d.create();\n            g2d.translate(x, y);\n            g2d.rotate(Math.toRadians(angle), getWidth() / 2, getHeight() / 2);\n            g2d.setColor(fill);\n            g2d.fill(shape);\n            g2d.dispose();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25547401,"reputation":1,"user_id":19332487,"display_name":"jang1er"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656435010,"creation_date":1655146967,"question_id":72607869,"body_markdown":"The game runs at about 2000 to 3100 fps in normal window mode. If i set the JFrame component to fullscreen and scale up my JPanel to also the same resolution, the fps drops to 20-70.\r\n(This is a prototype, hardcoded resolutions will be later swapped out)\r\n\r\n\r\nThis is my relevant code (if this is not enough, I can provide more):\r\n\r\nGame.java\r\n\r\n    import javax.swing.JFrame;\r\n    \r\n    public class Game {\r\n    \r\n      public static void main(String[] args) {\r\n          JFrame window = new JFrame(&quot;Platformer Test&quot;);\r\n          window.setContentPane(new GamePanel(window));\r\n          window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n          window.setResizable(true);\r\n          //window.setUndecorated(true);\r\n          window.pack();\r\n          window.setVisible(true);  \r\n      }\r\n    }\r\n\r\nGamePanel.java\r\n\r\n    package Main;\r\n    \r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.GraphicsDevice;\r\n    import java.awt.GraphicsEnvironment;\r\n    import java.awt.event.KeyEvent;\r\n    import java.awt.event.KeyListener;\r\n    import java.awt.event.WindowAdapter;\r\n    import java.awt.event.WindowEvent;\r\n    import java.awt.image.BufferedImage;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    \r\n    // custom imports\r\n    import GameState.GameStateManager;\r\n    \r\n    @SuppressWarnings(&quot;serial&quot;)\r\n    public class GamePanel extends JPanel implements Runnable, KeyListener{\r\n    \r\n      // dimensions\r\n      public static final int WIDTH = 320;\r\n      public static final int HEIGHT = 240;\r\n      public static final int SCALE = 2;\r\n      \r\n      // Graphic Device (used for fullscreen)\r\n      static GraphicsDevice device = GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices()[0];\r\n      private JFrame frame;\r\n      \r\n      // game Thread\r\n      private Thread thread;\r\n      private boolean running;\r\n      private double GameTicks = 60;\r\n    \r\n    \r\n      // image\r\n      private BufferedImage image;\r\n      private Graphics2D g;\r\n      boolean renderFPS = false;\r\n      int frames = 0;\r\n    \r\n      // game state manager\r\n      private GameStateManager gsm;\r\n    \r\n    \r\n      public GamePanel(JFrame frame) {\r\n        super();\r\n        this.frame = frame;\r\n        // set Window Size\r\n        setFocusable(true);\r\n        \r\n        setFullscreen(true);    \r\n      }\r\n      \r\n      private void setFullscreen(boolean t) {\r\n    \t  if(t) {\r\n              setPreferredSize(new Dimension(1920, 1080));\r\n    \t\t  device.setFullScreenWindow(frame);\r\n              requestFocus();\r\n    \t  }else {\r\n              setSize(new Dimension(WIDTH * SCALE, HEIGHT * SCALE));\r\n              requestFocus();\r\n    \t  }\r\n      }\r\n    \r\n      public void addNotify() {\r\n        super.addNotify();\r\n        if (thread == null) {\r\n          thread = new Thread(this);\r\n          addKeyListener(this);\r\n          thread.start();\r\n        }\r\n    \r\n      }\r\n    \r\n      private void init() {\r\n    \r\n        // create image --&gt; Game is drawn on here\r\n        image = new BufferedImage(\r\n            WIDTH, HEIGHT,\r\n            BufferedImage.TYPE_INT_RGB\r\n            );\r\n        // get graphics component of game image\r\n        g = (Graphics2D) image.getGraphics();\r\n    \r\n        // starts game clock\r\n        running = true;\r\n    \r\n        // adds new GameStateManager\r\n        gsm = new GameStateManager();\r\n      }\r\n    \r\n      @Override\r\n      public void run() {\r\n    \r\n        init();\r\n    \r\n        //game loop setup\r\n        double ns = 1000000000 / GameTicks;\r\n        double delta = 0;\r\n        long lastTime = System.nanoTime();\r\n        long timer = System.currentTimeMillis();\r\n        int ticks = 0;\r\n    \r\n        // game loop\r\n        while(running) {\r\n          long now = System.nanoTime();\r\n          delta +=  (now - lastTime) / ns;\r\n          lastTime = now;\r\n          while(delta &gt;= 1) {\r\n            update();\r\n            ticks++;\r\n            delta--;\r\n          }\r\n          if(running)\r\n            render();\r\n          frames++;\r\n    \r\n    \r\n          if(System.currentTimeMillis() - timer &gt; 1000) {\r\n            timer += 1000;\r\n            System.out.println(&quot;FPS: &quot; + frames + &quot;, ticks: &quot; + ticks);\r\n            renderFPS = true;\r\n            frames = 0;\r\n            ticks = 0;\r\n          }\r\n        }\r\n    \r\n      }\r\n    \r\n      private void update() {\r\n        gsm.update();\r\n      }\r\n    \r\n      private void render() {\r\n        gsm.render(g);\r\n        int fps = 0;\r\n    \r\n        // Draw To Screen\r\n        Graphics g2 = getGraphics();\r\n        g2.drawImage(image, 0, 0, WIDTH * SCALE, HEIGHT * SCALE, null);\r\n        //g2.drawImage(image, 0, 0, 1920, 1080, null);\r\n        if(renderFPS) {\r\n        \tfps = frames;\r\n        }\r\n        g2.setColor(Color.red);\r\n    \tg2.drawString(&quot;FPS: &quot; + fps, 100,100);\r\n        g2.dispose();\r\n      }\r\n    \r\n    \r\n      @Override\r\n      public void keyTyped(KeyEvent e) {\r\n        // TODO Auto-generated method stub\r\n    \r\n      }\r\n    \r\n    \r\n      @Override\r\n      public void keyPressed(KeyEvent e) {\r\n        // TODO Auto-generated method stub\r\n        gsm.keyPressed(e.getKeyCode());\r\n      }\r\n    \r\n    \r\n      @Override\r\n      public void keyReleased(KeyEvent e) {\r\n        // TODO Auto-generated method stub\r\n        gsm.keyReleased(e.getKeyCode());\r\n    \r\n      }\r\n    \r\n    }\r\n\r\n\r\n","title":"Java Game in Fullscreen has way less fps than in window mode","body":"<p>The game runs at about 2000 to 3100 fps in normal window mode. If i set the JFrame component to fullscreen and scale up my JPanel to also the same resolution, the fps drops to 20-70.\n(This is a prototype, hardcoded resolutions will be later swapped out)</p>\n<p>This is my relevant code (if this is not enough, I can provide more):</p>\n<p>Game.java</p>\n<pre><code>import javax.swing.JFrame;\n\npublic class Game {\n\n  public static void main(String[] args) {\n      JFrame window = new JFrame(&quot;Platformer Test&quot;);\n      window.setContentPane(new GamePanel(window));\n      window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n      window.setResizable(true);\n      //window.setUndecorated(true);\n      window.pack();\n      window.setVisible(true);  \n  }\n}\n</code></pre>\n<p>GamePanel.java</p>\n<pre><code>package Main;\n\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.GraphicsDevice;\nimport java.awt.GraphicsEnvironment;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\nimport java.awt.event.WindowAdapter;\nimport java.awt.event.WindowEvent;\nimport java.awt.image.BufferedImage;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\n// custom imports\nimport GameState.GameStateManager;\n\n@SuppressWarnings(&quot;serial&quot;)\npublic class GamePanel extends JPanel implements Runnable, KeyListener{\n\n  // dimensions\n  public static final int WIDTH = 320;\n  public static final int HEIGHT = 240;\n  public static final int SCALE = 2;\n  \n  // Graphic Device (used for fullscreen)\n  static GraphicsDevice device = GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices()[0];\n  private JFrame frame;\n  \n  // game Thread\n  private Thread thread;\n  private boolean running;\n  private double GameTicks = 60;\n\n\n  // image\n  private BufferedImage image;\n  private Graphics2D g;\n  boolean renderFPS = false;\n  int frames = 0;\n\n  // game state manager\n  private GameStateManager gsm;\n\n\n  public GamePanel(JFrame frame) {\n    super();\n    this.frame = frame;\n    // set Window Size\n    setFocusable(true);\n    \n    setFullscreen(true);    \n  }\n  \n  private void setFullscreen(boolean t) {\n      if(t) {\n          setPreferredSize(new Dimension(1920, 1080));\n          device.setFullScreenWindow(frame);\n          requestFocus();\n      }else {\n          setSize(new Dimension(WIDTH * SCALE, HEIGHT * SCALE));\n          requestFocus();\n      }\n  }\n\n  public void addNotify() {\n    super.addNotify();\n    if (thread == null) {\n      thread = new Thread(this);\n      addKeyListener(this);\n      thread.start();\n    }\n\n  }\n\n  private void init() {\n\n    // create image --&gt; Game is drawn on here\n    image = new BufferedImage(\n        WIDTH, HEIGHT,\n        BufferedImage.TYPE_INT_RGB\n        );\n    // get graphics component of game image\n    g = (Graphics2D) image.getGraphics();\n\n    // starts game clock\n    running = true;\n\n    // adds new GameStateManager\n    gsm = new GameStateManager();\n  }\n\n  @Override\n  public void run() {\n\n    init();\n\n    //game loop setup\n    double ns = 1000000000 / GameTicks;\n    double delta = 0;\n    long lastTime = System.nanoTime();\n    long timer = System.currentTimeMillis();\n    int ticks = 0;\n\n    // game loop\n    while(running) {\n      long now = System.nanoTime();\n      delta +=  (now - lastTime) / ns;\n      lastTime = now;\n      while(delta &gt;= 1) {\n        update();\n        ticks++;\n        delta--;\n      }\n      if(running)\n        render();\n      frames++;\n\n\n      if(System.currentTimeMillis() - timer &gt; 1000) {\n        timer += 1000;\n        System.out.println(&quot;FPS: &quot; + frames + &quot;, ticks: &quot; + ticks);\n        renderFPS = true;\n        frames = 0;\n        ticks = 0;\n      }\n    }\n\n  }\n\n  private void update() {\n    gsm.update();\n  }\n\n  private void render() {\n    gsm.render(g);\n    int fps = 0;\n\n    // Draw To Screen\n    Graphics g2 = getGraphics();\n    g2.drawImage(image, 0, 0, WIDTH * SCALE, HEIGHT * SCALE, null);\n    //g2.drawImage(image, 0, 0, 1920, 1080, null);\n    if(renderFPS) {\n        fps = frames;\n    }\n    g2.setColor(Color.red);\n    g2.drawString(&quot;FPS: &quot; + fps, 100,100);\n    g2.dispose();\n  }\n\n\n  @Override\n  public void keyTyped(KeyEvent e) {\n    // TODO Auto-generated method stub\n\n  }\n\n\n  @Override\n  public void keyPressed(KeyEvent e) {\n    // TODO Auto-generated method stub\n    gsm.keyPressed(e.getKeyCode());\n  }\n\n\n  @Override\n  public void keyReleased(KeyEvent e) {\n    // TODO Auto-generated method stub\n    gsm.keyReleased(e.getKeyCode());\n\n  }\n\n}\n</code></pre>\n"},{"tags":["java","optimization","gis"],"answers":[{"tags":[],"owner":{"account_id":14943184,"reputation":10724,"user_id":10789207,"display_name":"AirSquid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655821641,"creation_date":1655821641,"answer_id":72702552,"question_id":72702155,"body_markdown":"Two suggestions...\r\n\r\n1.  (old trick)...  Don&#39;t do unnecessary math inside of a loop.  You can and should eliminate the `sqrt` function, which is an &quot;expensive&quot; math operation when doing distances.  Just compare to the square of `ovalSize`.  It is mathematically equivalent.\r\n\r\n2.  Is your list sorted in any way?  If there were a convenient point in your program to sort your list (or a copy of it) before displaying, then you could very quickly:\r\n\r\n- Lop off the first and last part that is outside your zoom window in one of the coordinates (say X, if you sorted by X) by doing a binary search for the window boundary\r\n- Tighten up your loop to only look at neighbors within a window of concern, and do a sliding window instead of all-compared-to-all.\r\n\r\n","title":"How can I draw the points of a route equidistant of one another?","body":"<p>Two suggestions...</p>\n<ol>\n<li><p>(old trick)...  Don't do unnecessary math inside of a loop.  You can and should eliminate the <code>sqrt</code> function, which is an &quot;expensive&quot; math operation when doing distances.  Just compare to the square of <code>ovalSize</code>.  It is mathematically equivalent.</p>\n</li>\n<li><p>Is your list sorted in any way?  If there were a convenient point in your program to sort your list (or a copy of it) before displaying, then you could very quickly:</p>\n</li>\n</ol>\n<ul>\n<li>Lop off the first and last part that is outside your zoom window in one of the coordinates (say X, if you sorted by X) by doing a binary search for the window boundary</li>\n<li>Tighten up your loop to only look at neighbors within a window of concern, and do a sliding window instead of all-compared-to-all.</li>\n</ul>\n"}],"owner":{"account_id":16995186,"reputation":105,"user_id":12293801,"display_name":"sushiwithoutsushi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656434590,"creation_date":1655820013,"question_id":72702155,"body_markdown":"I am writing a program that outputs the shortest route between two points on a map. The problem is that if the route is too long and it has many points that define its path it slows the program a lot and I am looking for a way to draw just some points instead of all the points in the array.\r\n\r\nMy approach goes as follows: the map has a zoom, each time the zoom changes check which points overlaps with the others. All the points that doesn&#39;t overlap go into the `routeToDraw` list and then it is drawn.\r\n\r\nTo check if the points overlap or not I have the following function:\r\n\r\n        //route is a list of latitude and longitude points\r\n\r\n        LinkedList&lt;Point.Double&gt; route = MapPanel.this.getGlassPane().getRoute();\r\n        LinkedList&lt;Point.Double&gt; routeToDraw = new LinkedList&lt;Point.Double&gt;();\r\n        int ovalSize = 8;\r\n        boolean compareMorePoints;\r\n        for(int i = 0; i &lt; route.size(); i++) {\r\n        \t Point p1 = getScreenCoordinates(route.get(i).x, route.get(i).y);       \r\n        \t compareMorePoints = true;\r\n        \t int j = i + 1;\r\n        \t while (j &lt; route.size() &amp;&amp; compareMorePoints == true) {\r\n        \t\t Point p2 = getScreenCoordinates(route.get(j).x, route.get(j).y);\r\n        \t\t \r\n        \t\t if (Math.sqrt(Math.pow(p1.x  - p2.x, 2) + Math.pow(p1.y - p2.y, 2)) &gt; ovalSize ) {\r\n        \t\t\t routeToDraw.add(route.get(i));\r\n        \t\t\t compareMorePoints = false;\r\n        \t\t }\r\n        \t\t j++;\r\n        \t }\r\n        }\r\n        MapPanel.this.getGlassPane().setRouteToDraw(routeToDraw);\r\n\r\nThe problem is that this function is [quite expensive][1] and although it does reduce the amount of points to draw and I seem to obtain some speed after calculating `routeToDraw` I don&#39;t think it is worth the wait each time I zoom in or out.\r\n\r\nThe ideal solution would be something like Google Maps&#39; does when routing, drawing a series of equidistant points that modify each time you zoom in or out and look quite nice. \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/36402823/12293801","title":"How can I draw the points of a route equidistant of one another?","body":"<p>I am writing a program that outputs the shortest route between two points on a map. The problem is that if the route is too long and it has many points that define its path it slows the program a lot and I am looking for a way to draw just some points instead of all the points in the array.</p>\n<p>My approach goes as follows: the map has a zoom, each time the zoom changes check which points overlaps with the others. All the points that doesn't overlap go into the <code>routeToDraw</code> list and then it is drawn.</p>\n<p>To check if the points overlap or not I have the following function:</p>\n<pre><code>    //route is a list of latitude and longitude points\n\n    LinkedList&lt;Point.Double&gt; route = MapPanel.this.getGlassPane().getRoute();\n    LinkedList&lt;Point.Double&gt; routeToDraw = new LinkedList&lt;Point.Double&gt;();\n    int ovalSize = 8;\n    boolean compareMorePoints;\n    for(int i = 0; i &lt; route.size(); i++) {\n         Point p1 = getScreenCoordinates(route.get(i).x, route.get(i).y);       \n         compareMorePoints = true;\n         int j = i + 1;\n         while (j &lt; route.size() &amp;&amp; compareMorePoints == true) {\n             Point p2 = getScreenCoordinates(route.get(j).x, route.get(j).y);\n             \n             if (Math.sqrt(Math.pow(p1.x  - p2.x, 2) + Math.pow(p1.y - p2.y, 2)) &gt; ovalSize ) {\n                 routeToDraw.add(route.get(i));\n                 compareMorePoints = false;\n             }\n             j++;\n         }\n    }\n    MapPanel.this.getGlassPane().setRouteToDraw(routeToDraw);\n</code></pre>\n<p>The problem is that this function is <a href=\"https://stackoverflow.com/a/36402823/12293801\">quite expensive</a> and although it does reduce the amount of points to draw and I seem to obtain some speed after calculating <code>routeToDraw</code> I don't think it is worth the wait each time I zoom in or out.</p>\n<p>The ideal solution would be something like Google Maps' does when routing, drawing a series of equidistant points that modify each time you zoom in or out and look quite nice.</p>\n"},{"tags":["java","pdfbox","hung"],"answers":[{"tags":[],"owner":{"account_id":11356679,"reputation":63,"user_id":8326098,"display_name":"Th3Gh0st"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1656434508,"creation_date":1656434508,"answer_id":72790285,"question_id":72789780,"body_markdown":"Solution:\r\n\r\nI was missing to specify font family, working code:\r\n\r\n    PDFont pdfFont=  new PDType1Font(font_name_3v.HELVETICA_BOLD);\r\n\r\n","title":"PdfBox Alpha 3.0.0-alpha3 , PDType1Font constructor issue","body":"<p>Solution:</p>\n<p>I was missing to specify font family, working code:</p>\n<pre><code>PDFont pdfFont=  new PDType1Font(font_name_3v.HELVETICA_BOLD);\n</code></pre>\n"}],"owner":{"account_id":11356679,"reputation":63,"user_id":8326098,"display_name":"Th3Gh0st"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1722,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1656434508,"creation_date":1656432179,"question_id":72789780,"body_markdown":"Good afternoon,\r\n\r\nI recently try to upgrade pdfBox to 3.0.0-alpha3.\r\nI align the using of class PDType1font with new constructor requirements: \r\n\r\n    PDType1Font(Standard14Fonts.FontName baseFont)\r\n\r\n\r\nMy code now is:\r\n\r\n    FontName font_name_3v= Standard14Fonts.getMappedFontName(&quot;HELVETICA_BOLD&quot;);\r\n    PDFont pdfFont=  new PDType1Font(font_name_3v);\r\n\r\nBut it hung infinite on line :   `PDFont pdfFont=  new PDType1Font(font_name_3v);`\r\n\r\n\r\nI follow the documentation:\r\n- https://javadoc.io/static/org.apache.pdfbox/pdfbox/3.0.0-alpha3/org/apache/pdfbox/pdmodel/font/PDType1Font.html#PDType1Font-org.apache.pdfbox.pdmodel.font.Standard14Fonts.FontName-\r\n- https://javadoc.io/doc/org.apache.pdfbox/pdfbox/3.0.0-alpha3/index.html\r\n\r\n\r\nThank you\r\n\r\n\r\n","title":"PdfBox Alpha 3.0.0-alpha3 , PDType1Font constructor issue","body":"<p>Good afternoon,</p>\n<p>I recently try to upgrade pdfBox to 3.0.0-alpha3.\nI align the using of class PDType1font with new constructor requirements:</p>\n<pre><code>PDType1Font(Standard14Fonts.FontName baseFont)\n</code></pre>\n<p>My code now is:</p>\n<pre><code>FontName font_name_3v= Standard14Fonts.getMappedFontName(&quot;HELVETICA_BOLD&quot;);\nPDFont pdfFont=  new PDType1Font(font_name_3v);\n</code></pre>\n<p>But it hung infinite on line :   <code>PDFont pdfFont=  new PDType1Font(font_name_3v);</code></p>\n<p>I follow the documentation:</p>\n<ul>\n<li><a href=\"https://javadoc.io/static/org.apache.pdfbox/pdfbox/3.0.0-alpha3/org/apache/pdfbox/pdmodel/font/PDType1Font.html#PDType1Font-org.apache.pdfbox.pdmodel.font.Standard14Fonts.FontName-\" rel=\"nofollow noreferrer\">https://javadoc.io/static/org.apache.pdfbox/pdfbox/3.0.0-alpha3/org/apache/pdfbox/pdmodel/font/PDType1Font.html#PDType1Font-org.apache.pdfbox.pdmodel.font.Standard14Fonts.FontName-</a></li>\n<li><a href=\"https://javadoc.io/doc/org.apache.pdfbox/pdfbox/3.0.0-alpha3/index.html\" rel=\"nofollow noreferrer\">https://javadoc.io/doc/org.apache.pdfbox/pdfbox/3.0.0-alpha3/index.html</a></li>\n</ul>\n<p>Thank you</p>\n"},{"tags":["java","http","servlet-filters"],"comments":[{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1656269520,"post_id":72763874,"comment_id":128525090,"body_markdown":"Please explain &quot;Which is not working..&quot;. Show your code and any error messages and the stack trace.","body":"Please explain &quot;Which is not working..&quot;. Show your code and any error messages and the stack trace."},{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":2,"creation_date":1656332616,"post_id":72763874,"comment_id":128538354,"body_markdown":"The answer is to use a servlet filter instead of a servlet. It&#39;s however very surprising that you basically answered this yourself by using the `[servlet-filters]` tag instead of the `[servlets]` tag on your question. The code which you have there is NOT a servlet filter. It&#39;s a plain servlet.","body":"The answer is to use a servlet filter instead of a servlet. It&#39;s however very surprising that you basically answered this yourself by using the <code>[servlet-filters]</code> tag instead of the <code>[servlets]</code> tag on your question. The code which you have there is NOT a servlet filter. It&#39;s a plain servlet."}],"owner":{"account_id":1762339,"reputation":865,"user_id":2573201,"accept_rate":90,"display_name":"user1609085"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656434382,"creation_date":1656265131,"question_id":72763874,"body_markdown":"Working on a http proxy servlet which is used to forward the request to another remote server. \r\n\r\nNOTE: Cannot change the URL Pattern\r\n\r\nSnippet of web.xml\r\n\r\n    &lt;servlet&gt;\r\n\t\t&lt;servlet-name&gt;SomeServlet&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;SomeServlet&lt;/servlet-class&gt;\r\n\t\t&lt;load-on-startup&gt;0&lt;/load-on-startup&gt;\r\n\t&lt;/servlet&gt;\r\n\t\r\n\t&lt;servlet-mapping&gt;\r\n\t\t&lt;servlet-name&gt;SomeServlet&lt;/servlet-name&gt;\r\n\t\t&lt;url-pattern&gt;/pattern1/*&lt;/url-pattern&gt;\r\n\t&lt;/servlet-mapping&gt;\r\n\r\nSomeServlet.Java\r\n\r\nValidates the requests to check for specific content in request body and if matches forward to remote server. (Working as expected)\r\n\r\nbut if the condition fails, request processing should continue as is. \r\nwhat I have now,\r\n\r\n    public class proxyServlet extends HttpServlet {\r\n    /* it has all the init other configs*/\r\n    \r\n    @Overrirde\r\n    protected void service(HttpServletRequest servletRequest, HttpServletResponse servletResponse)\r\n    \t\tthrows ServletException, IOException {\r\n    \r\n            /* If true, returns which endpoint for remote server else returns null */\r\n    \t\tString endPoint = checkForConditions(servletRequest);\r\n    \r\n    \t\tif(endPoint == null) {\r\n    \t\t\treturn; // this is not letting the app to continue with flow.\r\n    \t\t} else {\r\n               HttpRequest newR = new BasicHttpRequest(method, endPoint);\r\n               doExecute(servletRequest, newR)\r\n            }\r\n        }\r\n    }\r\n\r\nI cannot create a new request and forward since server will again catch the pattern and do it in a infinite loop. \r\n\r\nWhat is the best way to accomplish this? Any suggestions are greatly appreciated. \r\n\r\nUPDATE-Solved: As per the comment from @balusc, Used servlet-filter and on condition use a HTTPClient to send POST request to remote server else chain.doFilter(...)","title":"Conditional Http Proxy Servlet","body":"<p>Working on a http proxy servlet which is used to forward the request to another remote server.</p>\n<p>NOTE: Cannot change the URL Pattern</p>\n<p>Snippet of web.xml</p>\n<pre><code>&lt;servlet&gt;\n    &lt;servlet-name&gt;SomeServlet&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;SomeServlet&lt;/servlet-class&gt;\n    &lt;load-on-startup&gt;0&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;SomeServlet&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/pattern1/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n<p>SomeServlet.Java</p>\n<p>Validates the requests to check for specific content in request body and if matches forward to remote server. (Working as expected)</p>\n<p>but if the condition fails, request processing should continue as is.\nwhat I have now,</p>\n<pre><code>public class proxyServlet extends HttpServlet {\n/* it has all the init other configs*/\n\n@Overrirde\nprotected void service(HttpServletRequest servletRequest, HttpServletResponse servletResponse)\n        throws ServletException, IOException {\n\n        /* If true, returns which endpoint for remote server else returns null */\n        String endPoint = checkForConditions(servletRequest);\n\n        if(endPoint == null) {\n            return; // this is not letting the app to continue with flow.\n        } else {\n           HttpRequest newR = new BasicHttpRequest(method, endPoint);\n           doExecute(servletRequest, newR)\n        }\n    }\n}\n</code></pre>\n<p>I cannot create a new request and forward since server will again catch the pattern and do it in a infinite loop.</p>\n<p>What is the best way to accomplish this? Any suggestions are greatly appreciated.</p>\n<p>UPDATE-Solved: As per the comment from @balusc, Used servlet-filter and on condition use a HTTPClient to send POST request to remote server else chain.doFilter(...)</p>\n"},{"tags":["javascript","java","react-native"],"answers":[{"tags":[],"owner":{"account_id":24315040,"reputation":136,"user_id":18256370,"display_name":"anti-duhring"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656433794,"creation_date":1656433794,"answer_id":72790144,"question_id":72789880,"body_markdown":"You can remove the HTML tags using `.replace()` method. Try this:\r\n\r\n```javascript\r\n&lt;Text style={[GlobalStyle.EventDescr]}&gt;{eventData.description.replace(/(&lt;([^&gt;]+)&gt;)/ig,&#39;&#39;)}&lt;/Text&gt;\r\n```\r\n\r\nCheck the documentation: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace","title":"Having issue to render html data in react native","body":"<p>You can remove the HTML tags using <code>.replace()</code> method. Try this:</p>\n<pre class=\"lang-js prettyprint-override\"><code>&lt;Text style={[GlobalStyle.EventDescr]}&gt;{eventData.description.replace(/(&lt;([^&gt;]+)&gt;)/ig,'')}&lt;/Text&gt;\n</code></pre>\n<p>Check the documentation: <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace</a></p>\n"}],"owner":{"account_id":25668959,"reputation":1,"user_id":19433506,"display_name":"Vesh nair"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656433794,"creation_date":1656432631,"question_id":72789880,"body_markdown":"I&#39;m having issue on how to render a HTML API data name description in my react native code. Currently, the API data is in HTML format: [HTML Format Data Image][1] . I want to convert it to normal text like this: [Normal Text Image][2]. Please do help me out to solve this problem.\r\n\r\nGiven HTML API Data name: [Given API Data name Image ][3]\r\n\r\nThis is my code:\r\n\r\n     return (\r\n                &lt;ScrollView style={[GlobalStyle.CustomScrollView]}&gt;\r\n                    &lt;HeaderBar3/&gt;\r\n                    &lt;Text style={[GlobalStyle.EventTitle]}&gt; Event Details&lt;/Text&gt;\r\n                    &lt;View style={[GlobalStyle.EventDetailView]}&gt;\r\n                        &lt;Image style={[GlobalStyle.EventDetailImage]} source={{uri: eventData.main_image}} resizeMode=&quot;contain&quot;/&gt;\r\n                        &lt;Text style={[GlobalStyle.EventSubtitle]}&gt;Date:&lt;/Text&gt;\r\n                        &lt;Text style={[GlobalStyle.EventDate]}&gt;{date}&lt;/Text&gt;\r\n                        &lt;Text style={[GlobalStyle.EventTime]}&gt;{startTime}{&#39;-&#39;}{endTime}&lt;/Text&gt;\r\n                        &lt;Text style={[GlobalStyle.EventSubtitle]}&gt;Venue:&lt;/Text&gt;\r\n                        &lt;Text style={[GlobalStyle.EventDescr]}&gt;{eventData.venue}&lt;/Text&gt;\r\n                        &lt;Text style={[GlobalStyle.EventSubtitle]}&gt;Ticket:&lt;/Text&gt;\r\n                        &lt;Text style={[GlobalStyle.EventTicketPrice]}&gt;{eventData.promotional_price}&lt;/Text&gt;\r\n                        &lt;Text style={[GlobalStyle.EventSubtitle]}&gt;Description:&lt;/Text&gt;\r\n                        &lt;Text style={[GlobalStyle.EventDescr]}&gt;{eventData.description}&lt;/Text&gt;\r\n                &lt;/View&gt;\r\n                &lt;/ScrollView&gt;\r\n            );\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nxnQ2.png\r\n  [2]: https://i.stack.imgur.com/58b57.png\r\n  [3]: https://i.stack.imgur.com/BwsTz.png","title":"Having issue to render html data in react native","body":"<p>I'm having issue on how to render a HTML API data name description in my react native code. Currently, the API data is in HTML format: <a href=\"https://i.stack.imgur.com/nxnQ2.png\" rel=\"nofollow noreferrer\">HTML Format Data Image</a> . I want to convert it to normal text like this: <a href=\"https://i.stack.imgur.com/58b57.png\" rel=\"nofollow noreferrer\">Normal Text Image</a>. Please do help me out to solve this problem.</p>\n<p>Given HTML API Data name: <a href=\"https://i.stack.imgur.com/BwsTz.png\" rel=\"nofollow noreferrer\">Given API Data name Image </a></p>\n<p>This is my code:</p>\n<pre><code> return (\n            &lt;ScrollView style={[GlobalStyle.CustomScrollView]}&gt;\n                &lt;HeaderBar3/&gt;\n                &lt;Text style={[GlobalStyle.EventTitle]}&gt; Event Details&lt;/Text&gt;\n                &lt;View style={[GlobalStyle.EventDetailView]}&gt;\n                    &lt;Image style={[GlobalStyle.EventDetailImage]} source={{uri: eventData.main_image}} resizeMode=&quot;contain&quot;/&gt;\n                    &lt;Text style={[GlobalStyle.EventSubtitle]}&gt;Date:&lt;/Text&gt;\n                    &lt;Text style={[GlobalStyle.EventDate]}&gt;{date}&lt;/Text&gt;\n                    &lt;Text style={[GlobalStyle.EventTime]}&gt;{startTime}{'-'}{endTime}&lt;/Text&gt;\n                    &lt;Text style={[GlobalStyle.EventSubtitle]}&gt;Venue:&lt;/Text&gt;\n                    &lt;Text style={[GlobalStyle.EventDescr]}&gt;{eventData.venue}&lt;/Text&gt;\n                    &lt;Text style={[GlobalStyle.EventSubtitle]}&gt;Ticket:&lt;/Text&gt;\n                    &lt;Text style={[GlobalStyle.EventTicketPrice]}&gt;{eventData.promotional_price}&lt;/Text&gt;\n                    &lt;Text style={[GlobalStyle.EventSubtitle]}&gt;Description:&lt;/Text&gt;\n                    &lt;Text style={[GlobalStyle.EventDescr]}&gt;{eventData.description}&lt;/Text&gt;\n            &lt;/View&gt;\n            &lt;/ScrollView&gt;\n        );\n</code></pre>\n"},{"tags":["java","spring","spring-saml"],"answers":[{"tags":[],"owner":{"account_id":12727030,"reputation":1,"user_id":12055541,"display_name":"Eric"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656433666,"creation_date":1656433666,"answer_id":72790115,"question_id":46003747,"body_markdown":"I recently ran into this same issue using CachingMetadataManager. In the [docs][1], it says,\r\n\r\n&gt; Cache is cleaned whenever some of the providers published an observed\r\n&gt; message\r\n\r\nMy current guess is that the IDP either published a message and one of our severs didn&#39;t get it, or that the IDP made changes to the metadata without publishing a message. However, simply rebuilding the environment did fix the issue. \r\n\r\n  [1]: https://docs.spring.io/spring-security-saml/docs/current/api/org/springframework/security/saml/metadata/CachingMetadataManager.html","title":"spring-saml IDPSSODescriptor wasn&#39;t found after time","body":"<p>I recently ran into this same issue using CachingMetadataManager. In the <a href=\"https://docs.spring.io/spring-security-saml/docs/current/api/org/springframework/security/saml/metadata/CachingMetadataManager.html\" rel=\"nofollow noreferrer\">docs</a>, it says,</p>\n<blockquote>\n<p>Cache is cleaned whenever some of the providers published an observed\nmessage</p>\n</blockquote>\n<p>My current guess is that the IDP either published a message and one of our severs didn't get it, or that the IDP made changes to the metadata without publishing a message. However, simply rebuilding the environment did fix the issue.</p>\n"}],"owner":{"account_id":11675016,"reputation":41,"user_id":8548867,"display_name":"Pasquale Daloiso"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1824,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1656433666,"creation_date":1504280436,"question_id":46003747,"body_markdown":"I have a system that works, but after certain period of time I have this kind of problem:\r\n\r\n    2017-08-31 15:31:00 ERROR UT005023: Exception handling request to /spring-security-saml2-sample/saml/login: javax.servlet.ServletException: org.opensaml.saml2.metadata.provider.MetadataProviderException: Metadata for entity ****** and role {urn:oasis:names:tc:SAML:2.0:metadata}IDPSSODescriptor wasn&#39;t found\r\n    2017-08-31 15:31:02,922 ERROR [io.undertow.request] (default task-29) UT005023: Exception handling request to /spring-security-saml2-sample/: org.apache.jasper.JasperException: java.lang.NullPointerException\r\n    at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:473)\r\n\r\nMy &quot;express&quot; solution is to restart wildfly but I&#39;d like to resolve it definitively. What can I do?\r\n","title":"spring-saml IDPSSODescriptor wasn&#39;t found after time","body":"<p>I have a system that works, but after certain period of time I have this kind of problem:</p>\n\n<pre><code>2017-08-31 15:31:00 ERROR UT005023: Exception handling request to /spring-security-saml2-sample/saml/login: javax.servlet.ServletException: org.opensaml.saml2.metadata.provider.MetadataProviderException: Metadata for entity ****** and role {urn:oasis:names:tc:SAML:2.0:metadata}IDPSSODescriptor wasn't found\n2017-08-31 15:31:02,922 ERROR [io.undertow.request] (default task-29) UT005023: Exception handling request to /spring-security-saml2-sample/: org.apache.jasper.JasperException: java.lang.NullPointerException\nat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:473)\n</code></pre>\n\n<p>My \"express\" solution is to restart wildfly but I'd like to resolve it definitively. What can I do?</p>\n"},{"tags":["eclipse","java"],"comments":[{"owner":{"account_id":1350225,"reputation":1510,"user_id":1290119,"accept_rate":90,"display_name":"Manoj Kumar"},"score":0,"creation_date":1347634145,"post_id":12426810,"comment_id":16705974,"body_markdown":"best and easy way to do this is to reinstall your java and set the path on eclipse","body":"best and easy way to do this is to reinstall your java and set the path on eclipse"},{"owner":{"account_id":1096523,"reputation":1225,"user_id":1090009,"display_name":"NullReference"},"score":0,"creation_date":1347634337,"post_id":12426810,"comment_id":16706065,"body_markdown":"Nambari - Any reason why the JAVA_HOME variable would suddenly disappear? EDIT: just tried setting the JAVA_HOME env var and still get the error on eclipse startup.","body":"Nambari - Any reason why the JAVA_HOME variable would suddenly disappear? EDIT: just tried setting the JAVA_HOME env var and still get the error on eclipse startup."},{"owner":{"account_id":47072,"reputation":576,"user_id":139289,"display_name":"StellarVortex"},"score":3,"creation_date":1388227649,"post_id":12426810,"comment_id":31208205,"body_markdown":"@Nambari &quot;Eclipse DOES NOT consult the JAVA_HOME environment variable.&quot; [FAQ](http://wiki.eclipse.org/FAQ_How_do_I_run_Eclipse%3F#Find_the_JVM)","body":"@Nambari &quot;Eclipse DOES NOT consult the JAVA_HOME environment variable.&quot; <a href=\"http://wiki.eclipse.org/FAQ_How_do_I_run_Eclipse%3F#Find_the_JVM\" rel=\"nofollow noreferrer\">FAQ</a>"},{"owner":{"account_id":2839884,"reputation":948,"user_id":2439701,"accept_rate":83,"display_name":"Pavan Pyati"},"score":0,"creation_date":1429809278,"post_id":12426810,"comment_id":47786853,"body_markdown":"Just set JAVA_HOME and PATH environment variables.","body":"Just set JAVA_HOME and PATH environment variables."}],"answers":[{"tags":[],"owner":{"account_id":314004,"reputation":11829,"user_id":628943,"accept_rate":100,"display_name":"Ajay George"},"down_vote_count":0,"up_vote_count":233,"is_accepted":true,"score":233,"last_activity_date":1547663131,"creation_date":1347634372,"answer_id":12426948,"question_id":12426810,"body_markdown":"Two ways to work around this .\r\n\r\n- **Recommended way** : In your `eclipse.ini` file make sure you are\r\n   pointing -vm to your jdk installation. More on this [here][1]. Make sure to add `-vm` before the `-vmargs` section.\r\n\r\n- Pass in the `vm` flag from command line. http://wiki.eclipse.org/FAQ_How_do_I_run_Eclipse%3F#Find_the_JVM\r\n\r\n*Note* : Eclipse DOES NOT consult the JAVA_HOME environment variable.\r\n  \r\n\r\n\r\n\r\n\r\n\r\n  [1]: http://wiki.eclipse.org/Eclipse.ini#-vm_value:_Windows_Example","title":"eclipse won&#39;t start - no java virtual machine was found","body":"<p>Two ways to work around this .</p>\n\n<ul>\n<li><p><strong>Recommended way</strong> : In your <code>eclipse.ini</code> file make sure you are\npointing -vm to your jdk installation. More on this <a href=\"http://wiki.eclipse.org/Eclipse.ini#-vm_value:_Windows_Example\" rel=\"noreferrer\">here</a>. Make sure to add <code>-vm</code> before the <code>-vmargs</code> section.</p></li>\n<li><p>Pass in the <code>vm</code> flag from command line. <a href=\"http://wiki.eclipse.org/FAQ_How_do_I_run_Eclipse%3F#Find_the_JVM\" rel=\"noreferrer\">http://wiki.eclipse.org/FAQ_How_do_I_run_Eclipse%3F#Find_the_JVM</a></p></li>\n</ul>\n\n<p><em>Note</em> : Eclipse DOES NOT consult the JAVA_HOME environment variable.</p>\n"},{"tags":[],"owner":{"account_id":1748408,"reputation":414,"user_id":1598077,"display_name":"skvalen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1361542001,"creation_date":1361542001,"answer_id":15026001,"question_id":12426810,"body_markdown":"I had the same problem. I my case it was a program i&#39;ve install that had destroyed the PATH env variable.\r\n\r\nso check your PATH environment variable.","title":"eclipse won&#39;t start - no java virtual machine was found","body":"<p>I had the same problem. I my case it was a program i've install that had destroyed the PATH env variable.</p>\n\n<p>so check your PATH environment variable.</p>\n"},{"tags":[],"owner":{"account_id":1001865,"reputation":4245,"user_id":1016544,"accept_rate":27,"display_name":"Wahib Ul Haq"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1369137924,"creation_date":1369137924,"answer_id":16669580,"question_id":12426810,"body_markdown":"In my case i had few things missing. I didnt install JDK and JRE of 64 bit while eclipse was of 64 bit version. Once done and JDK\\bin path was set in PATH variable eclipse worked fine :)","title":"eclipse won&#39;t start - no java virtual machine was found","body":"<p>In my case i had few things missing. I didnt install JDK and JRE of 64 bit while eclipse was of 64 bit version. Once done and JDK\\bin path was set in PATH variable eclipse worked fine :)</p>\n"},{"tags":[],"owner":{"account_id":1604220,"reputation":161,"user_id":1484626,"display_name":"user1484626"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1371620218,"creation_date":1371620218,"answer_id":17183570,"question_id":12426810,"body_markdown":"Make sure both the Java version and Eclipse are belongs to same architecture.So install 64 bit java for 64 bit eclipse.","title":"eclipse won&#39;t start - no java virtual machine was found","body":"<p>Make sure both the Java version and Eclipse are belongs to same architecture.So install 64 bit java for 64 bit eclipse.</p>\n"},{"tags":[],"owner":{"account_id":3263540,"reputation":1,"user_id":2748549,"display_name":"Lukas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1378329928,"creation_date":1378329928,"answer_id":18624066,"question_id":12426810,"body_markdown":"Try downloading and installing 32-bit version of Java, and then setting the path :)","title":"eclipse won&#39;t start - no java virtual machine was found","body":"<p>Try downloading and installing 32-bit version of Java, and then setting the path :)</p>\n"},{"tags":[],"owner":{"account_id":157453,"reputation":8234,"user_id":375422,"accept_rate":69,"display_name":"alansiqueira27"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1378385857,"creation_date":1378385857,"answer_id":18637003,"question_id":12426810,"body_markdown":"Yeah it happend to me right now. Go to Oracle site, and search for Java SDK. Make sure you use   the same architeture (x86, x64) of Eclipse.","title":"eclipse won&#39;t start - no java virtual machine was found","body":"<p>Yeah it happend to me right now. Go to Oracle site, and search for Java SDK. Make sure you use   the same architeture (x86, x64) of Eclipse.</p>\n"},{"tags":[],"owner":{"account_id":2886493,"reputation":2377,"user_id":2476238,"accept_rate":60,"display_name":"Pascal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1411597902,"creation_date":1389881878,"answer_id":21164270,"question_id":12426810,"body_markdown":"First \r\n\r\ncheck if you have both java 32 and 64 bit install then \r\n\r\nSetting Path on Windows\r\n\r\nWindows 8\r\n\r\nDrag the Mouse pointer to the Right bottom corner of the screen\r\n\r\nClick on the Search icon and type: Control Panel\r\n\r\nClick on -&gt; Control Panel -&gt; System -&gt; Advanced\r\n\r\nClick on Environment Variables, under System Variables, find PATH, and click on it.\r\n\r\nIn the Edit windows, modify PATH by adding the location of the class to the value for PATH, Or simply make sure that the variable name is in ALL CAPS\r\n\r\nIf you do not have the item PATH, you may select to add a new variable and add PATH as the name and the location of the class as the value.\r\n\r\nClose the window.\r\n\r\nReopen Command prompt window, and run your java code.\r\n","title":"eclipse won&#39;t start - no java virtual machine was found","body":"<p>First </p>\n\n<p>check if you have both java 32 and 64 bit install then </p>\n\n<p>Setting Path on Windows</p>\n\n<p>Windows 8</p>\n\n<p>Drag the Mouse pointer to the Right bottom corner of the screen</p>\n\n<p>Click on the Search icon and type: Control Panel</p>\n\n<p>Click on -> Control Panel -> System -> Advanced</p>\n\n<p>Click on Environment Variables, under System Variables, find PATH, and click on it.</p>\n\n<p>In the Edit windows, modify PATH by adding the location of the class to the value for PATH, Or simply make sure that the variable name is in ALL CAPS</p>\n\n<p>If you do not have the item PATH, you may select to add a new variable and add PATH as the name and the location of the class as the value.</p>\n\n<p>Close the window.</p>\n\n<p>Reopen Command prompt window, and run your java code.</p>\n"},{"tags":[],"owner":{"account_id":1359054,"reputation":746,"user_id":1296783,"accept_rate":67,"display_name":"yeaaaahhhh..hamf hamf"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1582553514,"creation_date":1395065530,"answer_id":22456604,"question_id":12426810,"body_markdown":"**eclipse.ini:**\r\n\r\n    --launcher.defaultAction  \r\n    --launcher.XXMaxPermSize  \r\n    256M  \r\n    -showsplash\r\n    org.eclipse.platform\r\n    --launcher.XXMaxPermSize&lt;br/&gt;\r\n    256m  \r\n    --launcher.defaultAction  \r\n    openFile  \r\n    -showsplash  \r\n    org.eclipse.platform\r\n    -vm\r\n    C:\\Program Files\\Java\\jdk1.7.0_21\\jre\\bin\\server\\jvm.dll&lt;br/&gt;\r\n    --launcher.XXMaxPermSize  \r\n    256m  \r\n    --launcher.defaultAction  \r\n    openFile  \r\n    -vmargs  \r\n    -Dosgi.requiredJavaVersion=1.7  \r\n   \r\nThat worked for me. It doesnt have to be on the beginning, but surely it cant be at the end of the file.","title":"eclipse won&#39;t start - no java virtual machine was found","body":"<p><strong>eclipse.ini:</strong></p>\n\n<pre><code>--launcher.defaultAction  \n--launcher.XXMaxPermSize  \n256M  \n-showsplash\norg.eclipse.platform\n--launcher.XXMaxPermSize&lt;br/&gt;\n256m  \n--launcher.defaultAction  \nopenFile  \n-showsplash  \norg.eclipse.platform\n-vm\nC:\\Program Files\\Java\\jdk1.7.0_21\\jre\\bin\\server\\jvm.dll&lt;br/&gt;\n--launcher.XXMaxPermSize  \n256m  \n--launcher.defaultAction  \nopenFile  \n-vmargs  \n-Dosgi.requiredJavaVersion=1.7  \n</code></pre>\n\n<p>That worked for me. It doesnt have to be on the beginning, but surely it cant be at the end of the file.</p>\n"},{"tags":[],"owner":{"account_id":1960115,"reputation":73,"user_id":1761984,"display_name":"Toxic Brain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1408525271,"creation_date":1408525271,"answer_id":25400684,"question_id":12426810,"body_markdown":"This  happened to me also. And I found the javaw.exe in C:\\Windows\\System32 got deleted after the windows update. Copied one more time and Eclipse started all fine.","title":"eclipse won&#39;t start - no java virtual machine was found","body":"<p>This  happened to me also. And I found the javaw.exe in C:\\Windows\\System32 got deleted after the windows update. Copied one more time and Eclipse started all fine.</p>\n"},{"tags":[],"owner":{"account_id":1824473,"reputation":463,"user_id":1657660,"accept_rate":25,"display_name":"Shan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1408951689,"creation_date":1408951689,"answer_id":25480959,"question_id":12426810,"body_markdown":"Chek os,eclipse,and java whether it is 32 or 64 bit\r\n","title":"eclipse won&#39;t start - no java virtual machine was found","body":"<p>Chek os,eclipse,and java whether it is 32 or 64 bit</p>\n"},{"tags":[],"owner":{"account_id":3899070,"reputation":549,"user_id":3227350,"accept_rate":100,"display_name":"RayanFar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1412014791,"creation_date":1412014791,"answer_id":26106317,"question_id":12426810,"body_markdown":"you can also copy your JRE folder to eclipse directory and it will work corectly","title":"eclipse won&#39;t start - no java virtual machine was found","body":"<p>you can also copy your JRE folder to eclipse directory and it will work corectly</p>\n"},{"tags":[],"owner":{"account_id":4275999,"reputation":34098,"user_id":3496570,"accept_rate":39,"display_name":"Zar E Ahmer"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1425996240,"creation_date":1425996240,"answer_id":28965818,"question_id":12426810,"body_markdown":"Open `eclipse.ini` file besides `eclipse.exe`\r\n\r\npaste \r\n\r\n    -vm\r\n    C:\\Program Files\\Java\\jdk1.7.0_21\\jre\\bin\\server\\jvm.dll \r\n     //find it if you are having another JDK version.\r\n\r\non first line. **And you are good to go.**","title":"eclipse won&#39;t start - no java virtual machine was found","body":"<p>Open <code>eclipse.ini</code> file besides <code>eclipse.exe</code></p>\n\n<p>paste </p>\n\n<pre><code>-vm\nC:\\Program Files\\Java\\jdk1.7.0_21\\jre\\bin\\server\\jvm.dll \n //find it if you are having another JDK version.\n</code></pre>\n\n<p>on first line. <strong>And you are good to go.</strong></p>\n"},{"tags":[],"owner":{"account_id":4869796,"reputation":5586,"user_id":3926727,"accept_rate":100,"display_name":"Rasel"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1436634151,"creation_date":1436634151,"answer_id":31359621,"question_id":12426810,"body_markdown":"I had same problem after updating java.\r\nThen I paste \r\n\r\n    -vm\r\n    C:\\Program Files\\Java\\jre6\\bin\\javaw.exe\r\n to show the path of `javaw.exe` in `eclipse.ini` file.\r\n\r\nHope this will help you.","title":"eclipse won&#39;t start - no java virtual machine was found","body":"<p>I had same problem after updating java.\nThen I paste </p>\n\n<pre><code>-vm\nC:\\Program Files\\Java\\jre6\\bin\\javaw.exe\n</code></pre>\n\n<p>to show the path of <code>javaw.exe</code> in <code>eclipse.ini</code> file.</p>\n\n<p>Hope this will help you.</p>\n"},{"tags":[],"owner":{"account_id":3577370,"reputation":3514,"user_id":2986279,"accept_rate":50,"display_name":"Gaurav Khurana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1451052830,"creation_date":1451052830,"answer_id":34463586,"question_id":12426810,"body_markdown":"The problem occurred on my machine due to Java version got updated(66 from 60). Pay special attention to it. As said above would like to add \r\n\r\nIn this file **eclipse.ini**, which is available where you have installed eclipse search for the line below **-vm** example\r\nC:\\Program Files\\Java\\jre1.8.0_**66**\\bin\r\n\r\nnow try to open this location, in case you are not able to open, that means there is some problem. In my case the version installed was jre1.8.0_**60** . So there was a small difference which may not noticeable(66 instead of 60). Update it you will be able to open.","title":"eclipse won&#39;t start - no java virtual machine was found","body":"<p>The problem occurred on my machine due to Java version got updated(66 from 60). Pay special attention to it. As said above would like to add </p>\n\n<p>In this file <strong>eclipse.ini</strong>, which is available where you have installed eclipse search for the line below <strong>-vm</strong> example\nC:\\Program Files\\Java\\jre1.8.0_<strong>66</strong>\\bin</p>\n\n<p>now try to open this location, in case you are not able to open, that means there is some problem. In my case the version installed was jre1.8.0_<strong>60</strong> . So there was a small difference which may not noticeable(66 instead of 60). Update it you will be able to open.</p>\n"},{"tags":[],"owner":{"account_id":7588191,"reputation":553,"user_id":5756607,"display_name":"Guna Sekaran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1473839050,"creation_date":1473839050,"answer_id":39485051,"question_id":12426810,"body_markdown":"***Via Puppet ATG installation Centos.***\r\n\r\n**ERROR:**\r\n\r\nNo Java virtual machine could be found from your PATH\r\n\r\n**SOLUTION:**\r\n\r\nDeclear variable **:** \r\n\r\n**$java_home=&quot;/opt/oracle/product/java/jdk1.8.0_45/bin&quot;**\r\n\r\nAdd This **&quot;{$java_home}&quot;** Java Exec \r\n\r\n    require common, java\r\n    Exec {\r\n        path =&gt; [ &quot;${java_home}&quot;, &quot;/usr/bin&quot;, &quot;/bin&quot;, &quot;/usr/sbin&quot;, &quot;${temp_directory}&quot;]\r\n    }\r\n","title":"eclipse won&#39;t start - no java virtual machine was found","body":"<p><strong><em>Via Puppet ATG installation Centos.</em></strong></p>\n\n<p><strong>ERROR:</strong></p>\n\n<p>No Java virtual machine could be found from your PATH</p>\n\n<p><strong>SOLUTION:</strong></p>\n\n<p>Declear variable <strong>:</strong> </p>\n\n<p><strong>$java_home=\"/opt/oracle/product/java/jdk1.8.0_45/bin\"</strong></p>\n\n<p>Add This <strong>\"{$java_home}\"</strong> Java Exec </p>\n\n<pre><code>require common, java\nExec {\n    path =&gt; [ \"${java_home}\", \"/usr/bin\", \"/bin\", \"/usr/sbin\", \"${temp_directory}\"]\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9549526,"reputation":11,"user_id":7094140,"display_name":"Yi Ming"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1479440311,"creation_date":1479440311,"answer_id":40668960,"question_id":12426810,"body_markdown":"I came across same issue y&#39;day, with PATH etc configured correctly.\r\nIt can be opened from command line,  just now working by a double click.\r\n\r\nAnd it was working now, by just &quot;**Run as administrator**&quot; :)","title":"eclipse won&#39;t start - no java virtual machine was found","body":"<p>I came across same issue y'day, with PATH etc configured correctly.\nIt can be opened from command line,  just now working by a double click.</p>\n\n<p>And it was working now, by just \"<strong>Run as administrator</strong>\" :)</p>\n"},{"tags":[],"owner":{"account_id":3664301,"reputation":2938,"user_id":3053228,"display_name":"prashant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480668735,"creation_date":1480668735,"answer_id":40928104,"question_id":12426810,"body_markdown":"Some time this happens when your Java folder get updated.\r\n\r\nOpen Eclipse folder and search file eclipse.ini.\r\nOpen the eclipse.ini file and check whether jre version is same as jre available in your java folder.\r\n\r\nI faced same problem when my jre got changed from jre1.8.0_101 to jre1.8.0_111.\r\n\r\n**C:\\Program Files\\Java\\jre1.8.0_101\\bin\r\nto\r\nC:\\Program Files\\Java\\jre1.8.0_111\\bin**","title":"eclipse won&#39;t start - no java virtual machine was found","body":"<p>Some time this happens when your Java folder get updated.</p>\n\n<p>Open Eclipse folder and search file eclipse.ini.\nOpen the eclipse.ini file and check whether jre version is same as jre available in your java folder.</p>\n\n<p>I faced same problem when my jre got changed from jre1.8.0_101 to jre1.8.0_111.</p>\n\n<p><strong>C:\\Program Files\\Java\\jre1.8.0_101\\bin\nto\nC:\\Program Files\\Java\\jre1.8.0_111\\bin</strong></p>\n"},{"tags":[],"owner":{"account_id":233021,"reputation":2177,"user_id":498238,"display_name":"Sonata"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487584875,"creation_date":1487584875,"answer_id":42341497,"question_id":12426810,"body_markdown":"In my case the problem was that the path was enclosed in quotation marks (&quot;): \r\n\r\n    -vm \r\n    &quot;C:\\Program Files\\Java\\jdk1.8.0_25\\bin&quot;\r\n\r\nRemoving them fixed the problem:\r\n\r\n    -vm \r\n    C:\\Program Files\\Java\\jdk1.8.0_25\\bin\r\n","title":"eclipse won&#39;t start - no java virtual machine was found","body":"<p>In my case the problem was that the path was enclosed in quotation marks (\"): </p>\n\n<pre><code>-vm \n\"C:\\Program Files\\Java\\jdk1.8.0_25\\bin\"\n</code></pre>\n\n<p>Removing them fixed the problem:</p>\n\n<pre><code>-vm \nC:\\Program Files\\Java\\jdk1.8.0_25\\bin\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3695702,"reputation":12519,"user_id":5156075,"accept_rate":100,"display_name":"John Joe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515166181,"creation_date":1515166181,"answer_id":48116633,"question_id":12426810,"body_markdown":"My solution is **Include JDK&#39;s &quot;bin&quot; Directory in the PATH**\r\n\r\nTo edit the `PATH` environment variable in `Windows 7/8/10:`\r\n\r\n1. Launch &quot;Control Panel&quot; ⇒ (Optional) System and Security ⇒ System ⇒ Click &quot;Advanced system settings&quot; on the left pane.\r\n2. Switch to &quot;Advanced&quot; tab ⇒ Push &quot;Environment Variables&quot; button.\r\nUnder &quot;System Variables&quot; (the bottom pane), scroll down to select &quot;Path&quot; ⇒ Click &quot;Edit...&quot;.\r\n3. Copy the JDK bin directory from JAVA folder and paste to &quot;Edit...&quot;  ","title":"eclipse won&#39;t start - no java virtual machine was found","body":"<p>My solution is <strong>Include JDK's \"bin\" Directory in the PATH</strong></p>\n\n<p>To edit the <code>PATH</code> environment variable in <code>Windows 7/8/10:</code></p>\n\n<ol>\n<li>Launch \"Control Panel\" ⇒ (Optional) System and Security ⇒ System ⇒ Click \"Advanced system settings\" on the left pane.</li>\n<li>Switch to \"Advanced\" tab ⇒ Push \"Environment Variables\" button.\nUnder \"System Variables\" (the bottom pane), scroll down to select \"Path\" ⇒ Click \"Edit...\".</li>\n<li>Copy the JDK bin directory from JAVA folder and paste to \"Edit...\"  </li>\n</ol>\n"},{"tags":[],"owner":{"account_id":267334,"reputation":2179,"user_id":555451,"display_name":"Stuart Cardall"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1526051522,"creation_date":1526051522,"answer_id":50295329,"question_id":12426810,"body_markdown":"On **Centos 7** I fixed this problem (after a big `yum upgrade`) by changing my setting for `vm` in:\r\n\r\n `~/eclipse/java-oxygen/eclipse/eclipse.ini` \r\n\r\nto:\r\n\r\n    -vm\r\n    /etc/alternatives/jre/bin\r\n\r\n(which will always point to the latest installed `java`)","title":"eclipse won&#39;t start - no java virtual machine was found","body":"<p>On <strong>Centos 7</strong> I fixed this problem (after a big <code>yum upgrade</code>) by changing my setting for <code>vm</code> in:</p>\n\n<p><code>~/eclipse/java-oxygen/eclipse/eclipse.ini</code> </p>\n\n<p>to:</p>\n\n<pre><code>-vm\n/etc/alternatives/jre/bin\n</code></pre>\n\n<p>(which will always point to the latest installed <code>java</code>)</p>\n"},{"tags":[],"owner":{"account_id":5711291,"reputation":1437,"user_id":4513218,"display_name":"Walterwhites"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538944529,"creation_date":1538944529,"answer_id":52692673,"question_id":12426810,"body_markdown":"you should change the jdk path in eclipse.ini here:\r\n\r\n/Users/you_username/eclipse/jee-photon/Eclipse.app/Contents/Eclipse/eclipse.ini\r\n\r\nafter you should restart eclipse :)","title":"eclipse won&#39;t start - no java virtual machine was found","body":"<p>you should change the jdk path in eclipse.ini here:</p>\n\n<p>/Users/you_username/eclipse/jee-photon/Eclipse.app/Contents/Eclipse/eclipse.ini</p>\n\n<p>after you should restart eclipse :)</p>\n"},{"tags":[],"owner":{"account_id":11529522,"reputation":4397,"user_id":8448886,"accept_rate":90,"display_name":"Abhishek kumar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1559064185,"creation_date":1559064185,"answer_id":56347295,"question_id":12426810,"body_markdown":"After setting Java Path, if you are not able to open your eclipse do below steps:\r\n\r\n1. Go to your Eclipse Folder where you have extracted your eclipse.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n2. Open Eclipse file in notepad (by default it will open on notepad)\r\n\r\nEnter two lines\r\n\r\n    -vm\r\n    C:/Program Files/Java/jdk-11.0.2/bin/javaw.exe\r\n\r\n**jdk-11.0.2 ,It should be your Java Version, which you will get by the above location.**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7MmNU.png\r\n  [2]: https://i.stack.imgur.com/01Rpt.png","title":"eclipse won&#39;t start - no java virtual machine was found","body":"<p>After setting Java Path, if you are not able to open your eclipse do below steps:</p>\n\n<ol>\n<li>Go to your Eclipse Folder where you have extracted your eclipse.</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/7MmNU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7MmNU.png\" alt=\"enter image description here\"></a></p>\n\n<ol start=\"2\">\n<li>Open Eclipse file in notepad (by default it will open on notepad)</li>\n</ol>\n\n<p>Enter two lines</p>\n\n<pre><code>-vm\nC:/Program Files/Java/jdk-11.0.2/bin/javaw.exe\n</code></pre>\n\n<p><strong>jdk-11.0.2 ,It should be your Java Version, which you will get by the above location.</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/01Rpt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/01Rpt.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":11269209,"reputation":488,"user_id":8265160,"display_name":"Irshad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656433360,"creation_date":1656433360,"answer_id":72790042,"question_id":12426810,"body_markdown":"\r\nIf Eclipse isn&#39;t finding your JRE/JDK or finding the wrong version, add the following two lines to the beginning of your ***eclipse.ini*** file:\r\n\r\n    -vm\r\n    [your-path-to-java-executable]","title":"eclipse won&#39;t start - no java virtual machine was found","body":"<p>If Eclipse isn't finding your JRE/JDK or finding the wrong version, add the following two lines to the beginning of your <em><strong>eclipse.ini</strong></em> file:</p>\n<pre><code>-vm\n[your-path-to-java-executable]\n</code></pre>\n"}],"owner":{"account_id":1096523,"reputation":1225,"user_id":1090009,"display_name":"NullReference"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":460571,"favorite_count":0,"down_vote_count":0,"up_vote_count":107,"accepted_answer_id":12426948,"answer_count":23,"score":107,"last_activity_date":1656433360,"creation_date":1347633888,"question_id":12426810,"body_markdown":"Eclipse was running fine yesterday (and has been since I installed it about a year ago). Now all the sudden I&#39;m getting the following error on startup:\r\n\r\n    &quot;A Java Runtime Environment (JRE) or Java Development Kit (JDK) must be available in order to run Eclipse. No Java virtual machine was found after searching the following locations:\r\n    C:\\Program Files\\eclipse\\jre\\bin\\javaw.exe\r\n    javaw.exe in your current PATH&quot;\r\n\r\nI have not changed anyhing Eclipse/Java related on my machine but a Windows update was applied to my machine yesterday, so maybe that has something to do with it (but I don&#39;t see anything that would affect Java). I&#39;ve looked at all the other posts about adding something to your PATH or adding the -vm option to the Eclipse ini (couldn&#39;t get this to work) or copying the jre folder to eclipse\\jre (this worked but doesn&#39;t seem like a good long term solution). So I&#39;m really trying to figure out how to get things back to the &quot;default&quot; setup without messing stuff up.\r\n\r\nI&#39;m running `Windows 7, Eclipse Helios and Java 1.6.0_26.`","title":"eclipse won&#39;t start - no java virtual machine was found","body":"<p>Eclipse was running fine yesterday (and has been since I installed it about a year ago). Now all the sudden I'm getting the following error on startup:</p>\n\n<pre><code>\"A Java Runtime Environment (JRE) or Java Development Kit (JDK) must be available in order to run Eclipse. No Java virtual machine was found after searching the following locations:\nC:\\Program Files\\eclipse\\jre\\bin\\javaw.exe\njavaw.exe in your current PATH\"\n</code></pre>\n\n<p>I have not changed anyhing Eclipse/Java related on my machine but a Windows update was applied to my machine yesterday, so maybe that has something to do with it (but I don't see anything that would affect Java). I've looked at all the other posts about adding something to your PATH or adding the -vm option to the Eclipse ini (couldn't get this to work) or copying the jre folder to eclipse\\jre (this worked but doesn't seem like a good long term solution). So I'm really trying to figure out how to get things back to the \"default\" setup without messing stuff up.</p>\n\n<p>I'm running <code>Windows 7, Eclipse Helios and Java 1.6.0_26.</code></p>\n"},{"tags":["java","docker","maven","gitlab-ci","nfs"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1656434758,"post_id":72790021,"comment_id":128569619,"body_markdown":"Running build on a NFS share is a problem... also why using `package` as well as `verify` ? Use only `verify` (check the build life cycle)...BTW: Which version of Maven do you use?","body":"Running build on a NFS share is a problem... also why using <code>package</code> as well as <code>verify</code> ? Use only <code>verify</code> (check the build life cycle)...BTW: Which version of Maven do you use?"},{"owner":{"account_id":19863584,"reputation":301,"user_id":14551409,"display_name":"Eduard Frankford"},"score":0,"creation_date":1656435741,"post_id":72790021,"comment_id":128569946,"body_markdown":"Thank you for your answer !\nI am using wrapper/dists/apache-maven-3.8.3 and Java version: 11.0.15","body":"Thank you for your answer ! I am using wrapper/dists/apache-maven-3.8.3 and Java version: 11.0.15"}],"owner":{"account_id":19863584,"reputation":301,"user_id":14551409,"display_name":"Eduard Frankford"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656433256,"creation_date":1656433256,"question_id":72790021,"body_markdown":"When running:\r\n\r\n`./mvnw package -Pprod verify -DskipTests jib:build -Djib.to.image=$IMAGE_TAG -Djib.to.auth.username=gitlab-ci-token  -Djib.to.auth.password=$CI_BUILD_TOKEN -Dmaven.repo.local=$MAVEN_USER_HOME` \r\n\r\nI get an error that says:\r\n\r\n    An unhandled exception occurred: EBUSY: resource busy or locked, unlink &#39;/builds/PATH/target/node/.nfs000000007cb56ba90067282d&#39; \r\n\r\nIt happens when `./mvnw package` reaches:\r\n\r\n    [INFO] &gt; ng build --configuration production\r\n    [INFO] \r\n    [INFO] An unhandled exception occurred: EBUSY: resource busy or locked, unlink &#39;/builds/sharing/codeability-sharing-platform/target/node/.nfs000000007cb56ba90067282d&#39;\r\n\r\nI have tried all possible solutions from here: https://stackoverflow.com/questions/55212864/error-ebusy-resource-busy-or-locked-rmdir\r\n\r\nHowever, none of these solutions worked because they are not executed in a pipeline and during the mvnw package command.\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Gitlab CI error when building maven image using jib: EBUSY: resource busy or locked, unlink /target/node/.nfs000000007cb56ba90067282d","body":"<p>When running:</p>\n<p><code>./mvnw package -Pprod verify -DskipTests jib:build -Djib.to.image=$IMAGE_TAG -Djib.to.auth.username=gitlab-ci-token  -Djib.to.auth.password=$CI_BUILD_TOKEN -Dmaven.repo.local=$MAVEN_USER_HOME</code></p>\n<p>I get an error that says:</p>\n<pre><code>An unhandled exception occurred: EBUSY: resource busy or locked, unlink '/builds/PATH/target/node/.nfs000000007cb56ba90067282d' \n</code></pre>\n<p>It happens when <code>./mvnw package</code> reaches:</p>\n<pre><code>[INFO] &gt; ng build --configuration production\n[INFO] \n[INFO] An unhandled exception occurred: EBUSY: resource busy or locked, unlink '/builds/sharing/codeability-sharing-platform/target/node/.nfs000000007cb56ba90067282d'\n</code></pre>\n<p>I have tried all possible solutions from here: <a href=\"https://stackoverflow.com/questions/55212864/error-ebusy-resource-busy-or-locked-rmdir\">Error: EBUSY: resource busy or locked, rmdir</a></p>\n<p>However, none of these solutions worked because they are not executed in a pipeline and during the mvnw package command.</p>\n"},{"tags":["java","spring-boot","keycloak"],"comments":[{"owner":{"account_id":18204838,"reputation":181,"user_id":13248380,"display_name":"Ferdynand Kiepski"},"score":0,"creation_date":1627034947,"post_id":64388494,"comment_id":121055463,"body_markdown":"Have you managed this problem?","body":"Have you managed this problem?"},{"owner":{"account_id":19680795,"reputation":33,"user_id":14407961,"display_name":"ichbintobias2"},"score":0,"creation_date":1627054625,"post_id":64388494,"comment_id":121063083,"body_markdown":"@FerdynandKiepski No, sadly I have no idea what I did with this problem. This thread is 3/4 of a year old and I have barely used Keycloak since.","body":"@FerdynandKiepski No, sadly I have no idea what I did with this problem. This thread is 3/4 of a year old and I have barely used Keycloak since."},{"owner":{"account_id":18204838,"reputation":181,"user_id":13248380,"display_name":"Ferdynand Kiepski"},"score":1,"creation_date":1627054799,"post_id":64388494,"comment_id":121063164,"body_markdown":"For me, it was IntelliJ IDEA problem, invalidation of cache and restart IntelliJ helped. If you were not using IntelliJ, then it was application.properties problem.","body":"For me, it was IntelliJ IDEA problem, invalidation of cache and restart IntelliJ helped. If you were not using IntelliJ, then it was application.properties problem."}],"answers":[{"tags":[],"owner":{"account_id":12205126,"reputation":1,"user_id":8908437,"display_name":"il-Rachdi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656433157,"creation_date":1656418670,"answer_id":72786287,"question_id":64388494,"body_markdown":"I had the same problem and managed to solve it by reloading the maven project: \r\nright click on the pom.xml/maven/ and then reload project.","title":"Keycloak java.lang.RuntimeException: Must set &#39;realm&#39; in config?","body":"<p>I had the same problem and managed to solve it by reloading the maven project:\nright click on the pom.xml/maven/ and then reload project.</p>\n"}],"owner":{"account_id":19680795,"reputation":33,"user_id":14407961,"display_name":"ichbintobias2"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2418,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1656433157,"creation_date":1602848505,"question_id":64388494,"body_markdown":"When I&#39;m sending a request to my Java Spring Boot RESTful webservice for the first time after startup I get the RuntimeException with note &quot;Must set &#39;realm&#39; in config. My configuration looks like those of most tutorials I&#39;ve seen and I found nothing on the internet about this particular error. Does anyone know how to solve this?\r\n\r\nThe full exception looks like this:\r\n\r\n    java.lang.RuntimeException: Must set &#39;realm&#39; in config\r\n\tat org.keycloak.adapters.KeycloakDeploymentBuilder.internalBuild(KeycloakDeploymentBuilder.java:57) ~[keycloak-adapter-core-10.0.2.jar:10.0.2]\r\n\tat org.keycloak.adapters.KeycloakDeploymentBuilder.build(KeycloakDeploymentBuilder.java:202) ~[keycloak-adapter-core-10.0.2.jar:10.0.2]\r\n\tat org.keycloak.adapters.springboot.KeycloakSpringBootConfigResolver.resolve(KeycloakSpringBootConfigResolver.java:39) ~[keycloak-spring-boot-adapter-core-10.0.2.jar:10.0.2]\r\n\tat org.keycloak.adapters.springsecurity.config.KeycloakSpringConfigResolverWrapper.resolve(KeycloakSpringConfigResolverWrapper.java:40) ~[keycloak-spring-security-adapter-10.0.2.jar:10.0.2]\r\n\tat org.keycloak.adapters.AdapterDeploymentContext.resolveDeployment(AdapterDeploymentContext.java:89) ~[keycloak-adapter-core-10.0.2.jar:10.0.2]\r\n\tat org.keycloak.adapters.PreAuthActionsHandler.preflightCors(PreAuthActionsHandler.java:100) ~[keycloak-adapter-core-10.0.2.jar:10.0.2]\r\n\tat org.keycloak.adapters.PreAuthActionsHandler.handleRequest(PreAuthActionsHandler.java:75) ~[keycloak-adapter-core-10.0.2.jar:10.0.2]\r\n\tat org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.invoke(AbstractKeycloakAuthenticatorValve.java:177) ~[spring-boot-container-bundle-10.0.2.jar:10.0.2]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\n\r\nand my application.properties looks like this:\r\n\r\n    # Keycloak Configuration\r\n    keycloak.auth-server-url=http://localhost:9990/auth\r\n    keycloak.realm=webshop\r\n    keycloak.resource=webshop-client\r\n    keycloak.public-client=true\r\n\r\nMaven dependency is\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n        &lt;artifactId&gt;keycloak-spring-boot-starter&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nWith dependency management\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.keycloak.bom&lt;/groupId&gt;\r\n                &lt;artifactId&gt;keycloak-adapter-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;10.0.2&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;","title":"Keycloak java.lang.RuntimeException: Must set &#39;realm&#39; in config?","body":"<p>When I'm sending a request to my Java Spring Boot RESTful webservice for the first time after startup I get the RuntimeException with note &quot;Must set 'realm' in config. My configuration looks like those of most tutorials I've seen and I found nothing on the internet about this particular error. Does anyone know how to solve this?</p>\n<p>The full exception looks like this:</p>\n<pre><code>java.lang.RuntimeException: Must set 'realm' in config\nat org.keycloak.adapters.KeycloakDeploymentBuilder.internalBuild(KeycloakDeploymentBuilder.java:57) ~[keycloak-adapter-core-10.0.2.jar:10.0.2]\nat org.keycloak.adapters.KeycloakDeploymentBuilder.build(KeycloakDeploymentBuilder.java:202) ~[keycloak-adapter-core-10.0.2.jar:10.0.2]\nat org.keycloak.adapters.springboot.KeycloakSpringBootConfigResolver.resolve(KeycloakSpringBootConfigResolver.java:39) ~[keycloak-spring-boot-adapter-core-10.0.2.jar:10.0.2]\nat org.keycloak.adapters.springsecurity.config.KeycloakSpringConfigResolverWrapper.resolve(KeycloakSpringConfigResolverWrapper.java:40) ~[keycloak-spring-security-adapter-10.0.2.jar:10.0.2]\nat org.keycloak.adapters.AdapterDeploymentContext.resolveDeployment(AdapterDeploymentContext.java:89) ~[keycloak-adapter-core-10.0.2.jar:10.0.2]\nat org.keycloak.adapters.PreAuthActionsHandler.preflightCors(PreAuthActionsHandler.java:100) ~[keycloak-adapter-core-10.0.2.jar:10.0.2]\nat org.keycloak.adapters.PreAuthActionsHandler.handleRequest(PreAuthActionsHandler.java:75) ~[keycloak-adapter-core-10.0.2.jar:10.0.2]\nat org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.invoke(AbstractKeycloakAuthenticatorValve.java:177) ~[spring-boot-container-bundle-10.0.2.jar:10.0.2]\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\nat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\nat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\nat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\n</code></pre>\n<p>and my application.properties looks like this:</p>\n<pre><code># Keycloak Configuration\nkeycloak.auth-server-url=http://localhost:9990/auth\nkeycloak.realm=webshop\nkeycloak.resource=webshop-client\nkeycloak.public-client=true\n</code></pre>\n<p>Maven dependency is</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n    &lt;artifactId&gt;keycloak-spring-boot-starter&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>With dependency management</p>\n<pre><code>&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.keycloak.bom&lt;/groupId&gt;\n            &lt;artifactId&gt;keycloak-adapter-bom&lt;/artifactId&gt;\n            &lt;version&gt;10.0.2&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","spring-jdbc"],"comments":[{"owner":{"account_id":7245190,"reputation":1455,"user_id":5527341,"display_name":"lin"},"score":0,"creation_date":1527842384,"post_id":50639256,"comment_id":88288686,"body_markdown":"https://stackoverflow.com/questions/28609414/spring-mvc-passing-arraylist-back-to-controller  may help","body":"<a href=\"https://stackoverflow.com/questions/28609414/spring-mvc-passing-arraylist-back-to-controller\" title=\"spring mvc passing arraylist back to controller\">stackoverflow.com/questions/28609414/&hellip;</a>  may help"}],"answers":[{"tags":[],"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1527843113,"creation_date":1527842505,"answer_id":50639395,"question_id":50639256,"body_markdown":"This should do it. \r\n\r\n      @GetMapping(&quot;/{employeeIds}&quot;)\r\n      public void trigger(@PathVariable String employeeIds) {\r\n            List&lt;String&gt; ids = Arrays.asList(employeeIds.split(&quot;,&quot;));\r\n            ..........\r\n      }\r\n\r\nnow you have a list of ids in ***ids*** field.","title":"How to pass multiple ids in API Get method Endpoint using Spring Boot","body":"<p>This should do it. </p>\n\n<pre><code>  @GetMapping(\"/{employeeIds}\")\n  public void trigger(@PathVariable String employeeIds) {\n        List&lt;String&gt; ids = Arrays.asList(employeeIds.split(\",\"));\n        ..........\n  }\n</code></pre>\n\n<p>now you have a list of ids in <strong><em>ids</em></strong> field.</p>\n"},{"tags":[],"owner":{"account_id":9328455,"reputation":110,"user_id":6924937,"display_name":"Dildeep Singh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1527851261,"creation_date":1527851261,"answer_id":50642072,"question_id":50639256,"body_markdown":"                        you can send a post request to your controller.please follow these steps-:\r\n                        \r\n                        1. **I need to  create a html file because of ajax calling.**\r\n                        &lt;!DOCTYPE html&gt;\r\n                        &lt;html&gt;\r\n                            &lt;head&gt;\r\n                                &lt;title&gt;Ajax Test&lt;/title&gt;\r\n                                &lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js&quot;&gt;&lt;/script&gt;\r\n                                &lt;script src=&quot;/js/ajaxCall.js&quot;&gt;&lt;/script&gt;\r\n                            &lt;/head&gt;\r\n                        \r\n                            &lt;body&gt;\r\n                                &lt;button type=&quot;button&quot; class=&quot;btn btn-sm btn-update btn-primary&quot; id=&quot;send&quot;&gt;\r\n                        \t\t&lt;span class=&quot;glyphicon glyphicon-ok&quot;&gt;&lt;/span&gt;Send Parameter\r\n                        \t\t&lt;/button&gt;\r\n                            &lt;/body&gt;\r\n                        &lt;/html&gt;\r\n                    \r\n                    2. **create a js file and create a function for ajax calling.**\r\n                    $(document).ready(function() {\r\n                    \t$(&quot;#send&quot;).on(&quot;click&quot;,function(){\r\n                    \t\tvar paramIds = [&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;,&quot;5&quot;];\r\n                    \t\tvar parameterData = JSON.stringify({\r\n                    \t\t\t&#39;paramList&#39; :paramIds\r\n                    \t\t});\r\n                    \t\t$.ajax({\r\n                    \t\t\tcontentType: &#39;application/json&#39;,\r\n                    \t\t\tmethod:&#39;post&#39;,\r\n                    \t\t\tdata: parameterData,\r\n                    \t\t\turl: &quot;http://localhost:8080/get&quot;,\r\n                    \t\t\tdataType: &#39;json&#39;,\r\n                    \t\t}).done(function(data, textStatus, xhr, options) {\r\n                    \r\n                    \t\t}).fail(function(xhr, textStatus, errorThrown) {\r\n                    \r\n                    \t\t}).always(function(xhr, textStatus) {\r\n                    \t\t});\r\n                    \t})\t\r\n                    \r\n                    });\r\n                please focus on **JSON.stringify**.JSON.stringify convert javascript object to a string following the JSON notation.\r\n            3. **create a form to accept paramter as a post request.**\r\n            package com.example.demo;\r\n            \r\n            import java.util.List;\r\n            \r\n            import java.util.ArrayList;\r\n            \r\n            import lombok.Data;\r\n            \r\n            @Data\r\n            public class ParameterForm {\r\n            List&lt;String&gt; paramList=new ArrayList&lt;&gt;();\r\n            }\r\n            \r\n                4. **create a controller class for accepting the post request.**\r\n                package com.example.demo;\r\n                \r\n                import java.util.List;\r\n                \r\n                import org.springframework.stereotype.Controller;\r\n                import org.springframework.web.bind.annotation.RequestBody;\r\n                import org.springframework.web.bind.annotation.RequestMapping;\r\n                import org.springframework.web.bind.annotation.RequestMethod;\r\n                import org.springframework.web.bind.annotation.ResponseBody;\r\n                \r\n                @Controller\r\n                public class TestController {\r\n                @RequestMapping(value=&quot;/home&quot;)\r\n                public String checkParam()\r\n                {\r\n                return &quot;test&quot;;\t\r\n                }\r\n                @RequestMapping(value=&quot;/get&quot;,method = RequestMethod.POST)\r\n                @ResponseBody\r\n                public String getId(@RequestBody ParameterForm parameterForm)\r\n                {\r\n                \tList&lt;String&gt; paramList=parameterForm.getParamList();\r\n                \tfor(String param:paramList)\r\n                \t{\r\n                \t\tSystem.out.println(param);\r\n                \t}\r\n                \treturn &quot;success&quot;;\r\n                }\r\n                }\r\n        please focus on getId controller.\r\n        you will find **@RequestBody ParameterForm parameterForm**.This form will accept the parameter which i send in ajax call. \r\n    \r\n    ******************output**********************\r\n    1\r\n    2\r\n    3\r\n    4\r\n    5","title":"How to pass multiple ids in API Get method Endpoint using Spring Boot","body":"<pre><code>                    you can send a post request to your controller.please follow these steps-:\n\n                    1. **I need to  create a html file because of ajax calling.**\n                    &lt;!DOCTYPE html&gt;\n                    &lt;html&gt;\n                        &lt;head&gt;\n                            &lt;title&gt;Ajax Test&lt;/title&gt;\n                            &lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js\"&gt;&lt;/script&gt;\n                            &lt;script src=\"/js/ajaxCall.js\"&gt;&lt;/script&gt;\n                        &lt;/head&gt;\n\n                        &lt;body&gt;\n                            &lt;button type=\"button\" class=\"btn btn-sm btn-update btn-primary\" id=\"send\"&gt;\n                            &lt;span class=\"glyphicon glyphicon-ok\"&gt;&lt;/span&gt;Send Parameter\n                            &lt;/button&gt;\n                        &lt;/body&gt;\n                    &lt;/html&gt;\n\n                2. **create a js file and create a function for ajax calling.**\n                $(document).ready(function() {\n                    $(\"#send\").on(\"click\",function(){\n                        var paramIds = [\"1\", \"2\", \"3\", \"4\",\"5\"];\n                        var parameterData = JSON.stringify({\n                            'paramList' :paramIds\n                        });\n                        $.ajax({\n                            contentType: 'application/json',\n                            method:'post',\n                            data: parameterData,\n                            url: \"http://localhost:8080/get\",\n                            dataType: 'json',\n                        }).done(function(data, textStatus, xhr, options) {\n\n                        }).fail(function(xhr, textStatus, errorThrown) {\n\n                        }).always(function(xhr, textStatus) {\n                        });\n                    })  \n\n                });\n            please focus on **JSON.stringify**.JSON.stringify convert javascript object to a string following the JSON notation.\n        3. **create a form to accept paramter as a post request.**\n        package com.example.demo;\n\n        import java.util.List;\n\n        import java.util.ArrayList;\n\n        import lombok.Data;\n\n        @Data\n        public class ParameterForm {\n        List&lt;String&gt; paramList=new ArrayList&lt;&gt;();\n        }\n\n            4. **create a controller class for accepting the post request.**\n            package com.example.demo;\n\n            import java.util.List;\n\n            import org.springframework.stereotype.Controller;\n            import org.springframework.web.bind.annotation.RequestBody;\n            import org.springframework.web.bind.annotation.RequestMapping;\n            import org.springframework.web.bind.annotation.RequestMethod;\n            import org.springframework.web.bind.annotation.ResponseBody;\n\n            @Controller\n            public class TestController {\n            @RequestMapping(value=\"/home\")\n            public String checkParam()\n            {\n            return \"test\";  \n            }\n            @RequestMapping(value=\"/get\",method = RequestMethod.POST)\n            @ResponseBody\n            public String getId(@RequestBody ParameterForm parameterForm)\n            {\n                List&lt;String&gt; paramList=parameterForm.getParamList();\n                for(String param:paramList)\n                {\n                    System.out.println(param);\n                }\n                return \"success\";\n            }\n            }\n    please focus on getId controller.\n    you will find **@RequestBody ParameterForm parameterForm**.This form will accept the parameter which i send in ajax call. \n\n******************output**********************\n1\n2\n3\n4\n5\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25670743,"reputation":36,"user_id":19435034,"display_name":"Priyank Singh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656433018,"creation_date":1656420042,"answer_id":72786627,"question_id":50639256,"body_markdown":"your request should be like this\r\n```\r\n localhost:9363/products/1,2,...   \r\n```\r\n  dont add any kind of brackets, then in your controller class you can create an API like below\r\n    \r\n    @GetMapping(&quot;/products/{Ids}&quot;)\r\n\tpublic List&lt;Product&gt; getProducts(@PathVariable List&lt;Long&gt; Ids) \r\n    {\r\n        return this.service.getProducts(Ids);   // calling the service class as per \r\n                                                       the architecture\r\n\t}\r\n","title":"How to pass multiple ids in API Get method Endpoint using Spring Boot","body":"<p>your request should be like this</p>\n<pre><code> localhost:9363/products/1,2,...   \n</code></pre>\n<p>dont add any kind of brackets, then in your controller class you can create an API like below</p>\n<pre><code>@GetMapping(&quot;/products/{Ids}&quot;)\npublic List&lt;Product&gt; getProducts(@PathVariable List&lt;Long&gt; Ids) \n{\n    return this.service.getProducts(Ids);   // calling the service class as per \n                                                   the architecture\n}\n</code></pre>\n"}],"owner":{"account_id":6896575,"reputation":37,"user_id":5298322,"display_name":"Faisal Jaffri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6483,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72786627,"answer_count":3,"score":1,"last_activity_date":1656433018,"creation_date":1527842036,"question_id":50639256,"body_markdown":"I am trying to pass multiple IDs in the GET Endpoint.\r\nFor example: If my database contains details of 10 employees with ID as primary key, and suppose i want to pass more than one id in the Endpoint at a particular point. Is this possible.\r\nSuppose: \r\n\r\n        http://localhost:8080/api/v/listempoloyee/{1,2,3,4}\r\n\r\n{1,2,3,4} being the list of IDs of employess which we want to fetch from  Database.\r\n\r\nIs this possible using Spring Boot and JDBC.","title":"How to pass multiple ids in API Get method Endpoint using Spring Boot","body":"<p>I am trying to pass multiple IDs in the GET Endpoint.\nFor example: If my database contains details of 10 employees with ID as primary key, and suppose i want to pass more than one id in the Endpoint at a particular point. Is this possible.\nSuppose: </p>\n\n<pre><code>    http://localhost:8080/api/v/listempoloyee/{1,2,3,4}\n</code></pre>\n\n<p>{1,2,3,4} being the list of IDs of employess which we want to fetch from  Database.</p>\n\n<p>Is this possible using Spring Boot and JDBC.</p>\n"},{"tags":["java","json","csv"],"comments":[{"owner":{"account_id":945916,"reputation":2856,"user_id":973184,"accept_rate":67,"display_name":"Martin Meeser"},"score":0,"creation_date":1656399307,"post_id":72780786,"comment_id":128555638,"body_markdown":"Can you please fix the format?","body":"Can you please fix the format?"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1656416089,"post_id":72780786,"comment_id":128561834,"body_markdown":"If you want to write CSV, why are you writing JSON?","body":"If you want to write CSV, why are you writing JSON?"}],"answers":[{"tags":[],"owner":{"account_id":6657506,"reputation":244,"user_id":5137530,"display_name":"mksmanjit"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1656404188,"creation_date":1656393420,"answer_id":72781054,"question_id":72780786,"body_markdown":"        If my understanding is correct, you want to convert the json into csv file but while writing to csv you are getting key value in each row instead of key in the first row and then value in the subsequent rows.\r\n        \r\n        I think if you follow below steps then you will able to achieve this:\r\n        \r\n        1) First convert your Json into the List&lt;Map&lt;String,String&gt;&gt; using below code\r\n        \r\n           \r\n        \r\n        &gt;  ObjectMapper mapper = new ObjectMapper();\r\n        &gt;     List&lt;Map&lt;String, Object&gt;&gt; datas = mapper.readValue(jsonArray.toString(), new\r\n        &gt; TypeReference&lt;List&lt;Map&lt;String, Object&gt;&gt;&gt;(){});\r\n        \r\n        2) Find the keys from the json, which will be used as your column, assuming all the data having same keys.\r\n        \r\n           \r\n        \r\n        &gt;  Set&lt;String&gt; columns = datas.get(0).keySet(); write columns as the\r\n        &gt; first row in the csv file.\r\n        \r\n        3) Iterate over the datas list and start writing the value row wise.\r\n        \r\n\r\n\r\n----------------------------------------------------------------\r\n        \r\n**As you mentioned in the comment you doesn&#39;t not want to use the external library then instead of ObjectMapper you can use your JsonArray.**\r\n        \r\n1) Instead of converting your json Array to List&lt;Map&lt;String,String&gt;&gt; and getting the keys you can do the same thing with JsonObject only as it implement Map only.\r\n        \r\n        Set&lt;String&gt; columns = jsonArray.get(0).keySet();\r\n        this code should be before you are starting the loop.\r\n        \r\n2) Inside the loop you are iterating over the jsonArray, there read the value .\r\n     \r\n\r\n&gt;     \r\n&gt;      Set&lt;String&gt; columns = jsonArray.get(0).keySet();\r\n&gt;               for (Object object : jsonArray) {\r\n&gt;                     JsonObject obj = (JsonObject) object;\r\n&gt;                     List&lt;String&gt; dataRows = new ArrayList();\r\n&gt;                     for(String column :  columns ) {\r\n&gt;                        String value = (String)obj.get(column);\r\n&gt;                        dataRows.add(value);\r\n&gt;                      }\r\n&gt;                      .......\r\n&gt;          //            write the value to file\r\n&gt;                      .......\r\n&gt;                    \r\n&gt;              \r\n&gt;                }\r\n\r\n           \r\n\r\n\r\n**If you are Interested in full solution, you can try this.**\r\n\r\n&gt;     public static void writeFilteredJsonToNewFile(JsonArray jsonArray) {\r\n&gt;     \tList&lt;List&lt;String&gt;&gt; allDatas = new ArrayList&lt;&gt;();\r\n&gt;     \tSet&lt;String&gt; columns = jsonArray.get(0).keySet();\r\n&gt;     \tallDatas.add(new ArrayList&lt;&gt;(columns));\r\n&gt;     \tfor (Object object : jsonArray) {\r\n&gt;     \t\tJsonObject obj = (JsonObject) object;\r\n&gt;     \t\tList&lt;String&gt; dataRows = new ArrayList();\r\n&gt;     \t\tfor(String column :  columns ) {\r\n&gt;     \t\t   String value = (String)obj.get(column);\r\n&gt;     \t\t   dataRows.add(value);\r\n&gt;     \t\t }\r\n&gt;     \t\t allDatas.add(dataRows);         \r\n&gt;     \t}\r\n&gt;     \twriteToCsvFile(allDatas,&quot;,&quot;,&quot;test-file.csv&quot;);\r\n&gt;     }\r\n&gt;     \r\n&gt;     \r\n&gt;     public void writeToCsvFile(List&lt;List&lt;String&gt;&gt; thingsToWrite, String separator, String fileName){\r\n&gt;         try (FileWriter writer = new FileWriter(fileName)){\r\n&gt;             for (List&lt;String&gt; strings : thingsToWrite) {\r\n&gt;                 for (int i = 0; i &lt; strings.size(); i++) {\r\n&gt;                     writer.append(strings[i]);\r\n&gt;                     if(i &lt; (strings.length-1))\r\n&gt;                         writer.append(separator);\r\n&gt;                 }\r\n&gt;                 writer.append(System.lineSeparator());\r\n&gt;             }\r\n&gt;             writer.flush();\r\n&gt;         } catch (IOException e) {\r\n&gt;             e.printStackTrace();\r\n&gt;         }\r\n&gt;     }\r\n\r\n\r\n\r\n\r\n","title":"Convert JsonArray to to csv file in right format without using third party library","body":"<pre><code>    If my understanding is correct, you want to convert the json into csv file but while writing to csv you are getting key value in each row instead of key in the first row and then value in the subsequent rows.\n    \n    I think if you follow below steps then you will able to achieve this:\n    \n    1) First convert your Json into the List&lt;Map&lt;String,String&gt;&gt; using below code\n    \n       \n    \n    &gt;  ObjectMapper mapper = new ObjectMapper();\n    &gt;     List&lt;Map&lt;String, Object&gt;&gt; datas = mapper.readValue(jsonArray.toString(), new\n    &gt; TypeReference&lt;List&lt;Map&lt;String, Object&gt;&gt;&gt;(){});\n    \n    2) Find the keys from the json, which will be used as your column, assuming all the data having same keys.\n    \n       \n    \n    &gt;  Set&lt;String&gt; columns = datas.get(0).keySet(); write columns as the\n    &gt; first row in the csv file.\n    \n    3) Iterate over the datas list and start writing the value row wise.\n    \n</code></pre>\n<hr />\n<p><strong>As you mentioned in the comment you doesn't not want to use the external library then instead of ObjectMapper you can use your JsonArray.</strong></p>\n<ol>\n<li><p>Instead of converting your json Array to List&lt;Map&lt;String,String&gt;&gt; and getting the keys you can do the same thing with JsonObject only as it implement Map only.</p>\n<pre><code> Set&lt;String&gt; columns = jsonArray.get(0).keySet();\n this code should be before you are starting the loop.\n</code></pre>\n</li>\n<li><p>Inside the loop you are iterating over the jsonArray, there read the value .</p>\n</li>\n</ol>\n<blockquote>\n<pre><code> Set&lt;String&gt; columns = jsonArray.get(0).keySet();\n          for (Object object : jsonArray) {\n                JsonObject obj = (JsonObject) object;\n                List&lt;String&gt; dataRows = new ArrayList();\n                for(String column :  columns ) {\n                   String value = (String)obj.get(column);\n                   dataRows.add(value);\n                 }\n                 .......\n     //            write the value to file\n                 .......\n               \n         \n           }\n</code></pre>\n</blockquote>\n<p><strong>If you are Interested in full solution, you can try this.</strong></p>\n<blockquote>\n<pre><code>public static void writeFilteredJsonToNewFile(JsonArray jsonArray) {\n  List&lt;List&lt;String&gt;&gt; allDatas = new ArrayList&lt;&gt;();\n  Set&lt;String&gt; columns = jsonArray.get(0).keySet();\n  allDatas.add(new ArrayList&lt;&gt;(columns));\n  for (Object object : jsonArray) {\n      JsonObject obj = (JsonObject) object;\n      List&lt;String&gt; dataRows = new ArrayList();\n      for(String column :  columns ) {\n         String value = (String)obj.get(column);\n         dataRows.add(value);\n       }\n       allDatas.add(dataRows);         \n  }\n  writeToCsvFile(allDatas,&quot;,&quot;,&quot;test-file.csv&quot;);\n}\n\n\npublic void writeToCsvFile(List&lt;List&lt;String&gt;&gt; thingsToWrite, String separator, String fileName){\n    try (FileWriter writer = new FileWriter(fileName)){\n        for (List&lt;String&gt; strings : thingsToWrite) {\n            for (int i = 0; i &lt; strings.size(); i++) {\n                writer.append(strings[i]);\n                if(i &lt; (strings.length-1))\n                    writer.append(separator);\n            }\n            writer.append(System.lineSeparator());\n        }\n        writer.flush();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":25502779,"reputation":109,"user_id":19295685,"display_name":"seju"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":567,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72781054,"answer_count":1,"score":-1,"last_activity_date":1656432954,"creation_date":1656390928,"question_id":72780786,"body_markdown":"My dependency which is not third party\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.json&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.json-api&lt;/artifactId&gt;\r\n        &lt;version&gt;1.1.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.json&lt;/artifactId&gt;\r\n        &lt;version&gt;1.1.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nJSon array test\r\n\r\n    [{&quot;name&quot;:&quot;aondx&quot;,&quot;value&quot;:10,&quot;date&quot;:&quot;1999-01-09T14:30:53Z&quot;}]\r\n\r\nI am able to parse/ write into the a create a csv file but the issue is it is not in the right format in my csv file.\r\n\r\n\r\n    public static void writeFilteredJsonToNewFile(JsonArray jsonArray) {\r\n    try {\r\n    \r\n        for (Object object : jsonArray) {\r\n            JsonObject obj = (JsonObject) object;\r\n            StringWriter writer = new StringWriter();\r\n            JsonWriter jsonWriter = Json.createWriter(writer);\r\n            jsonWriter.writeObject(obj);\r\n            writer.close();\r\n    \r\n            FileWriter fileWriter = new FileWriter(diretory + name + &quot;.csv&quot;);\r\n            BufferedWriter bufferedWriter = new BufferedWriter(fileWriter);\r\n            bufferedWriter.write(writer.toString());\r\n            bufferedWriter.close();\r\n            System.out.println(&quot;Created new File!&quot;);\r\n        }\r\n    } catch (IOException e) {\r\n         e.printStackTrace();\r\n    }\r\n}\r\n\r\nResult\r\n\r\n[![enter image description here][1]][1]\r\n \r\n\r\nExpected result (table format) in a csv file\r\n\r\n\r\n| name | value | date |\r\n|:------|:-------:|---------------:|\r\n|aondx |40     |1999-01-09T14:30:53Z|\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hkAjB.png","title":"Convert JsonArray to to csv file in right format without using third party library","body":"<p>My dependency which is not third party</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.json&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.json-api&lt;/artifactId&gt;\n    &lt;version&gt;1.1.4&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.json&lt;/artifactId&gt;\n    &lt;version&gt;1.1.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>JSon array test</p>\n<pre><code>[{&quot;name&quot;:&quot;aondx&quot;,&quot;value&quot;:10,&quot;date&quot;:&quot;1999-01-09T14:30:53Z&quot;}]\n</code></pre>\n<p>I am able to parse/ write into the a create a csv file but the issue is it is not in the right format in my csv file.</p>\n<pre><code>public static void writeFilteredJsonToNewFile(JsonArray jsonArray) {\ntry {\n\n    for (Object object : jsonArray) {\n        JsonObject obj = (JsonObject) object;\n        StringWriter writer = new StringWriter();\n        JsonWriter jsonWriter = Json.createWriter(writer);\n        jsonWriter.writeObject(obj);\n        writer.close();\n\n        FileWriter fileWriter = new FileWriter(diretory + name + &quot;.csv&quot;);\n        BufferedWriter bufferedWriter = new BufferedWriter(fileWriter);\n        bufferedWriter.write(writer.toString());\n        bufferedWriter.close();\n        System.out.println(&quot;Created new File!&quot;);\n    }\n} catch (IOException e) {\n     e.printStackTrace();\n}\n</code></pre>\n<p>}</p>\n<p>Result</p>\n<p><a href=\"https://i.stack.imgur.com/hkAjB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hkAjB.png\" alt=\"enter image description here\" /></a></p>\n<p>Expected result (table format) in a csv file</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">name</th>\n<th style=\"text-align: center;\">value</th>\n<th style=\"text-align: right;\">date</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">aondx</td>\n<td style=\"text-align: center;\">40</td>\n<td style=\"text-align: right;\">1999-01-09T14:30:53Z</td>\n</tr>\n</tbody>\n</table>\n</div>"},{"tags":["java","intellij-idea","javafx"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1642917090,"post_id":70819124,"comment_id":125198023,"body_markdown":"When dealing with variables created in the `FXML` file, `Button gottomainfromburger = new Button()` in the `Controller` is a no-no. It should be `@FXML Button gottomainfromburger;` Other than that, you should look into [`MCV`](https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx). If you use ideas from @James_D answer, that should fix your issue of when changing scenes.","body":"When dealing with variables created in the <code>FXML</code> file, <code>Button gottomainfromburger = new Button()</code> in the <code>Controller</code> is a no-no. It should be <code>@FXML Button gottomainfromburger;</code> Other than that, you should look into <a href=\"https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx\"><code>MCV</code></a>. If you use ideas from @James_D answer, that should fix your issue of when changing scenes."},{"owner":{"account_id":20202791,"reputation":11,"user_id":14818051,"display_name":"Antazya Singh Jatrana"},"score":0,"creation_date":1642919356,"post_id":70819124,"comment_id":125198336,"body_markdown":"@Sedrick Thanks for the tip but the variables I am talking about are the int variables which are pizzatotal etc.","body":"@Sedrick Thanks for the tip but the variables I am talking about are the int variables which are pizzatotal etc."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1642922542,"post_id":70819124,"comment_id":125198776,"body_markdown":"Create a [mre] and edit your question to include it. There are so many things wrong in the code you&#39;ve posted, but it&#39;s not complete enough to know which are causing the problems you observe. This is not really answerable as posted.","body":"Create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and edit your question to include it. There are so many things wrong in the code you&#39;ve posted, but it&#39;s not complete enough to know which are causing the problems you observe. This is not really answerable as posted."},{"owner":{"account_id":20202791,"reputation":11,"user_id":14818051,"display_name":"Antazya Singh Jatrana"},"score":0,"creation_date":1642932343,"post_id":70819124,"comment_id":125200530,"body_markdown":"@James_D I have edited the post to much extent and included text to explain the issue I have been facing. Please help me with this issue I have been stuck for two days on this single thing only.","body":"@James_D I have edited the post to much extent and included text to explain the issue I have been facing. Please help me with this issue I have been stuck for two days on this single thing only."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1642936510,"post_id":70819124,"comment_id":125201386,"body_markdown":"please re-read the comment by @James_D, study the referenced help page thoroughly and act accoringly: your code is not reproducible - missing the application - and only near (though not far away) to minimal - containing unrelated fluff in the fxmls. That said: every time you load a controller, you create a _new_ instance of it (which has its fields initialized to their default value). See the first comment for guidance, its link contains the answer to your problem :)","body":"please re-read the comment by @James_D, study the referenced help page thoroughly and act accoringly: your code is not reproducible - missing the application - and only near (though not far away) to minimal - containing unrelated fluff in the fxmls. That said: every time you load a controller, you create a <i>new</i> instance of it (which has its fields initialized to their default value). See the first comment for guidance, its link contains the answer to your problem :)"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1642967051,"post_id":70819124,"comment_id":125208969,"body_markdown":"You need to create a class that models the data and share a single instance of it with all the controllers. See the [linked question](https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx) (though your model is probably much simpler). Why is `HelloController` a subclass of `PizzaController`; that makes no sense.","body":"You need to create a class that models the data and share a single instance of it with all the controllers. See the <a href=\"https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx\">linked question</a> (though your model is probably much simpler). Why is <code>HelloController</code> a subclass of <code>PizzaController</code>; that makes no sense."},{"owner":{"account_id":20202791,"reputation":11,"user_id":14818051,"display_name":"Antazya Singh Jatrana"},"score":0,"creation_date":1643028943,"post_id":70819124,"comment_id":125223384,"body_markdown":"Thanks everyone for your input but it is sorted now all I had to do was to change the variables to static.","body":"Thanks everyone for your input but it is sorted now all I had to do was to change the variables to static."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1643031244,"post_id":70819124,"comment_id":125224207,"body_markdown":"that&#39;s not a solution but hacking ;) Instead, learn how to pass parameters between interested parties (see f.i. the reference provided by @Sedrick)","body":"that&#39;s not a solution but hacking ;) Instead, learn how to pass parameters between interested parties (see f.i. the reference provided by @Sedrick)"}],"answers":[{"tags":[],"owner":{"account_id":20202791,"reputation":11,"user_id":14818051,"display_name":"Antazya Singh Jatrana"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1643029112,"creation_date":1643029112,"answer_id":70834264,"question_id":70819124,"body_markdown":"Changing the variables to static resolves the issue.\r\n","title":"Variables value reset every time I change scenes in JavaFX","body":"<p>Changing the variables to static resolves the issue.</p>\n"},{"tags":[],"owner":{"account_id":25527584,"reputation":37,"user_id":19316329,"display_name":"Lost"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1656432891,"creation_date":1656417326,"answer_id":72785961,"question_id":70819124,"body_markdown":"You could use a dirty trick.  \r\nLet&#39;s say I have an fxml Line object and I want to make it not visible after an Event (like a mouse click), but when I change the scenes it will return back. To achieve that I will just make a static boolean object like  \r\n````java\r\nprivate static boolean visiblity=true;\r\n````\r\nPlease note that you can&#39;t make @FXML object static.  \r\n\r\nWhen the mouse is clicked I change the boolean object to (false).  \r\nIn the initialize method of the controller I write this  \r\n````java\r\nline.setVisible(visibilty);\r\n````\r\nSo basically, what I am saying is that you can initialize static variables that have the values you want to sustain and send them to the @FXML object.  \r\nIt is a long way solution but that&#39;s what worked for me.","title":"Variables value reset every time I change scenes in JavaFX","body":"<p>You could use a dirty trick.<br />\nLet's say I have an fxml Line object and I want to make it not visible after an Event (like a mouse click), but when I change the scenes it will return back. To achieve that I will just make a static boolean object like</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static boolean visiblity=true;\n</code></pre>\n<p>Please note that you can't make @FXML object static.</p>\n<p>When the mouse is clicked I change the boolean object to (false).<br />\nIn the initialize method of the controller I write this</p>\n<pre class=\"lang-java prettyprint-override\"><code>line.setVisible(visibilty);\n</code></pre>\n<p>So basically, what I am saying is that you can initialize static variables that have the values you want to sustain and send them to the @FXML object.<br />\nIt is a long way solution but that's what worked for me.</p>\n"}],"owner":{"account_id":20202791,"reputation":11,"user_id":14818051,"display_name":"Antazya Singh Jatrana"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":655,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1656432891,"creation_date":1642911986,"question_id":70819124,"body_markdown":"What I have been trying to Achieve is an JavaFX application that computes the cost of the items selected through various categories which in the case are just two: Pizzas and Burgers. \r\n\r\nWhen I click on button with text &#39;pizzas&#39; on it the pizzas.fxml file is loaded where I select an item and thus the variable pizzatotal is incremented and then i come back to the main page. Till this step the value of variable Pizzatotal remains the same as the incremented value it was changed to. But as soon as I click on the button &#39;Burgers&#39; from the main page the value of variable pizzatotal resets to 0. \r\n\r\nI want the value of variable Pizzatotal to remain throughout my navigation between scenes in the application. \r\n\r\nI built a total of 3 fxml files.\r\nOne for the main Page which contains two buttons to navigate to the second and third page respectively. \r\n\r\nThis is the fxml code for the Main Page :\r\n\r\n&quot;&#39;  \r\n   \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;?import javafx.scene.control.Button?&gt;\r\n    &lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n\r\n    &lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;- \r\n    Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; \r\n    xmlns=&quot;http://javafx.com/javafx/17&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; \r\n    fx:controller=&quot;com.example.demo.HelloController&quot;&gt;\r\n    &lt;children&gt;\r\n      &lt;Button layoutX=&quot;32.0&quot; layoutY=&quot;34.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#switchtoOrderpage&quot; prefHeight=&quot;71.0&quot; prefWidth=&quot;114.0&quot; text=&quot;Pizzas&quot; /&gt;\r\n      &lt;Button layoutX=&quot;166.0&quot; layoutY=&quot;34.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#switchtoburger&quot; prefHeight=&quot;71.0&quot; prefWidth=&quot;114.0&quot; text=&quot;Burgers&quot; /&gt;\r\n    &lt;/children&gt;\r\n    &lt;/AnchorPane&gt;\r\n\r\n\r\n\r\nThe second FXML file contains a grid pane with buttons to execute different methods. Frankly speaking every button on this screen adds the cost of pizza selected to the variable : total. \r\n\r\n\r\n\r\nThe code for the second FXML file is as follows: \r\n\r\n&quot;&#39;  &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n    &lt;?import javafx.scene.control.Button?&gt;\r\n    &lt;?import javafx.scene.layout.ColumnConstraints?&gt;\r\n    &lt;?import javafx.scene.layout.GridPane?&gt;\r\n    &lt;?import javafx.scene.layout.RowConstraints?&gt;\r\n\r\n    &lt;GridPane hgap=&quot;50.0&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; \r\n     minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;1080.0&quot; \r\n     prefWidth=&quot;1922.0&quot; vgap=&quot;20.0&quot; xmlns=&quot;http://javafx.com/javafx/17&quot; \r\n     xmlns:fx=&quot;http://javafx.com/fxml/1&quot; \r\n     fx:controller=&quot;com.example.demo.PizzaController&quot;&gt;\r\n     &lt;columnConstraints&gt;\r\n     &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;348.1999786376953&quot; \r\n     minWidth=&quot;10.0&quot; prefWidth=&quot;297.0000274658203&quot; /&gt;\r\n     &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;433.80001220703133&quot; \r\n     minWidth=&quot;0.0&quot; prefWidth=&quot;298.7999633789062&quot; /&gt;\r\n     &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;456.0&quot; minWidth=&quot;0.0&quot; \r\n     prefWidth=&quot;314.99990234375&quot; /&gt;\r\n     &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;698.4000122070313&quot; \r\n     minWidth=&quot;10.0&quot; prefWidth=&quot;296.39997558593745&quot; /&gt;\r\n     &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;939.8000610351562&quot; \r\n     minWidth=&quot;10.0&quot; prefWidth=&quot;282.20002441406245&quot; /&gt;\r\n     &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;939.8000610351562&quot; \r\n     minWidth=&quot;10.0&quot; prefWidth=&quot;281.800048828125&quot; /&gt;\r\n     &lt;/columnConstraints&gt;\r\n     &lt;rowConstraints&gt;\r\n     &lt;RowConstraints maxHeight=&quot;238.39998779296874&quot; minHeight=&quot;10.0&quot; \r\n      prefHeight=&quot;238.39998779296874&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n     &lt;RowConstraints maxHeight=&quot;188.80000000000004&quot; minHeight=&quot;0.0&quot; \r\n      prefHeight=&quot;47.800012207031244&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n     &lt;RowConstraints maxHeight=&quot;312.80000000000007&quot; minHeight=&quot;10.0&quot; \r\n      prefHeight=&quot;228.60000000000002&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n     &lt;RowConstraints maxHeight=&quot;312.80000000000007&quot; minHeight=&quot;0.0&quot; \r\n      prefHeight=&quot;52.999987792968795&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n     &lt;RowConstraints maxHeight=&quot;494.6000122070312&quot; \r\n      minHeight=&quot;3.5999755859375&quot; prefHeight=&quot;262.79998779296875&quot; \r\n      vgrow=&quot;SOMETIMES&quot; /&gt;\r\n     &lt;RowConstraints maxHeight=&quot;480.8000122070313&quot; minHeight=&quot;10.0&quot; \r\n      prefHeight=&quot;158.00001220703132&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n      &lt;/rowConstraints&gt;\r\n      &lt;children&gt;\r\n      &lt;Button fx:id=&quot;pizza&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#addpizza&quot; \r\n      prefHeight=&quot;54.0&quot; prefWidth=&quot;301.0&quot; text=&quot;Paneer Pizza&quot; \r\n      GridPane.rowIndex=&quot;1&quot; /&gt;\r\n      &lt;Button fx:id=&quot;addMargherita&quot; mnemonicParsing=&quot;false&quot; \r\n      prefHeight=&quot;56.0&quot; prefWidth=&quot;298.0&quot; text=&quot;Margherita Pizza&quot; \r\n      GridPane.columnIndex=&quot;1&quot; GridPane.rowIndex=&quot;1&quot; /&gt;\r\n      &lt;Button fx:id=&quot;pizza1&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;54.0&quot; \r\n      prefWidth=&quot;301.0&quot; text=&quot;Chicken Pizza&quot; GridPane.rowIndex=&quot;3&quot; /&gt;\r\n      &lt;Button fx:id=&quot;pizza2&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;54.0&quot; \r\n      prefWidth=&quot;301.0&quot; text=&quot;Cheese Burst&quot; GridPane.columnIndex=&quot;1&quot; GridPane.rowIndex=&quot;3&quot; /&gt;\r\n      &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;49.0&quot; prefWidth=&quot;358.0&quot; text=&quot;Chilli Pizza&quot; GridPane.columnIndex=&quot;2&quot; GridPane.rowIndex=&quot;1&quot; /&gt;\r\n      &lt;Button fx:id=&quot;gotomain&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#switchtomainpagefromPizza&quot; prefHeight=&quot;157.0&quot; prefWidth=&quot;266.0&quot; text=&quot;Main page&quot; GridPane.columnIndex=&quot;5&quot; GridPane.rowIndex=&quot;5&quot; /&gt;\r\n      &lt;Button layoutX=&quot;645.0&quot; layoutY=&quot;584.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;49.0&quot; prefWidth=&quot;358.0&quot; text=&quot;Pan Pizza&quot; GridPane.columnIndex=&quot;3&quot; GridPane.rowIndex=&quot;3&quot; /&gt;\r\n      &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;62.0&quot; prefWidth=&quot;395.0&quot; text=&quot;Sicilian Pizza&quot; GridPane.columnIndex=&quot;3&quot; GridPane.rowIndex=&quot;1&quot; /&gt;\r\n      &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;47.0&quot; prefWidth=&quot;286.0&quot; text=&quot;Chicago-Style Pizza&quot; GridPane.columnIndex=&quot;4&quot; GridPane.rowIndex=&quot;1&quot; /&gt;\r\n      &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;66.0&quot; prefWidth=&quot;266.0&quot; text=&quot;New York - Style Pizza&quot; GridPane.columnIndex=&quot;5&quot; GridPane.rowIndex=&quot;1&quot; /&gt;\r\n      &lt;Button fx:id=&quot;pizza21&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;54.0&quot; prefWidth=&quot;301.0&quot; text=&quot;Hawaiian Pizza&quot; GridPane.columnIndex=&quot;2&quot; GridPane.rowIndex=&quot;3&quot; /&gt;\r\n      &lt;Button layoutX=&quot;1022.0&quot; layoutY=&quot;584.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;49.0&quot; prefWidth=&quot;358.0&quot; text=&quot;Greek Pizza&quot; GridPane.columnIndex=&quot;4&quot; GridPane.rowIndex=&quot;3&quot; /&gt;\r\n      &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;49.0&quot; prefWidth=&quot;358.0&quot; text=&quot;Crust Pizza&quot; GridPane.columnIndex=&quot;2&quot; GridPane.rowIndex=&quot;5&quot; /&gt;\r\n      &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;49.0&quot; prefWidth=&quot;358.0&quot; text=&quot;Momo Pizza&quot; GridPane.columnIndex=&quot;1&quot; GridPane.rowIndex=&quot;5&quot; /&gt;\r\n      &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;49.0&quot; prefWidth=&quot;358.0&quot; text=&quot;Corn Pizza&quot; GridPane.columnIndex=&quot;5&quot; GridPane.rowIndex=&quot;3&quot; /&gt;\r\n      &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;49.0&quot; prefWidth=&quot;358.0&quot; text=&quot;Prime Pizza&quot; GridPane.rowIndex=&quot;5&quot; /&gt;\r\n      &lt;Button fx:id=&quot;pizza3&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;54.0&quot; prefWidth=&quot;301.0&quot; text=&quot;Sauce Pizza&quot; GridPane.columnIndex=&quot;3&quot; GridPane.rowIndex=&quot;5&quot; /&gt;\r\n      &lt;Button fx:id=&quot;pizza4&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;54.0&quot; prefWidth=&quot;301.0&quot; text=&quot;Oregano Pizza&quot; GridPane.columnIndex=&quot;4&quot; GridPane.rowIndex=&quot;5&quot; /&gt;\r\n      &lt;/children&gt;\r\n      &lt;/GridPane&gt;\r\n&#39;&quot;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nThe third FXML file is also exactly similar to this hence I&#39;m not including the code to it to cut it short. \r\n\r\n\r\n\r\n\r\nI have built 3 diff controller classes to control the Main-page, the pizzas page and the Burgers page. \r\n\r\n\r\nThe controller class for the main-page is as follows:\r\n\r\n&quot;&#39;   \r\n    public class HelloController extends  PizzaController{\r\n\r\n    public void switchtopizzapage(ActionEvent event) throws IOException {\r\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;pizzas.fxml&quot;));\r\n        Stage stage = (Stage) (((Node) event.getSource()).getScene().getWindow());\r\n        Scene scene = new Scene(root);\r\n        stage.setScene(scene);\r\n        stage.setFullScreen(false);\r\n        stage.setHeight(400);stage.setWidth(600);\r\n        stage.show();\r\n    }\r\n\r\n\r\n    public  void switchtoburger(ActionEvent event) throws IOException {\r\n        Parent root = FXMLLoader.load(HelloController.class.getResource(&quot;Burgers.fxml&quot;));\r\n        Stage stage = (Stage) (((Node) event.getSource()).getScene().getWindow());\r\n        Scene scene = new Scene(root);\r\n        stage.setScene(scene);\r\n        stage.setFullScreen(false);\r\n        System.out.println(total);\r\n        stage.show();\r\n    }\r\n\r\n\r\n\r\n}&#39;&quot;\r\n\r\n\r\n\r\nThe method &#39;switchtopizzapage&#39; opens the pizza page which is the second FXML scene and the &#39;switchtoburger&#39; opens the third FXML scene.\r\n\r\n\r\nThe main page looks like this: \r\n\r\n[This is the main-page.][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/92k8W.png\r\n\r\n\r\n\r\n\r\n\r\nThe controller class for the pizzas.fxml file is given below: \r\n\r\n    public class PizzaController {\r\n\r\n    public  int total;\r\n\r\n\r\n\r\n    public void addpizza(){\r\n        int pizzaCost = 100;\r\n        total = total + pizzaCost;\r\n        System.out.println(total);\r\n    }\r\n\r\n\r\n    public void switchtomainpagefromPizza(ActionEvent event) throws IOException {\r\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;Main-Page.fxml&quot;));\r\n        Stage stage = (Stage) (((Node) event.getSource()).getScene().getWindow());\r\n        Scene scene = new Scene(root);\r\n        stage.setScene(scene);\r\n        stage.setFullScreen(false);\r\n        System.out.println(total);\r\n        stage.show();\r\n    }\r\n}\r\n\r\n\r\n\r\nThe controller class for the Burgers.fxml is given below: \r\n\r\n    public class BurgerController extends PizzaController{\r\n\r\n\r\n\r\n    public  void addChickenBurger(){\r\n        int ChickenBurgerCost = 100;\r\n       total = total+ ChickenBurgerCost;\r\n       System.out.println(total);\r\n\r\n\r\n    }\r\n    public  void switchtomainpagefromBurger(ActionEvent event) throws IOException {\r\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;Main-Page.fxml&quot;));\r\n        Stage stage = (Stage) (((Node) event.getSource()).getScene().getWindow());\r\n        Scene scene = new Scene(root);\r\n        stage.setScene(scene);\r\n        stage.setFullScreen(false);\r\n        stage.show();\r\n    }\r\n}\r\n","title":"Variables value reset every time I change scenes in JavaFX","body":"<p>What I have been trying to Achieve is an JavaFX application that computes the cost of the items selected through various categories which in the case are just two: Pizzas and Burgers.</p>\n<p>When I click on button with text 'pizzas' on it the pizzas.fxml file is loaded where I select an item and thus the variable pizzatotal is incremented and then i come back to the main page. Till this step the value of variable Pizzatotal remains the same as the incremented value it was changed to. But as soon as I click on the button 'Burgers' from the main page the value of variable pizzatotal resets to 0.</p>\n<p>I want the value of variable Pizzatotal to remain throughout my navigation between scenes in the application.</p>\n<p>I built a total of 3 fxml files.\nOne for the main Page which contains two buttons to navigate to the second and third page respectively.</p>\n<p>This is the fxml code for the Main Page :</p>\n<p>&quot;'</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n\n&lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;- \nInfinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; \nxmlns=&quot;http://javafx.com/javafx/17&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; \nfx:controller=&quot;com.example.demo.HelloController&quot;&gt;\n&lt;children&gt;\n  &lt;Button layoutX=&quot;32.0&quot; layoutY=&quot;34.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#switchtoOrderpage&quot; prefHeight=&quot;71.0&quot; prefWidth=&quot;114.0&quot; text=&quot;Pizzas&quot; /&gt;\n  &lt;Button layoutX=&quot;166.0&quot; layoutY=&quot;34.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#switchtoburger&quot; prefHeight=&quot;71.0&quot; prefWidth=&quot;114.0&quot; text=&quot;Burgers&quot; /&gt;\n&lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>The second FXML file contains a grid pane with buttons to execute different methods. Frankly speaking every button on this screen adds the cost of pizza selected to the variable : total.</p>\n<p>The code for the second FXML file is as follows:</p>\n<p>&quot;'  </p>\n<pre><code>&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.layout.ColumnConstraints?&gt;\n&lt;?import javafx.scene.layout.GridPane?&gt;\n&lt;?import javafx.scene.layout.RowConstraints?&gt;\n\n&lt;GridPane hgap=&quot;50.0&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; \n minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;1080.0&quot; \n prefWidth=&quot;1922.0&quot; vgap=&quot;20.0&quot; xmlns=&quot;http://javafx.com/javafx/17&quot; \n xmlns:fx=&quot;http://javafx.com/fxml/1&quot; \n fx:controller=&quot;com.example.demo.PizzaController&quot;&gt;\n &lt;columnConstraints&gt;\n &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;348.1999786376953&quot; \n minWidth=&quot;10.0&quot; prefWidth=&quot;297.0000274658203&quot; /&gt;\n &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;433.80001220703133&quot; \n minWidth=&quot;0.0&quot; prefWidth=&quot;298.7999633789062&quot; /&gt;\n &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;456.0&quot; minWidth=&quot;0.0&quot; \n prefWidth=&quot;314.99990234375&quot; /&gt;\n &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;698.4000122070313&quot; \n minWidth=&quot;10.0&quot; prefWidth=&quot;296.39997558593745&quot; /&gt;\n &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;939.8000610351562&quot; \n minWidth=&quot;10.0&quot; prefWidth=&quot;282.20002441406245&quot; /&gt;\n &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;939.8000610351562&quot; \n minWidth=&quot;10.0&quot; prefWidth=&quot;281.800048828125&quot; /&gt;\n &lt;/columnConstraints&gt;\n &lt;rowConstraints&gt;\n &lt;RowConstraints maxHeight=&quot;238.39998779296874&quot; minHeight=&quot;10.0&quot; \n  prefHeight=&quot;238.39998779296874&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n &lt;RowConstraints maxHeight=&quot;188.80000000000004&quot; minHeight=&quot;0.0&quot; \n  prefHeight=&quot;47.800012207031244&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n &lt;RowConstraints maxHeight=&quot;312.80000000000007&quot; minHeight=&quot;10.0&quot; \n  prefHeight=&quot;228.60000000000002&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n &lt;RowConstraints maxHeight=&quot;312.80000000000007&quot; minHeight=&quot;0.0&quot; \n  prefHeight=&quot;52.999987792968795&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n &lt;RowConstraints maxHeight=&quot;494.6000122070312&quot; \n  minHeight=&quot;3.5999755859375&quot; prefHeight=&quot;262.79998779296875&quot; \n  vgrow=&quot;SOMETIMES&quot; /&gt;\n &lt;RowConstraints maxHeight=&quot;480.8000122070313&quot; minHeight=&quot;10.0&quot; \n  prefHeight=&quot;158.00001220703132&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n  &lt;/rowConstraints&gt;\n  &lt;children&gt;\n  &lt;Button fx:id=&quot;pizza&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#addpizza&quot; \n  prefHeight=&quot;54.0&quot; prefWidth=&quot;301.0&quot; text=&quot;Paneer Pizza&quot; \n  GridPane.rowIndex=&quot;1&quot; /&gt;\n  &lt;Button fx:id=&quot;addMargherita&quot; mnemonicParsing=&quot;false&quot; \n  prefHeight=&quot;56.0&quot; prefWidth=&quot;298.0&quot; text=&quot;Margherita Pizza&quot; \n  GridPane.columnIndex=&quot;1&quot; GridPane.rowIndex=&quot;1&quot; /&gt;\n  &lt;Button fx:id=&quot;pizza1&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;54.0&quot; \n  prefWidth=&quot;301.0&quot; text=&quot;Chicken Pizza&quot; GridPane.rowIndex=&quot;3&quot; /&gt;\n  &lt;Button fx:id=&quot;pizza2&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;54.0&quot; \n  prefWidth=&quot;301.0&quot; text=&quot;Cheese Burst&quot; GridPane.columnIndex=&quot;1&quot; GridPane.rowIndex=&quot;3&quot; /&gt;\n  &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;49.0&quot; prefWidth=&quot;358.0&quot; text=&quot;Chilli Pizza&quot; GridPane.columnIndex=&quot;2&quot; GridPane.rowIndex=&quot;1&quot; /&gt;\n  &lt;Button fx:id=&quot;gotomain&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#switchtomainpagefromPizza&quot; prefHeight=&quot;157.0&quot; prefWidth=&quot;266.0&quot; text=&quot;Main page&quot; GridPane.columnIndex=&quot;5&quot; GridPane.rowIndex=&quot;5&quot; /&gt;\n  &lt;Button layoutX=&quot;645.0&quot; layoutY=&quot;584.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;49.0&quot; prefWidth=&quot;358.0&quot; text=&quot;Pan Pizza&quot; GridPane.columnIndex=&quot;3&quot; GridPane.rowIndex=&quot;3&quot; /&gt;\n  &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;62.0&quot; prefWidth=&quot;395.0&quot; text=&quot;Sicilian Pizza&quot; GridPane.columnIndex=&quot;3&quot; GridPane.rowIndex=&quot;1&quot; /&gt;\n  &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;47.0&quot; prefWidth=&quot;286.0&quot; text=&quot;Chicago-Style Pizza&quot; GridPane.columnIndex=&quot;4&quot; GridPane.rowIndex=&quot;1&quot; /&gt;\n  &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;66.0&quot; prefWidth=&quot;266.0&quot; text=&quot;New York - Style Pizza&quot; GridPane.columnIndex=&quot;5&quot; GridPane.rowIndex=&quot;1&quot; /&gt;\n  &lt;Button fx:id=&quot;pizza21&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;54.0&quot; prefWidth=&quot;301.0&quot; text=&quot;Hawaiian Pizza&quot; GridPane.columnIndex=&quot;2&quot; GridPane.rowIndex=&quot;3&quot; /&gt;\n  &lt;Button layoutX=&quot;1022.0&quot; layoutY=&quot;584.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;49.0&quot; prefWidth=&quot;358.0&quot; text=&quot;Greek Pizza&quot; GridPane.columnIndex=&quot;4&quot; GridPane.rowIndex=&quot;3&quot; /&gt;\n  &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;49.0&quot; prefWidth=&quot;358.0&quot; text=&quot;Crust Pizza&quot; GridPane.columnIndex=&quot;2&quot; GridPane.rowIndex=&quot;5&quot; /&gt;\n  &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;49.0&quot; prefWidth=&quot;358.0&quot; text=&quot;Momo Pizza&quot; GridPane.columnIndex=&quot;1&quot; GridPane.rowIndex=&quot;5&quot; /&gt;\n  &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;49.0&quot; prefWidth=&quot;358.0&quot; text=&quot;Corn Pizza&quot; GridPane.columnIndex=&quot;5&quot; GridPane.rowIndex=&quot;3&quot; /&gt;\n  &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;49.0&quot; prefWidth=&quot;358.0&quot; text=&quot;Prime Pizza&quot; GridPane.rowIndex=&quot;5&quot; /&gt;\n  &lt;Button fx:id=&quot;pizza3&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;54.0&quot; prefWidth=&quot;301.0&quot; text=&quot;Sauce Pizza&quot; GridPane.columnIndex=&quot;3&quot; GridPane.rowIndex=&quot;5&quot; /&gt;\n  &lt;Button fx:id=&quot;pizza4&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;54.0&quot; prefWidth=&quot;301.0&quot; text=&quot;Oregano Pizza&quot; GridPane.columnIndex=&quot;4&quot; GridPane.rowIndex=&quot;5&quot; /&gt;\n  &lt;/children&gt;\n  &lt;/GridPane&gt;\n</code></pre>\n<p>'&quot;</p>\n<p>The third FXML file is also exactly similar to this hence I'm not including the code to it to cut it short.</p>\n<p>I have built 3 diff controller classes to control the Main-page, the pizzas page and the Burgers page.</p>\n<p>The controller class for the main-page is as follows:</p>\n<p>&quot;'<br />\npublic class HelloController extends  PizzaController{</p>\n<pre><code>public void switchtopizzapage(ActionEvent event) throws IOException {\n    Parent root = FXMLLoader.load(getClass().getResource(&quot;pizzas.fxml&quot;));\n    Stage stage = (Stage) (((Node) event.getSource()).getScene().getWindow());\n    Scene scene = new Scene(root);\n    stage.setScene(scene);\n    stage.setFullScreen(false);\n    stage.setHeight(400);stage.setWidth(600);\n    stage.show();\n}\n\n\npublic  void switchtoburger(ActionEvent event) throws IOException {\n    Parent root = FXMLLoader.load(HelloController.class.getResource(&quot;Burgers.fxml&quot;));\n    Stage stage = (Stage) (((Node) event.getSource()).getScene().getWindow());\n    Scene scene = new Scene(root);\n    stage.setScene(scene);\n    stage.setFullScreen(false);\n    System.out.println(total);\n    stage.show();\n}\n</code></pre>\n<p>}'&quot;</p>\n<p>The method 'switchtopizzapage' opens the pizza page which is the second FXML scene and the 'switchtoburger' opens the third FXML scene.</p>\n<p>The main page looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/92k8W.png\" rel=\"nofollow noreferrer\">This is the main-page.</a></p>\n<p>The controller class for the pizzas.fxml file is given below:</p>\n<pre><code>public class PizzaController {\n\npublic  int total;\n\n\n\npublic void addpizza(){\n    int pizzaCost = 100;\n    total = total + pizzaCost;\n    System.out.println(total);\n}\n\n\npublic void switchtomainpagefromPizza(ActionEvent event) throws IOException {\n    Parent root = FXMLLoader.load(getClass().getResource(&quot;Main-Page.fxml&quot;));\n    Stage stage = (Stage) (((Node) event.getSource()).getScene().getWindow());\n    Scene scene = new Scene(root);\n    stage.setScene(scene);\n    stage.setFullScreen(false);\n    System.out.println(total);\n    stage.show();\n}\n</code></pre>\n<p>}</p>\n<p>The controller class for the Burgers.fxml is given below:</p>\n<pre><code>public class BurgerController extends PizzaController{\n\n\n\npublic  void addChickenBurger(){\n    int ChickenBurgerCost = 100;\n   total = total+ ChickenBurgerCost;\n   System.out.println(total);\n\n\n}\npublic  void switchtomainpagefromBurger(ActionEvent event) throws IOException {\n    Parent root = FXMLLoader.load(getClass().getResource(&quot;Main-Page.fxml&quot;));\n    Stage stage = (Stage) (((Node) event.getSource()).getScene().getWindow());\n    Scene scene = new Scene(root);\n    stage.setScene(scene);\n    stage.setFullScreen(false);\n    stage.show();\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring","testing","h2"],"answers":[{"tags":[],"owner":{"account_id":11988367,"reputation":540,"user_id":8772274,"display_name":"Nahuel Giani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656429607,"creation_date":1656429607,"answer_id":72789148,"question_id":72789062,"body_markdown":"You need configure the application.properties / yaml, like that:\r\n\r\n    spring.datasource.url=jdbc:h2:mem:dbtest\r\n    spring.datasource.driverClassName=org.h2.Driver\r\n    spring.datasource.username=user\r\n    spring.datasource.password=password\r\n    spring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\n\r\nYou can see more here: https://www.baeldung.com/spring-boot-h2-database","title":"Spring doesn&#39;t use h2 databases for testing","body":"<p>You need configure the application.properties / yaml, like that:</p>\n<pre><code>spring.datasource.url=jdbc:h2:mem:dbtest\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=user\nspring.datasource.password=password\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\n</code></pre>\n<p>You can see more here: <a href=\"https://www.baeldung.com/spring-boot-h2-database\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-h2-database</a></p>\n"},{"tags":[],"owner":{"account_id":14461800,"reputation":177,"user_id":10446433,"display_name":"SimpleJack"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656432665,"creation_date":1656431871,"answer_id":72789699,"question_id":72789062,"body_markdown":"If you&#39;re using [Spring Boot with Gradle][1] (what I can assume from your posted `build.gradle` file) &amp; want strictly seperate test environment &amp; production/development, you have to add a new `application.properties` in your `test/resources` directory.\r\nThis application file will then be used, in your test environment.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n**ATTENTION:** Every necessary entry that is not present in this file, will fall back to the property file in your `src` directory. This can lead to some inconsitencies in your application setup.\r\n\r\n**--- The following part does also work with none Gradle builds: ---**\r\n\r\nIf you want to use a specific property in a specific test, you can use the [@TestPropertySource][3] annotation.\r\n\r\nWith this you can now define a default properties for the majority of your tests &amp; speceific properties for specific tests, meaning the `@TestPropertySource` annotations are of higher order than the `application.properties` in the test directory &amp; overwrite them.\r\n\r\n\r\n  [1]: https://spring.io/guides/gs/gradle/\r\n  [2]: https://i.stack.imgur.com/t3IiP.png\r\n  [3]: https://docs.spring.io/spring-framework/docs/current/reference/html/testing.html#spring-testing-annotation-testpropertysource","title":"Spring doesn&#39;t use h2 databases for testing","body":"<p>If you're using <a href=\"https://spring.io/guides/gs/gradle/\" rel=\"nofollow noreferrer\">Spring Boot with Gradle</a> (what I can assume from your posted <code>build.gradle</code> file) &amp; want strictly seperate test environment &amp; production/development, you have to add a new <code>application.properties</code> in your <code>test/resources</code> directory.\nThis application file will then be used, in your test environment.</p>\n<p><a href=\"https://i.stack.imgur.com/t3IiP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/t3IiP.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>ATTENTION:</strong> Every necessary entry that is not present in this file, will fall back to the property file in your <code>src</code> directory. This can lead to some inconsitencies in your application setup.</p>\n<p><strong>--- The following part does also work with none Gradle builds: ---</strong></p>\n<p>If you want to use a specific property in a specific test, you can use the <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/testing.html#spring-testing-annotation-testpropertysource\" rel=\"nofollow noreferrer\">@TestPropertySource</a> annotation.</p>\n<p>With this you can now define a default properties for the majority of your tests &amp; speceific properties for specific tests, meaning the <code>@TestPropertySource</code> annotations are of higher order than the <code>application.properties</code> in the test directory &amp; overwrite them.</p>\n"}],"owner":{"account_id":25672194,"reputation":13,"user_id":19436250,"display_name":"GeoT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1876,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72789699,"answer_count":2,"score":1,"last_activity_date":1656432665,"creation_date":1656429258,"question_id":72789062,"body_markdown":"I have a small database application running on mySQL.\r\n\r\nI want to use the H2 for testing.\r\n\r\nI added the necessary dependency to build.gradle:\r\n\r\nruntimeOnly &#39;com.h2database: h2&#39;\r\n\r\n        plugins {\r\n        id &#39;org.springframework.boot&#39; version &#39;2.7.0&#39;\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n        id &#39;java&#39;\r\n        id &#39;idea&#39;\r\n    }\r\n    \r\n    group = &#39;com.myprojects&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = &#39;11&#39;\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &#39;org.springframework.boot:spring-boot-starter:2.7.0&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n        implementation &#39;javax.validation:validation-api:2.0.1.Final&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-web:2.7.0&#39;\r\n        implementation &#39;org.jetbrains:annotations:23.0.0&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-test:2.7.0&#39;\r\n        implementation &#39;junit:junit:4.13.2&#39;\r\n    \r\n        testImplementation &#39;junit:junit:4.13.2&#39;\r\n    \r\n        runtimeOnly &#39;mysql:mysql-connector-java&#39;\r\n        runtimeOnly &#39;com.h2database:h2&#39;\r\n    \r\n        compileOnly &#39;org.projectlombok:lombok&#39;\r\n        annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    }\r\n    \r\n    jar {\r\n        enabled = false\r\n    }\r\n    \r\n    test {\r\n        useJUnitPlatform()\r\n    }\r\n\r\nHowever, I noticed that after doing the tests, my mySQL database contains the fields generated during the tests, as if spring was not using H2.\r\n\r\nWhat&#39;s the problem?","title":"Spring doesn&#39;t use h2 databases for testing","body":"<p>I have a small database application running on mySQL.</p>\n<p>I want to use the H2 for testing.</p>\n<p>I added the necessary dependency to build.gradle:</p>\n<p>runtimeOnly 'com.h2database: h2'</p>\n<pre><code>    plugins {\n    id 'org.springframework.boot' version '2.7.0'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'java'\n    id 'idea'\n}\n\ngroup = 'com.myprojects'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '11'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter:2.7.0'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'javax.validation:validation-api:2.0.1.Final'\n    implementation 'org.springframework.boot:spring-boot-starter-web:2.7.0'\n    implementation 'org.jetbrains:annotations:23.0.0'\n    implementation 'org.springframework.boot:spring-boot-starter-test:2.7.0'\n    implementation 'junit:junit:4.13.2'\n\n    testImplementation 'junit:junit:4.13.2'\n\n    runtimeOnly 'mysql:mysql-connector-java'\n    runtimeOnly 'com.h2database:h2'\n\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n}\n\njar {\n    enabled = false\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>However, I noticed that after doing the tests, my mySQL database contains the fields generated during the tests, as if spring was not using H2.</p>\n<p>What's the problem?</p>\n"},{"tags":["java","protocol-buffers","grpc","grpc-java","proto"],"answers":[{"tags":[],"owner":{"account_id":5967476,"reputation":24635,"user_id":4690866,"display_name":"Eric Anderson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656432605,"creation_date":1656432605,"answer_id":72789872,"question_id":72789726,"body_markdown":"In the code snippet of the command, we see:\r\n```\r\njava_out=%OUTPUT_DIR%\r\n```\r\n\r\nIt should be a flag:\r\n```\r\n--java_out=%OUTPUT_DIR%\r\n```","title":"Could not make proto path relative: java_out=C:\\proto\\: No such file or directory","body":"<p>In the code snippet of the command, we see:</p>\n<pre><code>java_out=%OUTPUT_DIR%\n</code></pre>\n<p>It should be a flag:</p>\n<pre><code>--java_out=%OUTPUT_DIR%\n</code></pre>\n"}],"owner":{"account_id":7382849,"reputation":3,"user_id":14751769,"display_name":"Farshad Fallah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72789872,"answer_count":1,"score":0,"last_activity_date":1656432605,"creation_date":1656431949,"question_id":72789726,"body_markdown":"&lt;br&gt;\r\nI&#39;m learning gRPC and this is my first app.&lt;br&gt;\r\nI&#39;m using windows 10, java Graalvm 11.&lt;br&gt;\r\nmy proto file\r\n\r\n```\r\nsyntax = &quot;proto3&quot;;\r\n\r\npackage example;\r\n\r\noption java_package = &quot;ir.farshad.services&quot;;\r\noption java_multiple_files = true;\r\n\r\n\r\nservice EmployeeService{\r\n    rpc getEmployee (EmployeeRequest) returns (EmployeeeResponse);\r\n}\r\n\r\nmessage EmployeeRequest{\r\n    int64 id = 1;\r\n}\r\n\r\nmessage EmployeeeResponse{\r\n    int64 id = 1;\r\n    string name = 2;\r\n    string designation = 3;\r\n}\r\n\r\n```\r\n\r\nmy run command\r\n\r\n```\r\nset PROTO_FOLDER_PATH=C:\\proto\\empoloyee\r\nset PROTO_PLUGIN_PATH=C:\\proto\\protoc-gen-grpc-java-1.47.0-windows-x86_64.exe\r\nset OUTPUT_DIR=C:\\proto\r\n\r\n\r\nprotoc --proto_path=%PROTO_FOLDER_PATH% --plugin=protoc-gen-grpc-java=%PROTO_PLUGIN_PATH% --grpc-java_out=%OUTPUT_DIR% java_out=%OUTPUT_DIR%  %PROTO_FOLDER_PATH%\\employee.proto\r\n\r\n```\r\n\r\nand I get this Error\r\n\r\n```\r\nCould not make proto path relative: java_out=C:\\proto\\: No such file or directory\r\n\r\n```\r\n&lt;br&gt;\r\n\r\nmy folder tree is\r\n\r\n```\r\nC:\\PROTO\r\n│   protoc-gen-grpc-java-1.47.0-windows-x86_64.exe\r\n│\r\n└───empoloyee\r\n        employee.proto\r\n        run.bat\r\n\r\n```\r\n\r\nthank you in advance","title":"Could not make proto path relative: java_out=C:\\proto\\: No such file or directory","body":"<br>\nI'm learning gRPC and this is my first app.<br>\nI'm using windows 10, java Graalvm 11.<br>\nmy proto file\n<pre><code>syntax = &quot;proto3&quot;;\n\npackage example;\n\noption java_package = &quot;ir.farshad.services&quot;;\noption java_multiple_files = true;\n\n\nservice EmployeeService{\n    rpc getEmployee (EmployeeRequest) returns (EmployeeeResponse);\n}\n\nmessage EmployeeRequest{\n    int64 id = 1;\n}\n\nmessage EmployeeeResponse{\n    int64 id = 1;\n    string name = 2;\n    string designation = 3;\n}\n\n</code></pre>\n<p>my run command</p>\n<pre><code>set PROTO_FOLDER_PATH=C:\\proto\\empoloyee\nset PROTO_PLUGIN_PATH=C:\\proto\\protoc-gen-grpc-java-1.47.0-windows-x86_64.exe\nset OUTPUT_DIR=C:\\proto\n\n\nprotoc --proto_path=%PROTO_FOLDER_PATH% --plugin=protoc-gen-grpc-java=%PROTO_PLUGIN_PATH% --grpc-java_out=%OUTPUT_DIR% java_out=%OUTPUT_DIR%  %PROTO_FOLDER_PATH%\\employee.proto\n\n</code></pre>\n<p>and I get this Error</p>\n<pre><code>Could not make proto path relative: java_out=C:\\proto\\: No such file or directory\n\n</code></pre>\n<br>\n<p>my folder tree is</p>\n<pre><code>C:\\PROTO\n│   protoc-gen-grpc-java-1.47.0-windows-x86_64.exe\n│\n└───empoloyee\n        employee.proto\n        run.bat\n\n</code></pre>\n<p>thank you in advance</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":18269519,"reputation":1064,"user_id":13300553,"display_name":"Prathamesh"},"score":0,"creation_date":1656426755,"post_id":72788026,"comment_id":128566364,"body_markdown":"It would be helpful if you can include a screenshot of your output!","body":"It would be helpful if you can include a screenshot of your output!"},{"owner":{"account_id":9101183,"reputation":195,"user_id":6773266,"display_name":"mohammed ahmed"},"score":0,"creation_date":1656426970,"post_id":72788026,"comment_id":128566444,"body_markdown":"Perfect use case for header/footer implementation with recycler view. Here is how you can do it. [code labs](https://developer.android.com/codelabs/kotlin-android-training-headers#0)","body":"Perfect use case for header/footer implementation with recycler view. Here is how you can do it. <a href=\"https://developer.android.com/codelabs/kotlin-android-training-headers#0\" rel=\"nofollow noreferrer\">code labs</a>"}],"answers":[{"tags":[],"owner":{"account_id":2197099,"reputation":2498,"user_id":1942463,"display_name":"Rajasekaran M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656427068,"creation_date":1656426501,"answer_id":72788314,"question_id":72788026,"body_markdown":"you have to use else for reset the value if position is not 0 or n-1 because views are reusing \r\n\r\n    @Override\r\n    public void getItemOffsets(@NonNull Rect outRect, @NonNull View view, RecyclerView parent,\r\n                               @NonNull RecyclerView.State state) {\r\n        if (parent.getChildAdapterPosition(view) == 0)\r\n            outRect.left = horizontalSpaceWidth;\r\n        else if (parent.getChildAdapterPosition(view) == parent.getChildCount() - 1)\r\n            outRect.right = horizontalSpaceWidth;\r\n       else {\r\n           outRect.right = 0;\r\n           outRect.left = 0;\r\n       }\r\n    }\r\n\r\n","title":"How can I add space in the RecyclerView?","body":"<p>you have to use else for reset the value if position is not 0 or n-1 because views are reusing</p>\n<pre><code>@Override\npublic void getItemOffsets(@NonNull Rect outRect, @NonNull View view, RecyclerView parent,\n                           @NonNull RecyclerView.State state) {\n    if (parent.getChildAdapterPosition(view) == 0)\n        outRect.left = horizontalSpaceWidth;\n    else if (parent.getChildAdapterPosition(view) == parent.getChildCount() - 1)\n        outRect.right = horizontalSpaceWidth;\n   else {\n       outRect.right = 0;\n       outRect.left = 0;\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23263280,"reputation":29,"user_id":18424680,"display_name":"Couver"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656432514,"creation_date":1656432514,"answer_id":72789846,"question_id":72788026,"body_markdown":"Found the solution by setting LayoutParams to items&#39; parent views. Not the best way I guess, but it works fine for me.\r\n\r\n    RecyclerView.LayoutParams params = new RecyclerView.LayoutParams(ViewGroup.LayoutParams.WRAP_CONTENT, ViewGroup.LayoutParams.WRAP_CONTENT);\r\n        if (position == 0 || position == 14) {\r\n            if (position == 0) params.setMargins(spaceWidth, 0, 0, 0);\r\n            else params.setMargins(0, 0, spaceWidth, 0);\r\n        } else params.setMargins(0, 0, 0, 0);\r\n        holder.background.setLayoutParams(params);\r\n\r\n*14 is adapter item count - 1","title":"How can I add space in the RecyclerView?","body":"<p>Found the solution by setting LayoutParams to items' parent views. Not the best way I guess, but it works fine for me.</p>\n<pre><code>RecyclerView.LayoutParams params = new RecyclerView.LayoutParams(ViewGroup.LayoutParams.WRAP_CONTENT, ViewGroup.LayoutParams.WRAP_CONTENT);\n    if (position == 0 || position == 14) {\n        if (position == 0) params.setMargins(spaceWidth, 0, 0, 0);\n        else params.setMargins(0, 0, spaceWidth, 0);\n    } else params.setMargins(0, 0, 0, 0);\n    holder.background.setLayoutParams(params);\n</code></pre>\n<p>*14 is adapter item count - 1</p>\n"}],"owner":{"account_id":23263280,"reputation":29,"user_id":18424680,"display_name":"Couver"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72789846,"answer_count":2,"score":1,"last_activity_date":1656432552,"creation_date":1656425496,"question_id":72788026,"body_markdown":"I need to add some space to start of the first item and to end of the last item of RecyclerView, so they can scroll to edge of the screen (as they can&#39;t with RecyclerView&#39;s margin or padding)\r\n\r\nThe problem is spacing between items should be different, so I can&#39;t just add this &quot;space&quot; to item layout. Now I&#39;m trying to add ItemDecoration to my Recycler, but thats what happens:\r\n1) Before I even touch it spacing appears letterarily randomly:\r\n[Random spacing][1]\r\n2) Then, when I scroll to the end and go back, required space appears after last item that fits on the screen, not after the last one of my Recycler.\r\n[The space right after the last item that fits on the screen][2]\r\n[No space for the real last item][3]\r\n\r\nMy ItemDecoration class:\r\n\r\n    public class HorizontalItemDecoration extends RecyclerView.ItemDecoration {\r\n\r\n    private final int horizontalSpaceWidth;\r\n\r\n    public HorizontalItemDecoration(int horizontalSpaceWidth) {\r\n        this.horizontalSpaceWidth = horizontalSpaceWidth;\r\n    }\r\n\r\n    @Override\r\n    public void getItemOffsets(@NonNull Rect outRect, @NonNull View view, RecyclerView parent,\r\n                               @NonNull RecyclerView.State state) {\r\n        if (parent.getChildAdapterPosition(view) == 0)\r\n            outRect.left = horizontalSpaceWidth;\r\n        else if (parent.getChildAdapterPosition(view) == parent.getChildCount() - 1)\r\n            outRect.right = horizontalSpaceWidth;\r\n    }\r\n    }\r\n*horizontalSpaceWidth is 16dp, default spacing betsween items is 4dp.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5tcg3.png\r\n  [2]: https://i.stack.imgur.com/oTts8.png\r\n  [3]: https://i.stack.imgur.com/L2cAs.png","title":"How can I add space in the RecyclerView?","body":"<p>I need to add some space to start of the first item and to end of the last item of RecyclerView, so they can scroll to edge of the screen (as they can't with RecyclerView's margin or padding)</p>\n<p>The problem is spacing between items should be different, so I can't just add this &quot;space&quot; to item layout. Now I'm trying to add ItemDecoration to my Recycler, but thats what happens:</p>\n<ol>\n<li>Before I even touch it spacing appears letterarily randomly:\n<a href=\"https://i.stack.imgur.com/5tcg3.png\" rel=\"nofollow noreferrer\">Random spacing</a></li>\n<li>Then, when I scroll to the end and go back, required space appears after last item that fits on the screen, not after the last one of my Recycler.\n<a href=\"https://i.stack.imgur.com/oTts8.png\" rel=\"nofollow noreferrer\">The space right after the last item that fits on the screen</a>\n<a href=\"https://i.stack.imgur.com/L2cAs.png\" rel=\"nofollow noreferrer\">No space for the real last item</a></li>\n</ol>\n<p>My ItemDecoration class:</p>\n<pre><code>public class HorizontalItemDecoration extends RecyclerView.ItemDecoration {\n\nprivate final int horizontalSpaceWidth;\n\npublic HorizontalItemDecoration(int horizontalSpaceWidth) {\n    this.horizontalSpaceWidth = horizontalSpaceWidth;\n}\n\n@Override\npublic void getItemOffsets(@NonNull Rect outRect, @NonNull View view, RecyclerView parent,\n                           @NonNull RecyclerView.State state) {\n    if (parent.getChildAdapterPosition(view) == 0)\n        outRect.left = horizontalSpaceWidth;\n    else if (parent.getChildAdapterPosition(view) == parent.getChildCount() - 1)\n        outRect.right = horizontalSpaceWidth;\n}\n}\n</code></pre>\n<p>*horizontalSpaceWidth is 16dp, default spacing betsween items is 4dp.</p>\n"},{"tags":["java","list","java-stream","integer-overflow"],"comments":[{"owner":{"account_id":14155962,"reputation":578,"user_id":10226695,"display_name":"Shavk with a Hoon"},"score":0,"creation_date":1656350307,"post_id":72776010,"comment_id":128545465,"body_markdown":"Looks like you are overflowing.","body":"Looks like you are overflowing."},{"owner":{"account_id":18237870,"reputation":15,"user_id":13275464,"display_name":"Nasri"},"score":0,"creation_date":1656350475,"post_id":72776010,"comment_id":128545518,"body_markdown":"Hmm even beyond the long capacity? would the use of BigInteger help?","body":"Hmm even beyond the long capacity? would the use of BigInteger help?"},{"owner":{"account_id":14155962,"reputation":578,"user_id":10226695,"display_name":"Shavk with a Hoon"},"score":0,"creation_date":1656350765,"post_id":72776010,"comment_id":128545618,"body_markdown":"potentially. Generally when you get a negative you have overflowed. The max long is 9,223,372,036,854,775,807 which seems way bigger than your testing values so not sure exactly","body":"potentially. Generally when you get a negative you have overflowed. The max long is 9,223,372,036,854,775,807 which seems way bigger than your testing values so not sure exactly"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1656437561,"post_id":72776010,"comment_id":128570560,"body_markdown":"Streams are not always the best solution.  Especially if you want efficiency.  Of course for only five values, it doesn&#39;t make much difference.","body":"Streams are not always the best solution.  Especially if you want efficiency.  Of course for only five values, it doesn&#39;t make much difference."}],"answers":[{"tags":[],"owner":{"account_id":22211311,"reputation":66,"user_id":16450438,"display_name":"ShinyMustard22"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1656432400,"creation_date":1656351613,"answer_id":72776286,"question_id":72776010,"body_markdown":"As @Benjamin W. has said, there seems to be some overflowing occurring here. It might have to do with the list containing Integer objects instead of longs, but you would have to look into it further. Your buffered reader seams like it is working perfectly fine.\r\n\r\nIf you just want a simple solution, you could just find the smallest number in the list, and omit it from the largest sum, and find the largest element from the list, and omit it from the smallest sum.\r\n\r\n```\r\npublic static void minmaxSum(List&lt;Integer&gt; arr) {\r\n    if (arr.size() == 0) return;\r\n\r\n    long max = arr.get(0):\r\n    long min = arr.get(0);\r\n\r\n    long maxSum = 0;\r\n    long minSum = 0;\r\n\r\n    for (Integer num : arr) {\r\n        long longNum = (long) num.intValue();\r\n        \r\n        maxSum += longNum;\r\n        minSum += longNum;\r\n\r\n        if (longNum &lt; min) min = longNum;\r\n        if (longNum &gt; max) max = longNum;\r\n    }\r\n\r\n    maxSum -= min;\r\n    minSum -= max;\r\n\r\n    System.out.println(minSum + &quot; &quot; + maxSum);\r\n}       \r\n```\r\n\r\nBesides, code like this is much more clear anyway.","title":"Calculating Min and Max sums from a List of Integer using Java 8 streams","body":"<p>As @Benjamin W. has said, there seems to be some overflowing occurring here. It might have to do with the list containing Integer objects instead of longs, but you would have to look into it further. Your buffered reader seams like it is working perfectly fine.</p>\n<p>If you just want a simple solution, you could just find the smallest number in the list, and omit it from the largest sum, and find the largest element from the list, and omit it from the smallest sum.</p>\n<pre><code>public static void minmaxSum(List&lt;Integer&gt; arr) {\n    if (arr.size() == 0) return;\n\n    long max = arr.get(0):\n    long min = arr.get(0);\n\n    long maxSum = 0;\n    long minSum = 0;\n\n    for (Integer num : arr) {\n        long longNum = (long) num.intValue();\n        \n        maxSum += longNum;\n        minSum += longNum;\n\n        if (longNum &lt; min) min = longNum;\n        if (longNum &gt; max) max = longNum;\n    }\n\n    maxSum -= min;\n    minSum -= max;\n\n    System.out.println(minSum + &quot; &quot; + maxSum);\n}       \n</code></pre>\n<p>Besides, code like this is much more clear anyway.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656380899,"creation_date":1656380899,"answer_id":72779889,"question_id":72776010,"body_markdown":"# `Math.addExact`\r\n\r\nAs explained in the [Answer by ShinyMustard22][1], you seem to be encountering problems with overflowing the limits of your integer type. \r\n\r\nAn overflow occurs with no warning to you. If you want to be informed when an overflow occurs, and you should want that, use the `…Exact` methods found on the [`Math`][2] class. If an overflow occurs during the operation, an exception is thrown. You trap for that exception to resolve the situation in a manner of your choosing.\r\n\r\nFor example, [`Math.addExact( long x , long y )`][3]. \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/72776286/642706\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Math.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Math.html#addExact(long,long)","title":"Calculating Min and Max sums from a List of Integer using Java 8 streams","body":"<h1><code>Math.addExact</code></h1>\n<p>As explained in the <a href=\"https://stackoverflow.com/a/72776286/642706\">Answer by ShinyMustard22</a>, you seem to be encountering problems with overflowing the limits of your integer type.</p>\n<p>An overflow occurs with no warning to you. If you want to be informed when an overflow occurs, and you should want that, use the <code>…Exact</code> methods found on the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Math.html\" rel=\"nofollow noreferrer\"><code>Math</code></a> class. If an overflow occurs during the operation, an exception is thrown. You trap for that exception to resolve the situation in a manner of your choosing.</p>\n<p>For example, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Math.html#addExact(long,long)\" rel=\"nofollow noreferrer\"><code>Math.addExact( long x , long y )</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656412694,"creation_date":1656410591,"answer_id":72784445,"question_id":72776010,"body_markdown":"The overflow occurs because you are performing reduction on a stream of `Integer`, i.e. *accumulator* of the `reduce()` operation deals with `Interger` objects, and then you&#39;re assigning the overflown result of the calculation to a variable of type `long`.\r\n\r\n&lt;h3&gt;LongSummaryStatistics &amp; LongStream&lt;/h3&gt;\r\n\r\nSince only one value should be discarded in both cases (*for* **min** *and* **max** *sum*), we can approach this problem by calculating the *total* of all elements and subtracting the value of the *lowest element* to obtain the *maximum sum* and subtracting the value of the *highest element* to get the *minimum sum*.\r\n\r\nThere&#39;s no need to apply sorting and hard-code the value of `4` in the stream. If you don&#39;t want to develop bad habits, try to design your solutions to be clean and generalized.\r\n\r\nWe can get all three values (*total*, the *lowest element*, the *highest element*) by performing a single iteration over the given list. It can be done &quot;manually&quot; by tracking these values while iterating with a `for` loop, or we can make use of one of the *summary statistics* classes from the JDK to get this job done for us. \r\n\r\nFrom the *summary statistics* object we can extract information about the total sum, minimum and maximum values, using its methods `getSum()`, getMin() and `getMax()`. To avoid `int` overflow we have to use [`LongSummaryStatistics`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/LongSummaryStatistics.html). And we can obtain this object from a `LongStream` by applying `summaryStatistics()` as a terminal operation.\r\n\r\n    public static void miniMaxSum(List&lt;Integer&gt; arr) {\r\n        LongSummaryStatistics statistics = arr.stream()\r\n            .mapToLong(i -&gt; i)\r\n            .summaryStatistics();\r\n        \r\n        long max = statistics.getSum() - statistics.getMin();\r\n        long min = statistics.getSum() - statistics.getMax();\r\n        \r\n        System.out.println(min + &quot; &quot; + max);\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        miniMaxSum(List.of(256741038, 623958417, 467905213, 714532089, 938071625));\r\n    }\r\n\r\n*Output:*\r\n```\r\n2063136757 2744467344\r\n```","title":"Calculating Min and Max sums from a List of Integer using Java 8 streams","body":"<p>The overflow occurs because you are performing reduction on a stream of <code>Integer</code>, i.e. <em>accumulator</em> of the <code>reduce()</code> operation deals with <code>Interger</code> objects, and then you're assigning the overflown result of the calculation to a variable of type <code>long</code>.</p>\n<h3>LongSummaryStatistics & LongStream</h3>\n<p>Since only one value should be discarded in both cases (<em>for</em> <strong>min</strong> <em>and</em> <strong>max</strong> <em>sum</em>), we can approach this problem by calculating the <em>total</em> of all elements and subtracting the value of the <em>lowest element</em> to obtain the <em>maximum sum</em> and subtracting the value of the <em>highest element</em> to get the <em>minimum sum</em>.</p>\n<p>There's no need to apply sorting and hard-code the value of <code>4</code> in the stream. If you don't want to develop bad habits, try to design your solutions to be clean and generalized.</p>\n<p>We can get all three values (<em>total</em>, the <em>lowest element</em>, the <em>highest element</em>) by performing a single iteration over the given list. It can be done &quot;manually&quot; by tracking these values while iterating with a <code>for</code> loop, or we can make use of one of the <em>summary statistics</em> classes from the JDK to get this job done for us.</p>\n<p>From the <em>summary statistics</em> object we can extract information about the total sum, minimum and maximum values, using its methods <code>getSum()</code>, getMin() and <code>getMax()</code>. To avoid <code>int</code> overflow we have to use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/LongSummaryStatistics.html\" rel=\"nofollow noreferrer\"><code>LongSummaryStatistics</code></a>. And we can obtain this object from a <code>LongStream</code> by applying <code>summaryStatistics()</code> as a terminal operation.</p>\n<pre><code>public static void miniMaxSum(List&lt;Integer&gt; arr) {\n    LongSummaryStatistics statistics = arr.stream()\n        .mapToLong(i -&gt; i)\n        .summaryStatistics();\n    \n    long max = statistics.getSum() - statistics.getMin();\n    long min = statistics.getSum() - statistics.getMax();\n    \n    System.out.println(min + &quot; &quot; + max);\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    miniMaxSum(List.of(256741038, 623958417, 467905213, 714532089, 938071625));\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>2063136757 2744467344\n</code></pre>\n"}],"owner":{"account_id":18237870,"reputation":15,"user_id":13275464,"display_name":"Nasri"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":660,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72784445,"answer_count":3,"score":1,"last_activity_date":1656432400,"creation_date":1656350165,"question_id":72776010,"body_markdown":"I am trying to solve the following challenge: \r\n\r\n&gt; Given five positive integers, find the minimum and maximum values that\r\n&gt; can be calculated by summing exactly four of the five integers. Then\r\n&gt; print the respective **minimum** and **maximum** values as a single line of\r\n&gt; two space-separated `long` integers.\r\n\r\nMy code which can be seen below is able to handle some test cases but fails others which I cannot seem to figure out, the issue seems to lie with the ```long max``` assignment statement, and probably with the ```.sorted(Collections.reverseOrder())``` component as that is the only tangible difference between the min vs max statements. \r\n\r\nExample test case where it works:\r\n\r\n```\r\nInput = [1, 2, 3, 4, 5]\r\n\r\nOutput = 10 (minimum), 14 (maximum)\r\n```\r\nExample test case where it **does not** work:\r\n\r\n```\r\nInput = [256741038, 623958417, \r\n   467905213, 714532089, 938071625]\r\n\r\nOutput = 2063136757 (minimum), \r\n  -1550499952 (maximum)\r\n\r\nExpected Output = 2063136757 \r\n  (minimum), 2744467344 (maximum)\r\n```\r\n\r\n*My code:*\r\n\r\n```\r\nclass Result {\r\n\t\r\n\t/*\r\n\t * Complete the &#39;miniMaxSum&#39; function below.\r\n\t *\r\n\t * The function accepts. INTEGER_ARRAY arr as parameter.\r\n\t */\r\n\t\r\n\tpublic static void miniMaxSum(List&lt;Integer&gt; arr) {\r\n\t\tlong max = arr.stream().sorted(Collections.reverseOrder())\r\n\t\t\t\t.limit(4)\r\n\t\t\t\t.reduce(0, (subtotal, element) -&gt; subtotal + element);\r\n\t\tlong min = arr.stream().sorted().limit(4).reduce(0,\r\n\t\t\t\t(subtotal, element) -&gt; subtotal + element);\r\n\t\tSystem.out.println(min + &quot; &quot; + max);\r\n\t}\r\n}\r\n\r\npublic class Solution {\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\tBufferedReader bufferedReader =\r\n\t\t\t\tnew BufferedReader(new InputStreamReader(System.in));\r\n\t\t\r\n\t\tList&lt;Integer&gt; arr = Stream\r\n\t\t\t\t.of(bufferedReader.readLine().replaceAll(&quot;\\\\s+$&quot;, &quot;&quot;)\r\n\t\t\t\t\t\t.split(&quot; &quot;))\r\n\t\t\t\t.map(Integer::parseInt).collect(toList());\r\n\t\t\r\n\t\tResult.miniMaxSum(arr);\r\n\t\t\r\n\t\tbufferedReader.close();\r\n\t}\r\n}\r\n","title":"Calculating Min and Max sums from a List of Integer using Java 8 streams","body":"<p>I am trying to solve the following challenge:</p>\n<blockquote>\n<p>Given five positive integers, find the minimum and maximum values that\ncan be calculated by summing exactly four of the five integers. Then\nprint the respective <strong>minimum</strong> and <strong>maximum</strong> values as a single line of\ntwo space-separated <code>long</code> integers.</p>\n</blockquote>\n<p>My code which can be seen below is able to handle some test cases but fails others which I cannot seem to figure out, the issue seems to lie with the <code>long max</code> assignment statement, and probably with the <code>.sorted(Collections.reverseOrder())</code> component as that is the only tangible difference between the min vs max statements.</p>\n<p>Example test case where it works:</p>\n<pre><code>Input = [1, 2, 3, 4, 5]\n\nOutput = 10 (minimum), 14 (maximum)\n</code></pre>\n<p>Example test case where it <strong>does not</strong> work:</p>\n<pre><code>Input = [256741038, 623958417, \n   467905213, 714532089, 938071625]\n\nOutput = 2063136757 (minimum), \n  -1550499952 (maximum)\n\nExpected Output = 2063136757 \n  (minimum), 2744467344 (maximum)\n</code></pre>\n<p><em>My code:</em></p>\n<pre><code>class Result {\n    \n    /*\n     * Complete the 'miniMaxSum' function below.\n     *\n     * The function accepts. INTEGER_ARRAY arr as parameter.\n     */\n    \n    public static void miniMaxSum(List&lt;Integer&gt; arr) {\n        long max = arr.stream().sorted(Collections.reverseOrder())\n                .limit(4)\n                .reduce(0, (subtotal, element) -&gt; subtotal + element);\n        long min = arr.stream().sorted().limit(4).reduce(0,\n                (subtotal, element) -&gt; subtotal + element);\n        System.out.println(min + &quot; &quot; + max);\n    }\n}\n\npublic class Solution {\n    public static void main(String[] args) throws IOException {\n        BufferedReader bufferedReader =\n                new BufferedReader(new InputStreamReader(System.in));\n        \n        List&lt;Integer&gt; arr = Stream\n                .of(bufferedReader.readLine().replaceAll(&quot;\\\\s+$&quot;, &quot;&quot;)\n                        .split(&quot; &quot;))\n                .map(Integer::parseInt).collect(toList());\n        \n        Result.miniMaxSum(arr);\n        \n        bufferedReader.close();\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","aspose","aspose-cells"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1656407291,"post_id":72783584,"comment_id":128558445,"body_markdown":"How do you run the JAR? Are all dependent libraries listed in the `Class-Path` attribute of the `META-INF/MANIFEST.MF`, and in the right position relative to the JAR? Or did you create an uberjar?","body":"How do you run the JAR? Are all dependent libraries listed in the <code>Class-Path</code> attribute of the <code>META-INF&#47;MANIFEST.MF</code>, and in the right position relative to the JAR? Or did you create an uberjar?"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1656407305,"post_id":72783584,"comment_id":128558454,"body_markdown":"Did you bundle or reference the aspose library with your jar?","body":"Did you bundle or reference the aspose library with your jar?"},{"owner":{"account_id":22696564,"reputation":1,"user_id":16864604,"display_name":"Tvrsier"},"score":0,"creation_date":1656407426,"post_id":72783584,"comment_id":128558490,"body_markdown":"simply by java -jar file.jar\nthis is the .MF\nManifest-Version: 1.0\nCreated-By: Maven JAR Plugin 3.2.2\nBuild-Jdk-Spec: 11\nClass-Path: aspose-cells-22.6.jar\nMain-Class: src.main.java.MainClass","body":"simply by java -jar file.jar this is the .MF Manifest-Version: 1.0 Created-By: Maven JAR Plugin 3.2.2 Build-Jdk-Spec: 11 Class-Path: aspose-cells-22.6.jar Main-Class: src.main.java.MainClass"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1656407826,"post_id":72783584,"comment_id":128558631,"body_markdown":"Please [edit] your question instead of adding details in the comments. Is aspose-cells-22.6.jar located in the same directory as your jar?","body":"Please <a href=\"https://stackoverflow.com/posts/72783584/edit\">edit</a> your question instead of adding details in the comments. Is aspose-cells-22.6.jar located in the same directory as your jar?"},{"owner":{"account_id":22696564,"reputation":1,"user_id":16864604,"display_name":"Tvrsier"},"score":0,"creation_date":1656409237,"post_id":72783584,"comment_id":128559228,"body_markdown":"No, there isn&#39;t the aspose jar in the directory","body":"No, there isn&#39;t the aspose jar in the directory"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1656411708,"post_id":72783584,"comment_id":128560167,"body_markdown":"Then there is your problem (as an aside, if you want people to get notified, use `@&lt;username&gt;`). Configure Maven to copy the dependencies to the output directory, or do it yourself, or create an uberjar (aka fatjar) instead.","body":"Then there is your problem (as an aside, if you want people to get notified, use <code>@&lt;username&gt;</code>). Configure Maven to copy the dependencies to the output directory, or do it yourself, or create an uberjar (aka fatjar) instead."}],"answers":[{"tags":[],"owner":{"account_id":22696564,"reputation":1,"user_id":16864604,"display_name":"Tvrsier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656432392,"creation_date":1656432392,"answer_id":72789824,"question_id":72783584,"body_markdown":"I solved this by changing the build in my pom.xml\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                            &lt;mainClass&gt;eu.tvrsier.MainClass&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                    &lt;descriptorRefs&gt;jar-with-dependencies&lt;/descriptorRefs&gt;\r\n                    &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;make-assembly&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.8&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\r\n                        &lt;id&gt;default-cli&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;mainClass&gt;eu.tvrsier.MainClass&lt;/mainClass&gt;\r\n                            &lt;launcher&gt;app&lt;/launcher&gt;\r\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\r\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\r\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\r\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\r\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nbefore those changes i was creating a package, so i had maven-plugin instead of maven-assembly-plugin in the artifact ID, and I&#39;ve added the executions block too","title":"NoClassDefFoundError, but the code works and the class exists","body":"<p>I solved this by changing the build in my pom.xml</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.3.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                        &lt;mainClass&gt;eu.tvrsier.MainClass&lt;/mainClass&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n                &lt;descriptorRefs&gt;jar-with-dependencies&lt;/descriptorRefs&gt;\n                &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;make-assembly&lt;/id&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;single&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;0.0.8&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\n                    &lt;id&gt;default-cli&lt;/id&gt;\n                    &lt;configuration&gt;\n                        &lt;mainClass&gt;eu.tvrsier.MainClass&lt;/mainClass&gt;\n                        &lt;launcher&gt;app&lt;/launcher&gt;\n                        &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\n                        &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\n                        &lt;noManPages&gt;true&lt;/noManPages&gt;\n                        &lt;stripDebug&gt;true&lt;/stripDebug&gt;\n                        &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>before those changes i was creating a package, so i had maven-plugin instead of maven-assembly-plugin in the artifact ID, and I've added the executions block too</p>\n"}],"owner":{"account_id":22696564,"reputation":1,"user_id":16864604,"display_name":"Tvrsier"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":646,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656432392,"creation_date":1656406881,"question_id":72783584,"body_markdown":"I have a Maven project and I&#39;m using Aspose cells to manipulate an xlsx file. Aspose is configured through the POM\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n[...]\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;AsposeJavaAPI&lt;/id&gt;\r\n            &lt;name&gt;Aspose Java API&lt;/name&gt;\r\n            &lt;url&gt;https://repository.aspose.com/repo/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.aspose&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aspose-cells&lt;/artifactId&gt;\r\n            &lt;version&gt;22.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\nNow, when I test the project as a Java application there is no error. The code runs successfully, but when I execute the generated JAR this is what I get:\r\n\r\n    descrizione sconto\r\n    descrizione\r\n    codice sconto\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/aspose/cells/SaveOptions\r\n            at src.main.java.MainClass.main(MainClass.java:44)\r\n    Caused by: java.lang.ClassNotFoundException: com.aspose.cells.SaveOptions\r\n            at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n            at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n            at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n            ... 1 more\r\n\r\nThe first three rows are the console output of the project, the output files are created too, but that error shows up.\r\n\r\nI&#39;m using IntelliJ IDEA, Java version: JDK17.0.2, Maven version: Maven 3.8.1\r\n","title":"NoClassDefFoundError, but the code works and the class exists","body":"<p>I have a Maven project and I'm using Aspose cells to manipulate an xlsx file. Aspose is configured through the POM</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n[...]\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;AsposeJavaAPI&lt;/id&gt;\n            &lt;name&gt;Aspose Java API&lt;/name&gt;\n            &lt;url&gt;https://repository.aspose.com/repo/&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.aspose&lt;/groupId&gt;\n            &lt;artifactId&gt;aspose-cells&lt;/artifactId&gt;\n            &lt;version&gt;22.6&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>Now, when I test the project as a Java application there is no error. The code runs successfully, but when I execute the generated JAR this is what I get:</p>\n<pre><code>descrizione sconto\ndescrizione\ncodice sconto\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/aspose/cells/SaveOptions\n        at src.main.java.MainClass.main(MainClass.java:44)\nCaused by: java.lang.ClassNotFoundException: com.aspose.cells.SaveOptions\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n        ... 1 more\n</code></pre>\n<p>The first three rows are the console output of the project, the output files are created too, but that error shows up.</p>\n<p>I'm using IntelliJ IDEA, Java version: JDK17.0.2, Maven version: Maven 3.8.1</p>\n"},{"tags":["java","json","hide"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1656432884,"post_id":72789761,"comment_id":128568967,"body_markdown":"Which json library do you use? If you use jackson, did you try putting `@JsonIgnore` on the method(either abstract or concrete implementation)? If you use something else did you try its&#39; `@JsonIgnore` equivalent.","body":"Which json library do you use? If you use jackson, did you try putting <code>@JsonIgnore</code> on the method(either abstract or concrete implementation)? If you use something else did you try its&#39; <code>@JsonIgnore</code> equivalent."},{"owner":{"account_id":22190110,"reputation":11,"user_id":16432442,"display_name":"Thomas"},"score":0,"creation_date":1656433429,"post_id":72789761,"comment_id":128569196,"body_markdown":"@Chaosfire Hey. How can I check which one json library I have?","body":"@Chaosfire Hey. How can I check which one json library I have?"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1656434496,"post_id":72789761,"comment_id":128569536,"body_markdown":"Depends on your build tool, `pom.xml` for maven, `build.gradle` for gradle, if it&#39;s something else i don&#39;t know. Keep in mind it&#39;s probably transitive dependency, so it might not be directly visible.","body":"Depends on your build tool, <code>pom.xml</code> for maven, <code>build.gradle</code> for gradle, if it&#39;s something else i don&#39;t know. Keep in mind it&#39;s probably transitive dependency, so it might not be directly visible."}],"owner":{"account_id":22190110,"reputation":11,"user_id":16432442,"display_name":"Thomas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656432112,"creation_date":1656432112,"question_id":72789761,"body_markdown":"Is it possible to hide in Json `getCount()`? I need to use it in my code for counting, but don&#39;t want to see it in Json. I wanted to use `transient`, but for `public abstract` it doesn&#39;t allow. Any ideas how can I reach my goal?\r\n\r\n`public abstract class` code:\r\n\r\n    \t@Override\r\n    \tpublic int compareTo(Plan that) {\r\n    \t\tBigDecimal thisValue = this.getCount();\r\n    \t\tif (thisValue == null) {\r\n    \t\t\treturn 1;\r\n    \t\t}\r\n    \t\tBigDecimal thatValue = that.getCount();\r\n    \t\tif (thatValue == null) {\r\n    \t\t\treturn -1;\r\n    \t\t}\r\n    \t\treturn thisValue.compareTo(thatValue);\r\n    \t}\r\n    \r\n    public abstract BigDecimal getCount();\r\n\r\nAnd another `public class` with code:\r\n\r\n    @Override\r\n    public final BigDecimal getCount() {\r\n    \tif (exists != null) {\r\n    \t\treturn plan.getCount();\r\n    \t}\r\n    \treturn null;\r\n    }","title":"How to hide Java public abstract class field?","body":"<p>Is it possible to hide in Json <code>getCount()</code>? I need to use it in my code for counting, but don't want to see it in Json. I wanted to use <code>transient</code>, but for <code>public abstract</code> it doesn't allow. Any ideas how can I reach my goal?</p>\n<p><code>public abstract class</code> code:</p>\n<pre><code>    @Override\n    public int compareTo(Plan that) {\n        BigDecimal thisValue = this.getCount();\n        if (thisValue == null) {\n            return 1;\n        }\n        BigDecimal thatValue = that.getCount();\n        if (thatValue == null) {\n            return -1;\n        }\n        return thisValue.compareTo(thatValue);\n    }\n\npublic abstract BigDecimal getCount();\n</code></pre>\n<p>And another <code>public class</code> with code:</p>\n<pre><code>@Override\npublic final BigDecimal getCount() {\n    if (exists != null) {\n        return plan.getCount();\n    }\n    return null;\n}\n</code></pre>\n"},{"tags":["java","dropwizard","codahale-metrics"],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656431599,"creation_date":1656431599,"question_id":72789641,"body_markdown":"I try to implement simple sring boot application with dropwizard metrics\r\n\r\n**My codebase**:\r\n\r\n    @SpringBootApplication\r\n    @EnableMetrics(proxyTargetClass = true)\r\n    public class DemoApplication {\r\n    \r\n        public static void main(String[] args) {\r\n    \t\tMetricRegistry metricRegistry = new MetricRegistry();\r\n    \r\n    \t\tMeter meter = metricRegistry.meter(&quot;meter&quot;);\r\n    \t\tmeter.mark();\r\n    \t\tmeter.mark(200);\r\n    \t\tConsoleReporter reporter = ConsoleReporter.forRegistry(metricRegistry).build();\r\n    \t\treporter.start(5, TimeUnit.SECONDS);\r\n    \t\treporter.report();\r\n    \r\n    \t\tCounter counter = metricRegistry.counter(&quot;counter&quot;);\r\n    \t\tcounter.inc();\r\n    \t\tcounter.dec();\r\n    \r\n            SpringApplication.run(DemoApplication.class, args);\r\n        }\r\n    \r\n    }\r\n    \r\n    @RestController\r\n    public class HelloController {\r\n        private AtomicLong atomicLong = new AtomicLong();\r\n    \r\n        @GetMapping(&quot;/hello&quot;)\r\n        @Timed\r\n        public String index() {\r\n            return &quot;Greetings from Spring Boot!. count=&quot; + atomicLong.incrementAndGet();\r\n        }\r\n    \r\n    }\r\n\r\n**build.gradle:**\r\n\r\n    plugins {\r\n    \tid &#39;org.springframework.boot&#39; version &#39;2.7.1&#39;\r\n    \tid &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n    \tid &#39;java&#39;\r\n    }\r\n    \r\n    group = &#39;com.example&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = &#39;17&#39;\r\n    \r\n    repositories {\r\n    \tmavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    \timplementation &quot;org.springframework.boot:spring-boot-starter-actuator&quot;\r\n    \t// Minimum required for metrics.\r\n    \timplementation (&#39;com.ryantenney.metrics:metrics-spring:3.1.3&#39;) {\r\n    \t\texclude group: &#39;com.codahale.metrics&#39;\r\n    \t\texclude group: &#39;org.springframework&#39;\r\n    \t}\r\n    \timplementation &#39;io.dropwizard.metrics:metrics-core:4.2.9&#39;\r\n    \timplementation &#39;io.dropwizard.metrics:metrics-annotation:4.2.9&#39;\r\n    \timplementation &#39;io.dropwizard.metrics:metrics-servlets:4.2.9&#39;\r\n    \r\n    \timplementation &#39;io.prometheus:simpleclient_dropwizard:0.15.0&#39;\r\n    \timplementation &#39;io.prometheus:simpleclient_servlet:0.15.0&#39;\r\n    \timplementation &#39;io.dropwizard:dropwizard-core:2.1.0&#39;\r\n    \r\n    \ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    }\r\n    \r\n    tasks.named(&#39;test&#39;) {\r\n    \tuseJUnitPlatform()\r\n    }\r\n\r\n\r\nThis code produces following output to logs:\r\n\r\n\r\n    28.06.2022, 18:46:19 ===========================================================\r\n    \r\n    -- Counters --------------------------------------------------------------------\r\n    counter\r\n                 count = 0\r\n    \r\n    -- Meters ----------------------------------------------------------------------\r\n    meter\r\n                 count = 201\r\n             mean rate = 5,69 events/second\r\n         1-minute rate = 24,38 events/second\r\n         5-minute rate = 36,37 events/second\r\n        15-minute rate = 38,88 events/second\r\n\r\n\r\n\r\nI don&#39;t see any mentiones of this endpoint calls. How can I fix it ?     \r\n   \r\n\r\n     @GetMapping(&quot;/hello&quot;)\r\n        @Timed\r\n        public String index() {\r\n            return &quot;Greetings from Spring Boot!. count=&quot; + atomicLong.incrementAndGet();\r\n        }","title":"Method marked with @Timed is not a part of ConsoleReporter output","body":"<p>I try to implement simple sring boot application with dropwizard metrics</p>\n<p><strong>My codebase</strong>:</p>\n<pre><code>@SpringBootApplication\n@EnableMetrics(proxyTargetClass = true)\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        MetricRegistry metricRegistry = new MetricRegistry();\n\n        Meter meter = metricRegistry.meter(&quot;meter&quot;);\n        meter.mark();\n        meter.mark(200);\n        ConsoleReporter reporter = ConsoleReporter.forRegistry(metricRegistry).build();\n        reporter.start(5, TimeUnit.SECONDS);\n        reporter.report();\n\n        Counter counter = metricRegistry.counter(&quot;counter&quot;);\n        counter.inc();\n        counter.dec();\n\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n}\n\n@RestController\npublic class HelloController {\n    private AtomicLong atomicLong = new AtomicLong();\n\n    @GetMapping(&quot;/hello&quot;)\n    @Timed\n    public String index() {\n        return &quot;Greetings from Spring Boot!. count=&quot; + atomicLong.incrementAndGet();\n    }\n\n}\n</code></pre>\n<p><strong>build.gradle:</strong></p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.7.1'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'java'\n}\n\ngroup = 'com.example'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation &quot;org.springframework.boot:spring-boot-starter-actuator&quot;\n    // Minimum required for metrics.\n    implementation ('com.ryantenney.metrics:metrics-spring:3.1.3') {\n        exclude group: 'com.codahale.metrics'\n        exclude group: 'org.springframework'\n    }\n    implementation 'io.dropwizard.metrics:metrics-core:4.2.9'\n    implementation 'io.dropwizard.metrics:metrics-annotation:4.2.9'\n    implementation 'io.dropwizard.metrics:metrics-servlets:4.2.9'\n\n    implementation 'io.prometheus:simpleclient_dropwizard:0.15.0'\n    implementation 'io.prometheus:simpleclient_servlet:0.15.0'\n    implementation 'io.dropwizard:dropwizard-core:2.1.0'\n\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>This code produces following output to logs:</p>\n<pre><code>28.06.2022, 18:46:19 ===========================================================\n\n-- Counters --------------------------------------------------------------------\ncounter\n             count = 0\n\n-- Meters ----------------------------------------------------------------------\nmeter\n             count = 201\n         mean rate = 5,69 events/second\n     1-minute rate = 24,38 events/second\n     5-minute rate = 36,37 events/second\n    15-minute rate = 38,88 events/second\n</code></pre>\n<p>I don't see any mentiones of this endpoint calls. How can I fix it ?</p>\n<pre><code> @GetMapping(&quot;/hello&quot;)\n    @Timed\n    public String index() {\n        return &quot;Greetings from Spring Boot!. count=&quot; + atomicLong.incrementAndGet();\n    }\n</code></pre>\n"},{"tags":["java","javafx","keyboard"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1656364476,"post_id":72778007,"comment_id":128549761,"body_markdown":"The `Robot` or `FXRobot` class may be the perfect solution here because it works system wide. For examples see [Robot and keyPress](https://stackoverflow.com/questions/18165493/robot-and-keypress) and [Use a robot to type characters in Java](https://stackoverflow.com/questions/6641962/use-a-robot-to-type-characters-in-java)","body":"The <code>Robot</code> or <code>FXRobot</code> class may be the perfect solution here because it works system wide. For examples see <a href=\"https://stackoverflow.com/questions/18165493/robot-and-keypress\">Robot and keyPress</a> and <a href=\"https://stackoverflow.com/questions/6641962/use-a-robot-to-type-characters-in-java\">Use a robot to type characters in Java</a>"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1656366770,"post_id":72778007,"comment_id":128550346,"body_markdown":"Without knowing the interfaces and protocols the other machine provides for remote communication and how to make use of them, I don&#39;t think this can be answered, even then I think it is unlikely to be answerable in the StackOverflow context.  If you are lucky, and sorifend&#39;s robot solution works for you, then, great, if not, well, not so great ;-)","body":"Without knowing the interfaces and protocols the other machine provides for remote communication and how to make use of them, I don&#39;t think this can be answered, even then I think it is unlikely to be answerable in the StackOverflow context.  If you are lucky, and sorifend&#39;s robot solution works for you, then, great, if not, well, not so great ;-)"},{"owner":{"account_id":17216137,"reputation":31,"user_id":16906770,"display_name":"Armin Brkić"},"score":0,"creation_date":1656426884,"post_id":72778007,"comment_id":128566412,"body_markdown":"I tried like this\n\nFXRobot robot = FXRobotFactory.createRobot(background.getScene());\n            robot.keyPress(javafx.scene.input.KeyCode.WINDOWS);\nBut windows can&#39;t see that click","body":"I tried like this  FXRobot robot = FXRobotFactory.createRobot(background.getScene());             robot.keyPress(javafx.scene.input.KeyCode.WINDOWS); But windows can&#39;t see that click"}],"owner":{"account_id":17216137,"reputation":31,"user_id":16906770,"display_name":"Armin Brkić"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656431047,"creation_date":1656362133,"question_id":72778007,"body_markdown":"I want to make a custom keyboard to control the CNC machine. The keyboard on the machine itself was damaged and my idea is to replace it with a touch screen. I made a program that looks similar to a keyboard, the keys I click work but only within my program.\r\n\r\nHow do I pass the clicks on my virtual keyboard to Windows / another program?\r\n\r\nHere is UI\r\n[my UI][1]\r\n\r\nKey listeners\r\n\r\n    @FXML\r\n    void clickOnZero(TouchEvent event) {\r\n        KeyEvent press = new KeyEvent(zero_btn, zero_btn, KeyEvent.KEY_PRESSED, &quot;&quot;, &quot;&quot;, KeyCode.DIGIT0, false, false, false, false);\r\n        shift_btn.fireEvent(press);\r\n    }\r\n\r\nEDIT\r\n\r\nTo be a little clearer. My program is a keyboard and separately is the original program for CNC. I would split the screen in two and it would work that way. My problem is how to click on a key in my program to simulate the keystroke on an actual keyboard so that the CNC program can see it\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bu9d8.png","title":"JavaFX custom keyboard forward clicks to other programs","body":"<p>I want to make a custom keyboard to control the CNC machine. The keyboard on the machine itself was damaged and my idea is to replace it with a touch screen. I made a program that looks similar to a keyboard, the keys I click work but only within my program.</p>\n<p>How do I pass the clicks on my virtual keyboard to Windows / another program?</p>\n<p>Here is UI\n<a href=\"https://i.stack.imgur.com/bu9d8.png\" rel=\"nofollow noreferrer\">my UI</a></p>\n<p>Key listeners</p>\n<pre><code>@FXML\nvoid clickOnZero(TouchEvent event) {\n    KeyEvent press = new KeyEvent(zero_btn, zero_btn, KeyEvent.KEY_PRESSED, &quot;&quot;, &quot;&quot;, KeyCode.DIGIT0, false, false, false, false);\n    shift_btn.fireEvent(press);\n}\n</code></pre>\n<p>EDIT</p>\n<p>To be a little clearer. My program is a keyboard and separately is the original program for CNC. I would split the screen in two and it would work that way. My problem is how to click on a key in my program to simulate the keystroke on an actual keyboard so that the CNC program can see it</p>\n"},{"tags":["java","string","date"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1656429365,"post_id":72789048,"comment_id":128567562,"body_markdown":"My idea would be to take a look at the java.time classes, and learn the basics of parsing and formatting with those classes: [Java string to date conversion](https://stackoverflow.com/questions/4216745/java-string-to-date-conversion)","body":"My idea would be to take a look at the java.time classes, and learn the basics of parsing and formatting with those classes: <a href=\"https://stackoverflow.com/questions/4216745/java-string-to-date-conversion\">Java string to date conversion</a>"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1656429489,"post_id":72789048,"comment_id":128567609,"body_markdown":"if you have a String like `January`, then you can do `Month.valueOf(&quot;January&quot;.toUpperCase()).getValue()` to get the numeric value","body":"if you have a String like <code>January</code>, then you can do <code>Month.valueOf(&quot;January&quot;.toUpperCase()).getValue()</code> to get the numeric value"}],"owner":{"account_id":5368006,"reputation":2152,"user_id":4277293,"accept_rate":62,"display_name":"RishiKesh Pathak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1656431588,"answer_count":0,"score":0,"last_activity_date":1656430715,"creation_date":1656429212,"question_id":72789048,"body_markdown":"For JAVA: I need a method that takes a date with the month in letters like &quot;January&quot; or &quot;JAN&quot; and finds it&#39;s correspondent &quot;01&quot;. \r\n\r\nCan you give me any ideas?","title":"How to transform a String &quot;JUN 28, 2022&quot; in another string &quot;06-28-2022&quot;","body":"<p>For JAVA: I need a method that takes a date with the month in letters like &quot;January&quot; or &quot;JAN&quot; and finds it's correspondent &quot;01&quot;.</p>\n<p>Can you give me any ideas?</p>\n"},{"tags":["java","spring-data-jpa"],"comments":[{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":1,"creation_date":1656425541,"post_id":72784976,"comment_id":128565869,"body_markdown":"The `saveAll` method does not delete anything, it only saves(insert or updates) whatever is in the `Iterable` you pass as an argument. Also, what do you mean by &quot;creation date&quot;? If it&#39;s a field in the Database, you simply do not modify it in your code. What have you tried? How did you come to the conclusion that `saveAll` deletes anything? More details would be helpful.","body":"The <code>saveAll</code> method does not delete anything, it only saves(insert or updates) whatever is in the <code>Iterable</code> you pass as an argument. Also, what do you mean by &quot;creation date&quot;? If it&#39;s a field in the Database, you simply do not modify it in your code. What have you tried? How did you come to the conclusion that <code>saveAll</code> deletes anything? More details would be helpful."},{"owner":{"account_id":20222092,"reputation":109,"user_id":14831240,"display_name":"kiki keke"},"score":0,"creation_date":1656430701,"post_id":72784976,"comment_id":128568101,"body_markdown":"I have fewer rows after my second call from my batch","body":"I have fewer rows after my second call from my batch"}],"owner":{"account_id":20222092,"reputation":109,"user_id":14831240,"display_name":"kiki keke"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":347,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656430486,"creation_date":1656412833,"question_id":72784976,"body_markdown":"I want a function that massively updates and inserts data for better performance.\r\nAnd I don&#39;t want to delete everything, like the default saveAll function. \r\nAnd above all the function must not change the creation date.\r\n\r\nsaveAll(list&lt;myObjetc&gt; changeOrNewOjects)\r\n\r\n``````java\r\n@Entity\r\n@DynamicUpdate\r\n@EntityListeners(AuditingEntityListener.class)\r\npublic class Dom {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.AUTO)\r\n\tprivate int id;\r\n\t// more attribute\r\n\t@CreatedDate\r\n\t@Column(updatable = false)\r\n\tprivate Date dateCreation;\r\n\t//Getter and setter\r\n    // contuctors\r\n\t}\r\n\r\n\r\n\r\n}\r\npublic interface  DomRepository extends CrudRepository&lt;Dom, String&gt; {\r\n}\r\n``````\r\ndatabase.dom -&gt; 2500 rows\r\n\r\n`lstDomData.size()` -&gt; 154\r\n\r\n`domServices.savAll(lstDomData);`\r\n\r\ndatabase.dom -&gt; 154 rows\r\n","title":"How make saveAll with jparepository with no delete only updates or insert?","body":"<p>I want a function that massively updates and inserts data for better performance.\nAnd I don't want to delete everything, like the default saveAll function.\nAnd above all the function must not change the creation date.</p>\n<p>saveAll(list changeOrNewOjects)</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@DynamicUpdate\n@EntityListeners(AuditingEntityListener.class)\npublic class Dom {\n    \n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    private int id;\n    // more attribute\n    @CreatedDate\n    @Column(updatable = false)\n    private Date dateCreation;\n    //Getter and setter\n    // contuctors\n    }\n\n\n\n}\npublic interface  DomRepository extends CrudRepository&lt;Dom, String&gt; {\n}\n</code></pre>\n<p>database.dom -&gt; 2500 rows</p>\n<p><code>lstDomData.size()</code> -&gt; 154</p>\n<p><code>domServices.savAll(lstDomData);</code></p>\n<p>database.dom -&gt; 154 rows</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":11951164,"reputation":2403,"user_id":9935369,"display_name":"Roberto Manfreda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656414036,"creation_date":1656414036,"answer_id":72785251,"question_id":72781828,"body_markdown":"I think rotating-fos could be a good solution.  \r\nAnyway if you want to do it manually you can improve your code by combining two classes (`Logger` and `FileHandler`) from the `java.util.logging` package.\r\n\r\nI wrote a little PoC, try to play around with it if you think that can be helpful.\r\n\r\n```java\r\npublic static void main(String[] args) throws IOException {\r\n    FileHandler fileHandler = new FileHandler(&quot;the_log.json&quot;, 100, 100, true);\r\n    fileHandler.setFormatter(new Formatter() {\r\n      @Override\r\n      public String format(LogRecord record) {\r\n        // here you could pretty print the content or doing elaborations on the content...\r\n        return record.getMessage();\r\n      }\r\n    });\r\n\r\n    Logger jsonLogger = Logger.getLogger(&quot;MyJsonLogger&quot;);\r\n    jsonLogger.setLevel(Level.ALL);\r\n    jsonLogger.addHandler(fileHandler);\r\n\r\n    for (int i = 0; i &lt; 999; i++) {\r\n      jsonLogger.log(Level.ALL, i + &quot;\\n&quot;);\r\n    }\r\n}\r\n```\r\n\r\nPlease note that the `FileHandler` input parameters are a little bit tricky, here&#39;s the [docs][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/logging/FileHandler.html#FileHandler(java.lang.String,%20int,%20int,%20boolean)","title":"Writing json data to text file and creating new file dynamically when size limit is reached for first file","body":"<p>I think rotating-fos could be a good solution.<br />\nAnyway if you want to do it manually you can improve your code by combining two classes (<code>Logger</code> and <code>FileHandler</code>) from the <code>java.util.logging</code> package.</p>\n<p>I wrote a little PoC, try to play around with it if you think that can be helpful.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws IOException {\n    FileHandler fileHandler = new FileHandler(&quot;the_log.json&quot;, 100, 100, true);\n    fileHandler.setFormatter(new Formatter() {\n      @Override\n      public String format(LogRecord record) {\n        // here you could pretty print the content or doing elaborations on the content...\n        return record.getMessage();\n      }\n    });\n\n    Logger jsonLogger = Logger.getLogger(&quot;MyJsonLogger&quot;);\n    jsonLogger.setLevel(Level.ALL);\n    jsonLogger.addHandler(fileHandler);\n\n    for (int i = 0; i &lt; 999; i++) {\n      jsonLogger.log(Level.ALL, i + &quot;\\n&quot;);\n    }\n}\n</code></pre>\n<p>Please note that the <code>FileHandler</code> input parameters are a little bit tricky, here's the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/logging/FileHandler.html#FileHandler(java.lang.String,%20int,%20int,%20boolean)\" rel=\"nofollow noreferrer\">docs</a>.</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656414769,"creation_date":1656414769,"answer_id":72785418,"question_id":72781828,"body_markdown":"JSON files should be in UTF-8 encoding. `FileWriter` is a convenience class using the default operating system encoding. So non-portable.\r\nFor UUIDs (ASCII) that would function, but it is a ticking time bomb.\r\n\r\nJust appending UUIDs misses spacing or such.\r\n\r\n    writer.append(UUID.randomUUID().toString()).append(&quot;\\r\\n&quot;);\r\n\r\nYou can use a logger for rolling file appenders. The hander can be tied to your class, so there is no interference.\r\n","title":"Writing json data to text file and creating new file dynamically when size limit is reached for first file","body":"<p>JSON files should be in UTF-8 encoding. <code>FileWriter</code> is a convenience class using the default operating system encoding. So non-portable.\nFor UUIDs (ASCII) that would function, but it is a ticking time bomb.</p>\n<p>Just appending UUIDs misses spacing or such.</p>\n<pre><code>writer.append(UUID.randomUUID().toString()).append(&quot;\\r\\n&quot;);\n</code></pre>\n<p>You can use a logger for rolling file appenders. The hander can be tied to your class, so there is no interference.</p>\n"}],"owner":{"account_id":13747594,"reputation":754,"user_id":9920733,"display_name":"Akki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1656430091,"creation_date":1656398809,"question_id":72781828,"body_markdown":"I have a spring-boot application which is constantly writing JSON data to text file in a given location.\r\nNow, I also want to create new text files dynamically, once the size limit is reached.\r\n\r\nI was thinking of handling above things manually with code something like this\r\n\r\n\t\tfor (int i = 1; i &lt; 1000; i++) {\r\n\t\t\ttry {\r\n\t\t\t\tFile f = new File(FILE_LOCATION + fileName);\r\n\t\t\t\tfileSize = Files.size(f.toPath());\r\n\t\t\t\tSystem.out.println(&quot;filesize: &quot; + fileSize);\r\n\r\n\t\t\t\tif (f.exists()) {\r\n\t\t\t\t\tif (fileSize &gt; SIZE_1KB) {\r\n\t\t\t\t\t\twriter = new FileWriter(FILE_LOCATION + &quot;00&quot; + i + &quot;.txt&quot;);\r\n\t\t\t\t\t\tfileName = &quot;00&quot; + i + &quot;.txt&quot;;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\twriter = new FileWriter(FILE_LOCATION + fileName, true);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\twriter = new FileWriter(FILE_LOCATION + fileName);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// use writer to write data\r\n\r\n\t\t\t\tif (f.exists()) {\r\n\t\t\t\t\tfor (int j = 0; j &lt; 10; j++)\r\n\t\t\t\t\t\twriter.append(UUID.randomUUID().toString());\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfor (int j = 0; j &lt; 10; j++)\r\n\t\t\t\t\t\twriter.write(UUID.randomUUID().toString());\r\n\t\t\t\t}\r\n\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\r\n**This is just a piece of code that I created to post the question here.** \r\nBut, the logic of writing data to file is similar to the one I was using in spring-boot application.\r\n\r\nAlso, if I want to handle things manually, I&#39;ll have to handle lot of things myself apart from creating new files when size limit is reached. Things like moving files to archived folder, when date if changed, deleting older files from archived folder when size limit of archived folder is reached, etc.\r\n\r\nI&#39;ve also looked into logback.xml configuration, but that&#39;s already being used for rolling out log files. So, I don&#39;t think I can use that here.\r\n\r\nAt this point, I feel like there might be a better way to do all this instead of handling it on our own manually. If anyone can suggest any library or framework or anything, it will be a great help.\r\n\r\n**Edit:**\r\nOkay, have come across [rotating-fos][1]. Trying to determine appropriate configuration, which can meet my general requirements of rotating based on size, date, deleting old records and when size limit reached.\r\n\r\n**Edit 2:**\r\nI&#39;ve currently used rotating-fos library to achieve all the things mentioned above except deletion of files. Since, in my use case, text files are pushed to a data pipeline via separate procedure, which will again take care of removal of those files.\r\n\r\n\tprivate void processEntry(Map&lt;String, Object&gt; entry) {\r\n\t\ttry {\r\n\t\t\tString path = jsonProcessingPath + &quot;/&quot; + CALL_DATA + &quot;/&quot;;\r\n\t\t\tSimpleDateFormat format = new SimpleDateFormat(DATE_FORMAT);\r\n\t\t\tFile dir = new File(path + format.format(new Date()));\r\n\r\n\t\t\tif (!dir.exists())\r\n\t\t\t\tdir.mkdir();\r\n\r\n\t\t\tString fileName = CALL_DATA_FILE_NAME;\r\n\t\t\tFile file = new File(dir.getAbsolutePath() + &quot;//&quot; + fileName);\r\n\t\t\tif (!file.exists())\r\n\t\t\t\tfile.createNewFile();\r\n\r\n\t\t\tRotationConfig config = RotationConfig.builder().file(file.getAbsolutePath())\r\n\t\t\t\t\t.filePattern(dir + &quot;/&quot; + CALL_DATA_FILE_NAME + &quot;.%d{HHmmss}.txt&quot;)\r\n\t\t\t\t\t.policy(new SizeBasedRotationPolicy(Long.parseLong(SIZE_LIMIT)))\r\n\t\t\t\t\t.policy(DailyRotationPolicy.getInstance()).build();\r\n\t\t\tRotatingFileOutputStream outputStream = new RotatingFileOutputStream(config);\r\n\r\n\t\t\tGson gson = new Gson();\r\n\t\t\tString json = gson.toJson(entry);\r\n\t\t\tint currentId = gson.fromJson(json, JsonObject.class).get(ID).getAsInt();\r\n\r\n\t\t\tlog.debug(&quot;Writing entry of report_data_calls table&quot;);\r\n\t\t\toutputStream.write(json.getBytes());\r\n\t\t\toutputStream.close();\r\n\r\n\t\t\texampleSchedulerService.updateJobDataMapInfo(ProcessCallDataJob.class, CALL_DATA_LAST_ID, currentId);\r\n\t\t\tlog.debug(&quot;Updated last processed call id to be: &quot; + currentId);\r\n\t\t} catch (Exception e) {\r\n\t\t\tlog.error(&quot;error: {}&quot;, e);\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n\r\n  [1]: https://github.com/vy/rotating-fos","title":"Writing json data to text file and creating new file dynamically when size limit is reached for first file","body":"<p>I have a spring-boot application which is constantly writing JSON data to text file in a given location.\nNow, I also want to create new text files dynamically, once the size limit is reached.</p>\n<p>I was thinking of handling above things manually with code something like this</p>\n<pre><code>    for (int i = 1; i &lt; 1000; i++) {\n        try {\n            File f = new File(FILE_LOCATION + fileName);\n            fileSize = Files.size(f.toPath());\n            System.out.println(&quot;filesize: &quot; + fileSize);\n\n            if (f.exists()) {\n                if (fileSize &gt; SIZE_1KB) {\n                    writer = new FileWriter(FILE_LOCATION + &quot;00&quot; + i + &quot;.txt&quot;);\n                    fileName = &quot;00&quot; + i + &quot;.txt&quot;;\n                } else {\n                    writer = new FileWriter(FILE_LOCATION + fileName, true);\n                }\n            } else {\n                writer = new FileWriter(FILE_LOCATION + fileName);\n            }\n\n            // use writer to write data\n\n            if (f.exists()) {\n                for (int j = 0; j &lt; 10; j++)\n                    writer.append(UUID.randomUUID().toString());\n            } else {\n                for (int j = 0; j &lt; 10; j++)\n                    writer.write(UUID.randomUUID().toString());\n            }\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p><strong>This is just a piece of code that I created to post the question here.</strong>\nBut, the logic of writing data to file is similar to the one I was using in spring-boot application.</p>\n<p>Also, if I want to handle things manually, I'll have to handle lot of things myself apart from creating new files when size limit is reached. Things like moving files to archived folder, when date if changed, deleting older files from archived folder when size limit of archived folder is reached, etc.</p>\n<p>I've also looked into logback.xml configuration, but that's already being used for rolling out log files. So, I don't think I can use that here.</p>\n<p>At this point, I feel like there might be a better way to do all this instead of handling it on our own manually. If anyone can suggest any library or framework or anything, it will be a great help.</p>\n<p><strong>Edit:</strong>\nOkay, have come across <a href=\"https://github.com/vy/rotating-fos\" rel=\"nofollow noreferrer\">rotating-fos</a>. Trying to determine appropriate configuration, which can meet my general requirements of rotating based on size, date, deleting old records and when size limit reached.</p>\n<p><strong>Edit 2:</strong>\nI've currently used rotating-fos library to achieve all the things mentioned above except deletion of files. Since, in my use case, text files are pushed to a data pipeline via separate procedure, which will again take care of removal of those files.</p>\n<pre><code>private void processEntry(Map&lt;String, Object&gt; entry) {\n    try {\n        String path = jsonProcessingPath + &quot;/&quot; + CALL_DATA + &quot;/&quot;;\n        SimpleDateFormat format = new SimpleDateFormat(DATE_FORMAT);\n        File dir = new File(path + format.format(new Date()));\n\n        if (!dir.exists())\n            dir.mkdir();\n\n        String fileName = CALL_DATA_FILE_NAME;\n        File file = new File(dir.getAbsolutePath() + &quot;//&quot; + fileName);\n        if (!file.exists())\n            file.createNewFile();\n\n        RotationConfig config = RotationConfig.builder().file(file.getAbsolutePath())\n                .filePattern(dir + &quot;/&quot; + CALL_DATA_FILE_NAME + &quot;.%d{HHmmss}.txt&quot;)\n                .policy(new SizeBasedRotationPolicy(Long.parseLong(SIZE_LIMIT)))\n                .policy(DailyRotationPolicy.getInstance()).build();\n        RotatingFileOutputStream outputStream = new RotatingFileOutputStream(config);\n\n        Gson gson = new Gson();\n        String json = gson.toJson(entry);\n        int currentId = gson.fromJson(json, JsonObject.class).get(ID).getAsInt();\n\n        log.debug(&quot;Writing entry of report_data_calls table&quot;);\n        outputStream.write(json.getBytes());\n        outputStream.close();\n\n        exampleSchedulerService.updateJobDataMapInfo(ProcessCallDataJob.class, CALL_DATA_LAST_ID, currentId);\n        log.debug(&quot;Updated last processed call id to be: &quot; + currentId);\n    } catch (Exception e) {\n        log.error(&quot;error: {}&quot;, e);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-jdbc","jdbctemplate"],"answers":[{"tags":[],"owner":{"account_id":1195114,"reputation":848,"user_id":1167021,"display_name":"leftbit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656429745,"creation_date":1656429745,"answer_id":72789177,"question_id":72788536,"body_markdown":"Either specify the schema for each call or add the schema to the [search path][1].\r\n\r\n\r\n  [1]: https://www.postgresql.org/docs/current/ddl-schemas.html#DDL-SCHEMAS-PATH","title":"Use of SimpleJdbcCall to call stored procedure not using the current schema","body":"<p>Either specify the schema for each call or add the schema to the <a href=\"https://www.postgresql.org/docs/current/ddl-schemas.html#DDL-SCHEMAS-PATH\" rel=\"nofollow noreferrer\">search path</a>.</p>\n"}],"owner":{"account_id":5898520,"reputation":382,"user_id":4642911,"accept_rate":44,"display_name":"Hyukchan Kwon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":323,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656429745,"creation_date":1656427310,"question_id":72788536,"body_markdown":"I&#39;m trying to use Spring JDBC Template to call a stored procedure inside a postgres database.\r\nThe connection is done from the yaml configuration file to indicate the current schema to use: \r\n\r\n`jdbc:postgresql://localhost:5455/userdb?currentSchema=customschema`\r\n\r\nEvery queries done directly from jdbc template is using the correct current schema &quot;customschema&quot;.\r\nHowever, only executions done from SimpleJdbcCall to call a stored procedure is done in postgres default schema which is &quot;public&quot;, and I can&#39;t understand why.\r\n\r\nHere is the execution code:\r\n\r\n```\r\nnew SimpleJdbcCall(jdbcTemplate).withFunctionName(&quot;custom_stored_procedure_name&quot;).execute();\r\n```\r\n\r\nWhile debugging, if I look at that `jdbcTemplate.getDataSource().getConnection().getSchema()`, it returns the correct schema which is &quot;customschema&quot;.\r\n\r\nI need to force the schema with `.withSchemaName(&quot;customschema&quot;)` for this execution to work with the correct schema instead of &quot;public&quot;.\r\n\r\nI can&#39;t find any documentation online regarding this behavior.\r\n\r\nIs it an issue from the library itself ?","title":"Use of SimpleJdbcCall to call stored procedure not using the current schema","body":"<p>I'm trying to use Spring JDBC Template to call a stored procedure inside a postgres database.\nThe connection is done from the yaml configuration file to indicate the current schema to use:</p>\n<p><code>jdbc:postgresql://localhost:5455/userdb?currentSchema=customschema</code></p>\n<p>Every queries done directly from jdbc template is using the correct current schema &quot;customschema&quot;.\nHowever, only executions done from SimpleJdbcCall to call a stored procedure is done in postgres default schema which is &quot;public&quot;, and I can't understand why.</p>\n<p>Here is the execution code:</p>\n<pre><code>new SimpleJdbcCall(jdbcTemplate).withFunctionName(&quot;custom_stored_procedure_name&quot;).execute();\n</code></pre>\n<p>While debugging, if I look at that <code>jdbcTemplate.getDataSource().getConnection().getSchema()</code>, it returns the correct schema which is &quot;customschema&quot;.</p>\n<p>I need to force the schema with <code>.withSchemaName(&quot;customschema&quot;)</code> for this execution to work with the correct schema instead of &quot;public&quot;.</p>\n<p>I can't find any documentation online regarding this behavior.</p>\n<p>Is it an issue from the library itself ?</p>\n"},{"tags":["java","spring-boot","apache-kafka","kafka-consumer-api"],"comments":[{"owner":{"account_id":15014315,"reputation":634,"user_id":10837776,"display_name":"Ibrahim AlTamimi"},"score":1,"creation_date":1656447059,"post_id":72789038,"comment_id":128573540,"body_markdown":"Provide more details about the working module and the other one, on this way the engineers here will provide you a quick answers.","body":"Provide more details about the working module and the other one, on this way the engineers here will provide you a quick answers."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1656447241,"post_id":72789038,"comment_id":128573591,"body_markdown":"Your logs say nothing about the consumer being started. So, seems your consumer module is not actually used/started. A simple dependency addition in Maven will not do this. You will want to have some `@Service` or `@Component` that is used by the application scanner to start the consumer containers. That being said, multi-modules shouldn&#39;t matter (and I know they work correctly, when you configure them)","body":"Your logs say nothing about the consumer being started. So, seems your consumer module is not actually used/started. A simple dependency addition in Maven will not do this. You will want to have some <code>@Service</code> or <code>@Component</code> that is used by the application scanner to start the consumer containers. That being said, multi-modules shouldn&#39;t matter (and I know they work correctly, when you configure them)"},{"owner":{"account_id":14655333,"reputation":600,"user_id":10584061,"display_name":"ChristDist"},"score":0,"creation_date":1656465596,"post_id":72789038,"comment_id":128577379,"body_markdown":"Kindly share your Spring Boot Starter Class. Looks like something is wrong with you CommandLiner or Runnable class.","body":"Kindly share your Spring Boot Starter Class. Looks like something is wrong with you CommandLiner or Runnable class."}],"owner":{"account_id":25672165,"reputation":9,"user_id":19436228,"display_name":"Checker"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":249,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1656429373,"creation_date":1656429156,"question_id":72789038,"body_markdown":"I am trying to build a Kafka Consumer using Spring Boot. It&#39;s a multi-module Maven project where consumer-app is the SpringBoot application and rest of the modules are added as dependencies to the parent project.\r\n\r\nWith this, I am able to build the project and run the app as well. But the app is not connecting to the Kafka broker (bootstrap server on my local).\r\n\r\nLog ends as this:\r\n\r\n          .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::       (v2.3.12.RELEASE)\r\n    \r\n    2022-06-28 20:26:50.849  INFO 17284 --- [  restartedMain] c.t.c.c.c.CardConsumerApplication        : Starting CardConsumerApplication on WorkIsOn with PID 17284 (C:\\Users\\myuser\\Workspace\\card-consumer\\card-consumer\\target\\classes started by myuser in C:\\Users\\myuser\\Workspace\\card-consumer)\r\n    2022-06-28 20:26:50.851  INFO 17284 --- [  restartedMain] c.t.c.c.c.CardConsumerApplication        : No active profile set, falling back to default profiles: default\r\n    2022-06-28 20:26:50.900  INFO 17284 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set &#39;spring.devtools.add-properties&#39; to &#39;false&#39; to disable\r\n    2022-06-28 20:26:50.901  INFO 17284 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the &#39;logging.level.web&#39; property to &#39;DEBUG&#39;\r\n    2022-06-28 20:26:51.778  INFO 17284 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9090 (http)\r\n    2022-06-28 20:26:51.784  INFO 17284 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2022-06-28 20:26:51.785  INFO 17284 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.46]\r\n    2022-06-28 20:26:51.850  INFO 17284 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2022-06-28 20:26:51.850  INFO 17284 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 949 ms\r\n    2022-06-28 20:26:51.977  INFO 17284 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService &#39;applicationTaskExecutor&#39;\r\n    2022-06-28 20:26:52.157  INFO 17284 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\r\n    2022-06-28 20:26:52.182  INFO 17284 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9090 (http) with context path &#39;&#39;\r\n    2022-06-28 20:26:52.189  INFO 17284 --- [  restartedMain] c.t.c.c.c.CardConsumerApplication        : Started CardConsumerApplication in 1.688 seconds (JVM running for 3.215)\r\n\r\nNow, I made another app with the code of Kafka consumer module in a non-multi-module Maven project, I am able to connect to the Kafka&#39;s bootstrap server and this app is able to get the message as well. \r\n\r\nI have same SpringBoot configuration placed in both the application/project.\r\n\r\nPlease help me understand how to make this multi-module Maven app work.","title":"Maven Multi-module project - SpringBoot - Kafka Consumer Not connecting to Broker","body":"<p>I am trying to build a Kafka Consumer using Spring Boot. It's a multi-module Maven project where consumer-app is the SpringBoot application and rest of the modules are added as dependencies to the parent project.</p>\n<p>With this, I am able to build the project and run the app as well. But the app is not connecting to the Kafka broker (bootstrap server on my local).</p>\n<p>Log ends as this:</p>\n<pre><code>      .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::       (v2.3.12.RELEASE)\n\n2022-06-28 20:26:50.849  INFO 17284 --- [  restartedMain] c.t.c.c.c.CardConsumerApplication        : Starting CardConsumerApplication on WorkIsOn with PID 17284 (C:\\Users\\myuser\\Workspace\\card-consumer\\card-consumer\\target\\classes started by myuser in C:\\Users\\myuser\\Workspace\\card-consumer)\n2022-06-28 20:26:50.851  INFO 17284 --- [  restartedMain] c.t.c.c.c.CardConsumerApplication        : No active profile set, falling back to default profiles: default\n2022-06-28 20:26:50.900  INFO 17284 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable\n2022-06-28 20:26:50.901  INFO 17284 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'\n2022-06-28 20:26:51.778  INFO 17284 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9090 (http)\n2022-06-28 20:26:51.784  INFO 17284 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2022-06-28 20:26:51.785  INFO 17284 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.46]\n2022-06-28 20:26:51.850  INFO 17284 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2022-06-28 20:26:51.850  INFO 17284 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 949 ms\n2022-06-28 20:26:51.977  INFO 17284 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'\n2022-06-28 20:26:52.157  INFO 17284 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\n2022-06-28 20:26:52.182  INFO 17284 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9090 (http) with context path ''\n2022-06-28 20:26:52.189  INFO 17284 --- [  restartedMain] c.t.c.c.c.CardConsumerApplication        : Started CardConsumerApplication in 1.688 seconds (JVM running for 3.215)\n</code></pre>\n<p>Now, I made another app with the code of Kafka consumer module in a non-multi-module Maven project, I am able to connect to the Kafka's bootstrap server and this app is able to get the message as well.</p>\n<p>I have same SpringBoot configuration placed in both the application/project.</p>\n<p>Please help me understand how to make this multi-module Maven app work.</p>\n"},{"tags":["java","spring-boot","tomcat","servlet-filters","multipart"],"answers":[{"tags":[],"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656234552,"creation_date":1656234552,"answer_id":72760241,"question_id":72725654,"body_markdown":"To enable the `allowCasualMultipartParsing` property of the Tomcat [`Context`](https://tomcat.apache.org/tomcat-8.0-doc/api/org/apache/catalina/Context.html),\r\nyou can inject a custom [`TomcatServletWebServerFactory`](https://docs.spring.io/spring-boot/docs/2.7.0/api/org/springframework/boot/web/embedded/tomcat/TomcatServletWebServerFactory.html)\r\ninto your application (Spring Boot 2):\r\n\r\n``` lang-java\r\nimport org.apache.catalina.Context;\r\nimport org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory;\r\n\r\n@Bean\r\npublic TomcatServletWebServerFactory tomcatFactory()\r\n{\r\n\treturn new TomcatServletWebServerFactory()\r\n\t{\r\n\t\t@Override\r\n\t\tprotected void postProcessContext(Context context)\r\n\t\t{\r\n\t\t\tcontext.setAllowCasualMultipartParsing(true);\r\n\t\t}\r\n\t};\r\n}\r\n```\r\n\r\nFor Spring Boot 1, the factory class is [`TomcatEmbeddedServletContainerFactory`](https://docs.spring.io/spring-boot/docs/1.2.1.RELEASE/api/org/springframework/boot/context/embedded/tomcat/TomcatEmbeddedServletContainerFactory.html).\r\n","title":"Resolving multi-part request in additinal servlet Filter without losing uploaded content","body":"<p>To enable the <code>allowCasualMultipartParsing</code> property of the Tomcat <a href=\"https://tomcat.apache.org/tomcat-8.0-doc/api/org/apache/catalina/Context.html\" rel=\"nofollow noreferrer\"><code>Context</code></a>,\nyou can inject a custom <a href=\"https://docs.spring.io/spring-boot/docs/2.7.0/api/org/springframework/boot/web/embedded/tomcat/TomcatServletWebServerFactory.html\" rel=\"nofollow noreferrer\"><code>TomcatServletWebServerFactory</code></a>\ninto your application (Spring Boot 2):</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.catalina.Context;\nimport org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory;\n\n@Bean\npublic TomcatServletWebServerFactory tomcatFactory()\n{\n    return new TomcatServletWebServerFactory()\n    {\n        @Override\n        protected void postProcessContext(Context context)\n        {\n            context.setAllowCasualMultipartParsing(true);\n        }\n    };\n}\n</code></pre>\n<p>For Spring Boot 1, the factory class is <a href=\"https://docs.spring.io/spring-boot/docs/1.2.1.RELEASE/api/org/springframework/boot/context/embedded/tomcat/TomcatEmbeddedServletContainerFactory.html\" rel=\"nofollow noreferrer\"><code>TomcatEmbeddedServletContainerFactory</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656429115,"creation_date":1656429115,"answer_id":72789020,"question_id":72725654,"body_markdown":"Looking at the remainder of the question (or &#39;I am hoping for a cleaner solution adding the filter, without copying the request&#39;), I seriously doubt there is one.\r\n\r\nThe request is sent over the network once only. It contains multipart data, and once this is consumed (i.e. read from the stream) how would the stream now get forwarded to the next processor with the complete data?\r\n\r\nThat&#39;s where I guess generic solutions just receive the whole data, decide where to forward it to and then send the whole data. It will not work without having stored the data inbetween, what is labelled as &#39;copying the request&#39; by you.","title":"Resolving multi-part request in additinal servlet Filter without losing uploaded content","body":"<p>Looking at the remainder of the question (or 'I am hoping for a cleaner solution adding the filter, without copying the request'), I seriously doubt there is one.</p>\n<p>The request is sent over the network once only. It contains multipart data, and once this is consumed (i.e. read from the stream) how would the stream now get forwarded to the next processor with the complete data?</p>\n<p>That's where I guess generic solutions just receive the whole data, decide where to forward it to and then send the whole data. It will not work without having stored the data inbetween, what is labelled as 'copying the request' by you.</p>\n"}],"owner":{"account_id":1612994,"reputation":7243,"user_id":1491439,"display_name":"rob2universe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":714,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1656429115,"creation_date":1655966618,"question_id":72725654,"body_markdown":"My Filter inspects multi-part posts and potentially rejects them before they reach the actual endpoint (jersey, outside my control). Allowing casual multipart parsing (as shown in answer below) solves the exception: Unable to process parts as no multi-part configuration has been provided\r\n\r\nA custom CommonsMultipartResolver or the existing resolver work without the error when the property is set. However, the content gets lost after accessing / resolving it.\r\n\r\nI could use a custom CommonsMultipartResolver and deal with the lost information as suggested here: https://stackoverflow.com/questions/35392795/resolving-multipart-form-data-request-in-spring-filter. However, I am hoping for a cleaner solution adding the filter, without copying the request.","title":"Resolving multi-part request in additinal servlet Filter without losing uploaded content","body":"<p>My Filter inspects multi-part posts and potentially rejects them before they reach the actual endpoint (jersey, outside my control). Allowing casual multipart parsing (as shown in answer below) solves the exception: Unable to process parts as no multi-part configuration has been provided</p>\n<p>A custom CommonsMultipartResolver or the existing resolver work without the error when the property is set. However, the content gets lost after accessing / resolving it.</p>\n<p>I could use a custom CommonsMultipartResolver and deal with the lost information as suggested here: <a href=\"https://stackoverflow.com/questions/35392795/resolving-multipart-form-data-request-in-spring-filter\">Resolving multipart/form-data request in spring filter</a>. However, I am hoping for a cleaner solution adding the filter, without copying the request.</p>\n"},{"tags":["java","spring-boot","junit","mockito"],"comments":[{"owner":{"account_id":3086395,"reputation":327,"user_id":2613428,"display_name":"Harisha K P"},"score":0,"creation_date":1655306705,"post_id":69312306,"comment_id":128302751,"body_markdown":"Did you find an answer to your problem? I have the same question right now where my client class uses UriComponentsBuilder and I&#39;m unable to mock it and test .","body":"Did you find an answer to your problem? I have the same question right now where my client class uses UriComponentsBuilder and I&#39;m unable to mock it and test ."}],"answers":[{"tags":[],"owner":{"account_id":9263211,"reputation":383,"user_id":6879502,"display_name":"Panos Nikolos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656428869,"creation_date":1656414808,"answer_id":72785428,"question_id":69312306,"body_markdown":"Try something like\r\n\r\n    @Mock\r\n    UriComponentsBuilder uriComponentsBuilder;\r\n    @Mock\r\n    UriComponents uriComponents;\r\n\r\n        Mockito.when(uriComponentsBuilder.path(any())).thenReturn(uriComponentsBuilder);\r\n        Mockito.when(uriComponentsBuilder.buildAndExpand(anyLong())).thenReturn(uriComponents);\r\n\r\nfor the anyLong use the type that you use..","title":"How to mock URIComponentsBuilder in junit","body":"<p>Try something like</p>\n<pre><code>@Mock\nUriComponentsBuilder uriComponentsBuilder;\n@Mock\nUriComponents uriComponents;\n\n    Mockito.when(uriComponentsBuilder.path(any())).thenReturn(uriComponentsBuilder);\n    Mockito.when(uriComponentsBuilder.buildAndExpand(anyLong())).thenReturn(uriComponents);\n</code></pre>\n<p>for the anyLong use the type that you use..</p>\n"}],"owner":{"account_id":22828462,"reputation":11,"user_id":16977363,"display_name":"Rajesh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2914,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1656428869,"creation_date":1632474094,"question_id":69312306,"body_markdown":"I have this code:\r\n```\r\nUriComponentsBuilder uriBuilder = UriComponentsBuilder.fromHttpUrl(baseUrl).queryParam(&quot;externalReference&quot;, key);\r\n```\r\n\r\nif I use below statement in junit:\r\n```\r\nMockito.when(uriComponentsBuilder.fromHttpUrl(ArgumentMatchers.anyString()).queryParam(ArgumentMatchers.anyString(),ArgumentMatchers.any(Object.class))).thenReturn(uriBuilder);\r\n```\r\nI will get exception like: HTTP url cannot be null.\r\n      \r\nHow to mock this in JUnit?","title":"How to mock URIComponentsBuilder in junit","body":"<p>I have this code:</p>\n<pre><code>UriComponentsBuilder uriBuilder = UriComponentsBuilder.fromHttpUrl(baseUrl).queryParam(&quot;externalReference&quot;, key);\n</code></pre>\n<p>if I use below statement in junit:</p>\n<pre><code>Mockito.when(uriComponentsBuilder.fromHttpUrl(ArgumentMatchers.anyString()).queryParam(ArgumentMatchers.anyString(),ArgumentMatchers.any(Object.class))).thenReturn(uriBuilder);\n</code></pre>\n<p>I will get exception like: HTTP url cannot be null.</p>\n<p>How to mock this in JUnit?</p>\n"},{"tags":["java","multithreading","junit"],"comments":[{"owner":{"account_id":16729724,"reputation":546,"user_id":12092416,"display_name":"Sergei"},"score":0,"creation_date":1638292399,"post_id":70168386,"comment_id":124047747,"body_markdown":"Could you clarify what you are trying to accomplish with running tests this way? I think [this answer](https://stackoverflow.com/a/2248203/12092416) might help though I don&#39;t understand completely what result you want to achieve.","body":"Could you clarify what you are trying to accomplish with running tests this way? I think <a href=\"https://stackoverflow.com/a/2248203/12092416\">this answer</a> might help though I don&#39;t understand completely what result you want to achieve."}],"answers":[{"tags":[],"owner":{"account_id":1137016,"reputation":5916,"user_id":1121883,"display_name":"Liviu Stirb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638294567,"creation_date":1638294567,"answer_id":70173900,"question_id":70168386,"body_markdown":"You can do this with an external state that both threads can access. Please note `latch.countDown();` should be added after you changed the state\r\n\r\n        \r\n        private volatile boolean failed  = false;\r\n    \t\r\n    \t@Test\r\n    \tpublic void test() throws InterruptedException {\r\n    \t\tvar latch = new CountDownLatch(1);\r\n    \r\n    \t\tExecutors.newSingleThreadExecutor().execute(() -&gt; {\r\n    \t\t\tfailed = true;//or false depending on the use case\r\n    \t\t\tlatch.countDown();\r\n    \t\t\t\r\n    \t\t});\r\n    \r\n    \t\tlatch.await();\r\n    \t\tif(failed){\r\n    \t\t\tAssert.fail(&quot;Doesn&#39;t fail the test&quot;);\r\n    \t\t}\r\n    \t}","title":"How to fail JUnit test from another thread","body":"<p>You can do this with an external state that both threads can access. Please note <code>latch.countDown();</code> should be added after you changed the state</p>\n<pre><code>    private volatile boolean failed  = false;\n    \n    @Test\n    public void test() throws InterruptedException {\n        var latch = new CountDownLatch(1);\n\n        Executors.newSingleThreadExecutor().execute(() -&gt; {\n            failed = true;//or false depending on the use case\n            latch.countDown();\n            \n        });\n\n        latch.await();\n        if(failed){\n            Assert.fail(&quot;Doesn't fail the test&quot;);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":121188,"reputation":5073,"user_id":314089,"accept_rate":60,"display_name":"icyerasor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656428640,"creation_date":1656428640,"answer_id":72788890,"question_id":70168386,"body_markdown":"You could also use shutdown + awaitTermination to make sure all tasks are finished and use a try-catch and an AtomicBoolean to assert no AssertionErrors were raised &quot;inside&quot;.\r\n\r\n\r\n\r\n    AtomicBoolean failed = new AtomicBoolean(false);\r\n    ExecutorService executorService = Executors.newFixedThreadPool(PARALLEL_POOL_SIZE);\r\n\r\n    // start tasks.. maybe in a loop to generate load..\r\n    executorService.execute(() -&gt; {\r\n      try {\r\n        // Test something\r\n        // ..\r\n        // Validate\r\n        assertThat(actual, equalTo(EXPECTED));\r\n      } catch (AssertionError e) {\r\n        failed.set(true);\r\n        throw e;\r\n      }\r\n    });\r\n\r\n    executorService.shutdown();\r\n    boolean terminatedInTime = executorService.awaitTermination(5, TimeUnit.SECONDS);\r\n    assertTrue(terminatedInTime);\r\n    assertFalse(failed.get());","title":"How to fail JUnit test from another thread","body":"<p>You could also use shutdown + awaitTermination to make sure all tasks are finished and use a try-catch and an AtomicBoolean to assert no AssertionErrors were raised &quot;inside&quot;.</p>\n<pre><code>AtomicBoolean failed = new AtomicBoolean(false);\nExecutorService executorService = Executors.newFixedThreadPool(PARALLEL_POOL_SIZE);\n\n// start tasks.. maybe in a loop to generate load..\nexecutorService.execute(() -&gt; {\n  try {\n    // Test something\n    // ..\n    // Validate\n    assertThat(actual, equalTo(EXPECTED));\n  } catch (AssertionError e) {\n    failed.set(true);\n    throw e;\n  }\n});\n\nexecutorService.shutdown();\nboolean terminatedInTime = executorService.awaitTermination(5, TimeUnit.SECONDS);\nassertTrue(terminatedInTime);\nassertFalse(failed.get());\n</code></pre>\n"}],"owner":{"account_id":9376049,"reputation":3355,"user_id":7643517,"display_name":"Nolequen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":999,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1656428640,"creation_date":1638270780,"question_id":70168386,"body_markdown":"Consider following test code:\r\n\r\n```java\r\n@Test\r\npublic void test() throws InterruptedException {\r\n    var latch = new CountDownLatch(1);\r\n\r\n    Executors.newSingleThreadExecutor().execute(() -&gt; {\r\n        latch.countDown();\r\n        Assert.fail(&quot;Doesn&#39;t fail the test&quot;);\r\n    });\r\n\r\n    latch.await();\r\n}\r\n```\r\nIt prints exception, but passes.\r\n\r\n&gt; Exception in thread &quot;pool-1-thread-1&quot; java.lang.AssertionError:\r\n&gt; Doesn&#39;t fail the test at\r\n&gt; org.junit.Assert.fail(Assert.java:89) at\r\n&gt; MyTest.lambda$test$0(MyTest.java:55) at\r\n&gt; java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) at\r\n&gt; java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) at\r\n&gt; java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\nI have tried to set custom uncaught exception handler `setUncaughtExceptionHandler((t, e) -&gt; Assert.fail(e.getMessage()))`, but this didn&#39;t help.\r\n","title":"How to fail JUnit test from another thread","body":"<p>Consider following test code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void test() throws InterruptedException {\n    var latch = new CountDownLatch(1);\n\n    Executors.newSingleThreadExecutor().execute(() -&gt; {\n        latch.countDown();\n        Assert.fail(&quot;Doesn't fail the test&quot;);\n    });\n\n    latch.await();\n}\n</code></pre>\n<p>It prints exception, but passes.</p>\n<blockquote>\n<p>Exception in thread &quot;pool-1-thread-1&quot; java.lang.AssertionError:\nDoesn't fail the test at\norg.junit.Assert.fail(Assert.java:89) at\nMyTest.lambda$test$0(MyTest.java:55) at\njava.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) at\njava.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) at\njava.base/java.lang.Thread.run(Thread.java:834)</p>\n</blockquote>\n<p>I have tried to set custom uncaught exception handler <code>setUncaughtExceptionHandler((t, e) -&gt; Assert.fail(e.getMessage()))</code>, but this didn't help.</p>\n"},{"tags":["java","conditional-statements","conditional-operator"],"comments":[{"owner":{"account_id":1387645,"reputation":7926,"user_id":1319284,"accept_rate":69,"display_name":"kutschkem"},"score":1,"creation_date":1656424397,"post_id":72787686,"comment_id":128565358,"body_markdown":"Are you trying to return that? (from a function that returns void)","body":"Are you trying to return that? (from a function that returns void)"},{"owner":{"account_id":10474057,"reputation":187,"user_id":7721117,"display_name":"M Usama Alvi"},"score":0,"creation_date":1656424457,"post_id":72787686,"comment_id":128565389,"body_markdown":"@XtremeBaumer That&#39;s just a copy paste thing here. Editted it.","body":"@XtremeBaumer That&#39;s just a copy paste thing here. Editted it."},{"owner":{"account_id":3421530,"reputation":3695,"user_id":2868955,"accept_rate":85,"display_name":"Evdzhan Mustafa"},"score":0,"creation_date":1656424533,"post_id":72787686,"comment_id":128565423,"body_markdown":"Is this compile issue or runtime issue? When does the error show itself?","body":"Is this compile issue or runtime issue? When does the error show itself?"},{"owner":{"account_id":10474057,"reputation":187,"user_id":7721117,"display_name":"M Usama Alvi"},"score":0,"creation_date":1656424941,"post_id":72787686,"comment_id":128565617,"body_markdown":"@EvdzhanMustafa It&#39;s runtime.","body":"@EvdzhanMustafa It&#39;s runtime."},{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1656425922,"post_id":72787686,"comment_id":128566009,"body_markdown":"What version of Java are you using? Are those methods form [this json](https://mvnrepository.com/artifact/org.json/json) library?","body":"What version of Java are you using? Are those methods form <a href=\"https://mvnrepository.com/artifact/org.json/json\" rel=\"nofollow noreferrer\">this json</a> library?"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":1,"creation_date":1656428106,"post_id":72787686,"comment_id":128567012,"body_markdown":"Can you show us the full stack trace attached to the error message?","body":"Can you show us the full stack trace attached to the error message?"},{"owner":{"account_id":10474057,"reputation":187,"user_id":7721117,"display_name":"M Usama Alvi"},"score":0,"creation_date":1656430451,"post_id":72787686,"comment_id":128567995,"body_markdown":"@JettoMart&#237;nez They are from `io.vertx.core.json.JsonArray`. Java 17.","body":"@JettoMart&#237;nez They are from <code>io.vertx.core.json.JsonArray</code>. Java 17."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1656431712,"post_id":72787686,"comment_id":128568516,"body_markdown":"`JsonArray.getJsonObject` takes an `int` argument, but you&#39;re passing a `String` instead. Are you sure the error message isn&#39;t &quot;cannot convert from String to **int**&quot;?","body":"<code>JsonArray.getJsonObject</code> takes an <code>int</code> argument, but you&#39;re passing a <code>String</code> instead. Are you sure the error message isn&#39;t &quot;cannot convert from String to <b>int</b>&quot;?"},{"owner":{"account_id":10474057,"reputation":187,"user_id":7721117,"display_name":"M Usama Alvi"},"score":0,"creation_date":1656433454,"post_id":72787686,"comment_id":128569205,"body_markdown":"@k314159 This function takes string in order to return the object for that string key value. `JsonObject io.vertx.core.json.JsonObject.getJsonObject(String key)`","body":"@k314159 This function takes string in order to return the object for that string key value. <code>JsonObject io.vertx.core.json.JsonObject.getJsonObject(String key)</code>"},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1656433733,"post_id":72787686,"comment_id":128569296,"body_markdown":"You are probably returning a string from a method with a void return type.","body":"You are probably returning a string from a method with a void return type."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":1,"creation_date":1656434872,"post_id":72787686,"comment_id":128569654,"body_markdown":"But you said this is a runtime error, not a compile-time one? Can you just reconfirm? If it really is a runtime error, is there a stack trace you can show?","body":"But you said this is a runtime error, not a compile-time one? Can you just reconfirm? If it really is a runtime error, is there a stack trace you can show?"}],"answers":[{"tags":[],"owner":{"account_id":18269519,"reputation":1064,"user_id":13300553,"display_name":"Prathamesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656428490,"creation_date":1656427674,"answer_id":72788633,"question_id":72787686,"body_markdown":"From the code and error that has been provided it is not clear that what could cause the error!\r\n\r\n    obj.getJsonObject(&quot;impact&quot;).getJsonObject(&quot;baseMetricV2&quot;).getString(&quot;severity&quot;);\r\n\r\n \r\n\r\nBut looking at what has been provided, the `.getString(&quot;severity&quot;)` is probably returning void , that means the return type of getString() is void;\r\n\r\nCheck return type of getString() method!\r\n\r\n","title":"Java - Type mismatch: cannot convert from String to void","body":"<p>From the code and error that has been provided it is not clear that what could cause the error!</p>\n<pre><code>obj.getJsonObject(&quot;impact&quot;).getJsonObject(&quot;baseMetricV2&quot;).getString(&quot;severity&quot;);\n</code></pre>\n<p>But looking at what has been provided, the <code>.getString(&quot;severity&quot;)</code> is probably returning void , that means the return type of getString() is void;</p>\n<p>Check return type of getString() method!</p>\n"}],"owner":{"account_id":10474057,"reputation":187,"user_id":7721117,"display_name":"M Usama Alvi"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":822,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656428490,"creation_date":1656424280,"question_id":72787686,"body_markdown":"I&#39;m using java and this seems like a very straightforward ternary condition.\r\n\r\n```\r\nString severity = obj.getJsonObject(&quot;impact&quot;).isEmpty() ? &quot;N/A&quot; : obj.getJsonObject(&quot;impact&quot;).getJsonObject(&quot;baseMetricV2&quot;).getString(&quot;severity&quot;);\r\n```\r\nThis is the error it throws me on this: \r\n```\r\nType mismatch: cannot convert from String to void\r\n```\r\nI have come from C# background so maybe I&#39;m missing something very obvious. \r\n","title":"Java - Type mismatch: cannot convert from String to void","body":"<p>I'm using java and this seems like a very straightforward ternary condition.</p>\n<pre><code>String severity = obj.getJsonObject(&quot;impact&quot;).isEmpty() ? &quot;N/A&quot; : obj.getJsonObject(&quot;impact&quot;).getJsonObject(&quot;baseMetricV2&quot;).getString(&quot;severity&quot;);\n</code></pre>\n<p>This is the error it throws me on this:</p>\n<pre><code>Type mismatch: cannot convert from String to void\n</code></pre>\n<p>I have come from C# background so maybe I'm missing something very obvious.</p>\n"},{"tags":["java","spring","spring-boot","spring-restcontroller"],"answers":[{"tags":[],"owner":{"account_id":16101320,"reputation":121,"user_id":11622006,"display_name":"Slongtong"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656428072,"creation_date":1656415786,"answer_id":72785625,"question_id":72784064,"body_markdown":"You should use correct field names in query. Field with name &#39;forecasterName&#39; doesn&#39;t exists.\r\n\r\nquery example:\r\n\r\n    http://localhost:8080/?status=OK&amp;forecastId=1&amp;forecastName=name&amp;createdBy=owner&amp;page=2&amp;size=11&amp;sort=a,desc&amp;sort=b\r\n\r\nresponse example:\r\n\r\n    {\r\n      &quot;criteria&quot;: {\r\n        &quot;forecastId&quot;: &quot;1&quot;,\r\n        &quot;forecastName&quot;: &quot;name&quot;,\r\n        &quot;forecastGroupName&quot;: null,\r\n        &quot;latestVersion&quot;: null,\r\n        &quot;status&quot;: &quot;OK&quot;,\r\n        &quot;forecasterName&quot;: null,\r\n        &quot;createdAt&quot;: null,\r\n        &quot;modifiedAt&quot;: null,\r\n        &quot;createdBy&quot;: &quot;owner&quot;,\r\n        &quot;modifiedBy&quot;: null\r\n      },\r\n      &quot;pageable&quot;: {\r\n        &quot;sort&quot;: {\r\n          &quot;empty&quot;: false,\r\n          &quot;sorted&quot;: true,\r\n          &quot;unsorted&quot;: false\r\n        },\r\n        &quot;offset&quot;: 22,\r\n        &quot;pageSize&quot;: 11,\r\n        &quot;pageNumber&quot;: 2,\r\n        &quot;paged&quot;: true,\r\n        &quot;unpaged&quot;: false\r\n      }\r\n    }\r\n\r\n\r\nfilled objects (pageable and criteria) in controller (debug mode):\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\napplication:\r\n\r\n    package com.example.demo;\r\n    \r\n    import lombok.Builder;\r\n    import lombok.Data;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.data.domain.Pageable;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    @SpringBootApplication\r\n    public class DemoApplication {\r\n    \r\n        public enum ForecastStatus {\r\n            OK,\r\n            UNKNOWN\r\n        }\r\n    \r\n        @Data\r\n        @Builder\r\n        public static class ForecastFilterCriteria {\r\n            //\r\n            //query parameters names should be equal to fields names\r\n            //\r\n            private String forecastId;\r\n            private String forecastName;\r\n            private String forecastGroupName;\r\n            private String latestVersion;\r\n            private ForecastStatus status;\r\n            private String forecasterName;\r\n            private Long createdAt;\r\n            private Long modifiedAt;\r\n            private String createdBy;\r\n            private String modifiedBy;\r\n        }\r\n    \r\n        @RestController\r\n        @RequestMapping(&quot;/&quot;)\r\n        public static class Controller {\r\n    \r\n            @GetMapping\r\n            public Map&lt;String, Object&gt; get(ForecastFilterCriteria criteria, Pageable pageable) {\r\n                HashMap&lt;String, Object&gt; values = new HashMap&lt;&gt;();\r\n                values.put(&quot;criteria&quot;, criteria);\r\n                values.put(&quot;pageable&quot;, pageable);\r\n                return values;\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(DemoApplication.class, args);\r\n        }\r\n    \r\n    }\r\n    \r\npom.xml :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.1&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;demo&lt;/name&gt;\r\n        &lt;description&gt;demo&lt;/description&gt;\r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;excludes&gt;\r\n                            &lt;exclude&gt;\r\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                            &lt;/exclude&gt;\r\n                        &lt;/excludes&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n    \r\n\r\nproject structure:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xtZPM.png\r\n  [2]: https://i.stack.imgur.com/Yahvv.png","title":"Filtering data using query parameters as object not working Springboot","body":"<p>You should use correct field names in query. Field with name 'forecasterName' doesn't exists.</p>\n<p>query example:</p>\n<pre><code>http://localhost:8080/?status=OK&amp;forecastId=1&amp;forecastName=name&amp;createdBy=owner&amp;page=2&amp;size=11&amp;sort=a,desc&amp;sort=b\n</code></pre>\n<p>response example:</p>\n<pre><code>{\n  &quot;criteria&quot;: {\n    &quot;forecastId&quot;: &quot;1&quot;,\n    &quot;forecastName&quot;: &quot;name&quot;,\n    &quot;forecastGroupName&quot;: null,\n    &quot;latestVersion&quot;: null,\n    &quot;status&quot;: &quot;OK&quot;,\n    &quot;forecasterName&quot;: null,\n    &quot;createdAt&quot;: null,\n    &quot;modifiedAt&quot;: null,\n    &quot;createdBy&quot;: &quot;owner&quot;,\n    &quot;modifiedBy&quot;: null\n  },\n  &quot;pageable&quot;: {\n    &quot;sort&quot;: {\n      &quot;empty&quot;: false,\n      &quot;sorted&quot;: true,\n      &quot;unsorted&quot;: false\n    },\n    &quot;offset&quot;: 22,\n    &quot;pageSize&quot;: 11,\n    &quot;pageNumber&quot;: 2,\n    &quot;paged&quot;: true,\n    &quot;unpaged&quot;: false\n  }\n}\n</code></pre>\n<p>filled objects (pageable and criteria) in controller (debug mode):</p>\n<p><a href=\"https://i.stack.imgur.com/xtZPM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xtZPM.png\" alt=\"enter image description here\" /></a></p>\n<p>application:</p>\n<pre><code>package com.example.demo;\n\nimport lombok.Builder;\nimport lombok.Data;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\n@SpringBootApplication\npublic class DemoApplication {\n\n    public enum ForecastStatus {\n        OK,\n        UNKNOWN\n    }\n\n    @Data\n    @Builder\n    public static class ForecastFilterCriteria {\n        //\n        //query parameters names should be equal to fields names\n        //\n        private String forecastId;\n        private String forecastName;\n        private String forecastGroupName;\n        private String latestVersion;\n        private ForecastStatus status;\n        private String forecasterName;\n        private Long createdAt;\n        private Long modifiedAt;\n        private String createdBy;\n        private String modifiedBy;\n    }\n\n    @RestController\n    @RequestMapping(&quot;/&quot;)\n    public static class Controller {\n\n        @GetMapping\n        public Map&lt;String, Object&gt; get(ForecastFilterCriteria criteria, Pageable pageable) {\n            HashMap&lt;String, Object&gt; values = new HashMap&lt;&gt;();\n            values.put(&quot;criteria&quot;, criteria);\n            values.put(&quot;pageable&quot;, pageable);\n            return values;\n        }\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>pom.xml :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;demo&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>project structure:</p>\n<p><a href=\"https://i.stack.imgur.com/Yahvv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Yahvv.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":6557464,"reputation":4145,"user_id":5069746,"accept_rate":50,"display_name":"Kshitij Kohli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1469,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1656428072,"creation_date":1656408990,"question_id":72784064,"body_markdown":"I am trying to build a &#39;list all with filters&#39; API. What I am trying to do is get the parameters from which to filter by as query parameters and then pass them forward to criteria API. I have created a Filter object in which i have added all the fields with which I would want to filter my results by, but passing the object as query parameter it is not getting mapped to the java object correctly and the fields are still null. Attaching my code snippet below.\r\n\r\n```\r\npublic Page&lt;ForecastResponse&gt; listForecast(ForecastFilterCriteria forecastFilterCriteria,@NotNull final Pageable pageable) {\r\n        logger.info(&quot;Got the following as pageable request &quot;+pageable.toString());\r\n        logger.info(&quot;Got the following filters &quot;+forecastFilterCriteria.toString());\r\n        return listForecastUsecase.forecasts( forecastFilterCriteria,pageable);\r\n    }\r\n\r\n```\r\n\r\n```\r\n@Data\r\n@Builder\r\npublic class ForecastFilterCriteria {\r\n    private String forecastId;\r\n    private String forecastName;\r\n    private String forecastGroupName;\r\n    private String latestVersion;\r\n    private ForecastStatus status;\r\n    private PlanHorizon planHorizon;\r\n    private Interval interval;\r\n    private String  forecasterName;\r\n    private Long createdAt;\r\n    private Long modifiedAt;\r\n    private String createdBy;\r\n    private String modifiedBy;\r\n}\r\n\r\n```\r\nCurl commands I have tried so far\r\n```\r\n1. curl http://localhost:8443/v2/forecast/?page=2&amp;size=5\r\n2. curl http://localhost:8443/v2/forecast/?forecasterName=Pradeep&amp;page=1&amp;size=10\r\n3. curl http://localhost:8443/v2/forecast/?forecastFilterCriteria={&quot;forecasterName&quot;:&quot;Pradeep&quot;}&amp;page=1&amp;size=10\r\n4. curl http://localhost:8443/v2/forecast/?forecasterName=Pradeep&amp;forecastId=myId&amp;page=1&amp;size=10\r\n\r\n```\r\n\r\nMy Observations :\r\n\r\n• Only the first parameter is what gets initialized correctly ie if I pass parameters as in the 4th curl command, only the name gets initialized correctly, forecastId remains null and page and size parameters are taking what I believe default values of 0 and 20. What am I missing?\r\n\r\n\r\n**Edit :** Attaching the screenshot\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KkIAL.png","title":"Filtering data using query parameters as object not working Springboot","body":"<p>I am trying to build a 'list all with filters' API. What I am trying to do is get the parameters from which to filter by as query parameters and then pass them forward to criteria API. I have created a Filter object in which i have added all the fields with which I would want to filter my results by, but passing the object as query parameter it is not getting mapped to the java object correctly and the fields are still null. Attaching my code snippet below.</p>\n<pre><code>public Page&lt;ForecastResponse&gt; listForecast(ForecastFilterCriteria forecastFilterCriteria,@NotNull final Pageable pageable) {\n        logger.info(&quot;Got the following as pageable request &quot;+pageable.toString());\n        logger.info(&quot;Got the following filters &quot;+forecastFilterCriteria.toString());\n        return listForecastUsecase.forecasts( forecastFilterCriteria,pageable);\n    }\n\n</code></pre>\n<pre><code>@Data\n@Builder\npublic class ForecastFilterCriteria {\n    private String forecastId;\n    private String forecastName;\n    private String forecastGroupName;\n    private String latestVersion;\n    private ForecastStatus status;\n    private PlanHorizon planHorizon;\n    private Interval interval;\n    private String  forecasterName;\n    private Long createdAt;\n    private Long modifiedAt;\n    private String createdBy;\n    private String modifiedBy;\n}\n\n</code></pre>\n<p>Curl commands I have tried so far</p>\n<pre><code>1. curl http://localhost:8443/v2/forecast/?page=2&amp;size=5\n2. curl http://localhost:8443/v2/forecast/?forecasterName=Pradeep&amp;page=1&amp;size=10\n3. curl http://localhost:8443/v2/forecast/?forecastFilterCriteria={&quot;forecasterName&quot;:&quot;Pradeep&quot;}&amp;page=1&amp;size=10\n4. curl http://localhost:8443/v2/forecast/?forecasterName=Pradeep&amp;forecastId=myId&amp;page=1&amp;size=10\n\n</code></pre>\n<p>My Observations :</p>\n<p>• Only the first parameter is what gets initialized correctly ie if I pass parameters as in the 4th curl command, only the name gets initialized correctly, forecastId remains null and page and size parameters are taking what I believe default values of 0 and 20. What am I missing?</p>\n<p><strong>Edit :</strong> Attaching the screenshot</p>\n<p><a href=\"https://i.stack.imgur.com/KkIAL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KkIAL.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","serialization","jackson","type-erasure"],"comments":[{"owner":{"account_id":3727946,"reputation":991,"user_id":3101285,"accept_rate":100,"display_name":"Steve"},"score":0,"creation_date":1506371092,"post_id":46413269,"comment_id":79785052,"body_markdown":"This Question has the Answer to exactly what your trying to accomplish. https://stackoverflow.com/questions/31665620/is-jacksons-jsonsubtypes-still-necessary-for-polymorphic-deserialization Basically you need to define all the possible subtypes of your abstract class.","body":"This Question has the Answer to exactly what your trying to accomplish. <a href=\"https://stackoverflow.com/questions/31665620/is-jacksons-jsonsubtypes-still-necessary-for-polymorphic-deserialization\" title=\"is jacksons jsonsubtypes still necessary for polymorphic deserialization\">stackoverflow.com/questions/31665620/&hellip;</a> Basically you need to define all the possible subtypes of your abstract class."}],"answers":[{"tags":[],"owner":{"account_id":10899779,"reputation":7224,"user_id":8012379,"display_name":"Indra Basak"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1656428036,"creation_date":1506373123,"answer_id":46414080,"question_id":46413269,"body_markdown":" Use **JsonSubTypes** annotation with **JsonTypeInfo** to indicate subtypes. The **property** attribute **JsonTypeInfo** is used to differentiate between different subclasses.\r\n\r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;typ&quot;)\r\n    @JsonSubTypes({\r\n            @JsonSubTypes.Type(value = IntMetricValueDto.class, name = &quot;INT&quot;),\r\n            @JsonSubTypes.Type(value = FloatMetricValueDto.class, name = &quot;FLT&quot;)})\r\n    public abstract class MetricValueDto&lt;T&gt; {\r\n    \r\n        private T value;\r\n        private MetricTrend trend;\r\n        ...\r\n    }","title":"Custom Jackson Deserialization of a Generic Abstract class","body":"<p>Use <strong>JsonSubTypes</strong> annotation with <strong>JsonTypeInfo</strong> to indicate subtypes. The <strong>property</strong> attribute <strong>JsonTypeInfo</strong> is used to differentiate between different subclasses.</p>\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;typ&quot;)\n@JsonSubTypes({\n        @JsonSubTypes.Type(value = IntMetricValueDto.class, name = &quot;INT&quot;),\n        @JsonSubTypes.Type(value = FloatMetricValueDto.class, name = &quot;FLT&quot;)})\npublic abstract class MetricValueDto&lt;T&gt; {\n\n    private T value;\n    private MetricTrend trend;\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1458483,"reputation":5866,"user_id":1373465,"accept_rate":84,"display_name":"Menelaos Kotsollaris"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1507511392,"creation_date":1507422948,"answer_id":46626467,"question_id":46413269,"body_markdown":"While `JsonTypeInfo ` works, and adds implementation-specific detail to the response, which later might add confusion to the API client.\r\n\r\nI ended up implementing a custom [StdDeserializer][1]:\r\n\r\n    public class MetricValueDtoDeserializer&lt;T&gt; extends StdDeserializer&lt;MetricValueDto&lt;T&gt;&gt; {\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \tpublic MetricValueDtoDeserializer() {\r\n    \t\tthis(null);\r\n    \t}\r\n    \r\n    \tpublic MetricValueDtoDeserializer(Class&lt;?&gt; vc) {\r\n    \t\tsuper(vc);\r\n    \t}\r\n    \t\r\n    \tprivate ObjectMapper mapper;\r\n    \r\n    \t@Override\r\n    \tpublic MetricValueDto&lt;T&gt; deserialize(JsonParser jsonParser, DeserializationContext context)\r\n    \t\t\tthrows IOException, JsonProcessingException {\r\n    \t\tString metricType = jsonParser.getCurrentName();\r\n    \t\tmapper = (ObjectMapper) jsonParser.getCodec();\r\n    \t\tObjectNode objectNode = (ObjectNode) mapper.readTree(jsonParser);\r\n    \t\tIterator&lt;Entry&lt;String, JsonNode&gt;&gt; elementsIterator = objectNode.fields();\r\n    \t\tNumber number = null;\r\n    \t\twhile (elementsIterator.hasNext()) {\r\n    \t\t\tEntry&lt;String, JsonNode&gt; element = elementsIterator.next();\r\n    \t\t\tString key = element.getKey();\r\n    \t\t\tif (key.equals(&quot;value&quot;)) {\r\n    \t\t\t\tnumber = parseValue(element, metricType);\r\n    \t\t\t}\r\n    \t\t\tif (key.equals(&quot;trend&quot;)) {\r\n    \t\t\t\tMetricTrend metricTrend = parseTrend(element);\r\n    \t\t\t\treturn (produceMetricValueDto(number, metricTrend));\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tthrow new IOException();\r\n    \t}\r\n    \r\n    \t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \tprivate MetricValueDto&lt;T&gt; produceMetricValueDto(Number number, MetricTrend metricTrend) throws IOException {\r\n    \t\tif (number instanceof Integer) {\r\n    \t\t\treturn (MetricValueDto&lt;T&gt;) new IntMetricValueDto((Integer) number, metricTrend);\r\n    \t\t} else if (number instanceof Float) {\r\n    \t\t\treturn (MetricValueDto&lt;T&gt;) new FloatMetricValueDto((Float) number, metricTrend);\r\n    \t\t}\r\n    \t\tthrow new IOException();\r\n    \t}\r\n    \r\n    \tprivate MetricTrend parseTrend(Entry&lt;String, JsonNode&gt; element)\r\n    \t\t\tthrows JsonProcessingException {\r\n    \t\tString trend = mapper.treeToValue(element.getValue(), String.class);\r\n    \t\tif (trend == null) {\r\n    \t\t\treturn null;\r\n    \t\t} else {\r\n    \t\t\treturn MetricTrend.valueOf(trend);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate Number parseValue(Entry&lt;String, JsonNode&gt; element, String metricType)\r\n    \t\t\tthrows IOException {\r\n    \t\tif (metricType.equals(MetricType.CANOPY_COVERAGE.toValue())\r\n    \t\t\t\t|| metricType.equals(MetricType.PLANT_SIZE.toValue())) {\r\n    \t\t\treturn mapper.treeToValue(element.getValue(), Float.class);\r\n    \t\t} else if (metricType.equals(MetricType.INSECT_COUNT.toValue())\r\n    \t\t\t\t|| metricType.equals(MetricType.PLANT_COUNT.toValue())) {\r\n    \t\t\treturn mapper.treeToValue(element.getValue(), Integer.class);\r\n    \t\t}\r\n    \t\tthrow new IOException();\r\n    \t}\r\n    }\r\n\r\nThe code ended up to being more complex than `JsonTypeInfo`, but the API client is unaware of implementation-specific details.\r\n\r\n  [1]: https://fasterxml.github.io/jackson-databind/javadoc/2.3.0/com/fasterxml/jackson/databind/deser/std/StdDeserializer.html","title":"Custom Jackson Deserialization of a Generic Abstract class","body":"<p>While <code>JsonTypeInfo</code> works, and adds implementation-specific detail to the response, which later might add confusion to the API client.</p>\n\n<p>I ended up implementing a custom <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.3.0/com/fasterxml/jackson/databind/deser/std/StdDeserializer.html\" rel=\"noreferrer\">StdDeserializer</a>:</p>\n\n<pre><code>public class MetricValueDtoDeserializer&lt;T&gt; extends StdDeserializer&lt;MetricValueDto&lt;T&gt;&gt; {\n\n    private static final long serialVersionUID = 1L;\n\n    public MetricValueDtoDeserializer() {\n        this(null);\n    }\n\n    public MetricValueDtoDeserializer(Class&lt;?&gt; vc) {\n        super(vc);\n    }\n\n    private ObjectMapper mapper;\n\n    @Override\n    public MetricValueDto&lt;T&gt; deserialize(JsonParser jsonParser, DeserializationContext context)\n            throws IOException, JsonProcessingException {\n        String metricType = jsonParser.getCurrentName();\n        mapper = (ObjectMapper) jsonParser.getCodec();\n        ObjectNode objectNode = (ObjectNode) mapper.readTree(jsonParser);\n        Iterator&lt;Entry&lt;String, JsonNode&gt;&gt; elementsIterator = objectNode.fields();\n        Number number = null;\n        while (elementsIterator.hasNext()) {\n            Entry&lt;String, JsonNode&gt; element = elementsIterator.next();\n            String key = element.getKey();\n            if (key.equals(\"value\")) {\n                number = parseValue(element, metricType);\n            }\n            if (key.equals(\"trend\")) {\n                MetricTrend metricTrend = parseTrend(element);\n                return (produceMetricValueDto(number, metricTrend));\n            }\n        }\n        throw new IOException();\n    }\n\n    @SuppressWarnings(\"unchecked\")\n    private MetricValueDto&lt;T&gt; produceMetricValueDto(Number number, MetricTrend metricTrend) throws IOException {\n        if (number instanceof Integer) {\n            return (MetricValueDto&lt;T&gt;) new IntMetricValueDto((Integer) number, metricTrend);\n        } else if (number instanceof Float) {\n            return (MetricValueDto&lt;T&gt;) new FloatMetricValueDto((Float) number, metricTrend);\n        }\n        throw new IOException();\n    }\n\n    private MetricTrend parseTrend(Entry&lt;String, JsonNode&gt; element)\n            throws JsonProcessingException {\n        String trend = mapper.treeToValue(element.getValue(), String.class);\n        if (trend == null) {\n            return null;\n        } else {\n            return MetricTrend.valueOf(trend);\n        }\n    }\n\n    private Number parseValue(Entry&lt;String, JsonNode&gt; element, String metricType)\n            throws IOException {\n        if (metricType.equals(MetricType.CANOPY_COVERAGE.toValue())\n                || metricType.equals(MetricType.PLANT_SIZE.toValue())) {\n            return mapper.treeToValue(element.getValue(), Float.class);\n        } else if (metricType.equals(MetricType.INSECT_COUNT.toValue())\n                || metricType.equals(MetricType.PLANT_COUNT.toValue())) {\n            return mapper.treeToValue(element.getValue(), Integer.class);\n        }\n        throw new IOException();\n    }\n}\n</code></pre>\n\n<p>The code ended up to being more complex than <code>JsonTypeInfo</code>, but the API client is unaware of implementation-specific details.</p>\n"}],"owner":{"account_id":1458483,"reputation":5866,"user_id":1373465,"accept_rate":84,"display_name":"Menelaos Kotsollaris"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18594,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":46626467,"answer_count":2,"score":4,"last_activity_date":1656428036,"creation_date":1506369663,"question_id":46413269,"body_markdown":"I am having issues when trying to deserializing the following class:\r\n\r\n    public class MetricValuesDto {\r\n    \t\r\n    \tprivate Map&lt;MetricType, MetricValueDto&lt;?&gt;&gt; metricValues;\r\n    \r\n    \tpublic MetricValuesDto() {\r\n    \t}\r\n    \r\n    \tpublic MetricValuesDto(Map&lt;MetricType, MetricValueDto&lt;?&gt;&gt; metricValues) {\r\n    \t\tthis.metricValues = metricValues;\r\n    \t}\r\n    \r\n    \tpublic Map&lt;MetricType, MetricValueDto&lt;?&gt;&gt; getMetricValues() {\r\n    \t\treturn metricValues;\r\n    \t}\r\n    \r\n    \tpublic void setMetricValues(Map&lt;MetricType, MetricValueDto&lt;?&gt;&gt; metricValues) {\r\n    \t\tthis.metricValues = metricValues;\r\n    \t}\r\n    }\r\n\r\nMy generic abstract class:\r\n\r\n\r\n    public abstract class MetricValueDto&lt;T&gt; {\r\n    \r\n    \tprivate T value;\r\n    \tprivate MetricTrend trend;\r\n    \r\n    \tpublic MetricValueDto(T value, MetricTrend trend) {\r\n    \t\tthis.value = value;\r\n    \t\tthis.trend = trend;\r\n    \t}\r\n    \r\n    \tpublic T getValue() {\r\n    \t\treturn value;\r\n    \t}\r\n    \r\n    \tpublic void setValue(T value) {\r\n    \t\tthis.value = value;\r\n    \t}\r\n    \r\n    \tpublic MetricTrend getTrend() {\r\n    \t\treturn trend;\r\n    \t}\r\n    \r\n    \tpublic void setTrend(MetricTrend trend) {\r\n    \t\tthis.trend = trend;\r\n    \t}\r\n    }\r\n\r\nI have two concrete classes which implement `MetricValueDto`:\r\n\r\nIntMetricValueDto:\r\n\r\n    public class IntMetricValueDto extends MetricValueDto&lt;Integer&gt; {\r\n    \r\n    \tpublic IntMetricValueDto(Integer value, MetricTrend trend) {\r\n    \t\tsuper(value, trend);\r\n    \t}\r\n    }\r\n\r\nFloatMetricValueDto:\r\n\r\n    public class FloatMetricValueDto extends MetricValueDto&lt;Float&gt; {\r\n    \r\n    \tpublic FloatMetricValueDto(Float value, MetricTrend trend) {\r\n    \t\tsuper(value, trend);\r\n    \t}\r\n    }\r\n\r\n\r\nAny idea of what&#39;s the correct strategy to deserialize MetricValueDto so I can parse it through [ObjectMapper][1] or an [RestTemplate][2]? Whenever I run:\r\n\r\n    restTemplate.exchange(&quot;myEndpoint&quot;, HttpMethod.GET, entity, DataCollectionEventDto.class);\r\n\r\nI get \r\n\r\n&gt;Caused by: com.fasterxml.jackson.databind.JsonMappingException: Can not construct instance of com.resson.dto.MetricValueDto: abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information\r\n\r\nDataCollectionEventDto:\r\n\r\n    public class DataCollectionEventDto {\r\n    \r\n    \tprivate List&lt;MapLayerDto&gt; mapLayers;\r\n    \r\n    \t@JsonUnwrapped\r\n    \tprivate MetricValuesDto metricValues;\r\n    \r\n    \tpublic List&lt;MapLayerDto&gt; getMapLayers() {\r\n    \t\treturn mapLayers;\r\n    \t}\r\n    \r\n    \tpublic void setMapLayers(List&lt;MapLayerDto&gt; mapLayers) {\r\n    \t\tthis.mapLayers = mapLayers;\r\n    \t}\r\n    \r\n    \tpublic MetricValuesDto getMetricValues() {\r\n    \t\treturn metricValues;\r\n    \t}\r\n    \r\n    \tpublic void setMetricValues(MetricValuesDto metricValues) {\r\n    \t\tthis.metricValues = metricValues;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn ToStringBuilder.reflectionToString(this);\r\n    \t}\r\n    }\r\n\r\nI have basically tried everything on web and I could not make it work; any suggestion would be helpful.\r\n\r\n\r\n  [1]: https://fasterxml.github.io/jackson-databind/javadoc/2.3.0/com/fasterxml/jackson/databind/ObjectMapper.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html\r\n","title":"Custom Jackson Deserialization of a Generic Abstract class","body":"<p>I am having issues when trying to deserializing the following class:</p>\n\n<pre><code>public class MetricValuesDto {\n\n    private Map&lt;MetricType, MetricValueDto&lt;?&gt;&gt; metricValues;\n\n    public MetricValuesDto() {\n    }\n\n    public MetricValuesDto(Map&lt;MetricType, MetricValueDto&lt;?&gt;&gt; metricValues) {\n        this.metricValues = metricValues;\n    }\n\n    public Map&lt;MetricType, MetricValueDto&lt;?&gt;&gt; getMetricValues() {\n        return metricValues;\n    }\n\n    public void setMetricValues(Map&lt;MetricType, MetricValueDto&lt;?&gt;&gt; metricValues) {\n        this.metricValues = metricValues;\n    }\n}\n</code></pre>\n\n<p>My generic abstract class:</p>\n\n<pre><code>public abstract class MetricValueDto&lt;T&gt; {\n\n    private T value;\n    private MetricTrend trend;\n\n    public MetricValueDto(T value, MetricTrend trend) {\n        this.value = value;\n        this.trend = trend;\n    }\n\n    public T getValue() {\n        return value;\n    }\n\n    public void setValue(T value) {\n        this.value = value;\n    }\n\n    public MetricTrend getTrend() {\n        return trend;\n    }\n\n    public void setTrend(MetricTrend trend) {\n        this.trend = trend;\n    }\n}\n</code></pre>\n\n<p>I have two concrete classes which implement <code>MetricValueDto</code>:</p>\n\n<p>IntMetricValueDto:</p>\n\n<pre><code>public class IntMetricValueDto extends MetricValueDto&lt;Integer&gt; {\n\n    public IntMetricValueDto(Integer value, MetricTrend trend) {\n        super(value, trend);\n    }\n}\n</code></pre>\n\n<p>FloatMetricValueDto:</p>\n\n<pre><code>public class FloatMetricValueDto extends MetricValueDto&lt;Float&gt; {\n\n    public FloatMetricValueDto(Float value, MetricTrend trend) {\n        super(value, trend);\n    }\n}\n</code></pre>\n\n<p>Any idea of what's the correct strategy to deserialize MetricValueDto so I can parse it through <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.3.0/com/fasterxml/jackson/databind/ObjectMapper.html\" rel=\"nofollow noreferrer\">ObjectMapper</a> or an <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html\" rel=\"nofollow noreferrer\">RestTemplate</a>? Whenever I run:</p>\n\n<pre><code>restTemplate.exchange(\"myEndpoint\", HttpMethod.GET, entity, DataCollectionEventDto.class);\n</code></pre>\n\n<p>I get </p>\n\n<blockquote>\n  <p>Caused by: com.fasterxml.jackson.databind.JsonMappingException: Can not construct instance of com.resson.dto.MetricValueDto: abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information</p>\n</blockquote>\n\n<p>DataCollectionEventDto:</p>\n\n<pre><code>public class DataCollectionEventDto {\n\n    private List&lt;MapLayerDto&gt; mapLayers;\n\n    @JsonUnwrapped\n    private MetricValuesDto metricValues;\n\n    public List&lt;MapLayerDto&gt; getMapLayers() {\n        return mapLayers;\n    }\n\n    public void setMapLayers(List&lt;MapLayerDto&gt; mapLayers) {\n        this.mapLayers = mapLayers;\n    }\n\n    public MetricValuesDto getMetricValues() {\n        return metricValues;\n    }\n\n    public void setMetricValues(MetricValuesDto metricValues) {\n        this.metricValues = metricValues;\n    }\n\n    @Override\n    public String toString() {\n        return ToStringBuilder.reflectionToString(this);\n    }\n}\n</code></pre>\n\n<p>I have basically tried everything on web and I could not make it work; any suggestion would be helpful.</p>\n"},{"tags":["java","tomcat","memory","profiler","httpsession"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":1,"creation_date":1653936296,"post_id":72437618,"comment_id":127968135,"body_markdown":"Interesting question. May be with [verbose GC logs](https://www.baeldung.com/java-gc-logging-to-file) but it&#39;s a long shot. If it were possible to modify the application, perhaps JMX could be a good option.","body":"Interesting question. May be with <a href=\"https://www.baeldung.com/java-gc-logging-to-file\" rel=\"nofollow noreferrer\">verbose GC logs</a> but it&#39;s a long shot. If it were possible to modify the application, perhaps JMX could be a good option."},{"owner":{"account_id":4835964,"reputation":1710,"user_id":3902663,"accept_rate":78,"display_name":"SATO Yusuke"},"score":1,"creation_date":1656258650,"post_id":72437618,"comment_id":128522801,"body_markdown":"@LMC Thank you for your comment. I made a sample project to get the size of HttpSession with JMX: https://github.com/satob/SessionSize","body":"@LMC Thank you for your comment. I made a sample project to get the size of HttpSession with JMX: <a href=\"https://github.com/satob/SessionSize\" rel=\"nofollow noreferrer\">github.com/satob/SessionSize</a>"}],"answers":[{"tags":[],"owner":{"account_id":4835964,"reputation":1710,"user_id":3902663,"accept_rate":78,"display_name":"SATO Yusuke"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656427543,"creation_date":1656258633,"answer_id":72763030,"question_id":72437618,"body_markdown":"According to the comment from @LMC, I made a sample project to get the size of HttpSession with JMX: https://github.com/satob/SessionSize\r\n\r\nNote that because you cannot access `org.apache.catalina.session.ManagerBase` directly, this project uses [ByteMan](https://byteman.jboss.org/). Store the `ManagerBase` object to a static field of the MBean `SessionMonitor` with Byteman like:\r\n\r\n```\r\nRULE Set ManagerBase object to MBean\r\nCLASS ^org.apache.catalina.session.ManagerBase\r\nMETHOD initInternal\r\nAT EXIT\r\nIF TRUE\r\nDO\r\n    traceln(&quot;SETTING SessionManager&quot;);\r\n    com.example.sessionsize.SessionMonitor.setSessionManager($this);\r\nENDRULE\r\n```\r\n\r\nand use it in the JMX interface like:\r\n\r\n```java\r\npackage com.example.sessionsize;\r\n\r\nimport org.apache.catalina.Manager;\r\nimport org.apache.catalina.Session;\r\n\r\nimport net.sourceforge.sizeof.SizeOf;\r\n\r\npublic class SessionMonitor implements SessionMonitorMBean {\r\n\r\n    private static Manager sessionManager = null;\r\n\r\n    public static void setSessionManager(Manager manager) {\r\n        sessionManager = manager;\r\n    }\r\n\r\n    @Override\r\n    public long getMemoryConsumption() {\r\n        if (sessionManager != null) {\r\n            try {\r\n                Session [] sessions = sessionManager.findSessions();\r\n                return SizeOf.deepSizeOf(sessions);\r\n            } catch(RuntimeException e) {\r\n                // Falied to get size of HttpSession object\r\n                e.printStackTrace();\r\n                return -2;\r\n            }\r\n        } else {\r\n            // SessionManager is not ready\r\n            return -1;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public long getNumberOfActiveHttpSession() {\r\n        return sessionManager.findSessions().length;\r\n    }\r\n}\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VCcue.png","title":"Measure memory consumption with all HttpSessions in Tomcat at an arbitrary point in time","body":"<p>According to the comment from @LMC, I made a sample project to get the size of HttpSession with JMX: <a href=\"https://github.com/satob/SessionSize\" rel=\"nofollow noreferrer\">https://github.com/satob/SessionSize</a></p>\n<p>Note that because you cannot access <code>org.apache.catalina.session.ManagerBase</code> directly, this project uses <a href=\"https://byteman.jboss.org/\" rel=\"nofollow noreferrer\">ByteMan</a>. Store the <code>ManagerBase</code> object to a static field of the MBean <code>SessionMonitor</code> with Byteman like:</p>\n<pre><code>RULE Set ManagerBase object to MBean\nCLASS ^org.apache.catalina.session.ManagerBase\nMETHOD initInternal\nAT EXIT\nIF TRUE\nDO\n    traceln(&quot;SETTING SessionManager&quot;);\n    com.example.sessionsize.SessionMonitor.setSessionManager($this);\nENDRULE\n</code></pre>\n<p>and use it in the JMX interface like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.sessionsize;\n\nimport org.apache.catalina.Manager;\nimport org.apache.catalina.Session;\n\nimport net.sourceforge.sizeof.SizeOf;\n\npublic class SessionMonitor implements SessionMonitorMBean {\n\n    private static Manager sessionManager = null;\n\n    public static void setSessionManager(Manager manager) {\n        sessionManager = manager;\n    }\n\n    @Override\n    public long getMemoryConsumption() {\n        if (sessionManager != null) {\n            try {\n                Session [] sessions = sessionManager.findSessions();\n                return SizeOf.deepSizeOf(sessions);\n            } catch(RuntimeException e) {\n                // Falied to get size of HttpSession object\n                e.printStackTrace();\n                return -2;\n            }\n        } else {\n            // SessionManager is not ready\n            return -1;\n        }\n    }\n\n    @Override\n    public long getNumberOfActiveHttpSession() {\n        return sessionManager.findSessions().length;\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/VCcue.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VCcue.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":4835964,"reputation":1710,"user_id":3902663,"accept_rate":78,"display_name":"SATO Yusuke"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":359,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72763030,"answer_count":1,"score":1,"last_activity_date":1656427543,"creation_date":1653929065,"question_id":72437618,"body_markdown":"I want to measure the percentage of memory used by `HttpSession` in a web application.\r\n\r\nIs there any way to measure memory consumption with all `HttpSession`s in a running Tomcat instance at an arbitrary point in time without modifying the application?\r\n\r\n## What I have tried\r\n\r\n- In Tomcat, the concrete class of `HttpSession` is `org.apache.catalina.session.StandardSession`. I have profiled the application with VisualVM and specified `org.apache.catalina.session.StandardSession` in `[Profiler]-[Memory settings]`. But it shows only the size of `StandardSession` itself (the size of `ConcurrentHashMap` contained in `StandardSession` is not included).\r\n- I have profiled the application with Flight Recorder and viewed the result with Mission Control. But I cannot find out which objects are referenced from `HttpSession`.\r\n- [You can list all HttpSession with `org.apache.catalina.session.ManagerBase#findSessions()` and measure the size of `HttpSession`s with Byteman and `SizeOf.deepSizeOf()`](https://developer.jboss.org/thread/165472). But this Byteman rule runs only when a new `HttpSession` is created. I want measure memory consumption with `HttpSession`s at an arbitrary point in time (e.g. in every 30 seconds).\r\n","title":"Measure memory consumption with all HttpSessions in Tomcat at an arbitrary point in time","body":"<p>I want to measure the percentage of memory used by <code>HttpSession</code> in a web application.</p>\n<p>Is there any way to measure memory consumption with all <code>HttpSession</code>s in a running Tomcat instance at an arbitrary point in time without modifying the application?</p>\n<h2>What I have tried</h2>\n<ul>\n<li>In Tomcat, the concrete class of <code>HttpSession</code> is <code>org.apache.catalina.session.StandardSession</code>. I have profiled the application with VisualVM and specified <code>org.apache.catalina.session.StandardSession</code> in <code>[Profiler]-[Memory settings]</code>. But it shows only the size of <code>StandardSession</code> itself (the size of <code>ConcurrentHashMap</code> contained in <code>StandardSession</code> is not included).</li>\n<li>I have profiled the application with Flight Recorder and viewed the result with Mission Control. But I cannot find out which objects are referenced from <code>HttpSession</code>.</li>\n<li><a href=\"https://developer.jboss.org/thread/165472\" rel=\"nofollow noreferrer\">You can list all HttpSession with <code>org.apache.catalina.session.ManagerBase#findSessions()</code> and measure the size of <code>HttpSession</code>s with Byteman and <code>SizeOf.deepSizeOf()</code></a>. But this Byteman rule runs only when a new <code>HttpSession</code> is created. I want measure memory consumption with <code>HttpSession</code>s at an arbitrary point in time (e.g. in every 30 seconds).</li>\n</ul>\n"},{"tags":["java","tree","parent-child"],"comments":[{"owner":{"account_id":25481526,"reputation":336,"user_id":19277782,"display_name":"CaptainPyscho"},"score":0,"creation_date":1656378312,"post_id":72779630,"comment_id":128552155,"body_markdown":"Do you want to find childrens just for printing their &quot;names&quot;? Do you need count them? It is not clear what you need.","body":"Do you want to find childrens just for printing their &quot;names&quot;? Do you need count them? It is not clear what you need."},{"owner":{"account_id":11730993,"reputation":816,"user_id":8586484,"accept_rate":40,"display_name":"Alexander Nenartovich"},"score":0,"creation_date":1656379339,"post_id":72779630,"comment_id":128552277,"body_markdown":"Not entirely sure what you want to do with these children. Put them in a List? Just print them? In either case, you can easily find all descendants of a given Node using recursion. It would help if you elaborated on what exactly you&#39;re trying to do.","body":"Not entirely sure what you want to do with these children. Put them in a List? Just print them? In either case, you can easily find all descendants of a given Node using recursion. It would help if you elaborated on what exactly you&#39;re trying to do."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1656379701,"post_id":72779630,"comment_id":128552321,"body_markdown":"There are many Java tutorials on the subject of trees.","body":"There are many Java tutorials on the subject of trees."}],"answers":[{"tags":[],"owner":{"account_id":19875789,"reputation":2650,"user_id":14645101,"display_name":"Aniketh Malyala"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656426370,"creation_date":1656380139,"answer_id":72779830,"question_id":72779630,"body_markdown":"Here is some sample code that could help (explanation below):\r\n\r\nMain class:\r\n\r\n    class Main {\r\n      public static void main(String[] args) {\r\n        Node v1 = new Node(1);\r\n        Node v2 = new Node(2);\r\n        Node v3 = new Node(3);\r\n        Node v4 = new Node(4);\r\n        Node v5 = new Node(5);\r\n        v1.addChild(v2);\r\n        v1.addChild(v3);\r\n        v2.addChild(v4);\r\n        v2.addChild(v5);\r\n        v1.printChildren();\r\n      }\r\n    }\r\n\r\nNode class:\r\n\r\n    import java.util.*;\r\n    class Node{\r\n      private int val;\r\n      private ArrayList&lt;Node&gt; children = new ArrayList&lt;Node&gt;();\r\n      public Node(int v){\r\n        val = v;\r\n      }\r\n      public void addChild (Node c){\r\n        children.add(c);\r\n      }\r\n      public void printChildren(){\r\n        if (children.size() != 0){\r\n          System.out.print(&quot;Children of Node &quot; + getValue() + &quot;: &quot;);\r\n          for(Node c: children){\r\n            System.out.print(&quot;Node &quot; + c.getValue() + &quot; &quot;);\r\n          }\r\n          System.out.println();\r\n          for(Node c: children){\r\n            c.printChildren();\r\n          }\r\n        }\r\n      }\r\n      public int getValue(){\r\n        return val;\r\n      }\r\n    }\r\n\r\nOutput:\r\n\r\n    Children of Node 1: Node 2 Node 3 \r\n    Children of Node 2: Node 4 Node 5 \r\n\r\nOk so in our node class, let&#39;s say each node will have an integer value, `val`. That is our first private instance variable. Second, each node will have a list of children nodes, `children`.\r\n\r\nWhen we first declare our nodes, they will have integer values, as shown in our constructor. \r\n\r\nAfter we define our nodes, we can add some nodes as children to other nodes (v2 and v3 are children to v1, and v4 and v5 are children to v2).\r\n\r\nNow we need to print them. We will use a recursive approach for this. If the node we are printing the children of has children (the length of our children ArrayList is nonzero), then we will first iterate through that list, and print out the children of our current node. Afterwards, we again iterate through each child and use the same method (recursion) to print out the children of that node.\r\n\r\nI hope this helped! Please let me know if you need any further help or clarification :)\r\n\r\nEDIT:\r\n\r\nAdded a `getName()` method:\r\n\r\n    public String getName(){\r\n       return &quot;Node&quot; + getValue();\r\n    }\r\n\r\nAdded the requested method:\r\n\r\n      public Node findChildNodeByValue(int v){\r\n        if(getValue() == v){\r\n          System.out.println(getName() + &quot; has the value&quot;);\r\n          return new Node(getValue());\r\n        }\r\n        else if (children.size() != 0){\r\n          for(Node c: children){\r\n            Node ret = c.findChildNodeByValue(v);\r\n            if(ret != null){\r\n              return ret;\r\n            }\r\n          }\r\n        }\r\n        return null;\r\n      }\r\n\r\nQuick Explanation: Very similar to the original method, we use a recursive approach to iterate through each nodes&#39; children: Once we reach a node with no more children, we return null. Once we reach the node with the given value, we return a copy of that node, which will be sent back to wherever the function was called.. \r\n\r\nAlso edited main method:\r\n\r\n    Node v1 = new Node(1);\r\n    Node v2 = new Node(2);\r\n    Node v3 = new Node(3);\r\n    Node v4 = new Node(4);\r\n    Node v5 = new Node(5);\r\n    v1.addChild(v2);\r\n    v1.addChild(v3);\r\n    v2.addChild(v4);\r\n    v2.addChild(v5);\r\n    // v1.printChildren();\r\n    Node valNode = v1.findChildNodeByValue(5);\r\n    System.out.println(valNode.getName());\r\n\r\nOutput:\r\n\r\n    Node5 has the value\r\n    Node5\r\n\r\nSECOND EDIT:\r\n\r\nChange the method to look like this:\r\n\r\n      public Node findNodeByName(String name){\r\n        if(getName().equals(name)){\r\n          Node t = new Node(getName(), getDescription());\r\n          return t;\r\n        }\r\n        else if (getChildren().size() != 0){\r\n          for(Node c: children){\r\n            Node ret = c.findNodeByName(name);\r\n            if(ret != null){\r\n              return ret;\r\n            }\r\n          }\r\n        }\r\n        return null;\r\n      }\r\n\r\nThe main method should look like this:\r\n\r\n    Node v1 = new Node(&quot;a&quot;,&quot;aa&quot;);\r\n    Node v2 = new Node(&quot;b&quot;,&quot;bb&quot;);\r\n    Node v3 = new Node(&quot;c&quot;,&quot;cc&quot;);\r\n    Node v4 = new Node(&quot;d&quot;,&quot;dd&quot;);\r\n    Node v5 = new Node(&quot;e&quot;,&quot;ee&quot;);\r\n    v1.addChildren(v2);\r\n    v1.addChildren(v3);\r\n    v2.addChildren(v4);\r\n    v2.addChildren(v5);\r\n\r\n    System.out.println(v1.findNodeByName(&quot;e&quot;));\r\n\r\nOutput:\r\n\r\n    Node &#39;e&#39; (description: ee)\r\n\r\n\r\n\r\nTHIRD EDIT:\r\n\r\nAdded a new method:\r\n\r\n    public void setChildren(ArrayList&lt;Node&gt; c){\r\n       children = c;\r\n    }\r\n\r\nEdited method:\r\n\r\n      public Node findNodeByName(String name){\r\n        if(getName().equals(name)){\r\n          Node t = new Node(getName(), getDescription());\r\n          t.setChildren(getChildren());\r\n          return t;\r\n        }\r\n        else if (getChildren().size() != 0){\r\n          for(Node c: children){\r\n            Node ret = c.findNodeByName(name);\r\n            if(ret != null){\r\n              return ret;\r\n            }\r\n          }\r\n        }\r\n        return null;\r\n      }\r\n\r\nMain Method:\r\n\r\n    Node v1 = new Node(&quot;a&quot;,&quot;aa&quot;);\r\n    Node v2 = new Node(&quot;b&quot;,&quot;bb&quot;);\r\n    Node v3 = new Node(&quot;c&quot;,&quot;cc&quot;);\r\n    Node v4 = new Node(&quot;d&quot;,&quot;dd&quot;);\r\n    Node v5 = new Node(&quot;e&quot;,&quot;ee&quot;);\r\n    Node v6 = new Node(&quot;f&quot;,&quot;ff&quot;);\r\n    v1.addChildren(v2);\r\n    v1.addChildren(v3);\r\n    v2.addChildren(v4);\r\n    v2.addChildren(v5);\r\n    v4.addChildren(v6);\r\n\r\n    Node vNew = v1.findNodeByName(&quot;d&quot;);\r\n    System.out.println(vNew);\r\n    System.out.println(vNew.getChildren());\r\n\r\nOutput:\r\n\r\n    Node &#39;d&#39; (description: dd)\r\n        Node &#39;f&#39; (description: ff)\r\n    \r\n    [Node &#39;f&#39; (description: ff)\r\n    ]","title":"Parent-Child Tree in Java","body":"<p>Here is some sample code that could help (explanation below):</p>\n<p>Main class:</p>\n<pre><code>class Main {\n  public static void main(String[] args) {\n    Node v1 = new Node(1);\n    Node v2 = new Node(2);\n    Node v3 = new Node(3);\n    Node v4 = new Node(4);\n    Node v5 = new Node(5);\n    v1.addChild(v2);\n    v1.addChild(v3);\n    v2.addChild(v4);\n    v2.addChild(v5);\n    v1.printChildren();\n  }\n}\n</code></pre>\n<p>Node class:</p>\n<pre><code>import java.util.*;\nclass Node{\n  private int val;\n  private ArrayList&lt;Node&gt; children = new ArrayList&lt;Node&gt;();\n  public Node(int v){\n    val = v;\n  }\n  public void addChild (Node c){\n    children.add(c);\n  }\n  public void printChildren(){\n    if (children.size() != 0){\n      System.out.print(&quot;Children of Node &quot; + getValue() + &quot;: &quot;);\n      for(Node c: children){\n        System.out.print(&quot;Node &quot; + c.getValue() + &quot; &quot;);\n      }\n      System.out.println();\n      for(Node c: children){\n        c.printChildren();\n      }\n    }\n  }\n  public int getValue(){\n    return val;\n  }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Children of Node 1: Node 2 Node 3 \nChildren of Node 2: Node 4 Node 5 \n</code></pre>\n<p>Ok so in our node class, let's say each node will have an integer value, <code>val</code>. That is our first private instance variable. Second, each node will have a list of children nodes, <code>children</code>.</p>\n<p>When we first declare our nodes, they will have integer values, as shown in our constructor.</p>\n<p>After we define our nodes, we can add some nodes as children to other nodes (v2 and v3 are children to v1, and v4 and v5 are children to v2).</p>\n<p>Now we need to print them. We will use a recursive approach for this. If the node we are printing the children of has children (the length of our children ArrayList is nonzero), then we will first iterate through that list, and print out the children of our current node. Afterwards, we again iterate through each child and use the same method (recursion) to print out the children of that node.</p>\n<p>I hope this helped! Please let me know if you need any further help or clarification :)</p>\n<p>EDIT:</p>\n<p>Added a <code>getName()</code> method:</p>\n<pre><code>public String getName(){\n   return &quot;Node&quot; + getValue();\n}\n</code></pre>\n<p>Added the requested method:</p>\n<pre><code>  public Node findChildNodeByValue(int v){\n    if(getValue() == v){\n      System.out.println(getName() + &quot; has the value&quot;);\n      return new Node(getValue());\n    }\n    else if (children.size() != 0){\n      for(Node c: children){\n        Node ret = c.findChildNodeByValue(v);\n        if(ret != null){\n          return ret;\n        }\n      }\n    }\n    return null;\n  }\n</code></pre>\n<p>Quick Explanation: Very similar to the original method, we use a recursive approach to iterate through each nodes' children: Once we reach a node with no more children, we return null. Once we reach the node with the given value, we return a copy of that node, which will be sent back to wherever the function was called..</p>\n<p>Also edited main method:</p>\n<pre><code>Node v1 = new Node(1);\nNode v2 = new Node(2);\nNode v3 = new Node(3);\nNode v4 = new Node(4);\nNode v5 = new Node(5);\nv1.addChild(v2);\nv1.addChild(v3);\nv2.addChild(v4);\nv2.addChild(v5);\n// v1.printChildren();\nNode valNode = v1.findChildNodeByValue(5);\nSystem.out.println(valNode.getName());\n</code></pre>\n<p>Output:</p>\n<pre><code>Node5 has the value\nNode5\n</code></pre>\n<p>SECOND EDIT:</p>\n<p>Change the method to look like this:</p>\n<pre><code>  public Node findNodeByName(String name){\n    if(getName().equals(name)){\n      Node t = new Node(getName(), getDescription());\n      return t;\n    }\n    else if (getChildren().size() != 0){\n      for(Node c: children){\n        Node ret = c.findNodeByName(name);\n        if(ret != null){\n          return ret;\n        }\n      }\n    }\n    return null;\n  }\n</code></pre>\n<p>The main method should look like this:</p>\n<pre><code>Node v1 = new Node(&quot;a&quot;,&quot;aa&quot;);\nNode v2 = new Node(&quot;b&quot;,&quot;bb&quot;);\nNode v3 = new Node(&quot;c&quot;,&quot;cc&quot;);\nNode v4 = new Node(&quot;d&quot;,&quot;dd&quot;);\nNode v5 = new Node(&quot;e&quot;,&quot;ee&quot;);\nv1.addChildren(v2);\nv1.addChildren(v3);\nv2.addChildren(v4);\nv2.addChildren(v5);\n\nSystem.out.println(v1.findNodeByName(&quot;e&quot;));\n</code></pre>\n<p>Output:</p>\n<pre><code>Node 'e' (description: ee)\n</code></pre>\n<p>THIRD EDIT:</p>\n<p>Added a new method:</p>\n<pre><code>public void setChildren(ArrayList&lt;Node&gt; c){\n   children = c;\n}\n</code></pre>\n<p>Edited method:</p>\n<pre><code>  public Node findNodeByName(String name){\n    if(getName().equals(name)){\n      Node t = new Node(getName(), getDescription());\n      t.setChildren(getChildren());\n      return t;\n    }\n    else if (getChildren().size() != 0){\n      for(Node c: children){\n        Node ret = c.findNodeByName(name);\n        if(ret != null){\n          return ret;\n        }\n      }\n    }\n    return null;\n  }\n</code></pre>\n<p>Main Method:</p>\n<pre><code>Node v1 = new Node(&quot;a&quot;,&quot;aa&quot;);\nNode v2 = new Node(&quot;b&quot;,&quot;bb&quot;);\nNode v3 = new Node(&quot;c&quot;,&quot;cc&quot;);\nNode v4 = new Node(&quot;d&quot;,&quot;dd&quot;);\nNode v5 = new Node(&quot;e&quot;,&quot;ee&quot;);\nNode v6 = new Node(&quot;f&quot;,&quot;ff&quot;);\nv1.addChildren(v2);\nv1.addChildren(v3);\nv2.addChildren(v4);\nv2.addChildren(v5);\nv4.addChildren(v6);\n\nNode vNew = v1.findNodeByName(&quot;d&quot;);\nSystem.out.println(vNew);\nSystem.out.println(vNew.getChildren());\n</code></pre>\n<p>Output:</p>\n<pre><code>Node 'd' (description: dd)\n    Node 'f' (description: ff)\n\n[Node 'f' (description: ff)\n]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4407008,"reputation":44,"user_id":3591105,"display_name":"faisal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656425343,"creation_date":1656380149,"answer_id":72779833,"question_id":72779630,"body_markdown":"As per your requirement, you are looking for all descendants / children-of-children of a particular node. Then breadth-first depth-search is fit more to this use case. There are already tons of discussions around these algorithms. For instance:\r\n\r\n[https://stackoverflow.com/questions/2505431/breadth-first-search-and-depth-first-search/2508261][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2505431/breadth-first-search-and-depth-first-search/2508261\r\n\r\nYou are already thinking in the right direction related to its DataStructure. One thing I would suggest use java generics so that it can support multiple data-type as needed.\r\n\r\n    class Node&lt;T&gt; {\r\n        \r\n        T value;\r\n        List&lt;T&gt; children;\r\n        \r\n        Node(T t) {\r\n            this.value = t;\r\n            children = new ArrayList&lt;T&gt;();\r\n        }\r\n        \r\n        void addChild(T child) {\r\n            children.add(child);\r\n        }\r\n    }","title":"Parent-Child Tree in Java","body":"<p>As per your requirement, you are looking for all descendants / children-of-children of a particular node. Then breadth-first depth-search is fit more to this use case. There are already tons of discussions around these algorithms. For instance:</p>\n<p><a href=\"https://stackoverflow.com/questions/2505431/breadth-first-search-and-depth-first-search/2508261\">Breadth First Search and Depth First Search</a></p>\n<p>You are already thinking in the right direction related to its DataStructure. One thing I would suggest use java generics so that it can support multiple data-type as needed.</p>\n<pre><code>class Node&lt;T&gt; {\n    \n    T value;\n    List&lt;T&gt; children;\n    \n    Node(T t) {\n        this.value = t;\n        children = new ArrayList&lt;T&gt;();\n    }\n    \n    void addChild(T child) {\n        children.add(child);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10192070,"reputation":2256,"user_id":7525132,"display_name":"Izruo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656410364,"creation_date":1656410364,"answer_id":72784399,"question_id":72779630,"body_markdown":"The return value of the recursive method call is dismissed.\r\n\r\nThe line\r\n\r\n    t.getChildren().forEach( node -&gt; findNodeByName(name, node));\r\n\r\ninduces the recursive invocation, but the return value is not used to form the return value of the enclosing method.\r\n\r\nInstead we need something like\r\n\r\n    for (Node node : t.getChildren()) {\r\n        Node result = findNodeByName(name, node);\r\n        if (null != result) {\r\n            return result;\r\n        }\r\n    }\r\n\r\nor with streams\r\n\r\n    return t.getChildren()\r\n        .map(node -&gt; findNodeByName(name, node))\r\n        .filter(Objects::nonNull)\r\n        .findAny();","title":"Parent-Child Tree in Java","body":"<p>The return value of the recursive method call is dismissed.</p>\n<p>The line</p>\n<pre><code>t.getChildren().forEach( node -&gt; findNodeByName(name, node));\n</code></pre>\n<p>induces the recursive invocation, but the return value is not used to form the return value of the enclosing method.</p>\n<p>Instead we need something like</p>\n<pre><code>for (Node node : t.getChildren()) {\n    Node result = findNodeByName(name, node);\n    if (null != result) {\n        return result;\n    }\n}\n</code></pre>\n<p>or with streams</p>\n<pre><code>return t.getChildren()\n    .map(node -&gt; findNodeByName(name, node))\n    .filter(Objects::nonNull)\n    .findAny();\n</code></pre>\n"}],"owner":{"account_id":15822782,"reputation":683,"user_id":11416654,"display_name":"Shark44"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1125,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72779830,"answer_count":3,"score":0,"last_activity_date":1656426974,"creation_date":1656377404,"question_id":72779630,"body_markdown":"I was trying to implement a class Node to build a tree of Nodes. Basically, each Node can have children, so if I specify multiple nodes I can build a tree out of it.\r\nAs an example:\r\n``` \r\nnode1 (the root) has node2 and node3 as children\r\nnode2 has node4 and node5 as children\r\n``` \r\nThe problem I am having problems to solve is to build this tree and find all children of a given element (in this case node1 would have 4 children, since it has node2 and node3 in the first place, and node2 has 2 children, so in total 4).\r\nDoes anyone have any suggestion?\r\n\r\nEDIT:\r\n```\r\npackage ex1;\r\n\r\nimport java.sql.Array;\r\nimport java.util.ArrayList;\r\nimport java.util.Collection;\r\nimport java.util.List;\r\n\r\npublic class Node {\r\n\r\n  private String name;\r\n  private String description;\r\n\r\n  private ArrayList&lt;Node&gt; children = new ArrayList&lt;&gt;();\r\n\r\n  Node(String name, String description){\r\n    this.name = name;\r\n    this.description = description;\r\n  }\r\n\r\n  private void setName(String name){\r\n    this.name = name;\r\n  }\r\n\r\n  private void setDescription(String description) {\r\n    this.description = description;\r\n  }\r\n\r\n  public void addChildren(Node child) {\r\n    this.children.add(child);\r\n  }\r\n\r\n  public String getName() {\r\n    return this.name;\r\n  }\r\n\r\n  public String getDescription() {\r\n    return this.description;\r\n  }\r\n\r\n  public boolean hasDescription() {\r\n    return !description.isEmpty();\r\n  }\r\n\r\n  public Collection&lt;Node&gt; getChildren() {\r\n    return this.children;\r\n  }\r\n\r\n  /*\r\n  public Node findNodeByName(String name, Node t) {\r\n    if (t.getName().equals(name))\r\n      return t;\r\n    t.getChildren().forEach(node -&gt; node.findNodeByName(name,node));\r\n    return null;\r\n  }*/\r\n\r\n  public Node findNodeByName(String name, Node t){\r\n    if(t.getName().equals(name)){\r\n      return t;\r\n    }\r\n    else if (t.getChildren().size() != 0){\r\n      for(Node c: children){\r\n        Node ret = c.findNodeByName(name,c);\r\n        if(ret != null){\r\n          return ret;\r\n        }\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n\r\n\r\n  // IMPORTANT: Don&#39;t change this method!\r\n  private String toString(int indentNo) {\r\n    String indent = &quot;\\t&quot;.repeat(indentNo);\r\n    StringBuffer b = new StringBuffer();\r\n    b.append(indent);\r\n    b.append(getClass().getSimpleName() + &quot; &#39;&quot; + getName() + &quot;&#39; &quot;);\r\n\r\n    if (hasDescription()) {\r\n      b.append(&quot;(description: &quot; + getDescription() + &quot;)&quot;);\r\n    }\r\n\r\n    b.append(&quot;\\n&quot;);\r\n\r\n    for (Node node : getChildren()) {\r\n      b.append(node.toString(indentNo + 1));\r\n    }\r\n\r\n    return b.toString();\r\n  }\r\n\r\n  @Override\r\n  public String toString() {\r\n    return toString(0);\r\n  }\r\n}\r\n\r\n```\r\nMethod where I make use of the class:\r\n```\r\nPath path = Path.of(pathname);\r\n\r\nString fileContent = null;\r\ntry {\r\n   fileContent = Files.readString(path);\r\n} catch (IOException e) {\r\n   throw new RuntimeException(e);\r\n}\r\nList&lt;String&gt; lines = new ArrayList&lt;&gt;(Arrays.asList(fileContent.split(&quot;\\n&quot;)));\r\nString[] firstLine = lines.get(0).split(&quot;,&quot;);\r\nNode parentNode = new Node(firstLine[0], firstLine[1]);\r\nlines.remove(0);\r\n\r\n/* This was just to test findNodeByName\r\nfor(String line: lines) {\r\n   String[] params = line.split(&quot;,&quot;);\r\n   System.out.println(params[2] + &quot;: &quot; + (parentNode.findNodeByName(params[2], parentNode) != null));\r\n}*/\r\n//Now we read all remaining data\r\n\r\nNode tmpNode;\r\nfor(String line: lines) {\r\n   String[] params = line.split(&quot;,&quot;);\r\n   if (parentNode.findNodeByName(params[2])==null || parentNode.findNodeByName(params[0])!=null) //if parent was not found or name already exists\r\n         throw new IOException();\r\n   tmpNode = parentNode.findNodeByName(params[2]);\r\n   tmpNode.addChildren(new Node(params[0],params[1]));\r\n}\r\n```\r\nCSV file I am getting the data from:\r\n```\r\nuni,&quot;This is my university folder&quot;,\r\nfirstyear,,uni\r\nsecondyear,,uni\r\nanalysis,&quot;folder for the analysis course&quot;,firstyear\r\nai,&quot;folder for the artificial intelligence course&quot;,secondyear\r\ndb,&quot;folder for the database course&quot;,firstyear\r\n```","title":"Parent-Child Tree in Java","body":"<p>I was trying to implement a class Node to build a tree of Nodes. Basically, each Node can have children, so if I specify multiple nodes I can build a tree out of it.\nAs an example:</p>\n<pre><code>node1 (the root) has node2 and node3 as children\nnode2 has node4 and node5 as children\n</code></pre>\n<p>The problem I am having problems to solve is to build this tree and find all children of a given element (in this case node1 would have 4 children, since it has node2 and node3 in the first place, and node2 has 2 children, so in total 4).\nDoes anyone have any suggestion?</p>\n<p>EDIT:</p>\n<pre><code>package ex1;\n\nimport java.sql.Array;\nimport java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.List;\n\npublic class Node {\n\n  private String name;\n  private String description;\n\n  private ArrayList&lt;Node&gt; children = new ArrayList&lt;&gt;();\n\n  Node(String name, String description){\n    this.name = name;\n    this.description = description;\n  }\n\n  private void setName(String name){\n    this.name = name;\n  }\n\n  private void setDescription(String description) {\n    this.description = description;\n  }\n\n  public void addChildren(Node child) {\n    this.children.add(child);\n  }\n\n  public String getName() {\n    return this.name;\n  }\n\n  public String getDescription() {\n    return this.description;\n  }\n\n  public boolean hasDescription() {\n    return !description.isEmpty();\n  }\n\n  public Collection&lt;Node&gt; getChildren() {\n    return this.children;\n  }\n\n  /*\n  public Node findNodeByName(String name, Node t) {\n    if (t.getName().equals(name))\n      return t;\n    t.getChildren().forEach(node -&gt; node.findNodeByName(name,node));\n    return null;\n  }*/\n\n  public Node findNodeByName(String name, Node t){\n    if(t.getName().equals(name)){\n      return t;\n    }\n    else if (t.getChildren().size() != 0){\n      for(Node c: children){\n        Node ret = c.findNodeByName(name,c);\n        if(ret != null){\n          return ret;\n        }\n      }\n    }\n    return null;\n  }\n\n\n\n  // IMPORTANT: Don't change this method!\n  private String toString(int indentNo) {\n    String indent = &quot;\\t&quot;.repeat(indentNo);\n    StringBuffer b = new StringBuffer();\n    b.append(indent);\n    b.append(getClass().getSimpleName() + &quot; '&quot; + getName() + &quot;' &quot;);\n\n    if (hasDescription()) {\n      b.append(&quot;(description: &quot; + getDescription() + &quot;)&quot;);\n    }\n\n    b.append(&quot;\\n&quot;);\n\n    for (Node node : getChildren()) {\n      b.append(node.toString(indentNo + 1));\n    }\n\n    return b.toString();\n  }\n\n  @Override\n  public String toString() {\n    return toString(0);\n  }\n}\n\n</code></pre>\n<p>Method where I make use of the class:</p>\n<pre><code>Path path = Path.of(pathname);\n\nString fileContent = null;\ntry {\n   fileContent = Files.readString(path);\n} catch (IOException e) {\n   throw new RuntimeException(e);\n}\nList&lt;String&gt; lines = new ArrayList&lt;&gt;(Arrays.asList(fileContent.split(&quot;\\n&quot;)));\nString[] firstLine = lines.get(0).split(&quot;,&quot;);\nNode parentNode = new Node(firstLine[0], firstLine[1]);\nlines.remove(0);\n\n/* This was just to test findNodeByName\nfor(String line: lines) {\n   String[] params = line.split(&quot;,&quot;);\n   System.out.println(params[2] + &quot;: &quot; + (parentNode.findNodeByName(params[2], parentNode) != null));\n}*/\n//Now we read all remaining data\n\nNode tmpNode;\nfor(String line: lines) {\n   String[] params = line.split(&quot;,&quot;);\n   if (parentNode.findNodeByName(params[2])==null || parentNode.findNodeByName(params[0])!=null) //if parent was not found or name already exists\n         throw new IOException();\n   tmpNode = parentNode.findNodeByName(params[2]);\n   tmpNode.addChildren(new Node(params[0],params[1]));\n}\n</code></pre>\n<p>CSV file I am getting the data from:</p>\n<pre><code>uni,&quot;This is my university folder&quot;,\nfirstyear,,uni\nsecondyear,,uni\nanalysis,&quot;folder for the analysis course&quot;,firstyear\nai,&quot;folder for the artificial intelligence course&quot;,secondyear\ndb,&quot;folder for the database course&quot;,firstyear\n</code></pre>\n"},{"tags":["java","httpsurlconnection"],"comments":[{"owner":{"account_id":2627218,"reputation":3201,"user_id":2273992,"accept_rate":89,"display_name":"Hariharan"},"score":1,"creation_date":1367483902,"post_id":16333497,"comment_id":23396397,"body_markdown":"The popup comes from the default authenticator. To remove the popup, you can plug in your own authenticator. Refer below link http://stackoverflow.com/questions/4883100/how-to-handle-http-authentication-using-httpurlconnection Thanks","body":"The popup comes from the default authenticator. To remove the popup, you can plug in your own authenticator. Refer below link <a href=\"http://stackoverflow.com/questions/4883100/how-to-handle-http-authentication-using-httpurlconnection\" title=\"how to handle http authentication using httpurlconnection\">stackoverflow.com/questions/4883100/&hellip;</a> Thanks"},{"owner":{"account_id":2714623,"reputation":3,"user_id":2342266,"display_name":"colin_huhu"},"score":0,"creation_date":1367849432,"post_id":16333497,"comment_id":23510520,"body_markdown":"Thanks Hariharan. After replace authenticator, it works, no window pops up.","body":"Thanks Hariharan. After replace authenticator, it works, no window pops up."}],"answers":[{"tags":[],"owner":{"account_id":2627218,"reputation":3201,"user_id":2273992,"accept_rate":89,"display_name":"Hariharan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656426638,"creation_date":1367900476,"answer_id":16411142,"question_id":16333497,"body_markdown":"The popup comes from the default authenticator. To remove the popup, you can plug in your own authenticator. \r\n\r\nRefer below link\r\n\r\nhttps://stackoverflow.com/questions/4883100/how-to-handle-http-authentication-using-httpurlconnection\r\n","title":"Eclipse plugin dev, how to stop HttpsURLConnection of poping up user/password window when I connect","body":"<p>The popup comes from the default authenticator. To remove the popup, you can plug in your own authenticator.</p>\n<p>Refer below link</p>\n<p><a href=\"https://stackoverflow.com/questions/4883100/how-to-handle-http-authentication-using-httpurlconnection\">How to handle HTTP authentication using HttpURLConnection?</a></p>\n"}],"owner":{"account_id":2714623,"reputation":3,"user_id":2342266,"display_name":"colin_huhu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":16411142,"answer_count":1,"score":0,"last_activity_date":1656426638,"creation_date":1367483269,"question_id":16333497,"body_markdown":"JDK IBM 1.6\r\nEclipse 3.6.2\r\n\r\nConnect to a server with following code. \r\n\r\n&gt; URL urlTemplate = new URL(uri); uc = (HttpURLConnection)\r\n&gt; urlTemplate.openConnection();\r\n\r\nwhen connecting with wrong credential, it will pop up a window to enter correct credential as input, how to stop it? it seems to be built-in action and unable to stop that build-in functionality.\r\n\r\nAnother issue is that, when i connected successfully to server once, it will store the credentials and subsequent tests will all be working even though with wrong user/password. How to clear the cache, so it can test new input user and password?","title":"Eclipse plugin dev, how to stop HttpsURLConnection of poping up user/password window when I connect","body":"<p>JDK IBM 1.6\nEclipse 3.6.2</p>\n\n<p>Connect to a server with following code. </p>\n\n<blockquote>\n  <p>URL urlTemplate = new URL(uri); uc = (HttpURLConnection)\n  urlTemplate.openConnection();</p>\n</blockquote>\n\n<p>when connecting with wrong credential, it will pop up a window to enter correct credential as input, how to stop it? it seems to be built-in action and unable to stop that build-in functionality.</p>\n\n<p>Another issue is that, when i connected successfully to server once, it will store the credentials and subsequent tests will all be working even though with wrong user/password. How to clear the cache, so it can test new input user and password?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":16447745,"reputation":7487,"user_id":11882002,"display_name":"username"},"score":2,"creation_date":1588780330,"post_id":61639502,"comment_id":109032548,"body_markdown":"Use a while loop. Keep looping until you have a valid input.","body":"Use a while loop. Keep looping until you have a valid input."},{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":3,"creation_date":1588780430,"post_id":61639502,"comment_id":109032603,"body_markdown":"If `parseInt` can&#39;t parse the entered string, it will raise an exception, which you could catch &amp; respond to.","body":"If <code>parseInt</code> can&#39;t parse the entered string, it will raise an exception, which you could catch &amp; respond to."}],"answers":[{"tags":[],"owner":{"account_id":3280644,"reputation":4811,"user_id":3582831,"display_name":"0xh3xa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1588780583,"creation_date":1588780583,"answer_id":61639626,"question_id":61639502,"body_markdown":"By using do-while asking the user to enter the input and use REGEX `[0-9]+` to see if the input consists of digits or not\r\n\r\n```\r\ndo{\r\n   String input = JOptionPane.showInputDialog(null,&quot;How many rounds do you want to play?&quot;);\r\n   if(!input.matches(&quot;[0-9]+&quot;) continue;\r\n   round = Integer.parseInt(input);\r\n   break;\r\n} while(true);\r\n\r\n```","title":"Validate input, and if input is invalid ask question again","body":"<p>By using do-while asking the user to enter the input and use REGEX <code>[0-9]+</code> to see if the input consists of digits or not</p>\n\n<pre><code>do{\n   String input = JOptionPane.showInputDialog(null,\"How many rounds do you want to play?\");\n   if(!input.matches(\"[0-9]+\") continue;\n   round = Integer.parseInt(input);\n   break;\n} while(true);\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":954558,"reputation":11903,"user_id":980097,"accept_rate":87,"display_name":"Popeye"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588787425,"creation_date":1588787425,"answer_id":61641837,"question_id":61639502,"body_markdown":"You could also use `recursion` to get what you are after. \r\n\r\nThe basic definition of `recursion` can be found [here][1].\r\n\r\n&gt; **Recursion** in **java** is a process in which a method calls itself continuously. A method in java that calls itself is called **recursive** method.\r\n\r\n    private int getNumberOfRounds() {\r\n        try {\r\n            return Integer.parseInt(JOptionPane.showInputDialog(null, &quot;How many rounds do you want to play?&quot;));\r\n        } catch (NumberFormatException e) {\r\n            JOptionPane.showMessageDialog(null, &quot;Invalid! Please enter a valid number.&quot;);\r\n            return getNumberOfRounds();\r\n        }\r\n    }\r\n\r\nWhat will happen here is we will keep calling the same method until we get a valid input from the user. This method is not perfect however as you will enter an infinite state until you either break from it.\r\n\r\n  [1]: https://www.javatpoint.com/recursion-in-java","title":"Validate input, and if input is invalid ask question again","body":"<p>You could also use <code>recursion</code> to get what you are after. </p>\n\n<p>The basic definition of <code>recursion</code> can be found <a href=\"https://www.javatpoint.com/recursion-in-java\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<blockquote>\n  <p><strong>Recursion</strong> in <strong>java</strong> is a process in which a method calls itself continuously. A method in java that calls itself is called <strong>recursive</strong> method.</p>\n</blockquote>\n\n<pre><code>private int getNumberOfRounds() {\n    try {\n        return Integer.parseInt(JOptionPane.showInputDialog(null, \"How many rounds do you want to play?\"));\n    } catch (NumberFormatException e) {\n        JOptionPane.showMessageDialog(null, \"Invalid! Please enter a valid number.\");\n        return getNumberOfRounds();\n    }\n}\n</code></pre>\n\n<p>What will happen here is we will keep calling the same method until we get a valid input from the user. This method is not perfect however as you will enter an infinite state until you either break from it.</p>\n"}],"owner":{"account_id":5379659,"reputation":19,"user_id":11328964,"display_name":"Andre MacNamara"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1588842891,"answer_count":2,"score":-3,"last_activity_date":1656426528,"creation_date":1588780243,"question_id":61639502,"body_markdown":"I&#39;m trying to check if user input is valid (an intgeger). If it&#39;s not valid, I want to ask the question again.\r\n\r\n    round = Integer.parseInt(JOptionPane.showInputDialog(null,&quot;How many rounds do you want to play?&quot;));//set rounds for the game\r\n\r\nWhat is the best way to check of the user has actually entered an integer. I want to show an erro message if they type a string, and then ask the question again\r\n\r\n","title":"Validate input, and if input is invalid ask question again","body":"<p>I'm trying to check if user input is valid (an intgeger). If it's not valid, I want to ask the question again.</p>\n<pre><code>round = Integer.parseInt(JOptionPane.showInputDialog(null,&quot;How many rounds do you want to play?&quot;));//set rounds for the game\n</code></pre>\n<p>What is the best way to check of the user has actually entered an integer. I want to show an erro message if they type a string, and then ask the question again</p>\n"},{"tags":["java","jms","activemq"],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1551140699,"creation_date":1551140699,"answer_id":54876764,"question_id":54872875,"body_markdown":"The underlying exception reported by the ActiveMQ JMS client implementation is a `java.io.EOFException`. [The documentation for this exception][1] states:\r\n\r\n&gt;Signals that an end of file or end of stream has been reached unexpectedly during input.\r\n&gt;\r\n&gt;This exception is mainly used by data input streams to signal end of stream. Note that many other input operations return a special value on end of stream rather than throwing an exception. \r\n\r\nTherefore it appears that the network connection between the client and server failed. The specific root cause for the failure cannot be determined by the information you have provided.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/io/EOFException.html","title":"Error: The JMS Connection has failed: java.io.EOFException","body":"<p>The underlying exception reported by the ActiveMQ JMS client implementation is a <code>java.io.EOFException</code>. <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/EOFException.html\" rel=\"nofollow noreferrer\">The documentation for this exception</a> states:</p>\n\n<blockquote>\n  <p>Signals that an end of file or end of stream has been reached unexpectedly during input.</p>\n  \n  <p>This exception is mainly used by data input streams to signal end of stream. Note that many other input operations return a special value on end of stream rather than throwing an exception. </p>\n</blockquote>\n\n<p>Therefore it appears that the network connection between the client and server failed. The specific root cause for the failure cannot be determined by the information you have provided.</p>\n"},{"tags":[],"owner":{"account_id":19923816,"reputation":99,"user_id":14599017,"display_name":"vishal rathod"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656426504,"creation_date":1656426504,"answer_id":72788319,"question_id":54872875,"body_markdown":"We have faced the same issue. Reason which we have found is that we were starting the **Publisher/Producer** before starting the **JMS Broker** . As we know after starting **JMS Broker** only **Publisher/Producer** is established the connection with **JSM Broker** .\r\n\r\nWe have take the following approach and problem is solved.\r\n\r\nSolution: Please first start **JMS Broker** then **Publisher/Producer** and then **Consumer**. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Gmy7T.png","title":"Error: The JMS Connection has failed: java.io.EOFException","body":"<p>We have faced the same issue. Reason which we have found is that we were starting the <strong>Publisher/Producer</strong> before starting the <strong>JMS Broker</strong> . As we know after starting <strong>JMS Broker</strong> only <strong>Publisher/Producer</strong> is established the connection with <strong>JSM Broker</strong> .</p>\n<p>We have take the following approach and problem is solved.</p>\n<p>Solution: Please first start <strong>JMS Broker</strong> then <strong>Publisher/Producer</strong> and then <strong>Consumer</strong>.</p>\n<p><a href=\"https://i.stack.imgur.com/Gmy7T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Gmy7T.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":15380871,"reputation":45,"user_id":11096332,"display_name":"Sandy Patel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6100,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1656426504,"creation_date":1551120725,"question_id":54872875,"body_markdown":"    org.apache.activemq.ConnectionFailedException: The JMS connection has failed: java.io.EOFException\r\n\tat org.apache.activemq.ActiveMQConnection.checkClosedOrFailed(ActiveMQConnection.java:1480)\r\n\tat org.apache.activemq.ActiveMQConnection.createSession(ActiveMQConnection.java:324)\r\n\r\nAny solution for this appreciated?","title":"Error: The JMS Connection has failed: java.io.EOFException","body":"<pre><code>org.apache.activemq.ConnectionFailedException: The JMS connection has failed: java.io.EOFException\nat org.apache.activemq.ActiveMQConnection.checkClosedOrFailed(ActiveMQConnection.java:1480)\nat org.apache.activemq.ActiveMQConnection.createSession(ActiveMQConnection.java:324)\n</code></pre>\n\n<p>Any solution for this appreciated?</p>\n"},{"tags":["java","maven","netbeans","maven-surefire-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1586544609,"post_id":61140209,"comment_id":108174677,"body_markdown":"Upgrade maven-surefire-plugin to most recent versions and also upgrade all the plugins you are using to most recent ones. I also recommend to upgrade jacoco to most recent versions (0.8.5?) ... Also run your build first from plain command line...","body":"Upgrade maven-surefire-plugin to most recent versions and also upgrade all the plugins you are using to most recent ones. I also recommend to upgrade jacoco to most recent versions (0.8.5?) ... Also run your build first from plain command line..."}],"answers":[{"tags":[],"owner":{"account_id":7474703,"reputation":2833,"user_id":5681468,"display_name":"Dmitry.M"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1586593842,"creation_date":1586593842,"answer_id":61154016,"question_id":61140209,"body_markdown":"Apparently, you are using JDK 14 as your dev and test environment. You can check it. Go to `Help -&gt; About -&gt; Java.` Integrated Maven and all plugins within Maven uses the JDK version that NetBeans using as an exec environment.\r\n\r\nJacoco added experimental support for JDK 14 only in 0.8.5 [version][1]:\r\n\r\n&gt;  - JaCoCo now officially supports Java 13\r\n&gt;  - Experimental support for **Java 14** class files (GitHub #897).\r\n&gt;  - Branches added by the Kotlin compiler for open functions with default arguments are filtered out during generation of report (GitHub #887).\r\n\r\nYou can change the plugin version to 0.8.5:\r\n\r\n    ...\r\n    &lt;groupId&gt;org.jacoco&lt;/groupId&gt; \r\n      &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt; \r\n    &lt;version&gt;0.8.5&lt;/version&gt;\r\n    ... \r\n\r\nThe 0.7.7 version supports JDK 8 or earlier versions. So, if you want to use the 0.7.7 version of the plugin you can use JDK 8. For setting JDK version for NetBeans please see the [question][2]. Also with JDK 8 you should change maven.compiler.source and maven.compiler.target to 1.8\r\n\r\n\r\n  [1]: https://github.com/jacoco/jacoco/releases/tag/v0.8.5\r\n  [2]: https://stackoverflow.com/q/6950960/5681468","title":"Error when executing tests in java maven jacoco: Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.12.4:test","body":"<p>Apparently, you are using JDK 14 as your dev and test environment. You can check it. Go to <code>Help -&gt; About -&gt; Java.</code> Integrated Maven and all plugins within Maven uses the JDK version that NetBeans using as an exec environment.</p>\n\n<p>Jacoco added experimental support for JDK 14 only in 0.8.5 <a href=\"https://github.com/jacoco/jacoco/releases/tag/v0.8.5\" rel=\"noreferrer\">version</a>:</p>\n\n<blockquote>\n  <ul>\n  <li>JaCoCo now officially supports Java 13</li>\n  <li>Experimental support for <strong>Java 14</strong> class files (GitHub #897).</li>\n  <li>Branches added by the Kotlin compiler for open functions with default arguments are filtered out during generation of report (GitHub #887).</li>\n  </ul>\n</blockquote>\n\n<p>You can change the plugin version to 0.8.5:</p>\n\n<pre><code>...\n&lt;groupId&gt;org.jacoco&lt;/groupId&gt; \n  &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt; \n&lt;version&gt;0.8.5&lt;/version&gt;\n... \n</code></pre>\n\n<p>The 0.7.7 version supports JDK 8 or earlier versions. So, if you want to use the 0.7.7 version of the plugin you can use JDK 8. For setting JDK version for NetBeans please see the <a href=\"https://stackoverflow.com/q/6950960/5681468\">question</a>. Also with JDK 8 you should change maven.compiler.source and maven.compiler.target to 1.8</p>\n"}],"owner":{"account_id":18241546,"reputation":101,"user_id":13278491,"display_name":"Rui Ribeiro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22759,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":1,"score":10,"last_activity_date":1656426380,"creation_date":1586521594,"question_id":61140209,"body_markdown":"Error when executing tests in java maven jacoco: Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.12.4:test\r\n\r\nGood Morning. I am carrying out a Maven project and I use NetBeans to write Java code. When I try to run a test file, I get this error:\r\n\r\n\r\n    cd C:\\Users\\ruimi\\Documents\\NetBeansProjects\\erro_testes_unitarios; &quot;JAVA_HOME=C:\\\\Program Files\\\\Java\\\\jdk-14&quot; cmd /c &quot;\\&quot;C:\\\\Program Files\\\\netbeans 11.3 tenativa 1000\\\\NetBeans-11.3\\\\netbeans\\\\java\\\\maven\\\\bin\\\\mvn.cmd\\&quot; -Dtest=com.mycompany.erro_testes_unitarios.NewMainTest -Dmaven.ext.class.path=\\&quot;C:\\\\Program Files\\\\netbeans 11.3 tenativa 1000\\\\NetBeans-11.3\\\\netbeans\\\\java\\\\maven-nblib\\\\netbeans-eventspy.jar\\&quot; -Dfile.encoding=UTF-8 test-compile surefire:test&quot;\r\n    Scanning for projects...\r\n                                                                        \r\n    ------------------------------------------------------------------------\r\n    Building erro_testes_unitarios 1.0-SNAPSHOT\r\n    ------------------------------------------------------------------------\r\n\r\n    --- jacoco-maven-plugin:0.7.7.201606060606:prepare-agent (default) @ erro_testes_unitarios ---\r\n    argLine set to -javaagent:C:\\\\Users\\\\ruimi\\\\.m2\\\\repository\\\\org\\\\jacoco\\\\org.jacoco.agent\\\\0.7.7.201606060606\\\\org.jacoco.agent-0.7.7.201606060606-runtime.jar=destfile=C:\\\\Users\\\\ruimi\\\\Documents\\\\NetBeansProjects\\\\erro_testes_unitarios\\\\target\\\\jacoco.exec\r\n    \r\n    --- maven-resources-plugin:2.6:resources (default-resources) @ erro_testes_unitarios ---\r\n    Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    skip non existing resourceDirectory C:\\Users\\ruimi\\Documents\\NetBeansProjects\\erro_testes_unitarios\\src\\main\\resources\r\n    \r\n    --- maven-compiler-plugin:3.1:compile (default-compile) @ erro_testes_unitarios ---\r\n    Nothing to compile - all classes are up to date\r\n    \r\n    --- maven-resources-plugin:2.6:testResources (default-testResources) @ erro_testes_unitarios ---\r\n    Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    skip non existing resourceDirectory C:\\Users\\ruimi\\Documents\\NetBeansProjects\\erro_testes_unitarios\\src\\test\\resources\r\n    \r\n    --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ erro_testes_unitarios ---\r\n    Nothing to compile - all classes are up to date\r\n    \r\n    --- maven-surefire-plugin:2.12.4:test (default-cli) @ erro_testes_unitarios ---\r\n    Surefire report directory: C:\\Users\\ruimi\\Documents\\NetBeansProjects\\erro_testes_unitarios\\target\\surefire-reports\r\n\r\n    -------------------------------------------------------\r\n     T E S T S\r\n    -------------------------------------------------------\r\n\r\n    Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n    \tat java.instrument/sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:513)\r\n    \tat java.instrument/sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:525)\r\n    Caused by: java.lang.RuntimeException: Class java/util/UUID could not be instrumented.\r\n    \tat org.jacoco.agent.rt.internal_6da5971.core.runtime.ModifiedSystemClassRuntime.createFor(ModifiedSystemClassRuntime.java:140)\r\n    \tat org.jacoco.agent.rt.internal_6da5971.core.runtime.ModifiedSystemClassRuntime.createFor(ModifiedSystemClassRuntime.java:101)\r\n    \tat org.jacoco.agent.rt.internal_6da5971.PreMain.createRuntime(PreMain.java:55)\r\n    \tat org.jacoco.agent.rt.internal_6da5971.PreMain.premain(PreMain.java:47)\r\n    \t... 6 more\r\n    Caused by: java.lang.NoSuchFieldException: $jacocoAccess\r\n    \tat java.base/java.lang.Class.getField(Class.java:2013)\r\n    \tat org.jacoco.agent.rt.internal_6da5971.core.runtime.ModifiedSystemClassRuntime.createFor(ModifiedSystemClassRuntime.java:138)\r\n    \t... 9 more\r\n    *** java.lang.instrument ASSERTION FAILED ***: &quot;result&quot; with message agent load/premain call failed at JPLISAgent.c line: 422\r\n    FATAL ERROR in native method: processing of -javaagent failed, processJavaStart failed\r\n    \r\n    Results :\r\n    \r\n    Tests run: 0, Failures: 0, Errors: 0, Skipped: 0\r\n\r\n    ------------------------------------------------------------------------\r\n    BUILD FAILURE\r\n    ------------------------------------------------------------------------\r\n\r\n    Total time: 2.899 s\r\n    Finished at: 2020-04-10T13:14:06+01:00\r\n    Final Memory: 11M/47M\r\n\r\n    ------------------------------------------------------------------------\r\n\r\n    Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.12.4:test (default-cli) on project erro_testes_unitarios: Execution default-cli of goal org.apache.maven.plugins:maven-surefire-plugin:2.12.4:test failed: The forked VM terminated without saying properly goodbye. VM crash or System.exit called ? -&gt; [Help 1]\r\n    \r\n    To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    Re-run Maven using the -X switch to enable full debug logging.\r\n    \r\n    For more information about the errors and possible solutions, please read the following articles:\r\n    [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginExecutionException\r\n\r\n\r\nHere is my pom.xml file: \r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\r\n    &lt;artifactId&gt;erro_testes_unitarios&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;5.5.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\r\n            &lt;version&gt;5.5.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;5.5.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;14&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;14&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt; \r\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt; \r\n                &lt;version&gt;0.7.7.201606060606&lt;/version&gt; \r\n                &lt;executions&gt;\r\n                    &lt;execution&gt; \r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt; \r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt; \r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;report&lt;/id&gt; \r\n                        &lt;phase&gt;prepare-package&lt;/phase&gt; \r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;report&lt;/goal&gt; \r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt; \r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt; \r\n           \r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nCan you help me with this?\r\nThank you all for your availability!","title":"Error when executing tests in java maven jacoco: Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.12.4:test","body":"<p>Error when executing tests in java maven jacoco: Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.12.4:test</p>\n\n<p>Good Morning. I am carrying out a Maven project and I use NetBeans to write Java code. When I try to run a test file, I get this error:</p>\n\n<pre><code>cd C:\\Users\\ruimi\\Documents\\NetBeansProjects\\erro_testes_unitarios; \"JAVA_HOME=C:\\\\Program Files\\\\Java\\\\jdk-14\" cmd /c \"\\\"C:\\\\Program Files\\\\netbeans 11.3 tenativa 1000\\\\NetBeans-11.3\\\\netbeans\\\\java\\\\maven\\\\bin\\\\mvn.cmd\\\" -Dtest=com.mycompany.erro_testes_unitarios.NewMainTest -Dmaven.ext.class.path=\\\"C:\\\\Program Files\\\\netbeans 11.3 tenativa 1000\\\\NetBeans-11.3\\\\netbeans\\\\java\\\\maven-nblib\\\\netbeans-eventspy.jar\\\" -Dfile.encoding=UTF-8 test-compile surefire:test\"\nScanning for projects...\n\n------------------------------------------------------------------------\nBuilding erro_testes_unitarios 1.0-SNAPSHOT\n------------------------------------------------------------------------\n\n--- jacoco-maven-plugin:0.7.7.201606060606:prepare-agent (default) @ erro_testes_unitarios ---\nargLine set to -javaagent:C:\\\\Users\\\\ruimi\\\\.m2\\\\repository\\\\org\\\\jacoco\\\\org.jacoco.agent\\\\0.7.7.201606060606\\\\org.jacoco.agent-0.7.7.201606060606-runtime.jar=destfile=C:\\\\Users\\\\ruimi\\\\Documents\\\\NetBeansProjects\\\\erro_testes_unitarios\\\\target\\\\jacoco.exec\n\n--- maven-resources-plugin:2.6:resources (default-resources) @ erro_testes_unitarios ---\nUsing 'UTF-8' encoding to copy filtered resources.\nskip non existing resourceDirectory C:\\Users\\ruimi\\Documents\\NetBeansProjects\\erro_testes_unitarios\\src\\main\\resources\n\n--- maven-compiler-plugin:3.1:compile (default-compile) @ erro_testes_unitarios ---\nNothing to compile - all classes are up to date\n\n--- maven-resources-plugin:2.6:testResources (default-testResources) @ erro_testes_unitarios ---\nUsing 'UTF-8' encoding to copy filtered resources.\nskip non existing resourceDirectory C:\\Users\\ruimi\\Documents\\NetBeansProjects\\erro_testes_unitarios\\src\\test\\resources\n\n--- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ erro_testes_unitarios ---\nNothing to compile - all classes are up to date\n\n--- maven-surefire-plugin:2.12.4:test (default-cli) @ erro_testes_unitarios ---\nSurefire report directory: C:\\Users\\ruimi\\Documents\\NetBeansProjects\\erro_testes_unitarios\\target\\surefire-reports\n\n-------------------------------------------------------\n T E S T S\n-------------------------------------------------------\n\nException in thread \"main\" java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n    at java.instrument/sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:513)\n    at java.instrument/sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:525)\nCaused by: java.lang.RuntimeException: Class java/util/UUID could not be instrumented.\n    at org.jacoco.agent.rt.internal_6da5971.core.runtime.ModifiedSystemClassRuntime.createFor(ModifiedSystemClassRuntime.java:140)\n    at org.jacoco.agent.rt.internal_6da5971.core.runtime.ModifiedSystemClassRuntime.createFor(ModifiedSystemClassRuntime.java:101)\n    at org.jacoco.agent.rt.internal_6da5971.PreMain.createRuntime(PreMain.java:55)\n    at org.jacoco.agent.rt.internal_6da5971.PreMain.premain(PreMain.java:47)\n    ... 6 more\nCaused by: java.lang.NoSuchFieldException: $jacocoAccess\n    at java.base/java.lang.Class.getField(Class.java:2013)\n    at org.jacoco.agent.rt.internal_6da5971.core.runtime.ModifiedSystemClassRuntime.createFor(ModifiedSystemClassRuntime.java:138)\n    ... 9 more\n*** java.lang.instrument ASSERTION FAILED ***: \"result\" with message agent load/premain call failed at JPLISAgent.c line: 422\nFATAL ERROR in native method: processing of -javaagent failed, processJavaStart failed\n\nResults :\n\nTests run: 0, Failures: 0, Errors: 0, Skipped: 0\n\n------------------------------------------------------------------------\nBUILD FAILURE\n------------------------------------------------------------------------\n\nTotal time: 2.899 s\nFinished at: 2020-04-10T13:14:06+01:00\nFinal Memory: 11M/47M\n\n------------------------------------------------------------------------\n\nFailed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.12.4:test (default-cli) on project erro_testes_unitarios: Execution default-cli of goal org.apache.maven.plugins:maven-surefire-plugin:2.12.4:test failed: The forked VM terminated without saying properly goodbye. VM crash or System.exit called ? -&gt; [Help 1]\n\nTo see the full stack trace of the errors, re-run Maven with the -e switch.\nRe-run Maven using the -X switch to enable full debug logging.\n\nFor more information about the errors and possible solutions, please read the following articles:\n[Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginExecutionException\n</code></pre>\n\n<p>Here is my pom.xml file: </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\n    &lt;artifactId&gt;erro_testes_unitarios&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;5.5.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\n            &lt;version&gt;5.5.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;5.5.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;14&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;14&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt; \n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt; \n                &lt;version&gt;0.7.7.201606060606&lt;/version&gt; \n                &lt;executions&gt;\n                    &lt;execution&gt; \n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt; \n                        &lt;/goals&gt;\n                    &lt;/execution&gt; \n                    &lt;execution&gt;\n                        &lt;id&gt;report&lt;/id&gt; \n                        &lt;phase&gt;prepare-package&lt;/phase&gt; \n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt; \n                        &lt;/goals&gt;\n                    &lt;/execution&gt; \n                &lt;/executions&gt;\n            &lt;/plugin&gt; \n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n\n</code></pre>\n\n<p>Can you help me with this?\nThank you all for your availability!</p>\n"},{"tags":["java","yaml","azure-web-app-service","microservices","azure-pipelines-yaml"],"comments":[{"owner":{"account_id":17280208,"reputation":1000,"user_id":12513926,"display_name":"Charlie V"},"score":0,"creation_date":1656052771,"post_id":72739887,"comment_id":128481953,"body_markdown":"So 10 microservices and 4 environments? Do you want 1 YAML file to include all services or do you want 1 YAML file per microservice? Can you share your file for 1 service, because the answer will depend on what you have to do for 1 deployment. For instance can the artefact created during the build step be deployed to all environments? Or do you have to rebuild for each environment?","body":"So 10 microservices and 4 environments? Do you want 1 YAML file to include all services or do you want 1 YAML file per microservice? Can you share your file for 1 service, because the answer will depend on what you have to do for 1 deployment. For instance can the artefact created during the build step be deployed to all environments? Or do you have to rebuild for each environment?"},{"owner":{"account_id":5532178,"reputation":13,"user_id":4391825,"accept_rate":20,"display_name":"sandy"},"score":0,"creation_date":1656060820,"post_id":72739887,"comment_id":128484466,"body_markdown":"@charlie V, yes Charlie, its 10 microservices and 4 environments . As of now, I have deployed these 10 microservices in Dev environment only(1 YAML file). Here, the artifact gets created during build step and then gets deployed to specific environment. Hence 1 YAML file should contain code to deploy to all the environments(Dev,Test,UAT,Prod).","body":"@charlie V, yes Charlie, its 10 microservices and 4 environments . As of now, I have deployed these 10 microservices in Dev environment only(1 YAML file). Here, the artifact gets created during build step and then gets deployed to specific environment. Hence 1 YAML file should contain code to deploy to all the environments(Dev,Test,UAT,Prod)."},{"owner":{"account_id":17280208,"reputation":1000,"user_id":12513926,"display_name":"Charlie V"},"score":0,"creation_date":1656060916,"post_id":72739887,"comment_id":128484498,"body_markdown":"And can you share what you have now?","body":"And can you share what you have now?"},{"owner":{"account_id":5532178,"reputation":13,"user_id":4391825,"accept_rate":20,"display_name":"sandy"},"score":0,"creation_date":1656065985,"post_id":72739887,"comment_id":128486302,"body_markdown":"@CharlieV - I have added the code in the description. CAn you please check.","body":"@CharlieV - I have added the code in the description. CAn you please check."},{"owner":{"account_id":5532178,"reputation":13,"user_id":4391825,"accept_rate":20,"display_name":"sandy"},"score":0,"creation_date":1656314627,"post_id":72739887,"comment_id":128532075,"body_markdown":"@CharlieV - Can you please update on the above request.","body":"@CharlieV - Can you please update on the above request."}],"owner":{"account_id":5532178,"reputation":13,"user_id":4391825,"accept_rate":20,"display_name":"sandy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656425612,"creation_date":1656052492,"question_id":72739887,"body_markdown":"``I have a requirement that I need to deploy Java app to the 10 app services in Azure App services, for this we have 10 different repositories for each microservices. \r\nCurrently I have deployed to dev environment using YAML pipeline and now my requirement is to deploy to test, UAT and prod environment using the same YAML pipeline. \r\nPlease suggest me how to parameterized the YAML, so that i am able to deploy using the same YAML file to all the environment.\r\n\r\nReference link: I follow the below link and implemented same in my YAML, but this didn&#39;t worked\r\nhttps://learn.microsoft.com/en-us/azure/devops/pipelines/process/stages?view=azure-devops&amp;tabs=yaml\r\n\r\nYAML code:\r\n\r\n parameters:\r\n\r\n- name: targetAppService\r\n\r\n  displayName: Target App Service\r\n\r\n  type: string\r\n\r\n  default: none\r\n\r\n  values:\r\n\r\n  - none\r\n\r\n  - AppService1\r\n\r\n  - AppService2\r\n\r\n  - AppService3\r\n\r\n  - AppService4\r\n\r\n  - AppService5\r\n\r\n  - AppService6\r\n\r\n  - AppService7\r\n\r\n\r\n\r\npool: $(agentpool)\r\ntrigger: none\r\nvariables:\r\n\r\n - ${{ if and(eq(variables[&#39;Build.Reason&#39;],&#39;Manual&#39;), eq(parameters[&#39;targetAppService&#39;], &#39;AppService1&#39;)) }}:\r\n\r\n - template: /app-services/vars/AppService1-variables.yml\r\n\r\n - ${{ if and(eq(variables[&#39;Build.Reason&#39;],&#39;Manual&#39;), eq(parameters[&#39;targetAppService&#39;], &#39;AppService2&#39;)) }}:\r\n\r\n - template: /app-services/vars/AppService2-variables.yml\r\n\r\n - ${{ if and(eq(variables[&#39;Build.Reason&#39;],&#39;Manual&#39;), eq(parameters[&#39;targetAppService&#39;], &#39;AppService3&#39;)) }}:\r\n\r\n - template: /app-services/vars/AppService3-variables.yml\r\n\r\n - ${{ if and(eq(variables[&#39;Build.Reason&#39;],&#39;Manual&#39;), eq(parameters[&#39;targetAppService&#39;], &#39;AppService4&#39;)) }}:\r\n\r\n - template: /app-services/vars/AppService4-variables.yml\r\n\r\n - ${{ if and(eq(variables[&#39;Build.Reason&#39;],&#39;Manual&#39;), eq(parameters[&#39;targetAppService&#39;], &#39;AppService5&#39;)) }}:\r\n\r\n - template: /app-services/vars/AppService5-variables.yml\r\n\r\n - ${{ if and(eq(variables[&#39;Build.Reason&#39;],&#39;Manual&#39;), eq(parameters[&#39;targetAppService&#39;], &#39;AppService6&#39;)) }}:\r\n\r\n - template: /app-services/vars/AppService6-variables.yml\r\n\r\n - ${{ if and(eq(variables[&#39;Build.Reason&#39;],&#39;Manual&#39;), eq(parameters[&#39;targetAppService&#39;], &#39;AppService7&#39;)) }}:\r\n\r\n - template: /app-services/vars/AppService7-variables.yml\r\n\r\n - ${{if and(eq(variables[&#39;Build.Reason&#39;],&#39;Manual&#39;), eq( parameters[&#39;targetAppService&#39;], &#39;none&#39; )) }}:\r\n\r\n - group: none\r\nresources:\r\n&#160;&#160;repositories:\r\n&#160;&#160;-&#160;repository:&#160;repo1\r\n&#160;&#160;&#160;&#160;type:&#160;git\r\n&#160;&#160;&#160;&#160;name:&#160;Project/repo1\r\n&#160;&#160;-&#160;repository:&#160;repo2\r\n&#160;&#160;&#160;&#160;type:&#160;git\r\n&#160;&#160;&#160;&#160;name:&#160;Project/repo2\r\n&#160;&#160;-&#160;repository:&#160;repo3\r\n&#160;&#160;&#160;&#160;type:&#160;git\r\n&#160;&#160;&#160;&#160;name:&#160;Project/repo3\r\n&#160;&#160;-&#160;repository:&#160;repo4\r\n&#160;&#160;&#160;&#160;type:&#160;git\r\n&#160;&#160;&#160;&#160;name:&#160;Project/repo4\r\n&#160;&#160;-&#160;repository:&#160;repo5\r\n&#160;&#160;&#160;&#160;type:&#160;git\r\n&#160;&#160;&#160;&#160;name:&#160;Project/repo5\r\n&#160;&#160;-&#160;repository:&#160;repo6\r\n&#160;&#160;&#160;&#160;type:&#160;git\r\n&#160;&#160;&#160;&#160;name:&#160;Project/repo6\r\n&#160;&#160;-&#160;repository:&#160;repo7\r\n&#160;&#160;&#160;&#160;type:&#160;git\r\n&#160;&#160;&#160;&#160;name:&#160;Project/repo7\r\n\r\n&#160;-&#160;repository:&#160;templates\r\n&#160;&#160;&#160;&#160;type:&#160;git\r\n&#160;&#160;&#160;&#160;name:&#160;Project/pipeline_code_repo\r\n&#160;&#160;&#160;&#160;ref:&#160;master\r\n\r\nstages:\r\n-&#160;stage:&#160;Build\r\n&#160;&#160;displayName:&#160;&quot;Build&#160;Java&#160;App&quot;\r\n&#160;&#160;jobs:\r\n&#160;&#160;-&#160;template:&#160;app-services/templates/build-template.yml@templates\r\n&#160;&#160;&#160;&#160;parameters:\r\n&#160;&#160;&#160;&#160;&#160;&#160;Repository:&#160;&#39;$(repository)@$(Buildbranch)&#39;\r\n\r\n-&#160;stage:&#160;Deploy\r\n&#160;&#160;displayName:&#160;&quot;Deploy&#160;&#160;Java&#160;App&quot;\r\n&#160;&#160;dependsOn:&#160;Build\r\n&#160;&#160;jobs:\r\n&#160;&#160;-&#160;template:&#160;app-services/templates/deploy-template.yml@templates\r\n&#160;&#160;&#160;&#160;parameters:\r\n&#160;&#160;&#160;&#160;&#160;&#160;environment:&#160;$(environment)\r\n&#160;&#160;&#160;&#160;&#160;&#160;serviceconnection:&#160;$(serviceconnection)\r\n&#160;&#160;&#160;&#160;&#160;&#160;agentpool:&#160;$(agentpool)\r\n&#160;&#160;&#160;&#160;&#160;&#160;resourceGroup:&#160;$(resourceGroup)\r\n\r\n","title":"How to deploy the code in multiple stage in Azure App services using YAML?","body":"<p>``I have a requirement that I need to deploy Java app to the 10 app services in Azure App services, for this we have 10 different repositories for each microservices.\nCurrently I have deployed to dev environment using YAML pipeline and now my requirement is to deploy to test, UAT and prod environment using the same YAML pipeline.\nPlease suggest me how to parameterized the YAML, so that i am able to deploy using the same YAML file to all the environment.</p>\n<p>Reference link: I follow the below link and implemented same in my YAML, but this didn't worked\n<a href=\"https://learn.microsoft.com/en-us/azure/devops/pipelines/process/stages?view=azure-devops&amp;tabs=yaml\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/devops/pipelines/process/stages?view=azure-devops&amp;tabs=yaml</a></p>\n<p>YAML code:</p>\n<p>parameters:</p>\n<ul>\n<li><p>name: targetAppService</p>\n<p>displayName: Target App Service</p>\n<p>type: string</p>\n<p>default: none</p>\n<p>values:</p>\n<ul>\n<li><p>none</p>\n</li>\n<li><p>AppService1</p>\n</li>\n<li><p>AppService2</p>\n</li>\n<li><p>AppService3</p>\n</li>\n<li><p>AppService4</p>\n</li>\n<li><p>AppService5</p>\n</li>\n<li><p>AppService6</p>\n</li>\n<li><p>AppService7</p>\n</li>\n</ul>\n</li>\n</ul>\n<p>pool: $(agentpool)\ntrigger: none\nvariables:</p>\n<ul>\n<li><p>${{ if and(eq(variables['Build.Reason'],'Manual'), eq(parameters['targetAppService'], 'AppService1')) }}:</p>\n</li>\n<li><p>template: /app-services/vars/AppService1-variables.yml</p>\n</li>\n<li><p>${{ if and(eq(variables['Build.Reason'],'Manual'), eq(parameters['targetAppService'], 'AppService2')) }}:</p>\n</li>\n<li><p>template: /app-services/vars/AppService2-variables.yml</p>\n</li>\n<li><p>${{ if and(eq(variables['Build.Reason'],'Manual'), eq(parameters['targetAppService'], 'AppService3')) }}:</p>\n</li>\n<li><p>template: /app-services/vars/AppService3-variables.yml</p>\n</li>\n<li><p>${{ if and(eq(variables['Build.Reason'],'Manual'), eq(parameters['targetAppService'], 'AppService4')) }}:</p>\n</li>\n<li><p>template: /app-services/vars/AppService4-variables.yml</p>\n</li>\n<li><p>${{ if and(eq(variables['Build.Reason'],'Manual'), eq(parameters['targetAppService'], 'AppService5')) }}:</p>\n</li>\n<li><p>template: /app-services/vars/AppService5-variables.yml</p>\n</li>\n<li><p>${{ if and(eq(variables['Build.Reason'],'Manual'), eq(parameters['targetAppService'], 'AppService6')) }}:</p>\n</li>\n<li><p>template: /app-services/vars/AppService6-variables.yml</p>\n</li>\n<li><p>${{ if and(eq(variables['Build.Reason'],'Manual'), eq(parameters['targetAppService'], 'AppService7')) }}:</p>\n</li>\n<li><p>template: /app-services/vars/AppService7-variables.yml</p>\n</li>\n<li><p>${{if and(eq(variables['Build.Reason'],'Manual'), eq( parameters['targetAppService'], 'none' )) }}:</p>\n</li>\n<li><p>group: none\nresources:\n  repositories:\n  - repository: repo1\n    type: git\n    name: Project/repo1\n  - repository: repo2\n    type: git\n    name: Project/repo2\n  - repository: repo3\n    type: git\n    name: Project/repo3\n  - repository: repo4\n    type: git\n    name: Project/repo4\n  - repository: repo5\n    type: git\n    name: Project/repo5\n  - repository: repo6\n    type: git\n    name: Project/repo6\n  - repository: repo7\n    type: git\n    name: Project/repo7</p>\n</li>\n</ul>\n<p> - repository: templates\n    type: git\n    name: Project/pipeline_code_repo\n    ref: master</p>\n<p>stages:\n- stage: Build\n  displayName: &quot;Build Java App&quot;\n  jobs:\n  - template: app-services/templates/build-template.yml@templates\n    parameters:\n      Repository: '$(repository)@$(Buildbranch)'</p>\n<p>- stage: Deploy\n  displayName: &quot;Deploy  Java App&quot;\n  dependsOn: Build\n  jobs:\n  - template: app-services/templates/deploy-template.yml@templates\n    parameters:\n      environment: $(environment)\n      serviceconnection: $(serviceconnection)\n      agentpool: $(agentpool)\n      resourceGroup: $(resourceGroup)</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":81168,"reputation":234336,"user_id":229044,"accept_rate":83,"display_name":"user229044"},"score":0,"creation_date":1656425402,"post_id":72787967,"comment_id":128565800,"body_markdown":"That&#39;s not what regex is for, so you probably shouldn&#39;t try to use it that way. Your regex also contains several `.*`&#39;s which can produce an infinite amount of any kind of text, so it&#39;s not clear how you expect to generate strings to match this. The whole regular expression is very suspect, it certainly will not produce strong passwords, unless you hide a strong password in one of the `.*`&#39;s.","body":"That&#39;s not what regex is for, so you probably shouldn&#39;t try to use it that way. Your regex also contains several <code>.*</code>&#39;s which can produce an infinite amount of any kind of text, so it&#39;s not clear how you expect to generate strings to match this. The whole regular expression is very suspect, it certainly will not produce strong passwords, unless you hide a strong password in one of the <code>.*</code>&#39;s."},{"owner":{"account_id":9300426,"reputation":29,"user_id":6906082,"display_name":"srinivas vishnu"},"score":0,"creation_date":1656426159,"post_id":72787967,"comment_id":128566101,"body_markdown":"Well, I understand you point. However, I can have a length restriction. will that help ? The length restriction can be like ....anything between 7 to 12 chars for example","body":"Well, I understand you point. However, I can have a length restriction. will that help ? The length restriction can be like ....anything between 7 to 12 chars for example"},{"owner":{"account_id":81168,"reputation":234336,"user_id":229044,"accept_rate":83,"display_name":"user229044"},"score":0,"creation_date":1656426317,"post_id":72787967,"comment_id":128566164,"body_markdown":"You&#39;re still misusing regex for something it&#39;s not for.","body":"You&#39;re still misusing regex for something it&#39;s not for."}],"owner":{"account_id":9300426,"reputation":29,"user_id":6906082,"display_name":"srinivas vishnu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1656425350,"answer_count":0,"score":0,"last_activity_date":1656425526,"creation_date":1656425221,"question_id":72787967,"body_markdown":"I am looking to write a code to generate password using an input regex. I know we can validate a password against a regex but can we reverse engineer it and create a password ?\r\n\r\nFor example, if the regex is `^.*(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[@!#$%^&amp;*()+=]).*$` can we write a code in java to generate a random password that meets the requirement ? It should work for any regex.\r\n\r\nRight now I have a very simple one. But I want to improve this\r\n\r\n        // Method to generate a random alphanumeric password of a specific length\r\n    private static String generateRandomPassword(int len) {\r\n        // ASCII range – alphanumeric (0-9, a-z, A-Z)\r\n        final String chars = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789&quot;;\r\n        SecureRandom random = new SecureRandom();\r\n        return IntStream.range(0, len)\r\n                .map(i -&gt; random.nextInt(chars.length()))\r\n                .mapToObj(randomIndex -&gt; String.valueOf(chars.charAt(randomIndex)))\r\n                .collect(Collectors.joining());\r\n    }","title":"Creating a strong password based on a input regex","body":"<p>I am looking to write a code to generate password using an input regex. I know we can validate a password against a regex but can we reverse engineer it and create a password ?</p>\n<p>For example, if the regex is <code>^.*(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[@!#$%^&amp;*()+=]).*$</code> can we write a code in java to generate a random password that meets the requirement ? It should work for any regex.</p>\n<p>Right now I have a very simple one. But I want to improve this</p>\n<pre><code>    // Method to generate a random alphanumeric password of a specific length\nprivate static String generateRandomPassword(int len) {\n    // ASCII range – alphanumeric (0-9, a-z, A-Z)\n    final String chars = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789&quot;;\n    SecureRandom random = new SecureRandom();\n    return IntStream.range(0, len)\n            .map(i -&gt; random.nextInt(chars.length()))\n            .mapToObj(randomIndex -&gt; String.valueOf(chars.charAt(randomIndex)))\n            .collect(Collectors.joining());\n}\n</code></pre>\n"},{"tags":["java","android","logcat","android-bundle"],"answers":[{"tags":[],"owner":{"account_id":2032092,"reputation":36381,"user_id":1815485,"display_name":"A--C"},"down_vote_count":0,"up_vote_count":134,"is_accepted":true,"score":134,"last_activity_date":1361249027,"creation_date":1361240122,"answer_id":14948713,"question_id":14948697,"body_markdown":"[Bundle#keySet()][1] should work.\r\n\r\n\r\n    for (String key: bundle.keySet())\r\n    {\r\n      Log.d (&quot;myApplication&quot;, key + &quot; is a key in the bundle&quot;);\r\n    }\r\n\r\nAnd if you want to get the Object, you can use [`Bundle#get(String key)`(which is also in the same documentation I linked at the top of my answer)][2]. However, keep in mind using the generic `get()` call:\r\n\r\n - You&#39;re working with Object. If you&#39;re simply printing to a Log, `toString()` will be invoked and all will be fine. However, if you actually want to use the key&#39;s pair, you need to do `instanceof` checks to avoid calling the wrong method.\r\n - Since toString will be invoked, if you have a special Object (eg ArrayLists, or special Serializable/Parcelable extras) you&#39;re most likely not going to get anything useful from the printout.\r\n\r\n  [1]: http://developer.android.com/reference/android/os/Bundle.html#keySet%28%29\r\n  [2]: http://developer.android.com/reference/android/os/Bundle.html#get%28java.lang.String%29","title":"Print the contents of a Bundle to Logcat?","body":"<p><a href=\"http://developer.android.com/reference/android/os/Bundle.html#keySet%28%29\" rel=\"noreferrer\">Bundle#keySet()</a> should work.</p>\n\n<pre><code>for (String key: bundle.keySet())\n{\n  Log.d (\"myApplication\", key + \" is a key in the bundle\");\n}\n</code></pre>\n\n<p>And if you want to get the Object, you can use <a href=\"http://developer.android.com/reference/android/os/Bundle.html#get%28java.lang.String%29\" rel=\"noreferrer\"><code>Bundle#get(String key)</code>(which is also in the same documentation I linked at the top of my answer)</a>. However, keep in mind using the generic <code>get()</code> call:</p>\n\n<ul>\n<li>You're working with Object. If you're simply printing to a Log, <code>toString()</code> will be invoked and all will be fine. However, if you actually want to use the key's pair, you need to do <code>instanceof</code> checks to avoid calling the wrong method.</li>\n<li>Since toString will be invoked, if you have a special Object (eg ArrayLists, or special Serializable/Parcelable extras) you're most likely not going to get anything useful from the printout.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":398410,"reputation":36002,"user_id":763080,"accept_rate":74,"display_name":"Phil"},"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1361248634,"creation_date":1361248634,"answer_id":14949937,"question_id":14948697,"body_markdown":"You can get more specific by printing the mapped value as follows:\r\n\r\n    for (String key : bundle.keySet())\r\n    {\r\n        Log.d(&quot;Bundle Debug&quot;, key + &quot; = \\&quot;&quot; + bundle.get(key) + &quot;\\&quot;&quot;);\r\n    }","title":"Print the contents of a Bundle to Logcat?","body":"<p>You can get more specific by printing the mapped value as follows:</p>\n\n<pre><code>for (String key : bundle.keySet())\n{\n    Log.d(\"Bundle Debug\", key + \" = \\\"\" + bundle.get(key) + \"\\\"\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":558770,"reputation":16438,"user_id":755804,"accept_rate":20,"display_name":"18446744073709551615"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1444809558,"creation_date":1384947155,"answer_id":20094785,"question_id":14948697,"body_markdown":"Bundle-to-string converter:\r\n\r\n    public static String bundle2string(Bundle bundle) {\r\n\t\tif (bundle == null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n    \tString string = &quot;Bundle{&quot;;\r\n    \tfor (String key : bundle.keySet()) {\r\n    \t    string += &quot; &quot; + key + &quot; =&gt; &quot; + bundle.get(key) + &quot;;&quot;;\r\n    \t}\r\n    \tstring += &quot; }Bundle&quot;;\r\n    \treturn string;\r\n    }\r\n\r\nExample usage:\r\n\r\n    Log.d(TAG,&quot;details=&quot;+bundle2string(details));\r\n\r\nand output:\r\n\r\n    details=Bundle{ RESPONSE_CODE =&gt; 5; }Bundle\r\n\r\nNote that the arrows `=&gt;` and semicolons `;` let you mention spaces in the keys and values. One space before the arrow, one space after the arrow, no space before the semi-colon, one space after the semi-colon, one space after `{` and one space before `}`, and all other spaces are there because they are in the keys or values.","title":"Print the contents of a Bundle to Logcat?","body":"<p>Bundle-to-string converter:</p>\n\n<pre><code>public static String bundle2string(Bundle bundle) {\n    if (bundle == null) {\n        return null;\n    }\n    String string = \"Bundle{\";\n    for (String key : bundle.keySet()) {\n        string += \" \" + key + \" =&gt; \" + bundle.get(key) + \";\";\n    }\n    string += \" }Bundle\";\n    return string;\n}\n</code></pre>\n\n<p>Example usage:</p>\n\n<pre><code>Log.d(TAG,\"details=\"+bundle2string(details));\n</code></pre>\n\n<p>and output:</p>\n\n<pre><code>details=Bundle{ RESPONSE_CODE =&gt; 5; }Bundle\n</code></pre>\n\n<p>Note that the arrows <code>=&gt;</code> and semicolons <code>;</code> let you mention spaces in the keys and values. One space before the arrow, one space after the arrow, no space before the semi-colon, one space after the semi-colon, one space after <code>{</code> and one space before <code>}</code>, and all other spaces are there because they are in the keys or values.</p>\n"},{"tags":[],"owner":{"account_id":2254503,"reputation":707,"user_id":1985975,"display_name":"Karthik Rk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1522120309,"creation_date":1522120309,"answer_id":49503790,"question_id":14948697,"body_markdown":"I have developed a library called `pretty-print` which annotation processor that prints the contents of the bundle in a nice table format.\r\nDo check it out\r\nhttps://github.com/NULLPointerGuy/pretty-print","title":"Print the contents of a Bundle to Logcat?","body":"<p>I have developed a library called <code>pretty-print</code> which annotation processor that prints the contents of the bundle in a nice table format.\nDo check it out\n<a href=\"https://github.com/NULLPointerGuy/pretty-print\" rel=\"nofollow noreferrer\">https://github.com/NULLPointerGuy/pretty-print</a></p>\n"},{"tags":[],"owner":{"account_id":1376418,"reputation":12080,"user_id":1310343,"accept_rate":83,"display_name":"Frank"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1617034388,"creation_date":1527078887,"answer_id":50488574,"question_id":14948697,"body_markdown":"In Kotlin, recursive for when it contains child bundles:\r\n\r\n    /**\r\n     * Recursively logs the contents of a [Bundle] for debugging.\r\n     */\r\n    fun Bundle.printDebugLog(parentKey: String = &quot;&quot;) {\r\n        if (keySet().isEmpty()) {\r\n            Log.d(&quot;printDebugLog&quot;, &quot;$parentKey is empty&quot;)\r\n        } else {\r\n            for (key in keySet()) {\r\n            when (val value = this[key]) {\r\n                    is Bundle -&gt; value.printDebugLog(key)\r\n                    is Array&lt;*&gt; -&gt; Log.d(&quot;printDebugLog&quot;, &quot;$parentKey.$key : ${value.joinToString()}&quot;)\r\n                    else -&gt; Log.d(&quot;printDebugLog&quot;, &quot;$parentKey.$key : $value&quot;)\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nUsage: `myBundle.printDebugLog()`","title":"Print the contents of a Bundle to Logcat?","body":"<p>In Kotlin, recursive for when it contains child bundles:</p>\n<pre><code>/**\n * Recursively logs the contents of a [Bundle] for debugging.\n */\nfun Bundle.printDebugLog(parentKey: String = &quot;&quot;) {\n    if (keySet().isEmpty()) {\n        Log.d(&quot;printDebugLog&quot;, &quot;$parentKey is empty&quot;)\n    } else {\n        for (key in keySet()) {\n        when (val value = this[key]) {\n                is Bundle -&gt; value.printDebugLog(key)\n                is Array&lt;*&gt; -&gt; Log.d(&quot;printDebugLog&quot;, &quot;$parentKey.$key : ${value.joinToString()}&quot;)\n                else -&gt; Log.d(&quot;printDebugLog&quot;, &quot;$parentKey.$key : $value&quot;)\n            }\n        }\n    }\n}\n</code></pre>\n<p>Usage: <code>myBundle.printDebugLog()</code></p>\n"},{"tags":[],"owner":{"account_id":193651,"reputation":1805,"user_id":435519,"accept_rate":71,"display_name":"Adrian Romanelli"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1531106438,"creation_date":1531106438,"answer_id":51237845,"question_id":14948697,"body_markdown":"Realize that this isn&#39;t answering the question exactly, but I see allot of developers trying to dump the contents to logcat/console because they are not aware that they can set up in Android Studio debugger to display customized object rendering at debug time, when you hit a break point.  And in the case of Bundle, you can take the type of code shown in the other answers here, and apply that as a custom renderer, so that you don&#39;t need to pipe the dump to logcat and/or the console.\r\n\r\n(These instructions are from Android Studio 3.1.3 (June 2018) ...\r\n\r\n1. Select the &quot;File&quot; and then the &quot;Settings&quot; menu option/suboption.\r\n2. In the &#39;Settings&#39; dialog, on the left side, drill-down and select &quot;Build, Execution, Deployment&quot;, &quot;Debugger&quot;, &quot;Data Views&quot;, &quot;Java Type Renderers&quot;.\r\n3. Right side of the dialog, where it says &quot;Renderer name&quot; enter a name you wish to identify with the renderer you are creating.\r\n4. Right side of the dialog, where it says &quot;Apply renderer to objects of type&quot;, enter &#39;android.os.Bundle&#39;.\r\n5. Right side of the dialog, under the &quot;When rendering a node&quot; section, select the &quot;Use following expression:&quot; radio button.\r\n6. In the text field below that, type in the following ...\r\n\r\n&gt;     StringBuilder builder = new StringBuilder();\r\n&gt;     for (String key : ((android.os.Bundle)this).keySet()) {\r\n&gt;         Object value = ((android.os.Bundle)this).get(key);\r\n&gt;         builder.append(&quot;[&quot;);\r\n&gt;         builder.append(key);\r\n&gt;         builder.append(&quot;]=[&quot;);\r\n&gt;         builder.append(value);\r\n&gt;         builder.append(&quot;](&quot;);\r\n&gt;         builder.append((value != null) ? value.getClass().getSimpleName() : &quot;null&quot;);\r\n&gt;         builder.append(&quot;), &quot;);\r\n&gt;     }\r\n&gt;     return builder.toString();\r\n\r\n5. Press &#39;Apply&#39;/&#39;OK&#39; button.\r\n\r\nNow, when you run your app, and you hit a breakpoint that shows a variable that is of type android.os.Bundle, you&#39;ll see the output generated from the above code, on the variables section of the debugger window.\r\n\r\nI&#39;ll also include a screenshot, showing what I described above ...  [![screenshot][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nUBaH.png","title":"Print the contents of a Bundle to Logcat?","body":"<p>Realize that this isn't answering the question exactly, but I see allot of developers trying to dump the contents to logcat/console because they are not aware that they can set up in Android Studio debugger to display customized object rendering at debug time, when you hit a break point.  And in the case of Bundle, you can take the type of code shown in the other answers here, and apply that as a custom renderer, so that you don't need to pipe the dump to logcat and/or the console.</p>\n\n<p>(These instructions are from Android Studio 3.1.3 (June 2018) ...</p>\n\n<ol>\n<li>Select the \"File\" and then the \"Settings\" menu option/suboption.</li>\n<li>In the 'Settings' dialog, on the left side, drill-down and select \"Build, Execution, Deployment\", \"Debugger\", \"Data Views\", \"Java Type Renderers\".</li>\n<li>Right side of the dialog, where it says \"Renderer name\" enter a name you wish to identify with the renderer you are creating.</li>\n<li>Right side of the dialog, where it says \"Apply renderer to objects of type\", enter 'android.os.Bundle'.</li>\n<li>Right side of the dialog, under the \"When rendering a node\" section, select the \"Use following expression:\" radio button.</li>\n<li>In the text field below that, type in the following ...</li>\n</ol>\n\n<blockquote>\n<pre><code>StringBuilder builder = new StringBuilder();\nfor (String key : ((android.os.Bundle)this).keySet()) {\n    Object value = ((android.os.Bundle)this).get(key);\n    builder.append(\"[\");\n    builder.append(key);\n    builder.append(\"]=[\");\n    builder.append(value);\n    builder.append(\"](\");\n    builder.append((value != null) ? value.getClass().getSimpleName() : \"null\");\n    builder.append(\"), \");\n}\nreturn builder.toString();\n</code></pre>\n</blockquote>\n\n<ol start=\"5\">\n<li>Press 'Apply'/'OK' button.</li>\n</ol>\n\n<p>Now, when you run your app, and you hit a breakpoint that shows a variable that is of type android.os.Bundle, you'll see the output generated from the above code, on the variables section of the debugger window.</p>\n\n<p>I'll also include a screenshot, showing what I described above ...  <a href=\"https://i.stack.imgur.com/nUBaH.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/nUBaH.png\" alt=\"screenshot\"></a></p>\n"},{"tags":[],"owner":{"account_id":3032118,"reputation":31,"user_id":2570903,"display_name":"ehivan24"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1555527853,"creation_date":1555526491,"answer_id":55734081,"question_id":14948697,"body_markdown":"A Kotlin solution:\r\n\r\n    val bundleFromNotifications: Bundle? = remoteMessage?.toIntent()?.extras\r\n    bundleFromNotifications?.keySet()?.forEach{\r\n        Log.d(LOG_TAG, it + &quot;=&gt; \\&quot;&quot; + bundleFromNotifications.get(it) + &quot;\\&quot;&quot;)\r\n    }","title":"Print the contents of a Bundle to Logcat?","body":"<p>A Kotlin solution:</p>\n\n<pre><code>val bundleFromNotifications: Bundle? = remoteMessage?.toIntent()?.extras\nbundleFromNotifications?.keySet()?.forEach{\n    Log.d(LOG_TAG, it + \"=&gt; \\\"\" + bundleFromNotifications.get(it) + \"\\\"\")\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570356655,"creation_date":1570356655,"answer_id":58256242,"question_id":14948697,"body_markdown":"Solution in Kotlin:\r\n\r\n    fun Bundle.toPrintableString(): String {\r\n        val sb = StringBuilder(&quot;{&quot;)\r\n        var isFirst = true\r\n        for (key in keySet()) {\r\n            if (!isFirst)\r\n                sb.append(&#39;,&#39;)\r\n            else\r\n                isFirst = false\r\n            when (val value = get(key)) {\r\n                is Bundle -&gt; sb.append(key).append(&#39;:&#39;).append(value.toPrintableString())\r\n                else -&gt; sb.append(key).append(&#39;:&#39;).append(value)\r\n                //TODO handle special cases if you wish\r\n            }\r\n        }\r\n        sb.append(&#39;}&#39;)\r\n        return sb.toString()\r\n    }\r\n\r\nSample:\r\n\r\n        val bundle = Bundle()\r\n        bundle.putString(&quot;asd&quot;, &quot;qwe&quot;)\r\n        bundle.putInt(&quot;zxc&quot;, 123)\r\n        Log.d(&quot;AppLog&quot;, &quot;bundle:${bundle.toPrintableString()}&quot;)\r\n\r\nNote that it doesn&#39;t handle all possible types of values. You should decide which are important to show and in which way.","title":"Print the contents of a Bundle to Logcat?","body":"<p>Solution in Kotlin:</p>\n\n<pre><code>fun Bundle.toPrintableString(): String {\n    val sb = StringBuilder(\"{\")\n    var isFirst = true\n    for (key in keySet()) {\n        if (!isFirst)\n            sb.append(',')\n        else\n            isFirst = false\n        when (val value = get(key)) {\n            is Bundle -&gt; sb.append(key).append(':').append(value.toPrintableString())\n            else -&gt; sb.append(key).append(':').append(value)\n            //TODO handle special cases if you wish\n        }\n    }\n    sb.append('}')\n    return sb.toString()\n}\n</code></pre>\n\n<p>Sample:</p>\n\n<pre><code>    val bundle = Bundle()\n    bundle.putString(\"asd\", \"qwe\")\n    bundle.putInt(\"zxc\", 123)\n    Log.d(\"AppLog\", \"bundle:${bundle.toPrintableString()}\")\n</code></pre>\n\n<p>Note that it doesn't handle all possible types of values. You should decide which are important to show and in which way.</p>\n"},{"tags":[],"owner":{"account_id":5602739,"reputation":1545,"user_id":4438470,"display_name":"Vitor Hugo Schwaab"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1583406047,"creation_date":1583406047,"answer_id":60543857,"question_id":14948697,"body_markdown":"Simple Bundle to String implementation in Kotlin:\r\n\r\n\r\n    val bundleToString = bundle.keySet()\r\n                .joinToString(&quot;, &quot;, &quot;{&quot;, &quot;}&quot;) { key -&gt;\r\n                    &quot;$key=${bundle[key]}&quot;\r\n                }\r\n\r\nExample of result `{id=3, name=&quot;Jhon&quot;}`","title":"Print the contents of a Bundle to Logcat?","body":"<p>Simple Bundle to String implementation in Kotlin:</p>\n\n<pre><code>val bundleToString = bundle.keySet()\n            .joinToString(\", \", \"{\", \"}\") { key -&gt;\n                \"$key=${bundle[key]}\"\n            }\n</code></pre>\n\n<p>Example of result <code>{id=3, name=\"Jhon\"}</code></p>\n"},{"tags":[],"owner":{"account_id":1511832,"reputation":31,"user_id":1413742,"display_name":"DanCar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1586626913,"creation_date":1586626913,"answer_id":61161104,"question_id":14948697,"body_markdown":"Java 8 stream one liner:\r\n```\r\nbundle.keySet().stream().forEach(k -&gt; Log.d(TAG, k + &quot; = &quot; + bundle.get(k)));\r\n```\r\n","title":"Print the contents of a Bundle to Logcat?","body":"<p>Java 8 stream one liner:</p>\n\n<pre><code>bundle.keySet().stream().forEach(k -&gt; Log.d(TAG, k + \" = \" + bundle.get(k)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1857085,"reputation":12517,"user_id":1682419,"display_name":"Jerry101"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1646161803,"creation_date":1646161803,"answer_id":71313492,"question_id":14948697,"body_markdown":"Trick: **Access the Bundle&#39;s contents to reify it, then `bundle.toString()` will format its elements.**\r\n\r\n(I&#39;d rely on this only for debugging purposes.)\r\n\r\nExample in an AppWidgetProvider, call `newOptions.keySet()`:\r\n\r\n```java\r\n    @Override\r\n    public void onAppWidgetOptionsChanged(Context context, AppWidgetManager appWidgetManager,\r\n            int appWidgetId, Bundle newOptions) {\r\n        super.onAppWidgetOptionsChanged(context, appWidgetManager, appWidgetId, newOptions);\r\n\r\n        newOptions.keySet(); // &lt;-- reify the Bundle so .toString() will elaborate\r\n        Log.i(TAG, &quot;*** WidgetOptionsChanged: &quot; + newOptions);\r\n    }\r\n```\r\n\r\nResult:\r\n\r\n```\r\n*** WidgetOptionsChanged: Bundle[{appWidgetMaxHeight=137, appWidgetCategory=1, appWidgetMaxWidth=603, appWidgetMinHeight=82, appWidgetMinWidth=338, appWidgetSizes=[338.0x137.5, 603.5x82.0]}]\r\n```\r\n\r\nMuch better than:\r\n\r\n```\r\n*** WidgetOptionsChanged: Bundle[mParcelledData.dataSize=408]\r\n```\r\n","title":"Print the contents of a Bundle to Logcat?","body":"<p>Trick: <strong>Access the Bundle's contents to reify it, then <code>bundle.toString()</code> will format its elements.</strong></p>\n<p>(I'd rely on this only for debugging purposes.)</p>\n<p>Example in an AppWidgetProvider, call <code>newOptions.keySet()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public void onAppWidgetOptionsChanged(Context context, AppWidgetManager appWidgetManager,\n            int appWidgetId, Bundle newOptions) {\n        super.onAppWidgetOptionsChanged(context, appWidgetManager, appWidgetId, newOptions);\n\n        newOptions.keySet(); // &lt;-- reify the Bundle so .toString() will elaborate\n        Log.i(TAG, &quot;*** WidgetOptionsChanged: &quot; + newOptions);\n    }\n</code></pre>\n<p>Result:</p>\n<pre><code>*** WidgetOptionsChanged: Bundle[{appWidgetMaxHeight=137, appWidgetCategory=1, appWidgetMaxWidth=603, appWidgetMinHeight=82, appWidgetMinWidth=338, appWidgetSizes=[338.0x137.5, 603.5x82.0]}]\n</code></pre>\n<p>Much better than:</p>\n<pre><code>*** WidgetOptionsChanged: Bundle[mParcelledData.dataSize=408]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6984098,"reputation":718,"user_id":5355770,"display_name":"Tom Ladek"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1656425445,"creation_date":1656425445,"answer_id":72788016,"question_id":14948697,"body_markdown":"Kotlin\r\n------\r\n\r\nIf you have ***simple*** `Bundle`s (without nested bundles) then the tip by [Jerry101](https://stackoverflow.com/a/71313492/5355770) will already get you very far (see their comment why this works). Here&#39;s a one-liner:\r\n\r\n```lang-kotlin\r\nLog.d(TAG, &quot;bundle: ${bundle?.also { it.keySet() }?: &quot;N/A&quot;}&quot;)\r\n```\r\n\r\nThe above prints:\r\n\r\n&gt; bundle: Bundle[{a=42, s=hello, ...}]\r\n\r\nOr when the bundle is `null`:\r\n\r\n&gt; bundle: N/A\r\n\r\n\r\nIn case you&#39;re not confident that the above will always work, with slightly more code almost the same thing (using the `keySet` function that others here have already pointed out) - also one line:\r\n\r\n```lang-kotlin\r\nLog.d(TAG, &quot;bundle: ${bundle?.keySet()?.associateWith { bundle[it] }?: &quot;N/A&quot;}&quot;)\r\n```\r\n\r\nThis converts the bundle to a map and prints\r\n\r\n&gt; bundle: {a=42, s=hello, ...}","title":"Print the contents of a Bundle to Logcat?","body":"<h2>Kotlin</h2>\n<p>If you have <em><strong>simple</strong></em> <code>Bundle</code>s (without nested bundles) then the tip by <a href=\"https://stackoverflow.com/a/71313492/5355770\">Jerry101</a> will already get you very far (see their comment why this works). Here's a one-liner:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>Log.d(TAG, &quot;bundle: ${bundle?.also { it.keySet() }?: &quot;N/A&quot;}&quot;)\n</code></pre>\n<p>The above prints:</p>\n<blockquote>\n<p>bundle: Bundle[{a=42, s=hello, ...}]</p>\n</blockquote>\n<p>Or when the bundle is <code>null</code>:</p>\n<blockquote>\n<p>bundle: N/A</p>\n</blockquote>\n<p>In case you're not confident that the above will always work, with slightly more code almost the same thing (using the <code>keySet</code> function that others here have already pointed out) - also one line:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>Log.d(TAG, &quot;bundle: ${bundle?.keySet()?.associateWith { bundle[it] }?: &quot;N/A&quot;}&quot;)\n</code></pre>\n<p>This converts the bundle to a map and prints</p>\n<blockquote>\n<p>bundle: {a=42, s=hello, ...}</p>\n</blockquote>\n"}],"owner":{"account_id":2134917,"reputation":1345,"user_id":1894945,"accept_rate":68,"display_name":"Quasaur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45466,"favorite_count":0,"down_vote_count":1,"up_vote_count":84,"accepted_answer_id":14948713,"answer_count":12,"score":83,"last_activity_date":1656425445,"creation_date":1361239999,"question_id":14948697,"body_markdown":"Is there an easy way to print the contents of a `Bundle` to Logcat if you can&#39;t remember the names of all the keys (even being able to print just the key names would be cool)?","title":"Print the contents of a Bundle to Logcat?","body":"<p>Is there an easy way to print the contents of a <code>Bundle</code> to Logcat if you can't remember the names of all the keys (even being able to print just the key names would be cool)?</p>\n"},{"tags":["java","spring","soap"],"answers":[{"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656425443,"creation_date":1656425443,"answer_id":72788015,"question_id":72787308,"body_markdown":"You do NOT have to specify an init method (or destroy method for that matter).  I think it&#39;s worth noting that you ask if it&#39;s standard practice, I believe the standard practice has moved away from the XML configuration to an annotation-driven approach but for the purpose of your question, it is standard practice to not include an init method when it is not needed.\r\n\r\nThe `init-method` is akin to adding a `@PostContstruct` annotated method on annotation declared beans.","title":"is it needed to add init-method in Sprint configuration file if there is nothing to initialize","body":"<p>You do NOT have to specify an init method (or destroy method for that matter).  I think it's worth noting that you ask if it's standard practice, I believe the standard practice has moved away from the XML configuration to an annotation-driven approach but for the purpose of your question, it is standard practice to not include an init method when it is not needed.</p>\n<p>The <code>init-method</code> is akin to adding a <code>@PostContstruct</code> annotated method on annotation declared beans.</p>\n"}],"owner":{"account_id":1197913,"reputation":541,"user_id":1169253,"accept_rate":75,"display_name":"Sam4Code"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656425443,"creation_date":1656422874,"question_id":72787308,"body_markdown":"I am new to Java. I have below java class:-\r\n\r\n```\r\n\r\n@WebService\r\n@SOAPBinding(style = SOAPBinding.Style.RPC, use = SOAPBinding.Use.LITERAL)\r\npublic class ABC extends AbstractWebService {\r\n\r\n    protected ClassNameForService classNameForService;\r\n\r\n    public void init() {\r\n    }\r\n\r\n    @WebMethod\r\n    @Path(&quot;/test&quot;)\r\n    @Produces(&quot;text/plain&quot;)\r\n    @GET\r\n    /**\r\n     *\r\n     * @return String\r\n     */\r\n    public String test(\r\n        @WebParam(partName = &quot;sessionID&quot;)\r\n        @QueryParam(&quot;sessionID&quot;) String sessionID\r\n    ) throws UserNotDefinedException\r\n\t{\r\n\t// does something here\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nand below is my spring configuration file \r\n\r\n```\r\n &lt;bean id=”org.testproject.webservices.ABC class=”org.testproject.webservices.ABC init-method=”init” parent=”org.testproject.webservices.AbstractWebService”&gt;\r\n        &lt;property name=classNameForService ref=”org.testproject.service.gb.ClassNameForService/&gt;\r\n    &lt;/bean&gt;\r\n```\r\n\r\nSo do we need `init-method=”init”` here? Can I remove `init-method=”init”` from configuration as well as init method from class, Is it a standard practice? ","title":"is it needed to add init-method in Sprint configuration file if there is nothing to initialize","body":"<p>I am new to Java. I have below java class:-</p>\n<pre><code>\n@WebService\n@SOAPBinding(style = SOAPBinding.Style.RPC, use = SOAPBinding.Use.LITERAL)\npublic class ABC extends AbstractWebService {\n\n    protected ClassNameForService classNameForService;\n\n    public void init() {\n    }\n\n    @WebMethod\n    @Path(&quot;/test&quot;)\n    @Produces(&quot;text/plain&quot;)\n    @GET\n    /**\n     *\n     * @return String\n     */\n    public String test(\n        @WebParam(partName = &quot;sessionID&quot;)\n        @QueryParam(&quot;sessionID&quot;) String sessionID\n    ) throws UserNotDefinedException\n    {\n    // does something here\n    }\n    \n}\n</code></pre>\n<p>and below is my spring configuration file</p>\n<pre><code> &lt;bean id=”org.testproject.webservices.ABC class=”org.testproject.webservices.ABC init-method=”init” parent=”org.testproject.webservices.AbstractWebService”&gt;\n        &lt;property name=classNameForService ref=”org.testproject.service.gb.ClassNameForService/&gt;\n    &lt;/bean&gt;\n</code></pre>\n<p>So do we need <code>init-method=”init”</code> here? Can I remove <code>init-method=”init”</code> from configuration as well as init method from class, Is it a standard practice?</p>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1647516627,"post_id":71509625,"comment_id":126393319,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1647545327,"post_id":71509625,"comment_id":126404620,"body_markdown":"If you&#39;re new then use 2.0.25 instead of an alpha.","body":"If you&#39;re new then use 2.0.25 instead of an alpha."}],"answers":[{"tags":[],"owner":{"account_id":7985342,"reputation":91,"user_id":6025073,"display_name":"Hamid Asiabari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647817973,"creation_date":1647817973,"answer_id":71551359,"question_id":71509625,"body_markdown":"Please Check PDFBox 3.0 Migration Guide but as @tilman-hausherr said if you are newly started using PDFBox use 2.0.25 otherwise you will have other problems because PDFBox3, is not a stable version yet.\r\nIf you are consistent to use this version, please provide more cues and also add your code.\r\n\r\n\r\n\r\nStatic instances for Standard 14 fonts removed\r\nThe static instances of PDType1Font for the standard 14 fonts were removed as the underlying COSDictionary isn&#39;t supposed to be immutable which led to several issues.\r\n\r\nA new constructor for PDType1Font was introduced to create a standard 14 font. The new Enum Standard14Fonts.FontName is the one and only parameter and defines the name of the standard 14 font for which the instance of PDType1Font is created for. That instance isn&#39;t a singleton anymore and has to be recreated if necessary or cached by the user if suitable.\r\n\r\nhttps://pdfbox.apache.org/3.0/migration.html","title":"How do I solve this pdfbox?","body":"<p>Please Check PDFBox 3.0 Migration Guide but as @tilman-hausherr said if you are newly started using PDFBox use 2.0.25 otherwise you will have other problems because PDFBox3, is not a stable version yet.\nIf you are consistent to use this version, please provide more cues and also add your code.</p>\n<p>Static instances for Standard 14 fonts removed\nThe static instances of PDType1Font for the standard 14 fonts were removed as the underlying COSDictionary isn't supposed to be immutable which led to several issues.</p>\n<p>A new constructor for PDType1Font was introduced to create a standard 14 font. The new Enum Standard14Fonts.FontName is the one and only parameter and defines the name of the standard 14 font for which the instance of PDType1Font is created for. That instance isn't a singleton anymore and has to be recreated if necessary or cached by the user if suitable.</p>\n<p><a href=\"https://pdfbox.apache.org/3.0/migration.html\" rel=\"nofollow noreferrer\">https://pdfbox.apache.org/3.0/migration.html</a></p>\n"}],"owner":{"account_id":24587531,"reputation":1,"user_id":18491832,"display_name":"lawi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":808,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656425377,"creation_date":1647508079,"question_id":71509625,"body_markdown":"error: cannot find symbol\r\n                 PDFont font = PDType1Font.HELVETICA_BOLD;\r\n\r\nThis is the error am getting. Am new in using PDFBox and now am trying to write into a pdf file and I must specify the font but the font is bringing the error. I am compiling in terminal for those guys using IDE&#39;s am not. e.g (java -cp commons-logging-1.2.jar:fontbox-3.0.0-alpha2.jar:pdfbox-3.0.0-alpha2.jar:pdfbox-tools-3.0.0-alpha2.jar:preflight-3.0.0-alpha2.jar:xmpbox-3.0.0-alpha2.jar doc1.java)","title":"How do I solve this pdfbox?","body":"<p>error: cannot find symbol\nPDFont font = PDType1Font.HELVETICA_BOLD;</p>\n<p>This is the error am getting. Am new in using PDFBox and now am trying to write into a pdf file and I must specify the font but the font is bringing the error. I am compiling in terminal for those guys using IDE's am not. e.g (java -cp commons-logging-1.2.jar:fontbox-3.0.0-alpha2.jar:pdfbox-3.0.0-alpha2.jar:pdfbox-tools-3.0.0-alpha2.jar:preflight-3.0.0-alpha2.jar:xmpbox-3.0.0-alpha2.jar doc1.java)</p>\n"},{"tags":["java","algorithm","recursion"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":6,"creation_date":1656422135,"post_id":72787081,"comment_id":128564363,"body_markdown":"Change how? Each level of recursion will have its own `length` value.","body":"Change how? Each level of recursion will have its own <code>length</code> value."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1656422487,"post_id":72787081,"comment_id":128564506,"body_markdown":"If you don&#39;t want this value from changing, don&#39;t call it inside the method. Also, I am with akarnokd.","body":"If you don&#39;t want this value from changing, don&#39;t call it inside the method. Also, I am with akarnokd."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":2,"creation_date":1656422721,"post_id":72787081,"comment_id":128564613,"body_markdown":"You&#39;re ignoring the result of the recursive call `isArmstrong()`. And there&#39;s no need in spawning new instances of `ArmstrongChecker `.","body":"You&#39;re ignoring the result of the recursive call <code>isArmstrong()</code>. And there&#39;s no need in spawning new instances of <code>ArmstrongChecker </code>."},{"owner":{"display_name":"user1196549"},"score":0,"creation_date":1656426437,"post_id":72787081,"comment_id":128566214,"body_markdown":"The value of `length` does not change. It is assigned right after its declaration, and not touched later. I don&#39;t think that you describe the real problem.","body":"The value of <code>length</code> does not change. It is assigned right after its declaration, and not touched later. I don&#39;t think that you describe the real problem."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656423125,"creation_date":1656423125,"answer_id":72787365,"question_id":72787081,"body_markdown":"While you are not changing it&#39;s value in the posted code, you could mark that variable to be a constant. This way the compiler can error out if you tried to assign a new value.\r\n\r\n    final int length = armstrongChecker.lengthChecker(number);","title":"How to prevent a recursive method from changing a value of a variable?","body":"<p>While you are not changing it's value in the posted code, you could mark that variable to be a constant. This way the compiler can error out if you tried to assign a new value.</p>\n<pre><code>final int length = armstrongChecker.lengthChecker(number);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656424065,"creation_date":1656424065,"answer_id":72787626,"question_id":72787081,"body_markdown":"As I&#39;ve already said in the comments, your solution has the following issues:\r\n\r\n* The result of the recursive call `isArmstrong()` is being ignored;\r\n* There&#39;s no need for spawning new instances of `ArmstrongChecker`. And this method doesn&#39;t require object creation at all, it can be implemented as `static`.\r\n* Checking if the number is an Armstrong number boils down to calculating its Armstrong sum, the solution will be cleaner if you implement only this part using recursion.\r\n\r\nIt might look like this:\r\n\r\n    public static boolean isArmstrong(int number) {\r\n        if (number &lt; 0) return false;\r\n        if (number &lt; 10) return true;\r\n        \r\n        return number == getArmstrongSum(number, String.valueOf(number).length());\r\n    }\r\n    \r\n    public static int getArmstrongSum(int number, int power) {\r\n        if (number == 0) {\r\n            return 0;\r\n        }\r\n        return (int) Math.pow(number % 10, power) + getArmstrongSum(number / 10, power);\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(isArmstrong(370)); // true\r\n        System.out.println(isArmstrong(12));  // false\r\n        System.out.println(isArmstrong(54));  // false\r\n        System.out.println(isArmstrong(153)); // true\r\n    }\r\n\r\n*Output:*\r\n```\r\ntrue\r\nfalse\r\nfalse\r\ntrue\r\n```","title":"How to prevent a recursive method from changing a value of a variable?","body":"<p>As I've already said in the comments, your solution has the following issues:</p>\n<ul>\n<li>The result of the recursive call <code>isArmstrong()</code> is being ignored;</li>\n<li>There's no need for spawning new instances of <code>ArmstrongChecker</code>. And this method doesn't require object creation at all, it can be implemented as <code>static</code>.</li>\n<li>Checking if the number is an Armstrong number boils down to calculating its Armstrong sum, the solution will be cleaner if you implement only this part using recursion.</li>\n</ul>\n<p>It might look like this:</p>\n<pre><code>public static boolean isArmstrong(int number) {\n    if (number &lt; 0) return false;\n    if (number &lt; 10) return true;\n    \n    return number == getArmstrongSum(number, String.valueOf(number).length());\n}\n\npublic static int getArmstrongSum(int number, int power) {\n    if (number == 0) {\n        return 0;\n    }\n    return (int) Math.pow(number % 10, power) + getArmstrongSum(number / 10, power);\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(isArmstrong(370)); // true\n    System.out.println(isArmstrong(12));  // false\n    System.out.println(isArmstrong(54));  // false\n    System.out.println(isArmstrong(153)); // true\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>true\nfalse\nfalse\ntrue\n</code></pre>\n"},{"tags":[],"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656424251,"creation_date":1656424251,"answer_id":72787677,"question_id":72787081,"body_markdown":"You need to get the length once for whole recursion, so the cleanest approach would be to pass down both the number and the length into the recursion. An easy way to do this is to have one method that is the public face of the API, and another that does the recursion.\r\n\r\n    public class ArmstrongChecker {\r\n        public boolean isArmstrong(int number) {\r\n            if (number &lt; 0) {\r\n                return false;\r\n            }\r\n            int length = lengthChecker(number);\r\n            int sum = armstrongSum(number, length);\r\n            return sum == number;\r\n        }\r\n    \r\n        private int armstrongSum(int number, int length) {\r\n            int sum = 0;\r\n            if (number != 0) {\r\n                int digit = Math.floorMod(number, 10);\r\n                int powerRaised = (int) Math.pow(digit, length);\r\n                sum += powerRaised;\r\n                sum += armstrongSum(number / 10, length);\r\n            }\r\n            return sum;\r\n        }\r\n    \r\n        public int lengthChecker(int number) {\r\n            int length = String.valueOf(number).length();\r\n            return length;\r\n        }\r\n    }\r\n\r\nThis is pretty common in recursion, where the parameters to the recursive part of the algorithm are a little different (usually there are more of them) than what you want a client of the API to have to pass in. The number changes in each recursive call, where `number / 10` is passed down, but the same `length` is passed all the way through.\r\n\r\nNotice that the recursive `armstrongSum` uses the return value from the recursive call, and that there is no need to create another instance of `ArmstrongChecker` when you are already in an instance method of the class.","title":"How to prevent a recursive method from changing a value of a variable?","body":"<p>You need to get the length once for whole recursion, so the cleanest approach would be to pass down both the number and the length into the recursion. An easy way to do this is to have one method that is the public face of the API, and another that does the recursion.</p>\n<pre><code>public class ArmstrongChecker {\n    public boolean isArmstrong(int number) {\n        if (number &lt; 0) {\n            return false;\n        }\n        int length = lengthChecker(number);\n        int sum = armstrongSum(number, length);\n        return sum == number;\n    }\n\n    private int armstrongSum(int number, int length) {\n        int sum = 0;\n        if (number != 0) {\n            int digit = Math.floorMod(number, 10);\n            int powerRaised = (int) Math.pow(digit, length);\n            sum += powerRaised;\n            sum += armstrongSum(number / 10, length);\n        }\n        return sum;\n    }\n\n    public int lengthChecker(int number) {\n        int length = String.valueOf(number).length();\n        return length;\n    }\n}\n</code></pre>\n<p>This is pretty common in recursion, where the parameters to the recursive part of the algorithm are a little different (usually there are more of them) than what you want a client of the API to have to pass in. The number changes in each recursive call, where <code>number / 10</code> is passed down, but the same <code>length</code> is passed all the way through.</p>\n<p>Notice that the recursive <code>armstrongSum</code> uses the return value from the recursive call, and that there is no need to create another instance of <code>ArmstrongChecker</code> when you are already in an instance method of the class.</p>\n"}],"owner":{"display_name":"user19435242"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":553,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1656425207,"creation_date":1656421924,"question_id":72787081,"body_markdown":"I&#39;m learning Java, and I&#39;m stuck on a recursion problem.\r\n\r\nI need to use a recursive method to check if a number is an [*Armstrong number*](https://en.wikipedia.org/wiki/Narcissistic_number) or not. \r\n\r\n*My code:*\r\n\r\n```\r\npublic class ArmstrongChecker {\r\n\r\n    public boolean isArmstrong(int number) {\r\n        // check if the number is a negative number\r\n        if (number &lt; 0) {\r\n            return false;\r\n        }\r\n        ArmstrongChecker armstrongChecker = new ArmstrongChecker();\r\n        // find the length of the number\r\n        int length = armstrongChecker.lengthChecker(number);\r\n        // create a variable to store the sum of the digits of the number\r\n        int sum = 0;\r\n        // find the individual digits and raise to the power of the numbers of digits\r\n        if (number != 0) {\r\n            int digit = Math.floorMod(number, 10);\r\n            int powerRaised = (int) Math.pow(digit, length);\r\n            sum = sum + powerRaised;\r\n            isArmstrong(number / 10);\r\n        }\r\n        return sum == number;\r\n    }\r\n\r\n    // method to check the length of the number\r\n    public int lengthChecker(int number) {\r\n        int length = String.valueOf(number).length();\r\n        return length;\r\n    }\r\n}\r\n```\r\nHow do I prevent **int length** in `isArmstrong()` method from changing its value.","title":"How to prevent a recursive method from changing a value of a variable?","body":"<p>I'm learning Java, and I'm stuck on a recursion problem.</p>\n<p>I need to use a recursive method to check if a number is an <a href=\"https://en.wikipedia.org/wiki/Narcissistic_number\" rel=\"nofollow noreferrer\"><em>Armstrong number</em></a> or not.</p>\n<p><em>My code:</em></p>\n<pre><code>public class ArmstrongChecker {\n\n    public boolean isArmstrong(int number) {\n        // check if the number is a negative number\n        if (number &lt; 0) {\n            return false;\n        }\n        ArmstrongChecker armstrongChecker = new ArmstrongChecker();\n        // find the length of the number\n        int length = armstrongChecker.lengthChecker(number);\n        // create a variable to store the sum of the digits of the number\n        int sum = 0;\n        // find the individual digits and raise to the power of the numbers of digits\n        if (number != 0) {\n            int digit = Math.floorMod(number, 10);\n            int powerRaised = (int) Math.pow(digit, length);\n            sum = sum + powerRaised;\n            isArmstrong(number / 10);\n        }\n        return sum == number;\n    }\n\n    // method to check the length of the number\n    public int lengthChecker(int number) {\n        int length = String.valueOf(number).length();\n        return length;\n    }\n}\n</code></pre>\n<p>How do I prevent <strong>int length</strong> in <code>isArmstrong()</code> method from changing its value.</p>\n"},{"tags":["java","flutter","kotlin"],"comments":[{"owner":{"account_id":1642711,"reputation":19842,"user_id":1514861,"accept_rate":86,"display_name":"Ivo"},"score":0,"creation_date":1656424606,"post_id":72787710,"comment_id":128565463,"body_markdown":"Does this answer your question? [Calling a function and passing arguments from Kotlin to Flutter](https://stackoverflow.com/questions/59823810/calling-a-function-and-passing-arguments-from-kotlin-to-flutter)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/59823810/calling-a-function-and-passing-arguments-from-kotlin-to-flutter\">Calling a function and passing arguments from Kotlin to Flutter</a>"}],"answers":[{"tags":[],"owner":{"account_id":21079824,"reputation":1349,"user_id":15494398,"display_name":"Just a Person"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656424745,"creation_date":1656424745,"answer_id":72787831,"question_id":72787710,"body_markdown":"EventChannel or MethodChannel can be used to pass data from flutter to android and android to flutter.\r\nIn your case android to flutter, you can read this blog:\r\nhttps://testfairy.com/blog/native-communication-with-a-callback-in-flutter/\r\n\r\nAlso, similar question as to this have been answered previously : \r\n\r\nhttps://stackoverflow.com/questions/61832100/\r\n\r\nhttps://stackoverflow.com/questions/62035546/","title":"What is the name of the channel from Java/Kotlin to Flutter (not the way around)","body":"<p>EventChannel or MethodChannel can be used to pass data from flutter to android and android to flutter.\nIn your case android to flutter, you can read this blog:\n<a href=\"https://testfairy.com/blog/native-communication-with-a-callback-in-flutter/\" rel=\"nofollow noreferrer\">https://testfairy.com/blog/native-communication-with-a-callback-in-flutter/</a></p>\n<p>Also, similar question as to this have been answered previously :</p>\n<p><a href=\"https://stackoverflow.com/questions/61832100/\">How to open and pass data from Native Android App to Flutter Android App?</a></p>\n<p><a href=\"https://stackoverflow.com/questions/62035546/\">How to send data to Flutter from native (Android)</a></p>\n"}],"owner":{"account_id":4796691,"reputation":2276,"user_id":10116440,"display_name":"Guerlando OCs"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":72787831,"answer_count":1,"score":-2,"last_activity_date":1656424745,"creation_date":1656424346,"question_id":72787710,"body_markdown":"Flutter has the MethodChannel for sending data from Flutter to Java/Kotlin. We can also return values in these calls. But what if I want to return data at random times from Java/Kotlin to Flutter?\r\n\r\nI remember there is a kind of channel to send data from Java to Flutter, but I forgot its name","title":"What is the name of the channel from Java/Kotlin to Flutter (not the way around)","body":"<p>Flutter has the MethodChannel for sending data from Flutter to Java/Kotlin. We can also return values in these calls. But what if I want to return data at random times from Java/Kotlin to Flutter?</p>\n<p>I remember there is a kind of channel to send data from Java to Flutter, but I forgot its name</p>\n"},{"tags":["java","json","long-integer","webtau"],"answers":[{"tags":[],"owner":{"account_id":22244,"reputation":58413,"user_id":54684,"accept_rate":57,"display_name":"Mykola Golubyev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1656424726,"creation_date":1656424726,"answer_id":72787825,"question_id":72778936,"body_markdown":"Behind the scenes [WebTau](https://github.com/testingisdocumenting/webtau) uses [com.fasterxml.jackson](https://github.com/FasterXML/jackson) to parse JSON. \r\nIt automatically handles types like `Long`, `Double`, etc\r\n\r\nHere is a [WebTau](https://github.com/testingisdocumenting/webtau) test to show numbers conversion.\r\n\r\nGiven JSON response\r\n```json\r\n{\r\n  &quot;intValue&quot;: 30000,\r\n  &quot;doubleValue&quot;: 100.43,\r\n  &quot;longValue&quot;: 9223372036854775807\r\n}\r\n```\r\n\r\n```java\r\n@Test\r\npublic void conversionOfNumbers() {\r\n    Map&lt;String, ?&gt; bodyAsMap = http.get(&quot;/large-numbers&quot;, (header, body) -&gt; {\r\n        body.get(&quot;longValue&quot;).should(equal(9223372036854775807L));\r\n        body.get(&quot;doubleValue&quot;).should(equal(100.43));\r\n        body.get(&quot;intValue&quot;).should(equal(30000));\r\n\r\n        return body;\r\n    });\r\n\r\n    actual(bodyAsMap.get(&quot;longValue&quot;).getClass()).should(equal(Long.class));\r\n    actual(bodyAsMap.get(&quot;doubleValue&quot;).getClass()).should(equal(Double.class));\r\n    actual(bodyAsMap.get(&quot;intValue&quot;).getClass()).should(equal(Integer.class));\r\n}\r\n```\r\n[![example console output][1]][1]\r\n\r\nI am thinking that your response may not have a long enough number in your test. \r\n\r\nIf you provide more info on what you plan to do with the actual numbers, I may suggest an alternative way of achieving it. \r\n\r\n  [1]: https://i.stack.imgur.com/lVgPR.png","title":"How to retrieve a Long value from WebTau response body Map&lt;String,?&gt; representation?","body":"<p>Behind the scenes <a href=\"https://github.com/testingisdocumenting/webtau\" rel=\"nofollow noreferrer\">WebTau</a> uses <a href=\"https://github.com/FasterXML/jackson\" rel=\"nofollow noreferrer\">com.fasterxml.jackson</a> to parse JSON.\nIt automatically handles types like <code>Long</code>, <code>Double</code>, etc</p>\n<p>Here is a <a href=\"https://github.com/testingisdocumenting/webtau\" rel=\"nofollow noreferrer\">WebTau</a> test to show numbers conversion.</p>\n<p>Given JSON response</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;intValue&quot;: 30000,\n  &quot;doubleValue&quot;: 100.43,\n  &quot;longValue&quot;: 9223372036854775807\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void conversionOfNumbers() {\n    Map&lt;String, ?&gt; bodyAsMap = http.get(&quot;/large-numbers&quot;, (header, body) -&gt; {\n        body.get(&quot;longValue&quot;).should(equal(9223372036854775807L));\n        body.get(&quot;doubleValue&quot;).should(equal(100.43));\n        body.get(&quot;intValue&quot;).should(equal(30000));\n\n        return body;\n    });\n\n    actual(bodyAsMap.get(&quot;longValue&quot;).getClass()).should(equal(Long.class));\n    actual(bodyAsMap.get(&quot;doubleValue&quot;).getClass()).should(equal(Double.class));\n    actual(bodyAsMap.get(&quot;intValue&quot;).getClass()).should(equal(Integer.class));\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/lVgPR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lVgPR.png\" alt=\"example console output\" /></a></p>\n<p>I am thinking that your response may not have a long enough number in your test.</p>\n<p>If you provide more info on what you plan to do with the actual numbers, I may suggest an alternative way of achieving it.</p>\n"}],"owner":{"account_id":37853,"reputation":4899,"user_id":108350,"accept_rate":32,"display_name":"will"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1656424726,"creation_date":1656369231,"question_id":72778936,"body_markdown":"I am retrieving the JSON request body from WebTau as a Map, e.g.:\r\n\r\n    Map&lt;String,?&gt;  approvalMap = WebTauDsl.http.post(  \r\n        callUrl,  restCallHeader, restCallBody, \r\n        ((header, body) -&gt; \r\n        {\r\n            return body;\r\n        }\r\n    );\r\n    if( accessApprovalMap.get(&quot;id&quot;) instanceof Integer  )\r\n    {\r\n        logger.info(&quot;id is Integer&quot;);\r\n    }\r\n    else if( accessApprovalMap.get(&quot;id&quot;) instanceof Long  )\r\n    {\r\n        logger.info(&quot;id is Long&quot;);\r\n    }\r\n\r\nFrom the logging code after the return ...\r\n\r\n    MonitorTest  INFO  : id is Integer\r\n\r\nThe question is what happens when the result is larger than MAX_INT is returned?  BIGINT isn&#39;t very common at this point, but how would &#39;we&#39; know?  The string just looks like a number.  \r\n\r\n- Is there a way to override the type of a JSON field?  \r\n\r\n\r\n### related\r\n\r\n* [How to retrieve JSON from request body using WebTau?](https://stackoverflow.com/questions/72567932/how-to-retrieve-json-from-request-body-using-webtau)","title":"How to retrieve a Long value from WebTau response body Map&lt;String,?&gt; representation?","body":"<p>I am retrieving the JSON request body from WebTau as a Map, e.g.:</p>\n<pre><code>Map&lt;String,?&gt;  approvalMap = WebTauDsl.http.post(  \n    callUrl,  restCallHeader, restCallBody, \n    ((header, body) -&gt; \n    {\n        return body;\n    }\n);\nif( accessApprovalMap.get(&quot;id&quot;) instanceof Integer  )\n{\n    logger.info(&quot;id is Integer&quot;);\n}\nelse if( accessApprovalMap.get(&quot;id&quot;) instanceof Long  )\n{\n    logger.info(&quot;id is Long&quot;);\n}\n</code></pre>\n<p>From the logging code after the return ...</p>\n<pre><code>MonitorTest  INFO  : id is Integer\n</code></pre>\n<p>The question is what happens when the result is larger than MAX_INT is returned?  BIGINT isn't very common at this point, but how would 'we' know?  The string just looks like a number.</p>\n<ul>\n<li>Is there a way to override the type of a JSON field?</li>\n</ul>\n<h3>related</h3>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/72567932/how-to-retrieve-json-from-request-body-using-webtau\">How to retrieve JSON from request body using WebTau?</a></li>\n</ul>\n"},{"tags":["java","json","objectmapper","serializable"],"comments":[{"owner":{"account_id":9685245,"reputation":9521,"user_id":7185318,"accept_rate":88,"display_name":"Luatic"},"score":0,"creation_date":1656424228,"post_id":72787559,"comment_id":128565272,"body_markdown":"Why does your class store a JSON string rather than an object? You need to provide more code. You&#39;ll have to deserialize the JSON you currently store in a string to some map or other object.","body":"Why does your class store a JSON string rather than an object? You need to provide more code. You&#39;ll have to deserialize the JSON you currently store in a string to some map or other object."},{"owner":{"account_id":23977999,"reputation":73,"user_id":17965846,"display_name":"wuttke"},"score":0,"creation_date":1656424594,"post_id":72787559,"comment_id":128565458,"body_markdown":"This is required by business logic. I need to store the original JSON without deserialization. What other code is required? Tell me - I will provide.","body":"This is required by business logic. I need to store the original JSON without deserialization. What other code is required? Tell me - I will provide."}],"answers":[{"tags":[],"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656424648,"creation_date":1656424648,"answer_id":72787805,"question_id":72787559,"body_markdown":"The behaviour is correct, but it is different from your intention.\r\n\r\nYou have an object with two fields:\r\n- id of type long\r\n- json of type String\r\n\r\nbut your intention is to store an object in the json field.\r\nYou need to store it as an Object in java too. If you know that the json field will store only json objects you can define it as a Map&lt;String, Object&gt; that is the most generic type to store json objects. If it can be any kind of json valid entity you should use Object so it can store also json primitives (String, numbers) or arrays and not only objects.\r\n\r\nSo the best way to store it in java is\r\n\r\n    public class ClassSerializable {\r\n    \r\n      private Long id;\r\n    \r\n      // It can store any valid json object structure as java object\r\n      // Change it to private Object json if it can store also primitives and arrays\r\n      private Map&lt;String, Object&gt; json;\r\n      \r\n    }\r\n\r\n","title":"Serializable field String JSON","body":"<p>The behaviour is correct, but it is different from your intention.</p>\n<p>You have an object with two fields:</p>\n<ul>\n<li>id of type long</li>\n<li>json of type String</li>\n</ul>\n<p>but your intention is to store an object in the json field.\nYou need to store it as an Object in java too. If you know that the json field will store only json objects you can define it as a Map&lt;String, Object&gt; that is the most generic type to store json objects. If it can be any kind of json valid entity you should use Object so it can store also json primitives (String, numbers) or arrays and not only objects.</p>\n<p>So the best way to store it in java is</p>\n<pre><code>public class ClassSerializable {\n\n  private Long id;\n\n  // It can store any valid json object structure as java object\n  // Change it to private Object json if it can store also primitives and arrays\n  private Map&lt;String, Object&gt; json;\n  \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17356711,"reputation":65,"user_id":12573909,"display_name":"Regor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656424701,"creation_date":1656424701,"answer_id":72787816,"question_id":72787559,"body_markdown":"The way that your program is set up right now, it serialises the `json` field as a string, and it does not know that it&#39;s supposed to be serialised as JSON.\r\nTherefore, you need to serialise the `json` field as an actual JSON object, store that in `ClassSerializable`, then serialise that instead. \r\n\r\nOf course, you might need to include some other code to make it serialise properly, but the general idea is that you do need to specify it is an object and not just another string.","title":"Serializable field String JSON","body":"<p>The way that your program is set up right now, it serialises the <code>json</code> field as a string, and it does not know that it's supposed to be serialised as JSON.\nTherefore, you need to serialise the <code>json</code> field as an actual JSON object, store that in <code>ClassSerializable</code>, then serialise that instead.</p>\n<p>Of course, you might need to include some other code to make it serialise properly, but the general idea is that you do need to specify it is an object and not just another string.</p>\n"}],"owner":{"account_id":23977999,"reputation":73,"user_id":17965846,"display_name":"wuttke"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72787805,"answer_count":2,"score":0,"last_activity_date":1656424701,"creation_date":1656423806,"question_id":72787559,"body_markdown":"I have a class\r\n\r\n    public class ClassSerializable {\r\n    \r\n      private Long id;\r\n    \r\n      private String json;\r\n    }\r\nWhere field `json = {&quot;fieldJson&quot;: {&quot;one&quot;: 1, &quot;two&quot;: 1}}`\r\n\r\nIf deserialize with ObjectMapper this object\r\n\r\n    String jsonString = mapper.writeValueAsString(objectСlassSerializable);\r\n\r\nIt turns out something like this:\r\n\r\n    {\r\n      &quot;id&quot;: 7,\r\n      &quot;json&quot;:&quot;{\\&quot;fieldJson\\&quot;: {\\&quot;one\\&quot;: 1, \\&quot;two\\&quot;: 1}}&quot;\r\n    }\r\nEscaping(\\\\) has been added and there are quotation marks(&quot;) for the json field. How to get away from this correctly and make a single JSON? Something like this:\r\n\r\n    {\r\n    \t&quot;id&quot;: 7,\r\n    \t&quot;json&quot;: {\r\n    \t\t&quot;fieldJson&quot;: {\r\n    \t\t\t&quot;one&quot;: 1,\r\n    \t\t\t&quot;two&quot;: 1\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"Serializable field String JSON","body":"<p>I have a class</p>\n<pre><code>public class ClassSerializable {\n\n  private Long id;\n\n  private String json;\n}\n</code></pre>\n<p>Where field <code>json = {&quot;fieldJson&quot;: {&quot;one&quot;: 1, &quot;two&quot;: 1}}</code></p>\n<p>If deserialize with ObjectMapper this object</p>\n<pre><code>String jsonString = mapper.writeValueAsString(objectСlassSerializable);\n</code></pre>\n<p>It turns out something like this:</p>\n<pre><code>{\n  &quot;id&quot;: 7,\n  &quot;json&quot;:&quot;{\\&quot;fieldJson\\&quot;: {\\&quot;one\\&quot;: 1, \\&quot;two\\&quot;: 1}}&quot;\n}\n</code></pre>\n<p>Escaping(\\) has been added and there are quotation marks(&quot;) for the json field. How to get away from this correctly and make a single JSON? Something like this:</p>\n<pre><code>{\n    &quot;id&quot;: 7,\n    &quot;json&quot;: {\n        &quot;fieldJson&quot;: {\n            &quot;one&quot;: 1,\n            &quot;two&quot;: 1\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jpa"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1655391263,"post_id":72647749,"comment_id":128325763,"body_markdown":"&quot;only the current effective record from Table2&quot; that&#39;s not possible. You cannot filter the content of the to-many table2","body":"&quot;only the current effective record from Table2&quot; that&#39;s not possible. You cannot filter the content of the to-many table2"},{"owner":{"account_id":15763584,"reputation":47,"user_id":11374675,"display_name":"kuytsce"},"score":0,"creation_date":1655391444,"post_id":72647749,"comment_id":128325840,"body_markdown":"This can be done in SQL using joins, is there a reason this isn&#39;t possible with JPA?","body":"This can be done in SQL using joins, is there a reason this isn&#39;t possible with JPA?"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1655391583,"post_id":72647749,"comment_id":128325909,"body_markdown":"You can query for it but if you return table1 entity you will always get all table2 entities in the list","body":"You can query for it but if you return table1 entity you will always get all table2 entities in the list"}],"answers":[{"tags":[],"owner":{"account_id":19851043,"reputation":1,"user_id":14541521,"display_name":"Baptiste Thery"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655392875,"creation_date":1655392875,"answer_id":72648203,"question_id":72647749,"body_markdown":"Once you declared a oneToMany relationship, your entity will load all joined entity when calling the getTable method (wich is called by jackson when serializing). I believe if you activate debug mode, you will see 2 request, the first will be the one you describe in your repopsitory, the second the one JPA use to load all related table2 entity.\r\n\r\nTheir is some possible ways to accomplish what you want:\r\n - the first (and most obvious ?) is to manually make the 2 request equivalent to your HQL request (the table 1 find by ID and then the table 2 find by....) and then aggregate the 2 results\r\n - the second one would be to use [jackson][1] to serialize your data how you want to (by filtering useless table 2 data)\r\n - the third one would be to use [jackson][1] to serialize a table2 (wich give you the corresponding table1 data) into the appropriate JSON. It&#39;s a bit more complicated but probably more efficient if your table1 reference a lot of table2 data.\r\n - The last one would be to try using [projections][2] it allow you to declare only the data you want to retrieve when requesting data.\r\n\r\nhope this help !\r\n\r\n\r\n  [1]: https://www.baeldung.com/jackson-custom-serialization\r\n  [2]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections","title":"Java Spring JPA Reference and return only one result from join table","body":"<p>Once you declared a oneToMany relationship, your entity will load all joined entity when calling the getTable method (wich is called by jackson when serializing). I believe if you activate debug mode, you will see 2 request, the first will be the one you describe in your repopsitory, the second the one JPA use to load all related table2 entity.</p>\n<p>Their is some possible ways to accomplish what you want:</p>\n<ul>\n<li>the first (and most obvious ?) is to manually make the 2 request equivalent to your HQL request (the table 1 find by ID and then the table 2 find by....) and then aggregate the 2 results</li>\n<li>the second one would be to use <a href=\"https://www.baeldung.com/jackson-custom-serialization\" rel=\"nofollow noreferrer\">jackson</a> to serialize your data how you want to (by filtering useless table 2 data)</li>\n<li>the third one would be to use <a href=\"https://www.baeldung.com/jackson-custom-serialization\" rel=\"nofollow noreferrer\">jackson</a> to serialize a table2 (wich give you the corresponding table1 data) into the appropriate JSON. It's a bit more complicated but probably more efficient if your table1 reference a lot of table2 data.</li>\n<li>The last one would be to try using <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections\" rel=\"nofollow noreferrer\">projections</a> it allow you to declare only the data you want to retrieve when requesting data.</li>\n</ul>\n<p>hope this help !</p>\n"},{"tags":[],"owner":{"account_id":15763584,"reputation":47,"user_id":11374675,"display_name":"kuytsce"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656424602,"creation_date":1656424602,"answer_id":72787789,"question_id":72647749,"body_markdown":"In the end we completed this using a JPQL query. An example of the query is below in case it helps any others in the future.\r\n\r\n    @Query(value = &quot;SELECT table1 FROM Table1 table1 &quot; \r\n    \t\t\t+ &quot; JOIN FETCH table1.table2 table2 &quot;\r\n    \t\t\t+ &quot; WHERE table1.id = :table1Id&quot; \r\n    \t\t\t+ &quot;  AND table2.id = &quot;\r\n    \t\t\t+ &quot;  ( SELECT table2.id FROM table2 &quot; \r\n    \t\t\t+ &quot;     WHERE table2.table1.id = :table1Id &quot;\r\n    \t\t\t+ &quot;      AND table2.effectiveDateTime = &quot;\r\n    \t\t\t+ &quot;      ( SELECT MAX(effectiveDateTime) FROM table2&quot;\r\n    \t\t\t+ &quot;             WHERE table2.table1.id = :table1Id &quot;\r\n    \t\t\t+ &quot;              AND table2.effectiveDateTime &lt;= :currentTimestamp &quot;\r\n    \t\t\t+ &quot;      ) &quot;\r\n    \t\t\t+ &quot;  ) &quot;)\r\n    Optional&lt;Table1&gt; getEffectiveDateTimeTable2(@Param(&quot;table1Id&quot;) int table1Id, @Param(&quot;currentTimestamp&quot;) LocalDateTime currentTimestamp);\r\n\r\n","title":"Java Spring JPA Reference and return only one result from join table","body":"<p>In the end we completed this using a JPQL query. An example of the query is below in case it helps any others in the future.</p>\n<pre><code>@Query(value = &quot;SELECT table1 FROM Table1 table1 &quot; \n            + &quot; JOIN FETCH table1.table2 table2 &quot;\n            + &quot; WHERE table1.id = :table1Id&quot; \n            + &quot;  AND table2.id = &quot;\n            + &quot;  ( SELECT table2.id FROM table2 &quot; \n            + &quot;     WHERE table2.table1.id = :table1Id &quot;\n            + &quot;      AND table2.effectiveDateTime = &quot;\n            + &quot;      ( SELECT MAX(effectiveDateTime) FROM table2&quot;\n            + &quot;             WHERE table2.table1.id = :table1Id &quot;\n            + &quot;              AND table2.effectiveDateTime &lt;= :currentTimestamp &quot;\n            + &quot;      ) &quot;\n            + &quot;  ) &quot;)\nOptional&lt;Table1&gt; getEffectiveDateTimeTable2(@Param(&quot;table1Id&quot;) int table1Id, @Param(&quot;currentTimestamp&quot;) LocalDateTime currentTimestamp);\n</code></pre>\n"}],"owner":{"account_id":15763584,"reputation":47,"user_id":11374675,"display_name":"kuytsce"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1969,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72787789,"answer_count":2,"score":0,"last_activity_date":1656424602,"creation_date":1655390845,"question_id":72647749,"body_markdown":"I believe the code below is working correctly but my logic is flawed and so I&#39;m looking for help getting the results I actually want. In addition I think my attempt on the JPA method is overly convoluted and there&#39;s likely a cleaner solution. I know I can likely use @Query but I want to try and get the method name solution working as well so I can learn where I went wrong.\r\n\r\nFor simplicity I&#39;ve stripped back the DB tables in this example, however I have Table1 which is the top level table and Table2 which sits below it and has a foreign key back to Table1.\r\n\r\nTable 1 -&gt; Table 2 is a one to many relationship, I am looking to write a JPA method that will pull back a record from Table 1 when given the Table1 ID and only the current effective record from Table2 (this will be where EffectiveDateTime column is most recent but NOT future dated). Using the example below I want it to only pull back ID 8. \r\n\r\nUnfortunately, I believe with the code I have below it recognises one of those records for Table2 is within the date range required and is therefore pulling all the records back that have a relation with the ID from Table 1. I could be wrong on this though and the logic could be flawed in a different way.\r\n\r\nAny help would be appreciated. \r\n\r\n\r\n**Table1 Entity Class**\r\n```\r\n@Entity\r\n@Table(name = &quot;TABLE1&quot;)\r\npublic class Table1 {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;ID&quot;, nullable = false, unique = true)\r\n\tprivate Integer id;\r\n\t\r\n\t@OneToMany(mappedBy = &quot;table1&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n\t@Fetch(value = FetchMode.SUBSELECT)\r\n\t@JsonManagedReference\r\n\tprivate List&lt;Table2&gt; table2; \r\n\r\n    //Plus getters &amp; setters\r\n\r\n```\r\n**Table2 Entity Class**\r\n```\r\n@Entity\r\n@Table(name = &quot;TABLE2&quot;)\r\npublic class Table2{\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;ID&quot;, nullable = false, unique = true)\r\n\tprivate Integer id;\r\n\t\r\n\t@ManyToOne(cascade = CascadeType.ALL)\r\n\t@JoinColumn(name = &quot;Table1Id&quot;)\r\n\t@JsonBackReference\r\n\tprivate Table1 table1;\r\n\t\r\n\t@Column(name = &quot;EffectiveDateTime&quot;, nullable = false)\r\n\tprivate LocalDateTime effectiveDateTime;\r\n\r\n    //Plus getters &amp; setters\r\n```\r\n**Repo Class**\r\n```\r\n@Repository\r\npublic interface Repository extends JpaRepository&lt;Table1, Integer&gt;, JpaSpecificationExecutor&lt;Table1&gt;  {\r\n\t\r\n\tpublic Optional&lt;Table1&gt; findTopByIdAndTable2EffectiveDateTimeLessThanEqualOrderByTable2EffectiveDateTimeDesc(int id, LocalDateTime now);\r\n}\r\n```\r\n**Current JSON return**\r\n```\r\n{\r\n    &quot;id&quot;: 5\r\n    &quot;Table2&quot;: [\r\n        {\r\n            &quot;id&quot;: 6,\r\n            &quot;effectiveDateTime&quot;: &quot;2021-01-01T00:00:01&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: 8,\r\n            &quot;effectiveDateTime&quot;: &quot;2022-01-01T00:00:01&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: 9,\r\n            &quot;effectiveDateTime&quot;: &quot;2023-01-01T00:00:01&quot;\r\n        }\r\n    ]\r\n}\r\n```","title":"Java Spring JPA Reference and return only one result from join table","body":"<p>I believe the code below is working correctly but my logic is flawed and so I'm looking for help getting the results I actually want. In addition I think my attempt on the JPA method is overly convoluted and there's likely a cleaner solution. I know I can likely use @Query but I want to try and get the method name solution working as well so I can learn where I went wrong.</p>\n<p>For simplicity I've stripped back the DB tables in this example, however I have Table1 which is the top level table and Table2 which sits below it and has a foreign key back to Table1.</p>\n<p>Table 1 -&gt; Table 2 is a one to many relationship, I am looking to write a JPA method that will pull back a record from Table 1 when given the Table1 ID and only the current effective record from Table2 (this will be where EffectiveDateTime column is most recent but NOT future dated). Using the example below I want it to only pull back ID 8.</p>\n<p>Unfortunately, I believe with the code I have below it recognises one of those records for Table2 is within the date range required and is therefore pulling all the records back that have a relation with the ID from Table 1. I could be wrong on this though and the logic could be flawed in a different way.</p>\n<p>Any help would be appreciated.</p>\n<p><strong>Table1 Entity Class</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;TABLE1&quot;)\npublic class Table1 {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;ID&quot;, nullable = false, unique = true)\n    private Integer id;\n    \n    @OneToMany(mappedBy = &quot;table1&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n    @Fetch(value = FetchMode.SUBSELECT)\n    @JsonManagedReference\n    private List&lt;Table2&gt; table2; \n\n    //Plus getters &amp; setters\n\n</code></pre>\n<p><strong>Table2 Entity Class</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;TABLE2&quot;)\npublic class Table2{\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;ID&quot;, nullable = false, unique = true)\n    private Integer id;\n    \n    @ManyToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;Table1Id&quot;)\n    @JsonBackReference\n    private Table1 table1;\n    \n    @Column(name = &quot;EffectiveDateTime&quot;, nullable = false)\n    private LocalDateTime effectiveDateTime;\n\n    //Plus getters &amp; setters\n</code></pre>\n<p><strong>Repo Class</strong></p>\n<pre><code>@Repository\npublic interface Repository extends JpaRepository&lt;Table1, Integer&gt;, JpaSpecificationExecutor&lt;Table1&gt;  {\n    \n    public Optional&lt;Table1&gt; findTopByIdAndTable2EffectiveDateTimeLessThanEqualOrderByTable2EffectiveDateTimeDesc(int id, LocalDateTime now);\n}\n</code></pre>\n<p><strong>Current JSON return</strong></p>\n<pre><code>{\n    &quot;id&quot;: 5\n    &quot;Table2&quot;: [\n        {\n            &quot;id&quot;: 6,\n            &quot;effectiveDateTime&quot;: &quot;2021-01-01T00:00:01&quot;\n        },\n        {\n            &quot;id&quot;: 8,\n            &quot;effectiveDateTime&quot;: &quot;2022-01-01T00:00:01&quot;\n        },\n        {\n            &quot;id&quot;: 9,\n            &quot;effectiveDateTime&quot;: &quot;2023-01-01T00:00:01&quot;\n        }\n    ]\n}\n</code></pre>\n"},{"tags":["java","spring","model-view-controller","download","zipinputstream"],"answers":[{"tags":[],"owner":{"account_id":1637644,"reputation":5167,"user_id":1510701,"accept_rate":60,"display_name":"We are Borg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656424400,"creation_date":1444836501,"answer_id":33129503,"question_id":33129023,"body_markdown":"I am presuming here that you want to write a byte array to a ZIP file. As the data sent is also a ZIP file and to be saved is also ZIP file, shouldn&#39;t be a problem.\r\n\r\nTwo steps are needed: save it on disk and return the file. \r\n\r\n1\\) Save on disk part:\r\n\r\n    File file = new File(/path/to/directory/save.zip);\r\n        if (file.exists() &amp;&amp; file.isDirectory()) {\r\n            try {\r\n                OutputStream outputStream = new FileOutputStream(new File(/path/to/directory/save.zip));\r\n                outputStream.write(bytes);\r\n                outputStream.close();\r\n            } catch (IOException ignored) {\r\n    \r\n            }\r\n        } else {\r\n            // create directory and call same code\r\n        }\r\n    }\r\n\r\n2\\) Now to get it back and download it, you need a controller :\r\n\r\n    @RequestMapping(value = &quot;/download/attachment/&quot;, method = RequestMethod.GET)\r\n    public void getAttachmentFromDatabase(HttpServletResponse response) {\r\n        response.setContentType(&quot;application/octet-stream&quot;);\r\n        response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=\\&quot;&quot; + file.getFileName() + &quot;\\&quot;&quot;);\r\n    \tresponse.setContentLength(file.length);\r\n\r\n    \tFileCopyUtils.copy(file as byte-array, response.getOutputStream());\r\n    \tresponse.flushBuffer();\r\n    }\r\n\r\nI have edited the code I have, so you will have to make some changes before it suits you 100%. Let me know if this is what you were looking for. If not, I will delete my answer. Enjoy.","title":"How to convert a byte array to ZIP file and download it using Java?","body":"<p>I am presuming here that you want to write a byte array to a ZIP file. As the data sent is also a ZIP file and to be saved is also ZIP file, shouldn't be a problem.</p>\n<p>Two steps are needed: save it on disk and return the file.</p>\n<p>1) Save on disk part:</p>\n<pre><code>File file = new File(/path/to/directory/save.zip);\n    if (file.exists() &amp;&amp; file.isDirectory()) {\n        try {\n            OutputStream outputStream = new FileOutputStream(new File(/path/to/directory/save.zip));\n            outputStream.write(bytes);\n            outputStream.close();\n        } catch (IOException ignored) {\n\n        }\n    } else {\n        // create directory and call same code\n    }\n}\n</code></pre>\n<p>2) Now to get it back and download it, you need a controller :</p>\n<pre><code>@RequestMapping(value = &quot;/download/attachment/&quot;, method = RequestMethod.GET)\npublic void getAttachmentFromDatabase(HttpServletResponse response) {\n    response.setContentType(&quot;application/octet-stream&quot;);\n    response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=\\&quot;&quot; + file.getFileName() + &quot;\\&quot;&quot;);\n    response.setContentLength(file.length);\n\n    FileCopyUtils.copy(file as byte-array, response.getOutputStream());\n    response.flushBuffer();\n}\n</code></pre>\n<p>I have edited the code I have, so you will have to make some changes before it suits you 100%. Let me know if this is what you were looking for. If not, I will delete my answer. Enjoy.</p>\n"}],"owner":{"account_id":2777562,"reputation":115,"user_id":2390827,"accept_rate":60,"display_name":"user2390827"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9191,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":33129503,"answer_count":1,"score":3,"last_activity_date":1656424400,"creation_date":1444835205,"question_id":33129023,"body_markdown":"I need to write a code to convert a byte array to ZIP file and make it download in Spring MVC.\r\n\r\nByte array is coming from a webservice which is a ZIP file originally. ZIP file has a folder and the folder contains 2 files. I have written the below code to convert to byte array to `ZipInputStream`. But I am not able to convert into ZIP file. Please help me in this.\r\n\r\nHere is my code.\r\n\r\n    ZipInputStream zipStream = new ZipInputStream(new ByteArrayInputStream(bytes));\r\n    ZipEntry entry = null;\r\n    while ((entry = zipStream.getNextEntry()) != null) {\r\n    \r\n        String entryName = entry.getName();\r\n    \r\n        FileOutputStream out = new FileOutputStream(entryName);\r\n    \r\n        byte[] byteBuff = new byte[4096];\r\n        int bytesRead = 0;\r\n        while ((bytesRead = zipStream.read(byteBuff)) != -1)\r\n        {\r\n            out.write(byteBuff, 0, bytesRead);\r\n        }\r\n    \r\n        out.close();\r\n        zipStream.closeEntry();\r\n    }\r\n    zipStream.close(); ","title":"How to convert a byte array to ZIP file and download it using Java?","body":"<p>I need to write a code to convert a byte array to ZIP file and make it download in Spring MVC.</p>\n<p>Byte array is coming from a webservice which is a ZIP file originally. ZIP file has a folder and the folder contains 2 files. I have written the below code to convert to byte array to <code>ZipInputStream</code>. But I am not able to convert into ZIP file. Please help me in this.</p>\n<p>Here is my code.</p>\n<pre><code>ZipInputStream zipStream = new ZipInputStream(new ByteArrayInputStream(bytes));\nZipEntry entry = null;\nwhile ((entry = zipStream.getNextEntry()) != null) {\n\n    String entryName = entry.getName();\n\n    FileOutputStream out = new FileOutputStream(entryName);\n\n    byte[] byteBuff = new byte[4096];\n    int bytesRead = 0;\n    while ((bytesRead = zipStream.read(byteBuff)) != -1)\n    {\n        out.write(byteBuff, 0, bytesRead);\n    }\n\n    out.close();\n    zipStream.closeEntry();\n}\nzipStream.close(); \n</code></pre>\n"},{"tags":["java","mqtt","paho"],"answers":[{"tags":[],"owner":{"account_id":236814,"reputation":55963,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1656424310,"creation_date":1591626196,"answer_id":62264257,"question_id":62263089,"body_markdown":"There is NO end to end delivery notification in the MQTT protocol. The delivery complete callback is only called to notify that the message has travelled between the publishing client and the broker, it says nothing about if the message has been delivered to any down stream subscribers (there could 0 to many other clients subscribed to a given topic).\r\n\r\nOnce a message reaches the broker it may even be queued for an offline client with a persistent session.\r\n\r\nEven assuming just 1 client receives the message, any reply would be a totally separate  message not linked to the first request.\r\n\r\nMQTT is not natively a request/response system like say HTTP, it&#39;s a way to send messages to 0 to many clients that have subscribed to a give topic.\r\n\r\nMQTT v5 starts to introduce the concepts of requests/response to MQTT, but even then it&#39;s just an extra optional slot in the header to include a topic to reply on. And you can set a collation id in the message header to link the response message to the request.","title":"How to implement a request-response pattern with paho mqtt java?","body":"<p>There is NO end to end delivery notification in the MQTT protocol. The delivery complete callback is only called to notify that the message has travelled between the publishing client and the broker, it says nothing about if the message has been delivered to any down stream subscribers (there could 0 to many other clients subscribed to a given topic).</p>\n<p>Once a message reaches the broker it may even be queued for an offline client with a persistent session.</p>\n<p>Even assuming just 1 client receives the message, any reply would be a totally separate  message not linked to the first request.</p>\n<p>MQTT is not natively a request/response system like say HTTP, it's a way to send messages to 0 to many clients that have subscribed to a give topic.</p>\n<p>MQTT v5 starts to introduce the concepts of requests/response to MQTT, but even then it's just an extra optional slot in the header to include a topic to reply on. And you can set a collation id in the message header to link the response message to the request.</p>\n"},{"tags":[],"owner":{"account_id":11045514,"reputation":824,"user_id":8111821,"display_name":"JD Allen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591629222,"creation_date":1591628900,"answer_id":62265178,"question_id":62263089,"body_markdown":"MQTT is overkill for any kind of 1 Request - 1 Response....that is what APIs are for.  MQTT is best for one node sending out data to one or more nodes who are tapped into the Topic.  The sending node (Publisher) doesn&#39;t need to know about any of the receiving nodes (Subscribers)...they just all have to agree on the Topic used.\r\n\r\nThat being said, you could implement a &quot;Query&quot; Publish, and look for a &quot;Reply&quot; MQTT message back that you would subscribe to.  I have done this it the past where multiple nodes can benefit from knowing what the Reply is.  So it might look something like this:  Publish - ``q/system/status`` and Subscribe to ``r/system/status`` or ``r/system/#``. ","title":"How to implement a request-response pattern with paho mqtt java?","body":"<p>MQTT is overkill for any kind of 1 Request - 1 Response....that is what APIs are for.  MQTT is best for one node sending out data to one or more nodes who are tapped into the Topic.  The sending node (Publisher) doesn't need to know about any of the receiving nodes (Subscribers)...they just all have to agree on the Topic used.</p>\n\n<p>That being said, you could implement a \"Query\" Publish, and look for a \"Reply\" MQTT message back that you would subscribe to.  I have done this it the past where multiple nodes can benefit from knowing what the Reply is.  So it might look something like this:  Publish - <code>q/system/status</code> and Subscribe to <code>r/system/status</code> or <code>r/system/#</code>. </p>\n"},{"tags":[],"owner":{"account_id":3620019,"reputation":5321,"user_id":3019006,"accept_rate":68,"display_name":"Deb"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1656412797,"creation_date":1656060967,"answer_id":72741469,"question_id":62263089,"body_markdown":"This can be done using MQTT5.\r\n\r\n\r\nThis is how it works:\r\nSuppose you have two MQTT clients, one of which acts as a server.\r\nclient1, client2(server).\r\nclient1 publishes a message with a response topic in the message property.\r\nclient2 receives the message reads the message properties and publishes the response on that topic\r\nclient 1 gets the message on the response topic.\r\n\r\n**Here is a small implementation:**\r\n\r\nUse the following dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n        &lt;artifactId&gt;camel-paho-mqtt5&lt;/artifactId&gt;\r\n        &lt;version&gt;3.17.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nClient 1 Publish:\r\n\r\n    public void sendMessage(String messageStr){\r\n        MqttMessage message = new MqttMessage();\r\n        MqttProperties properties = new MqttProperties();\r\n        properties.setResponseTopic(&quot;response&quot;);\r\n        properties.setCorrelationData(&quot;correlation&quot;.getBytes());\r\n        message.setProperties(properties);\r\n        message.setPayload(messageStr.getBytes());\r\n        message.setQos(1);\r\n        message.setRetained(true);\r\n        try {\r\n            client.publish(&quot;test&quot;,message);\r\n        } catch (MqttException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nClient 2 (Server) Subscriber MessageListener:\r\n\r\n\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.eclipse.paho.mqttv5.client.IMqttClient;\r\n    import org.eclipse.paho.mqttv5.client.IMqttMessageListener;\r\n    import org.eclipse.paho.mqttv5.common.MqttMessage;\r\n    import org.eclipse.paho.mqttv5.common.packet.MqttProperties;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Component;\r\n    import org.springframework.util.StringUtils;\r\n    \r\n    @Slf4j\r\n    @Component\r\n    public class MessageListener implements IMqttMessageListener {\r\n        @Autowired\r\n        private IMqttClient client;\r\n    \r\n        @Override\r\n        public void messageArrived(String topic, MqttMessage message) throws Exception {\r\n            log.info(&quot;Topic : {}, Message: {}&quot;, topic,message.toString());\r\n            MqttProperties properties = new MqttProperties();\r\n            if(message.getProperties()!=null &amp;&amp; StringUtils.hasText(message.getProperties().getResponseTopic())){\r\n                MqttMessage responseMessage = new MqttMessage();\r\n                properties.setCorrelationData(message.getProperties().getCorrelationData());\r\n                responseMessage.setProperties(properties);\r\n                responseMessage.setPayload(&quot;Response&quot;.getBytes());\r\n                responseMessage.setQos(1);\r\n                responseMessage.setRetained(true);\r\n                client.publish(message.getProperties().getResponseTopic(),responseMessage);\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n\r\nThen Client 1 should subscribe to topic &quot;response&quot; to receive the response from client 2.\r\n\r\nHere is more on this:\r\n\r\nhttp://www.steves-internet-guide.com/mqttv5-request-response/\r\n\r\n\r\n","title":"How to implement a request-response pattern with paho mqtt java?","body":"<p>This can be done using MQTT5.</p>\n<p>This is how it works:\nSuppose you have two MQTT clients, one of which acts as a server.\nclient1, client2(server).\nclient1 publishes a message with a response topic in the message property.\nclient2 receives the message reads the message properties and publishes the response on that topic\nclient 1 gets the message on the response topic.</p>\n<p><strong>Here is a small implementation:</strong></p>\n<p>Use the following dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n    &lt;artifactId&gt;camel-paho-mqtt5&lt;/artifactId&gt;\n    &lt;version&gt;3.17.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Client 1 Publish:</p>\n<pre><code>public void sendMessage(String messageStr){\n    MqttMessage message = new MqttMessage();\n    MqttProperties properties = new MqttProperties();\n    properties.setResponseTopic(&quot;response&quot;);\n    properties.setCorrelationData(&quot;correlation&quot;.getBytes());\n    message.setProperties(properties);\n    message.setPayload(messageStr.getBytes());\n    message.setQos(1);\n    message.setRetained(true);\n    try {\n        client.publish(&quot;test&quot;,message);\n    } catch (MqttException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>Client 2 (Server) Subscriber MessageListener:</p>\n<pre><code>import lombok.extern.slf4j.Slf4j;\nimport org.eclipse.paho.mqttv5.client.IMqttClient;\nimport org.eclipse.paho.mqttv5.client.IMqttMessageListener;\nimport org.eclipse.paho.mqttv5.common.MqttMessage;\nimport org.eclipse.paho.mqttv5.common.packet.MqttProperties;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\nimport org.springframework.util.StringUtils;\n\n@Slf4j\n@Component\npublic class MessageListener implements IMqttMessageListener {\n    @Autowired\n    private IMqttClient client;\n\n    @Override\n    public void messageArrived(String topic, MqttMessage message) throws Exception {\n        log.info(&quot;Topic : {}, Message: {}&quot;, topic,message.toString());\n        MqttProperties properties = new MqttProperties();\n        if(message.getProperties()!=null &amp;&amp; StringUtils.hasText(message.getProperties().getResponseTopic())){\n            MqttMessage responseMessage = new MqttMessage();\n            properties.setCorrelationData(message.getProperties().getCorrelationData());\n            responseMessage.setProperties(properties);\n            responseMessage.setPayload(&quot;Response&quot;.getBytes());\n            responseMessage.setQos(1);\n            responseMessage.setRetained(true);\n            client.publish(message.getProperties().getResponseTopic(),responseMessage);\n        }\n\n    }\n}\n</code></pre>\n<p>Then Client 1 should subscribe to topic &quot;response&quot; to receive the response from client 2.</p>\n<p>Here is more on this:</p>\n<p><a href=\"http://www.steves-internet-guide.com/mqttv5-request-response/\" rel=\"nofollow noreferrer\">http://www.steves-internet-guide.com/mqttv5-request-response/</a></p>\n"}],"owner":{"account_id":1636977,"reputation":1259,"user_id":1510212,"accept_rate":50,"display_name":"Yugo Amaryl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2930,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1656424310,"creation_date":1591622537,"question_id":62263089,"body_markdown":"I&#39;d like to use [Paho MQTT Java][1] and implement some &quot;request-response&quot; pattern. What I mean by that is that in some instances the client has to talk to the server and expects a specific answer to a specific request. It feels like this lib has everything needed to match a request and a response, but I can&#39;t quite put it together.\r\n\r\nI found I can retrieve a token via `deliveryComplete`, and that I can do a `setActionCallback` on this token. But first, I&#39;m not entirely sure what an &quot;action&quot; means. Then, if it means what I think it means, how to get the actual response to my request from there?\r\n\r\n```java\r\nsampleClient.setCallback(new MqttCallback() {\r\n    @Override\r\n    public void connectionLost(Throwable cause) {\r\n    }\r\n\r\n    @Override\r\n    public void messageArrived(String topic, MqttMessage message) throws Exception {\r\n        System.out.println(topic);\r\n        System.out.println(&quot;setCallback: &quot;+ message.toString());\r\n    }\r\n\r\n    @Override\r\n    public void deliveryComplete(IMqttDeliveryToken token) {\r\n        System.out.println(token.getMessageId());\r\n        token.setActionCallback(new IMqttActionListener() {\r\n            @Override\r\n            public void onSuccess(IMqttToken asyncActionToken) {\r\n                var response = asyncActionToken.getResponse();\r\n\r\n                try {\r\n                    System.out.println(new String(response.getPayload()));\r\n                } catch (MqttException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n            @Override\r\n            public void onFailure(IMqttToken asyncActionToken, Throwable exception) {\r\n            }\r\n        });\r\n    }\r\n});\r\n```\r\n\r\n\r\n  [1]: https://github.com/eclipse/paho.mqtt.java","title":"How to implement a request-response pattern with paho mqtt java?","body":"<p>I'd like to use <a href=\"https://github.com/eclipse/paho.mqtt.java\" rel=\"nofollow noreferrer\">Paho MQTT Java</a> and implement some \"request-response\" pattern. What I mean by that is that in some instances the client has to talk to the server and expects a specific answer to a specific request. It feels like this lib has everything needed to match a request and a response, but I can't quite put it together.</p>\n\n<p>I found I can retrieve a token via <code>deliveryComplete</code>, and that I can do a <code>setActionCallback</code> on this token. But first, I'm not entirely sure what an \"action\" means. Then, if it means what I think it means, how to get the actual response to my request from there?</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>sampleClient.setCallback(new MqttCallback() {\n    @Override\n    public void connectionLost(Throwable cause) {\n    }\n\n    @Override\n    public void messageArrived(String topic, MqttMessage message) throws Exception {\n        System.out.println(topic);\n        System.out.println(\"setCallback: \"+ message.toString());\n    }\n\n    @Override\n    public void deliveryComplete(IMqttDeliveryToken token) {\n        System.out.println(token.getMessageId());\n        token.setActionCallback(new IMqttActionListener() {\n            @Override\n            public void onSuccess(IMqttToken asyncActionToken) {\n                var response = asyncActionToken.getResponse();\n\n                try {\n                    System.out.println(new String(response.getPayload()));\n                } catch (MqttException e) {\n                    e.printStackTrace();\n                }\n            }\n            @Override\n            public void onFailure(IMqttToken asyncActionToken, Throwable exception) {\n            }\n        });\n    }\n});\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1656424360,"post_id":72787648,"comment_id":128565342,"body_markdown":"`JMenuItem Interface = new JMenuItem(&quot;Interface Options&quot;);` &lt;- Doing this inside a method will create a local variable. This local variable will be different from the field you declared at class level and are using in the actionPerformed method. If you instead want to instantiate your already existing field remove the type at the beginning: `Interface = new JMenuItem(&quot;Interface Options&quot;);`. Same for your other field/local variable.","body":"<code>JMenuItem Interface = new JMenuItem(&quot;Interface Options&quot;);</code> &lt;- Doing this inside a method will create a local variable. This local variable will be different from the field you declared at class level and are using in the actionPerformed method. If you instead want to instantiate your already existing field remove the type at the beginning: <code>Interface = new JMenuItem(&quot;Interface Options&quot;);</code>. Same for your other field/local variable."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1656424479,"post_id":72787648,"comment_id":128565400,"body_markdown":"Also, variable names should NOT start with an upper case character. Some of your variable names are correct others are not. Be consistent and follow Java naming conventions.","body":"Also, variable names should NOT start with an upper case character. Some of your variable names are correct others are not. Be consistent and follow Java naming conventions."},{"owner":{"account_id":23190433,"reputation":27,"user_id":17286881,"display_name":"Brainmated"},"score":0,"creation_date":1656424674,"post_id":72787648,"comment_id":128565489,"body_markdown":"Thank you for the fast reply, but thankfully in java i cannot declare a variable with value =&quot;interface&quot; because interface is brought by the default library, that&#39;s the only reason that I renamed it to &quot;Interface&quot;.","body":"Thank you for the fast reply, but thankfully in java i cannot declare a variable with value =&quot;interface&quot; because interface is brought by the default library, that&#39;s the only reason that I renamed it to &quot;Interface&quot;."},{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1656425837,"post_id":72787648,"comment_id":128565969,"body_markdown":"Call it something else then, for example interfaceMenuItem.","body":"Call it something else then, for example interfaceMenuItem."},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1656435840,"post_id":72787648,"comment_id":128569983,"body_markdown":"The message &quot;Error&quot; is produced on every invocation of the `actionPerformed` method - it does not actually indicate an error has occurred.  I would strongly suggest that you create a separate ActionListener for each component rather than trying to have your parent object (i.e. BearFrame) manage all of the behaviors.","body":"The message &quot;Error&quot; is produced on every invocation of the <code>actionPerformed</code> method - it does not actually indicate an error has occurred.  I would strongly suggest that you create a separate ActionListener for each component rather than trying to have your parent object (i.e. BearFrame) manage all of the behaviors."}],"owner":{"account_id":23190433,"reputation":27,"user_id":17286881,"display_name":"Brainmated"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656424188,"creation_date":1656424147,"question_id":72787648,"body_markdown":"I&#39;m trying to implement some actionListeners to my JMenuItems in order to get them working. Ideally I&#39;ve created:\r\n```\r\npublic class BearFrame extends JFrame implements ActionListener{\r\n\r\n   private JFrame frame;\r\n   private JLabel label;   \r\n   private JMenuItem Interface;\r\n   private JMenuItem sql; \r\n\r\n   public BearFrame() {\r\n\t\t\r\n\t\tJFrame frame = new JFrame();\r\n\t\tframe.setTitle(&quot;BearHouse Management System&quot;);\r\n\t\t\r\n\t\tframe.setExtendedState(JFrame.MAXIMIZED_BOTH);\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe.setResizable(false);\r\n\t\tJMenuBar menuBar = new JMenuBar();\r\n\t\tframe.setJMenuBar(menuBar);\r\n\t\t\r\n\t\t/**\r\n\t\t *\r\n\t\t * @file-----------------------------------------------------------------------------------------------------------------\r\n\t\t */\r\n\t\tJMenu file = new JMenu(&quot;File&quot;);\r\n\t\tmenuBar.add(file);\r\n\t\t\r\n\t\tJMenuItem Interface = new JMenuItem(&quot;Interface Options&quot;);\r\n\t\tfile.add(Interface);\r\n\t\tInterface.addActionListener(this);\r\n\t\tInterface.setToolTipText(&quot;Edit your personal UI preferences&quot;);\r\n\t\t\r\n\t\t\r\n\t\tJMenuItem sql = new JMenuItem(&quot;SQL Operations&quot;);\r\n\t\tfile.add(sql);\r\n\t\tsql.addActionListener(this);\r\n\t\tsql.setToolTipText(&quot;Import Database/Edit&quot;);\r\n\r\n        frame.setVisible(true);\r\n\t\t\r\n\t}\r\n\r\n    public void actionPerformed(ActionEvent ae) {\r\n    // TODO Auto-generated method stub\r\n\tif(ae.getSource() == Interface) {\r\n\t\t\r\n\t\tSystem.out.println(&quot;Test&quot;);\r\n\t}\r\n\telse if(ae.getSource()==sql){\r\n\t\tSystem.out.println(&quot;Test1&quot;);\t\r\n\t}\r\n\t\tSystem.out.println(&quot;Error&quot;);\r\n}\r\n```\r\nThe problem is that whenever I get to run the program, the console just prints the &quot;Error&quot; message, even though I click on the correct JMenuItems.\r\n[Console Output][1]\r\n\t\t\r\nAny feedback would be greatly appreciated. \r\n**Note**: This is not the full program but I think it covers exactly the points needed to determine whether I lost something on the way.\r\n\r\n  [1]: https://i.stack.imgur.com/si3OC.png","title":"Java-Assigning an Action Listener to a JMenuItem, cannot figure out what&#39;s wrong","body":"<p>I'm trying to implement some actionListeners to my JMenuItems in order to get them working. Ideally I've created:</p>\n<pre><code>public class BearFrame extends JFrame implements ActionListener{\n\n   private JFrame frame;\n   private JLabel label;   \n   private JMenuItem Interface;\n   private JMenuItem sql; \n\n   public BearFrame() {\n        \n        JFrame frame = new JFrame();\n        frame.setTitle(&quot;BearHouse Management System&quot;);\n        \n        frame.setExtendedState(JFrame.MAXIMIZED_BOTH);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setResizable(false);\n        JMenuBar menuBar = new JMenuBar();\n        frame.setJMenuBar(menuBar);\n        \n        /**\n         *\n         * @file-----------------------------------------------------------------------------------------------------------------\n         */\n        JMenu file = new JMenu(&quot;File&quot;);\n        menuBar.add(file);\n        \n        JMenuItem Interface = new JMenuItem(&quot;Interface Options&quot;);\n        file.add(Interface);\n        Interface.addActionListener(this);\n        Interface.setToolTipText(&quot;Edit your personal UI preferences&quot;);\n        \n        \n        JMenuItem sql = new JMenuItem(&quot;SQL Operations&quot;);\n        file.add(sql);\n        sql.addActionListener(this);\n        sql.setToolTipText(&quot;Import Database/Edit&quot;);\n\n        frame.setVisible(true);\n        \n    }\n\n    public void actionPerformed(ActionEvent ae) {\n    // TODO Auto-generated method stub\n    if(ae.getSource() == Interface) {\n        \n        System.out.println(&quot;Test&quot;);\n    }\n    else if(ae.getSource()==sql){\n        System.out.println(&quot;Test1&quot;);    \n    }\n        System.out.println(&quot;Error&quot;);\n}\n</code></pre>\n<p>The problem is that whenever I get to run the program, the console just prints the &quot;Error&quot; message, even though I click on the correct JMenuItems.\n<a href=\"https://i.stack.imgur.com/si3OC.png\" rel=\"nofollow noreferrer\">Console Output</a></p>\n<p>Any feedback would be greatly appreciated.\n<strong>Note</strong>: This is not the full program but I think it covers exactly the points needed to determine whether I lost something on the way.</p>\n"},{"tags":["java","android","android-studio","kotlin"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1656225235,"post_id":72709533,"comment_id":128516496,"body_markdown":"Your `getByteArrayFromBitmap()` method should be named `getByteBufferFromBitmap()`, as that&#39;s what it returns. Don&#39;t confuse yourself with your own naming scheme.","body":"Your <code>getByteArrayFromBitmap()</code> method should be named <code>getByteBufferFromBitmap()</code>, as that&#39;s what it returns. Don&#39;t confuse yourself with your own naming scheme."},{"owner":{"account_id":12960896,"reputation":447,"user_id":9370183,"display_name":"Pratik Adhikari"},"score":0,"creation_date":1656233638,"post_id":72709533,"comment_id":128517698,"body_markdown":"Yeah, I know that and I have explained the situation pretty well in my question.","body":"Yeah, I know that and I have explained the situation pretty well in my question."},{"owner":{"account_id":18318368,"reputation":742,"user_id":13339685,"display_name":"mohit48"},"score":0,"creation_date":1656414923,"post_id":72709533,"comment_id":128561395,"body_markdown":"Have you tried using Coroutines for the conversion? I had a similar situation, where I had to perform AR operation on Bitmap. Using Coroutines will remove the jitter or frame dropping, but there will surely be a small gap, but that gap will be quite consistent","body":"Have you tried using Coroutines for the conversion? I had a similar situation, where I had to perform AR operation on Bitmap. Using Coroutines will remove the jitter or frame dropping, but there will surely be a small gap, but that gap will be quite consistent"},{"owner":{"account_id":12960896,"reputation":447,"user_id":9370183,"display_name":"Pratik Adhikari"},"score":0,"creation_date":1657080341,"post_id":72709533,"comment_id":128721538,"body_markdown":"The result is still the same even by using coroutines. Don&#39;t know, maybe I have used it in the wrong way. Can you please show how you have used it? &#128591;","body":"The result is still the same even by using coroutines. Don&#39;t know, maybe I have used it in the wrong way. Can you please show how you have used it? 🙏"}],"answers":[{"tags":[],"owner":{"account_id":12628709,"reputation":1,"user_id":9181087,"display_name":"Kunal Chowdhury"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656424097,"creation_date":1656423975,"answer_id":72787608,"question_id":72709533,"body_markdown":"I think we can use a memory mapped file e.g. MappedByteBuffer that can serve as a store to hold the rgb byte buffer. Now we can use a windowing mechanism e.g. sliding window/ tumbling window and process the data as per the windowing method. This way we can process the streaming data. Once the processing is done we can delete the underlying file for the mappedbytebuffer. Also the window can hold the start/end address of the mappedbytebuffer. Moreover the exact size of the window may depend on the bandwidth of the network.  ","title":"How to convert ByteBuffer to bitmap and vice versa without dropping the frames?","body":"<p>I think we can use a memory mapped file e.g. MappedByteBuffer that can serve as a store to hold the rgb byte buffer. Now we can use a windowing mechanism e.g. sliding window/ tumbling window and process the data as per the windowing method. This way we can process the streaming data. Once the processing is done we can delete the underlying file for the mappedbytebuffer. Also the window can hold the start/end address of the mappedbytebuffer. Moreover the exact size of the window may depend on the bandwidth of the network.</p>\n"}],"owner":{"account_id":12960896,"reputation":447,"user_id":9370183,"display_name":"Pratik Adhikari"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":675,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":1,"score":3,"last_activity_date":1656424097,"creation_date":1655870451,"question_id":72709533,"body_markdown":"I have a ByteBuffer:\r\n\r\n    var rgbaData = JniUtil.nativeAllocateByteBuffer(frame.width * frame.height * 4)\r\n    \r\nwhere the frame is the VideoFrame obtained from live streaming media. I want to apply the [HighPassSkinSmoothing][1] filter to the bitmap obtained from the above&#39;s buffer, convert the bitmap back to ByteArray, put it in the ByteBuffer and then release it back to the live streaming media. I have done the following to convert the buffer to bitmap, apply the filter and then again convert the bitmap to the ByteArray, and put it in the buffer.\r\n\r\nFor applying the HighPassSkinSmoothing Filter:\r\n\r\n    val bitmap = getBitmapFromBuffer(frame.width, frame.height, rgbaData)\r\n\r\n    amniXSkinSmooth.storeBitmap(bitmap, false)\r\n    amniXSkinSmooth.initSdk()\r\n    amniXSkinSmooth.startSkinSmoothness(600F)\r\n    amniXSkinSmooth.startSkinWhiteness(2F)\r\n    //sometimes &quot;amniXSkinSmooth.bitmapAndFree&quot; is also null, might be due to wrong conversion process\r\n    rgbaData.put(getByteArrayFromBitmap(amniXSkinSmooth.bitmapAndFree))\r\n    amniXSkinSmooth.unInitSdk();\r\n\r\nConverting ByteBuffer to Bitmap:\r\n\r\n    private fun getBitmapFromBuffer(width: Int, height: Int, buffer: ByteBuffer): Bitmap {\r\n        buffer.rewind()\r\n        val bitmap = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888)\r\n        bitmap.copyPixelsFromBuffer(buffer)\r\n        return bitmap\r\n    }\r\n    \r\n\r\nConvert Bitmap back to ByteArray:\r\n    \r\n    private fun getByteArrayFromBitmap(b: Bitmap): ByteArray {\r\n      val size: Int = b.byteCount\r\n      val buffer = ByteBuffer.allocate(size)\r\n      val bytes = ByteArray(size)\r\n      b.copyPixelsToBuffer(buffer)\r\n      buffer.rewind()\r\n      buffer.get(bytes)\r\n      return bytes\r\n    }\r\n\r\n\r\nBy doing this, I am losing the frames and the live streaming is also lagging after applying the filter. Is there any workaround to this so that the frames wouldn&#39;t drop and the live streaming also wouldn&#39;t lag?\r\n\r\nIf you guys have any idea or knowledge regarding the conversion process or anything, your help would be much much appreciated. Thank you!!\r\n\r\n  [1]: https://github.com/msoftware/HighPassSkinSmoothing-Android#:~:text=The%20main%20theory%20behind%20High,frequencies%20represented%20as%20sine%20waves","title":"How to convert ByteBuffer to bitmap and vice versa without dropping the frames?","body":"<p>I have a ByteBuffer:</p>\n<pre><code>var rgbaData = JniUtil.nativeAllocateByteBuffer(frame.width * frame.height * 4)\n</code></pre>\n<p>where the frame is the VideoFrame obtained from live streaming media. I want to apply the <a href=\"https://github.com/msoftware/HighPassSkinSmoothing-Android#:%7E:text=The%20main%20theory%20behind%20High,frequencies%20represented%20as%20sine%20waves\" rel=\"nofollow noreferrer\">HighPassSkinSmoothing</a> filter to the bitmap obtained from the above's buffer, convert the bitmap back to ByteArray, put it in the ByteBuffer and then release it back to the live streaming media. I have done the following to convert the buffer to bitmap, apply the filter and then again convert the bitmap to the ByteArray, and put it in the buffer.</p>\n<p>For applying the HighPassSkinSmoothing Filter:</p>\n<pre><code>val bitmap = getBitmapFromBuffer(frame.width, frame.height, rgbaData)\n\namniXSkinSmooth.storeBitmap(bitmap, false)\namniXSkinSmooth.initSdk()\namniXSkinSmooth.startSkinSmoothness(600F)\namniXSkinSmooth.startSkinWhiteness(2F)\n//sometimes &quot;amniXSkinSmooth.bitmapAndFree&quot; is also null, might be due to wrong conversion process\nrgbaData.put(getByteArrayFromBitmap(amniXSkinSmooth.bitmapAndFree))\namniXSkinSmooth.unInitSdk();\n</code></pre>\n<p>Converting ByteBuffer to Bitmap:</p>\n<pre><code>private fun getBitmapFromBuffer(width: Int, height: Int, buffer: ByteBuffer): Bitmap {\n    buffer.rewind()\n    val bitmap = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888)\n    bitmap.copyPixelsFromBuffer(buffer)\n    return bitmap\n}\n</code></pre>\n<p>Convert Bitmap back to ByteArray:</p>\n<pre><code>private fun getByteArrayFromBitmap(b: Bitmap): ByteArray {\n  val size: Int = b.byteCount\n  val buffer = ByteBuffer.allocate(size)\n  val bytes = ByteArray(size)\n  b.copyPixelsToBuffer(buffer)\n  buffer.rewind()\n  buffer.get(bytes)\n  return bytes\n}\n</code></pre>\n<p>By doing this, I am losing the frames and the live streaming is also lagging after applying the filter. Is there any workaround to this so that the frames wouldn't drop and the live streaming also wouldn't lag?</p>\n<p>If you guys have any idea or knowledge regarding the conversion process or anything, your help would be much much appreciated. Thank you!!</p>\n"},{"tags":["java","android","database","mongodb"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1636864988,"post_id":69939446,"comment_id":123669033,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":20082430,"reputation":11,"user_id":18670772,"display_name":"sachin kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656424051,"creation_date":1656424051,"answer_id":72787622,"question_id":69939446,"body_markdown":"**MongoDB is also available for android** &lt;br&gt;\r\nThe only problem is that it does not have well-structured documentation for android..\r\n\r\nI recently managed to connect my android application to the remote database\r\n\r\nhere is a sample unit application\r\n&lt;a href=&quot;https://github.com/i-sachinkumar/MongoDB-for-Android&quot;&gt;https://github.com/i-sachinkumar/MongoDB-for-Android&lt;/a&gt;\r\n\r\n\r\n  [1]: https://github.com/i-sachinkumar/MongoDB-for-Android\r\n*Its readme file contains all the steps to be followed in the back-end as well as in the android studio*\r\n\r\n**Enjoy**","title":"MongoDB with Android Studio","body":"<p><strong>MongoDB is also available for android</strong> <br>\nThe only problem is that it does not have well-structured documentation for android..</p>\n<p>I recently managed to connect my android application to the remote database</p>\n<p>here is a sample unit application\n<a href=\"https://github.com/i-sachinkumar/MongoDB-for-Android\" rel=\"nofollow noreferrer\">https://github.com/i-sachinkumar/MongoDB-for-Android</a></p>\n<p><em>Its readme file contains all the steps to be followed in the back-end as well as in the android studio</em></p>\n<p><strong>Enjoy</strong></p>\n"}],"owner":{"account_id":22723125,"reputation":1,"user_id":16887339,"display_name":"shaikds"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656424051,"creation_date":1636703071,"question_id":69939446,"body_markdown":"ALL questions I saw here is too old for understanding so I&#39;m asking a new one.\r\nIm building a social media app that stores data, and will ,at the end, send notification even when the app is offline.\r\nIs MongoDB is a good choice to use with Android Studio to my project ?\r\nI understood that I need first to connect it to Realm and by Realm I use MongoDB.\r\nDo you think its a good DB to use with Android? if it is, do you have any good guides for it?\r\nIf not, is there any other DB to use that is easy to learn\\use?\r\n\r\nPS\r\nI dont want to use Firebase, because of its pricing.\r\nThank you .","title":"MongoDB with Android Studio","body":"<p>ALL questions I saw here is too old for understanding so I'm asking a new one.\nIm building a social media app that stores data, and will ,at the end, send notification even when the app is offline.\nIs MongoDB is a good choice to use with Android Studio to my project ?\nI understood that I need first to connect it to Realm and by Realm I use MongoDB.\nDo you think its a good DB to use with Android? if it is, do you have any good guides for it?\nIf not, is there any other DB to use that is easy to learn\\use?</p>\n<p>PS\nI dont want to use Firebase, because of its pricing.\nThank you .</p>\n"},{"tags":["java","concurrency"],"comments":[{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":2,"creation_date":1656337994,"post_id":72773073,"comment_id":128540568,"body_markdown":"Use a https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Semaphore.html instead. There are several pitfalls with wait. You need to own the synchronization lock and the object you are waiting on should be private so that it cannot be signaled by accident and... easier just to use a higher-level class that works!","body":"Use a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Semaphore.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/concurrent/&hellip;</a> instead. There are several pitfalls with wait. You need to own the synchronization lock and the object you are waiting on should be private so that it cannot be signaled by accident and... easier just to use a higher-level class that works!"},{"owner":{"display_name":"user19427038"},"score":0,"creation_date":1656340235,"post_id":72773073,"comment_id":128541497,"body_markdown":"Ok but i can&#39;t use that, I have to implement it...","body":"Ok but i can&#39;t use that, I have to implement it..."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1656343852,"post_id":72773073,"comment_id":128543095,"body_markdown":"From [the documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Thread.html#join(long)): “*It is recommended that applications not use wait, notify, or notifyAll on Thread instances*”","body":"From <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Thread.html#join(long)\" rel=\"nofollow noreferrer\">the documentation</a>: “<i>It is recommended that applications not use wait, notify, or notifyAll on Thread instances</i>”"},{"owner":{"display_name":"user19427038"},"score":0,"creation_date":1656355605,"post_id":72773073,"comment_id":128547264,"body_markdown":"ye but I have to do it, so I would like an answer ahah","body":"ye but I have to do it, so I would like an answer ahah"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1656357346,"post_id":72773073,"comment_id":128547736,"body_markdown":"No, I cannot believe that your instructions tell you specifically to call the wait, notify or notifyAll methods on a Thread instance.  Please show those instructions to us.","body":"No, I cannot believe that your instructions tell you specifically to call the wait, notify or notifyAll methods on a Thread instance.  Please show those instructions to us."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1656365694,"post_id":72773073,"comment_id":128550090,"body_markdown":"FYI: This tutorial will tell you everything you need to know about using `wait()`, `notify()`, and `notifyAll()`. https://docs.oracle.com/javase/tutorial/essential/concurrency/guardmeth.html","body":"FYI: This tutorial will tell you everything you need to know about using <code>wait()</code>, <code>notify()</code>, and <code>notifyAll()</code>. <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/guardmeth.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/concurrency/&hellip;</a>"},{"owner":{"display_name":"user19427038"},"score":0,"creation_date":1656406066,"post_id":72773073,"comment_id":128557964,"body_markdown":"mmmh my trace says: &quot;Whenever Join() is called, the caller blocks &quot; the caller if im using the concurrency is ofc the thread no? so i thought that I have to do wait() on the thread, i&#39;m I wrong?","body":"mmmh my trace says: &quot;Whenever Join() is called, the caller blocks &quot; the caller if im using the concurrency is ofc the thread no? so i thought that I have to do wait() on the thread, i&#39;m I wrong?"},{"owner":{"display_name":"user19427038"},"score":0,"creation_date":1656406697,"post_id":72773073,"comment_id":128558212,"body_markdown":"Ok so for example, after 5 threads calling the join() method I have to wake up them all. Could you please check the new version of the code? Now I&#39;m gonna to edit it","body":"Ok so for example, after 5 threads calling the join() method I have to wake up them all. Could you please check the new version of the code? Now I&#39;m gonna to edit it"}],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656419685,"creation_date":1656419685,"answer_id":72786536,"question_id":72773073,"body_markdown":"I can see that you have not yet read [the tutorial](https://docs.oracle.com/javase/tutorial/essential/concurrency/guardmeth.html).\r\n\r\n**TLDR:** There is only one correct way to call `wait()`:\r\n\r\n``` lang-java\r\nsynchronized(lock) {\r\n    while (! condition) {\r\n        lock.wait();\r\n    }\r\n    doSomethingThatRequiresConditionToBeTrue();\r\n}\r\n```\r\n\r\nAnd, when you call notify() or notifyAll():\r\n\r\n``` lang-java\r\nsynchronized(lock) {\r\n    doSomethingThatMakesConditionTrue();\r\n    lock.notifyAll();\r\n}\r\n```\r\n\r\nThe `condition` is some boolean expression that your program guarantees not to change except when the `lock` is locked.\r\n\r\nThis pattern guarantees \r\n\r\n1. `doSomethingThatRequiresConditionToBeTrue()` cannot be called unless the `condition` is true. Not even if `wait()` returns prematurely.\\*\r\n\r\n1. `wait()` can _not_ be called if the `condition` is true.\r\n\r\nThe second point is more important than it looks. If your thread is awaiting an event that only happens one time, and if the `lock.notify()` call associated with that event happens _before_ the `lock.wait()` call, then the `lock.wait()` probably will _never_ return. That bug has a name: &quot;[lost&#160;notification](https://en.wikipedia.org/wiki/Monitor_(synchronization)#Nonblocking_condition_variables).&quot;\r\n\r\n----------------\r\n\r\n\\* The documentation for `o.wait()` warns that it could sometimes return even when `o` has not been notified.\r\n","title":"Thread.wait() when it enters in a method","body":"<p>I can see that you have not yet read <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/guardmeth.html\" rel=\"nofollow noreferrer\">the tutorial</a>.</p>\n<p><strong>TLDR:</strong> There is only one correct way to call <code>wait()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>synchronized(lock) {\n    while (! condition) {\n        lock.wait();\n    }\n    doSomethingThatRequiresConditionToBeTrue();\n}\n</code></pre>\n<p>And, when you call notify() or notifyAll():</p>\n<pre class=\"lang-java prettyprint-override\"><code>synchronized(lock) {\n    doSomethingThatMakesConditionTrue();\n    lock.notifyAll();\n}\n</code></pre>\n<p>The <code>condition</code> is some boolean expression that your program guarantees not to change except when the <code>lock</code> is locked.</p>\n<p>This pattern guarantees</p>\n<ol>\n<li><p><code>doSomethingThatRequiresConditionToBeTrue()</code> cannot be called unless the <code>condition</code> is true. Not even if <code>wait()</code> returns prematurely.*</p>\n</li>\n<li><p><code>wait()</code> can <em>not</em> be called if the <code>condition</code> is true.</p>\n</li>\n</ol>\n<p>The second point is more important than it looks. If your thread is awaiting an event that only happens one time, and if the <code>lock.notify()</code> call associated with that event happens <em>before</em> the <code>lock.wait()</code> call, then the <code>lock.wait()</code> probably will <em>never</em> return. That bug has a name: &quot;<a href=\"https://en.wikipedia.org/wiki/Monitor_(synchronization)#Nonblocking_condition_variables\" rel=\"nofollow noreferrer\">lost notification</a>.&quot;</p>\n<hr />\n<p>* The documentation for <code>o.wait()</code> warns that it could sometimes return even when <code>o</code> has not been notified.</p>\n"}],"owner":{"display_name":"user19427038"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1656424028,"creation_date":1656337181,"question_id":72773073,"body_markdown":"Is is correct doing this\r\n\r\n    owner=Thread.currentThread();\r\n    owner.wait();\r\n\r\nif I want to make a thread wait when it calls the function?\r\n\r\nI&#39;ve tried to to something like this:\r\n\r\n    private Thread owner;\r\n    public void join() {\r\n\t\tThread thread= new Thread(()-&gt; {\r\n\t\t\ttry {\r\n\t\t\t\towner= Thread.currentThread();\r\n\t\t\t\towner.wait();\t\t\t\t\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t});\r\n\t\tthread.start();\r\n\r\nand then to wake up the thread\r\n\r\n    public void wakeUp() {\t\t\t\r\n\t\t\tnotifyAll();\r\n\t}\r\n\r\n\r\nNEW VERSION: waiting until I reach 5 wait ()\r\n\r\n    private Object mutex = new Object();\r\n    private volatile int counter;\r\n    private boolean condition=false;\r\n\r\n    public void enter() {\r\n\t\tsynchronized (mutex) {\r\n\t\t\tcounter++;\r\n\t\t\twhile (!condition) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tmutex.wait();\r\n\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\t\r\n\t\t\texit();\r\n\t\t}\r\n\t}\r\n    public void exit() {\r\n\t\tSystem.out.println(&quot;exit()&quot;);\r\n     }\r\n\r\n    public void checkK() {\r\n\t\tsynchronized (mutex) {\r\n\t\t\tif(counter&gt;=5) {\r\n\t\t\t\tmutex.notifyAll();\r\n\t\t\t\tcounter=0;\r\n\t\t\t\tcondition=true;\r\n\t\t\t}\r\n\t\t}\t\r\n\t}","title":"Thread.wait() when it enters in a method","body":"<p>Is is correct doing this</p>\n<pre><code>owner=Thread.currentThread();\nowner.wait();\n</code></pre>\n<p>if I want to make a thread wait when it calls the function?</p>\n<p>I've tried to to something like this:</p>\n<pre><code>private Thread owner;\npublic void join() {\n    Thread thread= new Thread(()-&gt; {\n        try {\n            owner= Thread.currentThread();\n            owner.wait();               \n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    });\n    thread.start();\n</code></pre>\n<p>and then to wake up the thread</p>\n<pre><code>public void wakeUp() {          \n        notifyAll();\n}\n</code></pre>\n<p>NEW VERSION: waiting until I reach 5 wait ()</p>\n<pre><code>private Object mutex = new Object();\nprivate volatile int counter;\nprivate boolean condition=false;\n\npublic void enter() {\n    synchronized (mutex) {\n        counter++;\n        while (!condition) {\n            try {\n                mutex.wait();\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }   \n        exit();\n    }\n}\npublic void exit() {\n    System.out.println(&quot;exit()&quot;);\n }\n\npublic void checkK() {\n    synchronized (mutex) {\n        if(counter&gt;=5) {\n            mutex.notifyAll();\n            counter=0;\n            condition=true;\n        }\n    }   \n}\n</code></pre>\n"},{"tags":["java","mongodb","connection"],"comments":[{"owner":{"account_id":13141180,"reputation":4284,"user_id":9492730,"display_name":"dododo"},"score":0,"creation_date":1640708504,"post_id":70508060,"comment_id":124639413,"body_markdown":"I guess you have this problem not only in Android studio (at least if you try), if so, please don&#39;t post unrelated details to the title of question. Also the title should contain error description for example error message as well as error message should be part of question. So please update the question.","body":"I guess you have this problem not only in Android studio (at least if you try), if so, please don&#39;t post unrelated details to the title of question. Also the title should contain error description for example error message as well as error message should be part of question. So please update the question."},{"owner":{"account_id":13141180,"reputation":4284,"user_id":9492730,"display_name":"dododo"},"score":0,"creation_date":1640708717,"post_id":70508060,"comment_id":124639479,"body_markdown":"as for the question, atlas provides a guide how to connect to your application. `Databases` -&gt; `Connect` -&gt; `Connect your application` -&gt; `Select your driver and version` (java + version) -&gt; `Add your connection string into your application code` -&gt; check `Include full driver code example`","body":"as for the question, atlas provides a guide how to connect to your application. <code>Databases</code> -&gt; <code>Connect</code> -&gt; <code>Connect your application</code> -&gt; <code>Select your driver and version</code> (java + version) -&gt; <code>Add your connection string into your application code</code> -&gt; check <code>Include full driver code example</code>"},{"owner":{"account_id":13141180,"reputation":4284,"user_id":9492730,"display_name":"dododo"},"score":0,"creation_date":1640708880,"post_id":70508060,"comment_id":124639547,"body_markdown":"you should also make sure that firewall (and similar) is not in play on your side as well as `Network Access` is properly configured on atlas side","body":"you should also make sure that firewall (and similar) is not in play on your side as well as <code>Network Access</code> is properly configured on atlas side"},{"owner":{"account_id":13141180,"reputation":4284,"user_id":9492730,"display_name":"dododo"},"score":0,"creation_date":1640708951,"post_id":70508060,"comment_id":124639573,"body_markdown":"also, I would recommend using `mongodb+srv` connection string form","body":"also, I would recommend using <code>mongodb+srv</code> connection string form"}],"owner":{"account_id":18519063,"reputation":1,"user_id":13492555,"display_name":"Alberto Omini"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":269,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656423824,"creation_date":1640699730,"question_id":70508060,"body_markdown":"It&#39;s three days i&#39;m trying to connect an Android 6.0 app to an ATLAS mongodb Database\r\nthis is the connection settings:\r\n\r\n         String ConnectionString = &quot;mongodb://&quot; + UserName +&quot;:&quot; + Password + &quot;@&quot; +\r\n                &quot;xxxxxxxxxxx-00-00.8yajj.mongodb.net:27017,&quot;+\r\n                &quot;xxxxxxxxxxx-00-01.8yajj.mongodb.net:27017,&quot; +\r\n                &quot;xxxxxxxxxxx-00-02.8yajj.mongodb.net:27017/&quot; +\r\n                &quot;?ssl=true&quot;;\r\n            ConnectionString _connectionString = new  ConnectionString(ConnectionString);\r\n            MongoClient _client = MongoClients.create(_connectionString);\r\n            MongoDatabase _database = _client.getDatabase(DbName);\r\n            MongoCollection _collection = _database.getCollection(CollectionName);\r\n\r\n            Document sampleDoc = new Document(&quot;_id&quot;,&quot;1&quot;).append(&quot;name&quot;,&quot;Caccola Pelosa&quot;);\r\n            _collection.insertOne(sampleDoc);\r\n\r\nWhat&#39;s is wrong ?\r\ni&#39;m trying to use SCRAM authentication and X.509.........not working at all !!!!\r\nany help will be appreciate","title":"MongoDB in Android studio","body":"<p>It's three days i'm trying to connect an Android 6.0 app to an ATLAS mongodb Database\nthis is the connection settings:</p>\n<pre><code>     String ConnectionString = &quot;mongodb://&quot; + UserName +&quot;:&quot; + Password + &quot;@&quot; +\n            &quot;xxxxxxxxxxx-00-00.8yajj.mongodb.net:27017,&quot;+\n            &quot;xxxxxxxxxxx-00-01.8yajj.mongodb.net:27017,&quot; +\n            &quot;xxxxxxxxxxx-00-02.8yajj.mongodb.net:27017/&quot; +\n            &quot;?ssl=true&quot;;\n        ConnectionString _connectionString = new  ConnectionString(ConnectionString);\n        MongoClient _client = MongoClients.create(_connectionString);\n        MongoDatabase _database = _client.getDatabase(DbName);\n        MongoCollection _collection = _database.getCollection(CollectionName);\n\n        Document sampleDoc = new Document(&quot;_id&quot;,&quot;1&quot;).append(&quot;name&quot;,&quot;Caccola Pelosa&quot;);\n        _collection.insertOne(sampleDoc);\n</code></pre>\n<p>What's is wrong ?\ni'm trying to use SCRAM authentication and X.509.........not working at all !!!!\nany help will be appreciate</p>\n"},{"tags":["java","pdf","extract","tabulizer"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1656400815,"post_id":72774158,"comment_id":128556094,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":25662042,"reputation":1,"user_id":19427674,"display_name":"saph"},"score":0,"creation_date":1656423244,"post_id":72774158,"comment_id":128564836,"body_markdown":"Sure. Just included the code that I wrote as well.","body":"Sure. Just included the code that I wrote as well."}],"owner":{"account_id":25662042,"reputation":1,"user_id":19427674,"display_name":"saph"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656423359,"creation_date":1656341642,"question_id":72774158,"body_markdown":"I&#39;m trying to extract tables from several pdf files and used the Tabulizer library. However, as I use the extract_tables function, I keep getting this error: \r\n**Error in .jcall(&quot;RJavaTools&quot;, &quot;Ljava/lang/Object;&quot;, &quot;invokeMethod&quot;, cl,  : \r\n  java.lang.IllegalAccessException: class RJavaTools cannot access a member of class java.util.ArrayList$Itr (in module java.base) with modifiers &quot;public&quot;**.\r\nI have macOS Big Sur(M1, 2020) and have the latest version of Java and R installed. I would appreciate any help and guidance. \r\nHere is the code that I used:\r\n\r\nlibrary(tabulizer)\r\nlibrary(rJava)                                                                                           library(pdftools)\r\n   setwd(file.path(dirname(rstudioapi::getActiveDocumentContext()$path),&#39;Input Files&#39;)) \r\n\r\npdf_files&lt;- list.files(pattern = &quot;.pdf$&quot;)\r\n\r\npdf_joined&lt;- pdf_combine(pdf_files,output = &quot;joined.pdf&quot;)\r\nf &lt;- &quot;joined.pdf&quot;\r\n\r\nout1 &lt;- extract_tables(f)","title":"Error with PDF scraping using Tabulizer library","body":"<p>I'm trying to extract tables from several pdf files and used the Tabulizer library. However, as I use the extract_tables function, I keep getting this error:\n<strong>Error in .jcall(&quot;RJavaTools&quot;, &quot;Ljava/lang/Object;&quot;, &quot;invokeMethod&quot;, cl,  :\njava.lang.IllegalAccessException: class RJavaTools cannot access a member of class java.util.ArrayList$Itr (in module java.base) with modifiers &quot;public&quot;</strong>.\nI have macOS Big Sur(M1, 2020) and have the latest version of Java and R installed. I would appreciate any help and guidance.\nHere is the code that I used:</p>\n<p>library(tabulizer)\nlibrary(rJava)                                                                                           library(pdftools)\nsetwd(file.path(dirname(rstudioapi::getActiveDocumentContext()$path),'Input Files'))</p>\n<p>pdf_files&lt;- list.files(pattern = &quot;.pdf$&quot;)</p>\n<p>pdf_joined&lt;- pdf_combine(pdf_files,output = &quot;joined.pdf&quot;)\nf &lt;- &quot;joined.pdf&quot;</p>\n<p>out1 &lt;- extract_tables(f)</p>\n"},{"tags":["java","jakarta-ee","webserver"],"answers":[{"tags":[],"owner":{"account_id":1885169,"reputation":34027,"user_id":1704529,"display_name":"Yogendra Singh"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1353816440,"creation_date":1353816440,"answer_id":13548164,"question_id":13548130,"body_markdown":"`Application client container` is nothing but the group of you application client e.g. EJB Client, along with required libraries and the Java Virtual Machine(JVM). \r\n\r\nTo better understand, take example of EJB. You develop and deploy your EJB on your application server(EJB Container). Now you can distribute your EJB client JAR along with dependent JARs(if any) which can be used to access your deployed EJB bean using a simple JAVA client program running on a JVM. This client execution environment is termed as `Application client container`.\r\n\r\nFurther details are available here : [Application client container](http://docs.oracle.com/cd/E19229-01/819-0600/msgappclient.html)","title":"Java EE Application client container","body":"<p><code>Application client container</code> is nothing but the group of you application client e.g. EJB Client, along with required libraries and the Java Virtual Machine(JVM). </p>\n\n<p>To better understand, take example of EJB. You develop and deploy your EJB on your application server(EJB Container). Now you can distribute your EJB client JAR along with dependent JARs(if any) which can be used to access your deployed EJB bean using a simple JAVA client program running on a JVM. This client execution environment is termed as <code>Application client container</code>.</p>\n\n<p>Further details are available here : <a href=\"http://docs.oracle.com/cd/E19229-01/819-0600/msgappclient.html\" rel=\"nofollow\">Application client container</a></p>\n"}],"owner":{"account_id":1761249,"reputation":869,"user_id":1608306,"accept_rate":28,"display_name":"FrankD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4058,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1656423345,"creation_date":1353816067,"question_id":13548130,"body_markdown":"There are 3 types of containers for a Java EE server\r\n\r\n1. EJB container\r\n\r\n2. Web container\r\n\r\n3. Application client container for which I found a definition saying;\r\n\r\n\r\n&gt; Manages the execution of application client components. The client\r\n&gt; container runs on client machine.\r\n\r\nBut I don&#39;t understand how a Java EE container can reside in a client machine in contrast to the EJB and Web container that both run on a server?\r\n\r\nCan someone give me a example of what is really meant by application client components?\r\n\r\n","title":"Java EE Application client container","body":"<p>There are 3 types of containers for a Java EE server</p>\n\n<ol>\n<li><p>EJB container</p></li>\n<li><p>Web container</p></li>\n<li><p>Application client container for which I found a definition saying;</p></li>\n</ol>\n\n<blockquote>\n  <p>Manages the execution of application client components. The client\n  container runs on client machine.</p>\n</blockquote>\n\n<p>But I don't understand how a Java EE container can reside in a client machine in contrast to the EJB and Web container that both run on a server?</p>\n\n<p>Can someone give me a example of what is really meant by application client components?</p>\n"},{"tags":["java","postgresql","amazon-rds","hikaricp","failover"],"owner":{"account_id":14907030,"reputation":23,"user_id":10763897,"display_name":"Lukas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":365,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656422968,"creation_date":1656422968,"question_id":72787331,"body_markdown":"I currently have an Aws Rds Postgres multi AZ(13.4) database and multiple Java(Spring + hibernate) Applications that use the database with:\r\n```      &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n      &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n      &lt;version&gt;42.2.24&lt;/version&gt;\r\n```\r\nand \r\n```\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hibernate-hikaricp&lt;/artifactId&gt;\r\n      &lt;version&gt;5.6.7.Final&lt;/version&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\r\n      &lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\r\n      &lt;version&gt;4.0.3&lt;/version&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n```\r\nI configured HikariCP like this:\r\n```\r\n\tpublic DataSource hikariDataSource() {\r\n\t\t// Adjusting Cache since RDS failover can/will result in a different IP for the Database\r\n\t\tjava.security.Security.setProperty(&quot;networkaddress.cache.ttl&quot;, &quot;1&quot;);\r\n\t\tjava.security.Security.setProperty(&quot;networkaddress.cache.negative.ttl&quot;, &quot;3&quot;);\r\n\r\n       ....\r\n       final HikariConfig config = new HikariConfig();\r\n\t\tconfig.setJdbcUrl(jdbcURL);\r\n\t\tconfig.setUsername(user);\r\n\t\tconfig.setPassword(password);\r\n\r\n\t\t// Initial Connect wait time\r\n\t\tconfig.setConnectionTimeout(60000);\r\n\t\t// &quot;We strongly recommend setting this value, and it should be several seconds shorter than any database or\r\n\t\t// infrastructure imposed connection time limit.&quot;\r\n\t\tconfig.setMaxLifetime(50000);\r\n\t\tconfig.addDataSourceProperty(&quot;socketTimeout&quot;, &quot;60&quot;);\r\n\t\t// This value must be less than the maxLifetime value\r\n\t\tconfig.setKeepaliveTime(30000);\r\n\t\tconfig.setMaximumPoolSize(6);\r\n\t\tconfig.setMinimumIdle(2);\r\n\t\tconfig.setIdleTimeout(45000);\r\n\r\n\t\treturn new HikariDataSource(config);\r\n\r\n```\r\n\r\nWhen I trigger a failover of the AWS multi AZ Database HikariCP will acknowledge that the connection is lost and after a while reconnect. So far so good. If my Application was in the middle of a Query while the failover occurred, the Application will throw an error because the Connection was lost, something like:\r\n```\r\n2022-06-21 10:45:10 WARN  com.zaxxer.hikari.pool.PoolBase - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@7ca90935 (This connection has been closed.). Possibly consider using a shorter maxLifetime value. \r\n2022-06-21 10:45:10 DEBUG com.zaxxer.hikari.pool.PoolBase - HikariPool-1 - Closing connection org.postgresql.jdbc.PgConnection@7ca90935: (connection is dead) \r\n2022-06-21 10:45:10 DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7f52ac10 \r\n2022-06-21 10:45:20 WARN  com.zaxxer.hikari.pool.ProxyConnection - HikariPool-1 - Connection org.postgresql.jdbc.PgConnection@24118275 marked as broken because of SQLSTATE(08006), ErrorCode(0) \r\norg.postgresql.util.PSQLException: An I/O error occurred while sending to the backend.\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:349)\r\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)\r\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)\r\n...\r\n```\r\nand\r\n```\r\n2022-06-21 10:45:20 DEBUG com.zaxxer.hikari.pool.PoolBase - HikariPool-1 - Closing connection org.postgresql.jdbc.PgConnection@24118275: (connection is broken) \r\n2022-06-21 10:45:20 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 08006 \r\n2022-06-21 10:45:20 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper - An I/O error occurred while sending to the backend. \r\n2022-06-21 10:45:20 WARN  org.hibernate.engine.loading.internal.LoadContexts - HHH000100: Fail-safe cleanup (collections) : org.hibernate.engine.loading.internal.CollectionLoadContext@314419c8&lt;rs=HikariProxyResultSet@320236451 wrapping org.postgresql.jdbc.PgResultSet@af06e&gt; \r\n2022-06-21 10:45:20 WARN  org.hibernate.engine.loading.internal.CollectionLoadContext - HHH000160: On CollectionLoadContext#cleanup, localLoadingCollectionKeys contained [1] entries \r\n2022-06-21 10:45:20 ERROR org.springframework.transaction.interceptor.TransactionInterceptor - Application exception overridden by rollback exception \r\norg.springframework.dao.DataAccessResourceFailureException: could not extract ResultSet; nested exception is org.hibernate.exception.JDBCConnectionException: could not extract ResultSet\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:255)\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\r\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\n...\r\n```\r\n\r\nNow I want to get rid of these errors.\r\nIn Mongodb there are Retryable Reads/Writes which wait for a new Primary to be elected, before retrying a query once. Is there something similar I can do with Postgres? I already tried doing a Multi-Az Cluster Setup, but even then the connection is simply lost, error thrown and reestablished.","title":"AWS RDS Postgres - Retry failed Query automatically after reconnecting/failover","body":"<p>I currently have an Aws Rds Postgres multi AZ(13.4) database and multiple Java(Spring + hibernate) Applications that use the database with:</p>\n<pre><code>      &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n      &lt;version&gt;42.2.24&lt;/version&gt;\n</code></pre>\n<p>and</p>\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n      &lt;artifactId&gt;hibernate-hikaricp&lt;/artifactId&gt;\n      &lt;version&gt;5.6.7.Final&lt;/version&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\n      &lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\n      &lt;version&gt;4.0.3&lt;/version&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I configured HikariCP like this:</p>\n<pre><code>    public DataSource hikariDataSource() {\n        // Adjusting Cache since RDS failover can/will result in a different IP for the Database\n        java.security.Security.setProperty(&quot;networkaddress.cache.ttl&quot;, &quot;1&quot;);\n        java.security.Security.setProperty(&quot;networkaddress.cache.negative.ttl&quot;, &quot;3&quot;);\n\n       ....\n       final HikariConfig config = new HikariConfig();\n        config.setJdbcUrl(jdbcURL);\n        config.setUsername(user);\n        config.setPassword(password);\n\n        // Initial Connect wait time\n        config.setConnectionTimeout(60000);\n        // &quot;We strongly recommend setting this value, and it should be several seconds shorter than any database or\n        // infrastructure imposed connection time limit.&quot;\n        config.setMaxLifetime(50000);\n        config.addDataSourceProperty(&quot;socketTimeout&quot;, &quot;60&quot;);\n        // This value must be less than the maxLifetime value\n        config.setKeepaliveTime(30000);\n        config.setMaximumPoolSize(6);\n        config.setMinimumIdle(2);\n        config.setIdleTimeout(45000);\n\n        return new HikariDataSource(config);\n\n</code></pre>\n<p>When I trigger a failover of the AWS multi AZ Database HikariCP will acknowledge that the connection is lost and after a while reconnect. So far so good. If my Application was in the middle of a Query while the failover occurred, the Application will throw an error because the Connection was lost, something like:</p>\n<pre><code>2022-06-21 10:45:10 WARN  com.zaxxer.hikari.pool.PoolBase - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@7ca90935 (This connection has been closed.). Possibly consider using a shorter maxLifetime value. \n2022-06-21 10:45:10 DEBUG com.zaxxer.hikari.pool.PoolBase - HikariPool-1 - Closing connection org.postgresql.jdbc.PgConnection@7ca90935: (connection is dead) \n2022-06-21 10:45:10 DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7f52ac10 \n2022-06-21 10:45:20 WARN  com.zaxxer.hikari.pool.ProxyConnection - HikariPool-1 - Connection org.postgresql.jdbc.PgConnection@24118275 marked as broken because of SQLSTATE(08006), ErrorCode(0) \norg.postgresql.util.PSQLException: An I/O error occurred while sending to the backend.\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:349)\n    at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)\n...\n</code></pre>\n<p>and</p>\n<pre><code>2022-06-21 10:45:20 DEBUG com.zaxxer.hikari.pool.PoolBase - HikariPool-1 - Closing connection org.postgresql.jdbc.PgConnection@24118275: (connection is broken) \n2022-06-21 10:45:20 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 08006 \n2022-06-21 10:45:20 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper - An I/O error occurred while sending to the backend. \n2022-06-21 10:45:20 WARN  org.hibernate.engine.loading.internal.LoadContexts - HHH000100: Fail-safe cleanup (collections) : org.hibernate.engine.loading.internal.CollectionLoadContext@314419c8&lt;rs=HikariProxyResultSet@320236451 wrapping org.postgresql.jdbc.PgResultSet@af06e&gt; \n2022-06-21 10:45:20 WARN  org.hibernate.engine.loading.internal.CollectionLoadContext - HHH000160: On CollectionLoadContext#cleanup, localLoadingCollectionKeys contained [1] entries \n2022-06-21 10:45:20 ERROR org.springframework.transaction.interceptor.TransactionInterceptor - Application exception overridden by rollback exception \norg.springframework.dao.DataAccessResourceFailureException: could not extract ResultSet; nested exception is org.hibernate.exception.JDBCConnectionException: could not extract ResultSet\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:255)\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\n    at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n...\n</code></pre>\n<p>Now I want to get rid of these errors.\nIn Mongodb there are Retryable Reads/Writes which wait for a new Primary to be elected, before retrying a query once. Is there something similar I can do with Postgres? I already tried doing a Multi-Az Cluster Setup, but even then the connection is simply lost, error thrown and reestablished.</p>\n"},{"tags":["java","eclipse","gradle"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1656403579,"post_id":72782132,"comment_id":128557003,"body_markdown":"So does it work when you copy your _OpenJdk11_ to a directory with a path without spaces?","body":"So does it work when you copy your <i>OpenJdk11</i> to a directory with a path without spaces?"},{"owner":{"account_id":3400010,"reputation":889,"user_id":2852466,"accept_rate":50,"display_name":"Ravi"},"score":0,"creation_date":1656404278,"post_id":72782132,"comment_id":128557270,"body_markdown":"@howlger, no. it doesn&#39;t. I believe the location is being picked up from the path variable. somehow this is not changing even after changing the path in the system &quot;-Djavax.net.ssl.trustStore=&quot;C:\\Program Files\\OpenJdk11\\lib\\security\\cacerts&quot;","body":"@howlger, no. it doesn&#39;t. I believe the location is being picked up from the path variable. somehow this is not changing even after changing the path in the system &quot;-Djavax.net.ssl.trustStore=&quot;C:\\Program Files\\OpenJdk11\\lib\\security\\cacerts&quot;"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1656419187,"post_id":72782132,"comment_id":128563063,"body_markdown":"In which error log do you see the error? The error log of Eclipse? If yes, please show it starting with `!SESSION` and tell with which Java do you run Eclipse.","body":"In which error log do you see the error? The error log of Eclipse? If yes, please show it starting with <code>!SESSION</code> and tell with which Java do you run Eclipse."},{"owner":{"account_id":3400010,"reputation":889,"user_id":2852466,"accept_rate":50,"display_name":"Ravi"},"score":0,"creation_date":1656421344,"post_id":72782132,"comment_id":128564052,"body_markdown":"@howlger, the error is seen in the &quot;Problems&quot; section of eclipse. I copied the exception by Right click -&gt; Copy","body":"@howlger, the error is seen in the &quot;Problems&quot; section of eclipse. I copied the exception by Right click -&gt; Copy"},{"owner":{"account_id":3400010,"reputation":889,"user_id":2852466,"accept_rate":50,"display_name":"Ravi"},"score":0,"creation_date":1656422184,"post_id":72782132,"comment_id":128564383,"body_markdown":"@howlger, I also checked the eclipse logs and I see `java.version=17.0.1`. However, I have OpenJdk11 installed in my box. Not sure how this version is being picked up","body":"@howlger, I also checked the eclipse logs and I see <code>java.version=17.0.1</code>. However, I have OpenJdk11 installed in my box. Not sure how this version is being picked up"}],"answers":[{"tags":[],"owner":{"account_id":3400010,"reputation":889,"user_id":2852466,"accept_rate":50,"display_name":"Ravi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656422945,"creation_date":1656422945,"answer_id":72787327,"question_id":72782132,"body_markdown":"I solved this by manually adding a vm argument to the gradle configuration of the project like this (&quot;C:\\Program Files&quot; still didn&#39;t work. I had to change the location to another location without spaces in the name).\r\n\r\n    -Djavax.net.ssl.trustStore=&quot;D:\\OpenJdk11\\lib\\security\\cacerts&quot;","title":"Gradle build error in eclipse: Could not find or load main class Files\\OpenJdk11\\lib\\security\\cacerts","body":"<p>I solved this by manually adding a vm argument to the gradle configuration of the project like this (&quot;C:\\Program Files&quot; still didn't work. I had to change the location to another location without spaces in the name).</p>\n<pre><code>-Djavax.net.ssl.trustStore=&quot;D:\\OpenJdk11\\lib\\security\\cacerts&quot;\n</code></pre>\n"}],"owner":{"account_id":3400010,"reputation":889,"user_id":2852466,"accept_rate":50,"display_name":"Ravi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":321,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72787327,"answer_count":1,"score":0,"last_activity_date":1656422945,"creation_date":1656400435,"question_id":72782132,"body_markdown":"I tried to import a gradle project into eclipse workspace and selected \r\n\r\n&gt; Gradle -&gt; Refresh dependencies\r\n\r\nBut, I am seeing the following error in the error log\r\n\r\n    Could not run phased build action using connection to Gradle distribution &#39;https://services.gradle.org/distributions/gradle-5.6.3-bin.zip&#39;.\r\n    Unable to start the daemon process.\r\n    This problem might be caused by incorrect configuration of the daemon.\r\n    For example, an unrecognized jvm option is used.\r\n    Please refer to the User Manual chapter on the daemon at https://docs.gradle.org/5.6.3/userguide/gradle_daemon.html\r\n    Process command line: C:\\Program Files\\OpenJdk11\\bin\\java.exe --add-opens java.base/java.util=ALL-UNNAMED --add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/java.lang.invoke=ALL-UNNAMED --add-opens java.prefs/java.util.prefs=ALL-UNNAMED -XX:MaxMetaspaceSize=256m -XX:+HeapDumpOnOutOfMemoryError -Xms256m -Xmx512m -Dfile.encoding=windows-1252 -Djavax.net.ssl.trustStore=&quot;C:\\Program Files\\OpenJdk11\\lib\\security\\cacerts&quot; -Duser.country=IN -Duser.language=en -Duser.variant -cp C:\\Users\\raviteja.kothapalli\\.gradle\\wrapper\\dists\\gradle-5.6.3-bin\\71q0cerxks9z090hthk8vq8r7\\gradle-5.6.3\\lib\\gradle-launcher-5.6.3.jar org.gradle.launcher.daemon.bootstrap.GradleDaemon 5.6.3\r\n    Please read the following process output to find out more:\r\n    -----------------------\r\n    Error: Could not find or load main class Files\\OpenJdk11\\lib\\security\\cacerts\r\n    Caused by: java.lang.ClassNotFoundException: Files\\OpenJdk11\\lib\\security\\cacerts\tmy-project line 0\tGradle Error Marker\r\n\r\nFrom the last line, it sounds like the gradle vm is somehow unable to understand the space between &quot;Program Files&quot; folder and hence giving the error `java.lang.ClassNotFoundException: Files\\OpenJdk11\\lib\\security\\cacerts`\r\n\r\nNote: The build is successful through command line though.\r\n\r\nThese are the gradle settings in eclipse\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/F5oMy.png","title":"Gradle build error in eclipse: Could not find or load main class Files\\OpenJdk11\\lib\\security\\cacerts","body":"<p>I tried to import a gradle project into eclipse workspace and selected</p>\n<blockquote>\n<p>Gradle -&gt; Refresh dependencies</p>\n</blockquote>\n<p>But, I am seeing the following error in the error log</p>\n<pre><code>Could not run phased build action using connection to Gradle distribution 'https://services.gradle.org/distributions/gradle-5.6.3-bin.zip'.\nUnable to start the daemon process.\nThis problem might be caused by incorrect configuration of the daemon.\nFor example, an unrecognized jvm option is used.\nPlease refer to the User Manual chapter on the daemon at https://docs.gradle.org/5.6.3/userguide/gradle_daemon.html\nProcess command line: C:\\Program Files\\OpenJdk11\\bin\\java.exe --add-opens java.base/java.util=ALL-UNNAMED --add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/java.lang.invoke=ALL-UNNAMED --add-opens java.prefs/java.util.prefs=ALL-UNNAMED -XX:MaxMetaspaceSize=256m -XX:+HeapDumpOnOutOfMemoryError -Xms256m -Xmx512m -Dfile.encoding=windows-1252 -Djavax.net.ssl.trustStore=&quot;C:\\Program Files\\OpenJdk11\\lib\\security\\cacerts&quot; -Duser.country=IN -Duser.language=en -Duser.variant -cp C:\\Users\\raviteja.kothapalli\\.gradle\\wrapper\\dists\\gradle-5.6.3-bin\\71q0cerxks9z090hthk8vq8r7\\gradle-5.6.3\\lib\\gradle-launcher-5.6.3.jar org.gradle.launcher.daemon.bootstrap.GradleDaemon 5.6.3\nPlease read the following process output to find out more:\n-----------------------\nError: Could not find or load main class Files\\OpenJdk11\\lib\\security\\cacerts\nCaused by: java.lang.ClassNotFoundException: Files\\OpenJdk11\\lib\\security\\cacerts   my-project line 0   Gradle Error Marker\n</code></pre>\n<p>From the last line, it sounds like the gradle vm is somehow unable to understand the space between &quot;Program Files&quot; folder and hence giving the error <code>java.lang.ClassNotFoundException: Files\\OpenJdk11\\lib\\security\\cacerts</code></p>\n<p>Note: The build is successful through command line though.</p>\n<p>These are the gradle settings in eclipse</p>\n<p><a href=\"https://i.stack.imgur.com/F5oMy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F5oMy.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","hibernate","jpa","one-to-many","many-to-one"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1656420810,"post_id":72786606,"comment_id":128563816,"body_markdown":"The cascadeType is not the issue, that much I can tell. I would guess that it has something to do with caching and test not actually committing the data to the database. Once you commit the inserts to the database and query afterwards, it should work fine. You can test it by manually creating entities in the database and then searching by ID in the test. This should then properly return the values you expect","body":"The cascadeType is not the issue, that much I can tell. I would guess that it has something to do with caching and test not actually committing the data to the database. Once you commit the inserts to the database and query afterwards, it should work fine. You can test it by manually creating entities in the database and then searching by ID in the test. This should then properly return the values you expect"}],"answers":[{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656422833,"creation_date":1656422833,"answer_id":72787298,"question_id":72786606,"body_markdown":"This is a bidirectional relationship that is controlled by the OperatingFacility.company reference - it is common for users to only set this one side and think JPA will automatically fix the other side for you; this is not the case. If you add it to one side, you must maintain both sides to keep the model in synch with the database as they are POJOs that may be cached. If you don&#39;t add operatingFacility to the company&#39;s list yourself, it will only get there if you force a refresh/reload of the entity from the database using em.refresh(). A read in a cleared context (em.clear()) might also work if there isn&#39;t a second level cache.","title":"Bidirectional relation without cascadeType doesn&#39;t fetch sub-entities","body":"<p>This is a bidirectional relationship that is controlled by the OperatingFacility.company reference - it is common for users to only set this one side and think JPA will automatically fix the other side for you; this is not the case. If you add it to one side, you must maintain both sides to keep the model in synch with the database as they are POJOs that may be cached. If you don't add operatingFacility to the company's list yourself, it will only get there if you force a refresh/reload of the entity from the database using em.refresh(). A read in a cleared context (em.clear()) might also work if there isn't a second level cache.</p>\n"}],"owner":{"account_id":333116,"reputation":1720,"user_id":658801,"display_name":"zolv"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1656422833,"creation_date":1656419986,"question_id":72786606,"body_markdown":"I have a problem with loading a collection of related entites with `@OneToMany` and `@ManyToOne` mapping with no `cascadeType` set.\r\n\r\nFYI, we use Lombok.\r\n\r\nBase entity - a parent class of all our entities:\r\n```\r\n@SuperBuilder\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@MappedSuperclass\r\n@EntityListeners(AuditingEntityListener.class)\r\npublic abstract class BaseEntity {\r\n\r\n  @Id\r\n  @GeneratedValue\r\n  @Column(columnDefinition = &quot;uuid&quot;, updatable = false)\r\n  private UUID id;\r\n\r\n  @Version @Builder.Default private long version = 1;\r\n}\r\n```\r\nAn entity on &quot;one&quot; side:\r\n```\r\n@SuperBuilder\r\n@Getter\r\n@Setter\r\n@ToString(includeFieldNames = true)\r\n@EqualsAndHashCode(callSuper = true)\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(name = &quot;companies&quot;)\r\npublic class Company extends BaseEntity {\r\n\r\n  @ToString.Exclude\r\n  @OneToMany(mappedBy = &quot;company&quot;)\r\n  private List&lt;OperatingFacility&gt; operatingFacilities;\r\n\r\n}\r\n```\r\nAn entity on &quot;many&quot; side:\r\n```\r\n@SuperBuilder\r\n@Getter\r\n@Setter\r\n@ToString(includeFieldNames = true)\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(name = &quot;operating_facilities&quot;)\r\npublic class OperatingFacility extends BaseEntity {\r\n\r\n  @ToString.Exclude\r\n  @ManyToOne()\r\n  @JoinColumn(name = &quot;company_id&quot;)\r\n  private Company company;\r\n\r\n}\r\n```\r\nHere is my test case:\r\n```\r\n    Company company = companyRepository.save(Company.builder().build());\r\n\r\n    OperatingFacility operatingFacility =\r\n        operatingFacilityRepository.save(\r\n            OperatingFacility.builder()\r\n                .company(company)\r\n                .build());\r\n\r\n    final List&lt;OperatingFacility&gt; gotFoundByCompanyId =\r\n        operatingFacilityRepository.findByCompanyId(company.getId());\r\n\r\n    // SUCCESS At this point a link looks OK\r\n    Assertions.assertEquals(1, gotFoundByCompanyId.size());\r\n\r\n    Optional&lt;Company&gt; companyOptional = companyRepository.findById(company.getId());\r\n    Assertions.assertTrue(companyOptional.isPresent());\r\n    Assertions.assertNotNull(companyOptional.get().getOperatingFacilities());\r\n    \r\n    // FAIL When gathering operating facilities from Company, then there are 0\r\n    Assertions.assertEquals(1, companyOptional.get().getOperatingFacilities().size());\r\n```\r\n\r\nWhen I search for `OperatingFacilities` by company id, then it works just fine. \r\nBut when I want to get them using a fetched `Company` then a collection is empty (not null).\r\n\r\nI&#39;ve checked similar questions e.g. https://stackoverflow.com/questions/9108224/can-someone-explain-mappedby-in-jpa-and-hibernate , but I do thing exactly as other working solutions.\r\n\r\nOne point what is different is there is no `cascadeType` set in `Company`. I want to handle `OperatingFacility` items using a dedicated `OperatingFacilityRepository`.","title":"Bidirectional relation without cascadeType doesn&#39;t fetch sub-entities","body":"<p>I have a problem with loading a collection of related entites with <code>@OneToMany</code> and <code>@ManyToOne</code> mapping with no <code>cascadeType</code> set.</p>\n<p>FYI, we use Lombok.</p>\n<p>Base entity - a parent class of all our entities:</p>\n<pre><code>@SuperBuilder\n@Getter\n@Setter\n@NoArgsConstructor\n@MappedSuperclass\n@EntityListeners(AuditingEntityListener.class)\npublic abstract class BaseEntity {\n\n  @Id\n  @GeneratedValue\n  @Column(columnDefinition = &quot;uuid&quot;, updatable = false)\n  private UUID id;\n\n  @Version @Builder.Default private long version = 1;\n}\n</code></pre>\n<p>An entity on &quot;one&quot; side:</p>\n<pre><code>@SuperBuilder\n@Getter\n@Setter\n@ToString(includeFieldNames = true)\n@EqualsAndHashCode(callSuper = true)\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;companies&quot;)\npublic class Company extends BaseEntity {\n\n  @ToString.Exclude\n  @OneToMany(mappedBy = &quot;company&quot;)\n  private List&lt;OperatingFacility&gt; operatingFacilities;\n\n}\n</code></pre>\n<p>An entity on &quot;many&quot; side:</p>\n<pre><code>@SuperBuilder\n@Getter\n@Setter\n@ToString(includeFieldNames = true)\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;operating_facilities&quot;)\npublic class OperatingFacility extends BaseEntity {\n\n  @ToString.Exclude\n  @ManyToOne()\n  @JoinColumn(name = &quot;company_id&quot;)\n  private Company company;\n\n}\n</code></pre>\n<p>Here is my test case:</p>\n<pre><code>    Company company = companyRepository.save(Company.builder().build());\n\n    OperatingFacility operatingFacility =\n        operatingFacilityRepository.save(\n            OperatingFacility.builder()\n                .company(company)\n                .build());\n\n    final List&lt;OperatingFacility&gt; gotFoundByCompanyId =\n        operatingFacilityRepository.findByCompanyId(company.getId());\n\n    // SUCCESS At this point a link looks OK\n    Assertions.assertEquals(1, gotFoundByCompanyId.size());\n\n    Optional&lt;Company&gt; companyOptional = companyRepository.findById(company.getId());\n    Assertions.assertTrue(companyOptional.isPresent());\n    Assertions.assertNotNull(companyOptional.get().getOperatingFacilities());\n    \n    // FAIL When gathering operating facilities from Company, then there are 0\n    Assertions.assertEquals(1, companyOptional.get().getOperatingFacilities().size());\n</code></pre>\n<p>When I search for <code>OperatingFacilities</code> by company id, then it works just fine.\nBut when I want to get them using a fetched <code>Company</code> then a collection is empty (not null).</p>\n<p>I've checked similar questions e.g. <a href=\"https://stackoverflow.com/questions/9108224/can-someone-explain-mappedby-in-jpa-and-hibernate\">Can someone explain mappedBy in JPA and Hibernate?</a> , but I do thing exactly as other working solutions.</p>\n<p>One point what is different is there is no <code>cascadeType</code> set in <code>Company</code>. I want to handle <code>OperatingFacility</code> items using a dedicated <code>OperatingFacilityRepository</code>.</p>\n"},{"tags":["java","spring-boot","character-encoding"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1656421595,"post_id":72786924,"comment_id":128564151,"body_markdown":"The source system can’t send send Arabic text as ISO-8859-1, as this encoding doesn’t have Arabic characters at all. Your receiving side is wrongly assuming the received bytes to be ISO-8859-1. Fix that instead of messing around with the wrong result.","body":"The source system can’t send send Arabic text as ISO-8859-1, as this encoding doesn’t have Arabic characters at all. Your receiving side is wrongly assuming the received bytes to be ISO-8859-1. Fix that instead of messing around with the wrong result."},{"owner":{"account_id":5910384,"reputation":937,"user_id":4650838,"accept_rate":56,"display_name":"Anirban"},"score":0,"creation_date":1656421765,"post_id":72786924,"comment_id":128564218,"body_markdown":"I was able to get back the Arabic characters by using the above utility, selecting Encode with ISO-8859-1 and Decode with ISO-8859-6. I was trying to do the equivalent thing in Java so that I can get back the Arabic text.","body":"I was able to get back the Arabic characters by using the above utility, selecting Encode with ISO-8859-1 and Decode with ISO-8859-6. I was trying to do the equivalent thing in Java so that I can get back the Arabic text."},{"owner":{"account_id":5910384,"reputation":937,"user_id":4650838,"accept_rate":56,"display_name":"Anirban"},"score":0,"creation_date":1656422049,"post_id":72786924,"comment_id":128564324,"body_markdown":"The code above was pasted wrongly which I now fixed","body":"The code above was pasted wrongly which I now fixed"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1656422169,"post_id":72786924,"comment_id":128564375,"body_markdown":"This doesn’t matter. Your problem description is completely wrong. If you encode “امدرسة هوجورتس” with ISO-8859-1, you just get “?????? ???????”, as said, there are no Arabic characters in this encoding. This also implies that the statement that, whatever “the queue manager” is, used UTF-8 is also wrong as you can never get “&#199;&#229;&#207;&#209;&#211;&#201; &#231;&#232;&#204;&#232;&#209;&#202;&#211;” from interpreting wrong bytes as UTF-8. And even if your kludges happen to produce something that look right, you should instead configure your queue manager to do the right thing in the first place, i.e. interpret ISO-8859-6 as ISO-8859-6 when receiving.","body":"This doesn’t matter. Your problem description is completely wrong. If you encode “امدرسة هوجورتس” with ISO-8859-1, you just get “?????? ???????”, as said, there are no Arabic characters in this encoding. This also implies that the statement that, whatever “the queue manager” is, used UTF-8 is also wrong as you can never get “&#199;&#229;&#207;&#209;&#211;&#201; &#231;&#232;&#204;&#232;&#209;&#202;&#211;” from interpreting wrong bytes as UTF-8. And even if your kludges happen to produce something that look right, you should instead configure your queue manager to do the right thing in the first place, i.e. interpret ISO-8859-6 as ISO-8859-6 when receiving."},{"owner":{"account_id":5910384,"reputation":937,"user_id":4650838,"accept_rate":56,"display_name":"Anirban"},"score":0,"creation_date":1656422278,"post_id":72786924,"comment_id":128564419,"body_markdown":"So will I try to change the encoding of the queue manager to ISO-8859-6 and try first?","body":"So will I try to change the encoding of the queue manager to ISO-8859-6 and try first?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1656422676,"post_id":72786924,"comment_id":128564593,"body_markdown":"I don’t know anything about your specific software, but generally, that’s what I said. Decode the bytes as they are received from the source using the right encoding. For completeness, the conversion you made at that website is equivalent to `new String(&quot;&#199;&#229;&#207;&#209;&#211;&#201; &#231;&#232;&#204;&#232;&#209;&#202;&#211;&quot;.getBytes(&quot;ISO-8859-1&quot;), &quot;ISO-8859-6&quot;)`, but you shouldn’t do such conversions after the fact. It will lead to more problems in the future.","body":"I don’t know anything about your specific software, but generally, that’s what I said. Decode the bytes as they are received from the source using the right encoding. For completeness, the conversion you made at that website is equivalent to <code>new String(&quot;&#199;&#229;&#207;&#209;&#211;&#201; &#231;&#232;&#204;&#232;&#209;&#202;&#211;&quot;.getBytes(&quot;ISO-8859-1&quot;), &quot;ISO-8859-6&quot;)</code>, but you shouldn’t do such conversions after the fact. It will lead to more problems in the future."},{"owner":{"account_id":5910384,"reputation":937,"user_id":4650838,"accept_rate":56,"display_name":"Anirban"},"score":0,"creation_date":1656422970,"post_id":72786924,"comment_id":128564731,"body_markdown":"Ok thanks Holger, I will try that way and post again if there are problems","body":"Ok thanks Holger, I will try that way and post again if there are problems"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1656423838,"post_id":72786924,"comment_id":128565087,"body_markdown":"I did not read whether it already was stated that `String#getBytes()` uses the default platform encoding which is not portable. Holger specified the encoding in getBytes. Also note that browsers interprete ISO-8859-1 (Latin-1) as Windows-1252 (MS Latin-1 with more symbols).  So you might use that instead to not miss some Arabic characters.","body":"I did not read whether it already was stated that <code>String#getBytes()</code> uses the default platform encoding which is not portable. Holger specified the encoding in getBytes. Also note that browsers interprete ISO-8859-1 (Latin-1) as Windows-1252 (MS Latin-1 with more symbols).  So you might use that instead to not miss some Arabic characters."},{"owner":{"account_id":5910384,"reputation":937,"user_id":4650838,"accept_rate":56,"display_name":"Anirban"},"score":0,"creation_date":1656425366,"post_id":72786924,"comment_id":128565785,"body_markdown":"Sure, thank you Holger and Joop, will try the ways suggested","body":"Sure, thank you Holger and Joop, will try the ways suggested"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1656438756,"post_id":72786924,"comment_id":128570919,"body_markdown":"@JoopEggen Windows-1252 doesn&#39;t have any Arabic characters in it either.","body":"@JoopEggen Windows-1252 doesn&#39;t have any Arabic characters in it either."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1656454352,"post_id":72786924,"comment_id":128575536,"body_markdown":"@DavidConrad yes, the encoding is false. However ISO-8859-1 reserves the byte range 0x80 - 0xA0 for control characters, which just might corrupt a conversion mapping some char to a control. Whether that is the case I am unsure about. 0x85 is a NEL, newline character, originating indirectly from EBCDIC.","body":"@DavidConrad yes, the encoding is false. However ISO-8859-1 reserves the byte range 0x80 - 0xA0 for control characters, which just might corrupt a conversion mapping some char to a control. Whether that is the case I am unsure about. 0x85 is a NEL, newline character, originating indirectly from EBCDIC."}],"owner":{"account_id":5910384,"reputation":937,"user_id":4650838,"accept_rate":56,"display_name":"Anirban"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":700,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656422015,"creation_date":1656421303,"question_id":72786924,"body_markdown":"I am using a Spring Boot application to read message from a WebSphere MQ. The source system is sending the below String in Arabic in encoding ISO-8859-1:\r\n\r\n    امدرسة هوجورتس\r\n\r\nThe encoding at the queue manager is UTF-8 and I am receiving the below String from queue:\r\n\r\n    &#199;&#229;&#207;&#209;&#211;&#201; &#231;&#232;&#204;&#232;&#209;&#202;&#211;\r\n\r\nCan someone please guide me how can I get the Arabic characters from the String which is received by the application? I have tried to use the below code but it did not work:\r\n\r\n    String source = &quot;ا&#199;&#229;&#207;&#209;&#211;&#201; &#231;&#232;&#204;&#232;&#209;&#202;&#211;&quot;;\r\n    byte[] iso88591 = source.getBytes();\r\n    byte[] iso88596 = new String(iso88591, &quot;ISO-8859-1&quot;).getBytes();\r\n    System.out.println(new String(iso88596, &quot;ISO-8859-6&quot;));\r\n\r\nBut I was able to get the Arabic character when I am using the online utility in the URL https://string-functions.com/encodedecode.aspx, encode with ISO-8859-1 and decode with ISO-8859-6\r\n\r\n","title":"Encoding/Decoding string containing Arabic characters in Java","body":"<p>I am using a Spring Boot application to read message from a WebSphere MQ. The source system is sending the below String in Arabic in encoding ISO-8859-1:</p>\n<pre><code>امدرسة هوجورتس\n</code></pre>\n<p>The encoding at the queue manager is UTF-8 and I am receiving the below String from queue:</p>\n<pre><code>ÇåÏÑÓÉ çèÌèÑÊÓ\n</code></pre>\n<p>Can someone please guide me how can I get the Arabic characters from the String which is received by the application? I have tried to use the below code but it did not work:</p>\n<pre><code>String source = &quot;اÇåÏÑÓÉ çèÌèÑÊÓ&quot;;\nbyte[] iso88591 = source.getBytes();\nbyte[] iso88596 = new String(iso88591, &quot;ISO-8859-1&quot;).getBytes();\nSystem.out.println(new String(iso88596, &quot;ISO-8859-6&quot;));\n</code></pre>\n<p>But I was able to get the Arabic character when I am using the online utility in the URL <a href=\"https://string-functions.com/encodedecode.aspx\" rel=\"nofollow noreferrer\">https://string-functions.com/encodedecode.aspx</a>, encode with ISO-8859-1 and decode with ISO-8859-6</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1656419772,"post_id":72786472,"comment_id":128563320,"body_markdown":"yes, that&#39;s how files work and each thread has their own idea about there in the file they will write to. The easiest solution would be to let each thread has it&#39;s own file. would that be possible for you?","body":"yes, that&#39;s how files work and each thread has their own idea about there in the file they will write to. The easiest solution would be to let each thread has it&#39;s own file. would that be possible for you?"},{"owner":{"account_id":10759610,"reputation":12628,"user_id":7916438,"display_name":"tevemadar"},"score":0,"creation_date":1656420278,"post_id":72786472,"comment_id":128563562,"body_markdown":"`Files.writeString(fileName,A);` overwrites the file, regardless of threading or not. You would need `Files.writeString(fileName,A,StandardOpenOption.APPEND);` to append to an existing file, or `Files.writeString(fileName,A,StandardOpenOption.APPEND,StandardOpenOption.CREATE);` if there&#39;s a chance that it doesn&#39;t exist yet.","body":"<code>Files.writeString(fileName,A);</code> overwrites the file, regardless of threading or not. You would need <code>Files.writeString(fileName,A,StandardOpenOption.APPEND);</code> to append to an existing file, or <code>Files.writeString(fileName,A,StandardOpenOption.APPEND,Stand&zwnj;&#8203;ardOpenOption.CREATE&zwnj;&#8203;);</code> if there&#39;s a chance that it doesn&#39;t exist yet."},{"owner":{"account_id":10759610,"reputation":12628,"user_id":7916438,"display_name":"tevemadar"},"score":0,"creation_date":1656420303,"post_id":72786472,"comment_id":128563572,"body_markdown":"Does this answer your question? [How to append text to an existing file in Java?](https://stackoverflow.com/questions/1625234/how-to-append-text-to-an-existing-file-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1625234/how-to-append-text-to-an-existing-file-in-java\">How to append text to an existing file in Java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656420312,"creation_date":1656420312,"answer_id":72786686,"question_id":72786472,"body_markdown":"You have two separate issues here.\r\n\r\n* `Files.writeString` replaces content by default. You want `Files.writeString(fileName, A, StandardOpenOption.APPEND)`.\r\n* Writing to the same file from simultaneous threads isn&#39;t going to work (think about it. The OS cannot promise that your write will be atomic, that should be obvious). So even if you fix it, it&#39;ll _seem_ to work but every so often fail on you: A race condition.\r\n\r\nThe usual strategy to work around that last part is to use locks of some kind. If a single JVM is the only one doing those file writes, you can use whatever you like that java offers: `synchronized`, for example. Or an `ReadWriteLock` from the `j.u.concurrent` package.\r\n\r\nBut, this does mean your CPU stresser thread will be doing the waiting for the lock. You may instead want to start a separate thread, and have a single ConcurrentBlockingQueue. Your CPU stress testers send log messages to the queue, and your log writer thread will just be doing a 5-liner loop: Endlessly, fetch an item from the queue (this blocks until there is something), write it to the file, flush the stream, and loop.\r\n\r\nThis solves a bunch of problems, given that now only one thread writes.\r\n\r\nIf it&#39;s multiple JVMs, that&#39;s trickier - then lock with a `.lock` file. You can use `Files.createFile()` to create `logfile.lock`; this will fail if the file is already there. Then wait some time (you can&#39;t ask the OS to tell you when the file is deleted, so you have to wait half a second or so and check again, forever, until the file is gone), until it succeeds, then write, then delete the lock file.\r\n\r\nA major downside to `.lock` files is: If your process hard-crashes, the lock file sticks around. Which you don&#39;t want. One solution to _that_ is to write your own PID (Process ID) to it, and thus anybody doing a check can at least see that the process it belongs to is dead. Except this is tricky; modern OSes don&#39;t just let you check for existence, neccessarily, and it&#39;s all very OS-dependent (no java libraries that automate this stuff, as far as I know). This all gets quite complicated, so, let&#39;s keep it simple:\r\n\r\nIf you want to write to the same file simultaneously from different JVMs / processes on the same system, you _can_ do that &#39;safely&#39;, but it is rather complicated.\r\n","title":"How do I output from multiple threads to a .txt file?","body":"<p>You have two separate issues here.</p>\n<ul>\n<li><code>Files.writeString</code> replaces content by default. You want <code>Files.writeString(fileName, A, StandardOpenOption.APPEND)</code>.</li>\n<li>Writing to the same file from simultaneous threads isn't going to work (think about it. The OS cannot promise that your write will be atomic, that should be obvious). So even if you fix it, it'll <em>seem</em> to work but every so often fail on you: A race condition.</li>\n</ul>\n<p>The usual strategy to work around that last part is to use locks of some kind. If a single JVM is the only one doing those file writes, you can use whatever you like that java offers: <code>synchronized</code>, for example. Or an <code>ReadWriteLock</code> from the <code>j.u.concurrent</code> package.</p>\n<p>But, this does mean your CPU stresser thread will be doing the waiting for the lock. You may instead want to start a separate thread, and have a single ConcurrentBlockingQueue. Your CPU stress testers send log messages to the queue, and your log writer thread will just be doing a 5-liner loop: Endlessly, fetch an item from the queue (this blocks until there is something), write it to the file, flush the stream, and loop.</p>\n<p>This solves a bunch of problems, given that now only one thread writes.</p>\n<p>If it's multiple JVMs, that's trickier - then lock with a <code>.lock</code> file. You can use <code>Files.createFile()</code> to create <code>logfile.lock</code>; this will fail if the file is already there. Then wait some time (you can't ask the OS to tell you when the file is deleted, so you have to wait half a second or so and check again, forever, until the file is gone), until it succeeds, then write, then delete the lock file.</p>\n<p>A major downside to <code>.lock</code> files is: If your process hard-crashes, the lock file sticks around. Which you don't want. One solution to <em>that</em> is to write your own PID (Process ID) to it, and thus anybody doing a check can at least see that the process it belongs to is dead. Except this is tricky; modern OSes don't just let you check for existence, neccessarily, and it's all very OS-dependent (no java libraries that automate this stuff, as far as I know). This all gets quite complicated, so, let's keep it simple:</p>\n<p>If you want to write to the same file simultaneously from different JVMs / processes on the same system, you <em>can</em> do that 'safely', but it is rather complicated.</p>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1656421650,"creation_date":1656421650,"answer_id":72787018,"question_id":72786472,"body_markdown":"Writing into file from multiple threads is a bad idea. I suggest you create a queue (even if just in memory queue) and have all your threads writing the info that they want to write into your file into this queue. In other words your queue will have multiple producers. And than have a single consumer on your queue that will read from the queue and write it into your file. This way you will have only one thread writing into file ","title":"How do I output from multiple threads to a .txt file?","body":"<p>Writing into file from multiple threads is a bad idea. I suggest you create a queue (even if just in memory queue) and have all your threads writing the info that they want to write into your file into this queue. In other words your queue will have multiple producers. And than have a single consumer on your queue that will read from the queue and write it into your file. This way you will have only one thread writing into file</p>\n"}],"owner":{"account_id":25670600,"reputation":3,"user_id":19434918,"display_name":"Shaked Ben Eliezer "},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":238,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72787018,"answer_count":2,"score":-1,"last_activity_date":1656421650,"creation_date":1656419454,"question_id":72786472,"body_markdown":"This is my current thread, I use it to stress test the CPU, I need to output the &quot;Hcount&quot; every hour to a .txt file, currently, it will print it but only from one thread ,when another hour passes it deletes what is written on the .txt file and rewrite the new &quot;Hcount&quot;\r\nI&#39;m Running 3 threads. \r\n\r\n\r\n```\r\nimport java.util.Random;\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\npublic class MyThread extends Thread{\r\n    public void run() {\r\n        String B;//Will hold the value of Cpointer\r\n        String A;//will hold the string value of Hcount\r\n        Path fileName =\r\n                Path.of(&quot;D:/EEoutput/Out.txt&quot;);\r\n        Random rand = new Random();\r\n        long Hcount = 0;//counts the number of iterations in an hour\r\n        long t = System.currentTimeMillis();\r\n        long end = t + 3800000*5;//a minute\r\n        double a1 = 0; //random holder 1\r\n        double a2 = 0;//random holder 2\r\n        double answer = 0; // answer placeholder\r\n        Long hour = System.currentTimeMillis()+3600000;//will be used to say when are we outputing the number of iterations to the file\r\n        int Cpointer = 1;//will tell how many hours has passed\r\n        while (System.currentTimeMillis() &lt; end) {\r\n            a1 = rand.nextDouble();\r\n            a2 = rand.nextDouble();\r\n            answer = a1 * 23 / (a2 + a1) + a2;\r\n            Hcount++;\r\n            if (System.currentTimeMillis() &gt;= hour)// checks if the program needs to\r\n            {\r\n                 B = String.valueOf(Cpointer);\r\n                 A=String.valueOf(Hcount);\r\n                try {\r\n                    Files.writeString(fileName, A);\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                hour = System.currentTimeMillis()+3600000;//sets stop to next hour\r\n                Cpointer++;//declares that another hour has passed, will be used to tell how many iterations are there in a certain hour\r\n                Hcount = 0;\r\n            }\r\n        }\r\n\r\n    }\r\n}\r\n&#39;&#39;&#39;\r\n","title":"How do I output from multiple threads to a .txt file?","body":"<p>This is my current thread, I use it to stress test the CPU, I need to output the &quot;Hcount&quot; every hour to a .txt file, currently, it will print it but only from one thread ,when another hour passes it deletes what is written on the .txt file and rewrite the new &quot;Hcount&quot;\nI'm Running 3 threads.</p>\n<pre><code>import java.util.Random;\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\npublic class MyThread extends Thread{\n    public void run() {\n        String B;//Will hold the value of Cpointer\n        String A;//will hold the string value of Hcount\n        Path fileName =\n                Path.of(&quot;D:/EEoutput/Out.txt&quot;);\n        Random rand = new Random();\n        long Hcount = 0;//counts the number of iterations in an hour\n        long t = System.currentTimeMillis();\n        long end = t + 3800000*5;//a minute\n        double a1 = 0; //random holder 1\n        double a2 = 0;//random holder 2\n        double answer = 0; // answer placeholder\n        Long hour = System.currentTimeMillis()+3600000;//will be used to say when are we outputing the number of iterations to the file\n        int Cpointer = 1;//will tell how many hours has passed\n        while (System.currentTimeMillis() &lt; end) {\n            a1 = rand.nextDouble();\n            a2 = rand.nextDouble();\n            answer = a1 * 23 / (a2 + a1) + a2;\n            Hcount++;\n            if (System.currentTimeMillis() &gt;= hour)// checks if the program needs to\n            {\n                 B = String.valueOf(Cpointer);\n                 A=String.valueOf(Hcount);\n                try {\n                    Files.writeString(fileName, A);\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n                hour = System.currentTimeMillis()+3600000;//sets stop to next hour\n                Cpointer++;//declares that another hour has passed, will be used to tell how many iterations are there in a certain hour\n                Hcount = 0;\n            }\n        }\n\n    }\n}\n'''\n</code></pre>\n"},{"tags":["java","tomcat","jax-rs","jakarta-mail"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1656431140,"post_id":72786961,"comment_id":128568268,"body_markdown":"500 can mean anything. You need to try and get a stack trace.","body":"500 can mean anything. You need to try and get a stack trace."},{"owner":{"account_id":24709672,"reputation":1,"user_id":18600018,"display_name":"PARADOX_2224"},"score":0,"creation_date":1656432623,"post_id":72786961,"comment_id":128568864,"body_markdown":"@PaulSamsotha the method apparently throws an exception, classNotFoundException. How could I solve it? It points to the EmailSender class.","body":"@PaulSamsotha the method apparently throws an exception, classNotFoundException. How could I solve it? It points to the EmailSender class."}],"owner":{"account_id":24709672,"reputation":1,"user_id":18600018,"display_name":"PARADOX_2224"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656421433,"creation_date":1656421433,"question_id":72786961,"body_markdown":"I&#39;ve been recently working on building a web forget password feature, by using an email with an html content. However, when I tried to test it, I kept getting the server internal error, code 500. What could be the issue? The code for the Emailer can be found below, together with the dependency. I am currently running my JAX-RS project using a Tomcat application server.\r\n\r\n```\r\nimport javax.mail.*;\r\nimport javax.mail.internet.*;\r\nimport java.util.*;\r\n\r\npublic class EmailSender {\r\n    private static final Properties EmailConfig = new Properties();\r\n\r\n    public static void sendEmail(String toEmailAddress,String emailSubject){\r\n        final String username = &quot;&quot;;\r\n        final String password = &quot;&quot;;\r\n        EmailConfig.put(&quot;mail.smtp.host&quot;,&quot;smtp.gmail.com&quot;);\r\n        EmailConfig.put(&quot;mail.smtp.port&quot;,&quot;587&quot;);\r\n        EmailConfig.put(&quot;mail.smtp.auth&quot;,&quot;true&quot;);\r\n        EmailConfig.put(&quot;mail.smtp.starttls.enable&quot;,&quot;true&quot;);\r\n\r\n        Session session = Session.getDefaultInstance(EmailConfig,\r\n                new javax.mail.Authenticator(){\r\n                    @Override\r\n                    protected PasswordAuthentication getPasswordAuthentication() {\r\n                        return new PasswordAuthentication(username,password);\r\n                    }\r\n                });\r\n        try{\r\n            MimeMessage msg = new MimeMessage(session);\r\n            msg.addRecipient(Message.RecipientType.TO, new InternetAddress(toEmailAddress));\r\n            msg.setFrom(new InternetAddress(&quot;******@gmail.com&quot;));\r\n            msg.setSubject(emailSubject);\r\n            String content =&quot;&lt;html&gt;&lt;body&gt;&lt;a href=&#39;recoverpage.html&#39;&gt;&lt;/a&gt;Click on this link to reset your password&lt;/body&gt;&lt;/html&gt;&quot;;\r\n            msg.setContent(content,&quot;text/html&quot;);\r\n        } catch (MessagingException e) {\r\n            System.out.println(&quot;Unable to send email because &quot; + e);\r\n        }\r\n    }\r\n}\r\n```\r\n```\r\n &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    ","title":"Issue with sending emails JAX-RS","body":"<p>I've been recently working on building a web forget password feature, by using an email with an html content. However, when I tried to test it, I kept getting the server internal error, code 500. What could be the issue? The code for the Emailer can be found below, together with the dependency. I am currently running my JAX-RS project using a Tomcat application server.</p>\n<pre><code>import javax.mail.*;\nimport javax.mail.internet.*;\nimport java.util.*;\n\npublic class EmailSender {\n    private static final Properties EmailConfig = new Properties();\n\n    public static void sendEmail(String toEmailAddress,String emailSubject){\n        final String username = &quot;&quot;;\n        final String password = &quot;&quot;;\n        EmailConfig.put(&quot;mail.smtp.host&quot;,&quot;smtp.gmail.com&quot;);\n        EmailConfig.put(&quot;mail.smtp.port&quot;,&quot;587&quot;);\n        EmailConfig.put(&quot;mail.smtp.auth&quot;,&quot;true&quot;);\n        EmailConfig.put(&quot;mail.smtp.starttls.enable&quot;,&quot;true&quot;);\n\n        Session session = Session.getDefaultInstance(EmailConfig,\n                new javax.mail.Authenticator(){\n                    @Override\n                    protected PasswordAuthentication getPasswordAuthentication() {\n                        return new PasswordAuthentication(username,password);\n                    }\n                });\n        try{\n            MimeMessage msg = new MimeMessage(session);\n            msg.addRecipient(Message.RecipientType.TO, new InternetAddress(toEmailAddress));\n            msg.setFrom(new InternetAddress(&quot;******@gmail.com&quot;));\n            msg.setSubject(emailSubject);\n            String content =&quot;&lt;html&gt;&lt;body&gt;&lt;a href='recoverpage.html'&gt;&lt;/a&gt;Click on this link to reset your password&lt;/body&gt;&lt;/html&gt;&quot;;\n            msg.setContent(content,&quot;text/html&quot;);\n        } catch (MessagingException e) {\n            System.out.println(&quot;Unable to send email because &quot; + e);\n        }\n    }\n}\n</code></pre>\n<pre><code> &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\n            &lt;version&gt;1.6.2&lt;/version&gt;\n        &lt;/dependency&gt;\n    \n</code></pre>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":2557352,"reputation":361,"user_id":2219041,"display_name":"Abhinaba Basu"},"score":0,"creation_date":1433145863,"post_id":30568353,"comment_id":49207378,"body_markdown":"While desrializing, the desrializer doesn&#39;t know about any of your constructor, so it hits default constructor. Due to this you have to create a default constructor, that won&#39;t change the immutability. Also I see the class is not final, why so? anybody can override the functionality isn&#39;t it?","body":"While desrializing, the desrializer doesn&#39;t know about any of your constructor, so it hits default constructor. Due to this you have to create a default constructor, that won&#39;t change the immutability. Also I see the class is not final, why so? anybody can override the functionality isn&#39;t it?"},{"owner":{"account_id":3220345,"reputation":5564,"user_id":2717958,"accept_rate":57,"display_name":"Michal Krasny"},"score":0,"creation_date":1433146555,"post_id":30568353,"comment_id":49207694,"body_markdown":"Class is not final, because I forgot to write it there, thank you for noticing :)","body":"Class is not final, because I forgot to write it there, thank you for noticing :)"}],"answers":[{"tags":[],"owner":{"account_id":1410041,"reputation":7508,"user_id":1336841,"display_name":"Forketyfork"},"down_vote_count":0,"up_vote_count":193,"is_accepted":true,"score":193,"last_activity_date":1433146340,"creation_date":1433146340,"answer_id":30568611,"question_id":30568353,"body_markdown":"To let Jackson know how to create an object for deserialization, use the [`@JsonCreator`][1] and [`@JsonProperty`][2] annotations for your constructors, like this:\r\n\r\n    @JsonCreator\r\n    public ImportResultItemImpl(@JsonProperty(&quot;name&quot;) String name, \r\n            @JsonProperty(&quot;resultType&quot;) ImportResultItemType resultType, \r\n            @JsonProperty(&quot;message&quot;) String message) {\r\n        super();\r\n        this.resultType = resultType;\r\n        this.message = message;\r\n        this.name = name;\r\n    }\r\n\r\n\r\n  [1]: http://fasterxml.github.io/jackson-annotations/javadoc/2.2.0/com/fasterxml/jackson/annotation/JsonCreator.html\r\n  [2]: http://fasterxml.github.io/jackson-annotations/javadoc/2.2.0/com/fasterxml/jackson/annotation/JsonProperty.html","title":"How to de/serialize an immutable object without default constructor using ObjectMapper?","body":"<p>To let Jackson know how to create an object for deserialization, use the <a href=\"http://fasterxml.github.io/jackson-annotations/javadoc/2.2.0/com/fasterxml/jackson/annotation/JsonCreator.html\"><code>@JsonCreator</code></a> and <a href=\"http://fasterxml.github.io/jackson-annotations/javadoc/2.2.0/com/fasterxml/jackson/annotation/JsonProperty.html\"><code>@JsonProperty</code></a> annotations for your constructors, like this:</p>\n\n<pre><code>@JsonCreator\npublic ImportResultItemImpl(@JsonProperty(\"name\") String name, \n        @JsonProperty(\"resultType\") ImportResultItemType resultType, \n        @JsonProperty(\"message\") String message) {\n    super();\n    this.resultType = resultType;\n    this.message = message;\n    this.name = name;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2078462,"reputation":10342,"user_id":2986984,"accept_rate":80,"display_name":"tkruse"},"down_vote_count":0,"up_vote_count":53,"is_accepted":false,"score":53,"last_activity_date":1508218580,"creation_date":1507278582,"answer_id":46601536,"question_id":30568353,"body_markdown":"You can use a private default constructor, Jackson will then fill the fields via reflection even if they are private final.\r\n\r\nEDIT: And use a protected/package-protected default constructor for parent classes if you have inheritance.","title":"How to de/serialize an immutable object without default constructor using ObjectMapper?","body":"<p>You can use a private default constructor, Jackson will then fill the fields via reflection even if they are private final.</p>\n\n<p>EDIT: And use a protected/package-protected default constructor for parent classes if you have inheritance.</p>\n"},{"tags":[],"owner":{"account_id":9015601,"reputation":695,"user_id":6718580,"display_name":"Vladyslav Diachenko"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1588024364,"creation_date":1588024364,"answer_id":61469090,"question_id":30568353,"body_markdown":"The first answer of Sergei Petunin is right. \r\nHowever, we could simplify code with removing redundant @JsonProperty annotations on each parameter of constructor. \r\n\r\nIt can be done with adding com.fasterxml.jackson.module.paramnames.ParameterNamesModule into ObjectMapper:\r\n    \r\n    new ObjectMapper()\r\n\t\t\t.registerModule(new ParameterNamesModule(JsonCreator.Mode.PROPERTIES))\r\n(Btw: this module is registered by default in SpringBoot. If you use ObjectMapper bean from JacksonObjectMapperConfiguration or if you create your own ObjectMapper with bean Jackson2ObjectMapperBuilder then you can skip manual registration of the module)\r\n\r\nFor example:\r\n\r\n    public class FieldValidationError {\r\n\t  private final String field;\r\n\t  private final String error;\r\n\r\n\t  @JsonCreator\r\n\t  public FieldValidationError(String field,\r\n\t  \t\t\t\t\t\t\t  String error) {\r\n\t\tthis.field = field;\r\n\t\tthis.error = error;\r\n\t  }\r\n\r\n\t  public String getField() {\r\n\t  \treturn field;\r\n\t  }\r\n\r\n\t  public String getError() {\r\n\t\treturn error;\r\n\t  }\r\n    }\r\nand ObjectMapper deserializes this json without any errors:\r\n    \r\n    {\r\n      &quot;field&quot;: &quot;email&quot;,\r\n      &quot;error&quot;: &quot;some text&quot;\r\n    }","title":"How to de/serialize an immutable object without default constructor using ObjectMapper?","body":"<p>The first answer of Sergei Petunin is right. \nHowever, we could simplify code with removing redundant @JsonProperty annotations on each parameter of constructor. </p>\n\n<p>It can be done with adding com.fasterxml.jackson.module.paramnames.ParameterNamesModule into ObjectMapper:</p>\n\n<pre><code>new ObjectMapper()\n        .registerModule(new ParameterNamesModule(JsonCreator.Mode.PROPERTIES))\n</code></pre>\n\n<p>(Btw: this module is registered by default in SpringBoot. If you use ObjectMapper bean from JacksonObjectMapperConfiguration or if you create your own ObjectMapper with bean Jackson2ObjectMapperBuilder then you can skip manual registration of the module)</p>\n\n<p>For example:</p>\n\n<pre><code>public class FieldValidationError {\n  private final String field;\n  private final String error;\n\n  @JsonCreator\n  public FieldValidationError(String field,\n                              String error) {\n    this.field = field;\n    this.error = error;\n  }\n\n  public String getField() {\n    return field;\n  }\n\n  public String getError() {\n    return error;\n  }\n}\n</code></pre>\n\n<p>and ObjectMapper deserializes this json without any errors:</p>\n\n<pre><code>{\n  \"field\": \"email\",\n  \"error\": \"some text\"\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10576736,"reputation":143,"user_id":7791833,"accept_rate":100,"display_name":"A. Kashnikov"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1631106928,"creation_date":1631106928,"answer_id":69103801,"question_id":30568353,"body_markdown":"It&#39;s 2021, I had the same issue. Unfortunately, the previous answers in this thread weren&#39;t helpful in my case, because:\r\n\r\n 1. I need to deserialize `java.net.HttpCookie`  class object. I can&#39;t modify it.\r\n 2. Due to some reasons, I use jackson-databind-2.11.0 version. `ParameterNamesModule` has been added in 3+ version.\r\n\r\nSo, here&#39;s the solution I&#39;ve found for my case. \r\nYou can just use DeserializationProblemHandler:\r\n\r\n        objectMapper.addHandler(new DeserializationProblemHandler() {\r\n\r\n\r\n            @Override\r\n            public Object handleMissingInstantiator(DeserializationContext ctxt, Class&lt;?&gt; instClass, ValueInstantiator valueInsta, JsonParser p, String msg) throws IOException {\r\n                return super.handleMissingInstantiator(ctxt, instClass, valueInsta, p, msg);\r\n            }\r\n\r\n        });\r\n\r\n\r\nJust return the object which you&#39;re expecting\r\n ","title":"How to de/serialize an immutable object without default constructor using ObjectMapper?","body":"<p>It's 2021, I had the same issue. Unfortunately, the previous answers in this thread weren't helpful in my case, because:</p>\n<ol>\n<li>I need to deserialize <code>java.net.HttpCookie</code>  class object. I can't modify it.</li>\n<li>Due to some reasons, I use jackson-databind-2.11.0 version. <code>ParameterNamesModule</code> has been added in 3+ version.</li>\n</ol>\n<p>So, here's the solution I've found for my case.\nYou can just use DeserializationProblemHandler:</p>\n<pre><code>    objectMapper.addHandler(new DeserializationProblemHandler() {\n\n\n        @Override\n        public Object handleMissingInstantiator(DeserializationContext ctxt, Class&lt;?&gt; instClass, ValueInstantiator valueInsta, JsonParser p, String msg) throws IOException {\n            return super.handleMissingInstantiator(ctxt, instClass, valueInsta, p, msg);\n        }\n\n    });\n</code></pre>\n<p>Just return the object which you're expecting</p>\n"},{"tags":[],"owner":{"account_id":17076275,"reputation":596,"user_id":12355831,"display_name":"stefan-dan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656421211,"creation_date":1656421211,"answer_id":72786902,"question_id":30568353,"body_markdown":"Since Java 14 and [Jackson 2.12.0][1] you can use a [record][2] class like this:\r\n\r\n    public record ImportResultItemImpl(String name, ImportResultItemType resultType, String message) implements ImportResultItem {\r\n        \r\n        public ImportResultItemImpl(String name, ImportResultItemType resultType) {\r\n            // calling the default constructor\r\n            this(name, resultType, null);\r\n        }\r\n    }\r\n\r\nAlso, you will have to refactor your interface and usage because record&#39;s getters do not start with `get` or `is`:\r\n\r\n    public interface ImportResultItem {\r\n\r\n        String name();\r\n\r\n        ImportResultItemType resultType();\r\n\r\n        String message();\r\n    }\r\n\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-future-ideas/issues/46\r\n  [2]: https://docs.oracle.com/en/java/javase/14/language/records.html","title":"How to de/serialize an immutable object without default constructor using ObjectMapper?","body":"<p>Since Java 14 and <a href=\"https://github.com/FasterXML/jackson-future-ideas/issues/46\" rel=\"nofollow noreferrer\">Jackson 2.12.0</a> you can use a <a href=\"https://docs.oracle.com/en/java/javase/14/language/records.html\" rel=\"nofollow noreferrer\">record</a> class like this:</p>\n<pre><code>public record ImportResultItemImpl(String name, ImportResultItemType resultType, String message) implements ImportResultItem {\n    \n    public ImportResultItemImpl(String name, ImportResultItemType resultType) {\n        // calling the default constructor\n        this(name, resultType, null);\n    }\n}\n</code></pre>\n<p>Also, you will have to refactor your interface and usage because record's getters do not start with <code>get</code> or <code>is</code>:</p>\n<pre><code>public interface ImportResultItem {\n\n    String name();\n\n    ImportResultItemType resultType();\n\n    String message();\n}\n</code></pre>\n"}],"owner":{"account_id":3220345,"reputation":5564,"user_id":2717958,"accept_rate":57,"display_name":"Michal Krasny"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83483,"favorite_count":0,"down_vote_count":0,"up_vote_count":150,"accepted_answer_id":30568611,"answer_count":5,"score":150,"last_activity_date":1656421211,"creation_date":1433145348,"question_id":30568353,"body_markdown":"I want to serialize and deserialize an immutable object using com.fasterxml.jackson.databind.ObjectMapper. \r\n\r\nThe immutable class looks like this (just 3 internal attributes, getters and constructors):\r\n\r\n    public final class ImportResultItemImpl implements ImportResultItem {\r\n    \r\n    \tprivate final ImportResultItemType resultType;\r\n    \r\n    \tprivate final String message;\r\n    \r\n    \tprivate final String name;\r\n    \r\n    \tpublic ImportResultItemImpl(String name, ImportResultItemType resultType, String message) {\r\n    \t\tsuper();\r\n    \t\tthis.resultType = resultType;\r\n    \t\tthis.message = message;\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \tpublic ImportResultItemImpl(String name, ImportResultItemType resultType) {\r\n    \t\tsuper();\r\n    \t\tthis.resultType = resultType;\r\n    \t\tthis.name = name;\r\n    \t\tthis.message = null;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic ImportResultItemType getResultType() {\r\n    \t\treturn this.resultType;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String getMessage() {\r\n    \t\treturn this.message;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String getName() {\r\n    \t\treturn this.name;\r\n    \t}\r\n    }\r\n\r\nHowever when I run this unit test:\r\n\r\n    @Test\r\n    public void testObjectMapper() throws Exception {\r\n    \tImportResultItemImpl originalItem = new ImportResultItemImpl(&quot;Name1&quot;, ImportResultItemType.SUCCESS);\r\n    \tString serialized = new ObjectMapper().writeValueAsString((ImportResultItemImpl) originalItem);\r\n    \tSystem.out.println(&quot;serialized: &quot; + serialized);\r\n\r\n        //this line will throw exception\r\n    \tImportResultItemImpl deserialized = new ObjectMapper().readValue(serialized, ImportResultItemImpl.class);\r\n    }\r\n\r\nI get this exception: \r\n\r\n    com.fasterxml.jackson.databind.JsonMappingException: No suitable constructor found for type [simple type, class eu.ibacz.pdkd.core.service.importcommon.ImportResultItemImpl]: can not instantiate from JSON object (missing default constructor or creator, or perhaps need to add/enable type information?)\r\n     at [Source: {&quot;resultType&quot;:&quot;SUCCESS&quot;,&quot;message&quot;:null,&quot;name&quot;:&quot;Name1&quot;}; line: 1, column: 2]\r\n    \tat \r\n    ... nothing interesting here\r\n\r\nThis exception asks me to create a default constructor, but this is an immutable object, so I don&#39;t want to have it. How would it set the internal attributes? It would totally confuse the user of the API.\r\n\r\n**So my question is:** Can I somehow de/serialize immutable objects without default constructor?\r\n","title":"How to de/serialize an immutable object without default constructor using ObjectMapper?","body":"<p>I want to serialize and deserialize an immutable object using com.fasterxml.jackson.databind.ObjectMapper. </p>\n\n<p>The immutable class looks like this (just 3 internal attributes, getters and constructors):</p>\n\n<pre><code>public final class ImportResultItemImpl implements ImportResultItem {\n\n    private final ImportResultItemType resultType;\n\n    private final String message;\n\n    private final String name;\n\n    public ImportResultItemImpl(String name, ImportResultItemType resultType, String message) {\n        super();\n        this.resultType = resultType;\n        this.message = message;\n        this.name = name;\n    }\n\n    public ImportResultItemImpl(String name, ImportResultItemType resultType) {\n        super();\n        this.resultType = resultType;\n        this.name = name;\n        this.message = null;\n    }\n\n    @Override\n    public ImportResultItemType getResultType() {\n        return this.resultType;\n    }\n\n    @Override\n    public String getMessage() {\n        return this.message;\n    }\n\n    @Override\n    public String getName() {\n        return this.name;\n    }\n}\n</code></pre>\n\n<p>However when I run this unit test:</p>\n\n<pre><code>@Test\npublic void testObjectMapper() throws Exception {\n    ImportResultItemImpl originalItem = new ImportResultItemImpl(\"Name1\", ImportResultItemType.SUCCESS);\n    String serialized = new ObjectMapper().writeValueAsString((ImportResultItemImpl) originalItem);\n    System.out.println(\"serialized: \" + serialized);\n\n    //this line will throw exception\n    ImportResultItemImpl deserialized = new ObjectMapper().readValue(serialized, ImportResultItemImpl.class);\n}\n</code></pre>\n\n<p>I get this exception: </p>\n\n<pre><code>com.fasterxml.jackson.databind.JsonMappingException: No suitable constructor found for type [simple type, class eu.ibacz.pdkd.core.service.importcommon.ImportResultItemImpl]: can not instantiate from JSON object (missing default constructor or creator, or perhaps need to add/enable type information?)\n at [Source: {\"resultType\":\"SUCCESS\",\"message\":null,\"name\":\"Name1\"}; line: 1, column: 2]\n    at \n... nothing interesting here\n</code></pre>\n\n<p>This exception asks me to create a default constructor, but this is an immutable object, so I don't want to have it. How would it set the internal attributes? It would totally confuse the user of the API.</p>\n\n<p><strong>So my question is:</strong> Can I somehow de/serialize immutable objects without default constructor?</p>\n"},{"tags":["java","language-lawyer","variadic-functions","overload-resolution"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":1,"creation_date":1656399167,"post_id":72781849,"comment_id":128555600,"body_markdown":"https://stackoverflow.com/questions/30573532/why-does-type-promotion-take-precedence-over-varargs-for-overloaded-methods !? Because the other method is a &quot;better fit&quot;.","body":"<a href=\"https://stackoverflow.com/questions/30573532/why-does-type-promotion-take-precedence-over-varargs-for-overloaded-methods\" title=\"why does type promotion take precedence over varargs for overloaded methods\">stackoverflow.com/questions/30573532/&hellip;</a> !? Because the other method is a &quot;better fit&quot;."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1656399221,"post_id":72781849,"comment_id":128555617,"body_markdown":"Javas overload resolution (the rules are complex, u can see them in the JLS) decided that the non-static variant is the better fit and should be called. But it cant be called because it is not static.","body":"Javas overload resolution (the rules are complex, u can see them in the JLS) decided that the non-static variant is the better fit and should be called. But it cant be called because it is not static."},{"owner":{"account_id":1363919,"reputation":912,"user_id":1300757,"accept_rate":55,"display_name":"anupamD"},"score":0,"creation_date":1656399313,"post_id":72781849,"comment_id":128555641,"body_markdown":"JDK 8 and JDK 11 dont complain about it.. Is there any change in JLS","body":"JDK 8 and JDK 11 dont complain about it.. Is there any change in JLS"},{"owner":{"account_id":17945478,"reputation":1363,"user_id":16177121,"display_name":"Sidharth Mudgil"},"score":0,"creation_date":1656400963,"post_id":72781849,"comment_id":128556136,"body_markdown":"you can&#39;t use non-static members inside a static method","body":"you can&#39;t use non-static members inside a static method"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1656403994,"post_id":72781849,"comment_id":128557172,"body_markdown":"None of the answers here actually address the question asked. OP asks why there&#39;s a difference between Java 17 and Java 8 and 11.","body":"None of the answers here actually address the question asked. OP asks why there&#39;s a difference between Java 17 and Java 8 and 11."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1656417135,"post_id":72781849,"comment_id":128562240,"body_markdown":"@MCEmperor now [there is one](https://stackoverflow.com/a/72785883/2711488) addressing the actual question…","body":"@MCEmperor now <a href=\"https://stackoverflow.com/a/72785883/2711488\">there is one</a> addressing the actual question…"}],"answers":[{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656400761,"creation_date":1656400761,"answer_id":72782206,"question_id":72781849,"body_markdown":"The doSomething method which takes two ints is an instance method and you are trying to call it without creating an instance of the object first.\r\n\r\nWhy should the compiler accept that? I highly doubt, that in any prior JDK it behaved differently.","title":"foo(int, int) is picked over foo(int...)","body":"<p>The doSomething method which takes two ints is an instance method and you are trying to call it without creating an instance of the object first.</p>\n<p>Why should the compiler accept that? I highly doubt, that in any prior JDK it behaved differently.</p>\n"},{"tags":[],"owner":{"account_id":17945478,"reputation":1363,"user_id":16177121,"display_name":"Sidharth Mudgil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656401201,"creation_date":1656401201,"answer_id":72782302,"question_id":72781849,"body_markdown":"***A static method can call only other static methods; it cannot call a non-static method.*** So that&#39;s why the `non-static` `doSomething` function is always called.\r\n\r\nIn order to call the `doSomething(int, int)` you have to make it `static` or create an object of the class containing the method and then call the method using the object.\r\n``` java\r\nYourClass obj = new YourClass();\r\nobj.doSomething(1, 2);\r\n```","title":"foo(int, int) is picked over foo(int...)","body":"<p><em><strong>A static method can call only other static methods; it cannot call a non-static method.</strong></em> So that's why the <code>non-static</code> <code>doSomething</code> function is always called.</p>\n<p>In order to call the <code>doSomething(int, int)</code> you have to make it <code>static</code> or create an object of the class containing the method and then call the method using the object.</p>\n<pre class=\"lang-java prettyprint-override\"><code>YourClass obj = new YourClass();\nobj.doSomething(1, 2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656401752,"creation_date":1656401284,"answer_id":72782316,"question_id":72781849,"body_markdown":"varargs are replacement for arrays. Compiler is giving you error because you are calling `doSomething` in a manner which is not acceptable for varargs:\r\n\r\nTo call your varargs method you should call something like:\r\n\r\n    doSomething(new int [] {1,2});\r\n\r\nBy this way, you will be correctly calling `private static void doSomething(int... nums)`\r\n\r\nTested this in JDK8 (8u41) &amp; on JDK17.\r\n\r\nMoreover, calling `dosomething(1,2)` is giving error on both JDK8 &amp; JDK17 so I am not finding anything different on both versions.","title":"foo(int, int) is picked over foo(int...)","body":"<p>varargs are replacement for arrays. Compiler is giving you error because you are calling <code>doSomething</code> in a manner which is not acceptable for varargs:</p>\n<p>To call your varargs method you should call something like:</p>\n<pre><code>doSomething(new int [] {1,2});\n</code></pre>\n<p>By this way, you will be correctly calling <code>private static void doSomething(int... nums)</code></p>\n<p>Tested this in JDK8 (8u41) &amp; on JDK17.</p>\n<p>Moreover, calling <code>dosomething(1,2)</code> is giving error on both JDK8 &amp; JDK17 so I am not finding anything different on both versions.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1656421091,"creation_date":1656417007,"answer_id":72785883,"question_id":72781849,"body_markdown":"The behavior of rejecting the method invocation is correct. Method resolution should find the most specific method first and check for the `static` modifier afterwards.\r\n\r\nBut there is a bug in `javac` from version 7 to 16.\r\n\r\nSee\r\n\r\n#### [JDK-8268474, Method resolution should stop on static error][JDK-8268474]\r\n\r\n&gt; Javac is not in sync with section &#167;15.12.3 of the JLS 16 specification. In particular, for invocations in static context, javac too early checks whether the method is static, and when it determines it is not static and cannot be called, proceeds to a further phase in method lookup, even though it should report a compile-time error.\r\n\r\nThis bug has been fixed with JDK&#160;17.\r\n\r\nNote that Eclipse’s compiler ECJ does not have this bug, so the example is rejected in Eclipse, regardless of which JDK version you use.\r\n\r\nOnly invocations using a simple name are affected. When you use `ClassName.doSomething(1,2);`, all versions will resolve the invocation to `doSomething(int num1, int num2)` and generate the correct error.\r\n\r\n[JDK-8268474]: https://bugs.openjdk.org/browse/JDK-8268474","title":"foo(int, int) is picked over foo(int...)","body":"<p>The behavior of rejecting the method invocation is correct. Method resolution should find the most specific method first and check for the <code>static</code> modifier afterwards.</p>\n<p>But there is a bug in <code>javac</code> from version 7 to 16.</p>\n<p>See</p>\n<h4><a href=\"https://bugs.openjdk.org/browse/JDK-8268474\" rel=\"nofollow noreferrer\">JDK-8268474, Method resolution should stop on static error</a></h4>\n<blockquote>\n<p>Javac is not in sync with section §15.12.3 of the JLS 16 specification. In particular, for invocations in static context, javac too early checks whether the method is static, and when it determines it is not static and cannot be called, proceeds to a further phase in method lookup, even though it should report a compile-time error.</p>\n</blockquote>\n<p>This bug has been fixed with JDK 17.</p>\n<p>Note that Eclipse’s compiler ECJ does not have this bug, so the example is rejected in Eclipse, regardless of which JDK version you use.</p>\n<p>Only invocations using a simple name are affected. When you use <code>ClassName.doSomething(1,2);</code>, all versions will resolve the invocation to <code>doSomething(int num1, int num2)</code> and generate the correct error.</p>\n"}],"owner":{"account_id":1363919,"reputation":912,"user_id":1300757,"accept_rate":55,"display_name":"anupamD"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72785883,"answer_count":4,"score":3,"last_activity_date":1656421091,"creation_date":1656398924,"question_id":72781849,"body_markdown":"In this piece of code, why the compiler is not able to reference the method that has varargs argument from static context.\r\n\r\n     private static void doSomething(int... nums) {\r\n        System.out.println(&quot;1&quot;);\r\n    }\r\n    private void doSomething(int num1, int num2) {\r\n        System.out.println(&quot;2&quot;);\r\n    } \r\n    \r\n\tpublic static void main(String[] args) {\r\n\t\tdoSomething(1,2);\r\n\t}\r\n\r\nJDK 17 is complaining ```Cannot make a static reference to the non-static method doSomething(int, int) ```. Is this a bug or another feature I am not aware of.\r\n\r\nJDK 8 and JDK 11 dont complain about it!","title":"foo(int, int) is picked over foo(int...)","body":"<p>In this piece of code, why the compiler is not able to reference the method that has varargs argument from static context.</p>\n<pre><code> private static void doSomething(int... nums) {\n    System.out.println(&quot;1&quot;);\n}\nprivate void doSomething(int num1, int num2) {\n    System.out.println(&quot;2&quot;);\n} \n\npublic static void main(String[] args) {\n    doSomething(1,2);\n}\n</code></pre>\n<p>JDK 17 is complaining <code>Cannot make a static reference to the non-static method doSomething(int, int) </code>. Is this a bug or another feature I am not aware of.</p>\n<p>JDK 8 and JDK 11 dont complain about it!</p>\n"},{"tags":["java","maven","executable-jar","maven-assembly-plugin","fatjar"],"comments":[{"owner":{"account_id":3302687,"reputation":3037,"user_id":2778422,"display_name":"zaerymoghaddam"},"score":0,"creation_date":1656079633,"post_id":72743821,"comment_id":128491455,"body_markdown":"How your application is packaged? Is it an ear or war file? If it is, does the jar containing that class gets into the `META-INF/lib` or `WEB-INF/lib` folders correspondingly?","body":"How your application is packaged? Is it an ear or war file? If it is, does the jar containing that class gets into the <code>META-INF&#47;lib</code> or <code>WEB-INF&#47;lib</code> folders correspondingly?"},{"owner":{"account_id":4328490,"reputation":1080,"user_id":3534593,"accept_rate":67,"display_name":"coretechie"},"score":0,"creation_date":1656209505,"post_id":72743821,"comment_id":128514904,"body_markdown":"It is packaged as a jar file. You have to keep the jar file inside keycloak/provider folder. And we can specify that UserStoragePrpvider class path inside src/main/resources/META-INF/services","body":"It is packaged as a jar file. You have to keep the jar file inside keycloak/provider folder. And we can specify that UserStoragePrpvider class path inside src/main/resources/META-INF/services"}],"answers":[{"tags":[],"owner":{"account_id":4328490,"reputation":1080,"user_id":3534593,"accept_rate":67,"display_name":"coretechie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656420781,"creation_date":1656420781,"answer_id":72786789,"question_id":72743821,"body_markdown":"Thankfully I found this post and it worked for me.\r\n\r\n[https://github.com/keycloak/keycloak/issues/10230][1]\r\n\r\nTo summarize,\r\n 1. Add scope as `provided` for keycloak, login, Postgres, or any dependencies which keycloak might already have. This is how my updated maven looks like, \r\n\r\n   \r\n\r\n     &lt;dependency&gt;\r\n                &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n                &lt;artifactId&gt;keycloak-server-spi&lt;/artifactId&gt;\r\n                &lt;version&gt;${keycloak.version}&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;version&gt;42.3.6&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.36&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-crypto&lt;/artifactId&gt;\r\n            &lt;version&gt;5.7.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n \r\n\r\n\r\n 2. Utilize the maven assembly plugin and execute it using the below command. Helpful post for that [another answer][1]. Command : `mvn clean compile assembly:single`\r\n\r\n Plugin :\r\n\r\n     &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;descriptorRefs&gt;\r\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                    &lt;/descriptorRefs&gt;\r\n                    &lt;finalName&gt;my-user-provider&lt;/finalName&gt;\r\n                    &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n   \r\n\r\nAbove 2 modifications, repaired my thing. \r\n\r\n  [1]: https://stackoverflow.com/questions/574594/how-can-i-create-an-executable-jar-with-dependencies-using-maven/574650#574650\r\n","title":"Adding external jar dependency in JAR file","body":"<p>Thankfully I found this post and it worked for me.</p>\n<p><a href=\"https://stackoverflow.com/questions/574594/how-can-i-create-an-executable-jar-with-dependencies-using-maven/574650#574650\">https://github.com/keycloak/keycloak/issues/10230</a></p>\n<p>To summarize,</p>\n<ol>\n<li><p>Add scope as <code>provided</code> for keycloak, login, Postgres, or any dependencies which keycloak might already have. This is how my updated maven looks like,</p>\n \n            org.keycloak\n            keycloak-server-spi\n            ${keycloak.version}\n            provided\n        \n    \n        org.postgresql\n        postgresql\n        42.3.6\n        provided\n    \n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n    &lt;version&gt;1.7.36&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-security-crypto&lt;/artifactId&gt;\n    &lt;version&gt;5.7.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n</li>\n<li><p>Utilize the maven assembly plugin and execute it using the below command. Helpful post for that <a href=\"https://stackoverflow.com/questions/574594/how-can-i-create-an-executable-jar-with-dependencies-using-maven/574650#574650\">another answer</a>. Command : <code>mvn clean compile assembly:single</code></p>\n</li>\n</ol>\n<p>Plugin :</p>\n<pre><code> &lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.3.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;descriptorRefs&gt;\n                    &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                &lt;/descriptorRefs&gt;\n                &lt;finalName&gt;my-user-provider&lt;/finalName&gt;\n                &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Above 2 modifications, repaired my thing.</p>\n"}],"owner":{"account_id":4328490,"reputation":1080,"user_id":3534593,"accept_rate":67,"display_name":"coretechie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72786789,"answer_count":1,"score":0,"last_activity_date":1656420781,"creation_date":1656072318,"question_id":72743821,"body_markdown":"Backgorund : I am trying to add UserStorageSPI for my legacy application, so that we can use existing user credentials to log in. I have followed this [tutorial][1], and the full source code for the sample application is available [here][2].\r\n\r\nThis application is storing plaintext passwords and compares them directly. However, my legacy database stores the passwords in an encrypted format. To test a sample user, I stored the credentials in bcrypt format and I overrode the following method (isValid(...)), in my CustomUserStorageProvider class.\r\n\r\n\r\nApproach 1:\r\n\r\n    public class CustomUserStorageProvider implements UserStorageProvider, \r\n          UserLookupProvider,\r\n          CredentialInputValidator,\r\n          UserQueryProvider {\r\n        \r\n          ....\r\n        \r\n         @Override\r\n            public boolean isValid(RealmModel realm, UserModel user, CredentialInput credentialInput) {\r\n                log.info(&quot;[I57] isValid(realm={},user={},credentialInput.type={})&quot;,realm.getName(), user.getUsername(), credentialInput.getType());\r\n                if( !this.supportsCredentialType(credentialInput.getType())) {\r\n                    return false;\r\n                }\r\n                StorageId sid = new StorageId(user.getId());\r\n                String username = sid.getExternalId();\r\n                \r\n                try ( Connection c = DbUtil.getConnection(this.model)) {\r\n        \r\n                    log.info(&quot;Username to query :: &quot; + username);\r\n                    PreparedStatement st = c.prepareStatement(&quot;select password from users where username = ?&quot;);\r\n                    st.setString(1, username);\r\n                    st.execute();\r\n                    ResultSet rs = st.getResultSet();\r\n                    log.info(&quot;RS &quot; + rs);\r\n                    if ( rs.next()) {\r\n                        String pwd = rs.getString(1);\r\n        \r\n                        log.info(&quot;Password coming from query :: &quot; + pwd);\r\n                        log.info(&quot;Password coming from user input :: &quot; + credentialInput.getChallengeResponse());\r\n        \r\n    \r\n    PasswordEncoder enc = new BCryptPasswordEncoder();\r\n                        log.info(&quot; enc.matches(pwd, credentialInput.getChallengeResponse()) &quot; +  enc.matches(pwd, credentialInput.getChallengeResponse()));\r\n                        return  enc.matches(pwd, credentialInput.getChallengeResponse());\r\n                    }\r\n                    else {\r\n                        return false;\r\n                    }\r\n                }\r\n                catch(SQLException ex) {\r\n                    throw new RuntimeException(&quot;Database error:&quot; + ex.getMessage(),ex);\r\n                }\r\n            }\r\n        \r\n        }\r\n\r\n \r\nThe keycloak can read the custom provider when I put the jar in the relevant path. I can also see keycloak is showing all the imported users from this new database, however, I get the following exception in keycloak logs, while the code is trying to compare the passwords. \r\n\r\n```2022-06-24 15:53:30,554 INFO  [com.test.spi.provider.CustomUserStorageProvider] (executor-thread-2) Username to query :: admin\r\n2022-06-24 15:53:30,566 INFO  [com.test.spi.provider.CustomUserStorageProvider] (executor-thread-2) RS org.postgresql.jdbc.PgResultSet@75dadacb\r\n2022-06-24 15:53:30,566 INFO  [com.test.spi.provider.CustomUserStorageProvider] (executor-thread-2) Password coming from query :: $2a$12$rrtl/vDlCCF0cK0aKu5H6uW30B4fp9cIrTQlHPMayQTR9ToZicEoW\r\n2022-06-24 15:53:30,566 INFO  [com.test.spi.provider.CustomUserStorageProvider] (executor-thread-2) Password coming from user input :: test\r\n2022-06-24 15:53:30,567 ERROR [org.keycloak.services.error.KeycloakErrorHandler] (executor-thread-2) Uncaught server error: java.lang.NoClassDefFoundError: org/springframework/security/crypto/password/PasswordEncoder\r\n        at com.test.spi.provider.CustomUserStorageProvider.isValid(CustomUserStorageProvider.java:147)\r\n        at org.keycloak.credential.UserCredentialStoreManager.lambda$validate$4(UserCredentialStoreManager.java:164)\r\n        at java.base/java.util.Collection.removeIf(Collection.java:576)\r\n        at org.keycloak.credential.UserCredentialStoreManager.validate(UserCredentialStoreManager.java:164)\r\n        at org.keycloak.credential.UserCredentialStoreManager.isValid(UserCredentialStoreManager.java:151)\r\n        at org.keycloak.credential.UserCredentialStoreManager.isValid(UserCredentialStoreManager.java:110)\r\n        at org.keycloak.authentication.authenticators.browser.AbstractUsernameFormAuthenticator.validatePassword(AbstractUsernameFormAuthenticator.java:229)\r\n        at org.keycloak.authentication.authenticators.browser.AbstractUsernameFormAuthenticator.validateUserAndPassword(AbstractUsernameFormAuthenticator.java:150)\r\n        at org.keycloak.authentication.authenticators.browser.UsernamePasswordForm.validateForm(UsernamePasswordForm.java:55)\r\n        at org.keycloak.authentication.authenticators.browser.UsernamePasswordForm.action(UsernamePasswordForm.java:48)\r\n        at org.keycloak.authentication.DefaultAuthenticationFlow.processAction(DefaultAuthenticationFlow.java:169)\r\n        at org.keycloak.authentication.AuthenticationProcessor.authenticationAction(AuthenticationProcessor.java:990)\r\n        at org.keycloak.services.resources.LoginActionsService.processFlow(LoginActionsService.java:321)\r\n        at org.keycloak.services.resources.LoginActionsService.processAuthentication(LoginActionsService.java:292)\r\n        at org.keycloak.services.resources.LoginActionsService.authenticate(LoginActionsService.java:276)\r\n        at org.keycloak.services.resources.LoginActionsService.authenticateForm(LoginActionsService.java:349)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n        at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:170)\r\n        at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:130)\r\n        at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:660)\r\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:524)\r\n        at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$2(ResourceMethodInvoker.java:474)\r\n        at org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\r\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:476)\r\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:434)\r\n        at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:192)\r\n        at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:141)\r\n        at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:32)\r\n        at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:492)\r\n        at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:261)\r\n        at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:161)\r\n        at org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\r\n        at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:164)\r\n        at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:247)\r\n        at io.quarkus.resteasy.runtime.standalone.RequestDispatcher.service(RequestDispatcher.java:73)\r\n        at io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.dispatch(VertxRequestHandler.java:151)\r\n        at io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.handle(VertxRequestHandler.java:82)\r\n        at io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.handle(VertxRequestHandler.java:42)\r\n        at io.vertx.ext.web.impl.RouteState.handleContext(RouteState.java:1212)\r\n        at io.vertx.ext.web.impl.RoutingContextImplBase.iterateNext(RoutingContextImplBase.java:163)\r\n        at io.vertx.ext.web.impl.RoutingContextImpl.next(RoutingContextImpl.java:141)\r\n        at io.quarkus.vertx.http.runtime.StaticResourcesRecorder$2.handle(StaticResourcesRecorder.java:67)\r\n        at io.quarkus.vertx.http.runtime.StaticResourcesRecorder$2.handle(StaticResourcesRecorder.java:55)\r\n        at io.vertx.ext.web.impl.RouteState.handleContext(RouteState.java:1212)\r\n        at io.vertx.ext.web.impl.RoutingContextImplBase.iterateNext(RoutingContextImplBase.java:163)\r\n        at io.vertx.ext.web.impl.RoutingContextImpl.next(RoutingContextImpl.java:141)\r\n        at io.quarkus.vertx.http.runtime.VertxHttpRecorder$5.handle(VertxHttpRecorder.java:380)\r\n        at io.quarkus.vertx.http.runtime.VertxHttpRecorder$5.handle(VertxHttpRecorder.java:358)\r\n        at io.vertx.ext.web.impl.RouteState.handleContext(RouteState.java:1212)\r\n        at io.vertx.ext.web.impl.RoutingContextImplBase.iterateNext(RoutingContextImplBase.java:163)\r\n        at io.vertx.ext.web.impl.RoutingContextImpl.next(RoutingContextImpl.java:141)\r\n        at org.keycloak.quarkus.runtime.integration.web.QuarkusRequestFilter.lambda$createBlockingHandler$1(QuarkusRequestFilter.java:71)\r\n        at io.vertx.core.impl.ContextImpl.lambda$null$0(ContextImpl.java:159)\r\n        at io.vertx.core.impl.AbstractContext.dispatch(AbstractContext.java:100)\r\n        at io.vertx.core.impl.ContextImpl.lambda$executeBlocking$1(ContextImpl.java:157)\r\n        at io.quarkus.vertx.core.runtime.VertxCoreRecorder$13.runWith(VertxCoreRecorder.java:543)\r\n        at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\r\n        at org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:29)\r\n        at org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:29)\r\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n        at java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.lang.ClassNotFoundException: org.springframework.security.crypto.password.PasswordEncoder\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n        at io.quarkus.bootstrap.runner.RunnerClassLoader.loadClass(RunnerClassLoader.java:107)\r\n        at io.quarkus.bootstrap.runner.RunnerClassLoader.loadClass(RunnerClassLoader.java:57)\r\n        ... 65 more\r\n```\r\n\r\nI also tried adding PasswordEncoder as Bean in startup application and added it as Autowired dependency in CustomUserStorageProvider class but I get the same exception. \r\n\r\nApproach 2 :\r\n\r\n```@EnableMBeanExport\r\n@SpringBootApplication\r\npublic class SpiApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(SpiApplication.class, args);\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n}\r\n\r\n-----\r\n@Service\r\npublic class CustomUserStorageProvider implements UserStorageProvider, \r\n  UserLookupProvider,\r\n  CredentialInputValidator,\r\n  UserQueryProvider {\r\n\r\n    @Autowired\r\n    PasswordEncoder enc ;\r\n```\r\n\r\n\r\n My pom.xml dependencies are here :\r\n\r\n    &lt;dependencies&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-security-crypto&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;keycloak-core&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;18.0.0&lt;/version&gt;\r\n\t\t\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;!-- User Storage SPI dependency --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;keycloak-server-spi&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;18.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;keycloak-server-spi&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;18.0.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n            &lt;pluginManagement&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;3.2.4&lt;/version&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/pluginManagement&gt;\r\n    \r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;shade&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n    \r\n    &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\r\n                        &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n    \r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n\r\n\r\n \r\nI am using this command to generate the jar file and keep it inside keycloak-18.0.0/providers/ package. \r\n\r\n    mvn package\r\n\r\nPlease assist me with the correct approach. I have gone through several blog posts and questions on this forum as well, but have not obtained the proper solution. TIA.\r\n\r\nMain issue:\r\nI even setup this project in eclipse and tried exporting the project as jar file (runnable jar/jar both). The far jar generated is huge in size. 32 MBs instead of 16KBs created by shade plugin but the exception remains the same. Why is this dependency not getting added in the classpath of the jar? I cannot make the 3rd party application using this jar add the classpath, so it has to be embedded inside the final jar. Please help. I have spend a lot of time and I am running out to new workarounds to even try. \r\n\r\n  [1]: https://www.baeldung.com/java-keycloak-custom-user-providers\r\n  [2]: https://github.com/Baeldung/spring-security-oauth/tree/master/oauth-rest/keycloak-custom-providers","title":"Adding external jar dependency in JAR file","body":"<p>Backgorund : I am trying to add UserStorageSPI for my legacy application, so that we can use existing user credentials to log in. I have followed this <a href=\"https://www.baeldung.com/java-keycloak-custom-user-providers\" rel=\"nofollow noreferrer\">tutorial</a>, and the full source code for the sample application is available <a href=\"https://github.com/Baeldung/spring-security-oauth/tree/master/oauth-rest/keycloak-custom-providers\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>This application is storing plaintext passwords and compares them directly. However, my legacy database stores the passwords in an encrypted format. To test a sample user, I stored the credentials in bcrypt format and I overrode the following method (isValid(...)), in my CustomUserStorageProvider class.</p>\n<p>Approach 1:</p>\n<pre><code>public class CustomUserStorageProvider implements UserStorageProvider, \n      UserLookupProvider,\n      CredentialInputValidator,\n      UserQueryProvider {\n    \n      ....\n    \n     @Override\n        public boolean isValid(RealmModel realm, UserModel user, CredentialInput credentialInput) {\n            log.info(&quot;[I57] isValid(realm={},user={},credentialInput.type={})&quot;,realm.getName(), user.getUsername(), credentialInput.getType());\n            if( !this.supportsCredentialType(credentialInput.getType())) {\n                return false;\n            }\n            StorageId sid = new StorageId(user.getId());\n            String username = sid.getExternalId();\n            \n            try ( Connection c = DbUtil.getConnection(this.model)) {\n    \n                log.info(&quot;Username to query :: &quot; + username);\n                PreparedStatement st = c.prepareStatement(&quot;select password from users where username = ?&quot;);\n                st.setString(1, username);\n                st.execute();\n                ResultSet rs = st.getResultSet();\n                log.info(&quot;RS &quot; + rs);\n                if ( rs.next()) {\n                    String pwd = rs.getString(1);\n    \n                    log.info(&quot;Password coming from query :: &quot; + pwd);\n                    log.info(&quot;Password coming from user input :: &quot; + credentialInput.getChallengeResponse());\n    \n\nPasswordEncoder enc = new BCryptPasswordEncoder();\n                    log.info(&quot; enc.matches(pwd, credentialInput.getChallengeResponse()) &quot; +  enc.matches(pwd, credentialInput.getChallengeResponse()));\n                    return  enc.matches(pwd, credentialInput.getChallengeResponse());\n                }\n                else {\n                    return false;\n                }\n            }\n            catch(SQLException ex) {\n                throw new RuntimeException(&quot;Database error:&quot; + ex.getMessage(),ex);\n            }\n        }\n    \n    }\n</code></pre>\n<p>The keycloak can read the custom provider when I put the jar in the relevant path. I can also see keycloak is showing all the imported users from this new database, however, I get the following exception in keycloak logs, while the code is trying to compare the passwords.</p>\n<pre><code>2022-06-24 15:53:30,566 INFO  [com.test.spi.provider.CustomUserStorageProvider] (executor-thread-2) RS org.postgresql.jdbc.PgResultSet@75dadacb\n2022-06-24 15:53:30,566 INFO  [com.test.spi.provider.CustomUserStorageProvider] (executor-thread-2) Password coming from query :: $2a$12$rrtl/vDlCCF0cK0aKu5H6uW30B4fp9cIrTQlHPMayQTR9ToZicEoW\n2022-06-24 15:53:30,566 INFO  [com.test.spi.provider.CustomUserStorageProvider] (executor-thread-2) Password coming from user input :: test\n2022-06-24 15:53:30,567 ERROR [org.keycloak.services.error.KeycloakErrorHandler] (executor-thread-2) Uncaught server error: java.lang.NoClassDefFoundError: org/springframework/security/crypto/password/PasswordEncoder\n        at com.test.spi.provider.CustomUserStorageProvider.isValid(CustomUserStorageProvider.java:147)\n        at org.keycloak.credential.UserCredentialStoreManager.lambda$validate$4(UserCredentialStoreManager.java:164)\n        at java.base/java.util.Collection.removeIf(Collection.java:576)\n        at org.keycloak.credential.UserCredentialStoreManager.validate(UserCredentialStoreManager.java:164)\n        at org.keycloak.credential.UserCredentialStoreManager.isValid(UserCredentialStoreManager.java:151)\n        at org.keycloak.credential.UserCredentialStoreManager.isValid(UserCredentialStoreManager.java:110)\n        at org.keycloak.authentication.authenticators.browser.AbstractUsernameFormAuthenticator.validatePassword(AbstractUsernameFormAuthenticator.java:229)\n        at org.keycloak.authentication.authenticators.browser.AbstractUsernameFormAuthenticator.validateUserAndPassword(AbstractUsernameFormAuthenticator.java:150)\n        at org.keycloak.authentication.authenticators.browser.UsernamePasswordForm.validateForm(UsernamePasswordForm.java:55)\n        at org.keycloak.authentication.authenticators.browser.UsernamePasswordForm.action(UsernamePasswordForm.java:48)\n        at org.keycloak.authentication.DefaultAuthenticationFlow.processAction(DefaultAuthenticationFlow.java:169)\n        at org.keycloak.authentication.AuthenticationProcessor.authenticationAction(AuthenticationProcessor.java:990)\n        at org.keycloak.services.resources.LoginActionsService.processFlow(LoginActionsService.java:321)\n        at org.keycloak.services.resources.LoginActionsService.processAuthentication(LoginActionsService.java:292)\n        at org.keycloak.services.resources.LoginActionsService.authenticate(LoginActionsService.java:276)\n        at org.keycloak.services.resources.LoginActionsService.authenticateForm(LoginActionsService.java:349)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:170)\n        at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:130)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:660)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:524)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$2(ResourceMethodInvoker.java:474)\n        at org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:476)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:434)\n        at org.jboss.resteasy.core.ResourceLocatorInvoker.invokeOnTargetObject(ResourceLocatorInvoker.java:192)\n        at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:141)\n        at org.jboss.resteasy.core.ResourceLocatorInvoker.invoke(ResourceLocatorInvoker.java:32)\n        at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:492)\n        at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:261)\n        at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:161)\n        at org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\n        at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:164)\n        at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:247)\n        at io.quarkus.resteasy.runtime.standalone.RequestDispatcher.service(RequestDispatcher.java:73)\n        at io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.dispatch(VertxRequestHandler.java:151)\n        at io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.handle(VertxRequestHandler.java:82)\n        at io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.handle(VertxRequestHandler.java:42)\n        at io.vertx.ext.web.impl.RouteState.handleContext(RouteState.java:1212)\n        at io.vertx.ext.web.impl.RoutingContextImplBase.iterateNext(RoutingContextImplBase.java:163)\n        at io.vertx.ext.web.impl.RoutingContextImpl.next(RoutingContextImpl.java:141)\n        at io.quarkus.vertx.http.runtime.StaticResourcesRecorder$2.handle(StaticResourcesRecorder.java:67)\n        at io.quarkus.vertx.http.runtime.StaticResourcesRecorder$2.handle(StaticResourcesRecorder.java:55)\n        at io.vertx.ext.web.impl.RouteState.handleContext(RouteState.java:1212)\n        at io.vertx.ext.web.impl.RoutingContextImplBase.iterateNext(RoutingContextImplBase.java:163)\n        at io.vertx.ext.web.impl.RoutingContextImpl.next(RoutingContextImpl.java:141)\n        at io.quarkus.vertx.http.runtime.VertxHttpRecorder$5.handle(VertxHttpRecorder.java:380)\n        at io.quarkus.vertx.http.runtime.VertxHttpRecorder$5.handle(VertxHttpRecorder.java:358)\n        at io.vertx.ext.web.impl.RouteState.handleContext(RouteState.java:1212)\n        at io.vertx.ext.web.impl.RoutingContextImplBase.iterateNext(RoutingContextImplBase.java:163)\n        at io.vertx.ext.web.impl.RoutingContextImpl.next(RoutingContextImpl.java:141)\n        at org.keycloak.quarkus.runtime.integration.web.QuarkusRequestFilter.lambda$createBlockingHandler$1(QuarkusRequestFilter.java:71)\n        at io.vertx.core.impl.ContextImpl.lambda$null$0(ContextImpl.java:159)\n        at io.vertx.core.impl.AbstractContext.dispatch(AbstractContext.java:100)\n        at io.vertx.core.impl.ContextImpl.lambda$executeBlocking$1(ContextImpl.java:157)\n        at io.quarkus.vertx.core.runtime.VertxCoreRecorder$13.runWith(VertxCoreRecorder.java:543)\n        at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\n        at org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:29)\n        at org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:29)\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n        at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.ClassNotFoundException: org.springframework.security.crypto.password.PasswordEncoder\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n        at io.quarkus.bootstrap.runner.RunnerClassLoader.loadClass(RunnerClassLoader.java:107)\n        at io.quarkus.bootstrap.runner.RunnerClassLoader.loadClass(RunnerClassLoader.java:57)\n        ... 65 more\n</code></pre>\n<p>I also tried adding PasswordEncoder as Bean in startup application and added it as Autowired dependency in CustomUserStorageProvider class but I get the same exception.</p>\n<p>Approach 2 :</p>\n<pre><code>@SpringBootApplication\npublic class SpiApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpiApplication.class, args);\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n}\n\n-----\n@Service\npublic class CustomUserStorageProvider implements UserStorageProvider, \n  UserLookupProvider,\n  CredentialInputValidator,\n  UserQueryProvider {\n\n    @Autowired\n    PasswordEncoder enc ;\n</code></pre>\n<p>My pom.xml dependencies are here :</p>\n<pre><code>&lt;dependencies&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-security-crypto&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n    &lt;artifactId&gt;keycloak-core&lt;/artifactId&gt;\n    &lt;version&gt;18.0.0&lt;/version&gt;\n    \n&lt;/dependency&gt;\n\n&lt;!-- User Storage SPI dependency --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n    &lt;artifactId&gt;keycloak-server-spi&lt;/artifactId&gt;\n    &lt;version&gt;18.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n    &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n    &lt;artifactId&gt;keycloak-server-spi&lt;/artifactId&gt;\n    &lt;version&gt;18.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<pre><code>&lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.2.4&lt;/version&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n\n&lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\n                    &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>I am using this command to generate the jar file and keep it inside keycloak-18.0.0/providers/ package.</p>\n<pre><code>mvn package\n</code></pre>\n<p>Please assist me with the correct approach. I have gone through several blog posts and questions on this forum as well, but have not obtained the proper solution. TIA.</p>\n<p>Main issue:\nI even setup this project in eclipse and tried exporting the project as jar file (runnable jar/jar both). The far jar generated is huge in size. 32 MBs instead of 16KBs created by shade plugin but the exception remains the same. Why is this dependency not getting added in the classpath of the jar? I cannot make the 3rd party application using this jar add the classpath, so it has to be embedded inside the final jar. Please help. I have spend a lot of time and I am running out to new workarounds to even try.</p>\n"},{"tags":["java","android","kotlin","google-analytics","firebase-analytics"],"comments":[{"owner":{"account_id":10576360,"reputation":51,"user_id":7791569,"display_name":"Edgaras Kazlauskas"},"score":0,"creation_date":1660884574,"post_id":70788242,"comment_id":129643654,"body_markdown":"How did you work around this in the end?","body":"How did you work around this in the end?"}],"answers":[{"tags":[],"owner":{"account_id":7426742,"reputation":151,"user_id":5648975,"display_name":"Rustam Khisamov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656420722,"creation_date":1656420722,"answer_id":72786774,"question_id":70788242,"body_markdown":"I disabled automatic events by following the [firebase instruction][1]\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/analytics/screenviews#disable_screenview_tracking","title":"How to disable Firebase Analytics Automatic Events Only","body":"<p>I disabled automatic events by following the <a href=\"https://firebase.google.com/docs/analytics/screenviews#disable_screenview_tracking\" rel=\"nofollow noreferrer\">firebase instruction</a></p>\n"}],"owner":{"account_id":10806677,"reputation":63,"user_id":7948675,"display_name":"Dawood Ilyas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1745,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1656420722,"creation_date":1642689944,"question_id":70788242,"body_markdown":"We have been using Firebase Analytics to track custom events that we have in our app.\r\n\r\nWe noticed that some events are logged by Firebase Automatically that are mentioned [here][1].\r\n\r\nAnd real frustration is that wherever I&#39;m searching, It&#39;s showing we can either Have Auto Events + Custom events tracking **OR** no tracking at all.\r\n\r\nIs there any possibility for Android OS how we can only get Custom events without Automatic events?\r\n\r\n\r\n  [1]: https://support.google.com/analytics/answer/9234069?hl=en","title":"How to disable Firebase Analytics Automatic Events Only","body":"<p>We have been using Firebase Analytics to track custom events that we have in our app.</p>\n<p>We noticed that some events are logged by Firebase Automatically that are mentioned <a href=\"https://support.google.com/analytics/answer/9234069?hl=en\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>And real frustration is that wherever I'm searching, It's showing we can either Have Auto Events + Custom events tracking <strong>OR</strong> no tracking at all.</p>\n<p>Is there any possibility for Android OS how we can only get Custom events without Automatic events?</p>\n"},{"tags":["java","shutdown-hook"],"comments":[{"owner":{"account_id":465863,"reputation":41382,"user_id":870248,"accept_rate":100,"display_name":"Paul Vargas"},"score":0,"creation_date":1354835391,"post_id":13754263,"comment_id":18903743,"body_markdown":"Did you mean a `finally` clausule?","body":"Did you mean a <code>finally</code> clausule?"}],"answers":[{"tags":[],"owner":{"account_id":473916,"reputation":1230,"user_id":883294,"accept_rate":60,"display_name":"thedan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1354835374,"creation_date":1354835374,"answer_id":13754301,"question_id":13754263,"body_markdown":"If the program is terminated through a crash of the JVM, you can&#39;t rely on anything being called. \r\n\r\nIf the program is terminated through an exception that doesn&#39;t involve the JVM you should be able to wrap everything in a try/catch/finally block. Any code in the finally block would be guaranteed to run before your code exits.","title":"How to ensure a piece of code is run before exiting a java application","body":"<p>If the program is terminated through a crash of the JVM, you can't rely on anything being called. </p>\n\n<p>If the program is terminated through an exception that doesn't involve the JVM you should be able to wrap everything in a try/catch/finally block. Any code in the finally block would be guaranteed to run before your code exits.</p>\n"},{"tags":[],"owner":{"account_id":44379,"reputation":14328,"user_id":130224,"accept_rate":84,"display_name":"reprogrammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1354835664,"creation_date":1354835664,"answer_id":13754356,"question_id":13754263,"body_markdown":"For exceptions, you can wrap the body of `main` in a `try/catch/block`. For handling the `SIGTERM` signal, you can [add a shutdown hook][1]. However, the shutdown hook is not guaranteed to get triggered for a signal like `SIGKILL`.\r\n\r\nFrom [Java doc][2]:\r\n\r\n&gt; *In rare circumstances the virtual machine may abort*, that is, stop\r\n&gt; running without shutting down cleanly. This occurs when the virtual\r\n&gt; machine is terminated externally, for example with the `SIGKILL` signal\r\n&gt; on Unix or the `TerminateProcess` call on Microsoft Windows. The virtual\r\n&gt; machine may also abort if a native method goes awry by, for example,\r\n&gt; corrupting internal data structures or attempting to access\r\n&gt; nonexistent memory. **If the virtual machine aborts then no guarantee\r\n&gt; can be made about whether or not any shutdown hooks will be run.**\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Runtime.html#addShutdownHook%28java.lang.Thread%29\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/lang/Runtime.html#addShutdownHook%28java.lang.Thread%29","title":"How to ensure a piece of code is run before exiting a java application","body":"<p>For exceptions, you can wrap the body of <code>main</code> in a <code>try/catch/block</code>. For handling the <code>SIGTERM</code> signal, you can <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Runtime.html#addShutdownHook%28java.lang.Thread%29\" rel=\"nofollow\">add a shutdown hook</a>. However, the shutdown hook is not guaranteed to get triggered for a signal like <code>SIGKILL</code>.</p>\n\n<p>From <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Runtime.html#addShutdownHook%28java.lang.Thread%29\" rel=\"nofollow\">Java doc</a>:</p>\n\n<blockquote>\n  <p><em>In rare circumstances the virtual machine may abort</em>, that is, stop\n  running without shutting down cleanly. This occurs when the virtual\n  machine is terminated externally, for example with the <code>SIGKILL</code> signal\n  on Unix or the <code>TerminateProcess</code> call on Microsoft Windows. The virtual\n  machine may also abort if a native method goes awry by, for example,\n  corrupting internal data structures or attempting to access\n  nonexistent memory. <strong>If the virtual machine aborts then no guarantee\n  can be made about whether or not any shutdown hooks will be run.</strong></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1005212,"reputation":28558,"user_id":1019167,"accept_rate":92,"display_name":"AlexWien"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1354835866,"creation_date":1354835866,"answer_id":13754396,"question_id":13754263,"body_markdown":"you achieve this by never calling Sytem.exit().\r\nIn main() you create a &quot;last line of defense&quot; with \r\n\r\n   \r\n\r\n     try {\r\n        startApp();\r\n     } catch (Exception ex) {\r\n          // do some logging\r\n     } finally {\r\n        releaseLicense();\r\n     }\r\n\r\n","title":"How to ensure a piece of code is run before exiting a java application","body":"<p>you achieve this by never calling Sytem.exit().\nIn main() you create a \"last line of defense\" with </p>\n\n<pre><code> try {\n    startApp();\n } catch (Exception ex) {\n      // do some logging\n } finally {\n    releaseLicense();\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":1,"up_vote_count":9,"is_accepted":true,"score":8,"last_activity_date":1656420279,"creation_date":1354835945,"answer_id":13754406,"question_id":13754263,"body_markdown":"[@thedan is correct][1] about hard JVM crashes.  If a JVM crashes hard or it gets a SIGKILL, it won&#39;t get a chance to run anything before exiting.  There is nothing you can do to remedy this in Java in that scenario.  (But the situation is the same in other languages too ...)\r\n\r\nHowever if the JVM does an orderly shutdown in response to all non-dameon threads ending, calling System.exit(), getting a SIGINT and so on, then the JVM will attempt to run the shutdown hooks.  There is more information on Java&#39;s shutdown hook mechanisms in the [Q&amp;A][2] page and the [javadocs][3].\r\n\r\nThe `finally` approach is also an option, but is only works if the thread in question is terminated before the JVM exits.  This won&#39;t happen if `System.exit()` is called or the JVM is terminated by a signal.  Shutdown hooks work in more situations.\r\n\r\n(To my mind, `finally` is really for performing clean on a single thread rather than for the entire application.  However if your application consists of just one thread ... or if it has a master thread that is responsible for orderly shutdown ...then `finally` can serve the purpose of application cleanup.)\r\n\r\n\r\n----------------------\r\n\r\nThe real solution is to configure the licensed API so that the license manager can detect when the application instance using a license goes away without releasing it.  Whether this is possible depends on the license manager.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/13754301/139985\r\n  [2]: http://docs.oracle.com/javase/1.5.0/docs/guide/lang/hook-design.html\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/java/lang/Runtime.html#addShutdownHook%28java.lang.Thread%29","title":"How to ensure a piece of code is run before exiting a java application","body":"<p><a href=\"https://stackoverflow.com/a/13754301/139985\">@thedan is correct</a> about hard JVM crashes.  If a JVM crashes hard or it gets a SIGKILL, it won't get a chance to run anything before exiting.  There is nothing you can do to remedy this in Java in that scenario.  (But the situation is the same in other languages too ...)</p>\n<p>However if the JVM does an orderly shutdown in response to all non-dameon threads ending, calling System.exit(), getting a SIGINT and so on, then the JVM will attempt to run the shutdown hooks.  There is more information on Java's shutdown hook mechanisms in the <a href=\"http://docs.oracle.com/javase/1.5.0/docs/guide/lang/hook-design.html\" rel=\"nofollow noreferrer\">Q&amp;A</a> page and the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Runtime.html#addShutdownHook%28java.lang.Thread%29\" rel=\"nofollow noreferrer\">javadocs</a>.</p>\n<p>The <code>finally</code> approach is also an option, but is only works if the thread in question is terminated before the JVM exits.  This won't happen if <code>System.exit()</code> is called or the JVM is terminated by a signal.  Shutdown hooks work in more situations.</p>\n<p>(To my mind, <code>finally</code> is really for performing clean on a single thread rather than for the entire application.  However if your application consists of just one thread ... or if it has a master thread that is responsible for orderly shutdown ...then <code>finally</code> can serve the purpose of application cleanup.)</p>\n<hr />\n<p>The real solution is to configure the licensed API so that the license manager can detect when the application instance using a license goes away without releasing it.  Whether this is possible depends on the license manager.</p>\n"}],"owner":{"account_id":1394290,"reputation":2583,"user_id":1324390,"accept_rate":89,"display_name":"fo_x86"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5532,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":13754406,"answer_count":4,"score":6,"last_activity_date":1656420279,"creation_date":1354835197,"question_id":13754263,"body_markdown":"I&#39;m using a licensed API which has a method to acquire/release a license object from a license server that has a finite number of licenses. At the beginning of my application, I call the method to acquire the license, but I want to make sure that this gets released even if my program terminates/crashes abruptly (exceptions, SIGTERM, etc). Is the shutdown hook the best way to approach this issue?","title":"How to ensure a piece of code is run before exiting a java application","body":"<p>I'm using a licensed API which has a method to acquire/release a license object from a license server that has a finite number of licenses. At the beginning of my application, I call the method to acquire the license, but I want to make sure that this gets released even if my program terminates/crashes abruptly (exceptions, SIGTERM, etc). Is the shutdown hook the best way to approach this issue?</p>\n"},{"tags":["java","string","loops","if-statement","java.util.scanner"],"answers":[{"tags":[],"owner":{"account_id":981587,"reputation":96,"user_id":4884723,"display_name":"b4hkid"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643970864,"creation_date":1643969938,"answer_id":70984702,"question_id":70984526,"body_markdown":"The only thing that you need to change is your condition in the `while` statement.\r\nPlease use `sc.hasNextLine()` insted of `sc.hasNext()`. Then you will get desired output. Here is the working soltion:\r\n\r\n        // Get User Input\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;What is your name?&quot;);\r\n\r\n\t\twhile (sc.hasNextLine()) { // here is the difference in the code\r\n\t\t\t// User Input Variable\r\n\t\t\tString name = sc.nextLine();\r\n\t\t\tif (name == null || name.trim().isEmpty()) {\r\n\t\t\t\t// Error for empty input, keep asking for valid input\r\n\t\t\t\tSystem.out.print(&quot;Please, what is your name?\\n&quot;);\r\n\t\t\t\tsc.hasNextLine(); // here is the difference in the code\r\n\t\t\t} else {\r\n\t\t\t\t// Print name\r\n\t\t\t\tSystem.out.println(&quot;Hello &quot; + name + &quot;!&quot;);\r\n\t\t\t\tbreak;\r\n\t\t\t} // End of conditional\r\n\t\t} // End of while loop","title":"Java program that asks for user&#39;s name and prints it - issue with error message","body":"<p>The only thing that you need to change is your condition in the <code>while</code> statement.\nPlease use <code>sc.hasNextLine()</code> insted of <code>sc.hasNext()</code>. Then you will get desired output. Here is the working soltion:</p>\n<pre><code>    // Get User Input\n    Scanner sc = new Scanner(System.in);\n    System.out.println(&quot;What is your name?&quot;);\n\n    while (sc.hasNextLine()) { // here is the difference in the code\n        // User Input Variable\n        String name = sc.nextLine();\n        if (name == null || name.trim().isEmpty()) {\n            // Error for empty input, keep asking for valid input\n            System.out.print(&quot;Please, what is your name?\\n&quot;);\n            sc.hasNextLine(); // here is the difference in the code\n        } else {\n            // Print name\n            System.out.println(&quot;Hello &quot; + name + &quot;!&quot;);\n            break;\n        } // End of conditional\n    } // End of while loop\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25660344,"reputation":1,"user_id":19426162,"display_name":"tan chun onn Kelson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656420263,"creation_date":1656330372,"answer_id":72771560,"question_id":70984526,"body_markdown":"\t\tScanner sc = new Scanner(System.in);\r\n\t\tSystem.out.print(&quot;ENTER YOUR USERNAME : &quot;);\r\n\t\tString name = sc.nextLine();\r\n\r\n\t\twhile(name.equals(&quot;&quot;) || name.trim().isEmpty()) {\r\n\t\t\tSystem.out.print(&quot;PLEASE ENTER YOUR USERNAME AGAIN : &quot;);\r\n\t\t\tname = sc.nextLine();\r\n\t\t}\r\n\t\tSystem.out.println(&quot;WELCOME &quot; + name);","title":"Java program that asks for user&#39;s name and prints it - issue with error message","body":"<pre><code>    Scanner sc = new Scanner(System.in);\n    System.out.print(&quot;ENTER YOUR USERNAME : &quot;);\n    String name = sc.nextLine();\n\n    while(name.equals(&quot;&quot;) || name.trim().isEmpty()) {\n        System.out.print(&quot;PLEASE ENTER YOUR USERNAME AGAIN : &quot;);\n        name = sc.nextLine();\n    }\n    System.out.println(&quot;WELCOME &quot; + name);\n</code></pre>\n"}],"owner":{"account_id":18176327,"reputation":139,"user_id":13224990,"display_name":"Limbo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":908,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70984702,"answer_count":2,"score":0,"last_activity_date":1656420263,"creation_date":1643969086,"question_id":70984526,"body_markdown":"I have a program that asks for the user&#39;s name and prints it back out. It can do that part fine, but it currently has the issue of not printing the proper error message when the user leaves the prompt empty and presses &quot;Enter&quot;.\r\n\r\nThe code:\r\n\r\n      //Get User Input\r\n      Scanner sc = new Scanner(System.in);\r\n      System.out.println(&quot;What is your name?&quot;);\r\n\r\n      while (sc.hasNext()) {\r\n         //User Input Variable\r\n         String name = sc.nextLine();\r\n         if (name == null || name.trim().isEmpty()) {\r\n            //Error for empty input, keep asking for valid input\r\n            System.out.print(&quot;Please, what is your name?\\n&quot;);\r\n            sc.next();\r\n         } else {\r\n            //Print name\r\n            System.out.println(&quot;Hello &quot; + name + &quot;!&quot;);\r\n            break;\r\n         }//End of conditional\r\n      }//End of while loop\r\n\r\nThe current output:\r\n\r\n    What is your name?\r\n    &lt;blank space for input&gt;\r\n    &lt;Empty Space where error message should be&gt;\r\n\r\nThe ideal output:\r\n\r\n    What is your name?\r\n    &lt;blank space&gt;\r\n    Please, what is your name?\r\nWhat&#39;s wrong?","title":"Java program that asks for user&#39;s name and prints it - issue with error message","body":"<p>I have a program that asks for the user's name and prints it back out. It can do that part fine, but it currently has the issue of not printing the proper error message when the user leaves the prompt empty and presses &quot;Enter&quot;.</p>\n<p>The code:</p>\n<pre><code>  //Get User Input\n  Scanner sc = new Scanner(System.in);\n  System.out.println(&quot;What is your name?&quot;);\n\n  while (sc.hasNext()) {\n     //User Input Variable\n     String name = sc.nextLine();\n     if (name == null || name.trim().isEmpty()) {\n        //Error for empty input, keep asking for valid input\n        System.out.print(&quot;Please, what is your name?\\n&quot;);\n        sc.next();\n     } else {\n        //Print name\n        System.out.println(&quot;Hello &quot; + name + &quot;!&quot;);\n        break;\n     }//End of conditional\n  }//End of while loop\n</code></pre>\n<p>The current output:</p>\n<pre><code>What is your name?\n&lt;blank space for input&gt;\n&lt;Empty Space where error message should be&gt;\n</code></pre>\n<p>The ideal output:</p>\n<pre><code>What is your name?\n&lt;blank space&gt;\nPlease, what is your name?\n</code></pre>\n<p>What's wrong?</p>\n"},{"tags":["java","android","kotlin","android-progressbar"],"comments":[{"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"score":0,"creation_date":1656413861,"post_id":72784987,"comment_id":128561001,"body_markdown":"voting for close this question for a reason: _Seeking recommendations for books, tools, software libraries, and more_. Write it by your own, learn, ask question when you stuck on something (which won&#39;t be a turorial...)","body":"voting for close this question for a reason: <i>Seeking recommendations for books, tools, software libraries, and more</i>. Write it by your own, learn, ask question when you stuck on something (which won&#39;t be a turorial...)"}],"answers":[{"tags":[],"owner":{"display_name":"user16238776"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656420208,"creation_date":1656420208,"answer_id":72786667,"question_id":72784987,"body_markdown":"Create 7 different vector graphics and update them one at a time\r\n\r\nSimplest method I know of\r\n\r\nUse this link [animated vector][1]\r\n\r\n\r\n  [1]: https://youtu.be/scZYIAZrMWk","title":"How to design circular step progress indicator in native android","body":"<p>Create 7 different vector graphics and update them one at a time</p>\n<p>Simplest method I know of</p>\n<p>Use this link <a href=\"https://youtu.be/scZYIAZrMWk\" rel=\"nofollow noreferrer\">animated vector</a></p>\n"}],"owner":{"account_id":12205884,"reputation":129,"user_id":8909007,"display_name":"Aaron Ebinezer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":395,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1656420208,"creation_date":1656412862,"question_id":72784987,"body_markdown":"Please help me to achieve step progress indicator as shown below in android. I could not find any relevant library to achieve this.\r\n\r\n![Text](https://i.stack.imgur.com/xXyGi.png)","title":"How to design circular step progress indicator in native android","body":"<p>Please help me to achieve step progress indicator as shown below in android. I could not find any relevant library to achieve this.</p>\n<p><img src=\"https://i.stack.imgur.com/xXyGi.png\" alt=\"Text\" /></p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1617003776,"post_id":66850295,"comment_id":118168764,"body_markdown":"You have create a `Sheet` already (`Sheet sheet = workbook.createSheet(...)`, you can create more of them... The separation of your data is something you have to do yourself.","body":"You have create a <code>Sheet</code> already (<code>Sheet sheet = workbook.createSheet(...)</code>, you can create more of them... The separation of your data is something you have to do yourself."},{"owner":{"account_id":20313346,"reputation":5,"user_id":14899822,"display_name":"yasmin"},"score":0,"creation_date":1617009017,"post_id":66850295,"comment_id":118170754,"body_markdown":"There&#39;s no possible way to let it be created dynamically and be separated in the code regarding the date?","body":"There&#39;s no possible way to let it be created dynamically and be separated in the code regarding the date?"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1617009808,"post_id":66850295,"comment_id":118171078,"body_markdown":"Sure there is, but you have to define that way yourself… There must be some code that separates the data by date and handles the sheet creation. That&#39;s your part, I guess ;-) I wouldn&#39;t create a single sheet containing all data and then separate the data afterwards. But I don&#39;t know your exect and complete requirements.","body":"Sure there is, but you have to define that way yourself… There must be some code that separates the data by date and handles the sheet creation. That&#39;s your part, I guess ;-) I wouldn&#39;t create a single sheet containing all data and then separate the data afterwards. But I don&#39;t know your exect and complete requirements."}],"answers":[{"tags":[],"owner":{"account_id":3440637,"reputation":5641,"user_id":2882688,"accept_rate":29,"display_name":"firegloves"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656420171,"creation_date":1656420171,"answer_id":72786659,"question_id":66850295,"body_markdown":"By using [MemPOI][1] you can simply execute different queries and bind them to different sheets, letting the db to apply the required filters. MemPOI will take care of the generation. Something like this:\r\n\r\n    MempoiSheet januarySheet = MempoiSheetBuilder.aMempoiSheet()\r\n                                .withSheetName(&quot;January&quot;)\r\n                                .withPrepStmt(conn.prepareStatement(&quot;SELECT * FROM MyTable WHERE date = &#39;mydate&#39;&quot;))\r\n                                .build();\r\n    \r\n    MempoiSheet februarySheet = MempoiSheetBuilder.aMempoiSheet()\r\n                                .withSheetName(&quot;February&quot;)\r\n                                .withPrepStmt(conn.prepareStatement(&quot;SELECT * FROM MyTable WHERE date = &#39;mydate 2&#39;&quot;))\r\n                                .build();\r\n    \r\n    MemPOI memPOI = MempoiBuilder.aMemPOI()\r\n                                .withAdjustColumnWidth(true)\r\n                                .addMempoiSheet(januarySheet)\r\n                                .addMempoiSheet(februarySheet)\r\n                                .build();\r\n\r\n  [1]: https://github.com/firegloves/MemPOI","title":"How to separate data in multiple sheets in excel using java poi?","body":"<p>By using <a href=\"https://github.com/firegloves/MemPOI\" rel=\"nofollow noreferrer\">MemPOI</a> you can simply execute different queries and bind them to different sheets, letting the db to apply the required filters. MemPOI will take care of the generation. Something like this:</p>\n<pre><code>MempoiSheet januarySheet = MempoiSheetBuilder.aMempoiSheet()\n                            .withSheetName(&quot;January&quot;)\n                            .withPrepStmt(conn.prepareStatement(&quot;SELECT * FROM MyTable WHERE date = 'mydate'&quot;))\n                            .build();\n\nMempoiSheet februarySheet = MempoiSheetBuilder.aMempoiSheet()\n                            .withSheetName(&quot;February&quot;)\n                            .withPrepStmt(conn.prepareStatement(&quot;SELECT * FROM MyTable WHERE date = 'mydate 2'&quot;))\n                            .build();\n\nMemPOI memPOI = MempoiBuilder.aMemPOI()\n                            .withAdjustColumnWidth(true)\n                            .addMempoiSheet(januarySheet)\n                            .addMempoiSheet(februarySheet)\n                            .build();\n</code></pre>\n"}],"owner":{"account_id":20313346,"reputation":5,"user_id":14899822,"display_name":"yasmin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":848,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656420171,"creation_date":1617003362,"question_id":66850295,"body_markdown":"I have a java code that retrieves the data from the database and copies them to an excel sheet then creates a file,\r\nbut all the retrieval data are shown in 1 sheet my problem is to separate them into separated sheets regarding the date, please find my code and advise\r\n\r\n```    String[] columns = {&quot;code&quot;, &quot;sent_date&quot;, &quot;sugar sha3ban campaign 2021&quot;, &quot;msisdn&quot;};\r\n       List&lt;Excelvo&gt; excelvos = null;\r\n       String strDate = &quot;28-02-2021&quot;;\r\n       String strToDate = &quot;28-03-2021&quot;;\r\n\r\n        Workbook workbook = new XSSFWorkbook();\r\n        try {\r\n            excelvos = ExcelDao.getInstance().getShabanCodes(100, strDate, strToDate);\r\n        } catch (Exception ex) {\r\n            Logger.getLogger(CopyToExcel.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n        // Workbook workbook = new XSSFWorkbook(); // new HSSFWorkbook() for generating `.xls` file\r\n        //System.out.println(strDate.substring(0, 5));\r\n\r\n        /* CreationHelper helps us create instances of various things like DataFormat, \r\n         Hyperlink, RichTextString etc, in a format (HSSF, XSSF) independent way */\r\n        CreationHelper createHelper = workbook.getCreationHelper();\r\n\r\n        // Create a Sheet\r\n        // for loop to create more than 1 sheet\r\n        \r\n        Sheet sheet = workbook.createSheet(strDate.substring(0, 5));\r\n        // Create a Font for styling header cells\r\n        Font headerFont = workbook.createFont();\r\n\r\n        headerFont.setFontHeightInPoints(\r\n                (short) 12);\r\n        headerFont.setColor(IndexedColors.BLACK.getIndex());\r\n\r\n        // Create a CellStyle with the font\r\n        CellStyle headerCellStyle = workbook.createCellStyle();\r\n\r\n        headerCellStyle.setFont(headerFont);\r\n        headerFont.setBoldweight(headerFont.BOLDWEIGHT_BOLD);\r\n        headerCellStyle.setFillBackgroundColor(IndexedColors.GREY_50_PERCENT.getIndex());\r\n        headerCellStyle.setAlignment(headerCellStyle.ALIGN_CENTER);\r\n\r\n        // Create a Row\r\n        Row headerRow = sheet.createRow(0);\r\n\r\n        // Create cells\r\n        //for the table header.\r\n        for (int i = 0;\r\n                i &lt; columns.length;\r\n                i++) {\r\n            Cell cell = headerRow.createCell(i);\r\n            cell.setCellValue(columns[i]);\r\n            cell.setCellStyle(headerCellStyle);\r\n        }\r\n\r\n        // Create Cell Style for formatting Date\r\n        CellStyle dateCellStyle = workbook.createCellStyle();\r\n\r\n        dateCellStyle.setDataFormat(createHelper.createDataFormat().getFormat(&quot;dd-MM-yyyy HH:mm:ss&quot;));\r\n        dateCellStyle.setBorderBottom(HSSFCellStyle.BORDER_MEDIUM);\r\n        dateCellStyle.setBorderLeft(HSSFCellStyle.BORDER_MEDIUM);\r\n        dateCellStyle.setBorderRight(HSSFCellStyle.BORDER_MEDIUM);\r\n        dateCellStyle.setBorderTop(HSSFCellStyle.BORDER_MEDIUM);\r\n        headerCellStyle.setAlignment(headerCellStyle.ALIGN_CENTER);\r\n\r\n        dateCellStyle.setBorderBottom(CellStyle.BORDER_THIN);\r\n        dateCellStyle.setBottomBorderColor(IndexedColors.BLACK.getIndex());\r\n        dateCellStyle.setBorderLeft(CellStyle.BORDER_THIN);\r\n        dateCellStyle.setLeftBorderColor(IndexedColors.BLACK.getIndex());\r\n        dateCellStyle.setBorderRight(CellStyle.BORDER_THIN);\r\n        dateCellStyle.setRightBorderColor(IndexedColors.BLACK.getIndex());\r\n        dateCellStyle.setBorderTop(CellStyle.BORDER_THIN);\r\n        dateCellStyle.setTopBorderColor(IndexedColors.BLACK.getIndex());\r\n        // Create Other rows and cells with employees data\r\n        int rowNum = 1;\r\n        for (Excelvo excelvo\r\n                : excelvos) {\r\n            Row row = sheet.createRow(rowNum++);\r\n\r\n            row.createCell(0)\r\n                    .setCellValue(excelvo.getCode());\r\n\r\n            row.createCell(1)\r\n                    .setCellValue(excelvo.getSentDate());\r\n\r\n            row.createCell(2)\r\n                    .setCellValue(excelvo.getCampaign());\r\n\r\n            row.createCell(3)\r\n                    .setCellValue(excelvo.getMsisdn());\r\n        }\r\n\r\n        // Resize all columns to fit the content size\r\n        for (int i = 0;\r\n                i &lt; columns.length;\r\n                i++) {\r\n            sheet.autoSizeColumn(i);\r\n        }\r\n\r\n        //String excelFilePath = &quot;D:/Excel/MyFirstExcel.xlsx&quot;;\r\n        //FileInputStream inputStream = new FileInputStream(new File(excelFilePath));\r\n        // Write the output to a file\r\n        FileOutputStream fileOut = new FileOutputStream(&quot;sugar sha3ban campaign 2021 code log 28 Feb - 30 Mar.xlsx&quot;);\r\n\r\n        workbook.write(fileOut);\r\n\r\n        fileOut.close(); \r\n```\r\n\r\nI need to separate the data into multiple sheets regarding the date\r\nthe retrieved data: each month has data I want to separate this data to put each month with their data in a sheet? \r\n\r\n","title":"How to separate data in multiple sheets in excel using java poi?","body":"<p>I have a java code that retrieves the data from the database and copies them to an excel sheet then creates a file,\nbut all the retrieval data are shown in 1 sheet my problem is to separate them into separated sheets regarding the date, please find my code and advise</p>\n<pre><code>       List&lt;Excelvo&gt; excelvos = null;\n       String strDate = &quot;28-02-2021&quot;;\n       String strToDate = &quot;28-03-2021&quot;;\n\n        Workbook workbook = new XSSFWorkbook();\n        try {\n            excelvos = ExcelDao.getInstance().getShabanCodes(100, strDate, strToDate);\n        } catch (Exception ex) {\n            Logger.getLogger(CopyToExcel.class.getName()).log(Level.SEVERE, null, ex);\n        }\n        // Workbook workbook = new XSSFWorkbook(); // new HSSFWorkbook() for generating `.xls` file\n        //System.out.println(strDate.substring(0, 5));\n\n        /* CreationHelper helps us create instances of various things like DataFormat, \n         Hyperlink, RichTextString etc, in a format (HSSF, XSSF) independent way */\n        CreationHelper createHelper = workbook.getCreationHelper();\n\n        // Create a Sheet\n        // for loop to create more than 1 sheet\n        \n        Sheet sheet = workbook.createSheet(strDate.substring(0, 5));\n        // Create a Font for styling header cells\n        Font headerFont = workbook.createFont();\n\n        headerFont.setFontHeightInPoints(\n                (short) 12);\n        headerFont.setColor(IndexedColors.BLACK.getIndex());\n\n        // Create a CellStyle with the font\n        CellStyle headerCellStyle = workbook.createCellStyle();\n\n        headerCellStyle.setFont(headerFont);\n        headerFont.setBoldweight(headerFont.BOLDWEIGHT_BOLD);\n        headerCellStyle.setFillBackgroundColor(IndexedColors.GREY_50_PERCENT.getIndex());\n        headerCellStyle.setAlignment(headerCellStyle.ALIGN_CENTER);\n\n        // Create a Row\n        Row headerRow = sheet.createRow(0);\n\n        // Create cells\n        //for the table header.\n        for (int i = 0;\n                i &lt; columns.length;\n                i++) {\n            Cell cell = headerRow.createCell(i);\n            cell.setCellValue(columns[i]);\n            cell.setCellStyle(headerCellStyle);\n        }\n\n        // Create Cell Style for formatting Date\n        CellStyle dateCellStyle = workbook.createCellStyle();\n\n        dateCellStyle.setDataFormat(createHelper.createDataFormat().getFormat(&quot;dd-MM-yyyy HH:mm:ss&quot;));\n        dateCellStyle.setBorderBottom(HSSFCellStyle.BORDER_MEDIUM);\n        dateCellStyle.setBorderLeft(HSSFCellStyle.BORDER_MEDIUM);\n        dateCellStyle.setBorderRight(HSSFCellStyle.BORDER_MEDIUM);\n        dateCellStyle.setBorderTop(HSSFCellStyle.BORDER_MEDIUM);\n        headerCellStyle.setAlignment(headerCellStyle.ALIGN_CENTER);\n\n        dateCellStyle.setBorderBottom(CellStyle.BORDER_THIN);\n        dateCellStyle.setBottomBorderColor(IndexedColors.BLACK.getIndex());\n        dateCellStyle.setBorderLeft(CellStyle.BORDER_THIN);\n        dateCellStyle.setLeftBorderColor(IndexedColors.BLACK.getIndex());\n        dateCellStyle.setBorderRight(CellStyle.BORDER_THIN);\n        dateCellStyle.setRightBorderColor(IndexedColors.BLACK.getIndex());\n        dateCellStyle.setBorderTop(CellStyle.BORDER_THIN);\n        dateCellStyle.setTopBorderColor(IndexedColors.BLACK.getIndex());\n        // Create Other rows and cells with employees data\n        int rowNum = 1;\n        for (Excelvo excelvo\n                : excelvos) {\n            Row row = sheet.createRow(rowNum++);\n\n            row.createCell(0)\n                    .setCellValue(excelvo.getCode());\n\n            row.createCell(1)\n                    .setCellValue(excelvo.getSentDate());\n\n            row.createCell(2)\n                    .setCellValue(excelvo.getCampaign());\n\n            row.createCell(3)\n                    .setCellValue(excelvo.getMsisdn());\n        }\n\n        // Resize all columns to fit the content size\n        for (int i = 0;\n                i &lt; columns.length;\n                i++) {\n            sheet.autoSizeColumn(i);\n        }\n\n        //String excelFilePath = &quot;D:/Excel/MyFirstExcel.xlsx&quot;;\n        //FileInputStream inputStream = new FileInputStream(new File(excelFilePath));\n        // Write the output to a file\n        FileOutputStream fileOut = new FileOutputStream(&quot;sugar sha3ban campaign 2021 code log 28 Feb - 30 Mar.xlsx&quot;);\n\n        workbook.write(fileOut);\n\n        fileOut.close(); \n</code></pre>\n<p>I need to separate the data into multiple sheets regarding the date\nthe retrieved data: each month has data I want to separate this data to put each month with their data in a sheet?</p>\n"},{"tags":["java","hibernate","jpa","jpql"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1656421025,"post_id":72786629,"comment_id":128563914,"body_markdown":"It should still properly map to a `Site` object no? Do you have any error message?","body":"It should still properly map to a <code>Site</code> object no? Do you have any error message?"},{"owner":{"account_id":3296915,"reputation":586,"user_id":5170417,"accept_rate":100,"display_name":"Francois"},"score":0,"creation_date":1656421328,"post_id":72786629,"comment_id":128564041,"body_markdown":"@XtremeBaumer There is no error message. Because these id lines are missing in the query, `Site` objects are loaded without any FK. When JPA tries to access missing information, it launches numerous requests. As you could imagine, it makes data display slower.","body":"@XtremeBaumer There is no error message. Because these id lines are missing in the query, <code>Site</code> objects are loaded without any FK. When JPA tries to access missing information, it launches numerous requests. As you could imagine, it makes data display slower."},{"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"score":3,"creation_date":1656421641,"post_id":72786629,"comment_id":128564166,"body_markdown":"The JPQL are generated based on the model and the Hibernate ORM version you are using. If the query is different it means that you have two different entity models or you are using two different Hibernate ORM versions. If you are deploying this on a server, make sure that you both are using the same version.","body":"The JPQL are generated based on the model and the Hibernate ORM version you are using. If the query is different it means that you have two different entity models or you are using two different Hibernate ORM versions. If you are deploying this on a server, make sure that you both are using the same version."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1656422311,"post_id":72786629,"comment_id":128564437,"body_markdown":"The fields exists and are used in the joins: &quot;site0_.id_site_type = sitetype1_.id_site_type&quot; has site0_.id_site_type, so technically isn&#39;t needed for the select since the information is there in each row. Why are requests on your collegue&#39;s computer not working exactly - what requests are launched and when? Does this problem occur with all queries or just this one?","body":"The fields exists and are used in the joins: &quot;site0_.id_site_type = sitetype1_.id_site_type&quot; has site0_.id_site_type, so technically isn&#39;t needed for the select since the information is there in each row. Why are requests on your collegue&#39;s computer not working exactly - what requests are launched and when? Does this problem occur with all queries or just this one?"},{"owner":{"account_id":3296915,"reputation":586,"user_id":5170417,"accept_rate":100,"display_name":"Francois"},"score":0,"creation_date":1656424481,"post_id":72786629,"comment_id":128565401,"body_markdown":"@Chris The problem occurs on every table where an equivalent query is defined in its specific repository. Requests are called in the MVC layer, when displaying data on a web page.","body":"@Chris The problem occurs on every table where an equivalent query is defined in its specific repository. Requests are called in the MVC layer, when displaying data on a web page."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1656426983,"post_id":72786629,"comment_id":128566452,"body_markdown":"I still do not follow: what exactly is the outcome? Is it trying to fetch the s.siteType relationship again or something else?","body":"I still do not follow: what exactly is the outcome? Is it trying to fetch the s.siteType relationship again or something else?"}],"owner":{"account_id":3296915,"reputation":586,"user_id":5170417,"accept_rate":100,"display_name":"Francois"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656420045,"creation_date":1656420045,"question_id":72786629,"body_markdown":"In a JPA repository, the following method is defined:\r\n```\r\n  @Query(\r\n      &quot;SELECT s FROM Site s &quot;\r\n          + &quot;LEFT JOIN FETCH s.siteType &quot;\r\n          + &quot;LEFT JOIN FETCH s.variables &quot;\r\n          + &quot;LEFT JOIN FETCH s.parameters&quot;)\r\n  List&lt;Site&gt; findWithDetails();\r\n```\r\n\r\nOn my computer, this JPQL query is translated correctly:\r\n```\r\nselect\r\n\tsite0_.id_site as id_site1_37_0_,\r\n\tsitetype1_.id_site_type as id_site_1_39_1_,\r\n\tvariables2_.id_variable as id_varia1_50_2_,\r\n\tparameters3_.id_site_param as id_site_1_38_3_,\r\n\tsite0_.active as active2_37_0_,\r\n\tsite0_.coord as coord3_37_0_,\r\n\tsite0_.name as name4_37_0_,\r\n\tsite0_.short_name as short_na5_37_0_,\r\n\tsite0_.id_site_type as id_site_7_37_0_,\r\n\tsite0_.source as source6_37_0_,\r\n\tsitetype1_.display_name as display_2_39_1_,\r\n\tsitetype1_.marker_default_color as marker_d3_39_1_,\r\n\tsitetype1_.marker_fa_icon as marker_f4_39_1_,\r\n\tsitetype1_.marker_fa_icon_color as marker_f5_39_1_,\r\n\tsitetype1_.marker_fa_icon_prefix as marker_f6_39_1_,\r\n\tsitetype1_.marker_shape as marker_s7_39_1_,\r\n\tsitetype1_.site_type as site_typ8_39_1_,\r\n\tvariables2_.active as active2_50_2_,\r\n\tvariables2_.description as descript3_50_2_,\r\n\tvariables2_.id_external_ts_source as id_exter9_50_2_,\r\n\tvariables2_.frequency as frequenc4_50_2_,\r\n\tvariables2_.name as name5_50_2_,\r\n\tvariables2_.popup_display_order as popup_di6_50_2_,\r\n\tvariables2_.short_name as short_na7_50_2_,\r\n\tvariables2_.id_site as id_site10_50_2_,\r\n\tvariables2_.unit_type as unit_typ8_50_2_,\r\n\tvariables2_.id_variable_type as id_vari11_50_2_,\r\n\tvariables2_.id_site as id_site10_50_0__,\r\n\tvariables2_.id_variable as id_varia1_50_0__,\r\n\tparameters3_.name as name2_38_3_,\r\n\tparameters3_.id_site as id_site4_38_3_,\r\n\tparameters3_.value as value3_38_3_,\r\n\tparameters3_.id_site as id_site4_38_1__,\r\n\tparameters3_.id_site_param as id_site_1_38_1__\r\nfrom\r\n\tsite site0_\r\nleft outer join site_type sitetype1_ on\r\n\tsite0_.id_site_type = sitetype1_.id_site_type\r\nleft outer join variable variables2_ on\r\n\tsite0_.id_site = variables2_.id_site\r\nleft outer join site_param parameters3_ on\r\n\tsite0_.id_site = parameters3_.id_site\r\n```\r\n\r\nOn my colleague&#39;s computer, it translates as:\r\n\r\n```\r\nselect\r\n\tsite0_.id_site as id_site1_37_0_,\r\n\tsitetype1_.id_site_type as id_site_1_39_1_,\r\n\tvariables2_.id_variable as id_varia1_50_2_,\r\n\tparameters3_.id_site_param as id_site_1_38_3_,\r\n\tsite0_.active as active2_37_0_,\r\n\tsite0_.coord as coord3_37_0_,\r\n\tsite0_.name as name4_37_0_,\r\n\tsite0_.short_name as short_na5_37_0_,\r\n\tsite0_.source as source6_37_0_,\r\n\tsitetype1_.display_name as display_2_39_1_,\r\n\tsitetype1_.marker_default_color as marker_d3_39_1_,\r\n\tsitetype1_.marker_fa_icon as marker_f4_39_1_,\r\n\tsitetype1_.marker_fa_icon_color as marker_f5_39_1_,\r\n\tsitetype1_.marker_fa_icon_prefix as marker_f6_39_1_,\r\n\tsitetype1_.marker_shape as marker_s7_39_1_,\r\n\tsitetype1_.site_type as site_typ8_39_1_,\r\n\tvariables2_.active as active2_50_2_,\r\n\tvariables2_.description as descript3_50_2_,\r\n\tvariables2_.frequency as frequenc4_50_2_,\r\n\tvariables2_.name as name5_50_2_,\r\n\tvariables2_.popup_display_order as popup_di6_50_2_,\r\n\tvariables2_.short_name as short_na7_50_2_,\r\n\tvariables2_.unit_type as unit_typ8_50_2_,\r\n\tvariables2_.id_site as id_site10_50_0__,\r\n\tvariables2_.id_variable as id_varia1_50_0__,\r\n\tparameters3_.name as name2_38_3_,\r\n\tparameters3_.value as value3_38_3_,\r\n\tparameters3_.id_site as id_site4_38_1__,\r\n\tparameters3_.id_site_param as id_site_1_38_1__\r\nfrom\r\n\tsite site0_\r\nleft outer join site_type sitetype1_ on\r\n\tsite0_.id_site_type = sitetype1_.id_site_type\r\nleft outer join variable variables2_ on\r\n\tsite0_.id_site = variables2_.id_site\r\nleft outer join site_param parameters3_ on\r\n\tsite0_.id_site = parameters3_.id_site\r\n```\r\n\r\nRequest created on my collegue&#39;s computer is not working because the following lines are missing:\r\n```\r\nsite0_.id_site_type as id_site_7_37_0_,\r\nvariables2_.id_external_ts_source as id_exter9_50_2_,\r\nvariables2_.id_site as id_site10_50_2_,\r\nvariables2_.id_variable_type as id_vari11_50_2_,\r\nparameters3_.id_site as id_site4_38_3_,\r\n```\r\nAny idea where to look? Is there a missing configuration somewhere? I don&#39;t understand why these id lines are missing.\r\n\r\nWe both use Spring-Boot 2.7.0, which includes Spring-Data 2.7.0.\r\n\r\nRegards\r\n\r\nFran&#231;ois\r\n","title":"Any idea why ids are ignored with JPQL query?","body":"<p>In a JPA repository, the following method is defined:</p>\n<pre><code>  @Query(\n      &quot;SELECT s FROM Site s &quot;\n          + &quot;LEFT JOIN FETCH s.siteType &quot;\n          + &quot;LEFT JOIN FETCH s.variables &quot;\n          + &quot;LEFT JOIN FETCH s.parameters&quot;)\n  List&lt;Site&gt; findWithDetails();\n</code></pre>\n<p>On my computer, this JPQL query is translated correctly:</p>\n<pre><code>select\n    site0_.id_site as id_site1_37_0_,\n    sitetype1_.id_site_type as id_site_1_39_1_,\n    variables2_.id_variable as id_varia1_50_2_,\n    parameters3_.id_site_param as id_site_1_38_3_,\n    site0_.active as active2_37_0_,\n    site0_.coord as coord3_37_0_,\n    site0_.name as name4_37_0_,\n    site0_.short_name as short_na5_37_0_,\n    site0_.id_site_type as id_site_7_37_0_,\n    site0_.source as source6_37_0_,\n    sitetype1_.display_name as display_2_39_1_,\n    sitetype1_.marker_default_color as marker_d3_39_1_,\n    sitetype1_.marker_fa_icon as marker_f4_39_1_,\n    sitetype1_.marker_fa_icon_color as marker_f5_39_1_,\n    sitetype1_.marker_fa_icon_prefix as marker_f6_39_1_,\n    sitetype1_.marker_shape as marker_s7_39_1_,\n    sitetype1_.site_type as site_typ8_39_1_,\n    variables2_.active as active2_50_2_,\n    variables2_.description as descript3_50_2_,\n    variables2_.id_external_ts_source as id_exter9_50_2_,\n    variables2_.frequency as frequenc4_50_2_,\n    variables2_.name as name5_50_2_,\n    variables2_.popup_display_order as popup_di6_50_2_,\n    variables2_.short_name as short_na7_50_2_,\n    variables2_.id_site as id_site10_50_2_,\n    variables2_.unit_type as unit_typ8_50_2_,\n    variables2_.id_variable_type as id_vari11_50_2_,\n    variables2_.id_site as id_site10_50_0__,\n    variables2_.id_variable as id_varia1_50_0__,\n    parameters3_.name as name2_38_3_,\n    parameters3_.id_site as id_site4_38_3_,\n    parameters3_.value as value3_38_3_,\n    parameters3_.id_site as id_site4_38_1__,\n    parameters3_.id_site_param as id_site_1_38_1__\nfrom\n    site site0_\nleft outer join site_type sitetype1_ on\n    site0_.id_site_type = sitetype1_.id_site_type\nleft outer join variable variables2_ on\n    site0_.id_site = variables2_.id_site\nleft outer join site_param parameters3_ on\n    site0_.id_site = parameters3_.id_site\n</code></pre>\n<p>On my colleague's computer, it translates as:</p>\n<pre><code>select\n    site0_.id_site as id_site1_37_0_,\n    sitetype1_.id_site_type as id_site_1_39_1_,\n    variables2_.id_variable as id_varia1_50_2_,\n    parameters3_.id_site_param as id_site_1_38_3_,\n    site0_.active as active2_37_0_,\n    site0_.coord as coord3_37_0_,\n    site0_.name as name4_37_0_,\n    site0_.short_name as short_na5_37_0_,\n    site0_.source as source6_37_0_,\n    sitetype1_.display_name as display_2_39_1_,\n    sitetype1_.marker_default_color as marker_d3_39_1_,\n    sitetype1_.marker_fa_icon as marker_f4_39_1_,\n    sitetype1_.marker_fa_icon_color as marker_f5_39_1_,\n    sitetype1_.marker_fa_icon_prefix as marker_f6_39_1_,\n    sitetype1_.marker_shape as marker_s7_39_1_,\n    sitetype1_.site_type as site_typ8_39_1_,\n    variables2_.active as active2_50_2_,\n    variables2_.description as descript3_50_2_,\n    variables2_.frequency as frequenc4_50_2_,\n    variables2_.name as name5_50_2_,\n    variables2_.popup_display_order as popup_di6_50_2_,\n    variables2_.short_name as short_na7_50_2_,\n    variables2_.unit_type as unit_typ8_50_2_,\n    variables2_.id_site as id_site10_50_0__,\n    variables2_.id_variable as id_varia1_50_0__,\n    parameters3_.name as name2_38_3_,\n    parameters3_.value as value3_38_3_,\n    parameters3_.id_site as id_site4_38_1__,\n    parameters3_.id_site_param as id_site_1_38_1__\nfrom\n    site site0_\nleft outer join site_type sitetype1_ on\n    site0_.id_site_type = sitetype1_.id_site_type\nleft outer join variable variables2_ on\n    site0_.id_site = variables2_.id_site\nleft outer join site_param parameters3_ on\n    site0_.id_site = parameters3_.id_site\n</code></pre>\n<p>Request created on my collegue's computer is not working because the following lines are missing:</p>\n<pre><code>site0_.id_site_type as id_site_7_37_0_,\nvariables2_.id_external_ts_source as id_exter9_50_2_,\nvariables2_.id_site as id_site10_50_2_,\nvariables2_.id_variable_type as id_vari11_50_2_,\nparameters3_.id_site as id_site4_38_3_,\n</code></pre>\n<p>Any idea where to look? Is there a missing configuration somewhere? I don't understand why these id lines are missing.</p>\n<p>We both use Spring-Boot 2.7.0, which includes Spring-Data 2.7.0.</p>\n<p>Regards</p>\n<p>François</p>\n"},{"tags":["javascript","java","angular","spring","spring-boot"],"comments":[{"owner":{"account_id":1109511,"reputation":18905,"user_id":1100248,"accept_rate":81,"display_name":"Vova Bilyachat"},"score":0,"creation_date":1593060962,"post_id":62568051,"comment_id":110648282,"body_markdown":"Not exactly what you are looking for but have a look https://stackoverflow.com/questions/59249434/azure-devops-angular-environment-variables/59249554#59249554. So i would separate angular and spring unless you are using server side rendering","body":"Not exactly what you are looking for but have a look <a href=\"https://stackoverflow.com/questions/59249434/azure-devops-angular-environment-variables/59249554#59249554\" title=\"azure devops angular environment variables\">stackoverflow.com/questions/59249434/&hellip;</a>. So i would separate angular and spring unless you are using server side rendering"},{"owner":{"account_id":10085235,"reputation":441,"user_id":7454104,"display_name":"Flavio Oliva"},"score":0,"creation_date":1655901249,"post_id":62568051,"comment_id":128441190,"body_markdown":"I am also facing this very same problem.","body":"I am also facing this very same problem."}],"answers":[{"tags":[],"owner":{"account_id":10717399,"reputation":5816,"user_id":7887516,"display_name":"Ananthapadmanabhan"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1593065211,"creation_date":1593064516,"answer_id":62568732,"question_id":62568051,"body_markdown":"The issue with what you are asking is that , once you place the  angular generated files under the static folder, springboot will treat the files as static assets and will not use any templating engine for us to bind any furthur data to the files. It will receive the request and if it matched the asset it will serve it directly.\r\n\r\nFor your use-case to work, you will have to set the angular environment in the angular build itself. What you could maybe do is,  have the angular build parameterized like using maven profiles so that you could control the angular build using maven command itself. You might probably be using the `front-end-builder` plugin to trigger the angular build right. So , in that case when you provide the `npm run-script` command you could provide which customized command you want to run by providing different commands in your `package.json`. For buid setup read : https://stackoverflow.com/questions/45750276/how-to-integrate-an-angular-4-app-with-a-spring-boot-stack/60771725#60771725","title":"Pass Angular environment variables to compiled static angular files in spring boot","body":"<p>The issue with what you are asking is that , once you place the  angular generated files under the static folder, springboot will treat the files as static assets and will not use any templating engine for us to bind any furthur data to the files. It will receive the request and if it matched the asset it will serve it directly.</p>\n<p>For your use-case to work, you will have to set the angular environment in the angular build itself. What you could maybe do is,  have the angular build parameterized like using maven profiles so that you could control the angular build using maven command itself. You might probably be using the <code>front-end-builder</code> plugin to trigger the angular build right. So , in that case when you provide the <code>npm run-script</code> command you could provide which customized command you want to run by providing different commands in your <code>package.json</code>. For buid setup read : <a href=\"https://stackoverflow.com/questions/45750276/how-to-integrate-an-angular-4-app-with-a-spring-boot-stack/60771725#60771725\">How to integrate an Angular 4 app with a Spring Boot stack?</a></p>\n"},{"tags":[],"owner":{"account_id":9977963,"reputation":1770,"user_id":7381844,"display_name":"jBuchholz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656419761,"creation_date":1656419761,"answer_id":72786556,"question_id":62568051,"body_markdown":"### Externalize configuration to separate file\r\n\r\nCreate a file `settings.js` in `assets` that shall hold your env variables:\r\n\r\n    const GlobalSettings = {\r\n       ... your settings values\r\n    }\r\n\r\nAdd this file to your `index.html` so it will automatically be loaded during startup (but not packaged by Webpack).\r\n\r\n    &lt;script src=&quot;assets/settings.js&quot; type=&quot;application/javascript&quot;&gt;&lt;/script&gt;\r\n\r\nIn your code `GlobalSettings` would then be available - well - globally.\r\n\r\n##### Inject content of `settings.js` into environment\r\n\r\nIf you prefer to work with the environment inside of your Angular app you could overwrite the specific properties of environment in `main.ts`:\r\n\r\n    environment.someProperty = GlobalSettings.someProperty;\r\n    ... bootstrap Angular\r\n\r\nNow you can change your settings by replacing `settings.js` instead of having to rebuild the whole app.\r\n\r\n### Edit file using environment variables\r\n\r\nUse `envsubst` to replace variables in your `settings.js`\r\n\r\n    // settings.template.js\r\n    const GlobalSettings = {\r\n      someProperty: &quot;${SOME_PROPERTY}&quot;\r\n    }\r\n\r\n    // command that starts your server, e.g. docker command\r\n    envsubst &lt; settings.template.js &gt; settings.js &amp;&amp; &lt;command to start webserver&gt;\r\n\r\nThis will obviously not work if you ship your Angular app inside a Java jar.\r\n\r\n### Provide `settings.js` via Spring backend\r\nDo not copy the file to the `static` directory (and thus not into the jar).\r\n\r\nInstead create an endpoint in your Java app that listens on `/assets/settings.js`.\r\nHere you can use all the Java/Spring magic (including reading env variables) to assemble `settings.js` with the desired content.","title":"Pass Angular environment variables to compiled static angular files in spring boot","body":"<h3>Externalize configuration to separate file</h3>\n<p>Create a file <code>settings.js</code> in <code>assets</code> that shall hold your env variables:</p>\n<pre><code>const GlobalSettings = {\n   ... your settings values\n}\n</code></pre>\n<p>Add this file to your <code>index.html</code> so it will automatically be loaded during startup (but not packaged by Webpack).</p>\n<pre><code>&lt;script src=&quot;assets/settings.js&quot; type=&quot;application/javascript&quot;&gt;&lt;/script&gt;\n</code></pre>\n<p>In your code <code>GlobalSettings</code> would then be available - well - globally.</p>\n<h5>Inject content of <code>settings.js</code> into environment</h5>\n<p>If you prefer to work with the environment inside of your Angular app you could overwrite the specific properties of environment in <code>main.ts</code>:</p>\n<pre><code>environment.someProperty = GlobalSettings.someProperty;\n... bootstrap Angular\n</code></pre>\n<p>Now you can change your settings by replacing <code>settings.js</code> instead of having to rebuild the whole app.</p>\n<h3>Edit file using environment variables</h3>\n<p>Use <code>envsubst</code> to replace variables in your <code>settings.js</code></p>\n<pre><code>// settings.template.js\nconst GlobalSettings = {\n  someProperty: &quot;${SOME_PROPERTY}&quot;\n}\n\n// command that starts your server, e.g. docker command\nenvsubst &lt; settings.template.js &gt; settings.js &amp;&amp; &lt;command to start webserver&gt;\n</code></pre>\n<p>This will obviously not work if you ship your Angular app inside a Java jar.</p>\n<h3>Provide <code>settings.js</code> via Spring backend</h3>\n<p>Do not copy the file to the <code>static</code> directory (and thus not into the jar).</p>\n<p>Instead create an endpoint in your Java app that listens on <code>/assets/settings.js</code>.\nHere you can use all the Java/Spring magic (including reading env variables) to assemble <code>settings.js</code> with the desired content.</p>\n"}],"owner":{"account_id":16138536,"reputation":481,"user_id":11650363,"display_name":"Hongli Bu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1873,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1656419761,"creation_date":1593060380,"question_id":62568051,"body_markdown":"I am now using angular and spring boot to build website project. When we deploy, we will ```ng build  --output-path=../spring-boot-project/src/main/resources/static&quot;,``` angular and generate a static folder in spring boot, like ```/resource/static```. Then we build and deploy a .jar file to our prod(or lab) environment. \r\n\r\nso when we run the .jar file, how can we pass some environment varibles to angular part(the static files in spring boot project).\r\n\r\n\r\nMore specifically, I want to set angular environment in spring boot application.yml:\r\n```\r\nspring:\r\n  profiles:\r\n    active: dev\r\n  main:\r\n    banner-mode: &quot;off&quot;\r\n\r\n---\r\n\r\nspring:\r\n  profiles: dev\r\nangular.v1: &quot;something1_dev&quot;\r\nangular.v2: &quot;something2_dev&quot;\r\n\r\n\r\n---\r\n\r\nspring:\r\n  profiles: prod\r\nangular.v1: &quot;something1_prod&quot;\r\nangular.v2: &quot;something2_prod&quot;\r\n\r\n```\r\n\r\nhow can I pass these values(different values because of different profiles) to angular side?","title":"Pass Angular environment variables to compiled static angular files in spring boot","body":"<p>I am now using angular and spring boot to build website project. When we deploy, we will <code>ng build  --output-path=../spring-boot-project/src/main/resources/static&quot;,</code> angular and generate a static folder in spring boot, like <code>/resource/static</code>. Then we build and deploy a .jar file to our prod(or lab) environment.</p>\n<p>so when we run the .jar file, how can we pass some environment varibles to angular part(the static files in spring boot project).</p>\n<p>More specifically, I want to set angular environment in spring boot application.yml:</p>\n<pre><code>spring:\n  profiles:\n    active: dev\n  main:\n    banner-mode: &quot;off&quot;\n\n---\n\nspring:\n  profiles: dev\nangular.v1: &quot;something1_dev&quot;\nangular.v2: &quot;something2_dev&quot;\n\n\n---\n\nspring:\n  profiles: prod\nangular.v1: &quot;something1_prod&quot;\nangular.v2: &quot;something2_prod&quot;\n\n</code></pre>\n<p>how can I pass these values(different values because of different profiles) to angular side?</p>\n"},{"tags":["java","web-scraping","webkit","chromium","playwright"],"comments":[{"owner":{"account_id":5535028,"reputation":1362,"user_id":4393666,"display_name":"Andrey Kotov"},"score":1,"creation_date":1656364777,"post_id":72778026,"comment_id":128549837,"body_markdown":"link that you posted - shows access denied (from any browser, doesn&#39;t matter -  local or automated): https://i.imgur.com/JWLL31x.png . Could you please provide another link to file?","body":"link that you posted - shows access denied (from any browser, doesn&#39;t matter -  local or automated): <a href=\"https://i.imgur.com/JWLL31x.png\" rel=\"nofollow noreferrer\">i.imgur.com/JWLL31x.png</a> . Could you please provide another link to file?"}],"answers":[{"tags":[],"owner":{"account_id":8703850,"reputation":2628,"user_id":6512681,"display_name":"Max Schmitt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656403099,"creation_date":1656403099,"answer_id":72782709,"question_id":72778026,"body_markdown":"If you already have a link to your file, then why you don&#39;t just download it via a normal connection? https://stackoverflow.com/questions/10135074/download-file-from-https-server-using-java\r\n\r\nPlaywright Downloads are like downloads triggered from a page or by a user. Just visiting a link isn&#39;t going to trigger a download event.","title":"Can&#39;t download file with Playwright Chromium or Webkit","body":"<p>If you already have a link to your file, then why you don't just download it via a normal connection? <a href=\"https://stackoverflow.com/questions/10135074/download-file-from-https-server-using-java\">Download file from HTTPS server using Java</a></p>\n<p>Playwright Downloads are like downloads triggered from a page or by a user. Just visiting a link isn't going to trigger a download event.</p>\n"},{"tags":[],"owner":{"account_id":5535028,"reputation":1362,"user_id":4393666,"display_name":"Andrey Kotov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656419719,"creation_date":1656418383,"answer_id":72786221,"question_id":72778026,"body_markdown":"Works for Chromium and Firefox. Change `outputDirectory` variable before running.\r\n\r\n    import com.microsoft.playwright.*;\r\n    import org.apache.commons.io.FileUtils;\r\n    import org.apache.commons.io.FilenameUtils;\r\n    \r\n    import java.io.File;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) throws Exception {\r\n    \r\n            try (Playwright playwright = Playwright.create()) {\r\n                String outputDirectory = &quot;d:\\\\&quot;;\r\n    \r\n                String url = &quot;https://www.johnlewis.com/sitemap/products/products-00.xml.gz&quot;;\r\n                String filename = FilenameUtils.getName(url);\r\n    \r\n                BrowserType browserType = playwright.firefox();\r\n                Browser browser = browserType.launch(new BrowserType.LaunchOptions().setHeadless(false));\r\n                BrowserContext newContext = browser.newContext(new Browser.NewContextOptions().setAcceptDownloads(true));\r\n                Page page = newContext.newPage();\r\n    \r\n                Download download = page.waitForDownload(() -&gt; {\r\n                    page.evaluate(&quot;(y) =&gt; {location.href = y;}&quot;, url);\r\n                });\r\n    \r\n                Path downloadedFilePath = download.path();\r\n                System.out.println(&quot;Downloaded to &quot; + downloadedFilePath);\r\n    \r\n                Path destinationFilePath = Paths.get(outputDirectory, filename);\r\n                FileUtils.copyFile(new File(downloadedFilePath.toString()), new File(destinationFilePath.toString()));\r\n                System.out.println(&quot;Saved to &quot; + destinationFilePath);\r\n            }\r\n        }\r\n    }\r\n\r\nAs for `webkit`, I guess there is some kind of built in browser functionality you cannot override. You can even try to open `webkit` using Playwright&#39;s java code and then insert a link manually and try to download - it doesn&#39;t allow you to do this (even in separate window, or even using javascript + `download` html attribute)","title":"Can&#39;t download file with Playwright Chromium or Webkit","body":"<p>Works for Chromium and Firefox. Change <code>outputDirectory</code> variable before running.</p>\n<pre><code>import com.microsoft.playwright.*;\nimport org.apache.commons.io.FileUtils;\nimport org.apache.commons.io.FilenameUtils;\n\nimport java.io.File;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\n\npublic class Main {\n    public static void main(String[] args) throws Exception {\n\n        try (Playwright playwright = Playwright.create()) {\n            String outputDirectory = &quot;d:\\\\&quot;;\n\n            String url = &quot;https://www.johnlewis.com/sitemap/products/products-00.xml.gz&quot;;\n            String filename = FilenameUtils.getName(url);\n\n            BrowserType browserType = playwright.firefox();\n            Browser browser = browserType.launch(new BrowserType.LaunchOptions().setHeadless(false));\n            BrowserContext newContext = browser.newContext(new Browser.NewContextOptions().setAcceptDownloads(true));\n            Page page = newContext.newPage();\n\n            Download download = page.waitForDownload(() -&gt; {\n                page.evaluate(&quot;(y) =&gt; {location.href = y;}&quot;, url);\n            });\n\n            Path downloadedFilePath = download.path();\n            System.out.println(&quot;Downloaded to &quot; + downloadedFilePath);\n\n            Path destinationFilePath = Paths.get(outputDirectory, filename);\n            FileUtils.copyFile(new File(downloadedFilePath.toString()), new File(destinationFilePath.toString()));\n            System.out.println(&quot;Saved to &quot; + destinationFilePath);\n        }\n    }\n}\n</code></pre>\n<p>As for <code>webkit</code>, I guess there is some kind of built in browser functionality you cannot override. You can even try to open <code>webkit</code> using Playwright's java code and then insert a link manually and try to download - it doesn't allow you to do this (even in separate window, or even using javascript + <code>download</code> html attribute)</p>\n"}],"owner":{"account_id":20718629,"reputation":685,"user_id":15213503,"display_name":"MeT"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3682,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72786221,"answer_count":2,"score":1,"last_activity_date":1656419719,"creation_date":1656362258,"question_id":72778026,"body_markdown":"I want to download some file for example [sitemap.xml.gz][1].   \r\nI want to do it only with [playwright 1.22][2]. \r\nI tried to do it with **chromium browser**, but it **fails**.   \r\nAlso it doesn&#39;t work with **webkit**. With webkit it opens **all file content on the page** and gives me **timeout**.   \r\nIt only works with **firefox**.   \r\nBut I want to know that is wrong with others browsers? Maybe it is some **bug in playwright**.    \r\nHas anyone been able to download directly a file with playwright?\r\n````java\r\npublic class PwDownload {\r\n    public static void main(String[] args) {\r\n        try (Playwright playwright = Playwright.create()) {\r\n            final BrowserType chromium = playwright.chromium();\r\n            final Browser browser = chromium.launch(new BrowserType.LaunchOptions().setHeadless(false));\r\n            Page page = browser.newPage();\r\n            Download download = page.waitForDownload(() -&gt; {\r\n                page.navigate(&quot;https://www.fnac.es/sitemap-top-post.xml.gz&quot;);\r\n            });\r\n            System.out.println(download.path());\r\n            browser.close();\r\n        }\r\n    }\r\n}\r\n````\r\n**Error trace with chromium:**\r\n````\r\nnavigating to &quot;https://www.fnac.es/sitemap-top-post.xml.gz&quot;, waiting until &quot;load&quot;\r\n============================================================\r\n    at FrameSession._navigate (/private/var/folders/1n/tnrrsqrs1_7f_k2x84xql3pr0000gn/T/playwright-java-12123589937209992525/package/lib/server/chromium/crPage.js:636:35)\r\n    at runNextTicks (node:internal/process/task_queues:61:5)\r\n    at processImmediate (node:internal/timers:437:9)\r\n    at async /private/var/folders/1n/tnrrsqrs1_7f_k2x84xql3pr0000gn/T/playwright-java-12123589937209992525/package/lib/server/frames.js:648:30\r\n    at async ProgressController.run (/private/var/folders/1n/tnrrsqrs1_7f_k2x84xql3pr0000gn/T/playwright-java-12123589937209992525/package/lib/server/progress.js:101:22)\r\n    at async FrameDispatcher.goto (/private/var/folders/1n/tnrrsqrs1_7f_k2x84xql3pr0000gn/T/playwright-java-12123589937209992525/package/lib/server/dispatchers/frameDispatcher.js:86:59)\r\n    at async DispatcherConnection.dispatch (/private/var/folders/1n/tnrrsqrs1_7f_k2x84xql3pr0000gn/T/playwright-java-12123589937209992525/package/lib/server/dispatchers/dispatcher.js:352:22)\r\n}\r\n\tat com.microsoft.playwright.impl.Connection.dispatch(Connection.java:183)\r\n\tat com.microsoft.playwright.impl.Connection.processOneMessage(Connection.java:163)\r\n\tat com.microsoft.playwright.impl.ChannelOwner.runUntil(ChannelOwner.java:101)\r\n\t... 19 more\r\n````\r\n\r\n  [1]: https://www.fnac.es/sitemap-top-post.xml.gz\r\n  [2]: https://playwright.dev/java/docs/api/class-download","title":"Can&#39;t download file with Playwright Chromium or Webkit","body":"<p>I want to download some file for example <a href=\"https://www.fnac.es/sitemap-top-post.xml.gz\" rel=\"nofollow noreferrer\">sitemap.xml.gz</a>.<br />\nI want to do it only with <a href=\"https://playwright.dev/java/docs/api/class-download\" rel=\"nofollow noreferrer\">playwright 1.22</a>.\nI tried to do it with <strong>chromium browser</strong>, but it <strong>fails</strong>.<br />\nAlso it doesn't work with <strong>webkit</strong>. With webkit it opens <strong>all file content on the page</strong> and gives me <strong>timeout</strong>.<br />\nIt only works with <strong>firefox</strong>.<br />\nBut I want to know that is wrong with others browsers? Maybe it is some <strong>bug in playwright</strong>.<br />\nHas anyone been able to download directly a file with playwright?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PwDownload {\n    public static void main(String[] args) {\n        try (Playwright playwright = Playwright.create()) {\n            final BrowserType chromium = playwright.chromium();\n            final Browser browser = chromium.launch(new BrowserType.LaunchOptions().setHeadless(false));\n            Page page = browser.newPage();\n            Download download = page.waitForDownload(() -&gt; {\n                page.navigate(&quot;https://www.fnac.es/sitemap-top-post.xml.gz&quot;);\n            });\n            System.out.println(download.path());\n            browser.close();\n        }\n    }\n}\n</code></pre>\n<p><strong>Error trace with chromium:</strong></p>\n<pre><code>navigating to &quot;https://www.fnac.es/sitemap-top-post.xml.gz&quot;, waiting until &quot;load&quot;\n============================================================\n    at FrameSession._navigate (/private/var/folders/1n/tnrrsqrs1_7f_k2x84xql3pr0000gn/T/playwright-java-12123589937209992525/package/lib/server/chromium/crPage.js:636:35)\n    at runNextTicks (node:internal/process/task_queues:61:5)\n    at processImmediate (node:internal/timers:437:9)\n    at async /private/var/folders/1n/tnrrsqrs1_7f_k2x84xql3pr0000gn/T/playwright-java-12123589937209992525/package/lib/server/frames.js:648:30\n    at async ProgressController.run (/private/var/folders/1n/tnrrsqrs1_7f_k2x84xql3pr0000gn/T/playwright-java-12123589937209992525/package/lib/server/progress.js:101:22)\n    at async FrameDispatcher.goto (/private/var/folders/1n/tnrrsqrs1_7f_k2x84xql3pr0000gn/T/playwright-java-12123589937209992525/package/lib/server/dispatchers/frameDispatcher.js:86:59)\n    at async DispatcherConnection.dispatch (/private/var/folders/1n/tnrrsqrs1_7f_k2x84xql3pr0000gn/T/playwright-java-12123589937209992525/package/lib/server/dispatchers/dispatcher.js:352:22)\n}\n    at com.microsoft.playwright.impl.Connection.dispatch(Connection.java:183)\n    at com.microsoft.playwright.impl.Connection.processOneMessage(Connection.java:163)\n    at com.microsoft.playwright.impl.ChannelOwner.runUntil(ChannelOwner.java:101)\n    ... 19 more\n</code></pre>\n"},{"tags":["java","jvm"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1656421695,"post_id":72784326,"comment_id":128564186,"body_markdown":"What JVM options are you using?","body":"What JVM options are you using?"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1656422439,"post_id":72784326,"comment_id":128564486,"body_markdown":"Does the error occur right when starting java or while running?","body":"Does the error occur right when starting java or while running?"},{"owner":{"account_id":22904515,"reputation":11,"user_id":17042774,"display_name":"Vikram Ayaluri"},"score":0,"creation_date":1656478369,"post_id":72784326,"comment_id":128579235,"body_markdown":"@StephenC I&#39;m not giving any such options","body":"@StephenC I&#39;m not giving any such options"},{"owner":{"account_id":22904515,"reputation":11,"user_id":17042774,"display_name":"Vikram Ayaluri"},"score":0,"creation_date":1656478411,"post_id":72784326,"comment_id":128579244,"body_markdown":"@dan1st While Running","body":"@dan1st While Running"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1656478747,"post_id":72784326,"comment_id":128579300,"body_markdown":"What external limits are placed on the JVM&#39;s memory usage; e.g. using via docker or `ulimit`.","body":"What external limits are placed on the JVM&#39;s memory usage; e.g. using via docker or <code>ulimit</code>."},{"owner":{"account_id":22904515,"reputation":11,"user_id":17042774,"display_name":"Vikram Ayaluri"},"score":0,"creation_date":1656493899,"post_id":72784326,"comment_id":128584047,"body_markdown":"@StephenC None.","body":"@StephenC None."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1656495176,"post_id":72784326,"comment_id":128584534,"body_markdown":"Run this inside the docker container and tell us what it says: `java -XX:+PrintFlagsFinal -version | grep -Ei &quot;maxheapsize|maxram&quot;`","body":"Run this inside the docker container and tell us what it says: <code>java -XX:+PrintFlagsFinal -version | grep -Ei &quot;maxheapsize|maxram&quot;</code>"}],"owner":{"account_id":22904515,"reputation":11,"user_id":17042774,"display_name":"Vikram Ayaluri"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656419604,"creation_date":1656410066,"question_id":72784326,"body_markdown":"I want to create an online Java compiler for my coding website. A user submits the code that will be compiled and run against the testcases (steps in a single job). My code runs one job after another, while the remaining jobs are waiting in the queue. I have sent 10 requests in a second, but only a few of them were successfully completed. Others give the following types of errors:\r\n\r\n``` [warning][os,thread] Failed to start thread - pthread_create failed (EAGAIN) for attributes: stacksize: 1024k, guardsize: 0k, detached.Error occurred during initialization of VM\r\njava.lang.OutOfMemoryError: unable to create native thread: possibly out of memory or process/resource limits reached\r\nat java.lang.Thread.start0(java.base/Native Method)\r\nat java.lang.Thread.start(java.base/Thread.java:798)\r\nat java.lang.ref.Finalizer.&lt;clinit&gt;(java.base/Finalizer.java:187)\r\n```\r\n\r\n```\r\nError: Could not create the Java Virtual Machine.\r\nError: A fatal exception has occurred. Program will exit\r\n```\r\n\r\nSometimes a file(hs_err_pid2185.log) containing below message also gets created by JVM.\r\n```There is insufficient memory for the Java Runtime Environment to continue.\r\n# Cannot create worker GC thread. Out of system resources.\r\n# Possible reasons:\r\n#   The system is out of physical RAM or swap space\r\n#   The process is running with CompressedOops enabled, and the Java Heap may be blocking the growth of the native heap\r\n# Possible solutions:\r\n#   Reduce memory load on the system\r\n#   Increase physical memory or swap space\r\n#   Check if swap backing store is full\r\n#   Decrease Java heap size (-Xmx/-Xms)\r\n#   Decrease number of Java threads\r\n#   Decrease Java thread stack sizes (-Xss)\r\n#   Set larger code cache with -XX:ReservedCodeCacheSize=\r\n#   JVM is running with Unscaled Compressed Oops mode in which the Java heap is\r\n#     placed in the first 4GB address space. The Java Heap base address is the\r\n#     maximum limit for the native heap growth. Please use -XX:HeapBaseMinAddress\r\n#     to set the Java Heap base and to place the Java Heap above 4GB virtual address.\r\n# This output file may be truncated or incomplete.\r\n#\r\n#  Out of Memory Error (workerManager.hpp:70), pid=2185, tid=2189\r\n#\r\n# JRE version:  (11.0.15+10) (build )\r\n# Java VM: OpenJDK 64-Bit Server VM (11.0.15+10-post-Debian-1deb11u1, mixed mode, sharing, tiered, compressed oops, g1 gc, linux-amd64)\r\n# Core dump will be written. Default location: Core dumps may be processed with &quot;/usr/share/apport/apport -p%p -s%s -c%c -d%d -P%P -u%u -g%g -- %E&quot; (or dumping to /home/project/core.2185)\r\n```\r\n\r\nClearly, the problem is related to memory. I was using Docker to run the application on an EC2 instance with 8GB of memory. When I checked the memory usage through *Docker stats*, I found it was not even using 10% of the total RAM.\r\n\r\nSolutions I tried:\r\n\r\n - jlink - to reduce size of jvm, which also is giving similar results. \r\n\r\n - nailgun - JVM server. No clear documentation. So, i was not able to run it properly.\r\n\r\n - drip - JVM server. It was buggy. \r\n\r\n - Increasing the ram of EC2 instance.\r\n\r\n**What is the reason for this behavior? What is the maximum capacity of the JVM in this case? What are the solutions or methods that coding platforms like Hackerrank use?**","title":"How to create optimized java online compiler?","body":"<p>I want to create an online Java compiler for my coding website. A user submits the code that will be compiled and run against the testcases (steps in a single job). My code runs one job after another, while the remaining jobs are waiting in the queue. I have sent 10 requests in a second, but only a few of them were successfully completed. Others give the following types of errors:</p>\n<pre><code>java.lang.OutOfMemoryError: unable to create native thread: possibly out of memory or process/resource limits reached\nat java.lang.Thread.start0(java.base/Native Method)\nat java.lang.Thread.start(java.base/Thread.java:798)\nat java.lang.ref.Finalizer.&lt;clinit&gt;(java.base/Finalizer.java:187)\n</code></pre>\n<pre><code>Error: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit\n</code></pre>\n<p>Sometimes a file(hs_err_pid2185.log) containing below message also gets created by JVM.</p>\n<pre><code># Cannot create worker GC thread. Out of system resources.\n# Possible reasons:\n#   The system is out of physical RAM or swap space\n#   The process is running with CompressedOops enabled, and the Java Heap may be blocking the growth of the native heap\n# Possible solutions:\n#   Reduce memory load on the system\n#   Increase physical memory or swap space\n#   Check if swap backing store is full\n#   Decrease Java heap size (-Xmx/-Xms)\n#   Decrease number of Java threads\n#   Decrease Java thread stack sizes (-Xss)\n#   Set larger code cache with -XX:ReservedCodeCacheSize=\n#   JVM is running with Unscaled Compressed Oops mode in which the Java heap is\n#     placed in the first 4GB address space. The Java Heap base address is the\n#     maximum limit for the native heap growth. Please use -XX:HeapBaseMinAddress\n#     to set the Java Heap base and to place the Java Heap above 4GB virtual address.\n# This output file may be truncated or incomplete.\n#\n#  Out of Memory Error (workerManager.hpp:70), pid=2185, tid=2189\n#\n# JRE version:  (11.0.15+10) (build )\n# Java VM: OpenJDK 64-Bit Server VM (11.0.15+10-post-Debian-1deb11u1, mixed mode, sharing, tiered, compressed oops, g1 gc, linux-amd64)\n# Core dump will be written. Default location: Core dumps may be processed with &quot;/usr/share/apport/apport -p%p -s%s -c%c -d%d -P%P -u%u -g%g -- %E&quot; (or dumping to /home/project/core.2185)\n</code></pre>\n<p>Clearly, the problem is related to memory. I was using Docker to run the application on an EC2 instance with 8GB of memory. When I checked the memory usage through <em>Docker stats</em>, I found it was not even using 10% of the total RAM.</p>\n<p>Solutions I tried:</p>\n<ul>\n<li><p>jlink - to reduce size of jvm, which also is giving similar results.</p>\n</li>\n<li><p>nailgun - JVM server. No clear documentation. So, i was not able to run it properly.</p>\n</li>\n<li><p>drip - JVM server. It was buggy.</p>\n</li>\n<li><p>Increasing the ram of EC2 instance.</p>\n</li>\n</ul>\n<p><strong>What is the reason for this behavior? What is the maximum capacity of the JVM in this case? What are the solutions or methods that coding platforms like Hackerrank use?</strong></p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":21410604,"reputation":355,"user_id":15770918,"display_name":"leandro.dev"},"score":2,"creation_date":1656418327,"post_id":72786177,"comment_id":128562692,"body_markdown":"What are your dependencies and import package using @JsonIgnore? Can you put here editing the question? The main problem of @JsonIgnore is import a wrong package.","body":"What are your dependencies and import package using @JsonIgnore? Can you put here editing the question? The main problem of @JsonIgnore is import a wrong package."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1656418412,"post_id":72786177,"comment_id":128562727,"body_markdown":"There are many JSON libraries for Java. If you want answer related to specific library please specify it in your question.","body":"There are many JSON libraries for Java. If you want answer related to specific library please specify it in your question."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1656418446,"post_id":72786177,"comment_id":128562739,"body_markdown":"How is the code relevant to the question?","body":"How is the code relevant to the question?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1656418665,"post_id":72786177,"comment_id":128562826,"body_markdown":"For example, https://www.javaguides.net/2019/04/jackson-ignore-fields-or-properties-on-serialization.html they give complete working examples. Build, run, and output. Can you do the same thing? Show the complete class that you serialize and the resulting JSON.","body":"For example, <a href=\"https://www.javaguides.net/2019/04/jackson-ignore-fields-or-properties-on-serialization.html\" rel=\"nofollow noreferrer\">javaguides.net/2019/04/&hellip;</a> they give complete working examples. Build, run, and output. Can you do the same thing? Show the complete class that you serialize and the resulting JSON."},{"owner":{"account_id":15910041,"reputation":592,"user_id":11480221,"display_name":"AddeusExMachina"},"score":0,"creation_date":1656419733,"post_id":72786177,"comment_id":128563298,"body_markdown":"Have you set @JsonIgnore annotation on the variable declaration?  ```@JsonIgnore private String price```","body":"Have you set @JsonIgnore annotation on the variable declaration?  <code>@JsonIgnore private String price</code>"}],"answers":[{"tags":[],"owner":{"account_id":21410604,"reputation":355,"user_id":15770918,"display_name":"leandro.dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656418928,"creation_date":1656418928,"answer_id":72786352,"question_id":72786177,"body_markdown":"The first option is using `@JsonIgnore`.\r\nTo use it correctly, you need to put the dependency that you are using and the import.\r\n\r\nExample that works:\r\n```java\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\n\r\n@JsonIgnore\r\npublic BigDecimal getPrice(){\r\n}\r\n```\r\n\r\nUsing the dependency:\r\n```xml\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\nA **common problem** is when the project has two `Jackson` dependencies.\r\n\r\nIn this case, sometimes you need to put this follow instead the first:\r\n\r\n```java\r\nimport org.codehaus.jackson.annotate.JsonIgnore;\r\n```\r\n\r\nBut **you need to verify why the project is using two dependencies** of the same project and remove one whether is your situation.","title":"How to hide java field in json?","body":"<p>The first option is using <code>@JsonIgnore</code>.\nTo use it correctly, you need to put the dependency that you are using and the import.</p>\n<p>Example that works:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.annotation.JsonIgnore;\n\n@JsonIgnore\npublic BigDecimal getPrice(){\n}\n</code></pre>\n<p>Using the dependency:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>A <strong>common problem</strong> is when the project has two <code>Jackson</code> dependencies.</p>\n<p>In this case, sometimes you need to put this follow instead the first:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.codehaus.jackson.annotate.JsonIgnore;\n</code></pre>\n<p>But <strong>you need to verify why the project is using two dependencies</strong> of the same project and remove one whether is your situation.</p>\n"}],"owner":{"account_id":22191064,"reputation":63,"user_id":16433246,"display_name":"TtT"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1656419275,"creation_date":1656418156,"question_id":72786177,"body_markdown":"How can I not show field in Json? I tried @JsonIgnore, but it doesn&#39;t work for me. I need this field only to use in my code, but not to show in json. How can I do it?\r\n\r\nCode:\r\n\r\n    @Override\r\n    public final BigDecimal getPrice() {\r\n    \tif (best != null) {\r\n    \t\treturn packet.Price();\r\n    \t}\r\n    \treturn null;\r\n    }","title":"How to hide java field in json?","body":"<p>How can I not show field in Json? I tried @JsonIgnore, but it doesn't work for me. I need this field only to use in my code, but not to show in json. How can I do it?</p>\n<p>Code:</p>\n<pre><code>@Override\npublic final BigDecimal getPrice() {\n    if (best != null) {\n        return packet.Price();\n    }\n    return null;\n}\n</code></pre>\n"},{"tags":["java","android","sqlite","android-studio"],"comments":[{"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"score":1,"creation_date":1656417169,"post_id":72785816,"comment_id":128562257,"body_markdown":"*...It always gives me true...* What do you expect to get with `return true;`?","body":"<i>...It always gives me true...</i> What do you expect to get with <code>return true;</code>?"},{"owner":{"account_id":18361187,"reputation":686,"user_id":13373270,"display_name":"codebod"},"score":0,"creation_date":1656417698,"post_id":72785816,"comment_id":128562450,"body_markdown":"Store the output of `insert`, which returns a `long` corresponding to the new row ID. Either log this result to aid debugging, or ensure `addItem` returns `false` if this figure is negative.","body":"Store the output of <code>insert</code>, which returns a <code>long</code> corresponding to the new row ID. Either log this result to aid debugging, or ensure <code>addItem</code> returns <code>false</code> if this figure is negative."},{"owner":{"account_id":18923067,"reputation":39,"user_id":13806749,"display_name":"KingSwoozie"},"score":0,"creation_date":1656418333,"post_id":72785816,"comment_id":128562696,"body_markdown":"@forpas my mistake, forgot to ctrl+z on my code, it&#39;s not supposed to look like that, I&#39;ll edit the code","body":"@forpas my mistake, forgot to ctrl+z on my code, it&#39;s not supposed to look like that, I&#39;ll edit the code"},{"owner":{"account_id":18923067,"reputation":39,"user_id":13806749,"display_name":"KingSwoozie"},"score":0,"creation_date":1656418487,"post_id":72785816,"comment_id":128562757,"body_markdown":"@codebod that&#39;s what I had originally, then I went to try some stuff to see if it fixes and I forgot to revert it back to that instead of just having &quot;return true;&quot;","body":"@codebod that&#39;s what I had originally, then I went to try some stuff to see if it fixes and I forgot to revert it back to that instead of just having &quot;return true;&quot;"},{"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"score":0,"creation_date":1656419134,"post_id":72785816,"comment_id":128563035,"body_markdown":"If your code is as it is now and the method `addItem()` returns `true`, it means that the row was inserted successfully in the table.","body":"If your code is as it is now and the method <code>addItem()</code> returns <code>true</code>, it means that the row was inserted successfully in the table."},{"owner":{"account_id":18923067,"reputation":39,"user_id":13806749,"display_name":"KingSwoozie"},"score":0,"creation_date":1656419815,"post_id":72785816,"comment_id":128563344,"body_markdown":"@forpas that&#39;s what I logically thought too, but when I go to check, nope, nothing","body":"@forpas that&#39;s what I logically thought too, but when I go to check, nope, nothing"},{"owner":{"account_id":18923067,"reputation":39,"user_id":13806749,"display_name":"KingSwoozie"},"score":0,"creation_date":1656420047,"post_id":72785816,"comment_id":128563469,"body_markdown":"@forpas aha!, I get what&#39;s wrong now, since I had the database open in the DB Browser, I couldn&#39;t replace the file with the updated database file since the original one was being used and open","body":"@forpas aha!, I get what&#39;s wrong now, since I had the database open in the DB Browser, I couldn&#39;t replace the file with the updated database file since the original one was being used and open"}],"owner":{"account_id":18923067,"reputation":39,"user_id":13806749,"display_name":"KingSwoozie"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656419017,"creation_date":1656416702,"question_id":72785816,"body_markdown":"I have made a class that&#39;s called DataBaseHelperFoodLogger that extends SQLiteOpenHelper, and whenever I call the addItem method, its supposed to create the table if it doesn&#39;t exist, and then insert the values that the user introduced (from the activity where the method is called), I even have a bit of code that gives me confirmation on whether the data was introduced or not, if it does it&#39;ll toast &quot;Success = true&quot; or false if it couldn&#39;t insert the data. It always gives me true, but then when I go to check the database using &quot;DB Browser for SQLite&quot;, not only did it not insert anything, but the table that was created on the onCreate method doesn&#39;t exist. \r\n\r\nThe odd thing about it, is that I have another class that&#39;s basically identical but with its respective methods and table, and that seems to be working just fine.\r\n\r\nDataBaseHelperFoodLogger.java\r\n-\r\n```\r\npublic class DataBaseHelperFoodLogger extends SQLiteOpenHelper {\r\n\r\n        public static final String FOOD_LOGGER_TABLE_NAME = &quot;FOOD_LOGGER_TABLE_NAME&quot;;\r\n\r\n        public static final String FOOD_LOGGER_DATE = &quot;FOOD_LOGGER_DATE&quot;;\r\n        public static final String FOOD_LOGGER_MEALTIME_ID = &quot;FOOD_LOGGER_MEALTIME_ID&quot;;\r\n        public static final String FOOD_LOGGER_ID = &quot;FOOD_LOGGER_ID&quot;;\r\n        public static final String FOOD_LOGGER_FOOD_ID = &quot;FOOD_LOGGER_FOOD_ID&quot;;\r\n\r\n\r\n        public DataBaseHelperFoodLogger(@Nullable Context context) {\r\n            super(context, &quot;food.db&quot; , null, 1);\r\n        }\r\n\r\n        @Override\r\n        public void onCreate(SQLiteDatabase db) {\r\n\r\n            String createTable = &quot;CREATE TABLE &quot; + FOOD_LOGGER_TABLE_NAME + &quot; (&quot; + FOOD_LOGGER_ID + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot; + FOOD_LOGGER_MEALTIME_ID + &quot; INTEGER NOT NULL, &quot; + FOOD_LOGGER_DATE + &quot; VARCHAR(255) NOT NULL, &quot; + FOOD_LOGGER_FOOD_ID + &quot; INTEGER NOT NULL)&quot;;\r\n            db.execSQL(createTable);\r\n\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n\r\n        }\r\n\r\n        public boolean addItem (FoodItemEditable item, String date, int mealtimeID) {\r\n\r\n            SQLiteDatabase db = this.getWritableDatabase();\r\n            ContentValues cv = new ContentValues();\r\n\r\n            cv.put(FOOD_LOGGER_DATE, date);\r\n            cv.put(FOOD_LOGGER_MEALTIME_ID, mealtimeID);\r\n            cv.put(FOOD_LOGGER_FOOD_ID, item.getFoodId());\r\n\r\n\r\n            db.insert(FOOD_LOGGER_TABLE_NAME, null, cv);\r\n\r\n            long insert = db.insert(FOOD_LOGGER_TABLE_NAME, null, cv);\r\n\r\n            if (insert == -1) {\r\n                return false;\r\n            } else {\r\n                return true;\r\n            }\r\n\r\n        }\r\n        \r\n\r\n\r\n}\r\n```\r\n\r\ndashboard_fragment.java (where I call the addItem method)\r\n-\r\n\r\n```\r\n    if (intent != null) {\r\n        item = (FoodItemEditable) intent.getSerializableExtra(&quot;agua&quot;);\r\n        if (buttonMealtimeIndicator != 0) {\r\n            DataBaseHelperFoodLogger db = new DataBaseHelperFoodLogger(getActivity());\r\n            Boolean success = db.addItem(item, date, buttonMealtimeIndicator);\r\n            Toast.makeText(getActivity(), &quot;Success = &quot; + success, Toast.LENGTH_SHORT).show();\r\n            addItemToList();\r\n\r\n        }\r\n    }\r\n```","title":"Can&#39;t create table and Insert data using SQLite in Android Studio","body":"<p>I have made a class that's called DataBaseHelperFoodLogger that extends SQLiteOpenHelper, and whenever I call the addItem method, its supposed to create the table if it doesn't exist, and then insert the values that the user introduced (from the activity where the method is called), I even have a bit of code that gives me confirmation on whether the data was introduced or not, if it does it'll toast &quot;Success = true&quot; or false if it couldn't insert the data. It always gives me true, but then when I go to check the database using &quot;DB Browser for SQLite&quot;, not only did it not insert anything, but the table that was created on the onCreate method doesn't exist.</p>\n<p>The odd thing about it, is that I have another class that's basically identical but with its respective methods and table, and that seems to be working just fine.</p>\n<h2>DataBaseHelperFoodLogger.java</h2>\n<pre><code>public class DataBaseHelperFoodLogger extends SQLiteOpenHelper {\n\n        public static final String FOOD_LOGGER_TABLE_NAME = &quot;FOOD_LOGGER_TABLE_NAME&quot;;\n\n        public static final String FOOD_LOGGER_DATE = &quot;FOOD_LOGGER_DATE&quot;;\n        public static final String FOOD_LOGGER_MEALTIME_ID = &quot;FOOD_LOGGER_MEALTIME_ID&quot;;\n        public static final String FOOD_LOGGER_ID = &quot;FOOD_LOGGER_ID&quot;;\n        public static final String FOOD_LOGGER_FOOD_ID = &quot;FOOD_LOGGER_FOOD_ID&quot;;\n\n\n        public DataBaseHelperFoodLogger(@Nullable Context context) {\n            super(context, &quot;food.db&quot; , null, 1);\n        }\n\n        @Override\n        public void onCreate(SQLiteDatabase db) {\n\n            String createTable = &quot;CREATE TABLE &quot; + FOOD_LOGGER_TABLE_NAME + &quot; (&quot; + FOOD_LOGGER_ID + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot; + FOOD_LOGGER_MEALTIME_ID + &quot; INTEGER NOT NULL, &quot; + FOOD_LOGGER_DATE + &quot; VARCHAR(255) NOT NULL, &quot; + FOOD_LOGGER_FOOD_ID + &quot; INTEGER NOT NULL)&quot;;\n            db.execSQL(createTable);\n\n\n        }\n\n        @Override\n        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n\n        }\n\n        public boolean addItem (FoodItemEditable item, String date, int mealtimeID) {\n\n            SQLiteDatabase db = this.getWritableDatabase();\n            ContentValues cv = new ContentValues();\n\n            cv.put(FOOD_LOGGER_DATE, date);\n            cv.put(FOOD_LOGGER_MEALTIME_ID, mealtimeID);\n            cv.put(FOOD_LOGGER_FOOD_ID, item.getFoodId());\n\n\n            db.insert(FOOD_LOGGER_TABLE_NAME, null, cv);\n\n            long insert = db.insert(FOOD_LOGGER_TABLE_NAME, null, cv);\n\n            if (insert == -1) {\n                return false;\n            } else {\n                return true;\n            }\n\n        }\n        \n\n\n}\n</code></pre>\n<h2>dashboard_fragment.java (where I call the addItem method)</h2>\n<pre><code>    if (intent != null) {\n        item = (FoodItemEditable) intent.getSerializableExtra(&quot;agua&quot;);\n        if (buttonMealtimeIndicator != 0) {\n            DataBaseHelperFoodLogger db = new DataBaseHelperFoodLogger(getActivity());\n            Boolean success = db.addItem(item, date, buttonMealtimeIndicator);\n            Toast.makeText(getActivity(), &quot;Success = &quot; + success, Toast.LENGTH_SHORT).show();\n            addItemToList();\n\n        }\n    }\n</code></pre>\n"},{"tags":["java","mysql","spring","spring-boot"],"comments":[{"owner":{"account_id":12548140,"reputation":576,"user_id":9130746,"display_name":"Roman Golov"},"score":0,"creation_date":1656417253,"post_id":72785712,"comment_id":128562298,"body_markdown":"Hi. take a look at https://stackoverflow.com/questions/8339889/jpa-jpql-select-items-when-attribute-of-item-list-set-contains-another-item  You can use inner join of three tables and select distinct TV_SHOWS","body":"Hi. take a look at <a href=\"https://stackoverflow.com/questions/8339889/jpa-jpql-select-items-when-attribute-of-item-list-set-contains-another-item\" title=\"jpa jpql select items when attribute of item list set contains another item\">stackoverflow.com/questions/8339889/&hellip;</a>  You can use inner join of three tables and select distinct TV_SHOWS"},{"owner":{"account_id":25669104,"reputation":1,"user_id":19433645,"display_name":"Stage"},"score":0,"creation_date":1656423433,"post_id":72785712,"comment_id":128564899,"body_markdown":"How can I apply this to my project?","body":"How can I apply this to my project?"},{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1656429496,"post_id":72785712,"comment_id":128567612,"body_markdown":"Is there a particular reason you don&#39;t want to make a new table (Trust me I&#39;d understand if you just don&#39;t want to, but it would be nice to know)? To me, a `CAST` table seems useful. Another option is to build a `VIEW` instead of a table and query directly off it. Personally, I think that using JPA for this is a bit extreme. Let the database do some legwork too.","body":"Is there a particular reason you don&#39;t want to make a new table (Trust me I&#39;d understand if you just don&#39;t want to, but it would be nice to know)? To me, a <code>CAST</code> table seems useful. Another option is to build a <code>VIEW</code> instead of a table and query directly off it. Personally, I think that using JPA for this is a bit extreme. Let the database do some legwork too."},{"owner":{"account_id":25669104,"reputation":1,"user_id":19433645,"display_name":"Stage"},"score":0,"creation_date":1656432463,"post_id":72785712,"comment_id":128568797,"body_markdown":"Just trying to understand Spring. Personally for me would be easier to make another table. But if I do another table finally I would get 2 lists and I don&#39;t know how to stream them in my project because I&#39;m noob :)","body":"Just trying to understand Spring. Personally for me would be easier to make another table. But if I do another table finally I would get 2 lists and I don&#39;t know how to stream them in my project because I&#39;m noob :)"}],"owner":{"account_id":25669104,"reputation":1,"user_id":19433645,"display_name":"Stage"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656418803,"creation_date":1656416288,"question_id":72785712,"body_markdown":"I&#39;m trying to get a list of my tv_shows based on Actor Id.\r\n\r\nAt this moment, this is the only thing I get working (The list of chapters based on Actor Id)\r\n\r\nI have tried to do the same with TvShows, but I&#39;m getting an error.\r\n\r\nSo I assume, I can&#39;t access from Actor to TvShow without creating a new table.(I don&#39;t want to create another table. And I&#39;m not sure if I think in the correct way :D)\r\n\r\nI have a database with Tables: tv_shows &gt; seasons &gt; chapters\r\n\r\nactors and chapters_has_actors\r\n[Check the EER Diagram of the Database][1]\r\n\r\nTvShow.java\r\n```\r\n@Entity\r\n@Table(name = &quot;TV_SHOWS&quot;)\r\npublic class TvShow implements Serializable {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Long id;\r\n\r\n\t@Column(name = &quot;NAME&quot;)\r\n\tprivate String name;\r\n\r\n\t@OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, mappedBy = &quot;tvShow&quot;)\r\n\tprivate List&lt;Season&gt; seasons;\r\n\r\n// Getters and Setters\r\n}\r\n```\r\nSeason.java\r\n```\r\n@Entity\r\n@Table(name = &quot;SEASONS&quot;)\r\npublic class Season implements Serializable {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Long id;\r\n\r\n\t@Column(name = &quot;NAME&quot;)\r\n\tprivate String name;\r\n\r\n\t@ManyToOne(fetch = FetchType.LAZY)\r\n\t@JoinColumn(name = &quot;TV_SHOW_ID&quot;, nullable = false)\r\n\tprivate TvShow tvShow;\r\n\r\n\t@OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, mappedBy = &quot;season&quot;)\r\n\tprivate List&lt;Chapter&gt; chapters;\r\n\r\n// Getters and Setters\r\n}\r\n```\r\nChapter.java\r\n```\r\n@Entity\r\n@Table(name = &quot;CHAPTERS&quot;)\r\npublic class Chapter implements Serializable {\r\n\r\n    @Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Long id;\r\n\r\n\t@ManyToOne(fetch = FetchType.LAZY)\r\n\t@JoinColumn(name = &quot;SEASON_ID&quot;, nullable = false)\r\n\tprivate Season season;\r\n\t\r\n\t@ManyToMany(fetch = FetchType.LAZY)\r\n\t@JoinTable (name = &quot;CHAPTERS_HAS_ACTORS&quot;,\r\n\t\t\tjoinColumns = @JoinColumn(name = &quot;CHAPTER_ID&quot;),\r\n\t\t\tinverseJoinColumns = @JoinColumn(name =&quot;ACTOR_ID&quot;))\r\n\tprivate List&lt;Actor&gt; actor;\r\n\r\n// Getters and Setters\r\n}\r\n```\r\n\r\nSo when I go to my ChapterServiceImpl.java and do this &gt;\r\n```\r\n@Service\r\npublic class ChapterServiceImpl implements ChapterService {\r\n\r\n\t@Autowired\r\n\tprivate ChapterRepository chapterRepository;\r\n\t@Autowired\r\n\tprivate ActorRepository actorRepository;\r\n\r\n\tprivate ModelMapper modelMapper = new ModelMapper();\r\n\r\n\t@Override\r\n\tpublic List&lt;ChapterRest&gt; getChaptersByActorId(Long actorId){\r\n\t\tOptional&lt;Actor&gt; actor = actorRepository.findById(actorId);\r\n\t\tList&lt;ChapterRest&gt; chapterList =  chapterRepository.findByActorId(actorId)\r\n\t\t\t\t.stream()\r\n\t\t\t\t.map(chapter -&gt; modelMapper\r\n\t\t\t\t.map(chapter, ChapterRest.class))\r\n\t\t\t\t.collect(Collectors.toList());\r\n\t\treturn chapterList;\r\n\t}\r\n``` \r\nand go to my ChapterControllerImpl.java\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/tv-shows/{tvShowId}/seasons/{seasonNumber}/chapters&quot;)\r\npublic class ChapterControllerImpl implements ChapterController {\r\n\r\n\t@Autowired\r\n\tprivate ChapterService chapterService;\r\n\r\n\t@Override\r\n\t@GetMapping(value = &quot;/actors&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n\tpublic List&lt;ChapterRest&gt; getChaptersByActorId(\r\n\t\t\t@RequestParam Long actorId)\t{\r\n\t\treturn \r\n\t\t\t\tchapterService.getChaptersByActorId(actorId));\r\n\r\n\t}\r\n}\r\n```\r\nChapterRepository.java \r\n```\r\n@Repository\r\npublic interface ChapterRepository extends JpaRepository&lt;Chapter, Long&gt; {\r\n\r\n\tList&lt;Chapter&gt; findByActorId(Long actorId);\r\n}\r\n\r\n```\r\nI get a list of chapters based on my Actor Id\r\n\r\nThe question is how can I get a list of TvShows and Chapters based on Actor Id?\r\nI&#39;m not sure what I&#39;m doing bad, but I can&#39;t get a list of my TvShows based on Actor Id\r\n\r\n\r\nThank you, sorry for my English and have a great day!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6nbh0.png","title":"How to get a list from a list of lists in JPA?","body":"<p>I'm trying to get a list of my tv_shows based on Actor Id.</p>\n<p>At this moment, this is the only thing I get working (The list of chapters based on Actor Id)</p>\n<p>I have tried to do the same with TvShows, but I'm getting an error.</p>\n<p>So I assume, I can't access from Actor to TvShow without creating a new table.(I don't want to create another table. And I'm not sure if I think in the correct way :D)</p>\n<p>I have a database with Tables: tv_shows &gt; seasons &gt; chapters</p>\n<p>actors and chapters_has_actors\n<a href=\"https://i.stack.imgur.com/6nbh0.png\" rel=\"nofollow noreferrer\">Check the EER Diagram of the Database</a></p>\n<p>TvShow.java</p>\n<pre><code>@Entity\n@Table(name = &quot;TV_SHOWS&quot;)\npublic class TvShow implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(name = &quot;NAME&quot;)\n    private String name;\n\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, mappedBy = &quot;tvShow&quot;)\n    private List&lt;Season&gt; seasons;\n\n// Getters and Setters\n}\n</code></pre>\n<p>Season.java</p>\n<pre><code>@Entity\n@Table(name = &quot;SEASONS&quot;)\npublic class Season implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(name = &quot;NAME&quot;)\n    private String name;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;TV_SHOW_ID&quot;, nullable = false)\n    private TvShow tvShow;\n\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, mappedBy = &quot;season&quot;)\n    private List&lt;Chapter&gt; chapters;\n\n// Getters and Setters\n}\n</code></pre>\n<p>Chapter.java</p>\n<pre><code>@Entity\n@Table(name = &quot;CHAPTERS&quot;)\npublic class Chapter implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;SEASON_ID&quot;, nullable = false)\n    private Season season;\n    \n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable (name = &quot;CHAPTERS_HAS_ACTORS&quot;,\n            joinColumns = @JoinColumn(name = &quot;CHAPTER_ID&quot;),\n            inverseJoinColumns = @JoinColumn(name =&quot;ACTOR_ID&quot;))\n    private List&lt;Actor&gt; actor;\n\n// Getters and Setters\n}\n</code></pre>\n<p>So when I go to my ChapterServiceImpl.java and do this &gt;</p>\n<pre><code>@Service\npublic class ChapterServiceImpl implements ChapterService {\n\n    @Autowired\n    private ChapterRepository chapterRepository;\n    @Autowired\n    private ActorRepository actorRepository;\n\n    private ModelMapper modelMapper = new ModelMapper();\n\n    @Override\n    public List&lt;ChapterRest&gt; getChaptersByActorId(Long actorId){\n        Optional&lt;Actor&gt; actor = actorRepository.findById(actorId);\n        List&lt;ChapterRest&gt; chapterList =  chapterRepository.findByActorId(actorId)\n                .stream()\n                .map(chapter -&gt; modelMapper\n                .map(chapter, ChapterRest.class))\n                .collect(Collectors.toList());\n        return chapterList;\n    }\n</code></pre>\n<p>and go to my ChapterControllerImpl.java</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/tv-shows/{tvShowId}/seasons/{seasonNumber}/chapters&quot;)\npublic class ChapterControllerImpl implements ChapterController {\n\n    @Autowired\n    private ChapterService chapterService;\n\n    @Override\n    @GetMapping(value = &quot;/actors&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n    public List&lt;ChapterRest&gt; getChaptersByActorId(\n            @RequestParam Long actorId) {\n        return \n                chapterService.getChaptersByActorId(actorId));\n\n    }\n}\n</code></pre>\n<p>ChapterRepository.java</p>\n<pre><code>@Repository\npublic interface ChapterRepository extends JpaRepository&lt;Chapter, Long&gt; {\n\n    List&lt;Chapter&gt; findByActorId(Long actorId);\n}\n\n</code></pre>\n<p>I get a list of chapters based on my Actor Id</p>\n<p>The question is how can I get a list of TvShows and Chapters based on Actor Id?\nI'm not sure what I'm doing bad, but I can't get a list of my TvShows based on Actor Id</p>\n<p>Thank you, sorry for my English and have a great day!</p>\n"},{"tags":["java","android","android-studio","android-volley"],"answers":[{"tags":[],"owner":{"account_id":23417249,"reputation":66,"user_id":17478018,"display_name":"Ajay Pradhan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656410587,"creation_date":1656410587,"answer_id":72784444,"question_id":72784375,"body_markdown":"    Try this code\r\n    &lt;code&gt;\r\n       JSONObject jsonObject = new JSONObject(response);\r\n                                System.out.println(&quot;jsonWallet----&quot; + jsonObject);\r\n                                int status_ = jsonObject.getInt(&quot;status&quot;);\r\n                                if(status_ == 1){\r\n                                   String  incomeWalletBal = jsonObject.getString(&quot;income_wallet&quot;);\r\n                                  String  refundWalletBal = jsonObject.getString(&quot;refund_wallet&quot;);\r\n                                   \r\n                                }else {\r\n    \r\n                                }\r\n    &lt;/code&gt;","title":"How to get String response from post request volley","body":"<pre><code>Try this code\n&lt;code&gt;\n   JSONObject jsonObject = new JSONObject(response);\n                            System.out.println(&quot;jsonWallet----&quot; + jsonObject);\n                            int status_ = jsonObject.getInt(&quot;status&quot;);\n                            if(status_ == 1){\n                               String  incomeWalletBal = jsonObject.getString(&quot;income_wallet&quot;);\n                              String  refundWalletBal = jsonObject.getString(&quot;refund_wallet&quot;);\n                               \n                            }else {\n\n                            }\n&lt;/code&gt;\n</code></pre>\n"}],"owner":{"account_id":20585330,"reputation":29,"user_id":16760939,"display_name":"ayaz khan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":443,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72784444,"answer_count":1,"score":0,"last_activity_date":1656418803,"creation_date":1656410275,"question_id":72784375,"body_markdown":"&gt;I am trying to get a string response from post request. Here, I am sending a post request. where I am sending this data. I have a Model of BillReceipt. Which I pass on the request body. \r\n\r\n    public void UserTransactionReceiptReport(TransactionTypeListener&lt;String&gt; listener, BillReceipt billReceiptReport){\r\n            final UserSettings userSettings = getMUserSettings();\r\n            final StringBuilder url = new StringBuilder(AppConfigsManager.getTouchServerUrl());\r\n            url.append(&quot;/api/User/UserData&quot;);\r\n        \r\n            JSONObject  params = new JSONObject();\r\n        \r\n            try{\r\n        \r\n                params.put(&quot;iB_CUST_ID&quot;,billReceiptReport.getiB_CUST_ID());\r\n                params.put(&quot;transactioN_DATE&quot;,billReceiptReport.getTransactioN_DATE());\r\n                params.put(&quot;transactioN_DATE_NM&quot;,billReceiptReport.getTransactioN_DATE_NM());\r\n        \r\n            }catch (Exception e){\r\n                e.printStackTrace();\r\n            }\r\n        \r\n            JsonObjectRequest request = new JsonObjectRequest(Request.Method.POST, url.toString(), params\r\n                    , new Response.Listener&lt;JSONObject&gt;() {\r\n                @Override\r\n                public void onResponse(JSONObject response) {\r\n                    Gson mapper = new GsonBuilder().create();\r\n        \r\n                    try{\r\n        \r\n                        Type type = new TypeToken&lt;APIResponse&lt;String&gt;&gt;() {\r\n                        }.getType();\r\n                        APIResponse&lt;String&gt; responseObject = mapper.fromJson(response.toString(), type);\r\n        \r\n                        if(responseObject.Status == APIStatus.OK){\r\n                            listener.didFetch(responseObject.Result, responseObject.Message);\r\n                        }else {\r\n                            listener.didError(responseObject.Message);\r\n                        }\r\n        \r\n                    }catch (Exception e){\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }, new Response.ErrorListener() {\r\n                @Override\r\n                public void onErrorResponse(VolleyError error) {\r\n                    listener.didError(error.getMessage());\r\n                }\r\n            })\r\n        \r\n            {\r\n                @Override\r\n                public Map&lt;String, String&gt; getHeaders() {\r\n                    return getAuthorizationTokenHashMap(getMUserSettings());\r\n                }\r\n            };\r\n            addVolleyRequest(request);\r\n        \r\n        }\r\n\r\n&gt;and I call this api from recycler download button.Here , I globally declared the manager where i write the api code. and also declare a the model name.\r\n\r\n        holder.downloadBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                manager.UserTransactionReceiptReport(listener,billReceiptReport);\r\n            }\r\n        });\r\n    }\r\n\r\n    private  final TransactionTypeListener&lt;String&gt;  listener = new TransactionTypeListener&lt;String&gt;() {\r\n        @Override\r\n        public void didFetch(String response, String message) {\r\n            str =  response;\r\n\r\n\r\n        }\r\n\r\n        @Override\r\n        public void didError(String message) {\r\n\r\n        }\r\n    };\r\n&gt;&gt;any one help me to solve the problem i am facing. ","title":"How to get String response from post request volley","body":"<blockquote>\n<p>I am trying to get a string response from post request. Here, I am sending a post request. where I am sending this data. I have a Model of BillReceipt. Which I pass on the request body.</p>\n</blockquote>\n<pre><code>public void UserTransactionReceiptReport(TransactionTypeListener&lt;String&gt; listener, BillReceipt billReceiptReport){\n        final UserSettings userSettings = getMUserSettings();\n        final StringBuilder url = new StringBuilder(AppConfigsManager.getTouchServerUrl());\n        url.append(&quot;/api/User/UserData&quot;);\n    \n        JSONObject  params = new JSONObject();\n    \n        try{\n    \n            params.put(&quot;iB_CUST_ID&quot;,billReceiptReport.getiB_CUST_ID());\n            params.put(&quot;transactioN_DATE&quot;,billReceiptReport.getTransactioN_DATE());\n            params.put(&quot;transactioN_DATE_NM&quot;,billReceiptReport.getTransactioN_DATE_NM());\n    \n        }catch (Exception e){\n            e.printStackTrace();\n        }\n    \n        JsonObjectRequest request = new JsonObjectRequest(Request.Method.POST, url.toString(), params\n                , new Response.Listener&lt;JSONObject&gt;() {\n            @Override\n            public void onResponse(JSONObject response) {\n                Gson mapper = new GsonBuilder().create();\n    \n                try{\n    \n                    Type type = new TypeToken&lt;APIResponse&lt;String&gt;&gt;() {\n                    }.getType();\n                    APIResponse&lt;String&gt; responseObject = mapper.fromJson(response.toString(), type);\n    \n                    if(responseObject.Status == APIStatus.OK){\n                        listener.didFetch(responseObject.Result, responseObject.Message);\n                    }else {\n                        listener.didError(responseObject.Message);\n                    }\n    \n                }catch (Exception e){\n                    e.printStackTrace();\n                }\n            }\n        }, new Response.ErrorListener() {\n            @Override\n            public void onErrorResponse(VolleyError error) {\n                listener.didError(error.getMessage());\n            }\n        })\n    \n        {\n            @Override\n            public Map&lt;String, String&gt; getHeaders() {\n                return getAuthorizationTokenHashMap(getMUserSettings());\n            }\n        };\n        addVolleyRequest(request);\n    \n    }\n</code></pre>\n<blockquote>\n<p>and I call this api from recycler download button.Here , I globally declared the manager where i write the api code. and also declare a the model name.</p>\n</blockquote>\n<pre><code>    holder.downloadBtn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            manager.UserTransactionReceiptReport(listener,billReceiptReport);\n        }\n    });\n}\n\nprivate  final TransactionTypeListener&lt;String&gt;  listener = new TransactionTypeListener&lt;String&gt;() {\n    @Override\n    public void didFetch(String response, String message) {\n        str =  response;\n\n\n    }\n\n    @Override\n    public void didError(String message) {\n\n    }\n};\n</code></pre>\n<blockquote>\n<blockquote>\n<p>any one help me to solve the problem i am facing.</p>\n</blockquote>\n</blockquote>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":15910041,"reputation":592,"user_id":11480221,"display_name":"AddeusExMachina"},"score":0,"creation_date":1656418170,"post_id":72786126,"comment_id":128562634,"body_markdown":"vehicles is a list of ```Vehicle```, why it shouldn&#39;t work?","body":"vehicles is a list of <code>Vehicle</code>, why it shouldn&#39;t work?"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":3,"creation_date":1656418300,"post_id":72786126,"comment_id":128562685,"body_markdown":"What objects in the list refers to doesn&#39;t matter. Only the type of `vehicles` - `List&lt;Vehicle&gt;` - matters when type checking this.","body":"What objects in the list refers to doesn&#39;t matter. Only the type of <code>vehicles</code> - <code>List&lt;Vehicle&gt;</code> - matters when type checking this."},{"owner":{"display_name":"user7514788"},"score":0,"creation_date":1656418459,"post_id":72786126,"comment_id":128562747,"body_markdown":"This makes sense. Even if I pass Vehicle typed List , members of this list was subtypes of vehicle and it has been making me confused. But from type checking point of view , I can accept that.","body":"This makes sense. Even if I pass Vehicle typed List , members of this list was subtypes of vehicle and it has been making me confused. But from type checking point of view , I can accept that."}],"owner":{"display_name":"user7514788"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656418782,"creation_date":1656417991,"question_id":72786126,"body_markdown":"I have a conventional method to pass a collection as argument that would have to have a type either to be same or superclass of Vehicle class. Also I have two subclass which are Van and Truck.\r\n\r\n```java\r\nprivate static void changeLength(Collection&lt;? super Vehicle&gt; collection) {\r\n    //\r\n}\r\n```\r\n\r\nBut when I invoke this method like below I don&#39;t have any problem. Even if my collection is of type Vehicle, members of this collection is actually pointing to subclass types (Van,Truck).\r\n\r\n```java\r\npublic static void testCaseTwo() {\r\n    List&lt;Vehicle&gt; vehicles = new ArrayList&lt;&gt;();\r\n    vehicles.add(new Van(12));\r\n    vehicles.add(new Truck(12));\r\n    // No runtime error here. but first member of this collection is\r\n    // referencing to Van class\r\n    // How am I still able to pass this collection as an argument?\r\n    changeLength(vehicles);\r\n```\r\n\r\nDo I have a big misunderstanding here?\r\n","title":"How can I pass an generic Collection even if collection type is not satisfying the requirements?","body":"<p>I have a conventional method to pass a collection as argument that would have to have a type either to be same or superclass of Vehicle class. Also I have two subclass which are Van and Truck.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static void changeLength(Collection&lt;? super Vehicle&gt; collection) {\n    //\n}\n</code></pre>\n<p>But when I invoke this method like below I don't have any problem. Even if my collection is of type Vehicle, members of this collection is actually pointing to subclass types (Van,Truck).</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void testCaseTwo() {\n    List&lt;Vehicle&gt; vehicles = new ArrayList&lt;&gt;();\n    vehicles.add(new Van(12));\n    vehicles.add(new Truck(12));\n    // No runtime error here. but first member of this collection is\n    // referencing to Van class\n    // How am I still able to pass this collection as an argument?\n    changeLength(vehicles);\n</code></pre>\n<p>Do I have a big misunderstanding here?</p>\n"},{"tags":["java","rest","jersey","jersey-client"],"owner":{"account_id":2296763,"reputation":35,"user_id":2018023,"accept_rate":75,"display_name":"user2018023"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656418678,"creation_date":1656418678,"question_id":72786290,"body_markdown":"My requirement is to download large file from server using rest API, I am using java with Jersey framework and MULTIPART_FORM_DATA type for sending and receiving the file. API is working fine, but the problem is at client side when I do `response.readEntity(FormDataMultiPart.class)` it copies the entire multipart data in java&#39;s &quot;java.io.tmpdir&quot; folder. Is there any way to avoid it or any api/configuration to change jersey multipart temp directory path (other than &quot;java.io.tmpdir&quot;).\r\nBelow is my sample client code:\r\n\r\n        Invocation.Builder invocationBuilder = webTarget.request(MediaType.MULTIPART_FORM_DATA_TYPE);\r\n\t\tResponse response = invocationBuilder.get();\r\n\t\tFormDataMultiPart objMultiPart = response.readEntity(FormDataMultiPart.class);\r\n\t\tList&lt;BodyPart&gt; listBodyPart = objMultiPart.getBodyParts();\r\n\t\ttry(FileOutputStream out = new FileOutputStream(filePath.toFile(), true)){\r\n\t\t\tfor(BodyPart part : listBodyPart) {\r\n\t\t\t\t//code to process each bodypart\r\n\t\t\t}\r\n\t\t}\r\n","title":"Jersey multipart file download copies MIMEXXX.tmp files in client&#39;s &quot;java.io.tmpdir&quot; folder","body":"<p>My requirement is to download large file from server using rest API, I am using java with Jersey framework and MULTIPART_FORM_DATA type for sending and receiving the file. API is working fine, but the problem is at client side when I do <code>response.readEntity(FormDataMultiPart.class)</code> it copies the entire multipart data in java's &quot;java.io.tmpdir&quot; folder. Is there any way to avoid it or any api/configuration to change jersey multipart temp directory path (other than &quot;java.io.tmpdir&quot;).\nBelow is my sample client code:</p>\n<pre><code>    Invocation.Builder invocationBuilder = webTarget.request(MediaType.MULTIPART_FORM_DATA_TYPE);\n    Response response = invocationBuilder.get();\n    FormDataMultiPart objMultiPart = response.readEntity(FormDataMultiPart.class);\n    List&lt;BodyPart&gt; listBodyPart = objMultiPart.getBodyParts();\n    try(FileOutputStream out = new FileOutputStream(filePath.toFile(), true)){\n        for(BodyPart part : listBodyPart) {\n            //code to process each bodypart\n        }\n    }\n</code></pre>\n"},{"tags":["java","concurrency","latency","disruptor-pattern","lmax"],"comments":[{"owner":{"account_id":47929,"reputation":4545,"user_id":142182,"accept_rate":78,"display_name":"Slugart"},"score":0,"creation_date":1656303359,"post_id":72754444,"comment_id":128529710,"body_markdown":"How many different types of readers are there?","body":"How many different types of readers are there?"},{"owner":{"account_id":12635372,"reputation":295,"user_id":9185021,"display_name":"Mixalis Navridis"},"score":0,"creation_date":1656323178,"post_id":72754444,"comment_id":128534948,"body_markdown":"@Slugart  i will have 2 producers write, delete, and a consumer for read","body":"@Slugart  i will have 2 producers write, delete, and a consumer for read"},{"owner":{"account_id":47929,"reputation":4545,"user_id":142182,"accept_rate":78,"display_name":"Slugart"},"score":0,"creation_date":1656376988,"post_id":72754444,"comment_id":128551992,"body_markdown":"What is the access pattern for the reads and writes in the ArrayList.  I.e. does the reading thread scan the whole list periodically or just read new elements, or read randomly in the ArrayList? Do the writes update elements in place or just append to the end of the list?  Do the deletes take place at the beginning or end or anywhere within the ArrayList?  What are the relative costs between reading, writing and deleting?","body":"What is the access pattern for the reads and writes in the ArrayList.  I.e. does the reading thread scan the whole list periodically or just read new elements, or read randomly in the ArrayList? Do the writes update elements in place or just append to the end of the list?  Do the deletes take place at the beginning or end or anywhere within the ArrayList?  What are the relative costs between reading, writing and deleting?"},{"owner":{"account_id":12635372,"reputation":295,"user_id":9185021,"display_name":"Mixalis Navridis"},"score":0,"creation_date":1656401944,"post_id":72754444,"comment_id":128556429,"body_markdown":"@Slugart Well let me answer to all of your questions. The reading thread scans the whole list. The writter thread always append to the end of the list. The delete thread takes place anywhere base on a search value. For the relative cost i am not sure i understand it clearly. I hope i help please give me your valuable feedback","body":"@Slugart Well let me answer to all of your questions. The reading thread scans the whole list. The writter thread always append to the end of the list. The delete thread takes place anywhere base on a search value. For the relative cost i am not sure i understand it clearly. I hope i help please give me your valuable feedback"},{"owner":{"account_id":47929,"reputation":4545,"user_id":142182,"accept_rate":78,"display_name":"Slugart"},"score":0,"creation_date":1656417841,"post_id":72754444,"comment_id":128562500,"body_markdown":"The relative cost is for exmample: processing takes much more time to execute than writing or deleting.","body":"The relative cost is for exmample: processing takes much more time to execute than writing or deleting."}],"answers":[{"tags":[],"owner":{"account_id":47929,"reputation":4545,"user_id":142182,"accept_rate":78,"display_name":"Slugart"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656418361,"creation_date":1656418361,"answer_id":72786216,"question_id":72754444,"body_markdown":"If your shared state is the `ArrayList` and you have one thread that is reading and processing the elements in the `ArrayList` and you want the updates to that shared state synchronised then usually the `ArrayList` would be owned by one `EventHandler` that processes events such as `Process`, `Write`, `Delete` and updates and processes the shared state.\r\n\r\nThis would all run on one thread but that pretty much is what is happening now as you cannot Read at the same time as Writing/Deleting.\r\n\r\nAs you only have one reading thread there is not much to be gained from using a `ReadWriteLock` as you will never have concurrent reads.","title":"How to convert ReentrantReadWriteLock logic to LMAX Disruptor with barriers","body":"<p>If your shared state is the <code>ArrayList</code> and you have one thread that is reading and processing the elements in the <code>ArrayList</code> and you want the updates to that shared state synchronised then usually the <code>ArrayList</code> would be owned by one <code>EventHandler</code> that processes events such as <code>Process</code>, <code>Write</code>, <code>Delete</code> and updates and processes the shared state.</p>\n<p>This would all run on one thread but that pretty much is what is happening now as you cannot Read at the same time as Writing/Deleting.</p>\n<p>As you only have one reading thread there is not much to be gained from using a <code>ReadWriteLock</code> as you will never have concurrent reads.</p>\n"}],"owner":{"account_id":12635372,"reputation":295,"user_id":9185021,"display_name":"Mixalis Navridis"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656418361,"creation_date":1656165246,"question_id":72754444,"body_markdown":"I have a shared collection an ArrayList and also i use a ReentrantReadWriteLock lock to secure the entering on a critical area from different threads. My threads are three a writer,read,delete thread. i acquire the correct lock on each case. The logic is that i insert data to ArrayList, read them when necessary, and also when the timer reaches limits delete some entries. The process runs smoothly and everything is perfect.\r\n\r\nMy question now is can i transfer the above logic somehow and implemented it with an LMAX disruptor in order to avoid lock overheads and improve performance. If yes can you describe me an ideal case and if you are able to also post code i would really appreciate it.\r\n\r\ni assume that instead of ArrayList data will be entered in ringbuffer and i will have 2 producers write, delete, and a consumer for read. Also i must make sure that i use producer barriers. Will the performance will be increased from lock case.  i am not sure if i understand everything correctly please help me and give me directions?","title":"How to convert ReentrantReadWriteLock logic to LMAX Disruptor with barriers","body":"<p>I have a shared collection an ArrayList and also i use a ReentrantReadWriteLock lock to secure the entering on a critical area from different threads. My threads are three a writer,read,delete thread. i acquire the correct lock on each case. The logic is that i insert data to ArrayList, read them when necessary, and also when the timer reaches limits delete some entries. The process runs smoothly and everything is perfect.</p>\n<p>My question now is can i transfer the above logic somehow and implemented it with an LMAX disruptor in order to avoid lock overheads and improve performance. If yes can you describe me an ideal case and if you are able to also post code i would really appreciate it.</p>\n<p>i assume that instead of ArrayList data will be entered in ringbuffer and i will have 2 producers write, delete, and a consumer for read. Also i must make sure that i use producer barriers. Will the performance will be increased from lock case.  i am not sure if i understand everything correctly please help me and give me directions?</p>\n"},{"tags":["java","spring","encoding","smtp","uri"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1656417080,"post_id":72784229,"comment_id":128562213,"body_markdown":"Is this Spring Integration? Looks to me more of a Camel (or JDK) issue and not so much related to Spring.","body":"Is this Spring Integration? Looks to me more of a Camel (or JDK) issue and not so much related to Spring."},{"owner":{"account_id":15393529,"reputation":35,"user_id":11105422,"display_name":"siddhant"},"score":0,"creation_date":1656417834,"post_id":72784229,"comment_id":128562499,"body_markdown":"Could be, it is coming from apache commons library. They must have some way to get around this. I have tried escaping the curly braces with \\ and single quotes. It still throws the same error.","body":"Could be, it is coming from apache commons library. They must have some way to get around this. I have tried escaping the curly braces with \\ and single quotes. It still throws the same error."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1656417940,"post_id":72784229,"comment_id":128562540,"body_markdown":"There must be a stacktrace instead of only this, please include the **full stacktrace** and more information on what you are using as encoding, uri and smtp aren&#39;t really helpful here.","body":"There must be a stacktrace instead of only this, please include the <b>full stacktrace</b> and more information on what you are using as encoding, uri and smtp aren&#39;t really helpful here."},{"owner":{"account_id":15393529,"reputation":35,"user_id":11105422,"display_name":"siddhant"},"score":0,"creation_date":1656418226,"post_id":72784229,"comment_id":128562654,"body_markdown":"@M.Deinum, added full stacktrace.","body":"@M.Deinum, added full stacktrace."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1656418831,"post_id":72784229,"comment_id":128562890,"body_markdown":"This comes from some custom `URIConverter` in the ` com.im.commons.lang.converter` package. Not sure what that thing does or from what library/framework that is. I suspect it is some, older, repackaged version of the Apache Beanutils. Have you tried putting `&quot;&quot;` around it?","body":"This comes from some custom <code>URIConverter</code> in the ` com.im.commons.lang.converter` package. Not sure what that thing does or from what library/framework that is. I suspect it is some, older, repackaged version of the Apache Beanutils. Have you tried putting <code>&quot;&quot;</code> around it?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1656419179,"post_id":72784229,"comment_id":128563061,"body_markdown":"Apparently the URI class doesn&#39;t like it. I suspect this has to do that for something to be a valid URI it has to adhere to different standards than when it has for an SMTP address. While `{xyz}@abc.com` is valid as an SMTP address it isn&#39;t valid in a URI. So I suspect you have to find another way to use this routing.","body":"Apparently the URI class doesn&#39;t like it. I suspect this has to do that for something to be a valid URI it has to adhere to different standards than when it has for an SMTP address. While <code>{xyz}@abc.com</code> is valid as an SMTP address it isn&#39;t valid in a URI. So I suspect you have to find another way to use this routing."}],"owner":{"account_id":15393529,"reputation":35,"user_id":11105422,"display_name":"siddhant"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656418206,"creation_date":1656409608,"question_id":72784229,"body_markdown":"I have the following code which sends an email to the address in mailAddress property.\r\n\r\n    &lt;route message=&quot;message&quot; destination=&quot;mailto:${mailAddress}&quot;&gt;\r\n\t    &lt;param name=&quot;subject&quot; value=&quot;test&quot; /&gt;\r\n\t&lt;/route&gt;\r\n\r\nmailAddress contains the string {xyz}@abc.com\r\n\r\nWhen I try to run this code it throws the following exception\r\n\r\n    Caused by: org.apache.commons.beanutils.ConversionException: Error converting from &#39;String&#39; to &#39;java.net.URI&#39; couldn&#39;t convert [mailto:{xyz}@abc.com] to an URI\r\n\r\nI then replaced { with %7B and } with %7D and it got parsed properly but failed at SMTP end with\r\n\r\n    SMTPAddressFailedException: 501 #5.1.3 Invalid character (&#39;%&#39;) in username.\r\n\r\nHow do I parse this correctly?\r\n\r\nFull stacktrace\r\n\r\n    [ERROR] IMB00002 Error converting from &#39;String&#39; to &#39;java.net.URI&#39; IMB00001 couldn&#39;t convert [mailto:{xyz}@abc.com] to an URI\r\n    PropagatedException: Error converting from &#39;String&#39; to &#39;java.net.URI&#39; IMB00001 couldn&#39;t convert [mailto:{xyz}@abc.com] to an URI\r\n    \tat com.im.imb.mdap.server.MDAPServer.handleJobError(MDAPServer.java:729)\r\n    \tat com.im.imb.mdap.server.MDAPServer.executionFinished(MDAPServer.java:659)\r\n    \tat com.im.imb.mdap.server.process.SameThreadExecutorService.afterExecute(SameThreadExecutorService.java:192)\r\n    \tat com.im.imb.mdap.server.process.SameThreadExecutorService.execute(SameThreadExecutorService.java:96)\r\n    \tat com.im.imb.mdap.server.process.SameThreadExecutorService.submit(SameThreadExecutorService.java:80)\r\n    \tat com.im.imb.mdap.server.process.ExecutionHandler.execute(ExecutionHandler.java:107)\r\n    \tat com.im.imb.mdap.server.JobExecutionHandler.executeJob(JobExecutionHandler.java:94)\r\n    \tat com.im.imb.mdap.server.MDAPServer.executeJob(MDAPServer.java:295)\r\n    \tat com.im.imb.mdap.server.monitors.EventMonitor.service(EventMonitor.java:293)\r\n    \tat com.im.imb.mdap.server.monitors.EventMonitors.service(EventMonitors.java:75)\r\n    \tat com.im.imb.mdap.server.monitors.EventHandlers.handle(EventHandlers.java:77)\r\n    \tat com.im.imb.main.web.IMBHttpServlet.doGet(IMBHttpServlet.java:144)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:687)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\r\n    \tat weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:295)\r\n    \tat weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:260)\r\n    \tat weblogic.servlet.internal.StubSecurityHelper.invokeServlet(StubSecurityHelper.java:137)\r\n    \tat weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:353)\r\n    \tat weblogic.servlet.internal.TailFilter.doFilter(TailFilter.java:25)\r\n    \tat weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:78)\r\n    \tat com.im.http.xssremover.filter.XSSFilter.doFilter(XSSFilter.java:71)\r\n    \tat weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:78)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:204)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\r\n    \tat weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:78)\r\n    \tat com.im.imb.main.web.SetEnvironmentFilter.doFilterInternal(SetEnvironmentFilter.java:82)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:78)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:78)\r\n    \tat weblogic.servlet.internal.RequestEventsFilter.doFilter(RequestEventsFilter.java:32)\r\n    \tat weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:78)\r\n    \tat weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.wrapRun(WebAppServletContext.java:3797)\r\n    \tat weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3763)\r\n    \tat weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:344)\r\n    \tat weblogic.security.service.SecurityManager.runAsForUserCode(SecurityManager.java:197)\r\n    \tat weblogic.servlet.provider.WlsSecurityProvider.runAsForUserCode(WlsSecurityProvider.java:203)\r\n    \tat weblogic.servlet.provider.WlsSubjectHandle.run(WlsSubjectHandle.java:71)\r\n    \tat weblogic.servlet.internal.WebAppServletContext.doSecuredExecute(WebAppServletContext.java:2451)\r\n    \tat weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2299)\r\n    \tat weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2277)\r\n    \tat weblogic.servlet.internal.ServletRequestImpl.runInternal(ServletRequestImpl.java:1720)\r\n    \tat weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1680)\r\n    \tat weblogic.servlet.provider.ContainerSupportProviderImpl$WlsRequestExecutor.run(ContainerSupportProviderImpl.java:272)\r\n    \tat weblogic.invocation.ComponentInvocationContextManager._runAs(ComponentInvocationContextManager.java:352)\r\n    \tat weblogic.invocation.ComponentInvocationContextManager.runAs(ComponentInvocationContextManager.java:337)\r\n    \tat weblogic.work.LivePartitionUtility.doRunWorkUnderContext(LivePartitionUtility.java:57)\r\n    \tat weblogic.work.PartitionUtility.runWorkUnderContext(PartitionUtility.java:41)\r\n    \tat weblogic.work.SelfTuningWorkManagerImpl.runWorkUnderContext(SelfTuningWorkManagerImpl.java:655)\r\n    \tat weblogic.work.ExecuteThread.execute(ExecuteThread.java:420)\r\n    \tat weblogic.work.ExecuteThread.run(ExecuteThread.java:360)\r\n    Caused by: PropagatedException: Error converting from &#39;String&#39; to &#39;java.net.URI&#39; IMB00001 couldn&#39;t convert [mailto:{xyz}@abc.com] to an URI\r\n    \tat com.im.imb.mdap.server.processline.ProcessLine.run(ProcessLine.java:107)\r\n    \tat com.im.imb.mdap.server.processline.ProcessLineList.execute(ProcessLineList.java:89)\r\n    \tat com.im.imb.mdap.server.decorator.AbstractNestedJobRunDecorator.executeJob(AbstractNestedJobRunDecorator.java:32)\r\n    \tat com.im.imb.mdap.server.decorator.JobStatisticsDecorator.aroundExecute(JobStatisticsDecorator.java:70)\r\n    \tat com.im.imb.mdap.server.decorator.AbstractNestedJobRunDecorator.executeJob(AbstractNestedJobRunDecorator.java:30)\r\n    \tat com.im.imb.mdap.server.decorator.TransactionJobRunDecorator.aroundExecute(TransactionJobRunDecorator.java:124)\r\n    \tat com.im.imb.mdap.server.decorator.AbstractNestedJobRunDecorator.executeJob(AbstractNestedJobRunDecorator.java:30)\r\n    \tat com.im.imb.mdap.server.decorator.LogJobRunDecorator.aroundExecute(LogJobRunDecorator.java:43)\r\n    \tat com.im.imb.mdap.server.JobCallable.call(JobCallable.java:94)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    \tat com.im.imb.mdap.server.process.SameThreadExecutorService.execute(SameThreadExecutorService.java:91)\r\n    \t... 50 more\r\n    Caused by: org.apache.commons.beanutils.ConversionException: Error converting from &#39;String&#39; to &#39;java.net.URI&#39; IMB00001 couldn&#39;t convert [mailto:{xyz}@abc.com] to an URI\r\n    \tat org.apache.commons.beanutils.converters.AbstractConverter.handleError(AbstractConverter.java:282)\r\n    \tat org.apache.commons.beanutils.converters.AbstractConverter.convert(AbstractConverter.java:177)\r\n    \tat org.apache.commons.beanutils.ConvertUtilsBean.convert(ConvertUtilsBean.java:566)\r\n    \tat org.apache.commons.beanutils.ConvertUtils.convert(ConvertUtils.java:282)\r\n    \tat com.im.commons.lang.Converter.toObject(Converter.java:187)\r\n    \tat com.im.imb.mdap.server.processline.actions.RouteAction.route(RouteAction.java:160)\r\n    \tat com.im.imb.mdap.server.processline.actions.RouteAction.execute(RouteAction.java:127)\r\n    \tat com.im.imb.mdap.server.processline.ProcessLine.run(ProcessLine.java:86)\r\n    \t... 60 more\r\n    Caused by: SystemException: couldn&#39;t convert [mailto:{xyz}@abc.com] to an URI\r\n    \tat com.im.commons.lang.converter.URIConverter.convertToType(URIConverter.java:74)\r\n    \tat org.apache.commons.beanutils.converters.AbstractConverter.convert(AbstractConverter.java:169)\r\n    \t... 66 more","title":"how to parse email with curly braces in spring property","body":"<p>I have the following code which sends an email to the address in mailAddress property.</p>\n<pre><code>&lt;route message=&quot;message&quot; destination=&quot;mailto:${mailAddress}&quot;&gt;\n    &lt;param name=&quot;subject&quot; value=&quot;test&quot; /&gt;\n&lt;/route&gt;\n</code></pre>\n<p>mailAddress contains the string {xyz}@abc.com</p>\n<p>When I try to run this code it throws the following exception</p>\n<pre><code>Caused by: org.apache.commons.beanutils.ConversionException: Error converting from 'String' to 'java.net.URI' couldn't convert [mailto:{xyz}@abc.com] to an URI\n</code></pre>\n<p>I then replaced { with %7B and } with %7D and it got parsed properly but failed at SMTP end with</p>\n<pre><code>SMTPAddressFailedException: 501 #5.1.3 Invalid character ('%') in username.\n</code></pre>\n<p>How do I parse this correctly?</p>\n<p>Full stacktrace</p>\n<pre><code>[ERROR] IMB00002 Error converting from 'String' to 'java.net.URI' IMB00001 couldn't convert [mailto:{xyz}@abc.com] to an URI\nPropagatedException: Error converting from 'String' to 'java.net.URI' IMB00001 couldn't convert [mailto:{xyz}@abc.com] to an URI\n    at com.im.imb.mdap.server.MDAPServer.handleJobError(MDAPServer.java:729)\n    at com.im.imb.mdap.server.MDAPServer.executionFinished(MDAPServer.java:659)\n    at com.im.imb.mdap.server.process.SameThreadExecutorService.afterExecute(SameThreadExecutorService.java:192)\n    at com.im.imb.mdap.server.process.SameThreadExecutorService.execute(SameThreadExecutorService.java:96)\n    at com.im.imb.mdap.server.process.SameThreadExecutorService.submit(SameThreadExecutorService.java:80)\n    at com.im.imb.mdap.server.process.ExecutionHandler.execute(ExecutionHandler.java:107)\n    at com.im.imb.mdap.server.JobExecutionHandler.executeJob(JobExecutionHandler.java:94)\n    at com.im.imb.mdap.server.MDAPServer.executeJob(MDAPServer.java:295)\n    at com.im.imb.mdap.server.monitors.EventMonitor.service(EventMonitor.java:293)\n    at com.im.imb.mdap.server.monitors.EventMonitors.service(EventMonitors.java:75)\n    at com.im.imb.mdap.server.monitors.EventHandlers.handle(EventHandlers.java:77)\n    at com.im.imb.main.web.IMBHttpServlet.doGet(IMBHttpServlet.java:144)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:687)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\n    at weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:295)\n    at weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:260)\n    at weblogic.servlet.internal.StubSecurityHelper.invokeServlet(StubSecurityHelper.java:137)\n    at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:353)\n    at weblogic.servlet.internal.TailFilter.doFilter(TailFilter.java:25)\n    at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:78)\n    at com.im.http.xssremover.filter.XSSFilter.doFilter(XSSFilter.java:71)\n    at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:78)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:204)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\n    at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:78)\n    at com.im.imb.main.web.SetEnvironmentFilter.doFilterInternal(SetEnvironmentFilter.java:82)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:78)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:78)\n    at weblogic.servlet.internal.RequestEventsFilter.doFilter(RequestEventsFilter.java:32)\n    at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:78)\n    at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.wrapRun(WebAppServletContext.java:3797)\n    at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3763)\n    at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:344)\n    at weblogic.security.service.SecurityManager.runAsForUserCode(SecurityManager.java:197)\n    at weblogic.servlet.provider.WlsSecurityProvider.runAsForUserCode(WlsSecurityProvider.java:203)\n    at weblogic.servlet.provider.WlsSubjectHandle.run(WlsSubjectHandle.java:71)\n    at weblogic.servlet.internal.WebAppServletContext.doSecuredExecute(WebAppServletContext.java:2451)\n    at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2299)\n    at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2277)\n    at weblogic.servlet.internal.ServletRequestImpl.runInternal(ServletRequestImpl.java:1720)\n    at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1680)\n    at weblogic.servlet.provider.ContainerSupportProviderImpl$WlsRequestExecutor.run(ContainerSupportProviderImpl.java:272)\n    at weblogic.invocation.ComponentInvocationContextManager._runAs(ComponentInvocationContextManager.java:352)\n    at weblogic.invocation.ComponentInvocationContextManager.runAs(ComponentInvocationContextManager.java:337)\n    at weblogic.work.LivePartitionUtility.doRunWorkUnderContext(LivePartitionUtility.java:57)\n    at weblogic.work.PartitionUtility.runWorkUnderContext(PartitionUtility.java:41)\n    at weblogic.work.SelfTuningWorkManagerImpl.runWorkUnderContext(SelfTuningWorkManagerImpl.java:655)\n    at weblogic.work.ExecuteThread.execute(ExecuteThread.java:420)\n    at weblogic.work.ExecuteThread.run(ExecuteThread.java:360)\nCaused by: PropagatedException: Error converting from 'String' to 'java.net.URI' IMB00001 couldn't convert [mailto:{xyz}@abc.com] to an URI\n    at com.im.imb.mdap.server.processline.ProcessLine.run(ProcessLine.java:107)\n    at com.im.imb.mdap.server.processline.ProcessLineList.execute(ProcessLineList.java:89)\n    at com.im.imb.mdap.server.decorator.AbstractNestedJobRunDecorator.executeJob(AbstractNestedJobRunDecorator.java:32)\n    at com.im.imb.mdap.server.decorator.JobStatisticsDecorator.aroundExecute(JobStatisticsDecorator.java:70)\n    at com.im.imb.mdap.server.decorator.AbstractNestedJobRunDecorator.executeJob(AbstractNestedJobRunDecorator.java:30)\n    at com.im.imb.mdap.server.decorator.TransactionJobRunDecorator.aroundExecute(TransactionJobRunDecorator.java:124)\n    at com.im.imb.mdap.server.decorator.AbstractNestedJobRunDecorator.executeJob(AbstractNestedJobRunDecorator.java:30)\n    at com.im.imb.mdap.server.decorator.LogJobRunDecorator.aroundExecute(LogJobRunDecorator.java:43)\n    at com.im.imb.mdap.server.JobCallable.call(JobCallable.java:94)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at com.im.imb.mdap.server.process.SameThreadExecutorService.execute(SameThreadExecutorService.java:91)\n    ... 50 more\nCaused by: org.apache.commons.beanutils.ConversionException: Error converting from 'String' to 'java.net.URI' IMB00001 couldn't convert [mailto:{xyz}@abc.com] to an URI\n    at org.apache.commons.beanutils.converters.AbstractConverter.handleError(AbstractConverter.java:282)\n    at org.apache.commons.beanutils.converters.AbstractConverter.convert(AbstractConverter.java:177)\n    at org.apache.commons.beanutils.ConvertUtilsBean.convert(ConvertUtilsBean.java:566)\n    at org.apache.commons.beanutils.ConvertUtils.convert(ConvertUtils.java:282)\n    at com.im.commons.lang.Converter.toObject(Converter.java:187)\n    at com.im.imb.mdap.server.processline.actions.RouteAction.route(RouteAction.java:160)\n    at com.im.imb.mdap.server.processline.actions.RouteAction.execute(RouteAction.java:127)\n    at com.im.imb.mdap.server.processline.ProcessLine.run(ProcessLine.java:86)\n    ... 60 more\nCaused by: SystemException: couldn't convert [mailto:{xyz}@abc.com] to an URI\n    at com.im.commons.lang.converter.URIConverter.convertToType(URIConverter.java:74)\n    at org.apache.commons.beanutils.converters.AbstractConverter.convert(AbstractConverter.java:169)\n    ... 66 more\n</code></pre>\n"},{"tags":["java","vaadin","vaadin7"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1656341681,"post_id":72773912,"comment_id":128542150,"body_markdown":"Can you show all code and the styling?","body":"Can you show all code and the styling?"},{"owner":{"account_id":4544346,"reputation":47,"user_id":3691373,"display_name":"fraaanz"},"score":0,"creation_date":1656343399,"post_id":72773912,"comment_id":128542907,"body_markdown":"the code for the receiver is in https://vaadin.com/docs/v7/framework/components/components-upload; the style is what vaadin has set to default; I haven&#39;t modified the style; If you need to see the style file inside src/main/webapp/VAADIN/themes/exercisestheme ; I can send but it has more than 13000 lines","body":"the code for the receiver is in <a href=\"https://vaadin.com/docs/v7/framework/components/components-upload\" rel=\"nofollow noreferrer\">vaadin.com/docs/v7/framework/components/components-upload</a>; the style is what vaadin has set to default; I haven&#39;t modified the style; If you need to see the style file inside src/main/webapp/VAADIN/themes/exercisestheme ; I can send but it has more than 13000 lines"}],"owner":{"account_id":4544346,"reputation":47,"user_id":3691373,"display_name":"fraaanz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656418138,"creation_date":1656340693,"question_id":72773912,"body_markdown":"I&#39;ve cannot understand why the upload button is not in a new line;\r\n\r\nthis is my code \r\n(copied mostly from vaadin.com/docs/v7/framework/components/components-upload)\r\n\r\n    @SuppressWarnings(&quot;serial&quot;)\r\n    public class ApplicationLayout extends VerticalLayout implements View {   \r\n    \r\n    \tpublic ApplicationLayout() {\r\n    \t\t\r\n    \t\t\r\n    \t\tImageUploader receiver = new ImageUploader();\r\n    \t\tUpload upload = new Upload(null, receiver);\r\n    \t\tupload.setButtonCaption(&quot;Inizio Upload&quot;);\r\n    \t\tupload.addSucceededListener(receiver);\r\n    \t\t\r\n    \t\tfinal HorizontalLayout uploadInfoLayout = new HorizontalLayout();\r\n    \t\tuploadInfoLayout.addComponent(upload);\r\n    \t\t\r\n    \t\taddComponent(uploadInfoLayout);\r\n    \t\t\r\n    \t}\r\n\r\n\r\nThis is how is it looks like now: \r\n\r\n[![enter image description here][1]][1]\r\n\r\nIs there a way to put the button &quot;Inizio Upload&quot; below the text, like in the following picture:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ACU3G.jpg\r\n  [2]: https://i.stack.imgur.com/Auv3U.png\r\n\r\n\r\n\r\n\r\nThanks\r\n","title":"upload button does not render how I wish vaadin","body":"<p>I've cannot understand why the upload button is not in a new line;</p>\n<p>this is my code\n(copied mostly from vaadin.com/docs/v7/framework/components/components-upload)</p>\n<pre><code>@SuppressWarnings(&quot;serial&quot;)\npublic class ApplicationLayout extends VerticalLayout implements View {   \n\n    public ApplicationLayout() {\n        \n        \n        ImageUploader receiver = new ImageUploader();\n        Upload upload = new Upload(null, receiver);\n        upload.setButtonCaption(&quot;Inizio Upload&quot;);\n        upload.addSucceededListener(receiver);\n        \n        final HorizontalLayout uploadInfoLayout = new HorizontalLayout();\n        uploadInfoLayout.addComponent(upload);\n        \n        addComponent(uploadInfoLayout);\n        \n    }\n</code></pre>\n<p>This is how is it looks like now:</p>\n<p><a href=\"https://i.stack.imgur.com/ACU3G.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ACU3G.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Is there a way to put the button &quot;Inizio Upload&quot; below the text, like in the following picture:</p>\n<p><a href=\"https://i.stack.imgur.com/Auv3U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Auv3U.png\" alt=\"enter image description here\" /></a></p>\n<p>Thanks</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1656418280,"post_id":72786165,"comment_id":128562678,"body_markdown":"So what ideas do you have about this? What defines a &#39;color range&#39;? What other digital representations of color are there, besides an int?","body":"So what ideas do you have about this? What defines a &#39;color range&#39;? What other digital representations of color are there, besides an int?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1656418408,"post_id":72786165,"comment_id":128562722,"body_markdown":"One has to use the RGB components and on any of them do a limited random change,, the sum of the changes sufficiently diffferent.","body":"One has to use the RGB components and on any of them do a limited random change,, the sum of the changes sufficiently diffferent."},{"owner":{"account_id":7067808,"reputation":17,"user_id":5410546,"accept_rate":50,"display_name":"Kai"},"score":0,"creation_date":1656422126,"post_id":72786165,"comment_id":128564359,"body_markdown":"I can get the RGB color and modify the parameters independently to get a similar color, the problem is that I don&#39;t know how to automatically modify the parameters for each selected color, I don&#39;t know how to obtain the necessary configuration for each color.\nI have thought of an alternative and it is that when doing colorpicker modify the x and y axis to obtain similar colors, but I think it is not the best solution.","body":"I can get the RGB color and modify the parameters independently to get a similar color, the problem is that I don&#39;t know how to automatically modify the parameters for each selected color, I don&#39;t know how to obtain the necessary configuration for each color. I have thought of an alternative and it is that when doing colorpicker modify the x and y axis to obtain similar colors, but I think it is not the best solution."}],"owner":{"account_id":7067808,"reputation":17,"user_id":5410546,"accept_rate":50,"display_name":"Kai"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656418112,"creation_date":1656418112,"question_id":72786165,"body_markdown":"\r\nCurrently I generate random colors to paint, but I would like to know if there is a method to generate random colors within a range of the selected color, I want the colors not to be totally random, but to be from the same range of colors as the selected one\r\n\r\n    \t\tint colorselected = colors.getFirstColor();\r\n\t\t\tint colorrandom = ((int) (Math.random() * 16777215));\r\n\r\n\t\t\tpaint4.setColorFilter(new PorterDuffColorFilter(colorselected+colorrandom, PorterDuff.Mode.SRC_IN));","title":"Create array colors similar to the selected color","body":"<p>Currently I generate random colors to paint, but I would like to know if there is a method to generate random colors within a range of the selected color, I want the colors not to be totally random, but to be from the same range of colors as the selected one</p>\n<pre><code>        int colorselected = colors.getFirstColor();\n        int colorrandom = ((int) (Math.random() * 16777215));\n\n        paint4.setColorFilter(new PorterDuffColorFilter(colorselected+colorrandom, PorterDuff.Mode.SRC_IN));\n</code></pre>\n"},{"tags":["java","spring","spring-boot","intellij-idea","spring-initializr"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":1,"creation_date":1656418923,"post_id":72786141,"comment_id":128562943,"body_markdown":"Looks like the issue is caused by [Spring Initializr and Assistant](https://plugins.jetbrains.com/plugin/18622-spring-initializr-and-assistant) plugin. I&#39;d recommend you raise this issue at https://github.com/eltonsandre/intellij-spring-assistant/issues or use IntelliJ Ultimate which has built-in Spring support.","body":"Looks like the issue is caused by <a href=\"https://plugins.jetbrains.com/plugin/18622-spring-initializr-and-assistant\" rel=\"nofollow noreferrer\">Spring Initializr and Assistant</a> plugin. I&#39;d recommend you raise this issue at <a href=\"https://github.com/eltonsandre/intellij-spring-assistant/issues\" rel=\"nofollow noreferrer\">github.com/eltonsandre/intellij-spring-assistant/issues</a> or use IntelliJ Ultimate which has built-in Spring support."},{"owner":{"account_id":22719641,"reputation":45,"user_id":16884319,"display_name":"Mifras "},"score":0,"creation_date":1656500568,"post_id":72786141,"comment_id":128586633,"body_markdown":"Thank you, I have installed and used IntelliJ Ultimate now it&#39;s resolved. But I think so, the problem is in the IntelliJ community version and plugin version, and I also raised the issues regarding the problem.","body":"Thank you, I have installed and used IntelliJ Ultimate now it&#39;s resolved. But I think so, the problem is in the IntelliJ community version and plugin version, and I also raised the issues regarding the problem."}],"answers":[{"tags":[],"owner":{"account_id":22719641,"reputation":45,"user_id":16884319,"display_name":"Mifras "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656418045,"creation_date":1656418045,"answer_id":72786142,"question_id":72786141,"body_markdown":"while initialize the spring boot project IntelliJ idea it is asking to select the dependency","title":"while initialize the spring boot project IntelliJ idea it is asking to select the dependency","body":"<p>while initialize the spring boot project IntelliJ idea it is asking to select the dependency</p>\n"}],"owner":{"account_id":22719641,"reputation":45,"user_id":16884319,"display_name":"Mifras "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1656418045,"creation_date":1656418045,"question_id":72786141,"body_markdown":"[![enter image description here][1]] [1]I am new to spring-boot. After installing the Spring Initializer plugin, I started to create my very first Spring Boot project. While initializing the spring boot project, IntelliJ IDEA asks to select the dependency.\r\n\r\ncan anyone help to solve this problem ? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/r8Hu8.jpg","title":"while initialize the spring boot project IntelliJ idea it is asking to select the dependency","body":"<p>[<img src=\"https://i.stack.imgur.com/r8Hu8.jpg\" alt=\"enter image description here\" />] <a href=\"https://i.stack.imgur.com/r8Hu8.jpg\" rel=\"nofollow noreferrer\">1</a>I am new to spring-boot. After installing the Spring Initializer plugin, I started to create my very first Spring Boot project. While initializing the spring boot project, IntelliJ IDEA asks to select the dependency.</p>\n<p>can anyone help to solve this problem ?</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1656410901,"post_id":72784493,"comment_id":128559881,"body_markdown":"with default hashCode/equals you mean that you didn&#39;t implement them?","body":"with default hashCode/equals you mean that you didn&#39;t implement them?"},{"owner":{"account_id":20726710,"reputation":63,"user_id":15219846,"display_name":"KoMaBeLu"},"score":0,"creation_date":1656410994,"post_id":72784493,"comment_id":128559909,"body_markdown":"Yes, did not override them","body":"Yes, did not override them"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1656411528,"post_id":72784493,"comment_id":128560105,"body_markdown":"Are you sure that the stacktrace is complete? All I could find is implemented null-safe. What is the code in `thisForm.java:1426` exactly?","body":"Are you sure that the stacktrace is complete? All I could find is implemented null-safe. What is the code in <code>thisForm.java:1426</code> exactly?"},{"owner":{"account_id":20726710,"reputation":63,"user_id":15219846,"display_name":"KoMaBeLu"},"score":0,"creation_date":1656411714,"post_id":72784493,"comment_id":128560170,"body_markdown":"The stacktrace is not complete (hence the [...]) but the last part of the call stack is pretty irrelevant. thisForm.java:1426 corresponds to this line of code: `for(Foo childFoo :foo.getChildFooSet())`","body":"The stacktrace is not complete (hence the [...]) but the last part of the call stack is pretty irrelevant. thisForm.java:1426 corresponds to this line of code: <code>for(Foo childFoo :foo.getChildFooSet())</code>"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1656412173,"post_id":72784493,"comment_id":128560350,"body_markdown":"How do you get `foo`? What is the mapping?","body":"How do you get <code>foo</code>? What is the mapping?"},{"owner":{"account_id":20726710,"reputation":63,"user_id":15219846,"display_name":"KoMaBeLu"},"score":0,"creation_date":1656417484,"post_id":72784493,"comment_id":128562380,"body_markdown":"I knew I forgot something, I&#39;ll add an abbreviated version of the mapping","body":"I knew I forgot something, I&#39;ll add an abbreviated version of the mapping"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1656419999,"post_id":72784493,"comment_id":128563441,"body_markdown":"Would in theory look ok. Have you done debugging to check what is null at `StatefulPersistenceContext.getLoadedCollectionOwnerOrNull`? The only thing that would come to my mind is that you are not in a transaction, but that would usually cause a different exception","body":"Would in theory look ok. Have you done debugging to check what is null at <code>StatefulPersistenceContext.getLoadedCollectionOwnerOrNull</code>? The only thing that would come to my mind is that you are not in a transaction, but that would usually cause a different exception"}],"owner":{"account_id":20726710,"reputation":63,"user_id":15219846,"display_name":"KoMaBeLu"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656418009,"creation_date":1656410758,"question_id":72784493,"body_markdown":"I&#39;m seeing a sporadic NullPointerException in my logs when iterating over a PersistentSet. I can&#39;t seem to reproduce the problem, I was hoping someone could shed some light on the stacktrace based of a code fragment.\r\n\r\nRelevant stacktrace:\r\n\r\n```\r\njava.lang.NullPointerException\r\n\r\n\r\norg.hibernate.engine.internal.StatefulPersistenceContext.getLoadedCollectionOwnerOrNull(StatefulPersistenceContext.java:745)\r\n\r\norg.hibernate.event.spi.AbstractCollectionEvent.getLoadedOwnerOrNull(AbstractCollectionEvent.java:75)\r\n\r\norg.hibernate.event.spi.InitializeCollectionEvent.&lt;init&gt;(InitializeCollectionEvent.java:36)\r\n\r\norg.hibernate.internal.SessionImpl.initializeCollection(SessionImpl.java:1895)\r\n\r\norg.hibernate.collection.internal.AbstractPersistentCollection$4.doWork(AbstractPersistentCollection.java:555)\r\n\r\norg.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:260)\r\n\r\norg.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:551)\r\n\r\norg.hibernate.collection.internal.AbstractPersistentCollection.read(AbstractPersistentCollection.java:140)\r\n\r\norg.hibernate.collection.internal.PersistentSet.iterator(PersistentSet.java:180)\r\n\r\neu.mycompany.soft.html.FooForm.doStuff(thisForm.java:1426)\r\n[...]\r\n```\r\nTriggering code:\r\n```\r\nFoo foo = session.load(Foo.class, id);\r\nList&lt;Foo&gt; childFooList = new ArrayList&lt;Foo&gt;();\r\n//Using .addAll() also triggers the error\r\nif (foo != null &amp;&amp; foo.getChildFooSet() != null) {\r\n\tfor(Foo childFoo :foo.getChildFooSet()) {\r\n\t\tchildFooList.add(childFoo);\r\n\t}\r\n}\r\n\r\n```\r\n\r\nFoo Class:\r\n```\r\npublic class Foo extends IdObject {\r\n\t\r\n\t[...]\r\n    // Relevant attributes:\r\n\t// a foo belongs either to a bar\r\n\t// or another parent foo (in the latter case indirectly to a\r\n\t// bar)\r\n\tprivate Bar bar = null;\r\n\tprivate Foo parentFoo = null;\r\n\r\n\tprotected Set&lt;Foo&gt; fooSet = new HashSet&lt;ExecutedProtocol&gt;();\r\n\t\r\n    [...]\r\n```\r\n\r\nFoo Class&#39; Hibernate Mapping:\r\n```\r\n&lt;?xml version=&quot;1.0&quot;?&gt;\r\n&lt;!DOCTYPE hibernate-mapping PUBLIC\r\n        &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;\r\n        &quot;http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd&quot;&gt;\r\n        \r\n&lt;hibernate-mapping&gt;\r\n  &lt;class name=&quot;eu.mycompany.soft.to.Foo&quot; table=&quot;foo&quot;&gt;\r\n    &lt;id name=&quot;id&quot; unsaved-value=&quot;0&quot;&gt;\r\n      &lt;generator class=&quot;identity&quot;/&gt;\r\n    &lt;/id&gt;\r\n    &lt;many-to-one name=&quot;bar&quot; column=&quot;barID&quot;/&gt;\r\n    &lt;many-to-one name=&quot;parentFoo&quot; column=&quot;parentFooId&quot;/&gt;\r\n    &lt;set name=&quot;childFooSet&quot; inverse=&quot;true&quot; order-by=&quot;dateTime&quot;&gt;\r\n      &lt;key column=&quot;parentFooId&quot;/&gt;\r\n      &lt;one-to-many class=&quot;eu.mycompany.soft.to.Foo&quot;/&gt;\r\n    &lt;/set&gt;\r\n  &lt;/class&gt;\r\n&lt;/hibernate-mapping&gt;\r\n```\r\n\r\nI&#39;m suspecting something is going wrong with the Foo Class&#39; identity (it uses default equals()/hashCode()), but I can&#39;t reproduce the error to confirm it.\r\n\r\n","title":"NPE when iterating over Hibernate PersistentSet","body":"<p>I'm seeing a sporadic NullPointerException in my logs when iterating over a PersistentSet. I can't seem to reproduce the problem, I was hoping someone could shed some light on the stacktrace based of a code fragment.</p>\n<p>Relevant stacktrace:</p>\n<pre><code>java.lang.NullPointerException\n\n\norg.hibernate.engine.internal.StatefulPersistenceContext.getLoadedCollectionOwnerOrNull(StatefulPersistenceContext.java:745)\n\norg.hibernate.event.spi.AbstractCollectionEvent.getLoadedOwnerOrNull(AbstractCollectionEvent.java:75)\n\norg.hibernate.event.spi.InitializeCollectionEvent.&lt;init&gt;(InitializeCollectionEvent.java:36)\n\norg.hibernate.internal.SessionImpl.initializeCollection(SessionImpl.java:1895)\n\norg.hibernate.collection.internal.AbstractPersistentCollection$4.doWork(AbstractPersistentCollection.java:555)\n\norg.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:260)\n\norg.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:551)\n\norg.hibernate.collection.internal.AbstractPersistentCollection.read(AbstractPersistentCollection.java:140)\n\norg.hibernate.collection.internal.PersistentSet.iterator(PersistentSet.java:180)\n\neu.mycompany.soft.html.FooForm.doStuff(thisForm.java:1426)\n[...]\n</code></pre>\n<p>Triggering code:</p>\n<pre><code>Foo foo = session.load(Foo.class, id);\nList&lt;Foo&gt; childFooList = new ArrayList&lt;Foo&gt;();\n//Using .addAll() also triggers the error\nif (foo != null &amp;&amp; foo.getChildFooSet() != null) {\n    for(Foo childFoo :foo.getChildFooSet()) {\n        childFooList.add(childFoo);\n    }\n}\n\n</code></pre>\n<p>Foo Class:</p>\n<pre><code>public class Foo extends IdObject {\n    \n    [...]\n    // Relevant attributes:\n    // a foo belongs either to a bar\n    // or another parent foo (in the latter case indirectly to a\n    // bar)\n    private Bar bar = null;\n    private Foo parentFoo = null;\n\n    protected Set&lt;Foo&gt; fooSet = new HashSet&lt;ExecutedProtocol&gt;();\n    \n    [...]\n</code></pre>\n<p>Foo Class' Hibernate Mapping:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;!DOCTYPE hibernate-mapping PUBLIC\n        &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;\n        &quot;http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd&quot;&gt;\n        \n&lt;hibernate-mapping&gt;\n  &lt;class name=&quot;eu.mycompany.soft.to.Foo&quot; table=&quot;foo&quot;&gt;\n    &lt;id name=&quot;id&quot; unsaved-value=&quot;0&quot;&gt;\n      &lt;generator class=&quot;identity&quot;/&gt;\n    &lt;/id&gt;\n    &lt;many-to-one name=&quot;bar&quot; column=&quot;barID&quot;/&gt;\n    &lt;many-to-one name=&quot;parentFoo&quot; column=&quot;parentFooId&quot;/&gt;\n    &lt;set name=&quot;childFooSet&quot; inverse=&quot;true&quot; order-by=&quot;dateTime&quot;&gt;\n      &lt;key column=&quot;parentFooId&quot;/&gt;\n      &lt;one-to-many class=&quot;eu.mycompany.soft.to.Foo&quot;/&gt;\n    &lt;/set&gt;\n  &lt;/class&gt;\n&lt;/hibernate-mapping&gt;\n</code></pre>\n<p>I'm suspecting something is going wrong with the Foo Class' identity (it uses default equals()/hashCode()), but I can't reproduce the error to confirm it.</p>\n"},{"tags":["java","android","node.js","socket.io"],"answers":[{"tags":[],"owner":{"account_id":21588695,"reputation":13,"user_id":15918697,"display_name":"Yakov Bader"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656417876,"creation_date":1656417876,"answer_id":72786099,"question_id":72156980,"body_markdown":"I had the same problem with js client, and flask server, I checked the logs and it was a time out error, it looks like by you its a time out error, becouse it is not responding.","title":"Java socket io client fail to connect to socket io nodejs server","body":"<p>I had the same problem with js client, and flask server, I checked the logs and it was a time out error, it looks like by you its a time out error, becouse it is not responding.</p>\n"}],"owner":{"account_id":11465575,"reputation":139,"user_id":12385356,"display_name":"Go Fudge YourSelves"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656417876,"creation_date":1651964970,"question_id":72156980,"body_markdown":"I am using v4 of socket-io nodejs server. I am using v2 of java socket-io client.\r\n\r\n    private val uri: URI = URI.create(&quot;MY_URL&quot;)\r\n        private val options: IO.Options = IO.Options.builder() // IO factory options\r\n            .setForceNew(false)\r\n            .setMultiplex(true) // low-level engine options\r\n            .setTransports(arrayOf(Polling.NAME, WebSocket.NAME))\r\n            .setUpgrade(true)\r\n            .setRememberUpgrade(false)\r\n            .setQuery(null)\r\n            .setExtraHeaders(null) // Manager options\r\n            .setReconnection(true)\r\n            .setReconnectionAttempts(Int.MAX_VALUE)\r\n            .setReconnectionDelay(1000)\r\n            .setReconnectionDelayMax(5000)\r\n            .setRandomizationFactor(0.5)\r\n            .setTimeout(20000) // Socket options\r\n            .setAuth(null)\r\n            .build()\r\n        val socket: Socket = IO.socket(uri,options)\r\n    \r\n    socket.connect()\r\n    \r\n            socket.emit(&quot;userjoin&quot;,&quot;abc@gmail.com&quot;)\r\n    \r\n            socket.on(&quot;userjoined&quot;) { args -&gt;\r\n                statusText.text = args[0].toString()\r\n            }\r\n    \r\n            socket.on(&quot;disconnected&quot;) { args -&gt;\r\n                statusText.text = args[0].toString()\r\n            }\r\n    \r\n            socket.on(&quot;receiveMessage&quot;) { args -&gt;\r\n                Log.i(&quot;receiveMessage&quot;,args[0].toString())\r\n                Log.i(&quot;receiveMessage&quot;,args[1].toString())\r\n                msgsText.append(&quot;${args[0]}\\n&quot;)\r\n            }\r\n\r\nNothing really happens. No error msgs.There are definitely no issues from server side as our web app which uses reactjs and socket-io client library for web is able to connect to the server and pass messages. I am not able to figure out what exactly is going wrong.","title":"Java socket io client fail to connect to socket io nodejs server","body":"<p>I am using v4 of socket-io nodejs server. I am using v2 of java socket-io client.</p>\n<pre><code>private val uri: URI = URI.create(&quot;MY_URL&quot;)\n    private val options: IO.Options = IO.Options.builder() // IO factory options\n        .setForceNew(false)\n        .setMultiplex(true) // low-level engine options\n        .setTransports(arrayOf(Polling.NAME, WebSocket.NAME))\n        .setUpgrade(true)\n        .setRememberUpgrade(false)\n        .setQuery(null)\n        .setExtraHeaders(null) // Manager options\n        .setReconnection(true)\n        .setReconnectionAttempts(Int.MAX_VALUE)\n        .setReconnectionDelay(1000)\n        .setReconnectionDelayMax(5000)\n        .setRandomizationFactor(0.5)\n        .setTimeout(20000) // Socket options\n        .setAuth(null)\n        .build()\n    val socket: Socket = IO.socket(uri,options)\n\nsocket.connect()\n\n        socket.emit(&quot;userjoin&quot;,&quot;abc@gmail.com&quot;)\n\n        socket.on(&quot;userjoined&quot;) { args -&gt;\n            statusText.text = args[0].toString()\n        }\n\n        socket.on(&quot;disconnected&quot;) { args -&gt;\n            statusText.text = args[0].toString()\n        }\n\n        socket.on(&quot;receiveMessage&quot;) { args -&gt;\n            Log.i(&quot;receiveMessage&quot;,args[0].toString())\n            Log.i(&quot;receiveMessage&quot;,args[1].toString())\n            msgsText.append(&quot;${args[0]}\\n&quot;)\n        }\n</code></pre>\n<p>Nothing really happens. No error msgs.There are definitely no issues from server side as our web app which uses reactjs and socket-io client library for web is able to connect to the server and pass messages. I am not able to figure out what exactly is going wrong.</p>\n"},{"tags":["java","sql"],"comments":[{"owner":{"account_id":6657506,"reputation":244,"user_id":5137530,"display_name":"mksmanjit"},"score":0,"creation_date":1656414031,"post_id":72785130,"comment_id":128561063,"body_markdown":"Are you sure you have data in your in your database for seminar table? And have you tried directly executing this sql on the sql client.","body":"Are you sure you have data in your in your database for seminar table? And have you tried directly executing this sql on the sql client."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656417823,"creation_date":1656417823,"answer_id":72786091,"question_id":72785130,"body_markdown":"If I understand correctly, that function would return at most the first title.\r\nTo get all the titles, use code like this:\r\n\r\n        ResultSet rs = pstmt.executeQuery();\r\n        while (rs.next()) {\r\n            titelAusgabe += rs.getString(&quot;titel&quot;);\r\n        }","title":"selecting and displaying all rows doesn&#39;t work?","body":"<p>If I understand correctly, that function would return at most the first title.\nTo get all the titles, use code like this:</p>\n<pre><code>    ResultSet rs = pstmt.executeQuery();\n    while (rs.next()) {\n        titelAusgabe += rs.getString(&quot;titel&quot;);\n    }\n</code></pre>\n"}],"owner":{"display_name":"user19434217"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1656417823,"creation_date":1656413497,"question_id":72785130,"body_markdown":"in my Servlet I&#39;m calling this method: \r\n\r\n    \t\t\ttitelTabelle = DatabaseStatements.titelSuche(titel);\r\n\r\nand in my jsp im trying to display the results via:\r\n\r\n    ${titelTabelle}\r\n\r\nbut my method titelsuche doesnt want to select anything. I&#39;m trying to display any value that is stored in my database, but the SELECT * FROM seminar doesn&#39;t work, even though I did the exact same stuff with other tables. Is the method wrong?\r\n\r\n\r\n\r\n    \tpublic static String titelSuche(String titel) {\r\n\t\tString titelAusgabe = &quot;&quot;;\r\n\r\n\t\ttry {\r\n\t\t\t// Verbindung zur Datenbank aufbauen\r\n\t\t\tcon = DatabaseConnection.getConnection();\r\n\t\t\tPreparedStatement pstmt = con\r\n\t\t\t\t\t.prepareStatement(&quot;SELECT * FROM seminar&quot;);\r\n\r\n\t\t\t//pstmt.setString(1, titel);\r\n\r\n\r\n\t\t\tResultSet rs = pstmt.executeQuery();\r\n\t\t\tif (rs.next()) {\r\n\t\t\t\ttitelAusgabe= rs.getString(&quot;titel&quot;);\r\n\t\t\t}","title":"selecting and displaying all rows doesn&#39;t work?","body":"<p>in my Servlet I'm calling this method:</p>\n<pre><code>            titelTabelle = DatabaseStatements.titelSuche(titel);\n</code></pre>\n<p>and in my jsp im trying to display the results via:</p>\n<pre><code>${titelTabelle}\n</code></pre>\n<p>but my method titelsuche doesnt want to select anything. I'm trying to display any value that is stored in my database, but the SELECT * FROM seminar doesn't work, even though I did the exact same stuff with other tables. Is the method wrong?</p>\n<pre><code>    public static String titelSuche(String titel) {\n    String titelAusgabe = &quot;&quot;;\n\n    try {\n        // Verbindung zur Datenbank aufbauen\n        con = DatabaseConnection.getConnection();\n        PreparedStatement pstmt = con\n                .prepareStatement(&quot;SELECT * FROM seminar&quot;);\n\n        //pstmt.setString(1, titel);\n\n\n        ResultSet rs = pstmt.executeQuery();\n        if (rs.next()) {\n            titelAusgabe= rs.getString(&quot;titel&quot;);\n        }\n</code></pre>\n"},{"tags":["java","angular","spring-boot"],"comments":[{"owner":{"account_id":17096892,"reputation":441,"user_id":12371697,"display_name":"Arokia Lijas"},"score":0,"creation_date":1656417321,"post_id":72779165,"comment_id":128562325,"body_markdown":"Any particular reason for not using HttpClientModule ?","body":"Any particular reason for not using HttpClientModule ?"}],"answers":[{"tags":[],"owner":{"account_id":17096892,"reputation":441,"user_id":12371697,"display_name":"Arokia Lijas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656417610,"creation_date":1656417610,"answer_id":72786038,"question_id":72779165,"body_markdown":"    import { HttpClient } from &#39;@angular/common/http&#39;;\r\n\r\n    constructor(private readonly http: HttpClient) { }\r\n\r\n    getRequest(){\r\n       return this.http.get(reqUrl).toPromise()\r\n    }","title":"How to return body from a Angular promise?","body":"<pre><code>import { HttpClient } from '@angular/common/http';\n\nconstructor(private readonly http: HttpClient) { }\n\ngetRequest(){\n   return this.http.get(reqUrl).toPromise()\n}\n</code></pre>\n"}],"owner":{"account_id":1375280,"reputation":4333,"user_id":1309392,"accept_rate":56,"display_name":"sTg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656417610,"creation_date":1656371589,"question_id":72779165,"body_markdown":"How to return the body from the response received from an angular promise. Below is the output. I want the data from the third body which i am not sure how can i retreive. Again i am not sure why i am getting nested body for a promise. Please advise.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IKLZt.png\r\n\r\nBelow code :\r\n\r\n      fetch = () =&gt; {   \r\n        debugger;   \r\n        let url  = `${environment.api}${Paths.FetchData}`+this.userId;\r\n        let req: HttpRequest&lt;any&gt; = new HttpRequest(&quot;Get&quot;, url, {\r\n            headers: new HttpHeaders({\r\n                &quot;Accept&quot;: &quot;text/html&quot;,\r\n                &quot;Content-Type&quot;: &quot;text/html&quot;\r\n            }),\r\n            responseType: &quot;json&quot;\r\n        });    \r\n        this.http.request(req).toPromise().then(r =&gt; {\r\n          debugger;\r\n          console.log(r);\r\n           return r;\r\n          });\r\n    } \r\n\r\nBackend Code :\r\n\r\n    @RequestMapping(value = &quot;/fetchData/{userId}&quot;, method = RequestMethod.GET)\r\n    public String fetchData(@PathVariable(&quot;userId&quot;) String userId) {\r\n    \tSystem.out.println(&quot;calling00&quot;);\r\n    \tif (!MyUtility.checkNullOrZero(Long.valueOf(userId))) {\r\n    \t\ttry {\r\n    \t\t\treturn service.fetchData(Long.valueOf(userId));\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tlog.error(&quot;Error &quot;, e);\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t}\r\n    \treturn null;\r\n    }","title":"How to return body from a Angular promise?","body":"<p>How to return the body from the response received from an angular promise. Below is the output. I want the data from the third body which i am not sure how can i retreive. Again i am not sure why i am getting nested body for a promise. Please advise.</p>\n<p><a href=\"https://i.stack.imgur.com/IKLZt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IKLZt.png\" alt=\"enter image description here\" /></a></p>\n<p>Below code :</p>\n<pre><code>  fetch = () =&gt; {   \n    debugger;   \n    let url  = `${environment.api}${Paths.FetchData}`+this.userId;\n    let req: HttpRequest&lt;any&gt; = new HttpRequest(&quot;Get&quot;, url, {\n        headers: new HttpHeaders({\n            &quot;Accept&quot;: &quot;text/html&quot;,\n            &quot;Content-Type&quot;: &quot;text/html&quot;\n        }),\n        responseType: &quot;json&quot;\n    });    \n    this.http.request(req).toPromise().then(r =&gt; {\n      debugger;\n      console.log(r);\n       return r;\n      });\n} \n</code></pre>\n<p>Backend Code :</p>\n<pre><code>@RequestMapping(value = &quot;/fetchData/{userId}&quot;, method = RequestMethod.GET)\npublic String fetchData(@PathVariable(&quot;userId&quot;) String userId) {\n    System.out.println(&quot;calling00&quot;);\n    if (!MyUtility.checkNullOrZero(Long.valueOf(userId))) {\n        try {\n            return service.fetchData(Long.valueOf(userId));\n        } catch (Exception e) {\n            log.error(&quot;Error &quot;, e);\n            return null;\n        }\n    }\n    return null;\n}\n</code></pre>\n"},{"tags":["java","swing","layout-manager","grid-layout","border-layout"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1656367567,"post_id":72778699,"comment_id":128550512,"body_markdown":"The CENTER of a `BorderLayout` is the region that expands when you maximize the `JFrame`.  Create one `JPanel` with a `GridLayout` to hold both player grids and put the `JTextField` either on PAGE_START or PAGE_END,","body":"The CENTER of a <code>BorderLayout</code> is the region that expands when you maximize the <code>JFrame</code>.  Create one <code>JPanel</code> with a <code>GridLayout</code> to hold both player grids and put the <code>JTextField</code> either on PAGE_START or PAGE_END,"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1656370542,"post_id":72778699,"comment_id":128551012,"body_markdown":"*&quot;i want larger boards.&quot;* Use bigger components in them. It is using buttons? A button can be made larger in a number of ways (some more useful than others, depending on the context). The ways (off the top of my head): larger font, longer text, HTML content (with CSS for padding), larger icon *or* larger margin. It might also appear in a panel or layout that will provide an empty border around it.","body":"<i>&quot;i want larger boards.&quot;</i> Use bigger components in them. It is using buttons? A button can be made larger in a number of ways (some more useful than others, depending on the context). The ways (off the top of my head): larger font, longer text, HTML content (with CSS for padding), larger icon <i>or</i> larger margin. It might also appear in a panel or layout that will provide an empty border around it."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656367632,"creation_date":1656367632,"answer_id":72778768,"question_id":72778699,"body_markdown":"`BorderLayout.PAGE_START/END` will use the components `preferredSize`.  Instead, I&#39;d use a `GridBagLayout`, for example...\r\n\r\n\r\n    import java.awt.Color;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.GridLayout;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JTextField;\r\n\r\n    public class Main {\r\n\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new TesteBorderLayout();\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TesteBorderLayout extends JFrame {\r\n            private JButton[][] tabuleiro1 = new JButton[10][10];\r\n            private JButton[][] tabuleiro2 = new JButton[10][10];\r\n            private JPanel jPanel1;\r\n            private JPanel jPanel2;\r\n            private JTextField jTextField1;\r\n\r\n            public TesteBorderLayout() {\r\n                initComponents();\r\n            }\r\n\r\n            private void initComponents() {\r\n\r\n                jPanel1 = new JPanel();\r\n                jPanel2 = new JPanel();\r\n                jTextField1 = new JTextField();\r\n\r\n                for (int i = 0; i &lt; 10; i++) {\r\n                    for (int j = 0; j &lt; 10; j++) {\r\n                        tabuleiro1[i][j] = new JButton();\r\n                        tabuleiro2[i][j] = new JButton();\r\n                    }\r\n                }\r\n\r\n                setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\r\n\r\n                JPanel contentPane = new JPanel(new GridBagLayout());\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridx = 0;\r\n                gbc.gridy = 0;\r\n                gbc.weightx = 1;\r\n                gbc.weighty = 1;\r\n                gbc.fill = GridBagConstraints.BOTH;\r\n\r\n                jPanel1.setBackground(new Color(255, 102, 102));\r\n                jPanel1.setLayout(new GridLayout(10, 10));\r\n                contentPane.add(jPanel1, gbc);\r\n\r\n                jPanel2.setBackground(new Color(51, 102, 255));\r\n                jPanel2.setLayout(new GridLayout(10, 10));\r\n                gbc.gridy = 2;\r\n                contentPane.add(jPanel2, gbc);\r\n\r\n                for (int i = 0; i &lt; 10; i++) {\r\n                    for (int j = 0; j &lt; 10; j++) {\r\n                        jPanel1.add(tabuleiro1[i][j]);\r\n                        jPanel2.add(tabuleiro2[i][j]);\r\n                    }\r\n                }\r\n\r\n                gbc.gridy = 1;\r\n                gbc.fill = GridBagConstraints.HORIZONTAL;\r\n                gbc.weighty = 0;\r\n\r\n                jTextField1.setBackground(new Color(255, 255, 255));\r\n                jTextField1.setText(&quot;Comandos para o usu&#225;rio&quot;);\r\n                contentPane.add(jTextField1, gbc);\r\n\r\n                add(contentPane);\r\n                setTitle(&quot;Batalha Naval&quot;);\r\n                pack();\r\n            }\r\n        }    \r\n    }\r\n\r\nSee [How to Use GridBagLayout](https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html) for more details","title":"Managing panels (GridLayout) size in a BorderLayout JFrame","body":"<p><code>BorderLayout.PAGE_START/END</code> will use the components <code>preferredSize</code>.  Instead, I'd use a <code>GridBagLayout</code>, for example...</p>\n<pre><code>import java.awt.Color;\nimport java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.GridLayout;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JTextField;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new TesteBorderLayout();\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TesteBorderLayout extends JFrame {\n        private JButton[][] tabuleiro1 = new JButton[10][10];\n        private JButton[][] tabuleiro2 = new JButton[10][10];\n        private JPanel jPanel1;\n        private JPanel jPanel2;\n        private JTextField jTextField1;\n\n        public TesteBorderLayout() {\n            initComponents();\n        }\n\n        private void initComponents() {\n\n            jPanel1 = new JPanel();\n            jPanel2 = new JPanel();\n            jTextField1 = new JTextField();\n\n            for (int i = 0; i &lt; 10; i++) {\n                for (int j = 0; j &lt; 10; j++) {\n                    tabuleiro1[i][j] = new JButton();\n                    tabuleiro2[i][j] = new JButton();\n                }\n            }\n\n            setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\n\n            JPanel contentPane = new JPanel(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridx = 0;\n            gbc.gridy = 0;\n            gbc.weightx = 1;\n            gbc.weighty = 1;\n            gbc.fill = GridBagConstraints.BOTH;\n\n            jPanel1.setBackground(new Color(255, 102, 102));\n            jPanel1.setLayout(new GridLayout(10, 10));\n            contentPane.add(jPanel1, gbc);\n\n            jPanel2.setBackground(new Color(51, 102, 255));\n            jPanel2.setLayout(new GridLayout(10, 10));\n            gbc.gridy = 2;\n            contentPane.add(jPanel2, gbc);\n\n            for (int i = 0; i &lt; 10; i++) {\n                for (int j = 0; j &lt; 10; j++) {\n                    jPanel1.add(tabuleiro1[i][j]);\n                    jPanel2.add(tabuleiro2[i][j]);\n                }\n            }\n\n            gbc.gridy = 1;\n            gbc.fill = GridBagConstraints.HORIZONTAL;\n            gbc.weighty = 0;\n\n            jTextField1.setBackground(new Color(255, 255, 255));\n            jTextField1.setText(&quot;Comandos para o usuário&quot;);\n            contentPane.add(jTextField1, gbc);\n\n            add(contentPane);\n            setTitle(&quot;Batalha Naval&quot;);\n            pack();\n        }\n    }    \n}\n</code></pre>\n<p>See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html\" rel=\"nofollow noreferrer\">How to Use GridBagLayout</a> for more details</p>\n"},{"tags":[],"owner":{"account_id":6764946,"reputation":570,"user_id":5210225,"accept_rate":50,"display_name":"Dimitris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656417360,"creation_date":1656417360,"answer_id":72785969,"question_id":72778699,"body_markdown":"You are using the contentPange you need to make it visible. Also pack() always makes the minimum possible dimensions. You should replace the pack with the following two lines.\r\n\r\n        this.setSize(800, 800);\r\n        getContentPane().setVisible(true);\r\n\r\nThen you can see how you want to resize the individual components. (panels, buttons etc)","title":"Managing panels (GridLayout) size in a BorderLayout JFrame","body":"<p>You are using the contentPange you need to make it visible. Also pack() always makes the minimum possible dimensions. You should replace the pack with the following two lines.</p>\n<pre><code>    this.setSize(800, 800);\n    getContentPane().setVisible(true);\n</code></pre>\n<p>Then you can see how you want to resize the individual components. (panels, buttons etc)</p>\n"}],"owner":{"account_id":25664974,"reputation":1,"user_id":19430129,"display_name":"Mathguy on CS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1656417360,"creation_date":1656366905,"question_id":72778699,"body_markdown":"So, i&#39;m making a java battleship game with a GUI from Java Swing. I actually designed the borders (a very initial way) and now i&#39;m trying to make a well-sized board. Consider that the board are the blue/red panels in the photo below \r\n\r\n[A pack() results in this][1]\r\n\r\n[fullscreen][2]\r\n\r\nBut i want larger boards. What should i do? setPrefferedSize() seems to not solve the problem, i think because the JFrame is BorderLayout...\r\n\r\n```\r\n\r\npackage testeborderlayout;\r\n\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JTextField;\r\nimport javax.swing.JPanel;\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Color;\r\nimport java.awt.GridLayout;\r\n\r\npublic class TesteBorderLayout extends JFrame {\r\n    private JButton[][] tabuleiro1 = new JButton[10][10];\r\n    private JButton[][] tabuleiro2 = new JButton[10][10];\r\n    private JPanel jPanel1;\r\n    private JPanel jPanel2;\r\n    private JTextField jTextField1; \r\n    \r\n    public TesteBorderLayout() {\r\n        initComponents();\r\n    }\r\n                       \r\n    private void initComponents() {\r\n\r\n        jPanel1 = new JPanel();\r\n        jPanel2 = new JPanel();\r\n        jTextField1 = new JTextField();\r\n        \r\n        for(int i=0;i&lt;10;i++){\r\n            for(int j=0; j&lt;10;j++){\r\n                tabuleiro1[i][j]=new JButton();\r\n                tabuleiro2[i][j]=new JButton();\r\n            }\r\n        }\r\n        \r\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\r\n\r\n        jPanel1.setBackground(new Color(255, 102, 102));\r\n        jPanel1.setLayout(new GridLayout(10,10));\r\n        getContentPane().add(jPanel1, BorderLayout.PAGE_START);\r\n\r\n        jPanel2.setBackground(new Color(51, 102, 255));\r\n        jPanel2.setLayout(new GridLayout(10,10));\r\n        getContentPane().add(jPanel2, BorderLayout.PAGE_END);\r\n        \r\n        for(int i=0;i&lt;10;i++){\r\n            for(int j=0;j&lt;10;j++){\r\n                jPanel1.add(tabuleiro1[i][j]);\r\n                jPanel2.add(tabuleiro2[i][j]);\r\n            }\r\n        }\r\n        \r\n        jTextField1.setBackground(new Color(255,255,255));\r\n        jTextField1.setText(&quot;Comandos para o usu&#225;rio&quot;);\r\n        getContentPane().add(jTextField1, BorderLayout.CENTER);\r\n        setTitle(&quot;Batalha Naval&quot;);\r\n        pack();\r\n    }                \r\n\r\n    public static void main(String args[]) {\r\n        \r\n        java.awt.EventQueue.invokeLater(new Runnable() {\r\n            public void run() {\r\n                new TesteBorderLayout().setVisible(true);\r\n            }\r\n        });\r\n    }\r\n                \r\n}\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aeYpS.png\r\n  [2]: https://i.stack.imgur.com/aEYHo.png","title":"Managing panels (GridLayout) size in a BorderLayout JFrame","body":"<p>So, i'm making a java battleship game with a GUI from Java Swing. I actually designed the borders (a very initial way) and now i'm trying to make a well-sized board. Consider that the board are the blue/red panels in the photo below</p>\n<p><a href=\"https://i.stack.imgur.com/aeYpS.png\" rel=\"nofollow noreferrer\">A pack() results in this</a></p>\n<p><a href=\"https://i.stack.imgur.com/aEYHo.png\" rel=\"nofollow noreferrer\">fullscreen</a></p>\n<p>But i want larger boards. What should i do? setPrefferedSize() seems to not solve the problem, i think because the JFrame is BorderLayout...</p>\n<pre><code>\npackage testeborderlayout;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JTextField;\nimport javax.swing.JPanel;\nimport java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.GridLayout;\n\npublic class TesteBorderLayout extends JFrame {\n    private JButton[][] tabuleiro1 = new JButton[10][10];\n    private JButton[][] tabuleiro2 = new JButton[10][10];\n    private JPanel jPanel1;\n    private JPanel jPanel2;\n    private JTextField jTextField1; \n    \n    public TesteBorderLayout() {\n        initComponents();\n    }\n                       \n    private void initComponents() {\n\n        jPanel1 = new JPanel();\n        jPanel2 = new JPanel();\n        jTextField1 = new JTextField();\n        \n        for(int i=0;i&lt;10;i++){\n            for(int j=0; j&lt;10;j++){\n                tabuleiro1[i][j]=new JButton();\n                tabuleiro2[i][j]=new JButton();\n            }\n        }\n        \n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\n\n        jPanel1.setBackground(new Color(255, 102, 102));\n        jPanel1.setLayout(new GridLayout(10,10));\n        getContentPane().add(jPanel1, BorderLayout.PAGE_START);\n\n        jPanel2.setBackground(new Color(51, 102, 255));\n        jPanel2.setLayout(new GridLayout(10,10));\n        getContentPane().add(jPanel2, BorderLayout.PAGE_END);\n        \n        for(int i=0;i&lt;10;i++){\n            for(int j=0;j&lt;10;j++){\n                jPanel1.add(tabuleiro1[i][j]);\n                jPanel2.add(tabuleiro2[i][j]);\n            }\n        }\n        \n        jTextField1.setBackground(new Color(255,255,255));\n        jTextField1.setText(&quot;Comandos para o usuário&quot;);\n        getContentPane().add(jTextField1, BorderLayout.CENTER);\n        setTitle(&quot;Batalha Naval&quot;);\n        pack();\n    }                \n\n    public static void main(String args[]) {\n        \n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                new TesteBorderLayout().setVisible(true);\n            }\n        });\n    }\n                \n}\n\n</code></pre>\n"},{"tags":["java","spring","maven","apache-camel","spring-camel"],"comments":[{"owner":{"account_id":1901420,"reputation":3763,"user_id":1717210,"display_name":"TacheDeChoco"},"score":0,"creation_date":1656343468,"post_id":72773758,"comment_id":128542940,"body_markdown":"Can you add the code of the `postSplitProcessor`?","body":"Can you add the code of the <code>postSplitProcessor</code>?"},{"owner":{"account_id":12008899,"reputation":331,"user_id":8797083,"display_name":"worldbeater"},"score":0,"creation_date":1656443104,"post_id":72773758,"comment_id":128572286,"body_markdown":"I was doing an exchange.getProperties() and it did not have the split properties but DefaultExchange.getInternalProperties() did. This question is now marked resolved. Thanks for taking the time to respond.","body":"I was doing an exchange.getProperties() and it did not have the split properties but DefaultExchange.getInternalProperties() did. This question is now marked resolved. Thanks for taking the time to respond."}],"answers":[{"tags":[],"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656417287,"creation_date":1656417287,"answer_id":72785950,"question_id":72773758,"body_markdown":"Since you haven&#39;t posted the code snippet where you are accessing the `Exchange` properties, I would guess you are using `Exchange#getProperties` to access the different properties which [has been optimized / refactored in version **3.9.0** of *Apache Camel*][1]:\r\n\r\n&gt; The properties on Exchange have been optimized to separate into two: internal state vs user properties.\r\nThe method getProperties() now only returns user properties. To include internal properties as well, then use getAllProperties().\r\nThe other APIs such as getProperty(String) works the same way as before, being able to lookup a property regardless if its internal or custom.\r\n\r\nYou should be able to access the split related properties:\r\n\r\n* Either switching to use `Exchange#getAllProperties`:\r\n\r\n        exchange.getAllProperties().get(&quot;CamelSplitIndex&quot;);\r\n\r\n* Or better use the safer `Exchange#getProperty(ExchangePropertyKey)`:\r\n\r\n        exchange.getProperty(ExchangePropertyKey.SPLIT_INDEX);\r\n\r\n  [1]: https://camel.apache.org/manual/camel-3x-upgrade-guide-3_9.html#_exchange_properties","title":"Apache camel splitter not populating properties in the exchange","body":"<p>Since you haven't posted the code snippet where you are accessing the <code>Exchange</code> properties, I would guess you are using <code>Exchange#getProperties</code> to access the different properties which <a href=\"https://camel.apache.org/manual/camel-3x-upgrade-guide-3_9.html#_exchange_properties\" rel=\"nofollow noreferrer\">has been optimized / refactored in version <strong>3.9.0</strong> of <em>Apache Camel</em></a>:</p>\n<blockquote>\n<p>The properties on Exchange have been optimized to separate into two: internal state vs user properties.\nThe method getProperties() now only returns user properties. To include internal properties as well, then use getAllProperties().\nThe other APIs such as getProperty(String) works the same way as before, being able to lookup a property regardless if its internal or custom.</p>\n</blockquote>\n<p>You should be able to access the split related properties:</p>\n<ul>\n<li><p>Either switching to use <code>Exchange#getAllProperties</code>:</p>\n<pre><code>  exchange.getAllProperties().get(&quot;CamelSplitIndex&quot;);\n</code></pre>\n</li>\n<li><p>Or better use the safer <code>Exchange#getProperty(ExchangePropertyKey)</code>:</p>\n<pre><code>  exchange.getProperty(ExchangePropertyKey.SPLIT_INDEX);\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":12008899,"reputation":331,"user_id":8797083,"display_name":"worldbeater"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":460,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72785950,"answer_count":1,"score":0,"last_activity_date":1656417287,"creation_date":1656340035,"question_id":72773758,"body_markdown":"I have a route Producer -&gt; Split -&gt; Processor and in the processor, I am trying to find out if the current exchange being processed is the last one to get split.\r\n\r\nAccording to the [camel split docs][1], three properties are put into every camel exchange that has been split. CamelSplitIndex, CamelSplitSize and CamelSplitComplete.\r\n\r\nWhen using camel 3.0.0-RC3, I am able to see these properties being populated and available in the processor class. But when using version 3.11.1 or 3.17.0, I do not see these values being populated in the exchange.\r\n\r\nAm I missing something here or is this a camel bug.\r\n\r\n  [1]: https://camel.apache.org/components/3.17.x/eips/split-eip.html\r\n\r\nMain Class: \r\n\r\n&gt; SpringApplication.run(CamelTestMain.class, args);\r\n\r\nRoutes:\r\n\r\n    from(&quot;timer://simpleSplitTimer?period=1000000&quot;).process(new Processor() {\r\n                                @Override\r\n                                public void process(Exchange exchange) throws Exception {\r\n                                    Trade trade1 = new Trade(1L, 15.4, 200, &quot;WF&quot;);\r\n                                    Trade trade2 = new Trade(2L, 75.1, 100, &quot;GS&quot;);\r\n                                    Trade trade3 = new Trade(3L, 20.0, 15, &quot;JP&quot;);\r\n                                    List&lt;Trade&gt; tradeList = new ArrayList&lt;&gt;();\r\n                                    tradeList.add(trade1);\r\n                                    tradeList.add(trade2);\r\n                                    tradeList.add(trade3);\r\n                                    exchange.getIn().setHeader(&quot;GUITrade&quot;, &quot;Y&quot;);\r\n                                    exchange.getIn().setBody(tradeList);\r\n                                }\r\n                            })\r\n                            .to(&quot;direct:toSplit&quot;);\r\n    \r\n                    from(&quot;direct:toSplit&quot;).split(body()).to(&quot;direct:afterSplit1&quot;);\r\n                    from(&quot;direct:afterSplit1&quot;).process(postSplitProcessor);\r\n\r\nDependencies:\r\n\r\n    &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.11.RELEASE&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n                &lt;artifactId&gt;camel-spring-boot-starter&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0-RC3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n                &lt;artifactId&gt;camel-jms&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0-RC3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;","title":"Apache camel splitter not populating properties in the exchange","body":"<p>I have a route Producer -&gt; Split -&gt; Processor and in the processor, I am trying to find out if the current exchange being processed is the last one to get split.</p>\n<p>According to the <a href=\"https://camel.apache.org/components/3.17.x/eips/split-eip.html\" rel=\"nofollow noreferrer\">camel split docs</a>, three properties are put into every camel exchange that has been split. CamelSplitIndex, CamelSplitSize and CamelSplitComplete.</p>\n<p>When using camel 3.0.0-RC3, I am able to see these properties being populated and available in the processor class. But when using version 3.11.1 or 3.17.0, I do not see these values being populated in the exchange.</p>\n<p>Am I missing something here or is this a camel bug.</p>\n<p>Main Class:</p>\n<blockquote>\n<p>SpringApplication.run(CamelTestMain.class, args);</p>\n</blockquote>\n<p>Routes:</p>\n<pre><code>from(&quot;timer://simpleSplitTimer?period=1000000&quot;).process(new Processor() {\n                            @Override\n                            public void process(Exchange exchange) throws Exception {\n                                Trade trade1 = new Trade(1L, 15.4, 200, &quot;WF&quot;);\n                                Trade trade2 = new Trade(2L, 75.1, 100, &quot;GS&quot;);\n                                Trade trade3 = new Trade(3L, 20.0, 15, &quot;JP&quot;);\n                                List&lt;Trade&gt; tradeList = new ArrayList&lt;&gt;();\n                                tradeList.add(trade1);\n                                tradeList.add(trade2);\n                                tradeList.add(trade3);\n                                exchange.getIn().setHeader(&quot;GUITrade&quot;, &quot;Y&quot;);\n                                exchange.getIn().setBody(tradeList);\n                            }\n                        })\n                        .to(&quot;direct:toSplit&quot;);\n\n                from(&quot;direct:toSplit&quot;).split(body()).to(&quot;direct:afterSplit1&quot;);\n                from(&quot;direct:afterSplit1&quot;).process(postSplitProcessor);\n</code></pre>\n<p>Dependencies:</p>\n<pre><code>&lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.1.11.RELEASE&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0-RC3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-jms&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0-RC3&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["macos","java"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1656394767,"post_id":6411909,"comment_id":128554519,"body_markdown":"I should point out that now (2022) you should not be using Java 6 at all, and you should not be using applets at all.  Java 6 is many years past EOL, and applets are not supported by modern JVMs or modern web browsers.","body":"I should point out that now (2022) you should not be using Java 6 at all, and you should not be using applets at all.  Java 6 is many years past EOL, and applets are not supported by modern JVMs or modern web browsers."}],"answers":[{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1308576923,"creation_date":1308576923,"answer_id":6411995,"question_id":6411909,"body_markdown":"There is no downgrade mechanism for what you want to do.\r\n\r\nThe typical suggestion is to roll back to the version you want either through Time Machine or by reinstalling and only update selectively to the version you need by downloading explicitly from Apple and not updating Java through software update.\r\n\r\nI&#39;d recommend you look into the problem instead.  If you cannot run this in Firefox, then try with Chrome or Safari.  If it is the mixed code issue, then this is changed in the Java Settings panel in Programs -&gt; Utilities in the Advanced panel.","title":"How to downgrade JRE/JDK on Mac OSX?","body":"<p>There is no downgrade mechanism for what you want to do.</p>\n\n<p>The typical suggestion is to roll back to the version you want either through Time Machine or by reinstalling and only update selectively to the version you need by downloading explicitly from Apple and not updating Java through software update.</p>\n\n<p>I'd recommend you look into the problem instead.  If you cannot run this in Firefox, then try with Chrome or Safari.  If it is the mixed code issue, then this is changed in the Java Settings panel in Programs -> Utilities in the Advanced panel.</p>\n"},{"tags":[],"owner":{"account_id":404756,"reputation":843,"user_id":773261,"display_name":"Eric"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1308577795,"creation_date":1308577795,"answer_id":6412251,"question_id":6411909,"body_markdown":"If the older JDK isn&#39;t on your machine, you&#39;d need to use the GUI and download the Java updater.  The one closest to yours I could find was for Java 1.6.0_15 for Mac OS 10.5 (you didn&#39;t mention which Mac OS X version you were running):\r\n\r\n[Java for Mac OS X 10.5 Update 5][1]\r\n\r\n\r\nI didn&#39;t see any for Mac OS X 10.6.  For that, you would probably have to download the updaters for each 10.6 release, and extract the JDK installer from the updater (using something like [Pacifist][2]\r\n\r\nOh, and if you haven&#39;t already, try running /Applications/Utilities/Java Preferences.app, which lets you change the default Java on your machine amongst the ones you have installed.\r\n\r\nHope this helps...\r\n\r\n  [1]: http://support.apple.com/kb/DL924\r\n  [2]: http://www.charlessoft.com/","title":"How to downgrade JRE/JDK on Mac OSX?","body":"<p>If the older JDK isn't on your machine, you'd need to use the GUI and download the Java updater.  The one closest to yours I could find was for Java 1.6.0_15 for Mac OS 10.5 (you didn't mention which Mac OS X version you were running):</p>\n\n<p><a href=\"http://support.apple.com/kb/DL924\" rel=\"noreferrer\">Java for Mac OS X 10.5 Update 5</a></p>\n\n<p>I didn't see any for Mac OS X 10.6.  For that, you would probably have to download the updaters for each 10.6 release, and extract the JDK installer from the updater (using something like <a href=\"http://www.charlessoft.com/\" rel=\"noreferrer\">Pacifist</a></p>\n\n<p>Oh, and if you haven't already, try running /Applications/Utilities/Java Preferences.app, which lets you change the default Java on your machine amongst the ones you have installed.</p>\n\n<p>Hope this helps...</p>\n"},{"tags":[],"owner":{"account_id":348840,"reputation":734,"user_id":683775,"display_name":"Stefan"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1308583475,"creation_date":1308583475,"answer_id":6413600,"question_id":6411909,"body_markdown":"To downgrade your JDK you will need the JDK installation package and an app called Pacifist, available from http://www.charlessoft.com/ . The usage is pretty straight forward. I have used it to downgrade my JDK before.","title":"How to downgrade JRE/JDK on Mac OSX?","body":"<p>To downgrade your JDK you will need the JDK installation package and an app called Pacifist, available from <a href=\"http://www.charlessoft.com/\" rel=\"nofollow\">http://www.charlessoft.com/</a> . The usage is pretty straight forward. I have used it to downgrade my JDK before.</p>\n"},{"tags":[],"owner":{"account_id":441861,"reputation":85,"user_id":832199,"accept_rate":100,"display_name":"JJRutter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1311221257,"creation_date":1311221257,"answer_id":6771151,"question_id":6411909,"body_markdown":"Which version of firefox are you running?   \r\n\r\nI believe you can have more than one version of jdk/jre on a machine as long as you specify the path when compiling/running.  However, the jvm is bundled with mac which makes this problematic.\r\n\r\nThis post may be helpful\r\n\r\nhttps://stackoverflow.com/questions/1577014/how-install-a-specific-jdk-on-mac-os-x","title":"How to downgrade JRE/JDK on Mac OSX?","body":"<p>Which version of firefox are you running?   </p>\n\n<p>I believe you can have more than one version of jdk/jre on a machine as long as you specify the path when compiling/running.  However, the jvm is bundled with mac which makes this problematic.</p>\n\n<p>This post may be helpful</p>\n\n<p><a href=\"https://stackoverflow.com/questions/1577014/how-install-a-specific-jdk-on-mac-os-x\">How to install a specific JDK on Mac OS X?</a></p>\n"},{"tags":[],"owner":{"account_id":271131,"reputation":927,"user_id":561498,"accept_rate":96,"display_name":"TomaszRykala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1326276065,"creation_date":1326276065,"answer_id":8817361,"question_id":6411909,"body_markdown":"I&#39;ve had the very same problem. You can open the JRE 1.6.0_20 image file with Pacifist software and extract all the folders with the framework into the \\System\\Library\\Frameworks\\JavaVM.framework\\Versions folders. After that the JRE should appear in your Applications/Utilities/Java Preferences JRE selection menu, where you can switch between the running JRE&#39;s.","title":"How to downgrade JRE/JDK on Mac OSX?","body":"<p>I've had the very same problem. You can open the JRE 1.6.0_20 image file with Pacifist software and extract all the folders with the framework into the \\System\\Library\\Frameworks\\JavaVM.framework\\Versions folders. After that the JRE should appear in your Applications/Utilities/Java Preferences JRE selection menu, where you can switch between the running JRE's.</p>\n"},{"tags":[],"owner":{"account_id":2886878,"reputation":101,"user_id":2476522,"display_name":"David"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1370994653,"creation_date":1370994653,"answer_id":17055648,"question_id":6411909,"body_markdown":"That&#39;s easy. You have to remove de .jdk directory of the JDK 7 in /Library/Java/JavaVirtualMachines.\r\nNow you only have to install the version you like.\r\n=)\r\n\r\n\r\nMore info:\r\nhttp://docs.oracle.com/javase/7/docs/webnotes/install/mac/mac-jdk.html#uninstall","title":"How to downgrade JRE/JDK on Mac OSX?","body":"<p>That's easy. You have to remove de .jdk directory of the JDK 7 in /Library/Java/JavaVirtualMachines.\nNow you only have to install the version you like.\n=)</p>\n\n<p>More info:\n<a href=\"http://docs.oracle.com/javase/7/docs/webnotes/install/mac/mac-jdk.html#uninstall\" rel=\"noreferrer\">http://docs.oracle.com/javase/7/docs/webnotes/install/mac/mac-jdk.html#uninstall</a></p>\n"},{"tags":[],"owner":{"account_id":68701,"reputation":3082,"user_id":200304,"accept_rate":63,"display_name":"Johannes Ernst"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1400803803,"creation_date":1400803803,"answer_id":23819062,"question_id":6411909,"body_markdown":"That does not seem to be accurate any more.\r\n\r\nI just managed to downgrade both JRE and compiler from Java 8 to 7 by looking into /Library/Java/JavaVirtualMachines, and moving away the directory with the highest version number, e.g.\r\n\r\n    sudo mv jdk1.8.0.jdk ~/Desktop/\r\n\r\n","title":"How to downgrade JRE/JDK on Mac OSX?","body":"<p>That does not seem to be accurate any more.</p>\n\n<p>I just managed to downgrade both JRE and compiler from Java 8 to 7 by looking into /Library/Java/JavaVirtualMachines, and moving away the directory with the highest version number, e.g.</p>\n\n<pre><code>sudo mv jdk1.8.0.jdk ~/Desktop/\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6768906,"reputation":11,"user_id":5212912,"display_name":"Avi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1464882954,"creation_date":1441830597,"answer_id":32488610,"question_id":6411909,"body_markdown":"These days MAC OS comes with latest java version(8 or later).\r\n\r\nEven if you install the old versions, it points to the Newest version. All it need is just pointing to the old version. To downgrade to any version that is preinstalled is to create a symlink of that version.\r\n\r\nFollow these simple steps to downgrade your java version.\r\n\r\n       (1) cd /System/Library/Frameworks/JavaVM.framework/Versions\r\n\r\n       (2) sudo bash\r\n\r\n       (3) rm Current\r\n\r\n       (4) ln -s 1.6.0/Contents/ Current\r\n\r\n       (5) java -version\r\n\r\nThis will point the java to last update in java6. And now update all the paths.\r\n\r\nHope it might be helpful and let me know if it works...:)","title":"How to downgrade JRE/JDK on Mac OSX?","body":"<p>These days MAC OS comes with latest java version(8 or later).</p>\n\n<p>Even if you install the old versions, it points to the Newest version. All it need is just pointing to the old version. To downgrade to any version that is preinstalled is to create a symlink of that version.</p>\n\n<p>Follow these simple steps to downgrade your java version.</p>\n\n<pre><code>   (1) cd /System/Library/Frameworks/JavaVM.framework/Versions\n\n   (2) sudo bash\n\n   (3) rm Current\n\n   (4) ln -s 1.6.0/Contents/ Current\n\n   (5) java -version\n</code></pre>\n\n<p>This will point the java to last update in java6. And now update all the paths.</p>\n\n<p>Hope it might be helpful and let me know if it works...:)</p>\n"},{"tags":[],"owner":{"account_id":1853541,"reputation":965,"user_id":1679571,"accept_rate":60,"display_name":"Randy"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1450999663,"creation_date":1450999663,"answer_id":34458755,"question_id":6411909,"body_markdown":"I removed the JavaAppletPlugin:\r\n/Library/Internet Plug-Ins/JavaAppletPlugin.plugin\r\n\r\nand all 1.8 JDKs:\r\n/Library/Java/JavaVirtualMachines/jdk1.8.0_45.jdk\r\n/Library/Java/JavaVirtualMachines/jdk1.8.0_60.jdk\r\n\r\nThen I was able to re-install 1.7.","title":"How to downgrade JRE/JDK on Mac OSX?","body":"<p>I removed the JavaAppletPlugin:\n/Library/Internet Plug-Ins/JavaAppletPlugin.plugin</p>\n\n<p>and all 1.8 JDKs:\n/Library/Java/JavaVirtualMachines/jdk1.8.0_45.jdk\n/Library/Java/JavaVirtualMachines/jdk1.8.0_60.jdk</p>\n\n<p>Then I was able to re-install 1.7.</p>\n"}],"owner":{"account_id":14006,"reputation":3183,"user_id":28454,"accept_rate":84,"display_name":"jrutter"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74449,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":6412251,"answer_count":9,"score":24,"last_activity_date":1656417274,"creation_date":1308576541,"question_id":6411909,"body_markdown":"Does anyone know how to downgrade the version for JRE/JDK from 1.6.0_24 to 1.6.0_18 on a Mac OSX thru Terminal? I need to downgrade in order to get a Java applet working in Firefox. Any help would be much appreciated.\r\n\r\n","title":"How to downgrade JRE/JDK on Mac OSX?","body":"<p>Does anyone know how to downgrade the version for JRE/JDK from 1.6.0_24 to 1.6.0_18 on a Mac OSX thru Terminal? I need to downgrade in order to get a Java applet working in Firefox. Any help would be much appreciated.</p>\n"},{"tags":["java","androidx","android-camerax"],"comments":[{"owner":{"account_id":103589,"reputation":10607,"user_id":277368,"accept_rate":79,"display_name":"Xi 张熹"},"score":0,"creation_date":1657894703,"post_id":72785882,"comment_id":128925343,"body_markdown":"Does the same code works on lower API level?","body":"Does the same code works on lower API level?"},{"owner":{"account_id":3116741,"reputation":1030,"user_id":2637343,"accept_rate":79,"display_name":"Lahiru Prasanna"},"score":0,"creation_date":1657900748,"post_id":72785882,"comment_id":128927731,"body_markdown":"yes , android 11","body":"yes , android 11"},{"owner":{"account_id":103589,"reputation":10607,"user_id":277368,"accept_rate":79,"display_name":"Xi 张熹"},"score":0,"creation_date":1658009077,"post_id":72785882,"comment_id":128946303,"body_markdown":"Do you mind filing a bug? Sounds like something needs to be fixed. https://issuetracker.google.com/issues/new?component=618491&amp;template=1257717","body":"Do you mind filing a bug? Sounds like something needs to be fixed. <a href=\"https://issuetracker.google.com/issues/new?component=618491&amp;template=1257717\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/&hellip;</a>"}],"owner":{"account_id":3116741,"reputation":1030,"user_id":2637343,"accept_rate":79,"display_name":"Lahiru Prasanna"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":818,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1656417000,"creation_date":1656417000,"question_id":72785882,"body_markdown":"Here i&#39;m trying to take pictures using camerax , it is working with below android 12 devices perfectly but when use android 12 device it is not working.   \r\n\r\n     long x = System.currentTimeMillis();\r\n    \r\n    \r\n                String fileName = getExternalFilesDir(null) + &quot;&quot; + x + &quot;.jpg&quot;;\r\n    \r\n    \r\n                File file = new File(fileName);\r\n    \r\n                ImageCapture.OutputFileOptions outputFileOptions = new ImageCapture.OutputFileOptions.Builder(file).build();\r\n                imageCapture.takePicture(outputFileOptions, executor, new ImageCapture.OnImageSavedCallback() {\r\n    \r\n    \r\n                    @Override\r\n                    public void onImageSaved(@NonNull ImageCapture.OutputFileResults outputFileResults) {\r\n                        Log.e(&quot;xxxx&quot;, &quot;yyy&quot;);\r\n                        new Handler(Looper.getMainLooper()).post(new Runnable() {\r\n                            @Override\r\n                            public void run() {\r\n                                Toast.makeText(MainActivity.this, &quot;Image Saved successfully&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        });\r\n                    }\r\n    \r\n                    @Override\r\n                    public void onError(@NonNull ImageCaptureException error) {\r\n                        error.printStackTrace();\r\n                    }\r\n                });\r\n\r\ni debugged the code and put a brake-point in onError function , but it is not called ","title":"Camera x imageCapture.takePicture function is not working on android 12","body":"<p>Here i'm trying to take pictures using camerax , it is working with below android 12 devices perfectly but when use android 12 device it is not working.</p>\n<pre><code> long x = System.currentTimeMillis();\n\n\n            String fileName = getExternalFilesDir(null) + &quot;&quot; + x + &quot;.jpg&quot;;\n\n\n            File file = new File(fileName);\n\n            ImageCapture.OutputFileOptions outputFileOptions = new ImageCapture.OutputFileOptions.Builder(file).build();\n            imageCapture.takePicture(outputFileOptions, executor, new ImageCapture.OnImageSavedCallback() {\n\n\n                @Override\n                public void onImageSaved(@NonNull ImageCapture.OutputFileResults outputFileResults) {\n                    Log.e(&quot;xxxx&quot;, &quot;yyy&quot;);\n                    new Handler(Looper.getMainLooper()).post(new Runnable() {\n                        @Override\n                        public void run() {\n                            Toast.makeText(MainActivity.this, &quot;Image Saved successfully&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    });\n                }\n\n                @Override\n                public void onError(@NonNull ImageCaptureException error) {\n                    error.printStackTrace();\n                }\n            });\n</code></pre>\n<p>i debugged the code and put a brake-point in onError function , but it is not called</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8764,"page":1228,"page_size":100}
