{"items":[{"tags":["java","spring","spring-boot","oauth-2.0","proxy"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1677949904,"post_id":75636892,"comment_id":133439917,"body_markdown":"&gt;&gt; nested exception is java.lang.NullPointerException\nThe bean can&#39;t be instantiated because of the exception thrown in it. Check again the stack trace where exactly the exception happend.","body":"&gt;&gt; nested exception is java.lang.NullPointerException The bean can&#39;t be instantiated because of the exception thrown in it. Check again the stack trace where exactly the exception happend."}],"answers":[{"tags":[],"owner":{"account_id":11793351,"reputation":1057,"user_id":8628731,"display_name":"Billy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678128563,"creation_date":1678128563,"answer_id":75654697,"question_id":75636892,"body_markdown":"This was because app was not deployed in env so &quot;VCAP_SERVICES&quot; java ops was not available.","title":"Creating OAuth2RestTemplate Resource with Proxy","body":"<p>This was because app was not deployed in env so &quot;VCAP_SERVICES&quot; java ops was not available.</p>\n"}],"owner":{"account_id":11793351,"reputation":1057,"user_id":8628731,"display_name":"Billy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678128563,"creation_date":1677946043,"question_id":75636892,"body_markdown":"I&#39;m trying to create an Client that is using OAuth2 but also needs to travers thru a proxy. Currently I&#39;m getting the error `Failed to instantiate [org.springframework.web.client.RestTemplate]: Factory method &#39;restTemplate&#39; threw exception; nested exception is java.lang.NullPointerException` I&#39;m not sure how because I&#39;m using the `@Bean`annotation on the method to make sure IoC container is aware, is this not correct? See two methods being used for this below:\r\n\r\n```    @Bean\r\n    public RestTemplate restTemplate() throws JSONException {\r\n        AccessTokenRequest atr = new DefaultAccessTokenRequest();\r\n        RestTemplate restTemplate = new OAuth2RestTemplate(restTemplateResource(),\r\n                new DefaultOAuth2ClientContext(atr));\r\n\r\n\r\n        //Proxy Settings\r\n        LOG.error(&quot;--in getProxySettings-&quot;);\r\n        LOG.info(System.getenv(&quot;VCAP_SERVICES&quot;));\r\n        JSONObject vcapServices = new JSONObject(System.getenv(&quot;VCAP_SERVICES&quot;));\r\n        LOG.info(&quot;vcapServices {}&quot;,vcapServices.toString());\r\n        JSONObject cproxy = vcapServices.getJSONArray(&quot;c-proxy&quot;).getJSONObject(0);\r\n        LOG.info(&quot;cproxy {}&quot;,cproxy.toString());\r\n        JSONObject credentials = cproxy.getJSONObject(&quot;credentials&quot;);\r\n        LOG.info(&quot;credentials {}&quot;,credentials.toString());\r\n\r\n        CredentialsProvider credsProvider = new BasicCredentialsProvider();\r\n        credsProvider.setCredentials(\r\n                new AuthScope(credentials.getString(&quot;host&quot;), credentials.getInt(&quot;port&quot;)),\r\n                new UsernamePasswordCredentials(credentials.getString(&quot;username&quot;), credentials.getString(&quot;password&quot;))\r\n        );\r\n\r\n        HttpHost myProxy = new HttpHost(credentials.getString(&quot;host&quot;), credentials.getInt(&quot;port&quot;));\r\n        HttpClientBuilder clientBuilder = HttpClientBuilder.create();\r\n\r\n        clientBuilder.setProxy(myProxy).setDefaultCredentialsProvider(credsProvider).disableCookieManagement();\r\n\r\n        HttpClient httpClient = clientBuilder.build();\r\n        HttpComponentsClientHttpRequestFactory factory = new HttpComponentsClientHttpRequestFactory();\r\n        factory.setHttpClient(httpClient);\r\n\r\n        restTemplate.setRequestFactory(factory);\r\n        return restTemplate;\r\n    }\r\n\r\n\r\n\r\n    protected OAuth2ProtectedResourceDetails restTemplateResource() {\r\n\r\n        ClientCredentialsResourceDetails clientCredentialsResourceDetails = new ClientCredentialsResourceDetails();\r\n        clientCredentialsResourceDetails.setAccessTokenUri(websecSecurityDetails.getEndpoint());\r\n        clientCredentialsResourceDetails.setClientId(websecSecurityDetails.getClientId());\r\n        clientCredentialsResourceDetails.setClientSecret(websecSecurityDetails.getClientSecret());\r\n        clientCredentialsResourceDetails.setGrantType(websecSecurityDetails.getGrantType());\r\n        List&lt;String&gt; scopeList = new ArrayList&lt;&gt;();\r\n        scopeList.add(websecSecurityDetails.getScope());\r\n        clientCredentialsResourceDetails.setScope(scopeList);\r\n        clientCredentialsResourceDetails.setAuthenticationScheme(AuthenticationScheme.header);\r\n        return clientCredentialsResourceDetails;\r\n    }","title":"Creating OAuth2RestTemplate Resource with Proxy","body":"<p>I'm trying to create an Client that is using OAuth2 but also needs to travers thru a proxy. Currently I'm getting the error <code>Failed to instantiate [org.springframework.web.client.RestTemplate]: Factory method 'restTemplate' threw exception; nested exception is java.lang.NullPointerException</code> I'm not sure how because I'm using the <code>@Bean</code>annotation on the method to make sure IoC container is aware, is this not correct? See two methods being used for this below:</p>\n<pre><code>    public RestTemplate restTemplate() throws JSONException {\n        AccessTokenRequest atr = new DefaultAccessTokenRequest();\n        RestTemplate restTemplate = new OAuth2RestTemplate(restTemplateResource(),\n                new DefaultOAuth2ClientContext(atr));\n\n\n        //Proxy Settings\n        LOG.error(&quot;--in getProxySettings-&quot;);\n        LOG.info(System.getenv(&quot;VCAP_SERVICES&quot;));\n        JSONObject vcapServices = new JSONObject(System.getenv(&quot;VCAP_SERVICES&quot;));\n        LOG.info(&quot;vcapServices {}&quot;,vcapServices.toString());\n        JSONObject cproxy = vcapServices.getJSONArray(&quot;c-proxy&quot;).getJSONObject(0);\n        LOG.info(&quot;cproxy {}&quot;,cproxy.toString());\n        JSONObject credentials = cproxy.getJSONObject(&quot;credentials&quot;);\n        LOG.info(&quot;credentials {}&quot;,credentials.toString());\n\n        CredentialsProvider credsProvider = new BasicCredentialsProvider();\n        credsProvider.setCredentials(\n                new AuthScope(credentials.getString(&quot;host&quot;), credentials.getInt(&quot;port&quot;)),\n                new UsernamePasswordCredentials(credentials.getString(&quot;username&quot;), credentials.getString(&quot;password&quot;))\n        );\n\n        HttpHost myProxy = new HttpHost(credentials.getString(&quot;host&quot;), credentials.getInt(&quot;port&quot;));\n        HttpClientBuilder clientBuilder = HttpClientBuilder.create();\n\n        clientBuilder.setProxy(myProxy).setDefaultCredentialsProvider(credsProvider).disableCookieManagement();\n\n        HttpClient httpClient = clientBuilder.build();\n        HttpComponentsClientHttpRequestFactory factory = new HttpComponentsClientHttpRequestFactory();\n        factory.setHttpClient(httpClient);\n\n        restTemplate.setRequestFactory(factory);\n        return restTemplate;\n    }\n\n\n\n    protected OAuth2ProtectedResourceDetails restTemplateResource() {\n\n        ClientCredentialsResourceDetails clientCredentialsResourceDetails = new ClientCredentialsResourceDetails();\n        clientCredentialsResourceDetails.setAccessTokenUri(websecSecurityDetails.getEndpoint());\n        clientCredentialsResourceDetails.setClientId(websecSecurityDetails.getClientId());\n        clientCredentialsResourceDetails.setClientSecret(websecSecurityDetails.getClientSecret());\n        clientCredentialsResourceDetails.setGrantType(websecSecurityDetails.getGrantType());\n        List&lt;String&gt; scopeList = new ArrayList&lt;&gt;();\n        scopeList.add(websecSecurityDetails.getScope());\n        clientCredentialsResourceDetails.setScope(scopeList);\n        clientCredentialsResourceDetails.setAuthenticationScheme(AuthenticationScheme.header);\n        return clientCredentialsResourceDetails;\n    }\n</code></pre>\n"},{"tags":["java","jakarta-mail","imap"],"comments":[{"owner":{"account_id":1550376,"reputation":10772,"user_id":1442918,"display_name":"Max"},"score":0,"creation_date":1678128598,"post_id":75654382,"comment_id":133469966,"body_markdown":"It looks to me like it didn’t actually do start TLS.","body":"It looks to me like it didn’t actually do start TLS."}],"answers":[{"tags":[],"owner":{"account_id":10242,"reputation":12230,"user_id":19246,"accept_rate":82,"display_name":"Martin C."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678127916,"creation_date":1678127916,"answer_id":75654612,"question_id":75654382,"body_markdown":"Your IMAP server is denying this user access, see the part where it says `A1 NO IMAP4 access not allowed` in response to the login attempt. You can fix this only on the (IMAP) server-side.","title":"JavaMail AuthenticationFailedException IMAP4 access not allowed","body":"<p>Your IMAP server is denying this user access, see the part where it says <code>A1 NO IMAP4 access not allowed</code> in response to the login attempt. You can fix this only on the (IMAP) server-side.</p>\n"}],"owner":{"account_id":1311001,"reputation":155,"user_id":1259006,"accept_rate":40,"display_name":"Carmine"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75654612,"answer_count":1,"score":0,"last_activity_date":1678128284,"creation_date":1678126338,"question_id":75654382,"body_markdown":"I have an authentication error when I try to connect on server. I am using JavaMail ver. 1.6.2 and it gives me this error when I connect to INBOX.\r\nThe provider use the STARTTLS for comunication with port 143\r\n\r\n\r\n```\r\njavax.mail.AuthenticationFailedException: IMAP4 access not allowed\r\n\tat com.sun.mail.imap.IMAPStore.protocolConnect(IMAPStore.java:732)\r\n\tat javax.mail.Service.connect(Service.java:388)\r\n\tat javax.mail.Service.connect(Service.java:246)\r\n\tat javax.mail.Service.connect(Service.java:267)\r\n    at it.app.test.TestSendEmail.main(TestEmail.java:113)\r\n\r\n```\r\n\r\n```\r\n\t\tproperties.put(&quot;mail.store.protocol&quot;, &quot;imap&quot;);\r\n\t\t\r\n\t\tproperties.put(&quot;mail.host&quot;, &quot;in.alice.it&quot;);\r\n\t\tproperties.put(&quot;mail.user&quot;, &quot;user_name@alice.it&quot;);\r\n\t\tproperties.put(&quot;mail.from&quot;, &quot;address_mail@alice.it&quot;);\r\n\r\n\t\tproperties.put(&quot;mail.imap.host&quot;, &quot;in.alice.it&quot;);\r\n\t\tproperties.put(&quot;mail.imap.port&quot;, &quot;143&quot;);\r\n\t\tproperties.put(&quot;mail.imap.user&quot;, &quot;user_name@alice.it&quot;);\t\t\t\r\n\t\t\t\t\r\n\t\tproperties.put(&quot;mail.imap.starttls.enable&quot;, &quot;true&quot;);\r\n\t\tproperties.put(&quot;mail.imap.starttls.required&quot;, &quot;true&quot;);\t\t\t\t\r\n\t\t\t\t\r\n\t\tproperties.put(&quot;mail.debug&quot;, &quot;true&quot;);\r\n\t\tproperties.put(&quot;mail.debug.auth&quot;, &quot;true&quot;);\r\n\t\t\r\n\t\tAuthenticator auth = new Authenticator() {\r\n            protected PasswordAuthentication getPasswordAuthentication() {\r\n                return new PasswordAuthentication(account.getUsername(), account.getPassword());\r\n            }\r\n        };\r\n        \r\n        session = Session.getInstance(properties, auth);\r\n        \r\n        \r\n        final Store store = session.getStore(&quot;imap&quot;);\r\n\t\tstore.connect(account.getUsername(), account.getPassword());\r\n\t\t\r\n\t\t. . .\r\n\r\n```\r\n\r\n```\r\nDEBUG: JavaMail version 1.6.2\r\njavax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle]\r\nDEBUG IMAP: closeFoldersOnStoreFailure\r\nDEBUG IMAP: trying to connect to host &quot;in.alice.it&quot;, port 143, isSSL false\r\nOK IMAP4 Server\r\nA0 CAPABILITY\r\nCAPABILITY IMAP4rev1 UIDPLUS NAMESPACE QUOTA STARTTLS AUTH=PLAIN ID MOVE SORT SORT=DISPLAY THREAD=ORDEREDSUBJECT THREAD=PARTICIPANTS THREAD=REFERENCES X-FIRSTLINE X-THREAD\r\nA0 OK CAPABILITY completed\r\nDEBUG IMAP: AUTH: PLAIN\r\nDEBUG IMAP: protocolConnect login, host=in.alice.it, user=user_name@alice.it, password=&lt;non-null&gt;\r\nA1 AUTHENTICATE PLAIN\r\n+\r\nABCDEF123==\r\nA1 NO IMAP4 access not allowed\r\nDEBUG IMAP: trying to connect to host &quot;in.alice.it&quot;, port 143, isSSL false\r\nOK IMAP4 Server\r\nB0 CAPABILITY\r\nCAPABILITY IMAP4rev1 UIDPLUS NAMESPACE QUOTA STARTTLS AUTH=PLAIN ID MOVE SORT SORT=DISPLAY THREAD=ORDEREDSUBJECT THREAD=PARTICIPANTS THREAD=REFERENCES X-FIRSTLINE X-THREAD\r\nB0 OK CAPABILITY completed\r\nDEBUG IMAP: AUTH: PLAIN\r\nDEBUG IMAP: protocolConnect login, host=in.alice.it, user=user_name@alice.it, password=&lt;non-null&gt;\r\nB1 AUTHENTICATE PLAIN\r\n+\r\nABCDEF123==\r\nB1 NO IMAP4 access not allowed\r\n```","title":"JavaMail AuthenticationFailedException IMAP4 access not allowed","body":"<p>I have an authentication error when I try to connect on server. I am using JavaMail ver. 1.6.2 and it gives me this error when I connect to INBOX.\nThe provider use the STARTTLS for comunication with port 143</p>\n<pre><code>javax.mail.AuthenticationFailedException: IMAP4 access not allowed\n    at com.sun.mail.imap.IMAPStore.protocolConnect(IMAPStore.java:732)\n    at javax.mail.Service.connect(Service.java:388)\n    at javax.mail.Service.connect(Service.java:246)\n    at javax.mail.Service.connect(Service.java:267)\n    at it.app.test.TestSendEmail.main(TestEmail.java:113)\n\n</code></pre>\n<pre><code>        properties.put(&quot;mail.store.protocol&quot;, &quot;imap&quot;);\n        \n        properties.put(&quot;mail.host&quot;, &quot;in.alice.it&quot;);\n        properties.put(&quot;mail.user&quot;, &quot;user_name@alice.it&quot;);\n        properties.put(&quot;mail.from&quot;, &quot;address_mail@alice.it&quot;);\n\n        properties.put(&quot;mail.imap.host&quot;, &quot;in.alice.it&quot;);\n        properties.put(&quot;mail.imap.port&quot;, &quot;143&quot;);\n        properties.put(&quot;mail.imap.user&quot;, &quot;user_name@alice.it&quot;);         \n                \n        properties.put(&quot;mail.imap.starttls.enable&quot;, &quot;true&quot;);\n        properties.put(&quot;mail.imap.starttls.required&quot;, &quot;true&quot;);              \n                \n        properties.put(&quot;mail.debug&quot;, &quot;true&quot;);\n        properties.put(&quot;mail.debug.auth&quot;, &quot;true&quot;);\n        \n        Authenticator auth = new Authenticator() {\n            protected PasswordAuthentication getPasswordAuthentication() {\n                return new PasswordAuthentication(account.getUsername(), account.getPassword());\n            }\n        };\n        \n        session = Session.getInstance(properties, auth);\n        \n        \n        final Store store = session.getStore(&quot;imap&quot;);\n        store.connect(account.getUsername(), account.getPassword());\n        \n        . . .\n\n</code></pre>\n<pre><code>DEBUG: JavaMail version 1.6.2\njavax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle]\nDEBUG IMAP: closeFoldersOnStoreFailure\nDEBUG IMAP: trying to connect to host &quot;in.alice.it&quot;, port 143, isSSL false\nOK IMAP4 Server\nA0 CAPABILITY\nCAPABILITY IMAP4rev1 UIDPLUS NAMESPACE QUOTA STARTTLS AUTH=PLAIN ID MOVE SORT SORT=DISPLAY THREAD=ORDEREDSUBJECT THREAD=PARTICIPANTS THREAD=REFERENCES X-FIRSTLINE X-THREAD\nA0 OK CAPABILITY completed\nDEBUG IMAP: AUTH: PLAIN\nDEBUG IMAP: protocolConnect login, host=in.alice.it, user=user_name@alice.it, password=&lt;non-null&gt;\nA1 AUTHENTICATE PLAIN\n+\nABCDEF123==\nA1 NO IMAP4 access not allowed\nDEBUG IMAP: trying to connect to host &quot;in.alice.it&quot;, port 143, isSSL false\nOK IMAP4 Server\nB0 CAPABILITY\nCAPABILITY IMAP4rev1 UIDPLUS NAMESPACE QUOTA STARTTLS AUTH=PLAIN ID MOVE SORT SORT=DISPLAY THREAD=ORDEREDSUBJECT THREAD=PARTICIPANTS THREAD=REFERENCES X-FIRSTLINE X-THREAD\nB0 OK CAPABILITY completed\nDEBUG IMAP: AUTH: PLAIN\nDEBUG IMAP: protocolConnect login, host=in.alice.it, user=user_name@alice.it, password=&lt;non-null&gt;\nB1 AUTHENTICATE PLAIN\n+\nABCDEF123==\nB1 NO IMAP4 access not allowed\n</code></pre>\n"},{"tags":["java","google-chrome","selenium-webdriver","google-chrome-headless"],"comments":[{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1677745198,"post_id":75611524,"comment_id":133399345,"body_markdown":"Please share more of your code, need to see the part where file is (should be) downloaded. Add the code output as well.","body":"Please share more of your code, need to see the part where file is (should be) downloaded. Add the code output as well."},{"owner":{"account_id":19200660,"reputation":19,"user_id":14028685,"display_name":"bitwiseBro"},"score":0,"creation_date":1677825015,"post_id":75611524,"comment_id":133417286,"body_markdown":"@pburgr it just clicks on download button which downloads a file! I&#39;ve not written code to read or write bytes for downloading! Just want to download file via browser like usual! please let me know if these were the details you are asking for. Thanks","body":"@pburgr it just clicks on download button which downloads a file! I&#39;ve not written code to read or write bytes for downloading! Just want to download file via browser like usual! please let me know if these were the details you are asking for. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":19200660,"reputation":19,"user_id":14028685,"display_name":"bitwiseBro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678128257,"creation_date":1677765036,"answer_id":75616344,"question_id":75611524,"body_markdown":"The reason for downloading failure was screen size on cloud! I was able to resolve it by:\r\n\r\n1. For java instead of ***--window-size=1920,1080***      \r\nI did:\r\n    \r\n`driver.manage().window().setSize(new Dimension(1920, 1080));`\r\n\r\n2. Now I&#39;m running selenium with xvfb! \r\n\r\n\r\nUPDATE: Above solution works with sequential execution but not with parallel","title":"Can&#39;t download files with chrome headless with Selenium Java","body":"<p>The reason for downloading failure was screen size on cloud! I was able to resolve it by:</p>\n<ol>\n<li>For java instead of <em><strong>--window-size=1920,1080</strong></em><br />\nI did:</li>\n</ol>\n<p><code>driver.manage().window().setSize(new Dimension(1920, 1080));</code></p>\n<ol start=\"2\">\n<li>Now I'm running selenium with xvfb!</li>\n</ol>\n<p>UPDATE: Above solution works with sequential execution but not with parallel</p>\n"}],"owner":{"account_id":19200660,"reputation":19,"user_id":14028685,"display_name":"bitwiseBro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":219,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1678128257,"creation_date":1677733875,"question_id":75611524,"body_markdown":"Chrome is not downloading any file when runned in headless mode! It was working perfectly fine till last week! Suddenly it started to fail! I&#39;ve tried with different OS, different Selenium version, still no luck!\r\n\r\nIt does download on my computer, but not on Github Actions and AWS!\r\n\r\nHave a look at My setup:\r\n\r\n\r\n```\r\nHashMap&lt;String, Object&gt; headlessChromePrefs = new HashMap&lt;String, Object&gt;();\r\n\t\t\tChromeOptions headlessChromeOption = new ChromeOptions();\r\n\t\t\tDesiredCapabilities capabilities = new DesiredCapabilities();\r\n\t\t\theadlessChromeOption.addArguments(&quot;--headless=new&quot;);\r\n\t\t\theadlessChromeOption.addArguments(&quot;--disable-gpu&quot;);\r\n\t\t\theadlessChromeOption.addArguments(&quot;--disable-dev-shm-usage&quot;);\r\n\t\t\theadlessChromeOption.addArguments(&quot;--no-sandbox&quot;);\r\n\t\t\theadlessChromeOption.addArguments(&quot;--window-size=1920,1200&quot;);\r\n\t\t\theadlessChromePrefs.put(&quot;download.default_directory&quot;, downloadDirectory);\r\n\t\t\theadlessChromePrefs.put(&quot;download.prompt_for_download&quot;, false);\r\n\t\t\theadlessChromeOption.setExperimentalOption(&quot;prefs&quot;, headlessChromePrefs);\r\n\t\t\tcapabilities.setCapability(ChromeOptions.CAPABILITY, headlessChromeOption);\r\n\t\t\theadlessChromeOption.merge(capabilities);\r\n\t\t\tdriver = new ChromeDriver(headlessChromeOption);\r\n```\r\n\r\nEnvironment:\r\nJava 11, Selenium 4.4.0\r\n\r\nPlease help me find the issue! Thanks team!!","title":"Can&#39;t download files with chrome headless with Selenium Java","body":"<p>Chrome is not downloading any file when runned in headless mode! It was working perfectly fine till last week! Suddenly it started to fail! I've tried with different OS, different Selenium version, still no luck!</p>\n<p>It does download on my computer, but not on Github Actions and AWS!</p>\n<p>Have a look at My setup:</p>\n<pre><code>HashMap&lt;String, Object&gt; headlessChromePrefs = new HashMap&lt;String, Object&gt;();\n            ChromeOptions headlessChromeOption = new ChromeOptions();\n            DesiredCapabilities capabilities = new DesiredCapabilities();\n            headlessChromeOption.addArguments(&quot;--headless=new&quot;);\n            headlessChromeOption.addArguments(&quot;--disable-gpu&quot;);\n            headlessChromeOption.addArguments(&quot;--disable-dev-shm-usage&quot;);\n            headlessChromeOption.addArguments(&quot;--no-sandbox&quot;);\n            headlessChromeOption.addArguments(&quot;--window-size=1920,1200&quot;);\n            headlessChromePrefs.put(&quot;download.default_directory&quot;, downloadDirectory);\n            headlessChromePrefs.put(&quot;download.prompt_for_download&quot;, false);\n            headlessChromeOption.setExperimentalOption(&quot;prefs&quot;, headlessChromePrefs);\n            capabilities.setCapability(ChromeOptions.CAPABILITY, headlessChromeOption);\n            headlessChromeOption.merge(capabilities);\n            driver = new ChromeDriver(headlessChromeOption);\n</code></pre>\n<p>Environment:\nJava 11, Selenium 4.4.0</p>\n<p>Please help me find the issue! Thanks team!!</p>\n"},{"tags":["java","android","gradle","checkstyle"],"comments":[{"owner":{"account_id":1001793,"reputation":2131,"user_id":1016482,"accept_rate":50,"display_name":"rveach"},"score":0,"creation_date":1678205269,"post_id":75635888,"comment_id":133486226,"body_markdown":"It sounds like you solved your own issue, but I just wanted to mark that you can use Checkstyle for any project, but it sounds like you can&#39;t use Checkstyle in gradle with Android. You can always try the bare command line interface with Checkstyle or a separate Ant or Maven entity just for running it.","body":"It sounds like you solved your own issue, but I just wanted to mark that you can use Checkstyle for any project, but it sounds like you can&#39;t use Checkstyle in gradle with Android. You can always try the bare command line interface with Checkstyle or a separate Ant or Maven entity just for running it."}],"owner":{"account_id":27934255,"reputation":1,"user_id":21331588,"display_name":"HBMuni"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678128131,"creation_date":1677935710,"question_id":75635888,"body_markdown":"I am trying to implement checkstyle in a standard out-of-the-box project for Android. However, the tasks for checkstyle do not get added even though I am implementing the plugin. What am I doing wrong?\r\n\r\nThe official documentation for checkstyle just mentions applying the plugin and then the tasks are supposed to be created. I have cleaned / rebuilt + invalidated caches and restarted the project already.\r\n\r\nproject.gradle\r\n\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39; version &#39;7.3.1&#39; apply false\r\n    id &#39;com.android.library&#39; version &#39;7.3.1&#39; apply false\r\n    id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.7.20&#39; apply false\r\n    id &quot;org.jlleitschuh.gradle.ktlint&quot; version &quot;11.0.0&quot;\r\n}\r\n```\r\n\r\napp.gradle\r\n\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n    id &#39;org.jetbrains.kotlin.android&#39;\r\n}\r\n\r\napply plugin: &#39;org.jlleitschuh.gradle.ktlint&#39;\r\napply plugin: &#39;checkstyle&#39;\r\ncheckstyle.toolVersion = &quot;10.3.3&quot;\r\n\r\nandroid {\r\n    namespace &#39;com.example.android.ktlinttest&#39;\r\n    compileSdk 33\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.android.ktlinttest&quot;\r\n        minSdk 30\r\n        targetSdk 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    kotlinOptions {\r\n        jvmTarget = &#39;1.8&#39;\r\n    }\r\n    buildFeatures {\r\n        viewBinding true\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;androidx.core:core-ktx:1.7.0&#39;\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.8.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation &#39;androidx.navigation:navigation-fragment-ktx:2.5.3&#39;\r\n    implementation &#39;androidx.navigation:navigation-ui-ktx:2.5.3&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n\r\n    // Test if needed for checkstyle\r\n    implementation(&quot;joda-time:joda-time:2.11.1&quot;)\r\n    implementation(&quot;com.google.guava:guava:31.1-jre&quot;)\r\n}\r\n\r\n// Set ktlint to be automatically triggered by building the project\r\ntasks.getByPath(&quot;preBuild&quot;).dependsOn(&quot;ktlintFormat&quot;)\r\ntasks.getByPath(&quot;preBuild&quot;).dependsOn(&quot;checkstyleMain&quot;)\r\n\r\nktlint {\r\n    android = true\r\n    ignoreFailures = false\r\n    disabledRules = [&quot;no-wildcard-imports&quot;, &quot;max-line-length&quot;]\r\n    reporters {\r\n        reporter &quot;plain&quot;\r\n        reporter &quot;checkstyle&quot;\r\n        reporter &quot;sarif&quot;\r\n    }\r\n}\r\n```\r\n\r\nEDIT:\r\n\r\nI found the solution. For checkstyle to successfully add the checking tasks like checkstyleMain you need to implement also the &#39;java&#39; plugin. However, when implementing the plugin &#39;com.android.application&#39;, it is not possible to at the same time add &#39;java&#39;. So not possible to use it for Android projects I guess.\r\n","title":"Checkstyle task does not get added for android project","body":"<p>I am trying to implement checkstyle in a standard out-of-the-box project for Android. However, the tasks for checkstyle do not get added even though I am implementing the plugin. What am I doing wrong?</p>\n<p>The official documentation for checkstyle just mentions applying the plugin and then the tasks are supposed to be created. I have cleaned / rebuilt + invalidated caches and restarted the project already.</p>\n<p>project.gradle</p>\n<pre><code>plugins {\n    id 'com.android.application' version '7.3.1' apply false\n    id 'com.android.library' version '7.3.1' apply false\n    id 'org.jetbrains.kotlin.android' version '1.7.20' apply false\n    id &quot;org.jlleitschuh.gradle.ktlint&quot; version &quot;11.0.0&quot;\n}\n</code></pre>\n<p>app.gradle</p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'org.jetbrains.kotlin.android'\n}\n\napply plugin: 'org.jlleitschuh.gradle.ktlint'\napply plugin: 'checkstyle'\ncheckstyle.toolVersion = &quot;10.3.3&quot;\n\nandroid {\n    namespace 'com.example.android.ktlinttest'\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;com.example.android.ktlinttest&quot;\n        minSdk 30\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n    buildFeatures {\n        viewBinding true\n    }\n}\n\ndependencies {\n    implementation 'androidx.core:core-ktx:1.7.0'\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.google.android.material:material:1.8.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation 'androidx.navigation:navigation-fragment-ktx:2.5.3'\n    implementation 'androidx.navigation:navigation-ui-ktx:2.5.3'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n\n    // Test if needed for checkstyle\n    implementation(&quot;joda-time:joda-time:2.11.1&quot;)\n    implementation(&quot;com.google.guava:guava:31.1-jre&quot;)\n}\n\n// Set ktlint to be automatically triggered by building the project\ntasks.getByPath(&quot;preBuild&quot;).dependsOn(&quot;ktlintFormat&quot;)\ntasks.getByPath(&quot;preBuild&quot;).dependsOn(&quot;checkstyleMain&quot;)\n\nktlint {\n    android = true\n    ignoreFailures = false\n    disabledRules = [&quot;no-wildcard-imports&quot;, &quot;max-line-length&quot;]\n    reporters {\n        reporter &quot;plain&quot;\n        reporter &quot;checkstyle&quot;\n        reporter &quot;sarif&quot;\n    }\n}\n</code></pre>\n<p>EDIT:</p>\n<p>I found the solution. For checkstyle to successfully add the checking tasks like checkstyleMain you need to implement also the 'java' plugin. However, when implementing the plugin 'com.android.application', it is not possible to at the same time add 'java'. So not possible to use it for Android projects I guess.</p>\n"},{"tags":["java","selenium-webdriver","gradle","github-actions","cicd"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677884303,"creation_date":1677884303,"answer_id":75632550,"question_id":75631669,"body_markdown":"Seems the line of code is a little off. A quick demonstration:\r\n\r\n- Code block:\r\n\r\n\t  driver.get(&quot;https://www.google.com/&quot;);\r\n\t  new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.titleIs((&quot;Google&quot;)));\r\n\t  System.out.println(driver.getTitle());\r\n\t  \r\n- Console Output:\r\n\r\n\t  Google\r\n\r\n\r\n----------\r\n\r\n\r\n\t  \r\nThis usecase\r\n------------\r\nAccordingly, your line of code should be:\r\n\r\n\t  wait.until(ExpectedConditions.titleIs((&quot;Continuous Improvement - Event Name Overview&quot;)));","title":"Gradle with Selenium Testing failing in Github Actions but passing locally","body":"<p>Seems the line of code is a little off. A quick demonstration:</p>\n<ul>\n<li><p>Code block:</p>\n<pre><code>driver.get(&quot;https://www.google.com/&quot;);\nnew WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.titleIs((&quot;Google&quot;)));\nSystem.out.println(driver.getTitle());\n</code></pre>\n</li>\n<li><p>Console Output:</p>\n<pre><code>Google\n</code></pre>\n</li>\n</ul>\n<hr />\n<h2>This usecase</h2>\n<p>Accordingly, your line of code should be:</p>\n<pre><code>  wait.until(ExpectedConditions.titleIs((&quot;Continuous Improvement - Event Name Overview&quot;)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27930129,"reputation":11,"user_id":21328360,"display_name":"nsowers20"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678127897,"creation_date":1678127897,"answer_id":75654609,"question_id":75631669,"body_markdown":"Solved the issue, it was because logging into our SSO it requires a two-factor authentication so the server was unable to login after receiving the information. ","title":"Gradle with Selenium Testing failing in Github Actions but passing locally","body":"<p>Solved the issue, it was because logging into our SSO it requires a two-factor authentication so the server was unable to login after receiving the information.</p>\n"}],"owner":{"account_id":27930129,"reputation":11,"user_id":21328360,"display_name":"nsowers20"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":415,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678127897,"creation_date":1677875859,"question_id":75631669,"body_markdown":"I am currently working on trying to connect Selenium automation scripts to be run using Github action. I decided on using Gradle from how easy it looked to use when running these Selenium tests locally and in Github actions. I have been able to get these Selenium tests to work just fine locally using `./gradlew test`. I have also been writing all of this using Visual Studio Code.\r\n\r\nHere is my gradle.yml: \r\n\r\n```\r\nname: Java CI with Gradle\r\n\r\non:\r\n  push:\r\n    branches: [&quot;dev&quot;]\r\n  pull_request:\r\n    branches: [&quot;dev&quot;]\r\n\r\npermissions:\r\n  contents: read\r\n\r\njobs:\r\n  build:\r\n    runs-on: ubuntu-latest\r\n\r\n    steps:\r\n      - uses: actions/checkout@v3\r\n      - name: Set up JDK 19\r\n        uses: actions/setup-java@v3\r\n        with:\r\n          java-version: &quot;19&quot;\r\n          distribution: &quot;temurin&quot;\r\n      - name: Grant execute permission for gradlew\r\n        run: chmod +x gradlew\r\n      - name: Build with Gradle\r\n        run: ./gradlew clean test\r\n```\r\n\r\nHere is my build.gradle file:\r\n\r\n```\r\n/*\r\n * This file was generated by the Gradle &#39;init&#39; task.\r\n *\r\n * This is a general purpose Gradle build.\r\n * Learn more about Gradle by exploring our samples at https://docs.gradle.org/8.0.1/samples\r\n * This project uses @Incubating APIs which are subject to change.\r\n */\r\nplugins {\r\n    id &#39;java&#39;\r\n}\r\n\r\nrepositories {\r\n    jcenter()\r\n}\r\n\r\ndependencies {\r\n    testImplementation &#39;junit:junit:4.13&#39;\r\n    implementation &#39;org.seleniumhq.selenium:selenium-java:4.1.1&#39;\r\n    testImplementation(&quot;io.github.bonigarcia:webdrivermanager:5.3.2&quot;)\r\n}\r\n```\r\n\r\nsettings.gradle file:\r\n\r\n```\r\n/*\r\n * This file was generated by the Gradle &#39;init&#39; task.\r\n *\r\n * The settings file is used to specify which projects to include in your build.\r\n *\r\n * Detailed information about configuring a multi-project build in Gradle can be found\r\n * in the user manual at https://docs.gradle.org/8.0.1/userguide/multi_project_builds.html\r\n * This project uses @Incubating APIs which are subject to change.\r\n */\r\nplugins {\r\n    id(&quot;com.gradle.enterprise&quot;) version(&quot;3.9&quot;)\r\n}\r\n\r\ngradleEnterprise {\r\n    if (System.getenv(&quot;CI&quot;) != null) {\r\n        buildScan {\r\n            publishAlways()\r\n            termsOfServiceUrl = &quot;https://gradle.com/terms-of-service&quot;\r\n            termsOfServiceAgree = &quot;yes&quot;\r\n        }\r\n    }\r\n}\r\n\r\nrootProject.name = &#39;it-mendix-ci-kaizen-events&#39;\r\n```\r\n\r\nAnd my Selenium java file:\r\n\r\n```\r\nimport org.junit.*;\r\nimport java.util.concurrent.TimeUnit;\r\nimport java.lang.Thread;\r\nimport java.io.*;\r\n\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.firefox.FirefoxDriver;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport org.openqa.selenium.remote.RemoteWebDriver;\r\nimport org.openqa.selenium.remote.DesiredCapabilities;\r\nimport org.openqa.selenium.Dimension;\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.interactions.Actions;\r\nimport org.openqa.selenium.support.ui.ExpectedConditions;\r\nimport org.openqa.selenium.support.ui.WebDriverWait;\r\nimport org.openqa.selenium.JavascriptExecutor;\r\nimport org.openqa.selenium.Alert;\r\nimport org.openqa.selenium.Keys;\r\nimport org.openqa.selenium.support.ui.ExpectedConditions;\r\nimport org.openqa.selenium.support.ui.WebDriverWait;\r\nimport org.openqa.selenium.chrome.ChromeOptions;\r\nimport org.openqa.selenium.WindowType;\r\nimport io.github.bonigarcia.wdm.WebDriverManager;\r\n\r\n\r\nimport static org.hamcrest.CoreMatchers.containsString;\r\nimport static org.hamcrest.MatcherAssert.assertThat;\r\nimport static org.hamcrest.CoreMatchers.is;\r\nimport static org.hamcrest.core.IsNot.not;\r\n\r\npublic class CIHomePage {\r\n\r\n    private WebDriver driver;\r\n\r\n    @BeforeClass\r\n    public static void setupWebdriverChromeDriver() {\r\n        WebDriverManager.chromedriver().setup();\r\n    }\r\n\r\n    @Before\r\n    public void setup() {\r\n        ChromeOptions options = new ChromeOptions();\r\n        options.addArguments(&quot;--headless&quot;, &quot;--disable-gpu&quot;, &quot;--window-size=1920,1200&quot;,&quot;--ignore-certificate-errors&quot;,&quot;--disable-extensions&quot;,&quot;--no-sandbox&quot;,&quot;--disable-dev-shm-usage&quot;);\r\n        driver = new ChromeDriver(options);\r\n        driver.manage().window().maximize();\r\n        driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\r\n    }\r\n\r\n    @After\r\n    public void teardown() {\r\n        if (driver != null) {\r\n            driver.quit();\r\n        }\r\n    }\r\n\r\n    @Test\r\n    public void homePageTitle() throws InterruptedException{\r\n        WebDriverWait wait = new WebDriverWait (driver, 45);\r\n        driver.get(&quot;https://notarealurl.com&quot;);\r\n        driver.findElement(By.id(&quot;Ecom_Password&quot;)).sendKeys(&quot;notarealpassword&quot;);\r\n        driver.findElement(By.id(&quot;Ecom_User_ID&quot;)).sendKeys(&quot;notarealusername&quot;);\r\n        driver.findElement(By.id(&quot;loginButton2&quot;)).click();\r\n        wait.until(ExpectedConditions.titleIs(&quot;Continuous Improvement - Event Name Overview&quot;));\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nWhen these test run in Github actions I receive this error.\r\n\r\n```\r\nException\r\norg.openqa.selenium.TimeoutException: Expected condition failed: waiting for title to be &quot;Continuous Improvement - Event Name Overview&quot;. Current title: &quot;Access Manager&quot; (tried for 45 second(s) with 500 milliseconds interval)\t\r\nBuild info: version: &#39;4.1.1&#39;, revision: &#39;e8fcc2cecf&#39;\t\r\nSystem info: host: &#39;fv-az1028-100&#39;, ip: &#39;10.1.0.192&#39;, os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;5.15.0-1033-azure&#39;, java.version: &#39;19.0.2&#39;\t\r\nDriver info: org.openqa.selenium.chrome.ChromeDriver\t\r\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 110.0.5481.177, chrome: {chromedriverVersion: 110.0.5481.77 (65ed616c6e8e..., userDataDir: /tmp/.com.google.Chrome.Mh8RwC}, goog:chromeOptions: {debuggerAddress: localhost:42651}, javascriptEnabled: true, networkConnectionEnabled: false, pageLoadStrategy: normal, platform: LINUX, platformName: LINUX, proxy: Proxy(), se:cdp: ws://localhost:42651/devtoo..., se:cdpVersion: 110.0.5481.177, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:virtualAuthenticators: true}\t\r\nSession ID: ca87e954431ab0747fceab555c07e562\r\n```\r\n\r\nFrom what I can tell, the error keeps happening when Selenium is trying to log into SSO and can&#39;t get past this page to be directed to the site that I am working on. I have been able to get this to work just fine locally on my machine. This also is not an issue when Selenium isn&#39;t directed to log into our SSO. I have been able to get the scripts to work just fine when directing to a site without our SSO.\r\n\r\nI am not sure if it is an issue with how I set up my gradle.yml file or need to do something different with how I wrote the Selenium test file. ","title":"Gradle with Selenium Testing failing in Github Actions but passing locally","body":"<p>I am currently working on trying to connect Selenium automation scripts to be run using Github action. I decided on using Gradle from how easy it looked to use when running these Selenium tests locally and in Github actions. I have been able to get these Selenium tests to work just fine locally using <code>./gradlew test</code>. I have also been writing all of this using Visual Studio Code.</p>\n<p>Here is my gradle.yml:</p>\n<pre><code>name: Java CI with Gradle\n\non:\n  push:\n    branches: [&quot;dev&quot;]\n  pull_request:\n    branches: [&quot;dev&quot;]\n\npermissions:\n  contents: read\n\njobs:\n  build:\n    runs-on: ubuntu-latest\n\n    steps:\n      - uses: actions/checkout@v3\n      - name: Set up JDK 19\n        uses: actions/setup-java@v3\n        with:\n          java-version: &quot;19&quot;\n          distribution: &quot;temurin&quot;\n      - name: Grant execute permission for gradlew\n        run: chmod +x gradlew\n      - name: Build with Gradle\n        run: ./gradlew clean test\n</code></pre>\n<p>Here is my build.gradle file:</p>\n<pre><code>/*\n * This file was generated by the Gradle 'init' task.\n *\n * This is a general purpose Gradle build.\n * Learn more about Gradle by exploring our samples at https://docs.gradle.org/8.0.1/samples\n * This project uses @Incubating APIs which are subject to change.\n */\nplugins {\n    id 'java'\n}\n\nrepositories {\n    jcenter()\n}\n\ndependencies {\n    testImplementation 'junit:junit:4.13'\n    implementation 'org.seleniumhq.selenium:selenium-java:4.1.1'\n    testImplementation(&quot;io.github.bonigarcia:webdrivermanager:5.3.2&quot;)\n}\n</code></pre>\n<p>settings.gradle file:</p>\n<pre><code>/*\n * This file was generated by the Gradle 'init' task.\n *\n * The settings file is used to specify which projects to include in your build.\n *\n * Detailed information about configuring a multi-project build in Gradle can be found\n * in the user manual at https://docs.gradle.org/8.0.1/userguide/multi_project_builds.html\n * This project uses @Incubating APIs which are subject to change.\n */\nplugins {\n    id(&quot;com.gradle.enterprise&quot;) version(&quot;3.9&quot;)\n}\n\ngradleEnterprise {\n    if (System.getenv(&quot;CI&quot;) != null) {\n        buildScan {\n            publishAlways()\n            termsOfServiceUrl = &quot;https://gradle.com/terms-of-service&quot;\n            termsOfServiceAgree = &quot;yes&quot;\n        }\n    }\n}\n\nrootProject.name = 'it-mendix-ci-kaizen-events'\n</code></pre>\n<p>And my Selenium java file:</p>\n<pre><code>import org.junit.*;\nimport java.util.concurrent.TimeUnit;\nimport java.lang.Thread;\nimport java.io.*;\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.firefox.FirefoxDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.remote.RemoteWebDriver;\nimport org.openqa.selenium.remote.DesiredCapabilities;\nimport org.openqa.selenium.Dimension;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.interactions.Actions;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.WebDriverWait;\nimport org.openqa.selenium.JavascriptExecutor;\nimport org.openqa.selenium.Alert;\nimport org.openqa.selenium.Keys;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.WebDriverWait;\nimport org.openqa.selenium.chrome.ChromeOptions;\nimport org.openqa.selenium.WindowType;\nimport io.github.bonigarcia.wdm.WebDriverManager;\n\n\nimport static org.hamcrest.CoreMatchers.containsString;\nimport static org.hamcrest.MatcherAssert.assertThat;\nimport static org.hamcrest.CoreMatchers.is;\nimport static org.hamcrest.core.IsNot.not;\n\npublic class CIHomePage {\n\n    private WebDriver driver;\n\n    @BeforeClass\n    public static void setupWebdriverChromeDriver() {\n        WebDriverManager.chromedriver().setup();\n    }\n\n    @Before\n    public void setup() {\n        ChromeOptions options = new ChromeOptions();\n        options.addArguments(&quot;--headless&quot;, &quot;--disable-gpu&quot;, &quot;--window-size=1920,1200&quot;,&quot;--ignore-certificate-errors&quot;,&quot;--disable-extensions&quot;,&quot;--no-sandbox&quot;,&quot;--disable-dev-shm-usage&quot;);\n        driver = new ChromeDriver(options);\n        driver.manage().window().maximize();\n        driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\n    }\n\n    @After\n    public void teardown() {\n        if (driver != null) {\n            driver.quit();\n        }\n    }\n\n    @Test\n    public void homePageTitle() throws InterruptedException{\n        WebDriverWait wait = new WebDriverWait (driver, 45);\n        driver.get(&quot;https://notarealurl.com&quot;);\n        driver.findElement(By.id(&quot;Ecom_Password&quot;)).sendKeys(&quot;notarealpassword&quot;);\n        driver.findElement(By.id(&quot;Ecom_User_ID&quot;)).sendKeys(&quot;notarealusername&quot;);\n        driver.findElement(By.id(&quot;loginButton2&quot;)).click();\n        wait.until(ExpectedConditions.titleIs(&quot;Continuous Improvement - Event Name Overview&quot;));\n\n    }\n\n}\n</code></pre>\n<p>When these test run in Github actions I receive this error.</p>\n<pre><code>Exception\norg.openqa.selenium.TimeoutException: Expected condition failed: waiting for title to be &quot;Continuous Improvement - Event Name Overview&quot;. Current title: &quot;Access Manager&quot; (tried for 45 second(s) with 500 milliseconds interval)    \nBuild info: version: '4.1.1', revision: 'e8fcc2cecf'    \nSystem info: host: 'fv-az1028-100', ip: '10.1.0.192', os.name: 'Linux', os.arch: 'amd64', os.version: '5.15.0-1033-azure', java.version: '19.0.2'   \nDriver info: org.openqa.selenium.chrome.ChromeDriver    \nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 110.0.5481.177, chrome: {chromedriverVersion: 110.0.5481.77 (65ed616c6e8e..., userDataDir: /tmp/.com.google.Chrome.Mh8RwC}, goog:chromeOptions: {debuggerAddress: localhost:42651}, javascriptEnabled: true, networkConnectionEnabled: false, pageLoadStrategy: normal, platform: LINUX, platformName: LINUX, proxy: Proxy(), se:cdp: ws://localhost:42651/devtoo..., se:cdpVersion: 110.0.5481.177, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:virtualAuthenticators: true}  \nSession ID: ca87e954431ab0747fceab555c07e562\n</code></pre>\n<p>From what I can tell, the error keeps happening when Selenium is trying to log into SSO and can't get past this page to be directed to the site that I am working on. I have been able to get this to work just fine locally on my machine. This also is not an issue when Selenium isn't directed to log into our SSO. I have been able to get the scripts to work just fine when directing to a site without our SSO.</p>\n<p>I am not sure if it is an issue with how I set up my gradle.yml file or need to do something different with how I wrote the Selenium test file.</p>\n"},{"tags":["java","json","spring-boot","jackson"],"answers":[{"tags":[],"owner":{"account_id":9596641,"reputation":873,"user_id":7125557,"display_name":"dimirsen Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677745378,"creation_date":1677745378,"answer_id":75612883,"question_id":75612176,"body_markdown":"You need to escape the slashes when you provide a json string with nested json programatically - add a slash and escape it at once, that makes nested quotes have 3 slashes:\r\n    \r\n    final String nestedErrorResponse = &quot;{\\&quot;errormessage\\&quot;:\\&quot;{\\\\\\&quot;timestamp\\\\\\&quot;:\\\\\\&quot;2021-10- 19T07:57:35.205+0000\\\\\\&quot;,\\\\\\&quot;status\\\\\\&quot;:400,\\\\\\&quot;error\\\\\\&quot;:\\\\\\&quot;Bad Request\\\\\\&quot;,\\&quot;message\\\\\\&quot;:\\\\\\&quot;Bad Request: xxxx xx is xx xxx. path\\u003d/xxx/xxx\\\\\\&quot;,\\\\\\&quot;path\\&quot;:\\\\\\&quot;/xxxx /xxx\\\\\\&quot;}\\&quot;}&quot;;\r\n    \r\nI use Intellij Idea and whrn I copy a json string into another string, it adds the proper number of slashes automatically.\r\n","title":"Can not deserialize JSON with json string inside","body":"<p>You need to escape the slashes when you provide a json string with nested json programatically - add a slash and escape it at once, that makes nested quotes have 3 slashes:</p>\n<pre><code>final String nestedErrorResponse = &quot;{\\&quot;errormessage\\&quot;:\\&quot;{\\\\\\&quot;timestamp\\\\\\&quot;:\\\\\\&quot;2021-10- 19T07:57:35.205+0000\\\\\\&quot;,\\\\\\&quot;status\\\\\\&quot;:400,\\\\\\&quot;error\\\\\\&quot;:\\\\\\&quot;Bad Request\\\\\\&quot;,\\&quot;message\\\\\\&quot;:\\\\\\&quot;Bad Request: xxxx xx is xx xxx. path\\u003d/xxx/xxx\\\\\\&quot;,\\\\\\&quot;path\\&quot;:\\\\\\&quot;/xxxx /xxx\\\\\\&quot;}\\&quot;}&quot;;\n</code></pre>\n<p>I use Intellij Idea and whrn I copy a json string into another string, it adds the proper number of slashes automatically.</p>\n"},{"tags":[],"owner":{"account_id":27635017,"reputation":43,"user_id":21093121,"display_name":"ARNR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678127755,"creation_date":1677745727,"answer_id":75612938,"question_id":75612176,"body_markdown":"Can you convert your JSON data as shown below and test your code, hopefully, this will help you to fix the issue. I usually test my JSON data in online Json data validator t. ex https://jsonformatter.curiousconcept.com/#\r\n```\r\n   &quot;errormessage&quot;:{\r\n      &quot;timestamp&quot;:&quot;2021-10- 19T07:57:35.205+0000&quot;,\r\n      &quot;status&quot;:400,\r\n      &quot;error&quot;:&quot;Bad Request&quot;,\r\n      &quot;message&quot;:&quot;Bad Request: xxxx xxx xxx xxx xxx. path\\\\\\u003d/xxx/verify&quot;,\r\n      &quot;path&quot;:&quot;/xxx /xxx&quot;\r\n   }\r\n```","title":"Can not deserialize JSON with json string inside","body":"<p>Can you convert your JSON data as shown below and test your code, hopefully, this will help you to fix the issue. I usually test my JSON data in online Json data validator t. ex <a href=\"https://jsonformatter.curiousconcept.com/#\" rel=\"nofollow noreferrer\">https://jsonformatter.curiousconcept.com/#</a></p>\n<pre><code>   &quot;errormessage&quot;:{\n      &quot;timestamp&quot;:&quot;2021-10- 19T07:57:35.205+0000&quot;,\n      &quot;status&quot;:400,\n      &quot;error&quot;:&quot;Bad Request&quot;,\n      &quot;message&quot;:&quot;Bad Request: xxxx xxx xxx xxx xxx. path\\\\\\u003d/xxx/verify&quot;,\n      &quot;path&quot;:&quot;/xxx /xxx&quot;\n   }\n</code></pre>\n"}],"owner":{"account_id":12051589,"reputation":1279,"user_id":8814332,"display_name":"Risalat Zaman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75612883,"answer_count":2,"score":1,"last_activity_date":1678127755,"creation_date":1677740303,"question_id":75612176,"body_markdown":"I have a json like below. The x&#39;s are there to omit sensitive data\r\n\r\n    {&quot;errormessage&quot;:&quot;{\\&quot;timestamp\\&quot;:\\&quot;2021-10- 19T07:57:35.205+0000\\&quot;,\\&quot;status\\&quot;:400,\\&quot;error\\&quot;:\\ &quot;Bad Request\\&quot;,\\&quot;message\\&quot;:\\&quot;Bad Request: xxxx xxx xxx xxx xxx. path\\u003d/xxx/verify\\&quot;,\\&quot;path\\&quot;:\\&quot;/xxx /xxx\\&quot;}&quot;}\r\n\r\n\r\nI am trying to deserialize this json into the class below\r\n\r\n    public class TransferResponse {\r\n\r\n     private Optional&lt;String&gt; timeStamp = Optional.empty();\r\n     private Optional&lt;String&gt; status = Optional.empty();\r\n     private Optional&lt;String&gt; error = Optional.empty();\r\n\r\n     @JsonAlias(value = {&quot;errorMessage&quot;, &quot;errormessage&quot;})\r\n     private Optional&lt;String&gt; message = Optional.empty();\r\n     private Optional&lt;String&gt; path = Optional.empty();\r\n    \r\n    }\r\n\r\nThey way I am trying to deserialize it is given below\r\n\r\n \r\n\r\n    final ObjectMapper objectMapper = new ObjectMapper();\r\n    objectMapper.registerModule(new Jdk8Module());\r\n    \r\n    final String nestedErrorResponse = &quot;{\\&quot;errormessage\\&quot;:\\&quot;{\\&quot;timestamp\\&quot;:\\&quot;2021-10- 19T07:57:35.205+0000\\&quot;,\\&quot;status\\&quot;:400,\\&quot;error\\&quot;:\\&quot;Bad Request\\&quot;,\\&quot;message\\&quot;:\\&quot;Bad Request: xxxx xx is xx xxx. path\\u003d/xxx/xxx\\&quot;,\\&quot;path\\&quot;:\\&quot;/xxxx /xxx\\&quot;}\\&quot;}&quot;;\r\n\r\n    TransferResponse responseObject = objectMapper.readValue(nestedErrorResponse, TransferResponse.class);\r\n\r\nBut I am getting an exception like below\r\n\r\n    Unexpected character (&#39;t&#39; (code 116)): was expecting comma to separate Object entries\r\n     at [Source: (String)&quot;{&quot;errormessage&quot;:&quot;{&quot;timestamp&quot;:&quot;2021-10- 19T07:57:35.205+0000&quot;,&quot;status&quot;:400,&quot;error&quot;:&quot;Bad Request&quot;,&quot;message&quot;:&quot;Bad Request: xxxx xx is xx xxx. path=/xxxxx/verify&quot;,&quot;path&quot;:&quot;/xxxxx /xxxxx&quot;}&quot;}&quot;; line: 1, column: 21]\r\n\r\nI want to be able to read the value against errormessage as string. Could anyone help me with this?  \r\n\r\n","title":"Can not deserialize JSON with json string inside","body":"<p>I have a json like below. The x's are there to omit sensitive data</p>\n<pre><code>{&quot;errormessage&quot;:&quot;{\\&quot;timestamp\\&quot;:\\&quot;2021-10- 19T07:57:35.205+0000\\&quot;,\\&quot;status\\&quot;:400,\\&quot;error\\&quot;:\\ &quot;Bad Request\\&quot;,\\&quot;message\\&quot;:\\&quot;Bad Request: xxxx xxx xxx xxx xxx. path\\u003d/xxx/verify\\&quot;,\\&quot;path\\&quot;:\\&quot;/xxx /xxx\\&quot;}&quot;}\n</code></pre>\n<p>I am trying to deserialize this json into the class below</p>\n<pre><code>public class TransferResponse {\n\n private Optional&lt;String&gt; timeStamp = Optional.empty();\n private Optional&lt;String&gt; status = Optional.empty();\n private Optional&lt;String&gt; error = Optional.empty();\n\n @JsonAlias(value = {&quot;errorMessage&quot;, &quot;errormessage&quot;})\n private Optional&lt;String&gt; message = Optional.empty();\n private Optional&lt;String&gt; path = Optional.empty();\n\n}\n</code></pre>\n<p>They way I am trying to deserialize it is given below</p>\n<pre><code>final ObjectMapper objectMapper = new ObjectMapper();\nobjectMapper.registerModule(new Jdk8Module());\n\nfinal String nestedErrorResponse = &quot;{\\&quot;errormessage\\&quot;:\\&quot;{\\&quot;timestamp\\&quot;:\\&quot;2021-10- 19T07:57:35.205+0000\\&quot;,\\&quot;status\\&quot;:400,\\&quot;error\\&quot;:\\&quot;Bad Request\\&quot;,\\&quot;message\\&quot;:\\&quot;Bad Request: xxxx xx is xx xxx. path\\u003d/xxx/xxx\\&quot;,\\&quot;path\\&quot;:\\&quot;/xxxx /xxx\\&quot;}\\&quot;}&quot;;\n\nTransferResponse responseObject = objectMapper.readValue(nestedErrorResponse, TransferResponse.class);\n</code></pre>\n<p>But I am getting an exception like below</p>\n<pre><code>Unexpected character ('t' (code 116)): was expecting comma to separate Object entries\n at [Source: (String)&quot;{&quot;errormessage&quot;:&quot;{&quot;timestamp&quot;:&quot;2021-10- 19T07:57:35.205+0000&quot;,&quot;status&quot;:400,&quot;error&quot;:&quot;Bad Request&quot;,&quot;message&quot;:&quot;Bad Request: xxxx xx is xx xxx. path=/xxxxx/verify&quot;,&quot;path&quot;:&quot;/xxxxx /xxxxx&quot;}&quot;}&quot;; line: 1, column: 21]\n</code></pre>\n<p>I want to be able to read the value against errormessage as string. Could anyone help me with this?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1677754955,"post_id":75614516,"comment_id":133402079,"body_markdown":"Please give us the log after reproducing the error page. I also think the @RequestMapping takes a value instead of path as parameter","body":"Please give us the log after reproducing the error page. I also think the @RequestMapping takes a value instead of path as parameter"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1677755235,"post_id":75614516,"comment_id":133402154,"body_markdown":"@grekier you can use either.","body":"@grekier you can use either."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1677755439,"post_id":75614516,"comment_id":133402213,"body_markdown":"File path is not really relevant. What *packages* are these things in, and is the controller definitely on the classpath?","body":"File path is not really relevant. What <i>packages</i> are these things in, and is the controller definitely on the classpath?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1677755842,"post_id":75614516,"comment_id":133402332,"body_markdown":"You need to add your log output to your question, and check that `StudentController` is being instantiated.","body":"You need to add your log output to your question, and check that <code>StudentController</code> is being instantiated."},{"owner":{"account_id":12804526,"reputation":1368,"user_id":9264713,"display_name":"Bahij.Mik"},"score":0,"creation_date":1677764046,"post_id":75614516,"comment_id":133404643,"body_markdown":"Also include your application.properties, maybe it contains the context path set","body":"Also include your application.properties, maybe it contains the context path set"},{"owner":{"account_id":24766666,"reputation":193,"user_id":18650474,"display_name":"Peek0"},"score":0,"creation_date":1677764174,"post_id":75614516,"comment_id":133404693,"body_markdown":"Added in the packages, how do I check if StudentController is being instantiated?","body":"Added in the packages, how do I check if StudentController is being instantiated?"},{"owner":{"account_id":24766666,"reputation":193,"user_id":18650474,"display_name":"Peek0"},"score":0,"creation_date":1677764194,"post_id":75614516,"comment_id":133404700,"body_markdown":"My application.properties is currently empty!","body":"My application.properties is currently empty!"},{"owner":{"account_id":12804526,"reputation":1368,"user_id":9264713,"display_name":"Bahij.Mik"},"score":0,"creation_date":1677764312,"post_id":75614516,"comment_id":133404746,"body_markdown":"Can you add your module structure?","body":"Can you add your module structure?"},{"owner":{"account_id":24766666,"reputation":193,"user_id":18650474,"display_name":"Peek0"},"score":0,"creation_date":1677766000,"post_id":75614516,"comment_id":133405297,"body_markdown":"Have added module structure in.","body":"Have added module structure in."},{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1677770296,"post_id":75614516,"comment_id":133406681,"body_markdown":"Please, add `logging.level.org.springframework.web=DEBUG` to your `application.properties` file and update the trace in your question. I kind of suspect","body":"Please, add <code>logging.level.org.springframework.web=DEBUG</code> to your <code>application.properties</code> file and update the trace in your question. I kind of suspect"},{"owner":{"account_id":24766666,"reputation":193,"user_id":18650474,"display_name":"Peek0"},"score":0,"creation_date":1677770922,"post_id":75614516,"comment_id":133406875,"body_markdown":"Added and updated trace!","body":"Added and updated trace!"},{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1677771297,"post_id":75614516,"comment_id":133407020,"body_markdown":"Oops, I didn&#39;t finish writing my comment but didn&#39;t notice haha. I also wanted to see the trace after you hit your `/test/get` endpoint. This is because, after trying your code on my machine worked first try. The extra bit in application properties should give you more info about how the app handled the request.","body":"Oops, I didn&#39;t finish writing my comment but didn&#39;t notice haha. I also wanted to see the trace after you hit your <code>&#47;test&#47;get</code> endpoint. This is because, after trying your code on my machine worked first try. The extra bit in application properties should give you more info about how the app handled the request."},{"owner":{"account_id":24766666,"reputation":193,"user_id":18650474,"display_name":"Peek0"},"score":0,"creation_date":1677771487,"post_id":75614516,"comment_id":133407087,"body_markdown":"Honestly, I have no clue why it does not work on my side at all. Everything seems to be right inline with what tutorials and past projects show. If I were to use the @RestController, @RequestMapping inside my `Service.java` file, the mapping works. This makes me think this could be something with how SpringBoot does not scan the controller file, but my file directory / setup looks correct too.","body":"Honestly, I have no clue why it does not work on my side at all. Everything seems to be right inline with what tutorials and past projects show. If I were to use the @RestController, @RequestMapping inside my <code>Service.java</code> file, the mapping works. This makes me think this could be something with how SpringBoot does not scan the controller file, but my file directory / setup looks correct too."},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1677774178,"post_id":75614516,"comment_id":133407974,"body_markdown":"You can list all instantiated beans with localhost:8080/actuator/beans. More here: https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html#actuator.endpoints","body":"You can list all instantiated beans with localhost:8080/actuator/beans. More here: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html#actuator.endpoints\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4576970,"reputation":62,"user_id":3715178,"display_name":"selim.aksoy"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677960706,"creation_date":1677760299,"answer_id":75615457,"question_id":75614516,"body_markdown":"try to use \r\n@GetMapping(value = {&quot;/api/v1/get-report&quot;}) \r\n\r\nRegards,","title":"Springboot does not seem to pick up on this endpoint","body":"<p>try to use\n@GetMapping(value = {&quot;/api/v1/get-report&quot;})</p>\n<p>Regards,</p>\n"},{"tags":[],"owner":{"account_id":27914600,"reputation":21,"user_id":21316023,"display_name":"Ruslan Valeev"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1678127707,"creation_date":1677760703,"answer_id":75615523,"question_id":75614516,"body_markdown":"try to use `@RequestMapping(&quot;/test&quot;)` instead of `@RequestMapping(path=&quot;/test&quot;)`","title":"Springboot does not seem to pick up on this endpoint","body":"<p>try to use <code>@RequestMapping(&quot;/test&quot;)</code> instead of <code>@RequestMapping(path=&quot;/test&quot;)</code></p>\n"},{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677768780,"creation_date":1677767459,"answer_id":75616875,"question_id":75614516,"body_markdown":"The packages (modules) structure and the files (directories) structure must be the same. You need to move the java files accordingly.\r\n\r\nFor example:\r\n\r\ndemo/Service.java move to src/main/java/com/clubmgmt/clubmgmtstudentservice/\r\n\r\nAs a general rule: avoid modifying the package with just editing the source file. Most IDE have a function &quot;Move Class&quot; doing both - modifying the package and moving the file.","title":"Springboot does not seem to pick up on this endpoint","body":"<p>The packages (modules) structure and the files (directories) structure must be the same. You need to move the java files accordingly.</p>\n<p>For example:</p>\n<p>demo/Service.java move to src/main/java/com/clubmgmt/clubmgmtstudentservice/</p>\n<p>As a general rule: avoid modifying the package with just editing the source file. Most IDE have a function &quot;Move Class&quot; doing both - modifying the package and moving the file.</p>\n"},{"tags":[],"owner":{"account_id":24766666,"reputation":193,"user_id":18650474,"display_name":"Peek0"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677813286,"creation_date":1677813286,"answer_id":75622852,"question_id":75614516,"body_markdown":"I have found the problem. TL:DR, one of my parent directories (in this case, my desktop username) had a SPACE in it like `01 Github` which got converted into `01%20Github`. Upon enabling `logging.level.org.springframework=DEBUG` under `application.properties` I saw the following error\r\n```\r\n[D:\\01.%20GitHub\\esdproject\\studentservice\\target\\classes\\com\\clubmgmt\\studentservice] for files matching pattern [**/*.class]: java.nio.file.NoSuchFileException: D:\\01.%20GitHub\\esdproject\\studentservice\\target\\classes\\com\\clubmgmt\\studentservice\r\n```\r\n\r\nThis made me check and realise that the space was not being recognized correctly. I move everything to a folder with no spaces and it works now. Not really sure how it worked with my previous projects, could be a newer version of Springboot that parsed the space different or something.\r\n\r\nPlease avoid spaces they are the devil.","title":"Springboot does not seem to pick up on this endpoint","body":"<p>I have found the problem. TL:DR, one of my parent directories (in this case, my desktop username) had a SPACE in it like <code>01 Github</code> which got converted into <code>01%20Github</code>. Upon enabling <code>logging.level.org.springframework=DEBUG</code> under <code>application.properties</code> I saw the following error</p>\n<pre><code>[D:\\01.%20GitHub\\esdproject\\studentservice\\target\\classes\\com\\clubmgmt\\studentservice] for files matching pattern [**/*.class]: java.nio.file.NoSuchFileException: D:\\01.%20GitHub\\esdproject\\studentservice\\target\\classes\\com\\clubmgmt\\studentservice\n</code></pre>\n<p>This made me check and realise that the space was not being recognized correctly. I move everything to a folder with no spaces and it works now. Not really sure how it worked with my previous projects, could be a newer version of Springboot that parsed the space different or something.</p>\n<p>Please avoid spaces they are the devil.</p>\n"}],"owner":{"account_id":24766666,"reputation":193,"user_id":18650474,"display_name":"Peek0"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":459,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75622852,"answer_count":4,"score":0,"last_activity_date":1678127707,"creation_date":1677754662,"question_id":75614516,"body_markdown":"I currently have two files. The first file is simple `Service.java` which contains the following code in the file path `demo/Service.java` \r\n```\r\npackage com.clubmgmt.clubmgmtstudentservice;\r\n\r\n@SpringBootApplication\r\npublic class Service {\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(Service.class, args);\r\n\t}\r\n}\r\n```\r\n\r\nMy second file `StudentController.java` belongs in the file path `demo/student/StudentController.java` and contains\r\n```\r\npackage com.clubmgmt.clubmgmtstudentservice.student;\r\n\r\n@RestController\r\n@RequestMapping(path=&quot;/test&quot;)\r\npublic class StudentController {\r\n    @GetMapping(&quot;/get&quot;) //Root page\r\n    public List&lt;String&gt; getStudents() {\r\n        return List.of(&quot;Please&quot;, &quot;Work&quot;);\r\n        \r\n    }\r\n```\r\nHowever, accessing `localhost:8080/test/get` seems to still give me a whitelabel error page. I have tried to resolve the issues but everything seems to be in order. When i run the springboot application from `Service.java`, there seems to be no error either. The route shows up under the EndpointMappings of a VSCODE plugin as well. \r\nThis is the SpringBoot logs when running the application\r\n```\r\n D:\\01. GitHub\\personal-archive\\schoolRelated\\esd-project\\ESDGroup2\\club-mgmt-student-service&gt; D: &amp;&amp; cd &quot;D:\\01. GitHub\\personal-archive\\schoolRelated\\esd-project\\ESDGroup2\\club-mgmt-student-service&quot; &amp;&amp; cmd /C &quot;&quot;C:\\Program Files\\Java\\jdk-19\\bin\\java.exe&quot; @C:\\Users\\limxu\\AppData\\Local\\Temp\\cp_dbr9avx6o54yics09eig13usu.argfile com.clubmgmt.clubmgmtstudentservice.ClubMgmtStudentServiceApplication &quot;\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v3.0.3)\r\n\r\n2023-03-02T23:26:20.845+08:00  INFO 20340 --- [           main] c.c.c.ClubMgmtStudentServiceApplication  : Starting ClubMgmtStudentServiceApplication using Java 19.0.1 with PID 20340 (D:\\01. GitHub\\personal-archive\\schoolRelated\\esd-project\\ESDGroup2\\club-mgmt-student-service\\target\\classes started by limxu in D:\\01. GitHub\\personal-archive\\schoolRelated\\esd-project\\ESDGroup2\\club-mgmt-student-service)\r\n2023-03-02T23:26:20.850+08:00  INFO 20340 --- [           main] c.c.c.ClubMgmtStudentServiceApplication  : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-03-02T23:26:22.490+08:00  INFO 20340 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2023-03-02T23:26:22.504+08:00  INFO 20340 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-03-02T23:26:22.504+08:00  INFO 20340 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.5]\r\n2023-03-02T23:26:22.601+08:00  INFO 20340 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-03-02T23:26:22.602+08:00  INFO 20340 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1648 ms\r\n2023-03-02T23:26:22.772+08:00 DEBUG 20340 --- [           main] o.s.w.f.ServerHttpObservationFilter      : Filter &#39;serverHttpObservationFilter&#39; configured for use\r\n2023-03-02T23:26:22.943+08:00 DEBUG 20340 --- [           main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice\r\n2023-03-02T23:26:23.080+08:00 DEBUG 20340 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 mappings in &#39;requestMappingHandlerMapping&#39;\r\n2023-03-02T23:26:23.116+08:00 DEBUG 20340 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in &#39;resourceHandlerMapping&#39;\r\n2023-03-02T23:26:23.130+08:00 DEBUG 20340 --- [           main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice\r\n2023-03-02T23:26:23.456+08:00  INFO 20340 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path &#39;/actuator&#39;\r\n2023-03-02T23:26:23.558+08:00  INFO 20340 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n2023-03-02T23:26:23.580+08:00  INFO 20340 --- [           main] c.c.c.ClubMgmtStudentServiceApplication  : Started ClubMgmtStudentServiceApplication in 3.389 seconds (process running for 3.867)\r\n2023-03-02T23:26:23.948+08:00  INFO 20340 --- [on(3)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n2023-03-02T23:26:23.949+08:00  INFO 20340 --- [on(3)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n2023-03-02T23:26:23.949+08:00 DEBUG 20340 --- [on(3)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver\r\n2023-03-02T23:26:23.950+08:00 DEBUG 20340 --- [on(3)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver\r\n2023-03-02T23:26:23.952+08:00 DEBUG 20340 --- [on(3)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver\r\n2023-03-02T23:26:23.954+08:00 DEBUG 20340 --- [on(3)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@5a346d64\r\n2023-03-02T23:26:23.955+08:00 DEBUG 20340 --- [on(3)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@1aff1d9c   \r\n2023-03-02T23:26:23.956+08:00 DEBUG 20340 --- [on(3)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails=&#39;false&#39;: request parameters and headers will be masked \r\nto prevent unsafe logging of potentially sensitive data\r\n2023-03-02T23:26:23.958+08:00  INFO 20340 --- [on(3)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms\r\n```\r\n\r\nThe error I am getting when trying to access `localhost:8080/test/get` is below\r\n```\r\nWhitelabel Error Page\r\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n\r\nThu Mar 02 21:34:54 SGT 2023\r\nThere was an unexpected error (type=Not Found, status=404).\r\n```\r\n\r\nModule Structure is as follows\r\n```\r\nsrc/\r\n|__main/\r\n   |___java/\r\n      |___com/\r\n          |___clubmgmt/\r\n               |__clubmgmtstudentservice/\r\n                  |__Service.java\r\n                  |__student/\r\n                     |__StudentController.java\r\n                     |__Student.java\r\n\r\n\r\n```","title":"Springboot does not seem to pick up on this endpoint","body":"<p>I currently have two files. The first file is simple <code>Service.java</code> which contains the following code in the file path <code>demo/Service.java</code></p>\n<pre><code>package com.clubmgmt.clubmgmtstudentservice;\n\n@SpringBootApplication\npublic class Service {\n    public static void main(String[] args) {\n        SpringApplication.run(Service.class, args);\n    }\n}\n</code></pre>\n<p>My second file <code>StudentController.java</code> belongs in the file path <code>demo/student/StudentController.java</code> and contains</p>\n<pre><code>package com.clubmgmt.clubmgmtstudentservice.student;\n\n@RestController\n@RequestMapping(path=&quot;/test&quot;)\npublic class StudentController {\n    @GetMapping(&quot;/get&quot;) //Root page\n    public List&lt;String&gt; getStudents() {\n        return List.of(&quot;Please&quot;, &quot;Work&quot;);\n        \n    }\n</code></pre>\n<p>However, accessing <code>localhost:8080/test/get</code> seems to still give me a whitelabel error page. I have tried to resolve the issues but everything seems to be in order. When i run the springboot application from <code>Service.java</code>, there seems to be no error either. The route shows up under the EndpointMappings of a VSCODE plugin as well.\nThis is the SpringBoot logs when running the application</p>\n<pre><code> D:\\01. GitHub\\personal-archive\\schoolRelated\\esd-project\\ESDGroup2\\club-mgmt-student-service&gt; D: &amp;&amp; cd &quot;D:\\01. GitHub\\personal-archive\\schoolRelated\\esd-project\\ESDGroup2\\club-mgmt-student-service&quot; &amp;&amp; cmd /C &quot;&quot;C:\\Program Files\\Java\\jdk-19\\bin\\java.exe&quot; @C:\\Users\\limxu\\AppData\\Local\\Temp\\cp_dbr9avx6o54yics09eig13usu.argfile com.clubmgmt.clubmgmtstudentservice.ClubMgmtStudentServiceApplication &quot;\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.0.3)\n\n2023-03-02T23:26:20.845+08:00  INFO 20340 --- [           main] c.c.c.ClubMgmtStudentServiceApplication  : Starting ClubMgmtStudentServiceApplication using Java 19.0.1 with PID 20340 (D:\\01. GitHub\\personal-archive\\schoolRelated\\esd-project\\ESDGroup2\\club-mgmt-student-service\\target\\classes started by limxu in D:\\01. GitHub\\personal-archive\\schoolRelated\\esd-project\\ESDGroup2\\club-mgmt-student-service)\n2023-03-02T23:26:20.850+08:00  INFO 20340 --- [           main] c.c.c.ClubMgmtStudentServiceApplication  : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-03-02T23:26:22.490+08:00  INFO 20340 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2023-03-02T23:26:22.504+08:00  INFO 20340 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-03-02T23:26:22.504+08:00  INFO 20340 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.5]\n2023-03-02T23:26:22.601+08:00  INFO 20340 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-03-02T23:26:22.602+08:00  INFO 20340 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1648 ms\n2023-03-02T23:26:22.772+08:00 DEBUG 20340 --- [           main] o.s.w.f.ServerHttpObservationFilter      : Filter 'serverHttpObservationFilter' configured for use\n2023-03-02T23:26:22.943+08:00 DEBUG 20340 --- [           main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice\n2023-03-02T23:26:23.080+08:00 DEBUG 20340 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 mappings in 'requestMappingHandlerMapping'\n2023-03-02T23:26:23.116+08:00 DEBUG 20340 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'\n2023-03-02T23:26:23.130+08:00 DEBUG 20340 --- [           main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice\n2023-03-02T23:26:23.456+08:00  INFO 20340 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'\n2023-03-02T23:26:23.558+08:00  INFO 20340 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2023-03-02T23:26:23.580+08:00  INFO 20340 --- [           main] c.c.c.ClubMgmtStudentServiceApplication  : Started ClubMgmtStudentServiceApplication in 3.389 seconds (process running for 3.867)\n2023-03-02T23:26:23.948+08:00  INFO 20340 --- [on(3)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2023-03-02T23:26:23.949+08:00  INFO 20340 --- [on(3)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2023-03-02T23:26:23.949+08:00 DEBUG 20340 --- [on(3)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver\n2023-03-02T23:26:23.950+08:00 DEBUG 20340 --- [on(3)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver\n2023-03-02T23:26:23.952+08:00 DEBUG 20340 --- [on(3)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver\n2023-03-02T23:26:23.954+08:00 DEBUG 20340 --- [on(3)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@5a346d64\n2023-03-02T23:26:23.955+08:00 DEBUG 20340 --- [on(3)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@1aff1d9c   \n2023-03-02T23:26:23.956+08:00 DEBUG 20340 --- [on(3)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked \nto prevent unsafe logging of potentially sensitive data\n2023-03-02T23:26:23.958+08:00  INFO 20340 --- [on(3)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms\n</code></pre>\n<p>The error I am getting when trying to access <code>localhost:8080/test/get</code> is below</p>\n<pre><code>Whitelabel Error Page\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\n\nThu Mar 02 21:34:54 SGT 2023\nThere was an unexpected error (type=Not Found, status=404).\n</code></pre>\n<p>Module Structure is as follows</p>\n<pre><code>src/\n|__main/\n   |___java/\n      |___com/\n          |___clubmgmt/\n               |__clubmgmtstudentservice/\n                  |__Service.java\n                  |__student/\n                     |__StudentController.java\n                     |__Student.java\n\n\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot","spring-data-jpa","abstract-class"],"answers":[{"tags":[],"owner":{"account_id":27841084,"reputation":1,"user_id":21257560,"display_name":"JJ_Back"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678127696,"creation_date":1678127696,"answer_id":75654585,"question_id":72097945,"body_markdown":"Check if any of the following will work:\r\n\r\n1. Remove JsonSubTypes and JsonTypeInfo annotations\r\n\r\n2. Check if your classes inheriting from &quot;Vehicle&quot; do not contain @TypeAlias(&quot;Car/Moto&quot;) annotation - the value given there overrides the &quot;_class&quot; field in the default MongoTemplate configuration.\r\n\r\n3. Download the problematic record from the MongoDb database and make sure that the &quot;_class&quot; field contains the correct (full) classpath for Car/Motorcycle classes.\r\n\r\n4. You can try the collection name in the @Document annotation\r\n\r\n5. Update drivers and libraries related to Mongo.","title":"Use abstract class as field in mongodb with Spring Data Java","body":"<p>Check if any of the following will work:</p>\n<ol>\n<li><p>Remove JsonSubTypes and JsonTypeInfo annotations</p>\n</li>\n<li><p>Check if your classes inheriting from &quot;Vehicle&quot; do not contain @TypeAlias(&quot;Car/Moto&quot;) annotation - the value given there overrides the &quot;_class&quot; field in the default MongoTemplate configuration.</p>\n</li>\n<li><p>Download the problematic record from the MongoDb database and make sure that the &quot;_class&quot; field contains the correct (full) classpath for Car/Motorcycle classes.</p>\n</li>\n<li><p>You can try the collection name in the @Document annotation</p>\n</li>\n<li><p>Update drivers and libraries related to Mongo.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":23472598,"reputation":39,"user_id":17525864,"display_name":"Giandonato Farina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":996,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1678127696,"creation_date":1651572968,"question_id":72097945,"body_markdown":"I&#39;m trying to use an abstract class as field of a MongoDB document, using Spring Data. Here&#39;s an example (I&#39;m using lombok for getter/setter):\r\n\r\n```\r\n@Data\r\n@Document\r\npublic class User {\r\n   private String id;\r\n   private String name;\r\n   private List&lt;Vehicle&gt; vehicles;\r\n}\r\n\r\n@Data\r\npublic abstract class Vehicle {\r\n   private String type; \r\n}\r\n\r\n@Data\r\npublic class Car extends Vehicle {\r\n   private int seats;\r\n   private String fuel;\r\n}\r\n\r\n@Data\r\npublic class Motorcycle extends Vehicle {\r\n   private int cc;\r\n}\r\n```\r\n\r\nClearly, this code does not work because it cannot instantiate the Vehicle class when I read data from the DB. Now my question is: how can automatically instantiate the correct subclass basing on the type field of the abstarct class?\r\n\r\nThanks in advance.\r\n\r\n**Edit:**\r\n\r\nI tried using the following method to solve, but it seems not work:\r\n```\r\n@Data\r\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;type&quot;)\r\n@JsonSubTypes({\r\n        @JsonSubTypes.Type(value = Car.class, name = &quot;CAR&quot;),\r\n        @JsonSubTypes.Type(value = Motorcycle.class, name = &quot;MOTORCYCLE&quot;)\r\n})\r\npublic abstract class Vehicle {\r\n   private String type; \r\n}\r\n```\r\n","title":"Use abstract class as field in mongodb with Spring Data Java","body":"<p>I'm trying to use an abstract class as field of a MongoDB document, using Spring Data. Here's an example (I'm using lombok for getter/setter):</p>\n<pre><code>@Data\n@Document\npublic class User {\n   private String id;\n   private String name;\n   private List&lt;Vehicle&gt; vehicles;\n}\n\n@Data\npublic abstract class Vehicle {\n   private String type; \n}\n\n@Data\npublic class Car extends Vehicle {\n   private int seats;\n   private String fuel;\n}\n\n@Data\npublic class Motorcycle extends Vehicle {\n   private int cc;\n}\n</code></pre>\n<p>Clearly, this code does not work because it cannot instantiate the Vehicle class when I read data from the DB. Now my question is: how can automatically instantiate the correct subclass basing on the type field of the abstarct class?</p>\n<p>Thanks in advance.</p>\n<p><strong>Edit:</strong></p>\n<p>I tried using the following method to solve, but it seems not work:</p>\n<pre><code>@Data\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;type&quot;)\n@JsonSubTypes({\n        @JsonSubTypes.Type(value = Car.class, name = &quot;CAR&quot;),\n        @JsonSubTypes.Type(value = Motorcycle.class, name = &quot;MOTORCYCLE&quot;)\n})\npublic abstract class Vehicle {\n   private String type; \n}\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1526647391,"post_id":50410373,"comment_id":87838541,"body_markdown":"There&#39;s likely no nice way to do this. `TextFlow` is really designed for multiline text, which is why there is no ellipsis support, and there&#39;s no other obvious way to highlight a part of text. Your simplest approach might be to populate the cell with a custom `Pane` subclass. Override the `layoutChildren()` method. Split the text into the minimum number of `Label`s needed and set the background on the highlighted portions. Then layout the labels horizontally, truncating and adding ellipsis if necessary.","body":"There&#39;s likely no nice way to do this. <code>TextFlow</code> is really designed for multiline text, which is why there is no ellipsis support, and there&#39;s no other obvious way to highlight a part of text. Your simplest approach might be to populate the cell with a custom <code>Pane</code> subclass. Override the <code>layoutChildren()</code> method. Split the text into the minimum number of <code>Label</code>s needed and set the background on the highlighted portions. Then layout the labels horizontally, truncating and adding ellipsis if necessary."},{"owner":{"account_id":306956,"reputation":13878,"user_id":617996,"accept_rate":93,"display_name":"PrimosK"},"score":0,"creation_date":1526648976,"post_id":50410373,"comment_id":87839595,"body_markdown":"That&#39;s exactly what I was afraid of.. Another concern I have WRT this approach is rendering performance in `TableView` but nevertheless - will try it out.\n\nIf anyone has any other ideas please feel free to share them.\n\nSide note:\nDo you maybe know if there is anything being done WRT this for any of the future JavaFX releases?","body":"That&#39;s exactly what I was afraid of.. Another concern I have WRT this approach is rendering performance in <code>TableView</code> but nevertheless - will try it out.  If anyone has any other ideas please feel free to share them.  Side note: Do you maybe know if there is anything being done WRT this for any of the future JavaFX releases?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1526651717,"post_id":50410373,"comment_id":87841412,"body_markdown":"Rendering performance really shouldn&#39;t be problematic with this approach. You are only ever rendering visible cells (so just a handful of them); the table view mechanism makes sure this happens reasonably efficiently. So you&#39;d be splitting, say 20-30 strings at a time, and likely laying out (at the very most) something like 200 labels. That should not be too time-consuming.","body":"Rendering performance really shouldn&#39;t be problematic with this approach. You are only ever rendering visible cells (so just a handful of them); the table view mechanism makes sure this happens reasonably efficiently. So you&#39;d be splitting, say 20-30 strings at a time, and likely laying out (at the very most) something like 200 labels. That should not be too time-consuming."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1526655762,"post_id":50410373,"comment_id":87844127,"body_markdown":"Quick proof of concept: not tested yet in the context of a table cell. https://gist.github.com/james-d/22dcea3dc58be41a9f473b2ae0d36582","body":"Quick proof of concept: not tested yet in the context of a table cell. <a href=\"https://gist.github.com/james-d/22dcea3dc58be41a9f473b2ae0d36582\" rel=\"nofollow noreferrer\">gist.github.com/james-d/22dcea3dc58be41a9f473b2ae0d36582</a>"}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1526684826,"creation_date":1526684826,"answer_id":50420284,"question_id":50410373,"body_markdown":"It&#39;s not too hard to write a reasonably-performing custom layout that works like a simplified `HBox` and lays some labels out left to right. If you provide a `text` property and `highlightedText` property, you can just create the appropriate labels when one changes. This is not intended to be production quality, but should give you a good starting point:\r\n\r\n    import javafx.beans.property.StringProperty;\r\n    import javafx.beans.property.StringPropertyBase;\r\n    import javafx.css.PseudoClass;\r\n    import javafx.scene.Node;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.layout.Pane;\r\n    \r\n    public class HighlightingLabelLayout extends Pane {\r\n    \r\n        private static final PseudoClass HIGHLIGHTED = PseudoClass.getPseudoClass(&quot;highlighted&quot;);\r\n        \r\n        private boolean needsRebuild = true ;\r\n    \r\n        private final Label ellipsis = new Label(&quot;...&quot;);\r\n        \r\n        private final StringProperty text = new StringPropertyBase() {\r\n            \r\n            @Override\r\n            public String getName() {\r\n                return &quot;text&quot; ;\r\n            }\r\n            \r\n            @Override\r\n            public Object getBean() {\r\n                return HighlightingLabelLayout.this ;\r\n            }\r\n            \r\n            @Override\r\n            protected void invalidated() {\r\n                super.invalidated();\r\n                needsRebuild = true ;\r\n                requestLayout();\r\n            }\r\n        };\r\n        \r\n        private final StringProperty highlightText = new StringPropertyBase() {\r\n            \r\n            @Override\r\n            public String getName() {\r\n                return &quot;highlightText&quot; ;\r\n            }\r\n            \r\n            @Override\r\n            public Object getBean() {\r\n                return HighlightingLabelLayout.this ;\r\n            }\r\n            \r\n            @Override\r\n            protected void invalidated() {\r\n                super.invalidated();\r\n                needsRebuild = true ;\r\n                requestLayout();\r\n            }\r\n        };\r\n    \r\n        public final StringProperty textProperty() {\r\n            return this.text;\r\n        }\r\n        \r\n    \r\n        public final String getText() {\r\n            return this.textProperty().get();\r\n        }\r\n        \r\n    \r\n        public final void setText(final String text) {\r\n            this.textProperty().set(text);\r\n        }\r\n        \r\n    \r\n        public final StringProperty highlightTextProperty() {\r\n            return this.highlightText;\r\n        }\r\n        \r\n    \r\n        public final String getHighlightText() {\r\n            return this.highlightTextProperty().get();\r\n        }\r\n        \r\n    \r\n        public final void setHighlightText(final String highlightText) {\r\n            this.highlightTextProperty().set(highlightText);\r\n        }\r\n        \r\n        public HighlightingLabelLayout() {\r\n            ellipsis.getStyleClass().add(&quot;ellipsis&quot;);\r\n            getStylesheets().add(getClass().getResource(&quot;highlighting-label-layout.css&quot;).toExternalForm());\r\n        }\r\n        \r\n        @Override\r\n        protected void layoutChildren() {\r\n            if (needsRebuild) {\r\n                rebuild() ;\r\n            }\r\n            double width = getWidth();\r\n            double x = snappedLeftInset() ;\r\n            double y = snappedTopInset() ;\r\n            boolean truncated = false ;\r\n            for (Node label : getChildren()) {\r\n                double labelWidth = label.prefWidth(-1);\r\n                double labelHeight = label.prefHeight(labelWidth);\r\n                if (label == ellipsis) {\r\n                    label.resizeRelocate(width - labelWidth - snappedRightInset(), y, labelWidth, labelHeight);\r\n                    continue ;\r\n                }\r\n                if (truncated) {\r\n                    label.setVisible(false);\r\n                    continue ;\r\n                }\r\n                if (labelWidth + x &gt; width - snappedLeftInset() - snappedRightInset()) {\r\n                    label.resizeRelocate(x, y, width - snappedLeftInset() - snappedRightInset() - x, labelHeight);\r\n                    truncated = true ;\r\n                    label.setVisible(true);\r\n                    x = width - snappedRightInset();\r\n                    continue ;\r\n                }\r\n                label.resizeRelocate(x, y, labelWidth, labelHeight);\r\n                x+=labelWidth ;\r\n            }\r\n            ellipsis.setVisible(truncated);\r\n        }\r\n        \r\n        @Override\r\n        protected double computePrefWidth(double height) {\r\n            if (needsRebuild) {\r\n                rebuild();\r\n            }\r\n            double width = 0 ;\r\n            for (Node label : getChildren()) {\r\n                if (label != ellipsis) {\r\n                    width += label.prefWidth(height);\r\n                }\r\n            }\r\n            return width ;\r\n        }\r\n        \r\n        @Override\r\n        protected double computeMaxWidth(double height) {\r\n            return computePrefWidth(height);\r\n        }\r\n        \r\n        @Override\r\n        protected double computeMinWidth(double height) {\r\n            return Math.min(ellipsis.minWidth(height), computePrefWidth(height));\r\n        }\r\n        \r\n        @Override\r\n        protected double computePrefHeight(double width) {\r\n            if (needsRebuild) {\r\n                rebuild();\r\n            }\r\n            double height = 0 ;\r\n            for (Node label : getChildren()) {\r\n                if (label != ellipsis) {\r\n                    double labelWidth = label.prefWidth(-1);\r\n                    double labelHeight = label.prefHeight(labelWidth);\r\n                    if (labelHeight &gt; height) {\r\n                        height = labelHeight ;\r\n                    }\r\n                }\r\n            }\r\n            return height ;\r\n        }\r\n        \r\n        @Override\r\n        protected double computeMinHeight(double width) {\r\n            return Math.min(computePrefHeight(width), ellipsis.prefHeight(ellipsis.prefWidth(-1)));\r\n        }\r\n        \r\n        @Override\r\n        protected double computeMaxHeight(double width) {\r\n            return computePrefHeight(width);\r\n        }\r\n        \r\n        // Performance could probably be improved by caching and reusing the labels...\r\n        private void rebuild() {\r\n            String[] words = text.get().split(&quot;\\\\s&quot;);\r\n            String highlight = highlightText.get();\r\n            getChildren().clear();\r\n            StringBuffer buffer = new StringBuffer();\r\n            boolean addLeadingSpace = false ;\r\n            for (int i = 0 ; i &lt; words.length ; i++) {\r\n                if (words[i].equals(highlight)) {\r\n                    if ( i &gt; 0) {\r\n                        getChildren().add(new Label(buffer.toString()));\r\n                        buffer.setLength(0);\r\n                    }\r\n                    Label label = new Label(words[i]);\r\n                    label.pseudoClassStateChanged(HIGHLIGHTED, true);\r\n                    addLeadingSpace = true ;\r\n                    getChildren().add(label);\r\n                } else {\r\n                    if (addLeadingSpace) {\r\n                        buffer.append(&#39; &#39;);\r\n                    }\r\n                    buffer.append(words[i]);\r\n                    if (i &lt; words.length - 1) {\r\n                        buffer.append(&#39; &#39;);\r\n                    }\r\n                    addLeadingSpace = false ;\r\n                }\r\n            }\r\n            if (buffer.length() &gt; 0) {\r\n                getChildren().add(new Label(buffer.toString()));\r\n            }\r\n            getChildren().add(ellipsis);\r\n            \r\n            needsRebuild = false ;\r\n        }\r\n        \r\n    }\r\n\r\nand the corresponding CSS file\r\n\r\n&lt;!-- language: lang-css --&gt;\r\n\r\n    .label {\r\n        -highlight-color: yellow ;\r\n        -fx-background-color: -fx-background ;\r\n        -fx-ellipsis-string: &quot;&quot; ;\r\n    }\r\n    .label:highlighted {\r\n        -fx-background: -highlight-color ;\r\n    }\r\n\r\nAs commented, there are some performance improvements that could be leveraged if needed.\r\n\r\nHere&#39;s a quick test, using this in table cells:\r\n\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Random;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.beans.property.SimpleStringProperty;\r\n    import javafx.beans.property.StringProperty;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.TableCell;\r\n    import javafx.scene.control.TableColumn;\r\n    import javafx.scene.control.TableView;\r\n    import javafx.scene.control.TextField;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class HighlightingLabelLayoutTest extends Application {\r\n    \r\n    \t@Override\r\n    \tpublic void start(Stage primaryStage) {\r\n    \t    \r\n    \t    TextField searchField = new TextField();\r\n    \t    \r\n    \t    TableView&lt;Item&gt; table = new TableView&lt;&gt;();\r\n    \t    TableColumn&lt;Item, String&gt; itemCol = new TableColumn&lt;&gt;(&quot;Item&quot;);\r\n    \t    itemCol.setCellValueFactory(cellData -&gt; cellData.getValue().nameProperty());\r\n    \t    table.getColumns().add(itemCol);\r\n    \t    \r\n    \t    TableColumn&lt;Item, String&gt; dataCol = new TableColumn&lt;&gt;(&quot;Data&quot;);\r\n    \t    dataCol.setCellValueFactory(cellData -&gt; cellData.getValue().dataProperty());\r\n    \t    dataCol.setPrefWidth(200);\r\n    \t    table.getColumns().add(dataCol);\r\n    \t    \r\n    \t    dataCol.setCellFactory(col -&gt; new TableCell&lt;Item, String&gt;() {\r\n    \t        private final HighlightingLabelLayout layout = new HighlightingLabelLayout();\r\n    \t        \r\n    \t        {\r\n    \t            layout.highlightTextProperty().bind(searchField.textProperty());\r\n    \t        }\r\n    \t        \r\n    \t        @Override\r\n    \t        protected void updateItem(String data, boolean empty) {\r\n    \t            super.updateItem(data, empty);\r\n    \t            if (empty) {\r\n    \t                setGraphic(null);\r\n    \t            } else {\r\n    \t                layout.setText(data);\r\n    \t                setGraphic(layout);\r\n    \t            }\r\n    \t        }\r\n    \t    });\r\n    \t    \r\n    \t    table.getItems().setAll(generateData(200, 10));\r\n    \t    \r\n    \t    \r\n    \t\t\r\n    \t\tVBox root = new VBox(5, searchField, table);\r\n    \t\tprimaryStage.setScene(new Scene(root));\r\n    \t\tprimaryStage.show();\r\n    \t}\r\n    \t\r\n    \tprivate List&lt;Item&gt; generateData(int numItems, int wordsPerItem) {\r\n    \t    List&lt;Item&gt; items = new ArrayList&lt;&gt;();\r\n    \t    Random rng = new Random();\r\n    \t    for (int i = 1 ; i &lt;= numItems ; i++) {\r\n    \t        String name = &quot;Item &quot;+i;\r\n    \t        List&lt;String&gt; words = new ArrayList&lt;&gt;();\r\n    \t        for (int j = 0 ; j &lt; wordsPerItem ; j++) {\r\n    \t            words.add(WORDS[rng.nextInt(WORDS.length)].toLowerCase());\r\n    \t        }\r\n    \t        String data = String.join(&quot; &quot;, words);\r\n    \t        items.add(new Item(name, data));\r\n    \t    }\r\n    \t    return items ;\r\n    \t}\r\n    \t\r\n    \tpublic static class Item {\r\n    \t    private final StringProperty name = new SimpleStringProperty();\r\n    \t    private final StringProperty data = new SimpleStringProperty();\r\n    \t    \r\n    \t    public Item(String name, String data) {\r\n    \t        setName(name);\r\n    \t        setData(data);\r\n    \t    }\r\n    \r\n            public final StringProperty nameProperty() {\r\n                return this.name;\r\n            }\r\n            \r\n    \r\n            public final String getName() {\r\n                return this.nameProperty().get();\r\n            }\r\n            \r\n    \r\n            public final void setName(final String name) {\r\n                this.nameProperty().set(name);\r\n            }\r\n            \r\n    \r\n            public final StringProperty dataProperty() {\r\n                return this.data;\r\n            }\r\n            \r\n    \r\n            public final String getData() {\r\n                return this.dataProperty().get();\r\n            }\r\n            \r\n    \r\n            public final void setData(final String data) {\r\n                this.dataProperty().set(data);\r\n            }\r\n            \r\n    \t    \r\n    \t    \r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tlaunch(args);\r\n    \t}\r\n    \t\r\n    \tprivate static final String[] WORDS = (&quot;Lorem ipsum dolor sit amet, &quot;\r\n    \t        + &quot;consectetur adipiscing elit. Sed pulvinar massa at arcu ultrices, &quot;\r\n    \t        + &quot;nec elementum velit vestibulum. Integer eget elit justo. &quot;\r\n    \t        + &quot;Orci varius natoque penatibus et magnis dis parturient montes, &quot;\r\n    \t        + &quot;nascetur ridiculus mus. Duis ultricies diam turpis, eget accumsan risus convallis a. &quot;\r\n    \t        + &quot;Pellentesque rhoncus viverra sem, sed consequat lorem.&quot;).split(&quot;\\\\W&quot;) ;\r\n    }\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/w4NJ1.png","title":"JavaFX&#39;s TableView with highlighted text and ellipsis functionality","body":"<p>It's not too hard to write a reasonably-performing custom layout that works like a simplified <code>HBox</code> and lays some labels out left to right. If you provide a <code>text</code> property and <code>highlightedText</code> property, you can just create the appropriate labels when one changes. This is not intended to be production quality, but should give you a good starting point:</p>\n\n<pre><code>import javafx.beans.property.StringProperty;\nimport javafx.beans.property.StringPropertyBase;\nimport javafx.css.PseudoClass;\nimport javafx.scene.Node;\nimport javafx.scene.control.Label;\nimport javafx.scene.layout.Pane;\n\npublic class HighlightingLabelLayout extends Pane {\n\n    private static final PseudoClass HIGHLIGHTED = PseudoClass.getPseudoClass(\"highlighted\");\n\n    private boolean needsRebuild = true ;\n\n    private final Label ellipsis = new Label(\"...\");\n\n    private final StringProperty text = new StringPropertyBase() {\n\n        @Override\n        public String getName() {\n            return \"text\" ;\n        }\n\n        @Override\n        public Object getBean() {\n            return HighlightingLabelLayout.this ;\n        }\n\n        @Override\n        protected void invalidated() {\n            super.invalidated();\n            needsRebuild = true ;\n            requestLayout();\n        }\n    };\n\n    private final StringProperty highlightText = new StringPropertyBase() {\n\n        @Override\n        public String getName() {\n            return \"highlightText\" ;\n        }\n\n        @Override\n        public Object getBean() {\n            return HighlightingLabelLayout.this ;\n        }\n\n        @Override\n        protected void invalidated() {\n            super.invalidated();\n            needsRebuild = true ;\n            requestLayout();\n        }\n    };\n\n    public final StringProperty textProperty() {\n        return this.text;\n    }\n\n\n    public final String getText() {\n        return this.textProperty().get();\n    }\n\n\n    public final void setText(final String text) {\n        this.textProperty().set(text);\n    }\n\n\n    public final StringProperty highlightTextProperty() {\n        return this.highlightText;\n    }\n\n\n    public final String getHighlightText() {\n        return this.highlightTextProperty().get();\n    }\n\n\n    public final void setHighlightText(final String highlightText) {\n        this.highlightTextProperty().set(highlightText);\n    }\n\n    public HighlightingLabelLayout() {\n        ellipsis.getStyleClass().add(\"ellipsis\");\n        getStylesheets().add(getClass().getResource(\"highlighting-label-layout.css\").toExternalForm());\n    }\n\n    @Override\n    protected void layoutChildren() {\n        if (needsRebuild) {\n            rebuild() ;\n        }\n        double width = getWidth();\n        double x = snappedLeftInset() ;\n        double y = snappedTopInset() ;\n        boolean truncated = false ;\n        for (Node label : getChildren()) {\n            double labelWidth = label.prefWidth(-1);\n            double labelHeight = label.prefHeight(labelWidth);\n            if (label == ellipsis) {\n                label.resizeRelocate(width - labelWidth - snappedRightInset(), y, labelWidth, labelHeight);\n                continue ;\n            }\n            if (truncated) {\n                label.setVisible(false);\n                continue ;\n            }\n            if (labelWidth + x &gt; width - snappedLeftInset() - snappedRightInset()) {\n                label.resizeRelocate(x, y, width - snappedLeftInset() - snappedRightInset() - x, labelHeight);\n                truncated = true ;\n                label.setVisible(true);\n                x = width - snappedRightInset();\n                continue ;\n            }\n            label.resizeRelocate(x, y, labelWidth, labelHeight);\n            x+=labelWidth ;\n        }\n        ellipsis.setVisible(truncated);\n    }\n\n    @Override\n    protected double computePrefWidth(double height) {\n        if (needsRebuild) {\n            rebuild();\n        }\n        double width = 0 ;\n        for (Node label : getChildren()) {\n            if (label != ellipsis) {\n                width += label.prefWidth(height);\n            }\n        }\n        return width ;\n    }\n\n    @Override\n    protected double computeMaxWidth(double height) {\n        return computePrefWidth(height);\n    }\n\n    @Override\n    protected double computeMinWidth(double height) {\n        return Math.min(ellipsis.minWidth(height), computePrefWidth(height));\n    }\n\n    @Override\n    protected double computePrefHeight(double width) {\n        if (needsRebuild) {\n            rebuild();\n        }\n        double height = 0 ;\n        for (Node label : getChildren()) {\n            if (label != ellipsis) {\n                double labelWidth = label.prefWidth(-1);\n                double labelHeight = label.prefHeight(labelWidth);\n                if (labelHeight &gt; height) {\n                    height = labelHeight ;\n                }\n            }\n        }\n        return height ;\n    }\n\n    @Override\n    protected double computeMinHeight(double width) {\n        return Math.min(computePrefHeight(width), ellipsis.prefHeight(ellipsis.prefWidth(-1)));\n    }\n\n    @Override\n    protected double computeMaxHeight(double width) {\n        return computePrefHeight(width);\n    }\n\n    // Performance could probably be improved by caching and reusing the labels...\n    private void rebuild() {\n        String[] words = text.get().split(\"\\\\s\");\n        String highlight = highlightText.get();\n        getChildren().clear();\n        StringBuffer buffer = new StringBuffer();\n        boolean addLeadingSpace = false ;\n        for (int i = 0 ; i &lt; words.length ; i++) {\n            if (words[i].equals(highlight)) {\n                if ( i &gt; 0) {\n                    getChildren().add(new Label(buffer.toString()));\n                    buffer.setLength(0);\n                }\n                Label label = new Label(words[i]);\n                label.pseudoClassStateChanged(HIGHLIGHTED, true);\n                addLeadingSpace = true ;\n                getChildren().add(label);\n            } else {\n                if (addLeadingSpace) {\n                    buffer.append(' ');\n                }\n                buffer.append(words[i]);\n                if (i &lt; words.length - 1) {\n                    buffer.append(' ');\n                }\n                addLeadingSpace = false ;\n            }\n        }\n        if (buffer.length() &gt; 0) {\n            getChildren().add(new Label(buffer.toString()));\n        }\n        getChildren().add(ellipsis);\n\n        needsRebuild = false ;\n    }\n\n}\n</code></pre>\n\n<p>and the corresponding CSS file</p>\n\n<pre class=\"lang-css prettyprint-override\"><code>.label {\n    -highlight-color: yellow ;\n    -fx-background-color: -fx-background ;\n    -fx-ellipsis-string: \"\" ;\n}\n.label:highlighted {\n    -fx-background: -highlight-color ;\n}\n</code></pre>\n\n<p>As commented, there are some performance improvements that could be leveraged if needed.</p>\n\n<p>Here's a quick test, using this in table cells:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.Random;\n\nimport javafx.application.Application;\nimport javafx.beans.property.SimpleStringProperty;\nimport javafx.beans.property.StringProperty;\nimport javafx.scene.Scene;\nimport javafx.scene.control.TableCell;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.control.TableView;\nimport javafx.scene.control.TextField;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\npublic class HighlightingLabelLayoutTest extends Application {\n\n    @Override\n    public void start(Stage primaryStage) {\n\n        TextField searchField = new TextField();\n\n        TableView&lt;Item&gt; table = new TableView&lt;&gt;();\n        TableColumn&lt;Item, String&gt; itemCol = new TableColumn&lt;&gt;(\"Item\");\n        itemCol.setCellValueFactory(cellData -&gt; cellData.getValue().nameProperty());\n        table.getColumns().add(itemCol);\n\n        TableColumn&lt;Item, String&gt; dataCol = new TableColumn&lt;&gt;(\"Data\");\n        dataCol.setCellValueFactory(cellData -&gt; cellData.getValue().dataProperty());\n        dataCol.setPrefWidth(200);\n        table.getColumns().add(dataCol);\n\n        dataCol.setCellFactory(col -&gt; new TableCell&lt;Item, String&gt;() {\n            private final HighlightingLabelLayout layout = new HighlightingLabelLayout();\n\n            {\n                layout.highlightTextProperty().bind(searchField.textProperty());\n            }\n\n            @Override\n            protected void updateItem(String data, boolean empty) {\n                super.updateItem(data, empty);\n                if (empty) {\n                    setGraphic(null);\n                } else {\n                    layout.setText(data);\n                    setGraphic(layout);\n                }\n            }\n        });\n\n        table.getItems().setAll(generateData(200, 10));\n\n\n\n        VBox root = new VBox(5, searchField, table);\n        primaryStage.setScene(new Scene(root));\n        primaryStage.show();\n    }\n\n    private List&lt;Item&gt; generateData(int numItems, int wordsPerItem) {\n        List&lt;Item&gt; items = new ArrayList&lt;&gt;();\n        Random rng = new Random();\n        for (int i = 1 ; i &lt;= numItems ; i++) {\n            String name = \"Item \"+i;\n            List&lt;String&gt; words = new ArrayList&lt;&gt;();\n            for (int j = 0 ; j &lt; wordsPerItem ; j++) {\n                words.add(WORDS[rng.nextInt(WORDS.length)].toLowerCase());\n            }\n            String data = String.join(\" \", words);\n            items.add(new Item(name, data));\n        }\n        return items ;\n    }\n\n    public static class Item {\n        private final StringProperty name = new SimpleStringProperty();\n        private final StringProperty data = new SimpleStringProperty();\n\n        public Item(String name, String data) {\n            setName(name);\n            setData(data);\n        }\n\n        public final StringProperty nameProperty() {\n            return this.name;\n        }\n\n\n        public final String getName() {\n            return this.nameProperty().get();\n        }\n\n\n        public final void setName(final String name) {\n            this.nameProperty().set(name);\n        }\n\n\n        public final StringProperty dataProperty() {\n            return this.data;\n        }\n\n\n        public final String getData() {\n            return this.dataProperty().get();\n        }\n\n\n        public final void setData(final String data) {\n            this.dataProperty().set(data);\n        }\n\n\n\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    private static final String[] WORDS = (\"Lorem ipsum dolor sit amet, \"\n            + \"consectetur adipiscing elit. Sed pulvinar massa at arcu ultrices, \"\n            + \"nec elementum velit vestibulum. Integer eget elit justo. \"\n            + \"Orci varius natoque penatibus et magnis dis parturient montes, \"\n            + \"nascetur ridiculus mus. Duis ultricies diam turpis, eget accumsan risus convallis a. \"\n            + \"Pellentesque rhoncus viverra sem, sed consequat lorem.\").split(\"\\\\W\") ;\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/w4NJ1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w4NJ1.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":1232029,"reputation":11,"user_id":7998430,"display_name":"nayasis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678127111,"creation_date":1678127111,"answer_id":75654489,"question_id":50410373,"body_markdown":"It works fine with just CSS\r\n\r\n\r\n    .table-view .column-header {\r\n      -fx-ellipsis-string: &quot;&quot; ;\r\n    }\r\n    .table-column {\r\n      -fx-ellipsis-string: &quot;&quot; ;\r\n    }","title":"JavaFX&#39;s TableView with highlighted text and ellipsis functionality","body":"<p>It works fine with just CSS</p>\n<pre><code>.table-view .column-header {\n  -fx-ellipsis-string: &quot;&quot; ;\n}\n.table-column {\n  -fx-ellipsis-string: &quot;&quot; ;\n}\n</code></pre>\n"}],"owner":{"account_id":306956,"reputation":13878,"user_id":617996,"accept_rate":93,"display_name":"PrimosK"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":849,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":50420284,"answer_count":2,"score":3,"last_activity_date":1678127111,"creation_date":1526643066,"question_id":50410373,"body_markdown":"What I am trying to achieve is to make it possible to highlight certain portions of the text inside `TableView` and at the same time preserve ellipsis functionality that is present when pure `Label` is used to render the cell content.\r\n\r\nSo what I am after is this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n1. As you can see the &quot;how&quot; keyword is highlighted.\r\n2. Ellipsis are nicely rendered if text is too long.\r\n\r\nMy first idea was to simply use `Label` for this and pass in a formatted html - this is possible in Swing but (on my surprise) not in JavaFX so there is no way of achieving this with `Label` class. \r\n\r\nMy second try was with the use of `TextFlow` - but obviously the ellipsis functionality to fit labels into columns nicely is lost that way (I&#39;ve also found few other issues not relevant to this question).\r\n\r\nThis feels to me like a quite a basic problem so I was rather surprised given the fact that first JavaFX version was release 9 years ago. I really wonder whether anybody has found some solution/workaround of how to achieve this.\r\n\r\n  [1]: https://i.stack.imgur.com/bFkQu.png","title":"JavaFX&#39;s TableView with highlighted text and ellipsis functionality","body":"<p>What I am trying to achieve is to make it possible to highlight certain portions of the text inside <code>TableView</code> and at the same time preserve ellipsis functionality that is present when pure <code>Label</code> is used to render the cell content.</p>\n\n<p>So what I am after is this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/bFkQu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bFkQu.png\" alt=\"enter image description here\"></a></p>\n\n<ol>\n<li>As you can see the \"how\" keyword is highlighted.</li>\n<li>Ellipsis are nicely rendered if text is too long.</li>\n</ol>\n\n<p>My first idea was to simply use <code>Label</code> for this and pass in a formatted html - this is possible in Swing but (on my surprise) not in JavaFX so there is no way of achieving this with <code>Label</code> class. </p>\n\n<p>My second try was with the use of <code>TextFlow</code> - but obviously the ellipsis functionality to fit labels into columns nicely is lost that way (I've also found few other issues not relevant to this question).</p>\n\n<p>This feels to me like a quite a basic problem so I was rather surprised given the fact that first JavaFX version was release 9 years ago. I really wonder whether anybody has found some solution/workaround of how to achieve this.</p>\n"},{"tags":["java","json","rest","jackson","jersey"],"answers":[{"tags":[],"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678126871,"creation_date":1678126871,"answer_id":75654455,"question_id":75654347,"body_markdown":"It&#39;s not achievable without an additional serialization class. If you add annotation then also you need to register the class based on the annotation it behaves. Instead, you should use the `Promotion` class in the `Student` class.\r\n\r\n```\r\npublic class Student {\r\n    private Long idStudent;\r\n    private String firstName;\r\n    private String lastName;\r\n    private Gender gender;\r\n    private String mail;\r\n    private Promotion promotion;\r\n}\r\n\r\npublic class Promotion {\r\n    private Long idPromotion;\r\n    private String name;\r\n    private Boolean colorEnabled;\r\n    private String fontColor;\r\n    private String textColor;\r\n}\r\n```\r\nIf you use the same class for deserialization then you can create the `Promotion` constructor with `idPromotion` argument. So in JSON if you pass only id then it will create a `Promotion` object with `idPromotion` set.","title":"How to serialize java classes with jackson when one depends on the other through an id field and not a direct reference","body":"<p>It's not achievable without an additional serialization class. If you add annotation then also you need to register the class based on the annotation it behaves. Instead, you should use the <code>Promotion</code> class in the <code>Student</code> class.</p>\n<pre><code>public class Student {\n    private Long idStudent;\n    private String firstName;\n    private String lastName;\n    private Gender gender;\n    private String mail;\n    private Promotion promotion;\n}\n\npublic class Promotion {\n    private Long idPromotion;\n    private String name;\n    private Boolean colorEnabled;\n    private String fontColor;\n    private String textColor;\n}\n</code></pre>\n<p>If you use the same class for deserialization then you can create the <code>Promotion</code> constructor with <code>idPromotion</code> argument. So in JSON if you pass only id then it will create a <code>Promotion</code> object with <code>idPromotion</code> set.</p>\n"}],"owner":{"account_id":20955267,"reputation":63,"user_id":15395946,"display_name":"emerick biron"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678126871,"creation_date":1678126089,"question_id":75654347,"body_markdown":"I&#39;m currently developing REST web services in Java with Jersey and I have a question regarding including details from a related model class in the JSON response returned by my endpoint.\r\n\r\nMy Student and Promotion model classes currently look like this:\r\n\r\n```java\r\npublic class Student {\r\n    private Long idStudent;\r\n    private String firstName;\r\n    private String lastName;\r\n    private Gender gender;\r\n    private String mail;\r\n    private Long idPromotion;\r\n}\r\n\r\npublic class Promotion {\r\n    private Long idPromotion;\r\n    private String name;\r\n    private Boolean colorEnabled;\r\n    private String fontColor;\r\n    private String textColor;\r\n}\r\n```\r\n\r\nI would like to modify the Student class to include the details of the Promotion class in the body of the JSON response returned by my getStudents() endpoint using annotations instead of a wrapper or an additional serialization class.\r\n\r\nHere&#39;s an example of what I&#39;d like to do using something like this @Reference annotation (it doesn&#39;t exist, it&#39;s just to illustrate what I&#39;d like)\r\n\r\n```java\r\npublic class Student {\r\n    private Long idStudent;\r\n    private String firstName;\r\n    private String lastName;\r\n    private Gender gender;\r\n    private String mail;\r\n    @Reference(Promotion.idPromotion)\r\n    private Long idPromotion;\r\n}\r\n\r\npublic class Promotion {\r\n    private Long idPromotion;\r\n    private String name;\r\n    private Boolean colorEnabled;\r\n    private String fontColor;\r\n    private String textColor;\r\n}\r\n```\r\n\r\nI would like to know if it&#39;s possible to achieve this using annotations and some sort of binding rather than using a wrapper or additional serialization class.\r\n\r\nThank you very much for your help!\r\n","title":"How to serialize java classes with jackson when one depends on the other through an id field and not a direct reference","body":"<p>I'm currently developing REST web services in Java with Jersey and I have a question regarding including details from a related model class in the JSON response returned by my endpoint.</p>\n<p>My Student and Promotion model classes currently look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Student {\n    private Long idStudent;\n    private String firstName;\n    private String lastName;\n    private Gender gender;\n    private String mail;\n    private Long idPromotion;\n}\n\npublic class Promotion {\n    private Long idPromotion;\n    private String name;\n    private Boolean colorEnabled;\n    private String fontColor;\n    private String textColor;\n}\n</code></pre>\n<p>I would like to modify the Student class to include the details of the Promotion class in the body of the JSON response returned by my getStudents() endpoint using annotations instead of a wrapper or an additional serialization class.</p>\n<p>Here's an example of what I'd like to do using something like this @Reference annotation (it doesn't exist, it's just to illustrate what I'd like)</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Student {\n    private Long idStudent;\n    private String firstName;\n    private String lastName;\n    private Gender gender;\n    private String mail;\n    @Reference(Promotion.idPromotion)\n    private Long idPromotion;\n}\n\npublic class Promotion {\n    private Long idPromotion;\n    private String name;\n    private Boolean colorEnabled;\n    private String fontColor;\n    private String textColor;\n}\n</code></pre>\n<p>I would like to know if it's possible to achieve this using annotations and some sort of binding rather than using a wrapper or additional serialization class.</p>\n<p>Thank you very much for your help!</p>\n"},{"tags":["java","android","firebase"],"comments":[{"owner":{"account_id":12135188,"reputation":884,"user_id":8860848,"display_name":"NullByte08"},"score":0,"creation_date":1587973019,"post_id":61453640,"comment_id":108709229,"body_markdown":"is your package name correct in firebase console?","body":"is your package name correct in firebase console?"},{"owner":{"account_id":8070087,"reputation":875,"user_id":6083135,"accept_rate":83,"display_name":"Daksh Agrawal"},"score":0,"creation_date":1587973128,"post_id":61453640,"comment_id":108709281,"body_markdown":"@NullByte08 Yeah, and it has been working nicely for around an year","body":"@NullByte08 Yeah, and it has been working nicely for around an year"},{"owner":{"account_id":3348675,"reputation":5862,"user_id":2813227,"display_name":"Andreas Rayo Kniep"},"score":0,"creation_date":1588022532,"post_id":61453640,"comment_id":108735736,"body_markdown":"To further analyze this issue, we would need to have a look at your API key. Can you please share the API key and replace maybe 10 characters in the middle with some replacement character (e.g. &quot;X&quot;) without changing the length of the key?","body":"To further analyze this issue, we would need to have a look at your API key. Can you please share the API key and replace maybe 10 characters in the middle with some replacement character (e.g. &quot;X&quot;) without changing the length of the key?"},{"owner":{"account_id":8070087,"reputation":875,"user_id":6083135,"accept_rate":83,"display_name":"Daksh Agrawal"},"score":0,"creation_date":1588049906,"post_id":61453640,"comment_id":108742716,"body_markdown":"@AndreasRayoKniep AIzaSyCrf5T0QyCUABJhZTsks7ep%%%%%%%%%%Y","body":"@AndreasRayoKniep AIzaSyCrf5T0QyCUABJhZTsks7ep%%%%%%%%%%Y"},{"owner":{"account_id":3348675,"reputation":5862,"user_id":2813227,"display_name":"Andreas Rayo Kniep"},"score":0,"creation_date":1588089100,"post_id":61453640,"comment_id":108763266,"body_markdown":"@DakshAgrawal: That looks like a valid API key and I am confused how you can get &quot;API key not valid.&quot; as server response. I have the feeling that the actual request to the server does not use this API key - either uses a different (invalid) API key or does not have access to this API key somehow.","body":"@DakshAgrawal: That looks like a valid API key and I am confused how you can get &quot;API key not valid.&quot; as server response. I have the feeling that the actual request to the server does not use this API key - either uses a different (invalid) API key or does not have access to this API key somehow."},{"owner":{"account_id":3348675,"reputation":5862,"user_id":2813227,"display_name":"Andreas Rayo Kniep"},"score":0,"creation_date":1588818334,"post_id":61453640,"comment_id":109048623,"body_markdown":"@DakshAgrawal: Out of curiosity: Did you have to create a new project to fix this issue?","body":"@DakshAgrawal: Out of curiosity: Did you have to create a new project to fix this issue?"},{"owner":{"account_id":8070087,"reputation":875,"user_id":6083135,"accept_rate":83,"display_name":"Daksh Agrawal"},"score":0,"creation_date":1588845747,"post_id":61453640,"comment_id":109058998,"body_markdown":"@AndreasRayoKniep No. Did not create a new project. I just created a new API key. The error message is still shown but FCM and other services are working well.","body":"@AndreasRayoKniep No. Did not create a new project. I just created a new API key. The error message is still shown but FCM and other services are working well."}],"answers":[{"tags":[],"owner":{"account_id":9553448,"reputation":990,"user_id":7096769,"display_name":"Emre Akcan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1588162876,"creation_date":1588162876,"answer_id":61501709,"question_id":61453640,"body_markdown":"I encountered with this error when initializing new app so it may not solve your issue since you say your app is existing but I hope it helps.\r\n\r\n\r\nI&#39;ve created new SHA Key for https://stackoverflow.com/questions/15727912/sha-1-fingerprint-of-keystore-certificate (both for debug and signing! only signing didn&#39;t work)\r\n\r\nand I&#39;ve added them into my firebase settings (below my package name careful if you have multiple). Now it works for me.","title":"Android Error when communicating with the Firebase Installations server API","body":"<p>I encountered with this error when initializing new app so it may not solve your issue since you say your app is existing but I hope it helps.</p>\n\n<p>I've created new SHA Key for <a href=\"https://stackoverflow.com/questions/15727912/sha-1-fingerprint-of-keystore-certificate\">SHA-1 fingerprint of keystore certificate</a> (both for debug and signing! only signing didn't work)</p>\n\n<p>and I've added them into my firebase settings (below my package name careful if you have multiple). Now it works for me.</p>\n"},{"tags":[],"owner":{"account_id":3348675,"reputation":5862,"user_id":2813227,"display_name":"Andreas Rayo Kniep"},"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1678126848,"creation_date":1588269305,"answer_id":61529757,"question_id":61453640,"body_markdown":"If you have issues with your API key, you can create a new API key in the Cloud Console:\r\n\r\n - go to the [Google Cloud Console][2]\r\n - choose the relevant project (i.e. the project you use for your application)\r\n - open the menu and go to `APIs &amp; Services` → `Credentials`\r\n - on top of the page click on `+ CREATE CREDENTIALS` → `API key`\r\n - replace the API key in your application with the newly created API key\r\n\r\n-----\r\n\r\nIn case you are using the `google-services.json` config file from your [Firebase Console](https://console.firebase.google.com/), you first have to delete or restrict the API key used in your current `google-services.json` in order to make Firebase update config file and use a new API key.\r\n\r\n - Identify the API key in your `google-services.json` config file.\r\n - Confirm that the API key is creating the erroneous requests by checking its usage against the [Firebase Installations API metrics page][3]. The column `Usage with this service` of your API key should show a number greater than 0.\r\n - Delete that API key by clicking the bin symbol or add `Application restrictions` to that API key by clicking the pencil symbol. **!!Warning!!** Do not delete an API key that existing installations of your applications require for other Firebase services like Firebase Auth or Realtime-Database.\r\n\r\nWait a couple of minutes for Google servers to update. The next download of your `google-service.json` config file should contain a new API key.\r\n\r\nYou can test your configuration with the following CURL command.\r\nWhat is the **error** you are getting?\r\n(Note: If you are seeing JSON data the request was and your configuration is successful)\r\n\r\n-----\r\n\r\nTest if your configuration works with the following CURL command:\r\n```\r\napi_key=&lt;YOUR_API_KEY&gt;\r\nproject_identifier=&lt;YOUR_PROJECT_ID&gt;\r\napp_id=&lt;YOUR_FIREBASE_APP_ID_EXAMPLE_1:12345678:android:00000aaaaaaaa&gt;\r\n\r\ncurl -H &quot;content-type: application/json&quot; -d &quot;{appId: &#39;$app_id&#39;, sdkVersion: &#39;t:1&#39;}&quot; https://firebaseinstallations.googleapis.com/v1/projects/$project_identifier/installations/?key=$api_key\r\n```\r\n\r\n-----\r\n\r\nOther relevant links regarding API keys and the [Firebase Installations API][1]:\r\n\r\n - https://firebase.google.com/support/privacy/init-options\r\n - https://github.com/firebase/firebase-android-sdk/blob/master/firebase-installations/API_KEY_RESTRICTIONS.md\r\n - https://firebase.google.com/support/release-notes/android#2020-02-27\r\n - https://github.com/firebase/firebase-android-sdk/blob/master/firebase-installations/REQUIRED_FIREBASE_OPTIONS_ANDROID.md\r\n\r\n\r\n[1]: https://console.cloud.google.com/apis/library/firebaseinstallations.googleapis.com\r\n[2]: https://console.cloud.google.com/apis/credentials?folder\r\n[3]: https://console.cloud.google.com/apis/api/firebaseinstallations.googleapis.com/credentials\r\n[4]: https://console.cloud.google.com/apis/api/firebaseinstallations.googleapis.com/metrics","title":"Android Error when communicating with the Firebase Installations server API","body":"<p>If you have issues with your API key, you can create a new API key in the Cloud Console:</p>\n<ul>\n<li>go to the <a href=\"https://console.cloud.google.com/apis/credentials?folder\" rel=\"noreferrer\">Google Cloud Console</a></li>\n<li>choose the relevant project (i.e. the project you use for your application)</li>\n<li>open the menu and go to <code>APIs &amp; Services</code> → <code>Credentials</code></li>\n<li>on top of the page click on <code>+ CREATE CREDENTIALS</code> → <code>API key</code></li>\n<li>replace the API key in your application with the newly created API key</li>\n</ul>\n<hr />\n<p>In case you are using the <code>google-services.json</code> config file from your <a href=\"https://console.firebase.google.com/\" rel=\"noreferrer\">Firebase Console</a>, you first have to delete or restrict the API key used in your current <code>google-services.json</code> in order to make Firebase update config file and use a new API key.</p>\n<ul>\n<li>Identify the API key in your <code>google-services.json</code> config file.</li>\n<li>Confirm that the API key is creating the erroneous requests by checking its usage against the <a href=\"https://console.cloud.google.com/apis/api/firebaseinstallations.googleapis.com/credentials\" rel=\"noreferrer\">Firebase Installations API metrics page</a>. The column <code>Usage with this service</code> of your API key should show a number greater than 0.</li>\n<li>Delete that API key by clicking the bin symbol or add <code>Application restrictions</code> to that API key by clicking the pencil symbol. <strong>!!Warning!!</strong> Do not delete an API key that existing installations of your applications require for other Firebase services like Firebase Auth or Realtime-Database.</li>\n</ul>\n<p>Wait a couple of minutes for Google servers to update. The next download of your <code>google-service.json</code> config file should contain a new API key.</p>\n<p>You can test your configuration with the following CURL command.\nWhat is the <strong>error</strong> you are getting?\n(Note: If you are seeing JSON data the request was and your configuration is successful)</p>\n<hr />\n<p>Test if your configuration works with the following CURL command:</p>\n<pre><code>api_key=&lt;YOUR_API_KEY&gt;\nproject_identifier=&lt;YOUR_PROJECT_ID&gt;\napp_id=&lt;YOUR_FIREBASE_APP_ID_EXAMPLE_1:12345678:android:00000aaaaaaaa&gt;\n\ncurl -H &quot;content-type: application/json&quot; -d &quot;{appId: '$app_id', sdkVersion: 't:1'}&quot; https://firebaseinstallations.googleapis.com/v1/projects/$project_identifier/installations/?key=$api_key\n</code></pre>\n<hr />\n<p>Other relevant links regarding API keys and the <a href=\"https://console.cloud.google.com/apis/library/firebaseinstallations.googleapis.com\" rel=\"noreferrer\">Firebase Installations API</a>:</p>\n<ul>\n<li><a href=\"https://firebase.google.com/support/privacy/init-options\" rel=\"noreferrer\">https://firebase.google.com/support/privacy/init-options</a></li>\n<li><a href=\"https://github.com/firebase/firebase-android-sdk/blob/master/firebase-installations/API_KEY_RESTRICTIONS.md\" rel=\"noreferrer\">https://github.com/firebase/firebase-android-sdk/blob/master/firebase-installations/API_KEY_RESTRICTIONS.md</a></li>\n<li><a href=\"https://firebase.google.com/support/release-notes/android#2020-02-27\" rel=\"noreferrer\">https://firebase.google.com/support/release-notes/android#2020-02-27</a></li>\n<li><a href=\"https://github.com/firebase/firebase-android-sdk/blob/master/firebase-installations/REQUIRED_FIREBASE_OPTIONS_ANDROID.md\" rel=\"noreferrer\">https://github.com/firebase/firebase-android-sdk/blob/master/firebase-installations/REQUIRED_FIREBASE_OPTIONS_ANDROID.md</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5827783,"reputation":514,"user_id":4593476,"display_name":"Tosin John"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1588577751,"creation_date":1588577751,"answer_id":61587237,"question_id":61453640,"body_markdown":"It turned out that the issue was with the version of firebase-messaging for me, using this version in app gradle got rid of the error:\r\n\r\n    implementation &quot;com.google.firebase:firebase-messaging:20.1.0&quot;","title":"Android Error when communicating with the Firebase Installations server API","body":"<p>It turned out that the issue was with the version of firebase-messaging for me, using this version in app gradle got rid of the error:</p>\n\n<pre><code>implementation \"com.google.firebase:firebase-messaging:20.1.0\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7174689,"reputation":822,"user_id":5481069,"display_name":"Psijic"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1588613087,"creation_date":1588613087,"answer_id":61598042,"question_id":61453640,"body_markdown":"This error could happen if you include in gradle some firebase modules that not configured properly (analytics, storage, messaging etc.)","title":"Android Error when communicating with the Firebase Installations server API","body":"<p>This error could happen if you include in gradle some firebase modules that not configured properly (analytics, storage, messaging etc.)</p>\n"},{"tags":[],"owner":{"account_id":14972918,"reputation":21,"user_id":10809172,"display_name":"Charles Wafula"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1589393998,"creation_date":1589375018,"answer_id":61775388,"question_id":61453640,"body_markdown":"I encountered the same issue, click on the link provided:\r\n```\r\n&quot;links&quot;: [\r\n          {\r\n            &quot;description&quot;: &quot;Google developers console&quot;,\r\n            &quot;url&quot;: &quot;https://console.developers.google.com&quot;\r\n          }\r\n```\r\nFrom there on, Go to the &#39;credentials&#39; menu.\r\n\r\nConfirm in your google-services.json file the API key being used. \r\n\r\nGo back to the google portal and look for that key under API keys. \r\nOnce you find it, click to edit and when editing, add your project&#39;s package name and SHA-1 certificate key. \r\n\r\nSave and wait for 5 mins, the error should be gone.","title":"Android Error when communicating with the Firebase Installations server API","body":"<p>I encountered the same issue, click on the link provided:</p>\n\n<pre><code>\"links\": [\n          {\n            \"description\": \"Google developers console\",\n            \"url\": \"https://console.developers.google.com\"\n          }\n</code></pre>\n\n<p>From there on, Go to the 'credentials' menu.</p>\n\n<p>Confirm in your google-services.json file the API key being used. </p>\n\n<p>Go back to the google portal and look for that key under API keys. \nOnce you find it, click to edit and when editing, add your project's package name and SHA-1 certificate key. </p>\n\n<p>Save and wait for 5 mins, the error should be gone.</p>\n"},{"tags":[],"owner":{"account_id":14680931,"reputation":1682,"user_id":10602418,"display_name":"Abhijith Brumal"},"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1591324921,"creation_date":1591324921,"answer_id":62207248,"question_id":61453640,"body_markdown":"I had this same issue. I solved it by the following way.\r\n\r\ngo to app/build/generated/res/google-services/debug/values/values.xml\r\n\r\nHere you can find your old API key.\r\n\r\nReplace both google_api_key and google_crash_reporting_api_key values with the new one that you can find from the google-services.json file. it will be under api-key array.\r\n\r\nCheers!","title":"Android Error when communicating with the Firebase Installations server API","body":"<p>I had this same issue. I solved it by the following way.</p>\n\n<p>go to app/build/generated/res/google-services/debug/values/values.xml</p>\n\n<p>Here you can find your old API key.</p>\n\n<p>Replace both google_api_key and google_crash_reporting_api_key values with the new one that you can find from the google-services.json file. it will be under api-key array.</p>\n\n<p>Cheers!</p>\n"},{"tags":[],"owner":{"account_id":18838249,"reputation":21,"user_id":13740413,"display_name":"Cyril Arathy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1592062317,"creation_date":1592062317,"answer_id":62361942,"question_id":61453640,"body_markdown":"I had the same issue. Please find the following steps i followed to resolve this.\r\n\r\n1. Navigate to the google project and make sure your app sha1 key is configured properly. \r\n2. Download the google-services.json file from the project and make sure it is same as the one exists in the android project\r\n3. Clean the project to remove all build configurations generated previously. \r\n4. Build the app ","title":"Android Error when communicating with the Firebase Installations server API","body":"<p>I had the same issue. Please find the following steps i followed to resolve this.</p>\n\n<ol>\n<li>Navigate to the google project and make sure your app sha1 key is configured properly. </li>\n<li>Download the google-services.json file from the project and make sure it is same as the one exists in the android project</li>\n<li>Clean the project to remove all build configurations generated previously. </li>\n<li>Build the app </li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1641421,"reputation":1094,"user_id":1513772,"accept_rate":81,"display_name":"Palak Darji"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1602496660,"creation_date":1602496308,"answer_id":64315489,"question_id":61453640,"body_markdown":"Late but might be helpful to others.\r\n\r\nI tried everthing here, at last I got it working by making sure following steps,\r\n\r\nRule: App&#39;s SHA-1 should be registerd in Google Developer Console with the API keys used.\r\n\r\n1) Look for the SHA-1 you are using (debug or release). You can do it by going to android studio &gt; Gradle form side bar &gt; Tasks &gt; android &gt; signingReport. Double click on it to run. Once it runs, you will be able to find out SHA-1 for your variant. (In my case, I was trying to make it run for release variant). Keep that SHA-1 aside we will check for its existance on Google Developers Console.\r\n\r\n2) Now head over to [https://console.cloud.google.com/apis/credentials][1], In your selected project &gt; Credentials, Find API key that is used, Click on it to go into details, Find `Restrict usage to your Android apps`, see if the SHA-1 is registed there along with your package name.\r\n\r\nIf you do not find the same SHA-1 that you had in your project, then you can click on `Add an Item` to add the app. Pass package name and SHA-1 and submit. \r\n\r\nTry again to connect firebase APIs after 5-10 mins.\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://console.cloud.google.com/apis/credentials\r\n  [2]: https://i.stack.imgur.com/iZPmu.png","title":"Android Error when communicating with the Firebase Installations server API","body":"<p>Late but might be helpful to others.</p>\n<p>I tried everthing here, at last I got it working by making sure following steps,</p>\n<p>Rule: App's SHA-1 should be registerd in Google Developer Console with the API keys used.</p>\n<ol>\n<li><p>Look for the SHA-1 you are using (debug or release). You can do it by going to android studio &gt; Gradle form side bar &gt; Tasks &gt; android &gt; signingReport. Double click on it to run. Once it runs, you will be able to find out SHA-1 for your variant. (In my case, I was trying to make it run for release variant). Keep that SHA-1 aside we will check for its existance on Google Developers Console.</p>\n</li>\n<li><p>Now head over to <a href=\"https://console.cloud.google.com/apis/credentials\" rel=\"noreferrer\">https://console.cloud.google.com/apis/credentials</a>, In your selected project &gt; Credentials, Find API key that is used, Click on it to go into details, Find <code>Restrict usage to your Android apps</code>, see if the SHA-1 is registed there along with your package name.</p>\n</li>\n</ol>\n<p>If you do not find the same SHA-1 that you had in your project, then you can click on <code>Add an Item</code> to add the app. Pass package name and SHA-1 and submit.</p>\n<p>Try again to connect firebase APIs after 5-10 mins.</p>\n<p><a href=\"https://i.stack.imgur.com/iZPmu.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/iZPmu.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":19345709,"reputation":205,"user_id":14144329,"display_name":"K D"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604744637,"creation_date":1604698340,"answer_id":64721864,"question_id":61453640,"body_markdown":"To fix this error read this file using CMD or Windows Explorer\r\n\r\nPS `C:\\Users\\Any&gt; keytool -keystore C:\\Users\\Any\\.android\\debug.keystore -list -v`\r\n\r\nEnter keystore password:\r\n\r\nUse &#39;KeyStore Explorer&#39; from https://keystore-explorer.org/downloads.html\r\n\r\n&amp; paste it here:\r\nhttps://console.developers.google.com/apis/credentials/key/\r\n","title":"Android Error when communicating with the Firebase Installations server API","body":"<p>To fix this error read this file using CMD or Windows Explorer</p>\n<p>PS <code>C:\\Users\\Any&gt; keytool -keystore C:\\Users\\Any\\.android\\debug.keystore -list -v</code></p>\n<p>Enter keystore password:</p>\n<p>Use 'KeyStore Explorer' from <a href=\"https://keystore-explorer.org/downloads.html\" rel=\"nofollow noreferrer\">https://keystore-explorer.org/downloads.html</a></p>\n<p>&amp; paste it here:\n<a href=\"https://console.developers.google.com/apis/credentials/key/\" rel=\"nofollow noreferrer\">https://console.developers.google.com/apis/credentials/key/</a></p>\n"},{"tags":[],"owner":{"account_id":9809771,"reputation":6806,"user_id":10699119,"display_name":"Sana Ebadi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613385221,"creation_date":1613385221,"answer_id":66206400,"question_id":61453640,"body_markdown":"Just Register your app in the `Firebase` console again. \r\nand get the `googl-service.json` file and replace it with old. it will be solve","title":"Android Error when communicating with the Firebase Installations server API","body":"<p>Just Register your app in the <code>Firebase</code> console again.\nand get the <code>googl-service.json</code> file and replace it with old. it will be solve</p>\n"},{"tags":[],"owner":{"account_id":11516344,"reputation":1697,"user_id":8439604,"display_name":"Abdul Mateen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619842688,"creation_date":1619842688,"answer_id":67342831,"question_id":61453640,"body_markdown":"If you are facing this issue in the Flutter app then go to your project directory and delete the build folder. Hopefully, it will work. ","title":"Android Error when communicating with the Firebase Installations server API","body":"<p>If you are facing this issue in the Flutter app then go to your project directory and delete the build folder. Hopefully, it will work.</p>\n"},{"tags":[],"owner":{"account_id":18900681,"reputation":219,"user_id":13788736,"display_name":"kevincodes_"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620923405,"creation_date":1620923405,"answer_id":67522798,"question_id":61453640,"body_markdown":"Here&#39;s what made that error go away for my app:\r\nI deleted the Project `.gradle` folder, the Project `build` folder and the app `build` folder, all at once. I then re-installed the app, and no more Firebase Installations server API error!","title":"Android Error when communicating with the Firebase Installations server API","body":"<p>Here's what made that error go away for my app:\nI deleted the Project <code>.gradle</code> folder, the Project <code>build</code> folder and the app <code>build</code> folder, all at once. I then re-installed the app, and no more Firebase Installations server API error!</p>\n"},{"tags":[],"owner":{"account_id":8235698,"reputation":145,"user_id":6194988,"accept_rate":0,"display_name":"Mohamed Mohamed Taha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671351020,"creation_date":1628149948,"answer_id":68662605,"question_id":61453640,"body_markdown":"This problem face me and I fixed by go to Google cloud platform and credentials and do API for firebase with Application restrictions or API restrictions as you used.jhvghvj","title":"Android Error when communicating with the Firebase Installations server API","body":"<p>This problem face me and I fixed by go to Google cloud platform and credentials and do API for firebase with Application restrictions or API restrictions as you used.jhvghvj</p>\n"},{"tags":[],"owner":{"account_id":6142349,"reputation":131,"user_id":4789372,"display_name":"Moises Apaza Q"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1629467749,"creation_date":1629467749,"answer_id":68863439,"question_id":61453640,"body_markdown":"If you have changed your API Key on https://console.cloud.google.com or you have restricted it you gotta follow these steps:\r\n\r\n 1. Make sure that your new key is into **google-service.json**(download from firebase console).\r\n\r\n 2. Open the google-service.json, find **api_keys** and leave just the **current_key** that belongs to every environment(dev or prod).\r\n\r\n 3. Go to ***project/app*** and delete the folder ***build***.\r\n\r\n   \r\n\r\n\r\n","title":"Android Error when communicating with the Firebase Installations server API","body":"<p>If you have changed your API Key on <a href=\"https://console.cloud.google.com\" rel=\"nofollow noreferrer\">https://console.cloud.google.com</a> or you have restricted it you gotta follow these steps:</p>\n<ol>\n<li><p>Make sure that your new key is into <strong>google-service.json</strong>(download from firebase console).</p>\n</li>\n<li><p>Open the google-service.json, find <strong>api_keys</strong> and leave just the <strong>current_key</strong> that belongs to every environment(dev or prod).</p>\n</li>\n<li><p>Go to <em><strong>project/app</strong></em> and delete the folder <em><strong>build</strong></em>.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":13654567,"reputation":111,"user_id":9851480,"display_name":"Abdulkerim Yıldırım"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631887486,"creation_date":1631887486,"answer_id":69224768,"question_id":61453640,"body_markdown":"Inside Google API&#39;s &amp; Service Credentials  &gt; Android key (auto created by Firebase) &gt; API Restrictions \r\n\r\nSelect All services and save. After 5-10 minute you can check.\r\n","title":"Android Error when communicating with the Firebase Installations server API","body":"<p>Inside Google API's &amp; Service Credentials  &gt; Android key (auto created by Firebase) &gt; API Restrictions</p>\n<p>Select All services and save. After 5-10 minute you can check.</p>\n"},{"tags":[],"owner":{"account_id":4230222,"reputation":1911,"user_id":3462686,"accept_rate":0,"display_name":"Karthikeyan Ganesan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644490764,"creation_date":1644490764,"answer_id":71063900,"question_id":61453640,"body_markdown":"This is mainly happened by your outdated google-services.json file. because sometime you may enable some extra services in firebase has changed the entire structure of that file. so go to your `firebase console -&gt; project settings -&gt; download google-services.json` and replace it\r\n\r\nthen rebuild your app. Now you check your firebase has error","title":"Android Error when communicating with the Firebase Installations server API","body":"<p>This is mainly happened by your outdated google-services.json file. because sometime you may enable some extra services in firebase has changed the entire structure of that file. so go to your <code>firebase console -&gt; project settings -&gt; download google-services.json</code> and replace it</p>\n<p>then rebuild your app. Now you check your firebase has error</p>\n"},{"tags":[],"owner":{"account_id":9283001,"reputation":3209,"user_id":6893709,"accept_rate":0,"display_name":"Ali Bagheri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668498095,"creation_date":1668498095,"answer_id":74442099,"question_id":61453640,"body_markdown":"I had this issue in Iran. after running a VPN my app was connected to firebase.","title":"Android Error when communicating with the Firebase Installations server API","body":"<p>I had this issue in Iran. after running a VPN my app was connected to firebase.</p>\n"}],"owner":{"account_id":8070087,"reputation":875,"user_id":6083135,"accept_rate":83,"display_name":"Daksh Agrawal"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59397,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":61529757,"answer_count":17,"score":35,"last_activity_date":1678126848,"creation_date":1587972320,"question_id":61453640,"body_markdown":"I am getting an Error Message on App Startup Stating Logs like\r\n\r\n    W/Firebase-Installations: Error when communicating with the Firebase Installations server API. HTTP response: [400 Bad Request: {\r\n      &quot;error&quot;: {\r\n        &quot;code&quot;: 400,\r\n        &quot;message&quot;: &quot;API key not valid. Please pass a valid API key.&quot;,\r\n        &quot;status&quot;: &quot;INVALID_ARGUMENT&quot;,\r\n        &quot;details&quot;: [\r\n          {\r\n            &quot;@type&quot;: &quot;type.googleapis.com/google.rpc.Help&quot;,\r\n            &quot;links&quot;: [\r\n              {\r\n                &quot;description&quot;: &quot;Google developers console&quot;,\r\n                &quot;url&quot;: &quot;https://console.developers.google.com&quot;\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      }\r\n    }\r\n    ]\r\n    2020-04-27 12:42:34.621 22226-23596/in.co.androidapp.g7 E/Firebase-Installations: Firebase Installations can not communicate with Firebase server APIs due to invalid configuration. Please update your Firebase initialization process and set valid Firebase options (API key, Project ID, Application ID) when initializing Firebase.\r\n\r\nI got an email about a week earlier that I should update my google_services.json File, which I have done 4-5 times. No Improvements. It had been working fine for around a year. Its been only 2-3 days since I am facing this issue in the app.\r\n\r\nSubsequently, Firebase Cloud Messaging and other firebase services are not working. I am not doing programmatic initialization (that is, using a FirebaseOptions object to provide these values), just the default initialization using `FirebaseApp.initializeApp(this);`\r\n\r\nI have tried https://github.com/firebase/firebase-android-sdk/blob/master/firebase-installations/API_KEY_RESTRICTIONS.md\r\n\r\nThanks in Advance.","title":"Android Error when communicating with the Firebase Installations server API","body":"<p>I am getting an Error Message on App Startup Stating Logs like</p>\n\n<pre><code>W/Firebase-Installations: Error when communicating with the Firebase Installations server API. HTTP response: [400 Bad Request: {\n  \"error\": {\n    \"code\": 400,\n    \"message\": \"API key not valid. Please pass a valid API key.\",\n    \"status\": \"INVALID_ARGUMENT\",\n    \"details\": [\n      {\n        \"@type\": \"type.googleapis.com/google.rpc.Help\",\n        \"links\": [\n          {\n            \"description\": \"Google developers console\",\n            \"url\": \"https://console.developers.google.com\"\n          }\n        ]\n      }\n    ]\n  }\n}\n]\n2020-04-27 12:42:34.621 22226-23596/in.co.androidapp.g7 E/Firebase-Installations: Firebase Installations can not communicate with Firebase server APIs due to invalid configuration. Please update your Firebase initialization process and set valid Firebase options (API key, Project ID, Application ID) when initializing Firebase.\n</code></pre>\n\n<p>I got an email about a week earlier that I should update my google_services.json File, which I have done 4-5 times. No Improvements. It had been working fine for around a year. Its been only 2-3 days since I am facing this issue in the app.</p>\n\n<p>Subsequently, Firebase Cloud Messaging and other firebase services are not working. I am not doing programmatic initialization (that is, using a FirebaseOptions object to provide these values), just the default initialization using <code>FirebaseApp.initializeApp(this);</code></p>\n\n<p>I have tried <a href=\"https://github.com/firebase/firebase-android-sdk/blob/master/firebase-installations/API_KEY_RESTRICTIONS.md\" rel=\"noreferrer\">https://github.com/firebase/firebase-android-sdk/blob/master/firebase-installations/API_KEY_RESTRICTIONS.md</a></p>\n\n<p>Thanks in Advance.</p>\n"},{"tags":["java","cloud","cloudsim"],"owner":{"account_id":21988787,"reputation":1,"user_id":16262619,"display_name":"Ta9iii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678126422,"creation_date":1678114208,"question_id":75652273,"body_markdown":"I faced problem in cloudsim \r\nI want to calculate the ram, cpu and bandwidth requirements for a given cloudlet \r\n\r\nhere is an example of param for one cloudlet(task)\r\n\r\n```\r\n long fileSize = 300;\r\n long outputSize = 300;\r\n int pesNumber = 1;\r\n```\r\nand the utilization model is full : that means the cloudlets will use 100% of vm&#39;s resources(specification)\r\n\r\ni want to know how to calculate all those params\r\n","title":"Calculate RAM,CPU and BW for cloudlet in cloudsim","body":"<p>I faced problem in cloudsim\nI want to calculate the ram, cpu and bandwidth requirements for a given cloudlet</p>\n<p>here is an example of param for one cloudlet(task)</p>\n<pre><code> long fileSize = 300;\n long outputSize = 300;\n int pesNumber = 1;\n</code></pre>\n<p>and the utilization model is full : that means the cloudlets will use 100% of vm's resources(specification)</p>\n<p>i want to know how to calculate all those params</p>\n"},{"tags":["java","spring-boot","tomcat"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1678114944,"post_id":75652207,"comment_id":133465902,"body_markdown":"Client also shows 2 minutes or so delay. My bet is that client is not closing the connection so the server closes it after the timeout expired and then it serves the queued request.","body":"Client also shows 2 minutes or so delay. My bet is that client is not closing the connection so the server closes it after the timeout expired and then it serves the queued request."},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":1,"creation_date":1678116720,"post_id":75652207,"comment_id":133466493,"body_markdown":"`HttpURLConnection.getInputSteam().close()`","body":"<code>HttpURLConnection.getInputSteam().close()</code>"},{"owner":{"account_id":15647173,"reputation":135,"user_id":11289119,"display_name":"Stefano Riffaldi"},"score":0,"creation_date":1678121936,"post_id":75652207,"comment_id":133468093,"body_markdown":"@LMC that&#39;s it, thanks so much ! how I can do that when i launch curl ?","body":"@LMC that&#39;s it, thanks so much ! how I can do that when i launch curl ?"},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1678123576,"post_id":75652207,"comment_id":133468580,"body_markdown":"What do you mean curl? On command line? Besides, I added the answer that you can accept and upvote if you wish.","body":"What do you mean curl? On command line? Besides, I added the answer that you can accept and upvote if you wish."},{"owner":{"account_id":15647173,"reputation":135,"user_id":11289119,"display_name":"Stefano Riffaldi"},"score":0,"creation_date":1678176574,"post_id":75652207,"comment_id":133478022,"body_markdown":"@LMC yes I mean via command line. Issue is that, code confirm, what Im asking for is why its happening via CURL ? how can I close connection when I launch &quot;curl -v http://localhost:8080/sleep&quot; ?","body":"@LMC yes I mean via command line. Issue is that, code confirm, what Im asking for is why its happening via CURL ? how can I close connection when I launch &quot;curl -v <a href=\"http://localhost:8080/sleep\" rel=\"nofollow noreferrer\">localhost:8080/sleep</a>&quot; ?"},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1678196213,"post_id":75652207,"comment_id":133483230,"body_markdown":"Try sending the header `curl -v -H &quot;Connection: close&quot; example.com`","body":"Try sending the header <code>curl -v -H &quot;Connection: close&quot; example.com</code>"}],"answers":[{"tags":[],"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678126370,"creation_date":1678123517,"answer_id":75653954,"question_id":75652207,"body_markdown":"\r\nClient also shows a delay of 2 minutes or so. That client is not closing the connection so the server closes it after the timeout expired and then it serves the queued request.\r\n\r\nTo close the conection on client side add\r\n\r\n    HttpURLConnection.getInputSteam().close()","title":"huge delay between request in Tomcat 8.0.53 and spring boot tuning maxConnections / maxThreads / acceptCount","body":"<p>Client also shows a delay of 2 minutes or so. That client is not closing the connection so the server closes it after the timeout expired and then it serves the queued request.</p>\n<p>To close the conection on client side add</p>\n<pre><code>HttpURLConnection.getInputSteam().close()\n</code></pre>\n"}],"owner":{"account_id":15647173,"reputation":135,"user_id":11289119,"display_name":"Stefano Riffaldi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75653954,"answer_count":1,"score":0,"last_activity_date":1678126370,"creation_date":1678113848,"question_id":75652207,"body_markdown":"I&#39;m trying to understand how maxConnections / maxThreads / acceptCount works to fine tune my container.\r\nAccording to [tomcat-8.0-doc][1] and [spring-boot 1.5.8.RELEASE docs][2] I create [this][3] sample project.\r\n\r\nI encounter a strange behavior:\r\nIf I set maxConnection = maxThreads = 1 and acceptCount = 1 ( just because 0 means infinite ) and I send 5 concurrent request, I expect 3 &quot;Connection refused&quot;, and other 2 perform &quot;sleep&quot;, one after the other ( because of maxThreads = 1 ).\r\n\r\nSo, the sequence is correct, but there is somwthing wrong:\r\n\r\nClient side: all as expected\r\n\r\n    15:33:49.455 INFO  ConnectionTest:52 [2] Getting Response Code\r\n    15:33:49.455 INFO  ConnectionTest:52 [4] Getting Response Code\r\n    15:33:49.456 INFO  ConnectionTest:52 [0] Getting Response Code\r\n    15:33:49.455 INFO  ConnectionTest:52 [3] Getting Response Code\r\n    15:33:49.461 INFO  ConnectionTest:52 [1] Getting Response Code\r\n    15:33:51.499 ERROR ConnectionTest:56 [0] java.net.ConnectException: Connection refused: connect\r\n    15:33:51.499 ERROR ConnectionTest:56 [2] java.net.ConnectException: Connection refused: connect\r\n    15:33:51.499 ERROR ConnectionTest:56 [3] java.net.ConnectException: Connection refused: connect\r\n    15:33:59.483 INFO  ConnectionTest:54 [1] Response Code: 200\r\n    15:35:10.041 INFO  ConnectionTest:54 [4] Response Code: 200\r\n\r\nServer side: there is a huge delay between the end of the first request and start of the second\r\n\r\n    15:33:49.473 INFO  SampleController:33 [D81EE650351DA872CBD15589A91BE129] sleep 10\r\n    15:33:59.479 INFO  SampleController:36 [D81EE650351DA872CBD15589A91BE129] ending [10006ms]\r\n    15:35:00.034 INFO  SampleController:33 [2B8A8D158EF02D1A054F067FC0A8273F] sleep 10\r\n    15:35:10.038 INFO  SampleController:36 [2B8A8D158EF02D1A054F067FC0A8273F] ending [10004ms]\r\n\r\nI tried to perform client task via Java Code (in test folder) and via SOAP UI / PostMan / curl and the delay found is different, so I thinks is something in client side.\r\n\r\nSomeone can help me ?\r\n\r\n\r\n  [1]: https://tomcat.apache.org/tomcat-8.0-doc/config/http.html#Introduction\r\n  [2]: https://docs.spring.io/spring-boot/docs/1.5.8.RELEASE/reference/htmlsingle\r\n  [3]: https://github.com/stefanoriffaldi/poc-tomcat-max-connections-2","title":"huge delay between request in Tomcat 8.0.53 and spring boot tuning maxConnections / maxThreads / acceptCount","body":"<p>I'm trying to understand how maxConnections / maxThreads / acceptCount works to fine tune my container.\nAccording to <a href=\"https://tomcat.apache.org/tomcat-8.0-doc/config/http.html#Introduction\" rel=\"nofollow noreferrer\">tomcat-8.0-doc</a> and <a href=\"https://docs.spring.io/spring-boot/docs/1.5.8.RELEASE/reference/htmlsingle\" rel=\"nofollow noreferrer\">spring-boot 1.5.8.RELEASE docs</a> I create <a href=\"https://github.com/stefanoriffaldi/poc-tomcat-max-connections-2\" rel=\"nofollow noreferrer\">this</a> sample project.</p>\n<p>I encounter a strange behavior:\nIf I set maxConnection = maxThreads = 1 and acceptCount = 1 ( just because 0 means infinite ) and I send 5 concurrent request, I expect 3 &quot;Connection refused&quot;, and other 2 perform &quot;sleep&quot;, one after the other ( because of maxThreads = 1 ).</p>\n<p>So, the sequence is correct, but there is somwthing wrong:</p>\n<p>Client side: all as expected</p>\n<pre><code>15:33:49.455 INFO  ConnectionTest:52 [2] Getting Response Code\n15:33:49.455 INFO  ConnectionTest:52 [4] Getting Response Code\n15:33:49.456 INFO  ConnectionTest:52 [0] Getting Response Code\n15:33:49.455 INFO  ConnectionTest:52 [3] Getting Response Code\n15:33:49.461 INFO  ConnectionTest:52 [1] Getting Response Code\n15:33:51.499 ERROR ConnectionTest:56 [0] java.net.ConnectException: Connection refused: connect\n15:33:51.499 ERROR ConnectionTest:56 [2] java.net.ConnectException: Connection refused: connect\n15:33:51.499 ERROR ConnectionTest:56 [3] java.net.ConnectException: Connection refused: connect\n15:33:59.483 INFO  ConnectionTest:54 [1] Response Code: 200\n15:35:10.041 INFO  ConnectionTest:54 [4] Response Code: 200\n</code></pre>\n<p>Server side: there is a huge delay between the end of the first request and start of the second</p>\n<pre><code>15:33:49.473 INFO  SampleController:33 [D81EE650351DA872CBD15589A91BE129] sleep 10\n15:33:59.479 INFO  SampleController:36 [D81EE650351DA872CBD15589A91BE129] ending [10006ms]\n15:35:00.034 INFO  SampleController:33 [2B8A8D158EF02D1A054F067FC0A8273F] sleep 10\n15:35:10.038 INFO  SampleController:36 [2B8A8D158EF02D1A054F067FC0A8273F] ending [10004ms]\n</code></pre>\n<p>I tried to perform client task via Java Code (in test folder) and via SOAP UI / PostMan / curl and the delay found is different, so I thinks is something in client side.</p>\n<p>Someone can help me ?</p>\n"},{"tags":["java","android","location","google-location-services","fusedlocationproviderclient"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1678165081,"post_id":75654353,"comment_id":133475980,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":1906384,"reputation":51,"user_id":1721171,"display_name":"Michael Remme"},"score":0,"creation_date":1678203749,"post_id":75654353,"comment_id":133485684,"body_markdown":"actually i found the solution: i had to add FOREGROUND_SERVICE as permission to the manifest and all works fine","body":"actually i found the solution: i had to add FOREGROUND_SERVICE as permission to the manifest and all works fine"}],"owner":{"account_id":1906384,"reputation":51,"user_id":1721171,"display_name":"Michael Remme"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678126138,"creation_date":1678126138,"question_id":75654353,"body_markdown":"I want to implement a logger, which stores the location of the client after a certain time or when the position is changed. When i am starting the logger, it serves the location only one time. When i am changing the position of the client, nothing happens. \r\nThe permissions ACCESS_FINE_LOCATION, ACCESS_COARSE_LOCATION, WRITE_EXTERNAL_STORAGE are granted and i am using an emulator with play store installed.\r\n\r\nHere is my code:\r\n\r\n\r\n```\r\nimport android.annotation.SuppressLint;\r\nimport android.location.Location;\r\nimport android.os.Looper;\r\nimport android.util.Log;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.fragment.app.FragmentActivity;\r\n\r\nimport com.google.android.gms.location.FusedLocationProviderClient;\r\nimport com.google.android.gms.location.Granularity;\r\nimport com.google.android.gms.location.LocationCallback;\r\nimport com.google.android.gms.location.LocationRequest;\r\nimport com.google.android.gms.location.LocationResult;\r\nimport com.google.android.gms.location.LocationServices;\r\nimport com.google.android.gms.location.Priority;\r\nimport com.google.android.gms.tasks.OnCanceledListener;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.OnFailureListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.android.gms.tasks.Task;\r\n\r\nimport de.remi.locker.database.entities.Trip;\r\nimport de.remi.locker.util.MapsHelper;\r\nimport de.remi.locker.util.PermissionHelper;\r\n\r\npublic class AndroidLogger implements AutoLogger.ILoggerClient {\r\n    private static final String TAG = &quot;AndroidLogger&quot;;\r\n    private final FragmentActivity activity;\r\n    private FusedLocationProviderClient client;\r\n    private LocationCallback callBack;\r\n\r\n    public AndroidLogger(FragmentActivity activity) {\r\n        this.activity = activity;\r\n        init();\r\n    }\r\n\r\n    private void init() {\r\n        client = LocationServices.getFusedLocationProviderClient(activity);\r\n        callBack = new LocationCallback() {\r\n            @Override\r\n            public void onLocationResult(@NonNull LocationResult locationResult) {\r\n                locationResult.getLocations().forEach(location -&gt; handleLocation(location));\r\n            }\r\n        };\r\n    }\r\n\r\n    private void handleLocation(Location location) {\r\n        Log.d(TAG, &quot;handleLocation: &quot; + location);\r\n    }\r\n\r\n    private LocationRequest getLocationRequest() {\r\n        LocationRequest.Builder builder = new LocationRequest.Builder(10000);\r\n        builder.setMinUpdateDistanceMeters(50);\r\n        builder.setDurationMillis(60 * 1000);\r\n        builder.setGranularity(Granularity.GRANULARITY_FINE);\r\n        builder.setWaitForAccurateLocation(false);\r\n        builder.setPriority(Priority.PRIORITY_HIGH_ACCURACY);\r\n        return builder.build();\r\n    }\r\n\r\n    @SuppressLint(&quot;MissingPermission&quot;)\r\n    @Override\r\n    public void startLogging(Trip trip) {\r\n        if (!PermissionHelper.hasPermissions(activity.getApplicationContext(), MapsHelper.OSM_PERMISSIONS))\r\n            throw new UnsupportedOperationException(&quot;permissions missing &quot;);\r\n\r\n        client.requestLocationUpdates(getLocationRequest(), callBack, Looper.myLooper()).addOnCanceledListener(new OnCanceledListener() {\r\n            @Override\r\n            public void onCanceled() {\r\n                Log.d(TAG, &quot;onCanceled: &quot;);\r\n            }\r\n        }).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                Log.d(TAG, &quot;onComplete: &quot;);\r\n            }\r\n        }).addOnFailureListener(new OnFailureListener() {\r\n            @Override\r\n            public void onFailure(@NonNull Exception e) {\r\n                Log.e(TAG, &quot;onFailure: &quot;, e);\r\n            }\r\n        }).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n            @Override\r\n            public void onSuccess(Void unused) {\r\n                Log.d(TAG, &quot;onSuccess: &quot;);\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void stopLogging() {\r\n        client.removeLocationUpdates(callBack);\r\n    }\r\n\r\n\r\n```\r\n\r\n\r\nIn my understanding every 60 seconds or after a position change of minimum 50 meters a new position log should be performed.\r\nI used several emulators, from API 30 - 33, changed the CallBack to a listener, nothing changed. Also i changed several parameters of the LocationRequest, without any change\r\n\r\nHope anybody has a helping hint\r\n","title":"Android LocationServices respond only one time","body":"<p>I want to implement a logger, which stores the location of the client after a certain time or when the position is changed. When i am starting the logger, it serves the location only one time. When i am changing the position of the client, nothing happens.\nThe permissions ACCESS_FINE_LOCATION, ACCESS_COARSE_LOCATION, WRITE_EXTERNAL_STORAGE are granted and i am using an emulator with play store installed.</p>\n<p>Here is my code:</p>\n<pre><code>import android.annotation.SuppressLint;\nimport android.location.Location;\nimport android.os.Looper;\nimport android.util.Log;\n\nimport androidx.annotation.NonNull;\nimport androidx.fragment.app.FragmentActivity;\n\nimport com.google.android.gms.location.FusedLocationProviderClient;\nimport com.google.android.gms.location.Granularity;\nimport com.google.android.gms.location.LocationCallback;\nimport com.google.android.gms.location.LocationRequest;\nimport com.google.android.gms.location.LocationResult;\nimport com.google.android.gms.location.LocationServices;\nimport com.google.android.gms.location.Priority;\nimport com.google.android.gms.tasks.OnCanceledListener;\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.OnFailureListener;\nimport com.google.android.gms.tasks.OnSuccessListener;\nimport com.google.android.gms.tasks.Task;\n\nimport de.remi.locker.database.entities.Trip;\nimport de.remi.locker.util.MapsHelper;\nimport de.remi.locker.util.PermissionHelper;\n\npublic class AndroidLogger implements AutoLogger.ILoggerClient {\n    private static final String TAG = &quot;AndroidLogger&quot;;\n    private final FragmentActivity activity;\n    private FusedLocationProviderClient client;\n    private LocationCallback callBack;\n\n    public AndroidLogger(FragmentActivity activity) {\n        this.activity = activity;\n        init();\n    }\n\n    private void init() {\n        client = LocationServices.getFusedLocationProviderClient(activity);\n        callBack = new LocationCallback() {\n            @Override\n            public void onLocationResult(@NonNull LocationResult locationResult) {\n                locationResult.getLocations().forEach(location -&gt; handleLocation(location));\n            }\n        };\n    }\n\n    private void handleLocation(Location location) {\n        Log.d(TAG, &quot;handleLocation: &quot; + location);\n    }\n\n    private LocationRequest getLocationRequest() {\n        LocationRequest.Builder builder = new LocationRequest.Builder(10000);\n        builder.setMinUpdateDistanceMeters(50);\n        builder.setDurationMillis(60 * 1000);\n        builder.setGranularity(Granularity.GRANULARITY_FINE);\n        builder.setWaitForAccurateLocation(false);\n        builder.setPriority(Priority.PRIORITY_HIGH_ACCURACY);\n        return builder.build();\n    }\n\n    @SuppressLint(&quot;MissingPermission&quot;)\n    @Override\n    public void startLogging(Trip trip) {\n        if (!PermissionHelper.hasPermissions(activity.getApplicationContext(), MapsHelper.OSM_PERMISSIONS))\n            throw new UnsupportedOperationException(&quot;permissions missing &quot;);\n\n        client.requestLocationUpdates(getLocationRequest(), callBack, Looper.myLooper()).addOnCanceledListener(new OnCanceledListener() {\n            @Override\n            public void onCanceled() {\n                Log.d(TAG, &quot;onCanceled: &quot;);\n            }\n        }).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                Log.d(TAG, &quot;onComplete: &quot;);\n            }\n        }).addOnFailureListener(new OnFailureListener() {\n            @Override\n            public void onFailure(@NonNull Exception e) {\n                Log.e(TAG, &quot;onFailure: &quot;, e);\n            }\n        }).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n            @Override\n            public void onSuccess(Void unused) {\n                Log.d(TAG, &quot;onSuccess: &quot;);\n            }\n        });\n    }\n\n    @Override\n    public void stopLogging() {\n        client.removeLocationUpdates(callBack);\n    }\n\n\n</code></pre>\n<p>In my understanding every 60 seconds or after a position change of minimum 50 meters a new position log should be performed.\nI used several emulators, from API 30 - 33, changed the CallBack to a listener, nothing changed. Also i changed several parameters of the LocationRequest, without any change</p>\n<p>Hope anybody has a helping hint</p>\n"},{"tags":["java","android","parsing","firebase-realtime-database","time"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1678104065,"post_id":75650584,"comment_id":133462666,"body_markdown":"What&#39;s the value of `getSub` inside your reference?","body":"What&#39;s the value of <code>getSub</code> inside your reference?"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1678104116,"post_id":75650584,"comment_id":133462683,"body_markdown":"Note: if you can, you should stop using `Calendar`, `Date` and `SimpleDateFormat`, since they are obsolete. Use classes from the `java.time` package.","body":"Note: if you can, you should stop using <code>Calendar</code>, <code>Date</code> and <code>SimpleDateFormat</code>, since they are obsolete. Use classes from the <code>java.time</code> package."},{"owner":{"account_id":15504084,"reputation":3,"user_id":12823758,"display_name":"Venise Moises Joseph"},"score":0,"creation_date":1678104137,"post_id":75650584,"comment_id":133462688,"body_markdown":"the value is the current subject, typically the MSYADD1. I get the value of that textView since it will be the basis if that subject is existing.","body":"the value is the current subject, typically the MSYADD1. I get the value of that textView since it will be the basis if that subject is existing."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1678104151,"post_id":75650584,"comment_id":133462693,"body_markdown":"1) do not use `Date`, `Calendar`, `SimpleDateTime`, ... all outdated by the `java.time` package. 2) this seems too complicated, getting a Date, then to Calendar, back to Data... maybe `LocalTime timeIn = LocalTime.parse(text, formatter); if (timeIn.isAfter(LocalTime.now)) { ... }`","body":"1) do not use <code>Date</code>, <code>Calendar</code>, <code>SimpleDateTime</code>, ... all outdated by the <code>java.time</code> package. 2) this seems too complicated, getting a Date, then to Calendar, back to Data... maybe <code>LocalTime timeIn = LocalTime.parse(text, formatter); if (timeIn.isAfter(LocalTime.now)) { ... }</code>"},{"owner":{"account_id":15504084,"reputation":3,"user_id":12823758,"display_name":"Venise Moises Joseph"},"score":0,"creation_date":1678104288,"post_id":75650584,"comment_id":133462725,"body_markdown":"how do I use the java.time package?","body":"how do I use the java.time package?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1678110960,"post_id":75650584,"comment_id":133464656,"body_markdown":"*how do I use the java.time package?* (1) [Official Oreacle tutorial](https://docs.oracle.com/javase/tutorial/datetime/index.html) (2) If for older Android versions (before API 26/Oreo), through [core library desugaring](https://developer.android.com/studio/write/java8-support)","body":"<i>how do I use the java.time package?</i> (1) <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Official Oreacle tutorial</a> (2) If for older Android versions (before API 26/Oreo), through <a href=\"https://developer.android.com/studio/write/java8-support\" rel=\"nofollow noreferrer\">core library desugaring</a>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1678111012,"post_id":75650584,"comment_id":133464672,"body_markdown":"Did you search? This and similar questions have been asked and answered more than once before.","body":"Did you search? This and similar questions have been asked and answered more than once before."}],"owner":{"account_id":15504084,"reputation":3,"user_id":12823758,"display_name":"Venise Moises Joseph"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678125990,"answer_count":0,"score":0,"last_activity_date":1678126133,"creation_date":1678103869,"question_id":75650584,"body_markdown":"I am trying to compare the Time In or start time of the Subject and the current time. so for simple explanation, here&#39;s what I am trying to do..\r\n\r\nif currentTime is beyond TimeIn, then I will toast a message &quot;late&quot;, then if not beyond, then it will start a new activity.\r\n\r\n![enter image description here](https://i.stack.imgur.com/4mRjp.png) \r\n\r\nin the image it shows the data and I am trying to get the pSubjtimeIn...\r\n\r\nhere is my code that I am trying...\r\n\r\n```\r\nString getSub = curSubj.getText().toString().trim();\r\n\r\ndbref = FirebaseDatabase.getInstance().getReference(&quot;Subjects&quot;).child(getSub).child(&quot;pSubjtimeIn&quot;);\r\n\r\ndbref.addValueEventListener(new ValueEventListener() {\r\n    @Override\r\n    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n\r\n        if (snapshot.exists()) {\r\n//I still got an error here Can&#39;t convert object of type java.lang.String to type            \r\nSectionClass data = snapshot.getValue(SectionClass.class);\r\n            if (data != null) {\r\n                String getTime = data.getpSubjtimeIn();\r\n                Toast.makeText(StudentHomePage.this, &quot;&quot; + getTime, Toast.LENGTH_SHORT).show();\r\n                if (getTime != null) {\r\n                    SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;h:mm a&quot;, Locale.getDefault());\r\n                    Date storedTime = null;\r\n                    try {\r\n                        storedTime = dateFormat.parse(getTime);\r\n                    } catch (ParseException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n\r\n                    if (storedTime != null) {\r\n                        Calendar calendar = Calendar.getInstance();\r\n                        Date currentTime = calendar.getTime();\r\n\r\n                        calendar.setTime(storedTime);\r\n                        calendar.add(Calendar.MINUTE, 15);\r\n                        Date latetime = calendar.getTime();\r\n\r\n                        if (currentTime.after(storedTime) &amp;&amp; currentTime.before(latetime)) {\r\n                            Toast.makeText(getApplicationContext(), &quot;Late&quot;, Toast.LENGTH_SHORT).show();\r\n                        } else {\r\n                            Intent intent = new Intent(StudentHomePage.this, Present.class);\r\n                            startActivity(intent);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n```","title":"Compare time in to current time","body":"<p>I am trying to compare the Time In or start time of the Subject and the current time. so for simple explanation, here's what I am trying to do..</p>\n<p>if currentTime is beyond TimeIn, then I will toast a message &quot;late&quot;, then if not beyond, then it will start a new activity.</p>\n<p><img src=\"https://i.stack.imgur.com/4mRjp.png\" alt=\"enter image description here\" /></p>\n<p>in the image it shows the data and I am trying to get the pSubjtimeIn...</p>\n<p>here is my code that I am trying...</p>\n<pre><code>String getSub = curSubj.getText().toString().trim();\n\ndbref = FirebaseDatabase.getInstance().getReference(&quot;Subjects&quot;).child(getSub).child(&quot;pSubjtimeIn&quot;);\n\ndbref.addValueEventListener(new ValueEventListener() {\n    @Override\n    public void onDataChange(@NonNull DataSnapshot snapshot) {\n\n        if (snapshot.exists()) {\n//I still got an error here Can't convert object of type java.lang.String to type            \nSectionClass data = snapshot.getValue(SectionClass.class);\n            if (data != null) {\n                String getTime = data.getpSubjtimeIn();\n                Toast.makeText(StudentHomePage.this, &quot;&quot; + getTime, Toast.LENGTH_SHORT).show();\n                if (getTime != null) {\n                    SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;h:mm a&quot;, Locale.getDefault());\n                    Date storedTime = null;\n                    try {\n                        storedTime = dateFormat.parse(getTime);\n                    } catch (ParseException e) {\n                        e.printStackTrace();\n                    }\n\n                    if (storedTime != null) {\n                        Calendar calendar = Calendar.getInstance();\n                        Date currentTime = calendar.getTime();\n\n                        calendar.setTime(storedTime);\n                        calendar.add(Calendar.MINUTE, 15);\n                        Date latetime = calendar.getTime();\n\n                        if (currentTime.after(storedTime) &amp;&amp; currentTime.before(latetime)) {\n                            Toast.makeText(getApplicationContext(), &quot;Late&quot;, Toast.LENGTH_SHORT).show();\n                        } else {\n                            Intent intent = new Intent(StudentHomePage.this, Present.class);\n                            startActivity(intent);\n                        }\n                    }\n                }\n            }\n        }\n</code></pre>\n"},{"tags":["java","generics","casting","typechecking","consumer"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1678122329,"post_id":75653662,"comment_id":133468223,"body_markdown":"Why do you think that a `Map&lt;Step, Consumer&lt;? extends Step&gt;&gt;` is readonly?","body":"Why do you think that a <code>Map&lt;Step, Consumer&lt;? extends Step&gt;&gt;</code> is readonly?"},{"owner":{"account_id":26979893,"reputation":33,"user_id":20544416,"display_name":"Daniel Mendes Sechinske"},"score":0,"creation_date":1678125288,"post_id":75653662,"comment_id":133469082,"body_markdown":"Not sure, I just read a similar post about it here in stackoverflow, can&#39;t seem to find it again to link it here tho","body":"Not sure, I just read a similar post about it here in stackoverflow, can&#39;t seem to find it again to link it here tho"}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678122278,"creation_date":1678122278,"answer_id":75653746,"question_id":75653662,"body_markdown":"The compiler has no way of confirming that the subtype of Step that&#39;s the key of the Map is the *same* subtype of the Consumer for the key&#39;s value in the Map.\r\n\r\n*You* know that, so *you* know the unchecked cast is safe.\r\n\r\nGo with the unchecked cast.","title":"Usage of polymorphism with Map and Consumer from Java","body":"<p>The compiler has no way of confirming that the subtype of Step that's the key of the Map is the <em>same</em> subtype of the Consumer for the key's value in the Map.</p>\n<p><em>You</em> know that, so <em>you</em> know the unchecked cast is safe.</p>\n<p>Go with the unchecked cast.</p>\n"}],"owner":{"account_id":26979893,"reputation":33,"user_id":20544416,"display_name":"Daniel Mendes Sechinske"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678125963,"creation_date":1678121766,"question_id":75653662,"body_markdown":"I have a class like this\r\n\r\n```\r\npublic class Foo {\r\n\tprivate final Map&lt;Step, Consumer&lt;Step&gt;&gt; context = new LinkedHashMap&lt;&gt;();\r\n\t\r\n\tpublic &lt;T extends Step&gt; void save(Consumer&lt;T&gt; consumer, T step) {\r\n\t\tthis.context.put(step, consumer);\r\n\t}\r\n}\r\n```\r\n\r\nAs you can see, I wanna be able to save any class that is a child of `Step` inside my `Map` context, but I get the following error\r\n\r\n```\r\nProvided Consumer&lt;T&gt;, Required Consumer&lt;Step&gt;\r\n```\r\n\r\nIs any way to achieve the desired result by using generics?\r\n\r\nSome things I tried are:\r\n\r\n - Changing the `Map` type to `&lt;? extends Step&gt;`, but this throw a new error, because it seems that when you use the wildcard `?` you have a read-only `Map`.\r\n - Typecasting like below\r\n\r\n```\r\npublic class Foo {\r\n\tprivate final Map&lt;Step, Consumer&lt;Step&gt;&gt; context = new LinkedHashMap&lt;&gt;();\r\n\t\r\n\tpublic &lt;T extends Step&gt; void save(Consumer&lt;T&gt; consumer, T step) {\r\n\t\tthis.context.put(step, (Consumer&lt;Step&gt;) consumer);\r\n\t}\r\n}\r\n```\r\n\r\nThe later seems to work, but I get a `Unchecked cast` warning on my console. If this is the way to go, I would like to know what are the downsides of it and how would be an apropriate way to check for it.","title":"Usage of polymorphism with Map and Consumer from Java","body":"<p>I have a class like this</p>\n<pre><code>public class Foo {\n    private final Map&lt;Step, Consumer&lt;Step&gt;&gt; context = new LinkedHashMap&lt;&gt;();\n    \n    public &lt;T extends Step&gt; void save(Consumer&lt;T&gt; consumer, T step) {\n        this.context.put(step, consumer);\n    }\n}\n</code></pre>\n<p>As you can see, I wanna be able to save any class that is a child of <code>Step</code> inside my <code>Map</code> context, but I get the following error</p>\n<pre><code>Provided Consumer&lt;T&gt;, Required Consumer&lt;Step&gt;\n</code></pre>\n<p>Is any way to achieve the desired result by using generics?</p>\n<p>Some things I tried are:</p>\n<ul>\n<li>Changing the <code>Map</code> type to <code>&lt;? extends Step&gt;</code>, but this throw a new error, because it seems that when you use the wildcard <code>?</code> you have a read-only <code>Map</code>.</li>\n<li>Typecasting like below</li>\n</ul>\n<pre><code>public class Foo {\n    private final Map&lt;Step, Consumer&lt;Step&gt;&gt; context = new LinkedHashMap&lt;&gt;();\n    \n    public &lt;T extends Step&gt; void save(Consumer&lt;T&gt; consumer, T step) {\n        this.context.put(step, (Consumer&lt;Step&gt;) consumer);\n    }\n}\n</code></pre>\n<p>The later seems to work, but I get a <code>Unchecked cast</code> warning on my console. If this is the way to go, I would like to know what are the downsides of it and how would be an apropriate way to check for it.</p>\n"},{"tags":["java","hibernate","spring-data-jpa","many-to-many"],"answers":[{"tags":[],"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1678125891,"creation_date":1638073938,"answer_id":70140680,"question_id":70139667,"body_markdown":"Either declare Primary Key with auto increment or pass primary from json request. If you are not doing like that, The primary key is stored with `0` value in a database.\r\n\r\nDeclare primary key with `@GeneratedValue(strategy = GenerationType.IDENTITY)` for auto increment.\r\n\r\n```\r\npublic class Book {\r\n\r\n    @Id\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n    ...\r\n    ...\r\n}\r\n```","title":"Why do I get a java.sql.SQLIntegrityConstraintViolationException from a Hibernate many to many relation (foreign key constraint)","body":"<p>Either declare Primary Key with auto increment or pass primary from json request. If you are not doing like that, The primary key is stored with <code>0</code> value in a database.</p>\n<p>Declare primary key with <code>@GeneratedValue(strategy = GenerationType.IDENTITY)</code> for auto increment.</p>\n<pre><code>public class Book {\n\n    @Id\n    @Column(name = &quot;id&quot;, nullable = false)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n    ...\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":7356285,"reputation":1027,"user_id":5600930,"accept_rate":56,"display_name":"Mint"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":495,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70140680,"answer_count":1,"score":2,"last_activity_date":1678125891,"creation_date":1638057705,"question_id":70139667,"body_markdown":"I have `tbl_books` which has m2m with `tbl_author`. I want to save a book and its authors. I&#39;m able to save the book if I don&#39;t include a list of authors but how am I suppose to save the authors to the book? Do I need to create the tbl_book_authors table in order to achieve this?\r\n\r\n    {\r\n        &quot;title&quot;: &quot;a new book&quot;,\r\n        &quot;publisher&quot;: {\r\n            &quot;id&quot;: 7\r\n        },\r\n        &quot;authors&quot;: [\r\n            {\r\n                &quot;id&quot;: 3\r\n            }\r\n        ]\r\n    }\r\n\r\n \r\n[![enter image description here][1]][1]\r\n\r\nBook.java\r\n\r\n    ...\r\n    @NoArgsConstructor\r\n    @Entity(name=&quot;Book&quot;)\r\n    @Table(name=&quot;tblBook&quot;)\r\n    public class Book {\r\n    \r\n        @Id\r\n        @Column(name = &quot;id&quot;, unique = true, nullable = false)\r\n        private int id;\r\n        private String title;\r\n        @ManyToOne(fetch = FetchType.EAGER, optional = false)\r\n        @JoinColumn(name = &quot;pub_id&quot;, nullable = false)\r\n        private Publisher publisher;\r\n        @ManyToMany(fetch = FetchType.EAGER)\r\n        @JoinTable(name = &quot;tblBookAuthors&quot;,\r\n                joinColumns = { @JoinColumn(name = &quot;bookId&quot;) },\r\n                inverseJoinColumns = { @JoinColumn(name = &quot;authorId&quot;) })\r\n        private Set&lt;Author&gt; authors = new HashSet&lt;&gt;();\r\n        ...\r\n\r\n\r\nauthor.java\r\n\r\n    ...\r\n    @NoArgsConstructor\r\n    @Entity(name=&quot;Author&quot;)\r\n    @Table(name=&quot;tblAuthor&quot;)\r\n    public class Author {\r\n    \r\n        @Id\r\n        @Column(name = &quot;id&quot;)\r\n        private int id;\r\n        @Column(name = &quot;name&quot;)\r\n        private String name;\r\n        @JsonBackReference\r\n        @ManyToMany(mappedBy = &quot;authors&quot;)\r\n        Set&lt;Book&gt; books;\r\n\r\n        ...\r\n\r\n\r\nlog\r\n\r\n\r\n    Book{id=0, title=&#39;a new book&#39;, publisher=Publisher{id=7, name=&#39;null&#39;, address=&#39;null&#39;, phone=&#39;null&#39;, books=null}, authors=[Author{id=3, name=&#39;null&#39;, books=null}]}\r\n    Hibernate: select publisher_.id, publisher_.address as address2_4_, publisher_.name as name3_4_, publisher_.phone as phone4_4_ from tbl_publisher publisher_ where publisher_.id=?\r\n    Hibernate: insert into tbl_book (pub_id, title, id) values (?, ?, ?)\r\n    Hibernate: insert into tbl_book_authors (book_id, author_id) values (?, ?)\r\n    2021-11-27 18:49:06.643  WARN 8704 --- [nio-8080-exec-7] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1452, SQLState: 23000\r\n    2021-11-27 18:49:06.643 ERROR 8704 --- [nio-8080-exec-7] o.h.engine.jdbc.spi.SqlExceptionHelper   : Cannot add or update a child row: a foreign key constraint fails (`library`.`tbl_book_authors`, CONSTRAINT `fk_tbl_book_authors_tbl_book1` FOREIGN KEY (`book_id`) REFERENCES `tbl_book` (`id`) ON DELETE CASCADE ON UPDATE CASCADE)\r\n    2021-11-27 18:49:06.644  INFO 8704 --- [nio-8080-exec-7] o.h.e.j.b.internal.AbstractBatchImpl     : HHH000010: On release of batch it still contained JDBC statements\r\n    2021-11-27 18:49:06.663 ERROR 8704 --- [nio-8080-exec-7] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement] with root cause\r\n    \r\n    java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`library`.`tbl_book_authors`, CONSTRAINT `fk_tbl_book_authors_tbl_book1` FOREIGN KEY (`book_id`) REFERENCES `tbl_book` (`id`) ON DELETE CASCADE ON UPDATE CASCADE)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LSEs6.png\r\n","title":"Why do I get a java.sql.SQLIntegrityConstraintViolationException from a Hibernate many to many relation (foreign key constraint)","body":"<p>I have <code>tbl_books</code> which has m2m with <code>tbl_author</code>. I want to save a book and its authors. I'm able to save the book if I don't include a list of authors but how am I suppose to save the authors to the book? Do I need to create the tbl_book_authors table in order to achieve this?</p>\n<pre><code>{\n    &quot;title&quot;: &quot;a new book&quot;,\n    &quot;publisher&quot;: {\n        &quot;id&quot;: 7\n    },\n    &quot;authors&quot;: [\n        {\n            &quot;id&quot;: 3\n        }\n    ]\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/LSEs6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LSEs6.png\" alt=\"enter image description here\" /></a></p>\n<p>Book.java</p>\n<pre><code>...\n@NoArgsConstructor\n@Entity(name=&quot;Book&quot;)\n@Table(name=&quot;tblBook&quot;)\npublic class Book {\n\n    @Id\n    @Column(name = &quot;id&quot;, unique = true, nullable = false)\n    private int id;\n    private String title;\n    @ManyToOne(fetch = FetchType.EAGER, optional = false)\n    @JoinColumn(name = &quot;pub_id&quot;, nullable = false)\n    private Publisher publisher;\n    @ManyToMany(fetch = FetchType.EAGER)\n    @JoinTable(name = &quot;tblBookAuthors&quot;,\n            joinColumns = { @JoinColumn(name = &quot;bookId&quot;) },\n            inverseJoinColumns = { @JoinColumn(name = &quot;authorId&quot;) })\n    private Set&lt;Author&gt; authors = new HashSet&lt;&gt;();\n    ...\n</code></pre>\n<p>author.java</p>\n<pre><code>...\n@NoArgsConstructor\n@Entity(name=&quot;Author&quot;)\n@Table(name=&quot;tblAuthor&quot;)\npublic class Author {\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    private int id;\n    @Column(name = &quot;name&quot;)\n    private String name;\n    @JsonBackReference\n    @ManyToMany(mappedBy = &quot;authors&quot;)\n    Set&lt;Book&gt; books;\n\n    ...\n</code></pre>\n<p>log</p>\n<pre><code>Book{id=0, title='a new book', publisher=Publisher{id=7, name='null', address='null', phone='null', books=null}, authors=[Author{id=3, name='null', books=null}]}\nHibernate: select publisher_.id, publisher_.address as address2_4_, publisher_.name as name3_4_, publisher_.phone as phone4_4_ from tbl_publisher publisher_ where publisher_.id=?\nHibernate: insert into tbl_book (pub_id, title, id) values (?, ?, ?)\nHibernate: insert into tbl_book_authors (book_id, author_id) values (?, ?)\n2021-11-27 18:49:06.643  WARN 8704 --- [nio-8080-exec-7] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1452, SQLState: 23000\n2021-11-27 18:49:06.643 ERROR 8704 --- [nio-8080-exec-7] o.h.engine.jdbc.spi.SqlExceptionHelper   : Cannot add or update a child row: a foreign key constraint fails (`library`.`tbl_book_authors`, CONSTRAINT `fk_tbl_book_authors_tbl_book1` FOREIGN KEY (`book_id`) REFERENCES `tbl_book` (`id`) ON DELETE CASCADE ON UPDATE CASCADE)\n2021-11-27 18:49:06.644  INFO 8704 --- [nio-8080-exec-7] o.h.e.j.b.internal.AbstractBatchImpl     : HHH000010: On release of batch it still contained JDBC statements\n2021-11-27 18:49:06.663 ERROR 8704 --- [nio-8080-exec-7] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement] with root cause\n\njava.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`library`.`tbl_book_authors`, CONSTRAINT `fk_tbl_book_authors_tbl_book1` FOREIGN KEY (`book_id`) REFERENCES `tbl_book` (`id`) ON DELETE CASCADE ON UPDATE CASCADE)\n</code></pre>\n"},{"tags":["javascript","java","switch-statement","case"],"comments":[{"owner":{"account_id":5658021,"reputation":2263,"user_id":4476484,"accept_rate":75,"display_name":"nullromo"},"score":0,"creation_date":1678125935,"post_id":75654200,"comment_id":133469254,"body_markdown":"It&#39;s true that `switch` can be faster than `if-else`, but this is only relevant when the logic of the code is convertible between the two. Planes are faster than submarines, but sometimes you can&#39;t take a plane because of, well... complications.","body":"It&#39;s true that <code>switch</code> can be faster than <code>if-else</code>, but this is only relevant when the logic of the code is convertible between the two. Planes are faster than submarines, but sometimes you can&#39;t take a plane because of, well... complications."},{"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":0,"creation_date":1678127407,"post_id":75654200,"comment_id":133469650,"body_markdown":"@nullromo - *&quot;It&#39;s true that switch can be faster than if-else,&quot;* Not really in JavaScript, and certainly not ones like the above. JavaScript&#39;s `switch` is just `if`/`else if`/`else` with different syntax. `case` labels are expressions (not just literals) as you can see in the question, so the C-like optimizations (jump tables, etc.) aren&#39;t available. (If the `case` labels **were** literals, then maybe the JavaScript engine could do something with it, but...)","body":"@nullromo - <i>&quot;It&#39;s true that switch can be faster than if-else,&quot;</i> Not really in JavaScript, and certainly not ones like the above. JavaScript&#39;s <code>switch</code> is just <code>if</code>/<code>else if</code>/<code>else</code> with different syntax. <code>case</code> labels are expressions (not just literals) as you can see in the question, so the C-like optimizations (jump tables, etc.) aren&#39;t available. (If the <code>case</code> labels <b>were</b> literals, then maybe the JavaScript engine could do something with it, but...)"},{"owner":{"account_id":5658021,"reputation":2263,"user_id":4476484,"accept_rate":75,"display_name":"nullromo"},"score":0,"creation_date":1678127511,"post_id":75654200,"comment_id":133469679,"body_markdown":"I see what you mean. I was going based on [this answer](https://stackoverflow.com/a/2923007/4476484). That&#39;s why I said &quot;_can be_ faster.&quot;","body":"I see what you mean. I was going based on <a href=\"https://stackoverflow.com/a/2923007/4476484\">this answer</a>. That&#39;s why I said &quot;<i>can be</i> faster.&quot;"}],"answers":[{"tags":[],"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678125569,"creation_date":1678125569,"answer_id":75654260,"question_id":75654200,"body_markdown":"&gt; Can I execute all true cases?\r\n\r\nNot reasonably, no, and moreover it isn&#39;t the right tool for that job. Instead of `switch`, use a series of `if` statements:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    let num = 30;\r\n    if (num &gt;= 20) {\r\n        console.log(&quot;code for case 1&quot;);\r\n    }\r\n    if (num == 31)  {\r\n        console.log(&quot;code for case 2&quot;);\r\n    }\r\n    if (num &lt; 50) {\r\n        console.log(&quot;code for case 3&quot;);\r\n    }\r\n    if (num == 10 + 20) {\r\n        console.log(&quot;code for case 4&quot;);\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Switch multiple case execution","body":"<blockquote>\n<p>Can I execute all true cases?</p>\n</blockquote>\n<p>Not reasonably, no, and moreover it isn't the right tool for that job. Instead of <code>switch</code>, use a series of <code>if</code> statements:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let num = 30;\nif (num &gt;= 20) {\n    console.log(\"code for case 1\");\n}\nif (num == 31)  {\n    console.log(\"code for case 2\");\n}\nif (num &lt; 50) {\n    console.log(\"code for case 3\");\n}\nif (num == 10 + 20) {\n    console.log(\"code for case 4\");\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":5658021,"reputation":2263,"user_id":4476484,"accept_rate":75,"display_name":"nullromo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678125590,"creation_date":1678125590,"answer_id":75654263,"question_id":75654200,"body_markdown":"Switch statements should normally be used when you want to choose one option. There is a &quot;fallthrough&quot; behavior, however.\r\n\r\n```javascript\r\nswitch(x) {\r\n    case 1:\r\n    case 2:\r\n        doSomething();\r\n        // no break here!\r\n    case 3:\r\n        doOtherThing();\r\n        break;\r\n    case 4:\r\n        // ...\r\n}\r\n```\r\n\r\nIn the above code, if `x` is 1 or 2, both `doSomething()` and `doOtherThing()` will happen, whereas if `x` is 3, then only `doOtherThing()` will happen.\r\n\r\nIf you want to do some more complex combination of operations with conditions, `if` statements are probably better.","title":"Switch multiple case execution","body":"<p>Switch statements should normally be used when you want to choose one option. There is a &quot;fallthrough&quot; behavior, however.</p>\n<pre class=\"lang-js prettyprint-override\"><code>switch(x) {\n    case 1:\n    case 2:\n        doSomething();\n        // no break here!\n    case 3:\n        doOtherThing();\n        break;\n    case 4:\n        // ...\n}\n</code></pre>\n<p>In the above code, if <code>x</code> is 1 or 2, both <code>doSomething()</code> and <code>doOtherThing()</code> will happen, whereas if <code>x</code> is 3, then only <code>doOtherThing()</code> will happen.</p>\n<p>If you want to do some more complex combination of operations with conditions, <code>if</code> statements are probably better.</p>\n"},{"tags":[],"owner":{"account_id":1556832,"reputation":378922,"user_id":1447675,"display_name":"Nina Scholz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678125889,"creation_date":1678125889,"answer_id":75654311,"question_id":75654200,"body_markdown":"Once you have left a case clause of a [`switch` statement](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/switch) with `break`, you can not get into the switch statement again.\r\n\r\nNot even a *fall through*, like a bundle of cases without `break` does not work for your problem to have multiple checks and the **same amount** of actions.\r\n\r\nA solution is to use single check with `if` and go on with another `if`\r\n\r\n    if (condition1) console.log(&#39;condition 1&#39;);\r\n    if (condition2) console.log(&#39;condition 2&#39;);\r\n    // and so on","title":"Switch multiple case execution","body":"<p>Once you have left a case clause of a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/switch\" rel=\"nofollow noreferrer\"><code>switch</code> statement</a> with <code>break</code>, you can not get into the switch statement again.</p>\n<p>Not even a <em>fall through</em>, like a bundle of cases without <code>break</code> does not work for your problem to have multiple checks and the <strong>same amount</strong> of actions.</p>\n<p>A solution is to use single check with <code>if</code> and go on with another <code>if</code></p>\n<pre><code>if (condition1) console.log('condition 1');\nif (condition2) console.log('condition 2');\n// and so on\n</code></pre>\n"}],"owner":{"account_id":25945891,"reputation":13,"user_id":19664620,"display_name":"Radeks"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75654263,"answer_count":3,"score":0,"last_activity_date":1678125889,"creation_date":1678125242,"question_id":75654200,"body_markdown":"I try to execute more than one case in `switch` statement. I wrote this as a `if` statement but I read somewhere is the `switch` is more efficient than `if`. Now execute always only first correct.\r\n\r\n```\r\n      let num = 30;\r\n      switch (true) {\r\n        case (num &gt;= 20):\r\n          console.log(&quot;code for case 1&quot;);\r\n          break;\r\n        case (num == 31) :\r\n          console.log(&quot;code for case 2&quot;);\r\n          break;\r\n        case (num &lt; 50):\r\n          console.log(&quot;code for case 3&quot;);\r\n          break;\r\n        case (num == 10 + 20):\r\n          console.log(&quot;code for case 4&quot;);\r\n          break;\r\n      }\r\n```\r\n\r\nCan I execute all true cases? or stay with many `if else`?\r\n\r\n```\r\ncode for case 1\r\ncode for case 3\r\ncode for case 4\r\n```","title":"Switch multiple case execution","body":"<p>I try to execute more than one case in <code>switch</code> statement. I wrote this as a <code>if</code> statement but I read somewhere is the <code>switch</code> is more efficient than <code>if</code>. Now execute always only first correct.</p>\n<pre><code>      let num = 30;\n      switch (true) {\n        case (num &gt;= 20):\n          console.log(&quot;code for case 1&quot;);\n          break;\n        case (num == 31) :\n          console.log(&quot;code for case 2&quot;);\n          break;\n        case (num &lt; 50):\n          console.log(&quot;code for case 3&quot;);\n          break;\n        case (num == 10 + 20):\n          console.log(&quot;code for case 4&quot;);\n          break;\n      }\n</code></pre>\n<p>Can I execute all true cases? or stay with many <code>if else</code>?</p>\n<pre><code>code for case 1\ncode for case 3\ncode for case 4\n</code></pre>\n"},{"tags":["java","spring","spring-boot","twilio"],"comments":[{"owner":{"account_id":4477746,"reputation":1014,"user_id":3642410,"accept_rate":100,"display_name":"Karim"},"score":0,"creation_date":1678097684,"post_id":75649509,"comment_id":133460933,"body_markdown":"put at least the code you&#39;re using to send the message","body":"put at least the code you&#39;re using to send the message"}],"answers":[{"tags":[],"owner":{"account_id":4477746,"reputation":1014,"user_id":3642410,"accept_rate":100,"display_name":"Karim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678107953,"creation_date":1678107953,"answer_id":75651229,"question_id":75649509,"body_markdown":"According to Twilio documentation:\r\n\r\n&gt; By default, Twilio&#39;s REST API returns XML, with a root element of\r\n&gt; &lt;TwilioResponse&gt;. For example, here is the default XML representation\r\n&gt; of a SMS message:\r\n\r\nfurther reading : https://www.twilio.com/docs/usage/twilios-response\r\n\r\nuse the API, apperently the Twilio Jar override spring configuration, if you want to continue using it annotate your spring controller by adding `produces` to `@RequestMapping`\r\n\r\n\r\n     @RequestMapping(value = URI_PING,\r\n                consumes = MediaType.APPLICATION_JSON_VALUE,\r\n                produces = MediaType.APPLICATION_JSON_VALUE,\r\n                method = RequestMethod.POST)\r\n\r\n","title":"Adding twilio dependency is returning xml as a response for all endpoints in application","body":"<p>According to Twilio documentation:</p>\n<blockquote>\n<p>By default, Twilio's REST API returns XML, with a root element of\n. For example, here is the default XML representation\nof a SMS message:</p>\n</blockquote>\n<p>further reading : <a href=\"https://www.twilio.com/docs/usage/twilios-response\" rel=\"nofollow noreferrer\">https://www.twilio.com/docs/usage/twilios-response</a></p>\n<p>use the API, apperently the Twilio Jar override spring configuration, if you want to continue using it annotate your spring controller by adding <code>produces</code> to <code>@RequestMapping</code></p>\n<pre><code> @RequestMapping(value = URI_PING,\n            consumes = MediaType.APPLICATION_JSON_VALUE,\n            produces = MediaType.APPLICATION_JSON_VALUE,\n            method = RequestMethod.POST)\n</code></pre>\n"}],"owner":{"account_id":24227545,"reputation":11,"user_id":18181824,"display_name":"SUPRIYA Upadhyay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678125462,"creation_date":1678097531,"question_id":75649509,"body_markdown":"I am trying to send SMS through twilio. I am able to send message to the number but the problem is my entire application started sending xml as a response. It is effecting my entire application. How to convert so that I can get json as a response. I am new to this. Please someone help me.\r\n\r\nsms is sending successfully but my entire application is started getting response as xml.\r\n\r\nThis is my Controller:\r\n\r\n```java\r\n    @RequestMapping(value = &quot;/sendmessage&quot;, method = RequestMethod.POST)\r\n\tpublic ResponseEntity&lt;String&gt; sendmessage(@RequestBody UserDto userDto) {\r\n\t\treturn userRegisterService.sendmessage(userDto.getMobileNumber(), userDto.getSmsMessage());\r\n\t}\r\n```\r\n\r\nThis is my service class:\r\n\r\n```java\r\n\t@PostConstruct\r\n\tprivate void setup() {\r\n\t\tTwilio.init(ACCOUNT_SID, AUTH_TOKEN);\r\n\t}\r\n\r\n\tpublic ResponseEntity&lt;String&gt; sendmessage(String MobileNumber, String SmsMessage) {\r\n\t\tMessage.creator(new PhoneNumber(MobileNumber), new PhoneNumber(OUTGOINGSMSNumber), SmsMessage).create();\r\n\t\treturn new ResponseEntity&lt;String&gt;(&quot;Message sent successfully&quot;, HttpStatus.OK);\r\n\t}\r\n}\r\n```\r\n\r\nI have not written explicitly anywhere to convert to xml. Just adding twilio dependency is converting to xml for entire application.","title":"Adding twilio dependency is returning xml as a response for all endpoints in application","body":"<p>I am trying to send SMS through twilio. I am able to send message to the number but the problem is my entire application started sending xml as a response. It is effecting my entire application. How to convert so that I can get json as a response. I am new to this. Please someone help me.</p>\n<p>sms is sending successfully but my entire application is started getting response as xml.</p>\n<p>This is my Controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @RequestMapping(value = &quot;/sendmessage&quot;, method = RequestMethod.POST)\n    public ResponseEntity&lt;String&gt; sendmessage(@RequestBody UserDto userDto) {\n        return userRegisterService.sendmessage(userDto.getMobileNumber(), userDto.getSmsMessage());\n    }\n</code></pre>\n<p>This is my service class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @PostConstruct\n    private void setup() {\n        Twilio.init(ACCOUNT_SID, AUTH_TOKEN);\n    }\n\n    public ResponseEntity&lt;String&gt; sendmessage(String MobileNumber, String SmsMessage) {\n        Message.creator(new PhoneNumber(MobileNumber), new PhoneNumber(OUTGOINGSMSNumber), SmsMessage).create();\n        return new ResponseEntity&lt;String&gt;(&quot;Message sent successfully&quot;, HttpStatus.OK);\n    }\n}\n</code></pre>\n<p>I have not written explicitly anywhere to convert to xml. Just adding twilio dependency is converting to xml for entire application.</p>\n"},{"tags":["java","json","maven","intellij-idea","jackson"],"comments":[{"owner":{"account_id":334755,"reputation":560,"user_id":661414,"accept_rate":0,"display_name":"Leukipp"},"score":0,"creation_date":1452205589,"post_id":31356952,"comment_id":57078381,"body_markdown":"In my case the reason was that I had two different versions of Jackson libraries in the classpath.","body":"In my case the reason was that I had two different versions of Jackson libraries in the classpath."}],"answers":[{"tags":[],"owner":{"account_id":429857,"reputation":1736,"user_id":812973,"display_name":"gregn3"},"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1457516172,"creation_date":1457516172,"answer_id":35887798,"question_id":31356952,"body_markdown":"When I had this problem I had the **jackson-annotations** and **jackson-databind** jars in my classpath, but not **jackson-core**.\r\n\r\nAdding jackson-core to the classpath solved it for me.","title":"Jackson cannot access com.fasterxml.jackson.core.ObjectCodec","body":"<p>When I had this problem I had the <strong>jackson-annotations</strong> and <strong>jackson-databind</strong> jars in my classpath, but not <strong>jackson-core</strong>.</p>\n\n<p>Adding jackson-core to the classpath solved it for me.</p>\n"},{"tags":[],"owner":{"account_id":7637556,"reputation":789,"user_id":5790669,"display_name":"Yash P Shah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510596521,"creation_date":1510596521,"answer_id":47270813,"question_id":31356952,"body_markdown":"I had also encountered the same problem, turns out, I had &quot;jackson-core-asl.jar&quot; instead of &quot;jackson-core.jar&quot;\r\n\r\nSo, check whether you have this jar-file in your classpath.\r\n-&gt; https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core","title":"Jackson cannot access com.fasterxml.jackson.core.ObjectCodec","body":"<p>I had also encountered the same problem, turns out, I had \"jackson-core-asl.jar\" instead of \"jackson-core.jar\"</p>\n\n<p>So, check whether you have this jar-file in your classpath.\n-> <a href=\"https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core</a></p>\n"},{"tags":[],"owner":{"account_id":9316158,"reputation":161,"user_id":6916455,"display_name":"Ayush Jaiswal"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1573225512,"creation_date":1573166862,"answer_id":58757969,"question_id":31356952,"body_markdown":"I was having a similar issue, it turned out to be an IntelliJ issue.\r\n\r\nThis helped me to resolve the issue:\r\n\r\nTry ``File &gt; Invalidate Caches &gt; Invalidate and Restart``.\r\n\r\nIf it doesn&#39;t help, delete ``.idea`` directory and reimport from pom/gradle build file.","title":"Jackson cannot access com.fasterxml.jackson.core.ObjectCodec","body":"<p>I was having a similar issue, it turned out to be an IntelliJ issue.</p>\n\n<p>This helped me to resolve the issue:</p>\n\n<p>Try <code>File &gt; Invalidate Caches &gt; Invalidate and Restart</code>.</p>\n\n<p>If it doesn't help, delete <code>.idea</code> directory and reimport from pom/gradle build file.</p>\n"},{"tags":[],"owner":{"account_id":6695926,"reputation":106,"user_id":5163945,"display_name":"Valentin MARTINET"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1606760992,"creation_date":1606760992,"answer_id":65079173,"question_id":31356952,"body_markdown":"Also double check that all your Jackson dependencies use the same version like below :\r\n\r\n    implementation &#39;com.fasterxml.jackson.core:jackson-core:2.10.1&#39;\r\n    implementation &#39;com.fasterxml.jackson.core:jackson-annotations:2.10.1&#39;\r\n    implementation &#39;com.fasterxml.jackson.dataformat:jackson-dataformat-xml:2.10.1&#39;\r\n    implementation &#39;com.fasterxml.jackson.module:jackson-module-kotlin:2.10.1&#39;\r\n\r\nI previously had `jackson-core:2.11.0` and this was the issue.","title":"Jackson cannot access com.fasterxml.jackson.core.ObjectCodec","body":"<p>Also double check that all your Jackson dependencies use the same version like below :</p>\n<pre><code>implementation 'com.fasterxml.jackson.core:jackson-core:2.10.1'\nimplementation 'com.fasterxml.jackson.core:jackson-annotations:2.10.1'\nimplementation 'com.fasterxml.jackson.dataformat:jackson-dataformat-xml:2.10.1'\nimplementation 'com.fasterxml.jackson.module:jackson-module-kotlin:2.10.1'\n</code></pre>\n<p>I previously had <code>jackson-core:2.11.0</code> and this was the issue.</p>\n"},{"tags":[],"owner":{"account_id":5408789,"reputation":476,"user_id":4306356,"display_name":"Chavjoh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1616497041,"creation_date":1616497041,"answer_id":66761781,"question_id":31356952,"body_markdown":"I also encountered this kind of error: `Cannot access com.fasterxml.jackson.core.TreeNode` \r\n\r\nMy first version of the maven POM contained:\r\n- `jackson-annotations`\r\n- `jackson-databind`\r\n\r\nIt was working fine until I wanted to add `jackson-core` for unit tests. I added it with the `test` scope and the error appeared. After some investigation, I found out that to make it working, I had to remove the `test` scope, otherwise this error appears. If someone has an explanation I would be interested :)","title":"Jackson cannot access com.fasterxml.jackson.core.ObjectCodec","body":"<p>I also encountered this kind of error: <code>Cannot access com.fasterxml.jackson.core.TreeNode</code></p>\n<p>My first version of the maven POM contained:</p>\n<ul>\n<li><code>jackson-annotations</code></li>\n<li><code>jackson-databind</code></li>\n</ul>\n<p>It was working fine until I wanted to add <code>jackson-core</code> for unit tests. I added it with the <code>test</code> scope and the error appeared. After some investigation, I found out that to make it working, I had to remove the <code>test</code> scope, otherwise this error appears. If someone has an explanation I would be interested :)</p>\n"},{"tags":[],"owner":{"account_id":27916544,"reputation":1,"user_id":21317582,"display_name":"Simran Chawla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678125397,"creation_date":1677747418,"answer_id":75613188,"question_id":31356952,"body_markdown":"1 go to the .m2/repository and delete the conflicting files\r\n\r\n\r\n2 `mvn -U clean install`","title":"Jackson cannot access com.fasterxml.jackson.core.ObjectCodec","body":"<p>1 go to the .m2/repository and delete the conflicting files</p>\n<p>2 <code>mvn -U clean install</code></p>\n"}],"owner":{"account_id":1083037,"reputation":4332,"user_id":1079483,"accept_rate":64,"display_name":"Sebi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69545,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"answer_count":6,"score":32,"last_activity_date":1678125397,"creation_date":1436615900,"question_id":31356952,"body_markdown":"This question is a follow up to [this one][1]. I can&#39;t seem to be able to access the jackson library in the following code:\r\n\r\n    import com.fasterxml.jackson.databind.DeserializationFeature;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.ObjectReader;\r\n    import com.fasterxml.jackson.databind.ObjectWriter;\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class ServerConfiguration {\r\n        public String info = null;\r\n        public String idlURL = null;\r\n        public String idlContents = null;\r\n        public List&lt;ServerInfo&gt; servers = new ArrayList&lt;&gt;();\r\n    \r\n        public final void clear() {\r\n            info = null;\r\n            idlURL = null;\r\n            idlContents = null;\r\n            if (servers != null)\r\n                servers.clear();\r\n        }\r\n    \r\n        private final static ObjectReader jsonReader;\r\n        private final static ObjectWriter jsonWriter;\r\n    \r\n        static {\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            mapper.configure(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY, true); // &lt;== Error:(52, 15) java: cannot access com.fasterxml.jackson.core.JsonGenerator class file for com.fasterxml.jackson.core.JsonGenerator not found\r\n            //mapper.configure(SerializationFeature.WRITE_SINGLE_ELEM_ARRAYS_UNWRAPPED, true);\r\n            jsonWriter = mapper.writer();\r\n            jsonReader = mapper.reader(ServerConfiguration.class);\r\n        }\r\n    \r\n        public static ServerConfiguration fromJson(String json) throws IOException {\r\n            return jsonReader.&lt;ServerConfiguration&gt;readValue(json); // &lt;== Error:(59, 26) java: cannot access com.fasterxml.jackson.core.JsonProcessingException class file for com.fasterxml.jackson.core.JsonProcessingException not found\r\n        }\r\n    \r\n        public String toJson() throws IOException {\r\n            return jsonWriter.writeValueAsString(this);\r\n        }\r\n    \r\n    }\r\n\r\neventhough the jar files are in the classpath(autocomplete shows the method declaration in Intellij). \r\n\r\nWhat am I missing?\r\n\r\n  [1]: https://stackoverflow.com/questions/31318636/adding-a-jar-file-to-classpath-through-maven","title":"Jackson cannot access com.fasterxml.jackson.core.ObjectCodec","body":"<p>This question is a follow up to <a href=\"https://stackoverflow.com/questions/31318636/adding-a-jar-file-to-classpath-through-maven\">this one</a>. I can't seem to be able to access the jackson library in the following code:</p>\n\n<pre><code>import com.fasterxml.jackson.databind.DeserializationFeature;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.ObjectReader;\nimport com.fasterxml.jackson.databind.ObjectWriter;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class ServerConfiguration {\n    public String info = null;\n    public String idlURL = null;\n    public String idlContents = null;\n    public List&lt;ServerInfo&gt; servers = new ArrayList&lt;&gt;();\n\n    public final void clear() {\n        info = null;\n        idlURL = null;\n        idlContents = null;\n        if (servers != null)\n            servers.clear();\n    }\n\n    private final static ObjectReader jsonReader;\n    private final static ObjectWriter jsonWriter;\n\n    static {\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.configure(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY, true); // &lt;== Error:(52, 15) java: cannot access com.fasterxml.jackson.core.JsonGenerator class file for com.fasterxml.jackson.core.JsonGenerator not found\n        //mapper.configure(SerializationFeature.WRITE_SINGLE_ELEM_ARRAYS_UNWRAPPED, true);\n        jsonWriter = mapper.writer();\n        jsonReader = mapper.reader(ServerConfiguration.class);\n    }\n\n    public static ServerConfiguration fromJson(String json) throws IOException {\n        return jsonReader.&lt;ServerConfiguration&gt;readValue(json); // &lt;== Error:(59, 26) java: cannot access com.fasterxml.jackson.core.JsonProcessingException class file for com.fasterxml.jackson.core.JsonProcessingException not found\n    }\n\n    public String toJson() throws IOException {\n        return jsonWriter.writeValueAsString(this);\n    }\n\n}\n</code></pre>\n\n<p>eventhough the jar files are in the classpath(autocomplete shows the method declaration in Intellij). </p>\n\n<p>What am I missing?</p>\n"},{"tags":["java","python-3.x","selenium"],"comments":[{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1554787622,"post_id":55585508,"comment_id":97868565,"body_markdown":"Lookout for the log messages why _The hub is down or not responding_","body":"Lookout for the log messages why <i>The hub is down or not responding</i>"}],"answers":[{"tags":[],"owner":{"account_id":2441039,"reputation":88,"user_id":2129578,"display_name":"teddym6"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678125201,"creation_date":1554821144,"answer_id":55595533,"question_id":55585508,"body_markdown":"If you are using docker I don&#39;t understand why are you leaving you hub up and running. \r\n\r\nCheck out their hub page: https://github.com/SeleniumHQ/docker-selenium/tree/master/Hub\r\n\r\nHub launch: `docker run -d -p 4444:4444 --name selenium-hub selenium/hub`\r\n\r\nNodes launch:\r\n\r\n    $ docker run -d --link selenium-hub:hub -v /dev/shm:/dev/shm selenium/node-chrome\r\n    $ docker run -d --link selenium-hub:hub -v /dev/shm:/dev/shm selenium/node-firefox\r\n\r\n\r\nI would write a pipeline and define my hub image and node images which I bring up at the beginning of the test session and remove the images at the end of the session.\r\n\r\n    try {\r\n        hubimage\r\n        nodeimage\r\n        runtests\r\n    } catch(anything) {\r\n        throw anything;\r\n    } finally {\r\n        sh &quot;docker rmi \\$(docker inspect --format=&#39;{{range .RepoTags}} {{.}} {{end}}&#39; ${hubimage});&quot;\r\n        sh &quot;docker rmi \\$(docker inspect --format=&#39;{{range .RepoTags}} {{.}} {{end}}&#39; ${nodeimage});&quot;\r\n    }\r\n\r\nSee more information about pipelines on https://jenkins.io/doc/book/pipeline/.\r\n\r\n\r\n","title":"selenium-hub exit status 137","body":"<p>If you are using docker I don't understand why are you leaving you hub up and running.</p>\n<p>Check out their hub page: <a href=\"https://github.com/SeleniumHQ/docker-selenium/tree/master/Hub\" rel=\"nofollow noreferrer\">https://github.com/SeleniumHQ/docker-selenium/tree/master/Hub</a></p>\n<p>Hub launch: <code>docker run -d -p 4444:4444 --name selenium-hub selenium/hub</code></p>\n<p>Nodes launch:</p>\n<pre><code>$ docker run -d --link selenium-hub:hub -v /dev/shm:/dev/shm selenium/node-chrome\n$ docker run -d --link selenium-hub:hub -v /dev/shm:/dev/shm selenium/node-firefox\n</code></pre>\n<p>I would write a pipeline and define my hub image and node images which I bring up at the beginning of the test session and remove the images at the end of the session.</p>\n<pre><code>try {\n    hubimage\n    nodeimage\n    runtests\n} catch(anything) {\n    throw anything;\n} finally {\n    sh &quot;docker rmi \\$(docker inspect --format='{{range .RepoTags}} {{.}} {{end}}' ${hubimage});&quot;\n    sh &quot;docker rmi \\$(docker inspect --format='{{range .RepoTags}} {{.}} {{end}}' ${nodeimage});&quot;\n}\n</code></pre>\n<p>See more information about pipelines on <a href=\"https://jenkins.io/doc/book/pipeline/\" rel=\"nofollow noreferrer\">https://jenkins.io/doc/book/pipeline/</a>.</p>\n"},{"tags":[],"owner":{"account_id":8153505,"reputation":1397,"user_id":6139818,"accept_rate":100,"display_name":"Tom"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1586548161,"creation_date":1586548161,"answer_id":61147665,"question_id":55585508,"body_markdown":"This is not a problem related to Selenium, but an issue with Docker.\r\n\r\nThe following link has a summary of root causes for the error `exit status 137; not expected`:\r\n\r\n- https://success.docker.com/article/what-causes-a-container-to-exit-with-code-137\r\n\r\nIn short, for some reason, Docker is killing the process, in your case, `selenium-hub`.\r\n\r\nFor Mac and Windows, you probably need to increase the memory dedicated to Docker in Docker preferences.\r\n\r\n[This answer here on SO](https://stackoverflow.com/questions/43460770/docker-windows-container-memory-limit) has a screenshot showing how to do it.\r\n","title":"selenium-hub exit status 137","body":"<p>This is not a problem related to Selenium, but an issue with Docker.</p>\n\n<p>The following link has a summary of root causes for the error <code>exit status 137; not expected</code>:</p>\n\n<ul>\n<li><a href=\"https://success.docker.com/article/what-causes-a-container-to-exit-with-code-137\" rel=\"nofollow noreferrer\">https://success.docker.com/article/what-causes-a-container-to-exit-with-code-137</a></li>\n</ul>\n\n<p>In short, for some reason, Docker is killing the process, in your case, <code>selenium-hub</code>.</p>\n\n<p>For Mac and Windows, you probably need to increase the memory dedicated to Docker in Docker preferences.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/43460770/docker-windows-container-memory-limit\">This answer here on SO</a> has a screenshot showing how to do it.</p>\n"}],"owner":{"account_id":15195868,"reputation":11,"user_id":10965231,"display_name":"happy_code"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1948,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1678125201,"creation_date":1554786873,"question_id":55585508,"body_markdown":"I used Docker for Selenium Grid Hub and Nodes to collect data, including \r\n\r\n - selenium/hub: 3.141.59-iron\r\n - selenium/node-fire_fox 3.141.59-iron\r\n\r\n\r\nbut one day after running, selenium-hub hung the following exception:\r\n&gt; INFO exited: selenium-hub (exit status 137; not expected)\r\n\r\nselenium/node-fire_fox exception is:\r\n\r\n&gt; INFO [SelfRegisteringRemote$1.run] - Couldn&#39;t register this node: The hub is down or not responding: Failed to connect to selenium-hub/172.24.0.2:4444\r\n\r\nWhat should I do?","title":"selenium-hub exit status 137","body":"<p>I used Docker for Selenium Grid Hub and Nodes to collect data, including </p>\n\n<ul>\n<li>selenium/hub: 3.141.59-iron</li>\n<li>selenium/node-fire_fox 3.141.59-iron</li>\n</ul>\n\n<p>but one day after running, selenium-hub hung the following exception:</p>\n\n<blockquote>\n  <p>INFO exited: selenium-hub (exit status 137; not expected)</p>\n</blockquote>\n\n<p>selenium/node-fire_fox exception is:</p>\n\n<blockquote>\n  <p>INFO [SelfRegisteringRemote$1.run] - Couldn't register this node: The hub is down or not responding: Failed to connect to selenium-hub/172.24.0.2:4444</p>\n</blockquote>\n\n<p>What should I do?</p>\n"},{"tags":["java","authorization","classloader","urlclassloader"],"comments":[{"owner":{"account_id":6228391,"reputation":708,"user_id":4845935,"display_name":"dimnnv"},"score":0,"creation_date":1678123668,"post_id":75653686,"comment_id":133468601,"body_markdown":"Please add more details what are you trying to achieve and what is the question.","body":"Please add more details what are you trying to achieve and what is the question."},{"owner":{"account_id":15772715,"reputation":37,"user_id":11381305,"display_name":"kradicati"},"score":0,"creation_date":1678125058,"post_id":75653686,"comment_id":133469012,"body_markdown":"Edited to hopefully improve the question. Let me know if you need additional clarifications!","body":"Edited to hopefully improve the question. Let me know if you need additional clarifications!"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1678125373,"post_id":75653686,"comment_id":133469103,"body_markdown":"Can you set a breakpoint in the constructor LicensedURLStreamHandler(String token) to see whether it is being called during startup? That will tell us where to look next.","body":"Can you set a breakpoint in the constructor LicensedURLStreamHandler(String token) to see whether it is being called during startup? That will tell us where to look next."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1678125946,"post_id":75653686,"comment_id":133469259,"body_markdown":"And if it does setup the LicensedURLStreamHandler, test if it hits the openConnection(URL u) call.","body":"And if it does setup the LicensedURLStreamHandler, test if it hits the openConnection(URL u) call."},{"owner":{"account_id":15772715,"reputation":37,"user_id":11381305,"display_name":"kradicati"},"score":0,"creation_date":1678130533,"post_id":75653686,"comment_id":133470447,"body_markdown":"I added a breakpoint, and both the constructor and the openConnection method are called.","body":"I added a breakpoint, and both the constructor and the openConnection method are called."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1678436698,"post_id":75653686,"comment_id":133535535,"body_markdown":"A `jar:` URL addresses an entry within another URL. You don’t want to add authentication to the `JarURLConnection`, you want to add it to the embedded URL, which I suppose is an `http:` URL. But keep in mind that there is no on-the-fly access to entries within a jar file on a network resource. The jar file will be downloaded behind the scenes anyway, so if you want more control over the process, just download the jar file yourself, using the desired options, and create the class loader with the local copy afterwards.","body":"A <code>jar:</code> URL addresses an entry within another URL. You don’t want to add authentication to the <code>JarURLConnection</code>, you want to add it to the embedded URL, which I suppose is an <code>http:</code> URL. But keep in mind that there is no on-the-fly access to entries within a jar file on a network resource. The jar file will be downloaded behind the scenes anyway, so if you want more control over the process, just download the jar file yourself, using the desired options, and create the class loader with the local copy afterwards."}],"owner":{"account_id":15772715,"reputation":37,"user_id":11381305,"display_name":"kradicati"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678125008,"creation_date":1678121878,"question_id":75653686,"body_markdown":"A project I&#39;m working on requires a URLClassLoader, which is supposed to load a .jar file from the Internet that is protected by very basic authentication. To access this jar file, one must send a GET request with an Authorization header to a specific URL.\r\n\r\nBy default, the `URLClassLoader` just sends the GET request, and I&#39;m having some trouble getting it to send the headers as well.\r\n\r\nOn another [StackOverflow Thread][1] I found that I am supposed to pass a custom `URLStreamHandler` in the `URLClassLoader&#39;s` constructor, which is what I tried doing:\r\nI extended `URLClassLoader` in a custom class, calling this constructor `super(new URL[]{url}, parent, protocol -&gt; new LicensedURLStreamHandler(token));`, where LicensedURLStreamHandler is\r\n\r\n```java\r\nimport java.io.IOException;\r\nimport java.net.*;\r\n\r\npublic class LicensedURLStreamHandler extends URLStreamHandler {\r\n\r\n    private final String token;\r\n\r\n    public LicensedURLStreamHandler(String token) {\r\n        this.token = token;\r\n    }\r\n\r\n    @Override\r\n    protected URLConnection openConnection(URL u) throws IOException {\r\n        URL url = new URL(u.toString());\r\n        JarURLConnection con = (JarURLConnection) url.openConnection();\r\n\r\n        con.setRequestProperty(&quot;Authorization&quot;, token);\r\n        con.setRequestProperty(&quot;Accept&quot;, &quot;application/octet-stream&quot;);\r\n\r\n        return con;\r\n    }\r\n}\r\n```\r\n\r\nHowever, on the server side, both headers appear not to have been included, because the only ones that are present are `Accept:[text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2] Connection:[keep-alive] User-Agent:[Java/1.8.0_362]`\r\n\r\nIn essence, the server receives the request without the headers I added in the `LicensedURLStreamHandler`. I don&#39;t really know how to fix this, and the already scarce documentation on the subject hasn&#39;t helped me.\r\n\r\n  [1]: https://stackoverflow.com/questions/17634746/setting-user-agent-of-urlclassloader","title":"Authentication for URLClassLoader","body":"<p>A project I'm working on requires a URLClassLoader, which is supposed to load a .jar file from the Internet that is protected by very basic authentication. To access this jar file, one must send a GET request with an Authorization header to a specific URL.</p>\n<p>By default, the <code>URLClassLoader</code> just sends the GET request, and I'm having some trouble getting it to send the headers as well.</p>\n<p>On another <a href=\"https://stackoverflow.com/questions/17634746/setting-user-agent-of-urlclassloader\">StackOverflow Thread</a> I found that I am supposed to pass a custom <code>URLStreamHandler</code> in the <code>URLClassLoader's</code> constructor, which is what I tried doing:\nI extended <code>URLClassLoader</code> in a custom class, calling this constructor <code>super(new URL[]{url}, parent, protocol -&gt; new LicensedURLStreamHandler(token));</code>, where LicensedURLStreamHandler is</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.net.*;\n\npublic class LicensedURLStreamHandler extends URLStreamHandler {\n\n    private final String token;\n\n    public LicensedURLStreamHandler(String token) {\n        this.token = token;\n    }\n\n    @Override\n    protected URLConnection openConnection(URL u) throws IOException {\n        URL url = new URL(u.toString());\n        JarURLConnection con = (JarURLConnection) url.openConnection();\n\n        con.setRequestProperty(&quot;Authorization&quot;, token);\n        con.setRequestProperty(&quot;Accept&quot;, &quot;application/octet-stream&quot;);\n\n        return con;\n    }\n}\n</code></pre>\n<p>However, on the server side, both headers appear not to have been included, because the only ones that are present are <code>Accept:[text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2] Connection:[keep-alive] User-Agent:[Java/1.8.0_362]</code></p>\n<p>In essence, the server receives the request without the headers I added in the <code>LicensedURLStreamHandler</code>. I don't really know how to fix this, and the already scarce documentation on the subject hasn't helped me.</p>\n"},{"tags":["java","mdns","jmdns","dns-sd"],"owner":{"account_id":22963692,"reputation":1,"user_id":17093127,"display_name":"visbr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678124819,"creation_date":1678123988,"question_id":75654023,"body_markdown":"Im trying to discover services broadcasted over mDNS on my local network. I use jmDNS java library, i am able to register services, that im able to see from my other devices. However, when i try to discover services, i am not able to discovery anything.\r\n\r\nHere is my test code:\r\n\r\n```\r\npublic static void main(String[] args) {\r\n    try {\r\n        JmDNS jmdns = JmDNS.create();\r\n        // Wait for some time to allow services to be discovered\r\n        Thread.sleep(5000);\r\n\r\n        logger.info(&quot;size: &quot; + jmdns.list(&quot;_services._dns-sd._udp.local.&quot;).length);\r\n        jmdns.close();\r\n    } catch (IOException | InterruptedException e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n```\r\n\r\nThe list is always empty. I have tried several more specific service types, such as such as `_airplay._tcp`, but it does not change anything. There are clearly services on the network, as i can see them from other devices and the device where i run this code, using the Bonjour Broweser. I have also made sure that the 5353 port is open for both TCP and UDP.. ","title":"Java jmDNS not able to discover services","body":"<p>Im trying to discover services broadcasted over mDNS on my local network. I use jmDNS java library, i am able to register services, that im able to see from my other devices. However, when i try to discover services, i am not able to discovery anything.</p>\n<p>Here is my test code:</p>\n<pre><code>public static void main(String[] args) {\n    try {\n        JmDNS jmdns = JmDNS.create();\n        // Wait for some time to allow services to be discovered\n        Thread.sleep(5000);\n\n        logger.info(&quot;size: &quot; + jmdns.list(&quot;_services._dns-sd._udp.local.&quot;).length);\n        jmdns.close();\n    } catch (IOException | InterruptedException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>The list is always empty. I have tried several more specific service types, such as such as <code>_airplay._tcp</code>, but it does not change anything. There are clearly services on the network, as i can see them from other devices and the device where i run this code, using the Bonjour Broweser. I have also made sure that the 5353 port is open for both TCP and UDP..</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1677362334,"post_id":75550523,"comment_id":133324019,"body_markdown":"What is `BlacklistedWords` class? And why do you need it?","body":"What is <code>BlacklistedWords</code> class? And why do you need it?"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1677362414,"post_id":75550523,"comment_id":133324028,"body_markdown":"this is the entity (table trademarks)","body":"this is the entity (table trademarks)"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1677362480,"post_id":75550523,"comment_id":133324035,"body_markdown":"This looks very much like an [X-Y Problem](https://en.wikipedia.org/wiki/XY_problem): What is it you&#39;re *actually* trying to do (without reference to tables or classes)? Please give several examples of data and what the desired outcome is.","body":"This looks very much like an <a href=\"https://en.wikipedia.org/wiki/XY_problem\" rel=\"nofollow noreferrer\">X-Y Problem</a>: What is it you&#39;re <i>actually</i> trying to do (without reference to tables or classes)? Please give several examples of data and what the desired outcome is."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1677456279,"post_id":75550523,"comment_id":133336102,"body_markdown":"If you want a solution using `BlacklistedWords` you must show the code for that class. Also, how many rows are in each of the 2 tables?","body":"If you want a solution using <code>BlacklistedWords</code> you must show the code for that class. Also, how many rows are in each of the 2 tables?"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1677540886,"post_id":75550523,"comment_id":133354737,"body_markdown":"Thanks for showing the class. Please also provide the row counts for each table.","body":"Thanks for showing the class. Please also provide the row counts for each table."},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1677541713,"post_id":75550523,"comment_id":133354893,"body_markdown":"words - 30 million, trademarks - 340","body":"words - 30 million, trademarks - 340"}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677587487,"creation_date":1677587487,"answer_id":75592100,"question_id":75550523,"body_markdown":"This is how to do the matching with Java streams:\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// stubbing up the persistence layer\r\n\t\tList&lt;BlacklistedWords&gt; blacklistedWords = Arrays.asList(new BlacklistedWords[] {new BlacklistedWords(1, &quot;while swam&quot;), new BlacklistedWords(2, &quot;ibm&quot;), new BlacklistedWords(3, &quot;bmw&quot;)});\r\n\t\tList&lt;ProcessedWords&gt; keyWords = Arrays.asList(new ProcessedWords[] {new ProcessedWords(1, &quot;while swam is interesting&quot;), new ProcessedWords(2, &quot;ibm is a company like bmw&quot;), new ProcessedWords(3, &quot;miss&quot;)});\r\n\t\t\r\n\r\n\t\t\r\n\t\tList&lt;ProcessedWords&gt; hits = keyWords.stream()\r\n\t              .filter(pw -&gt; blacklistedWords.stream()                    \r\n\t                  .anyMatch(bw -&gt;                                 \r\n\t                       pw.getKeyword().indexOf(bw.getTrademark()) != -1))\r\n\t              .collect(Collectors.toList());\r\n\t\t\r\n\t\tSystem.out.println(hits);\r\n\t\r\n\t}\r\n\r\nOutput:\r\n\r\n    [ProcessedWords(id=1, keyword=while swam is interesting), ProcessedWords(id=2, keyword=ibm is a company like bmw)]\r\n\r\nNote that I stubbed out the persistence layer with an additional `ProcessedWords` of &quot;missed&quot; and annotated `BlacklistedWords(table=trademarks)` &amp; `ProcessedWords(table=words)` with `@Data` to get a decent `toString()`, which you shouldn&#39;t because they are `@Entity`. ","title":"find matches for multiple words","body":"<p>This is how to do the matching with Java streams:</p>\n<pre><code>public static void main(String[] args) {\n    // stubbing up the persistence layer\n    List&lt;BlacklistedWords&gt; blacklistedWords = Arrays.asList(new BlacklistedWords[] {new BlacklistedWords(1, &quot;while swam&quot;), new BlacklistedWords(2, &quot;ibm&quot;), new BlacklistedWords(3, &quot;bmw&quot;)});\n    List&lt;ProcessedWords&gt; keyWords = Arrays.asList(new ProcessedWords[] {new ProcessedWords(1, &quot;while swam is interesting&quot;), new ProcessedWords(2, &quot;ibm is a company like bmw&quot;), new ProcessedWords(3, &quot;miss&quot;)});\n    \n\n    \n    List&lt;ProcessedWords&gt; hits = keyWords.stream()\n              .filter(pw -&gt; blacklistedWords.stream()                    \n                  .anyMatch(bw -&gt;                                 \n                       pw.getKeyword().indexOf(bw.getTrademark()) != -1))\n              .collect(Collectors.toList());\n    \n    System.out.println(hits);\n\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>[ProcessedWords(id=1, keyword=while swam is interesting), ProcessedWords(id=2, keyword=ibm is a company like bmw)]\n</code></pre>\n<p>Note that I stubbed out the persistence layer with an additional <code>ProcessedWords</code> of &quot;missed&quot; and annotated <code>BlacklistedWords(table=trademarks)</code> &amp; <code>ProcessedWords(table=words)</code> with <code>@Data</code> to get a decent <code>toString()</code>, which you shouldn't because they are <code>@Entity</code>.</p>\n"},{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678124783,"creation_date":1678124783,"answer_id":75654136,"question_id":75550523,"body_markdown":"In order to satisfy the requirement for whole words, the following should be done. \r\n\r\n        List&lt;BlacklistedWords&gt; blacklistedWords = Arrays.asList(new BlacklistedWords[] {new BlacklistedWords(1, &quot;while swam&quot;), new BlacklistedWords(2, &quot;ibm&quot;), new BlacklistedWords(3, &quot;bmw&quot;)});\r\n        List&lt;ProcessedWords&gt; keyWords = Arrays.asList(new ProcessedWords[] {new ProcessedWords(1, &quot;while swam is interesting&quot;), new ProcessedWords(2, &quot;ibm is a company like bmw&quot;), new ProcessedWords(3, &quot;miss&quot;)});\r\n\t\t\r\n        Set&lt;ProcessedWords&gt; hits = new HashSet&lt;&gt;();\r\n\t\tblacklistedWords.parallelStream().forEach(bw -&gt; {\r\n\t\t\tfinal String trademark = bw.getTrademark();\r\n\t\t\tfinal String startsWith = trademark + &quot; &quot;;\r\n\t\t\tfinal String contains = &quot; &quot; + startsWith;\r\n\t\t\tfinal String endsWith = &quot; &quot; + trademark;\r\n\t\t\tkeyWords.parallelStream().forEach(pw -&gt; {\r\n\t\t\t\tfinal String keyword = pw.getKeyword();\r\n\t\t\t\tif (keyword.contains(contains) || keyword.startsWith(startsWith) || keyword.endsWith(endsWith)\r\n\t\t\t\t\t\t|| keyword.equals(trademark))\r\n\t\t\t\t\thits.add(pw);\r\n\t\t\t});\r\n\t\t});\r\n\r\n\r\n\r\nBecause the output we require is a subset of keyWords and we do not want to recalculate the &quot; &quot; + trademark + &quot; &quot;, etc in the inner stream, the following is not advised, but works:\r\n\r\n\t\tList&lt;ProcessedWords&gt; hits1 = keyWords.parallelStream().filter(pw -&gt; blacklistedWords.parallelStream().anyMatch(bw -&gt; {\r\n\t\t\tfinal String keyword = pw.getKeyword();\r\n\t\t\tfinal String trademark = bw.getTrademark();\r\n\t\t\treturn keyword.contains(&quot; &quot; + trademark + &quot; &quot;) || keyword.startsWith(trademark + &quot; &quot;) || keyword.endsWith(&quot; &quot; + trademark) || keyword.equals(trademark);\r\n\t\t})).collect(Collectors.toList());\r\n\r\n\r\n\r\n","title":"find matches for multiple words","body":"<p>In order to satisfy the requirement for whole words, the following should be done.</p>\n<pre><code>    List&lt;BlacklistedWords&gt; blacklistedWords = Arrays.asList(new BlacklistedWords[] {new BlacklistedWords(1, &quot;while swam&quot;), new BlacklistedWords(2, &quot;ibm&quot;), new BlacklistedWords(3, &quot;bmw&quot;)});\n    List&lt;ProcessedWords&gt; keyWords = Arrays.asList(new ProcessedWords[] {new ProcessedWords(1, &quot;while swam is interesting&quot;), new ProcessedWords(2, &quot;ibm is a company like bmw&quot;), new ProcessedWords(3, &quot;miss&quot;)});\n    \n    Set&lt;ProcessedWords&gt; hits = new HashSet&lt;&gt;();\n    blacklistedWords.parallelStream().forEach(bw -&gt; {\n        final String trademark = bw.getTrademark();\n        final String startsWith = trademark + &quot; &quot;;\n        final String contains = &quot; &quot; + startsWith;\n        final String endsWith = &quot; &quot; + trademark;\n        keyWords.parallelStream().forEach(pw -&gt; {\n            final String keyword = pw.getKeyword();\n            if (keyword.contains(contains) || keyword.startsWith(startsWith) || keyword.endsWith(endsWith)\n                    || keyword.equals(trademark))\n                hits.add(pw);\n        });\n    });\n</code></pre>\n<p>Because the output we require is a subset of keyWords and we do not want to recalculate the &quot; &quot; + trademark + &quot; &quot;, etc in the inner stream, the following is not advised, but works:</p>\n<pre><code>    List&lt;ProcessedWords&gt; hits1 = keyWords.parallelStream().filter(pw -&gt; blacklistedWords.parallelStream().anyMatch(bw -&gt; {\n        final String keyword = pw.getKeyword();\n        final String trademark = bw.getTrademark();\n        return keyword.contains(&quot; &quot; + trademark + &quot; &quot;) || keyword.startsWith(trademark + &quot; &quot;) || keyword.endsWith(&quot; &quot; + trademark) || keyword.equals(trademark);\n    })).collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75592100,"answer_count":2,"score":0,"last_activity_date":1678124783,"creation_date":1677187917,"question_id":75550523,"body_markdown":"I have this PostgreSQL table for storing words:\r\n\r\n    CREATE TABLE IF NOT EXISTS words\r\n    (\r\n        id bigint NOT NULL DEFAULT nextval(&#39;processed_words_id_seq&#39;::regclass),\r\n        keyword character varying(300) COLLATE pg_catalog.&quot;default&quot;,\r\n    );\r\n    \r\n    insert into words (keyword)\r\n    VALUES (&#39;while swam is interesting&#39;, \r\n            &#39;ibm is a company like bmw&#39;);\r\n    \r\n    CREATE TABLE IF NOT EXISTS trademarks\r\n    (\r\n       id bigint NOT NULL DEFAULT nextval(&#39;trademarks_id_seq&#39;::regclass),\r\n       trademark character varying(300) COLLATE pg_catalog.&quot;default&quot;,\r\n    );\r\n\r\n    insert into words (trademarks)\r\n    VALUES (&#39;while swam&#39;, \r\n            &#39;ibm&#39;,\r\n            &#39;bmw&#39;);\r\n\r\nInto table `trademarks` I will have thousands of registered trademarks names.\r\nI want to compare words stored into `words` table keyword, do they match not only for a words but also for word which is in a group of words. For example:\r\n\r\nI have a keyword `while swam is interesting` stored into `words.keyword`. I also have a trademark `swam` located in `trademarks.trademark` like `ibm` I have a word match, so I want to detect this using Java code. \r\n\r\nFirst I want to select all blacklisted keywords convert them in for example List and compare `ibm is a company like bmw` with elements from the list. How I can do this not only for one word but also for a expressions?\r\n\r\nsomething like this?\r\n\r\n    Optional&lt;ProcessedWords&gt; keywords = processedWordsService.findRandomKeywordWhereTrademarkBlacklistedIsEmpty();\r\n    \r\n            if(keywords.isPresent())\r\n            {\r\n                List&lt;BlacklistedWords&gt; blacklistedWords = blacklistedWordsService.findAll();\r\n                List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n                for(BlacklistedWords item:  blacklistedWords){\r\n                    list.add(item.getKeyword());\r\n                }\r\n    \r\n                ProcessedWords processedWords = keywords.get();\r\n                String keyword = processedWords.getKeyword();\r\n    \r\n                if(list.contains(keyword))\r\n                {\r\n                    System.out.println(&quot;Found blacklisted word in keyword: &quot; + keyword);\r\n                }\r\n    \r\n            }\r\n\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder(toBuilder = true)\r\n    @Entity\r\n    @Table(name = &quot;trademarks&quot;)\r\n    public class BlacklistedWords implements Serializable {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;, unique = true, updatable = false, nullable = false)\r\n        private long id;\r\n    \r\n        @Column(name = &quot;trademark&quot;, length = 200, unique = true)\r\n        private String keyword;\r\n    }\r\n\r\nCan you guide me how this can be implemented?\r\n\r\n","title":"find matches for multiple words","body":"<p>I have this PostgreSQL table for storing words:</p>\n<pre><code>CREATE TABLE IF NOT EXISTS words\n(\n    id bigint NOT NULL DEFAULT nextval('processed_words_id_seq'::regclass),\n    keyword character varying(300) COLLATE pg_catalog.&quot;default&quot;,\n);\n\ninsert into words (keyword)\nVALUES ('while swam is interesting', \n        'ibm is a company like bmw');\n\nCREATE TABLE IF NOT EXISTS trademarks\n(\n   id bigint NOT NULL DEFAULT nextval('trademarks_id_seq'::regclass),\n   trademark character varying(300) COLLATE pg_catalog.&quot;default&quot;,\n);\n\ninsert into words (trademarks)\nVALUES ('while swam', \n        'ibm',\n        'bmw');\n</code></pre>\n<p>Into table <code>trademarks</code> I will have thousands of registered trademarks names.\nI want to compare words stored into <code>words</code> table keyword, do they match not only for a words but also for word which is in a group of words. For example:</p>\n<p>I have a keyword <code>while swam is interesting</code> stored into <code>words.keyword</code>. I also have a trademark <code>swam</code> located in <code>trademarks.trademark</code> like <code>ibm</code> I have a word match, so I want to detect this using Java code.</p>\n<p>First I want to select all blacklisted keywords convert them in for example List and compare <code>ibm is a company like bmw</code> with elements from the list. How I can do this not only for one word but also for a expressions?</p>\n<p>something like this?</p>\n<pre><code>Optional&lt;ProcessedWords&gt; keywords = processedWordsService.findRandomKeywordWhereTrademarkBlacklistedIsEmpty();\n\n        if(keywords.isPresent())\n        {\n            List&lt;BlacklistedWords&gt; blacklistedWords = blacklistedWordsService.findAll();\n            List&lt;String&gt; list = new ArrayList&lt;&gt;();\n            for(BlacklistedWords item:  blacklistedWords){\n                list.add(item.getKeyword());\n            }\n\n            ProcessedWords processedWords = keywords.get();\n            String keyword = processedWords.getKeyword();\n\n            if(list.contains(keyword))\n            {\n                System.out.println(&quot;Found blacklisted word in keyword: &quot; + keyword);\n            }\n\n        }\n\n\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder(toBuilder = true)\n@Entity\n@Table(name = &quot;trademarks&quot;)\npublic class BlacklistedWords implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, unique = true, updatable = false, nullable = false)\n    private long id;\n\n    @Column(name = &quot;trademark&quot;, length = 200, unique = true)\n    private String keyword;\n}\n</code></pre>\n<p>Can you guide me how this can be implemented?</p>\n"},{"tags":["java","xml","ant","system-properties"],"comments":[{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1678123858,"post_id":75653976,"comment_id":133468658,"body_markdown":"Check if the parameter has been passed. If yes, store that value. If not, take it from properties.","body":"Check if the parameter has been passed. If yes, store that value. If not, take it from properties."},{"owner":{"account_id":26316352,"reputation":15,"user_id":19979065,"display_name":"jjl"},"score":0,"creation_date":1678124316,"post_id":75653976,"comment_id":133468803,"body_markdown":"@m0skit0 How can we check if the parameter has been passed or not? Is there a way for that? Thank you","body":"@m0skit0 How can we check if the parameter has been passed or not? Is there a way for that? Thank you"},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1678124408,"post_id":75653976,"comment_id":133468832,"body_markdown":"You already said they need to be passed as -DcommandType= and -DvalueType=. Check for that in the parameters array","body":"You already said they need to be passed as -DcommandType= and -DvalueType=. Check for that in the parameters array"}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678124742,"creation_date":1678124742,"answer_id":75654133,"question_id":75653976,"body_markdown":"By design, Ant only allows a property to be set once.  Any attempt to set a property which already has a value is simply ignored.\r\n\r\nYou can use this to your advantage.  Simply set each property to your desired default.  If that property was already set, your attempt to set it to a default will be ignored:\r\n\r\n    &lt;target name=&quot;endPoint depends=&quot;standard-release&quot;&gt;\r\n        &lt;!-- Ignored if commandType is already set. --&gt;\r\n        &lt;property name=&quot;commandType&quot; value=&quot;TYPE0&quot;/&gt;\r\n\r\n        &lt;!-- Ignored if valueType is already set. --&gt;\r\n        &lt;property name=&quot;valueType&quot; value=&quot;TYPE0&quot;/&gt;\r\n\r\n        &lt;java classname=&quot;callPath.sampleClass&quot; classpath=&quot;${bp:run.classpath}&quot; fork=&quot;true&quot;&gt;\r\n            &lt;sysproperty key=&quot;commandType&quot; value=&quot;${commandType}&quot;/&gt;\r\n            &lt;sysproperty key=&quot;commandName&quot; value=&quot;${Name}&quot;/&gt;\r\n            &lt;sysproperty key=&quot;valueType&quot; value=&quot;${valueType}&quot;/&gt;\r\n            &lt;sysproperty key=&quot;valueName&quot; value=&quot;${valueName}&quot;/&gt;\r\n        &lt;/java&gt;\r\n    &lt;/target&gt;\r\n","title":"How to set a default value to a string using System Poperties?","body":"<p>By design, Ant only allows a property to be set once.  Any attempt to set a property which already has a value is simply ignored.</p>\n<p>You can use this to your advantage.  Simply set each property to your desired default.  If that property was already set, your attempt to set it to a default will be ignored:</p>\n<pre><code>&lt;target name=&quot;endPoint depends=&quot;standard-release&quot;&gt;\n    &lt;!-- Ignored if commandType is already set. --&gt;\n    &lt;property name=&quot;commandType&quot; value=&quot;TYPE0&quot;/&gt;\n\n    &lt;!-- Ignored if valueType is already set. --&gt;\n    &lt;property name=&quot;valueType&quot; value=&quot;TYPE0&quot;/&gt;\n\n    &lt;java classname=&quot;callPath.sampleClass&quot; classpath=&quot;${bp:run.classpath}&quot; fork=&quot;true&quot;&gt;\n        &lt;sysproperty key=&quot;commandType&quot; value=&quot;${commandType}&quot;/&gt;\n        &lt;sysproperty key=&quot;commandName&quot; value=&quot;${Name}&quot;/&gt;\n        &lt;sysproperty key=&quot;valueType&quot; value=&quot;${valueType}&quot;/&gt;\n        &lt;sysproperty key=&quot;valueName&quot; value=&quot;${valueName}&quot;/&gt;\n    &lt;/java&gt;\n&lt;/target&gt;\n</code></pre>\n"}],"owner":{"account_id":26316352,"reputation":15,"user_id":19979065,"display_name":"jjl"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75654133,"answer_count":1,"score":0,"last_activity_date":1678124742,"creation_date":1678123624,"question_id":75653976,"body_markdown":"I&#39;m trying to use Java system properties to take values from Command line as follows in my build.xml file - \r\n\r\n```\r\n&lt;target name=&quot;endPoint depends=&quot;standard-release&quot;&gt;\r\n        &lt;java classname=&quot;callPath.sampleClass&quot; classpath=&quot;${bp:run.classpath}&quot; fork=&quot;true&quot;&gt;\r\n            &lt;sysproperty key=&quot;commandType&quot; value=&quot;${commandType}&quot;/&gt;\r\n            &lt;sysproperty key=&quot;commandName&quot; value=&quot;${Name}&quot;/&gt;\r\n            &lt;sysproperty key=&quot;valueType&quot; value=&quot;${valueType}&quot;/&gt;\r\n            &lt;sysproperty key=&quot;valueName&quot; value=&quot;${valueName}&quot;/&gt;\r\n        &lt;/java&gt;\r\n    &lt;/target&gt;\r\n````\r\nIn my main method for sampleClass I&#39;m retrieving the values passed using system properties and storing them in corresponding variables as follows - \r\n\r\n```\r\npublic final class sampleClass {\r\n   public static void main(String[] args) throws Exception {\r\n        final String commandType = System.getProperty(&quot;commandType&quot;);\r\n        final String commandName = System.getProperty(&quot;commandName&quot;);\r\n        final String valueType = System.getProperty(&quot;valueType&quot;);\r\n        final String valueName = System.getProperty(&quot;valueName&quot;);\r\n        ....\r\n        .....\r\n }\r\n}\r\n```\r\n\r\nHowever, I want to default the values of ```commandType``` &amp; ```valueType``` to ```TYPE0``` when the user doesn&#39;t provide with any value from CLI. \r\n\r\nBut I can&#39;t do that as the default value would be ```commandType``` &amp; ```valueType``` itself as mentioned in the build.xml file.\r\n\r\nWhen user tries to provide a value they can use ```-DcommandType=``` &amp; ```-DvalueType=```need to store that in the variables. \r\n\r\nBut when the user doesn&#39;t provide with any value then the values of both the variables should be ```TYPE0```\r\n\r\nHow can I achieve this?\r\n","title":"How to set a default value to a string using System Poperties?","body":"<p>I'm trying to use Java system properties to take values from Command line as follows in my build.xml file -</p>\n<pre><code>&lt;target name=&quot;endPoint depends=&quot;standard-release&quot;&gt;\n        &lt;java classname=&quot;callPath.sampleClass&quot; classpath=&quot;${bp:run.classpath}&quot; fork=&quot;true&quot;&gt;\n            &lt;sysproperty key=&quot;commandType&quot; value=&quot;${commandType}&quot;/&gt;\n            &lt;sysproperty key=&quot;commandName&quot; value=&quot;${Name}&quot;/&gt;\n            &lt;sysproperty key=&quot;valueType&quot; value=&quot;${valueType}&quot;/&gt;\n            &lt;sysproperty key=&quot;valueName&quot; value=&quot;${valueName}&quot;/&gt;\n        &lt;/java&gt;\n    &lt;/target&gt;\n</code></pre>\n<p>In my main method for sampleClass I'm retrieving the values passed using system properties and storing them in corresponding variables as follows -</p>\n<pre><code>public final class sampleClass {\n   public static void main(String[] args) throws Exception {\n        final String commandType = System.getProperty(&quot;commandType&quot;);\n        final String commandName = System.getProperty(&quot;commandName&quot;);\n        final String valueType = System.getProperty(&quot;valueType&quot;);\n        final String valueName = System.getProperty(&quot;valueName&quot;);\n        ....\n        .....\n }\n}\n</code></pre>\n<p>However, I want to default the values of <code>commandType</code> &amp; <code>valueType</code> to <code>TYPE0</code> when the user doesn't provide with any value from CLI.</p>\n<p>But I can't do that as the default value would be <code>commandType</code> &amp; <code>valueType</code> itself as mentioned in the build.xml file.</p>\n<p>When user tries to provide a value they can use <code>-DcommandType=</code> &amp; <code>-DvalueType=</code>need to store that in the variables.</p>\n<p>But when the user doesn't provide with any value then the values of both the variables should be <code>TYPE0</code></p>\n<p>How can I achieve this?</p>\n"},{"tags":["java","regex","spring","spring-security"],"answers":[{"tags":[],"owner":{"account_id":4477746,"reputation":1014,"user_id":3642410,"accept_rate":100,"display_name":"Karim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678122196,"creation_date":1678122196,"answer_id":75653736,"question_id":75653665,"body_markdown":"There are a couple of issues with the regular expression in your Spring Security context XML.\r\n\r\nSecond, the question mark (?) in the pattern also has a special meaning in regular expressions and should be escaped as well.\r\n\r\nHere&#39;s a revised regex that should match the URL you provided:\r\n\r\n    &lt;intercept-url pattern=&quot;/settings/.*\\\\.(yaml|json)\\\\?tag=.*&quot; access=&quot;hasAnyRole(&#39;ROLE&#39;)&quot; /&gt;\r\n\r\n","title":"Regular expression in spring security context for query","body":"<p>There are a couple of issues with the regular expression in your Spring Security context XML.</p>\n<p>Second, the question mark (?) in the pattern also has a special meaning in regular expressions and should be escaped as well.</p>\n<p>Here's a revised regex that should match the URL you provided:</p>\n<pre><code>&lt;intercept-url pattern=&quot;/settings/.*\\\\.(yaml|json)\\\\?tag=.*&quot; access=&quot;hasAnyRole('ROLE')&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":8430535,"reputation":11,"user_id":6326456,"display_name":"John Doe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75653736,"answer_count":1,"score":0,"last_activity_date":1678124075,"creation_date":1678121777,"question_id":75653665,"body_markdown":"I try to match this url in my spring security context xml: \r\n\r\n&gt; /settings/folder_0+folder_1+folder_2.yaml?tag=test\r\n\r\n\r\nI tried : \r\n\r\n&gt;         &lt;s:intercept-url pattern=&quot;/settings/(.*)([+]?)*.yaml?tag=test&quot; access=&quot;hasAnyRole(&quot;ROLE&quot;)&quot;/&gt;\r\n\r\nBut it doesn&#39;t works. I can&#39;t figure out where I made a mistake.\r\n\r\nCan someone help me ? \r\n\r\nIf it&#39;s possible I want to improve this regex in order to accept different format like yaml, json, ... and in order to accept any tag name. \r\n\r\nThank you :) \r\n\r\n\r\n\r\n","title":"Regular expression in spring security context for query","body":"<p>I try to match this url in my spring security context xml:</p>\n<blockquote>\n<p>/settings/folder_0+folder_1+folder_2.yaml?tag=test</p>\n</blockquote>\n<p>I tried :</p>\n<blockquote>\n<pre><code>    &lt;s:intercept-url pattern=&quot;/settings/(.*)([+]?)*.yaml?tag=test&quot; access=&quot;hasAnyRole(&quot;ROLE&quot;)&quot;/&gt;\n</code></pre>\n</blockquote>\n<p>But it doesn't works. I can't figure out where I made a mistake.</p>\n<p>Can someone help me ?</p>\n<p>If it's possible I want to improve this regex in order to accept different format like yaml, json, ... and in order to accept any tag name.</p>\n<p>Thank you :)</p>\n"},{"tags":["java","foreach","iterator","iterable"],"comments":[{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":3,"creation_date":1488094518,"post_id":42465871,"comment_id":72073410,"body_markdown":"are you trying to compare `Iterator` and `Iterable`? http://stackoverflow.com/questions/6863182/what-is-the-difference-between-iterator-and-iterable-and-how-to-use-them","body":"are you trying to compare <code>Iterator</code> and <code>Iterable</code>? <a href=\"http://stackoverflow.com/questions/6863182/what-is-the-difference-between-iterator-and-iterable-and-how-to-use-them\" title=\"what is the difference between iterator and iterable and how to use them\">stackoverflow.com/questions/6863182/&hellip;</a>"},{"owner":{"account_id":1564360,"reputation":1462,"user_id":1453475,"accept_rate":65,"display_name":"mostafa.S"},"score":1,"creation_date":1488097868,"post_id":42465871,"comment_id":72074169,"body_markdown":"@JBNizet all right guys, don&#39;t throw tomatoes on me! I got it :D","body":"@JBNizet all right guys, don&#39;t throw tomatoes on me! I got it :D"}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":106,"is_accepted":true,"score":106,"last_activity_date":1488096127,"creation_date":1488096127,"answer_id":42466144,"question_id":42465871,"body_markdown":"To understand why the two methods both exist, you need to first understand what are `Iterator` and `Iterable`.\r\n\r\nAn `Iterator` basically is something that has a &quot;next element&quot; and usually, an end.\r\n\r\nAn `Iterable` is something that contains elements in a finite or infinite sequence and hence, can be _iterated_ over by keep getting the next element. In other words, `Iterable`s can be iterated over by `Iterator`s.\r\n\r\nNow that you understand this, I can talk about what&#39;s the difference between the two methods in question.\r\n\r\nLet&#39;s use an array list as an example. This is what is inside the array list:\r\n\r\n    [1, 3, 6, 8, 0]\r\n\r\nNow if I call `Iterable.forEach()` and pass in `System.out::print()`, `13680` will be printed. This is because `Iterable.forEach` iterates through the whole sequence of elements.\r\n\r\nOn the other hand, if I get the `Iterator` of the array list and called `next` twice, before calling `forEachRemaining` with `System.out::print()`, `680` will be printed. The `Iterator` has already iterated through the first two elements, so the &quot;remaining&quot; ones are 6, 8 and 0.","title":"what&#39;s the point of having both Iterator.forEachRemaining() and Iterable.forEach()?","body":"<p>To understand why the two methods both exist, you need to first understand what are <code>Iterator</code> and <code>Iterable</code>.</p>\n\n<p>An <code>Iterator</code> basically is something that has a \"next element\" and usually, an end.</p>\n\n<p>An <code>Iterable</code> is something that contains elements in a finite or infinite sequence and hence, can be <em>iterated</em> over by keep getting the next element. In other words, <code>Iterable</code>s can be iterated over by <code>Iterator</code>s.</p>\n\n<p>Now that you understand this, I can talk about what's the difference between the two methods in question.</p>\n\n<p>Let's use an array list as an example. This is what is inside the array list:</p>\n\n<pre><code>[1, 3, 6, 8, 0]\n</code></pre>\n\n<p>Now if I call <code>Iterable.forEach()</code> and pass in <code>System.out::print()</code>, <code>13680</code> will be printed. This is because <code>Iterable.forEach</code> iterates through the whole sequence of elements.</p>\n\n<p>On the other hand, if I get the <code>Iterator</code> of the array list and called <code>next</code> twice, before calling <code>forEachRemaining</code> with <code>System.out::print()</code>, <code>680</code> will be printed. The <code>Iterator</code> has already iterated through the first two elements, so the \"remaining\" ones are 6, 8 and 0.</p>\n"},{"tags":[],"owner":{"account_id":19923816,"reputation":99,"user_id":14599017,"display_name":"vishal rathod"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1675231475,"creation_date":1621225735,"answer_id":67564011,"question_id":42465871,"body_markdown":"In Simple word, forEachRemaining() is an improved version of Iterator, where before JDK8 we were uses hasNext(), next() to traverse the any collection(ArrayList, HastSet etc).\r\n\r\n    List&lt;String&gt; fruits= new ArrayList&lt;&gt;();\r\n    fruits.add(&quot;Apple&quot;);\r\n    fruits.add(&quot;Banana&quot;);\r\n    fruits.add(&quot;Grapes&quot;);\r\n    fruits.add(&quot;Orange&quot;);\r\n    Iterator&lt;String&gt; iterator = fruits.iterator();\r\n\r\n**Before JDK8**\r\n\r\n    while (iterator.hasNext()) {\r\n    \tSystem.out.println(iterator.next());\r\n    }\r\n\r\nNow In JDK8 if we want to we want to traverse any collection we can do like this:\r\n\r\n**After JDK8**\r\n\r\n    iterator.forEachRemaining(System.out::println);\r\n\r\n&gt; Now, JDK8 forEach() is improved version JDK7 with lamda expression.\r\n\r\n\r\n","title":"what&#39;s the point of having both Iterator.forEachRemaining() and Iterable.forEach()?","body":"<p>In Simple word, forEachRemaining() is an improved version of Iterator, where before JDK8 we were uses hasNext(), next() to traverse the any collection(ArrayList, HastSet etc).</p>\n<pre><code>List&lt;String&gt; fruits= new ArrayList&lt;&gt;();\nfruits.add(&quot;Apple&quot;);\nfruits.add(&quot;Banana&quot;);\nfruits.add(&quot;Grapes&quot;);\nfruits.add(&quot;Orange&quot;);\nIterator&lt;String&gt; iterator = fruits.iterator();\n</code></pre>\n<p><strong>Before JDK8</strong></p>\n<pre><code>while (iterator.hasNext()) {\n    System.out.println(iterator.next());\n}\n</code></pre>\n<p>Now In JDK8 if we want to we want to traverse any collection we can do like this:</p>\n<p><strong>After JDK8</strong></p>\n<pre><code>iterator.forEachRemaining(System.out::println);\n</code></pre>\n<blockquote>\n<p>Now, JDK8 forEach() is improved version JDK7 with lamda expression.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6403579,"reputation":755,"user_id":4965515,"accept_rate":60,"display_name":"stackoverflowed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648404803,"creation_date":1648404803,"answer_id":71639030,"question_id":42465871,"body_markdown":"Just summarizing for Scala and Kotlin users: in Java, `Iterator`&#39;s `forEach` is called `forEachRemaining` (while `Iterable` has a `forEach` method).","title":"what&#39;s the point of having both Iterator.forEachRemaining() and Iterable.forEach()?","body":"<p>Just summarizing for Scala and Kotlin users: in Java, <code>Iterator</code>'s <code>forEach</code> is called <code>forEachRemaining</code> (while <code>Iterable</code> has a <code>forEach</code> method).</p>\n"},{"tags":[],"owner":{"account_id":8251133,"reputation":1627,"user_id":6205743,"display_name":"Fang Zhang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678123916,"creation_date":1678123916,"answer_id":75654013,"question_id":42465871,"body_markdown":"Additional comment to @Sweeper&#39;s answer:\r\n\r\n`forEach` is for `Iterable`, which corresponds to a &quot;collection&quot;, thus &quot;for each&quot; is &quot;for each element of the collection&quot;.\r\n\r\n`forEachRemaing` is for `Iterator`, which corresponds to a pointer. There may or may not be a &quot;collection&quot; behind the pointer; &quot;for each element of a pointer&quot; is not valid statement. ","title":"what&#39;s the point of having both Iterator.forEachRemaining() and Iterable.forEach()?","body":"<p>Additional comment to @Sweeper's answer:</p>\n<p><code>forEach</code> is for <code>Iterable</code>, which corresponds to a &quot;collection&quot;, thus &quot;for each&quot; is &quot;for each element of the collection&quot;.</p>\n<p><code>forEachRemaing</code> is for <code>Iterator</code>, which corresponds to a pointer. There may or may not be a &quot;collection&quot; behind the pointer; &quot;for each element of a pointer&quot; is not valid statement.</p>\n"}],"owner":{"account_id":1564360,"reputation":1462,"user_id":1453475,"accept_rate":65,"display_name":"mostafa.S"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27525,"favorite_count":0,"down_vote_count":4,"up_vote_count":39,"accepted_answer_id":42466144,"answer_count":4,"score":35,"last_activity_date":1678123916,"creation_date":1488093980,"question_id":42465871,"body_markdown":"and both of them get a Consumer as parameter. so if Java 8, is meant to avoid confusions, like it has done in Time API, why has it added a new confusion? or am I missing some point?","title":"what&#39;s the point of having both Iterator.forEachRemaining() and Iterable.forEach()?","body":"<p>and both of them get a Consumer as parameter. so if Java 8, is meant to avoid confusions, like it has done in Time API, why has it added a new confusion? or am I missing some point?</p>\n"},{"tags":["java","maven","kotlin","code-generation","annotation-processing"],"comments":[{"owner":{"account_id":322960,"reputation":7711,"user_id":642680,"accept_rate":74,"display_name":"D-Dᴙum"},"score":0,"creation_date":1678120451,"post_id":75653306,"comment_id":133467639,"body_markdown":"Are these 2 distinct Maven projects? I&#39;m trying to understand what you mean by &#39;within my Kotlin project&#39;","body":"Are these 2 distinct Maven projects? I&#39;m trying to understand what you mean by &#39;within my Kotlin project&#39;"},{"owner":{"account_id":169380,"reputation":1471,"user_id":395430,"accept_rate":100,"display_name":"tagtraeumer"},"score":0,"creation_date":1678120882,"post_id":75653306,"comment_id":133467752,"body_markdown":"@D-Dᴙum no, it is only one (kotlin) project. it has some libraries as dependency and using one of them I generate some (java) code as described above.","body":"@D-Dᴙum no, it is only one (kotlin) project. it has some libraries as dependency and using one of them I generate some (java) code as described above."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1678121830,"post_id":75653306,"comment_id":133468060,"body_markdown":"I don&#39;t have experience with Kotlin, is it really necessary that you configure the sourceDirs in the plugin? I would try to remove that part, but if you have to specify it, you also have to add the generated sources somehow, otherwise the Kotlin plugin doesn&#39;t know about them. See https://kotlinlang.org/docs/maven.html#compile-kotlin-and-java-sources","body":"I don&#39;t have experience with Kotlin, is it really necessary that you configure the sourceDirs in the plugin? I would try to remove that part, but if you have to specify it, you also have to add the generated sources somehow, otherwise the Kotlin plugin doesn&#39;t know about them. See <a href=\"https://kotlinlang.org/docs/maven.html#compile-kotlin-and-java-sources\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/maven.html#compile-kotlin-and-java-sourc&zwnj;&#8203;es</a>"},{"owner":{"account_id":169380,"reputation":1471,"user_id":395430,"accept_rate":100,"display_name":"tagtraeumer"},"score":0,"creation_date":1678122676,"post_id":75653306,"comment_id":133468323,"body_markdown":"@cyberbrain thanks for your input. I kinda used that link you shared as a basis for my configuration. I think the generated source dir in the maven plugin isn&#39;t necessary as sit seems to be the default value. I added the generated dir in the kotlin maven plugin and it didn&#39;t make a difference. I guess you might be right that it should be in there, therefore I&#39;ll leave it in. but unfortunately it won&#39;t still compile","body":"@cyberbrain thanks for your input. I kinda used that link you shared as a basis for my configuration. I think the generated source dir in the maven plugin isn&#39;t necessary as sit seems to be the default value. I added the generated dir in the kotlin maven plugin and it didn&#39;t make a difference. I guess you might be right that it should be in there, therefore I&#39;ll leave it in. but unfortunately it won&#39;t still compile"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1678122974,"post_id":75653306,"comment_id":133468397,"body_markdown":"(I answered already, but:) could you point out the exact difference between &quot;working&quot; and &quot;not working&quot; (.i.e. for &quot;non working&quot;, you did `mvn clean package spring-boot:repackage...`, how can you produce the &quot;working&quot; one?)","body":"(I answered already, but:) could you point out the exact difference between &quot;working&quot; and &quot;not working&quot; (.i.e. for &quot;non working&quot;, you did <code>mvn clean package spring-boot:repackage...</code>, how can you produce the &quot;working&quot; one?)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1678123253,"post_id":75653306,"comment_id":133468488,"body_markdown":"when &quot;working&quot;/&quot;everything compiles just fine&quot; means &quot;in IDE&quot;, then only due to just-in-time compilation of the IDE, and my answer could hold ;)","body":"when &quot;working&quot;/&quot;everything compiles just fine&quot; means &quot;in IDE&quot;, then only due to just-in-time compilation of the IDE, and my answer could hold ;)"},{"owner":{"account_id":169380,"reputation":1471,"user_id":395430,"accept_rate":100,"display_name":"tagtraeumer"},"score":0,"creation_date":1678123791,"post_id":75653306,"comment_id":133468626,"body_markdown":"@xerx593 ah I just commented in your answer ;) working means also build in maven. I have my kotlin code, which doesn&#39;t reference any of the generated sources (the in the error messages mentioned View.kt is not present). I also have generated code which references kotlin code. compiling in maven with my config (see my post) ends successfully, source code is generated, all classes are compiled and present in my target directory.","body":"@xerx593 ah I just commented in your answer ;) working means also build in maven. I have my kotlin code, which doesn&#39;t reference any of the generated sources (the in the error messages mentioned View.kt is not present). I also have generated code which references kotlin code. compiling in maven with my config (see my post) ends successfully, source code is generated, all classes are compiled and present in my target directory."},{"owner":{"account_id":169380,"reputation":1471,"user_id":395430,"accept_rate":100,"display_name":"tagtraeumer"},"score":0,"creation_date":1678123857,"post_id":75653306,"comment_id":133468656,"body_markdown":"when I add the View.kt, which references the generated java code, I cannot build anymore in maven","body":"when I add the View.kt, which references the generated java code, I cannot build anymore in maven"}],"owner":{"account_id":169380,"reputation":1471,"user_id":395430,"accept_rate":100,"display_name":"tagtraeumer"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":431,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678123657,"creation_date":1678119774,"question_id":75653306,"body_markdown":"I have a kotlin project in which some code is generated using Annotation Processing (AbstractProcessor). The generated code is in java and is generated into \r\n\r\n&gt; ./target/generated-sources/annotations\r\n\r\nthe generated code accesses some kotlin classes and with the following build configuration in java, everything compiles just fine\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;finalName&gt;xxx&lt;/finalName&gt;\r\n\t\t&lt;sourceDirectory&gt;${project.basedir}/src/main/kotlin&lt;/sourceDirectory&gt;\r\n\t\t&lt;testSourceDirectory&gt;${project.basedir}/src/test/kotlin&lt;/testSourceDirectory&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;args&gt;\r\n\t\t\t\t\t\t&lt;arg&gt;-Xjsr305=strict&lt;/arg&gt;\r\n\t\t\t\t\t&lt;/args&gt;\r\n\t\t\t\t\t&lt;compilerPlugins&gt;\r\n\t\t\t\t\t\t&lt;plugin&gt;spring&lt;/plugin&gt;\r\n\t\t\t\t\t&lt;/compilerPlugins&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;kotlin-maven-allopen&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;${kotlin.version}&lt;/version&gt;\r\n\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t&lt;/dependencies&gt;\r\n\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;compile&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;compile&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;sourceDirs&gt;\r\n\t\t\t\t\t\t\t\t&lt;sourceDir&gt;${project.basedir}/src/main/kotlin&lt;/sourceDir&gt;\r\n\t\t\t\t\t\t\t\t&lt;sourceDir&gt;${project.build.directory}/generated-sources/annotations&lt;/sourceDir&gt;\r\n\t\t\t\t\t\t\t&lt;/sourceDirs&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;test-compile&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;test-compile&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;sourceDirs&gt;\r\n\t\t\t\t\t\t\t\t&lt;sourceDir&gt;${project.basedir}/src/test/kotlin&lt;/sourceDir&gt;\r\n\t\t\t\t\t\t\t\t&lt;sourceDir&gt;${project.build.directory}/generated-sources/annotations&lt;/sourceDir&gt;\r\n\t\t\t\t\t\t\t&lt;/sourceDirs&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.5.1&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;!-- Replacing default-compile as it is treated specially by maven --&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;default-compile&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;none&lt;/phase&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;!-- Replacing default-testCompile as it is treated specially by maven --&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;default-testCompile&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;none&lt;/phase&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;java-compile&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;compile&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt; &lt;goal&gt;compile&lt;/goal&gt; &lt;/goals&gt;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t&lt;!--\r\n\t\t\t\tTake care of synchronizing java dependencies and imports in\r\n\t\t\t\tpackage.json and main.js files.\r\n\t\t\t\tIt also creates webpack.config.js if not exists yet.\r\n\t\t\t--&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;vaadin-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${vaadin.version}&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;prepare-frontend&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\nHowever, when I want to use the generated classes within my Kotlin project, maven doesn&#39;t compile anymore with the following error:\r\n\r\n&gt; mvn clean package spring-boot:repackage -Pproduction -DskipTests=true\r\n\r\n\r\n\t[ERROR] Failed to execute goal org.jetbrains.kotlin:kotlin-maven-plugin:1.7.22:compile (compile) on project xxx: Compilation failure: Compilation failure:\r\n\t[ERROR] /path/to/project/src/main/kotlin/com/x/y/z/View.kt:[12,44] Unresolved reference: CRUD\r\n\t[ERROR] /path/to/project/src/main/kotlin/com/x/y/z/View.kt:[35,38] Unresolved reference: XxxCRUDController\r\n\r\nany ideas how I can use my generated Java classes within my Kotlin project?\r\n","title":"Maven compile kotlin and java with generated sources","body":"<p>I have a kotlin project in which some code is generated using Annotation Processing (AbstractProcessor). The generated code is in java and is generated into</p>\n<blockquote>\n<p>./target/generated-sources/annotations</p>\n</blockquote>\n<p>the generated code accesses some kotlin classes and with the following build configuration in java, everything compiles just fine</p>\n<pre><code>&lt;build&gt;\n    &lt;finalName&gt;xxx&lt;/finalName&gt;\n    &lt;sourceDirectory&gt;${project.basedir}/src/main/kotlin&lt;/sourceDirectory&gt;\n    &lt;testSourceDirectory&gt;${project.basedir}/src/test/kotlin&lt;/testSourceDirectory&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;args&gt;\n                    &lt;arg&gt;-Xjsr305=strict&lt;/arg&gt;\n                &lt;/args&gt;\n                &lt;compilerPlugins&gt;\n                    &lt;plugin&gt;spring&lt;/plugin&gt;\n                &lt;/compilerPlugins&gt;\n            &lt;/configuration&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                    &lt;artifactId&gt;kotlin-maven-allopen&lt;/artifactId&gt;\n                    &lt;version&gt;${kotlin.version}&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;compile&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;compile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;sourceDirs&gt;\n                            &lt;sourceDir&gt;${project.basedir}/src/main/kotlin&lt;/sourceDir&gt;\n                            &lt;sourceDir&gt;${project.build.directory}/generated-sources/annotations&lt;/sourceDir&gt;\n                        &lt;/sourceDirs&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;test-compile&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;test-compile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;sourceDirs&gt;\n                            &lt;sourceDir&gt;${project.basedir}/src/test/kotlin&lt;/sourceDir&gt;\n                            &lt;sourceDir&gt;${project.build.directory}/generated-sources/annotations&lt;/sourceDir&gt;\n                        &lt;/sourceDirs&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.5.1&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;!-- Replacing default-compile as it is treated specially by maven --&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;default-compile&lt;/id&gt;\n                    &lt;phase&gt;none&lt;/phase&gt;\n                &lt;/execution&gt;\n                &lt;!-- Replacing default-testCompile as it is treated specially by maven --&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;default-testCompile&lt;/id&gt;\n                    &lt;phase&gt;none&lt;/phase&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;java-compile&lt;/id&gt;\n                    &lt;phase&gt;compile&lt;/phase&gt;\n                    &lt;goals&gt; &lt;goal&gt;compile&lt;/goal&gt; &lt;/goals&gt;\n                    \n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n\n        &lt;!--\n            Take care of synchronizing java dependencies and imports in\n            package.json and main.js files.\n            It also creates webpack.config.js if not exists yet.\n        --&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n            &lt;artifactId&gt;vaadin-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${vaadin.version}&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;prepare-frontend&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>However, when I want to use the generated classes within my Kotlin project, maven doesn't compile anymore with the following error:</p>\n<blockquote>\n<p>mvn clean package spring-boot:repackage -Pproduction -DskipTests=true</p>\n</blockquote>\n<pre><code>[ERROR] Failed to execute goal org.jetbrains.kotlin:kotlin-maven-plugin:1.7.22:compile (compile) on project xxx: Compilation failure: Compilation failure:\n[ERROR] /path/to/project/src/main/kotlin/com/x/y/z/View.kt:[12,44] Unresolved reference: CRUD\n[ERROR] /path/to/project/src/main/kotlin/com/x/y/z/View.kt:[35,38] Unresolved reference: XxxCRUDController\n</code></pre>\n<p>any ideas how I can use my generated Java classes within my Kotlin project?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":18196713,"reputation":2850,"user_id":13241651,"display_name":"Niteesh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678122850,"creation_date":1678122850,"answer_id":75653838,"question_id":75653798,"body_markdown":"You could do it this way\r\n```java\r\nfor (int i = 0; i &lt; 10; i++) {\r\n            for (int j = 0; j &lt; 2; j++) {\r\n                System.out.print(nums[i][j]);\r\n                if(j == 0)\r\n                  System.out.print(&quot; x &quot;);\r\n            }\r\n            System.out.println(&quot;=&quot;);\r\n}\r\n```","title":"Is it possible to print a char in between Multi-Dimensional Array in Java?","body":"<p>You could do it this way</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 0; i &lt; 10; i++) {\n            for (int j = 0; j &lt; 2; j++) {\n                System.out.print(nums[i][j]);\n                if(j == 0)\n                  System.out.print(&quot; x &quot;);\n            }\n            System.out.println(&quot;=&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27949712,"reputation":36,"user_id":21343885,"display_name":"Ibn Anik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678123452,"creation_date":1678123452,"answer_id":75653941,"question_id":75653798,"body_markdown":"    for (int i = 0; i &lt; 10; i++) {\r\n          \r\n                System.out.println(nums[i][0] + &quot; x &quot;+nums[i][1]+&quot; = &quot;);\r\n            \r\n        }","title":"Is it possible to print a char in between Multi-Dimensional Array in Java?","body":"<pre><code>for (int i = 0; i &lt; 10; i++) {\n      \n            System.out.println(nums[i][0] + &quot; x &quot;+nums[i][1]+&quot; = &quot;);\n        \n    }\n</code></pre>\n"}],"owner":{"account_id":25679730,"reputation":15,"user_id":19442685,"display_name":"Erhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75653941,"answer_count":2,"score":0,"last_activity_date":1678123452,"creation_date":1678122554,"question_id":75653798,"body_markdown":"I am still learning to code in Java and I want to build Multi-Dimensional arrays where I want it to print two numbers and a char in between so I can randomize maths multipication questions for my  son to exercise. \r\n\r\nSo far I have managed to get it done but &#39;x&#39; is also printing at the end. All I want to print is randoming two numbers and printing as ( 1 x 2 = ). \r\n\r\nThis is what I have so far : \r\n\r\n\r\n```\r\npackage exercises;\r\n\r\npublic class TimeTable {\r\n    public static void main(String[] args) {\r\n        int[][] nums = new int[10][2];\r\n\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            for (int j = 0; j &lt; 2; j++) {\r\n                nums[i][j] = (int) (Math.random() * 10);\r\n            }\r\n        }\r\n\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            for (int j = 0; j &lt; 2; j++) {\r\n                System.out.print(nums[i][j] + &quot; x &quot;);\r\n            }\r\n            System.out.println(&quot;=&quot;);\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nand it prints the following when I run it: \r\n\r\n\r\n```\r\n7 x 1 x =\r\n9 x 9 x =\r\n6 x 3 x =\r\n0 x 6 x =\r\n0 x 2 x =\r\n0 x 4 x =\r\n0 x 8 x =\r\n8 x 5 x =\r\n8 x 8 x =\r\n8 x 3 x =\r\n```\r\n\r\nI do not want the last &#39;x&#39; before the equal sign.\r\n\r\nThank you all.\r\n\r\n\r\n\r\nI tried to print the equal sign only and it was confusing. I tried to print first line of the array and then another seperate function to print the last bit of the array with &#39;+&#39; and it didnt worked instead it throw and huge error.","title":"Is it possible to print a char in between Multi-Dimensional Array in Java?","body":"<p>I am still learning to code in Java and I want to build Multi-Dimensional arrays where I want it to print two numbers and a char in between so I can randomize maths multipication questions for my  son to exercise.</p>\n<p>So far I have managed to get it done but 'x' is also printing at the end. All I want to print is randoming two numbers and printing as ( 1 x 2 = ).</p>\n<p>This is what I have so far :</p>\n<pre><code>package exercises;\n\npublic class TimeTable {\n    public static void main(String[] args) {\n        int[][] nums = new int[10][2];\n\n        for (int i = 0; i &lt; 10; i++) {\n            for (int j = 0; j &lt; 2; j++) {\n                nums[i][j] = (int) (Math.random() * 10);\n            }\n        }\n\n        for (int i = 0; i &lt; 10; i++) {\n            for (int j = 0; j &lt; 2; j++) {\n                System.out.print(nums[i][j] + &quot; x &quot;);\n            }\n            System.out.println(&quot;=&quot;);\n        }\n    }\n\n}\n</code></pre>\n<p>and it prints the following when I run it:</p>\n<pre><code>7 x 1 x =\n9 x 9 x =\n6 x 3 x =\n0 x 6 x =\n0 x 2 x =\n0 x 4 x =\n0 x 8 x =\n8 x 5 x =\n8 x 8 x =\n8 x 3 x =\n</code></pre>\n<p>I do not want the last 'x' before the equal sign.</p>\n<p>Thank you all.</p>\n<p>I tried to print the equal sign only and it was confusing. I tried to print first line of the array and then another seperate function to print the last bit of the array with '+' and it didnt worked instead it throw and huge error.</p>\n"},{"tags":["java","spring","spring-boot","spring-data"],"comments":[{"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"score":0,"creation_date":1677650735,"post_id":75599572,"comment_id":133377808,"body_markdown":"I think you are using hikari jdbc datasource here, and some of your properties are not being mapped correctly to your given properties.\nfollowing are some mandatory ones : `url,driverClassName,username,password`\nref: `org.springframework.boot.jdbc.DataSourceBuilder.DataSourceProperty`\nensure you have correct naming else it will fail.\n\nIn exception you might be able to see which exact property caused problems","body":"I think you are using hikari jdbc datasource here, and some of your properties are not being mapped correctly to your given properties. following are some mandatory ones : <code>url,driverClassName,username,password</code> ref: <code>org.springframework.boot.jdbc.DataSourceBuilder.DataSourcePr&zwnj;&#8203;operty</code> ensure you have correct naming else it will fail.  In exception you might be able to see which exact property caused problems"},{"owner":{"account_id":103016,"reputation":474,"user_id":276149,"accept_rate":60,"display_name":"Vega"},"score":0,"creation_date":1677680855,"post_id":75599572,"comment_id":133385815,"body_markdown":"I have all those field on the config as mentioned and its working good with older version of springboot","body":"I have all those field on the config as mentioned and its working good with older version of springboot"}],"answers":[{"tags":[],"owner":{"account_id":103016,"reputation":474,"user_id":276149,"accept_rate":60,"display_name":"Vega"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678123145,"creation_date":1678123145,"answer_id":75653889,"question_id":75599572,"body_markdown":"I have mentioned the jdbc url in config as\r\n`url: &quot;jdbc:mysql://url&quot;` it need to be updated as\r\n `jdbc-url: &quot;jdbc:mysql://url&quot;`\r\n ","title":"Could not bind properties to &#39;DataSource&#39; Springboot 2.7.9","body":"<p>I have mentioned the jdbc url in config as\n<code>url: &quot;jdbc:mysql://url&quot;</code> it need to be updated as\n<code>jdbc-url: &quot;jdbc:mysql://url&quot;</code></p>\n"}],"owner":{"account_id":103016,"reputation":474,"user_id":276149,"accept_rate":60,"display_name":"Vega"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":542,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75653889,"answer_count":1,"score":0,"last_activity_date":1678123145,"creation_date":1677644754,"question_id":75599572,"body_markdown":"I have upgraded springboot from 2.2.3.RELEASE to 2.7.9, then datasource bean creation started throwing below exception\r\n\r\nUnsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name &#39;primaryDataSource&#39;: Could not bind properties to &#39;DataSource&#39; : prefix=app.datasource.primary, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is org.springframework.boot.context.properties.bind.BindException: Failed to bind properties under &#39;app.datasource.primary&#39; to javax.sql.DataSource&quot;\r\n\r\nthe properties I have in config are below\r\n```\r\napp:\r\n  datasource:\r\n    primary:\r\n      minimum-idle: 5\r\n      maximum-pool-size: 20\r\n      connection-timeout: 30000\r\n      maxLifetime: 540000\r\n      idleTimeout: 30000\r\n      url: &quot;jdbc:mysql://url&quot;\r\n      driver-class-name: com.mysql.cj.jdbc.Driver\r\n      username: user\r\n      password: pwd\r\n```\r\nbean method\r\n```\r\n@Bean(name = &quot;primaryDataSource&quot;)\r\n\t@ConfigurationProperties(&quot;app.datasource.primary&quot;)\r\n\tpublic DataSource primaryDataSource() {\r\n\t\treturn DataSourceBuilder.create().build();\r\n\t}\r\n```\r\n\r\nDependencies\r\n```\r\n       &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.32&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\nThe same setup works with 2.2.X spring boot version, what I am missing\r\n","title":"Could not bind properties to &#39;DataSource&#39; Springboot 2.7.9","body":"<p>I have upgraded springboot from 2.2.3.RELEASE to 2.7.9, then datasource bean creation started throwing below exception</p>\n<p>Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.boot.context.properties.ConfigurationPropertiesBindException: Error creating bean with name 'primaryDataSource': Could not bind properties to 'DataSource' : prefix=app.datasource.primary, ignoreInvalidFields=false, ignoreUnknownFields=true; nested exception is org.springframework.boot.context.properties.bind.BindException: Failed to bind properties under 'app.datasource.primary' to javax.sql.DataSource&quot;</p>\n<p>the properties I have in config are below</p>\n<pre><code>app:\n  datasource:\n    primary:\n      minimum-idle: 5\n      maximum-pool-size: 20\n      connection-timeout: 30000\n      maxLifetime: 540000\n      idleTimeout: 30000\n      url: &quot;jdbc:mysql://url&quot;\n      driver-class-name: com.mysql.cj.jdbc.Driver\n      username: user\n      password: pwd\n</code></pre>\n<p>bean method</p>\n<pre><code>@Bean(name = &quot;primaryDataSource&quot;)\n    @ConfigurationProperties(&quot;app.datasource.primary&quot;)\n    public DataSource primaryDataSource() {\n        return DataSourceBuilder.create().build();\n    }\n</code></pre>\n<p>Dependencies</p>\n<pre><code>       &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.32&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\n            &lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\n            &lt;version&gt;4.0.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>The same setup works with 2.2.X spring boot version, what I am missing</p>\n"},{"tags":["java","spring","spring-boot","spring-security","oauth-2.0"],"answers":[{"tags":[],"owner":{"account_id":19399817,"reputation":81,"user_id":14186636,"display_name":"Pavel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678123108,"creation_date":1678123108,"answer_id":75653880,"question_id":75435764,"body_markdown":"had similar issue, solved by downgrading spring-security-oauth2-client to 5.8.2\r\n\r\nerror text:\r\n\r\n`\r\nError creating bean with name &#39;org.springframework.security.config.annotation.web.configuration.OAuth2ClientConfiguration$OAuth2ClientWebMvcSecurityConfiguration&#39;: Unsatisfied dependency expressed through method &#39;setAuthorizedClientRepository&#39; parameter 0;\r\n`","title":"java.lang.IllegalStateException: Failed to introspect AuthenticatedPrincipalOAuth2AuthorizedClientRepository Class","body":"<p>had similar issue, solved by downgrading spring-security-oauth2-client to 5.8.2</p>\n<p>error text:</p>\n<p><code>Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.OAuth2ClientConfiguration$OAuth2ClientWebMvcSecurityConfiguration': Unsatisfied dependency expressed through method 'setAuthorizedClientRepository' parameter 0;</code></p>\n"}],"owner":{"account_id":20862762,"reputation":9,"user_id":15324584,"display_name":"Anmol Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":326,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678123108,"creation_date":1676290644,"question_id":75435764,"body_markdown":"While adding Oauth2 configurations to my project, I got this error:\r\n\r\n```\r\njava.lang.IllegalStateException: Failed to introspect Class [org.springframework.security.oauth2.client.web.AuthenticatedPrincipalOAuth2AuthorizedClientRepository] from ClassLoader [jdk.internal.loader.ClassLoader$AppClassLoader@73d16e93]\r\n```\r\n\r\nFor reference: [Blog Link](https://developer.okta.com/blog/2021/05/05/client-credentials-spring-security#create-a-webclient-based-application)\r\n\r\nI have these dependencies in my maven project.\r\n\r\n\r\n```\r\n&lt;parent&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    &lt;version&gt;2.7.0&lt;/version&gt;\r\n&lt;/parent&gt;\r\n\r\n...\r\n    &lt;!-- Spring Boot Web starter --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- Security Starter --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- Oauth2 client --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-security-oauth2-client&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- WebClient --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\nPlease tell me what am I doing wrong here? I think the problem is related to dependencies.\r\n","title":"java.lang.IllegalStateException: Failed to introspect AuthenticatedPrincipalOAuth2AuthorizedClientRepository Class","body":"<p>While adding Oauth2 configurations to my project, I got this error:</p>\n<pre><code>java.lang.IllegalStateException: Failed to introspect Class [org.springframework.security.oauth2.client.web.AuthenticatedPrincipalOAuth2AuthorizedClientRepository] from ClassLoader [jdk.internal.loader.ClassLoader$AppClassLoader@73d16e93]\n</code></pre>\n<p>For reference: <a href=\"https://developer.okta.com/blog/2021/05/05/client-credentials-spring-security#create-a-webclient-based-application\" rel=\"nofollow noreferrer\">Blog Link</a></p>\n<p>I have these dependencies in my maven project.</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.7.0&lt;/version&gt;\n&lt;/parent&gt;\n\n...\n    &lt;!-- Spring Boot Web starter --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Security Starter --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Oauth2 client --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-oauth2-client&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- WebClient --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Please tell me what am I doing wrong here? I think the problem is related to dependencies.</p>\n"},{"tags":["java","spring-boot","cassandra"],"answers":[{"tags":[],"owner":{"account_id":4819783,"reputation":1505,"user_id":3890779,"display_name":"clunven"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1678114842,"creation_date":1678114842,"answer_id":75652395,"question_id":75651940,"body_markdown":"You got this error because the underlying request does not use the partition key (id). \r\n\r\nThe email is, in your case a clustering column (as it is the default `PrimaryKeyColumn` when not explicitly provided)\r\n\r\nWith the bean you provided the only queries valid are\r\n\r\n```\r\nselect * from user where id=?\r\nselect * from user where id=? AND email&gt;?\r\nselect * from user where id=? AND email&lt;?\r\nselect * from user where id=? AND email=?\r\n```\r\n\r\n**Why ?**\r\n\r\nData is partitioned based on the value of the partitioned key in order to access all data you want on a single node. You group together what you want to retrieve together. When you define a column as Partitioned column it becomes mandatory in all your queries.\r\n\r\nWith Apache Cassandra the data modeling strategy is to create your tables based on your queries. (If you need to access the same data with multiple requests to duplicate the data in multiple tables, it is the trade off for performance.\r\n\r\n\r\n","title":"Cannot execute this query as it might involve data filtering and thus may have unpredictable performance","body":"<p>You got this error because the underlying request does not use the partition key (id).</p>\n<p>The email is, in your case a clustering column (as it is the default <code>PrimaryKeyColumn</code> when not explicitly provided)</p>\n<p>With the bean you provided the only queries valid are</p>\n<pre><code>select * from user where id=?\nselect * from user where id=? AND email&gt;?\nselect * from user where id=? AND email&lt;?\nselect * from user where id=? AND email=?\n</code></pre>\n<p><strong>Why ?</strong></p>\n<p>Data is partitioned based on the value of the partitioned key in order to access all data you want on a single node. You group together what you want to retrieve together. When you define a column as Partitioned column it becomes mandatory in all your queries.</p>\n<p>With Apache Cassandra the data modeling strategy is to create your tables based on your queries. (If you need to access the same data with multiple requests to duplicate the data in multiple tables, it is the trade off for performance.</p>\n"},{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678116048,"creation_date":1678116048,"answer_id":75652621,"question_id":75651940,"body_markdown":"&gt;&gt; why\r\n\r\nBecause email is the second (clustering) part of the primary key. Searching through it has a poor performance in Cassandra Store. Exactly what the warning is saying.\r\n\r\n&gt;&gt; solution for it\r\n\r\nIf performance is not an issue in your application (like less then million of emails) then you can try allowing filtering.\r\n\r\nOtherwise consider changing your model. I suggest to get rid of the id and use the email as the only primary (and partitioned) key.","title":"Cannot execute this query as it might involve data filtering and thus may have unpredictable performance","body":"<blockquote>\n<blockquote>\n<p>why</p>\n</blockquote>\n</blockquote>\n<p>Because email is the second (clustering) part of the primary key. Searching through it has a poor performance in Cassandra Store. Exactly what the warning is saying.</p>\n<blockquote>\n<blockquote>\n<p>solution for it</p>\n</blockquote>\n</blockquote>\n<p>If performance is not an issue in your application (like less then million of emails) then you can try allowing filtering.</p>\n<p>Otherwise consider changing your model. I suggest to get rid of the id and use the email as the only primary (and partitioned) key.</p>\n"},{"tags":[],"owner":{"account_id":60456,"reputation":55961,"user_id":1054558,"accept_rate":100,"display_name":"Aaron"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678122964,"creation_date":1678119743,"answer_id":75653301,"question_id":75651940,"body_markdown":"Mar-Z makes a good suggestion about changing your data model.  How often will the user table be queried by `id`?  Is that something that you&#39;ll frequently have easy access to?  If not, re-keying the table like this will help:\r\n\r\n    CREATE TABLE user (\r\n      id UUID, email varchar, first_name varchar, last_name varchar,\r\n      PRIMARY KEY (email, id));\r\n\r\nIf you do have queries that require `id`, the best practice is to build a new query to support the new query.  You could completely duplicate the table if you don&#39;t mind keeping all of the data in-sync.  Or, you could just use it to reference the `id` for the `user` table, effectively making the table a &quot;manual index&quot; like this:\r\n\r\n    CREATE TABLE user_by_email (\r\n      id UUID, email varchar,\r\n      PRIMARY KEY (email));\r\n\r\n**Edit**\r\n\r\n&gt; How about if i want to search user by first name, last name, address?\r\n\r\nFirst of all, there&#39;s a difference between &quot;searching&quot; and &quot;querying.&quot;  With searching, you&#39;re providing very liberal keywords and expecting a large result set.  Querying is providing exact criteria and expecting a specific, usually small result set.\r\n\r\nWith that in mind, you&#39;ll want to make sure that your primary key definition matches your query criteria, in descending order of importance.  For this example, querying by first name wouldn&#39;t be terribly valuable, as common first names wouldn&#39;t lead to anything specific.  A table supporting a name query would look something like this:\r\n\r\n    CREATE TABLE user_by_name (\r\n      id UUID, email varchar, first_name varchar, last_name varchar,\r\n      PRIMARY KEY (last_name, first_name, id));\r\n\r\nBasically, building a table for name queries would want to have `last_name` first, followed by `first_name` and `id` to ensure uniqueness.","title":"Cannot execute this query as it might involve data filtering and thus may have unpredictable performance","body":"<p>Mar-Z makes a good suggestion about changing your data model.  How often will the user table be queried by <code>id</code>?  Is that something that you'll frequently have easy access to?  If not, re-keying the table like this will help:</p>\n<pre><code>CREATE TABLE user (\n  id UUID, email varchar, first_name varchar, last_name varchar,\n  PRIMARY KEY (email, id));\n</code></pre>\n<p>If you do have queries that require <code>id</code>, the best practice is to build a new query to support the new query.  You could completely duplicate the table if you don't mind keeping all of the data in-sync.  Or, you could just use it to reference the <code>id</code> for the <code>user</code> table, effectively making the table a &quot;manual index&quot; like this:</p>\n<pre><code>CREATE TABLE user_by_email (\n  id UUID, email varchar,\n  PRIMARY KEY (email));\n</code></pre>\n<p><strong>Edit</strong></p>\n<blockquote>\n<p>How about if i want to search user by first name, last name, address?</p>\n</blockquote>\n<p>First of all, there's a difference between &quot;searching&quot; and &quot;querying.&quot;  With searching, you're providing very liberal keywords and expecting a large result set.  Querying is providing exact criteria and expecting a specific, usually small result set.</p>\n<p>With that in mind, you'll want to make sure that your primary key definition matches your query criteria, in descending order of importance.  For this example, querying by first name wouldn't be terribly valuable, as common first names wouldn't lead to anything specific.  A table supporting a name query would look something like this:</p>\n<pre><code>CREATE TABLE user_by_name (\n  id UUID, email varchar, first_name varchar, last_name varchar,\n  PRIMARY KEY (last_name, first_name, id));\n</code></pre>\n<p>Basically, building a table for name queries would want to have <code>last_name</code> first, followed by <code>first_name</code> and <code>id</code> to ensure uniqueness.</p>\n"}],"owner":{"account_id":15062605,"reputation":967,"user_id":10870817,"display_name":"SoT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75653301,"answer_count":3,"score":1,"last_activity_date":1678122964,"creation_date":1678112301,"question_id":75651940,"body_markdown":"\r\nI got this error while executing `existsByEmail` method: `Cannot execute this query as it might involve data filtering and thus may have unpredictable performance. If you want to execute this query despite the performance unpredictability, use ALLOW FILTERING`\r\n\r\nThe table:\r\n\r\n    CREATE TABLE user(id UUID, email varchar, first_name varchar, last_name varchar, PRIMARY KEY (id, email));\r\n\r\nTbe java spring code:\r\n\r\n    @Repository\r\n    public interface UserRepository extends CassandraRepository&lt;User, UUID&gt; {\r\n      boolean existsByEmail(String email);\r\n    }\r\n\r\n    @Table\r\n    @Data\r\n    public class User {\r\n    \r\n      @PrimaryKeyColumn(type = PrimaryKeyType.PARTITIONED, ordinal = 0)\r\n      private UUID id;\r\n    \r\n      @PrimaryKeyColumn(ordinal = 1)\r\n      private String email;\r\n    \r\n      @Column(&quot;first_name&quot;)\r\n      private String firstName;\r\n    \r\n      @Column(&quot;last_name&quot;)\r\n      private String lastName;\r\n    }\r\n\r\n   \r\nPlease tell me why and solution for it. Thank you so much","title":"Cannot execute this query as it might involve data filtering and thus may have unpredictable performance","body":"<p>I got this error while executing <code>existsByEmail</code> method: <code>Cannot execute this query as it might involve data filtering and thus may have unpredictable performance. If you want to execute this query despite the performance unpredictability, use ALLOW FILTERING</code></p>\n<p>The table:</p>\n<pre><code>CREATE TABLE user(id UUID, email varchar, first_name varchar, last_name varchar, PRIMARY KEY (id, email));\n</code></pre>\n<p>Tbe java spring code:</p>\n<pre><code>@Repository\npublic interface UserRepository extends CassandraRepository&lt;User, UUID&gt; {\n  boolean existsByEmail(String email);\n}\n\n@Table\n@Data\npublic class User {\n\n  @PrimaryKeyColumn(type = PrimaryKeyType.PARTITIONED, ordinal = 0)\n  private UUID id;\n\n  @PrimaryKeyColumn(ordinal = 1)\n  private String email;\n\n  @Column(&quot;first_name&quot;)\n  private String firstName;\n\n  @Column(&quot;last_name&quot;)\n  private String lastName;\n}\n</code></pre>\n<p>Please tell me why and solution for it. Thank you so much</p>\n"},{"tags":["java","for-loop","if-statement","jbutton"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1678116897,"post_id":75652736,"comment_id":133466549,"body_markdown":"*if (greenButtons == 6) {* needs to be *after* the `for` loop, And you need to index the `JButton[]` correctly in the loop","body":"<i>if (greenButtons == 6) {</i> needs to be <i>after</i> the <code>for</code> loop, And you need to index the <code>JButton[]</code> correctly in the loop"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1678116947,"post_id":75652736,"comment_id":133466564,"body_markdown":"1) I don&#39;t see where you invoke the `setGreenButtons()` method. 2) The test for all 6 buttons being selected should be outside the loop, since it will only ever be true after the loop has finished executing. Adding it in the loop just means you are doing a check that will always be false for the first 5 buttons, so it doesn&#39;t make sense to do the check there.","body":"1) I don&#39;t see where you invoke the <code>setGreenButtons()</code> method. 2) The test for all 6 buttons being selected should be outside the loop, since it will only ever be true after the loop has finished executing. Adding it in the loop just means you are doing a check that will always be false for the first 5 buttons, so it doesn&#39;t make sense to do the check there."}],"answers":[{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678122951,"creation_date":1678117641,"answer_id":75652942,"question_id":75652736,"body_markdown":"You never call the `testGreenButtons` method.\r\n\r\n```java\r\npublic void actionPerformed(ActionEvent e) {\r\n    // ...\r\n    testGreenButtons();\r\n}\r\n```\r\n\r\nFurthermore, your check for green is wrong. It should be: `status[i] == 0`\r\n\r\n```java\r\nvoid testGreenButtons() {\r\n    int greenButtons = 0;\r\n    for (int i = 0; i &lt; 6; i++) {\r\n        if (status[i] == 0) {\r\n            greenButtons += 1;\r\n        }\r\n    }\r\n    if (greenButtons == 6) {\r\n        lblStatus.setText(&quot;All Systems Go!&quot;);\r\n    }\r\n}\r\n```\r\n\r\nTry:\r\n\r\n```java\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport javax.swing.*;\r\n\r\npublic class SystemCheck extends JFrame {\r\n    static final int N = 6; // number of buttons\r\n\r\n    /**\r\n     * The main class just calls the constructor\r\n     */\r\n    public static void main(String[] args) {\r\n        new SystemCheck();\r\n    }\r\n\r\n    /** label to indicate status */\r\n    JLabel lblStatus;\r\n    /** button to test status */\r\n    JButton btnTest;\r\n    /** array of buttons to display */\r\n    JButton[] btns = new JButton[N];\r\n    /**\r\n     * integer array to control status of each light.\r\n     * 0= green, 1 = orange, 2 = red\r\n     */\r\n    int[] status = new int[N];\r\n\r\n    /**\r\n     * sets up JFrame and JButtons\r\n     * calls inner class ButtonListener.&lt;br&gt;\r\n     * The ButtonListener is added to btnTest as well as btns[]\r\n     */\r\n    SystemCheck() {\r\n        this.setTitle(&quot;System Check ...&quot;);\r\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        this.setLocationRelativeTo(null);\r\n        JPanel panel = new JPanel(new GridLayout(1, 6, 3, 2));\r\n        panel.setBackground(Color.BLUE);\r\n\r\n        ButtonListener bl = new ButtonListener();\r\n        for (int i = 0; i &lt; N; i++) {\r\n            btns[i] = new JButton(&quot;&quot; + i);\r\n            btns[i].addActionListener(bl);\r\n            setButtons(&quot;&quot; + i);\r\n            panel.add(btns[i]);\r\n        }\r\n\r\n        JPanel panel2 = new JPanel();\r\n        btnTest = new JButton(&quot;TEST&quot;);\r\n        btnTest.addActionListener(bl);\r\n        lblStatus = new JLabel(&quot;nothing to report&quot;);\r\n        lblStatus.setBackground(Color.WHITE);\r\n        lblStatus.setOpaque(true);\r\n        panel2.add(btnTest);\r\n        panel2.add(lblStatus);\r\n        this.add(panel, BorderLayout.NORTH);\r\n        this.add(panel2, BorderLayout.SOUTH);\r\n        this.pack();\r\n        this.setLocationRelativeTo(null);\r\n        this.setVisible(true);\r\n    }\r\n\r\n    /** inner class to implement ActionListener */\r\n    private class ButtonListener implements ActionListener {\r\n\r\n        /**\r\n         * method to handle button clicking.\r\n         * Calls: testButtons(), setButtons()\r\n         * \r\n         * @param e the actionEvent created when any button is clicked\r\n         */\r\n        public void actionPerformed(ActionEvent e) {\r\n            if (e.getSource() == btnTest) {\r\n                testButtons();\r\n            } else {\r\n                setButtons(e.getActionCommand());\r\n            }\r\n            testGreenButtons();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Purpose: Changes the colours of the buttons based on the value of status[].\r\n     * Status[] is incremented each time that that button is clikced.\r\n     * Called from: actionPerformed\r\n     * \r\n     * @param cmd The number on the button\r\n     */\r\n    void setButtons(String cmd) {\r\n        int n = Integer.parseInt(cmd);\r\n        status[n]++;\r\n        if (status[n] &gt; 2)\r\n            status[n] = 0;\r\n        switch (status[n]) {\r\n            case 0:\r\n                btns[n].setBackground(Color.GREEN);\r\n                break;\r\n            case 1:\r\n                btns[n].setBackground(Color.ORANGE);\r\n                break;\r\n            case 2:\r\n                btns[n].setBackground(Color.RED);\r\n                break;\r\n            // default:\r\n            // status[n] = 0;\r\n            // btns[n].setBackground(Color.GREEN);\r\n        }\r\n        // testButtons();\r\n    }\r\n\r\n    /**\r\n     * TODO:\r\n     * This is the method that needs to be written to test &lt;br&gt;\r\n     * (a) if all the buttons are green (say &quot;All systems go!&quot;)&lt;br&gt;\r\n     * (b) if there are one or more reds (say &quot;Danger error!&quot;)&lt;br&gt;\r\n     * The code should be done by checking the value of status.\r\n     * Do your best to use a FOR LOOP instead of having to check 6 individual\r\n     * buttons.\r\n     * What if there were 200 buttons to check?\r\n     * \r\n     * Called from: actionPerformed()\r\n     */\r\n    void testButtons() {\r\n        boolean ok;\r\n        lblStatus.setText(&quot;Waiting ....&quot;);\r\n    }// this is the default message\r\n\r\n    // If all 6 buttons are green display &quot;All Systems Go!&quot;\r\n\r\n    // This is where I can add in code, this is what I have done.\r\n    void testGreenButtons() {\r\n        int greenButtons = 0;\r\n        for (int i = 0; i &lt; 6; i++) {\r\n            if (status[i] == 0) {\r\n                greenButtons += 1;\r\n            }\r\n        }\r\n        if (greenButtons == 6) {\r\n            lblStatus.setText(&quot;All Systems Go!&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nYou should really try to define a `Status` enum to encapsulate some of the logic:\r\n\r\n```java\r\nenum Status {\r\n    GREEN(Color.GREEN),\r\n    ORANGE(Color.ORANGE),\r\n    RED(Color.RED);\r\n\r\n    private Color color;\r\n\r\n    private Status(Color color) {\r\n        this.color = color;\r\n    }\r\n\r\n    public Color getColor() {\r\n        return color;\r\n    }\r\n}\r\n```\r\n\r\nHere is a cleaned-up example:\r\n\r\n```java\r\npackage org.example;\r\n\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport java.util.stream.Stream;\r\n\r\nimport javax.swing.*;\r\n\r\npublic class SystemCheck implements Runnable {\r\n    static final int BUTTON_COUNT = 6;\r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(new SystemCheck());\r\n    }\r\n\r\n    private JLabel lblStatus;\r\n    private JButton btnTest;\r\n    private StatusButton[] btns = new StatusButton[BUTTON_COUNT];\r\n\r\n    private Container contentPane;\r\n\r\n    @Override\r\n    public void run() {\r\n        JFrame frame = new JFrame(&quot;System Check ...&quot;);\r\n        frame.setContentPane(contentPane);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.pack();\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    public SystemCheck() {\r\n        contentPane = new JPanel(new BorderLayout());\r\n\r\n        JPanel buttonPanel = new JPanel(new GridLayout(1, 6, 3, 2));\r\n        buttonPanel.setBackground(Color.BLUE);\r\n\r\n        ButtonListener bl = new ButtonListener();\r\n        for (int i = 0; i &lt; BUTTON_COUNT; i++) {\r\n            btns[i] = new StatusButton(Integer.toString(i), Status.GREEN);\r\n            btns[i].addActionListener(bl);\r\n            updateButton(Integer.toString(i));\r\n            buttonPanel.add(btns[i]);\r\n        }\r\n\r\n        JPanel infoPanel = new JPanel();\r\n        btnTest = new JButton(&quot;TEST&quot;);\r\n        btnTest.addActionListener(bl);\r\n        lblStatus = new JLabel(&quot;nothing to report&quot;);\r\n        lblStatus.setBackground(Color.WHITE);\r\n        lblStatus.setOpaque(true);\r\n        infoPanel.add(btnTest);\r\n        infoPanel.add(lblStatus);\r\n        contentPane.add(buttonPanel, BorderLayout.NORTH);\r\n        contentPane.add(infoPanel, BorderLayout.SOUTH);\r\n    }\r\n\r\n    private void updateButton(String cmd) {\r\n        btns[Integer.parseInt(cmd)].incrementStatus().syncColorWithStatus();\r\n    }\r\n\r\n    private void testButtons() {\r\n        lblStatus.setText(&quot;Waiting ....&quot;);\r\n    }\r\n\r\n    private void testGreenButtons() {\r\n        boolean allMatch = Stream.of(btns)\r\n                .map(StatusButton::getStatus)\r\n                .allMatch(status -&gt; status == Status.GREEN);\r\n        if (allMatch) {\r\n            lblStatus.setText(&quot;All Systems Go!&quot;);\r\n        }\r\n    }\r\n\r\n    private class ButtonListener implements ActionListener {\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            if (e.getSource() == btnTest) {\r\n                testButtons();\r\n            } else {\r\n                updateButton(e.getActionCommand());\r\n            }\r\n            testGreenButtons();\r\n        }\r\n    }\r\n\r\n    private class StatusButton extends JButton {\r\n        private Status status;\r\n\r\n        public StatusButton(String text) {\r\n            this(text, Status.RED);\r\n        }\r\n\r\n        public StatusButton(String text, Status status) {\r\n            super(text);\r\n            this.status = status;\r\n        }\r\n\r\n        public StatusButton syncColorWithStatus() {\r\n            this.setBackground(this.status.getColor());\r\n            return this;\r\n        }\r\n\r\n        public StatusButton incrementStatus() {\r\n            this.status = Status.nextStatus(this.status);\r\n            return this;\r\n        }\r\n\r\n        public void setStatus(Status status) {\r\n            this.status = status;\r\n        }\r\n\r\n        public Status getStatus() {\r\n            return status;\r\n        }\r\n    }\r\n\r\n    private enum Status {\r\n        GREEN(Color.GREEN),\r\n        ORANGE(Color.ORANGE),\r\n        RED(Color.RED);\r\n\r\n        private Color color;\r\n\r\n        private Status(Color color) {\r\n            this.color = color;\r\n        }\r\n\r\n        public Color getColor() {\r\n            return color;\r\n        }\r\n\r\n        public static Status nextStatus(Status status) {\r\n            switch (status) {\r\n                case GREEN:\r\n                    return ORANGE;\r\n                case ORANGE:\r\n                    return RED;\r\n                case RED:\r\n                    return GREEN;\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIf you want to separate state from display, you can always create an application model. Each time an action is performed, the state gets updated in each method call. At the very end, you can &quot;render&quot; the new state changes:\r\n\r\n```java\r\npackage org.example;\r\n\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport javax.swing.*;\r\nimport java.util.*;\r\nimport java.util.List;\r\n\r\npublic class SystemCheck implements Runnable {\r\n    static final int BUTTON_COUNT = 6;\r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(new SystemCheck());\r\n    }\r\n\r\n    private AppModel appModel; // Application state\r\n    private Container contentPane;\r\n\r\n    @Override\r\n    public void run() {\r\n        JFrame frame = new JFrame(&quot;System Check ...&quot;);\r\n        frame.setContentPane(contentPane);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.pack();\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    public SystemCheck() {\r\n        appModel = new AppModel();\r\n        contentPane = new JPanel(new BorderLayout());\r\n\r\n        JPanel buttonPanel = new JPanel(new GridLayout(1, 6, 3, 2));\r\n        buttonPanel.setBackground(Color.BLUE);\r\n\r\n        ButtonListener buttonListener = new ButtonListener();\r\n        for (int i = 0; i &lt; BUTTON_COUNT; i++) {\r\n            JButton btn = new JButton(Integer.toString(i));\r\n            btn.addActionListener(buttonListener);\r\n            appModel.addButton(new StatusButtonModel(btn, Status.ORANGE));\r\n            buttonPanel.add(btn);\r\n        }\r\n\r\n        JPanel infoPanel = new JPanel();\r\n        JButton btnTest = new JButton(&quot;TEST&quot;);\r\n        btnTest.addActionListener(buttonListener);\r\n        appModel.setTestButton(new TextButtonModel(btnTest, btnTest.getText()));\r\n        JLabel lblStatus = new JLabel(&quot;nothing to report&quot;);\r\n        appModel.setStatusLabel(new LabelModel(lblStatus, lblStatus.getText()));\r\n\r\n        lblStatus.setBackground(Color.WHITE);\r\n        lblStatus.setOpaque(true);\r\n        infoPanel.add(btnTest);\r\n        infoPanel.add(lblStatus);\r\n        contentPane.add(buttonPanel, BorderLayout.NORTH);\r\n        contentPane.add(infoPanel, BorderLayout.SOUTH);\r\n        render();\r\n    }\r\n\r\n    private void updateButton(String cmd) {\r\n        int index = Integer.parseInt(cmd);\r\n        StatusButtonModel button = appModel.getButton(index);\r\n        button.setStatus(Status.nextStatus(button.getStatus()));\r\n    }\r\n\r\n    private void testButtons() {\r\n        appModel.getStatusLabel().setValue(&quot;Waiting ....&quot;);\r\n    }\r\n\r\n    private void testGreenButtons() {\r\n        boolean allMatch = appModel.getButtons()\r\n                .stream()\r\n                .map(StatusButtonModel::getStatus)\r\n                .allMatch(status -&gt; status == Status.GREEN);\r\n        if (allMatch) {\r\n            appModel.getStatusLabel().setValue(&quot;All Systems Go!&quot;);\r\n        }\r\n    }\r\n\r\n    protected void render() {\r\n        appModel.getStatusLabel().getComponentRef().setText(appModel.getStatusLabel().getValue());\r\n        appModel.getButtons().forEach(button -&gt; {\r\n            button.getComponentRef().setBackground(button.getStatus().getColor());\r\n        });\r\n    }\r\n\r\n    private class ButtonListener implements ActionListener {\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            if (e.getSource() == appModel.getTestButton().getComponentRef()) {\r\n                testButtons();\r\n            } else {\r\n                updateButton(e.getActionCommand());\r\n            }\r\n            testGreenButtons();\r\n            render();\r\n        }\r\n    }\r\n\r\n    private class AppModel {\r\n        private List&lt;StatusButtonModel&gt; buttons;\r\n        private LabelModel statusLabel;\r\n        private TextButtonModel testButton;\r\n\r\n        public AppModel() {\r\n            this.buttons = new ArrayList&lt;&gt;();\r\n            this.statusLabel = null;\r\n            this.testButton = null;\r\n        }\r\n\r\n        public void addButton(StatusButtonModel button) {\r\n            this.buttons.add(button);\r\n        }\r\n\r\n        public StatusButtonModel getButton(int index) {\r\n            return buttons.get(index);\r\n        }\r\n\r\n        public List&lt;StatusButtonModel&gt; getButtons() {\r\n            return buttons;\r\n        }\r\n\r\n        public LabelModel getStatusLabel() {\r\n            return statusLabel;\r\n        }\r\n\r\n        public void setStatusLabel(LabelModel statusLabel) {\r\n            this.statusLabel = statusLabel;\r\n        }\r\n\r\n        public TextButtonModel getTestButton() {\r\n            return testButton;\r\n        }\r\n\r\n        public void setTestButton(TextButtonModel testButton) {\r\n            this.testButton = testButton;\r\n        }\r\n    }\r\n\r\n    private class ComponentModel&lt;T extends JComponent&gt; {\r\n        private T componentRef;\r\n\r\n        private ComponentModel(T componentRef) {\r\n            this.componentRef = componentRef;\r\n        }\r\n\r\n        public T getComponentRef() {\r\n            return componentRef;\r\n        }\r\n    }\r\n\r\n    private class StatusButtonModel extends ComponentModel&lt;JButton&gt; {\r\n        private Status status;\r\n\r\n        public StatusButtonModel(JButton buttonRef, Status status) {\r\n            super(buttonRef);\r\n            this.status = status;\r\n        }\r\n\r\n        public Status getStatus() {\r\n            return status;\r\n        }\r\n\r\n        public void setStatus(Status status) {\r\n            this.status = status;\r\n        }\r\n    }\r\n\r\n    private class LabelModel extends ComponentModel&lt;JLabel&gt; {\r\n        private String value;\r\n\r\n        public LabelModel(JLabel labelRef, String value) {\r\n            super(labelRef);\r\n            this.value = value;\r\n        }\r\n\r\n        public String getValue() {\r\n            return value;\r\n        }\r\n\r\n        public void setValue(String value) {\r\n            this.value = value;\r\n        }\r\n    }\r\n\r\n    private class TextButtonModel extends ComponentModel&lt;JButton&gt; {\r\n        private String value;\r\n\r\n        public TextButtonModel(JButton buttonRef, String value) {\r\n            super(buttonRef);\r\n            this.value = value;\r\n        }\r\n\r\n        public String getValue() {\r\n            return value;\r\n        }\r\n\r\n        public void setValue(String value) {\r\n            this.value = value;\r\n        }\r\n    }\r\n\r\n    private enum Status {\r\n        GREEN(Color.GREEN),\r\n        ORANGE(Color.ORANGE),\r\n        RED(Color.RED);\r\n\r\n        private Color color;\r\n\r\n        private Status(Color color) {\r\n            this.color = color;\r\n        }\r\n\r\n        public Color getColor() {\r\n            return color;\r\n        }\r\n\r\n        public static Status nextStatus(Status status) {\r\n            switch (status) {\r\n                case GREEN:\r\n                    return ORANGE;\r\n                case ORANGE:\r\n                    return RED;\r\n                case RED:\r\n                    return GREEN;\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n}\r\n```","title":"How to make a label print when all 6 buttons = the same status in java","body":"<p>You never call the <code>testGreenButtons</code> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void actionPerformed(ActionEvent e) {\n    // ...\n    testGreenButtons();\n}\n</code></pre>\n<p>Furthermore, your check for green is wrong. It should be: <code>status[i] == 0</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>void testGreenButtons() {\n    int greenButtons = 0;\n    for (int i = 0; i &lt; 6; i++) {\n        if (status[i] == 0) {\n            greenButtons += 1;\n        }\n    }\n    if (greenButtons == 6) {\n        lblStatus.setText(&quot;All Systems Go!&quot;);\n    }\n}\n</code></pre>\n<p>Try:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\n\npublic class SystemCheck extends JFrame {\n    static final int N = 6; // number of buttons\n\n    /**\n     * The main class just calls the constructor\n     */\n    public static void main(String[] args) {\n        new SystemCheck();\n    }\n\n    /** label to indicate status */\n    JLabel lblStatus;\n    /** button to test status */\n    JButton btnTest;\n    /** array of buttons to display */\n    JButton[] btns = new JButton[N];\n    /**\n     * integer array to control status of each light.\n     * 0= green, 1 = orange, 2 = red\n     */\n    int[] status = new int[N];\n\n    /**\n     * sets up JFrame and JButtons\n     * calls inner class ButtonListener.&lt;br&gt;\n     * The ButtonListener is added to btnTest as well as btns[]\n     */\n    SystemCheck() {\n        this.setTitle(&quot;System Check ...&quot;);\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        this.setLocationRelativeTo(null);\n        JPanel panel = new JPanel(new GridLayout(1, 6, 3, 2));\n        panel.setBackground(Color.BLUE);\n\n        ButtonListener bl = new ButtonListener();\n        for (int i = 0; i &lt; N; i++) {\n            btns[i] = new JButton(&quot;&quot; + i);\n            btns[i].addActionListener(bl);\n            setButtons(&quot;&quot; + i);\n            panel.add(btns[i]);\n        }\n\n        JPanel panel2 = new JPanel();\n        btnTest = new JButton(&quot;TEST&quot;);\n        btnTest.addActionListener(bl);\n        lblStatus = new JLabel(&quot;nothing to report&quot;);\n        lblStatus.setBackground(Color.WHITE);\n        lblStatus.setOpaque(true);\n        panel2.add(btnTest);\n        panel2.add(lblStatus);\n        this.add(panel, BorderLayout.NORTH);\n        this.add(panel2, BorderLayout.SOUTH);\n        this.pack();\n        this.setLocationRelativeTo(null);\n        this.setVisible(true);\n    }\n\n    /** inner class to implement ActionListener */\n    private class ButtonListener implements ActionListener {\n\n        /**\n         * method to handle button clicking.\n         * Calls: testButtons(), setButtons()\n         * \n         * @param e the actionEvent created when any button is clicked\n         */\n        public void actionPerformed(ActionEvent e) {\n            if (e.getSource() == btnTest) {\n                testButtons();\n            } else {\n                setButtons(e.getActionCommand());\n            }\n            testGreenButtons();\n        }\n    }\n\n    /**\n     * Purpose: Changes the colours of the buttons based on the value of status[].\n     * Status[] is incremented each time that that button is clikced.\n     * Called from: actionPerformed\n     * \n     * @param cmd The number on the button\n     */\n    void setButtons(String cmd) {\n        int n = Integer.parseInt(cmd);\n        status[n]++;\n        if (status[n] &gt; 2)\n            status[n] = 0;\n        switch (status[n]) {\n            case 0:\n                btns[n].setBackground(Color.GREEN);\n                break;\n            case 1:\n                btns[n].setBackground(Color.ORANGE);\n                break;\n            case 2:\n                btns[n].setBackground(Color.RED);\n                break;\n            // default:\n            // status[n] = 0;\n            // btns[n].setBackground(Color.GREEN);\n        }\n        // testButtons();\n    }\n\n    /**\n     * TODO:\n     * This is the method that needs to be written to test &lt;br&gt;\n     * (a) if all the buttons are green (say &quot;All systems go!&quot;)&lt;br&gt;\n     * (b) if there are one or more reds (say &quot;Danger error!&quot;)&lt;br&gt;\n     * The code should be done by checking the value of status.\n     * Do your best to use a FOR LOOP instead of having to check 6 individual\n     * buttons.\n     * What if there were 200 buttons to check?\n     * \n     * Called from: actionPerformed()\n     */\n    void testButtons() {\n        boolean ok;\n        lblStatus.setText(&quot;Waiting ....&quot;);\n    }// this is the default message\n\n    // If all 6 buttons are green display &quot;All Systems Go!&quot;\n\n    // This is where I can add in code, this is what I have done.\n    void testGreenButtons() {\n        int greenButtons = 0;\n        for (int i = 0; i &lt; 6; i++) {\n            if (status[i] == 0) {\n                greenButtons += 1;\n            }\n        }\n        if (greenButtons == 6) {\n            lblStatus.setText(&quot;All Systems Go!&quot;);\n        }\n    }\n}\n</code></pre>\n<p>You should really try to define a <code>Status</code> enum to encapsulate some of the logic:</p>\n<pre class=\"lang-java prettyprint-override\"><code>enum Status {\n    GREEN(Color.GREEN),\n    ORANGE(Color.ORANGE),\n    RED(Color.RED);\n\n    private Color color;\n\n    private Status(Color color) {\n        this.color = color;\n    }\n\n    public Color getColor() {\n        return color;\n    }\n}\n</code></pre>\n<p>Here is a cleaned-up example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example;\n\nimport java.awt.*;\nimport java.awt.event.*;\nimport java.util.stream.Stream;\n\nimport javax.swing.*;\n\npublic class SystemCheck implements Runnable {\n    static final int BUTTON_COUNT = 6;\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new SystemCheck());\n    }\n\n    private JLabel lblStatus;\n    private JButton btnTest;\n    private StatusButton[] btns = new StatusButton[BUTTON_COUNT];\n\n    private Container contentPane;\n\n    @Override\n    public void run() {\n        JFrame frame = new JFrame(&quot;System Check ...&quot;);\n        frame.setContentPane(contentPane);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n\n    public SystemCheck() {\n        contentPane = new JPanel(new BorderLayout());\n\n        JPanel buttonPanel = new JPanel(new GridLayout(1, 6, 3, 2));\n        buttonPanel.setBackground(Color.BLUE);\n\n        ButtonListener bl = new ButtonListener();\n        for (int i = 0; i &lt; BUTTON_COUNT; i++) {\n            btns[i] = new StatusButton(Integer.toString(i), Status.GREEN);\n            btns[i].addActionListener(bl);\n            updateButton(Integer.toString(i));\n            buttonPanel.add(btns[i]);\n        }\n\n        JPanel infoPanel = new JPanel();\n        btnTest = new JButton(&quot;TEST&quot;);\n        btnTest.addActionListener(bl);\n        lblStatus = new JLabel(&quot;nothing to report&quot;);\n        lblStatus.setBackground(Color.WHITE);\n        lblStatus.setOpaque(true);\n        infoPanel.add(btnTest);\n        infoPanel.add(lblStatus);\n        contentPane.add(buttonPanel, BorderLayout.NORTH);\n        contentPane.add(infoPanel, BorderLayout.SOUTH);\n    }\n\n    private void updateButton(String cmd) {\n        btns[Integer.parseInt(cmd)].incrementStatus().syncColorWithStatus();\n    }\n\n    private void testButtons() {\n        lblStatus.setText(&quot;Waiting ....&quot;);\n    }\n\n    private void testGreenButtons() {\n        boolean allMatch = Stream.of(btns)\n                .map(StatusButton::getStatus)\n                .allMatch(status -&gt; status == Status.GREEN);\n        if (allMatch) {\n            lblStatus.setText(&quot;All Systems Go!&quot;);\n        }\n    }\n\n    private class ButtonListener implements ActionListener {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            if (e.getSource() == btnTest) {\n                testButtons();\n            } else {\n                updateButton(e.getActionCommand());\n            }\n            testGreenButtons();\n        }\n    }\n\n    private class StatusButton extends JButton {\n        private Status status;\n\n        public StatusButton(String text) {\n            this(text, Status.RED);\n        }\n\n        public StatusButton(String text, Status status) {\n            super(text);\n            this.status = status;\n        }\n\n        public StatusButton syncColorWithStatus() {\n            this.setBackground(this.status.getColor());\n            return this;\n        }\n\n        public StatusButton incrementStatus() {\n            this.status = Status.nextStatus(this.status);\n            return this;\n        }\n\n        public void setStatus(Status status) {\n            this.status = status;\n        }\n\n        public Status getStatus() {\n            return status;\n        }\n    }\n\n    private enum Status {\n        GREEN(Color.GREEN),\n        ORANGE(Color.ORANGE),\n        RED(Color.RED);\n\n        private Color color;\n\n        private Status(Color color) {\n            this.color = color;\n        }\n\n        public Color getColor() {\n            return color;\n        }\n\n        public static Status nextStatus(Status status) {\n            switch (status) {\n                case GREEN:\n                    return ORANGE;\n                case ORANGE:\n                    return RED;\n                case RED:\n                    return GREEN;\n            }\n            return null;\n        }\n    }\n}\n</code></pre>\n<p>If you want to separate state from display, you can always create an application model. Each time an action is performed, the state gets updated in each method call. At the very end, you can &quot;render&quot; the new state changes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example;\n\nimport java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\nimport java.util.*;\nimport java.util.List;\n\npublic class SystemCheck implements Runnable {\n    static final int BUTTON_COUNT = 6;\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new SystemCheck());\n    }\n\n    private AppModel appModel; // Application state\n    private Container contentPane;\n\n    @Override\n    public void run() {\n        JFrame frame = new JFrame(&quot;System Check ...&quot;);\n        frame.setContentPane(contentPane);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n\n    public SystemCheck() {\n        appModel = new AppModel();\n        contentPane = new JPanel(new BorderLayout());\n\n        JPanel buttonPanel = new JPanel(new GridLayout(1, 6, 3, 2));\n        buttonPanel.setBackground(Color.BLUE);\n\n        ButtonListener buttonListener = new ButtonListener();\n        for (int i = 0; i &lt; BUTTON_COUNT; i++) {\n            JButton btn = new JButton(Integer.toString(i));\n            btn.addActionListener(buttonListener);\n            appModel.addButton(new StatusButtonModel(btn, Status.ORANGE));\n            buttonPanel.add(btn);\n        }\n\n        JPanel infoPanel = new JPanel();\n        JButton btnTest = new JButton(&quot;TEST&quot;);\n        btnTest.addActionListener(buttonListener);\n        appModel.setTestButton(new TextButtonModel(btnTest, btnTest.getText()));\n        JLabel lblStatus = new JLabel(&quot;nothing to report&quot;);\n        appModel.setStatusLabel(new LabelModel(lblStatus, lblStatus.getText()));\n\n        lblStatus.setBackground(Color.WHITE);\n        lblStatus.setOpaque(true);\n        infoPanel.add(btnTest);\n        infoPanel.add(lblStatus);\n        contentPane.add(buttonPanel, BorderLayout.NORTH);\n        contentPane.add(infoPanel, BorderLayout.SOUTH);\n        render();\n    }\n\n    private void updateButton(String cmd) {\n        int index = Integer.parseInt(cmd);\n        StatusButtonModel button = appModel.getButton(index);\n        button.setStatus(Status.nextStatus(button.getStatus()));\n    }\n\n    private void testButtons() {\n        appModel.getStatusLabel().setValue(&quot;Waiting ....&quot;);\n    }\n\n    private void testGreenButtons() {\n        boolean allMatch = appModel.getButtons()\n                .stream()\n                .map(StatusButtonModel::getStatus)\n                .allMatch(status -&gt; status == Status.GREEN);\n        if (allMatch) {\n            appModel.getStatusLabel().setValue(&quot;All Systems Go!&quot;);\n        }\n    }\n\n    protected void render() {\n        appModel.getStatusLabel().getComponentRef().setText(appModel.getStatusLabel().getValue());\n        appModel.getButtons().forEach(button -&gt; {\n            button.getComponentRef().setBackground(button.getStatus().getColor());\n        });\n    }\n\n    private class ButtonListener implements ActionListener {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            if (e.getSource() == appModel.getTestButton().getComponentRef()) {\n                testButtons();\n            } else {\n                updateButton(e.getActionCommand());\n            }\n            testGreenButtons();\n            render();\n        }\n    }\n\n    private class AppModel {\n        private List&lt;StatusButtonModel&gt; buttons;\n        private LabelModel statusLabel;\n        private TextButtonModel testButton;\n\n        public AppModel() {\n            this.buttons = new ArrayList&lt;&gt;();\n            this.statusLabel = null;\n            this.testButton = null;\n        }\n\n        public void addButton(StatusButtonModel button) {\n            this.buttons.add(button);\n        }\n\n        public StatusButtonModel getButton(int index) {\n            return buttons.get(index);\n        }\n\n        public List&lt;StatusButtonModel&gt; getButtons() {\n            return buttons;\n        }\n\n        public LabelModel getStatusLabel() {\n            return statusLabel;\n        }\n\n        public void setStatusLabel(LabelModel statusLabel) {\n            this.statusLabel = statusLabel;\n        }\n\n        public TextButtonModel getTestButton() {\n            return testButton;\n        }\n\n        public void setTestButton(TextButtonModel testButton) {\n            this.testButton = testButton;\n        }\n    }\n\n    private class ComponentModel&lt;T extends JComponent&gt; {\n        private T componentRef;\n\n        private ComponentModel(T componentRef) {\n            this.componentRef = componentRef;\n        }\n\n        public T getComponentRef() {\n            return componentRef;\n        }\n    }\n\n    private class StatusButtonModel extends ComponentModel&lt;JButton&gt; {\n        private Status status;\n\n        public StatusButtonModel(JButton buttonRef, Status status) {\n            super(buttonRef);\n            this.status = status;\n        }\n\n        public Status getStatus() {\n            return status;\n        }\n\n        public void setStatus(Status status) {\n            this.status = status;\n        }\n    }\n\n    private class LabelModel extends ComponentModel&lt;JLabel&gt; {\n        private String value;\n\n        public LabelModel(JLabel labelRef, String value) {\n            super(labelRef);\n            this.value = value;\n        }\n\n        public String getValue() {\n            return value;\n        }\n\n        public void setValue(String value) {\n            this.value = value;\n        }\n    }\n\n    private class TextButtonModel extends ComponentModel&lt;JButton&gt; {\n        private String value;\n\n        public TextButtonModel(JButton buttonRef, String value) {\n            super(buttonRef);\n            this.value = value;\n        }\n\n        public String getValue() {\n            return value;\n        }\n\n        public void setValue(String value) {\n            this.value = value;\n        }\n    }\n\n    private enum Status {\n        GREEN(Color.GREEN),\n        ORANGE(Color.ORANGE),\n        RED(Color.RED);\n\n        private Color color;\n\n        private Status(Color color) {\n            this.color = color;\n        }\n\n        public Color getColor() {\n            return color;\n        }\n\n        public static Status nextStatus(Status status) {\n            switch (status) {\n                case GREEN:\n                    return ORANGE;\n                case ORANGE:\n                    return RED;\n                case RED:\n                    return GREEN;\n            }\n            return null;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27948642,"reputation":1,"user_id":21343042,"display_name":"Nick Slack"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75652942,"answer_count":1,"score":0,"last_activity_date":1678122951,"creation_date":1678116608,"question_id":75652736,"body_markdown":"Like the title says I need to make a label print when all 6 buttons = the same status in java. I was given code and am supposed to add onto the bottom to change the label if all the buttons status is green or 0 for the case. \r\n\r\n\r\n\r\nHere is the code:\r\n\r\n```\r\npublic class SystemCheck extends JFrame {\r\n\tstatic final int N = 6; // number of buttons\r\n\t\r\n\t/**\r\n\tThe main class just calls the constructor\r\n\t*/\r\n\tpublic static void main(String[] args) {\r\n\t\tnew SystemCheck();\r\n\t}\r\n\r\n\t/** label to indicate status */\r\n\tJLabel lblStatus;\r\n\t/** button to test status */\r\n\tJButton btnTest;\r\n\t/** array of buttons to display */\r\n\tJButton[] btns = new JButton[N];\r\n\t/** integer array to control status of each light.\r\n\t0= green, 1 = orange, 2 = red */\r\n\tint[] status = new int[N];\r\n\r\n\t/** sets up JFrame and JButtons\r\n\tcalls inner class ButtonListener.&lt;br&gt;\r\n\tThe ButtonListener is added to btnTest as well as btns[] */\r\n\tSystemCheck() {\r\n\t\tthis.setTitle(&quot;System Check ...&quot;);\r\n\t\tthis.setDefaultCloseOperation( JFrame.EXIT_ON_CLOSE );\r\n\t\tthis.setLocationRelativeTo(null);\r\n\t\tJPanel panel = new JPanel(new GridLayout(1,6,3,2));\r\n\t\tpanel.setBackground(Color.BLUE);\r\n\t\t\t\t\t\r\n\t\tButtonListener bl = new ButtonListener();\r\n\t\tfor (int i=0; i &lt; N; i++) {\r\n\t\t\tbtns[i] = new JButton(&quot;&quot;+i);\r\n\t\t\tbtns[i].addActionListener(bl);\r\n\t\t\tsetButtons(&quot;&quot; + i);\r\n\t\t\tpanel.add(btns[i]);\r\n\t\t}\r\n\r\n\t\tJPanel panel2 = new JPanel();\r\n\t\tbtnTest = new JButton(&quot;TEST&quot;);\r\n\t\tbtnTest.addActionListener(bl);\r\n\t\tlblStatus = new JLabel(&quot;nothing to report&quot;);\r\n\t\tlblStatus.setBackground(Color.WHITE);\r\n\t\tlblStatus.setOpaque(true);\r\n\t\tpanel2.add(btnTest);\r\n\t\tpanel2.add(lblStatus);\r\n\t\tthis.add(panel,BorderLayout.NORTH);\r\n\t\tthis.add(panel2,BorderLayout.SOUTH);\r\n\t\tthis.pack();\r\n\t\tthis.setLocationRelativeTo(null);\r\n\t\tthis.setVisible(true);\r\n\t}\r\n\r\n\t/** inner class to implement ActionListener */\r\n\tprivate class ButtonListener implements ActionListener {\r\n\t\t\r\n\t\t/** method to handle button clicking.\r\n\t\tCalls: testButtons(), setButtons()\r\n\t\t@param e the actionEvent created when any button is clicked */\r\n\t\tpublic void actionPerformed (ActionEvent e) {\r\n\t\t\tif (e.getSource() == btnTest) {\r\n\t\t\t\ttestButtons();\r\n\t\t\t} else {\r\n\t\t\t\tsetButtons(e.getActionCommand());\r\n\t\t\t}\t\t\r\n\t\t}\r\n\t}\r\n\t/**\r\n\tPurpose: Changes the colours of the buttons based on the value of status[].\r\n\t\t\tStatus[] is incremented each time that that button is clikced.\r\n\tCalled from: actionPerformed\r\n\t@param  cmd The number on the button\r\n\t*/\r\n\tvoid setButtons(String cmd){\r\n\t\tint n = Integer.parseInt(cmd);\r\n\t\tstatus[n]++;\r\n\t\tif (status[n] &gt; 2) status[n] = 0;\r\n\t\tswitch (status[n]){\r\n\t\t\tcase 0:\r\n\t\t\t\tbtns[n].setBackground(Color.GREEN);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 1:\r\n\t\t\t\tbtns[n].setBackground(Color.ORANGE);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tbtns[n].setBackground(Color.RED);\r\n\t\t\t\tbreak;\r\n//\t\t\tdefault: \r\n//\t\t\t\tstatus[n] = 0;\r\n//\t\t\t\tbtns[n].setBackground(Color.GREEN);\r\n\t\t}\t\t\r\n\t\t// testButtons();\r\n\t}\r\n\t\r\n\t/** TODO: \r\n\t * This is the method that needs to be written to test &lt;br&gt;\r\n\t(a) if all the buttons are green (say &quot;All systems go!&quot;)&lt;br&gt;\r\n\t(b) if there are one or more reds (say &quot;Danger error!&quot;)&lt;br&gt;\r\n\tThe code should be done by checking the value of status.\r\n\tDo your best to use a FOR LOOP instead of having to check 6 individual buttons.\r\n\tWhat if there were 200 buttons to check?\r\n\t\r\n\tCalled from: actionPerformed()\t*/\r\n\tvoid testButtons(){\r\n\t\tboolean ok;\r\n\t\tlblStatus.setText(&quot;Waiting ....&quot;);\r\n\t}//this is the default message\r\n\r\n\t\t\r\n\t\t//If all 6 buttons are green display &quot;All Systems Go!&quot;\r\n\r\n//This is where I can add in code, this is what I have done.\r\n\tvoid testGreenButtons(){\r\n\t\tint greenButtons = 0;\r\n\t\tfor(int i = 0; i &lt; 6; i++) {\r\n\t\t   if(btns.equals(status[0])) {\r\n\t\t\tgreenButtons+=1;\r\n\t\t   \t\t}\r\n\t\t   if(greenButtons == 6) {\r\n\t\t\t   \tlblStatus.setText(&quot;All Systems Go!&quot;);\r\n\t\t   }\r\n\t  }\r\n   }\r\n}\r\n```\r\n\r\nIt says that I need to check the value of status to do this. I have tried everything I can think of however and it is still not working. Thanks for any answers.","title":"How to make a label print when all 6 buttons = the same status in java","body":"<p>Like the title says I need to make a label print when all 6 buttons = the same status in java. I was given code and am supposed to add onto the bottom to change the label if all the buttons status is green or 0 for the case.</p>\n<p>Here is the code:</p>\n<pre><code>public class SystemCheck extends JFrame {\n    static final int N = 6; // number of buttons\n    \n    /**\n    The main class just calls the constructor\n    */\n    public static void main(String[] args) {\n        new SystemCheck();\n    }\n\n    /** label to indicate status */\n    JLabel lblStatus;\n    /** button to test status */\n    JButton btnTest;\n    /** array of buttons to display */\n    JButton[] btns = new JButton[N];\n    /** integer array to control status of each light.\n    0= green, 1 = orange, 2 = red */\n    int[] status = new int[N];\n\n    /** sets up JFrame and JButtons\n    calls inner class ButtonListener.&lt;br&gt;\n    The ButtonListener is added to btnTest as well as btns[] */\n    SystemCheck() {\n        this.setTitle(&quot;System Check ...&quot;);\n        this.setDefaultCloseOperation( JFrame.EXIT_ON_CLOSE );\n        this.setLocationRelativeTo(null);\n        JPanel panel = new JPanel(new GridLayout(1,6,3,2));\n        panel.setBackground(Color.BLUE);\n                    \n        ButtonListener bl = new ButtonListener();\n        for (int i=0; i &lt; N; i++) {\n            btns[i] = new JButton(&quot;&quot;+i);\n            btns[i].addActionListener(bl);\n            setButtons(&quot;&quot; + i);\n            panel.add(btns[i]);\n        }\n\n        JPanel panel2 = new JPanel();\n        btnTest = new JButton(&quot;TEST&quot;);\n        btnTest.addActionListener(bl);\n        lblStatus = new JLabel(&quot;nothing to report&quot;);\n        lblStatus.setBackground(Color.WHITE);\n        lblStatus.setOpaque(true);\n        panel2.add(btnTest);\n        panel2.add(lblStatus);\n        this.add(panel,BorderLayout.NORTH);\n        this.add(panel2,BorderLayout.SOUTH);\n        this.pack();\n        this.setLocationRelativeTo(null);\n        this.setVisible(true);\n    }\n\n    /** inner class to implement ActionListener */\n    private class ButtonListener implements ActionListener {\n        \n        /** method to handle button clicking.\n        Calls: testButtons(), setButtons()\n        @param e the actionEvent created when any button is clicked */\n        public void actionPerformed (ActionEvent e) {\n            if (e.getSource() == btnTest) {\n                testButtons();\n            } else {\n                setButtons(e.getActionCommand());\n            }       \n        }\n    }\n    /**\n    Purpose: Changes the colours of the buttons based on the value of status[].\n            Status[] is incremented each time that that button is clikced.\n    Called from: actionPerformed\n    @param  cmd The number on the button\n    */\n    void setButtons(String cmd){\n        int n = Integer.parseInt(cmd);\n        status[n]++;\n        if (status[n] &gt; 2) status[n] = 0;\n        switch (status[n]){\n            case 0:\n                btns[n].setBackground(Color.GREEN);\n                break;\n            case 1:\n                btns[n].setBackground(Color.ORANGE);\n                break;\n            case 2:\n                btns[n].setBackground(Color.RED);\n                break;\n//          default: \n//              status[n] = 0;\n//              btns[n].setBackground(Color.GREEN);\n        }       \n        // testButtons();\n    }\n    \n    /** TODO: \n     * This is the method that needs to be written to test &lt;br&gt;\n    (a) if all the buttons are green (say &quot;All systems go!&quot;)&lt;br&gt;\n    (b) if there are one or more reds (say &quot;Danger error!&quot;)&lt;br&gt;\n    The code should be done by checking the value of status.\n    Do your best to use a FOR LOOP instead of having to check 6 individual buttons.\n    What if there were 200 buttons to check?\n    \n    Called from: actionPerformed()  */\n    void testButtons(){\n        boolean ok;\n        lblStatus.setText(&quot;Waiting ....&quot;);\n    }//this is the default message\n\n        \n        //If all 6 buttons are green display &quot;All Systems Go!&quot;\n\n//This is where I can add in code, this is what I have done.\n    void testGreenButtons(){\n        int greenButtons = 0;\n        for(int i = 0; i &lt; 6; i++) {\n           if(btns.equals(status[0])) {\n            greenButtons+=1;\n                }\n           if(greenButtons == 6) {\n                lblStatus.setText(&quot;All Systems Go!&quot;);\n           }\n      }\n   }\n}\n</code></pre>\n<p>It says that I need to check the value of status to do this. I have tried everything I can think of however and it is still not working. Thanks for any answers.</p>\n"},{"tags":["java","mysql","spring","jpa"],"answers":[{"tags":[],"owner":{"account_id":4477746,"reputation":1014,"user_id":3642410,"accept_rate":100,"display_name":"Karim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678122291,"creation_date":1678121433,"answer_id":75653596,"question_id":75653045,"body_markdown":"For native query you have to use  Interface based Projection: \r\n\r\nfor interface-based projection modify `TransferTest` to be like this:\r\n\r\n\r\n    public interface TransferTest {\r\n    \r\n        Integer getTransfer_to();\r\n        String getUsername();\r\n    }\r\n\r\n\r\nand make sure also to use projection in the SQL query:\r\n\r\n    @Repository\r\n    public interface HomeTransferPageRepository extends JpaRepository&lt;TransferEntity, Integer&gt; {\r\n        \r\n            @Query(value=&quot;select DISTINCT transfer_to as transfer_to, username as username from (select transfer_to, transaction_date, username from transfers_table left join registration_entity on transfers_table.transfer_to = registration_entity.id where transfer_from= :transfer_from ORDER BY transaction_date DESC LIMIT 10 )  as x&quot;, nativeQuery=true)\r\n            public ArrayList&lt;TransferTest&gt; getTransferRequests(Integer transfer_from);\r\n        \r\n        }\r\n\r\n","title":"No converter found capable of converting from type [query.AbstractJpaQuery$TupleConverter$TupleBackedMap] to type [com.name.dto.TransferTest]","body":"<p>For native query you have to use  Interface based Projection:</p>\n<p>for interface-based projection modify <code>TransferTest</code> to be like this:</p>\n<pre><code>public interface TransferTest {\n\n    Integer getTransfer_to();\n    String getUsername();\n}\n</code></pre>\n<p>and make sure also to use projection in the SQL query:</p>\n<pre><code>@Repository\npublic interface HomeTransferPageRepository extends JpaRepository&lt;TransferEntity, Integer&gt; {\n    \n        @Query(value=&quot;select DISTINCT transfer_to as transfer_to, username as username from (select transfer_to, transaction_date, username from transfers_table left join registration_entity on transfers_table.transfer_to = registration_entity.id where transfer_from= :transfer_from ORDER BY transaction_date DESC LIMIT 10 )  as x&quot;, nativeQuery=true)\n        public ArrayList&lt;TransferTest&gt; getTransferRequests(Integer transfer_from);\n    \n    }\n</code></pre>\n"}],"owner":{"account_id":26230351,"reputation":7,"user_id":19906410,"display_name":"New_dev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":607,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75653596,"answer_count":1,"score":0,"last_activity_date":1678122291,"creation_date":1678118346,"question_id":75653045,"body_markdown":"Currently I have a query in my Repository where I&#39;m returning 2 columns from the database.\r\n\r\n    @Repository\r\n    public interface HomeTransferPageRepository extends JpaRepository&lt;TransferEntity, Integer&gt; {\r\n    \t\r\n    \t@Query(value=&quot;select DISTINCT transfer_to, username from (select transfer_to, transaction_date, username from transfers_table left join registration_entity on transfers_table.transfer_to = registration_entity.id where transfer_from= :transfer_from ORDER BY transaction_date DESC LIMIT 10 )  as x&quot;, nativeQuery=true)\r\n    \tpublic ArrayList&lt;TransferTest&gt; getTransferRequests(Integer transfer_from);\r\n    \r\n    }\r\n\r\nNow TransferTest here is my dto:\r\n\r\n    @Data\r\n    public class TransferTest {\r\n    \r\n    \tprivate Integer transfer_to;\r\n    \tprivate String username;\r\n    }\r\n\r\nThis is my DAO\r\n\r\n    @Autowired\r\n    \tprivate HomeTransferPageRepository homeTransferPageRepository;\r\n    \t\r\n    \tpublic ArrayList&lt;TransferTest&gt; getSentTransfers(TransferEntity entity) {\r\n    \t\treturn homeTransferPageRepository.getTransferRequests(entity.getId());\r\n    \t}\r\n\r\nAnd This is my service class:\r\n\r\n    @Autowired\r\n    \tprivate SendMoneyDAOImpl daoImpl;\r\n    \tprivate ModelMapper modelMapper = new ModelMapper();\r\n    \t\r\n    \t@Override\r\n    \tpublic ArrayList&lt;TransferTest&gt; getSentTransfers(TransferRequest request) {\r\n    \t\tTransferEntity entity = modelMapper.map(request, TransferEntity.class);\r\n    \t\tArrayList&lt;TransferTest&gt; getTransfers = daoImpl.getSentTransfers(entity);\r\n    \t\treturn getTransfers;\r\n    \t}\r\n\r\nAnd this is my transferEntity:\r\n\r\n    @Entity\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Table(name = &quot;transfers_table&quot;)\r\n    public class TransferEntity {\r\n    \t\r\n    \t@Id\r\n    \t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    \tprivate Integer Id;\r\n    \tprivate Integer transfer_from;\r\n    \tprivate Integer transfer_to;\r\n    \tprivate Double transaction_amount;\r\n    \tprivate Date transaction_date;\r\n    \t\r\n    }\r\n\r\nAnd this gives me the following error when I run it:\r\n\r\nNo converter found capable of converting from type \\[org.springframework.data.jpa.repository.query.AbstractJpaQuery$TupleConverter$TupleBackedMap\\] to type \\[com.name.dto.TransferTest\\]","title":"No converter found capable of converting from type [query.AbstractJpaQuery$TupleConverter$TupleBackedMap] to type [com.name.dto.TransferTest]","body":"<p>Currently I have a query in my Repository where I'm returning 2 columns from the database.</p>\n<pre><code>@Repository\npublic interface HomeTransferPageRepository extends JpaRepository&lt;TransferEntity, Integer&gt; {\n    \n    @Query(value=&quot;select DISTINCT transfer_to, username from (select transfer_to, transaction_date, username from transfers_table left join registration_entity on transfers_table.transfer_to = registration_entity.id where transfer_from= :transfer_from ORDER BY transaction_date DESC LIMIT 10 )  as x&quot;, nativeQuery=true)\n    public ArrayList&lt;TransferTest&gt; getTransferRequests(Integer transfer_from);\n\n}\n</code></pre>\n<p>Now TransferTest here is my dto:</p>\n<pre><code>@Data\npublic class TransferTest {\n\n    private Integer transfer_to;\n    private String username;\n}\n</code></pre>\n<p>This is my DAO</p>\n<pre><code>@Autowired\n    private HomeTransferPageRepository homeTransferPageRepository;\n    \n    public ArrayList&lt;TransferTest&gt; getSentTransfers(TransferEntity entity) {\n        return homeTransferPageRepository.getTransferRequests(entity.getId());\n    }\n</code></pre>\n<p>And This is my service class:</p>\n<pre><code>@Autowired\n    private SendMoneyDAOImpl daoImpl;\n    private ModelMapper modelMapper = new ModelMapper();\n    \n    @Override\n    public ArrayList&lt;TransferTest&gt; getSentTransfers(TransferRequest request) {\n        TransferEntity entity = modelMapper.map(request, TransferEntity.class);\n        ArrayList&lt;TransferTest&gt; getTransfers = daoImpl.getSentTransfers(entity);\n        return getTransfers;\n    }\n</code></pre>\n<p>And this is my transferEntity:</p>\n<pre><code>@Entity\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Table(name = &quot;transfers_table&quot;)\npublic class TransferEntity {\n    \n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private Integer Id;\n    private Integer transfer_from;\n    private Integer transfer_to;\n    private Double transaction_amount;\n    private Date transaction_date;\n    \n}\n</code></pre>\n<p>And this gives me the following error when I run it:</p>\n<p>No converter found capable of converting from type [org.springframework.data.jpa.repository.query.AbstractJpaQuery$TupleConverter$TupleBackedMap] to type [com.name.dto.TransferTest]</p>\n"},{"tags":["java","junit","powermock","powermockito"],"comments":[{"owner":{"account_id":874324,"reputation":105,"user_id":2003379,"display_name":"Kevin Van Dyck"},"score":2,"creation_date":1540377852,"post_id":52966897,"comment_id":92840225,"body_markdown":"Clicking that github link, it shows the last commit is 2 days ago ...","body":"Clicking that github link, it shows the last commit is 2 days ago ..."},{"owner":{"account_id":238954,"reputation":4355,"user_id":508219,"accept_rate":86,"display_name":"malejpavouk"},"score":1,"creation_date":1540378581,"post_id":52966897,"comment_id":92840661,"body_markdown":"Made by someone managing EasyMock integration most probably... The last release of powermock was more than year ago a patch release. Last minor more than 2 years ago. GitHub question about version 2 never responded to etc...","body":"Made by someone managing EasyMock integration most probably... The last release of powermock was more than year ago a patch release. Last minor more than 2 years ago. GitHub question about version 2 never responded to etc..."},{"owner":{"account_id":43861,"reputation":59776,"user_id":128397,"accept_rate":82,"display_name":"Daniel Pryden"},"score":3,"creation_date":1540472219,"post_id":52966897,"comment_id":92884865,"body_markdown":"As an aside: PowerMock is a powerful tool, but I would strongly recommend using it only as a weapon of last resort. If you can migrate away from needing to mock static members to a more testable design, you reduce your dependence on PowerMock and also make your code easier to maintain in the long term.","body":"As an aside: PowerMock is a powerful tool, but I would strongly recommend using it only as a weapon of last resort. If you can migrate away from needing to mock static members to a more testable design, you reduce your dependence on PowerMock and also make your code easier to maintain in the long term."},{"owner":{"account_id":238954,"reputation":4355,"user_id":508219,"accept_rate":86,"display_name":"malejpavouk"},"score":0,"creation_date":1540475106,"post_id":52966897,"comment_id":92886894,"body_markdown":"Yeah, I totally agree. mockStatic() etc. is really a bad idea...","body":"Yeah, I totally agree. mockStatic() etc. is really a bad idea..."},{"owner":{"account_id":67136,"reputation":1340,"user_id":196626,"accept_rate":67,"display_name":"ThatAintWorking"},"score":1,"creation_date":1562957923,"post_id":52966897,"comment_id":100557722,"body_markdown":"2019-04-21: PowerMock 2.0.2 has been released, so not dead yet, feeling much better. It still doesn&#39;t support JUnit 5, though.","body":"2019-04-21: PowerMock 2.0.2 has been released, so not dead yet, feeling much better. It still doesn&#39;t support JUnit 5, though."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1584123100,"post_id":52966897,"comment_id":107349887,"body_markdown":"java9 : https://stackoverflow.com/q/50456726/592355","body":"java9 : <a href=\"https://stackoverflow.com/q/50456726/592355\">stackoverflow.com/q/50456726/592355</a>"}],"answers":[{"tags":[],"owner":{"account_id":238954,"reputation":4355,"user_id":508219,"accept_rate":86,"display_name":"malejpavouk"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1540471934,"creation_date":1540471934,"answer_id":52989748,"question_id":52966897,"body_markdown":"After one year of no releases, things are really moving in PowerMock. \r\n\r\nPowerMock 2.0.0-RC1 was released. And with PowerMockito 2.0.0-RC1\r\n+ `@PowerMockIgnore({&quot;com.sun.org.apache.xerces.*&quot;, &quot;javax.xml.*&quot;, &quot;org.xml.*&quot;, &quot;org.w3c.*&quot;})`\r\n\r\nThe tests work under Java 11. ","title":"PowerMock &amp; Java 11","body":"<p>After one year of no releases, things are really moving in PowerMock. </p>\n\n<p>PowerMock 2.0.0-RC1 was released. And with PowerMockito 2.0.0-RC1\n+ <code>@PowerMockIgnore({\"com.sun.org.apache.xerces.*\", \"javax.xml.*\", \"org.xml.*\", \"org.w3c.*\"})</code></p>\n\n<p>The tests work under Java 11. </p>\n"},{"tags":[],"owner":{"account_id":129401,"reputation":2460,"user_id":327961,"accept_rate":50,"display_name":"user327961"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652735481,"creation_date":1602874809,"answer_id":64394953,"question_id":52966897,"body_markdown":"If there are a lot of test classes to migrate to Java 11, it is possible to configure the ignores globally (only once in a configuration file): org/powermock/exntensions/configuration.properties\r\n\r\n    powermock.global-ignore=com.sun.org.apache.xerces.*,javax.xml.*,org.xml.*,org.w3c.*","title":"PowerMock &amp; Java 11","body":"<p>If there are a lot of test classes to migrate to Java 11, it is possible to configure the ignores globally (only once in a configuration file): org/powermock/exntensions/configuration.properties</p>\n<pre><code>powermock.global-ignore=com.sun.org.apache.xerces.*,javax.xml.*,org.xml.*,org.w3c.*\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10923725,"reputation":59,"user_id":8029038,"display_name":"Chen Daocheng"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1614921371,"creation_date":1611312723,"answer_id":65843754,"question_id":52966897,"body_markdown":"add the properties: org/powermock/extensions/configuration.properties\r\n\r\nhttps://github.com/powermock/powermock/wiki/PowerMock-Configuration\r\nhttps://github.com/powermock/powermock-examples-maven/blob/master/global-ignore/src/test/resources/org/powermock/extensions/configuration.properties\r\n\r\ne.g. for maven/gradle:   src/test/resources/org/powermock/extensions/configuration.properties \r\n \r\n    powermock.global-ignore=javax.crypto.*,com.sun.xml.internal.stream.*,javax.xml.stream.*,javax.net.ssl.*,org.slf4j.*,javax.xml.parsers.*,ch.qos.logback.*,jdk.xml.internal.*,com.sun.org.apache.xerces.*,java.xml.*,org.xml.*,javax.management.*,org.w3c.dom.*\r\n\r\n","title":"PowerMock &amp; Java 11","body":"<p>add the properties: org/powermock/extensions/configuration.properties</p>\n<p><a href=\"https://github.com/powermock/powermock/wiki/PowerMock-Configuration\" rel=\"nofollow noreferrer\">https://github.com/powermock/powermock/wiki/PowerMock-Configuration</a>\n<a href=\"https://github.com/powermock/powermock-examples-maven/blob/master/global-ignore/src/test/resources/org/powermock/extensions/configuration.properties\" rel=\"nofollow noreferrer\">https://github.com/powermock/powermock-examples-maven/blob/master/global-ignore/src/test/resources/org/powermock/extensions/configuration.properties</a></p>\n<p>e.g. for maven/gradle:   src/test/resources/org/powermock/extensions/configuration.properties</p>\n<pre><code>powermock.global-ignore=javax.crypto.*,com.sun.xml.internal.stream.*,javax.xml.stream.*,javax.net.ssl.*,org.slf4j.*,javax.xml.parsers.*,ch.qos.logback.*,jdk.xml.internal.*,com.sun.org.apache.xerces.*,java.xml.*,org.xml.*,javax.management.*,org.w3c.dom.*\n</code></pre>\n"},{"tags":[],"owner":{"account_id":302899,"reputation":1158,"user_id":611526,"display_name":"Bruno Bossola"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1678122261,"creation_date":1613484828,"answer_id":66226045,"question_id":52966897,"body_markdown":"Resolved with:\r\n\r\n    @PowerMockIgnore(&quot;jdk.internal.reflect.*&quot;)\r\n\r\nNothing else needed. You can put it on the top of the test class, with the other annotations, as in this example:\r\n\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PowerMockIgnore(&quot;jdk.internal.reflect.*&quot;)\r\n    @PrepareForTest({ File.class, FileSystemUtils.class })\r\n    public class MyTest {\r\n       ...\r\n    }\r\n\r\n","title":"PowerMock &amp; Java 11","body":"<p>Resolved with:</p>\n<pre><code>@PowerMockIgnore(&quot;jdk.internal.reflect.*&quot;)\n</code></pre>\n<p>Nothing else needed. You can put it on the top of the test class, with the other annotations, as in this example:</p>\n<pre><code>@RunWith(PowerMockRunner.class)\n@PowerMockIgnore(&quot;jdk.internal.reflect.*&quot;)\n@PrepareForTest({ File.class, FileSystemUtils.class })\npublic class MyTest {\n   ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12826580,"reputation":76,"user_id":9279380,"display_name":"Saurabh Chaudhari"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1627074488,"creation_date":1627074488,"answer_id":68505046,"question_id":52966897,"body_markdown":"From mockito version 3.4.0 it is possible to mock static methods. You can refer to https://www.baeldung.com/mockito-mock-static-methods for more info.","title":"PowerMock &amp; Java 11","body":"<p>From mockito version 3.4.0 it is possible to mock static methods. You can refer to <a href=\"https://www.baeldung.com/mockito-mock-static-methods\" rel=\"nofollow noreferrer\">https://www.baeldung.com/mockito-mock-static-methods</a> for more info.</p>\n"},{"tags":[],"owner":{"account_id":9374511,"reputation":21,"user_id":8471807,"display_name":"Sachin Pete"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666947232,"creation_date":1666947232,"answer_id":74232858,"question_id":52966897,"body_markdown":"if your using java 11 then downgrade the dependency org.power.mock to 1.7.0.","title":"PowerMock &amp; Java 11","body":"<p>if your using java 11 then downgrade the dependency org.power.mock to 1.7.0.</p>\n"},{"tags":[],"owner":{"account_id":23029608,"reputation":11,"user_id":17149317,"display_name":"jngcs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670423884,"creation_date":1670423884,"answer_id":74718363,"question_id":52966897,"body_markdown":"If use reflect in JDK11, you might see some warning like &#39;An illegal reflective access operation has occurred&#39;, because reflect JDK inner API is illegal since JDK9, still you can use it with a warning above. \r\n \r\nTo fix the problem temporary, try to use `--add-exports` or `--add-opens` in your argLing.\r\n  \r\nFor example: `--add-opens java.xml/jdk.xml.internal=ALL-UNNAMED`\r\n\r\n&lt;!-- begin snippet: js hide: false console: false babel: false --&gt;\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n      &lt;configuration&gt;\r\n        &lt;argLine&gt;\r\n          @{argLine} --add-opens java.xml/jdk.xml.internal=ALL-UNNAMED \r\n        &lt;/argLine&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nFor more infomation, watch [--add-opens introduce][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/migrate/toc.htm#JSMIG-GUID-12F945EB-71D6-46AF-8C3D-D354FD0B1781","title":"PowerMock &amp; Java 11","body":"<p>If use reflect in JDK11, you might see some warning like 'An illegal reflective access operation has occurred', because reflect JDK inner API is illegal since JDK9, still you can use it with a warning above.</p>\n<p>To fix the problem temporary, try to use <code>--add-exports</code> or <code>--add-opens</code> in your argLing.</p>\n<p>For example: <code>--add-opens java.xml/jdk.xml.internal=ALL-UNNAMED</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.0.0-M5&lt;/version&gt;\n  &lt;configuration&gt;\n    &lt;argLine&gt;\n      @{argLine} --add-opens java.xml/jdk.xml.internal=ALL-UNNAMED \n    &lt;/argLine&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>For more infomation, watch <a href=\"https://docs.oracle.com/javase/9/migrate/toc.htm#JSMIG-GUID-12F945EB-71D6-46AF-8C3D-D354FD0B1781\" rel=\"nofollow noreferrer\">--add-opens introduce</a></p>\n"}],"owner":{"account_id":238954,"reputation":4355,"user_id":508219,"accept_rate":86,"display_name":"malejpavouk"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39213,"favorite_count":0,"down_vote_count":1,"up_vote_count":34,"answer_count":7,"score":33,"last_activity_date":1678122261,"creation_date":1540377616,"question_id":52966897,"body_markdown":"We are using PowerMock in few of our historical projects. Unfortunately PowerMock is quite [dead][1] and is not compatible with Java 11.\r\n\r\nAnd we are using mockStatic(). Yes, we know its considered harmful - its in the  legacy code and we would prefer not to rewrite those classes now...\r\n\r\nAre there any options how to tweak PowerMock to support Java 11? Or is it possible to easily replace it with some other Java 11 compatible framework? (Mockito does not support mockStatic)\r\n\r\n\r\n  [1]: https://github.com/powermock/powermock","title":"PowerMock &amp; Java 11","body":"<p>We are using PowerMock in few of our historical projects. Unfortunately PowerMock is quite <a href=\"https://github.com/powermock/powermock\" rel=\"noreferrer\">dead</a> and is not compatible with Java 11.</p>\n\n<p>And we are using mockStatic(). Yes, we know its considered harmful - its in the  legacy code and we would prefer not to rewrite those classes now...</p>\n\n<p>Are there any options how to tweak PowerMock to support Java 11? Or is it possible to easily replace it with some other Java 11 compatible framework? (Mockito does not support mockStatic)</p>\n"},{"tags":["java","spring","spring-mvc","spring-boot","spring-security"],"comments":[{"owner":{"account_id":10483983,"reputation":61,"user_id":7728150,"display_name":"Nikhil Sharma"},"score":0,"creation_date":1494502460,"post_id":43914208,"comment_id":74861555,"body_markdown":"It allows a single user of my application to login from multiple browsers","body":"It allows a single user of my application to login from multiple browsers"},{"owner":{"account_id":10483983,"reputation":61,"user_id":7728150,"display_name":"Nikhil Sharma"},"score":0,"creation_date":1494502511,"post_id":43914208,"comment_id":74861598,"body_markdown":"I want to restrict that thing.","body":"I want to restrict that thing."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1494502554,"post_id":43914208,"comment_id":74861636,"body_markdown":"Again what isn&#39;t working and HOW are you testing.. Opening a new browser window isn&#39;t going to work as that will share the session. You need to test with 2 separate browsers (i.e chrome and firefox for instance).","body":"Again what isn&#39;t working and HOW are you testing.. Opening a new browser window isn&#39;t going to work as that will share the session. You need to test with 2 separate browsers (i.e chrome and firefox for instance)."},{"owner":{"account_id":10483983,"reputation":61,"user_id":7728150,"display_name":"Nikhil Sharma"},"score":0,"creation_date":1494502665,"post_id":43914208,"comment_id":74861710,"body_markdown":"Yes i am testing it with different brwosers chrome and Firefox but same user gets logged in from both the browser.","body":"Yes i am testing it with different brwosers chrome and Firefox but same user gets logged in from both the browser."},{"owner":{"account_id":10483983,"reputation":61,"user_id":7728150,"display_name":"Nikhil Sharma"},"score":0,"creation_date":1494502975,"post_id":43914208,"comment_id":74861965,"body_markdown":"No previous session doesn&#39;t get expired.Its not working for me.","body":"No previous session doesn&#39;t get expired.Its not working for me."},{"owner":{"account_id":10483983,"reputation":61,"user_id":7728150,"display_name":"Nikhil Sharma"},"score":0,"creation_date":1494503128,"post_id":43914208,"comment_id":74862081,"body_markdown":"I even tested it by removing the custom filter UsernamePasswordAuthenticationFilter that i was using and remember me configuration but its not working and allow multiple logins from multiple browsers.","body":"I even tested it by removing the custom filter UsernamePasswordAuthenticationFilter that i was using and remember me configuration but its not working and allow multiple logins from multiple browsers."},{"owner":{"account_id":10483983,"reputation":61,"user_id":7728150,"display_name":"Nikhil Sharma"},"score":0,"creation_date":1494505701,"post_id":43914208,"comment_id":74863919,"body_markdown":"Login page is at the root of my application(&quot;/&quot;)  http://localhost:8080/prc-application/","body":"Login page is at the root of my application(&quot;/&quot;)  <a href=\"http://localhost:8080/prc-application/\" rel=\"nofollow noreferrer\">localhost:8080/prc-application</a>"},{"owner":{"account_id":10483983,"reputation":61,"user_id":7728150,"display_name":"Nikhil Sharma"},"score":0,"creation_date":1494509314,"post_id":43914208,"comment_id":74866815,"body_markdown":"&quot;/authenticate&quot;  for login form","body":"&quot;/authenticate&quot;  for login form"}],"answers":[{"tags":[],"owner":{"account_id":28511,"reputation":7390,"user_id":76237,"display_name":"diginoise"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494504184,"creation_date":1494504184,"answer_id":43914878,"question_id":43914208,"body_markdown":"Instead of merely creating `HttpSessionEventPublisher` make sure you register it as a session event listener:\r\n\r\n        @Bean\r\n        public static ServletListenerRegistrationBean httpSessionEventPublisher() {\r\n            return new ServletListenerRegistrationBean(new HttpSessionEventPublisher());\r\n        }\r\n\r\nHope this helps!","title":"Max session 1 is not working with spring boot","body":"<p>Instead of merely creating <code>HttpSessionEventPublisher</code> make sure you register it as a session event listener:</p>\n\n<pre><code>    @Bean\n    public static ServletListenerRegistrationBean httpSessionEventPublisher() {\n        return new ServletListenerRegistrationBean(new HttpSessionEventPublisher());\n    }\n</code></pre>\n\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":9356402,"reputation":132,"user_id":6944299,"display_name":"kRUMPEZ"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1503373338,"creation_date":1503373338,"answer_id":45808562,"question_id":43914208,"body_markdown":"here&#39;s how you do it in a simple spring boot way,Go to your WebSecurityConfig Class in your case it&#39;s called SpringSecurityConfig \r\n\r\n\r\n   \r\n\r\n        @Override\r\n    \tprotected void configure(HttpSecurity http) throws Exception {\r\n    \r\n    \t\thttp\r\n    \t\t\t.sessionManagement()\r\n    \t\t\t\t.maximumSessions(1)\r\n    \t\t\t\t.maxSessionsPreventsLogin(true);\r\n         }\r\n\r\n","title":"Max session 1 is not working with spring boot","body":"<p>here's how you do it in a simple spring boot way,Go to your WebSecurityConfig Class in your case it's called SpringSecurityConfig </p>\n\n<pre><code>    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n\n        http\n            .sessionManagement()\n                .maximumSessions(1)\n                .maxSessionsPreventsLogin(true);\n     }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2536131,"reputation":539,"user_id":2203205,"accept_rate":27,"display_name":"Anass Boukalane"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622241849,"creation_date":1622241849,"answer_id":67746163,"question_id":43914208,"body_markdown":"you have to remove\r\n\r\n     @Bean\r\n        public HttpSessionEventPublisher httpSessionEventPublisher() {\r\n            return new HttpSessionEventPublisher();\r\n        }\r\n","title":"Max session 1 is not working with spring boot","body":"<p>you have to remove</p>\n<pre><code> @Bean\n    public HttpSessionEventPublisher httpSessionEventPublisher() {\n        return new HttpSessionEventPublisher();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18807088,"reputation":11,"user_id":13716168,"display_name":"Yahyani Mohamed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634923511,"creation_date":1634923511,"answer_id":69680919,"question_id":43914208,"body_markdown":"You can try this in your webConfigSecurity class\r\n\r\n    http.sessionManagement()\r\n    \t\t\t.sessionCreationPolicy(SessionCreationPolicy.IF_REQUIRED)\r\n    \t\t  \t.invalidSessionUrl(&quot;/&quot;)\r\n    \t\t\t.maximumSessions(1)\r\n    \t\t\t.maxSessionsPreventsLogin(true)\r\n    \t\t\t.expiredUrl(&quot;/login?invalid-session=true&quot;);\r\n    \t} ","title":"Max session 1 is not working with spring boot","body":"<p>You can try this in your webConfigSecurity class</p>\n<pre><code>http.sessionManagement()\n            .sessionCreationPolicy(SessionCreationPolicy.IF_REQUIRED)\n            .invalidSessionUrl(&quot;/&quot;)\n            .maximumSessions(1)\n            .maxSessionsPreventsLogin(true)\n            .expiredUrl(&quot;/login?invalid-session=true&quot;);\n    } \n</code></pre>\n"},{"tags":[],"owner":{"account_id":13808968,"reputation":417,"user_id":9967174,"display_name":"Ayoub Anbara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678121325,"creation_date":1678065835,"answer_id":75646379,"question_id":43914208,"body_markdown":"In addition to creating a Bean HttpSessionEventPublisher \r\n```\r\n   @Bean\r\n   HttpSessionEventPublisher httpSessionEventPublisher() {\r\n        return new HttpSessionEventPublisher();\r\n    }\r\n```\r\nYou should take as a consideration this point:\r\n\r\n&quot;**If you are using the custom UserDetails instance, make sure you override equals() and hashCode() methods**.\r\n\r\nBy default Spring security SessionRegistry implementation uses an in-memory map to store the UserDetails. If you are using a custom UserDetails without equals() and hashCode() methods, it won’t be able to match the user correctly. Also, the default UserDetails object from Spring security provides implementation for both equals() and hashCode() methods.&quot;\r\n\r\nReferences: \r\n\r\nhttps://www.javadevjournal.com/spring-security/spring-security-session/\r\n\r\nhttps://youtube.com/watch?v=rWIVa-nTX6Q&amp;si=EnSIkaIECMiOmarE","title":"Max session 1 is not working with spring boot","body":"<p>In addition to creating a Bean HttpSessionEventPublisher</p>\n<pre><code>   @Bean\n   HttpSessionEventPublisher httpSessionEventPublisher() {\n        return new HttpSessionEventPublisher();\n    }\n</code></pre>\n<p>You should take as a consideration this point:</p>\n<p>&quot;<strong>If you are using the custom UserDetails instance, make sure you override equals() and hashCode() methods</strong>.</p>\n<p>By default Spring security SessionRegistry implementation uses an in-memory map to store the UserDetails. If you are using a custom UserDetails without equals() and hashCode() methods, it won’t be able to match the user correctly. Also, the default UserDetails object from Spring security provides implementation for both equals() and hashCode() methods.&quot;</p>\n<p>References:</p>\n<p><a href=\"https://www.javadevjournal.com/spring-security/spring-security-session/\" rel=\"nofollow noreferrer\">https://www.javadevjournal.com/spring-security/spring-security-session/</a></p>\n<p><a href=\"https://youtube.com/watch?v=rWIVa-nTX6Q&amp;si=EnSIkaIECMiOmarE\" rel=\"nofollow noreferrer\">https://youtube.com/watch?v=rWIVa-nTX6Q&amp;si=EnSIkaIECMiOmarE</a></p>\n"}],"owner":{"account_id":10483983,"reputation":61,"user_id":7728150,"display_name":"Nikhil Sharma"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5981,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":5,"score":4,"last_activity_date":1678121325,"creation_date":1494502318,"question_id":43914208,"body_markdown":"I want to restrict only one max session for a single user in my application where i am using spring boot and java based config.I used spring max session 1. But its not working for me.\r\n    This is my java based spring configuration file\r\n    \r\n    \r\n    package com.prcvideoplt.prc;\r\n    \r\n    import javax.annotation.Resource;\r\n    import javax.sql.DataSource;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.core.annotation.Order;\r\n    import org.springframework.security.authentication.AuthenticationManager;\r\n    import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\n    import org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.builders.WebSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n    import org.springframework.security.core.session.SessionRegistry;\r\n    import org.springframework.security.core.session.SessionRegistryImpl;\r\n    import org.springframework.security.core.userdetails.UserDetailsService;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import org.springframework.security.crypto.password.PasswordEncoder;\r\n    import org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\n    import org.springframework.security.web.authentication.rememberme.JdbcTokenRepositoryImpl;\r\n    import org.springframework.security.web.authentication.rememberme.PersistentTokenRepository;\r\n    import org.springframework.security.web.session.HttpSessionEventPublisher;\r\n    import org.springframework.security.web.util.matcher.AntPathRequestMatcher;\r\n    \r\n    import com.prcvideoplt.handlers.LoginFailureHandler;\r\n    import com.prcvideoplt.handlers.LoginSuccessHandler;\r\n    import com.prcvideoplt.handlers.LogoutSuccessHandler;\r\n    import com.prcvideoplt.service.security.CompanyBasedCustomFilter;\r\n    \r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity\r\n    @ComponentScan(basePackages = &quot;com.prcvideoplt&quot;)\r\n    public class SpringSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Resource(name = &quot;custUserDetails&quot;)\r\n        private UserDetailsService userDetailsService;\r\n    \r\n        @Override\r\n        @Bean\r\n        public UserDetailsService userDetailsService() {\r\n            return super.userDetailsService();\r\n        }\r\n    \r\n        @Bean(name = &quot;passwordEncoder&quot;)\r\n        public PasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder(13);\r\n        }\r\n    \r\n        @Autowired\r\n        public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\r\n        }\r\n    \r\n        @Configuration\r\n        @Order(value = 1)\r\n        public static class UserWebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n            @Resource(name = &quot;loginSuccessHandler&quot;)\r\n            private LoginSuccessHandler loginSuccessHandler;\r\n            @Resource(name = &quot;loginFailureHandler&quot;)\r\n            private LoginFailureHandler loginFailureHandler;\r\n            @Resource(name = &quot;logoutSuccesshandler&quot;)\r\n            private LogoutSuccessHandler logoutSuccesshandler;\r\n    \r\n            @Autowired\r\n            DataSource dataSource;\r\n    \r\n            @Autowired\r\n            UserDetailsService userDetailsService;\r\n    \r\n            @Override\r\n            public void configure(WebSecurity web) throws Exception {\r\n                web.ignoring().antMatchers(&quot;/assets/**&quot;);\r\n            }\r\n    \r\n            @Bean\r\n            public HttpSessionEventPublisher httpSessionEventPublisher() {\r\n                return new HttpSessionEventPublisher();\r\n            }\r\n    \r\n            @Bean\r\n            public CompanyBasedCustomFilter authenticationFilter() throws Exception {\r\n                CompanyBasedCustomFilter authFilter = new CompanyBasedCustomFilter();\r\n                authFilter.setRequiresAuthenticationRequestMatcher(new AntPathRequestMatcher(&quot;/authenticate&quot;, &quot;POST&quot;));\r\n                authFilter.setAuthenticationSuccessHandler(loginSuccessHandler);\r\n                authFilter.setAuthenticationFailureHandler(loginFailureHandler);\r\n                authFilter.setAuthenticationManager(authenticationManager());\r\n                return authFilter;\r\n            }\r\n    \r\n            @Override\r\n            @Bean(name = &quot;authenticationManager&quot;)\r\n            protected AuthenticationManager authenticationManager() throws Exception {\r\n                return super.authenticationManager();\r\n            }\r\n    \r\n            @Bean\r\n            public PersistentTokenRepository persistentTokenRepository() {\r\n                JdbcTokenRepositoryImpl tokenRepositoryImpl = new JdbcTokenRepositoryImpl();\r\n                tokenRepositoryImpl.setDataSource(dataSource);\r\n                return tokenRepositoryImpl;\r\n            }\r\n    \r\n            @Bean\r\n            public SessionRegistry sessionRegistry() {\r\n                SessionRegistry sessionRegistry = new SessionRegistryImpl();\r\n                return sessionRegistry;\r\n            }\r\n    \r\n            @Override\r\n            protected void configure(HttpSecurity http) throws Exception {\r\n                http.csrf().disable().authorizeRequests().antMatchers(new String[]{&quot;/user/**&quot;}).hasRole(&quot;USER&quot;).antMatchers(&quot;/admin/**&quot;)\r\n                        .hasAnyRole(new String[]{&quot;ADMIN&quot;, &quot;SUB_ADMIN&quot;}).antMatchers(new String[]{&quot;/**&quot;}).permitAll().anyRequest().authenticated().and()\r\n                        .formLogin().loginPage(&quot;/check-url-pattern&quot;).loginProcessingUrl(&quot;/authenticate&quot;).usernameParameter(&quot;username&quot;)\r\n                        .passwordParameter(&quot;password&quot;).permitAll().and().addFilterBefore(authenticationFilter(), UsernamePasswordAuthenticationFilter.class)\r\n                        .rememberMe().key(&quot;rem-me-key&quot;).rememberMeParameter(&quot;remember-me&quot;).rememberMeCookieName(&quot;my-remember-me&quot;)\r\n                        .tokenRepository(persistentTokenRepository()).tokenValiditySeconds(86400).and().logout().logoutUrl(&quot;/invalidate&quot;)\r\n                        .logoutSuccessHandler(logoutSuccesshandler).invalidateHttpSession(true).and().headers().frameOptions().sameOrigin().and()\r\n                        .sessionManagement().maximumSessions(1).expiredUrl(&quot;/expired&quot;).maxSessionsPreventsLogin(true).sessionRegistry(sessionRegistry());\r\n    \r\n            }\r\n        }\r\n    }\r\n    \r\nPlease suggest a solution.\r\n\r\n","title":"Max session 1 is not working with spring boot","body":"<p>I want to restrict only one max session for a single user in my application where i am using spring boot and java based config.I used spring max session 1. But its not working for me.\n    This is my java based spring configuration file</p>\n\n<pre><code>package com.prcvideoplt.prc;\n\nimport javax.annotation.Resource;\nimport javax.sql.DataSource;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.annotation.Order;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.builders.WebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.core.session.SessionRegistry;\nimport org.springframework.security.core.session.SessionRegistryImpl;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\nimport org.springframework.security.web.authentication.rememberme.JdbcTokenRepositoryImpl;\nimport org.springframework.security.web.authentication.rememberme.PersistentTokenRepository;\nimport org.springframework.security.web.session.HttpSessionEventPublisher;\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\n\nimport com.prcvideoplt.handlers.LoginFailureHandler;\nimport com.prcvideoplt.handlers.LoginSuccessHandler;\nimport com.prcvideoplt.handlers.LogoutSuccessHandler;\nimport com.prcvideoplt.service.security.CompanyBasedCustomFilter;\n\n@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity\n@ComponentScan(basePackages = \"com.prcvideoplt\")\npublic class SpringSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Resource(name = \"custUserDetails\")\n    private UserDetailsService userDetailsService;\n\n    @Override\n    @Bean\n    public UserDetailsService userDetailsService() {\n        return super.userDetailsService();\n    }\n\n    @Bean(name = \"passwordEncoder\")\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder(13);\n    }\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\n    }\n\n    @Configuration\n    @Order(value = 1)\n    public static class UserWebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n        @Resource(name = \"loginSuccessHandler\")\n        private LoginSuccessHandler loginSuccessHandler;\n        @Resource(name = \"loginFailureHandler\")\n        private LoginFailureHandler loginFailureHandler;\n        @Resource(name = \"logoutSuccesshandler\")\n        private LogoutSuccessHandler logoutSuccesshandler;\n\n        @Autowired\n        DataSource dataSource;\n\n        @Autowired\n        UserDetailsService userDetailsService;\n\n        @Override\n        public void configure(WebSecurity web) throws Exception {\n            web.ignoring().antMatchers(\"/assets/**\");\n        }\n\n        @Bean\n        public HttpSessionEventPublisher httpSessionEventPublisher() {\n            return new HttpSessionEventPublisher();\n        }\n\n        @Bean\n        public CompanyBasedCustomFilter authenticationFilter() throws Exception {\n            CompanyBasedCustomFilter authFilter = new CompanyBasedCustomFilter();\n            authFilter.setRequiresAuthenticationRequestMatcher(new AntPathRequestMatcher(\"/authenticate\", \"POST\"));\n            authFilter.setAuthenticationSuccessHandler(loginSuccessHandler);\n            authFilter.setAuthenticationFailureHandler(loginFailureHandler);\n            authFilter.setAuthenticationManager(authenticationManager());\n            return authFilter;\n        }\n\n        @Override\n        @Bean(name = \"authenticationManager\")\n        protected AuthenticationManager authenticationManager() throws Exception {\n            return super.authenticationManager();\n        }\n\n        @Bean\n        public PersistentTokenRepository persistentTokenRepository() {\n            JdbcTokenRepositoryImpl tokenRepositoryImpl = new JdbcTokenRepositoryImpl();\n            tokenRepositoryImpl.setDataSource(dataSource);\n            return tokenRepositoryImpl;\n        }\n\n        @Bean\n        public SessionRegistry sessionRegistry() {\n            SessionRegistry sessionRegistry = new SessionRegistryImpl();\n            return sessionRegistry;\n        }\n\n        @Override\n        protected void configure(HttpSecurity http) throws Exception {\n            http.csrf().disable().authorizeRequests().antMatchers(new String[]{\"/user/**\"}).hasRole(\"USER\").antMatchers(\"/admin/**\")\n                    .hasAnyRole(new String[]{\"ADMIN\", \"SUB_ADMIN\"}).antMatchers(new String[]{\"/**\"}).permitAll().anyRequest().authenticated().and()\n                    .formLogin().loginPage(\"/check-url-pattern\").loginProcessingUrl(\"/authenticate\").usernameParameter(\"username\")\n                    .passwordParameter(\"password\").permitAll().and().addFilterBefore(authenticationFilter(), UsernamePasswordAuthenticationFilter.class)\n                    .rememberMe().key(\"rem-me-key\").rememberMeParameter(\"remember-me\").rememberMeCookieName(\"my-remember-me\")\n                    .tokenRepository(persistentTokenRepository()).tokenValiditySeconds(86400).and().logout().logoutUrl(\"/invalidate\")\n                    .logoutSuccessHandler(logoutSuccesshandler).invalidateHttpSession(true).and().headers().frameOptions().sameOrigin().and()\n                    .sessionManagement().maximumSessions(1).expiredUrl(\"/expired\").maxSessionsPreventsLogin(true).sessionRegistry(sessionRegistry());\n\n        }\n    }\n}\n</code></pre>\n\n<p>Please suggest a solution.</p>\n"},{"tags":["java","android","android-ndk"],"answers":[{"tags":[],"owner":{"account_id":3260317,"reputation":31,"user_id":2746018,"display_name":"XarionXRC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573668027,"creation_date":1573668027,"answer_id":58842999,"question_id":58792065,"body_markdown":"I first succeeded to run the app after copying the APK to /system/priv-app/ by manually copying the .so files into /system/lib. This lead me to believe the problem lay in the compilation not doing the same. \r\n\r\nCompiling the APK into the ROM as a system application, required Android.mk to include the following lines to copy the .so files from the project to the system/lib folder.\r\nThe ROM is specific to a certain device so the .so relevant to the architecture was included.\r\n\r\nAndroid.mk\r\n````\r\nPRODUCT_COPY_FILES += ${LOCAL_PATH}/lib/libiconv.so:system/lib/libiconv.so\r\nPRODUCT_COPY_FILES += ${LOCAL_PATH}/lib/libzbarjni.so:system/lib/libzbarjni.so\r\nPRODUCT_COPY_FILES += ${LOCAL_PATH}/lib/libopencv_java3.so:system/lib/libopencv_java3.so\r\nPRODUCT_COPY_FILES += ${LOCAL_PATH}/lib/libledcontrol_jni.so:system/lib/libledcontrol_jni.so\r\n````\r\nThis resolved the UnsatisfiedLinkError as the files are now present in system/lib","title":"java.lang.UnsatisfiedLinkError when moving APK to /system/priv-app/","body":"<p>I first succeeded to run the app after copying the APK to /system/priv-app/ by manually copying the .so files into /system/lib. This lead me to believe the problem lay in the compilation not doing the same. </p>\n\n<p>Compiling the APK into the ROM as a system application, required Android.mk to include the following lines to copy the .so files from the project to the system/lib folder.\nThe ROM is specific to a certain device so the .so relevant to the architecture was included.</p>\n\n<p>Android.mk</p>\n\n<pre><code>PRODUCT_COPY_FILES += ${LOCAL_PATH}/lib/libiconv.so:system/lib/libiconv.so\nPRODUCT_COPY_FILES += ${LOCAL_PATH}/lib/libzbarjni.so:system/lib/libzbarjni.so\nPRODUCT_COPY_FILES += ${LOCAL_PATH}/lib/libopencv_java3.so:system/lib/libopencv_java3.so\nPRODUCT_COPY_FILES += ${LOCAL_PATH}/lib/libledcontrol_jni.so:system/lib/libledcontrol_jni.so\n</code></pre>\n\n<p>This resolved the UnsatisfiedLinkError as the files are now present in system/lib</p>\n"},{"tags":[],"owner":{"account_id":9244587,"reputation":181,"user_id":6866863,"display_name":"J Smith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678121067,"creation_date":1678121067,"answer_id":75653540,"question_id":58792065,"body_markdown":"Expanding upon XarionXRC&#39;s answer, here is a more generic way of using Android&#39;s build system to automatically extract and copy the libraries. You may need to replace `arm64-v8a` with the appropriate lib dir name, like `armeabi-v7a`.\r\n\r\nIn Android.mk\r\n\r\n    LOCAL_POST_INSTALL_CMD = \\\r\n    \trm -rf $(dir $(LOCAL_INSTALLED_MODULE))/lib; \\\r\n    \tunzip -qq -o -d $(dir $(LOCAL_INSTALLED_MODULE)) $(LOCAL_BUILT_MODULE) &#39;lib/arm64-v8a/*.so&#39;; \\\r\n    \tmv $(dir $(LOCAL_INSTALLED_MODULE))/lib/arm64-v8a $(dir $(LOCAL_INSTALLED_MODULE))/lib/arm64\r\n\r\n","title":"java.lang.UnsatisfiedLinkError when moving APK to /system/priv-app/","body":"<p>Expanding upon XarionXRC's answer, here is a more generic way of using Android's build system to automatically extract and copy the libraries. You may need to replace <code>arm64-v8a</code> with the appropriate lib dir name, like <code>armeabi-v7a</code>.</p>\n<p>In Android.mk</p>\n<pre><code>LOCAL_POST_INSTALL_CMD = \\\n    rm -rf $(dir $(LOCAL_INSTALLED_MODULE))/lib; \\\n    unzip -qq -o -d $(dir $(LOCAL_INSTALLED_MODULE)) $(LOCAL_BUILT_MODULE) 'lib/arm64-v8a/*.so'; \\\n    mv $(dir $(LOCAL_INSTALLED_MODULE))/lib/arm64-v8a $(dir $(LOCAL_INSTALLED_MODULE))/lib/arm64\n</code></pre>\n"}],"owner":{"account_id":3260317,"reputation":31,"user_id":2746018,"display_name":"XarionXRC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":665,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1678121067,"creation_date":1573413172,"question_id":58792065,"body_markdown":"After debugging my app successfully I want to move the app to the system apps so that I can make use of system permissions such as REBOOT and SET_TIME. However when moving my APK to /system/priv-app/ folder or adding the APK to a third party system app in the ROM compile I receive the following error when the APP is run:\r\n````\r\njava.lang.UnsatisfiedLinkError: Couldn&#39;t load zbarjni from loader dalvik.system.PathClassLoader[DexPathList[[zip file &quot;/system/priv-app/mcaster.apk&quot;],nativeLibraryDirectories=[/vendor/lib, /system/lib]]]:\r\n````\r\n\r\nI can debug and install and run the APK successfully via adb. \r\nI have tried most of the suggestions regarding UnsatisfiedLinkError such as the most common to add :\r\n````\r\nndk { \r\n abiFilters &quot;armeabi&quot;, &quot;armeabi-v7a&quot;, &quot;x86&quot;, &quot;mips&quot;  \r\n}\r\n````\r\n to gradle, however I still face the error.\r\n(my CPU architecture is armeabi-v7a)\r\n\r\nI would assume that since I can install the APK and run it successfully via ADB all the missing libraries are present in the APK, however there is obviously some different when working with the app as a system app.\r\n\r\nWhere else can I look to resolve this UnsatisfiedLinkError when moving my app to the system apps?","title":"java.lang.UnsatisfiedLinkError when moving APK to /system/priv-app/","body":"<p>After debugging my app successfully I want to move the app to the system apps so that I can make use of system permissions such as REBOOT and SET_TIME. However when moving my APK to /system/priv-app/ folder or adding the APK to a third party system app in the ROM compile I receive the following error when the APP is run:</p>\n\n<pre><code>java.lang.UnsatisfiedLinkError: Couldn't load zbarjni from loader dalvik.system.PathClassLoader[DexPathList[[zip file \"/system/priv-app/mcaster.apk\"],nativeLibraryDirectories=[/vendor/lib, /system/lib]]]:\n</code></pre>\n\n<p>I can debug and install and run the APK successfully via adb. \nI have tried most of the suggestions regarding UnsatisfiedLinkError such as the most common to add :</p>\n\n<pre><code>ndk { \n abiFilters \"armeabi\", \"armeabi-v7a\", \"x86\", \"mips\"  \n}\n</code></pre>\n\n<p>to gradle, however I still face the error.\n(my CPU architecture is armeabi-v7a)</p>\n\n<p>I would assume that since I can install the APK and run it successfully via ADB all the missing libraries are present in the APK, however there is obviously some different when working with the app as a system app.</p>\n\n<p>Where else can I look to resolve this UnsatisfiedLinkError when moving my app to the system apps?</p>\n"},{"tags":["java","eclipse"],"answers":[{"tags":[],"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1536603445,"creation_date":1536603445,"answer_id":52263384,"question_id":52263331,"body_markdown":"You are on a Mac, so it will be under the application menu, where it says &quot;Eclipse&quot;, or opened with `Cmd+,`, just like any other Mac application.","title":"couldn&#39;t find preferences under window menu option in eclipse","body":"<p>You are on a Mac, so it will be under the application menu, where it says \"Eclipse\", or opened with <code>Cmd+,</code>, just like any other Mac application.</p>\n"},{"tags":[],"owner":{"account_id":27949496,"reputation":11,"user_id":21343715,"display_name":"Wayne Fang"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1678120605,"creation_date":1678120605,"answer_id":75653458,"question_id":52263331,"body_markdown":"MacOS appleSign Eclipse -&gt; Settings","title":"couldn&#39;t find preferences under window menu option in eclipse","body":"<p>MacOS appleSign Eclipse -&gt; Settings</p>\n"}],"owner":{"account_id":2994486,"reputation":9111,"user_id":2541276,"accept_rate":55,"display_name":"user51"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1605,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":52263384,"answer_count":2,"score":0,"last_activity_date":1678120605,"creation_date":1536603176,"question_id":52263331,"body_markdown":"I want to add javac compiler argument. I found here that I have to add it under windows -&gt; Preferences -&gt; Java in this [link][1].\r\n\r\nIn my eclipse somehow I couldn&#39;t find the preferences option under window.\r\n\r\nBelow is the screenshot.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nBelow is my eclipse details -\r\n\r\nEclipse Java EE IDE for Web Developers.\r\n\r\nVersion: Photon Release (4.8.0)\r\nBuild id: 20180619-1200\r\n\r\nAny idea why I don&#39;t get the preferences option?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/9483315/where-do-you-configure-eclipse-java-compiler-javac-flags/9483388#9483388\r\n  [2]: https://i.stack.imgur.com/Dx5ov.png","title":"couldn&#39;t find preferences under window menu option in eclipse","body":"<p>I want to add javac compiler argument. I found here that I have to add it under windows -> Preferences -> Java in this <a href=\"https://stackoverflow.com/questions/9483315/where-do-you-configure-eclipse-java-compiler-javac-flags/9483388#9483388\">link</a>.</p>\n\n<p>In my eclipse somehow I couldn't find the preferences option under window.</p>\n\n<p>Below is the screenshot.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Dx5ov.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Dx5ov.png\" alt=\"enter image description here\"></a></p>\n\n<p>Below is my eclipse details -</p>\n\n<p>Eclipse Java EE IDE for Web Developers.</p>\n\n<p>Version: Photon Release (4.8.0)\nBuild id: 20180619-1200</p>\n\n<p>Any idea why I don't get the preferences option?</p>\n"},{"tags":["java","spring","spring-boot","spring-webflux","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678120570,"creation_date":1678120570,"answer_id":75653453,"question_id":75647941,"body_markdown":"what is your question? the implementation looks ok, for the happy flow at least. Look, I&#39;ve extracted the variables `namesFromOne` and `optionsFromTwo`. \r\n\r\n    oneFlux.filterWhen(one -&gt; twoMono.map(two -&gt; {\r\n    \t\t\tList&lt;String&gt; namesFromOne = one.getOneInternalList()\r\n    \t\t\t\t\t.stream()\r\n    \t\t\t\t\t.map(One.OneInternal::getName).toList();\r\n    \t\t\tList&lt;String&gt; optionsFromTwo = two.getTwoInternalList().stream()\r\n    \t\t\t\t\t.filter(s -&gt; s.getId().equals(id))\r\n    \t\t\t\t\t.findFirst().get().getOptions();\r\n    \t\t\treturn namesFromOne.containsAll(optionsFromTwo);\r\n    \t\t})\r\n    );\r\n\r\nthe only problem I see is with that `.findFirst().get()`. You would ideally like to return false there, not to throw an exception, so what you can do would be something like this: \r\n\r\n    Optional&lt;Two.TwoInternal&gt; optionalTwoInternal = two.getTwoInternalList().stream()\r\n    \t\t.filter(s -&gt; s.getId().equals(id))\r\n    \t\t.findFirst();\r\n    \r\n    return optionalTwoInternal\r\n    \t\t.map(twoInternal -&gt; namesFromOne.containsAll(twoInternal.getOptions()))\r\n    \t\t.orElse(false);\r\n\r\nsome small / simple test:\r\n\r\n    @Test\r\n    void test() {\r\n    \tFlux&lt;One&gt; oneFlux = Flux.just(\r\n    \t\t\tcreateOne(&quot;id1&quot;, &quot;a&quot;, &quot;b&quot;),\r\n    \t\t\tcreateOne(&quot;id2&quot;, &quot;c&quot;, &quot;d&quot;));\r\n    \r\n    \tMono&lt;Two&gt; twoMono = Mono.just(Two.builder()\r\n    \t\t\t.twoInternalList(List.of(\r\n    \t\t\t\t\tcreateTwoInternal(&quot;id1&quot;, &quot;a&quot;, &quot;b&quot;),\r\n    \t\t\t\t\tcreateTwoInternal(&quot;id2&quot;, &quot;e&quot;, &quot;f&quot;),\r\n    \t\t\t\t\tcreateTwoInternal(&quot;id4&quot;, &quot;g&quot;, &quot;h&quot;)\r\n    \t\t\t)).build());\r\n    \r\n    \tvar resp1 = getObjOneFlux(oneFlux, twoMono, &quot;id1&quot;).collectList().block();\r\n    \tSystem.err.println(resp1); // prints first element of oneFlux\r\n    \r\n    \tvar resp2 = getObjOneFlux(oneFlux, twoMono, &quot;id2&quot;).collectList().block();\r\n    \tSystem.err.println(resp2); // prints empty array\r\n    }\r\n\r\nas I can see, your filtering works. Perhaps you can think a bit about your model because `TwoInternal` looks a lot like class `One` so maybe you can reuse some things there.","title":"Filtering Flux from a WebClient by Mono from another WebClient call mono","body":"<p>what is your question? the implementation looks ok, for the happy flow at least. Look, I've extracted the variables <code>namesFromOne</code> and <code>optionsFromTwo</code>.</p>\n<pre><code>oneFlux.filterWhen(one -&gt; twoMono.map(two -&gt; {\n            List&lt;String&gt; namesFromOne = one.getOneInternalList()\n                    .stream()\n                    .map(One.OneInternal::getName).toList();\n            List&lt;String&gt; optionsFromTwo = two.getTwoInternalList().stream()\n                    .filter(s -&gt; s.getId().equals(id))\n                    .findFirst().get().getOptions();\n            return namesFromOne.containsAll(optionsFromTwo);\n        })\n);\n</code></pre>\n<p>the only problem I see is with that <code>.findFirst().get()</code>. You would ideally like to return false there, not to throw an exception, so what you can do would be something like this:</p>\n<pre><code>Optional&lt;Two.TwoInternal&gt; optionalTwoInternal = two.getTwoInternalList().stream()\n        .filter(s -&gt; s.getId().equals(id))\n        .findFirst();\n\nreturn optionalTwoInternal\n        .map(twoInternal -&gt; namesFromOne.containsAll(twoInternal.getOptions()))\n        .orElse(false);\n</code></pre>\n<p>some small / simple test:</p>\n<pre><code>@Test\nvoid test() {\n    Flux&lt;One&gt; oneFlux = Flux.just(\n            createOne(&quot;id1&quot;, &quot;a&quot;, &quot;b&quot;),\n            createOne(&quot;id2&quot;, &quot;c&quot;, &quot;d&quot;));\n\n    Mono&lt;Two&gt; twoMono = Mono.just(Two.builder()\n            .twoInternalList(List.of(\n                    createTwoInternal(&quot;id1&quot;, &quot;a&quot;, &quot;b&quot;),\n                    createTwoInternal(&quot;id2&quot;, &quot;e&quot;, &quot;f&quot;),\n                    createTwoInternal(&quot;id4&quot;, &quot;g&quot;, &quot;h&quot;)\n            )).build());\n\n    var resp1 = getObjOneFlux(oneFlux, twoMono, &quot;id1&quot;).collectList().block();\n    System.err.println(resp1); // prints first element of oneFlux\n\n    var resp2 = getObjOneFlux(oneFlux, twoMono, &quot;id2&quot;).collectList().block();\n    System.err.println(resp2); // prints empty array\n}\n</code></pre>\n<p>as I can see, your filtering works. Perhaps you can think a bit about your model because <code>TwoInternal</code> looks a lot like class <code>One</code> so maybe you can reuse some things there.</p>\n"}],"owner":{"account_id":20450251,"reputation":1,"user_id":15005167,"display_name":"Paul Paul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":220,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1678120570,"creation_date":1678086331,"question_id":75647941,"body_markdown":"I have a public API with two endpoints.\r\n\tI have to get an Array of objects as Flux&lt;ObjOne &gt; from the first GET endpoint \r\n\tTHEN BY calling the second(internal call) GET endpoint Mono&lt;ObjTwo&gt;(Mono contains List of Objects ) where I have to find an internal Object by id\r\n\tTHEN using the found object(List&lt;String&gt;) filter first Flux&lt;ObjOne &gt;(each contains List&lt;String&gt;)  \r\n\r\n \r\n\r\nI tried in this way but it became a forever stream\r\n```\r\npublic class Test {\r\n\r\n    String baseUrl = &quot;http://some-site.com/&quot;;\r\n    private final WebClient webClient = WebClient.create(baseUrl);\r\n\r\n    @SneakyThrows\r\n    public Flux&lt;One&gt; getObjOneFlux(String id) {\r\n        Flux&lt;One&gt; oneFlux = loadObjOnes();\r\n        Mono&lt;Two&gt; twoMono = loadObjTwo();\r\n\r\n        return oneFlux.filterWhen(one -&gt; twoMono.map(two -&gt; one.getOneInternalList()\r\n                        .stream()\r\n                        .map(One.OneInternal::getName).toList()\r\n                        .containsAll(\r\n                                two.getTwoInternalList().stream()\r\n                                        .filter(s -&gt; s.getId().equals(id))\r\n                                        .findFirst().get().getOptions()\r\n                        )\r\n                )\r\n        );\r\n    }\r\n\r\n\r\n    public Flux&lt;One&gt; loadObjOnes() {\r\n        return webClient.get()\r\n                .uri(uriBuilder -&gt; uriBuilder.path(&quot;/ObjOne&quot;).build())\r\n                .exchange()\r\n                .flatMap(res -&gt; res.bodyToMono(ObjOneResponse.class))\r\n                .flatMapIterable(res -&gt; res)\r\n                .map(t -&gt;\r\n                        One.builder()\r\n                                .id(t.getId())\r\n                                .mark(t.getMark())\r\n                                .oneInternalList(t.getOneInternalList())\r\n                                .build());\r\n    }\r\n\r\n    public Mono&lt;Two&gt; loadObjTwo() {\r\n        return webClient.get()\r\n                .uri(uriBuilder -&gt; uriBuilder.path(&quot;/ObjTwo&quot;).build())\r\n                .exchange()\r\n                .flatMap(res -&gt; res.bodyToMono(Two.class))\r\n                .map(s -&gt; Two.builder()\r\n                        .twoInternalList(s.getTwoInternalList())\r\n                        .build()).delayElement(Duration.ofSeconds(3));\r\n    }\r\n}\r\n\r\n@Data\r\n@Builder\r\nclass One {\r\n    private String id;\r\n    private String mark;\r\n    private List&lt;OneInternal&gt; oneInternalList;\r\n\r\n    @Data\r\n    @Builder\r\n    public static final class OneInternal {\r\n        private String name;\r\n    }\r\n}\r\n\r\n@Data\r\n@Builder\r\nclass Two {\r\n    private List&lt;TwoInternal&gt; twoInternalList;\r\n\r\n    @Data\r\n    @Builder\r\n    public static final class TwoInternal {\r\n        private List&lt;String&gt; options;\r\n        private String id;\r\n    }\r\n}\r\n\r\nclass ObjOneResponse extends ArrayList&lt;One&gt; {\r\n\r\n}\r\n```\r\n","title":"Filtering Flux from a WebClient by Mono from another WebClient call mono","body":"<p>I have a public API with two endpoints.\nI have to get an Array of objects as Flux from the first GET endpoint\nTHEN BY calling the second(internal call) GET endpoint Mono(Mono contains List of Objects ) where I have to find an internal Object by id\nTHEN using the found object(List) filter first Flux(each contains List)</p>\n<p>I tried in this way but it became a forever stream</p>\n<pre><code>public class Test {\n\n    String baseUrl = &quot;http://some-site.com/&quot;;\n    private final WebClient webClient = WebClient.create(baseUrl);\n\n    @SneakyThrows\n    public Flux&lt;One&gt; getObjOneFlux(String id) {\n        Flux&lt;One&gt; oneFlux = loadObjOnes();\n        Mono&lt;Two&gt; twoMono = loadObjTwo();\n\n        return oneFlux.filterWhen(one -&gt; twoMono.map(two -&gt; one.getOneInternalList()\n                        .stream()\n                        .map(One.OneInternal::getName).toList()\n                        .containsAll(\n                                two.getTwoInternalList().stream()\n                                        .filter(s -&gt; s.getId().equals(id))\n                                        .findFirst().get().getOptions()\n                        )\n                )\n        );\n    }\n\n\n    public Flux&lt;One&gt; loadObjOnes() {\n        return webClient.get()\n                .uri(uriBuilder -&gt; uriBuilder.path(&quot;/ObjOne&quot;).build())\n                .exchange()\n                .flatMap(res -&gt; res.bodyToMono(ObjOneResponse.class))\n                .flatMapIterable(res -&gt; res)\n                .map(t -&gt;\n                        One.builder()\n                                .id(t.getId())\n                                .mark(t.getMark())\n                                .oneInternalList(t.getOneInternalList())\n                                .build());\n    }\n\n    public Mono&lt;Two&gt; loadObjTwo() {\n        return webClient.get()\n                .uri(uriBuilder -&gt; uriBuilder.path(&quot;/ObjTwo&quot;).build())\n                .exchange()\n                .flatMap(res -&gt; res.bodyToMono(Two.class))\n                .map(s -&gt; Two.builder()\n                        .twoInternalList(s.getTwoInternalList())\n                        .build()).delayElement(Duration.ofSeconds(3));\n    }\n}\n\n@Data\n@Builder\nclass One {\n    private String id;\n    private String mark;\n    private List&lt;OneInternal&gt; oneInternalList;\n\n    @Data\n    @Builder\n    public static final class OneInternal {\n        private String name;\n    }\n}\n\n@Data\n@Builder\nclass Two {\n    private List&lt;TwoInternal&gt; twoInternalList;\n\n    @Data\n    @Builder\n    public static final class TwoInternal {\n        private List&lt;String&gt; options;\n        private String id;\n    }\n}\n\nclass ObjOneResponse extends ArrayList&lt;One&gt; {\n\n}\n</code></pre>\n"},{"tags":["java","reactjs","frontend","backend"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1677739621,"post_id":75612013,"comment_id":133398181,"body_markdown":"allowed-origins: http://192.168. **50.41** :3000, vs 192.168. **30.28**  why ? **50.41** vs **30.28**","body":"allowed-origins: <a href=\"http://192.168\" rel=\"nofollow noreferrer\">192.168</a>. <b>50.41</b> :3000, vs 192.168. <b>30.28</b>  why ? <b>50.41</b> vs <b>30.28</b>"},{"owner":{"account_id":24094543,"reputation":29,"user_id":18067284,"display_name":"user"},"score":0,"creation_date":1677740022,"post_id":75612013,"comment_id":133398270,"body_markdown":"oh i forget to change this, thanks","body":"oh i forget to change this, thanks"},{"owner":{"account_id":24094543,"reputation":29,"user_id":18067284,"display_name":"user"},"score":0,"creation_date":1677741556,"post_id":75612013,"comment_id":133398551,"body_markdown":"I changed it to the correct one but it still doesn`t work , Is there a possibility that local server can only receive requests from outer &quot;world&quot; but inside of it it block requests between ports inside of it??","body":"I changed it to the correct one but it still doesn`t work , Is there a possibility that local server can only receive requests from outer &quot;world&quot; but inside of it it block requests between ports inside of it??"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1677742612,"post_id":75612013,"comment_id":133398770,"body_markdown":"Check how many network interfaces you have? What is the corresponding ip address? ? Check whether the backend has received the corresponding request?","body":"Check how many network interfaces you have? What is the corresponding ip address? ? Check whether the backend has received the corresponding request?"},{"owner":{"account_id":24094543,"reputation":29,"user_id":18067284,"display_name":"user"},"score":0,"creation_date":1677747753,"post_id":75612013,"comment_id":133399968,"body_markdown":"I changed ip address to 192.168.50.41 and backend receives reqeusts only from Postman at this point and if i want to send from front-end it throws this **Access to XMLHttpRequest at &#39;http://192.168.50.41:8080/api/v1/auth/login&#39; from origin &#39;http://192.168.50.41:3000&#39; has been blocked by CORS policy: Response to preflight request doesn&#39;t pass access control check: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.**","body":"I changed ip address to 192.168.50.41 and backend receives reqeusts only from Postman at this point and if i want to send from front-end it throws this <b>Access to XMLHttpRequest at &#39;<a href=\"http://192.168.50.41:8080/api/v1/auth/login\" rel=\"nofollow noreferrer\">192.168.50.41:8080/api/v1/auth/login</a>&#39; from origin &#39;<a href=\"http://192.168.50.41:3000\" rel=\"nofollow noreferrer\">192.168.50.41:3000</a>&#39; has been blocked by CORS policy: Response to preflight request doesn&#39;t pass access control check: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.</b>"},{"owner":{"account_id":223215,"reputation":2052,"user_id":482270,"display_name":"akseli"},"score":0,"creation_date":1677759314,"post_id":75612013,"comment_id":133403303,"body_markdown":"`cors: allowed-origins: http://192.168.50.241:3000` is `241` a typo? You&#39;re referencing `41` everywhere else?","body":"<code>cors: allowed-origins: http:&#47;&#47;192.168.50.241:3000</code> is <code>241</code> a typo? You&#39;re referencing <code>41</code> everywhere else?"}],"answers":[{"tags":[],"owner":{"account_id":27948925,"reputation":16,"user_id":21343275,"display_name":"monika verma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678120051,"creation_date":1678120051,"answer_id":75653351,"question_id":75612013,"body_markdown":"it is basically the ports which is 8080 is for primary web servers.secondary web servers don&#39;t use it .\r\n\r\n`Trend Micro Antivirus products may use port 3000 UDP to communicate with their servers.`\r\nso you cannot use port which already define for another\r\n\r\nlikely the port 3000 is port of for primary/default HTTP you might use http .","title":"Explain mapping IP addresses","body":"<p>it is basically the ports which is 8080 is for primary web servers.secondary web servers don't use it .</p>\n<p><code>Trend Micro Antivirus products may use port 3000 UDP to communicate with their servers.</code>\nso you cannot use port which already define for another</p>\n<p>likely the port 3000 is port of for primary/default HTTP you might use http .</p>\n"}],"owner":{"account_id":24094543,"reputation":29,"user_id":18067284,"display_name":"user"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75653351,"answer_count":1,"score":1,"last_activity_date":1678120051,"creation_date":1677739065,"question_id":75612013,"body_markdown":"I have project that I want to host on local server and I encountered with strange thing .\r\nI have my back-end part running on 8080 port and front-end on 3000 port , and I was playing around with hosting separately back-end and front-end. And here is the thing that I don`t understand :\r\nWhen I host like this \r\n\r\n            back-end :  localhost:8080\r\n            front-end : 192.168.50.41:3000\r\nor \r\n\r\n            back-end : 192.168.50.41:8080\r\n            front-end : localhost:3000\r\n\r\nIt works completely fine (I mean all requests from front-end successfully get to back-end )\r\n\r\nBUT if host like this\r\n            \r\n            back-end : 192.168.50.41:8080\r\n            front-end : 192.168.50.41:3000\r\n\r\nit throws a CORS error , however I changed CORS configuration in my **application.yml** file like this\r\n            \r\n            cors:\r\n              allowed-origins: http://192.168.50.41:3000\r\n\r\n              allowed-endpoints: &gt; \r\n               /api/v1/auth/login,\r\n               /api/v1/auth/register,\r\n           \r\n\r\nand this is my security config \r\n\r\n                 @Bean\r\n                  public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n\r\n        http\r\n                .cors()\r\n                .and()\r\n                .csrf()\r\n                .disable()\r\n                .exceptionHandling()\r\n                .authenticationEntryPoint(authEntryPoint)\r\n                .and()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(&quot;/api/v1/auth/login&quot;)\r\n                .permitAll()\r\n                .anyRequest()\r\n                .authenticated()\r\n                .and()\r\n                .authenticationProvider(authenticationProvider)\r\n                .addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class)\r\n        ;`\r\n\r\n\r\nMaybe someone encountered with something like this and know the solution for this , because I think that I miss smth in my config  ","title":"Explain mapping IP addresses","body":"<p>I have project that I want to host on local server and I encountered with strange thing .\nI have my back-end part running on 8080 port and front-end on 3000 port , and I was playing around with hosting separately back-end and front-end. And here is the thing that I don`t understand :\nWhen I host like this</p>\n<pre><code>        back-end :  localhost:8080\n        front-end : 192.168.50.41:3000\n</code></pre>\n<p>or</p>\n<pre><code>        back-end : 192.168.50.41:8080\n        front-end : localhost:3000\n</code></pre>\n<p>It works completely fine (I mean all requests from front-end successfully get to back-end )</p>\n<p>BUT if host like this</p>\n<pre><code>        back-end : 192.168.50.41:8080\n        front-end : 192.168.50.41:3000\n</code></pre>\n<p>it throws a CORS error , however I changed CORS configuration in my <strong>application.yml</strong> file like this</p>\n<pre><code>        cors:\n          allowed-origins: http://192.168.50.41:3000\n\n          allowed-endpoints: &gt; \n           /api/v1/auth/login,\n           /api/v1/auth/register,\n       \n</code></pre>\n<p>and this is my security config</p>\n<pre><code>             @Bean\n              public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n\n    http\n            .cors()\n            .and()\n            .csrf()\n            .disable()\n            .exceptionHandling()\n            .authenticationEntryPoint(authEntryPoint)\n            .and()\n            .sessionManagement()\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n            .and()\n            .authorizeHttpRequests()\n            .requestMatchers(&quot;/api/v1/auth/login&quot;)\n            .permitAll()\n            .anyRequest()\n            .authenticated()\n            .and()\n            .authenticationProvider(authenticationProvider)\n            .addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class)\n    ;`\n</code></pre>\n<p>Maybe someone encountered with something like this and know the solution for this , because I think that I miss smth in my config</p>\n"},{"tags":["java","pagination","spring-webflux","project-reactor","flux"],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678118927,"creation_date":1678116534,"answer_id":75652726,"question_id":75650063,"body_markdown":"Even if it is not mentioned, I assume `getCustomers` is returning a Flux&lt;Customer&gt;. In this case, what you can do is to call `collectList()` before doing anything else. This will give you a `Mono&lt;List&lt;Customer&gt;&gt;` then (without blocking) you can process this list of customers using Mono&#39;s `map()`. Here, you can finally do the pagination using the stream API, and create the Response object: \r\n    \r\n    public Mono&lt;CustomersResponse&gt; getCustomers(Integer page, Integer pageSize, String filter) {\r\n    \treturn getCustomerIds()\r\n    \t\t\t.filter(customer -&gt; someFilterFunction(filter))\r\n    \t\t\t.collectList()\r\n    \t\t\t.map(allCustomers -&gt; {\r\n    \t\t\t\tList&lt;Long&gt; currentPage = allCustomers.stream()\r\n    \t\t\t\t\t\t.skip(page * pageSize)\r\n    \t\t\t\t\t\t.limit(pageSize)\r\n    \t\t\t\t\t\t.toList();\r\n    \t\t\t\treturn new CustomersResponse()\r\n    \t\t\t\t\t\t.totalCount(allCustomers.size())\r\n    \t\t\t\t\t\t.items(currentPage);\r\n    \t\t\t});\r\n    }\r\n    \r\n    @Test\r\n    void getCustomersTest() {\r\n    \tCustomersResponse resp = getCustomers(3, 5, &quot;&quot;).block();\r\n    \r\n    \tassertThat(resp.items()).containsExactly(15L, 16L, 17L, 18L, 19L);\r\n    \tassertThat(resp.totalCount()).isEqualTo(30);\r\n    }\r\n\r\n    @Data\r\n    @Accessors(fluent = true, chain = true)\r\n    static class CustomersResponse {\r\n    \tList&lt;Long&gt; items;\r\n    \tint totalCount;\r\n    }\r\n\r\n    public Flux&lt;Long&gt; getCustomerIds() {\r\n    \tList&lt;Long&gt; ids = LongStream.range(0, 30).boxed().toList();\r\n    \treturn Flux.fromIterable(ids);\r\n    }\r\n    private boolean someFilterFunction(String filter) {\r\n    \treturn true;\r\n    }","title":"How to include a total count of items when doing pagination with skip() and take() in Webflux?","body":"<p>Even if it is not mentioned, I assume <code>getCustomers</code> is returning a Flux. In this case, what you can do is to call <code>collectList()</code> before doing anything else. This will give you a <code>Mono&lt;List&lt;Customer&gt;&gt;</code> then (without blocking) you can process this list of customers using Mono's <code>map()</code>. Here, you can finally do the pagination using the stream API, and create the Response object:</p>\n<pre><code>public Mono&lt;CustomersResponse&gt; getCustomers(Integer page, Integer pageSize, String filter) {\n    return getCustomerIds()\n            .filter(customer -&gt; someFilterFunction(filter))\n            .collectList()\n            .map(allCustomers -&gt; {\n                List&lt;Long&gt; currentPage = allCustomers.stream()\n                        .skip(page * pageSize)\n                        .limit(pageSize)\n                        .toList();\n                return new CustomersResponse()\n                        .totalCount(allCustomers.size())\n                        .items(currentPage);\n            });\n}\n\n@Test\nvoid getCustomersTest() {\n    CustomersResponse resp = getCustomers(3, 5, &quot;&quot;).block();\n\n    assertThat(resp.items()).containsExactly(15L, 16L, 17L, 18L, 19L);\n    assertThat(resp.totalCount()).isEqualTo(30);\n}\n\n@Data\n@Accessors(fluent = true, chain = true)\nstatic class CustomersResponse {\n    List&lt;Long&gt; items;\n    int totalCount;\n}\n\npublic Flux&lt;Long&gt; getCustomerIds() {\n    List&lt;Long&gt; ids = LongStream.range(0, 30).boxed().toList();\n    return Flux.fromIterable(ids);\n}\nprivate boolean someFilterFunction(String filter) {\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678119550,"creation_date":1678119550,"answer_id":75653262,"question_id":75650063,"body_markdown":"Alternatively, you can retrieve the customers, apply the filter and keep them as a flux (a flux is a publisher). Then, you can subscribe to this flux twice, first for retrieving the items on the current page and the 2nd time for retrieving the total count. After that, you can mix the two Mono objects to create the final response:\r\n\r\n    public Mono&lt;CustomersResponse&gt; getCustomers(Integer page, Integer pageSize, String filter) {\r\n\t\tFlux&lt;Long&gt; customerIds = getCustomerIds().filter(customer -&gt; someFilterFunction(filter));\r\n\t\tMono&lt;List&lt;Long&gt;&gt; items = customerIds\r\n\t\t\t\t.skip(page * pageSize)\r\n\t\t\t\t.take(pageSize)\r\n\t\t\t\t.collectList();\r\n\t\tMono&lt;Integer&gt; count = customerIds\r\n\t\t\t\t.count()\r\n\t\t\t\t.map(Long::intValue);\r\n\t\treturn Mono.zip(items, count)\r\n\t\t\t\t.map(pair -&gt; new CustomersResponse()\r\n\t\t\t\t\t\t.items(pair.getT1())\r\n\t\t\t\t\t\t.totalCount(pair.getT2())\r\n\t\t\t\t);\r\n\t}\r\n\r\n\t@Test\r\n\tvoid getCustomersTest() {\r\n\t\tCustomersResponse resp = getCustomers(3, 5, &quot;&quot;).block();\r\n\r\n\t\tassertThat(resp.items()).containsExactly(15L, 16L, 17L, 18L, 19L);\r\n\t\tassertThat(resp.totalCount()).isEqualTo(30);\r\n\t}\r\n\r\nThough, I belive you still have to wait for the whole flux to finish in order to get the size, so I believe there will be no performance difference between the two approaches :) ","title":"How to include a total count of items when doing pagination with skip() and take() in Webflux?","body":"<p>Alternatively, you can retrieve the customers, apply the filter and keep them as a flux (a flux is a publisher). Then, you can subscribe to this flux twice, first for retrieving the items on the current page and the 2nd time for retrieving the total count. After that, you can mix the two Mono objects to create the final response:</p>\n<pre><code>public Mono&lt;CustomersResponse&gt; getCustomers(Integer page, Integer pageSize, String filter) {\n    Flux&lt;Long&gt; customerIds = getCustomerIds().filter(customer -&gt; someFilterFunction(filter));\n    Mono&lt;List&lt;Long&gt;&gt; items = customerIds\n            .skip(page * pageSize)\n            .take(pageSize)\n            .collectList();\n    Mono&lt;Integer&gt; count = customerIds\n            .count()\n            .map(Long::intValue);\n    return Mono.zip(items, count)\n            .map(pair -&gt; new CustomersResponse()\n                    .items(pair.getT1())\n                    .totalCount(pair.getT2())\n            );\n}\n\n@Test\nvoid getCustomersTest() {\n    CustomersResponse resp = getCustomers(3, 5, &quot;&quot;).block();\n\n    assertThat(resp.items()).containsExactly(15L, 16L, 17L, 18L, 19L);\n    assertThat(resp.totalCount()).isEqualTo(30);\n}\n</code></pre>\n<p>Though, I belive you still have to wait for the whole flux to finish in order to get the size, so I believe there will be no performance difference between the two approaches :)</p>\n"}],"owner":{"account_id":17525087,"reputation":39,"user_id":12710322,"display_name":"94621"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":457,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678119550,"creation_date":1678100811,"question_id":75650063,"body_markdown":"I am trying to implement a pagination in Webflux. Let&#39;s say `CustomersService.getCustomers()` is returning a `Flux&lt;Customer&gt;`.\r\n``` java\r\npublic Mono&lt;CustomersResponse&gt; getCustomers(Integer page, Integer pageSize, String filter) {\r\n  return customersService.getCustomers()\r\n    .filter(customer -&gt; someFilterFunction(filter))\r\n    .skip(page * pagesSize)\r\n    .take(pageSize)\r\n    .collectList()\r\n    .map(customers -&gt; new CustomersResponse()\r\n      .items(customers)\r\n      .totalCount(customers.size()));\r\n}\r\n```\r\nImplementing it in this way using `customers.size()`, I get the count of the pageSize. However what I would want is the count of elements available, after applying the filter.\r\n\r\nI think this could be solved by doing some list based operations, but I would prefer to have it on the stream level.\r\n``` java\r\npublic Mono&lt;CustomersResponse&gt; getCustomers(Integer page, Integer pageSize, String filter) {\r\n  return customersService.getCustomers()\r\n    .filter(customer -&gt; someFilterFunction(filter))\r\n    .collectList()\r\n    .map(customers -&gt; new CustomersResponse()\r\n      .items(paginate(customers))\r\n      .totalCount(customers.size()));\r\n}\r\n```\r\n\r\n","title":"How to include a total count of items when doing pagination with skip() and take() in Webflux?","body":"<p>I am trying to implement a pagination in Webflux. Let's say <code>CustomersService.getCustomers()</code> is returning a <code>Flux&lt;Customer&gt;</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Mono&lt;CustomersResponse&gt; getCustomers(Integer page, Integer pageSize, String filter) {\n  return customersService.getCustomers()\n    .filter(customer -&gt; someFilterFunction(filter))\n    .skip(page * pagesSize)\n    .take(pageSize)\n    .collectList()\n    .map(customers -&gt; new CustomersResponse()\n      .items(customers)\n      .totalCount(customers.size()));\n}\n</code></pre>\n<p>Implementing it in this way using <code>customers.size()</code>, I get the count of the pageSize. However what I would want is the count of elements available, after applying the filter.</p>\n<p>I think this could be solved by doing some list based operations, but I would prefer to have it on the stream level.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Mono&lt;CustomersResponse&gt; getCustomers(Integer page, Integer pageSize, String filter) {\n  return customersService.getCustomers()\n    .filter(customer -&gt; someFilterFunction(filter))\n    .collectList()\n    .map(customers -&gt; new CustomersResponse()\n      .items(paginate(customers))\n      .totalCount(customers.size()));\n}\n</code></pre>\n"},{"tags":["java","google-app-engine","cloud","google-cloud-sql"],"comments":[{"owner":{"account_id":22397608,"reputation":1545,"user_id":16608627,"display_name":"Jack Wotherspoon"},"score":0,"creation_date":1678118097,"post_id":75626162,"comment_id":133466942,"body_markdown":"`INSTANCE_UNIX_SOCKET` should be set to the path of your unix socket. This usually takes the form of `/cloudsql/&lt;PROJECT_ID&gt;:&lt;REGION_NAME&gt;:&lt;INSTANCE_NAME&gt;`","body":"<code>INSTANCE_UNIX_SOCKET</code> should be set to the path of your unix socket. This usually takes the form of <code>&#47;cloudsql&#47;&lt;PROJECT_ID&gt;:&lt;REGION_NAME&gt;:&lt;INSTANCE_NAME&gt;</code>"}],"answers":[{"tags":[],"owner":{"account_id":888738,"reputation":1531,"user_id":927514,"display_name":"enocom"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678119388,"creation_date":1678119388,"answer_id":75653235,"question_id":75626162,"body_markdown":"You can ignore `INSTANCE_UNIX_SOCKET` here -- we&#39;ve added it to the sample code for people who might want to connect to the Unix socket. In almost all cases, you&#39;ll want to use the socket factory directly and bypass the Unix socket. So just do this:\r\n\r\n``` java\r\nimport com.zaxxer.hikari.HikariConfig;\r\nimport com.zaxxer.hikari.HikariDataSource;\r\nimport javax.sql.DataSource;\r\n\r\npublic class ConnectorConnectionPoolFactory extends ConnectionPoolFactory {\r\n  private static final String INSTANCE_CONNECTION_NAME =\r\n      System.getenv(&quot;INSTANCE_CONNECTION_NAME&quot;);\r\n  private static final String INSTANCE_UNIX_SOCKET = System.getenv(&quot;INSTANCE_UNIX_SOCKET&quot;);\r\n  private static final String DB_USER = System.getenv(&quot;DB_USER&quot;);\r\n  private static final String DB_PASS = System.getenv(&quot;DB_PASS&quot;);\r\n  private static final String DB_NAME = System.getenv(&quot;DB_NAME&quot;);\r\n\r\n  public static DataSource createConnectionPool() {\r\n    HikariConfig config = new HikariConfig();\r\n    config.setJdbcUrl(String.format(&quot;jdbc:mysql:///%s&quot;, DB_NAME));\r\n    config.setUsername(DB_USER); // e.g. &quot;root&quot;, &quot;mysql&quot;\r\n    config.setPassword(DB_PASS); // e.g. &quot;my-password&quot;\r\n\r\n    config.addDataSourceProperty(&quot;socketFactory&quot;, &quot;com.google.cloud.sql.mysql.SocketFactory&quot;);\r\n    config.addDataSourceProperty(&quot;cloudSqlInstance&quot;, INSTANCE_CONNECTION_NAME);\r\n    return new HikariDataSource(config);\r\n  }\r\n}\r\n```","title":"Cloud SQL connect from Appengine","body":"<p>You can ignore <code>INSTANCE_UNIX_SOCKET</code> here -- we've added it to the sample code for people who might want to connect to the Unix socket. In almost all cases, you'll want to use the socket factory directly and bypass the Unix socket. So just do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.zaxxer.hikari.HikariConfig;\nimport com.zaxxer.hikari.HikariDataSource;\nimport javax.sql.DataSource;\n\npublic class ConnectorConnectionPoolFactory extends ConnectionPoolFactory {\n  private static final String INSTANCE_CONNECTION_NAME =\n      System.getenv(&quot;INSTANCE_CONNECTION_NAME&quot;);\n  private static final String INSTANCE_UNIX_SOCKET = System.getenv(&quot;INSTANCE_UNIX_SOCKET&quot;);\n  private static final String DB_USER = System.getenv(&quot;DB_USER&quot;);\n  private static final String DB_PASS = System.getenv(&quot;DB_PASS&quot;);\n  private static final String DB_NAME = System.getenv(&quot;DB_NAME&quot;);\n\n  public static DataSource createConnectionPool() {\n    HikariConfig config = new HikariConfig();\n    config.setJdbcUrl(String.format(&quot;jdbc:mysql:///%s&quot;, DB_NAME));\n    config.setUsername(DB_USER); // e.g. &quot;root&quot;, &quot;mysql&quot;\n    config.setPassword(DB_PASS); // e.g. &quot;my-password&quot;\n\n    config.addDataSourceProperty(&quot;socketFactory&quot;, &quot;com.google.cloud.sql.mysql.SocketFactory&quot;);\n    config.addDataSourceProperty(&quot;cloudSqlInstance&quot;, INSTANCE_CONNECTION_NAME);\n    return new HikariDataSource(config);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":27109900,"reputation":1,"user_id":20655199,"display_name":"Surya Sikha Rej"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678119388,"creation_date":1677840960,"question_id":75626162,"body_markdown":"I want to coonnect to cloud sql mysql instance in gcp from my java appengine project.\r\nI am not able to under stand what this is INSTANCE_UNIX_SOCKET in the configuration section.\r\nI want to connect to this instance from my java appengine project. I have mysqlsocketfactoryconnector jar in my build path\r\n\r\n```    \r\nimport com.zaxxer.hikari.HikariConfig;\r\nimport com.zaxxer.hikari.HikariDataSource;\r\nimport javax.sql.DataSource;\r\n\r\npublic class ConnectorConnectionPoolFactory extends ConnectionPoolFactory {\r\n\r\n  // Note: Saving credentials in environment variables is convenient, but not\r\n  // secure - consider a more secure solution such as\r\n  // Cloud Secret Manager (https://cloud.google.com/secret-manager) to help\r\n  // keep secrets safe.\r\n  private static final String INSTANCE_CONNECTION_NAME =\r\n      System.getenv(&quot;INSTANCE_CONNECTION_NAME&quot;);\r\n  private static final String INSTANCE_UNIX_SOCKET = System.getenv(&quot;INSTANCE_UNIX_SOCKET&quot;);\r\n  private static final String DB_USER = System.getenv(&quot;DB_USER&quot;);\r\n  private static final String DB_PASS = System.getenv(&quot;DB_PASS&quot;);\r\n  private static final String DB_NAME = System.getenv(&quot;DB_NAME&quot;);\r\n\r\n  public static DataSource createConnectionPool() {\r\n    // The configuration object specifies behaviors for the connection pool.\r\n    HikariConfig config = new HikariConfig();\r\n\r\n    // The following URL is equivalent to setting the config options below:\r\n    // jdbc:mysql:///&lt;DB_NAME&gt;?cloudSqlInstance=&lt;INSTANCE_CONNECTION_NAME&gt;&amp;\r\n    // socketFactory=com.google.cloud.sql.mysql.SocketFactory&amp;user=&lt;DB_USER&gt;&amp;password=&lt;DB_PASS&gt;\r\n    // See the link below for more info on building a JDBC URL for the Cloud SQL JDBC Socket Factory\r\n    // https://github.com/GoogleCloudPlatform/cloud-sql-jdbc-socket-factory#creating-the-jdbc-url\r\n\r\n    // Configure which instance and what database user to connect with.\r\n    config.setJdbcUrl(String.format(&quot;jdbc:mysql:///%s&quot;, DB_NAME));\r\n    config.setUsername(DB_USER); // e.g. &quot;root&quot;, &quot;mysql&quot;\r\n    config.setPassword(DB_PASS); // e.g. &quot;my-password&quot;\r\n\r\n    config.addDataSourceProperty(&quot;socketFactory&quot;, &quot;com.google.cloud.sql.mysql.SocketFactory&quot;);\r\n    config.addDataSourceProperty(&quot;cloudSqlInstance&quot;, INSTANCE_CONNECTION_NAME);\r\n\r\n    // Unix sockets are not natively supported in Java, so it is necessary to use the Cloud SQL\r\n    // Java Connector to connect. When setting INSTANCE_UNIX_SOCKET, the connector will \r\n    // call an external package that will enable Unix socket connections.\r\n    // Note: For Java users, the Cloud SQL Java Connector can provide authenticated connections\r\n    // which is usually preferable to using the Cloud SQL Proxy with Unix sockets.\r\n    // See https://github.com/GoogleCloudPlatform/cloud-sql-jdbc-socket-factory for details.\r\n    if (INSTANCE_UNIX_SOCKET != null) {\r\n      config.addDataSourceProperty(&quot;unixSocketPath&quot;, INSTANCE_UNIX_SOCKET);\r\n    }\r\n\r\n\r\n    // ... Specify additional connection properties here.\r\n    // ...\r\n\r\n    // Initialize the connection pool using the configuration object.\r\n    return new HikariDataSource(config);\r\n  }\r\n}\r\n```","title":"Cloud SQL connect from Appengine","body":"<p>I want to coonnect to cloud sql mysql instance in gcp from my java appengine project.\nI am not able to under stand what this is INSTANCE_UNIX_SOCKET in the configuration section.\nI want to connect to this instance from my java appengine project. I have mysqlsocketfactoryconnector jar in my build path</p>\n<pre><code>import com.zaxxer.hikari.HikariConfig;\nimport com.zaxxer.hikari.HikariDataSource;\nimport javax.sql.DataSource;\n\npublic class ConnectorConnectionPoolFactory extends ConnectionPoolFactory {\n\n  // Note: Saving credentials in environment variables is convenient, but not\n  // secure - consider a more secure solution such as\n  // Cloud Secret Manager (https://cloud.google.com/secret-manager) to help\n  // keep secrets safe.\n  private static final String INSTANCE_CONNECTION_NAME =\n      System.getenv(&quot;INSTANCE_CONNECTION_NAME&quot;);\n  private static final String INSTANCE_UNIX_SOCKET = System.getenv(&quot;INSTANCE_UNIX_SOCKET&quot;);\n  private static final String DB_USER = System.getenv(&quot;DB_USER&quot;);\n  private static final String DB_PASS = System.getenv(&quot;DB_PASS&quot;);\n  private static final String DB_NAME = System.getenv(&quot;DB_NAME&quot;);\n\n  public static DataSource createConnectionPool() {\n    // The configuration object specifies behaviors for the connection pool.\n    HikariConfig config = new HikariConfig();\n\n    // The following URL is equivalent to setting the config options below:\n    // jdbc:mysql:///&lt;DB_NAME&gt;?cloudSqlInstance=&lt;INSTANCE_CONNECTION_NAME&gt;&amp;\n    // socketFactory=com.google.cloud.sql.mysql.SocketFactory&amp;user=&lt;DB_USER&gt;&amp;password=&lt;DB_PASS&gt;\n    // See the link below for more info on building a JDBC URL for the Cloud SQL JDBC Socket Factory\n    // https://github.com/GoogleCloudPlatform/cloud-sql-jdbc-socket-factory#creating-the-jdbc-url\n\n    // Configure which instance and what database user to connect with.\n    config.setJdbcUrl(String.format(&quot;jdbc:mysql:///%s&quot;, DB_NAME));\n    config.setUsername(DB_USER); // e.g. &quot;root&quot;, &quot;mysql&quot;\n    config.setPassword(DB_PASS); // e.g. &quot;my-password&quot;\n\n    config.addDataSourceProperty(&quot;socketFactory&quot;, &quot;com.google.cloud.sql.mysql.SocketFactory&quot;);\n    config.addDataSourceProperty(&quot;cloudSqlInstance&quot;, INSTANCE_CONNECTION_NAME);\n\n    // Unix sockets are not natively supported in Java, so it is necessary to use the Cloud SQL\n    // Java Connector to connect. When setting INSTANCE_UNIX_SOCKET, the connector will \n    // call an external package that will enable Unix socket connections.\n    // Note: For Java users, the Cloud SQL Java Connector can provide authenticated connections\n    // which is usually preferable to using the Cloud SQL Proxy with Unix sockets.\n    // See https://github.com/GoogleCloudPlatform/cloud-sql-jdbc-socket-factory for details.\n    if (INSTANCE_UNIX_SOCKET != null) {\n      config.addDataSourceProperty(&quot;unixSocketPath&quot;, INSTANCE_UNIX_SOCKET);\n    }\n\n\n    // ... Specify additional connection properties here.\n    // ...\n\n    // Initialize the connection pool using the configuration object.\n    return new HikariDataSource(config);\n  }\n}\n</code></pre>\n"},{"tags":["java","multithreading","sockets","ftp","datainputstream"],"comments":[{"owner":{"account_id":4477746,"reputation":1014,"user_id":3642410,"accept_rate":100,"display_name":"Karim"},"score":0,"creation_date":1678118959,"post_id":75653063,"comment_id":133467204,"body_markdown":"add the code that causes the issue, add the exception being thrown and put specific problem you&#39;re facing not examples","body":"add the code that causes the issue, add the exception being thrown and put specific problem you&#39;re facing not examples"},{"owner":{"account_id":4477746,"reputation":1014,"user_id":3642410,"accept_rate":100,"display_name":"Karim"},"score":0,"creation_date":1678120924,"post_id":75653063,"comment_id":133467764,"body_markdown":"Probably you should change the approach of the implementation, One approach you can take is to establish two separate input/output streams between the client and the server: one for user input and another for file data. When the client sends a &quot;put&quot; command, the server can send a message back to the client indicating that it is ready to receive the file data. The client can then send the file data over the second input/output stream, while the first input/output stream remains available for the client to input additional commands.","body":"Probably you should change the approach of the implementation, One approach you can take is to establish two separate input/output streams between the client and the server: one for user input and another for file data. When the client sends a &quot;put&quot; command, the server can send a message back to the client indicating that it is ready to receive the file data. The client can then send the file data over the second input/output stream, while the first input/output stream remains available for the client to input additional commands."},{"owner":{"account_id":4477746,"reputation":1014,"user_id":3642410,"accept_rate":100,"display_name":"Karim"},"score":0,"creation_date":1678121085,"post_id":75653063,"comment_id":133467817,"body_markdown":"have a look at design patterns that can solve your issue in particular, for further reading: \n\nhttps://www.redhat.com/architect/5-essential-patterns-software-architecture#:~:text=Client%2Dserver%20pattern,a%20network%20on%20separate%20hardware.","body":"have a look at design patterns that can solve your issue in particular, for further reading:   <a href=\"https://www.redhat.com/architect/5-essential-patterns-software-architecture#:~:text=Client%2Dserver%20pattern,a%20network%20on%20separate%20hardware\" rel=\"nofollow noreferrer\">redhat.com/architect/&hellip;</a>."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1678164241,"post_id":75653063,"comment_id":133475886,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":0,"creation_date":1678173385,"post_id":75653063,"comment_id":133477278,"body_markdown":"Why don&#39;t you use ready-made FTP library?","body":"Why don&#39;t you use ready-made FTP library?"},{"owner":{"account_id":24219839,"reputation":1,"user_id":18175162,"display_name":"Diana"},"score":0,"creation_date":1678381474,"post_id":75653063,"comment_id":133525708,"body_markdown":"I can&#39;t use a ready-made FTP library because it&#39;s for a project. I ended up fixing this issue by creating a new thread on the client side when they wish to run a task in the background. This thread connects to the server and then runs the task. This ended up working for me because it creates a separate input stream.","body":"I can&#39;t use a ready-made FTP library because it&#39;s for a project. I ended up fixing this issue by creating a new thread on the client side when they wish to run a task in the background. This thread connects to the server and then runs the task. This ended up working for me because it creates a separate input stream."}],"owner":{"account_id":24219839,"reputation":1,"user_id":18175162,"display_name":"Diana"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678119351,"creation_date":1678118503,"question_id":75653063,"body_markdown":"I&#39;m trying to create a Multithreaded Server Client FTP that will allow the client to perform certain tasks in the background (EX: put test.txt) can run in the background and then the client can input another command. So far, I have a listener thread that allows a client to connect to the server via a socket. I also have a worker thread that can perform get/put (the only commands that I want to run in the background)\r\n\r\nThe issue that I am having though is that when I am trying to run put, for example, in the background, the listener thread is reading the input from the file that is being sent over from the client and is assuming that this input is a new command, which is causing an error. \r\n\r\nThis is the Listener Thread Code:\r\n````\r\ntry {\r\n                        command = input.readUTF();\r\n                        String[] splitCommand = command.split(&quot;\\\\s+&quot;);\r\n                        String fileName = &quot;&quot;;\r\n                        if (splitCommand.length &gt; 1)\r\n                            fileName = splitCommand[1];\r\n                        executeCommand(Integer.valueOf(splitCommand[0]), fileName);\r\n                    } catch (IOException i) {\r\n                        System.out.println(i);\r\n                        System.exit(0);\r\n                    }\r\n````\r\nThis is the Worker Thread Code:\r\n````\r\nFile file = new File(currDirectory + fileName);\r\nfile.createNewFile();\r\nString data = &quot;&quot;;\r\ndata = input.readUTF();\r\nfileWriter = new FileWriter(currDirectory + fileName);\r\nfileWriter.write(data);\r\nfileWriter.close();\r\n````\r\n\r\nI&#39;m receiving a NumberFormatException because the Listener Thread is receiving the contents of the file and is assuming that the contents are a new command.\r\n\r\nHow do I differentiate from client input that is from the user and client input that is a file being sent over? Can I use multiple input/output streams?","title":"How to properly receive data from input/output streams in Multithreaded Server Client FTP","body":"<p>I'm trying to create a Multithreaded Server Client FTP that will allow the client to perform certain tasks in the background (EX: put test.txt) can run in the background and then the client can input another command. So far, I have a listener thread that allows a client to connect to the server via a socket. I also have a worker thread that can perform get/put (the only commands that I want to run in the background)</p>\n<p>The issue that I am having though is that when I am trying to run put, for example, in the background, the listener thread is reading the input from the file that is being sent over from the client and is assuming that this input is a new command, which is causing an error.</p>\n<p>This is the Listener Thread Code:</p>\n<pre><code>try {\n                        command = input.readUTF();\n                        String[] splitCommand = command.split(&quot;\\\\s+&quot;);\n                        String fileName = &quot;&quot;;\n                        if (splitCommand.length &gt; 1)\n                            fileName = splitCommand[1];\n                        executeCommand(Integer.valueOf(splitCommand[0]), fileName);\n                    } catch (IOException i) {\n                        System.out.println(i);\n                        System.exit(0);\n                    }\n</code></pre>\n<p>This is the Worker Thread Code:</p>\n<pre><code>File file = new File(currDirectory + fileName);\nfile.createNewFile();\nString data = &quot;&quot;;\ndata = input.readUTF();\nfileWriter = new FileWriter(currDirectory + fileName);\nfileWriter.write(data);\nfileWriter.close();\n</code></pre>\n<p>I'm receiving a NumberFormatException because the Listener Thread is receiving the contents of the file and is assuming that the contents are a new command.</p>\n<p>How do I differentiate from client input that is from the user and client input that is a file being sent over? Can I use multiple input/output streams?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":16881,"reputation":12006,"user_id":37231,"accept_rate":83,"display_name":"jdigital"},"score":1,"creation_date":1327706440,"post_id":9041246,"comment_id":11342269,"body_markdown":"Even if there were a comprehensive list, it would likely be outdated the moment it was published.","body":"Even if there were a comprehensive list, it would likely be outdated the moment it was published."},{"owner":{"account_id":10730,"reputation":118663,"user_id":20394,"accept_rate":73,"display_name":"Mike Samuel"},"score":0,"creation_date":1327708285,"post_id":9041246,"comment_id":11342615,"body_markdown":"Are you worried about denial of service?  Does the JVM process inherit file descriptors from its parent process?  How have you limited the Classpath?  Can the user-supplied Java call `System.loadLibrary`?","body":"Are you worried about denial of service?  Does the JVM process inherit file descriptors from its parent process?  How have you limited the Classpath?  Can the user-supplied Java call <code>System.loadLibrary</code>?"},{"owner":{"account_id":10730,"reputation":118663,"user_id":20394,"accept_rate":73,"display_name":"Mike Samuel"},"score":0,"creation_date":1327708479,"post_id":9041246,"comment_id":11342649,"body_markdown":"Finally, whenever I hear of someone running Java from an untrusted source, I have to ask, &quot;are you aware of [Joe-E](http://code.google.com/p/joe-e/) and if not, could you run only code that passes the Joe-E verifier instead?","body":"Finally, whenever I hear of someone running Java from an untrusted source, I have to ask, &quot;are you aware of <a href=\"http://code.google.com/p/joe-e/\" rel=\"nofollow noreferrer\">Joe-E</a> and if not, could you run only code that passes the Joe-E verifier instead?"},{"owner":{"account_id":91497,"reputation":19283,"user_id":251162,"accept_rate":80,"display_name":"Aaron Yodaiken"},"score":0,"creation_date":1327710697,"post_id":9041246,"comment_id":11343031,"body_markdown":"Thanks @MikeSamuel -- Joe-E looks alright, except for the Eclipse dependency. If there was a way to run the verifier w/o any use of Eclipse, I&#39;d be interested.","body":"Thanks @MikeSamuel -- Joe-E looks alright, except for the Eclipse dependency. If there was a way to run the verifier w/o any use of Eclipse, I&#39;d be interested."}],"answers":[{"tags":[],"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1327705958,"creation_date":1327705958,"answer_id":9041314,"question_id":9041246,"body_markdown":"The question I&#39;d ask myself is, &#39;How much do I trust the people, and how much do I trust that their code won&#39;t break my system?&#39;  In general, my answer would be not much, and not as far as I could throw &#39;em.  But, off the top of my head, here are some things I would want to guard against.\r\n\r\n - Infinite loops (timeouts help)\r\n - Dodgy I/O operations (trying to read/write from/to directories they have no access to)\r\n - Privilege escalation code (limiting the account to only be able to execute in a specific context, or with specific permissions is a huge plus)\r\n - Creation of too many objects/removing memory (limiting available memory and/or resources is a plus here)\r\n - Reading/writing from/to a socket and not releasing the resource\r\n - Expecting input from STDIN, which may be problematic if the server is headless\r\n\r\nThere are *plenty* more to be wary for, so I would tread carefully.  Safeguard each account and `/home` directory from one another as best as you can (a simple `chmod 700 $HOME` will often do it), and experiment with code that you would consider dodgy before deploying publicly.  Once you&#39;re comfortable with how well the server holds up, allow others to test your server and see how well it goes.","title":"What are the security risks I should guard against when running user-supplied Java code?","body":"<p>The question I'd ask myself is, 'How much do I trust the people, and how much do I trust that their code won't break my system?'  In general, my answer would be not much, and not as far as I could throw 'em.  But, off the top of my head, here are some things I would want to guard against.</p>\n\n<ul>\n<li>Infinite loops (timeouts help)</li>\n<li>Dodgy I/O operations (trying to read/write from/to directories they have no access to)</li>\n<li>Privilege escalation code (limiting the account to only be able to execute in a specific context, or with specific permissions is a huge plus)</li>\n<li>Creation of too many objects/removing memory (limiting available memory and/or resources is a plus here)</li>\n<li>Reading/writing from/to a socket and not releasing the resource</li>\n<li>Expecting input from STDIN, which may be problematic if the server is headless</li>\n</ul>\n\n<p>There are <em>plenty</em> more to be wary for, so I would tread carefully.  Safeguard each account and <code>/home</code> directory from one another as best as you can (a simple <code>chmod 700 $HOME</code> will often do it), and experiment with code that you would consider dodgy before deploying publicly.  Once you're comfortable with how well the server holds up, allow others to test your server and see how well it goes.</p>\n"},{"tags":[],"owner":{"account_id":358449,"reputation":42107,"user_id":699224,"accept_rate":67,"display_name":"DNA"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1530570685,"creation_date":1327706752,"answer_id":9041423,"question_id":9041246,"body_markdown":"Looks like a very good start - Security Manager is essential for sandboxing a whole bunch of other stuff you don&#39;t mention explicitly (like preventing the user from disabling the Security Manager, of course, and being able to invoke arbitrary commands, or use native code, or get the OS to exec files etc). I assume you are starting from zero permissions and just granting the explicit permissions needed.\r\n\r\nSecurity Manager can&#39;t deal with denial-of-service through excessive resource usage, but your other controls probably address this (prevent network connections, control disk usage, timeouts to prevent CPU hogging - if that&#39;s what you meant by timeouts).\r\n\r\nYou say &quot;extremely limited filesystem permissions&quot; - hopefully this also includes disk quota? are you running multiple untrusted processes, and do they share disk space? Running out of file handles might be an issue (not sure how these are managed for a limited account).\r\n\r\nThere are still occasional JVM vulnerabilities, so the risk depends on what else is on the server, and what the consequences of a problem actually are (how bad is it if you have to wipe the server?).\r\n\r\nSee also: https://stackoverflow.com/questions/502218/sandbox-against-malicious-code-in-a-java-application and https://stackoverflow.com/questions/8456109/execute-external-java-source-code-on-server-limit-security-and-resources","title":"What are the security risks I should guard against when running user-supplied Java code?","body":"<p>Looks like a very good start - Security Manager is essential for sandboxing a whole bunch of other stuff you don't mention explicitly (like preventing the user from disabling the Security Manager, of course, and being able to invoke arbitrary commands, or use native code, or get the OS to exec files etc). I assume you are starting from zero permissions and just granting the explicit permissions needed.</p>\n\n<p>Security Manager can't deal with denial-of-service through excessive resource usage, but your other controls probably address this (prevent network connections, control disk usage, timeouts to prevent CPU hogging - if that's what you meant by timeouts).</p>\n\n<p>You say \"extremely limited filesystem permissions\" - hopefully this also includes disk quota? are you running multiple untrusted processes, and do they share disk space? Running out of file handles might be an issue (not sure how these are managed for a limited account).</p>\n\n<p>There are still occasional JVM vulnerabilities, so the risk depends on what else is on the server, and what the consequences of a problem actually are (how bad is it if you have to wipe the server?).</p>\n\n<p>See also: <a href=\"https://stackoverflow.com/questions/502218/sandbox-against-malicious-code-in-a-java-application\">Sandbox against malicious code in a Java application</a> and <a href=\"https://stackoverflow.com/questions/8456109/execute-external-java-source-code-on-server-limit-security-and-resources\">Execute external Java source code on server - limit security and resources?</a></p>\n"},{"tags":[],"owner":{"account_id":73817,"reputation":19425,"user_id":212378,"accept_rate":57,"display_name":"Alexis Wilke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678119182,"creation_date":1678119182,"answer_id":75653187,"question_id":9041246,"body_markdown":"This is an old question and I think that in this day and age one pretty strong solution to the problem would be to run the code inside a Docker. At least, if a destructive script is sent to the Docker, you only lose the Docker.\r\n\r\nYou should then consider updating the code whenever a hack happens so you can (hopefully) avoid it next time. At least, the rest of your server will be safe that way. Run the VM system inside the docker with a port to which you can send the scripts to run. That way you can also keep track of all the scripts being run on the host and thus have a copy of the possibly offensive scripts if that Docker gets hacked.\r\n\r\nAll the other features you and the others mentioned would be useful too since that way you prevent _easy_ crashing of the Docker and you can also block users trying to hack the system.","title":"What are the security risks I should guard against when running user-supplied Java code?","body":"<p>This is an old question and I think that in this day and age one pretty strong solution to the problem would be to run the code inside a Docker. At least, if a destructive script is sent to the Docker, you only lose the Docker.</p>\n<p>You should then consider updating the code whenever a hack happens so you can (hopefully) avoid it next time. At least, the rest of your server will be safe that way. Run the VM system inside the docker with a port to which you can send the scripts to run. That way you can also keep track of all the scripts being run on the host and thus have a copy of the possibly offensive scripts if that Docker gets hacked.</p>\n<p>All the other features you and the others mentioned would be useful too since that way you prevent <em>easy</em> crashing of the Docker and you can also block users trying to hack the system.</p>\n"}],"owner":{"account_id":91497,"reputation":19283,"user_id":251162,"accept_rate":80,"display_name":"Aaron Yodaiken"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":529,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1678119182,"creation_date":1327705497,"question_id":9041246,"body_markdown":"Is there a comprehensive list of the security issues with running user-supplied Java code on a server? I&#39;m already\r\n\r\n * using timeouts of 10 seconds\r\n * running code in a separate process with limited available memory\r\n * using SecurityMangager to prevent File and Network IO\r\n * running code under an account with extremely limited filesystem permissions\r\n\r\nI&#39;m running this on a FreeBSD server if that matters.","title":"What are the security risks I should guard against when running user-supplied Java code?","body":"<p>Is there a comprehensive list of the security issues with running user-supplied Java code on a server? I'm already</p>\n\n<ul>\n<li>using timeouts of 10 seconds</li>\n<li>running code in a separate process with limited available memory</li>\n<li>using SecurityMangager to prevent File and Network IO</li>\n<li>running code under an account with extremely limited filesystem permissions</li>\n</ul>\n\n<p>I'm running this on a FreeBSD server if that matters.</p>\n"},{"tags":["java","json","rest","jax-rs"],"answers":[{"tags":[],"owner":{"account_id":6228391,"reputation":708,"user_id":4845935,"display_name":"dimnnv"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678118673,"creation_date":1678118673,"answer_id":75653092,"question_id":75652913,"body_markdown":"Your JSON contains an object with data in &quot;elements&quot; field and not an array. To parse it, you need to create an object (DTO) that matches your input, for example:\r\n\r\n```\r\npublic class EntityList {\r\n    private Entity[] elements;\r\n    private int total;\r\n    ...\r\n    // (getters, setters)\r\n}\r\n```\r\n\r\nThe important thing here is that the field with data is also named `elements` so that Jackson deserializer sets this field accordingly from your items.\r\n\r\nThis should allow you to get the result as \r\n```\r\ntarget.path(&quot;entities&quot;)\r\n    .request(MediaType.APPLICATION_JSON)\r\n    .get(EntityList.class)\r\n    .getElements();\r\n```\r\n","title":"Problems parsing JSON with jax-rs from REST API into POJOs after change in JSON format","body":"<p>Your JSON contains an object with data in &quot;elements&quot; field and not an array. To parse it, you need to create an object (DTO) that matches your input, for example:</p>\n<pre><code>public class EntityList {\n    private Entity[] elements;\n    private int total;\n    ...\n    // (getters, setters)\n}\n</code></pre>\n<p>The important thing here is that the field with data is also named <code>elements</code> so that Jackson deserializer sets this field accordingly from your items.</p>\n<p>This should allow you to get the result as</p>\n<pre><code>target.path(&quot;entities&quot;)\n    .request(MediaType.APPLICATION_JSON)\n    .get(EntityList.class)\n    .getElements();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26974791,"reputation":69,"user_id":20540211,"display_name":"Caleb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678118841,"creation_date":1678118841,"answer_id":75653128,"question_id":75652913,"body_markdown":"It looks like the response previously contained just the list of entities, and now that has been given the name &quot;elements&quot;. To fix it, you should create a new java class to act as a wrapper for the list of entities:\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class RawResponse {\r\n        private Entity[] elements;\r\n\r\n        public RawResponse() {}\r\n\r\n        public Entity[] getElements() {\r\n            return elements;\r\n        }\r\n\r\n        public void setElements(Entity[] elements) {\r\n            this.elements = elements;\r\n        }\r\n    }\r\n\r\nThis is assuming you do not care about getting the value of &quot;total&quot;. Then change your controller to use the new wrapper class:\r\n\r\n    public Entity[] getEntities() {\r\n        return target.path(&quot;entities&quot;).request(MediaType.APPLICATION_JSON).get(RawResponse.class).getElements();\r\n    }","title":"Problems parsing JSON with jax-rs from REST API into POJOs after change in JSON format","body":"<p>It looks like the response previously contained just the list of entities, and now that has been given the name &quot;elements&quot;. To fix it, you should create a new java class to act as a wrapper for the list of entities:</p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\npublic class RawResponse {\n    private Entity[] elements;\n\n    public RawResponse() {}\n\n    public Entity[] getElements() {\n        return elements;\n    }\n\n    public void setElements(Entity[] elements) {\n        this.elements = elements;\n    }\n}\n</code></pre>\n<p>This is assuming you do not care about getting the value of &quot;total&quot;. Then change your controller to use the new wrapper class:</p>\n<pre><code>public Entity[] getEntities() {\n    return target.path(&quot;entities&quot;).request(MediaType.APPLICATION_JSON).get(RawResponse.class).getElements();\n}\n</code></pre>\n"}],"owner":{"account_id":3274391,"reputation":25,"user_id":2756894,"display_name":"user2756894"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75653092,"answer_count":2,"score":1,"last_activity_date":1678118841,"creation_date":1678117514,"question_id":75652913,"body_markdown":"I had a working REST Client Class using javax.ws.rs.WebTarget, .Client and javax.ws.rs.core.MediaType for a server&#39;s REST service which returns a JSON String. Unfortunately after what I believe were changes in the format of the JSON String I can no longer parse the result into POJOs via WebTarget, instead I get &quot;Error reading entity from input stream&quot; caused by &quot;Can not deserialize instance of myproject.pojo.Entity[] out of START_OBJECT token&quot;.\r\n\r\nEntries.java:\r\n```\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class Entity {\r\n\r\n   private String key;\r\n\r\n   public Entity() {}\r\n\r\n   public String getKey() {\r\n      return key;\r\n   }\r\n\r\n   public void setKey(String key) {\r\n      this.key = key;\r\n   }\r\n```\r\n\r\nRestClient.java method for parsing all Entities, where target is an instance of WebTarget:\r\n\r\n```\r\npublic Entity[] getEntities() {\r\n   return target.path(&quot;entities&quot;).request(MediaType.APPLICATION_JSON).get(Entity[].class);\r\n}\r\n```\r\n\r\nWhen using .get(String.class) instead of the POJO and printing the result to the console I see that I get the JSON text just fine:\r\n\r\n\r\n```\r\n{ &quot;elements&quot;: [ { &quot;key&quot;: &quot;key1&quot;, &quot;name&quot;: &quot;name1&quot;, &quot;someAdditionalInfo&quot;: { &quot;info1&quot;: &quot;info1&quot;, &quot;info2&quot;: &quot;info2&quot;} }, {&quot;key:&quot; &quot;key2&quot;, etc...} ], &quot;total&quot;: 23 }\r\n```\r\n\r\nI&#39;m suspecting the &quot;elements:&quot; prefix and &quot;total&quot; suffix before and after the list to be the cause of all this. I tried using .get(new GenericEntity&lt;List&lt;Entity&gt;&gt;() {}) but had the same result.","title":"Problems parsing JSON with jax-rs from REST API into POJOs after change in JSON format","body":"<p>I had a working REST Client Class using javax.ws.rs.WebTarget, .Client and javax.ws.rs.core.MediaType for a server's REST service which returns a JSON String. Unfortunately after what I believe were changes in the format of the JSON String I can no longer parse the result into POJOs via WebTarget, instead I get &quot;Error reading entity from input stream&quot; caused by &quot;Can not deserialize instance of myproject.pojo.Entity[] out of START_OBJECT token&quot;.</p>\n<p>Entries.java:</p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\npublic class Entity {\n\n   private String key;\n\n   public Entity() {}\n\n   public String getKey() {\n      return key;\n   }\n\n   public void setKey(String key) {\n      this.key = key;\n   }\n</code></pre>\n<p>RestClient.java method for parsing all Entities, where target is an instance of WebTarget:</p>\n<pre><code>public Entity[] getEntities() {\n   return target.path(&quot;entities&quot;).request(MediaType.APPLICATION_JSON).get(Entity[].class);\n}\n</code></pre>\n<p>When using .get(String.class) instead of the POJO and printing the result to the console I see that I get the JSON text just fine:</p>\n<pre><code>{ &quot;elements&quot;: [ { &quot;key&quot;: &quot;key1&quot;, &quot;name&quot;: &quot;name1&quot;, &quot;someAdditionalInfo&quot;: { &quot;info1&quot;: &quot;info1&quot;, &quot;info2&quot;: &quot;info2&quot;} }, {&quot;key:&quot; &quot;key2&quot;, etc...} ], &quot;total&quot;: 23 }\n</code></pre>\n<p>I'm suspecting the &quot;elements:&quot; prefix and &quot;total&quot; suffix before and after the list to be the cause of all this. I tried using .get(new GenericEntity&lt;List&gt;() {}) but had the same result.</p>\n"},{"tags":["java","cryptography"],"comments":[{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":2,"creation_date":1530179651,"post_id":51079815,"comment_id":89148195,"body_markdown":"You can just read what they are... JSSE adds for SSL and TSL capabilities, while JCE provides generic encryption capabilities.","body":"You can just read what they are... JSSE adds for SSL and TSL capabilities, while JCE provides generic encryption capabilities."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1530182670,"post_id":51079815,"comment_id":89150049,"body_markdown":"This question is too broad; at least describe what you don&#39;t understand about the differences after reading the description of the two technologies.","body":"This question is too broad; at least describe what you don&#39;t understand about the differences after reading the description of the two technologies."},{"owner":{"account_id":13542464,"reputation":31,"user_id":9833092,"display_name":"user7780"},"score":0,"creation_date":1530183945,"post_id":51079815,"comment_id":89150907,"body_markdown":"Both these deal with encryption in a broad case. My question might have been not clear. As JCE provides encryption which we can use to encrypt the data then why we need to use JSSE for secure sockets which also provides encryption.","body":"Both these deal with encryption in a broad case. My question might have been not clear. As JCE provides encryption which we can use to encrypt the data then why we need to use JSSE for secure sockets which also provides encryption."}],"answers":[{"tags":[],"owner":{"account_id":13817770,"reputation":189,"user_id":9973998,"display_name":"connorg98"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1530224730,"creation_date":1530224611,"answer_id":51091947,"question_id":51079815,"body_markdown":"Java Cryptography Extension (JCE) provides cryptographic, key and hash algorithms for the Application Server. JCE provides a framework and implementations for encryption, key generation, key agreement, and Message Authentication Code algorithms. Support for encryption includes symmetric, asymmetric, block and stream ciphers.\r\n\r\nWhereas JSSE provides the transport security for the Application Server. JSSE provides the application programming interface (API) framework and the implementation of the APIs for Secure Sockets Layer and Transport Layer Security protocols, including functionality for data encryption, message integrity, and authentication.\r\n","title":"What is the difference between JSSE and JCE?","body":"<p>Java Cryptography Extension (JCE) provides cryptographic, key and hash algorithms for the Application Server. JCE provides a framework and implementations for encryption, key generation, key agreement, and Message Authentication Code algorithms. Support for encryption includes symmetric, asymmetric, block and stream ciphers.</p>\n\n<p>Whereas JSSE provides the transport security for the Application Server. JSSE provides the application programming interface (API) framework and the implementation of the APIs for Secure Sockets Layer and Transport Layer Security protocols, including functionality for data encryption, message integrity, and authentication.</p>\n"},{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1678118489,"creation_date":1530224683,"answer_id":51091960,"question_id":51079815,"body_markdown":"JCE or rather the JCA provides an *architecture* for offering so called *cryptographic primitives*. Cryptographic primitives are specific forms of cryptographic constructions. For instance, it provides primitives such as 3DES in CBC mode and AES in GCM mode (among others) for `Cipher`, which provides an abstraction of a cryptographic cipher. Others are SHA-1 and SHA-256 as cryptographic hashes, represented by the `MessageDigest` class.\r\n\r\nJSSE however provides an architecture for a specific set of *protocols* called SSL and TLS. These protocols *may be* build upon the cryptographic primitives provided by the JCE. JSSE offers abstractions such as certificate verification and validation that different JSSE providers may use to implement TLS with X.509 authentication - the most common method of authentication for TLS. TLS is a set of complex protocols and ciphersuites which require implementation.\r\n\r\nThe fact that a *cryptographic provider* for JCE/JCA - such as the default ones provided by the standard JDK offered by Oracle - provides certain primitives doesn&#39;t mean that they are automatically integrated into a JSSE provider; just like having a sack of tasty nuts won&#39;t make them automatically appear on your apple pie. They need to be programmed into the JSSE provider to make them work within a TLS connection.\r\n\r\nTLS uses a lot of cryptography, and you can be pretty sure that the crypto providers are kept up-to-date to allow JSSE to implement the latest / most common / required TLS protocol versions. Possibly to a fault, as functionality that isn&#39;t directly related to TLS and (and possibly CMS) may be missing from the standard API.","title":"What is the difference between JSSE and JCE?","body":"<p>JCE or rather the JCA provides an <em>architecture</em> for offering so called <em>cryptographic primitives</em>. Cryptographic primitives are specific forms of cryptographic constructions. For instance, it provides primitives such as 3DES in CBC mode and AES in GCM mode (among others) for <code>Cipher</code>, which provides an abstraction of a cryptographic cipher. Others are SHA-1 and SHA-256 as cryptographic hashes, represented by the <code>MessageDigest</code> class.</p>\n<p>JSSE however provides an architecture for a specific set of <em>protocols</em> called SSL and TLS. These protocols <em>may be</em> build upon the cryptographic primitives provided by the JCE. JSSE offers abstractions such as certificate verification and validation that different JSSE providers may use to implement TLS with X.509 authentication - the most common method of authentication for TLS. TLS is a set of complex protocols and ciphersuites which require implementation.</p>\n<p>The fact that a <em>cryptographic provider</em> for JCE/JCA - such as the default ones provided by the standard JDK offered by Oracle - provides certain primitives doesn't mean that they are automatically integrated into a JSSE provider; just like having a sack of tasty nuts won't make them automatically appear on your apple pie. They need to be programmed into the JSSE provider to make them work within a TLS connection.</p>\n<p>TLS uses a lot of cryptography, and you can be pretty sure that the crypto providers are kept up-to-date to allow JSSE to implement the latest / most common / required TLS protocol versions. Possibly to a fault, as functionality that isn't directly related to TLS and (and possibly CMS) may be missing from the standard API.</p>\n"}],"owner":{"account_id":13542464,"reputation":31,"user_id":9833092,"display_name":"user7780"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1854,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":2,"score":0,"last_activity_date":1678118489,"creation_date":1530179522,"question_id":51079815,"body_markdown":"What is the difference between JSSE and JCE. Both these deal with encryption in a broad case. My question might have been not clear. As JCE provides encryption which we can use to encrypt the data then why we need to use JSSE for secure sockets which also provides encryption?","title":"What is the difference between JSSE and JCE?","body":"<p>What is the difference between JSSE and JCE. Both these deal with encryption in a broad case. My question might have been not clear. As JCE provides encryption which we can use to encrypt the data then why we need to use JSSE for secure sockets which also provides encryption?</p>\n"},{"tags":["java","apache-kafka","confluent-schema-registry"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1613831509,"post_id":66280239,"comment_id":117200337,"body_markdown":"Where/how are you running your application? Assuming you&#39;re not running from some IDE, then you need to create a fat-jar. You also shouldn&#39;t need the common config/utils dependencies","body":"Where/how are you running your application? Assuming you&#39;re not running from some IDE, then you need to create a fat-jar. You also shouldn&#39;t need the common config/utils dependencies"}],"answers":[{"tags":[],"owner":{"account_id":5296505,"reputation":51,"user_id":4227547,"display_name":"Francesco Diaferio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622015179,"creation_date":1622015179,"answer_id":67700623,"question_id":66280239,"body_markdown":"I had the same issue.\r\nI resolved adding the **kafka-serde-tools** libraries from confluent libs.","title":"java.lang.ClassNotFoundException: io.confluent.kafka.serializers.AbstractKafkaSchemaSerDe","body":"<p>I had the same issue.\nI resolved adding the <strong>kafka-serde-tools</strong> libraries from confluent libs.</p>\n"},{"tags":[],"owner":{"account_id":8362258,"reputation":1639,"user_id":6280135,"display_name":"Maninder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678118309,"creation_date":1678118309,"answer_id":75653042,"question_id":66280239,"body_markdown":"After adding the below mentioned dependency, issue got resolved:\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.confluent&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;kafka-serde-tools-package&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;7.3.2&lt;/version&gt;\r\n\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t&lt;/dependency&gt;","title":"java.lang.ClassNotFoundException: io.confluent.kafka.serializers.AbstractKafkaSchemaSerDe","body":"<p>After adding the below mentioned dependency, issue got resolved:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;io.confluent&lt;/groupId&gt;\n        &lt;artifactId&gt;kafka-serde-tools-package&lt;/artifactId&gt;\n        &lt;version&gt;7.3.2&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":20757522,"reputation":11,"user_id":15243589,"display_name":"netsion"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5844,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1678118309,"creation_date":1613747937,"question_id":66280239,"body_markdown":"I want to use KafkaAvroDeserializer with springboot ,but i faild, Error report when starting ,here is my code and exception infomation \r\n\r\nIs there any jar missing?\r\n\r\ncan I \r\n\r\npom:\r\n```\r\n        &lt;!-- avro --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\r\n            &lt;artifactId&gt;avro&lt;/artifactId&gt;\r\n            &lt;version&gt;1.9.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.confluent&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kafka-avro-serializer&lt;/artifactId&gt;\r\n            &lt;version&gt;6.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.confluent&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kafka-schema-registry-client&lt;/artifactId&gt;\r\n            &lt;version&gt;6.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.confluent&lt;/groupId&gt;\r\n            &lt;artifactId&gt;common-utils&lt;/artifactId&gt;\r\n            &lt;version&gt;6.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.confluent&lt;/groupId&gt;\r\n            &lt;artifactId&gt;common-config&lt;/artifactId&gt;\r\n            &lt;version&gt;6.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\n\r\ncode :\r\n```\r\n@Bean\r\n    public Map&lt;String, Object&gt; consumerConfigs() {\r\n        Map&lt;String, Object&gt; conConfigMap = new HashMap&lt;&gt;();\r\n        conConfigMap.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\r\n        ...\r\n        conConfigMap.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        conConfigMap.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, KafkaAvroDeserializer.class);\r\n        conConfigMap.put(&quot;schema.registry.url&quot;, schemaRegistryUrl);\r\n        return conConfigMap;\r\n    }\r\n```\r\n\r\nexception information:\r\n```\r\nCaused by: java.lang.ClassNotFoundException: io.confluent.kafka.serializers.AbstractKafkaSchemaSerDe\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:381) ~[na:1.8.0_161]\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:424) ~[na:1.8.0_161]\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:338) ~[na:1.8.0_161]\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:357) ~[na:1.8.0_161]\r\n\t... 56 common frames omitted\r\n```\r\n\r\n","title":"java.lang.ClassNotFoundException: io.confluent.kafka.serializers.AbstractKafkaSchemaSerDe","body":"<p>I want to use KafkaAvroDeserializer with springboot ,but i faild, Error report when starting ,here is my code and exception infomation</p>\n<p>Is there any jar missing?</p>\n<p>can I</p>\n<p>pom:</p>\n<pre><code>        &lt;!-- avro --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\n            &lt;artifactId&gt;avro&lt;/artifactId&gt;\n            &lt;version&gt;1.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.confluent&lt;/groupId&gt;\n            &lt;artifactId&gt;kafka-avro-serializer&lt;/artifactId&gt;\n            &lt;version&gt;6.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.confluent&lt;/groupId&gt;\n            &lt;artifactId&gt;kafka-schema-registry-client&lt;/artifactId&gt;\n            &lt;version&gt;6.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.confluent&lt;/groupId&gt;\n            &lt;artifactId&gt;common-utils&lt;/artifactId&gt;\n            &lt;version&gt;6.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.confluent&lt;/groupId&gt;\n            &lt;artifactId&gt;common-config&lt;/artifactId&gt;\n            &lt;version&gt;6.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>code :</p>\n<pre><code>@Bean\n    public Map&lt;String, Object&gt; consumerConfigs() {\n        Map&lt;String, Object&gt; conConfigMap = new HashMap&lt;&gt;();\n        conConfigMap.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\n        ...\n        conConfigMap.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        conConfigMap.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, KafkaAvroDeserializer.class);\n        conConfigMap.put(&quot;schema.registry.url&quot;, schemaRegistryUrl);\n        return conConfigMap;\n    }\n</code></pre>\n<p>exception information:</p>\n<pre><code>Caused by: java.lang.ClassNotFoundException: io.confluent.kafka.serializers.AbstractKafkaSchemaSerDe\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381) ~[na:1.8.0_161]\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424) ~[na:1.8.0_161]\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:338) ~[na:1.8.0_161]\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357) ~[na:1.8.0_161]\n    ... 56 common frames omitted\n</code></pre>\n"},{"tags":["java","arrays","sorting"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1678115710,"post_id":75652562,"comment_id":133466132,"body_markdown":"`var` is just an int. Not an array, so it cannot be sorted. Remove the third loop? You don&#39;t need a loop to sort one list","body":"<code>var</code> is just an int. Not an array, so it cannot be sorted. Remove the third loop? You don&#39;t need a loop to sort one list"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1678116043,"post_id":75652562,"comment_id":133466250,"body_markdown":"Please add an example for input, expected output and received output","body":"Please add an example for input, expected output and received output"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1678117941,"post_id":75652562,"comment_id":133466899,"body_markdown":"As an aside, I would *strongly* advise you to use braces for all loops, even if the body is only a single statement.","body":"As an aside, I would <i>strongly</i> advise you to use braces for all loops, even if the body is only a single statement."}],"answers":[{"tags":[],"owner":{"account_id":27948925,"reputation":16,"user_id":21343275,"display_name":"monika verma"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1678117961,"creation_date":1678117961,"answer_id":75652993,"question_id":75652562,"body_markdown":"Arrays.sort() method donot returning anything\r\nso System.out.print(Arrays.sort(var) + &quot; &quot;); is not right you can try\r\n\r\n    for(int i=0;i&lt;a.length;i++)\r\n        {\r\n            for(int j=0;j&lt;a[0].length;j++)\r\n            {\r\n              Arrays.sort(a[i][j]);\r\n                for(int k=0;k&lt;a[0][0].length;k++)\r\n                {\r\n                    \r\n                   System.out.print(a[i][j][k]+&quot; &quot;);\r\n                }\r\n                System.out.println();\r\n            }\r\n        }\r\n\r\n\r\nin this way, first of all you can visit at array of reference variable of array of reference variable then you can sort that array of reference variable than you can print it on console.\r\n\r\n\r\nyou are console the Array.sort(arr) method having built-in method of java.util.Arrays having no return type , it sort the original array","title":"Why is the sort() method not working? Is there another alternative to this problem?","body":"<p>Arrays.sort() method donot returning anything\nso System.out.print(Arrays.sort(var) + &quot; &quot;); is not right you can try</p>\n<pre><code>for(int i=0;i&lt;a.length;i++)\n    {\n        for(int j=0;j&lt;a[0].length;j++)\n        {\n          Arrays.sort(a[i][j]);\n            for(int k=0;k&lt;a[0][0].length;k++)\n            {\n                \n               System.out.print(a[i][j][k]+&quot; &quot;);\n            }\n            System.out.println();\n        }\n    }\n</code></pre>\n<p>in this way, first of all you can visit at array of reference variable of array of reference variable then you can sort that array of reference variable than you can print it on console.</p>\n<p>you are console the Array.sort(arr) method having built-in method of java.util.Arrays having no return type , it sort the original array</p>\n"}],"owner":{"account_id":27948434,"reputation":1,"user_id":21342895,"display_name":"jUStpaSiNGbY111"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1678117961,"creation_date":1678115653,"question_id":75652562,"body_markdown":"I&#39;m currently writing the code that sorts the specific elements of a 3d array to ascending order in a single line but the sort method isn&#39;t working or maybe I just didn&#39;t do it right.\r\n\r\nHere&#39;s the full code\r\n\r\n```\r\nimport java.util.Arrays;\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n\r\n        Scanner in = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;Enter number of Table/s&quot;);\r\n        int tTable = in.nextInt();\r\n        System.out.println(&quot;Enter number of Row/s&quot;);\r\n        int tRow = in.nextInt();\r\n        System.out.println(&quot;Enter number of Column/s&quot;);\r\n        int tColumn = in.nextInt();\r\n\r\n        int[][][] array = new int[tTable][tRow][tColumn];\r\n\r\n        for (int i = 0; i &lt; tTable ; i++)\r\n            for (int j = 0; j &lt; tRow ; j++)\r\n                for (int z = 0; z &lt; tColumn  ; z++)\r\n                {\r\n                    System.out.print(&quot;Enter value of index [&quot; + i + &quot;][&quot; + j + &quot;][&quot; + z + &quot;]: &quot;);\r\n                    array [i][j][z] = in.nextInt();\r\n                }\r\n\r\n        System.out.println(&quot; &quot;);\r\n        System.out.print(&quot;ORIGINAL VALUE: &quot;);\r\n        for ( int i = 0; i &lt; tRow; i++) {\r\n            for ( int j = 0; j &lt; tColumn; j++)\r\n                for (int z = 0; z &lt; tColumn  ; z++){\r\n                System.out.print(array[i][j][z] + &quot; &quot;);\r\n                }\r\n        }\r\n        System.out.println(&quot; &quot;);\r\n        System.out.println(&quot;SORTED VALUE: &quot;);\r\n        for(int[][] set : array)\r\n            for(int []set2 : set)\r\n                for(int var : set2){\r\n                    System.out.print(Arrays.sort(var) + &quot; &quot;);\r\n                }\r\n    }\r\n}\r\n```\r\n\r\nHere&#39;s the part where I&#39;m having a problem at. A friend suggested I make it a 1d array first so I did but what do you guys think?\r\n\r\n```\r\n System.out.println(&quot; &quot;);\r\n        System.out.println(&quot;SORTED VALUE: &quot;);\r\n        for(int[][] set : array)\r\n            for(int []set2 : set)\r\n                for(int var : set2){\r\n                    System.out.print(Arrays.sort(var) + &quot; &quot;);\r\n                }\r\n```\r\n\r\n","title":"Why is the sort() method not working? Is there another alternative to this problem?","body":"<p>I'm currently writing the code that sorts the specific elements of a 3d array to ascending order in a single line but the sort method isn't working or maybe I just didn't do it right.</p>\n<p>Here's the full code</p>\n<pre><code>import java.util.Arrays;\nimport java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n\n        Scanner in = new Scanner(System.in);\n\n        System.out.println(&quot;Enter number of Table/s&quot;);\n        int tTable = in.nextInt();\n        System.out.println(&quot;Enter number of Row/s&quot;);\n        int tRow = in.nextInt();\n        System.out.println(&quot;Enter number of Column/s&quot;);\n        int tColumn = in.nextInt();\n\n        int[][][] array = new int[tTable][tRow][tColumn];\n\n        for (int i = 0; i &lt; tTable ; i++)\n            for (int j = 0; j &lt; tRow ; j++)\n                for (int z = 0; z &lt; tColumn  ; z++)\n                {\n                    System.out.print(&quot;Enter value of index [&quot; + i + &quot;][&quot; + j + &quot;][&quot; + z + &quot;]: &quot;);\n                    array [i][j][z] = in.nextInt();\n                }\n\n        System.out.println(&quot; &quot;);\n        System.out.print(&quot;ORIGINAL VALUE: &quot;);\n        for ( int i = 0; i &lt; tRow; i++) {\n            for ( int j = 0; j &lt; tColumn; j++)\n                for (int z = 0; z &lt; tColumn  ; z++){\n                System.out.print(array[i][j][z] + &quot; &quot;);\n                }\n        }\n        System.out.println(&quot; &quot;);\n        System.out.println(&quot;SORTED VALUE: &quot;);\n        for(int[][] set : array)\n            for(int []set2 : set)\n                for(int var : set2){\n                    System.out.print(Arrays.sort(var) + &quot; &quot;);\n                }\n    }\n}\n</code></pre>\n<p>Here's the part where I'm having a problem at. A friend suggested I make it a 1d array first so I did but what do you guys think?</p>\n<pre><code> System.out.println(&quot; &quot;);\n        System.out.println(&quot;SORTED VALUE: &quot;);\n        for(int[][] set : array)\n            for(int []set2 : set)\n                for(int var : set2){\n                    System.out.print(Arrays.sort(var) + &quot; &quot;);\n                }\n</code></pre>\n"},{"tags":["java","scala","apache-spark","spark3","apache-spark-3.0"],"comments":[{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1678118018,"post_id":75652950,"comment_id":133466923,"body_markdown":"Just for the record, the previous question https://stackoverflow.com/questions/75648721/migrating-from-spark-2-4-to-spark-3-whats-spark-2-4s-sharedsqlcontext-equival","body":"Just for the record, the previous question <a href=\"https://stackoverflow.com/questions/75648721/migrating-from-spark-2-4-to-spark-3-whats-spark-2-4s-sharedsqlcontext-equival\" title=\"migrating from spark 2 4 to spark 3 whats spark 2 4s sharedsqlcontext equival\">stackoverflow.com/questions/75648721/&hellip;</a>"}],"owner":{"account_id":7855898,"reputation":1267,"user_id":5937760,"accept_rate":93,"display_name":"sojim2"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678117703,"creation_date":1678117703,"question_id":75652950,"body_markdown":"In Spark 2.4, there exists class `SharedSQLContext` and related APIs have been removed in Spark 3. The equivalent of `SharedSQLContext` from Spark 2.4 is the `SparkSession` object in Spark 3.\r\n\r\nI&#39;m relatively new to Scala/Java, how do I approach converting the class below to work with `SparkSession` object?\r\n\r\n    class KafkaDataConsumerSuite extends SharedSQLContext with PrivateMethodTester {\r\n    \r\n      protected var testUtils: KafkaTestUtils = _\r\n    \r\n      override def beforeAll(): Unit = {\r\n        super.beforeAll()\r\n        testUtils = new KafkaTestUtils(Map[String, Object]())\r\n        testUtils.setup()\r\n      }\r\n    \r\n      override def afterAll(): Unit = {\r\n        if (testUtils != null) {\r\n          testUtils.teardown()\r\n          testUtils = null\r\n        }\r\n        super.afterAll()\r\n      }\r\n    \r\n      test(&quot;SPARK-19886: Report error cause correctly in reportDataLoss&quot;) {\r\n        val cause = new Exception(&quot;D&#39;oh!&quot;)\r\n        val reportDataLoss = PrivateMethod[Unit](&#39;reportDataLoss0)\r\n        val e = intercept[IllegalStateException] {\r\n          BlackbirdInternalKafkaConsumer.invokePrivate(reportDataLoss(true, &quot;message&quot;, cause))\r\n        }\r\n        assert(e.getCause === cause)\r\n      }\r\n    }","title":"Migrating from Spark 2.4 to Spark 3: How to convert a class that extends SharedSQLContext to use object SparkSession?","body":"<p>In Spark 2.4, there exists class <code>SharedSQLContext</code> and related APIs have been removed in Spark 3. The equivalent of <code>SharedSQLContext</code> from Spark 2.4 is the <code>SparkSession</code> object in Spark 3.</p>\n<p>I'm relatively new to Scala/Java, how do I approach converting the class below to work with <code>SparkSession</code> object?</p>\n<pre><code>class KafkaDataConsumerSuite extends SharedSQLContext with PrivateMethodTester {\n\n  protected var testUtils: KafkaTestUtils = _\n\n  override def beforeAll(): Unit = {\n    super.beforeAll()\n    testUtils = new KafkaTestUtils(Map[String, Object]())\n    testUtils.setup()\n  }\n\n  override def afterAll(): Unit = {\n    if (testUtils != null) {\n      testUtils.teardown()\n      testUtils = null\n    }\n    super.afterAll()\n  }\n\n  test(&quot;SPARK-19886: Report error cause correctly in reportDataLoss&quot;) {\n    val cause = new Exception(&quot;D'oh!&quot;)\n    val reportDataLoss = PrivateMethod[Unit]('reportDataLoss0)\n    val e = intercept[IllegalStateException] {\n      BlackbirdInternalKafkaConsumer.invokePrivate(reportDataLoss(true, &quot;message&quot;, cause))\n    }\n    assert(e.getCause === cause)\n  }\n}\n</code></pre>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":2829929,"reputation":5163,"user_id":2431702,"display_name":"DanielBarbarian"},"score":0,"creation_date":1677680966,"post_id":75604986,"comment_id":133385844,"body_markdown":"And without the filter you get all entries?","body":"And without the filter you get all entries?"},{"owner":{"account_id":6093946,"reputation":175,"user_id":4755373,"display_name":"Saima Haji"},"score":3,"creation_date":1677681290,"post_id":75604986,"comment_id":133385940,"body_markdown":"Map contains unique key. So why are you filtering key? directly get the map.get(ABC).\nIf you want to filter the values then can use the filter in such way https://stackoverflow.com/questions/33459961/how-to-filter-a-map-by-its-values-in-java-8","body":"Map contains unique key. So why are you filtering key? directly get the map.get(ABC). If you want to filter the values then can use the filter in such way <a href=\"https://stackoverflow.com/questions/33459961/how-to-filter-a-map-by-its-values-in-java-8\" title=\"how to filter a map by its values in java 8\">stackoverflow.com/questions/33459961/&hellip;</a>"},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1677681813,"post_id":75604986,"comment_id":133386141,"body_markdown":"For information, the issue is not reproductible on my side. I&#39;m pretty sure you&#39;re missing to share an important information about the keys of your map.","body":"For information, the issue is not reproductible on my side. I&#39;m pretty sure you&#39;re missing to share an important information about the keys of your map."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1677681910,"post_id":75604986,"comment_id":133386175,"body_markdown":"Please create [minimal, reproducible example](https://stackoverflow.com/help/minimal-reproducible-example). Code works as expected for me.","body":"Please create <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal, reproducible example</a>. Code works as expected for me."},{"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"score":0,"creation_date":1677681919,"post_id":75604986,"comment_id":133386182,"body_markdown":"add a `.peek(item -&gt; System.out.println(item.getKey()))` (or use a logger instead of sysout if you prefer) after your filter.  Also, as Saima pointed out above, `Map.get` will be much simpler and faster.","body":"add a <code>.peek(item -&gt; System.out.println(item.getKey()))</code> (or use a logger instead of sysout if you prefer) after your filter.  Also, as Saima pointed out above, <code>Map.get</code> will be much simpler and faster."},{"owner":{"account_id":17197306,"reputation":119,"user_id":12449753,"display_name":"w97802"},"score":0,"creation_date":1677682085,"post_id":75604986,"comment_id":133386239,"body_markdown":"thank you. I need to get the key-value pair within the stream operation, since there&#39;ll be some important logic performed in the `forEach` stream operation`.forEach( e -&gt; {//some important logic}`, therefore I plan to use filter before the `forEach` operation instead of using `map.get`","body":"thank you. I need to get the key-value pair within the stream operation, since there&#39;ll be some important logic performed in the <code>forEach</code> stream operation<code>.forEach( e -&gt; {&#47;&#47;some important logic}</code>, therefore I plan to use filter before the <code>forEach</code> operation instead of using <code>map.get</code>"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1678106552,"post_id":75604986,"comment_id":133463315,"body_markdown":"There is nothing you can place in a `forEach` that you can’t place after a simple `get` call. So just place your “important logic” after the `get`.","body":"There is nothing you can place in a <code>forEach</code> that you can’t place after a simple <code>get</code> call. So just place your “important logic” after the <code>get</code>."}],"answers":[{"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677682370,"creation_date":1677681879,"answer_id":75605209,"question_id":75604986,"body_markdown":"`Stream.filter(Predicate)` does the opposite of what you think it does; it&#39;s _inclusive_, not _exclusive_. Here&#39;s the description:\r\n\r\n&gt; Returns a stream consisting of the elements of this stream that match the given predicate.\r\n\r\nSo if you want to &quot;filter out&quot; a specific entry from the map stream, you would use a &quot;not equals&quot; predicate, like this:\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    Map&lt;String, Collection&lt;Number&gt;&gt; source = Map.of(\r\n            &quot;.ABC&quot;, List.of(1,2,3),\r\n            &quot;.DEF&quot;, List.of(4,5,6),\r\n            &quot;.GHI&quot;, List.of(7,8,9)\r\n            );\r\n\r\n    source.entrySet().stream()\r\n    \t.filter(entry -&gt; !&quot;.ABC&quot;.equals(entry.getKey()))\r\n    \t.forEach(entry -&gt; System.out.println(entry));\r\n}\r\n```\r\n\r\nThe output of that code is:\r\n```\r\n.GHI=[7, 8, 9]\r\n.DEF=[4, 5, 6]\r\n```\r\n\r\n---\r\nA slight variation for the `.filter(...)` call if you statically import `Predicate.not`:\r\n\r\n```java\r\n      .filter(not(entry -&gt; &quot;.ABC&quot;.equals(entry.getKey())))\r\n```","title":"Use stream to filter certain key-value pairs in hashmap","body":"<p><code>Stream.filter(Predicate)</code> does the opposite of what you think it does; it's <em>inclusive</em>, not <em>exclusive</em>. Here's the description:</p>\n<blockquote>\n<p>Returns a stream consisting of the elements of this stream that match the given predicate.</p>\n</blockquote>\n<p>So if you want to &quot;filter out&quot; a specific entry from the map stream, you would use a &quot;not equals&quot; predicate, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    Map&lt;String, Collection&lt;Number&gt;&gt; source = Map.of(\n            &quot;.ABC&quot;, List.of(1,2,3),\n            &quot;.DEF&quot;, List.of(4,5,6),\n            &quot;.GHI&quot;, List.of(7,8,9)\n            );\n\n    source.entrySet().stream()\n        .filter(entry -&gt; !&quot;.ABC&quot;.equals(entry.getKey()))\n        .forEach(entry -&gt; System.out.println(entry));\n}\n</code></pre>\n<p>The output of that code is:</p>\n<pre><code>.GHI=[7, 8, 9]\n.DEF=[4, 5, 6]\n</code></pre>\n<hr />\n<p>A slight variation for the <code>.filter(...)</code> call if you statically import <code>Predicate.not</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>      .filter(not(entry -&gt; &quot;.ABC&quot;.equals(entry.getKey())))\n</code></pre>\n"}],"owner":{"account_id":17197306,"reputation":119,"user_id":12449753,"display_name":"w97802"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":508,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678117647,"answer_count":1,"score":0,"last_activity_date":1678117641,"creation_date":1677680755,"question_id":75604986,"body_markdown":"I have a hashmap1 with the signature \r\nMap&lt;String, List&lt;**Self-Defined-Object**&gt;&gt;\r\n\r\nThe key/value set within hashmap1 is:\r\n```\r\nkey = &quot;.ABC&quot;, value = [Self-defined Object1, Self-defined Object2]\r\nkey = &quot;.DEF&quot;, value = [Self-defined Object3, Self-defined Object4]\r\nkey = &quot;.GHI&quot;, value = [Self-defined Object5, Self-defined Object6]\r\n```\r\nStream operation is performed for hashmap1: \r\n```\r\nhashmap1.entrySet().stream().forEach(e -&gt; { ...//performing some operation})\r\n```\r\n\r\n**What I want to do:** I want to filter out the key value pair with key = &quot;.ABC&quot; before doing `forEach`. \r\n\r\n**What did I do**: I added `.filter(item -&gt; item.getKey().equals(&quot;.ABC&quot;)` after the `.stream` operation and before the `.forEach` operation. \r\n\r\n**What is wrong:**\r\nAfter the filter, it skips to the end of the forEach (meaning forEach is not being run), I suppose after filtering, the size of hashmap becomes 0, which means I am not getting the key value pair I need. \r\n\r\nI tried switching `equals` with `startsWith`, but it&#39;s still the same. \r\n\r\nI am not exactly sure what is wrong with my current way of filtering the key. \r\n\r\n\r\n","title":"Use stream to filter certain key-value pairs in hashmap","body":"<p>I have a hashmap1 with the signature\nMap&lt;String, List&lt;<strong>Self-Defined-Object</strong>&gt;&gt;</p>\n<p>The key/value set within hashmap1 is:</p>\n<pre><code>key = &quot;.ABC&quot;, value = [Self-defined Object1, Self-defined Object2]\nkey = &quot;.DEF&quot;, value = [Self-defined Object3, Self-defined Object4]\nkey = &quot;.GHI&quot;, value = [Self-defined Object5, Self-defined Object6]\n</code></pre>\n<p>Stream operation is performed for hashmap1:</p>\n<pre><code>hashmap1.entrySet().stream().forEach(e -&gt; { ...//performing some operation})\n</code></pre>\n<p><strong>What I want to do:</strong> I want to filter out the key value pair with key = &quot;.ABC&quot; before doing <code>forEach</code>.</p>\n<p><strong>What did I do</strong>: I added <code>.filter(item -&gt; item.getKey().equals(&quot;.ABC&quot;)</code> after the <code>.stream</code> operation and before the <code>.forEach</code> operation.</p>\n<p><strong>What is wrong:</strong>\nAfter the filter, it skips to the end of the forEach (meaning forEach is not being run), I suppose after filtering, the size of hashmap becomes 0, which means I am not getting the key value pair I need.</p>\n<p>I tried switching <code>equals</code> with <code>startsWith</code>, but it's still the same.</p>\n<p>I am not exactly sure what is wrong with my current way of filtering the key.</p>\n"},{"tags":["java","spring-boot","gradle"],"comments":[{"owner":{"account_id":4102217,"reputation":312,"user_id":3367392,"display_name":"aboudirawas"},"score":0,"creation_date":1677765562,"post_id":75616001,"comment_id":133405139,"body_markdown":"Did you try closing and opening your IDE?","body":"Did you try closing and opening your IDE?"},{"owner":{"account_id":5218565,"reputation":1034,"user_id":6540591,"display_name":"User51"},"score":0,"creation_date":1677766966,"post_id":75616001,"comment_id":133405639,"body_markdown":"As with all gradle issues, first, the usual...  open/close IDE (as suggested).  Try from CLI.  Delete build folder.  Try with a clean....  As for your specific error, the problem surrounded `bootRunMainClassName`, correct?  Is it still throwing that even when that line is commented out?  Also, in our SB 3.0.x project, we specify the main class via:  `springBoot.mainClass = &quot;...&quot;`, not with `bootRunMainClassName`.  But, if it&#39;s commented out, it must be NOT commented out somewhere else?","body":"As with all gradle issues, first, the usual...  open/close IDE (as suggested).  Try from CLI.  Delete build folder.  Try with a clean....  As for your specific error, the problem surrounded <code>bootRunMainClassName</code>, correct?  Is it still throwing that even when that line is commented out?  Also, in our SB 3.0.x project, we specify the main class via:  <code>springBoot.mainClass = &quot;...&quot;</code>, not with <code>bootRunMainClassName</code>.  But, if it&#39;s commented out, it must be NOT commented out somewhere else?"},{"owner":{"account_id":27918344,"reputation":31,"user_id":21319040,"display_name":"mike ev"},"score":0,"creation_date":1677828206,"post_id":75616001,"comment_id":133417793,"body_markdown":"aboudirawas &amp; User51, i closed and opened IntelliJ IDEA and the same problem persists.","body":"aboudirawas &amp; User51, i closed and opened IntelliJ IDEA and the same problem persists."},{"owner":{"account_id":27918344,"reputation":31,"user_id":21319040,"display_name":"mike ev"},"score":0,"creation_date":1678116826,"post_id":75616001,"comment_id":133466523,"body_markdown":"@User51, there is a block of springBoot: \n`springBoot { \n   mainClass = &#39;tech.company.template.application.core.TemplateCoreApplication&#39; \n}` \n. Even with that, the error is &quot;Task with name &#39;bootRunMainClassName&#39; not found in project&quot;","body":"@User51, there is a block of springBoot:  <code>springBoot {     mainClass = &#39;tech.company.template.application.core.TemplateCoreApplicat&zwnj;&#8203;ion&#39;  }</code>  . Even with that, the error is &quot;Task with name &#39;bootRunMainClassName&#39; not found in project&quot;"},{"owner":{"account_id":5218565,"reputation":1034,"user_id":6540591,"display_name":"User51"},"score":0,"creation_date":1678117135,"post_id":75616001,"comment_id":133466620,"body_markdown":"Can you search your entire project.  I only see the string `bootRunMainClassName` once, but it is commented out.  Because it is referencing that as the error, it MUST be referenced SOMEWHERE other than comments.  Search all your `.gradle` and `.properties` files.  Also search all sub-projects.","body":"Can you search your entire project.  I only see the string <code>bootRunMainClassName</code> once, but it is commented out.  Because it is referencing that as the error, it MUST be referenced SOMEWHERE other than comments.  Search all your <code>.gradle</code> and <code>.properties</code> files.  Also search all sub-projects."}],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1678117589,"creation_date":1678117589,"answer_id":75652927,"question_id":75616001,"body_markdown":"The key part of the stack trace is the following:\r\n\r\n```\r\nCaused by: org.gradle.api.UnknownTaskException: Task with name &#39;bootRunMainClassName&#39; not found in project &#39;:nc-application:nc-application-web-plugin:nc-application-runtime&#39;.\r\n    at org.gradle.api.internal.tasks.DefaultTaskCollection.createNotFoundException(DefaultTaskCollection.java:102)\r\n    at org.gradle.api.internal.tasks.DefaultTaskCollection.createNotFoundException(DefaultTaskCollection.java:46)\r\n    at org.gradle.api.internal.DefaultNamedDomainObjectCollection.named(DefaultNamedDomainObjectCollection.java:360)\r\n    at org.gradle.api.internal.tasks.DefaultTaskCollection.named(DefaultTaskCollection.java:112)\r\n    at org.springdoc.openapi.gradle.plugin.OpenApiGradlePlugin$apply$1.execute(OpenApiGradlePlugin.kt:26)\r\n ```\r\n\r\nIt shows that some code in `org.springdoc.openapi.gradle.plugin.OpenApiGradlePlugin` is looking for the task named `bootRunMainClassName` and it does not exist. The task does not exist when you upgrade to Spring Boot 3.0 due to [these changes to Spring Boot&#39;s Gradle plugin](https://github.com/spring-projects/spring-boot/issues/30467).\r\n\r\nThe incompatibility with Spring Boot 3.0&#39;s Gradle plugin has been fixed in 1.6.0 of the SpringDoc OpenApi Gradle plugin. You can upgrade by changing the plugins declaration in your `build.gradle`:\r\n\r\n```\r\nplugins {\r\n    id &#39;org.springframework.boot&#39; version &quot;${bootVersion}&quot;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n    id &#39;org.springdoc.openapi-gradle-plugin&#39; version &#39;1.6.0&#39;\r\n    id &#39;tech.company.json.schema&#39; version &#39;1.0.4&#39;\r\n}\r\n```","title":"Problem occurred when upgrading Spring Boot to 3.0.3 from 2.7.8","body":"<p>The key part of the stack trace is the following:</p>\n<pre><code>Caused by: org.gradle.api.UnknownTaskException: Task with name 'bootRunMainClassName' not found in project ':nc-application:nc-application-web-plugin:nc-application-runtime'.\n    at org.gradle.api.internal.tasks.DefaultTaskCollection.createNotFoundException(DefaultTaskCollection.java:102)\n    at org.gradle.api.internal.tasks.DefaultTaskCollection.createNotFoundException(DefaultTaskCollection.java:46)\n    at org.gradle.api.internal.DefaultNamedDomainObjectCollection.named(DefaultNamedDomainObjectCollection.java:360)\n    at org.gradle.api.internal.tasks.DefaultTaskCollection.named(DefaultTaskCollection.java:112)\n    at org.springdoc.openapi.gradle.plugin.OpenApiGradlePlugin$apply$1.execute(OpenApiGradlePlugin.kt:26)\n</code></pre>\n<p>It shows that some code in <code>org.springdoc.openapi.gradle.plugin.OpenApiGradlePlugin</code> is looking for the task named <code>bootRunMainClassName</code> and it does not exist. The task does not exist when you upgrade to Spring Boot 3.0 due to <a href=\"https://github.com/spring-projects/spring-boot/issues/30467\" rel=\"nofollow noreferrer\">these changes to Spring Boot's Gradle plugin</a>.</p>\n<p>The incompatibility with Spring Boot 3.0's Gradle plugin has been fixed in 1.6.0 of the SpringDoc OpenApi Gradle plugin. You can upgrade by changing the plugins declaration in your <code>build.gradle</code>:</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version &quot;${bootVersion}&quot;\n    id 'io.spring.dependency-management' version '1.1.0'\n    id 'org.springdoc.openapi-gradle-plugin' version '1.6.0'\n    id 'tech.company.json.schema' version '1.0.4'\n}\n</code></pre>\n"}],"owner":{"account_id":27918344,"reputation":31,"user_id":21319040,"display_name":"mike ev"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":825,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1678117589,"creation_date":1677763259,"question_id":75616001,"body_markdown":"Tried to upgrade to Spring Boot 3.0.3 from 2.7.8 and when i press &quot;Load Gradle Changes&quot; got this error : \r\n\r\nA problem occurred configuring project &#39;:nc-application:nc-application-web-plugin:nc-application-runtime&#39;.\r\n&gt; Task with name &#39;bootRunMainClassName&#39; not found in project &#39;:nc-application:nc-application-web-plugin:nc-application-runtime&#39;.\r\n\r\n* Try:\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\nException is:\r\n```\r\norg.gradle.api.ProjectConfigurationException: A problem occurred configuring project &#39;:nc-application:nc-application-web-plugin:nc-application-runtime&#39;.\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator.wrapException(LifecycleProjectEvaluator.java:84)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator.addConfigurationFailure(LifecycleProjectEvaluator.java:77)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator.access$400(LifecycleProjectEvaluator.java:55)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator$NotifyAfterEvaluate.run(LifecycleProjectEvaluator.java:255)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.lambda$run$0(LifecycleProjectEvaluator.java:114)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:351)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$fromMutableState$1(DefaultProjectStateRegistry.java:374)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withReplacedLocks(DefaultWorkerLeaseService.java:345)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:374)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:350)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.run(LifecycleProjectEvaluator.java:100)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:72)\r\n\tat org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:761)\r\n\tat org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:152)\r\n\tat org.gradle.api.internal.project.ProjectLifecycleController.lambda$ensureSelfConfigured$1(ProjectLifecycleController.java:63)\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$doTransition$12(StateTransitionController.java:236)\r\n\tat org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:247)\r\n\tat org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:235)\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$maybeTransitionIfNotCurrentlyTransitioning$9(StateTransitionController.java:196)\r\n\tat org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:34)\r\n\tat org.gradle.internal.model.StateTransitionController.maybeTransitionIfNotCurrentlyTransitioning(StateTransitionController.java:192)\r\n\tat org.gradle.api.internal.project.ProjectLifecycleController.ensureSelfConfigured(ProjectLifecycleController.java:63)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.ensureConfigured(DefaultProjectStateRegistry.java:325)\r\n\tat org.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:33)\r\n\tat org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:49)\r\n\tat org.gradle.configuration.DefaultProjectsPreparer.prepareProjects(DefaultProjectsPreparer.java:50)\r\n\tat org.gradle.configuration.BuildTreePreparingProjectsPreparer.prepareProjects(BuildTreePreparingProjectsPreparer.java:64)\r\n\tat org.gradle.configuration.BuildOperationFiringProjectsPreparer$ConfigureBuild.run(BuildOperationFiringProjectsPreparer.java:52)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n\tat org.gradle.configuration.BuildOperationFiringProjectsPreparer.prepareProjects(BuildOperationFiringProjectsPreparer.java:40)\r\n\tat org.gradle.initialization.VintageBuildModelController.lambda$prepareProjects$3(VintageBuildModelController.java:89)\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$doTransition$12(StateTransitionController.java:236)\r\n\tat org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:247)\r\n\tat org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:235)\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$transitionIfNotPreviously$10(StateTransitionController.java:210)\r\n\tat org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:34)\r\n\tat org.gradle.internal.model.StateTransitionController.transitionIfNotPreviously(StateTransitionController.java:206)\r\n\tat org.gradle.initialization.VintageBuildModelController.prepareProjects(VintageBuildModelController.java:89)\r\n\tat org.gradle.initialization.VintageBuildModelController.getConfiguredModel(VintageBuildModelController.java:64)\r\n\tat org.gradle.internal.build.DefaultBuildLifecycleController.lambda$withProjectsConfigured$1(DefaultBuildLifecycleController.java:114)\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$notInState$3(StateTransitionController.java:143)\r\n\tat org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\r\n\tat org.gradle.internal.model.StateTransitionController.notInState(StateTransitionController.java:139)\r\n\tat org.gradle.internal.build.DefaultBuildLifecycleController.withProjectsConfigured(DefaultBuildLifecycleController.java:114)\r\n\tat org.gradle.internal.build.DefaultBuildToolingModelController.locateBuilderForTarget(DefaultBuildToolingModelController.java:57)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.lambda$locateBuilderForTarget$0(DefaultBuildTreeModelCreator.java:73)\r\n\tat org.gradle.internal.build.DefaultBuildLifecycleController.withToolingModels(DefaultBuildLifecycleController.java:174)\r\n\tat org.gradle.internal.build.AbstractBuildState.withToolingModels(AbstractBuildState.java:118)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.locateBuilderForTarget(DefaultBuildTreeModelCreator.java:73)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.locateBuilderForDefaultTarget(DefaultBuildTreeModelCreator.java:68)\r\n\tat org.gradle.tooling.internal.provider.runner.DefaultBuildController.getTarget(DefaultBuildController.java:157)\r\n\tat org.gradle.tooling.internal.provider.runner.DefaultBuildController.getModel(DefaultBuildController.java:101)\r\n\tat org.gradle.tooling.internal.consumer.connection.ParameterAwareBuildControllerAdapter.getModel(ParameterAwareBuildControllerAdapter.java:39)\r\n\tat org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.getModel(UnparameterizedBuildController.java:113)\r\n\tat org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.getModel(NestedActionAwareBuildControllerAdapter.java:31)\r\n\tat org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:97)\r\n\tat org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\r\n\tat org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:81)\r\n\tat org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\r\n\tat org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:66)\r\n\tat org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\r\n\tat org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:126)\r\n\tat org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:42)\r\n\tat org.gradle.tooling.internal.consumer.connection.InternalBuildActionAdapter.execute(InternalBuildActionAdapter.java:64)\r\n\tat org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.runAction(AbstractClientProvidedBuildActionRunner.java:131)\r\n\tat org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.beforeTasks(AbstractClientProvidedBuildActionRunner.java:99)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeModelCreator.beforeTasks(DefaultBuildTreeModelCreator.java:52)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$fromBuildModel$1(DefaultBuildTreeLifecycleController.java:75)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$runBuild$4(DefaultBuildTreeLifecycleController.java:106)\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$transition$5(StateTransitionController.java:166)\r\n\tat org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:247)\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$transition$6(StateTransitionController.java:166)\r\n\tat org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\r\n\tat org.gradle.internal.model.StateTransitionController.transition(StateTransitionController.java:166)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.runBuild(DefaultBuildTreeLifecycleController.java:103)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.fromBuildModel(DefaultBuildTreeLifecycleController.java:74)\r\n\tat org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner.runClientAction(AbstractClientProvidedBuildActionRunner.java:43)\r\n\tat org.gradle.tooling.internal.provider.runner.ClientProvidedPhasedActionRunner.run(ClientProvidedPhasedActionRunner.java:53)\r\n\tat org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n\tat org.gradle.internal.buildtree.ProblemReportingBuildActionRunner.run(ProblemReportingBuildActionRunner.java:49)\r\n\tat org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:65)\r\n\tat org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:136)\r\n\tat org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\r\n\tat org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.lambda$execute$0(RootBuildLifecycleBuildActionExecutor.java:40)\r\n\tat org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:122)\r\n\tat org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.execute(RootBuildLifecycleBuildActionExecutor.java:40)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeContext.execute(DefaultBuildTreeContext.java:40)\r\n\tat org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.lambda$execute$0(BuildTreeLifecycleBuildActionExecutor.java:65)\r\n\tat org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\r\n\tat org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.execute(BuildTreeLifecycleBuildActionExecutor.java:65)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:61)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:57)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor.execute(RunAsBuildOperationBuildActionExecutor.java:57)\r\n\tat org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.lambda$execute$0(RunAsWorkerThreadBuildActionExecutor.java:36)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:249)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:109)\r\n\tat org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.execute(RunAsWorkerThreadBuildActionExecutor.java:36)\r\n\tat org.gradle.tooling.internal.provider.continuous.ContinuousBuildActionExecutor.execute(ContinuousBuildActionExecutor.java:110)\r\n\tat org.gradle.tooling.internal.provider.SubscribableBuildActionExecutor.execute(SubscribableBuildActionExecutor.java:64)\r\n\tat org.gradle.internal.session.DefaultBuildSessionContext.execute(DefaultBuildSessionContext.java:46)\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:100)\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:88)\r\n\tat org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:69)\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:62)\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:41)\r\n\tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:63)\r\n\tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\r\n\tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:52)\r\n\tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:40)\r\n\tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\r\n\tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\r\n\tat org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\r\n\tat org.gradle.util.internal.Swapper.swap(Swapper.java:38)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\r\n\tat org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\nCaused by: org.gradle.api.UnknownTaskException: Task with name &#39;bootRunMainClassName&#39; not found in project &#39;:nc-application:nc-application-web-plugin:nc-application-runtime&#39;.\r\n\tat org.gradle.api.internal.tasks.DefaultTaskCollection.createNotFoundException(DefaultTaskCollection.java:102)\r\n\tat org.gradle.api.internal.tasks.DefaultTaskCollection.createNotFoundException(DefaultTaskCollection.java:46)\r\n\tat org.gradle.api.internal.DefaultNamedDomainObjectCollection.named(DefaultNamedDomainObjectCollection.java:360)\r\n\tat org.gradle.api.internal.tasks.DefaultTaskCollection.named(DefaultTaskCollection.java:112)\r\n\tat org.springdoc.openapi.gradle.plugin.OpenApiGradlePlugin$apply$1.execute(OpenApiGradlePlugin.kt:26)\r\n\tat org.springdoc.openapi.gradle.plugin.OpenApiGradlePlugin$apply$1.execute(OpenApiGradlePlugin.kt:11)\r\n\tat org.gradle.configuration.internal.DefaultUserCodeApplicationContext$CurrentApplication$1.execute(DefaultUserCodeApplicationContext.java:123)\r\n\tat org.gradle.configuration.internal.DefaultListenerBuildOperationDecorator$BuildOperationEmittingAction$1.run(DefaultListenerBuildOperationDecorator.java:171)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n```\r\n\r\n\r\n\r\nGradle is configured in the following files : \r\n\r\nbuild.gradle(nc-template-service)\r\n\r\n\r\n```\r\nplugins {\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n    id &#39;info.solidsoft.pitest&#39; version &#39;1.9.0&#39;\r\n    id &#39;com.github.ksoichiro.console.reporter&#39; version &#39;0.6.3&#39; apply true\r\n    id &#39;com.avast.gradle.docker-compose&#39; version &#39;0.16.9&#39;\r\n}\r\n\r\ndef coloredStatus = { def resultType -&gt;\r\n    String ansiReset = &quot;\\u001B[0m&quot;\r\n    String ansiGreen = &quot;\\u001B[32m&quot;\r\n    String ansiRed = &quot;\\u001B[31m&quot;\r\n    String ansiYellow = &quot;\\u001B[33m&quot;\r\n    def status\r\n    switch (resultType) {\r\n        case TestResult.ResultType.SUCCESS:\r\n            status = &quot;$ansiGreen $resultType $ansiReset&quot;\r\n            break\r\n        case TestResult.ResultType.FAILURE:\r\n            status = &quot;$ansiRed $resultType $ansiRed&quot;\r\n            break\r\n        default:\r\n            // TestResult.ResultType.SKIPPED\r\n            status = &quot;$ansiYellow $resultType $ansiReset&quot;\r\n            break\r\n    }\r\n    return status\r\n}\r\n\r\nsubprojects {\r\n    ext {\r\n        bootVersion = &#39;3.0.3&#39;\r\n        spockVersion = &#39;2.1-groovy-3.0&#39;\r\n        springDepManagementVersion = &#39;1.0.11.RELEASE&#39;\r\n        group = &#39;tech.company&#39;\r\n        gatlingVersion = &#39;3.7.6&#39;\r\n        openApiVersion = &#39;1.6.9&#39;\r\n        springCloudVersion = &#39;2021.0.3&#39;\r\n        groovyVersion = &#39;4.0.1&#39;\r\n        kafkaVersion = &#39;2.8.8&#39;\r\n    }\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n\r\n    apply plugin: &quot;java&quot;\r\n    apply plugin: &quot;groovy&quot;\r\n    apply plugin: &quot;io.spring.dependency-management&quot;\r\n\r\n    apply from: rootProject.file(&#39;gradle/checkstyle.gradle&#39;)\r\n    apply from: rootProject.file(&#39;gradle/codenarc.gradle&#39;)\r\n    if (project.name.endsWith(&quot;runtime&quot;)) {\r\n        apply from: rootDir.absolutePath + &quot;/gradle/jacoco.gradle&quot;\r\n        apply from: rootDir.absolutePath + &quot;/gradle/pitest.gradle&quot;\r\n\r\n        // Jacoco external task dependencies config\r\n        test.finalizedBy jacocoTestReport, reportCoverage\r\n        jacocoTestReport.finalizedBy reportCoverage\r\n    }\r\n\r\n    sourceCompatibility = JavaVersion.VERSION_17\r\n    targetCompatibility = JavaVersion.VERSION_17\r\n\r\n    compileTestGroovy {\r\n        groovyClasspath = configurations.testCompileClasspath\r\n    }\r\n\r\n    dependencies {\r\n        implementation &quot;org.springframework.boot:spring-boot-starter-web:${bootVersion}&quot;\r\n        implementation &quot;org.springframework.boot:spring-boot-starter-validation:${bootVersion}&quot;\r\n        //    Swagger - Documentation\r\n        implementation &quot;org.springdoc:springdoc-openapi-ui:${openApiVersion}&quot;\r\n        implementation &quot;org.springframework.kafka:spring-kafka:${kafkaVersion}&quot;\r\n        //Upgrade to Spring Boot 3\r\n//        runtimeOnly(&quot;org.springframework.boot:spring-boot-properties-migrator&quot;)\r\n    }\r\n\r\n    //Setup dependencies for build\r\n    build.dependsOn checkstyleMain, checkstyleTest\r\n\r\n    tasks.withType(Test) {\r\n        useJUnitPlatform()\r\n        // Failfast on first failure by using -PfailFast=&#39;true&#39;\r\n        failFast = project.hasProperty(&#39;failFast&#39;) &amp;&amp; project.property(&#39;failFast&#39;) == &#39;true&#39;\r\n        testLogging {\r\n            afterSuite { desc, result -&gt;\r\n                if (desc.className) {\r\n                    String className = desc.className.split(&#39;\\\\.&#39;)[-1]\r\n                    String passedTests = &quot;${result.successfulTestCount}/${result.testCount}&quot;\r\n                    def duration = result.endTime - result.startTime\r\n                    logger.quiet &quot;[${className}]: ${passedTests} passed - ${duration}ms \\t [${coloredStatus(result.resultType)}]&quot;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n\r\napply from: rootProject.file(&#39;gradle/infra.gradle&#39;)\r\n\r\n\r\n```\r\n\r\n\r\nbuild.gradle(:nc-application:nc-application-web-plugin:nc-application-runtime)\r\n\r\n```\r\nbuildscript {\r\n    repositories {\r\n        mavenLocal()\r\n    }\r\n    dependencies {\r\n        classpath group: &#39;tech.company.gradle&#39;, name: &#39;nc-json-schema-generator-gradle-plugin&#39;, version: &#39;1.0.4&#39;\r\n    }\r\n}\r\n\r\nplugins {\r\n    id &#39;org.springframework.boot&#39; version &quot;${bootVersion}&quot;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n    id &#39;org.springdoc.openapi-gradle-plugin&#39; version &#39;1.3.4&#39;\r\n    id &#39;tech.company.json.schema&#39; version &#39;1.0.4&#39;\r\n}\r\n\r\n\r\ngroup = &#39;tech.company&#39;\r\nversion = &#39;1.0.0&#39;\r\n\r\n\r\nconfigurations {\r\n    compileOnly {\r\n        extendsFrom annotationProcessor\r\n    }\r\n}\r\n\r\ndependencyManagement {\r\n    imports {\r\n        mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\r\n    }\r\n}\r\ndependencies {\r\n    //TODO: IMPORT ALL CHILD PROJECTS/PLUGINS HERE\r\n    implementation project(&#39;:nc-application:nc-application-web-plugin:nc-application-api&#39;)\r\n    implementation project(&#39;:nc-application:nc-separate-plugin:nc-separate-plugin-runtime&#39;)\r\n\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-mail&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-oauth2-resource-server&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-quartz&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-redis&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-cache&#39;\r\n\r\n    implementation &#39;org.keycloak:keycloak-spring-boot-starter:16.1.0&#39;\r\n    implementation &#39;org.keycloak:keycloak-adapter-core:16.1.0&#39;\r\n    implementation &#39;io.lettuce:lettuce-core:6.2.0.RELEASE&#39;\r\n    implementation &#39;redis.clients:jedis&#39;\r\n    implementation &#39;org.springframework.cloud:spring-cloud-starter-sleuth&#39;\r\n\timplementation &#39;org.flywaydb:flyway-core&#39;\r\n\r\n    implementation &#39;com.trendyol:Jdempotent-core:1.1.0&#39;\r\n\r\n    compileOnly &#39;org.projectlombok:lombok&#39;\r\n\tdevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n\r\n    // https://mvnrepository.com/artifact/io.swagger.core.v3/swagger-annotations\r\n    compileOnly &#39;io.swagger.core.v3:swagger-annotations:2.2.0&#39;\r\n\r\n\r\n    //Database\r\n    runtimeOnly &#39;com.h2database:h2&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    runtimeOnly &#39;org.postgresql:postgresql&#39;\r\n\r\n\r\n    annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    testImplementation &#39;org.springframework.security:spring-security-test&#39;\r\n\r\n    testImplementation &quot;org.spockframework:spock-core:${spockVersion}&quot;\r\n    testImplementation &quot;org.spockframework:spock-spring:${spockVersion}&quot;\r\n\r\n    runtimeOnly(&quot;org.springframework.boot:spring-boot-properties-migrator&quot;)\r\n}\r\n\r\njsonSchema {\r\n    compileClasspath = sourceSets.main.compileClasspath\r\n    println sourceSets.main.compileClasspath\r\n    pretty true\r\n\r\n    include &quot;tech/company/**/messages/**.class&quot;\r\n}\r\n\r\nspringBoot {\r\n    mainClass = &#39;tech.company.template.application.core.TemplateCoreApplication&#39;\r\n}\r\n\r\n//bootRunMainClassName = &#39;tech.company.template.application.core.TemplateCoreApplication&#39;\r\n\r\ntasks.named(&#39;bootJar&#39;) {\r\n//    mainClass = &#39;tech.company.template.application.core.TemplateCoreApplication&#39;\r\n    archiveFileName = &quot;application.jar&quot;\r\n}\r\n\r\n/*tasks.named(&#39;bootRun&#39;) {\r\n    mainClass = &#39;tech.company.template.application.core.TemplateCoreApplication&#39;\r\n}*/\r\n\r\n\r\n```\r\n\r\n","title":"Problem occurred when upgrading Spring Boot to 3.0.3 from 2.7.8","body":"<p>Tried to upgrade to Spring Boot 3.0.3 from 2.7.8 and when i press &quot;Load Gradle Changes&quot; got this error :</p>\n<p>A problem occurred configuring project ':nc-application:nc-application-web-plugin:nc-application-runtime'.</p>\n<blockquote>\n<p>Task with name 'bootRunMainClassName' not found in project ':nc-application:nc-application-web-plugin:nc-application-runtime'.</p>\n</blockquote>\n<ul>\n<li>Try:</li>\n</ul>\n<blockquote>\n<p>Run with --info or --debug option to get more log output.\nRun with --scan to get full insights.</p>\n</blockquote>\n<p>Exception is:</p>\n<pre><code>org.gradle.api.ProjectConfigurationException: A problem occurred configuring project ':nc-application:nc-application-web-plugin:nc-application-runtime'.\n    at org.gradle.configuration.project.LifecycleProjectEvaluator.wrapException(LifecycleProjectEvaluator.java:84)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator.addConfigurationFailure(LifecycleProjectEvaluator.java:77)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator.access$400(LifecycleProjectEvaluator.java:55)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator$NotifyAfterEvaluate.run(LifecycleProjectEvaluator.java:255)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.lambda$run$0(LifecycleProjectEvaluator.java:114)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:351)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$fromMutableState$1(DefaultProjectStateRegistry.java:374)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withReplacedLocks(DefaultWorkerLeaseService.java:345)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:374)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:350)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.run(LifecycleProjectEvaluator.java:100)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:72)\n    at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:761)\n    at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:152)\n    at org.gradle.api.internal.project.ProjectLifecycleController.lambda$ensureSelfConfigured$1(ProjectLifecycleController.java:63)\n    at org.gradle.internal.model.StateTransitionController.lambda$doTransition$12(StateTransitionController.java:236)\n    at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:247)\n    at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:235)\n    at org.gradle.internal.model.StateTransitionController.lambda$maybeTransitionIfNotCurrentlyTransitioning$9(StateTransitionController.java:196)\n    at org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:34)\n    at org.gradle.internal.model.StateTransitionController.maybeTransitionIfNotCurrentlyTransitioning(StateTransitionController.java:192)\n    at org.gradle.api.internal.project.ProjectLifecycleController.ensureSelfConfigured(ProjectLifecycleController.java:63)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.ensureConfigured(DefaultProjectStateRegistry.java:325)\n    at org.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:33)\n    at org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:49)\n    at org.gradle.configuration.DefaultProjectsPreparer.prepareProjects(DefaultProjectsPreparer.java:50)\n    at org.gradle.configuration.BuildTreePreparingProjectsPreparer.prepareProjects(BuildTreePreparingProjectsPreparer.java:64)\n    at org.gradle.configuration.BuildOperationFiringProjectsPreparer$ConfigureBuild.run(BuildOperationFiringProjectsPreparer.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n    at org.gradle.configuration.BuildOperationFiringProjectsPreparer.prepareProjects(BuildOperationFiringProjectsPreparer.java:40)\n    at org.gradle.initialization.VintageBuildModelController.lambda$prepareProjects$3(VintageBuildModelController.java:89)\n    at org.gradle.internal.model.StateTransitionController.lambda$doTransition$12(StateTransitionController.java:236)\n    at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:247)\n    at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:235)\n    at org.gradle.internal.model.StateTransitionController.lambda$transitionIfNotPreviously$10(StateTransitionController.java:210)\n    at org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:34)\n    at org.gradle.internal.model.StateTransitionController.transitionIfNotPreviously(StateTransitionController.java:206)\n    at org.gradle.initialization.VintageBuildModelController.prepareProjects(VintageBuildModelController.java:89)\n    at org.gradle.initialization.VintageBuildModelController.getConfiguredModel(VintageBuildModelController.java:64)\n    at org.gradle.internal.build.DefaultBuildLifecycleController.lambda$withProjectsConfigured$1(DefaultBuildLifecycleController.java:114)\n    at org.gradle.internal.model.StateTransitionController.lambda$notInState$3(StateTransitionController.java:143)\n    at org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\n    at org.gradle.internal.model.StateTransitionController.notInState(StateTransitionController.java:139)\n    at org.gradle.internal.build.DefaultBuildLifecycleController.withProjectsConfigured(DefaultBuildLifecycleController.java:114)\n    at org.gradle.internal.build.DefaultBuildToolingModelController.locateBuilderForTarget(DefaultBuildToolingModelController.java:57)\n    at org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.lambda$locateBuilderForTarget$0(DefaultBuildTreeModelCreator.java:73)\n    at org.gradle.internal.build.DefaultBuildLifecycleController.withToolingModels(DefaultBuildLifecycleController.java:174)\n    at org.gradle.internal.build.AbstractBuildState.withToolingModels(AbstractBuildState.java:118)\n    at org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.locateBuilderForTarget(DefaultBuildTreeModelCreator.java:73)\n    at org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.locateBuilderForDefaultTarget(DefaultBuildTreeModelCreator.java:68)\n    at org.gradle.tooling.internal.provider.runner.DefaultBuildController.getTarget(DefaultBuildController.java:157)\n    at org.gradle.tooling.internal.provider.runner.DefaultBuildController.getModel(DefaultBuildController.java:101)\n    at org.gradle.tooling.internal.consumer.connection.ParameterAwareBuildControllerAdapter.getModel(ParameterAwareBuildControllerAdapter.java:39)\n    at org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.getModel(UnparameterizedBuildController.java:113)\n    at org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.getModel(NestedActionAwareBuildControllerAdapter.java:31)\n    at org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:97)\n    at org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\n    at org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:81)\n    at org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\n    at org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:66)\n    at org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\n    at org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:126)\n    at org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:42)\n    at org.gradle.tooling.internal.consumer.connection.InternalBuildActionAdapter.execute(InternalBuildActionAdapter.java:64)\n    at org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.runAction(AbstractClientProvidedBuildActionRunner.java:131)\n    at org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.beforeTasks(AbstractClientProvidedBuildActionRunner.java:99)\n    at org.gradle.internal.buildtree.DefaultBuildTreeModelCreator.beforeTasks(DefaultBuildTreeModelCreator.java:52)\n    at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$fromBuildModel$1(DefaultBuildTreeLifecycleController.java:75)\n    at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$runBuild$4(DefaultBuildTreeLifecycleController.java:106)\n    at org.gradle.internal.model.StateTransitionController.lambda$transition$5(StateTransitionController.java:166)\n    at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:247)\n    at org.gradle.internal.model.StateTransitionController.lambda$transition$6(StateTransitionController.java:166)\n    at org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\n    at org.gradle.internal.model.StateTransitionController.transition(StateTransitionController.java:166)\n    at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.runBuild(DefaultBuildTreeLifecycleController.java:103)\n    at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.fromBuildModel(DefaultBuildTreeLifecycleController.java:74)\n    at org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner.runClientAction(AbstractClientProvidedBuildActionRunner.java:43)\n    at org.gradle.tooling.internal.provider.runner.ClientProvidedPhasedActionRunner.run(ClientProvidedPhasedActionRunner.java:53)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.internal.buildtree.ProblemReportingBuildActionRunner.run(ProblemReportingBuildActionRunner.java:49)\n    at org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:65)\n    at org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:136)\n    at org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\n    at org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.lambda$execute$0(RootBuildLifecycleBuildActionExecutor.java:40)\n    at org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:122)\n    at org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.execute(RootBuildLifecycleBuildActionExecutor.java:40)\n    at org.gradle.internal.buildtree.DefaultBuildTreeContext.execute(DefaultBuildTreeContext.java:40)\n    at org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.lambda$execute$0(BuildTreeLifecycleBuildActionExecutor.java:65)\n    at org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\n    at org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.execute(BuildTreeLifecycleBuildActionExecutor.java:65)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:61)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:57)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor.execute(RunAsBuildOperationBuildActionExecutor.java:57)\n    at org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.lambda$execute$0(RunAsWorkerThreadBuildActionExecutor.java:36)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:249)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:109)\n    at org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.execute(RunAsWorkerThreadBuildActionExecutor.java:36)\n    at org.gradle.tooling.internal.provider.continuous.ContinuousBuildActionExecutor.execute(ContinuousBuildActionExecutor.java:110)\n    at org.gradle.tooling.internal.provider.SubscribableBuildActionExecutor.execute(SubscribableBuildActionExecutor.java:64)\n    at org.gradle.internal.session.DefaultBuildSessionContext.execute(DefaultBuildSessionContext.java:46)\n    at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:100)\n    at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:88)\n    at org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:69)\n    at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:62)\n    at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:41)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:63)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:52)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:40)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\n    at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\n    at org.gradle.util.internal.Swapper.swap(Swapper.java:38)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\n    at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\nCaused by: org.gradle.api.UnknownTaskException: Task with name 'bootRunMainClassName' not found in project ':nc-application:nc-application-web-plugin:nc-application-runtime'.\n    at org.gradle.api.internal.tasks.DefaultTaskCollection.createNotFoundException(DefaultTaskCollection.java:102)\n    at org.gradle.api.internal.tasks.DefaultTaskCollection.createNotFoundException(DefaultTaskCollection.java:46)\n    at org.gradle.api.internal.DefaultNamedDomainObjectCollection.named(DefaultNamedDomainObjectCollection.java:360)\n    at org.gradle.api.internal.tasks.DefaultTaskCollection.named(DefaultTaskCollection.java:112)\n    at org.springdoc.openapi.gradle.plugin.OpenApiGradlePlugin$apply$1.execute(OpenApiGradlePlugin.kt:26)\n    at org.springdoc.openapi.gradle.plugin.OpenApiGradlePlugin$apply$1.execute(OpenApiGradlePlugin.kt:11)\n    at org.gradle.configuration.internal.DefaultUserCodeApplicationContext$CurrentApplication$1.execute(DefaultUserCodeApplicationContext.java:123)\n    at org.gradle.configuration.internal.DefaultListenerBuildOperationDecorator$BuildOperationEmittingAction$1.run(DefaultListenerBuildOperationDecorator.java:171)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n</code></pre>\n<p>Gradle is configured in the following files :</p>\n<p>build.gradle(nc-template-service)</p>\n<pre><code>plugins {\n    id 'io.spring.dependency-management' version '1.1.0'\n    id 'info.solidsoft.pitest' version '1.9.0'\n    id 'com.github.ksoichiro.console.reporter' version '0.6.3' apply true\n    id 'com.avast.gradle.docker-compose' version '0.16.9'\n}\n\ndef coloredStatus = { def resultType -&gt;\n    String ansiReset = &quot;\\u001B[0m&quot;\n    String ansiGreen = &quot;\\u001B[32m&quot;\n    String ansiRed = &quot;\\u001B[31m&quot;\n    String ansiYellow = &quot;\\u001B[33m&quot;\n    def status\n    switch (resultType) {\n        case TestResult.ResultType.SUCCESS:\n            status = &quot;$ansiGreen $resultType $ansiReset&quot;\n            break\n        case TestResult.ResultType.FAILURE:\n            status = &quot;$ansiRed $resultType $ansiRed&quot;\n            break\n        default:\n            // TestResult.ResultType.SKIPPED\n            status = &quot;$ansiYellow $resultType $ansiReset&quot;\n            break\n    }\n    return status\n}\n\nsubprojects {\n    ext {\n        bootVersion = '3.0.3'\n        spockVersion = '2.1-groovy-3.0'\n        springDepManagementVersion = '1.0.11.RELEASE'\n        group = 'tech.company'\n        gatlingVersion = '3.7.6'\n        openApiVersion = '1.6.9'\n        springCloudVersion = '2021.0.3'\n        groovyVersion = '4.0.1'\n        kafkaVersion = '2.8.8'\n    }\n    repositories {\n        mavenCentral()\n    }\n\n    apply plugin: &quot;java&quot;\n    apply plugin: &quot;groovy&quot;\n    apply plugin: &quot;io.spring.dependency-management&quot;\n\n    apply from: rootProject.file('gradle/checkstyle.gradle')\n    apply from: rootProject.file('gradle/codenarc.gradle')\n    if (project.name.endsWith(&quot;runtime&quot;)) {\n        apply from: rootDir.absolutePath + &quot;/gradle/jacoco.gradle&quot;\n        apply from: rootDir.absolutePath + &quot;/gradle/pitest.gradle&quot;\n\n        // Jacoco external task dependencies config\n        test.finalizedBy jacocoTestReport, reportCoverage\n        jacocoTestReport.finalizedBy reportCoverage\n    }\n\n    sourceCompatibility = JavaVersion.VERSION_17\n    targetCompatibility = JavaVersion.VERSION_17\n\n    compileTestGroovy {\n        groovyClasspath = configurations.testCompileClasspath\n    }\n\n    dependencies {\n        implementation &quot;org.springframework.boot:spring-boot-starter-web:${bootVersion}&quot;\n        implementation &quot;org.springframework.boot:spring-boot-starter-validation:${bootVersion}&quot;\n        //    Swagger - Documentation\n        implementation &quot;org.springdoc:springdoc-openapi-ui:${openApiVersion}&quot;\n        implementation &quot;org.springframework.kafka:spring-kafka:${kafkaVersion}&quot;\n        //Upgrade to Spring Boot 3\n//        runtimeOnly(&quot;org.springframework.boot:spring-boot-properties-migrator&quot;)\n    }\n\n    //Setup dependencies for build\n    build.dependsOn checkstyleMain, checkstyleTest\n\n    tasks.withType(Test) {\n        useJUnitPlatform()\n        // Failfast on first failure by using -PfailFast='true'\n        failFast = project.hasProperty('failFast') &amp;&amp; project.property('failFast') == 'true'\n        testLogging {\n            afterSuite { desc, result -&gt;\n                if (desc.className) {\n                    String className = desc.className.split('\\\\.')[-1]\n                    String passedTests = &quot;${result.successfulTestCount}/${result.testCount}&quot;\n                    def duration = result.endTime - result.startTime\n                    logger.quiet &quot;[${className}]: ${passedTests} passed - ${duration}ms \\t [${coloredStatus(result.resultType)}]&quot;\n                }\n            }\n        }\n    }\n\n}\n\napply from: rootProject.file('gradle/infra.gradle')\n\n\n</code></pre>\n<p>build.gradle(:nc-application:nc-application-web-plugin:nc-application-runtime)</p>\n<pre><code>buildscript {\n    repositories {\n        mavenLocal()\n    }\n    dependencies {\n        classpath group: 'tech.company.gradle', name: 'nc-json-schema-generator-gradle-plugin', version: '1.0.4'\n    }\n}\n\nplugins {\n    id 'org.springframework.boot' version &quot;${bootVersion}&quot;\n    id 'io.spring.dependency-management' version '1.1.0'\n    id 'org.springdoc.openapi-gradle-plugin' version '1.3.4'\n    id 'tech.company.json.schema' version '1.0.4'\n}\n\n\ngroup = 'tech.company'\nversion = '1.0.0'\n\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\ndependencyManagement {\n    imports {\n        mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\n    }\n}\ndependencies {\n    //TODO: IMPORT ALL CHILD PROJECTS/PLUGINS HERE\n    implementation project(':nc-application:nc-application-web-plugin:nc-application-api')\n    implementation project(':nc-application:nc-separate-plugin:nc-separate-plugin-runtime')\n\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n\n    implementation 'org.springframework.boot:spring-boot-starter-mail'\n    implementation 'org.springframework.boot:spring-boot-starter-oauth2-resource-server'\n    implementation 'org.springframework.boot:spring-boot-starter-quartz'\n    implementation 'org.springframework.boot:spring-boot-starter-security'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-data-redis'\n    implementation 'org.springframework.boot:spring-boot-starter-cache'\n\n    implementation 'org.keycloak:keycloak-spring-boot-starter:16.1.0'\n    implementation 'org.keycloak:keycloak-adapter-core:16.1.0'\n    implementation 'io.lettuce:lettuce-core:6.2.0.RELEASE'\n    implementation 'redis.clients:jedis'\n    implementation 'org.springframework.cloud:spring-cloud-starter-sleuth'\n    implementation 'org.flywaydb:flyway-core'\n\n    implementation 'com.trendyol:Jdempotent-core:1.1.0'\n\n    compileOnly 'org.projectlombok:lombok'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n\n    // https://mvnrepository.com/artifact/io.swagger.core.v3/swagger-annotations\n    compileOnly 'io.swagger.core.v3:swagger-annotations:2.2.0'\n\n\n    //Database\n    runtimeOnly 'com.h2database:h2'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    runtimeOnly 'org.postgresql:postgresql'\n\n\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'org.springframework.security:spring-security-test'\n\n    testImplementation &quot;org.spockframework:spock-core:${spockVersion}&quot;\n    testImplementation &quot;org.spockframework:spock-spring:${spockVersion}&quot;\n\n    runtimeOnly(&quot;org.springframework.boot:spring-boot-properties-migrator&quot;)\n}\n\njsonSchema {\n    compileClasspath = sourceSets.main.compileClasspath\n    println sourceSets.main.compileClasspath\n    pretty true\n\n    include &quot;tech/company/**/messages/**.class&quot;\n}\n\nspringBoot {\n    mainClass = 'tech.company.template.application.core.TemplateCoreApplication'\n}\n\n//bootRunMainClassName = 'tech.company.template.application.core.TemplateCoreApplication'\n\ntasks.named('bootJar') {\n//    mainClass = 'tech.company.template.application.core.TemplateCoreApplication'\n    archiveFileName = &quot;application.jar&quot;\n}\n\n/*tasks.named('bootRun') {\n    mainClass = 'tech.company.template.application.core.TemplateCoreApplication'\n}*/\n\n\n</code></pre>\n"},{"tags":["java","spring-boot","spring-cloud-dataflow"],"answers":[{"tags":[],"owner":{"account_id":7738253,"reputation":291,"user_id":5859097,"display_name":"Glenn Renfro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678117497,"creation_date":1678117497,"answer_id":75652907,"question_id":75629196,"body_markdown":"@adesai Thank you for question.\r\nIn the scenario that you present, this Composed Task Runner launch is considered successful since it had an option to take if `Task-b` &quot;Failed&quot; namely to launch `Task-d`.  Thus it can&#39;t be restarted, since it was successful.\r\nOne option is to suggest adding a feature to composed task runner that would allow you to specify a comma delimited list of tasks that it should skip.  Something like `composed-task-runner.skip-steps=task-a`.\r\nYou could open an issue on data flow for this, if this feature would be useful.   ","title":"Spring Cloud Data Flow - relaunch/retry Composed Task from the middle","body":"<p>@adesai Thank you for question.\nIn the scenario that you present, this Composed Task Runner launch is considered successful since it had an option to take if <code>Task-b</code> &quot;Failed&quot; namely to launch <code>Task-d</code>.  Thus it can't be restarted, since it was successful.\nOne option is to suggest adding a feature to composed task runner that would allow you to specify a comma delimited list of tasks that it should skip.  Something like <code>composed-task-runner.skip-steps=task-a</code>.\nYou could open an issue on data flow for this, if this feature would be useful.</p>\n"}],"owner":{"account_id":7860912,"reputation":400,"user_id":5941365,"display_name":"adesai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678117497,"creation_date":1677858496,"question_id":75629196,"body_markdown":"I have a Composed Task in Spring Cloud Data Flow server as below:\r\n [![enter image description here][1]][1]\r\n\r\nIf `task-b` produces the exit message as `FAIL` then it will execute `task-d` and end the flow.\r\nI would like to retry this job/composed-task from `task-b` again once the issue was fixed so that it can follow the next path to `task-c`. There is some large processing done as a part of `task-a` and I want to avoid repeating this task again.\r\n\r\nWhen I try to launch the `task-b` from &#39;Task execution&#39; tab, it only ran `task-b` and then stopped.\r\nFrom &#39;Job executions&#39; section, I cannot see any option to retry the job/composed-task from `task-b`.\r\n\r\nHow can I implement this?\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HgMyM.png","title":"Spring Cloud Data Flow - relaunch/retry Composed Task from the middle","body":"<p>I have a Composed Task in Spring Cloud Data Flow server as below:\n<a href=\"https://i.stack.imgur.com/HgMyM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HgMyM.png\" alt=\"enter image description here\" /></a></p>\n<p>If <code>task-b</code> produces the exit message as <code>FAIL</code> then it will execute <code>task-d</code> and end the flow.\nI would like to retry this job/composed-task from <code>task-b</code> again once the issue was fixed so that it can follow the next path to <code>task-c</code>. There is some large processing done as a part of <code>task-a</code> and I want to avoid repeating this task again.</p>\n<p>When I try to launch the <code>task-b</code> from 'Task execution' tab, it only ran <code>task-b</code> and then stopped.\nFrom 'Job executions' section, I cannot see any option to retry the job/composed-task from <code>task-b</code>.</p>\n<p>How can I implement this?</p>\n"},{"tags":["java","spring","postgresql","jdbc"],"comments":[{"owner":{"account_id":8633322,"reputation":218343,"user_id":6464308,"display_name":"Laurenz Albe"},"score":0,"creation_date":1468822222,"post_id":38427407,"comment_id":64265490,"body_markdown":"Please set `log_connections=on` in `postgresql.conf`, reload with `pg_ctl reload`, try again and post the message from the PostgreSQL server log.","body":"Please set <code>log_connections=on</code> in <code>postgresql.conf</code>, reload with <code>pg_ctl reload</code>, try again and post the message from the PostgreSQL server log."},{"owner":{"account_id":6663708,"reputation":353,"user_id":5141939,"accept_rate":0,"display_name":"Sarronya"},"score":0,"creation_date":1469664973,"post_id":38427407,"comment_id":64635725,"body_markdown":"I made the changes as suggested, set log_connections=on in postgresql.conf and executed the query SELECT pg_reload_conf(); which returned t. When i tried to connect from my application, the issue still exists. Any suggestions to make this work please?","body":"I made the changes as suggested, set log_connections=on in postgresql.conf and executed the query SELECT pg_reload_conf(); which returned t. When i tried to connect from my application, the issue still exists. Any suggestions to make this work please?"},{"owner":{"account_id":8633322,"reputation":218343,"user_id":6464308,"display_name":"Laurenz Albe"},"score":0,"creation_date":1469774382,"post_id":38427407,"comment_id":64685893,"body_markdown":"Please post the message that the failed connection attempt produced in the PostgreSQL server log as I suggested.","body":"Please post the message that the failed connection attempt produced in the PostgreSQL server log as I suggested."},{"owner":{"account_id":6663708,"reputation":353,"user_id":5141939,"accept_rate":0,"display_name":"Sarronya"},"score":0,"creation_date":1470196565,"post_id":38427407,"comment_id":64843848,"body_markdown":"I see the console printing the above logs posted in the query, did u mean something else?","body":"I see the console printing the above logs posted in the query, did u mean something else?"},{"owner":{"account_id":8633322,"reputation":218343,"user_id":6464308,"display_name":"Laurenz Albe"},"score":0,"creation_date":1470208908,"post_id":38427407,"comment_id":64848816,"body_markdown":"Yes, I mean the [PostgreSQL server log](https://www.postgresql.org/docs/current/static/runtime-config-logging.html) and *not* the JVM output.","body":"Yes, I mean the <a href=\"https://www.postgresql.org/docs/current/static/runtime-config-logging.html\" rel=\"nofollow noreferrer\">PostgreSQL server log</a> and <i>not</i> the JVM output."},{"owner":{"account_id":6663708,"reputation":353,"user_id":5141939,"accept_rate":0,"display_name":"Sarronya"},"score":0,"creation_date":1470216885,"post_id":38427407,"comment_id":64853885,"body_markdown":"Sorry, please could u guide me as for how to enable postgres server logs and print them","body":"Sorry, please could u guide me as for how to enable postgres server logs and print them"},{"owner":{"account_id":8633322,"reputation":218343,"user_id":6464308,"display_name":"Laurenz Albe"},"score":0,"creation_date":1470218847,"post_id":38427407,"comment_id":64855115,"body_markdown":"Read the link in my above comment...","body":"Read the link in my above comment..."},{"owner":{"account_id":6663708,"reputation":353,"user_id":5141939,"accept_rate":0,"display_name":"Sarronya"},"score":0,"creation_date":1470241644,"post_id":38427407,"comment_id":64871852,"body_markdown":"I have set log_connections=on in postgresql.conf, I am not sure on how to do the reload pg_ctl...","body":"I have set log_connections=on in postgresql.conf, I am not sure on how to do the reload pg_ctl..."},{"owner":{"account_id":8633322,"reputation":218343,"user_id":6464308,"display_name":"Laurenz Albe"},"score":0,"creation_date":1470312347,"post_id":38427407,"comment_id":64904853,"body_markdown":"Log into the database server as PostgreSQL user and run `pg_ctl reload -D &lt;data directory&gt;`.","body":"Log into the database server as PostgreSQL user and run <code>pg_ctl reload -D &lt;data directory&gt;</code>."}],"answers":[{"tags":[],"owner":{"account_id":19835716,"reputation":1,"user_id":14529423,"display_name":"Sub Ash"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1637978720,"creation_date":1637978720,"answer_id":70131566,"question_id":38427407,"body_markdown":"Create a new user under Login section and using that in application.properties, solves this problem.","title":"Caused by: org.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;admin&quot;","body":"<p>Create a new user under Login section and using that in application.properties, solves this problem.</p>\n"},{"tags":[],"owner":{"account_id":2934651,"reputation":1282,"user_id":2513916,"display_name":"Rando Shtishi"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1649838276,"creation_date":1649838276,"answer_id":71854235,"question_id":38427407,"body_markdown":"I think the problem might be that the postgres database is configured to allow the only password that are hashed with md5.\r\n\r\nYou can check if this is true by going to the configuration file ```pg_hba.conf```.\r\nSearch with the following property ```host all all all ``` if you find that the property is configured like below:\r\n\r\n```\r\nhost all all all md5\r\n```\r\n\r\nthan the issue is that you need to hash the password to md5. You can fix this by changing the configuration to:\r\n\r\n - ```trust``` instead of ```md5``` -&gt; will allow user to connect without any password\r\n - ```password``` instead of ```md5``` -&gt; will allow user to connect with plain text password\r\n \r\n\r\n","title":"Caused by: org.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;admin&quot;","body":"<p>I think the problem might be that the postgres database is configured to allow the only password that are hashed with md5.</p>\n<p>You can check if this is true by going to the configuration file <code>pg_hba.conf</code>.\nSearch with the following property <code>host all all all </code> if you find that the property is configured like below:</p>\n<pre><code>host all all all md5\n</code></pre>\n<p>than the issue is that you need to hash the password to md5. You can fix this by changing the configuration to:</p>\n<ul>\n<li><code>trust</code> instead of <code>md5</code> -&gt; will allow user to connect without any password</li>\n<li><code>password</code> instead of <code>md5</code> -&gt; will allow user to connect with plain text password</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":149142,"reputation":1772,"user_id":361414,"display_name":"Milanka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660206579,"creation_date":1660206579,"answer_id":73317592,"question_id":38427407,"body_markdown":"I had the same problem, although I was running the PostgreSQL server inside a Docker container. I fixed it by using a different port mapping (e.g. 0.0.0.0:5433-&gt;5432/tcp).\r\n\r\nSymptoms and debugging:\r\n- The error message was &quot;org.postgresql.util.PSQLException: FATAL: password authentication failed for user xxx&quot;.\r\n- Changing JDBC host, port or username resulted in a different error message.\r\n- PgAdmin was able to connect to the database.\r\n- PgAdmin connections were shown in the PostgreSQL log (after enabling connection logging), but nothing was shown when trying to connect with JDBC.\r\n\r\n- `tcpdump port 5432` showed nothing when trying to connect with JDBC, but showed something when connecting with PgAdmin, or when sending random data with netcat.\r\n\r\nIn the end the root cause remained unclear. But obviously it was not a password problem, so the JDBC driver shouldn&#39;t say it is.\r\n\r\nDocker version 20.10.17 running on Windows 10. PostgreSQL driver version was 42.4.1.","title":"Caused by: org.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;admin&quot;","body":"<p>I had the same problem, although I was running the PostgreSQL server inside a Docker container. I fixed it by using a different port mapping (e.g. 0.0.0.0:5433-&gt;5432/tcp).</p>\n<p>Symptoms and debugging:</p>\n<ul>\n<li><p>The error message was &quot;org.postgresql.util.PSQLException: FATAL: password authentication failed for user xxx&quot;.</p>\n</li>\n<li><p>Changing JDBC host, port or username resulted in a different error message.</p>\n</li>\n<li><p>PgAdmin was able to connect to the database.</p>\n</li>\n<li><p>PgAdmin connections were shown in the PostgreSQL log (after enabling connection logging), but nothing was shown when trying to connect with JDBC.</p>\n</li>\n<li><p><code>tcpdump port 5432</code> showed nothing when trying to connect with JDBC, but showed something when connecting with PgAdmin, or when sending random data with netcat.</p>\n</li>\n</ul>\n<p>In the end the root cause remained unclear. But obviously it was not a password problem, so the JDBC driver shouldn't say it is.</p>\n<p>Docker version 20.10.17 running on Windows 10. PostgreSQL driver version was 42.4.1.</p>\n"},{"tags":[],"owner":{"account_id":26536742,"reputation":1,"user_id":20168153,"display_name":"J&#233;ssica Petersen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664982504,"creation_date":1664982504,"answer_id":73962504,"question_id":38427407,"body_markdown":"For me, its worked when i updated the version\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;version&gt;42.5.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;","title":"Caused by: org.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;admin&quot;","body":"<p>For me, its worked when i updated the version</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;version&gt;42.5.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10807011,"reputation":2216,"user_id":15016163,"display_name":"Maicon Mauricio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678117387,"creation_date":1678117387,"answer_id":75652882,"question_id":38427407,"body_markdown":"You might need to **allow an IP or a range of IP addresses** to connect to PostgreSQL.\r\n\r\nIf you are using Docker, for example, the problem might be that you didn&#39;t allow the Docker network for PostgreSQL.\r\n\r\n1. Get the host IP address on the Docker network interface (`ip addr show docker0  | grep &#39;inet&#39;`);\r\n2. Allow your IP addresses to connect to Postgre in `pg_hba.conf`. \r\n\r\n&gt; If you only want to allow an IP address, for instance, either use `/32` at the end of\r\n&gt; the address or write the `255.255.255.255` subnet mask after as shown\r\n&gt; bellow:\r\n&gt; \r\n&gt; \r\n&gt; ```\r\n&gt; host    all     all     172.17.0.1        255.255.255.255     md5\r\n&gt; ```\r\n&gt; \r\n&gt; or\r\n&gt; \r\n&gt; ```\r\n&gt; host    all     all     172.17.0.1/32     md5\r\n&gt; ```\r\n\r\nRead [the PostgreSQL documentation][1] for more information on the structure of the `pg_hba.conf` file.\r\n\r\n  [1]: https://www.postgresql.org/docs/current/auth-pg-hba-conf.html","title":"Caused by: org.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;admin&quot;","body":"<p>You might need to <strong>allow an IP or a range of IP addresses</strong> to connect to PostgreSQL.</p>\n<p>If you are using Docker, for example, the problem might be that you didn't allow the Docker network for PostgreSQL.</p>\n<ol>\n<li>Get the host IP address on the Docker network interface (<code>ip addr show docker0  | grep 'inet'</code>);</li>\n<li>Allow your IP addresses to connect to Postgre in <code>pg_hba.conf</code>.</li>\n</ol>\n<blockquote>\n<p>If you only want to allow an IP address, for instance, either use <code>/32</code> at the end of\nthe address or write the <code>255.255.255.255</code> subnet mask after as shown\nbellow:</p>\n<pre><code>host    all     all     172.17.0.1        255.255.255.255     md5\n</code></pre>\n<p>or</p>\n<pre><code>host    all     all     172.17.0.1/32     md5\n</code></pre>\n</blockquote>\n<p>Read <a href=\"https://www.postgresql.org/docs/current/auth-pg-hba-conf.html\" rel=\"nofollow noreferrer\">the PostgreSQL documentation</a> for more information on the structure of the <code>pg_hba.conf</code> file.</p>\n"}],"owner":{"account_id":6663708,"reputation":353,"user_id":5141939,"accept_rate":0,"display_name":"Sarronya"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55732,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":5,"score":14,"last_activity_date":1678117387,"creation_date":1468804559,"question_id":38427407,"body_markdown":"When I try to connect to my PostgreSQL server using my credentials using (pgadmin iii - postgres sqltool) it works fine. When I try to connect from my java application I get the below logs. It&#39;s weird\r\n\r\n    org.springframework.transaction.CannotCreateTransactionException: Could not open JDBC Connection for transaction; nested exception is org.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;admin&quot;\r\n    \tat org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:240)\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:371)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:335)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:105)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)\r\n    \tat $Proxy8.getCollegeDetails(Unknown Source)\r\n    \tat com.cts.bo.HESBO.registerCourse(HESBO.java:42)\r\n    \tat com.cts.facade.HESFacade.registerCourse(HESFacade.java:34)\r\n    \tat com.cts.manager.HESManager.registerCourse(HESManager.java:34)\r\n    \tat com.cts.presentation.Tester.registerCourse(Tester.java:66)\r\n    \tat com.cts.presentation.Tester.main(Tester.java:159)\r\n    **Caused by: org.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;admin&quot;**\r\n    \tat org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:415)\r\n    \tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:188)\r\n    \tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:64)\r\n    \tat org.postgresql.jdbc2.AbstractJdbc2Connection.&lt;init&gt;(AbstractJdbc2Connection.java:143)\r\n    \tat org.postgresql.jdbc3.AbstractJdbc3Connection.&lt;init&gt;(AbstractJdbc3Connection.java:29)\r\n    \tat org.postgresql.jdbc3g.AbstractJdbc3gConnection.&lt;init&gt;(AbstractJdbc3gConnection.java:21)\r\n    \tat org.postgresql.jdbc3g.Jdbc3gConnection.&lt;init&gt;(Jdbc3gConnection.java:24)\r\n    \tat org.postgresql.Driver.makeConnection(Driver.java:412)\r\n    \tat org.postgresql.Driver.connect(Driver.java:280)\r\n    \tat java.sql.DriverManager.getConnection(Unknown Source)\r\n    \tat java.sql.DriverManager.getConnection(Unknown Source)\r\n    \tat org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:173)\r\n    \tat org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:164)\r\n    \tat org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:149)\r\n    \tat org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:119)\r\n    \tat org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:202)\r\n    \t... 11 more\r\n\r\n\r\n.properties file\r\n\r\n    jdbc.driverClassName=org.postgresql.Driver\r\n    jdbc.url=jdbc:postgresql://localhost:5432/postgres\r\n    \r\n    jdbc.password=admin\r\n    jdbc.username=admin\r\n\r\nspring.xml\r\n\r\n    &lt;bean\r\n    \t\tclass=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt;\r\n    \t\t&lt;property name=&quot;location&quot;&gt;\r\n    \t\t\t&lt;value&gt;com\\cts\\resource\\constant.properties&lt;/value&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    \t\r\n    \t&lt;bean id=&quot;dataSource&quot;\r\n    \t\tclass=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n    \t\t&lt;property name=&quot;driverClassName&quot; value=&quot;${jdbc.driverClassName}&quot; /&gt;\r\n    \t\t&lt;property name=&quot;url&quot; value=&quot;${jdbc.url}&quot; /&gt;\r\n    \t\t&lt;property name=&quot;username&quot; value=&quot;${jdbc.username}&quot; /&gt;\r\n    \t\t&lt;property name=&quot;password&quot; value=&quot;${jdbc.password}&quot; /&gt;\r\n    \t&lt;/bean&gt; \r\n      \r\n    \t&lt;bean id=&quot;transactionManager&quot;\r\n              class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt;\r\n            &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;\r\n        &lt;/bean&gt;\r\n\r\nAny help on this is much appreciated, I am just not able to progress because of this weird error.\r\n","title":"Caused by: org.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;admin&quot;","body":"<p>When I try to connect to my PostgreSQL server using my credentials using (pgadmin iii - postgres sqltool) it works fine. When I try to connect from my java application I get the below logs. It's weird</p>\n\n<pre><code>org.springframework.transaction.CannotCreateTransactionException: Could not open JDBC Connection for transaction; nested exception is org.postgresql.util.PSQLException: FATAL: password authentication failed for user \"admin\"\n    at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:240)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:371)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:335)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:105)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)\n    at $Proxy8.getCollegeDetails(Unknown Source)\n    at com.cts.bo.HESBO.registerCourse(HESBO.java:42)\n    at com.cts.facade.HESFacade.registerCourse(HESFacade.java:34)\n    at com.cts.manager.HESManager.registerCourse(HESManager.java:34)\n    at com.cts.presentation.Tester.registerCourse(Tester.java:66)\n    at com.cts.presentation.Tester.main(Tester.java:159)\n**Caused by: org.postgresql.util.PSQLException: FATAL: password authentication failed for user \"admin\"**\n    at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:415)\n    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:188)\n    at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:64)\n    at org.postgresql.jdbc2.AbstractJdbc2Connection.&lt;init&gt;(AbstractJdbc2Connection.java:143)\n    at org.postgresql.jdbc3.AbstractJdbc3Connection.&lt;init&gt;(AbstractJdbc3Connection.java:29)\n    at org.postgresql.jdbc3g.AbstractJdbc3gConnection.&lt;init&gt;(AbstractJdbc3gConnection.java:21)\n    at org.postgresql.jdbc3g.Jdbc3gConnection.&lt;init&gt;(Jdbc3gConnection.java:24)\n    at org.postgresql.Driver.makeConnection(Driver.java:412)\n    at org.postgresql.Driver.connect(Driver.java:280)\n    at java.sql.DriverManager.getConnection(Unknown Source)\n    at java.sql.DriverManager.getConnection(Unknown Source)\n    at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:173)\n    at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:164)\n    at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:149)\n    at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:119)\n    at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:202)\n    ... 11 more\n</code></pre>\n\n<p>.properties file</p>\n\n<pre><code>jdbc.driverClassName=org.postgresql.Driver\njdbc.url=jdbc:postgresql://localhost:5432/postgres\n\njdbc.password=admin\njdbc.username=admin\n</code></pre>\n\n<p>spring.xml</p>\n\n<pre><code>&lt;bean\n        class=\"org.springframework.beans.factory.config.PropertyPlaceholderConfigurer\"&gt;\n        &lt;property name=\"location\"&gt;\n            &lt;value&gt;com\\cts\\resource\\constant.properties&lt;/value&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"dataSource\"\n        class=\"org.springframework.jdbc.datasource.DriverManagerDataSource\"&gt;\n        &lt;property name=\"driverClassName\" value=\"${jdbc.driverClassName}\" /&gt;\n        &lt;property name=\"url\" value=\"${jdbc.url}\" /&gt;\n        &lt;property name=\"username\" value=\"${jdbc.username}\" /&gt;\n        &lt;property name=\"password\" value=\"${jdbc.password}\" /&gt;\n    &lt;/bean&gt; \n\n    &lt;bean id=\"transactionManager\"\n          class=\"org.springframework.jdbc.datasource.DataSourceTransactionManager\"&gt;\n        &lt;property name=\"dataSource\" ref=\"dataSource\"/&gt;\n    &lt;/bean&gt;\n</code></pre>\n\n<p>Any help on this is much appreciated, I am just not able to progress because of this weird error.</p>\n"},{"tags":["java","spring","spring-boot","h2"],"comments":[{"owner":{"account_id":3985922,"reputation":1804,"user_id":3286487,"accept_rate":77,"display_name":"y.luis.rojo"},"score":0,"creation_date":1521140567,"post_id":39854172,"comment_id":85616742,"body_markdown":"Hi @filemonczyk, were you able to solve this?","body":"Hi @filemonczyk, were you able to solve this?"},{"owner":{"account_id":7128939,"reputation":1633,"user_id":5450916,"accept_rate":73,"display_name":"filemonczyk"},"score":1,"creation_date":1521230533,"post_id":39854172,"comment_id":85659243,"body_markdown":"tbh I dont remember the solution","body":"tbh I dont remember the solution"},{"owner":{"account_id":7020942,"reputation":28614,"user_id":5380322,"accept_rate":62,"display_name":"Cepr0"},"score":0,"creation_date":1521562436,"post_id":39854172,"comment_id":85779788,"body_markdown":"I recommend to use direct connection to your H2 db [right from your IDE](https://stackoverflow.com/a/43276769/5380322)...","body":"I recommend to use direct connection to your H2 db <a href=\"https://stackoverflow.com/a/43276769/5380322\">right from your IDE</a>..."}],"answers":[{"tags":[],"owner":{"account_id":1260695,"reputation":590,"user_id":1219063,"accept_rate":11,"display_name":"Kumar Pallav"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1489736035,"creation_date":1489736035,"answer_id":42851722,"question_id":39854172,"body_markdown":"Use entire String for connection in H2 Console i.e. , You will see only your tables\r\n\r\n&gt; jdbc:h2:~/test;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE;MV_STORE=FALSE;MVCC=FALSE\r\n\r\n\r\n","title":"H2 console error: No suitable driver found for 08001/0","body":"<p>Use entire String for connection in H2 Console i.e. , You will see only your tables</p>\n\n<blockquote>\n  <p>jdbc:h2:~/test;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE;MV_STORE=FALSE;MVCC=FALSE</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3985922,"reputation":1804,"user_id":3286487,"accept_rate":77,"display_name":"y.luis.rojo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1521561711,"creation_date":1521561407,"answer_id":49388796,"question_id":39854172,"body_markdown":"In my case, the problem was that I implemented a custom Filter (see [here][1], [here][2] and [here][3]) and the custom `HttpServletRequestWrapper` needs to take care of the H2 console login request which comes with the form data (including Driver Class input) and parse it as parameters:\r\n\r\n    public class MyHttpServletRequestWrapper extends HttpServletRequestWrapper {\r\n\r\n    private String body;\r\n\r\n    public MyHttpServletRequestWrapper(HttpServletRequest request) {\r\n        super(request);\r\n        this.body = IOUtils.toString(request.getReader());\r\n        //...\r\n    }\r\n\r\n    @Override\r\n    public Enumeration&lt;String&gt; getParameterNames() {\r\n        if (!parsedParams)\r\n            parseParams();\r\n\r\n        List&lt;String&gt; result = Collections.list(super.getParameterNames());\r\n        result.addAll(parameters.keySet());\r\n\r\n        return Collections.enumeration(result);\r\n    }\r\n\r\n    private void parseParams() {\r\n        if (!body.isEmpty()) {\r\n            String[] rps = body.split(&quot;&amp;&quot;);\r\n\r\n            for (String rp : rps) {\r\n                String[] kv = rp.split(&quot;=&quot;);\r\n                try {\r\n                    parameters.put(kv[0], kv.length &gt; 1 ? new String[]{URLDecoder.decode(kv[1], &quot;UTF-8&quot;)} : new String[]{&quot;&quot;});\r\n                } catch (UnsupportedEncodingException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n\r\n            parameters.setLocked(true);\r\n            parsedParams = true;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public Map&lt;String, String[]&gt; getParameterMap() {\r\n        if (!parsedParams)\r\n            parseParams();\r\n\r\n        Map&lt;String, String[]&gt; s = super.getParameterMap();\r\n        return Stream.concat(parameters.entrySet().stream(), s.entrySet().stream()).collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\r\n    }\r\n\r\n    @Override\r\n    public String getParameter(String name) {\r\n        return parameters.get(name) != null ? parameters.get(name)[0] : super.getParameter(name);\r\n    }\r\n\r\n    @Override\r\n    public String[] getParameterValues(String name) {\r\n        String[] s = super.getParameterValues(name);\r\n        return ArrayUtils.addAll(s, parameters.get(name));\r\n    }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/34804205/how-can-i-read-request-body-multiple-times-in-spring-handlermethodargumentresol\r\n  [2]: https://stackoverflow.com/questions/10210645/http-servlet-request-lose-params-from-post-body-after-read-it-once\r\n  [3]: https://stackoverflow.com/questions/4449096/how-to-read-request-getinputstream-multiple-times","title":"H2 console error: No suitable driver found for 08001/0","body":"<p>In my case, the problem was that I implemented a custom Filter (see <a href=\"https://stackoverflow.com/questions/34804205/how-can-i-read-request-body-multiple-times-in-spring-handlermethodargumentresol\">here</a>, <a href=\"https://stackoverflow.com/questions/10210645/http-servlet-request-lose-params-from-post-body-after-read-it-once\">here</a> and <a href=\"https://stackoverflow.com/questions/4449096/how-to-read-request-getinputstream-multiple-times\">here</a>) and the custom <code>HttpServletRequestWrapper</code> needs to take care of the H2 console login request which comes with the form data (including Driver Class input) and parse it as parameters:</p>\n\n<pre><code>public class MyHttpServletRequestWrapper extends HttpServletRequestWrapper {\n\nprivate String body;\n\npublic MyHttpServletRequestWrapper(HttpServletRequest request) {\n    super(request);\n    this.body = IOUtils.toString(request.getReader());\n    //...\n}\n\n@Override\npublic Enumeration&lt;String&gt; getParameterNames() {\n    if (!parsedParams)\n        parseParams();\n\n    List&lt;String&gt; result = Collections.list(super.getParameterNames());\n    result.addAll(parameters.keySet());\n\n    return Collections.enumeration(result);\n}\n\nprivate void parseParams() {\n    if (!body.isEmpty()) {\n        String[] rps = body.split(\"&amp;\");\n\n        for (String rp : rps) {\n            String[] kv = rp.split(\"=\");\n            try {\n                parameters.put(kv[0], kv.length &gt; 1 ? new String[]{URLDecoder.decode(kv[1], \"UTF-8\")} : new String[]{\"\"});\n            } catch (UnsupportedEncodingException e) {\n                e.printStackTrace();\n            }\n        }\n\n        parameters.setLocked(true);\n        parsedParams = true;\n    }\n}\n\n@Override\npublic Map&lt;String, String[]&gt; getParameterMap() {\n    if (!parsedParams)\n        parseParams();\n\n    Map&lt;String, String[]&gt; s = super.getParameterMap();\n    return Stream.concat(parameters.entrySet().stream(), s.entrySet().stream()).collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\n}\n\n@Override\npublic String getParameter(String name) {\n    return parameters.get(name) != null ? parameters.get(name)[0] : super.getParameter(name);\n}\n\n@Override\npublic String[] getParameterValues(String name) {\n    String[] s = super.getParameterValues(name);\n    return ArrayUtils.addAll(s, parameters.get(name));\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14945307,"reputation":11,"user_id":10790767,"display_name":"Patrik Gajdoš"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1561974778,"creation_date":1561974778,"answer_id":56833525,"question_id":39854172,"body_markdown":"When I encountered this problem I was following a spring boot tutorial. In this tutorial, my spring boot guru used the following code in the application.properties:\r\n\r\n    spring.h2.console.enabled=true\r\n    spring.datasource.platform=h2\r\n    spring.datasource.url=jdbc:h2:mem:someName\r\n\r\nThe last line is not necessary because these are the default configurations done by spring boot:\r\n\r\n    spring.datasource.url=jdbc:h2:mem:testdb  \r\n    spring.datasource.driverClassName=org.h2.Driver  \r\n    spring.datasource.username=sa  \r\n    spring.datasource.password=  \r\n    spring.h2.console.enabled=false\r\n\r\nWhen I removed it, all worked as intended.","title":"H2 console error: No suitable driver found for 08001/0","body":"<p>When I encountered this problem I was following a spring boot tutorial. In this tutorial, my spring boot guru used the following code in the application.properties:</p>\n\n<pre><code>spring.h2.console.enabled=true\nspring.datasource.platform=h2\nspring.datasource.url=jdbc:h2:mem:someName\n</code></pre>\n\n<p>The last line is not necessary because these are the default configurations done by spring boot:</p>\n\n<pre><code>spring.datasource.url=jdbc:h2:mem:testdb  \nspring.datasource.driverClassName=org.h2.Driver  \nspring.datasource.username=sa  \nspring.datasource.password=  \nspring.h2.console.enabled=false\n</code></pre>\n\n<p>When I removed it, all worked as intended.</p>\n"},{"tags":[],"owner":{"account_id":15459711,"reputation":1631,"user_id":11152683,"display_name":"Lubo"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1571248963,"creation_date":1569621351,"answer_id":58141705,"question_id":39854172,"body_markdown":"Usually &quot;Test connection&quot; is working (green line after login form), but connecting does not. This can be caused by handling of headers, which can be caused by filters or security config. For example, I was hit by this twice:\r\n\r\n1. I have same symptoms and problem was caused by usage of logging. **Removing dependency** helped to get rid of *No suitable driver found for 08001/0* message while logging into h2-console:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.zalando&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logbook-spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\nI am not sure, if it is bug of given [project][1], or by wrong usage/config.\r\n\r\n2. Configuring OAuth2 does hit me also. I need to exclude h2-console uri from web and also http security. See some [info here][2]. See snippets:\r\n\r\n        @Configuration\r\n        @EnableWebSecurity\r\n        @EnableGlobalMethodSecurity(\r\n                securedEnabled = true,\r\n                jsr250Enabled = true,\r\n                prePostEnabled = true\r\n        )\r\n        @RequiredArgsConstructor\r\n        public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n            @Override\r\n            public void configure(WebSecurity web) {\r\n                web.ignoring().antMatchers(&quot;/h2-console/**&quot;);\r\n            }\r\n            @Override\r\n            protected void configure(HttpSecurity http) throws Exception {\r\n                http\r\n                        // only part of config is shown here...\r\n                        .authorizeRequests()\r\n                        .antMatchers(&quot;/&quot;,\r\n                                &quot;/error&quot;,\r\n                                &quot;/favicon.ico&quot;,\r\n                                &quot;/**/*.png&quot;,\r\n                                &quot;/**/*.gif&quot;,\r\n                                &quot;/**/*.svg&quot;,\r\n                                &quot;/**/*.jpg&quot;,\r\n                                &quot;/**/*.html&quot;,\r\n                                &quot;/**/*.css&quot;,\r\n                                &quot;/**/*.js&quot;,\r\n                                &quot;/h2-console/**&quot;)\r\n                        .permitAll()\r\n                        .antMatchers(&quot;/auth/**&quot;, &quot;/oauth2/**&quot;).permitAll()\r\n                        .anyRequest().authenticated()\r\n                        .and()\r\n                        .oauth2Login();\r\n            }\r\n        }\r\n\r\n\r\n  [1]: https://github.com/zalando/logbook/\r\n  [2]: https://github.com/jhipster/generator-jhipster/issues/10481","title":"H2 console error: No suitable driver found for 08001/0","body":"<p>Usually \"Test connection\" is working (green line after login form), but connecting does not. This can be caused by handling of headers, which can be caused by filters or security config. For example, I was hit by this twice:</p>\n\n<ol>\n<li><p>I have same symptoms and problem was caused by usage of logging. <strong>Removing dependency</strong> helped to get rid of <em>No suitable driver found for 08001/0</em> message while logging into h2-console:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.zalando&lt;/groupId&gt;\n    &lt;artifactId&gt;logbook-spring-boot-starter&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre></li>\n</ol>\n\n<p>I am not sure, if it is bug of given <a href=\"https://github.com/zalando/logbook/\" rel=\"noreferrer\">project</a>, or by wrong usage/config.</p>\n\n<ol start=\"2\">\n<li><p>Configuring OAuth2 does hit me also. I need to exclude h2-console uri from web and also http security. See some <a href=\"https://github.com/jhipster/generator-jhipster/issues/10481\" rel=\"noreferrer\">info here</a>. See snippets:</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(\n        securedEnabled = true,\n        jsr250Enabled = true,\n        prePostEnabled = true\n)\n@RequiredArgsConstructor\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n    @Override\n    public void configure(WebSecurity web) {\n        web.ignoring().antMatchers(\"/h2-console/**\");\n    }\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                // only part of config is shown here...\n                .authorizeRequests()\n                .antMatchers(\"/\",\n                        \"/error\",\n                        \"/favicon.ico\",\n                        \"/**/*.png\",\n                        \"/**/*.gif\",\n                        \"/**/*.svg\",\n                        \"/**/*.jpg\",\n                        \"/**/*.html\",\n                        \"/**/*.css\",\n                        \"/**/*.js\",\n                        \"/h2-console/**\")\n                .permitAll()\n                .antMatchers(\"/auth/**\", \"/oauth2/**\").permitAll()\n                .anyRequest().authenticated()\n                .and()\n                .oauth2Login();\n    }\n}\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":872516,"reputation":5591,"user_id":923041,"accept_rate":75,"display_name":"eekboom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587306654,"creation_date":1587306654,"answer_id":61306005,"question_id":39854172,"body_markdown":"Just adding the problem and solution I had here, because I did not find any explicit mentions.\r\n\r\nI had this problem when updating from Spring Boot 2.1 to 2.2.\r\n(When testing I found the problem occurred even when switching from latest 2.1.13.RELEASE to 2.2.0.RELEASE.)\r\n\r\nAnalysis:\r\nOur application uses both Jersey/JAX-RS and Spring Web.\r\nTo make this work:\r\n\r\n- On Spring Boot 2.1 our application configured Jersey to use a servlet filter\r\nusing (spring.jersey.type=filter) and the JerseyConfig used ServletProperties.FILTER_FORWARD_ON_404 to forward requests it couldn&#39;t handle to Spring Boot.\r\nThis seems to break the h2-console in Spring Boot 2.x\r\n\r\n- For Spring Boot 2.2, I removed the &quot;spring.jersey.type=filter&quot; configuration, so that Jersey uses a servlet instead.\r\nTo make it play nice with Spring Web, I restricted Jersey using @ApplicationPath(&quot;/api&quot;) (all our JAX-RS requests start with that prefix anyway)\r\n","title":"H2 console error: No suitable driver found for 08001/0","body":"<p>Just adding the problem and solution I had here, because I did not find any explicit mentions.</p>\n\n<p>I had this problem when updating from Spring Boot 2.1 to 2.2.\n(When testing I found the problem occurred even when switching from latest 2.1.13.RELEASE to 2.2.0.RELEASE.)</p>\n\n<p>Analysis:\nOur application uses both Jersey/JAX-RS and Spring Web.\nTo make this work:</p>\n\n<ul>\n<li><p>On Spring Boot 2.1 our application configured Jersey to use a servlet filter\nusing (spring.jersey.type=filter) and the JerseyConfig used ServletProperties.FILTER_FORWARD_ON_404 to forward requests it couldn't handle to Spring Boot.\nThis seems to break the h2-console in Spring Boot 2.x</p></li>\n<li><p>For Spring Boot 2.2, I removed the \"spring.jersey.type=filter\" configuration, so that Jersey uses a servlet instead.\nTo make it play nice with Spring Web, I restricted Jersey using @ApplicationPath(\"/api\") (all our JAX-RS requests start with that prefix anyway)</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3908690,"reputation":461,"user_id":3259971,"accept_rate":0,"display_name":"atkawa7"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638430561,"creation_date":1638430561,"answer_id":70195636,"question_id":39854172,"body_markdown":"From my end the issue was related to how logbook handles form request. \r\n\r\n&gt;&gt;The LogbookFilter will, by default, treat requests with a application/x-www-form-urlencoded body not different from any other request, i.e you will see the request body in the logs. The downside of this approach is that you won&#39;t be able to use any of the HttpServletRequest.getParameter*(..) methods. See issue #94 for some more details.\r\n\r\nThe logbook team recomends setting up the system property \r\n\r\n&gt;&gt;&gt;As of Logbook 1.5.0, you can now specify one of three strategies that define how Logbook deals with this situation by using the logbook.servlet.form-request system property:\r\n\r\ni.e \r\n\r\n```java\r\njava -jar -Dlogbook.servlet.form-request=parameter server/target/server-1.0-SNAPSHOT.jar\r\n```\r\n\r\n","title":"H2 console error: No suitable driver found for 08001/0","body":"<p>From my end the issue was related to how logbook handles form request.</p>\n<blockquote>\n<blockquote>\n<p>The LogbookFilter will, by default, treat requests with a application/x-www-form-urlencoded body not different from any other request, i.e you will see the request body in the logs. The downside of this approach is that you won't be able to use any of the HttpServletRequest.getParameter*(..) methods. See issue #94 for some more details.</p>\n</blockquote>\n</blockquote>\n<p>The logbook team recomends setting up the system property</p>\n<blockquote>\n<blockquote>\n<blockquote>\n<p>As of Logbook 1.5.0, you can now specify one of three strategies that define how Logbook deals with this situation by using the logbook.servlet.form-request system property:</p>\n</blockquote>\n</blockquote>\n</blockquote>\n<p>i.e</p>\n<pre class=\"lang-java prettyprint-override\"><code>java -jar -Dlogbook.servlet.form-request=parameter server/target/server-1.0-SNAPSHOT.jar\n</code></pre>\n"}],"owner":{"account_id":7128939,"reputation":1633,"user_id":5450916,"accept_rate":73,"display_name":"filemonczyk"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14231,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":6,"score":10,"last_activity_date":1678117065,"creation_date":1475589246,"question_id":39854172,"body_markdown":"Hello Im having problem with viewing my schema in H2 console Database:\r\n\r\nIm using spring boot:\r\n\r\n    spring.datasource.initialize=true\r\n    spring.datasource.url=jdbc:h2:~/test;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE;MV_STORE=FALSE;MVCC=FALSE\r\n    spring.datasource.driverClassName=org.h2.Driver\r\n    spring.datasource.username=sa\r\n    spring.datasource.password=\r\n    spring.h2.console.enabled=true\r\n\r\nthis is my login page: \r\n\r\n[![enter image description here][1]][1]\r\n\r\nso what i see inside is standard console view , without my tables and yet my app is working fine.\r\n\r\n  [1]: http://i.stack.imgur.com/tZoG6.png","title":"H2 console error: No suitable driver found for 08001/0","body":"<p>Hello Im having problem with viewing my schema in H2 console Database:</p>\n\n<p>Im using spring boot:</p>\n\n<pre><code>spring.datasource.initialize=true\nspring.datasource.url=jdbc:h2:~/test;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE;MV_STORE=FALSE;MVCC=FALSE\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=\nspring.h2.console.enabled=true\n</code></pre>\n\n<p>this is my login page: </p>\n\n<p><a href=\"https://i.stack.imgur.com/tZoG6.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/tZoG6.png\" alt=\"enter image description here\"></a></p>\n\n<p>so what i see inside is standard console view , without my tables and yet my app is working fine.</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":6228391,"reputation":708,"user_id":4845935,"display_name":"dimnnv"},"score":0,"creation_date":1678095932,"post_id":75649195,"comment_id":133460468,"body_markdown":"Does the error persist if you click &quot;Reload All Maven Projects&quot; in the right Maven pane at the top? (cyclical arrows button)","body":"Does the error persist if you click &quot;Reload All Maven Projects&quot; in the right Maven pane at the top? (cyclical arrows button)"},{"owner":{"account_id":4477746,"reputation":1014,"user_id":3642410,"accept_rate":100,"display_name":"Karim"},"score":0,"creation_date":1678098005,"post_id":75649195,"comment_id":133461024,"body_markdown":"Try &quot;File -&gt; Repaire IDE&quot; and keep following the instruction until you restart your IDE","body":"Try &quot;File -&gt; Repaire IDE&quot; and keep following the instruction until you restart your IDE"},{"owner":{"account_id":19298004,"reputation":129,"user_id":14106566,"display_name":"humbleCodes"},"score":0,"creation_date":1678115524,"post_id":75649195,"comment_id":133466078,"body_markdown":"I performed both suggestions mentioned above but none of the them worked out for me !!","body":"I performed both suggestions mentioned above but none of the them worked out for me !!"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1678116233,"post_id":75649195,"comment_id":133466307,"body_markdown":"Tangential, but that&#39;s a decade-old version of maven-site-plugin.","body":"Tangential, but that&#39;s a decade-old version of maven-site-plugin."}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678116965,"creation_date":1678116965,"answer_id":75652804,"question_id":75649195,"body_markdown":"First of all: you are not using maven 3.9.0, but the one you configured in IDEA: 3.8.1 - if you want to change that, you have to change your maven config in IDEA. (But the version shouldn&#39;t make the difference here)\r\n\r\nDid you &quot;Try to run Maven import with the -U flag&quot; as IDEA suggested to you? I would recommend it. If you try, make sure your internet connection works for that time, you need it at least once, until the plugin has been downloaded to the cache.\r\n\r\nIf that doesn&#39;t work: Try to delete the folder of the dependency in your local maven repository. Default location for the repository is ~/.m2/repository, the plugin should be stored in ~/.m2/repository/org/apache/maven/plugins/maven-site-plugin\r\n(~ is a shortcut for your home folder - from your screenshots I see, the repository is in C:\\users\\sprud\\.m2\\repository, so you are looking for the folder `C:\\users\\sprud\\.m2\\repository\\org\\apache\\maven\\plugins\\maven-site-plugin`)\r\n\r\nIn the maven-site-plugin folder you will find one or more subfolders for the different versions, delete the folder `3.3` and all of its content. In case of doubt, delete the whole folder `maven-site-plugin`. This is only a local cache and can easily be redownloaded.\r\n\r\nThen try the build again.\r\n\r\nBtw: the most current version of the maven-site-plugin is 3.12.1, the version 3.3 you try to use is nearly 10 years old now. (See https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-site-plugin for details) You should try to use a recent version. (Still no reason why the plugin is not found.)\r\n\r\nIf the solutions above don&#39;t work, please have a look into your maven settings.xml file (in `C:\\users\\sprud\\.m2\\settings.xml`) There might be some configs for a mirror or plugin repository. Or your `pom.xml` contains a definition of a plugin repository that doesn&#39;t contain that plugin.","title":"Problem when building a maven project in Intellij","body":"<p>First of all: you are not using maven 3.9.0, but the one you configured in IDEA: 3.8.1 - if you want to change that, you have to change your maven config in IDEA. (But the version shouldn't make the difference here)</p>\n<p>Did you &quot;Try to run Maven import with the -U flag&quot; as IDEA suggested to you? I would recommend it. If you try, make sure your internet connection works for that time, you need it at least once, until the plugin has been downloaded to the cache.</p>\n<p>If that doesn't work: Try to delete the folder of the dependency in your local maven repository. Default location for the repository is ~/.m2/repository, the plugin should be stored in ~/.m2/repository/org/apache/maven/plugins/maven-site-plugin\n(~ is a shortcut for your home folder - from your screenshots I see, the repository is in C:\\users\\sprud.m2\\repository, so you are looking for the folder <code>C:\\users\\sprud\\.m2\\repository\\org\\apache\\maven\\plugins\\maven-site-plugin</code>)</p>\n<p>In the maven-site-plugin folder you will find one or more subfolders for the different versions, delete the folder <code>3.3</code> and all of its content. In case of doubt, delete the whole folder <code>maven-site-plugin</code>. This is only a local cache and can easily be redownloaded.</p>\n<p>Then try the build again.</p>\n<p>Btw: the most current version of the maven-site-plugin is 3.12.1, the version 3.3 you try to use is nearly 10 years old now. (See <a href=\"https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-site-plugin\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-site-plugin</a> for details) You should try to use a recent version. (Still no reason why the plugin is not found.)</p>\n<p>If the solutions above don't work, please have a look into your maven settings.xml file (in <code>C:\\users\\sprud\\.m2\\settings.xml</code>) There might be some configs for a mirror or plugin repository. Or your <code>pom.xml</code> contains a definition of a plugin repository that doesn't contain that plugin.</p>\n"}],"owner":{"account_id":19298004,"reputation":129,"user_id":14106566,"display_name":"humbleCodes"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":664,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75652804,"answer_count":1,"score":1,"last_activity_date":1678116965,"creation_date":1678095522,"question_id":75649195,"body_markdown":"I m new to Java as well as Maven Build tool and encountered some issues while creating and building a maven project.\r\nIDE: **Intellij IDEA Community Edition 2022.3.2** &lt;br&gt;\r\nJdk version: **java version &quot;17.0.6&quot; 2023-01-17 LTS** &lt;br&gt;\r\nMaven version: **Apache Maven 3.9.0** &lt;br&gt;&lt;br&gt;\r\n\r\nWhile following an article on [internet][1], which is on the topic - **&quot;How to create a Maven project in Intellij&quot;** I created a maven project and it automatically started building it. Once it was built, it gave me several errors : \r\n\r\n    Cannot resolve plugin org.apache.maven.plugins:maven-site-plugin:3.3\r\n    Cannot resolve plugin org.apache.maven.plugins:maven-site-plugin:3.3\r\n\r\n\r\n[![enter image description here][2]][2] \r\n\r\n[![enter image description here][3]][3]\r\n&lt;br&gt; &lt;br&gt; &lt;br&gt; \r\nBelow I have also attached a screenshot of my maven settings, now what am I supposed to do ? &lt;br&gt;\r\n[![enter image description here][4]][4]\r\n\r\n&lt;br&gt; &lt;br&gt;\r\n**Update 1:** On performing `File -&gt; Invalidate caches` building project gives no error as such but I do get a squiggly line on the maven pane (screenshots attached below) \r\n[![enter image description here][5]][5]\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/how-to-create-a-maven-project-in-intellij-idea/\r\n  [2]: https://i.stack.imgur.com/V8y1v.png\r\n  [3]: https://i.stack.imgur.com/CyeJa.png\r\n  [4]: https://i.stack.imgur.com/OiiYz.png\r\n  [5]: https://i.stack.imgur.com/9PgIS.png","title":"Problem when building a maven project in Intellij","body":"<p>I m new to Java as well as Maven Build tool and encountered some issues while creating and building a maven project.\nIDE: <strong>Intellij IDEA Community Edition 2022.3.2</strong> <br>\nJdk version: <strong>java version &quot;17.0.6&quot; 2023-01-17 LTS</strong> <br>\nMaven version: <strong>Apache Maven 3.9.0</strong> <br><br></p>\n<p>While following an article on <a href=\"https://www.geeksforgeeks.org/how-to-create-a-maven-project-in-intellij-idea/\" rel=\"nofollow noreferrer\">internet</a>, which is on the topic - <strong>&quot;How to create a Maven project in Intellij&quot;</strong> I created a maven project and it automatically started building it. Once it was built, it gave me several errors :</p>\n<pre><code>Cannot resolve plugin org.apache.maven.plugins:maven-site-plugin:3.3\nCannot resolve plugin org.apache.maven.plugins:maven-site-plugin:3.3\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/V8y1v.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V8y1v.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/CyeJa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CyeJa.png\" alt=\"enter image description here\" /></a>\n<br> <br> <br>\nBelow I have also attached a screenshot of my maven settings, now what am I supposed to do ? <br>\n<a href=\"https://i.stack.imgur.com/OiiYz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OiiYz.png\" alt=\"enter image description here\" /></a></p>\n<p><br> <br>\n<strong>Update 1:</strong> On performing <code>File -&gt; Invalidate caches</code> building project gives no error as such but I do get a squiggly line on the maven pane (screenshots attached below)\n<a href=\"https://i.stack.imgur.com/9PgIS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9PgIS.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","dockerfile"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":1,"creation_date":1668634507,"post_id":74467215,"comment_id":131456520,"body_markdown":"You should not install JDK to a container image, but use a JDK container image instead - like eclipse-temurin:19-jdk-alpine","body":"You should not install JDK to a container image, but use a JDK container image instead - like eclipse-temurin:19-jdk-alpine"}],"answers":[{"tags":[],"owner":{"account_id":26900060,"reputation":89,"user_id":20477335,"display_name":"Build For Dev"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1668635050,"creation_date":1668635050,"answer_id":74467598,"question_id":74467215,"body_markdown":"use this image openjdk:19-alpine\r\n\r\nhttps://hub.docker.com/layers/openjdk/library/openjdk/19-alpine/images/sha256-5bf18c827959c2d7b56b27328547faeefba886f23be35c0fe2093a5353135d99?context=explore","title":"Does Docker alpine image support openjdk19","body":"<p>use this image openjdk:19-alpine</p>\n<p><a href=\"https://hub.docker.com/layers/openjdk/library/openjdk/19-alpine/images/sha256-5bf18c827959c2d7b56b27328547faeefba886f23be35c0fe2093a5353135d99?context=explore\" rel=\"nofollow noreferrer\">https://hub.docker.com/layers/openjdk/library/openjdk/19-alpine/images/sha256-5bf18c827959c2d7b56b27328547faeefba886f23be35c0fe2093a5353135d99?context=explore</a></p>\n"},{"tags":[],"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1668635690,"creation_date":1668635690,"answer_id":74467705,"question_id":74467215,"body_markdown":"You&#39;ve got this a little backwards.\r\n\r\nYou&#39;re looking for someone that produces a supported image of OpenJDK 19 with an Alpine Linux image.\r\n\r\nThe [Eclipse Temurin project](https://hub.docker.com/_/eclipse-temurin) supports official builds of OpenJDK in Docker, and it also comes with an Alpine image.\r\n\r\n**Be very careful**, given that it is up to this maintainer to decide what base images they choose to use, and they *might* drop support for Alpine.","title":"Does Docker alpine image support openjdk19","body":"<p>You've got this a little backwards.</p>\n<p>You're looking for someone that produces a supported image of OpenJDK 19 with an Alpine Linux image.</p>\n<p>The <a href=\"https://hub.docker.com/_/eclipse-temurin\" rel=\"nofollow noreferrer\">Eclipse Temurin project</a> supports official builds of OpenJDK in Docker, and it also comes with an Alpine image.</p>\n<p><strong>Be very careful</strong>, given that it is up to this maintainer to decide what base images they choose to use, and they <em>might</em> drop support for Alpine.</p>\n"},{"tags":[],"owner":{"account_id":266915,"reputation":2035,"user_id":554760,"display_name":"Magnus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678116891,"creation_date":1678116891,"answer_id":75652787,"question_id":74467215,"body_markdown":"Maybe late to the game, but developing on aamd64 / mac and deploying to x86 my working setup looks like this:\r\n\r\n**Dockerfile**\r\n\r\n    FROM openjdk:21-jdk\r\n\r\n    ENV LANG=C.UTF-8\r\n    EXPOSE 8080\r\n    WORKDIR /var/app\r\n    COPY target/my_packaged_jar.jar app.jar\r\n    ENTRYPOINT [&quot;java&quot;, &quot;-Dserver.port=8080&quot;, &quot;-jar&quot;, &quot;app.jar&quot;]\r\n\r\nAnd to deploy using cross building:\r\n\r\n    docker buildx build --platform linux/amd64,linux/arm64 --push -t *mycr*.azurecr.io/*myserver*  -f Dockerfile .\r\n\r\nThis works for Java19 as well and has shows decent performance.\r\nThey also have a tiny server alternative that might be even more efficient.\r\n","title":"Does Docker alpine image support openjdk19","body":"<p>Maybe late to the game, but developing on aamd64 / mac and deploying to x86 my working setup looks like this:</p>\n<p><strong>Dockerfile</strong></p>\n<pre><code>FROM openjdk:21-jdk\n\nENV LANG=C.UTF-8\nEXPOSE 8080\nWORKDIR /var/app\nCOPY target/my_packaged_jar.jar app.jar\nENTRYPOINT [&quot;java&quot;, &quot;-Dserver.port=8080&quot;, &quot;-jar&quot;, &quot;app.jar&quot;]\n</code></pre>\n<p>And to deploy using cross building:</p>\n<pre><code>docker buildx build --platform linux/amd64,linux/arm64 --push -t *mycr*.azurecr.io/*myserver*  -f Dockerfile .\n</code></pre>\n<p>This works for Java19 as well and has shows decent performance.\nThey also have a tiny server alternative that might be even more efficient.</p>\n"}],"owner":{"account_id":7309084,"reputation":49,"user_id":5568989,"display_name":"Narasimha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5066,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1678116891,"creation_date":1668632727,"question_id":74467215,"body_markdown":"Does Docker alpine image support openjdk19. If yes how do we install openjdk19 using Docker alpine image 3.16.2. I am able to install openjdk11 but not openjdk19.","title":"Does Docker alpine image support openjdk19","body":"<p>Does Docker alpine image support openjdk19. If yes how do we install openjdk19 using Docker alpine image 3.16.2. I am able to install openjdk11 but not openjdk19.</p>\n"},{"tags":["java","spring","swagger","mustache","openapi-generator"],"answers":[{"tags":[],"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678116427,"creation_date":1678116427,"answer_id":75652703,"question_id":75617530,"body_markdown":"I&#39;m sure you know this answer, but I&#39;m going to say it anyway.  The easiest answer is to rename your schema.  Don&#39;t use a name that is going to be used by your framework.  I&#39;m honestly surprised that `ResponseEntity` isn&#39;t on the list of [reserved words](https://github.com/OpenAPITools/openapi-generator/blob/master/docs/generators/spring.md#reserved-words) for the `Spring` generator.\r\n\r\nIf renaming the schema itself is out of the question, consider using the `title` property.  To understand it, let&#39;s look at how a generator creates the class name.\r\n\r\nThe generator creates the name of the class one of three ways:\r\n1.  The title.  For example, the below class will be called `ResponseEntity`, regardless of what the file is defined as.  This is useful for in line schemas where you don&#39;t want to break out the schemas into their own files.  This will always be used as the name if it is present.\r\n```yaml\r\ntype: string\r\ntitle: ResponseEntity\r\n```\r\n2.  If the `title` property is missing, then the generator will check one of the following:\r\n  *  The file name.  If you are using separate files for your schemas, the file name will be used.  So, a file called `ResponseEntity.yml` will become `ResponseEntity.java`.\r\n  *  The schema name as defined in the components section of the main `openapi.yml` document.\r\n```yaml\r\ncomponents:\r\n  schemas:\r\n    ResponseEntity:\r\n      type: string\r\n```\r\n3.  Finally, if the schema is not defined elsewhere, and doesn&#39;t have a `title` defined, then the generator will create one using the `operationId`.  For example, the following schema will become `Operation200Response.java`\r\n```yaml\r\npaths:\r\n  /resource:\r\n    get:\r\n      tags:\r\n        - resource\r\n      summary: summary\r\n      description: description\r\n      operationId: operation\r\n      responses:\r\n        &#39;200&#39;:\r\n          description:  a ResponseEntity\r\n          content:\r\n            application/json:\r\n              schema:\r\n                properties:\r\n                  type: string\r\n```\r\n\r\nAs you can see, the `title` property is the very first thing checked by the generator before anything else.  Since you said &quot;This will create issues on changing the swagger schema&quot;, I am assuming that means you have access to the schema and you don&#39;t want to change the file name as it would be generated from option 2 above.  This is probably because you don&#39;t want to update the `$ref` everywhere else it exists.  Adding a title to the schema itself will allow you to change the name of the generated file without impacting anything else.  It will not break your api or any existing `$ref` you have pointing to it.\r\n\r\nIf adding a `title` property to your schema is still not an option, than the hard way is to create a [custom generator](https://github.com/OpenAPITools/openapi-generator/blob/master/docs/customization.md#custom-generator-and-template), because there are no other ways to affect the generated class name.\r\n","title":"OpenApi Genrator Import conflicts with Generated model and the library org.springframework.http.ResponseEntity. &#39;single-type-import&#39; error","body":"<p>I'm sure you know this answer, but I'm going to say it anyway.  The easiest answer is to rename your schema.  Don't use a name that is going to be used by your framework.  I'm honestly surprised that <code>ResponseEntity</code> isn't on the list of <a href=\"https://github.com/OpenAPITools/openapi-generator/blob/master/docs/generators/spring.md#reserved-words\" rel=\"nofollow noreferrer\">reserved words</a> for the <code>Spring</code> generator.</p>\n<p>If renaming the schema itself is out of the question, consider using the <code>title</code> property.  To understand it, let's look at how a generator creates the class name.</p>\n<p>The generator creates the name of the class one of three ways:</p>\n<ol>\n<li>The title.  For example, the below class will be called <code>ResponseEntity</code>, regardless of what the file is defined as.  This is useful for in line schemas where you don't want to break out the schemas into their own files.  This will always be used as the name if it is present.</li>\n</ol>\n<pre class=\"lang-yaml prettyprint-override\"><code>type: string\ntitle: ResponseEntity\n</code></pre>\n<ol start=\"2\">\n<li>If the <code>title</code> property is missing, then the generator will check one of the following:</li>\n</ol>\n<ul>\n<li>The file name.  If you are using separate files for your schemas, the file name will be used.  So, a file called <code>ResponseEntity.yml</code> will become <code>ResponseEntity.java</code>.</li>\n<li>The schema name as defined in the components section of the main <code>openapi.yml</code> document.</li>\n</ul>\n<pre class=\"lang-yaml prettyprint-override\"><code>components:\n  schemas:\n    ResponseEntity:\n      type: string\n</code></pre>\n<ol start=\"3\">\n<li>Finally, if the schema is not defined elsewhere, and doesn't have a <code>title</code> defined, then the generator will create one using the <code>operationId</code>.  For example, the following schema will become <code>Operation200Response.java</code></li>\n</ol>\n<pre class=\"lang-yaml prettyprint-override\"><code>paths:\n  /resource:\n    get:\n      tags:\n        - resource\n      summary: summary\n      description: description\n      operationId: operation\n      responses:\n        '200':\n          description:  a ResponseEntity\n          content:\n            application/json:\n              schema:\n                properties:\n                  type: string\n</code></pre>\n<p>As you can see, the <code>title</code> property is the very first thing checked by the generator before anything else.  Since you said &quot;This will create issues on changing the swagger schema&quot;, I am assuming that means you have access to the schema and you don't want to change the file name as it would be generated from option 2 above.  This is probably because you don't want to update the <code>$ref</code> everywhere else it exists.  Adding a title to the schema itself will allow you to change the name of the generated file without impacting anything else.  It will not break your api or any existing <code>$ref</code> you have pointing to it.</p>\n<p>If adding a <code>title</code> property to your schema is still not an option, than the hard way is to create a <a href=\"https://github.com/OpenAPITools/openapi-generator/blob/master/docs/customization.md#custom-generator-and-template\" rel=\"nofollow noreferrer\">custom generator</a>, because there are no other ways to affect the generated class name.</p>\n"}],"owner":{"account_id":16859773,"reputation":1,"user_id":12190854,"display_name":"Harshita Agrawal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":644,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678116427,"creation_date":1677770828,"question_id":75617530,"body_markdown":"I have a schema named &#39;ResponseEntity&#39;. The model class gets generated with the same name.\r\nThis conflicts with the ResponseEntiy class of Springframework and gives an error\r\n\r\n**error: a type with the same simple name is already defined by the single-type-import of ResponseEntity\r\nimport org.springframework.http.ResponseEntity;**\r\n\r\nAPI File:\r\n```\r\ndefault ResponseEntity&lt;ResponseEntity&gt; myClass() {\r\n // code\r\n return new ResponseEntity&lt;&gt;(HttpStatus.NOT_IMPLEMENTED);\r\n}\r\n```\r\n\r\nHere, the func return-type ResponseEntity is from `org.springframework.http.ResponseEntity`\r\nwhereas the Generic type(one in the &lt;&gt;) ResponseEntity is my model class.\r\n\r\n\r\nDiscarded approaches:\r\n1. I do not want to use importmappings to create an external model and map it to the ResponseEntity model. This will create issues on changing the swagger schema.\r\n2. I cannot add Suffix/Prefix to all the generated models.\r\n\r\nIs there a way such that?\r\n1. I can add Suffix/Prefix to only that particular generated model.\r\n2. Any workaround to never let the class &#39;org.springframework.http.ResponseEntity&#39; be imported. I will add this in the ResponseEntity method of api.mustache class as a prefix.","title":"OpenApi Genrator Import conflicts with Generated model and the library org.springframework.http.ResponseEntity. &#39;single-type-import&#39; error","body":"<p>I have a schema named 'ResponseEntity'. The model class gets generated with the same name.\nThis conflicts with the ResponseEntiy class of Springframework and gives an error</p>\n<p><strong>error: a type with the same simple name is already defined by the single-type-import of ResponseEntity\nimport org.springframework.http.ResponseEntity;</strong></p>\n<p>API File:</p>\n<pre><code>default ResponseEntity&lt;ResponseEntity&gt; myClass() {\n // code\n return new ResponseEntity&lt;&gt;(HttpStatus.NOT_IMPLEMENTED);\n}\n</code></pre>\n<p>Here, the func return-type ResponseEntity is from <code>org.springframework.http.ResponseEntity</code>\nwhereas the Generic type(one in the &lt;&gt;) ResponseEntity is my model class.</p>\n<p>Discarded approaches:</p>\n<ol>\n<li>I do not want to use importmappings to create an external model and map it to the ResponseEntity model. This will create issues on changing the swagger schema.</li>\n<li>I cannot add Suffix/Prefix to all the generated models.</li>\n</ol>\n<p>Is there a way such that?</p>\n<ol>\n<li>I can add Suffix/Prefix to only that particular generated model.</li>\n<li>Any workaround to never let the class 'org.springframework.http.ResponseEntity' be imported. I will add this in the ResponseEntity method of api.mustache class as a prefix.</li>\n</ol>\n"},{"tags":["java","spring","csv","amazon-s3","spring-batch"],"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1632119061,"post_id":69249210,"comment_id":122397049,"body_markdown":"You are creating a `new CSVPrinter` in each call to `write`. This will create a file per chunk. Is this what you mean by `it will contain only the data from the last batch as it is not appending`? If that&#39;s the case, you probably need to extract the `CSVPrinter` as a field in your writer class.","body":"You are creating a <code>new CSVPrinter</code> in each call to <code>write</code>. This will create a file per chunk. Is this what you mean by <code>it will contain only the data from the last batch as it is not appending</code>? If that&#39;s the case, you probably need to extract the <code>CSVPrinter</code> as a field in your writer class."},{"owner":{"account_id":22801430,"reputation":1,"user_id":16954046,"display_name":"Moon Rise"},"score":0,"creation_date":1632142164,"post_id":69249210,"comment_id":122405800,"body_markdown":"Oh, I guess so. Let me try that theory really quick.","body":"Oh, I guess so. Let me try that theory really quick."},{"owner":{"account_id":22801430,"reputation":1,"user_id":16954046,"display_name":"Moon Rise"},"score":0,"creation_date":1632169903,"post_id":69249210,"comment_id":122416431,"body_markdown":"i changed the extracted the csvPrinter, but now it is not writing to the file anymore. i spent a whole day searching to fix this issue, but it could not make it yet","body":"i changed the extracted the csvPrinter, but now it is not writing to the file anymore. i spent a whole day searching to fix this issue, but it could not make it yet"}],"owner":{"account_id":22801430,"reputation":1,"user_id":16954046,"display_name":"Moon Rise"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":781,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678115599,"creation_date":1632113345,"question_id":69249210,"body_markdown":"I am having trouble with Spring batch that saves csv file into s3 location. \r\n\r\ni have a long list of csv files that i have to read from. and depends on the status of the each row, if it is active then write it to the csv file and after the batch job store in the s3 bucket.\r\n\r\nSo far, I have read some of the articles about it. \r\nhttps://stackoverflow.com/questions/28568635/read-aws-s3-file-to-java-code\r\nit says File object does not understand about s3. \r\nSo the code below is working for local development, but as soon as i set the location to s3 bucket and run it in a production environment, it would not work. \r\n```\r\nvoid write(List&lt;? extends Subscription&gt; items throws Exception {\r\n  String location = &quot;/src/main/java/resources/output.csv&quot;\r\n  FileWriter writer = new FileWriter(location, true);\r\n  BufferWriter bw = new BufferWriter(writer);\r\n\r\n  new CSVPrinter(bw, CSVFormat.DEFAULT.withDelimiter(&#39;|&#39; as char))\r\n    .withCloseable { CSVPrinter csvprinter -&gt;\r\n    items.each { subscription -&gt; \r\n      csvPrinter.printRecord(\r\n        subscription.id,\r\n        subscription.subscription\r\n      )\r\n    }\r\n    csvPrinter.flush()\r\n  }\r\n}\r\n```\r\nSince the file is very long, I had to set the second argument of FileWriter to true as it would append the data to csv. Otherwise, the csv file would contain only the data from the last batch. \r\nHowever, i cannot pass the string of the s3 bucket location to FileWriter. Because it does not understand the s3 bucket.\r\n\r\nSo the second option I tried was\r\n\r\n```\r\nvoid write(List&lt;? extends Subscription&gt; items throws Exception {\r\n  WritableResource resource = resourceLoader.get(&quot;s3://s3-bucket-location/output.csv&quot;) as WritableResource;\r\n  def writer = new OutputStreamWriter(resource.getOutputStream())\r\n  \r\n  new CSVPrinter(writer, CSVFormat.DEFAULT.withDelimiter(&#39;|&#39; as char))\r\n    .withCloseable { CSVPrinter csvprinter -&gt;\r\n    items.each { subscription -&gt; \r\n      csvPrinter.printRecord(\r\n        subscription.id,\r\n        subscription.subscription\r\n      )\r\n    }\r\n    csvPrinter.flush()\r\n  }\r\n}\r\n```\r\nIt is writing into csv files and store it into s3 bucket location as expected. \r\nbut in this case, it will contain only the data from the last batch as it is not appending, it is simply overwriting in each batch job.\r\n\r\nI am stuck in this and not sure how to figure this out. \r\nI would very very appreciate if someone could help me figure this out. \r\nI am using groovy as a language by the way.\r\n\r\nThank you in advance.\r\n\r\nEdited.\r\nI have updated the code as below. but now it is not writing to a file anymore. the file is not even generated.\r\nalso when i used withClosable instead of with, it throws an exception and complains about stream closed. I am not sure why i get this exception. \r\n\r\n```\r\n@Autowired\r\nResourceLoader resourceLoader\r\nWritabeResource resource\r\nOutputStreamWriter writer\r\nCSVPrinter csvPrinter\r\n\r\nvoid setup() {\r\n  this.resource = this.resourceLoader.getResource(&quot;s3://output.csv&quot;)\r\n  this.writer = new OutputStreamWriter(this.resource.getOutputStream))\r\n  this.csvPrinter = new CSVPrinter(this.writer, CSVFormat.DEFAULT.withDelimiter(&#39;|&#39; as char))\r\n}\r\n\r\n@Override\r\nvoid write(List&lt;? extends Subscription&gt; items) throws Exception {\r\n  // not writing to a file\r\n  this.csvPrinter.printRecord(&quot;test&quot;, &quot;test1&quot;)\r\n  // not writing to a file\r\n  csvPrinter.with {\r\n    items.each {Subscription subscription -&gt;\r\n      csvPrinter.printRecord(\r\n        subscription.id,\r\n        subscription.subscription\r\n      )\r\n  }\r\n  // not writing to a file\r\n  items.each {it -&gt; \r\n    csvPrinter.printRecord(it.id, it.subscription)\r\n  }\r\n}\r\n```","title":"How to set the output s3 location with Spring Batch CSV writer","body":"<p>I am having trouble with Spring batch that saves csv file into s3 location.</p>\n<p>i have a long list of csv files that i have to read from. and depends on the status of the each row, if it is active then write it to the csv file and after the batch job store in the s3 bucket.</p>\n<p>So far, I have read some of the articles about it.\n<a href=\"https://stackoverflow.com/questions/28568635/read-aws-s3-file-to-java-code\">Read AWS s3 File to Java code</a>\nit says File object does not understand about s3.\nSo the code below is working for local development, but as soon as i set the location to s3 bucket and run it in a production environment, it would not work.</p>\n<pre><code>void write(List&lt;? extends Subscription&gt; items throws Exception {\n  String location = &quot;/src/main/java/resources/output.csv&quot;\n  FileWriter writer = new FileWriter(location, true);\n  BufferWriter bw = new BufferWriter(writer);\n\n  new CSVPrinter(bw, CSVFormat.DEFAULT.withDelimiter('|' as char))\n    .withCloseable { CSVPrinter csvprinter -&gt;\n    items.each { subscription -&gt; \n      csvPrinter.printRecord(\n        subscription.id,\n        subscription.subscription\n      )\n    }\n    csvPrinter.flush()\n  }\n}\n</code></pre>\n<p>Since the file is very long, I had to set the second argument of FileWriter to true as it would append the data to csv. Otherwise, the csv file would contain only the data from the last batch.\nHowever, i cannot pass the string of the s3 bucket location to FileWriter. Because it does not understand the s3 bucket.</p>\n<p>So the second option I tried was</p>\n<pre><code>void write(List&lt;? extends Subscription&gt; items throws Exception {\n  WritableResource resource = resourceLoader.get(&quot;s3://s3-bucket-location/output.csv&quot;) as WritableResource;\n  def writer = new OutputStreamWriter(resource.getOutputStream())\n  \n  new CSVPrinter(writer, CSVFormat.DEFAULT.withDelimiter('|' as char))\n    .withCloseable { CSVPrinter csvprinter -&gt;\n    items.each { subscription -&gt; \n      csvPrinter.printRecord(\n        subscription.id,\n        subscription.subscription\n      )\n    }\n    csvPrinter.flush()\n  }\n}\n</code></pre>\n<p>It is writing into csv files and store it into s3 bucket location as expected.\nbut in this case, it will contain only the data from the last batch as it is not appending, it is simply overwriting in each batch job.</p>\n<p>I am stuck in this and not sure how to figure this out.\nI would very very appreciate if someone could help me figure this out.\nI am using groovy as a language by the way.</p>\n<p>Thank you in advance.</p>\n<p>Edited.\nI have updated the code as below. but now it is not writing to a file anymore. the file is not even generated.\nalso when i used withClosable instead of with, it throws an exception and complains about stream closed. I am not sure why i get this exception.</p>\n<pre><code>@Autowired\nResourceLoader resourceLoader\nWritabeResource resource\nOutputStreamWriter writer\nCSVPrinter csvPrinter\n\nvoid setup() {\n  this.resource = this.resourceLoader.getResource(&quot;s3://output.csv&quot;)\n  this.writer = new OutputStreamWriter(this.resource.getOutputStream))\n  this.csvPrinter = new CSVPrinter(this.writer, CSVFormat.DEFAULT.withDelimiter('|' as char))\n}\n\n@Override\nvoid write(List&lt;? extends Subscription&gt; items) throws Exception {\n  // not writing to a file\n  this.csvPrinter.printRecord(&quot;test&quot;, &quot;test1&quot;)\n  // not writing to a file\n  csvPrinter.with {\n    items.each {Subscription subscription -&gt;\n      csvPrinter.printRecord(\n        subscription.id,\n        subscription.subscription\n      )\n  }\n  // not writing to a file\n  items.each {it -&gt; \n    csvPrinter.printRecord(it.id, it.subscription)\n  }\n}\n</code></pre>\n"},{"tags":["java","google-cloud-dataflow","apache-beam"],"comments":[{"owner":{"account_id":21381582,"reputation":1706,"user_id":15747414,"display_name":"Prajna Rai T"},"score":0,"creation_date":1678271550,"post_id":75632677,"comment_id":133499078,"body_markdown":"Are you getting any error messages? Could you try increasing the time duration of [fixed window](https://beam.apache.org/documentation/programming-guide/#windowing)?","body":"Are you getting any error messages? Could you try increasing the time duration of <a href=\"https://beam.apache.org/documentation/programming-guide/#windowing\" rel=\"nofollow noreferrer\">fixed window</a>?"}],"answers":[{"tags":[],"owner":{"account_id":1874246,"reputation":1390,"user_id":1695821,"display_name":"Bruno Volpato"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677987604,"creation_date":1677987604,"answer_id":75640056,"question_id":75632677,"body_markdown":"I think you are missing triggers here, which will tell Beam when the windows will actually fire, not only how they will get grouped together (windows).\r\n\r\nTake a look at https://beam.apache.org/documentation/programming-guide/#setting-a-trigger.","title":"Apache Beam Unbounded Pipeline Windowing","body":"<p>I think you are missing triggers here, which will tell Beam when the windows will actually fire, not only how they will get grouped together (windows).</p>\n<p>Take a look at <a href=\"https://beam.apache.org/documentation/programming-guide/#setting-a-trigger\" rel=\"nofollow noreferrer\">https://beam.apache.org/documentation/programming-guide/#setting-a-trigger</a>.</p>\n"}],"owner":{"account_id":7266237,"reputation":154,"user_id":5540820,"display_name":"Frank Pinto"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678115499,"creation_date":1677886151,"question_id":75632677,"body_markdown":"I have an unbounded Apache Beam pipeline running in Dataflow that does a very simple set of instructions:\r\n\r\n1) It reads a pubsub message (PubsubIO)\r\n2) It pulls the timestamp from the message, pulls data from BigQuery, parses the result into KV values (DoFn)\r\n3) Windows the data into fixed window of 3 seconds (Window PTransform)\r\n4) Groups by key (Ptransform)\r\n5) A DoFn called SplitterLogicFn (DoFn)\r\n\r\nWhat I would hope to see is that as step 2 starts yielding data, each KV would get tagged in the current 3 second fixed window together so that it could get batched in step 4 together alongside the key defined in step 2. However, what Im seeing is that data is not flowing past the GroupByKey step (see image below), which to me means that I dont have the windowing setup correctly.\r\n\r\n```\r\np.apply(&quot;Reading input&quot;,\r\n        PubsubIO.readMessages()\r\n            .fromSubscription(INPUT_SUBSCRIPTION)\r\n            .withDeadLetterTopic(DL_TOPIC))\r\n        .apply(&quot;Reading data&quot;,\r\n            ParDo.of(new ReadPlanFromBqFn()))\r\n        .apply(Window.into(FixedWindows.of(Duration.standardSeconds(3))))\r\n        .apply(GroupByKey.create())\r\n        .apply(&quot;Splitting store/item combinations&quot;,\r\n            ParDo.of(new SplitItemCombos()))\r\n```\r\nWhat am I missing?\r\n\r\nUPDATE:\r\n\r\nHere are a list of other things I tried:\r\n- GroupedIntoBatches:\r\n```\r\n.apply(GroupIntoBatches.&lt;Integer, FieldValueList&gt;ofSize(100)\r\n            .withMaxBufferingDuration(Duration.standardSeconds(1)))\r\n```\r\n- Adding triggers:\r\n```\r\n.apply(Window.&lt;FieldValueList&gt;into(FixedWindows.of(Duration.standardSeconds(1)))\r\n            .triggering(Repeatedly.forever(AfterWatermark.pastEndOfWindow()))\r\n                .withAllowedLateness(Duration.standardSeconds(3))\r\n                .discardingFiredPanes()\r\n            )\r\n```\r\n\r\nIn the end nothing gets passed the Group By transform.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ALJTE.png","title":"Apache Beam Unbounded Pipeline Windowing","body":"<p>I have an unbounded Apache Beam pipeline running in Dataflow that does a very simple set of instructions:</p>\n<ol>\n<li>It reads a pubsub message (PubsubIO)</li>\n<li>It pulls the timestamp from the message, pulls data from BigQuery, parses the result into KV values (DoFn)</li>\n<li>Windows the data into fixed window of 3 seconds (Window PTransform)</li>\n<li>Groups by key (Ptransform)</li>\n<li>A DoFn called SplitterLogicFn (DoFn)</li>\n</ol>\n<p>What I would hope to see is that as step 2 starts yielding data, each KV would get tagged in the current 3 second fixed window together so that it could get batched in step 4 together alongside the key defined in step 2. However, what Im seeing is that data is not flowing past the GroupByKey step (see image below), which to me means that I dont have the windowing setup correctly.</p>\n<pre><code>p.apply(&quot;Reading input&quot;,\n        PubsubIO.readMessages()\n            .fromSubscription(INPUT_SUBSCRIPTION)\n            .withDeadLetterTopic(DL_TOPIC))\n        .apply(&quot;Reading data&quot;,\n            ParDo.of(new ReadPlanFromBqFn()))\n        .apply(Window.into(FixedWindows.of(Duration.standardSeconds(3))))\n        .apply(GroupByKey.create())\n        .apply(&quot;Splitting store/item combinations&quot;,\n            ParDo.of(new SplitItemCombos()))\n</code></pre>\n<p>What am I missing?</p>\n<p>UPDATE:</p>\n<p>Here are a list of other things I tried:</p>\n<ul>\n<li>GroupedIntoBatches:</li>\n</ul>\n<pre><code>.apply(GroupIntoBatches.&lt;Integer, FieldValueList&gt;ofSize(100)\n            .withMaxBufferingDuration(Duration.standardSeconds(1)))\n</code></pre>\n<ul>\n<li>Adding triggers:</li>\n</ul>\n<pre><code>.apply(Window.&lt;FieldValueList&gt;into(FixedWindows.of(Duration.standardSeconds(1)))\n            .triggering(Repeatedly.forever(AfterWatermark.pastEndOfWindow()))\n                .withAllowedLateness(Duration.standardSeconds(3))\n                .discardingFiredPanes()\n            )\n</code></pre>\n<p>In the end nothing gets passed the Group By transform.\n<a href=\"https://i.stack.imgur.com/ALJTE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ALJTE.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","logging","log4j2"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1677756368,"post_id":75614700,"comment_id":133402479,"body_markdown":"`maxFiles=&quot;50&quot;` ????? 50 ???","body":"<code>maxFiles=&quot;50&quot;</code> ????? 50 ???"},{"owner":{"account_id":319988,"reputation":10970,"user_id":638028,"accept_rate":91,"display_name":"Klitos Kyriacou"},"score":0,"creation_date":1677756889,"post_id":75614700,"comment_id":133402628,"body_markdown":"Isn&#39;t it wasteful to have a 10-digit counter? Even if you produced 1 log file every second, it would still take you 317 years to get to the 9999999999th log file.","body":"Isn&#39;t it wasteful to have a 10-digit counter? Even if you produced 1 log file every second, it would still take you 317 years to get to the 9999999999th log file."},{"owner":{"account_id":1003622,"reputation":516,"user_id":1017901,"display_name":"bodrin"},"score":0,"creation_date":1677761171,"post_id":75614700,"comment_id":133403814,"body_markdown":"Guys, how is this related? In production I&#39;m using &lt;SizeBasedTriggeringPolicy size=&quot;50 MB&quot;/&gt; with maxFiles=50 ... the padding can be less of course - it is to illustrate the problem","body":"Guys, how is this related? In production I&#39;m using &lt;SizeBasedTriggeringPolicy size=&quot;50 MB&quot;/&gt; with maxFiles=50 ... the padding can be less of course - it is to illustrate the problem"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1677769907,"post_id":75614700,"comment_id":133406552,"body_markdown":"https://logging.apache.org/log4j/2.x/manual/appenders.html, `maxFiles`,`The maximum number of files to allow in the time period matching the file pattern. If the number of files is exceeded the oldest file will be deleted. If specified, the value must be greater than 1. If the value is less than zero or omitted then the number of files will not be limited.`","body":"<a href=\"https://logging.apache.org/log4j/2.x/manual/appenders.html\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/2.x/manual/appenders.html</a>, <code>maxFiles</code>,<code>The maximum number of files to allow in the time period matching the file pattern. If the number of files is exceeded the oldest file will be deleted. If specified, the value must be greater than 1. If the value is less than zero or omitted then the number of files will not be limited.</code>"},{"owner":{"account_id":319988,"reputation":10970,"user_id":638028,"accept_rate":91,"display_name":"Klitos Kyriacou"},"score":0,"creation_date":1677793578,"post_id":75614700,"comment_id":133413056,"body_markdown":"Can you give more detail about what you mean by &quot;it gets stuck at 100&quot;? What happens after that? Does your app continue running but no logs are produced? Does your app hang and not return from a log call? By the way, I&#39;m not sure what problem @life888888 is referring to either.","body":"Can you give more detail about what you mean by &quot;it gets stuck at 100&quot;? What happens after that? Does your app continue running but no logs are produced? Does your app hang and not return from a log call? By the way, I&#39;m not sure what problem @life888888 is referring to either."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1677807455,"post_id":75614700,"comment_id":133415162,"body_markdown":"(1) if I config maxFiles=&quot;10&quot;, I will get `mylog.0000000001.log.gz,mylog.0000000002.log.gz,,...,mylog.0000000009.log.gz&#39;, **mylog.0000000010.log.gz**. (2) Why would I expect 100 log files to rotate when I set maxFiles to 10 only ? |(3) When I am testing the program, if I just use **while loop**, the log file will not be listed in the file explorer, because there is no chance. But when I add **thread sleep** in **while loop** , the file explorer will be able to list the log file.","body":"(1) if I config maxFiles=&quot;10&quot;, I will get `mylog.0000000001.log.gz,mylog.0000000002.log.gz,,...,mylog.&zwnj;&#8203;0000000009.log.gz&#39;, <b>mylog.0000000010.log.gz</b>. (2) Why would I expect 100 log files to rotate when I set maxFiles to 10 only ? |(3) When I am testing the program, if I just use <b>while loop</b>, the log file will not be listed in the file explorer, because there is no chance. But when I add <b>thread sleep</b> in <b>while loop</b> , the file explorer will be able to list the log file."},{"owner":{"account_id":319988,"reputation":10970,"user_id":638028,"accept_rate":91,"display_name":"Klitos Kyriacou"},"score":0,"creation_date":1677851979,"post_id":75614700,"comment_id":133423903,"body_markdown":"@life888888 if you have maxFiles=&quot;10&quot; and then you have reached a total of ten files mylog0001, ... mylog0010, then the next file will be created as mylog0011 and mylog0001 will be deleted. Then there will be mylog0012 and mylog0002 will be deleted. Thus, there will always be just 10 files, but the integer in the name will continue to go up forever.","body":"@life888888 if you have maxFiles=&quot;10&quot; and then you have reached a total of ten files mylog0001, ... mylog0010, then the next file will be created as mylog0011 and mylog0001 will be deleted. Then there will be mylog0012 and mylog0002 will be deleted. Thus, there will always be just 10 files, but the integer in the name will continue to go up forever."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1677852796,"post_id":75614700,"comment_id":133424171,"body_markdown":"@Klitos Kyriacou, log4j-core, log4j-api, 2.20.0, RollingFile, My Log file only `mylog.0000000001.log.gz,mylog.0000000002.log.gz,,...,mylog.0000000009.log.gz&#39;, mylog.0000000010.log.gz. No 0011 or 0012....","body":"@Klitos Kyriacou, log4j-core, log4j-api, 2.20.0, RollingFile, My Log file only `mylog.0000000001.log.gz,mylog.0000000002.log.gz,,...,mylog.&zwnj;&#8203;0000000009.log.gz&#39;, mylog.0000000010.log.gz. No 0011 or 0012...."},{"owner":{"account_id":319988,"reputation":10970,"user_id":638028,"accept_rate":91,"display_name":"Klitos Kyriacou"},"score":0,"creation_date":1677857476,"post_id":75614700,"comment_id":133425645,"body_markdown":"I tried reproducing your issue, but it&#39;s working as expected. The file names continue to be incremented, it&#39;s still running and the files have numbers in the hundreds of thousands.","body":"I tried reproducing your issue, but it&#39;s working as expected. The file names continue to be incremented, it&#39;s still running and the files have numbers in the hundreds of thousands."},{"owner":{"account_id":1003622,"reputation":516,"user_id":1017901,"display_name":"bodrin"},"score":0,"creation_date":1678098544,"post_id":75614700,"comment_id":133461158,"body_markdown":"I&#39;m using 2.17.2 and it is 100% reproducible. @KlitosKyriacou which version are you using?","body":"I&#39;m using 2.17.2 and it is 100% reproducible. @KlitosKyriacou which version are you using?"},{"owner":{"account_id":1003622,"reputation":516,"user_id":1017901,"display_name":"bodrin"},"score":0,"creation_date":1678098559,"post_id":75614700,"comment_id":133461161,"body_markdown":"@life888888 there is no any time period matching the filename pattern - it is only %010i so the citation is not relevant.","body":"@life888888 there is no any time period matching the filename pattern - it is only %010i so the citation is not relevant."},{"owner":{"account_id":1003622,"reputation":516,"user_id":1017901,"display_name":"bodrin"},"score":1,"creation_date":1678100188,"post_id":75614700,"comment_id":133461686,"body_markdown":"@KlitosKyriacou just tried with 2.20.0 and it works .. it was fixed obviously, thanks","body":"@KlitosKyriacou just tried with 2.20.0 and it works .. it was fixed obviously, thanks"}],"owner":{"account_id":1003622,"reputation":516,"user_id":1017901,"display_name":"bodrin"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678115446,"creation_date":1677755777,"question_id":75614700,"body_markdown":"I have the following log4j config\r\n\r\n    &lt;RollingFile name=&quot;ROLLING_FILE&quot;&gt;\r\n            &lt;FilePattern&gt;logs/mylog.%010i.log.gz&lt;/FilePattern&gt;\r\n            &lt;DirectWriteRolloverStrategy maxFiles=&quot;50&quot;/&gt;\r\n            &lt;Policies&gt;\r\n                &lt;SizeBasedTriggeringPolicy size=&quot;1 KB&quot;/&gt;\r\n            &lt;/Policies&gt;\r\n            &lt;PatternLayout&gt;\r\n                &lt;Pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} %-5p %c [%t] (..%-C{3}) %x | %m%n&lt;/Pattern&gt;\r\n                &lt;Header&gt;${sys:log4j.mylog.name} ${sys:log4j.mylog.version} build-${sys:log4j.mylog.build.number}%n&lt;/Header&gt;\r\n            &lt;/PatternLayout&gt;\r\n            &lt;Append&gt;true&lt;/Append&gt;\r\n        &lt;/RollingFile&gt;\r\n\r\nand then I&#39;m just logging infinitely\r\n\r\n      for (; ; ) {\r\n         log.error(&quot;errorrrrr&quot;);\r\n      }\r\n\r\nand it gets stuck at \r\n\r\n    -rw-r--r--. 1 test test 166 Mar  2 13:04 mylog.0000000098.log.gz\r\n    -rw-r--r--. 1 test test 167 Mar  2 13:04 mylog.0000000099.log.gz\r\n    -rw-r--r--. 1 test test   0 Mar  2 13:04 mylog.0000000100.log\r\n    -rw-r--r--. 1 test test 165 Mar  2 13:04 mylog.0000000100.log.gz\r\n\r\nand it does not pass 100th file.\r\n\r\nWhen I do not use the padding it works perfectly fine\r\n\r\n                 &lt;FilePattern&gt;logs/mylog.%i.log.gz&lt;/FilePattern&gt;\r\n\r\nSo looks like a bug?\r\n\r\n\r\n\r\n\r\n\r\nEDIT: To give some more context - I&#39;m trying to find a configuration which gives me:\r\n* easy grepping in a sorted order like\r\n\r\n       zgrep &quot;something&quot; mylog.*\r\n\r\n* total log file limit - I&#39;m not able to use date-time patterns as there you get the limit per the date-time but i need a total one\r\n* bonus would be for the most recent logs to be always in mylog.log ... and I&#39;m wondering why it does not do it like that actually? ... at least a sym link could be provided for *nix systems\r\n\r\n\r\nEDIT2: Seems like a bug in log4j 2.17.2 as with 2.20.0 it works as expected.","title":"Log4j2 DirectWriteRolloverStrategy stuck at 100th log file","body":"<p>I have the following log4j config</p>\n<pre><code>&lt;RollingFile name=&quot;ROLLING_FILE&quot;&gt;\n        &lt;FilePattern&gt;logs/mylog.%010i.log.gz&lt;/FilePattern&gt;\n        &lt;DirectWriteRolloverStrategy maxFiles=&quot;50&quot;/&gt;\n        &lt;Policies&gt;\n            &lt;SizeBasedTriggeringPolicy size=&quot;1 KB&quot;/&gt;\n        &lt;/Policies&gt;\n        &lt;PatternLayout&gt;\n            &lt;Pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} %-5p %c [%t] (..%-C{3}) %x | %m%n&lt;/Pattern&gt;\n            &lt;Header&gt;${sys:log4j.mylog.name} ${sys:log4j.mylog.version} build-${sys:log4j.mylog.build.number}%n&lt;/Header&gt;\n        &lt;/PatternLayout&gt;\n        &lt;Append&gt;true&lt;/Append&gt;\n    &lt;/RollingFile&gt;\n</code></pre>\n<p>and then I'm just logging infinitely</p>\n<pre><code>  for (; ; ) {\n     log.error(&quot;errorrrrr&quot;);\n  }\n</code></pre>\n<p>and it gets stuck at</p>\n<pre><code>-rw-r--r--. 1 test test 166 Mar  2 13:04 mylog.0000000098.log.gz\n-rw-r--r--. 1 test test 167 Mar  2 13:04 mylog.0000000099.log.gz\n-rw-r--r--. 1 test test   0 Mar  2 13:04 mylog.0000000100.log\n-rw-r--r--. 1 test test 165 Mar  2 13:04 mylog.0000000100.log.gz\n</code></pre>\n<p>and it does not pass 100th file.</p>\n<p>When I do not use the padding it works perfectly fine</p>\n<pre><code>             &lt;FilePattern&gt;logs/mylog.%i.log.gz&lt;/FilePattern&gt;\n</code></pre>\n<p>So looks like a bug?</p>\n<p>EDIT: To give some more context - I'm trying to find a configuration which gives me:</p>\n<ul>\n<li><p>easy grepping in a sorted order like</p>\n<pre><code> zgrep &quot;something&quot; mylog.*\n</code></pre>\n</li>\n<li><p>total log file limit - I'm not able to use date-time patterns as there you get the limit per the date-time but i need a total one</p>\n</li>\n<li><p>bonus would be for the most recent logs to be always in mylog.log ... and I'm wondering why it does not do it like that actually? ... at least a sym link could be provided for *nix systems</p>\n</li>\n</ul>\n<p>EDIT2: Seems like a bug in log4j 2.17.2 as with 2.20.0 it works as expected.</p>\n"},{"tags":["java","java-io"],"comments":[{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":0,"creation_date":1678109286,"post_id":75651403,"comment_id":133464103,"body_markdown":"What do you mean by &#39;spaces&#39;?    Bytes with value 0x20, or gaps on a screen display?","body":"What do you mean by &#39;spaces&#39;?    Bytes with value 0x20, or gaps on a screen display?"},{"owner":{"account_id":25478454,"reputation":1,"user_id":19275255,"display_name":"Ahmet Cicek"},"score":0,"creation_date":1678110029,"post_id":75651403,"comment_id":133464330,"body_markdown":"I mean gaps on a screen display.When I try to read them using readByte(),I get 0.When I write character &#39;A&#39; and call readByte method two times to read it,I get 0 and 65 respectively.","body":"I mean gaps on a screen display.When I try to read them using readByte(),I get 0.When I write character &#39;A&#39; and call readByte method two times to read it,I get 0 and 65 respectively."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1678110039,"post_id":75651403,"comment_id":133464334,"body_markdown":"Generally speaking: the internal layout/encoding of String or any other object has very little to do with the bytes that end up written to a file or stream. Both `OutputStream.write()` (as well as `String.getBytes()`) and `DataOutputStream.writeChars()` are exactly specified as to what output they produce and that specification doesn&#39;t depend on the internal structure/representation of `String` in Java.","body":"Generally speaking: the internal layout/encoding of String or any other object has very little to do with the bytes that end up written to a file or stream. Both <code>OutputStream.write()</code> (as well as <code>String.getBytes()</code>) and <code>DataOutputStream.writeChars()</code> are exactly specified as to what output they produce and that specification doesn&#39;t depend on the internal structure/representation of <code>String</code> in Java."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1678110136,"post_id":75651403,"comment_id":133464367,"body_markdown":"[This answer of mine](https://stackoverflow.com/a/5078365/40342) is about a very similar question in principle (despite looking at it from the reading perspective, most of the answer still applies).","body":"<a href=\"https://stackoverflow.com/a/5078365/40342\">This answer of mine</a> is about a very similar question in principle (despite looking at it from the reading perspective, most of the answer still applies)."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1678111164,"post_id":75651403,"comment_id":133464721,"body_markdown":"from the [documentation](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/io/DataOutputStream.html#writeChar(int)) of `writeChar()`, referenced by the documentation of `writeChars()`: &quot;*Writes a char to the underlying output stream as a 2-byte value, high byte first.*&quot; - apparently the app used to show the file does *interpret* the high order byte (`0` for posted characters) as a space","body":"from the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/io/DataOutputStream.html#writeChar(int)\" rel=\"nofollow noreferrer\">documentation</a> of <code>writeChar()</code>, referenced by the documentation of <code>writeChars()</code>: &quot;<i>Writes a char to the underlying output stream as a 2-byte value, high byte first.</i>&quot; - apparently the app used to show the file does <i>interpret</i> the high order byte (<code>0</code> for posted characters) as a space"},{"owner":{"account_id":25478454,"reputation":1,"user_id":19275255,"display_name":"Ahmet Cicek"},"score":0,"creation_date":1678114168,"post_id":75651403,"comment_id":133465673,"body_markdown":"I made a mistake writing CharWriter,it should be FileWriter.I fixed it.","body":"I made a mistake writing CharWriter,it should be FileWriter.I fixed it."}],"answers":[{"tags":[],"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678109643,"creation_date":1678109643,"answer_id":75651492,"question_id":75651403,"body_markdown":"Your FileOutputStream is given a byte array to write.  You converted a String to the byte array.  Since the String only contains characters in the range 0x00 to 0x7F, each character takes only one byte.\r\n\r\nThat is, ABC.toBytes().length is 3.\r\n\r\nString to bytes is a **conversion** operation, see [the doc](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#getBytes--).\r\n\r\nYour DataOutputStream is intended to write binary data, and that is what it does.  Each character takes two bytes. One of the bytes will be 0x00, which you are apparently displaying as a space.\r\n\r\nSee the [documentation](https://docs.oracle.com/javase/8/docs/api/java/io/DataOutputStream.html#writeChar-int-) for writeChar (writeChars is like a sequence of writeChar calls).","title":"Why does FileWriter write only one byte?","body":"<p>Your FileOutputStream is given a byte array to write.  You converted a String to the byte array.  Since the String only contains characters in the range 0x00 to 0x7F, each character takes only one byte.</p>\n<p>That is, ABC.toBytes().length is 3.</p>\n<p>String to bytes is a <strong>conversion</strong> operation, see <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#getBytes--\" rel=\"nofollow noreferrer\">the doc</a>.</p>\n<p>Your DataOutputStream is intended to write binary data, and that is what it does.  Each character takes two bytes. One of the bytes will be 0x00, which you are apparently displaying as a space.</p>\n<p>See the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/DataOutputStream.html#writeChar-int-\" rel=\"nofollow noreferrer\">documentation</a> for writeChar (writeChars is like a sequence of writeChar calls).</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1678115272,"creation_date":1678115272,"answer_id":75652484,"question_id":75651403,"body_markdown":"Read the documentation.\r\n\r\nHere is the javadoc of [`DataOutputStream.writeChars`](https://docs.oracle.com/javase/7/docs/api/java/io/DataOutputStream.html#writeChars(java.lang.String)):\r\n\r\n&gt; Writes a string to the underlying output stream as a sequence of characters. Each character is written to the data output stream as if by the writeChar method. If no exception is thrown, the counter written is incremented by twice the length of s.\r\n\r\nSo.. doesn&#39;t explain anything, other than &#39;look at the docs of `writeChar`, so let&#39;s do that:\r\n\r\n&gt; Writes a char to the underlying output stream as a 2-byte value, high byte first. If no exception is thrown, the counter written is incremented by 2.\r\n\r\nAh. It writes 2 bytes, &#39;high byte&#39; first. That explains why you have 6 things in your file when you `writeChars` `&quot;ABC&quot;`. Each character takes up 2 bytes.\r\n\r\n----\r\n\r\n### Encoding\r\n\r\nComputers are number-based. Hence, computers are engineered in the obvious way as far as text is concerned: There is a table that maps a character, such as &#39;a&#39;, to a number, such as &#39;97&#39;.\r\n\r\nThere are many such mappings available. The most popular one, by far, is the unicode mapping. This maps __millions__ of characters. Not just &#39;a&#39; and &#39;0&#39;, but also &#39;tab&#39;, &#39;make a bell sound&#39;, &#39;I am not a real character I am just here so you can figure out the byte ordering&#39;, &#39;please put an umlaut on the previously rendered character&#39;, &#39;please switch to right-to-left rendering&#39;, &#39;the skin color of the next emoji is middle brown&#39;, and simply, &#39;poop emoji&#39;.\r\n\r\nA byte is 8 bits. Just like a single light switch (1 bit) can only represent 2 things (&#39;on&#39;, and &#39;off&#39;, and that&#39;s all you can do with a single light switch), 8 bits can represent 256 unique states.\r\n\r\n__A byte is not enough to store unicode!!__ - that&#39;s obvious then, if there are millions of unicode, one byte is not necessarily enough.\r\n\r\nGiven a bunch of text, we can put it in terms of &#39;a sequence of unicode numbers&#39;. For example, the text &quot;Hi ☃&quot; (That&#39;s the unicode snowman, yes, that&#39;s in there too) is the sequence: 72, 105, 32, 9731.\r\n\r\nWe now need a way to store such a sequence back to a file. We can&#39;t just stick 72105329731 in there, because we have no idea where one character starts and the other ends. We could just use 4 bytes per character (enough to store up to 4 billion or so, all unicode code points fit easily), but that&#39;s wasteful.\r\n\r\nSo, a very popular encoding is called UTF-8. UTF-8 encodes unicode such that all things with a &#39;codepoint&#39; between 0 and 127 take only 1 byte. Yes, it&#39;s a variable amount of bytes per codepoint.\r\n\r\nHence, &quot;ABC&quot; stored in UTF-8 is only 3 bytes large, because the codepoints for all 3 characters are in this 0-127 range. That range is called ASCII and contains the most obvious simple english-oriented characters: A-Z, a-z, 0-9, $, #, &quot;, @, but no € or &#163; or &#252; or &#231;. All those characters (€, &#231;, etc) __are__ in unicode, but storing them with the UTF-8 encoding system means they end up stored as 2 bytes (or possibly 3, I&#39;d have to look up the codepoints).\r\n\r\nUnicode isn&#39;t the only table around (it&#39;s designed to be universal, but before unicode, there were lots of more specific tables, such as ISO-8859-5 which is a page specifically designed for cyrillic (used in Ukraine, Russia, Serbia, Bulgaria, for example), these are _much_ smaller (only 256 entries in them.. so that you can store them 1 byte per character, which, on 30 year old hardware, was kinda required for things to work quickly).\r\n\r\nUTF-8 isn&#39;t the only system around to store these number sequence. There&#39;s also UCS4 (a.k.a. UTF-32) and UTF16, which even comes in variants (UTF16BE and UTF16LE).\r\n\r\nUTF-8, UTF16-BE, ISO-8859-5 - these are called _charset encodings_.\r\n\r\nHence, __anytime you have a string and turn it into bytes and vice versa, you ARE applying a charset encoding__.\r\n\r\nIf you encode a string to bytes using encoding A and then convert the bytes back to a string using encoding B, you get gobbledygook out. This even has a fun name: [Mojibake](https://en.wikipedia.org/wiki/Mojibake?useskin=vector).\r\n\r\nWhen you write `new String(someByteArr)`, or `someString.getBytes()`, __stop doing that__, because the JVM has to imagine what charset encoding you want. On JVM17+, it&#39;s always UTF-8, before that, it&#39;s &quot;whatever your OS decided is the default for the system&quot;, which on linux is usually UTF-8 but on windows, for example, tends to be CP252 or some other windows-specific ISO-8859-1-esque simpler encoding. It&#39;s confusing you.\r\n\r\nPoint is, &quot;ABC&quot;, in almost all encodings, ends up being the same sequence of bytes... and that sequence consists of 3 bytes only.\r\n\r\n## Characters\r\n\r\nIn java, `char` is half of a unicode surrogate pair. Basically, `char` values are usually unicode, but can not be larger than 16 bit, meaning, doesn&#39;t go beyond 65536. That covers a ton of unicode (even the snowman), but not everything. Emojis go further than 65536. When java was designed, 16 bit per char was seen as an acceptable compromise: Covers most characters you&#39;d ever want to use, and still &#39;only&#39; 16 bit so e.g. strings represented in memory won&#39;t be _too_ hard on your RAM requirements.\r\n\r\nHence, even though unicode can require up to 4 bytes and UTF-8 can spend up to 4 bytes to store a single character, `char` only takes 2 (and, as a consequence, something like an emoji actually takes up 2 chars in a string in java; things beyond the range end up as a surrogate pair: 2 chars that can be reconstructed into a single unicode code point).\r\n\r\nHence, why `writeChar` spends 2 bytes. It doesn&#39;t do the fancy UTF-8 thing of having an algorithm that stores the value using a variable amount of bytes.\r\n\r\nGenerally, you don&#39;t want to use `writeChar`. It&#39;s needlessly inefficient on simplistic mostly ASCII text, and it&#39;s not _more_ efficient when your text body is all emojis either. It&#39;s from the days of yore when &#39;just encode it as UTF-8&#39; was seen as particularly convoluted and problematic (not a deserved reputation, and _these days_ everybody loves UTF-8 and has seen the light).\r\n","title":"Why does FileWriter write only one byte?","body":"<p>Read the documentation.</p>\n<p>Here is the javadoc of <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/DataOutputStream.html#writeChars(java.lang.String)\" rel=\"nofollow noreferrer\"><code>DataOutputStream.writeChars</code></a>:</p>\n<blockquote>\n<p>Writes a string to the underlying output stream as a sequence of characters. Each character is written to the data output stream as if by the writeChar method. If no exception is thrown, the counter written is incremented by twice the length of s.</p>\n</blockquote>\n<p>So.. doesn't explain anything, other than 'look at the docs of <code>writeChar</code>, so let's do that:</p>\n<blockquote>\n<p>Writes a char to the underlying output stream as a 2-byte value, high byte first. If no exception is thrown, the counter written is incremented by 2.</p>\n</blockquote>\n<p>Ah. It writes 2 bytes, 'high byte' first. That explains why you have 6 things in your file when you <code>writeChars</code> <code>&quot;ABC&quot;</code>. Each character takes up 2 bytes.</p>\n<hr />\n<h3>Encoding</h3>\n<p>Computers are number-based. Hence, computers are engineered in the obvious way as far as text is concerned: There is a table that maps a character, such as 'a', to a number, such as '97'.</p>\n<p>There are many such mappings available. The most popular one, by far, is the unicode mapping. This maps <strong>millions</strong> of characters. Not just 'a' and '0', but also 'tab', 'make a bell sound', 'I am not a real character I am just here so you can figure out the byte ordering', 'please put an umlaut on the previously rendered character', 'please switch to right-to-left rendering', 'the skin color of the next emoji is middle brown', and simply, 'poop emoji'.</p>\n<p>A byte is 8 bits. Just like a single light switch (1 bit) can only represent 2 things ('on', and 'off', and that's all you can do with a single light switch), 8 bits can represent 256 unique states.</p>\n<p><strong>A byte is not enough to store unicode!!</strong> - that's obvious then, if there are millions of unicode, one byte is not necessarily enough.</p>\n<p>Given a bunch of text, we can put it in terms of 'a sequence of unicode numbers'. For example, the text &quot;Hi ☃&quot; (That's the unicode snowman, yes, that's in there too) is the sequence: 72, 105, 32, 9731.</p>\n<p>We now need a way to store such a sequence back to a file. We can't just stick 72105329731 in there, because we have no idea where one character starts and the other ends. We could just use 4 bytes per character (enough to store up to 4 billion or so, all unicode code points fit easily), but that's wasteful.</p>\n<p>So, a very popular encoding is called UTF-8. UTF-8 encodes unicode such that all things with a 'codepoint' between 0 and 127 take only 1 byte. Yes, it's a variable amount of bytes per codepoint.</p>\n<p>Hence, &quot;ABC&quot; stored in UTF-8 is only 3 bytes large, because the codepoints for all 3 characters are in this 0-127 range. That range is called ASCII and contains the most obvious simple english-oriented characters: A-Z, a-z, 0-9, $, #, &quot;, @, but no € or £ or ü or ç. All those characters (€, ç, etc) <strong>are</strong> in unicode, but storing them with the UTF-8 encoding system means they end up stored as 2 bytes (or possibly 3, I'd have to look up the codepoints).</p>\n<p>Unicode isn't the only table around (it's designed to be universal, but before unicode, there were lots of more specific tables, such as ISO-8859-5 which is a page specifically designed for cyrillic (used in Ukraine, Russia, Serbia, Bulgaria, for example), these are <em>much</em> smaller (only 256 entries in them.. so that you can store them 1 byte per character, which, on 30 year old hardware, was kinda required for things to work quickly).</p>\n<p>UTF-8 isn't the only system around to store these number sequence. There's also UCS4 (a.k.a. UTF-32) and UTF16, which even comes in variants (UTF16BE and UTF16LE).</p>\n<p>UTF-8, UTF16-BE, ISO-8859-5 - these are called <em>charset encodings</em>.</p>\n<p>Hence, <strong>anytime you have a string and turn it into bytes and vice versa, you ARE applying a charset encoding</strong>.</p>\n<p>If you encode a string to bytes using encoding A and then convert the bytes back to a string using encoding B, you get gobbledygook out. This even has a fun name: <a href=\"https://en.wikipedia.org/wiki/Mojibake?useskin=vector\" rel=\"nofollow noreferrer\">Mojibake</a>.</p>\n<p>When you write <code>new String(someByteArr)</code>, or <code>someString.getBytes()</code>, <strong>stop doing that</strong>, because the JVM has to imagine what charset encoding you want. On JVM17+, it's always UTF-8, before that, it's &quot;whatever your OS decided is the default for the system&quot;, which on linux is usually UTF-8 but on windows, for example, tends to be CP252 or some other windows-specific ISO-8859-1-esque simpler encoding. It's confusing you.</p>\n<p>Point is, &quot;ABC&quot;, in almost all encodings, ends up being the same sequence of bytes... and that sequence consists of 3 bytes only.</p>\n<h2>Characters</h2>\n<p>In java, <code>char</code> is half of a unicode surrogate pair. Basically, <code>char</code> values are usually unicode, but can not be larger than 16 bit, meaning, doesn't go beyond 65536. That covers a ton of unicode (even the snowman), but not everything. Emojis go further than 65536. When java was designed, 16 bit per char was seen as an acceptable compromise: Covers most characters you'd ever want to use, and still 'only' 16 bit so e.g. strings represented in memory won't be <em>too</em> hard on your RAM requirements.</p>\n<p>Hence, even though unicode can require up to 4 bytes and UTF-8 can spend up to 4 bytes to store a single character, <code>char</code> only takes 2 (and, as a consequence, something like an emoji actually takes up 2 chars in a string in java; things beyond the range end up as a surrogate pair: 2 chars that can be reconstructed into a single unicode code point).</p>\n<p>Hence, why <code>writeChar</code> spends 2 bytes. It doesn't do the fancy UTF-8 thing of having an algorithm that stores the value using a variable amount of bytes.</p>\n<p>Generally, you don't want to use <code>writeChar</code>. It's needlessly inefficient on simplistic mostly ASCII text, and it's not <em>more</em> efficient when your text body is all emojis either. It's from the days of yore when 'just encode it as UTF-8' was seen as particularly convoluted and problematic (not a deserved reputation, and <em>these days</em> everybody loves UTF-8 and has seen the light).</p>\n"}],"owner":{"account_id":25478454,"reputation":1,"user_id":19275255,"display_name":"Ahmet Cicek"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678115272,"creation_date":1678109063,"question_id":75651403,"body_markdown":"When I use Java,writeChars method of DataOutputStream and write method of FileWriter,I get different results.writeChars method leaves spaces in front of each character but write method of FileWriter does not.\r\n\r\nWhen I use Java,FileOutputStream and write for example\r\n```\r\nFileOutputStream fis=new FileOutputStream(my_file);\r\nfis.write(&quot;ABC&quot;.getBytes());\r\n```\r\n\r\nI see ABC in txt file but when I write\r\n\r\n```\r\nDataOutputStream dos=new DataOutputStream(my_file);\r\ndos.writeChars(&quot;ABC&quot;);\r\n```\r\n\r\nI see A B C(there are space in front of each character,which is because char takes two bytes in java.\r\nBut this is not the case when I use FileWriter.It writes only ABC without spaces.What is the reason of that? How does FileWriter write characters consuming only one byte?\r\nThanks in advance","title":"Why does FileWriter write only one byte?","body":"<p>When I use Java,writeChars method of DataOutputStream and write method of FileWriter,I get different results.writeChars method leaves spaces in front of each character but write method of FileWriter does not.</p>\n<p>When I use Java,FileOutputStream and write for example</p>\n<pre><code>FileOutputStream fis=new FileOutputStream(my_file);\nfis.write(&quot;ABC&quot;.getBytes());\n</code></pre>\n<p>I see ABC in txt file but when I write</p>\n<pre><code>DataOutputStream dos=new DataOutputStream(my_file);\ndos.writeChars(&quot;ABC&quot;);\n</code></pre>\n<p>I see A B C(there are space in front of each character,which is because char takes two bytes in java.\nBut this is not the case when I use FileWriter.It writes only ABC without spaces.What is the reason of that? How does FileWriter write characters consuming only one byte?\nThanks in advance</p>\n"},{"tags":["java","string","list","loops","java-stream"],"comments":[{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1677251727,"post_id":75558057,"comment_id":133306729,"body_markdown":"Is it possible that the entry `Sweden.Stockholm.Solna` can come after `Sweden`?","body":"Is it possible that the entry <code>Sweden.Stockholm.Solna</code> can come after <code>Sweden</code>?"},{"owner":{"account_id":10710682,"reputation":13,"user_id":7883006,"display_name":"FlowerHill"},"score":0,"creation_date":1677252357,"post_id":75558057,"comment_id":133306896,"body_markdown":"Yes, the String list can be in any order.","body":"Yes, the String list can be in any order."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1677254596,"post_id":75558057,"comment_id":133307583,"body_markdown":"What happens if one of the duplicates is a child (or parent) of another duplicate? If `Sweden.Stockholm.Solna` appeared twice in the original list, then would the resulting list contain only `America.Chicago`?","body":"What happens if one of the duplicates is a child (or parent) of another duplicate? If <code>Sweden.Stockholm.Solna</code> appeared twice in the original list, then would the resulting list contain only <code>America.Chicago</code>?"},{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":0,"creation_date":1677255199,"post_id":75558057,"comment_id":133307810,"body_markdown":"My understanding of the OP&#39;s request is that it only returns the uppermost parents, regardless of if there are any duplicates. However, the resulting list should not contain duplicates.","body":"My understanding of the OP&#39;s request is that it only returns the uppermost parents, regardless of if there are any duplicates. However, the resulting list should not contain duplicates."},{"owner":{"account_id":10710682,"reputation":13,"user_id":7883006,"display_name":"FlowerHill"},"score":0,"creation_date":1677255327,"post_id":75558057,"comment_id":133307853,"body_markdown":"No, even if Sweden.Stockholm.Solna appears twice in the original list, the result should still be [&quot;Sweden&quot;, &quot;America.Chicago&quot;]","body":"No, even if Sweden.Stockholm.Solna appears twice in the original list, the result should still be [&quot;Sweden&quot;, &quot;America.Chicago&quot;]"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1677373020,"post_id":75558057,"comment_id":133325241,"body_markdown":"@FlowerHill  What if the original list contains no duplicates but does contain prefixes of other entries along with unique entries?  Should `Sweden, Sweden.StockHolm.Solna, America.Chicago` also return  `Sweden, America.Chicago`?","body":"@FlowerHill  What if the original list contains no duplicates but does contain prefixes of other entries along with unique entries?  Should <code>Sweden, Sweden.StockHolm.Solna, America.Chicago</code> also return  <code>Sweden, America.Chicago</code>?"}],"answers":[{"tags":[],"owner":{"account_id":27869903,"reputation":1,"user_id":21280672,"display_name":"AlinIvan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677252475,"creation_date":1677252475,"answer_id":75558372,"question_id":75558057,"body_markdown":"Provided correctness of isChildOf method, a nested loop checking every element against every other element in the list (except the current element) should solve the problem.\r\n\r\nFirst remove duplicates\r\n\r\n```\r\nSet&lt;String&gt; set = new HashSet&lt;&gt;(list);\r\nlist.clear();\r\nlist.addAll(set);\r\n```\r\nThen remove children\r\n```\r\nfor(string child : list) {\r\n    for(string parent : list) {\r\n       if (isChildOf(Parent, Child)):\r\n          list.remove(Child)\r\n    }\r\n}\r\n```","title":"Handle a list of String","body":"<p>Provided correctness of isChildOf method, a nested loop checking every element against every other element in the list (except the current element) should solve the problem.</p>\n<p>First remove duplicates</p>\n<pre><code>Set&lt;String&gt; set = new HashSet&lt;&gt;(list);\nlist.clear();\nlist.addAll(set);\n</code></pre>\n<p>Then remove children</p>\n<pre><code>for(string child : list) {\n    for(string parent : list) {\n       if (isChildOf(Parent, Child)):\n          list.remove(Child)\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678115268,"creation_date":1677253651,"answer_id":75558588,"question_id":75558057,"body_markdown":"Here is one way using sets. This will work with any depth of the hierarchy.\r\n- first add the list to a set. This removes duplicates as they aren&#39;t needed.\r\n- then iterate over a copy of that set and remove each element\r\n  - if the current element is not equal to the element under test\r\n  - and the current element starts with the element under test. \r\n```\r\nList&lt;String&gt; hierarchy = List.of(\r\n       &quot;Sweden.Stockholm.Solna&quot;, &quot;America.Chicago&quot;, &quot;America.Chicago&quot;,\r\n       &quot;America.Chicago.Cicero&quot;, &quot;Sweden.Stockholm.Solna&quot;,&quot;Sweden&quot;, &quot;Sweden&quot;);\r\n\r\nSet&lt;String&gt; set = nodes.stream()\r\n        .collect(Collectors.toCollection(HashSet::new));\r\n\r\nfor (String str : new HashSet&lt;&gt;(set)) {\r\n    set.removeIf(v -&gt; !v.equals(str) &amp;&amp; v.startsWith(str+&quot;.&quot;));\r\n}\r\n\r\nset.forEach(System.out::println);\r\n```\r\nprints\r\n```\r\nSweden\r\nAmerica.Chicago","title":"Handle a list of String","body":"<p>Here is one way using sets. This will work with any depth of the hierarchy.</p>\n<ul>\n<li>first add the list to a set. This removes duplicates as they aren't needed.</li>\n<li>then iterate over a copy of that set and remove each element\n<ul>\n<li>if the current element is not equal to the element under test</li>\n<li>and the current element starts with the element under test.</li>\n</ul>\n</li>\n</ul>\n<pre><code>List&lt;String&gt; hierarchy = List.of(\n       &quot;Sweden.Stockholm.Solna&quot;, &quot;America.Chicago&quot;, &quot;America.Chicago&quot;,\n       &quot;America.Chicago.Cicero&quot;, &quot;Sweden.Stockholm.Solna&quot;,&quot;Sweden&quot;, &quot;Sweden&quot;);\n\nSet&lt;String&gt; set = nodes.stream()\n        .collect(Collectors.toCollection(HashSet::new));\n\nfor (String str : new HashSet&lt;&gt;(set)) {\n    set.removeIf(v -&gt; !v.equals(str) &amp;&amp; v.startsWith(str+&quot;.&quot;));\n}\n\nset.forEach(System.out::println);\n</code></pre>\n<p>prints</p>\n<pre><code>Sweden\nAmerica.Chicago\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677380653,"creation_date":1677254980,"answer_id":75558822,"question_id":75558057,"body_markdown":"Here is my implementation that I tested and is working as desired.\r\n\r\n    //initialize list from example\r\n    List&lt;String&gt; nodes = Arrays.asList(new String[] {&quot;Sweden&quot;, &quot;Sweden&quot;, &quot;Sweden.Stockholm.Solna&quot;, &quot;America.Chicago&quot;, &quot;America.Chicago&quot;, &quot;America.Chicago.Cicero&quot;});\r\n    //sort into map grouped by the root level of the entries (regardless of if the &quot;root&quot; exists in list or not)\r\n    Map&lt;String, List&lt;String&gt;&gt; groups = nodes.stream().collect(Collectors.groupingBy(s -&gt; isRoot(s) ? s : s.substring(0, s.indexOf(&quot;.&quot;)), Collectors.toList()));\r\n    //since they are already sorted by the root, we can just return the shortest string in each list\r\n    List&lt;String&gt; parents = groups.entrySet().stream().map(e -&gt; getParent(e.getValue())).collect(Collectors.toList());\r\n    System.out.println(parents);\r\n\r\nAnd here are the custom methods I used\r\n\r\n    //return the shortest String in the list\r\n    private String getParent(List&lt;String&gt; nodes) {\r\n        return nodes.stream().min(Comparator.comparingInt(s -&gt; s.length())).get();\r\n    }\r\n\r\n    private boolean isRoot(String s) {\r\n        return !s.contains(&quot;.&quot;);\r\n    }\r\n\r\nEdit: As the OP has already accepted the answer, I will leave the previous implementation. However, as was pointed out in comments, this solution misses cases where some parent elements share the same root level. I have modified my implementation to accommodate for this. No changes were necessary for `List&lt;String&gt; nodes` or `Map&lt;String, List&lt;String&gt;&gt; groups`, so I will only post the revised `List&lt;String&gt; parents` and the new helper method.\r\n\r\n    List&lt;String&gt; parents = groups.entrySet().stream().distinct().map(e -&gt; {\r\n\t\t\tList&lt;String&gt; set = e.getValue();\r\n\t\t\tint min = set.stream().mapToInt(s -&gt; numLevels(s)).min().getAsInt();\r\n\t\t\treturn set.stream().distinct().filter(s -&gt; numLevels(s) == min).toList();\r\n\t\t}).flatMap(List::stream).collect(Collectors.toList());\r\n\r\nnumLevels method\r\n\r\n    private static int numLevels(String s) {\r\n\t\treturn (int)s.chars().filter(i -&gt; i == (int)&#39;.&#39;).count();\r\n\t}\r\n\r\nThe new implementation uses `distinct` to remove duplicates. Then for each list entry in the `groups` map, it determines the minimum number of levels (using the number of occurrences of `.`) and returns a filtered list of elements that meet the criteria. Finally it flattens the results into a single list.","title":"Handle a list of String","body":"<p>Here is my implementation that I tested and is working as desired.</p>\n<pre><code>//initialize list from example\nList&lt;String&gt; nodes = Arrays.asList(new String[] {&quot;Sweden&quot;, &quot;Sweden&quot;, &quot;Sweden.Stockholm.Solna&quot;, &quot;America.Chicago&quot;, &quot;America.Chicago&quot;, &quot;America.Chicago.Cicero&quot;});\n//sort into map grouped by the root level of the entries (regardless of if the &quot;root&quot; exists in list or not)\nMap&lt;String, List&lt;String&gt;&gt; groups = nodes.stream().collect(Collectors.groupingBy(s -&gt; isRoot(s) ? s : s.substring(0, s.indexOf(&quot;.&quot;)), Collectors.toList()));\n//since they are already sorted by the root, we can just return the shortest string in each list\nList&lt;String&gt; parents = groups.entrySet().stream().map(e -&gt; getParent(e.getValue())).collect(Collectors.toList());\nSystem.out.println(parents);\n</code></pre>\n<p>And here are the custom methods I used</p>\n<pre><code>//return the shortest String in the list\nprivate String getParent(List&lt;String&gt; nodes) {\n    return nodes.stream().min(Comparator.comparingInt(s -&gt; s.length())).get();\n}\n\nprivate boolean isRoot(String s) {\n    return !s.contains(&quot;.&quot;);\n}\n</code></pre>\n<p>Edit: As the OP has already accepted the answer, I will leave the previous implementation. However, as was pointed out in comments, this solution misses cases where some parent elements share the same root level. I have modified my implementation to accommodate for this. No changes were necessary for <code>List&lt;String&gt; nodes</code> or <code>Map&lt;String, List&lt;String&gt;&gt; groups</code>, so I will only post the revised <code>List&lt;String&gt; parents</code> and the new helper method.</p>\n<pre><code>List&lt;String&gt; parents = groups.entrySet().stream().distinct().map(e -&gt; {\n        List&lt;String&gt; set = e.getValue();\n        int min = set.stream().mapToInt(s -&gt; numLevels(s)).min().getAsInt();\n        return set.stream().distinct().filter(s -&gt; numLevels(s) == min).toList();\n    }).flatMap(List::stream).collect(Collectors.toList());\n</code></pre>\n<p>numLevels method</p>\n<pre><code>private static int numLevels(String s) {\n    return (int)s.chars().filter(i -&gt; i == (int)'.').count();\n}\n</code></pre>\n<p>The new implementation uses <code>distinct</code> to remove duplicates. Then for each list entry in the <code>groups</code> map, it determines the minimum number of levels (using the number of occurrences of <code>.</code>) and returns a filtered list of elements that meet the criteria. Finally it flattens the results into a single list.</p>\n"},{"tags":[],"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677256168,"creation_date":1677256168,"answer_id":75559037,"question_id":75558057,"body_markdown":"**Create a new list to get all the duplicates**\r\n\r\n    Set&lt;String&gt; set = new HashSet&lt;String&gt;();\r\n    List&lt;String&gt; duplicates = new ArrayList&lt;String&gt;();\r\n    list.forEach(word -&gt; {\r\n    \t\t\t\r\n    \tif(!set.add(word))\r\n\t\t\tduplicates.add(word);\r\n\r\n    });\r\n\r\n**Create another list to get all the childs**\r\n\r\n\tList&lt;String&gt; childs = new ArrayList&lt;String&gt;();\r\n\tfor(String child : duplicates) {\r\n\t    for(String parent : duplicates) {\r\n\t       if (isChildOf(parent, child))\r\n\t    \t   childs.add(child);\r\n\t    }\r\n\t}\r\n\r\n**Remove all childs from the duplicates**\r\n\r\n    duplicates.removeAll(childs);\r\n\r\nFinal `duplicates` is what you want as your final outcome.","title":"Handle a list of String","body":"<p><strong>Create a new list to get all the duplicates</strong></p>\n<pre><code>Set&lt;String&gt; set = new HashSet&lt;String&gt;();\nList&lt;String&gt; duplicates = new ArrayList&lt;String&gt;();\nlist.forEach(word -&gt; {\n            \n    if(!set.add(word))\n        duplicates.add(word);\n\n});\n</code></pre>\n<p><strong>Create another list to get all the childs</strong></p>\n<pre><code>List&lt;String&gt; childs = new ArrayList&lt;String&gt;();\nfor(String child : duplicates) {\n    for(String parent : duplicates) {\n       if (isChildOf(parent, child))\n           childs.add(child);\n    }\n}\n</code></pre>\n<p><strong>Remove all childs from the duplicates</strong></p>\n<pre><code>duplicates.removeAll(childs);\n</code></pre>\n<p>Final <code>duplicates</code> is what you want as your final outcome.</p>\n"}],"owner":{"account_id":10710682,"reputation":13,"user_id":7883006,"display_name":"FlowerHill"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75558588,"answer_count":4,"score":1,"last_activity_date":1678115268,"creation_date":1677250717,"question_id":75558057,"body_markdown":"I have a list of String, I need to find all duplicates, also remove all children if the parents are in the list.\r\nMy string can have a max 4 levels:\r\nLevel0: &quot;Root&quot;, or leave empty\r\nLevel1: &quot;Sweden&quot;, &quot;America&quot;, etc...\r\nLevel2: &quot;Sweden.Stockholm&quot;, &quot;America.Chicago&quot;, etc...\r\nLevel3: &quot;Sweden.Stockholm.Solna&quot;, &quot;America.Chicago.Cicero&quot;, etc...\r\n\r\nSo if I have a list `[&quot;Sweden&quot;, &quot;Sweden&quot;, &quot;Sweden.Stockholm.Solna&quot;, &quot;America.Chicago&quot;, &quot;America.Chicago&quot;, &quot;America.Chicago.Cicero&quot;] `then only `[&quot;Sweden&quot;, &quot;America.Chicago&quot;]` should be returned.\r\n\r\nHow to do this with Java, preferably java 8 stream API?\r\n\r\nThe following 2 methods might be used to check if a String is a parent or child of another String:\r\n```\r\nprivate boolean isChildOf(String parentPath, String path) {\r\n   return path.startsWith(parentPath.isBlank() ? parentPath : parentPath + &quot;.&quot;) &amp;&amp; !path.equals(parentPath);\r\n}\r\n```\r\n\r\n```\r\nprivate boolean isParentOf(String childPath, String path) {\r\n   return childPath.startsWith(path + &quot;.&quot;) &amp;&amp; !path.equals(childPath);\r\n}\r\n```","title":"Handle a list of String","body":"<p>I have a list of String, I need to find all duplicates, also remove all children if the parents are in the list.\nMy string can have a max 4 levels:\nLevel0: &quot;Root&quot;, or leave empty\nLevel1: &quot;Sweden&quot;, &quot;America&quot;, etc...\nLevel2: &quot;Sweden.Stockholm&quot;, &quot;America.Chicago&quot;, etc...\nLevel3: &quot;Sweden.Stockholm.Solna&quot;, &quot;America.Chicago.Cicero&quot;, etc...</p>\n<p>So if I have a list <code>[&quot;Sweden&quot;, &quot;Sweden&quot;, &quot;Sweden.Stockholm.Solna&quot;, &quot;America.Chicago&quot;, &quot;America.Chicago&quot;, &quot;America.Chicago.Cicero&quot;] </code>then only <code>[&quot;Sweden&quot;, &quot;America.Chicago&quot;]</code> should be returned.</p>\n<p>How to do this with Java, preferably java 8 stream API?</p>\n<p>The following 2 methods might be used to check if a String is a parent or child of another String:</p>\n<pre><code>private boolean isChildOf(String parentPath, String path) {\n   return path.startsWith(parentPath.isBlank() ? parentPath : parentPath + &quot;.&quot;) &amp;&amp; !path.equals(parentPath);\n}\n</code></pre>\n<pre><code>private boolean isParentOf(String childPath, String path) {\n   return childPath.startsWith(path + &quot;.&quot;) &amp;&amp; !path.equals(childPath);\n}\n</code></pre>\n"},{"tags":["java","android","unity-game-engine","webview"],"comments":[{"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"score":0,"creation_date":1519135017,"post_id":44095726,"comment_id":84778589,"body_markdown":"Is this problem resolved for you?","body":"Is this problem resolved for you?"},{"owner":{"account_id":10565292,"reputation":2108,"user_id":7783718,"display_name":"Abhay Koradiya"},"score":0,"creation_date":1675102755,"post_id":44095726,"comment_id":132852263,"body_markdown":"I am also facing this issue. Any solutuion?","body":"I am also facing this issue. Any solutuion?"}],"answers":[{"tags":[],"owner":{"account_id":14694736,"reputation":116,"user_id":10670947,"display_name":"thunderkill"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675178433,"creation_date":1675178433,"answer_id":75299295,"question_id":44095726,"body_markdown":"you can use this bit of code may be it will be of help \r\nplease check this before posting \r\n    [QA link](https://stackoverflow.com/questions/20255920/java-lang-illegalstateexception-calling-view-methods-on-another-thread-than-the)\r\n\r\n    runOnUiThread(new Runnable() {\r\n            @Override\r\n        public void run() {\r\n            // Code for WebView goes here\r\n        }\r\n    });\r\n    \r\n    \r\n    // This code is BAD and will block the UI thread\r\n    webView.loadUrl(&quot;javascript:fn()&quot;);\r\n    while(result == null) {\r\n      Thread.sleep(100);\r\n    }","title":"Android WebView activity crashes :java.lang.IllegalStateException: Calling View methods on another thread than the UI thread","body":"<p>you can use this bit of code may be it will be of help\nplease check this before posting\n<a href=\"https://stackoverflow.com/questions/20255920/java-lang-illegalstateexception-calling-view-methods-on-another-thread-than-the\">QA link</a></p>\n<pre><code>runOnUiThread(new Runnable() {\n        @Override\n    public void run() {\n        // Code for WebView goes here\n    }\n});\n\n\n// This code is BAD and will block the UI thread\nwebView.loadUrl(&quot;javascript:fn()&quot;);\nwhile(result == null) {\n  Thread.sleep(100);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11988404,"reputation":1332,"user_id":8772299,"display_name":"amitklein"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678115145,"creation_date":1675325046,"answer_id":75320183,"question_id":44095726,"body_markdown":"The best solution by the web is\r\n\r\n    runOnUiThread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n    \r\n                // TODO Your code\r\n            }\r\n        });\r\n\r\nWhen you do that [look here][1] so see how to use ```runOnUiThread``` currently\r\n\r\nExample on how to use it in Unity ([documentation link][2]):\r\n\r\n    void Start()\r\n        {\r\n            AndroidJavaClass unityPlayer = new AndroidJavaClass(&quot;com.unity3d.player.UnityPlayer&quot;);\r\n            AndroidJavaObject activity = unityPlayer.GetStatic&lt;AndroidJavaObject&gt;(&quot;currentActivity&quot;);\r\n            activity.Call(&quot;runOnUiThread&quot;, new AndroidJavaRunnable(runOnUiThread));\r\n        }\r\n    \r\n        void runOnUiThread()\r\n        {\r\n            Debug.Log(&quot;I&#39;m running on the Java UI thread!&quot;);\r\n        }\r\n\r\nAnother Example on how to use it in Unity: ([Link to source][3])\r\n\r\n    UnityPlayer.currentActivity.runOnUiThread(new Runnable() {\r\n        public void run() {\r\n               // Run in Thread...\r\n        }\r\n    });\r\n\r\n \r\n\r\nBut you can also use\r\n\r\n    UserContrl1_LOadDataMethod()\r\n    {\r\n        string name = &quot;&quot;;\r\n        if(myObject.InvokeRequired)\r\n        {\r\n            myObject.Invoke(new MethodInvoker(delegate { name = textbox1.text; }));\r\n        }\r\n        if(name == &quot;MyName&quot;)\r\n        {\r\n            // do whatever\r\n        }\r\n    }\r\n\r\n[For more info you can use This Link][4]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/11140285/how-do-we-use-runonuithread-in-android\r\n  [2]: https://docs.unity3d.com/ScriptReference/AndroidJavaRunnable.html\r\n  [3]: https://forum.unity.com/threads/runonuithread-not-working-when-extending-unityplayeractivity.235088/\r\n  [4]: https://stackoverflow.com/q/19483270/","title":"Android WebView activity crashes :java.lang.IllegalStateException: Calling View methods on another thread than the UI thread","body":"<p>The best solution by the web is</p>\n<pre><code>runOnUiThread(new Runnable() {\n        @Override\n        public void run() {\n\n            // TODO Your code\n        }\n    });\n</code></pre>\n<p>When you do that <a href=\"https://stackoverflow.com/questions/11140285/how-do-we-use-runonuithread-in-android\">look here</a> so see how to use <code>runOnUiThread</code> currently</p>\n<p>Example on how to use it in Unity (<a href=\"https://docs.unity3d.com/ScriptReference/AndroidJavaRunnable.html\" rel=\"nofollow noreferrer\">documentation link</a>):</p>\n<pre><code>void Start()\n    {\n        AndroidJavaClass unityPlayer = new AndroidJavaClass(&quot;com.unity3d.player.UnityPlayer&quot;);\n        AndroidJavaObject activity = unityPlayer.GetStatic&lt;AndroidJavaObject&gt;(&quot;currentActivity&quot;);\n        activity.Call(&quot;runOnUiThread&quot;, new AndroidJavaRunnable(runOnUiThread));\n    }\n\n    void runOnUiThread()\n    {\n        Debug.Log(&quot;I'm running on the Java UI thread!&quot;);\n    }\n</code></pre>\n<p>Another Example on how to use it in Unity: (<a href=\"https://forum.unity.com/threads/runonuithread-not-working-when-extending-unityplayeractivity.235088/\" rel=\"nofollow noreferrer\">Link to source</a>)</p>\n<pre><code>UnityPlayer.currentActivity.runOnUiThread(new Runnable() {\n    public void run() {\n           // Run in Thread...\n    }\n});\n</code></pre>\n<p>But you can also use</p>\n<pre><code>UserContrl1_LOadDataMethod()\n{\n    string name = &quot;&quot;;\n    if(myObject.InvokeRequired)\n    {\n        myObject.Invoke(new MethodInvoker(delegate { name = textbox1.text; }));\n    }\n    if(name == &quot;MyName&quot;)\n    {\n        // do whatever\n    }\n}\n</code></pre>\n<p><a href=\"https://stackoverflow.com/q/19483270/\">For more info you can use This Link</a></p>\n"}],"owner":{"account_id":3564827,"reputation":703,"user_id":2976657,"accept_rate":42,"display_name":"shubham003"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1312,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1678115145,"creation_date":1495362272,"question_id":44095726,"body_markdown":"I have a custom android plugin for unity which opens a `Webview` activity. When I try to open the activity it crashes. When I try to initialise the `WebView`, below log statements appear from log cat. \r\n\r\n    Caused by: java.lang.IllegalStateException: Calling View methods on another thread than the UI thread.\r\n    at com.android.webview.chromium.WebViewChromium.createThreadException(WebViewChromium.java:252)\r\n    at com.android.webview.chromium.WebViewChromium.checkThread(WebViewChromium.java:267)  \r\n    at com.android.webview.chromium.WebViewChromium.init(WebViewChromium.java:163)\r\n    at android.webkit.WebView.&lt;init&gt;(WebView.java:661)\r\n    at android.webkit.WebView.&lt;init&gt;(WebView.java:596)\r\n    at android.webkit.WebView.&lt;init&gt;(WebView.java:579)\r\n    at android.webkit.WebView.&lt;init&gt;(WebView.java:566)\r\n    at android.webkit.WebView.&lt;init&gt;(WebView.java:556)\r\n    at com.vadrnet.unitysdk.MyWebViewClass.&lt;init&gt;(MyWebViewClass.java:31)\r\n    at com.vadrnet.unitysdk.WebViewActivity$1.run(WebViewActivity.java:207)\r\n    at android.app.Activity.runOnUiThread(Activity.java:5850)\r\n    at com.vadrnet.unitysdk.WebViewActivity.onCreate(WebViewActivity.java:205)\r\n    at android.app.Activity.performCreate(Activity.java:6582)\r\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1113)\r\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2532)\r\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2667)\r\n    at android.app.ActivityThread.-wrap11(ActivityThread.java)\r\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1494)\r\n    at android.os.Handler.dispatchMessage(Handler.java:111)\r\n    at android.os.Looper.loop(Looper.java:207)\r\n    at android.app.ActivityThread.main(ActivityThread.java:5776)\r\n    at java.lang.reflect.Method.invoke(Native Method)\r\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:789)\r\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:679)\r\n\r\n\r\nMy code for starting the activity via Unity Script is \r\n\r\n    AndroidJavaClass unity = new AndroidJavaClass(&quot;com.unity3d.player.UnityPlayer&quot;);\r\n    AndroidJavaObject currentActivity = unity.GetStatic&lt;AndroidJavaObject&gt;(&quot;currentActivity&quot;);\r\n    currentActivity.Call(&quot;runOnUiThread&quot;, new AndroidJavaRunnable(() =&gt;\r\n    {\r\n       AndroidJavaClass jc = new AndroidJavaClass(&quot;com.vadrnet.unitysdk.ManagerClass&quot;);\r\n       AndroidJavaObject className = jc.CallStatic&lt;AndroidJavaObject&gt;(&quot;instance&quot;);\r\n       className.Call(&quot;click&quot;, currentActivity, url);\r\n     }));\r\n\r\nand the Click function in the Plugin is \r\n\r\n     public void click(Activity root, String url){\r\n        Intent intent = new  Intent(root, WebViewActivity.class);\r\n        intent.putExtra(&quot;url&quot;, url);\r\n        root.startActivity(intent);\r\n    }\r\n\r\nI couldn&#39;t get why the error occurs despite being opening the activity in the UI thread itself. Any help would be great.\r\n","title":"Android WebView activity crashes :java.lang.IllegalStateException: Calling View methods on another thread than the UI thread","body":"<p>I have a custom android plugin for unity which opens a <code>Webview</code> activity. When I try to open the activity it crashes. When I try to initialise the <code>WebView</code>, below log statements appear from log cat. </p>\n\n<pre><code>Caused by: java.lang.IllegalStateException: Calling View methods on another thread than the UI thread.\nat com.android.webview.chromium.WebViewChromium.createThreadException(WebViewChromium.java:252)\nat com.android.webview.chromium.WebViewChromium.checkThread(WebViewChromium.java:267)  \nat com.android.webview.chromium.WebViewChromium.init(WebViewChromium.java:163)\nat android.webkit.WebView.&lt;init&gt;(WebView.java:661)\nat android.webkit.WebView.&lt;init&gt;(WebView.java:596)\nat android.webkit.WebView.&lt;init&gt;(WebView.java:579)\nat android.webkit.WebView.&lt;init&gt;(WebView.java:566)\nat android.webkit.WebView.&lt;init&gt;(WebView.java:556)\nat com.vadrnet.unitysdk.MyWebViewClass.&lt;init&gt;(MyWebViewClass.java:31)\nat com.vadrnet.unitysdk.WebViewActivity$1.run(WebViewActivity.java:207)\nat android.app.Activity.runOnUiThread(Activity.java:5850)\nat com.vadrnet.unitysdk.WebViewActivity.onCreate(WebViewActivity.java:205)\nat android.app.Activity.performCreate(Activity.java:6582)\nat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1113)\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2532)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2667)\nat android.app.ActivityThread.-wrap11(ActivityThread.java)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1494)\nat android.os.Handler.dispatchMessage(Handler.java:111)\nat android.os.Looper.loop(Looper.java:207)\nat android.app.ActivityThread.main(ActivityThread.java:5776)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:789)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:679)\n</code></pre>\n\n<p>My code for starting the activity via Unity Script is </p>\n\n<pre><code>AndroidJavaClass unity = new AndroidJavaClass(\"com.unity3d.player.UnityPlayer\");\nAndroidJavaObject currentActivity = unity.GetStatic&lt;AndroidJavaObject&gt;(\"currentActivity\");\ncurrentActivity.Call(\"runOnUiThread\", new AndroidJavaRunnable(() =&gt;\n{\n   AndroidJavaClass jc = new AndroidJavaClass(\"com.vadrnet.unitysdk.ManagerClass\");\n   AndroidJavaObject className = jc.CallStatic&lt;AndroidJavaObject&gt;(\"instance\");\n   className.Call(\"click\", currentActivity, url);\n }));\n</code></pre>\n\n<p>and the Click function in the Plugin is </p>\n\n<pre><code> public void click(Activity root, String url){\n    Intent intent = new  Intent(root, WebViewActivity.class);\n    intent.putExtra(\"url\", url);\n    root.startActivity(intent);\n}\n</code></pre>\n\n<p>I couldn't get why the error occurs despite being opening the activity in the UI thread itself. Any help would be great.</p>\n"},{"tags":["java","soap","mockito","junit4"],"answers":[{"tags":[],"owner":{"account_id":3764278,"reputation":1175,"user_id":3128213,"display_name":"George Lords of Castle"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1678115083,"creation_date":1678115083,"answer_id":75652448,"question_id":71791232,"body_markdown":"The SOAPConnection you are mocking is not the one inside your method, this is the reason what you are expecting doesn&#39;t happen.\r\n\r\nMore in detail, I think the lines you want to test are well known in documentation, so it is not so important to test them.\r\nIt is more important to test the input data handling to become input of your call (getSoapMessage(requestString) in your case) and the output data handling to become the output the caller expects (no-operation in your case, but maybe you should do something to return something that &quot;talks the client language&quot;).\r\n\r\nThe logic of the calling can be tested in the code of the &quot;other side&quot;.\r\n\r\nFinally if you want to have a better code you can isolate all the soap related lines in a collaborator and mock it in order to test input and output handling.","title":"How to create unit test for SOAPConnection.call and mock SOAPConnection?","body":"<p>The SOAPConnection you are mocking is not the one inside your method, this is the reason what you are expecting doesn't happen.</p>\n<p>More in detail, I think the lines you want to test are well known in documentation, so it is not so important to test them.\nIt is more important to test the input data handling to become input of your call (getSoapMessage(requestString) in your case) and the output data handling to become the output the caller expects (no-operation in your case, but maybe you should do something to return something that &quot;talks the client language&quot;).</p>\n<p>The logic of the calling can be tested in the code of the &quot;other side&quot;.</p>\n<p>Finally if you want to have a better code you can isolate all the soap related lines in a collaborator and mock it in order to test input and output handling.</p>\n"}],"owner":{"account_id":1030703,"reputation":155,"user_id":1039047,"accept_rate":9,"display_name":"Tony_Ynot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":329,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678115083,"creation_date":1649387161,"question_id":71791232,"body_markdown":"Welcome to point out any mistake on my code, as this is my first time using SOAP and unit test.\r\n\r\nI have a simple `SoapService` which create `SOAPConnection` and send the `SOAPMessage`\r\n\r\n**SoapService.java**\r\n\r\n    public SOAPMessage sendSoapRequest(String url, String requestString) throws IOException, SOAPException {\r\n\r\n        SOAPConnectionFactory soapConnectionFactory = SOAPConnectionFactory.newInstance();\r\n        SOAPConnection soapConnection= soapConnectionFactory.createConnection();\r\n\r\n\r\n        SOAPResponse soapResponse = soapConnection.call(getSoapMessage(requestString), url);\r\n        soapConnection.close();\r\n\r\n        return soapResponse;\r\n    }\r\n\r\nand I have unit test class for `sendSoapRequest`\r\n\r\n**SOAPServiceTest.java**\r\n\r\n    @SpringBootTest\r\n    @RunWith(SpringRunner.class)\r\n    public class SoapServiceTest {\r\n\r\n        @Autowired\r\n        SoapService soapService;\r\n\r\n        @Mock\r\n        SOAPConnection mockSoapConnection;\r\n\r\n        private SOAPMessage mockSoapResponse = mock(SOAPMessage.class);\r\n\r\n        @Test\r\n        public void testSendSoapMessage() throws IOException, SOAPException{\r\n\r\n            when(mockSoapConnection.call(any(SOAPMessage.class), anyString())).thenReturn(mockSoapResponse);\r\n\r\n            SOAPMessage soapResponse = soapService.sendSoapRequest(&quot;http://test.com/test.asmx&quot;, &quot;SampleSoapRequestString...&quot;);\r\n\r\n            Assert.assertNotNull(soapResponse);\r\n            Assert.assertEquals(soapResponse,mockSoapResponse);\r\n        }\r\n    }\r\n\r\nReferring the code \r\n\r\n`when(mockSoapConnection.call(any(SOAPMessage.class),anyString())).thenReturn(mockSoapResponse);` \r\n\r\nit should return `mockSoapResponse` but it didn&#39;t, it actually trying to send the `SOAPMessage` to the dummy url  `&quot;http://test.com/test.asmx&quot;` when comes to this line \r\n\r\n`SOAPResponse soapResponse = soapConnection.call(getSoapMessage(requestString), url);`.\r\n\r\n\r\nSo my questions are\r\n\r\n 1. What is the correct way to have a unit test for &#39;sendSoapRequest`?\r\n 2. Is this the correct way to mock the `SOAPConnection` and define the behavior using `Mockito.when` ?\r\n 3. Am I missing any setup/configuration on the mock ?\r\n\r\nI found a related question but it didn&#39;t show the complete setup:\r\n[Java - Mocking soap call with SOAPMessage request][1]\r\n\r\nAppreciate for any comment/idea/guide, because I&#39;m really out of idea to get this work.\r\nThank you.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/50396905/java-mocking-soap-call-with-soapmessage-request","title":"How to create unit test for SOAPConnection.call and mock SOAPConnection?","body":"<p>Welcome to point out any mistake on my code, as this is my first time using SOAP and unit test.</p>\n<p>I have a simple <code>SoapService</code> which create <code>SOAPConnection</code> and send the <code>SOAPMessage</code></p>\n<p><strong>SoapService.java</strong></p>\n<pre><code>public SOAPMessage sendSoapRequest(String url, String requestString) throws IOException, SOAPException {\n\n    SOAPConnectionFactory soapConnectionFactory = SOAPConnectionFactory.newInstance();\n    SOAPConnection soapConnection= soapConnectionFactory.createConnection();\n\n\n    SOAPResponse soapResponse = soapConnection.call(getSoapMessage(requestString), url);\n    soapConnection.close();\n\n    return soapResponse;\n}\n</code></pre>\n<p>and I have unit test class for <code>sendSoapRequest</code></p>\n<p><strong>SOAPServiceTest.java</strong></p>\n<pre><code>@SpringBootTest\n@RunWith(SpringRunner.class)\npublic class SoapServiceTest {\n\n    @Autowired\n    SoapService soapService;\n\n    @Mock\n    SOAPConnection mockSoapConnection;\n\n    private SOAPMessage mockSoapResponse = mock(SOAPMessage.class);\n\n    @Test\n    public void testSendSoapMessage() throws IOException, SOAPException{\n\n        when(mockSoapConnection.call(any(SOAPMessage.class), anyString())).thenReturn(mockSoapResponse);\n\n        SOAPMessage soapResponse = soapService.sendSoapRequest(&quot;http://test.com/test.asmx&quot;, &quot;SampleSoapRequestString...&quot;);\n\n        Assert.assertNotNull(soapResponse);\n        Assert.assertEquals(soapResponse,mockSoapResponse);\n    }\n}\n</code></pre>\n<p>Referring the code</p>\n<p><code>when(mockSoapConnection.call(any(SOAPMessage.class),anyString())).thenReturn(mockSoapResponse);</code></p>\n<p>it should return <code>mockSoapResponse</code> but it didn't, it actually trying to send the <code>SOAPMessage</code> to the dummy url  <code>&quot;http://test.com/test.asmx&quot;</code> when comes to this line</p>\n<p><code>SOAPResponse soapResponse = soapConnection.call(getSoapMessage(requestString), url);</code>.</p>\n<p>So my questions are</p>\n<ol>\n<li>What is the correct way to have a unit test for 'sendSoapRequest`?</li>\n<li>Is this the correct way to mock the <code>SOAPConnection</code> and define the behavior using <code>Mockito.when</code> ?</li>\n<li>Am I missing any setup/configuration on the mock ?</li>\n</ol>\n<p>I found a related question but it didn't show the complete setup:\n<a href=\"https://stackoverflow.com/questions/50396905/java-mocking-soap-call-with-soapmessage-request\">Java - Mocking soap call with SOAPMessage request</a></p>\n<p>Appreciate for any comment/idea/guide, because I'm really out of idea to get this work.\nThank you.</p>\n"},{"tags":["java","junit","spring-webflux","okhttp"],"owner":{"account_id":27195162,"reputation":33,"user_id":20728182,"display_name":"JsbDev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":347,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678114869,"creation_date":1677918589,"question_id":75634497,"body_markdown":"In my connector class im down-streaming an API GET call with a body to another service using Spring `WebClient` as below. \r\n\r\n    public Mono&lt;SampleResponse&gt; getSampleResponse(final int id, final SampleRequest sampleRequest) {\r\n        return webclient\r\n            .method(HttpMethod.GET)\r\n            .uri(&quot;get/sample/{id}&quot;, id)\r\n            .body(Mono.just(sampleRequest), SampleRequest .class)\r\n            .accept(MediaType.APPLICATION_JSON)\r\n            .retrieve()\r\n            .onStatus(HttpStatus.NOT_FOUND::equals, r -&gt; Mono.empty())\r\n            .onStatus(HttpStatus::isError, r -&gt; Mono.empty())\r\n            .bodyToMono(SampleResponse.class)\r\n            .doOnError(throwable -&gt; log.error(EXTERNAL_SERVICE_ERROR, throwable.getMessage()));\r\n    }\r\n\r\nAnd im going to test this with below test case :\r\n\r\n    private MockWebServer server;\r\n    private SampleResponseConnector connector;\r\n\r\n    @BeforeEach\r\n    void setup() {\r\n        server = new MockWebServer();\r\n        ReactiveWebClientConnectorFactory factory = new ReactiveWebClientConnectorFactory();\r\n        connector = new SampleResponseConnector (factory.createWebClient(\r\n            server.url(&quot;/&quot;).toString(), &quot;&quot;, null, null, null));\r\n    }\r\n\r\n    @Test\r\n    public void getSampleResponse_callsDownstreamSuccessfully() {\r\n        Random random = new Random();\r\n        int id = random.nextInt(10);\r\n        mockResponse(&quot;{\\&quot;available\\&quot;:[\\&quot;CUSTOMER_ADDRESS\\&quot;,\\&quot;CUSTOMER_QUERY\\&quot;]}&quot;);\r\n        SampleRequest request = SampleRequest .builder().build();\r\n        StepVerifier.create(connector.getSampleResponse(id, request))\r\n                    .expectNextMatches(response -&gt; response.getAvailable().equals(List.of(&quot;CUSTOMER_ADDRESS&quot;, &quot;CUSTOMER_QUERY&quot;)))\r\n                    .verifyComplete();\r\n    }\r\n\r\n    private void mockResponse(String json) {\r\n        MockResponse response = new MockResponse();\r\n        response.setHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n        response.setBody(json);\r\n        server.enqueue(response);\r\n    }\r\n\r\nI&#39;m getting below failure for the test. \r\n\r\n    java.lang.IllegalArgumentException: Request must not have a body: GET /available/9 HTTP/1.1\r\n\t at okhttp3.mockwebserver.MockWebServer.readRequest(MockWebServer.java:705)\r\n\t at okhttp3.mockwebserver.MockWebServer.access$1500(MockWebServer.java:103)\r\n\t at okhttp3.mockwebserver.MockWebServer$4.processOneRequest(MockWebServer.java:566)\r\n\t at okhttp3.mockwebserver.MockWebServer$4.processConnection(MockWebServer.java:530)\r\n\t at okhttp3.mockwebserver.MockWebServer$4.execute(MockWebServer.java:456)\r\n\t at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)\r\n\t at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\t at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\t at java.base/java.lang.Thread.run(Thread.java:829)\r\n\r\n    INFO: MockWebServer[57508] done accepting connections: Interrupted function call: accept failed\r\n\r\nAny pointer would be appreciated. Or is there any other option for `MockWebServer`?","title":"Reactive WebClient GET request with body fails in MockWebServer test","body":"<p>In my connector class im down-streaming an API GET call with a body to another service using Spring <code>WebClient</code> as below.</p>\n<pre><code>public Mono&lt;SampleResponse&gt; getSampleResponse(final int id, final SampleRequest sampleRequest) {\n    return webclient\n        .method(HttpMethod.GET)\n        .uri(&quot;get/sample/{id}&quot;, id)\n        .body(Mono.just(sampleRequest), SampleRequest .class)\n        .accept(MediaType.APPLICATION_JSON)\n        .retrieve()\n        .onStatus(HttpStatus.NOT_FOUND::equals, r -&gt; Mono.empty())\n        .onStatus(HttpStatus::isError, r -&gt; Mono.empty())\n        .bodyToMono(SampleResponse.class)\n        .doOnError(throwable -&gt; log.error(EXTERNAL_SERVICE_ERROR, throwable.getMessage()));\n}\n</code></pre>\n<p>And im going to test this with below test case :</p>\n<pre><code>private MockWebServer server;\nprivate SampleResponseConnector connector;\n\n@BeforeEach\nvoid setup() {\n    server = new MockWebServer();\n    ReactiveWebClientConnectorFactory factory = new ReactiveWebClientConnectorFactory();\n    connector = new SampleResponseConnector (factory.createWebClient(\n        server.url(&quot;/&quot;).toString(), &quot;&quot;, null, null, null));\n}\n\n@Test\npublic void getSampleResponse_callsDownstreamSuccessfully() {\n    Random random = new Random();\n    int id = random.nextInt(10);\n    mockResponse(&quot;{\\&quot;available\\&quot;:[\\&quot;CUSTOMER_ADDRESS\\&quot;,\\&quot;CUSTOMER_QUERY\\&quot;]}&quot;);\n    SampleRequest request = SampleRequest .builder().build();\n    StepVerifier.create(connector.getSampleResponse(id, request))\n                .expectNextMatches(response -&gt; response.getAvailable().equals(List.of(&quot;CUSTOMER_ADDRESS&quot;, &quot;CUSTOMER_QUERY&quot;)))\n                .verifyComplete();\n}\n\nprivate void mockResponse(String json) {\n    MockResponse response = new MockResponse();\n    response.setHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\n    response.setBody(json);\n    server.enqueue(response);\n}\n</code></pre>\n<p>I'm getting below failure for the test.</p>\n<pre><code>java.lang.IllegalArgumentException: Request must not have a body: GET /available/9 HTTP/1.1\n at okhttp3.mockwebserver.MockWebServer.readRequest(MockWebServer.java:705)\n at okhttp3.mockwebserver.MockWebServer.access$1500(MockWebServer.java:103)\n at okhttp3.mockwebserver.MockWebServer$4.processOneRequest(MockWebServer.java:566)\n at okhttp3.mockwebserver.MockWebServer$4.processConnection(MockWebServer.java:530)\n at okhttp3.mockwebserver.MockWebServer$4.execute(MockWebServer.java:456)\n at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)\n at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n at java.base/java.lang.Thread.run(Thread.java:829)\n\nINFO: MockWebServer[57508] done accepting connections: Interrupted function call: accept failed\n</code></pre>\n<p>Any pointer would be appreciated. Or is there any other option for <code>MockWebServer</code>?</p>\n"},{"tags":["java","android","google-drive-api","google-drive-shared-drive"],"answers":[{"tags":[],"owner":{"account_id":23932265,"reputation":2271,"user_id":17926591,"display_name":"Fernando Lara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678114844,"creation_date":1678114844,"answer_id":75652396,"question_id":75634844,"body_markdown":"Based on your use case I think you could try using the Application Data folder from Google Drive. According to the documentation:\r\n\r\n&gt; The application data folder is a special hidden folder that your app can use to store application-specific data, such as configuration files.\r\n\r\nYou can create files within that folder only for your application, and as the folder is totally hidden for the user they will not be able to interact with it easily.\r\n\r\n&gt; This folder is only accessible by your application and its contents are hidden from the user and from other Drive apps.\r\n\r\nWhen using the `files.create` method to create a file within the folder you need to make sure of adding `appDataFolder` as `parent`, or when retrieving the file for example you need to add `appDataFolder` in the `spaces` parameter to reference that specific folder instead of the regular `My drive` section that the user is able to see and manage.\r\n\r\nIn the official documentation below you can find code samples on how to use it if you need as well.\r\n\r\n### References:\r\n\r\n- [Store application-specific data](https://developers.google.com/drive/api/guides/appdata)","title":"How to save and load user prefs (1 txt file) to user&#39;s google drive (same as Whatsapp, Viber and other apps) [Android Studio]","body":"<p>Based on your use case I think you could try using the Application Data folder from Google Drive. According to the documentation:</p>\n<blockquote>\n<p>The application data folder is a special hidden folder that your app can use to store application-specific data, such as configuration files.</p>\n</blockquote>\n<p>You can create files within that folder only for your application, and as the folder is totally hidden for the user they will not be able to interact with it easily.</p>\n<blockquote>\n<p>This folder is only accessible by your application and its contents are hidden from the user and from other Drive apps.</p>\n</blockquote>\n<p>When using the <code>files.create</code> method to create a file within the folder you need to make sure of adding <code>appDataFolder</code> as <code>parent</code>, or when retrieving the file for example you need to add <code>appDataFolder</code> in the <code>spaces</code> parameter to reference that specific folder instead of the regular <code>My drive</code> section that the user is able to see and manage.</p>\n<p>In the official documentation below you can find code samples on how to use it if you need as well.</p>\n<h3>References:</h3>\n<ul>\n<li><a href=\"https://developers.google.com/drive/api/guides/appdata\" rel=\"nofollow noreferrer\">Store application-specific data</a></li>\n</ul>\n"}],"owner":{"account_id":18197925,"reputation":13,"user_id":13242667,"display_name":"RayC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75652396,"answer_count":1,"score":0,"last_activity_date":1678114844,"creation_date":1677923260,"question_id":75634844,"body_markdown":"based on recent google changes to drive (drive api got fully deprecated on feb 2023) and most of answers and git examples are focused around that i would want any opinions or suggestions on how to save and load user prefs (1 txt file) to user&#39;s google drive (same as Whatsapp, Viber and other apps) in a android app. Being prompted to log or select a gmail account then click and you&#39;re done. \r\nIn other words just a simple string to be written to the user&#39;s cloud drive, so that it can be easily accesed from other devices if logged in the same app with the same account.\r\n\r\nIt is highly appreciated if you could provide an example/sample/link, since i have tried Google&#39;s guide which only hot me more mixed up.\r\n\r\nI have searched GIT repos for such, yet all i got are old drive based solution (which got fully deprecated as of Feb 2023) or Drive Rest which requires developer console extra setup.\r\n\r\nTo be clear, this save-load is for users on their personal accounts, so telling them to go to developer console won&#39;t do.\r\n\r\nThank you in advance","title":"How to save and load user prefs (1 txt file) to user&#39;s google drive (same as Whatsapp, Viber and other apps) [Android Studio]","body":"<p>based on recent google changes to drive (drive api got fully deprecated on feb 2023) and most of answers and git examples are focused around that i would want any opinions or suggestions on how to save and load user prefs (1 txt file) to user's google drive (same as Whatsapp, Viber and other apps) in a android app. Being prompted to log or select a gmail account then click and you're done.\nIn other words just a simple string to be written to the user's cloud drive, so that it can be easily accesed from other devices if logged in the same app with the same account.</p>\n<p>It is highly appreciated if you could provide an example/sample/link, since i have tried Google's guide which only hot me more mixed up.</p>\n<p>I have searched GIT repos for such, yet all i got are old drive based solution (which got fully deprecated as of Feb 2023) or Drive Rest which requires developer console extra setup.</p>\n<p>To be clear, this save-load is for users on their personal accounts, so telling them to go to developer console won't do.</p>\n<p>Thank you in advance</p>\n"},{"tags":["java","spring","spring-cloud-stream"],"comments":[{"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1678111602,"post_id":75628212,"comment_id":133464854,"body_markdown":"You must disable retries and DLQ processing in the binder to delegate the work to the error handler (set `maxAttempts=1`). https://docs.spring.io/spring-cloud-stream/docs/current/reference/html/spring-cloud-stream.html#_retry_template","body":"You must disable retries and DLQ processing in the binder to delegate the work to the error handler (set <code>maxAttempts=1</code>). <a href=\"https://docs.spring.io/spring-cloud-stream/docs/current/reference/html/spring-cloud-stream.html#_retry_template\" rel=\"nofollow noreferrer\">docs.spring.io/spring-cloud-stream/docs/current/reference/ht&zwnj;&#8203;ml/&hellip;</a>"},{"owner":{"account_id":5984442,"reputation":375,"user_id":4702372,"accept_rate":59,"display_name":"springenthusiast"},"score":0,"creation_date":1678112676,"post_id":75628212,"comment_id":133465199,"body_markdown":"I have these 2 properties in application.yml &quot;spring.cloud.stream.kafka.binder.consumer-properties.maxattempts=1\nspring.cloud.stream.bindings.processin0.consumer.maxAttempts=1&quot;","body":"I have these 2 properties in application.yml &quot;spring.cloud.stream.kafka.binder.consumer-properties.maxatt&zwnj;&#8203;empts=1 spring.cloud.stream.bindings.processin0.consumer.maxAttempts&zwnj;&#8203;=1&quot;"}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678114442,"creation_date":1678114442,"answer_id":75652320,"question_id":75628212,"body_markdown":"Note that all records are sent to the recoverer, either immediately (for not retryable exceptions) or after retries are exhausted.\r\n\r\nIf you need different recovery behavior based on the exception type, you need a custom recoverer (i.e. delegate to the DLPR for some exceptions only).\r\n\r\nThis works as expected for me:\r\n\r\n```java\r\n@SpringBootApplication\r\npublic class So75628212Application {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(So75628212Application.class, args);\r\n\t}\r\n\r\n\t@Bean\r\n\tConsumer&lt;String&gt; input() {\r\n\t\treturn str -&gt; {\r\n\t\t\tSystem.out.println(str);\r\n\t\t\tif (str.equals(&quot;foo&quot;)) {\r\n\t\t\t\tthrow new IllegalStateException();\r\n\t\t\t}\r\n\t\t\tthrow new IllegalArgumentException();\r\n\t\t};\r\n\t}\r\n\r\n\t@Bean\r\n\tApplicationRunner runner(KafkaTemplate&lt;byte[], byte[]&gt; template) {\r\n\t\treturn args -&gt; {\r\n\t\t\ttemplate.send(&quot;input-in-0&quot;, &quot;foo&quot;.getBytes());\r\n\t\t\ttemplate.send(&quot;input-in-0&quot;, &quot;bar&quot;.getBytes());\r\n\t\t};\r\n\t}\r\n\r\n\t@Bean\r\n\tListenerContainerCustomizer&lt;AbstractMessageListenerContainer&lt;byte[], byte[]&gt;&gt; cust() {\r\n\t\treturn (container, group, dest) -&gt; {\r\n\t\t\tDefaultErrorHandler eh = new DefaultErrorHandler((rec, ex) -&gt; {\r\n\t\t\t\tSystem.out.println(&quot;Recovered: &quot; + new String((byte[]) rec.value()));\r\n\t\t\t}, new FixedBackOff(0L, 1L));\r\n\t\t\teh.addNotRetryableExceptions(IllegalStateException.class);\r\n\t\t\tcontainer.setCommonErrorHandler(eh);\r\n\t\t};\r\n\t}\r\n\r\n}\r\n```\r\n```properties\r\nspring.cloud.stream.bindings.input-in-0.group=grp\r\nspring.cloud.stream.bindings.input-in-0.consumer.max-attempts=1\r\n```\r\nResult:\r\n```\r\nfoo\r\nRecovered: foo\r\nbar\r\nbar\r\nRecovered: bar\r\n```\r\n\r\n","title":"Sending message to DLQ only for specific exception in Spring Boot binder Kafka","body":"<p>Note that all records are sent to the recoverer, either immediately (for not retryable exceptions) or after retries are exhausted.</p>\n<p>If you need different recovery behavior based on the exception type, you need a custom recoverer (i.e. delegate to the DLPR for some exceptions only).</p>\n<p>This works as expected for me:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class So75628212Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(So75628212Application.class, args);\n    }\n\n    @Bean\n    Consumer&lt;String&gt; input() {\n        return str -&gt; {\n            System.out.println(str);\n            if (str.equals(&quot;foo&quot;)) {\n                throw new IllegalStateException();\n            }\n            throw new IllegalArgumentException();\n        };\n    }\n\n    @Bean\n    ApplicationRunner runner(KafkaTemplate&lt;byte[], byte[]&gt; template) {\n        return args -&gt; {\n            template.send(&quot;input-in-0&quot;, &quot;foo&quot;.getBytes());\n            template.send(&quot;input-in-0&quot;, &quot;bar&quot;.getBytes());\n        };\n    }\n\n    @Bean\n    ListenerContainerCustomizer&lt;AbstractMessageListenerContainer&lt;byte[], byte[]&gt;&gt; cust() {\n        return (container, group, dest) -&gt; {\n            DefaultErrorHandler eh = new DefaultErrorHandler((rec, ex) -&gt; {\n                System.out.println(&quot;Recovered: &quot; + new String((byte[]) rec.value()));\n            }, new FixedBackOff(0L, 1L));\n            eh.addNotRetryableExceptions(IllegalStateException.class);\n            container.setCommonErrorHandler(eh);\n        };\n    }\n\n}\n</code></pre>\n<pre><code>spring.cloud.stream.bindings.input-in-0.group=grp\nspring.cloud.stream.bindings.input-in-0.consumer.max-attempts=1\n</code></pre>\n<p>Result:</p>\n<pre><code>foo\nRecovered: foo\nbar\nbar\nRecovered: bar\n</code></pre>\n"}],"owner":{"account_id":5984442,"reputation":375,"user_id":4702372,"accept_rate":59,"display_name":"springenthusiast"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":531,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678114442,"creation_date":1677853003,"question_id":75628212,"body_markdown":"I am using Spring Cloud Stream binder Kafka for message processing. As part of my requirement I need to send message to DLQ for only specific user defined exception and not for all RuntimeExceptions.\r\n\r\nI followed this [link][1] and configured ListenerContainerCustomizer like below but still my code is sending all exceptions to DLQ. Also I tried to skip exception stacktrace in message header, even that is not happening. What am I missing here?\r\n\r\n     @Bean\r\n    public ListenerContainerCustomizer&lt;AbstractMessageListenerContainer&lt;byte[], byte[]&gt;&gt; customizer(DefaultErrorHandler errorHandler) {\r\n        return (container, dest, group) -&gt; container.setCommonErrorHandler(errorHandler);\r\n    }\r\n    @Bean\r\n    public DefaultErrorHandler errorHandler(DeadLetterPublishingRecoverer recovered) {\r\n        recovered.excludeHeader(DeadLetterPublishingRecoverer.HeaderNames.HeadersToAdd.EX_STACKTRACE);\r\n        recovered.addNotRetryableExceptions(UserException.class);\r\n        return new DefaultErrorHandler(recovered, new FixedBackOff(0L, 1L));\r\n    }\r\n    @Bean\r\n    public DeadLetterPublishingRecoverer publisher(KafkaTemplate&lt;Object, SpecificRecord&gt; kafkaOperations) {\r\n        return new DeadLetterPublishingRecoverer(\r\n                kafkaOperations,\r\n                (consumerRecord, exception) -&gt; {\r\n                    return new TopicPartition(dlqTopicName, 0);\r\n                }\r\n        );\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/74769810/move-only-specific-exception-to-dlq-in-spring-cloud-stream","title":"Sending message to DLQ only for specific exception in Spring Boot binder Kafka","body":"<p>I am using Spring Cloud Stream binder Kafka for message processing. As part of my requirement I need to send message to DLQ for only specific user defined exception and not for all RuntimeExceptions.</p>\n<p>I followed this <a href=\"https://stackoverflow.com/questions/74769810/move-only-specific-exception-to-dlq-in-spring-cloud-stream\">link</a> and configured ListenerContainerCustomizer like below but still my code is sending all exceptions to DLQ. Also I tried to skip exception stacktrace in message header, even that is not happening. What am I missing here?</p>\n<pre><code> @Bean\npublic ListenerContainerCustomizer&lt;AbstractMessageListenerContainer&lt;byte[], byte[]&gt;&gt; customizer(DefaultErrorHandler errorHandler) {\n    return (container, dest, group) -&gt; container.setCommonErrorHandler(errorHandler);\n}\n@Bean\npublic DefaultErrorHandler errorHandler(DeadLetterPublishingRecoverer recovered) {\n    recovered.excludeHeader(DeadLetterPublishingRecoverer.HeaderNames.HeadersToAdd.EX_STACKTRACE);\n    recovered.addNotRetryableExceptions(UserException.class);\n    return new DefaultErrorHandler(recovered, new FixedBackOff(0L, 1L));\n}\n@Bean\npublic DeadLetterPublishingRecoverer publisher(KafkaTemplate&lt;Object, SpecificRecord&gt; kafkaOperations) {\n    return new DeadLetterPublishingRecoverer(\n            kafkaOperations,\n            (consumerRecord, exception) -&gt; {\n                return new TopicPartition(dlqTopicName, 0);\n            }\n    );\n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa","batch-processing"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678114407,"creation_date":1678114407,"answer_id":75652316,"question_id":75643543,"body_markdown":"This is a session factory wide configuration and can only be enabled for the whole application.","title":"enable ordered update/insert for a specific workflow","body":"<p>This is a session factory wide configuration and can only be enabled for the whole application.</p>\n"}],"owner":{"account_id":301784,"reputation":37,"user_id":16187859,"display_name":"Nirmal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678114407,"creation_date":1678032482,"question_id":75643543,"body_markdown":"I am using jpa/hibernate in my application and working on adding a new workflow. Now I want to enable jdbc batching only for a new workflow rather than enabling it for the entire application.\r\n\r\nI am able to achieve it by enabling jdbc batching on entitymanager for a new workflow.\r\n\r\n```\r\nEntityManager em;\r\nem.beginTransaction(); \r\nem.flushMode(FlushModeType.Commit);\r\nem.unwrap(sessionImpl.class).setJdbcBatchSize(100);\r\n```\r\n\r\n**however I am not sure how to enable ordered insert and update only for this specific workflow (do not want to add it in application.properties)? Is there any way to achieve this?**\r\n\r\n\r\n**Also, wanted to check if is it true that ordered update/insert makes the overall bulk insert/update process slow?**\r\n\r\n","title":"enable ordered update/insert for a specific workflow","body":"<p>I am using jpa/hibernate in my application and working on adding a new workflow. Now I want to enable jdbc batching only for a new workflow rather than enabling it for the entire application.</p>\n<p>I am able to achieve it by enabling jdbc batching on entitymanager for a new workflow.</p>\n<pre><code>EntityManager em;\nem.beginTransaction(); \nem.flushMode(FlushModeType.Commit);\nem.unwrap(sessionImpl.class).setJdbcBatchSize(100);\n</code></pre>\n<p><strong>however I am not sure how to enable ordered insert and update only for this specific workflow (do not want to add it in application.properties)? Is there any way to achieve this?</strong></p>\n<p><strong>Also, wanted to check if is it true that ordered update/insert makes the overall bulk insert/update process slow?</strong></p>\n"},{"tags":["java","java-8","try-with-resources","autocloseable"],"answers":[{"tags":[],"owner":{"account_id":5761231,"reputation":1181,"user_id":4547594,"display_name":"Igand"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1516870693,"creation_date":1481114426,"answer_id":41017760,"question_id":41016827,"body_markdown":"Try-with-resources statement can only close those resources, that were declared and assigned within its header. So the only way is to make the Collection you are getting implement AutoCloseable or wrap it into your AutoCloseable extension, so its close() method will be called by T-W-R. Like:\r\n\r\n    try (SomeAutoCloseableCollction col = getAutoCloseables()) {\r\n\t\t\tSystem.out.println(&quot;work&quot;);\r\n\t}  //col.close() gets called\r\n\r\n\r\nFor an array, I&#39;m afraid there is no way, since you can&#39;t extend it and make it implement some interface.\r\n\r\n\r\n----------\r\n\r\n\r\nIf you were to close collection by yourself, may be look at [Apache Drill][1] project and class [`org.apache.drill.common.AutoCloseables`][1] - it does exactly that, closing lots of AutoCloseables by itself.\r\n\r\n  [1]: https://drill.apache.org/","title":"Array or collection of &quot;Autocloseable&quot; in Java8","body":"<p>Try-with-resources statement can only close those resources, that were declared and assigned within its header. So the only way is to make the Collection you are getting implement AutoCloseable or wrap it into your AutoCloseable extension, so its close() method will be called by T-W-R. Like:</p>\n\n<pre><code>try (SomeAutoCloseableCollction col = getAutoCloseables()) {\n        System.out.println(\"work\");\n}  //col.close() gets called\n</code></pre>\n\n<p>For an array, I'm afraid there is no way, since you can't extend it and make it implement some interface.</p>\n\n<hr>\n\n<p>If you were to close collection by yourself, may be look at <a href=\"https://drill.apache.org/\" rel=\"nofollow noreferrer\">Apache Drill</a> project and class <a href=\"https://drill.apache.org/\" rel=\"nofollow noreferrer\"><code>org.apache.drill.common.AutoCloseables</code></a> - it does exactly that, closing lots of AutoCloseables by itself.</p>\n"},{"tags":[],"owner":{"account_id":1037873,"reputation":1207,"user_id":1044603,"accept_rate":43,"display_name":"Eddie Curtis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1481115737,"creation_date":1481115737,"answer_id":41018230,"question_id":41016827,"body_markdown":"As the other answer states this isn&#39;t really possible. However you should ask yourself why you would need to put the whole collection in an AutoCloseable. If you want to make sure each element is closed after processing, you can do something like:\r\n\r\n    Foo[] foos = getFoos();\r\n    for (int i = 0; i &lt; foos.length; i++) {\r\n      try (Foo foo = foos[i]) {\r\n        // Your code here\r\n      }\r\n    }","title":"Array or collection of &quot;Autocloseable&quot; in Java8","body":"<p>As the other answer states this isn't really possible. However you should ask yourself why you would need to put the whole collection in an AutoCloseable. If you want to make sure each element is closed after processing, you can do something like:</p>\n\n<pre><code>Foo[] foos = getFoos();\nfor (int i = 0; i &lt; foos.length; i++) {\n  try (Foo foo = foos[i]) {\n    // Your code here\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1481118080,"creation_date":1481118080,"answer_id":41019032,"question_id":41016827,"body_markdown":"You can create methods for combining `AutoCloseable`s to a single one which will safely close all of them:\r\n\r\n    public static AutoCloseable closeBoth(AutoCloseable a, AutoCloseable b) {\r\n        if(a==null) return b;\r\n        if(b==null) return a;\r\n        return () -&gt; { try(AutoCloseable first=a) { b.close(); } };\r\n    }\r\n    public static AutoCloseable closeAll(AutoCloseable... c) {\r\n        return Arrays.stream(c).reduce(null, MyClass::closeBoth);\r\n    }\r\n\r\nThey allow to use the array returning method like\r\n\r\n    Foo[] foo;\r\n    try(AutoCloseable closeAll = MyClass.closeAll(foo=getFoos())) {\r\n        /*\r\n            use foo\r\n        */\r\n    }\r\n","title":"Array or collection of &quot;Autocloseable&quot; in Java8","body":"<p>You can create methods for combining <code>AutoCloseable</code>s to a single one which will safely close all of them:</p>\n\n<pre><code>public static AutoCloseable closeBoth(AutoCloseable a, AutoCloseable b) {\n    if(a==null) return b;\n    if(b==null) return a;\n    return () -&gt; { try(AutoCloseable first=a) { b.close(); } };\n}\npublic static AutoCloseable closeAll(AutoCloseable... c) {\n    return Arrays.stream(c).reduce(null, MyClass::closeBoth);\n}\n</code></pre>\n\n<p>They allow to use the array returning method like</p>\n\n<pre><code>Foo[] foo;\ntry(AutoCloseable closeAll = MyClass.closeAll(foo=getFoos())) {\n    /*\n        use foo\n    */\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5444810,"reputation":3671,"user_id":4331750,"accept_rate":83,"display_name":"whistling_marmot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678114402,"creation_date":1677597423,"answer_id":75593931,"question_id":41016827,"body_markdown":"It&#39;s an old question, but I&#39;ll share the code I&#39;ve ended up writing. It&#39;s for Closeable rather than AutoCloseable, but you can easily change that.\r\n\r\n\r\n    public class CloseablesCollection&lt;C extends Closeable&gt; extends AbstractCollection&lt;C&gt; implements Closeable {\r\n    \r\n        private static final Logger log = LoggerFactory.getLogger(CollectionOfCloseables.class);\r\n    \r\n        private final Collection&lt;C&gt; elements;\r\n    \r\n        public CloseablesCollection(Collection&lt;C&gt; closeables) {\r\n            this.elements = Collections.unmodifiableCollection(closeables);\r\n        }\r\n    \r\n        public Collection&lt;C&gt; getElements() {\r\n            return elements;\r\n        }\r\n    \r\n        @Override\r\n        public void close() throws IOException {\r\n            LinkedList&lt;IOException&gt; exceptions = new LinkedList&lt;&gt;();\r\n            for (Closeable closeable : elements) {\r\n                try {\r\n                    closeable.close();\r\n                } catch (IOException e) {\r\n                    exceptions.add(e);\r\n                }\r\n            }\r\n\r\n            // Throw the last exception. Log the rest.\r\n            while (exceptions.size() &gt; 1) {\r\n                log.warn(&quot;Failed close&quot;, exceptions.pop());\r\n            }\r\n            if (!exceptions.isEmpty()) {\r\n                throw exceptions.pop();\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public Iterator&lt;C&gt; iterator() {\r\n            return elements.iterator();\r\n        }\r\n    \r\n        @Override\r\n        public int size() {\r\n            return elements.size();\r\n        }\r\n    }","title":"Array or collection of &quot;Autocloseable&quot; in Java8","body":"<p>It's an old question, but I'll share the code I've ended up writing. It's for Closeable rather than AutoCloseable, but you can easily change that.</p>\n<pre><code>public class CloseablesCollection&lt;C extends Closeable&gt; extends AbstractCollection&lt;C&gt; implements Closeable {\n\n    private static final Logger log = LoggerFactory.getLogger(CollectionOfCloseables.class);\n\n    private final Collection&lt;C&gt; elements;\n\n    public CloseablesCollection(Collection&lt;C&gt; closeables) {\n        this.elements = Collections.unmodifiableCollection(closeables);\n    }\n\n    public Collection&lt;C&gt; getElements() {\n        return elements;\n    }\n\n    @Override\n    public void close() throws IOException {\n        LinkedList&lt;IOException&gt; exceptions = new LinkedList&lt;&gt;();\n        for (Closeable closeable : elements) {\n            try {\n                closeable.close();\n            } catch (IOException e) {\n                exceptions.add(e);\n            }\n        }\n\n        // Throw the last exception. Log the rest.\n        while (exceptions.size() &gt; 1) {\n            log.warn(&quot;Failed close&quot;, exceptions.pop());\n        }\n        if (!exceptions.isEmpty()) {\n            throw exceptions.pop();\n        }\n    }\n\n    @Override\n    public Iterator&lt;C&gt; iterator() {\n        return elements.iterator();\n    }\n\n    @Override\n    public int size() {\n        return elements.size();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":974397,"reputation":2803,"user_id":996142,"accept_rate":29,"display_name":"user996142"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3576,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":41017760,"answer_count":4,"score":11,"last_activity_date":1678114402,"creation_date":1481111799,"question_id":41016827,"body_markdown":"``Autocloseable`` should always be used with ``try-with-resources``. At least Intellij inspection suggests it.\r\nSo, if I have a code that produces ``Foo`` that implements ``Autocloseable`` I should do:\r\n    \r\n    try (final Foo foo = getFoo()) {\r\n        foo.doSomething();\r\n    }\r\n\r\nBut what if I have function that returns ``Foo[]``? Or function that accepts ``Foo[]`` (or ``Collection&lt;Foo&gt;``) as its argument? \r\n\r\nHow can I use it with ``try-with-resources``?\r\nLooks at the following functions:\r\n\r\n    Foo[] getFoos();\r\n    doAll(Foo... foo);\r\n\r\nI want to do something line ``doAll(getFoos())``\r\n\r\nHow can I do that?","title":"Array or collection of &quot;Autocloseable&quot; in Java8","body":"<p><code>Autocloseable</code> should always be used with <code>try-with-resources</code>. At least Intellij inspection suggests it.\nSo, if I have a code that produces <code>Foo</code> that implements <code>Autocloseable</code> I should do:</p>\n\n<pre><code>try (final Foo foo = getFoo()) {\n    foo.doSomething();\n}\n</code></pre>\n\n<p>But what if I have function that returns <code>Foo[]</code>? Or function that accepts <code>Foo[]</code> (or <code>Collection&lt;Foo&gt;</code>) as its argument? </p>\n\n<p>How can I use it with <code>try-with-resources</code>?\nLooks at the following functions:</p>\n\n<pre><code>Foo[] getFoos();\ndoAll(Foo... foo);\n</code></pre>\n\n<p>I want to do something line <code>doAll(getFoos())</code></p>\n\n<p>How can I do that?</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678114284,"creation_date":1678114284,"answer_id":75652292,"question_id":75637639,"body_markdown":"Hibernate can not really do any better in this case, because when a collection is fetch joined, it can&#39;t apply the SQL limit/offset clauses, because the SQL cardinality does not match the entity result cardinality.\r\n\r\nYou can try using Blaze-Persistence on top, which also comes with a [Spring Data integration][1], that automatically transforms queries to a form which allows efficient pagination. Give it a try. After the initial setup, you only need to replace `@EnableJpaRepositories` with `@EnableBlazeRepositories`.\r\n\r\n  [1]: https://persistence.blazebit.com/documentation/1.6/entity-view/manual/en_US/#spring-data-integration","title":"Spring Data 3 FETCH JOIN with Paging and Specifications is not working properly it is paging in memory","body":"<p>Hibernate can not really do any better in this case, because when a collection is fetch joined, it can't apply the SQL limit/offset clauses, because the SQL cardinality does not match the entity result cardinality.</p>\n<p>You can try using Blaze-Persistence on top, which also comes with a <a href=\"https://persistence.blazebit.com/documentation/1.6/entity-view/manual/en_US/#spring-data-integration\" rel=\"nofollow noreferrer\">Spring Data integration</a>, that automatically transforms queries to a form which allows efficient pagination. Give it a try. After the initial setup, you only need to replace <code>@EnableJpaRepositories</code> with <code>@EnableBlazeRepositories</code>.</p>\n"}],"owner":{"account_id":11192052,"reputation":21,"user_id":8212115,"display_name":"Andres Grisales"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":704,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678114284,"creation_date":1677953343,"question_id":75637639,"body_markdown":"I am using spring boot 3 with Jpa Specifications for build a dynamic query, Paging and Fetch Join together in order to avoid N+1 query problem. **But pagination is applied at application level in memory and not a database level with query as it should be.**\r\n\r\nMy User entity is\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\npublic class User implements UserDetails, Serializable {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.UUID)\r\n    private UUID id;\r\n    \r\n    @Column(name = &quot;names&quot;)\r\n    private String names;\r\n    \r\n    \r\n    @ManyToMany(cascade = {\r\n            CascadeType.PERSIST,\r\n            CascadeType.MERGE\r\n    })\r\n    @JoinTable(name = &quot;users_roles&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\r\n    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n\r\n...\r\n}\r\n```\r\n\r\nMy User repository is\r\n\r\n```\r\n@Repository\r\npublic interface UserRepository extends \r\n        JpaRepository&lt;User, UUID&gt;, JpaSpecificationExecutor&lt;User&gt; { ... }\r\n```\r\n\r\nMy UserGateway uses UserRepository.findAll(Specification\\&lt;T\\&gt; spec, Pageable pageable)\r\n\r\n```\r\n@Repository\r\n@RequiredArgsConstructor\r\npublic class UserGatewayImpl implements UserGateway {\r\n\r\n\r\n    private final UserRepository userRepository;\r\n\r\n\r\n    @Override\r\n    public Page&lt;User&gt; findByParams(UserSearchCommand searchCriteria, Pageable pageable) {\r\n\r\n        var userSpecification = buildCriteria(searchCriteria);\r\n\r\n        return userRepository.findAll(userSpecification, pageable);\r\n    }\r\n}\r\n```\r\n\r\nMy build criteria. In order to avoid &quot;org.hibernate.query.SemanticException: query specified join fetching, but the owner of the fetched association was not present in the select list&quot; exception because JPA executes 2 queries, I check resultType to know if it is the count query. Like in this answer [Fetch join with paging solution](https://stackoverflow.com/questions/39614628/spring-data-jpa-repository-with-specification-pagination-and-criteria-fetch-joi)\r\n\r\n```\r\n    private Specification&lt;User&gt; buildCriteria(UserSearchCommand queryCriteria) {\r\n\r\n        return (root, criteriaQuery, criteriaBuilder) -&gt; {\r\n            List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n\r\n            if (Long.class != criteriaQuery.getResultType() &amp;&amp; \r\n                    long.class != criteriaQuery.getResultType()) {\r\n                root.fetch(&quot;roles&quot;, JoinType.LEFT);\r\n            } else {\r\n                root.join(&quot;roles&quot;, JoinType.LEFT);\r\n            }\r\n\r\n\r\n            if (nonNull(queryCriteria.getNames())) {\r\n                predicates\r\n                        .add(criteriaBuilder.and(\r\n                                criteriaBuilder.equal(root.get(&quot;names&quot;), queryCriteria.getNames())));\r\n            }\r\n\r\n            return criteriaBuilder.and(predicates.toArray(new Predicate[0]));\r\n        };\r\n    }\r\n```\r\n\r\nThat seems to work. The pagination &quot;works&quot;. But when we take a look at the console and check the query generated by hibernate I see that the pagination is not being applied at the database level in query. Pagination is applied at application level in memory.\r\n\r\nGenerated query is\r\n\r\n```\r\n...\r\n    from\r\n        users u1_0 \r\n    left join\r\n        (users_roles r1_0 \r\n    join\r\n        roles r1_1 \r\n            on r1_1.id=r1_0.role_id) \r\n                on u1_0.id=r1_0.user_id \r\n        where\r\n            1=1 \r\n        order by\r\n            u1_0.id desc\r\n```\r\n\r\n\r\nI want to use JPA specifications, paging and FETCH JOIN together but paging is applied at application level in memory. Paging should be applied at database level in query.","title":"Spring Data 3 FETCH JOIN with Paging and Specifications is not working properly it is paging in memory","body":"<p>I am using spring boot 3 with Jpa Specifications for build a dynamic query, Paging and Fetch Join together in order to avoid N+1 query problem. <strong>But pagination is applied at application level in memory and not a database level with query as it should be.</strong></p>\n<p>My User entity is</p>\n<pre><code>@Entity\n@Table(name = &quot;users&quot;)\npublic class User implements UserDetails, Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.UUID)\n    private UUID id;\n    \n    @Column(name = &quot;names&quot;)\n    private String names;\n    \n    \n    @ManyToMany(cascade = {\n            CascadeType.PERSIST,\n            CascadeType.MERGE\n    })\n    @JoinTable(name = &quot;users_roles&quot;,\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\n    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n\n...\n}\n</code></pre>\n<p>My User repository is</p>\n<pre><code>@Repository\npublic interface UserRepository extends \n        JpaRepository&lt;User, UUID&gt;, JpaSpecificationExecutor&lt;User&gt; { ... }\n</code></pre>\n<p>My UserGateway uses UserRepository.findAll(Specification&lt;T&gt; spec, Pageable pageable)</p>\n<pre><code>@Repository\n@RequiredArgsConstructor\npublic class UserGatewayImpl implements UserGateway {\n\n\n    private final UserRepository userRepository;\n\n\n    @Override\n    public Page&lt;User&gt; findByParams(UserSearchCommand searchCriteria, Pageable pageable) {\n\n        var userSpecification = buildCriteria(searchCriteria);\n\n        return userRepository.findAll(userSpecification, pageable);\n    }\n}\n</code></pre>\n<p>My build criteria. In order to avoid &quot;org.hibernate.query.SemanticException: query specified join fetching, but the owner of the fetched association was not present in the select list&quot; exception because JPA executes 2 queries, I check resultType to know if it is the count query. Like in this answer <a href=\"https://stackoverflow.com/questions/39614628/spring-data-jpa-repository-with-specification-pagination-and-criteria-fetch-joi\">Fetch join with paging solution</a></p>\n<pre><code>    private Specification&lt;User&gt; buildCriteria(UserSearchCommand queryCriteria) {\n\n        return (root, criteriaQuery, criteriaBuilder) -&gt; {\n            List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n\n            if (Long.class != criteriaQuery.getResultType() &amp;&amp; \n                    long.class != criteriaQuery.getResultType()) {\n                root.fetch(&quot;roles&quot;, JoinType.LEFT);\n            } else {\n                root.join(&quot;roles&quot;, JoinType.LEFT);\n            }\n\n\n            if (nonNull(queryCriteria.getNames())) {\n                predicates\n                        .add(criteriaBuilder.and(\n                                criteriaBuilder.equal(root.get(&quot;names&quot;), queryCriteria.getNames())));\n            }\n\n            return criteriaBuilder.and(predicates.toArray(new Predicate[0]));\n        };\n    }\n</code></pre>\n<p>That seems to work. The pagination &quot;works&quot;. But when we take a look at the console and check the query generated by hibernate I see that the pagination is not being applied at the database level in query. Pagination is applied at application level in memory.</p>\n<p>Generated query is</p>\n<pre><code>...\n    from\n        users u1_0 \n    left join\n        (users_roles r1_0 \n    join\n        roles r1_1 \n            on r1_1.id=r1_0.role_id) \n                on u1_0.id=r1_0.user_id \n        where\n            1=1 \n        order by\n            u1_0.id desc\n</code></pre>\n<p>I want to use JPA specifications, paging and FETCH JOIN together but paging is applied at application level in memory. Paging should be applied at database level in query.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1678098060,"post_id":75649372,"comment_id":133461037,"body_markdown":"What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code.","body":"What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code."},{"owner":{"account_id":27935158,"reputation":90,"user_id":21332328,"display_name":"RmTomal"},"score":0,"creation_date":1678098608,"post_id":75649372,"comment_id":133461175,"body_markdown":"I want to get data from firebase and set those data in modelView class, and then that will be show in RecyclerView in android app","body":"I want to get data from firebase and set those data in modelView class, and then that will be show in RecyclerView in android app"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1678104101,"post_id":75649372,"comment_id":133462679,"body_markdown":"Please edit your question and add the content of your `PostGeter` class.","body":"Please edit your question and add the content of your <code>PostGeter</code> class."},{"owner":{"account_id":27935158,"reputation":90,"user_id":21332328,"display_name":"RmTomal"},"score":0,"creation_date":1678112313,"post_id":75649372,"comment_id":133465085,"body_markdown":"first code is for my PostGeter","body":"first code is for my PostGeter"}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678114163,"creation_date":1678114163,"answer_id":75652260,"question_id":75649372,"body_markdown":"You are getting the following warning:\r\n\r\n&gt; W/ClassMapper: No setter/field for 67903 found on class com.hello.writer.postAdapter.PostGeter\r\n\r\nBecause you trying to convert a key into an object of type `PostGeter` using the following line of code:\r\n\r\n    PostGeter msg = ds.getValue(PostGeter.class);\r\n\r\nTo solve this, you have to use the right `DataSnapshot` object. So please change the above line of code into:\r\n\r\n    PostGeter msg = data.getValue(PostGeter.class);\r\n    //              &#128070;","title":"how to solve No setter/field for 67903 found on class com.hello.writer.postAdapter.PostGeter in firebase","body":"<p>You are getting the following warning:</p>\n<blockquote>\n<p>W/ClassMapper: No setter/field for 67903 found on class com.hello.writer.postAdapter.PostGeter</p>\n</blockquote>\n<p>Because you trying to convert a key into an object of type <code>PostGeter</code> using the following line of code:</p>\n<pre><code>PostGeter msg = ds.getValue(PostGeter.class);\n</code></pre>\n<p>To solve this, you have to use the right <code>DataSnapshot</code> object. So please change the above line of code into:</p>\n<pre><code>PostGeter msg = data.getValue(PostGeter.class);\n//              👆\n</code></pre>\n"}],"owner":{"account_id":27935158,"reputation":90,"user_id":21332328,"display_name":"RmTomal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75652260,"answer_count":1,"score":1,"last_activity_date":1678114209,"creation_date":1678096679,"question_id":75649372,"body_markdown":"I get a warning when I want to revert data from Firebase and SetValue in my ModelView class. I check all data in my database and ModelView Class. The key name of the ModelView String name is the same and also I make a setter method in the class. I don&#39;t understand where is the problem.\r\n\r\nmy ModelView Class code:\r\n\r\n```\r\npublic class PostGeter {\r\n    private String body;\r\n    private String date;\r\n    private String id;\r\n    private String image;\r\n    private String reaction;\r\n    private String status;\r\n    private String title;\r\n    private String userId;\r\n\r\n    public PostGeter() {}\r\n\r\n    public PostGeter(String body, String date, String id, String image, String reaction, String status, String title, String userId) {\r\n        this.body = body;\r\n        this.date = date;\r\n        this.id = id;\r\n        this.image = image;\r\n        this.reaction = reaction;\r\n        this.status = status;\r\n        this.title = title;\r\n        this.userId = userId;\r\n    }\r\n\r\n    public void setBody(String body) {\r\n        this.body = body;\r\n    }\r\n\r\n    public void setDate(String date) {\r\n        this.date = date;\r\n    }\r\n\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public void setImage(String image) {\r\n        this.image = image;\r\n    }\r\n\r\n    public void setReaction(String reaction) {\r\n        this.reaction = reaction;\r\n    }\r\n\r\n    public void setStatus(String status) {\r\n        this.status = status;\r\n    }\r\n\r\n    public void setTitle(String title) {\r\n        this.title = title;\r\n    }\r\n\r\n    public void setUserId(String userId) {\r\n        this.userId = userId;\r\n    }\r\n\r\n    public String getBody() {\r\n        return body;\r\n    }\r\n\r\n    public String getDate() {\r\n        return date;\r\n    }\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public String getImage() {\r\n        return image;\r\n    }\r\n\r\n    public String getReaction() {\r\n        return reaction;\r\n    }\r\n\r\n    public String getStatus() {\r\n        return status;\r\n    }\r\n\r\n    public String getTitle() {\r\n        return title;\r\n    }\r\n\r\n    public String getUserId() {\r\n        return userId;\r\n    }\r\n```\r\n\r\nmy adapter class:\r\n\r\n```\r\npublic class postAdapter extends RecyclerView.Adapter&lt;postAdapter.ViewHolder&gt; {\r\n\r\n    Context context;\r\n    ArrayList&lt;PostGeter&gt; list;\r\n\r\n    public postAdapter(Context context, ArrayList&lt;PostGeter&gt; list) {\r\n        this.context = context;\r\n        this.list = list;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public postAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(context).inflate(R.layout.post_content_view, parent,false);\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull postAdapter.ViewHolder holder, int position) {\r\n        PostGeter geter = list.get(position);\r\n        holder.title.setText(geter.getTitle());\r\n        holder.content.setText(geter.getBody());\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return list.size();\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        ImageView img; TextView title,content;\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            img = itemView.findViewById(R.id.postImageView);\r\n            title = itemView.findViewById(R.id.post_view_title);\r\n            content = itemView.findViewById(R.id.post_view_content);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nmy firebase Data call method:\r\n\r\n```\r\nRecyclerView recyclerView = binding.postView;\r\n        recyclerView.setHasFixedSize(true);\r\n        LinearLayoutManager manager = new LinearLayoutManager(getContext());\r\n        recyclerView.setLayoutManager(manager);\r\n        ArrayList list = new ArrayList&lt;&gt;();\r\n        postAdapter customAdapter = new postAdapter(getContext(), list);\r\n        recyclerView.setAdapter(customAdapter);\r\n\r\n        database = FirebaseDatabase.getInstance();\r\n\r\n        reference = database.getReference().child(&quot;posts&quot;);\r\n        reference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                for (DataSnapshot ds : snapshot.getChildren()){\r\n                    for (DataSnapshot data : ds.getChildren()){\r\n                            System.out.println(data);\r\n                            PostGeter msg = ds.getValue(PostGeter.class);\r\n                            list.add( msg);\r\n\r\n                    }\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                throw error.toException();\r\n\r\n            }\r\n        });\r\n```\r\n\r\nmy log:\r\n\r\n```I/zygote64: Do partial code cache collection, code=61KB, data=59KB\r\nI/zygote64: After code cache collection, code=61KB, data=59KB\r\nI/zygote64: Increasing code cache capacity to 256KB\r\nD/FA: Application going to the background\r\nI/System.out: DataSnapshot { key = 10843, value = {body=fasiaufsuie, title=ddddj} }\r\nW/ClassMapper: No setter/field for 10843 found on class com.hello.writer.postAdapter.PostGeter\r\nW/ClassMapper: No setter/field for 67903 found on class com.hello.writer.postAdapter.PostGeter\r\nI/System.out: DataSnapshot { key = 67903, value = {date=06.03.2023, image=https://firebasestorage.googleapis.com/v0/b/hello-writer-2db52.appspot.com/o/posts%2FuserId%2F67903?alt=media&amp;token=5bc42574-fe50-424a-8e74-af7aae7e33d0, reaction=0, id=67903, body=jgugjvvhv, title=vhhvvhuv, userId=user, status=approved} }\r\nW/ClassMapper: No setter/field for 10843 found on class com.hello.writer.postAdapter.PostGeter\r\nW/ClassMapper: No setter/field for 67903 found on class com.hello.writer.postAdapter.PostGeter\r\nV/FA: Inactivity, disconnecting from the service\r\nI/System.out: DataSnapshot { key = 67903, value = {date=06.03.2023, image=https://firebasestorage.googleapis.com/v0/b/hello-writer-2db52.appspot.com/o/posts%2FuserId%2F67903?alt=media&amp;token=5bc42574-fe50-424a-8e74-af7aae7e33d0, reaction=0, id=67903, body=jgugjvvhv, title=vhhvvhuv, userId=user, status=approved} }\r\nW/ClassMapper: No setter/field for 67903 found on class com.hello.writer.postAdapter.PostGeter\r\n```\r\n\r\nI want to show the data in recyclerView. My database JSON link is here:\r\n\r\n[My database json](https://hello-writer-2db52-default-rtdb.firebaseio.com/.json)","title":"how to solve No setter/field for 67903 found on class com.hello.writer.postAdapter.PostGeter in firebase","body":"<p>I get a warning when I want to revert data from Firebase and SetValue in my ModelView class. I check all data in my database and ModelView Class. The key name of the ModelView String name is the same and also I make a setter method in the class. I don't understand where is the problem.</p>\n<p>my ModelView Class code:</p>\n<pre><code>public class PostGeter {\n    private String body;\n    private String date;\n    private String id;\n    private String image;\n    private String reaction;\n    private String status;\n    private String title;\n    private String userId;\n\n    public PostGeter() {}\n\n    public PostGeter(String body, String date, String id, String image, String reaction, String status, String title, String userId) {\n        this.body = body;\n        this.date = date;\n        this.id = id;\n        this.image = image;\n        this.reaction = reaction;\n        this.status = status;\n        this.title = title;\n        this.userId = userId;\n    }\n\n    public void setBody(String body) {\n        this.body = body;\n    }\n\n    public void setDate(String date) {\n        this.date = date;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public void setImage(String image) {\n        this.image = image;\n    }\n\n    public void setReaction(String reaction) {\n        this.reaction = reaction;\n    }\n\n    public void setStatus(String status) {\n        this.status = status;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    public void setUserId(String userId) {\n        this.userId = userId;\n    }\n\n    public String getBody() {\n        return body;\n    }\n\n    public String getDate() {\n        return date;\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public String getImage() {\n        return image;\n    }\n\n    public String getReaction() {\n        return reaction;\n    }\n\n    public String getStatus() {\n        return status;\n    }\n\n    public String getTitle() {\n        return title;\n    }\n\n    public String getUserId() {\n        return userId;\n    }\n</code></pre>\n<p>my adapter class:</p>\n<pre><code>public class postAdapter extends RecyclerView.Adapter&lt;postAdapter.ViewHolder&gt; {\n\n    Context context;\n    ArrayList&lt;PostGeter&gt; list;\n\n    public postAdapter(Context context, ArrayList&lt;PostGeter&gt; list) {\n        this.context = context;\n        this.list = list;\n    }\n\n    @NonNull\n    @Override\n    public postAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(context).inflate(R.layout.post_content_view, parent,false);\n        return new ViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull postAdapter.ViewHolder holder, int position) {\n        PostGeter geter = list.get(position);\n        holder.title.setText(geter.getTitle());\n        holder.content.setText(geter.getBody());\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return list.size();\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder {\n\n        ImageView img; TextView title,content;\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n            img = itemView.findViewById(R.id.postImageView);\n            title = itemView.findViewById(R.id.post_view_title);\n            content = itemView.findViewById(R.id.post_view_content);\n        }\n    }\n}\n\n</code></pre>\n<p>my firebase Data call method:</p>\n<pre><code>RecyclerView recyclerView = binding.postView;\n        recyclerView.setHasFixedSize(true);\n        LinearLayoutManager manager = new LinearLayoutManager(getContext());\n        recyclerView.setLayoutManager(manager);\n        ArrayList list = new ArrayList&lt;&gt;();\n        postAdapter customAdapter = new postAdapter(getContext(), list);\n        recyclerView.setAdapter(customAdapter);\n\n        database = FirebaseDatabase.getInstance();\n\n        reference = database.getReference().child(&quot;posts&quot;);\n        reference.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                for (DataSnapshot ds : snapshot.getChildren()){\n                    for (DataSnapshot data : ds.getChildren()){\n                            System.out.println(data);\n                            PostGeter msg = ds.getValue(PostGeter.class);\n                            list.add( msg);\n\n                    }\n                }\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n                throw error.toException();\n\n            }\n        });\n</code></pre>\n<p>my log:</p>\n<pre><code>I/zygote64: After code cache collection, code=61KB, data=59KB\nI/zygote64: Increasing code cache capacity to 256KB\nD/FA: Application going to the background\nI/System.out: DataSnapshot { key = 10843, value = {body=fasiaufsuie, title=ddddj} }\nW/ClassMapper: No setter/field for 10843 found on class com.hello.writer.postAdapter.PostGeter\nW/ClassMapper: No setter/field for 67903 found on class com.hello.writer.postAdapter.PostGeter\nI/System.out: DataSnapshot { key = 67903, value = {date=06.03.2023, image=https://firebasestorage.googleapis.com/v0/b/hello-writer-2db52.appspot.com/o/posts%2FuserId%2F67903?alt=media&amp;token=5bc42574-fe50-424a-8e74-af7aae7e33d0, reaction=0, id=67903, body=jgugjvvhv, title=vhhvvhuv, userId=user, status=approved} }\nW/ClassMapper: No setter/field for 10843 found on class com.hello.writer.postAdapter.PostGeter\nW/ClassMapper: No setter/field for 67903 found on class com.hello.writer.postAdapter.PostGeter\nV/FA: Inactivity, disconnecting from the service\nI/System.out: DataSnapshot { key = 67903, value = {date=06.03.2023, image=https://firebasestorage.googleapis.com/v0/b/hello-writer-2db52.appspot.com/o/posts%2FuserId%2F67903?alt=media&amp;token=5bc42574-fe50-424a-8e74-af7aae7e33d0, reaction=0, id=67903, body=jgugjvvhv, title=vhhvvhuv, userId=user, status=approved} }\nW/ClassMapper: No setter/field for 67903 found on class com.hello.writer.postAdapter.PostGeter\n</code></pre>\n<p>I want to show the data in recyclerView. My database JSON link is here:</p>\n<p><a href=\"https://hello-writer-2db52-default-rtdb.firebaseio.com/.json\" rel=\"nofollow noreferrer\">My database json</a></p>\n"},{"tags":["java","mysql","spring","jpa","spring-boot"],"comments":[{"owner":{"display_name":"user3973283"},"score":2,"creation_date":1497947062,"post_id":44647630,"comment_id":76280346,"body_markdown":"Invalid JPQL. There is no such function &quot;DATE_FORMAT&quot;. See the JPA spec","body":"Invalid JPQL. There is no such function &quot;DATE_FORMAT&quot;. See the JPA spec"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1497947189,"post_id":44647630,"comment_id":76280434,"body_markdown":"You are mixing JPQL and SQL here that is not going to work.","body":"You are mixing JPQL and SQL here that is not going to work."}],"answers":[{"tags":[],"owner":{"account_id":2535057,"reputation":25845,"user_id":2202415,"display_name":"Maciej Kowalski"},"down_vote_count":0,"up_vote_count":112,"is_accepted":true,"score":112,"last_activity_date":1497947973,"creation_date":1497947229,"answer_id":44647715,"question_id":44647630,"body_markdown":"You have tell Spring to treat that query as native one. Otherwise it will try to validate it according to the JPA specification.\r\n\r\nTry:\r\n\r\n    @Query(value = &quot;SELECT ...&quot;, nativeQuery = true)\r\n    public List&lt;Object[]&gt; transactions();\r\n\r\nKeep in mind that cannot use the NEW operator syntax in this case and you would have to deal with result as an array of `Object`.\r\n\r\n**Alternatively**\r\n\r\nIf you want to use map the results directly to a POJO class you would have to (assuming that you are using JPA 2.1+):\r\n\r\n**1)** Define the mapping:\r\n\r\n    @SqlResultSetMapping(\r\n        name=&quot;transactionsMapping&quot;,\r\n        classes={\r\n            @ConstructorResult(\r\n                targetClass=ConsolidateResDB.class,\r\n                columns={\r\n                    @ColumnResult(name=&quot;transdate&quot;),\r\n                    @ColumnResult(name=&quot;orderreqid&quot;)\r\n                    // further mappings ...\r\n                }\r\n            )\r\n        }\r\n    )\r\n\r\n**2)** Define a native query\r\n\r\n    @NamedNativeQuery(name=&quot;transactions&quot;\r\n        , query=&quot;SELECT DATE_FORMAT(ts, &#39;%d-%m-%Y&#39;) AS transdate, IFNULL(COUNT(orderreqid),0) ... &quot;)\r\n\r\n**3)** Define this method in the `CrudRepository` without the `@Query` annotation:\r\n\r\n    public List&lt;ConsolidateResDB&gt; transactions();\r\n\r\n","title":"Validation failed for query for method JPQL","body":"<p>You have tell Spring to treat that query as native one. Otherwise it will try to validate it according to the JPA specification.</p>\n\n<p>Try:</p>\n\n<pre><code>@Query(value = \"SELECT ...\", nativeQuery = true)\npublic List&lt;Object[]&gt; transactions();\n</code></pre>\n\n<p>Keep in mind that cannot use the NEW operator syntax in this case and you would have to deal with result as an array of <code>Object</code>.</p>\n\n<p><strong>Alternatively</strong></p>\n\n<p>If you want to use map the results directly to a POJO class you would have to (assuming that you are using JPA 2.1+):</p>\n\n<p><strong>1)</strong> Define the mapping:</p>\n\n<pre><code>@SqlResultSetMapping(\n    name=\"transactionsMapping\",\n    classes={\n        @ConstructorResult(\n            targetClass=ConsolidateResDB.class,\n            columns={\n                @ColumnResult(name=\"transdate\"),\n                @ColumnResult(name=\"orderreqid\")\n                // further mappings ...\n            }\n        )\n    }\n)\n</code></pre>\n\n<p><strong>2)</strong> Define a native query</p>\n\n<pre><code>@NamedNativeQuery(name=\"transactions\"\n    , query=\"SELECT DATE_FORMAT(ts, '%d-%m-%Y') AS transdate, IFNULL(COUNT(orderreqid),0) ... \")\n</code></pre>\n\n<p><strong>3)</strong> Define this method in the <code>CrudRepository</code> without the <code>@Query</code> annotation:</p>\n\n<pre><code>public List&lt;ConsolidateResDB&gt; transactions();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9698325,"reputation":359,"user_id":7194062,"display_name":"Amol Damodar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1542266605,"creation_date":1542266605,"answer_id":53314294,"question_id":44647630,"body_markdown":"I faced same issue, below worked for me.\r\n\r\n    @Query(value = &quot;select NEW org.degs.beans.ConsolidateResDB(DATE_FORMAT(c.ts, &#39;%d-%m-%Y&#39;) ,IFNULL(COUNT(c.orderreqid),0),IFNULL(COUNT(c.failamount),0),IFNULL(SUM(c.amount),0),IFNULL(SUM(c.successamount),0),IFNULL(SUM(c.failamount),0),IFNULL(COUNT(c.successcount),0)) FROM Consolidateresponse c GROUP BY DATE_FORMAT(c.ts, &#39;%d-%m-%Y&#39;) ORDER BY c.ts DESC&quot;) \r\n    public List&lt;ConsolidateResDB&gt; transactions();","title":"Validation failed for query for method JPQL","body":"<p>I faced same issue, below worked for me.</p>\n\n<pre><code>@Query(value = \"select NEW org.degs.beans.ConsolidateResDB(DATE_FORMAT(c.ts, '%d-%m-%Y') ,IFNULL(COUNT(c.orderreqid),0),IFNULL(COUNT(c.failamount),0),IFNULL(SUM(c.amount),0),IFNULL(SUM(c.successamount),0),IFNULL(SUM(c.failamount),0),IFNULL(COUNT(c.successcount),0)) FROM Consolidateresponse c GROUP BY DATE_FORMAT(c.ts, '%d-%m-%Y') ORDER BY c.ts DESC\") \npublic List&lt;ConsolidateResDB&gt; transactions();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10905068,"reputation":161,"user_id":8016158,"display_name":"user8016158"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1553109588,"creation_date":1553106014,"answer_id":55267694,"question_id":44647630,"body_markdown":"**For Spring Data `2.0.5` and above,**\r\n\r\nAfter trying solution by Maciej my code started complaining `&quot;Got different size of tuples and aliases&quot;.` \r\nTo fix the issue in latest release we need to add \r\n\r\n    @Query(&lt;Entity.FunctionName&gt;, nativeQuery=true). \r\n\r\nThis made my code work e2e.\r\n","title":"Validation failed for query for method JPQL","body":"<p><strong>For Spring Data <code>2.0.5</code> and above,</strong></p>\n\n<p>After trying solution by Maciej my code started complaining <code>\"Got different size of tuples and aliases\".</code> \nTo fix the issue in latest release we need to add </p>\n\n<pre><code>@Query(&lt;Entity.FunctionName&gt;, nativeQuery=true). \n</code></pre>\n\n<p>This made my code work e2e.</p>\n"},{"tags":[],"owner":{"account_id":8011118,"reputation":507,"user_id":6042787,"display_name":"Deepu Sahni"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1594774915,"creation_date":1594774915,"answer_id":62906078,"question_id":44647630,"body_markdown":"I got the same error and I din&#39;t want to use native query.\r\n\r\nSolved it by removing the INNER JOIN clause. \r\n\r\n      // Will not work if relations between entity classes are not defined properly.\r\n      @Query(value = &quot;SELECT d FROM Animal a &quot;\r\n          + &quot;INNER JOIN Dog d ON a.id = d.animalId &quot;\r\n          + &quot;WHERE d.name = ?1&quot;)\r\n\r\nHere is the working one.\r\n\r\n      // Works fine. (NO INNER JOIN)\r\n      @Query(value = &quot;SELECT d FROM Animal a, Dog d &quot;\r\n          + &quot;WHERE a.id = d.animalId &quot;\r\n          + &quot;WHERE d.name = ?1&quot;)","title":"Validation failed for query for method JPQL","body":"<p>I got the same error and I din't want to use native query.</p>\n<p>Solved it by removing the INNER JOIN clause.</p>\n<pre><code>  // Will not work if relations between entity classes are not defined properly.\n  @Query(value = &quot;SELECT d FROM Animal a &quot;\n      + &quot;INNER JOIN Dog d ON a.id = d.animalId &quot;\n      + &quot;WHERE d.name = ?1&quot;)\n</code></pre>\n<p>Here is the working one.</p>\n<pre><code>  // Works fine. (NO INNER JOIN)\n  @Query(value = &quot;SELECT d FROM Animal a, Dog d &quot;\n      + &quot;WHERE a.id = d.animalId &quot;\n      + &quot;WHERE d.name = ?1&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1110378,"reputation":775,"user_id":2024228,"display_name":"Raid"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1648163356,"creation_date":1648162993,"answer_id":71610394,"question_id":44647630,"body_markdown":"For me it was (well not exactly the same code but you get the idea):\r\n\r\n    @Query(&quot;SELECT e FROM TheEntity e WHERE e.stuff = :stuff&quot;)\r\n    List&lt;SomeEntity&gt; findSomething(@Param(&quot;stuff&quot;) String someStr);\r\n\r\nAnd don&#39;t forget the Entity:\r\n\r\n    @Entity(name = &quot;TheEntity&quot;)","title":"Validation failed for query for method JPQL","body":"<p>For me it was (well not exactly the same code but you get the idea):</p>\n<pre><code>@Query(&quot;SELECT e FROM TheEntity e WHERE e.stuff = :stuff&quot;)\nList&lt;SomeEntity&gt; findSomething(@Param(&quot;stuff&quot;) String someStr);\n</code></pre>\n<p>And don't forget the Entity:</p>\n<pre><code>@Entity(name = &quot;TheEntity&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1034502,"reputation":1383,"user_id":1042151,"accept_rate":25,"display_name":"tom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678114011,"creation_date":1675966375,"answer_id":75402780,"question_id":44647630,"body_markdown":"In my case, I wasn&#39;t trying to return output in a custom object. But I was getting this error as described in the question:\r\n```text\r\nCaused by: java.lang.IllegalArgumentException: Validation failed for query \r\n...\r\nCaused by: java.lang.NullPointerException: null\r\n```\r\n\r\nIn my case, my code was like this:\r\n\r\n```java\r\npublic interface MyRepository extends CrudRepository&lt;MyDAO, MyDAOPK&gt; {\r\n   @Query(&quot;select MyDAO from MyDAO&quot;)\r\n   List&lt;MyDAO&gt; getAll();\r\n}\r\n```\r\n\r\nWhat I had to do was remove the `SELECT`.\r\n\r\n```java\r\n@Query(&quot;from MyDAO&quot;)\r\nList&lt;MyDAO&gt; getAll();\r\n```\r\n\r\nCredit to [this link][2] for a clue.\r\n\r\nAlso I was able to use [this solution][1] elsewhere, to use a custom object to return results, as the original question asked about.\r\n\r\n  [1]: https://stackoverflow.com/a/61395847/1042151\r\n  [2]: https://stackoverflow.com/questions/49817396/validation-failed-for-query-for-method-public-abstract-java-util-list","title":"Validation failed for query for method JPQL","body":"<p>In my case, I wasn't trying to return output in a custom object. But I was getting this error as described in the question:</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: Validation failed for query \n...\nCaused by: java.lang.NullPointerException: null\n</code></pre>\n<p>In my case, my code was like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface MyRepository extends CrudRepository&lt;MyDAO, MyDAOPK&gt; {\n   @Query(&quot;select MyDAO from MyDAO&quot;)\n   List&lt;MyDAO&gt; getAll();\n}\n</code></pre>\n<p>What I had to do was remove the <code>SELECT</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(&quot;from MyDAO&quot;)\nList&lt;MyDAO&gt; getAll();\n</code></pre>\n<p>Credit to <a href=\"https://stackoverflow.com/questions/49817396/validation-failed-for-query-for-method-public-abstract-java-util-list\">this link</a> for a clue.</p>\n<p>Also I was able to use <a href=\"https://stackoverflow.com/a/61395847/1042151\">this solution</a> elsewhere, to use a custom object to return results, as the original question asked about.</p>\n"}],"owner":{"account_id":3879606,"reputation":595,"user_id":3212564,"display_name":"Sudhir K Bansal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135112,"favorite_count":0,"down_vote_count":0,"up_vote_count":44,"accepted_answer_id":44647715,"answer_count":6,"score":44,"last_activity_date":1678114011,"creation_date":1497946948,"question_id":44647630,"body_markdown":"I am implementing a query which return output in custom object. With my implementation, I am getting an error:\r\n&gt; &quot;method public abstract java.util.List org.degs.repository.ConsolidateresponseRepository.transactions()!&quot;\r\n\r\nJPQL Repository code:\r\n\r\n    @Query(value = &quot;SELECT new org.degs.beans.ConsolidateResDB(DATE_FORMAT(ts, &#39;%d-%m-%Y&#39;) AS transdate,IFNULL(COUNT(orderreqid),0),IFNULL(COUNT(failamount),0),IFNULL(SUM(amount),0),IFNULL(SUM(successamount),0),IFNULL(SUM(failamount),0),IFNULL(COUNT(successcount),0)) FROM Consolidateresponse GROUP BY DATE_FORMAT(ts, &#39;%d-%m-%Y&#39;) ORDER BY ts DESC&quot;)\r\n\tpublic List&lt;ConsolidateResDB&gt; transactions();\r\n\r\n`ConsolidateResDB` bean:\r\n\r\n    public class ConsolidateResDB {\r\n    \tString transdate;\r\n    \tlong total;\r\n    \tlong failcount;\r\n    \tdouble totalamount;\tdouble successamount;\r\n    \tdouble failamount;\r\n    \tlong successcount;\r\n    }\r\n\r\nI have already handled null values in the query itself and getting normal output if I run the same query in mysql db terminal, but while implementing in JPA and Spring Boot still receiving the `NullPointerException`\r\nerror:\r\n\r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;indexController&#39;: Unsatisfied dependency expressed through field &#39;crRepo&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;consolidateresponseRepository&#39;: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List org.degs.repository.ConsolidateresponseRepository.transactions()!\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:866) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n\tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122) ~[spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:314) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1162) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1151) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n\tat org.degs.SbipgMisApplication.main(SbipgMisApplication.java:16) [classes/:na]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_121]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_121]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_121]\r\n\tat java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_121]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;consolidateresponseRepository&#39;: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List org.degs.repository.ConsolidateresponseRepository.transactions()!\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n\t... 24 common frames omitted\r\n\r\n    Caused by: java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List org.degs.repository.ConsolidateresponseRepository.transactions()!\r\n\tat org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:92) ~[spring-data-jpa-1.11.1.RELEASE.jar:na]\r\n\tat org.springframework.data.jpa.repository.query.SimpleJpaQuery.&lt;init&gt;(SimpleJpaQuery.java:62) ~[spring-data-jpa-1.11.1.RELEASE.jar:na]\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:72) ~[spring-data-jpa-1.11.1.RELEASE.jar:na]\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryFactory.fromQueryAnnotation(JpaQueryFactory.java:53) ~[spring-data-jpa-1.11.1.RELEASE.jar:na]\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:144) ~[spring-data-jpa-1.11.1.RELEASE.jar:na]\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:212) ~[spring-data-jpa-1.11.1.RELEASE.jar:na]\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:77) ~[spring-data-jpa-1.11.1.RELEASE.jar:na]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.&lt;init&gt;(RepositoryFactorySupport.java:436) ~[spring-data-commons-1.13.1.RELEASE.jar:na]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:221) ~[spring-data-commons-1.13.1.RELEASE.jar:na]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.initAndReturn(RepositoryFactoryBeanSupport.java:277) ~[spring-data-commons-1.13.1.RELEASE.jar:na]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:263) ~[spring-data-commons-1.13.1.RELEASE.jar:na]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:101) ~[spring-data-jpa-1.11.1.RELEASE.jar:na]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n\t... 34 common frames omitted\r\n\r\n    Caused by: java.lang.NullPointerException: null\r\n\tat org.hibernate.hql.internal.NameGenerator.generateColumnNames(NameGenerator.java:27) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\r\n\tat org.hibernate.hql.internal.ast.util.SessionFactoryHelper.generateColumnNames(SessionFactoryHelper.java:418) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\r\n\tat org.hibernate.hql.internal.ast.tree.SelectClause.initializeColumnNames(SelectClause.java:267) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\r\n\tat org.hibernate.hql.internal.ast.tree.SelectClause.finishInitialization(SelectClause.java:257) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\r\n\tat org.hibernate.hql.internal.ast.tree.SelectClause.initializeExplicitSelectClause(SelectClause.java:252) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\r\n\tat org.hibernate.hql.internal.ast.HqlSqlWalker.useSelectClause(HqlSqlWalker.java:920) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\r\n\tat org.hibernate.hql.internal.ast.HqlSqlWalker.processQuery(HqlSqlWalker.java:688) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\r\n\tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:673) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\r\n\tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:309) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\r\n\tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:257) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\r\n\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:262) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\r\n\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:190) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\r\n\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:142) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\r\n\tat org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:115) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\r\n\tat org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:76) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\r\n\tat org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:150) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\r\n\tat org.hibernate.internal.AbstractSessionImpl.getHQLQueryPlan(AbstractSessionImpl.java:302) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\r\n\tat org.hibernate.internal.AbstractSessionImpl.createQuery(AbstractSessionImpl.java:240) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\r\n\tat org.hibernate.internal.SessionImpl.createQuery(SessionImpl.java:1894) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\r\n\tat org.hibernate.jpa.spi.AbstractEntityManagerImpl.createQuery(AbstractEntityManagerImpl.java:291) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_121]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_121]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_121]\r\n\tat java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_121]\r\n\tat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:347) ~[spring-orm-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n\tat com.sun.proxy.$Proxy85.createQuery(Unknown Source) ~[na:na]\r\n\tat org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:86) ~[spring-data-jpa-1.11.1.RELEASE.jar:na]\r\n\t... 47 common frames omitted","title":"Validation failed for query for method JPQL","body":"<p>I am implementing a query which return output in custom object. With my implementation, I am getting an error:</p>\n\n<blockquote>\n  <p>\"method public abstract java.util.List org.degs.repository.ConsolidateresponseRepository.transactions()!\"</p>\n</blockquote>\n\n<p>JPQL Repository code:</p>\n\n<pre><code>@Query(value = \"SELECT new org.degs.beans.ConsolidateResDB(DATE_FORMAT(ts, '%d-%m-%Y') AS transdate,IFNULL(COUNT(orderreqid),0),IFNULL(COUNT(failamount),0),IFNULL(SUM(amount),0),IFNULL(SUM(successamount),0),IFNULL(SUM(failamount),0),IFNULL(COUNT(successcount),0)) FROM Consolidateresponse GROUP BY DATE_FORMAT(ts, '%d-%m-%Y') ORDER BY ts DESC\")\npublic List&lt;ConsolidateResDB&gt; transactions();\n</code></pre>\n\n<p><code>ConsolidateResDB</code> bean:</p>\n\n<pre><code>public class ConsolidateResDB {\n    String transdate;\n    long total;\n    long failcount;\n    double totalamount; double successamount;\n    double failamount;\n    long successcount;\n}\n</code></pre>\n\n<p>I have already handled null values in the query itself and getting normal output if I run the same query in mysql db terminal, but while implementing in JPA and Spring Boot still receiving the <code>NullPointerException</code>\nerror:</p>\n\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'indexController': Unsatisfied dependency expressed through field 'crRepo'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'consolidateresponseRepository': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List org.degs.repository.ConsolidateresponseRepository.transactions()!\nat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\nat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\nat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\nat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:866) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\nat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122) ~[spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:314) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1162) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1151) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\nat org.degs.SbipgMisApplication.main(SbipgMisApplication.java:16) [classes/:na]\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_121]\nat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_121]\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_121]\nat java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_121]\nat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-1.5.2.RELEASE.jar:1.5.2.RELEASE]\n\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'consolidateresponseRepository': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List org.degs.repository.ConsolidateresponseRepository.transactions()!\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\nat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\nat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\nat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n... 24 common frames omitted\n\nCaused by: java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List org.degs.repository.ConsolidateresponseRepository.transactions()!\nat org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:92) ~[spring-data-jpa-1.11.1.RELEASE.jar:na]\nat org.springframework.data.jpa.repository.query.SimpleJpaQuery.&lt;init&gt;(SimpleJpaQuery.java:62) ~[spring-data-jpa-1.11.1.RELEASE.jar:na]\nat org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:72) ~[spring-data-jpa-1.11.1.RELEASE.jar:na]\nat org.springframework.data.jpa.repository.query.JpaQueryFactory.fromQueryAnnotation(JpaQueryFactory.java:53) ~[spring-data-jpa-1.11.1.RELEASE.jar:na]\nat org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:144) ~[spring-data-jpa-1.11.1.RELEASE.jar:na]\nat org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:212) ~[spring-data-jpa-1.11.1.RELEASE.jar:na]\nat org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:77) ~[spring-data-jpa-1.11.1.RELEASE.jar:na]\nat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.&lt;init&gt;(RepositoryFactorySupport.java:436) ~[spring-data-commons-1.13.1.RELEASE.jar:na]\nat org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:221) ~[spring-data-commons-1.13.1.RELEASE.jar:na]\nat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.initAndReturn(RepositoryFactoryBeanSupport.java:277) ~[spring-data-commons-1.13.1.RELEASE.jar:na]\nat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:263) ~[spring-data-commons-1.13.1.RELEASE.jar:na]\nat org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:101) ~[spring-data-jpa-1.11.1.RELEASE.jar:na]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n... 34 common frames omitted\n\nCaused by: java.lang.NullPointerException: null\nat org.hibernate.hql.internal.NameGenerator.generateColumnNames(NameGenerator.java:27) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\nat org.hibernate.hql.internal.ast.util.SessionFactoryHelper.generateColumnNames(SessionFactoryHelper.java:418) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\nat org.hibernate.hql.internal.ast.tree.SelectClause.initializeColumnNames(SelectClause.java:267) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\nat org.hibernate.hql.internal.ast.tree.SelectClause.finishInitialization(SelectClause.java:257) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\nat org.hibernate.hql.internal.ast.tree.SelectClause.initializeExplicitSelectClause(SelectClause.java:252) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\nat org.hibernate.hql.internal.ast.HqlSqlWalker.useSelectClause(HqlSqlWalker.java:920) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\nat org.hibernate.hql.internal.ast.HqlSqlWalker.processQuery(HqlSqlWalker.java:688) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\nat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:673) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\nat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:309) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\nat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:257) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\nat org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:262) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\nat org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:190) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\nat org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:142) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\nat org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:115) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\nat org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:76) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\nat org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:150) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\nat org.hibernate.internal.AbstractSessionImpl.getHQLQueryPlan(AbstractSessionImpl.java:302) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\nat org.hibernate.internal.AbstractSessionImpl.createQuery(AbstractSessionImpl.java:240) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\nat org.hibernate.internal.SessionImpl.createQuery(SessionImpl.java:1894) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\nat org.hibernate.jpa.spi.AbstractEntityManagerImpl.createQuery(AbstractEntityManagerImpl.java:291) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_121]\nat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_121]\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:1.8.0_121]\nat java.lang.reflect.Method.invoke(Unknown Source) ~[na:1.8.0_121]\nat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:347) ~[spring-orm-4.3.7.RELEASE.jar:4.3.7.RELEASE]\nat com.sun.proxy.$Proxy85.createQuery(Unknown Source) ~[na:na]\nat org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:86) ~[spring-data-jpa-1.11.1.RELEASE.jar:na]\n... 47 common frames omitted\n</code></pre>\n"},{"tags":["java","android","calendar","localdate","localtime"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1672838594,"post_id":75005643,"comment_id":132362514,"body_markdown":"I don’t know Android, so can’t tell. I would hope that this exists or will come. If all else fails, you can convert. Get a `Calendar` object from `GregorianCalendar.from(yourLocalDate.atTime(yourLocalTime).atZone(ZoneId.systemDefault()))`.","body":"I don’t know Android, so can’t tell. I would hope that this exists or will come. If all else fails, you can convert. Get a <code>Calendar</code> object from <code>GregorianCalendar.from(yourLocalDate.atTime(yourLocalTime).a&zwnj;&#8203;tZone(ZoneId.systemD&zwnj;&#8203;efault()))</code>."},{"owner":{"account_id":15480820,"reputation":71,"user_id":11168157,"display_name":"Chris Damianidis"},"score":0,"creation_date":1672841954,"post_id":75005643,"comment_id":132363828,"body_markdown":"thank you my friend, your solution dont work.","body":"thank you my friend, your solution dont work."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1672846551,"post_id":75005643,"comment_id":132365669,"body_markdown":"[My code works fine.](https://ideone.com/5jfYlS) I don’t know what you did wring since it didn’t work for you.","body":"<a href=\"https://ideone.com/5jfYlS\" rel=\"nofollow noreferrer\">My code works fine.</a> I don’t know what you did wring since it didn’t work for you."},{"owner":{"account_id":15480820,"reputation":71,"user_id":11168157,"display_name":"Chris Damianidis"},"score":0,"creation_date":1672905856,"post_id":75005643,"comment_id":132379427,"body_markdown":"I&#39;ll give it a try and I&#39;ll update with code reference","body":"I&#39;ll give it a try and I&#39;ll update with code reference"}],"answers":[{"tags":[],"owner":{"account_id":15480820,"reputation":71,"user_id":11168157,"display_name":"Chris Damianidis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673533048,"creation_date":1673533048,"answer_id":75097691,"question_id":75005643,"body_markdown":"I am building a Calendar app to save events show them and edit them with DatabaseHelper. I want to add alarm to these events but every I can find only setting alarm with Calendar import library. I want to set alarm in specific date and specific time.\r\n\r\n**Thanks to Ole V.V.**\r\n\r\n\r\n**In this method i am creating a view for alert dialog, the function help me to convert date and time to start or cancel alarm:**\r\n\r\n\r\n  \r\n  \r\n\r\n      public View setAllFields(View view,String id, String title, String comment, String date, String time, String alarm)\r\n        {\r\n    \r\n            TextView id_lv_tv = view.findViewById(R.id.id_lv_tv);\r\n            TextView title_lv_tv =  view.findViewById(R.id.title_lv_tv);\r\n            TextView comment_lv_tv = view.findViewById(R.id.comment_lv_tv);\r\n            TextView date_lv_tv =  view.findViewById(R.id.date_lv_tv);\r\n            TextView time_lv_tv =  view.findViewById(R.id.time_lv_tv);\r\n            ImageView alarmState = view.findViewById(R.id.alarmState);\r\n    \r\n            id_lv_tv.setText(id);\r\n            title_lv_tv.setText(title);\r\n            comment_lv_tv.setText(comment);\r\n            date_lv_tv.setText(date);\r\n            time_lv_tv.setText(time);\r\n            Calendar c = GregorianCalendar.from(LocalDate.parse(date).atTime(LocalTime.parse(time)).atZone(ZoneId.systemDefault()));\r\n    \r\n            if (alarm.equals(&quot;false&quot;))\r\n            {\r\n                alarmState.setImageResource(R.drawable.alarm_off);\r\n            }else if (alarm.equals(&quot;true&quot;))\r\n            {\r\n                alarmState.setImageResource(R.drawable.alarm_on);\r\n            }else\r\n            {\r\n                Toast.makeText(mContext, &quot;Alarm set problem.&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n            EventEdit ev = new EventEdit();\r\n    \r\n            alarmState.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    if (alarm.equals(&quot;false&quot;))\r\n                    {\r\n                        startAlarm(c);\r\n                        Toast.makeText(mContext, &quot;Alarm is set to: &quot; + c.toString().trim(), Toast.LENGTH_SHORT).show();\r\n                        alarmState.setImageResource(R.drawable.alarm_on);\r\n    \r\n                    }else if (alarm.equals(&quot;true&quot;))\r\n                    {\r\n                        cancelAlarm(c);\r\n                        Toast.makeText(mContext, &quot;Alarm cancelled from : &quot; + c.toString().trim(), Toast.LENGTH_SHORT).show();\r\n                        alarmState.setImageResource(R.drawable.alarm_off);\r\n    \r\n    \r\n                    }\r\n                }\r\n            });\r\n    \r\n    \r\n            return view;\r\n        }","title":"Is there a way to set alarm in android with local date and local time?","body":"<p>I am building a Calendar app to save events show them and edit them with DatabaseHelper. I want to add alarm to these events but every I can find only setting alarm with Calendar import library. I want to set alarm in specific date and specific time.</p>\n<p><strong>Thanks to Ole V.V.</strong></p>\n<p><strong>In this method i am creating a view for alert dialog, the function help me to convert date and time to start or cancel alarm:</strong></p>\n<pre><code>  public View setAllFields(View view,String id, String title, String comment, String date, String time, String alarm)\n    {\n\n        TextView id_lv_tv = view.findViewById(R.id.id_lv_tv);\n        TextView title_lv_tv =  view.findViewById(R.id.title_lv_tv);\n        TextView comment_lv_tv = view.findViewById(R.id.comment_lv_tv);\n        TextView date_lv_tv =  view.findViewById(R.id.date_lv_tv);\n        TextView time_lv_tv =  view.findViewById(R.id.time_lv_tv);\n        ImageView alarmState = view.findViewById(R.id.alarmState);\n\n        id_lv_tv.setText(id);\n        title_lv_tv.setText(title);\n        comment_lv_tv.setText(comment);\n        date_lv_tv.setText(date);\n        time_lv_tv.setText(time);\n        Calendar c = GregorianCalendar.from(LocalDate.parse(date).atTime(LocalTime.parse(time)).atZone(ZoneId.systemDefault()));\n\n        if (alarm.equals(&quot;false&quot;))\n        {\n            alarmState.setImageResource(R.drawable.alarm_off);\n        }else if (alarm.equals(&quot;true&quot;))\n        {\n            alarmState.setImageResource(R.drawable.alarm_on);\n        }else\n        {\n            Toast.makeText(mContext, &quot;Alarm set problem.&quot;, Toast.LENGTH_SHORT).show();\n        }\n        EventEdit ev = new EventEdit();\n\n        alarmState.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                if (alarm.equals(&quot;false&quot;))\n                {\n                    startAlarm(c);\n                    Toast.makeText(mContext, &quot;Alarm is set to: &quot; + c.toString().trim(), Toast.LENGTH_SHORT).show();\n                    alarmState.setImageResource(R.drawable.alarm_on);\n\n                }else if (alarm.equals(&quot;true&quot;))\n                {\n                    cancelAlarm(c);\n                    Toast.makeText(mContext, &quot;Alarm cancelled from : &quot; + c.toString().trim(), Toast.LENGTH_SHORT).show();\n                    alarmState.setImageResource(R.drawable.alarm_off);\n\n\n                }\n            }\n        });\n\n\n        return view;\n    }\n</code></pre>\n"}],"owner":{"account_id":15480820,"reputation":71,"user_id":11168157,"display_name":"Chris Damianidis"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75097691,"answer_count":1,"score":1,"last_activity_date":1678113706,"creation_date":1672836338,"question_id":75005643,"body_markdown":"I am building a Calendar app to save events, show them and edit them with DatabaseHelper. I want to add alarm to these events but every I can find only setting alarm with Calendar import library. I want to set alarm in specific date and specific time.\r\n\r\n","title":"Is there a way to set alarm in android with local date and local time?","body":"<p>I am building a Calendar app to save events, show them and edit them with DatabaseHelper. I want to add alarm to these events but every I can find only setting alarm with Calendar import library. I want to set alarm in specific date and specific time.</p>\n"},{"tags":["java","json","fasterxml"],"comments":[{"owner":{"account_id":4477746,"reputation":1014,"user_id":3642410,"accept_rate":100,"display_name":"Karim"},"score":0,"creation_date":1678108097,"post_id":75651209,"comment_id":133463732,"body_markdown":"replace &quot;null&quot; with &quot;\\&quot;null\\&quot;&quot;","body":"replace &quot;null&quot; with &quot;\\&quot;null\\&quot;&quot;"},{"owner":{"account_id":8928886,"reputation":1066,"user_id":9719337,"display_name":"Dred"},"score":0,"creation_date":1678108787,"post_id":75651209,"comment_id":133463928,"body_markdown":"it didn&#39;t help, if you mean int defaultValue","body":"it didn&#39;t help, if you mean int defaultValue"},{"owner":{"account_id":4477746,"reputation":1014,"user_id":3642410,"accept_rate":100,"display_name":"Karim"},"score":0,"creation_date":1678108878,"post_id":75651209,"comment_id":133463958,"body_markdown":"both  in defaultValue and in private String name = &quot;null&quot;; should be private String name = &quot;\\&quot;null\\&quot;&quot;;","body":"both  in defaultValue and in private String name = &quot;null&quot;; should be private String name = &quot;\\&quot;null\\&quot;&quot;;"}],"answers":[{"tags":[],"owner":{"account_id":6228391,"reputation":708,"user_id":4845935,"display_name":"dimnnv"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678113427,"creation_date":1678109763,"answer_id":75651509,"question_id":75651209,"body_markdown":"The property `defaultValue` of the @JsonProperty annotation does not lead to actual setting the default value and only used for informational purposes. That may be misleading but it is how currently Jackson is implemented: https://fasterxml.github.io/jackson-annotations/javadoc/2.14/com/fasterxml/jackson/annotation/JsonProperty.html#defaultValue--\r\n\r\nSetting default value for Java fields probably won&#39;t work either since you have actually these properties in your JSON so the setters will be actually called and will overwrite the original &quot;null&quot; values (you can check that with debugger).\r\n\r\nA simple solution would be to set `@JsonSetter(nulls = Nulls.SKIP)`:\r\n\r\nThe working example:\r\n```\r\n@Data\r\npublic class Person {\r\n  @JsonProperty\r\n  @JsonSetter(nulls = Nulls.SKIP)\r\n  private String name = &quot;null&quot;;\r\n\r\n  @JsonProperty\r\n  @JsonSetter(nulls = Nulls.SKIP)\r\n  private String surName = &quot;null&quot;;\r\n}\r\n\r\n\r\n\r\npublic class PersonTest {\r\n  @Test\r\n  public void testDeserializePerson() throws JsonProcessingException {\r\n    var result = new ObjectMapper().readValue(&quot;{\\&quot;name\\&quot;:null, \\&quot;surName\\&quot;:null}&quot;, Person.class);\r\n    assertEquals(result.getName(), &quot;null&quot;);\r\n    assertEquals(result.getSurName(), &quot;null&quot;);\r\n  }\r\n}\r\n```","title":"Fasterxml json null to &quot;null&quot;","body":"<p>The property <code>defaultValue</code> of the @JsonProperty annotation does not lead to actual setting the default value and only used for informational purposes. That may be misleading but it is how currently Jackson is implemented: <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.14/com/fasterxml/jackson/annotation/JsonProperty.html#defaultValue--\" rel=\"nofollow noreferrer\">https://fasterxml.github.io/jackson-annotations/javadoc/2.14/com/fasterxml/jackson/annotation/JsonProperty.html#defaultValue--</a></p>\n<p>Setting default value for Java fields probably won't work either since you have actually these properties in your JSON so the setters will be actually called and will overwrite the original &quot;null&quot; values (you can check that with debugger).</p>\n<p>A simple solution would be to set <code>@JsonSetter(nulls = Nulls.SKIP)</code>:</p>\n<p>The working example:</p>\n<pre><code>@Data\npublic class Person {\n  @JsonProperty\n  @JsonSetter(nulls = Nulls.SKIP)\n  private String name = &quot;null&quot;;\n\n  @JsonProperty\n  @JsonSetter(nulls = Nulls.SKIP)\n  private String surName = &quot;null&quot;;\n}\n\n\n\npublic class PersonTest {\n  @Test\n  public void testDeserializePerson() throws JsonProcessingException {\n    var result = new ObjectMapper().readValue(&quot;{\\&quot;name\\&quot;:null, \\&quot;surName\\&quot;:null}&quot;, Person.class);\n    assertEquals(result.getName(), &quot;null&quot;);\n    assertEquals(result.getSurName(), &quot;null&quot;);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":8928886,"reputation":1066,"user_id":9719337,"display_name":"Dred"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75651509,"answer_count":1,"score":2,"last_activity_date":1678113427,"creation_date":1678107819,"question_id":75651209,"body_markdown":"I have class\r\n\r\n    @Data\r\n    class Person {\r\n    \r\n      @JsonProperty(value=&quot;name&quot;, defaultValue = &quot;null&quot;)\r\n      private String name = &quot;null&quot;;\r\n    \r\n      @JsonProperty(value=&quot;surName&quot;, defaultValue = &quot;null&quot;)\r\n      private String surName= &quot;null&quot;;\r\n    \r\n    }\r\n\r\nWhen I try to deserialize string like  {&quot;name&quot;:null, &quot;surName&quot;:null} with \r\n\r\n    new ObjectMapper().readValue(json, Person.class); \r\n\r\nI got Object with null fields, but I need with &quot;null&quot; fields. How to make that?\r\n","title":"Fasterxml json null to &quot;null&quot;","body":"<p>I have class</p>\n<pre><code>@Data\nclass Person {\n\n  @JsonProperty(value=&quot;name&quot;, defaultValue = &quot;null&quot;)\n  private String name = &quot;null&quot;;\n\n  @JsonProperty(value=&quot;surName&quot;, defaultValue = &quot;null&quot;)\n  private String surName= &quot;null&quot;;\n\n}\n</code></pre>\n<p>When I try to deserialize string like  {&quot;name&quot;:null, &quot;surName&quot;:null} with</p>\n<pre><code>new ObjectMapper().readValue(json, Person.class); \n</code></pre>\n<p>I got Object with null fields, but I need with &quot;null&quot; fields. How to make that?</p>\n"},{"tags":["java","spring","spring-amqp","spring-rabbit","spring-retry"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678113275,"creation_date":1678113275,"answer_id":75652127,"question_id":75651555,"body_markdown":"See one more constructor for that `SimpleRetryPolicy`:\r\n\r\n\t/**\r\n\t * Create a {@link SimpleRetryPolicy} with the specified number of retry attempts. If\r\n\t * traverseCauses is true, the exception causes will be traversed until a match or the\r\n\t * root cause is found. The default value indicates whether to retry or not for\r\n\t * exceptions (or super classes thereof) that are not found in the map.\r\n\t * @param maxAttempts the maximum number of attempts\r\n\t * @param retryableExceptions the map of exceptions that are retryable based on the\r\n\t * map value (true/false).\r\n\t * @param traverseCauses true to traverse the exception cause chain until a classified\r\n\t * exception is found or the root cause is reached.\r\n\t * @param defaultValue the default action.\r\n\t */\r\n\tpublic SimpleRetryPolicy(int maxAttempts, Map&lt;Class&lt;? extends Throwable&gt;, Boolean&gt; retryableExceptions,\r\n\t\t\tboolean traverseCauses, boolean defaultValue) {\r\n\r\nIn your case that `defaultValue` is set to `false` with the meaning to not retry the rest not mapped exceptions. Sounds like you need exactly opposite: retry all the exception and do something specific for mapped.","title":"How to exclude specific exceptions from Spring AMQP retry policy with SimpleRetryPolicy?","body":"<p>See one more constructor for that <code>SimpleRetryPolicy</code>:</p>\n<pre><code>/**\n * Create a {@link SimpleRetryPolicy} with the specified number of retry attempts. If\n * traverseCauses is true, the exception causes will be traversed until a match or the\n * root cause is found. The default value indicates whether to retry or not for\n * exceptions (or super classes thereof) that are not found in the map.\n * @param maxAttempts the maximum number of attempts\n * @param retryableExceptions the map of exceptions that are retryable based on the\n * map value (true/false).\n * @param traverseCauses true to traverse the exception cause chain until a classified\n * exception is found or the root cause is reached.\n * @param defaultValue the default action.\n */\npublic SimpleRetryPolicy(int maxAttempts, Map&lt;Class&lt;? extends Throwable&gt;, Boolean&gt; retryableExceptions,\n        boolean traverseCauses, boolean defaultValue) {\n</code></pre>\n<p>In your case that <code>defaultValue</code> is set to <code>false</code> with the meaning to not retry the rest not mapped exceptions. Sounds like you need exactly opposite: retry all the exception and do something specific for mapped.</p>\n"}],"owner":{"account_id":17824706,"reputation":137,"user_id":12946201,"display_name":"WhiteCherry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":414,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75652127,"answer_count":1,"score":0,"last_activity_date":1678113275,"creation_date":1678109985,"question_id":75651555,"body_markdown":"I have a RabbitListener in my Spring AMQP application and I&#39;m using a custom RabbitListenerFactory with a SimpleRetryPolicy configured for message retries. However, I want to exclude certain exceptions from being retried. Currently, my configuration looks like this:\r\n\r\n```kotlin\r\n@Bean\r\nfun retryPolicy(): SimpleRetryPolicy {\r\n    val exceptions = mutableMapOf&lt;Class&lt;out Throwable&gt;, Boolean&gt;(\r\n        ValidationException::class.java to false,\r\n        IllegalArgumentException::class.java to false,\r\n        EntityNotFoundException::class.java to false,\r\n    )\r\n    return SimpleRetryPolicy(6, exceptions, true)\r\n}\r\n\r\n@Bean\r\nfun retryInterceptor(customMessageRecoverer: CustomMessageRecoverer): RetryOperationsInterceptor? {\r\n    return RetryInterceptorBuilder.stateless().retryPolicy(retryPolicy())\r\n        .backOffOptions(1000, 2.0, 5000)\r\n        .recoverer(customMessageRecoverer)\r\n        .build()\r\n}\r\n\r\n@Bean\r\nfun myFactory(\r\n    configurer: SimpleRabbitListenerContainerFactoryConfigurer,\r\n    connectionFactory: ConnectionFactory,\r\n    customsMessageRecoverer: CustomMessageRecoverer,\r\n): SimpleRabbitListenerContainerFactory {\r\n    val factory = SimpleRabbitListenerContainerFactory()\r\n    configurer.configure(factory, connectionFactory)\r\n    factory.setAdviceChain(workMessagesRetryInterceptor(customsMessageRecoverer))\r\n    return factory;\r\n}\r\n```\r\n\r\nHowever, I&#39;ve noticed that with this configuration, no retries are being executed at all, even for exceptions that are not in the exclusion list. How can I modify this configuration to both exclude specific exceptions from being retried, such as AuthoraizationException or IllegalArgumentException, and ensure that other exceptions are still retried according to the retry policy?\r\nAny code examples would be appreciated. \r\nThanks in advance! ","title":"How to exclude specific exceptions from Spring AMQP retry policy with SimpleRetryPolicy?","body":"<p>I have a RabbitListener in my Spring AMQP application and I'm using a custom RabbitListenerFactory with a SimpleRetryPolicy configured for message retries. However, I want to exclude certain exceptions from being retried. Currently, my configuration looks like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Bean\nfun retryPolicy(): SimpleRetryPolicy {\n    val exceptions = mutableMapOf&lt;Class&lt;out Throwable&gt;, Boolean&gt;(\n        ValidationException::class.java to false,\n        IllegalArgumentException::class.java to false,\n        EntityNotFoundException::class.java to false,\n    )\n    return SimpleRetryPolicy(6, exceptions, true)\n}\n\n@Bean\nfun retryInterceptor(customMessageRecoverer: CustomMessageRecoverer): RetryOperationsInterceptor? {\n    return RetryInterceptorBuilder.stateless().retryPolicy(retryPolicy())\n        .backOffOptions(1000, 2.0, 5000)\n        .recoverer(customMessageRecoverer)\n        .build()\n}\n\n@Bean\nfun myFactory(\n    configurer: SimpleRabbitListenerContainerFactoryConfigurer,\n    connectionFactory: ConnectionFactory,\n    customsMessageRecoverer: CustomMessageRecoverer,\n): SimpleRabbitListenerContainerFactory {\n    val factory = SimpleRabbitListenerContainerFactory()\n    configurer.configure(factory, connectionFactory)\n    factory.setAdviceChain(workMessagesRetryInterceptor(customsMessageRecoverer))\n    return factory;\n}\n</code></pre>\n<p>However, I've noticed that with this configuration, no retries are being executed at all, even for exceptions that are not in the exclusion list. How can I modify this configuration to both exclude specific exceptions from being retried, such as AuthoraizationException or IllegalArgumentException, and ensure that other exceptions are still retried according to the retry policy?\nAny code examples would be appreciated.\nThanks in advance!</p>\n"},{"tags":["java","sql-insert","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1678113197,"creation_date":1463489635,"answer_id":37276818,"question_id":37276221,"body_markdown":"Hints for DML are not currently supported by jOOQ, but are on the roadmap: https://github.com/jOOQ/jOOQ/issues/2654\r\n\r\nIn the meantime, your options are:\r\n\r\n### Resorting to [plain SQL][1]\r\n\r\ne.g. via [`DSLContext.execute(String)`][2]. Typically, you&#39;d be extracting the SQL from the jOOQ `Query` via [`Query.getSQL()`][3] and [`Query.getBindValues()`][4]. For example:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    Query query = ctx.insertInto(...).values(...);\r\n    ctx.execute(\r\n        query.getSQL().replace(&quot;insert into&quot;, &quot;insert /*+APPEND*/ into&quot;), \r\n        query.getBindValues().toArray()\r\n    );\r\n\r\n### Implement DML hint support yourself\r\n\r\nVia an [`ExecuteListener`][5] which patches the generated SQL on the [`renderEnd()`][6] event whenever some flag is set to true. You could put flags in [`Configuration.data()`][7], for instance:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public class MyListener extends DefaultExecuteListener {\r\n        @Override\r\n        public void renderEnd(ExecuteContext ctx) {\r\n            if (ctx.data().containsKey(&quot;insert hint&quot;)) {\r\n                ctx.sql(ctx.sql().replace(\r\n                    &quot;insert into&quot;, \r\n                    &quot;insert &quot; + ctx.data().get(&quot;insert hint&quot;) + &quot; into&quot;\r\n                ));\r\n            }\r\n        }\r\n    }\r\n\r\nAnd then:\r\n\r\n    Configuration withHint = usualConfiguration.derive();\r\n    withHint.data(&quot;insert hint&quot;, &quot;/*+APPEND*/&quot;);\r\n\r\n    DSL.using(withHint)\r\n       .insertInto(...).values(...).execute();\r\n\r\n  [1]: http://www.jooq.org/doc/latest/manual/sql-building/plain-sql/\r\n  [2]: http://www.jooq.org/javadoc/latest/org/jooq/DSLContext.html#execute-java.lang.String-\r\n  [3]: http://www.jooq.org/javadoc/latest/org/jooq/Query.html#getSQL--\r\n  [4]: http://www.jooq.org/javadoc/latest/org/jooq/Query.html#getBindValues--\r\n  [5]: http://www.jooq.org/javadoc/latest/org/jooq/ExecuteListener.html\r\n  [6]: http://www.jooq.org/javadoc/latest/org/jooq/ExecuteListener.html#renderEnd-org.jooq.ExecuteContext-\r\n  [7]: http://www.jooq.org/javadoc/latest/org/jooq/Configuration.html#data--\r\n\r\n","title":"How to use Oracle&#39;s APPEND hint with JOOQ-rendered INSERT statements?","body":"<p>Hints for DML are not currently supported by jOOQ, but are on the roadmap: <a href=\"https://github.com/jOOQ/jOOQ/issues/2654\" rel=\"nofollow noreferrer\">https://github.com/jOOQ/jOOQ/issues/2654</a></p>\n<p>In the meantime, your options are:</p>\n<h3>Resorting to <a href=\"http://www.jooq.org/doc/latest/manual/sql-building/plain-sql/\" rel=\"nofollow noreferrer\">plain SQL</a></h3>\n<p>e.g. via <a href=\"http://www.jooq.org/javadoc/latest/org/jooq/DSLContext.html#execute-java.lang.String-\" rel=\"nofollow noreferrer\"><code>DSLContext.execute(String)</code></a>. Typically, you'd be extracting the SQL from the jOOQ <code>Query</code> via <a href=\"http://www.jooq.org/javadoc/latest/org/jooq/Query.html#getSQL--\" rel=\"nofollow noreferrer\"><code>Query.getSQL()</code></a> and <a href=\"http://www.jooq.org/javadoc/latest/org/jooq/Query.html#getBindValues--\" rel=\"nofollow noreferrer\"><code>Query.getBindValues()</code></a>. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Query query = ctx.insertInto(...).values(...);\nctx.execute(\n    query.getSQL().replace(&quot;insert into&quot;, &quot;insert /*+APPEND*/ into&quot;), \n    query.getBindValues().toArray()\n);\n</code></pre>\n<h3>Implement DML hint support yourself</h3>\n<p>Via an <a href=\"http://www.jooq.org/javadoc/latest/org/jooq/ExecuteListener.html\" rel=\"nofollow noreferrer\"><code>ExecuteListener</code></a> which patches the generated SQL on the <a href=\"http://www.jooq.org/javadoc/latest/org/jooq/ExecuteListener.html#renderEnd-org.jooq.ExecuteContext-\" rel=\"nofollow noreferrer\"><code>renderEnd()</code></a> event whenever some flag is set to true. You could put flags in <a href=\"http://www.jooq.org/javadoc/latest/org/jooq/Configuration.html#data--\" rel=\"nofollow noreferrer\"><code>Configuration.data()</code></a>, for instance:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyListener extends DefaultExecuteListener {\n    @Override\n    public void renderEnd(ExecuteContext ctx) {\n        if (ctx.data().containsKey(&quot;insert hint&quot;)) {\n            ctx.sql(ctx.sql().replace(\n                &quot;insert into&quot;, \n                &quot;insert &quot; + ctx.data().get(&quot;insert hint&quot;) + &quot; into&quot;\n            ));\n        }\n    }\n}\n</code></pre>\n<p>And then:</p>\n<pre><code>Configuration withHint = usualConfiguration.derive();\nwithHint.data(&quot;insert hint&quot;, &quot;/*+APPEND*/&quot;);\n\nDSL.using(withHint)\n   .insertInto(...).values(...).execute();\n</code></pre>\n"}],"owner":{"account_id":224454,"reputation":9570,"user_id":484293,"accept_rate":97,"display_name":"blubb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":37276818,"answer_count":1,"score":2,"last_activity_date":1678113197,"creation_date":1463488112,"question_id":37276221,"body_markdown":"I have a JOOQ query like the following:\r\n\r\n    dsl.insertInto(AUTHOR_ARCHIVE)\r\n       .select(selectFrom(AUTHOR).where(AUTHOR.DECEASED.isTrue()));\r\n\r\nI would like to leverage [Oracle&#39;s `/*+ APPEND */` hint](https://oracle-base.com/articles/misc/append-hint) to improve performance. \r\n\r\nHowever, [JOOQ&#39;s documentation on oracle hints](http://www.jooq.org/doc/3.8/manual/sql-building/sql-statements/select-statement/oracle-hints/) does not include an example for `INSERT` statements. How do I inject the append hint in the above query with JOOQ 3.8?\r\n\r\n","title":"How to use Oracle&#39;s APPEND hint with JOOQ-rendered INSERT statements?","body":"<p>I have a JOOQ query like the following:</p>\n\n<pre><code>dsl.insertInto(AUTHOR_ARCHIVE)\n   .select(selectFrom(AUTHOR).where(AUTHOR.DECEASED.isTrue()));\n</code></pre>\n\n<p>I would like to leverage <a href=\"https://oracle-base.com/articles/misc/append-hint\" rel=\"nofollow\">Oracle's <code>/*+ APPEND */</code> hint</a> to improve performance. </p>\n\n<p>However, <a href=\"http://www.jooq.org/doc/3.8/manual/sql-building/sql-statements/select-statement/oracle-hints/\" rel=\"nofollow\">JOOQ's documentation on oracle hints</a> does not include an example for <code>INSERT</code> statements. How do I inject the append hint in the above query with JOOQ 3.8?</p>\n"},{"tags":["java","spring","spring-boot","spring-integration"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678112913,"creation_date":1678112913,"answer_id":75652058,"question_id":75649866,"body_markdown":"See `group-timeout` option of the aggregator. \r\nThe point is that `ReleaseStrategy` takes an action only when a message is received by the aggregator. In your case there is no enough messages for a group to trigger release action. Therefore we have to schedule respective task per group essentially making an aggregator as an active component and do something even if no messages sent in time. \r\n\r\nSee more info in docs: https://docs.spring.io/spring-integration/docs/current/reference/html/message-routing.html#agg-and-group-to\r\n\r\nAnd also consider to upgrade to the latest version: https://spring.io/projects/spring-integration#learn","title":"Why does TimeoutCountSequenceSizeReleaseStrategy of Spring Integration does not release messages when time has lapsed set by the user?","body":"<p>See <code>group-timeout</code> option of the aggregator.\nThe point is that <code>ReleaseStrategy</code> takes an action only when a message is received by the aggregator. In your case there is no enough messages for a group to trigger release action. Therefore we have to schedule respective task per group essentially making an aggregator as an active component and do something even if no messages sent in time.</p>\n<p>See more info in docs: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/message-routing.html#agg-and-group-to\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/message-routing.html#agg-and-group-to</a></p>\n<p>And also consider to upgrade to the latest version: <a href=\"https://spring.io/projects/spring-integration#learn\" rel=\"nofollow noreferrer\">https://spring.io/projects/spring-integration#learn</a></p>\n"}],"owner":{"account_id":20491582,"reputation":199,"user_id":15037564,"display_name":"Nichole"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678112913,"creation_date":1678099637,"question_id":75649866,"body_markdown":"In my SpringBoot application I have written an aggregator as below. I want messages to be release immediately after 2 minutes has lapsed. But below code does not seem to work.\r\nHowever, when release-strategy is changed from &quot;timoutReleaseStrategy&#39; to &quot;size() ==1&quot; , messages are release one by one. However, I want all messages to be released after 2 minutes.\r\n\r\nThe spring version i am using is 5.3.20\r\n\r\n    &lt;int:aggregator \r\n          output-channel=&quot;splitterInChannel&quot;\r\n          send-partial-result-on-expiry=&quot;true&quot;\r\n          message-store=&quot;customMessageStore&quot;\r\n          correlation-strategy-expression=&quot;headers[&#39;type&#39;]\r\n          ref=&quot;taskAggregationService&quot;\r\n          method=&quot;aggregateTask&quot;\r\n          release-strategy-expression=&quot;timeoutReleaseStrategy&quot;    \r\n          expire-groups-upon-completion=&quot;true&quot;\r\n          expire-groups-upon-timeout=&quot;true&quot;\r\n          id=&quot;customAggregator&quot;\r\n          input-channel=&quot;aggregatorInChannel&quot; &gt;\r\n    &lt;/int:aggregator&gt;\r\n    \r\n    &lt;bean id=&quot;customMessageStore&quot;  class=&quot;org....SimpleMessageStore&quot;/&gt;\r\n    &lt;bean id=&quot;timeoutReleaseStrategy&quot; class=&quot;org....TimeoutCountSequenceSizeReleaseStrategy&quot;&gt;\r\n       &lt;constructor-arg name=&quot;threshold&quot; value=&quot;100&quot;/&gt;\r\n          &lt;constructor-arg name=&quot;timeout&quot; value=&quot;120000&quot;/&gt; // 2 minutes\r\n    &lt;/bean&gt;","title":"Why does TimeoutCountSequenceSizeReleaseStrategy of Spring Integration does not release messages when time has lapsed set by the user?","body":"<p>In my SpringBoot application I have written an aggregator as below. I want messages to be release immediately after 2 minutes has lapsed. But below code does not seem to work.\nHowever, when release-strategy is changed from &quot;timoutReleaseStrategy' to &quot;size() ==1&quot; , messages are release one by one. However, I want all messages to be released after 2 minutes.</p>\n<p>The spring version i am using is 5.3.20</p>\n<pre><code>&lt;int:aggregator \n      output-channel=&quot;splitterInChannel&quot;\n      send-partial-result-on-expiry=&quot;true&quot;\n      message-store=&quot;customMessageStore&quot;\n      correlation-strategy-expression=&quot;headers['type']\n      ref=&quot;taskAggregationService&quot;\n      method=&quot;aggregateTask&quot;\n      release-strategy-expression=&quot;timeoutReleaseStrategy&quot;    \n      expire-groups-upon-completion=&quot;true&quot;\n      expire-groups-upon-timeout=&quot;true&quot;\n      id=&quot;customAggregator&quot;\n      input-channel=&quot;aggregatorInChannel&quot; &gt;\n&lt;/int:aggregator&gt;\n\n&lt;bean id=&quot;customMessageStore&quot;  class=&quot;org....SimpleMessageStore&quot;/&gt;\n&lt;bean id=&quot;timeoutReleaseStrategy&quot; class=&quot;org....TimeoutCountSequenceSizeReleaseStrategy&quot;&gt;\n   &lt;constructor-arg name=&quot;threshold&quot; value=&quot;100&quot;/&gt;\n      &lt;constructor-arg name=&quot;timeout&quot; value=&quot;120000&quot;/&gt; // 2 minutes\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":["java","oracle","lambda"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1678112880,"post_id":75649618,"comment_id":133465247,"body_markdown":"I&#39;m betting the problem is the JDBC driver version for Oracle.  It doesn&#39;t matter what version of JDK your code uses if it isn&#39;t updated to accept lambdas.  JDK 8 is long past its support life.  You should be using JDK 17.  Upgrade your driver JAR, too.","body":"I&#39;m betting the problem is the JDBC driver version for Oracle.  It doesn&#39;t matter what version of JDK your code uses if it isn&#39;t updated to accept lambdas.  JDK 8 is long past its support life.  You should be using JDK 17.  Upgrade your driver JAR, too."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1678112952,"post_id":75649618,"comment_id":133465277,"body_markdown":"@duffymo &quot;*JDK 8 is long past its support life*&quot; Why do people keep saying this here? It&#39;s supported for 7 more years.","body":"@duffymo &quot;<i>JDK 8 is long past its support life</i>&quot; Why do people keep saying this here? It&#39;s supported for 7 more years."},{"owner":{"account_id":1635690,"reputation":150047,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":1,"creation_date":1678113024,"post_id":75649618,"comment_id":133465305,"body_markdown":"@duffymo The OP is using Java embedded within the Oracle database and is **NOT** connecting to the Oracle database via Java and JDBC. Oracle 12.1 comes with Java 6 embedded and supports upgrading to Java 7. I haven&#39;t yet found the support matrix for Oracle 12.2 (however, the OP states that their embedded Java version is 1.8.0_271).","body":"@duffymo The OP is using Java embedded within the Oracle database and is <b>NOT</b> connecting to the Oracle database via Java and JDBC. Oracle 12.1 comes with Java 6 embedded and supports upgrading to Java 7. I haven&#39;t yet found the support matrix for Oracle 12.2 (however, the OP states that their embedded Java version is 1.8.0_271)."},{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1678113112,"post_id":75649618,"comment_id":133465336,"body_markdown":"Try putting parentheses around your lambda variable , as in `(i_s) -&gt; ....`","body":"Try putting parentheses around your lambda variable , as in <code>(i_s) -&gt; ....</code>"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1678113182,"post_id":75649618,"comment_id":133465358,"body_markdown":"https://endoflife.date/java.  I would not use this as an argument for staying on JDK 8.  Others can choose as they wish.  I&#39;d only go to production on LTS versions myself.","body":"<a href=\"https://endoflife.date/java\" rel=\"nofollow noreferrer\">endoflife.date/java</a>.  I would not use this as an argument for staying on JDK 8.  Others can choose as they wish.  I&#39;d only go to production on LTS versions myself."},{"owner":{"account_id":1635690,"reputation":150047,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":1,"creation_date":1678113313,"post_id":75649618,"comment_id":133465401,"body_markdown":"@duffymo That is (mostly) irrelevant as you cannot just upgrade the embedded version of Java to any later version. There are a very limited number of versions that you can upgrade to as those are the version supported by the containing database. (However, you can make the argument that the OP should upgrade their database version.)","body":"@duffymo That is (mostly) irrelevant as you cannot just upgrade the embedded version of Java to any later version. There are a very limited number of versions that you can upgrade to as those are the version supported by the containing database. (However, you can make the argument that the OP should upgrade their database version.)"},{"owner":{"account_id":14853904,"reputation":21,"user_id":10726998,"display_name":"vasu2005s"},"score":0,"creation_date":1678113492,"post_id":75649618,"comment_id":133465446,"body_markdown":"@MT0 from Java Developer&#39;s Guide for Release 12.2:\n1.7 Support for Java 8\nOracle Database 12c Release 2 (12.2.0.1) provides support for Java 8, which enables portability of Java applications and libraries, and compliance with the latest Java standards.","body":"@MT0 from Java Developer&#39;s Guide for Release 12.2: 1.7 Support for Java 8 Oracle Database 12c Release 2 (12.2.0.1) provides support for Java 8, which enables portability of Java applications and libraries, and compliance with the latest Java standards."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1678113573,"post_id":75649618,"comment_id":133465476,"body_markdown":"Yes, that&#39;s my argument.  I understand what you&#39;re saying.  The mindset that says &quot;I&quot;m fine on JDK8&quot; appears to be affecting the choice of sticking with Oracle 12.2 when the current version is 21.1.0.  I think it&#39;s harmful.","body":"Yes, that&#39;s my argument.  I understand what you&#39;re saying.  The mindset that says &quot;I&quot;m fine on JDK8&quot; appears to be affecting the choice of sticking with Oracle 12.2 when the current version is 21.1.0.  I think it&#39;s harmful."},{"owner":{"account_id":14853904,"reputation":21,"user_id":10726998,"display_name":"vasu2005s"},"score":0,"creation_date":1678113796,"post_id":75649618,"comment_id":133465547,"body_markdown":"@Robert Harvey No luck. Parentheses or not it&#39;s still valid lambda syntax so I had not much expectations anyway :)","body":"@Robert Harvey No luck. Parentheses or not it&#39;s still valid lambda syntax so I had not much expectations anyway :)"},{"owner":{"account_id":1635690,"reputation":150047,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":0,"creation_date":1678114345,"post_id":75649618,"comment_id":133465726,"body_markdown":"It works in Oracle 18.4.0.0 with Java 1.8.0_161 [fiddle](https://dbfiddle.uk/Xz5vdhLL).","body":"It works in Oracle 18.4.0.0 with Java 1.8.0_161 <a href=\"https://dbfiddle.uk/Xz5vdhLL\" rel=\"nofollow noreferrer\">fiddle</a>."},{"owner":{"account_id":14853904,"reputation":21,"user_id":10726998,"display_name":"vasu2005s"},"score":0,"creation_date":1678115898,"post_id":75649618,"comment_id":133466203,"body_markdown":"@duffymo Migration database to new release is not arbitrary choice. It is large project requiring resources from bussiness. Whole codebase much be tested on same hardware with production workload together with neighboring systems.","body":"@duffymo Migration database to new release is not arbitrary choice. It is large project requiring resources from bussiness. Whole codebase much be tested on same hardware with production workload together with neighboring systems."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1678116802,"post_id":75649618,"comment_id":133466517,"body_markdown":"Yes, I get it.  You and your business need to come to grips with the risk you incur by doing nothing.  You are being irresponsible and lazy.  I&#39;m sure the folks who maintain your servers keep up with operating system versions.  The applications that run on them have a similar responsibility to stay current.","body":"Yes, I get it.  You and your business need to come to grips with the risk you incur by doing nothing.  You are being irresponsible and lazy.  I&#39;m sure the folks who maintain your servers keep up with operating system versions.  The applications that run on them have a similar responsibility to stay current."},{"owner":{"account_id":14853904,"reputation":21,"user_id":10726998,"display_name":"vasu2005s"},"score":0,"creation_date":1678118642,"post_id":75649618,"comment_id":133467115,"body_markdown":"@duffymo Matter here is not in coming to grips, its approval testing budget from bussiness. OS version on servers not changing without testing also. Same for hardware before you ask :)","body":"@duffymo Matter here is not in coming to grips, its approval testing budget from bussiness. OS version on servers not changing without testing also. Same for hardware before you ask :)"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1678119579,"post_id":75649618,"comment_id":133467370,"body_markdown":"They decide how to spend their money.  Your job is to inform them of the risks and keep them up to date.  They will be the ones with the ink dot portrait on the cover of the WSJ if there are problems.","body":"They decide how to spend their money.  Your job is to inform them of the risks and keep them up to date.  They will be the ones with the ink dot portrait on the cover of the WSJ if there are problems."},{"owner":{"account_id":14853904,"reputation":21,"user_id":10726998,"display_name":"vasu2005s"},"score":0,"creation_date":1680697189,"post_id":75649618,"comment_id":133941310,"body_markdown":"By the way I found workaround, calling separate JVM using RMI. It works with latest Java 20.","body":"By the way I found workaround, calling separate JVM using RMI. It works with latest Java 20."}],"owner":{"account_id":14853904,"reputation":21,"user_id":10726998,"display_name":"vasu2005s"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1678112849,"creation_date":1678098165,"question_id":75649618,"body_markdown":"Using lambda in Oracle 12.2 embedded Java gives error ORA-29536, do not recognize -&gt; symbol. Why? Java version is 1.8.0_271 checked by dbms_java.get_jdk_version. Lambdas are supported in this Java version. \r\n\r\nI tried installing Oracle Linux on virtual machine and Oracle 12.2 on it, same result. Here is minimal code I try, it works in Oracle 19 and jdoodle.com with Java 8. \r\n\r\n```lang-sql\r\ncreate or replace and compile java source named lambda_test_min as\r\npublic class MyClass2 \r\n{\r\n\r\n  interface i_add_function\r\n  {\r\n    String add ( String i_s ) ;\r\n  }\r\n  \r\n  public static void out_call()\r\n  {\r\n    main( null ) ; \r\n  }\r\n\r\n  public static void main(String args[]) \r\n  {\r\n    i_add_function v_add_function = new i_add_function() \r\n                                    {\r\n                                      public String add ( String i_s2 ) \r\n                                      {\r\n                                        return &quot;Added text by anonimous class: &quot; + i_s2 ;\r\n                                      }\r\n                                    };\r\n                                          \r\n    v_add_function = i_s -&gt; &quot;Added text by lambda: &quot; + i_s ;                                          \r\n\r\n    System.out.println ( v_add_function.add ( &quot;added text.&quot;  ) ) ;\r\n    System.out.println( &quot;java version = &quot; + System.getProperty(&quot;java.version&quot;) );\r\n  }\r\n}\r\n```","title":"Lambda in Oracle 12.2 Java","body":"<p>Using lambda in Oracle 12.2 embedded Java gives error ORA-29536, do not recognize -&gt; symbol. Why? Java version is 1.8.0_271 checked by dbms_java.get_jdk_version. Lambdas are supported in this Java version.</p>\n<p>I tried installing Oracle Linux on virtual machine and Oracle 12.2 on it, same result. Here is minimal code I try, it works in Oracle 19 and jdoodle.com with Java 8.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>create or replace and compile java source named lambda_test_min as\npublic class MyClass2 \n{\n\n  interface i_add_function\n  {\n    String add ( String i_s ) ;\n  }\n  \n  public static void out_call()\n  {\n    main( null ) ; \n  }\n\n  public static void main(String args[]) \n  {\n    i_add_function v_add_function = new i_add_function() \n                                    {\n                                      public String add ( String i_s2 ) \n                                      {\n                                        return &quot;Added text by anonimous class: &quot; + i_s2 ;\n                                      }\n                                    };\n                                          \n    v_add_function = i_s -&gt; &quot;Added text by lambda: &quot; + i_s ;                                          \n\n    System.out.println ( v_add_function.add ( &quot;added text.&quot;  ) ) ;\n    System.out.println( &quot;java version = &quot; + System.getProperty(&quot;java.version&quot;) );\n  }\n}\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1678114331,"post_id":75651995,"comment_id":133465723,"body_markdown":"Where did the error happen exactly? In the service class ProductService? Or maybe in the RestController calling it?","body":"Where did the error happen exactly? In the service class ProductService? Or maybe in the RestController calling it?"},{"owner":{"account_id":19706028,"reputation":537,"user_id":14427714,"display_name":"Sakib ovi"},"score":0,"creation_date":1678116661,"post_id":75651995,"comment_id":133466470,"body_markdown":"@Mar-Z in the product Service","body":"@Mar-Z in the product Service"}],"owner":{"account_id":19706028,"reputation":537,"user_id":14427714,"display_name":"Sakib ovi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678112610,"creation_date":1678112610,"question_id":75651995,"body_markdown":"I have two models. One is Product and another one is Tag. I want setup OneToMany relation between them. After that I want to save tags just like using these format of json.\r\n\r\n    {\r\n        &quot;productName&quot;: &quot;katon gokake 1&quot;,\r\n        &quot;product_desc&quot;: &quot;ASDASasdasdasDASDA&quot;,\r\n        &quot;price&quot;: 250030.0,\r\n        &quot;category&quot;: {\r\n            &quot;id&quot;: 302\r\n        },\r\n        &quot;tags&quot;: [\r\n            {&quot;tag_name&quot;: &quot;new tag&quot;},\r\n    {&quot;tag_name&quot;: &quot;new tag&quot;}\r\n        ]\r\n        \r\n    \r\n    }\r\n\r\nThe format can be wrong If I am wrong please give me a correction of it. Here is the models:\r\n\r\n    package com.example.springpractice.Models;\r\n    \r\n    import jakarta.persistence.*;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Entity\r\n    @Table\r\n    public class Product {\r\n        @Id\r\n        @GeneratedValue\r\n        private int id;\r\n    \r\n        private String productName;\r\n    \r\n        private float price;\r\n    \r\n        private String product_desc;\r\n    \r\n        @ManyToOne\r\n        private Category category;\r\n    \r\n        @OneToMany(cascade = CascadeType.ALL)\r\n        private List&lt;Tags&gt; tags = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n\r\n\r\n    package com.example.springpractice.Models;\r\n    \r\n    import jakarta.persistence.*;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    \r\n    @Data\r\n    @Entity\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Table(name = &quot;tags&quot;)\r\n    public class Tags {\r\n        @Id\r\n        @GeneratedValue\r\n        private int id;\r\n        private String tag_name;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;product_id&quot;)\r\n        private Product products;\r\n    }\r\n\r\n\r\n\r\nHere is the Repos:\r\n\r\n    package com.example.springpractice.Repositories;\r\n    \r\n    import com.example.springpractice.Models.Product;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    \r\n    public interface ProductRepository extends JpaRepository&lt;Product, Integer&gt; {\r\n    \r\n        Product findByProductName(String productName);\r\n    \r\n        Product findByCategoryId(int categoryId);\r\n    }\r\n\r\n\r\n    package com.example.springpractice.Repositories;\r\n    \r\n    import com.example.springpractice.Models.Tags;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    \r\n    public interface TagInterface extends JpaRepository&lt;Tags, Integer&gt; {\r\n        \r\n    }\r\n\r\n\r\nhere is the service:\r\n\r\n    @Service\r\n    public class ProductService {\r\n        @Autowired\r\n        private ProductRepository productRepository;\r\n        @Autowired\r\n        private TagInterface tagInterface;\r\n    \r\n        public Product saveProduct(Product product, List&lt;Tags&gt; tags)\r\n        {\r\n            for(Tags tag : tags){\r\n                tag.setProducts(product);\r\n                tagInterface.save(tag);\r\n            }\r\n            product.setTags(tags);\r\n            return productRepository.save(product);\r\n        }\r\n    }\r\n\r\nits not saving and giving me errors. \r\n\r\n    &quot;No primary or single unique constructor found for interface&quot;","title":"How to save onetomany relation between product and tags","body":"<p>I have two models. One is Product and another one is Tag. I want setup OneToMany relation between them. After that I want to save tags just like using these format of json.</p>\n<pre><code>{\n    &quot;productName&quot;: &quot;katon gokake 1&quot;,\n    &quot;product_desc&quot;: &quot;ASDASasdasdasDASDA&quot;,\n    &quot;price&quot;: 250030.0,\n    &quot;category&quot;: {\n        &quot;id&quot;: 302\n    },\n    &quot;tags&quot;: [\n        {&quot;tag_name&quot;: &quot;new tag&quot;},\n{&quot;tag_name&quot;: &quot;new tag&quot;}\n    ]\n    \n\n}\n</code></pre>\n<p>The format can be wrong If I am wrong please give me a correction of it. Here is the models:</p>\n<pre><code>package com.example.springpractice.Models;\n\nimport jakarta.persistence.*;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table\npublic class Product {\n    @Id\n    @GeneratedValue\n    private int id;\n\n    private String productName;\n\n    private float price;\n\n    private String product_desc;\n\n    @ManyToOne\n    private Category category;\n\n    @OneToMany(cascade = CascadeType.ALL)\n    private List&lt;Tags&gt; tags = new ArrayList&lt;&gt;();\n}\n\n\n\npackage com.example.springpractice.Models;\n\nimport jakarta.persistence.*;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Data\n@Entity\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(name = &quot;tags&quot;)\npublic class Tags {\n    @Id\n    @GeneratedValue\n    private int id;\n    private String tag_name;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;product_id&quot;)\n    private Product products;\n}\n</code></pre>\n<p>Here is the Repos:</p>\n<pre><code>package com.example.springpractice.Repositories;\n\nimport com.example.springpractice.Models.Product;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\npublic interface ProductRepository extends JpaRepository&lt;Product, Integer&gt; {\n\n    Product findByProductName(String productName);\n\n    Product findByCategoryId(int categoryId);\n}\n\n\npackage com.example.springpractice.Repositories;\n\nimport com.example.springpractice.Models.Tags;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\npublic interface TagInterface extends JpaRepository&lt;Tags, Integer&gt; {\n    \n}\n</code></pre>\n<p>here is the service:</p>\n<pre><code>@Service\npublic class ProductService {\n    @Autowired\n    private ProductRepository productRepository;\n    @Autowired\n    private TagInterface tagInterface;\n\n    public Product saveProduct(Product product, List&lt;Tags&gt; tags)\n    {\n        for(Tags tag : tags){\n            tag.setProducts(product);\n            tagInterface.save(tag);\n        }\n        product.setTags(tags);\n        return productRepository.save(product);\n    }\n}\n</code></pre>\n<p>its not saving and giving me errors.</p>\n<pre><code>&quot;No primary or single unique constructor found for interface&quot;\n</code></pre>\n"},{"tags":["java","spring","maven","liquibase","alfresco"],"comments":[{"owner":{"account_id":881640,"reputation":4624,"user_id":266254,"accept_rate":47,"display_name":"bilak"},"score":0,"creation_date":1677688811,"post_id":75604960,"comment_id":133388576,"body_markdown":"are you also using spring-boot or just spring? Because if only spring this won&#39;t work for you.","body":"are you also using spring-boot or just spring? Because if only spring this won&#39;t work for you."},{"owner":{"account_id":7742741,"reputation":77,"user_id":5861808,"display_name":"Amit Agarwal"},"score":0,"creation_date":1677731487,"post_id":75604960,"comment_id":133397090,"body_markdown":"@bilak We are using spring and spring boot jar files but the application is packaged as a war file and deployed on an external tomcat server using Docker. Could you please help with how we can provide the values from the property file? in liquibase db-changelog.xml","body":"@bilak We are using spring and spring boot jar files but the application is packaged as a war file and deployed on an external tomcat server using Docker. Could you please help with how we can provide the values from the property file? in liquibase db-changelog.xml"},{"owner":{"account_id":7742741,"reputation":77,"user_id":5861808,"display_name":"Amit Agarwal"},"score":0,"creation_date":1677757039,"post_id":75604960,"comment_id":133402664,"body_markdown":"Anyone, Please help as I am stuck here. Also, is there any other way to provide value from a property file in liquibase?","body":"Anyone, Please help as I am stuck here. Also, is there any other way to provide value from a property file in liquibase?"},{"owner":{"account_id":881640,"reputation":4624,"user_id":266254,"accept_rate":47,"display_name":"bilak"},"score":1,"creation_date":1677768806,"post_id":75604960,"comment_id":133406214,"body_markdown":"It seems like your application doesn&#39;t contain spring boot. Which version of spring-boot do you use? Can you try to provide some [simple application](https://stackoverflow.com/help/minimal-reproducible-example) and store it somewhere?","body":"It seems like your application doesn&#39;t contain spring boot. Which version of spring-boot do you use? Can you try to provide some <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">simple application</a> and store it somewhere?"},{"owner":{"account_id":7742741,"reputation":77,"user_id":5861808,"display_name":"Amit Agarwal"},"score":0,"creation_date":1678103492,"post_id":75604960,"comment_id":133462524,"body_markdown":"@bilak Please find below the list of Spring boot Jars added to our application: \n\nspring-boot-2.5.12.jar\nspring-boot-autoconfigure-2.5.12.jar\nspring-boot-actuator-autoconfigure-2.5.12.jar\nspring-boot-starter-2.5.12.jar\nspring-boot-actuator-2.5.12.jar\nspring-boot-starter-security-2.5.12.jar\nspring-boot-starter-tomcat-2.5.12.jar\nspring-boot-starter-web-2.5.12.jar\n\nWe could not provide the actual project because of security reasons but we are using the project similar to this repo: https://github.com/OpenPj/alfresco-process-services-project-sdk/tree/2.x","body":"@bilak Please find below the list of Spring boot Jars added to our application:   spring-boot-2.5.12.jar spring-boot-autoconfigure-2.5.12.jar spring-boot-actuator-autoconfigure-2.5.12.jar spring-boot-starter-2.5.12.jar spring-boot-actuator-2.5.12.jar spring-boot-starter-security-2.5.12.jar spring-boot-starter-tomcat-2.5.12.jar spring-boot-starter-web-2.5.12.jar  We could not provide the actual project because of security reasons but we are using the project similar to this repo: <a href=\"https://github.com/OpenPj/alfresco-process-services-project-sdk/tree/2.x\" rel=\"nofollow noreferrer\">github.com/OpenPj/alfresco-process-services-project-sdk/tree&zwnj;&#8203;/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5795637,"reputation":7297,"user_id":4571544,"display_name":"dekkard"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678112472,"creation_date":1678112472,"answer_id":75651968,"question_id":75604960,"body_markdown":"It&#39;s quite strange to see that you have the `META-INF` directory under `/WEB-INF/classes`.  \r\nObviously this is not the location Spring Boot will look for the Liquibase changesets by default.  \r\nYou&#39;ll have to configure it explicitly in your `application.properties` to make this work, something like:   \r\n\r\n```properties\r\nspring.liquibase.change-log=classpath:META-INF/liquibase/db.changelog.xml\r\n```\r\n\r\nYou can add `logging.level.liquibase=debug` to you properties to log the exact locations Liquibase in reading from and queries it performs to \r\nbring the DB to the desired state.","title":"How to use Liquibase parameters in db-changelog.xml for spring app","body":"<p>It's quite strange to see that you have the <code>META-INF</code> directory under <code>/WEB-INF/classes</code>.<br />\nObviously this is not the location Spring Boot will look for the Liquibase changesets by default.<br />\nYou'll have to configure it explicitly in your <code>application.properties</code> to make this work, something like:</p>\n<pre><code>spring.liquibase.change-log=classpath:META-INF/liquibase/db.changelog.xml\n</code></pre>\n<p>You can add <code>logging.level.liquibase=debug</code> to you properties to log the exact locations Liquibase in reading from and queries it performs to\nbring the DB to the desired state.</p>\n"}],"owner":{"account_id":7742741,"reputation":77,"user_id":5861808,"display_name":"Amit Agarwal"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":329,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1678112472,"creation_date":1677680637,"question_id":75604960,"body_markdown":"I have a spring application on jdk 11 \r\n\r\n**Note: The application is spring packaged as war packaging.** \r\n\r\nusing maven, with the following liquibase dependency :\r\n\r\n       &lt;dependency&gt;\r\n                &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n                &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\r\n                &lt;version&gt;4.15.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\nThe changelog main file is named **db.changelog.xml** , and is located under **&lt;Project&gt;/WEB-INF/classes/META-INF/liquibase/** with the following configuration on application.properties :\r\n\r\n    spring.liquibase.parameters.firstname=admin1\r\n    spring.liquibase.parameters.email=admin1@abc.com\r\n\r\n**Spring Version: 5.3.22**\r\n\r\nand **db-changelog.xml** looks like :\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;databaseChangeLog xmlns=&quot;http://www.liquibase.org/xml/ns/dbchangelog&quot;\r\n                       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n                       xmlns:ext=&quot;http://www.liquibase.org/xml/ns/dbchangelog-ext&quot;\r\n                       xsi:schemaLocation=&quot;http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.0.xsd&quot;&gt;\r\n    \r\n      &lt;changeSet id=&quot;1&quot; author=&quot;abc&quot;&gt;\r\n    \r\n        &lt;!--  USERS --&gt;\r\n    \r\n        &lt;createTable tableName=&quot;USER&quot;&gt;\r\n          &lt;column name=&quot;login&quot; type=&quot;varchar(50)&quot; /&gt;\r\n          &lt;column name=&quot;first_name&quot; type=&quot;varchar(50)&quot; /&gt;\r\n          &lt;column name=&quot;email&quot; type=&quot;varchar(100)&quot; /&gt;\r\n        &lt;/createTable&gt;\r\n    \r\n    \r\n    \t\t\t\t\t\t\t \r\n    \t &lt;insert tableName=&quot;USER&quot;&gt;\r\n            &lt;column name=&quot;login&quot; value=&quot;amit&quot;/&gt;\r\n    \t\t&lt;column name=&quot;first_name&quot; value=&quot;${firstname}&quot;/&gt;\r\n    \t\t&lt;column name=&quot;email&quot; value=&quot;${email}&quot;/&gt;\r\n        &lt;/insert&gt;&lt;/changeSet&gt;\r\n    &lt;/databaseChangeLog&gt;\r\n\r\n\r\nWhen I start my tomcat server using the liquibase SQL insert the string value in the DB column as pictured below: \r\n\r\n[![enter image description here][1]][1]\r\n\r\nCan anyone please help? What I am missing here. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XMKIe.png","title":"How to use Liquibase parameters in db-changelog.xml for spring app","body":"<p>I have a spring application on jdk 11</p>\n<p><strong>Note: The application is spring packaged as war packaging.</strong></p>\n<p>using maven, with the following liquibase dependency :</p>\n<pre><code>   &lt;dependency&gt;\n            &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n            &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\n            &lt;version&gt;4.15.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>The changelog main file is named <strong>db.changelog.xml</strong> , and is located under <strong>/WEB-INF/classes/META-INF/liquibase/</strong> with the following configuration on application.properties :</p>\n<pre><code>spring.liquibase.parameters.firstname=admin1\nspring.liquibase.parameters.email=admin1@abc.com\n</code></pre>\n<p><strong>Spring Version: 5.3.22</strong></p>\n<p>and <strong>db-changelog.xml</strong> looks like :</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;databaseChangeLog xmlns=&quot;http://www.liquibase.org/xml/ns/dbchangelog&quot;\n                   xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n                   xmlns:ext=&quot;http://www.liquibase.org/xml/ns/dbchangelog-ext&quot;\n                   xsi:schemaLocation=&quot;http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.0.xsd&quot;&gt;\n\n  &lt;changeSet id=&quot;1&quot; author=&quot;abc&quot;&gt;\n\n    &lt;!--  USERS --&gt;\n\n    &lt;createTable tableName=&quot;USER&quot;&gt;\n      &lt;column name=&quot;login&quot; type=&quot;varchar(50)&quot; /&gt;\n      &lt;column name=&quot;first_name&quot; type=&quot;varchar(50)&quot; /&gt;\n      &lt;column name=&quot;email&quot; type=&quot;varchar(100)&quot; /&gt;\n    &lt;/createTable&gt;\n\n\n                             \n     &lt;insert tableName=&quot;USER&quot;&gt;\n        &lt;column name=&quot;login&quot; value=&quot;amit&quot;/&gt;\n        &lt;column name=&quot;first_name&quot; value=&quot;${firstname}&quot;/&gt;\n        &lt;column name=&quot;email&quot; value=&quot;${email}&quot;/&gt;\n    &lt;/insert&gt;&lt;/changeSet&gt;\n&lt;/databaseChangeLog&gt;\n</code></pre>\n<p>When I start my tomcat server using the liquibase SQL insert the string value in the DB column as pictured below:</p>\n<p><a href=\"https://i.stack.imgur.com/XMKIe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XMKIe.png\" alt=\"enter image description here\" /></a></p>\n<p>Can anyone please help? What I am missing here.</p>\n"},{"tags":["java","ssl","jboss","jboss7.x"],"owner":{"account_id":15607679,"reputation":827,"user_id":11259999,"display_name":"soumitra goswami"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":400,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678112443,"creation_date":1678112443,"question_id":75651964,"body_markdown":"I am fairly new to using JBoss Server for application deployment, and I am using Jboss eop 7.4 version. I have a java application that is built and deployed as a war file on this jboss server. I am trying to call a 3rd party service from my Java application using REST API but the API used certificate-based authentication. I am able to add the key and cer files given to me by the 3rd party application in postman client and hit the api. However, I am not able to do so from my Java code .\r\n\r\nHere&#39;s what I tried   -\r\n1) importing the cert file in the java keystore\r\n\r\n```keytool -import -alias mycert -keystore &quot;&lt;JAVA_HOME&gt;\\jre\\lib\\security\\cacerts&quot; -file C:\\certs\\mycer.cer ```\r\n\r\n2) importing the cert in the JBoss keystore using similar command as above . I found the Jboss application.keystore file from the standalone.xml file - \r\n\r\n```\r\n&lt;security-realm name=&quot;ApplicationRealm&quot;&gt;\r\n                &lt;server-identities&gt;\r\n                    &lt;ssl&gt;\r\n                        &lt;keystore path=&quot;application.keystore&quot; relative-to=&quot;jboss.server.config.dir&quot; keystore-password=&quot;password&quot; alias=&quot;server&quot; key-password=&quot;password&quot; generate-self-signed-certificate-host=&quot;localhost&quot;/&gt;\r\n                    &lt;/ssl&gt;\r\n                &lt;/server-identities&gt;\r\n                &lt;authentication&gt;\r\n                    &lt;local default-user=&quot;$local&quot; allowed-users=&quot;*&quot; skip-group-loading=&quot;true&quot;/&gt;\r\n                    &lt;properties path=&quot;application-users.properties&quot; relative-to=&quot;jboss.server.config.dir&quot;/&gt;\r\n                &lt;/authentication&gt;\r\n                &lt;authorization&gt;\r\n                    &lt;properties path=&quot;application-roles.properties&quot; relative-to=&quot;jboss.server.config.dir&quot;/&gt;\r\n                &lt;/authorization&gt;\r\n            &lt;/security-realm&gt;\r\n        &lt;/security-realms&gt;\r\n```\r\n\r\nAfter each of these steps, I restarted the JVM and the Jboss server respectively.\r\nHowever I keep getting the following exception - \r\n```\r\n18:06:17,878 ERROR [stderr] (default task-5) javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n18:06:17,878 ERROR [stderr] (default task-5)    at sun.security.ssl.Alert.createSSLException(Alert.java:131)\r\n18:06:17,882 ERROR [stderr] (default task-5)    at sun.security.ssl.TransportContext.fatal(TransportContext.java:324)\r\n18:06:17,882 ERROR [stderr] (default task-5)    at sun.security.ssl.TransportContext.fatal(TransportContext.java:267)\r\n18:06:17,882 ERROR [stderr] (default task-5)    at sun.security.ssl.TransportContext.fatal(TransportContext.java:262)\r\n18:06:17,882 ERROR [stderr] (default task-5)    at sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:654)\r\n18:06:17,882 ERROR [stderr] (default task-5)    at sun.security.ssl.CertificateMessage$T12CertificateConsumer.onCertificate(CertificateMessage.java:473)\r\n18:06:17,882 ERROR [stderr] (default task-5)    at sun.security.ssl.CertificateMessage$T12CertificateConsumer.consume(CertificateMessage.java:369)\r\n18:06:17,882 ERROR [stderr] (default task-5)    at sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:377)\r\n18:06:17,882 ERROR [stderr] (default task-5)    at sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:444)\r\n18:06:17,882 ERROR [stderr] (default task-5)    at sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:422)\r\n18:06:17,882 ERROR [stderr] (default task-5)    at sun.security.ssl.TransportContext.dispatch(TransportContext.java:182)\r\n18:06:17,882 ERROR [stderr] (default task-5)    at sun.security.ssl.SSLTransport.decode(SSLTransport.java:152)\r\n18:06:17,882 ERROR [stderr] (default task-5)    at sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1397)\r\n18:06:17,882 ERROR [stderr] (default task-5)    at sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1305)\r\n18:06:17,882 ERROR [stderr] (default task-5)    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:440)\r\n18:06:17,882 ERROR [stderr] (default task-5)    at sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:559)\r\n18:06:17,882 ERROR [stderr] (default task-5)    at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:197)\r\n18:06:17,882 ERROR [stderr] (default task-5)    at sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1572)\r\n18:06:17,882 ERROR [stderr] (default task-5)    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1500)\r\n18:06:17,882 ERROR [stderr] (default task-5)    at java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:480)\r\n18:06:17,882 ERROR [stderr] (default task-5)    at sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(HttpsURLConnectionImpl.java:352)\r\n```\r\n\r\nhere&#39;s my Java code - \r\n\r\n```\r\nURL url = new URL(&lt;configured url&gt;);\r\n            HttpURLConnection conn = (HttpURLConnection) url.openConnection();\r\n            conn.setRequestMethod(&quot;GET&quot;);\r\n            conn.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n            LOGGER.info(System.getProperty(&quot;java.home&quot;));\r\n            if (conn.getResponseCode() != 200) {\r\n                throw new RuntimeException(&quot;Failed : HTTP error code : &quot;\r\n                        + conn.getResponseCode());\r\n            }\r\n\r\n            BufferedReader br = new BufferedReader(new InputStreamReader(\r\n                    (conn.getInputStream())));\r\n\r\n            String response = new String();\r\n            for (String line; (line = br.readLine()) != null; response += line);\r\n            System.out.println(&quot;Output from Server .... \\n&quot;+response);\r\n          \r\n            conn.disconnect();\r\n```\r\n","title":"Jboss Server PKIX path building failed: unable to find valid certification path to requested target","body":"<p>I am fairly new to using JBoss Server for application deployment, and I am using Jboss eop 7.4 version. I have a java application that is built and deployed as a war file on this jboss server. I am trying to call a 3rd party service from my Java application using REST API but the API used certificate-based authentication. I am able to add the key and cer files given to me by the 3rd party application in postman client and hit the api. However, I am not able to do so from my Java code .</p>\n<p>Here's what I tried   -</p>\n<ol>\n<li>importing the cert file in the java keystore</li>\n</ol>\n<p><code>keytool -import -alias mycert -keystore &quot;&lt;JAVA_HOME&gt;\\jre\\lib\\security\\cacerts&quot; -file C:\\certs\\mycer.cer </code></p>\n<ol start=\"2\">\n<li>importing the cert in the JBoss keystore using similar command as above . I found the Jboss application.keystore file from the standalone.xml file -</li>\n</ol>\n<pre><code>&lt;security-realm name=&quot;ApplicationRealm&quot;&gt;\n                &lt;server-identities&gt;\n                    &lt;ssl&gt;\n                        &lt;keystore path=&quot;application.keystore&quot; relative-to=&quot;jboss.server.config.dir&quot; keystore-password=&quot;password&quot; alias=&quot;server&quot; key-password=&quot;password&quot; generate-self-signed-certificate-host=&quot;localhost&quot;/&gt;\n                    &lt;/ssl&gt;\n                &lt;/server-identities&gt;\n                &lt;authentication&gt;\n                    &lt;local default-user=&quot;$local&quot; allowed-users=&quot;*&quot; skip-group-loading=&quot;true&quot;/&gt;\n                    &lt;properties path=&quot;application-users.properties&quot; relative-to=&quot;jboss.server.config.dir&quot;/&gt;\n                &lt;/authentication&gt;\n                &lt;authorization&gt;\n                    &lt;properties path=&quot;application-roles.properties&quot; relative-to=&quot;jboss.server.config.dir&quot;/&gt;\n                &lt;/authorization&gt;\n            &lt;/security-realm&gt;\n        &lt;/security-realms&gt;\n</code></pre>\n<p>After each of these steps, I restarted the JVM and the Jboss server respectively.\nHowever I keep getting the following exception -</p>\n<pre><code>18:06:17,878 ERROR [stderr] (default task-5) javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n18:06:17,878 ERROR [stderr] (default task-5)    at sun.security.ssl.Alert.createSSLException(Alert.java:131)\n18:06:17,882 ERROR [stderr] (default task-5)    at sun.security.ssl.TransportContext.fatal(TransportContext.java:324)\n18:06:17,882 ERROR [stderr] (default task-5)    at sun.security.ssl.TransportContext.fatal(TransportContext.java:267)\n18:06:17,882 ERROR [stderr] (default task-5)    at sun.security.ssl.TransportContext.fatal(TransportContext.java:262)\n18:06:17,882 ERROR [stderr] (default task-5)    at sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:654)\n18:06:17,882 ERROR [stderr] (default task-5)    at sun.security.ssl.CertificateMessage$T12CertificateConsumer.onCertificate(CertificateMessage.java:473)\n18:06:17,882 ERROR [stderr] (default task-5)    at sun.security.ssl.CertificateMessage$T12CertificateConsumer.consume(CertificateMessage.java:369)\n18:06:17,882 ERROR [stderr] (default task-5)    at sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:377)\n18:06:17,882 ERROR [stderr] (default task-5)    at sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:444)\n18:06:17,882 ERROR [stderr] (default task-5)    at sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:422)\n18:06:17,882 ERROR [stderr] (default task-5)    at sun.security.ssl.TransportContext.dispatch(TransportContext.java:182)\n18:06:17,882 ERROR [stderr] (default task-5)    at sun.security.ssl.SSLTransport.decode(SSLTransport.java:152)\n18:06:17,882 ERROR [stderr] (default task-5)    at sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1397)\n18:06:17,882 ERROR [stderr] (default task-5)    at sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1305)\n18:06:17,882 ERROR [stderr] (default task-5)    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:440)\n18:06:17,882 ERROR [stderr] (default task-5)    at sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:559)\n18:06:17,882 ERROR [stderr] (default task-5)    at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:197)\n18:06:17,882 ERROR [stderr] (default task-5)    at sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1572)\n18:06:17,882 ERROR [stderr] (default task-5)    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1500)\n18:06:17,882 ERROR [stderr] (default task-5)    at java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:480)\n18:06:17,882 ERROR [stderr] (default task-5)    at sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(HttpsURLConnectionImpl.java:352)\n</code></pre>\n<p>here's my Java code -</p>\n<pre><code>URL url = new URL(&lt;configured url&gt;);\n            HttpURLConnection conn = (HttpURLConnection) url.openConnection();\n            conn.setRequestMethod(&quot;GET&quot;);\n            conn.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\n            LOGGER.info(System.getProperty(&quot;java.home&quot;));\n            if (conn.getResponseCode() != 200) {\n                throw new RuntimeException(&quot;Failed : HTTP error code : &quot;\n                        + conn.getResponseCode());\n            }\n\n            BufferedReader br = new BufferedReader(new InputStreamReader(\n                    (conn.getInputStream())));\n\n            String response = new String();\n            for (String line; (line = br.readLine()) != null; response += line);\n            System.out.println(&quot;Output from Server .... \\n&quot;+response);\n          \n            conn.disconnect();\n</code></pre>\n"},{"tags":["java","loops","variables"],"comments":[{"owner":{"display_name":"user7159857"},"score":2,"creation_date":1519839244,"post_id":49035413,"comment_id":85075726,"body_markdown":"This doesn&#39;t have to do with android, this is just basic programming.","body":"This doesn&#39;t have to do with android, this is just basic programming."},{"owner":{"account_id":9847667,"reputation":29054,"user_id":7294647,"accept_rate":67,"display_name":"Jacob G."},"score":0,"creation_date":1519839696,"post_id":49035413,"comment_id":85075978,"body_markdown":"Where are you declaring `wordView` multiple times in that snippet?","body":"Where are you declaring <code>wordView</code> multiple times in that snippet?"},{"owner":{"account_id":9794879,"reputation":11137,"user_id":7258332,"accept_rate":33,"display_name":"Santanu Sur"},"score":0,"creation_date":1519840183,"post_id":49035413,"comment_id":85076233,"body_markdown":"the concept is of basic programming but `TextView` element is of **android sdk** so you cannot rule out the tag....then in every question you have to search only the concept and set tags accordingly @TheMCProgrammer","body":"the concept is of basic programming but <code>TextView</code> element is of <b>android sdk</b> so you cannot rule out the tag....then in every question you have to search only the concept and set tags accordingly @TheMCProgrammer"},{"owner":{"account_id":9794879,"reputation":11137,"user_id":7258332,"accept_rate":33,"display_name":"Santanu Sur"},"score":0,"creation_date":1519840504,"post_id":49035413,"comment_id":85076400,"body_markdown":"and also the question seeker might not have the clear concept else he wouldnt have asked the question.. @TheMCProgrammer","body":"and also the question seeker might not have the clear concept else he wouldnt have asked the question.. @TheMCProgrammer"},{"owner":{"display_name":"user7159857"},"score":0,"creation_date":1519842527,"post_id":49035413,"comment_id":85077396,"body_markdown":"Fair point @SantanuSur","body":"Fair point @SantanuSur"}],"answers":[{"tags":[],"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1519839192,"creation_date":1519839192,"answer_id":49035435,"question_id":49035413,"body_markdown":"Scope matters. \r\n\r\nIn each iteration a new `Object` of `TextView` gets created and died in the same iteration as the scope ends there in the same iteration.\r\n\r\n    while (index &lt; 10) {\r\n            TextView wordView = new TextView(this);\r\n            wordView.setText(words.get(index));\r\n            rootView.addView(wordView);\r\n            index ++;\r\n    \r\n        }\r\nVariable `wordView` gets created and ends in the same iteration.\r\n\r\n\r\n    while (index &lt; 10) {\r\n            TextView wordView = new TextView(this); // created\r\n            wordView.setText(words.get(index));\r\n            rootView.addView(wordView);\r\n            index ++;\r\n            // died here \r\n        }\r\n\r\nAs soon as the scope end, garbage collector catches that instance as there is no reference of it anymore. ","title":"How is declaring a new variable inside a loop NOT giving errors?","body":"<p>Scope matters. </p>\n\n<p>In each iteration a new <code>Object</code> of <code>TextView</code> gets created and died in the same iteration as the scope ends there in the same iteration.</p>\n\n<pre><code>while (index &lt; 10) {\n        TextView wordView = new TextView(this);\n        wordView.setText(words.get(index));\n        rootView.addView(wordView);\n        index ++;\n\n    }\n</code></pre>\n\n<p>Variable <code>wordView</code> gets created and ends in the same iteration.</p>\n\n<pre><code>while (index &lt; 10) {\n        TextView wordView = new TextView(this); // created\n        wordView.setText(words.get(index));\n        rootView.addView(wordView);\n        index ++;\n        // died here \n    }\n</code></pre>\n\n<p>As soon as the scope end, garbage collector catches that instance as there is no reference of it anymore. </p>\n"},{"tags":[],"owner":{"display_name":"user7159857"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1519847201,"creation_date":1519839211,"answer_id":49035442,"question_id":49035413,"body_markdown":"Declaring a variable inside a loop makes the variable only available in the scope of that instance in the loop. Basically, each iteration of the loop, the variable gets created and goes out of scope (is &quot;forgotten&quot;) at the end of the iterations.","title":"How is declaring a new variable inside a loop NOT giving errors?","body":"<p>Declaring a variable inside a loop makes the variable only available in the scope of that instance in the loop. Basically, each iteration of the loop, the variable gets created and goes out of scope (is \"forgotten\") at the end of the iterations.</p>\n"},{"tags":[],"owner":{"account_id":9794879,"reputation":11137,"user_id":7258332,"accept_rate":33,"display_name":"Santanu Sur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1519840070,"creation_date":1519839675,"answer_id":49035565,"question_id":49035413,"body_markdown":"You can gracefully define a variable within a loop **the scope of the variable** is only till each iteration. In each iteration a **new object** of type **TextView** is created but \r\n\r\n**Remember**\r\n\r\nyou cannot **declare a variable** within `if` statement\r\n\r\n       if (index &lt; 10) {\r\n            TextView wordView = new TextView(this);\r\n            wordView.setText(words.get(index)); // this will throw compile time error..\r\n                     \r\n            }","title":"How is declaring a new variable inside a loop NOT giving errors?","body":"<p>You can gracefully define a variable within a loop <strong>the scope of the variable</strong> is only till each iteration. In each iteration a <strong>new object</strong> of type <strong>TextView</strong> is created but </p>\n\n<p><strong>Remember</strong></p>\n\n<p>you cannot <strong>declare a variable</strong> within <code>if</code> statement</p>\n\n<pre><code>   if (index &lt; 10) {\n        TextView wordView = new TextView(this);\n        wordView.setText(words.get(index)); // this will throw compile time error..\n\n        }\n</code></pre>\n"}],"owner":{"account_id":12920902,"reputation":29,"user_id":9343421,"display_name":"Noor Eldali"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":3,"score":2,"last_activity_date":1678112014,"creation_date":1519839100,"question_id":49035413,"body_markdown":"I&#39;m new to android and currently learning the basics.\r\nthe code below is meant to display a list of numbers (1-10). I want to understand why the code runs with no errors in android studio and it actually displays the list. **From what I see, we are declaring the variable _wordView_ multiple times without changing the variable name.** Are we updating the same _WordView_ variable each time? if so, how am I getting a list?\r\n\r\n    LinearLayout rootView = (LinearLayout) findViewById(R.id.rootView);\r\n        int index = 0;\r\n        while (index &lt; 10) {\r\n            TextView wordView = new TextView(this);\r\n            wordView.setText(words.get(index));\r\n            rootView.addView(wordView);\r\n            index ++;\r\n\r\n        }","title":"How is declaring a new variable inside a loop NOT giving errors?","body":"<p>I'm new to android and currently learning the basics.\nthe code below is meant to display a list of numbers (1-10). I want to understand why the code runs with no errors in android studio and it actually displays the list. <strong>From what I see, we are declaring the variable <em>wordView</em> multiple times without changing the variable name.</strong> Are we updating the same <em>WordView</em> variable each time? if so, how am I getting a list?</p>\n<pre><code>LinearLayout rootView = (LinearLayout) findViewById(R.id.rootView);\n    int index = 0;\n    while (index &lt; 10) {\n        TextView wordView = new TextView(this);\n        wordView.setText(words.get(index));\n        rootView.addView(wordView);\n        index ++;\n\n    }\n</code></pre>\n"},{"tags":["java","micronaut","micronaut-serde"],"owner":{"account_id":9222511,"reputation":399,"user_id":6851375,"accept_rate":45,"display_name":"patrickjp93"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678111651,"creation_date":1678111651,"question_id":75651824,"body_markdown":"In theory, this is a RTFM question, but I&#39;ve found myself lost in the documentation.\r\n\r\nWith standard Jackson Databind ObjectMapper, we can call `mapper.configure(SerializationFeature.WRITE_ENUMS_USING_INDEX, true);`\r\n\r\nHow do I achieve the same control over Serde&#39;s Jackson ObjectMappers?\r\n\r\nI&#39;ve seen [JacksonConfiguration][1], but that seems to be for setting one mapper for the entire application, and we have 3 systems we have to translate data from differently (enums by index is one such example, timestamps as longs vs ISO-8601 date strings). We have a JsonUtil class which holds 3 internal ObjectMappers which we use by calling \r\n\r\n`JsonUtil.parseJsonSys1/Sys2/Sys3(Class clazz, String json);`\r\n\r\nWhat&#39;s the &quot;correct&quot; way to do that with Micronaut Serialization?\r\n\r\n\r\n  [1]: https://docs.micronaut.io/latest/api/io/micronaut/jackson/JacksonConfiguration.html","title":"Configuring Serde Jackson ObjectMappers","body":"<p>In theory, this is a RTFM question, but I've found myself lost in the documentation.</p>\n<p>With standard Jackson Databind ObjectMapper, we can call <code>mapper.configure(SerializationFeature.WRITE_ENUMS_USING_INDEX, true);</code></p>\n<p>How do I achieve the same control over Serde's Jackson ObjectMappers?</p>\n<p>I've seen <a href=\"https://docs.micronaut.io/latest/api/io/micronaut/jackson/JacksonConfiguration.html\" rel=\"nofollow noreferrer\">JacksonConfiguration</a>, but that seems to be for setting one mapper for the entire application, and we have 3 systems we have to translate data from differently (enums by index is one such example, timestamps as longs vs ISO-8601 date strings). We have a JsonUtil class which holds 3 internal ObjectMappers which we use by calling</p>\n<p><code>JsonUtil.parseJsonSys1/Sys2/Sys3(Class clazz, String json);</code></p>\n<p>What's the &quot;correct&quot; way to do that with Micronaut Serialization?</p>\n"},{"tags":["java","spring-boot","maven","pom.xml"],"comments":[{"owner":{"account_id":24094543,"reputation":29,"user_id":18067284,"display_name":"user"},"score":0,"creation_date":1678111620,"post_id":75651812,"comment_id":133464856,"body_markdown":"Where do i need to put this section to get rid of error?","body":"Where do i need to put this section to get rid of error?"}],"owner":{"account_id":24094543,"reputation":29,"user_id":18067284,"display_name":"user"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678111579,"creation_date":1678111579,"question_id":75651812,"body_markdown":"I want to fix errors in my project and I`ve encountered this thing , inside of my pom.xml file i have this section\r\n\r\n           &lt;build&gt;\r\n             &lt;plugins&gt;\r\n               &lt;plugin&gt;\r\n                 &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                 &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                 &lt;configuration&gt;\r\n                    &lt;annotationProcessorPaths&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n                            &lt;version&gt;1.3.1.Final&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                    &lt;/annotationProcessorPaths&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n\r\n                &lt;/configuration&gt;\r\n              &lt;/plugin&gt;\r\n             &lt;/plugins&gt;\r\n           &lt;/build&gt;\r\n\r\nand this one is strange , because my project works fine , but i want to get rid of this error\r\n[![enter image description here](https://i.stack.imgur.com/x5Bvk.png)](https://i.stack.imgur.com/x5Bvk.png)\r\n\r\nI tried to replace it within build section but it doesnt work","title":"Why do I get errors in pom.xml but my project works fine","body":"<p>I want to fix errors in my project and I`ve encountered this thing , inside of my pom.xml file i have this section</p>\n<pre><code>       &lt;build&gt;\n         &lt;plugins&gt;\n           &lt;plugin&gt;\n             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n             &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n             &lt;configuration&gt;\n                &lt;annotationProcessorPaths&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                        &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                        &lt;version&gt;1.3.1.Final&lt;/version&gt;\n                    &lt;/path&gt;\n                &lt;/annotationProcessorPaths&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                    &lt;/exclude&gt;\n                &lt;/excludes&gt;\n\n            &lt;/configuration&gt;\n          &lt;/plugin&gt;\n         &lt;/plugins&gt;\n       &lt;/build&gt;\n</code></pre>\n<p>and this one is strange , because my project works fine , but i want to get rid of this error\n<a href=\"https://i.stack.imgur.com/x5Bvk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x5Bvk.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried to replace it within build section but it doesnt work</p>\n"},{"tags":["java","apache-spark"],"answers":[{"tags":[],"owner":{"account_id":3964922,"reputation":1691,"user_id":3271168,"display_name":"prudenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678111499,"creation_date":1678111499,"answer_id":75651798,"question_id":75651199,"body_markdown":"As mentioned in [Spark scheduling documentaion](https://spark.apache.org/docs/latest/job-scheduling.html#scheduling-within-an-application) `sc.get(&quot;spark.scheduler.mode&quot;)` will return whether `FIFO` or `FAIR`. If you need to get scheduler pool name, need to use `sc.getLocalProperty(SparkContext.SPARK_SCHEDULER_POOL)`","title":"Spark get the default pool scheduling mode programmatically","body":"<p>As mentioned in <a href=\"https://spark.apache.org/docs/latest/job-scheduling.html#scheduling-within-an-application\" rel=\"nofollow noreferrer\">Spark scheduling documentaion</a> <code>sc.get(&quot;spark.scheduler.mode&quot;)</code> will return whether <code>FIFO</code> or <code>FAIR</code>. If you need to get scheduler pool name, need to use <code>sc.getLocalProperty(SparkContext.SPARK_SCHEDULER_POOL)</code></p>\n"}],"owner":{"account_id":128910,"reputation":3972,"user_id":327096,"accept_rate":88,"display_name":"kumar_m_kiran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678111499,"creation_date":1678107746,"question_id":75651199,"body_markdown":"I am trying to get the default pool scheduler mode programmatically (with spark context). However, the `sc.get(&quot;spark.scheduler.mode&quot;)` does not seem to work when we have multiple pool configured. [![My pool configuration][1]][1].   \r\n\r\nHow do I get the `default` pool scheduling mode programatically?\r\nNote: I am using 3.3.1 version of spark.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YtWvr.jpg","title":"Spark get the default pool scheduling mode programmatically","body":"<p>I am trying to get the default pool scheduler mode programmatically (with spark context). However, the <code>sc.get(&quot;spark.scheduler.mode&quot;)</code> does not seem to work when we have multiple pool configured. <a href=\"https://i.stack.imgur.com/YtWvr.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YtWvr.jpg\" alt=\"My pool configuration\" /></a>.</p>\n<p>How do I get the <code>default</code> pool scheduling mode programatically?\nNote: I am using 3.3.1 version of spark.</p>\n"},{"tags":["java","operators","assignment-operator"],"answers":[{"tags":[],"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"down_vote_count":2,"up_vote_count":22,"is_accepted":true,"score":20,"last_activity_date":1604704398,"creation_date":1371710804,"answer_id":17206960,"question_id":17206933,"body_markdown":"A common syntax is:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n     +=\r\n\r\nThis is the **add and assignment operator**, which adds right-hand expression to the left-hand variable then assigns the result to left-hand variable. For example:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n     int i = 1;\r\n     int j = 2;\r\n     i += j;\r\n\r\n     // Output: 3\r\n     System.out.println( i )\r\n\r\nA far less common syntax is:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    =+\r\n\r\nUsually this is written as two different operators, separated by a space:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    = +\r\n\r\nWithout the space, it looks as follows:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    int i = 1;\r\n    int j = 2;\r\n        \r\n    i =+ j;\r\n    \r\n    // Output: 2\r\n    System.out.println(i);\r\n\r\nAn idiomatic way to write this is to shift the unary operator to the right-hand side:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    int i = 1;\r\n    int j = 2;\r\n        \r\n    i = +j;\r\n    \r\n    // Output: 2\r\n    System.out.println(i);\r\n\r\nNow it&#39;s easy to see that `i` is being assigned to the positive value of `j`. However, `+` is superfluous, so it&#39;s often dropped, resulting in `i = j`, effectively the equivalent of `i = +1 * j`. In contrast is the negative unary operator:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    int i = 1;\r\n    int j = 2;\r\n        \r\n    i = -j;\r\n    \r\n    // Output: -2\r\n    System.out.println(i);\r\n\r\nHere, the `-` would be necessary because it inverts the signedness of `j`, effectively the equivalent of `i = -1 * j`.\r\n\r\nSee the [operators tutorial][1] for more details.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op1.html\r\n\r\n","title":"What is the difference using the operators `+=` vs `=+` in Java?","body":"<p>A common syntax is:</p>\n<pre class=\"lang-java prettyprint-override\"><code> +=\n</code></pre>\n<p>This is the <strong>add and assignment operator</strong>, which adds right-hand expression to the left-hand variable then assigns the result to left-hand variable. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code> int i = 1;\n int j = 2;\n i += j;\n\n // Output: 3\n System.out.println( i )\n</code></pre>\n<p>A far less common syntax is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>=+\n</code></pre>\n<p>Usually this is written as two different operators, separated by a space:</p>\n<pre class=\"lang-java prettyprint-override\"><code>= +\n</code></pre>\n<p>Without the space, it looks as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int i = 1;\nint j = 2;\n    \ni =+ j;\n\n// Output: 2\nSystem.out.println(i);\n</code></pre>\n<p>An idiomatic way to write this is to shift the unary operator to the right-hand side:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int i = 1;\nint j = 2;\n    \ni = +j;\n\n// Output: 2\nSystem.out.println(i);\n</code></pre>\n<p>Now it's easy to see that <code>i</code> is being assigned to the positive value of <code>j</code>. However, <code>+</code> is superfluous, so it's often dropped, resulting in <code>i = j</code>, effectively the equivalent of <code>i = +1 * j</code>. In contrast is the negative unary operator:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int i = 1;\nint j = 2;\n    \ni = -j;\n\n// Output: -2\nSystem.out.println(i);\n</code></pre>\n<p>Here, the <code>-</code> would be necessary because it inverts the signedness of <code>j</code>, effectively the equivalent of <code>i = -1 * j</code>.</p>\n<p>See the <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op1.html\" rel=\"noreferrer\">operators tutorial</a> for more details.</p>\n"},{"tags":[],"owner":{"account_id":473483,"reputation":1187,"user_id":882628,"accept_rate":100,"display_name":"jchips12"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1371711153,"creation_date":1371711153,"answer_id":17207035,"question_id":17206933,"body_markdown":"`+=` adds the right operand to left operand and assign it to left operand\r\n\r\n`=+` assign a value to the left operand","title":"What is the difference using the operators `+=` vs `=+` in Java?","body":"<p><code>+=</code> adds the right operand to left operand and assign it to left operand</p>\n\n<p><code>=+</code> assign a value to the left operand</p>\n"},{"tags":[],"owner":{"account_id":307760,"reputation":13890,"user_id":619252,"display_name":"Gabriel Negut"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1371711153,"creation_date":1371711153,"answer_id":17207036,"question_id":17206933,"body_markdown":"`=+` is the same as the assignment operator `=`\r\n\r\n    a =+ b;\r\n\r\nis equivalent to\r\n\r\n    a = (+b);\r\n\r\nwhich is the same as\r\n\r\n    a = b;","title":"What is the difference using the operators `+=` vs `=+` in Java?","body":"<p><code>=+</code> is the same as the assignment operator <code>=</code></p>\n\n<pre><code>a =+ b;\n</code></pre>\n\n<p>is equivalent to</p>\n\n<pre><code>a = (+b);\n</code></pre>\n\n<p>which is the same as</p>\n\n<pre><code>a = b;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2681706,"reputation":11,"user_id":2316967,"display_name":"Mahmud Hoque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1371757175,"creation_date":1371757175,"answer_id":17222385,"question_id":17206933,"body_markdown":"There is no effect of =+ other than that it is same as = ","title":"What is the difference using the operators `+=` vs `=+` in Java?","body":"<p>There is no effect of =+ other than that it is same as = </p>\n"},{"tags":[],"owner":{"account_id":372920,"reputation":40426,"user_id":722263,"accept_rate":87,"display_name":"Ray"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1523128304,"creation_date":1521467027,"answer_id":49364490,"question_id":17206933,"body_markdown":"The important fact to highlight is that there is no `=+` assignment operator in Java.\r\n\r\nYou&#39;re just listing two operators, one after the other (an `=` then a `+`)  \r\n\r\n- `i =+ j;` is just like writing  `i = +j;`.  \r\n\r\nWhile a little funky looking at it that way, it&#39;s very clear to everyone when considering the minus sign.   \r\n\r\n- `i =- j;`  is the same as `i = -j;` \r\n\r\nAs mentioned in many other answers, the Add and Assignment operator `+=` \r\n\r\n- Adds the right hand side expression to the value of the left hand variable\r\n- Then assigns the value of that addition to the left hand variable.\r\n\r\n","title":"What is the difference using the operators `+=` vs `=+` in Java?","body":"<p>The important fact to highlight is that there is no <code>=+</code> assignment operator in Java.</p>\n\n<p>You're just listing two operators, one after the other (an <code>=</code> then a <code>+</code>)  </p>\n\n<ul>\n<li><code>i =+ j;</code> is just like writing  <code>i = +j;</code>.  </li>\n</ul>\n\n<p>While a little funky looking at it that way, it's very clear to everyone when considering the minus sign.   </p>\n\n<ul>\n<li><code>i =- j;</code>  is the same as <code>i = -j;</code> </li>\n</ul>\n\n<p>As mentioned in many other answers, the Add and Assignment operator <code>+=</code> </p>\n\n<ul>\n<li>Adds the right hand side expression to the value of the left hand variable</li>\n<li>Then assigns the value of that addition to the left hand variable.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":12545853,"reputation":111,"user_id":9129204,"display_name":"Abdessamad ABOUKDIR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618156605,"creation_date":1618156605,"answer_id":67047130,"question_id":17206933,"body_markdown":"Actually saying that `i=j` is the same as `i= +j` is not totally true,\r\nbecause `i= +j` promotes the variable type to int if it&#39;s smaller than int, while assignment does not.\r\nFor example:\r\n\r\n    byte b1 = 2;\r\n    short s1 = b; // compiles and s1 equals 2 of type short\r\n    short s2 = +b; // Compile error: required type: short, provided int\r\n    // Because the result of +b equals 2 of type int","title":"What is the difference using the operators `+=` vs `=+` in Java?","body":"<p>Actually saying that <code>i=j</code> is the same as <code>i= +j</code> is not totally true,\nbecause <code>i= +j</code> promotes the variable type to int if it's smaller than int, while assignment does not.\nFor example:</p>\n<pre><code>byte b1 = 2;\nshort s1 = b; // compiles and s1 equals 2 of type short\nshort s2 = +b; // Compile error: required type: short, provided int\n// Because the result of +b equals 2 of type int\n</code></pre>\n"}],"owner":{"account_id":1942600,"reputation":1441,"user_id":1748442,"accept_rate":98,"display_name":"Jessica M."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15587,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":17206960,"answer_count":6,"score":23,"last_activity_date":1678111112,"creation_date":1371710676,"question_id":17206933,"body_markdown":"I just realized that I was using `=+` instead of the operator `+=` and my program was doing all sorts of weird and unexpected things.  \r\nEclipse didn&#39;t give me an error of any kind so I assume that `=+` is a legitimate operator, but there is no reference to that in my book.\r\n\r\nMy question is:  \r\nWhat does `=+` do and under what circumstances would you use it?","title":"What is the difference using the operators `+=` vs `=+` in Java?","body":"<p>I just realized that I was using <code>=+</code> instead of the operator <code>+=</code> and my program was doing all sorts of weird and unexpected things.<br />\nEclipse didn't give me an error of any kind so I assume that <code>=+</code> is a legitimate operator, but there is no reference to that in my book.</p>\n<p>My question is:<br />\nWhat does <code>=+</code> do and under what circumstances would you use it?</p>\n"},{"tags":["java"],"owner":{"account_id":27818328,"reputation":1,"user_id":21239275,"display_name":"singer_cat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678110551,"answer_count":0,"score":0,"last_activity_date":1678110581,"creation_date":1678109680,"question_id":75651497,"body_markdown":" How to mak java.lang.Integer.IntegerCache.high=500?\r\n\r\nif make java.lang.Integer.IntegerCache.high=500\r\n\r\nInteger c = 200;\r\nInteger d = 200;\r\n  \r\nexcepting:   c==d is true","title":"improve the value of IntegerCache.high","body":"<p>How to mak java.lang.Integer.IntegerCache.high=500?</p>\n<p>if make java.lang.Integer.IntegerCache.high=500</p>\n<p>Integer c = 200;\nInteger d = 200;</p>\n<p>excepting:   c==d is true</p>\n"},{"tags":["java","firebase","firebase-cli","firebase-tools"],"comments":[{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":1,"creation_date":1653934417,"post_id":72438409,"comment_id":127967629,"body_markdown":"To add clarification around the &quot;latest version&quot; message, it is probably saying you have the latest version of Java 8, not that you have the latest major version. It is often undesirable to automatically update to the latest major version automatically.","body":"To add clarification around the &quot;latest version&quot; message, it is probably saying you have the latest version of Java 8, not that you have the latest major version. It is often undesirable to automatically update to the latest major version automatically."}],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653934205,"creation_date":1653934205,"answer_id":72438464,"question_id":72438409,"body_markdown":"The best way to tell what version you have is to open a terminal shell and type: \r\n\r\n    java -version\r\n\r\nI think you have JDK 8.  That is long past the end of its support life.\r\n\r\nYou want either JDK 11 or, better yet, 17.  Those are the two LTS versions to choose from.\r\n\r\nYou can download JDK 11 or 17 from [OpenJDK][1].  \r\n\r\n\r\n  [1]: https://www.azul.com/downloads/?package=jdk","title":"firebase-tools no longer supports Java version before 11. Please upgrade to Java version 11 or above to continue using the emulators","body":"<p>The best way to tell what version you have is to open a terminal shell and type:</p>\n<pre><code>java -version\n</code></pre>\n<p>I think you have JDK 8.  That is long past the end of its support life.</p>\n<p>You want either JDK 11 or, better yet, 17.  Those are the two LTS versions to choose from.</p>\n<p>You can download JDK 11 or 17 from <a href=\"https://www.azul.com/downloads/?package=jdk\" rel=\"nofollow noreferrer\">OpenJDK</a>.</p>\n"},{"tags":[],"owner":{"account_id":13642677,"reputation":1253,"user_id":9842392,"display_name":"NoobN3rd"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1655662990,"creation_date":1655662990,"answer_id":72679331,"question_id":72438409,"body_markdown":"*For future visitors*\r\n\r\nIf you&#39;re using older version of the `firebase-tools`(&lt;11.), you will get some logs/warning like the following when you run the Firebase local emulator:\r\n\r\n```console\r\nemulators: Support for Java version &lt;= 10 will be dropped soon in firebase-tools@11. \r\nPlease upgrade to Java version 11 or above to continue using the emulators.\r\n```\r\n\r\nBut you have this in your log:\r\n\r\n```console\r\nfirebase-tools no longer supports Java version before 11. Please upgrade to Java version 11\r\nor above to continue using the emulators\r\n```\r\n\r\nIt means that you have `firebase-tools&gt;=11.` and you need to install the java version 11.\r\nIn my case I preferred to downgrade my `firebase-tools`.\r\n\r\n## Downgrade `firebase-tools`\r\n\r\n[Here](https://www.npmjs.com/package/firebase-tools) you can find the npm page and learn about the package and the versions.\r\n\r\nThe latest version for `10`, is [v10.9.2](https://www.npmjs.com/package/firebase-tools/v/10.9.2).\r\n\r\nFirst you need to remove the current installed version of `firebase-tools`:\r\n\r\n```sh\r\nnpm uninstall -g firebase-tools  \r\n```\r\n\r\nThen you can install the version you want:\r\n\r\n```sh\r\nnpm i -g firebase-tools@10.9.2 \r\n```\r\n\r\nAnd there other way is to upgrade your java version to &gt;=11 and use the latest version of `firebase-tools`.\r\n","title":"firebase-tools no longer supports Java version before 11. Please upgrade to Java version 11 or above to continue using the emulators","body":"<p><em>For future visitors</em></p>\n<p>If you're using older version of the <code>firebase-tools</code>(&lt;11.), you will get some logs/warning like the following when you run the Firebase local emulator:</p>\n<pre><code>emulators: Support for Java version &lt;= 10 will be dropped soon in firebase-tools@11. \nPlease upgrade to Java version 11 or above to continue using the emulators.\n</code></pre>\n<p>But you have this in your log:</p>\n<pre><code>firebase-tools no longer supports Java version before 11. Please upgrade to Java version 11\nor above to continue using the emulators\n</code></pre>\n<p>It means that you have <code>firebase-tools&gt;=11.</code> and you need to install the java version 11.\nIn my case I preferred to downgrade my <code>firebase-tools</code>.</p>\n<h2>Downgrade <code>firebase-tools</code></h2>\n<p><a href=\"https://www.npmjs.com/package/firebase-tools\" rel=\"noreferrer\">Here</a> you can find the npm page and learn about the package and the versions.</p>\n<p>The latest version for <code>10</code>, is <a href=\"https://www.npmjs.com/package/firebase-tools/v/10.9.2\" rel=\"noreferrer\">v10.9.2</a>.</p>\n<p>First you need to remove the current installed version of <code>firebase-tools</code>:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>npm uninstall -g firebase-tools  \n</code></pre>\n<p>Then you can install the version you want:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>npm i -g firebase-tools@10.9.2 \n</code></pre>\n<p>And there other way is to upgrade your java version to &gt;=11 and use the latest version of <code>firebase-tools</code>.</p>\n"},{"tags":[],"owner":{"account_id":1361214,"reputation":3428,"user_id":1298553,"accept_rate":70,"display_name":"cgenco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656513940,"creation_date":1656513940,"answer_id":72803386,"question_id":72438409,"body_markdown":"On macOS you can download the latest version of the JDK by downloading the [OpenJDK installer on AdoptOpenJDK](https://adoptopenjdk.net/archive.html?variant=openjdk11&amp;jvmVariant=hotspot).","title":"firebase-tools no longer supports Java version before 11. Please upgrade to Java version 11 or above to continue using the emulators","body":"<p>On macOS you can download the latest version of the JDK by downloading the <a href=\"https://adoptopenjdk.net/archive.html?variant=openjdk11&amp;jvmVariant=hotspot\" rel=\"nofollow noreferrer\">OpenJDK installer on AdoptOpenJDK</a>.</p>\n"},{"tags":[],"owner":{"account_id":42778,"reputation":6693,"user_id":124737,"accept_rate":83,"display_name":"Ron Srebro"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1659662658,"creation_date":1659662658,"answer_id":73243724,"question_id":72438409,"body_markdown":"I just had the same error and just went through the all version 8 vs. version 11, etc. but now I get it.\r\n\r\nfirebase-tools is referring to the version of the JDK installed, not the version of Java runtime installed. \r\n\r\nThe latest JDK from Oracle can be downloaded from https://www.oracle.com/java/technologies/downloads/#jdk18-mac with the latest version being 18.\r\n\r\nThe Java runtime for Mac latest version is indeed 8, but again that&#39;s not what firebase tools is looking for\r\n","title":"firebase-tools no longer supports Java version before 11. Please upgrade to Java version 11 or above to continue using the emulators","body":"<p>I just had the same error and just went through the all version 8 vs. version 11, etc. but now I get it.</p>\n<p>firebase-tools is referring to the version of the JDK installed, not the version of Java runtime installed.</p>\n<p>The latest JDK from Oracle can be downloaded from <a href=\"https://www.oracle.com/java/technologies/downloads/#jdk18-mac\" rel=\"noreferrer\">https://www.oracle.com/java/technologies/downloads/#jdk18-mac</a> with the latest version being 18.</p>\n<p>The Java runtime for Mac latest version is indeed 8, but again that's not what firebase tools is looking for</p>\n"},{"tags":[],"owner":{"account_id":24717375,"reputation":91,"user_id":18606927,"display_name":"Tymoteusz Chmielewski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669928240,"creation_date":1669928212,"answer_id":74648071,"question_id":72438409,"body_markdown":"The command to deterine installed JDK is: \r\n\r\njavac -version\r\n\r\n(while java -version if for Java Runtime version) \r\n\r\nI had the same issue on Windows and upgrading Java through Java updater or dowloading JDK from Oracle didn&#39;t help (propably it could). \r\nOn the other hand Firebase installation doc refers to Open JDK:\r\nhttps://firebase.google.com/docs/emulator-suite/install_and_configure\r\n\r\nSo I uninstalled all &quot;commercial&quot; Java and downloaded:\r\nhttps://openjdk.org/install/\r\n\r\nOpen JDK needs only unpacking and setting JAVA_HOME and PATH system variables:\r\nJAVA_HOME and PATH\r\nhttps://docs.plm.automation.siemens.com/content/polarion/19.1/help/en_US/polarion_windows_installation/before_installation/install_openjdk_11.html\r\n\r\nThere is no installation and messing with host system files, etc.\r\n\r\n","title":"firebase-tools no longer supports Java version before 11. Please upgrade to Java version 11 or above to continue using the emulators","body":"<p>The command to deterine installed JDK is:</p>\n<p>javac -version</p>\n<p>(while java -version if for Java Runtime version)</p>\n<p>I had the same issue on Windows and upgrading Java through Java updater or dowloading JDK from Oracle didn't help (propably it could).\nOn the other hand Firebase installation doc refers to Open JDK:\n<a href=\"https://firebase.google.com/docs/emulator-suite/install_and_configure\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/emulator-suite/install_and_configure</a></p>\n<p>So I uninstalled all &quot;commercial&quot; Java and downloaded:\n<a href=\"https://openjdk.org/install/\" rel=\"nofollow noreferrer\">https://openjdk.org/install/</a></p>\n<p>Open JDK needs only unpacking and setting JAVA_HOME and PATH system variables:\nJAVA_HOME and PATH\n<a href=\"https://docs.plm.automation.siemens.com/content/polarion/19.1/help/en_US/polarion_windows_installation/before_installation/install_openjdk_11.html\" rel=\"nofollow noreferrer\">https://docs.plm.automation.siemens.com/content/polarion/19.1/help/en_US/polarion_windows_installation/before_installation/install_openjdk_11.html</a></p>\n<p>There is no installation and messing with host system files, etc.</p>\n"},{"tags":[],"owner":{"account_id":23522992,"reputation":1,"user_id":17569887,"display_name":"Stephan Keiman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678110573,"creation_date":1678110062,"answer_id":75651570,"question_id":72438409,"body_markdown":"On Windows, make sure that your Environment Variables are correct for Java. I installed jdk-17 and changed the JAVA_HOME system variable to C:\\Program Files\\Java\\jdk-17\r\n\r\nHave a look at &lt;https://www.happycoders.eu/java/how-to-switch-multiple-java-versions-windows/&gt; for more info.\r\n\r\nThis solved the firebase emulator problem.\r\n","title":"firebase-tools no longer supports Java version before 11. Please upgrade to Java version 11 or above to continue using the emulators","body":"<p>On Windows, make sure that your Environment Variables are correct for Java. I installed jdk-17 and changed the JAVA_HOME system variable to C:\\Program Files\\Java\\jdk-17</p>\n<p>Have a look at <a href=\"https://www.happycoders.eu/java/how-to-switch-multiple-java-versions-windows/\" rel=\"nofollow noreferrer\">https://www.happycoders.eu/java/how-to-switch-multiple-java-versions-windows/</a> for more info.</p>\n<p>This solved the firebase emulator problem.</p>\n"}],"owner":{"account_id":1499117,"reputation":4480,"user_id":1404347,"accept_rate":39,"display_name":"AskYous"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12309,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":6,"score":18,"last_activity_date":1678110573,"creation_date":1653933783,"question_id":72438409,"body_markdown":"I have version 11.0.1 of firebase installed on my Windows 11 machine. When I run the firebase emulators, it crashes with this message:\r\n\r\n&gt; `$ firebase emulators:start`\r\n&lt;br /&gt;&lt;br /&gt;\r\n!!  emulators: firebase-tools no longer supports Java version before 11. Please upgrade to Java version 11 or above to continue using the emulators.\r\ni  emulators: Shutting down emulators.\r\n&lt;br /&gt;&lt;br /&gt;\r\nError: firebase-tools no longer supports Java version before 11. Please upgrade to Java version 11 or above to continue using the emulators.\r\n\r\nI try to update my Java but it says I have the latest version:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI check what version I have and it says version 8... though I need 11? I&#39;m confused:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI try checking the version in the CLI and I get even more confused:\r\n\r\n&gt; $ java -version &lt;br /&gt;\r\njava version &quot;1.8.0_333&quot; &lt;br /&gt;\r\nJava(TM) SE Runtime Environment (build 1.8.0_333-b02) &lt;br /&gt;\r\nJava HotSpot(TM) 64-Bit Server VM (build 25.333-b02, mixed mode)\r\n\r\nMy questions are:\r\n\r\n1. How can I get my firebase emulators to run again?\r\n2. What version of Java do I have? 11? 8? 1.8?\r\n3. How can I upgrade to the latest version of Java?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/d4p0p.png\r\n  [2]: https://i.stack.imgur.com/v5WWN.png","title":"firebase-tools no longer supports Java version before 11. Please upgrade to Java version 11 or above to continue using the emulators","body":"<p>I have version 11.0.1 of firebase installed on my Windows 11 machine. When I run the firebase emulators, it crashes with this message:</p>\n<blockquote>\n<p><code>$ firebase emulators:start</code>\n<br /><br />\n!!  emulators: firebase-tools no longer supports Java version before 11. Please upgrade to Java version 11 or above to continue using the emulators.\ni  emulators: Shutting down emulators.\n<br /><br />\nError: firebase-tools no longer supports Java version before 11. Please upgrade to Java version 11 or above to continue using the emulators.</p>\n</blockquote>\n<p>I try to update my Java but it says I have the latest version:</p>\n<p><a href=\"https://i.stack.imgur.com/d4p0p.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/d4p0p.png\" alt=\"enter image description here\" /></a></p>\n<p>I check what version I have and it says version 8... though I need 11? I'm confused:</p>\n<p><a href=\"https://i.stack.imgur.com/v5WWN.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/v5WWN.png\" alt=\"enter image description here\" /></a></p>\n<p>I try checking the version in the CLI and I get even more confused:</p>\n<blockquote>\n<p>$ java -version <br />\njava version &quot;1.8.0_333&quot; <br />\nJava(TM) SE Runtime Environment (build 1.8.0_333-b02) <br />\nJava HotSpot(TM) 64-Bit Server VM (build 25.333-b02, mixed mode)</p>\n</blockquote>\n<p>My questions are:</p>\n<ol>\n<li>How can I get my firebase emulators to run again?</li>\n<li>What version of Java do I have? 11? 8? 1.8?</li>\n<li>How can I upgrade to the latest version of Java?</li>\n</ol>\n"},{"tags":["java","object","null","compare"],"comments":[{"owner":{"account_id":5749,"reputation":17544,"user_id":9425,"accept_rate":80,"display_name":"Midhat"},"score":1,"creation_date":1245038425,"post_id":994430,"comment_id":803422,"body_markdown":"plus. if and else is not called a loop. its a condition","body":"plus. if and else is not called a loop. its a condition"}],"answers":[{"tags":[],"owner":{"account_id":39660,"reputation":8558,"user_id":114484,"accept_rate":100,"display_name":"S.P"},"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1678110397,"creation_date":1245037852,"answer_id":994433,"question_id":994430,"body_markdown":"You&#39;re not comparing the objects themselves, you&#39;re comparing their references.  \r\n\r\nTry \r\n\r\n    c != null\r\n\r\nin your **if** statement.  \r\n\r\n","title":"Compare an object to null in Java","body":"<p>You're not comparing the objects themselves, you're comparing their references.</p>\n<p>Try</p>\n<pre><code>c != null\n</code></pre>\n<p>in your <strong>if</strong> statement.</p>\n"},{"tags":[],"owner":{"account_id":34048,"reputation":860843,"user_id":95810,"accept_rate":80,"display_name":"Alex Martelli"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1245037907,"creation_date":1245037907,"answer_id":994435,"question_id":994430,"body_markdown":"Use `c == null`, since you&#39;re comparing **references**, not objects.","title":"Compare an object to null in Java","body":"<p>Use <code>c == null</code>, since you're comparing <strong>references</strong>, not objects.</p>\n"},{"tags":[],"owner":{"account_id":5749,"reputation":17544,"user_id":9425,"accept_rate":80,"display_name":"Midhat"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1245037968,"creation_date":1245037968,"answer_id":994436,"question_id":994430,"body_markdown":"Use c==null\r\n\r\nThe equals method (usually) expects an argument of type customer, and may be calling some methods on the object. If that object is null you will get the NullPointerException.\r\n\r\nAlso c might be null and c.equals call could be throwing the exception regardless of the object passed","title":"Compare an object to null in Java","body":"<p>Use c==null</p>\n\n<p>The equals method (usually) expects an argument of type customer, and may be calling some methods on the object. If that object is null you will get the NullPointerException.</p>\n\n<p>Also c might be null and c.equals call could be throwing the exception regardless of the object passed</p>\n"},{"tags":[],"owner":{"account_id":22708,"reputation":791,"user_id":56289,"display_name":"Greg Leaver"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1245038024,"creation_date":1245038024,"answer_id":994438,"question_id":994430,"body_markdown":"    !c.equals(null)\r\nThat line is calling the equals method on c, and if c is null then you&#39;ll get that error because you can&#39;t call any methods on null.\r\nInstead you should be using\r\n\r\n    c != null","title":"Compare an object to null in Java","body":"<pre><code>!c.equals(null)\n</code></pre>\n\n<p>That line is calling the equals method on c, and if c is null then you'll get that error because you can't call any methods on null.\nInstead you should be using</p>\n\n<pre><code>c != null\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6832,"reputation":6763,"user_id":11614,"accept_rate":67,"display_name":"Nrj"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1245039831,"creation_date":1245039831,"answer_id":994481,"question_id":994430,"body_markdown":"Most likely Object c is null in this case.\r\n\r\nYou might want to override the default implementation of equals for Customer in case you need to behave it differently.\r\n\r\nAlso make sure passed object is not null before invoking the functions on it.","title":"Compare an object to null in Java","body":"<p>Most likely Object c is null in this case.</p>\n\n<p>You might want to override the default implementation of equals for Customer in case you need to behave it differently.</p>\n\n<p>Also make sure passed object is not null before invoking the functions on it.</p>\n"},{"tags":[],"owner":{"account_id":5322008,"reputation":1,"user_id":4245195,"display_name":"shaik"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1415817150,"creation_date":1415816198,"answer_id":26893749,"question_id":994430,"body_markdown":" if C object having null value then following statement used to compare null value:\r\n\r\n\r\n    if (c.toString() == null) {\r\n\r\n        System.out.println(&quot;hello execute statement&quot;);\r\n\r\n    }","title":"Compare an object to null in Java","body":"<p>if C object having null value then following statement used to compare null value:</p>\n\n<pre><code>if (c.toString() == null) {\n\n    System.out.println(\"hello execute statement\");\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14958570,"reputation":1,"user_id":10799009,"display_name":"Jos&#233; Garc&#237;a"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1545004639,"creation_date":1545004639,"answer_id":53807547,"question_id":994430,"body_markdown":"The reality is that when c is null, you are trying to do null.equals so this generates an exception. The correct way to do that comparison is &quot;null&quot;.equals(c).","title":"Compare an object to null in Java","body":"<p>The reality is that when c is null, you are trying to do null.equals so this generates an exception. The correct way to do that comparison is \"null\".equals(c).</p>\n"}],"owner":{"account_id":34616,"reputation":5687,"user_id":97893,"accept_rate":67,"display_name":"fenec"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82296,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":994433,"answer_count":7,"score":16,"last_activity_date":1678110397,"creation_date":1245037720,"question_id":994430,"body_markdown":"I am trying to verify whether an object is `null` or not, using this syntax:\r\n\r\n    void renderSearch(Customer c) {\r\n        System.out.println(&quot;search customer rendering&gt;...&quot;);\r\n        try {\r\n            if (!c.equals(null)) {\r\n                System.out.println(&quot;search customer  found...&quot;);\r\n            } else {\r\n                System.out.println(&quot;search customer not found...&quot;);\r\n            }\r\n        } catch (Exception e) {\r\n            System.err.println(&quot;search customer rendering error: &quot;\r\n                    + e.getMessage() + &quot;-&quot; + e.getClass());\r\n        }\r\n    }\r\n\r\nI get the following exception:\r\n\r\n&gt; search customer rendering error: null  \r\n&gt; class java.lang.NullPointerException\r\n\r\nI thought that I was considering this possibility with my **if** and **else** statement.\r\n\r\n","title":"Compare an object to null in Java","body":"<p>I am trying to verify whether an object is <code>null</code> or not, using this syntax:</p>\n<pre><code>void renderSearch(Customer c) {\n    System.out.println(&quot;search customer rendering&gt;...&quot;);\n    try {\n        if (!c.equals(null)) {\n            System.out.println(&quot;search customer  found...&quot;);\n        } else {\n            System.out.println(&quot;search customer not found...&quot;);\n        }\n    } catch (Exception e) {\n        System.err.println(&quot;search customer rendering error: &quot;\n                + e.getMessage() + &quot;-&quot; + e.getClass());\n    }\n}\n</code></pre>\n<p>I get the following exception:</p>\n<blockquote>\n<p>search customer rendering error: null<br />\nclass java.lang.NullPointerException</p>\n</blockquote>\n<p>I thought that I was considering this possibility with my <strong>if</strong> and <strong>else</strong> statement.</p>\n"},{"tags":["java","android"],"owner":{"account_id":15480820,"reputation":71,"user_id":11168157,"display_name":"Chris Damianidis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678110041,"creation_date":1678110041,"question_id":75651566,"body_markdown":"I am trying to set up an alarm in my Android app that will trigger a notification at a specific time each day. However, the alarm doesn&#39;t seem to be firing consistently. Can someone please take a look at my code and suggest any improvements?\r\n\r\n    public class AlarmReceiver extends BroadcastReceiver {\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            // This method will be called when the alarm is triggered\r\n            NotificationCompat.Builder builder = new NotificationCompat.Builder(context, &quot;default&quot;)\r\n                    .setSmallIcon(R.drawable.notification_icon)\r\n                    .setContentTitle(&quot;Daily Reminder&quot;)\r\n                    .setContentText(&quot;Test101010&quot;)\r\n                    .setPriority(NotificationCompat.PRIORITY_DEFAULT);\r\n    \r\n            NotificationManagerCompat notificationManager = NotificationManagerCompat.from(context);\r\n            notificationManager.notify(1, builder.build());\r\n        }\r\n    }\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n        private AlarmManager alarmManager;\r\n        private PendingIntent alarmIntent;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            // Set up the alarm to trigger at 8:00 AM each day\r\n            Calendar calendar = Calendar.getInstance();\r\n            calendar.setTimeInMillis(System.currentTimeMillis());\r\n            calendar.set(Calendar.HOUR_OF_DAY, 8);\r\n            calendar.set(Calendar.MINUTE, 0);\r\n            calendar.set(Calendar.SECOND, 0);\r\n    \r\n            Intent intent = new Intent(this, AlarmReceiver.class);\r\n            alarmIntent = PendingIntent.getBroadcast(this, 0, intent, 0);\r\n    \r\n            alarmManager = (AlarmManager) getSystemService(Context.ALARM_SERVICE);\r\n            alarmManager.setInexactRepeating(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(),\r\n                    AlarmManager.INTERVAL_DAY, alarmIntent);\r\n        }\r\n    }\r\n\r\n","title":"alarm don&#39;t trigger consistently[Android]","body":"<p>I am trying to set up an alarm in my Android app that will trigger a notification at a specific time each day. However, the alarm doesn't seem to be firing consistently. Can someone please take a look at my code and suggest any improvements?</p>\n<pre><code>public class AlarmReceiver extends BroadcastReceiver {\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        // This method will be called when the alarm is triggered\n        NotificationCompat.Builder builder = new NotificationCompat.Builder(context, &quot;default&quot;)\n                .setSmallIcon(R.drawable.notification_icon)\n                .setContentTitle(&quot;Daily Reminder&quot;)\n                .setContentText(&quot;Test101010&quot;)\n                .setPriority(NotificationCompat.PRIORITY_DEFAULT);\n\n        NotificationManagerCompat notificationManager = NotificationManagerCompat.from(context);\n        notificationManager.notify(1, builder.build());\n    }\n}\n\npublic class MainActivity extends AppCompatActivity {\n    private AlarmManager alarmManager;\n    private PendingIntent alarmIntent;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        // Set up the alarm to trigger at 8:00 AM each day\n        Calendar calendar = Calendar.getInstance();\n        calendar.setTimeInMillis(System.currentTimeMillis());\n        calendar.set(Calendar.HOUR_OF_DAY, 8);\n        calendar.set(Calendar.MINUTE, 0);\n        calendar.set(Calendar.SECOND, 0);\n\n        Intent intent = new Intent(this, AlarmReceiver.class);\n        alarmIntent = PendingIntent.getBroadcast(this, 0, intent, 0);\n\n        alarmManager = (AlarmManager) getSystemService(Context.ALARM_SERVICE);\n        alarmManager.setInexactRepeating(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(),\n                AlarmManager.INTERVAL_DAY, alarmIntent);\n    }\n}\n</code></pre>\n"},{"tags":["java","mule"],"comments":[{"owner":{"account_id":6682877,"reputation":1296,"user_id":5155339,"display_name":"olamiral"},"score":0,"creation_date":1614942125,"post_id":66490754,"comment_id":117545254,"body_markdown":"Could you please give more details about the error you&#39;re getting? Thank you.","body":"Could you please give more details about the error you&#39;re getting? Thank you."},{"owner":{"account_id":20413138,"reputation":1,"user_id":14976029,"display_name":"Amanda"},"score":0,"creation_date":1614943074,"post_id":66490754,"comment_id":117545633,"body_markdown":"@olamiral Hi. Error and solution I tried:\n1. I used File read and set the response payload as the body in HTTP Request and it said &quot;cannot upload zip file&quot;.\n\n2. I tried customize the above Java class code so that it complies with Mule 4 standard and used Java New component with class com.test.FileReader and send the payload to the URL but it gave me error:&quot;missing zip headers&quot;. \nI assumed my zip file is corrupted but I used the same zip file in Mule 3 and it worked fine. Hence, I assumed it must be the code in Mule 4","body":"@olamiral Hi. Error and solution I tried: 1. I used File read and set the response payload as the body in HTTP Request and it said &quot;cannot upload zip file&quot;.  2. I tried customize the above Java class code so that it complies with Mule 4 standard and used Java New component with class com.test.FileReader and send the payload to the URL but it gave me error:&quot;missing zip headers&quot;.  I assumed my zip file is corrupted but I used the same zip file in Mule 3 and it worked fine. Hence, I assumed it must be the code in Mule 4"}],"answers":[{"tags":[],"owner":{"account_id":6682877,"reputation":1296,"user_id":5155339,"display_name":"olamiral"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614947223,"creation_date":1614947223,"answer_id":66492602,"question_id":66490754,"body_markdown":"Assuming that your zip file corresponds to a valid API spec, in Mule 4, you don&#39;t need to use a custom java code to achieve what you want: you can read the file content using the File connector Read operation, and use an HTTP Request to upload it to Design Center using Design Center API. Your flow should look like:\r\n\r\n[![Design Center Upload Flow][1]][1]\r\n\r\nFor the Read operation, you only need to set the file location, in the File Path operation property.\r\n\r\nNo need to set content type in the HTTP Request (Mule 4 will configure the content type automatically based on the file content loaded by the Read operation).\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uGYl0.png","title":"How to upload zip file through REST API Mule 4?","body":"<p>Assuming that your zip file corresponds to a valid API spec, in Mule 4, you don't need to use a custom java code to achieve what you want: you can read the file content using the File connector Read operation, and use an HTTP Request to upload it to Design Center using Design Center API. Your flow should look like:</p>\n<p><a href=\"https://i.stack.imgur.com/uGYl0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uGYl0.png\" alt=\"Design Center Upload Flow\" /></a></p>\n<p>For the Read operation, you only need to set the file location, in the File Path operation property.</p>\n<p>No need to set content type in the HTTP Request (Mule 4 will configure the content type automatically based on the file content loaded by the Read operation).</p>\n"},{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614947819,"creation_date":1614947819,"answer_id":66492739,"question_id":66490754,"body_markdown":"You can&#39;t use Java code that depends on Mule 3 classes in Mule 4. Don&#39;t bother trying to adapt the code, it is not meant to work. Their architecture are just different. \r\n\r\nWhile in Mule 4 you can use plain Java code or create a module with the SDK, there is no reason to do so for this problem and it would be counterproductive. My advise it to forget the Java code and resolve the problem with pure Mule 4 components.\r\n\r\nIn this case there doesn&#39;t seem a need to actually use Java code. The File connector read operation should read the file just fine as it doesn&#39;t appear the Java code is doing anything else than reading the file into the payload.\r\n\r\nSending through the HTTP Request connector should be straightforward. You didn&#39;t provide any details of the error, (where is it happening, complete error message, HTTP status error code, complete flow with the HTTP request in both versions, etc) and the [API Designer REST API][1] doesn&#39;t document an `import` endpoint so it is difficult to say if the request is correctly constructed.\r\n\r\n\r\n  [1]: https://anypoint.mulesoft.com/exchange/portals/anypoint-platform/f1e97bc6-315a-4490-82a7-23abe036327a.anypoint-platform/api-designer-experience-api/","title":"How to upload zip file through REST API Mule 4?","body":"<p>You can't use Java code that depends on Mule 3 classes in Mule 4. Don't bother trying to adapt the code, it is not meant to work. Their architecture are just different.</p>\n<p>While in Mule 4 you can use plain Java code or create a module with the SDK, there is no reason to do so for this problem and it would be counterproductive. My advise it to forget the Java code and resolve the problem with pure Mule 4 components.</p>\n<p>In this case there doesn't seem a need to actually use Java code. The File connector read operation should read the file just fine as it doesn't appear the Java code is doing anything else than reading the file into the payload.</p>\n<p>Sending through the HTTP Request connector should be straightforward. You didn't provide any details of the error, (where is it happening, complete error message, HTTP status error code, complete flow with the HTTP request in both versions, etc) and the <a href=\"https://anypoint.mulesoft.com/exchange/portals/anypoint-platform/f1e97bc6-315a-4490-82a7-23abe036327a.anypoint-platform/api-designer-experience-api/\" rel=\"nofollow noreferrer\">API Designer REST API</a> doesn't document an <code>import</code> endpoint so it is difficult to say if the request is correctly constructed.</p>\n"}],"owner":{"account_id":20413138,"reputation":1,"user_id":14976029,"display_name":"Amanda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":851,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678109901,"creation_date":1614939689,"question_id":66490754,"body_markdown":"I&#39;m trying to upload zip file to the url https://anypoint.mulesoft.com/designcenter/api-designer/projects/{projectId}/branches/master/import. Content-Type must be application/zip, cant change to multipart/form-data. In Mule 3, a java transform class is used (com.test.FileReader) with the FileReader.class is stored in lib. It worked in Mule 3.\r\nI tried to use ReadFile component to read test.zip and set as payload but it&#39;s not working. Any suggestion how to upload zip file in Mule 4?\r\n\r\n    \r\n\r\n  \r\n\r\n    package com.test;\r\n     \r\n    import org.mule.transformer.*;\r\n    import org.mule.api.*;\r\n    import org.mule.api.transformer.*;\r\n    import java.io.*;\r\n     \r\n    public class PayloadFileReader extends AbstractMessageTransformer\r\n    {\r\n        public Object transformMessage(final MuleMessage message, final String outputEncoding) throws TransformerException {\r\n            byte[] result = null;\r\n            try {\r\n                result = this.readZipFile(&quot;test.zip&quot;);\r\n            }\r\n            catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            message.setPayload((Object)result);\r\n            return message;\r\n        }\r\n        \r\n        public String readFileTest(final String path) throws FileNotFoundException, IOException, Exception {\r\n            final ClassLoader classLoader = this.getClass().getClassLoader();\r\n            final File file = new File(classLoader.getResource(path).getFile());\r\n            final FileReader fileReader = new FileReader(file);\r\n            BufferedReader bufferReader = null;\r\n            final StringBuilder stringBuffer = new StringBuilder();\r\n            try {\r\n                bufferReader = new BufferedReader(fileReader);\r\n                String line;\r\n                while ((line = bufferReader.readLine()) != null) {\r\n                    stringBuffer.append(line);\r\n                }\r\n            }\r\n            catch (IOException e) {\r\n                e.printStackTrace();\r\n                if (bufferReader != null) {\r\n                    try {\r\n                        bufferReader.close();\r\n                    }\r\n                    catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n            finally {\r\n                if (bufferReader != null) {\r\n                    try {\r\n                        bufferReader.close();\r\n                    }\r\n                    catch (IOException e2) {\r\n                        e2.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n            return stringBuffer.toString();\r\n        }\r\n        \r\n        public byte[] readZipFile(final String path) {\r\n            final ClassLoader classLoader = this.getClass().getClassLoader();\r\n            final File file = new File(classLoader.getResource(path).getFile());\r\n            final byte[] b = new byte[(int)file.length()];\r\n            try {\r\n                final FileInputStream fileInputStream = new FileInputStream(file);\r\n                fileInputStream.read(b);\r\n                fileInputStream.close();\r\n            }\r\n            catch (FileNotFoundException e) {\r\n                System.out.println(&quot;Not Found.&quot;);\r\n                e.printStackTrace();\r\n            }\r\n            catch (IOException e2) {\r\n                System.out.println(&quot;Error&quot;);\r\n                e2.printStackTrace();\r\n            }\r\n            return b;\r\n        }\r\n    }\r\n\r\n&#39;\r\n","title":"How to upload zip file through REST API Mule 4?","body":"<p>I'm trying to upload zip file to the url <a href=\"https://anypoint.mulesoft.com/designcenter/api-designer/projects/%7BprojectId%7D/branches/master/import\" rel=\"nofollow noreferrer\">https://anypoint.mulesoft.com/designcenter/api-designer/projects/{projectId}/branches/master/import</a>. Content-Type must be application/zip, cant change to multipart/form-data. In Mule 3, a java transform class is used (com.test.FileReader) with the FileReader.class is stored in lib. It worked in Mule 3.\nI tried to use ReadFile component to read test.zip and set as payload but it's not working. Any suggestion how to upload zip file in Mule 4?</p>\n<pre><code>package com.test;\n \nimport org.mule.transformer.*;\nimport org.mule.api.*;\nimport org.mule.api.transformer.*;\nimport java.io.*;\n \npublic class PayloadFileReader extends AbstractMessageTransformer\n{\n    public Object transformMessage(final MuleMessage message, final String outputEncoding) throws TransformerException {\n        byte[] result = null;\n        try {\n            result = this.readZipFile(&quot;test.zip&quot;);\n        }\n        catch (Exception e) {\n            e.printStackTrace();\n        }\n        message.setPayload((Object)result);\n        return message;\n    }\n    \n    public String readFileTest(final String path) throws FileNotFoundException, IOException, Exception {\n        final ClassLoader classLoader = this.getClass().getClassLoader();\n        final File file = new File(classLoader.getResource(path).getFile());\n        final FileReader fileReader = new FileReader(file);\n        BufferedReader bufferReader = null;\n        final StringBuilder stringBuffer = new StringBuilder();\n        try {\n            bufferReader = new BufferedReader(fileReader);\n            String line;\n            while ((line = bufferReader.readLine()) != null) {\n                stringBuffer.append(line);\n            }\n        }\n        catch (IOException e) {\n            e.printStackTrace();\n            if (bufferReader != null) {\n                try {\n                    bufferReader.close();\n                }\n                catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n        finally {\n            if (bufferReader != null) {\n                try {\n                    bufferReader.close();\n                }\n                catch (IOException e2) {\n                    e2.printStackTrace();\n                }\n            }\n        }\n        return stringBuffer.toString();\n    }\n    \n    public byte[] readZipFile(final String path) {\n        final ClassLoader classLoader = this.getClass().getClassLoader();\n        final File file = new File(classLoader.getResource(path).getFile());\n        final byte[] b = new byte[(int)file.length()];\n        try {\n            final FileInputStream fileInputStream = new FileInputStream(file);\n            fileInputStream.read(b);\n            fileInputStream.close();\n        }\n        catch (FileNotFoundException e) {\n            System.out.println(&quot;Not Found.&quot;);\n            e.printStackTrace();\n        }\n        catch (IOException e2) {\n            System.out.println(&quot;Error&quot;);\n            e2.printStackTrace();\n        }\n        return b;\n    }\n}\n</code></pre>\n<p>'</p>\n"},{"tags":["java","jakarta-ee","browser","kerberos","windows-authentication"],"comments":[{"owner":{"account_id":1630483,"reputation":4039,"user_id":1505146,"accept_rate":50,"display_name":"Tasos P."},"score":0,"creation_date":1678116408,"post_id":75651060,"comment_id":133466383,"body_markdown":"Which browser do you use for testing? Can you disable `Integrated Authentication` so it will prompt for credentials? Check [this answer](https://stackoverflow.com/a/57036326/1505146) for example. I&#39;m guessing that integrated authentication always uses the current user&#39;s Kerberos ticket.","body":"Which browser do you use for testing? Can you disable <code>Integrated Authentication</code> so it will prompt for credentials? Check <a href=\"https://stackoverflow.com/a/57036326/1505146\">this answer</a> for example. I&#39;m guessing that integrated authentication always uses the current user&#39;s Kerberos ticket."},{"owner":{"account_id":27734661,"reputation":1,"user_id":21172492,"display_name":"Wilhelm Buchmann"},"score":0,"creation_date":1678186299,"post_id":75651060,"comment_id":133480707,"body_markdown":"@Tasos P. Thank you for answering my question! I will try to disable the Integrated Authentication, but it will take time due to security issues. It is possible to get the user name , wihout prompting the user?","body":"@Tasos P. Thank you for answering my question! I will try to disable the Integrated Authentication, but it will take time due to security issues. It is possible to get the user name , wihout prompting the user?"}],"owner":{"account_id":27734661,"reputation":1,"user_id":21172492,"display_name":"Wilhelm Buchmann"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678109697,"creation_date":1678106973,"question_id":75651060,"body_markdown":"I implemented a Windows Authentication using SPNEGO Filter. Everything works fine, in my request.getUserPrincipal() method I&#39;m always getting the name of the user account it is running under, let&#39;s say testUser1. When I run the broswer as different user the browser should take the username of the new user lets say testUser2. But it doesn&#39;t happens like that, it takes the testUser1, the user with I&#39;m logged in into my Windows account. My question is, how it would be possible to get the new username from the browser and then passing it to SPNEGO?\r\n\r\n\r\n```\r\n&lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39; ?&gt;\r\n&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;\r\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\r\n\txmlns:p=&quot;http://xmlns.jcp.org/jsf/html&quot;\r\n\txmlns:ui=&quot;http://java.sun.com/jsf/facelets&quot;\r\n\txmlns:h=&quot;http://java.sun.com/jsf/html&quot;\r\n\txmlns:f=&quot;http://java.sun.com/jsf/core&quot;&gt;\r\n\r\n&lt;h:head&gt;\r\n\t&lt;title&gt;login&lt;/title&gt;\r\n\t&lt;h:outputStylesheet name=&quot;login.css&quot; library=&quot;css&quot; /&gt;\r\n\r\n&lt;/h:head&gt;\r\n&lt;h:body&gt;\r\n\r\n\t&lt;div class=&quot;form&quot;&gt;\r\n\t\t&lt;h:form&gt;\r\n\t\t\t&lt;div id=&quot;inputText&quot; class=&quot;inputTextVis&quot;&gt;\r\n\t\t\t\t&lt;h3&gt;LDAP and Windows Authentication&lt;/h3&gt;\r\n\t\t\t\t&lt;h:outputText value=&quot;Username&quot; /&gt;\r\n\t\t\t\t&lt;h:inputText id=&quot;username&quot; value=&quot;#{login.user}&quot;&gt;&lt;/h:inputText&gt;\r\n\t\t\t\t&lt;h:message for=&quot;username&quot;&gt;&lt;/h:message&gt;\r\n\t\t\t\t&lt;br /&gt; &lt;br /&gt;\r\n\r\n\t\t\t\t&lt;h:outputText value=&quot;Password&quot; /&gt;\r\n\t\t\t\t&lt;h:inputSecret id=&quot;password&quot; value=&quot;#{login.pwd}&quot;&gt;&lt;/h:inputSecret&gt;\r\n\t\t\t\t&lt;h:message for=&quot;password&quot;&gt;&lt;/h:message&gt;\r\n\t\t\t\t&lt;br /&gt; &lt;br /&gt;\r\n\t\t\t&lt;/div&gt;\r\n\r\n\r\n\r\n\t\t\t&lt;h:commandButton action=&quot;#{login.authenticationCredentialsWindows}&quot; value=&quot;Login&quot;&gt;&lt;/h:commandButton&gt;\r\n\t\t\t&lt;br /&gt;\r\n\t\t\t&lt;br /&gt;\r\n\t\t\t&lt;h:selectOneMenu id=&quot;drop&quot; value=&quot;#{login.authentication}&quot;\r\n\t\t\t\tonchange=&quot;test(this.value)&quot;&gt;\r\n\t\t\t\t&lt;f:selectItem id=&quot;dropDownValue&quot; itemValue=&quot;Active Directory&quot;\r\n\t\t\t\t\titemLabel=&quot;Active Directory&quot; /&gt;\r\n\t\t\t\t&lt;f:selectItem itemValue=&quot;Windows&quot; itemLabel=&quot;Windows&quot; /&gt;\r\n\t\t\t&lt;/h:selectOneMenu&gt;\r\n\t\t\t&lt;h:outputScript name=&quot;login.js&quot; library=&quot;javascript&quot; /&gt;\r\n\r\n\t\t&lt;/h:form&gt;\r\n\r\n\r\n\t&lt;/div&gt;\r\n\r\n\r\n&lt;/h:body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n\r\n```\r\npublic String authenticationCredentialsWindows() throws LoginException, ValidationException\r\n\t{\r\n\t\t\r\n\r\n\t\t\ttry {\r\n\r\n\t\t\t\tHttpServletRequest req = (HttpServletRequest) FacesContext.getCurrentInstance()\r\n\t\t\t\t        .getExternalContext().getRequest();\r\n\t\t\t\t\r\n\t\t\t\tuser = req.getRemoteUser();\r\n\t\t\t\t    \r\n\t\t\t\tActiveDirectoryAuthentication activeDirectoryAuthentication = new ActiveDirectoryAuthentication();\r\n\t\t\t\tboolean auth;\r\n\t\t\t\tauth = activeDirectoryAuthentication.authenticateWithSpnego(req);\r\n\t\t\t\tif(auth) {\r\n\t\t\t\t\tHttpSession session = SessionUtils.getSession();\r\n\t\t\t\t\tsession.setAttribute(&quot;username&quot;, user);\r\n\t\t\t\t\treturn &quot;admin&quot;;\r\n\t\t\t\t}\r\n\r\n\t\t\t} catch (ServletException | IOException e) {\r\n\r\n\t\t\t\tFacesContext.getCurrentInstance().addMessage(null,\r\n\t\t\t\t\t\tnew FacesMessage(FacesMessage.SEVERITY_WARN, e.getMessage(), e.getMessage()));\r\n\r\n\t\t\t\t// error: authentication failed\r\n\t\t\t\tSystem.err.println(e.getMessage());\r\n\r\n\t\t\t\treturn &quot;login&quot;;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn &quot;login&quot;;\r\n\r\n\t}\r\n```\r\n\r\n```\r\npublic boolean authenticateWithSpnego(HttpServletRequest request) throws ServletException, IOException, LoginException, ValidationException {\r\n\t\t\r\n\t\tPrincipal userPrincipal = request.getUserPrincipal();\r\n\t\tif (userPrincipal != null) {\r\n\t\t    // User is authenticated\r\n\t\t    String username = userPrincipal.getName();\r\n\r\n            return true;\r\n\t\t  \r\n\t\t} else {\r\n\t\t    // User is not authenticated\t\t  \r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n```","title":"How to get the authenticated username from the Browser?","body":"<p>I implemented a Windows Authentication using SPNEGO Filter. Everything works fine, in my request.getUserPrincipal() method I'm always getting the name of the user account it is running under, let's say testUser1. When I run the broswer as different user the browser should take the username of the new user lets say testUser2. But it doesn't happens like that, it takes the testUser1, the user with I'm logged in into my Windows account. My question is, how it would be possible to get the new username from the browser and then passing it to SPNEGO?</p>\n<pre><code>&lt;?xml version='1.0' encoding='UTF-8' ?&gt;\n&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\n    xmlns:p=&quot;http://xmlns.jcp.org/jsf/html&quot;\n    xmlns:ui=&quot;http://java.sun.com/jsf/facelets&quot;\n    xmlns:h=&quot;http://java.sun.com/jsf/html&quot;\n    xmlns:f=&quot;http://java.sun.com/jsf/core&quot;&gt;\n\n&lt;h:head&gt;\n    &lt;title&gt;login&lt;/title&gt;\n    &lt;h:outputStylesheet name=&quot;login.css&quot; library=&quot;css&quot; /&gt;\n\n&lt;/h:head&gt;\n&lt;h:body&gt;\n\n    &lt;div class=&quot;form&quot;&gt;\n        &lt;h:form&gt;\n            &lt;div id=&quot;inputText&quot; class=&quot;inputTextVis&quot;&gt;\n                &lt;h3&gt;LDAP and Windows Authentication&lt;/h3&gt;\n                &lt;h:outputText value=&quot;Username&quot; /&gt;\n                &lt;h:inputText id=&quot;username&quot; value=&quot;#{login.user}&quot;&gt;&lt;/h:inputText&gt;\n                &lt;h:message for=&quot;username&quot;&gt;&lt;/h:message&gt;\n                &lt;br /&gt; &lt;br /&gt;\n\n                &lt;h:outputText value=&quot;Password&quot; /&gt;\n                &lt;h:inputSecret id=&quot;password&quot; value=&quot;#{login.pwd}&quot;&gt;&lt;/h:inputSecret&gt;\n                &lt;h:message for=&quot;password&quot;&gt;&lt;/h:message&gt;\n                &lt;br /&gt; &lt;br /&gt;\n            &lt;/div&gt;\n\n\n\n            &lt;h:commandButton action=&quot;#{login.authenticationCredentialsWindows}&quot; value=&quot;Login&quot;&gt;&lt;/h:commandButton&gt;\n            &lt;br /&gt;\n            &lt;br /&gt;\n            &lt;h:selectOneMenu id=&quot;drop&quot; value=&quot;#{login.authentication}&quot;\n                onchange=&quot;test(this.value)&quot;&gt;\n                &lt;f:selectItem id=&quot;dropDownValue&quot; itemValue=&quot;Active Directory&quot;\n                    itemLabel=&quot;Active Directory&quot; /&gt;\n                &lt;f:selectItem itemValue=&quot;Windows&quot; itemLabel=&quot;Windows&quot; /&gt;\n            &lt;/h:selectOneMenu&gt;\n            &lt;h:outputScript name=&quot;login.js&quot; library=&quot;javascript&quot; /&gt;\n\n        &lt;/h:form&gt;\n\n\n    &lt;/div&gt;\n\n\n&lt;/h:body&gt;\n&lt;/html&gt;\n</code></pre>\n<pre><code>public String authenticationCredentialsWindows() throws LoginException, ValidationException\n    {\n        \n\n            try {\n\n                HttpServletRequest req = (HttpServletRequest) FacesContext.getCurrentInstance()\n                        .getExternalContext().getRequest();\n                \n                user = req.getRemoteUser();\n                    \n                ActiveDirectoryAuthentication activeDirectoryAuthentication = new ActiveDirectoryAuthentication();\n                boolean auth;\n                auth = activeDirectoryAuthentication.authenticateWithSpnego(req);\n                if(auth) {\n                    HttpSession session = SessionUtils.getSession();\n                    session.setAttribute(&quot;username&quot;, user);\n                    return &quot;admin&quot;;\n                }\n\n            } catch (ServletException | IOException e) {\n\n                FacesContext.getCurrentInstance().addMessage(null,\n                        new FacesMessage(FacesMessage.SEVERITY_WARN, e.getMessage(), e.getMessage()));\n\n                // error: authentication failed\n                System.err.println(e.getMessage());\n\n                return &quot;login&quot;;\n            }\n        }\n        return &quot;login&quot;;\n\n    }\n</code></pre>\n<pre><code>public boolean authenticateWithSpnego(HttpServletRequest request) throws ServletException, IOException, LoginException, ValidationException {\n        \n        Principal userPrincipal = request.getUserPrincipal();\n        if (userPrincipal != null) {\n            // User is authenticated\n            String username = userPrincipal.getName();\n\n            return true;\n          \n        } else {\n            // User is not authenticated          \n            return false;\n        }\n    }\n\n</code></pre>\n"},{"tags":["java","spring","kotlin","neo4j","spring-data-neo4j"],"comments":[{"owner":{"account_id":2080660,"reputation":6691,"user_id":1852714,"accept_rate":8,"display_name":"Angelo Immediata"},"score":1,"creation_date":1646555432,"post_id":71367971,"comment_id":126148850,"body_markdown":"In the last version of spring-data-neo4j you should be able in creating unique index by using the OGM Library. Check spring reference https://docs.spring.io/spring-data/neo4j/docs/current/reference/html/#reference section Automatic creation of constraints and indexes","body":"In the last version of spring-data-neo4j you should be able in creating unique index by using the OGM Library. Check spring reference <a href=\"https://docs.spring.io/spring-data/neo4j/docs/current/reference/html/#reference\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/neo4j/docs/current/reference/html&zwnj;&#8203;/&hellip;</a> section Automatic creation of constraints and indexes"}],"answers":[{"tags":[],"owner":{"account_id":3133300,"reputation":7957,"user_id":2650436,"accept_rate":80,"display_name":"meistermeier"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678109566,"creation_date":1646595746,"answer_id":71373648,"question_id":71367971,"body_markdown":"Spring Data Neo4j 6+ does not allow the creation of constraints and indexes anymore. We are convinced that database related schema operations should not be in the responsible of an object [graph/something] mapper.\r\nTo fill this gap, we created [Neo4j-Migrations][1]. It does not even provide more functionality but also helps to keep the concerns of DBA operations and mapping separated.\r\n\r\n\r\n  [1]: https://michael-simons.github.io/neo4j-migrations/current/","title":"How to add a unique constraint for a label in a Neo4J database using Spring?","body":"<p>Spring Data Neo4j 6+ does not allow the creation of constraints and indexes anymore. We are convinced that database related schema operations should not be in the responsible of an object [graph/something] mapper.\nTo fill this gap, we created <a href=\"https://michael-simons.github.io/neo4j-migrations/current/\" rel=\"nofollow noreferrer\">Neo4j-Migrations</a>. It does not even provide more functionality but also helps to keep the concerns of DBA operations and mapping separated.</p>\n"}],"owner":{"account_id":21158683,"reputation":21,"user_id":15557421,"display_name":"MEDES"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":450,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678109566,"creation_date":1646545612,"question_id":71367971,"body_markdown":"I am trying to create a Unique Constraint of a Node&#39;s property in Kotlin or Java Spring.\r\n\r\nHow do I trigger or set up a constraint equivalent to this cypher\r\nquery:\r\n\r\n    CREATE CONSTRAINT constraint_name IF NOT EXISTS FOR (book:Book) REQUIRE book.isbn IS UNIQUE","title":"How to add a unique constraint for a label in a Neo4J database using Spring?","body":"<p>I am trying to create a Unique Constraint of a Node's property in Kotlin or Java Spring.</p>\n<p>How do I trigger or set up a constraint equivalent to this cypher\nquery:</p>\n<pre><code>CREATE CONSTRAINT constraint_name IF NOT EXISTS FOR (book:Book) REQUIRE book.isbn IS UNIQUE\n</code></pre>\n"},{"tags":["java","jersey"],"comments":[{"owner":{"account_id":156161,"reputation":2109,"user_id":373287,"display_name":"eeezyy"},"score":3,"creation_date":1390319683,"post_id":6860661,"comment_id":32035107,"body_markdown":"for logging at the server side see the following post:\r\n\r\n[How to get jersey logs at server?][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2332515/how-to-get-jersey-logs-at-server","body":"for logging at the server side see the following post:    [How to get jersey logs at server?][1]        [1]: <a href=\"https://stackoverflow.com/questions/2332515/how-to-get-jersey-logs-at-server\" title=\"how to get jersey logs at server\">stackoverflow.com/questions/2332515/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":290489,"reputation":1837,"user_id":592069,"display_name":"ivan.cikic"},"down_vote_count":2,"up_vote_count":107,"is_accepted":true,"score":105,"last_activity_date":1386248859,"creation_date":1311946236,"answer_id":6873911,"question_id":6860661,"body_markdown":"If you&#39;re just using Jersey Client API, [LoggingFilter][1] (client filter) should help you:\r\n\r\n    Client client = Client.create();\r\n    client.addFilter(new LoggingFilter(System.out));\r\n    WebResource webResource = client.resource(&quot;http://localhost:9998/&quot;);\r\n    ClientResponse response = webResource.accept(MediaType.APPLICATION_JSON)\r\n                                             .get(ClientResponse.class);\r\n\r\nOtherwise, you can again log both request and response on server using other [LoggingFilter][2] (container filter).\r\n\r\n\r\n  [1]: https://jersey.java.net/nonav/apidocs/1.9/jersey/com/sun/jersey/api/client/filter/LoggingFilter.html\r\n  [2]: https://jersey.java.net/nonav/apidocs/1.9/jersey/com/sun/jersey/api/container/filter/LoggingFilter.html","title":"Jersey: Print the actual request","body":"<p>If you're just using Jersey Client API, <a href=\"https://jersey.java.net/nonav/apidocs/1.9/jersey/com/sun/jersey/api/client/filter/LoggingFilter.html\" rel=\"noreferrer\">LoggingFilter</a> (client filter) should help you:</p>\n\n<pre><code>Client client = Client.create();\nclient.addFilter(new LoggingFilter(System.out));\nWebResource webResource = client.resource(\"http://localhost:9998/\");\nClientResponse response = webResource.accept(MediaType.APPLICATION_JSON)\n                                         .get(ClientResponse.class);\n</code></pre>\n\n<p>Otherwise, you can again log both request and response on server using other <a href=\"https://jersey.java.net/nonav/apidocs/1.9/jersey/com/sun/jersey/api/container/filter/LoggingFilter.html\" rel=\"noreferrer\">LoggingFilter</a> (container filter).</p>\n"},{"tags":[],"owner":{"account_id":24269,"reputation":63221,"user_id":61624,"accept_rate":60,"display_name":"Daniel Kaplan"},"down_vote_count":1,"up_vote_count":54,"is_accepted":false,"score":53,"last_activity_date":1421174016,"creation_date":1420666948,"answer_id":27829154,"question_id":6860661,"body_markdown":"@ivan.cikic&#39;s answer is for Jersey 1.x.  Here&#39;s how you do it in Jersey 2.x:\r\n\r\n    import org.glassfish.jersey.client.ClientConfig;\r\n    import org.glassfish.jersey.filter.LoggingFilter;\r\n    import org.json.JSONException;\r\n    import org.json.JSONObject;\r\n    \r\n    import javax.ws.rs.client.Client;\r\n    import javax.ws.rs.client.ClientBuilder;\r\n    import javax.ws.rs.client.Entity;\r\n    import javax.ws.rs.client.WebTarget;\r\n    import javax.ws.rs.core.Form;\r\n    import javax.ws.rs.core.MediaType;\r\n    \r\n    ...\r\n    \r\n            ClientConfig config = new ClientConfig();\r\n    \r\n            Client client = ClientBuilder.newClient(config);\r\n            client.register(new LoggingFilter());\r\n\r\nThis is irrelevant but I just *have* to complain: The new `LoggingFilter` is really annoying because it forces you to use Java Util Logging.  It would be better if it gave me control over the logger.  Seems like a step backwards in design. ","title":"Jersey: Print the actual request","body":"<p>@ivan.cikic's answer is for Jersey 1.x.  Here's how you do it in Jersey 2.x:</p>\n\n<pre><code>import org.glassfish.jersey.client.ClientConfig;\nimport org.glassfish.jersey.filter.LoggingFilter;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport javax.ws.rs.client.Client;\nimport javax.ws.rs.client.ClientBuilder;\nimport javax.ws.rs.client.Entity;\nimport javax.ws.rs.client.WebTarget;\nimport javax.ws.rs.core.Form;\nimport javax.ws.rs.core.MediaType;\n\n...\n\n        ClientConfig config = new ClientConfig();\n\n        Client client = ClientBuilder.newClient(config);\n        client.register(new LoggingFilter());\n</code></pre>\n\n<p>This is irrelevant but I just <em>have</em> to complain: The new <code>LoggingFilter</code> is really annoying because it forces you to use Java Util Logging.  It would be better if it gave me control over the logger.  Seems like a step backwards in design. </p>\n"},{"tags":[],"owner":{"account_id":1322512,"reputation":18457,"user_id":1268003,"accept_rate":82,"display_name":"Martin Andersson"},"down_vote_count":0,"up_vote_count":65,"is_accepted":false,"score":65,"last_activity_date":1464990612,"creation_date":1464988760,"answer_id":37623575,"question_id":6860661,"body_markdown":"Since **Jersey 2.23**, there&#39;s a [`LoggingFeature`](https://jersey.java.net/nonav/apidocs/latest/jersey/org/glassfish/jersey/logging/LoggingFeature.html) you could use. The following is a bit simplified example, please note that you can register the feature on [`WebTarget`](https://docs.oracle.com/javaee/7/api/javax/ws/rs/client/WebTarget.html) as well.\r\n\r\n    Logger logger = Logger.getLogger(getClass().getName());\r\n    \r\n    Feature feature = new LoggingFeature(logger, Level.INFO, null, null);\r\n    \r\n    Client client = ClientBuilder.newBuilder()\r\n            .register(feature)\r\n            .build();\r\n    \r\n    Response response = client.target(&quot;https://www.google.com&quot;)\r\n            .queryParam(&quot;q&quot;, &quot;Hello, World!&quot;)\r\n            .request().get();\r\n\r\nJavaDoc of `LoggingFeature` says that the request &quot;and/or&quot; the response is logged lol. On my machine, both are logged.","title":"Jersey: Print the actual request","body":"<p>Since <strong>Jersey 2.23</strong>, there's a <a href=\"https://jersey.java.net/nonav/apidocs/latest/jersey/org/glassfish/jersey/logging/LoggingFeature.html\"><code>LoggingFeature</code></a> you could use. The following is a bit simplified example, please note that you can register the feature on <a href=\"https://docs.oracle.com/javaee/7/api/javax/ws/rs/client/WebTarget.html\"><code>WebTarget</code></a> as well.</p>\n\n<pre><code>Logger logger = Logger.getLogger(getClass().getName());\n\nFeature feature = new LoggingFeature(logger, Level.INFO, null, null);\n\nClient client = ClientBuilder.newBuilder()\n        .register(feature)\n        .build();\n\nResponse response = client.target(\"https://www.google.com\")\n        .queryParam(\"q\", \"Hello, World!\")\n        .request().get();\n</code></pre>\n\n<p>JavaDoc of <code>LoggingFeature</code> says that the request \"and/or\" the response is logged lol. On my machine, both are logged.</p>\n"},{"tags":[],"owner":{"account_id":881569,"reputation":476,"user_id":279041,"accept_rate":0,"display_name":"james.lorenzen"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1593620456,"creation_date":1593620456,"answer_id":62681153,"question_id":6860661,"body_markdown":"All these answers are pretty close but they lack the setting to log the request and response body. At least with Jersey 2.30.1 this is how I accomplish logging the request and response including their respective bodies:\r\n\r\n    import javax.ws.rs.client.ClientBuilder;\r\n    import org.glassfish.jersey.logging.LoggingFeature;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n\r\n    Logger logger = Logger.getLogger(&quot;LoggingFeature&quot;);\r\n    logger.setLevel(Level.ALL);\r\n    ClientBuilder.newClient()\r\n      .target(&quot;https://www.example.com&quot;)\r\n      .register(new LoggingFeature(\r\n        logger,\r\n        Level.ALL,\r\n        LoggingFeature.Verbosity.PAYLOAD_ANY,\r\n        8192))\r\n      .request()\r\n      .get();\r\n\r\nTechnically the `Level.All` and `8192` values could be `null`. I just provide them here to be concise.","title":"Jersey: Print the actual request","body":"<p>All these answers are pretty close but they lack the setting to log the request and response body. At least with Jersey 2.30.1 this is how I accomplish logging the request and response including their respective bodies:</p>\n<pre><code>import javax.ws.rs.client.ClientBuilder;\nimport org.glassfish.jersey.logging.LoggingFeature;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\nLogger logger = Logger.getLogger(&quot;LoggingFeature&quot;);\nlogger.setLevel(Level.ALL);\nClientBuilder.newClient()\n  .target(&quot;https://www.example.com&quot;)\n  .register(new LoggingFeature(\n    logger,\n    Level.ALL,\n    LoggingFeature.Verbosity.PAYLOAD_ANY,\n    8192))\n  .request()\n  .get();\n</code></pre>\n<p>Technically the <code>Level.All</code> and <code>8192</code> values could be <code>null</code>. I just provide them here to be concise.</p>\n"},{"tags":[],"owner":{"account_id":18722537,"reputation":1,"user_id":13650051,"display_name":"boyi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678109365,"creation_date":1677766735,"answer_id":75616703,"question_id":6860661,"body_markdown":"For version 3.1.X it must be:\r\n```\r\nLogger logger = Logger.getLogger(&quot;test&quot;);\r\nLoggingFeature loggingFeature = new LoggingFeature(logger, Level.INFO, Verbosity.PAYLOAD_ANY,null);\r\nClient client = ClientBuilder.newClient();\r\nclient.register(loggingFeature);\r\n```\r\n`Level.ALL` is NOT Working","title":"Jersey: Print the actual request","body":"<p>For version 3.1.X it must be:</p>\n<pre><code>Logger logger = Logger.getLogger(&quot;test&quot;);\nLoggingFeature loggingFeature = new LoggingFeature(logger, Level.INFO, Verbosity.PAYLOAD_ANY,null);\nClient client = ClientBuilder.newClient();\nclient.register(loggingFeature);\n</code></pre>\n<p><code>Level.ALL</code> is NOT Working</p>\n"}],"owner":{"account_id":11512,"reputation":10910,"user_id":22231,"accept_rate":77,"display_name":"Haphazard"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93957,"favorite_count":0,"down_vote_count":0,"up_vote_count":100,"accepted_answer_id":6873911,"answer_count":5,"score":100,"last_activity_date":1678109365,"creation_date":1311863389,"question_id":6860661,"body_markdown":"How can I view the actual request that Jersey generates and sends to the server?  I am having issues with a particular request and the fellow running the webserver asked to see the full request (with headers and the such).","title":"Jersey: Print the actual request","body":"<p>How can I view the actual request that Jersey generates and sends to the server?  I am having issues with a particular request and the fellow running the webserver asked to see the full request (with headers and the such).</p>\n"},{"tags":["java","itext"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1678109513,"post_id":75651412,"comment_id":133464189,"body_markdown":"Try add `IText Asian Fonts` jar. ( https://mvnrepository.com/artifact/com.itextpdf/font-asian )","body":"Try add <code>IText Asian Fonts</code> jar. ( <a href=\"https://mvnrepository.com/artifact/com.itextpdf/font-asian\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/com.itextpdf/font-asian</a> )"},{"owner":{"account_id":25676474,"reputation":1,"user_id":19439826,"display_name":"Leo Castro"},"score":0,"creation_date":1678109791,"post_id":75651412,"comment_id":133464263,"body_markdown":"I added the dependency, but it keeps returning the error. \t\t\t&lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;font-asian&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;7.2.5&lt;/version&gt;","body":"I added the dependency, but it keeps returning the error. \t\t\t&lt;groupId&gt;com.itextpdf&lt;/groupId&gt; \t\t\t&lt;artifactId&gt;font-asian&lt;/artifactId&gt; \t\t\t&lt;version&gt;7.2.5&lt;/version&gt;"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1678109894,"post_id":75651412,"comment_id":133464296,"body_markdown":"What is your itext version ?","body":"What is your itext version ?"},{"owner":{"account_id":25676474,"reputation":1,"user_id":19439826,"display_name":"Leo Castro"},"score":0,"creation_date":1678109951,"post_id":75651412,"comment_id":133464313,"body_markdown":"&lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;5.5.13.3&lt;/version&gt;","body":"&lt;groupId&gt;com.itextpdf&lt;/groupId&gt; \t\t\t&lt;artifactId&gt;itextpdf&lt;/artifactId&gt; \t\t\t&lt;version&gt;5.5.13.3&lt;/version&gt;"},{"owner":{"account_id":25676474,"reputation":1,"user_id":19439826,"display_name":"Leo Castro"},"score":0,"creation_date":1678110209,"post_id":75651412,"comment_id":133464402,"body_markdown":"Could it be from iText.KERNEL, since I&#39;m using it?","body":"Could it be from iText.KERNEL, since I&#39;m using it?"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1678110264,"post_id":75651412,"comment_id":133464422,"body_markdown":"https://mvnrepository.com/artifact/com.itextpdf/itext-asian/5.2.0","body":"<a href=\"https://mvnrepository.com/artifact/com.itextpdf/itext-asian/5.2.0\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/com.itextpdf/itext-asian/5.2.0</a>"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1678110547,"post_id":75651412,"comment_id":133464503,"body_markdown":"open `https://mvnrepository.com/artifact/com.itextpdf/itextpdf/5.5.13.3`, find       `jar` link, download (`itextpdf-5.5.13.3.jar`) , unzip `itextpdf-5.5.13.3.jar`, then try to find `UniJIS-UTF16-H.*`, you can not find it. But you can find it from https://mvnrepository.com/artifact/com.itextpdf/itext-asian/5.2.0.","body":"open <code>https:&#47;&#47;mvnrepository.com&#47;artifact&#47;com.itextpdf&#47;itextpdf&#47;5.5&zwnj;&#8203;.13.3</code>, find       <code>jar</code> link, download (<code>itextpdf-5.5.13.3.jar</code>) , unzip <code>itextpdf-5.5.13.3.jar</code>, then try to find <code>UniJIS-UTF16-H.*</code>, you can not find it. But you can find it from <a href=\"https://mvnrepository.com/artifact/com.itextpdf/itext-asian/5.2.0\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/com.itextpdf/itext-asian/5.2.0</a>."},{"owner":{"account_id":25676474,"reputation":1,"user_id":19439826,"display_name":"Leo Castro"},"score":0,"creation_date":1678111943,"post_id":75651412,"comment_id":133464956,"body_markdown":"Thank you for your quick answer.\n\nok, I didn&#39;t find it in itextpdf-5.5.13.3.jar, but I found it in itext-asian-5.2.2.jar.\nAnd now what do I do ?","body":"Thank you for your quick answer.  ok, I didn&#39;t find it in itextpdf-5.5.13.3.jar, but I found it in itext-asian-5.2.2.jar. And now what do I do ?"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1678113293,"post_id":75651412,"comment_id":133465393,"body_markdown":"add `&lt;dependency&gt;\n    &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n    &lt;artifactId&gt;itext-asian&lt;/artifactId&gt;\n    &lt;version&gt;5.2.0&lt;/version&gt;\n&lt;/dependency&gt;`","body":"add <code>&lt;dependency&gt;     &lt;groupId&gt;com.itextpdf&lt;&#47;groupId&gt;     &lt;artifactId&gt;itext-asian&lt;&#47;artifactId&gt;     &lt;version&gt;5.2.0&lt;&#47;version&gt; &lt;&#47;dependency&gt;</code>"},{"owner":{"account_id":25676474,"reputation":1,"user_id":19439826,"display_name":"Leo Castro"},"score":0,"creation_date":1678113805,"post_id":75651412,"comment_id":133465552,"body_markdown":"I added dependency itext-asian, but it keeps returning the same error.\nThe CMap com/itextpdf/io/font/cmap/UniJIS-UTF16-H was not found.\n\nI don&#39;t understand why this is happening, since the PDF contains 20 pages in the Portuguese language.","body":"I added dependency itext-asian, but it keeps returning the same error. The CMap com/itextpdf/io/font/cmap/UniJIS-UTF16-H was not found.  I don&#39;t understand why this is happening, since the PDF contains 20 pages in the Portuguese language."},{"owner":{"account_id":25676474,"reputation":1,"user_id":19439826,"display_name":"Leo Castro"},"score":0,"creation_date":1678450399,"post_id":75651412,"comment_id":133539269,"body_markdown":"I changed the version of iTextpdf. From 5.5.13.3 to suite 7.2.5, i.e. I removed all dependencies from previous iTextpdf and left only suite 7.2.5., so it worked.   \n\n\t\t&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;itext7-core&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;7.2.5&lt;/version&gt;\n\t\t\t&lt;type&gt;pom&lt;/type&gt;\n\t\t&lt;/dependency&gt;","body":"I changed the version of iTextpdf. From 5.5.13.3 to suite 7.2.5, i.e. I removed all dependencies from previous iTextpdf and left only suite 7.2.5., so it worked.     \t\t&lt;dependency&gt; \t\t\t&lt;groupId&gt;com.itextpdf&lt;/groupId&gt; \t\t\t&lt;artifactId&gt;itext7-core&lt;/artifactId&gt; \t\t\t&lt;version&gt;7.2.5&lt;/version&gt; \t\t\t&lt;type&gt;pom&lt;/type&gt; \t\t&lt;/dependency&gt;"}],"owner":{"account_id":25676474,"reputation":1,"user_id":19439826,"display_name":"Leo Castro"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678109320,"creation_date":1678109095,"question_id":75651412,"body_markdown":"I need your help.\r\n\r\nI&#39;m using your code to scale the pages in a PDF, leaving them the same size and the content fits within A4.\r\n\r\nThe code runs and serves the purpose, but compiling with a specific PDF threw this exception.\r\n\r\n\r\n\r\n&gt; **The CMap com/itextpdf/io/font/cmap/UniJIS-UTF16-H was not found.**\r\n\r\n\r\n\r\n\r\n```\r\npublic byte[] gerarPDFViaGet() throws IOException {\r\n    \r\n            ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n    \r\n            com.itextpdf.kernel.pdf.PdfDocument mergedPdf = new com.itextpdf.kernel.pdf.PdfDocument(\r\n                    new com.itextpdf.kernel.pdf.PdfWriter(outputStream) );\r\n    \r\n            com.itextpdf.kernel.geom.Rectangle pageSize = com.itextpdf.kernel.geom.PageSize.A4;\r\n            com.itextpdf.kernel.geom.Rectangle pageBodySize = pageSize.clone()\r\n                    .applyMargins(10, 10, 10, 10, false);\r\n    \r\n            InputStream resource = new FileInputStream(&quot;document_78.pdf&quot;);\r\n            com.itextpdf.kernel.pdf.PdfReader pdfReader = new com.itextpdf.kernel.pdf.PdfReader(resource);\r\n            com.itextpdf.kernel.pdf.PdfDocument pdfDocument = new com.itextpdf.kernel.pdf.PdfDocument(pdfReader);\r\n    \r\n            pdfDocument.copyPagesTo(1, pdfDocument.getNumberOfPages(), mergedPdf, new PdfPageFormCopier());\r\n            scale(mergedPdf, pageSize, pageBodySize);\r\n    \r\n            mergedPdf.close();\r\n    \r\n            return outputStream.toByteArray();\r\n    \r\n        }\r\n```\r\n\r\nScale.\r\n\r\n\r\n```\r\nvoid scale(com.itextpdf.kernel.pdf.PdfDocument pdfDocument, com.itextpdf.kernel.geom.Rectangle pageSize,\r\n                   com.itextpdf.kernel.geom.Rectangle pageBodySize) {\r\n    \r\n            for (int i = 1; i &lt;= pdfDocument.getNumberOfPages(); i++) {\r\n                com.itextpdf.kernel.pdf.PdfPage page = pdfDocument.getPage(i);\r\n    \r\n                // ROTACAO E ORIENTACAO DAS PAGINAS\r\n                if( page.getPageSizeWithRotation().getWidth() &gt; page.getPageSizeWithRotation().getHeight() )\r\n                    pdfDocument.getPage(i).put(com.itextpdf.kernel.pdf.PdfName.Rotate,PORTRAIT);\r\n    \r\n                if ( page.getRotation() == 90 )\r\n                    pdfDocument.getPage(i).put(com.itextpdf.kernel.pdf.PdfName.Rotate,PORTRAIT);\r\n    \r\n                MarginFinder marginFinder = new MarginFinder();\r\n                com.itextpdf.kernel.pdf.canvas.parser.PdfCanvasProcessor pdfCanvasProcessor = new com.itextpdf.kernel\r\n                        .pdf.canvas.parser.PdfCanvasProcessor(marginFinder);\r\n                pdfCanvasProcessor.processPageContent(page);\r\n                com.itextpdf.kernel.geom.Rectangle boundingBox = marginFinder.getBoundingBox();\r\n                if (boundingBox == null || boundingBox.getWidth() == 0 || boundingBox.getHeight() == 0) {\r\n                    System.err.printf(&quot;N&#227;o &#233; poss&#237;vel dimensionar o conte&#250;do da p&#225;gina %d com a caixa delimitadora %s\\n&quot;,\r\n                            i , boundingBox);\r\n                    continue;\r\n                } else {\r\n    \r\n                    List&lt;Double&gt; retornoScales = calcularFatorScale(pageBodySize,boundingBox);\r\n                    double scale = retornoScales.get(0);\r\n                    double xDiff = retornoScales.get(1);\r\n                    double yDiff = retornoScales.get(2);\r\n    \r\n                    if( scale &gt; 0.5 ){\r\n    \r\n                            com.itextpdf.kernel.geom.AffineTransform transform = com.itextpdf.kernel.geom.AffineTransform\r\n                                    .getTranslateInstance(pageBodySize.getLeft() + xDiff, pageBodySize.getBottom() + yDiff);\r\n                            transform.scale(scale, scale);\r\n                            transform.translate(-boundingBox.getLeft(), -boundingBox.getBottom());\r\n                            new com.itextpdf.kernel.pdf.canvas.PdfCanvas(page.newContentStreamBefore(), page.getResources(), pdfDocument)\r\n                                    .concatMatrix(transform);\r\n                    }\r\n                }\r\n                page.setMediaBox(pageSize);\r\n                page.setCropBox(pageSize);\r\n            }\r\n        }\r\n```\r\n\r\nFatorScale.\r\n\r\n\r\n```\r\npublic List&lt;Double&gt; calcularFatorScale(com.itextpdf.kernel.geom.Rectangle pageBodySize,\r\n                                               com.itextpdf.kernel.geom.Rectangle boundingBox){\r\n    \r\n            List&lt;Double&gt; retornoScales = new ArrayList&lt;&gt;();\r\n            double scale = 0, xDiff= 0, yDiff = 0;\r\n    \r\n            double xScale = pageBodySize.getWidth()/boundingBox.getWidth();\r\n            double yScale = pageBodySize.getHeight()/boundingBox.getHeight();\r\n            if (xScale &lt; yScale) {\r\n                yDiff = boundingBox.getHeight() * (yScale / xScale - 1) / 2;\r\n                scale = xScale;\r\n            } else {\r\n                xDiff = boundingBox.getWidth() * (xScale / yScale - 1) / 2;\r\n                scale = yScale;\r\n            }\r\n    \r\n            retornoScales.add(scale);\r\n            retornoScales.add(xDiff);\r\n            retornoScales.add(yDiff);\r\n    \r\n            return retornoScales;\r\n        }\r\n```\r\n\r\n\r\n\r\nSome example PDFs return what you expect. But others return the exception:\r\n**CMap com/itextpdf/io/font/cmap/UniJIS-UTF16-H was not found.**\r\n\r\n\r\nTwo example PDFs for entry. One of them returns this exception;\r\n","title":"iText Java - Scaling pages of different sizes. Returns an error with some PDFs","body":"<p>I need your help.</p>\n<p>I'm using your code to scale the pages in a PDF, leaving them the same size and the content fits within A4.</p>\n<p>The code runs and serves the purpose, but compiling with a specific PDF threw this exception.</p>\n<blockquote>\n<p><strong>The CMap com/itextpdf/io/font/cmap/UniJIS-UTF16-H was not found.</strong></p>\n</blockquote>\n<pre><code>public byte[] gerarPDFViaGet() throws IOException {\n    \n            ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n    \n            com.itextpdf.kernel.pdf.PdfDocument mergedPdf = new com.itextpdf.kernel.pdf.PdfDocument(\n                    new com.itextpdf.kernel.pdf.PdfWriter(outputStream) );\n    \n            com.itextpdf.kernel.geom.Rectangle pageSize = com.itextpdf.kernel.geom.PageSize.A4;\n            com.itextpdf.kernel.geom.Rectangle pageBodySize = pageSize.clone()\n                    .applyMargins(10, 10, 10, 10, false);\n    \n            InputStream resource = new FileInputStream(&quot;document_78.pdf&quot;);\n            com.itextpdf.kernel.pdf.PdfReader pdfReader = new com.itextpdf.kernel.pdf.PdfReader(resource);\n            com.itextpdf.kernel.pdf.PdfDocument pdfDocument = new com.itextpdf.kernel.pdf.PdfDocument(pdfReader);\n    \n            pdfDocument.copyPagesTo(1, pdfDocument.getNumberOfPages(), mergedPdf, new PdfPageFormCopier());\n            scale(mergedPdf, pageSize, pageBodySize);\n    \n            mergedPdf.close();\n    \n            return outputStream.toByteArray();\n    \n        }\n</code></pre>\n<p>Scale.</p>\n<pre><code>void scale(com.itextpdf.kernel.pdf.PdfDocument pdfDocument, com.itextpdf.kernel.geom.Rectangle pageSize,\n                   com.itextpdf.kernel.geom.Rectangle pageBodySize) {\n    \n            for (int i = 1; i &lt;= pdfDocument.getNumberOfPages(); i++) {\n                com.itextpdf.kernel.pdf.PdfPage page = pdfDocument.getPage(i);\n    \n                // ROTACAO E ORIENTACAO DAS PAGINAS\n                if( page.getPageSizeWithRotation().getWidth() &gt; page.getPageSizeWithRotation().getHeight() )\n                    pdfDocument.getPage(i).put(com.itextpdf.kernel.pdf.PdfName.Rotate,PORTRAIT);\n    \n                if ( page.getRotation() == 90 )\n                    pdfDocument.getPage(i).put(com.itextpdf.kernel.pdf.PdfName.Rotate,PORTRAIT);\n    \n                MarginFinder marginFinder = new MarginFinder();\n                com.itextpdf.kernel.pdf.canvas.parser.PdfCanvasProcessor pdfCanvasProcessor = new com.itextpdf.kernel\n                        .pdf.canvas.parser.PdfCanvasProcessor(marginFinder);\n                pdfCanvasProcessor.processPageContent(page);\n                com.itextpdf.kernel.geom.Rectangle boundingBox = marginFinder.getBoundingBox();\n                if (boundingBox == null || boundingBox.getWidth() == 0 || boundingBox.getHeight() == 0) {\n                    System.err.printf(&quot;Não é possível dimensionar o conteúdo da página %d com a caixa delimitadora %s\\n&quot;,\n                            i , boundingBox);\n                    continue;\n                } else {\n    \n                    List&lt;Double&gt; retornoScales = calcularFatorScale(pageBodySize,boundingBox);\n                    double scale = retornoScales.get(0);\n                    double xDiff = retornoScales.get(1);\n                    double yDiff = retornoScales.get(2);\n    \n                    if( scale &gt; 0.5 ){\n    \n                            com.itextpdf.kernel.geom.AffineTransform transform = com.itextpdf.kernel.geom.AffineTransform\n                                    .getTranslateInstance(pageBodySize.getLeft() + xDiff, pageBodySize.getBottom() + yDiff);\n                            transform.scale(scale, scale);\n                            transform.translate(-boundingBox.getLeft(), -boundingBox.getBottom());\n                            new com.itextpdf.kernel.pdf.canvas.PdfCanvas(page.newContentStreamBefore(), page.getResources(), pdfDocument)\n                                    .concatMatrix(transform);\n                    }\n                }\n                page.setMediaBox(pageSize);\n                page.setCropBox(pageSize);\n            }\n        }\n</code></pre>\n<p>FatorScale.</p>\n<pre><code>public List&lt;Double&gt; calcularFatorScale(com.itextpdf.kernel.geom.Rectangle pageBodySize,\n                                               com.itextpdf.kernel.geom.Rectangle boundingBox){\n    \n            List&lt;Double&gt; retornoScales = new ArrayList&lt;&gt;();\n            double scale = 0, xDiff= 0, yDiff = 0;\n    \n            double xScale = pageBodySize.getWidth()/boundingBox.getWidth();\n            double yScale = pageBodySize.getHeight()/boundingBox.getHeight();\n            if (xScale &lt; yScale) {\n                yDiff = boundingBox.getHeight() * (yScale / xScale - 1) / 2;\n                scale = xScale;\n            } else {\n                xDiff = boundingBox.getWidth() * (xScale / yScale - 1) / 2;\n                scale = yScale;\n            }\n    \n            retornoScales.add(scale);\n            retornoScales.add(xDiff);\n            retornoScales.add(yDiff);\n    \n            return retornoScales;\n        }\n</code></pre>\n<p>Some example PDFs return what you expect. But others return the exception:\n<strong>CMap com/itextpdf/io/font/cmap/UniJIS-UTF16-H was not found.</strong></p>\n<p>Two example PDFs for entry. One of them returns this exception;</p>\n"},{"tags":["java","generics","swagger","httpresponse"],"comments":[{"owner":{"account_id":7525670,"reputation":12194,"user_id":5715934,"accept_rate":95,"display_name":"Supun Wijerathne"},"score":0,"creation_date":1536216733,"post_id":33459644,"comment_id":91345348,"body_markdown":"did my answer solve your problem??","body":"did my answer solve your problem??"},{"owner":{"account_id":3831593,"reputation":812,"user_id":3177021,"accept_rate":50,"display_name":"EmeraldTablet"},"score":0,"creation_date":1582302385,"post_id":33459644,"comment_id":106743066,"body_markdown":"The suggestion provided by Marvel77 [here](https://github.com/swagger-api/swagger-core/issues/498) looks viable for this issue","body":"The suggestion provided by Marvel77 <a href=\"https://github.com/swagger-api/swagger-core/issues/498\" rel=\"nofollow noreferrer\">here</a> looks viable for this issue"}],"answers":[{"tags":[],"owner":{"account_id":1760594,"reputation":1495,"user_id":1607828,"accept_rate":71,"display_name":"McLovin"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1475013441,"creation_date":1475013441,"answer_id":39734971,"question_id":33459644,"body_markdown":"I know this is an old post, but for anyone else looking for an answer to this:\r\n\r\nThis can be done for `List`, `Set`, and `Map` response objects but any other class class with generic types will be ignored. If you are using any of these three, then you specify them in the `responseContainer` field and your inferred type in the `response` field.\r\n\r\n    @ApiResponse(code = 200, responseContainer=&quot;List&quot;, respone=java.lang.String.class)","title":"How to specify a generic type class for Swagger API response","body":"<p>I know this is an old post, but for anyone else looking for an answer to this:</p>\n\n<p>This can be done for <code>List</code>, <code>Set</code>, and <code>Map</code> response objects but any other class class with generic types will be ignored. If you are using any of these three, then you specify them in the <code>responseContainer</code> field and your inferred type in the <code>response</code> field.</p>\n\n<pre><code>@ApiResponse(code = 200, responseContainer=\"List\", respone=java.lang.String.class)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7525670,"reputation":12194,"user_id":5715934,"accept_rate":95,"display_name":"Supun Wijerathne"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1530101306,"creation_date":1517919845,"answer_id":48643021,"question_id":33459644,"body_markdown":"I am using **swagger 2** and following resolved this problem for me.\r\n\r\nRemove &#39;**response**&#39; property from both `@ApiResponse` and `@ApiOperation`. Then swagger will automatically generate the response class for you for ***200 OK*** from method stubs (irrespective of whether with/without generics in response class).\r\n\r\n    @ApiOperation(value = &quot;what your operation does&quot;)\r\n\r\n\t@ApiResponses(value = {\t@ApiResponse(code = 200, message = &quot;Success message&quot;) })\r\n\r\n**Update**: You can do this simple work around. Just say you want to output `Response&lt;MyClass&gt;` as response return type. You can do,\r\n\r\n- In controller class, specify an empty private class like this\r\n\r\n    `private MyResponseClass extends Response&lt;MyClass&gt;{}`\r\n- And for the swagger spec, specify like this,\r\n\r\n    `@ApiResponse(code = 200, respone=MyResponseClass.class)`\r\n\r\nRemember that at the moment, swagger doesn&#39;t support generics. Above two are just workarounds.\r\n\r\n","title":"How to specify a generic type class for Swagger API response","body":"<p>I am using <strong>swagger 2</strong> and following resolved this problem for me.</p>\n\n<p>Remove '<strong>response</strong>' property from both <code>@ApiResponse</code> and <code>@ApiOperation</code>. Then swagger will automatically generate the response class for you for <strong><em>200 OK</em></strong> from method stubs (irrespective of whether with/without generics in response class).</p>\n\n<pre><code>@ApiOperation(value = \"what your operation does\")\n\n@ApiResponses(value = { @ApiResponse(code = 200, message = \"Success message\") })\n</code></pre>\n\n<p><strong>Update</strong>: You can do this simple work around. Just say you want to output <code>Response&lt;MyClass&gt;</code> as response return type. You can do,</p>\n\n<ul>\n<li><p>In controller class, specify an empty private class like this</p>\n\n<p><code>private MyResponseClass extends Response&lt;MyClass&gt;{}</code></p></li>\n<li><p>And for the swagger spec, specify like this,</p>\n\n<p><code>@ApiResponse(code = 200, respone=MyResponseClass.class)</code></p></li>\n</ul>\n\n<p>Remember that at the moment, swagger doesn't support generics. Above two are just workarounds.</p>\n"},{"tags":[],"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1606762716,"creation_date":1606762716,"answer_id":65079551,"question_id":33459644,"body_markdown":"This question was asked in 2015, but I was looking for the same thing in 2020. :) So, thought it relevant to add what I found here.\r\n\r\nI am using `springdoc-openapi-ui` (1.5.0), which depends upon Swagger JARs, I understand. Since the common response class takes a generic `T`, the actual API methods must define the expected type. Eg, `Response&lt;Account&gt;`.\r\n\r\nIf this is your scenario too, then **NOT** defining `schema` attribute of the `@ApiResponse -&gt; @Content` seems to make Swagger inspect the generic type and include it in the schema. The same thing is applicable for the Swagger annotation `@RequestBody -&gt; @Content`","title":"How to specify a generic type class for Swagger API response","body":"<p>This question was asked in 2015, but I was looking for the same thing in 2020. :) So, thought it relevant to add what I found here.</p>\n<p>I am using <code>springdoc-openapi-ui</code> (1.5.0), which depends upon Swagger JARs, I understand. Since the common response class takes a generic <code>T</code>, the actual API methods must define the expected type. Eg, <code>Response&lt;Account&gt;</code>.</p>\n<p>If this is your scenario too, then <strong>NOT</strong> defining <code>schema</code> attribute of the <code>@ApiResponse -&gt; @Content</code> seems to make Swagger inspect the generic type and include it in the schema. The same thing is applicable for the Swagger annotation <code>@RequestBody -&gt; @Content</code></p>\n"},{"tags":[],"owner":{"account_id":2662708,"reputation":951,"user_id":2302006,"display_name":"Nankai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622692560,"creation_date":1622692560,"answer_id":67815171,"question_id":33459644,"body_markdown":"I used the kotlin\r\nand like that\r\n\r\n\r\n    @ApiOperation(\r\n                value = &quot;Login with email&quot;,\r\n                response  = test(Response&lt;AccountResponse&gt;())\r\n        )\r\n\r\n\r\n    fun &lt;T : Any&gt; test(t: T): KClass&lt;out T&gt; = t::class","title":"How to specify a generic type class for Swagger API response","body":"<p>I used the kotlin\nand like that</p>\n<pre><code>@ApiOperation(\n            value = &quot;Login with email&quot;,\n            response  = test(Response&lt;AccountResponse&gt;())\n    )\n\n\nfun &lt;T : Any&gt; test(t: T): KClass&lt;out T&gt; = t::class\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9649797,"reputation":113,"user_id":7161305,"display_name":"Adrian Santos"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1651298012,"creation_date":1651297693,"answer_id":72066042,"question_id":33459644,"body_markdown":"It took me a while to figure this out. It&#39;s 2022 already (swagger 3). Not ideal but something like this seems to do the trick for returning generics in API endpoints with OpenAPI. In the controller:\r\n\r\n```\r\n// use the Response class as the return type\r\n@ApiResponse(responseCode = &quot;200&quot;, content = @Content(schema = @Schema(implementation = Response.class)))\r\npublic Response&lt;Potato&gt; getPotato(){\r\n     ...\r\n     return Response&lt;Potato&gt;;\r\n}\r\n\r\n```\r\n\r\nIn the model:\r\n\r\n```\r\npublic class Response&lt;T&gt;{\r\n    // use anyOf/allOf for specifying the types of the wrapped in class\r\n    @Schema(anyOf = { Potato.class, Tomato.class })\r\n    T object;\r\n\r\n    ...\r\n}\r\n```\r\n\r\n","title":"How to specify a generic type class for Swagger API response","body":"<p>It took me a while to figure this out. It's 2022 already (swagger 3). Not ideal but something like this seems to do the trick for returning generics in API endpoints with OpenAPI. In the controller:</p>\n<pre><code>// use the Response class as the return type\n@ApiResponse(responseCode = &quot;200&quot;, content = @Content(schema = @Schema(implementation = Response.class)))\npublic Response&lt;Potato&gt; getPotato(){\n     ...\n     return Response&lt;Potato&gt;;\n}\n\n</code></pre>\n<p>In the model:</p>\n<pre><code>public class Response&lt;T&gt;{\n    // use anyOf/allOf for specifying the types of the wrapped in class\n    @Schema(anyOf = { Potato.class, Tomato.class })\n    T object;\n\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4573201,"reputation":122,"user_id":3712363,"display_name":"fedeb"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652103134,"creation_date":1652103134,"answer_id":72172828,"question_id":33459644,"body_markdown":"According to [this](https://github.com/swagger-api/swagger-core/pull/4129) recently more extensive support for generics was added.\r\n\r\nTested to be working with `swagger-jaxrs2: 2.2.0` and `swagger-annotations: 2.2.0`. I also had to remove any `@Schema` annotation from class definitions appearing in the response type, and no `@Content` in `@ApiResponse` annotations, just something like:\r\n\r\n```\r\n@io.swagger.v3.oas.annotations.Operation(summary = &quot;My summary&quot;,\r\n        responses = {@ApiResponse(responseCode = &quot;200&quot;, description = &quot;Ok&quot;, useReturnTypeSchema = true)}\r\n    )\r\n```\r\n\r\nIn my case the response type is `GenericClass1&lt;GenericClass2&lt;Class3&gt;&gt;`.","title":"How to specify a generic type class for Swagger API response","body":"<p>According to <a href=\"https://github.com/swagger-api/swagger-core/pull/4129\" rel=\"nofollow noreferrer\">this</a> recently more extensive support for generics was added.</p>\n<p>Tested to be working with <code>swagger-jaxrs2: 2.2.0</code> and <code>swagger-annotations: 2.2.0</code>. I also had to remove any <code>@Schema</code> annotation from class definitions appearing in the response type, and no <code>@Content</code> in <code>@ApiResponse</code> annotations, just something like:</p>\n<pre><code>@io.swagger.v3.oas.annotations.Operation(summary = &quot;My summary&quot;,\n        responses = {@ApiResponse(responseCode = &quot;200&quot;, description = &quot;Ok&quot;, useReturnTypeSchema = true)}\n    )\n</code></pre>\n<p>In my case the response type is <code>GenericClass1&lt;GenericClass2&lt;Class3&gt;&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":27947803,"reputation":11,"user_id":21342394,"display_name":"Ashish Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678108890,"creation_date":1678108890,"answer_id":75651377,"question_id":33459644,"body_markdown":"[SOLVED] I got the answer and my solution is up and running\r\nI am using OpenApi \r\n```\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.13&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nI almost spent 2 days and miraculously got the solution.\r\n\r\n**`ApiResponse&lt;T&gt;`** is a **generic** response class used for all responses in our project\r\n\r\n```\r\npublic class ApiResponse&lt;T extends Object&gt; {\r\n    @Schema(description = &quot;status of the request failed/success&quot;, example = &quot;SUCCESS&quot;)\r\n    private String status;\r\n\r\n    @Schema(description = &quot;code to represent the status of the response&quot;, example = &quot;200&quot;)\r\n    private Integer statusCode;\r\n\r\n    @Schema(description = &quot;message for the response&quot;)\r\n    private String message;\r\n\r\n    private T data;\r\n\r\n    private Integer totalCount;\r\n    private String name;\r\n    private Object extraData;\r\n}\r\n\r\n```\r\n\r\n**SOLUTION** :- just **don&#39;t** put any `@Schema` annotation on the generic type field, it will work. \r\nFor the example of the Generic responses you can add `example` in the `@Schema` for the classes which will be used as the Response.\r\n\r\nExample:\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@ToString\r\n@Schema(example = &quot;{\\n&quot; +\r\nSome JSON example        \r\n}&quot;)\r\n\r\npublic class SomePlanResponseDTO {\r\n\r\n```\r\n\r\nand lastly at the `@Controller`\r\n\r\n```\r\n@Operation(description = &quot;Fetch the plan&quot;, responses = {\r\n\r\n    })\r\n    @ApiResponses(value = {\r\n            @io.swagger.v3.oas.annotations.responses.ApiResponse(responseCode = &quot;200&quot;, useReturnTypeSchema = false, description = &quot;plan found&quot;),\r\n            @io.swagger.v3.oas.annotations.responses.ApiResponse(responseCode = &quot;404&quot;, description = &quot;Subscription plan not found for the current combination of filters&quot;, content = {@Content(schema = @Schema(example = &quot;{\\n&quot; +\r\n                    &quot;\\t\\&quot;status\\&quot;: \\&quot;FAILED\\&quot;,\\n&quot; +\r\n                    &quot;\\t\\&quot;statusCode\\&quot;: 404,\\n&quot; +\r\n                    &quot;\\t\\&quot;message\\&quot;: \\&quot;not found\\&quot;\\n&quot; +\r\n                    &quot;}&quot;))}),\r\n            @io.swagger.v3.oas.annotations.responses.ApiResponse(responseCode = &quot;400&quot;, description = &quot;Combination of filters in the request is not appropriate&quot;, content = {@Content(schema = @Schema(example = &quot;{\\n&quot; +\r\n                    &quot;\\t\\&quot;status\\&quot;: \\&quot;FAILED\\&quot;,\\n&quot; +\r\n                    &quot;\\t\\&quot;statusCode\\&quot;: 400,\\n&quot; +\r\n                    &quot;\\t\\&quot;message\\&quot;: \\&quot;failure\\&quot;\\n&quot; +\r\n                    &quot;}&quot;))})\r\n    }\r\n    )\r\n    @PostMapping(value = &quot;/somePath&quot;, consumes = {MediaType.APPLICATION_JSON_VALUE})\r\n    public ApiResponse&lt;SomePlanResponseDTO &gt; getPlans(@RequestBody SomeRequestDTO someRequestDTO) {\r\n}\r\n```","title":"How to specify a generic type class for Swagger API response","body":"<p>[SOLVED] I got the answer and my solution is up and running\nI am using OpenApi</p>\n<pre><code>\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.6.13&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I almost spent 2 days and miraculously got the solution.</p>\n<p><strong><code>ApiResponse&lt;T&gt;</code></strong> is a <strong>generic</strong> response class used for all responses in our project</p>\n<pre><code>public class ApiResponse&lt;T extends Object&gt; {\n    @Schema(description = &quot;status of the request failed/success&quot;, example = &quot;SUCCESS&quot;)\n    private String status;\n\n    @Schema(description = &quot;code to represent the status of the response&quot;, example = &quot;200&quot;)\n    private Integer statusCode;\n\n    @Schema(description = &quot;message for the response&quot;)\n    private String message;\n\n    private T data;\n\n    private Integer totalCount;\n    private String name;\n    private Object extraData;\n}\n\n</code></pre>\n<p><strong>SOLUTION</strong> :- just <strong>don't</strong> put any <code>@Schema</code> annotation on the generic type field, it will work.\nFor the example of the Generic responses you can add <code>example</code> in the <code>@Schema</code> for the classes which will be used as the Response.</p>\n<p>Example:</p>\n<pre><code>@Getter\n@Setter\n@ToString\n@Schema(example = &quot;{\\n&quot; +\nSome JSON example        \n}&quot;)\n\npublic class SomePlanResponseDTO {\n\n</code></pre>\n<p>and lastly at the <code>@Controller</code></p>\n<pre><code>@Operation(description = &quot;Fetch the plan&quot;, responses = {\n\n    })\n    @ApiResponses(value = {\n            @io.swagger.v3.oas.annotations.responses.ApiResponse(responseCode = &quot;200&quot;, useReturnTypeSchema = false, description = &quot;plan found&quot;),\n            @io.swagger.v3.oas.annotations.responses.ApiResponse(responseCode = &quot;404&quot;, description = &quot;Subscription plan not found for the current combination of filters&quot;, content = {@Content(schema = @Schema(example = &quot;{\\n&quot; +\n                    &quot;\\t\\&quot;status\\&quot;: \\&quot;FAILED\\&quot;,\\n&quot; +\n                    &quot;\\t\\&quot;statusCode\\&quot;: 404,\\n&quot; +\n                    &quot;\\t\\&quot;message\\&quot;: \\&quot;not found\\&quot;\\n&quot; +\n                    &quot;}&quot;))}),\n            @io.swagger.v3.oas.annotations.responses.ApiResponse(responseCode = &quot;400&quot;, description = &quot;Combination of filters in the request is not appropriate&quot;, content = {@Content(schema = @Schema(example = &quot;{\\n&quot; +\n                    &quot;\\t\\&quot;status\\&quot;: \\&quot;FAILED\\&quot;,\\n&quot; +\n                    &quot;\\t\\&quot;statusCode\\&quot;: 400,\\n&quot; +\n                    &quot;\\t\\&quot;message\\&quot;: \\&quot;failure\\&quot;\\n&quot; +\n                    &quot;}&quot;))})\n    }\n    )\n    @PostMapping(value = &quot;/somePath&quot;, consumes = {MediaType.APPLICATION_JSON_VALUE})\n    public ApiResponse&lt;SomePlanResponseDTO &gt; getPlans(@RequestBody SomeRequestDTO someRequestDTO) {\n}\n</code></pre>\n"}],"owner":{"account_id":1018861,"reputation":3731,"user_id":1029808,"accept_rate":60,"display_name":"as3rdaccount"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50391,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"answer_count":7,"score":25,"last_activity_date":1678108890,"creation_date":1446357330,"question_id":33459644,"body_markdown":"I have about 40 APIs that have similar base response structure as follows:\r\n\r\n    {\r\n        &quot;lastAccessed&quot;: &quot;2015-30-08:14:21:45T&quot;,\r\n        &quot;createdOn&quot;: &quot;2015-30-07:09:04:10T&quot;,\r\n        &quot;lastModified&quot;: &quot;2015-30-08:14:21:45T&quot;,\r\n        &quot;isReadOnly&quot;: &quot;false&quot;,\r\n        &quot;usersAllowed&quot; : [&quot;Tim&quot;, &quot;Matt&quot;, &quot;Christine&quot;];\r\n        &quot;noOfEntries&quot;: 1,\r\n        &quot;object&quot;: [\r\n            &quot;ObjectA&quot;: {\r\n                 //here object A has its own model\r\n             }\r\n        ]\r\n    }\r\n\r\nSo I have a base response class taking a generic of type T as follows:\r\n\r\n    public class Response&lt;T&gt; {\r\n        @ApiModelProperty(value=&quot;Last time accessed&quot;)\r\n        private String lastAccessed;\r\n        @ApiModelProperty(value=&quot;Time when Created &quot;)\r\n        private String createdOn;\r\n        private String lastModified;\r\n        @ApiModelProperty(value=&quot;Created on&quot;)\r\n        private boolean isReadOnly;\r\n        @ApiModelProperty(value=&quot;Users that has access to the object.&quot;)\r\n        private List&lt;String&gt; usersAllowed;\r\n        private int noOfEntries;\r\n        private T object;\r\n    \r\n        //getters and setters\r\n    }\r\n\r\nSo for the API A, which returns the Object of type  with its own fields, I am returning Response&lt;A&gt; as the API response in the controller:\r\n\r\n      public class A {\r\n        @ApiModelProperty(value=&quot;Name&quot;)\r\n        private String name;\r\n        @ApiModelProperty(value=&quot;OID&quot;)\r\n        private String id;    \r\n        //getters and setters\r\n    }    \r\nIn the controller:\r\n    Response&lt;A&gt; data = new Response&lt;A&gt;();\r\n    ResponseEntity&lt;?&gt; response = new ResponseEntity&lt;&gt;(data, HttpStatus.OK); \r\n\r\nIs there a way in swagger I can specify the model of the response object recursively? For example, I could have the annotation @ApiOperation(response=Response.class) but that would not have the model for A. \r\n","title":"How to specify a generic type class for Swagger API response","body":"<p>I have about 40 APIs that have similar base response structure as follows:</p>\n\n<pre><code>{\n    \"lastAccessed\": \"2015-30-08:14:21:45T\",\n    \"createdOn\": \"2015-30-07:09:04:10T\",\n    \"lastModified\": \"2015-30-08:14:21:45T\",\n    \"isReadOnly\": \"false\",\n    \"usersAllowed\" : [\"Tim\", \"Matt\", \"Christine\"];\n    \"noOfEntries\": 1,\n    \"object\": [\n        \"ObjectA\": {\n             //here object A has its own model\n         }\n    ]\n}\n</code></pre>\n\n<p>So I have a base response class taking a generic of type T as follows:</p>\n\n<pre><code>public class Response&lt;T&gt; {\n    @ApiModelProperty(value=\"Last time accessed\")\n    private String lastAccessed;\n    @ApiModelProperty(value=\"Time when Created \")\n    private String createdOn;\n    private String lastModified;\n    @ApiModelProperty(value=\"Created on\")\n    private boolean isReadOnly;\n    @ApiModelProperty(value=\"Users that has access to the object.\")\n    private List&lt;String&gt; usersAllowed;\n    private int noOfEntries;\n    private T object;\n\n    //getters and setters\n}\n</code></pre>\n\n<p>So for the API A, which returns the Object of type  with its own fields, I am returning Response as the API response in the controller:</p>\n\n<pre><code>  public class A {\n    @ApiModelProperty(value=\"Name\")\n    private String name;\n    @ApiModelProperty(value=\"OID\")\n    private String id;    \n    //getters and setters\n}    \n</code></pre>\n\n<p>In the controller:\n    Response data = new Response();\n    ResponseEntity response = new ResponseEntity&lt;>(data, HttpStatus.OK); </p>\n\n<p>Is there a way in swagger I can specify the model of the response object recursively? For example, I could have the annotation @ApiOperation(response=Response.class) but that would not have the model for A. </p>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":2788184,"reputation":11285,"user_id":2399024,"accept_rate":90,"display_name":"donfuxx"},"score":0,"creation_date":1396904711,"post_id":22922997,"comment_id":34990247,"body_markdown":"I guess the function you already have uses the By to get a WebElement? Probably overloading the method will be the way to go.","body":"I guess the function you already have uses the By to get a WebElement? Probably overloading the method will be the way to go."},{"owner":{"account_id":3099597,"reputation":9011,"user_id":2624089,"display_name":"Richard"},"score":0,"creation_date":1396904807,"post_id":22922997,"comment_id":34990295,"body_markdown":"I don&#39;t think there&#39;s a way to do that.  I think I&#39;d need to see what you&#39;re trying to accomplish to suggest a good solution.  My offhand suggestion is to create an object that has `WebElement` and `By` properties, and pass in `element.By` to your method.","body":"I don&#39;t think there&#39;s a way to do that.  I think I&#39;d need to see what you&#39;re trying to accomplish to suggest a good solution.  My offhand suggestion is to create an object that has <code>WebElement</code> and <code>By</code> properties, and pass in <code>element.By</code> to your method."},{"owner":{"account_id":2457423,"reputation":3216,"user_id":2491792,"display_name":"Faiz"},"score":2,"creation_date":1396915993,"post_id":22922997,"comment_id":34994410,"body_markdown":"You could get the absolute xpath of the webelement using javascript and then create a `By` object from it.","body":"You could get the absolute xpath of the webelement using javascript and then create a <code>By</code> object from it."},{"owner":{"account_id":1203541,"reputation":24718,"user_id":1173729,"accept_rate":75,"display_name":"Arran"},"score":0,"creation_date":1396945900,"post_id":22922997,"comment_id":35005228,"body_markdown":"This isn&#39;t going to work. A `WebElement` isn&#39;t a `By` object in any sense. That&#39;s the point. So perhaps you should explain what you are trying to accomplish.","body":"This isn&#39;t going to work. A <code>WebElement</code> isn&#39;t a <code>By</code> object in any sense. That&#39;s the point. So perhaps you should explain what you are trying to accomplish."},{"owner":{"account_id":22756,"reputation":6549,"user_id":56472,"accept_rate":75,"display_name":"Jason Coyne"},"score":0,"creation_date":1428433070,"post_id":22922997,"comment_id":47156907,"body_markdown":"I also have this problem \n\nMy issue is that I have found an item, and then need to find a child of that item. \n\nparent = Find.By.Xpath(whatever)\nchild = item.Find.By.Xpath(&quot;.//&quot; + whatever2)\n\nBut I need to pass the child&#39;s by to a method. I can use the by by itself, but then how do I limit the xpath to children of parent?","body":"I also have this problem   My issue is that I have found an item, and then need to find a child of that item.   parent = Find.By.Xpath(whatever) child = item.Find.By.Xpath(&quot;.//&quot; + whatever2)  But I need to pass the child&#39;s by to a method. I can use the by by itself, but then how do I limit the xpath to children of parent?"}],"answers":[{"tags":[],"owner":{"account_id":2807354,"reputation":138,"user_id":2414323,"display_name":"Leon the Logician"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1486392135,"creation_date":1458050821,"answer_id":36013606,"question_id":22922997,"body_markdown":"If you are using a method which takes an argument of a WebElement, it is likely that you are considering the problem in a way that would be less effective than if you passed it a by selector instead.\r\nHowever, this method should fulfill your ask.\r\n\r\n    // return ByType of WebElement\r\n    public By toByVal(WebElement we) {\r\n        // By format = &quot;[foundFrom] -&gt; locator: term&quot;\r\n        // see RemoteWebElement toString() implementation\r\n        String[] data = we.toString().split(&quot; -&gt; &quot;)[1].replace(&quot;]&quot;, &quot;&quot;).split(&quot;: &quot;);\r\n        String locator = data[0];\r\n        String term = data[1];\r\n\r\n        switch (locator) {\r\n        case &quot;xpath&quot;:\r\n            return By.xpath(term);\r\n        case &quot;css selector&quot;:\r\n            return By.cssSelector(term);\r\n        case &quot;id&quot;:\r\n            return By.id(term);\r\n        case &quot;tag name&quot;:\r\n            return By.tagName(term);\r\n        case &quot;name&quot;:\r\n            return By.name(term);\r\n        case &quot;link text&quot;:\r\n            return By.linkText(term);\r\n        case &quot;class name&quot;:\r\n            return By.className(term);\r\n        }\r\n        return (By) we;\r\n    }\r\n\r\n","title":"Converting a WebElement type to a By type","body":"<p>If you are using a method which takes an argument of a WebElement, it is likely that you are considering the problem in a way that would be less effective than if you passed it a by selector instead.\nHowever, this method should fulfill your ask.</p>\n\n<pre><code>// return ByType of WebElement\npublic By toByVal(WebElement we) {\n    // By format = \"[foundFrom] -&gt; locator: term\"\n    // see RemoteWebElement toString() implementation\n    String[] data = we.toString().split(\" -&gt; \")[1].replace(\"]\", \"\").split(\": \");\n    String locator = data[0];\n    String term = data[1];\n\n    switch (locator) {\n    case \"xpath\":\n        return By.xpath(term);\n    case \"css selector\":\n        return By.cssSelector(term);\n    case \"id\":\n        return By.id(term);\n    case \"tag name\":\n        return By.tagName(term);\n    case \"name\":\n        return By.name(term);\n    case \"link text\":\n        return By.linkText(term);\n    case \"class name\":\n        return By.className(term);\n    }\n    return (By) we;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8768885,"reputation":1,"user_id":6556389,"display_name":"Sachin Mashalkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467866585,"creation_date":1467811415,"answer_id":38225173,"question_id":22922997,"body_markdown":"This could help.\r\n\r\n\tprivate static WebElement returnElement(String stringElement) {\r\n\t\tif (stringElement == null) {\r\n\t\t\treturn null;\r\n\t\t} else if (stringElement.contains(&quot;-&gt;&quot;)) {\r\n\t\t\tString[] splitElement = stringElement.split(&quot; &quot;);\r\n\t\t\tString locatorType = splitElement[6].replace(&quot;:&quot;, &quot;&quot;);\r\n\t\t\tString locatorPath = null;\r\n\t\t\tif(locatorType.equalsIgnoreCase(&quot;xpath&quot;)) {\r\n\t\t\t\tlocatorPath = stringElement.substring(stringElement.indexOf(&quot;//&quot;), stringElement.length() -1);\r\n\t\t\t} else {\r\n\t\t\t\tlocatorPath = splitElement[7].substring(0, splitElement[7].length() - 1);\r\n\t\t\t} \r\n\t\t\treturn returnElement(locatorType, locatorPath);\r\n\t\t} else {\r\n\t\t\tString[] splitElement = stringElement.split(&quot; &quot;);\r\n\t\t\tString locatorType = splitElement[4].substring(splitElement[4].lastIndexOf(&quot;.&quot;) + 1,\r\n\t\t\t\t\tsplitElement[4].lastIndexOf(&quot;:&quot;));\r\n\t\t\tint index = splitElement[5].length();\r\n\t\t\tString locatorPath = splitElement[5].substring(0, index - 1);\r\n\t\t\treturn returnElement(locatorType, locatorPath);\r\n\t\t}\r\n\t}\r\n\r\n\t// Refreshing DOM Elements\r\n\tprivate static WebElement returnElement(String locatorType, String locatorPath) {\r\n\t\tswitch (locatorType.toLowerCase()) {\r\n\t\tcase &quot;id&quot;:\r\n\t\t\treturn driver.findElement(By.id(locatorPath));\r\n\r\n\t\tcase &quot;xpath&quot;:\r\n\t\t\treturn driver.findElement(By.xpath(locatorPath));\r\n\r\n\t\tcase &quot;name&quot;:\r\n\t\t\treturn driver.findElement(By.name(locatorPath));\r\n\r\n\t\tcase &quot;classname&quot;:\r\n\t\t\treturn driver.findElement(By.className(locatorPath));\r\n\r\n\t\tcase &quot;cssselector&quot;:\r\n\t\t\treturn driver.findElement(By.cssSelector(locatorPath));\r\n\r\n\t\tcase &quot;linktext&quot;:\r\n\t\t\treturn driver.findElement(By.linkText(locatorPath));\r\n\r\n\t\tcase &quot;tagname&quot;:\r\n\t\t\treturn driver.findElement(By.tagName(locatorPath));\r\n\r\n\t\tdefault:\r\n\t\t\tthrow new RuntimeException(&quot;Unknown locator &quot; + locatorType + &quot; : &quot; + locatorPath);\r\n\t\t}\r\n\t}","title":"Converting a WebElement type to a By type","body":"<p>This could help.</p>\n\n<pre><code>private static WebElement returnElement(String stringElement) {\n    if (stringElement == null) {\n        return null;\n    } else if (stringElement.contains(\"-&gt;\")) {\n        String[] splitElement = stringElement.split(\" \");\n        String locatorType = splitElement[6].replace(\":\", \"\");\n        String locatorPath = null;\n        if(locatorType.equalsIgnoreCase(\"xpath\")) {\n            locatorPath = stringElement.substring(stringElement.indexOf(\"//\"), stringElement.length() -1);\n        } else {\n            locatorPath = splitElement[7].substring(0, splitElement[7].length() - 1);\n        } \n        return returnElement(locatorType, locatorPath);\n    } else {\n        String[] splitElement = stringElement.split(\" \");\n        String locatorType = splitElement[4].substring(splitElement[4].lastIndexOf(\".\") + 1,\n                splitElement[4].lastIndexOf(\":\"));\n        int index = splitElement[5].length();\n        String locatorPath = splitElement[5].substring(0, index - 1);\n        return returnElement(locatorType, locatorPath);\n    }\n}\n\n// Refreshing DOM Elements\nprivate static WebElement returnElement(String locatorType, String locatorPath) {\n    switch (locatorType.toLowerCase()) {\n    case \"id\":\n        return driver.findElement(By.id(locatorPath));\n\n    case \"xpath\":\n        return driver.findElement(By.xpath(locatorPath));\n\n    case \"name\":\n        return driver.findElement(By.name(locatorPath));\n\n    case \"classname\":\n        return driver.findElement(By.className(locatorPath));\n\n    case \"cssselector\":\n        return driver.findElement(By.cssSelector(locatorPath));\n\n    case \"linktext\":\n        return driver.findElement(By.linkText(locatorPath));\n\n    case \"tagname\":\n        return driver.findElement(By.tagName(locatorPath));\n\n    default:\n        throw new RuntimeException(\"Unknown locator \" + locatorType + \" : \" + locatorPath);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22637315,"reputation":11,"user_id":16813957,"display_name":"Faizul"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631095073,"creation_date":1631082588,"answer_id":69097961,"question_id":22922997,"body_markdown":"I use this method and it works fine for me. To run this code block it requires `Apache Commons IO` library.\r\n\r\n```java\r\n /**\r\n     * Converting WebElement to By locator\r\n     *\r\n     * @param webElement\r\n     * @return By\r\n     */\r\n    public static By getByLocator(WebElement webElement) {\r\n        String element = webElement.toString().split(\r\n                &quot;(?=\\\\sid:\\\\s|\\\\sname:\\\\s|\\\\sselector:\\\\s|\\\\slink text:|\\\\sxpath:\\\\s|&quot; +\r\n                        &quot;By.id:\\\\s|By.name:\\\\s|By.tagName:\\\\s|By.className:\\\\s|By.cssSelector:\\\\s|&quot; +\r\n                        &quot;By.linkText:\\\\s|By.partialLinkText:\\\\s|By.xpath:\\\\s)&quot;)[1];\r\n\r\n        String[] locator = StringUtils.removeEnd(element, &quot;]&quot;).split(&quot;:\\\\s&quot;);\r\n        String method = locator[0].trim();\r\n        if (method.equals(&quot;xpath&quot;))\r\n            return By.xpath(locator[1]);\r\n\r\n        String selector = StringUtils.removeEnd(locator[1], &quot;&#39;&quot;);\r\n        switch (method) {\r\n            case &quot;id&quot;:\r\n            case &quot;By.id&quot;:\r\n                return By.id(selector);\r\n            case &quot;name&quot;:\r\n            case &quot;By.name&quot;:\r\n                return By.name(selector);\r\n            case &quot;By.tagName&quot;:\r\n                return By.tagName(selector);\r\n            case &quot;By.className&quot;:\r\n                return By.className(selector);\r\n            case &quot;selector&quot;:\r\n            case &quot;By.cssSelector&quot;:\r\n                return By.cssSelector(selector);\r\n            case &quot;By.linkText&quot;:\r\n                return By.linkText(selector);\r\n            case &quot;link text&quot;:\r\n            case &quot;By.partialLinkText&quot;:\r\n                return By.partialLinkText(selector);\r\n            case &quot;By.xpath&quot;:\r\n                return By.name(selector);\r\n            default:\r\n                System.out.println(&quot;Error! [&quot; + method + &quot;]&quot;);\r\n                return null;\r\n        }\r\n    }\r\n```","title":"Converting a WebElement type to a By type","body":"<p>I use this method and it works fine for me. To run this code block it requires <code>Apache Commons IO</code> library.</p>\n<pre class=\"lang-java prettyprint-override\"><code> /**\n     * Converting WebElement to By locator\n     *\n     * @param webElement\n     * @return By\n     */\n    public static By getByLocator(WebElement webElement) {\n        String element = webElement.toString().split(\n                &quot;(?=\\\\sid:\\\\s|\\\\sname:\\\\s|\\\\sselector:\\\\s|\\\\slink text:|\\\\sxpath:\\\\s|&quot; +\n                        &quot;By.id:\\\\s|By.name:\\\\s|By.tagName:\\\\s|By.className:\\\\s|By.cssSelector:\\\\s|&quot; +\n                        &quot;By.linkText:\\\\s|By.partialLinkText:\\\\s|By.xpath:\\\\s)&quot;)[1];\n\n        String[] locator = StringUtils.removeEnd(element, &quot;]&quot;).split(&quot;:\\\\s&quot;);\n        String method = locator[0].trim();\n        if (method.equals(&quot;xpath&quot;))\n            return By.xpath(locator[1]);\n\n        String selector = StringUtils.removeEnd(locator[1], &quot;'&quot;);\n        switch (method) {\n            case &quot;id&quot;:\n            case &quot;By.id&quot;:\n                return By.id(selector);\n            case &quot;name&quot;:\n            case &quot;By.name&quot;:\n                return By.name(selector);\n            case &quot;By.tagName&quot;:\n                return By.tagName(selector);\n            case &quot;By.className&quot;:\n                return By.className(selector);\n            case &quot;selector&quot;:\n            case &quot;By.cssSelector&quot;:\n                return By.cssSelector(selector);\n            case &quot;By.linkText&quot;:\n                return By.linkText(selector);\n            case &quot;link text&quot;:\n            case &quot;By.partialLinkText&quot;:\n                return By.partialLinkText(selector);\n            case &quot;By.xpath&quot;:\n                return By.name(selector);\n            default:\n                System.out.println(&quot;Error! [&quot; + method + &quot;]&quot;);\n                return null;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":306557,"reputation":36953,"user_id":617373,"accept_rate":88,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678108851,"creation_date":1678108851,"answer_id":75651370,"question_id":22922997,"body_markdown":"You can also use the `getBy()` for converting into `By` element\r\n\r\nlet&#39;s say you got the following code\r\n\r\n    @FindBy (id = &quot;some-id-goes-here&quot;)\r\n    private static ExtendedWebElement MyElementById;\r\n\r\n\r\n    public static ExtendedWebElement getMyElementById(){\r\n        return MyElementById;\r\n    }\r\n\r\nnow you can convert it into By element like this\r\n\r\n    getMyElementById().getBy()\r\n\r\nand use it inside `ExpectedConditions.visibilityOfElementLocated(getMyElementById().getBy())`\r\n","title":"Converting a WebElement type to a By type","body":"<p>You can also use the <code>getBy()</code> for converting into <code>By</code> element</p>\n<p>let's say you got the following code</p>\n<pre><code>@FindBy (id = &quot;some-id-goes-here&quot;)\nprivate static ExtendedWebElement MyElementById;\n\n\npublic static ExtendedWebElement getMyElementById(){\n    return MyElementById;\n}\n</code></pre>\n<p>now you can convert it into By element like this</p>\n<pre><code>getMyElementById().getBy()\n</code></pre>\n<p>and use it inside <code>ExpectedConditions.visibilityOfElementLocated(getMyElementById().getBy())</code></p>\n"}],"owner":{"account_id":1946726,"reputation":2718,"user_id":1751692,"accept_rate":78,"display_name":"orpqK"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15633,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":36013606,"answer_count":4,"score":7,"last_activity_date":1678108851,"creation_date":1396904385,"question_id":22922997,"body_markdown":"Is there any way to convert a `WebElement` type object to a `By` in selenium? Type casting did not work.\r\n\r\nI have a function which only takes in By&#39;s, so I need to convert a `WebElement` to a `By`.\r\n","title":"Converting a WebElement type to a By type","body":"<p>Is there any way to convert a <code>WebElement</code> type object to a <code>By</code> in selenium? Type casting did not work.</p>\n\n<p>I have a function which only takes in By's, so I need to convert a <code>WebElement</code> to a <code>By</code>.</p>\n"},{"tags":["java","spring-mvc","outputstream","openapi-generator-maven-plugin"],"comments":[{"owner":{"account_id":4477746,"reputation":1014,"user_id":3642410,"accept_rate":100,"display_name":"Karim"},"score":0,"creation_date":1678111784,"post_id":75651361,"comment_id":133464899,"body_markdown":"Even if you&#39;re using InputStreamResource at some point or another it will be transformed into ByteArray from the documentation:\nShould only be used if no other specific Resource implementation is applicable. In particular, prefer ByteArrayResource or any of the file-based Resource implementations where possible.\nIn contrast to other Resource implementations, this is a descriptor for an already opened resource - therefore returning true from isOpen(). Do not use an InputStreamResource if you need to keep the resource descriptor somewhere, or if you need to read from a stream multiple times.","body":"Even if you&#39;re using InputStreamResource at some point or another it will be transformed into ByteArray from the documentation: Should only be used if no other specific Resource implementation is applicable. In particular, prefer ByteArrayResource or any of the file-based Resource implementations where possible. In contrast to other Resource implementations, this is a descriptor for an already opened resource - therefore returning true from isOpen(). Do not use an InputStreamResource if you need to keep the resource descriptor somewhere, or if you need to read from a stream multiple times."},{"owner":{"account_id":4477746,"reputation":1014,"user_id":3642410,"accept_rate":100,"display_name":"Karim"},"score":0,"creation_date":1678111913,"post_id":75651361,"comment_id":133464946,"body_markdown":"so use it if you can guarantee that the resources will be 100% open if not use file-based resource or ByteArrayResource","body":"so use it if you can guarantee that the resources will be 100% open if not use file-based resource or ByteArrayResource"},{"owner":{"account_id":1022492,"reputation":1055,"user_id":1032484,"display_name":"andy"},"score":0,"creation_date":1678113029,"post_id":75651361,"comment_id":133465306,"body_markdown":"Thanks for your answer, @Karim. I want to use OutputStream. How can I achieve that? Is there something I can add to the openapi specification?","body":"Thanks for your answer, @Karim. I want to use OutputStream. How can I achieve that? Is there something I can add to the openapi specification?"},{"owner":{"account_id":4477746,"reputation":1014,"user_id":3642410,"accept_rate":100,"display_name":"Karim"},"score":1,"creation_date":1678117194,"post_id":75651361,"comment_id":133466636,"body_markdown":"There is no OutputStream implementation for Resource, Either use FileResource or ByteArrayResource","body":"There is no OutputStream implementation for Resource, Either use FileResource or ByteArrayResource"},{"owner":{"account_id":1022492,"reputation":1055,"user_id":1032484,"display_name":"andy"},"score":0,"creation_date":1678118592,"post_id":75651361,"comment_id":133467095,"body_markdown":"... or don&#39;t generate with open-api, right?","body":"... or don&#39;t generate with open-api, right?"},{"owner":{"account_id":4477746,"reputation":1014,"user_id":3642410,"accept_rate":100,"display_name":"Karim"},"score":0,"creation_date":1678118683,"post_id":75651361,"comment_id":133467126,"body_markdown":"Yeah exactly @andy","body":"Yeah exactly @andy"}],"owner":{"account_id":1022492,"reputation":1055,"user_id":1032484,"display_name":"andy"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":585,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1678108755,"creation_date":1678108755,"question_id":75651361,"body_markdown":"I would like to write an OutputStream out of a resource method in Spring, that has been generated by OpenApi Maven plugin.\r\n\r\npom.xml:\r\n```\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n                &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;5.1.0&lt;/version&gt;\r\n                   ...\r\n                   &lt;generatorName&gt;spring&lt;/generatorName&gt;\r\n```\r\n\r\nopenapi.yaml:\r\n```\r\n     /api/reason/my-reason-categorization:\r\n    get:\r\n      tags:\r\n        - reason-resource\r\n      operationId: myReasonCategorization\r\n      responses:\r\n        &quot;200&quot;:\r\n          description: OK\r\n          content:\r\n            application/vnd.openxmlformats-officedocument.spreadsheetml.sheet:\r\n              schema:\r\n                type: string\r\n                format: binary\r\n```\r\n\r\nResource method implementing the generated interface:\r\n```\r\n    @Override\r\n    public ResponseEntity&lt;Resource&gt; myReasonCategorization() {\r\n        // how can I connect the servlet outputstream to my business method ?\r\n        createExcel(outputstream);\r\n    }\r\n```\r\n\r\nMy question is:\r\n\r\nEither how can I access the outputstream of the servlet inside the generated method? `ResponseEntity&lt;Resource&gt;` only accepts InputStream stuff, like for example `InputStreamResource`.\r\n\r\nOr is it possible to make openapi generate a resource method that offers the outputstream?\r\n\r\nI don&#39;t want to work with byte arrays, because the generated file might be quite big and memory consuming. I want to write the generated excel file directly to the outputstream.","title":"Handle outputstream with openapi generated Resource in spring","body":"<p>I would like to write an OutputStream out of a resource method in Spring, that has been generated by OpenApi Maven plugin.</p>\n<p>pom.xml:</p>\n<pre><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n                &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;5.1.0&lt;/version&gt;\n                   ...\n                   &lt;generatorName&gt;spring&lt;/generatorName&gt;\n</code></pre>\n<p>openapi.yaml:</p>\n<pre><code>     /api/reason/my-reason-categorization:\n    get:\n      tags:\n        - reason-resource\n      operationId: myReasonCategorization\n      responses:\n        &quot;200&quot;:\n          description: OK\n          content:\n            application/vnd.openxmlformats-officedocument.spreadsheetml.sheet:\n              schema:\n                type: string\n                format: binary\n</code></pre>\n<p>Resource method implementing the generated interface:</p>\n<pre><code>    @Override\n    public ResponseEntity&lt;Resource&gt; myReasonCategorization() {\n        // how can I connect the servlet outputstream to my business method ?\n        createExcel(outputstream);\n    }\n</code></pre>\n<p>My question is:</p>\n<p>Either how can I access the outputstream of the servlet inside the generated method? <code>ResponseEntity&lt;Resource&gt;</code> only accepts InputStream stuff, like for example <code>InputStreamResource</code>.</p>\n<p>Or is it possible to make openapi generate a resource method that offers the outputstream?</p>\n<p>I don't want to work with byte arrays, because the generated file might be quite big and memory consuming. I want to write the generated excel file directly to the outputstream.</p>\n"},{"tags":["java","android","json","gson"],"comments":[{"owner":{"account_id":5606461,"reputation":10902,"user_id":4440874,"accept_rate":60,"display_name":"Jyotman Singh"},"score":0,"creation_date":1475243808,"post_id":39765516,"comment_id":66879364,"body_markdown":"As per the error, are you sure you haven&#39;t declared the field `userType` in the `User` class also? It is already declared in the &#39;BaseUser&#39; class so no need to redeclare it.","body":"As per the error, are you sure you haven&#39;t declared the field <code>userType</code> in the <code>User</code> class also? It is already declared in the &#39;BaseUser&#39; class so no need to redeclare it."},{"owner":{"account_id":2286735,"reputation":658,"user_id":2979970,"accept_rate":80,"display_name":"JorgeMuci"},"score":0,"creation_date":1475330904,"post_id":39765516,"comment_id":66906419,"body_markdown":"Hi Jyotman. No, I&#39;ve made sure I&#39;m not declaring the field usertype twice. It&#39;s only declared on the base user. Plus I said at the end of question, the deserialization is working fine as soon as change the name of the field userType from the BaseUser class to something different than what is declared on the json and the RuntimeTypeAdapterFactory. But thanks for the suggestion!","body":"Hi Jyotman. No, I&#39;ve made sure I&#39;m not declaring the field usertype twice. It&#39;s only declared on the base user. Plus I said at the end of question, the deserialization is working fine as soon as change the name of the field userType from the BaseUser class to something different than what is declared on the json and the RuntimeTypeAdapterFactory. But thanks for the suggestion!"}],"answers":[{"tags":[],"owner":{"account_id":2286735,"reputation":658,"user_id":2979970,"accept_rate":80,"display_name":"JorgeMuci"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1475651701,"creation_date":1475651701,"answer_id":39867633,"question_id":39765516,"body_markdown":"Well, after some time digging I found out that the problem is not actually deserializing, the problem comes when serializing and having a RuntimeTypeFactory registered as described in the question. If you register a runtimeTypeAdapterFactory and use the same field name to define the class type in the factory and in your pojo, json resulting from serializing pojo to json using GSON with the RuntimeTypeAdapterFactory for a SpecialUser for example will be: \r\n\r\n\r\n    {  \r\n      &quot;user&quot;:{  \r\n          &quot;userType&quot;:&quot;SPECIAL&quot;,\r\n          &quot;email&quot;:&quot;albert@gmail.com&quot;,\r\n          &quot;name&quot;:&quot;Albert&quot;\r\n          &quot;userType&quot;:&quot;SPECIAL&quot;\r\n      }\r\n    }\r\n\r\nThis will result in the exception described: \r\n\r\n    com.google.gson.JsonParseException: cannot serialize com.mobile.model.entities.v2.common.User because it already defines a field named userType\r\n\r\n because de field userType is repeated in the json due to GSON serializer, which will automatically add a field as declared in the RuntimeTypeAdapterFactory registered for the class BaseUser.  ","title":"Deserializing polymorphic JSON with Gson throwing exception","body":"<p>Well, after some time digging I found out that the problem is not actually deserializing, the problem comes when serializing and having a RuntimeTypeFactory registered as described in the question. If you register a runtimeTypeAdapterFactory and use the same field name to define the class type in the factory and in your pojo, json resulting from serializing pojo to json using GSON with the RuntimeTypeAdapterFactory for a SpecialUser for example will be: </p>\n\n<pre><code>{  \n  \"user\":{  \n      \"userType\":\"SPECIAL\",\n      \"email\":\"albert@gmail.com\",\n      \"name\":\"Albert\"\n      \"userType\":\"SPECIAL\"\n  }\n}\n</code></pre>\n\n<p>This will result in the exception described: </p>\n\n<pre><code>com.google.gson.JsonParseException: cannot serialize com.mobile.model.entities.v2.common.User because it already defines a field named userType\n</code></pre>\n\n<p>because de field userType is repeated in the json due to GSON serializer, which will automatically add a field as declared in the RuntimeTypeAdapterFactory registered for the class BaseUser.  </p>\n"},{"tags":[],"owner":{"account_id":7952739,"reputation":41,"user_id":6003086,"display_name":"javiMit"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1475679160,"creation_date":1475679160,"answer_id":39877326,"question_id":39765516,"body_markdown":"I think that using your own userType without @Expose annotation will do the trick\r\n\r\n\r\nRegads","title":"Deserializing polymorphic JSON with Gson throwing exception","body":"<p>I think that using your own userType without @Expose annotation will do the trick</p>\n\n<p>Regads</p>\n"},{"tags":[],"owner":{"account_id":9933732,"reputation":2018,"user_id":7352723,"display_name":"Jeffrey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1538622702,"creation_date":1538622702,"answer_id":52638418,"question_id":39765516,"body_markdown":"You can always use a default Gson instance to *serialize* (new Gson()) and then use the RuntimeTypeAdapterFactory instance to *deserialize*.\r\n\r\nIt is recommended not to use @Expose if you want everything to be transformed. It only blows up your model classes with redundant annotations.","title":"Deserializing polymorphic JSON with Gson throwing exception","body":"<p>You can always use a default Gson instance to <em>serialize</em> (new Gson()) and then use the RuntimeTypeAdapterFactory instance to <em>deserialize</em>.</p>\n\n<p>It is recommended not to use @Expose if you want everything to be transformed. It only blows up your model classes with redundant annotations.</p>\n"},{"tags":[],"owner":{"account_id":20566972,"reputation":57,"user_id":15096086,"display_name":"Juan Gil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678108496,"creation_date":1678108496,"answer_id":75651311,"question_id":39765516,"body_markdown":"I had this same problem working on android/kotlin, [JorgeMuci&#39;s answer][1] didn&#39;t work for me, but using the same approach, I used @Transient tag and it worked perfect\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/39867633/15096086","title":"Deserializing polymorphic JSON with Gson throwing exception","body":"<p>I had this same problem working on android/kotlin, <a href=\"https://stackoverflow.com/a/39867633/15096086\">JorgeMuci's answer</a> didn't work for me, but using the same approach, I used @Transient tag and it worked perfect</p>\n"}],"owner":{"account_id":2286735,"reputation":658,"user_id":2979970,"accept_rate":80,"display_name":"JorgeMuci"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2774,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":39867633,"answer_count":4,"score":14,"last_activity_date":1678108496,"creation_date":1475138637,"question_id":39765516,"body_markdown":"I&#39;m working on an app that is using Gson as JSON deserializer and needs to deserialize polymorphic JSON from REST API. Before explaining mi issue note that I&#39;ve already been looking around polymorphic deserialization with Gson and have implemented it on several cases successfully. So this is a specific issue I&#39;m having. Also I&#39;ve read [this great post][1] and [this Stack Overflow discussion][2] before asking this. I&#39;m using `RuntimeTypeAdapterFactory` to deserialize polymorphic objects by the way.\r\n\r\n**The problem** I&#39;m having is that apparently GSON&#39;s `RuntimeTypeAdapterFactory` does&#39;t allow to declare the field which specifies the type of the object inside the hierarchy structure. I&#39;ll explain further with some code. I have the following pojos structure (pojos had been reduced for the sake of simplicity): \r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public abstract class BaseUser {\r\n        @Expose\r\n        protected EnumMobileUserType userType; \r\n    }\r\n\r\n\r\n    public class User extends BaseUser {\r\n        @Expose\r\n        private String name;\r\n        @Expose\r\n        private String email;     \r\n    }\r\n\r\n    public class RegularUser extends User {\r\n        @Expose\r\n        private String address;    \r\n    }\r\n\r\n    public class SpecialUser extends User {\r\n        @Expose\r\n        private String promoCode;\r\n    }\r\n\r\nNow this is the code where I defined the `RuntimeTypeAdapterFactory` for User hierarchy. \r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public static RuntimeTypeAdapterFactory&lt;BaseUser&gt; getUserTypeAdapter() {\r\n       return RuntimeTypeAdapterFactory\r\n            .of(BaseUser.class, &quot;userType&quot;)\r\n            .registerSubtype(User.class, EnumMobileUserType.USER.toString())\r\n            .registerSubtype(RegularUser.class, EnumMobileUserType.REGULAR.toString())\r\n            .registerSubtype(SpecialUser.class, EnumMobileUserType.SPECIAL.toString());\r\n    }\r\n\r\n    public static Gson getGsonWithTypeAdapters() {\r\n        GsonBuilder builder = new GsonBuilder();\r\n        builder.registerTypeAdapterFactory(getUserTypeAdapter());\r\n        return builder.create();\r\n    }\r\n\r\n\r\nNow when I try to deserialize a JSON text:\r\n\r\n&lt;!-- language: lang-json --&gt;\r\n\r\n    {  \r\n       &quot;user&quot;:{  \r\n          &quot;userType&quot;:&quot;USER&quot;,\r\n          &quot;email&quot;:&quot;albert@gmail.com&quot;,\r\n          &quot;name&quot;:&quot;Albert&quot;\r\n       }\r\n    }\r\n\r\nI get this exception:\r\n\r\n    com.google.gson.JsonParseException: cannot serialize com.mobile.model.entities.v2.common.User because it already defines a field named userType\r\n\r\nBut if I change the name of the property &quot;userType&quot; in my `BaseUser` class to &quot;type&quot; for example and I deserialize the same JSON everything works properly. I don&#39;t get why Gson `RuntimeTypeAdapterFactory` has this restriction. In fact in [this blog post][1] apparently this is not an issue. \r\n\r\nCan anyone explain what&#39;s going on here, why the name of the property that defines the type cannot be defined inside the pojos hierarchy? \r\n\r\n\r\n**EDIT** the issue is not when deserializing but when serializing using the code described above. Find further explanation in the answer. \r\n\r\n  \r\n\r\n\r\n  [1]: https://futurestud.io/tutorials/how-to-deserialize-a-list-of-polymorphic-objects-with-gson\r\n  [2]: https://stackoverflow.com/questions/19588020/gson-serialize-a-list-of-polymorphic-objects","title":"Deserializing polymorphic JSON with Gson throwing exception","body":"<p>I'm working on an app that is using Gson as JSON deserializer and needs to deserialize polymorphic JSON from REST API. Before explaining mi issue note that I've already been looking around polymorphic deserialization with Gson and have implemented it on several cases successfully. So this is a specific issue I'm having. Also I've read <a href=\"https://futurestud.io/tutorials/how-to-deserialize-a-list-of-polymorphic-objects-with-gson\" rel=\"nofollow noreferrer\">this great post</a> and <a href=\"https://stackoverflow.com/questions/19588020/gson-serialize-a-list-of-polymorphic-objects\">this Stack Overflow discussion</a> before asking this. I'm using <code>RuntimeTypeAdapterFactory</code> to deserialize polymorphic objects by the way.</p>\n\n<p><strong>The problem</strong> I'm having is that apparently GSON's <code>RuntimeTypeAdapterFactory</code> does't allow to declare the field which specifies the type of the object inside the hierarchy structure. I'll explain further with some code. I have the following pojos structure (pojos had been reduced for the sake of simplicity): </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class BaseUser {\n    @Expose\n    protected EnumMobileUserType userType; \n}\n\n\npublic class User extends BaseUser {\n    @Expose\n    private String name;\n    @Expose\n    private String email;     \n}\n\npublic class RegularUser extends User {\n    @Expose\n    private String address;    \n}\n\npublic class SpecialUser extends User {\n    @Expose\n    private String promoCode;\n}\n</code></pre>\n\n<p>Now this is the code where I defined the <code>RuntimeTypeAdapterFactory</code> for User hierarchy. </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static RuntimeTypeAdapterFactory&lt;BaseUser&gt; getUserTypeAdapter() {\n   return RuntimeTypeAdapterFactory\n        .of(BaseUser.class, \"userType\")\n        .registerSubtype(User.class, EnumMobileUserType.USER.toString())\n        .registerSubtype(RegularUser.class, EnumMobileUserType.REGULAR.toString())\n        .registerSubtype(SpecialUser.class, EnumMobileUserType.SPECIAL.toString());\n}\n\npublic static Gson getGsonWithTypeAdapters() {\n    GsonBuilder builder = new GsonBuilder();\n    builder.registerTypeAdapterFactory(getUserTypeAdapter());\n    return builder.create();\n}\n</code></pre>\n\n<p>Now when I try to deserialize a JSON text:</p>\n\n<pre class=\"lang-json prettyprint-override\"><code>{  \n   \"user\":{  \n      \"userType\":\"USER\",\n      \"email\":\"albert@gmail.com\",\n      \"name\":\"Albert\"\n   }\n}\n</code></pre>\n\n<p>I get this exception:</p>\n\n<pre><code>com.google.gson.JsonParseException: cannot serialize com.mobile.model.entities.v2.common.User because it already defines a field named userType\n</code></pre>\n\n<p>But if I change the name of the property \"userType\" in my <code>BaseUser</code> class to \"type\" for example and I deserialize the same JSON everything works properly. I don't get why Gson <code>RuntimeTypeAdapterFactory</code> has this restriction. In fact in <a href=\"https://futurestud.io/tutorials/how-to-deserialize-a-list-of-polymorphic-objects-with-gson\" rel=\"nofollow noreferrer\">this blog post</a> apparently this is not an issue. </p>\n\n<p>Can anyone explain what's going on here, why the name of the property that defines the type cannot be defined inside the pojos hierarchy? </p>\n\n<p><strong>EDIT</strong> the issue is not when deserializing but when serializing using the code described above. Find further explanation in the answer. </p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":110937,"reputation":10882,"user_id":293330,"display_name":"Kaj"},"score":9,"creation_date":1310108291,"post_id":6620949,"comment_id":7817016,"body_markdown":"What do you mean by exit an if condition? You normally only use break in switch statements, or in loops, and you use return when you want to return to the invoker of a method. Doesn&#39;t matter if you are using Android or not. The answer is still the same :)","body":"What do you mean by exit an if condition? You normally only use break in switch statements, or in loops, and you use return when you want to return to the invoker of a method. Doesn&#39;t matter if you are using Android or not. The answer is still the same :)"},{"owner":{"account_id":297964,"reputation":54062,"user_id":603744,"accept_rate":91,"display_name":"Andro Selva"},"score":0,"creation_date":1310108346,"post_id":6620949,"comment_id":7817028,"body_markdown":"I mean, if the condition is not satisfied, I don&#39;t want further executions.","body":"I mean, if the condition is not satisfied, I don&#39;t want further executions."},{"owner":{"account_id":110937,"reputation":10882,"user_id":293330,"display_name":"Kaj"},"score":0,"creation_date":1310108423,"post_id":6620949,"comment_id":7817042,"body_markdown":"You should in that case return.","body":"You should in that case return."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1571132138,"post_id":6620949,"comment_id":103129533,"body_markdown":"The difference is that they are not the same, and that they respectively obey their specifications in the Java Language Specification. And there is *no* way in Java to &#39;exit from an `if` condition&#39;.","body":"The difference is that they are not the same, and that they respectively obey their specifications in the Java Language Specification. And there is <i>no</i> way in Java to &#39;exit from an <code>if</code> condition&#39;."}],"answers":[{"tags":[],"owner":{"account_id":88922,"reputation":28816,"user_id":245679,"accept_rate":99,"display_name":"MD Sayem Ahmed"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1571132226,"creation_date":1310108138,"answer_id":6620968,"question_id":6620949,"body_markdown":"You won&#39;t be able to exit only from an `if` condition using either `return` or `break`.\r\n\r\n`return` is used when you need to return from a method after its execution is finished when you don&#39;t want to execute the rest of the method code. So if you use `return`, then you will not only return from your `if` condition, but also from the whole method.\r\n\r\nConsider the following method:\r\n\r\n    public void myMethod()\r\n    {\r\n        int i = 10;\r\n   \r\n        if(i==10)\r\n            return;\r\n\r\n        System.out.println(&quot;This will never be printed&quot;);\r\n    }\r\n\r\nHere, using `return` causes to stop the execution of the whole method after line 3 and execution goes back to its caller. \r\n\r\n`break` is used to break out from a `loop` or a `switch` statement. Consider this example - \r\n\r\n    int i;\r\n    \r\n    for(int j=0; j&lt;10; j++)\r\n    {\r\n        for(i=0; i&lt;10; i++)\r\n        {\r\n            if(i==0)\r\n                break;        // This break will cause the loop (innermost) to stop just after one iteration;\r\n        }\r\n\r\n        if(j==0)\r\n            break;    // and then this break will cause the outermost loop to stop.\r\n    }\r\n\r\n    switch(i)\r\n    {\r\n        case 0: break;    // This break will cause execution to skip executing the second case statement\r\n    \r\n        case 1: System.out.println(&quot;This will also never be printed&quot;);\r\n    }\r\n\r\nThis type of `break` statement is known as `unlabeled break` statement. There is another form of break, which is called `labeled break`. Consider this example - \r\n\r\n    int[][] arrayOfInts = { { 32, 87, 3, 589 },\r\n                                { 12, 1076, 2000, 8 },\r\n                                { 622, 127, 77, 955 }\r\n                              };\r\n    int searchfor = 12;\r\n\r\n    int i;\r\n    int j = 0;\r\n    boolean foundIt = false;\r\n\r\n    search:\r\n        for (i = 0; i &lt; arrayOfInts.length; i++)\r\n        {\r\n            for (j = 0; j &lt; arrayOfInts[i].length; j++)\r\n            {\r\n                if (arrayOfInts[i][j] == searchfor)\r\n                {\r\n                    foundIt = true;\r\n                    break search;\r\n                }\r\n            }\r\n        }\r\n\r\nThis example uses nested for loops to search for a value in a two-dimensional array. When the value is found, a labeled break terminates the outer for loop (labeled &quot;search&quot;).\r\n\r\nYou can learn more abour `break` and `return` statements from &lt;a href=&quot;http://download.oracle.com/javase/tutorial/java/nutsandbolts/branch.html&quot;&gt;`JavaDoc`&lt;/a&gt;.","title":"Difference between Return and Break statements","body":"<p>You won't be able to exit only from an <code>if</code> condition using either <code>return</code> or <code>break</code>.</p>\n\n<p><code>return</code> is used when you need to return from a method after its execution is finished when you don't want to execute the rest of the method code. So if you use <code>return</code>, then you will not only return from your <code>if</code> condition, but also from the whole method.</p>\n\n<p>Consider the following method:</p>\n\n<pre><code>public void myMethod()\n{\n    int i = 10;\n\n    if(i==10)\n        return;\n\n    System.out.println(\"This will never be printed\");\n}\n</code></pre>\n\n<p>Here, using <code>return</code> causes to stop the execution of the whole method after line 3 and execution goes back to its caller. </p>\n\n<p><code>break</code> is used to break out from a <code>loop</code> or a <code>switch</code> statement. Consider this example - </p>\n\n<pre><code>int i;\n\nfor(int j=0; j&lt;10; j++)\n{\n    for(i=0; i&lt;10; i++)\n    {\n        if(i==0)\n            break;        // This break will cause the loop (innermost) to stop just after one iteration;\n    }\n\n    if(j==0)\n        break;    // and then this break will cause the outermost loop to stop.\n}\n\nswitch(i)\n{\n    case 0: break;    // This break will cause execution to skip executing the second case statement\n\n    case 1: System.out.println(\"This will also never be printed\");\n}\n</code></pre>\n\n<p>This type of <code>break</code> statement is known as <code>unlabeled break</code> statement. There is another form of break, which is called <code>labeled break</code>. Consider this example - </p>\n\n<pre><code>int[][] arrayOfInts = { { 32, 87, 3, 589 },\n                            { 12, 1076, 2000, 8 },\n                            { 622, 127, 77, 955 }\n                          };\nint searchfor = 12;\n\nint i;\nint j = 0;\nboolean foundIt = false;\n\nsearch:\n    for (i = 0; i &lt; arrayOfInts.length; i++)\n    {\n        for (j = 0; j &lt; arrayOfInts[i].length; j++)\n        {\n            if (arrayOfInts[i][j] == searchfor)\n            {\n                foundIt = true;\n                break search;\n            }\n        }\n    }\n</code></pre>\n\n<p>This example uses nested for loops to search for a value in a two-dimensional array. When the value is found, a labeled break terminates the outer for loop (labeled \"search\").</p>\n\n<p>You can learn more abour <code>break</code> and <code>return</code> statements from <a href=\"http://download.oracle.com/javase/tutorial/java/nutsandbolts/branch.html\" rel=\"noreferrer\"><code>JavaDoc</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":104853,"reputation":8531,"user_id":280104,"accept_rate":86,"display_name":"Avada Kedavra"},"down_vote_count":0,"up_vote_count":145,"is_accepted":false,"score":145,"last_activity_date":1310145565,"creation_date":1310108239,"answer_id":6620985,"question_id":6620949,"body_markdown":"`break` is used to exit (escape) the `for`-loop, `while`-loop, `switch`-statement that you are currently executing.\r\n\r\n`return` will exit the entire method you are currently executing (and possibly return a value to the caller, optional).\r\n\r\nSo to answer your question (as others have noted in comments and answers) you cannot use either `break` nor `return` to escape an `if-else`-statement per se. They are used to escape other scopes. \r\n___\r\nConsider the following example. The value of `x` inside the `while`-loop will determine if the code below the loop will be executed or not:\r\n\r\n    void f()\r\n    {\r\n       int x = -1;\r\n       while(true)\r\n       {\r\n         if(x == 0)\r\n            break;         // escape while() and jump to execute code after the the loop \r\n         else if(x == 1)\r\n            return;        // will end the function f() immediately,\r\n                           // no further code inside this method will be executed.\r\n       \r\n         do stuff and eventually set variable x to either 0 or 1\r\n         ...\r\n       }\r\n    \r\n       code that will be executed on break (but not with return).\r\n       ....\r\n    }\r\n","title":"Difference between Return and Break statements","body":"<p><code>break</code> is used to exit (escape) the <code>for</code>-loop, <code>while</code>-loop, <code>switch</code>-statement that you are currently executing.</p>\n\n<p><code>return</code> will exit the entire method you are currently executing (and possibly return a value to the caller, optional).</p>\n\n<p>So to answer your question (as others have noted in comments and answers) you cannot use either <code>break</code> nor <code>return</code> to escape an <code>if-else</code>-statement per se. They are used to escape other scopes. </p>\n\n<hr>\n\n<p>Consider the following example. The value of <code>x</code> inside the <code>while</code>-loop will determine if the code below the loop will be executed or not:</p>\n\n<pre><code>void f()\n{\n   int x = -1;\n   while(true)\n   {\n     if(x == 0)\n        break;         // escape while() and jump to execute code after the the loop \n     else if(x == 1)\n        return;        // will end the function f() immediately,\n                       // no further code inside this method will be executed.\n\n     do stuff and eventually set variable x to either 0 or 1\n     ...\n   }\n\n   code that will be executed on break (but not with return).\n   ....\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":427973,"reputation":3201,"user_id":810007,"accept_rate":50,"display_name":"Ovais Khatri"},"down_vote_count":3,"up_vote_count":92,"is_accepted":true,"score":89,"last_activity_date":1533098941,"creation_date":1310108261,"answer_id":6620991,"question_id":6620949,"body_markdown":"`break` is used when you want to exit from the loop, while `return` is used to go back to the step where it was called or to stop further execution.","title":"Difference between Return and Break statements","body":"<p><code>break</code> is used when you want to exit from the loop, while <code>return</code> is used to go back to the step where it was called or to stop further execution.</p>\n"},{"tags":[],"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1310108545,"creation_date":1310108545,"answer_id":6621039,"question_id":6620949,"body_markdown":"`break` breaks the current loop and continues, while `return` it will break the current method and continues from where you called that method","title":"Difference between Return and Break statements","body":"<p><code>break</code> breaks the current loop and continues, while <code>return</code> it will break the current method and continues from where you called that method</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1310108552,"creation_date":1310108552,"answer_id":6621041,"question_id":6620949,"body_markdown":"No offence, but none of the other answers (so far) has it quite right.\r\n\r\n`break` is used to immediately terminate a `for` loop, a `while` loop or a `switch` statement. You can not `break` from an `if` block.\r\n\r\n`return` is used the terminate a method (and possibly return a value).\r\n\r\nA `return` within any loop or block will of course also immediately terminate that loop/block.\r\n","title":"Difference between Return and Break statements","body":"<p>No offence, but none of the other answers (so far) has it quite right.</p>\n\n<p><code>break</code> is used to immediately terminate a <code>for</code> loop, a <code>while</code> loop or a <code>switch</code> statement. You can not <code>break</code> from an <code>if</code> block.</p>\n\n<p><code>return</code> is used the terminate a method (and possibly return a value).</p>\n\n<p>A <code>return</code> within any loop or block will of course also immediately terminate that loop/block.</p>\n"},{"tags":[],"owner":{"account_id":366415,"reputation":4873,"user_id":711926,"accept_rate":98,"display_name":"Benny Tjia"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1310108556,"creation_date":1310108556,"answer_id":6621043,"question_id":6620949,"body_markdown":"If you want to exit from a simple `if else` statement but still stays within a particular context (not by returning to the calling context), you can just set the block condition to false:\r\n\r\n    if(condition){\r\n    //do stuff\r\n       if(something happens)\r\n            condition = false;\r\n    }\r\n\r\nThis will guarantee that there is no further execution, the way I think you want it..You can only use break in a `loop` or `switch case`","title":"Difference between Return and Break statements","body":"<p>If you want to exit from a simple <code>if else</code> statement but still stays within a particular context (not by returning to the calling context), you can just set the block condition to false:</p>\n\n<pre><code>if(condition){\n//do stuff\n   if(something happens)\n        condition = false;\n}\n</code></pre>\n\n<p>This will guarantee that there is no further execution, the way I think you want it..You can only use break in a <code>loop</code> or <code>switch case</code></p>\n"},{"tags":[],"owner":{"account_id":47598,"reputation":30707,"user_id":141081,"display_name":"Dirk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1310108639,"creation_date":1310108639,"answer_id":6621055,"question_id":6620949,"body_markdown":"Return will exit from the method, as others have already pointed out. If you need to skip just over some part of the method, you can use break, even without a loop:\r\n\r\n    label: if (some condition) {\r\n        // some stuff...\r\n        if (some other condition) break label;\r\n        // more stuff...\r\n   }\r\n\r\nNote, that this is usually not good style, though useful sometimes.","title":"Difference between Return and Break statements","body":"<p>Return will exit from the method, as others have already pointed out. If you need to skip just over some part of the method, you can use break, even without a loop:</p>\n\n<pre><code>label: if (some condition) {\n    // some stuff...\n    if (some other condition) break label;\n    // more stuff...\n</code></pre>\n\n<p>}</p>\n\n<p>Note, that this is usually not good style, though useful sometimes.</p>\n"},{"tags":[],"owner":{"account_id":277568,"reputation":11799,"user_id":571648,"accept_rate":68,"display_name":"erdomester"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1310108727,"creation_date":1310108727,"answer_id":6621065,"question_id":6620949,"body_markdown":"In this code i is iterated till 3 then the loop ends;\r\n\r\n    int function (void)\r\n    {\r\n        for (int i=0; i&lt;5; i++)\r\n        {\r\n          if (i == 3)\r\n          {\r\n             break;\r\n          }\r\n        }\r\n    }\r\n\r\nIn this code i is iterated till 3 but with an output;\r\n\r\n    int function (void)\r\n    {\r\n        for (int i=0; i&lt;5; i++)\r\n        {\r\n          if (i == 3)\r\n          {\r\n             return i;\r\n          }\r\n        }\r\n    }\r\n","title":"Difference between Return and Break statements","body":"<p>In this code i is iterated till 3 then the loop ends;</p>\n\n<pre><code>int function (void)\n{\n    for (int i=0; i&lt;5; i++)\n    {\n      if (i == 3)\n      {\n         break;\n      }\n    }\n}\n</code></pre>\n\n<p>In this code i is iterated till 3 but with an output;</p>\n\n<pre><code>int function (void)\n{\n    for (int i=0; i&lt;5; i++)\n    {\n      if (i == 3)\n      {\n         return i;\n      }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2252961,"reputation":1,"user_id":1984807,"display_name":"Techbrick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1358362083,"creation_date":1358362083,"answer_id":14365508,"question_id":6620949,"body_markdown":"break just breaks the loop &amp; return gets control back to the caller method.","title":"Difference between Return and Break statements","body":"<p>break just breaks the loop &amp; return gets control back to the caller method.</p>\n"},{"tags":[],"owner":{"account_id":1702872,"reputation":1550,"user_id":1562521,"display_name":"DcodeChef"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1358363045,"creation_date":1358363045,"answer_id":14365783,"question_id":6620949,"body_markdown":"\r\n\r\n**How does a return statement differ from break statement?.**\r\nReturn statement exits current method execution and returns value to calling method.\r\nBreak is used to exit from any loop.\r\n\r\n**If I have to exit an if condition, which one should I prefer, return or break?**\r\n\r\nTo exit from method execution use return.\r\nto exit from any loop you can use either break or return based on your requirement.\r\n\r\n","title":"Difference between Return and Break statements","body":"<p><strong>How does a return statement differ from break statement?.</strong>\nReturn statement exits current method execution and returns value to calling method.\nBreak is used to exit from any loop.</p>\n\n<p><strong>If I have to exit an if condition, which one should I prefer, return or break?</strong></p>\n\n<p>To exit from method execution use return.\nto exit from any loop you can use either break or return based on your requirement.</p>\n"},{"tags":[],"owner":{"account_id":7634572,"reputation":129,"user_id":5788495,"display_name":"nana janashia"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1651239429,"creation_date":1466529314,"answer_id":37950671,"question_id":6620949,"body_markdown":"You use **break** to break out of a loop or a switch statement. \r\n\r\nYou use **return** in a function to return a value. Return statement ends the function and returns control to where the function was called. ","title":"Difference between Return and Break statements","body":"<p>You use <strong>break</strong> to break out of a loop or a switch statement.</p>\n<p>You use <strong>return</strong> in a function to return a value. Return statement ends the function and returns control to where the function was called.</p>\n"},{"tags":[],"owner":{"account_id":7575833,"reputation":55,"user_id":5748255,"display_name":"Shubhendu Pathak"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1484917405,"creation_date":1484916105,"answer_id":41763970,"question_id":6620949,"body_markdown":"break:- These transfer statement bypass the correct flow of execution to outside \r\nof the current loop by skipping on the remaining iteration \r\n\r\n    class test\r\n    {\r\n        public static void main(String []args)\r\n        {\r\n            for(int i=0;i&lt;10;i++)\r\n            {\r\n                if(i==5)\r\n                break;\r\n            }\r\n            System.out.println(i);\r\n        }\r\n    } \r\n \r\n    output will be \r\n    0\r\n    1\r\n    2\r\n    3\r\n    4\r\n\r\n\r\n\r\nContinue :-These transfer Statement will bypass the flow of execution to starting point of the loop inorder to continue with next iteration by skipping all the remaining instructions .\r\n\r\n    class test\r\n    {\r\n        public static void main(String []args)\r\n        {\r\n            for(int i=0;i&lt;10;i++)\r\n            {\r\n                if(i==5)\r\n                continue;\r\n            }\r\n            System.out.println(i);\r\n        }\r\n    } \r\n\r\n    output will be:\r\n    0\r\n    1\r\n    2\r\n    3\r\n    4\r\n    6\r\n    7\r\n    8\r\n    9 \r\n\r\nreturn :-\r\nAt any time in a method the return statement can be\r\nused to cause execution to branch back to the caller of the method. \r\nThus, the return statement immediately terminates the method in which\r\nit is executed. The following example illustrates this point. Here,\r\nreturn causes execution to return to the Java run-time system,\r\nsince it is the run-time system that calls main( ).\r\n\r\n\r\n    class test\r\n    {\r\n        public static void main(String []args)\r\n        {\r\n            for(int i=0;i&lt;10;i++)\r\n            {\r\n                if(i==5)\r\n                return;\r\n            }\r\n            System.out.println(i)\r\n        }\r\n    } \r\n\r\n\r\n    output will be :\r\n    0\r\n    1\r\n    2\r\n    3\r\n    4\r\n\r\n","title":"Difference between Return and Break statements","body":"<p>break:- These transfer statement bypass the correct flow of execution to outside \nof the current loop by skipping on the remaining iteration </p>\n\n<pre><code>class test\n{\n    public static void main(String []args)\n    {\n        for(int i=0;i&lt;10;i++)\n        {\n            if(i==5)\n            break;\n        }\n        System.out.println(i);\n    }\n} \n\noutput will be \n0\n1\n2\n3\n4\n</code></pre>\n\n<p>Continue :-These transfer Statement will bypass the flow of execution to starting point of the loop inorder to continue with next iteration by skipping all the remaining instructions .</p>\n\n<pre><code>class test\n{\n    public static void main(String []args)\n    {\n        for(int i=0;i&lt;10;i++)\n        {\n            if(i==5)\n            continue;\n        }\n        System.out.println(i);\n    }\n} \n\noutput will be:\n0\n1\n2\n3\n4\n6\n7\n8\n9 \n</code></pre>\n\n<p>return :-\nAt any time in a method the return statement can be\nused to cause execution to branch back to the caller of the method. \nThus, the return statement immediately terminates the method in which\nit is executed. The following example illustrates this point. Here,\nreturn causes execution to return to the Java run-time system,\nsince it is the run-time system that calls main( ).</p>\n\n<pre><code>class test\n{\n    public static void main(String []args)\n    {\n        for(int i=0;i&lt;10;i++)\n        {\n            if(i==5)\n            return;\n        }\n        System.out.println(i)\n    }\n} \n\n\noutput will be :\n0\n1\n2\n3\n4\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8202963,"reputation":461,"user_id":6173702,"display_name":"R G"},"down_vote_count":3,"up_vote_count":11,"is_accepted":false,"score":8,"last_activity_date":1512725773,"creation_date":1512725194,"answer_id":47711236,"question_id":6620949,"body_markdown":"`Break` statement will break the whole loop and execute the code after loop  and `Return` will not execute the code after that `return` statement and execute the loop with next increment.\r\n\r\n\r\n**Break**\r\n\r\n    for(int i=0;i&lt;5;i++){\r\n        print(i)\r\n        if(i==2)\r\n        {\r\n          break;\r\n        }\r\n    }\r\n\r\noutput: 0 1\r\n\r\n**return**\r\n\r\n    for(int i=0;i&lt;5;i++)\r\n    {\r\n       print(i)\r\n       if(i==2)\r\n       {\r\n        return;\r\n       }\r\n    }\r\n\r\noutput: 0 1 3 4\r\n\r\n\r\n","title":"Difference between Return and Break statements","body":"<p><code>Break</code> statement will break the whole loop and execute the code after loop  and <code>Return</code> will not execute the code after that <code>return</code> statement and execute the loop with next increment.</p>\n\n<p><strong>Break</strong></p>\n\n<pre><code>for(int i=0;i&lt;5;i++){\n    print(i)\n    if(i==2)\n    {\n      break;\n    }\n}\n</code></pre>\n\n<p>output: 0 1</p>\n\n<p><strong>return</strong></p>\n\n<pre><code>for(int i=0;i&lt;5;i++)\n{\n   print(i)\n   if(i==2)\n   {\n    return;\n   }\n}\n</code></pre>\n\n<p>output: 0 1 3 4</p>\n"},{"tags":[],"owner":{"account_id":4612028,"reputation":146,"user_id":3739822,"accept_rate":100,"display_name":"Imranul Hoque Limon"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1571132284,"creation_date":1571132284,"answer_id":58391629,"question_id":6620949,"body_markdown":"Break will only stop the loop while return inside a loop will stop the loop and return from the function.","title":"Difference between Return and Break statements","body":"<p>Break will only stop the loop while return inside a loop will stop the loop and return from the function.</p>\n"},{"tags":[],"owner":{"account_id":14475772,"reputation":353,"user_id":10456453,"display_name":"Raza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678108203,"creation_date":1678108203,"answer_id":75651270,"question_id":6620949,"body_markdown":"Break: Break statement will break the nearest loop or conditional statement and transfers the control to the statement that follows the terminated statement.\r\n\r\nReturn: Return statement will break the execution of the method in which it appears and return function result and control to the caller if any.\r\n\r\nIf function doesn&#39;t compute any value return can be used without any expression.\r\n\r\nFind the code sn\r\n\r\nReturn Code :::\r\n\r\n    public class ReturnStatement {\r\n    public static void main(String[] args) {\r\n        var names = new String[]{&quot;Jonas&quot;, &quot;Sara&quot;, &quot;Michael&quot;, &quot;June&quot;, &quot;Jamie&quot;};\r\n\r\n        for (String name: names) {\r\n            if (name.startsWith(&quot;M&quot;)) {\r\n                return;\r\n            }\r\n            System.out.println(name);\r\n        }\r\n        System.out.println(&quot;Main method ends here&quot;);\r\n    }\r\n}\r\n\r\n[![Return Statement][1]][1]\r\n\r\n\r\nBreak Code :::\r\n\r\n    public class BreakStatement {\r\n    public static void main(String[] args) {\r\n        var names = new String[]{&quot;Jonas&quot;, &quot;Sara&quot;, &quot;Michael&quot;, &quot;June&quot;, &quot;Jamie&quot;};\r\n\r\n        for (String name: names) {\r\n            if (name.startsWith(&quot;M&quot;)) {\r\n                break;\r\n            }\r\n            System.out.println(name);\r\n        }\r\n        System.out.println(&quot;Main method ends here&quot;);\r\n    }\r\n}\r\n\r\n[![Break Statement Code][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jqwmA.png\r\n  [2]: https://i.stack.imgur.com/S0vjS.png","title":"Difference between Return and Break statements","body":"<p>Break: Break statement will break the nearest loop or conditional statement and transfers the control to the statement that follows the terminated statement.</p>\n<p>Return: Return statement will break the execution of the method in which it appears and return function result and control to the caller if any.</p>\n<p>If function doesn't compute any value return can be used without any expression.</p>\n<p>Find the code sn</p>\n<p>Return Code :::</p>\n<pre><code>public class ReturnStatement {\npublic static void main(String[] args) {\n    var names = new String[]{&quot;Jonas&quot;, &quot;Sara&quot;, &quot;Michael&quot;, &quot;June&quot;, &quot;Jamie&quot;};\n\n    for (String name: names) {\n        if (name.startsWith(&quot;M&quot;)) {\n            return;\n        }\n        System.out.println(name);\n    }\n    System.out.println(&quot;Main method ends here&quot;);\n}\n</code></pre>\n<p>}</p>\n<p><a href=\"https://i.stack.imgur.com/jqwmA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jqwmA.png\" alt=\"Return Statement\" /></a></p>\n<p>Break Code :::</p>\n<pre><code>public class BreakStatement {\npublic static void main(String[] args) {\n    var names = new String[]{&quot;Jonas&quot;, &quot;Sara&quot;, &quot;Michael&quot;, &quot;June&quot;, &quot;Jamie&quot;};\n\n    for (String name: names) {\n        if (name.startsWith(&quot;M&quot;)) {\n            break;\n        }\n        System.out.println(name);\n    }\n    System.out.println(&quot;Main method ends here&quot;);\n}\n</code></pre>\n<p>}</p>\n<p><a href=\"https://i.stack.imgur.com/S0vjS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S0vjS.png\" alt=\"Break Statement Code\" /></a></p>\n"}],"owner":{"account_id":297964,"reputation":54062,"user_id":603744,"accept_rate":91,"display_name":"Andro Selva"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":246403,"favorite_count":0,"down_vote_count":3,"up_vote_count":95,"accepted_answer_id":6620991,"answer_count":15,"score":92,"last_activity_date":1678108203,"creation_date":1310108051,"question_id":6620949,"body_markdown":"How does a `return` statement differ from `break` statement?. \r\n&lt;br&gt;If I have to exit an if condition, which one should I prefer, `return` or `break`?","title":"Difference between Return and Break statements","body":"<p>How does a <code>return</code> statement differ from <code>break</code> statement?. \n<br>If I have to exit an if condition, which one should I prefer, <code>return</code> or <code>break</code>?</p>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9395,"page":597,"page_size":100}
