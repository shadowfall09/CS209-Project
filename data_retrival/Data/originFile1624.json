{"items":[{"tags":["java","exception","jar","apache-commons"],"comments":[{"owner":{"account_id":1000314,"reputation":12261,"user_id":1015327,"display_name":"JimmyB"},"score":0,"creation_date":1429006642,"post_id":29624501,"comment_id":47392905,"body_markdown":"See [this](http://stackoverflow.com/a/1500166/1015327) answer, for example.","body":"See <a href=\"http://stackoverflow.com/a/1500166/1015327\">this</a> answer, for example."},{"owner":{"account_id":79562,"reputation":5265,"user_id":225503,"accept_rate":57,"display_name":"Diego Freniche"},"score":0,"creation_date":1429008098,"post_id":29624501,"comment_id":47393764,"body_markdown":"Think [this answer](http://stackoverflow.com/a/1983870/225503) will solve your problem. Also, [this other one, showing how to print where all classes are loaded from](http://stackoverflow.com/a/947216/225503) could help","body":"Think <a href=\"http://stackoverflow.com/a/1983870/225503\">this answer</a> will solve your problem. Also, <a href=\"http://stackoverflow.com/a/947216/225503\">this other one, showing how to print where all classes are loaded from</a> could help"}],"answers":[{"tags":[],"owner":{"account_id":907854,"reputation":15741,"user_id":942391,"accept_rate":57,"display_name":"Sumit Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1429006143,"creation_date":1429006057,"answer_id":29624579,"question_id":29624501,"body_markdown":"There is no way you can find which jar have which class file. You can only find out package structure of missing class like `org/apache/commons/httpclient` based on that if you can guess which jar is missing.\r\n\r\nAnd its hard because any jar can have classes in any package structure.\r\n\r\n","title":"Identify missing jars from exception type - Java","body":"<p>There is no way you can find which jar have which class file. You can only find out package structure of missing class like <code>org/apache/commons/httpclient</code> based on that if you can guess which jar is missing.</p>\n\n<p>And its hard because any jar can have classes in any package structure.</p>\n"},{"tags":[],"owner":{"account_id":5647391,"reputation":157,"user_id":4469021,"display_name":"vasa.v03"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1429009166,"creation_date":1429009166,"answer_id":29625641,"question_id":29624501,"body_markdown":"I use findjar (http://findjar.com/index.x) to know which jar will contain a specific class based on which i will investigate whether jar is in classpath or not\r\n","title":"Identify missing jars from exception type - Java","body":"<p>I use findjar (<a href=\"http://findjar.com/index.x\" rel=\"nofollow\">http://findjar.com/index.x</a>) to know which jar will contain a specific class based on which i will investigate whether jar is in classpath or not</p>\n"},{"tags":[],"owner":{"account_id":14667707,"reputation":194,"user_id":10593076,"display_name":"IvanMikhalka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643922036,"creation_date":1643922036,"answer_id":70978236,"question_id":29624501,"body_markdown":"As was meant above, java compiler gives us info about missing classes, not jars.\r\nYou can try find jar, containing particular class by its short or fully specified name, for example `org/apache/commons/httpclient/HttpMethod`,\r\nusing web resources, as [jar-download.com][1], [findjar.com][2] or [search.maven.org][3]\r\n\r\n\r\n  [1]: https://jar-download.com\r\n  [2]: https://www.findjar.com/\r\n  [3]: https://search.maven.org/","title":"Identify missing jars from exception type - Java","body":"<p>As was meant above, java compiler gives us info about missing classes, not jars.\nYou can try find jar, containing particular class by its short or fully specified name, for example <code>org/apache/commons/httpclient/HttpMethod</code>,\nusing web resources, as <a href=\"https://jar-download.com\" rel=\"nofollow noreferrer\">jar-download.com</a>, <a href=\"https://www.findjar.com/\" rel=\"nofollow noreferrer\">findjar.com</a> or <a href=\"https://search.maven.org/\" rel=\"nofollow noreferrer\">search.maven.org</a></p>\n"}],"owner":{"account_id":4792902,"reputation":5097,"user_id":3871551,"accept_rate":50,"display_name":"Leo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1121,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1643922036,"creation_date":1429005836,"question_id":29624501,"body_markdown":"If an exception occurs due to a missing jar file, then is there any way to back track and find out the missing jar file?\r\n\r\nSuppose the following exception:\r\n\r\n&gt; java.lang.NoClassDefFoundError:\r\n&gt; org/apache/commons/httpclient/HttpMethod\r\n\r\nwhich is caused by missing **commons-httpclient-3.0.1.jar** file.","title":"Identify missing jars from exception type - Java","body":"<p>If an exception occurs due to a missing jar file, then is there any way to back track and find out the missing jar file?</p>\n\n<p>Suppose the following exception:</p>\n\n<blockquote>\n  <p>java.lang.NoClassDefFoundError:\n  org/apache/commons/httpclient/HttpMethod</p>\n</blockquote>\n\n<p>which is caused by missing <strong>commons-httpclient-3.0.1.jar</strong> file.</p>\n"},{"tags":["java","jasper-reports"],"comments":[{"owner":{"account_id":6887735,"reputation":21370,"user_id":5292302,"accept_rate":100,"display_name":"Petter Friberg"},"score":1,"creation_date":1562866288,"post_id":56992235,"comment_id":100523305,"body_markdown":"Use ternary operator instead","body":"Use ternary operator instead"},{"owner":{"account_id":469619,"reputation":22464,"user_id":876298,"display_name":"Alex K"},"score":0,"creation_date":1562866326,"post_id":56992235,"comment_id":100523325,"body_markdown":"@DavidSantos You should post small and full jrxml and full stacktrace","body":"@DavidSantos You should post small and full jrxml and full stacktrace"},{"owner":{"account_id":958762,"reputation":4773,"user_id":983559,"display_name":"dada67"},"score":2,"creation_date":1562919793,"post_id":56992235,"comment_id":100539002,"body_markdown":"Make sure you have a jasperreports-functions jar on your application&#39;s classpath.  If you do have the jar, post the full exception stacktrace (including Caused by.. lines).","body":"Make sure you have a jasperreports-functions jar on your application&#39;s classpath.  If you do have the jar, post the full exception stacktrace (including Caused by.. lines)."},{"owner":{"account_id":9333725,"reputation":289,"user_id":6928624,"display_name":"DavElsanto"},"score":0,"creation_date":1562949049,"post_id":56992235,"comment_id":100554435,"body_markdown":"Error given is because I&#39;m using expressions","body":"Error given is because I&#39;m using expressions"}],"answers":[{"tags":[],"owner":{"account_id":11889649,"reputation":1404,"user_id":8700934,"display_name":"Lakshan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563108093,"creation_date":1563108093,"answer_id":57027544,"question_id":56992235,"body_markdown":"try with ternary operator,\n\n    $F{jdpmarc}.equals(&quot;&quot;) ? new java.math.BigDecimal(0) : $F{jdpprit}","title":"JasperReports Error evaluating expression for source text","body":"<p>try with ternary operator,</p>\n\n<pre><code>$F{jdpmarc}.equals(\"\") ? new java.math.BigDecimal(0) : $F{jdpprit}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":931599,"reputation":712,"user_id":961398,"accept_rate":85,"display_name":"Rog&#233;rio Arantes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643921815,"creation_date":1643921815,"answer_id":70978186,"question_id":56992235,"body_markdown":"As suggested by @dada67, for me it was enough to add jasperreports-functions-xxx.jar (in my case, I&#39;m using version 6.6.0)","title":"JasperReports Error evaluating expression for source text","body":"<p>As suggested by @dada67, for me it was enough to add jasperreports-functions-xxx.jar (in my case, I'm using version 6.6.0)</p>\n"}],"owner":{"account_id":9333725,"reputation":289,"user_id":6928624,"display_name":"DavElsanto"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6311,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1643921815,"creation_date":1562857401,"question_id":56992235,"body_markdown":"When I tested the report on JasperSoft Studio it&#39;s working fine.\r\n\r\n[![error][1]][1]\r\n\r\nbut when I exported report and test it on my main project I get this error:\r\n\r\n&gt; Error evaluating expression for source text:\r\n&gt; IF($F{jdpmarc}.equals(&quot;&quot;),new java.math.BigDecimal(0),$F{jdpprit})\r\n\r\nI have tried these things:\r\n\r\nChanging this expression because it&#39;s a BigDecimal operation\r\n\r\n    IF($F{jdpmarc}.equals(&quot;&quot;), 0,$F{jdpprit})\r\n\r\nfor this\r\n\r\n    IF($F{jdpmarc}.equals(&quot;&quot;),new java.math.BigDecimal(0),$F{jdpprit})\r\n\r\nthis is my code:\r\n\r\n    Connection conn = (Connection) DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/db&quot;,&quot;user&quot;, &quot;password&quot;);\r\n\t\t\r\n\t\tHashMap&lt;String, Object&gt; data = new HashMap&lt;String, Object&gt;();\r\n\t\tdata.put(&quot;Proforma&quot;, 67929);\r\n\t\t\r\n\t\tString reportPath = &quot;ReporteIva.jasper&quot;;\r\n\t\t\r\n\t\tJasperPrint report = JasperFillManager.fillReport(reportPath, data, conn);\r\n\t\t\r\n\t\tJasperViewer viewer = new JasperViewer(report);\r\n\t\tviewer.setVisible(true);\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hsccn.png","title":"JasperReports Error evaluating expression for source text","body":"<p>When I tested the report on JasperSoft Studio it's working fine.</p>\n\n<p><a href=\"https://i.stack.imgur.com/hsccn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hsccn.png\" alt=\"error\"></a></p>\n\n<p>but when I exported report and test it on my main project I get this error:</p>\n\n<blockquote>\n  <p>Error evaluating expression for source text:\n  IF($F{jdpmarc}.equals(\"\"),new java.math.BigDecimal(0),$F{jdpprit})</p>\n</blockquote>\n\n<p>I have tried these things:</p>\n\n<p>Changing this expression because it's a BigDecimal operation</p>\n\n<pre><code>IF($F{jdpmarc}.equals(\"\"), 0,$F{jdpprit})\n</code></pre>\n\n<p>for this</p>\n\n<pre><code>IF($F{jdpmarc}.equals(\"\"),new java.math.BigDecimal(0),$F{jdpprit})\n</code></pre>\n\n<p>this is my code:</p>\n\n<pre><code>Connection conn = (Connection) DriverManager.getConnection(\"jdbc:mysql://localhost:3306/db\",\"user\", \"password\");\n\n    HashMap&lt;String, Object&gt; data = new HashMap&lt;String, Object&gt;();\n    data.put(\"Proforma\", 67929);\n\n    String reportPath = \"ReporteIva.jasper\";\n\n    JasperPrint report = JasperFillManager.fillReport(reportPath, data, conn);\n\n    JasperViewer viewer = new JasperViewer(report);\n    viewer.setVisible(true);\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":17506161,"reputation":121,"user_id":12695327,"display_name":"UnBanned"},"score":0,"creation_date":1643975303,"post_id":70978010,"comment_id":125487659,"body_markdown":"If you don&#39;t want users to be able to edit the text then what is the point of using editText in the first place?","body":"If you don&#39;t want users to be able to edit the text then what is the point of using editText in the first place?"},{"owner":{"account_id":2391592,"reputation":5764,"user_id":2091346,"accept_rate":82,"display_name":"Arif YILMAZ"},"score":0,"creation_date":1643979205,"post_id":70978010,"comment_id":125488968,"body_markdown":"@UnBanned, I want users to input values by scanning barcodes.","body":"@UnBanned, I want users to input values by scanning barcodes."},{"owner":{"account_id":17506161,"reputation":121,"user_id":12695327,"display_name":"UnBanned"},"score":0,"creation_date":1644331890,"post_id":70978010,"comment_id":125574875,"body_markdown":"I understood that, but I don&#39;t get why you wouldn&#39;t use a TextView and just do textView.SetText(barcodeStr) &#129300;","body":"I understood that, but I don&#39;t get why you wouldn&#39;t use a TextView and just do textView.SetText(barcodeStr) 🤔"}],"answers":[{"tags":[],"owner":{"account_id":1825184,"reputation":980,"user_id":1658191,"accept_rate":60,"display_name":"prashantwosti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643921688,"creation_date":1643921688,"answer_id":70978153,"question_id":70978010,"body_markdown":"This might help if you want to block focus on your editText.\r\n\r\n   \r\n    android:focusableInTouchMode=&quot;true&quot;\r\n    android:cursorVisible=&quot;false&quot;\r\n    android:focusable=&quot;false&quot;","title":"Never display SoftKeyboard on Android","body":"<p>This might help if you want to block focus on your editText.</p>\n<pre><code>android:focusableInTouchMode=&quot;true&quot;\nandroid:cursorVisible=&quot;false&quot;\nandroid:focusable=&quot;false&quot;\n</code></pre>\n"}],"owner":{"account_id":2391592,"reputation":5764,"user_id":2091346,"accept_rate":82,"display_name":"Arif YILMAZ"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643921688,"creation_date":1643920935,"question_id":70978010,"body_markdown":"I am trying to write an Android app, which shouldn&#39;t let users use SoftKeyboard. Because, I want users to scan barcodes to input into editText. I don&#39;t want SoftKeyboard to show up.\r\n\r\nI read many articles and pages on Stack-overflow, and all suggest me to use the below line\r\n\r\n    android:windowSoftInputMode=&quot;stateAlwaysHidden&quot;\r\n\r\nBut, the above line doesn&#39;t block users to the SoftKeyboard, users can still use the SoftKeyboard.\r\n\r\nWhat is the best way to block users to use SoftKeyboard once and for all?\r\n\r\nRegards","title":"Never display SoftKeyboard on Android","body":"<p>I am trying to write an Android app, which shouldn't let users use SoftKeyboard. Because, I want users to scan barcodes to input into editText. I don't want SoftKeyboard to show up.</p>\n<p>I read many articles and pages on Stack-overflow, and all suggest me to use the below line</p>\n<pre><code>android:windowSoftInputMode=&quot;stateAlwaysHidden&quot;\n</code></pre>\n<p>But, the above line doesn't block users to the SoftKeyboard, users can still use the SoftKeyboard.</p>\n<p>What is the best way to block users to use SoftKeyboard once and for all?</p>\n<p>Regards</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1643920241,"post_id":70977858,"comment_id":125474432,"body_markdown":"All you need to do is get the source of the ActionEvent and cast that object to a JCheckBox. Then you can use the getText() method. No need to check the state.","body":"All you need to do is get the source of the ActionEvent and cast that object to a JCheckBox. Then you can use the getText() method. No need to check the state."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1643920708,"post_id":70977858,"comment_id":125474575,"body_markdown":"Well, you might want to use `isSelected` to determine if the button is checked or not","body":"Well, you might want to use <code>isSelected</code> to determine if the button is checked or not"},{"owner":{"account_id":12619337,"reputation":3,"user_id":9175465,"display_name":"boualpso"},"score":0,"creation_date":1643921026,"post_id":70977858,"comment_id":125474689,"body_markdown":"I did use isSelected and it did not work as well.","body":"I did use isSelected and it did not work as well."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1643921583,"post_id":70977858,"comment_id":125474863,"body_markdown":"@boualpso Then you&#39;re doing something wrong, because `isSelected` works just fine for me and is best solution for finding the current selected state of the button","body":"@boualpso Then you&#39;re doing something wrong, because <code>isSelected</code> works just fine for me and is best solution for finding the current selected state of the button"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643921536,"creation_date":1643921536,"answer_id":70978126,"question_id":70977858,"body_markdown":"The first thing you&#39;ll want to do is check out [How to Use Buttons, Check Boxes, and Radio Buttons](https://docs.oracle.com/javase/tutorial/uiswing/components/button.html)\r\n\r\nSo from the [`JCheckBox` JavaDocs](https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/AbstractButton.html#isSelected())\r\n\r\n&gt; &lt;b&gt;isSelected&lt;/b&gt;&lt;br&gt;\r\n&gt; &lt;pre&gt;public boolean isSelected()&lt;/pre&gt;\r\n&gt; Returns the state of the\r\n&gt; button. True if the toggle button is selected, false if it&#39;s not.&lt;br&gt;&lt;br&gt;\r\n&gt; &lt;b&gt;Returns:&lt;/b&gt;&lt;br&gt;true if the toggle button is selected, otherwise false\r\n\r\nIn addition, if you need some way to pass information to the `ActionListener`.  You could continue to rely on the `index` of the values, but I always prefer to encapsulate this information if possible.\r\n\r\nSo, in this example, I&#39;ve used both the `actionCommand` and `clientProperty` methods to seed the information I might want to use in the `ActionListener`\r\n\r\n&gt; I did use isSelected and it did not work as well.\r\n\r\nThen you&#39;re doing something wrong, because the below example works just fine\r\n\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JCheckBox;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n\r\n    public class Main {\r\n\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            public TestPane() {\r\n                setLayout(new GridBagLayout());\r\n\r\n                int[] numberCheckBox = new int[] { 5 };\r\n                JCheckBox[] checkBoxList = new JCheckBox[5];\r\n                String[] tableLines = new String[] {\r\n                    &quot;this/is/a/test&quot;,\r\n                    &quot;hello/world&quot;,\r\n                    &quot;something/wicked/this/way/comes&quot;,\r\n                    &quot;a/long/long/time/ago&quot;,\r\n                    &quot;i/have/something/to/say&quot;,\r\n                };\r\n\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridwidth = gbc.REMAINDER;\r\n                gbc.anchor = GridBagConstraints.LINE_START;\r\n                for (int f = 0; f &lt; numberCheckBox[0]; f++) {\r\n                    String line1 = tableLines[f].toString().trim();\r\n                    String[] dataRow1 = line1.split(&quot;/&quot;);                \r\n                    checkBoxList[f] = new JCheckBox(String.join(&quot;, &quot;, dataRow1));\r\n                    checkBoxList[f].setActionCommand(line1);\r\n                    checkBoxList[f].putClientProperty(&quot;value&quot;, line1);\r\n                    add(checkBoxList[f], gbc);\r\n                    System.out.print(checkBoxList[f]);\r\n                }\r\n\r\n                JButton save = new JButton(&quot;Save&quot;);\r\n                gbc.anchor = GridBagConstraints.CENTER;\r\n                add(save, gbc);\r\n\r\n                save.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        for (JCheckBox cb : checkBoxList) {\r\n                            if (cb.isSelected()) {\r\n                                System.out.println(&quot;Action Command = &quot; + cb.getActionCommand());\r\n                                System.out.println(&quot;Client Property = &quot; + (String)cb.getClientProperty(&quot;value&quot;));\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }","title":"How to check the state of a dynamically generated JCheckBox in an action listener","body":"<p>The first thing you'll want to do is check out <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/button.html\" rel=\"nofollow noreferrer\">How to Use Buttons, Check Boxes, and Radio Buttons</a></p>\n<p>So from the <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/AbstractButton.html#isSelected()\" rel=\"nofollow noreferrer\"><code>JCheckBox</code> JavaDocs</a></p>\n<blockquote>\n<p><b>isSelected</b><br></p>\n<pre>public boolean isSelected()</pre>\n<p>Returns the state of the\nbutton. True if the toggle button is selected, false if it's not.<br><br>\n<b>Returns:</b><br>true if the toggle button is selected, otherwise false</p>\n</blockquote>\n<p>In addition, if you need some way to pass information to the <code>ActionListener</code>.  You could continue to rely on the <code>index</code> of the values, but I always prefer to encapsulate this information if possible.</p>\n<p>So, in this example, I've used both the <code>actionCommand</code> and <code>clientProperty</code> methods to seed the information I might want to use in the <code>ActionListener</code></p>\n<blockquote>\n<p>I did use isSelected and it did not work as well.</p>\n</blockquote>\n<p>Then you're doing something wrong, because the below example works just fine</p>\n<pre><code>import java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.JButton;\nimport javax.swing.JCheckBox;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() {\n            setLayout(new GridBagLayout());\n\n            int[] numberCheckBox = new int[] { 5 };\n            JCheckBox[] checkBoxList = new JCheckBox[5];\n            String[] tableLines = new String[] {\n                &quot;this/is/a/test&quot;,\n                &quot;hello/world&quot;,\n                &quot;something/wicked/this/way/comes&quot;,\n                &quot;a/long/long/time/ago&quot;,\n                &quot;i/have/something/to/say&quot;,\n            };\n\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridwidth = gbc.REMAINDER;\n            gbc.anchor = GridBagConstraints.LINE_START;\n            for (int f = 0; f &lt; numberCheckBox[0]; f++) {\n                String line1 = tableLines[f].toString().trim();\n                String[] dataRow1 = line1.split(&quot;/&quot;);                \n                checkBoxList[f] = new JCheckBox(String.join(&quot;, &quot;, dataRow1));\n                checkBoxList[f].setActionCommand(line1);\n                checkBoxList[f].putClientProperty(&quot;value&quot;, line1);\n                add(checkBoxList[f], gbc);\n                System.out.print(checkBoxList[f]);\n            }\n\n            JButton save = new JButton(&quot;Save&quot;);\n            gbc.anchor = GridBagConstraints.CENTER;\n            add(save, gbc);\n\n            save.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    for (JCheckBox cb : checkBoxList) {\n                        if (cb.isSelected()) {\n                            System.out.println(&quot;Action Command = &quot; + cb.getActionCommand());\n                            System.out.println(&quot;Client Property = &quot; + (String)cb.getClientProperty(&quot;value&quot;));\n                        }\n                    }\n                }\n            });\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12619337,"reputation":3,"user_id":9175465,"display_name":"boualpso"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70978126,"answer_count":1,"score":0,"last_activity_date":1643921536,"creation_date":1643920076,"question_id":70977858,"body_markdown":"I have created dynamic JChekboxes that is linked to a file. I want to see which ones are checked via an action listener. I have tried getSource(), I have tried getState() none of them are working...\r\n\r\n\r\n\r\n    for (int f = 0; f &lt; numberCheckBox[0]; f++) {\r\n                String line1 = tableLines[f].toString().trim();\r\n                String[] dataRow1 = line1.split(&quot;/&quot;);\r\n                checkBoxList[f] = new JCheckBox(Arrays.toString(dataRow1).replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;));\r\n                Checkp.add(checkBoxList[f]);\r\n                System.out.print(checkBoxList[f]);\r\n            }\r\n\r\n             save.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                BufferedReader br = null;\r\n                try {\r\n                    br = new BufferedReader(new FileReader(files));\r\n                    Object[] tableLines = br.lines().toArray();\r\n                    numberCheckBox[0] = tableLines.length;\r\n                    for (int j = 0; j &lt; numberCheckBox[0]; j++) {\r\n                        if(e.getSource() == finalCheckBoxList[j]){\r\n                            if(e.getStateChange() == 1){\r\n\r\n                            }\r\n                        }\r\n                    }\r\n                } catch (FileNotFoundException ex) {\r\n                    ex.printStackTrace();\r\n                }","title":"How to check the state of a dynamically generated JCheckBox in an action listener","body":"<p>I have created dynamic JChekboxes that is linked to a file. I want to see which ones are checked via an action listener. I have tried getSource(), I have tried getState() none of them are working...</p>\n<pre><code>for (int f = 0; f &lt; numberCheckBox[0]; f++) {\n            String line1 = tableLines[f].toString().trim();\n            String[] dataRow1 = line1.split(&quot;/&quot;);\n            checkBoxList[f] = new JCheckBox(Arrays.toString(dataRow1).replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;));\n            Checkp.add(checkBoxList[f]);\n            System.out.print(checkBoxList[f]);\n        }\n\n         save.addActionListener(new ActionListener() {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            BufferedReader br = null;\n            try {\n                br = new BufferedReader(new FileReader(files));\n                Object[] tableLines = br.lines().toArray();\n                numberCheckBox[0] = tableLines.length;\n                for (int j = 0; j &lt; numberCheckBox[0]; j++) {\n                    if(e.getSource() == finalCheckBoxList[j]){\n                        if(e.getStateChange() == 1){\n\n                        }\n                    }\n                }\n            } catch (FileNotFoundException ex) {\n                ex.printStackTrace();\n            }\n</code></pre>\n"},{"tags":["java","spring-boot","jpa","lombok","circular-dependency"],"comments":[{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1603129355,"post_id":64432171,"comment_id":113932763,"body_markdown":"Note that in general it&#39;s not a good idea to override `equals` and `hashCode` for entities. The specific characteristic that distinguishes entities from values is that entities have an identity independent of their data.","body":"Note that in general it&#39;s not a good idea to override <code>equals</code> and <code>hashCode</code> for entities. The specific characteristic that distinguishes entities from values is that entities have an identity independent of their data."}],"answers":[{"tags":[],"owner":{"account_id":3286236,"reputation":565,"user_id":2765696,"accept_rate":84,"display_name":"Richard Avalos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603129836,"creation_date":1603129836,"answer_id":64432696,"question_id":64432171,"body_markdown":"I managed to fix the issue by adding `@ToString.Exclude` to the `roles` and `user` class variables. Apparently I was printing them somewhere later in the code, which was causing the error.","title":"JPA and Lombok causing StackOverflowError in circular dependency","body":"<p>I managed to fix the issue by adding <code>@ToString.Exclude</code> to the <code>roles</code> and <code>user</code> class variables. Apparently I was printing them somewhere later in the code, which was causing the error.</p>\n"},{"tags":[],"owner":{"account_id":5205027,"reputation":6298,"user_id":4163254,"accept_rate":86,"display_name":"avi.elkharrat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643921431,"creation_date":1643921431,"answer_id":70978109,"question_id":64432171,"body_markdown":"In case it might help, lombok also has anotation `@EqualsAndHashCode.Exclude` very useful for tests!","title":"JPA and Lombok causing StackOverflowError in circular dependency","body":"<p>In case it might help, lombok also has anotation <code>@EqualsAndHashCode.Exclude</code> very useful for tests!</p>\n"}],"owner":{"account_id":3286236,"reputation":565,"user_id":2765696,"accept_rate":84,"display_name":"Richard Avalos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1836,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1643921431,"creation_date":1603127598,"question_id":64432171,"body_markdown":"I have two entity classes:\r\n\r\n```\r\n@Data\r\n@Entity(name = &quot;user&quot;)\r\n@Table(name = &quot;tbl_user&quot;)\r\n@EqualsAndHashCode(callSuper = true, exclude = &quot;products&quot;)\r\npublic class UserEntity extends BaseEntity {\r\n\r\n    @Column(unique = true)\r\n    private String username;\r\n\r\n    @ToString.Exclude\r\n    private String password;\r\n\r\n    @Transient\r\n    @JsonProperty(&quot;remember_me&quot;)\r\n    private Boolean rememberMe;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    @CollectionTable(name = &quot;tbl_user_role&quot;)\r\n    @ElementCollection(fetch = FetchType.EAGER)\r\n    Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n\r\n    @OneToMany(mappedBy = &quot;user&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n    private List&lt;ProductEntity&gt; products = new ArrayList&lt;&gt;();\r\n}\r\n```\r\n```\r\n@Data\r\n@Entity\r\n@Table(name = &quot;tbl_product&quot;)\r\n@EqualsAndHashCode(callSuper = true)\r\npublic class ProductEntity extends BaseEntity {\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;user_id&quot;, nullable = false)\r\n    private UserEntity user;\r\n    private String productName;\r\n}\r\n```\r\n\r\nboth extending a baseEntity:\r\n\r\n```\r\n@MappedSuperclass\r\npublic abstract class BaseEntity implements Serializable {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n\r\n    @Version\r\n    private long version;\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        BaseEntity that = (BaseEntity) o;\r\n        return Objects.equals(id, that.id) &amp;&amp; Objects.equals(version, that.version);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(id, version);\r\n    }\r\n}\r\n```\r\n\r\nNow when I try to retrieve all products (or all users) (e.g. `findAll` method) I get a `StackOverflowError`.\r\nI know this error is caused by the circular dependency between user and products, so I added an exclude to the equals annotation in the userEntity to resolve it, like so:&lt;br&gt;&lt;br&gt; `@EqualsAndHashCode(callSuper = true, exclude = &quot;products&quot;)`\r\n\r\nUnfortunately the error keeps popping up. What am I missing here?","title":"JPA and Lombok causing StackOverflowError in circular dependency","body":"<p>I have two entity classes:</p>\n<pre><code>@Data\n@Entity(name = &quot;user&quot;)\n@Table(name = &quot;tbl_user&quot;)\n@EqualsAndHashCode(callSuper = true, exclude = &quot;products&quot;)\npublic class UserEntity extends BaseEntity {\n\n    @Column(unique = true)\n    private String username;\n\n    @ToString.Exclude\n    private String password;\n\n    @Transient\n    @JsonProperty(&quot;remember_me&quot;)\n    private Boolean rememberMe;\n\n    @Enumerated(EnumType.STRING)\n    @CollectionTable(name = &quot;tbl_user_role&quot;)\n    @ElementCollection(fetch = FetchType.EAGER)\n    Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n\n    @OneToMany(mappedBy = &quot;user&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n    private List&lt;ProductEntity&gt; products = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;tbl_product&quot;)\n@EqualsAndHashCode(callSuper = true)\npublic class ProductEntity extends BaseEntity {\n\n    @ManyToOne\n    @JoinColumn(name = &quot;user_id&quot;, nullable = false)\n    private UserEntity user;\n    private String productName;\n}\n</code></pre>\n<p>both extending a baseEntity:</p>\n<pre><code>@MappedSuperclass\npublic abstract class BaseEntity implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n\n    @Version\n    private long version;\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        BaseEntity that = (BaseEntity) o;\n        return Objects.equals(id, that.id) &amp;&amp; Objects.equals(version, that.version);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(id, version);\n    }\n}\n</code></pre>\n<p>Now when I try to retrieve all products (or all users) (e.g. <code>findAll</code> method) I get a <code>StackOverflowError</code>.\nI know this error is caused by the circular dependency between user and products, so I added an exclude to the equals annotation in the userEntity to resolve it, like so:<br><br> <code>@EqualsAndHashCode(callSuper = true, exclude = &quot;products&quot;)</code></p>\n<p>Unfortunately the error keeps popping up. What am I missing here?</p>\n"},{"tags":["java","android","android-studio","build-dependencies"],"comments":[{"owner":{"account_id":8088670,"reputation":91,"user_id":6095356,"display_name":"A.R.H"},"score":0,"creation_date":1645360012,"post_id":70978092,"comment_id":125845526,"body_markdown":"I&#39;m getting the same issue with a different library, but when trying to add the same library to an older project it works fine. I hope this small piece of info helps in finding a solution.","body":"I&#39;m getting the same issue with a different library, but when trying to add the same library to an older project it works fine. I hope this small piece of info helps in finding a solution."}],"owner":{"account_id":24148424,"reputation":31,"user_id":18113638,"display_name":"noobiedoo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":608,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1643921354,"creation_date":1643921354,"question_id":70978092,"body_markdown":"**this is my build.gradle(:app)**\r\n\r\npls help me to solve this, i dont much about implementing dependencies in android studio\r\n\r\nFailed to resolve: com.synnapps:carouselview:1.4.1 Show in Project Structure dialog Affected Modules: app\r\n\r\n-this is what it says\r\n\r\nFailed to resolve: com.synnapps:carouselview:1.4.1\r\n&lt;a href=&quot;open.dependency.in.project.structure&quot;&gt;Show in Project Structure dialog&lt;/a&gt;\r\nAffected Modules: &lt;a href=&quot;openFile:C:/Users/Maica/AndroidStudioProjects/TaboanExpress/app/build.gradle&quot;&gt;app&lt;/a&gt;\r\n\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    compileSdk 31\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.taboanexpress&quot;\r\n        minSdk 26\r\n        targetSdk 31\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    buildFeatures {\r\n        viewBinding true\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.4.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.5.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.3&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-livedata-ktx:2.4.0&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-viewmodel-ktx:2.4.0&#39;\r\n    implementation &#39;com.synnapps:carouselview:1.4.1&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n\r\n}\r\n```","title":"Failed to resolve: com.synnapps:carouselview:1.4.1 Show in Project Structure dialog Affected Modules: app","body":"<p><strong>this is my build.gradle(:app)</strong></p>\n<p>pls help me to solve this, i dont much about implementing dependencies in android studio</p>\n<p>Failed to resolve: com.synnapps:carouselview:1.4.1 Show in Project Structure dialog Affected Modules: app</p>\n<p>-this is what it says</p>\n<p>Failed to resolve: com.synnapps:carouselview:1.4.1\nShow in Project Structure dialog\nAffected Modules: app</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    compileSdk 31\n\n    defaultConfig {\n        applicationId &quot;com.example.taboanexpress&quot;\n        minSdk 26\n        targetSdk 31\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    buildFeatures {\n        viewBinding true\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.4.1'\n    implementation 'com.google.android.material:material:1.5.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.3'\n    implementation 'androidx.lifecycle:lifecycle-livedata-ktx:2.4.0'\n    implementation 'androidx.lifecycle:lifecycle-viewmodel-ktx:2.4.0'\n    implementation 'com.synnapps:carouselview:1.4.1'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n\n}\n</code></pre>\n"},{"tags":["java","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":5268074,"reputation":17816,"user_id":4207306,"display_name":"Eklavya"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1628856917,"creation_date":1586173622,"answer_id":61059081,"question_id":61056840,"body_markdown":"Update multiple rows with different ```ID```s values is not possible in one query.\r\n\r\nUpdate every user by id\r\n\r\n```\r\nfor (UserComposite user : List&lt;UserComposite&gt; userCompositeList) {\r\n   userDao.updateUser(user.getUserId(), user.getName(), user.getSurname());\r\n}\r\n```\r\nRepository query like\r\n```java\r\n  @Modifying\r\n  @Query(&quot;UPDATE User u SET u.name = :name, u.surname = :surname  WHERE u.id = :userId&quot;)\r\n  void updateUser(@Param(&quot;userId&quot;) int userId, @Param(&quot;name&quot;) String name, @Param(&quot;surname&quot;) String surname);\r\n```\r\n","title":"Spring Data JPA: update a list of Entity using a list of input in a custom Query","body":"<p>Update multiple rows with different <code>ID</code>s values is not possible in one query.</p>\n<p>Update every user by id</p>\n<pre><code>for (UserComposite user : List&lt;UserComposite&gt; userCompositeList) {\n   userDao.updateUser(user.getUserId(), user.getName(), user.getSurname());\n}\n</code></pre>\n<p>Repository query like</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @Modifying\n  @Query(&quot;UPDATE User u SET u.name = :name, u.surname = :surname  WHERE u.id = :userId&quot;)\n  void updateUser(@Param(&quot;userId&quot;) int userId, @Param(&quot;name&quot;) String name, @Param(&quot;surname&quot;) String surname);\n</code></pre>\n"}],"owner":{"account_id":365431,"reputation":4956,"user_id":2057091,"accept_rate":89,"display_name":"Aserre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16186,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":61059081,"answer_count":1,"score":2,"last_activity_date":1643921158,"creation_date":1586165899,"question_id":61056840,"body_markdown":"I have the following basic objects :\r\n\r\n    /* User class */\r\n    \r\n    import lombok.Data;\r\n    import lombok.AllArgsConstructor;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Id\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.ManyToOne;\r\n    \r\n    @Data\r\n    @Entity\r\n    @AllArgsConstructor\r\n    public class User {\r\n    \r\n      @Id\r\n      @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n      private Long id;\r\n    \r\n      private String name;\r\n      private String surname;\r\n\r\n      @ManyToOne\r\n      private Address address;\r\n    }\r\n    \r\n    /* UserComposite class, used to load partial data from a user */\r\n    \r\n    import lombok.Data;\r\n    import lombok.AllArgsConstructor;\r\n    \r\n    @Data\r\n    @AllArgsConstructor\r\n    public class UserComposite {\r\n    \r\n      private Long userId;\r\n      private String name;\r\n      private String surname;\r\n    }\r\n\r\nMy goal here, is to update a list of User using a list of UserComposite as input. Here is what my DAO looks like :\r\n\r\n    /* UserDao class */    \r\n\r\n    import org.springframework.data.jpa.repository.Modifying;\r\n    import org.springframework.data.jpa.repository.Query;\r\n    import org.springframework.transaction.annotation.Transactional;\r\n    \r\n    public interface UserDao extends JpaRepository&lt;User, Long&gt; {\r\n    \r\n      @Transactional\r\n      @Modifying\r\n      @Query(&quot;update User u set u.name = uc.name , &quot;\r\n          + &quot;u.surname = uc.surname &quot;\r\n          + &quot;where u.id = uc.userId &quot;\r\n          + &quot;and UserComposite uc in (?1)&quot;)\r\n      void updateUserFromCompositeList(List&lt;UserComposite&gt; userCompositeList);\r\n    }\r\n\r\nHowever, this does not work. I have a hard time matching the data from the input with the data saved in my database, especially as UserComposite is not an entity.\r\n\r\nIs there a way around this problem ?","title":"Spring Data JPA: update a list of Entity using a list of input in a custom Query","body":"<p>I have the following basic objects :</p>\n<pre><code>/* User class */\n\nimport lombok.Data;\nimport lombok.AllArgsConstructor;\nimport javax.persistence.Entity;\nimport javax.persistence.Id\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.ManyToOne;\n\n@Data\n@Entity\n@AllArgsConstructor\npublic class User {\n\n  @Id\n  @GeneratedValue(strategy=GenerationType.IDENTITY)\n  private Long id;\n\n  private String name;\n  private String surname;\n\n  @ManyToOne\n  private Address address;\n}\n\n/* UserComposite class, used to load partial data from a user */\n\nimport lombok.Data;\nimport lombok.AllArgsConstructor;\n\n@Data\n@AllArgsConstructor\npublic class UserComposite {\n\n  private Long userId;\n  private String name;\n  private String surname;\n}\n</code></pre>\n<p>My goal here, is to update a list of User using a list of UserComposite as input. Here is what my DAO looks like :</p>\n<pre><code>/* UserDao class */    \n\nimport org.springframework.data.jpa.repository.Modifying;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.transaction.annotation.Transactional;\n\npublic interface UserDao extends JpaRepository&lt;User, Long&gt; {\n\n  @Transactional\n  @Modifying\n  @Query(&quot;update User u set u.name = uc.name , &quot;\n      + &quot;u.surname = uc.surname &quot;\n      + &quot;where u.id = uc.userId &quot;\n      + &quot;and UserComposite uc in (?1)&quot;)\n  void updateUserFromCompositeList(List&lt;UserComposite&gt; userCompositeList);\n}\n</code></pre>\n<p>However, this does not work. I have a hard time matching the data from the input with the data saved in my database, especially as UserComposite is not an entity.</p>\n<p>Is there a way around this problem ?</p>\n"},{"tags":["java","api","design-patterns","architecture"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":2,"creation_date":1643922407,"post_id":70978044,"comment_id":125475148,"body_markdown":"Why is there a `MockUserApi` in the production code?  That doesn&#39;t make sense.  Or is `MockUserApi` just there to support testing?","body":"Why is there a <code>MockUserApi</code> in the production code?  That doesn&#39;t make sense.  Or is <code>MockUserApi</code> just there to support testing?"},{"owner":{"account_id":16506411,"reputation":1143,"user_id":11926338,"display_name":"Pavel Petrashov"},"score":0,"creation_date":1643989943,"post_id":70978044,"comment_id":125493532,"body_markdown":"@ Andrew S `MockUserApi`  is used in a test server or dev computer. We don&#39;t want to call real API","body":"@ Andrew S <code>MockUserApi</code>  is used in a test server or dev computer. We don&#39;t want to call real API"}],"owner":{"account_id":16506411,"reputation":1143,"user_id":11926338,"display_name":"Pavel Petrashov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643921132,"creation_date":1643921132,"question_id":70978044,"body_markdown":"There is a user API. I can send userId and get users. I need to create an interface and 2 implementations in my project. I will show the wrong implementation and wait for your suggestions on how to refactor this coupling.\r\n\r\n    public interface UserApi {\r\n        User send(String userId, User user);\r\n    }\r\n\r\nOriginal implementation uses only `userId` and sends it to real API\r\n\r\n    public class DefaultUserApi implements UserApi {\r\n        @Override\r\n        public User send(String userId, User user) {\r\n            return getUserByIdFromAPI(userId);\r\n        }\r\n    \r\n        private User getUserByIdFromAPI(String userId) {\r\n            //calls API and get user\r\n            return new User();\r\n        }\r\n    }\r\n\r\nThe mock implementation uses only `user`. It changes some fields and returns this user.\r\n\r\n    public class MockUserApi implements UserApi {\r\n        @Override\r\n        public User send(String userId, User user) {\r\n            return createUserBasedOnOriginalUser(user);\r\n        }\r\n    \r\n        private User createUserBasedOnOriginalUser(User user) {\r\n            User clonedUser = cloneUser(user);\r\n            clonedUser.setName(&quot;name&quot;);\r\n            return clonedUser;\r\n        }\r\n    \r\n        private User cloneUser(User user) {\r\n            return user;\r\n        }\r\n    }\r\n\r\nThe main goal of `MockUserApi` is to get the user, change some fields and return it back.  \r\nSo, that&#39;s why I should pass the user as an argument. It is a simple example, and not my code. I just saw it in our project and decided to try to refactor it. \r\n\r\n**How can I avoid passing an extra `user` argument?** \r\n\r\nThe first thing that comes to mind is using UserRequest with 2 fields - `String userId` and  `User user` but maybe there is something better.\r\n","title":"How can I decouple arguments which are requierd for different API implementations","body":"<p>There is a user API. I can send userId and get users. I need to create an interface and 2 implementations in my project. I will show the wrong implementation and wait for your suggestions on how to refactor this coupling.</p>\n<pre><code>public interface UserApi {\n    User send(String userId, User user);\n}\n</code></pre>\n<p>Original implementation uses only <code>userId</code> and sends it to real API</p>\n<pre><code>public class DefaultUserApi implements UserApi {\n    @Override\n    public User send(String userId, User user) {\n        return getUserByIdFromAPI(userId);\n    }\n\n    private User getUserByIdFromAPI(String userId) {\n        //calls API and get user\n        return new User();\n    }\n}\n</code></pre>\n<p>The mock implementation uses only <code>user</code>. It changes some fields and returns this user.</p>\n<pre><code>public class MockUserApi implements UserApi {\n    @Override\n    public User send(String userId, User user) {\n        return createUserBasedOnOriginalUser(user);\n    }\n\n    private User createUserBasedOnOriginalUser(User user) {\n        User clonedUser = cloneUser(user);\n        clonedUser.setName(&quot;name&quot;);\n        return clonedUser;\n    }\n\n    private User cloneUser(User user) {\n        return user;\n    }\n}\n</code></pre>\n<p>The main goal of <code>MockUserApi</code> is to get the user, change some fields and return it back.<br />\nSo, that's why I should pass the user as an argument. It is a simple example, and not my code. I just saw it in our project and decided to try to refactor it.</p>\n<p><strong>How can I avoid passing an extra <code>user</code> argument?</strong></p>\n<p>The first thing that comes to mind is using UserRequest with 2 fields - <code>String userId</code> and  <code>User user</code> but maybe there is something better.</p>\n"},{"tags":["java","spring-security"],"answers":[{"tags":[],"owner":{"account_id":2928274,"reputation":7,"user_id":2509176,"display_name":"Tony Neves"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643921068,"creation_date":1643921068,"answer_id":70978034,"question_id":70974223,"body_markdown":"I finally figured it out I feel a little stupid but here it is:\r\n\r\nIn AuthorizationFilter I had this method call:\r\n\r\n`if (header == null || !header.startsWith(SecurityConstants.TOKEN_PREFIX)) {\r\n    filterChain.doFilter(req, null);\r\n    return;\r\n}`\r\n\r\nIt should be: \r\n\r\n`filterChain.doFilter(req,res);`\r\n\r\nMost of the time the answer is staring you right in the face. Tunnel vision!!","title":"Spring WebSecurity: IllegalStateException: Cannot pass null values to constructor","body":"<p>I finally figured it out I feel a little stupid but here it is:</p>\n<p>In AuthorizationFilter I had this method call:</p>\n<p><code>if (header == null || !header.startsWith(SecurityConstants.TOKEN_PREFIX)) { filterChain.doFilter(req, null); return; }</code></p>\n<p>It should be:</p>\n<p><code>filterChain.doFilter(req,res);</code></p>\n<p>Most of the time the answer is staring you right in the face. Tunnel vision!!</p>\n"}],"owner":{"account_id":2928274,"reputation":7,"user_id":2509176,"display_name":"Tony Neves"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":567,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1643921068,"creation_date":1643903125,"question_id":70974223,"body_markdown":"I&#39;m using spring security in a restful service that authenticates and registers users. I can login as an existing user and get user information.  But when I try to create a new/register a user I get the IllegalArgumentException:  Cannot pass null values to constructor in the AuthorizationFilter.  If I remove Authorization filter from the WebSecurity class it works fine.\r\n\r\n@EnableWebSecurity\r\npublic class WebSecurity extends WebSecurityConfigurerAdapter {\r\n\t\r\n\tprivate final UserService userDetailsService;\r\n\tprivate final BCryptPasswordEncoder bCrytpPasswordEncoder;\r\n\t\r\n\tpublic WebSecurity(UserService userDetailsService, BCryptPasswordEncoder bCryptPasswordEncoder) {\r\n\t\tthis.userDetailsService = userDetailsService;\r\n\t\tthis.bCrytpPasswordEncoder = bCryptPasswordEncoder;\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\t\r\n\t\thttp.csrf()\r\n\t\t\t.disable()\r\n\t\t\t.authorizeRequests()\r\n\t\t\t.antMatchers(HttpMethod.POST, SecurityConstants.SIGN_UP_URL)\r\n\t\t\t.permitAll()\r\n\t\t\t.anyRequest()\r\n\t\t\t.authenticated()\r\n\t\t\t.and()\r\n\t\t\t.addFilter(getAuthenticationFilter())\r\n\t\t\t***.addFilter(new AuthorizationFilter(authenticationManager()))***\r\n\t\t\t.sessionManagement()\r\n\t\t\t.sessionCreationPolicy(SessionCreationPolicy.STATELESS);;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n\t\tauth.userDetailsService(userDetailsService).passwordEncoder(bCrytpPasswordEncoder);\r\n\t}\r\n\t\r\n\tpublic AuthenticationFilter getAuthenticationFilter() throws Exception {\r\n\t\tfinal AuthenticationFilter filter = new AuthenticationFilter(authenticationManager());\r\n\t\tfilter.setFilterProcessesUrl(&quot;/user/login&quot;);\r\n\t\treturn filter;\r\n\t}\r\n\t\r\n}\r\n\r\n\r\npublic class AuthorizationFilter extends BasicAuthenticationFilter {\r\n\r\n\tpublic AuthorizationFilter(AuthenticationManager authenticationManager) {\r\n\t\tsuper(authenticationManager);\r\n\t}\r\n\t\r\n\t@Override\r\n\tprotected void doFilterInternal(HttpServletRequest req, HttpServletResponse res, FilterChain filterChain) throws IOException, ServletException {\r\n\r\n\t\t// when creating a new user the header is null and execution continues\r\n        // to the next filter then the IllegalStateException is thrown\r\n\t\tString header = req.getHeader(SecurityConstants.HEADER_STRING);\r\n\t\t\r\n\t\tif (header == null || !header.startsWith(SecurityConstants.TOKEN_PREFIX)) {\r\n\t\t\tfilterChain.doFilter(req, null);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tUsernamePasswordAuthenticationToken authentication = getAuthentication(req);\r\n\t\tSecurityContextHolder.getContext().setAuthentication(authentication);\r\n\t\tfilterChain.doFilter(req, res);\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic UsernamePasswordAuthenticationToken getAuthentication(HttpServletRequest req) {\r\n\t\tString token = req.getHeader(SecurityConstants.HEADER_STRING);\r\n\t\t\r\n\t\tif (token != null) {\r\n\t\t\ttoken = token.replace(SecurityConstants.TOKEN_PREFIX, &quot;&quot;);\r\n\t\t\t\r\n\t\t\tString user = Jwts.parser()\r\n\t\t\t\t\t.setSigningKey(SecurityConstants.getTokenSecret())\r\n\t\t\t\t\t.parseClaimsJws(token)\r\n\t\t\t\t\t.getBody()\r\n\t\t\t\t\t.getSubject();\r\n\t\t\t\r\n\t\t\tif (user != null) {\r\n\t\t\t\treturn new UsernamePasswordAuthenticationToken(user, null, new ArrayList&lt;&gt;());\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn null;\r\n\t}\r\n\r\n}\r\n\r\nStack Trace:\r\n\r\njava.lang.IllegalArgumentException: Cannot pass null values to constructor\r\n\tat org.springframework.util.Assert.isTrue(Assert.java:121) ~[spring-core-5.3.14.jar:5.3.14]\r\n\tat org.springframework.security.web.FilterInvocation.&lt;init&gt;(FilterInvocation.java:71) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat com.acme.estore.user.ws.security.AuthorizationFilter.doFilterInternal(AuthorizationFilter.java:30) ~[classes/:na]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:219) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:213) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar:5.6.1]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) [tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) [tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) [tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) [tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) [tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat java.lang.Thread.run(Thread.java:748) [na:1.8.0_211]\r\n","title":"Spring WebSecurity: IllegalStateException: Cannot pass null values to constructor","body":"<p>I'm using spring security in a restful service that authenticates and registers users. I can login as an existing user and get user information.  But when I try to create a new/register a user I get the IllegalArgumentException:  Cannot pass null values to constructor in the AuthorizationFilter.  If I remove Authorization filter from the WebSecurity class it works fine.</p>\n<p>@EnableWebSecurity\npublic class WebSecurity extends WebSecurityConfigurerAdapter {</p>\n<pre><code>private final UserService userDetailsService;\nprivate final BCryptPasswordEncoder bCrytpPasswordEncoder;\n\npublic WebSecurity(UserService userDetailsService, BCryptPasswordEncoder bCryptPasswordEncoder) {\n    this.userDetailsService = userDetailsService;\n    this.bCrytpPasswordEncoder = bCryptPasswordEncoder;\n}\n\n@Override\nprotected void configure(HttpSecurity http) throws Exception {  \n    http.csrf()\n        .disable()\n        .authorizeRequests()\n        .antMatchers(HttpMethod.POST, SecurityConstants.SIGN_UP_URL)\n        .permitAll()\n        .anyRequest()\n        .authenticated()\n        .and()\n        .addFilter(getAuthenticationFilter())\n        ***.addFilter(new AuthorizationFilter(authenticationManager()))***\n        .sessionManagement()\n        .sessionCreationPolicy(SessionCreationPolicy.STATELESS);;\n}\n\n@Override\npublic void configure(AuthenticationManagerBuilder auth) throws Exception {\n    auth.userDetailsService(userDetailsService).passwordEncoder(bCrytpPasswordEncoder);\n}\n\npublic AuthenticationFilter getAuthenticationFilter() throws Exception {\n    final AuthenticationFilter filter = new AuthenticationFilter(authenticationManager());\n    filter.setFilterProcessesUrl(&quot;/user/login&quot;);\n    return filter;\n}\n</code></pre>\n<p>}</p>\n<p>public class AuthorizationFilter extends BasicAuthenticationFilter {</p>\n<pre><code>public AuthorizationFilter(AuthenticationManager authenticationManager) {\n    super(authenticationManager);\n}\n\n@Override\nprotected void doFilterInternal(HttpServletRequest req, HttpServletResponse res, FilterChain filterChain) throws IOException, ServletException {\n\n    // when creating a new user the header is null and execution continues\n    // to the next filter then the IllegalStateException is thrown\n    String header = req.getHeader(SecurityConstants.HEADER_STRING);\n    \n    if (header == null || !header.startsWith(SecurityConstants.TOKEN_PREFIX)) {\n        filterChain.doFilter(req, null);\n        return;\n    }\n    \n    UsernamePasswordAuthenticationToken authentication = getAuthentication(req);\n    SecurityContextHolder.getContext().setAuthentication(authentication);\n    filterChain.doFilter(req, res);\n    \n}\n\npublic UsernamePasswordAuthenticationToken getAuthentication(HttpServletRequest req) {\n    String token = req.getHeader(SecurityConstants.HEADER_STRING);\n    \n    if (token != null) {\n        token = token.replace(SecurityConstants.TOKEN_PREFIX, &quot;&quot;);\n        \n        String user = Jwts.parser()\n                .setSigningKey(SecurityConstants.getTokenSecret())\n                .parseClaimsJws(token)\n                .getBody()\n                .getSubject();\n        \n        if (user != null) {\n            return new UsernamePasswordAuthenticationToken(user, null, new ArrayList&lt;&gt;());\n        }\n    }\n    \n    return null;\n}\n</code></pre>\n<p>}</p>\n<p>Stack Trace:</p>\n<p>java.lang.IllegalArgumentException: Cannot pass null values to constructor\nat org.springframework.util.Assert.isTrue(Assert.java:121) ~[spring-core-5.3.14.jar:5.3.14]\nat org.springframework.security.web.FilterInvocation.(FilterInvocation.java:71) ~[spring-security-web-5.6.1.jar:5.6.1]\nat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\nat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.6.1.jar:5.6.1]\nat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.6.1.jar:5.6.1]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\nat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.6.1.jar:5.6.1]\nat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.6.1.jar:5.6.1]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\nat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.6.1.jar:5.6.1]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\nat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.6.1.jar:5.6.1]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\nat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.6.1.jar:5.6.1]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\nat com.acme.estore.user.ws.security.AuthorizationFilter.doFilterInternal(AuthorizationFilter.java:30) ~[classes/:na]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\nat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:219) ~[spring-security-web-5.6.1.jar:5.6.1]\nat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:213) ~[spring-security-web-5.6.1.jar:5.6.1]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\nat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.1.jar:5.6.1]\nat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.1.jar:5.6.1]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\nat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.1.jar:5.6.1]\nat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.1.jar:5.6.1]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\nat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.1.jar:5.6.1]\nat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.1.jar:5.6.1]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\nat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.1.jar:5.6.1]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.1.jar:5.6.1]\nat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.1.jar:5.6.1]\nat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.1.jar:5.6.1]\nat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.14.jar:5.3.14]\nat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.14.jar:5.3.14]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.14.jar:5.3.14]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.14.jar:5.3.14]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.56.jar:9.0.56]\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) [tomcat-embed-core-9.0.56.jar:9.0.56]\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.56.jar:9.0.56]\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.56.jar:9.0.56]\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.56.jar:9.0.56]\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) [tomcat-embed-core-9.0.56.jar:9.0.56]\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) [tomcat-embed-core-9.0.56.jar:9.0.56]\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.56.jar:9.0.56]\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) [tomcat-embed-core-9.0.56.jar:9.0.56]\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) [tomcat-embed-core-9.0.56.jar:9.0.56]\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.56.jar:9.0.56]\nat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.56.jar:9.0.56]\nat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.56.jar:9.0.56]\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.56.jar:9.0.56]\nat java.lang.Thread.run(Thread.java:748) [na:1.8.0_211]</p>\n"},{"tags":["java","tomcat","http-headers","ip","load-balancing"],"answers":[{"tags":[],"owner":{"account_id":9170614,"reputation":3857,"user_id":6818284,"display_name":"mikep"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1515560804,"creation_date":1515559634,"answer_id":48180469,"question_id":48103673,"body_markdown":"From http://www.techstacks.com/howto/configure-access-logging-in-tomcat.html:\r\n\r\n&gt;If you are running a version of tomcat greater than version 6.0.21 or tomcat 7, you can take advantage of the new Remote IP Valve. For access logging, the nice thing about this valve is that it will swap the client IP with an IP address passed with the X-Forwarded-For header—automatically—if an IP address is passed in the X-Forwarded-For header.  Loading it is pretty easy. Just add the org.apache.catalina.valves.RemoteIpValve to your server.xml before your AccessLogValve declaration. For example:\r\n\r\n     &lt;Host name=&quot;localhost&quot;  appBase=&quot;webapps&quot; unpackWARs=&quot;true&quot; autoDeploy=&quot;true&quot; xmlValidation=&quot;false&quot; xmlNamespaceAware=&quot;false&quot;&gt;\r\n\r\n\t  &lt;!-- Remote IP Valve --&gt;\r\n\t    &lt;Valve className=&quot;org.apache.catalina.valves.RemoteIpValve&quot; /&gt;\r\n\t \r\n\t  &lt;!-- Access log processes all example.\r\n\t    Documentation at: /docs/config/valve.html --&gt;\r\n\t       \r\n\t  &lt;Valve className=&quot;org.apache.catalina.valves.AccessLogValve&quot; directory=&quot;logs&quot; \r\n\t    prefix=&quot;localhost_access_log.&quot; suffix=&quot;.txt&quot;\r\n\t    pattern=&quot;combined&quot; resolveHosts=&quot;false&quot;/&gt;\r\n\t  --&gt;\r\n\t&lt;/Host&gt;\r\n\r\n&gt;If you are using a version of tomcat 6 older than 6.0.21 and you want to store the X-Forwarded-For IP address instead, then you could modify the pattern property of your AccessLogValve. You&#39;ll need to remove the &quot;common&quot; or &quot;combined&quot; pattern and replace it with one of the following patterns:\r\n\r\n\tCommon Log Format: %{X-Forwarded-For}i %l %u %t &quot;%r&quot; %s %b\r\n\tCombined Log Format: %{X-Forwarded-For}i %l %u %t %r %s %b %{User-Agent}i %{Referer}i\r\n\r\n&gt;The main problem here, that RemoteIP Valve does take care of, is that you&#39;ll only get the X-Forwarded-For address in the logs. If you hit the app server directly, bypassing the device that is inserting the X-Forwarded-For header in the request, you won&#39;t get an IP address logged.  You will still log a request—you just will not know where it came from.\r\n","title":"How to log Client IP and X-Forwarded-For IP in tomcat access log","body":"<p>From <a href=\"http://www.techstacks.com/howto/configure-access-logging-in-tomcat.html\" rel=\"noreferrer\">http://www.techstacks.com/howto/configure-access-logging-in-tomcat.html</a>:</p>\n\n<blockquote>\n  <p>If you are running a version of tomcat greater than version 6.0.21 or tomcat 7, you can take advantage of the new Remote IP Valve. For access logging, the nice thing about this valve is that it will swap the client IP with an IP address passed with the X-Forwarded-For header—automatically—if an IP address is passed in the X-Forwarded-For header.  Loading it is pretty easy. Just add the org.apache.catalina.valves.RemoteIpValve to your server.xml before your AccessLogValve declaration. For example:</p>\n</blockquote>\n\n<pre><code> &lt;Host name=\"localhost\"  appBase=\"webapps\" unpackWARs=\"true\" autoDeploy=\"true\" xmlValidation=\"false\" xmlNamespaceAware=\"false\"&gt;\n\n  &lt;!-- Remote IP Valve --&gt;\n    &lt;Valve className=\"org.apache.catalina.valves.RemoteIpValve\" /&gt;\n\n  &lt;!-- Access log processes all example.\n    Documentation at: /docs/config/valve.html --&gt;\n\n  &lt;Valve className=\"org.apache.catalina.valves.AccessLogValve\" directory=\"logs\" \n    prefix=\"localhost_access_log.\" suffix=\".txt\"\n    pattern=\"combined\" resolveHosts=\"false\"/&gt;\n  --&gt;\n&lt;/Host&gt;\n</code></pre>\n\n<blockquote>\n  <p>If you are using a version of tomcat 6 older than 6.0.21 and you want to store the X-Forwarded-For IP address instead, then you could modify the pattern property of your AccessLogValve. You'll need to remove the \"common\" or \"combined\" pattern and replace it with one of the following patterns:</p>\n</blockquote>\n\n<pre><code>Common Log Format: %{X-Forwarded-For}i %l %u %t \"%r\" %s %b\nCombined Log Format: %{X-Forwarded-For}i %l %u %t %r %s %b %{User-Agent}i %{Referer}i\n</code></pre>\n\n<blockquote>\n  <p>The main problem here, that RemoteIP Valve does take care of, is that you'll only get the X-Forwarded-For address in the logs. If you hit the app server directly, bypassing the device that is inserting the X-Forwarded-For header in the request, you won't get an IP address logged.  You will still log a request—you just will not know where it came from.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4827758,"reputation":2373,"user_id":3896780,"display_name":"Mehmet Sunkur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1516117511,"creation_date":1515704496,"answer_id":48215725,"question_id":48103673,"body_markdown":"\r\n    &lt;Valve className=&quot;org.apache.catalina.valves.RemoteIpValve&quot;\r\n           remoteIpHeader=&quot;x-forwarded-for&quot; /&gt;\r\n    \r\n    &lt;Valve className=&quot;org.apache.catalina.valves.AccessLogValve&quot;\r\n        requestAttributesEnabled=&quot;true&quot;\r\n         pattern=&quot;Remote Ip is: %{org.apache.tomcat.remoteAddr}r&quot; /&gt;\r\n\r\nYou can add these two Valve definition into context.xml. So you can see remote ip in both case. Through load balancer or direct.\r\n\r\norg.apache.catalina.valves.RemoteIpValve detects &quot;x-forwarded-for&quot; header. If there is &quot;x-forwarded-for&quot; in header puts its value into &quot;org.apache.tomcat.remoteAddr&quot; request attribute. If there is no  &quot;x-forwarded-for&quot; in header puts client ip addr into &quot;org.apache.tomcat.remoteAddr&quot; request attribute.\r\n\r\nAccessLogValve config just logs &quot;org.apache.tomcat.remoteAddr&quot; request attribute which holds correct remote ip.","title":"How to log Client IP and X-Forwarded-For IP in tomcat access log","body":"<pre><code>&lt;Valve className=\"org.apache.catalina.valves.RemoteIpValve\"\n       remoteIpHeader=\"x-forwarded-for\" /&gt;\n\n&lt;Valve className=\"org.apache.catalina.valves.AccessLogValve\"\n    requestAttributesEnabled=\"true\"\n     pattern=\"Remote Ip is: %{org.apache.tomcat.remoteAddr}r\" /&gt;\n</code></pre>\n\n<p>You can add these two Valve definition into context.xml. So you can see remote ip in both case. Through load balancer or direct.</p>\n\n<p>org.apache.catalina.valves.RemoteIpValve detects \"x-forwarded-for\" header. If there is \"x-forwarded-for\" in header puts its value into \"org.apache.tomcat.remoteAddr\" request attribute. If there is no  \"x-forwarded-for\" in header puts client ip addr into \"org.apache.tomcat.remoteAddr\" request attribute.</p>\n\n<p>AccessLogValve config just logs \"org.apache.tomcat.remoteAddr\" request attribute which holds correct remote ip.</p>\n"},{"tags":[],"owner":{"account_id":14724592,"reputation":41,"user_id":10634046,"display_name":"Amino H."},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1553229620,"creation_date":1553152105,"answer_id":55275335,"question_id":48103673,"body_markdown":"I had this issue using an Apache reverse proxy in front of a Java application running on Tomcat/9.0.12\r\n\r\nI fixed it by adding this to Tomcat conf/server.xml , where to place the valve will depend on weather you want to apply this per Engine/Host/Context , i have added this 2 valves\r\n\r\n    &lt;Valve className=&quot;org.apache.catalina.valves.RemoteIpValve&quot; remoteIpHeader=&quot;x-forwarded-for&quot; protocolHeader=&quot;x-forwarded-proto&quot; /&gt;\r\n\r\n    &lt;Valve className=&quot;org.apache.catalina.valves.AccessLogValve&quot; directory=&quot;logs&quot; prefix=&quot;tomcat_access_log&quot; suffix=&quot;.log&quot; pattern=&quot;%t %{X-AUSERNAME}o %{User-Agent}i %a %m %r %b %s %D %I %{x-forwarded-for}i&quot; /&gt;\r\n\r\nyou don&#39;t need to define all remoteIpHeader and protocolHeader as these are the default values but I have added them just for clarity reason https://tomcat.apache.org/tomcat-9.0-doc/api/org/apache/catalina/valves/RemoteIpValve.html\r\n\r\n%a will show the proxy ip(or load-balancer) and %{x-forwarded-for}i will show the user ip","title":"How to log Client IP and X-Forwarded-For IP in tomcat access log","body":"<p>I had this issue using an Apache reverse proxy in front of a Java application running on Tomcat/9.0.12</p>\n\n<p>I fixed it by adding this to Tomcat conf/server.xml , where to place the valve will depend on weather you want to apply this per Engine/Host/Context , i have added this 2 valves</p>\n\n<pre><code>&lt;Valve className=\"org.apache.catalina.valves.RemoteIpValve\" remoteIpHeader=\"x-forwarded-for\" protocolHeader=\"x-forwarded-proto\" /&gt;\n\n&lt;Valve className=\"org.apache.catalina.valves.AccessLogValve\" directory=\"logs\" prefix=\"tomcat_access_log\" suffix=\".log\" pattern=\"%t %{X-AUSERNAME}o %{User-Agent}i %a %m %r %b %s %D %I %{x-forwarded-for}i\" /&gt;\n</code></pre>\n\n<p>you don't need to define all remoteIpHeader and protocolHeader as these are the default values but I have added them just for clarity reason <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/api/org/apache/catalina/valves/RemoteIpValve.html\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-9.0-doc/api/org/apache/catalina/valves/RemoteIpValve.html</a></p>\n\n<p>%a will show the proxy ip(or load-balancer) and %{x-forwarded-for}i will show the user ip</p>\n"},{"tags":[],"owner":{"account_id":5777292,"reputation":237,"user_id":4559023,"display_name":"Andy Foster"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643920526,"creation_date":1643920526,"answer_id":70977934,"question_id":48103673,"body_markdown":"To expand on the answers already provided here, it is possible to also exclude logging the checks from your load balancer.\r\n\r\nWhen the request passes through `RemoteIpValve`, if the request had an `X-Forwarded-For` header (or whatever you have configured for `remoteIpHeader`), an attribute is added to the request called `org.apache.catalina.AccessLog.RemoteAddr`. You can then use this in `AccessLogValve` to log only if this attribute is present.\r\n\r\nThis example works with tomcat9.\r\n\r\n```\r\n&lt;Valve className=&quot;org.apache.catalina.valves.RemoteIpValve&quot; /&gt;\r\n\r\n&lt;Valve className=&quot;org.apache.catalina.valves.AccessLogValve&quot;\r\n    directory=&quot;logs&quot;\r\n    prefix=&quot;access&quot;\r\n    suffix=&quot;.log&quot;\r\n    pattern=&quot;combined&quot;\r\n    renameOnRotate=&quot;true&quot;\r\n    requestAttributesEnabled=&quot;true&quot;\r\n    maxDays=&quot;90&quot;\r\n    conditionIf=&quot;org.apache.catalina.AccessLog.RemoteAddr&quot;\r\n/&gt;\r\n```\r\n\r\n","title":"How to log Client IP and X-Forwarded-For IP in tomcat access log","body":"<p>To expand on the answers already provided here, it is possible to also exclude logging the checks from your load balancer.</p>\n<p>When the request passes through <code>RemoteIpValve</code>, if the request had an <code>X-Forwarded-For</code> header (or whatever you have configured for <code>remoteIpHeader</code>), an attribute is added to the request called <code>org.apache.catalina.AccessLog.RemoteAddr</code>. You can then use this in <code>AccessLogValve</code> to log only if this attribute is present.</p>\n<p>This example works with tomcat9.</p>\n<pre><code>&lt;Valve className=&quot;org.apache.catalina.valves.RemoteIpValve&quot; /&gt;\n\n&lt;Valve className=&quot;org.apache.catalina.valves.AccessLogValve&quot;\n    directory=&quot;logs&quot;\n    prefix=&quot;access&quot;\n    suffix=&quot;.log&quot;\n    pattern=&quot;combined&quot;\n    renameOnRotate=&quot;true&quot;\n    requestAttributesEnabled=&quot;true&quot;\n    maxDays=&quot;90&quot;\n    conditionIf=&quot;org.apache.catalina.AccessLog.RemoteAddr&quot;\n/&gt;\n</code></pre>\n"}],"owner":{"account_id":2274718,"reputation":2054,"user_id":2001311,"accept_rate":39,"display_name":"Kishore Tamire"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43516,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":4,"score":9,"last_activity_date":1643920526,"creation_date":1515100509,"question_id":48103673,"body_markdown":"How to log Client IP and X-Forwarded-For IP in tomcat access log. \r\n\r\nI am using %{X-Forwarded-For}i and it logs the actual client address if I access through load balancer. But does not log the actual client address if I directly access the tomcat instance. Is there a way to display the actual client IP address in both the cases?","title":"How to log Client IP and X-Forwarded-For IP in tomcat access log","body":"<p>How to log Client IP and X-Forwarded-For IP in tomcat access log. </p>\n\n<p>I am using %{X-Forwarded-For}i and it logs the actual client address if I access through load balancer. But does not log the actual client address if I directly access the tomcat instance. Is there a way to display the actual client IP address in both the cases?</p>\n"},{"tags":["java","android","sqlite","android-cursor"],"answers":[{"tags":[],"owner":{"account_id":76936,"reputation":3773,"user_id":219929,"accept_rate":96,"display_name":"Matty F"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1315730673,"creation_date":1277390084,"answer_id":3110924,"question_id":3110868,"body_markdown":"I might be missing something here, wouldn&#39;t you have a nested loop.\r\n\r\nThe outer loop cycles through each records:\r\n\r\n    while (cursor.moveToNext()) {\r\n      ...\r\n      // inner loop here\r\n      ...\r\n    }\r\n\r\nand the inner loop would cycle through each column\r\n\r\n    for (i=0; i&lt;cursor.getColumnCount(); i++) {\r\n      ...\r\n      String var1 = cursor.getString(i);\r\n      ...\r\n    }","title":"Android SQLite Query and using cursor to deal with multiple rows","body":"<p>I might be missing something here, wouldn't you have a nested loop.</p>\n\n<p>The outer loop cycles through each records:</p>\n\n<pre><code>while (cursor.moveToNext()) {\n  ...\n  // inner loop here\n  ...\n}\n</code></pre>\n\n<p>and the inner loop would cycle through each column</p>\n\n<pre><code>for (i=0; i&lt;cursor.getColumnCount(); i++) {\n  ...\n  String var1 = cursor.getString(i);\n  ...\n}\n</code></pre>\n"}],"owner":{"account_id":147367,"reputation":43816,"user_id":358438,"accept_rate":73,"display_name":"Skizit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12771,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":3110924,"answer_count":1,"score":4,"last_activity_date":1643920438,"creation_date":1277389788,"question_id":3110868,"body_markdown":"I&#39;ve got a query, (I&#39;m using `rawQuery()`)\r\n\r\n      SELECT * FROM &lt;table&gt;\r\n\r\nI&#39;m then storing what it returns using a cursor. From their what I want to do is, start at the first row so.. `cursor.moveToFirst()` then take each column , column by column and store its particular value in a variable. I then want to move onto the next row and do the same. So I guess my question is How would I get cursor to deal with multiple columns?\r\n\r\nThanks,","title":"Android SQLite Query and using cursor to deal with multiple rows","body":"<p>I've got a query, (I'm using <code>rawQuery()</code>)</p>\n\n<pre><code>  SELECT * FROM &lt;table&gt;\n</code></pre>\n\n<p>I'm then storing what it returns using a cursor. From their what I want to do is, start at the first row so.. <code>cursor.moveToFirst()</code> then take each column , column by column and store its particular value in a variable. I then want to move onto the next row and do the same. So I guess my question is How would I get cursor to deal with multiple columns?</p>\n\n<p>Thanks,</p>\n"},{"tags":["java","kotlin"],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643919557,"creation_date":1643919557,"answer_id":70977760,"question_id":70977446,"body_markdown":"I don&#39;t think you need `runOnUiThread` because callbacks typically are automatically called on the UI thread already.\r\n\r\nYou can use a String template to fill a term into a String:\r\n\r\n```lang-kotlin\r\ndecodeCallback = DecodeCallback {\r\n    binding.button.text= &quot;Search For: ${it.text}&quot;\r\n}\r\n```\r\n\r\nIf you&#39;re on Android, you should use String resources so your user-facing strings are all defined in one place and you can do translations later easily. In your resources you would have something like this, where you use a Java format string.\r\n\r\n```lang-xml\r\n&lt;string name=&quot;searchButtonLabel&quot;&gt;Search For: %s&lt;/string&gt;\r\n```\r\n\r\nAnd then use \r\n\r\n```lang-kotlin\r\ndecodeCallback = DecodeCallback {\r\n    binding.button.text = getString(R.string.searchButtonLabel, it.text)\r\n}\r\n```\r\n\r\nIf this is in a Fragment, you&#39;d use `requireContext().getString(`.","title":"How can I append text and an output to a button?","body":"<p>I don't think you need <code>runOnUiThread</code> because callbacks typically are automatically called on the UI thread already.</p>\n<p>You can use a String template to fill a term into a String:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>decodeCallback = DecodeCallback {\n    binding.button.text= &quot;Search For: ${it.text}&quot;\n}\n</code></pre>\n<p>If you're on Android, you should use String resources so your user-facing strings are all defined in one place and you can do translations later easily. In your resources you would have something like this, where you use a Java format string.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;string name=&quot;searchButtonLabel&quot;&gt;Search For: %s&lt;/string&gt;\n</code></pre>\n<p>And then use</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>decodeCallback = DecodeCallback {\n    binding.button.text = getString(R.string.searchButtonLabel, it.text)\n}\n</code></pre>\n<p>If this is in a Fragment, you'd use <code>requireContext().getString(</code>.</p>\n"}],"owner":{"account_id":17114544,"reputation":75,"user_id":12384427,"display_name":"Patrick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70977760,"answer_count":1,"score":0,"last_activity_date":1643919557,"creation_date":1643917926,"question_id":70977446,"body_markdown":"I have a program that I&#39;m writing to scan barcodes.  \r\n\r\nRight now, I can get the output from the reader to show up in the button.  This is what the code looks like:\r\n\r\n    decodeCallback = DecodeCallback {\r\n                runOnUiThread {\r\n                    binding.button.text= it.text\r\n                }\r\n            }\r\n\r\nWhat I want it to say though is this:\r\n\r\n&quot;Search For:\r\n\r\n*foo*&quot;\r\n\r\nAll inside the button.\r\n\r\nI am really new to kotlin so I&#39;m struggling with this one.","title":"How can I append text and an output to a button?","body":"<p>I have a program that I'm writing to scan barcodes.</p>\n<p>Right now, I can get the output from the reader to show up in the button.  This is what the code looks like:</p>\n<pre><code>decodeCallback = DecodeCallback {\n            runOnUiThread {\n                binding.button.text= it.text\n            }\n        }\n</code></pre>\n<p>What I want it to say though is this:</p>\n<p>&quot;Search For:</p>\n<p><em>foo</em>&quot;</p>\n<p>All inside the button.</p>\n<p>I am really new to kotlin so I'm struggling with this one.</p>\n"},{"tags":["java","database","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":12469735,"reputation":13915,"user_id":9078341,"display_name":"Randy Casburn"},"score":0,"creation_date":1643904297,"post_id":70974419,"comment_id":125468292,"body_markdown":"Does this answer your question? [Why does Hibernate execute multiple SELECT queries instead of one when using @Fetch(FetchMode.JOIN)](https://stackoverflow.com/questions/27935761/why-does-hibernate-execute-multiple-select-queries-instead-of-one-when-using-fe) - focus on the &quot;transient children&quot; discussion the accepted answer.","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/27935761/why-does-hibernate-execute-multiple-select-queries-instead-of-one-when-using-fe\">Why does Hibernate execute multiple SELECT queries instead of one when using @Fetch(FetchMode.JOIN)</a> - focus on the &quot;transient children&quot; discussion the accepted answer."},{"owner":{"account_id":6532709,"reputation":432,"user_id":5053357,"accept_rate":38,"display_name":"Nero"},"score":0,"creation_date":1643904934,"post_id":70974419,"comment_id":125468590,"body_markdown":"@RandyCasburn similar issue of unwanted queries but I have my code set up as some of the answers have said to do","body":"@RandyCasburn similar issue of unwanted queries but I have my code set up as some of the answers have said to do"},{"owner":{"account_id":12469735,"reputation":13915,"user_id":9078341,"display_name":"Randy Casburn"},"score":0,"creation_date":1643905966,"post_id":70974419,"comment_id":125469025,"body_markdown":"Yes, I do see that. I suspect the second query happens when you access the the `address` of the `person`. That&#39;s the way Lazy works in Hibernate. Try using `@Cache` and see if that second query goes away.","body":"Yes, I do see that. I suspect the second query happens when you access the the <code>address</code> of the <code>person</code>. That&#39;s the way Lazy works in Hibernate. Try using <code>@Cache</code> and see if that second query goes away."},{"owner":{"account_id":18098038,"reputation":1240,"user_id":13156126,"display_name":"fladdimir"},"score":0,"creation_date":1643912685,"post_id":70974419,"comment_id":125471868,"body_markdown":"can you show your calling code which causes the queries? And why is it possible to omit the `@Param` annotation for the name query parameter? (I&#39;d expect a &quot;org.springframework.dao.InvalidDataAccessApiUsageException: For queries with named parameters you need to use provide names for method parameters.&quot;)","body":"can you show your calling code which causes the queries? And why is it possible to omit the <code>@Param</code> annotation for the name query parameter? (I&#39;d expect a &quot;org.springframework.dao.InvalidDataAccessApiUsageException: For queries with named parameters you need to use provide names for method parameters.&quot;)"},{"owner":{"account_id":6532709,"reputation":432,"user_id":5053357,"accept_rate":38,"display_name":"Nero"},"score":1,"creation_date":1643915244,"post_id":70974419,"comment_id":125472800,"body_markdown":"@fladdimir I have added the calling method which is a test code. I missed typing the &quot;@param&quot; . I have now added it above","body":"@fladdimir I have added the calling method which is a test code. I missed typing the &quot;@param&quot; . I have now added it above"},{"owner":{"account_id":18098038,"reputation":1240,"user_id":13156126,"display_name":"fladdimir"},"score":0,"creation_date":1643916174,"post_id":70974419,"comment_id":125473128,"body_markdown":"in your test you are not accessing the lazy `address` property - is the 2nd query for the address still executed?","body":"in your test you are not accessing the lazy <code>address</code> property - is the 2nd query for the address still executed?"},{"owner":{"account_id":18098038,"reputation":1240,"user_id":13156126,"display_name":"fladdimir"},"score":0,"creation_date":1643916545,"post_id":70974419,"comment_id":125473239,"body_markdown":"(and how is it possible to query with a `String` parameter when the ID type is `Long` ?)","body":"(and how is it possible to query with a <code>String</code> parameter when the ID type is <code>Long</code> ?)"},{"owner":{"account_id":6532709,"reputation":432,"user_id":5053357,"accept_rate":38,"display_name":"Nero"},"score":0,"creation_date":1643919363,"post_id":70974419,"comment_id":125474145,"body_markdown":"@fladdimir I am not accessing the lazy address in my test and the 2nd query still runs. String parameter is a typo. I updated it to Long","body":"@fladdimir I am not accessing the lazy address in my test and the 2nd query still runs. String parameter is a typo. I updated it to Long"},{"owner":{"account_id":18098038,"reputation":1240,"user_id":13156126,"display_name":"fladdimir"},"score":0,"creation_date":1644059869,"post_id":70974419,"comment_id":125508124,"body_markdown":"strange, replicating your issue as follows, it does run only a single query. can you spot any setup differences? https://github.com/fladdimir/so-jpa/blob/d23f6c31d671c00191b82ed09ec5c6b92cf4ae15/src/test/java/org/demo/onetoonelazy/OneToOneLazyTest.java#L64","body":"strange, replicating your issue as follows, it does run only a single query. can you spot any setup differences? <a href=\"https://github.com/fladdimir/so-jpa/blob/d23f6c31d671c00191b82ed09ec5c6b92cf4ae15/src/test/java/org/demo/onetoonelazy/OneToOneLazyTest.java#L64\" rel=\"nofollow noreferrer\">github.com/fladdimir/so-jpa/blob/&hellip;</a>"}],"owner":{"account_id":6532709,"reputation":432,"user_id":5053357,"accept_rate":38,"display_name":"Nero"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":598,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1643919287,"creation_date":1643903845,"question_id":70974419,"body_markdown":"I have one to one unidirectional mapping. I am explicitly fetching both data using &#39;left join fetch&#39;. Yet, when I run the query, hibernate runs 2 queries. Why?\r\n\r\n    public class Person {\r\n        @Id\r\n        private Long personId;\r\n\r\n        @OneToOne(fetch=FetchType.LAZY)\r\n        @JoinColumn(name=&quot;address_id&quot;, referrencedColumnName=&quot;address_id&quot;)\r\n        private Address address;\r\n    }\r\n    \r\n    public class Address {\r\n        @Id\r\n        @Column(name=&quot;address_id&quot;, nullable=false)\r\n        private Long addressId\r\n    }\r\n\r\n    public interface PersonRepository extends JpaRepository&lt;Person, Long&gt; {\r\n        @Query(value=&quot;select p from Person p left join fetch p.address where p.personId = :personId&quot;)\r\n        Person getPerson(@Param(&quot;personId&quot;) Long personId)\r\n    }\r\n\r\n    @DataJpaTest\r\n    @RunWith(SpringRunner.class)\r\n    public class PersonTest {\r\n        @Autowired\r\n        private PersonRepository repo;\r\n        @Test\r\n        public void test() {\r\n            Person person = repo.getPerson(1l);\r\n        }\r\n    }\r\n\r\n\r\nWhen I run the above test, it runs 2 queries. \r\n\r\n    1. select * from Person p left join address a on p.address_id=a.address_id where p.person_id=?\r\n    \r\n    2. select * from address a where a.address_id=? -- why is this run?\r\n\r\n\r\nWhy is it running the second query when it&#39;s lazily fetched and I am explicitly fetching it in my query? \r\n\r\n\r\nIf you see some typos, it&#39;s because I had to rename classes and type them manually.\r\n\r\nAnother [post][1] with somewhat similar issue was offered as a solution to this. But that doesn&#39;t solve the issue. \r\n1. I have set the relationship as lazy\r\n2. I am explicitly fetching the associated data\r\n3. It does not have N+1 issue, as this is a one to one relationship\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/27935761/why-does-hibernate-execute-multiple-select-queries-instead-of-one-when-using-fe","title":"Hibernate one to one unidirectional mapping runs additional query even if &#39;join fetch&#39; used in query","body":"<p>I have one to one unidirectional mapping. I am explicitly fetching both data using 'left join fetch'. Yet, when I run the query, hibernate runs 2 queries. Why?</p>\n<pre><code>public class Person {\n    @Id\n    private Long personId;\n\n    @OneToOne(fetch=FetchType.LAZY)\n    @JoinColumn(name=&quot;address_id&quot;, referrencedColumnName=&quot;address_id&quot;)\n    private Address address;\n}\n\npublic class Address {\n    @Id\n    @Column(name=&quot;address_id&quot;, nullable=false)\n    private Long addressId\n}\n\npublic interface PersonRepository extends JpaRepository&lt;Person, Long&gt; {\n    @Query(value=&quot;select p from Person p left join fetch p.address where p.personId = :personId&quot;)\n    Person getPerson(@Param(&quot;personId&quot;) Long personId)\n}\n\n@DataJpaTest\n@RunWith(SpringRunner.class)\npublic class PersonTest {\n    @Autowired\n    private PersonRepository repo;\n    @Test\n    public void test() {\n        Person person = repo.getPerson(1l);\n    }\n}\n</code></pre>\n<p>When I run the above test, it runs 2 queries.</p>\n<pre><code>1. select * from Person p left join address a on p.address_id=a.address_id where p.person_id=?\n\n2. select * from address a where a.address_id=? -- why is this run?\n</code></pre>\n<p>Why is it running the second query when it's lazily fetched and I am explicitly fetching it in my query?</p>\n<p>If you see some typos, it's because I had to rename classes and type them manually.</p>\n<p>Another <a href=\"https://stackoverflow.com/questions/27935761/why-does-hibernate-execute-multiple-select-queries-instead-of-one-when-using-fe\">post</a> with somewhat similar issue was offered as a solution to this. But that doesn't solve the issue.</p>\n<ol>\n<li>I have set the relationship as lazy</li>\n<li>I am explicitly fetching the associated data</li>\n<li>It does not have N+1 issue, as this is a one to one relationship</li>\n</ol>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1589463768,"post_id":61797434,"comment_id":109309051,"body_markdown":"Can you show us the error in the UI? One solution would seem to be to put your classes into packages, as src/main/java is *the* Java source folder Maven expects.","body":"Can you show us the error in the UI? One solution would seem to be to put your classes into packages, as src/main/java is <i>the</i> Java source folder Maven expects."},{"owner":{"account_id":267723,"reputation":351,"user_id":556070,"accept_rate":100,"display_name":"Nix"},"score":0,"creation_date":1589467592,"post_id":61797434,"comment_id":109311738,"body_markdown":"@nitind There is a capture from an other similar question in SO : https://i.stack.imgur.com/dNpjG.png","body":"@nitind There is a capture from an other similar question in SO : <a href=\"https://i.stack.imgur.com/dNpjG.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/dNpjG.png</a>"},{"owner":{"account_id":267723,"reputation":351,"user_id":556070,"accept_rate":100,"display_name":"Nix"},"score":0,"creation_date":1589467680,"post_id":61797434,"comment_id":109311802,"body_markdown":"Lol, I just saw that you already was in the commentaries of this question 6 years ago. https://stackoverflow.com/questions/25107628/creating-new-servlet-in-eclipse-kepler-for-maven-web-app-project","body":"Lol, I just saw that you already was in the commentaries of this question 6 years ago. <a href=\"https://stackoverflow.com/questions/25107628/creating-new-servlet-in-eclipse-kepler-for-maven-web-app-project\" title=\"creating new servlet in eclipse kepler for maven web app project\">stackoverflow.com/questions/25107628/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4949717,"reputation":1119,"user_id":3984101,"accept_rate":60,"display_name":"Nipun Thathsara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589464135,"creation_date":1589464135,"answer_id":61799020,"question_id":61797434,"body_markdown":"BY default maven takes `src/main/resources` as the resources root. You can try define the `resources` directory of the project with this maven plugin.\r\n\r\n```\r\n &lt;build&gt;\r\n   ...\r\n   &lt;resources&gt;\r\n     &lt;resource&gt;\r\n       &lt;directory&gt;[your folder here]&lt;/directory&gt;\r\n     &lt;/resource&gt;\r\n   &lt;/resources&gt;\r\n   ...\r\n &lt;/build&gt;\r\n```\r\n\r\nOr else, you should be probably do this in Eclipse UI from right click on the directory and set as Source Directory Root. (As it is in Idea)\r\n","title":"Random &quot;not a Java source folder&quot; in Eclipse Maven Projects","body":"<p>BY default maven takes <code>src/main/resources</code> as the resources root. You can try define the <code>resources</code> directory of the project with this maven plugin.</p>\n\n<pre><code> &lt;build&gt;\n   ...\n   &lt;resources&gt;\n     &lt;resource&gt;\n       &lt;directory&gt;[your folder here]&lt;/directory&gt;\n     &lt;/resource&gt;\n   &lt;/resources&gt;\n   ...\n &lt;/build&gt;\n</code></pre>\n\n<p>Or else, you should be probably do this in Eclipse UI from right click on the directory and set as Source Directory Root. (As it is in Idea)</p>\n"},{"tags":[],"owner":{"account_id":24148143,"reputation":1,"user_id":18113400,"display_name":"user18113400"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643918607,"creation_date":1643918607,"answer_id":70977581,"question_id":61797434,"body_markdown":"Try this - Right click the Maven Project -&gt; Build Path -&gt; Configure Build Path\r\nIn Order and Export tab, you can see the message like &#39;2 build path entries are missing&#39;\r\nNow select &#39;JRE System Library&#39; and &#39;Maven Dependencies&#39; checkbox","title":"Random &quot;not a Java source folder&quot; in Eclipse Maven Projects","body":"<p>Try this - Right click the Maven Project -&gt; Build Path -&gt; Configure Build Path\nIn Order and Export tab, you can see the message like '2 build path entries are missing'\nNow select 'JRE System Library' and 'Maven Dependencies' checkbox</p>\n"}],"owner":{"account_id":267723,"reputation":351,"user_id":556070,"accept_rate":100,"display_name":"Nix"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1643918607,"creation_date":1589459513,"question_id":61797434,"body_markdown":"When I create new Maven Projects with Eclipse I *sometimes* have the error &quot;servlets/beans is not a Java source folder&quot; when I create my first class in the folders src/main/java/beans or src/main/java/servlets. \r\n\r\nIt happens totally randomly and if I create several projects with exactly the same procedure I finally manage to have a project that doesn&#39;t have this problem.\r\n\r\nThe solution I found to not have to create several projects is to declare the servlets/beans folders as java source. But it&#39;s not perfect because my classes are not in packages, so my code is not directly shareable and I can&#39;t use some Spring functionalities. It seems that a solution could be in the &quot;Java Build Path&quot; but I didn&#39;t manage to make it work.\r\n\r\nThis problem happens from years across several Eclipse or Java versions (also Tomcat versions but it doesn&#39;t seem related). \r\n\r\nDo you have an explanation about why this problem appears (the most surprising is that it happens randomly) or an other solution than &quot;use as Java Source&quot; ? ","title":"Random &quot;not a Java source folder&quot; in Eclipse Maven Projects","body":"<p>When I create new Maven Projects with Eclipse I <em>sometimes</em> have the error \"servlets/beans is not a Java source folder\" when I create my first class in the folders src/main/java/beans or src/main/java/servlets. </p>\n\n<p>It happens totally randomly and if I create several projects with exactly the same procedure I finally manage to have a project that doesn't have this problem.</p>\n\n<p>The solution I found to not have to create several projects is to declare the servlets/beans folders as java source. But it's not perfect because my classes are not in packages, so my code is not directly shareable and I can't use some Spring functionalities. It seems that a solution could be in the \"Java Build Path\" but I didn't manage to make it work.</p>\n\n<p>This problem happens from years across several Eclipse or Java versions (also Tomcat versions but it doesn't seem related). </p>\n\n<p>Do you have an explanation about why this problem appears (the most surprising is that it happens randomly) or an other solution than \"use as Java Source\" ? </p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":1,"creation_date":1643917481,"post_id":70977327,"comment_id":125473557,"body_markdown":"did you step through the code in a debugger?","body":"did you step through the code in a debugger?"},{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1643917508,"post_id":70977327,"comment_id":125473567,"body_markdown":"What does your input file look like?  What are you passing for `args`?","body":"What does your input file look like?  What are you passing for <code>args</code>?"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1643922196,"post_id":70977327,"comment_id":125475072,"body_markdown":"Does the assignment say that 1-based indexes will be used? Because Java arrays (like most languages) are 0-based, and the indexes for length 8 would be 0 through 7, inclusive. It looks like it&#39;s the test driver (presumably not your code) which is calling your `isOpen` method with a value of 8 when the length is 8. It is possible you should be subtracting 1 from the values it passes to you. I would double check the documentation.","body":"Does the assignment say that 1-based indexes will be used? Because Java arrays (like most languages) are 0-based, and the indexes for length 8 would be 0 through 7, inclusive. It looks like it&#39;s the test driver (presumably not your code) which is calling your <code>isOpen</code> method with a value of 8 when the length is 8. It is possible you should be subtracting 1 from the values it passes to you. I would double check the documentation."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1643922354,"post_id":70977327,"comment_id":125475122,"body_markdown":"There is only one thing that jumps out at me as a possible error in your code. Method `open` says that it opens the site &quot;if it is not open already&quot;, but it increments `openSites` regardless of whether it was open or not, which would result in an incorrect count if it was already open. Setting the value in the `grid` to `true` would only be redundant if it was already open, but incrementing the value would be wrong, and performing the subsequent `union` operations may be, too; I don&#39;t know what they do.","body":"There is only one thing that jumps out at me as a possible error in your code. Method <code>open</code> says that it opens the site &quot;if it is not open already&quot;, but it increments <code>openSites</code> regardless of whether it was open or not, which would result in an incorrect count if it was already open. Setting the value in the <code>grid</code> to <code>true</code> would only be redundant if it was already open, but incrementing the value would be wrong, and performing the subsequent <code>union</code> operations may be, too; I don&#39;t know what they do."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1643922403,"post_id":70977327,"comment_id":125475147,"body_markdown":"To avoid that, you could return immediately at the beginning of `open` if that site on the grid is already open.","body":"To avoid that, you could return immediately at the beginning of <code>open</code> if that site on the grid is already open."}],"owner":{"account_id":19067362,"reputation":69,"user_id":13922226,"display_name":"Rose Ben Ann"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643917254,"creation_date":1643917254,"question_id":70977327,"body_markdown":"I am working on a Percolation java program. I have implemented the following Percolation.java file and am running into an error when testing it with certain input files, as described below.  \r\n\r\n    import edu.princeton.cs.algs4.In;\r\n    import edu.princeton.cs.algs4.StdOut;\r\n    import edu.princeton.cs.algs4.WeightedQuickUnionUF;\r\n    \r\n    public class Percolation {\r\n        private int n;\r\n        private WeightedQuickUnionUF verify;\r\n        private WeightedQuickUnionUF solution;\r\n        private int sink;\r\n        private int source = 0;\r\n        private boolean[][] grid;\r\n        private int openSites = 0;\r\n        private int length;\r\n    \r\n        // creates n-by-n grid, with all sites initially blocked\r\n        public Percolation(int n) {\r\n            if (n &lt;= 0) {\r\n                throw new IllegalArgumentException();\r\n            }\r\n            this.length = n;\r\n            this.grid = new boolean[length][length];\r\n    \r\n            this.sink = (length * length) + 1;\r\n            verify = new WeightedQuickUnionUF(length * length + 2);\r\n            solution = new WeightedQuickUnionUF(length * length + 2);\r\n    \r\n            for (int i = 0; i &lt; length; i++) {\r\n                verify.union(encode(0, i), source);\r\n                solution.union(encode(0, i), source);\r\n            }\r\n    \r\n            for (int j = 0; j &lt; length; j++) {\r\n                verify.union(encode(n - 1, j), sink);\r\n            }\r\n        }\r\n    \r\n        // opens the site (row, col) if it is not open already\r\n        public void open(int row, int col) {\r\n    \r\n            grid[row][col] = true;\r\n            openSites++;\r\n            if ((row - 1) &gt;= 0 &amp;&amp; isOpen(row - 1, col)) {\r\n                verify.union(encode(row, col), encode(row - 1, col));\r\n                solution.union(encode(row, col), encode(row - 1, col));\r\n            }\r\n            if ((row + 1) &lt; length &amp;&amp; isOpen(row + 1, col)) {\r\n                verify.union(encode(row, col), encode(row + 1, col));\r\n                solution.union(encode(row, col), encode(row + 1, col));\r\n            }\r\n            if ((col - 1) &gt;= 0 &amp;&amp; isOpen(row, col - 1)) {\r\n                verify.union(encode(row, col), encode(row, col - 1));\r\n                solution.union(encode(row, col), encode(row, col - 1));\r\n            }\r\n            if ((col + 1) &lt; length &amp;&amp; isOpen(row, col + 1)) {\r\n                verify.union(encode(row, col), encode(row, col + 1));\r\n                solution.union(encode(row, col), encode(row, col + 1));\r\n            }\r\n    \r\n        }\r\n    \r\n        // is the site (row, col) open?\r\n        public boolean isOpen(int row, int col) {\r\n            return grid[row][col];\r\n        }\r\n    \r\n        // is the site (row, col) full?\r\n        public boolean isFull(int row, int col) {\r\n            return solution.find(source) == solution.find(encode(row, col));\r\n        }\r\n    \r\n        // returns the number of open sites\r\n        public int numberOfOpenSites() {\r\n            return openSites;\r\n        }\r\n    \r\n        // does the system percolate?\r\n        public boolean percolates() {\r\n            return verify.find(0) == verify.find(sink);\r\n        }\r\n    \r\n        // An integer ID (1...n) for site (i, j).\r\n        private int encode(int row, int col) {\r\n            int number = length * row + 1 + col;\r\n            return number;\r\n        }\r\n    \r\n        // unit testing (required)\r\n        public static void main(String[] args) {\r\n            String filename = args[0];\r\n            In in = new In(filename);\r\n            int n = in.readInt();\r\n            Percolation perc = new Percolation(n);\r\n            while (!in.isEmpty()) {\r\n                int i = in.readInt();\r\n                int j = in.readInt();\r\n                perc.open(i, j);\r\n            }\r\n            StdOut.println(perc.numberOfOpenSites() + &quot; open sites&quot;);\r\n            if (perc.percolates()) {\r\n                StdOut.println(&quot;percolates&quot;);\r\n            }\r\n            else {\r\n                StdOut.println(&quot;does not percolate&quot;);\r\n            }\r\n    \r\n            // Check if site (i, j) optionally specified on the command line\r\n            // is full.\r\n            if (args.length == 3) {\r\n                int i = Integer.parseInt(args[1]);\r\n                int j = Integer.parseInt(args[2]);\r\n                StdOut.println(perc.isFull(i, j));\r\n            }\r\n        }\r\n    }\r\n\r\nHowever, when I test the code using certain input files, I receive error messages such as the following: \r\n\r\n    java.lang.ArrayIndexOutOfBoundsException: Index 8 out of bounds for length 8\r\n    Percolation.isOpen(Percolation.java:63)\r\n    TestPercolation.checkIsOpen(TestPercolation.java:122)\r\n    TestPercolation.checkIsOpen(TestPercolation.java:105)\r\n    TestPercolation.check(TestPercolation.java:177)\r\n    TestPercolation.checkFile(TestPercolation.java:198)\r\n    TestPercolation.test1(TestPercolation.java:659)\r\n    TestPercolation.main(TestPercolation.java:963)\r\n    \r\n    \r\n    java.lang.ArrayIndexOutOfBoundsException: Index 25 out of bounds for length 25\r\n    java.lang.ArrayIndexOutOfBoundsException: Index 3 out of bounds for length 3\r\n\r\nWhat in my code could be causing this? In other words, where is the issue and how can I fix it? \r\n\r\n","title":"Percolation and ArrayIndexOutOfBoundsException","body":"<p>I am working on a Percolation java program. I have implemented the following Percolation.java file and am running into an error when testing it with certain input files, as described below.</p>\n<pre><code>import edu.princeton.cs.algs4.In;\nimport edu.princeton.cs.algs4.StdOut;\nimport edu.princeton.cs.algs4.WeightedQuickUnionUF;\n\npublic class Percolation {\n    private int n;\n    private WeightedQuickUnionUF verify;\n    private WeightedQuickUnionUF solution;\n    private int sink;\n    private int source = 0;\n    private boolean[][] grid;\n    private int openSites = 0;\n    private int length;\n\n    // creates n-by-n grid, with all sites initially blocked\n    public Percolation(int n) {\n        if (n &lt;= 0) {\n            throw new IllegalArgumentException();\n        }\n        this.length = n;\n        this.grid = new boolean[length][length];\n\n        this.sink = (length * length) + 1;\n        verify = new WeightedQuickUnionUF(length * length + 2);\n        solution = new WeightedQuickUnionUF(length * length + 2);\n\n        for (int i = 0; i &lt; length; i++) {\n            verify.union(encode(0, i), source);\n            solution.union(encode(0, i), source);\n        }\n\n        for (int j = 0; j &lt; length; j++) {\n            verify.union(encode(n - 1, j), sink);\n        }\n    }\n\n    // opens the site (row, col) if it is not open already\n    public void open(int row, int col) {\n\n        grid[row][col] = true;\n        openSites++;\n        if ((row - 1) &gt;= 0 &amp;&amp; isOpen(row - 1, col)) {\n            verify.union(encode(row, col), encode(row - 1, col));\n            solution.union(encode(row, col), encode(row - 1, col));\n        }\n        if ((row + 1) &lt; length &amp;&amp; isOpen(row + 1, col)) {\n            verify.union(encode(row, col), encode(row + 1, col));\n            solution.union(encode(row, col), encode(row + 1, col));\n        }\n        if ((col - 1) &gt;= 0 &amp;&amp; isOpen(row, col - 1)) {\n            verify.union(encode(row, col), encode(row, col - 1));\n            solution.union(encode(row, col), encode(row, col - 1));\n        }\n        if ((col + 1) &lt; length &amp;&amp; isOpen(row, col + 1)) {\n            verify.union(encode(row, col), encode(row, col + 1));\n            solution.union(encode(row, col), encode(row, col + 1));\n        }\n\n    }\n\n    // is the site (row, col) open?\n    public boolean isOpen(int row, int col) {\n        return grid[row][col];\n    }\n\n    // is the site (row, col) full?\n    public boolean isFull(int row, int col) {\n        return solution.find(source) == solution.find(encode(row, col));\n    }\n\n    // returns the number of open sites\n    public int numberOfOpenSites() {\n        return openSites;\n    }\n\n    // does the system percolate?\n    public boolean percolates() {\n        return verify.find(0) == verify.find(sink);\n    }\n\n    // An integer ID (1...n) for site (i, j).\n    private int encode(int row, int col) {\n        int number = length * row + 1 + col;\n        return number;\n    }\n\n    // unit testing (required)\n    public static void main(String[] args) {\n        String filename = args[0];\n        In in = new In(filename);\n        int n = in.readInt();\n        Percolation perc = new Percolation(n);\n        while (!in.isEmpty()) {\n            int i = in.readInt();\n            int j = in.readInt();\n            perc.open(i, j);\n        }\n        StdOut.println(perc.numberOfOpenSites() + &quot; open sites&quot;);\n        if (perc.percolates()) {\n            StdOut.println(&quot;percolates&quot;);\n        }\n        else {\n            StdOut.println(&quot;does not percolate&quot;);\n        }\n\n        // Check if site (i, j) optionally specified on the command line\n        // is full.\n        if (args.length == 3) {\n            int i = Integer.parseInt(args[1]);\n            int j = Integer.parseInt(args[2]);\n            StdOut.println(perc.isFull(i, j));\n        }\n    }\n}\n</code></pre>\n<p>However, when I test the code using certain input files, I receive error messages such as the following:</p>\n<pre><code>java.lang.ArrayIndexOutOfBoundsException: Index 8 out of bounds for length 8\nPercolation.isOpen(Percolation.java:63)\nTestPercolation.checkIsOpen(TestPercolation.java:122)\nTestPercolation.checkIsOpen(TestPercolation.java:105)\nTestPercolation.check(TestPercolation.java:177)\nTestPercolation.checkFile(TestPercolation.java:198)\nTestPercolation.test1(TestPercolation.java:659)\nTestPercolation.main(TestPercolation.java:963)\n\n\njava.lang.ArrayIndexOutOfBoundsException: Index 25 out of bounds for length 25\njava.lang.ArrayIndexOutOfBoundsException: Index 3 out of bounds for length 3\n</code></pre>\n<p>What in my code could be causing this? In other words, where is the issue and how can I fix it?</p>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":12469735,"reputation":13915,"user_id":9078341,"display_name":"Randy Casburn"},"score":0,"creation_date":1643908209,"post_id":70975362,"comment_id":125470033,"body_markdown":"The most efficient time to do this is at parse time of the CSV file. The most efficient way to do this is with an appropriate data structure. You&#39;ve identified _key_ s having associated _values_ - a flat array is getting in your way.","body":"The most efficient time to do this is at parse time of the CSV file. The most efficient way to do this is with an appropriate data structure. You&#39;ve identified <i>key</i> s having associated <i>values</i> - a flat array is getting in your way."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1643908941,"post_id":70975362,"comment_id":125470328,"body_markdown":"What’s the problem with using a loop `for(int i = 1; i &lt; 1000; i++) a1[i] += a2[i]`? It’s just an array…","body":"What’s the problem with using a loop <code>for(int i = 1; i &lt; 1000; i++) a1[i] += a2[i]</code>? It’s just an array…"},{"owner":{"account_id":24137475,"reputation":59,"user_id":18104162,"display_name":"Rishi Kumar"},"score":0,"creation_date":1643910620,"post_id":70975362,"comment_id":125471015,"body_markdown":"Thanks everyone :)","body":"Thanks everyone :)"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1643912805,"post_id":70975362,"comment_id":125471914,"body_markdown":"@RishiKumar It would be very simple if instead of an array you had `List&lt;List&lt;Integer&gt;&gt;` instead of `List&lt;Integer[]&gt;`.  This is because lists can alter their size as needed but arrays can not.  But the array can be done if required.","body":"@RishiKumar It would be very simple if instead of an array you had <code>List&lt;List&lt;Integer&gt;&gt;</code> instead of <code>List&lt;Integer[]&gt;</code>.  This is because lists can alter their size as needed but arrays can not.  But the array can be done if required."}],"answers":[{"tags":[],"owner":{"account_id":11688295,"reputation":395,"user_id":8557336,"display_name":"Orr Benyamini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643909582,"creation_date":1643909582,"answer_id":70975739,"question_id":70975362,"body_markdown":"You can use Java existing summing reduce method:\r\n\r\n    Integer sum = integers.stream()\r\n    .reduce(0, Integer::sum);","title":"What to do if i have 1000 column in this given example in java 8","body":"<p>You can use Java existing summing reduce method:</p>\n<pre><code>Integer sum = integers.stream()\n.reduce(0, Integer::sum);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643917210,"creation_date":1643911069,"answer_id":70976070,"question_id":70975362,"body_markdown":"Here is one way to do it. Since you are reading from a csv file, you can do it on the fly. Here is a sample data file.\r\n```\r\n101, 2, 4\r\n102, 3, 5\r\n101, 4, 6\r\n102, 5, 7\r\n102, 7, 9\r\n```\r\n\r\n- use a scanner to open the file\r\n- split the line\r\n- get the numeric id\r\n- either create the entry value with id as first value in list or add sum to list.\r\n- after summing columns in with same id, convert to List&lt;Integer[]&gt; and print\r\n```\r\nMap&lt;Integer, Integer[]&gt; map = new HashMap&lt;&gt;();\r\ntry (Scanner scan =\r\n\t\tnew Scanner(new File(&quot;f:/testData.txt&quot;))) {\r\n\twhile (scan.hasNextLine()) {\r\n\t\tString line = scan.nextLine();\r\n\t\tint[] vals = Arrays.stream(line.split(&quot;\\\\s*,\\\\s*&quot;))\r\n\t\t\t\t.mapToInt(Integer::parseInt).toArray();\r\n\t\t\r\n\t\t// initialize the array if absent\r\n\t\tInteger[] arr = map.computeIfAbsent(vals[0], v -&gt; {\r\n\t\t\tInteger[] a = new Integer[vals.length];\r\n\t\t\tArrays.fill(a,0);\r\n\t\t\ta[0] = vals[0];\r\n\t\t\treturn a;\r\n\t\t});\r\n\t\t\r\n\t\tfor (int i = 1; i &lt; arr.length; i++) {\r\n\t\t\tarr[i] += vals[i];\r\n\t\t}\r\n\t}\r\n} catch (Exception e) {\r\n\te.printStackTrace();\r\n}\r\n\r\nList&lt;Integer[]&gt; list = new ArrayList&lt;&gt;(map.values());\r\n\r\nlist.forEach(a-&gt;System.out.println(Arrays.toString(a)));\r\n```\r\nprints\r\n```\r\n[101, 6, 10]\r\n[102, 15, 21]\r\n","title":"What to do if i have 1000 column in this given example in java 8","body":"<p>Here is one way to do it. Since you are reading from a csv file, you can do it on the fly. Here is a sample data file.</p>\n<pre><code>101, 2, 4\n102, 3, 5\n101, 4, 6\n102, 5, 7\n102, 7, 9\n</code></pre>\n<ul>\n<li>use a scanner to open the file</li>\n<li>split the line</li>\n<li>get the numeric id</li>\n<li>either create the entry value with id as first value in list or add sum to list.</li>\n<li>after summing columns in with same id, convert to List&lt;Integer[]&gt; and print</li>\n</ul>\n<pre><code>Map&lt;Integer, Integer[]&gt; map = new HashMap&lt;&gt;();\ntry (Scanner scan =\n        new Scanner(new File(&quot;f:/testData.txt&quot;))) {\n    while (scan.hasNextLine()) {\n        String line = scan.nextLine();\n        int[] vals = Arrays.stream(line.split(&quot;\\\\s*,\\\\s*&quot;))\n                .mapToInt(Integer::parseInt).toArray();\n        \n        // initialize the array if absent\n        Integer[] arr = map.computeIfAbsent(vals[0], v -&gt; {\n            Integer[] a = new Integer[vals.length];\n            Arrays.fill(a,0);\n            a[0] = vals[0];\n            return a;\n        });\n        \n        for (int i = 1; i &lt; arr.length; i++) {\n            arr[i] += vals[i];\n        }\n    }\n} catch (Exception e) {\n    e.printStackTrace();\n}\n\nList&lt;Integer[]&gt; list = new ArrayList&lt;&gt;(map.values());\n\nlist.forEach(a-&gt;System.out.println(Arrays.toString(a)));\n</code></pre>\n<p>prints</p>\n<pre><code>[101, 6, 10]\n[102, 15, 21]\n</code></pre>\n"}],"owner":{"account_id":24137475,"reputation":59,"user_id":18104162,"display_name":"Rishi Kumar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":70976070,"answer_count":2,"score":-1,"last_activity_date":1643917210,"creation_date":1643907711,"question_id":70975362,"body_markdown":"Aftere load data from csv file then list look like below and first column unique id and rest 999 have data value. I want to sum duplicate records based on unique id. How to simplify the code because I have to write 999 array?\r\n\r\n\r\nBelow code for one unique id and 2 data values (this code ok for 2 column):\r\n\r\n    Integer[] dataPeriod = new Integer[]{101, 2, 4};\r\n    Integer[] dataPeriod1 = new Integer[]{102, 3, 5};\r\n    Integer[] dataPeriod2 = new Integer[]{101, 4, 6};\r\n    Integer[] dataPeriod3 = new Integer[]{102, 5, 7};\r\n    Integer[] dataPeriod4 = new Integer[]{102, 7, 9};\r\n    Integer[][] data = {dataPeriod, dataPeriod1, dataPeriod2, dataPeriod3, dataPeriod4};\r\n\r\n    Collection&lt;Integer[]&gt; value = Arrays.stream(data).collect(Collectors.toMap(ints -&gt; ints[0],\r\n                Function.identity(), (a1, a2) -&gt; {\r\n                    a1[1] += a2[1];\r\n                    a1[2] += a2[2];\r\n                    return a1;\r\n                })).values();\r\n\r\nwhat if list like below:\r\n\r\n    Integer[] dataPeriod = new Integer[]{101, 2, 4,..................,1000th};\r\n    Integer[] dataPeriod1 = new Integer[]{102, 3, 5,..................,1000th};\r\n    Integer[] dataPeriod2 = new Integer[]{101, 4, 6,..................,1000th};\r\n    Integer[] dataPeriod3 = new Integer[]{102, 5, 7,..................,1000th};\r\n    Integer[] dataPeriod4 = new Integer[]{102, 7, 9,..................,1000th};\r\n    Integer[][] data = {dataPeriod, dataPeriod1, dataPeriod2, dataPeriod3, dataPeriod4,..................,dataPeriod999th};\r\n    Collection&lt;Integer[]&gt; value = Arrays.stream(data).collect(Collectors.toMap(ints -&gt; ints[0],\r\n                Function.identity(), (a1, a2) -&gt; {\r\n                    a1[1] += a2[1];\r\n                    a1[2] += a2[2];\r\n                    ..... += ....;\r\n                    ..... += ....;\r\n                    ..... += ....;\r\n                    ..... += ....;\r\n                    ..... += ....;\r\n                    a1[999] += a2[999];\r\n               [simplify the code because I have to write 999 array?]\r\n                    return a1;\r\n                })).values();\r\n\r\nExpected OP:\r\n\r\n    [0] = {101, 6, 10}\r\n    [1] = {102, 15, 21}\r\n\r\n\r\n","title":"What to do if i have 1000 column in this given example in java 8","body":"<p>Aftere load data from csv file then list look like below and first column unique id and rest 999 have data value. I want to sum duplicate records based on unique id. How to simplify the code because I have to write 999 array?</p>\n<p>Below code for one unique id and 2 data values (this code ok for 2 column):</p>\n<pre><code>Integer[] dataPeriod = new Integer[]{101, 2, 4};\nInteger[] dataPeriod1 = new Integer[]{102, 3, 5};\nInteger[] dataPeriod2 = new Integer[]{101, 4, 6};\nInteger[] dataPeriod3 = new Integer[]{102, 5, 7};\nInteger[] dataPeriod4 = new Integer[]{102, 7, 9};\nInteger[][] data = {dataPeriod, dataPeriod1, dataPeriod2, dataPeriod3, dataPeriod4};\n\nCollection&lt;Integer[]&gt; value = Arrays.stream(data).collect(Collectors.toMap(ints -&gt; ints[0],\n            Function.identity(), (a1, a2) -&gt; {\n                a1[1] += a2[1];\n                a1[2] += a2[2];\n                return a1;\n            })).values();\n</code></pre>\n<p>what if list like below:</p>\n<pre><code>Integer[] dataPeriod = new Integer[]{101, 2, 4,..................,1000th};\nInteger[] dataPeriod1 = new Integer[]{102, 3, 5,..................,1000th};\nInteger[] dataPeriod2 = new Integer[]{101, 4, 6,..................,1000th};\nInteger[] dataPeriod3 = new Integer[]{102, 5, 7,..................,1000th};\nInteger[] dataPeriod4 = new Integer[]{102, 7, 9,..................,1000th};\nInteger[][] data = {dataPeriod, dataPeriod1, dataPeriod2, dataPeriod3, dataPeriod4,..................,dataPeriod999th};\nCollection&lt;Integer[]&gt; value = Arrays.stream(data).collect(Collectors.toMap(ints -&gt; ints[0],\n            Function.identity(), (a1, a2) -&gt; {\n                a1[1] += a2[1];\n                a1[2] += a2[2];\n                ..... += ....;\n                ..... += ....;\n                ..... += ....;\n                ..... += ....;\n                ..... += ....;\n                a1[999] += a2[999];\n           [simplify the code because I have to write 999 array?]\n                return a1;\n            })).values();\n</code></pre>\n<p>Expected OP:</p>\n<pre><code>[0] = {101, 6, 10}\n[1] = {102, 15, 21}\n</code></pre>\n"},{"tags":["java","asynchronous","double-checked-locking"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1643703144,"post_id":70937075,"comment_id":125403707,"body_markdown":"That&#39;s not blocking the processing thread and async doesn&#39;t ban blocking outright (just strongly discourages it for good reasons). I would&#39;ve done this with a `ThreadPool` with a zero queuesize and a proper rejectpolicy, but if you want to show off your &quot;skills&quot; with DCL I guess this is a decent effort.","body":"That&#39;s not blocking the processing thread and async doesn&#39;t ban blocking outright (just strongly discourages it for good reasons). I would&#39;ve done this with a <code>ThreadPool</code> with a zero queuesize and a proper rejectpolicy, but if you want to show off your &quot;skills&quot; with DCL I guess this is a decent effort."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1643734682,"post_id":70937075,"comment_id":125416345,"body_markdown":"What exactly do your mean by “multi-user application”? What architecture? Is this a Jakarta EE app?","body":"What exactly do your mean by “multi-user application”? What architecture? Is this a Jakarta EE app?"},{"owner":{"account_id":1791880,"reputation":33,"user_id":1632063,"display_name":"Bobby_Bob"},"score":0,"creation_date":1643743264,"post_id":70937075,"comment_id":125419652,"body_markdown":"It is a web-application based on servlets, running in Tomcat.","body":"It is a web-application based on servlets, running in Tomcat."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643917198,"creation_date":1643735404,"answer_id":70944680,"question_id":70937075,"body_markdown":"Perhaps I’ve misunderstood the problem, but it seems you are over complicating the situation. Rather than keeping track of the task, keep track of the `Future` returned by `ExecutorService#submit`. A `Future` object is your tether leading back to the task being executed. \r\n\r\nDefine a member field for the `Future`. \r\n\r\n    Future future ;\r\n\r\nTest the `Future` when request to process is made. Call [`Future#isDone`][1] to test. Javadoc says:\r\n\r\n&gt; Returns true if this task completed. Completion may be due to normal termination, an exception, or cancellation -- in all of these cases, this method will return true.\r\n\r\n    if( Objects.isNull( this.future ) || this.future.isDone() ) {\r\n        … proceed with request to process data.\r\n        this.future = executorService.submit( … ) ;\r\n        return Optional.of( this.future ) ;\r\n    } else {\r\n        … Refuse the request to process data.\r\n        … Do *not* submit any task to the executor service. \r\n        return Optional.empty() ;\r\n    }\r\n\r\n\r\n# `TaskMaster` solution \r\n\r\n\r\nIn various comments, you presented more details of your problem.\r\n\r\nYou want to submit tasks from various threads to a single object. Let&#39;s call that object `TaskMaster` for clarity. That `TaskMaster` instance tracks whether its nested executor service is currently working on a task or not. \r\n\r\n - If busy working on a task, any incoming task tendered is rejected. That rejection takes the form of an `Optional&lt; Future &gt;`. \r\n - If not currently working on a task, the tendered task is accepted, and assigned to the executor service for immediate execution. This acceptance takes the form of a loaded `Optional&lt; Future &gt;`. \r\n\r\nSince the code shown above discussed here will be accessed across threads, we must protect the `Future future ;` in a thread-safe manner. One easy way to do that is to mark `synchronized` on the one and only method for tendering a task to the `TaskMaster`. \r\n\r\n```java\r\npackage singletask;\r\n\r\nimport java.util.Objects;\r\nimport java.util.Optional;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.Future;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\n// Runs one task at a time, rejecting any task tendered while already executing a task.\r\npublic class TaskMaster\r\n{\r\n    // Member fields.\r\n    private final ExecutorService executorService;\r\n    private Future future;\r\n\r\n    // Constructor\r\n    public TaskMaster ( )\r\n    {\r\n        this.executorService = Executors.newSingleThreadExecutor();\r\n    }\r\n\r\n    public synchronized Optional &lt; Future &gt; tender ( Runnable task )\r\n    {\r\n        if ( Objects.isNull( this.future ) || this.future.isDone() )\r\n        {\r\n            // Proceed with immediate execution of the tendered task.\r\n            this.future = executorService.submit( task );\r\n            return Optional.of( this.future );\r\n        } else\r\n        {\r\n            // Already busy on a task. Reject this tendered task.\r\n            return Optional.empty();\r\n        }\r\n    }\r\n\r\n    public void shutdownAndAwaitTerminationOfExecutorService ( )\r\n    {\r\n        if ( Objects.isNull( this.executorService ) ) { return; }\r\n        this.executorService.shutdown(); // Stop new tasks from being submitted.\r\n        try\r\n        {\r\n            // Wait a while for existing tasks to terminate\r\n            if ( ! this.executorService.awaitTermination( 60 , TimeUnit.SECONDS ) )\r\n            {\r\n                this.executorService.shutdownNow(); // Cancel currently executing tasks\r\n                // Wait a while for tasks to respond to being cancelled\r\n                if ( ! this.executorService.awaitTermination( 60 , TimeUnit.SECONDS ) )\r\n                    System.err.println( &quot;Pool did not terminate.&quot; );\r\n            }\r\n        }\r\n        catch ( InterruptedException ex )\r\n        {\r\n            // (Re-)Cancel if current thread also interrupted\r\n            this.executorService.shutdownNow();\r\n            // Preserve interrupt status\r\n            Thread.currentThread().interrupt();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nUsage shown next. **Beware:** Multithreaded calls to `System.out.println` do *not* always appear on the console chronologically. Always include, and inspect, timestamps to verify the order. \r\n\r\n```java\r\npackage singletask;\r\n\r\nimport java.time.Duration;\r\nimport java.time.Instant;\r\nimport java.util.Optional;\r\nimport java.util.UUID;\r\nimport java.util.concurrent.Future;\r\n\r\npublic class App\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        App app = new App();\r\n        app.demo();\r\n    }\r\n\r\n    private void demo ( )\r\n    {\r\n        Runnable task = ( ) -&gt; {\r\n            UUID taskID = UUID.randomUUID();\r\n            System.out.println( &quot;Starting task &quot; + taskID + &quot; at &quot; + Instant.now() );\r\n            // Pretend to do some long hard work, by sleeping.\r\n            try { Thread.sleep( Duration.ofSeconds( 5 ).toMillis() ); } catch ( InterruptedException e ) { e.printStackTrace(); }\r\n            System.out.println( &quot;Ending task &quot; + taskID + &quot; at &quot; + Instant.now() );\r\n        };\r\n\r\n        TaskMaster taskMaster = new TaskMaster();\r\n\r\n        Optional &lt; Future &gt; f1 = taskMaster.tender( task ); // We expect acceptance, showing `Optional[java.util.concurrent.FutureTask@…`.\r\n        try { Thread.sleep( Duration.ofMillis( 500 ).toMillis() ); } catch ( InterruptedException e ) { e.printStackTrace(); }\r\n        System.out.println( &quot;f1 = &quot; + f1 );\r\n\r\n        Optional &lt; Future &gt; f2 = taskMaster.tender( task ); // We expect rejection, showing `Optional.empty`.\r\n        System.out.println( &quot;f2 = &quot; + f2 );\r\n\r\n        try { Thread.sleep( Duration.ofSeconds( 7 ).toMillis() ); } catch ( InterruptedException e ) { e.printStackTrace(); }\r\n        Optional &lt; Future &gt; f3 = taskMaster.tender( task ); // We expect acceptance, showing `Optional[java.util.concurrent.FutureTask@…`.\r\n        System.out.println( &quot;f3 = &quot; + f3 );\r\n\r\n        // Attempt a graceful shutwdown.\r\n        taskMaster.shutdownAndAwaitTerminationOfExecutorService();\r\n        System.out.println( &quot;Demo ending at &quot; + Instant.now() );\r\n    }\r\n}\r\n```\r\n\r\nWhen run.\r\n\r\n```none\r\nStarting task cc48efaa-390b-414d-9f3a-539e2be249b9 at 2022-02-03T06:42:58.516852Z\r\nf1 = Optional[java.util.concurrent.FutureTask@1fb3ebeb[Not completed, task = java.util.concurrent.Executors$RunnableAdapter@31befd9f[Wrapped task = singletask.App$$Lambda$14/0x0000000800c01208@1c20c684]]]\r\nf2 = Optional.empty\r\nEnding task cc48efaa-390b-414d-9f3a-539e2be249b9 at 2022-02-03T06:43:03.530138Z\r\nStarting task a3de548c-b068-435c-a6cb-856d2f539042 at 2022-02-03T06:43:06.011485Z\r\nf3 = Optional[java.util.concurrent.FutureTask@816f27d[Not completed, task = java.util.concurrent.Executors$RunnableAdapter@1218025c[Wrapped task = singletask.App$$Lambda$14/0x0000000800c01208@1c20c684]]]\r\nEnding task a3de548c-b068-435c-a6cb-856d2f539042 at 2022-02-03T06:43:11.013576Z\r\nDemo ending at 2022-02-03T06:43:11.014180Z\r\n```\r\n\r\n# Custom `ExecutorService`\r\n\r\nWhile that `TaskMaster` code above works, and offers the `Optional` objects you asked for, I would recommend another approach.\r\n\r\n&#128073; You can make your own version of an `ExecutorService`. Your implementation could do something similar to what we saw above, tracking a single task’s execution.\r\n\r\nRather than returning an `Optional&lt; Future &gt;`, the more orthodox approach would be to provide a [`submit`][2] method implementation that either:\r\n\r\n - Returns a `Future` if the tendered task can be immediately executed, or …\r\n - Throws a [`RejectedExecutionException`][3] because a task is already running. \r\n\r\nThis behavior is defined in the Javadoc of `ExecutorService`. Any methods of your which tender tasks to this custom executor service would trap for this exception rather than examine an `Optional`. \r\n\r\nIn other words, to modify an excerpt from your Comment:\r\n\r\n&gt;If two users simultaneously try to request data processing, only one of them will succeed and receive a `Future`, and another will see an exception thrown, indicating that the request was rejected. \r\n\r\nWith this custom executor service, the calling programmer has less to learn. The calling programmer would not need to understand the semantics of the `TaskMaster` class, they need to understand only the common `ExecutorService` behavior.\r\n\r\nTip: The [`AbstractExecutorService`][4] class might make creating your own executor service easier.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Future.html#isDone()\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html#submit(java.lang.Runnable)\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/RejectedExecutionException.html\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/AbstractExecutorService.html","title":"Asynchronous single task executor","body":"<p>Perhaps I’ve misunderstood the problem, but it seems you are over complicating the situation. Rather than keeping track of the task, keep track of the <code>Future</code> returned by <code>ExecutorService#submit</code>. A <code>Future</code> object is your tether leading back to the task being executed.</p>\n<p>Define a member field for the <code>Future</code>.</p>\n<pre><code>Future future ;\n</code></pre>\n<p>Test the <code>Future</code> when request to process is made. Call <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Future.html#isDone()\" rel=\"nofollow noreferrer\"><code>Future#isDone</code></a> to test. Javadoc says:</p>\n<blockquote>\n<p>Returns true if this task completed. Completion may be due to normal termination, an exception, or cancellation -- in all of these cases, this method will return true.</p>\n</blockquote>\n<pre><code>if( Objects.isNull( this.future ) || this.future.isDone() ) {\n    … proceed with request to process data.\n    this.future = executorService.submit( … ) ;\n    return Optional.of( this.future ) ;\n} else {\n    … Refuse the request to process data.\n    … Do *not* submit any task to the executor service. \n    return Optional.empty() ;\n}\n</code></pre>\n<h1><code>TaskMaster</code> solution</h1>\n<p>In various comments, you presented more details of your problem.</p>\n<p>You want to submit tasks from various threads to a single object. Let's call that object <code>TaskMaster</code> for clarity. That <code>TaskMaster</code> instance tracks whether its nested executor service is currently working on a task or not.</p>\n<ul>\n<li>If busy working on a task, any incoming task tendered is rejected. That rejection takes the form of an <code>Optional&lt; Future &gt;</code>.</li>\n<li>If not currently working on a task, the tendered task is accepted, and assigned to the executor service for immediate execution. This acceptance takes the form of a loaded <code>Optional&lt; Future &gt;</code>.</li>\n</ul>\n<p>Since the code shown above discussed here will be accessed across threads, we must protect the <code>Future future ;</code> in a thread-safe manner. One easy way to do that is to mark <code>synchronized</code> on the one and only method for tendering a task to the <code>TaskMaster</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package singletask;\n\nimport java.util.Objects;\nimport java.util.Optional;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.Future;\nimport java.util.concurrent.TimeUnit;\n\n// Runs one task at a time, rejecting any task tendered while already executing a task.\npublic class TaskMaster\n{\n    // Member fields.\n    private final ExecutorService executorService;\n    private Future future;\n\n    // Constructor\n    public TaskMaster ( )\n    {\n        this.executorService = Executors.newSingleThreadExecutor();\n    }\n\n    public synchronized Optional &lt; Future &gt; tender ( Runnable task )\n    {\n        if ( Objects.isNull( this.future ) || this.future.isDone() )\n        {\n            // Proceed with immediate execution of the tendered task.\n            this.future = executorService.submit( task );\n            return Optional.of( this.future );\n        } else\n        {\n            // Already busy on a task. Reject this tendered task.\n            return Optional.empty();\n        }\n    }\n\n    public void shutdownAndAwaitTerminationOfExecutorService ( )\n    {\n        if ( Objects.isNull( this.executorService ) ) { return; }\n        this.executorService.shutdown(); // Stop new tasks from being submitted.\n        try\n        {\n            // Wait a while for existing tasks to terminate\n            if ( ! this.executorService.awaitTermination( 60 , TimeUnit.SECONDS ) )\n            {\n                this.executorService.shutdownNow(); // Cancel currently executing tasks\n                // Wait a while for tasks to respond to being cancelled\n                if ( ! this.executorService.awaitTermination( 60 , TimeUnit.SECONDS ) )\n                    System.err.println( &quot;Pool did not terminate.&quot; );\n            }\n        }\n        catch ( InterruptedException ex )\n        {\n            // (Re-)Cancel if current thread also interrupted\n            this.executorService.shutdownNow();\n            // Preserve interrupt status\n            Thread.currentThread().interrupt();\n        }\n    }\n}\n</code></pre>\n<p>Usage shown next. <strong>Beware:</strong> Multithreaded calls to <code>System.out.println</code> do <em>not</em> always appear on the console chronologically. Always include, and inspect, timestamps to verify the order.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package singletask;\n\nimport java.time.Duration;\nimport java.time.Instant;\nimport java.util.Optional;\nimport java.util.UUID;\nimport java.util.concurrent.Future;\n\npublic class App\n{\n    public static void main ( String[] args )\n    {\n        App app = new App();\n        app.demo();\n    }\n\n    private void demo ( )\n    {\n        Runnable task = ( ) -&gt; {\n            UUID taskID = UUID.randomUUID();\n            System.out.println( &quot;Starting task &quot; + taskID + &quot; at &quot; + Instant.now() );\n            // Pretend to do some long hard work, by sleeping.\n            try { Thread.sleep( Duration.ofSeconds( 5 ).toMillis() ); } catch ( InterruptedException e ) { e.printStackTrace(); }\n            System.out.println( &quot;Ending task &quot; + taskID + &quot; at &quot; + Instant.now() );\n        };\n\n        TaskMaster taskMaster = new TaskMaster();\n\n        Optional &lt; Future &gt; f1 = taskMaster.tender( task ); // We expect acceptance, showing `Optional[java.util.concurrent.FutureTask@…`.\n        try { Thread.sleep( Duration.ofMillis( 500 ).toMillis() ); } catch ( InterruptedException e ) { e.printStackTrace(); }\n        System.out.println( &quot;f1 = &quot; + f1 );\n\n        Optional &lt; Future &gt; f2 = taskMaster.tender( task ); // We expect rejection, showing `Optional.empty`.\n        System.out.println( &quot;f2 = &quot; + f2 );\n\n        try { Thread.sleep( Duration.ofSeconds( 7 ).toMillis() ); } catch ( InterruptedException e ) { e.printStackTrace(); }\n        Optional &lt; Future &gt; f3 = taskMaster.tender( task ); // We expect acceptance, showing `Optional[java.util.concurrent.FutureTask@…`.\n        System.out.println( &quot;f3 = &quot; + f3 );\n\n        // Attempt a graceful shutwdown.\n        taskMaster.shutdownAndAwaitTerminationOfExecutorService();\n        System.out.println( &quot;Demo ending at &quot; + Instant.now() );\n    }\n}\n</code></pre>\n<p>When run.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Starting task cc48efaa-390b-414d-9f3a-539e2be249b9 at 2022-02-03T06:42:58.516852Z\nf1 = Optional[java.util.concurrent.FutureTask@1fb3ebeb[Not completed, task = java.util.concurrent.Executors$RunnableAdapter@31befd9f[Wrapped task = singletask.App$$Lambda$14/0x0000000800c01208@1c20c684]]]\nf2 = Optional.empty\nEnding task cc48efaa-390b-414d-9f3a-539e2be249b9 at 2022-02-03T06:43:03.530138Z\nStarting task a3de548c-b068-435c-a6cb-856d2f539042 at 2022-02-03T06:43:06.011485Z\nf3 = Optional[java.util.concurrent.FutureTask@816f27d[Not completed, task = java.util.concurrent.Executors$RunnableAdapter@1218025c[Wrapped task = singletask.App$$Lambda$14/0x0000000800c01208@1c20c684]]]\nEnding task a3de548c-b068-435c-a6cb-856d2f539042 at 2022-02-03T06:43:11.013576Z\nDemo ending at 2022-02-03T06:43:11.014180Z\n</code></pre>\n<h1>Custom <code>ExecutorService</code></h1>\n<p>While that <code>TaskMaster</code> code above works, and offers the <code>Optional</code> objects you asked for, I would recommend another approach.</p>\n<p>👉 You can make your own version of an <code>ExecutorService</code>. Your implementation could do something similar to what we saw above, tracking a single task’s execution.</p>\n<p>Rather than returning an <code>Optional&lt; Future &gt;</code>, the more orthodox approach would be to provide a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html#submit(java.lang.Runnable)\" rel=\"nofollow noreferrer\"><code>submit</code></a> method implementation that either:</p>\n<ul>\n<li>Returns a <code>Future</code> if the tendered task can be immediately executed, or …</li>\n<li>Throws a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/RejectedExecutionException.html\" rel=\"nofollow noreferrer\"><code>RejectedExecutionException</code></a> because a task is already running.</li>\n</ul>\n<p>This behavior is defined in the Javadoc of <code>ExecutorService</code>. Any methods of your which tender tasks to this custom executor service would trap for this exception rather than examine an <code>Optional</code>.</p>\n<p>In other words, to modify an excerpt from your Comment:</p>\n<blockquote>\n<p>If two users simultaneously try to request data processing, only one of them will succeed and receive a <code>Future</code>, and another will see an exception thrown, indicating that the request was rejected.</p>\n</blockquote>\n<p>With this custom executor service, the calling programmer has less to learn. The calling programmer would not need to understand the semantics of the <code>TaskMaster</code> class, they need to understand only the common <code>ExecutorService</code> behavior.</p>\n<p>Tip: The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/AbstractExecutorService.html\" rel=\"nofollow noreferrer\"><code>AbstractExecutorService</code></a> class might make creating your own executor service easier.</p>\n"}],"owner":{"account_id":1791880,"reputation":33,"user_id":1632063,"display_name":"Bobby_Bob"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2156,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70944680,"answer_count":1,"score":3,"last_activity_date":1643917198,"creation_date":1643701762,"question_id":70937075,"body_markdown":"I&#39;m in doubt if the solution below is correct for the following: \r\n* in a multi-user application any user can start processing of given data by clicking a button\r\n* processing takes long time thus it should be executed asynchronously to not block GUI\r\n* if one user has already started the processing, the other requests should be rejected till it completes\r\n\r\nBelow is the code used to solve this:\r\n``` lang-java\r\n    public class Processor {\r\n    \tprivate final ExecutorService execService = Executors.newSingleThreadExecutor();\r\n    \tprivate final Object monitor = new Object();\r\n    \tprivate AtomicReference&lt;Task&gt; runningTask = new AtomicReference&lt;&gt;(null);\r\n\t    \r\n    \tpublic Optional&lt;CompletableFuture&lt;String&gt;&gt; processDataAsync(String data) {\r\n    \t\tif (runningTask.get() != null)\r\n    \t\t\treturn Optional.empty();  //rejecting data process request because another request is already being served\r\n    \t\t\r\n    \t\tsynchronized (monitor) {\r\n    \t\t\tif (runningTask.get() != null)\r\n    \t\t\t\treturn Optional.empty();\r\n    \t\t\t\r\n    \t\t\tCompletableFuture&lt;String&gt; f = new CompletableFuture&lt;&gt;();\r\n    \t\t\tf.whenComplete((r, e) -&gt; runningTask.set(null));  //when processing completes, another data process request can be accepted\r\n    \t\t\t\r\n    \t\t\tTask task = new Task(f, data);\r\n    \t\t\trunningTask.set(task);\r\n    \t\t\texecService.submit(task);\r\n    \t\t\treturn Optional.of(f);\r\n    \t\t}\r\n    \t}\r\n    }\t\r\n```\r\n\r\n`Task` is `Runnable` as below:\r\n``` lang-java\r\n    public class Task implements Runnable {\r\n\t\tprivate final CompletableFuture&lt;String&gt; result;\r\n\t\tprivate final String data;\r\n\t\t\r\n\t\tpublic Task(CompletableFuture&lt;String&gt; result, String data) {\r\n\t\t\tthis.result = result;\r\n\t\t\tthis.data = data;\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic void run() {\r\n\t\t\tString processingResult = processData(data);  //does some blocking stuff with data, returning result of processing\r\n\t\t\tresult.complete(processingResult);\r\n\t\t}\r\n\t}\r\n```\r\n\r\nWhat confuses me here is the synchronization (i.e. blocking) in `processDataAsync`. I understand that blocking here is very short and not critical, but shouldn&#39;t asynchronous method be always implemented without blocking? If so, I can&#39;t imagine how &quot;single processing&quot; can be achieved without synchronization.","title":"Asynchronous single task executor","body":"<p>I'm in doubt if the solution below is correct for the following:</p>\n<ul>\n<li>in a multi-user application any user can start processing of given data by clicking a button</li>\n<li>processing takes long time thus it should be executed asynchronously to not block GUI</li>\n<li>if one user has already started the processing, the other requests should be rejected till it completes</li>\n</ul>\n<p>Below is the code used to solve this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class Processor {\n        private final ExecutorService execService = Executors.newSingleThreadExecutor();\n        private final Object monitor = new Object();\n        private AtomicReference&lt;Task&gt; runningTask = new AtomicReference&lt;&gt;(null);\n        \n        public Optional&lt;CompletableFuture&lt;String&gt;&gt; processDataAsync(String data) {\n            if (runningTask.get() != null)\n                return Optional.empty();  //rejecting data process request because another request is already being served\n            \n            synchronized (monitor) {\n                if (runningTask.get() != null)\n                    return Optional.empty();\n                \n                CompletableFuture&lt;String&gt; f = new CompletableFuture&lt;&gt;();\n                f.whenComplete((r, e) -&gt; runningTask.set(null));  //when processing completes, another data process request can be accepted\n                \n                Task task = new Task(f, data);\n                runningTask.set(task);\n                execService.submit(task);\n                return Optional.of(f);\n            }\n        }\n    }   \n</code></pre>\n<p><code>Task</code> is <code>Runnable</code> as below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class Task implements Runnable {\n        private final CompletableFuture&lt;String&gt; result;\n        private final String data;\n        \n        public Task(CompletableFuture&lt;String&gt; result, String data) {\n            this.result = result;\n            this.data = data;\n        }\n        \n        @Override\n        public void run() {\n            String processingResult = processData(data);  //does some blocking stuff with data, returning result of processing\n            result.complete(processingResult);\n        }\n    }\n</code></pre>\n<p>What confuses me here is the synchronization (i.e. blocking) in <code>processDataAsync</code>. I understand that blocking here is very short and not critical, but shouldn't asynchronous method be always implemented without blocking? If so, I can't imagine how &quot;single processing&quot; can be achieved without synchronization.</p>\n"},{"tags":["java","clone","protected"],"comments":[{"owner":{"account_id":15152392,"reputation":147,"user_id":10934377,"display_name":"Heiko Ribberink"},"score":0,"creation_date":1643917354,"post_id":70977181,"comment_id":125473521,"body_markdown":"The solution given used a feature of Java called reflection: in Java, you are able to change a program&#39;s code at runtime, see [Reflective programming](https://en.wikipedia.org/wiki/Reflective_programming).\nBasically: the compiler doesn&#39;t allow you to call the function, because it is protected. Because this is a problem for you, you sort of &#39;hack&#39; the compiler to do what you want.\nI would not encourage this kind of programming. There is usually a reason why a library would not expose a function or field and therefore you should not try to &#39;hack&#39; into it to still get it.","body":"The solution given used a feature of Java called reflection: in Java, you are able to change a program&#39;s code at runtime, see <a href=\"https://en.wikipedia.org/wiki/Reflective_programming\" rel=\"nofollow noreferrer\">Reflective programming</a>. Basically: the compiler doesn&#39;t allow you to call the function, because it is protected. Because this is a problem for you, you sort of &#39;hack&#39; the compiler to do what you want. I would not encourage this kind of programming. There is usually a reason why a library would not expose a function or field and therefore you should not try to &#39;hack&#39; into it to still get it."},{"owner":{"account_id":15152392,"reputation":147,"user_id":10934377,"display_name":"Heiko Ribberink"},"score":0,"creation_date":1643917784,"post_id":70977181,"comment_id":125473649,"body_markdown":"Correction: `you sort of &#39;hack&#39; the compiler to do what you want.` should be `you sort of &#39;hack&#39; the program to do what you want.`","body":"Correction: <code>you sort of &#39;hack&#39; the compiler to do what you want.</code> should be <code>you sort of &#39;hack&#39; the program to do what you want.</code>"},{"owner":{"account_id":20197024,"reputation":1,"user_id":18113032,"display_name":"numq"},"score":0,"creation_date":1643918416,"post_id":70977181,"comment_id":125473856,"body_markdown":"@blijde_broers Thanks, I don&#39;t fully understand how this still works since I haven&#39;t covered reflective programming but at least now I know where to look.","body":"@blijde_broers Thanks, I don&#39;t fully understand how this still works since I haven&#39;t covered reflective programming but at least now I know where to look."},{"owner":{"account_id":15152392,"reputation":147,"user_id":10934377,"display_name":"Heiko Ribberink"},"score":0,"creation_date":1643918629,"post_id":70977181,"comment_id":125473918,"body_markdown":"You&#39;re welcome! If you need any more help, you can comment here.","body":"You&#39;re welcome! If you need any more help, you can comment here."},{"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"score":0,"creation_date":1643934914,"post_id":70977181,"comment_id":125478398,"body_markdown":"The `Cloneable` interface has many problems and using it doesn&#39;t guarantee you will actually get a deep copy. If a member of the object you want to copy doesn&#39;t implement `Cloneable` it creates a shallow copy. Usually if you know the type of the object you use a copy constructor/method or if you don&#39;t know the type use reflection/serialization&amp;desiralization libraries. E.g. `SerializationUtils.clone(serializable)`.","body":"The <code>Cloneable</code> interface has many problems and using it doesn&#39;t guarantee you will actually get a deep copy. If a member of the object you want to copy doesn&#39;t implement <code>Cloneable</code> it creates a shallow copy. Usually if you know the type of the object you use a copy constructor/method or if you don&#39;t know the type use reflection/serialization&amp;desiralization libraries. E.g. <code>SerializationUtils.clone(serializable)</code>."},{"owner":{"account_id":20197024,"reputation":1,"user_id":18113032,"display_name":"numq"},"score":0,"creation_date":1651251400,"post_id":70977181,"comment_id":127327823,"body_markdown":"@Erik Eidt I&#39;ve undeleted it. I didn&#39;t think anyone was going to answer or that it would get downvoted and removed as most of my questions do. Sorry about that","body":"@Erik Eidt I&#39;ve undeleted it. I didn&#39;t think anyone was going to answer or that it would get downvoted and removed as most of my questions do. Sorry about that"}],"owner":{"account_id":20197024,"reputation":1,"user_id":18113032,"display_name":"numq"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643917157,"creation_date":1643916491,"question_id":70977181,"body_markdown":"we are implementing a linked list class using node objects (which we also created) in my class. We decided to override the clone method to show the difference between shallow and deep cloning. But I do not understand how we achieved being able to clone the items that the nodes store when the nodes are generic. \r\n\r\nAt first I didn&#39;t see the issue because while the clone method is protected under object since everything is a subclass of object it should be fine. I mean I know it shouldn&#39;t work if they don&#39;t implement the cloneable interface but I didn&#39;t understand why I was seeing a protected class error in IntelliJ. I did a bit more reading on protected methods and I now understand that while I can use protected methods within a subclass in a different package, the instance I use it on must still be the subclass, or subclasses of that subclass. So i can&#39;t even call the clone method on the object superclass itself within the subclass.\r\n\r\n\r\n So i understand the issue, but I don&#39;t understand the solution given. It just says we tricked the compiler but we don&#39;t go deeper. \r\n\r\ncode below\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    // Exercise 1:  Class must be redeclared to implement the Cloneable interface.\r\n\r\n    public class LinkedNode&lt;I&gt; implements Cloneable {\r\n    \tprotected I item;\r\n    \tprotected LinkedNode&lt;I&gt; nextNode;\r\n    \t\r\n    \tpublic LinkedNode(I x)\r\n    \t{\r\n    \t\tsetItem(x);\r\n    \t}\r\n    \t\r\n    \t// Getters/setters are automatically generated using eclipse.\r\n    \t// Use: Source menu -&gt; Generate Getters and Setters\r\n\r\n    \tpublic I item() {\r\n    \t\treturn item;\r\n    \t}\r\n    \t\r\n    \tpublic void setItem(I item) {\r\n    \t\tthis.item = item;\r\n    \t}\r\n    \t\r\n    \tpublic LinkedNode&lt;I&gt; nextNode() {\r\n    \t\treturn nextNode;\r\n    \t}\r\n    \t\r\n    \tpublic void setNextNode(LinkedNode&lt;I&gt; nextNode) {\r\n    \t\tthis.nextNode = nextNode;\r\n    \t}\r\n\r\n    \t// Exercise 1: Add a public shallow clone() method.\r\n    \t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \tpublic LinkedNode&lt;I&gt; clone() throws CloneNotSupportedException {\r\n    \t\t/* This was acceptable for exercise 1 - a shallow clone\r\n    \t\treturn super.clone();\r\n    \t\t*/\r\n\r\n    \t\t// Exercise 2: A deep clone.  Copy each instance variable,\r\n    \t\t// clone()-ing the ones that are references to other objects.\r\n    \t\tLinkedNode&lt;I&gt; newNode = (LinkedNode&lt;I&gt;)super.clone();\r\n    \t\tif(newNode.nextNode != null)\r\n    \t\t\tnewNode.nextNode = this.nextNode.clone();\r\n\r\n    \t\t// Clone the item if we can.  Types that encapsulate primitive types like\r\n    \t\t// Double, Integer, etc. are not cloneable because they are immutable.\r\n    \t\t// But since they are immutable, this causes no problems for our list.\r\n    \t\ttry {\r\n    \t\t\t//newNode.item = this.item.clone();   We can&#39;t do this because we can&#39;t require a generic type to be\r\n    \t\t\t// cloneable, so there&#39;s no guarantee that a public clone method exists.  (You&#39;d think we could\r\n    \t\t\t// restrict I so that it implements cloneable, i.e. &lt;I extends Cloneable&gt;, but this does not work.)\r\n    \t\t\t// Moreover, Integer, Double, etc. are not cloneable, so if the item is one of these types\r\n    \t\t\t// we can&#39;t even shallow clone it.   But, such types are immutable, so\r\n    \t\t\t// if we can&#39;t clone them, it is OK.   We use the following magical incantation to try to\r\n    \t\t\t// call the possibly protected clone() method in a way that bypasses the compiler&#39;s objections.\r\n    \t\t\t// If an exception arises, we do nothing and assume that the object was immutable and don&#39;t clone anything.\r\n    \t\t\tnewNode.item = (I) this.item.getClass().getMethod(&quot;clone&quot;).invoke(this.item);\r\n    \t\t} catch (Exception e) {\r\n    \t\t}\r\n    \t\treturn newNode;\r\n    \t}\r\n\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"deep clone method in generic class","body":"<p>we are implementing a linked list class using node objects (which we also created) in my class. We decided to override the clone method to show the difference between shallow and deep cloning. But I do not understand how we achieved being able to clone the items that the nodes store when the nodes are generic.</p>\n<p>At first I didn't see the issue because while the clone method is protected under object since everything is a subclass of object it should be fine. I mean I know it shouldn't work if they don't implement the cloneable interface but I didn't understand why I was seeing a protected class error in IntelliJ. I did a bit more reading on protected methods and I now understand that while I can use protected methods within a subclass in a different package, the instance I use it on must still be the subclass, or subclasses of that subclass. So i can't even call the clone method on the object superclass itself within the subclass.</p>\n<p>So i understand the issue, but I don't understand the solution given. It just says we tricked the compiler but we don't go deeper.</p>\n<p>code below</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>// Exercise 1:  Class must be redeclared to implement the Cloneable interface.\n\npublic class LinkedNode&lt;I&gt; implements Cloneable {\n    protected I item;\n    protected LinkedNode&lt;I&gt; nextNode;\n    \n    public LinkedNode(I x)\n    {\n        setItem(x);\n    }\n    \n    // Getters/setters are automatically generated using eclipse.\n    // Use: Source menu -&gt; Generate Getters and Setters\n\n    public I item() {\n        return item;\n    }\n    \n    public void setItem(I item) {\n        this.item = item;\n    }\n    \n    public LinkedNode&lt;I&gt; nextNode() {\n        return nextNode;\n    }\n    \n    public void setNextNode(LinkedNode&lt;I&gt; nextNode) {\n        this.nextNode = nextNode;\n    }\n\n    // Exercise 1: Add a public shallow clone() method.\n    @SuppressWarnings(\"unchecked\")\n    public LinkedNode&lt;I&gt; clone() throws CloneNotSupportedException {\n        /* This was acceptable for exercise 1 - a shallow clone\n        return super.clone();\n        */\n\n        // Exercise 2: A deep clone.  Copy each instance variable,\n        // clone()-ing the ones that are references to other objects.\n        LinkedNode&lt;I&gt; newNode = (LinkedNode&lt;I&gt;)super.clone();\n        if(newNode.nextNode != null)\n            newNode.nextNode = this.nextNode.clone();\n\n        // Clone the item if we can.  Types that encapsulate primitive types like\n        // Double, Integer, etc. are not cloneable because they are immutable.\n        // But since they are immutable, this causes no problems for our list.\n        try {\n            //newNode.item = this.item.clone();   We can't do this because we can't require a generic type to be\n            // cloneable, so there's no guarantee that a public clone method exists.  (You'd think we could\n            // restrict I so that it implements cloneable, i.e. &lt;I extends Cloneable&gt;, but this does not work.)\n            // Moreover, Integer, Double, etc. are not cloneable, so if the item is one of these types\n            // we can't even shallow clone it.   But, such types are immutable, so\n            // if we can't clone them, it is OK.   We use the following magical incantation to try to\n            // call the possibly protected clone() method in a way that bypasses the compiler's objections.\n            // If an exception arises, we do nothing and assume that the object was immutable and don't clone anything.\n            newNode.item = (I) this.item.getClass().getMethod(\"clone\").invoke(this.item);\n        } catch (Exception e) {\n        }\n        return newNode;\n    }\n\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","console","output","console-application"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1486954160,"post_id":42195634,"comment_id":71553813,"body_markdown":"Please show what you have tried so far","body":"Please show what you have tried so far"},{"owner":{"account_id":9099600,"reputation":355,"user_id":6772235,"accept_rate":33,"display_name":"Stone Monarch"},"score":0,"creation_date":1486954373,"post_id":42195634,"comment_id":71553867,"body_markdown":"I haven&#39;t tried anything as I have no idea where to start","body":"I haven&#39;t tried anything as I have no idea where to start"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1486954435,"post_id":42195634,"comment_id":71553888,"body_markdown":"How do you run `adb`?","body":"How do you run <code>adb</code>?"},{"owner":{"account_id":9099600,"reputation":355,"user_id":6772235,"accept_rate":33,"display_name":"Stone Monarch"},"score":0,"creation_date":1486956850,"post_id":42195634,"comment_id":71554546,"body_markdown":"I updated the question as I could not paste my code here and links were not working\n\n@ScaryWombat","body":"I updated the question as I could not paste my code here and links were not working  @ScaryWombat"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1486958187,"post_id":42195634,"comment_id":71554863,"body_markdown":"*I updated the question*  - as you should.  Now what is the output you are getting?","body":"<i>I updated the question</i>  - as you should.  Now what is the output you are getting?"},{"owner":{"account_id":9099600,"reputation":355,"user_id":6772235,"accept_rate":33,"display_name":"Stone Monarch"},"score":0,"creation_date":1486958410,"post_id":42195634,"comment_id":71554931,"body_markdown":"Any of the 3 outputs in the question. There&#39;s 3 because it depends on if adb is running or not and if the Nexus 6P is in the bootloader","body":"Any of the 3 outputs in the question. There&#39;s 3 because it depends on if adb is running or not and if the Nexus 6P is in the bootloader"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1486959209,"post_id":42195634,"comment_id":71555113,"body_markdown":"so as it is the last line, you do not need to append each line, you need the keep the last line read.  When you return this line you can split it on white space.","body":"so as it is the last line, you do not need to append each line, you need the keep the last line read.  When you return this line you can split it on white space."}],"answers":[{"tags":[],"owner":{"account_id":21717650,"reputation":455,"user_id":16028444,"display_name":"MomoTheDev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643916897,"creation_date":1643916402,"answer_id":70977159,"question_id":42195634,"body_markdown":"I&#39;m not sure but the only solution that come&#39;s up to my mind, is to route the `PrintStream` (`System.out`) and assign every line that gets printed to a String called `lastLine` or something. You can then get the device ID using a regex expression that removes the spaces/tabs after the actual device ID\\\r\nlike this -&gt; (`DEVICEID          device`) to (`DEVICEID`) or just replace every space using `String.replaceAll(&quot; &quot;, &quot;&quot;);` and the &quot;device&quot; word using `String.replace(&quot;device&quot;, &quot;&quot;);`. I hope I could help you, as I&#39;m fairly new to this community.\r\n\r\nEdit:\\\r\nHere&#39;s the code that assigns the last line to a String:\r\n```java\r\n\r\nprivate String lastLine;\r\n\r\npublic void construct() {\r\n    System.setOut(new PrintStream(System.out) {\r\n        public void println(String s) {\r\n            lastLine = s;\r\n            super.println(s);\r\n        }\r\n    });\r\n}\r\n```\r\n\r\nPS: Sorry for my bad English","title":"How do I read the last line in the console output?","body":"<p>I'm not sure but the only solution that come's up to my mind, is to route the <code>PrintStream</code> (<code>System.out</code>) and assign every line that gets printed to a String called <code>lastLine</code> or something. You can then get the device ID using a regex expression that removes the spaces/tabs after the actual device ID<br />\nlike this -&gt; (<code>DEVICEID          device</code>) to (<code>DEVICEID</code>) or just replace every space using <code>String.replaceAll(&quot; &quot;, &quot;&quot;);</code> and the &quot;device&quot; word using <code>String.replace(&quot;device&quot;, &quot;&quot;);</code>. I hope I could help you, as I'm fairly new to this community.</p>\n<p>Edit:<br />\nHere's the code that assigns the last line to a String:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nprivate String lastLine;\n\npublic void construct() {\n    System.setOut(new PrintStream(System.out) {\n        public void println(String s) {\n            lastLine = s;\n            super.println(s);\n        }\n    });\n}\n</code></pre>\n<p>PS: Sorry for my bad English</p>\n"}],"owner":{"account_id":9099600,"reputation":355,"user_id":6772235,"accept_rate":33,"display_name":"Stone Monarch"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1264,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1643916897,"creation_date":1486951786,"question_id":42195634,"body_markdown":"So im trying to make a Java program that uses adb and fastboot to root my Nexus 6P. I have a class that can run the commands, but I need to capture the device ID from the output. when I run `adb` or `fastboot` the output either looks like one of the three options below\r\n\r\n    List of devices attached\r\n    * daemon not running. starting it now on port 5037 *\r\n    * daemon started successfully *\r\n    5VT7N16324000434          device\r\nor\r\n\r\n    List of devices attached\r\n    5VT7N16324000434          device\r\nor\r\n\r\n    5VT7N16324000434          device\r\nNow I need to capture the `5VT7N16324000434` and save it to a string. Though it will not always be the same. I have searched for hours with nothing helpful, and have no idea where to even start.\r\n\r\nI run adb with this class\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.InputStreamReader;\r\n\r\n    public class ExecuteShellCommand {\r\n\r\n    public static void main(String inputCommand) {\r\n\r\n        ExecuteShellCommand obj = new ExecuteShellCommand();\r\n\r\n        String command = inputCommand;\r\n\r\n        String output = obj.executeCommand(command);\r\n\r\n        System.out.println(output);\r\n\r\n    }\r\n\r\n    private String executeCommand(String command) {\r\n\r\n        StringBuffer output = new StringBuffer();\r\n\r\n        Process p;\r\n        try {\r\n            p = Runtime.getRuntime().exec(command);\r\n            p.waitFor();\r\n            BufferedReader reader =\r\n                    new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n\r\n            String line = &quot;&quot;;\r\n            while ((line = reader.readLine())!= null) {\r\n                output.append(line + &quot;\\n&quot;);\r\n            }\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return output.toString();\r\n\r\n    }\r\n\r\n    }\r\n\r\nI then need to read the out put for `5VT7N16324000434` or any string that could be in that place.","title":"How do I read the last line in the console output?","body":"<p>So im trying to make a Java program that uses adb and fastboot to root my Nexus 6P. I have a class that can run the commands, but I need to capture the device ID from the output. when I run <code>adb</code> or <code>fastboot</code> the output either looks like one of the three options below</p>\n\n<pre><code>List of devices attached\n* daemon not running. starting it now on port 5037 *\n* daemon started successfully *\n5VT7N16324000434          device\n</code></pre>\n\n<p>or</p>\n\n<pre><code>List of devices attached\n5VT7N16324000434          device\n</code></pre>\n\n<p>or</p>\n\n<pre><code>5VT7N16324000434          device\n</code></pre>\n\n<p>Now I need to capture the <code>5VT7N16324000434</code> and save it to a string. Though it will not always be the same. I have searched for hours with nothing helpful, and have no idea where to even start.</p>\n\n<p>I run adb with this class</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.InputStreamReader;\n\npublic class ExecuteShellCommand {\n\npublic static void main(String inputCommand) {\n\n    ExecuteShellCommand obj = new ExecuteShellCommand();\n\n    String command = inputCommand;\n\n    String output = obj.executeCommand(command);\n\n    System.out.println(output);\n\n}\n\nprivate String executeCommand(String command) {\n\n    StringBuffer output = new StringBuffer();\n\n    Process p;\n    try {\n        p = Runtime.getRuntime().exec(command);\n        p.waitFor();\n        BufferedReader reader =\n                new BufferedReader(new InputStreamReader(p.getInputStream()));\n\n        String line = \"\";\n        while ((line = reader.readLine())!= null) {\n            output.append(line + \"\\n\");\n        }\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n    return output.toString();\n\n}\n\n}\n</code></pre>\n\n<p>I then need to read the out put for <code>5VT7N16324000434</code> or any string that could be in that place.</p>\n"},{"tags":["java","mongodb","spring-boot"],"comments":[{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":0,"creation_date":1643918649,"post_id":70977169,"comment_id":125473928,"body_markdown":"If it was not successful there would&#39;ve been an error/exception thrown.","body":"If it was not successful there would&#39;ve been an error/exception thrown."},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1643953759,"post_id":70977169,"comment_id":125481206,"body_markdown":"[findAndModify - return data](https://docs.mongodb.com/manual/reference/method/db.collection.findAndModify/#return-data) can show the updated document.","body":"<a href=\"https://docs.mongodb.com/manual/reference/method/db.collection.findAndModify/#return-data\" rel=\"nofollow noreferrer\">findAndModify - return data</a> can show the updated document."}],"owner":{"account_id":1837765,"reputation":1991,"user_id":1667768,"accept_rate":44,"display_name":"Valay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643916821,"creation_date":1643916452,"question_id":70977169,"body_markdown":"Based on my previous question https://stackoverflow.com/questions/70962312/springboot-mongodb-delete-an-object-from-array-of-objects I&#39;m able to remove an object from an array of objects in `mongodb` collection. Below code is working for me to remove:\r\n\r\n    String pin = httpServletRequest.getParameter(&quot;address_pin&quot;)\r\n                            .trim();                           \r\n    Query query = new Query();\r\n    query.addCriteria(Criteria.where(&quot;customer_id&quot;)\r\n        \t\t\t.is(customerId)\r\n        \t\t\t.and(&quot;customer_addresses.address_india&quot;)\r\n        \t\t\t.elemMatch(Criteria.where(&quot;address_pin&quot;).is(pin)));\r\n        \t\t\t\t\t\t\r\n    Update update = new Update();\r\n    update.pull(&quot;customer_addresses.address_india&quot;, Collections.singletonMap(&quot;address_pin&quot;, pin));\r\n        \t\t\t\t\t    \r\n    UpdateResult result = mongoTemplate.updateMulti(query, update, &quot;customer_addresses&quot;);\r\n    System.out.println(&quot;::: DELETE SUCCESS ::: &quot; + result.wasAcknowledged());\r\n        \t\t\t\t\t    \r\n        //\tFindAndModifyOptions options = FindAndModifyOptions.options();\r\n        //\toptions.returnNew(true);\r\n        //\tCustomerAddress addressesAfterDelete =  mongoTemplate.findAndModify(query, update, options, CustomerAddress.class);\r\n        //\tSystem.out.println(&quot;::: AFTER DELETE ::: &quot; + addressesAfterDelete.getCustomerAddresses().toString());\r\n\r\nHere, `updateMulti` and `findAndModify` both are working fine. I can verify in Compass that the object matching with the criteria has been removed. \r\n\r\nIs there any built-in method in `UpdateResult` or in `FindAndModifyOptions` to verify?\r\n`result.wasAcknowledged()` returns `true` even if query criteria does not meet.\r\n\r\n**How do I verify delete in `mongodb` was successful or not in `spring-boot`?**\r\n","title":"Springboot mongodb - how to verify object has been removed from array of objects?","body":"<p>Based on my previous question <a href=\"https://stackoverflow.com/questions/70962312/springboot-mongodb-delete-an-object-from-array-of-objects\">Springboot MongoDB delete an object from array of objects</a> I'm able to remove an object from an array of objects in <code>mongodb</code> collection. Below code is working for me to remove:</p>\n<pre><code>String pin = httpServletRequest.getParameter(&quot;address_pin&quot;)\n                        .trim();                           \nQuery query = new Query();\nquery.addCriteria(Criteria.where(&quot;customer_id&quot;)\n                .is(customerId)\n                .and(&quot;customer_addresses.address_india&quot;)\n                .elemMatch(Criteria.where(&quot;address_pin&quot;).is(pin)));\n                            \nUpdate update = new Update();\nupdate.pull(&quot;customer_addresses.address_india&quot;, Collections.singletonMap(&quot;address_pin&quot;, pin));\n                            \nUpdateResult result = mongoTemplate.updateMulti(query, update, &quot;customer_addresses&quot;);\nSystem.out.println(&quot;::: DELETE SUCCESS ::: &quot; + result.wasAcknowledged());\n                            \n    //  FindAndModifyOptions options = FindAndModifyOptions.options();\n    //  options.returnNew(true);\n    //  CustomerAddress addressesAfterDelete =  mongoTemplate.findAndModify(query, update, options, CustomerAddress.class);\n    //  System.out.println(&quot;::: AFTER DELETE ::: &quot; + addressesAfterDelete.getCustomerAddresses().toString());\n</code></pre>\n<p>Here, <code>updateMulti</code> and <code>findAndModify</code> both are working fine. I can verify in Compass that the object matching with the criteria has been removed.</p>\n<p>Is there any built-in method in <code>UpdateResult</code> or in <code>FindAndModifyOptions</code> to verify?\n<code>result.wasAcknowledged()</code> returns <code>true</code> even if query criteria does not meet.</p>\n<p><strong>How do I verify delete in <code>mongodb</code> was successful or not in <code>spring-boot</code>?</strong></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4873312,"reputation":2203,"user_id":3929133,"display_name":"ortis"},"score":0,"creation_date":1529991367,"post_id":51035353,"comment_id":89062843,"body_markdown":"We need to see the whole code, specially `MyPrintStream`","body":"We need to see the whole code, specially <code>MyPrintStream</code>"},{"owner":{"account_id":5607512,"reputation":11,"user_id":4441509,"display_name":"REDDY"},"score":0,"creation_date":1529991506,"post_id":51035353,"comment_id":89062878,"body_markdown":"class MyPrintStream extends PrintStream {\n\n        public MyPrintStream(OutputStream outp) {\n            super(outp);\n        }\n\n        @Override\n        public void print(String s) {\n            super.print(s);\n        }\n    }","body":"class MyPrintStream extends PrintStream {          public MyPrintStream(OutputStream outp) {             super(outp);         }          @Override         public void print(String s) {             super.print(s);         }     }"},{"owner":{"account_id":4873312,"reputation":2203,"user_id":3929133,"display_name":"ortis"},"score":0,"creation_date":1529991752,"post_id":51035353,"comment_id":89062956,"body_markdown":"We need **all** the code. You mention clicking, we need your GUI code as well. Do you get any exception ?","body":"We need <b>all</b> the code. You mention clicking, we need your GUI code as well. Do you get any exception ?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1529992056,"post_id":51035353,"comment_id":89063055,"body_markdown":"`MyPrintStream` appears to be completely pointless. Are you aware that `PrintStream` swallows exceptions? Do you call the `check()` method?","body":"<code>MyPrintStream</code> appears to be completely pointless. Are you aware that <code>PrintStream</code> swallows exceptions? Do you call the <code>check()</code> method?"},{"owner":{"account_id":5607512,"reputation":11,"user_id":4441509,"display_name":"REDDY"},"score":0,"creation_date":1529992401,"post_id":51035353,"comment_id":89063202,"body_markdown":"k.no i didn&#39;t call any check() method.can you please tell me where i am wrong","body":"k.no i didn&#39;t call any check() method.can you please tell me where i am wrong"},{"owner":{"account_id":4873312,"reputation":2203,"user_id":3929133,"display_name":"ortis"},"score":0,"creation_date":1529992982,"post_id":51035353,"comment_id":89063436,"body_markdown":"What is the expected behavior when you click the &quot;Print&quot; button ?","body":"What is the expected behavior when you click the &quot;Print&quot; button ?"},{"owner":{"account_id":5607512,"reputation":11,"user_id":4441509,"display_name":"REDDY"},"score":0,"creation_date":1529993153,"post_id":51035353,"comment_id":89063498,"body_markdown":"i need to print the label  based on the text on printtexarea.I want to get the print of label from the entered printer","body":"i need to print the label  based on the text on printtexarea.I want to get the print of label from the entered printer"},{"owner":{"account_id":4873312,"reputation":2203,"user_id":3929133,"display_name":"ortis"},"score":0,"creation_date":1529993251,"post_id":51035353,"comment_id":89063541,"body_markdown":"@REDDY define &#39;print&#39;. Is it &#39;print in the console&#39;, &#39;print on a file&#39;, &#39;print on paper&#39; ?","body":"@REDDY define &#39;print&#39;. Is it &#39;print in the console&#39;, &#39;print on a file&#39;, &#39;print on paper&#39; ?"},{"owner":{"account_id":5607512,"reputation":11,"user_id":4441509,"display_name":"REDDY"},"score":0,"creation_date":1529993506,"post_id":51035353,"comment_id":89063626,"body_markdown":"no need on console.just i need to print it one the paper.The text contains the epl commands to print the epl label","body":"no need on console.just i need to print it one the paper.The text contains the epl commands to print the epl label"},{"owner":{"account_id":4873312,"reputation":2203,"user_id":3929133,"display_name":"ortis"},"score":0,"creation_date":1529993767,"post_id":51035353,"comment_id":89063751,"body_markdown":"Your code will only write the content of the `printTextArea` on a file name after the content of `printerShareValue`. Sending data to a paper printer is complete different story. You can find some example online, like this one http://www.rgagnon.com/javadetails/java-print-a-text-file-with-javax.print-api.html","body":"Your code will only write the content of the <code>printTextArea</code> on a file name after the content of <code>printerShareValue</code>. Sending data to a paper printer is complete different story. You can find some example online, like this one <a href=\"http://www.rgagnon.com/javadetails/java-print-a-text-file-with-javax.print-api.html\" rel=\"nofollow noreferrer\">rgagnon.com/javadetails/&hellip;</a>"},{"owner":{"account_id":5607512,"reputation":11,"user_id":4441509,"display_name":"REDDY"},"score":0,"creation_date":1529994024,"post_id":51035353,"comment_id":89063867,"body_markdown":"my doubt is  printstream.print(printTextArea.getText()) will directly print the text entered in the printTextarea am i correct or not.","body":"my doubt is  printstream.print(printTextArea.getText()) will directly print the text entered in the printTextarea am i correct or not."},{"owner":{"account_id":5607512,"reputation":11,"user_id":4441509,"display_name":"REDDY"},"score":0,"creation_date":1529994068,"post_id":51035353,"comment_id":89063885,"body_markdown":"because we have a method in PrintStream like print(String s) to print the string","body":"because we have a method in PrintStream like print(String s) to print the string"},{"owner":{"account_id":4873312,"reputation":2203,"user_id":3929133,"display_name":"ortis"},"score":0,"creation_date":1529994239,"post_id":51035353,"comment_id":89063962,"body_markdown":"@REDDY You need to read the JAVA IO tutorial. Do not guess method purpose from their name. https://docs.oracle.com/javase/tutorial/essential/io/streams.html","body":"@REDDY You need to read the JAVA IO tutorial. Do not guess method purpose from their name. <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/streams.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/io/streams.html</a>"},{"owner":{"account_id":5607512,"reputation":11,"user_id":4441509,"display_name":"REDDY"},"score":0,"creation_date":1529994360,"post_id":51035353,"comment_id":89064019,"body_markdown":"can you please correct my code where i am wrong plz.it would be hepfull for me","body":"can you please correct my code where i am wrong plz.it would be hepfull for me"},{"owner":{"account_id":5607512,"reputation":11,"user_id":4441509,"display_name":"REDDY"},"score":0,"creation_date":1529995709,"post_id":51035353,"comment_id":89064640,"body_markdown":"cam you please provide me the correct code.I have struck with this","body":"cam you please provide me the correct code.I have struck with this"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1530003468,"post_id":51035353,"comment_id":89068976,"body_markdown":"Where you&#39;re wrong is in not calling the `check()` method. This seems rather obvious after what I said above.","body":"Where you&#39;re wrong is in not calling the <code>check()</code> method. This seems rather obvious after what I said above."},{"owner":{"account_id":5607512,"reputation":11,"user_id":4441509,"display_name":"REDDY"},"score":0,"creation_date":1530004049,"post_id":51035353,"comment_id":89069332,"body_markdown":"can you please tell me where i want to write check() method","body":"can you please tell me where i want to write check() method"}],"answers":[{"tags":[],"owner":{"account_id":21717650,"reputation":455,"user_id":16028444,"display_name":"MomoTheDev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643916638,"creation_date":1643916638,"answer_id":70977216,"question_id":51035353,"body_markdown":"Well uhm... You can&#39;t just create a new `PrintStream` and print messages to it, if you want the messages to appear in the console, you should use the `PrintStream` instance of `System.out`.","title":"I am unable to print the text using java.io.printstream","body":"<p>Well uhm... You can't just create a new <code>PrintStream</code> and print messages to it, if you want the messages to appear in the console, you should use the <code>PrintStream</code> instance of <code>System.out</code>.</p>\n"}],"owner":{"account_id":5607512,"reputation":11,"user_id":4441509,"display_name":"REDDY"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643916638,"creation_date":1529990406,"question_id":51035353,"body_markdown":"I am trying to print an epl label using `java.io.printstream` but when\r\nI click on the print button nothing happens, print is not coming out. \r\n\r\nHere is my code\r\n\r\n    \r\n    String printerShareValue = printerTextField.getText().trim();\r\n    FileOutputStream printerStream = new FileOutputStream(printerShareValue);\r\n    \r\n    PrintStream ps = new MyPrintStream(printerStream);\r\n    ps.print(&quot;\\f&quot;);\r\n    ps.print(printTextArea.getText());\r\n    ps.flush();\r\n    ps.close();\r\n\r\n`printerTextField` contains printer name which is going to print.\r\n\r\n`printTextArea` is the text label we want to print.\r\n\r\n     class MyPrintStream extends PrintStream { \r\n       public MyPrintStream(OutputStream outp) { super(outp); } \r\n       @Override \r\n       public void print(String s) { super.print(s); } \r\n     }\r\n\r\n\r\n    public class TestPrint extends JFrame {\r\n\r\n    private Container contentPane;\r\n    private final int VERTICAL_RIGID_AREA_HEIGHT = 30;\r\n    private final int STANDARD_LABEL_HEIGHT = 20;\r\n    private final int STANDARD_LABEL_WIDTH = 100;\r\n    private JTextField printerTextField;\r\n    private JTextArea printTextArea;\r\n\r\n    public TestPrint() {\r\n        super();\r\n        contentPane = this.getContentPane();\r\n        contentPane.setLayout(new BoxLayout(contentPane, BoxLayout.Y_AXIS));\r\n        setTitle(&quot;PrintTest&quot;);\r\n\r\n        addRigidArea(contentPane, 0, VERTICAL_RIGID_AREA_HEIGHT);\r\n        setupPrintPanel();\r\n        setupPrinterTextArea();\r\n        setupButtons();\r\n        addRigidArea(contentPane, 0, 20);\r\n        pack();\r\n\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        GraphicsConfiguration gc = getGraphicsConfiguration();\r\n        Rectangle gcr = gc.getBounds();\r\n        Rectangle thisr = getBounds();\r\n        setLocation(new Point(gcr.x + (gcr.width / 2) - (thisr.width / 2), gcr.y\r\n                + (gcr.height / 2) - (thisr.height / 2)));\r\n        setVisible(true);\r\n\r\n    }\r\n\r\n    private void setupPrintPanel() {\r\n        // setup the panel\r\n        JPanel panel = setupPanel();\r\n        exactly(panel, 500, 40);\r\n\r\n        addRigidArea(panel, 10, 0);\r\n        printerTextField = new JTextField();\r\n\r\n        // the JComboBox dropdown list element\r\n        JLabel databaseLabel = new JLabel(&quot;Eltron Label Printer Share&quot;);\r\n        databaseLabel.setHorizontalAlignment(SwingConstants.RIGHT);\r\n        exactly(databaseLabel, 150, STANDARD_LABEL_HEIGHT);\r\n        panel.add(databaseLabel);\r\n\r\n        addRigidArea(panel, 10, 0);\r\n        printerTextField = new JTextField();\r\n        exactly(printerTextField, 300, STANDARD_LABEL_HEIGHT);\r\n        panel.add(printerTextField);\r\n\r\n        contentPane.add(panel);\r\n\r\n    }\r\n\r\n    private void setupPrinterTextArea() {\r\n        JPanel panel = setupPanel();\r\n\r\n        addRigidArea(panel, 10, 0);\r\n\r\n        printTextArea = new JTextArea();\r\n        String s = &quot;N\\n&quot;\r\n                + &quot;A50,1150,3,2,2,1,N,\\&quot;SHIP TO:\\&quot;\\n&quot;\r\n                + &quot;A50,950,3,3,2,1,N,\\&quot;test\\&quot;\\n&quot;\r\n                + &quot;B100,384,3,1,3,7,90,B,\\&quot;1046305\\&quot;\\n&quot;\r\n                + &quot;A90,950,3,3,2,1,N,\\&quot;tt\\&quot;\\n&quot;\r\n                + &quot;A130,950,3,3,2,1,N,\\&quot;tttt\\&quot;\\n&quot;\r\n                + &quot;A170,950,3,3,2,1,N,\\&quot;tttt\\&quot;\\n&quot;\r\n                + &quot;A210,950,3,3,2,1,N,\\&quot;ttt, CO  ttt  t\\&quot;\\n&quot;\r\n                + &quot;A270,1150,3,2,2,1,N,\\&quot;ORDER #\\&quot;\\n&quot;\r\n                + &quot;A270,880,3,2,2,1,N,\\&quot;PURCHASE ORDER #\\&quot;\\n&quot;\r\n                + &quot;A270,200,3,2,2,1,N,\\&quot;SHIP DATE\\&quot;\\n&quot;\r\n                + &quot;A300,1150,3,3,2,1,N,\\&quot;087462\\&quot;\\n&quot;\r\n                + &quot;A300,880,3,3,2,1,N,\\&quot;\\&quot;\\n&quot;\r\n                + &quot;A300,200,3,3,2,1,N,\\&quot;06-12-2018\\&quot;\\n&quot;\r\n                + &quot;A350,1150,3,2,2,1,N,\\&quot;TAG:\\&quot;\\n&quot;\r\n                + &quot;A350,1090,3,3,2,1,N,\\&quot;\\&quot;\\n&quot;\r\n                + &quot;A400,1150,3,2,2,1,N,\\&quot;ITEM #\\&quot;\\n&quot;\r\n                + &quot;A400,880,3,2,2,1,N,\\&quot;DESCRIPTION\\&quot;\\n&quot;\r\n                + &quot;A400,200,3,2,2,1,N,\\&quot;QUANTITY\\&quot;\\n&quot;\r\n                + &quot;A430,1150,3,3,2,1,N,\\&quot;2601400 01SI1T(H\\&quot;\\n&quot;\r\n                + &quot;A430,880,3,3,2,1,N,\\&quot;DOUBLE HUB MINI LARGE PLATINUM COATED \\&quot;\\n&quot;\r\n                + &quot;A430,200,3,3,2,1,N,\\&quot;1\\&quot;\\n&quot;\r\n                + &quot;A480,1150,3,3,2,1,N,\\&quot;B02MCL-PLT)[1000]\\&quot;\\n&quot;\r\n                + &quot;A530,1150,3,4,2,1,N,\\&quot;SAM123\\&quot;\\n&quot;\r\n                + &quot;A480,880,3W,3,2,1,N,\\&quot;WITH PAINTED OF HB02MCL-PLT\\&quot;\\n&quot;\r\n                + &quot;A530,880,3,3,2,1,N,\\&quot;FOR MONITORS BETWEEN 2-10LBS.\\&quot;\\n&quot;\r\n                + &quot;A580,1150,3,3,2,1,N,\\&quot;Test sales order note.\\&quot;\\n&quot;\r\n                + &quot;A610,1150,3,2,2,1,N,\\&quot;GROSS WEIGHT\\&quot;\\n&quot;\r\n                + &quot;A610,880,3,2,2,1,N,\\&quot;NET WEIGHT\\&quot;\\n&quot;\r\n                + &quot;A610,600,3,2,2,1,N,\\&quot;CARTON SIZE\\&quot;\\n&quot;\r\n                + &quot;A640,1150,3,3,2,1,N,\\&quot;2.0(Kg)\\&quot;\\n&quot;\r\n                + &quot;A640,880,3,3,2,1,N,\\&quot;3.0(Kg)\\&quot;\\n&quot;\r\n                + &quot;A640,600,3,3,2,1,N,\\&quot;4.0(mm)X0.0(mm)X0.0(mm)\\&quot;\\n&quot;\r\n                + &quot;P1&quot;;\r\n        exactly(printTextArea, 500, 550);\r\n        printTextArea.setText(s);\r\n        panel.add(printTextArea);\r\n        addRigidArea(panel, 10, 0);\r\n        contentPane.add(panel);\r\n\r\n    }\r\n\r\n    private void setupButtons() {\r\n        JPanel panel = setupPanel();\r\n        exactly(panel, 150, 50);\r\n\r\n        //The ok Button\r\n        JButton okButton = new JButton(&quot;Print&quot;);\r\n        okButton.setHorizontalAlignment(SwingConstants.RIGHT);\r\n        okButton.setEnabled(true);\r\n        okButton.addActionListener(\r\n                new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent evt) {\r\n                printButtonAction();\r\n            }\r\n        });\r\n        getRootPane().setDefaultButton(okButton);\r\n        okButton.requestFocusInWindow();\r\n        panel.add(okButton);\r\n        addRigidArea(panel, 10, 0);\r\n        contentPane.add(panel);\r\n    }\r\n\r\n    private void printButtonAction() {\r\n        try {           \r\n            if(printerTextField.getText().trim().length() == 0){\r\n                JOptionPane.showMessageDialog(null, &quot;Please Enter Eltron Label Printer Share Path To Print Labels Same As In Spaceco &quot;, &quot;Enter Printer&quot;, JOptionPane.ERROR_MESSAGE);\r\n                return; \r\n            }\r\n            String printerShareValue = printerTextField.getText().trim();\r\n            FileOutputStream printerStream = new FileOutputStream(printerShareValue);\r\n            PrintStream ps = new MyPrintStream(printerStream);\r\n            ps.print(&quot;\\f&quot;);\r\n            ps.print(printTextArea.getText());\r\n            ps.flush();\r\n            ps.close();\r\n        } catch (Exception ex) {\r\n            String message = ex.getMessage() + &quot;&quot; + ex.getLocalizedMessage();\r\n            JOptionPane.showMessageDialog(null, message, &quot;No Printer&quot;, JOptionPane.ERROR_MESSAGE);\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * used to print the labels on the eltron label printer\r\n     */\r\n    static class MyPrintStream extends PrintStream {\r\n\r\n        public MyPrintStream(OutputStream outp) {\r\n            super(outp);\r\n        }\r\n\r\n        @Override\r\n        public void print(String s) {\r\n            super.print(s);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Adds some rigid area with given widht and height\r\n     */\r\n    protected void addRigidArea(Container c, int width, int height) {\r\n        c.add(Box.createRigidArea(new Dimension(width, height)));\r\n    }\r\n\r\n    /**\r\n     * Fixes the size to a component\r\n     */\r\n    protected void exactly(JComponent jc, int width, int height) {\r\n        Dimension d = new Dimension(width, height);\r\n        jc.setMaximumSize(d);\r\n        jc.setMinimumSize(d);\r\n        jc.setPreferredSize(d);\r\n    }\r\n\r\n    /**\r\n     * Sets up a JPanel with Box Layout in X-axis\r\n     */\r\n    protected JPanel setupPanel() {\r\n        JPanel jp = new JPanel();\r\n        jp.setLayout(new BoxLayout(jp, BoxLayout.X_AXIS));\r\n        return jp;\r\n    }\r\n\r\n    }\r\n\r\n\r\n\r\nCan you please help me?","title":"I am unable to print the text using java.io.printstream","body":"<p>I am trying to print an epl label using <code>java.io.printstream</code> but when\nI click on the print button nothing happens, print is not coming out. </p>\n\n<p>Here is my code</p>\n\n<pre><code>String printerShareValue = printerTextField.getText().trim();\nFileOutputStream printerStream = new FileOutputStream(printerShareValue);\n\nPrintStream ps = new MyPrintStream(printerStream);\nps.print(\"\\f\");\nps.print(printTextArea.getText());\nps.flush();\nps.close();\n</code></pre>\n\n<p><code>printerTextField</code> contains printer name which is going to print.</p>\n\n<p><code>printTextArea</code> is the text label we want to print.</p>\n\n<pre><code> class MyPrintStream extends PrintStream { \n   public MyPrintStream(OutputStream outp) { super(outp); } \n   @Override \n   public void print(String s) { super.print(s); } \n }\n\n\npublic class TestPrint extends JFrame {\n\nprivate Container contentPane;\nprivate final int VERTICAL_RIGID_AREA_HEIGHT = 30;\nprivate final int STANDARD_LABEL_HEIGHT = 20;\nprivate final int STANDARD_LABEL_WIDTH = 100;\nprivate JTextField printerTextField;\nprivate JTextArea printTextArea;\n\npublic TestPrint() {\n    super();\n    contentPane = this.getContentPane();\n    contentPane.setLayout(new BoxLayout(contentPane, BoxLayout.Y_AXIS));\n    setTitle(\"PrintTest\");\n\n    addRigidArea(contentPane, 0, VERTICAL_RIGID_AREA_HEIGHT);\n    setupPrintPanel();\n    setupPrinterTextArea();\n    setupButtons();\n    addRigidArea(contentPane, 0, 20);\n    pack();\n\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    GraphicsConfiguration gc = getGraphicsConfiguration();\n    Rectangle gcr = gc.getBounds();\n    Rectangle thisr = getBounds();\n    setLocation(new Point(gcr.x + (gcr.width / 2) - (thisr.width / 2), gcr.y\n            + (gcr.height / 2) - (thisr.height / 2)));\n    setVisible(true);\n\n}\n\nprivate void setupPrintPanel() {\n    // setup the panel\n    JPanel panel = setupPanel();\n    exactly(panel, 500, 40);\n\n    addRigidArea(panel, 10, 0);\n    printerTextField = new JTextField();\n\n    // the JComboBox dropdown list element\n    JLabel databaseLabel = new JLabel(\"Eltron Label Printer Share\");\n    databaseLabel.setHorizontalAlignment(SwingConstants.RIGHT);\n    exactly(databaseLabel, 150, STANDARD_LABEL_HEIGHT);\n    panel.add(databaseLabel);\n\n    addRigidArea(panel, 10, 0);\n    printerTextField = new JTextField();\n    exactly(printerTextField, 300, STANDARD_LABEL_HEIGHT);\n    panel.add(printerTextField);\n\n    contentPane.add(panel);\n\n}\n\nprivate void setupPrinterTextArea() {\n    JPanel panel = setupPanel();\n\n    addRigidArea(panel, 10, 0);\n\n    printTextArea = new JTextArea();\n    String s = \"N\\n\"\n            + \"A50,1150,3,2,2,1,N,\\\"SHIP TO:\\\"\\n\"\n            + \"A50,950,3,3,2,1,N,\\\"test\\\"\\n\"\n            + \"B100,384,3,1,3,7,90,B,\\\"1046305\\\"\\n\"\n            + \"A90,950,3,3,2,1,N,\\\"tt\\\"\\n\"\n            + \"A130,950,3,3,2,1,N,\\\"tttt\\\"\\n\"\n            + \"A170,950,3,3,2,1,N,\\\"tttt\\\"\\n\"\n            + \"A210,950,3,3,2,1,N,\\\"ttt, CO  ttt  t\\\"\\n\"\n            + \"A270,1150,3,2,2,1,N,\\\"ORDER #\\\"\\n\"\n            + \"A270,880,3,2,2,1,N,\\\"PURCHASE ORDER #\\\"\\n\"\n            + \"A270,200,3,2,2,1,N,\\\"SHIP DATE\\\"\\n\"\n            + \"A300,1150,3,3,2,1,N,\\\"087462\\\"\\n\"\n            + \"A300,880,3,3,2,1,N,\\\"\\\"\\n\"\n            + \"A300,200,3,3,2,1,N,\\\"06-12-2018\\\"\\n\"\n            + \"A350,1150,3,2,2,1,N,\\\"TAG:\\\"\\n\"\n            + \"A350,1090,3,3,2,1,N,\\\"\\\"\\n\"\n            + \"A400,1150,3,2,2,1,N,\\\"ITEM #\\\"\\n\"\n            + \"A400,880,3,2,2,1,N,\\\"DESCRIPTION\\\"\\n\"\n            + \"A400,200,3,2,2,1,N,\\\"QUANTITY\\\"\\n\"\n            + \"A430,1150,3,3,2,1,N,\\\"2601400 01SI1T(H\\\"\\n\"\n            + \"A430,880,3,3,2,1,N,\\\"DOUBLE HUB MINI LARGE PLATINUM COATED \\\"\\n\"\n            + \"A430,200,3,3,2,1,N,\\\"1\\\"\\n\"\n            + \"A480,1150,3,3,2,1,N,\\\"B02MCL-PLT)[1000]\\\"\\n\"\n            + \"A530,1150,3,4,2,1,N,\\\"SAM123\\\"\\n\"\n            + \"A480,880,3W,3,2,1,N,\\\"WITH PAINTED OF HB02MCL-PLT\\\"\\n\"\n            + \"A530,880,3,3,2,1,N,\\\"FOR MONITORS BETWEEN 2-10LBS.\\\"\\n\"\n            + \"A580,1150,3,3,2,1,N,\\\"Test sales order note.\\\"\\n\"\n            + \"A610,1150,3,2,2,1,N,\\\"GROSS WEIGHT\\\"\\n\"\n            + \"A610,880,3,2,2,1,N,\\\"NET WEIGHT\\\"\\n\"\n            + \"A610,600,3,2,2,1,N,\\\"CARTON SIZE\\\"\\n\"\n            + \"A640,1150,3,3,2,1,N,\\\"2.0(Kg)\\\"\\n\"\n            + \"A640,880,3,3,2,1,N,\\\"3.0(Kg)\\\"\\n\"\n            + \"A640,600,3,3,2,1,N,\\\"4.0(mm)X0.0(mm)X0.0(mm)\\\"\\n\"\n            + \"P1\";\n    exactly(printTextArea, 500, 550);\n    printTextArea.setText(s);\n    panel.add(printTextArea);\n    addRigidArea(panel, 10, 0);\n    contentPane.add(panel);\n\n}\n\nprivate void setupButtons() {\n    JPanel panel = setupPanel();\n    exactly(panel, 150, 50);\n\n    //The ok Button\n    JButton okButton = new JButton(\"Print\");\n    okButton.setHorizontalAlignment(SwingConstants.RIGHT);\n    okButton.setEnabled(true);\n    okButton.addActionListener(\n            new ActionListener() {\n        @Override\n        public void actionPerformed(ActionEvent evt) {\n            printButtonAction();\n        }\n    });\n    getRootPane().setDefaultButton(okButton);\n    okButton.requestFocusInWindow();\n    panel.add(okButton);\n    addRigidArea(panel, 10, 0);\n    contentPane.add(panel);\n}\n\nprivate void printButtonAction() {\n    try {           \n        if(printerTextField.getText().trim().length() == 0){\n            JOptionPane.showMessageDialog(null, \"Please Enter Eltron Label Printer Share Path To Print Labels Same As In Spaceco \", \"Enter Printer\", JOptionPane.ERROR_MESSAGE);\n            return; \n        }\n        String printerShareValue = printerTextField.getText().trim();\n        FileOutputStream printerStream = new FileOutputStream(printerShareValue);\n        PrintStream ps = new MyPrintStream(printerStream);\n        ps.print(\"\\f\");\n        ps.print(printTextArea.getText());\n        ps.flush();\n        ps.close();\n    } catch (Exception ex) {\n        String message = ex.getMessage() + \"\" + ex.getLocalizedMessage();\n        JOptionPane.showMessageDialog(null, message, \"No Printer\", JOptionPane.ERROR_MESSAGE);\n    }\n\n}\n\n/**\n * used to print the labels on the eltron label printer\n */\nstatic class MyPrintStream extends PrintStream {\n\n    public MyPrintStream(OutputStream outp) {\n        super(outp);\n    }\n\n    @Override\n    public void print(String s) {\n        super.print(s);\n    }\n}\n\n/**\n * Adds some rigid area with given widht and height\n */\nprotected void addRigidArea(Container c, int width, int height) {\n    c.add(Box.createRigidArea(new Dimension(width, height)));\n}\n\n/**\n * Fixes the size to a component\n */\nprotected void exactly(JComponent jc, int width, int height) {\n    Dimension d = new Dimension(width, height);\n    jc.setMaximumSize(d);\n    jc.setMinimumSize(d);\n    jc.setPreferredSize(d);\n}\n\n/**\n * Sets up a JPanel with Box Layout in X-axis\n */\nprotected JPanel setupPanel() {\n    JPanel jp = new JPanel();\n    jp.setLayout(new BoxLayout(jp, BoxLayout.X_AXIS));\n    return jp;\n}\n\n}\n</code></pre>\n\n<p>Can you please help me?</p>\n"},{"tags":["java","macos","jnotify","java.library.path"],"comments":[{"owner":{"account_id":8534829,"reputation":1,"user_id":6397061,"display_name":"Manish Saxena"},"score":0,"creation_date":1643916280,"post_id":8282237,"comment_id":125533998,"body_markdown":"JNotify works only with fewer files on macOS, try with fewer files to get expected results.","body":"JNotify works only with fewer files on macOS, try with fewer files to get expected results."}],"answers":[{"tags":[],"owner":{"account_id":18250,"reputation":39302,"user_id":41655,"accept_rate":76,"display_name":"millimoose"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1322348398,"creation_date":1322348398,"answer_id":8282279,"question_id":8282237,"body_markdown":"`java.library.path` is a Java system variable, you have to set this particular one by using the `-D` switch when launching the program:\r\n\r\n    java -Djava.library.path=/path/to/dylibs your.MainClass\r\n\r\nIt should be possible to tell Netbeans to add some command line parameters when starting your program somewhere in your project&#39;s properties.\r\n\r\nOn OS X, the directory you want is wherever the `.dylib` files are, not the `.so` ones.","title":"JNotify on Mac OS X?","body":"<p><code>java.library.path</code> is a Java system variable, you have to set this particular one by using the <code>-D</code> switch when launching the program:</p>\n\n<pre><code>java -Djava.library.path=/path/to/dylibs your.MainClass\n</code></pre>\n\n<p>It should be possible to tell Netbeans to add some command line parameters when starting your program somewhere in your project's properties.</p>\n\n<p>On OS X, the directory you want is wherever the <code>.dylib</code> files are, not the <code>.so</code> ones.</p>\n"},{"tags":[],"owner":{"account_id":933477,"reputation":6047,"user_id":962872,"accept_rate":76,"display_name":"chrisapotek"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1332649232,"creation_date":1332644020,"answer_id":9857561,"question_id":8282237,"body_markdown":"JNotify does NOT work on MAC OSX 10.6.8. As simple as that. :( On Linux works fine! File modified is not correctly reported no matter what you try.","title":"JNotify on Mac OS X?","body":"<p>JNotify does NOT work on MAC OSX 10.6.8. As simple as that. :( On Linux works fine! File modified is not correctly reported no matter what you try.</p>\n"}],"owner":{"account_id":59835,"reputation":12616,"user_id":178946,"accept_rate":72,"display_name":"Anders"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5757,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":8282279,"answer_count":2,"score":6,"last_activity_date":1643916280,"creation_date":1322347868,"question_id":8282237,"body_markdown":"I want to try JNotify, the plugin library for watching file system changes, but cannot figure out how to configure it. The web page for JNotify says that &quot;java.library.path should point to the location of the native libraries that comes with jnotify (dlls, so dylibs etc)&quot;. I am rather new to Mac OS X and don&#39;t really know how to do this. I&#39;m using NetBeans and was hoping there was a simple way of adding it to the path in there. I tried it by simply adding the jar file to the Libraries node in the project, and importing it by &quot;import net.contentobjects.jnotify.*;&quot;, but that didn&#39;t help. I&#39;m getting this:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no jnotify in java.library.path\r\n\r\nIt also seems I need to add native libraries (.so file for Mac I guess) into the same path.\r\n\r\nSo how do I do this?","title":"JNotify on Mac OS X?","body":"<p>I want to try JNotify, the plugin library for watching file system changes, but cannot figure out how to configure it. The web page for JNotify says that \"java.library.path should point to the location of the native libraries that comes with jnotify (dlls, so dylibs etc)\". I am rather new to Mac OS X and don't really know how to do this. I'm using NetBeans and was hoping there was a simple way of adding it to the path in there. I tried it by simply adding the jar file to the Libraries node in the project, and importing it by \"import net.contentobjects.jnotify.*;\", but that didn't help. I'm getting this:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.UnsatisfiedLinkError: no jnotify in java.library.path\n</code></pre>\n\n<p>It also seems I need to add native libraries (.so file for Mac I guess) into the same path.</p>\n\n<p>So how do I do this?</p>\n"},{"tags":["java","eclipse","run-configuration"],"answers":[{"tags":[],"owner":{"account_id":159578,"reputation":508,"user_id":379066,"accept_rate":100,"display_name":"dpatchery"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1288368897,"creation_date":1288368897,"answer_id":4053788,"question_id":4053265,"body_markdown":"You can create a separate class that calls your program with different arguments, and run it instead.\r\n\r\n    public class YourClass {\r\n        public static void main(String arg){\r\n            System.out.println(arg);\r\n        }\r\n    }\r\n\r\n    public class YourClassTester {\r\n        public static void main(String[] args){\r\n            YourClass.main(&quot;SomeArg1&quot;);\r\n            YourClass.main(&quot;SomeArg2&quot;);\r\n            YourClass.main(&quot;SomeArg3&quot;);\r\n        }\r\n    }","title":"Running multiple launch configurations at once","body":"<p>You can create a separate class that calls your program with different arguments, and run it instead.</p>\n\n<pre><code>public class YourClass {\n    public static void main(String arg){\n        System.out.println(arg);\n    }\n}\n\npublic class YourClassTester {\n    public static void main(String[] args){\n        YourClass.main(\"SomeArg1\");\n        YourClass.main(\"SomeArg2\");\n        YourClass.main(\"SomeArg3\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":165652,"reputation":4817,"user_id":389287,"accept_rate":63,"display_name":"anirvan"},"down_vote_count":0,"up_vote_count":41,"is_accepted":true,"score":41,"last_activity_date":1551618818,"creation_date":1288371558,"answer_id":4054155,"question_id":4053265,"body_markdown":"I found this post on the Eclipse trackers: [Start multiple debug configurations at once][1] \r\n\r\nWhile it talks about multi-launching debug configurations, I think it is just as applicable to run configurations.\r\n\r\n[![Launch Group][2]][2]\r\n\r\nYou may want to right click a run configuration in group launch and configure it.\r\n\r\n[![Launch sequential][3]][3] \r\n\r\n\r\n  [1]: https://bugs.eclipse.org/bugs/show_bug.cgi?id=39900\r\n  [2]: https://i.stack.imgur.com/ilNO5.jpg\r\n  [3]: https://i.stack.imgur.com/qIKRh.jpg","title":"Running multiple launch configurations at once","body":"<p>I found this post on the Eclipse trackers: <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=39900\" rel=\"noreferrer\">Start multiple debug configurations at once</a> </p>\n\n<p>While it talks about multi-launching debug configurations, I think it is just as applicable to run configurations.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ilNO5.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ilNO5.jpg\" alt=\"Launch Group\"></a></p>\n\n<p>You may want to right click a run configuration in group launch and configure it.</p>\n\n<p><a href=\"https://i.stack.imgur.com/qIKRh.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/qIKRh.jpg\" alt=\"Launch sequential\"></a> </p>\n"},{"tags":[],"owner":{"account_id":245152,"reputation":3284,"user_id":518491,"accept_rate":75,"display_name":"Andi"},"down_vote_count":0,"up_vote_count":48,"is_accepted":false,"score":48,"last_activity_date":1643915649,"creation_date":1344614994,"answer_id":11905444,"question_id":4053265,"body_markdown":"**EDIT**: According to [this answer][1] since Eclipse Oxygen (4.7.0) you can use a run configuration of the type **Launch Group** for that.\r\n\r\n----------\r\n\r\nJust install &quot;C/C++ Development Tools&quot; from the CDT (see eclipse.org/cdt/downloads.php ) - this single package is enough, no other CDT packages are needed. This won&#39;t disturb your Java environment ;-) Then you have &quot;Launch Groups&quot;, for any kind of project, including Java projects. See the following screenshot:\r\n\r\n![enter image description here][2]\r\n\r\nYou can run or debug the projects (also mixed mode), define delay times and so on. Have fun!\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/47302032/394431\r\n  [2]: http://i.stack.imgur.com/0y27d.png","title":"Running multiple launch configurations at once","body":"<p><strong>EDIT</strong>: According to <a href=\"https://stackoverflow.com/a/47302032/394431\">this answer</a> since Eclipse Oxygen (4.7.0) you can use a run configuration of the type <strong>Launch Group</strong> for that.</p>\n<hr />\n<p>Just install &quot;C/C++ Development Tools&quot; from the CDT (see eclipse.org/cdt/downloads.php ) - this single package is enough, no other CDT packages are needed. This won't disturb your Java environment ;-) Then you have &quot;Launch Groups&quot;, for any kind of project, including Java projects. See the following screenshot:</p>\n<p><img src=\"https://i.stack.imgur.com/0y27d.png\" alt=\"enter image description here\" /></p>\n<p>You can run or debug the projects (also mixed mode), define delay times and so on. Have fun!</p>\n"},{"tags":[],"owner":{"account_id":1767825,"reputation":53,"user_id":1613234,"display_name":"Ryan"},"down_vote_count":7,"up_vote_count":3,"is_accepted":false,"score":-4,"last_activity_date":1389684516,"creation_date":1350213085,"answer_id":12881676,"question_id":4053265,"body_markdown":"You don&#39;t need any plugin:\r\n\r\n 1. Create all Run Configurations in eclipse\r\n 2. Select Organize Favorites...\r\n 3. Add you favorites, done\r\n\r\n![Screenshot][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/e7OzB.png","title":"Running multiple launch configurations at once","body":"<p>You don't need any plugin:</p>\n\n<ol>\n<li>Create all Run Configurations in eclipse</li>\n<li>Select Organize Favorites...</li>\n<li>Add you favorites, done</li>\n</ol>\n\n<p><img src=\"https://i.stack.imgur.com/e7OzB.png\" alt=\"Screenshot\"></p>\n"},{"tags":[],"owner":{"account_id":93583,"reputation":14390,"user_id":255961,"accept_rate":65,"display_name":"studgeek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1353805048,"creation_date":1353805048,"answer_id":13547284,"question_id":4053265,"body_markdown":"There are two more options listed in https://stackoverflow.com/questions/3045566/launch-an-eclipse-run-configuration-from-ant.\r\n\r\nYou could group them in Ant and then call them using &lt;a href=&quot;http://www.ant4eclipse.org/&quot;&gt;Ant4Eclipse&lt;/a&gt;. Or call multiple launch configs from a command script using [eclipse remote control](http://github.com/marook/eclipse-remote-control).","title":"Running multiple launch configurations at once","body":"<p>There are two more options listed in <a href=\"https://stackoverflow.com/questions/3045566/launch-an-eclipse-run-configuration-from-ant\">Launch an Eclipse Run Configuration from ANT</a>.</p>\n\n<p>You could group them in Ant and then call them using <a href=\"http://www.ant4eclipse.org/\" rel=\"nofollow noreferrer\">Ant4Eclipse</a>. Or call multiple launch configs from a command script using <a href=\"http://github.com/marook/eclipse-remote-control\" rel=\"nofollow noreferrer\">eclipse remote control</a>.</p>\n"},{"tags":[],"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1510732371,"creation_date":1510732371,"answer_id":47302032,"question_id":4053265,"body_markdown":"**Since Eclipse Oxygen (4.7.0)** you can use a run configuration of the type ***Launch Group*** for that.\r\n\r\n[This short video shows how to use a *Launch Group*.][1]\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=Y0-cO9wZj6w&amp;t=20s","title":"Running multiple launch configurations at once","body":"<p><strong>Since Eclipse Oxygen (4.7.0)</strong> you can use a run configuration of the type <strong><em>Launch Group</em></strong> for that.</p>\n\n<p><a href=\"https://www.youtube.com/watch?v=Y0-cO9wZj6w&amp;t=20s\" rel=\"noreferrer\">This short video shows how to use a <em>Launch Group</em>.</a></p>\n"}],"owner":{"account_id":34541,"reputation":33228,"user_id":97688,"accept_rate":76,"display_name":"clamp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33896,"favorite_count":0,"down_vote_count":0,"up_vote_count":53,"accepted_answer_id":4054155,"answer_count":6,"score":53,"last_activity_date":1643915649,"creation_date":1288365597,"question_id":4053265,"body_markdown":"I have several launch configurations in Eclipse each launching the same Java program but with different parameters. \r\n\r\nNow is it possible to run all of these at once (with one mouse click) instead of selecting each of it separately and launching it?","title":"Running multiple launch configurations at once","body":"<p>I have several launch configurations in Eclipse each launching the same Java program but with different parameters. </p>\n\n<p>Now is it possible to run all of these at once (with one mouse click) instead of selecting each of it separately and launching it?</p>\n"},{"tags":["java","maven","javadoc","maven-javadoc-plugin"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1643915883,"post_id":70977018,"comment_id":125473020,"body_markdown":"Does it work for individual modules and the non-aggregate `javadoc` goal?","body":"Does it work for individual modules and the non-aggregate <code>javadoc</code> goal?"},{"owner":{"account_id":1728581,"reputation":2763,"user_id":1582712,"accept_rate":51,"display_name":"E.S."},"score":0,"creation_date":1643926480,"post_id":70977018,"comment_id":125476492,"body_markdown":"@RobSpoor - actually yes. Since posting this, I got the individual modules to show private javadoc, but not the full aggregate.","body":"@RobSpoor - actually yes. Since posting this, I got the individual modules to show private javadoc, but not the full aggregate."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1643962959,"post_id":70977018,"comment_id":125483245,"body_markdown":"Then this could very well be a bug that nobody found yet. The plugin is not flawless; I found another bug in version 3.3.0 and up that duplicates classes in the overview list for Java 8. I&#39;d check https://issues.apache.org/jira/projects/MNG/issues/ to see if there&#39;s already an issue reported about this.","body":"Then this could very well be a bug that nobody found yet. The plugin is not flawless; I found another bug in version 3.3.0 and up that duplicates classes in the overview list for Java 8. I&#39;d check <a href=\"https://issues.apache.org/jira/projects/MNG/issues/\" rel=\"nofollow noreferrer\">issues.apache.org/jira/projects/MNG/issues</a> to see if there&#39;s already an issue reported about this."}],"owner":{"account_id":1728581,"reputation":2763,"user_id":1582712,"accept_rate":51,"display_name":"E.S."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643915586,"creation_date":1643915586,"question_id":70977018,"body_markdown":"I have a multi-module maven project and I am wanting to aggregate a javadoc that combines all the methods (public and private) into a whole javadoc. It seems simple, I am following the instructions here: https://maven.apache.org/plugins/maven-javadoc-plugin/examples/aggregate.html\r\n\r\nAnd I am combining that with the `configuration/show/private` set up:\r\n```.xml\r\n...\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.1&lt;/version&gt;\r\n                &lt;reportSets&gt;\r\n                    &lt;reportSet&gt;\r\n                        &lt;id&gt;aggregate&lt;/id&gt;\r\n                        &lt;reports&gt;\r\n                            &lt;report&gt;aggregate&lt;/report&gt;\r\n                        &lt;/reports&gt;\r\n                    &lt;/reportSet&gt;\r\n                &lt;/reportSets&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;show&gt;private&lt;/show&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/reporting&gt;\r\n```\r\n\r\nAnd then I run `mvn clean javadoc:aggregate javadoc:aggregate-jar`\r\n\r\nBut, the resulting javadoc only contains my public methods.\r\n\r\nI am trying to keep things as simple as possible. I have specified `&lt;show&gt;private&lt;/show&gt;` and it isn&#39;t working. I highly doubt this is a bug because something like this would have been found long before v3.x however I think the instructions for how to properly show private in multi-module maven set ups may not be full?\r\n\r\nI have tried many variations, putting the `configuration` instructions in different areas or putting the `maven-javadoc-plugin` declaration in the build section, reporting section, etc. Nothing is producing my private javadoc methods.","title":"maven-javadoc-plugin not showing private methods","body":"<p>I have a multi-module maven project and I am wanting to aggregate a javadoc that combines all the methods (public and private) into a whole javadoc. It seems simple, I am following the instructions here: <a href=\"https://maven.apache.org/plugins/maven-javadoc-plugin/examples/aggregate.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-javadoc-plugin/examples/aggregate.html</a></p>\n<p>And I am combining that with the <code>configuration/show/private</code> set up:</p>\n<pre><code>...\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.1&lt;/version&gt;\n                &lt;reportSets&gt;\n                    &lt;reportSet&gt;\n                        &lt;id&gt;aggregate&lt;/id&gt;\n                        &lt;reports&gt;\n                            &lt;report&gt;aggregate&lt;/report&gt;\n                        &lt;/reports&gt;\n                    &lt;/reportSet&gt;\n                &lt;/reportSets&gt;\n                &lt;configuration&gt;\n                    &lt;show&gt;private&lt;/show&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/reporting&gt;\n</code></pre>\n<p>And then I run <code>mvn clean javadoc:aggregate javadoc:aggregate-jar</code></p>\n<p>But, the resulting javadoc only contains my public methods.</p>\n<p>I am trying to keep things as simple as possible. I have specified <code>&lt;show&gt;private&lt;/show&gt;</code> and it isn't working. I highly doubt this is a bug because something like this would have been found long before v3.x however I think the instructions for how to properly show private in multi-module maven set ups may not be full?</p>\n<p>I have tried many variations, putting the <code>configuration</code> instructions in different areas or putting the <code>maven-javadoc-plugin</code> declaration in the build section, reporting section, etc. Nothing is producing my private javadoc methods.</p>\n"},{"tags":["java","generics"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643915519,"creation_date":1643915519,"answer_id":70977011,"question_id":70976843,"body_markdown":"A `List&lt;IntegerData&gt;` or `List&lt;DataInterface&lt;Integer&gt;&gt;` is not compatible with `List&lt;DataInterface&lt;?&gt;&gt;`, because I can also add a `DataInterface&lt;String&gt;` to the latter. The solution is to use extends:\r\n\r\n    private static void doSomething(List&lt;? extends DataInterface&lt;?&gt;&gt; dataList)\r\n\r\nThis will prevent adding anything to the list (except `null`), and is therefore safe to use.\r\n\r\nBy wrapping the list, the generic type is changed due to type inference. If you&#39;d assign it to a variable using `var` it would also fail.","title":"Java generic List with genric items as parameter","body":"<p>A <code>List&lt;IntegerData&gt;</code> or <code>List&lt;DataInterface&lt;Integer&gt;&gt;</code> is not compatible with <code>List&lt;DataInterface&lt;?&gt;&gt;</code>, because I can also add a <code>DataInterface&lt;String&gt;</code> to the latter. The solution is to use extends:</p>\n<pre><code>private static void doSomething(List&lt;? extends DataInterface&lt;?&gt;&gt; dataList)\n</code></pre>\n<p>This will prevent adding anything to the list (except <code>null</code>), and is therefore safe to use.</p>\n<p>By wrapping the list, the generic type is changed due to type inference. If you'd assign it to a variable using <code>var</code> it would also fail.</p>\n"}],"owner":{"account_id":2253575,"reputation":170,"user_id":1985285,"display_name":"Malte"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":253,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70977011,"answer_count":1,"score":1,"last_activity_date":1643915519,"creation_date":1643914794,"question_id":70976843,"body_markdown":"I have the following interface with generic and an implentation class:\r\n```\r\npublic interface DataInterface&lt;T&gt; {\r\n    T getData();\r\n    void printData();\r\n}\r\n```\r\n\r\n```\r\npublic class IntegerData implements DataInterface&lt;Integer&gt; {\r\n\r\n    private Integer value;\r\n    \r\n    public IntegerData(Integer value) {\r\n        this.value = value;\r\n    }\r\n\r\n    @Override\r\n    public Integer getData() {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public void printData() {\r\n        System.out.println(this.value);        \r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd here my code that use the class:\r\n```\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;IntegerData&gt; dataList = new ArrayList&lt;&gt;();\r\n        dataList.add(new IntegerData(1));\r\n        \r\n        doSomething(dataList); &lt;-- Compiler error\r\n        \r\n        //this work\r\n        doSomething(Collections.unmodifiableList(dataList));\r\n        doSomething(new ArrayList&lt;&gt;(dataList));\r\n    }\r\n    \r\n    private static void doSomething(List&lt;DataInterface&lt;?&gt;&gt; dataList) {\r\n        for (DataInterface&lt;?&gt; data : dataList)\r\n            data.printData();\r\n    }\r\n}\r\n```\r\n\r\nIf I try to call the doSomething method with the List&lt;IntegerData&gt; type, the compiler complains with &quot;The method doSomething(List&lt;DataInterface&lt;?&gt;&gt;) in the type Main is not applicable for the arguments (List&lt;IntegerData&gt;)&quot;.\r\n\r\nBut if I wrap my specific list or create a new one, then it works. I wonder why the direct call doesn&#39;t work. What is the reason? ","title":"Java generic List with genric items as parameter","body":"<p>I have the following interface with generic and an implentation class:</p>\n<pre><code>public interface DataInterface&lt;T&gt; {\n    T getData();\n    void printData();\n}\n</code></pre>\n<pre><code>public class IntegerData implements DataInterface&lt;Integer&gt; {\n\n    private Integer value;\n    \n    public IntegerData(Integer value) {\n        this.value = value;\n    }\n\n    @Override\n    public Integer getData() {\n        return null;\n    }\n\n    @Override\n    public void printData() {\n        System.out.println(this.value);        \n    }\n\n}\n</code></pre>\n<p>And here my code that use the class:</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n        List&lt;IntegerData&gt; dataList = new ArrayList&lt;&gt;();\n        dataList.add(new IntegerData(1));\n        \n        doSomething(dataList); &lt;-- Compiler error\n        \n        //this work\n        doSomething(Collections.unmodifiableList(dataList));\n        doSomething(new ArrayList&lt;&gt;(dataList));\n    }\n    \n    private static void doSomething(List&lt;DataInterface&lt;?&gt;&gt; dataList) {\n        for (DataInterface&lt;?&gt; data : dataList)\n            data.printData();\n    }\n}\n</code></pre>\n<p>If I try to call the doSomething method with the List type, the compiler complains with &quot;The method doSomething(List&lt;DataInterface&lt;?&gt;&gt;) in the type Main is not applicable for the arguments (List)&quot;.</p>\n<p>But if I wrap my specific list or create a new one, then it works. I wonder why the direct call doesn't work. What is the reason?</p>\n"},{"tags":["java","intellij-idea","macros"],"answers":[{"tags":[],"owner":{"account_id":433481,"reputation":4842,"user_id":818832,"accept_rate":100,"display_name":"Peter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1563281069,"creation_date":1563281069,"answer_id":57057573,"question_id":57056888,"body_markdown":"There is no ready to use way/shortcut in Intellij Idea to do this. \r\n\r\nI can offer you to ways to reach something similar.\r\n\r\n## [Live templates](https://www.jetbrains.com/help/idea/using-live-templates.html)\r\n\r\nLive templates lets you create small code snippets that are expanded by an abbreviation.\r\n\r\nLive templates can have variables that are are derived from the context, other variables or just filled by you when inserting the templates.\r\n\r\nThere are surrounding live templates that only work when code has been selected. In most cases, the selected code is wrapped by the live template. \r\n\r\nIntellij offers quite a few ready to use live templates, like `surround with IF` or `surround with try-catch` aso. \r\n\r\nA live template for your case looks like this:\r\n```\r\nSystem.out.println($SELECTION$);$END$\r\n```\r\n\r\nYou have to save that live template in the `surround` category under `Editor-&gt;Live Templates` and assign it a proper abbreviation.\r\n\r\nSelect the code you want to surround, press `Ctrl+Alt+t` and select the newly created live template or just type the assigned abbreviation. That&#39;s it.\r\n\r\n## [Macros](https://www.jetbrains.com/help/idea/using-macros-in-the-editor.html)\r\n\r\nThe second way is recording a macro and replay it. \r\nFurthermore, a shortcut can be assigned to a macros, but is a replay of your typing and this can be a bit slow if you want to input more than just a few characters. \r\n\r\nImports aren&#39;t done automatically as well, like they are when using live templates. Therefore, if you want to use a macro for inserting code, you have to use the full qualified class name or optimize imports after running the macro. \r\n\r\nI suggest you try out both ways and decide afterwards what works best for you.","title":"Shortcut to wrap highlighted text into a System.out.println() on intellij","body":"<p>There is no ready to use way/shortcut in Intellij Idea to do this. </p>\n\n<p>I can offer you to ways to reach something similar.</p>\n\n<h2><a href=\"https://www.jetbrains.com/help/idea/using-live-templates.html\" rel=\"nofollow noreferrer\">Live templates</a></h2>\n\n<p>Live templates lets you create small code snippets that are expanded by an abbreviation.</p>\n\n<p>Live templates can have variables that are are derived from the context, other variables or just filled by you when inserting the templates.</p>\n\n<p>There are surrounding live templates that only work when code has been selected. In most cases, the selected code is wrapped by the live template. </p>\n\n<p>Intellij offers quite a few ready to use live templates, like <code>surround with IF</code> or <code>surround with try-catch</code> aso. </p>\n\n<p>A live template for your case looks like this:</p>\n\n<pre><code>System.out.println($SELECTION$);$END$\n</code></pre>\n\n<p>You have to save that live template in the <code>surround</code> category under <code>Editor-&gt;Live Templates</code> and assign it a proper abbreviation.</p>\n\n<p>Select the code you want to surround, press <code>Ctrl+Alt+t</code> and select the newly created live template or just type the assigned abbreviation. That's it.</p>\n\n<h2><a href=\"https://www.jetbrains.com/help/idea/using-macros-in-the-editor.html\" rel=\"nofollow noreferrer\">Macros</a></h2>\n\n<p>The second way is recording a macro and replay it. \nFurthermore, a shortcut can be assigned to a macros, but is a replay of your typing and this can be a bit slow if you want to input more than just a few characters. </p>\n\n<p>Imports aren't done automatically as well, like they are when using live templates. Therefore, if you want to use a macro for inserting code, you have to use the full qualified class name or optimize imports after running the macro. </p>\n\n<p>I suggest you try out both ways and decide afterwards what works best for you.</p>\n"}],"owner":{"account_id":13990696,"reputation":410,"user_id":10104743,"display_name":"Spn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":528,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":57057573,"answer_count":1,"score":2,"last_activity_date":1643915360,"creation_date":1563278834,"question_id":57056888,"body_markdown":"Is there a way to highlight a text and put it into a System.out.println() by using a shortcut on intellij ?\r\n\r\nHere&#39;s what I&#39;m looking for :  \r\n1. I highlight `dog.getName()` using my mouse  \r\n2. I use a shortcut  \r\n3. Result : `System.out.println(dog.getName());`\r\n\r\n","title":"Shortcut to wrap highlighted text into a System.out.println() on intellij","body":"<p>Is there a way to highlight a text and put it into a System.out.println() by using a shortcut on intellij ?</p>\n\n<p>Here's what I'm looking for :<br>\n1. I highlight <code>dog.getName()</code> using my mouse<br>\n2. I use a shortcut<br>\n3. Result : <code>System.out.println(dog.getName());</code></p>\n"},{"tags":["java","logback"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1643910533,"post_id":70975937,"comment_id":125470977,"body_markdown":"What logback dependencies are you using? See if this helps anyway: https://stackoverflow.com/questions/37534044/logback-how-write-logs-to-file","body":"What logback dependencies are you using? See if this helps anyway: <a href=\"https://stackoverflow.com/questions/37534044/logback-how-write-logs-to-file\" title=\"logback how write logs to file\">stackoverflow.com/questions/37534044/&hellip;</a>"},{"owner":{"account_id":18542,"reputation":990,"user_id":42564,"accept_rate":70,"display_name":"Learner"},"score":0,"creation_date":1643910765,"post_id":70975937,"comment_id":125471089,"body_markdown":"logback-classic  and slf4j-api","body":"logback-classic  and slf4j-api"},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1643912421,"post_id":70975937,"comment_id":125471759,"body_markdown":"Is this exactly what you have? &lt;appender name=&quot;FILE&quot; class =ch.qos.logback.core.FileAppender&quot;&gt; If it is you are missing a double quote after equals sign. The correct configuration is: &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;","body":"Is this exactly what you have? &lt;appender name=&quot;FILE&quot; class =ch.qos.logback.core.FileAppender&quot;&gt; If it is you are missing a double quote after equals sign. The correct configuration is: &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;"},{"owner":{"account_id":18542,"reputation":990,"user_id":42564,"accept_rate":70,"display_name":"Learner"},"score":0,"creation_date":1643912605,"post_id":70975937,"comment_id":125471835,"body_markdown":"it was a typo in the question. I&#39;ve edited the question.","body":"it was a typo in the question. I&#39;ve edited the question."}],"answers":[{"tags":[],"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643912833,"creation_date":1643911305,"answer_id":70976118,"question_id":70975937,"body_markdown":"Probably you missed the *logback-core* dependency.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n        &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2.10&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\nor\r\n\r\n    dependencies {\r\n        ...\r\n        implementation &#39;ch.qos.logback:logback-core:1.2.10&#39;\r\n        ...\r\n    }\r\n\r\nIn addition to the other two you already have.\r\n\r\nOther thing to do is to update to the latest versions of each dependency and see if the problem still occurs.\r\n\r\nReference: https://sematext.com/blog/logback-tutorial/ or https://www.baeldung.com/logback","title":"Logback log file empty","body":"<p>Probably you missed the <em>logback-core</em> dependency.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n    &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\n    &lt;version&gt;1.2.10&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>or</p>\n<pre><code>dependencies {\n    ...\n    implementation 'ch.qos.logback:logback-core:1.2.10'\n    ...\n}\n</code></pre>\n<p>In addition to the other two you already have.</p>\n<p>Other thing to do is to update to the latest versions of each dependency and see if the problem still occurs.</p>\n<p>Reference: <a href=\"https://sematext.com/blog/logback-tutorial/\" rel=\"nofollow noreferrer\">https://sematext.com/blog/logback-tutorial/</a> or <a href=\"https://www.baeldung.com/logback\" rel=\"nofollow noreferrer\">https://www.baeldung.com/logback</a></p>\n"},{"tags":[],"owner":{"account_id":18542,"reputation":990,"user_id":42564,"accept_rate":70,"display_name":"Learner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643915327,"creation_date":1643915327,"answer_id":70976959,"question_id":70975937,"body_markdown":"Adding depedency of logback-core was missing and also immediateFlush should be true or simply be removed. ","title":"Logback log file empty","body":"<p>Adding depedency of logback-core was missing and also immediateFlush should be true or simply be removed.</p>\n"}],"owner":{"account_id":18542,"reputation":990,"user_id":42564,"accept_rate":70,"display_name":"Learner"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":824,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70976118,"answer_count":2,"score":0,"last_activity_date":1643915327,"creation_date":1643910427,"question_id":70975937,"body_markdown":"What do I need to change to have the logs get written on the log file using Logback? \r\n\r\n       \r\n \r\n\r\n       dependencies {\r\n               implementation &#39;ch.qos.logback:logback-classic:1.2.3&#39;,\r\n                             &#39;ch.qos.logback:logback-core:1.2.3&#39;\r\n               api &#39;org.slf4j:slf4j-api:1.7.30&#39;\r\n                     }\r\n\r\n   \r\n\r\n     &lt;configuration debug=&quot;true&quot;&gt;\r\n            &lt;appender name=&quot;FILE&quot; class =&quot;ch.qos.logback.core.FileAppender&quot;&gt;\r\n              &lt;file&gt;logs\\logfile.log&lt;/file&gt;\r\n              &lt;append&gt;true&lt;/append&gt;\r\n              &lt;immediateFlush&gt;false&lt;/immediateFlush&gt;\r\n              &lt;encoder&gt;\r\n                &lt;pattern&gt;%-4relative [%thread] %-5level %logger{35} - %msg%n&lt;/pattern&gt;\r\n               &lt;/encoder&gt;\r\n            &lt;/appender&gt;\r\n        \r\n            &lt;appender name=&quot;STDOUT&quot;\r\n            class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;Target&gt;System.out&lt;/Target&gt;\r\n              &lt;encoder&gt;\r\n                 &lt;pattern&gt; .....&lt;/pattern&gt;\r\n               &lt;/encoder&gt;\r\n            &lt;/appender&gt;\r\n        \r\n            &lt;root level=&quot;DEBUG&quot;&gt;\r\n             &lt;appender-ref ref=&quot;FILE&quot;/&gt;\r\n             &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\r\n            &lt;/root&gt;\r\n      &lt;/configuration&gt;\r\n\r\nIn Java Class: \r\n\r\n   \r\n\r\n     private static final Logger log = LoggerFactory.getLogger(MyClass.class);\r\n        public static void main(String[] args){\r\n        log.debug(&quot;hello&quot;);\r\n        }\r\n\r\nThe file `logfile.log` gets created under logs folder but it&#39;s empty  and Console does show the log. \r\n\r\n","title":"Logback log file empty","body":"<p>What do I need to change to have the logs get written on the log file using Logback?</p>\n<pre><code>   dependencies {\n           implementation 'ch.qos.logback:logback-classic:1.2.3',\n                         'ch.qos.logback:logback-core:1.2.3'\n           api 'org.slf4j:slf4j-api:1.7.30'\n                 }\n\n\n\n &lt;configuration debug=&quot;true&quot;&gt;\n        &lt;appender name=&quot;FILE&quot; class =&quot;ch.qos.logback.core.FileAppender&quot;&gt;\n          &lt;file&gt;logs\\logfile.log&lt;/file&gt;\n          &lt;append&gt;true&lt;/append&gt;\n          &lt;immediateFlush&gt;false&lt;/immediateFlush&gt;\n          &lt;encoder&gt;\n            &lt;pattern&gt;%-4relative [%thread] %-5level %logger{35} - %msg%n&lt;/pattern&gt;\n           &lt;/encoder&gt;\n        &lt;/appender&gt;\n    \n        &lt;appender name=&quot;STDOUT&quot;\n        class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;Target&gt;System.out&lt;/Target&gt;\n          &lt;encoder&gt;\n             &lt;pattern&gt; .....&lt;/pattern&gt;\n           &lt;/encoder&gt;\n        &lt;/appender&gt;\n    \n        &lt;root level=&quot;DEBUG&quot;&gt;\n         &lt;appender-ref ref=&quot;FILE&quot;/&gt;\n         &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\n        &lt;/root&gt;\n  &lt;/configuration&gt;\n</code></pre>\n<p>In Java Class:</p>\n<pre><code> private static final Logger log = LoggerFactory.getLogger(MyClass.class);\n    public static void main(String[] args){\n    log.debug(&quot;hello&quot;);\n    }\n</code></pre>\n<p>The file <code>logfile.log</code> gets created under logs folder but it's empty  and Console does show the log.</p>\n"},{"tags":["java","android","sockets"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1643916430,"post_id":70976956,"comment_id":125473198,"body_markdown":"You should tell where your server is running. You should also tell where your client app is running.","body":"You should tell where your server is running. You should also tell where your client app is running."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1643916719,"post_id":70976956,"comment_id":125473315,"body_markdown":"`send();\n                receive();` Your send() can fail. But you still try to receive. No good. Change `private void send()` to `private boolean send()`. Or let it throw if something goes wrong.","body":"<code>send();                 receive();</code> Your send() can fail. But you still try to receive. No good. Change <code>private void send()</code> to <code>private boolean send()</code>. Or let it throw if something goes wrong."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1643916991,"post_id":70976956,"comment_id":125473411,"body_markdown":"In every catch block put `e.printStackTrace();` Then in the logcat check for exceptions. Post relevant logcat lines here.","body":"In every catch block put <code>e.printStackTrace();</code> Then in the logcat check for exceptions. Post relevant logcat lines here."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1643917377,"post_id":70976956,"comment_id":125473525,"body_markdown":"In the last catch block also put `receivingStr=e.getMessage()`. Then the user sees it at the TextView as now the view stays empty.","body":"In the last catch block also put <code>receivingStr=e.getMessage()</code>. Then the user sees it at the TextView as now the view stays empty."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1643917484,"post_id":70976956,"comment_id":125473558,"body_markdown":"INTERNET permission in manifest?","body":"INTERNET permission in manifest?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1643917599,"post_id":70976956,"comment_id":125473588,"body_markdown":"`// HTTP port` ? You did not tell what kind of server you run. A http server should be talked to something different...","body":"<code>&#47;&#47; HTTP port</code> ? You did not tell what kind of server you run. A http server should be talked to something different..."},{"owner":{"account_id":17484457,"reputation":3,"user_id":12677794,"display_name":"bdv005"},"score":0,"creation_date":1643962715,"post_id":70976956,"comment_id":125483168,"body_markdown":"Hi - my server is in python and he is responding to other clients . manifest ok .","body":"Hi - my server is in python and he is responding to other clients . manifest ok ."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1643969149,"post_id":70976956,"comment_id":125485366,"body_markdown":"Python? I asked if it was a http server. The kind of server. I did not ask for a programming language.","body":"Python? I asked if it was a http server. The kind of server. I did not ask for a programming language."},{"owner":{"account_id":17484457,"reputation":3,"user_id":12677794,"display_name":"bdv005"},"score":0,"creation_date":1643986011,"post_id":70976956,"comment_id":125491767,"body_markdown":"Hi - it&#39;s simple server to receive strings and send strings back . nothing more","body":"Hi - it&#39;s simple server to receive strings and send strings back . nothing more"},{"owner":{"account_id":17484457,"reputation":3,"user_id":12677794,"display_name":"bdv005"},"score":0,"creation_date":1643994486,"post_id":70976956,"comment_id":125495495,"body_markdown":"some locat errors :","body":"some locat errors :"},{"owner":{"account_id":17484457,"reputation":3,"user_id":12677794,"display_name":"bdv005"},"score":0,"creation_date":1643995530,"post_id":70976956,"comment_id":125495944,"body_markdown":"2022-02-04 19:13:36.945 3628-3628/com.example.newproj D/CompatibilityChangeReporter: Compat change id reported: 150939131; UID 10121; state: DISABLED\n2022-02-04 19:15:46.239 3628-3821/com.example.newproj E/Exception: java.net.ConnectException: failed to connect to /192.168.1.124 (port 8821) from /:: (port 36064): connect failed: ETIMEDOUT (Connection timed out)\n2022-02-04 19:15:46.239 3628-3821/com.example.newproj W/System.err: java.net.ConnectException: failed to connect to /192.168.1.124 (port 8821) from /:: (port 36064): connect failed: ETIMEDOUT (Connection timed out)\n2022-02-04 19:15","body":"2022-02-04 19:13:36.945 3628-3628/com.example.newproj D/CompatibilityChangeReporter: Compat change id reported: 150939131; UID 10121; state: DISABLED 2022-02-04 19:15:46.239 3628-3821/com.example.newproj E/Exception: java.net.ConnectException: failed to connect to /192.168.1.124 (port 8821) from /:: (port 36064): connect failed: ETIMEDOUT (Connection timed out) 2022-02-04 19:15:46.239 3628-3821/com.example.newproj W/System.err: java.net.ConnectException: failed to connect to /192.168.1.124 (port 8821) from /:: (port 36064): connect failed: ETIMEDOUT (Connection timed out) 2022-02-04 19:15"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1643997100,"post_id":70976956,"comment_id":125496520,"body_markdown":"Put the logcat lines in a nice code block in your post. Post them readable.","body":"Put the logcat lines in a nice code block in your post. Post them readable."},{"owner":{"account_id":17484457,"reputation":3,"user_id":12677794,"display_name":"bdv005"},"score":0,"creation_date":1644059693,"post_id":70976956,"comment_id":125508088,"body_markdown":"Hi - I just solve the problem . Thanks a lot for your help . using the e.printStackTrace() , helped me find the poroblem was at the windows firewall , I disable it and the program works . Thanks . How can I give you credit for this ?","body":"Hi - I just solve the problem . Thanks a lot for your help . using the e.printStackTrace() , helped me find the poroblem was at the windows firewall , I disable it and the program works . Thanks . How can I give you credit for this ?"}],"owner":{"account_id":17484457,"reputation":3,"user_id":12677794,"display_name":"bdv005"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":663,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643915307,"creation_date":1643915307,"question_id":70976956,"body_markdown":"I wrote simple android java client , main activity with socketTask and and a handler in mainactivity. and it  doesn&#39;t working .\r\nI used debuger and found that the problem is in this line :\r\nthis.socket = new Socket(IP_ADDRESS, PORT);\r\n\r\nI also had this error massage in the studio :\r\nAn unexpected packet was received before the handshake\r\n\r\nthe server is ok and responding to any other program .\r\nCan some one advice what is the problem . I attaching mainactivity and socket task .\r\nthanks a lot .\r\nmain activity\r\n```\r\n\r\n    package com.example.app24;\r\n    \r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import org.json.JSONObject;\r\n    \r\n    public class MainActivity extends AppCompatActivity implements View.OnClickListener\r\n    {\r\n    \r\n        Button btnSend ;\r\n        TextView tvFromServer;\r\n        EditText etToSend;\r\n        String strToSend,strFromServer;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState)\r\n        {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            btnSend = (Button) findViewById(R.id.btnSend);\r\n            btnSend.setOnClickListener(this);\r\n    \r\n           etToSend = (EditText) findViewById(R.id.etToSend);\r\n            tvFromServer = (TextView) findViewById(R.id.tvFromServer);\r\n            tvFromServer = (TextView) findViewById(R.id.tvFromServer);\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onClick(View v)\r\n        {\r\n            if (v == btnSend)\r\n            {\r\n                strToSend = etToSend.getText().toString();\r\n                new Thread(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        SocketTask send1 = new SocketTask(strToSend);\r\n                        strFromServer=send1.sendReceive();\r\n                        runOnUiThread(new Runnable() {\r\n                            public void run() {\r\n                                tvFromServer.setText(strFromServer);\r\n                            }\r\n                        });\r\n                    }\r\n                }).start();\r\n    \r\n            }\r\n        }\r\n    }\r\n    &#39;&#39;&#39;\r\n    SocketTask.\r\n    ```\r\n    package com.example.newproj;\r\n    import android.os.AsyncTask;\r\n    import android.os.Build;\r\n    import android.util.Log;\r\n    import androidx.annotation.RequiresApi;\r\n    import org.json.JSONObject;\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.io.OutputStreamWriter;\r\n    import java.net.Socket;\r\n    import java.nio.charset.StandardCharsets;\r\n    public class SocketTask\r\n    {\r\n    \r\n        //private final static String IP_ADDRESS = &quot;172.19.16.179&quot;;\r\n        private final static String IP_ADDRESS = &quot;192.168.1.124&quot;;\r\n        private final static int PORT = 8821;       // HTTP port\r\n        private final static int PACKET_SIZE = 1024;    // standard 1kb packet size\r\n        private Socket socket;\r\n        private String sendingStr=&quot;&quot;;\r\n        private String receivingStr=&quot;&quot;;\r\n        BufferedReader reader;\r\n        public SocketTask(String str1)\r\n        {\r\n            this.sendingStr = str1;\r\n    \r\n        }\r\n        @RequiresApi(api = Build.VERSION_CODES.KITKAT)\r\n        private void send()\r\n        {\r\n            try {\r\n                OutputStreamWriter writer = new OutputStreamWriter(this.socket.getOutputStream(), StandardCharsets.UTF_8); // outputStreamWriter creating\r\n                writer.write(this.sendingStr);\r\n                writer.flush();\r\n                Log.d(&quot;Result&quot;, &quot;sent&quot;);\r\n            }\r\n            catch (Exception e) {\r\n                Log.e(&quot;Exception&quot;, e.toString());\r\n            }\r\n        }\r\n        @RequiresApi(api = Build.VERSION_CODES.KITKAT)\r\n        private void receive() {\r\n            try {\r\n                reader = new BufferedReader(new InputStreamReader(socket.getInputStream()));\r\n                char[] charBuffer = new char[1024];\r\n                StringBuilder stringBuilder = new StringBuilder();\r\n                reader.read(charBuffer);\r\n                stringBuilder.append(charBuffer);\r\n                reader.close();\r\n                receivingStr = stringBuilder.toString();\r\n            }\r\n            catch (IOException e)\r\n            {\r\n                Log.e(&quot;Exception&quot;, e.toString());\r\n            }\r\n        }\r\n        public String sendReceive()\r\n        {\r\n            try {\r\n                this.socket = new Socket(IP_ADDRESS, PORT);\r\n                send();\r\n                receive();\r\n                this.socket.close();\r\n            } catch (Exception e) {\r\n                Log.e(&quot;Exception&quot;, e.toString());\r\n            }\r\n            return this.receivingStr;\r\n        }\r\n    }\r\n    ```\r\n\r\n","title":"why android client new socket command is not working","body":"<p>I wrote simple android java client , main activity with socketTask and and a handler in mainactivity. and it  doesn't working .\nI used debuger and found that the problem is in this line :\nthis.socket = new Socket(IP_ADDRESS, PORT);</p>\n<p>I also had this error massage in the studio :\nAn unexpected packet was received before the handshake</p>\n<p>the server is ok and responding to any other program .\nCan some one advice what is the problem . I attaching mainactivity and socket task .\nthanks a lot .\nmain activity</p>\n<pre><code>\n    package com.example.app24;\n    \n    import android.content.Intent;\n    import android.os.Bundle;\n    import android.view.View;\n    import android.widget.Button;\n    import android.widget.EditText;\n    import android.widget.TextView;\n    import android.widget.Toast;\n    \n    import androidx.appcompat.app.AppCompatActivity;\n    \n    import org.json.JSONObject;\n    \n    public class MainActivity extends AppCompatActivity implements View.OnClickListener\n    {\n    \n        Button btnSend ;\n        TextView tvFromServer;\n        EditText etToSend;\n        String strToSend,strFromServer;\n    \n        @Override\n        protected void onCreate(Bundle savedInstanceState)\n        {\n            super.onCreate(savedInstanceState);\n            setContentView(R.layout.activity_main);\n    \n            btnSend = (Button) findViewById(R.id.btnSend);\n            btnSend.setOnClickListener(this);\n    \n           etToSend = (EditText) findViewById(R.id.etToSend);\n            tvFromServer = (TextView) findViewById(R.id.tvFromServer);\n            tvFromServer = (TextView) findViewById(R.id.tvFromServer);\n    \n        }\n    \n        @Override\n        public void onClick(View v)\n        {\n            if (v == btnSend)\n            {\n                strToSend = etToSend.getText().toString();\n                new Thread(new Runnable() {\n                    @Override\n                    public void run() {\n                        SocketTask send1 = new SocketTask(strToSend);\n                        strFromServer=send1.sendReceive();\n                        runOnUiThread(new Runnable() {\n                            public void run() {\n                                tvFromServer.setText(strFromServer);\n                            }\n                        });\n                    }\n                }).start();\n    \n            }\n        }\n    }\n    '''\n    SocketTask.\n    ```\n    package com.example.newproj;\n    import android.os.AsyncTask;\n    import android.os.Build;\n    import android.util.Log;\n    import androidx.annotation.RequiresApi;\n    import org.json.JSONObject;\n    import java.io.BufferedReader;\n    import java.io.IOException;\n    import java.io.InputStreamReader;\n    import java.io.OutputStreamWriter;\n    import java.net.Socket;\n    import java.nio.charset.StandardCharsets;\n    public class SocketTask\n    {\n    \n        //private final static String IP_ADDRESS = &quot;172.19.16.179&quot;;\n        private final static String IP_ADDRESS = &quot;192.168.1.124&quot;;\n        private final static int PORT = 8821;       // HTTP port\n        private final static int PACKET_SIZE = 1024;    // standard 1kb packet size\n        private Socket socket;\n        private String sendingStr=&quot;&quot;;\n        private String receivingStr=&quot;&quot;;\n        BufferedReader reader;\n        public SocketTask(String str1)\n        {\n            this.sendingStr = str1;\n    \n        }\n        @RequiresApi(api = Build.VERSION_CODES.KITKAT)\n        private void send()\n        {\n            try {\n                OutputStreamWriter writer = new OutputStreamWriter(this.socket.getOutputStream(), StandardCharsets.UTF_8); // outputStreamWriter creating\n                writer.write(this.sendingStr);\n                writer.flush();\n                Log.d(&quot;Result&quot;, &quot;sent&quot;);\n            }\n            catch (Exception e) {\n                Log.e(&quot;Exception&quot;, e.toString());\n            }\n        }\n        @RequiresApi(api = Build.VERSION_CODES.KITKAT)\n        private void receive() {\n            try {\n                reader = new BufferedReader(new InputStreamReader(socket.getInputStream()));\n                char[] charBuffer = new char[1024];\n                StringBuilder stringBuilder = new StringBuilder();\n                reader.read(charBuffer);\n                stringBuilder.append(charBuffer);\n                reader.close();\n                receivingStr = stringBuilder.toString();\n            }\n            catch (IOException e)\n            {\n                Log.e(&quot;Exception&quot;, e.toString());\n            }\n        }\n        public String sendReceive()\n        {\n            try {\n                this.socket = new Socket(IP_ADDRESS, PORT);\n                send();\n                receive();\n                this.socket.close();\n            } catch (Exception e) {\n                Log.e(&quot;Exception&quot;, e.toString());\n            }\n            return this.receivingStr;\n        }\n    }\n    ```\n\n</code></pre>\n"},{"tags":["java","multithreading","concurrency","contention","starvation"],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1643915062,"creation_date":1594985543,"answer_id":62953086,"question_id":62952150,"body_markdown":"&quot;Starvation&quot; refers to a specific form of contention in which one (or a few) certain thread(s) get locked out more often than other threads. It happens when the threads interact in some way such that every time the &quot;starved&quot; thread tries to acquire some lock, it&#39;s always just moments _after_ some other thread already has locked it.\r\n\r\n----------------\r\n\r\nOne common newbie mistake, of which you can find many examples on this site looks like this:\r\n\r\n    while (trivialTest()) {\r\n        synchronized (lock) {\r\n             processThatTakesSomeTime();\r\n        }\r\n    }\r\n\r\nThe problem here is that almost the very next thing that a thread does after releasing the `lock` is, it locks it again. Any other thread that wants to lock the same lock will effectively have &quot;gone to sleep&quot; waiting for the first thread to finish the `processThatTakesSomeTime()` call.\r\n\r\nWhen the first thread unlocks the lock, it&#39;s a race to see which thread can lock it again, but the first thread has a huge advantage because it&#39;s already running, and the others, which may have been &quot;swapped out&quot; by the operating system, always lose the race.\r\n\r\n-----------------\r\n\r\nOne way to fix the &quot;newbie mistake&quot; is to use so-called &quot;optimistic locking:&quot;\r\n\r\n```\r\nwhile (trivialTest()) {\r\n    Snapshot snapshot;\r\n    boolean success=false;\r\n    while (! success) {\r\n        synchronized (lock) {\r\n            snapshot = takeSnapshotOfSharedData();\r\n        }\r\n        Result result = doSomeComputationWith(snapshot);\r\n        synchronized (lock) {\r\n            if (itStillMakesSenseToPublishResult(snapshot, result)) {\r\n            publishToSharedData(result);\r\n            success = true;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIt&#39;s &quot;optimistic&quot; because we hope the the inner loop will find success each time. But sometimes, that won&#39;t be the case, because some other thread will have changed the shared data in a way that is incompatible with our `result`. We have to throw the work away and try again in that case.\r\n\r\nIt may seem counterintuitive, but the performance gained by only keeping the lock locked just long enough to take a snapshot or to verify and publish the result can be much greater than the performance lost by occasionally having to throw work away and try again.\r\n```\r\n","title":"Thread Starvation vs Contention?","body":"<p>&quot;Starvation&quot; refers to a specific form of contention in which one (or a few) certain thread(s) get locked out more often than other threads. It happens when the threads interact in some way such that every time the &quot;starved&quot; thread tries to acquire some lock, it's always just moments <em>after</em> some other thread already has locked it.</p>\n<hr />\n<p>One common newbie mistake, of which you can find many examples on this site looks like this:</p>\n<pre><code>while (trivialTest()) {\n    synchronized (lock) {\n         processThatTakesSomeTime();\n    }\n}\n</code></pre>\n<p>The problem here is that almost the very next thing that a thread does after releasing the <code>lock</code> is, it locks it again. Any other thread that wants to lock the same lock will effectively have &quot;gone to sleep&quot; waiting for the first thread to finish the <code>processThatTakesSomeTime()</code> call.</p>\n<p>When the first thread unlocks the lock, it's a race to see which thread can lock it again, but the first thread has a huge advantage because it's already running, and the others, which may have been &quot;swapped out&quot; by the operating system, always lose the race.</p>\n<hr />\n<p>One way to fix the &quot;newbie mistake&quot; is to use so-called &quot;optimistic locking:&quot;</p>\n<pre><code>while (trivialTest()) {\n    Snapshot snapshot;\n    boolean success=false;\n    while (! success) {\n        synchronized (lock) {\n            snapshot = takeSnapshotOfSharedData();\n        }\n        Result result = doSomeComputationWith(snapshot);\n        synchronized (lock) {\n            if (itStillMakesSenseToPublishResult(snapshot, result)) {\n            publishToSharedData(result);\n            success = true;\n            }\n        }\n    }\n}\n</code></pre>\n<p>It's &quot;optimistic&quot; because we hope the the inner loop will find success each time. But sometimes, that won't be the case, because some other thread will have changed the shared data in a way that is incompatible with our <code>result</code>. We have to throw the work away and try again in that case.</p>\n<p>It may seem counterintuitive, but the performance gained by only keeping the lock locked just long enough to take a snapshot or to verify and publish the result can be much greater than the performance lost by occasionally having to throw work away and try again.</p>\n<pre><code></code></pre>\n"}],"owner":{"account_id":7841741,"reputation":1744,"user_id":5932611,"display_name":"Tharindu Sathischandra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1470,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643915062,"creation_date":1594981858,"question_id":62952150,"body_markdown":"According to [Oracle docs][1] about &quot;thread starvation&quot;,\r\n\r\n&gt; Starvation describes a situation where a thread is unable to gain\r\n&gt; regular access to shared resources and is unable to make progress.\r\n&gt; This happens when shared resources are made unavailable for long\r\n&gt; periods by &quot;greedy&quot; threads.\r\n\r\nAnd on [Oracle docs][2] about thread &quot;thread contention&quot;,\r\n\r\n&gt; If a thread tries to take a lock that is already held by another\r\n&gt; thread, then it must wait until the lock is released. When this\r\n&gt; happens, there is so called “contention” for the lock.\r\n\r\nActually, the above definitions make some sense, I could not get a clear definition to contrast them. Can anyone please explain the differences between the above terms and the relationship between them, if any? \r\n\r\nNote: By referring some answers of  https://stackoverflow.com/questions/1970345/what-is-thread-contention, I felt that aren&#39;t those answers applicable to &quot;thread starvation&quot; too?\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/concurrency/starvelive.html\r\n  [2]: https://docs.oracle.com/cd/E13150_01/jrockit_jvm/jrockit/geninfo/diagnos/thread_basics.html","title":"Thread Starvation vs Contention?","body":"<p>According to <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/starvelive.html\" rel=\"nofollow noreferrer\">Oracle docs</a> about &quot;thread starvation&quot;,</p>\n<blockquote>\n<p>Starvation describes a situation where a thread is unable to gain\nregular access to shared resources and is unable to make progress.\nThis happens when shared resources are made unavailable for long\nperiods by &quot;greedy&quot; threads.</p>\n</blockquote>\n<p>And on <a href=\"https://docs.oracle.com/cd/E13150_01/jrockit_jvm/jrockit/geninfo/diagnos/thread_basics.html\" rel=\"nofollow noreferrer\">Oracle docs</a> about thread &quot;thread contention&quot;,</p>\n<blockquote>\n<p>If a thread tries to take a lock that is already held by another\nthread, then it must wait until the lock is released. When this\nhappens, there is so called “contention” for the lock.</p>\n</blockquote>\n<p>Actually, the above definitions make some sense, I could not get a clear definition to contrast them. Can anyone please explain the differences between the above terms and the relationship between them, if any?</p>\n<p>Note: By referring some answers of  <a href=\"https://stackoverflow.com/questions/1970345/what-is-thread-contention\">What is thread contention?</a>, I felt that aren't those answers applicable to &quot;thread starvation&quot; too?</p>\n"},{"tags":["java","java-8","assertion","junit-jupiter","parameterized-tests"],"answers":[{"tags":[],"owner":{"account_id":22978237,"reputation":486,"user_id":17105581,"display_name":"ferrouskid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643914813,"creation_date":1643910597,"answer_id":70975972,"question_id":70975013,"body_markdown":"That isn&#39;t going to be possible in Java I&#39;m afraid. Java is a strongly, statically typed language, which means that objects can&#39;t change their type and type checking occurs during compilation. \r\n\r\nJava implements generics with erasure, which means that the compiler will replace your bound type parameter `E` with bounding class `Entity`, (described [here](https://docs.oracle.com/javase/tutorial/java/generics/genTypes.html)).\r\n\r\nWhat are you trying to achieve? If you want to avoid duplication, you could group shared logic into a single method and call it `@BeforeEach` for example. \r\n\r\nEDIT: Gotcha, I think I know what you mean, cheers for the response. Have you tried specifying that in the children test classes?\r\n\r\nI tried messing around with the same concept but with `Number`, `Integer`, and `Double`. Here&#39;s what I got:\r\n`AbstractTest.java`\r\n\r\n    public abstract class AbstractTest&lt;E extends Number&gt; {\r\n    \r\n        void testIntRequestsThatReturnSingle(Number i){\r\n            System.out.println(i);\r\n            //doing the same stuff here but with the different data sources\r\n        }\r\n\r\n        public static IntStream intProvider() {\r\n            return IntStream.range(0, 10);\r\n        }\r\n\r\n        public static DoubleStream doubleProvider() {\r\n            return DoubleStream.of(0.0,1.1,2.2);\r\n        }\r\n    }\r\n\r\nOne child `IntTest.java` class: \r\n\r\n    public class IntTest extends AbstractTest&lt;Integer&gt;{\r\n        @ParameterizedTest\r\n        @MethodSource( &quot;intProvider&quot; )\r\n        public void intTest(Number i){\r\n            this.testIntRequestsThatReturnSingle(i);\r\n        }\r\n    }\r\n\r\nAnother child `DoubleTest.java` class:\r\n\r\n    public class DoubleTest extends AbstractTest&lt;Integer&gt;{\r\n        @ParameterizedTest\r\n        @MethodSource( &quot;doubleProvider&quot; )\r\n        public void doubleTest(Number i){\r\n            this.testIntRequestsThatReturnSingle(i);\r\n        }\r\n    }\r\n\r\nThis way you can minimise duplication and ensure that the right methods are called for the right classes (without any scary casting). Is this something along the lines of what you were looking for? ","title":"Dynamically changing @MethodSource in abstract class from a @ParameterizedTest (Jupiter-Junit 5)","body":"<p>That isn't going to be possible in Java I'm afraid. Java is a strongly, statically typed language, which means that objects can't change their type and type checking occurs during compilation.</p>\n<p>Java implements generics with erasure, which means that the compiler will replace your bound type parameter <code>E</code> with bounding class <code>Entity</code>, (described <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/genTypes.html\" rel=\"nofollow noreferrer\">here</a>).</p>\n<p>What are you trying to achieve? If you want to avoid duplication, you could group shared logic into a single method and call it <code>@BeforeEach</code> for example.</p>\n<p>EDIT: Gotcha, I think I know what you mean, cheers for the response. Have you tried specifying that in the children test classes?</p>\n<p>I tried messing around with the same concept but with <code>Number</code>, <code>Integer</code>, and <code>Double</code>. Here's what I got:\n<code>AbstractTest.java</code></p>\n<pre><code>public abstract class AbstractTest&lt;E extends Number&gt; {\n\n    void testIntRequestsThatReturnSingle(Number i){\n        System.out.println(i);\n        //doing the same stuff here but with the different data sources\n    }\n\n    public static IntStream intProvider() {\n        return IntStream.range(0, 10);\n    }\n\n    public static DoubleStream doubleProvider() {\n        return DoubleStream.of(0.0,1.1,2.2);\n    }\n}\n</code></pre>\n<p>One child <code>IntTest.java</code> class:</p>\n<pre><code>public class IntTest extends AbstractTest&lt;Integer&gt;{\n    @ParameterizedTest\n    @MethodSource( &quot;intProvider&quot; )\n    public void intTest(Number i){\n        this.testIntRequestsThatReturnSingle(i);\n    }\n}\n</code></pre>\n<p>Another child <code>DoubleTest.java</code> class:</p>\n<pre><code>public class DoubleTest extends AbstractTest&lt;Integer&gt;{\n    @ParameterizedTest\n    @MethodSource( &quot;doubleProvider&quot; )\n    public void doubleTest(Number i){\n        this.testIntRequestsThatReturnSingle(i);\n    }\n}\n</code></pre>\n<p>This way you can minimise duplication and ensure that the right methods are called for the right classes (without any scary casting). Is this something along the lines of what you were looking for?</p>\n"}],"owner":{"account_id":22925248,"reputation":21,"user_id":17060431,"display_name":"E-M-C"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":999,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70975972,"answer_count":1,"score":0,"last_activity_date":1643914813,"creation_date":1643906178,"question_id":70975013,"body_markdown":"I am currently writing unit tests related to GET requests, here below is a parameterized test that take a generic type E.\r\n\r\n```\r\nabstract class AbstractEntityTest&lt; E extends Entity &gt; {\r\n\r\n@ParameterizedTest( name = &quot;[{index}]: {2}&quot; )\r\n@MethodSource( &quot;RoleDataProvider#provideIntArgsToTest&quot; )\r\nvoid testIntRequestsThatReturnSingle( String fileName, Integer requestParam, String testName, int index )\r\n\t\t // do something\r\n\t}\r\n}\r\n```\r\n\r\nWhat I want to do is to dynamically change the method source in function of the actual type of E at runtime.\r\n\r\nExample:\r\n\r\n```\r\npublic class AnimalTest extends AbstractEntityTest&lt; Animal &gt; {\r\n... }\r\n```\r\n\r\nHere E is type Animal so I would like to change the @MethodSource to \r\n```\r\n@MethodSource( &quot;AnimalDataProvider#provideIntArgsToTest&quot; )\r\n```\r\n\r\nIs there any way to do it ? I&#39;ve been searching for hours to no avail...\r\n\r\n","title":"Dynamically changing @MethodSource in abstract class from a @ParameterizedTest (Jupiter-Junit 5)","body":"<p>I am currently writing unit tests related to GET requests, here below is a parameterized test that take a generic type E.</p>\n<pre><code>abstract class AbstractEntityTest&lt; E extends Entity &gt; {\n\n@ParameterizedTest( name = &quot;[{index}]: {2}&quot; )\n@MethodSource( &quot;RoleDataProvider#provideIntArgsToTest&quot; )\nvoid testIntRequestsThatReturnSingle( String fileName, Integer requestParam, String testName, int index )\n         // do something\n    }\n}\n</code></pre>\n<p>What I want to do is to dynamically change the method source in function of the actual type of E at runtime.</p>\n<p>Example:</p>\n<pre><code>public class AnimalTest extends AbstractEntityTest&lt; Animal &gt; {\n... }\n</code></pre>\n<p>Here E is type Animal so I would like to change the @MethodSource to</p>\n<pre><code>@MethodSource( &quot;AnimalDataProvider#provideIntArgsToTest&quot; )\n</code></pre>\n<p>Is there any way to do it ? I've been searching for hours to no avail...</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":2544073,"reputation":359,"user_id":2209264,"accept_rate":85,"display_name":"Antonio E."},"score":0,"creation_date":1643490730,"post_id":70908591,"comment_id":125355647,"body_markdown":"I&#39;m open to discussion about if this is the aproach on where to set the filter activation. I&#39;ve read about AspectJ for an AOP implementation of this intent.","body":"I&#39;m open to discussion about if this is the aproach on where to set the filter activation. I&#39;ve read about AspectJ for an AOP implementation of this intent."},{"owner":{"account_id":2544073,"reputation":359,"user_id":2209264,"accept_rate":85,"display_name":"Antonio E."},"score":1,"creation_date":1643547192,"post_id":70908591,"comment_id":125364201,"body_markdown":"Researching on the matter: https://dzone.com/articles/how-does-spring-transactional I see that every time @Transactional is put in use a new entityManager may be created so maybe I&#39;m trying to modify an entityManager or a session that won&#39;t be in use.","body":"Researching on the matter: <a href=\"https://dzone.com/articles/how-does-spring-transactional\" rel=\"nofollow noreferrer\">dzone.com/articles/how-does-spring-transactional</a> I see that every time @Transactional is put in use a new entityManager may be created so maybe I&#39;m trying to modify an entityManager or a session that won&#39;t be in use."},{"owner":{"account_id":2544073,"reputation":359,"user_id":2209264,"accept_rate":85,"display_name":"Antonio E."},"score":0,"creation_date":1643556325,"post_id":70908591,"comment_id":125366399,"body_markdown":"Insight on @Transactional behaviour and insides: https://www.marcobehler.com/guides/spring-transaction-management-transactional-in-depth","body":"Insight on @Transactional behaviour and insides: <a href=\"https://www.marcobehler.com/guides/spring-transaction-management-transactional-in-depth\" rel=\"nofollow noreferrer\">marcobehler.com/guides/&hellip;</a>"},{"owner":{"account_id":34878,"reputation":5531,"user_id":98632,"display_name":"mtpettyp"},"score":0,"creation_date":1683643576,"post_id":70908591,"comment_id":134396157,"body_markdown":"See https://stackoverflow.com/a/76210504/98632 for a possible solution","body":"See <a href=\"https://stackoverflow.com/a/76210504/98632\">stackoverflow.com/a/76210504/98632</a> for a possible solution"}],"answers":[{"tags":[],"owner":{"account_id":2544073,"reputation":359,"user_id":2209264,"accept_rate":85,"display_name":"Antonio E."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643914649,"creation_date":1643914649,"answer_id":70976816,"question_id":70908591,"body_markdown":"Hey friend you can&#39;t do this in the way you&#39;re trying without mixing concerns. The InterceptorRegistry usage that you try is an odd place to try this (you are not likely to start a transaction before going inside the execution of a controller&#39;s methods).\r\n\r\nThe use that `Springboot` makes of `Hibernate` and `Jpa`&#39;s interface makes the actual session on your data access only trully available on the context of an `@Transactional` annotation.\r\n\r\nYou should do an **AOP approach** to your intent so you catch the transaction/session.\r\n\r\n**Some links on the matter:**\r\n\r\n- [An example on github](https://github.com/bhuwanupadhyay/hibernate-session-filters-with-spring-data-and-aop/blob/main/src/main/java/io/github/bhuwanupadhyay/eg1/aop/RepositoryCreatedByAdvisor.java)\r\n- [A blog talking on enabling hibernate filters](http://cyriltech.blogspot.com/2017/03/how-to-enable-hibernate-filter-using.html)\r\n- [From spring documentation](https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-access.use-custom-entity-manager)","title":"How can I activate Hibernate @Filter in Spring boot?","body":"<p>Hey friend you can't do this in the way you're trying without mixing concerns. The InterceptorRegistry usage that you try is an odd place to try this (you are not likely to start a transaction before going inside the execution of a controller's methods).</p>\n<p>The use that <code>Springboot</code> makes of <code>Hibernate</code> and <code>Jpa</code>'s interface makes the actual session on your data access only trully available on the context of an <code>@Transactional</code> annotation.</p>\n<p>You should do an <strong>AOP approach</strong> to your intent so you catch the transaction/session.</p>\n<p><strong>Some links on the matter:</strong></p>\n<ul>\n<li><a href=\"https://github.com/bhuwanupadhyay/hibernate-session-filters-with-spring-data-and-aop/blob/main/src/main/java/io/github/bhuwanupadhyay/eg1/aop/RepositoryCreatedByAdvisor.java\" rel=\"nofollow noreferrer\">An example on github</a></li>\n<li><a href=\"http://cyriltech.blogspot.com/2017/03/how-to-enable-hibernate-filter-using.html\" rel=\"nofollow noreferrer\">A blog talking on enabling hibernate filters</a></li>\n<li><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-access.use-custom-entity-manager\" rel=\"nofollow noreferrer\">From spring documentation</a></li>\n</ul>\n"}],"owner":{"account_id":2544073,"reputation":359,"user_id":2209264,"accept_rate":85,"display_name":"Antonio E."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2350,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70976816,"answer_count":1,"score":0,"last_activity_date":1643914649,"creation_date":1643481549,"question_id":70908591,"body_markdown":"The final goal that I want to achieve is to use some information from the *request headers* to use on a *Hibernate filter*.\r\n\r\nThe webapp is a fairly neat **Spring boot webapp** using **Jpa Repositories.**\r\n\r\nI&#39;ve configured a filter definition in the model entity and I want to have it activated on the webapp. I use a request handler:\r\n\r\nThe Entity:\r\n~~~java\r\n@Entity\r\n@Getter\r\n@Setter\r\n@Table(name = &quot;personas&quot;)\r\n@FilterDef(name = &quot;filtro_personas&quot;, parameters = @ParamDef(name = &quot;idparam&quot;, type = &quot;int&quot;))\r\npublic class Persona implements Serializable {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n    @Filter(name  = &quot;filtro_personas&quot;, condition = &quot;:idparam = id&quot;)\r\n    private Integer id;\r\n    private String nombre;\r\n    @OneToMany(mappedBy =&quot;persona&quot;)\r\n    private List&lt;Wallet&gt; cuentas;\r\n\r\n}\r\n~~~\r\n\r\nThe request handler:\r\n\r\n~~~java\r\npublic class LangHeaderInterceptor implements HandlerInterceptor {\r\n\r\n    private EntityManager entityManager;\r\n\r\n    public LangHeaderInterceptor( EntityManager entityManager) {\r\n        this.entityManager = entityManager;\r\n    }\r\n\r\n    @Override\r\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler){\r\n        \r\n        if (entityManager != null ) {\r\n            // Sample of use of the filter.at this point the HttpServletRequest and entity manager are filled. \r\n            Session s = entityManager.unwrap(Session.class);\r\n            s.enableFilter(&quot;filtro_personas&quot;).setParameter(&quot;idparam&quot;, 1).;\r\n        }\r\n        return true;\r\n    }\r\n}\r\n~~~\r\n\r\nThe request handler configuration:\r\n\r\n~~~java\r\n@Configuration\r\npublic class WebConfigurer implements WebMvcConfigurer {\r\n\r\n    @Autowired\r\n    private EntityManager entityManager;\r\n\r\n    @Override\r\n    public void addInterceptors(InterceptorRegistry registry) {\r\n        WebMvcConfigurer.super.addInterceptors(registry);\r\n        //System.out.println(&quot;TRACING MESSAGE: CUSTOM INTERCEPTOR ADDED&quot;);\r\n        registry.addInterceptor(new LangHeaderInterceptor(entityManager));\r\n    }\r\n}\r\n~~~","title":"How can I activate Hibernate @Filter in Spring boot?","body":"<p>The final goal that I want to achieve is to use some information from the <em>request headers</em> to use on a <em>Hibernate filter</em>.</p>\n<p>The webapp is a fairly neat <strong>Spring boot webapp</strong> using <strong>Jpa Repositories.</strong></p>\n<p>I've configured a filter definition in the model entity and I want to have it activated on the webapp. I use a request handler:</p>\n<p>The Entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Getter\n@Setter\n@Table(name = &quot;personas&quot;)\n@FilterDef(name = &quot;filtro_personas&quot;, parameters = @ParamDef(name = &quot;idparam&quot;, type = &quot;int&quot;))\npublic class Persona implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    @Filter(name  = &quot;filtro_personas&quot;, condition = &quot;:idparam = id&quot;)\n    private Integer id;\n    private String nombre;\n    @OneToMany(mappedBy =&quot;persona&quot;)\n    private List&lt;Wallet&gt; cuentas;\n\n}\n</code></pre>\n<p>The request handler:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class LangHeaderInterceptor implements HandlerInterceptor {\n\n    private EntityManager entityManager;\n\n    public LangHeaderInterceptor( EntityManager entityManager) {\n        this.entityManager = entityManager;\n    }\n\n    @Override\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler){\n        \n        if (entityManager != null ) {\n            // Sample of use of the filter.at this point the HttpServletRequest and entity manager are filled. \n            Session s = entityManager.unwrap(Session.class);\n            s.enableFilter(&quot;filtro_personas&quot;).setParameter(&quot;idparam&quot;, 1).;\n        }\n        return true;\n    }\n}\n</code></pre>\n<p>The request handler configuration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class WebConfigurer implements WebMvcConfigurer {\n\n    @Autowired\n    private EntityManager entityManager;\n\n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n        WebMvcConfigurer.super.addInterceptors(registry);\n        //System.out.println(&quot;TRACING MESSAGE: CUSTOM INTERCEPTOR ADDED&quot;);\n        registry.addInterceptor(new LangHeaderInterceptor(entityManager));\n    }\n}\n</code></pre>\n"},{"tags":["java","file"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1643878251,"post_id":70968085,"comment_id":125457561,"body_markdown":"Exactly as the error says, just delete the contents of the folder first? Or change your flag so it&#39;s not replacing the entire folder.","body":"Exactly as the error says, just delete the contents of the folder first? Or change your flag so it&#39;s not replacing the entire folder."},{"owner":{"account_id":19180501,"reputation":89,"user_id":14012342,"display_name":"Anonymous "},"score":0,"creation_date":1643878742,"post_id":70968085,"comment_id":125457754,"body_markdown":"@sorifiend  Is it possible to replace the folder without deleting the content inside it?","body":"@sorifiend  Is it possible to replace the folder without deleting the content inside it?"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1643879792,"post_id":70968085,"comment_id":125458119,"body_markdown":"If the folder already exists, and you want to preserve the content, then you should not be replacing the folder, you should be copying files into the folder.","body":"If the folder already exists, and you want to preserve the content, then you should not be replacing the folder, you should be copying files into the folder."}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643914045,"creation_date":1643913646,"answer_id":70976628,"question_id":70968085,"body_markdown":"If path1 is a directory and path2 exists already you cannot use `Files.move(path1, path2)` nor `Files.move(path1, path2, StandardCopyOption.REPLACE_EXISTING)` as these give rise to either `FileAlreadyExistsException` or `DirectoryNotEmptyException`.\r\n\r\nA reliable move operation for occasions where the destination directory exists already needs to traverse the source directory tree and move each file to the same location under the destination, cleaning up folders as they are emptied.\r\n\r\nThe `Files.walkFileTree` method handles traversals, add a suitable `FileVisitor` action to move / merge the path1=&gt;path2 files:\r\n\r\n    public static void move(final Path source, final Path dest) throws IOException {\r\n        FileVisitor&lt;Path&gt; visitor = new FileVisitor&lt;&gt;() {\r\n            public FileVisitResult preVisitDirectory(Path dir, BasicFileAttributes attrs) throws IOException {\r\n                final Path target = dest.resolve(source.relativize(dir));\r\n                System.out.println(&quot;Files.createDirectories(&quot;+target+&quot;)&quot;);\r\n                Files.createDirectories(target);\r\n                return FileVisitResult.CONTINUE;\r\n            }\r\n            public FileVisitResult visitFile(Path p, BasicFileAttributes attrs) throws IOException {\r\n                final Path targ = dest.resolve(source.relativize(p));\r\n                System.out.println(&quot;Files.move(&quot;+p+&quot;, &quot;+targ+&quot;, StandardCopyOption.REPLACE_EXISTING)&quot;);\r\n                Files.move(p, targ, StandardCopyOption.REPLACE_EXISTING);\r\n                return FileVisitResult.CONTINUE;\r\n            }\r\n            public FileVisitResult postVisitDirectory(Path dir, IOException exc) throws IOException {\r\n                // Dir should be empty by now or there is coding error:\r\n                System.out.println(&quot;Files.deleteIfExists(&quot;+dir+&quot;)&quot;);\r\n                if (!Files.deleteIfExists(dir))\r\n                    throw new IOException(&quot;Failed to delete src dir: &quot;+dir);\r\n                return FileVisitResult.CONTINUE;\r\n            }\r\n            public FileVisitResult visitFileFailed(Path file, IOException exc) throws IOException {\r\n                throw  exc;\r\n            }\r\n        };\r\n        Files.walkFileTree(source, visitor);\r\n    }\r\n\r\nNote that the above works for files or folders - `Files.walkFileTree` handles calling the appropriate callbacks.\r\n\r\nThe logic of the above move could be made significantly quicker if you use `File.move(subdir,targsubdir)` if detecting that a subdir is not found in the target - replacing `createDirectories` / `deleteIfExists`. That would avoid need to move every file underneath that tree. However I will leave that as an exercise for the reader.","title":"Not able to replace existing directory","body":"<p>If path1 is a directory and path2 exists already you cannot use <code>Files.move(path1, path2)</code> nor <code>Files.move(path1, path2, StandardCopyOption.REPLACE_EXISTING)</code> as these give rise to either <code>FileAlreadyExistsException</code> or <code>DirectoryNotEmptyException</code>.</p>\n<p>A reliable move operation for occasions where the destination directory exists already needs to traverse the source directory tree and move each file to the same location under the destination, cleaning up folders as they are emptied.</p>\n<p>The <code>Files.walkFileTree</code> method handles traversals, add a suitable <code>FileVisitor</code> action to move / merge the path1=&gt;path2 files:</p>\n<pre><code>public static void move(final Path source, final Path dest) throws IOException {\n    FileVisitor&lt;Path&gt; visitor = new FileVisitor&lt;&gt;() {\n        public FileVisitResult preVisitDirectory(Path dir, BasicFileAttributes attrs) throws IOException {\n            final Path target = dest.resolve(source.relativize(dir));\n            System.out.println(&quot;Files.createDirectories(&quot;+target+&quot;)&quot;);\n            Files.createDirectories(target);\n            return FileVisitResult.CONTINUE;\n        }\n        public FileVisitResult visitFile(Path p, BasicFileAttributes attrs) throws IOException {\n            final Path targ = dest.resolve(source.relativize(p));\n            System.out.println(&quot;Files.move(&quot;+p+&quot;, &quot;+targ+&quot;, StandardCopyOption.REPLACE_EXISTING)&quot;);\n            Files.move(p, targ, StandardCopyOption.REPLACE_EXISTING);\n            return FileVisitResult.CONTINUE;\n        }\n        public FileVisitResult postVisitDirectory(Path dir, IOException exc) throws IOException {\n            // Dir should be empty by now or there is coding error:\n            System.out.println(&quot;Files.deleteIfExists(&quot;+dir+&quot;)&quot;);\n            if (!Files.deleteIfExists(dir))\n                throw new IOException(&quot;Failed to delete src dir: &quot;+dir);\n            return FileVisitResult.CONTINUE;\n        }\n        public FileVisitResult visitFileFailed(Path file, IOException exc) throws IOException {\n            throw  exc;\n        }\n    };\n    Files.walkFileTree(source, visitor);\n}\n</code></pre>\n<p>Note that the above works for files or folders - <code>Files.walkFileTree</code> handles calling the appropriate callbacks.</p>\n<p>The logic of the above move could be made significantly quicker if you use <code>File.move(subdir,targsubdir)</code> if detecting that a subdir is not found in the target - replacing <code>createDirectories</code> / <code>deleteIfExists</code>. That would avoid need to move every file underneath that tree. However I will leave that as an exercise for the reader.</p>\n"}],"owner":{"account_id":19180501,"reputation":89,"user_id":14012342,"display_name":"Anonymous "},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":360,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643914045,"creation_date":1643877431,"question_id":70968085,"body_markdown":"I am trying to move folder 114229494 from one path to another and I want to replace the existing folder at the destination path (D:\\\\SampleP2) but I am getting DirectoryNotEmptyException with the code mentioned below.\r\n\r\nSince I don&#39;t want to change the name of the folder I mentioned D:\\\\SampleP2\\\\114229494 this as destination path\r\nThere are some images inside the folder.\r\n\r\nPlease help me to figure out what is wrong with this code.\r\n\r\n```\r\n     public class MoveFiles {\r\n           private String source_path= &quot;D:\\\\sampleP1\\\\114229494&quot;;\r\n           private String destination_path= &quot;D:\\\\SampleP2\\\\114229494&quot;;\r\n             public void movefolder() {\r\n\r\n              File source = new File(source_path);\r\n              File destination = new File(destination_path);\r\n\r\n              Path path1 = FileSystems.getDefault().getPath(source_path);\r\n              Path path2 = FileSystems.getDefault().getPath(destination_path);\r\n\r\n\r\n              System.out.println(source);\r\n              System.out.println(destination);\r\n              try {\r\n                    Files.move(path1, path2, StandardCopyOption.REPLACE_EXISTING);\r\n              } catch (IOException e) {\r\n              e.printStackTrace();\r\n                    System.out.println(&quot;there is file in uploads&quot;);\r\n              }\r\n          }\r\n      }\r\n    ","title":"Not able to replace existing directory","body":"<p>I am trying to move folder 114229494 from one path to another and I want to replace the existing folder at the destination path (D:\\SampleP2) but I am getting DirectoryNotEmptyException with the code mentioned below.</p>\n<p>Since I don't want to change the name of the folder I mentioned D:\\SampleP2\\114229494 this as destination path\nThere are some images inside the folder.</p>\n<p>Please help me to figure out what is wrong with this code.</p>\n<pre><code>     public class MoveFiles {\n           private String source_path= &quot;D:\\\\sampleP1\\\\114229494&quot;;\n           private String destination_path= &quot;D:\\\\SampleP2\\\\114229494&quot;;\n             public void movefolder() {\n\n              File source = new File(source_path);\n              File destination = new File(destination_path);\n\n              Path path1 = FileSystems.getDefault().getPath(source_path);\n              Path path2 = FileSystems.getDefault().getPath(destination_path);\n\n\n              System.out.println(source);\n              System.out.println(destination);\n              try {\n                    Files.move(path1, path2, StandardCopyOption.REPLACE_EXISTING);\n              } catch (IOException e) {\n              e.printStackTrace();\n                    System.out.println(&quot;there is file in uploads&quot;);\n              }\n          }\n      }\n    \n</code></pre>\n"},{"tags":["java","design-patterns","builder"],"comments":[{"owner":{"account_id":7848783,"reputation":652,"user_id":5932894,"display_name":"Aditya W"},"score":1,"creation_date":1467647062,"post_id":2169190,"comment_id":63802308,"body_markdown":"You can find example in this SE question: http://stackoverflow.com/questions/1673841/examples-of-gof-design-patterns-in-javas-core-libraries?rq=1","body":"You can find example in this SE question: <a href=\"http://stackoverflow.com/questions/1673841/examples-of-gof-design-patterns-in-javas-core-libraries?rq=1\" title=\"examples of gof design patterns in javas core libraries\">stackoverflow.com/questions/1673841/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":69707,"reputation":41791,"user_id":202694,"accept_rate":88,"display_name":"Pace"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1264880943,"creation_date":1264880943,"answer_id":2169200,"question_id":2169190,"body_markdown":"It&#39;s only defined (not implemented) in the standard library, however, the JDBC DataSource objects remind me of the builder pattern.  You create a DataSource object and then you set a number of properties and then you make a connection.\r\n\r\nHere&#39;s a code example...\r\n\r\n    DataSource ds = (DataSource)ctx.lookup(&quot;jdbc/AcmeDB&quot;);\r\n    ds.setServerName(&quot;my_database_server&quot;);\r\n    ds.setDescription(&quot;the data source for inventory and personnel&quot;);\r\n    Connection con = ds.getConnection(&quot;genius&quot;, &quot;abracadabra&quot;);\r\n\r\n","title":"Example of Builder Pattern in Java API?","body":"<p>It's only defined (not implemented) in the standard library, however, the JDBC DataSource objects remind me of the builder pattern.  You create a DataSource object and then you set a number of properties and then you make a connection.</p>\n\n<p>Here's a code example...</p>\n\n<pre><code>DataSource ds = (DataSource)ctx.lookup(\"jdbc/AcmeDB\");\nds.setServerName(\"my_database_server\");\nds.setDescription(\"the data source for inventory and personnel\");\nConnection con = ds.getConnection(\"genius\", \"abracadabra\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1264881079,"creation_date":1264881079,"answer_id":2169212,"question_id":2169190,"body_markdown":"I&#39;m not sure about within the core JDK, but good examples can be found in [Guava][1]. [`MapMaker`][2] is probably the best example I can think of off the top of my head. For example, from the docs:\r\n\r\n    ConcurrentMap&lt;Key, Graph&gt; graphs = new MapMaker()\r\n        .concurrencyLevel(32)\r\n        .softKeys()\r\n        .weakValues()\r\n        .expiration(30, TimeUnit.MINUTES)\r\n        .makeComputingMap(\r\n            new Function&lt;Key, Graph&gt;() {\r\n              public Graph apply(Key key) {\r\n                return createExpensiveGraph(key);\r\n              }\r\n            });\r\n\r\nYes, this sort of thing can go against the grain of &quot;standard&quot; Java naming, but it can also be very readable.\r\n\r\nFor situations where you&#39;re not returning &quot;this&quot; but a new object (typically with immutable types) I like a &quot;with&quot; prefix - Joda Time uses that pattern extensively. That&#39;s not the builder pattern, but an alternative and related construction form.\r\n\r\n  [1]: http://code.google.com/p/guava-libraries/\r\n  [2]: http://code.google.com/p/guava-libraries/source/browse/trunk/src/com/google/common/collect/MapMaker.java","title":"Example of Builder Pattern in Java API?","body":"<p>I'm not sure about within the core JDK, but good examples can be found in <a href=\"http://code.google.com/p/guava-libraries/\" rel=\"noreferrer\">Guava</a>. <a href=\"http://code.google.com/p/guava-libraries/source/browse/trunk/src/com/google/common/collect/MapMaker.java\" rel=\"noreferrer\"><code>MapMaker</code></a> is probably the best example I can think of off the top of my head. For example, from the docs:</p>\n\n<pre><code>ConcurrentMap&lt;Key, Graph&gt; graphs = new MapMaker()\n    .concurrencyLevel(32)\n    .softKeys()\n    .weakValues()\n    .expiration(30, TimeUnit.MINUTES)\n    .makeComputingMap(\n        new Function&lt;Key, Graph&gt;() {\n          public Graph apply(Key key) {\n            return createExpensiveGraph(key);\n          }\n        });\n</code></pre>\n\n<p>Yes, this sort of thing can go against the grain of \"standard\" Java naming, but it can also be very readable.</p>\n\n<p>For situations where you're not returning \"this\" but a new object (typically with immutable types) I like a \"with\" prefix - Joda Time uses that pattern extensively. That's not the builder pattern, but an alternative and related construction form.</p>\n"},{"tags":[],"owner":{"account_id":40124,"reputation":273,"user_id":116144,"display_name":"Sarah Happy"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1265314714,"creation_date":1265314714,"answer_id":2202871,"question_id":2169190,"body_markdown":"ProcessBuilder is very much an instance of the builder pattern, but not quite using the java naming conventions.\r\n\r\n&lt;pre&gt;\r\n ProcessBuilder pb = new ProcessBuilder(&quot;myCommand&quot;, &quot;myArg1&quot;, &quot;myArg2&quot;);\r\n Map&lt;String, String&gt; env = pb.environment();\r\n env.put(&quot;VAR1&quot;, &quot;myValue&quot;);\r\n env.remove(&quot;OTHERVAR&quot;);\r\n env.put(&quot;VAR2&quot;, env.get(&quot;VAR1&quot;) + &quot;suffix&quot;);\r\n pb.directory(new File(&quot;myDir&quot;));\r\n Process p = pb.start();\r\n&lt;/pre&gt;\r\n\r\nIn the SQL package, PreparedStatement could be considered an instance of the builder pattern:\r\n\r\n&lt;pre&gt;\r\n PreparedStatement stmt = conn.prepareStatement(getSql());\r\n stmt.setString(1, ...);\r\n stmt.setString(2, ...);\r\n ResultSet rs = stmt.executeQuery();\r\n ...\r\n stmt.setString(2, ...);\r\n rs = stmt.executeQuery();\r\n ...\r\n&lt;/pre&gt;\r\n","title":"Example of Builder Pattern in Java API?","body":"<p>ProcessBuilder is very much an instance of the builder pattern, but not quite using the java naming conventions.</p>\n\n<pre>\n ProcessBuilder pb = new ProcessBuilder(\"myCommand\", \"myArg1\", \"myArg2\");\n Map env = pb.environment();\n env.put(\"VAR1\", \"myValue\");\n env.remove(\"OTHERVAR\");\n env.put(\"VAR2\", env.get(\"VAR1\") + \"suffix\");\n pb.directory(new File(\"myDir\"));\n Process p = pb.start();\n</pre>\n\n<p>In the SQL package, PreparedStatement could be considered an instance of the builder pattern:</p>\n\n<pre>\n PreparedStatement stmt = conn.prepareStatement(getSql());\n stmt.setString(1, ...);\n stmt.setString(2, ...);\n ResultSet rs = stmt.executeQuery();\n ...\n stmt.setString(2, ...);\n rs = stmt.executeQuery();\n ...\n</pre>\n"},{"tags":[],"owner":{"account_id":729460,"reputation":59,"user_id":673448,"display_name":"John Brown"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1300897416,"creation_date":1300897416,"answer_id":5408447,"question_id":2169190,"body_markdown":"The only builder most accurate to the Effective java book is StringBuilder.\r\nThe only difference I see from the example is that this builder is not an inner class of String.\r\n\r\nAll the methods return the builder object to chain. and the toString() method is the build() method.","title":"Example of Builder Pattern in Java API?","body":"<p>The only builder most accurate to the Effective java book is StringBuilder.\nThe only difference I see from the example is that this builder is not an inner class of String.</p>\n\n<p>All the methods return the builder object to chain. and the toString() method is the build() method.</p>\n"},{"tags":[],"owner":{"account_id":245471,"reputation":5488,"user_id":518983,"accept_rate":75,"display_name":"jk_"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1643913497,"creation_date":1325581947,"answer_id":8709983,"question_id":2169190,"body_markdown":"`SAXParser` seems to be a good example:\r\n  \r\n  - `SAXParser` - Director\r\n  - `ContentHandler` - Builder\r\n\r\nThe typical usage of `SAXParser` is identical with Builder:\r\n\r\n    // Create Director\r\n    SAXParser parser = new org.apache.xerces.parsers.SAXParser();  \r\n    // Create Concrete Builder (our own class)\r\n    IndentingContentHandler handler = new IndentingContentHandler();\r\n    // Set Builder to Director\r\n    parser.setContentHandler(handler);\r\n    // Build\r\n    parser.parse(new InputSource(new FileReader(fileName));\r\n    // Get indented XML as String from handler\r\n    String indentedXML = handler.getResult();\r\n\r\n","title":"Example of Builder Pattern in Java API?","body":"<p><code>SAXParser</code> seems to be a good example:</p>\n<ul>\n<li><code>SAXParser</code> - Director</li>\n<li><code>ContentHandler</code> - Builder</li>\n</ul>\n<p>The typical usage of <code>SAXParser</code> is identical with Builder:</p>\n<pre><code>// Create Director\nSAXParser parser = new org.apache.xerces.parsers.SAXParser();  \n// Create Concrete Builder (our own class)\nIndentingContentHandler handler = new IndentingContentHandler();\n// Set Builder to Director\nparser.setContentHandler(handler);\n// Build\nparser.parse(new InputSource(new FileReader(fileName));\n// Get indented XML as String from handler\nString indentedXML = handler.getResult();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3039108,"reputation":141,"user_id":2576551,"display_name":"Tanya Kogan"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1465563637,"creation_date":1465563637,"answer_id":37748956,"question_id":2169190,"body_markdown":"Locale class has an example of the Builder pattern. \r\nhttps://docs.oracle.com/javase/7/docs/api/java/util/Locale.Builder.html\r\n\r\nUsage: \r\n\r\n    Locale locale = new Builder().setLanguage(&quot;sr&quot;).setScript(&quot;Latn&quot;).setRegion(&quot;RS&quot;).build();\r\n    \r\n\r\n\r\n","title":"Example of Builder Pattern in Java API?","body":"<p>Locale class has an example of the Builder pattern. \n<a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Locale.Builder.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/util/Locale.Builder.html</a></p>\n\n<p>Usage: </p>\n\n<pre><code>Locale locale = new Builder().setLanguage(\"sr\").setScript(\"Latn\").setRegion(\"RS\").build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1398261,"reputation":3758,"user_id":1327585,"accept_rate":74,"display_name":"Anil Bhaskar"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1511030119,"creation_date":1510938192,"answer_id":47355798,"question_id":2169190,"body_markdown":"Pretty good example from Java 8 Core API is [`Calendar`][1], for example you can use:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    Calendar cal = new Calendar.Builder().setCalendarType(&quot;iso8601&quot;)\r\n                            .setWeekDate(2013, 1, MONDAY).build();\r\n\r\n&lt;!-- end snippet --&gt;\r\nAnother good example from `Java 7` is [`Locale`][2], use:\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    Locale aLocale = new Builder().setLanguage(&quot;sr&quot;).setScript(&quot;Latn&quot;).setRegion(&quot;RS&quot;).build();\r\n\r\nThe builder pattern is most useful in the context of immutable objects. Interestingly there are many mutable builders in Java, `StringBuilder` being the most common one. Mutable builders from Java 8:\r\n\r\n - `Stream.Builder`\r\n - `IntStream.Builder`\r\n - `LongStream.Builder`\r\n - `DoubleStream.Builder`\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Calendar.Builder.html\r\n  [2]: \r\nhttps://docs.oracle.com/javase/8/docs/api/java/util/Locale.Builder.html","title":"Example of Builder Pattern in Java API?","body":"<p>Pretty good example from Java 8 Core API is <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Calendar.Builder.html\" rel=\"noreferrer\"><code>Calendar</code></a>, for example you can use:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Calendar cal = new Calendar.Builder().setCalendarType(\"iso8601\")\n                        .setWeekDate(2013, 1, MONDAY).build();\n</code></pre>\n\n<p>\nAnother good example from <code>Java 7</code> is <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Locale.Builder.html\" rel=\"noreferrer\"><code>Locale</code></a>, use:\n</p>\n\n<pre><code>Locale aLocale = new Builder().setLanguage(\"sr\").setScript(\"Latn\").setRegion(\"RS\").build();\n</code></pre>\n\n<p>The builder pattern is most useful in the context of immutable objects. Interestingly there are many mutable builders in Java, <code>StringBuilder</code> being the most common one. Mutable builders from Java 8:</p>\n\n<ul>\n<li><code>Stream.Builder</code></li>\n<li><code>IntStream.Builder</code></li>\n<li><code>LongStream.Builder</code></li>\n<li><code>DoubleStream.Builder</code></li>\n</ul>\n\n\n"}],"owner":{"account_id":9041,"reputation":11466,"user_id":16524,"accept_rate":100,"display_name":"Fostah"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19517,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":2169212,"answer_count":7,"score":15,"last_activity_date":1643913497,"creation_date":1264880765,"question_id":2169190,"body_markdown":"Joshua Bloch&#39;s *Effective Java* describes a Builder Pattern that can be used to build objects with several optionally customizable parameters.  The naming convention he suggests for the Builder functions, which &quot;simulates named optional parameters as found in Ada and Python,&quot; doesn&#39;t seem to fall in line with Java&#39;s standard naming convention.  Java functions tend to rely on a having a verb to start the function and then a noun-based phrase to describe what it does. The Builder class only has the name of the variable that&#39;s to be defined by that function.\r\n\r\nAre there any APIs within the Java standard libraries that makes use of the Builder Pattern?  I want to compare the suggestions in the book to an actual implementation within the core set of Java libraries before pursuing its use.  \r\n","title":"Example of Builder Pattern in Java API?","body":"<p>Joshua Bloch's <em>Effective Java</em> describes a Builder Pattern that can be used to build objects with several optionally customizable parameters.  The naming convention he suggests for the Builder functions, which \"simulates named optional parameters as found in Ada and Python,\" doesn't seem to fall in line with Java's standard naming convention.  Java functions tend to rely on a having a verb to start the function and then a noun-based phrase to describe what it does. The Builder class only has the name of the variable that's to be defined by that function.</p>\n\n<p>Are there any APIs within the Java standard libraries that makes use of the Builder Pattern?  I want to compare the suggestions in the book to an actual implementation within the core set of Java libraries before pursuing its use.  </p>\n"},{"tags":["java","apache-kafka","avro","apache-kafka-streams","confluent-schema-registry"],"comments":[{"owner":{"account_id":15069666,"reputation":938,"user_id":10875622,"display_name":"Maxime Launois"},"score":1,"creation_date":1560159070,"post_id":56523420,"comment_id":99631500,"body_markdown":"&quot;Questions asking us to recommend or find a book, tool, software library, tutorial or other off-site resource are off-topic for Stack Overflow as they tend to attract opinionated answers and spam. Instead, describe the problem and what has been done so far to solve it.&quot;","body":"&quot;Questions asking us to recommend or find a book, tool, software library, tutorial or other off-site resource are off-topic for Stack Overflow as they tend to attract opinionated answers and spam. Instead, describe the problem and what has been done so far to solve it.&quot;"},{"owner":{"account_id":2386002,"reputation":5151,"user_id":2086966,"accept_rate":73,"display_name":"smilyface"},"score":0,"creation_date":1560164014,"post_id":56523420,"comment_id":99633832,"body_markdown":"@Damitha - Questions about books / tools etc will be taken out from stackoverflow. I think you can ask those in some  forums.","body":"@Damitha - Questions about books / tools etc will be taken out from stackoverflow. I think you can ask those in some  forums."}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1643913371,"creation_date":1560205679,"answer_id":56534262,"question_id":56523420,"body_markdown":"The documentation is here \r\nhttps://docs.confluent.io/current/streams/developer-guide/datatypes.html#avro\r\n\r\nThis is the dependency\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.confluent&lt;/groupId&gt;\r\n    &lt;artifactId&gt;kafka-streams-avro-serde&lt;/artifactId&gt;\r\n    &lt;version&gt;${confluent.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nMake sure you add the repository \r\n\r\n```xml\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;confluent&lt;/id&gt;\r\n            &lt;url&gt;https://packages.confluent.io/maven/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n```\r\n\r\nLots of example code in here. Not all of it uses Avro  \r\n https://github.com/confluentinc/kafka-streams-examples/tree/5.2.1-post/src/test/java/io/confluent/examples/streams","title":"Use Kafka Streams with Avro Schema Registry","body":"<p>The documentation is here\n<a href=\"https://docs.confluent.io/current/streams/developer-guide/datatypes.html#avro\" rel=\"nofollow noreferrer\">https://docs.confluent.io/current/streams/developer-guide/datatypes.html#avro</a></p>\n<p>This is the dependency</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.confluent&lt;/groupId&gt;\n    &lt;artifactId&gt;kafka-streams-avro-serde&lt;/artifactId&gt;\n    &lt;version&gt;${confluent.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Make sure you add the repository</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;confluent&lt;/id&gt;\n            &lt;url&gt;https://packages.confluent.io/maven/&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n</code></pre>\n<p>Lots of example code in here. Not all of it uses Avro<br />\n<a href=\"https://github.com/confluentinc/kafka-streams-examples/tree/5.2.1-post/src/test/java/io/confluent/examples/streams\" rel=\"nofollow noreferrer\">https://github.com/confluentinc/kafka-streams-examples/tree/5.2.1-post/src/test/java/io/confluent/examples/streams</a></p>\n"}],"owner":{"account_id":11789981,"reputation":473,"user_id":8626433,"display_name":"Damitha Dayananda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4418,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643913371,"creation_date":1560157598,"question_id":56523420,"body_markdown":"I&#39;m seeking kafka-stream usage with schema-registry. I have google and could&#39;t find proper tutorial. ","title":"Use Kafka Streams with Avro Schema Registry","body":"<p>I'm seeking kafka-stream usage with schema-registry. I have google and could't find proper tutorial.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":10209378,"reputation":369,"user_id":7537048,"display_name":"Vaclav Stengl"},"score":0,"creation_date":1643912179,"post_id":70976188,"comment_id":125471657,"body_markdown":"Problably\n`double[] marks = new double[numberOfCourses];`. Where numberOfCourses has to be int not double. Then create variable index to store mark and read marks.\n\nI don&#39;t follow if there is one mark per course or multiple. Implementation differ for each approach.","body":"Problably <code>double[] marks = new double[numberOfCourses];</code>. Where numberOfCourses has to be int not double. Then create variable index to store mark and read marks.  I don&#39;t follow if there is one mark per course or multiple. Implementation differ for each approach."},{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1643912299,"post_id":70976188,"comment_id":125471704,"body_markdown":"Has your course covered how to create/add values to an array?","body":"Has your course covered how to create/add values to an array?"},{"owner":{"account_id":23900575,"reputation":15,"user_id":17898795,"display_name":"user001"},"score":0,"creation_date":1643912593,"post_id":70976188,"comment_id":125471830,"body_markdown":"No. I think i can look it up online","body":"No. I think i can look it up online"},{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1643912848,"post_id":70976188,"comment_id":125471931,"body_markdown":"Yes, also look for examples of `scopes`. You will _probably_ need an array outside of the scope of the `readMarks` method.","body":"Yes, also look for examples of <code>scopes</code>. You will <i>probably</i> need an array outside of the scope of the <code>readMarks</code> method."},{"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1643913154,"post_id":70976188,"comment_id":125472064,"body_markdown":"@JettoMart&#237;nez the specification of the task clearly asks for the creation of a local array.","body":"@JettoMart&#237;nez the specification of the task clearly asks for the creation of a local array."},{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1643913753,"post_id":70976188,"comment_id":125472281,"body_markdown":"It does, is just that `readInfo()` within `Student` is a bit odd, which tells me that the class might be refactored in the future. Nevertheless you are correct, it should matter only if there is a requirement about that.","body":"It does, is just that <code>readInfo()</code> within <code>Student</code> is a bit odd, which tells me that the class might be refactored in the future. Nevertheless you are correct, it should matter only if there is a requirement about that."}],"answers":[{"tags":[],"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643912865,"creation_date":1643912865,"answer_id":70976457,"question_id":70976188,"body_markdown":"The number of courses should be `int`, no need to support fractions for it. And then you will need to create a `double` array and fill the values:\r\n\r\n    public void readMarks(Scanner  input) {\r\n        System.out.println(&quot;Enter number of courses: &quot;);\r\n        int numberOfCourses = input.nextInt();\r\n        \r\n        System.out.println(&quot;Enter marks: &quot;);\r\n        double[] courseMarks = new double[numberOfCourses];\r\n        for (int i = 0; i &lt; numberOfCourses; i++) {\r\n            courseMarks[i] = input.nextDouble();\r\n        }\r\n        // Now you have an array, do something with it, but note, it&#39;s local\r\n    }   ","title":"I&#39;m trying to store 2 user inputs (doubles) inisde a local array. I don&#39;t know the Syntax","body":"<p>The number of courses should be <code>int</code>, no need to support fractions for it. And then you will need to create a <code>double</code> array and fill the values:</p>\n<pre><code>public void readMarks(Scanner  input) {\n    System.out.println(&quot;Enter number of courses: &quot;);\n    int numberOfCourses = input.nextInt();\n    \n    System.out.println(&quot;Enter marks: &quot;);\n    double[] courseMarks = new double[numberOfCourses];\n    for (int i = 0; i &lt; numberOfCourses; i++) {\n        courseMarks[i] = input.nextDouble();\n    }\n    // Now you have an array, do something with it, but note, it's local\n}   \n</code></pre>\n"}],"owner":{"account_id":23900575,"reputation":15,"user_id":17898795,"display_name":"user001"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70976457,"answer_count":1,"score":1,"last_activity_date":1643912865,"creation_date":1643911600,"question_id":70976188,"body_markdown":"&gt;Instruction for the method:\r\n&gt;readMarks(): accepts Scanner object, return nothing. Reads number of courses, and then reads marks of all courses and stored them in a local array.\r\n\r\n&gt;I just need the syntax to store all the values inside the array and eventually use that array somewhere else. Is there a way to do that?\r\n\r\n\r\n```  \r\nimport java.util.Scanner;   \r\n\r\npublic class Student extends Person{\r\n\tprivate int studentNumber;\r\n\tprivate String programName;\r\n\tprivate double gpa;\r\n\tprivate double baseFees;\r\n\tprivate double maxMarks = 100;\r\n\tprivate double maxGPA = 4;\r\n\r\n\tpublic Student(int studentNumber, String programName, double gpa,\r\n\t\t\tdouble baseFees, String fName, String lName, String mail, long pNumber, double maxMarks, double maxGPA) {\r\n\t\tsuper(fName, lName, mail, pNumber);\r\n\t\tthis.studentNumber = studentNumber;\r\n\t\tthis.programName = programName;\r\n\t\tthis.gpa = gpa;\r\n\t\tthis.baseFees = baseFees;\r\n\t\tthis.maxGPA = maxGPA;\r\n\t\tthis.maxMarks = maxMarks;\r\n\t}\r\n\t\r\n\tpublic void readInfo(Scanner input) {\r\n\t\tSystem.out.println(&quot;Enter first Name: &quot;);\r\n\t    String\tfName = input.next();\r\n\t\r\n\t    System.out.println(&quot;Enter last name: &quot;);\r\n\t    String lName = input.next();\r\n\t\r\n\t    System.out.println(&quot;Enter email: &quot;);\r\n\t    String mail = input.next();\r\n\t\r\n\t    System.out.println(&quot;Enter phone number: &quot;);\r\n\t    long pNumber = input.nextLong();\t\r\n\t\r\n\t    System.out.println(&quot;Enter GPA: &quot;);\r\n\t    double gpa = input.nextDouble();\r\n\t\r\n\t    System.out.println(&quot;Enter baseFees: &quot;);\r\n\t    double baseFees = input.nextDouble();\t\r\n\t\r\n\t    readMarks(input);\r\n    }\r\n\t\r\n\tpublic void readMarks(Scanner  input) {\r\n\t\tSystem.out.println(&quot;Enter number of courses: &quot;);\r\n\t\tdouble numberOfCourses = input.nextDouble();\r\n\t\t\r\n\t\tSystem.out.println(&quot;Enter marks: &quot;);\r\n\t\tdouble courseMarks = input.nextDouble();\r\n\t}\t\r\n}\r\n```","title":"I&#39;m trying to store 2 user inputs (doubles) inisde a local array. I don&#39;t know the Syntax","body":"<blockquote>\n<p>Instruction for the method:\nreadMarks(): accepts Scanner object, return nothing. Reads number of courses, and then reads marks of all courses and stored them in a local array.</p>\n</blockquote>\n<blockquote>\n<p>I just need the syntax to store all the values inside the array and eventually use that array somewhere else. Is there a way to do that?</p>\n</blockquote>\n<pre><code>import java.util.Scanner;   \n\npublic class Student extends Person{\n    private int studentNumber;\n    private String programName;\n    private double gpa;\n    private double baseFees;\n    private double maxMarks = 100;\n    private double maxGPA = 4;\n\n    public Student(int studentNumber, String programName, double gpa,\n            double baseFees, String fName, String lName, String mail, long pNumber, double maxMarks, double maxGPA) {\n        super(fName, lName, mail, pNumber);\n        this.studentNumber = studentNumber;\n        this.programName = programName;\n        this.gpa = gpa;\n        this.baseFees = baseFees;\n        this.maxGPA = maxGPA;\n        this.maxMarks = maxMarks;\n    }\n    \n    public void readInfo(Scanner input) {\n        System.out.println(&quot;Enter first Name: &quot;);\n        String  fName = input.next();\n    \n        System.out.println(&quot;Enter last name: &quot;);\n        String lName = input.next();\n    \n        System.out.println(&quot;Enter email: &quot;);\n        String mail = input.next();\n    \n        System.out.println(&quot;Enter phone number: &quot;);\n        long pNumber = input.nextLong();    \n    \n        System.out.println(&quot;Enter GPA: &quot;);\n        double gpa = input.nextDouble();\n    \n        System.out.println(&quot;Enter baseFees: &quot;);\n        double baseFees = input.nextDouble();   \n    \n        readMarks(input);\n    }\n    \n    public void readMarks(Scanner  input) {\n        System.out.println(&quot;Enter number of courses: &quot;);\n        double numberOfCourses = input.nextDouble();\n        \n        System.out.println(&quot;Enter marks: &quot;);\n        double courseMarks = input.nextDouble();\n    }   \n}\n</code></pre>\n"},{"tags":["java","input","java.util.scanner"],"comments":[{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":3,"creation_date":1643910066,"post_id":70975721,"comment_id":125470766,"body_markdown":"Sidenote: Don&#39;t close a `Scanner` wrapping `System.in`, as this will close the underlying stream aswell.","body":"Sidenote: Don&#39;t close a <code>Scanner</code> wrapping <code>System.in</code>, as this will close the underlying stream aswell."},{"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"score":0,"creation_date":1643910199,"post_id":70975721,"comment_id":125470831,"body_markdown":"I note the docs say &quot;If an invocation of the underlying readable&#39;s read() method throws an IOException then the scanner assumes that the end of the input has been reached.&quot; I suspect this is what&#39;s happening here; try calling `System.in.read()` yourself at the start of the method, I expect you&#39;ll get an `IOException` that may give you more context as to the underlying problem","body":"I note the docs say &quot;If an invocation of the underlying readable&#39;s read() method throws an IOException then the scanner assumes that the end of the input has been reached.&quot; I suspect this is what&#39;s happening here; try calling <code>System.in.read()</code> yourself at the start of the method, I expect you&#39;ll get an <code>IOException</code> that may give you more context as to the underlying problem"},{"owner":{"account_id":5418413,"reputation":125,"user_id":4312905,"accept_rate":50,"display_name":"LucasGracia"},"score":0,"creation_date":1643910299,"post_id":70975721,"comment_id":125470883,"body_markdown":"@maloomeister Thanks for your response. Will this not result in memory leaks though? Or would it be better to just have one scanner wrapping system.in and pass it in to getString and getInt?","body":"@maloomeister Thanks for your response. Will this not result in memory leaks though? Or would it be better to just have one scanner wrapping system.in and pass it in to getString and getInt?"},{"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"score":1,"creation_date":1643910327,"post_id":70975721,"comment_id":125470896,"body_markdown":"@maloomeister Actually I think that&#39;s more than a sidenote - closing the stream would mean there *are* no more tokens to read.  Since `getInt` is called after `getString` this is almost certainly what&#39;s happening.","body":"@maloomeister Actually I think that&#39;s more than a sidenote - closing the stream would mean there <i>are</i> no more tokens to read.  Since <code>getInt</code> is called after <code>getString</code> this is almost certainly what&#39;s happening."},{"owner":{"account_id":5418413,"reputation":125,"user_id":4312905,"accept_rate":50,"display_name":"LucasGracia"},"score":0,"creation_date":1643910590,"post_id":70975721,"comment_id":125471002,"body_markdown":"@AndrzejDoyle I took your suggestions and did get an IOException saying that the stream was closed. Thanks for your help","body":"@AndrzejDoyle I took your suggestions and did get an IOException saying that the stream was closed. Thanks for your help"},{"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"score":1,"creation_date":1643910596,"post_id":70975721,"comment_id":125471005,"body_markdown":"@LucasGracia Calling `close()` wouldn&#39;t have any impact on memory leaks - it&#39;s about what strong references exist.  `sc` will be eligible for collection once the method exits (and you don&#39;t want to GC the `System.in` stream...).  That said, I feel it would be better to create just one `Scanner` to represent the tokenised input, then call whatever methods you want/need to on it.","body":"@LucasGracia Calling <code>close()</code> wouldn&#39;t have any impact on memory leaks - it&#39;s about what strong references exist.  <code>sc</code> will be eligible for collection once the method exits (and you don&#39;t want to GC the <code>System.in</code> stream...).  That said, I feel it would be better to create just one <code>Scanner</code> to represent the tokenised input, then call whatever methods you want/need to on it."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1643912389,"post_id":70975721,"comment_id":125471748,"body_markdown":"@AndrzejDoyle &quot;_ closing the stream would mean there are no more tokens to read. Since getInt is called after getString this is almost certainly what&#39;s happening._&quot; - That is EXACTLY what was happening. I posted a solution with an explanation.","body":"@AndrzejDoyle &quot;_ closing the stream would mean there are no more tokens to read. Since getInt is called after getString this is almost certainly what&#39;s happening._&quot; - That is EXACTLY what was happening. I posted a solution with an explanation."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1643912678,"post_id":70975721,"comment_id":125471863,"body_markdown":"@LucasGracia this is why knowing how to troubleshoot properly pays off. In order to figure out your issue, I ran each portion independently (I only used the two methods you showed). Doing this let me know both method were working. At that point, I deduced the issue was how they were being invoked. There, I noticed the problem was that the second invocation (`m.getInt()`) resulted in a `NoSuchElementException` - which you neglected to mention here. A quick search for that problem gave me information I needed to fix this problem. It took me less than 5 minutes to figure out.","body":"@LucasGracia this is why knowing how to troubleshoot properly pays off. In order to figure out your issue, I ran each portion independently (I only used the two methods you showed). Doing this let me know both method were working. At that point, I deduced the issue was how they were being invoked. There, I noticed the problem was that the second invocation (<code>m.getInt()</code>) resulted in a <code>NoSuchElementException</code> - which you neglected to mention here. A quick search for that problem gave me information I needed to fix this problem. It took me less than 5 minutes to figure out."}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643912045,"creation_date":1643912045,"answer_id":70976279,"question_id":70975721,"body_markdown":"This code:\r\n```\r\npublic class ScannerDemo {\r\n\tpublic static void main (String[] args) {\r\n\t\tScannerDemo m = new ScannerDemo();\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\tSystem.out.printf(\r\n\t\t\t&quot;Hello %s, you are %d and were born in %d. You are %s tall&quot;,\r\n\t\t\tm.getString(sc), m.getInt(sc), m.getInt(sc), m.getString(sc));\r\n\t\tsc.close();\r\n\t}\r\n\t\r\n\tprivate int getInt (Scanner sc) {\r\n\t\tint result = sc.nextInt();\r\n\t\treturn result;\r\n\t}\r\n\t\r\n\tprivate String getString (Scanner sc) {\r\n\t\tString result = sc.next();\r\n\t\treturn result;\r\n\t}\r\n}\r\n```\r\nWhen given this input:\r\n```\r\nHector\r\n53\r\n1968\r\n5&#39;8&quot;\r\n```\r\nProduces the following output:\r\n```\r\nHello Hector, you are 53 and were born in 1968. You are 5&#39;8&quot; tall\r\n```\r\nThe main problem is calling `sc.close()` inside each method. When you close this method, you actually close the input stream associated with the `Scanner` object and once you close it, there is no way to reopen it.  I also took out all unnecessary code. You can insert the prompts as needed.","title":"new Scanner not waiting for input","body":"<p>This code:</p>\n<pre><code>public class ScannerDemo {\n    public static void main (String[] args) {\n        ScannerDemo m = new ScannerDemo();\n        Scanner sc = new Scanner(System.in);\n        System.out.printf(\n            &quot;Hello %s, you are %d and were born in %d. You are %s tall&quot;,\n            m.getString(sc), m.getInt(sc), m.getInt(sc), m.getString(sc));\n        sc.close();\n    }\n    \n    private int getInt (Scanner sc) {\n        int result = sc.nextInt();\n        return result;\n    }\n    \n    private String getString (Scanner sc) {\n        String result = sc.next();\n        return result;\n    }\n}\n</code></pre>\n<p>When given this input:</p>\n<pre><code>Hector\n53\n1968\n5'8&quot;\n</code></pre>\n<p>Produces the following output:</p>\n<pre><code>Hello Hector, you are 53 and were born in 1968. You are 5'8&quot; tall\n</code></pre>\n<p>The main problem is calling <code>sc.close()</code> inside each method. When you close this method, you actually close the input stream associated with the <code>Scanner</code> object and once you close it, there is no way to reopen it.  I also took out all unnecessary code. You can insert the prompts as needed.</p>\n"}],"owner":{"account_id":5418413,"reputation":125,"user_id":4312905,"accept_rate":50,"display_name":"LucasGracia"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70976279,"answer_count":1,"score":0,"last_activity_date":1643912045,"creation_date":1643909504,"question_id":70975721,"body_markdown":"When executed, the following code will not wait for user input:\r\n``` Java\r\n  private int getInt(){\r\n    Scanner sc = new Scanner(System.in);\r\n    int result = 0;\r\n    while (sc.hasNext()){\r\n      System.out.println(&quot;There is a token&quot;);\r\n      if (sc.hasNextInt()){\r\n        result = sc.nextInt();\r\n      } else {\r\n        sc.next();\r\n      }\r\n    }\r\n    System.out.println(&quot;There is not a token&quot;);\r\n    sc.close();\r\n    return result;\r\n  }\r\n```\r\n  \r\nI am calling this function immediately after calling another functions that gets a string rather than an int. This functions works correctly.\r\n``` Java\r\nprivate String getString(String prompt, String pattern, String errorMessage){\r\n    System.out.println(prompt);\r\n    Scanner sc = new Scanner(System.in);\r\n    while (!sc.hasNext(pattern)){\r\n      System.out.println(errorMessage);\r\n      sc.next();\r\n      System.out.println(prompt);\r\n    }\r\n    String result = sc.next();\r\n    sc.close();\r\n    return result;\r\n  }\r\n```\r\nI have seen other similar questions where people try to read in data using multiple methods in succession, normally nextLine() then nextInt and don&#39;t consume the end of the token first, but I don&#39;t think this is what&#39;s happening here.\r\n\r\nThe programme doesn&#39;t wait for user input and just skips straight to the debugging line &quot;There is not a token&quot;. Any help would be appreciated!\r\n\r\nThe calling code is as follows:\r\n``` Java\r\nSystem.out.printf(&quot;Hello %s, you are %d and were born in %d. You are %s tall&quot;, m.getString(), m.getInt(), m.getBirthYear(), m.convertHeight(m.getHeight()));\r\n","title":"new Scanner not waiting for input","body":"<p>When executed, the following code will not wait for user input:</p>\n<pre><code>  private int getInt(){\n    Scanner sc = new Scanner(System.in);\n    int result = 0;\n    while (sc.hasNext()){\n      System.out.println(&quot;There is a token&quot;);\n      if (sc.hasNextInt()){\n        result = sc.nextInt();\n      } else {\n        sc.next();\n      }\n    }\n    System.out.println(&quot;There is not a token&quot;);\n    sc.close();\n    return result;\n  }\n</code></pre>\n<p>I am calling this function immediately after calling another functions that gets a string rather than an int. This functions works correctly.</p>\n<pre><code>private String getString(String prompt, String pattern, String errorMessage){\n    System.out.println(prompt);\n    Scanner sc = new Scanner(System.in);\n    while (!sc.hasNext(pattern)){\n      System.out.println(errorMessage);\n      sc.next();\n      System.out.println(prompt);\n    }\n    String result = sc.next();\n    sc.close();\n    return result;\n  }\n</code></pre>\n<p>I have seen other similar questions where people try to read in data using multiple methods in succession, normally nextLine() then nextInt and don't consume the end of the token first, but I don't think this is what's happening here.</p>\n<p>The programme doesn't wait for user input and just skips straight to the debugging line &quot;There is not a token&quot;. Any help would be appreciated!</p>\n<p>The calling code is as follows:</p>\n<pre><code>System.out.printf(&quot;Hello %s, you are %d and were born in %d. You are %s tall&quot;, m.getString(), m.getInt(), m.getBirthYear(), m.convertHeight(m.getHeight()));\n</code></pre>\n"},{"tags":["java","android","io","filesystems"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1624699231,"post_id":68140893,"comment_id":120432945,"body_markdown":"`Android studio throwing IOException:` AND `the program throws java.io.IOException:` do not match.","body":"<code>Android studio throwing IOException:</code> AND <code>the program throws java.io.IOException:</code> do not match."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1624699389,"post_id":68140893,"comment_id":120432975,"body_markdown":"`data = new File(MainActivity.dir, name().toLowerCase() + &quot;.data&quot;);\n` Nobody knows the value of your variables. So nobody knows the paths you use. Please post only code that we can understand.","body":"<code>data = new File(MainActivity.dir, name().toLowerCase() + &quot;.data&quot;); </code> Nobody knows the value of your variables. So nobody knows the paths you use. Please post only code that we can understand."},{"owner":{"account_id":13464558,"reputation":8533,"user_id":9715339,"display_name":"Mayur Gajra"},"score":0,"creation_date":1624699494,"post_id":68140893,"comment_id":120432995,"body_markdown":"Are you testing this on Android 10 or 11?","body":"Are you testing this on Android 10 or 11?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1624699513,"post_id":68140893,"comment_id":120432998,"body_markdown":"`dir.mkdirs(); Check the return value!` if ( ! dir.exists()) if ( !dir.mkdirs()) { Toast(... sorry could not create directory..); return;}`","body":"<code>dir.mkdirs(); Check the return value!</code> if ( ! dir.exists()) if ( !dir.mkdirs()) { Toast(... sorry could not create directory..); return;}`"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1624699572,"post_id":68140893,"comment_id":120433011,"body_markdown":"`dir.setWritable(true)` That statement makes no sense. You can not make it writable if it is not.","body":"<code>dir.setWritable(true)</code> That statement makes no sense. You can not make it writable if it is not."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1624699612,"post_id":68140893,"comment_id":120433027,"body_markdown":"if (!dir.canWrite()) { Toast( .. sorry not a writable directory...); return;}","body":"if (!dir.canWrite()) { Toast( .. sorry not a writable directory...); return;}"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1624699814,"post_id":68140893,"comment_id":120433059,"body_markdown":"`public static File dir` Why public? And static?","body":"<code>public static File dir</code> Why public? And static?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1624699847,"post_id":68140893,"comment_id":120433069,"body_markdown":"`public enum Option` Why public?","body":"<code>public enum Option</code> Why public?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1624699866,"post_id":68140893,"comment_id":120433074,"body_markdown":"`public void init` Why public? Who is calling those functions? And when? You are not doing that in your code.","body":"<code>public void init</code> Why public? Who is calling those functions? And when? You are not doing that in your code."},{"owner":{"account_id":14730969,"reputation":421,"user_id":10638274,"display_name":"guninvalid"},"score":0,"creation_date":1624700406,"post_id":68140893,"comment_id":120433185,"body_markdown":"@MayurGajra I&#39;m running version 11.","body":"@MayurGajra I&#39;m running version 11."},{"owner":{"account_id":14730969,"reputation":421,"user_id":10638274,"display_name":"guninvalid"},"score":0,"creation_date":1624700510,"post_id":68140893,"comment_id":120433200,"body_markdown":"@blackapps this code is bodged together *for myself*.","body":"@blackapps this code is bodged together <i>for myself</i>."}],"answers":[{"tags":[],"owner":{"account_id":13464558,"reputation":8533,"user_id":9715339,"display_name":"Mayur Gajra"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1624706958,"creation_date":1624706958,"answer_id":68141908,"question_id":68140893,"body_markdown":"For Android 11 just having storage permission is not enough to write the file in shared storage as we used to. Because of storage updates in Android 11: https://developer.android.com/about/versions/11/privacy/storage\r\n\r\nSo there are two ways:\r\n\r\n**1) `MANAGE_EXTERNAL_STORAGE` Permission**\r\n\r\nThis is an easy way if you&#39;re keeping this code to yourself &amp; not looking to upload that on play store. Because most apps won&#39;t be allowed without solid reason.\r\n\r\nI&#39;ve created a sample code.\r\n\r\nIn your manifest declare the dependency:\r\n\r\n    &lt;uses-permission\r\n            android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;\r\n            android:minSdkVersion=&quot;30&quot; /&gt;\r\n\r\nIn your code:\r\n\r\nYou need to check if your app is already storage manager or not. `Environment.isExternalStorageManager()` &amp; if not then redirect to settings `ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION` where you&#39;ll get option to allow. You should see you app listed there.\r\n\r\nOnce allowed you&#39;ll be able create directories/files.\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        public static File dir = new File(new File(Environment.getExternalStorageDirectory(), &quot;bleh&quot;), &quot;bleh&quot;);\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            Button btn = findViewById(R.id.btn);\r\n            btn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    askForPermissions();\r\n                }\r\n            });\r\n    \r\n        }\r\n    \r\n        @Override\r\n        protected void onResume() {\r\n            super.onResume();\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\r\n                if (Environment.isExternalStorageManager()) {\r\n                    createDir();\r\n                }\r\n            }\r\n        }\r\n    \r\n        public void askForPermissions() {\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\r\n                if (!Environment.isExternalStorageManager()) {\r\n                    Intent intent = new Intent(Settings.ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION);\r\n                    startActivity(intent);\r\n                    return;\r\n                }\r\n                createDir();\r\n            }\r\n        }\r\n    \r\n        public void createDir(){\r\n            if (!dir.exists()){\r\n                dir.mkdirs();\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n \r\nYou can read more about this here: https://developer.android.com/training/data-storage/manage-all-files\r\n\r\nYou can find example here: https://github.com/android/storage-samples/tree/main/FileManager\r\n\r\n**2) Follow scoped storage guidelines.**\r\n\r\nThere few ways in this as well. I&#39;ll just show you how you can add file in `Documents` directory. Which is a shared space. For this you don&#39;t need permission.\r\n\r\nYou can use `getContentResolver` &amp; insert a file to external storage &amp; also set the relative location to `DIRECTORY_DOCUMENTS`.\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            Button btn = findViewById(R.id.btn);\r\n            btn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n                        saveFileToExternalStorage(String.valueOf(System.currentTimeMillis()),&quot;Test&quot;);\r\n                    }\r\n                }\r\n            });\r\n    \r\n        }\r\n    \r\n        @RequiresApi(Build.VERSION_CODES.Q)\r\n        private void saveFileToExternalStorage(String displayName, String content) {\r\n            Uri externalUri = MediaStore.Files.getContentUri(MediaStore.VOLUME_EXTERNAL_PRIMARY);\r\n    \r\n            String relativeLocation = Environment.DIRECTORY_DOCUMENTS;\r\n    \r\n            ContentValues contentValues = new ContentValues();\r\n            contentValues.put(MediaStore.Files.FileColumns.DISPLAY_NAME, displayName + &quot;.txt&quot;);\r\n            contentValues.put(MediaStore.Files.FileColumns.MIME_TYPE, &quot;application/text&quot;);\r\n            contentValues.put(MediaStore.Files.FileColumns.TITLE, &quot;Test&quot;);\r\n            contentValues.put(MediaStore.Files.FileColumns.DATE_ADDED, System.currentTimeMillis() / 1000);\r\n            contentValues.put(MediaStore.Files.FileColumns.RELATIVE_PATH, relativeLocation);\r\n            contentValues.put(MediaStore.Files.FileColumns.DATE_TAKEN, System.currentTimeMillis());\r\n    \r\n            Uri fileUri = getContentResolver().insert(externalUri, contentValues);\r\n            try {\r\n                OutputStream outputStream =  getContentResolver().openOutputStream(fileUri);\r\n                outputStream.write(content.getBytes());\r\n                outputStream.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n    } \r\n\r\n\r\n\r\nYou can read more about this here: https://www.androidcentral.com/what-scoped-storage\r\n\r\nYou can find proper samples here: https://github.com/android/storage-samples/tree/main/ScopedStorage\r\n\r\n","title":"Android studio throwing IOException: Operation not permitted","body":"<p>For Android 11 just having storage permission is not enough to write the file in shared storage as we used to. Because of storage updates in Android 11: <a href=\"https://developer.android.com/about/versions/11/privacy/storage\" rel=\"noreferrer\">https://developer.android.com/about/versions/11/privacy/storage</a></p>\n<p>So there are two ways:</p>\n<p><strong>1) <code>MANAGE_EXTERNAL_STORAGE</code> Permission</strong></p>\n<p>This is an easy way if you're keeping this code to yourself &amp; not looking to upload that on play store. Because most apps won't be allowed without solid reason.</p>\n<p>I've created a sample code.</p>\n<p>In your manifest declare the dependency:</p>\n<pre><code>&lt;uses-permission\n        android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;\n        android:minSdkVersion=&quot;30&quot; /&gt;\n</code></pre>\n<p>In your code:</p>\n<p>You need to check if your app is already storage manager or not. <code>Environment.isExternalStorageManager()</code> &amp; if not then redirect to settings <code>ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION</code> where you'll get option to allow. You should see you app listed there.</p>\n<p>Once allowed you'll be able create directories/files.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    public static File dir = new File(new File(Environment.getExternalStorageDirectory(), &quot;bleh&quot;), &quot;bleh&quot;);\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        Button btn = findViewById(R.id.btn);\n        btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                askForPermissions();\n            }\n        });\n\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\n            if (Environment.isExternalStorageManager()) {\n                createDir();\n            }\n        }\n    }\n\n    public void askForPermissions() {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\n            if (!Environment.isExternalStorageManager()) {\n                Intent intent = new Intent(Settings.ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION);\n                startActivity(intent);\n                return;\n            }\n            createDir();\n        }\n    }\n\n    public void createDir(){\n        if (!dir.exists()){\n            dir.mkdirs();\n        }\n    }\n\n}\n</code></pre>\n<p>You can read more about this here: <a href=\"https://developer.android.com/training/data-storage/manage-all-files\" rel=\"noreferrer\">https://developer.android.com/training/data-storage/manage-all-files</a></p>\n<p>You can find example here: <a href=\"https://github.com/android/storage-samples/tree/main/FileManager\" rel=\"noreferrer\">https://github.com/android/storage-samples/tree/main/FileManager</a></p>\n<p><strong>2) Follow scoped storage guidelines.</strong></p>\n<p>There few ways in this as well. I'll just show you how you can add file in <code>Documents</code> directory. Which is a shared space. For this you don't need permission.</p>\n<p>You can use <code>getContentResolver</code> &amp; insert a file to external storage &amp; also set the relative location to <code>DIRECTORY_DOCUMENTS</code>.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        Button btn = findViewById(R.id.btn);\n        btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n                    saveFileToExternalStorage(String.valueOf(System.currentTimeMillis()),&quot;Test&quot;);\n                }\n            }\n        });\n\n    }\n\n    @RequiresApi(Build.VERSION_CODES.Q)\n    private void saveFileToExternalStorage(String displayName, String content) {\n        Uri externalUri = MediaStore.Files.getContentUri(MediaStore.VOLUME_EXTERNAL_PRIMARY);\n\n        String relativeLocation = Environment.DIRECTORY_DOCUMENTS;\n\n        ContentValues contentValues = new ContentValues();\n        contentValues.put(MediaStore.Files.FileColumns.DISPLAY_NAME, displayName + &quot;.txt&quot;);\n        contentValues.put(MediaStore.Files.FileColumns.MIME_TYPE, &quot;application/text&quot;);\n        contentValues.put(MediaStore.Files.FileColumns.TITLE, &quot;Test&quot;);\n        contentValues.put(MediaStore.Files.FileColumns.DATE_ADDED, System.currentTimeMillis() / 1000);\n        contentValues.put(MediaStore.Files.FileColumns.RELATIVE_PATH, relativeLocation);\n        contentValues.put(MediaStore.Files.FileColumns.DATE_TAKEN, System.currentTimeMillis());\n\n        Uri fileUri = getContentResolver().insert(externalUri, contentValues);\n        try {\n            OutputStream outputStream =  getContentResolver().openOutputStream(fileUri);\n            outputStream.write(content.getBytes());\n            outputStream.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n} \n</code></pre>\n<p>You can read more about this here: <a href=\"https://www.androidcentral.com/what-scoped-storage\" rel=\"noreferrer\">https://www.androidcentral.com/what-scoped-storage</a></p>\n<p>You can find proper samples here: <a href=\"https://github.com/android/storage-samples/tree/main/ScopedStorage\" rel=\"noreferrer\">https://github.com/android/storage-samples/tree/main/ScopedStorage</a></p>\n"}],"owner":{"account_id":14730969,"reputation":421,"user_id":10638274,"display_name":"guninvalid"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20818,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":68141908,"answer_count":1,"score":3,"last_activity_date":1643912021,"creation_date":1624698828,"question_id":68140893,"body_markdown":"Right now I am currently creating an app for myself that appends data to a handful of files. But when I try to create the files -- or indeed, open them at all --, the program throws `java.io.IOException: Operation not permitted`.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAs you can see, storage permissions are granted. (This app is exclusively for myself, so I&#39;m not too worried about what it would be like for other users.)\r\n\r\nExamining the filesystem directly through the phone itself or through my computer does not show these files.\r\n\r\nNote: creating the directories (i.e. `dir.mkdirs();`) does **not** throw an error, even if I delete the directories beforehand. Handling the files, however, does throw errors.\r\n\r\n\r\nI am running Android 11 and my Android Studio is set to work in Lollipop.\r\n\r\n`MainActivity.java`:\r\n\r\n```java\r\npublic class MainActivity extends AppCompatActivity {\r\n\t\r\n\tpublic static File dir = new File(new File(Environment.getExternalStorageDirectory(), &quot;bleh&quot;), &quot;bleh&quot;);\r\n\t\r\n\t@Override protected void onCreate(Bundle savedInstanceState) {\r\n\t\t\r\n\t\t//bleh\r\n\t\t\r\n\t\tdir.mkdirs();\r\n\t\tdir.setWritable(true)\r\n\t\taddButtons();\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void addButtons() throws IOException {\r\n\t\t\r\n\t\tOption.A.init(R.id.A);\r\n\t\tOption.B.init(R.id.B);\r\n\t\tOption.C.init(R.id.C);\r\n\t\tOption.D.init(R.id.D);\r\n\t\tOption.E.init(R.id.E);\r\n\t\tOption.F.init(R.id.F);\r\n\t\t\r\n\t\t// This is beyond the scope of my \r\n\t\t// question, but if you could also \r\n\t\t// show me a better way to do this, \r\n\t\t// that would be great.\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\n`Option.java`:\r\n```java\r\npublic enum Option {\r\n\t\r\n\tA, B, C, D, E, F, ;\r\n\t\r\n\tpublic File data;\r\n\tpublic PrintWriter printer;\r\n\t\r\n\tOption() {\r\n\t\t\r\n\t\tdata = new File(MainActivity.dir, name().toLowerCase() + &quot;.data&quot;);\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void init(int buttonid) {\r\n\t\t\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\tdata.createNewFile();\r\n\t\t\tprinter = new PrintWriter(data);\r\n\t\t\t// Both of these lines throw this exception.\r\n\t\t\t\r\n\t\t} catch (IOException ex) {\r\n\t\t\t\r\n\t\t\tex.printStackTrace(System.err);\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/62R7z.png","title":"Android studio throwing IOException: Operation not permitted","body":"<p>Right now I am currently creating an app for myself that appends data to a handful of files. But when I try to create the files -- or indeed, open them at all --, the program throws <code>java.io.IOException: Operation not permitted</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/62R7z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/62R7z.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see, storage permissions are granted. (This app is exclusively for myself, so I'm not too worried about what it would be like for other users.)</p>\n<p>Examining the filesystem directly through the phone itself or through my computer does not show these files.</p>\n<p>Note: creating the directories (i.e. <code>dir.mkdirs();</code>) does <strong>not</strong> throw an error, even if I delete the directories beforehand. Handling the files, however, does throw errors.</p>\n<p>I am running Android 11 and my Android Studio is set to work in Lollipop.</p>\n<p><code>MainActivity.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MainActivity extends AppCompatActivity {\n    \n    public static File dir = new File(new File(Environment.getExternalStorageDirectory(), &quot;bleh&quot;), &quot;bleh&quot;);\n    \n    @Override protected void onCreate(Bundle savedInstanceState) {\n        \n        //bleh\n        \n        dir.mkdirs();\n        dir.setWritable(true)\n        addButtons();\n        \n    }\n    \n    public void addButtons() throws IOException {\n        \n        Option.A.init(R.id.A);\n        Option.B.init(R.id.B);\n        Option.C.init(R.id.C);\n        Option.D.init(R.id.D);\n        Option.E.init(R.id.E);\n        Option.F.init(R.id.F);\n        \n        // This is beyond the scope of my \n        // question, but if you could also \n        // show me a better way to do this, \n        // that would be great.\n        \n    }\n    \n}\n</code></pre>\n<p><code>Option.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum Option {\n    \n    A, B, C, D, E, F, ;\n    \n    public File data;\n    public PrintWriter printer;\n    \n    Option() {\n        \n        data = new File(MainActivity.dir, name().toLowerCase() + &quot;.data&quot;);\n        \n    }\n    \n    public void init(int buttonid) {\n        \n        try {\n            \n            data.createNewFile();\n            printer = new PrintWriter(data);\n            // Both of these lines throw this exception.\n            \n        } catch (IOException ex) {\n            \n            ex.printStackTrace(System.err);\n            \n        }\n        \n    }\n    \n}\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1643896862,"post_id":70972599,"comment_id":125464752,"body_markdown":"use `Pattern.compile(&quot;\\&quot;([^\\&quot;])\\&quot;&quot;)`. Please note that this gets way more difficult if the real values of `VALUE1` etc are allowed to contain a `&quot;`.","body":"use <code>Pattern.compile(&quot;\\&quot;([^\\&quot;])\\&quot;&quot;)</code>. Please note that this gets way more difficult if the real values of <code>VALUE1</code> etc are allowed to contain a <code>&quot;</code>."},{"owner":{"account_id":23550157,"reputation":744,"user_id":17592995,"display_name":"Vikstapolis"},"score":1,"creation_date":1643896980,"post_id":70972599,"comment_id":125464805,"body_markdown":"Does this answer your question? [Getting match of Group with Asterisk?](https://stackoverflow.com/questions/25858345/getting-match-of-group-with-asterisk)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/25858345/getting-match-of-group-with-asterisk\">Getting match of Group with Asterisk?</a>"}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643896946,"creation_date":1643896946,"answer_id":70972639,"question_id":70972599,"body_markdown":"Your pattern was slightly off.  Use this version:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String input = &quot;aa a\\r\\na aa \\r\\na getString(\\&quot;VALUE1\\&quot;);aagetInt(\\&quot;VALUE2\\&quot;);aa\\r\\n a getString(\\&quot;VALUE3\\&quot;); aaa\\r\\naaa&quot;;\r\n    Pattern p = Pattern.compile(&quot;\\\\w+\\\\(\\&quot;(.*?)\\&quot;\\\\)&quot;);\r\n    Matcher m = p.matcher(input);\r\n    while (m.find())\r\n        System.out.println(m.group(1));\r\n\r\nThis prints:\r\n\r\n    VALUE1\r\n    VALUE2\r\n    VALUE3","title":"Java: Extracting multiple values from a String using RegEx","body":"<p>Your pattern was slightly off.  Use this version:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;aa a\\r\\na aa \\r\\na getString(\\&quot;VALUE1\\&quot;);aagetInt(\\&quot;VALUE2\\&quot;);aa\\r\\n a getString(\\&quot;VALUE3\\&quot;); aaa\\r\\naaa&quot;;\nPattern p = Pattern.compile(&quot;\\\\w+\\\\(\\&quot;(.*?)\\&quot;\\\\)&quot;);\nMatcher m = p.matcher(input);\nwhile (m.find())\n    System.out.println(m.group(1));\n</code></pre>\n<p>This prints:</p>\n<pre><code>VALUE1\nVALUE2\nVALUE3\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643898043,"creation_date":1643898043,"answer_id":70972902,"question_id":70972599,"body_markdown":"Using `\\S+` matches all non whitespace chars, and using `.*` matches to the end of the line first, so in both pattern you are matching too much.\r\n\r\nGetting the value in parenthesis that starts with `get` and using non greedy `\\S+?` (note that is does not match spaces):\r\n\r\n    get[^\\s()]*\\(&quot;(\\S+?)&quot;\\)\r\n\r\n[Regex demo](https://regex101.com/r/AcU01c/1)\r\n\r\nExample:\r\n\r\n    String input = &quot;aa a\\r\\na aa \\r\\na getString(\\&quot;VALUE1\\&quot;);aagetInt(\\&quot;VALUE2\\&quot;);aa\\r\\n a getString(\\&quot;VALUE3\\&quot;); aaa\\r\\naaa&quot;;\r\n    String regex = &quot;get[^\\\\s()]*\\\\(\\&quot;(\\\\S+?)\\&quot;\\\\)&quot;;\r\n\r\n    Pattern pattern = Pattern.compile(regex);\r\n    Matcher matcher = pattern.matcher(input);\r\n\r\n    while (matcher.find()) {\r\n       System.out.println(matcher.group(1));            \r\n    } \r\n\r\nOutput\r\n\r\n    VALUE1\r\n    VALUE2\r\n    VALUE3","title":"Java: Extracting multiple values from a String using RegEx","body":"<p>Using <code>\\S+</code> matches all non whitespace chars, and using <code>.*</code> matches to the end of the line first, so in both pattern you are matching too much.</p>\n<p>Getting the value in parenthesis that starts with <code>get</code> and using non greedy <code>\\S+?</code> (note that is does not match spaces):</p>\n<pre><code>get[^\\s()]*\\(&quot;(\\S+?)&quot;\\)\n</code></pre>\n<p><a href=\"https://regex101.com/r/AcU01c/1\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n<p>Example:</p>\n<pre><code>String input = &quot;aa a\\r\\na aa \\r\\na getString(\\&quot;VALUE1\\&quot;);aagetInt(\\&quot;VALUE2\\&quot;);aa\\r\\n a getString(\\&quot;VALUE3\\&quot;); aaa\\r\\naaa&quot;;\nString regex = &quot;get[^\\\\s()]*\\\\(\\&quot;(\\\\S+?)\\&quot;\\\\)&quot;;\n\nPattern pattern = Pattern.compile(regex);\nMatcher matcher = pattern.matcher(input);\n\nwhile (matcher.find()) {\n   System.out.println(matcher.group(1));            \n} \n</code></pre>\n<p>Output</p>\n<pre><code>VALUE1\nVALUE2\nVALUE3\n</code></pre>\n"}],"owner":{"account_id":1341993,"reputation":2674,"user_id":1283501,"accept_rate":74,"display_name":"Wolf359"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":618,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70972902,"answer_count":2,"score":0,"last_activity_date":1643910877,"creation_date":1643896742,"question_id":70972599,"body_markdown":"I need to extract VALUE1, VALUE2 and VALUE3 from the following multi-line string:\r\n\r\n    String input = &quot;aa a\\r\\na aa \\r\\na getString(\\&quot;VALUE1\\&quot;);aagetInt(\\&quot;VALUE2\\&quot;);aa\\r\\n a getString(\\&quot;VALUE3\\&quot;); aaa\\r\\naaa&quot;;\r\n\r\nI&#39;ve tried:\r\n\r\n    Pattern pattern = Pattern.compile(&quot;\\&quot;(\\\\S+)\\&quot;+&quot;);\r\n    Matcher matcher = pattern.matcher(input);\r\n    while (matcher.find())\r\n        System.out.println(matcher.group(1));\r\n\r\nBut this produces:\r\n\r\n    VALUE1\\&quot;);aagetInt(\\&quot;VALUE2\\&quot;);aa\\r\\n a getString(\\&quot;VALUE3\r\n\r\nIt takes everything between the first and last quotation marks.\r\n\r\nThen I&#39;ve tried this one:\r\n\r\n    &quot;(.*)get(\\\\S+)\\\\(\\&quot;(\\\\S+)\\&quot;(.*)&quot;\r\n\r\nBut this only takes the last match, VALUE3 (with matcher.group(3)).\r\n\r\nHow can I get all 3 values: VALUE1, VALUE2, VALUE3?\r\n\r\n","title":"Java: Extracting multiple values from a String using RegEx","body":"<p>I need to extract VALUE1, VALUE2 and VALUE3 from the following multi-line string:</p>\n<pre><code>String input = &quot;aa a\\r\\na aa \\r\\na getString(\\&quot;VALUE1\\&quot;);aagetInt(\\&quot;VALUE2\\&quot;);aa\\r\\n a getString(\\&quot;VALUE3\\&quot;); aaa\\r\\naaa&quot;;\n</code></pre>\n<p>I've tried:</p>\n<pre><code>Pattern pattern = Pattern.compile(&quot;\\&quot;(\\\\S+)\\&quot;+&quot;);\nMatcher matcher = pattern.matcher(input);\nwhile (matcher.find())\n    System.out.println(matcher.group(1));\n</code></pre>\n<p>But this produces:</p>\n<pre><code>VALUE1\\&quot;);aagetInt(\\&quot;VALUE2\\&quot;);aa\\r\\n a getString(\\&quot;VALUE3\n</code></pre>\n<p>It takes everything between the first and last quotation marks.</p>\n<p>Then I've tried this one:</p>\n<pre><code>&quot;(.*)get(\\\\S+)\\\\(\\&quot;(\\\\S+)\\&quot;(.*)&quot;\n</code></pre>\n<p>But this only takes the last match, VALUE3 (with matcher.group(3)).</p>\n<p>How can I get all 3 values: VALUE1, VALUE2, VALUE3?</p>\n"},{"tags":["java","database-connection"],"comments":[{"owner":{"account_id":10680738,"reputation":2840,"user_id":7862909,"display_name":"Arun Joseph"},"score":0,"creation_date":1560171929,"post_id":2225221,"comment_id":99637500,"body_markdown":"It&#39;s always a best practice to close the connections on your own, without depending on other drivers and templates to handle closing. Failure of closing the connection will result in the sockets and resources open forever until a crash(no more resource scenario) or restart.","body":"It&#39;s always a best practice to close the connections on your own, without depending on other drivers and templates to handle closing. Failure of closing the connection will result in the sockets and resources open forever until a crash(no more resource scenario) or restart."}],"answers":[{"tags":[],"owner":{"account_id":4938,"reputation":69433,"user_id":7671,"accept_rate":70,"display_name":"Alex Miller"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1612613258,"creation_date":1265666755,"answer_id":2225236,"question_id":2225221,"body_markdown":"Yes, you need to close `Connection`. Otherwise, the database client will typically keep the socket connection and other resources open.","title":"Closing database connections in Java","body":"<p>Yes, you need to close <code>Connection</code>. Otherwise, the database client will typically keep the socket connection and other resources open.</p>\n"},{"tags":[],"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1265666786,"creation_date":1265666786,"answer_id":2225242,"question_id":2225221,"body_markdown":"Yes. You need to close the resultset, the statement and the connection. If the connection has come from a pool, closing it actually sends it back to the pool for reuse.\r\n\r\nYou typically have to do this in a `finally{}` block, such that if an exception is thrown, you still get the chance to close this. \r\n\r\nMany frameworks will look after this resource allocation/deallocation issue for you. e.g. Spring&#39;s [JdbcTemplate][1]. [Apache DbUtils][2] has methods to look after closing the resultset/statement/connection whether null or not (and catching exceptions upon closing), which may also help.\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/2.0.8/api/org/springframework/jdbc/core/JdbcTemplate.html\r\n  [2]: http://commons.apache.org/dbutils/","title":"Closing database connections in Java","body":"<p>Yes. You need to close the resultset, the statement and the connection. If the connection has come from a pool, closing it actually sends it back to the pool for reuse.</p>\n\n<p>You typically have to do this in a <code>finally{}</code> block, such that if an exception is thrown, you still get the chance to close this. </p>\n\n<p>Many frameworks will look after this resource allocation/deallocation issue for you. e.g. Spring's <a href=\"http://static.springsource.org/spring/docs/2.0.8/api/org/springframework/jdbc/core/JdbcTemplate.html\" rel=\"noreferrer\">JdbcTemplate</a>. <a href=\"http://commons.apache.org/dbutils/\" rel=\"noreferrer\">Apache DbUtils</a> has methods to look after closing the resultset/statement/connection whether null or not (and catching exceptions upon closing), which may also help.</p>\n"},{"tags":[],"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"down_vote_count":1,"up_vote_count":226,"is_accepted":true,"score":225,"last_activity_date":1612613194,"creation_date":1265667247,"answer_id":2225275,"question_id":2225221,"body_markdown":"When you are done with using your `Connection`, you need to explicitly close it by calling its `close()` method in order to release any other database resources (cursors, handles, etc.) the connection may be holding on to.\r\n\r\nActually, the safe pattern in Java is to close your `ResultSet`, `Statement`, and `Connection` (in that order) in a `finally` block when you are done with them. Something like this:\r\n\r\n    Connection conn = null;\r\n    PreparedStatement ps = null;\r\n    ResultSet rs = null;\r\n\r\n    try {\r\n        // Do stuff\r\n        ...\r\n\r\n    } catch (SQLException ex) {\r\n        // Exception handling stuff\r\n        ...\r\n    } finally {\r\n        if (rs != null) {\r\n            try {\r\n                rs.close();\r\n            } catch (SQLException e) { /* Ignored */}\r\n        }\r\n        if (ps != null) {\r\n            try {\r\n                ps.close();\r\n            } catch (SQLException e) { /* Ignored */}\r\n        }\r\n        if (conn != null) {\r\n            try {\r\n                conn.close();\r\n            } catch (SQLException e) { /* Ignored */}\r\n        }\r\n    }\r\n\r\nThe `finally` block can be slightly improved into (to avoid the null check):\r\n\r\n    } finally {\r\n        try { rs.close(); } catch (Exception e) { /* Ignored */ }\r\n        try { ps.close(); } catch (Exception e) { /* Ignored */ }\r\n        try { conn.close(); } catch (Exception e) { /* Ignored */ }\r\n    }\r\n\r\nBut, still, this is extremely verbose so you generally end up using an helper class to close the objects in null-safe helper methods and the `finally` block becomes something like this:\r\n\r\n    } finally {\r\n        DbUtils.closeQuietly(rs);\r\n        DbUtils.closeQuietly(ps);\r\n        DbUtils.closeQuietly(conn);\r\n    }\r\n\r\nAnd, actually, the [Apache Commons DbUtils][1] has a [`DbUtils`][2] class which is precisely doing that, so there isn&#39;t any need to write your own.\r\n\r\n  [1]: http://commons.apache.org/dbutils/\r\n  [2]: http://commons.apache.org/dbutils/apidocs/org/apache/commons/dbutils/DbUtils.html\r\n\r\n\r\n\r\n","title":"Closing database connections in Java","body":"<p>When you are done with using your <code>Connection</code>, you need to explicitly close it by calling its <code>close()</code> method in order to release any other database resources (cursors, handles, etc.) the connection may be holding on to.</p>\n<p>Actually, the safe pattern in Java is to close your <code>ResultSet</code>, <code>Statement</code>, and <code>Connection</code> (in that order) in a <code>finally</code> block when you are done with them. Something like this:</p>\n<pre><code>Connection conn = null;\nPreparedStatement ps = null;\nResultSet rs = null;\n\ntry {\n    // Do stuff\n    ...\n\n} catch (SQLException ex) {\n    // Exception handling stuff\n    ...\n} finally {\n    if (rs != null) {\n        try {\n            rs.close();\n        } catch (SQLException e) { /* Ignored */}\n    }\n    if (ps != null) {\n        try {\n            ps.close();\n        } catch (SQLException e) { /* Ignored */}\n    }\n    if (conn != null) {\n        try {\n            conn.close();\n        } catch (SQLException e) { /* Ignored */}\n    }\n}\n</code></pre>\n<p>The <code>finally</code> block can be slightly improved into (to avoid the null check):</p>\n<pre><code>} finally {\n    try { rs.close(); } catch (Exception e) { /* Ignored */ }\n    try { ps.close(); } catch (Exception e) { /* Ignored */ }\n    try { conn.close(); } catch (Exception e) { /* Ignored */ }\n}\n</code></pre>\n<p>But, still, this is extremely verbose so you generally end up using an helper class to close the objects in null-safe helper methods and the <code>finally</code> block becomes something like this:</p>\n<pre><code>} finally {\n    DbUtils.closeQuietly(rs);\n    DbUtils.closeQuietly(ps);\n    DbUtils.closeQuietly(conn);\n}\n</code></pre>\n<p>And, actually, the <a href=\"http://commons.apache.org/dbutils/\" rel=\"noreferrer\">Apache Commons DbUtils</a> has a <a href=\"http://commons.apache.org/dbutils/apidocs/org/apache/commons/dbutils/DbUtils.html\" rel=\"noreferrer\"><code>DbUtils</code></a> class which is precisely doing that, so there isn't any need to write your own.</p>\n"},{"tags":[],"owner":{"account_id":1412473,"reputation":2628,"user_id":1338803,"display_name":"Grigori A."},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1612613557,"creation_date":1357420706,"answer_id":14176504,"question_id":2225221,"body_markdown":"It is enough to close just `Statement` and `Connection`. There is no need to explicitly close the `ResultSet` object.\r\n\r\nJava documentation says about `java.sql.ResultSet`: \r\n\r\n&gt; A ResultSet object is automatically closed by the Statement object that generated it when that Statement object is closed, re-executed, or is used to retrieve the next result from a sequence of multiple results.\r\n\r\n----------\r\n\r\nThanks [BalusC for comments][1]: **&quot;I wouldn&#39;t rely on that. Some JDBC drivers fail on that.&quot;** \r\n\r\n  [1]: https://stackoverflow.com/questions/2225221/closing-database-connections-in-java#comment19645728_14176504\r\n","title":"Closing database connections in Java","body":"<p>It is enough to close just <code>Statement</code> and <code>Connection</code>. There is no need to explicitly close the <code>ResultSet</code> object.</p>\n<p>Java documentation says about <code>java.sql.ResultSet</code>:</p>\n<blockquote>\n<p>A ResultSet object is automatically closed by the Statement object that generated it when that Statement object is closed, re-executed, or is used to retrieve the next result from a sequence of multiple results.</p>\n</blockquote>\n<hr />\n<p>Thanks <a href=\"https://stackoverflow.com/questions/2225221/closing-database-connections-in-java#comment19645728_14176504\">BalusC for comments</a>: <strong>&quot;I wouldn't rely on that. Some JDBC drivers fail on that.&quot;</strong></p>\n"},{"tags":[],"owner":{"account_id":875673,"reputation":3492,"user_id":925369,"accept_rate":62,"display_name":"Yadu Krishnan"},"down_vote_count":0,"up_vote_count":73,"is_accepted":false,"score":73,"last_activity_date":1612613756,"creation_date":1367477190,"answer_id":16331963,"question_id":2225221,"body_markdown":"It is always better to close the database/resource objects after usage.\r\nBetter close the connection, resultset and statement objects in the `finally` block.\r\n\r\nUntil Java 7, all these resources need to be closed using a `finally` block. If you are using Java 7, then for closing the resources, you can do as follows.\r\n\r\n    try(Connection con = getConnection(url, username, password, &quot;org.postgresql.Driver&quot;);\r\n        Statement stmt = con.createStatement();\r\n        ResultSet rs = stmt.executeQuery(sql);\r\n    ) {\r\n\r\n        // Statements\r\n    }\r\n    catch(....){}\r\n\r\nNow, the `con`, `stmt` and `rs` objects become part of try block and Java automatically closes these resources after use.\r\n","title":"Closing database connections in Java","body":"<p>It is always better to close the database/resource objects after usage.\nBetter close the connection, resultset and statement objects in the <code>finally</code> block.</p>\n<p>Until Java 7, all these resources need to be closed using a <code>finally</code> block. If you are using Java 7, then for closing the resources, you can do as follows.</p>\n<pre><code>try(Connection con = getConnection(url, username, password, &quot;org.postgresql.Driver&quot;);\n    Statement stmt = con.createStatement();\n    ResultSet rs = stmt.executeQuery(sql);\n) {\n\n    // Statements\n}\ncatch(....){}\n</code></pre>\n<p>Now, the <code>con</code>, <code>stmt</code> and <code>rs</code> objects become part of try block and Java automatically closes these resources after use.</p>\n"},{"tags":[],"owner":{"account_id":5891668,"reputation":386,"user_id":4771193,"accept_rate":80,"display_name":"Joe"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1612614054,"creation_date":1505321418,"answer_id":46202987,"question_id":2225221,"body_markdown":"Actually, it is best if you use a [try-with-resources block][1] and Java will close all of the connections for you when you exit the try block.\r\n\r\nYou should do this with any object that implements AutoClosable.\r\n\r\n    try (Connection connection = getDatabaseConnection(); Statement statement = connection.createStatement()) {\r\n        String sqlToExecute = &quot;SELECT * FROM persons&quot;;\r\n        try (ResultSet resultSet = statement.execute(sqlToExecute)) {\r\n            if (resultSet.next()) {\r\n                System.out.println(resultSet.getString(&quot;name&quot;);\r\n            }\r\n        }\r\n    } catch (SQLException e) {\r\n        System.out.println(&quot;Failed to select persons.&quot;);\r\n    }\r\n\r\nThe call to getDatabaseConnection is just made up.  Replace it with a call that gets you a JDBC SQL connection or a connection from a pool.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_syntax#try-with-resources_statements\r\n\r\n","title":"Closing database connections in Java","body":"<p>Actually, it is best if you use a <a href=\"https://en.wikipedia.org/wiki/Java_syntax#try-with-resources_statements\" rel=\"noreferrer\">try-with-resources block</a> and Java will close all of the connections for you when you exit the try block.</p>\n<p>You should do this with any object that implements AutoClosable.</p>\n<pre><code>try (Connection connection = getDatabaseConnection(); Statement statement = connection.createStatement()) {\n    String sqlToExecute = &quot;SELECT * FROM persons&quot;;\n    try (ResultSet resultSet = statement.execute(sqlToExecute)) {\n        if (resultSet.next()) {\n            System.out.println(resultSet.getString(&quot;name&quot;);\n        }\n    }\n} catch (SQLException e) {\n    System.out.println(&quot;Failed to select persons.&quot;);\n}\n</code></pre>\n<p>The call to getDatabaseConnection is just made up.  Replace it with a call that gets you a JDBC SQL connection or a connection from a pool.</p>\n"},{"tags":[],"owner":{"account_id":11671423,"reputation":7825,"user_id":8546367,"display_name":"reka18"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643910869,"creation_date":1643910869,"answer_id":70976022,"question_id":2225221,"body_markdown":"Even better would be to use a Try With Resources block\r\n\r\n    try (Connection connection = DriverManager.getConnection(connectionStr, username, password)) {\r\n        try (PreparedStatement statement = connection.prepareStatement(query)) {\r\n            statement.setFetchSize(100);\r\n            try (ResultSet resultSet = statement.executeQuery()) {\r\n                List&lt;String&gt; results = new ArrayList&lt;&gt;();\r\n                while (resultSet.next()) {\r\n                    String value = resultSet.getString(1);\r\n                    results.add(value);\r\n                    System.out.println(value);\r\n                }\r\n                return results;\r\n            }\r\n        }\r\n    }","title":"Closing database connections in Java","body":"<p>Even better would be to use a Try With Resources block</p>\n<pre><code>try (Connection connection = DriverManager.getConnection(connectionStr, username, password)) {\n    try (PreparedStatement statement = connection.prepareStatement(query)) {\n        statement.setFetchSize(100);\n        try (ResultSet resultSet = statement.executeQuery()) {\n            List&lt;String&gt; results = new ArrayList&lt;&gt;();\n            while (resultSet.next()) {\n                String value = resultSet.getString(1);\n                results.add(value);\n                System.out.println(value);\n            }\n            return results;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":87140,"reputation":5751,"user_id":241852,"accept_rate":73,"display_name":"onaclov2000"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":373401,"favorite_count":0,"down_vote_count":1,"up_vote_count":142,"accepted_answer_id":2225275,"answer_count":7,"score":141,"last_activity_date":1643910869,"creation_date":1265666588,"question_id":2225221,"body_markdown":"I am getting a little confused. I was reading the below from *[Java Database Connectivity][1]*:\r\n\r\n    Connection conn = DriverManager.getConnection(\r\n         &quot;jdbc:somejdbcvendor:other data needed by some jdbc vendor&quot;,\r\n         &quot;myLogin&quot;,\r\n         &quot;myPassword&quot; );\r\n\r\n    Statement stmt = conn.createStatement();\r\n    try {\r\n        stmt.executeUpdate( &quot;INSERT INTO MyTable( name ) VALUES ( &#39;my name&#39; ) &quot; );\r\n    } finally {\r\n        // It&#39;s important to close the statement when you are done with it\r\n        stmt.close();\r\n    }\r\n\r\nDo you not need to close the `conn` connection?\r\nWhat is really happening if the conn.close() doesn&#39;t occur?\r\n\r\nI have a private web application I&#39;m maintaining that doesn&#39;t currently close either form, but is the important one really the `stmt` one, the `conn` one, or both?\r\n\r\nThe site keeps going down intermittently, but the server keeps saying it&#39;s a database connection issue. My suspicion is that it&#39;s not being closed, but I don&#39;t know which, if any, to close.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Java_Database_Connectivity\r\n\r\n\r\n\r\n","title":"Closing database connections in Java","body":"<p>I am getting a little confused. I was reading the below from <em><a href=\"http://en.wikipedia.org/wiki/Java_Database_Connectivity\" rel=\"noreferrer\">Java Database Connectivity</a></em>:</p>\n<pre><code>Connection conn = DriverManager.getConnection(\n     &quot;jdbc:somejdbcvendor:other data needed by some jdbc vendor&quot;,\n     &quot;myLogin&quot;,\n     &quot;myPassword&quot; );\n\nStatement stmt = conn.createStatement();\ntry {\n    stmt.executeUpdate( &quot;INSERT INTO MyTable( name ) VALUES ( 'my name' ) &quot; );\n} finally {\n    // It's important to close the statement when you are done with it\n    stmt.close();\n}\n</code></pre>\n<p>Do you not need to close the <code>conn</code> connection?\nWhat is really happening if the conn.close() doesn't occur?</p>\n<p>I have a private web application I'm maintaining that doesn't currently close either form, but is the important one really the <code>stmt</code> one, the <code>conn</code> one, or both?</p>\n<p>The site keeps going down intermittently, but the server keeps saying it's a database connection issue. My suspicion is that it's not being closed, but I don't know which, if any, to close.</p>\n"},{"tags":["java","selenium","testng","bdd","qaf"],"answers":[{"tags":[],"owner":{"account_id":460481,"reputation":5813,"user_id":861594,"display_name":"user861594"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643910834,"creation_date":1643905102,"answer_id":70974738,"question_id":70974590,"body_markdown":"Looks like version compatibility issue. Use latest version of qaf `3.1.0-RC2` with testng `7.4.0`.\r\n\r\nUpdating version will fix above error, still you will see issue related to step. The reason is following steps:\r\n\r\n```\r\n@QAFTestStep(description=&quot;click on Google Search button&quot;) //missing argument placeholder \r\n   public void clickOnGoogleSearchButton(List&lt;String&gt; s) {\r\n      System.out.printf(&quot;List: %s\\n&quot;, s);\r\n   }\r\n           \r\n@QAFTestStep(description=&quot;search result page should generate&quot;)//missing argument placeholder\r\n   public void searcgResultsShouldPopulate(List&lt;String&gt; s) {\r\n      System.out.printf(&quot;List: %s\\n&quot;, s);\r\n   }\r\n```\r\nIf your step (method) has arguments, step description need to have argument placeholder and those arguments needs to be passed where step called. See the example below:\r\n```\r\n@QAFTestStep(description=&quot;click on Google Search button&quot;)\r\n   public void clickOnGoogleSearchButton() {\r\n      System.out.printf(&quot;clickOnGoogleSearchButton&quot;);\r\n   }\r\n           \r\n@QAFTestStep(description=&quot;search result page should generate {results}&quot;)\r\n   public void searcgResultsShouldPopulate(List&lt;String&gt; s) {\r\n      System.out.printf(&quot;List: %s\\n&quot;, s);\r\n   }\r\n```\r\nfeature file:\r\n\r\n```\r\nFeature: Text box validation\r\n\r\nScenario: Validate google search text box\r\n\r\n   Given user is on google Web Page\r\n   When user enters text &#39;DNA&#39; in google search box\r\n   And click on Google Search button\r\n   Then search result page should generate [&quot;a&quot;,&quot;b&quot;,&quot;c&quot;]\r\n```","title":"java.lang.NoClassDefFoundError: org/testng/IAnnotationTransformer2","body":"<p>Looks like version compatibility issue. Use latest version of qaf <code>3.1.0-RC2</code> with testng <code>7.4.0</code>.</p>\n<p>Updating version will fix above error, still you will see issue related to step. The reason is following steps:</p>\n<pre><code>@QAFTestStep(description=&quot;click on Google Search button&quot;) //missing argument placeholder \n   public void clickOnGoogleSearchButton(List&lt;String&gt; s) {\n      System.out.printf(&quot;List: %s\\n&quot;, s);\n   }\n           \n@QAFTestStep(description=&quot;search result page should generate&quot;)//missing argument placeholder\n   public void searcgResultsShouldPopulate(List&lt;String&gt; s) {\n      System.out.printf(&quot;List: %s\\n&quot;, s);\n   }\n</code></pre>\n<p>If your step (method) has arguments, step description need to have argument placeholder and those arguments needs to be passed where step called. See the example below:</p>\n<pre><code>@QAFTestStep(description=&quot;click on Google Search button&quot;)\n   public void clickOnGoogleSearchButton() {\n      System.out.printf(&quot;clickOnGoogleSearchButton&quot;);\n   }\n           \n@QAFTestStep(description=&quot;search result page should generate {results}&quot;)\n   public void searcgResultsShouldPopulate(List&lt;String&gt; s) {\n      System.out.printf(&quot;List: %s\\n&quot;, s);\n   }\n</code></pre>\n<p>feature file:</p>\n<pre><code>Feature: Text box validation\n\nScenario: Validate google search text box\n\n   Given user is on google Web Page\n   When user enters text 'DNA' in google search box\n   And click on Google Search button\n   Then search result page should generate [&quot;a&quot;,&quot;b&quot;,&quot;c&quot;]\n</code></pre>\n"}],"owner":{"account_id":24145927,"reputation":23,"user_id":18111529,"display_name":"TechService"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":401,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70974738,"answer_count":1,"score":1,"last_activity_date":1643910834,"creation_date":1643904498,"question_id":70974590,"body_markdown":"\r\nI am getting the following error while runing testng config for QAFTestSteps: \r\n\r\nError shown\r\n\r\n    [RemoteTestNG] detected TestNG version 7.5.0\r\n    log4j:WARN No such property [follow] in org.apache.log4j.FileAppender.\r\n    java.lang.NoClassDefFoundError: org/testng/IAnnotationTransformer2\r\n            at java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n            at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1010)\r\n            at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\r\n            at \r\n    java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:855)\r\n\r\nStep Definitions\r\n\r\n    import java.util.List;\r\n    \r\n    \r\n    import com.qmetry.qaf.automation.step.QAFTestStep;\r\n    \r\n    public class GoogleSearchSteps {\r\n       \r\n       \r\n                @QAFTestStep(description = &quot;user is on google Web Page&quot;)\r\n                public void step1() {\r\n                        System.out.println(&quot;I am on Google Search Page&quot;);\r\n\r\n                }\r\n\r\n                @QAFTestStep(description = &quot;user enters text {strText} in google search box&quot;)\r\n                public void iSearchFor(String strText) {\r\n                        System.out.println(&quot;I search for &quot; + strText);\r\n\r\n                }\r\n\r\n                @QAFTestStep(description=&quot;click on Google Search button&quot;)\r\n                public void clickOnGoogleSearchButton(List&lt;String&gt; s) {\r\n                        System.out.printf(&quot;List: %s\\n&quot;, s);\r\n\r\n                }\r\n               \r\n                @QAFTestStep(description=&quot;search result page should generate&quot;)\r\n                public void searcgResultsShouldPopulate(List&lt;String&gt; s) {\r\n                        System.out.printf(&quot;List: %s\\n&quot;, s);\r\n\r\n                }\r\n            \r\n}\r\n\r\n\r\nFeature file\r\n\r\n```\r\nFeature: Text box validation\r\n\r\nScenario: Validate google search text box\r\n\r\n   Given user is on google Web Page\r\n   When user enters text &#39;DNA&#39; in google search box\r\n   And click on Google Search button\r\n   Then search result page should generate\r\n```\r\n\r\nTestng Config for Test Execution\r\n\r\n    &lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\r\n    &lt;suite name=&quot;QAF Demo&quot; verbose=&quot;0&quot;&gt;\r\n    &lt;test name=&quot;Gherkin-QAF-Test&quot;&gt;\r\n       &lt;parameter name=&quot;step.provider.pkg&quot; value=&quot;com.qmetry.qaf.automation.impl.step.qaf;&quot; /&gt;\r\n       &lt;parameter name=&quot;scenario.file.loc&quot; value=&quot;scenarios/searchtext.feature&quot; /&gt;\r\n       &lt;classes&gt;\r\n          &lt;class name=&quot;com.qmetry.qaf.automation.step.client.gherkin.GherkinScenarioFactory&quot; /&gt;\r\n       &lt;/classes&gt;\r\n    &lt;/test&gt;\r\n    &lt;/suite&gt;\r\n\r\n","title":"java.lang.NoClassDefFoundError: org/testng/IAnnotationTransformer2","body":"<p>I am getting the following error while runing testng config for QAFTestSteps:</p>\n<p>Error shown</p>\n<pre><code>[RemoteTestNG] detected TestNG version 7.5.0\nlog4j:WARN No such property [follow] in org.apache.log4j.FileAppender.\njava.lang.NoClassDefFoundError: org/testng/IAnnotationTransformer2\n        at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n        at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1010)\n        at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\n        at \njava.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:855)\n</code></pre>\n<p>Step Definitions</p>\n<pre><code>import java.util.List;\n\n\nimport com.qmetry.qaf.automation.step.QAFTestStep;\n\npublic class GoogleSearchSteps {\n   \n   \n            @QAFTestStep(description = &quot;user is on google Web Page&quot;)\n            public void step1() {\n                    System.out.println(&quot;I am on Google Search Page&quot;);\n\n            }\n\n            @QAFTestStep(description = &quot;user enters text {strText} in google search box&quot;)\n            public void iSearchFor(String strText) {\n                    System.out.println(&quot;I search for &quot; + strText);\n\n            }\n\n            @QAFTestStep(description=&quot;click on Google Search button&quot;)\n            public void clickOnGoogleSearchButton(List&lt;String&gt; s) {\n                    System.out.printf(&quot;List: %s\\n&quot;, s);\n\n            }\n           \n            @QAFTestStep(description=&quot;search result page should generate&quot;)\n            public void searcgResultsShouldPopulate(List&lt;String&gt; s) {\n                    System.out.printf(&quot;List: %s\\n&quot;, s);\n\n            }\n        \n</code></pre>\n<p>}</p>\n<p>Feature file</p>\n<pre><code>Feature: Text box validation\n\nScenario: Validate google search text box\n\n   Given user is on google Web Page\n   When user enters text 'DNA' in google search box\n   And click on Google Search button\n   Then search result page should generate\n</code></pre>\n<p>Testng Config for Test Execution</p>\n<pre><code>&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\n&lt;suite name=&quot;QAF Demo&quot; verbose=&quot;0&quot;&gt;\n&lt;test name=&quot;Gherkin-QAF-Test&quot;&gt;\n   &lt;parameter name=&quot;step.provider.pkg&quot; value=&quot;com.qmetry.qaf.automation.impl.step.qaf;&quot; /&gt;\n   &lt;parameter name=&quot;scenario.file.loc&quot; value=&quot;scenarios/searchtext.feature&quot; /&gt;\n   &lt;classes&gt;\n      &lt;class name=&quot;com.qmetry.qaf.automation.step.client.gherkin.GherkinScenarioFactory&quot; /&gt;\n   &lt;/classes&gt;\n&lt;/test&gt;\n&lt;/suite&gt;\n</code></pre>\n"},{"tags":["java","google-cloud-platform","google-kubernetes-engine","google-cloud-pubsub","spring-cloud-stream"],"comments":[{"owner":{"account_id":7248598,"reputation":11598,"user_id":5529712,"display_name":"Gari Singh"},"score":0,"creation_date":1638350400,"post_id":70181405,"comment_id":124062274,"body_markdown":"Are both the GKE cluster and PubSub instance in the same GCP Project? \nAssuming they are, you might want to remove the `spring.cloud.gcp.pubsub.project-id` from your properties file","body":"Are both the GKE cluster and PubSub instance in the same GCP Project?  Assuming they are, you might want to remove the <code>spring.cloud.gcp.pubsub.project-id</code> from your properties file"},{"owner":{"account_id":6797127,"reputation":2184,"user_id":7690799,"display_name":"skaul05"},"score":0,"creation_date":1638352559,"post_id":70181405,"comment_id":124063134,"body_markdown":"@GariSingh Yes both are in same project and removing project id also gives same error","body":"@GariSingh Yes both are in same project and removing project id also gives same error"}],"owner":{"account_id":6797127,"reputation":2184,"user_id":7690799,"display_name":"skaul05"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":339,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1643910599,"creation_date":1638349031,"question_id":70181405,"body_markdown":"I am using Spring Cloud Stream and trying to deploy it onto GKE and connect it to PubSub to send messages. Application works perfectly fine locally, sending messages to a specific topic on GCP but once deployed on GKE, I get following error:\r\n\r\n```\r\nERROR 1 --- [ main] o.s.cloud.stream.binding.BindingService : Failed to create producer binding; retrying in 30 seconds\r\n```\r\n\r\n`\r\norg.springframework.cloud.stream.binder.BinderException: Exception thrown while building outbound endpoint at org.springframework.cloud.stream.binder.AbstractMessageChannelBinder.doBindProducer(AbstractMessageChannelBinder.java:241) ~[spring-cloud-stream-3.1.3.jar!/:3.1.3] at org.springframework.cloud.stream.binder.AbstractMessageChannelBinder.doBindProducer(AbstractMessageChannelBinder.java:91) ~[spring-cloud-stream-3.1.3.jar!/:3.1.3] at org.springframework.cloud.stream.binder.AbstractBinder.bindProducer(AbstractBinder.java:152) ~[spring-cloud-stream-3.1.3.jar!/:3.1.3] at org.springframework.cloud.stream.binding.BindingService.doBindProducer(BindingService.java:320) [spring-cloud-stream-3.1.3.jar!/:3.1.3] at org.springframework.cloud.stream.binding.BindingService.bindProducer(BindingService.java:285) [spring-cloud-stream-3.1.3.jar!/:3.1.3] at org.springframework.cloud.stream.binding.BindingService.bindProducer(BindingService.java:294) [spring-cloud-stream-3.1.3.jar!/:3.1.3] at org.springframework.cloud.stream.binding.BindingService.bindProducer(BindingService.java:298) [spring-cloud-stream-3.1.3.jar!/:3.1.3] at org.springframework.cloud.stream.binding.AbstractBindableProxyFactory.createAndBindOutputs(AbstractBindableProxyFactory.java:142) [spring-cloud-stream-3.1.3.jar!/:3.1.3] at org.springframework.cloud.stream.binding.OutputBindingLifecycle.doStartWithBindable(OutputBindingLifecycle.java:58) [spring-cloud-stream-3.1.3.jar!/:3.1.3] at java.util.LinkedHashMap$LinkedValues.forEach(LinkedHashMap.java:608) ~[na:1.8.0_275] at org.springframework.cloud.stream.binding.AbstractBindingLifecycle.start(AbstractBindingLifecycle.java:57) ~[spring-cloud-stream-3.1.3.jar!/:3.1.3] at org.springframework.cloud.stream.binding.OutputBindingLifecycle.start(OutputBindingLifecycle.java:34) [spring-cloud-stream-3.1.3.jar!/:3.1.3] at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.9.jar!/:5.3.9] at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54) ~[spring-context-5.3.9.jar!/:5.3.9] at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356) ~[spring-context-5.3.9.jar!/:5.3.9] at java.lang.Iterable.forEach(Iterable.java:75) ~[na:1.8.0_275] at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155) ~[spring-context-5.3.9.jar!/:5.3.9] at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123) ~[spring-context-5.3.9.jar!/:5.3.9] at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:935) ~[spring-context-5.3.9.jar!/:5.3.9] at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586) ~[spring-context-5.3.9.jar!/:5.3.9] at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.5.4.jar!/:2.5.4] at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.4.jar!/:2.5.4] at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-2.5.4.jar!/:2.5.4] at org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.4.jar!/:2.5.4] at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.4.jar!/:2.5.4] at org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.4.jar!/:2.5.4] at com.pubsub.sender.SenderApplication.main(SenderApplication.java:12) ~[classes!/:0.0.1-SNAPSHOT] at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_275] at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_275] at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_275] at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_275] at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[app.jar:0.0.1-SNAPSHOT] at org.springframework.boot.loader.Launcher.launch(Launcher.java:108) ~[app.jar:0.0.1-SNAPSHOT] at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[app.jar:0.0.1-SNAPSHOT] at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88) ~[app.jar:0.0.1-SNAPSHOT] Caused by: com.google.api.gax.rpc.PermissionDeniedException: io.grpc.StatusRuntimeException: PERMISSION_DENIED: User not authorized to perform this action. at com.google.api.gax.rpc.ApiExceptionFactory.createException(ApiExceptionFactory.java:55) ~[gax-1.60.1.jar!/:1.60.1] at com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:72) ~[gax-grpc-1.60.1.jar!/:1.60.1] at com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:60) ~[gax-grpc-1.60.1.jar!/:1.60.1] at com.google.api.gax.grpc.GrpcExceptionCallable$ExceptionTransformingFuture.onFailure(GrpcExceptionCallable.java:97) ~[gax-grpc-1.60.1.jar!/:1.60.1] at com.google.api.core.ApiFutures$1.onFailure(ApiFutures.java:68) ~[api-common-1.10.1.jar!/:na] at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1074) ~[guava-30.0-jre.jar!/:na] at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:30) ~[guava-30.0-jre.jar!/:na] at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1213) ~[guava-30.0-jre.jar!/:na] at com.google.common.util.concurrent.AbstractFuture.complete(AbstractFuture.java:983) ~[guava-30.0-jre.jar!/:na] at com.google.common.util.concurrent.AbstractFuture.setException(AbstractFuture.java:771) ~[guava-30.0-jre.jar!/:na] at io.grpc.stub.ClientCalls$GrpcFuture.setException(ClientCalls.java:563) ~[grpc-stub-1.34.1.jar!/:1.34.1] at io.grpc.stub.ClientCalls$UnaryStreamToFuture.onClose(ClientCalls.java:533) ~[grpc-stub-1.34.1.jar!/:1.34.1] at io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:464) ~[grpc-core-1.34.1.jar!/:1.34.1] at io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:428) ~[grpc-core-1.34.1.jar!/:1.34.1] at io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:461) ~[grpc-core-1.34.1.jar!/:1.34.1] at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:617) ~[grpc-core-1.34.1.jar!/:1.34.1] at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70) ~[grpc-core-1.34.1.jar!/:1.34.1] at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:803) ~[grpc-core-1.34.1.jar!/:1.34.1] at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:782) ~[grpc-core-1.34.1.jar!/:1.34.1] at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.34.1.jar!/:1.34.1] at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123) ~[grpc-core-1.34.1.jar!/:1.34.1] at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[na:1.8.0_275] at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_275] at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) ~[na:1.8.0_275] at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) ~[na:1.8.0_275] at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_275] at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_275] at java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_275] Suppressed: com.google.api.gax.rpc.AsyncTaskException: Asynchronous task failed at com.google.api.gax.rpc.ApiExceptions.callAndTranslateApiException(ApiExceptions.java:57) ~[gax-1.60.1.jar!/:1.60.1] at com.google.api.gax.rpc.UnaryCallable.call(UnaryCallable.java:112) ~[gax-1.60.1.jar!/:1.60.1] at com.google.cloud.pubsub.v1.TopicAdminClient.getTopic(TopicAdminClient.java:567) ~[google-cloud-pubsub-1.110.1.jar!/:1.110.1] at com.google.cloud.pubsub.v1.TopicAdminClient.getTopic(TopicAdminClient.java:498) ~[google-cloud-pubsub-1.110.1.jar!/:1.110.1] at org.springframework.cloud.gcp.pubsub.PubSubAdmin.getTopic(PubSubAdmin.java:123) ~[spring-cloud-gcp-pubsub-1.2.8.RELEASE.jar!/:1.2.8.RELEASE] at org.springframework.cloud.gcp.stream.binder.pubsub.provisioning.PubSubChannelProvisioner.ensureTopicExists(PubSubChannelProvisioner.java:119) ~[spring-cloud-gcp-pubsub-stream-binder-1.2.8.RELEASE.jar!/:1.2.8.RELEASE] at org.springframework.cloud.gcp.stream.binder.pubsub.provisioning.PubSubChannelProvisioner.provisionProducerDestination(PubSubChannelProvisioner.java:65) ~[spring-cloud-gcp-pubsub-stream-binder-1.2.8.RELEASE.jar!/:1.2.8.RELEASE] at org.springframework.cloud.gcp.stream.binder.pubsub.provisioning.PubSubChannelProvisioner.provisionProducerDestination(PubSubChannelProvisioner.java:48) ~[spring-cloud-gcp-pubsub-stream-binder-1.2.8.RELEASE.jar!/:1.2.8.RELEASE] at org.springframework.cloud.stream.binder.AbstractMessageChannelBinder.doBindProducer(AbstractMessageChannelBinder.java:223) ~[spring-cloud-stream-3.1.3.jar!/:3.1.3] at org.springframework.cloud.stream.binder.AbstractMessageChannelBinder.doBindProducer(AbstractMessageChannelBinder.java:91) ~[spring-cloud-stream-3.1.3.jar!/:3.1.3] at org.springframework.cloud.stream.binder.AbstractBinder.bindProducer(AbstractBinder.java:152) ~[spring-cloud-stream-3.1.3.jar!/:3.1.3] at org.springframework.cloud.stream.binding.BindingService.doBindProducer(BindingService.java:320) [spring-cloud-stream-3.1.3.jar!/:3.1.3] at org.springframework.cloud.stream.binding.BindingService.bindProducer(BindingService.java:285) [spring-cloud-stream-3.1.3.jar!/:3.1.3] at org.springframework.cloud.stream.binding.BindingService.bindProducer(BindingService.java:294) [spring-cloud-stream-3.1.3.jar!/:3.1.3] at org.springframework.cloud.stream.binding.BindingService.bindProducer(BindingService.java:298) [spring-cloud-stream-3.1.3.jar!/:3.1.3] at org.springframework.cloud.stream.binding.AbstractBindableProxyFactory.createAndBindOutputs(AbstractBindableProxyFactory.java:142) [spring-cloud-stream-3.1.3.jar!/:3.1.3] at org.springframework.cloud.stream.binding.OutputBindingLifecycle.doStartWithBindable(OutputBindingLifecycle.java:58) [spring-cloud-stream-3.1.3.jar!/:3.1.3] at java.util.LinkedHashMap$LinkedValues.forEach(LinkedHashMap.java:608) ~[na:1.8.0_275] at org.springframework.cloud.stream.binding.AbstractBindingLifecycle.start(AbstractBindingLifecycle.java:57) ~[spring-cloud-stream-3.1.3.jar!/:3.1.3] at org.springframework.cloud.stream.binding.OutputBindingLifecycle.start(OutputBindingLifecycle.java:34) [spring-cloud-stream-3.1.3.jar!/:3.1.3] at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.9.jar!/:5.3.9] at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54) ~[spring-context-5.3.9.jar!/:5.3.9] at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356) ~[spring-context-5.3.9.jar!/:5.3.9] at java.lang.Iterable.forEach(Iterable.java:75) ~[na:1.8.0_275] at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155) ~[spring-context-5.3.9.jar!/:5.3.9] at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123) ~[spring-context-5.3.9.jar!/:5.3.9] at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:935) ~[spring-context-5.3.9.jar!/:5.3.9] at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586) ~[spring-context-5.3.9.jar!/:5.3.9] at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.5.4.jar!/:2.5.4] at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.4.jar!/:2.5.4] at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-2.5.4.jar!/:2.5.4] at org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.4.jar!/:2.5.4] at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.4.jar!/:2.5.4] at org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.4.jar!/:2.5.4] at com.pubsub.sender.SenderApplication.main(SenderApplication.java:12) ~[classes!/:0.0.1-SNAPSHOT] at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_275] at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_275] at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_275] at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_275] at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[app.jar:0.0.1-SNAPSHOT] at org.springframework.boot.loader.Launcher.launch(Launcher.java:108) ~[app.jar:0.0.1-SNAPSHOT] at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[app.jar:0.0.1-SNAPSHOT] at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88) ~[app.jar:0.0.1-SNAPSHOT] Caused by: io.grpc.StatusRuntimeException: PERMISSION_DENIED: User not authorized to perform this action. at io.grpc.Status.asRuntimeException(Status.java:533) ~[grpc-api-1.34.1.jar!/:1.34.1] ... 17 common frames omitted\r\n`\r\n\r\n\r\n\r\n`application.properties` file\r\n\r\n```\r\nspring.cloud.stream.bindings.outgoing.destination=test\r\nspring.cloud.gcp.pubsub.project-id=GCP_PROJECT_ID\r\n```\r\n\r\nSpringBoot Application uses workload identity and Service Account annotated with it has `Publisher` and `Subscriber` Roles applied.","title":"PubSub GKE Connectivity Issue - Failed to create producer binding; retrying in 30 seconds","body":"<p>I am using Spring Cloud Stream and trying to deploy it onto GKE and connect it to PubSub to send messages. Application works perfectly fine locally, sending messages to a specific topic on GCP but once deployed on GKE, I get following error:</p>\n<pre><code>ERROR 1 --- [ main] o.s.cloud.stream.binding.BindingService : Failed to create producer binding; retrying in 30 seconds\n</code></pre>\n<p><code>org.springframework.cloud.stream.binder.BinderException: Exception thrown while building outbound endpoint at org.springframework.cloud.stream.binder.AbstractMessageChannelBinder.doBindProducer(AbstractMessageChannelBinder.java:241) ~[spring-cloud-stream-3.1.3.jar!/:3.1.3] at org.springframework.cloud.stream.binder.AbstractMessageChannelBinder.doBindProducer(AbstractMessageChannelBinder.java:91) ~[spring-cloud-stream-3.1.3.jar!/:3.1.3] at org.springframework.cloud.stream.binder.AbstractBinder.bindProducer(AbstractBinder.java:152) ~[spring-cloud-stream-3.1.3.jar!/:3.1.3] at org.springframework.cloud.stream.binding.BindingService.doBindProducer(BindingService.java:320) [spring-cloud-stream-3.1.3.jar!/:3.1.3] at org.springframework.cloud.stream.binding.BindingService.bindProducer(BindingService.java:285) [spring-cloud-stream-3.1.3.jar!/:3.1.3] at org.springframework.cloud.stream.binding.BindingService.bindProducer(BindingService.java:294) [spring-cloud-stream-3.1.3.jar!/:3.1.3] at org.springframework.cloud.stream.binding.BindingService.bindProducer(BindingService.java:298) [spring-cloud-stream-3.1.3.jar!/:3.1.3] at org.springframework.cloud.stream.binding.AbstractBindableProxyFactory.createAndBindOutputs(AbstractBindableProxyFactory.java:142) [spring-cloud-stream-3.1.3.jar!/:3.1.3] at org.springframework.cloud.stream.binding.OutputBindingLifecycle.doStartWithBindable(OutputBindingLifecycle.java:58) [spring-cloud-stream-3.1.3.jar!/:3.1.3] at java.util.LinkedHashMap$LinkedValues.forEach(LinkedHashMap.java:608) ~[na:1.8.0_275] at org.springframework.cloud.stream.binding.AbstractBindingLifecycle.start(AbstractBindingLifecycle.java:57) ~[spring-cloud-stream-3.1.3.jar!/:3.1.3] at org.springframework.cloud.stream.binding.OutputBindingLifecycle.start(OutputBindingLifecycle.java:34) [spring-cloud-stream-3.1.3.jar!/:3.1.3] at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.9.jar!/:5.3.9] at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54) ~[spring-context-5.3.9.jar!/:5.3.9] at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356) ~[spring-context-5.3.9.jar!/:5.3.9] at java.lang.Iterable.forEach(Iterable.java:75) ~[na:1.8.0_275] at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155) ~[spring-context-5.3.9.jar!/:5.3.9] at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123) ~[spring-context-5.3.9.jar!/:5.3.9] at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:935) ~[spring-context-5.3.9.jar!/:5.3.9] at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586) ~[spring-context-5.3.9.jar!/:5.3.9] at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.5.4.jar!/:2.5.4] at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.4.jar!/:2.5.4] at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-2.5.4.jar!/:2.5.4] at org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.4.jar!/:2.5.4] at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.4.jar!/:2.5.4] at org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.4.jar!/:2.5.4] at com.pubsub.sender.SenderApplication.main(SenderApplication.java:12) ~[classes!/:0.0.1-SNAPSHOT] at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_275] at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_275] at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_275] at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_275] at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[app.jar:0.0.1-SNAPSHOT] at org.springframework.boot.loader.Launcher.launch(Launcher.java:108) ~[app.jar:0.0.1-SNAPSHOT] at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[app.jar:0.0.1-SNAPSHOT] at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88) ~[app.jar:0.0.1-SNAPSHOT] Caused by: com.google.api.gax.rpc.PermissionDeniedException: io.grpc.StatusRuntimeException: PERMISSION_DENIED: User not authorized to perform this action. at com.google.api.gax.rpc.ApiExceptionFactory.createException(ApiExceptionFactory.java:55) ~[gax-1.60.1.jar!/:1.60.1] at com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:72) ~[gax-grpc-1.60.1.jar!/:1.60.1] at com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:60) ~[gax-grpc-1.60.1.jar!/:1.60.1] at com.google.api.gax.grpc.GrpcExceptionCallable$ExceptionTransformingFuture.onFailure(GrpcExceptionCallable.java:97) ~[gax-grpc-1.60.1.jar!/:1.60.1] at com.google.api.core.ApiFutures$1.onFailure(ApiFutures.java:68) ~[api-common-1.10.1.jar!/:na] at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1074) ~[guava-30.0-jre.jar!/:na] at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:30) ~[guava-30.0-jre.jar!/:na] at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1213) ~[guava-30.0-jre.jar!/:na] at com.google.common.util.concurrent.AbstractFuture.complete(AbstractFuture.java:983) ~[guava-30.0-jre.jar!/:na] at com.google.common.util.concurrent.AbstractFuture.setException(AbstractFuture.java:771) ~[guava-30.0-jre.jar!/:na] at io.grpc.stub.ClientCalls$GrpcFuture.setException(ClientCalls.java:563) ~[grpc-stub-1.34.1.jar!/:1.34.1] at io.grpc.stub.ClientCalls$UnaryStreamToFuture.onClose(ClientCalls.java:533) ~[grpc-stub-1.34.1.jar!/:1.34.1] at io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:464) ~[grpc-core-1.34.1.jar!/:1.34.1] at io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:428) ~[grpc-core-1.34.1.jar!/:1.34.1] at io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:461) ~[grpc-core-1.34.1.jar!/:1.34.1] at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:617) ~[grpc-core-1.34.1.jar!/:1.34.1] at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70) ~[grpc-core-1.34.1.jar!/:1.34.1] at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:803) ~[grpc-core-1.34.1.jar!/:1.34.1] at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:782) ~[grpc-core-1.34.1.jar!/:1.34.1] at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.34.1.jar!/:1.34.1] at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123) ~[grpc-core-1.34.1.jar!/:1.34.1] at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[na:1.8.0_275] at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_275] at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) ~[na:1.8.0_275] at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) ~[na:1.8.0_275] at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_275] at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_275] at java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_275] Suppressed: com.google.api.gax.rpc.AsyncTaskException: Asynchronous task failed at com.google.api.gax.rpc.ApiExceptions.callAndTranslateApiException(ApiExceptions.java:57) ~[gax-1.60.1.jar!/:1.60.1] at com.google.api.gax.rpc.UnaryCallable.call(UnaryCallable.java:112) ~[gax-1.60.1.jar!/:1.60.1] at com.google.cloud.pubsub.v1.TopicAdminClient.getTopic(TopicAdminClient.java:567) ~[google-cloud-pubsub-1.110.1.jar!/:1.110.1] at com.google.cloud.pubsub.v1.TopicAdminClient.getTopic(TopicAdminClient.java:498) ~[google-cloud-pubsub-1.110.1.jar!/:1.110.1] at org.springframework.cloud.gcp.pubsub.PubSubAdmin.getTopic(PubSubAdmin.java:123) ~[spring-cloud-gcp-pubsub-1.2.8.RELEASE.jar!/:1.2.8.RELEASE] at org.springframework.cloud.gcp.stream.binder.pubsub.provisioning.PubSubChannelProvisioner.ensureTopicExists(PubSubChannelProvisioner.java:119) ~[spring-cloud-gcp-pubsub-stream-binder-1.2.8.RELEASE.jar!/:1.2.8.RELEASE] at org.springframework.cloud.gcp.stream.binder.pubsub.provisioning.PubSubChannelProvisioner.provisionProducerDestination(PubSubChannelProvisioner.java:65) ~[spring-cloud-gcp-pubsub-stream-binder-1.2.8.RELEASE.jar!/:1.2.8.RELEASE] at org.springframework.cloud.gcp.stream.binder.pubsub.provisioning.PubSubChannelProvisioner.provisionProducerDestination(PubSubChannelProvisioner.java:48) ~[spring-cloud-gcp-pubsub-stream-binder-1.2.8.RELEASE.jar!/:1.2.8.RELEASE] at org.springframework.cloud.stream.binder.AbstractMessageChannelBinder.doBindProducer(AbstractMessageChannelBinder.java:223) ~[spring-cloud-stream-3.1.3.jar!/:3.1.3] at org.springframework.cloud.stream.binder.AbstractMessageChannelBinder.doBindProducer(AbstractMessageChannelBinder.java:91) ~[spring-cloud-stream-3.1.3.jar!/:3.1.3] at org.springframework.cloud.stream.binder.AbstractBinder.bindProducer(AbstractBinder.java:152) ~[spring-cloud-stream-3.1.3.jar!/:3.1.3] at org.springframework.cloud.stream.binding.BindingService.doBindProducer(BindingService.java:320) [spring-cloud-stream-3.1.3.jar!/:3.1.3] at org.springframework.cloud.stream.binding.BindingService.bindProducer(BindingService.java:285) [spring-cloud-stream-3.1.3.jar!/:3.1.3] at org.springframework.cloud.stream.binding.BindingService.bindProducer(BindingService.java:294) [spring-cloud-stream-3.1.3.jar!/:3.1.3] at org.springframework.cloud.stream.binding.BindingService.bindProducer(BindingService.java:298) [spring-cloud-stream-3.1.3.jar!/:3.1.3] at org.springframework.cloud.stream.binding.AbstractBindableProxyFactory.createAndBindOutputs(AbstractBindableProxyFactory.java:142) [spring-cloud-stream-3.1.3.jar!/:3.1.3] at org.springframework.cloud.stream.binding.OutputBindingLifecycle.doStartWithBindable(OutputBindingLifecycle.java:58) [spring-cloud-stream-3.1.3.jar!/:3.1.3] at java.util.LinkedHashMap$LinkedValues.forEach(LinkedHashMap.java:608) ~[na:1.8.0_275] at org.springframework.cloud.stream.binding.AbstractBindingLifecycle.start(AbstractBindingLifecycle.java:57) ~[spring-cloud-stream-3.1.3.jar!/:3.1.3] at org.springframework.cloud.stream.binding.OutputBindingLifecycle.start(OutputBindingLifecycle.java:34) [spring-cloud-stream-3.1.3.jar!/:3.1.3] at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.9.jar!/:5.3.9] at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54) ~[spring-context-5.3.9.jar!/:5.3.9] at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356) ~[spring-context-5.3.9.jar!/:5.3.9] at java.lang.Iterable.forEach(Iterable.java:75) ~[na:1.8.0_275] at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155) ~[spring-context-5.3.9.jar!/:5.3.9] at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123) ~[spring-context-5.3.9.jar!/:5.3.9] at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:935) ~[spring-context-5.3.9.jar!/:5.3.9] at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586) ~[spring-context-5.3.9.jar!/:5.3.9] at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.5.4.jar!/:2.5.4] at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.4.jar!/:2.5.4] at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-2.5.4.jar!/:2.5.4] at org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.4.jar!/:2.5.4] at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.4.jar!/:2.5.4] at org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.4.jar!/:2.5.4] at com.pubsub.sender.SenderApplication.main(SenderApplication.java:12) ~[classes!/:0.0.1-SNAPSHOT] at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_275] at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_275] at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_275] at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_275] at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[app.jar:0.0.1-SNAPSHOT] at org.springframework.boot.loader.Launcher.launch(Launcher.java:108) ~[app.jar:0.0.1-SNAPSHOT] at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[app.jar:0.0.1-SNAPSHOT] at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88) ~[app.jar:0.0.1-SNAPSHOT] Caused by: io.grpc.StatusRuntimeException: PERMISSION_DENIED: User not authorized to perform this action. at io.grpc.Status.asRuntimeException(Status.java:533) ~[grpc-api-1.34.1.jar!/:1.34.1] ... 17 common frames omitted</code></p>\n<p><code>application.properties</code> file</p>\n<pre><code>spring.cloud.stream.bindings.outgoing.destination=test\nspring.cloud.gcp.pubsub.project-id=GCP_PROJECT_ID\n</code></pre>\n<p>SpringBoot Application uses workload identity and Service Account annotated with it has <code>Publisher</code> and <code>Subscriber</code> Roles applied.</p>\n"},{"tags":["java","jackson"],"answers":[{"tags":[],"owner":{"account_id":9469497,"reputation":11,"user_id":7040739,"display_name":"Emilian Mateut"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643910065,"creation_date":1643910065,"answer_id":70975852,"question_id":67316783,"body_markdown":"As far as I can see you cannot replace values out of range using [Jackson&#39;s Deserialization Features][1].\r\n\r\nBut you can easily create a custom deserializer and handle the values as you need.\r\n\r\nThere are tutorials and good examples on [Baeldnung&#39;s][2] or [Jenkov&#39;s][3] blogs.\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-databind/wiki/Deserialization-Features\r\n  [2]: https://www.baeldung.com/jackson-deserialization\r\n  [3]: http://tutorials.jenkov.com/java-json/jackson-objectmapper.html#custom-deserializer","title":"Jackson InputCoercionException: replace numbers out of range","body":"<p>As far as I can see you cannot replace values out of range using <a href=\"https://github.com/FasterXML/jackson-databind/wiki/Deserialization-Features\" rel=\"nofollow noreferrer\">Jackson's Deserialization Features</a>.</p>\n<p>But you can easily create a custom deserializer and handle the values as you need.</p>\n<p>There are tutorials and good examples on <a href=\"https://www.baeldung.com/jackson-deserialization\" rel=\"nofollow noreferrer\">Baeldnung's</a> or <a href=\"http://tutorials.jenkov.com/java-json/jackson-objectmapper.html#custom-deserializer\" rel=\"nofollow noreferrer\">Jenkov's</a> blogs.</p>\n"}],"owner":{"account_id":11426821,"reputation":464,"user_id":8376759,"display_name":"CC."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":535,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643910065,"creation_date":1619696917,"question_id":67316783,"body_markdown":"I am getting an `InputCoercionException` from Jackson when reading JSONs that contain too large numbers.\r\n\r\n```\r\nCaused by: com.fasterxml.jackson.core.exc.InputCoercionException: Numeric value (2328461700) out of range of int (-2147483648 - 2147483647)\r\n```\r\n\r\nIs it possible to configure Jackson to replace values that are out of range - for example, with a `-1`? If not, is there any solution to parse the value without changing the type to double?\r\n\r\nThank you.","title":"Jackson InputCoercionException: replace numbers out of range","body":"<p>I am getting an <code>InputCoercionException</code> from Jackson when reading JSONs that contain too large numbers.</p>\n<pre><code>Caused by: com.fasterxml.jackson.core.exc.InputCoercionException: Numeric value (2328461700) out of range of int (-2147483648 - 2147483647)\n</code></pre>\n<p>Is it possible to configure Jackson to replace values that are out of range - for example, with a <code>-1</code>? If not, is there any solution to parse the value without changing the type to double?</p>\n<p>Thank you.</p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa","querydsl"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1643910675,"post_id":70975741,"comment_id":125471042,"body_markdown":"(reference?) When it&#39;s a JPA query, then setting `TemporalType.DATE` (on parameter/+column) should do the job, workaround: `&gt;=` might be sufficient..(?) When it is a native query, then &quot;just truncate&quot;  (hours, minutes, ...) (db platform?)","body":"(reference?) When it&#39;s a JPA query, then setting <code>TemporalType.DATE</code> (on parameter/+column) should do the job, workaround: <code>&gt;=</code> might be sufficient..(?) When it is a native query, then &quot;just truncate&quot;  (hours, minutes, ...) (db platform?)"},{"owner":{"account_id":19013189,"reputation":71,"user_id":13878713,"display_name":"jar_are_red"},"score":0,"creation_date":1643910982,"post_id":70975741,"comment_id":125471177,"body_markdown":"@xerx593 I have the TemporalType as Date, but it still doesn&#39;t work. I thought the same thing.","body":"@xerx593 I have the TemporalType as Date, but it still doesn&#39;t work. I thought the same thing."}],"owner":{"account_id":19013189,"reputation":71,"user_id":13878713,"display_name":"jar_are_red"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":570,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1643909591,"creation_date":1643909591,"question_id":70975741,"body_markdown":"I am learning SpringBoot JPA&#39;s and I am trying to search a database by adding &quot;creationDate=2022-02-02&quot; as a parameter to my uri call. JPA automatically formats the date with a timestamp as &quot;Wed Feb 2 00:00:00 CDT 2022&quot;. However, the dates in the databases have timestamps and I believe that since the timestamps do not match, there are no rows returned. How can I search simply by day?\r\n\r\nFor reference, this is code I inherited. The URI passes in parameters through a QueryDSL predicate. This is then passed into a generic service. I apologize if my understanding of the technologies is wrong.\r\n\r\nNote: I can&#39;t post the code here as it is company property.","title":"How to search JPA QueryDSL date with yyyy-MM-dd format?","body":"<p>I am learning SpringBoot JPA's and I am trying to search a database by adding &quot;creationDate=2022-02-02&quot; as a parameter to my uri call. JPA automatically formats the date with a timestamp as &quot;Wed Feb 2 00:00:00 CDT 2022&quot;. However, the dates in the databases have timestamps and I believe that since the timestamps do not match, there are no rows returned. How can I search simply by day?</p>\n<p>For reference, this is code I inherited. The URI passes in parameters through a QueryDSL predicate. This is then passed into a generic service. I apologize if my understanding of the technologies is wrong.</p>\n<p>Note: I can't post the code here as it is company property.</p>\n"},{"tags":["java","android-studio","libgdx"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1634144499,"post_id":69551782,"comment_id":122949290,"body_markdown":"I suggest using this app to create you’re project. It’s better than the official setup app. You’ll have fewer issues. https://github.com/tommyettinger/gdx-liftoff","body":"I suggest using this app to create you’re project. It’s better than the official setup app. You’ll have fewer issues. <a href=\"https://github.com/tommyettinger/gdx-liftoff\" rel=\"nofollow noreferrer\">github.com/tommyettinger/gdx-liftoff</a>"},{"owner":{"account_id":13988465,"reputation":67,"user_id":10102991,"display_name":"Proxima Centauri"},"score":0,"creation_date":1634149489,"post_id":69551782,"comment_id":122950959,"body_markdown":"Thanks for your suggestion, I will try it&#128079;","body":"Thanks for your suggestion, I will try it👏"}],"answers":[{"tags":[],"owner":{"account_id":23007399,"reputation":17,"user_id":17130422,"display_name":"LancesLance"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634276122,"creation_date":1634276122,"answer_id":69580378,"question_id":69551782,"body_markdown":"I&#39;ve had this problem before and this solution worked for me. Go to your gradle.properties file. Write \r\n`org.gradle.java.home=C\\:/Program Files/Java/jdk-11.0.12`\r\nor wherever your JDK folder is located like org.gradle.java.home=(wherever your jdk FOLDER is). I also found this post online that shows a similar problem but it is specifically for IntelliJ and maybe Android Studio so this might not work for you. This solution might not work if you are not using the libGDX setup since it is only tested on that. I am also very new to libGDX. https://intellij-support.jetbrains.com/hc/en-us/community/posts/207039495-Cannot-resolve-symbol-String-. This post is old though","title":"Unable to Access Java Object From Core Module Class LibGDX Android Studio","body":"<p>I've had this problem before and this solution worked for me. Go to your gradle.properties file. Write\n<code>org.gradle.java.home=C\\:/Program Files/Java/jdk-11.0.12</code>\nor wherever your JDK folder is located like org.gradle.java.home=(wherever your jdk FOLDER is). I also found this post online that shows a similar problem but it is specifically for IntelliJ and maybe Android Studio so this might not work for you. This solution might not work if you are not using the libGDX setup since it is only tested on that. I am also very new to libGDX. <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/207039495-Cannot-resolve-symbol-String-\" rel=\"nofollow noreferrer\">https://intellij-support.jetbrains.com/hc/en-us/community/posts/207039495-Cannot-resolve-symbol-String-</a>. This post is old though</p>\n"},{"tags":[],"owner":{"account_id":14488276,"reputation":301,"user_id":10465435,"display_name":"Stanislav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643909495,"creation_date":1643909495,"answer_id":70975717,"question_id":69551782,"body_markdown":"Yes-yes I had been spent two days resolving this issue.\r\nIn my case, I just updated Android Studio and all works well. ","title":"Unable to Access Java Object From Core Module Class LibGDX Android Studio","body":"<p>Yes-yes I had been spent two days resolving this issue.\nIn my case, I just updated Android Studio and all works well.</p>\n"}],"owner":{"account_id":13988465,"reputation":67,"user_id":10102991,"display_name":"Proxima Centauri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1643909495,"creation_date":1634112155,"question_id":69551782,"body_markdown":"I&#39;m trying to create an Android project with a game inside of that project. I found a Java development game framework called `LibGDX`. When I was trying to use it, I got several problems. First, Inside a class that extends `ApplicationAdapter` in the `core` module, I&#39;m unable to call all of the Java object like `String`, error said:\r\n```\r\nCannot resolve symbol &#39;String&#39;\r\n```\r\n The second problem is all of the `Gdx` object having some errors like:\r\n```\r\nCannot access java.lang.Object\r\n```\r\n```\r\nCannot resolve constructor &#39;Texture(java.lang.String)&#39;\r\n```\r\nThe weird thing: with the second problem I can still installing and running it.\r\nI have been trying to fix the `Gradle` but it doesn&#39;t work. This is my `build.gradle`\r\n```\r\nbuildscript {\r\n    \r\n\r\n    repositories {\r\n        mavenLocal()\r\n        mavenCentral()\r\n        gradlePluginPortal()\r\n        maven { url &quot;https://oss.sonatype.org/content/repositories/snapshots/&quot; }\r\n        google()\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:4.2.1&#39;\r\n    }\r\n}\r\n\r\nallprojects {\r\n    apply plugin: &quot;eclipse&quot;\r\n    apply plugin: &quot;idea&quot;\r\n\r\n\r\n    version = &#39;1.0&#39;\r\n    ext {\r\n        appName = &quot;TestGame&quot;\r\n        gdxVersion = &#39;1.10.0&#39;\r\n        roboVMVersion = &#39;2.3.12&#39;\r\n        box2DLightsVersion = &#39;1.5&#39;\r\n        ashleyVersion = &#39;1.7.3&#39;\r\n        aiVersion = &#39;1.8.2&#39;\r\n        gdxControllersVersion = &#39;2.1.0&#39;\r\n    }\r\n\r\n    repositories {\r\n        mavenLocal()\r\n        mavenCentral()\r\n        google()\r\n        gradlePluginPortal()\r\n        maven { url &quot;https://oss.sonatype.org/content/repositories/snapshots/&quot; }\r\n        maven { url &quot;https://oss.sonatype.org/content/repositories/releases/&quot; }\r\n    }\r\n}\r\n\r\nproject(&quot;:android&quot;) {\r\n    apply plugin: &quot;com.android.application&quot;\r\n\r\n    configurations { natives }\r\n\r\n    dependencies {\r\n        implementation project(&quot;:core&quot;)\r\n        api &quot;com.badlogicgames.gdx:gdx-backend-android:$gdxVersion&quot;\r\n        natives &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-armeabi-v7a&quot;\r\n        natives &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-arm64-v8a&quot;\r\n        natives &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-x86&quot;\r\n        natives &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-x86_64&quot;\r\n        api &quot;com.badlogicgames.gdx:gdx-box2d:$gdxVersion&quot;\r\n        natives &quot;com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-armeabi-v7a&quot;\r\n        natives &quot;com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-arm64-v8a&quot;\r\n        natives &quot;com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-x86&quot;\r\n        natives &quot;com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-x86_64&quot;\r\n        implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        implementation &#39;androidx.appcompat:appcompat:1.3.1&#39;\r\n        implementation &#39;com.google.android.material:material:1.4.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.1.1&#39;\r\n        testImplementation &#39;junit:junit:4.+&#39;\r\n        testImplementation &#39;commons-logging:commons-logging:1.2&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n        \r\n    }\r\n}\r\n\r\nproject(&quot;:core&quot;) {\r\n    apply plugin: &quot;java-library&quot;\r\n\r\n    dependencies {\r\n        api &quot;com.badlogicgames.gdx:gdx:$gdxVersion&quot;\r\n        api &quot;com.badlogicgames.gdx:gdx-box2d:$gdxVersion&quot;\r\n\r\n\r\n    }\r\n}\r\n\r\n```\r\nThe Class:\r\n```\r\npublic class TestGame extends ApplicationAdapter {\r\n\r\n\tSpriteBatch batch;\r\n\tTexture img;\r\n\r\n\t@Override\r\n\tpublic void create () {\r\n\t\tbatch = new SpriteBatch();\r\n\t\timg = new Texture(&quot;badlogic.jpg&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void render () {\r\n\r\n\t\tGdx.gl.glClearColor(1, 0, 0, 1);\r\n\t\tGdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);\r\n\t\tbatch.begin();\r\n\t\tbatch.draw(img, 0, 0);\r\n\t\tbatch.end();\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void dispose () {\r\n\t\tbatch.dispose();\r\n\t\timg.dispose();\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nAny suggestions?\r\n\r\nPerhaps this is a basic question, but this `LibGDX` stuff is somewhat Greek to me.\r\n\r\n","title":"Unable to Access Java Object From Core Module Class LibGDX Android Studio","body":"<p>I'm trying to create an Android project with a game inside of that project. I found a Java development game framework called <code>LibGDX</code>. When I was trying to use it, I got several problems. First, Inside a class that extends <code>ApplicationAdapter</code> in the <code>core</code> module, I'm unable to call all of the Java object like <code>String</code>, error said:</p>\n<pre><code>Cannot resolve symbol 'String'\n</code></pre>\n<p>The second problem is all of the <code>Gdx</code> object having some errors like:</p>\n<pre><code>Cannot access java.lang.Object\n</code></pre>\n<pre><code>Cannot resolve constructor 'Texture(java.lang.String)'\n</code></pre>\n<p>The weird thing: with the second problem I can still installing and running it.\nI have been trying to fix the <code>Gradle</code> but it doesn't work. This is my <code>build.gradle</code></p>\n<pre><code>buildscript {\n    \n\n    repositories {\n        mavenLocal()\n        mavenCentral()\n        gradlePluginPortal()\n        maven { url &quot;https://oss.sonatype.org/content/repositories/snapshots/&quot; }\n        google()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:4.2.1'\n    }\n}\n\nallprojects {\n    apply plugin: &quot;eclipse&quot;\n    apply plugin: &quot;idea&quot;\n\n\n    version = '1.0'\n    ext {\n        appName = &quot;TestGame&quot;\n        gdxVersion = '1.10.0'\n        roboVMVersion = '2.3.12'\n        box2DLightsVersion = '1.5'\n        ashleyVersion = '1.7.3'\n        aiVersion = '1.8.2'\n        gdxControllersVersion = '2.1.0'\n    }\n\n    repositories {\n        mavenLocal()\n        mavenCentral()\n        google()\n        gradlePluginPortal()\n        maven { url &quot;https://oss.sonatype.org/content/repositories/snapshots/&quot; }\n        maven { url &quot;https://oss.sonatype.org/content/repositories/releases/&quot; }\n    }\n}\n\nproject(&quot;:android&quot;) {\n    apply plugin: &quot;com.android.application&quot;\n\n    configurations { natives }\n\n    dependencies {\n        implementation project(&quot;:core&quot;)\n        api &quot;com.badlogicgames.gdx:gdx-backend-android:$gdxVersion&quot;\n        natives &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-armeabi-v7a&quot;\n        natives &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-arm64-v8a&quot;\n        natives &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-x86&quot;\n        natives &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-x86_64&quot;\n        api &quot;com.badlogicgames.gdx:gdx-box2d:$gdxVersion&quot;\n        natives &quot;com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-armeabi-v7a&quot;\n        natives &quot;com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-arm64-v8a&quot;\n        natives &quot;com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-x86&quot;\n        natives &quot;com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-x86_64&quot;\n        implementation fileTree(dir: 'libs', include: ['*.jar'])\n        implementation 'androidx.appcompat:appcompat:1.3.1'\n        implementation 'com.google.android.material:material:1.4.0'\n        implementation 'androidx.constraintlayout:constraintlayout:2.1.1'\n        testImplementation 'junit:junit:4.+'\n        testImplementation 'commons-logging:commons-logging:1.2'\n        androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n        androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n        \n    }\n}\n\nproject(&quot;:core&quot;) {\n    apply plugin: &quot;java-library&quot;\n\n    dependencies {\n        api &quot;com.badlogicgames.gdx:gdx:$gdxVersion&quot;\n        api &quot;com.badlogicgames.gdx:gdx-box2d:$gdxVersion&quot;\n\n\n    }\n}\n\n</code></pre>\n<p>The Class:</p>\n<pre><code>public class TestGame extends ApplicationAdapter {\n\n    SpriteBatch batch;\n    Texture img;\n\n    @Override\n    public void create () {\n        batch = new SpriteBatch();\n        img = new Texture(&quot;badlogic.jpg&quot;);\n    }\n\n    @Override\n    public void render () {\n\n        Gdx.gl.glClearColor(1, 0, 0, 1);\n        Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);\n        batch.begin();\n        batch.draw(img, 0, 0);\n        batch.end();\n\n    }\n\n    @Override\n    public void dispose () {\n        batch.dispose();\n        img.dispose();\n    }\n\n}\n\n</code></pre>\n<p>Any suggestions?</p>\n<p>Perhaps this is a basic question, but this <code>LibGDX</code> stuff is somewhat Greek to me.</p>\n"},{"tags":["java","bufferedimage","graphics2d"],"comments":[{"owner":{"account_id":11688295,"reputation":395,"user_id":8557336,"display_name":"Orr Benyamini"},"score":0,"creation_date":1643909209,"post_id":70975559,"comment_id":125470434,"body_markdown":"How would you expect the library to draw the text without font that describes the graphical representation of each character?","body":"How would you expect the library to draw the text without font that describes the graphical representation of each character?"},{"owner":{"account_id":1439273,"reputation":767,"user_id":1359903,"accept_rate":56,"display_name":"globalworming"},"score":0,"creation_date":1643910130,"post_id":70975559,"comment_id":125470796,"body_markdown":"I expected it to have something like that but maybe hardcoded and not relying on system files.","body":"I expected it to have something like that but maybe hardcoded and not relying on system files."}],"owner":{"account_id":1439273,"reputation":767,"user_id":1359903,"accept_rate":56,"display_name":"globalworming"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643909393,"creation_date":1643908652,"question_id":70975559,"body_markdown":"I&#39;d like to create some images. With Graphics2D it works fine. But when trying to `drawString` I get an exception because the system I have to make it run on doesn&#39;t have fonts. \r\n\r\nThere must be some minimal &quot;text to image&quot; library that doesn&#39;t rely on system fonts, right? ","title":"Text to BufferedImage without involving Font","body":"<p>I'd like to create some images. With Graphics2D it works fine. But when trying to <code>drawString</code> I get an exception because the system I have to make it run on doesn't have fonts.</p>\n<p>There must be some minimal &quot;text to image&quot; library that doesn't rely on system fonts, right?</p>\n"},{"tags":["java","arrays","sorting"],"comments":[{"owner":{"account_id":21825332,"reputation":1219,"user_id":16120911,"display_name":"sittsering"},"score":0,"creation_date":1643906375,"post_id":70974993,"comment_id":125469205,"body_markdown":"is it *sort an array with specific introductions* or *check if an array is sorted with specific introductions* ?","body":"is it <i>sort an array with specific introductions</i> or <i>check if an array is sorted with specific introductions</i> ?"},{"owner":{"account_id":21107504,"reputation":61,"user_id":15516178,"display_name":"bartugenccan"},"score":0,"creation_date":1643906411,"post_id":70974993,"comment_id":125469224,"body_markdown":"Checking if an array is sorted","body":"Checking if an array is sorted"}],"answers":[{"tags":[],"owner":{"account_id":24137061,"reputation":44,"user_id":18103811,"display_name":"Lucas Kok"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643906628,"creation_date":1643906628,"answer_id":70975107,"question_id":70974993,"body_markdown":"So when using &quot;Return&quot; it, well, returns a value and stops the function.\r\n\r\nIn your case it will start at 1, looks if it is greater than 0 (Which it is) and if its greater then the next value in the array (Which is -3, so true). Both true so it will return true and stop the function.\r\n\r\nIf you want to check if it is greater then 0 and if the array goes from big to small try something like this:\r\n\r\n    public static boolean isSorted(int[] array) {\r\n        boolean foundPositive = false;\r\n\r\n        for (int i = 0; i &lt; array.length - 1; i++) {\r\n            if (array[i] &gt; 0) foundPositive = true;\r\n\r\n            if (array[i] &lt;= array[i + 1]) {\r\n                return false;\r\n            }\r\n        }\r\n        return foundPositive;\r\n    }\r\n\r\nIt check if its greater then 0. Then if the number is smaller or equal to the next value, if so, return false. And when it passed that check, it will return if a number is greater then 0.\r\n\r\n","title":"Array Sorting, At Least One Element Is Great Than Zero, No Same Elements","body":"<p>So when using &quot;Return&quot; it, well, returns a value and stops the function.</p>\n<p>In your case it will start at 1, looks if it is greater than 0 (Which it is) and if its greater then the next value in the array (Which is -3, so true). Both true so it will return true and stop the function.</p>\n<p>If you want to check if it is greater then 0 and if the array goes from big to small try something like this:</p>\n<pre><code>public static boolean isSorted(int[] array) {\n    boolean foundPositive = false;\n\n    for (int i = 0; i &lt; array.length - 1; i++) {\n        if (array[i] &gt; 0) foundPositive = true;\n\n        if (array[i] &lt;= array[i + 1]) {\n            return false;\n        }\n    }\n    return foundPositive;\n}\n</code></pre>\n<p>It check if its greater then 0. Then if the number is smaller or equal to the next value, if so, return false. And when it passed that check, it will return if a number is greater then 0.</p>\n"},{"tags":[],"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643908037,"creation_date":1643906819,"answer_id":70975162,"question_id":70974993,"body_markdown":"If you&#39;re just checking if the array is sorted descending:\r\n\r\n    public static boolean isSorted(int [] data) {\r\n\t\tfor (int i = 1; i&lt; data.length; i++) {\r\n\t\t\tif (data[i-1] &lt; data[i]) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn true;\r\n\t}\r\n\r\n    public static boolean hasPositive(int [] data) {\r\n\t\treturn Arrays.stream(data).filter(a -&gt; a &gt; 0).findFirst().isPresent();\r\n\t}\r\n\t\r\n\tpublic static boolean hasDuplicates(int [] data) {\r\n\t\tlong cnt = Arrays.stream(data).distinct().count();\r\n\t\treturn cnt != data.length;\r\n\t}\r\n\t\r\n\tpublic static boolean meetsCriteria(int []data) {\r\n\t\tif (!hasPositive(data)) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\tif (hasDuplicates(data)) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t    return isSorted(data);\r\n\t}","title":"Array Sorting, At Least One Element Is Great Than Zero, No Same Elements","body":"<p>If you're just checking if the array is sorted descending:</p>\n<pre><code>public static boolean isSorted(int [] data) {\n    for (int i = 1; i&lt; data.length; i++) {\n        if (data[i-1] &lt; data[i]) {\n            return false;\n        }\n    }\n    \n    return true;\n}\n\npublic static boolean hasPositive(int [] data) {\n    return Arrays.stream(data).filter(a -&gt; a &gt; 0).findFirst().isPresent();\n}\n\npublic static boolean hasDuplicates(int [] data) {\n    long cnt = Arrays.stream(data).distinct().count();\n    return cnt != data.length;\n}\n\npublic static boolean meetsCriteria(int []data) {\n    if (!hasPositive(data)) {\n        return false;\n    }\n    \n    if (hasDuplicates(data)) {\n        return false;\n    }\n    \n    return isSorted(data);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21825332,"reputation":1219,"user_id":16120911,"display_name":"sittsering"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643907100,"creation_date":1643907100,"answer_id":70975222,"question_id":70974993,"body_markdown":"Since the array must be big to small -&gt; descending order and at least one element must be greater than 0, it can be done by simply checking `if (array[0]&gt;0)` as array[0] should be the largest value.\r\n```java\r\nif(array[0]&gt;0){\r\n   //your code\r\n}\r\n```\r\nAs for the order, check with `&lt;=.\r\n```java\r\nfor (int i = 0; i &lt; array.length - 1; i++){\r\n    if(array[i] &lt;= array[i + 1]){\r\n        return false;\r\n    }\r\n}\r\n```\r\nCombining both\r\n```java\r\npublic static boolean isSorted(int[] array) {\r\n    if(array[0]&gt;0){ //largest value in array is greater than 0\r\n        for (int i = 0; i &lt; array.length - 1; i++){\r\n            if(array[i] &lt;= array[i + 1]){\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n```\r\n\r\n","title":"Array Sorting, At Least One Element Is Great Than Zero, No Same Elements","body":"<p>Since the array must be big to small -&gt; descending order and at least one element must be greater than 0, it can be done by simply checking <code>if (array[0]&gt;0)</code> as array[0] should be the largest value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(array[0]&gt;0){\n   //your code\n}\n</code></pre>\n<p>As for the order, check with `&lt;=.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 0; i &lt; array.length - 1; i++){\n    if(array[i] &lt;= array[i + 1]){\n        return false;\n    }\n}\n</code></pre>\n<p>Combining both</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean isSorted(int[] array) {\n    if(array[0]&gt;0){ //largest value in array is greater than 0\n        for (int i = 0; i &lt; array.length - 1; i++){\n            if(array[i] &lt;= array[i + 1]){\n                return false;\n            }\n        }\n        return true;\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643909321,"creation_date":1643908392,"answer_id":70975512,"question_id":70974993,"body_markdown":"Consider the following &quot;sorted&quot; array: `{1,2,3,6,7,4,5}`\r\n\r\nNow consider your loop:\r\n```\r\nfor (int i = 0; i &lt; array.length - 1; i++){\r\n    if(array[i] &gt; 0 &amp;&amp; array[i] &gt; array[i + 1]){\r\n        return true;\r\n    }\r\n}\r\n```\r\nWhen `i` is zero, it will pass the `array[0] &gt; 0` test but will fail the `array[0] &gt; array[1]` test. This last test will continue to fail until `i` is 4. At this point, `array[4]` is 7 and `array[5]` is 4. Since `array[4] &gt; 0` AND `array[4] &gt; array[5]`, it will return `true`. This is clearly a mistake because you can see the array I created is not sorted.\r\n\r\nWhat you need to do is to `continue` checking the array for `array[i] &gt; array[i + 1]` until you reach the end of the array. At that point, you will return `true`. If on the other hand, the `array[i] &gt; array[i + 1]` fails at any point, you need to return `false`.\r\n\r\nBased on this, you need to rewrite you `isSorted` function as follows:\r\n\r\n```\r\npublic static boolean isSorted(int[] array) {\r\n    if(array[0] &lt;= 0) return false;\r\n\r\n    for (int i = 0; i &lt; array.length - 1; i++){\r\n        if(array[i] &gt; array[i + 1]){\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n```\r\nYou may be asking why I extracted this test from the `for` loop: `if(array[0] &lt;= 0) return false;`?\r\n\r\nThe reason is simple. If the first element is greater than zero, for the array to be properly sorted, all other elements must also be greater than zero. If one happens to be zero, it will automatically fail the evaluation inside the `for` loop.\r\n\r\nTo test, I created the following test class\r\n\r\n```\r\npublic class ArrayEvalDemo {\r\n\tpublic static void main (String[] args) {\r\n\t\tint[][] arrays = {{1,2,3,6,7,4,5}, {1,2,3,0,7,4,5}, {1,2,3,4,5,6,0}, {0,1,2,3,4,5,6,7}, {1,2,3,4,5,6,7}};\r\n\t\tfor (int i = 0; i &lt; 5; i++) {\r\n\t\t\tint[] temp = arrays[i];\r\n\t\t\tSystem.out.println(&quot;Array sorted? &quot; + (isSorted(temp)));\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static boolean isSorted (int[] array) {\r\n\t\tif (array[0] &lt;= 0) return false;\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; array.length - 1; i++) {\r\n\t\t\tif (array[i] &gt; array[i + 1]) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n}\r\n```\r\nWhich prints out:\r\n```\r\nArray sorted? false\r\nArray sorted? false\r\nArray sorted? false\r\nArray sorted? false\r\nArray sorted? true\r\n```\r\nWhich expected because only the last array in the 2D array is sorted according to the requirements for this post.","title":"Array Sorting, At Least One Element Is Great Than Zero, No Same Elements","body":"<p>Consider the following &quot;sorted&quot; array: <code>{1,2,3,6,7,4,5}</code></p>\n<p>Now consider your loop:</p>\n<pre><code>for (int i = 0; i &lt; array.length - 1; i++){\n    if(array[i] &gt; 0 &amp;&amp; array[i] &gt; array[i + 1]){\n        return true;\n    }\n}\n</code></pre>\n<p>When <code>i</code> is zero, it will pass the <code>array[0] &gt; 0</code> test but will fail the <code>array[0] &gt; array[1]</code> test. This last test will continue to fail until <code>i</code> is 4. At this point, <code>array[4]</code> is 7 and <code>array[5]</code> is 4. Since <code>array[4] &gt; 0</code> AND <code>array[4] &gt; array[5]</code>, it will return <code>true</code>. This is clearly a mistake because you can see the array I created is not sorted.</p>\n<p>What you need to do is to <code>continue</code> checking the array for <code>array[i] &gt; array[i + 1]</code> until you reach the end of the array. At that point, you will return <code>true</code>. If on the other hand, the <code>array[i] &gt; array[i + 1]</code> fails at any point, you need to return <code>false</code>.</p>\n<p>Based on this, you need to rewrite you <code>isSorted</code> function as follows:</p>\n<pre><code>public static boolean isSorted(int[] array) {\n    if(array[0] &lt;= 0) return false;\n\n    for (int i = 0; i &lt; array.length - 1; i++){\n        if(array[i] &gt; array[i + 1]){\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n<p>You may be asking why I extracted this test from the <code>for</code> loop: <code>if(array[0] &lt;= 0) return false;</code>?</p>\n<p>The reason is simple. If the first element is greater than zero, for the array to be properly sorted, all other elements must also be greater than zero. If one happens to be zero, it will automatically fail the evaluation inside the <code>for</code> loop.</p>\n<p>To test, I created the following test class</p>\n<pre><code>public class ArrayEvalDemo {\n    public static void main (String[] args) {\n        int[][] arrays = {{1,2,3,6,7,4,5}, {1,2,3,0,7,4,5}, {1,2,3,4,5,6,0}, {0,1,2,3,4,5,6,7}, {1,2,3,4,5,6,7}};\n        for (int i = 0; i &lt; 5; i++) {\n            int[] temp = arrays[i];\n            System.out.println(&quot;Array sorted? &quot; + (isSorted(temp)));\n        }\n    }\n    \n    public static boolean isSorted (int[] array) {\n        if (array[0] &lt;= 0) return false;\n        \n        for (int i = 0; i &lt; array.length - 1; i++) {\n            if (array[i] &gt; array[i + 1]) {\n                return false;\n            }\n        }\n        return true;\n    }\n}\n</code></pre>\n<p>Which prints out:</p>\n<pre><code>Array sorted? false\nArray sorted? false\nArray sorted? false\nArray sorted? false\nArray sorted? true\n</code></pre>\n<p>Which expected because only the last array in the 2D array is sorted according to the requirements for this post.</p>\n"}],"owner":{"account_id":21107504,"reputation":61,"user_id":15516178,"display_name":"bartugenccan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":493,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70975107,"answer_count":4,"score":0,"last_activity_date":1643909321,"creation_date":1643906098,"question_id":70974993,"body_markdown":"I am trying to check an array if it&#39;s sorted with specific introductions. There must be at least one element in array that is greater than 0. If the array is sorted as big numbers to small it must return true and all the elements must be different in that array. So here is my code;\r\n\r\n```\r\npublic class BubbleSort{\r\n\r\npublic static boolean isSorted(int[] array) {\r\n\r\n    for (int i = 0; i &lt; array.length - 1; i++){\r\n        if(array[i] &gt; 0 &amp;&amp; array[i] &gt; array[i + 1]){\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        int[] array = {1,-3,-3};\r\n        System.out.println(isSorted(array));\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nIn my opinion this should return false and I don&#39;t know where it gets wrong. When it&#39;s the same element it should return false but this code returns true.","title":"Array Sorting, At Least One Element Is Great Than Zero, No Same Elements","body":"<p>I am trying to check an array if it's sorted with specific introductions. There must be at least one element in array that is greater than 0. If the array is sorted as big numbers to small it must return true and all the elements must be different in that array. So here is my code;</p>\n<pre><code>public class BubbleSort{\n\npublic static boolean isSorted(int[] array) {\n\n    for (int i = 0; i &lt; array.length - 1; i++){\n        if(array[i] &gt; 0 &amp;&amp; array[i] &gt; array[i + 1]){\n            return true;\n        }\n    }\n    return false;\n    }\n\n    public static void main(String[] args) {\n        int[] array = {1,-3,-3};\n        System.out.println(isSorted(array));\n\n    }\n\n}\n</code></pre>\n<p>In my opinion this should return false and I don't know where it gets wrong. When it's the same element it should return false but this code returns true.</p>\n"},{"tags":["notepad++","java","javac"],"comments":[{"owner":{"account_id":119546,"reputation":14777,"user_id":311304,"accept_rate":95,"display_name":"Justin Garrick"},"score":0,"creation_date":1280344620,"post_id":3356475,"comment_id":3485310,"body_markdown":"If you&#39;re at the point where you&#39;re referencing external libraries, I would recommend you move on to a full-fledged IDE such as Eclipse.  It might be possible to do this with Notepad++ plugins, but I am not aware of how to do it.","body":"If you&#39;re at the point where you&#39;re referencing external libraries, I would recommend you move on to a full-fledged IDE such as Eclipse.  It might be possible to do this with Notepad++ plugins, but I am not aware of how to do it."},{"owner":{"account_id":170556,"reputation":693,"user_id":397337,"accept_rate":62,"display_name":"Eduardo Rascon"},"score":2,"creation_date":1280768692,"post_id":3356475,"comment_id":3524824,"body_markdown":"Thank you, but I think i&#39;ll stay with np++, I&#39;m still a beginner and I like think I&#39;ll be able to learn more this way.","body":"Thank you, but I think i&#39;ll stay with np++, I&#39;m still a beginner and I like think I&#39;ll be able to learn more this way."}],"answers":[{"tags":[],"owner":{"account_id":46144,"reputation":7024,"user_id":136248,"accept_rate":100,"display_name":"Benoit Courtine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1280344708,"creation_date":1280344396,"answer_id":3356527,"question_id":3356475,"body_markdown":"It is only possible with an IDE (Netbeans, Eclipse, etc.).\r\n\r\nIn command line, you have to precise jar by jar the dependencies in the -classpath option.\r\n\r\nNote : &quot;-classpath directory&quot; exists. It will add to your classpath the classes and the files (conf properties for example) of this directory, but it will not magically add the jar contents in the classpath.\r\n\r\nIf you are good at shell programming, you can develop a java launcher that will take one (or several) directory in parameter and create the program launch command for you.\r\n\r\nAnother method is to create once an environment variable (containing your classpath). You won&#39;t have to type the command line each time, but only &quot;java(c) -cp $CLASSPATH MyProgram&quot;","title":"How to compile java with external libraries in notepad++?","body":"<p>It is only possible with an IDE (Netbeans, Eclipse, etc.).</p>\n\n<p>In command line, you have to precise jar by jar the dependencies in the -classpath option.</p>\n\n<p>Note : \"-classpath directory\" exists. It will add to your classpath the classes and the files (conf properties for example) of this directory, but it will not magically add the jar contents in the classpath.</p>\n\n<p>If you are good at shell programming, you can develop a java launcher that will take one (or several) directory in parameter and create the program launch command for you.</p>\n\n<p>Another method is to create once an environment variable (containing your classpath). You won't have to type the command line each time, but only \"java(c) -cp $CLASSPATH MyProgram\"</p>\n"},{"tags":[],"owner":{"account_id":170556,"reputation":693,"user_id":397337,"accept_rate":62,"display_name":"Eduardo Rascon"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1280773130,"creation_date":1280773130,"answer_id":3390581,"question_id":3356475,"body_markdown":"Turns out that you can put any jar file into the ext folder (`C:\\Program Files\\java\\jdk1.6.0_21\\jre\\lib\\ext` and `C:\\Program Files\\java\\jre6\\lib\\ext`) and java will automatically considered it part of the classpath, check it out: [ext directory: Java Glossary][1]\r\n\r\nDirty but it does what I need.\r\n\r\n\r\n  [1]: http://mindprod.com/jgloss/ext.html","title":"How to compile java with external libraries in notepad++?","body":"<p>Turns out that you can put any jar file into the ext folder (<code>C:\\Program Files\\java\\jdk1.6.0_21\\jre\\lib\\ext</code> and <code>C:\\Program Files\\java\\jre6\\lib\\ext</code>) and java will automatically considered it part of the classpath, check it out: <a href=\"http://mindprod.com/jgloss/ext.html\" rel=\"noreferrer\">ext directory: Java Glossary</a></p>\n\n<p>Dirty but it does what I need.</p>\n"},{"tags":[],"owner":{"account_id":13844840,"reputation":91,"user_id":9994228,"display_name":"Some_North_korea_kid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643908173,"creation_date":1643908173,"answer_id":70975469,"question_id":3356475,"body_markdown":"I use the plugin &quot;NppExec&quot; in Notepad++ and I use this script\r\n\r\ncd $(CURRENT_DIRECTORY)\r\njavac -cp C:\\Coding\\JAVA\\jlablib.jar;. $(FILE_NAME)\r\njava  -cp C:\\Coding\\JAVA\\jlablib.jar;. $(NAME_PART)\r\n\r\nfor executing the Java class\r\nwhich C:\\Coding\\JAVA\\jlablib.jar is my .jar file directory.","title":"How to compile java with external libraries in notepad++?","body":"<p>I use the plugin &quot;NppExec&quot; in Notepad++ and I use this script</p>\n<p>cd $(CURRENT_DIRECTORY)\njavac -cp C:\\Coding\\JAVA\\jlablib.jar;. $(FILE_NAME)\njava  -cp C:\\Coding\\JAVA\\jlablib.jar;. $(NAME_PART)</p>\n<p>for executing the Java class\nwhich C:\\Coding\\JAVA\\jlablib.jar is my .jar file directory.</p>\n"}],"owner":{"account_id":170556,"reputation":693,"user_id":397337,"accept_rate":62,"display_name":"Eduardo Rascon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10230,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":3390581,"answer_count":3,"score":5,"last_activity_date":1643909044,"creation_date":1280344117,"question_id":3356475,"body_markdown":"I&#39;m using Notepad++ to learn Java. I have it set it up to compile and run Java from the Run menu, only that I have been coding small exercises without external libraries, I know I have to use `-classpath` to tell the compiler what library to use, but I was wondering if there is any way to tell the compiler to &quot;use&quot; the libraries in the lib directory of my current project. \r\n\r\nThanks.","title":"How to compile java with external libraries in notepad++?","body":"<p>I'm using Notepad++ to learn Java. I have it set it up to compile and run Java from the Run menu, only that I have been coding small exercises without external libraries, I know I have to use <code>-classpath</code> to tell the compiler what library to use, but I was wondering if there is any way to tell the compiler to \"use\" the libraries in the lib directory of my current project. </p>\n\n<p>Thanks.</p>\n"},{"tags":["java","tomcat","jmx","datadog"],"comments":[{"owner":{"account_id":172825,"reputation":9242,"user_id":401096,"accept_rate":75,"display_name":"bwest"},"score":0,"creation_date":1643045247,"post_id":70800660,"comment_id":125230309,"body_markdown":"Can you share the JMX config (without sensitive data, of course)? Do you have any [filters](https://docs.datadoghq.com/integrations/java/?tab=host#description-of-the-filters)?","body":"Can you share the JMX config (without sensitive data, of course)? Do you have any <a href=\"https://docs.datadoghq.com/integrations/java/?tab=host#description-of-the-filters\" rel=\"nofollow noreferrer\">filters</a>?"},{"owner":{"account_id":7142349,"reputation":116,"user_id":5459458,"display_name":"fayas_akram"},"score":0,"creation_date":1643865403,"post_id":70800660,"comment_id":125454393,"body_markdown":"I shared on the question post @bwest","body":"I shared on the question post @bwest"}],"answers":[{"tags":[],"owner":{"account_id":172825,"reputation":9242,"user_id":401096,"accept_rate":75,"display_name":"bwest"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643908794,"creation_date":1643908794,"answer_id":70975590,"question_id":70800660,"body_markdown":"It is very likely that your `include` filters are not matching any attributes, which is why metrics are not being sent. You can debug this and find the appropriate attributes by using the [troubleshooting commands][1]. \r\n\r\nIn order, I suggest:\r\n\r\n 1. `sudo -u dd-agent datadog-agent jmx list collected` to see what is collected\r\n 2. `sudo -u dd-agent datadog-agent jmx list matching` to find what is matching your configuration\r\n 3. if your attributes match, `sudo -u dd-agent datadog-agent jmx list limited` to see if thresholds are limiting what is collected\r\n 4. if they don&#39;t, `sudo -u dd-agent datadog-agent jmx list not-matching` to see what is not matching.\r\n\r\nThen adjust your configuration and try again.\r\n\r\n  [1]: https://docs.datadoghq.com/integrations/faq/troubleshooting-jmx-integrations/?tab=agentv6v7#agent-troubleshooting","title":"Data Dog Does not push/send JMX metrics when tomcat path is diffrent","body":"<p>It is very likely that your <code>include</code> filters are not matching any attributes, which is why metrics are not being sent. You can debug this and find the appropriate attributes by using the <a href=\"https://docs.datadoghq.com/integrations/faq/troubleshooting-jmx-integrations/?tab=agentv6v7#agent-troubleshooting\" rel=\"nofollow noreferrer\">troubleshooting commands</a>.</p>\n<p>In order, I suggest:</p>\n<ol>\n<li><code>sudo -u dd-agent datadog-agent jmx list collected</code> to see what is collected</li>\n<li><code>sudo -u dd-agent datadog-agent jmx list matching</code> to find what is matching your configuration</li>\n<li>if your attributes match, <code>sudo -u dd-agent datadog-agent jmx list limited</code> to see if thresholds are limiting what is collected</li>\n<li>if they don't, <code>sudo -u dd-agent datadog-agent jmx list not-matching</code> to see what is not matching.</li>\n</ol>\n<p>Then adjust your configuration and try again.</p>\n"}],"owner":{"account_id":7142349,"reputation":116,"user_id":5459458,"display_name":"fayas_akram"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1363,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643908794,"creation_date":1642765194,"question_id":70800660,"body_markdown":"I have installed my tomcat on different locations and I have enabled JMX Metric.\r\nData Dog Agent collects the metrics but it does not push metrics to data dog.\r\n\r\n***Data Dog Agent Status***\r\n```\r\n========\r\nJMXFetch\r\n========\r\n\r\n  Information\r\n  ==================\r\n    runtime_version : 11.0.6\r\n    version : 0.44.6\r\n  Initialized checks\r\n  ==================\r\n    jmx\r\n      instance_name : test server\r\n      message : &lt;no value&gt;\r\n      metric_count : 165\r\n      service_check_count : 0\r\n      status : OK\r\n  Failed checks\r\n  =============\r\n    no checks\r\n```\r\n***Tomcat is configured to enable JMX with a JMX password. But tomcat is installed in a different path***\r\n\r\n****I think this could be due to the tomcat path being different****\r\ntomcat path is ```/opt/tomcat```\r\n\r\n***DATA DOG AGENT JMX LOGS AS FOLLOWS***\r\n```\r\n2022-01-21 11:42:46 IST | JMX | INFO | ConnectionFactory | Connecting using JMX Remote\r\n2022-01-21 11:42:46 IST | JMX | INFO | Connection | Connecting to: service:jmx:rmi:///jndi/rmi://localhost:9999/jmxrmi\r\n2022-01-21 11:42:46 IST | JMX | INFO | Instance | Trying to collect bean list for the first time for JMX Server at test server\r\n2022-01-21 11:42:46 IST | JMX | INFO | Instance | Connected to JMX Server at test server\r\n2022-01-21 11:42:47 IST | JMX | INFO | Instance | Found 159 matching attributes\r\n2022-01-21 11:42:47 IST | JMX | INFO | Instance | Done initializing JMX Server at test server\r\n2022-01-21 11:42:47 IST | JMX | INFO | App | Completed instance initialization...\r\n2022-01-21 11:42:47 IST | JMX | INFO | App | Successfully initialized instance: test server\r\n2022-01-21 11:42:47 IST | JMX | INFO | Reporter | Instance test-server is sending 165 metrics to the metrics reporter during collection #1\r\n2022-01-21 11:43:01 IST | JMX | INFO | Reporter | Instance test-server is sending 165 metrics to the metrics reporter during collection #2\r\n2022-01-21 11:43:16 IST | JMX | INFO | Reporter | Instance test-server is sending 165 metrics to the metrics reporter during collection #3\r\n2022-01-21 11:43:31 IST | JMX | INFO | Reporter | Instance test-server is sending 165 metrics to the metrics reporter during collection #4\r\n2022-01-21 11:43:46 IST | JMX | INFO | Reporter | Instance test-server is sending 165 metrics to the metrics reporter during collection #5\r\n2022-01-21 11:43:46 IST | JMX | INFO | Reporter | Next collections will be logged only every 10 collections.\r\n```\r\n\r\n```\r\nconf:\r\n    - include:\r\n        type: ThreadPool\r\n        attribute:\r\n          maxThreads:\r\n            alias: tomcat.threads.max\r\n            metric_type: gauge\r\n          currentThreadCount:\r\n            alias: tomcat.threads.count\r\n            metric_type: gauge\r\n          currentThreadsBusy:\r\n            alias: tomcat.threads.busy\r\n            metric_type: gauge\r\n    - include:\r\n        type: GlobalRequestProcessor\r\n        attribute:\r\n          bytesSent:\r\n            alias: tomcat.bytes_sent\r\n            metric_type: counter\r\n          bytesReceived:\r\n            alias: tomcat.bytes_rcvd\r\n            metric_type: counter\r\n          errorCount:\r\n            alias: tomcat.error_count\r\n            metric_type: counter\r\n          requestCount:\r\n            alias: tomcat.request_count\r\n            metric_type: counter\r\n          maxTime:\r\n            alias: tomcat.max_time\r\n            metric_type: gauge\r\n          processingTime:\r\n            alias: tomcat.processing_time\r\n            metric_type: counter\r\n    - include:\r\n        j2eeType: Servlet\r\n        attribute:\r\n          processingTime:\r\n            alias: tomcat.servlet.processing_time\r\n            metric_type: counter\r\n          errorCount:\r\n            alias: tomcat.servlet.error_count\r\n            metric_type: counter\r\n          requestCount:\r\n            alias: tomcat.servlet.request_count\r\n            metric_type: counter\r\n    - include:\r\n        type: Cache\r\n        attribute:\r\n          accessCount:\r\n            alias: tomcat.cache.access_count\r\n            metric_type: counter\r\n          hitsCounts:\r\n            alias: tomcat.cache.hits_count\r\n            metric_type: counter\r\n    - include:\r\n        type: JspMonitor\r\n        attribute:\r\n          jspCount:\r\n            alias: tomcat.jsp.count\r\n            metric_type: counter\r\n          jspReloadCount:\r\n            alias: tomcat.jsp.reload_count\r\n            metric_type: counter\r\n```","title":"Data Dog Does not push/send JMX metrics when tomcat path is diffrent","body":"<p>I have installed my tomcat on different locations and I have enabled JMX Metric.\nData Dog Agent collects the metrics but it does not push metrics to data dog.</p>\n<p><em><strong>Data Dog Agent Status</strong></em></p>\n<pre><code>========\nJMXFetch\n========\n\n  Information\n  ==================\n    runtime_version : 11.0.6\n    version : 0.44.6\n  Initialized checks\n  ==================\n    jmx\n      instance_name : test server\n      message : &lt;no value&gt;\n      metric_count : 165\n      service_check_count : 0\n      status : OK\n  Failed checks\n  =============\n    no checks\n</code></pre>\n<p><em><strong>Tomcat is configured to enable JMX with a JMX password. But tomcat is installed in a different path</strong></em></p>\n<p><strong><strong>I think this could be due to the tomcat path being different</strong></strong>\ntomcat path is <code>/opt/tomcat</code></p>\n<p><em><strong>DATA DOG AGENT JMX LOGS AS FOLLOWS</strong></em></p>\n<pre><code>2022-01-21 11:42:46 IST | JMX | INFO | ConnectionFactory | Connecting using JMX Remote\n2022-01-21 11:42:46 IST | JMX | INFO | Connection | Connecting to: service:jmx:rmi:///jndi/rmi://localhost:9999/jmxrmi\n2022-01-21 11:42:46 IST | JMX | INFO | Instance | Trying to collect bean list for the first time for JMX Server at test server\n2022-01-21 11:42:46 IST | JMX | INFO | Instance | Connected to JMX Server at test server\n2022-01-21 11:42:47 IST | JMX | INFO | Instance | Found 159 matching attributes\n2022-01-21 11:42:47 IST | JMX | INFO | Instance | Done initializing JMX Server at test server\n2022-01-21 11:42:47 IST | JMX | INFO | App | Completed instance initialization...\n2022-01-21 11:42:47 IST | JMX | INFO | App | Successfully initialized instance: test server\n2022-01-21 11:42:47 IST | JMX | INFO | Reporter | Instance test-server is sending 165 metrics to the metrics reporter during collection #1\n2022-01-21 11:43:01 IST | JMX | INFO | Reporter | Instance test-server is sending 165 metrics to the metrics reporter during collection #2\n2022-01-21 11:43:16 IST | JMX | INFO | Reporter | Instance test-server is sending 165 metrics to the metrics reporter during collection #3\n2022-01-21 11:43:31 IST | JMX | INFO | Reporter | Instance test-server is sending 165 metrics to the metrics reporter during collection #4\n2022-01-21 11:43:46 IST | JMX | INFO | Reporter | Instance test-server is sending 165 metrics to the metrics reporter during collection #5\n2022-01-21 11:43:46 IST | JMX | INFO | Reporter | Next collections will be logged only every 10 collections.\n</code></pre>\n<pre><code>conf:\n    - include:\n        type: ThreadPool\n        attribute:\n          maxThreads:\n            alias: tomcat.threads.max\n            metric_type: gauge\n          currentThreadCount:\n            alias: tomcat.threads.count\n            metric_type: gauge\n          currentThreadsBusy:\n            alias: tomcat.threads.busy\n            metric_type: gauge\n    - include:\n        type: GlobalRequestProcessor\n        attribute:\n          bytesSent:\n            alias: tomcat.bytes_sent\n            metric_type: counter\n          bytesReceived:\n            alias: tomcat.bytes_rcvd\n            metric_type: counter\n          errorCount:\n            alias: tomcat.error_count\n            metric_type: counter\n          requestCount:\n            alias: tomcat.request_count\n            metric_type: counter\n          maxTime:\n            alias: tomcat.max_time\n            metric_type: gauge\n          processingTime:\n            alias: tomcat.processing_time\n            metric_type: counter\n    - include:\n        j2eeType: Servlet\n        attribute:\n          processingTime:\n            alias: tomcat.servlet.processing_time\n            metric_type: counter\n          errorCount:\n            alias: tomcat.servlet.error_count\n            metric_type: counter\n          requestCount:\n            alias: tomcat.servlet.request_count\n            metric_type: counter\n    - include:\n        type: Cache\n        attribute:\n          accessCount:\n            alias: tomcat.cache.access_count\n            metric_type: counter\n          hitsCounts:\n            alias: tomcat.cache.hits_count\n            metric_type: counter\n    - include:\n        type: JspMonitor\n        attribute:\n          jspCount:\n            alias: tomcat.jsp.count\n            metric_type: counter\n          jspReloadCount:\n            alias: tomcat.jsp.reload_count\n            metric_type: counter\n</code></pre>\n"},{"tags":["java","itext"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1586035185,"post_id":61030895,"comment_id":107978987,"body_markdown":"First of all, what you do in your second method should be done using a `PdfStamper` instead of a `PdfWriter`. And in a single pass you can do that using a `PdfCopy` with `PageStamp` use.","body":"First of all, what you do in your second method should be done using a <code>PdfStamper</code> instead of a <code>PdfWriter</code>. And in a single pass you can do that using a <code>PdfCopy</code> with <code>PageStamp</code> use."},{"owner":{"account_id":5089149,"reputation":101,"user_id":4082737,"display_name":"Virudhai Paul"},"score":0,"creation_date":1586152087,"post_id":61030895,"comment_id":108011565,"body_markdown":"I tried with PdfStamper also. But we have to define output path for each file while merging when we write using PdfStamper. So can&#39;t mention PdfStamper at the time of merging.","body":"I tried with PdfStamper also. But we have to define output path for each file while merging when we write using PdfStamper. So can&#39;t mention PdfStamper at the time of merging."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1586161046,"post_id":61030895,"comment_id":108015018,"body_markdown":"No PdfStamper but a `PageStamp`! See [this answer](https://stackoverflow.com/a/60318520/1729265)","body":"No PdfStamper but a <code>PageStamp</code>! See <a href=\"https://stackoverflow.com/a/60318520/1729265\">this answer</a>"},{"owner":{"account_id":5089149,"reputation":101,"user_id":4082737,"display_name":"Virudhai Paul"},"score":0,"creation_date":1587538999,"post_id":61030895,"comment_id":108546857,"body_markdown":"@mkl thanks for sharing the link. let me try it out.","body":"@mkl thanks for sharing the link. let me try it out."}],"owner":{"account_id":5089149,"reputation":101,"user_id":4082737,"display_name":"Virudhai Paul"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":635,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643908443,"creation_date":1586016450,"question_id":61030895,"body_markdown":"I have to use two methods to write content in existing PDF page using PdfWriter and to merge PDFs using PdfCopy. I want to do it in one loop.\r\n\r\nPdfWriter object is not merging PDF like source page. We have to create a new page (A4) and add content into it from source page. To avoid that, we can use Pdfcopy object which merges exact size of PDF pages as source file has. The problem here is I have to merge first and then call the merged file to add content again. Since the PDF file has lot of pages, it&#39;s taking lot of time to perform this operation using two loops.\r\n\r\nI can&#39;t use PdfCopy option in same loop. \r\n\r\nHere aremy two methods:\r\n\r\n    public boolean mergePDFsinOneFile(List&lt;InputStream&gt; list, OutputStream outputStream,List&lt;Integer&gt; allDocId,int conDocId){\r\n\t\r\n\t\tcom.itextpdf.text.Document document = new com.itextpdf.text.Document();\r\n\t\tPdfCopy copy = new PdfCopy(document, outputStream);\r\n\r\n\t\tdocument.open();\r\n\t\t\r\n\t\tString storagePath = sql.getDirectoryPath();\r\n\t\tPdfReader reader = null;\r\n\t\t\r\n\t\tfor(int docId : allDocId) {\r\n\t\t\tString finalPath = &quot;&quot;;\r\n\t    \tResultSet doc = sql.getDocumentDetails(docId);\r\n\t    \tif(doc.next()) {\r\n\t\t    \tString relative_path = doc.getString(&quot;RELATIVE_PATH&quot;); \r\n\t\t    \t\r\n\t\t    \tif(relative_path.endsWith(&quot;.pdf&quot;) || relative_path.endsWith(&quot;.PDF&quot;)){\r\n\t\t    \t\t\r\n\t\t    \t\tfinalPath = storagePath +relative_path;\r\n\t\t    \t\treader = new PdfReader(finalPath);\r\n\t\t\t\t\t\r\n\t\t\t\t\tcopy.addDocument(reader);\r\n\t                copy.freeReader(reader);\r\n\t\t    \t}\r\n\t    \t}\r\n\t\t}\r\n\t\t\r\n\t\treader.close();\r\n\t\toutputStream.flush();\r\n\t\tdocument.close();\r\n\t\toutputStream.close();\r\n\t\t\r\n\t\tSystem.out.println(&quot;document merged&quot;);\r\n\t\treturn true;\r\n\t\t\r\n\t}\r\n\r\nAnd another method is:\r\n\r\n    public boolean mergePDFsinOneFileTe(List&lt;InputStream&gt; list, OutputStream outputStream,List&lt;Integer&gt; allDocId,int conDocId){\r\n\t\r\n\t\tcom.itextpdf.text.Document document = new com.itextpdf.text.Document();//PageSize.A4\r\n\t\tPdfWriter writer = PdfWriter.getInstance(document, outputStream);\r\n\t\tdocument.open();\r\n\t\t\r\n\t\tPdfContentByte cb = writer.getDirectContent();\r\n\t\tBaseFont bf = BaseFont.createFont();\r\n\t\tcb.setFontAndSize(bf, 8);\r\n\t\t\r\n\t\tString storagePath = sql.getDirectoryPath();\r\n\t\tResultSet conDocResult = sql.getDocumentDetails(conDocId);\r\n\t\tString printText = &quot;&quot;;\r\n\t\tString docName = &quot;&quot;;\r\n\t\tif(conDocResult.next())\r\n\t\t\tdocName = conDocResult.getString(&quot;DOCUMENT_NAME&quot;);\r\n\t\t\r\n\t\tfor(int docId : allDocId) {\r\n\t\t\tString finalPath = &quot;&quot;;\r\n\t\t\tprintText = &quot;&quot;;\r\n\t    \tResultSet doc = sql.getDocumentDetails(docId);\r\n\t    \tif(doc.next()) {\r\n\t\t    \tString relative_path = doc.getString(&quot;RELATIVE_PATH&quot;); \r\n\t\t    \t\r\n\t\t    \tif(relative_path.endsWith(&quot;.pdf&quot;) || relative_path.endsWith(&quot;.PDF&quot;)){\r\n\t\t    \t\tString docTypePrefix = &quot;&quot;;\r\n\t\t    \t\tint typeValue = 0;\r\n\t\t    \t\t\r\n\t\t    \t\tfinalPath = storagePath +relative_path;\r\n\t\t    \t\tPdfReader reader = new PdfReader(finalPath);\r\n\t\t    \t\tSystem.out.println(&quot;finalPath &quot;+finalPath);\r\n\t\t    \t\t\r\n\t\t    \t\tResultSet docTypeResult = sql.getDoctypeDetails(doc.getInt(&quot;DOCUMENT_TYPE_ID&quot;));\r\n\t\t    \t\tif(docTypeResult.next())\r\n\t\t    \t\t\tdocTypePrefix = docTypeResult.getString(&quot;CONSO_SUFFIX_NAME&quot;); //PREFIX\r\n\t\t    \t\t\r\n\t\t\t\t\tResultSet consolValue = sql.getConsolidateTypeValueByTypeId(doc.getInt(&quot;DOCUMENT_TYPE_ID&quot;));\r\n\t\t\t\t\tif(consolValue.next())\r\n\t\t\t\t\t\ttypeValue = Integer.parseInt(consolValue.getString(&quot;VALUE&quot;));\r\n\t\t\t\t\t\r\n\t\t    \t\tprintText = docName + &quot;-&quot; + &quot;[&quot; + typeValue + &quot;]&quot; + &quot;-&quot; + docTypePrefix;\r\n\t\t\t\t\tfor(int i = 1; i &lt;= reader.getNumberOfPages();i++){\r\n\t\t\t\t\t\tPdfImportedPage page = writer.getImportedPage(reader, i);\r\n\t\t\t\t\t\tcb.addTemplate(page, 0, 0);\r\n\t\t\t\t\t\tcb.beginText();\r\n\t\t\t\t\t\tColumnText.showTextAligned(cb, Element.ALIGN_LEFT, new Phrase(printText), document.left(), document.bottom() - 20, 0);\r\n\t\t\t\t\t\tcb.endText();\r\n\t\t\t\t\t\tdocument.newPage();\r\n\t\t\t\t\t}\r\n\t\t    \t}\r\n\t    \t}\r\n\t\t}\r\n\t\t\r\n\t\toutputStream.flush();\r\n\t\tdocument.close();\r\n\t\toutputStream.close();\r\n\t\tSystem.out.println(&quot;document merged&quot;);\r\n\t\treturn true;\r\n\t\t\r\n\t}\r\n\r\nHow to write content while looping and merge at same time?","title":"How to add content in existing PDF page using PdfWriter and PdfCopy in one loop","body":"<p>I have to use two methods to write content in existing PDF page using PdfWriter and to merge PDFs using PdfCopy. I want to do it in one loop.</p>\n<p>PdfWriter object is not merging PDF like source page. We have to create a new page (A4) and add content into it from source page. To avoid that, we can use Pdfcopy object which merges exact size of PDF pages as source file has. The problem here is I have to merge first and then call the merged file to add content again. Since the PDF file has lot of pages, it's taking lot of time to perform this operation using two loops.</p>\n<p>I can't use PdfCopy option in same loop.</p>\n<p>Here aremy two methods:</p>\n<pre><code>public boolean mergePDFsinOneFile(List&lt;InputStream&gt; list, OutputStream outputStream,List&lt;Integer&gt; allDocId,int conDocId){\n\n    com.itextpdf.text.Document document = new com.itextpdf.text.Document();\n    PdfCopy copy = new PdfCopy(document, outputStream);\n\n    document.open();\n    \n    String storagePath = sql.getDirectoryPath();\n    PdfReader reader = null;\n    \n    for(int docId : allDocId) {\n        String finalPath = &quot;&quot;;\n        ResultSet doc = sql.getDocumentDetails(docId);\n        if(doc.next()) {\n            String relative_path = doc.getString(&quot;RELATIVE_PATH&quot;); \n            \n            if(relative_path.endsWith(&quot;.pdf&quot;) || relative_path.endsWith(&quot;.PDF&quot;)){\n                \n                finalPath = storagePath +relative_path;\n                reader = new PdfReader(finalPath);\n                \n                copy.addDocument(reader);\n                copy.freeReader(reader);\n            }\n        }\n    }\n    \n    reader.close();\n    outputStream.flush();\n    document.close();\n    outputStream.close();\n    \n    System.out.println(&quot;document merged&quot;);\n    return true;\n    \n}\n</code></pre>\n<p>And another method is:</p>\n<pre><code>public boolean mergePDFsinOneFileTe(List&lt;InputStream&gt; list, OutputStream outputStream,List&lt;Integer&gt; allDocId,int conDocId){\n\n    com.itextpdf.text.Document document = new com.itextpdf.text.Document();//PageSize.A4\n    PdfWriter writer = PdfWriter.getInstance(document, outputStream);\n    document.open();\n    \n    PdfContentByte cb = writer.getDirectContent();\n    BaseFont bf = BaseFont.createFont();\n    cb.setFontAndSize(bf, 8);\n    \n    String storagePath = sql.getDirectoryPath();\n    ResultSet conDocResult = sql.getDocumentDetails(conDocId);\n    String printText = &quot;&quot;;\n    String docName = &quot;&quot;;\n    if(conDocResult.next())\n        docName = conDocResult.getString(&quot;DOCUMENT_NAME&quot;);\n    \n    for(int docId : allDocId) {\n        String finalPath = &quot;&quot;;\n        printText = &quot;&quot;;\n        ResultSet doc = sql.getDocumentDetails(docId);\n        if(doc.next()) {\n            String relative_path = doc.getString(&quot;RELATIVE_PATH&quot;); \n            \n            if(relative_path.endsWith(&quot;.pdf&quot;) || relative_path.endsWith(&quot;.PDF&quot;)){\n                String docTypePrefix = &quot;&quot;;\n                int typeValue = 0;\n                \n                finalPath = storagePath +relative_path;\n                PdfReader reader = new PdfReader(finalPath);\n                System.out.println(&quot;finalPath &quot;+finalPath);\n                \n                ResultSet docTypeResult = sql.getDoctypeDetails(doc.getInt(&quot;DOCUMENT_TYPE_ID&quot;));\n                if(docTypeResult.next())\n                    docTypePrefix = docTypeResult.getString(&quot;CONSO_SUFFIX_NAME&quot;); //PREFIX\n                \n                ResultSet consolValue = sql.getConsolidateTypeValueByTypeId(doc.getInt(&quot;DOCUMENT_TYPE_ID&quot;));\n                if(consolValue.next())\n                    typeValue = Integer.parseInt(consolValue.getString(&quot;VALUE&quot;));\n                \n                printText = docName + &quot;-&quot; + &quot;[&quot; + typeValue + &quot;]&quot; + &quot;-&quot; + docTypePrefix;\n                for(int i = 1; i &lt;= reader.getNumberOfPages();i++){\n                    PdfImportedPage page = writer.getImportedPage(reader, i);\n                    cb.addTemplate(page, 0, 0);\n                    cb.beginText();\n                    ColumnText.showTextAligned(cb, Element.ALIGN_LEFT, new Phrase(printText), document.left(), document.bottom() - 20, 0);\n                    cb.endText();\n                    document.newPage();\n                }\n            }\n        }\n    }\n    \n    outputStream.flush();\n    document.close();\n    outputStream.close();\n    System.out.println(&quot;document merged&quot;);\n    return true;\n    \n}\n</code></pre>\n<p>How to write content while looping and merge at same time?</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":6,"creation_date":1435336540,"post_id":31077844,"comment_id":50174780,"body_markdown":"Why don&#39;t you respect the standard gradle/Maven conventions? Everything would work fine automatically, without needing to configure all the paths.","body":"Why don&#39;t you respect the standard gradle/Maven conventions? Everything would work fine automatically, without needing to configure all the paths."},{"owner":{"account_id":3116542,"reputation":1299,"user_id":3450840,"accept_rate":56,"display_name":"Florian F"},"score":13,"creation_date":1539095893,"post_id":31077844,"comment_id":92372594,"body_markdown":"I for instance would like to have a separate directory for generated sources.","body":"I for instance would like to have a separate directory for generated sources."}],"answers":[{"tags":[],"owner":{"account_id":387305,"reputation":22984,"user_id":745574,"accept_rate":84,"display_name":"RaGe"},"down_vote_count":2,"up_vote_count":64,"is_accepted":true,"score":62,"last_activity_date":1643908317,"creation_date":1435339935,"answer_id":31078965,"question_id":31077844,"body_markdown":"I agree with @JB Nizet about respecting standard conventions. If you still insist on being an Anarchist though:\r\n\r\nYou already have `src` declared in your sourceset, why not add `src1` and `src2` as well? You can add them to the same sourceset, or define a sourceset per module if you want.\r\n\r\n    sourceSets {\r\n        main {\r\n            java {\r\n                srcDirs &#39;src&#39;\r\n                srcDirs &#39;src1&#39;\r\n                srcDirs &#39;src2&#39;\r\n            }\r\n        }\r\n     }\r\n\r\nTo reference files outside the project, see [this answer](https://stackoverflow.com/questions/41190324/in-gradle-how-to-use-sources-from-relative-path-outside-of-project).","title":"Add another java source directory to gradle script","body":"<p>I agree with @JB Nizet about respecting standard conventions. If you still insist on being an Anarchist though:</p>\n<p>You already have <code>src</code> declared in your sourceset, why not add <code>src1</code> and <code>src2</code> as well? You can add them to the same sourceset, or define a sourceset per module if you want.</p>\n<pre><code>sourceSets {\n    main {\n        java {\n            srcDirs 'src'\n            srcDirs 'src1'\n            srcDirs 'src2'\n        }\n    }\n }\n</code></pre>\n<p>To reference files outside the project, see <a href=\"https://stackoverflow.com/questions/41190324/in-gradle-how-to-use-sources-from-relative-path-outside-of-project\">this answer</a>.</p>\n"},{"tags":[],"owner":{"account_id":6914722,"reputation":592,"user_id":5309440,"display_name":"gabowsky"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1524638493,"creation_date":1524638493,"answer_id":50015612,"question_id":31077844,"body_markdown":"I have a slightly different approach with a Gradle 4.6:\r\n\r\n    sourceSets {\r\n        main {\r\n            java {\r\n                srcDir &#39;src/main/java&#39;\r\n                srcDir &#39;build/swagger-code-dummy/src/main/java&#39;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nas you can see, I had to specify the directories with the &quot;/main/java&quot; subdirectories as well, otherwise gradle/intellij was not setting the right path.\r\n\r\nMaybe this helps someone else too :)","title":"Add another java source directory to gradle script","body":"<p>I have a slightly different approach with a Gradle 4.6:</p>\n\n<pre><code>sourceSets {\n    main {\n        java {\n            srcDir 'src/main/java'\n            srcDir 'build/swagger-code-dummy/src/main/java'\n        }\n    }\n}\n</code></pre>\n\n<p>as you can see, I had to specify the directories with the \"/main/java\" subdirectories as well, otherwise gradle/intellij was not setting the right path.</p>\n\n<p>Maybe this helps someone else too :)</p>\n"},{"tags":[],"owner":{"account_id":6121688,"reputation":1155,"user_id":4775020,"accept_rate":33,"display_name":"Fresh Codemonger"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1580714710,"creation_date":1537420716,"answer_id":52418073,"question_id":31077844,"body_markdown":"A slightly different solution:\r\n\r\n    sourceSets.main.java.srcDirs = [&#39;build/jasper&#39;, &#39;src/main/java&#39;]","title":"Add another java source directory to gradle script","body":"<p>A slightly different solution:</p>\n\n<pre><code>sourceSets.main.java.srcDirs = ['build/jasper', 'src/main/java']\n</code></pre>\n"},{"tags":[],"owner":{"account_id":467725,"reputation":19389,"user_id":873282,"accept_rate":55,"display_name":"koppor"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1592577314,"creation_date":1589174908,"answer_id":61722884,"question_id":31077844,"body_markdown":"The question is about &quot;Adding&quot;; the question of the text is describing a more concrete scenario. If one just wants to add an existing directory, this is the way to *add*:\r\n\r\n    sourceSets.main.java.srcDirs += [&#39;src/gen/java&#39;]\r\n\r\nAn example full `build.gradle` is as follows:\r\n\r\n```groovy\r\napply plugin: &#39;java&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;com.squareup:javapoet:1.12.1&#39;\r\n}\r\n\r\nsourceSets.main.java.srcDirs += [&#39;src/gen/java&#39;]\r\n```\r\n\r\n[JavaPoet](https://github.com/square/javapoet#javapoet) s a Java API for generating `.java` source files. It is just used as example library for the `build.gradle` file.","title":"Add another java source directory to gradle script","body":"<p>The question is about \"Adding\"; the question of the text is describing a more concrete scenario. If one just wants to add an existing directory, this is the way to <em>add</em>:</p>\n\n<pre><code>sourceSets.main.java.srcDirs += ['src/gen/java']\n</code></pre>\n\n<p>An example full <code>build.gradle</code> is as follows:</p>\n\n<pre><code>apply plugin: 'java'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'com.squareup:javapoet:1.12.1'\n}\n\nsourceSets.main.java.srcDirs += ['src/gen/java']\n</code></pre>\n\n<p><a href=\"https://github.com/square/javapoet#javapoet\" rel=\"noreferrer\">JavaPoet</a> s a Java API for generating <code>.java</code> source files. It is just used as example library for the <code>build.gradle</code> file.</p>\n"}],"owner":{"account_id":4201139,"reputation":1399,"user_id":3441222,"accept_rate":71,"display_name":"RedCollarPanda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77155,"favorite_count":0,"down_vote_count":0,"up_vote_count":51,"accepted_answer_id":31078965,"answer_count":4,"score":51,"last_activity_date":1643908317,"creation_date":1435335549,"question_id":31077844,"body_markdown":"I hava an example java project package \r\n\r\npackage com.example.testing;\r\n\r\nwith such file tree\r\n\r\n    app\r\n    |\r\n      src-&gt;com-&gt;example-&gt;testing-&gt;Main.java\r\n\r\n\r\n\r\nand a gradle script:\r\n\r\n\r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;application&#39;\r\n\r\n    sourceSets {\r\n        main {\r\n            java {\r\n                srcDirs &#39;src&#39;\r\n            }\r\n        }\r\n\r\n\r\n    }\r\n\r\n    sourceSets.main.output.classesDir = file(&quot;classes&quot;)\r\n    mainClassName = &#39;com.example.testing.Main&#39;\r\n\r\n    defaultTasks &#39;compileJava&#39;, &#39;run&#39;\r\n\r\n\r\nNow I want to add some module to this project and my folders will be something like this\r\n\r\n\r\n    app\r\n    |\r\n      src1-&gt;com-&gt;example-&gt;testing-&gt;Main.java\r\n\r\n      src2-&gt;com-&gt;another_example-&gt;another_testing-&gt;Library.java\r\n\r\n\r\nHow do I add new source code to gradle script?\r\n   \r\n","title":"Add another java source directory to gradle script","body":"<p>I hava an example java project package </p>\n\n<p>package com.example.testing;</p>\n\n<p>with such file tree</p>\n\n<pre><code>app\n|\n  src-&gt;com-&gt;example-&gt;testing-&gt;Main.java\n</code></pre>\n\n<p>and a gradle script:</p>\n\n<pre><code>apply plugin: 'java'\napply plugin: 'application'\n\nsourceSets {\n    main {\n        java {\n            srcDirs 'src'\n        }\n    }\n\n\n}\n\nsourceSets.main.output.classesDir = file(\"classes\")\nmainClassName = 'com.example.testing.Main'\n\ndefaultTasks 'compileJava', 'run'\n</code></pre>\n\n<p>Now I want to add some module to this project and my folders will be something like this</p>\n\n<pre><code>app\n|\n  src1-&gt;com-&gt;example-&gt;testing-&gt;Main.java\n\n  src2-&gt;com-&gt;another_example-&gt;another_testing-&gt;Library.java\n</code></pre>\n\n<p>How do I add new source code to gradle script?</p>\n"},{"tags":["java","spring","rabbitmq","amqp","spring-amqp"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1643907747,"creation_date":1476190720,"answer_id":39977816,"question_id":39976292,"body_markdown":"Don&#39;t use a `MessageListenerAdapter` in that case, simply implement `MessageListener` to get the raw message.\r\n\r\nAlternatively, consider using the [newer, annotation-based, POJO listener](https://docs.spring.io/spring-amqp/reference/html/#async-annotation-driven), where you can get access to headers as well as the converted payload...\r\n\r\n    @RabbitListener(queues = &quot;foo&quot;)\r\n    public void listen(MyPojo pojo, @Header(&quot;foo&quot;) String fooHeader) { ... }\r\n\r\n","title":"Getting message object using message listener adapter in spring AMQP","body":"<p>Don't use a <code>MessageListenerAdapter</code> in that case, simply implement <code>MessageListener</code> to get the raw message.</p>\n<p>Alternatively, consider using the <a href=\"https://docs.spring.io/spring-amqp/reference/html/#async-annotation-driven\" rel=\"nofollow noreferrer\">newer, annotation-based, POJO listener</a>, where you can get access to headers as well as the converted payload...</p>\n<pre><code>@RabbitListener(queues = &quot;foo&quot;)\npublic void listen(MyPojo pojo, @Header(&quot;foo&quot;) String fooHeader) { ... }\n</code></pre>\n"}],"owner":{"account_id":3447381,"reputation":949,"user_id":2887856,"accept_rate":62,"display_name":"Pulkit Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10410,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":39977816,"answer_count":1,"score":3,"last_activity_date":1643907747,"creation_date":1476185471,"question_id":39976292,"body_markdown":"I have created a message listener using spring AMQP which I am using to receive an Order POJO. The message type is application/json and so I have set up a jackson message convertor. \r\nTill now things are working fine and I am able to get the order POJO object recreated automatically in my listener.\r\nHowever I want to extend this example and want to check some message property in my listener. Thus instead of using my Order POJO in my handleMessage() I want to use &quot;org.springframework.amqp.core.Message&quot; as the parameter. I can then later convert the body, but in this way I will have all the message related properties in my listener which I can use in my application.\r\n\r\nI tried using the handleMessage() with Message parameter but it seems that it tries to convert the message body as well using jackson convertors. I am not sure where to pass the Order POJO class jackson can use to convert my message body but should still be able to convert the Message correctly.\r\n\r\nPlease find below the important snippets from my code.\r\nPlease help me as I think I have hit a roadblock on this.\r\n\r\nPOJO\r\n\r\n    public class Order {\r\n\r\n    private int orderid;\r\n    private String itemDescription;\r\n\r\nTEMPLATE AND CONVERTER SETTINGS\r\n\r\n    @Bean\r\n    public RabbitTemplate rubeExchangeTemplate() {\r\n        logger.info(&quot;Lets test autowiring &quot; + rabbitConnectionFactory.getHost());\r\n        RabbitTemplate r = new RabbitTemplate(this.rabbitConnectionFactory);\r\n        r.setExchange(&quot;rmq-exchange&quot;);\r\n        r.setMessageConverter(jsonMessageConverter());\r\n        return r;\r\n    }\r\n\r\n    @Bean\r\n    public MessageConverter jsonMessageConverter()\r\n    {\r\n        final Jackson2JsonMessageConverter converter = new Jackson2JsonMessageConverter();\r\n        converter.setClassMapper(classMapper());\r\n        return converter;\r\n    }\r\n\r\n    @Bean\r\n    public DefaultClassMapper classMapper()\r\n    {\r\n        DefaultClassMapper typeMapper = new DefaultClassMapper();\r\n        typeMapper.setDefaultType(Order.class);\r\n        return typeMapper;\r\n    }\r\n\r\n\r\nMESSAGE WHICH I AM SENDING(messageText contains the JSON compliant with the Order POJO)\r\n\r\n            Message message = MessageBuilder.withBody(messageText.getBytes())\r\n                .setMessageId(&quot;123&quot;)\r\n                .setContentType(&quot;application/json&quot;)\r\n                .setHeader(&quot;bar&quot;, &quot;baz&quot;)\r\n                .build();\r\n\r\nLISTENER \r\n\r\n    @Bean(value = &quot;rube&quot;)\r\n    public SimpleMessageListenerContainer listenerContainer() {\r\n        SimpleMessageListenerContainer container = new SimpleMessageListenerContainer();\r\n        container.setConnectionFactory(cf);\r\n        container.setQueueNames(&quot;rmq-rube-queue&quot;);\r\n        container.setMessageListener(messageListenerAdapter());\r\n        return container;\r\n    }\r\n\r\n    @Bean\r\n    public MessageListenerAdapter messageListenerAdapter() {\r\n        MessageListenerAdapter listener =  new MessageListenerAdapter(pm, converter);\r\n        return listener;\r\n    }","title":"Getting message object using message listener adapter in spring AMQP","body":"<p>I have created a message listener using spring AMQP which I am using to receive an Order POJO. The message type is application/json and so I have set up a jackson message convertor. \nTill now things are working fine and I am able to get the order POJO object recreated automatically in my listener.\nHowever I want to extend this example and want to check some message property in my listener. Thus instead of using my Order POJO in my handleMessage() I want to use \"org.springframework.amqp.core.Message\" as the parameter. I can then later convert the body, but in this way I will have all the message related properties in my listener which I can use in my application.</p>\n\n<p>I tried using the handleMessage() with Message parameter but it seems that it tries to convert the message body as well using jackson convertors. I am not sure where to pass the Order POJO class jackson can use to convert my message body but should still be able to convert the Message correctly.</p>\n\n<p>Please find below the important snippets from my code.\nPlease help me as I think I have hit a roadblock on this.</p>\n\n<p>POJO</p>\n\n<pre><code>public class Order {\n\nprivate int orderid;\nprivate String itemDescription;\n</code></pre>\n\n<p>TEMPLATE AND CONVERTER SETTINGS</p>\n\n<pre><code>@Bean\npublic RabbitTemplate rubeExchangeTemplate() {\n    logger.info(\"Lets test autowiring \" + rabbitConnectionFactory.getHost());\n    RabbitTemplate r = new RabbitTemplate(this.rabbitConnectionFactory);\n    r.setExchange(\"rmq-exchange\");\n    r.setMessageConverter(jsonMessageConverter());\n    return r;\n}\n\n@Bean\npublic MessageConverter jsonMessageConverter()\n{\n    final Jackson2JsonMessageConverter converter = new Jackson2JsonMessageConverter();\n    converter.setClassMapper(classMapper());\n    return converter;\n}\n\n@Bean\npublic DefaultClassMapper classMapper()\n{\n    DefaultClassMapper typeMapper = new DefaultClassMapper();\n    typeMapper.setDefaultType(Order.class);\n    return typeMapper;\n}\n</code></pre>\n\n<p>MESSAGE WHICH I AM SENDING(messageText contains the JSON compliant with the Order POJO)</p>\n\n<pre><code>        Message message = MessageBuilder.withBody(messageText.getBytes())\n            .setMessageId(\"123\")\n            .setContentType(\"application/json\")\n            .setHeader(\"bar\", \"baz\")\n            .build();\n</code></pre>\n\n<p>LISTENER </p>\n\n<pre><code>@Bean(value = \"rube\")\npublic SimpleMessageListenerContainer listenerContainer() {\n    SimpleMessageListenerContainer container = new SimpleMessageListenerContainer();\n    container.setConnectionFactory(cf);\n    container.setQueueNames(\"rmq-rube-queue\");\n    container.setMessageListener(messageListenerAdapter());\n    return container;\n}\n\n@Bean\npublic MessageListenerAdapter messageListenerAdapter() {\n    MessageListenerAdapter listener =  new MessageListenerAdapter(pm, converter);\n    return listener;\n}\n</code></pre>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":14125746,"reputation":2532,"user_id":10205096,"display_name":"Jason"},"score":0,"creation_date":1643906127,"post_id":70974952,"comment_id":125469093,"body_markdown":"If you put the null check in the try, then you can handle it in the catch. Maybe you can throw a Null Pointer exception.","body":"If you put the null check in the try, then you can handle it in the catch. Maybe you can throw a Null Pointer exception."},{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1643906179,"post_id":70974952,"comment_id":125469115,"body_markdown":"Set `result = null;` in the `catch` block? Or assuming `result` is initialised as `null` before the `try` block, the `catch` block could just be empty.","body":"Set <code>result = null;</code> in the <code>catch</code> block? Or assuming <code>result</code> is initialised as <code>null</code> before the <code>try</code> block, the <code>catch</code> block could just be empty."},{"owner":{"account_id":18280013,"reputation":9775,"user_id":13308991,"display_name":"Arpit Shukla"},"score":0,"creation_date":1643906505,"post_id":70974952,"comment_id":125469261,"body_markdown":"Do you want a Java solution or a Kotlin one? You code is in Java, but you have also put a Kotlin tag?","body":"Do you want a Java solution or a Kotlin one? You code is in Java, but you have also put a Kotlin tag?"}],"answers":[{"tags":[],"owner":{"account_id":3422140,"reputation":821,"user_id":2869332,"accept_rate":27,"display_name":"Zulfe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643906604,"creation_date":1643906260,"answer_id":70975031,"question_id":70974952,"body_markdown":"If `callMethod()` is your own method, you could update that to perform the `null` check internally and throw the error...\r\n\r\n```js\r\nfunction callMethod() {\r\n    const responseFromService = null;\r\n\r\n    if (responseFromService == null)\r\n        throw new SomeException(`Expected a valid response from the service but got null.`);\r\n}\r\n\r\ntry {\r\n  result = callMethod();\r\n}\r\ncatch (SomeException e) {\r\n  throw new UserFiendlyException(&quot;cannot process you, try again pls&quot;);\r\n}\r\n```\r\n\r\nYou can also try the [null coalescing operator](https://en.wikipedia.org/wiki/Null_coalescing_operator#Kotlin)...\r\n\r\n```kotlin\r\ntry {\r\n  result = callMethod() ?: throw new SomeException(`Escape!`);\r\n}\r\ncatch (SomeException e) {\r\n  throw new UserFiendlyException(&quot;cannot process you, try again pls&quot;);\r\n}\r\n```\r\n\r\nOr just keep it simple and check for null within the `try`...\r\n\r\n```js\r\ntry {\r\n  result = callMethod();\r\n  if (result == null) throw new SomeException(`Escape!`);\r\n}\r\ncatch (SomeException e) {\r\n  throw new UserFiendlyException(&quot;cannot process you, try again pls&quot;);\r\n}\r\n```\r\n\r\nEdit: Answer originally had the [nullish coalescing operator](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Nullish_coalescing_operator) as an option, but the question is for Java, not JavaScript. My bad.\r\n\r\nEdit (2): Turns out there is a nullish coalescing operator in Kotlin; option restored.","title":"What is an elegant way to wrap an error an rethrow in both cases?","body":"<p>If <code>callMethod()</code> is your own method, you could update that to perform the <code>null</code> check internally and throw the error...</p>\n<pre class=\"lang-js prettyprint-override\"><code>function callMethod() {\n    const responseFromService = null;\n\n    if (responseFromService == null)\n        throw new SomeException(`Expected a valid response from the service but got null.`);\n}\n\ntry {\n  result = callMethod();\n}\ncatch (SomeException e) {\n  throw new UserFiendlyException(&quot;cannot process you, try again pls&quot;);\n}\n</code></pre>\n<p>You can also try the <a href=\"https://en.wikipedia.org/wiki/Null_coalescing_operator#Kotlin\" rel=\"nofollow noreferrer\">null coalescing operator</a>...</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>try {\n  result = callMethod() ?: throw new SomeException(`Escape!`);\n}\ncatch (SomeException e) {\n  throw new UserFiendlyException(&quot;cannot process you, try again pls&quot;);\n}\n</code></pre>\n<p>Or just keep it simple and check for null within the <code>try</code>...</p>\n<pre class=\"lang-js prettyprint-override\"><code>try {\n  result = callMethod();\n  if (result == null) throw new SomeException(`Escape!`);\n}\ncatch (SomeException e) {\n  throw new UserFiendlyException(&quot;cannot process you, try again pls&quot;);\n}\n</code></pre>\n<p>Edit: Answer originally had the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Nullish_coalescing_operator\" rel=\"nofollow noreferrer\">nullish coalescing operator</a> as an option, but the question is for Java, not JavaScript. My bad.</p>\n<p>Edit (2): Turns out there is a nullish coalescing operator in Kotlin; option restored.</p>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643907103,"creation_date":1643907103,"answer_id":70975225,"question_id":70974952,"body_markdown":"`try...catch` and `throw` are expressions in Kotlin, so you can do:\r\n\r\n    val result =\r\n        try {\r\n            callMethod()\r\n        } catch (e: SomeException) {\r\n            null\r\n        } ?: throw UserFiendlyException(&quot;cannot process you, try again pls&quot;)\r\n\r\nThe `try...catch` will produce `null` if either `callMethod` returns null. or if an exception occurred. We check if it is null using `?:`, and if it is, we throw the user friendly exception.\r\n\r\n`result` will end up having a non nullable type.","title":"What is an elegant way to wrap an error an rethrow in both cases?","body":"<p><code>try...catch</code> and <code>throw</code> are expressions in Kotlin, so you can do:</p>\n<pre><code>val result =\n    try {\n        callMethod()\n    } catch (e: SomeException) {\n        null\n    } ?: throw UserFiendlyException(&quot;cannot process you, try again pls&quot;)\n</code></pre>\n<p>The <code>try...catch</code> will produce <code>null</code> if either <code>callMethod</code> returns null. or if an exception occurred. We check if it is null using <code>?:</code>, and if it is, we throw the user friendly exception.</p>\n<p><code>result</code> will end up having a non nullable type.</p>\n"}],"owner":{"account_id":15096004,"reputation":2715,"user_id":10894456,"display_name":"J.J. Beam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":691,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70975225,"answer_count":2,"score":1,"last_activity_date":1643907483,"creation_date":1643905924,"question_id":70974952,"body_markdown":"There is a method which can:\r\n\r\n 1. throw an error\r\n 2. return null\r\n\r\nI need to throw a user friendly exception to upper level in the both cases. What is the most elegant way for it? The brute force is:\r\n\r\n    try {\r\n      result = callMethod();\r\n    } catch (SomeException e) {\r\n      throw new UserFiendlyException(&quot;cannot process you, try again pls&quot;);\r\n    }\r\n    if (result == null) {\r\n      throw new UserFiendlyException(&quot;cannot process you, try again pls&quot;);\r\n    }\r\n**UPD 1**: kotlin is accepted and preferable (but I&#39;m also curious how could it be in Java)\r\n\r\n**UPD 2**: Please, don&#39;t suggest `the use of exceptions for control flow is an anti-pattern`: https://softwareengineering.stackexchange.com/questions/189222/are-exceptions-as-control-flow-considered-a-serious-antipattern-if-so-why","title":"What is an elegant way to wrap an error an rethrow in both cases?","body":"<p>There is a method which can:</p>\n<ol>\n<li>throw an error</li>\n<li>return null</li>\n</ol>\n<p>I need to throw a user friendly exception to upper level in the both cases. What is the most elegant way for it? The brute force is:</p>\n<pre><code>try {\n  result = callMethod();\n} catch (SomeException e) {\n  throw new UserFiendlyException(&quot;cannot process you, try again pls&quot;);\n}\nif (result == null) {\n  throw new UserFiendlyException(&quot;cannot process you, try again pls&quot;);\n}\n</code></pre>\n<p><strong>UPD 1</strong>: kotlin is accepted and preferable (but I'm also curious how could it be in Java)</p>\n<p><strong>UPD 2</strong>: Please, don't suggest <code>the use of exceptions for control flow is an anti-pattern</code>: <a href=\"https://softwareengineering.stackexchange.com/questions/189222/are-exceptions-as-control-flow-considered-a-serious-antipattern-if-so-why\">https://softwareengineering.stackexchange.com/questions/189222/are-exceptions-as-control-flow-considered-a-serious-antipattern-if-so-why</a></p>\n"},{"tags":["java","kubernetes","rabbitmq"],"comments":[{"owner":{"account_id":23718608,"reputation":1143,"user_id":17739440,"display_name":"mozello"},"score":0,"creation_date":1643961628,"post_id":70975274,"comment_id":125482835,"body_markdown":"Hi HishamNajem, do you have any issues with Kubernetes itself? Pods are starting/running/terminating as they should; any Pod connectivity problems?","body":"Hi HishamNajem, do you have any issues with Kubernetes itself? Pods are starting/running/terminating as they should; any Pod connectivity problems?"},{"owner":{"account_id":19291595,"reputation":1,"user_id":14101469,"display_name":"HishamNajem"},"score":0,"creation_date":1643985618,"post_id":70975274,"comment_id":125491579,"body_markdown":"Hello Ivan M., the Kubernetes side is fine.. once a pod is up i&#39;m easily able to have it start consuming data. The issue is I want to have only one pod consume data from one routing key.","body":"Hello Ivan M., the Kubernetes side is fine.. once a pod is up i&#39;m easily able to have it start consuming data. The issue is I want to have only one pod consume data from one routing key."}],"owner":{"account_id":19291595,"reputation":1,"user_id":14101469,"display_name":"HishamNajem"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":397,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643907382,"creation_date":1643907382,"question_id":70975274,"body_markdown":"**System architecture:**\r\n\r\nI have a RabbitMQ node with unallocated and allocated exchanges and queues. I am spinning up pods (consumers) which on initialization talk to RabbitMQ management microservice telling it that it is ready to start consuming messages.\r\n\r\n**Scenario:**\r\n\r\nMessage with routing key X comes in and if it is able to be routed by an allocated exchange to a dedicated queue (queue per pod -- direct) then send it off and we are happy. Otherwise we have a new routing key that has to be allocated and so put it through the unallocated exchange (fanout) to all pods and if the pod is &quot;not consuming messages&quot; -- i.e. is available to be allocated then the pod is allocated and a dedicated queue is attached to the pod. Now any future messages with routing key X will just go directly to the allocated pod.\r\n\r\n**Problem:**\r\n\r\nIf two messages with the same routing key come in within a small time interval (in ms) then they are both processed as &quot;unallocated&quot; and so both are attached to two different pods and so future messages with the same routing key are duplicated amongst the two pods. There simply isn&#39;t enough time between processing both of these messages to register the routing key as &quot;allocated&quot;.\r\n\r\n**Working solution (want to get rid of this):**\r\n\r\nUse a hazelcast lock to lock on the routing key. This puts a heavy strain on the system.\r\n\r\nIs there a native way to lock on RabbitMQ routing keys? Is there a topology I can set up (perhaps exchange to exchange) which will fix this issue? Is there anything on the RabbitMQ side I can do? Can we set up unique routing keys (i.e. 1 queue per routing key)?","title":"RabbitMQ double binding -- duplicate output","body":"<p><strong>System architecture:</strong></p>\n<p>I have a RabbitMQ node with unallocated and allocated exchanges and queues. I am spinning up pods (consumers) which on initialization talk to RabbitMQ management microservice telling it that it is ready to start consuming messages.</p>\n<p><strong>Scenario:</strong></p>\n<p>Message with routing key X comes in and if it is able to be routed by an allocated exchange to a dedicated queue (queue per pod -- direct) then send it off and we are happy. Otherwise we have a new routing key that has to be allocated and so put it through the unallocated exchange (fanout) to all pods and if the pod is &quot;not consuming messages&quot; -- i.e. is available to be allocated then the pod is allocated and a dedicated queue is attached to the pod. Now any future messages with routing key X will just go directly to the allocated pod.</p>\n<p><strong>Problem:</strong></p>\n<p>If two messages with the same routing key come in within a small time interval (in ms) then they are both processed as &quot;unallocated&quot; and so both are attached to two different pods and so future messages with the same routing key are duplicated amongst the two pods. There simply isn't enough time between processing both of these messages to register the routing key as &quot;allocated&quot;.</p>\n<p><strong>Working solution (want to get rid of this):</strong></p>\n<p>Use a hazelcast lock to lock on the routing key. This puts a heavy strain on the system.</p>\n<p>Is there a native way to lock on RabbitMQ routing keys? Is there a topology I can set up (perhaps exchange to exchange) which will fix this issue? Is there anything on the RabbitMQ side I can do? Can we set up unique routing keys (i.e. 1 queue per routing key)?</p>\n"},{"tags":["java","html","spring-boot","rest","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":19014997,"reputation":388,"user_id":13880169,"display_name":"ALS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643883096,"creation_date":1643883096,"answer_id":70969367,"question_id":70969140,"body_markdown":"If you know **REST web services** then you must know the fundamental difference between a REST API and a web application i.e. the response from a web application is generally view (HTML + CSS) because they are intended for human viewers.\r\n\r\n**REST API** just returns data in form of JSON or XML because most of the REST clients are programs. This difference is also obvious in the @Controller and @RestController annotation.\r\n\r\n    @RestController = @Controller + @ResponseBody\r\n\r\nWhen you use `@Controller` annotation then it corresponds to MVC workflow in Spring Boot and it renders the view. The key difference is that you do not need to use `@ResponseBody` on each and every handler method once you annotate the class with `@RestController`.\r\n\r\n`@ResponseBody` is a Spring annotation which binds a method return value to the web response body. It is not interpreted as a view name. It uses HTTP Message converters to convert the return value to HTTP response body, based on the content-type in the request HTTP header. The content type can be JSON or XML.","title":"html file not returning in the Rest API and return the file name only like &#39;index&#39; in the screen for the following code when used @RestController","body":"<p>If you know <strong>REST web services</strong> then you must know the fundamental difference between a REST API and a web application i.e. the response from a web application is generally view (HTML + CSS) because they are intended for human viewers.</p>\n<p><strong>REST API</strong> just returns data in form of JSON or XML because most of the REST clients are programs. This difference is also obvious in the @Controller and @RestController annotation.</p>\n<pre><code>@RestController = @Controller + @ResponseBody\n</code></pre>\n<p>When you use <code>@Controller</code> annotation then it corresponds to MVC workflow in Spring Boot and it renders the view. The key difference is that you do not need to use <code>@ResponseBody</code> on each and every handler method once you annotate the class with <code>@RestController</code>.</p>\n<p><code>@ResponseBody</code> is a Spring annotation which binds a method return value to the web response body. It is not interpreted as a view name. It uses HTTP Message converters to convert the return value to HTTP response body, based on the content-type in the request HTTP header. The content type can be JSON or XML.</p>\n"},{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643907116,"creation_date":1643883717,"answer_id":70969517,"question_id":70969140,"body_markdown":"It is the expected behaviour of `@RestController`. The main difference between `@RestController` and `@Controller` is `@RestController` will by-pass the view resolution but `@Controller` will not.\r\n\r\nTechnically , it is due to the presence of the `@ResponseBody` of the `@RestController`.  `@ResponseBody` will enable [`RequestResponseBodyMethodProcessor`][1] to process the result return from the `@RestController` method and it will mark that the request has been fully handled within the controller method and by-pass the view resolution process (see [this][2]).\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/blob/5ad261228da962d21195e0995c30cc2bcbf302b8/spring-webmvc/src/main/java/org/springframework/web/servlet/mvc/method/annotation/RequestResponseBodyMethodProcessor.java#L178\r\n  [2]: https://github.com/spring-projects/spring-framework/blob/5ad261228da962d21195e0995c30cc2bcbf302b8/spring-web/src/main/java/org/springframework/web/method/support/ModelAndViewContainer.java#L253","title":"html file not returning in the Rest API and return the file name only like &#39;index&#39; in the screen for the following code when used @RestController","body":"<p>It is the expected behaviour of <code>@RestController</code>. The main difference between <code>@RestController</code> and <code>@Controller</code> is <code>@RestController</code> will by-pass the view resolution but <code>@Controller</code> will not.</p>\n<p>Technically , it is due to the presence of the <code>@ResponseBody</code> of the <code>@RestController</code>.  <code>@ResponseBody</code> will enable <a href=\"https://github.com/spring-projects/spring-framework/blob/5ad261228da962d21195e0995c30cc2bcbf302b8/spring-webmvc/src/main/java/org/springframework/web/servlet/mvc/method/annotation/RequestResponseBodyMethodProcessor.java#L178\" rel=\"nofollow noreferrer\"><code>RequestResponseBodyMethodProcessor</code></a> to process the result return from the <code>@RestController</code> method and it will mark that the request has been fully handled within the controller method and by-pass the view resolution process (see <a href=\"https://github.com/spring-projects/spring-framework/blob/5ad261228da962d21195e0995c30cc2bcbf302b8/spring-web/src/main/java/org/springframework/web/method/support/ModelAndViewContainer.java#L253\" rel=\"nofollow noreferrer\">this</a>).</p>\n"}],"owner":{"account_id":24133685,"reputation":11,"user_id":18100936,"display_name":"Muhassin Musthafa A"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1643907116,"creation_date":1643882174,"question_id":70969140,"body_markdown":"html file not returning in the Rest API and return the file name only like &#39;index&#39; for the following code when used @RestController and working fine only for @Controller.\r\nHere I am using spring boot REST application and index.html with bootstrap\r\n\r\n\r\n","title":"html file not returning in the Rest API and return the file name only like &#39;index&#39; in the screen for the following code when used @RestController","body":"<p>html file not returning in the Rest API and return the file name only like 'index' for the following code when used @RestController and working fine only for @Controller.\nHere I am using spring boot REST application and index.html with bootstrap</p>\n"},{"tags":["java","android","kotlin","opengl","opengl-es"],"answers":[{"tags":[],"owner":{"account_id":6630353,"reputation":5504,"user_id":8623159,"display_name":"httpdigest"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643906882,"creation_date":1643906882,"answer_id":70975170,"question_id":70972042,"body_markdown":"What you want can easily be achieved with `Rx * Ry * Rz * T` where Rx/y/z are the respective rotation matrices to rotate around the x, y or z axis, respectively, followed by the (negative) camera translation, which in your case is just (0, 0, 0).\r\n\r\nYou _could_ compute it manually by doing the trigonometry by hand and computing the direction and up vectors for lookat by hand, but there&#39;s also the route via `rotateM`, effectively achieving the same:\r\n```kotlin\r\nfun onDrawFrame(pitch: Float, roll: Float, heading: Float) {\r\n  Matrix.setIdentityM(cameraPositionMatrix, 0)\r\n  Matrix.rotateM(cameraPositionMatrix, 0, pitch, 1, 0, 0);\r\n  Matrix.rotateM(cameraPositionMatrix, 0, heading, 0, 1, 0);\r\n  Matrix.rotateM(cameraPositionMatrix, 0, roll, 0, 0, 1);\r\n}\r\n```","title":"OpenGL : How to rotate (roll) the camera?","body":"<p>What you want can easily be achieved with <code>Rx * Ry * Rz * T</code> where Rx/y/z are the respective rotation matrices to rotate around the x, y or z axis, respectively, followed by the (negative) camera translation, which in your case is just (0, 0, 0).</p>\n<p>You <em>could</em> compute it manually by doing the trigonometry by hand and computing the direction and up vectors for lookat by hand, but there's also the route via <code>rotateM</code>, effectively achieving the same:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun onDrawFrame(pitch: Float, roll: Float, heading: Float) {\n  Matrix.setIdentityM(cameraPositionMatrix, 0)\n  Matrix.rotateM(cameraPositionMatrix, 0, pitch, 1, 0, 0);\n  Matrix.rotateM(cameraPositionMatrix, 0, heading, 0, 1, 0);\n  Matrix.rotateM(cameraPositionMatrix, 0, roll, 0, 0, 1);\n}\n</code></pre>\n"}],"owner":{"account_id":7365669,"reputation":5074,"user_id":5607457,"accept_rate":48,"display_name":"Greelings"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":395,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70975170,"answer_count":1,"score":1,"last_activity_date":1643906882,"creation_date":1643894481,"question_id":70972042,"body_markdown":"The pitch and the heading work perfectly :\r\n\r\n    fun onDrawFrame(pitch: Float, roll: Float, heading: Float) {\r\n        val lookAtX = cos(pitch) * cos(heading)\r\n        val lookAtY = -sin(pitch)\r\n        val lookAtZ = cos(pitch) * sin(heading)\r\n    \r\n        val upX = 0.0F\r\n        val upY = 1.0F\r\n        val upZ = 0.0F\r\n    \r\n        Matrix.setLookAtM(cameraPositionMatrix, 0, 0.0F, 0.0F, 0.0F, lookAtX.toFloat(), lookAtY.toFloat(), lookAtZ.toFloat(), upX.toFloat(), upY.toFloat(), upZ.toFloat())\r\n    \r\n    \t...\r\n    }\r\n\r\nBut how can I rotate (roll) the camera? I guess I need to rotate the UP vector based on the roll angle around the &quot;line of sight&quot;, but it&#39;s more complex than I thought. \r\n\r\n\r\nDoes anyone know the formula to calculate the cartesian coordinates of a point A(Xa, Ya, Za) after a rotation of an angle δ (in radians) around an axis B(Xb, Yb, Zb)C(Xc, Yc, Zc)?\r\n\r\nThis question concerns both **setLookAtM** (OpenGL ES) and **gluLookAt** (OpenGL) ","title":"OpenGL : How to rotate (roll) the camera?","body":"<p>The pitch and the heading work perfectly :</p>\n<pre><code>fun onDrawFrame(pitch: Float, roll: Float, heading: Float) {\n    val lookAtX = cos(pitch) * cos(heading)\n    val lookAtY = -sin(pitch)\n    val lookAtZ = cos(pitch) * sin(heading)\n\n    val upX = 0.0F\n    val upY = 1.0F\n    val upZ = 0.0F\n\n    Matrix.setLookAtM(cameraPositionMatrix, 0, 0.0F, 0.0F, 0.0F, lookAtX.toFloat(), lookAtY.toFloat(), lookAtZ.toFloat(), upX.toFloat(), upY.toFloat(), upZ.toFloat())\n\n    ...\n}\n</code></pre>\n<p>But how can I rotate (roll) the camera? I guess I need to rotate the UP vector based on the roll angle around the &quot;line of sight&quot;, but it's more complex than I thought.</p>\n<p>Does anyone know the formula to calculate the cartesian coordinates of a point A(Xa, Ya, Za) after a rotation of an angle δ (in radians) around an axis B(Xb, Yb, Zb)C(Xc, Yc, Zc)?</p>\n<p>This question concerns both <strong>setLookAtM</strong> (OpenGL ES) and <strong>gluLookAt</strong> (OpenGL)</p>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1643843736,"post_id":70963607,"comment_id":125450603,"body_markdown":"A stream cannot both group by some field and yet output all ungrouped values at the same time. This must thus be a two-step process: first aggregate by year in a map like you did (using the first code is fine), then use that map to re-attach the aggregated values to the original list – i.e. process the list a second time and enrich it with the values from the map. As this looks like a school exercise, I think it’s better if you try this yourself and then edit your question with your attempt.","body":"A stream cannot both group by some field and yet output all ungrouped values at the same time. This must thus be a two-step process: first aggregate by year in a map like you did (using the first code is fine), then use that map to re-attach the aggregated values to the original list – i.e. process the list a second time and enrich it with the values from the map. As this looks like a school exercise, I think it’s better if you try this yourself and then edit your question with your attempt."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1643844551,"post_id":70963607,"comment_id":125450797,"body_markdown":"Side note, this looks like the same exercise as from [this question](https://stackoverflow.com/q/70926438/525036) from 2 days ago – although the formatting is much better, to be honest – and at least the code compiles :)","body":"Side note, this looks like the same exercise as from <a href=\"https://stackoverflow.com/q/70926438/525036\">this question</a> from 2 days ago – although the formatting is much better, to be honest – and at least the code compiles :)"},{"owner":{"account_id":24137475,"reputation":59,"user_id":18104162,"display_name":"Rishi Kumar"},"score":0,"creation_date":1643847508,"post_id":70963607,"comment_id":125451346,"body_markdown":"@DidierL Thanks for your reply, It may sound like a school exercise, but sometimes even after a lot of effort, the result is not getting, then it is better to ask here. FYI, I have just started using stacloverflow.","body":"@DidierL Thanks for your reply, It may sound like a school exercise, but sometimes even after a lot of effort, the result is not getting, then it is better to ask here. FYI, I have just started using stacloverflow."},{"owner":{"account_id":24137475,"reputation":59,"user_id":18104162,"display_name":"Rishi Kumar"},"score":0,"creation_date":1643848309,"post_id":70963607,"comment_id":125451510,"body_markdown":"@AlexanderIvanchenko I am trying to do this but getting popup like: Thanks for the feedback! You need at least 15 reputation to cast a vote, but your feedback has been recorded.","body":"@AlexanderIvanchenko I am trying to do this but getting popup like: Thanks for the feedback! You need at least 15 reputation to cast a vote, but your feedback has been recorded."},{"owner":{"account_id":24137475,"reputation":59,"user_id":18104162,"display_name":"Rishi Kumar"},"score":0,"creation_date":1643848761,"post_id":70963607,"comment_id":125451591,"body_markdown":"@AlexanderIvanchenko [this question](https://stackoverflow.com/questions/70926438/java-8-how-to-solve-this-problem-using-in-java-8) If it happens that ID end Year which is in second class and I want same output after inner join of both list in base of id then how can do it?","body":"@AlexanderIvanchenko <a href=\"https://stackoverflow.com/questions/70926438/java-8-how-to-solve-this-problem-using-in-java-8\">this question</a> If it happens that ID end Year which is in second class and I want same output after inner join of both list in base of id then how can do it?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1643854172,"post_id":70963607,"comment_id":125452570,"body_markdown":"@RishiKumar `how can do it?` - Well, first of all, there is a crucial notion with regards to stream and functions that is called [Pure function](https://stackoverflow.com/questions/11153796/benefits-of-pure-function). Shortly function that is pure doesn&#39;t cause side-effects and doesn&#39;t mutate objects that are passed to it.  If you&#39;ll have a ferme understanding of this notion it&#39;ll give you a lot of points while talking about streams with your professor or during the job interview. Don&#39;t look at those people that are trying to implement everything using streams.","body":"@RishiKumar <code>how can do it?</code> - Well, first of all, there is a crucial notion with regards to stream and functions that is called <a href=\"https://stackoverflow.com/questions/11153796/benefits-of-pure-function\">Pure function</a>. Shortly function that is pure doesn&#39;t cause side-effects and doesn&#39;t mutate objects that are passed to it.  If you&#39;ll have a ferme understanding of this notion it&#39;ll give you a lot of points while talking about streams with your professor or during the job interview. Don&#39;t look at those people that are trying to implement everything using streams."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643906800,"creation_date":1643843967,"answer_id":70964128,"question_id":70963607,"body_markdown":"Map created by the second stream in your code `preserves only a single entry` per year. \r\n\r\nRemaping function `(a, b) -&gt; new Data(a.getId(), a.getYear(), a.getName(), a.getValue() + b.getValue()))` takes care about the duplicates so that value of each data object will be the sum of all values.\r\n\r\nIn order to `retain all` the `Data` and `change the value of every object to be a total value` for the given year, you have to take several steps:\r\n* create a map: `year` --&gt; `total value per year` (which is already done correcl);\r\n* create a map: `year` --&gt; `list of Data` objects;\r\n* apply the `total value per year` to each of the `Data` objects.\r\n\r\n```\r\n    public static void main(String[] args) {\r\n        List&lt;Data&gt; dataList = List.of(\r\n                new Data(101, 2018, &quot;AAA&quot;, 20),\r\n                new Data(102, 2019, &quot;BBB&quot;, 30),\r\n                new Data(103, 2020, &quot;CCC&quot;, 10),\r\n                new Data(104, 2019, &quot;DDD&quot;, 50),\r\n                new Data(105, 2020, &quot;EEE&quot;, 40),\r\n                new Data(106, 2020, &quot;FFF&quot;, 60)\r\n        );\r\n\r\n        Map&lt;Integer, Double&gt; yearToTotalVal = getTotalValueMap(dataList);\r\n\r\n        Map&lt;Integer, List&lt;Data&gt;&gt; yearToData = getYearToDataListMap(dataList);\r\n\r\n        appllyTotalValue(yearToTotalVal, yearToData);\r\n\r\n        for (Map.Entry&lt;Integer, List&lt;Data&gt;&gt; entry: yearToData.entrySet()) {\r\n            System.out.println(entry);\r\n        }\r\n    }\r\n```\r\n```\r\n    private static Map&lt;Integer, Double&gt; getTotalValueMap(List&lt;Data&gt; dataList) {\r\n        return dataList.stream()\r\n                .collect(Collectors.groupingBy(Data::getYear,\r\n                                    Collectors.summingDouble(Data::getValue)));\r\n    }\r\n\r\n    private static Map&lt;Integer, List&lt;Data&gt;&gt; getYearToDataListMap(List&lt;Data&gt; dataList) {\r\n        return dataList.stream()\r\n                .collect(Collectors.groupingBy(Data::getYear));\r\n    }\r\n```\r\n```\r\n    private static void appllyTotalValue(Map&lt;Integer, Double&gt; yearToTotalVal, \r\n                                         Map&lt;Integer, List&lt;Data&gt;&gt; yearToData) {\r\n        for (Integer year: yearToTotalVal.keySet()) {\r\n            yearToData.get(year)\r\n                    .replaceAll(data -&gt; new Data(data.getId(),\r\n                                                data.getYear(),\r\n                                                data.getName(),\r\n                                                yearToTotalVal.get(year)));\r\n        }\r\n    }\r\n```\r\n\r\n**output** - data for each year:\r\n```\r\n2018=[Data{id=101, year=2018, name=&#39;AAA&#39;, value=20.0}]\r\n2019=[Data{id=102, year=2019, name=&#39;BBB&#39;, value=80.0}, Data{id=104, year=2019, name=&#39;DDD&#39;, value=80.0}]\r\n2020=[Data{id=103, year=2020, name=&#39;CCC&#39;, value=110.0}, Data{id=105, year=2020, name=&#39;EEE&#39;, value=110.0}, Data{id=106, year=2020, name=&#39;FFF&#39;, value=110.0}]\r\n```\r\n\r\n**Side note:**\r\n* I also advise you to make the `Data class immutable`\r\n```\r\n    public class Data {\r\n        private final int id;\r\n        private final int year;\r\n        private final String name;\r\n        private final double value;\r\n\r\n        // Constructor, getters, etc\r\n    }\r\n```","title":"Java 8 - Replace each row with GroupBy sum","body":"<p>Map created by the second stream in your code <code>preserves only a single entry</code> per year.</p>\n<p>Remaping function <code>(a, b) -&gt; new Data(a.getId(), a.getYear(), a.getName(), a.getValue() + b.getValue()))</code> takes care about the duplicates so that value of each data object will be the sum of all values.</p>\n<p>In order to <code>retain all</code> the <code>Data</code> and <code>change the value of every object to be a total value</code> for the given year, you have to take several steps:</p>\n<ul>\n<li>create a map: <code>year</code> --&gt; <code>total value per year</code> (which is already done correcl);</li>\n<li>create a map: <code>year</code> --&gt; <code>list of Data</code> objects;</li>\n<li>apply the <code>total value per year</code> to each of the <code>Data</code> objects.</li>\n</ul>\n<pre><code>    public static void main(String[] args) {\n        List&lt;Data&gt; dataList = List.of(\n                new Data(101, 2018, &quot;AAA&quot;, 20),\n                new Data(102, 2019, &quot;BBB&quot;, 30),\n                new Data(103, 2020, &quot;CCC&quot;, 10),\n                new Data(104, 2019, &quot;DDD&quot;, 50),\n                new Data(105, 2020, &quot;EEE&quot;, 40),\n                new Data(106, 2020, &quot;FFF&quot;, 60)\n        );\n\n        Map&lt;Integer, Double&gt; yearToTotalVal = getTotalValueMap(dataList);\n\n        Map&lt;Integer, List&lt;Data&gt;&gt; yearToData = getYearToDataListMap(dataList);\n\n        appllyTotalValue(yearToTotalVal, yearToData);\n\n        for (Map.Entry&lt;Integer, List&lt;Data&gt;&gt; entry: yearToData.entrySet()) {\n            System.out.println(entry);\n        }\n    }\n</code></pre>\n<pre><code>    private static Map&lt;Integer, Double&gt; getTotalValueMap(List&lt;Data&gt; dataList) {\n        return dataList.stream()\n                .collect(Collectors.groupingBy(Data::getYear,\n                                    Collectors.summingDouble(Data::getValue)));\n    }\n\n    private static Map&lt;Integer, List&lt;Data&gt;&gt; getYearToDataListMap(List&lt;Data&gt; dataList) {\n        return dataList.stream()\n                .collect(Collectors.groupingBy(Data::getYear));\n    }\n</code></pre>\n<pre><code>    private static void appllyTotalValue(Map&lt;Integer, Double&gt; yearToTotalVal, \n                                         Map&lt;Integer, List&lt;Data&gt;&gt; yearToData) {\n        for (Integer year: yearToTotalVal.keySet()) {\n            yearToData.get(year)\n                    .replaceAll(data -&gt; new Data(data.getId(),\n                                                data.getYear(),\n                                                data.getName(),\n                                                yearToTotalVal.get(year)));\n        }\n    }\n</code></pre>\n<p><strong>output</strong> - data for each year:</p>\n<pre><code>2018=[Data{id=101, year=2018, name='AAA', value=20.0}]\n2019=[Data{id=102, year=2019, name='BBB', value=80.0}, Data{id=104, year=2019, name='DDD', value=80.0}]\n2020=[Data{id=103, year=2020, name='CCC', value=110.0}, Data{id=105, year=2020, name='EEE', value=110.0}, Data{id=106, year=2020, name='FFF', value=110.0}]\n</code></pre>\n<p><strong>Side note:</strong></p>\n<ul>\n<li>I also advise you to make the <code>Data class immutable</code></li>\n</ul>\n<pre><code>    public class Data {\n        private final int id;\n        private final int year;\n        private final String name;\n        private final double value;\n\n        // Constructor, getters, etc\n    }\n</code></pre>\n"}],"owner":{"account_id":24137475,"reputation":59,"user_id":18104162,"display_name":"Rishi Kumar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70964128,"answer_count":1,"score":1,"last_activity_date":1643906800,"creation_date":1643840354,"question_id":70963607,"body_markdown":"\r\nI have class Data which have 4 fields and have list of values then i want replace each row groupby year and sum value for same year using java 8 and stream. please see below code and output.\r\n\r\n    class Data {\r\n        int id;\r\n        int year;\r\n        String name;\r\n        double value;\r\n    }\r\n\r\n    List&lt;Data&gt; list = new ArrayList&lt;&gt;();\r\n    list.add(new Data(101, 2018, &quot;AAA&quot;, 20));\r\n    list.add(new Data(102, 2019, &quot;BBB&quot;, 30));\r\n    list.add(new Data(103, 2020, &quot;CCC&quot;, 10));\r\n    list.add(new Data(104, 2019, &quot;DDD&quot;, 50));\r\n    list.add(new Data(105, 2020, &quot;EEE&quot;, 40));\r\n    list.add(new Data(106, 2020, &quot;FFF&quot;, 60));\r\n\r\nFirst code try:\r\n\r\n    list.stream().collect(Collectors.groupingBy(Data::getYear, Collectors\r\n        .summingDouble(Data::getValue)));\r\n\r\nSecond code try:\r\n\r\n    list.stream().collect(Collectors.toMap(value -&gt; value.getYear(), Function.identity(),\r\n                (a, b) -&gt; new Data(a.getId(), a.getYear(), a.getName(), a.getValue() + b.getValue()))).values()\r\n                .forEach(value -&gt; System.out.println(value));\r\n\r\n    \r\nOutput:\r\n\r\n    id    year   name   value\r\n    101   2018   &quot;AAA&quot;   20\r\n    102   2019   &quot;BBB&quot;   80\r\n    103   2020   &quot;CCC&quot;   110\r\n\r\nExpected Output:\r\n\r\n    id    year   name   value\r\n    101   2018   &quot;AAA&quot;   20\r\n    102   2019   &quot;BBB&quot;   80\r\n    103   2020   &quot;CCC&quot;   110\r\n    104   2019   &quot;DDD&quot;   80\r\n    105   2020   &quot;EEE&quot;   110\r\n    106   2020   &quot;FFF&quot;   110 \r\n\r\n","title":"Java 8 - Replace each row with GroupBy sum","body":"<p>I have class Data which have 4 fields and have list of values then i want replace each row groupby year and sum value for same year using java 8 and stream. please see below code and output.</p>\n<pre><code>class Data {\n    int id;\n    int year;\n    String name;\n    double value;\n}\n\nList&lt;Data&gt; list = new ArrayList&lt;&gt;();\nlist.add(new Data(101, 2018, &quot;AAA&quot;, 20));\nlist.add(new Data(102, 2019, &quot;BBB&quot;, 30));\nlist.add(new Data(103, 2020, &quot;CCC&quot;, 10));\nlist.add(new Data(104, 2019, &quot;DDD&quot;, 50));\nlist.add(new Data(105, 2020, &quot;EEE&quot;, 40));\nlist.add(new Data(106, 2020, &quot;FFF&quot;, 60));\n</code></pre>\n<p>First code try:</p>\n<pre><code>list.stream().collect(Collectors.groupingBy(Data::getYear, Collectors\n    .summingDouble(Data::getValue)));\n</code></pre>\n<p>Second code try:</p>\n<pre><code>list.stream().collect(Collectors.toMap(value -&gt; value.getYear(), Function.identity(),\n            (a, b) -&gt; new Data(a.getId(), a.getYear(), a.getName(), a.getValue() + b.getValue()))).values()\n            .forEach(value -&gt; System.out.println(value));\n</code></pre>\n<p>Output:</p>\n<pre><code>id    year   name   value\n101   2018   &quot;AAA&quot;   20\n102   2019   &quot;BBB&quot;   80\n103   2020   &quot;CCC&quot;   110\n</code></pre>\n<p>Expected Output:</p>\n<pre><code>id    year   name   value\n101   2018   &quot;AAA&quot;   20\n102   2019   &quot;BBB&quot;   80\n103   2020   &quot;CCC&quot;   110\n104   2019   &quot;DDD&quot;   80\n105   2020   &quot;EEE&quot;   110\n106   2020   &quot;FFF&quot;   110 \n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven","gitlab-ci"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1643907406,"post_id":70975121,"comment_id":125469671,"body_markdown":"Sometimes there are issues related accessibility of the central repository in GitHub actions ...observed them as well several times..","body":"Sometimes there are issues related accessibility of the central repository in GitHub actions ...observed them as well several times.."},{"owner":{"account_id":11630494,"reputation":26,"user_id":8518867,"display_name":"Galileon"},"score":1,"creation_date":1643908137,"post_id":70975121,"comment_id":125470007,"body_markdown":"I noticed some failing pipelines in the past but all of them succeeded on the first retry...\nIm just concerned that this is now happening for 5 days in a row.","body":"I noticed some failing pipelines in the past but all of them succeeded on the first retry... Im just concerned that this is now happening for 5 days in a row."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1643908369,"post_id":70975121,"comment_id":125470119,"body_markdown":"Is that on Github or corporate GitHub enterprise?","body":"Is that on Github or corporate GitHub enterprise?"},{"owner":{"account_id":11630494,"reputation":26,"user_id":8518867,"display_name":"Galileon"},"score":0,"creation_date":1643909181,"post_id":70975121,"comment_id":125470426,"body_markdown":"Self hosted Gitlab;","body":"Self hosted Gitlab;"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1643909322,"post_id":70975121,"comment_id":125470479,"body_markdown":"Than your should check your networks...GitLab CI .. node connection to central... if you host your own why don&#39;t you use a repository manager ... that would prevent such things..and would make it more faster...","body":"Than your should check your networks...GitLab CI .. node connection to central... if you host your own why don&#39;t you use a repository manager ... that would prevent such things..and would make it more faster..."},{"owner":{"account_id":11630494,"reputation":26,"user_id":8518867,"display_name":"Galileon"},"score":0,"creation_date":1643911282,"post_id":70975121,"comment_id":125471302,"body_markdown":"It contains about 15 projects mainly php with lftp pipelines this is my first try to maven ci; never thought about caching","body":"It contains about 15 projects mainly php with lftp pipelines this is my first try to maven ci; never thought about caching"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1643911416,"post_id":70975121,"comment_id":125471348,"body_markdown":"I strongly recommend to install a repository manager makes life easier...also for other things (php has a package manager as well as far as I know ...can be handled by repo manager as well...)...","body":"I strongly recommend to install a repository manager makes life easier...also for other things (php has a package manager as well as far as I know ...can be handled by repo manager as well...)..."}],"owner":{"account_id":11630494,"reputation":26,"user_id":8518867,"display_name":"Galileon"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":563,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643906656,"creation_date":1643906656,"question_id":70975121,"body_markdown":"I have a spring boot application with the following ci pipeline on my self hosted gitlab:\r\n\r\n     stages:\r\n      - build\r\n    \r\n    maven-build:\r\n      image: maven:3-jdk-8\r\n      stage: build\r\n      script: &quot;mvn package -B&quot;\r\n      artifacts:\r\n        paths:\r\n          - target/*.jar\r\n\r\n\r\npomfile:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;demo&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.6.3&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \r\n    &lt;/project&gt;\r\n\r\nStart of this week from one day to another it stopped working and stucks at `Downloading from central: https://repo.maven.apache.org/maven2/org/springframework/boot/spring-boot-maven-plugin/2.6.3/spring-boot-maven-plugin-2.6.3.pom`\r\n\r\nDid they change the Rate limits so I run into a soft ban from maven repo now? ","title":"Gitlab CI for Spring Boot Maven stuck","body":"<p>I have a spring boot application with the following ci pipeline on my self hosted gitlab:</p>\n<pre><code> stages:\n  - build\n\nmaven-build:\n  image: maven:3-jdk-8\n  stage: build\n  script: &quot;mvn package -B&quot;\n  artifacts:\n    paths:\n      - target/*.jar\n</code></pre>\n<p>pomfile:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n<p>Start of this week from one day to another it stopped working and stucks at <code>Downloading from central: https://repo.maven.apache.org/maven2/org/springframework/boot/spring-boot-maven-plugin/2.6.3/spring-boot-maven-plugin-2.6.3.pom</code></p>\n<p>Did they change the Rate limits so I run into a soft ban from maven repo now?</p>\n"},{"tags":["java","jenkins"],"comments":[{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1633114491,"post_id":69410579,"comment_id":122683316,"body_markdown":"Why are you trying to run it in Jenkins? That is not what Jenkins is for.","body":"Why are you trying to run it in Jenkins? That is not what Jenkins is for."},{"owner":{"account_id":1136217,"reputation":14336,"user_id":1121249,"accept_rate":86,"display_name":"rkosegi"},"score":0,"creation_date":1643906773,"post_id":69410579,"comment_id":125469378,"body_markdown":"`but the build fails` - how about sharing actual error(s), huh?","body":"<code>but the build fails</code> - how about sharing actual error(s), huh?"},{"owner":{"account_id":23431180,"reputation":558,"user_id":17490003,"display_name":"Pamela Sarkisyan"},"score":0,"creation_date":1643925623,"post_id":69410579,"comment_id":125476235,"body_markdown":"As already mentioned Jenkins purpose is not to execute Java application and provide input to them. If you want to test your application I would strongly advice to just write unit test and execute these as part of the pipeline. I also found [this article](https://www.danvega.dev/blog/2020/12/16/testing-standard-in-out-java/) that could be helpful. Also the variable s is defined twice you will need to rename one of the variables.","body":"As already mentioned Jenkins purpose is not to execute Java application and provide input to them. If you want to test your application I would strongly advice to just write unit test and execute these as part of the pipeline. I also found <a href=\"https://www.danvega.dev/blog/2020/12/16/testing-standard-in-out-java/\" rel=\"nofollow noreferrer\">this article</a> that could be helpful. Also the variable s is defined twice you will need to rename one of the variables."}],"owner":{"account_id":22829298,"reputation":9,"user_id":16978062,"display_name":"Sid Jaiswal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1643906499,"creation_date":1633113308,"question_id":69410579,"body_markdown":"I have a Java file, `demo.java`, which asks for a user input and then simply displays it.\r\nI just started with basics of Jenkins and wanted to run this java file (build this java file), but the build fails, but when I give any other `.java` file which does not requires user input, it works.\r\n\r\nThis is the `demo.java` file:\r\n\r\n    import java.util.*;\r\n    \r\n    class demo {\r\n        public static void main(String args[]) {\r\n            Scanner s = new Scanner(System.in);\r\n            System.out.println(&quot;Enter your name : &quot;);\r\n            String s = s.next();\r\n            System.out.println(&quot;Hello &quot;+s);\r\n        }\r\n    }","title":"How to give user input to a java program , running as a free style project in Jenkins?","body":"<p>I have a Java file, <code>demo.java</code>, which asks for a user input and then simply displays it.\nI just started with basics of Jenkins and wanted to run this java file (build this java file), but the build fails, but when I give any other <code>.java</code> file which does not requires user input, it works.</p>\n<p>This is the <code>demo.java</code> file:</p>\n<pre><code>import java.util.*;\n\nclass demo {\n    public static void main(String args[]) {\n        Scanner s = new Scanner(System.in);\n        System.out.println(&quot;Enter your name : &quot;);\n        String s = s.next();\n        System.out.println(&quot;Hello &quot;+s);\n    }\n}\n</code></pre>\n"},{"tags":["java","mysql","spring"],"answers":[{"tags":[],"owner":{"account_id":24093989,"reputation":44,"user_id":18066841,"display_name":"pepitoenpeligro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643754852,"creation_date":1643754852,"answer_id":70948427,"question_id":70948240,"body_markdown":"Ensure all models are in package `com.example.hospitalmanage.model`\r\n- User\r\n- user_diagnosis\r\n- user_treatments\r\n- user_videos\r\n\r\nAll should be inside the same package.\r\n","title":"I can&#39;t create table with hibernate","body":"<p>Ensure all models are in package <code>com.example.hospitalmanage.model</code></p>\n<ul>\n<li>User</li>\n<li>user_diagnosis</li>\n<li>user_treatments</li>\n<li>user_videos</li>\n</ul>\n<p>All should be inside the same package.</p>\n"}],"owner":{"account_id":15254316,"reputation":1,"user_id":16007661,"display_name":"Serhio Duran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643906336,"creation_date":1643753654,"question_id":70948240,"body_markdown":"I created a jpa xml `EntityManagerFactory`. After running tomcat, and Hibernate create table in console, but when I checked the database , I didn&#39;t see the table. What&#39;s the problem ?\r\n\r\n![enter image description here][1]\r\n\r\n![enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uHTV4.png\r\n  [2]: https://i.stack.imgur.com/oo4Ru.png\r\n\r\n\r\n        &lt;bean id=&quot;entityManagerFactory&quot; class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;\r\n        &lt;property name=&quot;jpaVendorAdapter&quot; ref=&quot;hibernateJpaVendorAdapter&quot;/&gt;\r\n        \r\n        &lt;property name=&quot;jpaProperties&quot;&gt;\r\n            &lt;props&gt;\r\n                &lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;${hibernate.hbm2ddl.auto}&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.dialect&quot;&gt;${hibernate.dialect}&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.show_sql&quot;&gt;${hibernate.show_sql}&lt;/prop&gt;\r\n            &lt;/props&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;packagesToScan&quot; value=&quot;com.example.hospitalmanage.model&quot;&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;","title":"I can&#39;t create table with hibernate","body":"<p>I created a jpa xml <code>EntityManagerFactory</code>. After running tomcat, and Hibernate create table in console, but when I checked the database , I didn't see the table. What's the problem ?</p>\n<p><img src=\"https://i.stack.imgur.com/uHTV4.png\" alt=\"enter image description here\" /></p>\n<p><img src=\"https://i.stack.imgur.com/oo4Ru.png\" alt=\"enter image description here\" /></p>\n<pre><code>    &lt;bean id=&quot;entityManagerFactory&quot; class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\n    &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;\n    &lt;property name=&quot;jpaVendorAdapter&quot; ref=&quot;hibernateJpaVendorAdapter&quot;/&gt;\n    \n    &lt;property name=&quot;jpaProperties&quot;&gt;\n        &lt;props&gt;\n            &lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;${hibernate.hbm2ddl.auto}&lt;/prop&gt;\n            &lt;prop key=&quot;hibernate.dialect&quot;&gt;${hibernate.dialect}&lt;/prop&gt;\n            &lt;prop key=&quot;hibernate.show_sql&quot;&gt;${hibernate.show_sql}&lt;/prop&gt;\n        &lt;/props&gt;\n    &lt;/property&gt;\n    &lt;property name=&quot;packagesToScan&quot; value=&quot;com.example.hospitalmanage.model&quot;&gt;&lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":["java","apache-spark","google-cloud-storage"],"comments":[{"owner":{"account_id":1476224,"reputation":31485,"user_id":1386551,"accept_rate":74,"display_name":"blackbishop"},"score":0,"creation_date":1643623679,"post_id":70924083,"comment_id":125380596,"body_markdown":"`sourceBucketName = &#39;spark-bucket&#39;`,  `blobName = &#39;directoryA/subdirectoryA/textfile.txt&#39;`","body":"<code>sourceBucketName = &#39;spark-bucket&#39;</code>,  <code>blobName = &#39;directoryA&#47;subdirectoryA&#47;textfile.txt&#39;</code>"},{"owner":{"account_id":9199997,"reputation":521,"user_id":6837337,"display_name":"Dookoto_Sea"},"score":0,"creation_date":1643627756,"post_id":70924083,"comment_id":125382069,"body_markdown":"@blackbishop tried this, but the file was not moved. I&#39;m checking the logs in spark history server and I don&#39;t see any application logs (println statements). Also I don&#39;t see any exceptions or errors, the job completed successfully. I&#39;m new to GCP so not sure why the logs are not shown","body":"@blackbishop tried this, but the file was not moved. I&#39;m checking the logs in spark history server and I don&#39;t see any application logs (println statements). Also I don&#39;t see any exceptions or errors, the job completed successfully. I&#39;m new to GCP so not sure why the logs are not shown"},{"owner":{"account_id":9199997,"reputation":521,"user_id":6837337,"display_name":"Dookoto_Sea"},"score":0,"creation_date":1643632360,"post_id":70924083,"comment_id":125383627,"body_markdown":"@blackbishop I do see an exception while executing this method.\ndiagnostics: User class threw exception: java.lang.NoSuchMethodError: com.google.common.util.concurrent.MoreExecutors.directExecutor()Ljava/util/concurrent/Executor;\nat com.google.api.gax.retrying.BasicRetryingFuture.&lt;init&gt;(BasicRetryingFuture.java:88)\n\tat com.google.api.gax.retrying.DirectRetryingExecutor.createFuture(DirectRetryingExecutor.java:88)\n\tat com.google.api.gax.retrying.DirectRetryingExecutor.createFuture(DirectRetryingExecutor.java:74)\n\tat com.google.cloud.RetryHelper.run(RetryHelper.java:75)","body":"@blackbishop I do see an exception while executing this method. diagnostics: User class threw exception: java.lang.NoSuchMethodError: com.google.common.util.concurrent.MoreExecutors.directExecut&zwnj;&#8203;or()Ljava/util/concu&zwnj;&#8203;rrent/Executor; at com.google.api.gax.retrying.BasicRetryingFuture.&lt;init&gt;(Basic&zwnj;&#8203;RetryingFuture.java:&zwnj;&#8203;88) \tat com.google.api.gax.retrying.DirectRetryingExecutor.createFut&zwnj;&#8203;ure(DirectRetryingEx&zwnj;&#8203;ecutor.java:88) \tat com.google.api.gax.retrying.DirectRetryingExecutor.createFut&zwnj;&#8203;ure(DirectRetryingEx&zwnj;&#8203;ecutor.java:74) \tat com.google.cloud.RetryHelper.run(RetryHelper.java:75)"}],"answers":[{"tags":[],"owner":{"account_id":17977293,"reputation":1500,"user_id":15746749,"display_name":"Prabir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643885980,"creation_date":1643885980,"answer_id":70970080,"question_id":70924083,"body_markdown":"You want to move `textfile.txt` from `gs://spark-bucket/directoryA/subdirectoryA/` to `gs://spark-bucket/directoryA/subdirectoryB/`\r\n\r\nFrom your question it is clear that you have one bucket i.e. spark-bucket. So both **sourceBucketName** and **destBucketName** are the same i.e. `spark-bucket`.\r\n\r\nNow there are other two parameters i.e. **blobName** and **destBlobName**.\r\n\r\nIn your case **blobName** should be `directoryA/subdirectoryA/textfile.txt` and **destBlobName** should be `directoryA/subdirectoryB/textfile.txt`.\r\n\r\nSo in short - \r\n\r\n```\r\nsourceBucketName = “spark-bucket”\r\ndestBucketName = “spark-bucket”\r\nblobName = “directoryA/subdirectoryA/textfile.txt”\r\ndestBlobName = “directoryA/subdirectoryB/textfile.txt”\r\n\r\n```\r\n","title":"Move blob within Google bucket using Google Cloud Storage library","body":"<p>You want to move <code>textfile.txt</code> from <code>gs://spark-bucket/directoryA/subdirectoryA/</code> to <code>gs://spark-bucket/directoryA/subdirectoryB/</code></p>\n<p>From your question it is clear that you have one bucket i.e. spark-bucket. So both <strong>sourceBucketName</strong> and <strong>destBucketName</strong> are the same i.e. <code>spark-bucket</code>.</p>\n<p>Now there are other two parameters i.e. <strong>blobName</strong> and <strong>destBlobName</strong>.</p>\n<p>In your case <strong>blobName</strong> should be <code>directoryA/subdirectoryA/textfile.txt</code> and <strong>destBlobName</strong> should be <code>directoryA/subdirectoryB/textfile.txt</code>.</p>\n<p>So in short -</p>\n<pre><code>sourceBucketName = “spark-bucket”\ndestBucketName = “spark-bucket”\nblobName = “directoryA/subdirectoryA/textfile.txt”\ndestBlobName = “directoryA/subdirectoryB/textfile.txt”\n\n</code></pre>\n"}],"owner":{"account_id":9199997,"reputation":521,"user_id":6837337,"display_name":"Dookoto_Sea"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":642,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70970080,"answer_count":1,"score":0,"last_activity_date":1643906307,"creation_date":1643623228,"question_id":70924083,"body_markdown":"I have a Spark job in which I want to move a text file within Google Cloud Storage bucket from directory A to directory B using google.cloud.storage.StorageOptions \r\n\r\nsource file path = &quot;gs://spark-bucket/directoryA/subdirectoryA/textfile.txt&quot;\r\n\r\ndest bucket location = &quot;gs://spark-bucket/directoryA/subdirectoryB/&quot;  \r\n\r\nWhat should be the sourceBucketName, blobName and destBucketName? Does it have to be the  entire path &quot;gs://spark-bucket/directoryA/subdirectoryA/&quot; or just the bucket name i.e. &quot;spark-bucket&quot; based on the above source file path?\r\n\r\n    val storage = StorageOptions.newBuilder.setProjectId(&quot;project-id&quot;).build.getService\r\n    val blobId = BlobId.of(sourceBucketName, blobName)\r\n    val blob = storage.get(blobId)\r\n    val copyWriter = blob.copyTo(destBucketName, destBlobName)\r\n    blob.delete();\r\n\r\n","title":"Move blob within Google bucket using Google Cloud Storage library","body":"<p>I have a Spark job in which I want to move a text file within Google Cloud Storage bucket from directory A to directory B using google.cloud.storage.StorageOptions</p>\n<p>source file path = &quot;gs://spark-bucket/directoryA/subdirectoryA/textfile.txt&quot;</p>\n<p>dest bucket location = &quot;gs://spark-bucket/directoryA/subdirectoryB/&quot;</p>\n<p>What should be the sourceBucketName, blobName and destBucketName? Does it have to be the  entire path &quot;gs://spark-bucket/directoryA/subdirectoryA/&quot; or just the bucket name i.e. &quot;spark-bucket&quot; based on the above source file path?</p>\n<pre><code>val storage = StorageOptions.newBuilder.setProjectId(&quot;project-id&quot;).build.getService\nval blobId = BlobId.of(sourceBucketName, blobName)\nval blob = storage.get(blobId)\nval copyWriter = blob.copyTo(destBucketName, destBlobName)\nblob.delete();\n</code></pre>\n"},{"tags":["java","spring","spring-boot","dependency-injection","inversion-of-control"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1643876480,"post_id":70967764,"comment_id":125456980,"body_markdown":"The `Optional` probably just contains a proxy which seems to have trouble resolving/instantiating the bean. Can you share the complete stack trace? Btw, `currentUser.isPresent().nonNull()`  shouldn&#39;t even compile since `isPresent()` returns `boolean`.","body":"The <code>Optional</code> probably just contains a proxy which seems to have trouble resolving/instantiating the bean. Can you share the complete stack trace? Btw, <code>currentUser.isPresent().nonNull()</code>  shouldn&#39;t even compile since <code>isPresent()</code> returns <code>boolean</code>."},{"owner":{"account_id":1735752,"reputation":2511,"user_id":1588361,"accept_rate":54,"display_name":"Ravi MCA"},"score":0,"creation_date":1643906181,"post_id":70967764,"comment_id":125469118,"body_markdown":"@Thomas Regrets compilation you cited. Updated question with stack trace. Thanks.","body":"@Thomas Regrets compilation you cited. Updated question with stack trace. Thanks."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1643989830,"post_id":70967764,"comment_id":125493482,"body_markdown":"&quot;Factory method &#39;user&#39; threw exception&quot; - this seems to be a problem with the method that actually creates a `User` instance.","body":"&quot;Factory method &#39;user&#39; threw exception&quot; - this seems to be a problem with the method that actually creates a <code>User</code> instance."},{"owner":{"account_id":1735752,"reputation":2511,"user_id":1588361,"accept_rate":54,"display_name":"Ravi MCA"},"score":0,"creation_date":1644306978,"post_id":70967764,"comment_id":125564781,"body_markdown":"@Thomas How this can be handled when it&#39;s injected.","body":"@Thomas How this can be handled when it&#39;s injected."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1644310156,"post_id":70967764,"comment_id":125565841,"body_markdown":"Did you try returning `null` if the user cannot be created? Also declare the bean to be in &quot;dependent&quot; scope (CDI term, don&#39;t know the Spring one atm) so you call the method every time you need the user injected.","body":"Did you try returning <code>null</code> if the user cannot be created? Also declare the bean to be in &quot;dependent&quot; scope (CDI term, don&#39;t know the Spring one atm) so you call the method every time you need the user injected."}],"owner":{"account_id":1735752,"reputation":2511,"user_id":1588361,"accept_rate":54,"display_name":"Ravi MCA"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":677,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1643906119,"creation_date":1643875788,"question_id":70967764,"body_markdown":"I&#39;m injecting a bean as below which scope is Request.\r\n```java\r\n@Autowired\r\nprivate Optional&lt;User&gt; currentUser;\r\n```\r\n\r\nBut when, bean is not injected for any reason, I&#39;m trying to check `currentUser.isPresent()` and `currentUser.isPresent()`, `Objects.nonNull( currentUser.get() )` both are giving `true`. But when try to access bean fields, it&#39;s giving **Bean instantiation exception**.\r\n\r\nHow can I check if the bean is successfully injected and available to use?\r\n\r\nAs asked by Thomas posting the stack trace.\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;scopedTarget.user&#39; defined in class path resource [com/xxxx/spring/RequestScopeBeansConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.cl.xxxx.data.model.xxxxUser]: Factory method &#39;user&#39; threw exception; nested exception is org.springframework.security.core.userdetails.UsernameNotFoundException: xxxxxxxxxxxxx\r\n\tat deployment.xxxxx.war//org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:656)\r\n\tat deployment.xxxxx.war//org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:636)\r\n\tat deployment.xxxxx.war//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1338)\r\n\tat deployment.xxxxx.war//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177)\r\n\tat deployment.xxxxx.war//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557)\r\n\tat deployment.xxxxx.war//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)\r\n\tat deployment.xxxxx.war//org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$1(AbstractBeanFactory.java:359)\r\n\tat deployment.xxxxx.war//org.springframework.web.context.request.AbstractRequestAttributesScope.get(AbstractRequestAttributesScope.java:45)\r\n\tat deployment.xxxxx.war//org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:356)\r\n\tat deployment.xxxxx.war//org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\r\n\tat deployment.xxxxx.war//org.springframework.aop.target.SimpleBeanTargetSource.getTarget(SimpleBeanTargetSource.java:35)\r\n\tat deployment.xxxxx.war//org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:675)\r\n\tat deployment.xxxxx.war//com.cl.xxxx.data.model.xxxxUser$$EnhancerBySpringCGLIB$$48f26ffd.getId(&lt;generated&gt;)\r\n\tat deployment.xxxxx.war//com.xxxx.spring.api.v1.service.UserService.createUser(UserService.java:355)\r\n\tat deployment.xxxxx.war//com.xxxx.spring.api.v1.web.UserController.create(UserController.java:105)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat deployment.xxxxx.war//org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\r\n\tat deployment.xxxxx.war//org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\r\n\tat deployment.xxxxx.war//org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)\r\n\tat deployment.xxxxx.war//org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879)\r\n\tat deployment.xxxxx.war//org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)\r\n\tat deployment.xxxxx.war//org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat deployment.xxxxx.war//org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\r\n\tat deployment.xxxxx.war//org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\r\n\tat deployment.xxxxx.war//org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat deployment.xxxxx.war//org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n\tat javax.servlet.api@2.0.0.Final//javax.servlet.http.HttpServlet.service(HttpServlet.java:523)\r\n\tat deployment.xxxxx.war//org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.api@2.0.0.Final//javax.servlet.http.HttpServlet.service(HttpServlet.java:590)\r\n\tat io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\r\n\tat io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\r\n\tat io.opentracing.contrib.opentracing-jaxrs2//io.opentracing.contrib.jaxrs2.server.SpanFinishingFilter.doFilter(SpanFinishingFilter.java:52)\r\n\tat io.undertow.servlet@2.1.3.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n\tat io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n\tat deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\r\n\tat deployment.xxxxx.war//org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)\r\n\tat deployment.xxxxx.war//org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)\r\n\tat deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat deployment.xxxxx.war//org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)\r\n\tat deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat deployment.xxxxx.war//org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\r\n\tat deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat deployment.xxxxx.war//org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\r\n\tat deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat deployment.xxxxx.war//org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)\r\n\tat deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat deployment.xxxxx.war//org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n\tat deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat deployment.xxxxx.war//org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:114)\r\n\tat deployment.xxxxx.war//org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat deployment.xxxxx.war//org.springframework.security.web.authentication.preauth.AbstractPreAuthenticatedProcessingFilter.doFilter(AbstractPreAuthenticatedProcessingFilter.java:124)\r\n\tat deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat deployment.xxxxx.war//org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\r\n\tat deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat deployment.xxxxx.war//org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)\r\n\tat deployment.xxxxx.war//org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)\r\n\tat deployment.xxxxx.war//org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat deployment.xxxxx.war//org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\r\n\tat deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat deployment.xxxxx.war//org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\r\n\tat deployment.xxxxx.war//org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\r\n\tat deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\r\n\tat deployment.xxxxx.war//org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\r\n\tat deployment.xxxxx.war//org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\r\n\tat io.undertow.servlet@2.1.3.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n\tat io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n\tat io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\r\n\tat io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\r\n\tat io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\r\n\tat io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\r\n\tat org.wildfly.extension.undertow@20.0.1.Final//org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)\r\n\tat io.undertow.core@2.1.3.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\r\n\tat io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)\r\n\tat io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\r\n\tat io.undertow.core@2.1.3.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat io.undertow.core@2.1.3.Final//io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\r\n\tat io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\r\n\tat io.undertow.core@2.1.3.Final//io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\r\n\tat io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\r\n\tat io.undertow.core@2.1.3.Final//io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)\r\n\tat io.undertow.core@2.1.3.Final//io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\r\n\tat io.undertow.core@2.1.3.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat org.wildfly.extension.undertow@20.0.1.Final//org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)\r\n\tat io.undertow.core@2.1.3.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat org.wildfly.extension.undertow@20.0.1.Final//org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)\r\n\tat io.undertow.core@2.1.3.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)\r\n\tat io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)\r\n\tat io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)\r\n\tat io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)\r\n\tat io.undertow.servlet@2.1.3.Final//io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\r\n\tat io.undertow.servlet@2.1.3.Final//io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n\tat org.wildfly.extension.undertow@20.0.1.Final//org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)\r\n\tat org.wildfly.extension.undertow@20.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n\tat org.wildfly.extension.undertow@20.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n\tat org.wildfly.extension.undertow@20.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n\tat org.wildfly.extension.undertow@20.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n\tat org.wildfly.extension.undertow@20.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n\tat io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)\r\n\tat io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)\r\n\tat io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)\r\n\tat io.undertow.core@2.1.3.Final//io.undertow.server.Connectors.executeRootHandler(Connectors.java:370)\r\n\tat io.undertow.core@2.1.3.Final//io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)\r\n\tat org.jboss.threads@2.3.3.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n\tat org.jboss.threads@2.3.3.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)\r\n\tat org.jboss.threads@2.3.3.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n\tat org.jboss.threads@2.3.3.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1348)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.cl.xxxx.data.model.xxxxUser]: Factory method &#39;user&#39; threw exception; nested exception is org.springframework.security.core.userdetails.UsernameNotFoundException: xxxxxxxxxxxxxxxxx\r\n\tat deployment.xxxxx.war//org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\r\n\tat deployment.xxxxx.war//org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:651)\r\n\t... 115 more\r\n```","title":"How to check if a bean is injected or not in Spring","body":"<p>I'm injecting a bean as below which scope is Request.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\nprivate Optional&lt;User&gt; currentUser;\n</code></pre>\n<p>But when, bean is not injected for any reason, I'm trying to check <code>currentUser.isPresent()</code> and <code>currentUser.isPresent()</code>, <code>Objects.nonNull( currentUser.get() )</code> both are giving <code>true</code>. But when try to access bean fields, it's giving <strong>Bean instantiation exception</strong>.</p>\n<p>How can I check if the bean is successfully injected and available to use?</p>\n<p>As asked by Thomas posting the stack trace.</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'scopedTarget.user' defined in class path resource [com/xxxx/spring/RequestScopeBeansConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.cl.xxxx.data.model.xxxxUser]: Factory method 'user' threw exception; nested exception is org.springframework.security.core.userdetails.UsernameNotFoundException: xxxxxxxxxxxxx\n    at deployment.xxxxx.war//org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:656)\n    at deployment.xxxxx.war//org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:636)\n    at deployment.xxxxx.war//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1338)\n    at deployment.xxxxx.war//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177)\n    at deployment.xxxxx.war//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557)\n    at deployment.xxxxx.war//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)\n    at deployment.xxxxx.war//org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$1(AbstractBeanFactory.java:359)\n    at deployment.xxxxx.war//org.springframework.web.context.request.AbstractRequestAttributesScope.get(AbstractRequestAttributesScope.java:45)\n    at deployment.xxxxx.war//org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:356)\n    at deployment.xxxxx.war//org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\n    at deployment.xxxxx.war//org.springframework.aop.target.SimpleBeanTargetSource.getTarget(SimpleBeanTargetSource.java:35)\n    at deployment.xxxxx.war//org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:675)\n    at deployment.xxxxx.war//com.cl.xxxx.data.model.xxxxUser$$EnhancerBySpringCGLIB$$48f26ffd.getId(&lt;generated&gt;)\n    at deployment.xxxxx.war//com.xxxx.spring.api.v1.service.UserService.createUser(UserService.java:355)\n    at deployment.xxxxx.war//com.xxxx.spring.api.v1.web.UserController.create(UserController.java:105)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at deployment.xxxxx.war//org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\n    at deployment.xxxxx.war//org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\n    at deployment.xxxxx.war//org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)\n    at deployment.xxxxx.war//org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879)\n    at deployment.xxxxx.war//org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)\n    at deployment.xxxxx.war//org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at deployment.xxxxx.war//org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\n    at deployment.xxxxx.war//org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\n    at deployment.xxxxx.war//org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at deployment.xxxxx.war//org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n    at javax.servlet.api@2.0.0.Final//javax.servlet.http.HttpServlet.service(HttpServlet.java:523)\n    at deployment.xxxxx.war//org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.api@2.0.0.Final//javax.servlet.http.HttpServlet.service(HttpServlet.java:590)\n    at io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\n    at io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\n    at io.opentracing.contrib.opentracing-jaxrs2//io.opentracing.contrib.jaxrs2.server.SpanFinishingFilter.doFilter(SpanFinishingFilter.java:52)\n    at io.undertow.servlet@2.1.3.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\n    at deployment.xxxxx.war//org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)\n    at deployment.xxxxx.war//org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)\n    at deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at deployment.xxxxx.war//org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)\n    at deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at deployment.xxxxx.war//org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\n    at deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at deployment.xxxxx.war//org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\n    at deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at deployment.xxxxx.war//org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)\n    at deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at deployment.xxxxx.war//org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at deployment.xxxxx.war//org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:114)\n    at deployment.xxxxx.war//org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at deployment.xxxxx.war//org.springframework.security.web.authentication.preauth.AbstractPreAuthenticatedProcessingFilter.doFilter(AbstractPreAuthenticatedProcessingFilter.java:124)\n    at deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at deployment.xxxxx.war//org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\n    at deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at deployment.xxxxx.war//org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)\n    at deployment.xxxxx.war//org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)\n    at deployment.xxxxx.war//org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at deployment.xxxxx.war//org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\n    at deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at deployment.xxxxx.war//org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\n    at deployment.xxxxx.war//org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\n    at deployment.xxxxx.war//org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\n    at deployment.xxxxx.war//org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\n    at deployment.xxxxx.war//org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\n    at io.undertow.servlet@2.1.3.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\n    at io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\n    at io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\n    at io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\n    at org.wildfly.extension.undertow@20.0.1.Final//org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)\n    at io.undertow.core@2.1.3.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\n    at io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)\n    at io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\n    at io.undertow.core@2.1.3.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.core@2.1.3.Final//io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\n    at io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\n    at io.undertow.core@2.1.3.Final//io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\n    at io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\n    at io.undertow.core@2.1.3.Final//io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)\n    at io.undertow.core@2.1.3.Final//io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\n    at io.undertow.core@2.1.3.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at org.wildfly.extension.undertow@20.0.1.Final//org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)\n    at io.undertow.core@2.1.3.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at org.wildfly.extension.undertow@20.0.1.Final//org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)\n    at io.undertow.core@2.1.3.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)\n    at io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)\n    at io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)\n    at io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)\n    at io.undertow.servlet@2.1.3.Final//io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\n    at io.undertow.servlet@2.1.3.Final//io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n    at org.wildfly.extension.undertow@20.0.1.Final//org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)\n    at org.wildfly.extension.undertow@20.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n    at org.wildfly.extension.undertow@20.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n    at org.wildfly.extension.undertow@20.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n    at org.wildfly.extension.undertow@20.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n    at org.wildfly.extension.undertow@20.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n    at io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)\n    at io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)\n    at io.undertow.servlet@2.1.3.Final//io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)\n    at io.undertow.core@2.1.3.Final//io.undertow.server.Connectors.executeRootHandler(Connectors.java:370)\n    at io.undertow.core@2.1.3.Final//io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)\n    at org.jboss.threads@2.3.3.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n    at org.jboss.threads@2.3.3.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)\n    at org.jboss.threads@2.3.3.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n    at org.jboss.threads@2.3.3.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1348)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.cl.xxxx.data.model.xxxxUser]: Factory method 'user' threw exception; nested exception is org.springframework.security.core.userdetails.UsernameNotFoundException: xxxxxxxxxxxxxxxxx\n    at deployment.xxxxx.war//org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\n    at deployment.xxxxx.war//org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:651)\n    ... 115 more\n</code></pre>\n"},{"tags":["java","spring-boot","maven","log4j","slf4j"],"comments":[{"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"score":0,"creation_date":1643793849,"post_id":70952641,"comment_id":125431006,"body_markdown":"Can you show me your dependecies","body":"Can you show me your dependecies"},{"owner":{"account_id":12471093,"reputation":11,"user_id":9136135,"display_name":"user9136135"},"score":0,"creation_date":1643801702,"post_id":70952641,"comment_id":125434206,"body_markdown":"I have added Pom.xml in question","body":"I have added Pom.xml in question"},{"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1643906223,"post_id":70952641,"comment_id":125469136,"body_markdown":"Does this answer your question? [SLF4J: Class path contains multiple SLF4J bindings](https://stackoverflow.com/questions/14024756/slf4j-class-path-contains-multiple-slf4j-bindings)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/14024756/slf4j-class-path-contains-multiple-slf4j-bindings\">SLF4J: Class path contains multiple SLF4J bindings</a>"}],"owner":{"account_id":12471093,"reputation":11,"user_id":9136135,"display_name":"user9136135"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643906097,"creation_date":1643791351,"question_id":70952641,"body_markdown":"When I run my Spring project I got error `SLF4J: Class path contains multiple SLF4J bindings.` in my ide console. I don&#39;t why this error is produce while run my project.\r\n\r\n```\r\nSLF4J: Class path contains multiple SLF4J bindings.\r\nSLF4J: Found binding in [jar:file:/D:/*/fiserv/src/main/resources/CommerceConnect.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: Found binding in [jar:file:/C:/Users/rsawant/.m2/repository/org/slf4j/slf4j-log4j12/1.7.13/slf4j-log4j12-1.7.13.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: Found binding in [jar:file:/C:/Users/rsawant/.m2/repository/ch/qos/logback/logback-classic/1.2.10/logback-classic-1.2.10.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\r\nSLF4J: Actual binding is of type [ch.qos.logback.classic.util.ContextSelectorStaticBinder]\r\nCaused by: java.lang.NoSuchMethodException: org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.\r\norg.springframework.core.io.support.SpringFactoriesLoader.instantiateFactory(SpringFactoriesLoader.java:164)\r\n\t... 15 common frames omitted\r\n```\r\n\r\nHere is pom.xml for reference\r\n```\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6.3&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n \r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fiserv.java&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;fiserv-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n  ","title":"Why got &quot;Class path contains multiple SLF4J bindings&quot;","body":"<p>When I run my Spring project I got error <code>SLF4J: Class path contains multiple SLF4J bindings.</code> in my ide console. I don't why this error is produce while run my project.</p>\n<pre><code>SLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/D:/*/fiserv/src/main/resources/CommerceConnect.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/C:/Users/rsawant/.m2/repository/org/slf4j/slf4j-log4j12/1.7.13/slf4j-log4j12-1.7.13.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/C:/Users/rsawant/.m2/repository/ch/qos/logback/logback-classic/1.2.10/logback-classic-1.2.10.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\nSLF4J: Actual binding is of type [ch.qos.logback.classic.util.ContextSelectorStaticBinder]\nCaused by: java.lang.NoSuchMethodException: org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.\norg.springframework.core.io.support.SpringFactoriesLoader.instantiateFactory(SpringFactoriesLoader.java:164)\n    ... 15 common frames omitted\n</code></pre>\n<p>Here is pom.xml for reference</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.3&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fiserv.java&lt;/groupId&gt;\n            &lt;artifactId&gt;fiserv-java&lt;/artifactId&gt;\n            &lt;version&gt;2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","merge","docx"],"comments":[{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":0,"creation_date":1643183730,"post_id":70853711,"comment_id":125269107,"body_markdown":"It&#39;s hardly doable without &quot;extra&quot; code since DOCX is a bit more complex format than just an array of bytes. If it is strictly required to have no extra jars, you can manually add source code of some tool (that is designed for DOCX merging) into your project, respecting the license of course. Tools are observed here https://stackoverflow.com/a/2494642/2224047","body":"It&#39;s hardly doable without &quot;extra&quot; code since DOCX is a bit more complex format than just an array of bytes. If it is strictly required to have no extra jars, you can manually add source code of some tool (that is designed for DOCX merging) into your project, respecting the license of course. Tools are observed here <a href=\"https://stackoverflow.com/a/2494642/2224047\">stackoverflow.com/a/2494642/2224047</a>"},{"owner":{"account_id":19947676,"reputation":61,"user_id":14617996,"display_name":"Hussam Barouqa"},"score":0,"creation_date":1643927145,"post_id":70853711,"comment_id":125476701,"body_markdown":"Using java runtime alone is difficult for merging DOCX. Your best bet is to use a java library with classes for document format processing. The LEADTOOLS toolkit, for example, has the [LEADDocument](https://www.leadtools.com/help/sdk/v22/dh/dox/leaddocument.html) class which can encapsulate loaded DOCX files and can be used to merge them into a single file. This functionality is also available through a [Cloud Service](https://www.leadtools.com/help/sdk/v22/tutorials/cloud-services-java-merge-documents.html). (Disclaimer: I am an employee of the vendor).","body":"Using java runtime alone is difficult for merging DOCX. Your best bet is to use a java library with classes for document format processing. The LEADTOOLS toolkit, for example, has the <a href=\"https://www.leadtools.com/help/sdk/v22/dh/dox/leaddocument.html\" rel=\"nofollow noreferrer\">LEADDocument</a> class which can encapsulate loaded DOCX files and can be used to merge them into a single file. This functionality is also available through a <a href=\"https://www.leadtools.com/help/sdk/v22/tutorials/cloud-services-java-merge-documents.html\" rel=\"nofollow noreferrer\">Cloud Service</a>. (Disclaimer: I am an employee of the vendor)."}],"owner":{"account_id":24052443,"reputation":1,"user_id":18030740,"display_name":"Gilli"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643905715,"creation_date":1643134688,"question_id":70853711,"body_markdown":"I used a service to get one docx in binary content and I have one docx file which I&#39;am able to convert to binary content now \r\nIf I try to write both to byte array and when I open either I found only one document or I was not able to open the document .The code can be seen below \r\n\r\n        Byte [] a = (byte[])obj1;\r\n    Byte [] b = (byte[])obj2;\r\n        Outputstream op= new outputstream();\r\n    Try {\r\n    Op.write(a);\r\n    Op write(b);\r\n    Byte[] combined = op.toByteArray();\r\n\r\nFinal byte array - combined either contain only one docx file or It became s unreadable.\r\nNeed a solution without any extra jars.\r\n\r\n","title":"Merging two but streams obtained from docx","body":"<p>I used a service to get one docx in binary content and I have one docx file which I'am able to convert to binary content now\nIf I try to write both to byte array and when I open either I found only one document or I was not able to open the document .The code can be seen below</p>\n<pre><code>    Byte [] a = (byte[])obj1;\nByte [] b = (byte[])obj2;\n    Outputstream op= new outputstream();\nTry {\nOp.write(a);\nOp write(b);\nByte[] combined = op.toByteArray();\n</code></pre>\n<p>Final byte array - combined either contain only one docx file or It became s unreadable.\nNeed a solution without any extra jars.</p>\n"},{"tags":["java","android","algorithm","kotlin"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1643905040,"post_id":70974663,"comment_id":125468632,"body_markdown":"https://stackoverflow.com/questions/1016896/how-to-get-screen-dimensions-as-pixels-in-android","body":"<a href=\"https://stackoverflow.com/questions/1016896/how-to-get-screen-dimensions-as-pixels-in-android\" title=\"how to get screen dimensions as pixels in android\">stackoverflow.com/questions/1016896/&hellip;</a>"},{"owner":{"account_id":20903308,"reputation":529,"user_id":15355904,"display_name":"Bob Redity"},"score":0,"creation_date":1643905130,"post_id":70974663,"comment_id":125468674,"body_markdown":"@Tenfour04 I don&#39;t need to get just dimensions. I know how to get them. I need help to get % of the screen dynamically","body":"@Tenfour04 I don&#39;t need to get just dimensions. I know how to get them. I need help to get % of the screen dynamically"}],"answers":[{"tags":[],"owner":{"account_id":11720407,"reputation":1858,"user_id":8579556,"display_name":"Luca Murra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643905538,"creation_date":1643905538,"answer_id":70974846,"question_id":70974663,"body_markdown":"Once you have the width, let&#39;s say `w` is the width value, it&#39;s 25% is\r\n\r\n    w / 100 * 25\r\n\r\nI don&#39;t know if this is your question.","title":"How to calculate percent of width programmatically Android?","body":"<p>Once you have the width, let's say <code>w</code> is the width value, it's 25% is</p>\n<pre><code>w / 100 * 25\n</code></pre>\n<p>I don't know if this is your question.</p>\n"},{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643905613,"creation_date":1643905613,"answer_id":70974871,"question_id":70974663,"body_markdown":"Divide by the width using float values to avoid integer division truncating the result to 0. Then compare to fractions of 1 instead of integer percentages.\r\n\r\n```\r\nwhen (x.toFloat() / screenWidth) { \r\n    in 0f..0.25f -&gt; doSmth()\r\n    in 0.75f..1f -&gt; doSmthElse()\r\n}\r\n```","title":"How to calculate percent of width programmatically Android?","body":"<p>Divide by the width using float values to avoid integer division truncating the result to 0. Then compare to fractions of 1 instead of integer percentages.</p>\n<pre><code>when (x.toFloat() / screenWidth) { \n    in 0f..0.25f -&gt; doSmth()\n    in 0.75f..1f -&gt; doSmthElse()\n}\n</code></pre>\n"}],"owner":{"account_id":20903308,"reputation":529,"user_id":15355904,"display_name":"Bob Redity"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70974846,"answer_count":2,"score":0,"last_activity_date":1643905613,"creation_date":1643904765,"question_id":70974663,"body_markdown":"For example I got a screen width 1000 . And I need to calculate the value of the first 25% which will be `when x in 0..250 -&gt; doSmth()` and last part \r\n\r\nwhich will be `when x in 750..1000 -&gt; doSmth()`\r\n \r\nBut I need to make it dynamically depends on the screen width. What is the way to do that in Android?","title":"How to calculate percent of width programmatically Android?","body":"<p>For example I got a screen width 1000 . And I need to calculate the value of the first 25% which will be <code>when x in 0..250 -&gt; doSmth()</code> and last part</p>\n<p>which will be <code>when x in 750..1000 -&gt; doSmth()</code></p>\n<p>But I need to make it dynamically depends on the screen width. What is the way to do that in Android?</p>\n"},{"tags":["java","jdbc"],"answers":[{"tags":[],"owner":{"account_id":21825332,"reputation":1219,"user_id":16120911,"display_name":"sittsering"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643905326,"creation_date":1643905326,"answer_id":70974798,"question_id":70974470,"body_markdown":"Before checking the `startsWith()`, check if the value is null or not.&lt;br&gt;\r\n```java\r\nif(result.get(&quot;EID&quot;+i)!=null &amp;&amp; result.get(&quot;CID&quot;+i)!=null ){\r\n    //your code to execute\r\n}\r\nelse {\r\n    // some code to execute if the value is null\r\n}","title":"Skipping null values using a for loop","body":"<p>Before checking the <code>startsWith()</code>, check if the value is null or not.<br></p>\n<pre class=\"lang-java prettyprint-override\"><code>if(result.get(&quot;EID&quot;+i)!=null &amp;&amp; result.get(&quot;CID&quot;+i)!=null ){\n    //your code to execute\n}\nelse {\n    // some code to execute if the value is null\n}\n</code></pre>\n"}],"owner":{"account_id":10751944,"reputation":31,"user_id":7911020,"display_name":"Callum Kent"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":951,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70974798,"answer_count":1,"score":0,"last_activity_date":1643905326,"creation_date":1643904026,"question_id":70974470,"body_markdown":"[DB_Example][1]\r\nI&#39;m exploring automation testing on databases and struggling with hitting null values in my table. \r\n\r\nI want to test:\r\n\r\n1. If EID1 =&lt; 8 and CID1 starts with M, print pass, else, print fail.\r\n\r\n2. If EID2 =&lt; 8 and CID2 starts with M, print pass, else, print fail.\r\n\r\nThere is null values and I&#39;m getting the following error: Cannot invoke &quot;String.startsWith(String)&quot; because the return value of java.util.Map.get(object) is null.\r\n\r\nMy first value is always null, so I begin the loop at counter 1, which solved that issue, but there is null values in both EID and CID in my table. It&#39;s fine if the test fails if the conditions are not met (ie a value being null), but my application crashes upon reaching any null values. What can I change to avoid crashing and filter null values? I&#39;ve not been able to work it out. Tried adding the nullpointerexception and some fiddling with the loop but no luck. I have included an example image of the table for reference is required. \r\n\r\n    Map&lt;String, String&gt; result = new HashMap&lt;&gt;();\r\n    Map&lt;String, String&gt; result = new HashMap&lt;String, String&gt;();\r\n    query = &quot;select * FROM DEA.TUSET where T_DATE &gt;&#39;2010-11-02&#39;&quot;;\r\n    resultSet = statement.executeQuery(Query)\r\n    ResultSetMetaData rsmd = resultSet.getMetaData();\r\n    long pId = 1:\r\n    while (resultSet.next()) {\r\n    for int col = 1; col &lt;= rsmd.getColumnCount(); col ++) {\r\n    result.put(rsmd.getColumnLabel(col)+pId, resultSet.getString(col)); }\r\n    pId ++;\r\n    }\r\n    //print all results in col\r\n    for (int i=0; i&lt;pId;i++)\r\n    System.out.println(&quot;EID: &quot;+result.get(&quot;EID&quot;+i));\r\n\r\n    //problem\r\n    for (int i=1; i&lt;pId;i++)\r\n    if (result.get(&quot;EID&quot;+i).startsWith(&quot;8&quot;){\r\n    if result.get(&quot;CID&quot;+i).startsWith(&quot;M&quot;) {\r\n    System.out.println (&quot;true&quot;);\r\n    }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PtYIB.png","title":"Skipping null values using a for loop","body":"<p><a href=\"https://i.stack.imgur.com/PtYIB.png\" rel=\"nofollow noreferrer\">DB_Example</a>\nI'm exploring automation testing on databases and struggling with hitting null values in my table.</p>\n<p>I want to test:</p>\n<ol>\n<li><p>If EID1 =&lt; 8 and CID1 starts with M, print pass, else, print fail.</p>\n</li>\n<li><p>If EID2 =&lt; 8 and CID2 starts with M, print pass, else, print fail.</p>\n</li>\n</ol>\n<p>There is null values and I'm getting the following error: Cannot invoke &quot;String.startsWith(String)&quot; because the return value of java.util.Map.get(object) is null.</p>\n<p>My first value is always null, so I begin the loop at counter 1, which solved that issue, but there is null values in both EID and CID in my table. It's fine if the test fails if the conditions are not met (ie a value being null), but my application crashes upon reaching any null values. What can I change to avoid crashing and filter null values? I've not been able to work it out. Tried adding the nullpointerexception and some fiddling with the loop but no luck. I have included an example image of the table for reference is required.</p>\n<pre><code>Map&lt;String, String&gt; result = new HashMap&lt;&gt;();\nMap&lt;String, String&gt; result = new HashMap&lt;String, String&gt;();\nquery = &quot;select * FROM DEA.TUSET where T_DATE &gt;'2010-11-02'&quot;;\nresultSet = statement.executeQuery(Query)\nResultSetMetaData rsmd = resultSet.getMetaData();\nlong pId = 1:\nwhile (resultSet.next()) {\nfor int col = 1; col &lt;= rsmd.getColumnCount(); col ++) {\nresult.put(rsmd.getColumnLabel(col)+pId, resultSet.getString(col)); }\npId ++;\n}\n//print all results in col\nfor (int i=0; i&lt;pId;i++)\nSystem.out.println(&quot;EID: &quot;+result.get(&quot;EID&quot;+i));\n\n//problem\nfor (int i=1; i&lt;pId;i++)\nif (result.get(&quot;EID&quot;+i).startsWith(&quot;8&quot;){\nif result.get(&quot;CID&quot;+i).startsWith(&quot;M&quot;) {\nSystem.out.println (&quot;true&quot;);\n}\n}\n</code></pre>\n"},{"tags":["java","android","class","android-activity"],"answers":[{"tags":[],"owner":{"account_id":3851476,"reputation":15138,"user_id":3191557,"accept_rate":100,"display_name":"dhke"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1429988919,"creation_date":1429987889,"answer_id":29869296,"question_id":29869191,"body_markdown":"The error message should be self-explanatory: `...ColourActivity` is a class name and a class name by itself is not a valid expression in Java. This is not an android problem, this is a simple syntax error.\r\n\r\n`do_output()` expects an **instance** of an `Activity`. I&#39;m not quite sure, what you where trying to achieve by trying to pass the name of the activity class.\r\n\r\nI&#39;d assume, that --since you are calling `do_output()` from inside your activity-- you might want to try \r\n\r\n    ColourOutput.do_output(ColorActivity.this);\r\n\r\ninstead.\r\n\r\nAs suggested by @Priya Singhal, the explicit reference to `ColorActivity.this` is necessary as you are calling the method from within an inner class and `this` refers to the instance of that inner class.","title":"Android: &quot;Expression expected&quot; when passing an Activity class","body":"<p>The error message should be self-explanatory: <code>...ColourActivity</code> is a class name and a class name by itself is not a valid expression in Java. This is not an android problem, this is a simple syntax error.</p>\n\n<p><code>do_output()</code> expects an <strong>instance</strong> of an <code>Activity</code>. I'm not quite sure, what you where trying to achieve by trying to pass the name of the activity class.</p>\n\n<p>I'd assume, that --since you are calling <code>do_output()</code> from inside your activity-- you might want to try </p>\n\n<pre><code>ColourOutput.do_output(ColorActivity.this);\n</code></pre>\n\n<p>instead.</p>\n\n<p>As suggested by @Priya Singhal, the explicit reference to <code>ColorActivity.this</code> is necessary as you are calling the method from within an inner class and <code>this</code> refers to the instance of that inner class.</p>\n"}],"owner":{"account_id":5413591,"reputation":558,"user_id":4309474,"accept_rate":43,"display_name":"micheal65536"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29630,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":29869296,"answer_count":1,"score":4,"last_activity_date":1643905242,"creation_date":1429987419,"question_id":29869191,"body_markdown":"I am kind of new to Android programming and Java in general, and I cannot work out what is causing this error; as I understand it this should work. In the code shown below (near the end of the first snippet), the line `&quot;ColourOutput.do_output((Activity) com.(name-removed).(app-name-removed).ColourActivity);&quot;` is giving the error `&quot;Expression expected&quot;` on the text `&quot;com.(name-removed).(app-name-removed).ColourActivity&quot;` in Android Studio 1.1.0.\r\n\r\n(This is inside the class `&quot;public class ColourActivity extends Activity&quot;`.)\r\n\r\n            private Camera.PreviewCallback preview_callback = new Camera.PreviewCallback() {\r\n            @Override\r\n            public void onPreviewFrame(byte[] data, Camera camera) {\r\n                int width = mCamera.getParameters().getPreviewSize().width;\r\n                int height = mCamera.getParameters().getPreviewSize().height;\r\n                int raw_pixels[];\r\n                int pixels[];\r\n\r\n                raw_pixels = new int[width * height];\r\n                pixels = new int[get_sample_width() * get_sample_height()];\r\n                convert_yuv(raw_pixels, data, width, height);\r\n                crop_pixels(raw_pixels, pixels, width, height, (width - get_sample_width()) / 2, (height - get_sample_height()) / 2, get_sample_width(), get_sample_height());\r\n\r\n                if (PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getBoolean(&quot;use_mean&quot;, true) == true) {\r\n                    ColourOutput.add_colour_to_output(\r\n                            ColourTools.get_mean(\r\n                                    pixels, get_sample_width(), get_sample_height(),\r\n                                    PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getBoolean(&quot;detect_secondary&quot;, true),\r\n                                    PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getBoolean(&quot;detect_white&quot;, true),\r\n                                    PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getBoolean(&quot;detect_brightness&quot;, true),\r\n                                    PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getInt(&quot;quantization_secondary&quot;, 32),\r\n                                    PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getInt(&quot;quantization_dark&quot;, 43),\r\n                                    PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getInt(&quot;quantization_light&quot;, 128),\r\n                                    PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getBoolean(&quot;quantization_matching_only&quot;, true)\r\n                            ),\r\n                            ColourOutput.ColourType.MEAN);\r\n                }\r\n                if (PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getBoolean(&quot;use_mode&quot;, true) == true) {\r\n                    ColourOutput.add_colour_to_output(\r\n                            ColourTools.get_mode(\r\n                                    pixels, get_sample_width(), get_sample_height(),\r\n                                    PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getBoolean(&quot;detect_secondary&quot;, true),\r\n                                    PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getBoolean(&quot;detect_white&quot;, true),\r\n                                    PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getBoolean(&quot;detect_brightness&quot;, true),\r\n                                    PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getInt(&quot;quantization_secondary&quot;, 32),\r\n                                    PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getInt(&quot;quantization_dark&quot;, 43),\r\n                                    PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getInt(&quot;quantization_light&quot;, 128),\r\n                                    PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getBoolean(&quot;quantization_matching_only&quot;, true)\r\n                            ),\r\n                            ColourOutput.ColourType.MODE);\r\n                }\r\n                ColourOutput.do_output((Activity) com.(name-removed).(app-name-removed).ColourActivity);\r\n            }\r\n        };\r\n\r\nHere is the definition of **&quot;ColourOutput.do_output&quot;**:\r\n\r\n    public class ColourOutput {\r\n        private static boolean output_clear = true;\r\n        private static String output_buffer = &quot;&quot;;\r\n\r\n        public static enum ColourType {\r\n            MEAN,\r\n            MODE\r\n        }\r\n\r\n        public static void add_colour_to_output(ColourTools.ColourDescription colour, ColourType type) {\r\n            if (output_clear == true) {\r\n                output_buffer = colour.Brightness.toString() + &quot; &quot; + colour.Colour.toString();\r\n            }\r\n            else {\r\n                output_buffer = output_buffer + &quot; &quot; + colour.Brightness.toString() + &quot; &quot; + colour.Colour.toString();\r\n            }\r\n            output_clear = false;\r\n        }\r\n\r\n        public static void do_output(Activity activity) {\r\n            ((TextView) activity.findViewById(R.id.output_text)).setText(output_buffer);\r\n            output_buffer = &quot;&quot;;\r\n            output_clear = true;\r\n        }\r\n    }","title":"Android: &quot;Expression expected&quot; when passing an Activity class","body":"<p>I am kind of new to Android programming and Java in general, and I cannot work out what is causing this error; as I understand it this should work. In the code shown below (near the end of the first snippet), the line <code>\"ColourOutput.do_output((Activity) com.(name-removed).(app-name-removed).ColourActivity);\"</code> is giving the error <code>\"Expression expected\"</code> on the text <code>\"com.(name-removed).(app-name-removed).ColourActivity\"</code> in Android Studio 1.1.0.</p>\n\n<p>(This is inside the class <code>\"public class ColourActivity extends Activity\"</code>.)</p>\n\n<pre><code>        private Camera.PreviewCallback preview_callback = new Camera.PreviewCallback() {\n        @Override\n        public void onPreviewFrame(byte[] data, Camera camera) {\n            int width = mCamera.getParameters().getPreviewSize().width;\n            int height = mCamera.getParameters().getPreviewSize().height;\n            int raw_pixels[];\n            int pixels[];\n\n            raw_pixels = new int[width * height];\n            pixels = new int[get_sample_width() * get_sample_height()];\n            convert_yuv(raw_pixels, data, width, height);\n            crop_pixels(raw_pixels, pixels, width, height, (width - get_sample_width()) / 2, (height - get_sample_height()) / 2, get_sample_width(), get_sample_height());\n\n            if (PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getBoolean(\"use_mean\", true) == true) {\n                ColourOutput.add_colour_to_output(\n                        ColourTools.get_mean(\n                                pixels, get_sample_width(), get_sample_height(),\n                                PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getBoolean(\"detect_secondary\", true),\n                                PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getBoolean(\"detect_white\", true),\n                                PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getBoolean(\"detect_brightness\", true),\n                                PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getInt(\"quantization_secondary\", 32),\n                                PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getInt(\"quantization_dark\", 43),\n                                PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getInt(\"quantization_light\", 128),\n                                PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getBoolean(\"quantization_matching_only\", true)\n                        ),\n                        ColourOutput.ColourType.MEAN);\n            }\n            if (PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getBoolean(\"use_mode\", true) == true) {\n                ColourOutput.add_colour_to_output(\n                        ColourTools.get_mode(\n                                pixels, get_sample_width(), get_sample_height(),\n                                PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getBoolean(\"detect_secondary\", true),\n                                PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getBoolean(\"detect_white\", true),\n                                PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getBoolean(\"detect_brightness\", true),\n                                PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getInt(\"quantization_secondary\", 32),\n                                PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getInt(\"quantization_dark\", 43),\n                                PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getInt(\"quantization_light\", 128),\n                                PreferenceManager.getDefaultSharedPreferences(getApplicationContext()).getBoolean(\"quantization_matching_only\", true)\n                        ),\n                        ColourOutput.ColourType.MODE);\n            }\n            ColourOutput.do_output((Activity) com.(name-removed).(app-name-removed).ColourActivity);\n        }\n    };\n</code></pre>\n\n<p>Here is the definition of <strong>\"ColourOutput.do_output\"</strong>:</p>\n\n<pre><code>public class ColourOutput {\n    private static boolean output_clear = true;\n    private static String output_buffer = \"\";\n\n    public static enum ColourType {\n        MEAN,\n        MODE\n    }\n\n    public static void add_colour_to_output(ColourTools.ColourDescription colour, ColourType type) {\n        if (output_clear == true) {\n            output_buffer = colour.Brightness.toString() + \" \" + colour.Colour.toString();\n        }\n        else {\n            output_buffer = output_buffer + \" \" + colour.Brightness.toString() + \" \" + colour.Colour.toString();\n        }\n        output_clear = false;\n    }\n\n    public static void do_output(Activity activity) {\n        ((TextView) activity.findViewById(R.id.output_text)).setText(output_buffer);\n        output_buffer = \"\";\n        output_clear = true;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","fragment"],"comments":[{"owner":{"account_id":6726488,"reputation":115,"user_id":5184251,"display_name":"Ajaya Tiwari"},"score":0,"creation_date":1568116962,"post_id":57870352,"comment_id":102165600,"body_markdown":"Fragments has it’s own life cycle but it always be embedded with an activity so that the fragments life cycle is directly affected by the host activity’s life cycle","body":"Fragments has it’s own life cycle but it always be embedded with an activity so that the fragments life cycle is directly affected by the host activity’s life cycle"},{"owner":{"account_id":13810539,"reputation":3452,"user_id":9968399,"display_name":"Taseer"},"score":0,"creation_date":1568117474,"post_id":57870352,"comment_id":102165875,"body_markdown":"If you are not saving anything `onSaveInstance` callback, then the savedInstance will be null, hence the fragment transaction occurs again.","body":"If you are not saving anything <code>onSaveInstance</code> callback, then the savedInstance will be null, hence the fragment transaction occurs again."},{"owner":{"account_id":8356567,"reputation":2899,"user_id":6276596,"display_name":"Furkan Yurdakul"},"score":0,"creation_date":1568118987,"post_id":57870352,"comment_id":102166761,"body_markdown":"For example: orientation change is a configuration change that triggers this lifecycle. Based on that: That depends on whether you use `android:configChanges=&quot;orientation&quot;` in your manifest. If you do, everything will remain the same and views just re-layout themselves. If not, activities and fragments will be recreated with their saved instances, which you can override as `onSaveInstanceState(Bundle outState)`.","body":"For example: orientation change is a configuration change that triggers this lifecycle. Based on that: That depends on whether you use <code>android:configChanges=&quot;orientation&quot;</code> in your manifest. If you do, everything will remain the same and views just re-layout themselves. If not, activities and fragments will be recreated with their saved instances, which you can override as <code>onSaveInstanceState(Bundle outState)</code>."},{"owner":{"account_id":16594796,"reputation":553,"user_id":11991941,"display_name":"Hady Salhab"},"score":0,"creation_date":1568121869,"post_id":57870352,"comment_id":102168407,"body_markdown":"My point is: if the savedinstancestate is not null after rotation , why does the fragment manager add the fragments again?","body":"My point is: if the savedinstancestate is not null after rotation , why does the fragment manager add the fragments again?"}],"answers":[{"tags":[],"owner":{"account_id":6726488,"reputation":115,"user_id":5184251,"display_name":"Ajaya Tiwari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643905028,"creation_date":1568117014,"answer_id":57870424,"question_id":57870352,"body_markdown":"Fragments has it’s own life cycle but it always be embedded with an activity so that the fragments life cycle is directly affected by the host activity’s life cycle.\r\n\r\n\r\nI think this will help: When you rotate your device and the screen changes orientation, Android usually destroys your application&#39;s existing Activities and Fragments and recreates them. Android does this so that your application can reload resources based on the new configuration.\r\n\r\nif you use SaveInstanceState like below, then its hold the value, and will not be null and you can handle.\r\n```\r\n    @Override\r\n    public void onSaveInstanceState(Bundle outState){\r\n        super.onSaveInstanceState(outState);\r\n        outState.putString(savedName, name);\r\n    }\r\n```","title":"Fragments And Configuration Change","body":"<p>Fragments has it’s own life cycle but it always be embedded with an activity so that the fragments life cycle is directly affected by the host activity’s life cycle.</p>\n<p>I think this will help: When you rotate your device and the screen changes orientation, Android usually destroys your application's existing Activities and Fragments and recreates them. Android does this so that your application can reload resources based on the new configuration.</p>\n<p>if you use SaveInstanceState like below, then its hold the value, and will not be null and you can handle.</p>\n<pre><code>    @Override\n    public void onSaveInstanceState(Bundle outState){\n        super.onSaveInstanceState(outState);\n        outState.putString(savedName, name);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12638560,"reputation":956,"user_id":9186913,"display_name":"raj kavadia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568118246,"creation_date":1568118246,"answer_id":57870739,"question_id":57870352,"body_markdown":"I belive what you are looking for is here\r\nhttps://www.androiddesignpatterns.com/2013/04/retaining-objects-across-config-changes.html\r\nand \r\n\r\n if you want to know the shorcut just put\r\n\r\nsetretaininstance(true);\r\n\r\n\r\ninside of Fragments.","title":"Fragments And Configuration Change","body":"<p>I belive what you are looking for is here\n<a href=\"https://www.androiddesignpatterns.com/2013/04/retaining-objects-across-config-changes.html\" rel=\"nofollow noreferrer\">https://www.androiddesignpatterns.com/2013/04/retaining-objects-across-config-changes.html</a>\nand </p>\n\n<p>if you want to know the shorcut just put</p>\n\n<p>setretaininstance(true);</p>\n\n<p>inside of Fragments.</p>\n"}],"owner":{"account_id":16594796,"reputation":553,"user_id":11991941,"display_name":"Hady Salhab"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":636,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1643905028,"creation_date":1568116769,"question_id":57870352,"body_markdown":"I&#39;m trying to understand the behavior of fragments when a configuration change occurs.\r\nI have created a project where an activity will host a fragment in `onCreate()`:\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        if(savedInstanceState==null) {\r\n            mFragment1 = new Fragment1();\r\n            mManager = getFragmentManager();\r\n            mManager.beginTransaction().add(R.id.container_1, mFragment1, null)\r\n                    .add(R.id.container_1, mFragment1, null)\r\n                    .commit();\r\n        }\r\n    }\r\n\r\n\r\n\r\nIf the transaction happens only if savedInstanceState is null, and activity and fragments are destroyed and recreated,why does my activity host the fragment again when the device is rotated?\r\nMy point is: if the savedinstancestate is not null after rotation , why does the fragment manager add the fragments again?\r\n\r\nThank you.","title":"Fragments And Configuration Change","body":"<p>I'm trying to understand the behavior of fragments when a configuration change occurs.\nI have created a project where an activity will host a fragment in <code>onCreate()</code>:</p>\n\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    if(savedInstanceState==null) {\n        mFragment1 = new Fragment1();\n        mManager = getFragmentManager();\n        mManager.beginTransaction().add(R.id.container_1, mFragment1, null)\n                .add(R.id.container_1, mFragment1, null)\n                .commit();\n    }\n}\n</code></pre>\n\n<p>If the transaction happens only if savedInstanceState is null, and activity and fragments are destroyed and recreated,why does my activity host the fragment again when the device is rotated?\nMy point is: if the savedinstancestate is not null after rotation , why does the fragment manager add the fragments again?</p>\n\n<p>Thank you.</p>\n"},{"tags":["java","firebase-admin","firebase-tools"],"answers":[{"tags":[],"owner":{"account_id":6736149,"reputation":7230,"user_id":5190886,"display_name":"Hiranya Jayathilaka"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1628707141,"creation_date":1628617453,"answer_id":68731383,"question_id":68726082,"body_markdown":"You can pass a fake credential like this:\r\n\r\n    GoogleCredentials.create(new AccessToken(\r\n        &quot;mock-token&quot;, \r\n        Date.from(LocalDateTime.now().plusYears(1).atZone(ZoneId.systemDefault()).toInstant())));","title":"Do I need a firebase service account when I only want to use the emulator?","body":"<p>You can pass a fake credential like this:</p>\n<pre><code>GoogleCredentials.create(new AccessToken(\n    &quot;mock-token&quot;, \n    Date.from(LocalDateTime.now().plusYears(1).atZone(ZoneId.systemDefault()).toInstant())));\n</code></pre>\n"}],"owner":{"account_id":4272236,"reputation":263,"user_id":3493800,"accept_rate":80,"display_name":"Morten Nyhaug"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1117,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":68731383,"answer_count":1,"score":4,"last_activity_date":1643904989,"creation_date":1628595289,"question_id":68726082,"body_markdown":"When connecting to the Firebase Emulator Suite, using the java admin SDK, how can I initialize the app without existing service account credentials? I have the environment variable `FIREBASE_DATABASE_EMULATOR_HOST=localhost:9000` set, and the emulator is running. I then initialize the app with the following code:\r\n\r\n    FirebaseApp.initializeApp(FirebaseOptions.builder()\r\n\t        .setCredentials(GoogleCredentials.getApplicationDefault())\r\n\t        .setDatabaseUrl(&quot;http://localhost:9000?ns=my-project-id&quot;)\r\n    \t    .build(), &quot;my-project-id&quot;);\r\n\r\nBut I get the exception:\r\n\r\n    java.io.IOException: The Application Default Credentials are not available. \r\n    They are available if running in Google Compute Engine. \r\n    Otherwise, the environment variable GOOGLE_APPLICATION_CREDENTIALS must be defined \r\n    pointing to a file defining the credentials. \r\n    See https://developers.google.com/accounts/docs/application-default-credentials for more information.\r\n\r\nDo I always need to have an existing service-account even if I only want to use the emulator? Is there some sort of dummy service-account-credentials for the emulator that I can use?","title":"Do I need a firebase service account when I only want to use the emulator?","body":"<p>When connecting to the Firebase Emulator Suite, using the java admin SDK, how can I initialize the app without existing service account credentials? I have the environment variable <code>FIREBASE_DATABASE_EMULATOR_HOST=localhost:9000</code> set, and the emulator is running. I then initialize the app with the following code:</p>\n<pre><code>FirebaseApp.initializeApp(FirebaseOptions.builder()\n        .setCredentials(GoogleCredentials.getApplicationDefault())\n        .setDatabaseUrl(&quot;http://localhost:9000?ns=my-project-id&quot;)\n        .build(), &quot;my-project-id&quot;);\n</code></pre>\n<p>But I get the exception:</p>\n<pre><code>java.io.IOException: The Application Default Credentials are not available. \nThey are available if running in Google Compute Engine. \nOtherwise, the environment variable GOOGLE_APPLICATION_CREDENTIALS must be defined \npointing to a file defining the credentials. \nSee https://developers.google.com/accounts/docs/application-default-credentials for more information.\n</code></pre>\n<p>Do I always need to have an existing service-account even if I only want to use the emulator? Is there some sort of dummy service-account-credentials for the emulator that I can use?</p>\n"},{"tags":["java","spring","rest","spring-cloud","feign"],"answers":[{"tags":[],"owner":{"account_id":12564971,"reputation":79,"user_id":13082437,"display_name":"Pascal Sochacki"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1643065176,"creation_date":1643065176,"answer_id":70841506,"question_id":70841445,"body_markdown":"looking at the doc there is a imported Note https://cloud.spring.io/spring-cloud-openfeign/reference/html/#spring-cloud-feign-overriding-defaults\r\n\r\n&gt; FooConfiguration does not need to be annotated with @Configuration. However, if it is, then take care to exclude it from any @ComponentScan that would otherwise include this configuration as it will become the default source for feign.Decoder, feign.Encoder, feign.Contract, etc., when specified. This can be avoided by putting it in a separate, non-overlapping package from any @ComponentScan or @SpringBootApplication, or it can be explicitly excluded in @ComponentScan.\r\n\r\nTry to remove the annotation: `@Configuration`","title":"Creating a Feign configuration just for one client?","body":"<p>looking at the doc there is a imported Note <a href=\"https://cloud.spring.io/spring-cloud-openfeign/reference/html/#spring-cloud-feign-overriding-defaults\" rel=\"nofollow noreferrer\">https://cloud.spring.io/spring-cloud-openfeign/reference/html/#spring-cloud-feign-overriding-defaults</a></p>\n<blockquote>\n<p>FooConfiguration does not need to be annotated with @Configuration. However, if it is, then take care to exclude it from any @ComponentScan that would otherwise include this configuration as it will become the default source for feign.Decoder, feign.Encoder, feign.Contract, etc., when specified. This can be avoided by putting it in a separate, non-overlapping package from any @ComponentScan or @SpringBootApplication, or it can be explicitly excluded in @ComponentScan.</p>\n</blockquote>\n<p>Try to remove the annotation: <code>@Configuration</code></p>\n"},{"tags":[],"owner":{"account_id":13489444,"reputation":33,"user_id":9732184,"display_name":"Amir Shokri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643904274,"creation_date":1643904274,"answer_id":70974537,"question_id":70841445,"body_markdown":"You have to create new FeignConfiguration class for your new Feign client,\r\nAlso you should remove the @Configuration from your Feign configuration classes.\r\n","title":"Creating a Feign configuration just for one client?","body":"<p>You have to create new FeignConfiguration class for your new Feign client,\nAlso you should remove the @Configuration from your Feign configuration classes.</p>\n"}],"owner":{"account_id":20053569,"reputation":141,"user_id":14701745,"display_name":"HelloWorld"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9011,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1643904749,"creation_date":1643064650,"question_id":70841445,"body_markdown":"I have a whole bunch of Feign clients that uses a shared configuration(`MyFeignConfiguration.class`):\r\n\r\n    @FeignClient(name = &quot;clientA&quot;, url = &quot;http://serviceA.com&quot;, fallbackFactory = ServiceAFallbackFactory.class, configuration = MyFeignConfiguration.class)\r\n    \r\n    @FeignClient(name = &quot;clientB&quot;, url = &quot;http://serviceB.com&quot;, fallbackFactory = ServiceBFallbackFactory.class, configuration = MyFeignConfiguration.class)\r\n    \r\n    @FeignClient(name = &quot;clientC&quot;, url = &quot;http://serviceC.com&quot;, fallbackFactory = ServiceCFallbackFactory.class, configuration = MyFeignConfiguration.class)\r\n\r\nHowever, for a new client, I want to change the underlying Http Client that is used to OkHttp one. In the `MyFeignConfiguration` class, I can add the following:\r\n\r\n    @Configuration\r\n    class MyFeignConfiguration {\r\n        @Bean\r\n        public Client getClient() {\r\n            return OkHttpClient() // use the OkHttp client \r\n        }\r\n       \r\n        @Bean\r\n        public ErrorDecoder getErrorDecoder() {\r\n            //... existing configs\r\n        }\r\n\r\nHowever, now all of the clients are using this OkHttp client. How do configure the new feign client so that only it is using the OkHttp client? Also, I still need to use the existing default configs(like the `ErrorDecoder`) from my main `MyFeignConfiguration` class.\r\n","title":"Creating a Feign configuration just for one client?","body":"<p>I have a whole bunch of Feign clients that uses a shared configuration(<code>MyFeignConfiguration.class</code>):</p>\n<pre><code>@FeignClient(name = &quot;clientA&quot;, url = &quot;http://serviceA.com&quot;, fallbackFactory = ServiceAFallbackFactory.class, configuration = MyFeignConfiguration.class)\n\n@FeignClient(name = &quot;clientB&quot;, url = &quot;http://serviceB.com&quot;, fallbackFactory = ServiceBFallbackFactory.class, configuration = MyFeignConfiguration.class)\n\n@FeignClient(name = &quot;clientC&quot;, url = &quot;http://serviceC.com&quot;, fallbackFactory = ServiceCFallbackFactory.class, configuration = MyFeignConfiguration.class)\n</code></pre>\n<p>However, for a new client, I want to change the underlying Http Client that is used to OkHttp one. In the <code>MyFeignConfiguration</code> class, I can add the following:</p>\n<pre><code>@Configuration\nclass MyFeignConfiguration {\n    @Bean\n    public Client getClient() {\n        return OkHttpClient() // use the OkHttp client \n    }\n   \n    @Bean\n    public ErrorDecoder getErrorDecoder() {\n        //... existing configs\n    }\n</code></pre>\n<p>However, now all of the clients are using this OkHttp client. How do configure the new feign client so that only it is using the OkHttp client? Also, I still need to use the existing default configs(like the <code>ErrorDecoder</code>) from my main <code>MyFeignConfiguration</code> class.</p>\n"},{"tags":["java","spring","auto-increment","derby"],"answers":[{"tags":[],"owner":{"account_id":1143154,"reputation":19805,"user_id":1126526,"accept_rate":90,"display_name":"manish"},"down_vote_count":2,"up_vote_count":13,"is_accepted":true,"score":11,"last_activity_date":1438678389,"creation_date":1438677915,"answer_id":31804619,"question_id":31804210,"body_markdown":"This is due to [pre-allocation of values for auto-increment columns](https://db.apache.org/derby/docs/10.9/ref/rrefproperpreallocator.html).  Derby being an in-memory database, caches auto-increment values when the database is first loaded into the memory.  Then, future values of the auto-increment columns are generated using the cache instead of querying the database again and again.  If the database is not shut down properly, unused values from the cache are lost forever.\r\n\r\nYou have two options to address this:\r\n\r\n1. Add `;shutdown=true` to the JDBC URL.  This will shut the database down when the application ends.\r\n1. Set the [`derby.language.sequence.preallocator`](https://db.apache.org/derby/docs/10.9/ref/rrefproperpreallocator.html) property to `1` (its default value is `100`).  This will ensure that the column value is never cached.\r\n\r\nNote that most databases behave similarly for sequences.  For example, H2 has the exact same behaviour but uses a cache size of `32` instead of `100` like Derby does.","title":"Derby Auto Increment by 100 when specified as 1","body":"<p>This is due to <a href=\"https://db.apache.org/derby/docs/10.9/ref/rrefproperpreallocator.html\" rel=\"noreferrer\">pre-allocation of values for auto-increment columns</a>.  Derby being an in-memory database, caches auto-increment values when the database is first loaded into the memory.  Then, future values of the auto-increment columns are generated using the cache instead of querying the database again and again.  If the database is not shut down properly, unused values from the cache are lost forever.</p>\n\n<p>You have two options to address this:</p>\n\n<ol>\n<li>Add <code>;shutdown=true</code> to the JDBC URL.  This will shut the database down when the application ends.</li>\n<li>Set the <a href=\"https://db.apache.org/derby/docs/10.9/ref/rrefproperpreallocator.html\" rel=\"noreferrer\"><code>derby.language.sequence.preallocator</code></a> property to <code>1</code> (its default value is <code>100</code>).  This will ensure that the column value is never cached.</li>\n</ol>\n\n<p>Note that most databases behave similarly for sequences.  For example, H2 has the exact same behaviour but uses a cache size of <code>32</code> instead of <code>100</code> like Derby does.</p>\n"},{"tags":[],"owner":{"account_id":21493335,"reputation":36,"user_id":15838700,"display_name":"Uditha Silva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643904300,"creation_date":1643904300,"answer_id":70974545,"question_id":31804210,"body_markdown":"Thanks to  @manish the second option worked for me.\r\n\r\nIn order to implement the 2nd solution, add the following code line where you set your database connection as shown in the below example.\r\n\r\n    Class.forName(&quot;org.apache.derby.jdbc.EmbeddedDriver&quot;);\r\n    String URL = &quot;jdbc:derby:testDB;create=true;&quot;;\r\n    conn = DriverManager.getConnection(URL);\r\n    System.setProperty(&quot;derby.language.sequence.preallocator&quot;, &quot;1&quot;); // Add this line\r\n\r\nThanks to [answer][1] provided by @xfocus99, I was able to know how to implement the 2nd solution.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/57872367/derby-db-increment-the-id-even-after-the-statement-has-been-rolled-back","title":"Derby Auto Increment by 100 when specified as 1","body":"<p>Thanks to  @manish the second option worked for me.</p>\n<p>In order to implement the 2nd solution, add the following code line where you set your database connection as shown in the below example.</p>\n<pre><code>Class.forName(&quot;org.apache.derby.jdbc.EmbeddedDriver&quot;);\nString URL = &quot;jdbc:derby:testDB;create=true;&quot;;\nconn = DriverManager.getConnection(URL);\nSystem.setProperty(&quot;derby.language.sequence.preallocator&quot;, &quot;1&quot;); // Add this line\n</code></pre>\n<p>Thanks to <a href=\"https://stackoverflow.com/questions/57872367/derby-db-increment-the-id-even-after-the-statement-has-been-rolled-back\">answer</a> provided by @xfocus99, I was able to know how to implement the 2nd solution.</p>\n"}],"owner":{"account_id":3329749,"reputation":8669,"user_id":2798955,"accept_rate":28,"display_name":"Bruce"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4855,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":31804619,"answer_count":2,"score":7,"last_activity_date":1643904673,"creation_date":1438676580,"question_id":31804210,"body_markdown":"I used the statement below to create a Derby database table with auto-increment primary column.\r\n\r\n    CREATE TABLE \\&quot;table\\&quot; (\\n&quot;\r\n    \t\t\t+ &quot;\t\\&quot;id\\&quot; INTEGER  NOT NULL GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1) NOT NULL,\\n&quot;\r\n    \t\t\t+ &quot;\t\\&quot;path\\&quot; VARCHAR(2000) DEFAULT NULL,\\n&quot;\r\n    \t\t\t+ &quot;\t\\&quot;downloaded\\&quot; BOOLEAN DEFAULT false NOT NULL,\\n&quot;\r\n    \t\t\t+ &quot;\t\\&quot;retried_times\\&quot; SMALLINT DEFAULT 0 NOT NULL,\\n&quot;\r\n    \t\t\t+ &quot;\t\\&quot;name\\&quot; VARCHAR(40),\\n&quot;\r\n    \t\t\t+ &quot;\t\\&quot;downloaded_date\\&quot; TIMESTAMP DEFAULT NULL,\\n&quot;\r\n    \t\t\t+ &quot;\tPRIMARY KEY (\\&quot;id\\&quot;)\\n&quot;\r\n\r\n\r\nWhen I insert a row through Spring JDBC, it increments by 100. Is there any error in my statement?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/Mq7X7.png","title":"Derby Auto Increment by 100 when specified as 1","body":"<p>I used the statement below to create a Derby database table with auto-increment primary column.</p>\n<pre><code>CREATE TABLE \\&quot;table\\&quot; (\\n&quot;\n            + &quot; \\&quot;id\\&quot; INTEGER  NOT NULL GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1) NOT NULL,\\n&quot;\n            + &quot; \\&quot;path\\&quot; VARCHAR(2000) DEFAULT NULL,\\n&quot;\n            + &quot; \\&quot;downloaded\\&quot; BOOLEAN DEFAULT false NOT NULL,\\n&quot;\n            + &quot; \\&quot;retried_times\\&quot; SMALLINT DEFAULT 0 NOT NULL,\\n&quot;\n            + &quot; \\&quot;name\\&quot; VARCHAR(40),\\n&quot;\n            + &quot; \\&quot;downloaded_date\\&quot; TIMESTAMP DEFAULT NULL,\\n&quot;\n            + &quot; PRIMARY KEY (\\&quot;id\\&quot;)\\n&quot;\n</code></pre>\n<p>When I insert a row through Spring JDBC, it increments by 100. Is there any error in my statement?</p>\n<p><a href=\"https://i.stack.imgur.com/Mq7X7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Mq7X7.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","string","locale"],"comments":[{"owner":{"account_id":1272460,"reputation":53083,"user_id":1228454,"accept_rate":76,"display_name":"nwinkler"},"score":0,"creation_date":1330702889,"post_id":9536018,"comment_id":12081787,"body_markdown":"Did you take a look at http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Locale.html?","body":"Did you take a look at <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Locale.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/1.5.0/docs/api/java/util/Locale.html</a>?"},{"owner":{"account_id":1285400,"reputation":131,"user_id":1238590,"accept_rate":75,"display_name":"Jack Jr"},"score":0,"creation_date":1330703269,"post_id":9536018,"comment_id":12081967,"body_markdown":"thanx.. just a newbie.. trying to figure sth out...","body":"thanx.. just a newbie.. trying to figure sth out..."},{"owner":{"account_id":89657,"reputation":18436,"user_id":247221,"accept_rate":75,"display_name":"Paweł Dyda"},"score":0,"creation_date":1330719023,"post_id":9536018,"comment_id":12087563,"body_markdown":"@Jack: In future you might want to (Google|Bing) search for answers first and ask **detailed** question if you are unable to find the answer or feel confused. I understand that Locale class could be very confusing, especially since Java 7 but it really doesn&#39;t mean that you should not work on the problem by yourself instead of looking for fast solutions.","body":"@Jack: In future you might want to (Google|Bing) search for answers first and ask <b>detailed</b> question if you are unable to find the answer or feel confused. I understand that Locale class could be very confusing, especially since Java 7 but it really doesn&#39;t mean that you should not work on the problem by yourself instead of looking for fast solutions."},{"owner":{"account_id":2153873,"reputation":13196,"user_id":1909531,"accept_rate":79,"display_name":"Matthias M"},"score":2,"creation_date":1415275955,"post_id":9536018,"comment_id":42136105,"body_markdown":"Since locale conversion is not trivial, I think this question is not so stupid. Especially when you need convert both ways: locale =&gt; string and string =&gt; locale http://stackoverflow.com/questions/2522248/how-to-get-locale-from-its-string-representation-in-java","body":"Since locale conversion is not trivial, I think this question is not so stupid. Especially when you need convert both ways: locale =&gt; string and string =&gt; locale <a href=\"http://stackoverflow.com/questions/2522248/how-to-get-locale-from-its-string-representation-in-java\" title=\"how to get locale from its string representation in java\">stackoverflow.com/questions/2522248/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1643904116,"creation_date":1330703488,"answer_id":9536252,"question_id":9536018,"body_markdown":"Depending what you want to do with it you could use the [toString][1] method of the Locale class.\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Locale.html#toString()\r\n","title":"Java Locale to String","body":"<p>Depending what you want to do with it you could use the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Locale.html#toString()\" rel=\"nofollow noreferrer\">toString</a> method of the Locale class.</p>\n"},{"tags":[],"owner":{"account_id":89657,"reputation":18436,"user_id":247221,"accept_rate":75,"display_name":"Paweł Dyda"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1330718795,"creation_date":1330718795,"answer_id":9539659,"question_id":9536018,"body_markdown":"That really depends on the Java version you use. When you say convert to String, I assume you might want to:\r\n\r\n 1. Convert it to Locale identifier, so that you can easily recreate Locale in the future.\r\n 2. Pass it as a String representation to some part of the system.\r\n 3. Get (possibly native) name of language, country or the Locale object.\r\n\r\nOthers pointed you to a documentation, but I think it is better to walk through several possibilities.\r\n\r\nAd 1. If you need to convert to a Locale identifier, the best method as of Java 7 (that doesn&#39;t really exist in previous releases) is [toLanguageTag()][1].\r\n\r\nThat&#39;s because you can easily store Locale identifier in a string (including all the options, like script, Unicode extensions, etc.) and recreate Locale object using [forLanguageTag(String)][2] without losing information. Simple `toString()` does not hold this property.  \r\nFollowing code snippet illustrates my point:\r\n\r\n    Locale locale = Locale.getDefault(Locale.Category.DISPLAY);\r\n    String localeId = locale.toLanguageTag();\r\n    Locale recreatedLocale = Locale.forLanguageTag(localeId);\r\n\r\nPrior to Java 7, you really needed to use `toString()` and manually handle countries and variants (for Locale consisted of up to three identifiers separated by and underscore, i.e. no_NO_NY.)\r\n\r\nAd 2. If you need to pass Locale to other part of the system (i.e. web service), `toString()` may and may be not what you are looking for. That&#39;s because of what I wrote above - if you need dash as a separator and don&#39;t care so much for variants, I would go with [getLanguage()][3] and [getCountry()][4] methods rather than plain `toString()`:\r\n\r\n    Locale uiLocale = Locale.getDefault(Locale.Category.DISPLAY);\r\n    String localeId = MessageFormat.format(&quot;{0}-{1}&quot;, \r\n                                           uiLocale.getLanguage(),\r\n                                           uiLocale.getCountry());\r\n\r\nThis method should work well with Java versions since version 1.4.\r\n\r\nAd 3. If you want to present language, country or Locale display name, so that user can choose the valid Locale (i.e. in his/her profile), what you probably looking for are [getDisplayCountry(Locale)][5], [getDisplayLanguage(Locale)][6] and [getDisplayName(Locale)][7]. You can use them to display names in a target user language (provided that JVM has appropriate translations, which is true for many languages):\r\n\r\n    Locale uiLocale = Locale.getDefault(Locale.Category.DISPLAY);\r\n    String languageName = uiLocale.getDisplayLanguage(uiLocale);\r\n    String countryName = uiLocale.getDisplayLanguage(uiLocale);\r\n    // usually something like langage (country), i.e. polski (Polska)\r\n    String localeName = uiLocale.getDisplayName(uiLocale);\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Locale.html#toLanguageTag%28%29\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/Locale.html#forLanguageTag%28java.lang.String%29\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/java/util/Locale.html#getLanguage%28%29\r\n  [4]: http://docs.oracle.com/javase/7/docs/api/java/util/Locale.html#getCountry%28%29\r\n  [5]: http://docs.oracle.com/javase/7/docs/api/java/util/Locale.html#getDisplayCountry%28%29\r\n  [6]: http://docs.oracle.com/javase/7/docs/api/java/util/Locale.html#getDisplayLanguage%28java.util.Locale%29\r\n  [7]: http://docs.oracle.com/javase/7/docs/api/java/util/Locale.html#getDisplayName%28%29","title":"Java Locale to String","body":"<p>That really depends on the Java version you use. When you say convert to String, I assume you might want to:</p>\n\n<ol>\n<li>Convert it to Locale identifier, so that you can easily recreate Locale in the future.</li>\n<li>Pass it as a String representation to some part of the system.</li>\n<li>Get (possibly native) name of language, country or the Locale object.</li>\n</ol>\n\n<p>Others pointed you to a documentation, but I think it is better to walk through several possibilities.</p>\n\n<p>Ad 1. If you need to convert to a Locale identifier, the best method as of Java 7 (that doesn't really exist in previous releases) is <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Locale.html#toLanguageTag%28%29\">toLanguageTag()</a>.</p>\n\n<p>That's because you can easily store Locale identifier in a string (including all the options, like script, Unicode extensions, etc.) and recreate Locale object using <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Locale.html#forLanguageTag%28java.lang.String%29\">forLanguageTag(String)</a> without losing information. Simple <code>toString()</code> does not hold this property.<br>\nFollowing code snippet illustrates my point:</p>\n\n<pre><code>Locale locale = Locale.getDefault(Locale.Category.DISPLAY);\nString localeId = locale.toLanguageTag();\nLocale recreatedLocale = Locale.forLanguageTag(localeId);\n</code></pre>\n\n<p>Prior to Java 7, you really needed to use <code>toString()</code> and manually handle countries and variants (for Locale consisted of up to three identifiers separated by and underscore, i.e. no_NO_NY.)</p>\n\n<p>Ad 2. If you need to pass Locale to other part of the system (i.e. web service), <code>toString()</code> may and may be not what you are looking for. That's because of what I wrote above - if you need dash as a separator and don't care so much for variants, I would go with <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Locale.html#getLanguage%28%29\">getLanguage()</a> and <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Locale.html#getCountry%28%29\">getCountry()</a> methods rather than plain <code>toString()</code>:</p>\n\n<pre><code>Locale uiLocale = Locale.getDefault(Locale.Category.DISPLAY);\nString localeId = MessageFormat.format(\"{0}-{1}\", \n                                       uiLocale.getLanguage(),\n                                       uiLocale.getCountry());\n</code></pre>\n\n<p>This method should work well with Java versions since version 1.4.</p>\n\n<p>Ad 3. If you want to present language, country or Locale display name, so that user can choose the valid Locale (i.e. in his/her profile), what you probably looking for are <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Locale.html#getDisplayCountry%28%29\">getDisplayCountry(Locale)</a>, <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Locale.html#getDisplayLanguage%28java.util.Locale%29\">getDisplayLanguage(Locale)</a> and <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Locale.html#getDisplayName%28%29\">getDisplayName(Locale)</a>. You can use them to display names in a target user language (provided that JVM has appropriate translations, which is true for many languages):</p>\n\n<pre><code>Locale uiLocale = Locale.getDefault(Locale.Category.DISPLAY);\nString languageName = uiLocale.getDisplayLanguage(uiLocale);\nString countryName = uiLocale.getDisplayLanguage(uiLocale);\n// usually something like langage (country), i.e. polski (Polska)\nString localeName = uiLocale.getDisplayName(uiLocale);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7291759,"reputation":1,"user_id":5557922,"display_name":"Muhammad Mujahid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643904463,"creation_date":1453270936,"answer_id":34892891,"question_id":9536018,"body_markdown":"It’s very simple. Just use the following code. Consider you are using locale to convert from an ISO current calendar date to the [Hijri calendar][1].\r\n\r\n    Chronology iso = ISOChronology.getInstanceUTC();\r\n    Chronology hijri = IslamicChronology.getInstanceUTC();\r\n    LocalDate todayIso = new LocalDate(2016, 1, 20, iso);\r\n    LocalDate todayHijri = new LocalDate(todayIso.toDateTimeAtStartOfDay(), hijri);\r\n    String currenthijridate = &quot;&quot; + todayHijri;\r\n\r\n    /* &#39;currenthijridate&#39; will appear as 1437-04-08 which\r\n       is a string. Now it&#39;s simply String = &quot;&quot; + locale\r\n     */\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Islamic_calendar\r\n\r\n\r\n","title":"Java Locale to String","body":"<p>It’s very simple. Just use the following code. Consider you are using locale to convert from an ISO current calendar date to the <a href=\"https://en.wikipedia.org/wiki/Islamic_calendar\" rel=\"nofollow noreferrer\">Hijri calendar</a>.</p>\n<pre><code>Chronology iso = ISOChronology.getInstanceUTC();\nChronology hijri = IslamicChronology.getInstanceUTC();\nLocalDate todayIso = new LocalDate(2016, 1, 20, iso);\nLocalDate todayHijri = new LocalDate(todayIso.toDateTimeAtStartOfDay(), hijri);\nString currenthijridate = &quot;&quot; + todayHijri;\n\n/* 'currenthijridate' will appear as 1437-04-08 which\n   is a string. Now it's simply String = &quot;&quot; + locale\n */\n</code></pre>\n"}],"owner":{"account_id":1285400,"reputation":131,"user_id":1238590,"accept_rate":75,"display_name":"Jack Jr"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23986,"favorite_count":0,"down_vote_count":8,"up_vote_count":13,"accepted_answer_id":9536252,"answer_count":3,"score":5,"last_activity_date":1643904631,"creation_date":1330702613,"question_id":9536018,"body_markdown":"I need to convert Locale to String. How can I do that?\r\n\r\nI have Locale loc and String loc1 and need to convert the value from locale to String.\r\n\r\n","title":"Java Locale to String","body":"<p>I need to convert Locale to String. How can I do that?</p>\n<p>I have Locale loc and String loc1 and need to convert the value from locale to String.</p>\n"},{"tags":["java","spring-boot","feign"],"answers":[{"tags":[],"owner":{"account_id":13489444,"reputation":33,"user_id":9732184,"display_name":"Amir Shokri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643904011,"creation_date":1643904011,"answer_id":70974465,"question_id":70940372,"body_markdown":"Can you change your yaml file to be like this?:\r\n```\r\nlr:\r\n  main-product-client.url: http://localhost:8081\r\n  product-client-properties:\r\n    client-one:\r\n      type: productone\r\n      use-proxy: false\r\n      url: someUrl\r\n    client-two:\r\n      type: producttwo\r\n      use-proxy: true\r\n      url: someUrl\r\n    client-three:\r\n      type: productthree\r\n      use-proxy: true\r\n      url: someUrl\r\n```\r\n\r\nand use in @Value like this:\r\n```\r\n@Value( &quot;${lr.product-client-properties.client-one.url}&quot;)\r\n```","title":"How to bind a Feign Client url from the YAML when the url is located at a index of a List","body":"<p>Can you change your yaml file to be like this?:</p>\n<pre><code>lr:\n  main-product-client.url: http://localhost:8081\n  product-client-properties:\n    client-one:\n      type: productone\n      use-proxy: false\n      url: someUrl\n    client-two:\n      type: producttwo\n      use-proxy: true\n      url: someUrl\n    client-three:\n      type: productthree\n      use-proxy: true\n      url: someUrl\n</code></pre>\n<p>and use in @Value like this:</p>\n<pre><code>@Value( &quot;${lr.product-client-properties.client-one.url}&quot;)\n</code></pre>\n"}],"owner":{"account_id":16498239,"reputation":103,"user_id":11920187,"display_name":"Sophie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1512,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643904011,"creation_date":1643717543,"question_id":70940372,"body_markdown":"Hello new to Java and Springboot.  I currently have my integrations set up in this way.  It needs to stay as a List so I could add the clients in one place instead of two. \r\n\r\napplication.yaml\r\n```\r\nlr:\r\n  main-product-client.url: http://localhost:8081\r\n  product-client-properties:\r\n    - type: productone\r\n      use-proxy: false\r\n      url: someUrl\r\n    - type: producttwo\r\n      use-proxy: true\r\n      url: someUrl\r\n    - type: productthree\r\n      use-proxy: true\r\n      url: someUrl\r\n```\r\n\r\nProductOneClient.java\r\n```\r\n@FeignClient(\r\n    value = &quot;productOneClient&quot;,\r\n    url = &quot;${lr.product-client-properties(0).url}&quot;,\r\n    configuration = ProductOneClient.ProductOneClientConfig.class)\r\npublic interface ProductOneClient {\r\n...\r\n```\r\nThis fails to read the placeholder for `${lr.product-client-properties(0).url}`. What&#39;s the proper way to retrieve the integration url for my ProductOne client? Thank you for your time!","title":"How to bind a Feign Client url from the YAML when the url is located at a index of a List","body":"<p>Hello new to Java and Springboot.  I currently have my integrations set up in this way.  It needs to stay as a List so I could add the clients in one place instead of two.</p>\n<p>application.yaml</p>\n<pre><code>lr:\n  main-product-client.url: http://localhost:8081\n  product-client-properties:\n    - type: productone\n      use-proxy: false\n      url: someUrl\n    - type: producttwo\n      use-proxy: true\n      url: someUrl\n    - type: productthree\n      use-proxy: true\n      url: someUrl\n</code></pre>\n<p>ProductOneClient.java</p>\n<pre><code>@FeignClient(\n    value = &quot;productOneClient&quot;,\n    url = &quot;${lr.product-client-properties(0).url}&quot;,\n    configuration = ProductOneClient.ProductOneClientConfig.class)\npublic interface ProductOneClient {\n...\n</code></pre>\n<p>This fails to read the placeholder for <code>${lr.product-client-properties(0).url}</code>. What's the proper way to retrieve the integration url for my ProductOne client? Thank you for your time!</p>\n"},{"tags":["java","jdbc","database-backups"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1643903945,"post_id":70973699,"comment_id":125468133,"body_markdown":"JDBC itself does not offer a database-agnostic backup API, and in its current form, your question is asking multiple questions, and - a bit reading between the lines - asking for tool recommendations. This makes your question off-topic.","body":"JDBC itself does not offer a database-agnostic backup API, and in its current form, your question is asking multiple questions, and - a bit reading between the lines - asking for tool recommendations. This makes your question off-topic."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1643904166,"post_id":70973699,"comment_id":125468243,"body_markdown":"JDBC Connection.getMetaData() allows a general querying of the database structure. But then you&#39;ll need to program.","body":"JDBC Connection.getMetaData() allows a general querying of the database structure. But then you&#39;ll need to program."}],"owner":{"account_id":5310766,"reputation":11,"user_id":4237192,"display_name":"Thomas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643903783,"creation_date":1643900999,"question_id":70973699,"body_markdown":"We built a Java tool that uses Hibernate / JPA to persist and map data on SQL databases. We also provide an installer to ease the setup process. This installer is a Java program that is among others responsible for updating the database scheme to the new version.\r\n\r\nWe&#39;d like to extend the functionality to generate and restore backups if necessary. \r\n\r\nIs there a database technology-agnostic approach to this using JDBC? Is there an alternative to invoking database-specific scripts (for example pq_dump or mysqldump) as subprocess from within Java?\r\n\r\n","title":"What is the suggested way to save and restore a technology agnostic database backup using Java?","body":"<p>We built a Java tool that uses Hibernate / JPA to persist and map data on SQL databases. We also provide an installer to ease the setup process. This installer is a Java program that is among others responsible for updating the database scheme to the new version.</p>\n<p>We'd like to extend the functionality to generate and restore backups if necessary.</p>\n<p>Is there a database technology-agnostic approach to this using JDBC? Is there an alternative to invoking database-specific scripts (for example pq_dump or mysqldump) as subprocess from within Java?</p>\n"},{"tags":["java","algorithm"],"answers":[{"tags":[],"owner":{"account_id":22022326,"reputation":46,"user_id":16290940,"display_name":"Abhinav Batta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643856084,"creation_date":1643856084,"answer_id":70965320,"question_id":70965292,"body_markdown":"You need to check for two cases :\r\n\r\nFirst : check for 0,1,2,3  (first four rolls)\r\n\r\nSecond : check for 1,2,3,4 (next four rolls)\r\n\r\nThese cases cover the five rolls.","title":"Algorithm for a small straight in Yahtzee not working for specific dice roll","body":"<p>You need to check for two cases :</p>\n<p>First : check for 0,1,2,3  (first four rolls)</p>\n<p>Second : check for 1,2,3,4 (next four rolls)</p>\n<p>These cases cover the five rolls.</p>\n"},{"tags":[],"owner":{"account_id":6136413,"reputation":8488,"user_id":4785110,"display_name":"maraca"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1643903736,"creation_date":1643856552,"answer_id":70965365,"question_id":70965292,"body_markdown":"There are more test cases which will fail. E.g. 1,2,3,5, x with x != 4 will return 30 which is wrong. Also 3, 4, 5, 6, x whith x between 3 and 6 will fail.\r\n\r\nWhy? Because your if else is wrong (but it is close to be correctly). The count is only checked if there is no match and count isn&#39;t reset.\r\n\r\nHere is how it should look like:\r\n\r\n    if (x[i] != 0) {\r\n        count++;\r\n    } else {\r\n        count = 0; // reset count if no match\r\n    }\r\n    if (count &gt;= 4) { // always check and not just if there is no match\r\n        score = 30;\r\n        break;\r\n    }\r\n\r\nYou could simplify (and also eliminate the score variable):\r\n\r\n    if (x[i] &gt; 0) {\r\n        if (++count == 4)\r\n            return 30;\r\n    } else {\r\n        count = 0;\r\n    }\r\n\r\nOr:\r\n\r\n    return x[2] &gt; 0 &amp;&amp; x[3] &gt; 0 &amp;&amp; (x[1] &gt; 0 &amp;&amp; (x[0] &gt; 0 || x[4] &gt; 0) || x[4] &gt; 0 &amp;&amp; x[5] &gt; 0) ? 30 : 0;","title":"Algorithm for a small straight in Yahtzee not working for specific dice roll","body":"<p>There are more test cases which will fail. E.g. 1,2,3,5, x with x != 4 will return 30 which is wrong. Also 3, 4, 5, 6, x whith x between 3 and 6 will fail.</p>\n<p>Why? Because your if else is wrong (but it is close to be correctly). The count is only checked if there is no match and count isn't reset.</p>\n<p>Here is how it should look like:</p>\n<pre><code>if (x[i] != 0) {\n    count++;\n} else {\n    count = 0; // reset count if no match\n}\nif (count &gt;= 4) { // always check and not just if there is no match\n    score = 30;\n    break;\n}\n</code></pre>\n<p>You could simplify (and also eliminate the score variable):</p>\n<pre><code>if (x[i] &gt; 0) {\n    if (++count == 4)\n        return 30;\n} else {\n    count = 0;\n}\n</code></pre>\n<p>Or:</p>\n<pre><code>return x[2] &gt; 0 &amp;&amp; x[3] &gt; 0 &amp;&amp; (x[1] &gt; 0 &amp;&amp; (x[0] &gt; 0 || x[4] &gt; 0) || x[4] &gt; 0 &amp;&amp; x[5] &gt; 0) ? 30 : 0;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1643858374,"creation_date":1643858029,"answer_id":70965502,"question_id":70965292,"body_markdown":"Try this:\r\n\r\n    public int getSmallStraightScore() {\r\n        int[] x = getRollFrequency();\r\n        int count = 0;\r\n        for (int i = 0; i &lt; x.length; i++) {\r\n            if (x[i] == 0) {   // prefer affirmative comparisons\r\n                count = 0;     // no need for break\r\n            } else if (++count == 4) { // in-line increment and compare\r\n                return 30;     // clear &quot;found&quot; result\r\n            }\r\n        }\r\n        return 0;              // clear &quot;not found&quot; result\r\n    }\r\n\r\nThis is the simplest/least code approach.\r\n\r\nThe `break` statement has been removed, reducing the [cyclomatic complexity][1], and the `score` variable has been eliminated; a further simplification.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Cyclomatic_complexity","title":"Algorithm for a small straight in Yahtzee not working for specific dice roll","body":"<p>Try this:</p>\n<pre><code>public int getSmallStraightScore() {\n    int[] x = getRollFrequency();\n    int count = 0;\n    for (int i = 0; i &lt; x.length; i++) {\n        if (x[i] == 0) {   // prefer affirmative comparisons\n            count = 0;     // no need for break\n        } else if (++count == 4) { // in-line increment and compare\n            return 30;     // clear &quot;found&quot; result\n        }\n    }\n    return 0;              // clear &quot;not found&quot; result\n}\n</code></pre>\n<p>This is the simplest/least code approach.</p>\n<p>The <code>break</code> statement has been removed, reducing the <a href=\"https://en.wikipedia.org/wiki/Cyclomatic_complexity\" rel=\"nofollow noreferrer\">cyclomatic complexity</a>, and the <code>score</code> variable has been eliminated; a further simplification.</p>\n"}],"owner":{"account_id":24138932,"reputation":21,"user_id":18105404,"display_name":"Obitual"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":248,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":70965365,"answer_count":3,"score":1,"last_activity_date":1643903736,"creation_date":1643855762,"question_id":70965292,"body_markdown":"I have created a method to calculate whether 5 dice rolls make a small straight in Java. According to my task, a small straight is defined by rolling 4 consecutive numbers in any order.\r\n\r\nI am using an array that tracks the frequency of the rolls in my method. `arr[0]` being the quantity of `1` dice rolled, `arr[1]` the quantity of `2` dice rolled, etc.\r\n\r\nIt works for all of my test cases except when the numbers rolled are `3, 4, 5, 5, 6`.\r\n\r\nThe frequency array for the case that will not work is `[0, 0, 1, 1, 2, 1]`.\r\n\r\n```\r\npublic int getSmallStraightScore() {\r\n    int score = 0;\r\n    int count = 0;\r\n    int[] x = getRollFrequency();\r\n    for (int i = 0; i &lt; x.length; i++) {\r\n        if (x[i] != 0) {\r\n            count++;\r\n        } else if (count == 4) {\r\n            score = 30;\r\n            break;\r\n        }\r\n    }\r\n    return score;\r\n}\r\n```\r\n\r\nI have tried changing `else if (count &gt;= 4)` which does not work either.\r\n\r\nI can&#39;t use anything like a hash table as it has to be in vanilla Java. ","title":"Algorithm for a small straight in Yahtzee not working for specific dice roll","body":"<p>I have created a method to calculate whether 5 dice rolls make a small straight in Java. According to my task, a small straight is defined by rolling 4 consecutive numbers in any order.</p>\n<p>I am using an array that tracks the frequency of the rolls in my method. <code>arr[0]</code> being the quantity of <code>1</code> dice rolled, <code>arr[1]</code> the quantity of <code>2</code> dice rolled, etc.</p>\n<p>It works for all of my test cases except when the numbers rolled are <code>3, 4, 5, 5, 6</code>.</p>\n<p>The frequency array for the case that will not work is <code>[0, 0, 1, 1, 2, 1]</code>.</p>\n<pre><code>public int getSmallStraightScore() {\n    int score = 0;\n    int count = 0;\n    int[] x = getRollFrequency();\n    for (int i = 0; i &lt; x.length; i++) {\n        if (x[i] != 0) {\n            count++;\n        } else if (count == 4) {\n            score = 30;\n            break;\n        }\n    }\n    return score;\n}\n</code></pre>\n<p>I have tried changing <code>else if (count &gt;= 4)</code> which does not work either.</p>\n<p>I can't use anything like a hash table as it has to be in vanilla Java.</p>\n"},{"tags":["java","maven","jenkins"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1643904237,"post_id":70974286,"comment_id":125468268,"body_markdown":"Why are you calling `System.exit(0)` in your class or in your test?","body":"Why are you calling <code>System.exit(0)</code> in your class or in your test?"},{"owner":{"account_id":20228772,"reputation":35,"user_id":14835914,"display_name":"Илья Шилков"},"score":0,"creation_date":1643905515,"post_id":70974286,"comment_id":125468825,"body_markdown":"Because i have an everyhour test build and due to some logic it has to stop running in particular situation(Make an exit instead of test)","body":"Because i have an everyhour test build and due to some logic it has to stop running in particular situation(Make an exit instead of test)"},{"owner":{"account_id":20228772,"reputation":35,"user_id":14835914,"display_name":"Илья Шилков"},"score":0,"creation_date":1643905608,"post_id":70974286,"comment_id":125468857,"body_markdown":"@BeforeClass\n    public void beforeClass() {\n        if (fileUtills.isSuccessValueFromFile(FileUtills.DATA_FOR_SEO_STATUS_FILE) &amp;&amp; Data.getCurrentHour() != 8) {\n            System.exit(0);\n        }\n    }","body":"@BeforeClass     public void beforeClass() {         if (fileUtills.isSuccessValueFromFile(FileUtills.DATA_FOR_SEO_S&zwnj;&#8203;TATUS_FILE) &amp;&amp; Data.getCurrentHour() != 8) {             System.exit(0);         }     }"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1643907282,"post_id":70974286,"comment_id":125469604,"body_markdown":"Really running a test which calls `System.exit(0)`?  And why does this test check the hour of the test? To be honest that looks really weird... Why not using a assumptions (assumeTrue()) etc? That&#39;s much better ... See https://junit.org/junit5/docs/current/user-guide/#writing-tests-assumptions","body":"Really running a test which calls <code>System.exit(0)</code>?  And why does this test check the hour of the test? To be honest that looks really weird... Why not using a assumptions (assumeTrue()) etc? That&#39;s much better ... See <a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests-assumptions\" rel=\"nofollow noreferrer\">junit.org/junit5/docs/current/user-guide/&hellip;</a>"},{"owner":{"account_id":20228772,"reputation":35,"user_id":14835914,"display_name":"Илья Шилков"},"score":0,"creation_date":1643907762,"post_id":70974286,"comment_id":125469841,"body_markdown":"Requirements from the Head. Because it has to start from a new day after success. Without an hour checking it won&#39;t start after success case anymore. They require to stop running it after success case till the next day. So it&#39;s impossible to deal with other way i assume","body":"Requirements from the Head. Because it has to start from a new day after success. Without an hour checking it won&#39;t start after success case anymore. They require to stop running it after success case till the next day. So it&#39;s impossible to deal with other way i assume"},{"owner":{"account_id":20228772,"reputation":35,"user_id":14835914,"display_name":"Илья Шилков"},"score":0,"creation_date":1643908084,"post_id":70974286,"comment_id":125469988,"body_markdown":"I use TestNg, not JUnit. Does it have something similar?","body":"I use TestNg, not JUnit. Does it have something similar?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1643908340,"post_id":70974286,"comment_id":125470110,"body_markdown":"Not that I know. That&#39;s why I changed a long time ago to JUnit Jupiter (much better and more options)... sorry to say but that requirement sounds wrong..","body":"Not that I know. That&#39;s why I changed a long time ago to JUnit Jupiter (much better and more options)... sorry to say but that requirement sounds wrong.."},{"owner":{"account_id":20228772,"reputation":35,"user_id":14835914,"display_name":"Илья Шилков"},"score":0,"creation_date":1643908750,"post_id":70974286,"comment_id":125470259,"body_markdown":"I agree with you. But they sometimes need so curious requirements &#128513;","body":"I agree with you. But they sometimes need so curious requirements 😁"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1643909162,"post_id":70974286,"comment_id":125470422,"body_markdown":"That sentence `Because it has to start from a new day after success. Without an hour checking it won&#39;t start after success case anymore. ` reads to me. There is an issue in your test or in your code??","body":"That sentence <code>Because it has to start from a new day after success. Without an hour checking it won&#39;t start after success case anymore. </code> reads to me. There is an issue in your test or in your code??"},{"owner":{"account_id":20228772,"reputation":35,"user_id":14835914,"display_name":"Илья Шилков"},"score":0,"creation_date":1643909473,"post_id":70974286,"comment_id":125470536,"body_markdown":"It&#39;s not an issue. I just want to know how make my build success with exit. On gradle it works showing success &#129300;","body":"It&#39;s not an issue. I just want to know how make my build success with exit. On gradle it works showing success 🤔"},{"owner":{"account_id":20228772,"reputation":35,"user_id":14835914,"display_name":"Илья Шилков"},"score":0,"creation_date":1643909670,"post_id":70974286,"comment_id":125470601,"body_markdown":"But this logic in my test","body":"But this logic in my test"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1643909845,"post_id":70974286,"comment_id":125470672,"body_markdown":"If you tests does not start under some circumstances your code sounds to be buggy... if tests can not run over an over again there is some problem in there...","body":"If you tests does not start under some circumstances your code sounds to be buggy... if tests can not run over an over again there is some problem in there..."},{"owner":{"account_id":6788662,"reputation":2778,"user_id":5226491,"display_name":"Max Daroshchanka"},"score":1,"creation_date":1643909936,"post_id":70974286,"comment_id":125470716,"body_markdown":"If you want to terminate the test execution process while it&#39;s in progress, you&#39;ll never get success. You have to try/catch this type of fail due to system.exit in jenkinsfile pipeline somehow..","body":"If you want to terminate the test execution process while it&#39;s in progress, you&#39;ll never get success. You have to try/catch this type of fail due to system.exit in jenkinsfile pipeline somehow.."},{"owner":{"account_id":20228772,"reputation":35,"user_id":14835914,"display_name":"Илья Шилков"},"score":0,"creation_date":1643910738,"post_id":70974286,"comment_id":125471071,"body_markdown":"But through gradle in the same case it built with success","body":"But through gradle in the same case it built with success"}],"owner":{"account_id":20228772,"reputation":35,"user_id":14835914,"display_name":"Илья Шилков"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643903359,"creation_date":1643903359,"question_id":70974286,"body_markdown":"I have called System.exit(0) in  my class and getting this error trace in jenkins, using maven\r\n\r\n    Process Exit Code: 0\r\n    org.apache.maven.surefire.booter.SurefireBooterForkException: The forked VM terminated without properly saying goodbye. VM crash or System.exit called?\r\n\r\nHow can i get success build using System.exit(0)? \r\n\r\n\r\n","title":"org.apache.maven.surefire.booter.SurefireBooterForkException: The forked VM terminated without properly saying goodbye","body":"<p>I have called System.exit(0) in  my class and getting this error trace in jenkins, using maven</p>\n<pre><code>Process Exit Code: 0\norg.apache.maven.surefire.booter.SurefireBooterForkException: The forked VM terminated without properly saying goodbye. VM crash or System.exit called?\n</code></pre>\n<p>How can i get success build using System.exit(0)?</p>\n"},{"tags":["java","spring-boot","ssl","apache-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1643895682,"post_id":70966387,"comment_id":125464200,"body_markdown":"I doubt Spring is the problem. Have you tried using `kafka-console-consumer`? Unless you&#39;ve edited /etc/hosts file, your host doesn&#39;t know what `kafka` hostname is. You&#39;d need to run the client code on the same Docker network, in a container, for that to work. Also, I&#39;d recommend not using a container that has both Zookeeper and Kafka in it","body":"I doubt Spring is the problem. Have you tried using <code>kafka-console-consumer</code>? Unless you&#39;ve edited /etc/hosts file, your host doesn&#39;t know what <code>kafka</code> hostname is. You&#39;d need to run the client code on the same Docker network, in a container, for that to work. Also, I&#39;d recommend not using a container that has both Zookeeper and Kafka in it"},{"owner":{"account_id":17136139,"reputation":137,"user_id":12401126,"display_name":"Programmer"},"score":0,"creation_date":1643897423,"post_id":70966387,"comment_id":125465028,"body_markdown":"I have the kafka hostname edited in hostfile.","body":"I have the kafka hostname edited in hostfile."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1643898110,"post_id":70966387,"comment_id":125465314,"body_markdown":"That&#39;s only going to cause problems. Edit your container advertised listeners to correctly expose its address","body":"That&#39;s only going to cause problems. Edit your container advertised listeners to correctly expose its address"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1643898445,"post_id":70966387,"comment_id":125465492,"body_markdown":"Other problem - notice `ssl.key.password = null`... Should this be set?","body":"Other problem - notice <code>ssl.key.password = null</code>... Should this be set?"},{"owner":{"account_id":17136139,"reputation":137,"user_id":12401126,"display_name":"Programmer"},"score":0,"creation_date":1643898534,"post_id":70966387,"comment_id":125465541,"body_markdown":"I have ssl.truststore.password = [hidden] and  ssl.keystore.password = [hidden]","body":"I have ssl.truststore.password = [hidden] and  ssl.keystore.password = [hidden]"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1643903232,"post_id":70966387,"comment_id":125467796,"body_markdown":"Sure, those are the stores, not the password of the key itself. I assume you either added/removed that JKS key password when you were using PEM files with Python?","body":"Sure, those are the stores, not the password of the key itself. I assume you either added/removed that JKS key password when you were using PEM files with Python?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1643903408,"post_id":70966387,"comment_id":125467869,"body_markdown":"For example, see this post that `ssl.key.password` is set https://docs.confluent.io/platform/current/kafka/authentication_ssl.html","body":"For example, see this post that <code>ssl.key.password</code> is set <a href=\"https://docs.confluent.io/platform/current/kafka/authentication_ssl.html\" rel=\"nofollow noreferrer\">docs.confluent.io/platform/current/kafka/&hellip;</a>"}],"owner":{"account_id":17136139,"reputation":137,"user_id":12401126,"display_name":"Programmer"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643903286,"creation_date":1643866710,"question_id":70966387,"body_markdown":"I have kafka running in docker container as:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZSIE8.png\r\n\r\nI had the message produced to this kafka and now would like to consume through spring boot. I used the codebase from this repo:\r\n\r\nhttps://github.com/lokeshgupta1981/Kafka-Tutorials/tree/master/spring-boot-kafka-app/src/main/java/com/howtodoinjava/kafka/demo\r\n\r\nwhile running the consumer, I am getting flooding of flowing error.\r\n\r\n    [Consumer clientId=consumer-group_id-1, groupId=group_id] Bootstrap broker kafka:9093 (id: -1 rack: null) disconnected\r\n\r\nI have kafka hostname resolved through hostfile.\r\n\r\nI even added ssl properties as:\r\n\r\n    spring.kafka.ssl.key-store-location=file:/tmp/secrets/client_keystore.jks\r\n    spring.kafka.ssl.trust-store-location=file:/tmp/secrets/truststore.jks\r\n    spring.kafka.ssl.key-store-password=foobar\r\n    spring.kafka.ssl.trust-store-password=foobar\r\n    spring.kafka.ssl.key-store-type=JKS\r\n    spring.kafka.ssl.trust-store-type=JKS\r\n\r\nbut couldn&#39;t figure out why I am not able to connect to topic from spring-boot.\r\nHowever, I am able to consume from python as:\r\n\r\n \r\n\r\n    # Setup consumer properties\r\n        broker_host = properties.get(&quot;client.consumer.broker.hosts&quot;) #kafka\r\n        broker_port = properties.get(&quot;client.consumer.broker.port&quot;)  #9093\r\n        sink_topic = properties.get(&quot;client.consumer.topic&quot;) # my-private-topic\r\n       \r\n    \r\n        # Load SSL properties\r\n        ssl_security_protocol = properties.get(&quot;ssl.security.protocol&quot;) #SSL\r\n        ssl_ca_location = properties.get(&quot;ssl.ca.location&quot;) #/tmp/secrets/fake-ca-crt.pem\r\n        ssl_cert_location = properties.get(&quot;ssl.cert.location&quot;) #tmp/secrets/client_cert.pem\r\n        ssl_key_location = properties.get(&quot;ssl.key.location&quot;) #/tmp/secrets/client_key.pem\r\n    \r\n    \r\n        # Load record avro schema\r\n        record_schema_path = os.path.join(dirname, properties[&quot;schema.location&quot;])\r\n        record_schema = loads(open(record_schema_path).read())\r\n    \r\n        deserializer = SdpAvroDeserializer(record_schema)\r\n    \r\n        # Create a kafka consumer\r\n        # Set enable.auto.commit to False to consume from the beginning of time\r\n        # Set enable.auto.commit to True to only consume what hasn&#39;t been consumed yet\r\n        props = {&quot;bootstrap.servers&quot;: broker_host + &quot;:&quot; + str(broker_port),\r\n                 &quot;default.topic.config&quot;: {&quot;auto.offset.reset&quot;: &quot;earliest&quot;},\r\n                 &quot;group.id&quot;: &quot;python-consumer-example-group&quot;,\r\n                 &quot;enable.auto.commit&quot;: False,\r\n                 &quot;security.protocol&quot;: ssl_security_protocol,\r\n                 &quot;ssl.ca.location&quot;: ssl_ca_location,\r\n                 &quot;ssl.certificate.location&quot;: ssl_cert_location,\r\n                 &quot;ssl.key.location&quot;: ssl_key_location\r\n                 }\r\n        consumer = KafkaConsumer(props)\r\n        consumer.subscribe([sink_topic])\r\n \r\n        print(f&quot;Start consuming from {sink_topic} at {broker_host} for {listenTimeoutSeconds} seconds&quot;)\r\n    \r\n        t_end = time.time() + listenTimeoutSeconds\r\n        while (time.time() &lt; t_end):\r\n            message = consumer.poll(10)\r\n            # print(message)\r\n            # print(&quot;test\\n&quot;)\r\n            # print(message.value())\r\n            if message and message.value() and not message.error():\r\n                header, payload = deserializer.decode(message.value(), deserialize_header=True)\r\n                if include_record_metadata.lower() == &#39;true&#39;:\r\n                    print(&quot;Message metadata: %s&quot; % header)\r\n                print(&quot;Message payload: %s&quot; % payload)\r\n\r\n\r\nso what I am missing in spring boot to consume the message from kafka?\r\n\r\n\r\nOUTPUT:\r\n\r\n        2022-02-03 00:36:50.431  INFO 20840 --- [           main] c.h.k.d.SpringBootKafkaAppApplication    : No active profile set, falling back to default profiles: default\r\n    2022-02-03 00:36:51.110  INFO 20840 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9000 (http)\r\n    2022-02-03 00:36:51.118  INFO 20840 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2022-02-03 00:36:51.118  INFO 20840 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]\r\n    2022-02-03 00:36:51.178  INFO 20840 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2022-02-03 00:36:51.178  INFO 20840 --- [           main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 714 ms\r\n    2022-02-03 00:36:51.326  INFO 20840 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService &#39;applicationTaskExecutor&#39;\r\n    2022-02-03 00:36:51.475  INFO 20840 --- [           main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: \r\n            allow.auto.create.topics = true\r\n            auto.commit.interval.ms = 5000\r\n            auto.offset.reset = earliest\r\n            bootstrap.servers = [kafka:9093]\r\n            check.crcs = true\r\n            client.dns.lookup = default\r\n            client.id = \r\n            client.rack = \r\n            connections.max.idle.ms = 540000\r\n            default.api.timeout.ms = 60000\r\n            enable.auto.commit = false\r\n            exclude.internal.topics = true\r\n            fetch.max.bytes = 52428800\r\n            fetch.max.wait.ms = 500\r\n            fetch.min.bytes = 1\r\n            group.id = group_id\r\n            group.instance.id = null\r\n            heartbeat.interval.ms = 3000\r\n            interceptor.classes = []\r\n            internal.leave.group.on.close = true\r\n            isolation.level = read_uncommitted\r\n            key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer\r\n            max.partition.fetch.bytes = 1048576\r\n            max.poll.interval.ms = 300000\r\n            max.poll.records = 500\r\n            metadata.max.age.ms = 300000\r\n            metric.reporters = []\r\n            metrics.num.samples = 2\r\n            metrics.recording.level = INFO\r\n            metrics.sample.window.ms = 30000\r\n            partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor]\r\n            receive.buffer.bytes = 65536\r\n            reconnect.backoff.max.ms = 1000\r\n            reconnect.backoff.ms = 50\r\n            request.timeout.ms = 30000\r\n            retry.backoff.ms = 100\r\n            sasl.client.callback.handler.class = null\r\n            sasl.jaas.config = null\r\n            sasl.kerberos.kinit.cmd = /usr/bin/kinit\r\n            sasl.kerberos.min.time.before.relogin = 60000\r\n            sasl.kerberos.service.name = null\r\n            sasl.kerberos.ticket.renew.jitter = 0.05\r\n            sasl.kerberos.ticket.renew.window.factor = 0.8\r\n            sasl.login.callback.handler.class = null\r\n            sasl.login.class = null\r\n            sasl.login.refresh.buffer.seconds = 300\r\n            sasl.login.refresh.min.period.seconds = 60\r\n            sasl.login.refresh.window.factor = 0.8\r\n            sasl.login.refresh.window.jitter = 0.05\r\n            sasl.mechanism = GSSAPI\r\n            security.protocol = PLAINTEXT\r\n            security.providers = null\r\n            send.buffer.bytes = 131072\r\n            session.timeout.ms = 10000\r\n            ssl.cipher.suites = null\r\n            ssl.enabled.protocols = [TLSv1.2]\r\n            ssl.endpoint.identification.algorithm = https\r\n            ssl.key.password = null\r\n            ssl.keymanager.algorithm = SunX509\r\n            ssl.keystore.location = /tmp/secrets/client_keystore.jks\r\n            ssl.keystore.password = [hidden]\r\n            ssl.keystore.type = JKS\r\n            ssl.protocol = TLSv1.2\r\n            ssl.provider = null\r\n            ssl.secure.random.implementation = null\r\n            ssl.trustmanager.algorithm = PKIX\r\n            ssl.truststore.location = /tmp/secrets/truststore.jks\r\n            ssl.truststore.password = [hidden]\r\n            ssl.truststore.type = JKS\r\n            value.deserializer = class org.springframework.kafka.support.serializer.JsonDeserializer\r\n    \r\n    2022-02-03 00:36:51.550  INFO 20840 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 2.5.0\r\n    2022-02-03 00:36:51.551  INFO 20840 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 66563e712b0b9f84\r\n    2022-02-03 00:36:51.551  INFO 20840 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1643866611549\r\n    2022-02-03 00:36:51.553  INFO 20840 --- [           main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-group_id-1, groupId=group_id] Subscribed to topic(s): my-private-topic\r\n    2022-02-03 00:36:51.554  INFO 20840 --- [           main] o.s.s.c.ThreadPoolTaskScheduler          : Initializing ExecutorService\r\n    2022-02-03 00:36:51.576  INFO 20840 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9000 (http) with context path &#39;&#39;\r\n    2022-02-03 00:36:51.583  INFO 20840 --- [           main] c.h.k.d.SpringBootKafkaAppApplication    : Started SpringBootKafkaAppApplication in 1.405 seconds (JVM running for 1.727)\r\n    2022-02-03 00:36:52.036  WARN 20840 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-group_id-1, groupId=group_id] Bootstrap broker kafka:9093 (id: -1 rack: null) disconnected\r\n    2022-02-03 00:36:52.302  WARN 20840 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-group_id-1, groupId=group_id] Bootstrap broker kafka:9093 (id: -1 rack: null) disconnected\r\n    2022-02-03 00:36:52.569  WARN 20840 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-group_id-1, groupId=group_id] Bootstrap broker kafka:9093 (id: -1 rack: null) disconnected\r\n    2","title":"Python ssl consumer works. Spring does not","body":"<p>I have kafka running in docker container as:\n<a href=\"https://i.stack.imgur.com/ZSIE8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZSIE8.png\" alt=\"enter image description here\" /></a></p>\n<p>I had the message produced to this kafka and now would like to consume through spring boot. I used the codebase from this repo:</p>\n<p><a href=\"https://github.com/lokeshgupta1981/Kafka-Tutorials/tree/master/spring-boot-kafka-app/src/main/java/com/howtodoinjava/kafka/demo\" rel=\"nofollow noreferrer\">https://github.com/lokeshgupta1981/Kafka-Tutorials/tree/master/spring-boot-kafka-app/src/main/java/com/howtodoinjava/kafka/demo</a></p>\n<p>while running the consumer, I am getting flooding of flowing error.</p>\n<pre><code>[Consumer clientId=consumer-group_id-1, groupId=group_id] Bootstrap broker kafka:9093 (id: -1 rack: null) disconnected\n</code></pre>\n<p>I have kafka hostname resolved through hostfile.</p>\n<p>I even added ssl properties as:</p>\n<pre><code>spring.kafka.ssl.key-store-location=file:/tmp/secrets/client_keystore.jks\nspring.kafka.ssl.trust-store-location=file:/tmp/secrets/truststore.jks\nspring.kafka.ssl.key-store-password=foobar\nspring.kafka.ssl.trust-store-password=foobar\nspring.kafka.ssl.key-store-type=JKS\nspring.kafka.ssl.trust-store-type=JKS\n</code></pre>\n<p>but couldn't figure out why I am not able to connect to topic from spring-boot.\nHowever, I am able to consume from python as:</p>\n<pre><code># Setup consumer properties\n    broker_host = properties.get(&quot;client.consumer.broker.hosts&quot;) #kafka\n    broker_port = properties.get(&quot;client.consumer.broker.port&quot;)  #9093\n    sink_topic = properties.get(&quot;client.consumer.topic&quot;) # my-private-topic\n   \n\n    # Load SSL properties\n    ssl_security_protocol = properties.get(&quot;ssl.security.protocol&quot;) #SSL\n    ssl_ca_location = properties.get(&quot;ssl.ca.location&quot;) #/tmp/secrets/fake-ca-crt.pem\n    ssl_cert_location = properties.get(&quot;ssl.cert.location&quot;) #tmp/secrets/client_cert.pem\n    ssl_key_location = properties.get(&quot;ssl.key.location&quot;) #/tmp/secrets/client_key.pem\n\n\n    # Load record avro schema\n    record_schema_path = os.path.join(dirname, properties[&quot;schema.location&quot;])\n    record_schema = loads(open(record_schema_path).read())\n\n    deserializer = SdpAvroDeserializer(record_schema)\n\n    # Create a kafka consumer\n    # Set enable.auto.commit to False to consume from the beginning of time\n    # Set enable.auto.commit to True to only consume what hasn't been consumed yet\n    props = {&quot;bootstrap.servers&quot;: broker_host + &quot;:&quot; + str(broker_port),\n             &quot;default.topic.config&quot;: {&quot;auto.offset.reset&quot;: &quot;earliest&quot;},\n             &quot;group.id&quot;: &quot;python-consumer-example-group&quot;,\n             &quot;enable.auto.commit&quot;: False,\n             &quot;security.protocol&quot;: ssl_security_protocol,\n             &quot;ssl.ca.location&quot;: ssl_ca_location,\n             &quot;ssl.certificate.location&quot;: ssl_cert_location,\n             &quot;ssl.key.location&quot;: ssl_key_location\n             }\n    consumer = KafkaConsumer(props)\n    consumer.subscribe([sink_topic])\n\n    print(f&quot;Start consuming from {sink_topic} at {broker_host} for {listenTimeoutSeconds} seconds&quot;)\n\n    t_end = time.time() + listenTimeoutSeconds\n    while (time.time() &lt; t_end):\n        message = consumer.poll(10)\n        # print(message)\n        # print(&quot;test\\n&quot;)\n        # print(message.value())\n        if message and message.value() and not message.error():\n            header, payload = deserializer.decode(message.value(), deserialize_header=True)\n            if include_record_metadata.lower() == 'true':\n                print(&quot;Message metadata: %s&quot; % header)\n            print(&quot;Message payload: %s&quot; % payload)\n</code></pre>\n<p>so what I am missing in spring boot to consume the message from kafka?</p>\n<p>OUTPUT:</p>\n<pre><code>    2022-02-03 00:36:50.431  INFO 20840 --- [           main] c.h.k.d.SpringBootKafkaAppApplication    : No active profile set, falling back to default profiles: default\n2022-02-03 00:36:51.110  INFO 20840 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9000 (http)\n2022-02-03 00:36:51.118  INFO 20840 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2022-02-03 00:36:51.118  INFO 20840 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.35]\n2022-02-03 00:36:51.178  INFO 20840 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2022-02-03 00:36:51.178  INFO 20840 --- [           main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 714 ms\n2022-02-03 00:36:51.326  INFO 20840 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'\n2022-02-03 00:36:51.475  INFO 20840 --- [           main] o.a.k.clients.consumer.ConsumerConfig    : ConsumerConfig values: \n        allow.auto.create.topics = true\n        auto.commit.interval.ms = 5000\n        auto.offset.reset = earliest\n        bootstrap.servers = [kafka:9093]\n        check.crcs = true\n        client.dns.lookup = default\n        client.id = \n        client.rack = \n        connections.max.idle.ms = 540000\n        default.api.timeout.ms = 60000\n        enable.auto.commit = false\n        exclude.internal.topics = true\n        fetch.max.bytes = 52428800\n        fetch.max.wait.ms = 500\n        fetch.min.bytes = 1\n        group.id = group_id\n        group.instance.id = null\n        heartbeat.interval.ms = 3000\n        interceptor.classes = []\n        internal.leave.group.on.close = true\n        isolation.level = read_uncommitted\n        key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer\n        max.partition.fetch.bytes = 1048576\n        max.poll.interval.ms = 300000\n        max.poll.records = 500\n        metadata.max.age.ms = 300000\n        metric.reporters = []\n        metrics.num.samples = 2\n        metrics.recording.level = INFO\n        metrics.sample.window.ms = 30000\n        partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor]\n        receive.buffer.bytes = 65536\n        reconnect.backoff.max.ms = 1000\n        reconnect.backoff.ms = 50\n        request.timeout.ms = 30000\n        retry.backoff.ms = 100\n        sasl.client.callback.handler.class = null\n        sasl.jaas.config = null\n        sasl.kerberos.kinit.cmd = /usr/bin/kinit\n        sasl.kerberos.min.time.before.relogin = 60000\n        sasl.kerberos.service.name = null\n        sasl.kerberos.ticket.renew.jitter = 0.05\n        sasl.kerberos.ticket.renew.window.factor = 0.8\n        sasl.login.callback.handler.class = null\n        sasl.login.class = null\n        sasl.login.refresh.buffer.seconds = 300\n        sasl.login.refresh.min.period.seconds = 60\n        sasl.login.refresh.window.factor = 0.8\n        sasl.login.refresh.window.jitter = 0.05\n        sasl.mechanism = GSSAPI\n        security.protocol = PLAINTEXT\n        security.providers = null\n        send.buffer.bytes = 131072\n        session.timeout.ms = 10000\n        ssl.cipher.suites = null\n        ssl.enabled.protocols = [TLSv1.2]\n        ssl.endpoint.identification.algorithm = https\n        ssl.key.password = null\n        ssl.keymanager.algorithm = SunX509\n        ssl.keystore.location = /tmp/secrets/client_keystore.jks\n        ssl.keystore.password = [hidden]\n        ssl.keystore.type = JKS\n        ssl.protocol = TLSv1.2\n        ssl.provider = null\n        ssl.secure.random.implementation = null\n        ssl.trustmanager.algorithm = PKIX\n        ssl.truststore.location = /tmp/secrets/truststore.jks\n        ssl.truststore.password = [hidden]\n        ssl.truststore.type = JKS\n        value.deserializer = class org.springframework.kafka.support.serializer.JsonDeserializer\n\n2022-02-03 00:36:51.550  INFO 20840 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 2.5.0\n2022-02-03 00:36:51.551  INFO 20840 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 66563e712b0b9f84\n2022-02-03 00:36:51.551  INFO 20840 --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1643866611549\n2022-02-03 00:36:51.553  INFO 20840 --- [           main] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-group_id-1, groupId=group_id] Subscribed to topic(s): my-private-topic\n2022-02-03 00:36:51.554  INFO 20840 --- [           main] o.s.s.c.ThreadPoolTaskScheduler          : Initializing ExecutorService\n2022-02-03 00:36:51.576  INFO 20840 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9000 (http) with context path ''\n2022-02-03 00:36:51.583  INFO 20840 --- [           main] c.h.k.d.SpringBootKafkaAppApplication    : Started SpringBootKafkaAppApplication in 1.405 seconds (JVM running for 1.727)\n2022-02-03 00:36:52.036  WARN 20840 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-group_id-1, groupId=group_id] Bootstrap broker kafka:9093 (id: -1 rack: null) disconnected\n2022-02-03 00:36:52.302  WARN 20840 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-group_id-1, groupId=group_id] Bootstrap broker kafka:9093 (id: -1 rack: null) disconnected\n2022-02-03 00:36:52.569  WARN 20840 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-group_id-1, groupId=group_id] Bootstrap broker kafka:9093 (id: -1 rack: null) disconnected\n2\n</code></pre>\n"},{"tags":["java","spring","spring-boot","web-services","soap"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1643896132,"post_id":70971645,"comment_id":125464395,"body_markdown":"Now if only there would be an [`@SoapHeader`](https://docs.spring.io/spring-ws/site/apidocs/index.html?org/springframework/ws/soap/SoapElement.html) annotation that you could use to map that. You can also use the `SoapHeader` interface/class to get the full header instead of the `MessageContext. But something like `@SoapHeader(&quot;{http://www.w3.org/2005/08/addressing&quot;}From&quot;) SoapHeaderElement from` should do the trick. You can then extract the text from that element.","body":"Now if only there would be an <a href=\"https://docs.spring.io/spring-ws/site/apidocs/index.html?org/springframework/ws/soap/SoapElement.html\" rel=\"nofollow noreferrer\"><code>@SoapHeader</code></a> annotation that you could use to map that. You can also use the <code>SoapHeader</code> interface/class to get the full header instead of the <code>MessageContext. But something like </code>@SoapHeader(&quot;{<a href=\"http://www.w3.org/2005/08/addressing\" rel=\"nofollow noreferrer\">w3.org/2005/08/addressing</a>&quot;}From&quot;) SoapHeaderElement from` should do the trick. You can then extract the text from that element."},{"owner":{"account_id":17934624,"reputation":113,"user_id":13031195,"display_name":"daravetu"},"score":0,"creation_date":1643900683,"post_id":70971645,"comment_id":125466659,"body_markdown":"Thanks for the help. Indeed I can use this:\n\n`@SoapHeader(&quot;{http://www.w3.org/2005/08/addressing}From&quot;) SoapHeaderElement fromHeaderElement`\n\nBut by doing so I&#39;m still not able to access the address. `getText` returns null.. which makes sense since there is not text - just another child element `Address` - and this `Address` is what I need :-)","body":"Thanks for the help. Indeed I can use this:  <code>@SoapHeader(&quot;{http:&#47;&#47;www.w3.org&#47;2005&#47;08&#47;addressing}From&quot;) SoapHeaderElement fromHeaderElement</code>  But by doing so I&#39;m still not able to access the address. <code>getText</code> returns null.. which makes sense since there is not text - just another child element <code>Address</code> - and this <code>Address</code> is what I need :-)"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1643901558,"post_id":70971645,"comment_id":125467063,"body_markdown":"I suspect the easiest way is to use the proper `AddressingVersion` in your code, I suspect the `Addressing10`. You can use the `getMessageAddressingProperties` to obtain all the headers for the `SoapMessage`.","body":"I suspect the easiest way is to use the proper <code>AddressingVersion</code> in your code, I suspect the <code>Addressing10</code>. You can use the <code>getMessageAddressingProperties</code> to obtain all the headers for the <code>SoapMessage</code>."}],"answers":[{"tags":[],"owner":{"account_id":17934624,"reputation":113,"user_id":13031195,"display_name":"daravetu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643902904,"creation_date":1643902904,"answer_id":70974174,"question_id":70971645,"body_markdown":"Thanks to help of [M. Deinum][1]  I&#39;ve found a solution:\r\n\r\n```\r\n    @PayloadRoot(namespace = NAMESPACE_URI, localPart = &quot;getCountryRequest&quot;)\r\n    @ResponsePayload\r\n    public GetCountryResponse getCountry(@RequestPayload GetCountryRequest request, MessageContext messageContext) {\r\n        Addressing10 addressing10 = new Addressing10();\r\n        MessageAddressingProperties messageAddressingProperties = addressing10.getMessageAddressingProperties((SoapMessage) messageContext.getRequest());\r\n        URI address = messageAddressingProperties.getFrom().getAddress();\r\n    }\r\n    \r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/2696260/m-deinum","title":"How to retrieve From/Address value in SOAP header (in Java/SpringBoot)","body":"<p>Thanks to help of <a href=\"https://stackoverflow.com/users/2696260/m-deinum\">M. Deinum</a>  I've found a solution:</p>\n<pre><code>    @PayloadRoot(namespace = NAMESPACE_URI, localPart = &quot;getCountryRequest&quot;)\n    @ResponsePayload\n    public GetCountryResponse getCountry(@RequestPayload GetCountryRequest request, MessageContext messageContext) {\n        Addressing10 addressing10 = new Addressing10();\n        MessageAddressingProperties messageAddressingProperties = addressing10.getMessageAddressingProperties((SoapMessage) messageContext.getRequest());\n        URI address = messageAddressingProperties.getFrom().getAddress();\n    }\n    \n</code></pre>\n"}],"owner":{"account_id":17934624,"reputation":113,"user_id":13031195,"display_name":"daravetu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":749,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643903060,"creation_date":1643892721,"question_id":70971645,"body_markdown":"I&#39;m trying to create a Spring Boot SOAP application using this tutorial: https://www.baeldung.com/spring-boot-soap-web-service Everything works like a charm so far.\r\n\r\n**Task: I&#39;d like to access the SOAP header.** \r\n\r\nThis is what I&#39;ve done so far:\r\n\r\n    @PayloadRoot(namespace = NAMESPACE_URI, localPart = &quot;getCountryRequest&quot;)\r\n    @ResponsePayload\r\n    public GetCountryResponse getCountry(@RequestPayload GetCountryRequest request) {\r\n        [..]\r\n    }\r\n\r\nI can just extend this with `MessageContext`:\r\n\r\n    @PayloadRoot(namespace = NAMESPACE_URI, localPart = &quot;getCountryRequest&quot;)\r\n    @ResponsePayload\r\n    public GetCountryResponse getCountry(@RequestPayload GetCountryRequest request, MessageContext messageContext) {\r\n        [..]\r\n    }\r\n\r\nThis `MessageContext ` plus a little util method `fooBar` is supposed to access the SOAP header:\r\n\r\n    protected static String fooBar(final MessageContext messageContext) {\r\n        SoapHeader soapHeader = ((SoapMessage) messageContext.getRequest()).getSoapHeader();\r\n        [...]\r\n    }\r\n\r\nSo far so good. This is what my SOAP message looks like:\r\n```\r\n&lt;soap:Envelope\r\n        xmlns:soap=&quot;http://www.w3.org/2003/05/soap-envelope&quot;\r\n        [...]\r\n        xmlns:wsa=&quot;http://www.w3.org/2005/08/addressing&quot;&gt;\r\n    &lt;soap:Header&gt;\r\n        [...]\r\n        &lt;wsa:From&gt;\r\n            &lt;wsa:Address&gt;http://from-endpoint&lt;/wsa:Address&gt;\r\n        &lt;/wsa:From&gt;\r\n        [...]\r\n    &lt;/soap:Header&gt;\r\n    &lt;soap:Body&gt;\r\n        [...]\r\n    &lt;/soap:Body&gt;\r\n&lt;/soap:Envelope&gt;\r\n```\r\n\r\nI would like to get the address in `&lt;From&gt;&lt;Address&gt;`:  http://from-endpoint .. but now it starts to get awkward..\r\n\r\n    protected static String fooBar(final MessageContext messageContext) {\r\n        SoapHeader soapHeader = ((SoapMessage) messageContext.getRequest()).getSoapHeader();\r\n        Iterator&lt;SoapHeaderElement&gt; soapHeaderElementIterator = soapHeader.examineAllHeaderElements();\r\n        while (soapHeaderElementIterator.hasNext()) {\r\n            SoapHeaderElement soapHeaderElement = soapHeaderElementIterator.next();\r\n            if (soapHeaderElement.getName().getLocalPart().equals(&quot;From&quot;)) {\r\n     [...]\r\n\r\nThis works as expected, but this `SoapHeaderElement` is type [org.springframework.ws.soap.SoapHeaderElement][1] which gives me no options to access further child elements.\r\n\r\n**What am I doing wrong here?**\r\n\r\n...\r\n...\r\n...\r\n\r\n✅ SOLUTION has been found - see comments\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-ws/docs/current/api/org/springframework/ws/soap/SoapHeaderElement.html","title":"How to retrieve From/Address value in SOAP header (in Java/SpringBoot)","body":"<p>I'm trying to create a Spring Boot SOAP application using this tutorial: <a href=\"https://www.baeldung.com/spring-boot-soap-web-service\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-soap-web-service</a> Everything works like a charm so far.</p>\n<p><strong>Task: I'd like to access the SOAP header.</strong></p>\n<p>This is what I've done so far:</p>\n<pre><code>@PayloadRoot(namespace = NAMESPACE_URI, localPart = &quot;getCountryRequest&quot;)\n@ResponsePayload\npublic GetCountryResponse getCountry(@RequestPayload GetCountryRequest request) {\n    [..]\n}\n</code></pre>\n<p>I can just extend this with <code>MessageContext</code>:</p>\n<pre><code>@PayloadRoot(namespace = NAMESPACE_URI, localPart = &quot;getCountryRequest&quot;)\n@ResponsePayload\npublic GetCountryResponse getCountry(@RequestPayload GetCountryRequest request, MessageContext messageContext) {\n    [..]\n}\n</code></pre>\n<p>This <code>MessageContext </code> plus a little util method <code>fooBar</code> is supposed to access the SOAP header:</p>\n<pre><code>protected static String fooBar(final MessageContext messageContext) {\n    SoapHeader soapHeader = ((SoapMessage) messageContext.getRequest()).getSoapHeader();\n    [...]\n}\n</code></pre>\n<p>So far so good. This is what my SOAP message looks like:</p>\n<pre><code>&lt;soap:Envelope\n        xmlns:soap=&quot;http://www.w3.org/2003/05/soap-envelope&quot;\n        [...]\n        xmlns:wsa=&quot;http://www.w3.org/2005/08/addressing&quot;&gt;\n    &lt;soap:Header&gt;\n        [...]\n        &lt;wsa:From&gt;\n            &lt;wsa:Address&gt;http://from-endpoint&lt;/wsa:Address&gt;\n        &lt;/wsa:From&gt;\n        [...]\n    &lt;/soap:Header&gt;\n    &lt;soap:Body&gt;\n        [...]\n    &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>\n<p>I would like to get the address in <code>&lt;From&gt;&lt;Address&gt;</code>:  http://from-endpoint .. but now it starts to get awkward..</p>\n<pre><code>protected static String fooBar(final MessageContext messageContext) {\n    SoapHeader soapHeader = ((SoapMessage) messageContext.getRequest()).getSoapHeader();\n    Iterator&lt;SoapHeaderElement&gt; soapHeaderElementIterator = soapHeader.examineAllHeaderElements();\n    while (soapHeaderElementIterator.hasNext()) {\n        SoapHeaderElement soapHeaderElement = soapHeaderElementIterator.next();\n        if (soapHeaderElement.getName().getLocalPart().equals(&quot;From&quot;)) {\n [...]\n</code></pre>\n<p>This works as expected, but this <code>SoapHeaderElement</code> is type <a href=\"https://docs.spring.io/spring-ws/docs/current/api/org/springframework/ws/soap/SoapHeaderElement.html\" rel=\"nofollow noreferrer\">org.springframework.ws.soap.SoapHeaderElement</a> which gives me no options to access further child elements.</p>\n<p><strong>What am I doing wrong here?</strong></p>\n<p>...\n...\n...</p>\n<p>✅ SOLUTION has been found - see comments</p>\n"},{"tags":["java","spring-boot","jpa"],"answers":[{"tags":[],"owner":{"account_id":20240869,"reputation":89,"user_id":14844785,"display_name":"The problem with other minds"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643902406,"creation_date":1643902406,"answer_id":70974052,"question_id":70940085,"body_markdown":"Finally came up with a really good solution. \r\nThis is how! \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n       public List&lt;UserEntity&gt; search(String str, Integer page, Integer limit) {\r\n\r\n            CriteriaBuilder qb = entityManager.getCriteriaBuilder();\r\n            CriteriaQuery&lt;UserEntity&gt; query = qb.createQuery(UserEntity.class);\r\n            Root&lt;UserEntity&gt; root = query.from(UserEntity.class);\r\n            query.select(root);\r\n\r\n            if (str.length() &gt; 0) {\r\n                Predicate checkName = qb.equal(root.get(&quot;name&quot;), str);\r\n                Predicate checkSurname = qb.equal(root.get(&quot;surname&quot;), str);\r\n                Predicate checkEmail = qb.equal(root.get(&quot;account&quot;).get(&quot;email&quot;), str);\r\n\r\n                query.where(\r\n                        qb.or( checkName, checkSurname, checkEmail)\r\n                );\r\n            }\r\n\r\n            Query q = entityManager.createQuery(query);\r\n\r\n            q.setFirstResult(page * limit);\r\n            q.setMaxResults(limit);\r\n\r\n            return q.getResultList();\r\n\r\n        }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Using CriteriaQuery for complex queries","body":"<p>Finally came up with a really good solution.\nThis is how!</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>   public List&lt;UserEntity&gt; search(String str, Integer page, Integer limit) {\n\n        CriteriaBuilder qb = entityManager.getCriteriaBuilder();\n        CriteriaQuery&lt;UserEntity&gt; query = qb.createQuery(UserEntity.class);\n        Root&lt;UserEntity&gt; root = query.from(UserEntity.class);\n        query.select(root);\n\n        if (str.length() &gt; 0) {\n            Predicate checkName = qb.equal(root.get(\"name\"), str);\n            Predicate checkSurname = qb.equal(root.get(\"surname\"), str);\n            Predicate checkEmail = qb.equal(root.get(\"account\").get(\"email\"), str);\n\n            query.where(\n                    qb.or( checkName, checkSurname, checkEmail)\n            );\n        }\n\n        Query q = entityManager.createQuery(query);\n\n        q.setFirstResult(page * limit);\n        q.setMaxResults(limit);\n\n        return q.getResultList();\n\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":20240869,"reputation":89,"user_id":14844785,"display_name":"The problem with other minds"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70974052,"answer_count":1,"score":0,"last_activity_date":1643902406,"creation_date":1643716213,"question_id":70940085,"body_markdown":"Assume the following query:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n     public List&lt;UserEntity&gt; search(String str, Integer page, Integer limit) {\r\n\r\n            String sql = &quot;SELECT u FROM UserEntity u  &quot;;\r\n\r\n            if (str.length() &gt; 0) {\r\n                sql += &quot;INNER JOIN u.account a &quot;;\r\n            }\r\n\r\n            sql += &quot;WHERE 1 = 1 &quot;;\r\n\r\n            if (str.length() &gt; 0) {\r\n                sql += &quot;AND LOWER(u.name) LIKE :str OR LOWER(u.surname) LIKE :str OR LOWER(a.email) LIKE :str &quot;;\r\n            }\r\n\r\n            Query q = entityManager.createQuery(sql);\r\n\r\n            if (str.length() &gt; 0) {\r\n                q.setParameter(&quot;str&quot;, str.toLowerCase() + &quot;%&quot;);\r\n            }\r\n\r\n            q.setFirstResult(page * limit);\r\n            q.setMaxResults(limit);\r\n            return q.getResultList();\r\n\r\n        }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAs you can see, we have two conditions which will determine if the table will be joined with another one and if there will be some where conditions. Furthermore, we have OR conditions so that the input &quot;str&quot; can be checked against multiple columns (one of which taken from the joined account table).\r\n\r\nNow I would like to write this up using CriteriaQuery, but the problem is I cannot manage to include all the conditions above. \r\n","title":"Using CriteriaQuery for complex queries","body":"<p>Assume the following query:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code> public List&lt;UserEntity&gt; search(String str, Integer page, Integer limit) {\n\n        String sql = \"SELECT u FROM UserEntity u  \";\n\n        if (str.length() &gt; 0) {\n            sql += \"INNER JOIN u.account a \";\n        }\n\n        sql += \"WHERE 1 = 1 \";\n\n        if (str.length() &gt; 0) {\n            sql += \"AND LOWER(u.name) LIKE :str OR LOWER(u.surname) LIKE :str OR LOWER(a.email) LIKE :str \";\n        }\n\n        Query q = entityManager.createQuery(sql);\n\n        if (str.length() &gt; 0) {\n            q.setParameter(\"str\", str.toLowerCase() + \"%\");\n        }\n\n        q.setFirstResult(page * limit);\n        q.setMaxResults(limit);\n        return q.getResultList();\n\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>As you can see, we have two conditions which will determine if the table will be joined with another one and if there will be some where conditions. Furthermore, we have OR conditions so that the input &quot;str&quot; can be checked against multiple columns (one of which taken from the joined account table).</p>\n<p>Now I would like to write this up using CriteriaQuery, but the problem is I cannot manage to include all the conditions above.</p>\n"},{"tags":["java","maven","build"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":2,"creation_date":1390573290,"post_id":21334987,"comment_id":32162191,"body_markdown":"Which kind of 3rd party tool? Just use mvn `deploy:deploy-file` or manually upload them into Nexus.","body":"Which kind of 3rd party tool? Just use mvn <code>deploy:deploy-file</code> or manually upload them into Nexus."},{"owner":{"account_id":1376901,"reputation":75,"user_id":1310755,"display_name":"jemailix"},"score":0,"creation_date":1390575693,"post_id":21334987,"comment_id":32163836,"body_markdown":"The 3rd party I use extracts the artifacts created on a build server to my local repo. However the project is too big to deploy each artifact manually. Is there a command that I can run on all the source code, and that, instead of compiling all the source code, uses the artifacts in my local maven repo and then deploy on the remote repo?","body":"The 3rd party I use extracts the artifacts created on a build server to my local repo. However the project is too big to deploy each artifact manually. Is there a command that I can run on all the source code, and that, instead of compiling all the source code, uses the artifacts in my local maven repo and then deploy on the remote repo?"}],"answers":[{"tags":[],"owner":{"account_id":317273,"reputation":2315,"user_id":3907061,"accept_rate":66,"display_name":"Christofer Dutz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643902298,"creation_date":1390575637,"answer_id":21335816,"question_id":21334987,"body_markdown":"If you want to deploy a whole bunch of artifacts with their poms as well as multiple artifacts using classifiers, you could use the tool we created in the Apache Flex project which is part of the Mavenizer tool, that we use to deploy entire repositories or parts of them ... \r\n\r\n[https://cwiki.apache.org/confluence/display/FLEX/Apache+Flex+SDK+Mavenizer][1]\r\n\r\nCode available at: [https://git-wip-us.apache.org/repos/asf/flex-utilities.git][2]\r\n\r\nThe SDKDeployer uses a local maven installation and acts as a wrapper to the maven `deploy:deploy-file` plugin, the SDKInVMDeployer does the same but without Maven utilizing the Maven libs directly (Is quite a lot faster)\r\n\r\n\r\n  [1]: https://cwiki.apache.org/confluence/display/FLEX/Apache+Flex+SDK+Mavenizer\r\n  [2]: https://git-wip-us.apache.org/repos/asf/flex-utilities.git","title":"Deploy artifacts in my local Maven repository to a remote repository","body":"<p>If you want to deploy a whole bunch of artifacts with their poms as well as multiple artifacts using classifiers, you could use the tool we created in the Apache Flex project which is part of the Mavenizer tool, that we use to deploy entire repositories or parts of them ...</p>\n<p><a href=\"https://cwiki.apache.org/confluence/display/FLEX/Apache+Flex+SDK+Mavenizer\" rel=\"nofollow noreferrer\">https://cwiki.apache.org/confluence/display/FLEX/Apache+Flex+SDK+Mavenizer</a></p>\n<p>Code available at: <a href=\"https://git-wip-us.apache.org/repos/asf/flex-utilities.git\" rel=\"nofollow noreferrer\">https://git-wip-us.apache.org/repos/asf/flex-utilities.git</a></p>\n<p>The SDKDeployer uses a local maven installation and acts as a wrapper to the maven <code>deploy:deploy-file</code> plugin, the SDKInVMDeployer does the same but without Maven utilizing the Maven libs directly (Is quite a lot faster)</p>\n"}],"owner":{"account_id":1376901,"reputation":75,"user_id":1310755,"display_name":"jemailix"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1795,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1643902298,"creation_date":1390573243,"question_id":21334987,"body_markdown":"I am using Maven as a build tool. Is there a way to deploy the artifacts present in my local maven repository (which I install via a 3rd party tool), to my remote Nexus repository ?\r\n\r\nThanks","title":"Deploy artifacts in my local Maven repository to a remote repository","body":"<p>I am using Maven as a build tool. Is there a way to deploy the artifacts present in my local maven repository (which I install via a 3rd party tool), to my remote Nexus repository ?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","junit","txt"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":3,"creation_date":1643901962,"post_id":70973905,"comment_id":125467246,"body_markdown":"Is there a difference in the line endings? (`\\r\\n` vs `\\n`?)","body":"Is there a difference in the line endings? (<code>\\r\\n</code> vs <code>\\n</code>?)"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1643902046,"post_id":70973905,"comment_id":125467280,"body_markdown":"As an aside: don&#39;t call a class `File`: most people skimming your code would assume it&#39;s `java.io.File`, rather than your own class.","body":"As an aside: don&#39;t call a class <code>File</code>: most people skimming your code would assume it&#39;s <code>java.io.File</code>, rather than your own class."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1643902929,"post_id":70973905,"comment_id":125467658,"body_markdown":"You might also want to consider using try-with-resources.","body":"You might also want to consider using try-with-resources."}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643902224,"creation_date":1643902224,"answer_id":70974004,"question_id":70973905,"body_markdown":"You are explicitly concatenating the lines being read from the reader with `System.getProperty(&quot;line.separator&quot;)`; your screenshot suggests that you&#39;re running this on Windows (the path starts with `C:\\Users`), which uses `\\r\\n` as the line separator.\r\n\r\nYour expected string&#39;s lines use `\\n` as the line separator.\r\n\r\nHence, the strings aren&#39;t equal because they use different line separators.\r\n\r\nIt would be better to keep things as a list of strings, and then just compare the lists (`List.equals` does pair-wise comparison of elements, so it&#39;s effectively the same - just without any confusion over line separators).","title":"2 same Strings , when compared in a Junit test it tells me they are not equal","body":"<p>You are explicitly concatenating the lines being read from the reader with <code>System.getProperty(&quot;line.separator&quot;)</code>; your screenshot suggests that you're running this on Windows (the path starts with <code>C:\\Users</code>), which uses <code>\\r\\n</code> as the line separator.</p>\n<p>Your expected string's lines use <code>\\n</code> as the line separator.</p>\n<p>Hence, the strings aren't equal because they use different line separators.</p>\n<p>It would be better to keep things as a list of strings, and then just compare the lists (<code>List.equals</code> does pair-wise comparison of elements, so it's effectively the same - just without any confusion over line separators).</p>\n"}],"owner":{"account_id":24144919,"reputation":1,"user_id":18110681,"display_name":"DxDouglax"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":531,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1643902224,"creation_date":1643901863,"question_id":70973905,"body_markdown":"I try to compare this .txt\r\n\r\n```USER alea Alex \r\nUSER bonb Bird\r\nUSER colc Colin Cook\r\nEVENT alea Class ULE 11/11/2011 9:00 11/11/2011 13:00\r\nEVENT alea Meeting MIC 11/11/2011 13:00 11/11/2011 14:00\r\nEVENT alea Lunch Cafeteria 11/11/2011 14:00 11/11/2011 15:00\r\nEVENT bonb Class ULE 11/11/2011 15:00 11/11/2011 19:00\r\nEVENT bonb Meeting Library 11/11/2011 13:00 11/11/2011 14:00\r\n```\r\nIn my class File.java I use this method to convert to String the content of the txt.\r\n```\r\npublic String readElements() throws FileException {\r\n\t\tFileReader fr = null;\r\n\t\tBufferedReader br = null;\r\n\t\tStringBuilder line = new StringBuilder();\r\n\t\tString lineAux = &quot;&quot;;\r\n\r\n\t\tlogger.info(&quot;Reads an element of the file: &quot; + this.fileName);\r\n\r\n\t\ttry {\r\n\t\t\tfr = new FileReader(this.fileName);\r\n\t\t\tbr = new BufferedReader(fr);\r\n\r\n\t\t\tlineAux = br.readLine();\r\n\t\t\twhile (lineAux != null) {\r\n\t\t\t\tline.append(lineAux + System.getProperty(&quot;line.separator&quot;));\r\n\t\t\t\tlineAux = br.readLine();\r\n\t\t\t}\r\n\t\t} catch (IOException e) {\r\n\t\t\tlogger.warn(&quot;File Error: Can&#180;t open the file: &quot; + this.fileName);\r\n\t\t\tthrow new FileException(&quot;File Error: Can&#180;t open the file &quot; + this.fileName);\r\n\t\t} finally {\r\n\t\t\ttry {\r\n\t\t\t\tif (null != fr) {\r\n\t\t\t\t\tfr.close();\r\n\t\t\t\t}\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\tlogger.warn(&quot;File error: Can&#180;t open the file: &quot; + this.fileName);\r\n\t\t\t\tthrow new FileException(&quot;File error: Can&#180;t open the file: &quot; + this.fileName);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn line.toString();\r\n\t}\r\n```\r\n\r\n\r\n\r\nI use this tests to try the File.Java\r\nThe TestReadElements compares that String with the content of the file. And when I use Junit in eclipse or the build.xml in a Linux terminal the test fails.\r\n\r\n```\r\n@Before\r\n\tpublic void setUp() throws Exception {\r\n\t\tthis.fileName = &quot;./etc/test/rightCalendar.txt&quot;;\r\n\t\tthis.file = new File(this.fileName);\r\n\t}\r\n\r\n@Test\r\n\tpublic void testReadElements() throws FileException {\r\n\t\tassertEquals(&quot;USER alea Alex Archer\\n&quot; + &quot;USER bonb Bonnie Bird\\n&quot; + &quot;USER colc Colin Cook\\n&quot;\r\n\t\t\t\t+ &quot;EVENT alea Class ULE 11/11/2011 9:00 13:00\\n&quot; + &quot;EVENT alea Meeting MIC 11/11/2011 13:00 14:00\\n&quot;\r\n\t\t\t\t+ &quot;EVENT alea Lunch Cafeteria 11/11/2011 14:00 15:00\\n&quot;\r\n\t\t\t\t+ &quot;EVENT bonb Class ULE 11/11/2011 15:00 19:00\\n&quot;\r\n\t\t\t\t+ &quot;EVENT bonb Meeting Library 11/11/2011 13:00 14:00\\n&quot;, this.file.readElements());\r\n\t}\r\n```\r\n\r\n\r\nI don&#180;t know where the problem is(if the problem is within the build.xml or some other file)\r\nI have been changing little things for hours and I&#180;m tired...\r\n[These are the path files and the comparison that tells me it&#180;s incorrect][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iGo1r.png","title":"2 same Strings , when compared in a Junit test it tells me they are not equal","body":"<p>I try to compare this .txt</p>\n<pre><code>USER bonb Bird\nUSER colc Colin Cook\nEVENT alea Class ULE 11/11/2011 9:00 11/11/2011 13:00\nEVENT alea Meeting MIC 11/11/2011 13:00 11/11/2011 14:00\nEVENT alea Lunch Cafeteria 11/11/2011 14:00 11/11/2011 15:00\nEVENT bonb Class ULE 11/11/2011 15:00 11/11/2011 19:00\nEVENT bonb Meeting Library 11/11/2011 13:00 11/11/2011 14:00\n</code></pre>\n<p>In my class File.java I use this method to convert to String the content of the txt.</p>\n<pre><code>public String readElements() throws FileException {\n        FileReader fr = null;\n        BufferedReader br = null;\n        StringBuilder line = new StringBuilder();\n        String lineAux = &quot;&quot;;\n\n        logger.info(&quot;Reads an element of the file: &quot; + this.fileName);\n\n        try {\n            fr = new FileReader(this.fileName);\n            br = new BufferedReader(fr);\n\n            lineAux = br.readLine();\n            while (lineAux != null) {\n                line.append(lineAux + System.getProperty(&quot;line.separator&quot;));\n                lineAux = br.readLine();\n            }\n        } catch (IOException e) {\n            logger.warn(&quot;File Error: Can´t open the file: &quot; + this.fileName);\n            throw new FileException(&quot;File Error: Can´t open the file &quot; + this.fileName);\n        } finally {\n            try {\n                if (null != fr) {\n                    fr.close();\n                }\n            } catch (IOException e) {\n                logger.warn(&quot;File error: Can´t open the file: &quot; + this.fileName);\n                throw new FileException(&quot;File error: Can´t open the file: &quot; + this.fileName);\n            }\n        }\n        return line.toString();\n    }\n</code></pre>\n<p>I use this tests to try the File.Java\nThe TestReadElements compares that String with the content of the file. And when I use Junit in eclipse or the build.xml in a Linux terminal the test fails.</p>\n<pre><code>@Before\n    public void setUp() throws Exception {\n        this.fileName = &quot;./etc/test/rightCalendar.txt&quot;;\n        this.file = new File(this.fileName);\n    }\n\n@Test\n    public void testReadElements() throws FileException {\n        assertEquals(&quot;USER alea Alex Archer\\n&quot; + &quot;USER bonb Bonnie Bird\\n&quot; + &quot;USER colc Colin Cook\\n&quot;\n                + &quot;EVENT alea Class ULE 11/11/2011 9:00 13:00\\n&quot; + &quot;EVENT alea Meeting MIC 11/11/2011 13:00 14:00\\n&quot;\n                + &quot;EVENT alea Lunch Cafeteria 11/11/2011 14:00 15:00\\n&quot;\n                + &quot;EVENT bonb Class ULE 11/11/2011 15:00 19:00\\n&quot;\n                + &quot;EVENT bonb Meeting Library 11/11/2011 13:00 14:00\\n&quot;, this.file.readElements());\n    }\n</code></pre>\n<p>I don´t know where the problem is(if the problem is within the build.xml or some other file)\nI have been changing little things for hours and I´m tired...\n<a href=\"https://i.stack.imgur.com/iGo1r.png\" rel=\"nofollow noreferrer\">These are the path files and the comparison that tells me it´s incorrect</a></p>\n"},{"tags":["java","object","jackson","mapping"],"answers":[{"tags":[],"owner":{"account_id":9344539,"reputation":1083,"user_id":6936154,"display_name":"Danil Perestoronin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643902203,"creation_date":1643900685,"answer_id":70973626,"question_id":70973001,"body_markdown":"Use `Map&lt;String, Object&gt; resources` instead of `List&lt;Object&gt; resources`. It allows you to have a map with different objects inside.\r\n\r\n```java\r\npublic class Input{\r\n  private String filepath;\r\n  private String inputType;\r\n  private Map&lt;String, Object&gt; resources;\r\n\r\n  // getters and setters here\r\n}\r\n```","title":"How to map a dynamic object with Jackson","body":"<p>Use <code>Map&lt;String, Object&gt; resources</code> instead of <code>List&lt;Object&gt; resources</code>. It allows you to have a map with different objects inside.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Input{\n  private String filepath;\n  private String inputType;\n  private Map&lt;String, Object&gt; resources;\n\n  // getters and setters here\n}\n</code></pre>\n"}],"owner":{"account_id":6099776,"reputation":1781,"user_id":4759182,"display_name":"rasilvap"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70973626,"answer_count":1,"score":0,"last_activity_date":1643902203,"creation_date":1643898410,"question_id":70973001,"body_markdown":"Hello I have the next json response:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yPuTp.png\r\n\r\nAs you can see I have a resource object with many different objects inside, but these objects could be different depending on the input. I created the next pojo:\r\n\r\nThis in my input Pojo:\r\n\r\nimport java.util.List;\r\n\r\n    import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    \r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class Input\r\n    {\r\n    \r\n      private String filepath;\r\n      private String inputType;\r\n      private List&lt;Object&gt; resources;\r\n    \r\n      @JsonProperty(&quot;filepath&quot;)\r\n      public String getFilepath() {\r\n        return filepath;\r\n      }\r\n    \r\n      public void setFilepath(final String filepath) {\r\n        this.filepath = filepath;\r\n      }\r\n    \r\n      @JsonProperty(&quot;input_type&quot;)\r\n      public String getInputType() {\r\n        return inputType;\r\n      }\r\n    \r\n      public void setInputType(final String inputType) {\r\n        this.inputType = inputType;\r\n      }\r\n    \r\n      @JsonProperty(&quot;resources&quot;)\r\n      public List&lt;Object&gt; getResources() {\r\n        return resources;\r\n      }\r\n    \r\n      public void setResources(final List&lt;Object&gt; resources) {\r\n        this.resources = resources;\r\n      }\r\n    }\r\n\r\nI added the resources as an object List, but I can see that it is an Object with different objects inside it. How can I map this different objects to an object in Java? In fact I need to count how may resources I have, but I&#39;m struggling trying to achieve this. Thanks!\r\n\r\n","title":"How to map a dynamic object with Jackson","body":"<p>Hello I have the next json response:</p>\n<p><a href=\"https://i.stack.imgur.com/yPuTp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yPuTp.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see I have a resource object with many different objects inside, but these objects could be different depending on the input. I created the next pojo:</p>\n<p>This in my input Pojo:</p>\n<p>import java.util.List;</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\nimport com.fasterxml.jackson.annotation.JsonProperty;\n\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class Input\n{\n\n  private String filepath;\n  private String inputType;\n  private List&lt;Object&gt; resources;\n\n  @JsonProperty(&quot;filepath&quot;)\n  public String getFilepath() {\n    return filepath;\n  }\n\n  public void setFilepath(final String filepath) {\n    this.filepath = filepath;\n  }\n\n  @JsonProperty(&quot;input_type&quot;)\n  public String getInputType() {\n    return inputType;\n  }\n\n  public void setInputType(final String inputType) {\n    this.inputType = inputType;\n  }\n\n  @JsonProperty(&quot;resources&quot;)\n  public List&lt;Object&gt; getResources() {\n    return resources;\n  }\n\n  public void setResources(final List&lt;Object&gt; resources) {\n    this.resources = resources;\n  }\n}\n</code></pre>\n<p>I added the resources as an object List, but I can see that it is an Object with different objects inside it. How can I map this different objects to an object in Java? In fact I need to count how may resources I have, but I'm struggling trying to achieve this. Thanks!</p>\n"},{"tags":["java","json","validation"],"comments":[{"owner":{"account_id":15567334,"reputation":65,"user_id":11230693,"display_name":"Trups"},"score":0,"creation_date":1643881448,"post_id":70968822,"comment_id":125458654,"body_markdown":"I have tried something like  ```@Size(min=4, max=4, message=&quot;application value should be of length 4 ${modelName.id}&quot;)``` but getting  &quot;references an unknown property &quot; error","body":"I have tried something like  <code>@Size(min=4, max=4, message=&quot;application value should be of length 4 ${modelName.id}&quot;)</code> but getting  &quot;references an unknown property &quot; error"}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643902164,"creation_date":1643902164,"answer_id":70973988,"question_id":70968822,"body_markdown":"To my knowledge, it is only possible to get current validated value, and the values in the annotation methods(min, max, etc). If someone actually knows of a way, please feel free to correct me.\r\n\r\nTo achieve access to another property value, you would need custom validation annotation on the type level. I&#39;ll assume the class holding data is called `MyModel`. Annotation might look like this:\r\n```\r\nimport javax.validation.Constraint;\r\nimport javax.validation.Payload;\r\nimport java.lang.annotation.ElementType;\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\nimport java.lang.annotation.Target;\r\n\r\n@Target(ElementType.TYPE)\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Constraint(validatedBy = MyModelApplicationSizeValidator.class)\r\npublic @interface MyModelApplicationSize {\r\n\r\n    String message() default &quot;default message&quot;;\r\n\r\n    Class&lt;?&gt;[] groups() default { };\r\n\r\n    Class&lt;? extends Payload&gt;[] payload() default { };\r\n\r\n    int min() default 0;\r\n\r\n    int max() default Integer.MAX_VALUE;\r\n}\r\n```\r\nAnd the actual validator for this annotation:\r\n```\r\nimport com.example.random.model.MyModel;\r\n\r\nimport javax.validation.ConstraintValidator;\r\nimport javax.validation.ConstraintValidatorContext;\r\n\r\npublic class MyModelApplicationSizeValidator implements ConstraintValidator&lt;MyModelApplicationSize, MyModel&gt; {\r\n\r\n    private int min;\r\n    private int max;\r\n    private String msgFormat;\r\n\r\n    @Override\r\n    public void initialize(MyModelApplicationSize constraintAnnotation) {\r\n        this.min = constraintAnnotation.min();\r\n        this.max = constraintAnnotation.max();\r\n        this.msgFormat = constraintAnnotation.message();\r\n    }\r\n\r\n    @Override\r\n    public boolean isValid(MyModel model, ConstraintValidatorContext context) {\r\n        String value = model.getApplication();\r\n        if (value == null || value.isEmpty() || value.length() &lt; this.min || value.length() &gt; this.max) {\r\n            context.disableDefaultConstraintViolation();\r\n            String message = String.format(this.msgFormat, this.min, this.max, value, model.getId());\r\n            context.buildConstraintViolationWithTemplate(message).addConstraintViolation();\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n}\r\n```\r\nKeep in mind building error message with `String.format` is not the best way to do it, it&#39;s kind of brittle, you might actually need to implement it in another way, depending on your needs.\r\n\r\nAnd `MyModel`, validated with the new annotation:\r\n```\r\nimport javax.validation.constraints.NotEmpty;\r\nimport javax.validation.constraints.Size;\r\n\r\n@MyModelApplicationSize(message = &quot;application accepts min length of %d and max length of %d for val - %s with id - %s&quot;, min = 2, max = 7)\r\npublic class MyModel {\r\n\r\n    @NotEmpty(message=&quot;Id must not be empty&quot;)\r\n    @Size(min=1, max=70, message=&quot;Id accepts max length of 70&quot;)\r\n    private String id;\r\n\r\n    @NotEmpty(message=&quot;application must not be empty&quot;)\r\n    @Size(min=1, max=8, message=&quot;application accepts min length of {min} and max length of {max} for val - ${validatedValue}&quot;)\r\n    private String application;\r\n\r\n    //getters and setters\r\n}\r\n```","title":"Can we add parameters to Json validation annonations?","body":"<p>To my knowledge, it is only possible to get current validated value, and the values in the annotation methods(min, max, etc). If someone actually knows of a way, please feel free to correct me.</p>\n<p>To achieve access to another property value, you would need custom validation annotation on the type level. I'll assume the class holding data is called <code>MyModel</code>. Annotation might look like this:</p>\n<pre><code>import javax.validation.Constraint;\nimport javax.validation.Payload;\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\n@Constraint(validatedBy = MyModelApplicationSizeValidator.class)\npublic @interface MyModelApplicationSize {\n\n    String message() default &quot;default message&quot;;\n\n    Class&lt;?&gt;[] groups() default { };\n\n    Class&lt;? extends Payload&gt;[] payload() default { };\n\n    int min() default 0;\n\n    int max() default Integer.MAX_VALUE;\n}\n</code></pre>\n<p>And the actual validator for this annotation:</p>\n<pre><code>import com.example.random.model.MyModel;\n\nimport javax.validation.ConstraintValidator;\nimport javax.validation.ConstraintValidatorContext;\n\npublic class MyModelApplicationSizeValidator implements ConstraintValidator&lt;MyModelApplicationSize, MyModel&gt; {\n\n    private int min;\n    private int max;\n    private String msgFormat;\n\n    @Override\n    public void initialize(MyModelApplicationSize constraintAnnotation) {\n        this.min = constraintAnnotation.min();\n        this.max = constraintAnnotation.max();\n        this.msgFormat = constraintAnnotation.message();\n    }\n\n    @Override\n    public boolean isValid(MyModel model, ConstraintValidatorContext context) {\n        String value = model.getApplication();\n        if (value == null || value.isEmpty() || value.length() &lt; this.min || value.length() &gt; this.max) {\n            context.disableDefaultConstraintViolation();\n            String message = String.format(this.msgFormat, this.min, this.max, value, model.getId());\n            context.buildConstraintViolationWithTemplate(message).addConstraintViolation();\n            return false;\n        }\n        return true;\n    }\n}\n</code></pre>\n<p>Keep in mind building error message with <code>String.format</code> is not the best way to do it, it's kind of brittle, you might actually need to implement it in another way, depending on your needs.</p>\n<p>And <code>MyModel</code>, validated with the new annotation:</p>\n<pre><code>import javax.validation.constraints.NotEmpty;\nimport javax.validation.constraints.Size;\n\n@MyModelApplicationSize(message = &quot;application accepts min length of %d and max length of %d for val - %s with id - %s&quot;, min = 2, max = 7)\npublic class MyModel {\n\n    @NotEmpty(message=&quot;Id must not be empty&quot;)\n    @Size(min=1, max=70, message=&quot;Id accepts max length of 70&quot;)\n    private String id;\n\n    @NotEmpty(message=&quot;application must not be empty&quot;)\n    @Size(min=1, max=8, message=&quot;application accepts min length of {min} and max length of {max} for val - ${validatedValue}&quot;)\n    private String application;\n\n    //getters and setters\n}\n</code></pre>\n"}],"owner":{"account_id":15567334,"reputation":65,"user_id":11230693,"display_name":"Trups"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":364,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643902164,"creation_date":1643880868,"question_id":70968822,"body_markdown":"I am doing the json field validation as below : \r\n```\r\n\t@Valid\r\n\t@NotEmpty(message=&quot;Id must not be empty&quot;)\r\n\t@Size(min=1, max=70, message=&quot;Id accepts max length of 70&quot;)\r\n\tprivate String Id;\r\n\t@Valid\r\n\t@NotEmpty(message=&quot;application must not be empty&quot;)\r\n\t@Size(min=1, max=8, message=&quot;application accepts max length of 8&quot;)\r\n\tprivate String application;\r\n```\r\nThis is working fine\r\nbut now i have got another requirement where while validating the second field i need to pass the id as well to the message, stating this application message is coming for which id\r\n\r\nExample : application must not be empty for id = 123\r\nor \r\napplication accepts max length of 8 for id = 456\r\n\r\nI am not sure if i can pass other attribute from model to the message \r\nIf you have any clue please comment","title":"Can we add parameters to Json validation annonations?","body":"<p>I am doing the json field validation as below :</p>\n<pre><code>    @Valid\n    @NotEmpty(message=&quot;Id must not be empty&quot;)\n    @Size(min=1, max=70, message=&quot;Id accepts max length of 70&quot;)\n    private String Id;\n    @Valid\n    @NotEmpty(message=&quot;application must not be empty&quot;)\n    @Size(min=1, max=8, message=&quot;application accepts max length of 8&quot;)\n    private String application;\n</code></pre>\n<p>This is working fine\nbut now i have got another requirement where while validating the second field i need to pass the id as well to the message, stating this application message is coming for which id</p>\n<p>Example : application must not be empty for id = 123\nor\napplication accepts max length of 8 for id = 456</p>\n<p>I am not sure if i can pass other attribute from model to the message\nIf you have any clue please comment</p>\n"},{"tags":["java","caching","hazelcast","hazelcast-imap"],"comments":[{"owner":{"account_id":7592512,"reputation":3070,"user_id":5759723,"display_name":"Neil Stevenson"},"score":0,"creation_date":1643706608,"post_id":70933682,"comment_id":125404935,"body_markdown":"Do you mean a JCache `cache` or an IMap ?","body":"Do you mean a JCache <code>cache</code> or an IMap ?"},{"owner":{"account_id":24115404,"reputation":51,"user_id":18085368,"display_name":"Bambatrack"},"score":0,"creation_date":1643899722,"post_id":70933682,"comment_id":125466164,"body_markdown":"I&#39;m using an IMap to store data.","body":"I&#39;m using an IMap to store data."},{"owner":{"account_id":7592512,"reputation":3070,"user_id":5759723,"display_name":"Neil Stevenson"},"score":0,"creation_date":1644012258,"post_id":70933682,"comment_id":125501328,"body_markdown":"You could use transactions, to update both objects atomically. But why does the second object need to contain the first? Could it hold a reference to the first instead (such as it&#39;s primary key)","body":"You could use transactions, to update both objects atomically. But why does the second object need to contain the first? Could it hold a reference to the first instead (such as it&#39;s primary key)"}],"answers":[{"tags":[],"owner":{"account_id":7239553,"reputation":1078,"user_id":5523550,"display_name":"wildnez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643750225,"creation_date":1643750225,"answer_id":70947658,"question_id":70933682,"body_markdown":"You can use [EntryProcessor][1] to update the content of the entity in the map, directly on the server (without having to perform a get() first). That ways a common update code can be used for all the caches and you save on all network and ser/des overheads too.\r\n\r\n\r\n  [1]: https://docs.hazelcast.com/hazelcast/5.0/computing/entry-processor","title":"Hazelcast update entities","body":"<p>You can use <a href=\"https://docs.hazelcast.com/hazelcast/5.0/computing/entry-processor\" rel=\"nofollow noreferrer\">EntryProcessor</a> to update the content of the entity in the map, directly on the server (without having to perform a get() first). That ways a common update code can be used for all the caches and you save on all network and ser/des overheads too.</p>\n"}],"owner":{"account_id":24115404,"reputation":51,"user_id":18085368,"display_name":"Bambatrack"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":451,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643902073,"creation_date":1643668732,"question_id":70933682,"body_markdown":"I want to know if there is a way to let Hazelcast automatically sync the cache with all the updates that an entity receives. here&#39;s an example:\r\nI want to update an entity that has been stored into a cache and is also used in other caches. I do a get() and retrieve the value, and then perform an update changing some properties. The problem is that Hazelcast does not automatically serialize the item in the cache after every change, but i need to force a put to actually propagate the update to the cache. And i would need to perform a put for every cache that my entity is stored into. Is there someway to let Hazelcast manage those situations automatically?\r\n\r\n#Edit\r\n\r\nJust to clarify the problem, here i give you an example:\r\nimagine i have 2 IMaps: map1 stores objects of Entity A, map2 contains object of entity B, and entity B represents a complex object which in turn contains Entity A. If i want to perform an edit on one of the objects contained in map1 (which will be an instance of Entity A), i will do a map1.get(key) and retreive the object. Then i modify this object in some way and i will persist the changes in map1 by doing a map1.put(key, entityA).\r\nThe problem rises because in map2, all the entitiesB which contain the jsut modified entityA will not show the update, and i have to manually do a get and a put also in this map.  ","title":"Hazelcast update entities","body":"<p>I want to know if there is a way to let Hazelcast automatically sync the cache with all the updates that an entity receives. here's an example:\nI want to update an entity that has been stored into a cache and is also used in other caches. I do a get() and retrieve the value, and then perform an update changing some properties. The problem is that Hazelcast does not automatically serialize the item in the cache after every change, but i need to force a put to actually propagate the update to the cache. And i would need to perform a put for every cache that my entity is stored into. Is there someway to let Hazelcast manage those situations automatically?</p>\n<p>#Edit</p>\n<p>Just to clarify the problem, here i give you an example:\nimagine i have 2 IMaps: map1 stores objects of Entity A, map2 contains object of entity B, and entity B represents a complex object which in turn contains Entity A. If i want to perform an edit on one of the objects contained in map1 (which will be an instance of Entity A), i will do a map1.get(key) and retreive the object. Then i modify this object in some way and i will persist the changes in map1 by doing a map1.put(key, entityA).\nThe problem rises because in map2, all the entitiesB which contain the jsut modified entityA will not show the update, and i have to manually do a get and a put also in this map.</p>\n"},{"tags":["java","jndi"],"answers":[{"tags":[],"owner":{"account_id":810397,"reputation":1901,"user_id":914155,"display_name":"ClickerMonkey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386097841,"creation_date":1386097841,"answer_id":20359605,"question_id":20359483,"body_markdown":"Tomcat provides Context &amp; DataSource implementations that work with the InitialContext class. When running Tomcat the Context.INITIAL_CONTEXT_FACTORY property is set to point to Tomcat&#39;s implementations. When not running Tomcat, you don&#39;t have this ability... you need to use a third-party-library like c3p0 for connection pooling.\r\n","title":"Initialcontext in a standalone Java program","body":"<p>Tomcat provides Context &amp; DataSource implementations that work with the InitialContext class. When running Tomcat the Context.INITIAL_CONTEXT_FACTORY property is set to point to Tomcat's implementations. When not running Tomcat, you don't have this ability... you need to use a third-party-library like c3p0 for connection pooling.</p>\n"},{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1386098002,"creation_date":1386098002,"answer_id":20359656,"question_id":20359483,"body_markdown":"There isn&#39;t a way to directly use the Tomcat Context Factory, see [here](http://docs.oracle.com/javase/1.5.0/docs/guide/jndi/jndi-rmi.html#URLPROP) for a little more documentation on the alternatives. But I recommend you try running a registry outside of Tomcat...\r\n\r\n    // select the registry context factory for creating a context\r\n    env.put(Context.INITIAL_CONTEXT_FACTORY, &quot;com.sun.jndi.rmi.registry.RegistryContextFactory&quot;);\r\n\r\n    // specify where that factory is running.\r\n    env.put(Context.PROVIDER_URL, &quot;rmi://server:1099&quot;);\r\n\r\n    // create an initial context that accesses the registry\r\n    Context ctx = new InitialContext(env);\r\n\r\nYou could change your code in Tomcat to also use this external RegistryContext and then both set(s) would be using the same JNDI provider. This [question](https://stackoverflow.com/questions/5324989/what-would-be-java-naming-provider-url-for-tomcat) seems very similar.","title":"Initialcontext in a standalone Java program","body":"<p>There isn't a way to directly use the Tomcat Context Factory, see <a href=\"http://docs.oracle.com/javase/1.5.0/docs/guide/jndi/jndi-rmi.html#URLPROP\" rel=\"nofollow noreferrer\">here</a> for a little more documentation on the alternatives. But I recommend you try running a registry outside of Tomcat...</p>\n\n<pre><code>// select the registry context factory for creating a context\nenv.put(Context.INITIAL_CONTEXT_FACTORY, \"com.sun.jndi.rmi.registry.RegistryContextFactory\");\n\n// specify where that factory is running.\nenv.put(Context.PROVIDER_URL, \"rmi://server:1099\");\n\n// create an initial context that accesses the registry\nContext ctx = new InitialContext(env);\n</code></pre>\n\n<p>You could change your code in Tomcat to also use this external RegistryContext and then both set(s) would be using the same JNDI provider. This <a href=\"https://stackoverflow.com/questions/5324989/what-would-be-java-naming-provider-url-for-tomcat\">question</a> seems very similar.</p>\n"},{"tags":[],"owner":{"account_id":465863,"reputation":41382,"user_id":870248,"accept_rate":100,"display_name":"Paul Vargas"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1467994688,"creation_date":1386099048,"answer_id":20359973,"question_id":20359483,"body_markdown":"You could also create your own custom context. \r\n\r\n    LocalContext ctx = LocalContextFactory.createLocalContext();\r\n    ctx.addDataSource(&quot;jdbc/testdb&quot;, driverName, url, usr, pwd);\r\n\r\nSee [*Running Beans Locally that use Application Server Data Sources*][1] for more details.\r\n\r\n---\r\n\r\n![new](http://i.stack.imgur.com/EzUP1.gif) *UPDATE*\r\n\r\nYou can use the class [**`org.springframework.mock.jndi.SimpleNamingContextBuilder`**](http://docs.spring.io/spring-framework/docs/2.5.x/api/org/springframework/mock/jndi/SimpleNamingContextBuilder.html) of Spring. e.g.:\r\n\r\n- *Setup:*\r\n\r\n        SimpleNamingContextBuilder builder = new SimpleNamingContextBuilder();\r\n        builder.bind(&quot;jdbc/Oracle&quot;, ods);\r\n        builder.activate();\r\n\r\n- *Use:*\r\n\r\n        DataSource ds = InitialContext.doLookup(&quot;jdbc/Oracle&quot;);\r\n\r\n\r\n  [1]: http://penguindreams.org/blog/running-beans-that-use-application-server-datasources-locally/","title":"Initialcontext in a standalone Java program","body":"<p>You could also create your own custom context. </p>\n\n<pre><code>LocalContext ctx = LocalContextFactory.createLocalContext();\nctx.addDataSource(\"jdbc/testdb\", driverName, url, usr, pwd);\n</code></pre>\n\n<p>See <a href=\"http://penguindreams.org/blog/running-beans-that-use-application-server-datasources-locally/\" rel=\"noreferrer\"><em>Running Beans Locally that use Application Server Data Sources</em></a> for more details.</p>\n\n<hr>\n\n<p><img src=\"https://i.stack.imgur.com/EzUP1.gif\" alt=\"new\"> <em>UPDATE</em></p>\n\n<p>You can use the class <a href=\"http://docs.spring.io/spring-framework/docs/2.5.x/api/org/springframework/mock/jndi/SimpleNamingContextBuilder.html\" rel=\"noreferrer\"><strong><code>org.springframework.mock.jndi.SimpleNamingContextBuilder</code></strong></a> of Spring. e.g.:</p>\n\n<ul>\n<li><p><em>Setup:</em></p>\n\n<pre><code>SimpleNamingContextBuilder builder = new SimpleNamingContextBuilder();\nbuilder.bind(\"jdbc/Oracle\", ods);\nbuilder.activate();\n</code></pre></li>\n<li><p><em>Use:</em></p>\n\n<pre><code>DataSource ds = InitialContext.doLookup(\"jdbc/Oracle\");\n</code></pre></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":545095,"reputation":839,"user_id":914749,"display_name":"Scott Nelson"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1392222955,"creation_date":1392222955,"answer_id":21733896,"question_id":20359483,"body_markdown":"Here is an example adapted from the accepted answer but doing everything inline to avoid creating extra classes.\r\n\r\n    public static void main(String[] args) {\r\n        setupInitialContext();\r\n        //do something that looks up a datasource\r\n    }\r\n    \r\n    private static void setupInitialContext() {\r\n        try {\r\n            NamingManager.setInitialContextFactoryBuilder(new InitialContextFactoryBuilder() {\r\n\r\n                @Override\r\n                public InitialContextFactory createInitialContextFactory(Hashtable&lt;?, ?&gt; environment) throws NamingException {\r\n                    return new InitialContextFactory() {\r\n\r\n                        @Override\r\n                        public Context getInitialContext(Hashtable&lt;?, ?&gt; environment) throws NamingException {\r\n                            return new InitialContext(){\r\n                                \r\n                                private Hashtable&lt;String, DataSource&gt; dataSources = new Hashtable&lt;&gt;();\r\n                                \r\n                                @Override\r\n                                public Object lookup(String name) throws NamingException {\r\n                                    \r\n                                    if (dataSources.isEmpty()) { //init datasources\r\n                                        MysqlConnectionPoolDataSource ds = new MysqlConnectionPoolDataSource();\r\n                                        ds.setURL(&quot;jdbc:mysql://localhost:3306/mydb&quot;);\r\n                                        ds.setUser(&quot;mydbuser&quot;);\r\n                                        ds.setPassword(&quot;mydbpass&quot;);\r\n                                        dataSources.put(&quot;jdbc/mydbname&quot;, ds);\r\n\r\n                                        //add more datasources to the list as necessary\r\n                                    }\r\n                                    \r\n                                    if (dataSources.containsKey(name)) {\r\n                                        return dataSources.get(name);\r\n                                    }\r\n                                    \r\n                                    throw new NamingException(&quot;Unable to find datasource: &quot;+name);\r\n                                }\r\n                            };\r\n                        }\r\n                        \r\n                    };\r\n                }\r\n                \r\n            });\r\n        }\r\n        catch (NamingException ne) {\r\n            ne.printStackTrace();\r\n        }\r\n    }","title":"Initialcontext in a standalone Java program","body":"<p>Here is an example adapted from the accepted answer but doing everything inline to avoid creating extra classes.</p>\n\n<pre><code>public static void main(String[] args) {\n    setupInitialContext();\n    //do something that looks up a datasource\n}\n\nprivate static void setupInitialContext() {\n    try {\n        NamingManager.setInitialContextFactoryBuilder(new InitialContextFactoryBuilder() {\n\n            @Override\n            public InitialContextFactory createInitialContextFactory(Hashtable&lt;?, ?&gt; environment) throws NamingException {\n                return new InitialContextFactory() {\n\n                    @Override\n                    public Context getInitialContext(Hashtable&lt;?, ?&gt; environment) throws NamingException {\n                        return new InitialContext(){\n\n                            private Hashtable&lt;String, DataSource&gt; dataSources = new Hashtable&lt;&gt;();\n\n                            @Override\n                            public Object lookup(String name) throws NamingException {\n\n                                if (dataSources.isEmpty()) { //init datasources\n                                    MysqlConnectionPoolDataSource ds = new MysqlConnectionPoolDataSource();\n                                    ds.setURL(\"jdbc:mysql://localhost:3306/mydb\");\n                                    ds.setUser(\"mydbuser\");\n                                    ds.setPassword(\"mydbpass\");\n                                    dataSources.put(\"jdbc/mydbname\", ds);\n\n                                    //add more datasources to the list as necessary\n                                }\n\n                                if (dataSources.containsKey(name)) {\n                                    return dataSources.get(name);\n                                }\n\n                                throw new NamingException(\"Unable to find datasource: \"+name);\n                            }\n                        };\n                    }\n\n                };\n            }\n\n        });\n    }\n    catch (NamingException ne) {\n        ne.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9973938,"reputation":11,"user_id":7379167,"display_name":"faizan saifi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535722726,"creation_date":1535722726,"answer_id":52116720,"question_id":20359483,"body_markdown":"You can create an initial context using blow code.\r\n\r\n    InitialContext ic = new InitialContext();\r\n\t\t// Retrieve the Home interface using JNDI lookup\r\n\t\tObject helloObject = ic.lookup(&quot;java:comp/env/ejb/HelloBean&quot;);\r\nif you want create custom initial context, you can extends javax.naming.InitailContext class","title":"Initialcontext in a standalone Java program","body":"<p>You can create an initial context using blow code.</p>\n\n<pre><code>InitialContext ic = new InitialContext();\n    // Retrieve the Home interface using JNDI lookup\n    Object helloObject = ic.lookup(\"java:comp/env/ejb/HelloBean\");\n</code></pre>\n\n<p>if you want create custom initial context, you can extends javax.naming.InitailContext class</p>\n"},{"tags":[],"owner":{"account_id":3242704,"reputation":13438,"user_id":2735286,"accept_rate":89,"display_name":"gil.fernandes"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1556190020,"creation_date":1556190020,"answer_id":55847747,"question_id":20359483,"body_markdown":"You can create your own `Context` by sub-classing `javax.naming.InitialContext` and implementing only a small subset of methods, typically the `bind` and the `lookup` methods. \r\n\r\nThen you can create your data source and bind it to your initial context to a specific key. After this you are ready to go and query from any place your JNDI context in your stand-alone Java programme.\r\n\r\nThis is the code you can use to create your own context:\r\n\r\n    InitialContext initialContext = new InitialContext() {\r\n\r\n        private Map&lt;String, Object&gt; table = new HashMap&lt;&gt;();\r\n\r\n        public void bind(String key, Object value) {\r\n            table.put(key, value);\r\n        }\r\n\r\n        public Object lookup(String key) throws NamingException {\r\n            return table.get(key);\r\n        }\r\n    };\r\n\r\n    // Activate the initial context\r\n    NamingManager.setInitialContextFactoryBuilder(environment -&gt; environment1 -&gt; initialContext);\r\n\r\nThen you can initialise your data source, whichever you choose:\r\n\r\n    InitialContext ic = new InitialContext();\r\n\r\n    BasicDataSource bds = new BasicDataSource();\r\n    bds.setDriverClassName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\r\n    bds.setUrl(url);\r\n    bds.setUsername(username);\r\n    bds.setPassword(password);\r\n\r\n    ic.bind(jndiPath, bds);\r\n\r\nAnd somewhere else in your code, you can use the existing data source by retrieving it from the JNDI context:\r\n\r\n    InitialContext ic2 = new InitialContext();\r\n    DataSource ds = (DataSource) ic2.lookup(jndiPath);\r\n    assertNotNull(ds);\r\n    Connection conn = ds.getConnection();\r\n    assertNotNull(conn);\r\n    conn.close();","title":"Initialcontext in a standalone Java program","body":"<p>You can create your own <code>Context</code> by sub-classing <code>javax.naming.InitialContext</code> and implementing only a small subset of methods, typically the <code>bind</code> and the <code>lookup</code> methods. </p>\n\n<p>Then you can create your data source and bind it to your initial context to a specific key. After this you are ready to go and query from any place your JNDI context in your stand-alone Java programme.</p>\n\n<p>This is the code you can use to create your own context:</p>\n\n<pre><code>InitialContext initialContext = new InitialContext() {\n\n    private Map&lt;String, Object&gt; table = new HashMap&lt;&gt;();\n\n    public void bind(String key, Object value) {\n        table.put(key, value);\n    }\n\n    public Object lookup(String key) throws NamingException {\n        return table.get(key);\n    }\n};\n\n// Activate the initial context\nNamingManager.setInitialContextFactoryBuilder(environment -&gt; environment1 -&gt; initialContext);\n</code></pre>\n\n<p>Then you can initialise your data source, whichever you choose:</p>\n\n<pre><code>InitialContext ic = new InitialContext();\n\nBasicDataSource bds = new BasicDataSource();\nbds.setDriverClassName(\"com.microsoft.sqlserver.jdbc.SQLServerDriver\");\nbds.setUrl(url);\nbds.setUsername(username);\nbds.setPassword(password);\n\nic.bind(jndiPath, bds);\n</code></pre>\n\n<p>And somewhere else in your code, you can use the existing data source by retrieving it from the JNDI context:</p>\n\n<pre><code>InitialContext ic2 = new InitialContext();\nDataSource ds = (DataSource) ic2.lookup(jndiPath);\nassertNotNull(ds);\nConnection conn = ds.getConnection();\nassertNotNull(conn);\nconn.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5352637,"reputation":742,"user_id":4266338,"accept_rate":86,"display_name":"Pixelstix"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643901729,"creation_date":1643901729,"answer_id":70973869,"question_id":20359483,"body_markdown":"You can configure a standalone app (or unit tests!) to use your server&#39;s `INITIAL_CONTEXT_FACTORY` without running the server.\r\n\r\nThis is how to do that for a **Apache Tomcat** initialization, *but you should have enough information to adapt it for another server*.\r\n\r\n**Starting configuration from the server**\r\n\r\nThis example presumes you want to mimic something like this from your `context.xml` file:\r\n\r\n    &lt;Resource name=&quot;jdbc/testdb&quot; auth=&quot;Container&quot;\r\n      type=&quot;javax.sql.DataSource&quot;\r\n      driverClassName=&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;\r\n      username=&quot;someuser&quot; password=&quot;somepassword&quot;\r\n      url=&quot;jdbc:sqlserver://localhost\\SQLEXPRESS;databaseName=somedb;applicationName=someapp&quot;/&gt;\r\n\r\n**Create the resource to go into the Context**\r\n\r\nThis example is database specific, *but you can put things other than a `DataSource` in the Context*.  Here is one way you might be able to create a `DataSource` for this SQL Server example. (It requires the JDBC driver and `tomcat-dbcp.jar` in your classpath.  This code is for an older version of the driver, new versions probably have `SQLServerXADataSource` and would not need `tomcat-dbcp.jar`.)\r\n\r\n\tBasicDataSource dataSource = new BasicDataSource();\r\n\tdataSource.setDriverClassName(SQLServerDriver.class.getName());\r\n\tdataSource.setUrl(url);\r\n\tdataSource.setUsername(getUserName());\r\n\tdataSource.setPassword(getPassword());\r\n\r\n**Initialize using Tomcat INITIAL_CONTEXT_FACTORY**\r\n\r\nSee [this old blog post][1].\r\n\r\n    System.setProperty(Context.INITIAL_CONTEXT_FACTORY,\r\n\t\t\t&quot;org.apache.naming.java.javaURLContextFactory&quot;);\r\n\tSystem.setProperty(Context.URL_PKG_PREFIXES, &quot;org.apache.naming&quot;);\r\n    InitialContext ctxt = new InitialContext();`\r\n\r\nThe reference to `org.apache.naming.java.javaURLContextFactory` means you should have `catalina.jar` in your classpath.  *You should be able to find variants for the `INITIAL_CONTEXT_FACTORY` and `URL_PGK_PREFIXES` values for other application servers.*\r\n\r\n**Register the resource for future lookups**\r\n\r\nThen register your `DataSource dataSource` for future lookups, at `java:/comp/env/jdbc/testdb`.  Unfortunately, you have to make sure all the intermediate subcontext levels are created before you can add the resource. (Exercise for the reader: You can create a method to figure out the subcontext names from the `resourceName` instead of hard-coding the list as this example does.)\r\n\r\n    // Create all the intermediate levels\r\n    for (String resource : new String[]{ &quot;java:&quot;, &quot;java:comp&quot;, &quot;java:comp/env&quot;, &quot;java:/comp/env/jdbc&quot; })\r\n    {\r\n\t\ttry\r\n\t\t{\r\n\t\t\tctxt.lookup(subContext);\r\n\t\t}\r\n\t\tcatch (NameNotFoundException nnfe)\r\n\t\t{\r\n\t\t\tctxt.createSubcontext(subContext);\r\n\t\t}\r\n    }\r\n\r\n    // Finally, register the resource\r\n    ctxt.bind(resourceName, dataSource);\r\n\r\nThis completes the setup portion, mimicking what is normally done in the Tomcat application server `context.xml`.\r\n\r\n**Do the lookup**\r\n\r\nThen the rest of your application can create `InitialContext`s and do `lookup`s as normal (in a single `lookup` call):\r\n\r\n    Context ic = new InitialContext();\r\n    DataSource ds = (DataSource)ic.lookup(&quot;java:/comp/env/jdbc/testdb&quot;);\r\n\r\n\r\n  [1]: https://web.archive.org/web/20140530014804/https://blogs.oracle.com/randystuph/entry/injecting_jndi_datasources_for_junit","title":"Initialcontext in a standalone Java program","body":"<p>You can configure a standalone app (or unit tests!) to use your server's <code>INITIAL_CONTEXT_FACTORY</code> without running the server.</p>\n<p>This is how to do that for a <strong>Apache Tomcat</strong> initialization, <em>but you should have enough information to adapt it for another server</em>.</p>\n<p><strong>Starting configuration from the server</strong></p>\n<p>This example presumes you want to mimic something like this from your <code>context.xml</code> file:</p>\n<pre><code>&lt;Resource name=&quot;jdbc/testdb&quot; auth=&quot;Container&quot;\n  type=&quot;javax.sql.DataSource&quot;\n  driverClassName=&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;\n  username=&quot;someuser&quot; password=&quot;somepassword&quot;\n  url=&quot;jdbc:sqlserver://localhost\\SQLEXPRESS;databaseName=somedb;applicationName=someapp&quot;/&gt;\n</code></pre>\n<p><strong>Create the resource to go into the Context</strong></p>\n<p>This example is database specific, <em>but you can put things other than a <code>DataSource</code> in the Context</em>.  Here is one way you might be able to create a <code>DataSource</code> for this SQL Server example. (It requires the JDBC driver and <code>tomcat-dbcp.jar</code> in your classpath.  This code is for an older version of the driver, new versions probably have <code>SQLServerXADataSource</code> and would not need <code>tomcat-dbcp.jar</code>.)</p>\n<pre><code>BasicDataSource dataSource = new BasicDataSource();\ndataSource.setDriverClassName(SQLServerDriver.class.getName());\ndataSource.setUrl(url);\ndataSource.setUsername(getUserName());\ndataSource.setPassword(getPassword());\n</code></pre>\n<p><strong>Initialize using Tomcat INITIAL_CONTEXT_FACTORY</strong></p>\n<p>See <a href=\"https://web.archive.org/web/20140530014804/https://blogs.oracle.com/randystuph/entry/injecting_jndi_datasources_for_junit\" rel=\"nofollow noreferrer\">this old blog post</a>.</p>\n<pre><code>System.setProperty(Context.INITIAL_CONTEXT_FACTORY,\n        &quot;org.apache.naming.java.javaURLContextFactory&quot;);\nSystem.setProperty(Context.URL_PKG_PREFIXES, &quot;org.apache.naming&quot;);\nInitialContext ctxt = new InitialContext();`\n</code></pre>\n<p>The reference to <code>org.apache.naming.java.javaURLContextFactory</code> means you should have <code>catalina.jar</code> in your classpath.  <em>You should be able to find variants for the <code>INITIAL_CONTEXT_FACTORY</code> and <code>URL_PGK_PREFIXES</code> values for other application servers.</em></p>\n<p><strong>Register the resource for future lookups</strong></p>\n<p>Then register your <code>DataSource dataSource</code> for future lookups, at <code>java:/comp/env/jdbc/testdb</code>.  Unfortunately, you have to make sure all the intermediate subcontext levels are created before you can add the resource. (Exercise for the reader: You can create a method to figure out the subcontext names from the <code>resourceName</code> instead of hard-coding the list as this example does.)</p>\n<pre><code>// Create all the intermediate levels\nfor (String resource : new String[]{ &quot;java:&quot;, &quot;java:comp&quot;, &quot;java:comp/env&quot;, &quot;java:/comp/env/jdbc&quot; })\n{\n    try\n    {\n        ctxt.lookup(subContext);\n    }\n    catch (NameNotFoundException nnfe)\n    {\n        ctxt.createSubcontext(subContext);\n    }\n}\n\n// Finally, register the resource\nctxt.bind(resourceName, dataSource);\n</code></pre>\n<p>This completes the setup portion, mimicking what is normally done in the Tomcat application server <code>context.xml</code>.</p>\n<p><strong>Do the lookup</strong></p>\n<p>Then the rest of your application can create <code>InitialContext</code>s and do <code>lookup</code>s as normal (in a single <code>lookup</code> call):</p>\n<pre><code>Context ic = new InitialContext();\nDataSource ds = (DataSource)ic.lookup(&quot;java:/comp/env/jdbc/testdb&quot;);\n</code></pre>\n"}],"owner":{"account_id":3301570,"reputation":619,"user_id":2777616,"accept_rate":29,"display_name":"Satish Jonnala"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47470,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":20359973,"answer_count":7,"score":26,"last_activity_date":1643901729,"creation_date":1386097413,"question_id":20359483,"body_markdown":"I&#39;m using a JNDI for creating connection pool. It works great in a web application. I believe the InitialContext is provided by the tomcat server.\r\n\r\n    Context initContext  = new InitialContext();\r\n    Context envContext  = (Context)initContext.lookup(&quot;java:/comp/env&quot;);\r\n    dataSource = (DataSource)envContext.lookup(&quot;jdbc/testdb&quot;);\r\n\r\nBut when I try to call the same utility from a standalone Java program, the initContext object  is null. How can I explicitly provide all the necessary properties that Context object is expecting.\r\n\r\n&gt; Error : javax.naming.NoInitialContextException: Need to specify class\r\n&gt; name in environment or system property, or as an applet parameter, or\r\n&gt; in an application resource file:  java.naming.factory.initial\r\n\r\n","title":"Initialcontext in a standalone Java program","body":"<p>I'm using a JNDI for creating connection pool. It works great in a web application. I believe the InitialContext is provided by the tomcat server.</p>\n<pre><code>Context initContext  = new InitialContext();\nContext envContext  = (Context)initContext.lookup(&quot;java:/comp/env&quot;);\ndataSource = (DataSource)envContext.lookup(&quot;jdbc/testdb&quot;);\n</code></pre>\n<p>But when I try to call the same utility from a standalone Java program, the initContext object  is null. How can I explicitly provide all the necessary properties that Context object is expecting.</p>\n<blockquote>\n<p>Error : javax.naming.NoInitialContextException: Need to specify class\nname in environment or system property, or as an applet parameter, or\nin an application resource file:  java.naming.factory.initial</p>\n</blockquote>\n"},{"tags":["java","spring","spring-boot","spring-restcontroller"],"answers":[{"tags":[],"owner":{"account_id":15014315,"reputation":634,"user_id":10837776,"display_name":"Ibrahim AlTamimi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643901613,"creation_date":1643901613,"answer_id":70973838,"question_id":70973629,"body_markdown":"Use your custom handler, when the validation throws a constraint violation exception (`javax.validation.ConstraintViolationException`) handle it using a custom exception handler, so; you can simplify the response based on the usage.\r\n\r\nFor example:\r\n\r\n```java\r\n\r\n@ControllerAdvice\r\npublic class SampleApiExceptionHandler extends ResponseEntityExceptionHandler {\r\n    @ExceptionHandler\r\n    public ResponseEntity&lt;???&gt; handle(ConstraintViolationException ex) {\r\n        LOGGER.error(&quot;Domain violation error&quot;, ex);\r\n        return badRequest().body(&quot;YOUR_RESPONSE_BODY&quot;);\r\n    }\r\n}\r\n\r\n```","title":"Straightforward way of simplifying javax validation notations message","body":"<p>Use your custom handler, when the validation throws a constraint violation exception (<code>javax.validation.ConstraintViolationException</code>) handle it using a custom exception handler, so; you can simplify the response based on the usage.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@ControllerAdvice\npublic class SampleApiExceptionHandler extends ResponseEntityExceptionHandler {\n    @ExceptionHandler\n    public ResponseEntity&lt;???&gt; handle(ConstraintViolationException ex) {\n        LOGGER.error(&quot;Domain violation error&quot;, ex);\n        return badRequest().body(&quot;YOUR_RESPONSE_BODY&quot;);\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":9949128,"reputation":1376,"user_id":8286276,"accept_rate":77,"display_name":"Pelicer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643901613,"creation_date":1643900693,"question_id":70973629,"body_markdown":"I&#39;ve read several answers and question on how to custom handle validation errors on API request. However, it all seem a bit overkill. I have a simple object that is excepect in my endpoint:\r\n\r\n    @NotNull(message = &quot;A target group must be provided&quot;)\r\n    @NotBlank(message = &quot;Target group cannot be blank&quot;)\r\n    private String targetGroup;\r\n\r\n    @NotNull(message = &quot;A target entity must be provided&quot;)\r\n    @NotBlank(message = &quot;Target entity cannot be blank&quot;)\r\n    private String targetEntity;\r\n\r\n    @NotNull(message = &quot;A target entity identifier must be provided&quot;)\r\n    @NotBlank(message = &quot;Target entity identifier cannot be blank&quot;)\r\n    private String targetEntityIdentifier;\r\n\r\n    @NotNull(message = &quot;A content must be provided&quot;)\r\n    @NotBlank(message = &quot;Content cannot be blank&quot;)\r\n    private String content;\r\n\r\nAnd the error thrown when I send a null or blank value is:\r\n\r\n    {\r\n        &quot;timestamp&quot;: &quot;2022-02-03T15:01:43.296+00:00&quot;,\r\n        &quot;status&quot;: 400,\r\n        &quot;error&quot;: &quot;Bad Request&quot;,\r\n        &quot;message&quot;: &quot;JSON parse error: Cannot construct instance of `com.foo.notification.adapter.in.web.request.NotificationItemRequest`, problem: targetGroup: Target group cannot be blank, targetGroup: A target group must be provided; nested exception is com.fasterxml.jackson.databind.exc.ValueInstantiationException: Cannot construct instance of `com.foo.notification.adapter.in.web.request.NotificationItemRequest`, problem: targetGroup: Target group cannot be blank, targetGroup: A target group must be provided\\n at [Source: (PushbackInputStream); line: 5, column: 1]&quot;,\r\n        &quot;path&quot;: &quot;/notification&quot;\r\n    }\r\n\r\nThis message is a bit too much to deliver to an front-end. Simply what they need is &#39;Target group cannot be blank&#39;. I want to transform the message above into the following:\r\n\r\n    {\r\n        &quot;timestamp&quot;: &quot;2022-02-03T15:01:43.296+00:00&quot;,\r\n        &quot;status&quot;: 400,\r\n        &quot;error&quot;: &quot;Bad Request&quot;,\r\n        &quot;message&quot;: &quot;A target group must be provided&quot;,\r\n        &quot;path&quot;: &quot;/notification&quot;\r\n    }\r\n\r\nHow can I accomplish that?","title":"Straightforward way of simplifying javax validation notations message","body":"<p>I've read several answers and question on how to custom handle validation errors on API request. However, it all seem a bit overkill. I have a simple object that is excepect in my endpoint:</p>\n<pre><code>@NotNull(message = &quot;A target group must be provided&quot;)\n@NotBlank(message = &quot;Target group cannot be blank&quot;)\nprivate String targetGroup;\n\n@NotNull(message = &quot;A target entity must be provided&quot;)\n@NotBlank(message = &quot;Target entity cannot be blank&quot;)\nprivate String targetEntity;\n\n@NotNull(message = &quot;A target entity identifier must be provided&quot;)\n@NotBlank(message = &quot;Target entity identifier cannot be blank&quot;)\nprivate String targetEntityIdentifier;\n\n@NotNull(message = &quot;A content must be provided&quot;)\n@NotBlank(message = &quot;Content cannot be blank&quot;)\nprivate String content;\n</code></pre>\n<p>And the error thrown when I send a null or blank value is:</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2022-02-03T15:01:43.296+00:00&quot;,\n    &quot;status&quot;: 400,\n    &quot;error&quot;: &quot;Bad Request&quot;,\n    &quot;message&quot;: &quot;JSON parse error: Cannot construct instance of `com.foo.notification.adapter.in.web.request.NotificationItemRequest`, problem: targetGroup: Target group cannot be blank, targetGroup: A target group must be provided; nested exception is com.fasterxml.jackson.databind.exc.ValueInstantiationException: Cannot construct instance of `com.foo.notification.adapter.in.web.request.NotificationItemRequest`, problem: targetGroup: Target group cannot be blank, targetGroup: A target group must be provided\\n at [Source: (PushbackInputStream); line: 5, column: 1]&quot;,\n    &quot;path&quot;: &quot;/notification&quot;\n}\n</code></pre>\n<p>This message is a bit too much to deliver to an front-end. Simply what they need is 'Target group cannot be blank'. I want to transform the message above into the following:</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2022-02-03T15:01:43.296+00:00&quot;,\n    &quot;status&quot;: 400,\n    &quot;error&quot;: &quot;Bad Request&quot;,\n    &quot;message&quot;: &quot;A target group must be provided&quot;,\n    &quot;path&quot;: &quot;/notification&quot;\n}\n</code></pre>\n<p>How can I accomplish that?</p>\n"},{"tags":["java","mysql","database"],"answers":[{"tags":[],"owner":{"account_id":24145112,"reputation":11,"user_id":18110849,"display_name":"roach"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643901611,"creation_date":1643901611,"answer_id":70973837,"question_id":70973054,"body_markdown":"Are you want grouping players, if there are same bets_id?\r\nIf this is right, see below code\r\n\r\n```java\r\n        while (rs.next()) {\r\n            int betsID = rs.getInt(&quot;bets_id&quot;);\r\n            int playerID = rs.getInt(&quot;players_id&quot;);\r\n            int position = rs.getInt(&quot;position&quot;);\r\n            int playerBet = (rs.getInt(&quot;player_bet&quot;));\r\n            \r\n            StringBuilder sb = null;\r\n            \r\n            if (records.containsKey(betsID)) {\r\n                sb = records.get(betsID);\r\n            } else {\r\n                sb = new StringBuilder();\r\n            }\r\n\r\n            sb.append(&quot; player &quot; + playerID + &quot; finished &quot; + position + &quot; and voted for &quot; + playerBet);\r\n\r\n            records.put(betsID, sb);\r\n        }\r\n\r\n        records.forEach((key, value) -&gt; {\r\n            System.out.println(&quot;Bets &quot; + key + value);\r\n        });\r\n```","title":"Java iterating through MySQL database","body":"<p>Are you want grouping players, if there are same bets_id?\nIf this is right, see below code</p>\n<pre class=\"lang-java prettyprint-override\"><code>        while (rs.next()) {\n            int betsID = rs.getInt(&quot;bets_id&quot;);\n            int playerID = rs.getInt(&quot;players_id&quot;);\n            int position = rs.getInt(&quot;position&quot;);\n            int playerBet = (rs.getInt(&quot;player_bet&quot;));\n            \n            StringBuilder sb = null;\n            \n            if (records.containsKey(betsID)) {\n                sb = records.get(betsID);\n            } else {\n                sb = new StringBuilder();\n            }\n\n            sb.append(&quot; player &quot; + playerID + &quot; finished &quot; + position + &quot; and voted for &quot; + playerBet);\n\n            records.put(betsID, sb);\n        }\n\n        records.forEach((key, value) -&gt; {\n            System.out.println(&quot;Bets &quot; + key + value);\n        });\n</code></pre>\n"}],"owner":{"account_id":9634940,"reputation":17,"user_id":7151399,"display_name":"Daniel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643901611,"creation_date":1643898581,"question_id":70973054,"body_markdown":"In java using JDBC I am trying to connect to 3 databases I created in MySQL. Below is a snippet of what each database looks like and their keys. Left table is titled &#39;bets, right &#39;players&#39; and bottom &#39;standings&#39;.\r\n\r\n[![3 databases with keys][1]][1]\r\n\r\n\r\nI want to extract from the tables each players bet/position for 1 bet.\r\n\r\nFor instance a simple System.out.println that will says &quot;For bet 1, player (player_id) came in (position) and bet on player (player_id)&quot;. \r\n\r\nI&#39;ve done initally a simple variation of this\r\n\r\n    String standingsTable = CreateStatement.CreateStatement(&quot;*&quot;, &quot;standings&quot;, null);\r\n\r\n    PreparedStatement ps = connection.prepareStatement(standingsTable);\r\n    ResultSet rs = ps.executeQuery();\r\n\r\n    while (rs.next()) {\r\n       int betsID = rs.getInt(&quot;bets_id&quot;);\r\n       int playerID = rs.getInt(&quot;players_id&quot;);\r\n       int position = rs.getInt(&quot;position&quot;);\r\n       int playerBet = (rs.getInt(&quot;player_bet&quot;));\r\n \r\n       System.out.println(&quot;Bet &quot; + betsID + &quot; player &quot; + playerID + &quot; finished &quot; + position + &quot; and voted for &quot; + playerBet ); }\r\n\r\nHowever this would print out the below results \r\n\r\n[![Code results][2]][2]\r\n\r\n\r\nIf possible I instead would want one line to be like \r\n\r\n&quot;Bet 1 player 1 finished 0 and voted for 3, player 2 finished 1 and voted for 1, player 3 finished 2 and voted for 2&quot;. \r\n\r\nSo to have each players record for each bet as a unit rather than 3 seperate entries. If i&#39;m not making it clear enough please say and I will try to clear it up further what I&#39;m requesting.\r\n\r\n  [1]: https://i.stack.imgur.com/f2SBZ.png\r\n  [2]: https://i.stack.imgur.com/oa2K5.png","title":"Java iterating through MySQL database","body":"<p>In java using JDBC I am trying to connect to 3 databases I created in MySQL. Below is a snippet of what each database looks like and their keys. Left table is titled 'bets, right 'players' and bottom 'standings'.</p>\n<p><a href=\"https://i.stack.imgur.com/f2SBZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f2SBZ.png\" alt=\"3 databases with keys\" /></a></p>\n<p>I want to extract from the tables each players bet/position for 1 bet.</p>\n<p>For instance a simple System.out.println that will says &quot;For bet 1, player (player_id) came in (position) and bet on player (player_id)&quot;.</p>\n<p>I've done initally a simple variation of this</p>\n<pre><code>String standingsTable = CreateStatement.CreateStatement(&quot;*&quot;, &quot;standings&quot;, null);\n\nPreparedStatement ps = connection.prepareStatement(standingsTable);\nResultSet rs = ps.executeQuery();\n\nwhile (rs.next()) {\n   int betsID = rs.getInt(&quot;bets_id&quot;);\n   int playerID = rs.getInt(&quot;players_id&quot;);\n   int position = rs.getInt(&quot;position&quot;);\n   int playerBet = (rs.getInt(&quot;player_bet&quot;));\n\n   System.out.println(&quot;Bet &quot; + betsID + &quot; player &quot; + playerID + &quot; finished &quot; + position + &quot; and voted for &quot; + playerBet ); }\n</code></pre>\n<p>However this would print out the below results</p>\n<p><a href=\"https://i.stack.imgur.com/oa2K5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oa2K5.png\" alt=\"Code results\" /></a></p>\n<p>If possible I instead would want one line to be like</p>\n<p>&quot;Bet 1 player 1 finished 0 and voted for 3, player 2 finished 1 and voted for 1, player 3 finished 2 and voted for 2&quot;.</p>\n<p>So to have each players record for each bet as a unit rather than 3 seperate entries. If i'm not making it clear enough please say and I will try to clear it up further what I'm requesting.</p>\n"},{"tags":["java","environment-variables"],"comments":[{"owner":{"account_id":11597557,"reputation":469,"user_id":8495832,"display_name":"SYED MUSTAFA HUSSAIN"},"score":2,"creation_date":1643901628,"post_id":70973802,"comment_id":125467100,"body_markdown":"you can change JDK from your ide setting","body":"you can change JDK from your ide setting"},{"owner":{"account_id":12469735,"reputation":13915,"user_id":9078341,"display_name":"Randy Casburn"},"score":1,"creation_date":1643901819,"post_id":70973802,"comment_id":125467182,"body_markdown":"See the accepted answer to [this question](https://stackoverflow.com/questions/54756951/how-do-i-change-the-java-version-fro-sts4)","body":"See the accepted answer to <a href=\"https://stackoverflow.com/questions/54756951/how-do-i-change-the-java-version-fro-sts4\">this question</a>"},{"owner":{"account_id":23246470,"reputation":541,"user_id":17335001,"display_name":"nquincampoix"},"score":0,"creation_date":1643901861,"post_id":70973802,"comment_id":125467206,"body_markdown":"Do you have a `~/.bash_profile` in your git bash ?","body":"Do you have a <code>~&#47;.bash_profile</code> in your git bash ?"}],"owner":{"account_id":16811904,"reputation":169,"user_id":12154734,"display_name":"JCP"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643901451,"creation_date":1643901451,"question_id":70973802,"body_markdown":"I am getting Gradle build errors and my theory is, it&#39;s because of the JDK version I&#39;m using. My JAVA_HOME is set to JDK 8 and the command prompt reflects this:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nIf I run git bash terminal from my STS4 IDE, it returns JDK 17:[![enter image description here][2]][2] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/W229E.png\r\n  [2]: https://i.stack.imgur.com/5HkHM.png\r\n\r\nHow is this possible? Yes, I have my environment variables pointing to JDK 8 ( this is the desired version) and the path is listed FIRST. For some reason, my IDE is picking up version 17. Lastly, yes I have reopened my IDE/command prompt since making these changes.\r\n\r\nAny ideas/explanations would be greatly appreciated! Thanks in advance.","title":"Why different java versions from terminal/IDE?","body":"<p>I am getting Gradle build errors and my theory is, it's because of the JDK version I'm using. My JAVA_HOME is set to JDK 8 and the command prompt reflects this:\n<a href=\"https://i.stack.imgur.com/W229E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W229E.png\" alt=\"enter image description here\" /></a></p>\n<p>If I run git bash terminal from my STS4 IDE, it returns JDK 17:<a href=\"https://i.stack.imgur.com/5HkHM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5HkHM.png\" alt=\"enter image description here\" /></a></p>\n<p>How is this possible? Yes, I have my environment variables pointing to JDK 8 ( this is the desired version) and the path is listed FIRST. For some reason, my IDE is picking up version 17. Lastly, yes I have reopened my IDE/command prompt since making these changes.</p>\n<p>Any ideas/explanations would be greatly appreciated! Thanks in advance.</p>\n"},{"tags":["java","websocket","java-websocket"],"answers":[{"tags":[],"owner":{"account_id":1203958,"reputation":18288,"user_id":1174054,"accept_rate":38,"display_name":"Takahiko Kawasaki"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1435641642,"creation_date":1435641642,"answer_id":31130128,"question_id":31115205,"body_markdown":"&lt;code&gt;[ClientEndpointConfig][1].[Configurator][2].[beforeRequest][3](Map&amp;lt;String,List&amp;lt;String&amp;gt;&amp;gt; &lt;b&gt;headers&lt;/b&gt;)&lt;/code&gt; may be usable.\r\n\r\nThe JavaDoc about the argument &lt;code&gt;&lt;b&gt;headers&lt;/b&gt;&lt;/code&gt; says as follows:\r\n\r\n&lt;blockquote&gt;\r\n&lt;i&gt;the &lt;b&gt;mutable&lt;/b&gt; map of handshake request headers the implementation is about to send to start the handshake interaction.&lt;/i&gt;\r\n&lt;/blockquote&gt;\r\n\r\nSo, why don&#39;t you override &lt;code&gt;&lt;b&gt;[beforeRequest][4]&lt;/b&gt;&lt;/code&gt; method like below?\r\n\r\n    @Override\r\n    public void beforeRequest(Map&lt;String,List&lt;String&gt;&gt; headers)\r\n    {\r\n        List&lt;String&gt; values = new ArrayList&lt;String&gt;();\r\n        values.add(&quot;My Value&quot;);\r\n\r\n        headers.put(&quot;X-My-Custom-Header&quot;, values);\r\n    }\r\n\r\nYou can pass &lt;code&gt;[ClientEndpointConfig][5]&lt;/code&gt; to &lt;code&gt;[connectToServer][6](Class&amp;lt;? extends Endpoint&amp;gt; endpointClass, [ClientEndpointConfig][7] cec, URI path)&lt;/code&gt;.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/7/api/javax/websocket/ClientEndpointConfig.html\r\n  [2]: http://docs.oracle.com/javaee/7/api/javax/websocket/ClientEndpointConfig.Configurator.html\r\n  [3]: http://docs.oracle.com/javaee/7/api/javax/websocket/ClientEndpointConfig.Configurator.html#beforeRequest(java.util.Map)\r\n  [4]: http://docs.oracle.com/javaee/7/api/javax/websocket/ClientEndpointConfig.Configurator.html#beforeRequest(java.util.Map)\r\n  [5]: http://docs.oracle.com/javaee/7/api/javax/websocket/ClientEndpointConfig.html\r\n  [6]: http://docs.oracle.com/javaee/7/api/javax/websocket/WebSocketContainer.html#connectToServer(java.lang.Class,%20javax.websocket.ClientEndpointConfig,%20java.net.URI)\r\n  [7]: http://docs.oracle.com/javaee/7/api/javax/websocket/ClientEndpointConfig.html","title":"How to add headers in Java Websocket client","body":"<p><code><a href=\"http://docs.oracle.com/javaee/7/api/javax/websocket/ClientEndpointConfig.html\">ClientEndpointConfig</a>.<a href=\"http://docs.oracle.com/javaee/7/api/javax/websocket/ClientEndpointConfig.Configurator.html\">Configurator</a>.<a href=\"http://docs.oracle.com/javaee/7/api/javax/websocket/ClientEndpointConfig.Configurator.html#beforeRequest(java.util.Map)\">beforeRequest</a>(Map&lt;String,List&lt;String&gt;&gt; <b>headers</b>)</code> may be usable.</p>\n\n<p>The JavaDoc about the argument <code><b>headers</b></code> says as follows:</p>\n\n<blockquote>\n<i>the <b>mutable</b> map of handshake request headers the implementation is about to send to start the handshake interaction.</i>\n</blockquote>\n\n<p>So, why don't you override <code><b><a href=\"http://docs.oracle.com/javaee/7/api/javax/websocket/ClientEndpointConfig.Configurator.html#beforeRequest(java.util.Map)\">beforeRequest</a></b></code> method like below?</p>\n\n<pre><code>@Override\npublic void beforeRequest(Map&lt;String,List&lt;String&gt;&gt; headers)\n{\n    List&lt;String&gt; values = new ArrayList&lt;String&gt;();\n    values.add(\"My Value\");\n\n    headers.put(\"X-My-Custom-Header\", values);\n}\n</code></pre>\n\n<p>You can pass <code><a href=\"http://docs.oracle.com/javaee/7/api/javax/websocket/ClientEndpointConfig.html\">ClientEndpointConfig</a></code> to <code><a href=\"http://docs.oracle.com/javaee/7/api/javax/websocket/WebSocketContainer.html#connectToServer(java.lang.Class,%20javax.websocket.ClientEndpointConfig,%20java.net.URI)\">connectToServer</a>(Class&lt;? extends Endpoint&gt; endpointClass, <a href=\"http://docs.oracle.com/javaee/7/api/javax/websocket/ClientEndpointConfig.html\">ClientEndpointConfig</a> cec, URI path)</code>.</p>\n"},{"tags":[],"owner":{"account_id":1775018,"reputation":61,"user_id":1618949,"display_name":"sky54521"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1507658759,"creation_date":1507658759,"answer_id":46673169,"question_id":31115205,"body_markdown":"    public class Config extends ClientEndpointConfig.Configurator{\r\n        @Override\r\n        public void beforeRequest(Map&lt;String, List&lt;String&gt;&gt; headers) {\r\n            headers.put(&quot;Pragma&quot;, Arrays.asList(&quot;no-cache&quot;));\r\n            headers.put(&quot;Origin&quot;, Arrays.asList(&quot;https://www.bcex.ca&quot;));\r\n            headers.put(&quot;Accept-Encoding&quot;, Arrays.asList(&quot;gzip, deflate, br&quot;));\r\n            headers.put(&quot;Accept-Language&quot;, Arrays.asList(&quot;en-US,en;q=0.8,zh-CN;q=0.6,zh;q=0.4&quot;));\r\n            headers.put(&quot;User-Agent&quot;, Arrays.asList(&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.100 Safari/537.36&quot;));\r\n            headers.put(&quot;Upgrade&quot;, Arrays.asList(&quot;websocket&quot;));\r\n            headers.put(&quot;Cache-Control&quot;, Arrays.asList(&quot;no-cache&quot;));\r\n            headers.put(&quot;Connection&quot;, Arrays.asList(&quot;Upgrade&quot;));\r\n            headers.put(&quot;Sec-WebSocket-Version&quot;, Arrays.asList(&quot;13&quot;));\r\n        }\r\n        \r\n        @Override\r\n        public void afterResponse(HandshakeResponse hr) {\r\n            Map&lt;String, List&lt;String&gt;&gt; headers = hr.getHeaders();\r\n            log.info(&quot;headers -&gt; &quot;+headers);\r\n        }\r\n    }","title":"How to add headers in Java Websocket client","body":"<pre><code>public class Config extends ClientEndpointConfig.Configurator{\n    @Override\n    public void beforeRequest(Map&lt;String, List&lt;String&gt;&gt; headers) {\n        headers.put(\"Pragma\", Arrays.asList(\"no-cache\"));\n        headers.put(\"Origin\", Arrays.asList(\"https://www.bcex.ca\"));\n        headers.put(\"Accept-Encoding\", Arrays.asList(\"gzip, deflate, br\"));\n        headers.put(\"Accept-Language\", Arrays.asList(\"en-US,en;q=0.8,zh-CN;q=0.6,zh;q=0.4\"));\n        headers.put(\"User-Agent\", Arrays.asList(\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.100 Safari/537.36\"));\n        headers.put(\"Upgrade\", Arrays.asList(\"websocket\"));\n        headers.put(\"Cache-Control\", Arrays.asList(\"no-cache\"));\n        headers.put(\"Connection\", Arrays.asList(\"Upgrade\"));\n        headers.put(\"Sec-WebSocket-Version\", Arrays.asList(\"13\"));\n    }\n\n    @Override\n    public void afterResponse(HandshakeResponse hr) {\n        Map&lt;String, List&lt;String&gt;&gt; headers = hr.getHeaders();\n        log.info(\"headers -&gt; \"+headers);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4355372,"reputation":396,"user_id":3554203,"accept_rate":60,"display_name":"tissa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1581697020,"creation_date":1581697020,"answer_id":60229947,"question_id":31115205,"body_markdown":"    Builder configBuilder = ClientEndpointConfig.Builder.create();\r\n    configBuilder.configurator(new Configurator() {\r\n        @Override\r\n        public void beforeRequest(Map&lt;String, List&lt;String&gt;&gt; headers) {\r\n    \theaders.put(&quot;Cookie&quot;, Arrays.asList(&quot;JSESSIONID=&quot; + sessionID));\r\n        }\r\n    });\r\n    ClientEndpointConfig clientConfig = configBuilder.build();\r\n    webSocketContainer.connectToServer(MyClientEndpoint.class, clientConfig, new URI(uri));","title":"How to add headers in Java Websocket client","body":"<pre><code>Builder configBuilder = ClientEndpointConfig.Builder.create();\nconfigBuilder.configurator(new Configurator() {\n    @Override\n    public void beforeRequest(Map&lt;String, List&lt;String&gt;&gt; headers) {\n    headers.put(\"Cookie\", Arrays.asList(\"JSESSIONID=\" + sessionID));\n    }\n});\nClientEndpointConfig clientConfig = configBuilder.build();\nwebSocketContainer.connectToServer(MyClientEndpoint.class, clientConfig, new URI(uri));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9761453,"reputation":127,"user_id":7236415,"display_name":"Tonecops"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1590031102,"creation_date":1590030800,"answer_id":61926558,"question_id":31115205,"body_markdown":"Update 2020. This is how IntelliJ community proposed it:\r\n\r\n  \r\n  \r\n\r\n      public WsClient(String uri) throws Exception {\r\n\r\n        ClientEndpointConfig.Builder configBuilder = ClientEndpointConfig.Builder.create();\r\n\r\n        configBuilder.configurator(new ClientEndpointConfig.Configurator() {\r\n            public void beforeRequest(Map&lt;String, List&lt;String&gt;&gt; headers) {\r\n                headers.put(&quot;FriendlyName&quot;, Arrays.asList(&quot;TakaTurautin&quot;));\r\n            }\r\n        });\r\n        ClientEndpointConfig clientConfig = configBuilder.build();\r\n        WebSocketContainer container = ContainerProvider.getWebSocketContainer();\r\n\r\n        container.connectToServer(this, clientConfig, URI.create(uri));\r\n\r\n    }\r\n\r\n  \r\n","title":"How to add headers in Java Websocket client","body":"<p>Update 2020. This is how IntelliJ community proposed it:</p>\n\n<pre><code>  public WsClient(String uri) throws Exception {\n\n    ClientEndpointConfig.Builder configBuilder = ClientEndpointConfig.Builder.create();\n\n    configBuilder.configurator(new ClientEndpointConfig.Configurator() {\n        public void beforeRequest(Map&lt;String, List&lt;String&gt;&gt; headers) {\n            headers.put(\"FriendlyName\", Arrays.asList(\"TakaTurautin\"));\n        }\n    });\n    ClientEndpointConfig clientConfig = configBuilder.build();\n    WebSocketContainer container = ContainerProvider.getWebSocketContainer();\n\n    container.connectToServer(this, clientConfig, URI.create(uri));\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9658794,"reputation":11,"user_id":7167531,"display_name":"Sankar Ganesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643901241,"creation_date":1643900772,"answer_id":70973642,"question_id":31115205,"body_markdown":"I tried the similar code as below \r\n\r\n    webSocketContainer.connectToServer(MyClientEndpoint.class, clientConfig, new URI(uri));\r\n\r\nHere &#39;MyClientEndpoint&#39; extends Endpoint (it should as per the method specification).\r\nBut there is no `@OnMessage` event listener available in Endpoint class.. If I simply use `webSocketContainer.connectToServer(this, new URI(uri))`;, without client configuration, I&#39;m getting authorization issue. Kindly advise.","title":"How to add headers in Java Websocket client","body":"<p>I tried the similar code as below</p>\n<pre><code>webSocketContainer.connectToServer(MyClientEndpoint.class, clientConfig, new URI(uri));\n</code></pre>\n<p>Here 'MyClientEndpoint' extends Endpoint (it should as per the method specification).\nBut there is no <code>@OnMessage</code> event listener available in Endpoint class.. If I simply use <code>webSocketContainer.connectToServer(this, new URI(uri))</code>;, without client configuration, I'm getting authorization issue. Kindly advise.</p>\n"}],"owner":{"account_id":1437465,"reputation":6412,"user_id":1358536,"accept_rate":90,"display_name":"kavai77"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17172,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":31130128,"answer_count":5,"score":14,"last_activity_date":1643901241,"creation_date":1435579366,"question_id":31115205,"body_markdown":"I am connecting to a websocket server in Java using `javax.websocket` classes.\r\n\r\n    import javax.websocket.DeploymentException;\r\n    import javax.websocket.Session;\r\n    import javax.websocket.WebSocketContainer;\r\n    import java.io.IOException;\r\n    import java.net.URI;\r\n\r\n    public class WSClient {\r\n        private WebSocketContainer webSocketContainer;\r\n    \r\n        public void sendMessage(URI endpointURI, String message) throws IOException, DeploymentException {\r\n            Session session = webSocketContainer.connectToServer(MyClientEndpoint.class, endpointURI);\r\n            session.getAsyncRemote().sendText(message);\r\n        }\r\n    }\r\n\r\nFor the initial HTTP handshake I want to add extra HTTP Headers to the request on the ***Client side***\r\n\r\nIs this possible?\r\n\r\nI know that this is possible on server side using `ServerEndpointConfig.Configurator.modifyHandshake`. Is there a similar solution on client side?","title":"How to add headers in Java Websocket client","body":"<p>I am connecting to a websocket server in Java using <code>javax.websocket</code> classes.</p>\n\n<pre><code>import javax.websocket.DeploymentException;\nimport javax.websocket.Session;\nimport javax.websocket.WebSocketContainer;\nimport java.io.IOException;\nimport java.net.URI;\n\npublic class WSClient {\n    private WebSocketContainer webSocketContainer;\n\n    public void sendMessage(URI endpointURI, String message) throws IOException, DeploymentException {\n        Session session = webSocketContainer.connectToServer(MyClientEndpoint.class, endpointURI);\n        session.getAsyncRemote().sendText(message);\n    }\n}\n</code></pre>\n\n<p>For the initial HTTP handshake I want to add extra HTTP Headers to the request on the <strong><em>Client side</em></strong></p>\n\n<p>Is this possible?</p>\n\n<p>I know that this is possible on server side using <code>ServerEndpointConfig.Configurator.modifyHandshake</code>. Is there a similar solution on client side?</p>\n"},{"tags":["java","arrays","list"],"comments":[{"owner":{"account_id":1189417,"reputation":30924,"user_id":1162620,"accept_rate":70,"display_name":"Ravi"},"score":0,"creation_date":1499351922,"post_id":44951957,"comment_id":76879186,"body_markdown":"the most basic way might be loop ?","body":"the most basic way might be loop ?"},{"owner":{"account_id":2507550,"reputation":10975,"user_id":2180785,"accept_rate":90,"display_name":"Frakcool"},"score":1,"creation_date":1499351958,"post_id":44951957,"comment_id":76879219,"body_markdown":"I am not sure why you ask a question and then VTC as a duplicate of another question...","body":"I am not sure why you ask a question and then VTC as a duplicate of another question..."},{"owner":{"account_id":1008660,"reputation":13673,"user_id":1021725,"accept_rate":75,"display_name":"David Brossard"},"score":0,"creation_date":1499351984,"post_id":44951957,"comment_id":76879239,"body_markdown":"@Frakcool, yeah I thought it was the same but it is not...","body":"@Frakcool, yeah I thought it was the same but it is not..."},{"owner":{"account_id":1008660,"reputation":13673,"user_id":1021725,"accept_rate":75,"display_name":"David Brossard"},"score":0,"creation_date":1499352140,"post_id":44951957,"comment_id":76879362,"body_markdown":"@Ravi is that the only way? Seems too simple but then again...","body":"@Ravi is that the only way? Seems too simple but then again..."},{"owner":{"account_id":1189417,"reputation":30924,"user_id":1162620,"accept_rate":70,"display_name":"Ravi"},"score":1,"creation_date":1499352242,"post_id":44951957,"comment_id":76879450,"body_markdown":"@DavidBrossard as you mentioned *What about more basic ways*. Then, YES.","body":"@DavidBrossard as you mentioned <i>What about more basic ways</i>. Then, YES."}],"answers":[{"tags":[],"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1555319005,"creation_date":1499352222,"answer_id":44952144,"question_id":44951957,"body_markdown":"One way without Java 8 streams:\r\n\r\n    public boolean containsAtLeastOne( List&lt;String&gt; a, String[] b ) {\r\n        Set&lt;String&gt; aSet = new HashSet( a );\r\n        for ( s : b ) {\r\n           if ( aSet.contains( s ) ) {\r\n               return true;\r\n           }\r\n        }\r\n        return false;\r\n    }\r\n\r\nAnother way:\r\n\r\n     public boolean containsAtLeastOne( List&lt;String&gt; a, String[] b ) {\r\n        Set&lt;String&gt; aSet = new HashSet( a );\r\n        List&lt;String&gt; bList = Arrays.asList(b);\r\n\r\n        bList.retainAll( aSet );\r\n   \r\n        return 0 &lt; bList.size();\r\n     }\r\n","title":"Quick way to determine whether a list contains at least one item contained in an array","body":"<p>One way without Java 8 streams:</p>\n\n<pre><code>public boolean containsAtLeastOne( List&lt;String&gt; a, String[] b ) {\n    Set&lt;String&gt; aSet = new HashSet( a );\n    for ( s : b ) {\n       if ( aSet.contains( s ) ) {\n           return true;\n       }\n    }\n    return false;\n}\n</code></pre>\n\n<p>Another way:</p>\n\n<pre><code> public boolean containsAtLeastOne( List&lt;String&gt; a, String[] b ) {\n    Set&lt;String&gt; aSet = new HashSet( a );\n    List&lt;String&gt; bList = Arrays.asList(b);\n\n    bList.retainAll( aSet );\n\n    return 0 &lt; bList.size();\n }\n</code></pre>\n"}],"owner":{"account_id":1008660,"reputation":13673,"user_id":1021725,"accept_rate":75,"display_name":"David Brossard"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4479,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":44952144,"answer_count":1,"score":1,"last_activity_date":1643901167,"creation_date":1499351754,"question_id":44951957,"body_markdown":"I have a `List&lt;String&gt; a` and a `String[] b`. I would like to return true if there is at least one member of the list inside the array. For that matter, it doesn&#39;t matter that I am dealing with a `List&lt;String&gt;` and an `String[]`. Both could be lists.\r\n\r\n## EDIT\r\n\r\nJava 8 gives you a way to [do it via streams][1], it seems. What about more basic ways?\r\n\r\nThanks\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/41920852/a-list-contains-at-least-one-value-from-another-list-java-8","title":"Quick way to determine whether a list contains at least one item contained in an array","body":"<p>I have a <code>List&lt;String&gt; a</code> and a <code>String[] b</code>. I would like to return true if there is at least one member of the list inside the array. For that matter, it doesn't matter that I am dealing with a <code>List&lt;String&gt;</code> and an <code>String[]</code>. Both could be lists.</p>\n\n<h2>EDIT</h2>\n\n<p>Java 8 gives you a way to <a href=\"https://stackoverflow.com/questions/41920852/a-list-contains-at-least-one-value-from-another-list-java-8\">do it via streams</a>, it seems. What about more basic ways?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","unit-testing","apache-kafka-streams","junit5"],"comments":[{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":0,"creation_date":1643901734,"post_id":70973709,"comment_id":125467148,"body_markdown":"Just a comment: This will make your tests crawl. Each startup of kafka takes multiple seconds and they will happen for each test. I don&#39;t know about your app, but there are some approaches to write tests that avoid having to reload an app for each test. Just sharing this as I recently saw a project where this was done extensively and the test suite took ~40mins to run. We avoided reloading kafk (or using `DirtiesContext`) in another project and the test suite took less than 4 minutes to run and afterwards we could see the data in kafka and the DB if we needed.","body":"Just a comment: This will make your tests crawl. Each startup of kafka takes multiple seconds and they will happen for each test. I don&#39;t know about your app, but there are some approaches to write tests that avoid having to reload an app for each test. Just sharing this as I recently saw a project where this was done extensively and the test suite took ~40mins to run. We avoided reloading kafk (or using <code>DirtiesContext</code>) in another project and the test suite took less than 4 minutes to run and afterwards we could see the data in kafka and the DB if we needed."},{"owner":{"account_id":21140802,"reputation":97,"user_id":15543279,"display_name":"flowAlong"},"score":0,"creation_date":1645001553,"post_id":70973709,"comment_id":125751696,"body_markdown":"@Augusto Could you share some details on how you replicated the DirtiesContext behaviour without using the annotation?","body":"@Augusto Could you share some details on how you replicated the DirtiesContext behaviour without using the annotation?"},{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":0,"creation_date":1645006239,"post_id":70973709,"comment_id":125753554,"body_markdown":"I didn&#39;t replicate the behaviour, but designed the configuration classes so it wouldn&#39;t be required for the tests. If you need the annotation it means that there&#39;s a side effect of a test that can affect other tests, the solution is to address that side effect so the tests can run independently. In the case of Kafka it was to find for a message that matched the expectation rather than expect 1 message with a given payload.","body":"I didn&#39;t replicate the behaviour, but designed the configuration classes so it wouldn&#39;t be required for the tests. If you need the annotation it means that there&#39;s a side effect of a test that can affect other tests, the solution is to address that side effect so the tests can run independently. In the case of Kafka it was to find for a message that matched the expectation rather than expect 1 message with a given payload."}],"owner":{"account_id":21140802,"reputation":97,"user_id":15543279,"display_name":"flowAlong"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":638,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":0,"score":5,"last_activity_date":1643901040,"creation_date":1643901040,"question_id":70973709,"body_markdown":"I&#39;m trying to test a KafkaStreams application.Using JUnit5 and EmbededKafka.\r\nWhen executing any TestCase, I see that the logs are bombarded with the following messages\r\n\r\n    [Producer clientId=myTask-227e2e90-212b-4663-bd17-2d307018c81a-StreamThread-1-producer] Connection to node 0 (localhost/127.0.0.1:61269) could not be established. Broker may not be available.\r\n    [Consumer clientId=myTask-227e2e90-212b-4663-bd17-2d307018c81a-StreamThread-3-consumer, groupId=my-task] Connection to node 0 (localhost/127.0.0.1:61269) could not be established. Broker may not be available.\r\n\r\nI have also added \r\n\r\n    @DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_EACH_TEST_METHOD)\r\n\r\nClass Level configurations\r\n\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.NONE)\r\n    @DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_EACH_TEST_METHOD)\r\n    @TestPropertySource(&quot;/application-test.properties&quot;)\r\n    @EmbeddedKafka(topics = { &quot;${kafka.topic.}&quot;\r\n        },\r\n        partitions = 1, controlledShutdown = true\r\n    )\r\n    @ExtendWith(MockitoExtension.class)\r\n    public class KStreamTest{\r\n    \r\n        @Autowired\r\n     protected EmbeddedKafkaBroker embeddedKafka;\r\n      \r\n      //TestMethod\r\n\r\n     }\r\n\r\nCan you suggest anything I can try or if I&#39;m missing something?\r\n\r\n\r\n","title":"DirtiesContext does not close Kafka consumer and producer","body":"<p>I'm trying to test a KafkaStreams application.Using JUnit5 and EmbededKafka.\nWhen executing any TestCase, I see that the logs are bombarded with the following messages</p>\n<pre><code>[Producer clientId=myTask-227e2e90-212b-4663-bd17-2d307018c81a-StreamThread-1-producer] Connection to node 0 (localhost/127.0.0.1:61269) could not be established. Broker may not be available.\n[Consumer clientId=myTask-227e2e90-212b-4663-bd17-2d307018c81a-StreamThread-3-consumer, groupId=my-task] Connection to node 0 (localhost/127.0.0.1:61269) could not be established. Broker may not be available.\n</code></pre>\n<p>I have also added</p>\n<pre><code>@DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_EACH_TEST_METHOD)\n</code></pre>\n<p>Class Level configurations</p>\n<pre><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.NONE)\n@DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_EACH_TEST_METHOD)\n@TestPropertySource(&quot;/application-test.properties&quot;)\n@EmbeddedKafka(topics = { &quot;${kafka.topic.}&quot;\n    },\n    partitions = 1, controlledShutdown = true\n)\n@ExtendWith(MockitoExtension.class)\npublic class KStreamTest{\n\n    @Autowired\n protected EmbeddedKafkaBroker embeddedKafka;\n  \n  //TestMethod\n\n }\n</code></pre>\n<p>Can you suggest anything I can try or if I'm missing something?</p>\n"},{"tags":["java","node.js","emulation"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1643863352,"post_id":70965853,"comment_id":125454041,"body_markdown":"Omay, you&#39;ll need to add more details to the question. What code are you trying to run? How have you invoked Trireme, from the command line or embedded in a Java application?","body":"Omay, you&#39;ll need to add more details to the question. What code are you trying to run? How have you invoked Trireme, from the command line or embedded in a Java application?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1643863478,"post_id":70965853,"comment_id":125454057,"body_markdown":"Also, you might be interested in this known issue https://github.com/apigee/trireme/issues/190","body":"Also, you might be interested in this known issue <a href=\"https://github.com/apigee/trireme/issues/190\" rel=\"nofollow noreferrer\">github.com/apigee/trireme/issues/190</a>"}],"answers":[{"tags":[],"owner":{"account_id":23922119,"reputation":1,"user_id":17917787,"display_name":"TCoder12"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643877062,"creation_date":1643877062,"answer_id":70968016,"question_id":70965853,"body_markdown":"Check this out: https://stackoverflow.com/questions/32607089/how-should-i-run-nodejs-from-a-java-application. Hope it helps. Or you should maybe try Spring as an alternative to NodeJS","title":"How do I run NodeJS with Java","body":"<p>Check this out: <a href=\"https://stackoverflow.com/questions/32607089/how-should-i-run-nodejs-from-a-java-application\">How should I run NodeJS from a Java application?</a>. Hope it helps. Or you should maybe try Spring as an alternative to NodeJS</p>\n"}],"owner":{"account_id":19700949,"reputation":11,"user_id":14423724,"display_name":"Omay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":909,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643900961,"creation_date":1643861773,"question_id":70965853,"body_markdown":"I&#39;m trying to run NodeJS on my school computer, and all it has is java, so I&#39;m trying to find a way to run it. The closest I&#39;ve come is Trireme, but it generates the following errors:\r\n```\r\nmissing ; before statement\r\nmissing ; before statement\r\n    at module.js:439:0\r\n    at module.js:474:0\r\n    at module.js:356:0\r\n    at module.js:312:0\r\n    at module.js:364:0\r\n    at require (module.js:380:0)\r\n    at index.js:6:0\r\n    at module.js:456:0\r\n    at module.js:474:0\r\n    at module.js:356:0\r\n    at module.js:312:0\r\n    at module.js:497:0\r\n    at startup (trireme.js:142:0)\r\n    at trireme.js:923:0\r\n```\r\nI&#39;m running trireme with `java -jar trireme.jar index.js`, and the NodeJS code is \r\n```\r\nconst fs = require(&#39;fs&#39;);\r\nconst express = require(&#39;express&#39;);\r\nconst app = express();\r\nconst http = require(&#39;http&#39;);\r\nconst server = http.createServer(app);\r\nconst { Server } = require(&#39;socket.io&#39;);\r\nconst io = new Server(server);\r\n\r\napp.set(&#39;view engine&#39;, &#39;pug&#39;);\r\napp.set(&#39;views&#39;, __dirname + &#39;/templates&#39;);\r\n\r\nserver.listen(3000, () =&gt; {\r\n  console.log(&#39;listening on *:3000&#39;);\r\n});\r\n\r\nrequire(&#39;./routes.js&#39;)(app, fs);\r\nrequire(&#39;./io.js&#39;)(io, fs);\r\n```\r\nIt almost works, but not quite. I don&#39;t know how to fix these bugs though.","title":"How do I run NodeJS with Java","body":"<p>I'm trying to run NodeJS on my school computer, and all it has is java, so I'm trying to find a way to run it. The closest I've come is Trireme, but it generates the following errors:</p>\n<pre><code>missing ; before statement\nmissing ; before statement\n    at module.js:439:0\n    at module.js:474:0\n    at module.js:356:0\n    at module.js:312:0\n    at module.js:364:0\n    at require (module.js:380:0)\n    at index.js:6:0\n    at module.js:456:0\n    at module.js:474:0\n    at module.js:356:0\n    at module.js:312:0\n    at module.js:497:0\n    at startup (trireme.js:142:0)\n    at trireme.js:923:0\n</code></pre>\n<p>I'm running trireme with <code>java -jar trireme.jar index.js</code>, and the NodeJS code is</p>\n<pre><code>const fs = require('fs');\nconst express = require('express');\nconst app = express();\nconst http = require('http');\nconst server = http.createServer(app);\nconst { Server } = require('socket.io');\nconst io = new Server(server);\n\napp.set('view engine', 'pug');\napp.set('views', __dirname + '/templates');\n\nserver.listen(3000, () =&gt; {\n  console.log('listening on *:3000');\n});\n\nrequire('./routes.js')(app, fs);\nrequire('./io.js')(io, fs);\n</code></pre>\n<p>It almost works, but not quite. I don't know how to fix these bugs though.</p>\n"},{"tags":["java","sql","hibernate"],"answers":[{"tags":[],"owner":{"account_id":4153318,"reputation":19445,"user_id":3405171,"display_name":"v.ladynev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1451551543,"creation_date":1451551056,"answer_id":34543533,"question_id":34543520,"body_markdown":"You need to add `User` class to the `hibernate.cfg.xml`. \r\n\r\n**Update**\r\n\r\nYour HQL query is correct. If you already has `User` class in `hibernate.cfg.xml`,  try to replace HQL with this\r\n\r\n    return (User) session.get(User.class, id);\r\n\r\nAnd you need to add a transaction related code.","title":"org.hibernate.hql.internal.ast.QuerySyntaxException","body":"<p>You need to add <code>User</code> class to the <code>hibernate.cfg.xml</code>. </p>\n\n<p><strong>Update</strong></p>\n\n<p>Your HQL query is correct. If you already has <code>User</code> class in <code>hibernate.cfg.xml</code>,  try to replace HQL with this</p>\n\n<pre><code>return (User) session.get(User.class, id);\n</code></pre>\n\n<p>And you need to add a transaction related code.</p>\n"},{"tags":[],"owner":{"account_id":8250328,"reputation":1,"user_id":10001175,"display_name":"Nelson Mourao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643900863,"creation_date":1643900863,"answer_id":70973664,"question_id":34543520,"body_markdown":"I had that error and work for me using the complete class name, package+className. \r\n\r\nCheck other options here [org.hibernate.hql.internal.ast.QuerySyntaxException: table is not mapped][1]\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/9954590/hibernate-error-querysyntaxexception-users-is-not-mapped-from-users/9954677","title":"org.hibernate.hql.internal.ast.QuerySyntaxException","body":"<p>I had that error and work for me using the complete class name, package+className.</p>\n<p>Check other options here <a href=\"https://stackoverflow.com/questions/9954590/hibernate-error-querysyntaxexception-users-is-not-mapped-from-users/9954677\">org.hibernate.hql.internal.ast.QuerySyntaxException: table is not mapped</a></p>\n"}],"owner":{"account_id":7426965,"reputation":37,"user_id":5649146,"accept_rate":0,"display_name":"Amit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":343,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1643900863,"creation_date":1451550972,"question_id":34543520,"body_markdown":"I am having one function which is trying to retrieve some data from database using hibernate. I am getting \r\n\r\norg.hibernate.hql.internal.ast.QuerySyntaxException: User is not mapped [FROM User where id = :id]\r\n\r\n        @Override\r\n        public List&lt;User&gt; getUserById(int id) {\r\n        \t\tSystem.out.println(id);\r\n        \t\tQuery query = sessionFactory.getCurrentSession().createQuery(&quot;FROM User where id = :id&quot;);\r\n        \t\tquery.setInteger(&quot;id&quot;, id);\r\n        \t\treturn query.list();\r\n    }\r\n\r\n  \r\n\r\nThe id is passing via URL and receiving it by a controller class which further calling my above function.\r\n\r\nIt seems that query is correct, not able to understand why getting this error.\r\n\r\nPlease provide your suggestion on same.\r\nThanks in Advance. \r\n\r\n\r\n","title":"org.hibernate.hql.internal.ast.QuerySyntaxException","body":"<p>I am having one function which is trying to retrieve some data from database using hibernate. I am getting </p>\n\n<p>org.hibernate.hql.internal.ast.QuerySyntaxException: User is not mapped [FROM User where id = :id]</p>\n\n<pre><code>    @Override\n    public List&lt;User&gt; getUserById(int id) {\n            System.out.println(id);\n            Query query = sessionFactory.getCurrentSession().createQuery(\"FROM User where id = :id\");\n            query.setInteger(\"id\", id);\n            return query.list();\n}\n</code></pre>\n\n<p>The id is passing via URL and receiving it by a controller class which further calling my above function.</p>\n\n<p>It seems that query is correct, not able to understand why getting this error.</p>\n\n<p>Please provide your suggestion on same.\nThanks in Advance. </p>\n"},{"tags":["java","amazon-web-services","amazon-s3","mime","amazon-ses"],"comments":[{"owner":{"account_id":17822090,"reputation":371,"user_id":12944233,"display_name":"Hitesh A. Bosamiya"},"score":0,"creation_date":1643901169,"post_id":70973514,"comment_id":125466901,"body_markdown":"\\r\\n represent carriage return and line feed. By any chance when you stored the data, you replaced CR-LF with \\r\\n? You may like to replace \\r\\n with CR-LF and see what happens.","body":"\\r\\n represent carriage return and line feed. By any chance when you stored the data, you replaced CR-LF with \\r\\n? You may like to replace \\r\\n with CR-LF and see what happens."},{"owner":{"account_id":13625591,"reputation":13,"user_id":9828969,"display_name":"Pratap Gangwani"},"score":0,"creation_date":1643913527,"post_id":70973514,"comment_id":125472202,"body_markdown":"I&#39;ve not stored the data manually. I&#39;ve configured AWS SES to store the incoming email to S3 by configuring domain name and MX record. So whenever I send any email to my configured domain, AWS SES capture that and store it to s3 as per the rules and action I configured and when I download the file directly from AWS console, I see a properly formatted MIME file without \\r\\n.","body":"I&#39;ve not stored the data manually. I&#39;ve configured AWS SES to store the incoming email to S3 by configuring domain name and MX record. So whenever I send any email to my configured domain, AWS SES capture that and store it to s3 as per the rules and action I configured and when I download the file directly from AWS console, I see a properly formatted MIME file without \\r\\n."},{"owner":{"account_id":17822090,"reputation":371,"user_id":12944233,"display_name":"Hitesh A. Bosamiya"},"score":0,"creation_date":1643953535,"post_id":70973514,"comment_id":125481169,"body_markdown":"Maybe you can try printing `contents.replaceAll(&quot;\\\\\\\\r\\\\\\\\n&quot;, &quot;\\r\\n&quot;)` (yes, there are four &#39;\\&#39;). This will help you to know that \\r\\n are really CR-LF or four characters &#39;\\&#39;, &#39;r&#39;, &#39;\\&#39;, &amp; &#39;n&#39;.","body":"Maybe you can try printing <code>contents.replaceAll(&quot;\\\\\\\\r\\\\\\\\n&quot;, &quot;\\r\\n&quot;)</code> (yes, there are four &#39;\\&#39;). This will help you to know that \\r\\n are really CR-LF or four characters &#39;\\&#39;, &#39;r&#39;, &#39;\\&#39;, &amp; &#39;n&#39;."},{"owner":{"account_id":13625591,"reputation":13,"user_id":9828969,"display_name":"Pratap Gangwani"},"score":0,"creation_date":1644319214,"post_id":70973514,"comment_id":125569482,"body_markdown":"I tried dumping the object to text file. On checking the contents of this text file, no CR-LF / escape characters were found.","body":"I tried dumping the object to text file. On checking the contents of this text file, no CR-LF / escape characters were found."}],"owner":{"account_id":13625591,"reputation":13,"user_id":9828969,"display_name":"Pratap Gangwani"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":439,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643900226,"creation_date":1643900226,"question_id":70973514,"body_markdown":"I&#39;m having a requirement where I need to read a MIME object from AWS S3 and parse it. Below is the code I&#39;m using to read the S3 object. \r\n\r\n    String awsS3Key = &quot;myAWSS3key&quot;;\r\n    String awsS3Secret = &quot;myAWSS3secret&quot;;\r\n    String awsS3Region = &quot;us-west-2&quot;;\r\n    String awsS3Bucket = &quot;my-s3-bucket&quot;;\r\n\r\n    S3Client s3Client = buildS3Client(awsS3Region, awsS3Secret, awsS3Key);\r\n    \r\n    GetObjectRequest request = \r\n    GetObjectRequest.builder().bucket(awsS3Bucket).key(&quot;myobject&quot;).build();\r\n    ResponseBytes&lt;GetObjectResponse&gt; responseBytes = s3Client.getObjectAsBytes(request);\r\n    InputStream mailFileInputStream = responseBytes.asInputStream();\r\n\r\nBelow is the code for building s3 client.\r\n\r\n    private S3Client buildS3Client(String awsS3Region, String awsS3Secret, String awsS3Key) {\r\n    S3ClientBuilder s3ClientBuilder = \r\n    S3Client.builder().credentialsProvider(getAwsCredentialsProvider(awsS3Key, awsS3Secret));\r\n    if (StringUtils.isNotBlank(awsS3Region)) {\r\n      s3ClientBuilder.region(Region.of(awsS3Region));\r\n    }\r\n    return s3ClientBuilder.build();\r\n    }\r\n\r\nI&#39;m able to fetch MIME object from S3 successfully but with some escape characters. I tried printing the content of mailFileInputStream by below code and it is showing the content with escape characters.\r\n\r\n      String contents = IOUtils.toString(mailFileInputStream);\r\n      logger.info(&quot;S3 email content: {}&quot;,contents);\r\n\r\nThe problem with this is when I tried converting this mailInputStream to MimeMessage by below code, I get an empty MimeMessage object, may be because inputStream in MimeMessage constructor contain some escape characters.\r\n\r\n      Properties props = new Properties();\r\n      Session session = Session.getDefaultInstance(props, null);\r\n      message = new MimeMessage(session, mailFileInputStream);\r\n\r\nI tried parsing this MimeMessage by below code to retrieve the content of email but getting null in all the fields.\r\n\r\n        MimeMessageParser mimeParser = new MimeMessageParser(message);\r\n        mimeParser.parse();\r\n  \r\n        String subject = mimeParser.getSubject();\r\n        logger.info(&quot;subject: {}&quot;, subject);\r\n        String from = mimeParser.getFrom();\r\n        logger.info(&quot;from: &quot; + from);\r\n        String plainText = mimeParser.getPlainContent();\r\n        logger.info(&quot;plainText: &quot; + plainText);\r\n        String htmString = mimeParser.getHtmlContent();\r\n        logger.info(&quot;htmString: &quot; + htmString);\r\n\r\nBelow is the MIME format expected \r\n\r\n        Return-Path: &lt;pratap.gangwani@XXXXX.com&gt;\r\n        Received: from mail-XXX-XXX.google.com (mail-XXX-XXX.google.com [XXXXXXXXXXX])\r\n          by inbound-smtp.us-west-2.amazonaws.com with SMTP id XXXXXXXXX\r\n\r\nBelow is what I&#39;m getting\r\n\r\n        Return-Path: &lt;pratap.gangwani@XXXXX.com&gt;\\r\\nReceived: from mail-XXX-XXX.google.com (mail- \r\n        XXX-XXX.google.com [XXXXXXXXX])\\r\\n by inbound-smtp.us-west-2.amazonaws.com with SMTP \r\n        id XXXXXXXXX\\r\\n\r\n \r\nI&#39;m not sure whether it is due some escape characters that are coming while getting the object from S3 or something else. Is there a way we can get the object in the exact same format that is stored in S3?","title":"To read MIME object as input stream from AWS s3 without escape characters","body":"<p>I'm having a requirement where I need to read a MIME object from AWS S3 and parse it. Below is the code I'm using to read the S3 object.</p>\n<pre><code>String awsS3Key = &quot;myAWSS3key&quot;;\nString awsS3Secret = &quot;myAWSS3secret&quot;;\nString awsS3Region = &quot;us-west-2&quot;;\nString awsS3Bucket = &quot;my-s3-bucket&quot;;\n\nS3Client s3Client = buildS3Client(awsS3Region, awsS3Secret, awsS3Key);\n\nGetObjectRequest request = \nGetObjectRequest.builder().bucket(awsS3Bucket).key(&quot;myobject&quot;).build();\nResponseBytes&lt;GetObjectResponse&gt; responseBytes = s3Client.getObjectAsBytes(request);\nInputStream mailFileInputStream = responseBytes.asInputStream();\n</code></pre>\n<p>Below is the code for building s3 client.</p>\n<pre><code>private S3Client buildS3Client(String awsS3Region, String awsS3Secret, String awsS3Key) {\nS3ClientBuilder s3ClientBuilder = \nS3Client.builder().credentialsProvider(getAwsCredentialsProvider(awsS3Key, awsS3Secret));\nif (StringUtils.isNotBlank(awsS3Region)) {\n  s3ClientBuilder.region(Region.of(awsS3Region));\n}\nreturn s3ClientBuilder.build();\n}\n</code></pre>\n<p>I'm able to fetch MIME object from S3 successfully but with some escape characters. I tried printing the content of mailFileInputStream by below code and it is showing the content with escape characters.</p>\n<pre><code>  String contents = IOUtils.toString(mailFileInputStream);\n  logger.info(&quot;S3 email content: {}&quot;,contents);\n</code></pre>\n<p>The problem with this is when I tried converting this mailInputStream to MimeMessage by below code, I get an empty MimeMessage object, may be because inputStream in MimeMessage constructor contain some escape characters.</p>\n<pre><code>  Properties props = new Properties();\n  Session session = Session.getDefaultInstance(props, null);\n  message = new MimeMessage(session, mailFileInputStream);\n</code></pre>\n<p>I tried parsing this MimeMessage by below code to retrieve the content of email but getting null in all the fields.</p>\n<pre><code>    MimeMessageParser mimeParser = new MimeMessageParser(message);\n    mimeParser.parse();\n\n    String subject = mimeParser.getSubject();\n    logger.info(&quot;subject: {}&quot;, subject);\n    String from = mimeParser.getFrom();\n    logger.info(&quot;from: &quot; + from);\n    String plainText = mimeParser.getPlainContent();\n    logger.info(&quot;plainText: &quot; + plainText);\n    String htmString = mimeParser.getHtmlContent();\n    logger.info(&quot;htmString: &quot; + htmString);\n</code></pre>\n<p>Below is the MIME format expected</p>\n<pre><code>    Return-Path: &lt;pratap.gangwani@XXXXX.com&gt;\n    Received: from mail-XXX-XXX.google.com (mail-XXX-XXX.google.com [XXXXXXXXXXX])\n      by inbound-smtp.us-west-2.amazonaws.com with SMTP id XXXXXXXXX\n</code></pre>\n<p>Below is what I'm getting</p>\n<pre><code>    Return-Path: &lt;pratap.gangwani@XXXXX.com&gt;\\r\\nReceived: from mail-XXX-XXX.google.com (mail- \n    XXX-XXX.google.com [XXXXXXXXX])\\r\\n by inbound-smtp.us-west-2.amazonaws.com with SMTP \n    id XXXXXXXXX\\r\\n\n</code></pre>\n<p>I'm not sure whether it is due some escape characters that are coming while getting the object from S3 or something else. Is there a way we can get the object in the exact same format that is stored in S3?</p>\n"},{"tags":["java","processing"],"comments":[{"owner":{"account_id":19414262,"reputation":2186,"user_id":17939455,"display_name":"Darth-CodeX"},"score":0,"creation_date":1643897415,"post_id":70972723,"comment_id":125465020,"body_markdown":"What you have tried so far, and what were the results of that??","body":"What you have tried so far, and what were the results of that??"},{"owner":{"account_id":24144785,"reputation":1,"user_id":18110564,"display_name":"MYPD SHP"},"score":0,"creation_date":1643899333,"post_id":70972723,"comment_id":125465972,"body_markdown":"I haven&#39;t tried anything yet, because I am confused as to how I can get the screen to reset.","body":"I haven&#39;t tried anything yet, because I am confused as to how I can get the screen to reset."},{"owner":{"account_id":19414262,"reputation":2186,"user_id":17939455,"display_name":"Darth-CodeX"},"score":0,"creation_date":1643899807,"post_id":70972723,"comment_id":125466212,"body_markdown":"Re-write your code so that you can attach it with a loop, which clears the array or results after the winner is decided.","body":"Re-write your code so that you can attach it with a loop, which clears the array or results after the winner is decided."},{"owner":{"account_id":24144785,"reputation":1,"user_id":18110564,"display_name":"MYPD SHP"},"score":0,"creation_date":1643924998,"post_id":70972723,"comment_id":125476055,"body_markdown":"will do, thanks!","body":"will do, thanks!"},{"owner":{"account_id":19414262,"reputation":2186,"user_id":17939455,"display_name":"Darth-CodeX"},"score":0,"creation_date":1643955405,"post_id":70972723,"comment_id":125481516,"body_markdown":"Okay, no problem","body":"Okay, no problem"}],"owner":{"account_id":24144785,"reputation":1,"user_id":18110564,"display_name":"MYPD SHP"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643900074,"creation_date":1643897293,"question_id":70972723,"body_markdown":"I am trying to write this code in processing. A Connect Four game uses an Arduino as a controller for each row.\r\n\r\nAfter a winner is detected, the game stops. But I want to make the game reset the table and restart after any button is pushed, and the problem is I am not sure how to do that.\r\n\r\nThanks in advance! \r\n\r\nHere&#39;s the code: \r\n\r\n```\r\n//Connect Four Game\r\n//Mohammed Sharifpour\r\n//2nd of February, 2022\r\n\r\nimport processing.serial.*;\r\n\r\nSerial ADP;\r\n\r\nint squareSize = 64;\r\nString serialName = &quot;COM6&quot;;   //Can be modified to the indicated COM Port \r\n\r\ncolor pc[] = {color(255, 75,0), color(48, 213, 200)};\r\nString PCN[] = {&quot;Orange&quot;, &quot;Turqoise&quot;};\r\nint playerTurn = 0;\r\n\r\nint grid[][] = new int[7][8];\r\nboolean finished = false;\r\n\r\ncolor backgroundColor = color(0, 0, 0);\r\ncolor lineColor = color(255, 255, 255);\r\n\r\n\r\nvoid Circle(int x, int y, color c){\r\n  fill(c);\r\n  noStroke();\r\n  circle(x * squareSize + 0.5 * squareSize, y * squareSize + 0.5 * squareSize, squareSize);\r\n}\r\n\r\nvoid draw(){\r\n  if (ADP.available() &gt; 0) keypressed(ADP.read()-1);\r\n}\r\n\r\nvoid printText(String message){\r\n  fill(backgroundColor);\r\n  noStroke();\r\n  rect(0, 6 * squareSize + 1, 7 * squareSize + 1, (6 + 1) * squareSize + 1);\r\n  fill(lineColor);\r\n  text(message, 16, 6 * squareSize + squareSize * 0.75);\r\n}\r\n\r\nvoid setup(){\r\n  size(480, 480);\r\n  noCursor();\r\n  background(backgroundColor);\r\n  stroke(lineColor);\r\n  for(int x = 0; x &lt;= 7 * squareSize; x += squareSize){\r\n    line(x, 0, x, 6 * squareSize);\r\n  }\r\n  for(int y = 0; y &lt;= 6 * squareSize; y += squareSize){\r\n    line(0, y, 7 * squareSize, y);\r\n  }\r\n  //RGB Code for Circle &quot;Orange&quot; (255, 75,0);\r\n  //RGB Code for Circle &quot;Turqoise&quot; (48, 213, 200);\r\n\r\n  printArray(Serial.list());\r\n  ADP = new Serial(this, serialName, 9600);\r\n  \r\n  textSize(squareSize / 4);\r\n  printText(&quot;Welcome to Connect Four, press any button to start!&quot;);\r\n}\r\n\r\n\r\n\r\nboolean handleDrop(int column){\r\n  boolean dropped = false;\r\n  for(int y = 6 - 1; y &gt;= 0; y--){\r\n    if(grid[column][y] == 0){\r\n      grid[column][y] = playerTurn;\r\n      Circle(column, y, pc[playerTurn - 1]);\r\n      dropped = true;\r\n      break;\r\n    }\r\n  }\r\n  return dropped;\r\n}\r\n\r\nvoid keypressed(int bs){\r\n  if(bs &lt; 2 || bs &gt; 7 + 1) return;\r\n  if(finished) return;\r\n  boolean dropped = false;\r\n  if(playerTurn &gt; 0){\r\n    dropped = handleDrop(bs - 2);\r\n    if(!dropped) return;\r\n  }\r\n  playerTurn++;\r\n  if(playerTurn &gt; 2) playerTurn = 1;\r\n  int winner = testWinner();\r\n  if(winner &gt; 0){\r\n    finished = true;\r\n    textSize(squareSize / 3);\r\n    printText(PCN[winner - 1] + &quot; won!, GAME OVER&quot;);\r\n    return;\r\n  }\r\n  printText(PCN[playerTurn - 1] + &quot;&#39;s turn&quot;);\r\n}\r\n\r\nint testFour(int startX, int startY, int incX, int incY){\r\n  int box = -1;\r\n  for(int x = startX, y = startY, i = 0; i &lt; 4; x += incX, y += incY, i++){\r\n    if(box &lt; 0){\r\n      box = grid[x][y];\r\n    }else{\r\n      if(grid[x][y] != box) return 0;\r\n    }\r\n  }\r\n  if(box &gt; 0){\r\n    int startXPixel = startX * squareSize + squareSize / 2;\r\n    int startYPixel = startY * squareSize + squareSize / 2;\r\n    stroke(lineColor);\r\n    strokeWeight(4);\r\n    line(startXPixel, startYPixel, startXPixel + 3 * incX * squareSize, startYPixel + 3 * incY * squareSize);\r\n  }\r\n  return box;\r\n}\r\n\r\nint testWinner(){\r\n  int winner = 0;\r\n  for(int x = 0; x &lt; 7  - 3; x++){\r\n    for(int y = 0; y &lt; 6 ; y++){\r\n      winner = testFour(x, y, 1, 0);\r\n      if(winner &gt; 0) return winner;\r\n    }\r\n  }\r\n  for(int y = 0; y &lt;6 - 3; y++){\r\n    for(int x = 0; x &lt; 7; x++){\r\n      winner = testFour(x, y, 0, 1);\r\n      if(winner &gt; 0) return winner;\r\n    }\r\n  }\r\n  for(int x = 0; x &lt; 7 - 3; x++){\r\n    for(int y = 0; y &lt; 6 - 3; y++){\r\n      winner = testFour(x, y, 1, 1);\r\n      if(winner &gt; 0) return winner;\r\n    }\r\n  }\r\n  for(int x = 0; x &lt; 7 - 3; x++){\r\n    for(int y = 6 - 1; y &gt;= 3; y--){\r\n      winner = testFour(x, y, 1, -1);\r\n      if(winner &gt; 0) return winner;\r\n    }\r\n  }\r\n  return winner;\r\n}","title":"How can I add a reset and restart to this when a button is pressed after the game is over?","body":"<p>I am trying to write this code in processing. A Connect Four game uses an Arduino as a controller for each row.</p>\n<p>After a winner is detected, the game stops. But I want to make the game reset the table and restart after any button is pushed, and the problem is I am not sure how to do that.</p>\n<p>Thanks in advance!</p>\n<p>Here's the code:</p>\n<pre><code>//Connect Four Game\n//Mohammed Sharifpour\n//2nd of February, 2022\n\nimport processing.serial.*;\n\nSerial ADP;\n\nint squareSize = 64;\nString serialName = &quot;COM6&quot;;   //Can be modified to the indicated COM Port \n\ncolor pc[] = {color(255, 75,0), color(48, 213, 200)};\nString PCN[] = {&quot;Orange&quot;, &quot;Turqoise&quot;};\nint playerTurn = 0;\n\nint grid[][] = new int[7][8];\nboolean finished = false;\n\ncolor backgroundColor = color(0, 0, 0);\ncolor lineColor = color(255, 255, 255);\n\n\nvoid Circle(int x, int y, color c){\n  fill(c);\n  noStroke();\n  circle(x * squareSize + 0.5 * squareSize, y * squareSize + 0.5 * squareSize, squareSize);\n}\n\nvoid draw(){\n  if (ADP.available() &gt; 0) keypressed(ADP.read()-1);\n}\n\nvoid printText(String message){\n  fill(backgroundColor);\n  noStroke();\n  rect(0, 6 * squareSize + 1, 7 * squareSize + 1, (6 + 1) * squareSize + 1);\n  fill(lineColor);\n  text(message, 16, 6 * squareSize + squareSize * 0.75);\n}\n\nvoid setup(){\n  size(480, 480);\n  noCursor();\n  background(backgroundColor);\n  stroke(lineColor);\n  for(int x = 0; x &lt;= 7 * squareSize; x += squareSize){\n    line(x, 0, x, 6 * squareSize);\n  }\n  for(int y = 0; y &lt;= 6 * squareSize; y += squareSize){\n    line(0, y, 7 * squareSize, y);\n  }\n  //RGB Code for Circle &quot;Orange&quot; (255, 75,0);\n  //RGB Code for Circle &quot;Turqoise&quot; (48, 213, 200);\n\n  printArray(Serial.list());\n  ADP = new Serial(this, serialName, 9600);\n  \n  textSize(squareSize / 4);\n  printText(&quot;Welcome to Connect Four, press any button to start!&quot;);\n}\n\n\n\nboolean handleDrop(int column){\n  boolean dropped = false;\n  for(int y = 6 - 1; y &gt;= 0; y--){\n    if(grid[column][y] == 0){\n      grid[column][y] = playerTurn;\n      Circle(column, y, pc[playerTurn - 1]);\n      dropped = true;\n      break;\n    }\n  }\n  return dropped;\n}\n\nvoid keypressed(int bs){\n  if(bs &lt; 2 || bs &gt; 7 + 1) return;\n  if(finished) return;\n  boolean dropped = false;\n  if(playerTurn &gt; 0){\n    dropped = handleDrop(bs - 2);\n    if(!dropped) return;\n  }\n  playerTurn++;\n  if(playerTurn &gt; 2) playerTurn = 1;\n  int winner = testWinner();\n  if(winner &gt; 0){\n    finished = true;\n    textSize(squareSize / 3);\n    printText(PCN[winner - 1] + &quot; won!, GAME OVER&quot;);\n    return;\n  }\n  printText(PCN[playerTurn - 1] + &quot;'s turn&quot;);\n}\n\nint testFour(int startX, int startY, int incX, int incY){\n  int box = -1;\n  for(int x = startX, y = startY, i = 0; i &lt; 4; x += incX, y += incY, i++){\n    if(box &lt; 0){\n      box = grid[x][y];\n    }else{\n      if(grid[x][y] != box) return 0;\n    }\n  }\n  if(box &gt; 0){\n    int startXPixel = startX * squareSize + squareSize / 2;\n    int startYPixel = startY * squareSize + squareSize / 2;\n    stroke(lineColor);\n    strokeWeight(4);\n    line(startXPixel, startYPixel, startXPixel + 3 * incX * squareSize, startYPixel + 3 * incY * squareSize);\n  }\n  return box;\n}\n\nint testWinner(){\n  int winner = 0;\n  for(int x = 0; x &lt; 7  - 3; x++){\n    for(int y = 0; y &lt; 6 ; y++){\n      winner = testFour(x, y, 1, 0);\n      if(winner &gt; 0) return winner;\n    }\n  }\n  for(int y = 0; y &lt;6 - 3; y++){\n    for(int x = 0; x &lt; 7; x++){\n      winner = testFour(x, y, 0, 1);\n      if(winner &gt; 0) return winner;\n    }\n  }\n  for(int x = 0; x &lt; 7 - 3; x++){\n    for(int y = 0; y &lt; 6 - 3; y++){\n      winner = testFour(x, y, 1, 1);\n      if(winner &gt; 0) return winner;\n    }\n  }\n  for(int x = 0; x &lt; 7 - 3; x++){\n    for(int y = 6 - 1; y &gt;= 3; y--){\n      winner = testFour(x, y, 1, -1);\n      if(winner &gt; 0) return winner;\n    }\n  }\n  return winner;\n}\n</code></pre>\n"},{"tags":["java","colors","awt","rgb","awtrobot"],"comments":[{"owner":{"account_id":2247658,"reputation":3578,"user_id":1980659,"accept_rate":73,"display_name":"ForguesR"},"score":0,"creation_date":1405215755,"post_id":24718815,"comment_id":38339650,"body_markdown":"Why it will be slow for high tolerances on large images?","body":"Why it will be slow for high tolerances on large images?"},{"owner":{"account_id":3425786,"reputation":1307,"user_id":2871578,"accept_rate":64,"display_name":"Nathan"},"score":0,"creation_date":1405215866,"post_id":24718815,"comment_id":38339672,"body_markdown":"@ForguesR In a 800x600 image, thats 480 000 pixels that need to be checked. Checking for 1 color in each of those pixels is ok, the speed is fine, but imagine checking for 100 different colors in each of 480 000 pixels, all of a sudden its 100x slower. Efficiency is a huge priority in this project, so if theres a way to do this faster that would be awesome","body":"@ForguesR In a 800x600 image, thats 480 000 pixels that need to be checked. Checking for 1 color in each of those pixels is ok, the speed is fine, but imagine checking for 100 different colors in each of 480 000 pixels, all of a sudden its 100x slower. Efficiency is a huge priority in this project, so if theres a way to do this faster that would be awesome"},{"owner":{"account_id":2247658,"reputation":3578,"user_id":1980659,"accept_rate":73,"display_name":"ForguesR"},"score":0,"creation_date":1405216830,"post_id":24718815,"comment_id":38339828,"body_markdown":"You are comparing your RGB value as a &quot;whole&quot; with a int which is, I guess, the color you are looking for.  Why don&#39;t you compare the RGB values instead?","body":"You are comparing your RGB value as a &quot;whole&quot; with a int which is, I guess, the color you are looking for.  Why don&#39;t you compare the RGB values instead?"},{"owner":{"account_id":3425786,"reputation":1307,"user_id":2871578,"accept_rate":64,"display_name":"Nathan"},"score":0,"creation_date":1405216958,"post_id":24718815,"comment_id":38339850,"body_markdown":"@ForguesR Yeah I guess thats sort of what I&#39;m looking for I guess, like a quick way to look for any color with [R, G, B] of [x+-tolerance, y+-tolerance, z+-tolerance]. Is my best bet just to use for loops to compare `Color`s?","body":"@ForguesR Yeah I guess thats sort of what I&#39;m looking for I guess, like a quick way to look for any color with [R, G, B] of [x+-tolerance, y+-tolerance, z+-tolerance]. Is my best bet just to use for loops to compare <code>Color</code>s?"}],"answers":[{"tags":[],"owner":{"account_id":2247658,"reputation":3578,"user_id":1980659,"accept_rate":73,"display_name":"ForguesR"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1643900056,"creation_date":1405219992,"answer_id":24719138,"question_id":24718815,"body_markdown":"You need to compare RGB values and not the &quot;whole&quot; color if you want to have a custom tolerance.  Here is the code, it is not tested, but you get the idea :\r\n\r\n    public static Point findColor(Box searchArea, int r, int g, int b, int tolerance) {\r\n        // Pre-calc RGB &quot;tolerance&quot; values out of the loop (min is 0 and max is 255)\r\n        int minR = Math.max(r - tolerance, 0);\r\n        int minG = Math.max(g - tolerance, 0);\r\n        int minB = Math.max(b - tolerance, 0);\r\n        int maxR = Math.min(r + tolerance, 255);\r\n        int maxG = Math.min(g + tolerance, 255);\r\n        int maxB = Math.min(b + tolerance, 255);\r\n    \r\n        BufferedImage image = generateScreenCap(searchArea);\r\n        for (int i = 0; i &lt; image.getWidth(); i++) {\r\n            for (int j = 0; j &lt; image.getHeight(); j++) {\r\n                // get single RGB pixel\r\n                int color = image.getRGB(i, j);\r\n    \r\n                // get individual RGB values of that pixel\r\n                // (could use Java&#39;s Color class but this is probably a little faster)\r\n                int red = (color &gt;&gt; 16) &amp; 0x000000FF;\r\n                int green = (color &gt;&gt; 8) &amp; 0x000000FF;\r\n                int blue = (color) &amp; 0x000000FF;  \r\n    \r\n                if ( (red &gt;= minR &amp;&amp; red &lt;= maxR) &amp;&amp;\r\n                     (green &gt;= minG &amp;&amp; green &lt;= maxG) &amp;&amp;\r\n                     (blue &gt;= minB &amp;&amp; blue &lt;= maxB) ) \r\n                    return new Point(i + searchArea.x1, j + searchArea.y1);\r\n            }\r\n        }\r\n        return new Point(-1, -1);\r\n    }\r\n","title":"Find color with tolerance in bufferedimage","body":"<p>You need to compare RGB values and not the &quot;whole&quot; color if you want to have a custom tolerance.  Here is the code, it is not tested, but you get the idea :</p>\n<pre><code>public static Point findColor(Box searchArea, int r, int g, int b, int tolerance) {\n    // Pre-calc RGB &quot;tolerance&quot; values out of the loop (min is 0 and max is 255)\n    int minR = Math.max(r - tolerance, 0);\n    int minG = Math.max(g - tolerance, 0);\n    int minB = Math.max(b - tolerance, 0);\n    int maxR = Math.min(r + tolerance, 255);\n    int maxG = Math.min(g + tolerance, 255);\n    int maxB = Math.min(b + tolerance, 255);\n\n    BufferedImage image = generateScreenCap(searchArea);\n    for (int i = 0; i &lt; image.getWidth(); i++) {\n        for (int j = 0; j &lt; image.getHeight(); j++) {\n            // get single RGB pixel\n            int color = image.getRGB(i, j);\n\n            // get individual RGB values of that pixel\n            // (could use Java's Color class but this is probably a little faster)\n            int red = (color &gt;&gt; 16) &amp; 0x000000FF;\n            int green = (color &gt;&gt; 8) &amp; 0x000000FF;\n            int blue = (color) &amp; 0x000000FF;  \n\n            if ( (red &gt;= minR &amp;&amp; red &lt;= maxR) &amp;&amp;\n                 (green &gt;= minG &amp;&amp; green &lt;= maxG) &amp;&amp;\n                 (blue &gt;= minB &amp;&amp; blue &lt;= maxB) ) \n                return new Point(i + searchArea.x1, j + searchArea.y1);\n        }\n    }\n    return new Point(-1, -1);\n}\n</code></pre>\n"}],"owner":{"account_id":3425786,"reputation":1307,"user_id":2871578,"accept_rate":64,"display_name":"Nathan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1983,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":24719138,"answer_count":1,"score":2,"last_activity_date":1643900056,"creation_date":1405215243,"question_id":24718815,"body_markdown":"I&#39;m writing a method that will attempt to find a color in a bufferedImage. At the moment, the method works by taking a screencap, and then scanning the image for a specific color. Now I&#39;d like to add some RGB tolerence, so if the user is trying to find color (1, 3, 5) with tolerance 1, any color +-1 R, B or G will return true.\r\n\r\nI could solve this by first generating a arrayList of RGB values that work, and then for each pixel I could go through the array and check with each value. The problem is that would probably get VERY slow for high tolerances on large images.\r\n\r\nIs there a more efficient or possibly a built in way I can do this? Here is my method as it stands right now. Thank you!\r\n\r\n    public static Point findColor(Box searchArea, int color){\r\n        System.out.println(&quot;Test&quot;);\r\n        BufferedImage image = generateScreenCap(searchArea);\r\n        for (int i = 0; i &lt; image.getWidth(); i++) {\r\n            for (int j = 0; j &lt; image.getHeight(); j++) {\r\n                if((image.getRGB(i, j)*-1)==color){\r\n                    return new Point(i + searchArea.x1, j + searchArea.y1);\r\n                }\r\n            }\r\n        }\r\n        return new Point(-1, -1);\r\n    }\r\n\r\nEdit: I&#39;m using the int RGB values for all comparisons, so instead of Color[1, 1, 1], I use Color.getRGB() which returns a negative int which I convert to positive for end user simplicity.\r\n","title":"Find color with tolerance in bufferedimage","body":"<p>I'm writing a method that will attempt to find a color in a bufferedImage. At the moment, the method works by taking a screencap, and then scanning the image for a specific color. Now I'd like to add some RGB tolerence, so if the user is trying to find color (1, 3, 5) with tolerance 1, any color +-1 R, B or G will return true.</p>\n\n<p>I could solve this by first generating a arrayList of RGB values that work, and then for each pixel I could go through the array and check with each value. The problem is that would probably get VERY slow for high tolerances on large images.</p>\n\n<p>Is there a more efficient or possibly a built in way I can do this? Here is my method as it stands right now. Thank you!</p>\n\n<pre><code>public static Point findColor(Box searchArea, int color){\n    System.out.println(\"Test\");\n    BufferedImage image = generateScreenCap(searchArea);\n    for (int i = 0; i &lt; image.getWidth(); i++) {\n        for (int j = 0; j &lt; image.getHeight(); j++) {\n            if((image.getRGB(i, j)*-1)==color){\n                return new Point(i + searchArea.x1, j + searchArea.y1);\n            }\n        }\n    }\n    return new Point(-1, -1);\n}\n</code></pre>\n\n<p>Edit: I'm using the int RGB values for all comparisons, so instead of Color[1, 1, 1], I use Color.getRGB() which returns a negative int which I convert to positive for end user simplicity.</p>\n"},{"tags":["java","spring","spring-mvc","spring-rest","spring-web"],"comments":[{"owner":{"account_id":3107900,"reputation":3965,"user_id":2630326,"accept_rate":80,"display_name":"Wojciech Wirzbicki"},"score":0,"creation_date":1544528734,"post_id":53723451,"comment_id":94300397,"body_markdown":"sth similar https://stackoverflow.com/questions/48653533/streamingresponsebody-reuses-outputstream-if-not-closed-is-this-expected","body":"sth similar <a href=\"https://stackoverflow.com/questions/48653533/streamingresponsebody-reuses-outputstream-if-not-closed-is-this-expected\" title=\"streamingresponsebody reuses outputstream if not closed is this expected\">stackoverflow.com/questions/48653533/&hellip;</a>"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1544528829,"post_id":53723451,"comment_id":94300447,"body_markdown":"I know, but that question is without any answer, thus useless. The question is still: should the stream be closed, or not?","body":"I know, but that question is without any answer, thus useless. The question is still: should the stream be closed, or not?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":4,"creation_date":1544533284,"post_id":53723451,"comment_id":94302767,"body_markdown":"No... If you don&#39;t open/manage/own the stream you don&#39;t close it. The stream is managed externally and hence you, apart from writing to it, don&#39;t close it. You don&#39;t know what the other party (which manages the stream) wants to do with it (maybe write some more data).","body":"No... If you don&#39;t open/manage/own the stream you don&#39;t close it. The stream is managed externally and hence you, apart from writing to it, don&#39;t close it. You don&#39;t know what the other party (which manages the stream) wants to do with it (maybe write some more data)."},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1544536936,"post_id":53723451,"comment_id":94304830,"body_markdown":"@M.Deinum So did I get it right: if I&#39;d resolve the file manually eg on my local system, it would be fine closing the outputstream inside the StreamingBodyResponse. But if I resolve it externally eg through another webservice, I should not touch it? In case, would you mind adding that as a real answer, so I can accept it?","body":"@M.Deinum So did I get it right: if I&#39;d resolve the file manually eg on my local system, it would be fine closing the outputstream inside the StreamingBodyResponse. But if I resolve it externally eg through another webservice, I should not touch it? In case, would you mind adding that as a real answer, so I can accept it?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1544538501,"post_id":53723451,"comment_id":94305818,"body_markdown":"No. You aren&#39;t opening the outputstream here, so no you don&#39;t close it. You would close the `InputStream` you used for reading the file.","body":"No. You aren&#39;t opening the outputstream here, so no you don&#39;t close it. You would close the <code>InputStream</code> you used for reading the file."},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1544538946,"post_id":53723451,"comment_id":94306050,"body_markdown":"Oh that&#39;s right, ok!","body":"Oh that&#39;s right, ok!"}],"answers":[{"tags":[],"owner":{"account_id":3144837,"reputation":1675,"user_id":2659499,"accept_rate":79,"display_name":"Vahid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643899701,"creation_date":1643899701,"answer_id":70973369,"question_id":53723451,"body_markdown":"It will be closed by the container. Check [StreamingResponseBodyReturnValueHandler](https://github.com/spring-projects/spring-framework/blob/c263cbfbe486d7712b9e46b80ed151c1eda98c74/spring-webmvc/src/main/java/org/springframework/web/servlet/mvc/method/annotation/StreamingResponseBodyReturnValueHandler.java#L93).\r\n\r\n`OutputStream` wraps a native `HttpServletResponse`.\r\n\r\n```java\r\nHttpServletResponse response = webRequest.getNativeResponse(HttpServletResponse.class);\r\nAssert.state(response != null, &quot;No HttpServletResponse&quot;);\r\nServerHttpResponse outputMessage = new ServletServerHttpResponse(response);\r\n```\r\n\r\nIf you follow it down you will get to `CoyoteAdapter` which is calling `finishResponse()` and closing OutputBuffer.\r\n","title":"Should OutputStream be closed explicit in StreamingResponseBody?","body":"<p>It will be closed by the container. Check <a href=\"https://github.com/spring-projects/spring-framework/blob/c263cbfbe486d7712b9e46b80ed151c1eda98c74/spring-webmvc/src/main/java/org/springframework/web/servlet/mvc/method/annotation/StreamingResponseBodyReturnValueHandler.java#L93\" rel=\"nofollow noreferrer\">StreamingResponseBodyReturnValueHandler</a>.</p>\n<p><code>OutputStream</code> wraps a native <code>HttpServletResponse</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>HttpServletResponse response = webRequest.getNativeResponse(HttpServletResponse.class);\nAssert.state(response != null, &quot;No HttpServletResponse&quot;);\nServerHttpResponse outputMessage = new ServletServerHttpResponse(response);\n</code></pre>\n<p>If you follow it down you will get to <code>CoyoteAdapter</code> which is calling <code>finishResponse()</code> and closing OutputBuffer.</p>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2607,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":70973369,"answer_count":1,"score":4,"last_activity_date":1643899701,"creation_date":1544528551,"question_id":53723451,"body_markdown":"I&#39;m streaming a big external resource using `StreamingResponseBody` in a spring `@RestController`.\r\n\r\nQuestion: should the `OutputStream` of the response body be closed explicit here?\r\n\r\n    @GetMapping(&quot;/{filename}&quot;)\r\n    public ResponseEntity&lt;StreamingResponseBody&gt; getFile(@PathVariable String filename) {\r\n                StreamingResponseBody responseBody = outputStream -&gt; {\r\n    \t\t\t\tresolveExternally(outputStream, response, filename);\r\n\r\n                    //TODO should the stream be closed explicit here?\r\n                    //outputStream.close();\r\n    \t\t\t};\r\n    \r\n    \t\t\treturn ResponseEntity.ok(responseBody);\r\n    }","title":"Should OutputStream be closed explicit in StreamingResponseBody?","body":"<p>I'm streaming a big external resource using <code>StreamingResponseBody</code> in a spring <code>@RestController</code>.</p>\n\n<p>Question: should the <code>OutputStream</code> of the response body be closed explicit here?</p>\n\n<pre><code>@GetMapping(\"/{filename}\")\npublic ResponseEntity&lt;StreamingResponseBody&gt; getFile(@PathVariable String filename) {\n            StreamingResponseBody responseBody = outputStream -&gt; {\n                resolveExternally(outputStream, response, filename);\n\n                //TODO should the stream be closed explicit here?\n                //outputStream.close();\n            };\n\n            return ResponseEntity.ok(responseBody);\n}\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":7119515,"reputation":6055,"user_id":5444618,"accept_rate":83,"display_name":"Guillaume F."},"score":0,"creation_date":1643860470,"post_id":70965723,"comment_id":125453576,"body_markdown":"Use an Interface, which offers a contract to make that check in your objects.","body":"Use an Interface, which offers a contract to make that check in your objects."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1643860672,"post_id":70965723,"comment_id":125453611,"body_markdown":"Presumably your object has some field or method that gives you the number...","body":"Presumably your object has some field or method that gives you the number..."},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1643861055,"post_id":70965723,"comment_id":125453661,"body_markdown":"You can create a span and use span.contains(...) https://sourceforge.net/p/tus/code/HEAD/tree/tjacobs/util/Span.java","body":"You can create a span and use span.contains(...) <a href=\"https://sourceforge.net/p/tus/code/HEAD/tree/tjacobs/util/Span.java\" rel=\"nofollow noreferrer\">sourceforge.net/p/tus/code/HEAD/tree/tjacobs/util/Span.java</a>"}],"answers":[{"tags":[],"owner":{"account_id":17703964,"reputation":97,"user_id":13730201,"display_name":"&#193;ngel Talero"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643860649,"creation_date":1643860649,"answer_id":70965750,"question_id":70965723,"body_markdown":"Implement your own comparison method inside Dice class &#39;.greaterOrEqual(x)&#39; or access the data on Dice class directly and compare that value instead","title":"how do I check if each value of an array is between a range if the array is a non primitive type","body":"<p>Implement your own comparison method inside Dice class '.greaterOrEqual(x)' or access the data on Dice class directly and compare that value instead</p>\n"},{"tags":[],"owner":{"account_id":9754126,"reputation":1805,"user_id":7231449,"display_name":"acarlstein"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643865849,"creation_date":1643865849,"answer_id":70966284,"question_id":70965723,"body_markdown":"I regret to inform you that Java doesn&#39;t support operator overloading like other languages such as C++. It was a decision made by the designers with the hope that would make the language simpler to use.\r\n\r\nHowever, there are other options available that you could implement.\r\n\r\nThe one option that could work very well for you, could be implementing the the Comparable interface.\r\n\r\n```java\r\nimport java.lang.Comparable;\r\n\r\npublic class Dice implements Comparable&lt;Dice&gt; {\r\n\r\n    /* Code */\r\n\r\n    @Override\r\n    public int compareTo(Dice otherDice) {\r\n        return this.value - otherDice.value;\r\n    }\r\n}\r\n```\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html\r\n\r\nThe good thing is that you can apply many things with it such as using the Comparator interface:\r\n\r\n```java\r\nComparator&lt;Dice&gt; compareByValue = Comparator.comparing(Dice::getValue);\r\n```\r\n\r\nI hope this helps you out.","title":"how do I check if each value of an array is between a range if the array is a non primitive type","body":"<p>I regret to inform you that Java doesn't support operator overloading like other languages such as C++. It was a decision made by the designers with the hope that would make the language simpler to use.</p>\n<p>However, there are other options available that you could implement.</p>\n<p>The one option that could work very well for you, could be implementing the the Comparable interface.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.Comparable;\n\npublic class Dice implements Comparable&lt;Dice&gt; {\n\n    /* Code */\n\n    @Override\n    public int compareTo(Dice otherDice) {\n        return this.value - otherDice.value;\n    }\n}\n</code></pre>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html</a></p>\n<p>The good thing is that you can apply many things with it such as using the Comparator interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Comparator&lt;Dice&gt; compareByValue = Comparator.comparing(Dice::getValue);\n</code></pre>\n<p>I hope this helps you out.</p>\n"}],"owner":{"display_name":"user17607040"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1643899589,"creation_date":1643860309,"question_id":70965723,"body_markdown":"Basically, I want to check each value of dice.\r\n\r\nIf the value is ranges between 1 and 6, inclusive, then I want to such value into the array count. \r\n\r\nThe problem is that dice is an object, not a primitive, which I declared earlier thus the `&gt;=` operator does not work.\r\n\r\n```java\r\n    public int[] getValueCount() {\r\n\t\tint[] count;\r\n\t\tfor (int i = 0; i &lt; dice.length; ++i) {\r\n\t\tif ((dice[i] &gt;= 0) &amp;&amp; (dice[i] &lt;= 6)) {\r\n\t\t\t\tcount[i] = dice[i];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn count;\r\n    }\r\n```\r\n","title":"how do I check if each value of an array is between a range if the array is a non primitive type","body":"<p>Basically, I want to check each value of dice.</p>\n<p>If the value is ranges between 1 and 6, inclusive, then I want to such value into the array count.</p>\n<p>The problem is that dice is an object, not a primitive, which I declared earlier thus the <code>&gt;=</code> operator does not work.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public int[] getValueCount() {\n        int[] count;\n        for (int i = 0; i &lt; dice.length; ++i) {\n        if ((dice[i] &gt;= 0) &amp;&amp; (dice[i] &lt;= 6)) {\n                count[i] = dice[i];\n            }\n        }\n        return count;\n    }\n</code></pre>\n"},{"tags":["java","selenium","appium","winappdriver"],"comments":[{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1617793146,"post_id":66980424,"comment_id":118403958,"body_markdown":"Is WinAppDriver.exe running?","body":"Is WinAppDriver.exe running?"},{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1617793688,"post_id":66980424,"comment_id":118404190,"body_markdown":"What is your real `&quot;&lt;path_of_exe_file&gt;&quot;` in `capabilities.setCapability(&quot;app&quot;, &quot;&lt;path_of_exe_file&gt;&quot;);`? If not secret.","body":"What is your real <code>&quot;&lt;path_of_exe_file&gt;&quot;</code> in <code>capabilities.setCapability(&quot;app&quot;, &quot;&lt;path_of_exe_file&gt;&quot;);</code>? If not secret."},{"owner":{"account_id":8428565,"reputation":29,"user_id":6325048,"display_name":"Lawrence"},"score":0,"creation_date":1617856135,"post_id":66980424,"comment_id":118425924,"body_markdown":"Yes, WinAppDriver.exe is running.","body":"Yes, WinAppDriver.exe is running."},{"owner":{"account_id":8428565,"reputation":29,"user_id":6325048,"display_name":"Lawrence"},"score":0,"creation_date":1617856317,"post_id":66980424,"comment_id":118425969,"body_markdown":"capabilities.setCapability(&quot;app&quot;, &quot;C:\\\\Program Files (x86)\\\\abc def\\\\ghi.jk\\\\somefolder\\\\someapplication.exe&quot;);","body":"capabilities.setCapability(&quot;app&quot;, &quot;C:\\\\Program Files (x86)\\\\abc def\\\\ghi.jk\\\\somefolder\\\\someapplication.exe&quot;);"}],"answers":[{"tags":[],"owner":{"account_id":19019725,"reputation":951,"user_id":13884034,"display_name":"Sonali Das"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617826593,"creation_date":1617826593,"answer_id":66993554,"question_id":66980424,"body_markdown":"You may need to install the WinAppDriver. And the app id should be the path of the desktop application you want to automate.","title":"WinAppDriver: org.openqa.selenium.SessionNotCreatedException: Unable to create a new remote session","body":"<p>You may need to install the WinAppDriver. And the app id should be the path of the desktop application you want to automate.</p>\n"},{"tags":[],"owner":{"account_id":5254469,"reputation":31,"user_id":4197724,"display_name":"Murali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643899481,"creation_date":1643899481,"answer_id":70973296,"question_id":66980424,"body_markdown":"I had the same issue multiple times. The best solution is close all the the applications and restart the machine. Then run the winappdriver.exe and execute the test scripts.","title":"WinAppDriver: org.openqa.selenium.SessionNotCreatedException: Unable to create a new remote session","body":"<p>I had the same issue multiple times. The best solution is close all the the applications and restart the machine. Then run the winappdriver.exe and execute the test scripts.</p>\n"}],"owner":{"account_id":8428565,"reputation":29,"user_id":6325048,"display_name":"Lawrence"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1396,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1643899481,"creation_date":1617775779,"question_id":66980424,"body_markdown":"I am trying to automate tests in a desktop application developed in Delphi, using WinAppDriver.\r\n\r\n - Programming language: Java 1.8.0_281\r\n - IDE: Eclipse, Luna Service Release 2 (4.4.2)\r\n - selenium-server-standalone-3.141.59.jar\r\n - Appium: java-client-7.4.1.jar\r\n - commons-lang3-3.12.0\r\n\r\n    public class Demo {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tWindowsDriver driver = null;\r\n    \t\t\r\n    \t\tDesiredCapabilities capabilities = new DesiredCapabilities();\r\n    \t\tcapabilities.setCapability(&quot;app&quot;, &quot;&lt;path_of_exe_file&gt;&quot;);\r\n    \t\tcapabilities.setCapability(&quot;platformName&quot;,&quot;Windows&quot;);\r\n    \t\tcapabilities.setCapability(&quot;deviceName&quot;, &quot;WindowsPC&quot;);\r\n    \t\ttry {\r\n    \t\t\tdriver = new WindowsDriver(new URL(&quot;http://127.0.0.1:4723&quot;), capabilities);\r\n    \t\t} catch (MalformedURLException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} \r\n    \t}\r\n    }\r\n\r\nThe application starts with an info-splash screen and then main application is launched. However following error is displayed in the console:\r\n\r\n**Exception in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Unable to create a new remote session. Please check the server log for more details. Original error: Failed to locate opened application window with appId: &lt;path_of_exe_file&gt;, and processId: 1936 (WARNING: The server did not provide any stacktrace information)**\r\n\r\nPlease let me know, how to solve this.","title":"WinAppDriver: org.openqa.selenium.SessionNotCreatedException: Unable to create a new remote session","body":"<p>I am trying to automate tests in a desktop application developed in Delphi, using WinAppDriver.</p>\n<ul>\n<li><p>Programming language: Java 1.8.0_281</p>\n</li>\n<li><p>IDE: Eclipse, Luna Service Release 2 (4.4.2)</p>\n</li>\n<li><p>selenium-server-standalone-3.141.59.jar</p>\n</li>\n<li><p>Appium: java-client-7.4.1.jar</p>\n</li>\n<li><p>commons-lang3-3.12.0</p>\n<p>public class Demo {</p>\n<pre><code> public static void main(String[] args) {\n\n     WindowsDriver driver = null;\n\n     DesiredCapabilities capabilities = new DesiredCapabilities();\n     capabilities.setCapability(&quot;app&quot;, &quot;&lt;path_of_exe_file&gt;&quot;);\n     capabilities.setCapability(&quot;platformName&quot;,&quot;Windows&quot;);\n     capabilities.setCapability(&quot;deviceName&quot;, &quot;WindowsPC&quot;);\n     try {\n         driver = new WindowsDriver(new URL(&quot;http://127.0.0.1:4723&quot;), capabilities);\n     } catch (MalformedURLException e) {\n         e.printStackTrace();\n     } \n }\n</code></pre>\n<p>}</p>\n</li>\n</ul>\n<p>The application starts with an info-splash screen and then main application is launched. However following error is displayed in the console:</p>\n<p><strong>Exception in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Unable to create a new remote session. Please check the server log for more details. Original error: Failed to locate opened application window with appId: &lt;path_of_exe_file&gt;, and processId: 1936 (WARNING: The server did not provide any stacktrace information)</strong></p>\n<p>Please let me know, how to solve this.</p>\n"},{"tags":["java","bytecode","byte-buddy"],"comments":[{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":1,"creation_date":1643004273,"post_id":70829580,"comment_id":125215431,"body_markdown":"&quot;Do some transformations&quot; and &quot;analyze&quot; aren&#39;t very specific. Stack Overflow isn&#39;t really suited for giving tutorials, you should ask a specific question that has a definite answer. See [ask] and [mcve].","body":"&quot;Do some transformations&quot; and &quot;analyze&quot; aren&#39;t very specific. Stack Overflow isn&#39;t really suited for giving tutorials, you should ask a specific question that has a definite answer. See <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":0,"creation_date":1643004944,"post_id":70829580,"comment_id":125215556,"body_markdown":"I still don&#39;t understand what is it that you have an issue with?","body":"I still don&#39;t understand what is it that you have an issue with?"},{"owner":{"account_id":15915947,"reputation":41,"user_id":12382544,"display_name":"Makarov Alexey"},"score":0,"creation_date":1643005395,"post_id":70829580,"comment_id":125215630,"body_markdown":"I&#39;ll clarify my question now","body":"I&#39;ll clarify my question now"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1643013449,"post_id":70829580,"comment_id":125217780,"body_markdown":"I’m not sure whether ByteBuddy still makes the task easier, compared to directly using ASM for this specific task. Besides that, why are you writing constructs like `String.format(&quot;fieldName: %s&quot;, fieldName)` instead of a simple `&quot;fieldName: &quot; + fieldName`?","body":"I’m not sure whether ByteBuddy still makes the task easier, compared to directly using ASM for this specific task. Besides that, why are you writing constructs like <code>String.format(&quot;fieldName: %s&quot;, fieldName)</code> instead of a simple <code>&quot;fieldName: &quot; + fieldName</code>?"},{"owner":{"account_id":15915947,"reputation":41,"user_id":12382544,"display_name":"Makarov Alexey"},"score":0,"creation_date":1643017448,"post_id":70829580,"comment_id":125219137,"body_markdown":"This is for uniformity.","body":"This is for uniformity."}],"answers":[{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643098754,"creation_date":1643098754,"answer_id":70845401,"question_id":70829580,"body_markdown":"If you need to act based on specific byte code instructions, Byte Buddy exposes ASM for this exact purpose. The `MemberSubstitution` is rather meant for situations where you want to &quot;replace calls to method A with calls to method B&quot; or &quot;instead of reading field C, call method D&quot;. \r\n\r\nByte Buddy is stateless, ASM is stateful. In your case, you want to make a change based on a previous state and ASM is the choice for this. You can still use Byte Buddy for the Maven plugin and method matching, but use a `MethodVisitor` which you can register via a `AsmVisitorWrapper.ForDeclaredMethods`.","title":"How to collect information about bytecode instructions before &#39;getfield&#39; and &#39;putfield&#39;?","body":"<p>If you need to act based on specific byte code instructions, Byte Buddy exposes ASM for this exact purpose. The <code>MemberSubstitution</code> is rather meant for situations where you want to &quot;replace calls to method A with calls to method B&quot; or &quot;instead of reading field C, call method D&quot;.</p>\n<p>Byte Buddy is stateless, ASM is stateful. In your case, you want to make a change based on a previous state and ASM is the choice for this. You can still use Byte Buddy for the Maven plugin and method matching, but use a <code>MethodVisitor</code> which you can register via a <code>AsmVisitorWrapper.ForDeclaredMethods</code>.</p>\n"}],"owner":{"account_id":15915947,"reputation":41,"user_id":12382544,"display_name":"Makarov Alexey"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643899180,"creation_date":1643004005,"question_id":70829580,"body_markdown":"I work with the byte-buddy-maven plugin. I need to walk through constructors and method code and collect information about bytecode instruction before &#39;getfield&#39; and &#39;putfield&#39; instructions. How I can do this?\r\nI know about MemberSubstitution, but I need to call static methods of utility class with the field name.\r\nHere is my code:\r\n```\r\n/*\r\n * To change this license header, choose License Headers in Project Properties.\r\n * To change this template file, choose Tools | Templates\r\n * and open the template in the editor.\r\n */\r\npackage com.mycompany.mylib;\r\n\r\nimport java.io.IOException;\r\nimport java.lang.reflect.Method;\r\nimport net.bytebuddy.asm.MemberSubstitution;\r\nimport net.bytebuddy.build.BuildLogger;\r\nimport net.bytebuddy.build.Plugin;\r\nimport net.bytebuddy.description.ByteCodeElement;\r\nimport net.bytebuddy.description.TypeVariableSource;\r\nimport net.bytebuddy.description.method.MethodDescription;\r\nimport net.bytebuddy.description.type.TypeDescription;\r\nimport net.bytebuddy.description.type.TypeDescription.Generic.Visitor;\r\nimport net.bytebuddy.description.type.TypeList;\r\nimport net.bytebuddy.dynamic.ClassFileLocator;\r\nimport net.bytebuddy.dynamic.DynamicType;\r\nimport net.bytebuddy.implementation.bytecode.StackManipulation;\r\nimport net.bytebuddy.implementation.bytecode.constant.JavaConstantValue;\r\nimport net.bytebuddy.implementation.bytecode.member.MethodInvocation;\r\nimport net.bytebuddy.matcher.ElementMatchers;\r\nimport net.bytebuddy.pool.TypePool;\r\nimport net.bytebuddy.utility.JavaConstant;\r\n\r\n/**\r\n *\r\n * @author makarov\r\n */\r\npublic class ByteBuddyPlugin implements Plugin {\r\n\r\n    private final BuildLogger logger;\r\n\r\n    public ByteBuddyPlugin(BuildLogger logger) {\r\n        this.logger = logger;\r\n    }\r\n\r\n    @Override\r\n    public boolean matches(TypeDescription target) {\r\n        return target.getDeclaredAnnotations()\r\n                .isAnnotationPresent(Entity.class);\r\n    }\r\n\r\n    @Override\r\n    public DynamicType.Builder&lt;?&gt; apply(DynamicType.Builder&lt;?&gt; builder, TypeDescription typeDescription, ClassFileLocator classFileLocator) {\r\n        try {\r\n            Method setValueMethod = ObjectDB.class.getMethod(&quot;setValue&quot;, Object.class, String.class, Object.class); // args, first - value from aload_0, second - field name, third - value (in byte byte some instruction)\r\n            Method getValueMethod = ObjectDB.class.getMethod(&quot;getValue&quot;, Object.class, String.class); // args: 1 - value from aload_0, 2 - field name\r\n            \r\n            logger.info(String.format(&quot;applying for %s&quot;, typeDescription.getSimpleName()));\r\n            return builder.visit(\r\n                    MemberSubstitution.strict()\r\n                            .field(ElementMatchers.declaresAnnotation(ElementMatchers.annotationType(Field.class)))\r\n                            .onWrite()\r\n                            .replaceWith(new MemberSubstitution.Substitution.Factory() {\r\n                                \r\n                                @Override\r\n                                public MemberSubstitution.Substitution make(TypeDescription instrumentedType, MethodDescription instrumentedMethod, TypePool typePool) {\r\n                                    logger.info(String.format(&quot;substitution writer in method %s&quot;, instrumentedMethod));\r\n                                    \r\n                                    return new MemberSubstitution.Substitution() {\r\n                                        \r\n                                        @Override\r\n                                        public StackManipulation resolve(TypeDescription targetType, ByteCodeElement target, TypeList.Generic parameters, TypeDescription.Generic result, int freeOffset) {\r\n                                            logger.info(String.format(&quot;resolve targetType %s, target %s, parameters %s, result %s, freeOffset %s&quot;, targetType, target, parameters, result, freeOffset));\r\n                                            \r\n                                            String fieldName = target.getDeclaredAnnotations()\r\n                                                    .ofType(Field.class)\r\n                                                    .load()\r\n                                                    .value();\r\n                                            \r\n                                            logger.info(String.format(&quot;fieldName: %s&quot;, fieldName));\r\n                                            \r\n                                            // Here is my question... I need to get existing instruction that pushes assigning value to stack for &#39;putfield&#39; (third argument of &#39;setValueMethod&#39;)\r\n\r\n                                            return new StackManipulation.Compound(\r\n                                                    new JavaConstantValue(JavaConstant.Simple.ofLoaded(fieldName)),\r\n                                                    ... //  existing instruction,\r\n                                                    MethodInvocation.invoke(new MethodDescription.ForLoadedMethod(setValueMethod))\r\n                                            );\r\n                                        }\r\n                                    };\r\n                                }\r\n                            }).on(ElementMatchers.any())\r\n            );\r\n        } catch (NoSuchMethodException ex) {\r\n            throw new RuntimeException(ex);\r\n        } catch (SecurityException ex) {\r\n            throw new RuntimeException(ex);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void close() throws IOException {\r\n        logger.info(String.format(&quot;closing&quot;));\r\n        /* do nothing */\r\n    }\r\n}\r\n```","title":"How to collect information about bytecode instructions before &#39;getfield&#39; and &#39;putfield&#39;?","body":"<p>I work with the byte-buddy-maven plugin. I need to walk through constructors and method code and collect information about bytecode instruction before 'getfield' and 'putfield' instructions. How I can do this?\nI know about MemberSubstitution, but I need to call static methods of utility class with the field name.\nHere is my code:</p>\n<pre><code>/*\n * To change this license header, choose License Headers in Project Properties.\n * To change this template file, choose Tools | Templates\n * and open the template in the editor.\n */\npackage com.mycompany.mylib;\n\nimport java.io.IOException;\nimport java.lang.reflect.Method;\nimport net.bytebuddy.asm.MemberSubstitution;\nimport net.bytebuddy.build.BuildLogger;\nimport net.bytebuddy.build.Plugin;\nimport net.bytebuddy.description.ByteCodeElement;\nimport net.bytebuddy.description.TypeVariableSource;\nimport net.bytebuddy.description.method.MethodDescription;\nimport net.bytebuddy.description.type.TypeDescription;\nimport net.bytebuddy.description.type.TypeDescription.Generic.Visitor;\nimport net.bytebuddy.description.type.TypeList;\nimport net.bytebuddy.dynamic.ClassFileLocator;\nimport net.bytebuddy.dynamic.DynamicType;\nimport net.bytebuddy.implementation.bytecode.StackManipulation;\nimport net.bytebuddy.implementation.bytecode.constant.JavaConstantValue;\nimport net.bytebuddy.implementation.bytecode.member.MethodInvocation;\nimport net.bytebuddy.matcher.ElementMatchers;\nimport net.bytebuddy.pool.TypePool;\nimport net.bytebuddy.utility.JavaConstant;\n\n/**\n *\n * @author makarov\n */\npublic class ByteBuddyPlugin implements Plugin {\n\n    private final BuildLogger logger;\n\n    public ByteBuddyPlugin(BuildLogger logger) {\n        this.logger = logger;\n    }\n\n    @Override\n    public boolean matches(TypeDescription target) {\n        return target.getDeclaredAnnotations()\n                .isAnnotationPresent(Entity.class);\n    }\n\n    @Override\n    public DynamicType.Builder&lt;?&gt; apply(DynamicType.Builder&lt;?&gt; builder, TypeDescription typeDescription, ClassFileLocator classFileLocator) {\n        try {\n            Method setValueMethod = ObjectDB.class.getMethod(&quot;setValue&quot;, Object.class, String.class, Object.class); // args, first - value from aload_0, second - field name, third - value (in byte byte some instruction)\n            Method getValueMethod = ObjectDB.class.getMethod(&quot;getValue&quot;, Object.class, String.class); // args: 1 - value from aload_0, 2 - field name\n            \n            logger.info(String.format(&quot;applying for %s&quot;, typeDescription.getSimpleName()));\n            return builder.visit(\n                    MemberSubstitution.strict()\n                            .field(ElementMatchers.declaresAnnotation(ElementMatchers.annotationType(Field.class)))\n                            .onWrite()\n                            .replaceWith(new MemberSubstitution.Substitution.Factory() {\n                                \n                                @Override\n                                public MemberSubstitution.Substitution make(TypeDescription instrumentedType, MethodDescription instrumentedMethod, TypePool typePool) {\n                                    logger.info(String.format(&quot;substitution writer in method %s&quot;, instrumentedMethod));\n                                    \n                                    return new MemberSubstitution.Substitution() {\n                                        \n                                        @Override\n                                        public StackManipulation resolve(TypeDescription targetType, ByteCodeElement target, TypeList.Generic parameters, TypeDescription.Generic result, int freeOffset) {\n                                            logger.info(String.format(&quot;resolve targetType %s, target %s, parameters %s, result %s, freeOffset %s&quot;, targetType, target, parameters, result, freeOffset));\n                                            \n                                            String fieldName = target.getDeclaredAnnotations()\n                                                    .ofType(Field.class)\n                                                    .load()\n                                                    .value();\n                                            \n                                            logger.info(String.format(&quot;fieldName: %s&quot;, fieldName));\n                                            \n                                            // Here is my question... I need to get existing instruction that pushes assigning value to stack for 'putfield' (third argument of 'setValueMethod')\n\n                                            return new StackManipulation.Compound(\n                                                    new JavaConstantValue(JavaConstant.Simple.ofLoaded(fieldName)),\n                                                    ... //  existing instruction,\n                                                    MethodInvocation.invoke(new MethodDescription.ForLoadedMethod(setValueMethod))\n                                            );\n                                        }\n                                    };\n                                }\n                            }).on(ElementMatchers.any())\n            );\n        } catch (NoSuchMethodException ex) {\n            throw new RuntimeException(ex);\n        } catch (SecurityException ex) {\n            throw new RuntimeException(ex);\n        }\n    }\n\n    @Override\n    public void close() throws IOException {\n        logger.info(String.format(&quot;closing&quot;));\n        /* do nothing */\n    }\n}\n</code></pre>\n"},{"tags":["java","android","react-native","kotlin"],"comments":[{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":0,"creation_date":1643903210,"post_id":70971753,"comment_id":125467783,"body_markdown":"Post the full stacktrace, not just the first line - some function is being called with a parameter that&#39;s not allowed to be null, but we need the rest of the trace to actually tell what it is","body":"Post the full stacktrace, not just the first line - some function is being called with a parameter that&#39;s not allowed to be null, but we need the rest of the trace to actually tell what it is"}],"owner":{"account_id":22680902,"reputation":168,"user_id":16851274,"display_name":"Jake Giles-Phillips"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":744,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1643898622,"creation_date":1643893199,"question_id":70971753,"body_markdown":"When requesting location from the user, if approximate location is selected rather than exact location, the app crashes unexpectedly.\r\n\r\nLogcat gives the error simply &quot;permission is null&quot;.\r\n\r\nIn my manifest I am stating\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n``` \r\n\r\nand in my request I am simultaneously requesting both fine and course, as specified in [googles guide here][1]\r\n```\r\nconst getPermission = await PermissionsAndroid.requestMultiple([\r\n  PermissionsAndroid.PERMISSIONS.ACCESS_FINE_LOCATION,\r\n  PermissionsAndroid.PERMISSIONS.ACCESS_COARSE_LOCATION,\r\n]);\r\n```\r\n\r\nAt this point, the app will crash, and only through logcat can I see the error\r\n```\r\n02-03 12:21:46.736 15320 15395 E AndroidRuntime: java.lang.IllegalArgumentException: permission is null\r\n```\r\n\r\n\r\n  [1]: https://developer.android.com/training/location/permissions#approximate-request","title":"Android 12 app crashes when users grants approximate location permission","body":"<p>When requesting location from the user, if approximate location is selected rather than exact location, the app crashes unexpectedly.</p>\n<p>Logcat gives the error simply &quot;permission is null&quot;.</p>\n<p>In my manifest I am stating</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n</code></pre>\n<p>and in my request I am simultaneously requesting both fine and course, as specified in <a href=\"https://developer.android.com/training/location/permissions#approximate-request\" rel=\"nofollow noreferrer\">googles guide here</a></p>\n<pre><code>const getPermission = await PermissionsAndroid.requestMultiple([\n  PermissionsAndroid.PERMISSIONS.ACCESS_FINE_LOCATION,\n  PermissionsAndroid.PERMISSIONS.ACCESS_COARSE_LOCATION,\n]);\n</code></pre>\n<p>At this point, the app will crash, and only through logcat can I see the error</p>\n<pre><code>02-03 12:21:46.736 15320 15395 E AndroidRuntime: java.lang.IllegalArgumentException: permission is null\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8368,"page":1624,"page_size":100}
